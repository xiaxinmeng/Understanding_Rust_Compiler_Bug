{"sha": "d530b07f81e389fde99a626460ea3b33a34b9a83", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDUzMGIwN2Y4MWUzODlmZGU5OWE2MjY0NjBlYTNiMzNhMzRiOWE4Mw==", "commit": {"author": {"name": "Vladimir Makarov", "email": "vmakarov@redhat.com", "date": "2003-01-20T22:49:33Z"}, "committer": {"name": "Vladimir Makarov", "email": "vmakarov@gcc.gnu.org", "date": "2003-01-20T22:49:33Z"}, "message": "genattrtab.h (INSN_ALTS_FUNC_NAME): Move it from genautomata.c.\n\n2003-01-20  Vladimir Makarov  <vmakarov@redhat.com>\n\n        * genattrtab.h (INSN_ALTS_FUNC_NAME): Move it from genautomata.c.\n\n\t* genautomata.c (INSN_ALTS_FUNC_NAME): Move it into genattrtab.h.\n\n\t* genattr.c (main): Output default definition of AUTOMATON_ALTS.\n\tWrap up definition `insn_alts'.\n\n\t* genattrtab.c (main): Wrap up `insn_alts'.\n\nFrom-SVN: r61513", "tree": {"sha": "b8f0db7c6102956eac7f0555ee5da12ff3a431d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8f0db7c6102956eac7f0555ee5da12ff3a431d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d530b07f81e389fde99a626460ea3b33a34b9a83", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d530b07f81e389fde99a626460ea3b33a34b9a83", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d530b07f81e389fde99a626460ea3b33a34b9a83", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d530b07f81e389fde99a626460ea3b33a34b9a83/comments", "author": {"login": "vnmakarov", "id": 9855671, "node_id": "MDQ6VXNlcjk4NTU2NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/9855671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vnmakarov", "html_url": "https://github.com/vnmakarov", "followers_url": "https://api.github.com/users/vnmakarov/followers", "following_url": "https://api.github.com/users/vnmakarov/following{/other_user}", "gists_url": "https://api.github.com/users/vnmakarov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vnmakarov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vnmakarov/subscriptions", "organizations_url": "https://api.github.com/users/vnmakarov/orgs", "repos_url": "https://api.github.com/users/vnmakarov/repos", "events_url": "https://api.github.com/users/vnmakarov/events{/privacy}", "received_events_url": "https://api.github.com/users/vnmakarov/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "351df80413984221416167a2e0c6e28732bffb4d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/351df80413984221416167a2e0c6e28732bffb4d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/351df80413984221416167a2e0c6e28732bffb4d"}], "stats": {"total": 37, "additions": 32, "deletions": 5}, "files": [{"sha": "2bada01e48f85f90c366b080874b969304ad9001", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d530b07f81e389fde99a626460ea3b33a34b9a83/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d530b07f81e389fde99a626460ea3b33a34b9a83/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d530b07f81e389fde99a626460ea3b33a34b9a83", "patch": "@@ -1,3 +1,14 @@\n+2003-01-20  Vladimir Makarov  <vmakarov@redhat.com>\n+\n+        * genattrtab.h (INSN_ALTS_FUNC_NAME): Move it from genautomata.c.\n+\t\n+\t* genautomata.c (INSN_ALTS_FUNC_NAME): Move it into genattrtab.h.\n+\n+\t* genattr.c (main): Output default definition of AUTOMATON_ALTS.\n+\tWrap up definition of `insn_alts'.\n+\n+\t* genattrtab.c (main): Wrap up `insn_alts'.\n+\n 2003-01-20  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* collect2.c (ldgetname): Check HAVE_DECL_LDGETNAME before"}, {"sha": "9f512a7ce9f9ccbb24a82986e7b1c08099a61f85", "filename": "gcc/genattr.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d530b07f81e389fde99a626460ea3b33a34b9a83/gcc%2Fgenattr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d530b07f81e389fde99a626460ea3b33a34b9a83/gcc%2Fgenattr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenattr.c?ref=d530b07f81e389fde99a626460ea3b33a34b9a83", "patch": "@@ -361,6 +361,9 @@ main (argc, argv)\n       /* Output interface for pipeline hazards recognition based on\n \t DFA (deterministic finite state automata.  */\n       printf (\"\\n/* DFA based pipeline interface.  */\");\n+      printf (\"\\n#ifndef AUTOMATON_ALTS\\n\");\n+      printf (\"#define AUTOMATON_ALTS 0\\n\");\n+      printf (\"#endif\\n\\n\");\n       printf (\"\\n#ifndef AUTOMATON_STATE_ALTS\\n\");\n       printf (\"#define AUTOMATON_STATE_ALTS 0\\n\");\n       printf (\"#endif\\n\\n\");\n@@ -384,10 +387,12 @@ main (argc, argv)\n       printf (\"   Use the function if bypass_p returns nonzero for\\n\");\n       printf (\"   the 1st insn. */\\n\");\n       printf (\"extern int insn_latency PARAMS ((rtx, rtx));\\n\\n\");\n+      printf (\"\\n#if AUTOMATON_ALTS\\n\");\n       printf (\"/* The following function returns number of alternative\\n\");\n       printf (\"   reservations of given insn.  It may be used for better\\n\");\n       printf (\"   insns scheduling heuristics. */\\n\");\n       printf (\"extern int insn_alts PARAMS ((rtx));\\n\\n\");\n+      printf (\"#endif\\n\\n\");\n       printf (\"/* Maximal possible number of insns waiting results being\\n\");\n       printf (\"   produced by insns whose execution is not finished. */\\n\");\n       printf (\"extern int max_insn_queue_index;\\n\\n\");"}, {"sha": "d07618877d2ecef90eec4f05bb6296994ad15b2a", "filename": "gcc/genattrtab.c", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d530b07f81e389fde99a626460ea3b33a34b9a83/gcc%2Fgenattrtab.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d530b07f81e389fde99a626460ea3b33a34b9a83/gcc%2Fgenattrtab.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenattrtab.c?ref=d530b07f81e389fde99a626460ea3b33a34b9a83", "patch": "@@ -6237,7 +6237,18 @@ from the machine description file `md'.  */\\n\\n\");\n     for (attr = attrs[i]; attr; attr = attr->next)\n       {\n \tif (! attr->is_special && ! attr->is_const)\n-\t  write_attr_get (attr);\n+\t  {\n+\t    int insn_alts_p;\n+\n+\t    insn_alts_p\n+\t      = (attr->name [0] == '*'\n+\t\t && strcmp (&attr->name [1], INSN_ALTS_FUNC_NAME) == 0);\n+\t    if (insn_alts_p)\n+\t      printf (\"\\n#if AUTOMATON_ALTS\\n\");\n+\t    write_attr_get (attr);\n+\t    if (insn_alts_p)\n+\t      printf (\"#endif\\n\\n\");\n+\t  }\n       }\n \n   /* Write out delay eligibility information, if DEFINE_DELAY present."}, {"sha": "c64ae64fe175c3c2b97e04bb6cb524128ada41dc", "filename": "gcc/genattrtab.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d530b07f81e389fde99a626460ea3b33a34b9a83/gcc%2Fgenattrtab.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d530b07f81e389fde99a626460ea3b33a34b9a83/gcc%2Fgenattrtab.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenattrtab.h?ref=d530b07f81e389fde99a626460ea3b33a34b9a83", "patch": "@@ -18,6 +18,10 @@ along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA.  */\n \n+/* Name of function (attribute) to translate insn into number of insn\n+   alternatives reservation.  */\n+#define INSN_ALTS_FUNC_NAME \"insn_alts\"\n+\n /* Defined in genattrtab.c: */\n extern rtx check_attr_test\tPARAMS ((rtx, int, int));\n extern rtx make_numeric_value\tPARAMS ((int));"}, {"sha": "384405834a349096605c367bf2158c8192249b2b", "filename": "gcc/genautomata.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d530b07f81e389fde99a626460ea3b33a34b9a83/gcc%2Fgenautomata.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d530b07f81e389fde99a626460ea3b33a34b9a83/gcc%2Fgenautomata.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenautomata.c?ref=d530b07f81e389fde99a626460ea3b33a34b9a83", "patch": "@@ -7577,10 +7577,6 @@ output_reserved_units_table_name (f, automaton)\n /* Name of result variable in some functions.  */\n #define RESULT_VARIABLE_NAME \"res\"\n \n-/* Name of function (attribute) to translate insn into number of insn\n-   alternatives reservation.  */\n-#define INSN_ALTS_FUNC_NAME \"insn_alts\"\n-\n /* Name of function (attribute) to translate insn into internal insn\n    code.  */\n #define INTERNAL_DFA_INSN_CODE_FUNC_NAME \"internal_dfa_insn_code\""}]}