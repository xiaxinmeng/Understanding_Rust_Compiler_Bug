{"sha": "4b62b3960ec405c6ed226a7763e0905c434cb2bb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGI2MmIzOTYwZWM0MDVjNmVkMjI2YTc3NjNlMDkwNWM0MzRjYjJiYg==", "commit": {"author": {"name": "Claudiu Zissulescu", "email": "claziss@gmail.com", "date": "2020-03-06T14:36:23Z"}, "committer": {"name": "Claudiu Zissulescu", "email": "claziss@gmail.com", "date": "2020-03-06T14:40:15Z"}, "message": "arc: Update tumaddsidi4 test.\n\nThe test is using -O1 and, the macu instruction is generated by the\ncombiner and not in the expand step. My previous \"arc: Improve code\ngen for 64bit add/sub operations.\" is actually splitting the 64-bit\nadd in the expand, leading to the impossibility to match the multiply\nand accumulate on 64 bit datum by the combiner, hence, the error. This\npatch is stepping up the optimization level which will generate the\nmacu instruction at the expand time.\n\nxxxx-xx-xx  Claudiu Zissulescu  <claziss@synopsys.com>\n\n\t* gcc.target/arc/tumaddsidi4.c: Step-up optimization level.\n\nSigned-off-by: Claudiu Zissulescu <claziss@gmail.com>", "tree": {"sha": "00ed603b3baf1bf48595669c854f5f626f6e9104", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/00ed603b3baf1bf48595669c854f5f626f6e9104"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4b62b3960ec405c6ed226a7763e0905c434cb2bb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b62b3960ec405c6ed226a7763e0905c434cb2bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4b62b3960ec405c6ed226a7763e0905c434cb2bb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b62b3960ec405c6ed226a7763e0905c434cb2bb/comments", "author": {"login": "claziss", "id": 2761368, "node_id": "MDQ6VXNlcjI3NjEzNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/2761368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/claziss", "html_url": "https://github.com/claziss", "followers_url": "https://api.github.com/users/claziss/followers", "following_url": "https://api.github.com/users/claziss/following{/other_user}", "gists_url": "https://api.github.com/users/claziss/gists{/gist_id}", "starred_url": "https://api.github.com/users/claziss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/claziss/subscriptions", "organizations_url": "https://api.github.com/users/claziss/orgs", "repos_url": "https://api.github.com/users/claziss/repos", "events_url": "https://api.github.com/users/claziss/events{/privacy}", "received_events_url": "https://api.github.com/users/claziss/received_events", "type": "User", "site_admin": false}, "committer": {"login": "claziss", "id": 2761368, "node_id": "MDQ6VXNlcjI3NjEzNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/2761368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/claziss", "html_url": "https://github.com/claziss", "followers_url": "https://api.github.com/users/claziss/followers", "following_url": "https://api.github.com/users/claziss/following{/other_user}", "gists_url": "https://api.github.com/users/claziss/gists{/gist_id}", "starred_url": "https://api.github.com/users/claziss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/claziss/subscriptions", "organizations_url": "https://api.github.com/users/claziss/orgs", "repos_url": "https://api.github.com/users/claziss/repos", "events_url": "https://api.github.com/users/claziss/events{/privacy}", "received_events_url": "https://api.github.com/users/claziss/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6aa2ca21a442a775b7daf214b8c10fce8522ccda", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6aa2ca21a442a775b7daf214b8c10fce8522ccda", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6aa2ca21a442a775b7daf214b8c10fce8522ccda"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "ea9bc42ff75f9b655d424bdbc5843cc0cbeba902", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b62b3960ec405c6ed226a7763e0905c434cb2bb/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b62b3960ec405c6ed226a7763e0905c434cb2bb/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4b62b3960ec405c6ed226a7763e0905c434cb2bb", "patch": "@@ -1,3 +1,7 @@\n+2020-03-06  Claudiu Zissulescu  <claziss@synopsys.com>\n+\n+\t* gcc.target/arc/tumaddsidi4.c: Step-up optimization level.\n+\n 2020-03-06  Delia Burduv  <delia.burduv@arm.com>\n \n \t* gcc.target/arm/simd/bf16_vldn_1.c: New test."}, {"sha": "0298a2456f5ae4febae1d76951365366731c1032", "filename": "gcc/testsuite/gcc.target/arc/tumaddsidi4.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b62b3960ec405c6ed226a7763e0905c434cb2bb/gcc%2Ftestsuite%2Fgcc.target%2Farc%2Ftumaddsidi4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b62b3960ec405c6ed226a7763e0905c434cb2bb/gcc%2Ftestsuite%2Fgcc.target%2Farc%2Ftumaddsidi4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farc%2Ftumaddsidi4.c?ref=4b62b3960ec405c6ed226a7763e0905c434cb2bb", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-mcpu=archs -O1 -mmpy-option=plus_dmpy -w\" } */\n+/* { dg-options \"-mcpu=archs -O2 -mmpy-option=plus_dmpy -w\" } */\n \n /* Check how we generate umaddsidi4 patterns.  */\n long a;\n@@ -11,4 +11,4 @@ void fn1(void)\n   b = d * (long long)c + a;\n }\n \n-/* { dg-final { scan-assembler \"macu 0,r\" } } */\n+/* { dg-final { scan-assembler \"macu\" } } */"}]}