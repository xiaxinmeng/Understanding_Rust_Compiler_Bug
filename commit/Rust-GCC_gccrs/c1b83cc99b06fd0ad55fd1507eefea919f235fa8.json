{"sha": "c1b83cc99b06fd0ad55fd1507eefea919f235fa8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzFiODNjYzk5YjA2ZmQwYWQ1NWZkMTUwN2VlZmVhOTE5ZjIzNWZhOA==", "commit": {"author": {"name": "Kriang Lerdsuwanakij", "email": "lerdsuwa@users.sourceforge.net", "date": "2003-12-14T11:06:35Z"}, "committer": {"name": "Kriang Lerdsuwanakij", "email": "lerdsuwa@gcc.gnu.org", "date": "2003-12-14T11:06:35Z"}, "message": "re PR c++/13106 (Wrong warning \"no return statement ...\" for void template function)\n\n\tPR c++/13106\n\t* decl.c (finish_function): Check if return type is dependent before\n\tissuing no return statement warning.\n\n\t* g++.dg/warn/noreturn-3.C: New test.\n\nFrom-SVN: r74616", "tree": {"sha": "a916eaf5a36caa97b23dd27e7a70833cf1b80d6e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a916eaf5a36caa97b23dd27e7a70833cf1b80d6e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c1b83cc99b06fd0ad55fd1507eefea919f235fa8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1b83cc99b06fd0ad55fd1507eefea919f235fa8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1b83cc99b06fd0ad55fd1507eefea919f235fa8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1b83cc99b06fd0ad55fd1507eefea919f235fa8/comments", "author": null, "committer": null, "parents": [{"sha": "d8f95bed5f93bfcf5917cebf399debfcc7d2fda8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8f95bed5f93bfcf5917cebf399debfcc7d2fda8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8f95bed5f93bfcf5917cebf399debfcc7d2fda8"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "31d16d293f0377647115ba0d7903ff4507268fb2", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1b83cc99b06fd0ad55fd1507eefea919f235fa8/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1b83cc99b06fd0ad55fd1507eefea919f235fa8/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c1b83cc99b06fd0ad55fd1507eefea919f235fa8", "patch": "@@ -1,3 +1,9 @@\n+2003-12-14  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n+\n+\tPR c++/13106\n+\t* decl.c (finish_function): Check if return type is dependent before\n+\tissuing no return statement warning.\n+\n 2003-12-12  Nathan Sidwell  <nathan@codesourcery.com>\n \n \tPR c++/13118"}, {"sha": "539bf19f6401e3e347a76f2114b845f6ec5a1679", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1b83cc99b06fd0ad55fd1507eefea919f235fa8/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1b83cc99b06fd0ad55fd1507eefea919f235fa8/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=c1b83cc99b06fd0ad55fd1507eefea919f235fa8", "patch": "@@ -10819,6 +10819,7 @@ finish_function (int flags)\n   /* Complain if there's just no return statement.  */\n   if (warn_return_type\n       && TREE_CODE (TREE_TYPE (fntype)) != VOID_TYPE\n+      && !dependent_type_p (TREE_TYPE (fntype))\n       && !current_function_returns_value && !current_function_returns_null\n       /* Don't complain if we abort or throw.  */\n       && !current_function_returns_abnormally"}, {"sha": "cb89b4f1a8a7b14278ed2d7a06af0b0d3c445b87", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1b83cc99b06fd0ad55fd1507eefea919f235fa8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1b83cc99b06fd0ad55fd1507eefea919f235fa8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c1b83cc99b06fd0ad55fd1507eefea919f235fa8", "patch": "@@ -1,3 +1,8 @@\n+2003-12-14  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n+\n+\tPR c++/13106\n+\t* g++.dg/warn/noreturn-3.C: New test.\n+\n 2003-12-12  Nathan Sidwell  <nathan@codesourcery.com>\n \n \tPR c++/13118"}, {"sha": "66801458df1431842c5c60b5e5b197c4601d9698", "filename": "gcc/testsuite/g++.dg/warn/noreturn-3.C", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1b83cc99b06fd0ad55fd1507eefea919f235fa8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fnoreturn-3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1b83cc99b06fd0ad55fd1507eefea919f235fa8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fnoreturn-3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fnoreturn-3.C?ref=c1b83cc99b06fd0ad55fd1507eefea919f235fa8", "patch": "@@ -0,0 +1,9 @@\n+// { dg-do compile }\n+// { dg-options \"-Wall\" }\n+\n+// Origin: stip@mathematik.uni-ulm.de\n+//\t   Andrew Pinski <pinskia@gcc.gnu.org>\n+\n+// PR c++/13106: No return warning when return type is a dependent type.\n+\n+template <typename T> T dummy() { }"}]}