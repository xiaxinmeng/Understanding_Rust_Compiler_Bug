{"sha": "5973c7435193750d1ebbeb5753a0b0d480f95fc8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTk3M2M3NDM1MTkzNzUwZDFlYmJlYjU3NTNhMGIwZDQ4MGY5NWZjOA==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2007-08-31T09:44:54Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2007-08-31T09:44:54Z"}, "message": "re PR c++/32113 (ICE with invalid template parameter)\n\n/cp\n2007-08-31  Paolo Carlini  <pcarlini@suse.de>\n\n\tPR c++/32113\n\t* search.c (lookup_member): Check the name argument for\n\terror_mark_node.\n\n/testsuite\n2007-08-31  Paolo Carlini  <pcarlini@suse.de>\n\n\tPR c++/32113\n\t* g++.dg/template/crash70.C: New.\n\nFrom-SVN: r127963", "tree": {"sha": "218882e3b28daa70e66a89ef313bf728aa437c9e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/218882e3b28daa70e66a89ef313bf728aa437c9e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5973c7435193750d1ebbeb5753a0b0d480f95fc8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5973c7435193750d1ebbeb5753a0b0d480f95fc8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5973c7435193750d1ebbeb5753a0b0d480f95fc8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5973c7435193750d1ebbeb5753a0b0d480f95fc8/comments", "author": null, "committer": null, "parents": [{"sha": "a53bf42c31fe143b6f3079154a772ea1c8b921b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a53bf42c31fe143b6f3079154a772ea1c8b921b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a53bf42c31fe143b6f3079154a772ea1c8b921b0"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "eb814766436815f339fafb36f3b8b58d47df79c7", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5973c7435193750d1ebbeb5753a0b0d480f95fc8/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5973c7435193750d1ebbeb5753a0b0d480f95fc8/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=5973c7435193750d1ebbeb5753a0b0d480f95fc8", "patch": "@@ -1,3 +1,9 @@\n+2007-08-31  Paolo Carlini  <pcarlini@suse.de>\n+\n+\tPR c++/32113\n+\t* search.c (lookup_member): Check the name argument for\n+\terror_mark_node.\n+\n 2007-08-31  Paolo Carlini  <pcarlini@suse.de>\n \n \tPR c++/33212"}, {"sha": "4371eb4358ed6cfa4de8f6d72a4bc5dea4f0a5e3", "filename": "gcc/cp/search.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5973c7435193750d1ebbeb5753a0b0d480f95fc8/gcc%2Fcp%2Fsearch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5973c7435193750d1ebbeb5753a0b0d480f95fc8/gcc%2Fcp%2Fsearch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsearch.c?ref=5973c7435193750d1ebbeb5753a0b0d480f95fc8", "patch": "@@ -1199,6 +1199,9 @@ lookup_member (tree xbasetype, tree name, int protect, bool want_type)\n \n   const char *errstr = 0;\n \n+  if (name == error_mark_node)\n+    return NULL_TREE;\n+\n   gcc_assert (TREE_CODE (name) == IDENTIFIER_NODE);\n \n   if (TREE_CODE (xbasetype) == TREE_BINFO)"}, {"sha": "134ea79cc4a40883cd4777bcce7e68218e097496", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5973c7435193750d1ebbeb5753a0b0d480f95fc8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5973c7435193750d1ebbeb5753a0b0d480f95fc8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5973c7435193750d1ebbeb5753a0b0d480f95fc8", "patch": "@@ -1,3 +1,8 @@\n+2007-08-31  Paolo Carlini  <pcarlini@suse.de>\n+\n+\tPR c++/32113\n+\t* g++.dg/template/crash70.C: New.\n+\n 2007-08-31  Paolo Carlini  <pcarlini@suse.de>\n \n \tPR c++/33212"}, {"sha": "742f77b222522385f8cb4bd76fa97fac32e58036", "filename": "gcc/testsuite/g++.dg/template/crash70.C", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5973c7435193750d1ebbeb5753a0b0d480f95fc8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash70.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5973c7435193750d1ebbeb5753a0b0d480f95fc8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash70.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash70.C?ref=5973c7435193750d1ebbeb5753a0b0d480f95fc8", "patch": "@@ -0,0 +1,7 @@\n+// PR c++/32113\n+\n+template<int> struct A;\n+\n+template<typename T> void foo (A<&T::template i>); // { dg-error \"not a template\" }\n+\n+template void foo<A<0> > (A<0>); // { dg-error \"does not match\" }"}]}