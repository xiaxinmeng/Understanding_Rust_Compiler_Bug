{"sha": "e1b60626151424a379e33339e9531a66adcc3af8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTFiNjA2MjYxNTE0MjRhMzc5ZTMzMzM5ZTk1MzFhNjZhZGNjM2FmOA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2013-11-27T23:41:56Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2013-11-27T23:41:56Z"}, "message": "re PR middle-end/57393 (error: definition in block 4 follows the use / internal compiler error: verify_ssa failed)\n\n\tPR middle-end/57393\n\tPR tree-optimization/58018\n\tPR tree-optimization/58131\n\t* gcc.dg/torture/pr57393-1.c: New test.\n\t* gcc.dg/torture/pr57393-2.c: New test.\n\t* gcc.dg/torture/pr57393-3.c: New test.\n\t* gcc.dg/torture/pr58018.c: New test.\n\t* gcc.dg/torture/pr58131.c: New test.\n\t* gfortran.dg/pr57393-1.f90: New test.\n\t* gfortran.dg/pr57393-2.f90: New test.\n\nFrom-SVN: r205466", "tree": {"sha": "89eebf346920c4e4b999059de1075134a1329684", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/89eebf346920c4e4b999059de1075134a1329684"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e1b60626151424a379e33339e9531a66adcc3af8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1b60626151424a379e33339e9531a66adcc3af8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1b60626151424a379e33339e9531a66adcc3af8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1b60626151424a379e33339e9531a66adcc3af8/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "64ae6dd6bac1b8ff397576488200013ee4fb7956", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64ae6dd6bac1b8ff397576488200013ee4fb7956", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64ae6dd6bac1b8ff397576488200013ee4fb7956"}], "stats": {"total": 156, "additions": 156, "deletions": 0}, "files": [{"sha": "4cb559c63f9a117a66bbeaf0592306831c87db98", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e1b60626151424a379e33339e9531a66adcc3af8", "patch": "@@ -1,3 +1,16 @@\n+2013-11-28  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR middle-end/57393\n+\tPR tree-optimization/58018\n+\tPR tree-optimization/58131\n+\t* gcc.dg/torture/pr57393-1.c: New test.\n+\t* gcc.dg/torture/pr57393-2.c: New test.\n+\t* gcc.dg/torture/pr57393-3.c: New test.\n+\t* gcc.dg/torture/pr58018.c: New test.\n+\t* gcc.dg/torture/pr58131.c: New test.\n+\t* gfortran.dg/pr57393-1.f90: New test.\n+\t* gfortran.dg/pr57393-2.f90: New test.\n+\n 2013-11-27  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n \n \t* gfortran.dg/nan_7.f90: Disable for little endian PowerPC."}, {"sha": "e62d44df4849b0c10f033ac25c5f6bc9806b5f11", "filename": "gcc/testsuite/gcc.dg/torture/pr57393-1.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr57393-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr57393-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr57393-1.c?ref=e1b60626151424a379e33339e9531a66adcc3af8", "patch": "@@ -0,0 +1,15 @@\n+/* PR middle-end/57393 */\n+/* { dg-do compile } */\n+/* { dg-additional-options \"-g -ffast-math\" } */\n+\n+extern void bar (double);\n+\n+struct S { int n; };\n+  \n+void\n+foo (struct S s, double a, int i, int j, int k)\n+{\n+  struct S t;\n+  bar (s.n * a * i * j);\n+  t.n = s.n * a * i * k;\n+}"}, {"sha": "b9b12ffa5574b7a3afe552b85dbb2a300495320e", "filename": "gcc/testsuite/gcc.dg/torture/pr57393-2.c", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr57393-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr57393-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr57393-2.c?ref=e1b60626151424a379e33339e9531a66adcc3af8", "patch": "@@ -0,0 +1,16 @@\n+/* PR middle-end/57393 */\n+/* { dg-do compile } */\n+\n+char a;\n+\n+foo (int **p)\n+{\n+  int b;\n+  for (;;)\n+    {\n+      int c[1] = { 0 };\n+      unsigned *d = &c[0];\n+      for (b = 7; b; b--)\n+\t**p &= --*d >= a;\n+    }\n+}"}, {"sha": "34cece06cbd3e7498f7efe9117bdaa72f8a05850", "filename": "gcc/testsuite/gcc.dg/torture/pr57393-3.c", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr57393-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr57393-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr57393-3.c?ref=e1b60626151424a379e33339e9531a66adcc3af8", "patch": "@@ -0,0 +1,20 @@\n+/* PR middle-end/57393 */\n+/* { dg-do compile } */\n+\n+int a, b, c;\n+void foo (void);\n+\n+int\n+bar (void)\n+{\n+  for (;;)\n+    {\n+      foo ();\n+      int d = a = 0;\n+      for (; a < 7; ++a)\n+\t{\n+\t  d--;\n+\t  b &= c <= d;\n+\t}\n+    }\n+}"}, {"sha": "52c8e83fa0db112d2e53185ace544de6808ca716", "filename": "gcc/testsuite/gcc.dg/torture/pr58018.c", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr58018.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr58018.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr58018.c?ref=e1b60626151424a379e33339e9531a66adcc3af8", "patch": "@@ -0,0 +1,22 @@\n+/* PR tree-optimization/58018 */\n+/* { dg-do compile } */\n+\n+int a, b, c, d, e;\n+\n+void\n+bar (int p)\n+{\n+  int f = b;\n+  e &= p <= (f ^= 0);\n+}\n+    \n+void\n+foo ()\n+{\n+  for (; d; d++)\n+    {\n+      bar (a && c);\n+      bar (0);\n+      bar (1);\n+    }\n+}"}, {"sha": "3f68d4c5286e3aa95b460da7b777538f643aa2a6", "filename": "gcc/testsuite/gcc.dg/torture/pr58131.c", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr58131.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr58131.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr58131.c?ref=e1b60626151424a379e33339e9531a66adcc3af8", "patch": "@@ -0,0 +1,22 @@\n+/* PR tree-optimization/58131 */\n+/* { dg-do compile } */\n+\n+short a;\n+int b, c, d[1][4][2];\n+\n+void\n+foo (void)\n+{\n+  int *e;\n+  for (b = 1; ; b--)\n+    {\n+      if (*e)\n+\tbreak;\n+      for (c = 2; c >= 0; c--)\n+\t{\n+\t  *e |= d[0][3][b] != a;\n+\t  int *f = &d[0][3][b];\n+\t  *f = 0;\n+\t}\n+    }\n+}"}, {"sha": "6b2cb1b3fe663bb62865d1f95fd34c3b403c8dcd", "filename": "gcc/testsuite/gfortran.dg/pr57393-1.f90", "status": "added", "additions": 38, "deletions": 0, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr57393-1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr57393-1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr57393-1.f90?ref=e1b60626151424a379e33339e9531a66adcc3af8", "patch": "@@ -0,0 +1,38 @@\n+! PR middle-end/57393\n+! { dg-do compile }\n+! { dg-options \"-g -O2 -ffast-math\" }\n+\n+SUBROUTINE pr57393(nn,e,g,t0,t1,t2,t3,t4,t5,t6,t7,&\n+                   t8,t9,t10,t11,t12,t13,t14,t15,&\n+                   t16,t17,t18,t19,t20,t21,t22,t23,&\n+                   t24,t25,t26,t27,t28,t29,t30,&\n+                   t31,t32,t33,t34,t35,t36,t37,t38,&\n+                   t39,t40,t41,t42,t43,t44,t45,t46,t47)\n+  IMPLICIT REAL*8 (t)\n+  INTEGER, PARAMETER :: dp=8\n+  REAL(kind=dp) :: e(nn)\n+  DO ii=1,nn\n+     t48 = 0.1955555555e2_dp * t1 * t2 + &\n+           0.6000000000e1_dp * t3 * t4 * t5\n+     t49 = 0.1620000000e3_dp * t6 * t7 * t8 + &\n+           0.1080000000e3_dp * t6 * t9 * t5 - &\n+           0.6000000000e1_dp * t10 * t20 * t21 * t55 - &\n+           0.2400000000e2_dp * t10 * t11 * t12 - &\n+           0.1200000000e2_dp * t13 * t14 * t15\n+     t50 = t49 + t16\n+     t51 = (3 * t17 * t18 * t19) + &\n+           (t22 * t23 * t19) + (t50 * t19) - &\n+           0.3333333336e0_dp * t24 * t25\n+     t52 = 0.1555555556e1_dp * t26 * t27 * t12 + &\n+           (t51 + t28 + t29 + t30) *  &\n+           0.3125000000e0_dp * t31 * t32 * t33 * t34\n+     t53 = -0.1000000001e1_dp * t35 * t36 * t5 - &\n+           (t37 + t38 + t39 + t52) - &\n+           0.8333333340e-1_dp * t40 * t41 * t42\n+     t54 = -0.1000000001e1_dp * t43 * t44 * t45 - &\n+           t47 * (t46 + t53)\n+     IF (g >= 3 .OR. g == -3) THEN\n+       e(ii) = e(ii) + t54 * t0\n+     END IF\n+  END DO\n+END SUBROUTINE pr57393"}, {"sha": "fafa8f900f1c6ef1b6ffd2a84c505ef8844c5de0", "filename": "gcc/testsuite/gfortran.dg/pr57393-2.f90", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr57393-2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1b60626151424a379e33339e9531a66adcc3af8/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr57393-2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr57393-2.f90?ref=e1b60626151424a379e33339e9531a66adcc3af8", "patch": "@@ -0,0 +1,10 @@\n+! PR middle-end/57393\n+! { dg-do compile }\n+! { dg-options \"-g -O2\" }\n+\n+SUBROUTINE pr57393 ( a1, a2, a3, a4, a5, a6, a7 )\n+  COMPLEX(kind=8), DIMENSION(:), INTENT(IN) :: a1\n+  INTEGER, DIMENSION(:), INTENT(IN) :: a2, a3, a5, a6\n+  COMPLEX(kind=8), DIMENSION(:), INTENT(INOUT) :: a4\n+  a4(a6(1)+1:a6(1)+a5(1))=a1(a3(1)+1:a3(1)+a2(1))\n+END SUBROUTINE pr57393"}]}