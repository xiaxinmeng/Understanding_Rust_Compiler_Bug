{"sha": "f9d023841c0b0c0575823540c9c87c8c8bcae2d4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjlkMDIzODQxYzBiMGMwNTc1ODIzNTQwYzljODdjOGM4YmNhZTJkNA==", "commit": {"author": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2008-01-22T13:27:52Z"}, "committer": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2008-01-22T13:27:52Z"}, "message": "re PR tree-optimization/33092 (Using -O1 -fno-tree-salias results in ICE)\n\n2008-01-22  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n\n\tPR middle-end/33092\n\t* tree-pass.h (pass_build_alias): New pass.\n\t* tree-ssa-alias.c (gate_build_alias): New.\n\t(pass_build_alias): New.\n\t* passes.c (init_optimization_passes): Add pass_build_alias after\n\tpass_create_structure_vars.\n\ntestsuite/\n\t* gcc.dg/pr33092.c: New.\n\nFrom-SVN: r131717", "tree": {"sha": "5253ca8e5d8e0bce15ed0eea3a4e13be1b76ea63", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5253ca8e5d8e0bce15ed0eea3a4e13be1b76ea63"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f9d023841c0b0c0575823540c9c87c8c8bcae2d4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9d023841c0b0c0575823540c9c87c8c8bcae2d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9d023841c0b0c0575823540c9c87c8c8bcae2d4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9d023841c0b0c0575823540c9c87c8c8bcae2d4/comments", "author": null, "committer": null, "parents": [{"sha": "80f4129beb0446158708648502e77ac1d1c3142d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80f4129beb0446158708648502e77ac1d1c3142d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80f4129beb0446158708648502e77ac1d1c3142d"}], "stats": {"total": 43, "additions": 43, "deletions": 0}, "files": [{"sha": "1da929ce72733419676d141a63af4633c1827acb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9d023841c0b0c0575823540c9c87c8c8bcae2d4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9d023841c0b0c0575823540c9c87c8c8bcae2d4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f9d023841c0b0c0575823540c9c87c8c8bcae2d4", "patch": "@@ -1,3 +1,12 @@\n+2008-01-22  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n+\n+\tPR middle-end/33092\n+\t* tree-pass.h (pass_build_alias): New pass.\n+\t* tree-ssa-alias.c (gate_build_alias): New.\n+\t(pass_build_alias): New.\n+\t* passes.c (init_optimization_passes): Add pass_build_alias after\n+\tpass_create_structure_vars.\n+\n 2008-01-22  Wolfgang Gellerich  <gellerich@de.ibm.com>\n \n \t* config/s390/s390.h (S390_TDC_POSITIVE_NORMALIZED_NUMBER):"}, {"sha": "2614c90b3ca85354c4f6bf45efc1627cb68e9d4a", "filename": "gcc/passes.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9d023841c0b0c0575823540c9c87c8c8bcae2d4/gcc%2Fpasses.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9d023841c0b0c0575823540c9c87c8c8bcae2d4/gcc%2Fpasses.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpasses.c?ref=f9d023841c0b0c0575823540c9c87c8c8bcae2d4", "patch": "@@ -557,6 +557,10 @@ init_optimization_passes (void)\n     {\n       struct tree_opt_pass **p = &pass_all_optimizations.sub;\n       NEXT_PASS (pass_create_structure_vars);\n+      /* ??? pass_build_alias is a dummy pass that ensures that we\n+\t execute TODO_rebuild_alias at this point even if\n+\t pass_create_structure_vars was disabled.  */\n+      NEXT_PASS (pass_build_alias);\n       NEXT_PASS (pass_return_slot);\n       NEXT_PASS (pass_rename_ssa_copies);\n "}, {"sha": "1c9c54c9b967932fe80a6a1443938fbd7319c5ca", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9d023841c0b0c0575823540c9c87c8c8bcae2d4/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9d023841c0b0c0575823540c9c87c8c8bcae2d4/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f9d023841c0b0c0575823540c9c87c8c8bcae2d4", "patch": "@@ -1,3 +1,8 @@\n+2008-01-22  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n+\n+\tPR middle-end/33092\n+\t* gcc.dg/pr33092.c: New.\n+\n 2008-01-22  Andreas Krebbel  <krebbel1@de.ibm.com>\n \n \t* gcc.target/s390/20020926-1.c: Add -m31 option."}, {"sha": "fe73332dee1b21f8fc7d6a213e1eabca82bcffaa", "filename": "gcc/tree-pass.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9d023841c0b0c0575823540c9c87c8c8bcae2d4/gcc%2Ftree-pass.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9d023841c0b0c0575823540c9c87c8c8bcae2d4/gcc%2Ftree-pass.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-pass.h?ref=f9d023841c0b0c0575823540c9c87c8c8bcae2d4", "patch": "@@ -278,6 +278,7 @@ extern struct tree_opt_pass pass_ccp;\n extern struct tree_opt_pass pass_phi_only_cprop;\n extern struct tree_opt_pass pass_build_ssa;\n extern struct tree_opt_pass pass_del_ssa;\n+extern struct tree_opt_pass pass_build_alias;\n extern struct tree_opt_pass pass_dominator;\n extern struct tree_opt_pass pass_dce;\n extern struct tree_opt_pass pass_dce_loop;"}, {"sha": "7ab2f6b5473eda48a7425625c82482cccc96bae3", "filename": "gcc/tree-ssa-alias.c", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9d023841c0b0c0575823540c9c87c8c8bcae2d4/gcc%2Ftree-ssa-alias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9d023841c0b0c0575823540c9c87c8c8bcae2d4/gcc%2Ftree-ssa-alias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-alias.c?ref=f9d023841c0b0c0575823540c9c87c8c8bcae2d4", "patch": "@@ -4252,3 +4252,27 @@ struct tree_opt_pass pass_reset_cc_flags =\n   0,         \t         /* todo_flags_finish */\n   0\t\t\t /* letter */\n };\n+\n+static bool\n+gate_build_alias (void)\n+{\n+  return !gate_structure_vars();\n+}\n+\n+\n+struct tree_opt_pass pass_build_alias =\n+{\n+  \"build_alias\",            /* name */\n+  gate_build_alias,         /* gate */\n+  NULL,                     /* execute */\n+  NULL,                     /* sub */\n+  NULL,                     /* next */\n+  0,                        /* static_pass_number */\n+  0,                        /* tv_id */\n+  PROP_cfg | PROP_ssa,      /* properties_required */\n+  PROP_alias,               /* properties_provided */\n+  0,                        /* properties_destroyed */\n+  0,                        /* todo_flags_start */\n+  TODO_rebuild_alias,        /* todo_flags_finish */\n+  0                         /* letter */\n+};"}]}