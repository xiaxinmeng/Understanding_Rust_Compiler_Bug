{"sha": "89632019a9e0a159df1bd6fcd76680257e846bd6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODk2MzIwMTlhOWUwYTE1OWRmMWJkNmZjZDc2NjgwMjU3ZTg0NmJkNg==", "commit": {"author": {"name": "Zdenek Dvorak", "email": "dvorakz@suse.cz", "date": "2005-06-30T11:06:32Z"}, "committer": {"name": "Zdenek Dvorak", "email": "rakdver@gcc.gnu.org", "date": "2005-06-30T11:06:32Z"}, "message": "re PR testsuite/21967 (gcc.dg/tree-ssa/loop-2.c and gcc.dg/tree-ssa/loop-4.c fail)\n\n\tPR testsuite/21967\n\t* tree-ssa-live.c (mark_all_vars_used_1): Ignore variables in\n\tTMR_ORIGINAL.\n\nFrom-SVN: r101462", "tree": {"sha": "254a6221a6779b6a5a93660e46afe66cbb083644", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/254a6221a6779b6a5a93660e46afe66cbb083644"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/89632019a9e0a159df1bd6fcd76680257e846bd6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89632019a9e0a159df1bd6fcd76680257e846bd6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89632019a9e0a159df1bd6fcd76680257e846bd6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89632019a9e0a159df1bd6fcd76680257e846bd6/comments", "author": null, "committer": null, "parents": [{"sha": "c9b3f8175141d43122321661929cb6b3322ebdd6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9b3f8175141d43122321661929cb6b3322ebdd6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9b3f8175141d43122321661929cb6b3322ebdd6"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "a3e2696e382fa6c5541c2d3b7fffeb138718976b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89632019a9e0a159df1bd6fcd76680257e846bd6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89632019a9e0a159df1bd6fcd76680257e846bd6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=89632019a9e0a159df1bd6fcd76680257e846bd6", "patch": "@@ -1,3 +1,9 @@\n+2005-06-30  Zdenek Dvorak  <dvorakz@suse.cz>\n+\n+\tPR testsuite/21967\n+\t* tree-ssa-live.c (mark_all_vars_used_1): Ignore variables in\n+\tTMR_ORIGINAL.\n+\n 2005-06-30  Bernd Schmidt  <bernd.schmidt@analog.com>\n \n \t* config/bfin/bfin.md (addv2hi3, subv2hi3, sminv2hi3, smaxv2hi3,"}, {"sha": "180916d0694f1050dd02aa9d4bbbbae4afc19451", "filename": "gcc/tree-ssa-live.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89632019a9e0a159df1bd6fcd76680257e846bd6/gcc%2Ftree-ssa-live.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89632019a9e0a159df1bd6fcd76680257e846bd6/gcc%2Ftree-ssa-live.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-live.c?ref=89632019a9e0a159df1bd6fcd76680257e846bd6", "patch": "@@ -286,6 +286,7 @@ change_partition_var (var_map map, tree var, int part)\n     map->partition_to_var[map->compact_to_partition[part]] = var;\n }\n \n+static inline void mark_all_vars_used (tree *);\n \n /* Helper function for mark_all_vars_used, called via walk_tree.  */\n \n@@ -295,6 +296,17 @@ mark_all_vars_used_1 (tree *tp, int *walk_subtrees,\n {\n   tree t = *tp;\n \n+  /* Ignore TREE_ORIGINAL for TARGET_MEM_REFS, as well as other\n+     fields that do not contain vars.  */\n+  if (TREE_CODE (t) == TARGET_MEM_REF)\n+    {\n+      mark_all_vars_used (&TMR_SYMBOL (t));\n+      mark_all_vars_used (&TMR_BASE (t));\n+      mark_all_vars_used (&TMR_INDEX (t));\n+      *walk_subtrees = 0;\n+      return NULL;\n+    }\n+\n   /* Only need to mark VAR_DECLS; parameters and return results are not\n      eliminated as unused.  */\n   if (TREE_CODE (t) == VAR_DECL)"}]}