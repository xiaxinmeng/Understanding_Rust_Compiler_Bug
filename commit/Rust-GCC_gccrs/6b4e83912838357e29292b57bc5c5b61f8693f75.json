{"sha": "6b4e83912838357e29292b57bc5c5b61f8693f75", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmI0ZTgzOTEyODM4MzU3ZTI5MjkyYjU3YmM1YzViNjFmODY5M2Y3NQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-03-25T10:54:42Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-03-25T10:54:42Z"}, "message": "expr.c (cplus_expand_expr): Only do PCC_STATIC_STRUCT_RETURN thing if (aggregate_value_p (type)).\n\n\t* expr.c (cplus_expand_expr): Only do PCC_STATIC_STRUCT_RETURN thing\n\tif (aggregate_value_p (type)).\n\nFrom-SVN: r18823", "tree": {"sha": "7e4844d42f6a284fb2472d20a3440bcac37bcc99", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e4844d42f6a284fb2472d20a3440bcac37bcc99"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6b4e83912838357e29292b57bc5c5b61f8693f75", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b4e83912838357e29292b57bc5c5b61f8693f75", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b4e83912838357e29292b57bc5c5b61f8693f75", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b4e83912838357e29292b57bc5c5b61f8693f75/comments", "author": null, "committer": null, "parents": [{"sha": "e98e406fcc1d898d8d59d8a65395631e698be55e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e98e406fcc1d898d8d59d8a65395631e698be55e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e98e406fcc1d898d8d59d8a65395631e698be55e"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "9bed584996c007bcda6398ad75885bd00c5fbb74", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b4e83912838357e29292b57bc5c5b61f8693f75/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b4e83912838357e29292b57bc5c5b61f8693f75/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=6b4e83912838357e29292b57bc5c5b61f8693f75", "patch": "@@ -1,5 +1,8 @@\n Wed Mar 25 02:01:02 1998  Jason Merrill  <jason@yorick.cygnus.com>\n \n+\t* expr.c (cplus_expand_expr): Only do PCC_STATIC_STRUCT_RETURN thing\n+\tif (aggregate_value_p (type)).\n+\n \t* decl2.c (constructor_name_full): Handle TYPENAME_TYPE.\n \n Tue Mar 24 16:12:01 1998  Mark Mitchell  <mmitchell@usa.net>"}, {"sha": "50159cdbefd145b67fcf2fcec2f9b78193d05650", "filename": "gcc/cp/expr.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b4e83912838357e29292b57bc5c5b61f8693f75/gcc%2Fcp%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b4e83912838357e29292b57bc5c5b61f8693f75/gcc%2Fcp%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fexpr.c?ref=6b4e83912838357e29292b57bc5c5b61f8693f75", "patch": "@@ -114,11 +114,13 @@ cplus_expand_expr (exp, target, tmode, modifier)\n \t  }\n \telse\n \t  {\n-#ifdef PCC_STATIC_STRUCT_RETURN\n-\t    pcc_struct_return = 1;\n-\t    call_target = 0;\n-#else\n \t    call_target = target;\n+#ifdef PCC_STATIC_STRUCT_RETURN\n+\t    if (aggregate_value_p (type))\n+\t      {\n+\t\tpcc_struct_return = 1;\n+\t\tcall_target = 0;\n+\t      }\n #endif\n \t  }\n "}]}