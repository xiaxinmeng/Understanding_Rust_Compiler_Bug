{"sha": "e8fe3cc34e9a4cdc8cc183276d772cc6558e94b1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZThmZTNjYzM0ZTlhNGNkYzhjYzE4MzI3NmQ3NzJjYzY1NThlOTRiMQ==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1999-08-04T07:11:26Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-08-04T07:11:26Z"}, "message": "flow.c (delete_unreachable_blocks): Do not call merge_blocks or tidy_fallthru_edge if...\n\n\n        * flow.c (delete_unreachable_blocks): Do not call merge_blocks\n        or tidy_fallthru_edge if the last insn in the block is not\n        an unconditional jump or a simple conditional jump.\n\nFrom-SVN: r28483", "tree": {"sha": "1c92e9773d1bbf8d3e7a826863050e53253e566c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1c92e9773d1bbf8d3e7a826863050e53253e566c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e8fe3cc34e9a4cdc8cc183276d772cc6558e94b1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8fe3cc34e9a4cdc8cc183276d772cc6558e94b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8fe3cc34e9a4cdc8cc183276d772cc6558e94b1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8fe3cc34e9a4cdc8cc183276d772cc6558e94b1/comments", "author": null, "committer": null, "parents": [{"sha": "31534a2cbae288223a092ee1bd723a19d53f2912", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31534a2cbae288223a092ee1bd723a19d53f2912", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31534a2cbae288223a092ee1bd723a19d53f2912"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "37afbd6c0e96c7d5f18b4e138e2e6578293d62cc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8fe3cc34e9a4cdc8cc183276d772cc6558e94b1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8fe3cc34e9a4cdc8cc183276d772cc6558e94b1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e8fe3cc34e9a4cdc8cc183276d772cc6558e94b1", "patch": "@@ -1,3 +1,9 @@\n+Wed Aug  4 01:08:44 1999  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* flow.c (delete_unreachable_blocks): Do not call merge_blocks\n+\tor tidy_fallthru_edge if the last insn in the block is not\n+\tan unconditional jump or a simple conditional jump.\n+\n Tue Aug  3 20:21:20 1999  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n \t* Makefile.in (c-decl.o): Depends on defaults.h."}, {"sha": "9ca8f5c88fb053a2da4a73c836e092f17f585168", "filename": "gcc/flow.c", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8fe3cc34e9a4cdc8cc183276d772cc6558e94b1/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8fe3cc34e9a4cdc8cc183276d772cc6558e94b1/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=e8fe3cc34e9a4cdc8cc183276d772cc6558e94b1", "patch": "@@ -1563,7 +1563,12 @@ delete_unreachable_blocks ()\n \t check that the edge is not a FALLTHRU edge.  */\n       if ((s = b->succ) != NULL\n \t  && s->succ_next == NULL\n-\t  && s->dest == c)\n+\t  && s->dest == c\n+\t  /* If the last insn is not a normal conditional jump\n+\t     (or an unconditional jump), then we can not tidy the\n+\t     fallthru edge because we can not delete the jump.  */\n+\t  && GET_CODE (b->end) == JUMP_INSN\n+\t  && condjump_p (b->end))\n \ttidy_fallthru_edge (s, b, c);\n     }\n \n@@ -1582,6 +1587,11 @@ delete_unreachable_blocks ()\n \t     && (s->flags & EDGE_EH) == 0\n \t     && (c = s->dest) != EXIT_BLOCK_PTR\n \t     && c->pred->pred_next == NULL\n+\t     /* If the last insn is not a normal conditional jump\n+\t\t(or an unconditional jump), then we can not merge\n+\t\tthe blocks because we can not delete the jump.  */\n+\t     && GET_CODE (b->end) == JUMP_INSN\n+\t     && condjump_p (b->end)\n \t     && merge_blocks (s, b, c))\n \tcontinue;\n "}]}