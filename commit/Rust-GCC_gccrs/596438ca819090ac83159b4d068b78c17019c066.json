{"sha": "596438ca819090ac83159b4d068b78c17019c066", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTk2NDM4Y2E4MTkwOTBhYzgzMTU5YjRkMDY4Yjc4YzE3MDE5YzA2Ng==", "commit": {"author": {"name": "Stepan Kasal", "email": "skasal@redhat.com", "date": "2007-03-26T22:15:14Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2007-03-26T22:15:14Z"}, "message": "Main.java (cniOrJniSeen): New field.\n\n2007-03-26  Stepan Kasal  <skasal@redhat.com>\n\n\t* tools/gnu/classpath/tools/javah/Main.java (cniOrJniSeen): New\n\tfield.\n\t(getParser): Use new field.\n\nFrom-SVN: r123240", "tree": {"sha": "4d7cdfacc1a36c9ed7314c0cfa1aa0560f523615", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d7cdfacc1a36c9ed7314c0cfa1aa0560f523615"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/596438ca819090ac83159b4d068b78c17019c066", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/596438ca819090ac83159b4d068b78c17019c066", "html_url": "https://github.com/Rust-GCC/gccrs/commit/596438ca819090ac83159b4d068b78c17019c066", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/596438ca819090ac83159b4d068b78c17019c066/comments", "author": null, "committer": null, "parents": [{"sha": "7cf2045de18e9d6499626b5f0321aab16319b96a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7cf2045de18e9d6499626b5f0321aab16319b96a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7cf2045de18e9d6499626b5f0321aab16319b96a"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "54f71df517e15ba7700cfc723f1115119f5483c0", "filename": "libjava/classpath/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog?ref=596438ca819090ac83159b4d068b78c17019c066", "patch": "@@ -1,3 +1,9 @@\n+2007-03-26  Stepan Kasal  <skasal@redhat.com>\n+\n+\t* tools/gnu/classpath/tools/javah/Main.java (cniOrJniSeen): New\n+\tfield.\n+\t(getParser): Use new field.\n+\n 2007-03-17  Thomas Fitzsimmons  <fitzsim@redhat.com>\n \n \t* resource/com/sun/tools/javac/messages.properties"}, {"sha": "9acfd81d5b383f7bafbf1bc9970c743f3ef76365", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$1.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%241.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%241.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%241.class?ref=596438ca819090ac83159b4d068b78c17019c066"}, {"sha": "7feb9340ae7c401f119b96e3823bf8d8959a0a7a", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$10.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%2410.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%2410.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%2410.class?ref=596438ca819090ac83159b4d068b78c17019c066"}, {"sha": "81488678dd791431dced813acf55a04083c489ad", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$2.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%242.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%242.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%242.class?ref=596438ca819090ac83159b4d068b78c17019c066"}, {"sha": "00fd9496221cbe4539020174b66c0d7cc3a3339b", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$3.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%243.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%243.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%243.class?ref=596438ca819090ac83159b4d068b78c17019c066"}, {"sha": "818c3d46e4f59f0a15cf551deed7ff787929d831", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$4.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%244.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%244.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%244.class?ref=596438ca819090ac83159b4d068b78c17019c066"}, {"sha": "d0b741f7d70d998fd2ea05660dc9b17ca4a48195", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$5.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%245.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%245.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%245.class?ref=596438ca819090ac83159b4d068b78c17019c066"}, {"sha": "4e1c7f3e538bfb8c14bd9ea00f5d0ca4e3c6511a", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$6.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%246.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%246.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%246.class?ref=596438ca819090ac83159b4d068b78c17019c066"}, {"sha": "104ce2ef951a0cb081043016b445034acf2552cb", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$7.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%247.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%247.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%247.class?ref=596438ca819090ac83159b4d068b78c17019c066"}, {"sha": "8b47b8cfc34dc6ccb7ee0dd7d7f8833efe41661b", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$8.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%248.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%248.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%248.class?ref=596438ca819090ac83159b4d068b78c17019c066"}, {"sha": "038d74d0fdc73cc3e9ef0bb7f9d4010f9465ba4a", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main$9.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%249.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%249.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain%249.class?ref=596438ca819090ac83159b4d068b78c17019c066"}, {"sha": "ac3fda855420595e9998f3ffdd0fe95f62621288", "filename": "libjava/classpath/tools/classes/gnu/classpath/tools/javah/Main.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fclasses%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain.class?ref=596438ca819090ac83159b4d068b78c17019c066"}, {"sha": "29c96cf5bba60b4cc46742c8cccbbc1da7711086", "filename": "libjava/classpath/tools/gnu/classpath/tools/javah/Main.java", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596438ca819090ac83159b4d068b78c17019c066/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2Fgnu%2Fclasspath%2Ftools%2Fjavah%2FMain.java?ref=596438ca819090ac83159b4d068b78c17019c066", "patch": "@@ -89,6 +89,9 @@\n   // True if we're emitting CNI code.\n   boolean cni;\n \n+  // True if we've seen -cni or -jni.\n+  boolean cniOrJniSeen;\n+\n   // True if output files should always be written.\n   boolean force;\n \n@@ -243,15 +246,19 @@ public void parsed(String arg0) throws OptionException\n     {\n       public void parsed(String arg0) throws OptionException\n       {\n-        if (cni)\n+        if (cniOrJniSeen && cni)\n           throw new OptionException(\"only one of -jni or -cni may be used\");\n+\tcniOrJniSeen = true;\n         cni = false;\n       }\n     });\n     result.add(new Option(\"cni\", \"Emit CNI stubs or header (default JNI)\")\n     {\n       public void parsed(String arg0) throws OptionException\n       {\n+        if (cniOrJniSeen && ! cni)\n+          throw new OptionException(\"only one of -jni or -cni may be used\");\n+\tcniOrJniSeen = true;\n         cni = true;\n       }\n     });"}]}