{"sha": "5dbe01a1ffe4a3920f81a2b4349d31ec6871b9de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWRiZTAxYTFmZmU0YTM5MjBmODFhMmI0MzQ5ZDMxZWM2ODcxYjlkZQ==", "commit": {"author": {"name": "Bernd Edlinger", "email": "bernd.edlinger@hotmail.de", "date": "2019-10-03T17:03:43Z"}, "committer": {"name": "Bernd Edlinger", "email": "edlinger@gcc.gnu.org", "date": "2019-10-03T17:03:43Z"}, "message": "primary.c (match_real_constant): Remove shadowing local vars.\n\n2019-10-03  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n\n        * primary.c (match_real_constant): Remove shadowing local vars.\n        Rename local vars.  Fix undefined behavior in loop termination.\n        (gfc_convert_to_structure_constructor): Rename local var.\n\nFrom-SVN: r276518", "tree": {"sha": "ed48e08e87abcdb73d508ee634e63e23413acf47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed48e08e87abcdb73d508ee634e63e23413acf47"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5dbe01a1ffe4a3920f81a2b4349d31ec6871b9de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dbe01a1ffe4a3920f81a2b4349d31ec6871b9de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5dbe01a1ffe4a3920f81a2b4349d31ec6871b9de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dbe01a1ffe4a3920f81a2b4349d31ec6871b9de/comments", "author": {"login": "bernd-edlinger", "id": 17638929, "node_id": "MDQ6VXNlcjE3NjM4OTI5", "avatar_url": "https://avatars.githubusercontent.com/u/17638929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bernd-edlinger", "html_url": "https://github.com/bernd-edlinger", "followers_url": "https://api.github.com/users/bernd-edlinger/followers", "following_url": "https://api.github.com/users/bernd-edlinger/following{/other_user}", "gists_url": "https://api.github.com/users/bernd-edlinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/bernd-edlinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bernd-edlinger/subscriptions", "organizations_url": "https://api.github.com/users/bernd-edlinger/orgs", "repos_url": "https://api.github.com/users/bernd-edlinger/repos", "events_url": "https://api.github.com/users/bernd-edlinger/events{/privacy}", "received_events_url": "https://api.github.com/users/bernd-edlinger/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2925cad2151842daa387950e62d989090e47c91d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2925cad2151842daa387950e62d989090e47c91d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2925cad2151842daa387950e62d989090e47c91d"}], "stats": {"total": 31, "additions": 19, "deletions": 12}, "files": [{"sha": "f7414b6786f13f7966d8231c92c50f734a8e6138", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5dbe01a1ffe4a3920f81a2b4349d31ec6871b9de/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5dbe01a1ffe4a3920f81a2b4349d31ec6871b9de/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=5dbe01a1ffe4a3920f81a2b4349d31ec6871b9de", "patch": "@@ -1,3 +1,9 @@\n+2019-10-03  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n+\n+\t* primary.c (match_real_constant): Remove shadowing local vars.\n+\tRename local vars.  Fix undefined behavior in loop termination.\n+\t(gfc_convert_to_structure_constructor): Rename local var.\n+\n 2019-10-03  Thomas Koenig <tkoenig@gcc.gnu.org>\n \n \tPR fortran/84487"}, {"sha": "6b6c7d2481fe3fa260f676cee8458e4e6b02cf94", "filename": "gcc/fortran/primary.c", "status": "modified", "additions": 13, "deletions": 12, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5dbe01a1ffe4a3920f81a2b4349d31ec6871b9de/gcc%2Ffortran%2Fprimary.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5dbe01a1ffe4a3920f81a2b4349d31ec6871b9de/gcc%2Ffortran%2Fprimary.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fprimary.c?ref=5dbe01a1ffe4a3920f81a2b4349d31ec6871b9de", "patch": "@@ -789,16 +789,17 @@ match_real_constant (gfc_expr **result, int signflag)\n   if (warn_conversion_extra)\n     {\n       mpfr_t r;\n-      char *c, *p;\n+      char *c1;\n       bool did_break;\n \n-      c = strchr (buffer, 'e');\n-      if (c == NULL)\n-\tc = buffer + strlen(buffer);\n+      c1 = strchr (buffer, 'e');\n+      if (c1 == NULL)\n+\tc1 = buffer + strlen(buffer);\n \n       did_break = false;\n-      for (p = c - 1; p >= buffer; p--)\n+      for (p = c1; p > buffer;)\n \t{\n+\t  p--;\n \t  if (*p == '.')\n \t    continue;\n \n@@ -3099,21 +3100,21 @@ gfc_convert_to_structure_constructor (gfc_expr *e, gfc_symbol *sym, gfc_expr **c\n \t  && actual->expr->ts.type == BT_CHARACTER\n \t  && actual->expr->expr_type == EXPR_CONSTANT)\n \t{\n-\t  ptrdiff_t c, e;\n+\t  ptrdiff_t c, e1;\n \t  c = gfc_mpz_get_hwi (this_comp->ts.u.cl->length->value.integer);\n-\t  e = actual->expr->value.character.length;\n+\t  e1 = actual->expr->value.character.length;\n \n-\t  if (c != e)\n+\t  if (c != e1)\n \t    {\n \t      ptrdiff_t i, to;\n \t      gfc_char_t *dest;\n \t      dest = gfc_get_wide_string (c + 1);\n \n-\t      to = e < c ? e : c;\n+\t      to = e1 < c ? e1 : c;\n \t      for (i = 0; i < to; i++)\n \t\tdest[i] = actual->expr->value.character.string[i];\n \n-\t      for (i = e; i < c; i++)\n+\t      for (i = e1; i < c; i++)\n \t\tdest[i] = ' ';\n \n \t      dest[c] = '\\0';\n@@ -3122,11 +3123,11 @@ gfc_convert_to_structure_constructor (gfc_expr *e, gfc_symbol *sym, gfc_expr **c\n \t      actual->expr->value.character.length = c;\n \t      actual->expr->value.character.string = dest;\n \n-\t      if (warn_line_truncation && c < e)\n+\t      if (warn_line_truncation && c < e1)\n \t\tgfc_warning_now (OPT_Wcharacter_truncation,\n \t\t\t\t \"CHARACTER expression will be truncated \"\n \t\t\t\t \"in constructor (%ld/%ld) at %L\", (long int) c,\n-\t\t\t\t (long int) e, &actual->expr->where);\n+\t\t\t\t (long int) e1, &actual->expr->where);\n \t    }\n \t}\n "}]}