{"sha": "394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzk0NDc2YzllYTVhYmFkYjdkZjBiYmFkMWI1ZGQ1Y2EzZjFlMWRkMQ==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2005-04-09T18:50:52Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2005-04-09T18:50:52Z"}, "message": "Makefile.am: Remove libv3test.a.\n\n\n2005-04-08  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* testsuite/Makefile.am: Remove libv3test.a.\n\t* testsuite/Makefile.in: Regenerate.\n\t* testsuite/lib/libstdc++.exp (v3_target_compile): Fix comments.\n\nFrom-SVN: r97921", "tree": {"sha": "d001d6bca91cb7238d478c927e81a9acbb7abced", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d001d6bca91cb7238d478c927e81a9acbb7abced"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1/comments", "author": null, "committer": null, "parents": [{"sha": "305ead91ea43c3974115e0056962939fa6a76cc3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/305ead91ea43c3974115e0056962939fa6a76cc3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/305ead91ea43c3974115e0056962939fa6a76cc3"}], "stats": {"total": 182, "additions": 28, "deletions": 154}, "files": [{"sha": "1bddfc069d9953c485fc739417c8263a2a4f6ae8", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1", "patch": "@@ -1,3 +1,9 @@\n+2005-04-08  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* testsuite/Makefile.am: Remove libv3test.a.\n+\t* testsuite/Makefile.in: Regenerate.\n+\t* testsuite/lib/libstdc++.exp (v3_target_compile): Fix comments.\n+\t\n 2005-04-08  Paolo Carlini  <pcarlini@suse.de>\n \n \tPR libstdc++/20909"}, {"sha": "eb6a612f6a00288e8fdb89ef27db16cf465a9501", "filename": "libstdc++-v3/testsuite/Makefile.am", "status": "modified", "additions": 0, "deletions": 23, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.am?ref=394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1", "patch": "@@ -28,29 +28,6 @@ include $(top_srcdir)/fragment.am\n AM_MAKEFLAGS = -j1\n AM_RUNTESTFLAGS =\n \n-## CXX is actually a \"C\" compiler. These are real C++ programs.\n-testsuite_flags_script=${glibcxx_builddir}/scripts/testsuite_flags\n-CXX         = $(shell ${SHELL} ${testsuite_flags_script} --build-cxx)\n-GLIBCXX_INCLUDES = $(shell ${SHELL} ${testsuite_flags_script} \\\n-  --build-includes)\n-AM_CXXFLAGS = $(shell ${SHELL} ${testsuite_flags_script} --cxxflags)\n-\n-GLIBGCC_DIR=`$(CC) -print-libgcc-file-name | sed 's,/[^/]*$$,,'`\n-GLIBCXX_DIR=${glibcxx_builddir}/src/.libs\n-\n-CXXLINK = \\\n-\t$(LIBTOOL) --tag=CXX --mode=link $(CXX) \\\n-\t-R $(GLIBGCC_DIR) -R $(GLIBCXX_DIR) \\\n-\t$(AM_CXXFLAGS) $(CXXFLAGS) $(LDFLAGS) -lv3test -L. -o $@\n-\n-## Build support library.\n-noinst_LIBRARIES = libv3test.a\n-libv3test_a_SOURCES = \\\n-\ttestsuite_abi.cc \\\n-\ttestsuite_allocator.cc \\\n-\ttestsuite_character.cc \\\n-\ttestsuite_hooks.cc \n-\n all-local: stamp_wchar stamp_thread\n \n # Enable wchar_t tests if capable."}, {"sha": "d7573c946865c5837d9e555d84f80b0c2faf72ea", "filename": "libstdc++-v3/testsuite/Makefile.in", "status": "modified", "additions": 22, "deletions": 128, "changes": 150, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in?ref=394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1", "patch": "@@ -13,9 +13,6 @@\n # PARTICULAR PURPOSE.\n \n @SET_MAKE@\n-\n-SOURCES = $(libv3test_a_SOURCES)\n-\n srcdir = @srcdir@\n top_srcdir = @top_srcdir@\n VPATH = @srcdir@\n@@ -51,27 +48,10 @@ am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n CONFIG_HEADER = $(top_builddir)/config.h\n CONFIG_CLEAN_FILES =\n-LIBRARIES = $(noinst_LIBRARIES)\n-ARFLAGS = cru\n-libv3test_a_AR = $(AR) $(ARFLAGS)\n-libv3test_a_LIBADD =\n-am_libv3test_a_OBJECTS = testsuite_abi.$(OBJEXT) \\\n-\ttestsuite_allocator.$(OBJEXT) testsuite_character.$(OBJEXT) \\\n-\ttestsuite_hooks.$(OBJEXT)\n-libv3test_a_OBJECTS = $(am_libv3test_a_OBJECTS)\n-DEFAULT_INCLUDES = \n depcomp =\n am__depfiles_maybe =\n-CXXCOMPILE = $(CXX) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \\\n-\t$(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS)\n-LTCXXCOMPILE = $(LIBTOOL) --mode=compile $(CXX) $(DEFS) \\\n-\t$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \\\n-\t$(AM_CXXFLAGS) $(CXXFLAGS)\n-CXXLD = $(CXX)\n-SOURCES = $(libv3test_a_SOURCES)\n-DIST_SOURCES = $(libv3test_a_SOURCES)\n-ETAGS = etags\n-CTAGS = ctags\n+SOURCES =\n+DIST_SOURCES =\n DEJATOOL = $(PACKAGE)\n RUNTESTDEFAULTFLAGS = --tool $$tool --srcdir $$srcdir\n EXPECT = expect\n@@ -109,7 +89,7 @@ CPPFLAGS = @CPPFLAGS@\n CSTDIO_H = @CSTDIO_H@\n CTIME_CC = @CTIME_CC@\n CTIME_H = @CTIME_H@\n-CXX = $(shell ${SHELL} ${testsuite_flags_script} --build-cxx)\n+CXX = @CXX@\n CXXCPP = @CXXCPP@\n CXXFLAGS = @CXXFLAGS@\n CYGPATH_W = @CYGPATH_W@\n@@ -136,9 +116,7 @@ GLIBCXX_C_HEADERS_C_STD_TRUE = @GLIBCXX_C_HEADERS_C_STD_TRUE@\n GLIBCXX_C_HEADERS_C_TRUE = @GLIBCXX_C_HEADERS_C_TRUE@\n GLIBCXX_HOSTED_FALSE = @GLIBCXX_HOSTED_FALSE@\n GLIBCXX_HOSTED_TRUE = @GLIBCXX_HOSTED_TRUE@\n-GLIBCXX_INCLUDES = $(shell ${SHELL} ${testsuite_flags_script} \\\n-  --build-includes)\n-\n+GLIBCXX_INCLUDES = @GLIBCXX_INCLUDES@\n GLIBCXX_TEST_ABI_FALSE = @GLIBCXX_TEST_ABI_FALSE@\n GLIBCXX_TEST_ABI_TRUE = @GLIBCXX_TEST_ABI_TRUE@\n GLIBCXX_TEST_THREAD_FALSE = @GLIBCXX_TEST_THREAD_FALSE@\n@@ -268,22 +246,6 @@ WARN_CXXFLAGS = \\\n AM_CPPFLAGS = $(GLIBCXX_INCLUDES)\n AM_MAKEFLAGS = -j1\n AM_RUNTESTFLAGS = \n-testsuite_flags_script = ${glibcxx_builddir}/scripts/testsuite_flags\n-AM_CXXFLAGS = $(shell ${SHELL} ${testsuite_flags_script} --cxxflags)\n-GLIBGCC_DIR = `$(CC) -print-libgcc-file-name | sed 's,/[^/]*$$,,'`\n-GLIBCXX_DIR = ${glibcxx_builddir}/src/.libs\n-CXXLINK = \\\n-\t$(LIBTOOL) --tag=CXX --mode=link $(CXX) \\\n-\t-R $(GLIBGCC_DIR) -R $(GLIBCXX_DIR) \\\n-\t$(AM_CXXFLAGS) $(CXXFLAGS) $(LDFLAGS) -lv3test -L. -o $@\n-\n-noinst_LIBRARIES = libv3test.a\n-libv3test_a_SOURCES = \\\n-\ttestsuite_abi.cc \\\n-\ttestsuite_allocator.cc \\\n-\ttestsuite_character.cc \\\n-\ttestsuite_hooks.cc \n-\n \n # Generated lists of files to run.  All of these names are valid make\n # targets, if you wish to generate a list manually.\n@@ -314,7 +276,6 @@ CLEANFILES = *.txt *.tst *.exe core* filebuf_* tmp* ostream_* *.log *.sum \\\n all: all-am\n \n .SUFFIXES:\n-.SUFFIXES: .cc .lo .o .obj\n $(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ $(srcdir)/Makefile.am $(top_srcdir)/fragment.am $(am__configure_deps)\n \t@for dep in $?; do \\\n \t  case '$(am__configure_deps)' in \\\n@@ -345,28 +306,6 @@ $(top_srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)\n $(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ $(am__aclocal_m4_deps)\n \tcd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh\n \n-clean-noinstLIBRARIES:\n-\t-test -z \"$(noinst_LIBRARIES)\" || rm -f $(noinst_LIBRARIES)\n-libv3test.a: $(libv3test_a_OBJECTS) $(libv3test_a_DEPENDENCIES) \n-\t-rm -f libv3test.a\n-\t$(libv3test_a_AR) libv3test.a $(libv3test_a_OBJECTS) $(libv3test_a_LIBADD)\n-\t$(RANLIB) libv3test.a\n-\n-mostlyclean-compile:\n-\t-rm -f *.$(OBJEXT)\n-\n-distclean-compile:\n-\t-rm -f *.tab.c\n-\n-.cc.o:\n-\t$(CXXCOMPILE) -c -o $@ $<\n-\n-.cc.obj:\n-\t$(CXXCOMPILE) -c -o $@ `$(CYGPATH_W) '$<'`\n-\n-.cc.lo:\n-\t$(LTCXXCOMPILE) -c -o $@ $<\n-\n mostlyclean-libtool:\n \t-rm -f *.lo\n \n@@ -376,54 +315,12 @@ clean-libtool:\n distclean-libtool:\n \t-rm -f libtool\n uninstall-info-am:\n-\n-ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)\n-\tlist='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \\\n-\tunique=`for i in $$list; do \\\n-\t    if test -f \"$$i\"; then echo $$i; else echo $(srcdir)/$$i; fi; \\\n-\t  done | \\\n-\t  $(AWK) '    { files[$$0] = 1; } \\\n-\t       END { for (i in files) print i; }'`; \\\n-\tmkid -fID $$unique\n tags: TAGS\n+TAGS:\n \n-TAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \\\n-\t\t$(TAGS_FILES) $(LISP)\n-\ttags=; \\\n-\there=`pwd`; \\\n-\tlist='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \\\n-\tunique=`for i in $$list; do \\\n-\t    if test -f \"$$i\"; then echo $$i; else echo $(srcdir)/$$i; fi; \\\n-\t  done | \\\n-\t  $(AWK) '    { files[$$0] = 1; } \\\n-\t       END { for (i in files) print i; }'`; \\\n-\tif test -z \"$(ETAGS_ARGS)$$tags$$unique\"; then :; else \\\n-\t  test -n \"$$unique\" || unique=$$empty_fix; \\\n-\t  $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \\\n-\t    $$tags $$unique; \\\n-\tfi\n ctags: CTAGS\n-CTAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \\\n-\t\t$(TAGS_FILES) $(LISP)\n-\ttags=; \\\n-\there=`pwd`; \\\n-\tlist='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \\\n-\tunique=`for i in $$list; do \\\n-\t    if test -f \"$$i\"; then echo $$i; else echo $(srcdir)/$$i; fi; \\\n-\t  done | \\\n-\t  $(AWK) '    { files[$$0] = 1; } \\\n-\t       END { for (i in files) print i; }'`; \\\n-\ttest -z \"$(CTAGS_ARGS)$$tags$$unique\" \\\n-\t  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \\\n-\t     $$tags $$unique\n-\n-GTAGS:\n-\there=`$(am__cd) $(top_builddir) && pwd` \\\n-\t  && cd $(top_srcdir) \\\n-\t  && gtags -i $(GTAGS_ARGS) $$here\n-\n-distclean-tags:\n-\t-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags\n+CTAGS:\n+\n \n check-DEJAGNU: site.exp\n \tsrcdir=`$(am__cd) $(srcdir) && pwd`; export srcdir; \\\n@@ -473,7 +370,7 @@ distdir: $(DISTFILES)\n check-am: all-am\n \t$(MAKE) $(AM_MAKEFLAGS) check-DEJAGNU\n check: check-am\n-all-am: Makefile $(LIBRARIES) all-local\n+all-am: Makefile all-local\n installdirs:\n install: install-am\n install-exec: install-exec-am\n@@ -502,13 +399,12 @@ maintainer-clean-generic:\n \t@echo \"it deletes files that may require special tools to rebuild.\"\n clean: clean-am\n \n-clean-am: clean-generic clean-libtool clean-noinstLIBRARIES \\\n-\tmostlyclean-am\n+clean-am: clean-generic clean-libtool mostlyclean-am\n \n distclean: distclean-am\n \t-rm -f Makefile\n-distclean-am: clean-am distclean-DEJAGNU distclean-compile \\\n-\tdistclean-generic distclean-libtool distclean-tags\n+distclean-am: clean-am distclean-DEJAGNU distclean-generic \\\n+\tdistclean-libtool\n \n dvi: dvi-am\n \n@@ -536,8 +432,7 @@ maintainer-clean-am: distclean-am maintainer-clean-generic\n \n mostlyclean: mostlyclean-am\n \n-mostlyclean-am: mostlyclean-compile mostlyclean-generic \\\n-\tmostlyclean-libtool\n+mostlyclean-am: mostlyclean-generic mostlyclean-libtool\n \n pdf: pdf-am\n \n@@ -549,17 +444,16 @@ ps-am:\n \n uninstall-am: uninstall-info-am\n \n-.PHONY: CTAGS GTAGS all all-am all-local check check-DEJAGNU check-am \\\n-\tclean clean-generic clean-libtool clean-noinstLIBRARIES ctags \\\n-\tdistclean distclean-DEJAGNU distclean-compile \\\n-\tdistclean-generic distclean-libtool distclean-tags distdir dvi \\\n-\tdvi-am html html-am info info-am install install-am \\\n-\tinstall-data install-data-am install-exec install-exec-am \\\n-\tinstall-info install-info-am install-man install-strip \\\n-\tinstallcheck installcheck-am installdirs maintainer-clean \\\n-\tmaintainer-clean-generic mostlyclean mostlyclean-compile \\\n-\tmostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \\\n-\ttags uninstall uninstall-am uninstall-info-am\n+.PHONY: all all-am all-local check check-DEJAGNU check-am clean \\\n+\tclean-generic clean-libtool distclean distclean-DEJAGNU \\\n+\tdistclean-generic distclean-libtool distdir dvi dvi-am html \\\n+\thtml-am info info-am install install-am install-data \\\n+\tinstall-data-am install-exec install-exec-am install-info \\\n+\tinstall-info-am install-man install-strip installcheck \\\n+\tinstallcheck-am installdirs maintainer-clean \\\n+\tmaintainer-clean-generic mostlyclean mostlyclean-generic \\\n+\tmostlyclean-libtool pdf pdf-am ps ps-am uninstall uninstall-am \\\n+\tuninstall-info-am\n \n \n all-local: stamp_wchar stamp_thread"}, {"sha": "7f8008538eb119bb7bdf01cded0f06b85979e30f", "filename": "libstdc++-v3/testsuite/lib/libstdc++.exp", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp?ref=394476c9ea5abadb7df0bbad1b5dd5ca3f1e1dd1", "patch": "@@ -297,9 +297,6 @@ proc v3_target_compile { source dest type options } {\n }\n \n \n-# XXX Fix me.\n-# This is a complete hack: why do we build libv3test.a and then not use it?\n-# This duplicates all the make logic. Boo: pick one way to do it, not two.\n # Build the support objects linked in with the libstdc++ tests.  In\n # addition, set v3-wchar_t, v3-threads, and v3-test_objs\n # appropriately."}]}