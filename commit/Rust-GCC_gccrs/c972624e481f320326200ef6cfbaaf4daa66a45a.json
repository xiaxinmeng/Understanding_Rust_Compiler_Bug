{"sha": "c972624e481f320326200ef6cfbaaf4daa66a45a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzk3MjYyNGU0ODFmMzIwMzI2MjAwZWY2Y2ZiYWFmNGRhYTY2YTQ1YQ==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2014-01-30T15:30:30Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2014-01-30T15:30:30Z"}, "message": "re PR tree-optimization/59903 (ICE on valid code at -O3 on x86_64-linux-gnu (affecting trunk and 4.8.x))\n\n2014-01-30  Richard Biener  <rguenther@suse.de>\n\n\tPR tree-optimization/59903\n\t* tree-vect-loop.c (vect_transform_loop): Guard multiple-types\n\tcheck properly.\n\n\t* gcc.dg/torture/pr59903.c: New testcase.\n\nFrom-SVN: r207307", "tree": {"sha": "7a4c228e95faa539dfe8dd61453d3386242a447e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7a4c228e95faa539dfe8dd61453d3386242a447e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c972624e481f320326200ef6cfbaaf4daa66a45a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c972624e481f320326200ef6cfbaaf4daa66a45a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c972624e481f320326200ef6cfbaaf4daa66a45a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c972624e481f320326200ef6cfbaaf4daa66a45a/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9ca57929d6193e7445a4ca6a5bbb44834edf84dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ca57929d6193e7445a4ca6a5bbb44834edf84dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ca57929d6193e7445a4ca6a5bbb44834edf84dc"}], "stats": {"total": 72, "additions": 70, "deletions": 2}, "files": [{"sha": "ca5a89311eff4512222aae330a1c217f80d918f2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c972624e481f320326200ef6cfbaaf4daa66a45a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c972624e481f320326200ef6cfbaaf4daa66a45a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c972624e481f320326200ef6cfbaaf4daa66a45a", "patch": "@@ -1,3 +1,9 @@\n+2014-01-30  Richard Biener  <rguenther@suse.de>\n+\n+\tPR tree-optimization/59903\n+\t* tree-vect-loop.c (vect_transform_loop): Guard multiple-types\n+\tcheck properly.\n+\n 2014-01-30  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/59633"}, {"sha": "5b3e071d9c9d2857d4ca6703064d56c4595fb292", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c972624e481f320326200ef6cfbaaf4daa66a45a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c972624e481f320326200ef6cfbaaf4daa66a45a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c972624e481f320326200ef6cfbaaf4daa66a45a", "patch": "@@ -1,3 +1,8 @@\n+2014-01-30  Richard Biener  <rguenther@suse.de>\n+\n+\tPR tree-optimization/59903\n+\t* gcc.dg/torture/pr59903.c: New testcase.\n+\n 2014-01-30  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/58843"}, {"sha": "01772df61118a41cbd790d186134d92b91b858f7", "filename": "gcc/testsuite/gcc.dg/torture/pr59903.c", "status": "added", "additions": 56, "deletions": 0, "changes": 56, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c972624e481f320326200ef6cfbaaf4daa66a45a/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr59903.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c972624e481f320326200ef6cfbaaf4daa66a45a/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr59903.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr59903.c?ref=c972624e481f320326200ef6cfbaaf4daa66a45a", "patch": "@@ -0,0 +1,56 @@\n+/* { dg-do compile } */\n+\n+int a, b, c, d, e, f, g, h, i[3], l, m, n, o, p, q, r;\n+\n+struct S0\n+{\n+  int f0;\n+  int f1;\n+  int f2;\n+  int f3;\n+} j;\n+\n+static int\n+fn1 (int p1)\n+{\n+  return p1 || ((p1 > 0) > (e << 1)); \n+}\n+\n+static struct S0\n+fn2 (struct S0 p1)\n+{\n+  char s;\n+  struct S0 t = {0,0,0,0};\n+  int u = 2;\n+  for (;;)\n+    {\n+      if (i[0])\n+\tbreak;\n+      for (m = 0; m < 4; m++)\n+\tfor (p1.f0 = 0; p1.f0 < 3; p1.f0++)\n+\t  {\n+\t    j = t;\n+\t    t.f3 = i[p1.f0];\n+\t    o = b || 1 >> b ? 0 : a < 0;\n+\t    q = 1 % d;\n+\t    if ((g < fn1 ((1 ^ (q & 1)) | n)) ^ u)\n+\t      j.f3 |= p % 2;\n+\t    s = j.f3 > 0 ? j.f3 : j.f3 << 1;\n+\t    r = l = s && p1.f1 * c;\n+\t    h = p1.f1;\n+\t  }\n+    }\n+  return p1;\n+}\n+\n+int\n+main ()\n+{\n+  for (;f;)\n+    {\n+      struct S0 v = {0,0,0,0};\n+      fn2 (v);\n+      j.f3 = 0;\n+    }\n+  return 0;\n+}"}, {"sha": "2bb9fbdb2f1c38bf45b63fc49c48210349b638f9", "filename": "gcc/tree-vect-loop.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c972624e481f320326200ef6cfbaaf4daa66a45a/gcc%2Ftree-vect-loop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c972624e481f320326200ef6cfbaaf4daa66a45a/gcc%2Ftree-vect-loop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-loop.c?ref=c972624e481f320326200ef6cfbaaf4daa66a45a", "patch": "@@ -5869,8 +5869,9 @@ vect_transform_loop (loop_vec_info loop_vinfo)\n \t      && !STMT_VINFO_LIVE_P (stmt_info))\n \t    continue;\n \n-\t  if ((TYPE_VECTOR_SUBPARTS (STMT_VINFO_VECTYPE (stmt_info))\n-\t        != (unsigned HOST_WIDE_INT) vectorization_factor)\n+\t  if (STMT_VINFO_VECTYPE (stmt_info)\n+\t      && (TYPE_VECTOR_SUBPARTS (STMT_VINFO_VECTYPE (stmt_info))\n+\t\t  != (unsigned HOST_WIDE_INT) vectorization_factor)\n \t      && dump_enabled_p ())\n \t    dump_printf_loc (MSG_NOTE, vect_location, \"multiple-types.\\n\");\n "}]}