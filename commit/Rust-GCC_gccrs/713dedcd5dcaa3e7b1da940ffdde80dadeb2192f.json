{"sha": "713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzEzZGVkY2Q1ZGNhYTNlN2IxZGE5NDBmZmRkZTgwZGFkZWIyMTkyZg==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2016-04-28T15:16:57Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2016-04-28T15:16:57Z"}, "message": "Cilk Plus testsuite needs massive cleanup (PR testsuite/70595)\n\n\tgcc:\n\tPR testsuite/70595\n\t* doc/sourcebuild.texi (Effective-Target Keywords, Other\n\tattributes): Document cilkplus_runtime.\n\n\tgcc/testsuite:\n\tPR testsuite/70595\n\t* lib/target-supports.exp (check_libcilkrts_available): Rename to ...\n\t(check_effective_target_cilkplus_runtime): ... this.\n\t* g++.dg/cilk-plus/cilk-plus.exp: Adapt to it.\n\t* gcc.dg/cilk-plus/cilk-plus.exp: Likewise.\n\n\t* c-c++-common/cilk-plus/CK/cilk-for-2.c: Remove dg-do target selector.\n\tRequire cilkplus_runtime.\n\tDon't add -lcilkrts.\n\t* c-c++-common/cilk-plus/CK/cilk-fors.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/cilk_for_grain.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/cilk_for_ptr_iter.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/fib.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/fib_init_expr_xy.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/fib_no_return.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/fib_no_sync.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/nested_cilk_for.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/pr60586.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/pr69826-1.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/pr69826-2.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/spawnee_inline.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/spawner_inline.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/spawning_arg.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/steal_check.c: Likewise.\n\t* c-c++-common/cilk-plus/CK/varargs_test.c: Likewise.\n\t* g++.dg/cilk-plus/CK/catch_exc.cc: Likewise.\n\t* g++.dg/cilk-plus/CK/cilk-for-tplt.cc: Likewise.\n\t* g++.dg/cilk-plus/CK/const_spawn.cc: Likewise.\n\t* g++.dg/cilk-plus/CK/fib-opr-overload.cc: Likewise.\n\t* g++.dg/cilk-plus/CK/fib-tplt.cc: Likewise.\n\t* g++.dg/cilk-plus/CK/for1.cc: Likewise.\n\t* g++.dg/cilk-plus/CK/lambda_spawns.cc: Likewise.\n\t* g++.dg/cilk-plus/CK/lambda_spawns_tplt.cc: Likewise.\n\t* g++.dg/cilk-plus/CK/pr60586.cc: Likewise.\n\t* g++.dg/cilk-plus/CK/pr66326.cc: Likewise.\n\t* g++.dg/cilk-plus/CK/stl_iter.cc: Likewise.\n\t* g++.dg/cilk-plus/CK/stl_rev_iter.cc: Likewise.\n\t* g++.dg/cilk-plus/CK/stl_test.cc: Likewise.\n\n\t* c-c++-common/cilk-plus/CK/pr63307.c: Remove dg-do target selector.\n\t* c-c++-common/cilk-plus/SE/ef_error3.c: Likewise.\n\n\t* c-c++-common/cilk-plus/SE/ef_error2.c: Explain target selector.\n\n\t* c-c++-common/cilk-plus/CK/test__cilk.c: Run if\n\tcilkplus_runtime.\n\nFrom-SVN: r235574", "tree": {"sha": "bbac21436178146cc4e68233dbfce0d47944ade8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bbac21436178146cc4e68233dbfce0d47944ade8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ef2416508a8a7187a13df54595f6732b38c00671", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef2416508a8a7187a13df54595f6732b38c00671", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef2416508a8a7187a13df54595f6732b38c00671"}], "stats": {"total": 198, "additions": 129, "deletions": 69}, "files": [{"sha": "c129db948251c029340474c7f8bc1b326e4f72df", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,3 +1,9 @@\n+2016-04-28  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\tPR testsuite/70595\n+\t* doc/sourcebuild.texi (Effective-Target Keywords, Other\n+\tattributes): Document cilkplus_runtime.\n+\n 2016-04-28  Martin Jambor  <mjambor@suse.cz>\n \n \t* tree-cfg.c (verify_expr): Verify that local declarations belong to"}, {"sha": "9a349a3f03aa9c9b4bd1feac076792ade9436cc6", "filename": "gcc/doc/sourcebuild.texi", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Fdoc%2Fsourcebuild.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Fdoc%2Fsourcebuild.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fsourcebuild.texi?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1878,6 +1878,9 @@ Target supports wide characters.\n @item automatic_stack_alignment\n Target supports automatic stack alignment.\n \n+@item cilkplus_runtime\n+Target supports the Cilk Plus runtime library.\n+\n @item cxa_atexit\n Target uses @code{__cxa_atexit}.\n "}, {"sha": "ff7051bd97f8f57414d549ed1107ad9fcb0a9beb", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 49, "deletions": 0, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,3 +1,52 @@\n+2016-04-28  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\tPR testsuite/70595\n+\t* lib/target-supports.exp (check_libcilkrts_available): Rename to ...\n+\t(check_effective_target_cilkplus_runtime): ... this.\n+\t* g++.dg/cilk-plus/cilk-plus.exp: Adapt to it.\n+\t* gcc.dg/cilk-plus/cilk-plus.exp: Likewise.\n+\n+\t* c-c++-common/cilk-plus/CK/cilk-for-2.c: Remove dg-do target selector.\n+\tRequire cilkplus_runtime.\n+\tDon't add -lcilkrts.\n+\t* c-c++-common/cilk-plus/CK/cilk-fors.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/cilk_for_grain.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/cilk_for_ptr_iter.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/fib.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/fib_init_expr_xy.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/fib_no_return.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/fib_no_sync.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/nested_cilk_for.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/pr60586.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/pr69826-1.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/pr69826-2.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/spawnee_inline.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/spawner_inline.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/spawning_arg.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/steal_check.c: Likewise.\n+\t* c-c++-common/cilk-plus/CK/varargs_test.c: Likewise.\n+\t* g++.dg/cilk-plus/CK/catch_exc.cc: Likewise.\n+\t* g++.dg/cilk-plus/CK/cilk-for-tplt.cc: Likewise.\n+\t* g++.dg/cilk-plus/CK/const_spawn.cc: Likewise.\n+\t* g++.dg/cilk-plus/CK/fib-opr-overload.cc: Likewise.\n+\t* g++.dg/cilk-plus/CK/fib-tplt.cc: Likewise.\n+\t* g++.dg/cilk-plus/CK/for1.cc: Likewise.\n+\t* g++.dg/cilk-plus/CK/lambda_spawns.cc: Likewise.\n+\t* g++.dg/cilk-plus/CK/lambda_spawns_tplt.cc: Likewise.\n+\t* g++.dg/cilk-plus/CK/pr60586.cc: Likewise.\n+\t* g++.dg/cilk-plus/CK/pr66326.cc: Likewise.\n+\t* g++.dg/cilk-plus/CK/stl_iter.cc: Likewise.\n+\t* g++.dg/cilk-plus/CK/stl_rev_iter.cc: Likewise.\n+\t* g++.dg/cilk-plus/CK/stl_test.cc: Likewise.\n+\n+\t* c-c++-common/cilk-plus/CK/pr63307.c: Remove dg-do target selector.\n+\t* c-c++-common/cilk-plus/SE/ef_error3.c: Likewise.\n+\n+\t* c-c++-common/cilk-plus/SE/ef_error2.c: Explain target selector.\n+\n+\t* c-c++-common/cilk-plus/CK/test__cilk.c: Run if\n+\tcilkplus_runtime.\n+\n 2016-04-27  Marc Glisse  <marc.glisse@inria.fr>\n \n \t* gcc.dg/tree-ssa/overflow-2.c: New testcase."}, {"sha": "32e4b9a57697fd0aafa17a86f1a213d7036e65c0", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/cilk-for-2.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fcilk-for-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fcilk-for-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fcilk-for-2.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,7 +1,7 @@\n-/* { dg-do run { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n /* { dg-additional-options \"-std=gnu99\" { target c } } */\n-/* { dg-additional-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n int msk;\n "}, {"sha": "6b2bbf779ae81d5d6432c5bd6e204132c108788c", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/cilk-fors.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fcilk-fors.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fcilk-fors.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fcilk-fors.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,7 +1,7 @@\n-/* { dg-do run { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n /* { dg-additional-options \"-std=gnu99\" { target c } } */\n-/* { dg-additional-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #if HAVE_IO\n #include <stdio.h>"}, {"sha": "5a95a06274f8e016582438167136c3f4d8434b1d", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/cilk_for_grain.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fcilk_for_grain.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fcilk_for_grain.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fcilk_for_grain.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,7 +1,7 @@\n-/* { dg-do run { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n /* { dg-additional-options \"-std=gnu99\" { target c } } */\n-/* { dg-additional-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n \n int grain_value = 2;"}, {"sha": "1f8e84ee3d596268c8996a2a0bfe2a5890c29abe", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/cilk_for_ptr_iter.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fcilk_for_ptr_iter.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fcilk_for_ptr_iter.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fcilk_for_ptr_iter.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,7 +1,7 @@\n-/* { dg-do run { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n /* { dg-additional-options \"-std=gnu99\" { target c } } */\n-/* { dg-additional-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n \n "}, {"sha": "40e1cb48c256beeeaaad301e2ffbf46c05c0ea89", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/fib.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ffib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ffib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ffib.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-do run { target i?86-*-* x86_64-*-* } } */\n-/* { dg-options \"-fcilkplus -lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #if HAVE_IO\n #include <stdio.h>"}, {"sha": "41fd0dbe1d6ffcab0d00e71efa67531d860a108c", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/fib_init_expr_xy.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ffib_init_expr_xy.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ffib_init_expr_xy.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ffib_init_expr_xy.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-do run { target i?86-*-* x86_64-*-* } } */\n-/* { dg-options \"-fcilkplus -lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #if HAVE_IO\n #include <stdio.h>"}, {"sha": "ccdbcfdce66bec859d8597e59c3d830ea24e79c8", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/fib_no_return.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ffib_no_return.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ffib_no_return.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ffib_no_return.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-do run { target i?86-*-* x86_64-*-* } } */\n-/* { dg-options \"-fcilkplus -lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #if HAVE_IO\n #include <stdio.h>"}, {"sha": "2c2a94b27a5331f44abd5f7b96692d4ad103833a", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/fib_no_sync.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ffib_no_sync.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ffib_no_sync.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ffib_no_sync.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-do run { target i?86-*-* x86_64-*-* } } */\n-/* { dg-options \"-fcilkplus -lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #if HAVE_IO\n #include <stdio.h>"}, {"sha": "8f080a112522306639ee16cb077b44ad208dd0aa", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/nested_cilk_for.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fnested_cilk_for.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fnested_cilk_for.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fnested_cilk_for.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,7 +1,7 @@\n-/* { dg-do run { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n /* { dg-additional-options \"-std=gnu99\" { target c } } */\n-/* { dg-additional-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #if HAVE_IO\n #include <stdio.h>"}, {"sha": "e2dc7b0c9d57da24cf7e543065d3579981763aa6", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/pr60586.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr60586.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr60586.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr60586.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n-/* { dg-do run  { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus -O2\" } */\n-/* { dg-additional-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n int noop(int x)\n {"}, {"sha": "6db5386eaf0fc09d08c11468cdbd0a025ce37390", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/pr63307.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr63307.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr63307.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr63307.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,4 +1,4 @@\n /* { dg-options \"-fcilkplus -fcompare-debug\" } */\n-/* { dg-do compile { target i?86-*-* x86_64-*-* } } */\n+/* { dg-do compile } */\n \n #include \"fib_no_return.c\""}, {"sha": "97775243ccda2c298b39a05f276850bb35b65bac", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/pr69826-1.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr69826-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr69826-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr69826-1.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,7 +1,7 @@\n-/* { dg-do run { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n /* { dg-additional-options \"-std=gnu99\" { target c } } */\n-/* { dg-additional-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #define GRAINSIZE 2\n "}, {"sha": "64d59291975cd534a16ffc7ee7cab320fe12086b", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/pr69826-2.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr69826-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr69826-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr69826-2.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n-/* { dg-do run { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus -save-temps\" } */\n /* { dg-additional-options \"-std=gnu99\" { target c } } */\n-/* { dg-additional-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #include \"pr69826-1.c\""}, {"sha": "416d77abb11d456a1a6165c98d458c65917a57b6", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/spawnee_inline.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fspawnee_inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fspawnee_inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fspawnee_inline.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n-/* { dg-do run  { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus -w\" } */\n-/* { dg-additional-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #include <stdio.h>\n #include <stdlib.h>"}, {"sha": "49592c9e979f4f5164711a6b44a70c8c6e1f83d5", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/spawner_inline.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fspawner_inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fspawner_inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fspawner_inline.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n-/* { dg-do run  { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-additional-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #include <stdlib.h>\n #define DEFAULT_VALUE 30"}, {"sha": "f5f062c32b3076de963050f1e3eb71b80c3bf4b8", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/spawning_arg.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fspawning_arg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fspawning_arg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fspawning_arg.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n-/* { dg-do run  { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-additional-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #ifdef __cplusplus\n extern \"C\" {"}, {"sha": "00b3c7918333b7d63d704bdd3c31147e3e21b3d5", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/steal_check.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fsteal_check.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fsteal_check.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fsteal_check.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n-/* { dg-do run  { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-additional-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #ifdef __cplusplus\n extern \"C\" {"}, {"sha": "3157473fff4ed235edef17dbcfc3fe1dddd24b6f", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/test__cilk.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ftest__cilk.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ftest__cilk.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Ftest__cilk.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-do run  { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run { target cilkplus_runtime } } */\n /* { dg-options \"-fcilkplus\" } */\n \n int main (void)"}, {"sha": "d97280043de6be75072a15f99edd0b000aa77666", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/varargs_test.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fvarargs_test.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fvarargs_test.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fvarargs_test.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n-/* { dg-do run  { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-additional-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #include <stdarg.h>\n #include <stdlib.h>"}, {"sha": "28c3c98741847e57f0d62aaa9c478b053446f76c", "filename": "gcc/testsuite/c-c++-common/cilk-plus/SE/ef_error2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FSE%2Fef_error2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FSE%2Fef_error2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FSE%2Fef_error2.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,3 +1,4 @@\n+/* The warning is x86-only.  */\n /* { dg-do compile { target { i?86-*-* x86_64-*-* } } } */\n /* { dg-options \"-fcilkplus -Wall\" } */\n "}, {"sha": "789e2bc013d86fb6e2cbd3197ac536837ae03303", "filename": "gcc/testsuite/c-c++-common/cilk-plus/SE/ef_error3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FSE%2Fef_error3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FSE%2Fef_error3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FSE%2Fef_error3.c?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-do compile { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do compile } */\n /* { dg-options \"-fcilkplus -Wall\" } */\n \n __attribute__((vector (linear (x:y)))) /* { dg-message \"parameter\" \"\" { target c++ } } */"}, {"sha": "82b74886ded5fcb982e07f0c115874705c0ae7ac", "filename": "gcc/testsuite/g++.dg/cilk-plus/CK/catch_exc.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fcatch_exc.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fcatch_exc.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fcatch_exc.cc?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-do run { target i?86-*-* x86_64-*-* arm*-*-* } } */\n-/* { dg-options \"-fcilkplus -lcilkrts\" { target { i?86-*-* x86_64-*-* arm*-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n \n #include <assert.h>\n #include <unistd.h>"}, {"sha": "9481dbef74ef3c8c93ca1c01cf83d6513a9a1af3", "filename": "gcc/testsuite/g++.dg/cilk-plus/CK/cilk-for-tplt.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fcilk-for-tplt.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fcilk-for-tplt.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fcilk-for-tplt.cc?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n-/* { dg-do run { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #define SIZE 100\n #define CHECK_VALUE 5"}, {"sha": "c654826b3d9422e7d9e31e48725e008eae2f7924", "filename": "gcc/testsuite/g++.dg/cilk-plus/CK/const_spawn.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fconst_spawn.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fconst_spawn.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fconst_spawn.cc?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-do run { target i?86-*-* x86_64-*-* arm*-*-* } } */\n-/* { dg-options \"-fcilkplus -lcilkrts\" { target { i?86-*-* x86_64-*-* arm*-*-* } } } */\n \n class Rectangle\n {"}, {"sha": "386a5021c9298eaf60b01411a8d22e21ae4cac59", "filename": "gcc/testsuite/g++.dg/cilk-plus/CK/fib-opr-overload.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Ffib-opr-overload.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Ffib-opr-overload.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Ffib-opr-overload.cc?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-do run { target i?86-*-* x86_64-*-* arm*-*-* } } */\n-/* { dg-options \"-fcilkplus -lcilkrts\" { target { i?86-*-* x86_64-*-* arm*-*-* } } } */\n \n #if HAVE_IO\n #include <iostream>"}, {"sha": "66b1dfa9eb15e5c3f9579b520832721df8888b59", "filename": "gcc/testsuite/g++.dg/cilk-plus/CK/fib-tplt.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Ffib-tplt.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Ffib-tplt.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Ffib-tplt.cc?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-do run { target i?86-*-* x86_64-*-* arm*-*-* } } */\n-/* { dg-options \"-fcilkplus -lcilkrts\" { target { i?86-*-* x86_64-*-* arm*-*-*-* } } } */\n \n struct fib_struct\n {"}, {"sha": "b2f76c7019ff6628441972d884c04e4ed8d86b20", "filename": "gcc/testsuite/g++.dg/cilk-plus/CK/for1.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Ffor1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Ffor1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Ffor1.cc?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n-/* { dg-do run { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-additional-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #if HAVE_IO\n #include <cstdio>"}, {"sha": "96d2ea19c111bea787d51a0e3b365f25e65f2318", "filename": "gcc/testsuite/g++.dg/cilk-plus/CK/lambda_spawns.cc", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Flambda_spawns.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Flambda_spawns.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Flambda_spawns.cc?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,7 +1,8 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n+/* { dg-require-effective-target c++11 } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-do run { target i?86-*-* x86_64-*-* arm*-*-* } } */\n-// { dg-require-effective-target c++11 }\n-/* { dg-options \"-fcilkplus -lcilkrts\" { target { i?86-*-* x86_64-*-* arm*-*-* } } } */\n+\n #define FIRST_NUMBER 5\n #define SECOND_NUMBER 3\n #define HAVE_IO 0"}, {"sha": "1a36262dc6da2197a8ceac9f3256dcdf8ebe0eed", "filename": "gcc/testsuite/g++.dg/cilk-plus/CK/lambda_spawns_tplt.cc", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Flambda_spawns_tplt.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Flambda_spawns_tplt.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Flambda_spawns_tplt.cc?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,7 +1,7 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n+/* { dg-require-effective-target c++11 } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-do run { target i?86-*-* x86_64-*-* arm*-*-* } } */\n-// { dg-require-effective-target c++11 }\n-/* { dg-options \"-fcilkplus -lcilkrts\" { target { i?86-*-* x86_64-*-* arm*-*-* } } } */\n \n #define FIRST_NUMBER 5\n #define SECOND_NUMBER 3"}, {"sha": "47c7828130099e280ea9b65b9b1a1793b01737e3", "filename": "gcc/testsuite/g++.dg/cilk-plus/CK/pr60586.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fpr60586.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fpr60586.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fpr60586.cc?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-do run { target i?86-*-* x86_64-*-* arm*-*-* } } */\n-/* { dg-options \"-fcilkplus -lcilkrts\" { target { i?86-*-* x86_64-*-* arm*-*-* } } } */\n \n class Rectangle\n {"}, {"sha": "102b9734275a707fceaae02aa646a3d743c3b3f2", "filename": "gcc/testsuite/g++.dg/cilk-plus/CK/pr66326.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fpr66326.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fpr66326.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fpr66326.cc?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-do run { target i?86-*-* x86_64-*-* } } */\n-/* { dg-options \"-fcilkplus -lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #include <vector>\n #include <random>"}, {"sha": "ed489d8b00a485d546db0aced450c4a96729aa89", "filename": "gcc/testsuite/g++.dg/cilk-plus/CK/stl_iter.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fstl_iter.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fstl_iter.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fstl_iter.cc?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n-/* { dg-do run { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n #include <vector>\n #include <cstdio>"}, {"sha": "ddc96d1223dc659315ee39d7eb4e35aee84bcb04", "filename": "gcc/testsuite/g++.dg/cilk-plus/CK/stl_rev_iter.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fstl_rev_iter.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fstl_rev_iter.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fstl_rev_iter.cc?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n-/* { dg-do run { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n \n #include <vector>"}, {"sha": "02b57c33a66ec75fc3504bec8ba08911af6de50e", "filename": "gcc/testsuite/g++.dg/cilk-plus/CK/stl_test.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fstl_test.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fstl_test.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fstl_test.cc?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1,6 +1,6 @@\n-/* { dg-do run { target { i?86-*-* x86_64-*-* } } } */\n+/* { dg-do run } */\n+/* { dg-require-effective-target cilkplus_runtime } */\n /* { dg-options \"-fcilkplus\" } */\n-/* { dg-options \"-lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n \n #include <iostream>"}, {"sha": "1e9f4af3a70bda364dc8c769553420a6fc5d0f31", "filename": "gcc/testsuite/g++.dg/cilk-plus/cilk-plus.exp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2Fcilk-plus.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2Fcilk-plus.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2Fcilk-plus.exp?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -55,7 +55,7 @@ if [cilkplus_init] {\n     dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/AN/*.cc]] \" -g -O3 -fcilkplus\" \" \"\n     dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/AN/*.cc]] \" -O3 -ftree-vectorize -fcilkplus -g\" \" \"\n \n-    if { [check_libcilkrts_available] } {\n+    if { [check_effective_target_cilkplus_runtime] } {\n         dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -O1 -fcilkplus\" \" \"\n         dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -O3 -fcilkplus\" \" \"\n         dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -g -fcilkplus\" \" \""}, {"sha": "fac975c6fc1ce9167ab1230a15189d8a9050cc6d", "filename": "gcc/testsuite/gcc.dg/cilk-plus/cilk-plus.exp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fgcc.dg%2Fcilk-plus%2Fcilk-plus.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Fgcc.dg%2Fcilk-plus%2Fcilk-plus.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcilk-plus%2Fcilk-plus.exp?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -44,7 +44,7 @@ if [cilkplus_init] {\n     dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/AN/*.c]] \" -fcilkplus -O3 -std=c99\" \" \"\n     dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/AN/*.c]] \" -fcilkplus -g -O0 -std=c99\" \" \"\n \n-    if { [check_libcilkrts_available] } {\n+    if { [check_effective_target_cilkplus_runtime] } {\n         dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -g \" \" \"\n         dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -O1 \" \" \"\n         dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -O2 -std=c99 \" \" \""}, {"sha": "04ca17656f2f26dda710e8a0f9ca77dd963ab39b", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/713dedcd5dcaa3e7b1da940ffdde80dadeb2192f/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=713dedcd5dcaa3e7b1da940ffdde80dadeb2192f", "patch": "@@ -1279,8 +1279,8 @@ proc check_iconv_available { test_what } {\n }\n \n # Return true if Cilk Library is supported on the target.\n-proc check_libcilkrts_available { } {\n-  return [ check_no_compiler_messages_nocache libcilkrts_available executable {\n+proc check_effective_target_cilkplus_runtime { } {\n+  return [ check_no_compiler_messages_nocache cilkplus_runtime executable {\n \t#ifdef __cplusplus\n \textern \"C\" \n \t#endif"}]}