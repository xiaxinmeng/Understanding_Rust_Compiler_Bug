{"sha": "e75bc10e68f2c154eea18b87486e9da5cad0efaa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTc1YmMxMGU2OGYyYzE1NGVlYTE4Yjg3NDg2ZTlkYTVjYWQwZWZhYQ==", "commit": {"author": {"name": "Luis Machado", "email": "luis.machado@linaro.org", "date": "2018-08-08T07:54:14Z"}, "committer": {"name": "Siddhesh Poyarekar", "email": "siddhesh@gcc.gnu.org", "date": "2018-08-08T07:54:14Z"}, "message": "[AArch64, Falkor] Switch to using Falkor-specific vector costs.\n\nThe adjusted vector costs give Falkor a reasonable boost in performance for FP\nbenchmarks (both CPU2017 and CPU2006) and doesn't change INT benchmarks that\nmuch. There are some regressions that will be investigated as follow on work.\n\nNumbers from the CI run:\n\nCPU2017:\n\n(R) 605.mcf_s: -1.8%\n(R) 620.omnetpp_s: -2%\n    623.xalancbmk_s: 2%\n    654.roms_s: 7%\n\n(R) INT mean: -0.09%\n    FP mean: 0.70%\n\nCPU2006:\n\n(R) 429.mc: -5%\n(R) 471.omnetpp: -9.5% (potentially noise/fluctuations)\n    483.xalancbmk: 6.02%\n    410.bwaves: 5.03%\n    433.milc: 2%\n    434.zeusmp: 10.5%\n(R) 436.cactusADM: -12.75%\n    437.leslie3d: 5.94%\n(R) 453.povray: -0.82%\n    459.GemsFDTD: 16.87%\n    465.tonto: 1%\n\n(R) INT mean: -0.79%\n    FP mean: 1.54%\n\ngcc/ChangeLog:\n\n2018-08-08  Luis Machado  <luis.machado@linaro.org>\n\n\t* config/aarch64/aarch64.c (qdf24xx_vector_cost): New static global.\n\t(qdf24xx_tunings): Set vector cost structure to qdf24xx_vector_cost.\n\nFrom-SVN: r263389", "tree": {"sha": "b0655562e89a411a795941d7380dc366fc0c37ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b0655562e89a411a795941d7380dc366fc0c37ca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e75bc10e68f2c154eea18b87486e9da5cad0efaa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e75bc10e68f2c154eea18b87486e9da5cad0efaa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e75bc10e68f2c154eea18b87486e9da5cad0efaa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e75bc10e68f2c154eea18b87486e9da5cad0efaa/comments", "author": {"login": "luislinaro", "id": 53092780, "node_id": "MDQ6VXNlcjUzMDkyNzgw", "avatar_url": "https://avatars.githubusercontent.com/u/53092780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luislinaro", "html_url": "https://github.com/luislinaro", "followers_url": "https://api.github.com/users/luislinaro/followers", "following_url": "https://api.github.com/users/luislinaro/following{/other_user}", "gists_url": "https://api.github.com/users/luislinaro/gists{/gist_id}", "starred_url": "https://api.github.com/users/luislinaro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luislinaro/subscriptions", "organizations_url": "https://api.github.com/users/luislinaro/orgs", "repos_url": "https://api.github.com/users/luislinaro/repos", "events_url": "https://api.github.com/users/luislinaro/events{/privacy}", "received_events_url": "https://api.github.com/users/luislinaro/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "31508b3921cdcc6c2c8c587f76b38b316dc76fc8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31508b3921cdcc6c2c8c587f76b38b316dc76fc8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31508b3921cdcc6c2c8c587f76b38b316dc76fc8"}], "stats": {"total": 27, "additions": 26, "deletions": 1}, "files": [{"sha": "a774ead5d94b7788a5ad6e920ddf6083e13e4017", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e75bc10e68f2c154eea18b87486e9da5cad0efaa/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e75bc10e68f2c154eea18b87486e9da5cad0efaa/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e75bc10e68f2c154eea18b87486e9da5cad0efaa", "patch": "@@ -1,5 +1,10 @@\n 2018-08-08  Luis Machado  <luis.machado@linaro.org>\n \n+\t* config/aarch64/aarch64.c (qdf24xx_vector_cost): New static\n+\tglobal.\n+\t(qdf24xx_tunings): Set vector cost structure to\n+\tqdf24xx_vector_cost.\n+\n \t* config/aarch64/aarch64.c (qdf24xx_addrcost_table)\n \t<register_sextend>: Set to 3.\n "}, {"sha": "1e8d8104c066a265120ab776f7ab5a959d3512b6", "filename": "gcc/config/aarch64/aarch64.c", "status": "modified", "additions": 21, "deletions": 1, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e75bc10e68f2c154eea18b87486e9da5cad0efaa/gcc%2Fconfig%2Faarch64%2Faarch64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e75bc10e68f2c154eea18b87486e9da5cad0efaa/gcc%2Fconfig%2Faarch64%2Faarch64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.c?ref=e75bc10e68f2c154eea18b87486e9da5cad0efaa", "patch": "@@ -430,6 +430,26 @@ static const struct cpu_vector_cost generic_vector_cost =\n   1 /* cond_not_taken_branch_cost  */\n };\n \n+/* QDF24XX costs for vector insn classes.  */\n+static const struct cpu_vector_cost qdf24xx_vector_cost =\n+{\n+  1, /* scalar_int_stmt_cost  */\n+  1, /* scalar_fp_stmt_cost  */\n+  1, /* scalar_load_cost  */\n+  1, /* scalar_store_cost  */\n+  1, /* vec_int_stmt_cost  */\n+  3, /* vec_fp_stmt_cost  */\n+  2, /* vec_permute_cost  */\n+  1, /* vec_to_scalar_cost  */\n+  1, /* scalar_to_vec_cost  */\n+  1, /* vec_align_load_cost  */\n+  1, /* vec_unalign_load_cost  */\n+  1, /* vec_unalign_store_cost  */\n+  1, /* vec_store_cost  */\n+  3, /* cond_taken_branch_cost  */\n+  1 /* cond_not_taken_branch_cost  */\n+};\n+\n /* ThunderX costs for vector insn classes.  */\n static const struct cpu_vector_cost thunderx_vector_cost =\n {\n@@ -890,7 +910,7 @@ static const struct tune_params qdf24xx_tunings =\n   &qdf24xx_extra_costs,\n   &qdf24xx_addrcost_table,\n   &qdf24xx_regmove_cost,\n-  &generic_vector_cost,\n+  &qdf24xx_vector_cost,\n   &generic_branch_cost,\n   &generic_approx_modes,\n   4, /* memmov_cost  */"}]}