{"sha": "9e8e701d570d467e1f7ac058249c77cea6b7e183", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWU4ZTcwMWQ1NzBkNDY3ZTFmN2FjMDU4MjQ5Yzc3Y2VhNmI3ZTE4Mw==", "commit": {"author": {"name": "Dave Love", "email": "d.love@dl.ac.uk", "date": "1998-07-06T08:29:31Z"}, "committer": {"name": "Dave Love", "email": "fx@gcc.gnu.org", "date": "1998-07-06T08:29:31Z"}, "message": "intdoc.in: Add entry for DATE_AND_TIME.\n\n1998-07-05  Dave Love  <d.love@dl.ac.uk>\n\t* intdoc.in: Add entry for DATE_AND_TIME.\n\t* intrin.def: Add implementation for DATE_AND_TIME.  Make second\n\tand third args of SYSTEM_CLOCK optional.\n\t* com.c (ffecom_expr_intrinsic_): New case for DATE_AND_TIME.\n\t* com-rt.def (FFECOM_gfrtSYSTEM_CLOCK): Call G77_system_clock_0,\n\tnot system_clock_.\n\t(FFECOM_gfrtDATE_AND_TIME): New DEFGFRT.\n\nFrom-SVN: r20938", "tree": {"sha": "ce55691e651390e978399527ff6b400c8c52e5f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce55691e651390e978399527ff6b400c8c52e5f0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9e8e701d570d467e1f7ac058249c77cea6b7e183", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e8e701d570d467e1f7ac058249c77cea6b7e183", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e8e701d570d467e1f7ac058249c77cea6b7e183", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e8e701d570d467e1f7ac058249c77cea6b7e183/comments", "author": null, "committer": null, "parents": [{"sha": "55e859f27fadc74b3b55ac4d9d2dd22201496202", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55e859f27fadc74b3b55ac4d9d2dd22201496202", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55e859f27fadc74b3b55ac4d9d2dd22201496202"}], "stats": {"total": 93, "additions": 83, "deletions": 10}, "files": [{"sha": "25d3640ce921dba678f7c215caef9e74a6cc73d9", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e8e701d570d467e1f7ac058249c77cea6b7e183/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e8e701d570d467e1f7ac058249c77cea6b7e183/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=9e8e701d570d467e1f7ac058249c77cea6b7e183", "patch": "@@ -1,3 +1,16 @@\n+1998-07-05  Dave Love  <d.love@dl.ac.uk>\n+\n+\t* intdoc.in: Add entry for DATE_AND_TIME.\n+\n+\t* intrin.def: Add implementation for DATE_AND_TIME.  Make second\n+\tand third args of SYSTEM_CLOCK optional.\n+\n+\t* com.c (ffecom_expr_intrinsic_): New case for DATE_AND_TIME.\n+\n+\t* com-rt.def (FFECOM_gfrtSYSTEM_CLOCK): Call G77_system_clock_0,\n+\tnot system_clock_.\n+\t(FFECOM_gfrtDATE_AND_TIME): New DEFGFRT.\n+\n Wed Jul  1 11:19:13 1998  Craig Burley  <burley@gnu.org>\n \n \tFix 980701-1.f (which was producing \"unaligned trap\""}, {"sha": "6ceaf17db762d29e7bcfabb44805bc738b21482b", "filename": "gcc/f/com-rt.def", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e8e701d570d467e1f7ac058249c77cea6b7e183/gcc%2Ff%2Fcom-rt.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e8e701d570d467e1f7ac058249c77cea6b7e183/gcc%2Ff%2Fcom-rt.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fcom-rt.def?ref=9e8e701d570d467e1f7ac058249c77cea6b7e183", "patch": "@@ -143,6 +143,7 @@ DEFGFRT (FFECOM_gfrtDASIN, \"d_asin\", FFECOM_rttypeDOUBLE_, \"&d\", FALSE, FALSE)\n DEFGFRT (FFECOM_gfrtDATAN, \"d_atan\", FFECOM_rttypeDOUBLE_, \"&d\", FALSE, FALSE)\n DEFGFRT (FFECOM_gfrtDATAN2, \"d_atn2\", FFECOM_rttypeDOUBLE_, \"&d\", FALSE, FALSE)\n DEFGFRT (FFECOM_gfrtDATE, \"G77_date_0\", FFECOM_rttypeVOID_, \"&a\", FALSE, FALSE)\n+DEFGFRT (FFECOM_gfrtDATE_AND_TIME, \"G77_date_and_time_0\", FFECOM_rttypeVOID_, \"&a&a&a&i\", FALSE, FALSE)\n DEFGFRT (FFECOM_gfrtL_BESJ0, \"j0\", FFECOM_rttypeDOUBLE_, \"d\", FALSE, FALSE)\n DEFGFRT (FFECOM_gfrtL_BESJ1, \"j1\", FFECOM_rttypeDOUBLE_, \"d\", FALSE, FALSE)\n DEFGFRT (FFECOM_gfrtL_BESJN, \"jn\", FFECOM_rttypeDOUBLE_, \"id\", FALSE, FALSE)\n@@ -234,7 +235,7 @@ DEFGFRT (FFECOM_gfrtSRAND, \"G77_srand_0\", FFECOM_rttypeVOID_, \"&i\", FALSE, FALSE\n DEFGFRT (FFECOM_gfrtSTAT, \"G77_stat_0\", FFECOM_rttypeINTEGER_, \"&a&i\", FALSE, FALSE)\n DEFGFRT (FFECOM_gfrtSYMLNK, \"G77_symlnk_0\", FFECOM_rttypeINTEGER_, \"&a&a\", FALSE, FALSE)\n DEFGFRT (FFECOM_gfrtSYSTEM, \"G77_system_0\", FFECOM_rttypeINTEGER_, \"&a\", FALSE, FALSE)\n-DEFGFRT (FFECOM_gfrtSYSTEM_CLOCK, \"system_clock_\", FFECOM_rttypeVOID_, \"&i&i&i\", FALSE, FALSE)\n+DEFGFRT (FFECOM_gfrtSYSTEM_CLOCK, \"G77_system_clock_0\", FFECOM_rttypeVOID_, \"&i&i&i\", FALSE, FALSE)\n DEFGFRT (FFECOM_gfrtTAN, \"r_tan\", FFECOM_rttypeREAL_F2C_, \"&f\", FALSE, FALSE)\n DEFGFRT (FFECOM_gfrtTANH, \"r_tanh\", FFECOM_rttypeREAL_F2C_, \"&f\", FALSE, FALSE)\n DEFGFRT (FFECOM_gfrtTIME, \"G77_time_0\", FFECOM_rttypeLONGINT_, 0, FALSE, FALSE)"}, {"sha": "d2ff346b0ff05eab438c5807dcc6246cca201adf", "filename": "gcc/f/com.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e8e701d570d467e1f7ac058249c77cea6b7e183/gcc%2Ff%2Fcom.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e8e701d570d467e1f7ac058249c77cea6b7e183/gcc%2Ff%2Fcom.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fcom.c?ref=9e8e701d570d467e1f7ac058249c77cea6b7e183", "patch": "@@ -5204,6 +5204,7 @@ ffecom_expr_intrinsic_ (ffebld expr, tree dest_tree,\n     case FFEINTRIN_impCHDIR_func:\n     case FFEINTRIN_impCHMOD_func:\n     case FFEINTRIN_impDATE:\n+    case FFEINTRIN_impDATE_AND_TIME:\n     case FFEINTRIN_impDBESJ0:\n     case FFEINTRIN_impDBESJ1:\n     case FFEINTRIN_impDBESJN:"}, {"sha": "b661d6e5dc2934a5fa6251607e887b6720850728", "filename": "gcc/f/intdoc.in", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e8e701d570d467e1f7ac058249c77cea6b7e183/gcc%2Ff%2Fintdoc.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e8e701d570d467e1f7ac058249c77cea6b7e183/gcc%2Ff%2Fintdoc.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fintdoc.in?ref=9e8e701d570d467e1f7ac058249c77cea6b7e183", "patch": "@@ -2468,3 +2468,24 @@ scheduled alarm was due to be delivered, or zero if there was no\n previously scheduled alarm.\n @xref{Signal Intrinsic (subroutine)}.\n \")\n+\n+DEFDOC (DATE_AND_TIME, \"Get the current date and time.\", \"\\\n+Returns:\n+@table @var\n+@item @1@\n+The date in the form @var{ccyymmdd}: century, year, month and day;\n+@item @2@\n+The time in the form @samp{@var{hhmmss.ss}}: hours, minutes, seconds\n+and milliseconds;\n+@item @3@\n+The difference between local time and UTC (GMT) in the form @var{Shhmm}:\n+sign, hours and minutes, e.g.@ @samp{-0500} (winter in New York);\n+@item @4@\n+The year, month of the year, day of the month, time difference in\n+minutes from UTC, hour of the day, minutes of the hour and milliseconds\n+of the second in successive values of the array.\n+@end table\n+\n+On systems where a millisecond timer isn't available, the millisecond\n+value is returned as zero.\n+\")"}, {"sha": "cad98a74096c2647c76b94e6771428a0a4272342", "filename": "gcc/f/intdoc.texi", "status": "modified", "additions": 43, "deletions": 7, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e8e701d570d467e1f7ac058249c77cea6b7e183/gcc%2Ff%2Fintdoc.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e8e701d570d467e1f7ac058249c77cea6b7e183/gcc%2Ff%2Fintdoc.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fintdoc.texi?ref=9e8e701d570d467e1f7ac058249c77cea6b7e183", "patch": "@@ -184,7 +184,7 @@\n * Date Intrinsic::      Get current date as dd-Mon-yy.\n @end ifset\n @ifset familyF90\n-* Date_and_Time Intrinsic:: (Reserved for future use.)\n+* Date_and_Time Intrinsic:: Get the current date and time.\n @end ifset\n @ifset familyF2U\n * DbesJ0 Intrinsic::    Bessel function (archaic).\n@@ -2977,10 +2977,46 @@ for the current (or any) date.\n @cindex Date_and_Time intrinsic\n @cindex intrinsics, Date_and_Time\n \n-This intrinsic is not yet implemented.\n-The name is, however, reserved as an intrinsic.\n-Use @samp{EXTERNAL Date_and_Time} to use this name for an\n-external procedure.\n+@noindent\n+@example\n+CALL Date_and_Time(@var{Date}, @var{Ftime}, @var{Zone}, @var{Values})\n+@end example\n+\n+@noindent\n+@var{Date}: @code{CHARACTER}; scalar; INTENT(OUT).\n+\n+@noindent\n+@var{Ftime}: @code{CHARACTER}; OPTIONAL; scalar; INTENT(OUT).\n+\n+@noindent\n+@var{Zone}: @code{CHARACTER}; OPTIONAL; scalar; INTENT(OUT).\n+\n+@noindent\n+@var{Values}: @code{INTEGER(KIND=1)}; OPTIONAL; DIMENSION(8); INTENT(OUT).\n+\n+@noindent\n+Intrinsic groups: @code{f90}.\n+\n+@noindent\n+Description:\n+\n+Returns\n+@table @var\n+@item Date\n+The date in the form @var{ccyymmdd}: century, year, month and day;\n+@item Ftime\n+The time in the form @samp{@var{hhmmss.ss}}: hours, minutes, seconds\n+and milliseconds;\n+@item Zone\n+The difference between local time and UTC (GMT) in the form @var{Shhmm}:\n+sign, hours and minutes, e.g.@ @samp{-0500} (winter in New York);\n+@item Values\n+The year, month of the year, day of the month, time difference in\n+minutes from UTC, hour of the day, minutes of the hour and milliseconds\n+of the second in successive values of the array.\n+@end table\n+On systems where a millisecond timer isn't available, the millisecond\n+value is returned as zero.\n \n @end ifset\n @ifset familyF2U\n@@ -10006,10 +10042,10 @@ CALL System_Clock(@var{Count}, @var{Rate}, @var{Max})\n @var{Count}: @code{INTEGER(KIND=1)}; scalar; INTENT(OUT).\n \n @noindent\n-@var{Rate}: @code{INTEGER(KIND=1)}; scalar; INTENT(OUT).\n+@var{Rate}: @code{INTEGER(KIND=1)}; OPTIONAL; scalar; INTENT(OUT).\n \n @noindent\n-@var{Max}: @code{INTEGER(KIND=1)}; scalar; INTENT(OUT).\n+@var{Max}: @code{INTEGER(KIND=1)}; OPTIONAL; scalar; INTENT(OUT).\n \n @noindent\n Intrinsic groups: @code{f90}."}, {"sha": "0c00dccfb016c3e81d7979c0665c59cd11487f3e", "filename": "gcc/f/intrin.def", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e8e701d570d467e1f7ac058249c77cea6b7e183/gcc%2Ff%2Fintrin.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e8e701d570d467e1f7ac058249c77cea6b7e183/gcc%2Ff%2Fintrin.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fintrin.def?ref=9e8e701d570d467e1f7ac058249c77cea6b7e183", "patch": "@@ -1377,7 +1377,7 @@ DEFSPEC (DATE_AND_TIME,\n     \"DATE_AND_TIME\",\n     FALSE,\n     FFEINTRIN_familyF90,\n-    FFEINTRIN_impNONE\n+    FFEINTRIN_impDATE_AND_TIME\n   )\n DEFSPEC (DBESJ0,\n     \"DBESJ0\",\n@@ -3233,6 +3233,7 @@ DEFIMP\t(CPU_TIME,\t\"CPU_TIME\",\tSECOND,,,\t\"--:-:Seconds=R*w\")\n DEFIMP\t(CTIME_func,\t\"CTIME_func\",\tCTIME,,,\t\"A1*:-:STime=I*\")\n DEFIMP\t(CTIME_subr,\t\"CTIME_subr\",\tCTIME,,,\t\"--:-:Result=A1w,STime=I*\")\n DEFIMP\t(DATE,\t\t\"DATE\",\t\tDATE,,,\t\t\"--:-:Date=A1w\")\n+DEFIMP\t(DATE_AND_TIME,\t\"DATE_AND_TIME\", DATE_AND_TIME,,, \"--:-:Date=A1w,Time=?A1w,Zone=?A1w,Values=?I1(8)w\")\n DEFIMP\t(DBESJ0,\t\"DBESJ0\",\tL_BESJ0,,,\t\"R2:-:X=R2\")\n DEFIMP\t(DBESJ1,\t\"DBESJ1\",\tL_BESJ1,,,\t\"R2:-:X=R2\")\n DEFIMP\t(DBESJN,\t\"DBESJN\",\tL_BESJN,,,\t\"R2:-:N=I*,X=R2\")\n@@ -3336,7 +3337,7 @@ DEFIMP\t(SYMLNK_func,\t\"SYMLNK_func\",\tSYMLNK,,,\t\"I1:-:Path1=A1,Path2=A1\")\n DEFIMP\t(SYMLNK_subr,\t\"SYMLNK_subr\",\tSYMLNK,,,\t\"--:-:Path1=A1,Path2=A1,Status=?I1w\")\n DEFIMP\t(SYSTEM_func,\t\"SYSTEM_func\",\tSYSTEM,SYSTEM,SYSTEM,\"I1:-:Command=A1\")\n DEFIMP\t(SYSTEM_subr,\t\"SYSTEM_subr\",\tSYSTEM,,,\t\"--:-:Command=A1,Status=?I1w\")\n-DEFIMP\t(SYSTEM_CLOCK,\t\"SYSTEM_CLOCK\",\tSYSTEM_CLOCK,,,\t\"--:-:Count=I1w,Rate=I1w,Max=I1w\")\n+DEFIMP\t(SYSTEM_CLOCK,\t\"SYSTEM_CLOCK\",\tSYSTEM_CLOCK,,,\t\"--:-:Count=I1w,Rate=?I1w,Max=?I1w\")\n DEFIMP\t(TIME8,\t\t\"TIME8\",\tTIME,,,\t\t\"I2:-:\")\n DEFIMP\t(TIME_unix,\t\"TIME_unix\",\tTIME,,,\t\t\"I1:-:\")\n DEFIMP\t(TIME_vxt,\t\"TIME_vxt\",\tVXTTIME,,,\t\"--:-:Time=A1[8]w\")"}]}