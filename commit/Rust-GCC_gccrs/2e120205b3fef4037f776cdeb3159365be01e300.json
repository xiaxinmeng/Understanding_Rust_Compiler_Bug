{"sha": "2e120205b3fef4037f776cdeb3159365be01e300", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmUxMjAyMDViM2ZlZjQwMzdmNzc2Y2RlYjMxNTkzNjViZTAxZTMwMA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2003-02-18T19:17:28Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2003-02-18T19:17:28Z"}, "message": "re PR c++/9704 (miscompilation of classes with bit fields)\n\n\tPR c++/9704\n\t* class.c (layout_class_type): In the 3.2 ABI, take into account\n\ttrailing bit fields when computing CLASSTYPE_SIZE_UNIT.\n\n\tPR c++/9704\n\t* g++.dg/init/copy5.C: New test.\n\n[[Split portion of a mixed commit.]]\n\nFrom-SVN: r63054.2", "tree": {"sha": "6d0eb0418fa51b34fa362035b64ec13253b4a40f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6d0eb0418fa51b34fa362035b64ec13253b4a40f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2e120205b3fef4037f776cdeb3159365be01e300", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e120205b3fef4037f776cdeb3159365be01e300", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e120205b3fef4037f776cdeb3159365be01e300", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e120205b3fef4037f776cdeb3159365be01e300/comments", "author": null, "committer": null, "parents": [{"sha": "30db8e17e58e96a3bad150c42f1e6b11be4585cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30db8e17e58e96a3bad150c42f1e6b11be4585cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30db8e17e58e96a3bad150c42f1e6b11be4585cb"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "cef5a2950ef170e531ac8dae6b2538a057adf582", "filename": "gcc/testsuite/g++.dg/init/copy5.C", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e120205b3fef4037f776cdeb3159365be01e300/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fcopy5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e120205b3fef4037f776cdeb3159365be01e300/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fcopy5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fcopy5.C?ref=2e120205b3fef4037f776cdeb3159365be01e300", "patch": "@@ -0,0 +1,29 @@\n+// { dg-options \"-O2\" }\n+\n+struct BOOL {\n+    int nVal:1, bSet:1;\n+    BOOL (int i) : nVal(i!=0), bSet(1) {}\n+};\n+struct Fill {\n+    void *d;\n+    Fill() : d(0) {}\n+    Fill( const Fill& ) {}\n+};\n+struct SvMetaSlot {\n+    Fill aGroupId;\n+    BOOL a8;\n+    SvMetaSlot() :\n+      a8(1) {}\n+    SvMetaSlot* MakeClone() const;\n+};\n+\n+SvMetaSlot* SvMetaSlot::MakeClone() const { return new SvMetaSlot( *this ); }\n+\n+extern \"C\" void abort(void);\n+int main()\n+{\n+  SvMetaSlot s; SvMetaSlot s2(s);\n+  if (s.a8.bSet != s2.a8.bSet)\n+    abort ();\n+  return 0;\n+}"}]}