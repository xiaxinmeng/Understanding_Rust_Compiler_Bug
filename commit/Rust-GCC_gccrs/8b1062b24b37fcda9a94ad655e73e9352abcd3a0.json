{"sha": "8b1062b24b37fcda9a94ad655e73e9352abcd3a0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGIxMDYyYjI0YjM3ZmNkYTlhOTRhZDY1NWU3M2U5MzUyYWJjZDNhMA==", "commit": {"author": {"name": "Diego Novillo", "email": "dnovillo@redhat.com", "date": "2005-11-04T19:56:28Z"}, "committer": {"name": "Diego Novillo", "email": "dnovillo@gcc.gnu.org", "date": "2005-11-04T19:56:28Z"}, "message": "re PR tree-optimization/24627 (xntp miscompiled)\n\n\n\tPR 24627\n\t* tree-ssa-dce.c (pass_dce, pass_dce_loop, pass_cd_dce): Use\n\tTODO_update_ssa instead of TODO_update_ssa_no_phi.\n\ntestsuite/\n\n\tPR 24627\n\t* gcc.dg/tree-ssa/pr24627.c: New test.\n\nFrom-SVN: r106502", "tree": {"sha": "7f982dc93abf1d9da4aec5af53b510871265a300", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7f982dc93abf1d9da4aec5af53b510871265a300"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8b1062b24b37fcda9a94ad655e73e9352abcd3a0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b1062b24b37fcda9a94ad655e73e9352abcd3a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b1062b24b37fcda9a94ad655e73e9352abcd3a0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b1062b24b37fcda9a94ad655e73e9352abcd3a0/comments", "author": null, "committer": null, "parents": [{"sha": "47ae9e4ca3616eef07a161144a5bfd1b961b1626", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47ae9e4ca3616eef07a161144a5bfd1b961b1626", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47ae9e4ca3616eef07a161144a5bfd1b961b1626"}], "stats": {"total": 83, "additions": 80, "deletions": 3}, "files": [{"sha": "b7c1bb9a66588f92ce5eae6f2243147d4be16e84", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b1062b24b37fcda9a94ad655e73e9352abcd3a0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b1062b24b37fcda9a94ad655e73e9352abcd3a0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8b1062b24b37fcda9a94ad655e73e9352abcd3a0", "patch": "@@ -1,3 +1,9 @@\n+2005-11-03  Diego Novillo  <dnovillo@redhat.com>\n+\n+\tPR 24627\n+\t* tree-ssa-dce.c (pass_dce, pass_dce_loop, pass_cd_dce): Use\n+\tTODO_update_ssa instead of TODO_update_ssa_no_phi.\n+\n 2005-11-04  Sebastian Pop  <pop@cri.ensmp.fr>\n \n \tPR/18595"}, {"sha": "7e49aa24338585a55c7c8ff9c269e756e8242e8d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b1062b24b37fcda9a94ad655e73e9352abcd3a0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b1062b24b37fcda9a94ad655e73e9352abcd3a0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8b1062b24b37fcda9a94ad655e73e9352abcd3a0", "patch": "@@ -1,3 +1,8 @@\n+2005-11-04  Diego Novillo  <dnovillo@redhat.com>\n+\n+\tPR 24627\n+\t* gcc.dg/tree-ssa/pr24627.c: New test.\n+\n 2005-11-04 Paul Brook  <paul@codesourcery.com>\n \n \t* gcc.dg/tls/opt-10.c: New test."}, {"sha": "011410cbb37f3c0d0407e7274ea009b119b32c89", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr24627.c", "status": "added", "additions": 66, "deletions": 0, "changes": 66, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b1062b24b37fcda9a94ad655e73e9352abcd3a0/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr24627.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b1062b24b37fcda9a94ad655e73e9352abcd3a0/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr24627.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr24627.c?ref=8b1062b24b37fcda9a94ad655e73e9352abcd3a0", "patch": "@@ -0,0 +1,66 @@\n+/* { dg-do run } */\n+/* { dg-options \"-O\" } */\n+\n+extern void abort (void);\n+typedef unsigned int u_int32;\n+\n+typedef struct {\n+  union {u_int32 Xl_ui;} Ul_i;\n+  union {u_int32 Xl_uf;} Ul_f;\n+} l_fp;\n+\n+void\n+dolfptoa (short ndec)\n+{\n+  l_fp work, ftmp;\n+\n+  work.Ul_i.Xl_ui = 0;\n+  work.Ul_f.Xl_uf = 0x535f3d8;\n+\n+  while (ndec > 0)\n+    {\n+      u_int32 lo_tmp;\n+      u_int32 hi_tmp;\n+\n+      ndec--;\n+      work.Ul_i.Xl_ui = 0;\n+      work.Ul_i.Xl_ui <<= 1;\n+      if ((work.Ul_f.Xl_uf) & 0x80000000)\n+\t(work.Ul_i.Xl_ui) |= 0x1;\n+      (work.Ul_f.Xl_uf) <<= 1;\n+\n+      ftmp = work;\n+      (work.Ul_i.Xl_ui) <<= 1;\n+      if ((work.Ul_f.Xl_uf) & 0x80000000)\n+\t(work.Ul_i.Xl_ui) |= 0x1;\n+      (work.Ul_f.Xl_uf) <<= 1;\n+\n+      (work.Ul_i.Xl_ui) <<= 1;\n+      if ((work.Ul_f.Xl_uf) & 0x80000000)\n+\t(work.Ul_i.Xl_ui) |= 0x1;\n+      (work.Ul_f.Xl_uf) <<= 1;\n+\n+      lo_tmp = ((work.Ul_f.Xl_uf) & 0xffff) + ((ftmp.Ul_f.Xl_uf) & 0xffff);\n+      hi_tmp = (((work.Ul_f.Xl_uf) >> 16) & 0xffff)\n+               + (((ftmp.Ul_f.Xl_uf) >> 16) & 0xffff);\n+\n+      if (lo_tmp & 0x10000)\n+\thi_tmp++;\n+\n+      (work.Ul_f.Xl_uf) = ((hi_tmp & 0xffff) << 16) | (lo_tmp & 0xffff);\n+      (work.Ul_i.Xl_ui) += (ftmp.Ul_i.Xl_ui);\n+\n+      if (hi_tmp & 0x10000)\n+\t(work.Ul_i.Xl_ui)++;\n+\n+\n+      if (!(work.Ul_i.Xl_ui < 10))\n+\tabort ();\n+    }\n+}\n+\n+int main()\n+{\n+  dolfptoa(6);\n+  return 0;\n+}"}, {"sha": "24738feca32ff19a035831006e993a2f8236bdce", "filename": "gcc/tree-ssa-dce.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b1062b24b37fcda9a94ad655e73e9352abcd3a0/gcc%2Ftree-ssa-dce.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b1062b24b37fcda9a94ad655e73e9352abcd3a0/gcc%2Ftree-ssa-dce.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-dce.c?ref=8b1062b24b37fcda9a94ad655e73e9352abcd3a0", "patch": "@@ -977,7 +977,7 @@ struct tree_opt_pass pass_dce =\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n   TODO_dump_func \n-    | TODO_update_ssa_no_phi \n+    | TODO_update_ssa\n     | TODO_cleanup_cfg\n     | TODO_ggc_collect\n     | TODO_verify_ssa,\t\t\t/* todo_flags_finish */\n@@ -998,7 +998,7 @@ struct tree_opt_pass pass_dce_loop =\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n   TODO_dump_func \n-    | TODO_update_ssa_no_phi \n+    | TODO_update_ssa\n     | TODO_cleanup_cfg\n     | TODO_verify_ssa,\t\t\t/* todo_flags_finish */\n   0\t\t\t\t\t/* letter */\n@@ -1018,7 +1018,7 @@ struct tree_opt_pass pass_cd_dce =\n   0,\t\t\t\t\t/* properties_destroyed */\n   0,\t\t\t\t\t/* todo_flags_start */\n   TODO_dump_func\n-    | TODO_update_ssa_no_phi\n+    | TODO_update_ssa\n     | TODO_cleanup_cfg\n     | TODO_ggc_collect\n     | TODO_verify_ssa"}]}