{"sha": "9a02d31baa5e83387b3bbfaadca70f4ebc6cce15", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWEwMmQzMWJhYTVlODMzODdiM2JiZmFhZGNhNzBmNGViYzZjY2UxNQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2020-11-04T20:02:31Z"}, "committer": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2020-11-04T20:05:22Z"}, "message": "go: disable -fipa-icf-functions by default in Go frontend\n\nGo programs expect to be able to get reliable backtrace information\nwith correct file/line information, but -fipa-icf-functions breaks\nthat because it merges together distinct functions which should have\ndistinct file/line info.\n\n\t* go-lang.c (go_langhook_post_options): Disable\n\t-fipa-icf-functions if it was not explicitly enabled.", "tree": {"sha": "ea9ef12907bddf82d1d44f270d924a70a61f954b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea9ef12907bddf82d1d44f270d924a70a61f954b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9a02d31baa5e83387b3bbfaadca70f4ebc6cce15", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a02d31baa5e83387b3bbfaadca70f4ebc6cce15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a02d31baa5e83387b3bbfaadca70f4ebc6cce15", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a02d31baa5e83387b3bbfaadca70f4ebc6cce15/comments", "author": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e86fd6a17cdb26710d1f13c9a47a3878c76028f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e86fd6a17cdb26710d1f13c9a47a3878c76028f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e86fd6a17cdb26710d1f13c9a47a3878c76028f9"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "08c1f38a2c1f7cad627cb41f62a37c42cf964404", "filename": "gcc/go/go-lang.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a02d31baa5e83387b3bbfaadca70f4ebc6cce15/gcc%2Fgo%2Fgo-lang.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a02d31baa5e83387b3bbfaadca70f4ebc6cce15/gcc%2Fgo%2Fgo-lang.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgo-lang.c?ref=9a02d31baa5e83387b3bbfaadca70f4ebc6cce15", "patch": "@@ -306,6 +306,12 @@ go_langhook_post_options (const char **pfilename ATTRIBUTE_UNUSED)\n   SET_OPTION_IF_UNSET (&global_options, &global_options_set,\n \t\t       flag_partial_inlining, 0);\n \n+  /* Go programs expect runtime.Callers to give the right answers,\n+     which means that we can't combine functions even if they look the\n+     same.  */\n+  SET_OPTION_IF_UNSET (&global_options, &global_options_set,\n+\t\t       flag_ipa_icf_functions, 0);\n+\n   /* If the debug info level is still 1, as set in init_options, make\n      sure that some debugging type is selected.  */\n   if (global_options.x_debug_info_level == DINFO_LEVEL_TERSE"}]}