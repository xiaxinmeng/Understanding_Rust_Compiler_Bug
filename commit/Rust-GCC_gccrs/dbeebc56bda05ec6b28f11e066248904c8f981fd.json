{"sha": "dbeebc56bda05ec6b28f11e066248904c8f981fd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGJlZWJjNTZiZGEwNWVjNmIyOGYxMWUwNjYyNDg5MDRjOGY5ODFmZA==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-18T15:11:21Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-18T15:11:21Z"}, "message": "re PR fortran/50420 ([Coarray] lcobound doesn't accept coarray subcomponents)\n\n\tPR fortran/50420\n\t* simplify.c (simplify_cobound): Accept non-last-in-ref-chain coarrays.\n\tDon't set already set array ref.\n\nFrom-SVN: r180150", "tree": {"sha": "e1277d5dbaeca917c39cead682ede81ef8a4b104", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e1277d5dbaeca917c39cead682ede81ef8a4b104"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dbeebc56bda05ec6b28f11e066248904c8f981fd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbeebc56bda05ec6b28f11e066248904c8f981fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dbeebc56bda05ec6b28f11e066248904c8f981fd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbeebc56bda05ec6b28f11e066248904c8f981fd/comments", "author": null, "committer": null, "parents": [{"sha": "db171167f41ced8d3b161a8072a809176b586165", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db171167f41ced8d3b161a8072a809176b586165", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db171167f41ced8d3b161a8072a809176b586165"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "2421c03fe76d1f3cd6c7813cf0cd87f256f0da09", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbeebc56bda05ec6b28f11e066248904c8f981fd/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbeebc56bda05ec6b28f11e066248904c8f981fd/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=dbeebc56bda05ec6b28f11e066248904c8f981fd", "patch": "@@ -1,3 +1,9 @@\n+2011-10-18  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\tPR fortran/50420\n+\t* simplify.c (simplify_cobound): Accept non-last-in-ref-chain coarrays.\n+\tDon't set already set array ref.\n+\n 2011-10-18  Mikael Morin  <mikael@gcc.gnu.org>\n \n \t* array.c (gfc_find_array_ref): Remove coarray-specific handling."}, {"sha": "63689bb700c24450265552915f20a69135c1362d", "filename": "gcc/fortran/simplify.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dbeebc56bda05ec6b28f11e066248904c8f981fd/gcc%2Ffortran%2Fsimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dbeebc56bda05ec6b28f11e066248904c8f981fd/gcc%2Ffortran%2Fsimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fsimplify.c?ref=dbeebc56bda05ec6b28f11e066248904c8f981fd", "patch": "@@ -3512,11 +3512,9 @@ simplify_cobound (gfc_expr *array, gfc_expr *dim, gfc_expr *kind, int upper)\n \t  switch (ref->u.ar.type)\n \t    {\n \t    case AR_ELEMENT:\n-\t      if (ref->next == NULL)\n+\t      if (ref->u.ar.as->corank > 0)\n \t\t{\n-\t\t  gcc_assert (ref->u.ar.as->corank > 0\n-\t\t\t      && ref->u.ar.as->rank == 0);\n-\t\t  as = ref->u.ar.as;\n+\t\t  gcc_assert (as == ref->u.ar.as);\n \t\t  goto done;\n \t\t}\n \t      as = NULL;"}]}