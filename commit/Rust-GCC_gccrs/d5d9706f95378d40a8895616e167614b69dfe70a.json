{"sha": "d5d9706f95378d40a8895616e167614b69dfe70a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDVkOTcwNmY5NTM3OGQ0MGE4ODk1NjE2ZTE2NzYxNGI2OWRmZTcwYQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2020-10-22T04:34:48Z"}, "committer": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2020-10-22T04:34:48Z"}, "message": "Free stale summaries in ipa-pure-const\n\n\t* ipa-pure-const.c (funct_state_summary_t::insert): Free stale\n\tsummaries.", "tree": {"sha": "bb6827741d730f73e22533c84ec78c3cbbe70d85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bb6827741d730f73e22533c84ec78c3cbbe70d85"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d5d9706f95378d40a8895616e167614b69dfe70a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5d9706f95378d40a8895616e167614b69dfe70a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5d9706f95378d40a8895616e167614b69dfe70a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5d9706f95378d40a8895616e167614b69dfe70a/comments", "author": null, "committer": null, "parents": [{"sha": "89576d863a879c4986867f991a6ac493106a9879", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89576d863a879c4986867f991a6ac493106a9879", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89576d863a879c4986867f991a6ac493106a9879"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "70930a5eac05da2acf670f7fb445ea42fd3bd8cb", "filename": "gcc/ipa-pure-const.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5d9706f95378d40a8895616e167614b69dfe70a/gcc%2Fipa-pure-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5d9706f95378d40a8895616e167614b69dfe70a/gcc%2Fipa-pure-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-pure-const.c?ref=d5d9706f95378d40a8895616e167614b69dfe70a", "patch": "@@ -1152,6 +1152,9 @@ funct_state_summary_t::insert (cgraph_node *node, funct_state_d *state)\n       new (state) funct_state_d (*a);\n       free (a);\n     }\n+  else\n+    /* Do not keep stale summaries.  */\n+    funct_state_summaries->remove (node);\n }\n \n /* Called when new clone is inserted to callgraph late.  */"}]}