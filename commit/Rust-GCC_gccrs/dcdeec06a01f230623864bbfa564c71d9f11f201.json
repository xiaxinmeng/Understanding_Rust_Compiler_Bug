{"sha": "dcdeec06a01f230623864bbfa564c71d9f11f201", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGNkZWVjMDZhMDFmMjMwNjIzODY0YmJmYTU2NGM3MWQ5ZjExZjIwMQ==", "commit": {"author": {"name": "Francois-Xavier Coudert", "email": "coudert@clipper.ens.fr", "date": "2005-03-16T18:09:03Z"}, "committer": {"name": "Fran\u00e7ois-Xavier Coudert", "email": "fxcoudert@gcc.gnu.org", "date": "2005-03-16T18:09:03Z"}, "message": "write.c (output_float): special check when writing 0.0 with EN and ES formats.\n\n        * write.c (output_float): special check when writing 0.0 with\n          EN and ES formats.\n\n        * pr20480.f90: New test.\n\nFrom-SVN: r96566", "tree": {"sha": "b2c3885a1b4b90ae9295856352a0b4b34bc8c6a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b2c3885a1b4b90ae9295856352a0b4b34bc8c6a3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dcdeec06a01f230623864bbfa564c71d9f11f201", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dcdeec06a01f230623864bbfa564c71d9f11f201", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dcdeec06a01f230623864bbfa564c71d9f11f201", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dcdeec06a01f230623864bbfa564c71d9f11f201/comments", "author": null, "committer": {"login": "fxcoudert", "id": 1980544, "node_id": "MDQ6VXNlcjE5ODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1980544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fxcoudert", "html_url": "https://github.com/fxcoudert", "followers_url": "https://api.github.com/users/fxcoudert/followers", "following_url": "https://api.github.com/users/fxcoudert/following{/other_user}", "gists_url": "https://api.github.com/users/fxcoudert/gists{/gist_id}", "starred_url": "https://api.github.com/users/fxcoudert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fxcoudert/subscriptions", "organizations_url": "https://api.github.com/users/fxcoudert/orgs", "repos_url": "https://api.github.com/users/fxcoudert/repos", "events_url": "https://api.github.com/users/fxcoudert/events{/privacy}", "received_events_url": "https://api.github.com/users/fxcoudert/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e4d5432a7343e870ebcee2fb510afc694dcc80ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4d5432a7343e870ebcee2fb510afc694dcc80ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4d5432a7343e870ebcee2fb510afc694dcc80ac"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "e3e9cec70b9957eee0bca885759aaa035307dac7", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dcdeec06a01f230623864bbfa564c71d9f11f201/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dcdeec06a01f230623864bbfa564c71d9f11f201/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=dcdeec06a01f230623864bbfa564c71d9f11f201", "patch": "@@ -1,3 +1,8 @@\n+2005-03-16  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n+\n+\tPR libfortran/20480\n+\t* pr20480.f90: New test.\n+\n 2005-03-16  Richard Henderson  <rth@redhat.com>\n \n \tPR middle-end/15700"}, {"sha": "12e53009d916f3870369443d892037664ded9edd", "filename": "gcc/testsuite/gfortran.dg/pr20480.f90", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dcdeec06a01f230623864bbfa564c71d9f11f201/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr20480.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dcdeec06a01f230623864bbfa564c71d9f11f201/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr20480.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr20480.f90?ref=dcdeec06a01f230623864bbfa564c71d9f11f201", "patch": "@@ -0,0 +1,9 @@\n+! { dg-do run }\n+! PR libfortran/20480\n+! fxcoudert@gcc.gnu.org\n+  character(len=80) c\n+  write (c,'(ES12.3)') 0.0\n+  if (trim(adjustl(c)) .ne. '0.000E+00') call abort ()\n+  write (c,'(EN12.3)') 0.0\n+  if (trim(adjustl(c)) .ne. '0.000E+00') call abort ()\n+  end"}, {"sha": "43a2d9d39fb4375f09d8e93717014a858e344286", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dcdeec06a01f230623864bbfa564c71d9f11f201/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dcdeec06a01f230623864bbfa564c71d9f11f201/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=dcdeec06a01f230623864bbfa564c71d9f11f201", "patch": "@@ -1,3 +1,9 @@\n+2005-03-16  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n+\n+\tPR libfortran/20480\n+\t* write.c (output_float): special check when writing 0.0 with\n+\t  EN and ES formats.\n+\n 2005-03-11  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n \n \tPR libfortran/20124"}, {"sha": "88e5280b33832c1bcd2e4d98bd99af873a1cef4b", "filename": "libgfortran/io/write.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dcdeec06a01f230623864bbfa564c71d9f11f201/libgfortran%2Fio%2Fwrite.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dcdeec06a01f230623864bbfa564c71d9f11f201/libgfortran%2Fio%2Fwrite.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fwrite.c?ref=dcdeec06a01f230623864bbfa564c71d9f11f201", "patch": "@@ -411,7 +411,8 @@ output_float (fnode *f, double value, int len)\n     case FMT_EN:\n       /* The exponent must be a multiple of three, with 1-3 digits before\n \t the decimal point.  */\n-      e--;\n+      if (value != 0.0)\n+        e--;\n       if (e >= 0)\n \tnbefore = e % 3;\n       else\n@@ -428,7 +429,8 @@ output_float (fnode *f, double value, int len)\n       break;\n \n     case FMT_ES:\n-      e--;\n+      if (value != 0.0)\n+        e--;\n       nbefore = 1;\n       nzero = 0;\n       nafter = d;"}]}