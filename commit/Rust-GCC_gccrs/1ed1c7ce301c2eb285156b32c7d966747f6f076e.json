{"sha": "1ed1c7ce301c2eb285156b32c7d966747f6f076e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWVkMWM3Y2UzMDFjMmViMjg1MTU2YjMyYzdkOTY2NzQ3ZjZmMDc2ZQ==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@bigpond.net.au", "date": "2005-11-23T10:18:11Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2005-11-23T10:18:11Z"}, "message": "open.c (new_unit): Use the right unit number when checking for stdin, stdout, stderr.\n\n\t* io/open.c (new_unit): Use the right unit number when checking\n\tfor stdin, stdout, stderr.\n\nFrom-SVN: r107413", "tree": {"sha": "c73226fe410468a152c86d46858bc8c8c43c6776", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c73226fe410468a152c86d46858bc8c8c43c6776"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ed1c7ce301c2eb285156b32c7d966747f6f076e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ed1c7ce301c2eb285156b32c7d966747f6f076e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ed1c7ce301c2eb285156b32c7d966747f6f076e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ed1c7ce301c2eb285156b32c7d966747f6f076e/comments", "author": null, "committer": null, "parents": [{"sha": "7d6c1f42b4796ed351fe28bf9a0b0142ea23dcdb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d6c1f42b4796ed351fe28bf9a0b0142ea23dcdb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d6c1f42b4796ed351fe28bf9a0b0142ea23dcdb"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "c777d347c4e6023fa7d4dfca197e4423c3671068", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ed1c7ce301c2eb285156b32c7d966747f6f076e/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ed1c7ce301c2eb285156b32c7d966747f6f076e/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=1ed1c7ce301c2eb285156b32c7d966747f6f076e", "patch": "@@ -1,3 +1,8 @@\n+2005-11-23  Alan Modra  <amodra@bigpond.net.au>\n+\n+\t* io/open.c (new_unit): Use the right unit number when checking\n+\tfor stdin, stdout, stderr.\n+\n 2005-11-22  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR libgfortran/24794"}, {"sha": "54595097049b1c165aaf064df61d676b7346fc1a", "filename": "libgfortran/io/open.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ed1c7ce301c2eb285156b32c7d966747f6f076e/libgfortran%2Fio%2Fopen.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ed1c7ce301c2eb285156b32c7d966747f6f076e/libgfortran%2Fio%2Fopen.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fopen.c?ref=1ed1c7ce301c2eb285156b32c7d966747f6f076e", "patch": "@@ -339,9 +339,9 @@ new_unit (st_parameter_open *opp, gfc_unit *u, unit_flags * flags)\n   if ((opp->common.flags & IOPARM_OPEN_HAS_FILE) != 0)\n     u2 = find_file (opp->file, opp->file_len);\n   if (u2 != NULL\n-      && (options.stdin_unit < 0 || u->unit_number != options.stdin_unit)\n-      && (options.stdout_unit < 0 || u->unit_number != options.stdout_unit)\n-      && (options.stderr_unit < 0 || u->unit_number != options.stderr_unit))\n+      && (options.stdin_unit < 0 || u2->unit_number != options.stdin_unit)\n+      && (options.stdout_unit < 0 || u2->unit_number != options.stdout_unit)\n+      && (options.stderr_unit < 0 || u2->unit_number != options.stderr_unit))\n     {\n       unlock_unit (u2);\n       generate_error (&opp->common, ERROR_ALREADY_OPEN, NULL);"}]}