{"sha": "0115d4a36f4ec51a9d70efe91d595b8a002facd2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDExNWQ0YTM2ZjRlYzUxYTlkNzBlZmU5MWQ1OTViOGEwMDJmYWNkMg==", "commit": {"author": {"name": "Ralf Wildenhues", "email": "Ralf.Wildenhues@gmx.de", "date": "2009-08-19T22:19:37Z"}, "committer": {"name": "Ralf Wildenhues", "email": "rwild@gcc.gnu.org", "date": "2009-08-19T22:19:37Z"}, "message": "Disable option checking in the toplevel, avoid 2.64 fopen glitch.\n\n/:\n\t* configure.ac: Call AC_DISABLE_OPTION_CHECKING.\n\t(baseargs): Add --disable-option-checking.\n\t* configure: Regenerate.\n\nconfig/:\n\t* override.m4 (AC_DISABLE_OPTION_CHECKING): Define to be\n\tempty if not defined, to avoid error with 2.59.\n\t(_AC_LANG_IO_PROGRAM): When the Autoconf version is exactly\n\t2.64, avoid per-language instances to drop fopen from test\n\tprogram.\n\nFrom-SVN: r150945", "tree": {"sha": "3c87f798687a766a129c5e463c41722890b39c89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3c87f798687a766a129c5e463c41722890b39c89"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0115d4a36f4ec51a9d70efe91d595b8a002facd2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0115d4a36f4ec51a9d70efe91d595b8a002facd2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0115d4a36f4ec51a9d70efe91d595b8a002facd2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0115d4a36f4ec51a9d70efe91d595b8a002facd2/comments", "author": null, "committer": null, "parents": [{"sha": "58af276a30a51c50a9da39f09acbc39dfd74f8dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58af276a30a51c50a9da39f09acbc39dfd74f8dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58af276a30a51c50a9da39f09acbc39dfd74f8dd"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "98bcd08c685ca70a126db9c2782e0939474f389f", "filename": "ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0115d4a36f4ec51a9d70efe91d595b8a002facd2/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0115d4a36f4ec51a9d70efe91d595b8a002facd2/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=0115d4a36f4ec51a9d70efe91d595b8a002facd2", "patch": "@@ -1,5 +1,9 @@\n 2009-08-19  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n+\t* configure.ac: Call AC_DISABLE_OPTION_CHECKING.\n+\t(baseargs): Add --disable-option-checking.\n+\t* configure: Regenerate.\n+\n \t* Makefile.def (configure-target-libiberty): Depend on\n \tall-binutils and all-ld.\n \t(configure-target-newlib): Likewise."}, {"sha": "7a2a7b642e1f68049d5cf677139ca4e0433064fe", "filename": "config/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0115d4a36f4ec51a9d70efe91d595b8a002facd2/config%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0115d4a36f4ec51a9d70efe91d595b8a002facd2/config%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2FChangeLog?ref=0115d4a36f4ec51a9d70efe91d595b8a002facd2", "patch": "@@ -1,3 +1,11 @@\n+2009-08-19  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\t* override.m4 (AC_DISABLE_OPTION_CHECKING): Define to be\n+\tempty if not defined, to avoid error with 2.59.\n+\t(_AC_LANG_IO_PROGRAM): When the Autoconf version is exactly\n+\t2.64, avoid per-language instances to drop fopen from test\n+\tprogram.\n+\n 2009-07-30  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \t* extensions.m4 (AC_USE_SYSTEM_EXTENSIONS): Do not expand"}, {"sha": "a10146ff75afedac20a7ad489bdbbb09746b49d6", "filename": "config/override.m4", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0115d4a36f4ec51a9d70efe91d595b8a002facd2/config%2Foverride.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0115d4a36f4ec51a9d70efe91d595b8a002facd2/config%2Foverride.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Foverride.m4?ref=0115d4a36f4ec51a9d70efe91d595b8a002facd2", "patch": "@@ -58,6 +58,19 @@ m4_define([AC_INIT], m4_defn([AC_INIT])[\n _GCC_AUTOCONF_VERSION_CHECK\n ])\n \n+\n+dnl Turn AC_DISABLE_OPTION_CHECKING into a no-op if not defined.\n+m4_ifndef([AC_DISABLE_OPTION_CHECKING],\n+  [m4_define([AC_DISABLE_OPTION_CHECKING])])\n+\n+\n+dnl Fix 2.64 cross compile detection for AVR and RTEMS\n+dnl by not trying to compile fopen.\n+m4_if(m4_defn([m4_PACKAGE_VERSION]), [2.64],\n+  [m4_foreach([_GCC_LANG], [C, C++, Fortran, Fortran 77],\n+     [m4_define([_AC_LANG_IO_PROGRAM(]_GCC_LANG[)], m4_defn([AC_LANG_PROGRAM(]_GCC_LANG[)]))])])\n+\n+\n m4_version_prereq([2.60],, [\n dnl We use $ac_pwd in some of the overrides below; ensure its definition\n m4_divert_push([PARSE_ARGS])dnl"}, {"sha": "1acfca7fe109f11085de1b7209f222c2ee2fefd8", "filename": "configure", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0115d4a36f4ec51a9d70efe91d595b8a002facd2/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0115d4a36f4ec51a9d70efe91d595b8a002facd2/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=0115d4a36f4ec51a9d70efe91d595b8a002facd2", "patch": "@@ -1509,6 +1509,7 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n+\n \n \n progname=$0\n@@ -6546,6 +6547,7 @@ baseargs=\"$baseargs --program-transform-name='${gcc_transform_name}'\"\n if test \"$silent\" = yes; then\n   baseargs=\"$baseargs --silent\"\n fi\n+baseargs=\"$baseargs --disable-option-checking\"\n \n # For the build-side libraries, we just need to pretend we're native,\n # and not use the same cache file.  Multilibs are neither needed nor"}, {"sha": "9da0048969a7f78dd9fe508c03b59304415b3a2a", "filename": "configure.ac", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0115d4a36f4ec51a9d70efe91d595b8a002facd2/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0115d4a36f4ec51a9d70efe91d595b8a002facd2/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=0115d4a36f4ec51a9d70efe91d595b8a002facd2", "patch": "@@ -25,6 +25,7 @@ m4_include(config/proginstall.m4)\n \n AC_INIT(move-if-change)\n AC_PREREQ(2.59)\n+AC_DISABLE_OPTION_CHECKING\n \n progname=$0\n # if PWD already has a value, it is probably wrong.\n@@ -2662,6 +2663,7 @@ baseargs=\"$baseargs --program-transform-name='${gcc_transform_name}'\"\n if test \"$silent\" = yes; then\n   baseargs=\"$baseargs --silent\"\n fi\n+baseargs=\"$baseargs --disable-option-checking\"\n \n # For the build-side libraries, we just need to pretend we're native,\n # and not use the same cache file.  Multilibs are neither needed nor"}]}