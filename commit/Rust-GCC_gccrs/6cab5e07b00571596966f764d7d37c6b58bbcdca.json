{"sha": "6cab5e07b00571596966f764d7d37c6b58bbcdca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmNhYjVlMDdiMDA1NzE1OTY5NjZmNzY0ZDdkMzdjNmI1OGJiY2RjYQ==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-18T15:02:38Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-18T15:02:38Z"}, "message": "re PR fortran/50420 ([Coarray] lcobound doesn't accept coarray subcomponents)\n\n\tPR fortran/50420\n\t* trans-intrinsic.c (walk_coarray): Change AR_ELEMENT to AR_SECTION.\n\n\tPR fortran/50420\n\t* trans-intrinsic.c (walk_coarray): Use gfc_walk_array_ref for\n\tthe scalarization chain initialization.\n\nFrom-SVN: r180147", "tree": {"sha": "676ec71d78e336ae5a90852a5dadb2ff175e7b53", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/676ec71d78e336ae5a90852a5dadb2ff175e7b53"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6cab5e07b00571596966f764d7d37c6b58bbcdca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6cab5e07b00571596966f764d7d37c6b58bbcdca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6cab5e07b00571596966f764d7d37c6b58bbcdca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6cab5e07b00571596966f764d7d37c6b58bbcdca/comments", "author": null, "committer": null, "parents": [{"sha": "411e1a0f5350182c7833016eff8f1459a92d7531", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/411e1a0f5350182c7833016eff8f1459a92d7531", "html_url": "https://github.com/Rust-GCC/gccrs/commit/411e1a0f5350182c7833016eff8f1459a92d7531"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "2b3ca85b6e15f395b44bef2aa382801a8980ee91", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6cab5e07b00571596966f764d7d37c6b58bbcdca/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6cab5e07b00571596966f764d7d37c6b58bbcdca/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=6cab5e07b00571596966f764d7d37c6b58bbcdca", "patch": "@@ -1,3 +1,12 @@\n+2011-10-18  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\tPR fortran/50420\n+\t* trans-intrinsic.c (walk_coarray): Change AR_ELEMENT to AR_SECTION.\n+\n+\tPR fortran/50420\n+\t* trans-intrinsic.c (walk_coarray): Use gfc_walk_array_ref for\n+\tthe scalarization chain initialization. \n+\n 2011-10-18  Mikael Morin  <mikael@gcc.gnu.org>\n \n \tPR fortran/50420"}, {"sha": "83fc4fc52efaf59bb813a250ece5d06fa17b21aa", "filename": "gcc/fortran/trans-intrinsic.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6cab5e07b00571596966f764d7d37c6b58bbcdca/gcc%2Ffortran%2Ftrans-intrinsic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6cab5e07b00571596966f764d7d37c6b58bbcdca/gcc%2Ffortran%2Ftrans-intrinsic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-intrinsic.c?ref=6cab5e07b00571596966f764d7d37c6b58bbcdca", "patch": "@@ -940,8 +940,6 @@ walk_coarray (gfc_expr *e)\n     {\n       gfc_ref *ref;\n \n-      ss = gfc_get_array_ss (gfc_ss_terminator, e, 0, GFC_SS_SECTION);\n-\n       ref = e->ref;\n       while (ref)\n \t{\n@@ -953,8 +951,9 @@ walk_coarray (gfc_expr *e)\n \t}\n \n       gcc_assert (ref != NULL);\n-      ref->u.ar.type = AR_FULL;\n-      ss->data.info.ref = ref;\n+      if (ref->u.ar.type == AR_ELEMENT)\n+\tref->u.ar.type = AR_SECTION;\n+      ss = gfc_reverse_ss (gfc_walk_array_ref (ss, e, ref));\n     }\n \n   return ss;"}]}