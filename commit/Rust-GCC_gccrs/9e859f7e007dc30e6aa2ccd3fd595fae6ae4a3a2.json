{"sha": "9e859f7e007dc30e6aa2ccd3fd595fae6ae4a3a2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWU4NTlmN2UwMDdkYzMwZTZhYTJjY2QzZmQ1OTVmYWU2YWU0YTNhMg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-01-07T05:42:33Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-01-07T05:42:33Z"}, "message": "(reload) [SMALL_REGISTER_CLASSES]: When adding an extra need if the insn uses the function value return register...\n\n(reload) [SMALL_REGISTER_CLASSES]: When adding an extra\nneed if the insn uses the function value return register,\nlikewise add an extra single-reg need for each class in which\nthe insn needs a group.\n\nFrom-SVN: r3141", "tree": {"sha": "32cf0a83658fa4cedf5cddbf12d9a7cf9ee587e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/32cf0a83658fa4cedf5cddbf12d9a7cf9ee587e7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9e859f7e007dc30e6aa2ccd3fd595fae6ae4a3a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e859f7e007dc30e6aa2ccd3fd595fae6ae4a3a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e859f7e007dc30e6aa2ccd3fd595fae6ae4a3a2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e859f7e007dc30e6aa2ccd3fd595fae6ae4a3a2/comments", "author": null, "committer": null, "parents": [{"sha": "8bfd2094728eeef59530505d5b3c8ff48587c56f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8bfd2094728eeef59530505d5b3c8ff48587c56f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8bfd2094728eeef59530505d5b3c8ff48587c56f"}], "stats": {"total": 10, "additions": 4, "deletions": 6}, "files": [{"sha": "1cc8d7825b161d48da13319b899cc4849fceb81e", "filename": "gcc/reload1.c", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e859f7e007dc30e6aa2ccd3fd595fae6ae4a3a2/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e859f7e007dc30e6aa2ccd3fd595fae6ae4a3a2/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=9e859f7e007dc30e6aa2ccd3fd595fae6ae4a3a2", "patch": "@@ -1299,14 +1299,12 @@ reload (first, global, dumpfile)\n \t\t      for (i = 0; i < N_REG_CLASSES; i++)\n \t\t\tif (TEST_HARD_REG_BIT (reg_class_contents[i], r))\n \t\t\t  {\n-\t\t\t    if (insn_needs[i] > 0)\n+\t\t\t    /* ??? It's not clear what is really\n+\t\t\t       right to do if this insn needs a group.\n+\t\t\t       But maybe that cannot happen.  */\n+\t\t\t    if (insn_needs[i] > 0 || insn_groups[i] > 0)\n \t\t\t      insn_needs[i]++;\n-\t\t\t    if (insn_groups[i] > 0\n-\t\t\t\t&& nregs > 1)\n-\t\t\t      inc_groups = 1;\n \t\t\t  }\n-\t\t  if (inc_groups)\n-\t\t    insn_groups[i]++;\n \t\t}\n #endif /* SMALL_REGISTER_CLASSES */\n "}]}