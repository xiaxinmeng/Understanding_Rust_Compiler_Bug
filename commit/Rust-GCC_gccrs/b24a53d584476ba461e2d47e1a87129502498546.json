{"sha": "b24a53d584476ba461e2d47e1a87129502498546", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjI0YTUzZDU4NDQ3NmJhNDYxZTJkNDdlMWE4NzEyOTUwMjQ5ODU0Ng==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-16T19:52:45Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-16T19:52:45Z"}, "message": "(get_secondary_mem): Use macro SECONDARY_MEMORY_NEEDED_RTX.\n\nFrom-SVN: r3758", "tree": {"sha": "58140d9c79c1c92ed394c89f6e10739d18e6b801", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58140d9c79c1c92ed394c89f6e10739d18e6b801"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b24a53d584476ba461e2d47e1a87129502498546", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b24a53d584476ba461e2d47e1a87129502498546", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b24a53d584476ba461e2d47e1a87129502498546", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b24a53d584476ba461e2d47e1a87129502498546/comments", "author": null, "committer": null, "parents": [{"sha": "9798977501cfeda200514277bec653ec57259c97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9798977501cfeda200514277bec653ec57259c97", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9798977501cfeda200514277bec653ec57259c97"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "ab2ac22d4c3a7a7722e42842f51024e7dfee6c03", "filename": "gcc/reload.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b24a53d584476ba461e2d47e1a87129502498546/gcc%2Freload.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b24a53d584476ba461e2d47e1a87129502498546/gcc%2Freload.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload.c?ref=b24a53d584476ba461e2d47e1a87129502498546", "patch": "@@ -413,8 +413,14 @@ get_secondary_mem (x, mode)\n      by noticing that the frame size has changed.  */\n \n   if (secondary_memlocs[(int) mode] == 0)\n-    secondary_memlocs[(int) mode]\n-      = assign_stack_local (mode, GET_MODE_SIZE (mode), 0);\n+    {\n+#ifdef SECONDARY_MEMORY_NEEDED_RTX\n+      secondary_memlocs[(int) mode] = SECONDARY_MEMORY_NEEDED_RTX (mode);\n+#else\n+      secondary_memlocs[(int) mode]\n+\t= assign_stack_local (mode, GET_MODE_SIZE (mode), 0);\n+#endif\n+    }\n \n   /* Get a version of the address doing any eliminations needed.  If that\n      didn't give us a new MEM, make a new one if it isn't valid.  */"}]}