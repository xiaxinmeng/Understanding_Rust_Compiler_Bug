{"sha": "6c223f5da144ae11fe0d9b81e4c1ee625e3bef6b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmMyMjNmNWRhMTQ0YWUxMWZlMGQ5YjgxZTRjMWVlNjI1ZTNiZWY2Yg==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2011-03-22T22:31:35Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2011-03-22T22:31:35Z"}, "message": "cris.c (cris_handle_option): Access target_flags via opts pointer.\n\n\t* config/cris/cris.c (cris_handle_option): Access target_flags via\n\topts pointer.  Don't assert that global structures are in use.\n\tDon't call CRIS_SUBTARGET_HANDLE_OPTION.\n\t* config/cris/cris.h (CRIS_SUBTARGET_HANDLE_OPTION): Don't define.\n\nFrom-SVN: r171315", "tree": {"sha": "f5d521c201050e42d571ac75ae56f286f0318c76", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f5d521c201050e42d571ac75ae56f286f0318c76"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6c223f5da144ae11fe0d9b81e4c1ee625e3bef6b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c223f5da144ae11fe0d9b81e4c1ee625e3bef6b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c223f5da144ae11fe0d9b81e4c1ee625e3bef6b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c223f5da144ae11fe0d9b81e4c1ee625e3bef6b/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bbd399cf9190106e0f71566741f907bc33e00bb4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbd399cf9190106e0f71566741f907bc33e00bb4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbd399cf9190106e0f71566741f907bc33e00bb4"}], "stats": {"total": 29, "additions": 14, "deletions": 15}, "files": [{"sha": "b151f8792a3f3759c2ebe7a9cc0bdfd387753db9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c223f5da144ae11fe0d9b81e4c1ee625e3bef6b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c223f5da144ae11fe0d9b81e4c1ee625e3bef6b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6c223f5da144ae11fe0d9b81e4c1ee625e3bef6b", "patch": "@@ -1,3 +1,10 @@\n+2011-03-22  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* config/cris/cris.c (cris_handle_option): Access target_flags via\n+\topts pointer.  Don't assert that global structures are in use.\n+\tDon't call CRIS_SUBTARGET_HANDLE_OPTION.\n+\t* config/cris/cris.h (CRIS_SUBTARGET_HANDLE_OPTION): Don't define.\n+\n 2011-03-22  Joseph Myers  <joseph@codesourcery.com>\n \n \t* config/bfin/bfin-opts.h: New."}, {"sha": "c1aa94380e423197bfd69b4b387df1654f394926", "filename": "gcc/config/cris/cris.c", "status": "modified", "additions": 7, "deletions": 13, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c223f5da144ae11fe0d9b81e4c1ee625e3bef6b/gcc%2Fconfig%2Fcris%2Fcris.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c223f5da144ae11fe0d9b81e4c1ee625e3bef6b/gcc%2Fconfig%2Fcris%2Fcris.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Fcris.c?ref=6c223f5da144ae11fe0d9b81e4c1ee625e3bef6b", "patch": "@@ -2340,36 +2340,32 @@ cris_asm_output_case_end (FILE *stream, int num, rtx table)\n    cris_option_override.  */\n \n static bool\n-cris_handle_option (struct gcc_options *opts, struct gcc_options *opts_set,\n+cris_handle_option (struct gcc_options *opts,\n+\t\t    struct gcc_options *opts_set ATTRIBUTE_UNUSED,\n \t\t    const struct cl_decoded_option *decoded,\n \t\t    location_t loc ATTRIBUTE_UNUSED)\n {\n   size_t code = decoded->opt_index;\n-  const char *arg ATTRIBUTE_UNUSED = decoded->arg;\n-  int value ATTRIBUTE_UNUSED = decoded->value;\n-\n-  gcc_assert (opts == &global_options);\n-  gcc_assert (opts_set == &global_options_set);\n \n   switch (code)\n     {\n     case OPT_metrax100:\n-      target_flags\n+      opts->x_target_flags\n \t|= (MASK_SVINTO\n \t    + MASK_ETRAX4_ADD\n \t    + MASK_ALIGN_BY_32);\n       break;\n \n     case OPT_mno_etrax100:\n-      target_flags\n+      opts->x_target_flags\n \t&= ~(MASK_SVINTO\n \t     + MASK_ETRAX4_ADD\n \t     + MASK_ALIGN_BY_32);\n       break;\n \n     case OPT_m32_bit:\n     case OPT_m32bit:\n-      target_flags\n+      opts->x_target_flags\n \t|= (MASK_STACK_ALIGN\n \t    + MASK_CONST_ALIGN\n \t    + MASK_DATA_ALIGN\n@@ -2378,15 +2374,15 @@ cris_handle_option (struct gcc_options *opts, struct gcc_options *opts_set,\n \n     case OPT_m16_bit:\n     case OPT_m16bit:\n-      target_flags\n+      opts->x_target_flags\n \t|= (MASK_STACK_ALIGN\n \t    + MASK_CONST_ALIGN\n \t    + MASK_DATA_ALIGN);\n       break;\n \n     case OPT_m8_bit:\n     case OPT_m8bit:\n-      target_flags\n+      opts->x_target_flags\n \t&= ~(MASK_STACK_ALIGN\n \t     + MASK_CONST_ALIGN\n \t     + MASK_DATA_ALIGN);\n@@ -2396,8 +2392,6 @@ cris_handle_option (struct gcc_options *opts, struct gcc_options *opts_set,\n       break;\n     }\n \n-  CRIS_SUBTARGET_HANDLE_OPTION(code, arg, value);\n-\n   return true;\n }\n "}, {"sha": "e8172bb119535a6f69e44d5a61341a6dc7489724", "filename": "gcc/config/cris/cris.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c223f5da144ae11fe0d9b81e4c1ee625e3bef6b/gcc%2Fconfig%2Fcris%2Fcris.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c223f5da144ae11fe0d9b81e4c1ee625e3bef6b/gcc%2Fconfig%2Fcris%2Fcris.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Fcris.h?ref=6c223f5da144ae11fe0d9b81e4c1ee625e3bef6b", "patch": "@@ -309,8 +309,6 @@ extern int cris_cpu_version;\n #define TARGET_HAS_SWAP (cris_cpu_version >= CRIS_CPU_SVINTO)\n #define TARGET_V32 (cris_cpu_version >= CRIS_CPU_V32)\n \n-#define CRIS_SUBTARGET_HANDLE_OPTION(x, y, z)\n-\n /* Node: Storage Layout */\n \n #define BITS_BIG_ENDIAN 0"}]}