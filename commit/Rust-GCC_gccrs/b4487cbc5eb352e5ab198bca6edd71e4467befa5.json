{"sha": "b4487cbc5eb352e5ab198bca6edd71e4467befa5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjQ0ODdjYmM1ZWIzNTJlNWFiMTk4YmNhNmVkZDcxZTQ0NjdiZWZhNQ==", "commit": {"author": {"name": "Aditya Kumar", "email": "aditya.k7@samsung.com", "date": "2015-11-06T20:43:52Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2015-11-06T20:43:52Z"}, "message": "do not collect cold loops in scops\n\n           * graphite-scop-detection.c (loop_is_valid_scop): Call\n           optimize_loop_nest_for_speed_p.\n\nCo-Authored-By: Sebastian Pop <s.pop@samsung.com>\n\nFrom-SVN: r229890", "tree": {"sha": "cd06d5ac9699026d54b399017ad0e42137eeafcb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cd06d5ac9699026d54b399017ad0e42137eeafcb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b4487cbc5eb352e5ab198bca6edd71e4467befa5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4487cbc5eb352e5ab198bca6edd71e4467befa5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4487cbc5eb352e5ab198bca6edd71e4467befa5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4487cbc5eb352e5ab198bca6edd71e4467befa5/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "40856c71be57cd32733304904d74e5ffe221623d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40856c71be57cd32733304904d74e5ffe221623d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/40856c71be57cd32733304904d74e5ffe221623d"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "c5c9eedd864274193f7a7f5b619d5d8a7525340c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4487cbc5eb352e5ab198bca6edd71e4467befa5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4487cbc5eb352e5ab198bca6edd71e4467befa5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b4487cbc5eb352e5ab198bca6edd71e4467befa5", "patch": "@@ -1,3 +1,9 @@\n+2015-11-06  Aditya Kumar  <aditya.k7@samsung.com>\n+\t    Sebastian Pop  <s.pop@samsung.com>\n+\n+\t* graphite-scop-detection.c (loop_is_valid_scop): Call\n+\toptimize_loop_nest_for_speed_p.\n+\n 2015-11-06  Aditya Kumar  <aditya.k7@samsung.com>\n \t    Sebastian Pop  <s.pop@samsung.com>\n "}, {"sha": "9fb8264550189ed8ac84a9dee3f104be510119e4", "filename": "gcc/graphite-scop-detection.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4487cbc5eb352e5ab198bca6edd71e4467befa5/gcc%2Fgraphite-scop-detection.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4487cbc5eb352e5ab198bca6edd71e4467befa5/gcc%2Fgraphite-scop-detection.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-scop-detection.c?ref=b4487cbc5eb352e5ab198bca6edd71e4467befa5", "patch": "@@ -959,6 +959,13 @@ scop_detection::loop_is_valid_scop (loop_p loop, sese_l scop) const\n   if (!scop)\n     return false;\n \n+  if (!optimize_loop_nest_for_speed_p (loop))\n+    {\n+      DEBUG_PRINT (dp << \"[scop-detection-fail] loop_\"\n+\t\t      << loop->num << \" is not on a hot path.\\n\");\n+      return false;\n+    }\n+\n   if (!can_represent_loop (loop, scop))\n     {\n       DEBUG_PRINT (dp << \"[scop-detection-fail] cannot represent loop_\""}]}