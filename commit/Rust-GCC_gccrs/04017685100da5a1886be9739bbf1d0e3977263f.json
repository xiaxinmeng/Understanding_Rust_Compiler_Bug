{"sha": "04017685100da5a1886be9739bbf1d0e3977263f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDQwMTc2ODUxMDBkYTVhMTg4NmJlOTczOWJiZjFkMGUzOTc3MjYzZg==", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2019-04-17T08:34:10Z"}, "committer": {"name": "Thomas Schwinge", "email": "tschwinge@gcc.gnu.org", "date": "2019-04-17T08:34:10Z"}, "message": "[PR90067, PR90114] Document Fortran OpenACC predetermined private status quo\n\n\tgcc/testsuite/\n\tPR fortran/90067\n\tPR fortran/90114\n\t* gfortran.dg/goacc/private-1.f95: Remove file.\n\t* gfortran.dg/goacc/private-2.f95: Likewise.\n\t* gfortran.dg/goacc/private-predetermined-kernels-1.f95: New file.\n\t* gfortran.dg/goacc/private-predetermined-parallel-1.f95:\n\tLikewise.\n\t* gfortran.dg/goacc/private-predetermined-routine-1.f95: Likewise.\n\nFrom-SVN: r270405", "tree": {"sha": "655892cb2256a453c7cb9b2e3d62b3d1fbc6a94d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/655892cb2256a453c7cb9b2e3d62b3d1fbc6a94d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/04017685100da5a1886be9739bbf1d0e3977263f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04017685100da5a1886be9739bbf1d0e3977263f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04017685100da5a1886be9739bbf1d0e3977263f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04017685100da5a1886be9739bbf1d0e3977263f/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fc2b685884a2a3812b2961091d6943f9a310973f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc2b685884a2a3812b2961091d6943f9a310973f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fc2b685884a2a3812b2961091d6943f9a310973f"}], "stats": {"total": 730, "additions": 654, "deletions": 76}, "files": [{"sha": "0ed8b3c5283782bf86da060c42e059695f60befa", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04017685100da5a1886be9739bbf1d0e3977263f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04017685100da5a1886be9739bbf1d0e3977263f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=04017685100da5a1886be9739bbf1d0e3977263f", "patch": "@@ -1,3 +1,14 @@\n+2019-04-17  Thomas Schwinge  <thomas@codesourcery.com>\n+\n+\tPR fortran/90067\n+\tPR fortran/90114\n+\t* gfortran.dg/goacc/private-1.f95: Remove file.\n+\t* gfortran.dg/goacc/private-2.f95: Likewise.\n+\t* gfortran.dg/goacc/private-predetermined-kernels-1.f95: New file.\n+\t* gfortran.dg/goacc/private-predetermined-parallel-1.f95:\n+\tLikewise.\n+\t* gfortran.dg/goacc/private-predetermined-routine-1.f95: Likewise.\n+\n 2019-04-17  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/89093"}, {"sha": "23ce95ad8d24341d4493711364e307fa28520137", "filename": "gcc/testsuite/gfortran.dg/goacc/private-1.f95", "status": "removed", "additions": 0, "deletions": 37, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc2b685884a2a3812b2961091d6943f9a310973f/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-1.f95", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc2b685884a2a3812b2961091d6943f9a310973f/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-1.f95", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-1.f95?ref=fc2b685884a2a3812b2961091d6943f9a310973f", "patch": "@@ -1,37 +0,0 @@\n-! { dg-do compile }\n-! { dg-additional-options \"-fdump-tree-omplower\" }\n-\n-! test for implicit private clauses in do loops\n-\n-program test\n-  implicit none\n-  integer :: i, j, k\n-\n-  !$acc parallel\n-  !$acc loop\n-  do i = 1, 100\n-  end do\n-  !$acc end parallel\n-\n-  !$acc parallel\n-  !$acc loop\n-  do i = 1, 100\n-     do j = 1, 100\n-     end do\n-  end do\n-  !$acc end parallel\n-\n-  !$acc parallel\n-  !$acc loop\n-  do i = 1, 100\n-     do j = 1, 100\n-        do k = 1, 100\n-        end do\n-     end do\n-  end do\n-  !$acc end parallel\n-end program test\n-! { dg-final { scan-tree-dump-times \"pragma omp target oacc_parallel\" 3 \"omplower\" } }\n-! { dg-final { scan-tree-dump-times \"private\\\\(i\\\\)\" 3 \"omplower\" } }\n-! { dg-final { scan-tree-dump-times \"private\\\\(j\\\\)\" 2 \"omplower\" } }\n-! { dg-final { scan-tree-dump-times \"private\\\\(k\\\\)\" 1 \"omplower\" } }"}, {"sha": "4b038f2b5f20f34bf0396bb658d0d83d80eb86c1", "filename": "gcc/testsuite/gfortran.dg/goacc/private-2.f95", "status": "removed", "additions": 0, "deletions": 39, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc2b685884a2a3812b2961091d6943f9a310973f/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-2.f95", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc2b685884a2a3812b2961091d6943f9a310973f/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-2.f95", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-2.f95?ref=fc2b685884a2a3812b2961091d6943f9a310973f", "patch": "@@ -1,39 +0,0 @@\n-! { dg-do compile }\n-\n-! test for implicit private clauses in do loops\n-\n-program test\n-  implicit none\n-  integer :: i, j, k, a(10)\n-\n-  !$acc parallel\n-  !$acc loop\n-  do i = 1, 100\n-  end do\n-  !$acc end parallel\n-\n-  !$acc parallel\n-  !$acc loop\n-  do i = 1, 100\n-     do j = 1, 100\n-     end do\n-  end do\n-  !$acc end parallel\n-\n-  !$acc data copy(a)\n-\n-  if(mod(1,10) .eq. 0) write(*,'(i5)') i\n-\n-  do i = 1, 100\n-    !$acc parallel\n-    !$acc loop\n-     do j = 1, 100\n-        do k = 1, 100\n-        end do\n-     end do\n-    !$acc end parallel\n-  end do\n-\n-  !$acc end data\n-\n-end program test"}, {"sha": "12a7854526a94a950ccc9b1facdb11bc20d9c451", "filename": "gcc/testsuite/gfortran.dg/goacc/private-predetermined-kernels-1.f95", "status": "added", "additions": 248, "deletions": 0, "changes": 248, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04017685100da5a1886be9739bbf1d0e3977263f/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-predetermined-kernels-1.f95", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04017685100da5a1886be9739bbf1d0e3977263f/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-predetermined-kernels-1.f95", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-predetermined-kernels-1.f95?ref=04017685100da5a1886be9739bbf1d0e3977263f", "patch": "@@ -0,0 +1,248 @@\n+! Predetermined 'private' clauses related to 'do' loops inside an OpenACC\n+! 'kernels' construct.\n+\n+! { dg-additional-options \"-fdump-tree-original -fdump-tree-gimple\" }\n+\n+! (The 'independent' clauses are used as end of directive markers in tree dump\n+! scanning.)\n+\n+program test\n+  implicit none\n+  integer :: i0_1\n+  integer :: i0_2, j0_2\n+  integer :: i1_s\n+  integer :: i1_c\n+  integer :: i2_1_s, j2_1_s\n+  integer :: i2_1_c, j2_1_c\n+  integer :: i2_2_s, j2_2_s\n+  integer :: i2_3_s, j2_3_s\n+  integer :: i2_3_c, j2_3_c\n+  integer :: i3_1_s, j3_1_s, k3_1_s\n+  integer :: i3_1_c, j3_1_c, k3_1_c\n+  integer :: i3_2_s, j3_2_s, k3_2_s\n+  integer :: i3_2_c, j3_2_c, k3_2_c\n+  integer :: i3_3_s, j3_3_s, k3_3_s\n+  integer :: i3_3_c, j3_3_c, k3_3_c\n+  integer :: i3_4_s, j3_4_s, k3_4_s\n+  integer :: i3_4_c, j3_4_c, k3_4_c\n+  integer :: i3_5_s, j3_5_s, k3_5_s\n+\n+  !$acc kernels\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_1\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_1\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_kernels map\\\\(force_tofrom:i0_1 \\\\\\[len: \\[0-9\\]+\\\\\\]\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  do i0_1 = 1, 100\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_2\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(j0_2\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_2\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(j0_2\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_kernels map\\\\(force_tofrom:j0_2 \\\\\\[len: \\[0-9\\]+\\\\\\]\\\\) map\\\\(force_tofrom:i0_2 \\\\\\[len: \\[0-9\\]+\\\\\\]\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  do i0_2 = 1, 100\n+     do j0_2 = 1, 100\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i1_s = 1, 100\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_c\\\\) independent\" 1 \"gimple\" } }\n+  do i1_c = 1, 100\n+  end do\n+\n+  !$acc kernels\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_s\\\\) private\\\\(j2_1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_s\\\\) private\\\\(j2_1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i2_1_s = 1, 100\n+     do j2_1_s = 1, 100\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_c\\\\) private\\\\(j2_1_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_c\\\\) private\\\\(j2_1_c\\\\) independent\" 1 \"gimple\" } }\n+  do i2_1_c = 1, 100\n+     do j2_1_c = 1, 100\n+     end do\n+  end do\n+\n+  !$acc kernels\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i2_2_s\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i2_2_s\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_kernels map\\\\(force_tofrom:i2_2_s \\\\\\[len: \\[0-9\\]+\\\\\\]\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  do i2_2_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_2_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_2_s\\\\) independent\" 1 \"gimple\" } }\n+     do j2_2_s = 1, 100\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_s\\\\) independent\" 1 \"gimple\" } }\n+  do i2_3_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_s\\\\) independent\" 1 \"gimple\" } }\n+     do j2_3_s = 1, 100\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_c\\\\) independent\" 1 \"gimple\" } }\n+  do i2_3_c = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_c\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_c\\\\) independent\" 1 \"gimple\" } }\n+     do j2_3_c = 1, 100\n+     end do\n+  end do\n+\n+  !$acc kernels\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_s\\\\) private\\\\(j3_1_s\\\\) private\\\\(k3_1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_s\\\\) private\\\\(j3_1_s\\\\) private\\\\(k3_1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_1_s = 1, 100\n+     do j3_1_s = 1, 100\n+        do k3_1_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_c\\\\) private\\\\(j3_1_c\\\\) private\\\\(k3_1_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_c\\\\) private\\\\(j3_1_c\\\\) private\\\\(k3_1_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_1_c = 1, 100\n+     do j3_1_c = 1, 100\n+        do k3_1_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc kernels\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_2_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_s\\\\) private\\\\(k3_2_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_s\\\\) private\\\\(k3_2_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_2_s = 1, 100\n+        do k3_2_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_2_c = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_c\\\\) private\\\\(k3_2_c\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_c\\\\) private\\\\(k3_2_c\\\\) independent\" 1 \"gimple\" } }\n+     do j3_2_c = 1, 100\n+        do k3_2_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc kernels\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_s\\\\) private\\\\(j3_3_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_s\\\\) private\\\\(j3_3_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_3_s = 1, 100\n+     do j3_3_s = 1, 100\n+        !$acc loop independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_3_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_c\\\\) private\\\\(j3_3_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_c\\\\) private\\\\(j3_3_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_3_c = 1, 100\n+     do j3_3_c = 1, 100\n+        !$acc loop independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_c\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_c\\\\) independent\" 1 \"gimple\" } }\n+        do k3_3_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc kernels\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_4_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_4_s = 1, 100\n+        !$acc loop independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_4_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end kernels\n+\n+  !$acc kernels loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_4_c = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_c\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_c\\\\) independent\" 1 \"gimple\" } }\n+     do j3_4_c = 1, 100\n+        !$acc loop independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_c\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_c\\\\) independent\" 1 \"gimple\" } }\n+        do k3_4_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc kernels\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i3_5_s\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i3_5_s\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_kernels map\\\\(force_tofrom:i3_5_s \\\\\\[len: \\[0-9\\]+\\\\\\]\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  do i3_5_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_5_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_5_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_5_s = 1, 100\n+        !$acc loop independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_5_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_5_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_5_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end kernels\n+end program test"}, {"sha": "a2fa71a58b7242dc2bf4750d2e5a0ba107a1ee46", "filename": "gcc/testsuite/gfortran.dg/goacc/private-predetermined-parallel-1.f95", "status": "added", "additions": 253, "deletions": 0, "changes": 253, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04017685100da5a1886be9739bbf1d0e3977263f/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-predetermined-parallel-1.f95", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04017685100da5a1886be9739bbf1d0e3977263f/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-predetermined-parallel-1.f95", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-predetermined-parallel-1.f95?ref=04017685100da5a1886be9739bbf1d0e3977263f", "patch": "@@ -0,0 +1,253 @@\n+! Predetermined 'private' clauses related to 'do' loops inside an OpenACC\n+! 'parallel' construct.\n+\n+! { dg-additional-options \"-fdump-tree-original -fdump-tree-gimple\" }\n+\n+! (The 'independent' clauses are used as end of directive markers in tree dump\n+! scanning.)\n+\n+program test\n+  implicit none\n+  integer :: i0_1\n+  integer :: i0_2, j0_2\n+  integer :: i1_s\n+  integer :: i1_c\n+  integer :: i2_1_s, j2_1_s\n+  integer :: i2_1_c, j2_1_c\n+  integer :: i2_2_s, j2_2_s\n+  integer :: i2_3_s, j2_3_s\n+  integer :: i2_3_c, j2_3_c\n+  integer :: i3_1_s, j3_1_s, k3_1_s\n+  integer :: i3_1_c, j3_1_c, k3_1_c\n+  integer :: i3_2_s, j3_2_s, k3_2_s\n+  integer :: i3_2_c, j3_2_c, k3_2_c\n+  integer :: i3_3_s, j3_3_s, k3_3_s\n+  integer :: i3_3_c, j3_3_c, k3_3_c\n+  integer :: i3_4_s, j3_4_s, k3_4_s\n+  integer :: i3_4_c, j3_4_c, k3_4_c\n+  integer :: i3_5_s, j3_5_s, k3_5_s\n+\n+  !$acc parallel\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_1\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_1\\\\)\" 1 \"gimple\" } }\n+  ! { dg-final { scan-tree-dump-times \"firstprivate\\\\(i0_1\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_parallel firstprivate\\\\(i0_1\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  do i0_1 = 1, 100\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_2\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(j0_2\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_2\\\\)\" 1 \"gimple\" } }\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(j0_2\\\\)\" 1 \"gimple\" } }\n+  ! { dg-final { scan-tree-dump-times \"firstprivate\\\\(i0_2\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"firstprivate\\\\(j0_2\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_parallel firstprivate\\\\(j0_2\\\\) firstprivate\\\\(i0_2\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  do i0_2 = 1, 100\n+     do j0_2 = 1, 100\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i1_s = 1, 100\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_c\\\\) independent\" 1 \"gimple\" } }\n+  do i1_c = 1, 100\n+  end do\n+\n+  !$acc parallel\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_s\\\\) private\\\\(j2_1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_s\\\\) private\\\\(j2_1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i2_1_s = 1, 100\n+     do j2_1_s = 1, 100\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_c\\\\) private\\\\(j2_1_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_c\\\\) private\\\\(j2_1_c\\\\) independent\" 1 \"gimple\" } }\n+  do i2_1_c = 1, 100\n+     do j2_1_c = 1, 100\n+     end do\n+  end do\n+\n+  !$acc parallel\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i2_2_s\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i2_2_s\\\\)\" 1 \"gimple\" } }\n+  ! { dg-final { scan-tree-dump-times \"firstprivate\\\\(i2_2_s\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_parallel firstprivate\\\\(i2_2_s\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  do i2_2_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_2_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_2_s\\\\) independent\" 1 \"gimple\" } }\n+     do j2_2_s = 1, 100\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_s\\\\) independent\" 1 \"gimple\" } }\n+  do i2_3_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_s\\\\) independent\" 1 \"gimple\" } }\n+     do j2_3_s = 1, 100\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_c\\\\) independent\" 1 \"gimple\" } }\n+  do i2_3_c = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_c\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_c\\\\) independent\" 1 \"gimple\" } }\n+     do j2_3_c = 1, 100\n+     end do\n+  end do\n+\n+  !$acc parallel\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_s\\\\) private\\\\(j3_1_s\\\\) private\\\\(k3_1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_s\\\\) private\\\\(j3_1_s\\\\) private\\\\(k3_1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_1_s = 1, 100\n+     do j3_1_s = 1, 100\n+        do k3_1_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_c\\\\) private\\\\(j3_1_c\\\\) private\\\\(k3_1_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_c\\\\) private\\\\(j3_1_c\\\\) private\\\\(k3_1_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_1_c = 1, 100\n+     do j3_1_c = 1, 100\n+        do k3_1_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc parallel\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_2_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_s\\\\) private\\\\(k3_2_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_s\\\\) private\\\\(k3_2_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_2_s = 1, 100\n+        do k3_2_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_2_c = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_c\\\\) private\\\\(k3_2_c\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_c\\\\) private\\\\(k3_2_c\\\\) independent\" 1 \"gimple\" } }\n+     do j3_2_c = 1, 100\n+        do k3_2_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc parallel\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_s\\\\) private\\\\(j3_3_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_s\\\\) private\\\\(j3_3_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_3_s = 1, 100\n+     do j3_3_s = 1, 100\n+        !$acc loop independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_3_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_c\\\\) private\\\\(j3_3_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_c\\\\) private\\\\(j3_3_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_3_c = 1, 100\n+     do j3_3_c = 1, 100\n+        !$acc loop independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_c\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_c\\\\) independent\" 1 \"gimple\" } }\n+        do k3_3_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc parallel\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_4_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_4_s = 1, 100\n+        !$acc loop independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_4_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end parallel\n+\n+  !$acc parallel loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_c\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_c\\\\) independent\" 1 \"gimple\" } }\n+  do i3_4_c = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_c\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_c\\\\) independent\" 1 \"gimple\" } }\n+     do j3_4_c = 1, 100\n+        !$acc loop independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_c\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_c\\\\) independent\" 1 \"gimple\" } }\n+        do k3_4_c = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc parallel\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i3_5_s\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i3_5_s\\\\)\" 1 \"gimple\" } }\n+  ! { dg-final { scan-tree-dump-times \"firstprivate\\\\(i3_5_s\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  ! { dg-final { scan-tree-dump-times \"#pragma omp target oacc_parallel firstprivate\\\\(i3_5_s\\\\)\" 0 \"gimple\" { xfail *-*-* } } } ! PR90067\n+  do i3_5_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_5_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_5_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_5_s = 1, 100\n+        !$acc loop independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_5_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_5_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_5_s = 1, 100\n+        end do\n+     end do\n+  end do\n+  !$acc end parallel\n+end program test"}, {"sha": "6190669d63ae029f09e1638af0c910904751c8d1", "filename": "gcc/testsuite/gfortran.dg/goacc/private-predetermined-routine-1.f95", "status": "added", "additions": 142, "deletions": 0, "changes": 142, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04017685100da5a1886be9739bbf1d0e3977263f/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-predetermined-routine-1.f95", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04017685100da5a1886be9739bbf1d0e3977263f/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-predetermined-routine-1.f95", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fprivate-predetermined-routine-1.f95?ref=04017685100da5a1886be9739bbf1d0e3977263f", "patch": "@@ -0,0 +1,142 @@\n+! Predetermined 'private' clauses related to 'do' loops inside an OpenACC\n+! accelerator routine.\n+\n+! { dg-additional-options \"-fdump-tree-original -fdump-tree-gimple\" }\n+\n+! (The 'independent' clauses are used as end of directive markers in tree dump\n+! scanning.)\n+\n+! The PR90114 XFAILs need to scan for the appropriate predetermined private\n+! level.\n+\n+subroutine test\n+  implicit none\n+  integer :: i0_1\n+  integer :: i0_2, j0_2\n+  integer :: i1_s\n+  integer :: i2_1_s, j2_1_s\n+  integer :: i2_2_s, j2_2_s\n+  integer :: i2_3_s, j2_3_s\n+  integer :: i3_1_s, j3_1_s, k3_1_s\n+  integer :: i3_2_s, j3_2_s, k3_2_s\n+  integer :: i3_3_s, j3_3_s, k3_3_s\n+  integer :: i3_4_s, j3_4_s, k3_4_s\n+  integer :: i3_5_s, j3_5_s, k3_5_s\n+  !$acc routine gang\n+\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_1\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90114\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_1\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90114\n+  do i0_1 = 1, 100\n+  end do\n+\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_2\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90114\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(j0_2\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90114\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i0_2\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90114\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(j0_2\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90114\n+  do i0_2 = 1, 100\n+     do j0_2 = 1, 100\n+     end do\n+  end do\n+\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i1_s = 1, 100\n+  end do\n+\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_s\\\\) private\\\\(j2_1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_1_s\\\\) private\\\\(j2_1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i2_1_s = 1, 100\n+     do j2_1_s = 1, 100\n+     end do\n+  end do\n+\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i2_2_s\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90114\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i2_2_s\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90114\n+  do i2_2_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_2_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_2_s\\\\) independent\" 1 \"gimple\" } }\n+     do j2_2_s = 1, 100\n+     end do\n+  end do\n+\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i2_3_s\\\\) independent\" 1 \"gimple\" } }\n+  do i2_3_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j2_3_s\\\\) independent\" 1 \"gimple\" } }\n+     do j2_3_s = 1, 100\n+     end do\n+  end do\n+\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_s\\\\) private\\\\(j3_1_s\\\\) private\\\\(k3_1_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_1_s\\\\) private\\\\(j3_1_s\\\\) private\\\\(k3_1_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_1_s = 1, 100\n+     do j3_1_s = 1, 100\n+        do k3_1_s = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_2_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_2_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_s\\\\) private\\\\(k3_2_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_2_s\\\\) private\\\\(k3_2_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_2_s = 1, 100\n+        do k3_2_s = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_s\\\\) private\\\\(j3_3_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_3_s\\\\) private\\\\(j3_3_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_3_s = 1, 100\n+     do j3_3_s = 1, 100\n+        !$acc loop independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_3_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_3_s = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  !$acc loop independent\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_s\\\\) independent\" 1 \"original\" } }\n+  ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(i3_4_s\\\\) independent\" 1 \"gimple\" } }\n+  do i3_4_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_4_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_4_s = 1, 100\n+        !$acc loop independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_4_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_4_s = 1, 100\n+        end do\n+     end do\n+  end do\n+\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i3_5_s\\\\)\" 1 \"original\" { xfail *-*-* } } } ! PR90114\n+  ! { dg-final { scan-tree-dump-times \"private\\\\(i3_5_s\\\\)\" 1 \"gimple\" { xfail *-*-* } } } ! PR90114\n+  do i3_5_s = 1, 100\n+     !$acc loop independent\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_5_s\\\\) independent\" 1 \"original\" } }\n+     ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(j3_5_s\\\\) independent\" 1 \"gimple\" } }\n+     do j3_5_s = 1, 100\n+        !$acc loop independent\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_5_s\\\\) independent\" 1 \"original\" } }\n+        ! { dg-final { scan-tree-dump-times \"#pragma acc loop private\\\\(k3_5_s\\\\) independent\" 1 \"gimple\" } }\n+        do k3_5_s = 1, 100\n+        end do\n+     end do\n+  end do\n+end subroutine test"}]}