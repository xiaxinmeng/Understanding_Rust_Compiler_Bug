{"sha": "2db036a74e64d79cf7f1a23527ed720add2fa4b7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmRiMDM2YTc0ZTY0ZDc5Y2Y3ZjFhMjM1MjdlZDcyMGFkZDJmYTRiNw==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2011-11-22T20:55:01Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2011-11-22T20:55:01Z"}, "message": "re PR rtl-optimization/50764 (ICE: in maybe_record_trace_start, at dwarf2cfi.c:2243 with -O2 -fsched2-use-superblocks -ftree-tail-merge)\n\n2011-11-22  Tom de Vries  <tom@codesourcery.com>\n\n\tPR rtl-optimization/50764\n\t* sched-deps.c (sched_analyze_insn): Make sure frame-related insns are\n\tnot moved past preceding jump.\n\nFrom-SVN: r181639", "tree": {"sha": "737e03bbd0a1a9e5ecb2b417e9a01a85cc4cf2e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/737e03bbd0a1a9e5ecb2b417e9a01a85cc4cf2e1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2db036a74e64d79cf7f1a23527ed720add2fa4b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2db036a74e64d79cf7f1a23527ed720add2fa4b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2db036a74e64d79cf7f1a23527ed720add2fa4b7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2db036a74e64d79cf7f1a23527ed720add2fa4b7/comments", "author": null, "committer": null, "parents": [{"sha": "8733916b600980c3c3b2603f7127dbf10c8a09f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8733916b600980c3c3b2603f7127dbf10c8a09f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8733916b600980c3c3b2603f7127dbf10c8a09f5"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "4c7eca4d7d996b0b97b022ae2731ff48926b0e2d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2db036a74e64d79cf7f1a23527ed720add2fa4b7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2db036a74e64d79cf7f1a23527ed720add2fa4b7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2db036a74e64d79cf7f1a23527ed720add2fa4b7", "patch": "@@ -1,3 +1,9 @@\n+2011-11-22  Tom de Vries  <tom@codesourcery.com>\n+\n+\tPR rtl-optimization/50764\n+\t* sched-deps.c (sched_analyze_insn): Make sure frame-related insns are\n+\tnot moved past preceding jump.\n+\n 2011-11-22  Jeff Law  <law@redhat.com>\n \n \t* doc/contrib.texi: Add entry for David Binderman."}, {"sha": "043204a34bc801cbc5f42f120e94b03af57e2d60", "filename": "gcc/sched-deps.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2db036a74e64d79cf7f1a23527ed720add2fa4b7/gcc%2Fsched-deps.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2db036a74e64d79cf7f1a23527ed720add2fa4b7/gcc%2Fsched-deps.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched-deps.c?ref=2db036a74e64d79cf7f1a23527ed720add2fa4b7", "patch": "@@ -2812,8 +2812,14 @@ sched_analyze_insn (struct deps_desc *deps, rtx x, rtx insn)\n      during prologue generation and avoid marking the frame pointer setup\n      as frame-related at all.  */\n   if (RTX_FRAME_RELATED_P (insn))\n-    deps->sched_before_next_jump\n-      = alloc_INSN_LIST (insn, deps->sched_before_next_jump);\n+    {\n+      /* Make sure prologue insn is scheduled before next jump.  */\n+      deps->sched_before_next_jump\n+\t= alloc_INSN_LIST (insn, deps->sched_before_next_jump);\n+\n+      /* Make sure epilogue insn is scheduled after preceding jumps.  */\n+      add_dependence_list (insn, deps->pending_jump_insns, 1, REG_DEP_ANTI);\n+    }\n \n   if (code == COND_EXEC)\n     {"}]}