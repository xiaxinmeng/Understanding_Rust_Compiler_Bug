{"sha": "3be1fb7253d1aec3e0b637439dacf1ccdbda70e2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2JlMWZiNzI1M2QxYWVjM2UwYjYzNzQzOWRhY2YxY2NkYmRhNzBlMg==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@wolery.cumb.org", "date": "2000-01-25T08:06:23Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2000-01-25T08:06:23Z"}, "message": "inclhack.def: Fixes to play nicer with FreeBSD, and corrections to comments.\n\n2000-01-25  Zack Weinberg  <zack@wolery.cumb.org>\n\n\t* inclhack.def: Fixes to play nicer with FreeBSD, and\n\tcorrections to comments.\n\t(cxx_unready): Add select expression.\n\t(irix_sockaddr): Add bypass expression.\n\t(machine_ansi_h_va_list): New fix.\n\t(stdio_va_list): No need to edit _BSD_VA_LIST_.\n\tSplit out addition of \"#include <stdarg.h>\" to...\n\t(stdio_stdarg_h): ... here.\n\t(systypes_for_aix): Rename to systypes_stdlib_size_t.  Apply\n\tto stdlib.h also.  Do not munge _BSD_SIZE_T_.\n\t(sysz_stdlib_for_sun): Delete duplicate fix for unprotected\n\tsize_t.\n\t(ultrix_ifdef): Tighten up select expression.\n\n\t* fixincl.tpl: Exorcise 'exesel'.  Rewrite calculations of\n\tre_ct and max_mach to avoid use of shell.  Make printed names\n\tmatch names in inclhack.def.  Use static copyright date.\n\tDon't count c_test and test expressions as requiring regex_t\n\tslots.  Add some commentary.\n\t* inclhack.tpl: Do not include the 'This script contains N\n\tfixup scripts' line if PROGRAM is defined.  Use static\n\tcopyright date.\n\nFrom-SVN: r31604", "tree": {"sha": "3178d669a9b65363e0673cbc6963e19d5b08aba0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3178d669a9b65363e0673cbc6963e19d5b08aba0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/comments", "author": null, "committer": null, "parents": [{"sha": "534170eb295d9539a671b85af8e5dc36bd84351e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/534170eb295d9539a671b85af8e5dc36bd84351e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/534170eb295d9539a671b85af8e5dc36bd84351e"}], "stats": {"total": 1008, "additions": 634, "deletions": 374}, "files": [{"sha": "b14ef144addbae4db2b6bdfdb0658252a80e81ec", "filename": "gcc/ChangeLog", "status": "modified", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3be1fb7253d1aec3e0b637439dacf1ccdbda70e2", "patch": "@@ -1,3 +1,28 @@\n+2000-01-25  Zack Weinberg  <zack@wolery.cumb.org>\n+\n+\t* inclhack.def: Fixes to play nicer with FreeBSD, and\n+\tcorrections to comments.\n+\t(cxx_unready): Add select expression.\n+\t(irix_sockaddr): Add bypass expression.\n+\t(machine_ansi_h_va_list): New fix.\n+\t(stdio_va_list): No need to edit _BSD_VA_LIST_.\n+\tSplit out addition of \"#include <stdarg.h>\" to...\n+\t(stdio_stdarg_h): ... here.\n+\t(systypes_for_aix): Rename to systypes_stdlib_size_t.  Apply\n+\tto stdlib.h also.  Do not munge _BSD_SIZE_T_.\n+\t(sysz_stdlib_for_sun): Delete duplicate fix for unprotected\n+\tsize_t.\n+\t(ultrix_ifdef): Tighten up select expression.\n+\n+\t* fixincl.tpl: Exorcise 'exesel'.  Rewrite calculations of\n+\tre_ct and max_mach to avoid use of shell.  Make printed names\n+\tmatch names in inclhack.def.  Use static copyright date.\n+\tDon't count c_test and test expressions as requiring regex_t\n+\tslots.  Add some commentary.\n+\t* inclhack.tpl: Do not include the 'This script contains N\n+\tfixup scripts' line if PROGRAM is defined.  Use static\n+\tcopyright date.\n+\n 2000-01-24  Jason Merrill  <jason@casey.cygnus.com>\n \n \t* dwarf2out.c: include \"varray.h\", not dyn-string.h."}, {"sha": "677d97f2ec87739ce412f131e3f2e54b5f942f30", "filename": "gcc/fixinc/fixincl.sh", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/gcc%2Ffixinc%2Ffixincl.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/gcc%2Ffixinc%2Ffixincl.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.sh?ref=3be1fb7253d1aec3e0b637439dacf1ccdbda70e2", "patch": "@@ -6,11 +6,10 @@\n # files which are fixed to work correctly with ANSI C and placed in a\n # directory that GNU C will search.\n #\n-# This script contains 113 fixup scripts.\n-#\n # See README-fixinc for more information.\n #\n-#  fixincludes copyright (c) 2000 The Free Software Foundation, Inc.\n+#  fixincludes copyright (c) 1998, 1999, 2000\n+#  The Free Software Foundation, Inc.\n #\n # fixincludes is free software.\n # "}, {"sha": "5a94b4e06a5f3e7a8fd39ea4b75520f5a9f946c4", "filename": "gcc/fixinc/fixincl.tpl", "status": "modified", "additions": 32, "deletions": 58, "changes": 90, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/gcc%2Ffixinc%2Ffixincl.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/gcc%2Ffixinc%2Ffixincl.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.tpl?ref=3be1fb7253d1aec3e0b637439dacf1ccdbda70e2", "patch": "@@ -11,19 +11,27 @@ x =]\n  *\n  * See README-fixinc for more information.\n  *\n- *  inclhack copyright (c) [=_eval \"date +%Y\" _shell\n-                                =] The Free Software Foundation, Inc.\n+ *  inclhack copyright (c) 1998, 1999, 2000\n+ *  The Free Software Foundation, Inc.\n  *\n [=_eval inclhack \"# *  \" _gpl=]\n- *[=_EVAL \"re_ct=0\\nmax_mach=0\" _shell=][=\n+ */\n+[= _SETENV re_ct 0 =][= _SETENV max_mach 0 =][=\n \n _FOR fix =]\n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of [=hackname _Cap=] fix\n- */\n+ *  Description of [=hackname _cap=] fix\n+ */[=\n+\n+# Note that this is not just for debugging purposes, but in case\n+  some C fix wishes to refer to the regexps it is paired with.\n+  See commentary at the top of fixfixes.c.\n+=]\n #define [=hackname _up #_FIXIDX + #%-32s _printf=] [=_eval _index=]\n tSCC z[=hackname _cap=]Name[] =\n-     [=hackname _cap _krstr=];\n+     [=hackname _krstr=];\n+\n /*\n  *  File name selection pattern\n  */[=\n@@ -41,35 +49,21 @@ tSCC z[=hackname _cap=]List[] =\n \n   _IF mach _exist=]\n tSCC* apz[=hackname _cap=]Machs[] = {[=\n-    _EVAL \"this_mach=0\" _shell =][=\n+    _SETENV this_mach 0 =][=\n \n     _FOR mach =]\n         [=mach _krstr=],[=\n-      _EVAL mach _len \"this_mach=`expr $this_mach + %d + 5`\"\n-            _printf _shell =][=\n-    /mach=]\n+      _SETENV this_mach mach _len this_mach _env _val 5 + +\n+      =][= /mach=]\n         (const char*)NULL };[=\n \n-    _EVAL \"if [ $this_mach -gt $max_mach ] ; then max_mach=$this_mach ; fi\"\n-          _shell =][=\n+    _SETENV max_mach _mark this_mach _env _val max_mach _env _val _max =][=\n \n   _ELSE =]\n #define apz[=hackname _cap=]Machs (const char**)NULL[=\n   _ENDIF \"files _exist\" =][=\n \n-  _IF exesel _exist=]\n-\n-/*\n- *  content selection pattern - do fix if pattern found\n- *  This is a special pattern that not all egrep commands\n- *  are capable of coping with.  We use the GNU library, tho :)\n- */[=\n-    _FOR exesel =]\n-tSCC z[=hackname _cap=]Select[=_eval _index=][] =\n-       [=exesel _krstr=];[=\n-    /exesel =][=\n-\n-  _ELIF select _exist=]\n+  _IF select _exist=]\n \n /*\n  *  content selection pattern - do fix if pattern found\n@@ -115,29 +109,21 @@ tSCC z[=hackname _cap=]FTst[=_eval _index=][] = \"[=c_test=]\";[=\n \n #  Build the array of test descriptions for this fix: =][=\n \n-  _IF exesel  _exist\n-      select  _exist |\n+  _IF select  _exist\n       bypass  _exist |\n       test    _exist |\n       c_test  _exist |\n =]\n \n #define    [=hackname _up =]_TEST_CT  [=\n-    _IF exesel _exist =][=\n-       _eval exesel       _count\n-             bypass       _count +\n-             test         _count + \n-             c_test       _count +\n-        \"ct=%d ; re_ct=`expr $ct + $re_ct` ; echo $ct\"\n-        _printf _shell =][=\n-    _ELSE =][=\n        _eval select       _count\n              bypass       _count +\n              test         _count + \n-             c_test       _count +\n-        \"ct=%d ; re_ct=`expr $ct + $re_ct` ; echo $ct\"\n-        _printf _shell =][=\n-    _ENDIF =]\n+             c_test       _count + =][=\n+_SETENV re_ct\n+\tre_ct _env _val\n+\tselect _count +\n+\tbypass _count + =]\n tTestDesc a[=hackname _cap=]Tests[] = {[=\n \n     _FOR test =]\n@@ -152,19 +138,9 @@ tTestDesc a[=hackname _cap=]Tests[] = {[=\n   { TT_NEGREP,   z[=hackname _cap=]Bypass[=_eval _index=], (regex_t*)NULL },[=\n     /bypass =][=\n \n-    #  IF there is an exesel, then use that (those) selection\n-          expressions, instead of the regular select expressions\n-    =][=\n-    _IF exesel _exist =][=\n-      _FOR exesel =]\n-  { TT_EGREP,    z[=hackname _cap=]Select[=_eval _index=], (regex_t*)NULL },[=\n-      /exesel =][=\n-\n-    _ELSE =][=\n       _FOR select =]\n   { TT_EGREP,    z[=hackname _cap=]Select[=_eval _index=], (regex_t*)NULL },[=\n-      /select =][=\n-    _ENDIF =] };[=\n+      /select =] };[=\n   _ELSE =]\n #define [=hackname _up=]_TEST_CT  0\n #define a[=hackname _cap=]Tests   (tTestDesc*)NULL[=\n@@ -189,21 +165,19 @@ const char* apz[=hackname _cap=]Patch[] = {[=\n \n     _ENDIF=]\n     (char*)NULL };\n+[=/fix=]\n \n-/* * * * * * * * * * * * * * * * * * * * * * * * * *[=\n-/fix=]\n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  List of all fixes\n- */\n-[=_EVAL '\n-echo \"#define REGEX_COUNT          $re_ct\"\n-echo \"#define MACH_LIST_SIZE_LIMIT `expr $max_mach + 128`\" ' _shell =][=\n-\n+ */[=\n #  as of this writing, 49 bytes are needed by the case statement format.\n    We also must allow for the size of the target machine machine name.\n    This allows for a 79 byte machine name.  Better be enough.\n =]\n-#define FIX_COUNT            [=_eval fix _count =]\n+#define REGEX_COUNT          [= _eval re_ct _env =]\n+#define MACH_LIST_SIZE_LIMIT [= _eval max_mach _env _val 128 + =]\n+#define FIX_COUNT            [= _eval fix _count =]\n \n tFixDesc fixDescList[ FIX_COUNT ] = {[=\n "}, {"sha": "ff0a0f12137c99a2f92f80b241b8018c0e34f22d", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 427, "deletions": 220, "changes": 647, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=3be1fb7253d1aec3e0b637439dacf1ccdbda70e2", "patch": "@@ -5,11 +5,12 @@\n  * files which are fixed to work correctly with ANSI C and placed in a\n  * directory that GNU C will search.\n  *\n- * This file contains 113 fixup descriptions.\n+ * This file contains 115 fixup descriptions.\n  *\n  * See README-fixinc for more information.\n  *\n- *  inclhack copyright (c) 2000 The Free Software Foundation, Inc.\n+ *  inclhack copyright (c) 1998, 1999, 2000\n+ *  The Free Software Foundation, Inc.\n  *\n  *  inclhack is free software.\n  *  \n@@ -27,13 +28,16 @@\n  *  write to:  The Free Software Foundation, Inc.,\n  *             59 Temple Place - Suite 330,\n  *             Boston,  MA  02111-1307, USA.\n- *\n+ */\n+\n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Aaa_Ki_Iface fix\n  */\n #define AAA_KI_IFACE_FIXIDX              0\n tSCC zAaa_Ki_IfaceName[] =\n-     \"Aaa_Ki_Iface\";\n+     \"AAA_ki_iface\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -66,7 +70,8 @@ const char* apzAaa_Ki_IfacePatch[] = {\n  */\n #define AAA_KI_FIXIDX                    1\n tSCC zAaa_KiName[] =\n-     \"Aaa_Ki\";\n+     \"AAA_ki\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -99,7 +104,8 @@ const char* apzAaa_KiPatch[] = {\n  */\n #define AAA_KI_CALLS_FIXIDX              2\n tSCC zAaa_Ki_CallsName[] =\n-     \"Aaa_Ki_Calls\";\n+     \"AAA_ki_calls\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -132,7 +138,8 @@ const char* apzAaa_Ki_CallsPatch[] = {\n  */\n #define AAA_KI_DEFS_FIXIDX               3\n tSCC zAaa_Ki_DefsName[] =\n-     \"Aaa_Ki_Defs\";\n+     \"AAA_ki_defs\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -165,7 +172,8 @@ const char* apzAaa_Ki_DefsPatch[] = {\n  */\n #define AAA_BAD_FIXES_FIXIDX             4\n tSCC zAaa_Bad_FixesName[] =\n-     \"Aaa_Bad_Fixes\";\n+     \"AAA_bad_fixes\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -190,7 +198,8 @@ const char* apzAaa_Bad_FixesPatch[] = {\n  */\n #define AAA_TIME_FIXIDX                  5\n tSCC zAaa_TimeName[] =\n-     \"Aaa_Time\";\n+     \"AAA_time\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -223,7 +232,8 @@ const char* apzAaa_TimePatch[] = {\n  */\n #define AAB_DGUX_INT_VARARGS_FIXIDX      6\n tSCC zAab_Dgux_Int_VarargsName[] =\n-     \"Aab_Dgux_Int_Varargs\";\n+     \"AAB_dgux_int_varargs\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -310,7 +320,8 @@ typedef char * va_list;\\n\\\n  */\n #define AAB_FD_ZERO_ASM_POSIX_TYPES_H_FIXIDX 7\n tSCC zAab_Fd_Zero_Asm_Posix_Types_HName[] =\n-     \"Aab_Fd_Zero_Asm_Posix_Types_H\";\n+     \"AAB_fd_zero_asm_posix_types_h\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -365,7 +376,8 @@ const char* apzAab_Fd_Zero_Asm_Posix_Types_HPatch[] = {\n  */\n #define AAB_FD_ZERO_GNU_TYPES_H_FIXIDX   8\n tSCC zAab_Fd_Zero_Gnu_Types_HName[] =\n-     \"Aab_Fd_Zero_Gnu_Types_H\";\n+     \"AAB_fd_zero_gnu_types_h\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -411,7 +423,8 @@ const char* apzAab_Fd_Zero_Gnu_Types_HPatch[] = {\n  */\n #define AAB_FD_ZERO_SELECTBITS_H_FIXIDX  9\n tSCC zAab_Fd_Zero_Selectbits_HName[] =\n-     \"Aab_Fd_Zero_Selectbits_H\";\n+     \"AAB_fd_zero_selectbits_h\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -461,7 +474,8 @@ const char* apzAab_Fd_Zero_Selectbits_HPatch[] = {\n  */\n #define AAB_SUN_MEMCPY_FIXIDX            10\n tSCC zAab_Sun_MemcpyName[] =\n-     \"Aab_Sun_Memcpy\";\n+     \"AAB_sun_memcpy\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -513,7 +527,8 @@ extern int memcmp();\\n\\\n  */\n #define AAB_SVR4_REPLACE_BYTEORDER_FIXIDX 11\n tSCC zAab_Svr4_Replace_ByteorderName[] =\n-     \"Aab_Svr4_Replace_Byteorder\";\n+     \"AAB_svr4_replace_byteorder\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -688,7 +703,8 @@ ntohs (unsigned int __arg)\\n\\\n  */\n #define AAB_ULTRIX_ANSI_COMPAT_FIXIDX    12\n tSCC zAab_Ultrix_Ansi_CompatName[] =\n-     \"Aab_Ultrix_Ansi_Compat\";\n+     \"AAB_ultrix_ansi_compat\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -722,7 +738,8 @@ const char* apzAab_Ultrix_Ansi_CompatPatch[] = {\n  */\n #define AIX_SYSWAIT_FIXIDX               13\n tSCC zAix_SyswaitName[] =\n-     \"Aix_Syswait\";\n+     \"aix_syswait\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -757,7 +774,8 @@ struct rusage;\\n\",\n  */\n #define AIX_VOLATILE_FIXIDX              14\n tSCC zAix_VolatileName[] =\n-     \"Aix_Volatile\";\n+     \"aix_volatile\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -791,7 +809,8 @@ const char* apzAix_VolatilePatch[] = { \"sed\",\n  */\n #define ALPHA_GETOPT_FIXIDX              15\n tSCC zAlpha_GetoptName[] =\n-     \"Alpha_Getopt\";\n+     \"alpha_getopt\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -825,7 +844,8 @@ const char* apzAlpha_GetoptPatch[] = { \"sed\",\n  */\n #define ALPHA_PARENS_FIXIDX              16\n tSCC zAlpha_ParensName[] =\n-     \"Alpha_Parens\";\n+     \"alpha_parens\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -859,7 +879,8 @@ const char* apzAlpha_ParensPatch[] = { \"sed\",\n  */\n #define ALPHA_SBRK_FIXIDX                17\n tSCC zAlpha_SbrkName[] =\n-     \"Alpha_Sbrk\";\n+     \"alpha_sbrk\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -893,7 +914,8 @@ const char* apzAlpha_SbrkPatch[] = { \"sed\",\n  */\n #define ARM_NORCROFT_HINT_FIXIDX         18\n tSCC zArm_Norcroft_HintName[] =\n-     \"Arm_Norcroft_Hint\";\n+     \"arm_norcroft_hint\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -927,7 +949,8 @@ const char* apzArm_Norcroft_HintPatch[] = { \"sed\",\n  */\n #define ARM_WCHAR_FIXIDX                 19\n tSCC zArm_WcharName[] =\n-     \"Arm_Wchar\";\n+     \"arm_wchar\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -962,7 +985,8 @@ const char* apzArm_WcharPatch[] = { \"sed\",\n  */\n #define AUX_ASM_FIXIDX                   20\n tSCC zAux_AsmName[] =\n-     \"Aux_Asm\";\n+     \"aux_asm\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -996,7 +1020,8 @@ const char* apzAux_AsmPatch[] = { \"sed\",\n  */\n #define AVOID_BOOL_FIXIDX                21\n tSCC zAvoid_BoolName[] =\n-     \"Avoid_Bool\";\n+     \"avoid_bool\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1056,7 +1081,8 @@ const char* apzAvoid_BoolPatch[] = { \"sed\",\n  */\n #define BAD_STRUCT_TERM_FIXIDX           22\n tSCC zBad_Struct_TermName[] =\n-     \"Bad_Struct_Term\";\n+     \"bad_struct_term\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1090,7 +1116,8 @@ const char* apzBad_Struct_TermPatch[] = { \"sed\",\n  */\n #define BADQUOTE_FIXIDX                  23\n tSCC zBadquoteName[] =\n-     \"Badquote\";\n+     \"badquote\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1116,7 +1143,8 @@ const char* apzBadquotePatch[] = { \"sed\",\n  */\n #define BAD_LVAL_FIXIDX                  24\n tSCC zBad_LvalName[] =\n-     \"Bad_Lval\";\n+     \"bad_lval\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1150,7 +1178,8 @@ const char* apzBad_LvalPatch[] = { \"sed\",\n  */\n #define BROKEN_ASSERT_STDIO_FIXIDX       25\n tSCC zBroken_Assert_StdioName[] =\n-     \"Broken_Assert_Stdio\";\n+     \"broken_assert_stdio\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1192,7 +1221,8 @@ const char* apzBroken_Assert_StdioPatch[] = { \"sed\",\n  */\n #define BROKEN_ASSERT_STDLIB_FIXIDX      26\n tSCC zBroken_Assert_StdlibName[] =\n-     \"Broken_Assert_Stdlib\";\n+     \"broken_assert_stdlib\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1236,7 +1266,8 @@ const char* apzBroken_Assert_StdlibPatch[] = { \"sed\",\n  */\n #define DEC_INTERN_ASM_FIXIDX            27\n tSCC zDec_Intern_AsmName[] =\n-     \"Dec_Intern_Asm\";\n+     \"dec_intern_asm\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1265,7 +1296,8 @@ const char* apzDec_Intern_AsmPatch[] = { \"sed\",\n  */\n #define NO_DOUBLE_SLASH_FIXIDX           28\n tSCC zNo_Double_SlashName[] =\n-     \"No_Double_Slash\";\n+     \"no_double_slash\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1296,7 +1328,8 @@ const char* apzNo_Double_SlashPatch[] = {\"no_double_slash\",\n  */\n #define ECD_CURSOR_FIXIDX                29\n tSCC zEcd_CursorName[] =\n-     \"Ecd_Cursor\";\n+     \"ecd_cursor\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1322,7 +1355,8 @@ const char* apzEcd_CursorPatch[] = { \"sed\",\n  */\n #define SCO5_STAT_WRAPPERS_FIXIDX        30\n tSCC zSco5_Stat_WrappersName[] =\n-     \"Sco5_Stat_Wrappers\";\n+     \"sco5_stat_wrappers\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1358,7 +1392,8 @@ extern \\\"C\\\"\\\\\\n\\\n  */\n #define END_ELSE_LABEL_FIXIDX            31\n tSCC zEnd_Else_LabelName[] =\n-     \"End_Else_Label\";\n+     \"end_else_label\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1389,7 +1424,8 @@ const char* apzEnd_Else_LabelPatch[] = {\"else_endif_label\",\n  */\n #define HP_INLINE_FIXIDX                 32\n tSCC zHp_InlineName[] =\n-     \"Hp_Inline\";\n+     \"hp_inline\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1424,7 +1460,8 @@ const char* apzHp_InlinePatch[] = { \"sed\",\n  */\n #define HP_SYSFILE_FIXIDX                33\n tSCC zHp_SysfileName[] =\n-     \"Hp_Sysfile\";\n+     \"hp_sysfile\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1458,7 +1495,8 @@ const char* apzHp_SysfilePatch[] = { \"sed\",\n  */\n #define CXX_UNREADY_FIXIDX               34\n tSCC zCxx_UnreadyName[] =\n-     \"Cxx_Unready\";\n+     \"cxx_unready\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1469,15 +1507,22 @@ tSCC zCxx_UnreadyList[] =\n  */\n #define apzCxx_UnreadyMachs (const char**)NULL\n \n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zCxx_UnreadySelect0[] =\n+       \"[^#]+malloc.*;\";\n+\n /*\n  *  content bypass pattern - skip fix if pattern found\n  */\n tSCC zCxx_UnreadyBypass0[] =\n        \"\\\"C\\\"|__BEGIN_DECLS\";\n \n-#define    CXX_UNREADY_TEST_CT  1\n+#define    CXX_UNREADY_TEST_CT  2\n tTestDesc aCxx_UnreadyTests[] = {\n-  { TT_NEGREP,   zCxx_UnreadyBypass0, (regex_t*)NULL }, };\n+  { TT_NEGREP,   zCxx_UnreadyBypass0, (regex_t*)NULL },\n+  { TT_EGREP,    zCxx_UnreadySelect0, (regex_t*)NULL }, };\n \n /*\n  *  Fix Command Arguments for Cxx_Unready\n@@ -1500,7 +1545,8 @@ extern \\\"C\\\" {\\\\\\n\\\n  */\n #define HPUX_MAXINT_FIXIDX               35\n tSCC zHpux_MaxintName[] =\n-     \"Hpux_Maxint\";\n+     \"hpux_maxint\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1529,7 +1575,8 @@ const char* apzHpux_MaxintPatch[] = { \"sed\",\n  */\n #define HPUX_SYSTIME_FIXIDX              36\n tSCC zHpux_SystimeName[] =\n-     \"Hpux_Systime\";\n+     \"hpux_systime\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1563,7 +1610,8 @@ const char* apzHpux_SystimePatch[] = { \"sed\",\n  */\n #define HPUX8_BOGUS_INLINES_FIXIDX       37\n tSCC zHpux8_Bogus_InlinesName[] =\n-     \"Hpux8_Bogus_Inlines\";\n+     \"hpux8_bogus_inlines\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1600,7 +1648,8 @@ const char* apzHpux8_Bogus_InlinesPatch[] = { \"sed\",\n  */\n #define HPUX11_UINT32_C_FIXIDX           38\n tSCC zHpux11_Uint32_CName[] =\n-     \"Hpux11_Uint32_C\";\n+     \"hpux11_uint32_c\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1634,7 +1683,8 @@ const char* apzHpux11_Uint32_CPatch[] = { \"sed\",\n  */\n #define ISC_OMITS_WITH_STDC_FIXIDX       39\n tSCC zIsc_Omits_With_StdcName[] =\n-     \"Isc_Omits_With_Stdc\";\n+     \"isc_omits_with_stdc\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1668,7 +1718,8 @@ const char* apzIsc_Omits_With_StdcPatch[] = { \"sed\",\n  */\n #define IO_USE_QUOTES_FIXIDX             40\n tSCC zIo_Use_QuotesName[] =\n-     \"Io_Use_Quotes\";\n+     \"io_use_quotes\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1700,7 +1751,8 @@ const char* apzIo_Use_QuotesPatch[] = {\"IO_use\",\n  */\n #define IO_DEF_QUOTES_FIXIDX             41\n tSCC zIo_Def_QuotesName[] =\n-     \"Io_Def_Quotes\";\n+     \"io_def_quotes\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1732,7 +1784,8 @@ const char* apzIo_Def_QuotesPatch[] = {\"IO_defn\",\n  */\n #define CTRL_USE_QUOTES_FIXIDX           42\n tSCC zCtrl_Use_QuotesName[] =\n-     \"Ctrl_Use_Quotes\";\n+     \"ctrl_use_quotes\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1764,7 +1817,8 @@ const char* apzCtrl_Use_QuotesPatch[] = {\"CTRL_use\",\n  */\n #define CTRL_DEF_QUOTES_FIXIDX           43\n tSCC zCtrl_Def_QuotesName[] =\n-     \"Ctrl_Def_Quotes\";\n+     \"ctrl_def_quotes\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1796,7 +1850,8 @@ const char* apzCtrl_Def_QuotesPatch[] = {\"CTRL_defn\",\n  */\n #define IP_MISSING_SEMI_FIXIDX           44\n tSCC zIp_Missing_SemiName[] =\n-     \"Ip_Missing_Semi\";\n+     \"ip_missing_semi\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1830,7 +1885,8 @@ const char* apzIp_Missing_SemiPatch[] = { \"sed\",\n  */\n #define IRIX_MULTILINE_CMNT_FIXIDX       45\n tSCC zIrix_Multiline_CmntName[] =\n-     \"Irix_Multiline_Cmnt\";\n+     \"irix_multiline_cmnt\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1857,7 +1913,8 @@ const char* apzIrix_Multiline_CmntPatch[] = { \"sed\",\n  */\n #define IRIX_SOCKADDR_FIXIDX             46\n tSCC zIrix_SockaddrName[] =\n-     \"Irix_Sockaddr\";\n+     \"irix_sockaddr\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1874,8 +1931,15 @@ tSCC zIrix_SockaddrList[] =\n tSCC zIrix_SockaddrSelect0[] =\n        \"authdes_create.*struct sockaddr\";\n \n-#define    IRIX_SOCKADDR_TEST_CT  1\n+/*\n+ *  content bypass pattern - skip fix if pattern found\n+ */\n+tSCC zIrix_SockaddrBypass0[] =\n+       \"<sys/socket.h>\";\n+\n+#define    IRIX_SOCKADDR_TEST_CT  2\n tTestDesc aIrix_SockaddrTests[] = {\n+  { TT_NEGREP,   zIrix_SockaddrBypass0, (regex_t*)NULL },\n   { TT_EGREP,    zIrix_SockaddrSelect0, (regex_t*)NULL }, };\n \n /*\n@@ -1892,7 +1956,8 @@ struct sockaddr;\\n\",\n  */\n #define IRIX_STRUCT__FILE_FIXIDX         47\n tSCC zIrix_Struct__FileName[] =\n-     \"Irix_Struct__File\";\n+     \"irix_struct__file\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1919,7 +1984,8 @@ struct __file_s;\\n\",\n  */\n #define IRIX_ASM_APOSTROPHE_FIXIDX       48\n tSCC zIrix_Asm_ApostropheName[] =\n-     \"Irix_Asm_Apostrophe\";\n+     \"irix_asm_apostrophe\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1953,7 +2019,8 @@ const char* apzIrix_Asm_ApostrophePatch[] = { \"sed\",\n  */\n #define ISC_FMOD_FIXIDX                  49\n tSCC zIsc_FmodName[] =\n-     \"Isc_Fmod\";\n+     \"isc_fmod\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -1987,7 +2054,8 @@ const char* apzIsc_FmodPatch[] = { \"sed\",\n  */\n #define MOTOROLA_NESTED_FIXIDX           50\n tSCC zMotorola_NestedName[] =\n-     \"Motorola_Nested\";\n+     \"motorola_nested\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2016,7 +2084,8 @@ const char* apzMotorola_NestedPatch[] = { \"sed\",\n  */\n #define ISC_SYS_LIMITS_FIXIDX            51\n tSCC zIsc_Sys_LimitsName[] =\n-     \"Isc_Sys_Limits\";\n+     \"isc_sys_limits\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2051,7 +2120,8 @@ const char* apzIsc_Sys_LimitsPatch[] = { \"sed\",\n  */\n #define KANDR_CONCAT_FIXIDX              52\n tSCC zKandr_ConcatName[] =\n-     \"Kandr_Concat\";\n+     \"kandr_concat\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2085,7 +2155,8 @@ const char* apzKandr_ConcatPatch[] = { \"sed\",\n  */\n #define LIMITS_IFNDEFS_FIXIDX            53\n tSCC zLimits_IfndefsName[] =\n-     \"Limits_Ifndefs\";\n+     \"limits_ifndefs\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2143,7 +2214,8 @@ const char* apzLimits_IfndefsPatch[] = { \"sed\",\n  */\n #define LYNX_VOID_INT_FIXIDX             54\n tSCC zLynx_Void_IntName[] =\n-     \"Lynx_Void_Int\";\n+     \"lynx_void_int\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2177,7 +2249,8 @@ const char* apzLynx_Void_IntPatch[] = { \"sed\",\n  */\n #define LYNXOS_FCNTL_PROTO_FIXIDX        55\n tSCC zLynxos_Fcntl_ProtoName[] =\n-     \"Lynxos_Fcntl_Proto\";\n+     \"lynxos_fcntl_proto\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2211,7 +2284,8 @@ const char* apzLynxos_Fcntl_ProtoPatch[] = { \"sed\",\n  */\n #define M88K_BAD_HYPOT_OPT_FIXIDX        56\n tSCC zM88k_Bad_Hypot_OptName[] =\n-     \"M88k_Bad_Hypot_Opt\";\n+     \"m88k_bad_hypot_opt\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2252,7 +2326,8 @@ static __inline__ double fake_hypot (x, y)\\\\\\n\\\n  */\n #define M88K_BAD_S_IF_FIXIDX             57\n tSCC zM88k_Bad_S_IfName[] =\n-     \"M88k_Bad_S_If\";\n+     \"m88k_bad_s_if\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2289,7 +2364,8 @@ const char* apzM88k_Bad_S_IfPatch[] = { \"sed\",\n  */\n #define M88K_MULTI_INCL_FIXIDX           58\n tSCC zM88k_Multi_InclName[] =\n-     \"M88k_Multi_Incl\";\n+     \"m88k_multi_incl\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2324,13 +2400,56 @@ const char* apzM88k_Multi_InclPatch[] = { \"sh\", \"-c\",\n       echo \\\"#endif /* ! __GCC_GOT_${cpp_wrapper}_ */\\\"\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Machine_Ansi_H_Va_List fix\n+ */\n+#define MACHINE_ANSI_H_VA_LIST_FIXIDX    59\n+tSCC zMachine_Ansi_H_Va_ListName[] =\n+     \"machine_ansi_h_va_list\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zMachine_Ansi_H_Va_ListList[] =\n+  \"|machine/ansi.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzMachine_Ansi_H_Va_ListMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zMachine_Ansi_H_Va_ListSelect0[] =\n+       \"_BSD_VA_LIST_\";\n+\n+/*\n+ *  content bypass pattern - skip fix if pattern found\n+ */\n+tSCC zMachine_Ansi_H_Va_ListBypass0[] =\n+       \"__builtin_va_list\";\n+\n+#define    MACHINE_ANSI_H_VA_LIST_TEST_CT  2\n+tTestDesc aMachine_Ansi_H_Va_ListTests[] = {\n+  { TT_NEGREP,   zMachine_Ansi_H_Va_ListBypass0, (regex_t*)NULL },\n+  { TT_EGREP,    zMachine_Ansi_H_Va_ListSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Machine_Ansi_H_Va_List\n+ */\n+const char* apzMachine_Ansi_H_Va_ListPatch[] = { \"sed\",\n+    \"-e\", \"s/\\\\(_BSD_VA_LIST_[ \\t][ \\t]*\\\\).*$/\\\\1__builtin_va_list/\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Machine_Name fix\n  */\n-#define MACHINE_NAME_FIXIDX              59\n+#define MACHINE_NAME_FIXIDX              60\n tSCC zMachine_NameName[] =\n-     \"Machine_Name\";\n+     \"machine_name\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2359,9 +2478,10 @@ const char* apzMachine_NamePatch[] = {\"machine_name\",\n  *\n  *  Description of Math_Exception fix\n  */\n-#define MATH_EXCEPTION_FIXIDX            60\n+#define MATH_EXCEPTION_FIXIDX            61\n tSCC zMath_ExceptionName[] =\n-     \"Math_Exception\";\n+     \"math_exception\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2407,9 +2527,10 @@ const char* apzMath_ExceptionPatch[] = { \"sed\",\n  *\n  *  Description of Math_Huge_Val_From_Dbl_Max fix\n  */\n-#define MATH_HUGE_VAL_FROM_DBL_MAX_FIXIDX 61\n+#define MATH_HUGE_VAL_FROM_DBL_MAX_FIXIDX 62\n tSCC zMath_Huge_Val_From_Dbl_MaxName[] =\n-     \"Math_Huge_Val_From_Dbl_Max\";\n+     \"math_huge_val_from_dbl_max\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2453,9 +2574,10 @@ const char* apzMath_Huge_Val_From_Dbl_MaxPatch[] = { \"sh\", \"-c\",\n  *\n  *  Description of Math_Huge_Val_Ifndef fix\n  */\n-#define MATH_HUGE_VAL_IFNDEF_FIXIDX      62\n+#define MATH_HUGE_VAL_IFNDEF_FIXIDX      63\n tSCC zMath_Huge_Val_IfndefName[] =\n-     \"Math_Huge_Val_Ifndef\";\n+     \"math_huge_val_ifndef\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2490,9 +2612,10 @@ const char* apzMath_Huge_Val_IfndefPatch[] = { \"sed\",\n  *\n  *  Description of Nested_Comment fix\n  */\n-#define NESTED_COMMENT_FIXIDX            63\n+#define NESTED_COMMENT_FIXIDX            64\n tSCC zNested_CommentName[] =\n-     \"Nested_Comment\";\n+     \"nested_comment\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2516,9 +2639,10 @@ const char* apzNested_CommentPatch[] = { \"sed\",\n  *\n  *  Description of News_Os_Recursion fix\n  */\n-#define NEWS_OS_RECURSION_FIXIDX         64\n+#define NEWS_OS_RECURSION_FIXIDX         65\n tSCC zNews_Os_RecursionName[] =\n-     \"News_Os_Recursion\";\n+     \"news_os_recursion\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2553,9 +2677,10 @@ const char* apzNews_Os_RecursionPatch[] = { \"sed\",\n  *\n  *  Description of Next_Math_Prefix fix\n  */\n-#define NEXT_MATH_PREFIX_FIXIDX          65\n+#define NEXT_MATH_PREFIX_FIXIDX          66\n tSCC zNext_Math_PrefixName[] =\n-     \"Next_Math_Prefix\";\n+     \"next_math_prefix\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2591,9 +2716,10 @@ const char* apzNext_Math_PrefixPatch[] = { \"sed\",\n  *\n  *  Description of Next_Template fix\n  */\n-#define NEXT_TEMPLATE_FIXIDX             66\n+#define NEXT_TEMPLATE_FIXIDX             67\n tSCC zNext_TemplateName[] =\n-     \"Next_Template\";\n+     \"next_template\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2626,9 +2752,10 @@ const char* apzNext_TemplatePatch[] = { \"sed\",\n  *\n  *  Description of Next_Volitile fix\n  */\n-#define NEXT_VOLITILE_FIXIDX             67\n+#define NEXT_VOLITILE_FIXIDX             68\n tSCC zNext_VolitileName[] =\n-     \"Next_Volitile\";\n+     \"next_volitile\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2661,9 +2788,10 @@ const char* apzNext_VolitilePatch[] = { \"sed\",\n  *\n  *  Description of Next_Wait_Union fix\n  */\n-#define NEXT_WAIT_UNION_FIXIDX           68\n+#define NEXT_WAIT_UNION_FIXIDX           69\n tSCC zNext_Wait_UnionName[] =\n-     \"Next_Wait_Union\";\n+     \"next_wait_union\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2695,9 +2823,10 @@ const char* apzNext_Wait_UnionPatch[] = { \"sed\",\n  *\n  *  Description of Nodeent_Syntax fix\n  */\n-#define NODEENT_SYNTAX_FIXIDX            69\n+#define NODEENT_SYNTAX_FIXIDX            70\n tSCC zNodeent_SyntaxName[] =\n-     \"Nodeent_Syntax\";\n+     \"nodeent_syntax\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2721,9 +2850,10 @@ const char* apzNodeent_SyntaxPatch[] = { \"sed\",\n  *\n  *  Description of Osf_Namespace_A fix\n  */\n-#define OSF_NAMESPACE_A_FIXIDX           70\n+#define OSF_NAMESPACE_A_FIXIDX           71\n tSCC zOsf_Namespace_AName[] =\n-     \"Osf_Namespace_A\";\n+     \"osf_namespace_a\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2766,9 +2896,10 @@ const char* apzOsf_Namespace_APatch[] = { \"sed\",\n  *\n  *  Description of Osf_Namespace_B fix\n  */\n-#define OSF_NAMESPACE_B_FIXIDX           71\n+#define OSF_NAMESPACE_B_FIXIDX           72\n tSCC zOsf_Namespace_BName[] =\n-     \"Osf_Namespace_B\";\n+     \"osf_namespace_b\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2812,9 +2943,10 @@ typedef __regmatch_t\\tregmatch_t;\\n\",\n  *\n  *  Description of Pthread_Page_Size fix\n  */\n-#define PTHREAD_PAGE_SIZE_FIXIDX         72\n+#define PTHREAD_PAGE_SIZE_FIXIDX         73\n tSCC zPthread_Page_SizeName[] =\n-     \"Pthread_Page_Size\";\n+     \"pthread_page_size\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2846,9 +2978,10 @@ const char* apzPthread_Page_SizePatch[] = { \"sed\",\n  *\n  *  Description of Read_Ret_Type fix\n  */\n-#define READ_RET_TYPE_FIXIDX             73\n+#define READ_RET_TYPE_FIXIDX             74\n tSCC zRead_Ret_TypeName[] =\n-     \"Read_Ret_Type\";\n+     \"read_ret_type\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2881,9 +3014,10 @@ const char* apzRead_Ret_TypePatch[] = { \"sed\",\n  *\n  *  Description of Rs6000_Double fix\n  */\n-#define RS6000_DOUBLE_FIXIDX             74\n+#define RS6000_DOUBLE_FIXIDX             75\n tSCC zRs6000_DoubleName[] =\n-     \"Rs6000_Double\";\n+     \"rs6000_double\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2918,9 +3052,10 @@ const char* apzRs6000_DoublePatch[] = { \"sed\",\n  *\n  *  Description of Rs6000_Fchmod fix\n  */\n-#define RS6000_FCHMOD_FIXIDX             75\n+#define RS6000_FCHMOD_FIXIDX             76\n tSCC zRs6000_FchmodName[] =\n-     \"Rs6000_Fchmod\";\n+     \"rs6000_fchmod\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2952,9 +3087,10 @@ const char* apzRs6000_FchmodPatch[] = { \"sed\",\n  *\n  *  Description of Rs6000_Param fix\n  */\n-#define RS6000_PARAM_FIXIDX              76\n+#define RS6000_PARAM_FIXIDX              77\n tSCC zRs6000_ParamName[] =\n-     \"Rs6000_Param\";\n+     \"rs6000_param\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -2986,9 +3122,10 @@ const char* apzRs6000_ParamPatch[] = { \"sed\",\n  *\n  *  Description of Sony_Include fix\n  */\n-#define SONY_INCLUDE_FIXIDX              77\n+#define SONY_INCLUDE_FIXIDX              78\n tSCC zSony_IncludeName[] =\n-     \"Sony_Include\";\n+     \"sony_include\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3020,9 +3157,10 @@ const char* apzSony_IncludePatch[] = { \"sed\",\n  *\n  *  Description of Statsswtch fix\n  */\n-#define STATSSWTCH_FIXIDX                78\n+#define STATSSWTCH_FIXIDX                79\n tSCC zStatsswtchName[] =\n-     \"Statsswtch\";\n+     \"statsswtch\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3050,13 +3188,51 @@ const char* apzStatsswtchPatch[] = { \"sed\",\n     \"-e\", \"s/boottime$/boottime;/\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Stdio_Stdarg_H fix\n+ */\n+#define STDIO_STDARG_H_FIXIDX            80\n+tSCC zStdio_Stdarg_HName[] =\n+     \"stdio_stdarg_h\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zStdio_Stdarg_HList[] =\n+  \"|stdio.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzStdio_Stdarg_HMachs (const char**)NULL\n+\n+/*\n+ *  content bypass pattern - skip fix if pattern found\n+ */\n+tSCC zStdio_Stdarg_HBypass0[] =\n+       \"include.*(stdarg.h|machine/ansi.h)\";\n+\n+#define    STDIO_STDARG_H_TEST_CT  1\n+tTestDesc aStdio_Stdarg_HTests[] = {\n+  { TT_NEGREP,   zStdio_Stdarg_HBypass0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Stdio_Stdarg_H\n+ */\n+const char* apzStdio_Stdarg_HPatch[] = { \"sed\",\n+    \"-e\", \"1i\\\\\\n\\\n+#define __need___va_list\\\\\\n\\\n+#include <stdarg.h>\\n\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Stdio_Va_List fix\n  */\n-#define STDIO_VA_LIST_FIXIDX             79\n+#define STDIO_VA_LIST_FIXIDX             81\n tSCC zStdio_Va_ListName[] =\n-     \"Stdio_Va_List\";\n+     \"stdio_va_list\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3071,7 +3247,7 @@ tSCC zStdio_Va_ListList[] =\n  *  content bypass pattern - skip fix if pattern found\n  */\n tSCC zStdio_Va_ListBypass0[] =\n-       \"__gnuc_va_list\";\n+       \"__gnuc_va_list|_BSD_VA_LIST_\";\n \n #define    STDIO_VA_LIST_TEST_CT  1\n tTestDesc aStdio_Va_ListTests[] = {\n@@ -3080,34 +3256,27 @@ tTestDesc aStdio_Va_ListTests[] = {\n /*\n  *  Fix Command Arguments for Stdio_Va_List\n  */\n-const char* apzStdio_Va_ListPatch[] = { \"sh\", \"-c\",\n-    \"if ( egrep \\\"__need___va_list\\\" $file ) > /dev/null 2>&1 ; then\\n\\\n-    :\\n\\\n-  else\\n\\\n-    echo \\\"#define __need___va_list\\\"\\n\\\n-    echo \\\"#include <stdarg.h>\\\"\\n\\\n-  fi\\n\\\n-\\n\\\n-  sed -e 's@ va_list @ __gnuc_va_list @' \\\\\\n\\\n-      -e 's@ va_list)@ __gnuc_va_list)@' \\\\\\n\\\n-      -e 's@ _BSD_VA_LIST_))@ __gnuc_va_list))@' \\\\\\n\\\n-      -e 's@ _VA_LIST_));@ __gnuc_va_list));@' \\\\\\n\\\n-      -e 's@ va_list@ __not_va_list__@' \\\\\\n\\\n-      -e 's@\\\\*va_list@*__not_va_list__@' \\\\\\n\\\n-      -e 's@ __va_list)@ __gnuc_va_list)@' \\\\\\n\\\n-      -e 's@GNUC_VA_LIST@GNUC_Va_LIST@' \\\\\\n\\\n-      -e 's@_NEED___VA_LIST@_NEED___Va_LIST@' \\\\\\n\\\n-      -e 's@VA_LIST@DUMMY_VA_LIST@' \\\\\\n\\\n-      -e 's@_Va_LIST@_VA_LIST@'\",\n+const char* apzStdio_Va_ListPatch[] = { \"sed\",\n+    \"-e\", \"s@ va_list @ __gnuc_va_list @\\n\\\n+s@ va_list)@ __gnuc_va_list)@\\n\\\n+s@ _VA_LIST_));@ __gnuc_va_list));@\\n\\\n+s@ va_list@ __not_va_list__@\\n\\\n+s@\\\\*va_list@*__not_va_list__@\\n\\\n+s@ __va_list)@ __gnuc_va_list)@\\n\\\n+s@GNUC_VA_LIST@GNUC_Va_LIST@\\n\\\n+s@_NEED___VA_LIST@_NEED___Va_LIST@\\n\\\n+s@VA_LIST@DUMMY_VA_LIST@\\n\\\n+s@_Va_LIST@_VA_LIST@\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Sun_Bogus_Ifdef fix\n  */\n-#define SUN_BOGUS_IFDEF_FIXIDX           80\n+#define SUN_BOGUS_IFDEF_FIXIDX           82\n tSCC zSun_Bogus_IfdefName[] =\n-     \"Sun_Bogus_Ifdef\";\n+     \"sun_bogus_ifdef\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3139,9 +3308,10 @@ const char* apzSun_Bogus_IfdefPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Bogus_Ifdef_Sun4c fix\n  */\n-#define SUN_BOGUS_IFDEF_SUN4C_FIXIDX     81\n+#define SUN_BOGUS_IFDEF_SUN4C_FIXIDX     83\n tSCC zSun_Bogus_Ifdef_Sun4cName[] =\n-     \"Sun_Bogus_Ifdef_Sun4c\";\n+     \"sun_bogus_ifdef_sun4c\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3173,9 +3343,10 @@ const char* apzSun_Bogus_Ifdef_Sun4cPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Catmacro fix\n  */\n-#define SUN_CATMACRO_FIXIDX              82\n+#define SUN_CATMACRO_FIXIDX              84\n tSCC zSun_CatmacroName[] =\n-     \"Sun_Catmacro\";\n+     \"sun_catmacro\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3212,9 +3383,10 @@ const char* apzSun_CatmacroPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Malloc fix\n  */\n-#define SUN_MALLOC_FIXIDX                83\n+#define SUN_MALLOC_FIXIDX                85\n tSCC zSun_MallocName[] =\n-     \"Sun_Malloc\";\n+     \"sun_malloc\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3241,9 +3413,10 @@ const char* apzSun_MallocPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Rusers_Semi fix\n  */\n-#define SUN_RUSERS_SEMI_FIXIDX           84\n+#define SUN_RUSERS_SEMI_FIXIDX           86\n tSCC zSun_Rusers_SemiName[] =\n-     \"Sun_Rusers_Semi\";\n+     \"sun_rusers_semi\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3275,9 +3448,10 @@ const char* apzSun_Rusers_SemiPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Signal fix\n  */\n-#define SUN_SIGNAL_FIXIDX                85\n+#define SUN_SIGNAL_FIXIDX                87\n tSCC zSun_SignalName[] =\n-     \"Sun_Signal\";\n+     \"sun_signal\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3314,9 +3488,10 @@ void\\t(*signal(...))(...);\\\\\\n\\\n  *\n  *  Description of Sun_Auth_Proto fix\n  */\n-#define SUN_AUTH_PROTO_FIXIDX            86\n+#define SUN_AUTH_PROTO_FIXIDX            88\n tSCC zSun_Auth_ProtoName[] =\n-     \"Sun_Auth_Proto\";\n+     \"sun_auth_proto\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3353,9 +3528,10 @@ const char* apzSun_Auth_ProtoPatch[] = { \"sed\",\n  *\n  *  Description of Sunos_Matherr_Decl fix\n  */\n-#define SUNOS_MATHERR_DECL_FIXIDX        87\n+#define SUNOS_MATHERR_DECL_FIXIDX        89\n tSCC zSunos_Matherr_DeclName[] =\n-     \"Sunos_Matherr_Decl\";\n+     \"sunos_matherr_decl\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3389,9 +3565,10 @@ struct exception;\\n\",\n  *\n  *  Description of Sunos_Strlen fix\n  */\n-#define SUNOS_STRLEN_FIXIDX              88\n+#define SUNOS_STRLEN_FIXIDX              90\n tSCC zSunos_StrlenName[] =\n-     \"Sunos_Strlen\";\n+     \"sunos_strlen\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3423,9 +3600,10 @@ const char* apzSunos_StrlenPatch[] = { \"sed\",\n  *\n  *  Description of Systypes fix\n  */\n-#define SYSTYPES_FIXIDX                  89\n+#define SYSTYPES_FIXIDX                  91\n tSCC zSystypesName[] =\n-     \"Systypes\";\n+     \"systypes\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3479,42 +3657,43 @@ typedef __SIZE_TYPE__ size_t;\\\\\\n\\\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Systypes_For_Aix fix\n+ *  Description of Systypes_Stdlib_Size_T fix\n  */\n-#define SYSTYPES_FOR_AIX_FIXIDX          90\n-tSCC zSystypes_For_AixName[] =\n-     \"Systypes_For_Aix\";\n+#define SYSTYPES_STDLIB_SIZE_T_FIXIDX    92\n+tSCC zSystypes_Stdlib_Size_TName[] =\n+     \"systypes_stdlib_size_t\";\n+\n /*\n  *  File name selection pattern\n  */\n-tSCC zSystypes_For_AixList[] =\n-  \"|sys/types.h|\";\n+tSCC zSystypes_Stdlib_Size_TList[] =\n+  \"|sys/types.h|stdlib.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzSystypes_For_AixMachs (const char**)NULL\n+#define apzSystypes_Stdlib_Size_TMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zSystypes_For_AixSelect0[] =\n+tSCC zSystypes_Stdlib_Size_TSelect0[] =\n        \"typedef[ \\t][ \\t]*[A-Za-z_][ \\tA-Za-z_]*[ \\t]size_t\";\n \n /*\n  *  content bypass pattern - skip fix if pattern found\n  */\n-tSCC zSystypes_For_AixBypass0[] =\n-       \"_GCC_SIZE_T\";\n+tSCC zSystypes_Stdlib_Size_TBypass0[] =\n+       \"_(GCC|BSD)_SIZE_T\";\n \n-#define    SYSTYPES_FOR_AIX_TEST_CT  2\n-tTestDesc aSystypes_For_AixTests[] = {\n-  { TT_NEGREP,   zSystypes_For_AixBypass0, (regex_t*)NULL },\n-  { TT_EGREP,    zSystypes_For_AixSelect0, (regex_t*)NULL }, };\n+#define    SYSTYPES_STDLIB_SIZE_T_TEST_CT  2\n+tTestDesc aSystypes_Stdlib_Size_TTests[] = {\n+  { TT_NEGREP,   zSystypes_Stdlib_Size_TBypass0, (regex_t*)NULL },\n+  { TT_EGREP,    zSystypes_Stdlib_Size_TSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Systypes_For_Aix\n+ *  Fix Command Arguments for Systypes_Stdlib_Size_T\n  */\n-const char* apzSystypes_For_AixPatch[] = { \"sed\",\n+const char* apzSystypes_Stdlib_Size_TPatch[] = { \"sed\",\n     \"-e\", \"/typedef[ \\t][ \\t]*[A-Za-z_][ \\tA-Za-z_]*[ \\t]size_t/i\\\\\\n\\\n #ifndef _GCC_SIZE_T\\\\\\n\\\n #define _GCC_SIZE_T\\n\",\n@@ -3526,9 +3705,10 @@ const char* apzSystypes_For_AixPatch[] = { \"sed\",\n  *\n  *  Description of Sysv68_String fix\n  */\n-#define SYSV68_STRING_FIXIDX             91\n+#define SYSV68_STRING_FIXIDX             93\n tSCC zSysv68_StringName[] =\n-     \"Sysv68_String\";\n+     \"sysv68_string\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3562,9 +3742,10 @@ extern unsigned int\\\\\\n\\\n  *\n  *  Description of Sysz_Stdlib_For_Sun fix\n  */\n-#define SYSZ_STDLIB_FOR_SUN_FIXIDX       92\n+#define SYSZ_STDLIB_FOR_SUN_FIXIDX       94\n tSCC zSysz_Stdlib_For_SunName[] =\n-     \"Sysz_Stdlib_For_Sun\";\n+     \"sysz_stdlib_for_sun\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3588,20 +3769,16 @@ const char* apzSysz_Stdlib_For_SunPatch[] = { \"sed\",\n     \"-e\", \"s/char[ \\t]*\\\\*[ \\t]*realloc/void \\\\*\\trealloc/g\",\n     \"-e\", \"s/char[ \\t]*\\\\*[ \\t]*bsearch/void \\\\*\\tbsearch/g\",\n     \"-e\", \"s/int[ \\t][ \\t]*exit/void\\texit/g\",\n-    \"-e\", \"/typedef[ \\ta-zA-Z_]*[ \\t]size_t[ \\t]*;/i\\\\\\n\\\n-#ifndef _GCC_SIZE_T\\\\\\n\\\n-#define _GCC_SIZE_T\\n\",\n-    \"-e\", \"/typedef[ \\ta-zA-Z_]*[ \\t]size_t[ \\t]*;/a\\\\\\n\\\n-#endif\\n\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Sysz_Stdtypes_For_Sun fix\n  */\n-#define SYSZ_STDTYPES_FOR_SUN_FIXIDX     93\n+#define SYSZ_STDTYPES_FOR_SUN_FIXIDX     95\n tSCC zSysz_Stdtypes_For_SunName[] =\n-     \"Sysz_Stdtypes_For_Sun\";\n+     \"sysz_stdtypes_for_sun\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3639,9 +3816,10 @@ const char* apzSysz_Stdtypes_For_SunPatch[] = { \"sed\",\n  *\n  *  Description of Tinfo_Cplusplus fix\n  */\n-#define TINFO_CPLUSPLUS_FIXIDX           94\n+#define TINFO_CPLUSPLUS_FIXIDX           96\n tSCC zTinfo_CplusplusName[] =\n-     \"Tinfo_Cplusplus\";\n+     \"tinfo_cplusplus\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3673,9 +3851,10 @@ const char* apzTinfo_CplusplusPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Fix_Fixproto fix\n  */\n-#define ULTRIX_FIX_FIXPROTO_FIXIDX       95\n+#define ULTRIX_FIX_FIXPROTO_FIXIDX       97\n tSCC zUltrix_Fix_FixprotoName[] =\n-     \"Ultrix_Fix_Fixproto\";\n+     \"ultrix_fix_fixproto\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3708,9 +3887,10 @@ struct utsname;\\n\",\n  *\n  *  Description of Ultrix_Atof_Param fix\n  */\n-#define ULTRIX_ATOF_PARAM_FIXIDX         96\n+#define ULTRIX_ATOF_PARAM_FIXIDX         98\n tSCC zUltrix_Atof_ParamName[] =\n-     \"Ultrix_Atof_Param\";\n+     \"ultrix_atof_param\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3742,9 +3922,10 @@ const char* apzUltrix_Atof_ParamPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Const fix\n  */\n-#define ULTRIX_CONST_FIXIDX              97\n+#define ULTRIX_CONST_FIXIDX              99\n tSCC zUltrix_ConstName[] =\n-     \"Ultrix_Const\";\n+     \"ultrix_const\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3776,9 +3957,10 @@ const char* apzUltrix_ConstPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Ifdef fix\n  */\n-#define ULTRIX_IFDEF_FIXIDX              98\n+#define ULTRIX_IFDEF_FIXIDX              100\n tSCC zUltrix_IfdefName[] =\n-     \"Ultrix_Ifdef\";\n+     \"ultrix_ifdef\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3793,7 +3975,7 @@ tSCC zUltrix_IfdefList[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zUltrix_IfdefSelect0[] =\n-       \"#ifdef KERNEL\";\n+       \"#ifdef KERNEL[ \\t]*[^ \\t]\";\n \n #define    ULTRIX_IFDEF_TEST_CT  1\n tTestDesc aUltrix_IfdefTests[] = {\n@@ -3810,9 +3992,10 @@ const char* apzUltrix_IfdefPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Nested_Cmnt fix\n  */\n-#define ULTRIX_NESTED_CMNT_FIXIDX        99\n+#define ULTRIX_NESTED_CMNT_FIXIDX        101\n tSCC zUltrix_Nested_CmntName[] =\n-     \"Ultrix_Nested_Cmnt\";\n+     \"ultrix_nested_cmnt\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3836,9 +4019,10 @@ const char* apzUltrix_Nested_CmntPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Static fix\n  */\n-#define ULTRIX_STATIC_FIXIDX             100\n+#define ULTRIX_STATIC_FIXIDX             102\n tSCC zUltrix_StaticName[] =\n-     \"Ultrix_Static\";\n+     \"ultrix_static\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3872,9 +4056,10 @@ const char* apzUltrix_StaticPatch[] = { \"sed\",\n  *\n  *  Description of Undefine_Null fix\n  */\n-#define UNDEFINE_NULL_FIXIDX             101\n+#define UNDEFINE_NULL_FIXIDX             103\n tSCC zUndefine_NullName[] =\n-     \"Undefine_Null\";\n+     \"undefine_null\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3913,9 +4098,10 @@ const char* apzUndefine_NullPatch[] = { \"sed\",\n  *\n  *  Description of Unixware7_Byteorder_Fix fix\n  */\n-#define UNIXWARE7_BYTEORDER_FIX_FIXIDX   102\n+#define UNIXWARE7_BYTEORDER_FIX_FIXIDX   104\n tSCC zUnixware7_Byteorder_FixName[] =\n-     \"Unixware7_Byteorder_Fix\";\n+     \"unixware7_byteorder_fix\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3955,9 +4141,10 @@ const char* apzUnixware7_Byteorder_FixPatch[] = { \"sed\",\n  *\n  *  Description of Va_I960_Macro fix\n  */\n-#define VA_I960_MACRO_FIXIDX             103\n+#define VA_I960_MACRO_FIXIDX             105\n tSCC zVa_I960_MacroName[] =\n-     \"Va_I960_Macro\";\n+     \"va_i960_macro\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -3992,9 +4179,10 @@ const char* apzVa_I960_MacroPatch[] = { \"sed\",\n  *\n  *  Description of Void_Null fix\n  */\n-#define VOID_NULL_FIXIDX                 104\n+#define VOID_NULL_FIXIDX                 106\n tSCC zVoid_NullName[] =\n-     \"Void_Null\";\n+     \"void_null\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -4026,9 +4214,10 @@ const char* apzVoid_NullPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Gcc_Problem fix\n  */\n-#define VXWORKS_GCC_PROBLEM_FIXIDX       105\n+#define VXWORKS_GCC_PROBLEM_FIXIDX       107\n tSCC zVxworks_Gcc_ProblemName[] =\n-     \"Vxworks_Gcc_Problem\";\n+     \"vxworks_gcc_problem\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -4075,9 +4264,10 @@ const char* apzVxworks_Gcc_ProblemPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Needs_Vxtypes fix\n  */\n-#define VXWORKS_NEEDS_VXTYPES_FIXIDX     106\n+#define VXWORKS_NEEDS_VXTYPES_FIXIDX     108\n tSCC zVxworks_Needs_VxtypesName[] =\n-     \"Vxworks_Needs_Vxtypes\";\n+     \"vxworks_needs_vxtypes\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -4109,9 +4299,10 @@ const char* apzVxworks_Needs_VxtypesPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Needs_Vxworks fix\n  */\n-#define VXWORKS_NEEDS_VXWORKS_FIXIDX     107\n+#define VXWORKS_NEEDS_VXWORKS_FIXIDX     109\n tSCC zVxworks_Needs_VxworksName[] =\n-     \"Vxworks_Needs_Vxworks\";\n+     \"vxworks_needs_vxworks\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -4157,9 +4348,10 @@ const char* apzVxworks_Needs_VxworksPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Time fix\n  */\n-#define VXWORKS_TIME_FIXIDX              108\n+#define VXWORKS_TIME_FIXIDX              110\n tSCC zVxworks_TimeName[] =\n-     \"Vxworks_Time\";\n+     \"vxworks_time\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -4207,9 +4399,10 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\\\\\n\\\n  *\n  *  Description of X11_Class fix\n  */\n-#define X11_CLASS_FIXIDX                 109\n+#define X11_CLASS_FIXIDX                 111\n tSCC zX11_ClassName[] =\n-     \"X11_Class\";\n+     \"x11_class\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -4246,9 +4439,10 @@ const char* apzX11_ClassPatch[] = { \"sed\",\n  *\n  *  Description of X11_Class_Usage fix\n  */\n-#define X11_CLASS_USAGE_FIXIDX           110\n+#define X11_CLASS_USAGE_FIXIDX           112\n tSCC zX11_Class_UsageName[] =\n-     \"X11_Class_Usage\";\n+     \"x11_class_usage\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -4280,9 +4474,10 @@ const char* apzX11_Class_UsagePatch[] = { \"sed\",\n  *\n  *  Description of X11_New fix\n  */\n-#define X11_NEW_FIXIDX                   111\n+#define X11_NEW_FIXIDX                   113\n tSCC zX11_NewName[] =\n-     \"X11_New\";\n+     \"x11_new\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -4320,9 +4515,10 @@ const char* apzX11_NewPatch[] = { \"sed\",\n  *\n  *  Description of X11_Sprintf fix\n  */\n-#define X11_SPRINTF_FIXIDX               112\n+#define X11_SPRINTF_FIXIDX               114\n tSCC zX11_SprintfName[] =\n-     \"X11_Sprintf\";\n+     \"x11_sprintf\";\n+\n /*\n  *  File name selection pattern\n  */\n@@ -4352,13 +4548,14 @@ extern char *\\tsprintf();\\\\\\n\\\n #endif /* !defined __STDC__ */,\",\n     (char*)NULL };\n \n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          108\n+#define REGEX_COUNT          98\n #define MACH_LIST_SIZE_LIMIT 279\n-#define FIX_COUNT            113\n+#define FIX_COUNT            115\n \n tFixDesc fixDescList[ FIX_COUNT ] = {\n   {  zAaa_Ki_IfaceName,    zAaa_Ki_IfaceList,\n@@ -4656,6 +4853,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      M88K_MULTI_INCL_TEST_CT, FD_MACH_ONLY | FD_SHELL_SCRIPT,\n      aM88k_Multi_InclTests,   apzM88k_Multi_InclPatch },\n \n+  {  zMachine_Ansi_H_Va_ListName,    zMachine_Ansi_H_Va_ListList,\n+     apzMachine_Ansi_H_Va_ListMachs, (regex_t*)NULL,\n+     MACHINE_ANSI_H_VA_LIST_TEST_CT, FD_MACH_ONLY,\n+     aMachine_Ansi_H_Va_ListTests,   apzMachine_Ansi_H_Va_ListPatch },\n+\n   {  zMachine_NameName,    zMachine_NameList,\n      apzMachine_NameMachs, (regex_t*)NULL,\n      MACHINE_NAME_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n@@ -4756,9 +4958,14 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      STATSSWTCH_TEST_CT, FD_MACH_ONLY,\n      aStatsswtchTests,   apzStatsswtchPatch },\n \n+  {  zStdio_Stdarg_HName,    zStdio_Stdarg_HList,\n+     apzStdio_Stdarg_HMachs, (regex_t*)NULL,\n+     STDIO_STDARG_H_TEST_CT, FD_MACH_ONLY,\n+     aStdio_Stdarg_HTests,   apzStdio_Stdarg_HPatch },\n+\n   {  zStdio_Va_ListName,    zStdio_Va_ListList,\n      apzStdio_Va_ListMachs, (regex_t*)NULL,\n-     STDIO_VA_LIST_TEST_CT, FD_MACH_ONLY | FD_SHELL_SCRIPT,\n+     STDIO_VA_LIST_TEST_CT, FD_MACH_ONLY,\n      aStdio_Va_ListTests,   apzStdio_Va_ListPatch },\n \n   {  zSun_Bogus_IfdefName,    zSun_Bogus_IfdefList,\n@@ -4811,10 +5018,10 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      SYSTYPES_TEST_CT, FD_MACH_ONLY,\n      aSystypesTests,   apzSystypesPatch },\n \n-  {  zSystypes_For_AixName,    zSystypes_For_AixList,\n-     apzSystypes_For_AixMachs, (regex_t*)NULL,\n-     SYSTYPES_FOR_AIX_TEST_CT, FD_MACH_ONLY,\n-     aSystypes_For_AixTests,   apzSystypes_For_AixPatch },\n+  {  zSystypes_Stdlib_Size_TName,    zSystypes_Stdlib_Size_TList,\n+     apzSystypes_Stdlib_Size_TMachs, (regex_t*)NULL,\n+     SYSTYPES_STDLIB_SIZE_T_TEST_CT, FD_MACH_ONLY,\n+     aSystypes_Stdlib_Size_TTests,   apzSystypes_Stdlib_Size_TPatch },\n \n   {  zSysv68_StringName,    zSysv68_StringList,\n      apzSysv68_StringMachs, (regex_t*)NULL,"}, {"sha": "52d9e94d59644f941b03d4aa70f70c2ff2206694", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 67, "deletions": 51, "changes": 118, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=3be1fb7253d1aec3e0b637439dacf1ccdbda70e2", "patch": "@@ -861,7 +861,9 @@ fix = {\n     hackname = cxx_unready;\n     files    = sys/mman.h;\n     files    = rpc/types.h;\n-    bypass = '\"C\"|__BEGIN_DECLS';\n+    select   = '[^#]+malloc.*;';  /* Should catch any form of a declaration\n+\t\t\t\t     but not mention within a macro.  */\n+    bypass   = '\"C\"|__BEGIN_DECLS';\n \n     sed      = \"1i\\\\\\n\"\n                \"#ifdef __cplusplus\\\\\\n\"\n@@ -1012,8 +1014,7 @@ fix = {\n \n \n /*\n- *  IRIX 4.0.5 <rpc/auth.h> uses struct sockaddr\n- *  in prototype without previous definition.\n+ *  Some IRIX header files contain the string \"//\"\n  */\n fix = {\n     hackname = irix_multiline_cmnt;\n@@ -1025,12 +1026,14 @@ fix = {\n \n \n /*\n- *  Some IRIX header files contain the string \"//\"\n+ *  IRIX 4.0.5 <rpc/auth.h> uses struct sockaddr\n+ *  in prototype without previous definition.\n  */\n fix = {\n     hackname = irix_sockaddr;\n     files    = rpc/auth.h;\n     select   = \"authdes_create.*struct sockaddr\";\n+    bypass   = \"<sys/socket\\.h>\";\n     sed      = \"/authdes_create.*struct sockaddr/i\\\\\\n\"\n                \"struct sockaddr;\\n\";\n };\n@@ -1251,6 +1254,19 @@ fix = {\n };\n \n \n+/*\n+ * Fix BSD machine/ansi.h to use __builtin_va_list to define _BSD_VA_LIST_.\n+ */\n+fix = {\n+    hackname = machine_ansi_h_va_list;\n+    files    = machine/ansi.h;\n+    select   = '_BSD_VA_LIST_';\n+    bypass   = '__builtin_va_list';\n+\n+    sed\t     = \"s/\\\\(_BSD_VA_LIST_[ \\t][ \\t]*\\\\).*$/\\\\1__builtin_va_list/\";\n+};\n+\n+\n /*\n  *  Fix non-ansi machine name defines\n  */\n@@ -1641,6 +1657,7 @@ fix = {\n };\n #endif\n \n+\n /*\n  *  a missing semi-colon at the end of the statsswtch structure definition.\n  */\n@@ -1652,42 +1669,52 @@ fix = {\n };\n \n \n+/*\n+ *  Arrange for stdio.h to use stdarg.h to define __gnuc_va_list.\n+ *  On 4BSD-derived systems, stdio.h defers to machine/ansi.h; that's\n+ *  OK too.\n+ */\n+fix = {\n+    hackname = stdio_stdarg_h;\n+    files    = stdio.h;\n+    bypass   = \"include.*(stdarg\\.h|machine/ansi\\.h)\";\n+\n+    sed      = '1i\\\\\n+\\#define __need___va_list\\\\\n+\\#include <stdarg.h>\n+';\n+\n+};\n+\n+\n /*\n  *  Don't use or define the name va_list in stdio.h.\n  *  This is for ANSI and also to interoperate properly with gcc's varargs.h.\n- *  Arrange for stdio.h to use stdarg.h to define __gnuc_va_list\n+ *  Note _BSD_VA_LIST_ is dealt with elsewhere.\n  */\n fix = {\n     hackname = stdio_va_list;\n     files    = stdio.h;\n-    bypass   = \"__gnuc_va_list\";\n+    bypass   = '__gnuc_va_list|_BSD_VA_LIST_';\n \n     /*\n      * Use __gnuc_va_list in arg types in place of va_list.\n      * On 386BSD use __gnuc_va_list instead of _VA_LIST_.  We're hoping the\n      * trailing parentheses and semicolon save all other systems from this.\n-     * Define __not_va_list__ (something harmless and unused) instead of va_list.\n+     * Define __not_va_list__ (something harmless and unused)\n+     * instead of va_list.\n      * Don't claim to have defined va_list.\n      */\n-    shell =\n- \"if ( egrep \\\"__need___va_list\\\" $file ) > /dev/null 2>&1 ; then\n-    :\n-  else\n-    echo \\\"#define __need___va_list\\\"\n-    echo \\\"#include <stdarg.h>\\\"\n-  fi\n-\n-  sed -e 's@ va_list @ __gnuc_va_list @' \\\\\n-      -e 's@ va_list)@ __gnuc_va_list)@' \\\\\n-      -e 's@ _BSD_VA_LIST_))@ __gnuc_va_list))@' \\\\\n-      -e 's@ _VA_LIST_));@ __gnuc_va_list));@' \\\\\n-      -e 's@ va_list@ __not_va_list__@' \\\\\n-      -e 's@\\\\*va_list@*__not_va_list__@' \\\\\n-      -e 's@ __va_list)@ __gnuc_va_list)@' \\\\\n-      -e 's@GNUC_VA_LIST@GNUC_Va_LIST@' \\\\\n-      -e 's@_NEED___VA_LIST@_NEED___Va_LIST@' \\\\\n-      -e 's@VA_LIST@DUMMY_VA_LIST@' \\\\\n-      -e 's@_Va_LIST@_VA_LIST@'\";\n+    sed = \"s@ va_list @ __gnuc_va_list @\\n\"\n+          \"s@ va_list)@ __gnuc_va_list)@\\n\"\n+          \"s@ _VA_LIST_));@ __gnuc_va_list));@\\n\"\n+          \"s@ va_list@ __not_va_list__@\\n\"\n+          \"s@\\\\*va_list@*__not_va_list__@\\n\"\n+          \"s@ __va_list)@ __gnuc_va_list)@\\n\"\n+          \"s@GNUC_VA_LIST@GNUC_Va_LIST@\\n\"\n+          \"s@_NEED___VA_LIST@_NEED___Va_LIST@\\n\"\n+          \"s@VA_LIST@DUMMY_VA_LIST@\\n\"\n+          \"s@_Va_LIST@_VA_LIST@\";\n };\n \n \n@@ -2175,14 +2202,8 @@ fix = {\n };\n #endif /*  SVR5 */\n \n-\n-/*\n- *  Fix return value of mem{ccpy,chr,cpy,set} and str{len,spn,cspn}\n- *  in string.h on sysV68\n- *  Correct the return type for strlen in string.h on Lynx.\n- *  Correct the argument type for ffs in string.h on Alpha OSF/1 V2.0.\n- *  Add missing const for strdup on OSF/1 V3.0.\n- *  On sysV88 layout is slightly different.\n+/* Fix these files to use the same types that we think they should.\n+ * XXX - extremely dubious changes here.\n  */\n fix = {\n     hackname = systypes;\n@@ -2235,15 +2256,15 @@ fix = {\n \n \n /*\n- *  Fix this file to avoid interfering with stddef.h,\n- *  but don't mistakenly match ssize_t present in AIX for the ps/2,\n- *  or typedefs which use (but do not set) size_t.\n+ * Fix files that may contain a stray definition of size_t.  Take care\n+ * not to match ssize_t or mere uses of size_t.\n  */\n fix = {\n-    hackname = systypes_for_aix;\n+    hackname = systypes_stdlib_size_t;\n     files    = sys/types.h;\n+    files    = stdlib.h;\n     select   = \"typedef[ \\t][ \\t]*[A-Za-z_][ \\tA-Za-z_]*[ \\t]size_t\";\n-    bypass   = \"_GCC_SIZE_T\";\n+    bypass   = \"_(GCC|BSD)_SIZE_T\";\n \n     sed    = \"/typedef[ \\t][ \\t]*[A-Za-z_][ \\tA-Za-z_]*[ \\t]size_t/i\\\\\\n\"\n                  \"#ifndef _GCC_SIZE_T\\\\\\n\"\n@@ -2255,9 +2276,12 @@ fix = {\n \n \n /*\n- *  Fix return type of exit and abort in <stdlib.h> on SunOS 4.1.\n- *  Also wrap protection around size_t for m88k-sysv3 systems.\n- *  We use a funny name to ensure it follows 'systypes' fix.\n+ *  Fix return value of mem{ccpy,chr,cpy,set} and str{len,spn,cspn}\n+ *  in string.h on sysV68\n+ *  Correct the return type for strlen in string.h on Lynx.\n+ *  Correct the argument type for ffs in string.h on Alpha OSF/1 V2.0.\n+ *  Add missing const for strdup on OSF/1 V3.0.\n+ *  On sysV88 layout is slightly different.\n  */\n fix = {\n     hackname = sysv68_string;\n@@ -2278,7 +2302,6 @@ fix = {\n \n /*\n  *  Fix return type of exit and abort in <stdlib.h>\n- *  Also wrap protection around size_t.\n  */\n fix = {\n     hackname = sysz_stdlib_for_sun;\n@@ -2291,13 +2314,6 @@ fix = {\n     sed   = \"s/char[ \\t]*\\\\*[ \\t]*realloc/void \\\\*\\trealloc/g\";\n     sed   = \"s/char[ \\t]*\\\\*[ \\t]*bsearch/void \\\\*\\tbsearch/g\";\n     sed   = \"s/int[ \\t][ \\t]*exit/void\\texit/g\";\n-\n-    sed   = \"/typedef[ \\ta-zA-Z_]*[ \\t]size_t[ \\t]*;/i\\\\\\n\"\n-                \"#ifndef _GCC_SIZE_T\\\\\\n\"\n-                \"#define _GCC_SIZE_T\\n\";\n-\n-    sed   = \"/typedef[ \\ta-zA-Z_]*[ \\t]size_t[ \\t]*;/a\\\\\\n\"\n-                \"#endif\\n\";\n };\n \n \n@@ -2395,7 +2411,7 @@ fix = {\n  */\n fix = {\n     hackname = ultrix_ifdef;\n-    select   = \"#ifdef KERNEL\";\n+    select   = \"#ifdef KERNEL[ \\t]*[^ \\t]\";\n     files    = sys/file.h;\n     sed      = \"s/#ifdef KERNEL/#if defined(KERNEL)/\";\n };"}, {"sha": "647782e87ed52add1b5b2bd38d10ab4011888555", "filename": "gcc/fixinc/inclhack.sh", "status": "modified", "additions": 75, "deletions": 38, "changes": 113, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/gcc%2Ffixinc%2Finclhack.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/gcc%2Ffixinc%2Finclhack.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.sh?ref=3be1fb7253d1aec3e0b637439dacf1ccdbda70e2", "patch": "@@ -6,11 +6,12 @@\n # files which are fixed to work correctly with ANSI C and placed in a\n # directory that GNU C will search.\n #\n-# This script contains 113 fixup scripts.\n+# This script contains 115 fixup scripts.\n #\n # See README-fixinc for more information.\n #\n-#  fixincludes copyright (c) 2000 The Free Software Foundation, Inc.\n+#  fixincludes copyright (c) 1998, 1999, 2000\n+#  The Free Software Foundation, Inc.\n #\n # fixincludes is free software.\n # \n@@ -1392,6 +1393,8 @@ extern \"C\"\\\n     #\n     case \"${file}\" in ./sys/mman.h | \\\n \t./rpc/types.h )\n+    if ( test -n \"`egrep '[^#]+malloc.*;' ${file}`\"\n+       ) > /dev/null 2>&1 ; then\n     if ( test -z \"`egrep '\\\"C\\\"|__BEGIN_DECLS' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n     fixlist=\"${fixlist}\n@@ -1415,6 +1418,7 @@ extern \"C\" {\\\n     rm -f ${DESTFILE}\n     mv -f ${DESTDIR}/fixinc.tmp ${DESTFILE}\n     fi # end of bypass 'if'\n+    fi # end of select 'if'\n     ;; # case end for file name test\n     esac\n \n@@ -1644,6 +1648,8 @@ extern \"C\" {\\\n     case \"${file}\" in ./rpc/auth.h )\n     if ( test -n \"`egrep 'authdes_create.*struct sockaddr' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n+    if ( test -z \"`egrep '<sys/socket.h>' ${file}`\"\n+       ) > /dev/null 2>&1 ; then\n     fixlist=\"${fixlist}\n       irix_sockaddr\"\n     if [ ! -r ${DESTFILE} ]\n@@ -1656,6 +1662,7 @@ struct sockaddr;\n           < $infile > ${DESTDIR}/fixinc.tmp\n     rm -f ${DESTFILE}\n     mv -f ${DESTDIR}/fixinc.tmp ${DESTFILE}\n+    fi # end of bypass 'if'\n     fi # end of select 'if'\n     ;; # case end for file name test\n     esac\n@@ -1999,6 +2006,30 @@ static __inline__ double fake_hypot (x, y)\\\n     esac\n \n \n+    #\n+    # Fix Machine_Ansi_H_Va_List\n+    #\n+    case \"${file}\" in ./machine/ansi.h )\n+    if ( test -n \"`egrep '_BSD_VA_LIST_' ${file}`\"\n+       ) > /dev/null 2>&1 ; then\n+    if ( test -z \"`egrep '__builtin_va_list' ${file}`\"\n+       ) > /dev/null 2>&1 ; then\n+    fixlist=\"${fixlist}\n+      machine_ansi_h_va_list\"\n+    if [ ! -r ${DESTFILE} ]\n+    then infile=${file}\n+    else infile=${DESTFILE} ; fi \n+\n+    sed -e 's/\\(_BSD_VA_LIST_[ \t][ \t]*\\).*$/\\1__builtin_va_list/' \\\n+          < $infile > ${DESTDIR}/fixinc.tmp\n+    rm -f ${DESTFILE}\n+    mv -f ${DESTDIR}/fixinc.tmp ${DESTFILE}\n+    fi # end of bypass 'if'\n+    fi # end of select 'if'\n+    ;; # case end for file name test\n+    esac\n+\n+\n     #\n     # Fix Machine_Name\n     #\n@@ -2469,40 +2500,52 @@ typedef __regmatch_t\tregmatch_t;\n \n \n     #\n-    # Fix Stdio_Va_List\n+    # Fix Stdio_Stdarg_H\n     #\n     case \"${file}\" in ./stdio.h )\n-    if ( test -z \"`egrep '__gnuc_va_list' ${file}`\"\n+    if ( test -z \"`egrep 'include.*(stdarg.h|machine/ansi.h)' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n     fixlist=\"${fixlist}\n-      stdio_va_list\"\n+      stdio_stdarg_h\"\n     if [ ! -r ${DESTFILE} ]\n     then infile=${file}\n     else infile=${DESTFILE} ; fi \n-    ( if ( egrep \"__need___va_list\" $file ) > /dev/null 2>&1 ; then\n-    :\n-  else\n-    echo \"#define __need___va_list\"\n-    echo \"#include <stdarg.h>\"\n-  fi\n \n-  sed -e 's@ va_list @ __gnuc_va_list @' \\\n-      -e 's@ va_list)@ __gnuc_va_list)@' \\\n-      -e 's@ _BSD_VA_LIST_))@ __gnuc_va_list))@' \\\n-      -e 's@ _VA_LIST_));@ __gnuc_va_list));@' \\\n-      -e 's@ va_list@ __not_va_list__@' \\\n-      -e 's@\\*va_list@*__not_va_list__@' \\\n-      -e 's@ __va_list)@ __gnuc_va_list)@' \\\n-      -e 's@GNUC_VA_LIST@GNUC_Va_LIST@' \\\n-      -e 's@_NEED___VA_LIST@_NEED___Va_LIST@' \\\n-      -e 's@VA_LIST@DUMMY_VA_LIST@' \\\n-      -e 's@_Va_LIST@_VA_LIST@' ) < $infile > ${DESTDIR}/fixinc.tmp\n+    sed -e '1i\\\n+#define __need___va_list\\\n+#include <stdarg.h>\n+' \\\n+          < $infile > ${DESTDIR}/fixinc.tmp\n+    rm -f ${DESTFILE}\n+    mv -f ${DESTDIR}/fixinc.tmp ${DESTFILE}\n+    fi # end of bypass 'if'\n+    ;; # case end for file name test\n+    esac\n+\n \n-    #  Shell scripts have the potential of removing the output\n-    #  We interpret that to mean the file is not to be altered\n     #\n-    if test ! -f ${DESTDIR}/fixinc.tmp\n-    then continue ; fi \n+    # Fix Stdio_Va_List\n+    #\n+    case \"${file}\" in ./stdio.h )\n+    if ( test -z \"`egrep '__gnuc_va_list|_BSD_VA_LIST_' ${file}`\"\n+       ) > /dev/null 2>&1 ; then\n+    fixlist=\"${fixlist}\n+      stdio_va_list\"\n+    if [ ! -r ${DESTFILE} ]\n+    then infile=${file}\n+    else infile=${DESTFILE} ; fi \n+\n+    sed -e 's@ va_list @ __gnuc_va_list @\n+s@ va_list)@ __gnuc_va_list)@\n+s@ _VA_LIST_));@ __gnuc_va_list));@\n+s@ va_list@ __not_va_list__@\n+s@\\*va_list@*__not_va_list__@\n+s@ __va_list)@ __gnuc_va_list)@\n+s@GNUC_VA_LIST@GNUC_Va_LIST@\n+s@_NEED___VA_LIST@_NEED___Va_LIST@\n+s@VA_LIST@DUMMY_VA_LIST@\n+s@_Va_LIST@_VA_LIST@' \\\n+          < $infile > ${DESTDIR}/fixinc.tmp\n     rm -f ${DESTFILE}\n     mv -f ${DESTDIR}/fixinc.tmp ${DESTFILE}\n     fi # end of bypass 'if'\n@@ -2781,15 +2824,16 @@ typedef __SIZE_TYPE__ size_t;\\\n \n \n     #\n-    # Fix Systypes_For_Aix\n+    # Fix Systypes_Stdlib_Size_T\n     #\n-    case \"${file}\" in ./sys/types.h )\n+    case \"${file}\" in ./sys/types.h | \\\n+\t./stdlib.h )\n     if ( test -n \"`egrep 'typedef[ \t][ \t]*[A-Za-z_][ \tA-Za-z_]*[ \t]size_t' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n-    if ( test -z \"`egrep '_GCC_SIZE_T' ${file}`\"\n+    if ( test -z \"`egrep '_(GCC|BSD)_SIZE_T' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n     fixlist=\"${fixlist}\n-      systypes_for_aix\"\n+      systypes_stdlib_size_t\"\n     if [ ! -r ${DESTFILE} ]\n     then infile=${file}\n     else infile=${DESTFILE} ; fi \n@@ -2855,13 +2899,6 @@ extern unsigned int\\\n         -e 's/char[ \t]*\\*[ \t]*realloc/void \\*\trealloc/g' \\\n         -e 's/char[ \t]*\\*[ \t]*bsearch/void \\*\tbsearch/g' \\\n         -e 's/int[ \t][ \t]*exit/void\texit/g' \\\n-        -e '/typedef[ \ta-zA-Z_]*[ \t]size_t[ \t]*;/i\\\n-#ifndef _GCC_SIZE_T\\\n-#define _GCC_SIZE_T\n-' \\\n-        -e '/typedef[ \ta-zA-Z_]*[ \t]size_t[ \t]*;/a\\\n-#endif\n-' \\\n           < $infile > ${DESTDIR}/fixinc.tmp\n     rm -f ${DESTFILE}\n     mv -f ${DESTDIR}/fixinc.tmp ${DESTFILE}\n@@ -3002,7 +3039,7 @@ struct utsname;\n     # Fix Ultrix_Ifdef\n     #\n     case \"${file}\" in ./sys/file.h )\n-    if ( test -n \"`egrep '#ifdef KERNEL' ${file}`\"\n+    if ( test -n \"`egrep '#ifdef KERNEL[ \t]*[^ \t]' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n     fixlist=\"${fixlist}\n       ultrix_ifdef\""}, {"sha": "d8d020cef1479f38efc01594f81382e48cf559bb", "filename": "gcc/fixinc/inclhack.tpl", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/gcc%2Ffixinc%2Finclhack.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3be1fb7253d1aec3e0b637439dacf1ccdbda70e2/gcc%2Ffixinc%2Finclhack.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.tpl?ref=3be1fb7253d1aec3e0b637439dacf1ccdbda70e2", "patch": "@@ -10,13 +10,15 @@ sh\n # Install modified versions of certain ANSI-incompatible system header\n # files which are fixed to work correctly with ANSI C and placed in a\n # directory that GNU C will search.\n-#\n+#[=\n+_IF PROGRAM _env ! =]\n # This script contains [=_eval fix _count =] fixup scripts.\n-#\n+#[=\n+_ENDIF =]\n # See README-fixinc for more information.\n #\n-#  fixincludes copyright (c) [=_eval \"date +%Y\" _shell\n-                                =] The Free Software Foundation, Inc.\n+#  fixincludes copyright (c) 1998, 1999, 2000\n+#  The Free Software Foundation, Inc.\n #\n [=_eval fixincludes \"## \" _gpl=]\n #"}]}