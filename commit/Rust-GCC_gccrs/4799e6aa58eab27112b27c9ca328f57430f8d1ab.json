{"sha": "4799e6aa58eab27112b27c9ca328f57430f8d1ab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDc5OWU2YWE1OGVhYjI3MTEyYjI3YzljYTMyOGY1NzQzMGY4ZDFhYg==", "commit": {"author": {"name": "Rafael Avila de Espindola", "email": "espindola@google.com", "date": "2008-05-22T15:49:30Z"}, "committer": {"name": "Rafael Espindola", "email": "espindola@gcc.gnu.org", "date": "2008-05-22T15:49:30Z"}, "message": "see.c (see_pre_insert_extensions): Use copy_rtx to avoid invalid rtx sharing.\n\n\t* see.c (see_pre_insert_extensions): Use copy_rtx to avoid invalid rtx\n\tsharing.\n\n\t* gcc.c-torture/compile/20080522-1.c: New testcase.\n\nFrom-SVN: r135770", "tree": {"sha": "5481a3a93e2e3f1ac5cb585fcb5c216c897259fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5481a3a93e2e3f1ac5cb585fcb5c216c897259fb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4799e6aa58eab27112b27c9ca328f57430f8d1ab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4799e6aa58eab27112b27c9ca328f57430f8d1ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4799e6aa58eab27112b27c9ca328f57430f8d1ab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4799e6aa58eab27112b27c9ca328f57430f8d1ab/comments", "author": null, "committer": null, "parents": [{"sha": "5bf6d4abbb211815ea9389ed6c70d4e90530f8a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bf6d4abbb211815ea9389ed6c70d4e90530f8a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5bf6d4abbb211815ea9389ed6c70d4e90530f8a3"}], "stats": {"total": 31, "additions": 30, "deletions": 1}, "files": [{"sha": "8e6029bf1a97ffe58f2f6602f0f5ffe22b6fedc6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4799e6aa58eab27112b27c9ca328f57430f8d1ab/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4799e6aa58eab27112b27c9ca328f57430f8d1ab/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4799e6aa58eab27112b27c9ca328f57430f8d1ab", "patch": "@@ -1,3 +1,8 @@\n+2008-05-22  Rafael Espindola  <espindola@google.com>\n+\n+\t* see.c (see_pre_insert_extensions): Use copy_rtx to avoid invalid rtx\n+\tsharing.\n+\n 2008-05-22  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* defaults.h (UNITS_PER_SIMD_WORD): Add scalar mode as argument."}, {"sha": "96d7ff5aa4b1ae95b14adc6a47591bf2a583b03d", "filename": "gcc/see.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4799e6aa58eab27112b27c9ca328f57430f8d1ab/gcc%2Fsee.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4799e6aa58eab27112b27c9ca328f57430f8d1ab/gcc%2Fsee.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsee.c?ref=4799e6aa58eab27112b27c9ca328f57430f8d1ab", "patch": "@@ -1686,7 +1686,7 @@ see_pre_insert_extensions (struct see_pre_extension_expr **index_map)\n \t\tedge eg = INDEX_EDGE (edge_list, e);\n \n \t\tstart_sequence ();\n-\t\temit_insn (PATTERN (expr->se_insn));\n+\t\temit_insn (copy_insn (PATTERN (expr->se_insn)));\n \t\tse_insn = get_insns ();\n \t\tend_sequence ();\n "}, {"sha": "2c62a499ce718abfb6e98712a7dcec9bc28a1b05", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4799e6aa58eab27112b27c9ca328f57430f8d1ab/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4799e6aa58eab27112b27c9ca328f57430f8d1ab/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4799e6aa58eab27112b27c9ca328f57430f8d1ab", "patch": "@@ -1,3 +1,7 @@\n+2008-05-22  Rafael Espindola  <espindola@google.com>\n+\n+\t* gcc.c-torture/compile/20080522-1.c: New testcase.\n+\n 2008-05-22  Richard Guenther  <rguenther@suse.de>\n \n \t* gcc.c-torture/execute/20080522-1.c: New testcase."}, {"sha": "e2598439b7975dcf263d1b7f64baf811dc16b9e4", "filename": "gcc/testsuite/gcc.c-torture/compile/20080522-1.c", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4799e6aa58eab27112b27c9ca328f57430f8d1ab/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20080522-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4799e6aa58eab27112b27c9ca328f57430f8d1ab/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20080522-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20080522-1.c?ref=4799e6aa58eab27112b27c9ca328f57430f8d1ab", "patch": "@@ -0,0 +1,20 @@\n+/* { dg-do compile }\n+/* { dg-options \"-O2 -fsee\" } */\n+\n+int f(const char* ptr, int bar) {\n+  return (((const char *)0 - ptr ) & (bar - 1)) == 0;\n+}\n+\n+\n+int g(const char* ptr, const char *test, int N, int bar)  {\n+  if (N == 0) {\n+  }\n+  else if (N > 0) {\n+    int count = 0;\n+    while ( count < N) {\n+      if (!f(ptr, bar))\n+        count++;\n+    }\n+  }\n+  return f(test, bar) ;\n+}"}]}