{"sha": "9f2ff8e5c985bb72bc6190be916618279abeb7ce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWYyZmY4ZTVjOTg1YmI3MmJjNjE5MGJlOTE2NjE4Mjc5YWJlYjdjZQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-07-05T17:05:04Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-07-05T17:05:04Z"}, "message": "ia64: Issue REG_CFA_REGISTER for ar.pfs at alloc insn.\n\n        * config/ia64/ia64.c (ia64_expand_prologue): Emit REG_CFA_REGISTER\n        for ar.pfs save at alloc insn.\n\nFrom-SVN: r175871", "tree": {"sha": "bb24150fb1af8befd373e0b030d792c4e81ce92e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bb24150fb1af8befd373e0b030d792c4e81ce92e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9f2ff8e5c985bb72bc6190be916618279abeb7ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f2ff8e5c985bb72bc6190be916618279abeb7ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f2ff8e5c985bb72bc6190be916618279abeb7ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f2ff8e5c985bb72bc6190be916618279abeb7ce/comments", "author": null, "committer": null, "parents": [{"sha": "ddc6e7d62c53eb1ef02410d5494bd3fd726b9f68", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddc6e7d62c53eb1ef02410d5494bd3fd726b9f68", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ddc6e7d62c53eb1ef02410d5494bd3fd726b9f68"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "f696e9b00d44d7d44d6bbad774012a33d05f5c3b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f2ff8e5c985bb72bc6190be916618279abeb7ce/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f2ff8e5c985bb72bc6190be916618279abeb7ce/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9f2ff8e5c985bb72bc6190be916618279abeb7ce", "patch": "@@ -1,3 +1,8 @@\n+2011-07-05  Richard Henderson  <rth@redhat.com>\n+\n+\t* config/ia64/ia64.c (ia64_expand_prologue): Emit REG_CFA_REGISTER\n+\tfor ar.pfs save at alloc insn.\n+\n 2011-07-05  Richard Henderson  <rth@redhat.com>\n \n \t* config/arm/arm.c (arm_dwarf_handle_frame_unspec): Remove."}, {"sha": "0a6f2e62216616d8f655b10acb390389f8a19256", "filename": "gcc/config/ia64/ia64.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f2ff8e5c985bb72bc6190be916618279abeb7ce/gcc%2Fconfig%2Fia64%2Fia64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f2ff8e5c985bb72bc6190be916618279abeb7ce/gcc%2Fconfig%2Fia64%2Fia64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.c?ref=9f2ff8e5c985bb72bc6190be916618279abeb7ce", "patch": "@@ -3249,7 +3249,14 @@ ia64_expand_prologue (void)\n \t\t\t\t   GEN_INT (current_frame_info.n_local_regs),\n \t\t\t\t   GEN_INT (current_frame_info.n_output_regs),\n \t\t\t\t   GEN_INT (current_frame_info.n_rotate_regs)));\n-      RTX_FRAME_RELATED_P (insn) = (current_frame_info.r[reg_save_ar_pfs] != 0);\n+      if (current_frame_info.r[reg_save_ar_pfs])\n+\t{\n+\t  RTX_FRAME_RELATED_P (insn) = 1;\n+\t  add_reg_note (insn, REG_CFA_REGISTER,\n+\t\t\tgen_rtx_SET (VOIDmode,\n+\t\t\t\t     ar_pfs_save_reg,\n+\t\t\t\t     gen_rtx_REG (DImode, AR_PFS_REGNUM)));\n+\t}\n     }\n \n   /* Set up frame pointer, stack pointer, and spill iterators.  */"}]}