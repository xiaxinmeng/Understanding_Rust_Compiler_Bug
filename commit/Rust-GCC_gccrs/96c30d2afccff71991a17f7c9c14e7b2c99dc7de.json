{"sha": "96c30d2afccff71991a17f7c9c14e7b2c99dc7de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTZjMzBkMmFmY2NmZjcxOTkxYTE3ZjdjOWMxNGU3YjJjOTlkYzdkZQ==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernd.schmidt@analog.com", "date": "2006-03-13T16:30:40Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2006-03-13T16:30:40Z"}, "message": "bfin.md (call_value_symbol, [...]): Disallow if TARGET_ID_SHARED_LIBRARY, not if flag_pic.\n\n\t* config/bfin/bfin.md (call_value_symbol, sibcall_value_symbol,\n\tcall_symbol, sibcall_symbol): Disallow if TARGET_ID_SHARED_LIBRARY,\n\tnot if flag_pic.\n\tLose 'G' modifier for call operand.\n\t* config/bfin/bfin.c (print_operand) <case SYMBOL_REF>: Don't\n\trecognize 'G' modifier.\n\nFrom-SVN: r112010", "tree": {"sha": "fc0ba8668f64f24ad9cc4ad89002c6a2dd300347", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fc0ba8668f64f24ad9cc4ad89002c6a2dd300347"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/96c30d2afccff71991a17f7c9c14e7b2c99dc7de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96c30d2afccff71991a17f7c9c14e7b2c99dc7de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96c30d2afccff71991a17f7c9c14e7b2c99dc7de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96c30d2afccff71991a17f7c9c14e7b2c99dc7de/comments", "author": null, "committer": null, "parents": [{"sha": "4af990cdc1ffee82c74eae84083dcfcf0ee05210", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4af990cdc1ffee82c74eae84083dcfcf0ee05210", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4af990cdc1ffee82c74eae84083dcfcf0ee05210"}], "stats": {"total": 25, "additions": 15, "deletions": 10}, "files": [{"sha": "61cf790d0d69fa0231ac5e85abf5d68a0d693d0a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96c30d2afccff71991a17f7c9c14e7b2c99dc7de/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96c30d2afccff71991a17f7c9c14e7b2c99dc7de/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=96c30d2afccff71991a17f7c9c14e7b2c99dc7de", "patch": "@@ -7,6 +7,13 @@\n \t* config/bfin/crti.S: Use it instead of __PIC__.\n \t* config/bfin/crtn.S: Likewise.\n \n+\t* config/bfin/bfin.md (call_value_symbol, sibcall_value_symbol,\n+\tcall_symbol, sibcall_symbol): Disallow if TARGET_ID_SHARED_LIBRARY,\n+\tnot if flag_pic.\n+\tLose 'G' modifier for call operand.\n+\t* config/bfin/bfin.c (print_operand) <case SYMBOL_REF>: Don't\n+\trecognize 'G' modifier.\n+\n 2006-03-13  Eric Botcazou  <ebotcazou@adacore.com>\n \n \tPR middle-end/18859"}, {"sha": "9e8bee6bc0c717a764e58b1dae66bf27c823c547", "filename": "gcc/config/bfin/bfin.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96c30d2afccff71991a17f7c9c14e7b2c99dc7de/gcc%2Fconfig%2Fbfin%2Fbfin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96c30d2afccff71991a17f7c9c14e7b2c99dc7de/gcc%2Fconfig%2Fbfin%2Fbfin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fbfin.c?ref=96c30d2afccff71991a17f7c9c14e7b2c99dc7de", "patch": "@@ -1264,8 +1264,6 @@ print_operand (FILE *file, rtx x, char code)\n \n \tcase SYMBOL_REF:\n \t  output_addr_const (file, x);\n-\t  if (code == 'G' && flag_pic)\n-\t    fprintf (file, \"@GOT\");\n \t  break;\n \n \tcase CONST_DOUBLE:"}, {"sha": "2b125b5fc638a1cffe56aa747c927a4de7a3b5be", "filename": "gcc/config/bfin/bfin.md", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96c30d2afccff71991a17f7c9c14e7b2c99dc7de/gcc%2Fconfig%2Fbfin%2Fbfin.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96c30d2afccff71991a17f7c9c14e7b2c99dc7de/gcc%2Fconfig%2Fbfin%2Fbfin.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fbfin.md?ref=96c30d2afccff71991a17f7c9c14e7b2c99dc7de", "patch": "@@ -1362,10 +1362,10 @@\n \t (match_operand 1 \"general_operand\" \"g\"))\n    (use (match_operand 2 \"\" \"\"))]\n   \"! SIBLING_CALL_P (insn)\n-   && !flag_pic\n+   && !TARGET_ID_SHARED_LIBRARY\n    && GET_CODE (operands[0]) == SYMBOL_REF\n    && !bfin_longcall_p (operands[0], INTVAL (operands[2]))\"\n-  \"call %G0;\"\n+  \"call %0;\"\n   [(set_attr \"type\" \"call\")\n    (set_attr \"length\" \"4\")])\n \n@@ -1375,10 +1375,10 @@\n    (use (match_operand 2 \"\" \"\"))\n    (return)]\n   \"SIBLING_CALL_P (insn)\n-   && !flag_pic\n+   && !TARGET_ID_SHARED_LIBRARY\n    && GET_CODE (operands[0]) == SYMBOL_REF\n    && !bfin_longcall_p (operands[0], INTVAL (operands[2]))\"\n-  \"jump.l %G0;\"\n+  \"jump.l %0;\"\n   [(set_attr \"type\" \"br\")\n    (set_attr \"length\" \"4\")])\n \n@@ -1388,10 +1388,10 @@\n \t      (match_operand 2 \"general_operand\" \"g\")))\n    (use (match_operand 3 \"\" \"\"))]\n   \"! SIBLING_CALL_P (insn)\n-   && !flag_pic\n+   && !TARGET_ID_SHARED_LIBRARY\n    && GET_CODE (operands[1]) == SYMBOL_REF\n    && !bfin_longcall_p (operands[1], INTVAL (operands[3]))\"\n-  \"call %G1;\"\n+  \"call %1;\"\n   [(set_attr \"type\" \"call\")\n    (set_attr \"length\" \"4\")])\n \n@@ -1402,10 +1402,10 @@\n    (use (match_operand 3 \"\" \"\"))\n    (return)]\n   \"SIBLING_CALL_P (insn)\n-   && !flag_pic\n+   && !TARGET_ID_SHARED_LIBRARY\n    && GET_CODE (operands[1]) == SYMBOL_REF\n    && !bfin_longcall_p (operands[1], INTVAL (operands[3]))\"\n-  \"jump.l %G1;\"\n+  \"jump.l %1;\"\n   [(set_attr \"type\" \"br\")\n    (set_attr \"length\" \"4\")])\n "}]}