{"sha": "f24ce7c1c37f7f7990d78e3c0f9467f76d4cfee6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjI0Y2U3YzFjMzdmN2Y3OTkwZDc4ZTNjMGY5NDY3Zjc2ZDRjZmVlNg==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2003-06-03T18:06:09Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2003-06-03T18:06:09Z"}, "message": "fstream.tcc (pbackfail): Make a rarely taken 'if' branch less obscure.\n\n2003-06-03  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* include/bits/fstream.tcc (pbackfail): Make a rarely taken\n\t'if' branch less obscure.\n\nFrom-SVN: r67394", "tree": {"sha": "ded478775672473d3896da6e6cd3718f29855632", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ded478775672473d3896da6e6cd3718f29855632"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f24ce7c1c37f7f7990d78e3c0f9467f76d4cfee6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f24ce7c1c37f7f7990d78e3c0f9467f76d4cfee6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f24ce7c1c37f7f7990d78e3c0f9467f76d4cfee6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f24ce7c1c37f7f7990d78e3c0f9467f76d4cfee6/comments", "author": null, "committer": null, "parents": [{"sha": "6d07784ac292116b737346dffde1e2ee5f230d6b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d07784ac292116b737346dffde1e2ee5f230d6b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d07784ac292116b737346dffde1e2ee5f230d6b"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "b64a1547aee66aabb2b944a7f69a6db04bd5b62d", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f24ce7c1c37f7f7990d78e3c0f9467f76d4cfee6/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f24ce7c1c37f7f7990d78e3c0f9467f76d4cfee6/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=f24ce7c1c37f7f7990d78e3c0f9467f76d4cfee6", "patch": "@@ -1,3 +1,8 @@\n+2003-06-03  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* include/bits/fstream.tcc (pbackfail): Make a rarely taken\n+\t'if' branch less obscure.\n+\n 2003-06-02  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \tPR libstdc++/9815"}, {"sha": "e4119bfcff26be3f9ec43f6068851df4e618ec02", "filename": "libstdc++-v3/include/bits/fstream.tcc", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f24ce7c1c37f7f7990d78e3c0f9467f76d4cfee6/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffstream.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f24ce7c1c37f7f7990d78e3c0f9467f76d4cfee6/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffstream.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffstream.tcc?ref=f24ce7c1c37f7f7990d78e3c0f9467f76d4cfee6", "patch": "@@ -284,9 +284,13 @@ namespace std\n \t  // But the seek may fail (f.i., at the beginning of\n \t  // a file, see libstdc++/9439) and in that case\n \t  // we return traits_type::eof().\n-\t  else if (this->seekoff(-1, ios_base::cur) < 0\n-\t\t   || traits_type::eq_int_type(__tmp = this->underflow(),\n-\t\t\t\t\t       traits_type::eof()))\n+\t  else if (this->seekoff(-1, ios_base::cur) >= 0)\n+\t    {\n+\t      __tmp = this->underflow();\n+\t      if (traits_type::eq_int_type(__tmp, __ret))\n+\t\treturn __ret;\n+\t    }\n+\t  else\n \t    return __ret;\n \n \t  // Try to put back __i into input sequence in one of three ways."}]}