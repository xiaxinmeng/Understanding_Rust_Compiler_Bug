{"sha": "005a5cb08b854e411ef9941d4fcb9de0bbce755a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDA1YTVjYjA4Yjg1NGU0MTFlZjk5NDFkNGZjYjlkZTBiYmNlNzU1YQ==", "commit": {"author": {"name": "Mike Yang", "email": "yang@research.att.com", "date": "2001-03-27T04:52:21Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2001-03-27T04:52:21Z"}, "message": "dump.c (dump_access): New function.\n\n\t* dump.c (dump_access): New function.\n\t(cp_dump_tree): Use it.  Dump basetype information for class\n\ttypes.\n\nCo-Authored-By: Mark Mitchell <mark@codesourcery.com>\n\nFrom-SVN: r40866", "tree": {"sha": "d401692554588cd30579539bc212105f7f93fa95", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d401692554588cd30579539bc212105f7f93fa95"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/005a5cb08b854e411ef9941d4fcb9de0bbce755a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/005a5cb08b854e411ef9941d4fcb9de0bbce755a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/005a5cb08b854e411ef9941d4fcb9de0bbce755a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/005a5cb08b854e411ef9941d4fcb9de0bbce755a/comments", "author": null, "committer": null, "parents": [{"sha": "5fa9abc3e9676702f2c1699ee4283773b1bf8de1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5fa9abc3e9676702f2c1699ee4283773b1bf8de1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5fa9abc3e9676702f2c1699ee4283773b1bf8de1"}], "stats": {"total": 53, "additions": 50, "deletions": 3}, "files": [{"sha": "fc01aedfdbb619e5a7b174020a653fe0e625f68a", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/005a5cb08b854e411ef9941d4fcb9de0bbce755a/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/005a5cb08b854e411ef9941d4fcb9de0bbce755a/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=005a5cb08b854e411ef9941d4fcb9de0bbce755a", "patch": "@@ -1,3 +1,10 @@\n+2001-03-26  Mike Yang <yang@research.att.com>\n+\t    Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* dump.c (dump_access): New function.\n+\t(cp_dump_tree): Use it.  Dump basetype information for class\n+\ttypes.\n+\n 2001-03-26  Mark Mitchell  <mark@codesourcery.com>\n \n \t* Makefile.in (optimize.o): Depend on params.h."}, {"sha": "a0982a616b26d88989405cb687400d8191db7558", "filename": "gcc/cp/dump.c", "status": "modified", "additions": 43, "deletions": 3, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/005a5cb08b854e411ef9941d4fcb9de0bbce755a/gcc%2Fcp%2Fdump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/005a5cb08b854e411ef9941d4fcb9de0bbce755a/gcc%2Fcp%2Fdump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdump.c?ref=005a5cb08b854e411ef9941d4fcb9de0bbce755a", "patch": "@@ -1,5 +1,5 @@\n /* Tree-dumping functionality for intermediate representation.\n-   Copyright (C) 1999, 2000 Free Software Foundation, Inc.\n+   Copyright (C) 1999, 2000, 2001 Free Software Foundation, Inc.\n    Written by Mark Mitchell <mark@codesourcery.com>\n \n This file is part of GNU CC.\n@@ -25,6 +25,25 @@ Boston, MA 02111-1307, USA.  */\n #include \"cp-tree.h\"\n #include \"c-dump.h\"\n \n+static void dump_access\n+  PARAMS ((dump_info_p, tree));\n+\n+/* Dump a representation of the accessibility information associated\n+   with T.  */\n+\n+static void\n+dump_access (di, t)\n+     dump_info_p di;\n+     tree t;\n+{\n+  if (TREE_PROTECTED(t))\n+    dump_string (di, \"protected\");\n+  else if (TREE_PRIVATE(t))\n+    dump_string (di, \"private\");\n+  else\n+    dump_string (di, \"public\");\n+}\n+\n int\n cp_dump_tree (di, t)\n      dump_info_p di;\n@@ -82,13 +101,33 @@ cp_dump_tree (di, t)\n \t}\n \n       dump_child (\"vfld\", TYPE_VFIELD (t));\n+\t\n+      {\n+\tint i;\n+\n+\tfor (i = 0; i < CLASSTYPE_N_BASECLASSES (t); ++i)\n+\t  {\n+\t    tree base_binfo = BINFO_BASETYPE (TYPE_BINFO (t), i);\n+\t    dump_child (\"base\", BINFO_TYPE (base_binfo));\n+\t    if (TREE_VIA_VIRTUAL (base_binfo)) \n+\t      dump_string (di, \"virtual\");\n+\t    dump_access (di, base_binfo);\n+\t  }\n+      }\n+      break;\n+\n+    case FIELD_DECL:\n+      dump_access (di, t);\n       break;\n \n     case FUNCTION_DECL:\n       if (!DECL_THUNK_P (t))\n \t{\n-\t  if (DECL_FUNCTION_MEMBER_P (t))\n-\t    dump_string (di, \"member\");\n+\t  if (DECL_FUNCTION_MEMBER_P (t)) \n+\t    {\n+\t      dump_string (di, \"member\");\n+\t      dump_access (di, t);\n+\t    }\n \t  if (DECL_CONSTRUCTOR_P (t))\n \t    dump_string (di, \"constructor\");\n \t  if (DECL_DESTRUCTOR_P (t))\n@@ -132,6 +171,7 @@ cp_dump_tree (di, t)\n       dump_child (\"rslt\", DECL_TEMPLATE_RESULT (t));\n       dump_child (\"inst\", DECL_TEMPLATE_INSTANTIATIONS (t));\n       dump_child (\"spcs\", DECL_TEMPLATE_SPECIALIZATIONS (t));\n+      dump_child (\"prms\", DECL_TEMPLATE_PARMS (t));\n       break;\n \n     case OVERLOAD:"}]}