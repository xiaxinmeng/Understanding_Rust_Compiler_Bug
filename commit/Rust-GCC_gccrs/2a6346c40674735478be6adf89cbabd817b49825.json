{"sha": "2a6346c40674735478be6adf89cbabd817b49825", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmE2MzQ2YzQwNjc0NzM1NDc4YmU2YWRmODljYmFiZDgxN2I0OTgyNQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2012-11-15T00:03:37Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2012-11-15T00:03:37Z"}, "message": "Add support for multilib run-time libraries\n\n\tPR other/55291\n\t* configure.ac (--enable-version-specific-runtime-libs): New option.\n\t(AC_CANONICAL_SYSTEM): New.\n\t(AM_ENABLE_MULTILIB): Moved right after AM_INIT_AUTOMAKE.\n\t(toolexecdir): Support multilib.\n\t(toolexeclibdir): Likewise.\n\t(multilib_arg): New.\n\t* Makefile.in: Regenerated.\n\t* aclocal.m4: Likewise.\n\t* configure: Likewise.\n\t* asan/Makefile.in: Likewise.\n\t* interception/Makefile.in: Likewise.\n\t* sanitizer_common/Makefile.in: Likewise.\n\nFrom-SVN: r193516", "tree": {"sha": "a8a3fa7456e785a41340328a74e22f3b0e52749c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a8a3fa7456e785a41340328a74e22f3b0e52749c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2a6346c40674735478be6adf89cbabd817b49825", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a6346c40674735478be6adf89cbabd817b49825", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a6346c40674735478be6adf89cbabd817b49825", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a6346c40674735478be6adf89cbabd817b49825/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "bc6a33956f5acf154d10dca6a48883a4398a25fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc6a33956f5acf154d10dca6a48883a4398a25fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bc6a33956f5acf154d10dca6a48883a4398a25fc"}], "stats": {"total": 513, "additions": 395, "deletions": 118}, "files": [{"sha": "62e884eb1673884446ee4f93111bf4ae3fea8cb1", "filename": "libsanitizer/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2FChangeLog?ref=2a6346c40674735478be6adf89cbabd817b49825", "patch": "@@ -1,3 +1,19 @@\n+2012-11-14  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR other/55291\n+\t* configure.ac (--enable-version-specific-runtime-libs): New option.\n+\t(AC_CANONICAL_SYSTEM): New.\n+\t(AM_ENABLE_MULTILIB): Moved right after AM_INIT_AUTOMAKE.\n+\t(toolexecdir): Support multilib.\n+\t(toolexeclibdir): Likewise.\n+\t(multilib_arg): New.\n+\t* Makefile.in: Regenerated.\n+\t* aclocal.m4: Likewise.\n+\t* configure: Likewise.\n+\t* asan/Makefile.in: Likewise.\n+\t* interception/Makefile.in: Likewise.\n+\t* sanitizer_common/Makefile.in: Likewise.\n+\n 2012-11-14  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR other/55292"}, {"sha": "773661dbc5c0ce2dbd33ec535b1494ba8b66588e", "filename": "libsanitizer/Makefile.in", "status": "modified", "additions": 52, "deletions": 18, "changes": 70, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2FMakefile.in?ref=2a6346c40674735478be6adf89cbabd817b49825", "patch": "@@ -33,6 +33,7 @@ PRE_UNINSTALL = :\n POST_UNINSTALL = :\n build_triplet = @build@\n host_triplet = @host@\n+target_triplet = @target@\n subdir = .\n DIST_COMMON = $(am__configure_deps) $(srcdir)/../config.guess \\\n \t$(srcdir)/../config.sub $(srcdir)/../install-sh \\\n@@ -42,6 +43,7 @@ DIST_COMMON = $(am__configure_deps) $(srcdir)/../config.guess \\\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n am__aclocal_m4_deps = $(top_srcdir)/../config/depstand.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n+\t$(top_srcdir)/../config/multi.m4 \\\n \t$(top_srcdir)/../config/override.m4 \\\n \t$(top_srcdir)/../ltoptions.m4 $(top_srcdir)/../ltsugar.m4 \\\n \t$(top_srcdir)/../ltversion.m4 $(top_srcdir)/../lt~obsolete.m4 \\\n@@ -56,6 +58,12 @@ CONFIG_CLEAN_FILES =\n CONFIG_CLEAN_VPATH_FILES =\n SOURCES =\n DIST_SOURCES =\n+MULTISRCTOP = \n+MULTIBUILDTOP = \n+MULTIDIRS = \n+MULTISUBDIR = \n+MULTIDO = true\n+MULTICLEAN = true\n RECURSIVE_TARGETS = all-recursive check-recursive dvi-recursive \\\n \thtml-recursive info-recursive install-data-recursive \\\n \tinstall-dvi-recursive install-exec-recursive \\\n@@ -214,6 +222,7 @@ localedir = @localedir@\n localstatedir = @localstatedir@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n+multi_basedir = @multi_basedir@\n oldincludedir = @oldincludedir@\n pdfdir = @pdfdir@\n prefix = @prefix@\n@@ -223,7 +232,11 @@ sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n srcdir = @srcdir@\n sysconfdir = @sysconfdir@\n+target = @target@\n target_alias = @target_alias@\n+target_cpu = @target_cpu@\n+target_os = @target_os@\n+target_vendor = @target_vendor@\n toolexecdir = @toolexecdir@\n toolexeclibdir = @toolexeclibdir@\n top_build_prefix = @top_build_prefix@\n@@ -320,6 +333,23 @@ clean-libtool:\n distclean-libtool:\n \t-rm -f libtool config.lt\n \n+# GNU Make needs to see an explicit $(MAKE) variable in the command it\n+# runs to enable its job server during parallel builds.  Hence the\n+# comments below.\n+all-multi:\n+\t$(MULTIDO) $(AM_MAKEFLAGS) DO=all multi-do # $(MAKE)\n+install-multi:\n+\t$(MULTIDO) $(AM_MAKEFLAGS) DO=install multi-do # $(MAKE)\n+\n+mostlyclean-multi:\n+\t$(MULTICLEAN) $(AM_MAKEFLAGS) DO=mostlyclean multi-clean # $(MAKE)\n+clean-multi:\n+\t$(MULTICLEAN) $(AM_MAKEFLAGS) DO=clean multi-clean # $(MAKE)\n+distclean-multi:\n+\t$(MULTICLEAN) $(AM_MAKEFLAGS) DO=distclean multi-clean # $(MAKE)\n+maintainer-clean-multi:\n+\t$(MULTICLEAN) $(AM_MAKEFLAGS) DO=maintainer-clean multi-clean # $(MAKE)\n+\n # This directory's subdirectories are mostly independent; you can cd\n # into them and run `make' without going through this Makefile.\n # To change the values of `make' variables: instead of editing Makefiles,\n@@ -632,7 +662,7 @@ distcleancheck: distclean\n \t       exit 1; } >&2\n check-am: all-am\n check: check-recursive\n-all-am: Makefile\n+all-am: Makefile all-multi\n installdirs: installdirs-recursive\n installdirs-am:\n install: install-recursive\n@@ -660,11 +690,11 @@ distclean-generic:\n maintainer-clean-generic:\n \t@echo \"This command is intended for maintainers to use\"\n \t@echo \"it deletes files that may require special tools to rebuild.\"\n-clean: clean-recursive\n+clean: clean-multi clean-recursive\n \n clean-am: clean-generic clean-libtool mostlyclean-am\n \n-distclean: distclean-recursive\n+distclean: distclean-multi distclean-recursive\n \t-rm -f $(am__CONFIG_DISTCLEAN_FILES)\n \t-rm -f Makefile\n distclean-am: clean-am distclean-generic distclean-libtool \\\n@@ -688,7 +718,7 @@ install-dvi: install-dvi-recursive\n \n install-dvi-am:\n \n-install-exec-am:\n+install-exec-am: install-multi\n \n install-html: install-html-recursive\n \n@@ -710,13 +740,13 @@ install-ps-am:\n \n installcheck-am:\n \n-maintainer-clean: maintainer-clean-recursive\n+maintainer-clean: maintainer-clean-multi maintainer-clean-recursive\n \t-rm -f $(am__CONFIG_DISTCLEAN_FILES)\n \t-rm -rf $(top_srcdir)/autom4te.cache\n \t-rm -f Makefile\n maintainer-clean-am: distclean-am maintainer-clean-generic\n \n-mostlyclean: mostlyclean-recursive\n+mostlyclean: mostlyclean-multi mostlyclean-recursive\n \n mostlyclean-am: mostlyclean-generic mostlyclean-libtool\n \n@@ -730,24 +760,28 @@ ps-am:\n \n uninstall-am:\n \n-.MAKE: $(RECURSIVE_CLEAN_TARGETS) $(RECURSIVE_TARGETS) ctags-recursive \\\n-\tinstall-am install-strip tags-recursive\n+.MAKE: $(RECURSIVE_CLEAN_TARGETS) $(RECURSIVE_TARGETS) all-multi \\\n+\tclean-multi ctags-recursive distclean-multi install-am \\\n+\tinstall-multi install-strip maintainer-clean-multi \\\n+\tmostlyclean-multi tags-recursive\n \n .PHONY: $(RECURSIVE_CLEAN_TARGETS) $(RECURSIVE_TARGETS) CTAGS GTAGS \\\n-\tall all-am am--refresh check check-am clean clean-generic \\\n-\tclean-libtool ctags ctags-recursive dist dist-all dist-bzip2 \\\n-\tdist-gzip dist-lzma dist-shar dist-tarZ dist-xz dist-zip \\\n-\tdistcheck distclean distclean-generic distclean-libtool \\\n+\tall all-am all-multi am--refresh check check-am clean \\\n+\tclean-generic clean-libtool clean-multi ctags ctags-recursive \\\n+\tdist dist-all dist-bzip2 dist-gzip dist-lzma dist-shar \\\n+\tdist-tarZ dist-xz dist-zip distcheck distclean \\\n+\tdistclean-generic distclean-libtool distclean-multi \\\n \tdistclean-tags distcleancheck distdir distuninstallcheck dvi \\\n \tdvi-am html html-am info info-am install install-am \\\n \tinstall-data install-data-am install-dvi install-dvi-am \\\n \tinstall-exec install-exec-am install-html install-html-am \\\n-\tinstall-info install-info-am install-man install-pdf \\\n-\tinstall-pdf-am install-ps install-ps-am install-strip \\\n-\tinstallcheck installcheck-am installdirs installdirs-am \\\n-\tmaintainer-clean maintainer-clean-generic mostlyclean \\\n-\tmostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \\\n-\ttags tags-recursive uninstall uninstall-am\n+\tinstall-info install-info-am install-man install-multi \\\n+\tinstall-pdf install-pdf-am install-ps install-ps-am \\\n+\tinstall-strip installcheck installcheck-am installdirs \\\n+\tinstalldirs-am maintainer-clean maintainer-clean-generic \\\n+\tmaintainer-clean-multi mostlyclean mostlyclean-generic \\\n+\tmostlyclean-libtool mostlyclean-multi pdf pdf-am ps ps-am tags \\\n+\ttags-recursive uninstall uninstall-am\n \n \n # Tell versions [3.59,3.63) of GNU make to not export all variables."}, {"sha": "bb585b1cd7f7ba747ffa4908461526d8a6130966", "filename": "libsanitizer/aclocal.m4", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Faclocal.m4?ref=2a6346c40674735478be6adf89cbabd817b49825", "patch": "@@ -952,6 +952,7 @@ AC_SUBST([am__untar])\n \n m4_include([../config/depstand.m4])\n m4_include([../config/lead-dot.m4])\n+m4_include([../config/multi.m4])\n m4_include([../config/override.m4])\n m4_include([../ltoptions.m4])\n m4_include([../ltsugar.m4])"}, {"sha": "e4b2b5cb39dc277e60aa7f86b4b3b59cd5780ea3", "filename": "libsanitizer/asan/Makefile.in", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2Fasan%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2Fasan%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fasan%2FMakefile.in?ref=2a6346c40674735478be6adf89cbabd817b49825", "patch": "@@ -34,11 +34,13 @@ PRE_UNINSTALL = :\n POST_UNINSTALL = :\n build_triplet = @build@\n host_triplet = @host@\n+target_triplet = @target@\n subdir = asan\n DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n am__aclocal_m4_deps = $(top_srcdir)/../config/depstand.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n+\t$(top_srcdir)/../config/multi.m4 \\\n \t$(top_srcdir)/../config/override.m4 \\\n \t$(top_srcdir)/../ltoptions.m4 $(top_srcdir)/../ltsugar.m4 \\\n \t$(top_srcdir)/../ltversion.m4 $(top_srcdir)/../lt~obsolete.m4 \\\n@@ -212,6 +214,7 @@ localedir = @localedir@\n localstatedir = @localstatedir@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n+multi_basedir = @multi_basedir@\n oldincludedir = @oldincludedir@\n pdfdir = @pdfdir@\n prefix = @prefix@\n@@ -221,7 +224,11 @@ sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n srcdir = @srcdir@\n sysconfdir = @sysconfdir@\n+target = @target@\n target_alias = @target_alias@\n+target_cpu = @target_cpu@\n+target_os = @target_os@\n+target_vendor = @target_vendor@\n toolexecdir = @toolexecdir@\n toolexeclibdir = @toolexeclibdir@\n top_build_prefix = @top_build_prefix@"}, {"sha": "f42d2ac952f6742139dc48a43a53d426a0b734dd", "filename": "libsanitizer/configure", "status": "modified", "additions": 251, "deletions": 92, "changes": 343, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fconfigure?ref=2a6346c40674735478be6adf89cbabd817b49825", "patch": "@@ -604,8 +604,6 @@ ac_subst_vars='am__EXEEXT_FALSE\n am__EXEEXT_TRUE\n LTLIBOBJS\n LIBOBJS\n-toolexeclibdir\n-toolexecdir\n enable_static\n enable_shared\n CXXCPP\n@@ -627,14 +625,6 @@ FGREP\n EGREP\n GREP\n SED\n-host_os\n-host_vendor\n-host_cpu\n-host\n-build_os\n-build_vendor\n-build_cpu\n-build\n LIBTOOL\n am__fastdepCCAS_FALSE\n am__fastdepCCAS_TRUE\n@@ -663,6 +653,9 @@ CPPFLAGS\n LDFLAGS\n CFLAGS\n CC\n+toolexeclibdir\n+toolexecdir\n+multi_basedir\n am__untar\n am__tar\n AMTAR\n@@ -686,6 +679,18 @@ am__isrc\n INSTALL_DATA\n INSTALL_SCRIPT\n INSTALL_PROGRAM\n+target_os\n+target_vendor\n+target_cpu\n+target\n+host_os\n+host_vendor\n+host_cpu\n+host\n+build_os\n+build_vendor\n+build_cpu\n+build\n target_alias\n host_alias\n build_alias\n@@ -727,6 +732,8 @@ SHELL'\n ac_subst_files=''\n ac_user_opts='\n enable_option_checking\n+enable_version_specific_runtime_libs\n+enable_multilib\n enable_dependency_tracking\n enable_shared\n enable_static\n@@ -1356,6 +1363,7 @@ Program names:\n System types:\n   --build=BUILD     configure for building on BUILD [guessed]\n   --host=HOST       cross-compile to build programs to run on HOST [BUILD]\n+  --target=TARGET   configure for building compilers for TARGET [HOST]\n _ACEOF\n fi\n \n@@ -1369,6 +1377,8 @@ Optional Features:\n   --disable-option-checking  ignore unrecognized --enable/--with options\n   --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)\n   --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]\n+  --enable-version-specific-runtime-libs    Specify that runtime libraries should be installed in a compiler-specific directory\n+  --enable-multilib       build many library versions (default)\n   --disable-dependency-tracking  speeds up one-time build\n   --enable-dependency-tracking   do not reject slow dependency extractors\n   --enable-shared[=PKGS]  build shared libraries [default=yes]\n@@ -2215,8 +2225,25 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n-am__api_version='1.11'\n \n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for --enable-version-specific-runtime-libs\" >&5\n+$as_echo_n \"checking for --enable-version-specific-runtime-libs... \" >&6; }\n+# Check whether --enable-version-specific-runtime-libs was given.\n+if test \"${enable_version_specific_runtime_libs+set}\" = set; then :\n+  enableval=$enable_version_specific_runtime_libs; case \"$enableval\" in\n+ yes) version_specific_libs=yes ;;\n+ no)  version_specific_libs=no ;;\n+ *)   as_fn_error \"Unknown argument to enable/disable version-specific libs\" \"$LINENO\" 5;;\n+ esac\n+else\n+  version_specific_libs=no\n+fi\n+\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $version_specific_libs\" >&5\n+$as_echo \"$version_specific_libs\" >&6; }\n+\n+# Do not delete or change the following two lines.  For why, see\n+# http://gcc.gnu.org/ml/libstdc++/2003-07/msg00451.html\n ac_aux_dir=\n for ac_dir in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"; do\n   for ac_t in install-sh install.sh shtool; do\n@@ -2240,6 +2267,122 @@ ac_config_sub=\"$SHELL $ac_aux_dir/config.sub\"  # Please don't use this var.\n ac_configure=\"$SHELL $ac_aux_dir/configure\"  # Please don't use this var.\n \n \n+# Make sure we can run config.sub.\n+$SHELL \"$ac_aux_dir/config.sub\" sun4 >/dev/null 2>&1 ||\n+  as_fn_error \"cannot run $SHELL $ac_aux_dir/config.sub\" \"$LINENO\" 5\n+\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking build system type\" >&5\n+$as_echo_n \"checking build system type... \" >&6; }\n+if test \"${ac_cv_build+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  ac_build_alias=$build_alias\n+test \"x$ac_build_alias\" = x &&\n+  ac_build_alias=`$SHELL \"$ac_aux_dir/config.guess\"`\n+test \"x$ac_build_alias\" = x &&\n+  as_fn_error \"cannot guess build type; you must specify one\" \"$LINENO\" 5\n+ac_cv_build=`$SHELL \"$ac_aux_dir/config.sub\" $ac_build_alias` ||\n+  as_fn_error \"$SHELL $ac_aux_dir/config.sub $ac_build_alias failed\" \"$LINENO\" 5\n+\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_build\" >&5\n+$as_echo \"$ac_cv_build\" >&6; }\n+case $ac_cv_build in\n+*-*-*) ;;\n+*) as_fn_error \"invalid value of canonical build\" \"$LINENO\" 5;;\n+esac\n+build=$ac_cv_build\n+ac_save_IFS=$IFS; IFS='-'\n+set x $ac_cv_build\n+shift\n+build_cpu=$1\n+build_vendor=$2\n+shift; shift\n+# Remember, the first character of IFS is used to create $*,\n+# except with old shells:\n+build_os=$*\n+IFS=$ac_save_IFS\n+case $build_os in *\\ *) build_os=`echo \"$build_os\" | sed 's/ /-/g'`;; esac\n+\n+\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking host system type\" >&5\n+$as_echo_n \"checking host system type... \" >&6; }\n+if test \"${ac_cv_host+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test \"x$host_alias\" = x; then\n+  ac_cv_host=$ac_cv_build\n+else\n+  ac_cv_host=`$SHELL \"$ac_aux_dir/config.sub\" $host_alias` ||\n+    as_fn_error \"$SHELL $ac_aux_dir/config.sub $host_alias failed\" \"$LINENO\" 5\n+fi\n+\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_host\" >&5\n+$as_echo \"$ac_cv_host\" >&6; }\n+case $ac_cv_host in\n+*-*-*) ;;\n+*) as_fn_error \"invalid value of canonical host\" \"$LINENO\" 5;;\n+esac\n+host=$ac_cv_host\n+ac_save_IFS=$IFS; IFS='-'\n+set x $ac_cv_host\n+shift\n+host_cpu=$1\n+host_vendor=$2\n+shift; shift\n+# Remember, the first character of IFS is used to create $*,\n+# except with old shells:\n+host_os=$*\n+IFS=$ac_save_IFS\n+case $host_os in *\\ *) host_os=`echo \"$host_os\" | sed 's/ /-/g'`;; esac\n+\n+\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking target system type\" >&5\n+$as_echo_n \"checking target system type... \" >&6; }\n+if test \"${ac_cv_target+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test \"x$target_alias\" = x; then\n+  ac_cv_target=$ac_cv_host\n+else\n+  ac_cv_target=`$SHELL \"$ac_aux_dir/config.sub\" $target_alias` ||\n+    as_fn_error \"$SHELL $ac_aux_dir/config.sub $target_alias failed\" \"$LINENO\" 5\n+fi\n+\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_target\" >&5\n+$as_echo \"$ac_cv_target\" >&6; }\n+case $ac_cv_target in\n+*-*-*) ;;\n+*) as_fn_error \"invalid value of canonical target\" \"$LINENO\" 5;;\n+esac\n+target=$ac_cv_target\n+ac_save_IFS=$IFS; IFS='-'\n+set x $ac_cv_target\n+shift\n+target_cpu=$1\n+target_vendor=$2\n+shift; shift\n+# Remember, the first character of IFS is used to create $*,\n+# except with old shells:\n+target_os=$*\n+IFS=$ac_save_IFS\n+case $target_os in *\\ *) target_os=`echo \"$target_os\" | sed 's/ /-/g'`;; esac\n+\n+\n+# The aliases save the names the user supplied, while $host etc.\n+# will get canonicalized.\n+test -n \"$target_alias\" &&\n+  test \"$program_prefix$program_suffix$program_transform_name\" = \\\n+    NONENONEs,x,x, &&\n+  program_prefix=${target_alias}-\n+\n+target_alias=${target_alias-$host_alias}\n+\n+\n+am__api_version='1.11'\n+\n # Find a good install program.  We prefer a C program (faster),\n # so one script is as good as another.  But avoid the broken or\n # incompatible versions:\n@@ -2716,6 +2859,73 @@ am__tar='${AMTAR} chof - \"$$tardir\"'; am__untar='${AMTAR} xf -'\n \n \n \n+# Default to --enable-multilib\n+# Check whether --enable-multilib was given.\n+if test \"${enable_multilib+set}\" = set; then :\n+  enableval=$enable_multilib; case \"$enableval\" in\n+  yes) multilib=yes ;;\n+  no)  multilib=no ;;\n+  *)   as_fn_error \"bad value $enableval for multilib option\" \"$LINENO\" 5 ;;\n+ esac\n+else\n+  multilib=yes\n+fi\n+\n+\n+# We may get other options which we leave undocumented:\n+# --with-target-subdir, --with-multisrctop, --with-multisubdir\n+# See config-ml.in if you want the gory details.\n+\n+if test \"$srcdir\" = \".\"; then\n+  if test \"$with_target_subdir\" != \".\"; then\n+    multi_basedir=\"$srcdir/$with_multisrctop../..\"\n+  else\n+    multi_basedir=\"$srcdir/$with_multisrctop..\"\n+  fi\n+else\n+  multi_basedir=\"$srcdir/..\"\n+fi\n+\n+\n+# Even if the default multilib is not a cross compilation,\n+# it may be that some of the other multilibs are.\n+if test $cross_compiling = no && test $multilib = yes \\\n+   && test \"x${with_multisubdir}\" != x ; then\n+   cross_compiling=maybe\n+fi\n+\n+ac_config_commands=\"$ac_config_commands default-1\"\n+\n+\n+# Calculate toolexeclibdir\n+# Also toolexecdir, though it's only used in toolexeclibdir\n+case ${version_specific_libs} in\n+  yes)\n+    # Need the gcc compiler version to know where to install libraries\n+    # and header files if --enable-version-specific-runtime-libs option\n+    # is selected.\n+    toolexecdir='$(libdir)/gcc/$(target_alias)'\n+    toolexeclibdir='$(toolexecdir)/$(gcc_version)$(MULTISUBDIR)'\n+    ;;\n+  no)\n+    if test -n \"$with_cross_host\" &&\n+       test x\"$with_cross_host\" != x\"no\"; then\n+      # Install a library built with a cross compiler in tooldir, not libdir.\n+      toolexecdir='$(exec_prefix)/$(target_alias)'\n+      toolexeclibdir='$(toolexecdir)/lib'\n+    else\n+      toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n+      toolexeclibdir='$(libdir)'\n+    fi\n+    multi_os_directory=`$CC -print-multi-os-directory`\n+    case $multi_os_directory in\n+      .) ;; # Avoid trailing /.\n+      *) toolexeclibdir=$toolexeclibdir/$multi_os_directory ;;\n+    esac\n+    ;;\n+esac\n+\n+\n \n # Checks for programs.\n ac_ext=c\n@@ -4218,77 +4428,6 @@ macro_revision='1.3134'\n \n ltmain=\"$ac_aux_dir/ltmain.sh\"\n \n-# Make sure we can run config.sub.\n-$SHELL \"$ac_aux_dir/config.sub\" sun4 >/dev/null 2>&1 ||\n-  as_fn_error \"cannot run $SHELL $ac_aux_dir/config.sub\" \"$LINENO\" 5\n-\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking build system type\" >&5\n-$as_echo_n \"checking build system type... \" >&6; }\n-if test \"${ac_cv_build+set}\" = set; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  ac_build_alias=$build_alias\n-test \"x$ac_build_alias\" = x &&\n-  ac_build_alias=`$SHELL \"$ac_aux_dir/config.guess\"`\n-test \"x$ac_build_alias\" = x &&\n-  as_fn_error \"cannot guess build type; you must specify one\" \"$LINENO\" 5\n-ac_cv_build=`$SHELL \"$ac_aux_dir/config.sub\" $ac_build_alias` ||\n-  as_fn_error \"$SHELL $ac_aux_dir/config.sub $ac_build_alias failed\" \"$LINENO\" 5\n-\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_build\" >&5\n-$as_echo \"$ac_cv_build\" >&6; }\n-case $ac_cv_build in\n-*-*-*) ;;\n-*) as_fn_error \"invalid value of canonical build\" \"$LINENO\" 5;;\n-esac\n-build=$ac_cv_build\n-ac_save_IFS=$IFS; IFS='-'\n-set x $ac_cv_build\n-shift\n-build_cpu=$1\n-build_vendor=$2\n-shift; shift\n-# Remember, the first character of IFS is used to create $*,\n-# except with old shells:\n-build_os=$*\n-IFS=$ac_save_IFS\n-case $build_os in *\\ *) build_os=`echo \"$build_os\" | sed 's/ /-/g'`;; esac\n-\n-\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking host system type\" >&5\n-$as_echo_n \"checking host system type... \" >&6; }\n-if test \"${ac_cv_host+set}\" = set; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test \"x$host_alias\" = x; then\n-  ac_cv_host=$ac_cv_build\n-else\n-  ac_cv_host=`$SHELL \"$ac_aux_dir/config.sub\" $host_alias` ||\n-    as_fn_error \"$SHELL $ac_aux_dir/config.sub $host_alias failed\" \"$LINENO\" 5\n-fi\n-\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_host\" >&5\n-$as_echo \"$ac_cv_host\" >&6; }\n-case $ac_cv_host in\n-*-*-*) ;;\n-*) as_fn_error \"invalid value of canonical host\" \"$LINENO\" 5;;\n-esac\n-host=$ac_cv_host\n-ac_save_IFS=$IFS; IFS='-'\n-set x $ac_cv_host\n-shift\n-host_cpu=$1\n-host_vendor=$2\n-shift; shift\n-# Remember, the first character of IFS is used to create $*,\n-# except with old shells:\n-host_os=$*\n-IFS=$ac_save_IFS\n-case $host_os in *\\ *) host_os=`echo \"$host_os\" | sed 's/ /-/g'`;; esac\n-\n-\n # Backslashify metacharacters that are still active within\n # double-quoted strings.\n sed_quote_subst='s/\\([\"`$\\\\]\\)/\\\\\\1/g'\n@@ -10730,7 +10869,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10733 \"configure\"\n+#line 10872 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -10836,7 +10975,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10839 \"configure\"\n+#line 10978 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -14093,14 +14232,11 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n-#AM_ENABLE_MULTILIB(, ..)\n-target_alias=${target_alias-$host_alias}\n-\n-\n-toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n-toolexeclibdir='$(libdir)'\n-\n-\n+if test \"${multilib}\" = \"yes\"; then\n+  multilib_arg=\"--enable-multilib\"\n+else\n+  multilib_arg=\n+fi\n \n ac_config_files=\"$ac_config_files Makefile\"\n \n@@ -14828,6 +14964,20 @@ cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n #\n # INIT-COMMANDS\n #\n+\n+srcdir=\"$srcdir\"\n+host=\"$host\"\n+target=\"$target\"\n+with_multisubdir=\"$with_multisubdir\"\n+with_multisrctop=\"$with_multisrctop\"\n+with_target_subdir=\"$with_target_subdir\"\n+ac_configure_args=\"${multilib_arg} ${ac_configure_args}\"\n+multi_basedir=\"$multi_basedir\"\n+CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}\n+CC=\"$CC\"\n+CXX=\"$CXX\"\n+GFORTRAN=\"$GFORTRAN\"\n+GCJ=\"$GCJ\"\n AMDEP_TRUE=\"$AMDEP_TRUE\" ac_aux_dir=\"$ac_aux_dir\"\n \n \n@@ -15198,6 +15348,7 @@ cat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n for ac_config_target in $ac_config_targets\n do\n   case $ac_config_target in\n+    \"default-1\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS default-1\" ;;\n     \"depfiles\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS depfiles\" ;;\n     \"libtool\") CONFIG_COMMANDS=\"$CONFIG_COMMANDS libtool\" ;;\n     \"Makefile\") CONFIG_FILES=\"$CONFIG_FILES Makefile\" ;;\n@@ -15622,6 +15773,14 @@ $as_echo \"$as_me: executing $ac_file commands\" >&6;}\n \n \n   case $ac_file$ac_mode in\n+    \"default-1\":C)\n+# Only add multilib support code if we just rebuilt the top-level\n+# Makefile.\n+case \" $CONFIG_FILES \" in\n+ *\" Makefile \"*)\n+   ac_file=Makefile . ${multi_basedir}/config-ml.in\n+   ;;\n+esac ;;\n     \"depfiles\":C) test x\"$AMDEP_TRUE\" != x\"\" || {\n   # Autoconf 2.62 quotes --file arguments for eval, but not when files\n   # are listed without --file.  Let's play safe and only enable the eval"}, {"sha": "27a7f951dbf532436cf4b324bb316ede68130e21", "filename": "libsanitizer/configure.ac", "status": "modified", "additions": 54, "deletions": 8, "changes": 62, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fconfigure.ac?ref=2a6346c40674735478be6adf89cbabd817b49825", "patch": "@@ -4,7 +4,56 @@\n AC_PREREQ([2.64])\n AC_INIT(package-unused, version-unused, libsanitizer)\n AC_CONFIG_SRCDIR([include/sanitizer/common_interface_defs.h])\n+\n+AC_MSG_CHECKING([for --enable-version-specific-runtime-libs])\n+AC_ARG_ENABLE(version-specific-runtime-libs,\n+[  --enable-version-specific-runtime-libs    Specify that runtime libraries should be installed in a compiler-specific directory ],\n+[case \"$enableval\" in\n+ yes) version_specific_libs=yes ;;\n+ no)  version_specific_libs=no ;;\n+ *)   AC_MSG_ERROR([Unknown argument to enable/disable version-specific libs]);;\n+ esac],\n+[version_specific_libs=no])\n+AC_MSG_RESULT($version_specific_libs)\n+\n+# Do not delete or change the following two lines.  For why, see\n+# http://gcc.gnu.org/ml/libstdc++/2003-07/msg00451.html\n+AC_CANONICAL_SYSTEM\n+target_alias=${target_alias-$host_alias}\n+AC_SUBST(target_alias)\n+\n AM_INIT_AUTOMAKE(foreign)\n+AM_ENABLE_MULTILIB(, ..)\n+\n+# Calculate toolexeclibdir\n+# Also toolexecdir, though it's only used in toolexeclibdir\n+case ${version_specific_libs} in\n+  yes)\n+    # Need the gcc compiler version to know where to install libraries\n+    # and header files if --enable-version-specific-runtime-libs option\n+    # is selected.\n+    toolexecdir='$(libdir)/gcc/$(target_alias)'\n+    toolexeclibdir='$(toolexecdir)/$(gcc_version)$(MULTISUBDIR)'\n+    ;;\n+  no)\n+    if test -n \"$with_cross_host\" &&\n+       test x\"$with_cross_host\" != x\"no\"; then\n+      # Install a library built with a cross compiler in tooldir, not libdir.\n+      toolexecdir='$(exec_prefix)/$(target_alias)'\n+      toolexeclibdir='$(toolexecdir)/lib'\n+    else\n+      toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n+      toolexeclibdir='$(libdir)'\n+    fi\n+    multi_os_directory=`$CC -print-multi-os-directory`\n+    case $multi_os_directory in\n+      .) ;; # Avoid trailing /.\n+      *) toolexeclibdir=$toolexeclibdir/$multi_os_directory ;;\n+    esac\n+    ;;\n+esac\n+AC_SUBST(toolexecdir)\n+AC_SUBST(toolexeclibdir)\n \n # Checks for programs.\n AC_PROG_CC\n@@ -17,14 +66,11 @@ AM_PROG_LIBTOOL\n AC_SUBST(enable_shared)\n AC_SUBST(enable_static)\n \n-#AM_ENABLE_MULTILIB(, ..)\n-target_alias=${target_alias-$host_alias}\n-AC_SUBST(target_alias)\n-\n-toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n-toolexeclibdir='$(libdir)'\n-AC_SUBST(toolexecdir)\n-AC_SUBST(toolexeclibdir)\n+if test \"${multilib}\" = \"yes\"; then\n+  multilib_arg=\"--enable-multilib\"\n+else\n+  multilib_arg=\n+fi\n \n AC_CONFIG_FILES([Makefile])\n "}, {"sha": "fa60646c02c10d4a1699cf703af5b303a636df7e", "filename": "libsanitizer/interception/Makefile.in", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2Finterception%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2Finterception%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Finterception%2FMakefile.in?ref=2a6346c40674735478be6adf89cbabd817b49825", "patch": "@@ -34,11 +34,13 @@ PRE_UNINSTALL = :\n POST_UNINSTALL = :\n build_triplet = @build@\n host_triplet = @host@\n+target_triplet = @target@\n subdir = interception\n DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n am__aclocal_m4_deps = $(top_srcdir)/../config/depstand.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n+\t$(top_srcdir)/../config/multi.m4 \\\n \t$(top_srcdir)/../config/override.m4 \\\n \t$(top_srcdir)/../ltoptions.m4 $(top_srcdir)/../ltsugar.m4 \\\n \t$(top_srcdir)/../ltversion.m4 $(top_srcdir)/../lt~obsolete.m4 \\\n@@ -180,6 +182,7 @@ localedir = @localedir@\n localstatedir = @localstatedir@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n+multi_basedir = @multi_basedir@\n oldincludedir = @oldincludedir@\n pdfdir = @pdfdir@\n prefix = @prefix@\n@@ -189,7 +192,11 @@ sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n srcdir = @srcdir@\n sysconfdir = @sysconfdir@\n+target = @target@\n target_alias = @target_alias@\n+target_cpu = @target_cpu@\n+target_os = @target_os@\n+target_vendor = @target_vendor@\n toolexecdir = @toolexecdir@\n toolexeclibdir = @toolexeclibdir@\n top_build_prefix = @top_build_prefix@"}, {"sha": "42e08a06f7485f2fed4f5e3ad6928729cdcc0c52", "filename": "libsanitizer/sanitizer_common/Makefile.in", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2Fsanitizer_common%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a6346c40674735478be6adf89cbabd817b49825/libsanitizer%2Fsanitizer_common%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fsanitizer_common%2FMakefile.in?ref=2a6346c40674735478be6adf89cbabd817b49825", "patch": "@@ -34,11 +34,13 @@ PRE_UNINSTALL = :\n POST_UNINSTALL = :\n build_triplet = @build@\n host_triplet = @host@\n+target_triplet = @target@\n subdir = sanitizer_common\n DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n am__aclocal_m4_deps = $(top_srcdir)/../config/depstand.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n+\t$(top_srcdir)/../config/multi.m4 \\\n \t$(top_srcdir)/../config/override.m4 \\\n \t$(top_srcdir)/../ltoptions.m4 $(top_srcdir)/../ltsugar.m4 \\\n \t$(top_srcdir)/../ltversion.m4 $(top_srcdir)/../lt~obsolete.m4 \\\n@@ -185,6 +187,7 @@ localedir = @localedir@\n localstatedir = @localstatedir@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n+multi_basedir = @multi_basedir@\n oldincludedir = @oldincludedir@\n pdfdir = @pdfdir@\n prefix = @prefix@\n@@ -194,7 +197,11 @@ sbindir = @sbindir@\n sharedstatedir = @sharedstatedir@\n srcdir = @srcdir@\n sysconfdir = @sysconfdir@\n+target = @target@\n target_alias = @target_alias@\n+target_cpu = @target_cpu@\n+target_os = @target_os@\n+target_vendor = @target_vendor@\n toolexecdir = @toolexecdir@\n toolexeclibdir = @toolexeclibdir@\n top_build_prefix = @top_build_prefix@"}]}