{"sha": "97aaae90c4644cc9794b0a0db0662e7ba709d3ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTdhYWFlOTBjNDY0NGNjOTc5NGIwYTBkYjA2NjJlN2JhNzA5ZDNmZg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2007-09-23T09:44:23Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2007-09-23T09:44:23Z"}, "message": "re PR tree-optimization/32772 (error: found real variable when subvariables should have appeared)\n\n\tPR tree-optimization/32772\n\t* gcc.c-torture/compile/20070905-1.c: New test.\n\n\tPR tree-optimization/32975\n\t* gcc.dg/pr32975.c: New test.\n\nFrom-SVN: r128688", "tree": {"sha": "fc5d138692f335f113b11fa96623c75160d20002", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fc5d138692f335f113b11fa96623c75160d20002"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/97aaae90c4644cc9794b0a0db0662e7ba709d3ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97aaae90c4644cc9794b0a0db0662e7ba709d3ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97aaae90c4644cc9794b0a0db0662e7ba709d3ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97aaae90c4644cc9794b0a0db0662e7ba709d3ff/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d2af6a68d8806cb9c6d2b2e6170f341bea8658e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2af6a68d8806cb9c6d2b2e6170f341bea8658e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2af6a68d8806cb9c6d2b2e6170f341bea8658e3"}], "stats": {"total": 63, "additions": 63, "deletions": 0}, "files": [{"sha": "7ed4cc7e5d41b954e511f5fa9b88353a2e0c630c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97aaae90c4644cc9794b0a0db0662e7ba709d3ff/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97aaae90c4644cc9794b0a0db0662e7ba709d3ff/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=97aaae90c4644cc9794b0a0db0662e7ba709d3ff", "patch": "@@ -7,6 +7,12 @@\n \tattributes.\n \t* g++.dg/ext/va-arg-pack-len-2.C: New test.\n \n+\tPR tree-optimization/32772\n+\t* gcc.c-torture/compile/20070905-1.c: New test.\n+\n+\tPR tree-optimization/32975\n+\t* gcc.dg/pr32975.c: New test.\n+\n \tPR middle-end/28755\n \t* gcc.dg/pr28755.c: New test.\n "}, {"sha": "5953275b10fcfdd3c970e2f2d07d341c1942672b", "filename": "gcc/testsuite/gcc.c-torture/compile/20070905-1.c", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97aaae90c4644cc9794b0a0db0662e7ba709d3ff/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20070905-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97aaae90c4644cc9794b0a0db0662e7ba709d3ff/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20070905-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20070905-1.c?ref=97aaae90c4644cc9794b0a0db0662e7ba709d3ff", "patch": "@@ -0,0 +1,34 @@\n+/* PR tree-optimization/32772 */\n+\n+struct S\n+{\n+  unsigned long bits[1];\n+};\n+\n+void f1 (int, unsigned long *);\n+int f2 (void);\n+int f3 (int, unsigned long *);\n+int f4 (int, unsigned long *);\n+\n+static inline __attribute__ ((always_inline))\n+void baz (int x, volatile struct S *y)\n+{\n+  f1 (x, y->bits);\n+}\n+\n+static int\n+bar (int x, struct S *y)\n+{\n+  int n;\n+  if (__builtin_constant_p (x) ? f3 (x, y->bits) : f4 (x, y->bits))\n+    baz (x, y);\n+  for (n = f2 (); n < 8; n = f2 ())\n+    f3 (n, y->bits);\n+}\n+\n+void\n+foo (int x, int y)\n+{\n+  struct S m;\n+  while ((y = bar (x, &m)) >= 0);\n+}"}, {"sha": "8ddb0d8d2f2626d56e68df70b342a042b9585f30", "filename": "gcc/testsuite/gcc.dg/pr32975.c", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97aaae90c4644cc9794b0a0db0662e7ba709d3ff/gcc%2Ftestsuite%2Fgcc.dg%2Fpr32975.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97aaae90c4644cc9794b0a0db0662e7ba709d3ff/gcc%2Ftestsuite%2Fgcc.dg%2Fpr32975.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr32975.c?ref=97aaae90c4644cc9794b0a0db0662e7ba709d3ff", "patch": "@@ -0,0 +1,23 @@\n+/* PR tree-optimization/32975 */\n+/* { dg-do compile } */\n+/* { dg-options \"-O1 -finline-functions -fipa-cp\" } */\n+\n+static int\n+f0 (char *s0, char *s1)\n+{\n+  return __builtin_strlen (s0) > __builtin_strlen (s1);\n+}\n+\n+int\n+f1 (char *s, int j)\n+{\n+  if (f0 (s, \"\"))\n+    return 1;\n+  return j;\n+}\n+\n+void\n+f2 (char *s)\n+{\n+  f1 (s, 0);\n+}"}]}