{"sha": "13b380a3257189e5232010c982b8c691b348482c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTNiMzgwYTMyNTcxODllNTIzMjAxMGM5ODJiOGM2OTFiMzQ4NDgyYw==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2015-10-20T02:48:36Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2015-10-20T02:48:36Z"}, "message": "c-cppbuiltin.c (c_cpp_builtins): Define __cpp_enumerator_attributes...\n\n\t* c-cppbuiltin.c (c_cpp_builtins): Define\n\t__cpp_enumerator_attributes, __cpp_fold_expressions,\n\t__cpp_unicode_characters.\n\nFrom-SVN: r229017", "tree": {"sha": "8f01b250493343703129c8d1fabd0880cd14fc56", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8f01b250493343703129c8d1fabd0880cd14fc56"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/13b380a3257189e5232010c982b8c691b348482c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13b380a3257189e5232010c982b8c691b348482c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13b380a3257189e5232010c982b8c691b348482c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13b380a3257189e5232010c982b8c691b348482c/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a36b732a762dd1768b67d6860262903e68c558f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a36b732a762dd1768b67d6860262903e68c558f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a36b732a762dd1768b67d6860262903e68c558f9"}], "stats": {"total": 54, "additions": 53, "deletions": 1}, "files": [{"sha": "abcba2910dcfb38bb6df16e1ab1c487c75f5c944", "filename": "gcc/c-family/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13b380a3257189e5232010c982b8c691b348482c/gcc%2Fc-family%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13b380a3257189e5232010c982b8c691b348482c/gcc%2Fc-family%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2FChangeLog?ref=13b380a3257189e5232010c982b8c691b348482c", "patch": "@@ -1,3 +1,9 @@\n+2015-10-19  Jason Merrill  <jason@redhat.com>\n+\n+\t* c-cppbuiltin.c (c_cpp_builtins): Define\n+\t__cpp_enumerator_attributes, __cpp_fold_expressions,\n+\t__cpp_unicode_characters.\n+\n 2015-10-13  Jakub Jelinek  <jakub@redhat.com>\n \t    Aldy Hernandez  <aldyh@redhat.com>\n "}, {"sha": "cd6fd51ba2f2d0566b3114ab45f49f4bfa6b1010", "filename": "gcc/c-family/c-cppbuiltin.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13b380a3257189e5232010c982b8c691b348482c/gcc%2Fc-family%2Fc-cppbuiltin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13b380a3257189e5232010c982b8c691b348482c/gcc%2Fc-family%2Fc-cppbuiltin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc-cppbuiltin.c?ref=13b380a3257189e5232010c982b8c691b348482c", "patch": "@@ -833,7 +833,8 @@ c_cpp_builtins (cpp_reader *pfile)\n       if (cxx_dialect >= cxx11)\n \t{\n \t  /* Set feature test macros for C++11.  */\n-\t  cpp_define (pfile, \"__cpp_unicode_characters=200704\");\n+\t  if (cxx_dialect <= cxx14)\n+\t    cpp_define (pfile, \"__cpp_unicode_characters=200704\");\n \t  cpp_define (pfile, \"__cpp_raw_strings=200710\");\n \t  cpp_define (pfile, \"__cpp_unicode_literals=200710\");\n \t  cpp_define (pfile, \"__cpp_user_defined_literals=200809\");\n@@ -869,9 +870,12 @@ c_cpp_builtins (cpp_reader *pfile)\n       if (cxx_dialect > cxx14)\n \t{\n \t  /* Set feature test macros for C++1z.  */\n+\t  cpp_define (pfile, \"__cpp_unicode_characters=201411\");\n \t  cpp_define (pfile, \"__cpp_static_assert=201411\");\n \t  cpp_define (pfile, \"__cpp_namespace_attributes=201411\");\n+\t  cpp_define (pfile, \"__cpp_enumerator_attributes=201411\");\n \t  cpp_define (pfile, \"__cpp_nested_namespace_definitions=201411\");\n+\t  cpp_define (pfile, \"__cpp_fold_expressions=201411\");\n \t}\n       if (flag_concepts)\n \t/* Use a value smaller than the 201507 specified in"}, {"sha": "1f8f8486de856803bee5b2a174cba3a285029335", "filename": "gcc/testsuite/g++.dg/cpp1z/attributes-enum-1.C", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13b380a3257189e5232010c982b8c691b348482c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fattributes-enum-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13b380a3257189e5232010c982b8c691b348482c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fattributes-enum-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fattributes-enum-1.C?ref=13b380a3257189e5232010c982b8c691b348482c", "patch": "@@ -0,0 +1,9 @@\n+// { dg-options \"-std=c++1z\" }\n+\n+#ifndef __cpp_enumerator_attributes\n+#error __cpp_enumerator_attributes not defined\n+#endif\n+\n+#if __cpp_enumerator_attributes != 201411\n+#error Wrong value for __cpp_enumerator_attributes\n+#endif"}, {"sha": "f321ba1cd97ffc5d7ef3ab4a2ff75fcbfa4d9e56", "filename": "gcc/testsuite/g++.dg/cpp1z/attributes-enum-1a.C", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13b380a3257189e5232010c982b8c691b348482c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fattributes-enum-1a.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13b380a3257189e5232010c982b8c691b348482c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fattributes-enum-1a.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fattributes-enum-1a.C?ref=13b380a3257189e5232010c982b8c691b348482c", "patch": "@@ -0,0 +1,5 @@\n+// This macro should not be defined without -std=c++1z.\n+\n+#ifdef __cpp_enumerator_attributes\n+#error __cpp_enumerator_attributes defined\n+#endif"}, {"sha": "3e6925ad2e102fa31b8984b83e0413215277b2fa", "filename": "gcc/testsuite/g++.dg/cpp1z/fold7.C", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13b380a3257189e5232010c982b8c691b348482c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Ffold7.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13b380a3257189e5232010c982b8c691b348482c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Ffold7.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Ffold7.C?ref=13b380a3257189e5232010c982b8c691b348482c", "patch": "@@ -0,0 +1,9 @@\n+// { dg-options \"-std=c++1z\" }\n+\n+#ifndef __cpp_fold_expressions\n+#error __cpp_fold_expressions not defined\n+#endif\n+\n+#if __cpp_fold_expressions != 201411\n+#error Wrong value for __cpp_fold_expressions\n+#endif"}, {"sha": "d56cefb1ec4ba930fb7cdfd21e58d3935a7f21e2", "filename": "gcc/testsuite/g++.dg/cpp1z/fold7a.C", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13b380a3257189e5232010c982b8c691b348482c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Ffold7a.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13b380a3257189e5232010c982b8c691b348482c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Ffold7a.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Ffold7a.C?ref=13b380a3257189e5232010c982b8c691b348482c", "patch": "@@ -0,0 +1,5 @@\n+// This macro should not be defined without -std=c++1z.\n+\n+#ifdef __cpp_fold_expressions\n+#error __cpp_fold_expressions defined\n+#endif"}, {"sha": "152762f6d5a56c1774e1f529c9f25c0cbf90c89c", "filename": "gcc/testsuite/g++.dg/cpp1z/utf8-2.C", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13b380a3257189e5232010c982b8c691b348482c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Futf8-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13b380a3257189e5232010c982b8c691b348482c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Futf8-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Futf8-2.C?ref=13b380a3257189e5232010c982b8c691b348482c", "patch": "@@ -0,0 +1,9 @@\n+// { dg-options \"-std=c++1z\" }\n+\n+#ifndef __cpp_unicode_characters\n+#error __cpp_unicode_characters not defined\n+#endif\n+\n+#if __cpp_unicode_characters != 201411\n+#error Wrong value for __cpp_unicode_characters\n+#endif"}, {"sha": "9985cd04140de2559d39e2461bcac62e65472528", "filename": "gcc/testsuite/g++.dg/cpp1z/utf8-2a.C", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13b380a3257189e5232010c982b8c691b348482c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Futf8-2a.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13b380a3257189e5232010c982b8c691b348482c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Futf8-2a.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Futf8-2a.C?ref=13b380a3257189e5232010c982b8c691b348482c", "patch": "@@ -0,0 +1,5 @@\n+// This macro should not be 201411 without -std=c++1z.\n+\n+#if __cpp_unicode_characters == 201411\n+#error Wrong value for __cpp_unicode_characters\n+#endif"}]}