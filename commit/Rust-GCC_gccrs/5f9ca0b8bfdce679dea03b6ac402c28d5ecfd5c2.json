{"sha": "5f9ca0b8bfdce679dea03b6ac402c28d5ecfd5c2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWY5Y2EwYjhiZmRjZTY3OWRlYTAzYjZhYzQwMmMyOGQ1ZWNmZDVjMg==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2018-04-19T15:22:27Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2018-04-19T15:22:27Z"}, "message": "libgcc/CET: Add _CET_ENDBR to __stack_split_initialize\n\nProgram received signal SIGSEGV, Segmentation fault.\n__stack_split_initialize ()\n    at /export/gnu/import/git/sources/gcc/libgcc/config/i386/morestack.S:751\n751\t\tleaq\t-16000(%rsp),%rax\t# We should have at least 16K.\nMissing separate debuginfos, use: dnf debuginfo-install libgcc-8.0.1-0.21.0.fc28.x86_64\n(gdb) disass\nDump of assembler code for function __stack_split_initialize:\n=> 0x0000000000402858 <+0>:\tlea    -0x3e80(%rsp),%rax\n   0x0000000000402860 <+8>:\tmov    %rax,%fs:0x70\n   0x0000000000402869 <+17>:\tsub    $0x8,%rsp\n   0x000000000040286d <+21>:\tmov    %rsp,%rdi\n   0x0000000000402870 <+24>:\tmov    $0x3e80,%esi\n   0x0000000000402875 <+29>:\tcallq  0x401810 <__generic_morestack_set_initial_sp>\n   0x000000000040287a <+34>:\tadd    $0x8,%rsp\n   0x000000000040287e <+38>:\tretq\nEnd of assembler dump.\n(gdb)\n\nThis patch adds the missing ENDBR to __stack_split_initialize.\n\n\tPR libgcc/85379\n\t* config/i386/morestack.S (__stack_split_initialize): Add\n\t_CET_ENDBR.\n\nFrom-SVN: r259497", "tree": {"sha": "d0b0528c36d647ea4f10ae2fca4310f41d0464f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d0b0528c36d647ea4f10ae2fca4310f41d0464f1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5f9ca0b8bfdce679dea03b6ac402c28d5ecfd5c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f9ca0b8bfdce679dea03b6ac402c28d5ecfd5c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f9ca0b8bfdce679dea03b6ac402c28d5ecfd5c2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f9ca0b8bfdce679dea03b6ac402c28d5ecfd5c2/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "73d1e5721d54089c77c8975830638aeea449d49e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73d1e5721d54089c77c8975830638aeea449d49e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73d1e5721d54089c77c8975830638aeea449d49e"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "674d2041bd762dcbc0532c0ef9dc0d1a7d3d9e6e", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f9ca0b8bfdce679dea03b6ac402c28d5ecfd5c2/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f9ca0b8bfdce679dea03b6ac402c28d5ecfd5c2/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=5f9ca0b8bfdce679dea03b6ac402c28d5ecfd5c2", "patch": "@@ -1,3 +1,9 @@\n+2018-04-19  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR libgcc/85379\n+\t* config/i386/morestack.S (__stack_split_initialize): Add\n+\t_CET_ENDBR.\n+\n 2018-04-19  Jakub Jelinek  <jakub@redhat.com>\n \n \t* configure: Regenerated."}, {"sha": "99e65eaaff44a8a8c9a98e4f4b8f7fcd6f8c6cd4", "filename": "libgcc/config/i386/morestack.S", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f9ca0b8bfdce679dea03b6ac402c28d5ecfd5c2/libgcc%2Fconfig%2Fi386%2Fmorestack.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f9ca0b8bfdce679dea03b6ac402c28d5ecfd5c2/libgcc%2Fconfig%2Fi386%2Fmorestack.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fmorestack.S?ref=5f9ca0b8bfdce679dea03b6ac402c28d5ecfd5c2", "patch": "@@ -730,6 +730,7 @@ __morestack_large_model:\n #endif\n \n __stack_split_initialize:\n+\t_CET_ENDBR\n \n #ifndef __x86_64__\n "}]}