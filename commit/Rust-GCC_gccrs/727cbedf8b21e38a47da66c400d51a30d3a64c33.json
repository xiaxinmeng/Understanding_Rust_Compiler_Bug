{"sha": "727cbedf8b21e38a47da66c400d51a30d3a64c33", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzI3Y2JlZGY4YjIxZTM4YTQ3ZGE2NmM0MDBkNTFhMzBkM2E2NGMzMw==", "commit": {"author": {"name": "Joel Sherrill", "email": "joel@rtems.org", "date": "2016-04-27T07:06:43Z"}, "committer": {"name": "Sebastian Huber", "email": "sh@gcc.gnu.org", "date": "2016-04-27T07:06:43Z"}, "message": "[Microblaze] Redefine LINK_SPEC for RTEMS\n\ngcc/\n\n\t* config/microblaze/rtems.h: Redefine LINK_SPEC to avoid\n\txilink.ld and flags not relevant to RTEMS.\n\nFrom-SVN: r235465", "tree": {"sha": "55a0872f924497b9af4a4a81b533906b1d0cc7fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/55a0872f924497b9af4a4a81b533906b1d0cc7fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/727cbedf8b21e38a47da66c400d51a30d3a64c33", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/727cbedf8b21e38a47da66c400d51a30d3a64c33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/727cbedf8b21e38a47da66c400d51a30d3a64c33", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/727cbedf8b21e38a47da66c400d51a30d3a64c33/comments", "author": null, "committer": null, "parents": [{"sha": "f702d1109089f133c1ceba49c94dabe2f2ab8850", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f702d1109089f133c1ceba49c94dabe2f2ab8850", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f702d1109089f133c1ceba49c94dabe2f2ab8850"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "75367cbd9ce879057c00474990f0b2ee3e9b8dd4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/727cbedf8b21e38a47da66c400d51a30d3a64c33/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/727cbedf8b21e38a47da66c400d51a30d3a64c33/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=727cbedf8b21e38a47da66c400d51a30d3a64c33", "patch": "@@ -1,3 +1,8 @@\n+2016-04-27  Joel Sherrill  <joel@rtems.org>\n+\n+\t* config/microblaze/rtems.h: Redefine LINK_SPEC to avoid\n+\txilink.ld and flags not relevant to RTEMS.\n+\n 2016-04-26  Zhouyi Zhou  <yizhouzhou@ict.ac.cn>\n \n \t* toplev.c (backend_init_target): Avoid calling init_reload when using"}, {"sha": "56f3f7087d513a635a30a578b312149633c2129a", "filename": "gcc/config/microblaze/rtems.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/727cbedf8b21e38a47da66c400d51a30d3a64c33/gcc%2Fconfig%2Fmicroblaze%2Frtems.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/727cbedf8b21e38a47da66c400d51a30d3a64c33/gcc%2Fconfig%2Fmicroblaze%2Frtems.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmicroblaze%2Frtems.h?ref=727cbedf8b21e38a47da66c400d51a30d3a64c33", "patch": "@@ -23,3 +23,10 @@ along with GCC; see the file COPYING3.  If not see\n   builtin_define( \"__rtems__\" );\t\t\\\n   builtin_assert( \"system=rtems\" );\t\t\\\n } while (0)\n+\n+/* Redefine to include only items relevant for RTEMS */\n+#undef LINK_SPEC\n+#define LINK_SPEC \"%{shared:-shared} -N -relax \\\n+  %{mbig-endian:-EB --oformat=elf32-microblaze} \\\n+  %{mlittle-endian:-EL --oformat=elf32-microblazeel} \\\n+  %{mxl-gp-opt:%{G*}} %{!mxl-gp-opt: -G 0}\""}]}