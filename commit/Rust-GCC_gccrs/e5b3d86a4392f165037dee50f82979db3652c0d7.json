{"sha": "e5b3d86a4392f165037dee50f82979db3652c0d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTViM2Q4NmE0MzkyZjE2NTAzN2RlZTUwZjgyOTc5ZGIzNjUyYzBkNw==", "commit": {"author": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1994-06-18T21:51:42Z"}, "committer": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1994-06-18T21:51:42Z"}, "message": "include stdio.h and stdlib.h into assert.h as necessary\n\nFrom-SVN: r7524", "tree": {"sha": "d81960a389fb9bbe9751bb2097b351c47e4e2ea4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d81960a389fb9bbe9751bb2097b351c47e4e2ea4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e5b3d86a4392f165037dee50f82979db3652c0d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5b3d86a4392f165037dee50f82979db3652c0d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5b3d86a4392f165037dee50f82979db3652c0d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5b3d86a4392f165037dee50f82979db3652c0d7/comments", "author": null, "committer": null, "parents": [{"sha": "6bfc4303bd3c97e2fa608ba135a29298483e0d26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bfc4303bd3c97e2fa608ba135a29298483e0d26", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6bfc4303bd3c97e2fa608ba135a29298483e0d26"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "d5762d707f8a3618dbc700f6230f13dd098ce87c", "filename": "gcc/fixincludes", "status": "modified", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e5b3d86a4392f165037dee50f82979db3652c0d7/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e5b3d86a4392f165037dee50f82979db3652c0d7/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=e5b3d86a4392f165037dee50f82979db3652c0d7", "patch": "@@ -1651,6 +1651,37 @@ extern \"C\" {\n   fi\n fi\n \n+# check for broken assert.h that needs stdio.h or stdlib.h\n+file=assert.h\n+if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n+  cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n+  chmod +w ${LIB}/$file 2>/dev/null\n+  chmod a+r ${LIB}/$file 2>/dev/null\n+fi\n+\n+if [ -r ${LIB}/$file ]; then\n+  if grep 'stderr' ${LIB}/$file >/dev/null ; then\n+    if grep 'include.*stdio.h' ${LIB}/$file >/dev/null ; then\n+      true\n+    else\n+      echo \"Fixing $file (needs stdio.h)\"\n+      echo '#include <stdio.h>' >>${LIB}/$file\n+    fi\n+  fi\n+  if grep 'exit *(' ${LIB}/$file >/dev/null || \n+     grep 'abort *(' ${LIB}/$file >/dev/null ; then\n+    if grep 'include.*stdlib.h' ${LIB}/$file >/dev/null ; then\n+      true\n+    else\n+      echo \"Fixing $file (needs stdlib.h)\"\n+      echo '#include <stdlib.h>' >>${LIB}/$file\n+    fi\n+  fi\n+  if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n+    rm -f ${LIB}/$file\n+  fi\n+fi\n+\n # This file on SunOS 4 has a very large macro.  When the sed loop\n # tries pull it in, it overflows the pattern space size of the SunOS\n # sed (GNU sed does not have this problem).  Since the file does not"}]}