{"sha": "79c6bb5f20c2e2c0033bcd020ea643db3a1b11d0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzljNmJiNWYyMGMyZTJjMDAzM2JjZDAyMGVhNjQzZGIzYTFiMTFkMA==", "commit": {"author": {"name": "Ganesh Gopalasubramanian", "email": "Ganesh.Gopalasubramanian@amd.com", "date": "2014-12-04T10:51:54Z"}, "committer": {"name": "Ganesh Gopalasubramanian", "email": "gganesh@gcc.gnu.org", "date": "2014-12-04T10:51:54Z"}, "message": "Add prefetch support for aarch64\n\nFrom-SVN: r218349", "tree": {"sha": "49c6c7a7b61aea41c2504750d2149fbecaae831e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/49c6c7a7b61aea41c2504750d2149fbecaae831e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/79c6bb5f20c2e2c0033bcd020ea643db3a1b11d0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79c6bb5f20c2e2c0033bcd020ea643db3a1b11d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79c6bb5f20c2e2c0033bcd020ea643db3a1b11d0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79c6bb5f20c2e2c0033bcd020ea643db3a1b11d0/comments", "author": {"login": "ganeshgit", "id": 5275884, "node_id": "MDQ6VXNlcjUyNzU4ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5275884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ganeshgit", "html_url": "https://github.com/ganeshgit", "followers_url": "https://api.github.com/users/ganeshgit/followers", "following_url": "https://api.github.com/users/ganeshgit/following{/other_user}", "gists_url": "https://api.github.com/users/ganeshgit/gists{/gist_id}", "starred_url": "https://api.github.com/users/ganeshgit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ganeshgit/subscriptions", "organizations_url": "https://api.github.com/users/ganeshgit/orgs", "repos_url": "https://api.github.com/users/ganeshgit/repos", "events_url": "https://api.github.com/users/ganeshgit/events{/privacy}", "received_events_url": "https://api.github.com/users/ganeshgit/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8495b8f6938b2b7da696fde00f668112d50313fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8495b8f6938b2b7da696fde00f668112d50313fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8495b8f6938b2b7da696fde00f668112d50313fc"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "8b7bbda075f9c4c14eb4db1f6cc7db5f6cad87e0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79c6bb5f20c2e2c0033bcd020ea643db3a1b11d0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79c6bb5f20c2e2c0033bcd020ea643db3a1b11d0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=79c6bb5f20c2e2c0033bcd020ea643db3a1b11d0", "patch": "@@ -1,3 +1,7 @@\n+2014-12-04 Ganesh Gopalasubramanian  <Ganesh.Gopalasubramanian@amd.com>\n+\n+\t* config/aarch64/aarch64.md (define_insn \"prefetch\"): New.\n+\n 2014-12-04  Francois-Xavier Coudert  <fxcoudert@gcc.gnu.org>\n \n \t* doc/install.texi: Remove mentions of cloog and ppl."}, {"sha": "1b0d30257444c140359a1015d4c96bd22bc10310", "filename": "gcc/config/aarch64/aarch64.md", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79c6bb5f20c2e2c0033bcd020ea643db3a1b11d0/gcc%2Fconfig%2Faarch64%2Faarch64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79c6bb5f20c2e2c0033bcd020ea643db3a1b11d0/gcc%2Fconfig%2Faarch64%2Faarch64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.md?ref=79c6bb5f20c2e2c0033bcd020ea643db3a1b11d0", "patch": "@@ -375,6 +375,33 @@\n   [(set_attr \"type\" \"no_insn\")]\n )\n \n+(define_insn \"prefetch\"\n+  [(prefetch (match_operand:DI 0 \"address_operand\" \"r\")\n+            (match_operand:QI 1 \"const_int_operand\" \"\")\n+            (match_operand:QI 2 \"const_int_operand\" \"\"))]\n+  \"\"\n+  {\n+    const char * pftype[2][4] = \n+    {\n+      {\"prfm\\\\tPLDL1STRM, %a0\",\n+       \"prfm\\\\tPLDL3KEEP, %a0\",\n+       \"prfm\\\\tPLDL2KEEP, %a0\",\n+       \"prfm\\\\tPLDL1KEEP, %a0\"},\n+      {\"prfm\\\\tPSTL1STRM, %a0\",\n+       \"prfm\\\\tPSTL3KEEP, %a0\",\n+       \"prfm\\\\tPSTL2KEEP, %a0\",\n+       \"prfm\\\\tPSTL1KEEP, %a0\"},\n+    };\n+\n+    int locality = INTVAL (operands[2]);\n+\n+    gcc_assert (IN_RANGE (locality, 0, 3));\n+\n+    return pftype[INTVAL(operands[1])][locality];\n+  }\n+  [(set_attr \"type\" \"load1\")]\n+)\n+\n (define_insn \"trap\"\n   [(trap_if (const_int 1) (const_int 8))]\n   \"\""}]}