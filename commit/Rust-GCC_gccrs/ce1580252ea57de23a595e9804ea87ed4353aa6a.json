{"sha": "ce1580252ea57de23a595e9804ea87ed4353aa6a", "node_id": "C_kwDOANBUbNoAKGNlMTU4MDI1MmVhNTdkZTIzYTU5NWU5ODA0ZWE4N2VkNDM1M2FhNmE", "commit": {"author": {"name": "Vladimir Makarov", "email": "vmakarov@gcc.gnu.org", "date": "2022-05-28T18:08:38Z"}, "committer": {"name": "Jeff Law", "email": "jeffreyalaw@gmail.com", "date": "2022-05-28T18:14:39Z"}, "message": "Fix ICE on sh\n\ngcc/\n\tPR target/103722\n\t* config/sh/sh.cc (sh_register_move_cost): Avoid cost \"2\" (which\n\tis special) for various scenarios.", "tree": {"sha": "01e2b3cc0301bee7387e98c84e37be302010e458", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/01e2b3cc0301bee7387e98c84e37be302010e458"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce1580252ea57de23a595e9804ea87ed4353aa6a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce1580252ea57de23a595e9804ea87ed4353aa6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce1580252ea57de23a595e9804ea87ed4353aa6a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce1580252ea57de23a595e9804ea87ed4353aa6a/comments", "author": null, "committer": {"login": "JeffreyALaw", "id": 14062506, "node_id": "MDQ6VXNlcjE0MDYyNTA2", "avatar_url": "https://avatars.githubusercontent.com/u/14062506?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JeffreyALaw", "html_url": "https://github.com/JeffreyALaw", "followers_url": "https://api.github.com/users/JeffreyALaw/followers", "following_url": "https://api.github.com/users/JeffreyALaw/following{/other_user}", "gists_url": "https://api.github.com/users/JeffreyALaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/JeffreyALaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JeffreyALaw/subscriptions", "organizations_url": "https://api.github.com/users/JeffreyALaw/orgs", "repos_url": "https://api.github.com/users/JeffreyALaw/repos", "events_url": "https://api.github.com/users/JeffreyALaw/events{/privacy}", "received_events_url": "https://api.github.com/users/JeffreyALaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ad8f6e23923893b76a21b01dd860db911066d7bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad8f6e23923893b76a21b01dd860db911066d7bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad8f6e23923893b76a21b01dd860db911066d7bb"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "03e1c04ec7ebca959cecccfc7e99492da3f767a0", "filename": "gcc/config/sh/sh.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce1580252ea57de23a595e9804ea87ed4353aa6a/gcc%2Fconfig%2Fsh%2Fsh.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce1580252ea57de23a595e9804ea87ed4353aa6a/gcc%2Fconfig%2Fsh%2Fsh.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.cc?ref=ce1580252ea57de23a595e9804ea87ed4353aa6a", "patch": "@@ -10762,6 +10762,12 @@ sh_register_move_cost (machine_mode mode,\n       && ! REGCLASS_HAS_GENERAL_REG (dstclass))\n     return 2 * ((GET_MODE_SIZE (mode) + 7) / 8U);\n \n+  if (((dstclass == FP_REGS || dstclass == DF_REGS)\n+       && (srcclass == PR_REGS))\n+      || ((srcclass == FP_REGS || srcclass == DF_REGS)\n+\t  && (dstclass == PR_REGS)))\n+    return 7;\n+\n   return 2 * ((GET_MODE_SIZE (mode) + 3) / 4U);\n }\n "}]}