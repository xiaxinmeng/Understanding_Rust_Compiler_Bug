{"sha": "8d95c5807351d1dfde5e81ecfd8a65524eec4f8b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGQ5NWM1ODA3MzUxZDFkZmRlNWU4MWVjZmQ4YTY1NTI0ZWVjNGY4Yg==", "commit": {"author": {"name": "Emmanuel Briot", "email": "briot@adacore.com", "date": "2008-08-20T16:12:38Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-08-20T16:12:38Z"}, "message": "2008-08-20  Emmanuel Briot  <briot@adacore.com>\n\n\t* g-catiio.ads, g-catiio.adb:\n\t(Value): Avoid an unnecessary system call to Clock in most cases.\n\tThis call is only needed when only the time is provided in the string,\n\tand ignored in all other cases. This is more efficient.\n\nFrom-SVN: r139333", "tree": {"sha": "8a4e04eeef44c992e94019eb9b126eb5761b8244", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8a4e04eeef44c992e94019eb9b126eb5761b8244"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8d95c5807351d1dfde5e81ecfd8a65524eec4f8b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d95c5807351d1dfde5e81ecfd8a65524eec4f8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d95c5807351d1dfde5e81ecfd8a65524eec4f8b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d95c5807351d1dfde5e81ecfd8a65524eec4f8b/comments", "author": {"login": "briot", "id": 42402, "node_id": "MDQ6VXNlcjQyNDAy", "avatar_url": "https://avatars.githubusercontent.com/u/42402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/briot", "html_url": "https://github.com/briot", "followers_url": "https://api.github.com/users/briot/followers", "following_url": "https://api.github.com/users/briot/following{/other_user}", "gists_url": "https://api.github.com/users/briot/gists{/gist_id}", "starred_url": "https://api.github.com/users/briot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/briot/subscriptions", "organizations_url": "https://api.github.com/users/briot/orgs", "repos_url": "https://api.github.com/users/briot/repos", "events_url": "https://api.github.com/users/briot/events{/privacy}", "received_events_url": "https://api.github.com/users/briot/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2bb767155a3f1831a5a9170a6cc47fec23219ee1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bb767155a3f1831a5a9170a6cc47fec23219ee1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2bb767155a3f1831a5a9170a6cc47fec23219ee1"}], "stats": {"total": 38, "additions": 18, "deletions": 20}, "files": [{"sha": "0d0b9b849fc23a0fda8a238896da5791c6f68989", "filename": "gcc/ada/g-catiio.adb", "status": "modified", "additions": 13, "deletions": 14, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d95c5807351d1dfde5e81ecfd8a65524eec4f8b/gcc%2Fada%2Fg-catiio.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d95c5807351d1dfde5e81ecfd8a65524eec4f8b/gcc%2Fada%2Fg-catiio.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-catiio.adb?ref=8d95c5807351d1dfde5e81ecfd8a65524eec4f8b", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                     Copyright (C) 1999-2007, AdaCore                     --\n+--                     Copyright (C) 1999-2008, AdaCore                     --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -560,13 +560,15 @@ package body GNAT.Calendar.Time_IO is\n       D          : String (1 .. 21);\n       D_Length   : constant Natural := Date'Length;\n \n-      Year       : Year_Number;\n-      Month      : Month_Number;\n-      Day        : Day_Number;\n-      Hour       : Hour_Number;\n-      Minute     : Minute_Number;\n-      Second     : Second_Number;\n+      Year   : Year_Number;\n+      Month  : Month_Number;\n+      Day    : Day_Number;\n+      Hour   : Hour_Number;\n+      Minute : Minute_Number;\n+      Second : Second_Number;\n+\n       Sub_Second : Second_Duration;\n+      --  We ignore subseconds in this routine, so this is a throw away value\n \n       procedure Extract_Date\n         (Year       : out Year_Number;\n@@ -770,9 +772,6 @@ package body GNAT.Calendar.Time_IO is\n    --  Start of processing for Value\n \n    begin\n-      Split (Clock, Year, Month, Day, Hour, Minute, Second, Sub_Second);\n-      Sub_Second := 0.0;\n-\n       --  Length checks\n \n       if D_Length /= 8\n@@ -792,12 +791,12 @@ package body GNAT.Calendar.Time_IO is\n \n       D (1 .. D_Length) := Date;\n \n-      if D_Length /= 8\n-        or else D (3) /= ':'\n-      then\n+      if D_Length /= 8 or else D (3) /= ':' then\n          Extract_Date (Year, Month, Day, Time_Start);\n          Extract_Time (Time_Start, Hour, Minute, Second, Check_Space => True);\n+\n       else\n+         Split (Clock, Year, Month, Day, Hour, Minute, Second, Sub_Second);\n          Extract_Time (1, Hour, Minute, Second, Check_Space => False);\n       end if;\n \n@@ -813,7 +812,7 @@ package body GNAT.Calendar.Time_IO is\n          raise Constraint_Error;\n       end if;\n \n-      return Time_Of (Year, Month, Day, Hour, Minute, Second, Sub_Second);\n+      return Time_Of (Year, Month, Day, Hour, Minute, Second);\n    end Value;\n \n    --------------"}, {"sha": "1f73c2198ec30430af08dfb87566f67e222999b1", "filename": "gcc/ada/g-catiio.ads", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d95c5807351d1dfde5e81ecfd8a65524eec4f8b/gcc%2Fada%2Fg-catiio.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d95c5807351d1dfde5e81ecfd8a65524eec4f8b/gcc%2Fada%2Fg-catiio.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-catiio.ads?ref=8d95c5807351d1dfde5e81ecfd8a65524eec4f8b", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---                     Copyright (C) 1999-2007, AdaCore                     --\n+--                     Copyright (C) 1999-2008, AdaCore                     --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -132,7 +132,7 @@ package GNAT.Calendar.Time_IO is\n    --\n    --  Trailing characters (in particular spaces) are not allowed\n    --\n-   --     yyyy*mm*dd\n+   --     yyyy*mm*dd           - ISO format\n    --     yy*mm*dd             - Year is assumed to be 20yy\n    --     mm*dd*yyyy           - (US date format)\n    --     dd*mmm*yyyy          - month spelled out\n@@ -141,12 +141,11 @@ package GNAT.Calendar.Time_IO is\n    --     mmm dd, yyyy         - month spelled out\n    --     dd mmm yyyy          - month spelled out\n    --\n-   --  Constraint_Error is raised if the input string is malformatted or\n+   --  Constraint_Error is raised if the input string is malformed (does not\n+   --  conform to one of the above dates, or has an invalid time string), or\n    --  the resulting time is not valid.\n \n-   procedure Put_Time\n-     (Date    : Ada.Calendar.Time;\n-      Picture : Picture_String);\n+   procedure Put_Time (Date : Ada.Calendar.Time; Picture : Picture_String);\n    --  Put Date with format Picture. Raise Picture_Error if bad picture string\n \n private"}]}