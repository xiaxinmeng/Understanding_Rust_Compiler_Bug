{"sha": "fcb37f66ba225769fd451325065bceefee1b5f68", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmNiMzdmNjZiYTIyNTc2OWZkNDUxMzI1MDY1YmNlZWZlZTFiNWY2OA==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1996-10-07T20:14:15Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1996-10-07T20:14:15Z"}, "message": "Fix previous change to work on both endian hosts and targets\n\nFrom-SVN: r12909", "tree": {"sha": "0999b4fe745993ba9a4f01198e7d88bd19fa7be4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0999b4fe745993ba9a4f01198e7d88bd19fa7be4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fcb37f66ba225769fd451325065bceefee1b5f68", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcb37f66ba225769fd451325065bceefee1b5f68", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fcb37f66ba225769fd451325065bceefee1b5f68", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcb37f66ba225769fd451325065bceefee1b5f68/comments", "author": null, "committer": null, "parents": [{"sha": "1c138ba30278f35104f786fa4514b4f0dc131458", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c138ba30278f35104f786fa4514b4f0dc131458", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c138ba30278f35104f786fa4514b4f0dc131458"}], "stats": {"total": 33, "additions": 27, "deletions": 6}, "files": [{"sha": "795afca840ded042673db49f33bed4ad25f6e61e", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 27, "deletions": 6, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcb37f66ba225769fd451325065bceefee1b5f68/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcb37f66ba225769fd451325065bceefee1b5f68/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=fcb37f66ba225769fd451325065bceefee1b5f68", "patch": "@@ -5958,10 +5958,21 @@\n   rtx high_rtx, low_rtx;\n   HOST_WIDE_INT high;\n   HOST_WIDE_INT low;\n-  rtx high_reg = gen_rtx (SUBREG, SImode, operands[0], WORDS_BIG_ENDIAN == 0);\n-  rtx low_reg  = gen_rtx (SUBREG, SImode, operands[0], WORDS_BIG_ENDIAN != 0);\n+  rtx high_reg, low_reg;\n+\n+  if (WORDS_BIG_ENDIAN)\n+    {\n+      high_reg = gen_rtx (SUBREG, SImode, operands[0], 0);\n+      low_reg  = gen_rtx (SUBREG, SImode, operands[0], 1);\n+      split_double (operands[1], &high_rtx, &low_rtx);\n+    }\n+  else\n+    {\n+      high_reg = gen_rtx (SUBREG, SImode, operands[0], 1);\n+      low_reg  = gen_rtx (SUBREG, SImode, operands[0], 0);\n+      split_double (operands[1], &low_rtx, &high_rtx);\n+    }\n \n-  split_double (operands[1], &high_rtx, &low_rtx);\n   high = INTVAL (high_rtx);\n   low  = INTVAL (low_rtx);\n \n@@ -5997,10 +6008,20 @@\n   rtx high_rtx, low_rtx;\n   HOST_WIDE_INT high;\n   HOST_WIDE_INT low;\n+  rtx high_reg, low_reg;\n \n-  split_double (operands[1], &high_rtx, &low_rtx);\n-  high = INTVAL (high_rtx);\n-  low  = INTVAL (low_rtx);\n+  if (WORDS_BIG_ENDIAN)\n+    {\n+      high_reg = gen_rtx (SUBREG, SImode, operands[0], 0);\n+      low_reg  = gen_rtx (SUBREG, SImode, operands[0], 1);\n+      split_double (operands[1], &high_rtx, &low_rtx);\n+    }\n+  else\n+    {\n+      high_reg = gen_rtx (SUBREG, SImode, operands[0], 1);\n+      low_reg  = gen_rtx (SUBREG, SImode, operands[0], 0);\n+      split_double (operands[1], &low_rtx, &high_rtx);\n+    }\n \n   operands[2] = gen_rtx (SUBREG, SImode, operands[0], WORDS_BIG_ENDIAN == 0);\n   operands[3] = gen_rtx (SUBREG, SImode, operands[0], WORDS_BIG_ENDIAN != 0);"}]}