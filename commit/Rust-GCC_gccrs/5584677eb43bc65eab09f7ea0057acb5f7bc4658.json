{"sha": "5584677eb43bc65eab09f7ea0057acb5f7bc4658", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTU4NDY3N2ViNDNiYzY1ZWFiMDlmN2VhMDA1N2FjYjVmN2JjNDY1OA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1992-08-07T01:59:27Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1992-08-07T01:59:27Z"}, "message": "Correct DEFINE_SPLITs added Jul 27.\n\nCorrect DEFINE_SPLITs added Jul 27.  They would\noverwrite the input register if it was the same as the result reg.\n\nFrom-SVN: r1776", "tree": {"sha": "0e5fe5bd8169373a9e4ac20f756be43457f73e55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e5fe5bd8169373a9e4ac20f756be43457f73e55"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5584677eb43bc65eab09f7ea0057acb5f7bc4658", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5584677eb43bc65eab09f7ea0057acb5f7bc4658", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5584677eb43bc65eab09f7ea0057acb5f7bc4658", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5584677eb43bc65eab09f7ea0057acb5f7bc4658/comments", "author": null, "committer": null, "parents": [{"sha": "a291e551670918165b4df941d78661f483c287c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a291e551670918165b4df941d78661f483c287c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a291e551670918165b4df941d78661f483c287c4"}], "stats": {"total": 36, "additions": 20, "deletions": 16}, "files": [{"sha": "b64f949024e774021d7dfbe60d9ab14d0358ec38", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 20, "deletions": 16, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5584677eb43bc65eab09f7ea0057acb5f7bc4658/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5584677eb43bc65eab09f7ea0057acb5f7bc4658/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=5584677eb43bc65eab09f7ea0057acb5f7bc4658", "patch": "@@ -1996,15 +1996,16 @@\n (define_split\n   [(set (match_operand:SI 0 \"register_operand\" \"\")\n \t(and:SI (match_operand:SI 1 \"register_operand\" \"\")\n-\t\t(match_operand:SI 2 \"\" \"\")))]\n+\t\t(match_operand:SI 2 \"\" \"\")))\n+   (clobber (match_operand:SI 3 \"register_operand\" \"\"))]\n   \"GET_CODE (operands[2]) == CONST_INT\n    && !SMALL_INT (operands[2])\n    && (INTVAL (operands[2]) & 0x3ff) == 0x3ff\"\n-  [(set (match_dup 0) (match_dup 3))\n-   (set (match_dup 0) (and:SI (not:SI (match_dup 0)) (match_dup 1)))]\n+  [(set (match_dup 3) (match_dup 4))\n+   (set (match_dup 0) (and:SI (not:SI (match_dup 3)) (match_dup 1)))]\n   \"\n {\n-  operands[3] = gen_rtx (CONST_INT, VOIDmode, ~INTVAL (operands[2]));\n+  operands[4] = gen_rtx (CONST_INT, VOIDmode, ~INTVAL (operands[2]));\n }\")\n \n (define_insn \"\"\n@@ -2070,15 +2071,16 @@\n (define_split\n   [(set (match_operand:SI 0 \"register_operand\" \"\")\n \t(ior:SI (match_operand:SI 1 \"register_operand\" \"\")\n-\t\t(match_operand:SI 2 \"\" \"\")))]\n+\t\t(match_operand:SI 2 \"\" \"\")))\n+   (clobber (match_operand:SI 3 \"register_operand\" \"\"))]\n   \"GET_CODE (operands[2]) == CONST_INT\n    && !SMALL_INT (operands[2])\n    && (INTVAL (operands[2]) & 0x3ff) == 0x3ff\"\n-  [(set (match_dup 0) (match_dup 3))\n-   (set (match_dup 0) (ior:SI (not:SI (match_dup 0)) (match_dup 1)))]\n+  [(set (match_dup 3) (match_dup 4))\n+   (set (match_dup 0) (ior:SI (not:SI (match_dup 3)) (match_dup 1)))]\n   \"\n {\n-  operands[3] = gen_rtx (CONST_INT, VOIDmode, ~INTVAL (operands[2]));\n+  operands[4] = gen_rtx (CONST_INT, VOIDmode, ~INTVAL (operands[2]));\n }\")\n \n (define_insn \"\"\n@@ -2144,29 +2146,31 @@\n (define_split\n   [(set (match_operand:SI 0 \"register_operand\" \"\")\n \t(xor:SI (match_operand:SI 1 \"register_operand\" \"\")\n-\t\t(match_operand:SI 2 \"\" \"\")))]\n+\t\t(match_operand:SI 2 \"\" \"\")))\n+   (clobber (match_operand:SI 3 \"register_operand\" \"\"))]\n   \"GET_CODE (operands[2]) == CONST_INT\n    && !SMALL_INT (operands[2])\n    && (INTVAL (operands[2]) & 0x3ff) == 0x3ff\"\n-  [(set (match_dup 0) (match_dup 3))\n-   (set (match_dup 0) (not:SI (xor:SI (match_dup 0) (match_dup 1))))]\n+  [(set (match_dup 3) (match_dup 4))\n+   (set (match_dup 0) (not:SI (xor:SI (match_dup 3) (match_dup 1))))]\n   \"\n {\n-  operands[3] = gen_rtx (CONST_INT, VOIDmode, ~INTVAL (operands[2]));\n+  operands[4] = gen_rtx (CONST_INT, VOIDmode, ~INTVAL (operands[2]));\n }\")\n \n (define_split\n   [(set (match_operand:SI 0 \"register_operand\" \"\")\n \t(not:SI (xor:SI (match_operand:SI 1 \"register_operand\" \"\")\n-\t\t\t(match_operand:SI 2 \"\" \"\"))))]\n+\t\t\t(match_operand:SI 2 \"\" \"\"))))\n+   (clobber (match_operand:SI 3 \"register_operand\" \"\"))]\n   \"GET_CODE (operands[2]) == CONST_INT\n    && !SMALL_INT (operands[2])\n    && (INTVAL (operands[2]) & 0x3ff) == 0x3ff\"\n-  [(set (match_dup 0) (match_dup 3))\n-   (set (match_dup 0) (xor:SI (match_dup 0) (match_dup 1)))]\n+  [(set (match_dup 3) (match_dup 4))\n+   (set (match_dup 0) (xor:SI (match_dup 3) (match_dup 1)))]\n   \"\n {\n-  operands[3] = gen_rtx (CONST_INT, VOIDmode, ~INTVAL (operands[2]));\n+  operands[4] = gen_rtx (CONST_INT, VOIDmode, ~INTVAL (operands[2]));\n }\")\n \n ;; xnor patterns.  Note that (a ^ ~b) == (~a ^ b) == ~(a ^ b)."}]}