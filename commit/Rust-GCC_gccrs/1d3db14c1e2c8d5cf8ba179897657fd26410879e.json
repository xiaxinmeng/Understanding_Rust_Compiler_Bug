{"sha": "1d3db14c1e2c8d5cf8ba179897657fd26410879e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQzZGIxNGMxZTJjOGQ1Y2Y4YmExNzk4OTc2NTdmZDI2NDEwODc5ZQ==", "commit": {"author": {"name": "Thomas Quinot", "email": "quinot@adacore.com", "date": "2013-08-13T19:49:21Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2013-08-13T19:49:21Z"}, "message": "trans.c (set_end_locus_from_node): Clear column info for the end_locus of a block if...\n\n\t* gcc-interface/trans.c (set_end_locus_from_node): Clear column info\n\tfor the end_locus of a block if it does not come from an End_Label.\n\nFrom-SVN: r201703", "tree": {"sha": "43a65cce72f36264467e8e3db7c924436e8f4481", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/43a65cce72f36264467e8e3db7c924436e8f4481"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d3db14c1e2c8d5cf8ba179897657fd26410879e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d3db14c1e2c8d5cf8ba179897657fd26410879e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d3db14c1e2c8d5cf8ba179897657fd26410879e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d3db14c1e2c8d5cf8ba179897657fd26410879e/comments", "author": null, "committer": null, "parents": [{"sha": "362db0b23d017f8c40517507ee453802e5662814", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/362db0b23d017f8c40517507ee453802e5662814", "html_url": "https://github.com/Rust-GCC/gccrs/commit/362db0b23d017f8c40517507ee453802e5662814"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "45fcf886e8998bd3d5e3e416eac9896ac35eb9f6", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d3db14c1e2c8d5cf8ba179897657fd26410879e/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d3db14c1e2c8d5cf8ba179897657fd26410879e/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=1d3db14c1e2c8d5cf8ba179897657fd26410879e", "patch": "@@ -1,3 +1,8 @@\n+2013-08-13  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* gcc-interface/trans.c (set_end_locus_from_node): Clear column info\n+\tfor the end_locus of a block if it does not come from an End_Label.\n+\n 2013-08-13  Thomas Quinot  <quinot@adacore.com>\n \n \t* gcc-interface/trans.c (Handled_Sequence_Of_Statements_to_gnu): If"}, {"sha": "db55c38eaaed0c9861d60ee6a7ca63b8ca3f3089", "filename": "gcc/ada/gcc-interface/trans.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d3db14c1e2c8d5cf8ba179897657fd26410879e/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d3db14c1e2c8d5cf8ba179897657fd26410879e/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Ftrans.c?ref=1d3db14c1e2c8d5cf8ba179897657fd26410879e", "patch": "@@ -9228,9 +9228,13 @@ set_end_locus_from_node (tree gnu_node, Node_Id gnat_node)\n   gnat_node = Present (gnat_end_label) ? gnat_end_label : gnat_node;\n \n   /* Some expanded subprograms have neither an End_Label nor a Sloc\n-     attached.  Notify that to callers.  */\n+     attached.  Notify that to callers.  For a block statement with no\n+     End_Label, clear column information, so that the tree for a\n+     transient block does not receive the sloc of a source condition.  */\n \n-  if (!Sloc_to_locus (Sloc (gnat_node), &end_locus))\n+  if (!Sloc_to_locus1 (Sloc (gnat_node), &end_locus,\n+                       No (gnat_end_label) &&\n+                       (Nkind (gnat_node) == N_Block_Statement)))\n     return false;\n \n   switch (TREE_CODE (gnu_node))"}]}