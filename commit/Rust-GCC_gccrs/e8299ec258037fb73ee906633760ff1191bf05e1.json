{"sha": "e8299ec258037fb73ee906633760ff1191bf05e1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTgyOTllYzI1ODAzN2ZiNzNlZTkwNjYzMzc2MGZmMTE5MWJmMDVlMQ==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@bitrange.com", "date": "2005-10-30T17:06:40Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2005-10-30T17:06:40Z"}, "message": "mmix.c (mmix_intval): Correct handling of DFmode constants for hosts with long != 32 bits.\n\n\t* config/mmix/mmix.c (mmix_intval): Correct handling of DFmode\n\tconstants for hosts with long != 32 bits.\n\nFrom-SVN: r106027", "tree": {"sha": "8ca30322e05d0a7c508e3b7b7d3e7c539c7ced1f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ca30322e05d0a7c508e3b7b7d3e7c539c7ced1f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e8299ec258037fb73ee906633760ff1191bf05e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8299ec258037fb73ee906633760ff1191bf05e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8299ec258037fb73ee906633760ff1191bf05e1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8299ec258037fb73ee906633760ff1191bf05e1/comments", "author": null, "committer": null, "parents": [{"sha": "6536905d5af309425d872b1a74fe0b0367675ecf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6536905d5af309425d872b1a74fe0b0367675ecf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6536905d5af309425d872b1a74fe0b0367675ecf"}], "stats": {"total": 25, "additions": 12, "deletions": 13}, "files": [{"sha": "4eb8a407473896b168b61af375d4503761ed79cb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8299ec258037fb73ee906633760ff1191bf05e1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8299ec258037fb73ee906633760ff1191bf05e1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e8299ec258037fb73ee906633760ff1191bf05e1", "patch": "@@ -1,3 +1,8 @@\n+2005-10-30  Hans-Peter Nilsson  <hp@bitrange.com>\n+\n+\t* config/mmix/mmix.c (mmix_intval): Correct handling of DFmode\n+\tconstants for hosts with long != 32 bits.\n+\n 2005-10-28  Andreas Krebbel <krebbel1@de.ibm.com>\n \n \tPR middle-end/24093"}, {"sha": "fc2a5c82d6868c0d4e8c7a8f7f40cb8333773265", "filename": "gcc/config/mmix/mmix.c", "status": "modified", "additions": 7, "deletions": 13, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8299ec258037fb73ee906633760ff1191bf05e1/gcc%2Fconfig%2Fmmix%2Fmmix.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8299ec258037fb73ee906633760ff1191bf05e1/gcc%2Fconfig%2Fmmix%2Fmmix.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmmix%2Fmmix.c?ref=e8299ec258037fb73ee906633760ff1191bf05e1", "patch": "@@ -2705,19 +2705,13 @@ mmix_intval (rtx x)\n \n \t  REAL_VALUE_TO_TARGET_DOUBLE (value, bits);\n \n-\t  if (sizeof (long) < sizeof (HOST_WIDEST_INT))\n-\t    {\n-\t      retval = (unsigned long) bits[1] / 2;\n-\t      retval *= 2;\n-\t      retval |= (unsigned long) bits[1] & 1;\n-\t      retval\n-\t\t|= (unsigned HOST_WIDEST_INT) bits[0]\n-\t\t  << (sizeof (bits[0]) * 8);\n-\t    }\n-\t  else\n-\t    retval = (unsigned long) bits[1];\n-\n-\t  return retval;\n+\t  /* The double cast is necessary to avoid getting the long\n+\t     sign-extended to unsigned long long(!) when they're of\n+\t     different size (usually 32-bit hosts).  */\n+\t  return\n+\t    ((unsigned HOST_WIDEST_INT) (unsigned long) bits[0]\n+\t     << (unsigned HOST_WIDEST_INT) 32U)\n+\t    | (unsigned HOST_WIDEST_INT) (unsigned long) bits[1];\n \t}\n       else if (GET_MODE (x) == SFmode)\n \t{"}]}