{"sha": "945a01f92138e0887ac258c7979392fb4661aa97", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTQ1YTAxZjkyMTM4ZTA4ODdhYzI1OGM3OTc5MzkyZmI0NjYxYWE5Nw==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@gmail.com", "date": "2017-01-19T23:21:53Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2017-01-19T23:21:53Z"}, "message": "[RS6000] Don't expand strcmp and strncmp inline when -Os\n\n\t* config/rs6000/rs6000.md (cmpstrnsi, cmpstrsi): Fail if\n\toptimizing for size.\n\nFrom-SVN: r244660", "tree": {"sha": "2ab9a88077e4a00a94e74a7bac88d342dd944280", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ab9a88077e4a00a94e74a7bac88d342dd944280"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/945a01f92138e0887ac258c7979392fb4661aa97", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/945a01f92138e0887ac258c7979392fb4661aa97", "html_url": "https://github.com/Rust-GCC/gccrs/commit/945a01f92138e0887ac258c7979392fb4661aa97", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/945a01f92138e0887ac258c7979392fb4661aa97/comments", "author": {"login": "amodra", "id": 6006325, "node_id": "MDQ6VXNlcjYwMDYzMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amodra", "html_url": "https://github.com/amodra", "followers_url": "https://api.github.com/users/amodra/followers", "following_url": "https://api.github.com/users/amodra/following{/other_user}", "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}", "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amodra/subscriptions", "organizations_url": "https://api.github.com/users/amodra/orgs", "repos_url": "https://api.github.com/users/amodra/repos", "events_url": "https://api.github.com/users/amodra/events{/privacy}", "received_events_url": "https://api.github.com/users/amodra/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5699b9d11556148547b478d1b4591359c7b89ac5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5699b9d11556148547b478d1b4591359c7b89ac5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5699b9d11556148547b478d1b4591359c7b89ac5"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "d231ff49d5ba260dfb2bf6b4bd3d435712af744f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/945a01f92138e0887ac258c7979392fb4661aa97/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/945a01f92138e0887ac258c7979392fb4661aa97/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=945a01f92138e0887ac258c7979392fb4661aa97", "patch": "@@ -1,3 +1,8 @@\n+2017-01-20  Alan Modra  <amodra@gmail.com>\n+\n+\t* config/rs6000/rs6000.md (cmpstrnsi, cmpstrsi): Fail if\n+\toptimizing for size.\n+\n 2017-01-20  Alan Modra  <amodra@gmail.com>\n \n \tPR target/79144"}, {"sha": "3f292211463ddd38f3369ab8a79d1c0f866127e8", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/945a01f92138e0887ac258c7979392fb4661aa97/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/945a01f92138e0887ac258c7979392fb4661aa97/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=945a01f92138e0887ac258c7979392fb4661aa97", "patch": "@@ -9102,6 +9102,9 @@\n \t      (use (match_operand:SI 4))])]\n   \"TARGET_CMPB && (BYTES_BIG_ENDIAN || TARGET_LDBRX)\"\n {\n+  if (optimize_insn_for_size_p ())\n+    FAIL;\n+\n   if (expand_strn_compare (operands, 0))\n     DONE;\n   else\t\n@@ -9121,6 +9124,9 @@\n \t      (use (match_operand:SI 3))])]\n   \"TARGET_CMPB && (BYTES_BIG_ENDIAN || TARGET_LDBRX)\"\n {\n+  if (optimize_insn_for_size_p ())\n+    FAIL;\n+\n   if (expand_strn_compare (operands, 1))\n     DONE;\n   else\t"}]}