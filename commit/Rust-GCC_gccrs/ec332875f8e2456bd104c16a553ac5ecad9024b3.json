{"sha": "ec332875f8e2456bd104c16a553ac5ecad9024b3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWMzMzI4NzVmOGUyNDU2YmQxMDRjMTZhNTUzYWM1ZWNhZDkwMjRiMw==", "commit": {"author": {"name": "Marek Polacek", "email": "mpolacek@gcc.gnu.org", "date": "2019-06-08T14:10:42Z"}, "committer": {"name": "Marek Polacek", "email": "mpolacek@gcc.gnu.org", "date": "2019-06-08T14:10:42Z"}, "message": "re PR c++/52269 ([C++11] Body of constexpr function templates instantiated too eagerly in unevaluated operands)\n\n\tPR c++/52269\n\t* g++.dg/cpp0x/constexpr-decltype4.C: New test.\n\nFrom-SVN: r272083", "tree": {"sha": "7351e16dbd7ef7be8702a19a9c1829e64560be4e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7351e16dbd7ef7be8702a19a9c1829e64560be4e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec332875f8e2456bd104c16a553ac5ecad9024b3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec332875f8e2456bd104c16a553ac5ecad9024b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec332875f8e2456bd104c16a553ac5ecad9024b3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec332875f8e2456bd104c16a553ac5ecad9024b3/comments", "author": null, "committer": null, "parents": [{"sha": "304d779b9ebeb30fd8761703b5729b51db450793", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/304d779b9ebeb30fd8761703b5729b51db450793", "html_url": "https://github.com/Rust-GCC/gccrs/commit/304d779b9ebeb30fd8761703b5729b51db450793"}], "stats": {"total": 28, "additions": 27, "deletions": 1}, "files": [{"sha": "a2012ae73afecbf63d1e23aacf4759214e617c18", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec332875f8e2456bd104c16a553ac5ecad9024b3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec332875f8e2456bd104c16a553ac5ecad9024b3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ec332875f8e2456bd104c16a553ac5ecad9024b3", "patch": "@@ -1,5 +1,10 @@\n+2019-06-08  Marek Polacek  <polacek@redhat.com>\n+\n+\tPR c++/52269\n+\t* g++.dg/cpp0x/constexpr-decltype4.C: New test.\n+\n 2019-06-08  Thomas Koenig  <tkoenig@gcc.gnu.org>\n-\tTom\u00e1\u0161 Trnka  <trnka@scm.com>\n+\t    Tom\u00e1\u0161 Trnka  <trnka@scm.com>\n \n \tPR fortran/90744\n \t* gfortran.dg/deferred_character_33.f90: New test."}, {"sha": "64af90baee499afdadcac0596adc367ea559f50a", "filename": "gcc/testsuite/g++.dg/cpp0x/constexpr-decltype4.C", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec332875f8e2456bd104c16a553ac5ecad9024b3/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-decltype4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec332875f8e2456bd104c16a553ac5ecad9024b3/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-decltype4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-decltype4.C?ref=ec332875f8e2456bd104c16a553ac5ecad9024b3", "patch": "@@ -0,0 +1,21 @@\n+// PR c++/52269\n+// { dg-do compile { target c++11 } }\n+\n+template<typename T>\n+int f(T x)\n+{\n+  return x.get();\n+}\n+\n+// O.K. The body of `f' is not required.\n+decltype(f(0)) a;\n+\n+template<typename T>\n+constexpr int g(T x)\n+{\n+  return x.get();\n+}\n+\n+// Seems to instantiate the body of `g'\n+// and results in an error.\n+decltype(g(0)) b;"}]}