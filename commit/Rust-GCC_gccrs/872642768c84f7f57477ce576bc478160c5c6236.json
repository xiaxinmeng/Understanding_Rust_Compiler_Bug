{"sha": "872642768c84f7f57477ce576bc478160c5c6236", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODcyNjQyNzY4Yzg0ZjdmNTc0NzdjZTU3NmJjNDc4MTYwYzVjNjIzNg==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2009-08-30T14:33:13Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2009-08-30T14:33:13Z"}, "message": "configure.ac: Detect awk and sed.\n\n2009-08-30  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* configure.ac: Detect awk and sed.\n\t* Makefile.def (flags_to_pass): Add AWK and SED.\n\t* Makefile.tpl (AWK, SED): New.\n\t(BASE_FLAGS_TO_PASS): Add AWK and SED.\n\t* configure: Regenerate.\n\t* Makefile.in: Regenerate.\n\nFrom-SVN: r151228", "tree": {"sha": "fda17eac92efaded51e7de4b24ac3e07f8351c30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fda17eac92efaded51e7de4b24ac3e07f8351c30"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/872642768c84f7f57477ce576bc478160c5c6236", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/872642768c84f7f57477ce576bc478160c5c6236", "html_url": "https://github.com/Rust-GCC/gccrs/commit/872642768c84f7f57477ce576bc478160c5c6236", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/872642768c84f7f57477ce576bc478160c5c6236/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c390c36118a44e574f0f31a7718fbb980aad694a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c390c36118a44e574f0f31a7718fbb980aad694a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c390c36118a44e574f0f31a7718fbb980aad694a"}], "stats": {"total": 140, "additions": 139, "deletions": 1}, "files": [{"sha": "ab4b6584c14c1230a51ae218aacd6049b188683c", "filename": "ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/872642768c84f7f57477ce576bc478160c5c6236/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/872642768c84f7f57477ce576bc478160c5c6236/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=872642768c84f7f57477ce576bc478160c5c6236", "patch": "@@ -1,3 +1,12 @@\n+2009-08-30  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\t* configure.ac: Detect awk and sed.\n+\t* Makefile.def (flags_to_pass): Add AWK and SED.\n+\t* Makefile.tpl (AWK, SED): New.\n+\t(BASE_FLAGS_TO_PASS): Add AWK and SED.\n+\t* configure: Regenerate.\n+\t* Makefile.in: Regenerate.\n+\n 2009-08-26  Dave Korn  <dave.korn.cygwin@gmail.com>\n \n \t* ltmain.sh (removedotparts): Don't use comma as 's' separator."}, {"sha": "5834232f1339fbbb7ea5461940729ce7b0449987", "filename": "Makefile.def", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/872642768c84f7f57477ce576bc478160c5c6236/Makefile.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/872642768c84f7f57477ce576bc478160c5c6236/Makefile.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.def?ref=872642768c84f7f57477ce576bc478160c5c6236", "patch": "@@ -231,6 +231,7 @@ flags_to_pass = { flag= build_tooldir ; };\n flags_to_pass = { flag= target_alias ; };\n \n // Build tools\n+flags_to_pass = { flag= AWK ; };\n flags_to_pass = { flag= BISON ; };\n flags_to_pass = { flag= CC_FOR_BUILD ; };\n flags_to_pass = { flag= CFLAGS_FOR_BUILD ; };\n@@ -247,6 +248,7 @@ flags_to_pass = { flag= M4 ; };\n flags_to_pass = { flag= MAKE ; };\n flags_to_pass = { flag= RUNTEST ; };\n flags_to_pass = { flag= RUNTESTFLAGS ; };\n+flags_to_pass = { flag= SED ; };\n flags_to_pass = { flag= SHELL ; };\n flags_to_pass = { flag= YACC ; };\n "}, {"sha": "17044426cc4c538c6f96909f69d53409a9e56a7f", "filename": "Makefile.in", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/872642768c84f7f57477ce576bc478160c5c6236/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/872642768c84f7f57477ce576bc478160c5c6236/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=872642768c84f7f57477ce576bc478160c5c6236", "patch": "@@ -140,6 +140,8 @@ BASE_EXPORTS = \\\n \tBISON=\"$(BISON)\"; export BISON; \\\n \tYACC=\"$(YACC)\"; export YACC; \\\n \tM4=\"$(M4)\"; export M4; \\\n+\tSED=\"$(SED)\"; export SED; \\\n+\tAWK=\"$(AWK)\"; export SED; \\\n \tMAKEINFO=\"$(MAKEINFO)\"; export MAKEINFO;\n \n # This is the list of variables to export in the environment when\n@@ -334,6 +336,8 @@ BOOT_CFLAGS= -g -O2\n BOOT_LDFLAGS=\n BOOT_ADAFLAGS=-gnatpg -gnata\n \n+AWK = @AWK@\n+SED = @SED@\n BISON = @BISON@\n YACC = @YACC@\n FLEX = @FLEX@\n@@ -599,6 +603,7 @@ BASE_FLAGS_TO_PASS = \\\n \t\"tooldir=$(tooldir)\" \\\n \t\"build_tooldir=$(build_tooldir)\" \\\n \t\"target_alias=$(target_alias)\" \\\n+\t\"AWK=$(AWK)\" \\\n \t\"BISON=$(BISON)\" \\\n \t\"CC_FOR_BUILD=$(CC_FOR_BUILD)\" \\\n \t\"CFLAGS_FOR_BUILD=$(CFLAGS_FOR_BUILD)\" \\\n@@ -615,6 +620,7 @@ BASE_FLAGS_TO_PASS = \\\n \t\"MAKE=$(MAKE)\" \\\n \t\"RUNTEST=$(RUNTEST)\" \\\n \t\"RUNTESTFLAGS=$(RUNTESTFLAGS)\" \\\n+\t\"SED=$(SED)\" \\\n \t\"SHELL=$(SHELL)\" \\\n \t\"YACC=$(YACC)\" \\\n \t\"`echo 'ADAFLAGS=$(ADAFLAGS)' | sed -e s'/[^=][^=]*=$$/XFOO=/'`\" \\"}, {"sha": "b6a06cffb6ec6b9927ae34c6679c76872cfeec30", "filename": "Makefile.tpl", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/872642768c84f7f57477ce576bc478160c5c6236/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/872642768c84f7f57477ce576bc478160c5c6236/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=872642768c84f7f57477ce576bc478160c5c6236", "patch": "@@ -143,6 +143,8 @@ BASE_EXPORTS = \\\n \tBISON=\"$(BISON)\"; export BISON; \\\n \tYACC=\"$(YACC)\"; export YACC; \\\n \tM4=\"$(M4)\"; export M4; \\\n+\tSED=\"$(SED)\"; export SED; \\\n+\tAWK=\"$(AWK)\"; export SED; \\\n \tMAKEINFO=\"$(MAKEINFO)\"; export MAKEINFO;\n \n # This is the list of variables to export in the environment when\n@@ -337,6 +339,8 @@ BOOT_CFLAGS= -g -O2\n BOOT_LDFLAGS=\n BOOT_ADAFLAGS=-gnatpg -gnata\n \n+AWK = @AWK@\n+SED = @SED@\n BISON = @BISON@\n YACC = @YACC@\n FLEX = @FLEX@"}, {"sha": "e04c6b74751510bba10b68c393dfa7104ff6c8aa", "filename": "configure", "status": "modified", "additions": 116, "deletions": 1, "changes": 117, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/872642768c84f7f57477ce576bc478160c5c6236/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/872642768c84f7f57477ce576bc478160c5c6236/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=872642768c84f7f57477ce576bc478160c5c6236", "patch": "@@ -168,7 +168,8 @@ test x\\$exitcode = x0 || exit 1\"\n   as_suggested=\"  as_lineno_1=\";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested\" as_lineno_1a=\\$LINENO\n   as_lineno_2=\";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested\" as_lineno_2a=\\$LINENO\n   eval 'test \\\"x\\$as_lineno_1'\\$as_run'\\\" != \\\"x\\$as_lineno_2'\\$as_run'\\\" &&\n-  test \\\"x\\`expr \\$as_lineno_1'\\$as_run' + 1\\`\\\" = \\\"x\\$as_lineno_2'\\$as_run'\\\"' || exit 1\"\n+  test \\\"x\\`expr \\$as_lineno_1'\\$as_run' + 1\\`\\\" = \\\"x\\$as_lineno_2'\\$as_run'\\\"' || exit 1\n+test \\$(( 1 + 1 )) = 2 || exit 1\"\n   if (eval \"$as_required\") 2>/dev/null; then :\n   as_have_required=yes\n else\n@@ -665,6 +666,8 @@ target_subdir\n host_subdir\n build_subdir\n build_libsubdir\n+AWK\n+SED\n LN_S\n LN\n INSTALL_DATA\n@@ -2444,6 +2447,117 @@ else\n $as_echo \"no, using $LN_S\" >&6; }\n fi\n \n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for a sed that does not truncate output\" >&5\n+$as_echo_n \"checking for a sed that does not truncate output... \" >&6; }\n+if test \"${ac_cv_path_SED+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+            ac_script=s/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb/\n+     for ac_i in 1 2 3 4 5 6 7; do\n+       ac_script=\"$ac_script$as_nl$ac_script\"\n+     done\n+     echo \"$ac_script\" 2>/dev/null | sed 99q >conftest.sed\n+     { ac_script=; unset ac_script;}\n+     if test -z \"$SED\"; then\n+  ac_path_SED_found=false\n+  # Loop through the user's path and test for each of PROGNAME-LIST\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_prog in sed gsed; do\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+      ac_path_SED=\"$as_dir/$ac_prog$ac_exec_ext\"\n+      { test -f \"$ac_path_SED\" && $as_test_x \"$ac_path_SED\"; } || continue\n+# Check for GNU ac_path_SED and select it if it is found.\n+  # Check for GNU $ac_path_SED\n+case `\"$ac_path_SED\" --version 2>&1` in\n+*GNU*)\n+  ac_cv_path_SED=\"$ac_path_SED\" ac_path_SED_found=:;;\n+*)\n+  ac_count=0\n+  $as_echo_n 0123456789 >\"conftest.in\"\n+  while :\n+  do\n+    cat \"conftest.in\" \"conftest.in\" >\"conftest.tmp\"\n+    mv \"conftest.tmp\" \"conftest.in\"\n+    cp \"conftest.in\" \"conftest.nl\"\n+    $as_echo '' >> \"conftest.nl\"\n+    \"$ac_path_SED\" -f conftest.sed < \"conftest.nl\" >\"conftest.out\" 2>/dev/null || break\n+    diff \"conftest.out\" \"conftest.nl\" >/dev/null 2>&1 || break\n+    as_fn_arith $ac_count + 1 && ac_count=$as_val\n+    if test $ac_count -gt ${ac_path_SED_max-0}; then\n+      # Best one so far, save it but keep looking for a better one\n+      ac_cv_path_SED=\"$ac_path_SED\"\n+      ac_path_SED_max=$ac_count\n+    fi\n+    # 10*(2^10) chars as input seems more than enough\n+    test $ac_count -gt 10 && break\n+  done\n+  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\n+esac\n+\n+      $ac_path_SED_found && break 3\n+    done\n+  done\n+  done\n+IFS=$as_save_IFS\n+  if test -z \"$ac_cv_path_SED\"; then\n+    as_fn_error \"no acceptable sed could be found in \\$PATH\" \"$LINENO\" 5\n+  fi\n+else\n+  ac_cv_path_SED=$SED\n+fi\n+\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_SED\" >&5\n+$as_echo \"$ac_cv_path_SED\" >&6; }\n+ SED=\"$ac_cv_path_SED\"\n+  rm -f conftest.sed\n+\n+for ac_prog in gawk mawk nawk awk\n+do\n+  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n+set dummy $ac_prog; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if test \"${ac_cv_prog_AWK+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$AWK\"; then\n+  ac_cv_prog_AWK=\"$AWK\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n+    ac_cv_prog_AWK=\"$ac_prog\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+AWK=$ac_cv_prog_AWK\n+if test -n \"$AWK\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $AWK\" >&5\n+$as_echo \"$AWK\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+  test -n \"$AWK\" && break\n+done\n+\n \n ### we might need to use some other shell than /bin/sh for running subshells\n ### If we are on Windows, search for the shell.  This will permit people\n@@ -13793,6 +13907,7 @@ gives unlimited permission to copy, distribute and modify it.\"\n ac_pwd='$ac_pwd'\n srcdir='$srcdir'\n INSTALL='$INSTALL'\n+AWK='$AWK'\n test -n \"\\$AWK\" || AWK=awk\n _ACEOF\n "}, {"sha": "48fa58019ed02ffe886e5c2d07d7d1e84cd95232", "filename": "configure.ac", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/872642768c84f7f57477ce576bc478160c5c6236/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/872642768c84f7f57477ce576bc478160c5c6236/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=872642768c84f7f57477ce576bc478160c5c6236", "patch": "@@ -79,6 +79,8 @@ m4_pattern_allow([^AS_FOR_BUILD$])dnl\n AC_PROG_INSTALL\n ACX_PROG_LN\n AC_PROG_LN_S\n+AC_PROG_SED\n+AC_PROG_AWK\n \n ### we might need to use some other shell than /bin/sh for running subshells\n ### If we are on Windows, search for the shell.  This will permit people"}]}