{"sha": "ea333e1ceadfd7c0ecb64e47bb844cd2b5e6acc9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWEzMzNlMWNlYWRmZDdjMGVjYjY0ZTQ3YmI4NDRjZDJiNWU2YWNjOQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2000-06-22T09:27:15Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2000-06-22T09:27:15Z"}, "message": "call.c (build_x_va_arg): Check if in a template decl.\n\n\t* call.c (build_x_va_arg): Check if in a template decl.\n\t* pt.c (tsubst_copy, case VA_ARG_EXPR): Use build_x_va_arg.\n\nFrom-SVN: r34645", "tree": {"sha": "182f55c714a1b2b17ae90440176003c10de2e00d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/182f55c714a1b2b17ae90440176003c10de2e00d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea333e1ceadfd7c0ecb64e47bb844cd2b5e6acc9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea333e1ceadfd7c0ecb64e47bb844cd2b5e6acc9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea333e1ceadfd7c0ecb64e47bb844cd2b5e6acc9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea333e1ceadfd7c0ecb64e47bb844cd2b5e6acc9/comments", "author": null, "committer": null, "parents": [{"sha": "98d4b1a6fdfbc3c1a1e292da88233f9aec74c291", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98d4b1a6fdfbc3c1a1e292da88233f9aec74c291", "html_url": "https://github.com/Rust-GCC/gccrs/commit/98d4b1a6fdfbc3c1a1e292da88233f9aec74c291"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "e05c3d3fc4c21d1417e84ba5b46b5ab842af1b7a", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea333e1ceadfd7c0ecb64e47bb844cd2b5e6acc9/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea333e1ceadfd7c0ecb64e47bb844cd2b5e6acc9/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=ea333e1ceadfd7c0ecb64e47bb844cd2b5e6acc9", "patch": "@@ -1,3 +1,8 @@\n+2000-06-22  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* call.c (build_x_va_arg): Check if in a template decl.\n+\t* pt.c (tsubst_copy, case VA_ARG_EXPR): Use build_x_va_arg.\n+\n 2000-06-20  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \n \t* class.c (push_lang_context): TYPE_NAME gets you to the Java"}, {"sha": "a155f1089676d68eaa553a4b151dd0fb4c0488bc", "filename": "gcc/cp/call.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea333e1ceadfd7c0ecb64e47bb844cd2b5e6acc9/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea333e1ceadfd7c0ecb64e47bb844cd2b5e6acc9/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=ea333e1ceadfd7c0ecb64e47bb844cd2b5e6acc9", "patch": "@@ -3838,6 +3838,9 @@ build_x_va_arg (expr, type)\n      tree expr;\n      tree type;\n {\n+  if (processing_template_decl)\n+    return build_min (VA_ARG_EXPR, type, expr);\n+  \n   type = complete_type_or_else (type, NULL_TREE);\n \n   if (expr == error_mark_node || !type)"}, {"sha": "6fcc9e455be04ee34cc29f44d851f15a2100d2aa", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea333e1ceadfd7c0ecb64e47bb844cd2b5e6acc9/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea333e1ceadfd7c0ecb64e47bb844cd2b5e6acc9/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=ea333e1ceadfd7c0ecb64e47bb844cd2b5e6acc9", "patch": "@@ -7099,7 +7099,7 @@ tsubst_copy (t, args, complain, in_decl)\n       }\n \n     case VA_ARG_EXPR:\n-      return build_va_arg (tsubst_copy (TREE_OPERAND (t, 0), args, complain,\n+      return build_x_va_arg (tsubst_copy (TREE_OPERAND (t, 0), args, complain,\n \t\t\t\t\tin_decl),\n \t\t\t   tsubst (TREE_TYPE (t), args, complain, in_decl));\n "}]}