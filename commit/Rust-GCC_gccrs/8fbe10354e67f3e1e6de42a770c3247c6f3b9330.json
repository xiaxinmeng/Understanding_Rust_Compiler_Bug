{"sha": "8fbe10354e67f3e1e6de42a770c3247c6f3b9330", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGZiZTEwMzU0ZTY3ZjNlMWU2ZGU0MmE3NzBjMzI0N2M2ZjNiOTMzMA==", "commit": {"author": {"name": "Marc Lehmann", "email": "pcg@goof.com", "date": "1999-10-31T21:52:00Z"}, "committer": {"name": "Marc Lehmann", "email": "pcg@gcc.gnu.org", "date": "1999-10-31T21:52:00Z"}, "message": "toplev.c (rest_of_compilation): Seperate the setjmp/vfork clobber warning from -Wuninitialized and put it under -W.\n\nSun Oct 31 13:32:15 CET 1999  Marc Lehmann <pcg@goof.com>\n\n\t* toplev.c (rest_of_compilation): Seperate the setjmp/vfork clobber\n        warning from -Wuninitialized and put it under -W.\n        * function.c (uninitialized_vars_warning): Warn only when the\n        corresponding flag is set.\n\nFrom-SVN: r30294", "tree": {"sha": "a7db00102c8e77be3ca6732e8ed7aac1339905d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a7db00102c8e77be3ca6732e8ed7aac1339905d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8fbe10354e67f3e1e6de42a770c3247c6f3b9330", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fbe10354e67f3e1e6de42a770c3247c6f3b9330", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8fbe10354e67f3e1e6de42a770c3247c6f3b9330", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fbe10354e67f3e1e6de42a770c3247c6f3b9330/comments", "author": null, "committer": null, "parents": [{"sha": "79f5f47f761945b6d6af8cd5bbdd3956f2336ecc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79f5f47f761945b6d6af8cd5bbdd3956f2336ecc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79f5f47f761945b6d6af8cd5bbdd3956f2336ecc"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "cc4971b173b1508f3b64c309d1440f8f47ac14c8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fbe10354e67f3e1e6de42a770c3247c6f3b9330/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fbe10354e67f3e1e6de42a770c3247c6f3b9330/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8fbe10354e67f3e1e6de42a770c3247c6f3b9330", "patch": "@@ -1,3 +1,10 @@\n+Sun Oct 31 13:32:15 CET 1999  Marc Lehmann <pcg@goof.com>\n+\n+\t* toplev.c (rest_of_compilation): Seperate the setjmp/vfork clobber\n+        warning from -Wuninitialized and put it under -W.\n+        * function.c (uninitialized_vars_warning): Warn only when the\n+        corresponding flag is set.\n+\n Sun Oct 31 01:53:30 1999  Jeffrey A Law  (law@cygnus.com)\n \n \t* combine.c (combine_simplify_rtx): Renamed from simplify_rtx.  All"}, {"sha": "10a33daf84f02a00a7b820e3ded37c79268eae31", "filename": "gcc/function.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fbe10354e67f3e1e6de42a770c3247c6f3b9330/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fbe10354e67f3e1e6de42a770c3247c6f3b9330/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=8fbe10354e67f3e1e6de42a770c3247c6f3b9330", "patch": "@@ -5075,7 +5075,8 @@ uninitialized_vars_warning (block)\n   register tree decl, sub;\n   for (decl = BLOCK_VARS (block); decl; decl = TREE_CHAIN (decl))\n     {\n-      if (TREE_CODE (decl) == VAR_DECL\n+      if (warn_uninitialized\n+          && TREE_CODE (decl) == VAR_DECL\n \t  /* These warnings are unreliable for and aggregates\n \t     because assigning the fields one by one can fail to convince\n \t     flow.c that the entire aggregate was initialized.\n@@ -5094,7 +5095,8 @@ uninitialized_vars_warning (block)\n \t  && regno_uninitialized (REGNO (DECL_RTL (decl))))\n \twarning_with_decl (decl,\n \t\t\t   \"`%s' might be used uninitialized in this function\");\n-      if (TREE_CODE (decl) == VAR_DECL\n+      if (extra_warnings\n+          && TREE_CODE (decl) == VAR_DECL\n \t  && DECL_RTL (decl) != 0\n \t  && GET_CODE (DECL_RTL (decl)) == REG\n \t  && regno_clobbered_at_setjmp (REGNO (DECL_RTL (decl))))"}, {"sha": "cce00eecb957e208b4f9d3576c2a6884ce698366", "filename": "gcc/toplev.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fbe10354e67f3e1e6de42a770c3247c6f3b9330/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fbe10354e67f3e1e6de42a770c3247c6f3b9330/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=8fbe10354e67f3e1e6de42a770c3247c6f3b9330", "patch": "@@ -4010,10 +4010,11 @@ rest_of_compilation (decl)\n \t   life_analysis (insns, max_reg_num (), rtl_dump_file, 1);\n \t });\n \n-      if (warn_uninitialized)\n+      if (warn_uninitialized || extra_warnings)\n \t{\n \t  uninitialized_vars_warning (DECL_INITIAL (decl));\n-\t  setjmp_args_warning ();\n+          if (extra_warnings)\n+\t    setjmp_args_warning ();\n \t}\n     }\n "}]}