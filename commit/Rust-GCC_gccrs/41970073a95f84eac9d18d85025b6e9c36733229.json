{"sha": "41970073a95f84eac9d18d85025b6e9c36733229", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDE5NzAwNzNhOTVmODRlYWM5ZDE4ZDg1MDI1YjZlOWMzNjczMzIyOQ==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2002-06-27T10:16:50Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2002-06-27T10:16:50Z"}, "message": "configure.in (INTERFACE): Remove.\n\n\n2002-06-26  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* configure.in (INTERFACE): Remove.\n\t(release_VERSION): Remove.\n\t* acinclude.m4 (GLIBCPP_EXPORT_INSTALL_INFO): Change include placement.\n\t(libstdcxx_interface): Change. Use gcc methods to determine version.\n\t* configure: Regenerate.\n\t* aclocal.m4: Regenerate.\n\nFrom-SVN: r55028", "tree": {"sha": "ee17807d5ba164e6291e7ccb36924cf539da155f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ee17807d5ba164e6291e7ccb36924cf539da155f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/41970073a95f84eac9d18d85025b6e9c36733229", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41970073a95f84eac9d18d85025b6e9c36733229", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41970073a95f84eac9d18d85025b6e9c36733229", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41970073a95f84eac9d18d85025b6e9c36733229/comments", "author": null, "committer": null, "parents": [{"sha": "7692f832b4ad0b7cbff91a84d00d0f0b348fa0b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7692f832b4ad0b7cbff91a84d00d0f0b348fa0b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7692f832b4ad0b7cbff91a84d00d0f0b348fa0b1"}], "stats": {"total": 2494, "additions": 1241, "deletions": 1253}, "files": [{"sha": "4eed21660f03f25980b18a6b2d9996f88e182642", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=41970073a95f84eac9d18d85025b6e9c36733229", "patch": "@@ -1,3 +1,12 @@\n+2002-06-26  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* configure.in (INTERFACE): Remove.\n+\t(release_VERSION): Remove.\n+\t* acinclude.m4 (GLIBCPP_EXPORT_INSTALL_INFO): Change include placement.\n+\t(libstdcxx_interface): Change. Use gcc methods to determine version.\n+\t* configure: Regenerate.\n+\t* aclocal.m4: Regenerate.\n+\t\n 2002-06-25  DJ Delorie  <dj@redhat.com>\n \n \t* acinclude.m4 (GLIBCPP_CONFIGURE): Split out"}, {"sha": "2eb4fefa2926320d2ec9abbdba60b156cc1112c2", "filename": "libstdc++-v3/Makefile.in", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FMakefile.in?ref=41970073a95f84eac9d18d85025b6e9c36733229", "patch": "@@ -130,7 +130,6 @@ gxx_include_dir = @gxx_include_dir@\n ifGNUmake = @ifGNUmake@\n libio_la = @libio_la@\n libtool_VERSION = @libtool_VERSION@\n-release_VERSION = @release_VERSION@\n toplevel_srcdir = @toplevel_srcdir@\n \n AUTOMAKE_OPTIONS = 1.3 cygnus"}, {"sha": "69d7e4b751d49ff68591727468626da59f6e7516", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=41970073a95f84eac9d18d85025b6e9c36733229", "patch": "@@ -1809,10 +1809,6 @@ glibcpp_toolexecdir=no\n glibcpp_toolexeclibdir=no\n glibcpp_prefixdir=${prefix}\n \n-AC_MSG_CHECKING([for interface version number])\n-libstdcxx_interface=$INTERFACE\n-AC_MSG_RESULT($libstdcxx_interface)\n-\n # Process the option --with-gxx-include-dir=<path to include-files directory>\n AC_MSG_CHECKING([for --with-gxx-include-dir])\n AC_ARG_WITH(gxx-include-dir,\n@@ -1844,26 +1840,30 @@ version_specific_libs=no)dnl\n # Option set, now we can test it.\n AC_MSG_RESULT($version_specific_libs)\n \n+# Get the gcc version number. This is lifted from gcc/configure.in\n+AC_MSG_CHECKING([for gcc version number])\n+changequote(,)dnl\n+gcc_version_trigger=${srcdir}/../gcc/version.c\n+gcc_version_full=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([^\\\"]*\\)\\\".*/\\1/'`\n+gcc_version=`echo ${gcc_version_full} | sed -e 's/\\([^ ]*\\) .*/\\1/'`\n+changequote([,])dnl\n+AC_MSG_RESULT($gcc_version)\n+\n+# Default case for install directory for include files.\n+if test $version_specific_libs = no && test $gxx_include_dir = no; then\n+  gxx_include_dir='$(prefix)'/include/c++/${gcc_version}\n+fi\n+\n+# Version-specific runtime libs processing.\n if test $version_specific_libs = yes; then\n   # Need the gcc compiler version to know where to install libraries\n   # and header files if --enable-version-specific-runtime-libs option\n   # is selected.\n-  changequote(,)dnl\n-  gcc_version_trigger=${srcdir}/../gcc/version.c\n-  gcc_version_full=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([^\\\"]*\\)\\\".*/\\1/'`\n-  gcc_version=`echo ${gcc_version_full} | sed -e 's/\\([^ ]*\\) .*/\\1/'`\n   if test x\"$gxx_include_dir\" = x\"no\"; then\n-    gxx_include_dir='$(libdir)/gcc-lib/$(target_alias)/'${gcc_version}/include/g++\n+    gxx_include_dir='$(libdir)/gcc-lib/$(target_alias)/'${gcc_version}/include/c++\n   fi\n   glibcpp_toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n   glibcpp_toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n-  changequote([,])dnl\n-fi\n-\n-# Default case for install directory for include files.\n-if test $version_specific_libs = no &&\n-   test $gxx_include_dir = no; then\n-  gxx_include_dir='$(prefix)'/include/g++-${libstdcxx_interface}\n fi\n \n # Calculate glibcpp_toolexecdir, glibcpp_toolexeclibdir"}, {"sha": "240edabbb240fe33c8a3a4a8b58cd44aa5fbfa02", "filename": "libstdc++-v3/aclocal.m4", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Faclocal.m4?ref=41970073a95f84eac9d18d85025b6e9c36733229", "patch": "@@ -1821,10 +1821,6 @@ glibcpp_toolexecdir=no\n glibcpp_toolexeclibdir=no\n glibcpp_prefixdir=${prefix}\n \n-AC_MSG_CHECKING([for interface version number])\n-libstdcxx_interface=$INTERFACE\n-AC_MSG_RESULT($libstdcxx_interface)\n-\n # Process the option --with-gxx-include-dir=<path to include-files directory>\n AC_MSG_CHECKING([for --with-gxx-include-dir])\n AC_ARG_WITH(gxx-include-dir,\n@@ -1856,26 +1852,30 @@ version_specific_libs=no)dnl\n # Option set, now we can test it.\n AC_MSG_RESULT($version_specific_libs)\n \n+# Get the gcc version number. This is lifted from gcc/configure.in\n+AC_MSG_CHECKING([for gcc version number])\n+changequote(,)dnl\n+gcc_version_trigger=${srcdir}/../gcc/version.c\n+gcc_version_full=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([^\\\"]*\\)\\\".*/\\1/'`\n+gcc_version=`echo ${gcc_version_full} | sed -e 's/\\([^ ]*\\) .*/\\1/'`\n+changequote([,])dnl\n+AC_MSG_RESULT($gcc_version)\n+\n+# Default case for install directory for include files.\n+if test $version_specific_libs = no && test $gxx_include_dir = no; then\n+  gxx_include_dir='$(prefix)'/include/c++/${gcc_version}\n+fi\n+\n+# Version-specific runtime libs processing.\n if test $version_specific_libs = yes; then\n   # Need the gcc compiler version to know where to install libraries\n   # and header files if --enable-version-specific-runtime-libs option\n   # is selected.\n-  changequote(,)dnl\n-  gcc_version_trigger=${srcdir}/../gcc/version.c\n-  gcc_version_full=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([^\\\"]*\\)\\\".*/\\1/'`\n-  gcc_version=`echo ${gcc_version_full} | sed -e 's/\\([^ ]*\\) .*/\\1/'`\n   if test x\"$gxx_include_dir\" = x\"no\"; then\n-    gxx_include_dir='$(libdir)/gcc-lib/$(target_alias)/'${gcc_version}/include/g++\n+    gxx_include_dir='$(libdir)/gcc-lib/$(target_alias)/'${gcc_version}/include/c++\n   fi\n   glibcpp_toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n   glibcpp_toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n-  changequote([,])dnl\n-fi\n-\n-# Default case for install directory for include files.\n-if test $version_specific_libs = no &&\n-   test $gxx_include_dir = no; then\n-  gxx_include_dir='$(prefix)'/include/g++-${libstdcxx_interface}\n fi\n \n # Calculate glibcpp_toolexecdir, glibcpp_toolexeclibdir"}, {"sha": "f6fa8264809f6b126bfabe32dba9158a9bf39bbc", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 1200, "deletions": 1207, "changes": 2407, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=41970073a95f84eac9d18d85025b6e9c36733229"}, {"sha": "0cda1e1ac3a4ecb6eee02aaf65cfa7c9708e1a0d", "filename": "libstdc++-v3/configure.in", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.in?ref=41970073a95f84eac9d18d85025b6e9c36733229", "patch": "@@ -12,9 +12,6 @@ ORIGINAL_LD_FOR_MULTILIBS=$LD\n \n PACKAGE=libstdc++\n AC_SUBST(PACKAGE)\n-# For typical GNU versioning info, format is MAJOR.MINOR.MICRO\n-release_VERSION=3.1.1\n-AC_SUBST(release_VERSION)\n # For libtool versioning info, format is CURRENT:REVISION:AGE\n libtool_VERSION=4:1:0\n AC_SUBST(libtool_VERSION)\n@@ -378,9 +375,6 @@ else\n   multilib_arg=\n fi\n \n-# Needed so that g++ can find the correct include subdir automatically.\n-INTERFACE=v3\n-\n # Export all the install information\n GLIBCPP_EXPORT_INSTALL_INFO\n "}, {"sha": "a7ba9d5abbe4290c622849b5958de613e1b19b92", "filename": "libstdc++-v3/include/Makefile.in", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2FMakefile.in?ref=41970073a95f84eac9d18d85025b6e9c36733229", "patch": "@@ -125,7 +125,6 @@ glibcpp_toolexeclibdir = @glibcpp_toolexeclibdir@\n ifGNUmake = @ifGNUmake@\n libio_la = @libio_la@\n libtool_VERSION = @libtool_VERSION@\n-release_VERSION = @release_VERSION@\n toplevel_srcdir = @toplevel_srcdir@\n \n AUTOMAKE_OPTIONS = 1.3 cygnus"}, {"sha": "bd23bb3b915324f62b9cb053d0b8814d33bfc89c", "filename": "libstdc++-v3/libio/Makefile.in", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Flibio%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Flibio%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibio%2FMakefile.in?ref=41970073a95f84eac9d18d85025b6e9c36733229", "patch": "@@ -127,7 +127,6 @@ gxx_include_dir = @gxx_include_dir@\n ifGNUmake = @ifGNUmake@\n libio_la = @libio_la@\n libtool_VERSION = @libtool_VERSION@\n-release_VERSION = @release_VERSION@\n toplevel_srcdir = @toplevel_srcdir@\n \n AUTOMAKE_OPTIONS = 1.3 cygnus"}, {"sha": "4398785045b16f89bf3f07e90c4e1751e3d7916b", "filename": "libstdc++-v3/libmath/Makefile.in", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Flibmath%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Flibmath%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibmath%2FMakefile.in?ref=41970073a95f84eac9d18d85025b6e9c36733229", "patch": "@@ -129,7 +129,6 @@ gxx_include_dir = @gxx_include_dir@\n ifGNUmake = @ifGNUmake@\n libio_la = @libio_la@\n libtool_VERSION = @libtool_VERSION@\n-release_VERSION = @release_VERSION@\n toplevel_srcdir = @toplevel_srcdir@\n \n AUTOMAKE_OPTIONS = 1.3 cygnus"}, {"sha": "bdd4e8fb75916ce7f6538ab7dea50940e5727b93", "filename": "libstdc++-v3/libsupc++/Makefile.in", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2FMakefile.in?ref=41970073a95f84eac9d18d85025b6e9c36733229", "patch": "@@ -125,7 +125,6 @@ gxx_include_dir = @gxx_include_dir@\n ifGNUmake = @ifGNUmake@\n libio_la = @libio_la@\n libtool_VERSION = @libtool_VERSION@\n-release_VERSION = @release_VERSION@\n toplevel_srcdir = @toplevel_srcdir@\n \n AUTOMAKE_OPTIONS = 1.3 cygnus"}, {"sha": "52b16314d93d89625e14eac53e745d9fc15d893c", "filename": "libstdc++-v3/po/Makefile.in", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Fpo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Fpo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fpo%2FMakefile.in?ref=41970073a95f84eac9d18d85025b6e9c36733229", "patch": "@@ -129,7 +129,6 @@ gxx_include_dir = @gxx_include_dir@\n ifGNUmake = @ifGNUmake@\n libio_la = @libio_la@\n libtool_VERSION = @libtool_VERSION@\n-release_VERSION = @release_VERSION@\n toplevel_srcdir = @toplevel_srcdir@\n \n PACKAGE = @PACKAGE@"}, {"sha": "585c861fd716c8ed6211e8c820cf80e57b7950ce", "filename": "libstdc++-v3/src/Makefile.in", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in?ref=41970073a95f84eac9d18d85025b6e9c36733229", "patch": "@@ -122,7 +122,6 @@ gxx_include_dir = @gxx_include_dir@\n ifGNUmake = @ifGNUmake@\n libio_la = @libio_la@\n libtool_VERSION = @libtool_VERSION@\n-release_VERSION = @release_VERSION@\n toplevel_srcdir = @toplevel_srcdir@\n \n AUTOMAKE_OPTIONS = 1.3 cygnus"}, {"sha": "98ef142736953a17cb034163d55e22304b82b42e", "filename": "libstdc++-v3/testsuite/Makefile.in", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41970073a95f84eac9d18d85025b6e9c36733229/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in?ref=41970073a95f84eac9d18d85025b6e9c36733229", "patch": "@@ -129,7 +129,6 @@ gxx_include_dir = @gxx_include_dir@\n ifGNUmake = @ifGNUmake@\n libio_la = @libio_la@\n libtool_VERSION = @libtool_VERSION@\n-release_VERSION = @release_VERSION@\n toplevel_srcdir = @toplevel_srcdir@\n \n AUTOMAKE_OPTIONS = cygnus dejagnu"}]}