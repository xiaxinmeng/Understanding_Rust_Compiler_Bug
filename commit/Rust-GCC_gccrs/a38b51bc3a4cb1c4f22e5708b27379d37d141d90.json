{"sha": "a38b51bc3a4cb1c4f22e5708b27379d37d141d90", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTM4YjUxYmMzYTRjYjFjNGYyMmU1NzA4YjI3Mzc5ZDM3ZDE0MWQ5MA==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2019-08-06T15:57:51Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2019-08-06T15:57:51Z"}, "message": "Specialize std::numbers constants for __float128\n\n\t* include/std/numbers [!__STRICT_ANSI__ && _GLIBCXX_USE_FLOAT128]\n\t(e_v, log2e_v, log10e_v, pi_v, inv_pi_v, inv_sqrtpi_v, ln2_v, ln10_v)\n\t(sqrt2_v, sqrt3_v, inv_sqrt3, egamma_v, phi_v): Add explicit\n\tspecializations for __float128.\n\t* testsuite/26_numerics/numbers/float128.cc: New test.\n\nFrom-SVN: r274145", "tree": {"sha": "e95a4149bb2a6194978850163db57504bd89bb97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e95a4149bb2a6194978850163db57504bd89bb97"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a38b51bc3a4cb1c4f22e5708b27379d37d141d90", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a38b51bc3a4cb1c4f22e5708b27379d37d141d90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a38b51bc3a4cb1c4f22e5708b27379d37d141d90", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a38b51bc3a4cb1c4f22e5708b27379d37d141d90/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1934e97d5160b4d5039bdcb13953c4813a64a9f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1934e97d5160b4d5039bdcb13953c4813a64a9f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1934e97d5160b4d5039bdcb13953c4813a64a9f8"}], "stats": {"total": 115, "additions": 115, "deletions": 0}, "files": [{"sha": "7173b90f0e641b7a3a1e33c9fbe63b038788b392", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a38b51bc3a4cb1c4f22e5708b27379d37d141d90/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a38b51bc3a4cb1c4f22e5708b27379d37d141d90/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=a38b51bc3a4cb1c4f22e5708b27379d37d141d90", "patch": "@@ -1,3 +1,11 @@\n+2019-08-06  Jonathan Wakely  <jwakely@redhat.com>\n+\n+\t* include/std/numbers [!__STRICT_ANSI__ && _GLIBCXX_USE_FLOAT128]\n+\t(e_v, log2e_v, log10e_v, pi_v, inv_pi_v, inv_sqrtpi_v, ln2_v, ln10_v)\n+\t(sqrt2_v, sqrt3_v, inv_sqrt3, egamma_v, phi_v): Add explicit\n+\tspecializations for __float128.\n+\t* testsuite/26_numerics/numbers/float128.cc: New test.\n+\n 2019-08-04  Gerald Pfeifer  <gerald@pfeifer.com>\n \n \t* doc/xml/manual/documentation_hacking.xml: doxygen.org is now"}, {"sha": "314b130fbd5f3ad47bee7281030b68ac9cefa46e", "filename": "libstdc++-v3/include/std/numbers", "status": "modified", "additions": 66, "deletions": 0, "changes": 66, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a38b51bc3a4cb1c4f22e5708b27379d37d141d90/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fnumbers", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a38b51bc3a4cb1c4f22e5708b27379d37d141d90/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fnumbers", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fnumbers?ref=a38b51bc3a4cb1c4f22e5708b27379d37d141d90", "patch": "@@ -133,6 +133,72 @@ namespace numbers\n   inline constexpr double egamma = egamma_v<double>;\n   inline constexpr double phi = phi_v<double>;\n \n+#if !defined(__STRICT_ANSI__) && defined(_GLIBCXX_USE_FLOAT128)\n+  template<>\n+    inline constexpr __float128 e_v<__float128>\n+      = 2.718281828459045235360287471352662498Q;\n+\n+  /// log_2 e\n+  template<>\n+    inline constexpr __float128 log2e_v<__float128>\n+      = 1.442695040888963407359924681001892137Q;\n+\n+  /// log_10 e\n+  template<>\n+    inline constexpr __float128 log10e_v<__float128>\n+      = 0.434294481903251827651128918916605082Q;\n+\n+  /// pi\n+  template<>\n+    inline constexpr __float128 pi_v<__float128>\n+      = 3.141592653589793238462643383279502884Q;\n+\n+  /// 1/pi\n+  template<>\n+    inline constexpr __float128 inv_pi_v<__float128>\n+      = 0.318309886183790671537767526745028724Q;\n+\n+  /// 1/sqrt(pi)\n+  template<>\n+    inline constexpr __float128 inv_sqrtpi_v<__float128>\n+      = 0.564189583547756286948079451560772586Q;\n+\n+  /// log_e 2\n+  template<>\n+    inline constexpr __float128 ln2_v<__float128>\n+      = 0.693147180559945309417232121458176568Q;\n+\n+  /// log_e 10\n+  template<>\n+    inline constexpr __float128 ln10_v<__float128>\n+      = 2.302585092994045684017991454684364208Q;\n+\n+  /// sqrt(2)\n+  template<>\n+    inline constexpr __float128 sqrt2_v<__float128>\n+      = 1.414213562373095048801688724209698079Q;\n+\n+  /// sqrt(3)\n+  template<>\n+    inline constexpr __float128 sqrt3_v<__float128>\n+      = 1.732050807568877293527446341505872367Q;\n+\n+  /// 1/sqrt(3)\n+  template<>\n+    inline constexpr __float128 inv_sqrt3_v<__float128>\n+      = 0.577350269189625764509148780501957456Q;\n+\n+  /// The Euler-Mascheroni constant\n+  template<>\n+    inline constexpr __float128 egamma_v<__float128>\n+      = 0.577215664901532860606512090082402431Q;\n+\n+  /// The golden ratio, (1+sqrt(5))/2\n+  template<>\n+    inline constexpr __float128 phi_v<__float128>\n+      = 1.618033988749894848204586834365638118Q;\n+#endif // USE_FLOAT128\n+\n } // namespace numbers\n /// @}\n _GLIBCXX_END_NAMESPACE_VERSION"}, {"sha": "2d9dafcd4821a0c377773dfb7eb2f83926cd0e12", "filename": "libstdc++-v3/testsuite/26_numerics/numbers/float128.cc", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a38b51bc3a4cb1c4f22e5708b27379d37d141d90/libstdc%2B%2B-v3%2Ftestsuite%2F26_numerics%2Fnumbers%2Ffloat128.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a38b51bc3a4cb1c4f22e5708b27379d37d141d90/libstdc%2B%2B-v3%2Ftestsuite%2F26_numerics%2Fnumbers%2Ffloat128.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F26_numerics%2Fnumbers%2Ffloat128.cc?ref=a38b51bc3a4cb1c4f22e5708b27379d37d141d90", "patch": "@@ -0,0 +1,41 @@\n+// Copyright (C) 2019 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 3, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING3.  If not see\n+// <http://www.gnu.org/licenses/>.\n+\n+// { dg-options \"-std=gnu++2a\" }\n+// { dg-do compile { target c++2a } }\n+\n+#include <numbers>\n+\n+#if defined(_GLIBCXX_USE_FLOAT128)\n+void\n+test01()\n+{\n+  const __float128* d1  = &std::numbers::e_v<__float128>;\n+  const __float128* d2  = &std::numbers::log2e_v<__float128>;\n+  const __float128* d3  = &std::numbers::log10e_v<__float128>;\n+  const __float128* d4  = &std::numbers::pi_v<__float128>;\n+  const __float128* d5  = &std::numbers::inv_pi_v<__float128>;\n+  const __float128* d6  = &std::numbers::inv_sqrtpi_v<__float128>;\n+  const __float128* d7  = &std::numbers::ln2_v<__float128>;\n+  const __float128* d8  = &std::numbers::ln10_v<__float128>;\n+  const __float128* d9  = &std::numbers::sqrt2_v<__float128>;\n+  const __float128* d10 = &std::numbers::sqrt3_v<__float128>;\n+  const __float128* d11 = &std::numbers::inv_sqrt3_v<__float128>;\n+  const __float128* d12 = &std::numbers::egamma_v<__float128>;\n+  const __float128* d13 = &std::numbers::phi_v<__float128>;\n+}\n+#endif"}]}