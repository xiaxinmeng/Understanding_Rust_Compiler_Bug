{"sha": "94f420183c391d8e8089fbe9bbefff61f573f773", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTRmNDIwMTgzYzM5MWQ4ZTgwODlmYmU5YmJlZmZmNjFmNTczZjc3Mw==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1997-07-22T16:25:40Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1997-07-22T16:25:40Z"}, "message": "configure.in (host_overrides): Set to Make-host.\n\n\t* configure.in (host_overrides): Set to Make-host.\n\t(dep_host_xmakefile): Loop over all elements in host_make_file.\n\t(target_overrides): Set to Make-target.\n\t(dep_tmake_file):  Loop over all elements in tmake_file.\n\t(configure.frag): Pass dep_host_xmake_file, dep_tmake_file.\n\nFrom-SVN: r14516", "tree": {"sha": "755200065ee3af1bfe9ecd023e5f0203b01b2d8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/755200065ee3af1bfe9ecd023e5f0203b01b2d8d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/94f420183c391d8e8089fbe9bbefff61f573f773", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94f420183c391d8e8089fbe9bbefff61f573f773", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94f420183c391d8e8089fbe9bbefff61f573f773", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94f420183c391d8e8089fbe9bbefff61f573f773/comments", "author": null, "committer": null, "parents": [{"sha": "d232dfa451bd52b3a29d534a03ffb9164e5adbc1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d232dfa451bd52b3a29d534a03ffb9164e5adbc1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d232dfa451bd52b3a29d534a03ffb9164e5adbc1"}], "stats": {"total": 36, "additions": 22, "deletions": 14}, "files": [{"sha": "ffc87acb6b415cebbb7b438ef174d41596943a67", "filename": "gcc/configure.in", "status": "modified", "additions": 22, "deletions": 14, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/94f420183c391d8e8089fbe9bbefff61f573f773/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/94f420183c391d8e8089fbe9bbefff61f573f773/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=94f420183c391d8e8089fbe9bbefff61f573f773", "patch": "@@ -2753,22 +2753,30 @@ topdir=`pwd`\n cd $holddir\n \n # Conditionalize the makefile for this host machine.\n-host_overrides=/dev/null\n+# Make-host contains the concatenation of all host makefile fragments\n+# [there can be more than one].  This file is built by configure.frag.\n+host_overrides=Make-host\n dep_host_xmake_file=\n-if [[ x\"$host_xmake_file\" != x -a -f ${srcdir}/config/$host_xmake_file ]]\n-then\n-\thost_overrides=$srcdir/config/$host_xmake_file\n-\tdep_host_xmake_file=\"\\$(srcdir)/config/$host_xmake_file\"\n-fi\n+for f in .. ${host_xmake_file}\n+do\n+\tif [[ -f ${srcdir}/config/$f ]]\n+\tthen\n+\t\tdep_host_xmake_file=\"${dep_host_xmake_file} ${srcdir}/config/$f\"\n+\tfi\n+done\n \n # Conditionalize the makefile for this target machine.\n-target_overrides=/dev/null\n+# Make-target contains the concatenation of all host makefile fragments\n+# [there can be more than one].  This file is built by configure.frag.\n+target_overrides=Make-target\n dep_tmake_file=\n-if [[ x\"$tmake_file\" != x -a -f ${srcdir}/config/$tmake_file ]]\n-then\n-\ttarget_overrides=$srcdir/config/$tmake_file\n-\tdep_tmake_file=\"\\$(srcdir)/config/$tmake_file\"\n-fi\n+for f in .. ${tmake_file}\n+do\n+\tif [[ -f ${srcdir}/config/$f ]]\n+\tthen\n+\t\tdep_tmake_file=\"${dep_tmake_file} ${srcdir}/config/$f\"\n+\tfi\n+done\n \n # If the host doesn't support symlinks, modify CC in\n # FLAGS_TO_PASS so CC=\"stage1/xgcc -Bstage1/\" works.\n@@ -2982,8 +2990,8 @@ do\n \techo \"lang.$t: $x\" >> Make-hooks\n done\n \n-# Process the language fragments\n-${CONFIG_SHELL-/bin/sh} $srcdir/configure.frag $srcdir \"$subdirs\"\n+# Process the language and host/target makefile fragments.\n+${CONFIG_SHELL-/bin/sh} $srcdir/configure.frag $srcdir \"$subdirs\" \"$dep_host_xmake_file\" \"$dep_tmake_file\"\n \n # Substitute configuration variables\n AC_SUBST(subdirs)"}]}