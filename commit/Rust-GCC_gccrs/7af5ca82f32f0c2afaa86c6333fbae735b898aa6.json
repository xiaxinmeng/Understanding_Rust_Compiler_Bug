{"sha": "7af5ca82f32f0c2afaa86c6333fbae735b898aa6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2FmNWNhODJmMzJmMGMyYWZhYTg2YzYzMzNmYmFlNzM1Yjg5OGFhNg==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2001-02-01T19:15:06Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2001-02-01T19:15:06Z"}, "message": "* gcc.dg/cpp/avoidpaste2.c: New tests.\n\nFrom-SVN: r39394", "tree": {"sha": "eefba2d110db9d4b965560e16894480fd3e6f999", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eefba2d110db9d4b965560e16894480fd3e6f999"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7af5ca82f32f0c2afaa86c6333fbae735b898aa6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7af5ca82f32f0c2afaa86c6333fbae735b898aa6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7af5ca82f32f0c2afaa86c6333fbae735b898aa6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7af5ca82f32f0c2afaa86c6333fbae735b898aa6/comments", "author": null, "committer": null, "parents": [{"sha": "bd9697727ba8f11b7015a5e7e4ab20cd172ddc81", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd9697727ba8f11b7015a5e7e4ab20cd172ddc81", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd9697727ba8f11b7015a5e7e4ab20cd172ddc81"}], "stats": {"total": 39, "additions": 39, "deletions": 0}, "files": [{"sha": "c00497e1588eb799202e675cb4a763b5d2c4aa64", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7af5ca82f32f0c2afaa86c6333fbae735b898aa6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7af5ca82f32f0c2afaa86c6333fbae735b898aa6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7af5ca82f32f0c2afaa86c6333fbae735b898aa6", "patch": "@@ -1,3 +1,7 @@\n+2001-02-01  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+        * gcc.dg/cpp/avoidpaste2.c: New tests.\n+\n 2001-01-31  Jakub Jelinek  <jakub@redhat.com>\n \n \t* gcc.dg/gnu99-init-1.c: Add test for [0 ... 0] range."}, {"sha": "5094e3d92d9df76eedda31c1c055c9ea0cf39459", "filename": "gcc/testsuite/gcc.dg/cpp/avoidpaste2.c", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7af5ca82f32f0c2afaa86c6333fbae735b898aa6/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Favoidpaste2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7af5ca82f32f0c2afaa86c6333fbae735b898aa6/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Favoidpaste2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Favoidpaste2.c?ref=7af5ca82f32f0c2afaa86c6333fbae735b898aa6", "patch": "@@ -0,0 +1,35 @@\n+/* Copyright (C) 2001 Free Software Foundation, Inc.  */\n+\n+/* { dg-do preprocess } */\n+\n+/* This tests that we avoid accidental pasting, as well as gratuitous\n+   space insertion, in various nasty places _inside_ a macro's\n+   replacement list: on either side of a paste, and on either side of\n+   an argument.  It also tests that we don't pass empty macro leading\n+   whitespace to the next line - this problem use to break Emacs\n+   preprocessor abuse.\n+\n+   Neil Booth, 1 Feb 2001.  */\n+\n+#define EMPTY_WITH_LEADING_SPACE\n+#define f(x, y) :x: -y##> -##y>\n+#define g(x, y) :x: :y##2 2##y:\n+\n+/* This should preprocess as\n+\n+: : : - > - >\n+:2: :22 22:\n+\n+We used to get a space at the start of the line.  */\n+\n+ EMPTY_WITH_LEADING_SPACE\n+f(:,) \n+g(2, 2)\n+\n+/*\n+   { dg-final { if ![file exists avoidpaste2.i] { return }                } }\n+   { dg-final { if { [grep avoidpaste2.i \"^: : : - > - >\"] != \"\" } \\{     } }\n+   { dg-final { if { [grep avoidpaste2.i \"^:2: :22 22:\"] != \"\" }   \\{     } }\n+   { dg-final { return \\} \\}                                              } }\n+   { dg-final { fail \"avoidpaste2.c: paste avoidance\"                     } }\n+*/"}]}