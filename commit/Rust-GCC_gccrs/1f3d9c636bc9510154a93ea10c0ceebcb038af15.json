{"sha": "1f3d9c636bc9510154a93ea10c0ceebcb038af15", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWYzZDljNjM2YmM5NTEwMTU0YTkzZWExMGMwY2VlYmNiMDM4YWYxNQ==", "commit": {"author": {"name": "Dave Brolley", "email": "brolley@cygnus.com", "date": "1998-10-16T12:40:02Z"}, "committer": {"name": "Dave Brolley", "email": "brolley@gcc.gnu.org", "date": "1998-10-16T12:40:02Z"}, "message": "c-lex.c (yylex): Fix unaligned access of wchar_t.\n\nFri Oct 16 15:26:24 1998  Dave Brolley  <brolley@cygnus.com>\n        * c-lex.c (yylex): Fix unaligned access of wchar_t.\n\nFrom-SVN: r23133", "tree": {"sha": "d7d8a02fd213f47e71c495dcf72417b03db0a277", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d7d8a02fd213f47e71c495dcf72417b03db0a277"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f3d9c636bc9510154a93ea10c0ceebcb038af15", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f3d9c636bc9510154a93ea10c0ceebcb038af15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f3d9c636bc9510154a93ea10c0ceebcb038af15", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f3d9c636bc9510154a93ea10c0ceebcb038af15/comments", "author": null, "committer": null, "parents": [{"sha": "6b4b3deb4e4f5f7c8a5aab44b6907d006d78ac96", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b4b3deb4e4f5f7c8a5aab44b6907d006d78ac96", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b4b3deb4e4f5f7c8a5aab44b6907d006d78ac96"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "dd152b9114fb3a7c5a1c06c557d2a85822db559d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f3d9c636bc9510154a93ea10c0ceebcb038af15/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f3d9c636bc9510154a93ea10c0ceebcb038af15/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1f3d9c636bc9510154a93ea10c0ceebcb038af15", "patch": "@@ -1,3 +1,7 @@\n+Fri Oct 16 15:26:24 1998  Dave Brolley  <brolley@cygnus.com>\n+\n+        * c-lex.c (yylex): Fix unaligned access of wchar_t.\n+\n Fri Oct 16 10:47:53 1998  Nick Clifton  <nickc@cygnus.com>\n \n \t* config/arm/arm.h (TARGET_SWITCHES): Add --help documentation."}, {"sha": "6c0d29f7889e38e239b9774fc6d45b7dbbaa0e92", "filename": "gcc/c-lex.c", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f3d9c636bc9510154a93ea10c0ceebcb038af15/gcc%2Fc-lex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f3d9c636bc9510154a93ea10c0ceebcb038af15/gcc%2Fc-lex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-lex.c?ref=1f3d9c636bc9510154a93ea10c0ceebcb038af15", "patch": "@@ -2036,15 +2036,13 @@ yylex ()\n \t\t    /* mbtowc sometimes needs an extra char before accepting */\n \t\t    if (char_len <= i)\n \t\t      UNGETC (c);\n-\t\t    if (wide_flag)\n+\t\t    if (! wide_flag)\n \t\t      {\n-\t\t\t*(wchar_t *)p = wc;\n-\t\t\tp += sizeof (wc);\n+\t\t\tp += (i + 1);\n+\t\t\tc = GETC ();\n+\t\t\tcontinue;\n \t\t      }\n-\t\t    else\n-\t\t      p += (i + 1);\n-\t\t    c = GETC ();\n-\t\t    continue;\n+\t\t    c = wc;\n \t\t  }\n #endif /* MULTIBYTE_CHARS */\n \t      }"}]}