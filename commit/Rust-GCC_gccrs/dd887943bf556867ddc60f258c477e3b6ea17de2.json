{"sha": "dd887943bf556867ddc60f258c477e3b6ea17de2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGQ4ODc5NDNiZjU1Njg2N2RkYzYwZjI1OGM0NzdlM2I2ZWExN2RlMg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2012-01-31T10:06:50Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2012-01-31T10:06:50Z"}, "message": "re PR bootstrap/52041 (Bootstrap failure at revision 183650 with --enable-checking=release)\n\n\tPR bootstrap/52041\n\tPR bootstrap/52039\n\tPR target/51974\n\t* ipa-prop.c (detect_type_change_1): Call ao_ref_init.\n\nFrom-SVN: r183753", "tree": {"sha": "51a13d4bc70d75bf5fcf85b68b6d572550fe93dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/51a13d4bc70d75bf5fcf85b68b6d572550fe93dc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd887943bf556867ddc60f258c477e3b6ea17de2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd887943bf556867ddc60f258c477e3b6ea17de2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd887943bf556867ddc60f258c477e3b6ea17de2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd887943bf556867ddc60f258c477e3b6ea17de2/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "63d7ceaaba06f2b35d82e1e62fc9b8f2fe474857", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63d7ceaaba06f2b35d82e1e62fc9b8f2fe474857", "html_url": "https://github.com/Rust-GCC/gccrs/commit/63d7ceaaba06f2b35d82e1e62fc9b8f2fe474857"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "661583f84cafb534731a97eb8c88321b28cac6ee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd887943bf556867ddc60f258c477e3b6ea17de2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd887943bf556867ddc60f258c477e3b6ea17de2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dd887943bf556867ddc60f258c477e3b6ea17de2", "patch": "@@ -1,3 +1,10 @@\n+2012-01-31  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR bootstrap/52041\n+\tPR bootstrap/52039\n+\tPR target/51974\n+\t* ipa-prop.c (detect_type_change_1): Call ao_ref_init.\n+\n 2012-01-31  Richard Guenther  <rguenther@suse.de>\n \n \tPR tree-optimization/51528"}, {"sha": "6d76adbbfb6618b0b3b1b013ea1b097baebc5946", "filename": "gcc/ipa-prop.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd887943bf556867ddc60f258c477e3b6ea17de2/gcc%2Fipa-prop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd887943bf556867ddc60f258c477e3b6ea17de2/gcc%2Fipa-prop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-prop.c?ref=dd887943bf556867ddc60f258c477e3b6ea17de2", "patch": "@@ -1,5 +1,5 @@\n /* Interprocedural analyses.\n-   Copyright (C) 2005, 2007, 2008, 2009, 2010, 2011\n+   Copyright (C) 2005, 2007, 2008, 2009, 2010, 2011, 2012\n    Free Software Foundation, Inc.\n \n This file is part of GCC.\n@@ -442,13 +442,11 @@ detect_type_change_1 (tree arg, tree base, tree comp_type, gimple call,\n   if (!flag_devirtualize || !gimple_vuse (call))\n     return false;\n \n-  ao.ref = arg;\n+  ao_ref_init (&ao, arg);\n   ao.base = base;\n   ao.offset = offset;\n   ao.size = POINTER_SIZE;\n   ao.max_size = ao.size;\n-  ao.ref_alias_set = -1;\n-  ao.base_alias_set = -1;\n \n   tci.offset = offset;\n   tci.object = get_base_address (arg);"}]}