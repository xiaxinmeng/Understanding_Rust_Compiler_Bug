{"sha": "935a74eea21a6f4a7d8eec67de92fb3325181279", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTM1YTc0ZWVhMjFhNmY0YTdkOGVlYzY3ZGU5MmZiMzMyNTE4MTI3OQ==", "commit": {"author": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2012-03-09T19:51:54Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2012-03-09T19:51:54Z"}, "message": "aix_closure.S (ffi_closure_ASM): Adjust for Darwin64 change to return value of ffi_closure_helper_DARWIN and...\n\n        * src/powerpc/aix_closure.S (ffi_closure_ASM): Adjust for Darwin64\n        change to return value of ffi_closure_helper_DARWIN and load type\n        from return type.\n\nFrom-SVN: r185152", "tree": {"sha": "53803eed9247f545eaea6677e149e3bb42ba114e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/53803eed9247f545eaea6677e149e3bb42ba114e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/935a74eea21a6f4a7d8eec67de92fb3325181279", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/935a74eea21a6f4a7d8eec67de92fb3325181279", "html_url": "https://github.com/Rust-GCC/gccrs/commit/935a74eea21a6f4a7d8eec67de92fb3325181279", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/935a74eea21a6f4a7d8eec67de92fb3325181279/comments", "author": null, "committer": null, "parents": [{"sha": "f09805bbc5966723ef1922f8714d1b04931ab9d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f09805bbc5966723ef1922f8714d1b04931ab9d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f09805bbc5966723ef1922f8714d1b04931ab9d9"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "aabd3c3c1eedf9749bc19c68d741b87084ca1f48", "filename": "libffi/src/powerpc/aix_closure.S", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/935a74eea21a6f4a7d8eec67de92fb3325181279/libffi%2Fsrc%2Fpowerpc%2Faix_closure.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/935a74eea21a6f4a7d8eec67de92fb3325181279/libffi%2Fsrc%2Fpowerpc%2Faix_closure.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fsrc%2Fpowerpc%2Faix_closure.S?ref=935a74eea21a6f4a7d8eec67de92fb3325181279", "patch": "@@ -167,6 +167,7 @@ ffi_closure_ASM:\n \n \t/* look up the proper starting point in table  */\n \t/* by using return type as offset */\n+\tlhz\tr3, 10(r3)\t/* load type from return type */\n \tld\tr4, LC..60(2)\t/* get address of jump table */\n \tsldi\tr3, r3, 4\t/* now multiply return type by 16 */\n \tld\tr0, 240+16(r1)\t/* load return address */\n@@ -339,8 +340,9 @@ L..finish:\n \n \t/* look up the proper starting point in table  */\n \t/* by using return type as offset */\n+\tlhz\tr3, 6(r3)\t/* load type from return type */\n \tlwz\tr4, LC..60(2)\t/* get address of jump table */\n-\tslwi\tr3, r3, 4\t/* now multiply return type by 4 */\n+\tslwi\tr3, r3, 4\t/* now multiply return type by 16 */\n \tlwz\tr0, 176+8(r1)\t/* load return address */\n \tadd\tr3, r3, r4\t/* add contents of table to table address */\n \tmtctr\tr3"}]}