{"sha": "2e23a5b3e31719d23e38279b814d9e8688a29128", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmUyM2E1YjNlMzE3MTlkMjNlMzgyNzliODE0ZDllODY4OGEyOTEyOA==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2007-10-17T17:09:58Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2007-10-17T17:09:58Z"}, "message": "re PR middle-end/33794 (Wrong code w/ -ffast-math)\n\n        PR middle-end/33794\n        * gfortran.dg/pr33794.f90: New testcase.\n\n\nCo-Authored-By: Francois-Xavier Coudert <fxcoudert@gcc.gnu.org>\n\nFrom-SVN: r129410", "tree": {"sha": "f2a1a7701d74482d39dd0870946714bfa0c65e4e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f2a1a7701d74482d39dd0870946714bfa0c65e4e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2e23a5b3e31719d23e38279b814d9e8688a29128", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e23a5b3e31719d23e38279b814d9e8688a29128", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e23a5b3e31719d23e38279b814d9e8688a29128", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e23a5b3e31719d23e38279b814d9e8688a29128/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "590e9a42f41c63a825798501a94419c1ae60f6ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/590e9a42f41c63a825798501a94419c1ae60f6ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/590e9a42f41c63a825798501a94419c1ae60f6ab"}], "stats": {"total": 56, "additions": 56, "deletions": 0}, "files": [{"sha": "b2ac175305608335067d60a21561dc5662680dea", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e23a5b3e31719d23e38279b814d9e8688a29128/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e23a5b3e31719d23e38279b814d9e8688a29128/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2e23a5b3e31719d23e38279b814d9e8688a29128", "patch": "@@ -1,3 +1,9 @@\n+2007-10-17  Uros Bizjak  <ubizjak@gmail.com>\n+\t    Francois-Xavier Coudert  <fxcoudert@gcc.gnu.org>\n+\n+\tPR middle-end/33794\n+\t* gfortran.dg/pr33794.f90: New testcase.\n+\n 2007-10-17  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/32961"}, {"sha": "a2425cec353e4482b5a3238129a9dcd4be6397e7", "filename": "gcc/testsuite/gfortran.dg/pr33794.f90", "status": "added", "additions": 50, "deletions": 0, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e23a5b3e31719d23e38279b814d9e8688a29128/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr33794.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e23a5b3e31719d23e38279b814d9e8688a29128/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr33794.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr33794.f90?ref=2e23a5b3e31719d23e38279b814d9e8688a29128", "patch": "@@ -0,0 +1,50 @@\n+! { dg-do run }\n+! { dg-options \"-O2 -ffast-math -mfpmath=387\" { target { { i?86-*-* x86_64-*-* } && lp64 } } }\n+! { dg-options \"-O2 -ffast-math\" }\n+\n+module scc_m\n+  implicit none\n+  integer, parameter :: dp = selected_real_kind(15,90)\n+contains\n+  subroutine self_ind_cir_coil (r, l, turns, mu, self_l)\n+  implicit none\n+  real (kind = dp), intent(in) :: r, l, turns, mu\n+  real (kind = dp), intent(out) :: self_l\n+  real (kind = dp) :: alpha, modulus, pk, ak, bk, ae, be, elliptice, elliptick\n+  real (kind = dp) :: expected\n+  alpha = atan(2.0_dp*r/l)\n+  modulus = sin(alpha)\n+  pk = 1.0_dp - modulus**2\n+  ak = (((0.01451196212_dp*pk+0.03742563713_dp)*pk+ &\n+         0.03590092383_dp)*pk+0.09666344259_dp)*pk+1.38629436112_dp\n+  bk = (((0.00441787012_dp*pk+0.03328355346_dp)*pk+ &\n+         0.06880248576_dp)*pk+0.12498593597_dp)*pk+0.5_dp\n+  elliptick = ak - bk * log(pk)\n+  ae = (((0.01736506451_dp*pk+0.04757383546_dp)*pk+ &\n+         0.0626060122_dp)*pk+0.44325141463_dp)*pk+1.0_dp\n+  be = (((0.00526449639_dp*pk+0.04069697526_dp)*pk+ &\n+         0.09200180037_dp)*pk+0.2499836831_dp)*pk\n+  elliptice = ae - be * log(pk)\n+  self_l = (mu * turns**2 * l**2 * 2.0_dp * r)/3.0_dp * &\n+           (((tan(alpha)**2-1.0_dp)*elliptice+elliptick)/sin(alpha) - &\n+            tan(alpha)**2)\n+  expected = 3.66008420600434162E-002_dp\n+  if (abs(self_l - expected) / expected > 1e-3) &\n+        call abort\n+  end subroutine self_ind_cir_coil\n+end module scc_m\n+\n+program test\n+  use scc_m\n+  implicit none\n+\n+  real (kind = dp) :: mu, turns, r, l, self_l\n+  mu = 1.25663706143591729E-006_dp\n+  turns = 166666.66666666666_dp\n+  l = 3.00000000000000006E-003_dp\n+  r = 2.99999999999999989E-002_dp\n+\n+  call self_ind_cir_coil (r, l, turns, mu, self_l)\n+end program test\n+\n+! { dg-final { cleanup-modules \"scc_m\" } }"}]}