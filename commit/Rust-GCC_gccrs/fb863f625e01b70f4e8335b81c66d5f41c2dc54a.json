{"sha": "fb863f625e01b70f4e8335b81c66d5f41c2dc54a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmI4NjNmNjI1ZTAxYjcwZjRlODMzNWI4MWM2NmQ1ZjQxYzJkYzU0YQ==", "commit": {"author": {"name": "Bryce McKinlay", "email": "bryce@albatross.co.nz", "date": "2000-03-09T09:22:36Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2000-03-09T09:22:36Z"}, "message": "natClassLoader.cc (_Jv_FindArrayClass): Call _Jv_PrepareConstantTimeTables.\n\n2000-03-09  Bryce McKinlay  <bryce@albatross.co.nz>\n\n        * java/lang/natClassLoader.cc (_Jv_FindArrayClass): Call\n        _Jv_PrepareConstantTimeTables.\n        * java/lang/natClass.cc (_Jv_PrepareConstantTimeTables): Array\n        classes should have an IDT, so don't return if klass is an array\n        class.\n\nFrom-SVN: r32445", "tree": {"sha": "c443863c5e231ddb364e02e712a96a284b76f1e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c443863c5e231ddb364e02e712a96a284b76f1e0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fb863f625e01b70f4e8335b81c66d5f41c2dc54a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb863f625e01b70f4e8335b81c66d5f41c2dc54a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb863f625e01b70f4e8335b81c66d5f41c2dc54a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb863f625e01b70f4e8335b81c66d5f41c2dc54a/comments", "author": null, "committer": null, "parents": [{"sha": "90e5a6dc405d46992d1d1e9d05e3324723a3f12c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90e5a6dc405d46992d1d1e9d05e3324723a3f12c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90e5a6dc405d46992d1d1e9d05e3324723a3f12c"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "8c870fd4f8d72726b9c93ab46ed89dddc2e71bca", "filename": "libjava/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb863f625e01b70f4e8335b81c66d5f41c2dc54a/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb863f625e01b70f4e8335b81c66d5f41c2dc54a/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=fb863f625e01b70f4e8335b81c66d5f41c2dc54a", "patch": "@@ -1,3 +1,11 @@\n+2000-03-09  Bryce McKinlay  <bryce@albatross.co.nz>\n+\n+\t* java/lang/natClassLoader.cc (_Jv_FindArrayClass): Call\n+\t_Jv_PrepareConstantTimeTables.\n+\t* java/lang/natClass.cc (_Jv_PrepareConstantTimeTables): Array\n+\tclasses should have an IDT, so don't return if klass is an array\n+\tclass.\n+\n 2000-03-08  Tom Tromey  <tromey@cygnus.com>\n \n \t* java/lang/reflect/natArray.cc (newInstance): Don't allow array"}, {"sha": "99fddf6d8acaa32dfa0d7a9a422619c900938a54", "filename": "libjava/java/lang/natClass.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb863f625e01b70f4e8335b81c66d5f41c2dc54a/libjava%2Fjava%2Flang%2FnatClass.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb863f625e01b70f4e8335b81c66d5f41c2dc54a/libjava%2Fjava%2Flang%2FnatClass.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatClass.cc?ref=fb863f625e01b70f4e8335b81c66d5f41c2dc54a", "patch": "@@ -1005,8 +1005,7 @@ _Jv_PrepareConstantTimeTables (jclass klass)\n       klass0 = klass0->superclass;\n     }\n     \n-  if (klass->isArray () \n-      || java::lang::reflect::Modifier::isAbstract (klass->accflags))\n+  if (java::lang::reflect::Modifier::isAbstract (klass->accflags))\n     return;\n \n   klass->idt = "}, {"sha": "896873a6a6e96eee1abd0c7be63a570481f6afa5", "filename": "libjava/java/lang/natClassLoader.cc", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb863f625e01b70f4e8335b81c66d5f41c2dc54a/libjava%2Fjava%2Flang%2FnatClassLoader.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb863f625e01b70f4e8335b81c66d5f41c2dc54a/libjava%2Fjava%2Flang%2FnatClassLoader.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatClassLoader.cc?ref=fb863f625e01b70f4e8335b81c66d5f41c2dc54a", "patch": "@@ -584,6 +584,9 @@ _Jv_FindArrayClass (jclass element, java::lang::ClassLoader *loader)\n       array_class->interfaces = interfaces;\n       array_class->interface_count = 1;\n \n+      // Generate the interface dispatch table.\n+      _Jv_PrepareConstantTimeTables (array_class);\n+\n       // as per vmspec 5.3.3.2\n       array_class->accflags = element->accflags;\n "}]}