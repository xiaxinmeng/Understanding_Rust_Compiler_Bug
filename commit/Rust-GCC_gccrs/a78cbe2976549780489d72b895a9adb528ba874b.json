{"sha": "a78cbe2976549780489d72b895a9adb528ba874b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTc4Y2JlMjk3NjU0OTc4MDQ4OWQ3MmI4OTVhOWFkYjUyOGJhODc0Yg==", "commit": {"author": {"name": "Aldy Hernandez", "email": "aldyh@redhat.com", "date": "2015-03-06T21:58:31Z"}, "committer": {"name": "Aldy Hernandez", "email": "aldyh@gcc.gnu.org", "date": "2015-03-06T21:58:31Z"}, "message": "ptree.c (cxx_print_lambda_node): New.\n\n\t* ptree.c (cxx_print_lambda_node): New.\n\t(cxx_print_xnode): Handle LAMBDA_EXPR.\n\nFrom-SVN: r221249", "tree": {"sha": "f1d880c44543fe81b7b7e8276b95504d04db5e51", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f1d880c44543fe81b7b7e8276b95504d04db5e51"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a78cbe2976549780489d72b895a9adb528ba874b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a78cbe2976549780489d72b895a9adb528ba874b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a78cbe2976549780489d72b895a9adb528ba874b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a78cbe2976549780489d72b895a9adb528ba874b/comments", "author": {"login": "aldyh", "id": 12937877, "node_id": "MDQ6VXNlcjEyOTM3ODc3", "avatar_url": "https://avatars.githubusercontent.com/u/12937877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aldyh", "html_url": "https://github.com/aldyh", "followers_url": "https://api.github.com/users/aldyh/followers", "following_url": "https://api.github.com/users/aldyh/following{/other_user}", "gists_url": "https://api.github.com/users/aldyh/gists{/gist_id}", "starred_url": "https://api.github.com/users/aldyh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aldyh/subscriptions", "organizations_url": "https://api.github.com/users/aldyh/orgs", "repos_url": "https://api.github.com/users/aldyh/repos", "events_url": "https://api.github.com/users/aldyh/events{/privacy}", "received_events_url": "https://api.github.com/users/aldyh/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3ffa78014eb78d71951cddbd1ec1b8930011f2be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ffa78014eb78d71951cddbd1ec1b8930011f2be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ffa78014eb78d71951cddbd1ec1b8930011f2be"}], "stats": {"total": 36, "additions": 36, "deletions": 0}, "files": [{"sha": "1e19d6d15a839c416a382a3de0e21a4d436814e2", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a78cbe2976549780489d72b895a9adb528ba874b/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a78cbe2976549780489d72b895a9adb528ba874b/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=a78cbe2976549780489d72b895a9adb528ba874b", "patch": "@@ -1,3 +1,8 @@\n+2015-03-06  Aldy Hernandez  <aldyh@redhat.com>\n+\n+\t* ptree.c (cxx_print_lambda_node): New.\n+\t(cxx_print_xnode): Handle LAMBDA_EXPR.\n+\n 2015-03-03  Aldy Hernandez  <aldyh@redhat.com>\n \n \tPR c++/65295"}, {"sha": "2d0b584e7ab1b3004dbd766ae6d987fe34c99c30", "filename": "gcc/cp/ptree.c", "status": "modified", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a78cbe2976549780489d72b895a9adb528ba874b/gcc%2Fcp%2Fptree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a78cbe2976549780489d72b895a9adb528ba874b/gcc%2Fcp%2Fptree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fptree.c?ref=a78cbe2976549780489d72b895a9adb528ba874b", "patch": "@@ -203,6 +203,34 @@ cxx_print_identifier (FILE *file, tree node, int indent)\n   print_node (file, \"template\", IDENTIFIER_TEMPLATE (node), indent + 4);\n }\n \n+void\n+cxx_print_lambda_node (FILE *file, tree node, int indent)\n+{\n+  if (LAMBDA_EXPR_MUTABLE_P (node))\n+    fprintf (file, \" /mutable\");\n+  fprintf (file, \" default_capture_mode=[\");\n+  switch (LAMBDA_EXPR_DEFAULT_CAPTURE_MODE (node))\n+    {\n+    case CPLD_NONE:\n+      fprintf (file, \"NONE\");\n+      break;\n+    case CPLD_COPY:\n+      fprintf (file, \"COPY\");\n+      break;\n+    case CPLD_REFERENCE:\n+      fprintf (file, \"CPLD_REFERENCE\");\n+      break;\n+    default:\n+      fprintf (file, \"??\");\n+      break;\n+    }\n+  fprintf (file, \"] \");\n+  print_node (file, \"capture_list\", LAMBDA_EXPR_CAPTURE_LIST (node), indent + 4);\n+  print_node (file, \"this_capture\", LAMBDA_EXPR_THIS_CAPTURE (node), indent + 4);\n+  print_node (file, \"return_type\", LAMBDA_EXPR_RETURN_TYPE (node), indent + 4);\n+  print_node (file, \"closure\", LAMBDA_EXPR_CLOSURE (node), indent + 4);\n+}\n+\n void\n cxx_print_xnode (FILE *file, tree node, int indent)\n {\n@@ -243,6 +271,9 @@ cxx_print_xnode (FILE *file, tree node, int indent)\n       print_node (file, \"pattern\", DEFERRED_NOEXCEPT_PATTERN (node), indent+4);\n       print_node (file, \"args\", DEFERRED_NOEXCEPT_ARGS (node), indent+4);\n       break;\n+    case LAMBDA_EXPR:\n+      cxx_print_lambda_node (file, node, indent);\n+      break;\n     default:\n       break;\n     }"}]}