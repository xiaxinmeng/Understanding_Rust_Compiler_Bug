{"sha": "387edc7625471683c0f26cdb3ecea436495ff4c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzg3ZWRjNzYyNTQ3MTY4M2MwZjI2Y2RiM2VjZWE0MzY0OTVmZjRjMQ==", "commit": {"author": {"name": "Bryce McKinlay", "email": "bryce@waitaki.otago.ac.nz", "date": "2001-08-26T10:09:59Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2001-08-26T10:09:59Z"}, "message": "* name-finder.cc (lookup): Ignore a null dli_fname from d\n\nFrom-SVN: r45181", "tree": {"sha": "cb09bf80a600702a9662a551edb1127054d3e992", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cb09bf80a600702a9662a551edb1127054d3e992"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/387edc7625471683c0f26cdb3ecea436495ff4c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/387edc7625471683c0f26cdb3ecea436495ff4c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/387edc7625471683c0f26cdb3ecea436495ff4c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/387edc7625471683c0f26cdb3ecea436495ff4c1/comments", "author": null, "committer": null, "parents": [{"sha": "51c4678a03a515f875a1625d0b6ded86ae107edc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51c4678a03a515f875a1625d0b6ded86ae107edc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51c4678a03a515f875a1625d0b6ded86ae107edc"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "03e66b583a01ef1bb99b6facb3f140999cb08862", "filename": "libjava/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/387edc7625471683c0f26cdb3ecea436495ff4c1/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/387edc7625471683c0f26cdb3ecea436495ff4c1/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=387edc7625471683c0f26cdb3ecea436495ff4c1", "patch": "@@ -1,3 +1,7 @@\n+2001-08-26  Bryce McKinlay  <bryce@waitaki.otago.ac.nz>\n+\n+\t* name-finder.cc (lookup): Ignore a null dli_fname from dladdr.\n+\n 2001-08-23  Tom Tromey  <tromey@redhat.com>\n \n \t* java/lang/reflect/Field.java (toString): Use"}, {"sha": "1533e0858d23b1df4e52f2ba1c9628e876da90a7", "filename": "libjava/name-finder.cc", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/387edc7625471683c0f26cdb3ecea436495ff4c1/libjava%2Fname-finder.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/387edc7625471683c0f26cdb3ecea436495ff4c1/libjava%2Fname-finder.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fname-finder.cc?ref=387edc7625471683c0f26cdb3ecea436495ff4c1", "patch": "@@ -145,11 +145,13 @@ _Jv_name_finder::lookup (void *p)\n     \n     if (dladdr (p, &dl_info))\n       {\n-\tstrncpy (file_name, dl_info.dli_fname, sizeof file_name);\n+        if (dl_info.dli_fname)\n+\t  strncpy (file_name, dl_info.dli_fname, sizeof file_name);\n \tstrncpy (method_name, dl_info.dli_sname, sizeof method_name);\n        \n        /* Don't trust dladdr() if the address is from the main program. */\n-       if (_Jv_argv == NULL || strcmp (file_name, _Jv_argv[0]) != 0)\n+       if (dl_info.dli_fname != NULL\n+\t   && (_Jv_argv == NULL || strcmp (file_name, _Jv_argv[0]) != 0))\n          return true;\n       }\n   }"}]}