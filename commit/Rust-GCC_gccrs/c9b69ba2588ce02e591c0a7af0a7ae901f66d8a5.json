{"sha": "c9b69ba2588ce02e591c0a7af0a7ae901f66d8a5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzliNjliYTI1ODhjZTAyZTU5MWMwYTdhZjBhN2FlOTAxZjY2ZDhhNQ==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@nildram.co.uk", "date": "2007-09-17T23:41:36Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2007-09-17T23:41:36Z"}, "message": "df-scan.c (df_notes_rescan): Do nothing if the instruction does not yet have a basic block.\n\ngcc/\n\t* df-scan.c (df_notes_rescan): Do nothing if the instruction does\n\tnot yet have a basic block.\n\t* dse.c (find_shift_sequence): Don't set DF_NO_INSN_RESCAN.\n\nFrom-SVN: r128563", "tree": {"sha": "8faead7c948ef1e160fbfaebf4e7d1cfab4b0b37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8faead7c948ef1e160fbfaebf4e7d1cfab4b0b37"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c9b69ba2588ce02e591c0a7af0a7ae901f66d8a5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9b69ba2588ce02e591c0a7af0a7ae901f66d8a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9b69ba2588ce02e591c0a7af0a7ae901f66d8a5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9b69ba2588ce02e591c0a7af0a7ae901f66d8a5/comments", "author": null, "committer": null, "parents": [{"sha": "a765d68e7584986e90b901e453e18c3aa34f9560", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a765d68e7584986e90b901e453e18c3aa34f9560", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a765d68e7584986e90b901e453e18c3aa34f9560"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "64bdbe7929b65bc3adee173cbf0a589df7f75f3f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c9b69ba2588ce02e591c0a7af0a7ae901f66d8a5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c9b69ba2588ce02e591c0a7af0a7ae901f66d8a5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c9b69ba2588ce02e591c0a7af0a7ae901f66d8a5", "patch": "@@ -1,3 +1,9 @@\n+2007-09-18  Richard Sandiford  <rsandifo@nildram.co.uk>\n+\n+\t* df-scan.c (df_notes_rescan): Do nothing if the instruction does\n+\tnot yet have a basic block.\n+\t* dse.c (find_shift_sequence): Don't set DF_NO_INSN_RESCAN.\n+\n 2007-09-18  Richard Sandiford  <rsandifo@nildram.co.uk>\n \n \t* config/mips/mips.c (mips_file_start): Add \".previous\" directives"}, {"sha": "a1f71b03b6dd87d56fa106407ca963947cf60b7c", "filename": "gcc/df-scan.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c9b69ba2588ce02e591c0a7af0a7ae901f66d8a5/gcc%2Fdf-scan.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c9b69ba2588ce02e591c0a7af0a7ae901f66d8a5/gcc%2Fdf-scan.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdf-scan.c?ref=c9b69ba2588ce02e591c0a7af0a7ae901f66d8a5", "patch": "@@ -2004,6 +2004,10 @@ df_notes_rescan (rtx insn)\n   if (df->changeable_flags & DF_NO_INSN_RESCAN)\n     return;\n \n+  /* Do nothing if the insn hasn't been emitted yet.  */\n+  if (!BLOCK_FOR_INSN (insn))\n+    return;\n+\n   df_grow_bb_info (df_scan);\n   df_grow_reg_info ();\n "}, {"sha": "a9577830170ffe1550ce1aaebf33c875bac16a37", "filename": "gcc/dse.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c9b69ba2588ce02e591c0a7af0a7ae901f66d8a5/gcc%2Fdse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c9b69ba2588ce02e591c0a7af0a7ae901f66d8a5/gcc%2Fdse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdse.c?ref=c9b69ba2588ce02e591c0a7af0a7ae901f66d8a5", "patch": "@@ -1428,10 +1428,8 @@ find_shift_sequence (rtx read_reg,\n       /* In theory we could also check for an ashr.  Ian Taylor knows\n \t of one dsp where the cost of these two was not the same.  But\n \t this really is a rare case anyway.  */\n-      df_set_flags (DF_NO_INSN_RESCAN);\n       target = expand_binop (new_mode, lshr_optab, new_reg,\n \t\t\t     GEN_INT (shift), new_reg, 1, OPTAB_DIRECT);\n-      df_clear_flags (DF_NO_INSN_RESCAN);\n \n       if (target == new_reg)\n \t{"}]}