{"sha": "ff1c708e4a2171cb6823a2b9e46f83dc500e93fb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmYxYzcwOGU0YTIxNzFjYjY4MjNhMmI5ZTQ2ZjgzZGM1MDBlOTNmYg==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2004-12-14T20:05:48Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2004-12-14T20:05:48Z"}, "message": "tree-outof-ssa.c (coalesce_abnormal_edges): Pass the correct target partition to conflict_graph_merge_regs.\n\n        * tree-outof-ssa.c (coalesce_abnormal_edges): Pass the correct target\n        partition to conflict_graph_merge_regs.\n\nFrom-SVN: r92157", "tree": {"sha": "150a2e887208245b695f1a1a1a7b62d90ddff90c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/150a2e887208245b695f1a1a1a7b62d90ddff90c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ff1c708e4a2171cb6823a2b9e46f83dc500e93fb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff1c708e4a2171cb6823a2b9e46f83dc500e93fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff1c708e4a2171cb6823a2b9e46f83dc500e93fb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff1c708e4a2171cb6823a2b9e46f83dc500e93fb/comments", "author": null, "committer": null, "parents": [{"sha": "acb3f79a4af6acc1709d001a33599bf169712c12", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acb3f79a4af6acc1709d001a33599bf169712c12", "html_url": "https://github.com/Rust-GCC/gccrs/commit/acb3f79a4af6acc1709d001a33599bf169712c12"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "1a8f5a6cbeba9afbf6de6b1332342e08ec1ae6a4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff1c708e4a2171cb6823a2b9e46f83dc500e93fb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff1c708e4a2171cb6823a2b9e46f83dc500e93fb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ff1c708e4a2171cb6823a2b9e46f83dc500e93fb", "patch": "@@ -1,3 +1,8 @@\n+2004-12-14  Jeff Law  <law@redhat.com>\n+\n+\t* tree-outof-ssa.c (coalesce_abnormal_edges): Pass the correct target\n+\tpartition to conflict_graph_merge_regs.\n+\n 2004-12-14  Uttam Pawar  <uttamp@us.ibm.com>\n \t    Janis Johnson  <janis187@us.ibm.com>\n "}, {"sha": "d61acbd0b1d408f8f87d7722944af5c2b3d12eab", "filename": "gcc/tree-outof-ssa.c", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff1c708e4a2171cb6823a2b9e46f83dc500e93fb/gcc%2Ftree-outof-ssa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff1c708e4a2171cb6823a2b9e46f83dc500e93fb/gcc%2Ftree-outof-ssa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-outof-ssa.c?ref=ff1c708e4a2171cb6823a2b9e46f83dc500e93fb", "patch": "@@ -569,7 +569,7 @@ coalesce_abnormal_edges (var_map map, conflict_graph graph, root_var_p rv)\n   basic_block bb;\n   edge e;\n   tree phi, var, tmp;\n-  int x, y;\n+  int x, y, z;\n   edge_iterator ei;\n \n   /* Code cannot be inserted on abnormal edges. Look for all abnormal \n@@ -641,18 +641,23 @@ coalesce_abnormal_edges (var_map map, conflict_graph graph, root_var_p rv)\n \t\t\t\t      \"ABNORMAL: Coalescing \",\n \t\t\t\t      var, \" and \", tmp);\n \t\t  }\n+\t        z = var_union (map, var, tmp);\n #ifdef ENABLE_CHECKING\n-\t\tif (var_union (map, var, tmp) == NO_PARTITION)\n+\t\tif (z == NO_PARTITION)\n \t\t  {\n \t\t    print_exprs_edge (stderr, e, \"\\nUnable to coalesce\", \n \t\t\t\t      partition_to_var (map, x), \" and \", \n \t\t\t\t      partition_to_var (map, y));\n \t\t    internal_error (\"SSA corruption\");\n \t\t  }\n #else\n-\t\tgcc_assert (var_union (map, var, tmp) != NO_PARTITION);\n+\t\tgcc_assert (z != NO_PARTITION);\n #endif\n-\t\tconflict_graph_merge_regs (graph, x, y);\n+\t\tgcc_assert (z == x || z == y);\n+\t\tif (z == x)\n+\t\t  conflict_graph_merge_regs (graph, x, y);\n+\t\telse\n+\t\t  conflict_graph_merge_regs (graph, y, x);\n \t      }\n \t  }\n }"}]}