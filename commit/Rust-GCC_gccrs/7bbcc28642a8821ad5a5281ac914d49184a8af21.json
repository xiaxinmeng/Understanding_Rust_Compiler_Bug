{"sha": "7bbcc28642a8821ad5a5281ac914d49184a8af21", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2JiY2MyODY0MmE4ODIxYWQ1YTUyODFhYzkxNGQ0OTE4NGE4YWYyMQ==", "commit": {"author": {"name": "Andreas Tobler", "email": "a.tobler@schweiz.org", "date": "2009-06-16T17:28:29Z"}, "committer": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2009-06-16T17:28:29Z"}, "message": "re PR libffi/40444 (libffi badly broken with -m64 by some revision between 148383 and 148472.)\n\n2009-06-16  Andreas Tobler  <a.tobler@schweiz.org>\n\n\tPR libffi/40444\n\t* testsuite/lib/libffi-dg.exp (libffi_target_compile): Add\n\tallow_stack_execute for Darwin.\n\nFrom-SVN: r148542", "tree": {"sha": "fb31771e8e90adc0d0bac7cd8e41b63517c914df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb31771e8e90adc0d0bac7cd8e41b63517c914df"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7bbcc28642a8821ad5a5281ac914d49184a8af21", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7bbcc28642a8821ad5a5281ac914d49184a8af21", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7bbcc28642a8821ad5a5281ac914d49184a8af21", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7bbcc28642a8821ad5a5281ac914d49184a8af21/comments", "author": null, "committer": null, "parents": [{"sha": "95228603e6ae188e6cd6dfa23326e5d4744dc736", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95228603e6ae188e6cd6dfa23326e5d4744dc736", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95228603e6ae188e6cd6dfa23326e5d4744dc736"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "1d8e7e763bd1849d5037351b6526d3f63a9e2ac2", "filename": "libffi/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7bbcc28642a8821ad5a5281ac914d49184a8af21/libffi%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7bbcc28642a8821ad5a5281ac914d49184a8af21/libffi%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FChangeLog?ref=7bbcc28642a8821ad5a5281ac914d49184a8af21", "patch": "@@ -1,3 +1,9 @@\n+2009-06-16  Andreas Tobler  <a.tobler@schweiz.org>\n+\n+\tPR libffi/40444\n+\t* testsuite/lib/libffi-dg.exp (libffi_target_compile): Add\n+\tallow_stack_execute for Darwin.\n+\n 2009-06-16  Andrew Haley  <aph@redhat.com>\n \n \t* configure.ac (TARGETDIR): Add missing blank lines."}, {"sha": "8db38c286a833a24e6ebe62888e2aa9b258131aa", "filename": "libffi/testsuite/lib/libffi-dg.exp", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7bbcc28642a8821ad5a5281ac914d49184a8af21/libffi%2Ftestsuite%2Flib%2Flibffi-dg.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7bbcc28642a8821ad5a5281ac914d49184a8af21/libffi%2Ftestsuite%2Flib%2Flibffi-dg.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Ftestsuite%2Flib%2Flibffi-dg.exp?ref=7bbcc28642a8821ad5a5281ac914d49184a8af21", "patch": "@@ -187,6 +187,13 @@ proc libffi_target_compile { source dest type options } {\n     lappend options \"additional_flags=-I${libffi_include} -I${srcdir}/../include  -I${libffi_include}/..\"\n     lappend options \"additional_flags=${libffi_link_flags}\"\n \n+    # Darwin needs a stack execution allowed flag.\n+\n+    if { [istarget \"*-*-darwin9*\"] || [istarget \"*-*-darwin1*\"]\n+\t || [istarget \"*-*-darwin2*\"] } {\n+\tlappend options \"additional_flags=-Wl,-allow_stack_execute\"\n+    }\n+\n     # If you're building the compiler with --prefix set to a place\n     # where it's not yet installed, then the linker won't be able to\n     # find the libgcc used by libffi.dylib.  We could pass the"}]}