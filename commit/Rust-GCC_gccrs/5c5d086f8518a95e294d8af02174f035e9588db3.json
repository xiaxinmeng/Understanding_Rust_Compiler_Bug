{"sha": "5c5d086f8518a95e294d8af02174f035e9588db3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWM1ZDA4NmY4NTE4YTk1ZTI5NGQ4YWYwMjE3NGYwMzVlOTU4OGRiMw==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@TechFak.Uni-Bielefeld.DE", "date": "1999-06-04T13:41:19Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-06-04T13:41:19Z"}, "message": "osf.h (CPP_SUBTARGET_SPEC): Handle -threads.\n\n        * alpha/osf.h (CPP_SUBTARGET_SPEC): Handle -threads.\n        (LIB_SPEC): Likewise.\n        Link with -lprof1_r for -g/-pg.\n\nFrom-SVN: r27353", "tree": {"sha": "3390b743f50d4953dd62bf0fd8e89c0b84a5285a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3390b743f50d4953dd62bf0fd8e89c0b84a5285a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5c5d086f8518a95e294d8af02174f035e9588db3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c5d086f8518a95e294d8af02174f035e9588db3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c5d086f8518a95e294d8af02174f035e9588db3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c5d086f8518a95e294d8af02174f035e9588db3/comments", "author": null, "committer": null, "parents": [{"sha": "11b6d80dad4f423797ef4b9068d74758f88aa432", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11b6d80dad4f423797ef4b9068d74758f88aa432", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11b6d80dad4f423797ef4b9068d74758f88aa432"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "aabadb8f882f43339bb0c3b020df353422731b97", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c5d086f8518a95e294d8af02174f035e9588db3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c5d086f8518a95e294d8af02174f035e9588db3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5c5d086f8518a95e294d8af02174f035e9588db3", "patch": "@@ -1,3 +1,9 @@\n+Fri Jun  4 13:30:27 1999  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n+\n+\t* alpha/osf.h (CPP_SUBTARGET_SPEC): Handle -threads.\n+\t(LIB_SPEC): Likewise.\n+\tLink with -lprof1_r for -g/-pg.\n+\n 1999-06-04  Andreas Schwab  <schwab@issan.cs.uni-dortmund.de>\n \n \t* loop.c (check_dbra_loop): Fix change of Jan 19."}, {"sha": "5054444a759979d48cf5c1345c1da93b14693994", "filename": "gcc/config/alpha/osf.h", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c5d086f8518a95e294d8af02174f035e9588db3/gcc%2Fconfig%2Falpha%2Fosf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c5d086f8518a95e294d8af02174f035e9588db3/gcc%2Fconfig%2Falpha%2Fosf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fosf.h?ref=5c5d086f8518a95e294d8af02174f035e9588db3", "patch": "@@ -30,14 +30,19 @@ Boston, MA 02111-1307, USA.  */\n -Dunix -D__osf__ -D_LONGLONG -DSYSTYPE_BSD \\\n -D_SYSTYPE_BSD -Asystem(unix) -Asystem(xpg4)\"\n \n+/* Accept DEC C flags for multithreaded programs.  We use _PTHREAD_USE_D4\n+   instead of PTHREAD_USE_D4 since both have the same effect and the former\n+   doesn't invade the users' namespace.  */\n+\n+#undef CPP_SUBTARGET_SPEC\n #define CPP_SUBTARGET_SPEC \\\n-\"%{pthread:-D_REENTRANT}\"\n+\"%{pthread|threads:-D_REENTRANT} %{threads:-D_PTHREAD_USE_D4}\"\n \n /* Under OSF4, -p and -pg require -lprof1, and -lprof1 requires -lpdf.  */\n \n #define LIB_SPEC \\\n-\"%{p:-lprof1 -lpdf} %{pg:-lprof1 -lpdf} %{a:-lprof2} \\\n- %{pthread: -lpthread -lmach -lexc} -lc\"\n+\"%{p|pg:-lprof1%{pthread|threads:_r} -lpdf} %{a:-lprof2} \\\n+ %{threads: -lpthreads} %{pthread|threads: -lpthread -lmach -lexc} -lc\"\n \n /* Pass \"-G 8\" to ld because Alpha's CC does.  Pass -O3 if we are\n    optimizing, -O1 if we are not.  Pass -shared, -non_shared or"}]}