{"sha": "37b454bd0ba567f9987565c1ea44934f59961325", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzdiNDU0YmQwYmE1NjdmOTk4NzU2NWMxZWE0NDkzNGY1OTk2MTMyNQ==", "commit": {"author": {"name": "Anthony Green", "email": "green@cygnus.com", "date": "1999-06-17T23:22:51Z"}, "committer": {"name": "Anthony Green", "email": "green@gcc.gnu.org", "date": "1999-06-17T23:22:51Z"}, "message": "mach_dep.c (GC_push_regs): FreeBSD-elf support (from Carlo Dapor <carlo@vis.ethz.ch>).\n\n\t* mach_dep.c (GC_push_regs): FreeBSD-elf support (from\n\tCarlo Dapor <carlo@vis.ethz.ch>).\n\nFrom-SVN: r27580", "tree": {"sha": "eb4c0748c18bee26e4ee402c5b5585273499d78a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eb4c0748c18bee26e4ee402c5b5585273499d78a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/37b454bd0ba567f9987565c1ea44934f59961325", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37b454bd0ba567f9987565c1ea44934f59961325", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37b454bd0ba567f9987565c1ea44934f59961325", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37b454bd0ba567f9987565c1ea44934f59961325/comments", "author": null, "committer": null, "parents": [{"sha": "00e595499eaffdc9a3eca7b710adc32e73c44853", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00e595499eaffdc9a3eca7b710adc32e73c44853", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00e595499eaffdc9a3eca7b710adc32e73c44853"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "1ef0f9aba9510624fb7e36dc0c3a1c7cd4895eb7", "filename": "boehm-gc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37b454bd0ba567f9987565c1ea44934f59961325/boehm-gc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37b454bd0ba567f9987565c1ea44934f59961325/boehm-gc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2FChangeLog?ref=37b454bd0ba567f9987565c1ea44934f59961325", "patch": "@@ -1,3 +1,8 @@\n+1999-06-17  Anthony Green  <green@cygnus.com>\n+\n+\t* mach_dep.c (GC_push_regs): FreeBSD-elf support (from\n+\tCarlo Dapor <carlo@vis.ethz.ch>).\n+\n 1999-05-05  Gilles Zunino  <Gilles.Zunino@hei.fr>\n \n \t* configure.in: Switch from irix threads to posix threads"}, {"sha": "09a79883fdf9f3ec4592189e26252d04bcb2c954", "filename": "boehm-gc/mach_dep.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37b454bd0ba567f9987565c1ea44934f59961325/boehm-gc%2Fmach_dep.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37b454bd0ba567f9987565c1ea44934f59961325/boehm-gc%2Fmach_dep.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2Fmach_dep.c?ref=37b454bd0ba567f9987565c1ea44934f59961325", "patch": "@@ -170,7 +170,7 @@ void GC_push_regs()\n \n #       if defined(I386) &&!defined(OS2) &&!defined(SVR4) &&!defined(MSWIN32) \\\n \t&& !defined(SCO) && !defined(SCO_ELF) && !(defined(LINUX) \\\n-\t&& defined(__ELF__)) && !defined(DOS4GW)\n+\t&& defined(__ELF__)) && !defined(DOS4GW) && !defined(FREEBSD)\n \t/* I386 code, generic code does not appear to work */\n \t/* It does appear to work under OS2, and asms dont */\n \t/* This is used for some 38g UNIX variants and for CYGWIN32 */\n@@ -183,8 +183,8 @@ void GC_push_regs()\n \t  asm(\"pushl %ebx\");  asm(\"call _GC_push_one\"); asm(\"addl $4,%esp\");\n #       endif\n \n-#\tif defined(I386) && defined(LINUX) && defined(__ELF__)\n-\t/* This is modified for Linux with ELF (Note: _ELF_ only) */\n+#\tif defined(I386) && (defined(LINUX) || defined(FREEBSD)) && defined(__ELF__)\n+\t/* This is modified for Linux/FreeBSD with ELF (Note: _ELF_ only) */\n \t  asm(\"pushl %eax\");  asm(\"call GC_push_one\"); asm(\"addl $4,%esp\");\n \t  asm(\"pushl %ecx\");  asm(\"call GC_push_one\"); asm(\"addl $4,%esp\");\n \t  asm(\"pushl %edx\");  asm(\"call GC_push_one\"); asm(\"addl $4,%esp\");"}]}