{"sha": "1322946805597f3b80f585da69c3447a79a37de0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTMyMjk0NjgwNTU5N2YzYjgwZjU4NWRhNjljMzQ0N2E3OWEzN2RlMA==", "commit": {"author": {"name": "David Daney", "email": "ddaney@avtrex.com", "date": "2003-10-22T16:35:17Z"}, "committer": {"name": "David Daney", "email": "daney@gcc.gnu.org", "date": "2003-10-22T16:35:17Z"}, "message": "mips-signal.h: New file.\n\n2003-10-22  David Daney  <ddaney@avtrex.com)\n\n\t* include/mips-signal.h: New file.\n\t* sysdep/dwarf2-backtrace.cc: New file.\n\t* sysdep/mips: New directory.\n\t* sysdep/mips/locks.h: New file.\n\t* Makefile.am(extra_cc_files): New, to allow extra c++ files to be\n\tadded to libgcj.\n\t(extra_cc_source_files): Ditto.\n\t* configure.host(disable_dladdr):  New shell variable passed to\n\tconfigure.\n\t(mips*-*-linux*): sysdeps_dir=mips,\n\tcan_unwind_signal=yes, disable_dladdr=yes, use -mxgot.\n\t(mipsel*-linux* | mipsisa32el*-linux*): Enable hash synchronization.\n\t* configure.in:(mips*-*-linux*): Use sysdep/dwarf2-backtrace.cc to\n\tgenerate backtrace, and include/mips-signal.h as SIGNAL_HANDLER\n\t(HAVE_DLADDR): Make it depend on setting of disable_dladdr.\n\t(EXTRA_CC_FILES): New, to support conditional addition of\n\tsysdep/dwarf2-backtrace.cc.\n\t* configure: Regenerated.\n\t* Makefile.in: Regenerated.\n\t* gcj/Makefile.in: Regenerated.\n\t* include/config.h.in: Regenerated.\n\t* include/Makefile.in: Regenerated.\n\t* testsuite/Makefile.in: Regenerated.\n\nFrom-SVN: r72808", "tree": {"sha": "d171c045404a295d18ee746a18e6fc270c642ae0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d171c045404a295d18ee746a18e6fc270c642ae0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1322946805597f3b80f585da69c3447a79a37de0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1322946805597f3b80f585da69c3447a79a37de0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1322946805597f3b80f585da69c3447a79a37de0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1322946805597f3b80f585da69c3447a79a37de0/comments", "author": null, "committer": null, "parents": [{"sha": "b9404c99ecb25b028b14af481f19257d36b6d716", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9404c99ecb25b028b14af481f19257d36b6d716", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b9404c99ecb25b028b14af481f19257d36b6d716"}], "stats": {"total": 1001, "additions": 687, "deletions": 314}, "files": [{"sha": "6c72bd8654a3e91480ae5f1dd03a6f7c8ea0da98", "filename": "libjava/ChangeLog", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1322946805597f3b80f585da69c3447a79a37de0/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1322946805597f3b80f585da69c3447a79a37de0/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=1322946805597f3b80f585da69c3447a79a37de0", "patch": "@@ -1,3 +1,29 @@\n+2003-10-22  David Daney  <ddaney@avtrex.com)\n+\n+\t* include/mips-signal.h: New file.\n+\t* sysdep/dwarf2-backtrace.cc: New file.\n+\t* sysdep/mips: New directory.\n+\t* sysdep/mips/locks.h: New file.\n+\t* Makefile.am(extra_cc_files): New, to allow extra c++ files to be\n+\tadded to libgcj.\n+\t(extra_cc_source_files): Ditto.\n+\t* configure.host(disable_dladdr):  New shell variable passed to\n+\tconfigure.\n+\t(mips*-*-linux*): sysdeps_dir=mips,\n+\tcan_unwind_signal=yes, disable_dladdr=yes, use -mxgot.\n+\t(mipsel*-linux* | mipsisa32el*-linux*): Enable hash synchronization.\n+\t* configure.in:(mips*-*-linux*): Use sysdep/dwarf2-backtrace.cc to\n+\tgenerate backtrace, and include/mips-signal.h as SIGNAL_HANDLER\n+\t(HAVE_DLADDR): Make it depend on setting of disable_dladdr.\n+\t(EXTRA_CC_FILES): New, to support conditional addition of\n+\tsysdep/dwarf2-backtrace.cc.\n+\t* configure: Regenerated.\n+\t* Makefile.in: Regenerated.\n+\t* gcj/Makefile.in: Regenerated.\n+\t* include/config.h.in: Regenerated.\n+\t* include/Makefile.in: Regenerated.\n+\t* testsuite/Makefile.in: Regenerated.\n+\t\n 2003-10-22  Sascha Brawer  <brawer@dandelis.ch>\n \n \t* java/awt/geom/QuadCurve2D.java (subdivide): Added documentation."}, {"sha": "91d1647ff9e3625027d4909f3205e867b48d1e7c", "filename": "libjava/Makefile.am", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1322946805597f3b80f585da69c3447a79a37de0/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1322946805597f3b80f585da69c3447a79a37de0/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=1322946805597f3b80f585da69c3447a79a37de0", "patch": "@@ -138,6 +138,7 @@ nat_files = $(nat_source_files:.cc=.lo)\n x_nat_files = $(x_nat_source_files:.cc=.lo)\n ## Objects from C sources in subdirs.\n c_files = $(c_source_files:.c=.lo)\n+extra_cc_files = $(extra_cc_source_files:.cc=.lo)\n ## Objects from gtk-related C sources in subdirs.\n gtk_c_files = $(gtk_c_source_files:.c=.lo)\n ## Objects from Java sources in subdirs.\n@@ -149,13 +150,13 @@ libgcj_la_SOURCES = prims.cc jni.cc exception.cc \\\n \tresolve.cc defineclass.cc interpret.cc verify.cc \\\n \t$(nat_source_files)\n EXTRA_libgcj_la_SOURCES = boehm.cc nogc.cc posix-threads.cc no-threads.cc \\\n-\twin32-threads.cc posix.cc win32.cc \\\n-\t$(c_source_files) $(java_source_files) $(built_java_source_files)\n+\twin32-threads.cc posix.cc win32.cc $(c_source_files) \\\n+\t$(extra_cc_source_files) $(java_source_files) $(built_java_source_files)\n libgcj_la_DEPENDENCIES = libgcj-@gcc_version@.jar $(javao_files) \\\n-\t$(c_files) $(GCOBJS) $(THREADOBJS) $(PLATFORMOBJS) $(LIBLTDL) \\\n-\t$(LIBFFI) $(ZLIBS) $(GCLIBS)\n+\t$(c_files) $(extra_cc_files) $(GCOBJS) $(THREADOBJS) \\\n+       $(PLATFORMOBJS) $(LIBLTDL) $(LIBFFI) $(ZLIBS) $(GCLIBS)\n \n-libgcj_la_LIBADD = $(javao_files) $(c_files) $(GCOBJS) \\\n+libgcj_la_LIBADD = $(javao_files) $(c_files) $(extra_cc_files) $(GCOBJS) \\\n \t$(THREADOBJS) $(PLATFORMOBJS)\n # Include THREADLIBS here to ensure that the correct version of\n # certain linuxthread functions get linked:\n@@ -418,6 +419,9 @@ $(nat_files) $(x_nat_files): %.lo: %.cc\n $(c_files): %.lo: %.c\n \t$(LTCOMPILE) -c -o $@ $<\n \n+$(extra_cc_files): %.lo: %.cc\n+\t$(LTCXXCOMPILE) -c -o $@ $<\n+\n $(c_files): java/lang/fdlibm.h java/lang/ieeefp.h java/lang/mprec.h\n \n ## FIXME: see above\n@@ -2632,6 +2636,8 @@ c_source_files = \\\n   java/lang/e_sqrt.c      java/lang/s_scalbn.c    java/lang/sf_rint.c     \\\n   java/lang/k_cos.c       java/lang/s_sin.c       java/lang/sf_fabs.c\n \n+extra_cc_source_files = $(EXTRA_CC_FILES)\n+\n #java/awt/natToolkit.cc\n \n ## This lists all the C++ source files in subdirectories."}, {"sha": "d730fd9c0c6aadb8fe790c1bc6dee50f82dc78f4", "filename": "libjava/Makefile.in", "status": "modified", "additions": 15, "deletions": 9, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1322946805597f3b80f585da69c3447a79a37de0/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1322946805597f3b80f585da69c3447a79a37de0/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=1322946805597f3b80f585da69c3447a79a37de0", "patch": "@@ -76,6 +76,7 @@ DIVIDESPEC = @DIVIDESPEC@\n DLLTOOL = @DLLTOOL@\n EXCEPTIONSPEC = @EXCEPTIONSPEC@\n EXEEXT = @EXEEXT@\n+EXTRA_CC_FILES = @EXTRA_CC_FILES@\n GCDEPS = @GCDEPS@\n GCINCS = @GCINCS@\n GCJ = @GCJ@\n@@ -226,6 +227,7 @@ INCLUDES = -I$(top_srcdir) -Iinclude -I$(top_srcdir)/include \\\n nat_files = $(nat_source_files:.cc=.lo)\n x_nat_files = $(x_nat_source_files:.cc=.lo)\n c_files = $(c_source_files:.c=.lo)\n+extra_cc_files = $(extra_cc_source_files:.cc=.lo)\n gtk_c_files = $(gtk_c_source_files:.c=.lo)\n javao_files = $(java_source_files:.java=.lo) \\\n \t$(built_java_source_files:.java=.lo)\n@@ -237,15 +239,15 @@ libgcj_la_SOURCES = prims.cc jni.cc exception.cc \\\n \t$(nat_source_files)\n \n EXTRA_libgcj_la_SOURCES = boehm.cc nogc.cc posix-threads.cc no-threads.cc \\\n-\twin32-threads.cc posix.cc win32.cc \\\n-\t$(c_source_files) $(java_source_files) $(built_java_source_files)\n+\twin32-threads.cc posix.cc win32.cc $(c_source_files) \\\n+\t$(extra_cc_source_files) $(java_source_files) $(built_java_source_files)\n \n libgcj_la_DEPENDENCIES = libgcj-@gcc_version@.jar $(javao_files) \\\n-\t$(c_files) $(GCOBJS) $(THREADOBJS) $(PLATFORMOBJS) $(LIBLTDL) \\\n-\t$(LIBFFI) $(ZLIBS) $(GCLIBS)\n+\t$(c_files) $(extra_cc_files) $(GCOBJS) $(THREADOBJS) \\\n+       $(PLATFORMOBJS) $(LIBLTDL) $(LIBFFI) $(ZLIBS) $(GCLIBS)\n \n \n-libgcj_la_LIBADD = $(javao_files) $(c_files) $(GCOBJS) \\\n+libgcj_la_LIBADD = $(javao_files) $(c_files) $(extra_cc_files) $(GCOBJS) \\\n \t$(THREADOBJS) $(PLATFORMOBJS)\n \n # Include THREADLIBS here to ensure that the correct version of\n@@ -2351,6 +2353,8 @@ c_source_files = \\\n   java/lang/k_cos.c       java/lang/s_sin.c       java/lang/sf_fabs.c\n \n \n+extra_cc_source_files = $(EXTRA_CC_FILES)\n+\n #java/awt/natToolkit.cc\n \n nat_source_files = \\\n@@ -2722,14 +2726,13 @@ LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@\n DATA =  $(jar_DATA) $(pkgconfig_DATA) $(toolexecmainlib_DATA)\n \n DIST_COMMON =  README COPYING ChangeLog Makefile.am Makefile.in NEWS \\\n-THANKS acinclude.m4 aclocal.m4 config.guess config.sub configure \\\n-configure.in install-sh libgcj-test.spec.in libgcj.pc.in libgcj.spec.in \\\n-ltmain.sh missing mkinstalldirs\n+THANKS acinclude.m4 aclocal.m4 configure configure.in \\\n+libgcj-test.spec.in libgcj.pc.in libgcj.spec.in\n \n \n DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)\n \n-TAR = tar\n+TAR = gtar\n GZIP_ENV = --best\n DIST_SUBDIRS =  @DIRLTDL@ testsuite gcj include @DIRLTDL@ gcj include\n DEP_FILES =  .deps/$(srcdir)/$(CONVERT_DIR)/gen-from-JIS.P \\\n@@ -4956,6 +4959,9 @@ $(nat_files) $(x_nat_files): %.lo: %.cc\n $(c_files): %.lo: %.c\n \t$(LTCOMPILE) -c -o $@ $<\n \n+$(extra_cc_files): %.lo: %.cc\n+\t$(LTCXXCOMPILE) -c -o $@ $<\n+\n $(c_files): java/lang/fdlibm.h java/lang/ieeefp.h java/lang/mprec.h\n \n $(gtk_c_files): %.lo: %.c"}, {"sha": "a749310edbe0a0da8f3130de47ab8dd9215ff330", "filename": "libjava/configure", "status": "modified", "additions": 308, "deletions": 299, "changes": 607, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=1322946805597f3b80f585da69c3447a79a37de0", "patch": "@@ -2966,6 +2966,9 @@ if test \"${with_ecos+set}\" = set; then\n fi\n \n \n+EXTRA_CC_FILES=\n+\n+\n PLATFORMOBJS=\n case \"$TARGET_ECOS\" in\n    no) case \"$host\" in\n@@ -2976,7 +2979,7 @@ case \"$TARGET_ECOS\" in\n \t    PLATFORMH=win32.h\n         \n echo $ac_n \"checking whether 'ld' is at least 2.13\"\"... $ac_c\" 1>&6\n-echo \"configure:2980: checking whether 'ld' is at least 2.13\" >&5\n+echo \"configure:2983: checking whether 'ld' is at least 2.13\" >&5\n LD_PROG=`$CC --print-prog-name=ld`\n LD_VERSION=`$LD_PROG --version`\n LD_VERSION_MAJOR=`echo \"$LD_VERSION\" | head -1 | cut -d '.' -f 1 | cut -d ' ' -f 4`\n@@ -3022,7 +3025,7 @@ esac\n \n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:3026: checking how to run the C preprocessor\" >&5\n+echo \"configure:3029: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -3037,13 +3040,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 3041 \"configure\"\n+#line 3044 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3047: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3050: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -3054,13 +3057,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 3058 \"configure\"\n+#line 3061 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3064: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3067: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -3071,13 +3074,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 3075 \"configure\"\n+#line 3078 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3081: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3084: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -3102,7 +3105,7 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n cat > conftest.$ac_ext <<EOF\n-#line 3106 \"configure\"\n+#line 3109 \"configure\"\n #include \"confdefs.h\"\n #include <stdint.h>\n EOF\n@@ -3117,7 +3120,7 @@ fi\n rm -f conftest*\n \n cat > conftest.$ac_ext <<EOF\n-#line 3121 \"configure\"\n+#line 3124 \"configure\"\n #include \"confdefs.h\"\n #include <inttypes.h>\n EOF\n@@ -3132,7 +3135,7 @@ fi\n rm -f conftest*\n \n cat > conftest.$ac_ext <<EOF\n-#line 3136 \"configure\"\n+#line 3139 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n EOF\n@@ -3147,7 +3150,7 @@ fi\n rm -f conftest*\n \n cat > conftest.$ac_ext <<EOF\n-#line 3151 \"configure\"\n+#line 3154 \"configure\"\n #include \"confdefs.h\"\n #include <sys/config.h>\n EOF\n@@ -3164,7 +3167,7 @@ rm -f conftest*\n \n \n cat > conftest.$ac_ext <<EOF\n-#line 3168 \"configure\"\n+#line 3171 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n EOF\n@@ -3179,7 +3182,7 @@ fi\n rm -f conftest*\n \n cat > conftest.$ac_ext <<EOF\n-#line 3183 \"configure\"\n+#line 3186 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n EOF\n@@ -3242,7 +3245,7 @@ ZLIBTESTSPEC=\n # Uses ac_ vars as temps to allow command line to override cache and checks.\n # --without-x overrides everything else, but does not touch the cache.\n echo $ac_n \"checking for X\"\"... $ac_c\" 1>&6\n-echo \"configure:3246: checking for X\" >&5\n+echo \"configure:3249: checking for X\" >&5\n \n # Check whether --with-x or --without-x was given.\n if test \"${with_x+set}\" = set; then\n@@ -3304,12 +3307,12 @@ if test \"$ac_x_includes\" = NO; then\n \n   # First, try using that file with no special directory specified.\n cat > conftest.$ac_ext <<EOF\n-#line 3308 \"configure\"\n+#line 3311 \"configure\"\n #include \"confdefs.h\"\n #include <$x_direct_test_include>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3313: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3316: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3378,14 +3381,14 @@ if test \"$ac_x_libraries\" = NO; then\n   ac_save_LIBS=\"$LIBS\"\n   LIBS=\"-l$x_direct_test_library $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 3382 \"configure\"\n+#line 3385 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n ${x_direct_test_function}()\n ; return 0; }\n EOF\n-if { (eval echo configure:3389: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3392: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   LIBS=\"$ac_save_LIBS\"\n # We can link X programs with no special library path.\n@@ -3491,17 +3494,17 @@ else\n     case \"`(uname -sr) 2>/dev/null`\" in\n     \"SunOS 5\"*)\n       echo $ac_n \"checking whether -R must be followed by a space\"\"... $ac_c\" 1>&6\n-echo \"configure:3495: checking whether -R must be followed by a space\" >&5\n+echo \"configure:3498: checking whether -R must be followed by a space\" >&5\n       ac_xsave_LIBS=\"$LIBS\"; LIBS=\"$LIBS -R$x_libraries\"\n       cat > conftest.$ac_ext <<EOF\n-#line 3498 \"configure\"\n+#line 3501 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3505: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3508: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_R_nospace=yes\n else\n@@ -3517,14 +3520,14 @@ rm -f conftest*\n       else\n \tLIBS=\"$ac_xsave_LIBS -R $x_libraries\"\n \tcat > conftest.$ac_ext <<EOF\n-#line 3521 \"configure\"\n+#line 3524 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3528: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3531: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_R_space=yes\n else\n@@ -3556,15 +3559,15 @@ rm -f conftest*\n     # libraries were built with DECnet support.  And karl@cs.umb.edu says\n     # the Alpha needs dnet_stub (dnet does not exist).\n     echo $ac_n \"checking for dnet_ntoa in -ldnet\"\"... $ac_c\" 1>&6\n-echo \"configure:3560: checking for dnet_ntoa in -ldnet\" >&5\n+echo \"configure:3563: checking for dnet_ntoa in -ldnet\" >&5\n ac_lib_var=`echo dnet'_'dnet_ntoa | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-ldnet  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 3568 \"configure\"\n+#line 3571 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3575,7 +3578,7 @@ int main() {\n dnet_ntoa()\n ; return 0; }\n EOF\n-if { (eval echo configure:3579: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3582: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -3597,15 +3600,15 @@ fi\n \n     if test $ac_cv_lib_dnet_dnet_ntoa = no; then\n       echo $ac_n \"checking for dnet_ntoa in -ldnet_stub\"\"... $ac_c\" 1>&6\n-echo \"configure:3601: checking for dnet_ntoa in -ldnet_stub\" >&5\n+echo \"configure:3604: checking for dnet_ntoa in -ldnet_stub\" >&5\n ac_lib_var=`echo dnet_stub'_'dnet_ntoa | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-ldnet_stub  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 3609 \"configure\"\n+#line 3612 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3616,7 +3619,7 @@ int main() {\n dnet_ntoa()\n ; return 0; }\n EOF\n-if { (eval echo configure:3620: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3623: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -3645,12 +3648,12 @@ fi\n     # The nsl library prevents programs from opening the X display\n     # on Irix 5.2, according to dickey@clark.net.\n     echo $ac_n \"checking for gethostbyname\"\"... $ac_c\" 1>&6\n-echo \"configure:3649: checking for gethostbyname\" >&5\n+echo \"configure:3652: checking for gethostbyname\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_gethostbyname'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3654 \"configure\"\n+#line 3657 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char gethostbyname(); below.  */\n@@ -3673,7 +3676,7 @@ gethostbyname();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3677: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3680: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_gethostbyname=yes\"\n else\n@@ -3694,15 +3697,15 @@ fi\n \n     if test $ac_cv_func_gethostbyname = no; then\n       echo $ac_n \"checking for gethostbyname in -lnsl\"\"... $ac_c\" 1>&6\n-echo \"configure:3698: checking for gethostbyname in -lnsl\" >&5\n+echo \"configure:3701: checking for gethostbyname in -lnsl\" >&5\n ac_lib_var=`echo nsl'_'gethostbyname | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lnsl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 3706 \"configure\"\n+#line 3709 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3713,7 +3716,7 @@ int main() {\n gethostbyname()\n ; return 0; }\n EOF\n-if { (eval echo configure:3717: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3720: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -3743,12 +3746,12 @@ fi\n     # -lsocket must be given before -lnsl if both are needed.\n     # We assume that if connect needs -lnsl, so does gethostbyname.\n     echo $ac_n \"checking for connect\"\"... $ac_c\" 1>&6\n-echo \"configure:3747: checking for connect\" >&5\n+echo \"configure:3750: checking for connect\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_connect'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3752 \"configure\"\n+#line 3755 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char connect(); below.  */\n@@ -3771,7 +3774,7 @@ connect();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3775: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3778: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_connect=yes\"\n else\n@@ -3792,15 +3795,15 @@ fi\n \n     if test $ac_cv_func_connect = no; then\n       echo $ac_n \"checking for connect in -lsocket\"\"... $ac_c\" 1>&6\n-echo \"configure:3796: checking for connect in -lsocket\" >&5\n+echo \"configure:3799: checking for connect in -lsocket\" >&5\n ac_lib_var=`echo socket'_'connect | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lsocket $X_EXTRA_LIBS $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 3804 \"configure\"\n+#line 3807 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3811,7 +3814,7 @@ int main() {\n connect()\n ; return 0; }\n EOF\n-if { (eval echo configure:3815: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3818: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -3835,12 +3838,12 @@ fi\n \n     # gomez@mi.uni-erlangen.de says -lposix is necessary on A/UX.\n     echo $ac_n \"checking for remove\"\"... $ac_c\" 1>&6\n-echo \"configure:3839: checking for remove\" >&5\n+echo \"configure:3842: checking for remove\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_remove'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3844 \"configure\"\n+#line 3847 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char remove(); below.  */\n@@ -3863,7 +3866,7 @@ remove();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3867: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3870: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_remove=yes\"\n else\n@@ -3884,15 +3887,15 @@ fi\n \n     if test $ac_cv_func_remove = no; then\n       echo $ac_n \"checking for remove in -lposix\"\"... $ac_c\" 1>&6\n-echo \"configure:3888: checking for remove in -lposix\" >&5\n+echo \"configure:3891: checking for remove in -lposix\" >&5\n ac_lib_var=`echo posix'_'remove | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 3896 \"configure\"\n+#line 3899 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3903,7 +3906,7 @@ int main() {\n remove()\n ; return 0; }\n EOF\n-if { (eval echo configure:3907: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3910: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -3927,12 +3930,12 @@ fi\n \n     # BSDI BSD/OS 2.1 needs -lipc for XOpenDisplay.\n     echo $ac_n \"checking for shmat\"\"... $ac_c\" 1>&6\n-echo \"configure:3931: checking for shmat\" >&5\n+echo \"configure:3934: checking for shmat\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_shmat'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3936 \"configure\"\n+#line 3939 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char shmat(); below.  */\n@@ -3955,7 +3958,7 @@ shmat();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3959: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3962: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_shmat=yes\"\n else\n@@ -3976,15 +3979,15 @@ fi\n \n     if test $ac_cv_func_shmat = no; then\n       echo $ac_n \"checking for shmat in -lipc\"\"... $ac_c\" 1>&6\n-echo \"configure:3980: checking for shmat in -lipc\" >&5\n+echo \"configure:3983: checking for shmat in -lipc\" >&5\n ac_lib_var=`echo ipc'_'shmat | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lipc  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 3988 \"configure\"\n+#line 3991 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3995,7 +3998,7 @@ int main() {\n shmat()\n ; return 0; }\n EOF\n-if { (eval echo configure:3999: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4002: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -4028,15 +4031,15 @@ fi\n   # libraries we check for below, so use a different variable.\n   #  --interran@uluru.Stanford.EDU, kb@cs.umb.edu.\n   echo $ac_n \"checking for IceConnectionNumber in -lICE\"\"... $ac_c\" 1>&6\n-echo \"configure:4032: checking for IceConnectionNumber in -lICE\" >&5\n+echo \"configure:4035: checking for IceConnectionNumber in -lICE\" >&5\n ac_lib_var=`echo ICE'_'IceConnectionNumber | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lICE $X_EXTRA_LIBS $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 4040 \"configure\"\n+#line 4043 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -4047,7 +4050,7 @@ int main() {\n IceConnectionNumber()\n ; return 0; }\n EOF\n-if { (eval echo configure:4051: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4054: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -4145,7 +4148,7 @@ fi\n libsubdir=.libs\n \n echo $ac_n \"checking for garbage collector to use\"\"... $ac_c\" 1>&6\n-echo \"configure:4149: checking for garbage collector to use\" >&5\n+echo \"configure:4152: checking for garbage collector to use\" >&5\n # Check whether --enable-java-gc or --disable-java-gc was given.\n if test \"${enable_java_gc+set}\" = set; then\n   enableval=\"$enable_java_gc\"\n@@ -4197,7 +4200,7 @@ esac\n \n \n echo $ac_n \"checking for thread model used by GCC\"\"... $ac_c\" 1>&6\n-echo \"configure:4201: checking for thread model used by GCC\" >&5\n+echo \"configure:4204: checking for thread model used by GCC\" >&5\n THREADS=`$CC -v 2>&1 | sed -n 's/^Thread model: //p'`\n echo \"$ac_t\"\"$THREADS\" 1>&6\n \n@@ -4408,12 +4411,12 @@ else\n    for ac_func in strerror ioctl select fstat open fsync sleep opendir\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:4412: checking for $ac_func\" >&5\n+echo \"configure:4415: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4417 \"configure\"\n+#line 4420 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -4436,7 +4439,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4440: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4443: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4463,12 +4466,12 @@ done\n    for ac_func in gmtime_r localtime_r readdir_r getpwuid_r getcwd\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:4467: checking for $ac_func\" >&5\n+echo \"configure:4470: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4472 \"configure\"\n+#line 4475 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -4491,7 +4494,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4495: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4498: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4518,12 +4521,12 @@ done\n    for ac_func in access stat mkdir rename rmdir unlink realpath utime chmod\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:4522: checking for $ac_func\" >&5\n+echo \"configure:4525: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4527 \"configure\"\n+#line 4530 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -4546,7 +4549,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4550: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4553: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4573,12 +4576,12 @@ done\n    for ac_func in nl_langinfo setlocale\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:4577: checking for $ac_func\" >&5\n+echo \"configure:4580: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4582 \"configure\"\n+#line 4585 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -4601,7 +4604,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4605: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4608: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4628,12 +4631,12 @@ done\n    for ac_func in inet_aton inet_addr\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:4632: checking for $ac_func\" >&5\n+echo \"configure:4635: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4637 \"configure\"\n+#line 4640 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -4656,7 +4659,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4660: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4663: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4683,12 +4686,12 @@ done\n    for ac_func in inet_pton uname inet_ntoa\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:4687: checking for $ac_func\" >&5\n+echo \"configure:4690: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4692 \"configure\"\n+#line 4695 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -4711,7 +4714,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4715: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4718: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4738,12 +4741,12 @@ done\n    for ac_func in fork execvp pipe sigaction ftruncate\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:4742: checking for $ac_func\" >&5\n+echo \"configure:4745: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4747 \"configure\"\n+#line 4750 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -4766,7 +4769,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4770: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4773: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4794,17 +4797,17 @@ done\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:4798: checking for $ac_hdr\" >&5\n+echo \"configure:4801: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4803 \"configure\"\n+#line 4806 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:4808: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:4811: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -4831,12 +4834,12 @@ fi\n done\n  \n    echo $ac_n \"checking for backtrace\"\"... $ac_c\" 1>&6\n-echo \"configure:4835: checking for backtrace\" >&5\n+echo \"configure:4838: checking for backtrace\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_backtrace'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4840 \"configure\"\n+#line 4843 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char backtrace(); below.  */\n@@ -4859,7 +4862,7 @@ backtrace();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4863: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4866: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_backtrace=yes\"\n else\n@@ -4878,6 +4881,15 @@ if eval \"test \\\"`echo '$ac_cv_func_'backtrace`\\\" = yes\"; then\n        ia64-*-linux*)\n \t # Has broken backtrace()\n \t ;;\n+       mips*-*-linux*)\n+         # Has broken backtrace(), but we supply our own.\n+         if test -d sysdep; then true; else mkdir -p sysdep; fi\n+         EXTRA_CC_FILES=\"${EXTRA_CC_FILES} sysdep/dwarf2-backtrace.cc\"\n+         cat >> confdefs.h <<\\EOF\n+#define HAVE_BACKTRACE 1\n+EOF\n+\n+         ;;\n        *)\n          cat >> confdefs.h <<\\EOF\n #define HAVE_BACKTRACE 1\n@@ -4903,15 +4915,15 @@ fi\n \n \n    echo $ac_n \"checking for dladdr in -ldl\"\"... $ac_c\" 1>&6\n-echo \"configure:4907: checking for dladdr in -ldl\" >&5\n+echo \"configure:4919: checking for dladdr in -ldl\" >&5\n ac_lib_var=`echo dl'_'dladdr | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-ldl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 4915 \"configure\"\n+#line 4927 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -4922,7 +4934,7 @@ int main() {\n dladdr()\n ; return 0; }\n EOF\n-if { (eval echo configure:4926: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4938: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -4938,10 +4950,16 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   \n-     cat >> confdefs.h <<\\EOF\n+     if test \"x${disable_dladdr}\" = \"xyes\"; then\n+       #Broken dladdr().\n+       true\n+     else\n+       cat >> confdefs.h <<\\EOF\n #define HAVE_DLADDR 1\n EOF\n \n+     fi\n+   \n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n@@ -4952,7 +4970,7 @@ do\n \n ac_safe=`echo \"$ac_file\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_file\"\"... $ac_c\" 1>&6\n-echo \"configure:4956: checking for $ac_file\" >&5\n+echo \"configure:4974: checking for $ac_file\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_file_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5010,15 +5028,15 @@ fi\n \n \n   echo $ac_n \"checking for iconv\"\"... $ac_c\" 1>&6\n-echo \"configure:5014: checking for iconv\" >&5\n+echo \"configure:5032: checking for iconv\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_func_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n     am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n     am_cv_lib_iconv=no\n     cat > conftest.$ac_ext <<EOF\n-#line 5022 \"configure\"\n+#line 5040 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -5028,7 +5046,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n        iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:5032: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5050: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_func_iconv=yes\n else\n@@ -5040,7 +5058,7 @@ rm -f conftest*\n       am_save_LIBS=\"$LIBS\"\n       LIBS=\"$LIBS $am_cv_libiconv_ldpath -liconv\"\n       cat > conftest.$ac_ext <<EOF\n-#line 5044 \"configure\"\n+#line 5062 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -5050,7 +5068,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n          iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:5054: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5072: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_lib_iconv=yes\n         am_cv_func_iconv=yes\n@@ -5071,13 +5089,13 @@ echo \"$ac_t\"\"$am_cv_func_iconv\" 1>&6\n EOF\n \n     echo $ac_n \"checking for iconv declaration\"\"... $ac_c\" 1>&6\n-echo \"configure:5075: checking for iconv declaration\" >&5\n+echo \"configure:5093: checking for iconv declaration\" >&5\n     if eval \"test \\\"`echo '$''{'am_cv_proto_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n       cat > conftest.$ac_ext <<EOF\n-#line 5081 \"configure\"\n+#line 5099 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdlib.h>\n@@ -5096,7 +5114,7 @@ int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5100: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5118: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   am_cv_proto_iconv_arg1=\"\"\n else\n@@ -5127,17 +5145,17 @@ EOF\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:5131: checking for $ac_hdr\" >&5\n+echo \"configure:5149: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5136 \"configure\"\n+#line 5154 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:5141: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:5159: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -5165,19 +5183,19 @@ done\n \n   if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:5169: checking for LC_MESSAGES\" >&5\n+echo \"configure:5187: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5174 \"configure\"\n+#line 5192 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:5181: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5199: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -5198,20 +5216,20 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether struct tm is in sys/time.h or time.h\"\"... $ac_c\" 1>&6\n-echo \"configure:5202: checking whether struct tm is in sys/time.h or time.h\" >&5\n+echo \"configure:5220: checking whether struct tm is in sys/time.h or time.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_tm'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5207 \"configure\"\n+#line 5225 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <time.h>\n int main() {\n struct tm *tp; tp->tm_sec;\n ; return 0; }\n EOF\n-if { (eval echo configure:5215: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5233: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_tm=time.h\n else\n@@ -5232,20 +5250,20 @@ EOF\n fi\n \n echo $ac_n \"checking for tm_zone in struct tm\"\"... $ac_c\" 1>&6\n-echo \"configure:5236: checking for tm_zone in struct tm\" >&5\n+echo \"configure:5254: checking for tm_zone in struct tm\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_tm_zone'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5241 \"configure\"\n+#line 5259 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <$ac_cv_struct_tm>\n int main() {\n struct tm tm; tm.tm_zone;\n ; return 0; }\n EOF\n-if { (eval echo configure:5249: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5267: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_tm_zone=yes\n else\n@@ -5265,12 +5283,12 @@ EOF\n \n else\n   echo $ac_n \"checking for tzname\"\"... $ac_c\" 1>&6\n-echo \"configure:5269: checking for tzname\" >&5\n+echo \"configure:5287: checking for tzname\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_var_tzname'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5274 \"configure\"\n+#line 5292 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n #ifndef tzname /* For SGI.  */\n@@ -5280,7 +5298,7 @@ int main() {\n atoi(*tzname);\n ; return 0; }\n EOF\n-if { (eval echo configure:5284: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5302: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_var_tzname=yes\n else\n@@ -5305,12 +5323,12 @@ fi\n    for ac_func in gethostbyname_r\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:5309: checking for $ac_func\" >&5\n+echo \"configure:5327: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5314 \"configure\"\n+#line 5332 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -5333,7 +5351,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5337: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5355: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -5360,7 +5378,7 @@ EOF\n      # We look for the one that returns `int'.\n      # Hopefully this check is robust enough.\n      cat > conftest.$ac_ext <<EOF\n-#line 5364 \"configure\"\n+#line 5382 \"configure\"\n #include \"confdefs.h\"\n #include <netdb.h>\n EOF\n@@ -5380,7 +5398,7 @@ rm -f conftest*\n      *\" -D_REENTRANT \"*) ;;\n      *)\n \t\techo $ac_n \"checking whether gethostbyname_r declaration requires -D_REENTRANT\"\"... $ac_c\" 1>&6\n-echo \"configure:5384: checking whether gethostbyname_r declaration requires -D_REENTRANT\" >&5\n+echo \"configure:5402: checking whether gethostbyname_r declaration requires -D_REENTRANT\" >&5\n if eval \"test \\\"`echo '$''{'libjava_cv_gethostbyname_r_needs_reentrant'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5393,14 +5411,14 @@ ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftes\n cross_compiling=$ac_cv_prog_cxx_cross\n \n \t  cat > conftest.$ac_ext <<EOF\n-#line 5397 \"configure\"\n+#line 5415 \"configure\"\n #include \"confdefs.h\"\n #include <netdb.h>\n int main() {\n gethostbyname_r(\"\", 0, 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:5404: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5422: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   libjava_cv_gethostbyname_r_needs_reentrant=no\n else\n@@ -5410,14 +5428,14 @@ else\n   \t\tCPPFLAGS_SAVE=\"$CPPFLAGS\"\n \t\tCPPFLAGS=\"$CPPFLAGS -D_REENTRANT\"\n \t\tcat > conftest.$ac_ext <<EOF\n-#line 5414 \"configure\"\n+#line 5432 \"configure\"\n #include \"confdefs.h\"\n #include <netdb.h>\n int main() {\n gethostbyname_r(\"\", 0, 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:5421: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5439: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   libjava_cv_gethostbyname_r_needs_reentrant=yes\n else\n@@ -5452,12 +5470,12 @@ EOF\n      esac\n \n      echo $ac_n \"checking for struct hostent_data\"\"... $ac_c\" 1>&6\n-echo \"configure:5456: checking for struct hostent_data\" >&5\n+echo \"configure:5474: checking for struct hostent_data\" >&5\n if eval \"test \\\"`echo '$''{'libjava_cv_struct_hostent_data'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \tcat > conftest.$ac_ext <<EOF\n-#line 5461 \"configure\"\n+#line 5479 \"configure\"\n #include \"confdefs.h\"\n \n #if GETHOSTBYNAME_R_NEEDS_REENTRANT && !defined(_REENTRANT)\n@@ -5468,7 +5486,7 @@ int main() {\n struct hostent_data data;\n ; return 0; }\n EOF\n-if { (eval echo configure:5472: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5490: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   libjava_cv_struct_hostent_data=yes\n else\n@@ -5500,7 +5518,7 @@ done\n    # to exist where expected.  (The root issue: AC_CHECK_FUNCS assumes C\n    # linkage check is enough, yet C++ code requires proper prototypes.)\n    cat > conftest.$ac_ext <<EOF\n-#line 5504 \"configure\"\n+#line 5522 \"configure\"\n #include \"confdefs.h\"\n #include <netdb.h>\n EOF\n@@ -5511,12 +5529,12 @@ if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n    for ac_func in gethostbyaddr_r\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:5515: checking for $ac_func\" >&5\n+echo \"configure:5533: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5520 \"configure\"\n+#line 5538 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -5539,7 +5557,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5543: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5561: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -5566,7 +5584,7 @@ EOF\n      # We look for the one that returns `int'.\n      # Hopefully this check is robust enough.\n      cat > conftest.$ac_ext <<EOF\n-#line 5570 \"configure\"\n+#line 5588 \"configure\"\n #include \"confdefs.h\"\n #include <netdb.h>\n EOF\n@@ -5593,12 +5611,12 @@ rm -f conftest*\n    for ac_func in gethostname\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:5597: checking for $ac_func\" >&5\n+echo \"configure:5615: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5602 \"configure\"\n+#line 5620 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -5621,7 +5639,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5625: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5643: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -5645,7 +5663,7 @@ EOF\n EOF\n \n      cat > conftest.$ac_ext <<EOF\n-#line 5649 \"configure\"\n+#line 5667 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n EOF\n@@ -5669,12 +5687,12 @@ done\n    for ac_func in usleep\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:5673: checking for $ac_func\" >&5\n+echo \"configure:5691: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5678 \"configure\"\n+#line 5696 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -5697,7 +5715,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5701: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5719: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -5717,7 +5735,7 @@ if eval \"test \\\"`echo '$ac_cv_func_'$ac_func`\\\" = yes\"; then\n EOF\n  \n      cat > conftest.$ac_ext <<EOF\n-#line 5721 \"configure\"\n+#line 5739 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n EOF\n@@ -5748,12 +5766,12 @@ done\n       for ac_func in pthread_mutexattr_settype pthread_mutexattr_setkind_np\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:5752: checking for $ac_func\" >&5\n+echo \"configure:5770: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5757 \"configure\"\n+#line 5775 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -5776,7 +5794,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5780: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5798: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -5806,12 +5824,12 @@ done\n       for ac_func in sched_yield\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:5810: checking for $ac_func\" >&5\n+echo \"configure:5828: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5815 \"configure\"\n+#line 5833 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -5834,7 +5852,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5838: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5856: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -5856,15 +5874,15 @@ EOF\n else\n   echo \"$ac_t\"\"no\" 1>&6\n echo $ac_n \"checking for sched_yield in -lrt\"\"... $ac_c\" 1>&6\n-echo \"configure:5860: checking for sched_yield in -lrt\" >&5\n+echo \"configure:5878: checking for sched_yield in -lrt\" >&5\n ac_lib_var=`echo rt'_'sched_yield | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lrt  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5868 \"configure\"\n+#line 5886 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5875,7 +5893,7 @@ int main() {\n sched_yield()\n ; return 0; }\n EOF\n-if { (eval echo configure:5879: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5897: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -5901,15 +5919,15 @@ else\n   echo \"$ac_t\"\"no\" 1>&6\n \n \t  echo $ac_n \"checking for sched_yield in -lposix4\"\"... $ac_c\" 1>&6\n-echo \"configure:5905: checking for sched_yield in -lposix4\" >&5\n+echo \"configure:5923: checking for sched_yield in -lposix4\" >&5\n ac_lib_var=`echo posix4'_'sched_yield | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lposix4  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5913 \"configure\"\n+#line 5931 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5920,7 +5938,7 @@ int main() {\n sched_yield()\n ; return 0; }\n EOF\n-if { (eval echo configure:5924: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5942: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -5956,7 +5974,7 @@ done\n       # We can save a little space at runtime if the mutex has m_count\n       # or __m_count.  This is a nice hack for Linux.\n       cat > conftest.$ac_ext <<EOF\n-#line 5960 \"configure\"\n+#line 5978 \"configure\"\n #include \"confdefs.h\"\n #include <pthread.h>\n int main() {\n@@ -5965,7 +5983,7 @@ int main() {\n         \n ; return 0; }\n EOF\n-if { (eval echo configure:5969: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5987: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define PTHREAD_MUTEX_HAVE_M_COUNT 1\n@@ -5977,7 +5995,7 @@ else\n   rm -rf conftest*\n   \n \tcat > conftest.$ac_ext <<EOF\n-#line 5981 \"configure\"\n+#line 5999 \"configure\"\n #include \"confdefs.h\"\n #include <pthread.h>\n int main() {\n@@ -5986,7 +6004,7 @@ int main() {\n \t  \n ; return 0; }\n EOF\n-if { (eval echo configure:5990: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6008: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define PTHREAD_MUTEX_HAVE___M_COUNT 1\n@@ -6006,12 +6024,12 @@ rm -f conftest*\n    for ac_func in gettimeofday time ftime\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6010: checking for $ac_func\" >&5\n+echo \"configure:6028: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6015 \"configure\"\n+#line 6033 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6034,7 +6052,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6038: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6056: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6065,12 +6083,12 @@ done\n    for ac_func in memmove\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6069: checking for $ac_func\" >&5\n+echo \"configure:6087: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6074 \"configure\"\n+#line 6092 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6093,7 +6111,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6097: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6115: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6123,12 +6141,12 @@ done\n    for ac_func in memcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6127: checking for $ac_func\" >&5\n+echo \"configure:6145: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6132 \"configure\"\n+#line 6150 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6151,7 +6169,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6155: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6173: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6180,15 +6198,15 @@ done\n    fi\n \n    echo $ac_n \"checking for dlopen in -ldl\"\"... $ac_c\" 1>&6\n-echo \"configure:6184: checking for dlopen in -ldl\" >&5\n+echo \"configure:6202: checking for dlopen in -ldl\" >&5\n ac_lib_var=`echo dl'_'dlopen | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-ldl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6192 \"configure\"\n+#line 6210 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6199,7 +6217,7 @@ int main() {\n dlopen()\n ; return 0; }\n EOF\n-if { (eval echo configure:6203: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6221: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -6244,20 +6262,20 @@ fi\n    #--------------------------------------------------------------------\n \n    echo $ac_n \"checking for socket libraries\"\"... $ac_c\" 1>&6\n-echo \"configure:6248: checking for socket libraries\" >&5\n+echo \"configure:6266: checking for socket libraries\" >&5\n if eval \"test \\\"`echo '$''{'gcj_cv_lib_sockets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcj_cv_lib_sockets=\n      gcj_checkBoth=0\n      unset ac_cv_func_connect\n      echo $ac_n \"checking for connect\"\"... $ac_c\" 1>&6\n-echo \"configure:6256: checking for connect\" >&5\n+echo \"configure:6274: checking for connect\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_connect'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6261 \"configure\"\n+#line 6279 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char connect(); below.  */\n@@ -6280,7 +6298,7 @@ connect();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6284: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6302: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_connect=yes\"\n else\n@@ -6303,22 +6321,22 @@ fi\n      if test \"$gcj_checkSocket\" = 1; then\n \t unset ac_cv_func_connect\n \t echo $ac_n \"checking for main in -lsocket\"\"... $ac_c\" 1>&6\n-echo \"configure:6307: checking for main in -lsocket\" >&5\n+echo \"configure:6325: checking for main in -lsocket\" >&5\n ac_lib_var=`echo socket'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lsocket  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6315 \"configure\"\n+#line 6333 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:6322: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6340: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -6345,12 +6363,12 @@ fi\n \t LIBS=\"$LIBS -lsocket -lnsl\"\n \t unset ac_cv_func_accept\n \t echo $ac_n \"checking for accept\"\"... $ac_c\" 1>&6\n-echo \"configure:6349: checking for accept\" >&5\n+echo \"configure:6367: checking for accept\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_accept'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6354 \"configure\"\n+#line 6372 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char accept(); below.  */\n@@ -6373,7 +6391,7 @@ accept();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6377: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6395: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_accept=yes\"\n else\n@@ -6400,12 +6418,12 @@ fi\n      gcj_oldLibs=$LIBS\n      LIBS=\"$LIBS $gcj_cv_lib_sockets\"\n      echo $ac_n \"checking for gethostbyname\"\"... $ac_c\" 1>&6\n-echo \"configure:6404: checking for gethostbyname\" >&5\n+echo \"configure:6422: checking for gethostbyname\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_gethostbyname'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6409 \"configure\"\n+#line 6427 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char gethostbyname(); below.  */\n@@ -6428,7 +6446,7 @@ gethostbyname();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6432: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6450: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_gethostbyname=yes\"\n else\n@@ -6446,22 +6464,22 @@ if eval \"test \\\"`echo '$ac_cv_func_'gethostbyname`\\\" = yes\"; then\n else\n   echo \"$ac_t\"\"no\" 1>&6\n echo $ac_n \"checking for main in -lnsl\"\"... $ac_c\" 1>&6\n-echo \"configure:6450: checking for main in -lnsl\" >&5\n+echo \"configure:6468: checking for main in -lnsl\" >&5\n ac_lib_var=`echo nsl'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lnsl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6458 \"configure\"\n+#line 6476 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:6465: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6483: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -6493,15 +6511,15 @@ echo \"$ac_t\"\"$gcj_cv_lib_sockets\" 1>&6\n \n    if test \"$with_system_zlib\" = yes; then\n       echo $ac_n \"checking for deflate in -lz\"\"... $ac_c\" 1>&6\n-echo \"configure:6497: checking for deflate in -lz\" >&5\n+echo \"configure:6515: checking for deflate in -lz\" >&5\n ac_lib_var=`echo z'_'deflate | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lz  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6505 \"configure\"\n+#line 6523 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6512,7 +6530,7 @@ int main() {\n deflate()\n ; return 0; }\n EOF\n-if { (eval echo configure:6516: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6534: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -6561,7 +6579,7 @@ fi\n   # Extract the first word of \"pkg-config\", so it can be a program name with args.\n set dummy pkg-config; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6565: checking for $ac_word\" >&5\n+echo \"configure:6583: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_PKG_CONFIG'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6609,7 +6627,7 @@ fi\n \n   min_gtk_version=2.0.0\n   echo $ac_n \"checking for GTK+ - version >= $min_gtk_version\"\"... $ac_c\" 1>&6\n-echo \"configure:6613: checking for GTK+ - version >= $min_gtk_version\" >&5\n+echo \"configure:6631: checking for GTK+ - version >= $min_gtk_version\" >&5\n \n   if test x$PKG_CONFIG != xno ; then\n     ## don't try to run the test against uninstalled libtool libs\n@@ -6644,7 +6662,7 @@ echo \"configure:6613: checking for GTK+ - version >= $min_gtk_version\" >&5\n   echo $ac_n \"cross compiling; assumed OK... $ac_c\"\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6648 \"configure\"\n+#line 6666 \"configure\"\n #include \"confdefs.h\"\n \n #include <gtk/gtk.h>\n@@ -6719,7 +6737,7 @@ main ()\n }\n \n EOF\n-if { (eval echo configure:6723: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:6741: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -6753,7 +6771,7 @@ fi\n           CFLAGS=\"$CFLAGS $GTK_CFLAGS\"\n           LIBS=\"$LIBS $GTK_LIBS\"\n           cat > conftest.$ac_ext <<EOF\n-#line 6757 \"configure\"\n+#line 6775 \"configure\"\n #include \"confdefs.h\"\n \n #include <gtk/gtk.h>\n@@ -6763,7 +6781,7 @@ int main() {\n  return ((gtk_major_version) || (gtk_minor_version) || (gtk_micro_version)); \n ; return 0; }\n EOF\n-if { (eval echo configure:6767: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6785: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n    echo \"*** The test program compiled, but did not run. This usually means\"\n           echo \"*** that the run-time linker is not finding GTK+ or finding the wrong\"\n@@ -6822,7 +6840,7 @@ fi\n   # Extract the first word of \"pkg-config\", so it can be a program name with args.\n set dummy pkg-config; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6826: checking for $ac_word\" >&5\n+echo \"configure:6844: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_PKG_CONFIG'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6872,7 +6890,7 @@ fi\n \n   min_glib_version=2.0.0\n   echo $ac_n \"checking for GLIB - version >= $min_glib_version\"\"... $ac_c\" 1>&6\n-echo \"configure:6876: checking for GLIB - version >= $min_glib_version\" >&5\n+echo \"configure:6894: checking for GLIB - version >= $min_glib_version\" >&5\n \n   if test x$PKG_CONFIG != xno ; then\n     ## don't try to run the test against uninstalled libtool libs\n@@ -6911,7 +6929,7 @@ echo \"configure:6876: checking for GLIB - version >= $min_glib_version\" >&5\n   echo $ac_n \"cross compiling; assumed OK... $ac_c\"\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6915 \"configure\"\n+#line 6933 \"configure\"\n #include \"confdefs.h\"\n \n #include <glib.h>\n@@ -6986,7 +7004,7 @@ main ()\n }\n \n EOF\n-if { (eval echo configure:6990: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:7008: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -7020,7 +7038,7 @@ fi\n           CFLAGS=\"$CFLAGS $GLIB_CFLAGS\"\n           LIBS=\"$LIBS $GLIB_LIBS\"\n           cat > conftest.$ac_ext <<EOF\n-#line 7024 \"configure\"\n+#line 7042 \"configure\"\n #include \"confdefs.h\"\n \n #include <glib.h>\n@@ -7030,7 +7048,7 @@ int main() {\n  return ((glib_major_version) || (glib_minor_version) || (glib_micro_version)); \n ; return 0; }\n EOF\n-if { (eval echo configure:7034: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7052: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n    echo \"*** The test program compiled, but did not run. This usually means\"\n           echo \"*** that the run-time linker is not finding GLIB or finding the wrong\"\n@@ -7109,7 +7127,7 @@ fi\n   # Extract the first word of \"libart2-config\", so it can be a program name with args.\n set dummy libart2-config; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7113: checking for $ac_word\" >&5\n+echo \"configure:7131: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_LIBART_CONFIG'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7146,7 +7164,7 @@ fi\n     # Extract the first word of \"libart-config\", so it can be a program name with args.\n set dummy libart-config; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7150: checking for $ac_word\" >&5\n+echo \"configure:7168: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_LIBART_CONFIG'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7182,7 +7200,7 @@ fi\n   fi\n   min_libart_version=2.1.0\n   echo $ac_n \"checking for LIBART - version >= $min_libart_version\"\"... $ac_c\" 1>&6\n-echo \"configure:7186: checking for LIBART - version >= $min_libart_version\" >&5\n+echo \"configure:7204: checking for LIBART - version >= $min_libart_version\" >&5\n   no_libart=\"\"\n   if test \"$LIBART_CONFIG\" = \"no\" ; then\n     no_libart=yes\n@@ -7206,7 +7224,7 @@ echo \"configure:7186: checking for LIBART - version >= $min_libart_version\" >&5\n   echo $ac_n \"cross compiling; assumed OK... $ac_c\"\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7210 \"configure\"\n+#line 7228 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -7264,7 +7282,7 @@ int main ()\n \n \n EOF\n-if { (eval echo configure:7268: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:7286: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -7298,7 +7316,7 @@ fi\n           CFLAGS=\"$CFLAGS $LIBART_CFLAGS\"\n           LIBS=\"$LIBS $LIBART_LIBS\"\n           cat > conftest.$ac_ext <<EOF\n-#line 7302 \"configure\"\n+#line 7320 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -7308,7 +7326,7 @@ int main() {\n  return 0; \n ; return 0; }\n EOF\n-if { (eval echo configure:7312: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7330: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n    echo \"*** The test program compiled, but did not run. This usually means\"\n           echo \"*** that the run-time linker is not finding LIBART or finding the wrong\"\n@@ -7347,22 +7365,22 @@ rm -f conftest*\n    # requires -ldl.\n    if test \"$GC\" = boehm; then\n       echo $ac_n \"checking for main in -ldl\"\"... $ac_c\" 1>&6\n-echo \"configure:7351: checking for main in -ldl\" >&5\n+echo \"configure:7369: checking for main in -ldl\" >&5\n ac_lib_var=`echo dl'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-ldl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7359 \"configure\"\n+#line 7377 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:7366: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7384: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7483,7 +7501,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}gcj\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}gcj; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7487: checking for $ac_word\" >&5\n+echo \"configure:7505: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GCJ'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7515,7 +7533,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"gcj\", so it can be a program name with args.\n set dummy gcj; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7519: checking for $ac_word\" >&5\n+echo \"configure:7537: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GCJ'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7577,13 +7595,13 @@ exec 5>>./config.log\n CPPFLAGS=$GCJ_SAVE_CPPFLAGS\n \n echo $ac_n \"checking size of void *\"\"... $ac_c\" 1>&6\n-echo \"configure:7581: checking size of void *\" >&5\n+echo \"configure:7599: checking size of void *\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_void_p'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 7587 \"configure\"\n+#line 7605 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -7593,7 +7611,7 @@ int main() {\n switch (0) case 0: case (sizeof (void *) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:7597: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7615: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_void_p=$ac_size\n else\n@@ -7706,17 +7724,17 @@ for ac_hdr in unistd.h bstring.h sys/time.h sys/types.h fcntl.h sys/ioctl.h sys/\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7710: checking for $ac_hdr\" >&5\n+echo \"configure:7728: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7715 \"configure\"\n+#line 7733 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7720: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7738: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7746,17 +7764,17 @@ for ac_hdr in dirent.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7750: checking for $ac_hdr\" >&5\n+echo \"configure:7768: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7755 \"configure\"\n+#line 7773 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7760: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7778: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7786,17 +7804,17 @@ for ac_hdr in inttypes.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7790: checking for $ac_hdr\" >&5\n+echo \"configure:7808: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7795 \"configure\"\n+#line 7813 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7800: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7818: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7832,12 +7850,12 @@ fi\n done\n \n echo $ac_n \"checking for sys/wait.h that is POSIX.1 compatible\"\"... $ac_c\" 1>&6\n-echo \"configure:7836: checking for sys/wait.h that is POSIX.1 compatible\" >&5\n+echo \"configure:7854: checking for sys/wait.h that is POSIX.1 compatible\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_sys_wait_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7841 \"configure\"\n+#line 7859 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/wait.h>\n@@ -7853,7 +7871,7 @@ wait (&s);\n s = WIFEXITED (s) ? WEXITSTATUS (s) : 1;\n ; return 0; }\n EOF\n-if { (eval echo configure:7857: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7875: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_sys_wait_h=yes\n else\n@@ -7875,20 +7893,20 @@ fi\n \n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:7879: checking for ANSI C header files\" >&5\n+echo \"configure:7897: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7884 \"configure\"\n+#line 7902 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7892: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7910: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7905,7 +7923,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 7909 \"configure\"\n+#line 7927 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -7923,7 +7941,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 7927 \"configure\"\n+#line 7945 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -7944,7 +7962,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7948 \"configure\"\n+#line 7966 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -7955,7 +7973,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:7959: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:7977: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -7979,12 +7997,12 @@ EOF\n fi\n \n echo $ac_n \"checking for ssize_t\"\"... $ac_c\" 1>&6\n-echo \"configure:7983: checking for ssize_t\" >&5\n+echo \"configure:8001: checking for ssize_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_ssize_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7988 \"configure\"\n+#line 8006 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -8013,9 +8031,9 @@ fi\n \n \n echo $ac_n \"checking for in_addr_t\"\"... $ac_c\" 1>&6\n-echo \"configure:8017: checking for in_addr_t\" >&5\n+echo \"configure:8035: checking for in_addr_t\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 8019 \"configure\"\n+#line 8037 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -8029,7 +8047,7 @@ int main() {\n in_addr_t foo;\n ; return 0; }\n EOF\n-if { (eval echo configure:8033: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:8051: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_IN_ADDR_T 1\n@@ -8045,16 +8063,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking whether struct ip_mreq is in netinet/in.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8049: checking whether struct ip_mreq is in netinet/in.h\" >&5\n+echo \"configure:8067: checking whether struct ip_mreq is in netinet/in.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 8051 \"configure\"\n+#line 8069 \"configure\"\n #include \"confdefs.h\"\n #include <netinet/in.h>\n int main() {\n struct ip_mreq mreq;\n ; return 0; }\n EOF\n-if { (eval echo configure:8058: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:8076: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_STRUCT_IP_MREQ 1\n@@ -8070,16 +8088,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking whether struct ipv6_mreq is in netinet/in.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8074: checking whether struct ipv6_mreq is in netinet/in.h\" >&5\n+echo \"configure:8092: checking whether struct ipv6_mreq is in netinet/in.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 8076 \"configure\"\n+#line 8094 \"configure\"\n #include \"confdefs.h\"\n #include <netinet/in.h>\n int main() {\n struct ipv6_mreq mreq6;\n ; return 0; }\n EOF\n-if { (eval echo configure:8083: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:8101: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_STRUCT_IPV6_MREQ 1\n@@ -8095,16 +8113,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking whether struct sockaddr_in6 is in netinet/in.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8099: checking whether struct sockaddr_in6 is in netinet/in.h\" >&5\n+echo \"configure:8117: checking whether struct sockaddr_in6 is in netinet/in.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 8101 \"configure\"\n+#line 8119 \"configure\"\n #include \"confdefs.h\"\n #include <netinet/in.h>\n int main() {\n struct sockaddr_in6 addr6;\n ; return 0; }\n EOF\n-if { (eval echo configure:8108: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:8126: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_INET6 1\n@@ -8120,9 +8138,9 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking for socklen_t in sys/socket.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8124: checking for socklen_t in sys/socket.h\" >&5\n+echo \"configure:8142: checking for socklen_t in sys/socket.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 8126 \"configure\"\n+#line 8144 \"configure\"\n #include \"confdefs.h\"\n #define _POSIX_PII_SOCKET\n #include <sys/types.h>\n@@ -8131,7 +8149,7 @@ int main() {\n socklen_t x = 5;\n ; return 0; }\n EOF\n-if { (eval echo configure:8135: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:8153: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_SOCKLEN_T 1\n@@ -8147,16 +8165,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking for tm_gmtoff in struct tm\"\"... $ac_c\" 1>&6\n-echo \"configure:8151: checking for tm_gmtoff in struct tm\" >&5\n+echo \"configure:8169: checking for tm_gmtoff in struct tm\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 8153 \"configure\"\n+#line 8171 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n int main() {\n struct tm tim; tim.tm_gmtoff = 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:8160: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:8178: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define STRUCT_TM_HAS_GMTOFF 1\n@@ -8169,16 +8187,16 @@ else\n   rm -rf conftest*\n   echo \"$ac_t\"\"no\" 1>&6\n    echo $ac_n \"checking for global timezone variable\"\"... $ac_c\" 1>&6\n-echo \"configure:8173: checking for global timezone variable\" >&5\n+echo \"configure:8191: checking for global timezone variable\" >&5\n                cat > conftest.$ac_ext <<EOF\n-#line 8175 \"configure\"\n+#line 8193 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n int main() {\n void i(){long z2 = 2*timezone;}\n ; return 0; }\n EOF\n-if { (eval echo configure:8182: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:8200: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_TIMEZONE 1\n@@ -8191,16 +8209,16 @@ else\n   rm -rf conftest*\n   echo \"$ac_t\"\"no\" 1>&6\n        echo $ac_n \"checking for global _timezone variable\"\"... $ac_c\" 1>&6\n-echo \"configure:8195: checking for global _timezone variable\" >&5\n+echo \"configure:8213: checking for global _timezone variable\" >&5\n               cat > conftest.$ac_ext <<EOF\n-#line 8197 \"configure\"\n+#line 8215 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n int main() {\n long z2 = _timezone;\n ; return 0; }\n EOF\n-if { (eval echo configure:8204: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:8222: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_UNDERSCORE_TIMEZONE 1\n@@ -8222,19 +8240,19 @@ rm -f conftest*\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8226: checking for working alloca.h\" >&5\n+echo \"configure:8244: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8231 \"configure\"\n+#line 8249 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:8238: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8256: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -8255,12 +8273,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:8259: checking for alloca\" >&5\n+echo \"configure:8277: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8264 \"configure\"\n+#line 8282 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -8288,7 +8306,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:8292: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8310: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -8320,12 +8338,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:8324: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:8342: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8329 \"configure\"\n+#line 8347 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -8350,12 +8368,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:8354: checking for $ac_func\" >&5\n+echo \"configure:8372: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8359 \"configure\"\n+#line 8377 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -8378,7 +8396,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:8382: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8400: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -8405,15 +8423,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:8409: checking stack direction for C alloca\" >&5\n+echo \"configure:8427: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8417 \"configure\"\n+#line 8435 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -8432,7 +8450,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:8436: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:8454: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -8453,21 +8471,21 @@ EOF\n \n fi\n \n-for ac_hdr in stdlib.h unistd.h sys/stat.h sys/types.h\n+for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:8461: checking for $ac_hdr\" >&5\n+echo \"configure:8479: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8466 \"configure\"\n+#line 8484 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:8471: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:8489: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8496,12 +8514,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:8500: checking for $ac_func\" >&5\n+echo \"configure:8518: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8505 \"configure\"\n+#line 8523 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -8524,7 +8542,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:8528: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8546: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -8549,15 +8567,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:8553: checking for working mmap\" >&5\n+echo \"configure:8571: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8561 \"configure\"\n+#line 8579 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -8585,24 +8603,11 @@ else\n #include <fcntl.h>\n #include <sys/mman.h>\n \n-#if HAVE_SYS_TYPES_H\n-# include <sys/types.h>\n-#endif\n-\n-#if HAVE_STDLIB_H\n-# include <stdlib.h>\n-#endif\n-\n-#if HAVE_SYS_STAT_H\n-# include <sys/stat.h>\n-#endif\n-\n-#if HAVE_UNISTD_H\n-# include <unistd.h>\n-#endif\n-\n /* This mess was copied from the GNU getpagesize.h.  */\n #ifndef HAVE_GETPAGESIZE\n+# ifdef HAVE_UNISTD_H\n+#  include <unistd.h>\n+# endif\n \n /* Assume that all systems that can run configure have sys/param.h.  */\n # ifndef HAVE_SYS_PARAM_H\n@@ -8710,7 +8715,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:8714: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:8719: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -8738,7 +8743,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8742: checking for $ac_word\" >&5\n+echo \"configure:8747: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_PERL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8806,6 +8811,9 @@ case \"${host}\" in\n  *mingw*)\n     SIGNAL_HANDLER=include/win32-signal.h\n     ;;\n+ mips*-*-linux*)\n+    SIGNAL_HANDLER=include/mips-signal.h\n+    ;;\n  *)\n     SIGNAL_HANDLER=include/default-signal.h\n     ;;\n@@ -9035,6 +9043,7 @@ s%@LIBGCJDEBUG@%$LIBGCJDEBUG%g\n s%@INTERPRETER@%$INTERPRETER%g\n s%@LIBFFI@%$LIBFFI%g\n s%@LIBFFIINCS@%$LIBFFIINCS%g\n+s%@EXTRA_CC_FILES@%$EXTRA_CC_FILES%g\n s%@PLATFORMOBJS@%$PLATFORMOBJS%g\n s%@CPP@%$CPP%g\n s%@SYSTEMSPEC@%$SYSTEMSPEC%g"}, {"sha": "2d04bbca93477c03a96bc97bceba1fbdc9308846", "filename": "libjava/configure.host", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Fconfigure.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Fconfigure.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.host?ref=1322946805597f3b80f585da69c3447a79a37de0", "patch": "@@ -28,6 +28,8 @@\n #\t\t\tpthread_self calls by caching thread IDs in a hashtable\n #   can_unwind_signal   Set to \"yes\" if the EH unwinder supports throwing\n #\t\t\tfrom a signal handler.\n+#   disable_dladdr      Set to \"yes\" if dladdr should not be used\n+#                       (i.e it is broken).\n \n libgcj_flags=\n libgcj_cflags=\n@@ -39,6 +41,7 @@ enable_hash_synchronization_default=no\n sysdeps_dir=generic\n slow_pthread_self=\n can_unwind_signal=no\n+disable_dladdr=\n \n case \"${target_optspace}:${host}\" in\n   yes:*)\n@@ -213,6 +216,17 @@ EOF\n \t  rm -f conftest conftest.c\n \tfi\n \t;;\n+  mips*-*-linux* )\n+  \tsysdeps_dir=mips\n+  \tcan_unwind_signal=yes\n+\tlibgcj_flags=\"${libgcj_flags} -mxgot\"\n+\tcase \"${host}\" in\n+\t    mipsel*-linux* | mipsisa32el*-linux*)\n+\t\tenable_hash_synchronization_default=yes\n+\t\tdisable_dladdr=yes\n+\t    ;;\n+\tesac\n+\t;;\n   *-*-darwin*)\n \tenable_hash_synchronization_default=no\n \tslow_pthread_self="}, {"sha": "ad14a9190b5fb9ef933c11500b92ed09cc88e134", "filename": "libjava/configure.in", "status": "modified", "additions": 20, "deletions": 1, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.in?ref=1322946805597f3b80f585da69c3447a79a37de0", "patch": "@@ -232,6 +232,9 @@ AC_ARG_WITH(ecos,\n TARGET_ECOS=\"$with_ecos\"\n )\n \n+EXTRA_CC_FILES=\n+AC_SUBST(EXTRA_CC_FILES)\n+\n PLATFORMOBJS=\n case \"$TARGET_ECOS\" in\n    no) case \"$host\" in\n@@ -600,6 +603,13 @@ else\n        ia64-*-linux*)\n \t # Has broken backtrace()\n \t ;;\n+       mips*-*-linux*)\n+         # Has broken backtrace(), but we supply our own.\n+         if test -d sysdep; then true; else mkdir -p sysdep; fi\n+         EXTRA_CC_FILES=\"${EXTRA_CC_FILES} sysdep/dwarf2-backtrace.cc\"\n+         AC_DEFINE(HAVE_BACKTRACE, 1,\n+           [Define if your platform has a working backtrace() function.])\n+         ;;\n        *)\n          AC_DEFINE(HAVE_BACKTRACE, 1,\n            [Define if your platform has a working backtrace() function.])\n@@ -616,7 +626,13 @@ else\n    ])\n \n    AC_CHECK_LIB(dl, dladdr, [\n-     AC_DEFINE(HAVE_DLADDR, 1, [Define if you have dladdr()])])\n+     if test \"x${disable_dladdr}\" = \"xyes\"; then\n+       #Broken dladdr().\n+       true\n+     else\n+       AC_DEFINE(HAVE_DLADDR, 1, [Define if you have dladdr()])\n+     fi\n+   ])\n    if test x\"$build\" = x\"$host\"; then\n      AC_CHECK_FILES(/proc/self/exe, [\n        AC_DEFINE(HAVE_PROC_SELF_EXE, 1, [Define if you have /proc/self/exe])])\n@@ -1107,6 +1123,9 @@ case \"${host}\" in\n  *mingw*)\n     SIGNAL_HANDLER=include/win32-signal.h\n     ;;\n+ mips*-*-linux*)\n+    SIGNAL_HANDLER=include/mips-signal.h\n+    ;;\n  *)\n     SIGNAL_HANDLER=include/default-signal.h\n     ;;"}, {"sha": "407858ce5a74e173f23ee4b3c55db6624dcad3f7", "filename": "libjava/gcj/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Fgcj%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Fgcj%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgcj%2FMakefile.in?ref=1322946805597f3b80f585da69c3447a79a37de0", "patch": "@@ -76,6 +76,7 @@ DIVIDESPEC = @DIVIDESPEC@\n DLLTOOL = @DLLTOOL@\n EXCEPTIONSPEC = @EXCEPTIONSPEC@\n EXEEXT = @EXEEXT@\n+EXTRA_CC_FILES = @EXTRA_CC_FILES@\n GCC_UNWIND_INCLUDE = @GCC_UNWIND_INCLUDE@\n GCDEPS = @GCDEPS@\n GCINCS = @GCINCS@"}, {"sha": "1934e6ac35b14d9cea55c18e29639520fbcd3800", "filename": "libjava/include/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2FMakefile.in?ref=1322946805597f3b80f585da69c3447a79a37de0", "patch": "@@ -76,6 +76,7 @@ DIVIDESPEC = @DIVIDESPEC@\n DLLTOOL = @DLLTOOL@\n EXCEPTIONSPEC = @EXCEPTIONSPEC@\n EXEEXT = @EXEEXT@\n+EXTRA_CC_FILES = @EXTRA_CC_FILES@\n GCC_UNWIND_INCLUDE = @GCC_UNWIND_INCLUDE@\n GCDEPS = @GCDEPS@\n GCINCS = @GCINCS@"}, {"sha": "d05af6b6cdc76adb363082e6d202f221f41864a4", "filename": "libjava/include/config.h.in", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Finclude%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Finclude%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fconfig.h.in?ref=1322946805597f3b80f585da69c3447a79a37de0", "patch": "@@ -353,6 +353,9 @@\n /* Define if you have the 'localtime_r' function. */\n #undef HAVE_LOCALTIME_R\n \n+/* Define if usleep is declared in <unistd.h>. */\n+#undef HAVE_USLEEP_DECL\n+\n /* Define if using POSIX threads that have the mutexattr functions. */\n #undef HAVE_PTHREAD_MUTEXATTR_INIT\n \n@@ -365,6 +368,9 @@\n /* Define if your platform has a working backtrace() function. */\n #undef HAVE_BACKTRACE\n \n+/* Define if your platform has a working backtrace() function. */\n+#undef HAVE_BACKTRACE\n+\n /* Define if you have dladdr() */\n #undef HAVE_DLADDR\n "}, {"sha": "6728197081a570c7d1398703121e103865a66536", "filename": "libjava/include/mips-signal.h", "status": "added", "additions": 89, "deletions": 0, "changes": 89, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Finclude%2Fmips-signal.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Finclude%2Fmips-signal.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fmips-signal.h?ref=1322946805597f3b80f585da69c3447a79a37de0", "patch": "@@ -0,0 +1,89 @@\n+// mips-signal.h - Catch runtime signals and turn them into exceptions\n+// on an mips based Linux system. \n+\n+/* Copyright (C) 1998, 1999, 2001, 2002, 2003  Free Software Foundation\n+\n+   This file is part of libgcj.\n+\n+This software is copyrighted work licensed under the terms of the\n+Libgcj License.  Please consult the file \"LIBGCJ_LICENSE\" for\n+details.  */\n+\n+/* Adapted from sparc-signal.h and powerpc-signal.h\n+   by David Daney <ddaney@avtrex.com> */\n+\n+#ifndef JAVA_SIGNAL_H\n+#define JAVA_SIGNAL_H 1\n+\n+#include <signal.h>\n+#include <unistd.h>\n+#include <sys/syscall.h>\n+/* #include <asm/ucontext.h> structures we use are here but clash with\n+   sys/ucontext.h included by java-signal.h from prims.cc */\n+\n+#define HANDLE_SEGV 1\n+#undef HANDLE_FPE\n+\n+/* The third parameter to the signal handler points to something with\n+ * this structure defined in asm/ucontext.h, but the name clashes with\n+ * struct ucontext from sys/ucontext.h so this private copy is used. */\n+typedef struct _sig_ucontext {\n+    unsigned long\t  uc_flags;\n+    struct _sig_ucontext  *uc_link;\n+    stack_t\t\t  uc_stack;\n+    struct sigcontext uc_mcontext;\n+    sigset_t\t  uc_sigmask;\n+} sig_ucontext_t;\n+\n+/* We use kernel_sigaction here because we're calling the kernel\n+   directly rather than via glibc. The sigaction structure that the\n+   syscall uses is a different shape from the one in userland and not\n+   visible to us in a header file so we define it here.\n+   Additionally we want a proper prototype for the handler function\n+   with the struct sigcontext pointer passed by the kernel as the 2nd\n+   argument, which isn't there in userland headers. */\n+\n+struct kernel_sigaction {\n+    unsigned int k_sa_flags;\n+    void       (*k_sa_handler) (int, siginfo_t *, sig_ucontext_t *);\n+    sigset_t     k_sa_mask;\n+    void       (*k_sa_restorer)(void);\n+    int          k_sa_resv[1];\t/* reserved */\n+};\n+\n+\n+\n+#define SIGNAL_HANDLER(_name) \\\n+static void _name (int _dummy, siginfo_t *_info, sig_ucontext_t *_arg)\n+\n+/*\n+ *  MIPS leaves pc pointing at the faulting instruction, but the\n+ *  unwinder expects it to point to the following instruction\n+ */\n+\n+#define MAKE_THROW_FRAME(_exception) \\\n+do                                   \\\n+{                                    \\\n+  _arg->uc_mcontext.sc_pc += 4;      \\\n+  (void)_dummy;                      \\\n+  (void)_info;                       \\\n+}                                    \\\n+while (0)\n+\n+/* For an explanation why we cannot simply use sigaction to\n+   install the handlers, see i386-signal.h.  */\n+\n+#define INIT_SEGV                                    \\\n+do                                                   \\\n+  {                                                  \\\n+    struct kernel_sigaction kact;                    \\\n+    kact.k_sa_handler = catch_segv;                  \\\n+    kact.k_sa_flags = SA_SIGINFO | SA_NODEFER;       \\\n+    sigemptyset (&kact.k_sa_mask);                   \\\n+    syscall (SYS_sigaction, SIGSEGV, &kact, NULL);   \\\n+  }                                                  \\\n+while (0)\n+\t\t\t\t\t\t\t\t\n+\n+#endif /* JAVA_SIGNAL_H */\n+  "}, {"sha": "550aa5bdd35a17e3851e0c6a6c26e42ec42f45e1", "filename": "libjava/sysdep/dwarf2-backtrace.cc", "status": "added", "additions": 86, "deletions": 0, "changes": 86, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Fsysdep%2Fdwarf2-backtrace.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Fsysdep%2Fdwarf2-backtrace.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fsysdep%2Fdwarf2-backtrace.cc?ref=1322946805597f3b80f585da69c3447a79a37de0", "patch": "@@ -0,0 +1,86 @@\n+/* dwarf2-backtrac.cc - backtrace implementation driven by the dwarf2\n+ exception unwinder.  */\n+\n+/* Copyright (C) 2003  Free Software Foundation\n+\n+   This file is part of libgcj.\n+\n+This software is copyrighted work licensed under the terms of the\n+Libgcj License.  Please consult the file \"LIBGCJ_LICENSE\" for\n+details.  */\n+\n+/* Written by David Daney <ddaney@avtrex.com> */\n+\n+/*\n+  Although this in theory could be 'C' instead of C++, saying that it\n+  is C++ and including jvm.h makes it easier to insure that the proper\n+  compiler options are used.  There must be unwind tables for\n+  backtrace because it is on the stack when _Unwind_Backtrace is\n+  called.  Compiling as C++ insures this.\n+\n+*/\n+\n+#include <config.h>\n+\n+#include <unwind.h>\n+\n+#include <jvm.h>\n+\n+\n+extern \"C\"\n+{\n+  int backtrace (void **, int);\n+}\n+\n+struct backtrace_state\n+{\n+  int skip_count;\n+  int current_level;\n+  int max_level;\n+  void **locations;\n+};\n+\n+static _Unwind_Reason_Code\n+my_trace_fn (struct _Unwind_Context *uc, void *arg)\n+{\n+\n+  struct backtrace_state *bs = (struct backtrace_state *) arg;\n+\n+  if (bs->skip_count)\n+    {\n+      bs->skip_count--;\n+      return _URC_NO_REASON;\n+    }\n+\n+  _Unwind_Ptr loc = _Unwind_GetIP (uc);\n+\n+  if (bs->current_level < bs->max_level)\n+    bs->locations[bs->current_level++] = (void *) loc;\n+\n+  if (bs->current_level >= bs->max_level)\n+    return _URC_END_OF_STACK;\n+  else\n+    return _URC_NO_REASON;\n+}\n+\n+/*\n+ * backtrace is defined in (some versions of) libc.  This definition\n+ * must match so that it can replace the libc version at link time.\n+ *\n+ * Fill the locations array with at most len back trace locations.\n+ *\n+ * Returns the number of locations actually filled in.\n+ *\n+ */\n+int\n+backtrace (void **locations, int len)\n+{\n+  struct backtrace_state bs;\n+  bs.skip_count = 1;\t\t/* Don't log the call to backtrace itself. */\n+  bs.current_level = 0;\n+  bs.max_level = len;\n+  bs.locations = locations;\n+\n+  _Unwind_Backtrace (my_trace_fn, &bs);\n+  return bs.current_level;\n+}"}, {"sha": "80509cadbbd5b859ec1c27926bdfce726f3b9202", "filename": "libjava/sysdep/mips/locks.h", "status": "added", "additions": 109, "deletions": 0, "changes": 109, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Fsysdep%2Fmips%2Flocks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Fsysdep%2Fmips%2Flocks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fsysdep%2Fmips%2Flocks.h?ref=1322946805597f3b80f585da69c3447a79a37de0", "patch": "@@ -0,0 +1,109 @@\n+// locks.h - Thread synchronization primitives. MIPS implementation.\n+\n+/* Copyright (C) 2003  Free Software Foundation\n+\n+   This file is part of libgcj.\n+\n+This software is copyrighted work licensed under the terms of the\n+Libgcj License.  Please consult the file \"LIBGCJ_LICENSE\" for\n+details.  */\n+\n+#ifndef __SYSDEP_LOCKS_H__\n+#define __SYSDEP_LOCKS_H__\n+\n+/* Integer type big enough for object address.\t*/\n+typedef unsigned obj_addr_t __attribute__((__mode__(__pointer__)));\n+\n+\n+// Atomically replace *addr by new_val if it was initially equal to old.\n+// Return true if the comparison succeeded.\n+// Assumed to have acquire semantics, i.e. later memory operations\n+// cannot execute before the compare_and_swap finishes.\n+inline static bool\n+compare_and_swap(volatile obj_addr_t *addr,\n+                 obj_addr_t old,\n+                 obj_addr_t new_val) \n+{\n+  long result;\n+  __asm__ __volatile__(\".set\\tpush\\n\\t\"\n+                       \".set\\tnoreorder\\n\\t\"\n+                       \".set\\tnomacro\\n\\t\"\n+                       \"1:\\n\\t\"\n+#if _MIPS_SIM == _ABIO32\n+                       \".set\\tmips2\\n\\t\"\n+#endif\n+                       \"ll\\t%[result],0(%[addr])\\n\\t\"\n+                       \"bne\\t%[result],%[old],2f\\n\\t\"\n+                       \"move\\t%[result],$0\\n\\t\"        // delay slot\n+                       \"move\\t%[result],%[new_val]\\n\\t\"\n+                       \"sc\\t%[result],0(%[addr])\\n\\t\"\n+                       \"beq\\t%[result],$0,1b\\n\\t\"\n+                       \"nop\\n\\t\"                       // delay slot\n+                       \"2:\\n\\t\"\n+                       \".set\\tpop\"\n+          : [result] \"=&r\" (result)\n+          : [addr] \"r\" (addr), [new_val] \"r\" (new_val), [old] \"r\"(old)\n+          : \"memory\");\n+  return (bool) result;\n+}\n+\n+// Set *addr to new_val with release semantics, i.e. making sure\n+// that prior loads and stores complete before this\n+// assignment.\n+inline static void\n+release_set(volatile obj_addr_t *addr, obj_addr_t new_val)\n+{\n+  __asm__ __volatile__(\".set\\tpush\\n\\t\"\n+#if _MIPS_SIM == _ABIO32\n+                       \".set\\tmips2\\n\\t\"\n+#endif\n+                       \"sync\\n\\t\"\n+                       \".set\\tpop\" : : : \"memory\");\n+  *(addr) = new_val;\n+}\n+\n+// Compare_and_swap with release semantics instead of acquire semantics.\n+// On many architecture, the operation makes both guarantees, so the\n+// implementation can be the same.\n+inline static bool\n+compare_and_swap_release(volatile obj_addr_t *addr,\n+\t\t  \t\t\t\t     obj_addr_t old,\n+\t\t\t\t\t\t     obj_addr_t new_val)\n+{\n+  __asm__ __volatile__(\".set\\tpush\\n\\t\"\n+#if _MIPS_SIM == _ABIO32\n+                       \".set\\tmips2\\n\\t\"\n+#endif\n+                       \"sync\\n\\t\"\n+                       \".set\\tpop\" : : : \"memory\");\n+  return compare_and_swap(addr, old, new_val);\n+}\n+\n+// Ensure that subsequent instructions do not execute on stale\n+// data that was loaded from memory before the barrier.\n+// On X86, the hardware ensures that reads are properly ordered.\n+inline static void\n+read_barrier()\n+{\n+  __asm__ __volatile__(\".set\\tpush\\n\\t\"\n+#if _MIPS_SIM == _ABIO32\n+                       \".set\\tmips2\\n\\t\"\n+#endif\n+                       \"sync\\n\\t\"\n+                       \".set\\tpop\" : : : \"memory\");\n+}\n+\n+// Ensure that prior stores to memory are completed with respect to other\n+// processors.\n+inline static void\n+write_barrier()\n+{\n+  __asm__ __volatile__(\".set\\tpush\\n\\t\"\n+#if _MIPS_SIM == _ABIO32\n+                       \".set\\tmips2\\n\\t\"\n+#endif\n+                       \"sync\\n\\t\"\n+                       \".set\\tpop\" : : : \"memory\");\n+}\n+\n+#endif   // __SYSDEP_LOCKS_H__"}, {"sha": "1527ee83291a622439546b9c37480fb4d12499f2", "filename": "libjava/testsuite/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1322946805597f3b80f585da69c3447a79a37de0/libjava%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FMakefile.in?ref=1322946805597f3b80f585da69c3447a79a37de0", "patch": "@@ -76,6 +76,7 @@ DIVIDESPEC = @DIVIDESPEC@\n DLLTOOL = @DLLTOOL@\n EXCEPTIONSPEC = @EXCEPTIONSPEC@\n EXEEXT = @EXEEXT@\n+EXTRA_CC_FILES = @EXTRA_CC_FILES@\n GCC_UNWIND_INCLUDE = @GCC_UNWIND_INCLUDE@\n GCDEPS = @GCDEPS@\n GCINCS = @GCINCS@"}]}