{"sha": "9b5db25d916070fcdb725ca8ed5ec9520668c551", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWI1ZGIyNWQ5MTYwNzBmY2RiNzI1Y2E4ZWQ1ZWM5NTIwNjY4YzU1MQ==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@redhat.com", "date": "2011-04-27T09:14:22Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "2011-04-27T09:14:22Z"}, "message": "frv.h (enum reg_class): Delete EVEN_ACC_REGS, ACC_REGS, FEVEN_REGS, FPR_REGS, EVEN_REGS.\n\n\t* config/frv/frv.h (enum reg_class): Delete EVEN_ACC_REGS,\n\tACC_REGS, FEVEN_REGS, FPR_REGS, EVEN_REGS.\n\t(REG_CLASS_NAMES): Likewise.\n\t(REG_CLASS_CONTENTS): Likewise.\n\t(EVEN_ACC_REGS): New macro.  Alias for QUAD_ACC_REGS.\n\t(ACC_REGS): New macro.  Alias for QUAD_ACC_REGS.\n\t(FEVEN_REGS): New macro.  Alias for QUAD_ACC_REGS.\n\t(FPR_REGS): New macro.  Alias for QUAD_ACC_REGS.\n\t(EVEN_REGS): New macro.  Alias for QUAD_REGS.\n\t* config/frv/frv.c (frv_secondary_reload_class): Remove use of\n\tduplicate register classes.\n\t(frv_class_likely_spileld_p): Likewise.\n\t(frv_register_move_cost): Likewise.\n\nFrom-SVN: r173016", "tree": {"sha": "b4d27e0e382db03cce9f6b0edfa37189dec736f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b4d27e0e382db03cce9f6b0edfa37189dec736f8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9b5db25d916070fcdb725ca8ed5ec9520668c551", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b5db25d916070fcdb725ca8ed5ec9520668c551", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b5db25d916070fcdb725ca8ed5ec9520668c551", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b5db25d916070fcdb725ca8ed5ec9520668c551/comments", "author": {"login": "nickclifton", "id": 31441682, "node_id": "MDQ6VXNlcjMxNDQxNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickclifton", "html_url": "https://github.com/nickclifton", "followers_url": "https://api.github.com/users/nickclifton/followers", "following_url": "https://api.github.com/users/nickclifton/following{/other_user}", "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions", "organizations_url": "https://api.github.com/users/nickclifton/orgs", "repos_url": "https://api.github.com/users/nickclifton/repos", "events_url": "https://api.github.com/users/nickclifton/events{/privacy}", "received_events_url": "https://api.github.com/users/nickclifton/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e1ea745113840663b7aacd5b1b5abd4ad6f3d0bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1ea745113840663b7aacd5b1b5abd4ad6f3d0bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1ea745113840663b7aacd5b1b5abd4ad6f3d0bb"}], "stats": {"total": 62, "additions": 24, "deletions": 38}, "files": [{"sha": "d3b78bf1cfefa142af252f7ccb16133913fb8d41", "filename": "gcc/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b5db25d916070fcdb725ca8ed5ec9520668c551/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b5db25d916070fcdb725ca8ed5ec9520668c551/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9b5db25d916070fcdb725ca8ed5ec9520668c551", "patch": "@@ -1,5 +1,19 @@\n 2011-04-27  Nick Clifton  <nickc@redhat.com>\n \n+\t* config/frv/frv.h (enum reg_class): Delete EVEN_ACC_REGS,\n+\tACC_REGS, FEVEN_REGS, FPR_REGS, EVEN_REGS.\n+\t(REG_CLASS_NAMES): Likewise.\n+\t(REG_CLASS_CONTENTS): Likewise.\n+\t(EVEN_ACC_REGS): New macro.  Alias for QUAD_ACC_REGS.\n+\t(ACC_REGS): New macro.  Alias for QUAD_ACC_REGS.\n+\t(FEVEN_REGS): New macro.  Alias for QUAD_ACC_REGS.\n+\t(FPR_REGS): New macro.  Alias for QUAD_ACC_REGS.\n+\t(EVEN_REGS): New macro.  Alias for QUAD_REGS.\n+\t* config/frv/frv.c (frv_secondary_reload_class): Remove use of\n+\tduplicate register classes.\n+\t(frv_class_likely_spileld_p): Likewise.\n+\t(frv_register_move_cost): Likewise.\n+\n \t* config/mcore/mcore.h (REGNO_REG_CLASS): Do not index beyond the\n \tend of the regno_reg_class array.\n "}, {"sha": "c16a9056eb8bf2ec9ea3d4a7d03a17e64b218da7", "filename": "gcc/config/frv/frv.c", "status": "modified", "additions": 4, "deletions": 23, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b5db25d916070fcdb725ca8ed5ec9520668c551/gcc%2Fconfig%2Ffrv%2Ffrv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b5db25d916070fcdb725ca8ed5ec9520668c551/gcc%2Fconfig%2Ffrv%2Ffrv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffrv%2Ffrv.c?ref=9b5db25d916070fcdb725ca8ed5ec9520668c551", "patch": "@@ -6371,7 +6371,6 @@ frv_secondary_reload_class (enum reg_class rclass,\n       /* Accumulators/Accumulator guard registers need to go through floating\n          point registers.  */\n     case QUAD_REGS:\n-    case EVEN_REGS:\n     case GPR_REGS:\n       ret = NO_REGS;\n       if (x && GET_CODE (x) == REG)\n@@ -6385,8 +6384,6 @@ frv_secondary_reload_class (enum reg_class rclass,\n \n       /* Nonzero constants should be loaded into an FPR through a GPR.  */\n     case QUAD_FPR_REGS:\n-    case FEVEN_REGS:\n-    case FPR_REGS:\n       if (x && CONSTANT_P (x) && !ZERO_P (x))\n \tret = GPR_REGS;\n       else\n@@ -6406,8 +6403,6 @@ frv_secondary_reload_class (enum reg_class rclass,\n       break;\n \n       /* The accumulators need fpr registers.  */\n-    case ACC_REGS:\n-    case EVEN_ACC_REGS:\n     case QUAD_ACC_REGS:\n     case ACCG_REGS:\n       ret = FPR_REGS;\n@@ -6481,8 +6476,6 @@ frv_class_likely_spilled_p (reg_class_t rclass)\n     case LR_REG:\n     case SPR_REGS:\n     case QUAD_ACC_REGS:\n-    case EVEN_ACC_REGS:\n-    case ACC_REGS:\n     case ACCG_REGS:\n       return true;\n     }\n@@ -6842,19 +6835,16 @@ frv_register_move_cost (enum machine_mode mode ATTRIBUTE_UNUSED,\n       break;\n \n     case QUAD_REGS:\n-    case EVEN_REGS:\n     case GPR_REGS:\n       switch (to)\n \t{\n \tdefault:\n \t  break;\n \n-\tcase QUAD_REGS:\n-\tcase EVEN_REGS:\n+\tcase QUAD_REGS:\t\n \tcase GPR_REGS:\n \t  return LOW_COST;\n \n-\tcase FEVEN_REGS:\n \tcase FPR_REGS:\n \t  return LOW_COST;\n \n@@ -6864,24 +6854,19 @@ frv_register_move_cost (enum machine_mode mode ATTRIBUTE_UNUSED,\n \t  return LOW_COST;\n \t}\n \n-    case FEVEN_REGS:\n-    case FPR_REGS:\n+    case QUAD_FPR_REGS:\n       switch (to)\n \t{\n \tdefault:\n \t  break;\n \n \tcase QUAD_REGS:\n-\tcase EVEN_REGS:\n \tcase GPR_REGS:\n-\tcase ACC_REGS:\n-\tcase EVEN_ACC_REGS:\n \tcase QUAD_ACC_REGS:\n \tcase ACCG_REGS:\n \t  return MEDIUM_COST;\n \n-\tcase FEVEN_REGS:\n-\tcase FPR_REGS:\n+\tcase QUAD_FPR_REGS:\n \t  return LOW_COST;\n \t}\n \n@@ -6894,22 +6879,18 @@ frv_register_move_cost (enum machine_mode mode ATTRIBUTE_UNUSED,\n \t  break;\n \n \tcase QUAD_REGS:\n-\tcase EVEN_REGS:\n \tcase GPR_REGS:\n \t  return MEDIUM_COST;\n \t}\n \n-    case ACC_REGS:\n-    case EVEN_ACC_REGS:\n     case QUAD_ACC_REGS:\n     case ACCG_REGS:\n       switch (to)\n \t{\n \tdefault:\n \t  break;\n \n-\tcase FEVEN_REGS:\n-\tcase FPR_REGS:\n+\tcase QUAD_FPR_REGS:\n \t  return MEDIUM_COST;\n \n \t}"}, {"sha": "e103dd7378ec8a53d449ef90c5346c2035a98a30", "filename": "gcc/config/frv/frv.h", "status": "modified", "additions": 6, "deletions": 15, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b5db25d916070fcdb725ca8ed5ec9520668c551/gcc%2Fconfig%2Ffrv%2Ffrv.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b5db25d916070fcdb725ca8ed5ec9520668c551/gcc%2Fconfig%2Ffrv%2Ffrv.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffrv%2Ffrv.h?ref=9b5db25d916070fcdb725ca8ed5ec9520668c551", "patch": "@@ -864,14 +864,9 @@ enum reg_class\n   FDPIC_CALL_REGS,\n   SPR_REGS,\n   QUAD_ACC_REGS,\n-  EVEN_ACC_REGS,\n-  ACC_REGS,\n   ACCG_REGS,\n   QUAD_FPR_REGS,\n-  FEVEN_REGS,\n-  FPR_REGS,\n   QUAD_REGS,\n-  EVEN_REGS,\n   GPR_REGS,\n   ALL_REGS,\n   LIM_REG_CLASSES\n@@ -904,14 +899,9 @@ enum reg_class\n    \"FDPIC_CALL_REGS\",\t\t\t\t\t\t\t\\\n    \"SPR_REGS\",\t\t\t\t\t\t\t\t\\\n    \"QUAD_ACC_REGS\",\t\t\t\t\t\t\t\\\n-   \"EVEN_ACC_REGS\",\t\t\t\t\t\t\t\\\n-   \"ACC_REGS\",\t\t\t\t\t\t\t\t\\\n    \"ACCG_REGS\",\t\t\t\t\t\t\t\t\\\n    \"QUAD_FPR_REGS\",\t\t\t\t\t\t\t\\\n-   \"FEVEN_REGS\",\t\t\t\t\t\t\t\\\n-   \"FPR_REGS\",\t\t\t\t\t\t\t\t\\\n    \"QUAD_REGS\",\t\t\t\t\t\t\t\t\\\n-   \"EVEN_REGS\",\t\t\t\t\t\t\t\t\\\n    \"GPR_REGS\",\t\t\t\t\t\t\t\t\\\n    \"ALL_REGS\"\t\t\t\t\t\t\t\t\\\n }\n@@ -945,18 +935,19 @@ enum reg_class\n   { 0x0000c000,0x00000000,0x00000000,0x00000000,0x00000000,0x0}, /* FDPIC_CALL_REGS */\\\n   { 0x00000000,0x00000000,0x00000000,0x00000000,0x00000000,0x1e00}, /* SPR_REGS */\\\n   { 0x00000000,0x00000000,0x00000000,0x00000000,0x0fff0000,0x0}, /* QUAD_ACC */\\\n-  { 0x00000000,0x00000000,0x00000000,0x00000000,0x0fff0000,0x0}, /* EVEN_ACC */\\\n-  { 0x00000000,0x00000000,0x00000000,0x00000000,0x0fff0000,0x0}, /* ACC_REGS */\\\n   { 0x00000000,0x00000000,0x00000000,0x00000000,0xf0000000,0xff}, /* ACCG_REGS*/\\\n   { 0x00000000,0x00000000,0xffffffff,0xffffffff,0x00000000,0x0}, /* QUAD_FPR */\\\n-  { 0x00000000,0x00000000,0xffffffff,0xffffffff,0x00000000,0x0}, /* FEVEN_REG*/\\\n-  { 0x00000000,0x00000000,0xffffffff,0xffffffff,0x00000000,0x0}, /* FPR_REGS */\\\n   { 0x0ffffffc,0xffffffff,0x00000000,0x00000000,0x00000000,0x0}, /* QUAD_REGS*/\\\n-  { 0xfffffffc,0xffffffff,0x00000000,0x00000000,0x00000000,0x0}, /* EVEN_REGS*/\\\n   { 0xffffffff,0xffffffff,0x00000000,0x00000000,0x00000000,0x100}, /* GPR_REGS */\\\n   { 0xffffffff,0xffffffff,0xffffffff,0xffffffff,0xffffffff,0x1fff}, /* ALL_REGS */\\\n }\n \n+#define EVEN_ACC_REGS   QUAD_ACC_REGS\n+#define ACC_REGS        QUAD_ACC_REGS\n+#define FEVEN_REGS      QUAD_FPR_REGS\n+#define FPR_REGS        QUAD_FPR_REGS\n+#define EVEN_REGS       QUAD_REGS\n+\n /* A C expression whose value is a register class containing hard register\n    REGNO.  In general there is more than one such class; choose a class which\n    is \"minimal\", meaning that no smaller class also contains the register.  */"}]}