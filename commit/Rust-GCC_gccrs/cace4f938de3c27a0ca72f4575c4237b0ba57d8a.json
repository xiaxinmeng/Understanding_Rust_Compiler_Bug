{"sha": "cace4f938de3c27a0ca72f4575c4237b0ba57d8a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2FjZTRmOTM4ZGUzYzI3YTBjYTcyZjQ1NzVjNDIzN2IwYmE1N2Q4YQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2002-05-07T20:17:24Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2002-05-07T20:17:24Z"}, "message": "inclhack.def (windiss_math1): New fix.\n\n\t* fixinc/inclhack.def (windiss_math1): New fix.\n\t(windiss_math2): Likewise.\n\t(windiss_valist): Likewise.\n\t* fixinc/fixincl.x: Regenerated.\n\nFrom-SVN: r53267", "tree": {"sha": "6b132871b84608ac9f8636824e7b0ccdea50e305", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b132871b84608ac9f8636824e7b0ccdea50e305"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cace4f938de3c27a0ca72f4575c4237b0ba57d8a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cace4f938de3c27a0ca72f4575c4237b0ba57d8a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cace4f938de3c27a0ca72f4575c4237b0ba57d8a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cace4f938de3c27a0ca72f4575c4237b0ba57d8a/comments", "author": null, "committer": null, "parents": [{"sha": "e2ff6ceeae5dec6befc45d07573a6ab6bbccdb97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2ff6ceeae5dec6befc45d07573a6ab6bbccdb97", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2ff6ceeae5dec6befc45d07573a6ab6bbccdb97"}], "stats": {"total": 146, "additions": 144, "deletions": 2}, "files": [{"sha": "0066f331c390dc578661bdfbb83809c5d0a81d78", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cace4f938de3c27a0ca72f4575c4237b0ba57d8a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cace4f938de3c27a0ca72f4575c4237b0ba57d8a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cace4f938de3c27a0ca72f4575c4237b0ba57d8a", "patch": "@@ -1,3 +1,10 @@\n+2002-05-07  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* fixinc/inclhack.def (windiss_math1): New fix.\n+\t(windiss_math2): Likewise.\n+\t(windiss_valist): Likewise.\n+\t* fixinc/fixincl.x: Regenerated.\n+\n 2002-05-07  Andreas Jaeger  <aj@suse.de>\n \n \t* genautomata.c (output_internal_min_issue_delay_func): Add"}, {"sha": "a7a3ce911878ab152a153eed8e4f63361f8bcc41", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 103, "deletions": 2, "changes": 105, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cace4f938de3c27a0ca72f4575c4237b0ba57d8a/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cace4f938de3c27a0ca72f4575c4237b0ba57d8a/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=cace4f938de3c27a0ca72f4575c4237b0ba57d8a", "patch": "@@ -5,7 +5,7 @@\n  * files which are fixed to work correctly with ANSI C and placed in a\n  * directory that GNU C will search.\n  *\n- * This file contains 142 fixup descriptions.\n+ * This file contains 145 fixup descriptions.\n  *\n  * See README for more information.\n  *\n@@ -5411,6 +5411,89 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\n\\\n #define VOIDFUNCPTR __gcc_VOIDFUNCPTR\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Windiss_Math1 fix\n+ */\n+tSCC zWindiss_Math1Name[] =\n+     \"windiss_math1\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zWindiss_Math1List[] =\n+  \"|math.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+tSCC* apzWindiss_Math1Machs[] = {\n+        \"*-*-windiss\",\n+        (const char*)NULL };\n+#define WINDISS_MATH1_TEST_CT  0\n+#define aWindiss_Math1Tests   (tTestDesc*)NULL\n+\n+/*\n+ *  Fix Command Arguments for Windiss_Math1\n+ */\n+static const char* apzWindiss_Math1Patch[] = { \"sed\",\n+    \"-e\", \"s|inline long double cosl.*|#ifndef __GNUC__|\",\n+    (char*)NULL };\n+\n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Windiss_Math2 fix\n+ */\n+tSCC zWindiss_Math2Name[] =\n+     \"windiss_math2\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zWindiss_Math2List[] =\n+  \"|math.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+tSCC* apzWindiss_Math2Machs[] = {\n+        \"*-*-windiss\",\n+        (const char*)NULL };\n+#define WINDISS_MATH2_TEST_CT  0\n+#define aWindiss_Math2Tests   (tTestDesc*)NULL\n+\n+/*\n+ *  Fix Command Arguments for Windiss_Math2\n+ */\n+static const char* apzWindiss_Math2Patch[] = { \"sed\",\n+    \"-e\", \"s|/\\\\* long double declarations \\\\*/|#endif /* __GNUC__ */|\",\n+    (char*)NULL };\n+\n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Windiss_Valist fix\n+ */\n+tSCC zWindiss_ValistName[] =\n+     \"windiss_valist\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+#define zWindiss_ValistList (char*)NULL\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+tSCC* apzWindiss_ValistMachs[] = {\n+        \"*-*-windiss\",\n+        (const char*)NULL };\n+#define WINDISS_VALIST_TEST_CT  0\n+#define aWindiss_ValistTests   (tTestDesc*)NULL\n+\n+/*\n+ *  Fix Command Arguments for Windiss_Valist\n+ */\n+static const char* apzWindiss_ValistPatch[] = { \"sed\",\n+    \"-e\", \"s|diab/va_list.h|stdarg.h|\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of X11_Class fix\n@@ -5583,7 +5666,7 @@ static const char* apzX11_SprintfPatch[] = {\n  */\n #define REGEX_COUNT          151\n #define MACH_LIST_SIZE_LIMIT 279\n-#define FIX_COUNT            142\n+#define FIX_COUNT            145\n \n /*\n  *  Enumerate the fixes\n@@ -5727,6 +5810,9 @@ typedef enum {\n     VXWORKS_NEEDS_VXTYPES_FIXIDX,\n     VXWORKS_NEEDS_VXWORKS_FIXIDX,\n     VXWORKS_TIME_FIXIDX,\n+    WINDISS_MATH1_FIXIDX,\n+    WINDISS_MATH2_FIXIDX,\n+    WINDISS_VALIST_FIXIDX,\n     X11_CLASS_FIXIDX,\n     X11_CLASS_USAGE_FIXIDX,\n     X11_NEW_FIXIDX,\n@@ -6424,6 +6510,21 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      VXWORKS_TIME_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aVxworks_TimeTests,   apzVxworks_TimePatch, 0 },\n \n+  {  zWindiss_Math1Name,    zWindiss_Math1List,\n+     apzWindiss_Math1Machs,\n+     WINDISS_MATH1_TEST_CT, FD_MACH_ONLY,\n+     aWindiss_Math1Tests,   apzWindiss_Math1Patch, 0 },\n+\n+  {  zWindiss_Math2Name,    zWindiss_Math2List,\n+     apzWindiss_Math2Machs,\n+     WINDISS_MATH2_TEST_CT, FD_MACH_ONLY,\n+     aWindiss_Math2Tests,   apzWindiss_Math2Patch, 0 },\n+\n+  {  zWindiss_ValistName,    zWindiss_ValistList,\n+     apzWindiss_ValistMachs,\n+     WINDISS_VALIST_TEST_CT, FD_MACH_ONLY,\n+     aWindiss_ValistTests,   apzWindiss_ValistPatch, 0 },\n+\n   {  zX11_ClassName,    zX11_ClassList,\n      apzX11_ClassMachs,\n      X11_CLASS_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,"}, {"sha": "09e6bd7ab084eb648d08362ce4ec0c095234dc8a", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cace4f938de3c27a0ca72f4575c4237b0ba57d8a/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cace4f938de3c27a0ca72f4575c4237b0ba57d8a/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=cace4f938de3c27a0ca72f4575c4237b0ba57d8a", "patch": "@@ -3310,6 +3310,40 @@ fix = {\n };\n \n \n+/* \n+ * WindISS math.h headers include bogus extern declarations of \n+ * numerous math functions that conflict with libstdc++-v3.\n+ */\n+fix = {\n+    hackname  = windiss_math1;\n+    files     = math.h;\n+    mach      = \"*-*-windiss\";\n+    sed       = \"s|inline long double cosl.*|#ifndef __GNUC__|\";\n+\n+    test_text = \"inline long double cosl(long double);\";\n+};\n+\n+fix = {\n+    hackname  = windiss_math2;\n+    files     = math.h;\n+    mach      = \"*-*-windiss\";\n+    sed       = \"s|/\\\\* long double declarations \\\\*/|\"\n+                  \"#endif /* __GNUC__ */|\";\n+\n+    test_text = \"/* long double declarations */\";\n+};\n+\n+/*\n+ * WindISS headers include \"diab/va_list.h\" instead of \"stdarg.h\"\n+ */\n+fix = {\n+    hackname  = windiss_valist;\n+    sed       = \"s|diab/va_list.h|stdarg.h|\";\n+    mach      = \"*-*-windiss\";\n+\n+    test_text = \"#include <diab/va_list.h>\";\n+};\n+\n /*\n  *  There are several name conflicts with C++ reserved words in X11 header\n  *  files.  These are fixed in some versions, so don't do the fixes if"}]}