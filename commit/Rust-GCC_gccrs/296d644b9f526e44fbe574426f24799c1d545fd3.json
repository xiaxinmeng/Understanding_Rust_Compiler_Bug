{"sha": "296d644b9f526e44fbe574426f24799c1d545fd3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjk2ZDY0NGI5ZjUyNmU0NGZiZTU3NDQyNmYyNDc5OWMxZDU0NWZkMw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2020-06-08T08:30:48Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2020-06-08T08:31:35Z"}, "message": "testsuite: Fix up pr95548.C testcase.\n\n2020-06-08  Jakub Jelinek  <jakub@redhat.com>\n\n\tPR lto/95548\n\t* g++.dg/torture/pr95548.C: Change from dg-do compile to dg-do link,\n\tadd return type for main, for __SIZEOF_INT128__ test with __uint128_t\n\tenumerator constants and add a test with unsigned long long\n\tenumerators for all targets.", "tree": {"sha": "deb8fd1da34a0df85eabd89a94cc0a76ce356065", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/deb8fd1da34a0df85eabd89a94cc0a76ce356065"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/296d644b9f526e44fbe574426f24799c1d545fd3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/296d644b9f526e44fbe574426f24799c1d545fd3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/296d644b9f526e44fbe574426f24799c1d545fd3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/296d644b9f526e44fbe574426f24799c1d545fd3/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d6430e3cccb37bec6c5604dffe48c52016509013", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6430e3cccb37bec6c5604dffe48c52016509013", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d6430e3cccb37bec6c5604dffe48c52016509013"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "cd758ebbde74357edf9a9c94976c8ed44c6f806f", "filename": "gcc/testsuite/g++.dg/torture/pr95548.C", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/296d644b9f526e44fbe574426f24799c1d545fd3/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr95548.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/296d644b9f526e44fbe574426f24799c1d545fd3/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr95548.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr95548.C?ref=296d644b9f526e44fbe574426f24799c1d545fd3", "patch": "@@ -1,8 +1,10 @@\n-/* { dg-do compile } */\n-enum a { b = (unsigned long)-1 } c;\n+/* { dg-do link } */\n+enum A { A1 = (unsigned long)-1 } a;\n+enum B { B1 = (unsigned long long)-1, B2 = 0x123456789abcdef0ULL } b;\n #ifdef __SIZEOF_INT128__\n-enum c { d = (unsigned long)-1 } e;\n+enum C { C1 = (__uint128_t)-1, C2 = ((__uint128_t) 0x123456789abcdef0ULL) << 64 | 0x0fedcba987654321ULL } c;\n #endif\n-main()\n+int\n+main ()\n {\n }"}]}