{"sha": "3d164ffc623fa1a74220ffc5273e6a6258ad75d6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2QxNjRmZmM2MjNmYTFhNzQyMjBmZmM1MjczZTZhNjI1OGFkNzVkNg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-06-18T13:31:32Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-06-18T13:31:32Z"}, "message": "[multiple changes]\n\n2010-06-18  Pascal Obry  <obry@adacore.com>\n\n\t* prj-nmsc.adb: Fix source filenames casing in debug output.\n\n2010-06-18  Robert Dewar  <dewar@adacore.com>\n\n\t* gnatcmd.adb: Minor reformatting.\n\nFrom-SVN: r160989", "tree": {"sha": "7541e35b30955cd84ee2db1de215826cffbd4a93", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7541e35b30955cd84ee2db1de215826cffbd4a93"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3d164ffc623fa1a74220ffc5273e6a6258ad75d6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d164ffc623fa1a74220ffc5273e6a6258ad75d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d164ffc623fa1a74220ffc5273e6a6258ad75d6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d164ffc623fa1a74220ffc5273e6a6258ad75d6/comments", "author": null, "committer": null, "parents": [{"sha": "4d777a71629bda30655fd79a2163f153104c5a2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d777a71629bda30655fd79a2163f153104c5a2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d777a71629bda30655fd79a2163f153104c5a2e"}], "stats": {"total": 170, "additions": 89, "deletions": 81}, "files": [{"sha": "c5225cb90c7063e26edf911809758ffaecdf3ef3", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d164ffc623fa1a74220ffc5273e6a6258ad75d6/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d164ffc623fa1a74220ffc5273e6a6258ad75d6/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=3d164ffc623fa1a74220ffc5273e6a6258ad75d6", "patch": "@@ -1,3 +1,11 @@\n+2010-06-18  Pascal Obry  <obry@adacore.com>\n+\n+\t* prj-nmsc.adb: Fix source filenames casing in debug output.\n+\n+2010-06-18  Robert Dewar  <dewar@adacore.com>\n+\n+\t* gnatcmd.adb: Minor reformatting.\n+\n 2010-06-18  Robert Dewar  <dewar@adacore.com>\n \n \t* sem_eval.adb (Eval_Conditional_Expression): Result is static if"}, {"sha": "0f3810144e405423cabaa035cebd70d590c533bb", "filename": "gcc/ada/gnatcmd.adb", "status": "modified", "additions": 61, "deletions": 60, "changes": 121, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d164ffc623fa1a74220ffc5273e6a6258ad75d6/gcc%2Fada%2Fgnatcmd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d164ffc623fa1a74220ffc5273e6a6258ad75d6/gcc%2Fada%2Fgnatcmd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatcmd.adb?ref=3d164ffc623fa1a74220ffc5273e6a6258ad75d6", "patch": "@@ -141,7 +141,7 @@ procedure GNATCmd is\n \n    Packages_To_Check_By_Check : constant String_List_Access :=\n      new String_List'\n-       ((Naming_String, Builder_String, Check_String, Compiler_String));\n+          ((Naming_String, Builder_String, Check_String, Compiler_String));\n \n    Packages_To_Check_By_Sync : constant String_List_Access :=\n      new String_List'((Naming_String, Synchronize_String, Compiler_String));\n@@ -335,13 +335,11 @@ procedure GNATCmd is\n             if Index = 1\n               or else\n                 (The_Command = Check\n-                   and then\n-                     Last_Switches.Table (Index - 1).all /= \"-o\")\n+                   and then Last_Switches.Table (Index - 1).all /= \"-o\")\n               or else\n                 (The_Command = Pretty\n-                   and then\n-                     Last_Switches.Table (Index - 1).all /= \"-o\"  and then\n-                     Last_Switches.Table (Index - 1).all /= \"-of\")\n+                   and then Last_Switches.Table (Index - 1).all /= \"-o\"\n+                   and then Last_Switches.Table (Index - 1).all /= \"-of\")\n               or else\n                 (The_Command = Metric\n                    and then\n@@ -365,7 +363,7 @@ procedure GNATCmd is\n \n       if Add_Sources then\n \n-         --  For gnatcheck, gnatpp and gnatmetric, create a temporary file\n+         --  For gnatcheck, gnatpp, and gnatmetric, create a temporary file\n          --  and put the list of sources in it.\n \n          if The_Command = Check  or else\n@@ -457,8 +455,8 @@ procedure GNATCmd is\n                   then\n                      --  There is a body, check if it is for this project\n \n-                     if All_Projects or else\n-                        Unit.File_Names (Impl).Project = Project\n+                     if All_Projects\n+                       or else Unit.File_Names (Impl).Project = Project\n                      then\n                         Subunit := False;\n \n@@ -1085,8 +1083,7 @@ procedure GNATCmd is\n                   --  Append \".ali\" if file name does not end with it\n \n                   if Switch'Length <= 4\n-                    or else Switch (Switch'Last - 3 .. Switch'Last)\n-                    /= \".ali\"\n+                    or else Switch (Switch'Last - 3 .. Switch'Last) /= \".ali\"\n                   then\n                      Last := ALI_File'Last;\n                   end if;\n@@ -1099,8 +1096,8 @@ procedure GNATCmd is\n \n                   else\n                      for K in Switch'Range loop\n-                        if Switch (K) = '/' or else\n-                          Switch (K) = Directory_Separator\n+                        if Switch (K) = '/'\n+                          or else Switch (K) = Directory_Separator\n                         then\n                            Test_Existence := True;\n                            exit;\n@@ -1277,7 +1274,7 @@ procedure GNATCmd is\n \n          --  No usage for VMS only command or for Sync\n \n-         if (not Command_List (C).VMS_Only) and then C /= Sync then\n+         if not Command_List (C).VMS_Only and then C /= Sync then\n             if Targparm.AAMP_On_Target then\n                Put (\"gnaampcmd \");\n             else\n@@ -1643,11 +1640,12 @@ begin\n \n                   --  --subdirs=... Specify Subdirs\n \n-                  if Argv'Length > Makeutl.Subdirs_Option'Length and then\n-                    Argv\n-                     (Argv'First ..\n-                      Argv'First + Makeutl.Subdirs_Option'Length - 1) =\n-                        Makeutl.Subdirs_Option\n+                  if Argv'Length > Makeutl.Subdirs_Option'Length\n+                    and then\n+                      Argv\n+                       (Argv'First ..\n+                        Argv'First + Makeutl.Subdirs_Option'Length - 1) =\n+                          Makeutl.Subdirs_Option\n                   then\n                      Subdirs :=\n                        new String'\n@@ -1756,8 +1754,9 @@ begin\n                                         ('=',\n                                          Argv (Argv'First + 2 .. Argv'Last));\n                      begin\n-                        if Equal_Pos >= Argv'First + 3 and then\n-                          Equal_Pos /= Argv'Last then\n+                        if Equal_Pos >= Argv'First + 3\n+                          and then Equal_Pos /= Argv'Last\n+                        then\n                            Add (Project_Node_Tree,\n                                 External_Name =>\n                                   Argv (Argv'First + 2 .. Equal_Pos - 1),\n@@ -1959,7 +1958,7 @@ begin\n             end if;\n          end;\n \n-         if The_Command = Bind\n+         if        The_Command = Bind\n            or else The_Command = Link\n            or else The_Command = Elim\n          then\n@@ -1974,7 +1973,7 @@ begin\n          --  For gnatcheck, gnatstub, gnatmetric, gnatpp and gnatelim, create\n          --  a configuration pragmas file, if necessary.\n \n-         if The_Command = Pretty\n+         if        The_Command = Pretty\n            or else The_Command = Metric\n            or else The_Command = Stub\n            or else The_Command = Elim\n@@ -2112,7 +2111,7 @@ begin\n                      while K <= First_Switches.Last\n                        and then\n                         (The_Command /= Check\n-                           or else First_Switches.Table (K).all /= \"-rules\")\n+                          or else First_Switches.Table (K).all /= \"-rules\")\n                      loop\n                         Add_To_Carg_Switches (First_Switches.Table (K));\n                         K := K + 1;\n@@ -2152,8 +2151,7 @@ begin\n                      while K <= Last_Switches.Last\n                        and then\n                         (The_Command /= Check\n-                         or else\n-                         Last_Switches.Table (K).all /= \"-rules\")\n+                          or else Last_Switches.Table (K).all /= \"-rules\")\n                      loop\n                         Add_To_Carg_Switches (Last_Switches.Table (K));\n                         K := K + 1;\n@@ -2207,33 +2205,35 @@ begin\n                if The_Command = Check then\n                   declare\n                      Pkg  : constant Prj.Package_Id :=\n-                       Prj.Util.Value_Of\n-                         (Name        => Name_Builder,\n-                          In_Packages => Project.Decl.Packages,\n-                          In_Tree     => Project_Tree);\n+                              Prj.Util.Value_Of\n+                                (Name        => Name_Builder,\n+                                 In_Packages => Project.Decl.Packages,\n+                                 In_Tree     => Project_Tree);\n+\n                      Variable : Variable_Value :=\n-                       Prj.Util.Value_Of\n-                         (Name                    => No_Name,\n-                          Attribute_Or_Array_Name =>\n-                            Name_Global_Configuration_Pragmas,\n-                          In_Package              => Pkg,\n-                          In_Tree                 => Project_Tree);\n+                                  Prj.Util.Value_Of\n+                                    (Name                    => No_Name,\n+                                     Attribute_Or_Array_Name =>\n+                                       Name_Global_Configuration_Pragmas,\n+                                     In_Package              => Pkg,\n+                                     In_Tree                 => Project_Tree);\n \n                   begin\n-                     if (Variable = Nil_Variable_Value or else\n-                         Length_Of_Name (Variable.Value) = 0)\n-                         and then Pkg /= No_Package\n+                     if (Variable = Nil_Variable_Value\n+                          or else Length_Of_Name (Variable.Value) = 0)\n+                       and then Pkg /= No_Package\n                      then\n                         Variable :=\n                           Prj.Util.Value_Of\n-                         (Name                    => Name_Ada,\n-                          Attribute_Or_Array_Name => Name_Global_Config_File,\n-                          In_Package              => Pkg,\n-                          In_Tree                 => Project_Tree);\n+                            (Name                    => Name_Ada,\n+                             Attribute_Or_Array_Name =>\n+                               Name_Global_Config_File,\n+                             In_Package              => Pkg,\n+                             In_Tree                 => Project_Tree);\n                      end if;\n \n-                     if Variable /= Nil_Variable_Value and then\n-                       Length_Of_Name (Variable.Value) /= 0\n+                     if Variable /= Nil_Variable_Value\n+                       and then Length_Of_Name (Variable.Value) /= 0\n                      then\n                         Add_To_Carg_Switches\n                           (new String'\n@@ -2243,22 +2243,23 @@ begin\n \n                   if not All_Projects then\n                      declare\n-                        Pkg      : constant Prj.Package_Id :=\n-                          Prj.Util.Value_Of\n-                            (Name        => Name_Compiler,\n-                             In_Packages => Project.Decl.Packages,\n-                             In_Tree     => Project_Tree);\n+                        Pkg : constant Prj.Package_Id :=\n+                                Prj.Util.Value_Of\n+                                  (Name        => Name_Compiler,\n+                                   In_Packages => Project.Decl.Packages,\n+                                   In_Tree     => Project_Tree);\n+\n                         Variable : Variable_Value :=\n-                          Prj.Util.Value_Of\n-                            (Name                    => No_Name,\n-                             Attribute_Or_Array_Name =>\n-                               Name_Local_Configuration_Pragmas,\n-                             In_Package              => Pkg,\n-                             In_Tree                 => Project_Tree);\n+                                     Prj.Util.Value_Of\n+                                       (Name        => No_Name,\n+                                        Attribute_Or_Array_Name =>\n+                                          Name_Local_Configuration_Pragmas,\n+                                        In_Package  => Pkg,\n+                                        In_Tree     => Project_Tree);\n \n                      begin\n-                        if (Variable = Nil_Variable_Value or else\n-                              Length_Of_Name (Variable.Value) = 0)\n+                        if (Variable = Nil_Variable_Value\n+                             or else Length_Of_Name (Variable.Value) = 0)\n                           and then Pkg /= No_Package\n                         then\n                            Variable :=\n@@ -2270,8 +2271,8 @@ begin\n                                 In_Tree                 => Project_Tree);\n                         end if;\n \n-                        if Variable /= Nil_Variable_Value and then\n-                          Length_Of_Name (Variable.Value) /= 0\n+                        if Variable /= Nil_Variable_Value\n+                          and then Length_Of_Name (Variable.Value) /= 0\n                         then\n                            Add_To_Carg_Switches\n                              (new String'"}, {"sha": "a3d65635037482a56743cd71b6e49e41f6196b64", "filename": "gcc/ada/prj-nmsc.adb", "status": "modified", "additions": 20, "deletions": 21, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d164ffc623fa1a74220ffc5273e6a6258ad75d6/gcc%2Fada%2Fprj-nmsc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d164ffc623fa1a74220ffc5273e6a6258ad75d6/gcc%2Fada%2Fprj-nmsc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-nmsc.adb?ref=3d164ffc623fa1a74220ffc5273e6a6258ad75d6", "patch": "@@ -6888,31 +6888,29 @@ package body Prj.Nmsc is\n                         end if;\n \n                         declare\n-                           Path_Name    : constant String :=\n-                                            Normalize_Pathname\n-                                              (Name (1 .. Last),\n-                                               Directory       =>\n-                                                 Source_Directory\n-                                                   (Source_Directory'First ..\n-                                                    Dir_Last),\n-                                               Resolve_Links   =>\n-                                                 Opt.Follow_Links_For_Files,\n-                                               Case_Sensitive => True);\n-\n-                           Path         : Path_Name_Type;\n-                           Display_Path : Path_Name_Type;\n-                           FF           : File_Found :=\n-                                            Excluded_Sources_Htable.Get\n-                                              (Project.Excluded, File_Name);\n-                           To_Remove    : Boolean := False;\n+                           Path_Name : constant String :=\n+                                         Normalize_Pathname\n+                                           (Name (1 .. Last),\n+                                            Directory       =>\n+                                              Source_Directory\n+                                                (Source_Directory'First ..\n+                                                 Dir_Last),\n+                                            Resolve_Links   =>\n+                                              Opt.Follow_Links_For_Files,\n+                                            Case_Sensitive => True);\n+\n+                           Path      : Path_Name_Type;\n+                           FF        : File_Found :=\n+                                         Excluded_Sources_Htable.Get\n+                                           (Project.Excluded, File_Name);\n+                           To_Remove : Boolean := False;\n \n                         begin\n                            Name_Len := Path_Name'Length;\n                            Name_Buffer (1 .. Name_Len) := Path_Name;\n-                           Display_Path := Name_Find;\n \n                            if Osint.File_Names_Case_Sensitive then\n-                              Path := Display_Path;\n+                              Path := Name_Find;\n                            else\n                               Canonical_Case_File_Name\n                                 (Name_Buffer (1 .. Name_Len));\n@@ -6927,7 +6925,8 @@ package body Prj.Nmsc is\n \n                                  if Current_Verbosity = High then\n                                     Write_Str (\"     excluded source \"\"\");\n-                                    Write_Str (Get_Name_String (File_Name));\n+                                    Write_Str\n+                                      (Get_Name_String (Display_File_Name));\n                                     Write_Line (\"\"\"\");\n                                  end if;\n \n@@ -6954,7 +6953,7 @@ package body Prj.Nmsc is\n                               Source_Dir_Rank   => Num_Nod.Number,\n                               Data              => Data,\n                               Path              => Path,\n-                              Display_Path      => Display_Path,\n+                              Display_Path      => Name_Find,\n                               File_Name         => File_Name,\n                               Locally_Removed   => To_Remove,\n                               Display_File_Name => Display_File_Name,"}]}