{"sha": "1763d00076ac7e7da7a781a74932bb8aef649b8b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTc2M2QwMDA3NmFjN2U3ZGE3YTc4MWE3NDkzMmJiOGFlZjY0OWI4Yg==", "commit": {"author": {"name": "David O'Brien", "email": "obrien@FreeBSD.org", "date": "2004-12-21T17:34:18Z"}, "committer": {"name": "David O'Brien", "email": "obrien@gcc.gnu.org", "date": "2004-12-21T17:34:18Z"}, "message": "freebsd-spec.h: Use KSE pthread lib for -pthread.\n\n2004-12-21  David O'Brien  <obrien@FreeBSD.org>\n\t* config/freebsd-spec.h:  Use KSE pthread lib for -pthread.\n\nFrom-SVN: r92462", "tree": {"sha": "ecfac92ad9b6dd980ad7bdba88cd9daa9244a922", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ecfac92ad9b6dd980ad7bdba88cd9daa9244a922"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1763d00076ac7e7da7a781a74932bb8aef649b8b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1763d00076ac7e7da7a781a74932bb8aef649b8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1763d00076ac7e7da7a781a74932bb8aef649b8b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1763d00076ac7e7da7a781a74932bb8aef649b8b/comments", "author": null, "committer": null, "parents": [{"sha": "fd749a603df6e9fb3c5b46f7d7db501cc3758efd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd749a603df6e9fb3c5b46f7d7db501cc3758efd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd749a603df6e9fb3c5b46f7d7db501cc3758efd"}], "stats": {"total": 20, "additions": 12, "deletions": 8}, "files": [{"sha": "293d4118c88eeba470f7eacdeda75605d94dc9c5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1763d00076ac7e7da7a781a74932bb8aef649b8b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1763d00076ac7e7da7a781a74932bb8aef649b8b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1763d00076ac7e7da7a781a74932bb8aef649b8b", "patch": "@@ -1,3 +1,7 @@\n+2004-12-21  David O'Brien  <obrien@FreeBSD.org>\n+\n+\t* config/freebsd-spec.h:  Use KSE pthread lib for -pthread.\n+\n 2004-12-21  James A. Morrison  <phython@gcc.gnu.org>\n \n \tPR c/18963"}, {"sha": "398a9326a3cba832c5b192f98c1eb1e2eb67948a", "filename": "gcc/config/freebsd-spec.h", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1763d00076ac7e7da7a781a74932bb8aef649b8b/gcc%2Fconfig%2Ffreebsd-spec.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1763d00076ac7e7da7a781a74932bb8aef649b8b/gcc%2Fconfig%2Ffreebsd-spec.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffreebsd-spec.h?ref=1763d00076ac7e7da7a781a74932bb8aef649b8b", "patch": "@@ -107,12 +107,12 @@ Boston, MA 02111-1307, USA.  */\n    500016, select the appropriate libc, depending on whether we're\n    doing profiling or need threads support.  At __FreeBSD_version\n    500016 and later, when threads support is requested include both\n-   -lc and -lc_r instead of only -lc_r.  To make matters interesting,\n-   we can't actually use __FreeBSD_version provided by <osreldate.h>\n-   directly since it breaks cross-compiling.  As a final twist, make\n-   it a hard error if -pthread is provided on the command line and gcc\n-   was configured with --disable-threads (this will help avoid bug\n-   reports from users complaining about threading when they\n+   -lc and the threading lib instead of only -lc_r.  To make matters\n+   interesting, we can't actually use __FreeBSD_version provided by\n+   <osreldate.h> directly since it breaks cross-compiling.  As a final\n+   twist, make it a hard error if -pthread is provided on the command\n+   line and gcc was configured with --disable-threads (this will help\n+   avoid bug reports from users complaining about threading when they\n    misconfigured the gcc bootstrap but are later consulting FreeBSD\n    manual pages that refer to the mythical -pthread option).  */\n \n@@ -132,8 +132,8 @@ is built with the --enable-threads configure-time option.}\t\t\\\n #if FBSD_MAJOR >= 5\n #define FBSD_LIB_SPEC \"\t\t\t\t\t\t\t\\\n   %{!shared:\t\t\t\t\t\t\t\t\\\n-    %{!pg: %{pthread:-lc_r} -lc}\t\t\t\t\t\\\n-    %{pg:  %{pthread:-lc_r_p} -lc_p}\t\t\t\t\t\\\n+    %{!pg: %{pthread:-lpthread} -lc}\t\t\t\t\t\\\n+    %{pg:  %{pthread:-lpthread_p} -lc_p}\t\t\t\t\\\n   }\"\n #else\n #define FBSD_LIB_SPEC \"\t\t\t\t\t\t\t\\"}]}