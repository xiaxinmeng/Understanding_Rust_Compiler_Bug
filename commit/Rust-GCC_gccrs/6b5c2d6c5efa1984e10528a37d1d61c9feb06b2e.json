{"sha": "6b5c2d6c5efa1984e10528a37d1d61c9feb06b2e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmI1YzJkNmM1ZWZhMTk4NGUxMDUyOGEzN2QxZDYxYzlmZWIwNmIyZQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2010-06-28T21:16:25Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2010-06-28T21:16:25Z"}, "message": "re PR middle-end/44671 (Partial inlining breaks C++)\n\n\tPR middle-end/44671\n\t* ipa-split.c (test_nonssa_use, mark_nonssa_use): Check also uses of RESULT_DECL.\n\nFrom-SVN: r161514", "tree": {"sha": "8ad4166fea4d3ce322b0bfd5e45b80fd6f5061c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ad4166fea4d3ce322b0bfd5e45b80fd6f5061c6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6b5c2d6c5efa1984e10528a37d1d61c9feb06b2e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b5c2d6c5efa1984e10528a37d1d61c9feb06b2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b5c2d6c5efa1984e10528a37d1d61c9feb06b2e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b5c2d6c5efa1984e10528a37d1d61c9feb06b2e/comments", "author": null, "committer": null, "parents": [{"sha": "7fd7263dc9212bcf694e951327a9b33872158d37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fd7263dc9212bcf694e951327a9b33872158d37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7fd7263dc9212bcf694e951327a9b33872158d37"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "c041e043dd98e388e310ee740d69de6bd9ff26ae", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b5c2d6c5efa1984e10528a37d1d61c9feb06b2e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b5c2d6c5efa1984e10528a37d1d61c9feb06b2e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6b5c2d6c5efa1984e10528a37d1d61c9feb06b2e", "patch": "@@ -1,3 +1,8 @@\n+2010-06-28  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR middle-end/44671\n+\t* ipa-split.c (test_nonssa_use, mark_nonssa_use): Check also uses of RESULT_DECL.\n+\n 2010-06-28  Anatoly Sokolov  <aesok@post.ru>\n \n \t* double-int.h (force_fit_type_double): Remove declaration."}, {"sha": "ae784b6dd779ce8310b81086dc6b63621ca93720", "filename": "gcc/ipa-split.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b5c2d6c5efa1984e10528a37d1d61c9feb06b2e/gcc%2Fipa-split.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b5c2d6c5efa1984e10528a37d1d61c9feb06b2e/gcc%2Fipa-split.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-split.c?ref=6b5c2d6c5efa1984e10528a37d1d61c9feb06b2e", "patch": "@@ -138,6 +138,7 @@ test_nonssa_use (gimple stmt ATTRIBUTE_UNUSED, tree t,\n   if (t && !is_gimple_reg (t)\n       && ((TREE_CODE (t) == VAR_DECL\n \t  && auto_var_in_fn_p (t, current_function_decl))\n+\t  || (TREE_CODE (t) == RESULT_DECL)\n \t  || (TREE_CODE (t) == PARM_DECL)))\n     return bitmap_bit_p ((bitmap)data, DECL_UID (t));\n   return false;\n@@ -441,7 +442,8 @@ mark_nonssa_use (gimple stmt ATTRIBUTE_UNUSED, tree t,\n       return true;\n     }\n \n-  if (TREE_CODE (t) == VAR_DECL && auto_var_in_fn_p (t, current_function_decl))\n+  if ((TREE_CODE (t) == VAR_DECL && auto_var_in_fn_p (t, current_function_decl))\n+      || (TREE_CODE (t) == RESULT_DECL))\n     bitmap_set_bit ((bitmap)data, DECL_UID (t));\n   return false;\n }"}]}