{"sha": "0be3bad7054256f009a066cce34b4cca12f3b86f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGJlM2JhZDcwNTQyNTZmMDA5YTA2NmNjZTM0YjRjY2ExMmYzYjg2Zg==", "commit": {"author": {"name": "Chung-Ju Wu", "email": "jasonwucj@gmail.com", "date": "2018-05-27T06:52:48Z"}, "committer": {"name": "Chung-Ju Wu", "email": "jasonwucj@gcc.gnu.org", "date": "2018-05-27T06:52:48Z"}, "message": "[NDS32] Implement bswapsi2 and bswaphi2 patterns.\n\ngcc/\n\t* config/nds32/nds32.md (bswapsi2, bswaphi2): New patterns.\n\nFrom-SVN: r260804", "tree": {"sha": "ef45cccf4b3b15ca135af787b314642fb43dec35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ef45cccf4b3b15ca135af787b314642fb43dec35"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0be3bad7054256f009a066cce34b4cca12f3b86f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0be3bad7054256f009a066cce34b4cca12f3b86f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0be3bad7054256f009a066cce34b4cca12f3b86f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0be3bad7054256f009a066cce34b4cca12f3b86f/comments", "author": {"login": "jasonwucj", "id": 5520732, "node_id": "MDQ6VXNlcjU1MjA3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5520732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonwucj", "html_url": "https://github.com/jasonwucj", "followers_url": "https://api.github.com/users/jasonwucj/followers", "following_url": "https://api.github.com/users/jasonwucj/following{/other_user}", "gists_url": "https://api.github.com/users/jasonwucj/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonwucj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonwucj/subscriptions", "organizations_url": "https://api.github.com/users/jasonwucj/orgs", "repos_url": "https://api.github.com/users/jasonwucj/repos", "events_url": "https://api.github.com/users/jasonwucj/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonwucj/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "54c537e66c26882d8b3202a3e72a6fb9464d9969", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54c537e66c26882d8b3202a3e72a6fb9464d9969", "html_url": "https://github.com/Rust-GCC/gccrs/commit/54c537e66c26882d8b3202a3e72a6fb9464d9969"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "293856b0888876f76007382b46868a5043536380", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0be3bad7054256f009a066cce34b4cca12f3b86f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0be3bad7054256f009a066cce34b4cca12f3b86f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0be3bad7054256f009a066cce34b4cca12f3b86f", "patch": "@@ -1,3 +1,7 @@\n+2018-05-27  Chung-Ju Wu  <jasonwucj@gmail.com>\n+\n+\t* config/nds32/nds32.md (bswapsi2, bswaphi2): New patterns.\n+\n 2018-05-27  Chung-Ju Wu  <jasonwucj@gmail.com>\n \n \t* config/nds32/nds32.c (nds32_attribute_table): Add \"no_prologue\"."}, {"sha": "66ef03327f4c0a6bc1e7262cf1084563d9f8c766", "filename": "gcc/config/nds32/nds32.md", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0be3bad7054256f009a066cce34b4cca12f3b86f/gcc%2Fconfig%2Fnds32%2Fnds32.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0be3bad7054256f009a066cce34b4cca12f3b86f/gcc%2Fconfig%2Fnds32%2Fnds32.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnds32%2Fnds32.md?ref=0be3bad7054256f009a066cce34b4cca12f3b86f", "patch": "@@ -2180,6 +2180,26 @@\n   [(set_attr \"type\"    \"alu\")\n    (set_attr \"length\"    \"4\")]\n )\n+\n+(define_expand \"bswapsi2\"\n+  [(set (match_operand:SI 0 \"register_operand\" \"=r\")\n+\t(bswap:SI (match_operand:SI 1 \"register_operand\" \"r\")))]\n+  \"\"\n+{\n+  emit_insn (gen_unspec_wsbh (operands[0], operands[1]));\n+  emit_insn (gen_rotrsi3 (operands[0], operands[0], GEN_INT (16)));\n+  DONE;\n+})\n+\n+(define_insn \"bswaphi2\"\n+  [(set (match_operand:HI 0 \"register_operand\" \"=r\")\n+\t(bswap:HI (match_operand:HI 1 \"register_operand\" \"r\")))]\n+  \"\"\n+  \"wsbh\\t%0, %1\"\n+  [(set_attr \"type\"    \"alu\")\n+   (set_attr \"length\"    \"4\")]\n+)\n+\n ;; ----------------------------------------------------------------------------\n \n ;; Patterns for exception handling"}]}