{"sha": "2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmU2NDkxNTE1ZWMxNTNkMTc0MjdhNjM1Y2RmYmZiYzViZGEwYTdmMQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2013-06-03T20:39:50Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2013-06-03T20:39:50Z"}, "message": "re PR c++/57419 (Access control doesn't stop referring to a deleted function)\n\n/gcc/cp\n2013-06-03  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/57419\n\t* decl2.c (mark_used): Add overload taking a tsubst_flags_t too.\n\t* semantics.c (finish_qualified_id_expr): Use it.\n\t* cp-tree.h: Update.\n\n/gcc/testsuite\n2013-06-03  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/57419\n\t* g++.dg/cpp0x/sfinae46.C: New.\n\t* g++.dg/cpp0x/defaulted13.C: Adjust.\n\t* g++.dg/cpp0x/defaulted2.C: Likewise.\n\t* g++.dg/cpp0x/defaulted26.C: Likewise.\n\t* g++.dg/cpp0x/defaulted3.C: Likewise.\n\t* g++.dg/cpp0x/error1.C: Likewise.\n\t* g++.dg/cpp0x/implicit1.C: Likewise.\n\t* g++.dg/cpp0x/implicit11.C: Likewise.\n\t* g++.dg/cpp0x/inh-ctor13.C: Likewise.\n\t* g++.dg/cpp0x/initlist47.C: Likewise.\n\t* g++.dg/cpp0x/initlist9.C: Likewise.\n\t* g++.dg/cpp0x/lambda/lambda-errloc.C: Likewise.\n\t* g++.dg/cpp0x/lambda/lambda-errloc2.C: Likewise.\n\t* g++.dg/cpp0x/nsdmi-local.C: Likewise.\n\t* g++.dg/cpp0x/union4.C: Likewise.\n\t* g++.dg/template/crash108.C: Likewise.\n\t* g++.dg/template/crash41.C: Likewise.\n\t* g++.old-deja/g++.jason/local.C: Likewise.\n\t* g++.old-deja/g++.law/visibility3.C: Likewise.\n\n/libstdc++-v3\n2013-06-03  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/57419\n\t* testsuite/20_util/default_delete/48631_neg.cc: Adjust.\n\nFrom-SVN: r199626", "tree": {"sha": "7331696da48633cf3a8a6c997f9ca5e328abaad5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7331696da48633cf3a8a6c997f9ca5e328abaad5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/comments", "author": null, "committer": null, "parents": [{"sha": "53984b9b4c1771edbaf53596c590df83c74a4b52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53984b9b4c1771edbaf53596c590df83c74a4b52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53984b9b4c1771edbaf53596c590df83c74a4b52"}], "stats": {"total": 121, "additions": 91, "deletions": 30}, "files": [{"sha": "a30a7d634760f50d107c039a39cf33cac9141522", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -1,3 +1,10 @@\n+2013-06-03  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/57419\n+\t* decl2.c (mark_used): Add overload taking a tsubst_flags_t too.\n+\t* semantics.c (finish_qualified_id_expr): Use it.\n+\t* cp-tree.h: Update.\n+\n 2013-06-01  Jan Hubicka  <jh@suse.cz>\n \n \t* decl2.c (cp_write_global_declarations): Replace same_body_alias"}, {"sha": "8be1077c99c18a727b17a2bad0cdae093f4e10e4", "filename": "gcc/cp/cp-tree.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Fcp%2Fcp-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Fcp%2Fcp-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-tree.h?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -5278,6 +5278,7 @@ extern bool decl_constant_var_p\t\t\t(tree);\n extern bool decl_maybe_constant_var_p\t\t(tree);\n extern void check_default_args\t\t\t(tree);\n extern bool mark_used\t\t\t\t(tree);\n+extern bool mark_used\t\t\t        (tree, tsubst_flags_t);\n extern void finish_static_data_member_decl\t(tree, tree, bool, tree, int);\n extern tree cp_build_parm_decl\t\t\t(tree, tree);\n extern tree get_guard\t\t\t\t(tree);"}, {"sha": "5e7dbcdb3596ac5d7af452167c3cb0391b5b987b", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 15, "deletions": 5, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -4499,7 +4499,7 @@ possibly_inlined_p (tree decl)\n    wrong, true otherwise.  */\n \n bool\n-mark_used (tree decl)\n+mark_used (tree decl, tsubst_flags_t complain)\n {\n   /* If DECL is a BASELINK for a single function, then treat it just\n      like the DECL for the function.  Otherwise, if the BASELINK is\n@@ -4537,9 +4537,12 @@ mark_used (tree decl)\n \t      return false;\n \t    }\n \t}\n-      error (\"use of deleted function %qD\", decl);\n-      if (!maybe_explain_implicit_delete (decl))\n-\terror_at (DECL_SOURCE_LOCATION (decl), \"declared here\");\n+      if (complain & tf_error)\n+\t{\n+\t  error (\"use of deleted function %qD\", decl);\n+\t  if (!maybe_explain_implicit_delete (decl))\n+\t    inform (DECL_SOURCE_LOCATION (decl), \"declared here\");\n+\t}\n       return false;\n     }\n \n@@ -4552,7 +4555,8 @@ mark_used (tree decl)\n     {\n       if (!processing_template_decl && type_uses_auto (TREE_TYPE (decl)))\n \t{\n-\t  error (\"use of %qD before deduction of %<auto%>\", decl);\n+\t  if (complain & tf_error)\n+\t    error (\"use of %qD before deduction of %<auto%>\", decl);\n \t  return false;\n \t}\n       return true;\n@@ -4701,4 +4705,10 @@ mark_used (tree decl)\n   return true;\n }\n \n+bool\n+mark_used (tree decl)\n+{\n+  return mark_used (decl, tf_warning_or_error);\n+}\n+\n #include \"gt-cp-decl2.h\""}, {"sha": "048a7db5e1e52abf4c527bbdb1a1508fb825fe69", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -1778,8 +1778,9 @@ finish_qualified_id_expr (tree qualifying_class,\n   if (error_operand_p (expr))\n     return error_mark_node;\n \n-  if (DECL_P (expr) || BASELINK_P (expr))\n-    mark_used (expr);\n+  if ((DECL_P (expr) || BASELINK_P (expr))\n+      && !mark_used (expr, complain))\n+    return error_mark_node;\n \n   if (template_p)\n     check_template_keyword (expr);"}, {"sha": "a1f082790c97ba288091ab2fbe82b58894d1fb30", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -1,3 +1,26 @@\n+2013-06-03  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/57419\n+\t* g++.dg/cpp0x/sfinae46.C: New.\n+\t* g++.dg/cpp0x/defaulted13.C: Adjust.\n+\t* g++.dg/cpp0x/defaulted2.C: Likewise.\n+\t* g++.dg/cpp0x/defaulted26.C: Likewise.\n+\t* g++.dg/cpp0x/defaulted3.C: Likewise.\n+\t* g++.dg/cpp0x/error1.C: Likewise.\n+\t* g++.dg/cpp0x/implicit1.C: Likewise.\n+\t* g++.dg/cpp0x/implicit11.C: Likewise.\n+\t* g++.dg/cpp0x/inh-ctor13.C: Likewise.\n+\t* g++.dg/cpp0x/initlist47.C: Likewise.\n+\t* g++.dg/cpp0x/initlist9.C: Likewise.\n+\t* g++.dg/cpp0x/lambda/lambda-errloc.C: Likewise.\n+\t* g++.dg/cpp0x/lambda/lambda-errloc2.C: Likewise.\n+\t* g++.dg/cpp0x/nsdmi-local.C: Likewise.\n+\t* g++.dg/cpp0x/union4.C: Likewise.\n+\t* g++.dg/template/crash108.C: Likewise.\n+\t* g++.dg/template/crash41.C: Likewise.\n+\t* g++.old-deja/g++.jason/local.C: Likewise.\n+\t* g++.old-deja/g++.law/visibility3.C: Likewise.\n+\n 2013-06-03  Teresa Johnson  <tejohnson@google.com>\n \n \t* gcc.dg/vect/bb-slp-31.c: Update vect dump message."}, {"sha": "5ddbcb38c1cca37bbe12f78a8240022caac2821f", "filename": "gcc/testsuite/g++.dg/cpp0x/defaulted13.C", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted13.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted13.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted13.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -7,13 +7,13 @@ struct NonCopyable {\n };\n \n template<>\n-NonCopyable<int>::NonCopyable(NonCopyable<int> const&) = delete; // { dg-error \"declared\" }\n+NonCopyable<int>::NonCopyable(NonCopyable<int> const&) = delete; // { dg-message \"declared\" }\n \n template<typename T>\n NonCopyable<T>::NonCopyable(NonCopyable<T> const&) = default;\n \n template<>\n-NonCopyable<double>::NonCopyable(NonCopyable<double> const&) = delete; // { dg-error \"declared\" }\n+NonCopyable<double>::NonCopyable(NonCopyable<double> const&) = delete; // { dg-message \"declared\" }\n \n \n int main()"}, {"sha": "ce551a3fee2efe57354e957ae06e4d3b9918fe72", "filename": "gcc/testsuite/g++.dg/cpp0x/defaulted2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted2.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -42,7 +42,7 @@ struct E\n struct F\n {\n   F() = default;\n-  F(const F&) = delete;\t\t// { dg-error \"declared\" }\n+  F(const F&) = delete;\t\t// { dg-message \"declared\" }\n };\n \n struct G"}, {"sha": "746fa9081802af263cba485887f60eaceaad2ced", "filename": "gcc/testsuite/g++.dg/cpp0x/defaulted26.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted26.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted26.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted26.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -1,7 +1,7 @@\n // PR c++/49066\n // { dg-options -std=c++0x }\n \n-void foo() = delete;\t\t// { dg-error \"declared here\" }\n+void foo() = delete;\t\t// { dg-message \"declared here\" }\n void foo();\n \n int main() { foo(); }\t\t// { dg-error \"deleted\" }"}, {"sha": "bc5b14d2d591effeeb0a508300a6ed7a8e830c55", "filename": "gcc/testsuite/g++.dg/cpp0x/defaulted3.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted3.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -4,7 +4,7 @@\n template<class T>\n struct A {\n   template<class U>\n-  bool operator==(const A<U>&) = delete; // { dg-error \"declared\" }\n+  bool operator==(const A<U>&) = delete; // { dg-message \"declared\" }\n   operator bool () { return true; }\n };\n "}, {"sha": "15cd38f8807d771d23ecf8a421860eaca77e90d7", "filename": "gcc/testsuite/g++.dg/cpp0x/error1.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Ferror1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Ferror1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Ferror1.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -2,7 +2,7 @@\n // { dg-do compile }\n // { dg-options \"-std=c++0x\" }\n \n-template<int... N> void foo (int... x[N])\t// { dg-error \"int \\\\\\[N\\\\\\]\\\\.\\\\.\\\\. x\" }\n+template<int... N> void foo (int... x[N])\t// { dg-message \"int \\\\\\[N\\\\\\]\\\\.\\\\.\\\\. x\" }\n {\n   struct A\n   {"}, {"sha": "e4e16e1ad351cdc530276291bee0e485e38e4978", "filename": "gcc/testsuite/g++.dg/cpp0x/implicit1.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fimplicit1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fimplicit1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fimplicit1.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -15,7 +15,7 @@ D d;\t\t\t\t// { dg-error \"deleted\" }\n \n struct E\n {\n-  ~E() = delete;\t\t// { dg-error \"declared here\" }\n+  ~E() = delete;\t\t// { dg-message \"declared here\" }\n };\n \n struct F"}, {"sha": "c974e2b7761eacea10d68d5de566beff0a383c7d", "filename": "gcc/testsuite/g++.dg/cpp0x/implicit11.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fimplicit11.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fimplicit11.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fimplicit11.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -4,7 +4,7 @@\n \n struct A\n {\n-  ~A() = delete;\t\t// { dg-error \"declared here\" }\n+  ~A() = delete;\t\t// { dg-message \"declared here\" }\n };\n \n struct B: A { };\t\t// { dg-error \"deleted\" }"}, {"sha": "95cf932d0019d41eb9dca39f9b4003d8ee69dc0d", "filename": "gcc/testsuite/g++.dg/cpp0x/inh-ctor13.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Finh-ctor13.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Finh-ctor13.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Finh-ctor13.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -8,7 +8,7 @@ struct A\n \n struct C\n {\n-  C() = delete;\t\t\t// { dg-error \"declared here\" }\n+  C() = delete;\t\t\t// { dg-message \"declared here\" }\n };\n \n struct B: A, C"}, {"sha": "06d683e038a745e5fae1f134d05f9319a804e63d", "filename": "gcc/testsuite/g++.dg/cpp0x/initlist47.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Finitlist47.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Finitlist47.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Finitlist47.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -1,6 +1,6 @@\n // { dg-options -std=c++0x }\n \n-struct A { ~A() = delete; };\t// { dg-error \"declared\" }\n+struct A { ~A() = delete; };\t// { dg-message \"declared\" }\n \n int main()\n {"}, {"sha": "197fdd4ad04db9ff1640a94d234f6838f8b13387", "filename": "gcc/testsuite/g++.dg/cpp0x/initlist9.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Finitlist9.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Finitlist9.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Finitlist9.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -8,7 +8,7 @@ struct b\n   b() = default;\n   ~b() = default;\n   b& operator=(const b&) = delete;\n-  b(const b&) = delete;\t\t// { dg-error \"declared\" }\n+  b(const b&) = delete;\t\t// { dg-message \"declared\" }\n \n   b(bool _t): t (_t) { }\n };"}, {"sha": "92c54313874fd4421bafe45ef51fbb141dbc5dd4", "filename": "gcc/testsuite/g++.dg/cpp0x/lambda/lambda-errloc.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-errloc.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-errloc.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-errloc.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -5,7 +5,7 @@\n struct A\n {\n   A();\n-  A(const A& a) = delete;\t// { dg-error \"declared\" }\n+  A(const A& a) = delete;\t// { dg-message \"declared\" }\n };\n \n int main()"}, {"sha": "213f7c0babf93ccaa7cca9b70c6df8b52677de81", "filename": "gcc/testsuite/g++.dg/cpp0x/lambda/lambda-errloc2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-errloc2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-errloc2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-errloc2.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -3,7 +3,7 @@\n \n struct A {\n   A();\n-  A(const A&) = delete;\t\t// { dg-error \"declared\" }\n+  A(const A&) = delete;\t\t// { dg-message \"declared\" }\n };\n \n template <class T>"}, {"sha": "2330365f7ce12a781ac860941c64af09d009c802", "filename": "gcc/testsuite/g++.dg/cpp0x/nsdmi-local.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnsdmi-local.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnsdmi-local.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnsdmi-local.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -3,6 +3,6 @@\n \n int main()\n {\n-    int q = 1;\t\t\t\t // { dg-error \"declared here\" }\n+    int q = 1;\t\t\t\t // { dg-message \"declared here\" }\n     struct test { int x = q; } instance; // { dg-error \"local variable\" }\n }"}, {"sha": "20e859c23eed11b535fba08cb1373e4437b04007", "filename": "gcc/testsuite/g++.dg/cpp0x/sfinae46.C", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fsfinae46.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fsfinae46.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fsfinae46.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -0,0 +1,13 @@\n+// PR c++/57419\n+// { dg-do compile { target c++11 } }\n+\n+template< typename q >\n+decltype( &q::f ) t( q ) {}\n+\n+char t( ... ) { return {}; }\n+\n+class c { void f() = delete; };\n+class d { static void f() = delete; };\n+\n+static_assert( sizeof( t( c() ) ), \"c\" );\n+static_assert( sizeof( t( d() ) ), \"d\" );"}, {"sha": "c82a81cdba851211f39f16d0c52cd8fa14117944", "filename": "gcc/testsuite/g++.dg/cpp0x/union4.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Funion4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Funion4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Funion4.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -3,7 +3,7 @@\n \n struct SFoo\n {\n-  SFoo() =delete;\t\t// { dg-error \"declared\" }\n+  SFoo() =delete;\t\t// { dg-message \"declared\" }\n };\n \n union UFoo\t\t\t// { dg-error \"deleted\" }"}, {"sha": "221d80ee5f11141024242138ec1aa90dc36163d1", "filename": "gcc/testsuite/g++.dg/template/crash108.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash108.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash108.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash108.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -1,5 +1,5 @@\n // PR c++/50861\n \n template<class T> struct A {A(int b=k(0));}; // { dg-error \"parameter|arguments\" }\n-void f(int k){A<int> a;} // // { dg-error \"declared\" }\n+void f(int k){A<int> a;} // // { dg-message \"declared\" }\n // { dg-message \"note\" \"note\" { target *-*-* } 3 }"}, {"sha": "16e7028a6688f48dd685e436c0b62d19a3f55336", "filename": "gcc/testsuite/g++.dg/template/crash41.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash41.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash41.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash41.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -1,7 +1,7 @@\n // PR c++/22464\n \n template<typename T>\n-void do_something(const T* A) // { dg-error \"declared\" }\n+void do_something(const T* A) // { dg-message \"declared\" }\n { \n   struct helper_t{ \n     helper_t() {  "}, {"sha": "18d810a33ba34b071403b2bc63f11ad57236789f", "filename": "gcc/testsuite/g++.old-deja/g++.jason/local.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.jason%2Flocal.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.jason%2Flocal.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.jason%2Flocal.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -5,7 +5,7 @@ int x;\n void f ()\n {\n   static int s;\n-  int x;\t\t\t// { dg-error \"\" } referenced below\n+  int x;\t\t\t// { dg-message \"\" } referenced below\n   extern int q();\n \n   struct local {"}, {"sha": "ddbbc84badcb73090cbe010edf52450a8265b7d7", "filename": "gcc/testsuite/g++.old-deja/g++.law/visibility3.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.law%2Fvisibility3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.law%2Fvisibility3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.law%2Fvisibility3.C?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -11,7 +11,7 @@ int x;\n int main(void)\n {\n   static int s;\n-  int x; // { dg-error \"\" } declared\n+  int x; // { dg-message \"\" } declared\n   extern int g();\n \n   struct local {"}, {"sha": "3952b0b913727d2ddb86b281a162a6f6e0234805", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -1,8 +1,14 @@\n+2013-06-03  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/57419\n+\t* testsuite/20_util/default_delete/48631_neg.cc: Adjust.\n+\n 2013-06-01  Ed Smith-Rowland  <3dw4rd@verizon.net>\n \n-\tinclude/std/chrono: Collapse redundant 'inline' from 'inline constexpr'.\n-\tinclude/std/tuple: Ditto.\n-\tinclude/bits/move.h: Ditto.\n+\t* include/std/chrono: Collapse redundant 'inline' from 'inline\n+\tconstexpr'.\n+\t* include/std/tuple: Ditto.\n+\t* include/bits/move.h: Ditto.\n \n 2013-05-30  Ed Smith-Rowland  <3dw4rd@verizon.net>\n "}, {"sha": "d4c17288a99fdc46d6cff452210db569c941d281", "filename": "libstdc++-v3/testsuite/20_util/default_delete/48631_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fdefault_delete%2F48631_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e6491515ec153d17427a635cdfbfbc5bda0a7f1/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fdefault_delete%2F48631_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fdefault_delete%2F48631_neg.cc?ref=2e6491515ec153d17427a635cdfbfbc5bda0a7f1", "patch": "@@ -27,4 +27,4 @@ struct D : B { };\n D d;\n std::default_delete<B[]> db;\n typedef decltype(db(&d)) type; // { dg-error \"use of deleted function\" }\n-// { dg-error \"declared here\" \"\" { target *-*-* } 122 }\n+// { dg-prune-output \"declared\" }"}]}