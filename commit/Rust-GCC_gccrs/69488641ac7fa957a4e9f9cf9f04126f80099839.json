{"sha": "69488641ac7fa957a4e9f9cf9f04126f80099839", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njk0ODg2NDFhYzdmYTk1N2E0ZTlmOWNmOWYwNDEyNmY4MDA5OTgzOQ==", "commit": {"author": {"name": "Doug Evans", "email": "dje@google.com", "date": "2012-07-13T22:12:28Z"}, "committer": {"name": "Doug Evans", "email": "devans@gcc.gnu.org", "date": "2012-07-13T22:12:28Z"}, "message": "filenames.h: #include \"hashtab.h\".\n\n\tinclude/\n\t* filenames.h: #include \"hashtab.h\".\n\t(filename_hash, filename_eq): Declare.\n\tlibiberty/\n\t* filename_cmp.c (filename_hash, filename_eq): New functions.\n\nFrom-SVN: r189472", "tree": {"sha": "d0faf1e028dded68f8851bbadd980ad8284dbc72", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d0faf1e028dded68f8851bbadd980ad8284dbc72"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/69488641ac7fa957a4e9f9cf9f04126f80099839", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69488641ac7fa957a4e9f9cf9f04126f80099839", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69488641ac7fa957a4e9f9cf9f04126f80099839", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69488641ac7fa957a4e9f9cf9f04126f80099839/comments", "author": null, "committer": null, "parents": [{"sha": "c8b8af718c7b79ac11d346a220fc90670a293c6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8b8af718c7b79ac11d346a220fc90670a293c6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8b8af718c7b79ac11d346a220fc90670a293c6f"}], "stats": {"total": 64, "additions": 64, "deletions": 0}, "files": [{"sha": "57f812de6c3d06add9be2d5de0e38826e4786a62", "filename": "include/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69488641ac7fa957a4e9f9cf9f04126f80099839/include%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69488641ac7fa957a4e9f9cf9f04126f80099839/include%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2FChangeLog?ref=69488641ac7fa957a4e9f9cf9f04126f80099839", "patch": "@@ -1,3 +1,8 @@\n+2012-07-13  Doug Evans  <dje@google.com>\n+\n+\t* filenames.h: #include \"hashtab.h\".\n+\t(filename_hash, filename_eq): Declare.\n+\n 2012-06-18  Doug Evans  <dje@google.com>\n \n \t* dwarf2.def (DW_OP): Add DW_OP_GNU_const_index."}, {"sha": "e799a51b6ad014d74581da6d92ce337be896c86a", "filename": "include/filenames.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69488641ac7fa957a4e9f9cf9f04126f80099839/include%2Ffilenames.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69488641ac7fa957a4e9f9cf9f04126f80099839/include%2Ffilenames.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2Ffilenames.h?ref=69488641ac7fa957a4e9f9cf9f04126f80099839", "patch": "@@ -26,6 +26,8 @@ Foundation, Inc., 51 Franklin Street - Fifth Floor, Boston, MA 02110-1301, USA.\n #ifndef FILENAMES_H\n #define FILENAMES_H\n \n+#include \"hashtab.h\" /* for hashval_t */\n+\n #ifdef __cplusplus\n extern \"C\" {\n #endif\n@@ -84,6 +86,10 @@ extern int filename_cmp (const char *s1, const char *s2);\n extern int filename_ncmp (const char *s1, const char *s2,\n \t\t\t  size_t n);\n \n+extern hashval_t filename_hash (const void *s);\n+\n+extern int filename_eq (const void *s1, const void *s2);\n+\n #ifdef __cplusplus\n }\n #endif"}, {"sha": "4ece5ab7474cf34c750fa7306a1daf7951b04d64", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69488641ac7fa957a4e9f9cf9f04126f80099839/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69488641ac7fa957a4e9f9cf9f04126f80099839/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=69488641ac7fa957a4e9f9cf9f04126f80099839", "patch": "@@ -1,3 +1,7 @@\n+2012-07-13  Doug Evans  <dje@google.com>\n+\n+\t* filename_cmp.c (filename_hash, filename_eq): New functions.\n+\n 2012-06-29  Andreas Schwab  <schwab@linux-m68k.org>\n \n \t* copying-lib.texi (Library Copying): Don't use @heading inside"}, {"sha": "9e16d242086d499a795f1d8f954fc4964c391b8e", "filename": "libiberty/filename_cmp.c", "status": "modified", "additions": 49, "deletions": 0, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69488641ac7fa957a4e9f9cf9f04126f80099839/libiberty%2Ffilename_cmp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69488641ac7fa957a4e9f9cf9f04126f80099839/libiberty%2Ffilename_cmp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Ffilename_cmp.c?ref=69488641ac7fa957a4e9f9cf9f04126f80099839", "patch": "@@ -141,3 +141,52 @@ filename_ncmp (const char *s1, const char *s2, size_t n)\n   return 0;\n #endif\n }\n+\n+/*\n+\n+@deftypefn Extension hashval_t filename_hash (const void *@var{s})\n+\n+Return the hash value for file name @var{s} that will be compared\n+using filename_cmp.\n+This function is for use with hashtab.c hash tables.\n+\n+@end deftypefn\n+\n+*/\n+\n+hashval_t\n+filename_hash (const void *s)\n+{\n+  /* The cast is for -Wc++-compat.  */\n+  const unsigned char *str = (const unsigned char *) s;\n+  hashval_t r = 0;\n+  unsigned char c;\n+\n+  while ((c = *str++) != 0)\n+    {\n+      if (c == '\\\\')\n+\tc = '/';\n+      c = TOLOWER (c);\n+      r = r * 67 + c - 113;\n+    }\n+\n+  return r;\n+}\n+\n+/*\n+\n+@deftypefn Extension int filename_eq (const void *@var{s1}, const void *@var{s2})\n+\n+Return non-zero if file names @var{s1} and @var{s2} are equivalent.\n+This function is for use with hashtab.c hash tables.\n+\n+@end deftypefn\n+\n+*/\n+\n+int\n+filename_eq (const void *s1, const void *s2)\n+{\n+  /* The casts are for -Wc++-compat.  */\n+  return filename_cmp ((const char *) s1, (const char *) s2) == 0;\n+}"}]}