{"sha": "b53f709d92396c60d3f4ed97985137b13f853746", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjUzZjcwOWQ5MjM5NmM2MGQzZjRlZDk3OTg1MTM3YjEzZjg1Mzc0Ng==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2020-10-27T08:01:41Z"}, "committer": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2020-10-27T08:01:41Z"}, "message": "Add string builtins to builtin_fnspec\n\n\t* builtins.c (builtin_fnspec): Add bzero, memcmp, memcmp_eq, bcmp,\n\tstrncmp, strncmp_eq, strncasecmp, rindex, strlen, strlnen, strcasecmp,\n\tstrcspn, strspn, strcmp, strcmp_eq.", "tree": {"sha": "b63e0d6f4173ab095d974d5c028bdb7e30826a67", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b63e0d6f4173ab095d974d5c028bdb7e30826a67"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b53f709d92396c60d3f4ed97985137b13f853746", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b53f709d92396c60d3f4ed97985137b13f853746", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b53f709d92396c60d3f4ed97985137b13f853746", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b53f709d92396c60d3f4ed97985137b13f853746/comments", "author": null, "committer": null, "parents": [{"sha": "83220838dd6f7701ca264347c934b12de7703b42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83220838dd6f7701ca264347c934b12de7703b42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83220838dd6f7701ca264347c934b12de7703b42"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "3a3eb5562df7a8e9c737da265ab99ec3c1139477", "filename": "gcc/builtins.c", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b53f709d92396c60d3f4ed97985137b13f853746/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b53f709d92396c60d3f4ed97985137b13f853746/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=b53f709d92396c60d3f4ed97985137b13f853746", "patch": "@@ -12960,6 +12960,15 @@ builtin_fnspec (tree callee)\n \treturn \".cO3R3\";\n       case BUILT_IN_BCOPY:\n \treturn \".cR3O3\";\n+      case BUILT_IN_BZERO:\n+\treturn \".cO2\";\n+      case BUILT_IN_MEMCMP:\n+      case BUILT_IN_MEMCMP_EQ:\n+      case BUILT_IN_BCMP:\n+      case BUILT_IN_STRNCMP:\n+      case BUILT_IN_STRNCMP_EQ:\n+      case BUILT_IN_STRNCASECMP:\n+\treturn \".cR3R3\";\n \n       /* The following functions read memory pointed to by their\n \t first argument.  */\n@@ -12987,9 +12996,13 @@ builtin_fnspec (tree callee)\n \treturn \".cR \";\n \n       case BUILT_IN_INDEX:\n+      case BUILT_IN_RINDEX:\n       case BUILT_IN_STRCHR:\n+      case BUILT_IN_STRLEN:\n       case BUILT_IN_STRRCHR:\n \treturn \".cR \";\n+      case BUILT_IN_STRNLEN:\n+\treturn \".cR2\";\n \n       /* These read memory pointed to by the first argument.\n \t Allocating memory does not have any side-effects apart from\n@@ -13014,6 +13027,11 @@ builtin_fnspec (tree callee)\n       /* These read memory pointed to by the first and second arguments.  */\n       case BUILT_IN_STRSTR:\n       case BUILT_IN_STRPBRK:\n+      case BUILT_IN_STRCASECMP:\n+      case BUILT_IN_STRCSPN:\n+      case BUILT_IN_STRSPN:\n+      case BUILT_IN_STRCMP:\n+      case BUILT_IN_STRCMP_EQ:\n \treturn \".cR R \";\n       /* Freeing memory kills the pointed-to memory.  More importantly\n \t the call has to serve as a barrier for moving loads and stores"}]}