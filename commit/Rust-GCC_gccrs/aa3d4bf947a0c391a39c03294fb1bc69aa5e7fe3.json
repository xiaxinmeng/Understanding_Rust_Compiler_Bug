{"sha": "aa3d4bf947a0c391a39c03294fb1bc69aa5e7fe3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWEzZDRiZjk0N2EwYzM5MWEzOWMwMzI5NGZiMWJjNjlhYTVlN2ZlMw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-03-04T15:01:06Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-03-04T15:01:06Z"}, "message": "flow.c (delete_unreachable_blocks): Mark blocks as they are put on to the worklist, not as they are taken off.\n\n        * flow.c (delete_unreachable_blocks): Mark blocks as they\n        are put on to the worklist, not as they are taken off.\n\nFrom-SVN: r25584", "tree": {"sha": "b8d93eab7304ab64217058a502249db8f7dc3a1f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8d93eab7304ab64217058a502249db8f7dc3a1f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aa3d4bf947a0c391a39c03294fb1bc69aa5e7fe3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa3d4bf947a0c391a39c03294fb1bc69aa5e7fe3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa3d4bf947a0c391a39c03294fb1bc69aa5e7fe3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa3d4bf947a0c391a39c03294fb1bc69aa5e7fe3/comments", "author": null, "committer": null, "parents": [{"sha": "dd5657ed922e7da1d162987dec9bdece8630be7d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd5657ed922e7da1d162987dec9bdece8630be7d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd5657ed922e7da1d162987dec9bdece8630be7d"}], "stats": {"total": 20, "additions": 15, "deletions": 5}, "files": [{"sha": "0a6bf91fa8f55cb98168f8150772198cadd91681", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa3d4bf947a0c391a39c03294fb1bc69aa5e7fe3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa3d4bf947a0c391a39c03294fb1bc69aa5e7fe3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=aa3d4bf947a0c391a39c03294fb1bc69aa5e7fe3", "patch": "@@ -1,3 +1,8 @@\n+Thu Mar  4 15:00:35 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* flow.c (delete_unreachable_blocks): Mark blocks as they\n+\tare put on to the worklist, not as they are taken off.\n+\n Thu Mar  4 00:05:44 1999  Jeffrey A Law  (law@cygnus.com)\n \n \t* function.c (current_function_has_computed_jump): Remove duplicate"}, {"sha": "4f661560dcc61d6c46b940e54b1f6bee94269052", "filename": "gcc/flow.c", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa3d4bf947a0c391a39c03294fb1bc69aa5e7fe3/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa3d4bf947a0c391a39c03294fb1bc69aa5e7fe3/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=aa3d4bf947a0c391a39c03294fb1bc69aa5e7fe3", "patch": "@@ -1466,20 +1466,25 @@ delete_unreachable_blocks ()\n      support Fortran alternate entry points.  */\n \n   for (e = ENTRY_BLOCK_PTR->succ; e ; e = e->succ_next)\n-    *tos++ = e->dest;\n+    {\n+      *tos++ = e->dest;\n+\n+      /* Mark the block with a handy non-null value.  */\n+      e->dest->aux = e;\n+    }\n       \n   /* Iterate: find everything reachable from what we've already seen.  */\n \n   while (tos != worklist)\n     {\n       basic_block b = *--tos;\n \n-      /* Mark the block with a handy non-null value.  */\n-      b->aux = b;\n-\n       for (e = b->succ; e ; e = e->succ_next)\n \tif (!e->dest->aux)\n-\t  *tos++ = e->dest;\n+\t  {\n+\t    *tos++ = e->dest;\n+\t    e->dest->aux = e;\n+\t  }\n     }\n \n   /* Delete all unreachable basic blocks.  Count down so that we don't"}]}