{"sha": "75c4e4909ae2667f56487434f99c2915b4570794", "node_id": "C_kwDOANBUbNoAKDc1YzRlNDkwOWFlMjY2N2Y1NjQ4NzQzNGY5OWMyOTE1YjQ1NzA3OTQ", "commit": {"author": {"name": "Wilco Dijkstra", "email": "wilco.dijkstra@arm.com", "date": "2022-05-25T13:29:03Z"}, "committer": {"name": "Wilco Dijkstra", "email": "wdijkstr@arm.com", "date": "2022-05-25T14:53:30Z"}, "message": "AArch64: Prioritise init_have_lse_atomics constructor [PR 105708]\n\nIncrease the priority of the init_have_lse_atomics constructor so it runs\nbefore other constructors. This improves chances that rr works when LSE\natomics are supported.\n\nlibgcc/\n\tPR libgcc/105708\n\t* config/aarch64/lse-init.c: Increase constructor priority.", "tree": {"sha": "91dccdd40b2e15eb2721f2615f54b1706c3e216f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/91dccdd40b2e15eb2721f2615f54b1706c3e216f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/75c4e4909ae2667f56487434f99c2915b4570794", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75c4e4909ae2667f56487434f99c2915b4570794", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75c4e4909ae2667f56487434f99c2915b4570794", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75c4e4909ae2667f56487434f99c2915b4570794/comments", "author": {"login": "Wilco1", "id": 58446312, "node_id": "MDQ6VXNlcjU4NDQ2MzEy", "avatar_url": "https://avatars.githubusercontent.com/u/58446312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Wilco1", "html_url": "https://github.com/Wilco1", "followers_url": "https://api.github.com/users/Wilco1/followers", "following_url": "https://api.github.com/users/Wilco1/following{/other_user}", "gists_url": "https://api.github.com/users/Wilco1/gists{/gist_id}", "starred_url": "https://api.github.com/users/Wilco1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Wilco1/subscriptions", "organizations_url": "https://api.github.com/users/Wilco1/orgs", "repos_url": "https://api.github.com/users/Wilco1/repos", "events_url": "https://api.github.com/users/Wilco1/events{/privacy}", "received_events_url": "https://api.github.com/users/Wilco1/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "761cc32e5a1c762f91904d2a86980f106a5bc441", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/761cc32e5a1c762f91904d2a86980f106a5bc441", "html_url": "https://github.com/Rust-GCC/gccrs/commit/761cc32e5a1c762f91904d2a86980f106a5bc441"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "33b97c8d766895cf0101a851e1dc4ed6a1a053d9", "filename": "libgcc/config/aarch64/lse-init.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75c4e4909ae2667f56487434f99c2915b4570794/libgcc%2Fconfig%2Faarch64%2Flse-init.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75c4e4909ae2667f56487434f99c2915b4570794/libgcc%2Fconfig%2Faarch64%2Flse-init.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Faarch64%2Flse-init.c?ref=75c4e4909ae2667f56487434f99c2915b4570794", "patch": "@@ -38,7 +38,9 @@ _Bool __aarch64_have_lse_atomics\n \n unsigned long int __getauxval (unsigned long int);\n \n-static void __attribute__((constructor))\n+/* Use a higher priority to ensure it runs before user constructors\n+   and library constructors with priority 100. */\n+static void __attribute__((constructor (90)))\n init_have_lse_atomics (void)\n {\n   unsigned long hwcap = __getauxval (AT_HWCAP);"}]}