{"sha": "dc64856fdf1205f21865ab523cbb1a0bea4e8f20", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGM2NDg1NmZkZjEyMDVmMjE4NjVhYjUyM2NiYjFhMGJlYTRlOGYyMA==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2017-05-27T11:30:22Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2017-05-27T11:30:22Z"}, "message": "d-demangle.c (dlang_identifier): Prefix mangled init symbols with `initializer for'.\n\nlibiberty/ChangeLog:\n\n\t* d-demangle.c (dlang_identifier): Prefix mangled init symbols\n\twith `initializer for'.\n\t* testsuite/demangle-expected: Update tests.\n\nFrom-SVN: r248539", "tree": {"sha": "681bfc589fd1a0925819c7675b5096ec77464dc1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/681bfc589fd1a0925819c7675b5096ec77464dc1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dc64856fdf1205f21865ab523cbb1a0bea4e8f20", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc64856fdf1205f21865ab523cbb1a0bea4e8f20", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc64856fdf1205f21865ab523cbb1a0bea4e8f20", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc64856fdf1205f21865ab523cbb1a0bea4e8f20/comments", "author": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0e3712f6aa8dcd27433ac8090a0d1c48976003ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e3712f6aa8dcd27433ac8090a0d1c48976003ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e3712f6aa8dcd27433ac8090a0d1c48976003ae"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "45bec9963d7990a6fd7016002d3b4bc2fc063492", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dc64856fdf1205f21865ab523cbb1a0bea4e8f20/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dc64856fdf1205f21865ab523cbb1a0bea4e8f20/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=dc64856fdf1205f21865ab523cbb1a0bea4e8f20", "patch": "@@ -1,3 +1,9 @@\n+2017-05-27  Iain Buclaw  <ibuclaw@gdcproject.org>\n+\n+\t* d-demangle.c (dlang_identifier): Prefix mangled init symbols\n+\twith `initializer for'.\n+\t* testsuite/demangle-expected: Update tests.\n+\n 2017-05-27  Iain Buclaw  <ibuclaw@gdcproject.org>\n \n \t* d-demangle.c (dlang_call_convention_p): Move declaration"}, {"sha": "08690de9bd37d508aa7c963850d910ecfd4eb321", "filename": "libiberty/d-demangle.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dc64856fdf1205f21865ab523cbb1a0bea4e8f20/libiberty%2Fd-demangle.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dc64856fdf1205f21865ab523cbb1a0bea4e8f20/libiberty%2Fd-demangle.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fd-demangle.c?ref=dc64856fdf1205f21865ab523cbb1a0bea4e8f20", "patch": "@@ -864,7 +864,8 @@ dlang_identifier (string *decl, const char *mangled,\n \t  else if (strncmp (mangled, \"__initZ\", len+1) == 0)\n \t    {\n \t      /* The static initialiser for a given symbol.  */\n-\t      string_append (decl, \"init$\");\n+\t      string_prepend (decl, \"initializer for \");\n+\t      string_setlength (decl, string_length (decl) - 1);\n \t      mangled += len;\n \t      return mangled;\n \t    }"}, {"sha": "547a2ddec397b44b118226275fbe46b2167eb3b1", "filename": "libiberty/testsuite/d-demangle-expected", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dc64856fdf1205f21865ab523cbb1a0bea4e8f20/libiberty%2Ftestsuite%2Fd-demangle-expected", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dc64856fdf1205f21865ab523cbb1a0bea4e8f20/libiberty%2Ftestsuite%2Fd-demangle-expected", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Ftestsuite%2Fd-demangle-expected?ref=dc64856fdf1205f21865ab523cbb1a0bea4e8f20", "patch": "@@ -587,7 +587,7 @@ demangle.test(scope char() scope function)\n #\n --format=dlang\n _D8demangle4test6__initZ\n-demangle.test.init$\n+initializer for demangle.test\n #\n --format=dlang\n _D8demangle4test6__vtblZ"}]}