{"sha": "181f50b626580d7d5e2ee82e945024e8145f9761", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTgxZjUwYjYyNjU4MGQ3ZDVlMmVlODJlOTQ1MDI0ZTgxNDVmOTc2MQ==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2016-10-19T18:18:43Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2016-10-19T18:18:43Z"}, "message": "Fix incorrect comment about std::auto_ptr\n\n\t* include/backward/auto_ptr.h (dauto_ptr): Correct comment about\n\tconversions from auto_ptr<Derived> rvalues to auto_ptr<Base>.\n\t* testsuite/20_util/auto_ptr/assign_neg.cc: Remove redundant dg-error\n\tdirectives that only match notes, not errors.\n\nFrom-SVN: r241349", "tree": {"sha": "ca880220b8bb01944aeaa90da01dcbf4b703701f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca880220b8bb01944aeaa90da01dcbf4b703701f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/181f50b626580d7d5e2ee82e945024e8145f9761", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/181f50b626580d7d5e2ee82e945024e8145f9761", "html_url": "https://github.com/Rust-GCC/gccrs/commit/181f50b626580d7d5e2ee82e945024e8145f9761", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/181f50b626580d7d5e2ee82e945024e8145f9761/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c6cc81d61313cf875924c5bfcda801e3c0dbfd6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6cc81d61313cf875924c5bfcda801e3c0dbfd6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c6cc81d61313cf875924c5bfcda801e3c0dbfd6c"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "06506308b381c43f30b53d042b32832fcaf08e83", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/181f50b626580d7d5e2ee82e945024e8145f9761/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/181f50b626580d7d5e2ee82e945024e8145f9761/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=181f50b626580d7d5e2ee82e945024e8145f9761", "patch": "@@ -1,5 +1,10 @@\n 2016-10-19  Jonathan Wakely  <jwakely@redhat.com>\n \n+\t* include/backward/auto_ptr.h (dauto_ptr): Correct comment about\n+\tconversions from auto_ptr<Derived> rvalues to auto_ptr<Base>.\n+\t* testsuite/20_util/auto_ptr/assign_neg.cc: Remove redundant dg-error\n+\tdirectives that only match notes, not errors.\n+\n \t* testsuite/experimental/memory/shared_ptr/cons/unique_ptr_ctor.cc:\n \tAdd tests for valid and invalid conversions.\n \t* testsuite/experimental/memory/shared_ptr/cons/weak_ptr_ctor.cc:"}, {"sha": "4dfc8cc9134dc7ead346fd5d1da078348a36ed72", "filename": "libstdc++-v3/include/backward/auto_ptr.h", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/181f50b626580d7d5e2ee82e945024e8145f9761/libstdc%2B%2B-v3%2Finclude%2Fbackward%2Fauto_ptr.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/181f50b626580d7d5e2ee82e945024e8145f9761/libstdc%2B%2B-v3%2Finclude%2Fbackward%2Fauto_ptr.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbackward%2Fauto_ptr.h?ref=181f50b626580d7d5e2ee82e945024e8145f9761", "patch": "@@ -249,13 +249,17 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       /** \n        *  @brief  Automatic conversions\n        *\n-       *  These operations convert an %auto_ptr into and from an auto_ptr_ref\n-       *  automatically as needed.  This allows constructs such as\n+       *  These operations are supposed to convert an %auto_ptr into and from\n+       *  an auto_ptr_ref automatically as needed.  This would allow\n+       *  constructs such as\n        *  @code\n        *    auto_ptr<Derived>  func_returning_auto_ptr(.....);\n        *    ...\n        *    auto_ptr<Base> ptr = func_returning_auto_ptr(.....);\n        *  @endcode\n+       *\n+       *  But it doesn't work, and won't be fixed. For further details see\n+       *  http://cplusplus.github.io/LWG/lwg-closed.html#463\n        */\n       auto_ptr(auto_ptr_ref<element_type> __ref) throw()\n       : _M_ptr(__ref._M_ptr) { }"}, {"sha": "22cc49e76bff9f3fb25382f15941bd9c45845002", "filename": "libstdc++-v3/testsuite/20_util/auto_ptr/assign_neg.cc", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/181f50b626580d7d5e2ee82e945024e8145f9761/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fauto_ptr%2Fassign_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/181f50b626580d7d5e2ee82e945024e8145f9761/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fauto_ptr%2Fassign_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fauto_ptr%2Fassign_neg.cc?ref=181f50b626580d7d5e2ee82e945024e8145f9761", "patch": "@@ -47,6 +47,3 @@ main()\n   test01();\n   return 0;\n }\n-// { dg-error \"::auto_ptr|no known conversion\" \"\" { target *-*-* } 136 } \n-// { dg-error \"note\" \"\" { target *-*-* } 154 }\n-// { dg-error \"::auto_ptr|no known conversion\" \"\" { target *-*-* } 264 } "}]}