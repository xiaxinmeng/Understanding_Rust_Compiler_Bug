{"sha": "bf070c29a3b852d9bd53afaff84c691a44365a6c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmYwNzBjMjlhM2I4NTJkOWJkNTNhZmFmZjg0YzY5MWE0NDM2NWE2Yw==", "commit": {"author": {"name": "Mike Stump", "email": "mrs@apple.com", "date": "2005-04-13T01:12:15Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2005-04-13T01:12:15Z"}, "message": "* libtool.m4: Update AC_LIBTOOL_SYS_MAX_CMD_LEN bits from upstream.\n\nFrom-SVN: r98064", "tree": {"sha": "27227d3ace393faa663f2a81842db7c891f0a3e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/27227d3ace393faa663f2a81842db7c891f0a3e6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bf070c29a3b852d9bd53afaff84c691a44365a6c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf070c29a3b852d9bd53afaff84c691a44365a6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf070c29a3b852d9bd53afaff84c691a44365a6c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf070c29a3b852d9bd53afaff84c691a44365a6c/comments", "author": null, "committer": null, "parents": [{"sha": "e7590e9543f8405806efc39c20718da1f5d43640", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7590e9543f8405806efc39c20718da1f5d43640", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7590e9543f8405806efc39c20718da1f5d43640"}], "stats": {"total": 65, "additions": 65, "deletions": 0}, "files": [{"sha": "9e3af1b9dd6b6acead72d343d8982a33251902ea", "filename": "ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf070c29a3b852d9bd53afaff84c691a44365a6c/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf070c29a3b852d9bd53afaff84c691a44365a6c/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=bf070c29a3b852d9bd53afaff84c691a44365a6c", "patch": "@@ -1,3 +1,7 @@\n+2005-04-12  Mike Stump  <mrs@apple.com>\n+\n+\t* libtool.m4: Update AC_LIBTOOL_SYS_MAX_CMD_LEN bits from upstream.\n+\n 2005-04-04  Thomas Koenig  <Thomas.Koenig@online.de>\n \n \t* MAINTAINERS (Write After Approval): Add myself."}, {"sha": "f9de0f03c430e9d875d55ebc1cb1ee43b3efd13c", "filename": "libtool.m4", "status": "modified", "additions": 61, "deletions": 0, "changes": 61, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf070c29a3b852d9bd53afaff84c691a44365a6c/libtool.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf070c29a3b852d9bd53afaff84c691a44365a6c/libtool.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libtool.m4?ref=bf070c29a3b852d9bd53afaff84c691a44365a6c", "patch": "@@ -103,6 +103,8 @@ AC_REQUIRE([AC_OBJEXT])dnl\n AC_REQUIRE([AC_EXEEXT])dnl\n dnl\n \n+AC_LIBTOOL_SYS_MAX_CMD_LEN\n+\n # Only perform the check for file, if the check method requires it\n case $deplibs_check_method in\n file_magic*)\n@@ -279,6 +281,65 @@ ifdef([AC_PROVIDE_AC_LIBTOOL_WIN32_DLL],\n esac\n ])\n \n+\n+# AC_LIBTOOL_SYS_MAX_CMD_LEN\n+# --------------------------\n+AC_DEFUN([AC_LIBTOOL_SYS_MAX_CMD_LEN],\n+[# find the maximum length of command line arguments\n+AC_MSG_CHECKING([the maximum length of command line arguments])\n+AC_CACHE_VAL([lt_cv_sys_max_cmd_len], [dnl\n+  i=0\n+  teststring=\"ABCD\"\n+\n+  case $build_os in\n+  msdosdjgpp*)\n+    # On DJGPP, this test can blow up pretty badly due to problems in libc\n+    # (any single argument exceeding 2000 bytes causes a buffer overrun\n+    # during glob expansion).  Even if it were fixed, the result of this\n+    # check would be larger than it should be.\n+    lt_cv_sys_max_cmd_len=12288;    # 12K is about right\n+    ;;\n+\n+  cygwin* | mingw*)\n+    # On Win9x/ME, this test blows up -- it succeeds, but takes\n+    # about 5 minutes as the teststring grows exponentially.\n+    # Worse, since 9x/ME are not pre-emptively multitasking,\n+    # you end up with a \"frozen\" computer, even though with patience\n+    # the test eventually succeeds (with a max line length of 256k).\n+    # Instead, let's just punt: use the minimum linelength reported by\n+    # all of the supported platforms: 8192 (on NT/2K/XP).\n+    lt_cv_sys_max_cmd_len=8192;\n+    ;;\n+\n+  amigaos*)\n+    # On AmigaOS with pdksh, this test takes hours, literally.\n+    # So we just punt and use a minimum line length of 8192.\n+    lt_cv_sys_max_cmd_len=8192;\n+    ;;\n+\n+  netbsd* | freebsd* | openbsd* | darwin* | dragonfly*)\n+    # This has been around since 386BSD, at least.  Likely further.\n+    if test -x /sbin/sysctl; then\n+      lt_cv_sys_max_cmd_len=`/sbin/sysctl -n kern.argmax`\n+    elif test -x /usr/sbin/sysctl; then\n+      lt_cv_sys_max_cmd_len=`/usr/sbin/sysctl -n kern.argmax`\n+    else\n+      lt_cv_sys_max_cmd_len=65536 # usable default for *BSD\n+    fi\n+    # And add a safety zone\n+    lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \\/ 4`\n+    lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \\* 3`\n+    ;;\n+  esac\n+])\n+if test -n $lt_cv_sys_max_cmd_len ; then\n+  AC_MSG_RESULT($lt_cv_sys_max_cmd_len)\n+else\n+  AC_MSG_RESULT(none)\n+fi\n+])# AC_LIBTOOL_SYS_MAX_CMD_LEN\n+\n+\n # AC_LIBTOOL_DLOPEN - enable checks for dlopen support\n AC_DEFUN([AC_LIBTOOL_DLOPEN], [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])])\n "}]}