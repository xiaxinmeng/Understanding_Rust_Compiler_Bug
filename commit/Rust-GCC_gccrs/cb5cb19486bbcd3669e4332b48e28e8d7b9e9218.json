{"sha": "cb5cb19486bbcd3669e4332b48e28e8d7b9e9218", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2I1Y2IxOTQ4NmJiY2QzNjY5ZTQzMzJiNDhlMjhlOGQ3YjllOTIxOA==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2013-05-24T20:59:59Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2013-05-24T20:59:59Z"}, "message": "re PR debug/56950 (compare-debug failure for gcc.dg/pr41345.c with fschedule-insns)\n\n\tPR debug/56950\n\t* haifa-sched.c (sched_extend_bb): Ignore DEBUG_INSNs.\n\nFrom-SVN: r199316", "tree": {"sha": "4964fa2f5455cd40bcb405fb147f48fab7db6321", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4964fa2f5455cd40bcb405fb147f48fab7db6321"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cb5cb19486bbcd3669e4332b48e28e8d7b9e9218", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb5cb19486bbcd3669e4332b48e28e8d7b9e9218", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb5cb19486bbcd3669e4332b48e28e8d7b9e9218", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb5cb19486bbcd3669e4332b48e28e8d7b9e9218/comments", "author": null, "committer": null, "parents": [{"sha": "9f57f76aae9ad3be8efb5c1200353261e2ef7f34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f57f76aae9ad3be8efb5c1200353261e2ef7f34", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f57f76aae9ad3be8efb5c1200353261e2ef7f34"}], "stats": {"total": 20, "additions": 12, "deletions": 8}, "files": [{"sha": "c910f93e85e6f5e1d522b2267285eb62778f9e80", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb5cb19486bbcd3669e4332b48e28e8d7b9e9218/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb5cb19486bbcd3669e4332b48e28e8d7b9e9218/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cb5cb19486bbcd3669e4332b48e28e8d7b9e9218", "patch": "@@ -1,3 +1,8 @@\n+2013-05-24  Steven Bosscher  <steven@gcc.gnu.org>\n+\n+\tPR debug/56950\n+\t* haifa-sched.c (sched_extend_bb): Ignore DEBUG_INSNs.\n+\n 2013-05-24  Nathan Sidwell  <nathan@codesourcery.com>\n \t    Sandra Loosemore  <sandra@codesourcery.com>\n "}, {"sha": "61eaaefa41863428623f0744ee7207f51232c914", "filename": "gcc/haifa-sched.c", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb5cb19486bbcd3669e4332b48e28e8d7b9e9218/gcc%2Fhaifa-sched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb5cb19486bbcd3669e4332b48e28e8d7b9e9218/gcc%2Fhaifa-sched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhaifa-sched.c?ref=cb5cb19486bbcd3669e4332b48e28e8d7b9e9218", "patch": "@@ -7435,20 +7435,19 @@ find_fallthru_edge_from (basic_block pred)\n static void\n sched_extend_bb (void)\n {\n-  rtx insn;\n-\n   /* The following is done to keep current_sched_info->next_tail non null.  */\n-  insn = BB_END (EXIT_BLOCK_PTR->prev_bb);\n-  if (NEXT_INSN (insn) == 0\n+  rtx end = BB_END (EXIT_BLOCK_PTR->prev_bb);\n+  rtx insn = DEBUG_INSN_P (end) ? prev_nondebug_insn (end) : end;\n+  if (NEXT_INSN (end) == 0\n       || (!NOTE_P (insn)\n \t  && !LABEL_P (insn)\n \t  /* Don't emit a NOTE if it would end up before a BARRIER.  */\n-\t  && !BARRIER_P (NEXT_INSN (insn))))\n+\t  && !BARRIER_P (NEXT_INSN (end))))\n     {\n-      rtx note = emit_note_after (NOTE_INSN_DELETED, insn);\n-      /* Make insn appear outside BB.  */\n+      rtx note = emit_note_after (NOTE_INSN_DELETED, end);\n+      /* Make note appear outside BB.  */\n       set_block_for_insn (note, NULL);\n-      BB_END (EXIT_BLOCK_PTR->prev_bb) = insn;\n+      BB_END (EXIT_BLOCK_PTR->prev_bb) = end;\n     }\n }\n "}]}