{"sha": "a3d87e92eb015631e52c1408798ae4cf29d4703c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTNkODdlOTJlYjAxNTYzMWU1MmMxNDA4Nzk4YWU0Y2YyOWQ0NzAzYw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2001-11-09T14:30:33Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2001-11-09T14:30:33Z"}, "message": "sparc.md (movdf): Avoid calling validize_mem during or after reload.\n\n\t* config/sparc/sparc.md (movdf): Avoid calling validize_mem during\n\tor after reload.\n\n\t* gcc.c-torture/compile/20011109-1.c: New test.\n\nFrom-SVN: r46880", "tree": {"sha": "ebe7b802597bbfe3c2bc5be07b4964176dfecd1b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ebe7b802597bbfe3c2bc5be07b4964176dfecd1b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a3d87e92eb015631e52c1408798ae4cf29d4703c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3d87e92eb015631e52c1408798ae4cf29d4703c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3d87e92eb015631e52c1408798ae4cf29d4703c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3d87e92eb015631e52c1408798ae4cf29d4703c/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7ade1c9cd7d8d70970ef4380be4e05679b16e3e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ade1c9cd7d8d70970ef4380be4e05679b16e3e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ade1c9cd7d8d70970ef4380be4e05679b16e3e9"}], "stats": {"total": 65, "additions": 65, "deletions": 0}, "files": [{"sha": "add0d829e3f4ea746d33ddc8ad301a59f84cc521", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3d87e92eb015631e52c1408798ae4cf29d4703c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3d87e92eb015631e52c1408798ae4cf29d4703c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a3d87e92eb015631e52c1408798ae4cf29d4703c", "patch": "@@ -1,3 +1,8 @@\n+2001-11-09  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* config/sparc/sparc.md (movdf): Avoid calling validize_mem during\n+\tor after reload.\n+\n 2001-11-09  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \n \t* doc/install.texi2html: Use $MAKEINFO --no-split."}, {"sha": "dad74dd4b1da2b48cdc12912c5bb580531e205b9", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3d87e92eb015631e52c1408798ae4cf29d4703c/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3d87e92eb015631e52c1408798ae4cf29d4703c/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=a3d87e92eb015631e52c1408798ae4cf29d4703c", "patch": "@@ -3134,6 +3134,11 @@\n \t  && fp_zero_operand (operands[1], DFmode))\n \tgoto movdf_is_ok;\n \n+      /* We are able to build any DF constant in integer registers.  */\n+      if (REGNO (operands[0]) < 32\n+\t  && (reload_completed || reload_in_progress))\n+\tgoto movdf_is_ok;\n+\n       operands[1] = validize_mem (force_const_mem (GET_MODE (operands[0]),\n                                                    operands[1]));\n     }"}, {"sha": "6d9c0f07480acd0633d02c7d5be1e25efb8c72d7", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3d87e92eb015631e52c1408798ae4cf29d4703c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3d87e92eb015631e52c1408798ae4cf29d4703c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a3d87e92eb015631e52c1408798ae4cf29d4703c", "patch": "@@ -1,3 +1,7 @@\n+2001-11-09  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* gcc.c-torture/compile/20011109-1.c: New test.\n+\n 2001-11-08  Geoffrey Keating  <geoffk@redhat.com>\n \n \t* g++.old-deja/g++.bugs/900227_01.C: Change stormy16 to xstormy16."}, {"sha": "f1987a74bf2819c1df8c4ac77a3e496a51913f46", "filename": "gcc/testsuite/gcc.c-torture/compile/20011109-1.c", "status": "added", "additions": 51, "deletions": 0, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3d87e92eb015631e52c1408798ae4cf29d4703c/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20011109-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3d87e92eb015631e52c1408798ae4cf29d4703c/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20011109-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20011109-1.c?ref=a3d87e92eb015631e52c1408798ae4cf29d4703c", "patch": "@@ -0,0 +1,51 @@\n+typedef struct { short x[4]; } S;\n+typedef struct { unsigned int a, b, c; S *d; } T;\n+\n+S *(*foo) (T *, int, int, int, int);\n+unsigned short *(*bar)(const T *);\n+unsigned short baz(T *,const int);\n+\n+T *die (void)\n+{\n+  typedef struct { unsigned int a, b, e; double f, g; } U;\n+\n+  char h[8], i[2053], j[2053];\n+  double k, l, m;\n+  U n;\n+  T *o;\n+  unsigned short p;\n+  int q, r;\n+  long s;\n+  unsigned short *t;\n+  S *u;\n+  unsigned char *v, *w;\n+  unsigned int x;\n+\n+  o = 0;\n+  for (x = 0; x < n.e; x++)\n+    {\n+      l = 1.0;\n+      if (n.g - n.f <= 1.0)\n+\tl = ((1 << o->c) - 1) / (n.g - n.f);\n+      v = w;\n+      for (r = o->b - 1; r >= 0; r--)\n+\t{\n+\t  u = foo (o, 0, r, o->a, 1);\n+\t  if (!u)\n+\t    break;\n+\t  t = bar (o);\n+\t  for (q = 0; q < (int) o->a; q++)\n+\t    {\n+\t      h[0] = *v;\n+\t      s = *v++;\n+\t      k = (double) s;\n+\t      m = l*k;\n+\t      p = m < 0 ? 0 : m > (1 << o->c) - 1 ? (1 << o->c) - 1 : m + 0.5;\n+\t      p = baz (o,p);\n+\t      t[q] = p;\n+\t      *u++ = o->d[p];\n+\t    }\n+\t}\n+    }\n+  return o;\n+}"}]}