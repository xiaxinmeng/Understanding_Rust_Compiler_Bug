{"sha": "220a35cc8e39aa6e6a846fefee1a7bf460a339cc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjIwYTM1Y2M4ZTM5YWE2ZTZhODQ2ZmVmZWUxYTdiZjQ2MGEzMzljYw==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2003-04-17T21:27:37Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2003-04-17T21:27:37Z"}, "message": "re PR c/10375 (Function-local external decls of builtins don't get attributes)\n\n2003-04-17  Roger Sayle  <roger@eyesopen.com>\n\n\tPR c/10375\n\t* c-decl.c (duplicate_decls): Preserve \"const\" and \"noreturn\"\n\tfunction attributes.\n\n\t* cp/decl.c (duplicate_decls): Preserve \"const\", \"noreturn\"\n\tand \"nothrow\" function attributes.\n\n\t* f/com.c (duplicate_decls): Preserve \"const\" and \"noreturn\"\n\tfunction attributes.\n\nFrom-SVN: r65753", "tree": {"sha": "04d97fa13059a1054b2c7ec7fbb770b3edcc84fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/04d97fa13059a1054b2c7ec7fbb770b3edcc84fb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/220a35cc8e39aa6e6a846fefee1a7bf460a339cc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/220a35cc8e39aa6e6a846fefee1a7bf460a339cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/220a35cc8e39aa6e6a846fefee1a7bf460a339cc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/220a35cc8e39aa6e6a846fefee1a7bf460a339cc/comments", "author": null, "committer": null, "parents": [{"sha": "1ca4c6e1e8914fa27d1b869cd60d2ed40501e097", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ca4c6e1e8914fa27d1b869cd60d2ed40501e097", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ca4c6e1e8914fa27d1b869cd60d2ed40501e097"}], "stats": {"total": 37, "additions": 25, "deletions": 12}, "files": [{"sha": "7beb2fc52a26db7c030c11842ae97989aecfa33a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/220a35cc8e39aa6e6a846fefee1a7bf460a339cc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/220a35cc8e39aa6e6a846fefee1a7bf460a339cc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=220a35cc8e39aa6e6a846fefee1a7bf460a339cc", "patch": "@@ -1,3 +1,9 @@\n+2003-04-17  Roger Sayle  <roger@eyesopen.com>\n+\n+\tPR c/10375\n+\t* c-decl.c (duplicate_decls): Preserve \"const\" and \"noreturn\"\n+\tfunction attributes.\n+\n 2003-04-17  Janis Johnson  <janis187@us.ibm.com>\n \n \t* doc/sourcebuild.texi (Test Suites): Document support for testing"}, {"sha": "c852bd7789b1990922da25c6f054afb8bb72da2e", "filename": "gcc/c-decl.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/220a35cc8e39aa6e6a846fefee1a7bf460a339cc/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/220a35cc8e39aa6e6a846fefee1a7bf460a339cc/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=220a35cc8e39aa6e6a846fefee1a7bf460a339cc", "patch": "@@ -1377,6 +1377,8 @@ duplicate_decls (newdecl, olddecl, different_binding_level)\n \t  DECL_NO_LIMIT_STACK (newdecl) |= DECL_NO_LIMIT_STACK (olddecl);\n \t  DECL_NO_INSTRUMENT_FUNCTION_ENTRY_EXIT (newdecl)\n \t    |= DECL_NO_INSTRUMENT_FUNCTION_ENTRY_EXIT (olddecl);\n+\t  TREE_THIS_VOLATILE (newdecl) |= TREE_THIS_VOLATILE (olddecl);\n+\t  TREE_READONLY (newdecl) |= TREE_READONLY (olddecl);\n \t  DECL_IS_MALLOC (newdecl) |= DECL_IS_MALLOC (olddecl);\n \t  DECL_IS_PURE (newdecl) |= DECL_IS_PURE (olddecl);\n \t}"}, {"sha": "05545f13c66d2264c084706edb22e2e0392d6f25", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/220a35cc8e39aa6e6a846fefee1a7bf460a339cc/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/220a35cc8e39aa6e6a846fefee1a7bf460a339cc/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=220a35cc8e39aa6e6a846fefee1a7bf460a339cc", "patch": "@@ -1,3 +1,9 @@\n+2003-04-17  Roger Sayle  <roger@eyesopen.com>\n+\n+\tPR c/10375\n+\t* decl.c (duplicate_decls): Preserve \"const\", \"noreturn\" and\n+\t\"nothrow\" function attributes.\n+\n 2003-04-17  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n \n \tPR c++/10347"}, {"sha": "5abb3f4c36253b62eaeb81638b862cecc31b1778", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/220a35cc8e39aa6e6a846fefee1a7bf460a339cc/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/220a35cc8e39aa6e6a846fefee1a7bf460a339cc/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=220a35cc8e39aa6e6a846fefee1a7bf460a339cc", "patch": "@@ -3360,6 +3360,9 @@ duplicate_decls (tree newdecl, tree olddecl)\n \t  DECL_NO_INSTRUMENT_FUNCTION_ENTRY_EXIT (newdecl)\n \t    |= DECL_NO_INSTRUMENT_FUNCTION_ENTRY_EXIT (olddecl);\n \t  DECL_NO_LIMIT_STACK (newdecl) |= DECL_NO_LIMIT_STACK (olddecl);\n+\t  TREE_THIS_VOLATILE (newdecl) |= TREE_THIS_VOLATILE (olddecl);\n+\t  TREE_READONLY (newdecl) |= TREE_READONLY (olddecl);\n+\t  TREE_NOTHROW (newdecl) |= TREE_NOTHROW (olddecl);\n \t  DECL_IS_MALLOC (newdecl) |= DECL_IS_MALLOC (olddecl);\n \t  DECL_IS_PURE (newdecl) |= DECL_IS_PURE (olddecl);\n \t  /* Keep the old RTL.  */"}, {"sha": "2df580cd906eeafb0f6c528679c33e4e4ca6f19b", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/220a35cc8e39aa6e6a846fefee1a7bf460a339cc/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/220a35cc8e39aa6e6a846fefee1a7bf460a339cc/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=220a35cc8e39aa6e6a846fefee1a7bf460a339cc", "patch": "@@ -1,3 +1,9 @@\n+2003-04-17  Roger Sayle  <roger@eyesopen.com>\n+\n+\tPR c/10375\n+\t* com.c (duplicate_decls): Preserve \"const\" and \"noreturn\"\n+\tfunction attributes.\n+\n 2003-04-13  Roger Sayle  <roger@eyesopen.com>\n \n \t* com.c (duplicate_decls): Preserve pure and malloc attributes."}, {"sha": "c92786bb120a11a2d6355b1bcc335052c354d491", "filename": "gcc/f/com.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/220a35cc8e39aa6e6a846fefee1a7bf460a339cc/gcc%2Ff%2Fcom.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/220a35cc8e39aa6e6a846fefee1a7bf460a339cc/gcc%2Ff%2Fcom.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fcom.c?ref=220a35cc8e39aa6e6a846fefee1a7bf460a339cc", "patch": "@@ -13335,6 +13335,8 @@ duplicate_decls (tree newdecl, tree olddecl)\n \t{\n \t  DECL_STATIC_CONSTRUCTOR(newdecl) |= DECL_STATIC_CONSTRUCTOR(olddecl);\n \t  DECL_STATIC_DESTRUCTOR (newdecl) |= DECL_STATIC_DESTRUCTOR (olddecl);\n+\t  TREE_THIS_VOLATILE (newdecl) |= TREE_THIS_VOLATILE (olddecl);\n+\t  TREE_READONLY (newdecl) |= TREE_READONLY (olddecl);\n \t  DECL_IS_MALLOC (newdecl) |= DECL_IS_MALLOC (olddecl);\n \t  DECL_IS_PURE (newdecl) |= DECL_IS_PURE (olddecl);\n \t}"}, {"sha": "7926a94f78186b04664d9150469b7a2e278c88c5", "filename": "gcc/testsuite/gcc.c-torture/execute/builtin-noret-2.x", "status": "removed", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ca4c6e1e8914fa27d1b869cd60d2ed40501e097/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltin-noret-2.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ca4c6e1e8914fa27d1b869cd60d2ed40501e097/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltin-noret-2.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuiltin-noret-2.x?ref=1ca4c6e1e8914fa27d1b869cd60d2ed40501e097", "patch": "@@ -1,12 +0,0 @@\n-# This test fails at -O1 and higher.\n-set torture_eval_before_compile {\n-    global compiler_conditional_xfail_data\n-    set compiler_conditional_xfail_data {\n-        \"Fails at all optimization levels but -O0, see PR10375.\" \\\n-        { \"*-*-*\" } \\\n-        { \"-O*\" } \\\n-        { \"-O0\" }\n-    }\n-}\n-\n-return 0"}]}