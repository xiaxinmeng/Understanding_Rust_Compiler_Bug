{"sha": "cc7fd3980a3e22fe7740e07a94b29fae59c840ea", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2M3ZmQzOTgwYTNlMjJmZTc3NDBlMDdhOTRiMjlmYWU1OWM4NDBlYQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-07-26T23:44:33Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-07-26T23:44:33Z"}, "message": "c4x.h (EXPAND_BUILTIN_VA_ARG): New.\n\n        * c4x.h (EXPAND_BUILTIN_VA_ARG): New.\n        * c4x.c (c4x_va_arg): New.\n\nFrom-SVN: r28277", "tree": {"sha": "7ac4195df46d2d945e8363533f275986b6ef83b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7ac4195df46d2d945e8363533f275986b6ef83b5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cc7fd3980a3e22fe7740e07a94b29fae59c840ea", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc7fd3980a3e22fe7740e07a94b29fae59c840ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc7fd3980a3e22fe7740e07a94b29fae59c840ea", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc7fd3980a3e22fe7740e07a94b29fae59c840ea/comments", "author": null, "committer": null, "parents": [{"sha": "1946537baae0c1012b0ab5a58c4f514189d885f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1946537baae0c1012b0ab5a58c4f514189d885f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1946537baae0c1012b0ab5a58c4f514189d885f5"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "efb69f3b02d8fa4a9d734373333061a95f3d8451", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc7fd3980a3e22fe7740e07a94b29fae59c840ea/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc7fd3980a3e22fe7740e07a94b29fae59c840ea/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cc7fd3980a3e22fe7740e07a94b29fae59c840ea", "patch": "@@ -1,3 +1,8 @@\n+Mon Jul 26 16:43:26 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* c4x.h (EXPAND_BUILTIN_VA_ARG): New.\n+\t* c4x.c (c4x_va_arg): New.\n+\n Mon Jul 26 12:30:09 1999  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* cpplib.c (cpp_get_token): Don't return a CPP_POP if the buffer"}, {"sha": "0071fd54c7fed8f90bf4fa2cd838372b5ed5595e", "filename": "gcc/config/c4x/c4x.c", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc7fd3980a3e22fe7740e07a94b29fae59c840ea/gcc%2Fconfig%2Fc4x%2Fc4x.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc7fd3980a3e22fe7740e07a94b29fae59c840ea/gcc%2Fconfig%2Fc4x%2Fc4x.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fc4x%2Fc4x.c?ref=cc7fd3980a3e22fe7740e07a94b29fae59c840ea", "patch": "@@ -572,6 +572,21 @@ c4x_function_arg (cum, mode, type, named)\n     return NULL_RTX;\n }\n \n+/* C[34]x arguments grow in weird ways (downwards) that the standard\n+   varargs stuff can't handle. */\n+\n+rtx\n+c4x_va_arg (valist, type)\n+     tree valist, type;\n+{\n+  tree t;\n+\n+  t = build (PREDECREMENT_EXPR, TREE_TYPE (valist), valist,\n+\t     build_int_2 (int_size_in_bytes (type), 0));\n+  TREE_SIDE_EFFECTS (t) = 1;\n+\n+  return expand_expr (t, NULL_RTX, Pmode, EXPAND_NORMAL);\n+}\n \n static int\n c4x_isr_reg_used_p (regno)"}, {"sha": "9f465d37d0b374f895ddcc24af22cdb435f95011", "filename": "gcc/config/c4x/c4x.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc7fd3980a3e22fe7740e07a94b29fae59c840ea/gcc%2Fconfig%2Fc4x%2Fc4x.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc7fd3980a3e22fe7740e07a94b29fae59c840ea/gcc%2Fconfig%2Fc4x%2Fc4x.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fc4x%2Fc4x.h?ref=cc7fd3980a3e22fe7740e07a94b29fae59c840ea", "patch": "@@ -1157,6 +1157,10 @@ extern struct rtx_def *c4x_function_arg();\n #define DEFAULT_PCC_STRUCT_RETURN\t0\n #define STRUCT_VALUE_REGNUM\t\tAR0_REGNO\t/* AR0 */\n \n+/* Varargs handling.  */\n+\n+#define EXPAND_BUILTIN_VA_ARG(valist, type) \\\n+  c4x_va_arg (valist, type)\n \n /* Function Entry and Exit  */\n "}]}