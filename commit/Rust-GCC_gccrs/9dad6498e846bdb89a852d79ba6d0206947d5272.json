{"sha": "9dad6498e846bdb89a852d79ba6d0206947d5272", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWRhZDY0OThlODQ2YmRiODlhODUyZDc5YmE2ZDAyMDY5NDdkNTI3Mg==", "commit": {"author": {"name": "Bob Wilson", "email": "bob.wilson@acm.org", "date": "2004-11-26T03:57:43Z"}, "committer": {"name": "Bob Wilson", "email": "bwilson@gcc.gnu.org", "date": "2004-11-26T03:57:43Z"}, "message": "xtensa.h (STARTFILE_SPEC): Add crt0.\n\n\t* config/xtensa/xtensa.h (STARTFILE_SPEC): Add crt0.\n\t(GCC_DRIVER_HOST_INITIALIZATION): Define.\n\nFrom-SVN: r91323", "tree": {"sha": "ffa72ded11cd5cb8e1457fe86178290826957782", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ffa72ded11cd5cb8e1457fe86178290826957782"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9dad6498e846bdb89a852d79ba6d0206947d5272", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9dad6498e846bdb89a852d79ba6d0206947d5272", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9dad6498e846bdb89a852d79ba6d0206947d5272", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9dad6498e846bdb89a852d79ba6d0206947d5272/comments", "author": null, "committer": null, "parents": [{"sha": "5f0be3d01adba827ac9a6376bf1c95785c28dc82", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f0be3d01adba827ac9a6376bf1c95785c28dc82", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f0be3d01adba827ac9a6376bf1c95785c28dc82"}], "stats": {"total": 29, "additions": 28, "deletions": 1}, "files": [{"sha": "f43b34f5ce0fdffd6709a856c9002772c059d130", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9dad6498e846bdb89a852d79ba6d0206947d5272/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9dad6498e846bdb89a852d79ba6d0206947d5272/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9dad6498e846bdb89a852d79ba6d0206947d5272", "patch": "@@ -1,3 +1,8 @@\n+2004-11-25  Bob Wilson  <bob.wilson@acm.org>\n+\n+\t* config/xtensa/xtensa.h (STARTFILE_SPEC): Add crt0.\n+\t(GCC_DRIVER_HOST_INITIALIZATION): Define.\n+\n 2004-11-25  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \tPR middle-end/17957"}, {"sha": "48bd7de9002f733fe4f2705577f6bd33e418c546", "filename": "gcc/config/xtensa/elf.h", "status": "modified", "additions": 23, "deletions": 1, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9dad6498e846bdb89a852d79ba6d0206947d5272/gcc%2Fconfig%2Fxtensa%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9dad6498e846bdb89a852d79ba6d0206947d5272/gcc%2Fconfig%2Fxtensa%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Felf.h?ref=9dad6498e846bdb89a852d79ba6d0206947d5272", "patch": "@@ -56,7 +56,8 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #define LIB_SPEC \"-lc -lsim -lc -lhandlers-sim -lhal\"\n \n #undef STARTFILE_SPEC\n-#define STARTFILE_SPEC \"crt1-sim%O%s crti%O%s crtbegin%O%s _vectors%O%s\"\n+#define STARTFILE_SPEC \\\n+  \"crt1-sim%O%s crt0%O%s crti%O%s crtbegin%O%s _vectors%O%s\"\n \n #undef ENDFILE_SPEC\n #define ENDFILE_SPEC \"crtend%O%s crtn%O%s\"  \n@@ -91,3 +92,24 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n       XTENSA_DECLARE_FUNCTION_SIZE(FILE, FNAME, DECL);\t\t\\\n     }\t\t\t\t\t\t\t\t\\\n   while (0)\n+\n+/* Search for headers in $tooldir/arch/include and for libraries and\n+   startfiles in $tooldir/arch/lib.  */\n+#define GCC_DRIVER_HOST_INITIALIZATION \\\n+do \\\n+{ \\\n+  char *tooldir, *archdir; \\\n+  tooldir = concat (tooldir_base_prefix, spec_machine, \\\n+\t\t    dir_separator_str, NULL); \\\n+  if (!IS_ABSOLUTE_PATH (tooldir)) \\\n+    tooldir = concat (standard_exec_prefix, spec_machine, dir_separator_str, \\\n+\t\t      spec_version, dir_separator_str, tooldir, NULL); \\\n+  archdir = concat (tooldir, \"arch\", dir_separator_str, NULL); \\\n+  add_prefix (&startfile_prefixes, \\\n+\t      concat (archdir, \"lib\", dir_separator_str, NULL), \\\n+\t      \"GCC\", PREFIX_PRIORITY_LAST, 0, 1); \\\n+  add_prefix (&include_prefixes, archdir, \\\n+\t      \"GCC\", PREFIX_PRIORITY_LAST, 0, 0); \\\n+  } \\\n+while (0)\n+"}]}