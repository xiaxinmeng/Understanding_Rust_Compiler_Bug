{"sha": "b6186fe678deebb0f97df0de41d70fb182e0d393", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjYxODZmZTY3OGRlZWJiMGY5N2RmMGRlNDFkNzBmYjE4MmUwZDM5Mw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-01-10T13:36:44Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-01-10T13:36:44Z"}, "message": "gjavah.c (java_float_finite): Use a union to do type punning.\n\n        * gjavah.c (java_float_finite): Use a union to do type punning.\n        (java_double_finite): Likewise.\n\nFrom-SVN: r24608", "tree": {"sha": "58c45f74863b8f4e858ff560cca196b45d8ed856", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58c45f74863b8f4e858ff560cca196b45d8ed856"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b6186fe678deebb0f97df0de41d70fb182e0d393", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6186fe678deebb0f97df0de41d70fb182e0d393", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6186fe678deebb0f97df0de41d70fb182e0d393", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6186fe678deebb0f97df0de41d70fb182e0d393/comments", "author": null, "committer": null, "parents": [{"sha": "7c4710c720c51b2a3ff5eaa4791cd5ed051121b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c4710c720c51b2a3ff5eaa4791cd5ed051121b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c4710c720c51b2a3ff5eaa4791cd5ed051121b0"}], "stats": {"total": 21, "additions": 17, "deletions": 4}, "files": [{"sha": "8751171be4a9e90e74ff61a309df7a4158b3fa9d", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6186fe678deebb0f97df0de41d70fb182e0d393/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6186fe678deebb0f97df0de41d70fb182e0d393/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=b6186fe678deebb0f97df0de41d70fb182e0d393", "patch": "@@ -1,3 +1,8 @@\n+Sun Jan 10 13:36:14 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* gjavah.c (java_float_finite): Use a union to do type punning.\n+\t(java_double_finite): Likewise.\n+\n Sat Jan  9 11:25:00 1999  Per Bothner  <bothner@cygnus.com>\n \n \t* parse.y (build_new_array_init):  Don't set EXPR_WFL_LINECOL"}, {"sha": "2f538e1dd513f0f364f0c7ea23173bc3e0220e9e", "filename": "gcc/java/gjavah.c", "status": "modified", "additions": 12, "deletions": 4, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6186fe678deebb0f97df0de41d70fb182e0d393/gcc%2Fjava%2Fgjavah.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6186fe678deebb0f97df0de41d70fb182e0d393/gcc%2Fjava%2Fgjavah.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fgjavah.c?ref=b6186fe678deebb0f97df0de41d70fb182e0d393", "patch": "@@ -149,23 +149,31 @@ static int\n java_float_finite (f)\n      jfloat f;\n {\n-  int32 *ip = (int32 *) &f;\n+  union {\n+    jfloat f;\n+    int32 i;\n+  } u;\n+  u.f = f;\n \n   /* We happen to know that F_NAN_MASK will match all NaN values, and\n      also positive and negative infinity.  That's why we only need one\n      test here.  See The Java Language Specification, section 20.9.  */\n-  return (*ip & F_NAN_MASK) != F_NAN_MASK;\n+  return (u.i & F_NAN_MASK) != F_NAN_MASK;\n }\n \n /* Return 1 if D is not Inf or NaN.  */\n static int\n java_double_finite (d)\n      jdouble d;\n {\n-  int64 *ip = (int64 *) &d;\n+  union {\n+    jdouble d;\n+    int64 i;\n+  } u;\n+  u.d = d;\n \n   /* Now check for all NaNs.  */\n-  return (*ip & D_NAN_MASK) != D_NAN_MASK;\n+  return (u.i & D_NAN_MASK) != D_NAN_MASK;\n }\n \n void"}]}