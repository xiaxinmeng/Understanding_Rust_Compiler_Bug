{"sha": "15a03a11ceae0d0423ce6d762842f89a0c8feadd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTVhMDNhMTFjZWFlMGQwNDIzY2U2ZDc2Mjg0MmY4OWEwYzhmZWFkZA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2011-04-01T21:14:36Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2011-04-01T21:14:36Z"}, "message": "re PR bootstrap/48148 (LTO bootstrap failed with bootstrap-profiled)\n\n\tPR bootstrap/48148\n\t* dwarf2out.c (resolve_addr): Don't call force_decl_die\n\tif DECL_EXTERNAL has non-NULL DECL_ABSTRACT_ORIGIN.\n\n\tRevert:\n\t2011-03-17  Richard Guenther  <rguenther@suse.de>\n\n\tPR bootstrap/48148\n\t* lto-cgraph.c (input_overwrite_node): Clear the abstract\n\torigin for decls in other ltrans units.\n\t(input_varpool_node): Likewise.\n\nFrom-SVN: r171856", "tree": {"sha": "79dbdd7286d65bf6f6f9d3995fe8ef43b657af16", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/79dbdd7286d65bf6f6f9d3995fe8ef43b657af16"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/15a03a11ceae0d0423ce6d762842f89a0c8feadd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15a03a11ceae0d0423ce6d762842f89a0c8feadd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15a03a11ceae0d0423ce6d762842f89a0c8feadd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15a03a11ceae0d0423ce6d762842f89a0c8feadd/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "19228b93eacef5d8661c5d5a82272d42a82e0e26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19228b93eacef5d8661c5d5a82272d42a82e0e26", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19228b93eacef5d8661c5d5a82272d42a82e0e26"}], "stats": {"total": 22, "additions": 18, "deletions": 4}, "files": [{"sha": "ab0b3f53ab986ba7e2ff44dae1865b8e0af63579", "filename": "gcc/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15a03a11ceae0d0423ce6d762842f89a0c8feadd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15a03a11ceae0d0423ce6d762842f89a0c8feadd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=15a03a11ceae0d0423ce6d762842f89a0c8feadd", "patch": "@@ -1,3 +1,17 @@\n+2011-04-01  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR bootstrap/48148\n+\t* dwarf2out.c (resolve_addr): Don't call force_decl_die\n+\tif DECL_EXTERNAL has non-NULL DECL_ABSTRACT_ORIGIN.\n+\n+\tRevert:\n+\t2011-03-17  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR bootstrap/48148\n+\t* lto-cgraph.c (input_overwrite_node): Clear the abstract\n+\torigin for decls in other ltrans units.\n+\t(input_varpool_node): Likewise.\n+\n 2011-04-01  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/48335"}, {"sha": "956e80544e619e29bd7b6a98e73586d44dfc6d39", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15a03a11ceae0d0423ce6d762842f89a0c8feadd/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15a03a11ceae0d0423ce6d762842f89a0c8feadd/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=15a03a11ceae0d0423ce6d762842f89a0c8feadd", "patch": "@@ -23044,7 +23044,9 @@ resolve_addr (dw_die_ref die)\n \t  {\n \t    tree tdecl = SYMBOL_REF_DECL (a->dw_attr_val.v.val_addr);\n \t    dw_die_ref tdie = lookup_decl_die (tdecl);\n-\t    if (tdie == NULL && DECL_EXTERNAL (tdecl))\n+\t    if (tdie == NULL\n+\t\t&& DECL_EXTERNAL (tdecl)\n+\t\t&& DECL_ABSTRACT_ORIGIN (tdecl) == NULL_TREE)\n \t      {\n \t\tforce_decl_die (tdecl);\n \t\ttdie = lookup_decl_die (tdecl);"}, {"sha": "8838947983c6a803319da48ef298390f4e151b76", "filename": "gcc/lto-cgraph.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15a03a11ceae0d0423ce6d762842f89a0c8feadd/gcc%2Flto-cgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15a03a11ceae0d0423ce6d762842f89a0c8feadd/gcc%2Flto-cgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-cgraph.c?ref=15a03a11ceae0d0423ce6d762842f89a0c8feadd", "patch": "@@ -1,7 +1,7 @@\n /* Write and read the cgraph to the memory mapped representation of a\n    .o file.\n \n-   Copyright 2009, 2010 Free Software Foundation, Inc.\n+   Copyright 2009, 2010, 2011 Free Software Foundation, Inc.\n    Contributed by Kenneth Zadeck <zadeck@naturalbridge.com>\n \n This file is part of GCC.\n@@ -975,7 +975,6 @@ input_overwrite_node (struct lto_file_decl_data *file_data,\n \t  || node->clone_of->decl != node->decl))\n     {\n       DECL_EXTERNAL (node->decl) = 1;\n-      DECL_ABSTRACT_ORIGIN (node->decl) = NULL_TREE;\n       TREE_STATIC (node->decl) = 0;\n     }\n   node->alias = bp_unpack_value (bp, 1);\n@@ -1147,7 +1146,6 @@ input_varpool_node (struct lto_file_decl_data *file_data,\n   if (node->in_other_partition)\n     {\n       DECL_EXTERNAL (node->decl) = 1;\n-      DECL_ABSTRACT_ORIGIN (node->decl) = NULL_TREE;\n       TREE_STATIC (node->decl) = 0;\n     }\n   aliases_p = bp_unpack_value (&bp, 1);"}]}