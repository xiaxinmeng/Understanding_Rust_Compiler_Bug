{"sha": "3c5b0ca4c5d8aa8a0f13a4e57b4f9cf4a9de48cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2M1YjBjYTRjNWQ4YWE4YTBmMTNhNGU1N2I0ZjljZjRhOWRlNDhjYg==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2017-04-24T07:33:20Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2017-04-24T07:33:20Z"}, "message": "re PR bootstrap/79814 (pass-instances.def:36:14: error: \u2018*<unknown>.gcc::pass_manager::pass_warn_unused_result_1\u2019 is used uninitialized in this function)\n\n2017-04-24  Richard Biener  <rguenther@suse.de>\n\n\tPR bootstrap/79814\n\t* pass_manager.h (pass_manager::operator new): Remove.\n\t(pass_manager::operator delete): Likewise.\n\t* passes.c (pass_manager::operator new): Remove.\n\t(pass_manager::operator delete): Likewise.\n\t(pass_manager::pass_manager): Zero individual pass members.\n\nFrom-SVN: r247089", "tree": {"sha": "6b1bd67514790dd11db261b2965b9ccad5c04acd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b1bd67514790dd11db261b2965b9ccad5c04acd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3c5b0ca4c5d8aa8a0f13a4e57b4f9cf4a9de48cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c5b0ca4c5d8aa8a0f13a4e57b4f9cf4a9de48cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c5b0ca4c5d8aa8a0f13a4e57b4f9cf4a9de48cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c5b0ca4c5d8aa8a0f13a4e57b4f9cf4a9de48cb/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6382992791e50ef8ca0989d19b84352fab00f8db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6382992791e50ef8ca0989d19b84352fab00f8db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6382992791e50ef8ca0989d19b84352fab00f8db"}], "stats": {"total": 40, "additions": 24, "deletions": 16}, "files": [{"sha": "2f3a3985415f301ec8d13f7308d2a8f423a47b4c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c5b0ca4c5d8aa8a0f13a4e57b4f9cf4a9de48cb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c5b0ca4c5d8aa8a0f13a4e57b4f9cf4a9de48cb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3c5b0ca4c5d8aa8a0f13a4e57b4f9cf4a9de48cb", "patch": "@@ -1,3 +1,12 @@\n+2017-04-24  Richard Biener  <rguenther@suse.de>\n+\n+\tPR bootstrap/79814\n+\t* pass_manager.h (pass_manager::operator new): Remove.\n+\t(pass_manager::operator delete): Likewise.\n+\t* passes.c (pass_manager::operator new): Remove.\n+\t(pass_manager::operator delete): Likewise.\n+\t(pass_manager::pass_manager): Zero individual pass members.\n+\n 2017-04-23  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/70799"}, {"sha": "cd8c2aaae44341e233a0562e2836a222bfa49f17", "filename": "gcc/pass_manager.h", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c5b0ca4c5d8aa8a0f13a4e57b4f9cf4a9de48cb/gcc%2Fpass_manager.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c5b0ca4c5d8aa8a0f13a4e57b4f9cf4a9de48cb/gcc%2Fpass_manager.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpass_manager.h?ref=3c5b0ca4c5d8aa8a0f13a4e57b4f9cf4a9de48cb", "patch": "@@ -47,9 +47,6 @@ class context;\n class pass_manager\n {\n public:\n-  void *operator new (size_t sz);\n-  void operator delete (void *ptr);\n-\n   pass_manager (context *ctxt);\n   ~pass_manager ();\n "}, {"sha": "162cf8b82b2e6f26986d473636102bba3c9768f2", "filename": "gcc/passes.c", "status": "modified", "additions": 15, "deletions": 13, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c5b0ca4c5d8aa8a0f13a4e57b4f9cf4a9de48cb/gcc%2Fpasses.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c5b0ca4c5d8aa8a0f13a4e57b4f9cf4a9de48cb/gcc%2Fpasses.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpasses.c?ref=3c5b0ca4c5d8aa8a0f13a4e57b4f9cf4a9de48cb", "patch": "@@ -1528,19 +1528,6 @@ pass_manager::register_pass (struct register_pass_info *pass_info)\n \t\t\t\t        -> all_passes\n */\n \n-void *\n-pass_manager::operator new (size_t sz)\n-{\n-  /* Ensure that all fields of the pass manager are zero-initialized.  */\n-  return xcalloc (1, sz);\n-}\n-\n-void\n-pass_manager::operator delete (void *ptr)\n-{\n-  free (ptr);\n-}\n-\n pass_manager::pass_manager (context *ctxt)\n : all_passes (NULL), all_small_ipa_passes (NULL), all_lowering_passes (NULL),\n   all_regular_ipa_passes (NULL),\n@@ -1549,6 +1536,21 @@ pass_manager::pass_manager (context *ctxt)\n {\n   opt_pass **p;\n \n+  /* Zero-initialize pass members.  */\n+#define INSERT_PASSES_AFTER(PASS)\n+#define PUSH_INSERT_PASSES_WITHIN(PASS)\n+#define POP_INSERT_PASSES()\n+#define NEXT_PASS(PASS, NUM) PASS ## _ ## NUM = NULL\n+#define NEXT_PASS_WITH_ARG(PASS, NUM, ARG) NEXT_PASS (PASS, NUM)\n+#define TERMINATE_PASS_LIST(PASS)\n+#include \"pass-instances.def\"\n+#undef INSERT_PASSES_AFTER\n+#undef PUSH_INSERT_PASSES_WITHIN\n+#undef POP_INSERT_PASSES\n+#undef NEXT_PASS\n+#undef NEXT_PASS_WITH_ARG\n+#undef TERMINATE_PASS_LIST\n+\n   /* Initialize the pass_lists array.  */\n #define DEF_PASS_LIST(LIST) pass_lists[PASS_LIST_NO_##LIST] = &LIST;\n   GCC_PASS_LISTS"}]}