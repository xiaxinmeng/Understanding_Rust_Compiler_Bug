{"sha": "22aa73bda49dc609c235b80b0e98d95ce8d50405", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjJhYTczYmRhNDlkYzYwOWMyMzViODBiMGU5OGQ5NWNlOGQ1MDQwNQ==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2019-09-11T18:37:31Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2019-09-11T18:37:31Z"}, "message": "re PR fortran/91553 (ICE in gfc_real2complex, at fortran/arith.c:2208)\n\n2019-09-11  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/91553\n\t* simplify.c (gfc_convert_constant):  During conversion check if the\n\tconstant is enclosed in parenthesis, and simplify expression.\n\n2019-09-11  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/91553\n\t* gfortran.dg/pr91553.f90: New test.\n\nFrom-SVN: r275657", "tree": {"sha": "f8455841487638861725e46a2f701e4ce790d495", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f8455841487638861725e46a2f701e4ce790d495"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/22aa73bda49dc609c235b80b0e98d95ce8d50405", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22aa73bda49dc609c235b80b0e98d95ce8d50405", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22aa73bda49dc609c235b80b0e98d95ce8d50405", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22aa73bda49dc609c235b80b0e98d95ce8d50405/comments", "author": null, "committer": null, "parents": [{"sha": "84e33251331478d41b1c05768ccf0d060ce5b242", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84e33251331478d41b1c05768ccf0d060ce5b242", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84e33251331478d41b1c05768ccf0d060ce5b242"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "17021990936f1c246f64ac699c830856e7444c0f", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22aa73bda49dc609c235b80b0e98d95ce8d50405/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22aa73bda49dc609c235b80b0e98d95ce8d50405/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=22aa73bda49dc609c235b80b0e98d95ce8d50405", "patch": "@@ -1,3 +1,9 @@\n+2019-09-11  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/91553\n+\t* simplify.c (gfc_convert_constant):  During conversion check if the\n+\tconstant is enclosed in parenthesis, and simplify expression.\n+\n 2019-09-11  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/91642"}, {"sha": "023eedb749cbe2c453a70e5e94bacdfcf3a31d8a", "filename": "gcc/fortran/simplify.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22aa73bda49dc609c235b80b0e98d95ce8d50405/gcc%2Ffortran%2Fsimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22aa73bda49dc609c235b80b0e98d95ce8d50405/gcc%2Ffortran%2Fsimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fsimplify.c?ref=22aa73bda49dc609c235b80b0e98d95ce8d50405", "patch": "@@ -8503,6 +8503,12 @@ gfc_convert_constant (gfc_expr *e, bt type, int kind)\n \t    {\n \t      if (c->expr->expr_type == EXPR_ARRAY)\n \t\ttmp = gfc_convert_constant (c->expr, type, kind);\n+\t      else if (c->expr->expr_type == EXPR_OP\n+\t\t       && c->expr->value.op.op == INTRINSIC_PARENTHESES)\n+\t\t{\n+\t\t  gfc_simplify_expr (c->expr, 1);\n+\t\t  tmp = f (c->expr, kind);\n+\t\t}\n \t      else\n \t\ttmp = f (c->expr, kind);\n \t    }"}, {"sha": "546da4e7eeff1a9251eb073e7c17d490ffffbad5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22aa73bda49dc609c235b80b0e98d95ce8d50405/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22aa73bda49dc609c235b80b0e98d95ce8d50405/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=22aa73bda49dc609c235b80b0e98d95ce8d50405", "patch": "@@ -1,3 +1,8 @@\n+2019-09-11  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/91553\n+\t* gfortran.dg/pr91553.f90: New test.\n+\n 2019-09-11  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/91642"}, {"sha": "2d0b018dded8f45f216a1dbeca7f66b26d58e66e", "filename": "gcc/testsuite/gfortran.dg/pr91553.f90", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22aa73bda49dc609c235b80b0e98d95ce8d50405/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr91553.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22aa73bda49dc609c235b80b0e98d95ce8d50405/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr91553.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr91553.f90?ref=22aa73bda49dc609c235b80b0e98d95ce8d50405", "patch": "@@ -0,0 +1,8 @@\n+! { dg-do run }\n+! Code contributed by Gerhard Steinmetz\n+program p\n+   complex z(1)\n+   z = (1.0, 2.0) * [real :: (3.0 + 4.0)]\n+   if (real(z(1)) /= 7.) stop 1\n+   if (aimag(z(1)) /= 14.) stop 2\n+end"}]}