{"sha": "40b4cdbfa980e8074a13d03b32daa8f1eaf721bf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDBiNGNkYmZhOTgwZTgwNzRhMTNkMDNiMzJkYWE4ZjFlYWY3MjFiZg==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2002-12-18T22:45:36Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2002-12-18T22:45:36Z"}, "message": "t-rs6000: Move contents to t-fprules...\n\n\t* config/rs6000/t-rs6000: Move contents to t-fprules,\n\tadd rules for dependencies of rs6000.o and to build rs6000-c.o\n\t* config/rs6000/t-fprules: New file from t-rs6000.\n\t* config/rs6000/t-beos: Remove soft-fp rules.\n\t* config/rs6000/t-ppccomm: Likewise.\n\t* config/rs6000/t-newas: Likewise.\n\t* config/rs6000/t-rs6000-c-rule: Delete.\n\t* config.gcc: Use t-fprules for rs6000/ ports when appropriate.\n\tUse t-rs6000 for all rs6000/ ports instead of t-rs6000-c-rule.\n\tCreate generic Darwin rules.\n\nFrom-SVN: r60265", "tree": {"sha": "c6d693fece2b4aa7c01f88d65ef8f05640ec8838", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c6d693fece2b4aa7c01f88d65ef8f05640ec8838"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "892aebc9f1c9112d71eff7f89cdb395f9a78808f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/892aebc9f1c9112d71eff7f89cdb395f9a78808f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/892aebc9f1c9112d71eff7f89cdb395f9a78808f"}], "stats": {"total": 237, "additions": 101, "deletions": 136}, "files": [{"sha": "0cf656b85eb93a041d8fbccfd1e9b8324b6c20af", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=40b4cdbfa980e8074a13d03b32daa8f1eaf721bf", "patch": "@@ -1,5 +1,16 @@\n 2002-11-18  Geoffrey Keating  <geoffk@apple.com>\n \n+\t* config/rs6000/t-rs6000: Move contents to t-fprules,\n+\tadd rules for dependencies of rs6000.o and to build rs6000-c.o\n+\t* config/rs6000/t-fprules: New file from t-rs6000.\n+\t* config/rs6000/t-beos: Remove soft-fp rules.\n+\t* config/rs6000/t-ppccomm: Likewise.\n+\t* config/rs6000/t-newas: Likewise.\n+\t* config/rs6000/t-rs6000-c-rule: Delete.\n+\t* config.gcc: Use t-fprules for rs6000/ ports when appropriate.\n+\tUse t-rs6000 for all rs6000/ ports instead of t-rs6000-c-rule.\n+\tCreate generic Darwin rules.\n+\n \t* gengenrtl.c (gencode): Delete unnecessary rtl_obstack declaration.\n \n 2002-12-18  Doug Evans  <dje@sebabeach.org>"}, {"sha": "a6114ca7a2477fb90139cb1931c11a6e6a15b2de", "filename": "gcc/config.gcc", "status": "modified", "additions": 45, "deletions": 57, "changes": 102, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=40b4cdbfa980e8074a13d03b32daa8f1eaf721bf", "patch": "@@ -460,6 +460,17 @@ case $machine in\n \tesac\n \tfbsd_tm_file=\"${fbsd_tm_file} freebsd-spec.h freebsd.h\"\n \t;;\n+*-*-darwin*)\n+\ttm_file=\"${tm_file} darwin.h\"\n+\ttm_p_file=\"${tm_p_file} darwin-protos.h\"\n+\ttmake_file=\"t-darwin\"\n+\ttarget_gtfiles=\"\\$(srcdir)/config/darwin.c\"\n+\tc_target_objs=\"darwin-c.o\"\n+\tcxx_target_objs=\"darwin-c.o\"\n+\textra_parts=\"crt2.o\"\n+\t# Darwin linker does collect2 functionality\n+\tuse_collect2=no\n+\t;;\t\n *-*-vxworks*)\n \ttmake_file=t-vxworks\n \ttm_file=\"${tm_file} elfos.h svr4.h vxworks.h\"\n@@ -1021,16 +1032,7 @@ i370-*-linux*)\n \telf=yes\n \t;;\n i[34567]86-*-darwin*)\n-\ttm_file=\"${tm_file} darwin.h i386/darwin.h\"\n-\ttm_p_file=\"${tm_p_file} darwin-protos.h\"\n-\ttmake_file=\"t-darwin\"\n-\textra_objs=\"darwin.o\"\n-\ttarget_gtfiles=\"\\$(srcdir)/config/darwin.c\"\n-\tc_target_objs=\"darwin-c.o\"\n-\tcxx_target_objs=\"darwin-c.o\"\n-\textra_parts=\"crt2.o\"\n-\t# Darwin linker does collect2 functionality\n-\tuse_collect2=no\n+\ttm_file=\"${tm_file} i386/darwin.h\"\n \t;;\n i[34567]86-*-elf*)\n \txm_defines=POSIX\n@@ -1936,49 +1938,39 @@ romp-*-openbsd*)\n \t# Nothing special\n \t;;\n powerpc-*-openbsd*)\n-\ttmake_file=\"${tmake_file} rs6000/t-rs6000 rs6000/t-openbsd\"\n+\ttmake_file=\"${tmake_file} rs6000/t-fprules rs6000/t-openbsd\"\n \textra_headers=\n \t;;\n powerpc64-*-linux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux64.h\"\n-\tout_file=rs6000/rs6000.c\n-\ttmake_file=\"rs6000/t-rs6000 t-slibgcc-elf-ver t-linux rs6000/t-linux64\"\n+\ttmake_file=\"rs6000/t-fprules t-slibgcc-elf-ver t-linux rs6000/t-linux64\"\n \t;;\n powerpc64-*-gnu*)\n \ttm_file=\"${cpu_type}/${cpu_type}.h elfos.h svr4.h freebsd-spec.h gnu.h rs6000/sysv4.h rs6000/linux64.h rs6000/gnu.h\"\n-\tout_file=rs6000/rs6000.c\n-\ttmake_file=\"rs6000/t-rs6000 t-slibgcc-elf-ver t-gnu rs6000/t-linux64\"\n+\ttmake_file=\"rs6000/t-fprules t-slibgcc-elf-ver t-gnu rs6000/t-linux64\"\n \t;;\n powerpc-*-beos*)\n \ttm_file=\"${tm_file} rs6000/aix.h rs6000/beos.h rs6000/xcoff.h\"\n \txm_defines=POSIX\n-\ttmake_file=rs6000/t-beos\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-beos\"\n \textra_headers=\n \t;;\n powerpc-*-darwin*)\n-\ttm_file=\"${tm_file} darwin.h rs6000/darwin.h\"\n-\ttm_p_file=\"${tm_p_file} darwin-protos.h\"\n-\ttmake_file=\"rs6000/t-rs6000 t-darwin rs6000/t-darwin\"\n+\ttm_file=\"${tm_file} rs6000/darwin.h\"\n+\ttmake_file=\"rs6000/t-fprules t-darwin rs6000/t-darwin\"\n \textra_objs=\"darwin.o\"\n-\ttarget_gtfiles=\"\\$(srcdir)/config/darwin.c\"\n-\tc_target_objs=\"darwin-c.o\"\n-\tcxx_target_objs=\"darwin-c.o\"\n-\textra_parts=\"crt2.o\"\n-\t# Darwin linker does collect2 functionality\n-\tuse_collect2=no\n \textra_headers=altivec.h\n \t# override ppc default\n \tneed_64bit_hwint=\n \t;;\n powerpc*-*-freebsd*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h ${fbsd_tm_file} rs6000/sysv4.h rs6000/freebsd.h\"\n-\tout_file=rs6000/rs6000.c\n-\ttmake_file=\"rs6000/t-ppcos ${tmake_file} rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos ${tmake_file} rs6000/t-ppccomm\"\n \t;;\n powerpc-*-sysv*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h\"\n \txm_defines=POSIX\n-\ttmake_file=\"rs6000/t-ppcos rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos rs6000/t-ppccomm\"\n \t;;\n powerpc-*-netbsd*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h netbsd.h netbsd-elf.h freebsd-spec.h rs6000/sysv4.h rs6000/netbsd.h\"\n@@ -1987,7 +1979,7 @@ powerpc-*-netbsd*)\n powerpc-*-chorusos*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h chorus.h\"\n-\ttmake_file=\"rs6000/t-ppcos rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos rs6000/t-ppccomm\"\n \tcase x${enable_threads} in\n \t  xyes | xpthreads | xposix)\n \t\tthread_file='posix'\n@@ -1997,76 +1989,71 @@ powerpc-*-chorusos*)\n powerpc-*-eabiaix*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/eabiaix.h\"\n-\ttmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcgas rs6000/t-ppccomm\"\n \t;;\n powerpc-*-eabispe*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/eabispe.h\"\n-\ttmake_file=\"rs6000/t-ppcendian rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcendian rs6000/t-ppccomm\"\n \t;;\n powerpc-*-eabisimaltivec*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/eabisim.h rs6000/eabialtivec.h\"\n-\ttmake_file=\"rs6000/t-ppcendian rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcendian rs6000/t-ppccomm\"\n \t;;\n powerpc-*-eabisim*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/eabisim.h\"\n-\ttmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcgas rs6000/t-ppccomm\"\n \t;;\n powerpc-*-elf*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h\"\n-\ttmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcgas rs6000/t-ppccomm\"\n \t;;\n powerpc-*-eabialtivec*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/eabialtivec.h\"\n-\ttmake_file=\"rs6000/t-ppcendian rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcendian rs6000/t-ppccomm\"\n \t;;\n powerpc-*-eabi*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h\"\n-\ttmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcgas rs6000/t-ppccomm\"\n \t;;\n powerpc-*-rtems*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/rtems.h rtems.h\"\n-\ttmake_file=\"rs6000/t-ppcgas t-rtems rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcgas t-rtems rs6000/t-ppccomm\"\n \tif test x$enable_threads = xyes; then\n \t  thread_file='rtems'\n \tfi\n \t;;\n powerpc-*-linux*libc1)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux.h\"\n-\tout_file=rs6000/rs6000.c\n-\ttmake_file=\"rs6000/t-ppcos t-slibgcc-elf-ver t-linux t-linux-gnulibc1 rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos t-slibgcc-elf-ver t-linux t-linux-gnulibc1 rs6000/t-ppccomm\"\n \tif test x$enable_threads = xyes; then\n \t\tthread_file='posix'\n \tfi\n \t;;\n powerpc-*-linux-gnualtivec*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux.h rs6000/linuxaltivec.h\"\n-\tout_file=rs6000/rs6000.c\n-\ttmake_file=\"rs6000/t-ppcos t-slibgcc-elf-ver t-linux rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos t-slibgcc-elf-ver t-linux rs6000/t-ppccomm\"\n \t;;\n powerpc-*-linux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux.h\"\n-\tout_file=rs6000/rs6000.c\n-\ttmake_file=\"rs6000/t-ppcos t-slibgcc-elf-ver t-linux rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos t-slibgcc-elf-ver t-linux rs6000/t-ppccomm\"\n \t;;\n powerpc-*-gnu-gnualtivec*)\n \ttm_file=\"${cpu_type}/${cpu_type}.h elfos.h svr4.h freebsd-spec.h gnu.h rs6000/sysv4.h rs6000/linux.h rs6000/linuxaltivec.h rs6000/gnu.h\"\n-\tout_file=rs6000/rs6000.c\n-\ttmake_file=\"rs6000/t-ppcos t-slibgcc-elf-ver t-gnu rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos t-slibgcc-elf-ver t-gnu rs6000/t-ppccomm\"\n \tif test x$enable_threads = xyes; then\n \t\tthread_file='posix'\n \tfi\n \t;;\n powerpc-*-gnu*)\n \ttm_file=\"${cpu_type}/${cpu_type}.h elfos.h svr4.h freebsd-spec.h gnu.h rs6000/sysv4.h rs6000/linux.h rs6000/gnu.h\"\n-\tout_file=rs6000/rs6000.c\n-\ttmake_file=\"rs6000/t-ppcos t-slibgcc-elf-ver t-gnu rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos t-slibgcc-elf-ver t-gnu rs6000/t-ppccomm\"\n \tif test x$enable_threads = xyes; then\n \t\tthread_file='posix'\n \tfi\n@@ -2076,34 +2063,34 @@ powerpc-wrs-vxworks*)\n \t# means we have to redo the tm_file list from scratch.\n \ttm_file=\"rs6000/rs6000.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h\"\n \ttm_file=\"${tm_file} vxworks.h rs6000/vxworks.h\"\n-\ttmake_file=\"${tmake_file} rs6000/t-ppccomm rs6000/t-vxworks\"\n+\ttmake_file=\"${tmake_file} rs6000/t-fprules rs6000/t-ppccomm rs6000/t-vxworks\"\n \textra_headers=ppc-asm.h\n \t;;\n powerpc-wrs-windiss*)\n         xm_defines=POSIX\n \ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/windiss.h\"\n-        tmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n+        tmake_file=\"rs6000/t-fprules rs6000/t-ppcgas rs6000/t-ppccomm\"\n         thread_file=\"\"\n         ;;\n powerpcle-*-sysv*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h\"\n \txm_defines=POSIX\n-\ttmake_file=\"rs6000/t-ppcos rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos rs6000/t-ppccomm\"\n \t;;\n powerpcle-*-elf*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h\"\n-\ttmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcgas rs6000/t-ppccomm\"\n \t;;\n powerpcle-*-eabisim*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h rs6000/eabi.h rs6000/eabisim.h\"\n-\ttmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcgas rs6000/t-ppccomm\"\n \t;;\n powerpcle-*-eabi*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h rs6000/eabi.h\"\n-\ttmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-ppcgas rs6000/t-ppccomm\"\n \t;;\n rs6000-ibm-aix3.[01]*)\n \txm_defines=POSIX\n@@ -2113,14 +2100,14 @@ rs6000-ibm-aix3.[01]*)\n rs6000-ibm-aix3.2.[456789]* | powerpc-ibm-aix3.2.[456789]*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} rs6000/aix.h rs6000/aix3newas.h rs6000/xcoff.h\"\n-\ttmake_file=rs6000/t-newas\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-newas\"\n \tuse_collect2=yes\n \textra_headers=\n \t;;\n rs6000-ibm-aix4.[12]* | powerpc-ibm-aix4.[12]*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} rs6000/aix.h rs6000/aix41.h rs6000/xcoff.h\"\n-\ttmake_file=rs6000/t-newas\n+\ttmake_file=\"rs6000/t-fprules rs6000/t-newas\"\n \tuse_collect2=yes\n \textra_headers=\n \t;;\n@@ -2165,7 +2152,7 @@ rs6000-*-mach*)\n \t;;\n rs6000-*-lynxos*)\n \ttm_file=\"lynx.h rs6000/lynx.h\"\n-\ttmake_file=rs6000/t-rs6000\n+\ttmake_file=rs6000/t-fprules\n \tuse_collect2=yes\n \t;;\n s390-*-linux*)\n@@ -2877,9 +2864,10 @@ powerpc*-*-* | rs6000-*-*)\n \t\t\tfi\n \t\t\t;;\n \tesac\n+\tout_file = rs6000/rs6000.c\n \tc_target_objs=\"${c_target_objs} rs6000-c.o\"\n \tcxx_target_objs=\"${cxx_target_objs} rs6000-c.o\"\n-\ttmake_file=\"${tmake_file} rs6000/t-rs6000-c-rule\"\n+\ttmake_file=\"rs6000/t-rs6000 ${tmake_file}\"\n \t;;\n sparc*-*-*)\n \tcase \".$with_cpu\" in"}, {"sha": "badffefff4299431da3a37e7d08ef726435cac7c", "filename": "gcc/config/rs6000/t-beos", "status": "modified", "additions": 1, "deletions": 16, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/gcc%2Fconfig%2Frs6000%2Ft-beos", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/gcc%2Fconfig%2Frs6000%2Ft-beos", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-beos?ref=40b4cdbfa980e8074a13d03b32daa8f1eaf721bf", "patch": "@@ -1,23 +1,8 @@\n-# We want fine grained libraries, so use the new code to build the\n-# floating point emulation libraries.\n-FPBIT = fp-bit.c\n-DPBIT = dp-bit.c\n-\n-dp-bit.c: $(srcdir)/config/fp-bit.c\n-\tcat $(srcdir)/config/fp-bit.c > dp-bit.c\n-\n-fp-bit.c: $(srcdir)/config/fp-bit.c\n-\techo '#define FLOAT' > fp-bit.c\n-\tcat $(srcdir)/config/fp-bit.c >> fp-bit.c\n-\n-# Build the libraries for both hard and soft floating point\n+# Build the libraries for both hard & soft floating point and ppc/common.\n \n MULTILIB_OPTIONS = msoft-float mcpu=common\n MULTILIB_DIRNAMES = soft-float common\n \n-LIBGCC = stmp-multilib\n-INSTALL_LIBGCC = install-multilib\n-\n # This is probably the correct define, to override the Makefile\n # default, but using it causes more problems than it solves.\n #"}, {"sha": "4fb09a2789a479769ce96a8da633441f850f29fd", "filename": "gcc/config/rs6000/t-fprules", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/gcc%2Fconfig%2Frs6000%2Ft-fprules", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/gcc%2Fconfig%2Frs6000%2Ft-fprules", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-fprules?ref=40b4cdbfa980e8074a13d03b32daa8f1eaf721bf", "patch": "@@ -0,0 +1,29 @@\n+# We want fine grained libraries, so use the new code to build the\n+# floating point emulation libraries.\n+FPBIT = fp-bit.c\n+DPBIT = dp-bit.c\n+\n+dp-bit.c: $(srcdir)/config/fp-bit.c\n+\tcat $(srcdir)/config/fp-bit.c > dp-bit.c\n+\n+fp-bit.c: $(srcdir)/config/fp-bit.c\n+\techo '#define FLOAT' > fp-bit.c\n+\tcat $(srcdir)/config/fp-bit.c >> fp-bit.c\n+\n+MULTILIB_MATCHES_FLOAT\t= msoft-float=mcpu?401 \\\n+\t\t\t  msoft-float=mcpu?403 \\\n+\t\t\t  msoft-float=mcpu?405 \\\n+\t\t\t  msoft-float=mcpu?ec603e \\\n+\t\t\t  msoft-float=mcpu?801 \\\n+\t\t\t  msoft-float=mcpu?821 \\\n+\t\t\t  msoft-float=mcpu?823 \\\n+\t\t\t  msoft-float=mcpu?860\n+\n+# Build the libraries for both hard and soft floating point by default\n+\n+MULTILIB_OPTIONS = msoft-float\n+MULTILIB_DIRNAMES = soft-float\n+MULTILIB_MATCHES\t= ${MULTILIB_MATCHES_FLOAT}\n+\n+LIBGCC = stmp-multilib\n+INSTALL_LIBGCC = install-multilib"}, {"sha": "a26ce39402c8321c29eaeeff3fd59c6d377dce49", "filename": "gcc/config/rs6000/t-newas", "status": "modified", "additions": 1, "deletions": 16, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/gcc%2Fconfig%2Frs6000%2Ft-newas", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/gcc%2Fconfig%2Frs6000%2Ft-newas", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-newas?ref=40b4cdbfa980e8074a13d03b32daa8f1eaf721bf", "patch": "@@ -1,15 +1,3 @@\n-# We want fine grained libraries, so use the new code to build the\n-# floating point emulation libraries.\n-FPBIT = fp-bit.c\n-DPBIT = dp-bit.c\n-\n-dp-bit.c: $(srcdir)/config/fp-bit.c\n-\tcat $(srcdir)/config/fp-bit.c > dp-bit.c\n-\n-fp-bit.c: $(srcdir)/config/fp-bit.c\n-\techo '#define FLOAT' > fp-bit.c\n-\tcat $(srcdir)/config/fp-bit.c >> fp-bit.c\n-\n # Build the libraries for both hard and soft floating point and all of the \n # different processor models\n \n@@ -19,7 +7,7 @@ MULTILIB_OPTIONS\t= msoft-float \\\n MULTILIB_DIRNAMES\t= soft-float \\\n \t\t\t  common power powerpc\n \n-MULTILIB_MATCHES\t= msoft-float=mcpu?403 \\\n+MULTILIB_MATCHES\t= $(MULTILIB_MATCHES_FLOAT) \\\n \t\t\t  mcpu?power=mpower \\\n \t\t\t  mcpu?power=mrios1 \\\n \t\t\t  mcpu?power=mcpu?rios1 \\\n@@ -39,9 +27,6 @@ MULTILIB_MATCHES\t= msoft-float=mcpu?403 \\\n \t\t\t  mcpu?powerpc=mpowerpc-gpopt \\\n \t\t\t  mcpu?powerpc=mpowerpc-gfxopt\n \n-LIBGCC = stmp-multilib\n-INSTALL_LIBGCC = install-multilib\n-\n # Aix 3.2.x needs milli.exp for -mcpu=common\n EXTRA_PARTS = milli.exp\n milli.exp: $(srcdir)/config/rs6000/milli.exp"}, {"sha": "eaa3252a60b1306cc00dcceedafac59a191f6419", "filename": "gcc/config/rs6000/t-ppccomm", "status": "modified", "additions": 0, "deletions": 23, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/gcc%2Fconfig%2Frs6000%2Ft-ppccomm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/gcc%2Fconfig%2Frs6000%2Ft-ppccomm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-ppccomm?ref=40b4cdbfa980e8074a13d03b32daa8f1eaf721bf", "patch": "@@ -5,39 +5,16 @@ LIB2FUNCS_EXTRA = tramp.S\n # This one can't end up in shared libgcc\n LIB2FUNCS_STATIC_EXTRA = eabi.S\n \n-# We want fine grained libraries, so use the new code to build the\n-# floating point emulation libraries.\n-FPBIT = fp-bit.c\n-DPBIT = dp-bit.c\n-\n-\n-dp-bit.c: $(srcdir)/config/fp-bit.c\n-\tcat $(srcdir)/config/fp-bit.c > dp-bit.c\n-\n-fp-bit.c: $(srcdir)/config/fp-bit.c\n-\techo '#define FLOAT' > fp-bit.c\n-\tcat $(srcdir)/config/fp-bit.c >> fp-bit.c\n-\n eabi.S: $(srcdir)/config/rs6000/eabi.asm\n \tcat $(srcdir)/config/rs6000/eabi.asm > eabi.S\n \n tramp.S: $(srcdir)/config/rs6000/tramp.asm\n \tcat $(srcdir)/config/rs6000/tramp.asm > tramp.S\n \n # Switch synonyms\n-MULTILIB_MATCHES_FLOAT\t= msoft-float=mcpu?401 \\\n-\t\t\t  msoft-float=mcpu?403 \\\n-\t\t\t  msoft-float=mcpu?405 \\\n-\t\t\t  msoft-float=mcpu?ec603e \\\n-\t\t\t  msoft-float=mcpu?801 \\\n-\t\t\t  msoft-float=mcpu?821 \\\n-\t\t\t  msoft-float=mcpu?823 \\\n-\t\t\t  msoft-float=mcpu?860\n MULTILIB_MATCHES_ENDIAN\t= mlittle=mlittle-endian mbig=mbig-endian\n MULTILIB_MATCHES_SYSV\t= mcall-sysv=mcall-sysv-eabi mcall-sysv=mcall-sysv-noeabi mcall-sysv=mcall-linux mcall-sysv=mcall-netbsd\n \n-LIBGCC = stmp-multilib\n-INSTALL_LIBGCC = install-multilib\n EXTRA_MULTILIB_PARTS = crtbegin$(objext) crtend$(objext) \\\n   crtbeginS$(objext) crtendS$(objext) crtbeginT$(objext) \\\n   ecrti$(objext) ecrtn$(objext) \\"}, {"sha": "805e15d4e82415d5f10f7a03099fbf2f59140244", "filename": "gcc/config/rs6000/t-rs6000", "status": "modified", "additions": 14, "deletions": 19, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/gcc%2Fconfig%2Frs6000%2Ft-rs6000", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40b4cdbfa980e8074a13d03b32daa8f1eaf721bf/gcc%2Fconfig%2Frs6000%2Ft-rs6000", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-rs6000?ref=40b4cdbfa980e8074a13d03b32daa8f1eaf721bf", "patch": "@@ -1,19 +1,14 @@\n-# We want fine grained libraries, so use the new code to build the\n-# floating point emulation libraries.\n-FPBIT = fp-bit.c\n-DPBIT = dp-bit.c\n-\n-dp-bit.c: $(srcdir)/config/fp-bit.c\n-\tcat $(srcdir)/config/fp-bit.c > dp-bit.c\n-\n-fp-bit.c: $(srcdir)/config/fp-bit.c\n-\techo '#define FLOAT' > fp-bit.c\n-\tcat $(srcdir)/config/fp-bit.c >> fp-bit.c\n-\n-# Build the libraries for both hard and soft floating point\n-\n-MULTILIB_OPTIONS = msoft-float\n-MULTILIB_DIRNAMES = soft-float\n-\n-LIBGCC = stmp-multilib\n-INSTALL_LIBGCC = install-multilib\n+# General rules that all rs6000/ targets must have.\n+\n+rs6000.o: $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) \\\n+  $(RTL_H) $(REGS_H) hard-reg-set.h \\\n+  real.h insn-config.h conditions.h insn-attr.h flags.h $(RECOG_H) \\\n+  $(OBSTACK_H) $(TREE_H) $(EXPR_H) $(OPTABS_H) except.h function.h \\\n+  output.h $(BASIC_BLOCK_H) $(INTEGRATE_H) toplev.h $(GGC_H) $(HASHTAB_H) \\\n+  $(TM_P_H) $(TARGET_H) $(TARGET_DEF_H) langhooks.h reload.h\n+\n+rs6000-c.o: $(srcdir)/config/rs6000/rs6000-c.c \\\n+    $(srcdir)/config/rs6000/rs6000-protos.h \\\n+    $(CONFIG_H) $(SYSTEM_H) $(TREE_H) $(CPPLIB_H) \\\n+    $(TM_P_H) c-pragma.h errors.h coretypes.h $(TM_H)\n+\t$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $(srcdir)/config/rs6000/rs6000-c.c"}, {"sha": "b9a92dd9f831bf10b9ec0ee1668374c0917bb721", "filename": "gcc/config/rs6000/t-rs6000-c-rule", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/892aebc9f1c9112d71eff7f89cdb395f9a78808f/gcc%2Fconfig%2Frs6000%2Ft-rs6000-c-rule", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/892aebc9f1c9112d71eff7f89cdb395f9a78808f/gcc%2Fconfig%2Frs6000%2Ft-rs6000-c-rule", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-rs6000-c-rule?ref=892aebc9f1c9112d71eff7f89cdb395f9a78808f", "patch": "@@ -1,5 +0,0 @@\n-rs6000-c.o: $(srcdir)/config/rs6000/rs6000-c.c \\\n-    $(srcdir)/config/rs6000/rs6000-protos.h \\\n-    $(CONFIG_H) $(SYSTEM_H) $(TREE_H) $(CPPLIB_H) \\\n-    $(TM_P_H) c-pragma.h errors.h coretypes.h $(TM_H)\n-\t$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) $(srcdir)/config/rs6000/rs6000-c.c"}]}