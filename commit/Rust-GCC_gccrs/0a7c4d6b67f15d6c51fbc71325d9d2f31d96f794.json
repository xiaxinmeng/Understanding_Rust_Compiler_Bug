{"sha": "0a7c4d6b67f15d6c51fbc71325d9d2f31d96f794", "node_id": "C_kwDOANBUbNoAKDBhN2M0ZDZiNjdmMTVkNmM1MWZiYzcxMzI1ZDlkMmYzMWQ5NmY3OTQ", "commit": {"author": {"name": "Dimitar Dimitrov", "email": "dimitar@dinux.eu", "date": "2022-04-03T09:27:16Z"}, "committer": {"name": "Dimitar Dimitrov", "email": "dimitar@dinux.eu", "date": "2022-05-03T18:56:15Z"}, "message": "testsuite: Annotate Wattributes-8.c for default_packed\n\nPlace markers in test case to handle targets which pack structures by\ndefault. Validated on pru-none-elf.\n\ngcc/testsuite/ChangeLog:\n\n\t* gcc.dg/Wattributes-8.c: Add annotations for default_packed\n\ttargets.\n\nSigned-off-by: Dimitar Dimitrov <dimitar@dinux.eu>", "tree": {"sha": "a9dd07c17f34a4d0323323a040640e78ae4b8d7a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a9dd07c17f34a4d0323323a040640e78ae4b8d7a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0a7c4d6b67f15d6c51fbc71325d9d2f31d96f794", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a7c4d6b67f15d6c51fbc71325d9d2f31d96f794", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0a7c4d6b67f15d6c51fbc71325d9d2f31d96f794", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a7c4d6b67f15d6c51fbc71325d9d2f31d96f794/comments", "author": null, "committer": null, "parents": [{"sha": "80d44ac87021bd0f6af3440c2d32b990e511dffa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80d44ac87021bd0f6af3440c2d32b990e511dffa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80d44ac87021bd0f6af3440c2d32b990e511dffa"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "8f5483e2d7acc1ec30b8b2f4b93ed274c606373d", "filename": "gcc/testsuite/gcc.dg/Wattributes-8.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a7c4d6b67f15d6c51fbc71325d9d2f31d96f794/gcc%2Ftestsuite%2Fgcc.dg%2FWattributes-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a7c4d6b67f15d6c51fbc71325d9d2f31d96f794/gcc%2Ftestsuite%2Fgcc.dg%2FWattributes-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWattributes-8.c?ref=0a7c4d6b67f15d6c51fbc71325d9d2f31d96f794", "patch": "@@ -24,8 +24,10 @@ int c ATTR ((aligned (2)));           // okay (reduces alignment)\n ASSERT (_Alignof (c) == 2);\n \n struct {\n-  int a ATTR ((packed, aligned (2)));   /* { dg-bogus \"\\\\\\[-Wattributes\" } */\n-  int b ATTR ((aligned (2), packed));   /* { dg-bogus \"\\\\\\[-Wattributes\" } */\n+  int a ATTR ((packed, aligned (2)));   /* { dg-bogus \"\\\\\\[-Wattributes\" \"\" { target { ! default_packed } } } */\n+  /* { dg-warning \"attribute ignored\" \"\" { target { default_packed } } .-1 } */\n+  int b ATTR ((aligned (2), packed));   /* { dg-bogus \"\\\\\\[-Wattributes\" \"\" { target { ! default_packed } } } */\n+  /* { dg-warning \"attribute ignored\" \"\" { target { default_packed } } .-1 } */\n \n   /* Avoid exercising this since the attribute has no effect yet\n      there is no warning."}]}