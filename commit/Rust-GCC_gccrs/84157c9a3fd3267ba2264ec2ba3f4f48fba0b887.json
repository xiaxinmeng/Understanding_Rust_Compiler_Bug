{"sha": "84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODQxNTdjOWEzZmQzMjY3YmEyMjY0ZWMyYmEzZjRmNDhmYmEwYjg4Nw==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2009-07-07T12:42:43Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-07-07T12:42:43Z"}, "message": "a-calend.adb: Minor code reorganization (use conditional expressions)\n\n2009-07-07  Robert Dewar  <dewar@adacore.com>\n\n\t* a-calend.adb: Minor code reorganization (use conditional expressions)\n\n\t* s-stusta.ads, s-interr-hwint.adb, g-expect-vms.adb, s-secsta.ads,\n\tprj-nmsc.adb, a-teioed.adb, output.ads, prj-attr.ads, a-textio.adb,\n\ts-taskin.ads, scans.ads, s-osinte-vms.adb, s-taprop-solaris.adb,\n\ts-tpopsp-posix-foreign.adb, s-trafor-default.adb, gnat1drv.adb,\n\ts-stchop-vxworks.adb, s-tpopsp-posix.adb, prj-env.adb, prj-env.ads,\n\tg-comlin.adb, exp_ch11.adb: Minor reformatting.\n\nFrom-SVN: r149320", "tree": {"sha": "b7d0419a6b1561d3e0b6744e89abd1f3e5bb63bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b7d0419a6b1561d3e0b6744e89abd1f3e5bb63bd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/comments", "author": null, "committer": null, "parents": [{"sha": "535536b45a85eca6749f813b75d46a9788e0781b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/535536b45a85eca6749f813b75d46a9788e0781b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/535536b45a85eca6749f813b75d46a9788e0781b"}], "stats": {"total": 293, "additions": 160, "deletions": 133}, "files": [{"sha": "c8c03216382cfd73438ddf82a9a1090164a8caf5", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -1,3 +1,14 @@\n+2009-07-07  Robert Dewar  <dewar@adacore.com>\n+\n+\t* a-calend.adb: Minor code reorganization (use conditional expressions)\n+\n+\t* s-stusta.ads, s-interr-hwint.adb, g-expect-vms.adb, s-secsta.ads,\n+\tprj-nmsc.adb, a-teioed.adb, output.ads, prj-attr.ads, a-textio.adb,\n+\ts-taskin.ads, scans.ads, s-osinte-vms.adb, s-taprop-solaris.adb,\n+\ts-tpopsp-posix-foreign.adb, s-trafor-default.adb, gnat1drv.adb,\n+\ts-stchop-vxworks.adb, s-tpopsp-posix.adb, prj-env.adb, prj-env.ads,\n+\tg-comlin.adb, exp_ch11.adb: Minor reformatting.\n+\n 2009-07-07  Gary Dismukes  <dismukes@adacore.com>\n \n \t* checks.adb (Generate_Range_Check): Replace type conversions with"}, {"sha": "04ea98b1884d52db9f70d2d8a1cf5d2177a426dd", "filename": "gcc/ada/a-calend.adb", "status": "modified", "additions": 9, "deletions": 23, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fa-calend.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fa-calend.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-calend.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -940,11 +940,7 @@ package body Ada.Calendar is\n \n          --  Step 3: Handle leap second occurrences\n \n-         if Leap_Sec then\n-            tm_sec := 60;\n-         else\n-            tm_sec := Second;\n-         end if;\n+         tm_sec := (if Leap_Sec then 60 else Second);\n       end To_Struct_Tm;\n \n       ------------------\n@@ -1014,11 +1010,8 @@ package body Ada.Calendar is\n          --  the input. Guard against very large delay values such as the end\n          --  of time since the computation will overflow.\n \n-         if Res_N > Safe_Ada_High then\n-            Res_N := Safe_Ada_High;\n-         else\n-            Res_N := Res_N + Epoch_Offset;\n-         end if;\n+         Res_N := (if Res_N > Safe_Ada_High then Safe_Ada_High\n+                                            else Res_N + Epoch_Offset);\n \n          return Time_Rep_To_Duration (Res_N);\n       end To_Duration;\n@@ -1495,7 +1488,7 @@ package body Ada.Calendar is\n       ---------------------\n \n       function UTC_Time_Offset (Date : Time) return Long_Integer is\n-         Adj_Cent : Integer := 0;\n+         Adj_Cent : Integer;\n          Date_N   : Time_Rep;\n          Offset   : aliased long;\n          Secs_T   : aliased time_t;\n@@ -1507,18 +1500,11 @@ package body Ada.Calendar is\n          --  saving and so on. Non-leap centennial years violate this rule by\n          --  one day and as a consequence, special adjustment is needed.\n \n-         if Date_N > T_2100_2_28 then\n-            if Date_N > T_2200_2_28 then\n-               if Date_N > T_2300_2_28 then\n-                  Adj_Cent := 3;\n-               else\n-                  Adj_Cent := 2;\n-               end if;\n-\n-            else\n-               Adj_Cent := 1;\n-            end if;\n-         end if;\n+         Adj_Cent :=\n+           (if    Date_N <= T_2100_2_28 then 0\n+            elsif Date_N <= T_2200_2_28 then 1\n+            elsif Date_N <= T_2300_2_28 then 2\n+            else                             3);\n \n          if Adj_Cent > 0 then\n             Date_N := Date_N - Time_Rep (Adj_Cent) * Nanos_In_Day;"}, {"sha": "2d6a3a9b75aafaf2091cc3babeee398347165e6a", "filename": "gcc/ada/a-teioed.adb", "status": "modified", "additions": 8, "deletions": 13, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fa-teioed.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fa-teioed.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-teioed.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -306,14 +306,12 @@ package body Ada.Text_IO.Editing is\n          raise Ada.Text_IO.Layout_Error;\n       end if;\n \n-      if Pic.Radix_Position = Invalid_Position then\n-         Position := Answer'Last;\n-      else\n-         Position := Pic.Radix_Position - 1;\n-      end if;\n+      Position :=\n+        (if Pic.Radix_Position = Invalid_Position\n+         then Answer'Last\n+         else Pic.Radix_Position - 1);\n \n       for J in reverse Attrs.Start_Of_Int .. Attrs.End_Of_Int loop\n-\n          while Answer (Position) /= '9'\n            and Answer (Position) /= Pic.Floater\n          loop\n@@ -562,7 +560,6 @@ package body Ada.Text_IO.Editing is\n             Last     := Pic.Radix_Position + 1;\n \n             for J in Last .. Answer'Last loop\n-\n                if Answer (J) = '9' or Answer (J) = Pic.Floater then\n                   Answer (J) := Rounded (Position);\n \n@@ -624,15 +621,13 @@ package body Ada.Text_IO.Editing is\n          --  No trailing digits, but now J may need to stick in a currency\n          --  symbol or sign.\n \n-         if Pic.Start_Currency = Invalid_Position then\n-            Position := Answer'Last + 1;\n-         else\n-            Position := Pic.Start_Currency;\n-         end if;\n+         Position :=\n+           (if Pic.Start_Currency = Invalid_Position\n+            then Answer'Last + 1\n+            else Pic.Start_Currency);\n       end if;\n \n       for J in Position .. Answer'Last loop\n-\n          if Pic.Start_Currency /= Invalid_Position and then\n             Answer (Pic.Start_Currency) = '#' then\n             Currency_Pos := 1;"}, {"sha": "4ea003dcda8f55f6392fa10d7a110d1892abb40d", "filename": "gcc/ada/a-textio.adb", "status": "modified", "additions": 8, "deletions": 14, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fa-textio.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fa-textio.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-textio.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -562,13 +562,10 @@ package body Ada.Text_IO is\n          if ch = EOF then\n             raise End_Error;\n          else\n-            if not Is_Start_Of_Encoding\n-                     (Character'Val (ch), File.WC_Method)\n-            then\n-               Item := Character'Val (ch);\n-            else\n-               Item := Get_Upper_Half_Char_Immed (Character'Val (ch), File);\n-            end if;\n+            Item :=\n+              (if not Is_Start_Of_Encoding (Character'Val (ch), File.WC_Method)\n+               then Character'Val (ch)\n+               else Get_Upper_Half_Char_Immed (Character'Val (ch), File));\n          end if;\n       end if;\n    end Get_Immediate;\n@@ -625,13 +622,10 @@ package body Ada.Text_IO is\n          else\n             Available := True;\n \n-            if Is_Start_Of_Encoding\n-              (Character'Val (ch), File.WC_Method)\n-            then\n-               Item := Character'Val (ch);\n-            else\n-               Item := Get_Upper_Half_Char_Immed (Character'Val (ch), File);\n-            end if;\n+            Item :=\n+              (if Is_Start_Of_Encoding (Character'Val (ch), File.WC_Method)\n+               then Character'Val (ch)\n+               else Get_Upper_Half_Char_Immed (Character'Val (ch), File));\n          end if;\n       end if;\n "}, {"sha": "51d2f69a1b795547cf0fe84d2da509d7b860cbeb", "filename": "gcc/ada/exp_ch11.adb", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fexp_ch11.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fexp_ch11.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch11.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -1401,9 +1401,7 @@ package body Exp_Ch11 is\n \n       --  If a string expression is present, then the raise statement is\n       --  converted to a call:\n-\n       --     Raise_Exception (exception-name'Identity, string);\n-\n       --  and there is nothing else to do.\n \n       if Present (Expression (N)) then"}, {"sha": "e655cad763d65971dc3894fe5a472f3b7e1c2752", "filename": "gcc/ada/g-comlin.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fg-comlin.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fg-comlin.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-comlin.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -113,10 +113,10 @@ package body GNAT.Command_Line is\n    --  the beginning, else it is appended.\n \n    function Can_Have_Parameter (S : String) return Boolean;\n-   --  True if S can have a parameter.\n+   --  True if S can have a parameter\n \n    function Require_Parameter (S : String) return Boolean;\n-   --  True if S requires a parameter.\n+   --  True if S requires a parameter\n \n    function Actual_Switch (S : String) return String;\n    --  Remove any possible trailing '!', ':', '?' and '='"}, {"sha": "429a66ca55cce1790bde1b3407e689479ad0b3dd", "filename": "gcc/ada/g-expect-vms.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fg-expect-vms.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fg-expect-vms.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-expect-vms.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -1103,7 +1103,7 @@ package body GNAT.Expect is\n       --  currently we can cleanly close the unneeded ends of the pipes, but\n       --  this doesn't really matter.\n \n-      --  We could close Pipe1.Output, Pipe2.Input, Pipe3.Input.\n+      --  We could close Pipe1.Output, Pipe2.Input, Pipe3.Input\n \n       Dup2 (Pipe1.Input,  GNAT.OS_Lib.Standin);\n       Dup2 (Pipe2.Output, GNAT.OS_Lib.Standout);"}, {"sha": "b5a3354323ea2a313b501beb66e437c6ee47daf6", "filename": "gcc/ada/gnat1drv.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fgnat1drv.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fgnat1drv.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat1drv.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -87,7 +87,7 @@ procedure Gnat1drv is\n    --  There are various interactions between front end switch settings,\n    --  including debug switch settings and target dependent parameters.\n    --  This procedure takes care of properly handling these interactions.\n-   --  We do it after scanning out all the switches, that way we are not\n+   --  We do it after scanning out all the switches, so that we are not\n    --  depending on the order in which switches appear.\n \n    procedure Check_Bad_Body;\n@@ -174,7 +174,7 @@ procedure Gnat1drv is\n \n       --  Deal with forcing OpenVMS switches True if debug flag M is set, but\n       --  record the setting of Targparm.Open_VMS_On_Target in True_VMS_Target\n-      --  before doing this, so we know if we are in real openVMS or not!\n+      --  before doing this, so we know if we are in real OpenVMS or not!\n \n       Opt.True_VMS_Target := Targparm.OpenVMS_On_Target;\n "}, {"sha": "7f13dc24b15250af9588c663eed0f95cb07fd885", "filename": "gcc/ada/output.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Foutput.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Foutput.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Foutput.ads?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -91,7 +91,7 @@ package Output is\n    --  beginning of the line, wrapping around if it gets too long.\n \n    procedure Outdent;\n-   --  Decreases the current indentation level.\n+   --  Decreases the current indentation level\n \n    procedure Write_Char (C : Character);\n    --  Write one character to the standard output file. If the character is LF,"}, {"sha": "a8f9e15412e5dd46061e61a3c9163639e19012ec", "filename": "gcc/ada/prj-attr.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fprj-attr.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fprj-attr.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-attr.ads?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 2001-2008, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2001-2009, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -183,7 +183,7 @@ package Prj.Attr is\n    --  Default value of Package_Node_Id objects\n \n    Unknown_Package : constant Package_Node_Id;\n-   --  Value of an unknown package that has been found but is unknown.\n+   --  Value of an unknown package that has been found but is unknown\n \n    procedure Register_New_Package (Name : String; Id : out Package_Node_Id);\n    --  Add a new package. Fails if Name (the package name) is empty or is"}, {"sha": "e3766b5d70e60c6654b0c3f7d2365fdae3a9f6e8", "filename": "gcc/ada/prj-env.adb", "status": "modified", "additions": 22, "deletions": 13, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fprj-env.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fprj-env.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-env.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -384,8 +384,8 @@ package body Prj.Env is\n    --------------------------------\n \n    procedure Create_Config_Pragmas_File\n-     (For_Project          : Project_Id;\n-      In_Tree              : Project_Tree_Ref)\n+     (For_Project : Project_Id;\n+      In_Tree     : Project_Tree_Ref)\n    is\n       type Naming_Id is new Nat;\n       package Naming_Table is new GNAT.Dynamic_Tables\n@@ -436,8 +436,9 @@ package body Prj.Env is\n       procedure Check (Project : Project_Id; State : in out Integer) is\n          pragma Unreferenced (State);\n          Lang   : constant Language_Ptr :=\n-           Get_Language_From_Name (Project, \"ada\");\n+                    Get_Language_From_Name (Project, \"ada\");\n          Naming : Lang_Naming_Data;\n+\n       begin\n          if Current_Verbosity = High then\n             Write_Str (\"Checking project file \"\"\");\n@@ -450,6 +451,7 @@ package body Prj.Env is\n             if Current_Verbosity = High then\n                Write_Str (\"Languages does not contain Ada, nothing to do\");\n             end if;\n+\n             return;\n          end if;\n \n@@ -460,11 +462,11 @@ package body Prj.Env is\n          Current_Naming := Default_Naming;\n          while Current_Naming <= Naming_Table.Last (Namings)\n            and then Namings.Table (Current_Naming).Dot_Replacement =\n-              Naming.Dot_Replacement\n+                                                    Naming.Dot_Replacement\n            and then Namings.Table (Current_Naming).Casing =\n-              Naming.Casing\n+                                                    Naming.Casing\n            and then Namings.Table (Current_Naming).Separate_Suffix =\n-              Naming.Separate_Suffix\n+                                                    Naming.Separate_Suffix\n          loop\n             Current_Naming := Current_Naming + 1;\n          end loop;\n@@ -984,7 +986,7 @@ package body Prj.Env is\n       The_Body_Name     : Name_Id;\n \n    begin\n-      --  ??? Same block in Project_Od\n+      --  ??? Same block in Project_Of\n       Canonical_Case_File_Name (Original_Name);\n       Name_Len := Original_Name'Length;\n       Name_Buffer (1 .. Name_Len) := Original_Name;\n@@ -994,9 +996,12 @@ package body Prj.Env is\n          declare\n             Naming : constant Lang_Naming_Data := Lang.Config.Naming_Data;\n             Extended_Spec_Name : String :=\n-              Name & Namet.Get_Name_String (Naming.Spec_Suffix);\n+                                   Name & Namet.Get_Name_String\n+                                            (Naming.Spec_Suffix);\n             Extended_Body_Name : String :=\n-              Name & Namet.Get_Name_String (Naming.Body_Suffix);\n+                                   Name & Namet.Get_Name_String\n+                                            (Naming.Body_Suffix);\n+\n          begin\n             Canonical_Case_File_Name (Extended_Spec_Name);\n             Name_Len := Extended_Spec_Name'Length;\n@@ -1435,7 +1440,7 @@ package body Prj.Env is\n       Original_Name : String := Name;\n \n       Lang : constant Language_Ptr :=\n-        Get_Language_From_Name (Main_Project, \"ada\");\n+               Get_Language_From_Name (Main_Project, \"ada\");\n \n       Unit : Unit_Index;\n \n@@ -1455,9 +1460,12 @@ package body Prj.Env is\n          declare\n             Naming : Lang_Naming_Data renames Lang.Config.Naming_Data;\n             Extended_Spec_Name : String :=\n-              Name & Namet.Get_Name_String (Naming.Spec_Suffix);\n+                                   Name & Namet.Get_Name_String\n+                                            (Naming.Spec_Suffix);\n             Extended_Body_Name : String :=\n-              Name & Namet.Get_Name_String (Naming.Body_Suffix);\n+                                   Name & Namet.Get_Name_String\n+                                            (Naming.Body_Suffix);\n+\n          begin\n             Canonical_Case_File_Name (Extended_Spec_Name);\n             Name_Len := Extended_Spec_Name'Length;\n@@ -1469,14 +1477,15 @@ package body Prj.Env is\n             Name_Buffer (1 .. Name_Len) := Extended_Body_Name;\n             The_Body_Name := Name_Find;\n          end;\n+\n       else\n          The_Spec_Name := The_Original_Name;\n          The_Body_Name := The_Original_Name;\n       end if;\n \n       Unit := Units_Htable.Get_First (In_Tree.Units_HT);\n-\n       while Unit /= null loop\n+\n          --  Case of a body present\n \n          if Unit.File_Names (Impl) /= null then"}, {"sha": "97a2d363d11b44b8e3aa723720422cff0123f6d7", "filename": "gcc/ada/prj-env.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fprj-env.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fprj-env.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-env.ads?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -62,8 +62,8 @@ package Prj.Env is\n    --  to the Ada_Only mode.\n \n    procedure Create_Config_Pragmas_File\n-     (For_Project          : Project_Id;\n-      In_Tree              : Project_Tree_Ref);\n+     (For_Project : Project_Id;\n+      In_Tree     : Project_Tree_Ref);\n    --  If there needs to have SFN pragmas, either for non standard naming\n    --  schemes or for individual units.\n "}, {"sha": "4e49b50abd91a91bf23e0682336cf3b29eaf19ea", "filename": "gcc/ada/prj-nmsc.adb", "status": "modified", "additions": 55, "deletions": 33, "changes": 88, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fprj-nmsc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fprj-nmsc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-nmsc.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -93,6 +93,9 @@ package body Prj.Nmsc is\n    --  Hash table to store file names found in string list attribute\n    --  Source_Files or in a source list file, stored in hash table\n    --  Source_Names, used by procedure Get_Path_Names_And_Record_Sources.\n+   --\n+   --  ??? Should not be a global table, as it is needed only when processing\n+   --  a project\n \n    --  More documentation needed on what unit exceptions are about ???\n \n@@ -280,11 +283,10 @@ package body Prj.Nmsc is\n       Bodies         : out Array_Element_Id;\n       Specs          : out Array_Element_Id);\n    --  Check the naming scheme part of Data, and initialize the naming scheme\n-   --  data in the config of the various languages.\n-   --  Is_Config_File should be True if Project is a config file (.cgpr)\n-   --  This also returns the naming scheme exceptions for unit-based\n-   --  languages (Bodies and Specs are associative arrays mapping individual\n-   --  unit names to source file names).\n+   --  data in the config of the various languages. Is_Config_File should be\n+   --  True if Project is a config file (.cgpr) This also returns the naming\n+   --  scheme exceptions for unit-based languages (Bodies and Specs are\n+   --  associative arrays mapping individual unit names to source file names).\n \n    procedure Check_Configuration\n      (Project                   : Project_Id;\n@@ -476,11 +478,11 @@ package body Prj.Nmsc is\n    --  based languages)\n \n    procedure Compute_Unit_Name\n-     (File_Name       : File_Name_Type;\n-      Naming          : Lang_Naming_Data;\n-      Kind            : out Source_Kind;\n-      Unit            : out Name_Id;\n-      In_Tree         : Project_Tree_Ref);\n+     (File_Name : File_Name_Type;\n+      Naming    : Lang_Naming_Data;\n+      Kind      : out Source_Kind;\n+      Unit      : out Name_Id;\n+      In_Tree   : Project_Tree_Ref);\n    --  Check whether the file matches the naming scheme. If it does,\n    --  compute its unit name. If Unit is set to No_Name on exit, none of the\n    --  other out parameters are relevant.\n@@ -569,7 +571,10 @@ package body Prj.Nmsc is\n    procedure Remove_Source\n      (Id          : Source_Id;\n       Replaced_By : Source_Id);\n-   --  ??? needs comment\n+   --  Remove a file from the list of sources of a project.\n+   --  This might be because the file is replaced by another one in an\n+   --  extending project, or because a file was added as a naming exception\n+   --  but was not found in the end.\n \n    procedure Report_No_Sources\n      (Project      : Project_Id;\n@@ -2398,8 +2403,7 @@ package body Prj.Nmsc is\n       Lang_Index := Project.Languages;\n       while Lang_Index /= No_Language_Index loop\n          --  For all languages, Compiler_Driver needs to be specified. This is\n-         --  only necessary if we do intend to compile (not in GPS for\n-         --  instance)\n+         --  only needed if we do intend to compile (not in GPS for instance).\n \n          if Compiler_Driver_Mandatory\n            and then Lang_Index.Config.Compiler_Driver = No_File\n@@ -2409,7 +2413,7 @@ package body Prj.Nmsc is\n               (Project,\n                In_Tree,\n                \"?no compiler specified for language %%\" &\n-               \", ignoring all its sources\",\n+                 \", ignoring all its sources\",\n                No_Location);\n \n             if Lang_Index = Project.Languages then\n@@ -3124,13 +3128,15 @@ package body Prj.Nmsc is\n          Sep_Suffix_Loc : Source_Ptr;\n \n       begin\n+         --  If no language, then nothing to do\n+\n          if Ada = null then\n-            --  No language, thus nothing to do\n             return;\n          end if;\n \n          declare\n             Data : Lang_Naming_Data renames Ada.Config.Naming_Data;\n+\n          begin\n             --  The default value of separate suffix should be the same as the\n             --  body suffix, so we need to compute that first.\n@@ -3192,9 +3198,9 @@ package body Prj.Nmsc is\n             if Data.Spec_Suffix = Data.Body_Suffix then\n                Error_Msg\n                  (Project, In_Tree,\n-                  \"Body_Suffix (\"\"\" &\n-                  Get_Name_String (Data.Body_Suffix) &\n-                  \"\"\") cannot be the same as Spec_Suffix.\",\n+                  \"Body_Suffix (\"\"\"\n+                    &  Get_Name_String (Data.Body_Suffix)\n+                    &  \"\"\") cannot be the same as Spec_Suffix.\",\n                   Ada_Body_Suffix_Loc);\n             end if;\n \n@@ -3203,9 +3209,9 @@ package body Prj.Nmsc is\n             then\n                Error_Msg\n                  (Project, In_Tree,\n-                  \"Separate_Suffix (\"\"\" &\n-                  Get_Name_String (Data.Separate_Suffix) &\n-                  \"\"\") cannot be the same as Spec_Suffix.\",\n+                  \"Separate_Suffix (\"\"\"\n+                    & Get_Name_String (Data.Separate_Suffix)\n+                    & \"\"\") cannot be the same as Spec_Suffix.\",\n                   Sep_Suffix_Loc);\n             end if;\n          end;\n@@ -3233,8 +3239,8 @@ package body Prj.Nmsc is\n             Separate_Suffix => Separate_Suffix,\n             Sep_Suffix_Loc  => Sep_Suffix_Loc);\n \n-         --  For all unit based languages, if any, set the specified\n-         --  value of Dot_Replacement, Casing and/or Separate_Suffix. Do not\n+         --  For all unit based languages, if any, set the specified value\n+         --  of Dot_Replacement, Casing and/or Separate_Suffix. Do not\n          --  systematically overwrite, since the defaults come from the\n          --  configuration file\n \n@@ -4197,6 +4203,8 @@ package body Prj.Nmsc is\n          end if;\n       end Add_Language;\n \n+   --  Start of processing for Check_Programming_Languages\n+\n    begin\n       Project.Languages := null;\n       Languages :=\n@@ -4230,6 +4238,7 @@ package body Prj.Nmsc is\n                         \"no languages defined for this project\",\n                         Project.Location);\n                      Def_Lang_Id := No_Name;\n+\n                   else\n                      Def_Lang_Id := Name_Ada;\n                   end if;\n@@ -4251,8 +4260,8 @@ package body Prj.Nmsc is\n \n          else\n             declare\n-               Current           : String_List_Id := Languages.Values;\n-               Element           : String_Element;\n+               Current : String_List_Id := Languages.Values;\n+               Element : String_Element;\n \n             begin\n                --  If there are no languages declared, there are no sources\n@@ -4299,6 +4308,7 @@ package body Prj.Nmsc is\n       Extending    : Boolean) return Boolean\n    is\n       Prj : Project_Id;\n+\n    begin\n       if P = Root_Project then\n          return True;\n@@ -6026,11 +6036,11 @@ package body Prj.Nmsc is\n    -----------------------\n \n    procedure Compute_Unit_Name\n-     (File_Name       : File_Name_Type;\n-      Naming          : Lang_Naming_Data;\n-      Kind            : out Source_Kind;\n-      Unit            : out Name_Id;\n-      In_Tree         : Project_Tree_Ref)\n+     (File_Name : File_Name_Type;\n+      Naming    : Lang_Naming_Data;\n+      Kind      : out Source_Kind;\n+      Unit      : out Name_Id;\n+      In_Tree   : Project_Tree_Ref)\n    is\n       Filename : constant String := Get_Name_String (File_Name);\n       Last     : Integer := Filename'Last;\n@@ -6048,6 +6058,7 @@ package body Prj.Nmsc is\n \n       Unit_Except : Unit_Exception;\n       Masked      : Boolean  := False;\n+\n    begin\n       Unit := No_Name;\n       Kind := Spec;\n@@ -6056,6 +6067,7 @@ package body Prj.Nmsc is\n          if Current_Verbosity = High then\n             Write_Line (\"  No dot_replacement specified\");\n          end if;\n+\n          return;\n       end if;\n \n@@ -6087,6 +6099,7 @@ package body Prj.Nmsc is\n          if Current_Verbosity = High then\n             Write_Line (\"   No matching suffix\");\n          end if;\n+\n          return;\n       end if;\n \n@@ -6102,6 +6115,7 @@ package body Prj.Nmsc is\n                      if Current_Verbosity = High then\n                         Write_Line (\"  Invalid casing\");\n                      end if;\n+\n                      return;\n                   end if;\n                end loop;\n@@ -6114,6 +6128,7 @@ package body Prj.Nmsc is\n                      if Current_Verbosity = High then\n                         Write_Line (\"  Invalid casing\");\n                      end if;\n+\n                      return;\n                   end if;\n                end loop;\n@@ -6128,7 +6143,7 @@ package body Prj.Nmsc is\n \n       declare\n          Dot_Repl : constant String :=\n-           Get_Name_String (Naming.Dot_Replacement);\n+                      Get_Name_String (Naming.Dot_Replacement);\n \n       begin\n          if Dot_Repl /= \".\" then\n@@ -6137,12 +6152,14 @@ package body Prj.Nmsc is\n                   if Current_Verbosity = High then\n                      Write_Line (\"   Invalid name, contains dot\");\n                   end if;\n+\n                   return;\n                end if;\n             end loop;\n \n             Replace_Into_Name_Buffer\n               (Filename (Filename'First .. Last), Dot_Repl, '.');\n+\n          else\n             Name_Len := Last - Filename'First + 1;\n             Name_Buffer (1 .. Name_Len) := Filename (Filename'First .. Last);\n@@ -6162,7 +6179,7 @@ package body Prj.Nmsc is\n             S3 : constant Character := Name_Buffer (3);\n \n          begin\n-            if S1 = 'a'\n+            if        S1 = 'a'\n               or else S1 = 'g'\n               or else S1 = 'i'\n               or else S1 = 's'\n@@ -7288,7 +7305,6 @@ package body Prj.Nmsc is\n \n       else\n          if Name_Loc.Found then\n-\n             --  Check if it is OK to have the same file name in several\n             --  source directories.\n \n@@ -7309,6 +7325,12 @@ package body Prj.Nmsc is\n                Check_Name := True;\n \n             else\n+               --  ??? Issue: there could be several entries for the same\n+               --  source file in the list of sources, in case the file\n+               --  contains multiple units. We should share the data as much\n+               --  as possible, and more importantly set the path for all\n+               --  instances.\n+\n                Name_Loc.Source.Path := (Canonical_Path, Path);\n \n                Source_Paths_Htable.Set"}, {"sha": "038db362f230373cb167b9074438010fc4c61729", "filename": "gcc/ada/s-interr-hwint.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-interr-hwint.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-interr-hwint.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-interr-hwint.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -1078,7 +1078,7 @@ package body System.Interrupts is\n \n             POP.Write_Lock (Self_Id);\n \n-            --  Unassociate the interrupt handler.\n+            --  Unassociate the interrupt handler\n \n             Semaphore_ID_Map (Interrupt) := 0;\n "}, {"sha": "a1d04975ea8728c133efcfd6239cd8acb5b5f528", "filename": "gcc/ada/s-osinte-vms.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-osinte-vms.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-osinte-vms.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-osinte-vms.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -7,7 +7,7 @@\n --                                  B o d y                                 --\n --                                                                          --\n --             Copyright (C) 1991-1994, Florida State University            --\n---                     Copyright (C) 1995-2006, AdaCore                     --\n+--                     Copyright (C) 1995-2009, AdaCore                     --\n --                                                                          --\n -- GNARL is free software; you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -32,7 +32,7 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n---  This is a OpenVMS/Alpha version of this package.\n+--  This is a OpenVMS/Alpha version of this package\n \n --  This package encapsulates all direct interfaces to OS services\n --  that are needed by children of System."}, {"sha": "7e6d11d51fbb5f820d702e48082cc31a1d3b8657", "filename": "gcc/ada/s-secsta.ads", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-secsta.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-secsta.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-secsta.ads?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -83,6 +83,7 @@ package System.Secondary_Stack is\n    procedure SS_Release (M : Mark_Id);\n    --  Restore the state of the stack corresponding to the mark M. If an\n    --  additional chunk have been allocated, it will never be freed during a\n+   --  ??? missing comment here\n \n    function SS_Get_Max return Long_Long_Integer;\n    --  Return maximum used space in storage units for the current secondary"}, {"sha": "9552d570fc0b6f4634f8422e497a806e2a09ba55", "filename": "gcc/ada/s-stchop-vxworks.adb", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-stchop-vxworks.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-stchop-vxworks.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-stchop-vxworks.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -85,10 +85,12 @@ package body System.Stack_Checking.Operations is\n \n    procedure Initialize_Stack_Limit is\n    begin\n-      --  For the environment task.\n+      --  For the environment task\n+\n       Set_Stack_Limit_For_Current_Task;\n \n-      --  Will be called by every created task.\n+      --  Will be called by every created task\n+\n       Set_Stack_Limit_Hook := Set_Stack_Limit_For_Current_Task'Access;\n    end Initialize_Stack_Limit;\n \n@@ -99,10 +101,10 @@ package body System.Stack_Checking.Operations is\n    procedure Set_Stack_Limit_For_Current_Task is\n       use Interfaces.C;\n \n-      --  Import from VxWorks.\n       function Task_Var_Add (Tid : Interfaces.C.int; Var : Address)\n                             return Interfaces.C.int;\n       pragma Import (C, Task_Var_Add, \"taskVarAdd\");\n+      --  Import from VxWorks\n \n       type OS_Stack_Info is record\n          Size  : Interfaces.C.int;\n@@ -120,9 +122,11 @@ package body System.Stack_Checking.Operations is\n \n       Stack_Info : aliased OS_Stack_Info;\n \n-      Limit      : System.Address;\n+      Limit : System.Address;\n+\n    begin\n-      --  Get stack bounds from VxWorks.\n+      --  Get stack bounds from VxWorks\n+\n       Get_Stack_Info (Stack_Info'Access);\n \n       if Stack_Grows_Down then\n@@ -131,7 +135,8 @@ package body System.Stack_Checking.Operations is\n          Limit := Stack_Info.Base + Storage_Offset (Stack_Info.Size);\n       end if;\n \n-      --  Note: taskVarAdd implicitly calls taskVarInit if required.\n+      --  Note: taskVarAdd implicitly calls taskVarInit if required\n+\n       if Task_Var_Add (0, Stack_Limit'Address) = 0 then\n          Stack_Limit := Limit;\n       end if;"}, {"sha": "67952b103c6a2959ae66f66ea4345a38ec8034e0", "filename": "gcc/ada/s-stusta.ads", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-stusta.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-stusta.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-stusta.ads?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -1,8 +1,8 @@\n ------------------------------------------------------------------------------\n --                                                                          --\n---                  GNAT RUN-TIME LIBRARY (GNARL) COMPONENTS                --\n+--                 GNAT RUN-TIME LIBRARY (GNARL) COMPONENTS                 --\n --                                                                          --\n---             S Y S T E M . S T A C K _ U S A G E . T AS K I N G           --\n+--            S Y S T E M . S T A C K _ U S A G E . T A S K I N G           --\n --                                                                          --\n --                                  S p e c                                 --\n --                                                                          --\n@@ -60,7 +60,7 @@ package System.Stack_Usage.Tasking is\n       \"__gnat_tasks_stack_usage_report_current_task\");\n \n    subtype Stack_Usage_Result is System.Stack_Usage.Task_Result;\n-   --  This type is a descriptor for task stack usage result.\n+   --  This type is a descriptor for task stack usage result\n \n    type Stack_Usage_Result_Array is\n      array (Positive range <>) of Stack_Usage_Result;"}, {"sha": "cf2a09e2a243c15f6e483e8a5de93e33f19d85ad", "filename": "gcc/ada/s-taprop-solaris.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-taprop-solaris.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-taprop-solaris.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-taprop-solaris.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -1136,7 +1136,7 @@ package body System.Task_Primitives.Operations is\n    --  System.Real_Time.Time_Span in the same way, i.e., as a 64-bit count of\n    --  nanoseconds.\n \n-   --  This allows us to always pass the timeout value as a Duration.\n+   --  This allows us to always pass the timeout value as a Duration\n \n    --  ???\n    --  We are taking liberties here with the semantics of the delays. That is,"}, {"sha": "0cc43f386803eea7aab5341389e5cc052f8a09bd", "filename": "gcc/ada/s-taskin.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-taskin.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-taskin.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-taskin.ads?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -200,7 +200,7 @@ package System.Tasking is\n       --  completion event/signal to occur.\n \n       Activating,\n-      --  Task has been created and is being made Runnable.\n+      --  Task has been created and is being made Runnable\n \n       Acceptor_Delay_Sleep\n       --  Task is waiting on an selective wait statement"}, {"sha": "c987f6e27f3265e6ac35126cc766b76ec7635981", "filename": "gcc/ada/s-tpopsp-posix-foreign.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-tpopsp-posix-foreign.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-tpopsp-posix-foreign.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-tpopsp-posix-foreign.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -94,7 +94,7 @@ package body Specific is\n    begin\n       Result := pthread_getspecific (ATCB_Key);\n \n-      --  If the key value is Null, then it is a non-Ada task.\n+      --  If the key value is Null then it is a non-Ada task\n \n       if Result /= System.Null_Address then\n          return To_Task_Id (Result);"}, {"sha": "e7273a586fc1739cf40358e32eef8f14a70be2d1", "filename": "gcc/ada/s-tpopsp-posix.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-tpopsp-posix.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-tpopsp-posix.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-tpopsp-posix.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -29,7 +29,7 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n---  This is a POSIX-like version of this package.\n+--  This is a POSIX-like version of this package\n \n separate (System.Task_Primitives.Operations)\n package body Specific is"}, {"sha": "85a66177d8d818346c8e30a84f35dda8f78bbff2", "filename": "gcc/ada/s-trafor-default.adb", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-trafor-default.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fs-trafor-default.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-trafor-default.adb?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                  B o d y                                 --\n --                                                                          --\n---           Copyright (C) 2001-2009 Free Software Foundation, Inc.         --\n+--          Copyright (C) 2001-2009, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNARL is free software;  you can redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -66,25 +66,25 @@ package body System.Traces.Format is\n \n    function Append\n      (Source : String_Trace;\n-      Annex  : String)\n-      return   String_Trace\n+      Annex  : String) return String_Trace\n    is\n       Result        : String_Trace := (others => ' ');\n-      Source_Length : Integer := 1;\n       Annex_Length  : Integer := Annex'Length;\n+      Source_Length : Integer;\n \n    begin\n       if Parameters.Runtime_Traces then\n \n-         --  First we determine the size used, without the spaces at the\n-         --  end, if a String_Trace is present. Look at\n-         --  System.Traces.Tasking for examples.\n+         --  First we determine the size used, without the spaces at the end,\n+         --  if a String_Trace is present. Look at System.Traces.Tasking for\n+         --  examples.\n \n+         Source_Length := 1;\n          while Source (Source_Length) /= ASCII.NUL loop\n             Source_Length := Source_Length + 1;\n          end loop;\n \n-         --  Then we fill the string.\n+         --  Then we fill the string\n \n          if Source_Length - 1 + Annex_Length <= Max_Size then\n             Result (1 .. Source_Length - 1) :=\n@@ -97,6 +97,7 @@ package body System.Traces.Format is\n \n             Result (Source_Length + Annex_Length + 1 .. Max_Size) :=\n               (others => ' ');\n+\n          else\n             Result (1 .. Source_Length - 1) := Source (1 .. Source_Length - 1);\n             Result (Source_Length .. Max_Size - 1) :="}, {"sha": "4fe0700a4e43f6528ab87ba6b310db9f22ec83e2", "filename": "gcc/ada/scans.ads", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fscans.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84157c9a3fd3267ba2264ec2ba3f4f48fba0b887/gcc%2Fada%2Fscans.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fscans.ads?ref=84157c9a3fd3267ba2264ec2ba3f4f48fba0b887", "patch": "@@ -363,7 +363,7 @@ package Scans is\n    --  Pointer to first character of current token\n \n    Current_Line_Start : Source_Ptr := No_Location; -- init for -gnatVa\n-   --  Pointer to first character of line containing current token.\n+   --  Pointer to first character of line containing current token\n \n    Start_Column : Column_Number := No_Column_Number; -- init for -gnatVa\n    --  Starting column number (zero origin) of the first non-blank character\n@@ -444,6 +444,11 @@ package Scans is\n    --  Is it really right for this to be a Name rather than a String, what\n    --  about the case of Wide_Wide_Characters???\n \n+   Inside_Conditional_Expression : Nat := 0;\n+   --  This is a counter that is set non-zero while scanning out a conditional\n+   --  expression (incremented on entry, decremented on exit). It is used to\n+   --  disconnect format checks that normally apply to keywords THEN, ELSE etc.\n+\n    --------------------------------------------------------\n    -- Procedures for Saving and Restoring the Scan State --\n    --------------------------------------------------------"}]}