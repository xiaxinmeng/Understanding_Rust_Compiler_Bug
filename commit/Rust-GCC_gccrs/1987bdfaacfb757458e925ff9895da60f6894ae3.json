{"sha": "1987bdfaacfb757458e925ff9895da60f6894ae3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTk4N2JkZmFhY2ZiNzU3NDU4ZTkyNWZmOTg5NWRhNjBmNjg5NGFlMw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-07-21T21:46:38Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-07-21T21:46:38Z"}, "message": "(<ftw.h>): Don't apply specialized fixes to <ftw.h> if we are on Solaris.\n\n(<ftw.h>):  Don't apply specialized fixes to <ftw.h>\nif we are on Solaris.  They are not needed in that case.\n\nFrom-SVN: r4961", "tree": {"sha": "3ca6fa1c4a341113786ae3f97d6d82feacb61071", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3ca6fa1c4a341113786ae3f97d6d82feacb61071"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1987bdfaacfb757458e925ff9895da60f6894ae3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1987bdfaacfb757458e925ff9895da60f6894ae3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1987bdfaacfb757458e925ff9895da60f6894ae3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1987bdfaacfb757458e925ff9895da60f6894ae3/comments", "author": null, "committer": null, "parents": [{"sha": "ca5c3ef417b37ef662d627ee9f1d5c8a3a31b6ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca5c3ef417b37ef662d627ee9f1d5c8a3a31b6ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca5c3ef417b37ef662d627ee9f1d5c8a3a31b6ff"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "6c1d4aaa75b6ee3a4d23383ac362e0520cf7b1f1", "filename": "gcc/fixinc.svr4", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1987bdfaacfb757458e925ff9895da60f6894ae3/gcc%2Ffixinc.svr4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1987bdfaacfb757458e925ff9895da60f6894ae3/gcc%2Ffixinc.svr4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.svr4?ref=1987bdfaacfb757458e925ff9895da60f6894ae3", "patch": "@@ -405,7 +405,13 @@ extern caddr_t mmap ();\\\n   rm -f /tmp/$base /tmp/$base.sed\n fi\n \n-# Fix declarations of `ftw' and `nftw' in <ftw.h>.\n+# Fix declarations of `ftw' and `nftw' in <ftw.h>.  On some/most SVR4 systems\n+# the file <ftw.h> contains extern declarations of these functions followed\n+# by explicitly `static' definitions of these functions... and that's not\n+# allowed according to ANSI C.  (Note however that on Solaris, this header\n+# file glitch has been pre-fixed by Sun.  In the Solaris version of <ftw.h>\n+# there are no static definitions of any function so we don't need to do\n+# any of this stuff when on Solaris.\n \n file=ftw.h\n base=`basename $file`\n@@ -418,7 +424,11 @@ else\n     file_to_fix=\"\"\n   fi\n fi\n-if [ \\! -z \"$file_to_fix\" ]; then\n+if test -z \"$file_to_fix\" || grep 'define\tftw' $file_to_fix > /dev/null; then\n+# Either we have no <ftw.h> file at all, or else we have the pre-fixed Solaris\n+# one.  Either way, we don't have to do anything.\n+  true\n+else\n   echo Checking $file_to_fix\n   cp $file_to_fix /tmp/$base\n   chmod +w /tmp/$base"}]}