{"sha": "cfd2938f069598e9be25484f16ac045606c69e72", "node_id": "C_kwDOANBUbNoAKGNmZDI5MzhmMDY5NTk4ZTliZTI1NDg0ZjE2YWMwNDU2MDZjNjllNzI", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2022-09-26T06:58:57Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-09-26T06:58:57Z"}, "message": "Merge #1532\n\n1532: attributes: Add #[macro_use] as builtin r=CohenArthur a=CohenArthur\n\nFixes #1531 \r\n\r\nI think the checking for builtin attributes should definitely be moved to the `AttributeChecker` visitor. It's also a bit messy at the moment considering it isn't in effect on *everything*, simply some nodes such as `Module`s. Thoughts?\n\nCo-authored-by: Arthur Cohen <arthur.cohen@embecosm.com>", "tree": {"sha": "201ecfb8422d475e43b157070b10b25afae86fce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/201ecfb8422d475e43b157070b10b25afae86fce"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cfd2938f069598e9be25484f16ac045606c69e72", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjMU2xCRBK7hj4Ov3rIwAAX+YIADaeHpjbDbcr+RbJ9yxIA2xA\nJLcef1f5q50HyVe9GTfIniO5EmafZDYAdN8TGmv+SM3inHzUqbM47zvX5MYWkpiq\n2FrIsbyweWx+VZXqfjvlQVpZxlul7Mjhg6vd7Q3k6whLDCsl/5ll2IhKuAiF92Av\n4Euhs+jTnnpKx/ug0qoH3ddAM2X5rFEFggfgGuPtW7OB9M0NPQUTckgELB8C4AEv\n6V3Fdt9wVOnzkfk0DsXKEqK6UaHM9vURSsd7PeoLWyYSWEZZ7ZTcjd0Un3nJVGGh\nJMtzWdJH23g+htNVmv35CYlMGNVOCUPWqF3wL3HpQbepANqE1vDGp8uAGU+YuBk=\n=UxwU\n-----END PGP SIGNATURE-----\n", "payload": "tree 201ecfb8422d475e43b157070b10b25afae86fce\nparent 6da3cab7b0acf5dc363c85069bef716923ddf90c\nparent c71b174a29cbd85a4961686eacd02d1fe2a36ea3\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1664175537 +0000\ncommitter GitHub <noreply@github.com> 1664175537 +0000\n\nMerge #1532\n\n1532: attributes: Add #[macro_use] as builtin r=CohenArthur a=CohenArthur\n\nFixes #1531 \r\n\r\nI think the checking for builtin attributes should definitely be moved to the `AttributeChecker` visitor. It's also a bit messy at the moment considering it isn't in effect on *everything*, simply some nodes such as `Module`s. Thoughts?\n\nCo-authored-by: Arthur Cohen <arthur.cohen@embecosm.com>\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfd2938f069598e9be25484f16ac045606c69e72", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cfd2938f069598e9be25484f16ac045606c69e72", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfd2938f069598e9be25484f16ac045606c69e72/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6da3cab7b0acf5dc363c85069bef716923ddf90c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6da3cab7b0acf5dc363c85069bef716923ddf90c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6da3cab7b0acf5dc363c85069bef716923ddf90c"}, {"sha": "c71b174a29cbd85a4961686eacd02d1fe2a36ea3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c71b174a29cbd85a4961686eacd02d1fe2a36ea3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c71b174a29cbd85a4961686eacd02d1fe2a36ea3"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "509f70fe4db4e7c0c3ee7bef0dbaffc9fb051ef6", "filename": "gcc/rust/util/rust-attributes.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cfd2938f069598e9be25484f16ac045606c69e72/gcc%2Frust%2Futil%2Frust-attributes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cfd2938f069598e9be25484f16ac045606c69e72/gcc%2Frust%2Futil%2Frust-attributes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Futil%2Frust-attributes.cc?ref=cfd2938f069598e9be25484f16ac045606c69e72", "patch": "@@ -40,6 +40,7 @@ static const BuiltinAttrDefinition __definitions[]\n      {\"no_mangle\", CODE_GENERATION},\n      {\"repr\", CODE_GENERATION},\n      {\"path\", EXPANSION},\n+     {\"macro_use\", NAME_RESOLUTION},\n      // From now on, these are reserved by the compiler and gated through\n      // #![feature(rustc_attrs)]\n      {\"rustc_inherit_overflow_checks\", CODE_GENERATION}};"}, {"sha": "f87df08362431bdc24b853fa6c88ee4e8b5a685f", "filename": "gcc/testsuite/rust/compile/macro_export_1.rs", "status": "added", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cfd2938f069598e9be25484f16ac045606c69e72/gcc%2Ftestsuite%2Frust%2Fcompile%2Fmacro_export_1.rs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cfd2938f069598e9be25484f16ac045606c69e72/gcc%2Ftestsuite%2Frust%2Fcompile%2Fmacro_export_1.rs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Frust%2Fcompile%2Fmacro_export_1.rs?ref=cfd2938f069598e9be25484f16ac045606c69e72", "patch": "@@ -0,0 +1,2 @@\n+#[macro_use]\n+mod foo {}"}]}