{"sha": "0500a9f180ecff860a42a8658509feebb14f2d36", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDUwMGE5ZjE4MGVjZmY4NjBhNDJhODY1ODUwOWZlZWJiMTRmMmQzNg==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2009-04-22T17:39:33Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2009-04-22T17:39:33Z"}, "message": "g++.dg/tree-ssa/ehcleanup-1.C: New testcase.\n\nFrom-SVN: r146603", "tree": {"sha": "043ef1b361b8f5a6e64457c4aaab158c68fd293d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/043ef1b361b8f5a6e64457c4aaab158c68fd293d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0500a9f180ecff860a42a8658509feebb14f2d36", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0500a9f180ecff860a42a8658509feebb14f2d36", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0500a9f180ecff860a42a8658509feebb14f2d36", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0500a9f180ecff860a42a8658509feebb14f2d36/comments", "author": null, "committer": null, "parents": [{"sha": "4c7c486a4e03b5d1e78ba3680bab4aa89c2f50c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c7c486a4e03b5d1e78ba3680bab4aa89c2f50c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c7c486a4e03b5d1e78ba3680bab4aa89c2f50c4"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "8fd34331d2f65e204b8801e1fe0c476b6309bc94", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0500a9f180ecff860a42a8658509feebb14f2d36/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0500a9f180ecff860a42a8658509feebb14f2d36/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0500a9f180ecff860a42a8658509feebb14f2d36", "patch": "@@ -1,3 +1,7 @@\n+2009-04-22  Jan Hubicka  <jh@suse.cz>\n+\n+\t* g++.dg/tree-ssa/ehcleanup-1.C: New testcase.\n+\n 2009-04-22  Steve Ellcey  <sje@cup.hp.com>\n \n \tPR testsuite/39623"}, {"sha": "f4c81d3528233084e94032911d2fc8e433215412", "filename": "gcc/testsuite/g++.dg/tree-ssa/ehcleanup-1.C", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0500a9f180ecff860a42a8658509feebb14f2d36/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Fehcleanup-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0500a9f180ecff860a42a8658509feebb14f2d36/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Fehcleanup-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Fehcleanup-1.C?ref=0500a9f180ecff860a42a8658509feebb14f2d36", "patch": "@@ -0,0 +1,24 @@\n+// { dg-options \"-O2 -fdump-tree-ehcleanup1\" }\n+extern void can_throw ();\n+class a\n+{\n+public:\n+  ~a ()\n+  {\n+    if (0)\n+      can_throw ();\n+  }\n+};\n+void\n+t (void)\n+{\n+  class a a;\n+  can_throw ();\n+}\n+// We ought to remove implicit cleanup, since destructor is empty. \n+// { dg-final { scan-tree-dump-times \"Empty EH handler\" 1 \"ehcleanup1\" } }\n+//\n+// And as a result also contained control flow.\n+// { dg-final { scan-tree-dump-times \"Removing unreachable\" 1 \"ehcleanup1\" } }\n+//\n+// { dg-final { cleanup-tree-dump \"ehcleanup1\" } }"}]}