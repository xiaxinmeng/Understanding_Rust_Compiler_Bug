{"sha": "2fe1a1b888e204fd0ccc4e9c96b7065344e879aa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmZlMWExYjg4OGUyMDRmZDBjY2M0ZTljOTZiNzA2NTM0NGU4NzlhYQ==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@arm.com", "date": "2017-10-10T13:58:30Z"}, "committer": {"name": "Bin Cheng", "email": "amker@gcc.gnu.org", "date": "2017-10-10T13:58:30Z"}, "message": "tree-vect-loop-manip.c (rename_variables_in_bb): Rename PHI nodes when copying loop nest with only one inner loop.\n\n\t* tree-vect-loop-manip.c (rename_variables_in_bb): Rename PHI nodes\n\twhen copying loop nest with only one inner loop.\n\n\tgcc/testsuite\n\t* gcc.dg/tree-ssa/ldist-34.c: New test.\n\nFrom-SVN: r253586", "tree": {"sha": "192ae83cc0b42393777e1257126d93dc5903271d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/192ae83cc0b42393777e1257126d93dc5903271d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2fe1a1b888e204fd0ccc4e9c96b7065344e879aa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fe1a1b888e204fd0ccc4e9c96b7065344e879aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2fe1a1b888e204fd0ccc4e9c96b7065344e879aa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fe1a1b888e204fd0ccc4e9c96b7065344e879aa/comments", "author": null, "committer": null, "parents": [{"sha": "fb1fe1f3cc3a65f3734c29b4a2280f93b76eb7cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb1fe1f3cc3a65f3734c29b4a2280f93b76eb7cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb1fe1f3cc3a65f3734c29b4a2280f93b76eb7cc"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "ed487273fb908db9766b9e7e1b371024cb550372", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2fe1a1b888e204fd0ccc4e9c96b7065344e879aa/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2fe1a1b888e204fd0ccc4e9c96b7065344e879aa/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2fe1a1b888e204fd0ccc4e9c96b7065344e879aa", "patch": "@@ -1,3 +1,8 @@\n+2017-10-10  Bin Cheng  <bin.cheng@arm.com>\n+\n+\t* tree-vect-loop-manip.c (rename_variables_in_bb): Rename PHI nodes\n+\twhen copying loop nest with only one inner loop.\n+\n 2017-10-10  Richard Biener  <rguenther@suse.de>\n \n \t* tree-cfgcleanup.c (cleanup_tree_cfg_noloop): Avoid compacting"}, {"sha": "78a0cc40f9a6b9a2e388a6884d74716f95be336b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2fe1a1b888e204fd0ccc4e9c96b7065344e879aa/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2fe1a1b888e204fd0ccc4e9c96b7065344e879aa/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2fe1a1b888e204fd0ccc4e9c96b7065344e879aa", "patch": "@@ -1,3 +1,7 @@\n+2017-10-10  Bin Cheng  <bin.cheng@arm.com>\n+\n+\t* gcc.dg/tree-ssa/ldist-34.c: New test.\n+\n 2017-10-10  Bin Cheng  <bin.cheng@arm.com>\n \n \t* gcc.dg/tree-ssa/ldist-27.c: New test."}, {"sha": "3d68a851f5733f216955ba4b350fa61e86e63184", "filename": "gcc/testsuite/gcc.dg/tree-ssa/ldist-34.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2fe1a1b888e204fd0ccc4e9c96b7065344e879aa/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fldist-34.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2fe1a1b888e204fd0ccc4e9c96b7065344e879aa/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fldist-34.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fldist-34.c?ref=2fe1a1b888e204fd0ccc4e9c96b7065344e879aa", "patch": "@@ -0,0 +1,15 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -ftree-loop-distribution\" } */\n+\n+#define X (3.0)\n+int b, c;\n+double a[30000];\n+int foo () {\n+  for (int i = 0; i < 100; ++i) {\n+    for (int j = 0; j < c; ++j)\n+      if (b)\n+        a[0] = b;\n+    a[i * 100] = a[1] = X;\n+  }\n+  return 0;\n+}"}, {"sha": "d608533714769c28a8e6f5e438c7e37ae3a171a3", "filename": "gcc/tree-vect-loop-manip.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2fe1a1b888e204fd0ccc4e9c96b7065344e879aa/gcc%2Ftree-vect-loop-manip.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2fe1a1b888e204fd0ccc4e9c96b7065344e879aa/gcc%2Ftree-vect-loop-manip.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-loop-manip.c?ref=2fe1a1b888e204fd0ccc4e9c96b7065344e879aa", "patch": "@@ -117,8 +117,6 @@ rename_variables_in_bb (basic_block bb, bool rename_from_outer_loop)\n \t\t      || single_pred (e->src) != outer_loop->header)\n \t\t    continue;\n \t\t}\n-\t      else\n-\t\tcontinue;\n \t    }\n \t}\n       for (gphi_iterator gsi = gsi_start_phis (bb); !gsi_end_p (gsi);"}]}