{"sha": "3534107305a34b3d49c98b9582f1891114d718fe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzUzNDEwNzMwNWEzNGIzZDQ5Yzk4Yjk1ODJmMTg5MTExNGQ3MThmZQ==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-09-24T21:34:14Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-09-24T21:34:14Z"}, "message": "config.gcc: Clean up and reindent $with_cpu=yes|no clause and the section giving $with_cpu...\n\n\t* config.gcc: Clean up and reindent $with_cpu=yes|no clause and\n\tthe section giving $with_cpu defaults by target.\n\nFrom-SVN: r71738", "tree": {"sha": "12e2d21ddd8fa2224245a9707c49cac2ad81da45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12e2d21ddd8fa2224245a9707c49cac2ad81da45"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3534107305a34b3d49c98b9582f1891114d718fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3534107305a34b3d49c98b9582f1891114d718fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3534107305a34b3d49c98b9582f1891114d718fe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3534107305a34b3d49c98b9582f1891114d718fe/comments", "author": null, "committer": null, "parents": [{"sha": "77cf10c933b97caee80b4f0bbaddb880533b5b3a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77cf10c933b97caee80b4f0bbaddb880533b5b3a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77cf10c933b97caee80b4f0bbaddb880533b5b3a"}], "stats": {"total": 182, "additions": 90, "deletions": 92}, "files": [{"sha": "6a965c9a8fd2d431bdd253d342a96bcf1a47ed06", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3534107305a34b3d49c98b9582f1891114d718fe/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3534107305a34b3d49c98b9582f1891114d718fe/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3534107305a34b3d49c98b9582f1891114d718fe", "patch": "@@ -1,5 +1,8 @@\n 2003-09-24  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n+\t* config.gcc: Clean up and reindent $with_cpu=yes|no clause and\n+\tthe section giving $with_cpu defaults by target.\n+\n \t* config.gcc (arm-*-coff*, armel-*-coff*, arm*-*-ecos-elf,\n \tarm*-*-elf, ep9312-*-elf, arm*-wince-pe*, arm*-*-pe*, arm*-*-pe*,\n \trs6000-ibm-aix4.[3456789]*, powerpc-ibm-aix4.[3456789]*,"}, {"sha": "23064a292ca6b8716fcafc0c2646ae673f500ab4", "filename": "gcc/config.gcc", "status": "modified", "additions": 87, "deletions": 92, "changes": 179, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3534107305a34b3d49c98b9582f1891114d718fe/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3534107305a34b3d49c98b9582f1891114d718fe/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=3534107305a34b3d49c98b9582f1891114d718fe", "patch": "@@ -2216,99 +2216,94 @@ esac\n \n # Support for --with-cpu and related options (and a few unrelated options,\n # too).\n-\tcase \"x$with_cpu\" in\n-\txyes | xno)\n-\t\techo \"--with-cpu must be passed a value\" 1>&2\n-\t\texit 1\n-\t\t;;\n-\tesac\n+case ${with_cpu} in\n+  yes | no)\n+    echo \"--with-cpu must be passed a value\" 1>&2\n+    exit 1\n+    ;;\n+esac\n \n-\t# If there is no $with_cpu option, try to infer one from ${target}.\n-\t# This block sets nothing except for with_cpu.\n-\tif test x$with_cpu = x\n-\tthen\n-\t\tcase ${target} in\n-\t\tep9312-*-*)\n-\t\t\t# A Cirrus ARM variant.\n-\t\t\twith_cpu=\"ep9312\"\n-\t\t\t;;\n-\t\ti486-*-*)\n-\t\t\twith_cpu=i486\n-\t\t\t;;\n-\t\ti586-*-*)\n-\t\t\tcase $target_alias in\n-\t\t\tk6_2-*)\n-\t\t\t\twith_cpu=k6-2\n-\t\t\t\t;;\n-\t\t\tk6_3-*)\n-\t\t\t\twith_cpu=k6-3\n-\t\t\t\t;;\n-\t\t\tk6-*)\n-\t\t\t\twith_cpu=k6\n-\t\t\t\t;;\n-\t\t\tpentium_mmx-*|winchip_c6-*|winchip2-*|c3-*)\n-\t\t\t\twith_cpu=pentium-mmx\n-\t\t\t\t;;\n-\t\t\t*)\n-\t\t\t\twith_cpu=pentium\n-\t\t\t\t;;\n-\t\t\tesac\n-\t\t\t;;\n-\t\ti686-*-* | i786-*-*)\n-\t\t\tcase $target_alias in\n-\t\t\tk8-*)\n-\t\t\t\twith_cpu=k8\n-\t\t\t\t;;\n-\t\t\tathlon_xp-*|athlon_mp-*|athlon_4-*)\n-\t\t\t\twith_cpu=athlon-4\n-\t\t\t\t;;\n-\t\t\tathlon_tbird-*|athlon-*)\n-\t\t\t\twith_cpu=athlon\n-\t\t\t\t;;\n-\t\t\tpentium2-*)\n-\t\t\t\twith_cpu=pentium2\n-\t\t\t\t;;\n-\t\t\tpentium3-*)\n-\t\t\t\twith_cpu=pentium3\n-\t\t\t\t;;\n-\t\t\tpentium4-*)\n-\t\t\t\twith_cpu=pentium4\n-\t\t\t\t;;\n-\t\t\t*)\n-\t\t\t\twith_cpu=pentiumpro\n-\t\t\t\t;;\n-\t\t\tesac\n-\t\t\t;;\n-\t\tx86_64-*-*)\n-\t\t\twith_cpu=k8\n-\t\t\t;;\n-\t\talpha*-*-*)\n-\t\t\tcase ${target} in\n-\t\t\talphaev6[78]*)\n-\t\t\t\twith_cpu=ev67\n-\t\t\t\t;;\n-\t\t\talphaev6*)\n-\t\t\t\twith_cpu=ev6\n-\t\t\t\t;;\n-\t\t\talphapca56*)\n-\t\t\t\twith_cpu=pca56\n-\t\t\t\t;;\n-\t\t\talphaev56*)\n-\t\t\t\twith_cpu=ev56\n-\t\t\t\t;;\n-\t\t\talphaev5*)\n-\t\t\t\twith_cpu=ev5\n-\t\t\t\t;;\n-\t\t\tesac\n-\t\t\t;;\n-\t\tsparc*-*-*)\n-\t\t\twith_cpu=\"`echo ${target} | sed 's/-.*$//'`\"\n-\t\t\tif [ x$with_cpu = xsparc64 ]; then\n-\t\t\t\twith_cpu=v9\n-\t\t\tfi\n-\t\t\t;;\n-\t\tesac\n-\tfi\n+# If there is no $with_cpu option, try to infer one from ${target}.\n+# This block sets nothing except for with_cpu.\n+if test x$with_cpu = x ; then\n+  case ${target} in\n+    ep9312-*-*)\n+      # A Cirrus ARM variant.\n+      with_cpu=\"ep9312\"\n+      ;;\n+    i486-*-*)\n+      with_cpu=i486\n+      ;;\n+    i586-*-*)\n+      case $target_alias in\n+        k6_2-*)\n+          with_cpu=k6-2\n+          ;;\n+        k6_3-*)\n+          with_cpu=k6-3\n+          ;;\n+        k6-*)\n+          with_cpu=k6\n+          ;;\n+        pentium_mmx-*|winchip_c6-*|winchip2-*|c3-*)\n+          with_cpu=pentium-mmx\n+          ;;\n+        *)\n+          with_cpu=pentium\n+          ;;\n+      esac\n+      ;;\n+    i686-*-* | i786-*-*)\n+      case $target_alias in\n+        k8-*)\n+          with_cpu=k8\n+          ;;\n+        athlon_xp-*|athlon_mp-*|athlon_4-*)\n+          with_cpu=athlon-4\n+          ;;\n+        athlon_tbird-*|athlon-*)\n+          with_cpu=athlon\n+          ;;\n+        pentium2-*)\n+          with_cpu=pentium2\n+          ;;\n+        pentium3-*)\n+          with_cpu=pentium3\n+          ;;\n+        pentium4-*)\n+          with_cpu=pentium4\n+          ;;\n+        *)\n+          with_cpu=pentiumpro\n+          ;;\n+      esac\n+      ;;\n+    x86_64-*-*)\n+      with_cpu=k8\n+      ;;\n+    alphaev6[78]*-*-*)\n+      with_cpu=ev67\n+      ;;\n+    alphaev6*-*-*)\n+      with_cpu=ev6\n+      ;;\n+    alphapca56*-*-*)\n+      with_cpu=pca56\n+      ;;\n+    alphaev56*-*-*)\n+      with_cpu=ev56\n+      ;;\n+    alphaev5*-*-*)\n+      with_cpu=ev5\n+      ;;\n+    sparc*-*-*)\n+      with_cpu=\"`echo ${target} | sed 's/-.*$//'`\"\n+      if [ x$with_cpu = xsparc64 ]; then\n+        with_cpu=v9\n+      fi\n+      ;;\n+  esac\n+fi\n \n \t# Similarly for --with-schedule.\n \tif test x$with_schedule = x; then"}]}