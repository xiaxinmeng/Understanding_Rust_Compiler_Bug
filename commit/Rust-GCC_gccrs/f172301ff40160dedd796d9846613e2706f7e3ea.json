{"sha": "f172301ff40160dedd796d9846613e2706f7e3ea", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjE3MjMwMWZmNDAxNjBkZWRkNzk2ZDk4NDY2MTNlMjcwNmY3ZTNlYQ==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2014-08-22T18:43:50Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2014-08-22T18:43:50Z"}, "message": "re PR fortran/62135 (ICE with invalid SELECT CASE selector)\n\nfortran/\n\tPR fortran/62135\n\t* resolve.c (resolve_select): Fix list traversal in case the\n\tlast element of the CASE list was dropped as unreachable code.\n\ntestsuite/\n\tPR fortran/62135\n\t* gfortran.dg/pr62135.f90: New test.\n\nFrom-SVN: r214351", "tree": {"sha": "de25251af4f315ddc40ce91466bee5d1aedab763", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/de25251af4f315ddc40ce91466bee5d1aedab763"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f172301ff40160dedd796d9846613e2706f7e3ea", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f172301ff40160dedd796d9846613e2706f7e3ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f172301ff40160dedd796d9846613e2706f7e3ea", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f172301ff40160dedd796d9846613e2706f7e3ea/comments", "author": null, "committer": null, "parents": [{"sha": "596e808cf6cc91f556838099b832bd01ce71e828", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/596e808cf6cc91f556838099b832bd01ce71e828", "html_url": "https://github.com/Rust-GCC/gccrs/commit/596e808cf6cc91f556838099b832bd01ce71e828"}], "stats": {"total": 30, "additions": 29, "deletions": 1}, "files": [{"sha": "27ef1314b00971fe84d379013af562cc02dd9eeb", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f172301ff40160dedd796d9846613e2706f7e3ea/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f172301ff40160dedd796d9846613e2706f7e3ea/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=f172301ff40160dedd796d9846613e2706f7e3ea", "patch": "@@ -1,3 +1,9 @@\n+2014-08-22  Steven Bosscher  <steven@gcc.gnu.org>\n+\n+\tPR fortran/62135\n+\t* resolve.c (resolve_select): Fix list traversal in case the\n+\tlast element of the CASE list was dropped as unreachable code.\n+\n 2014-08-22  Joost VandeVondele  <Joost.VandeVondele@mat.ethz.ch>\n \n \tPR fortran/61234"}, {"sha": "52aae90ecc465416356b0a67edf9f18f0761a3db", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f172301ff40160dedd796d9846613e2706f7e3ea/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f172301ff40160dedd796d9846613e2706f7e3ea/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=f172301ff40160dedd796d9846613e2706f7e3ea", "patch": "@@ -7761,7 +7761,7 @@ resolve_select (gfc_code *code, bool select_type)\n \t/* Strip all other unreachable cases.  */\n \tif (body->ext.block.case_list)\n \t  {\n-\t    for (cp = body->ext.block.case_list; cp->next; cp = cp->next)\n+\t    for (cp = body->ext.block.case_list; cp && cp->next; cp = cp->next)\n \t      {\n \t\tif (cp->next->unreachable)\n \t\t  {"}, {"sha": "a6415d6e4099f5e8cda4d69916a6b1e981d92a16", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f172301ff40160dedd796d9846613e2706f7e3ea/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f172301ff40160dedd796d9846613e2706f7e3ea/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f172301ff40160dedd796d9846613e2706f7e3ea", "patch": "@@ -1,3 +1,8 @@\n+2014-08-22  Steven Bosscher  <steven@gcc.gnu.org>\n+\n+\tPR fortran/62135\n+\t* gfortran.dg/pr62135.f90: New test.\n+\n 2014-08-22  Manuel L\u00f3pez-Ib\u00e1\u00f1ez  <manu@gcc.gnu.org>\n \n \t* g++.dg/warn/wdate-time.C: Remove."}, {"sha": "d5e674b2b814e8e500602ac333e4b16c8011404c", "filename": "gcc/testsuite/gfortran.dg/pr62135.f90", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f172301ff40160dedd796d9846613e2706f7e3ea/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr62135.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f172301ff40160dedd796d9846613e2706f7e3ea/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr62135.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr62135.f90?ref=f172301ff40160dedd796d9846613e2706f7e3ea", "patch": "@@ -0,0 +1,17 @@\n+! { dg-do compile }\n+! { dg-options -Wsurprising }\n+\n+   PROGRAM PR62135\n+      IMPLICIT NONE\n+      CHARACTER*1 :: choice\n+      choice = 'x'\n+      SELECT CASE (choice)\n+         ! This triggered an ICE: an unreachable case clause\n+         ! as the last of a list.\n+         CASE ('2':'7','9':'0') ! { dg-warning \"can never be matched\" }\n+            WRITE(*,*) \"barf\"\n+         CASE DEFAULT\n+            CONTINUE\n+      END SELECT\n+   END PROGRAM PR62135\n+"}]}