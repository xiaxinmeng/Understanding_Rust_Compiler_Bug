{"sha": "501e321e0d7866c59b729e795d02d2ba43467ab4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTAxZTMyMWUwZDc4NjZjNTliNzI5ZTc5NWQwMmQyYmE0MzQ2N2FiNA==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2002-04-02T02:41:50Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2002-04-02T02:41:50Z"}, "message": "acinclude: More extensive checks for msgfmt, --enable-nls.\n\n\n2002-04-01  Benjamin Kosnik  <bkoz@redhat.com>\n\n\tlibstdc++/5542\n\t* acinclude: More extensive checks for msgfmt, --enable-nls.\n\t* aclocal.m4: Regenerate.\n\t* configure: Regenerate.\n\nFrom-SVN: r51732", "tree": {"sha": "575f392be322920b504b7593940ad3ce028e81d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/575f392be322920b504b7593940ad3ce028e81d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/501e321e0d7866c59b729e795d02d2ba43467ab4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/501e321e0d7866c59b729e795d02d2ba43467ab4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/501e321e0d7866c59b729e795d02d2ba43467ab4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/501e321e0d7866c59b729e795d02d2ba43467ab4/comments", "author": null, "committer": null, "parents": [{"sha": "efe44c60eb50355fe2c87d0765b137a7f886d2fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efe44c60eb50355fe2c87d0765b137a7f886d2fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efe44c60eb50355fe2c87d0765b137a7f886d2fa"}], "stats": {"total": 2368, "additions": 1214, "deletions": 1154}, "files": [{"sha": "1b4e77df111d5a8e01da655845209ee0517bb9ea", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=501e321e0d7866c59b729e795d02d2ba43467ab4", "patch": "@@ -1,3 +1,10 @@\n+2002-04-01  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\tlibstdc++/5542\n+\t* acinclude: More extensive checks for msgfmt, --enable-nls.\n+\t* aclocal.m4: Regenerate.\n+\t* configure: Regenerate.\n+\n 2002-04-01  Phil Edwards  <pme@gcc.gnu.org>\n \n \t* libsupc++/exception (__verbose_terminate_handler):  Point to docs."}, {"sha": "f832cb3ade4c2f4f671410b9f22530d95601e244", "filename": "libstdc++-v3/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FMakefile.in?ref=501e321e0d7866c59b729e795d02d2ba43467ab4", "patch": "@@ -132,6 +132,7 @@ USE_NLS = @USE_NLS@\n VERSION = @VERSION@\n WARN_FLAGS = @WARN_FLAGS@\n WERROR = @WERROR@\n+check_msgfmt = @check_msgfmt@\n enable_shared = @enable_shared@\n enable_static = @enable_static@\n glibcpp_CXX = @glibcpp_CXX@"}, {"sha": "412a0a917db4965b8fa732442243060b68a62975", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=501e321e0d7866c59b729e795d02d2ba43467ab4", "patch": "@@ -1145,14 +1145,17 @@ AC_DEFUN(GLIBCPP_ENABLE_CLOCALE, [\n     esac\n   fi\n \n+  dnl Deal with gettext issues.\n+  AC_ARG_ENABLE(nls,\n+  [  --enable-nls            use Native Language Support (default)],\n+  , enable_nls=yes)\n+  USE_NLS=no\n+\n   dnl Set configure bits for specified locale package\n   case x${enable_clocale_flag} in\n     xgeneric)\n       AC_MSG_RESULT(generic)\n \n-      # Don't use gettext.\n-      USE_NLS=no\n-\n       CLOCALE_H=config/locale/generic/c_locale.h\n       CLOCALE_CC=config/locale/generic/c_locale.cc\n       CCODECVT_H=config/locale/generic/codecvt_specializations.h\n@@ -1171,9 +1174,12 @@ AC_DEFUN(GLIBCPP_ENABLE_CLOCALE, [\n       # languages.\n       # For some reason, ALL_LINGUAS has to be before AM_GNU_GETTEXT\n       ALL_LINGUAS=\"de fr\"\n+\n       # Don't call AM_GNU_GETTEXT here. Instead, assume glibc.\n-      # Need to deal with MSGFMT, USE_NLS, and glibcpp_[P,M]OFILES\n-      USE_NLS=yes\n+      AC_CHECK_PROG(check_msgfmt, msgfmt, yes, no)\n+      if test x\"$check_msgfmt\" = x\"yes\" && test x\"$enable_nls\" = x\"yes\"; then\n+\tUSE_NLS=yes\n+      fi\n \n       # Export the build objects.\n       for ling in $ALL_LINGUAS; do \\\n@@ -1197,9 +1203,6 @@ AC_DEFUN(GLIBCPP_ENABLE_CLOCALE, [\n     xieee_1003.1-2001)\n       AC_MSG_RESULT(generic)\n \n-      # Don't use gettext.\n-      USE_NLS=no\n-\n       CLOCALE_H=config/locale/ieee_1003.1-2001/c_locale.h\n       CLOCALE_CC=config/locale/ieee_1003.1-2001/c_locale.cc\n       CCODECVT_H=config/locale/ieee_1003.1-2001/codecvt_specializations.h"}, {"sha": "eda0f222c2bef255075f4c08e948a5332010e0f2", "filename": "libstdc++-v3/aclocal.m4", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Faclocal.m4?ref=501e321e0d7866c59b729e795d02d2ba43467ab4", "patch": "@@ -1157,14 +1157,17 @@ AC_DEFUN(GLIBCPP_ENABLE_CLOCALE, [\n     esac\n   fi\n \n+  dnl Deal with gettext issues.\n+  AC_ARG_ENABLE(nls,\n+  [  --enable-nls            use Native Language Support (default)],\n+  , enable_nls=yes)\n+  USE_NLS=no\n+\n   dnl Set configure bits for specified locale package\n   case x${enable_clocale_flag} in\n     xgeneric)\n       AC_MSG_RESULT(generic)\n \n-      # Don't use gettext.\n-      USE_NLS=no\n-\n       CLOCALE_H=config/locale/generic/c_locale.h\n       CLOCALE_CC=config/locale/generic/c_locale.cc\n       CCODECVT_H=config/locale/generic/codecvt_specializations.h\n@@ -1183,9 +1186,12 @@ AC_DEFUN(GLIBCPP_ENABLE_CLOCALE, [\n       # languages.\n       # For some reason, ALL_LINGUAS has to be before AM_GNU_GETTEXT\n       ALL_LINGUAS=\"de fr\"\n+\n       # Don't call AM_GNU_GETTEXT here. Instead, assume glibc.\n-      # Need to deal with MSGFMT, USE_NLS, and glibcpp_[P,M]OFILES\n-      USE_NLS=yes\n+      AC_CHECK_PROG(check_msgfmt, msgfmt, yes, no)\n+      if test x\"$check_msgfmt\" = x\"yes\" && test x\"$enable_nls\" = x\"yes\"; then\n+\tUSE_NLS=yes\n+      fi\n \n       # Export the build objects.\n       for ling in $ALL_LINGUAS; do \\\n@@ -1209,9 +1215,6 @@ AC_DEFUN(GLIBCPP_ENABLE_CLOCALE, [\n     xieee_1003.1-2001)\n       AC_MSG_RESULT(generic)\n \n-      # Don't use gettext.\n-      USE_NLS=no\n-\n       CLOCALE_H=config/locale/ieee_1003.1-2001/c_locale.h\n       CLOCALE_CC=config/locale/ieee_1003.1-2001/c_locale.cc\n       CCODECVT_H=config/locale/ieee_1003.1-2001/codecvt_specializations.h"}, {"sha": "1c19f9b66fbdeb5d4483f14f8ebe32282d356236", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 1175, "deletions": 1136, "changes": 2311, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=501e321e0d7866c59b729e795d02d2ba43467ab4"}, {"sha": "cd7d4105b2c5bf975d67a65b87277ce041608a34", "filename": "libstdc++-v3/include/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2FMakefile.in?ref=501e321e0d7866c59b729e795d02d2ba43467ab4", "patch": "@@ -131,6 +131,7 @@ USE_NLS = @USE_NLS@\n VERSION = @VERSION@\n WARN_FLAGS = @WARN_FLAGS@\n WERROR = @WERROR@\n+check_msgfmt = @check_msgfmt@\n enable_shared = @enable_shared@\n enable_static = @enable_static@\n glibcpp_CXX = @glibcpp_CXX@"}, {"sha": "085c1afce8a281c23847eb307cf42fe3e79e4973", "filename": "libstdc++-v3/libio/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Flibio%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Flibio%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibio%2FMakefile.in?ref=501e321e0d7866c59b729e795d02d2ba43467ab4", "patch": "@@ -129,6 +129,7 @@ USE_NLS = @USE_NLS@\n VERSION = @VERSION@\n WARN_FLAGS = @WARN_FLAGS@\n WERROR = @WERROR@\n+check_msgfmt = @check_msgfmt@\n enable_shared = @enable_shared@\n enable_static = @enable_static@\n glibcpp_CXX = @glibcpp_CXX@"}, {"sha": "4ac55adeb541b81f62a301fbba02d291038cf558", "filename": "libstdc++-v3/libmath/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Flibmath%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Flibmath%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibmath%2FMakefile.in?ref=501e321e0d7866c59b729e795d02d2ba43467ab4", "patch": "@@ -131,6 +131,7 @@ USE_NLS = @USE_NLS@\n VERSION = @VERSION@\n WARN_FLAGS = @WARN_FLAGS@\n WERROR = @WERROR@\n+check_msgfmt = @check_msgfmt@\n enable_shared = @enable_shared@\n enable_static = @enable_static@\n glibcpp_CXX = @glibcpp_CXX@"}, {"sha": "84f85d3785cd294b3c3149cfefe33fdb80cc5ce9", "filename": "libstdc++-v3/libsupc++/Makefile.in", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2FMakefile.in?ref=501e321e0d7866c59b729e795d02d2ba43467ab4", "patch": "@@ -1,6 +1,6 @@\n-# Makefile.in generated automatically by automake 1.4 from Makefile.am\n+# Makefile.in generated automatically by automake 1.4-p5 from Makefile.am\n \n-# Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.\n+# Copyright (C) 1994, 1995-8, 1999, 2001 Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -127,6 +127,7 @@ USE_NLS = @USE_NLS@\n VERSION = @VERSION@\n WARN_FLAGS = @WARN_FLAGS@\n WERROR = @WERROR@\n+check_msgfmt = @check_msgfmt@\n enable_shared = @enable_shared@\n enable_static = @enable_static@\n glibcpp_CXX = @glibcpp_CXX@"}, {"sha": "52981a9f4fcd4e2d0db39aa2e7d90a4fe4093ab1", "filename": "libstdc++-v3/po/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Fpo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Fpo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fpo%2FMakefile.in?ref=501e321e0d7866c59b729e795d02d2ba43467ab4", "patch": "@@ -130,6 +130,7 @@ USE_NLS = @USE_NLS@\n VERSION = @VERSION@\n WARN_FLAGS = @WARN_FLAGS@\n WERROR = @WERROR@\n+check_msgfmt = @check_msgfmt@\n enable_shared = @enable_shared@\n enable_static = @enable_static@\n glibcpp_CXX = @glibcpp_CXX@"}, {"sha": "51e25beedd74748feb2cd8629b83e884ab0d1678", "filename": "libstdc++-v3/src/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in?ref=501e321e0d7866c59b729e795d02d2ba43467ab4", "patch": "@@ -124,6 +124,7 @@ USE_NLS = @USE_NLS@\n VERSION = @VERSION@\n WARN_FLAGS = @WARN_FLAGS@\n WERROR = @WERROR@\n+check_msgfmt = @check_msgfmt@\n enable_shared = @enable_shared@\n enable_static = @enable_static@\n glibcpp_CXX = @glibcpp_CXX@"}, {"sha": "7336d51f82007d0a1e2891b41b3e49355988be1d", "filename": "libstdc++-v3/testsuite/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/501e321e0d7866c59b729e795d02d2ba43467ab4/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in?ref=501e321e0d7866c59b729e795d02d2ba43467ab4", "patch": "@@ -132,6 +132,7 @@ USE_NLS = @USE_NLS@\n VERSION = @VERSION@\n WARN_FLAGS = @WARN_FLAGS@\n WERROR = @WERROR@\n+check_msgfmt = @check_msgfmt@\n enable_shared = @enable_shared@\n enable_static = @enable_static@\n glibcpp_CXX = @glibcpp_CXX@"}]}