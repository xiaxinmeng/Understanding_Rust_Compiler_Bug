{"sha": "81e07d422c5026ed66e3ad72a75d0d2385be1c0a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODFlMDdkNDIyYzUwMjZlZDY2ZTNhZDcyYTc1ZDBkMjM4NWJlMWMwYQ==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2020-04-21T21:03:23Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2020-04-21T21:03:23Z"}, "message": "libphobos: Remove GDCFLAGSX variable from configure scripts.\n\nAlways run testsuite with same GDCFLAGS as used in build.\n\nlibphobos/ChangeLog:\n\n\t* Makefile.in: Regenerate.\n\t* configure: Regenerate.\n\t* configure.ac: Remove GDCFLAGSX.\n\t* libdruntime/Makefile.in: Regenerate.\n\t* src/Makefile.in: Regenerate.\n\t* testsuite/Makefile.in: Regenerate.\n\t* testsuite/testsuite_flags.in: Use GDCFLAGS in --gdcflags.\n\t* testsuite/libphobos.thread/fiber_guard_page.d: Test using -O0.", "tree": {"sha": "5944ae9a2f091413055a264e61faa6e0b011f1bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5944ae9a2f091413055a264e61faa6e0b011f1bd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/81e07d422c5026ed66e3ad72a75d0d2385be1c0a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81e07d422c5026ed66e3ad72a75d0d2385be1c0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/81e07d422c5026ed66e3ad72a75d0d2385be1c0a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/comments", "author": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3942060c4b3168307b9e2870d81e7ca15b49760a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3942060c4b3168307b9e2870d81e7ca15b49760a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3942060c4b3168307b9e2870d81e7ca15b49760a"}], "stats": {"total": 22, "additions": 4, "deletions": 18}, "files": [{"sha": "e51c2158b2057d18e9e9014ce710a49b3bc8cc76", "filename": "libphobos/Makefile.in", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2FMakefile.in?ref=81e07d422c5026ed66e3ad72a75d0d2385be1c0a", "patch": "@@ -230,7 +230,6 @@ EXEEXT = @EXEEXT@\n FGREP = @FGREP@\n GDC = @GDC@\n GDCFLAGS = @GDCFLAGS@\n-GDCFLAGSX = @GDCFLAGSX@\n GREP = @GREP@\n INSTALL = @INSTALL@\n INSTALL_DATA = @INSTALL_DATA@"}, {"sha": "c2b49132fda3d5c2eaba5e328ba0d504dfce6dbd", "filename": "libphobos/configure", "status": "modified", "additions": 2, "deletions": 8, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Fconfigure?ref=81e07d422c5026ed66e3ad72a75d0d2385be1c0a", "patch": "@@ -634,7 +634,6 @@ am__EXEEXT_TRUE\n LTLIBOBJS\n LIBOBJS\n WARN_DFLAGS\n-GDCFLAGSX\n libtool_VERSION\n SPEC_PHOBOS_DEPS\n CHECKING_DFLAGS\n@@ -11650,7 +11649,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11653 \"configure\"\n+#line 11652 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11756,7 +11755,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11759 \"configure\"\n+#line 11758 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -15433,11 +15432,6 @@ if test -z \"$GDCFLAGS\"; then\n fi\n \n \n-if test -z \"$GDCFLAGSX\"; then\n-    GDCFLAGSX=\"-g\"\n-fi\n-\n-\n WARN_DFLAGS=\"-Wall $WERROR_FLAG\"\n \n "}, {"sha": "c21da5908d0a2dd30d4c9d8a1d476af769d194c7", "filename": "libphobos/configure.ac", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Fconfigure.ac?ref=81e07d422c5026ed66e3ad72a75d0d2385be1c0a", "patch": "@@ -256,11 +256,6 @@ if test -z \"$GDCFLAGS\"; then\n fi\n AC_SUBST(GDCFLAGS)\n \n-if test -z \"$GDCFLAGSX\"; then\n-    GDCFLAGSX=\"-g\"\n-fi\n-AC_SUBST(GDCFLAGSX)\n-\n WARN_DFLAGS=\"-Wall $WERROR_FLAG\"\n AC_SUBST(WARN_DFLAGS)\n "}, {"sha": "4130e96d7be635052c790b46f9241cc616995d4c", "filename": "libphobos/libdruntime/Makefile.in", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2Flibdruntime%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2Flibdruntime%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2FMakefile.in?ref=81e07d422c5026ed66e3ad72a75d0d2385be1c0a", "patch": "@@ -596,7 +596,6 @@ EXEEXT = @EXEEXT@\n FGREP = @FGREP@\n GDC = @GDC@\n GDCFLAGS = @GDCFLAGS@\n-GDCFLAGSX = @GDCFLAGSX@\n GREP = @GREP@\n INSTALL = @INSTALL@\n INSTALL_DATA = @INSTALL_DATA@"}, {"sha": "4b1ae863a3faafe989d1e2658364044e53a55ffa", "filename": "libphobos/src/Makefile.in", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2Fsrc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2Fsrc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Fsrc%2FMakefile.in?ref=81e07d422c5026ed66e3ad72a75d0d2385be1c0a", "patch": "@@ -346,7 +346,6 @@ EXEEXT = @EXEEXT@\n FGREP = @FGREP@\n GDC = @GDC@\n GDCFLAGS = @GDCFLAGS@\n-GDCFLAGSX = @GDCFLAGSX@\n GREP = @GREP@\n INSTALL = @INSTALL@\n INSTALL_DATA = @INSTALL_DATA@"}, {"sha": "66077fc19a9245109be09dd816835aa168680498", "filename": "libphobos/testsuite/Makefile.in", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Ftestsuite%2FMakefile.in?ref=81e07d422c5026ed66e3ad72a75d0d2385be1c0a", "patch": "@@ -174,7 +174,6 @@ EXEEXT = @EXEEXT@\n FGREP = @FGREP@\n GDC = @GDC@\n GDCFLAGS = @GDCFLAGS@\n-GDCFLAGSX = @GDCFLAGSX@\n GREP = @GREP@\n INSTALL = @INSTALL@\n INSTALL_DATA = @INSTALL_DATA@"}, {"sha": "49c22658542f48c4a7f0320913b7db4419f6dee2", "filename": "libphobos/testsuite/libphobos.thread/fiber_guard_page.d", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2Ftestsuite%2Flibphobos.thread%2Ffiber_guard_page.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2Ftestsuite%2Flibphobos.thread%2Ffiber_guard_page.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Ftestsuite%2Flibphobos.thread%2Ffiber_guard_page.d?ref=81e07d422c5026ed66e3ad72a75d0d2385be1c0a", "patch": "@@ -1,3 +1,4 @@\n+// { dg-options \"-O0\" }\n // { dg-shouldfail \"segv or bus error\" }\n import core.thread;\n import core.sys.posix.sys.mman;"}, {"sha": "14b679506077362064c9ca375addf74dbbf75950", "filename": "libphobos/testsuite/testsuite_flags.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2Ftestsuite%2Ftestsuite_flags.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81e07d422c5026ed66e3ad72a75d0d2385be1c0a/libphobos%2Ftestsuite%2Ftestsuite_flags.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Ftestsuite%2Ftestsuite_flags.in?ref=81e07d422c5026ed66e3ad72a75d0d2385be1c0a", "patch": "@@ -28,7 +28,7 @@ case ${query} in\n       ;;\n     --gdcflags)\n       GDCFLAGS_default=\"-fmessage-length=0 -fno-show-column\"\n-      GDCFLAGS_config=\"@WARN_DFLAGS@ @GDCFLAGSX@ -fno-release -funittest\"\n+      GDCFLAGS_config=\"@WARN_DFLAGS@ @GDCFLAGS@ -fno-release -funittest\"\n       echo ${GDCFLAGS_default} ${GDCFLAGS_config}\n       ;;\n     --gdcpaths)"}]}