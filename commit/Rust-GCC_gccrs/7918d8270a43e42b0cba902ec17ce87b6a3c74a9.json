{"sha": "7918d8270a43e42b0cba902ec17ce87b6a3c74a9", "node_id": "C_kwDOANBUbNoAKDc5MThkODI3MGE0M2U0MmIwY2JhOTAyZWMxN2NlODdiNmEzYzc0YTk", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2022-01-01T05:30:39Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2022-01-01T05:30:39Z"}, "message": "testsuite: Adjust gcc.misc-tests/godump-1.c testcase\n\nOn Wed, Dec 29, 2021 at 03:54:03PM -0800, Ian Lance Taylor via Gcc-patches wrote:\n> PR go/103847\n> * godump.c (go_force_record_alignment): Name the alignment\n> field \"_\".\n\n> --- a/gcc/godump.c\n> +++ b/gcc/godump.c\n> @@ -651,7 +651,7 @@ go_force_record_alignment (struct obstack *ob, const char *type_string,\n>                          unsigned int index, const char *error_string)\n>  {\n>    index = go_append_artificial_name (ob, index);\n> -  obstack_grow (ob, \"_align \", 7);\n> +  obstack_grow (ob, \"_ \", 2);\n>    if (type_string == NULL)\n>      obstack_grow (ob, error_string, strlen (error_string));\n>    else\n\nThis change caused\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _ts_nested struct { u struct { s int16; Godump_0_pad \\\\\\\\[2\\\\\\\\]byte; Godump_1_align \\\\\\\\[0\\\\\\\\]u?int32; }; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _ts_nested2 struct { u struct { Godump_0_pad \\\\\\\\[4\\\\\\\\]byte; Godump_1_pad \\\\\\\\[2\\\\\\\\]byte; s int16; c int8; Godump_2_pad\n+\\\\\\\\[1\\\\\\\\]byte; Godump_3_pad \\\\\\\\[2\\\\\\\\]byte; Godump_4_align \\\\\\\\[0\\\\\\\\]u?int32; }; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _tsbf_gaps struct { bf1 uint8; c uint8; bf2 uint8; Godump_0_pad \\\\\\\\[2\\\\\\\\]byte; s uint16; Godump_1_align \\\\\\\\[0\\\\\\\\]int32; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _tsbf_pad16_1 struct { Godump_0_pad \\\\\\\\[1\\\\\\\\]byte; c uint8; Godump_1_align \\\\\\\\[0\\\\\\\\]int16; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _tsbf_pad16_2 struct { Godump_0_pad \\\\\\\\[2\\\\\\\\]byte; c uint8; Godump_1_pad \\\\\\\\[.\\\\\\\\]byte; Godump_2_align \\\\\\\\[0\\\\\\\\]int16; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _tsbf_pad32_1 struct { Godump_0_pad \\\\\\\\[1\\\\\\\\]byte; c uint8; Godump_1_pad \\\\\\\\[.\\\\\\\\]byte; Godump_2_align \\\\\\\\[0\\\\\\\\]int32; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _tsbf_pad32_2 struct { Godump_0_pad \\\\\\\\[4\\\\\\\\]byte; c uint8; Godump_1_pad \\\\\\\\[.\\\\\\\\]byte; Godump_2_align \\\\\\\\[0\\\\\\\\]int32; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _tsbf_pad64_1 struct { Godump_0_pad \\\\\\\\[1\\\\\\\\]byte; c uint8; Godump_1_pad \\\\\\\\[.\\\\\\\\]byte; Godump_2_align \\\\\\\\[0\\\\\\\\]int64; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _tsbf_pad64_2 struct { Godump_0_pad \\\\\\\\[8\\\\\\\\]byte; c uint8; Godump_1_pad \\\\\\\\[.\\\\\\\\]byte; Godump_2_align \\\\\\\\[0\\\\\\\\]int64; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _tsn_anon struct { a uint8; s uint16; b uint8; Godump_0_pad \\\\\\\\[.\\\\\\\\]byte; Godump_1_align \\\\\\\\[0\\\\\\\\]int16; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _tsu_anon struct { c uint8; Godump_0_pad \\\\\\\\[7\\\\\\\\]byte; Godump_1_align \\\\\\\\[0\\\\\\\\]u?int64; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _tu1 struct { c uint8; Godump_0_pad \\\\\\\\[.\\\\\\\\]byte; Godump_1_align \\\\\\\\[0\\\\\\\\]u?int64; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _tu3_size struct { ca \\\\\\\\[4\\\\\\\\+1\\\\\\\\]uint8; Godump_0_pad \\\\\\\\[.\\\\\\\\]byte; Godump_1_align \\\\\\\\[0\\\\\\\\]u?int64; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _tu_nested struct { u struct { s int16; Godump_0_pad \\\\\\\\[2\\\\\\\\]byte; Godump_1_align \\\\\\\\[0\\\\\\\\]u?int32; }; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _tu_nested2 struct { u struct { Godump_0_pad \\\\\\\\[4\\\\\\\\]byte; Godump_1_pad \\\\\\\\[2\\\\\\\\]byte; s int16; c int8; Godump_2_pad\n+\\\\\\\\[1\\\\\\\\]byte; Godump_3_pad \\\\\\\\[2\\\\\\\\]byte; Godump_4_align \\\\\\\\[0\\\\\\\\]u?int32; }; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^type _tu_size struct { ca \\\\\\\\[4\\\\\\\\+1\\\\\\\\]uint8; Godump_0_pad \\\\\\\\[.\\\\\\\\]byte; Godump_1_align \\\\\\\\[0\\\\\\\\]u?int64; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _s_nested struct { u struct { s int16; Godump_0_pad \\\\\\\\[2\\\\\\\\]byte; Godump_1_align \\\\\\\\[0\\\\\\\\]u?int32; }; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _s_nested2 struct { u struct { Godump_0_pad \\\\\\\\[4\\\\\\\\]byte; Godump_1_pad \\\\\\\\[2\\\\\\\\]byte; s int16; c int8; Godump_2_pad\n+\\\\\\\\[1\\\\\\\\]byte; Godump_3_pad \\\\\\\\[2\\\\\\\\]byte; Godump_4_align \\\\\\\\[0\\\\\\\\]u?int32; }; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _sbf_gaps struct { bf1 uint8; c uint8; bf2 uint8; Godump_0_pad \\\\\\\\[2\\\\\\\\]byte; s uint16; Godump_1_align \\\\\\\\[0\\\\\\\\]int32; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _sbf_pad16_1 struct { Godump_0_pad \\\\\\\\[1\\\\\\\\]byte; c uint8; Godump_1_align \\\\\\\\[0\\\\\\\\]int16; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _sbf_pad16_2 struct { Godump_0_pad \\\\\\\\[2\\\\\\\\]byte; c uint8; Godump_1_pad \\\\\\\\[.\\\\\\\\]byte; Godump_2_align \\\\\\\\[0\\\\\\\\]int16; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _sbf_pad32_1 struct { Godump_0_pad \\\\\\\\[1\\\\\\\\]byte; c uint8; Godump_1_pad \\\\\\\\[.\\\\\\\\]byte; Godump_2_align \\\\\\\\[0\\\\\\\\]int32; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _sbf_pad32_2 struct { Godump_0_pad \\\\\\\\[4\\\\\\\\]byte; c uint8; Godump_1_pad \\\\\\\\[.\\\\\\\\]byte; Godump_2_align \\\\\\\\[0\\\\\\\\]int32; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _sbf_pad64_1 struct { Godump_0_pad \\\\\\\\[1\\\\\\\\]byte; c uint8; Godump_1_pad \\\\\\\\[.\\\\\\\\]byte; Godump_2_align \\\\\\\\[0\\\\\\\\]int64; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _sbf_pad64_2 struct { Godump_0_pad \\\\\\\\[8\\\\\\\\]byte; c uint8; Godump_1_pad \\\\\\\\[.\\\\\\\\]byte; Godump_2_align \\\\\\\\[0\\\\\\\\]int64; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _sn_anon struct { a uint8; s uint16; b uint8; Godump_0_pad \\\\\\\\[.\\\\\\\\]byte; Godump_1_align \\\\\\\\[0\\\\\\\\]int16; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _su_anon struct { c uint8; Godump_0_pad \\\\\\\\[7\\\\\\\\]byte; Godump_1_align \\\\\\\\[0\\\\\\\\]u?int64; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _u1 struct { c uint8; Godump_0_pad \\\\\\\\[.\\\\\\\\]byte; Godump_1_align \\\\\\\\[0\\\\\\\\]u?int64; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _u3_size struct { ca \\\\\\\\[4\\\\\\\\+1\\\\\\\\]uint8; Godump_0_pad \\\\\\\\[.\\\\\\\\]byte; Godump_1_align \\\\\\\\[0\\\\\\\\]u?int64; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _u_nested struct { u struct { s int16; Godump_0_pad \\\\\\\\[2\\\\\\\\]byte; Godump_1_align \\\\\\\\[0\\\\\\\\]u?int32; }; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _u_nested2 struct { u struct { Godump_0_pad \\\\\\\\[4\\\\\\\\]byte; Godump_1_pad \\\\\\\\[2\\\\\\\\]byte; s int16; c int8; Godump_2_pad\n+\\\\\\\\[1\\\\\\\\]byte; Godump_3_pad \\\\\\\\[2\\\\\\\\]byte; Godump_4_align \\\\\\\\[0\\\\\\\\]u?int32; }; }\\$\n+FAIL: gcc.misc-tests/godump-1.c scan-file (?n)^var _u_size struct { ca \\\\\\\\[4\\\\\\\\+1\\\\\\\\]uint8; Godump_0_pad \\\\\\\\[.\\\\\\\\]byte; Godump_1_align \\\\\\\\[0\\\\\\\\]u?int64; }\\$\non x86_64-linux.\n\nThe following patch adjusts the testcase for the above change.\n\n2022-01-01  Jakub Jelinek  <jakub@redhat.com>\n\n\t* gcc.misc-tests/godump-1.c: Adjust for renaming of last\n\tfield from _align suffix to _ suffix.", "tree": {"sha": "02080561bc40e7a21a1d26a76cae6999a1e78617", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/02080561bc40e7a21a1d26a76cae6999a1e78617"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7918d8270a43e42b0cba902ec17ce87b6a3c74a9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7918d8270a43e42b0cba902ec17ce87b6a3c74a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7918d8270a43e42b0cba902ec17ce87b6a3c74a9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7918d8270a43e42b0cba902ec17ce87b6a3c74a9/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "222dbebefbbc07f78e51d82ba605988ef57e5fc9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/222dbebefbbc07f78e51d82ba605988ef57e5fc9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/222dbebefbbc07f78e51d82ba605988ef57e5fc9"}], "stats": {"total": 64, "additions": 32, "deletions": 32}, "files": [{"sha": "b05be78d32144233dea9911694bdc7000090569e", "filename": "gcc/testsuite/gcc.misc-tests/godump-1.c", "status": "modified", "additions": 32, "deletions": 32, "changes": 64, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7918d8270a43e42b0cba902ec17ce87b6a3c74a9/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgodump-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7918d8270a43e42b0cba902ec17ce87b6a3c74a9/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgodump-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgodump-1.c?ref=7918d8270a43e42b0cba902ec17ce87b6a3c74a9", "patch": "@@ -501,10 +501,10 @@ struct { struct { uint8_t ca[3]; } s; uint32_t i; } sn;\n /* { dg-final { scan-file godump-1.out \"(?n)^var _sn struct \\{ s struct \\{ ca \\\\\\[2\\\\+1\\\\\\]uint8; \\}; i uint32; \\}$\" } } */\n \n typedef struct { struct { uint8_t a; uint16_t s; }; uint8_t b; } tsn_anon;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _tsn_anon struct \\{ a uint8; s uint16; b uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_align \\\\\\[0\\\\\\]int16; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _tsn_anon struct \\{ a uint8; s uint16; b uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_ \\\\\\[0\\\\\\]int16; \\}$\" } } */\n \n struct { struct { uint8_t a; uint16_t s; }; uint8_t b; } sn_anon;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _sn_anon struct \\{ a uint8; s uint16; b uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_align \\\\\\[0\\\\\\]int16; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _sn_anon struct \\{ a uint8; s uint16; b uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_ \\\\\\[0\\\\\\]int16; \\}$\" } } */\n \n \n /*** structs with bitfields ***/\n@@ -575,16 +575,16 @@ struct { uint8_t bf : 8; uint8_t c; } sbf_pad8_3;\n /* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad8_3 struct \\{ bf uint8; c uint8; \\}$\" } } */\n \n typedef struct { uint16_t bf : 1; uint8_t c; } tsbf_pad16_1;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad16_1 struct \\{ Godump_0_pad \\\\\\[1\\\\\\]byte; c uint8; Godump_1_align \\\\\\[0\\\\\\]int16; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad16_1 struct \\{ Godump_0_pad \\\\\\[1\\\\\\]byte; c uint8; Godump_1_ \\\\\\[0\\\\\\]int16; \\}$\" } } */\n \n struct { uint16_t bf : 1; uint8_t c; } sbf_pad16_1;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad16_1 struct \\{ Godump_0_pad \\\\\\[1\\\\\\]byte; c uint8; Godump_1_align \\\\\\[0\\\\\\]int16; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad16_1 struct \\{ Godump_0_pad \\\\\\[1\\\\\\]byte; c uint8; Godump_1_ \\\\\\[0\\\\\\]int16; \\}$\" } } */\n \n typedef struct { uint16_t bf : 15; uint8_t c; } tsbf_pad16_2;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad16_2 struct \\{ Godump_0_pad \\\\\\[2\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_align \\\\\\[0\\\\\\]int16; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad16_2 struct \\{ Godump_0_pad \\\\\\[2\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_ \\\\\\[0\\\\\\]int16; \\}$\" } } */\n \n struct { uint16_t bf : 15; uint8_t c; } sbf_pad16_2;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad16_2 struct \\{ Godump_0_pad \\\\\\[2\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_align \\\\\\[0\\\\\\]int16; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad16_2 struct \\{ Godump_0_pad \\\\\\[2\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_ \\\\\\[0\\\\\\]int16; \\}$\" } } */\n \n typedef struct { uint16_t bf : 16; uint8_t c; } tsbf_pad16_3;\n /* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad16_3 struct \\{ bf uint16; c uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; \\}$\" } } */\n@@ -593,16 +593,16 @@ struct { uint16_t bf : 16; uint8_t c; } sbf_pad16_3;\n /* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad16_3 struct \\{ bf uint16; c uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; \\}$\" } } */\n \n typedef struct { uint32_t bf : 1; uint8_t c; } tsbf_pad32_1;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad32_1 struct \\{ Godump_0_pad \\\\\\[1\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_align \\\\\\[0\\\\\\]int32; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad32_1 struct \\{ Godump_0_pad \\\\\\[1\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_ \\\\\\[0\\\\\\]int32; \\}$\" } } */\n \n struct { uint32_t bf : 1; uint8_t c; } sbf_pad32_1;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad32_1 struct \\{ Godump_0_pad \\\\\\[1\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_align \\\\\\[0\\\\\\]int32; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad32_1 struct \\{ Godump_0_pad \\\\\\[1\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_ \\\\\\[0\\\\\\]int32; \\}$\" } } */\n \n typedef struct { uint32_t bf : 31; uint8_t c; } tsbf_pad32_2;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad32_2 struct \\{ Godump_0_pad \\\\\\[4\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_align \\\\\\[0\\\\\\]int32; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad32_2 struct \\{ Godump_0_pad \\\\\\[4\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_ \\\\\\[0\\\\\\]int32; \\}$\" } } */\n \n struct { uint32_t bf : 31; uint8_t c; } sbf_pad32_2;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad32_2 struct \\{ Godump_0_pad \\\\\\[4\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_align \\\\\\[0\\\\\\]int32; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad32_2 struct \\{ Godump_0_pad \\\\\\[4\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_ \\\\\\[0\\\\\\]int32; \\}$\" } } */\n \n typedef struct { uint32_t bf : 32; uint8_t c; } tsbf_pad32_3;\n /* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad32_3 struct \\{ bf uint32; c uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; \\}$\" } } */\n@@ -611,16 +611,16 @@ struct { uint32_t bf : 32; uint8_t c; } sbf_pad32_3;\n /* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad32_3 struct \\{ bf uint32; c uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; \\}$\" } } */\n \n typedef struct { uint64_t bf : 1; uint8_t c; } tsbf_pad64_1;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad64_1 struct \\{ Godump_0_pad \\\\\\[1\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_align \\\\\\[0\\\\\\]int64; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad64_1 struct \\{ Godump_0_pad \\\\\\[1\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_ \\\\\\[0\\\\\\]int64; \\}$\" } } */\n \n struct { uint64_t bf : 1; uint8_t c; } sbf_pad64_1;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad64_1 struct \\{ Godump_0_pad \\\\\\[1\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_align \\\\\\[0\\\\\\]int64; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad64_1 struct \\{ Godump_0_pad \\\\\\[1\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_ \\\\\\[0\\\\\\]int64; \\}$\" } } */\n \n typedef struct { uint64_t bf : 63; uint8_t c; } tsbf_pad64_2;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad64_2 struct \\{ Godump_0_pad \\\\\\[8\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_align \\\\\\[0\\\\\\]int64; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad64_2 struct \\{ Godump_0_pad \\\\\\[8\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_ \\\\\\[0\\\\\\]int64; \\}$\" } } */\n \n struct { uint64_t bf : 63; uint8_t c; } sbf_pad64_2;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad64_2 struct \\{ Godump_0_pad \\\\\\[8\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_align \\\\\\[0\\\\\\]int64; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_pad64_2 struct \\{ Godump_0_pad \\\\\\[8\\\\\\]byte; c uint8; Godump_1_pad \\\\\\[.\\\\\\]byte; Godump_2_ \\\\\\[0\\\\\\]int64; \\}$\" } } */\n \n typedef struct { uint64_t bf : 64; uint8_t c; } tsbf_pad64_3;\n /* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_pad64_3 struct \\{ bf uint\\[0-9\\]*; c uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; \\}$\" } } */\n@@ -680,7 +680,7 @@ struct\n   uint32_t bf3 : 12;\n   uint16_t s;\n } sbf_gaps;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_gaps struct \\{ bf1 uint8; c uint8; bf2 uint8; Godump_0_pad \\\\\\[2\\\\\\]byte; s uint16; Godump_1_align \\\\\\[0\\\\\\]int32; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _sbf_gaps struct \\{ bf1 uint8; c uint8; bf2 uint8; Godump_0_pad \\\\\\[2\\\\\\]byte; s uint16; Godump_1_ \\\\\\[0\\\\\\]int32; \\}$\" } } */\n \n typedef struct\n {\n@@ -690,7 +690,7 @@ typedef struct\n   uint32_t bf3 : 12;\n   uint16_t s;\n } tsbf_gaps;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_gaps struct \\{ bf1 uint8; c uint8; bf2 uint8; Godump_0_pad \\\\\\[2\\\\\\]byte; s uint16; Godump_1_align \\\\\\[0\\\\\\]int32; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _tsbf_gaps struct \\{ bf1 uint8; c uint8; bf2 uint8; Godump_0_pad \\\\\\[2\\\\\\]byte; s uint16; Godump_1_ \\\\\\[0\\\\\\]int32; \\}$\" } } */\n \n typedef struct\n {\n@@ -708,7 +708,7 @@ typedef struct\n \t\t};\n \t} u;\n } ts_nested;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _ts_nested struct \\{ u struct \\{ s int16; Godump_0_pad \\\\\\[2\\\\\\]byte; Godump_1_align \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _ts_nested struct \\{ u struct \\{ s int16; Godump_0_pad \\\\\\[2\\\\\\]byte; Godump_1_ \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n \n struct\n {\n@@ -726,7 +726,7 @@ struct\n \t\t};\n \t} u;\n } s_nested;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _s_nested struct \\{ u struct \\{ s int16; Godump_0_pad \\\\\\[2\\\\\\]byte; Godump_1_align \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _s_nested struct \\{ u struct \\{ s int16; Godump_0_pad \\\\\\[2\\\\\\]byte; Godump_1_ \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n \n typedef struct\n {\n@@ -744,7 +744,7 @@ typedef struct\n \t\t};\n \t} u;\n } ts_nested2;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _ts_nested2 struct \\{ u struct \\{ Godump_0_pad \\\\\\[4\\\\\\]byte; Godump_1_pad \\\\\\[2\\\\\\]byte; s int16; c int8; Godump_2_pad \\\\\\[1\\\\\\]byte; Godump_3_pad \\\\\\[2\\\\\\]byte; Godump_4_align \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _ts_nested2 struct \\{ u struct \\{ Godump_0_pad \\\\\\[4\\\\\\]byte; Godump_1_pad \\\\\\[2\\\\\\]byte; s int16; c int8; Godump_2_pad \\\\\\[1\\\\\\]byte; Godump_3_pad \\\\\\[2\\\\\\]byte; Godump_4_ \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n \n struct\n {\n@@ -762,7 +762,7 @@ struct\n \t\t};\n \t} u;\n } s_nested2;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _s_nested2 struct \\{ u struct \\{ Godump_0_pad \\\\\\[4\\\\\\]byte; Godump_1_pad \\\\\\[2\\\\\\]byte; s int16; c int8; Godump_2_pad \\\\\\[1\\\\\\]byte; Godump_3_pad \\\\\\[2\\\\\\]byte; Godump_4_align \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _s_nested2 struct \\{ u struct \\{ Godump_0_pad \\\\\\[4\\\\\\]byte; Godump_1_pad \\\\\\[2\\\\\\]byte; s int16; c int8; Godump_2_pad \\\\\\[1\\\\\\]byte; Godump_3_pad \\\\\\[2\\\\\\]byte; Godump_4_ \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n \n \n /*** unions ***/\n@@ -780,10 +780,10 @@ union u_t_idem_v2 { };\n /* { dg-final { scan-file godump-1.out \"(?n)^type _u_t_idem_v2 struct \\{ \\}$\" } } */\n \n typedef union { uint8_t c; uint64_t l; } tu1;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _tu1 struct \\{ c uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_align \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _tu1 struct \\{ c uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_ \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n \n union { uint8_t c; uint64_t l; } u1;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _u1 struct \\{ c uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_align \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _u1 struct \\{ c uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_ \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n \n typedef union { uint64_t l; uint8_t c; } tu2;\n /* { dg-final { scan-file godump-1.out \"(?n)^type _tu2 struct \\{ l uint64; \\}$\" } } */\n@@ -798,16 +798,16 @@ union { uint64_t l[3]; uint8_t c; } u3;\n /* { dg-final { scan-file godump-1.out \"(?n)^var _u3 struct \\{ l \\\\\\[2\\\\+1\\\\\\]uint64; \\}$\" } } */\n \n typedef struct { union { uint8_t c; uint64_t l; }; } tsu_anon;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _tsu_anon struct \\{ c uint8; Godump_0_pad \\\\\\[7\\\\\\]byte; Godump_1_align \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _tsu_anon struct \\{ c uint8; Godump_0_pad \\\\\\[7\\\\\\]byte; Godump_1_ \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n \n struct { union { uint8_t c; uint64_t l; }; } su_anon;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _su_anon struct \\{ c uint8; Godump_0_pad \\\\\\[7\\\\\\]byte; Godump_1_align \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _su_anon struct \\{ c uint8; Godump_0_pad \\\\\\[7\\\\\\]byte; Godump_1_ \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n \n typedef union { uint64_t bf : 1; uint8_t ca[5]; } tu_size;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _tu_size struct \\{ ca \\\\\\[4\\\\+1\\\\\\]uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_align \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _tu_size struct \\{ ca \\\\\\[4\\\\+1\\\\\\]uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_ \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n \n union { uint64_t bf : 1; uint8_t ca[5]; } u_size;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _u_size struct \\{ ca \\\\\\[4\\\\+1\\\\\\]uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_align \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _u_size struct \\{ ca \\\\\\[4\\\\+1\\\\\\]uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_ \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n \n typedef union { uint64_t : 1; uint8_t ca[5]; } tu2_size;\n /* { dg-final { scan-file godump-1.out \"(?n)^type _tu2_size struct \\{ ca \\\\\\[4\\\\+1\\\\\\]uint8; \\}$\" } } */\n@@ -818,10 +818,10 @@ union { uint64_t : 1; uint8_t ca[5]; } u2_size;\n typedef union u_undef_t u_undef_t2;\n \n typedef union { uint64_t b : 1; uint8_t ca[5]; } tu3_size;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _tu3_size struct \\{ ca \\\\\\[4\\\\+1\\\\\\]uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_align \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _tu3_size struct \\{ ca \\\\\\[4\\\\+1\\\\\\]uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_ \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n \n union { uint64_t b : 1; uint8_t ca[5]; } u3_size;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _u3_size struct \\{ ca \\\\\\[4\\\\+1\\\\\\]uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_align \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _u3_size struct \\{ ca \\\\\\[4\\\\+1\\\\\\]uint8; Godump_0_pad \\\\\\[.\\\\\\]byte; Godump_1_ \\\\\\[0\\\\\\]u?int64; \\}$\" } } */\n \n typedef union\n {\n@@ -839,7 +839,7 @@ typedef union\n \t\t};\n \t} u;\n } tu_nested;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _tu_nested struct \\{ u struct \\{ s int16; Godump_0_pad \\\\\\[2\\\\\\]byte; Godump_1_align \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _tu_nested struct \\{ u struct \\{ s int16; Godump_0_pad \\\\\\[2\\\\\\]byte; Godump_1_ \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n \n union\n {\n@@ -857,7 +857,7 @@ union\n \t\t};\n \t} u;\n } u_nested;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _u_nested struct \\{ u struct \\{ s int16; Godump_0_pad \\\\\\[2\\\\\\]byte; Godump_1_align \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _u_nested struct \\{ u struct \\{ s int16; Godump_0_pad \\\\\\[2\\\\\\]byte; Godump_1_ \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n \n typedef union\n {\n@@ -875,7 +875,7 @@ typedef union\n \t\t};\n \t} u;\n } tu_nested2;\n-/* { dg-final { scan-file godump-1.out \"(?n)^type _tu_nested2 struct \\{ u struct \\{ Godump_0_pad \\\\\\[4\\\\\\]byte; Godump_1_pad \\\\\\[2\\\\\\]byte; s int16; c int8; Godump_2_pad \\\\\\[1\\\\\\]byte; Godump_3_pad \\\\\\[2\\\\\\]byte; Godump_4_align \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^type _tu_nested2 struct \\{ u struct \\{ Godump_0_pad \\\\\\[4\\\\\\]byte; Godump_1_pad \\\\\\[2\\\\\\]byte; s int16; c int8; Godump_2_pad \\\\\\[1\\\\\\]byte; Godump_3_pad \\\\\\[2\\\\\\]byte; Godump_4_ \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n \n union\n {\n@@ -893,7 +893,7 @@ union\n \t\t};\n \t} u;\n } u_nested2;\n-/* { dg-final { scan-file godump-1.out \"(?n)^var _u_nested2 struct \\{ u struct \\{ Godump_0_pad \\\\\\[4\\\\\\]byte; Godump_1_pad \\\\\\[2\\\\\\]byte; s int16; c int8; Godump_2_pad \\\\\\[1\\\\\\]byte; Godump_3_pad \\\\\\[2\\\\\\]byte; Godump_4_align \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n+/* { dg-final { scan-file godump-1.out \"(?n)^var _u_nested2 struct \\{ u struct \\{ Godump_0_pad \\\\\\[4\\\\\\]byte; Godump_1_pad \\\\\\[2\\\\\\]byte; s int16; c int8; Godump_2_pad \\\\\\[1\\\\\\]byte; Godump_3_pad \\\\\\[2\\\\\\]byte; Godump_4_ \\\\\\[0\\\\\\]u?int32; \\}; \\}$\" } } */\n \n \n /*** functions ***/"}]}