{"sha": "56ce7e4aa9cfbeb2df1a02a4ae899faaeedb2ab4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTZjZTdlNGFhOWNmYmViMmRmMWEwMmE0YWU4OTlmYWFlZWRiMmFiNA==", "commit": {"author": {"name": "Yannick Moy", "email": "moy@adacore.com", "date": "2018-05-25T09:02:58Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2018-05-25T09:02:58Z"}, "message": "[Ada] Detect misplaced assertions between loop invariants\n\nLoop invariants and loop variants should all be colocated, as defined in\nSPARK RM 5.5.3(8). The code checking that rule was incorrectly accepting\npragma Assert between two loop invariants. Now fixed.\n\n2018-05-25  Yannick Moy  <moy@adacore.com>\n\ngcc/ada/\n\n\t* sem_prag.adb (Check_Grouping): Modify test to ignore statements and\n\tdeclarations not coming from source.\n\nFrom-SVN: r260715", "tree": {"sha": "2d1a4a1d495b556e5f224272e2815dddbd291f6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2d1a4a1d495b556e5f224272e2815dddbd291f6a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/56ce7e4aa9cfbeb2df1a02a4ae899faaeedb2ab4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56ce7e4aa9cfbeb2df1a02a4ae899faaeedb2ab4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56ce7e4aa9cfbeb2df1a02a4ae899faaeedb2ab4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56ce7e4aa9cfbeb2df1a02a4ae899faaeedb2ab4/comments", "author": {"login": "yannickmoy", "id": 859440, "node_id": "MDQ6VXNlcjg1OTQ0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/859440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yannickmoy", "html_url": "https://github.com/yannickmoy", "followers_url": "https://api.github.com/users/yannickmoy/followers", "following_url": "https://api.github.com/users/yannickmoy/following{/other_user}", "gists_url": "https://api.github.com/users/yannickmoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/yannickmoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yannickmoy/subscriptions", "organizations_url": "https://api.github.com/users/yannickmoy/orgs", "repos_url": "https://api.github.com/users/yannickmoy/repos", "events_url": "https://api.github.com/users/yannickmoy/events{/privacy}", "received_events_url": "https://api.github.com/users/yannickmoy/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5c737a562b83361afa576c9aba61a788cf354e62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c737a562b83361afa576c9aba61a788cf354e62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c737a562b83361afa576c9aba61a788cf354e62"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "8fd40527f0a6fddc32a9e5a133a846930e19cd7d", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56ce7e4aa9cfbeb2df1a02a4ae899faaeedb2ab4/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56ce7e4aa9cfbeb2df1a02a4ae899faaeedb2ab4/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=56ce7e4aa9cfbeb2df1a02a4ae899faaeedb2ab4", "patch": "@@ -1,3 +1,8 @@\n+2018-05-25  Yannick Moy  <moy@adacore.com>\n+\n+\t* sem_prag.adb (Check_Grouping): Modify test to ignore statements and\n+\tdeclarations not coming from source.\n+\n 2018-05-25  Fedor Rybin  <frybin@adacore.com>\n \n \t* doc/gnat_ugn/gnat_utility_programs.rst: Document new switch"}, {"sha": "85a064d3ef2a79a0f40d2f3addbe1d98fa58c766", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56ce7e4aa9cfbeb2df1a02a4ae899faaeedb2ab4/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56ce7e4aa9cfbeb2df1a02a4ae899faaeedb2ab4/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=56ce7e4aa9cfbeb2df1a02a4ae899faaeedb2ab4", "patch": "@@ -5979,9 +5979,14 @@ package body Sem_Prag is\n                               Prag := Stmt;\n \n                            --  Skip declarations and statements generated by\n-                           --  the compiler during expansion.\n+                           --  the compiler during expansion. Note that some\n+                           --  source statements (e.g. pragma Assert) may have\n+                           --  been transformed so that they do not appear as\n+                           --  coming from source anymore, so we instead look\n+                           --  at their Original_Node.\n \n-                           elsif not Comes_From_Source (Stmt) then\n+                           elsif not Comes_From_Source (Original_Node (Stmt))\n+                           then\n                               null;\n \n                            --  A non-pragma is separating the group from the"}]}