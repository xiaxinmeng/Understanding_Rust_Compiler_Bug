{"sha": "c54171fee6142ce7ad3d0ae20a26f68ce053fd85", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzU0MTcxZmVlNjE0MmNlN2FkM2QwYWUyMGEyNmY2OGNlMDUzZmQ4NQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2007-11-01T01:40:56Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2007-11-01T01:40:56Z"}, "message": "stl_queue.h (queue<>::push(value_type&&)): Replace with \"emplace\" version per DR 756.\n\n2007-10-31  Paolo Carlini  <pcarlini@suse.de>\n\n\t* include/bits/stl_queue.h (queue<>::push(value_type&&)): Replace\n\twith \"emplace\" version per DR 756.\n\t(priority_queue<>::push(value_type&&)): Likewise.\n\t* include/bits/stl_stack.h (stack<>::push(value_type&&)): Likewise.\n\nFrom-SVN: r129814", "tree": {"sha": "b1572adaeb85be07c23ecff5d44311be7603e911", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b1572adaeb85be07c23ecff5d44311be7603e911"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c54171fee6142ce7ad3d0ae20a26f68ce053fd85", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c54171fee6142ce7ad3d0ae20a26f68ce053fd85", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c54171fee6142ce7ad3d0ae20a26f68ce053fd85", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c54171fee6142ce7ad3d0ae20a26f68ce053fd85/comments", "author": null, "committer": null, "parents": [{"sha": "e52e300091886960831525c52e2209e5714570ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e52e300091886960831525c52e2209e5714570ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e52e300091886960831525c52e2209e5714570ef"}], "stats": {"total": 49, "additions": 31, "deletions": 18}, "files": [{"sha": "f2ea755669a910acc75d4105d3eb20f92fadf865", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c54171fee6142ce7ad3d0ae20a26f68ce053fd85/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c54171fee6142ce7ad3d0ae20a26f68ce053fd85/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=c54171fee6142ce7ad3d0ae20a26f68ce053fd85", "patch": "@@ -1,3 +1,10 @@\n+2007-10-31  Paolo Carlini  <pcarlini@suse.de>\n+\n+\t* include/bits/stl_queue.h (queue<>::push(value_type&&)): Replace\n+\twith \"emplace\" version per DR 756.\n+\t(priority_queue<>::push(value_type&&)): Likewise.\n+\t* include/bits/stl_stack.h (stack<>::push(value_type&&)): Likewise.\n+\n 2007-10-30  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/tr1_impl/random (uniform_int<>::"}, {"sha": "4ab3c46c0b890a08bc9542922ab42c9fa091bb96", "filename": "libstdc++-v3/include/bits/stl_queue.h", "status": "modified", "additions": 17, "deletions": 13, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c54171fee6142ce7ad3d0ae20a26f68ce053fd85/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_queue.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c54171fee6142ce7ad3d0ae20a26f68ce053fd85/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_queue.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_queue.h?ref=c54171fee6142ce7ad3d0ae20a26f68ce053fd85", "patch": "@@ -220,14 +220,16 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n        *  to it.  The time complexity of the operation depends on the\n        *  underlying sequence.\n        */\n+#ifndef __GXX_EXPERIMENTAL_CXX0X__\n       void\n       push(const value_type& __x)\n       { c.push_back(__x); }\n-\n-#ifdef __GXX_EXPERIMENTAL_CXX0X__\n-      void\n-      push(value_type&& __x)\n-      { c.push_back(std::move(__x)); }\n+#else\n+      // NB: DR 756.\n+      template<typename... _Args>\n+        void\n+        push(_Args&&... __args)\n+\t{ c.push_back(std::forward<_Args>(__args)...); }\n #endif\n \n       /**\n@@ -507,20 +509,22 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n        *  The time complexity of the operation depends on the underlying\n        *  sequence.\n        */\n+#ifndef __GXX_EXPERIMENTAL_CXX0X__\n       void\n       push(const value_type& __x)\n       {\n \tc.push_back(__x);\n \tstd::push_heap(c.begin(), c.end(), comp);\n       }\n-\n-#ifdef __GXX_EXPERIMENTAL_CXX0X__\n-      void\n-      push(value_type&& __x)\n-      {\n-\tc.push_back(std::move(__x));\n-\tstd::push_heap(c.begin(), c.end(), comp);\n-      }\n+#else\n+      // NB: DR 756.\n+      template<typename... _Args>\n+        void\n+        push(_Args&&... __args)\n+\t{ \n+\t  c.push_back(std::forward<_Args>(__args)...);\n+\t  std::push_heap(c.begin(), c.end(), comp);\n+\t}\n #endif\n \n       /**"}, {"sha": "932388a7a68b99007ca3bc4101d55e65167a0ced", "filename": "libstdc++-v3/include/bits/stl_stack.h", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c54171fee6142ce7ad3d0ae20a26f68ce053fd85/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_stack.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c54171fee6142ce7ad3d0ae20a26f68ce053fd85/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_stack.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_stack.h?ref=c54171fee6142ce7ad3d0ae20a26f68ce053fd85", "patch": "@@ -184,14 +184,16 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n        *  to it.  The time complexity of the operation depends on the\n        *  underlying sequence.\n        */\n+#ifndef __GXX_EXPERIMENTAL_CXX0X__\n       void\n       push(const value_type& __x)\n       { c.push_back(__x); }\n-\n-#ifdef __GXX_EXPERIMENTAL_CXX0X__\n-      void\n-      push(value_type&& __x)\n-      { c.push_back(std::move(__x)); }\n+#else\n+      // NB: DR 756.\n+      template<typename... _Args>\n+        void\n+        push(_Args&&... __args)\n+\t{ c.push_back(std::forward<_Args>(__args)...); }\n #endif\n \n       /**"}]}