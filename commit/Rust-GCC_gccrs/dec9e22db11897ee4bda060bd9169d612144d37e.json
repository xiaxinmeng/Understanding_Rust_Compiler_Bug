{"sha": "dec9e22db11897ee4bda060bd9169d612144d37e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGVjOWUyMmRiMTE4OTdlZTRiZGEwNjBiZDkxNjlkNjEyMTQ0ZDM3ZQ==", "commit": {"author": {"name": "Daniel Franke", "email": "dfranke@gcc.gnu.org", "date": "2007-07-14T13:33:51Z"}, "committer": {"name": "Daniel Franke", "email": "dfranke@gcc.gnu.org", "date": "2007-07-14T13:33:51Z"}, "message": "re PR fortran/32724 (ICE on statement function in specification part of module)\n\ngcc/fortran:\n2007-07-14  Paul Thomas  <pault@gcc.gnu.org>\n\n        PR fortran/32724\n        * parse.c (parse_spec): Emit error on unexpected statement\n        function.\n\ngcc/testsuite:\n2007-07-14  Daniel Franke  <franke.daniel@gmail.com>\n\n        PR fortran/32724\n        * gfortran.dg/stfunc_5.f90: New test.\n\nFrom-SVN: r126638", "tree": {"sha": "8c7265dc012fab442ec466a4fb282ad369eb1b35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8c7265dc012fab442ec466a4fb282ad369eb1b35"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dec9e22db11897ee4bda060bd9169d612144d37e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dec9e22db11897ee4bda060bd9169d612144d37e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dec9e22db11897ee4bda060bd9169d612144d37e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dec9e22db11897ee4bda060bd9169d612144d37e/comments", "author": null, "committer": null, "parents": [{"sha": "8d1341f797149e33a9cee62b90cc9055b7c542b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d1341f797149e33a9cee62b90cc9055b7c542b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d1341f797149e33a9cee62b90cc9055b7c542b9"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "3c726735688e47b28b82b2b582397b1c68c13c79", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dec9e22db11897ee4bda060bd9169d612144d37e/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dec9e22db11897ee4bda060bd9169d612144d37e/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=dec9e22db11897ee4bda060bd9169d612144d37e", "patch": "@@ -1,3 +1,9 @@\n+2007-07-14  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/32724\n+\t* parse.c (parse_spec): Emit error on unexpected statement\n+\tfunction.\n+\n 2007-07-13  Daniel Franke  <franke.daniel@gmail.com>\n \n \t* invoke.texi: Unified upper- and lower-case in menus."}, {"sha": "df31bcd719b53e8c89c837473a0801ec5ae55bc6", "filename": "gcc/fortran/parse.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dec9e22db11897ee4bda060bd9169d612144d37e/gcc%2Ffortran%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dec9e22db11897ee4bda060bd9169d612144d37e/gcc%2Ffortran%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fparse.c?ref=dec9e22db11897ee4bda060bd9169d612144d37e", "patch": "@@ -1902,6 +1902,13 @@ parse_spec (gfc_statement st)\n \n \t  break;\n \n+\tcase ST_STATEMENT_FUNCTION:\n+\t  if (gfc_current_state () == COMP_MODULE)\n+\t    {\n+\t      unexpected_statement (st);\n+\t      break;\n+\t    }\n+\n \tdefault:\n \t  break;\n \t}"}, {"sha": "e8584844a8bbf49fda10d692663a2989a4304304", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dec9e22db11897ee4bda060bd9169d612144d37e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dec9e22db11897ee4bda060bd9169d612144d37e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=dec9e22db11897ee4bda060bd9169d612144d37e", "patch": "@@ -1,3 +1,8 @@\n+2007-07-14  Daniel Franke  <franke.daniel@gmail.com>\n+\n+\tPR fortran/32724\n+\t* gfortran.dg/stfunc_5.f90: New test.\n+\n 2007-07-14  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* lib/target-supports.exp (check_effective_target_vect_aligned_arrays):"}, {"sha": "09b6da338f429af4094e3beda51eec2d75ccc7d7", "filename": "gcc/testsuite/gfortran.dg/stfunc_5.f90", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dec9e22db11897ee4bda060bd9169d612144d37e/gcc%2Ftestsuite%2Fgfortran.dg%2Fstfunc_5.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dec9e22db11897ee4bda060bd9169d612144d37e/gcc%2Ftestsuite%2Fgfortran.dg%2Fstfunc_5.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fstfunc_5.f90?ref=dec9e22db11897ee4bda060bd9169d612144d37e", "patch": "@@ -0,0 +1,11 @@\n+! { dg-do compile }\n+!\n+! PR fortran/32724\n+! ICE on statement function in specification part of module\n+\n+MODULE stmt\n+f(x) = x**2      ! { dg-error \"Unexpected STATEMENT FUNCTION\" }\n+END MODULE\n+\n+! { dg-final { cleanup-modules \"stmt\" } }\n+"}]}