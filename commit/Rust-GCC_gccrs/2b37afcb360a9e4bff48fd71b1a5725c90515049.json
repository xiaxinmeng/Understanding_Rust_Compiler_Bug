{"sha": "2b37afcb360a9e4bff48fd71b1a5725c90515049", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmIzN2FmY2IzNjBhOWU0YmZmNDhmZDcxYjFhNTcyNWM5MDUxNTA0OQ==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@cygnus.com", "date": "1999-04-14T07:10:22Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "1999-04-14T07:10:22Z"}, "message": "natDouble.java (doubleToLongBits): ensure that all NaNs are always converted to the same long value.\n\n1999-04-14  Andrew Haley  <aph@cygnus.com>\n        * java/lang/natDouble.java (doubleToLongBits): ensure that all\n        NaNs are always converted to the same long value.\n        * java/lang/natFloat.java (floatToIntBits): ditto, but for float\n        converted to int.\n\nFrom-SVN: r26439", "tree": {"sha": "12fffb0f268659e2bad0fdb565a63469eab56f80", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12fffb0f268659e2bad0fdb565a63469eab56f80"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2b37afcb360a9e4bff48fd71b1a5725c90515049", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b37afcb360a9e4bff48fd71b1a5725c90515049", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b37afcb360a9e4bff48fd71b1a5725c90515049", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b37afcb360a9e4bff48fd71b1a5725c90515049/comments", "author": null, "committer": null, "parents": [{"sha": "2de45c0679fc608353e9267941477769b3b18ecd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2de45c0679fc608353e9267941477769b3b18ecd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2de45c0679fc608353e9267941477769b3b18ecd"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "3d5b9ad1e60c18328fefe32fced95819da7c6624", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b37afcb360a9e4bff48fd71b1a5725c90515049/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b37afcb360a9e4bff48fd71b1a5725c90515049/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=2b37afcb360a9e4bff48fd71b1a5725c90515049", "patch": "@@ -1,3 +1,10 @@\n+1999-04-14  Andrew Haley  <aph@cygnus.com>\n+\n+ \t* java/lang/natDouble.java (doubleToLongBits): ensure that all\n+ \tNaNs are always converted to the same long value.  \n+ \t* java/lang/natFloat.java (floatToIntBits): ditto, but for float\n+ \tconverted to int.\n+\n 1999-04-13  Tom Tromey  <tromey@cygnus.com>\n \n \t* java/lang/natSystem.cc (arraycopy): Don't always use jbyteArray;"}, {"sha": "8d8c7883ba4fa0af3436e5c9839c0e6d4581b7b8", "filename": "libjava/java/lang/natDouble.cc", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b37afcb360a9e4bff48fd71b1a5725c90515049/libjava%2Fjava%2Flang%2FnatDouble.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b37afcb360a9e4bff48fd71b1a5725c90515049/libjava%2Fjava%2Flang%2FnatDouble.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatDouble.cc?ref=2b37afcb360a9e4bff48fd71b1a5725c90515049", "patch": "@@ -47,6 +47,13 @@ java::lang::Double::doubleToLongBits(jdouble value)\n {\n   union u u;\n   u.d = value;\n+  \n+  jlong e = u.l & 0x7ff0000000000000LL;\n+  jlong f = u.l & 0x000fffffffffffffLL;\n+\n+  if (e == 0x7ff0000000000000LL && f != 0L)\n+    u.l = 0x7ff8000000000000LL;\n+\n   return u.l;\n }\n "}, {"sha": "5712fd4190cc7b8d2de6a51e72e9dc00f1debb95", "filename": "libjava/java/lang/natFloat.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b37afcb360a9e4bff48fd71b1a5725c90515049/libjava%2Fjava%2Flang%2FnatFloat.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b37afcb360a9e4bff48fd71b1a5725c90515049/libjava%2Fjava%2Flang%2FnatFloat.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatFloat.cc?ref=2b37afcb360a9e4bff48fd71b1a5725c90515049", "patch": "@@ -24,6 +24,12 @@ java::lang::Float::floatToIntBits(jfloat value)\n {\n   union u u;\n   u.d = value;\n+  jint e = u.l & 0x7f800000;\n+  jint f = u.l & 0x007fffff;\n+\n+  if (e == 0x7f800000 && f != 0)\n+    u.l = 0x7fc00000;\n+\n   return u.l;\n }\n "}]}