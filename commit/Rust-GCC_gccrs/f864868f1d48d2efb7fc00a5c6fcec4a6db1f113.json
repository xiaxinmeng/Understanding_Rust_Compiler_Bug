{"sha": "f864868f1d48d2efb7fc00a5c6fcec4a6db1f113", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Zjg2NDg2OGYxZDQ4ZDJlZmI3ZmMwMGE1YzZmY2VjNGE2ZGIxZjExMw==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2008-10-24T19:34:59Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2008-10-24T19:34:59Z"}, "message": "scanasm.exp (scan-assembler, [...]): Extract first word of $testcase for all upvar uses...\n\n* lib/scanasm.exp (scan-assembler, scan-assembler-not,\nscan-hidden, scan-not-hidden, scan-file, scan-file-not,\nscan-assembler-times, scan-assembler-dem, scan-assembler-dem-not):\nExtract first word of $testcase for all upvar uses, in case\n$testvar has compiler switches appended.\n\nFrom-SVN: r141350", "tree": {"sha": "d80af481289b3aace2d7ce67e738e8f65045ca38", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d80af481289b3aace2d7ce67e738e8f65045ca38"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f864868f1d48d2efb7fc00a5c6fcec4a6db1f113", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f864868f1d48d2efb7fc00a5c6fcec4a6db1f113", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f864868f1d48d2efb7fc00a5c6fcec4a6db1f113", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f864868f1d48d2efb7fc00a5c6fcec4a6db1f113/comments", "author": null, "committer": null, "parents": [{"sha": "6b4ef5c1fc9a858a41f069de3a89c41f1eb5f96d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b4ef5c1fc9a858a41f069de3a89c41f1eb5f96d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b4ef5c1fc9a858a41f069de3a89c41f1eb5f96d"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "ea653ce4b52b99a9cf6894a55601a51e70fe8476", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f864868f1d48d2efb7fc00a5c6fcec4a6db1f113/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f864868f1d48d2efb7fc00a5c6fcec4a6db1f113/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f864868f1d48d2efb7fc00a5c6fcec4a6db1f113", "patch": "@@ -1,3 +1,11 @@\n+2008-10-24  DJ Delorie  <dj@redhat.com>\n+\n+\t* lib/scanasm.exp (scan-assembler, scan-assembler-not,\n+\tscan-hidden, scan-not-hidden, scan-file, scan-file-not,\n+\tscan-assembler-times, scan-assembler-dem, scan-assembler-dem-not):\n+\tExtract first word of $testcase for all upvar uses, in case\n+\t$testvar has compiler switches appended.\n+\n 2008-10-24  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/36038"}, {"sha": "4c2903061aa4dfff989eec37c39577961de5001c", "filename": "gcc/testsuite/lib/scanasm.exp", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f864868f1d48d2efb7fc00a5c6fcec4a6db1f113/gcc%2Ftestsuite%2Flib%2Fscanasm.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f864868f1d48d2efb7fc00a5c6fcec4a6db1f113/gcc%2Ftestsuite%2Flib%2Fscanasm.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fscanasm.exp?ref=f864868f1d48d2efb7fc00a5c6fcec4a6db1f113", "patch": "@@ -67,6 +67,7 @@ proc dg-scan { name positive testcase output_file orig_args } {\n \n proc scan-assembler { args } {\n     upvar 2 name testcase\n+    set testcase [lindex $testcase 0]\n     set output_file \"[file rootname [file tail $testcase]].s\"\n \n     dg-scan \"scan-assembler\" 1 $testcase $output_file $args\n@@ -77,6 +78,7 @@ proc scan-assembler { args } {\n \n proc scan-assembler-not { args } {\n     upvar 2 name testcase\n+    set testcase [lindex $testcase 0]\n     set output_file \"[file rootname [file tail $testcase]].s\"\n \n     dg-scan \"scan-assembler-not\" 0 $testcase $output_file $args\n@@ -102,6 +104,7 @@ proc hidden-scan-for { symbol } {\n \n proc scan-hidden { args } {\n     upvar 2 name testcase\n+    set testcase [lindex $testcase 0]\n     set output_file \"[file rootname [file tail $testcase]].s\"\n \n     set symbol [lindex $args 0]\n@@ -118,6 +121,7 @@ proc scan-hidden { args } {\n \n proc scan-not-hidden { args } {\n     upvar 2 name testcase\n+    set testcase [lindex $testcase 0]\n     set output_file \"[file rootname [file tail $testcase]].s\"\n \n     set symbol [lindex $args 0]\n@@ -132,6 +136,7 @@ proc scan-not-hidden { args } {\n \n proc scan-file { output_file args } {\n     upvar 2 name testcase\n+    set testcase [lindex $testcase 0]\n     dg-scan \"scan-file\" 1 $testcase $output_file $args\n }\n \n@@ -140,6 +145,7 @@ proc scan-file { output_file args } {\n \n proc scan-file-not { output_file args } {\n     upvar 2 name testcase\n+    set testcase [lindex $testcase 0]\n     dg-scan \"scan-file-not\" 0 $testcase $output_file $args\n }\n \n@@ -166,6 +172,7 @@ proc scan-assembler-times { args } {\n     # it still stores the filename of the testcase in a local variable \"name\".\n     # A cleaner solution would require a new dejagnu release.\n     upvar 2 name testcase\n+    set testcase [lindex $testcase 0]\n \n     # This must match the rule in gcc-dg.exp.\n     set output_file \"[file rootname [file tail $testcase]].s\"\n@@ -215,6 +222,7 @@ proc scan-assembler-dem { args } {\n     }\n \n     upvar 2 name testcase\n+    set testcase [lindex $testcase 0]\n     set output_file \"[file rootname [file tail $testcase]].s\"\n \n     set output [remote_exec host \"$cxxfilt\" \"\" \"$output_file\"]\n@@ -260,6 +268,7 @@ proc scan-assembler-dem-not { args } {\n     }\n \n     upvar 2 name testcase\n+    set testcase [lindex $testcase 0]\n     set output_file \"[file rootname [file tail $testcase]].s\"\n \n     set output [remote_exec host \"$cxxfilt\" \"\" \"$output_file\"]"}]}