{"sha": "e55393db343affe9c0e0b46094bf21229c4bf9a3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTU1MzkzZGIzNDNhZmZlOWMwZTBiNDYwOTRiZjIxMjI5YzRiZjlhMw==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2003-01-02T22:48:21Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2003-01-02T22:48:21Z"}, "message": "atomicity.h (__exchange_and_add, [...]): *__mem is also an output.\n\n        * config/cpu/i486/atomicity.h (__exchange_and_add, __atomic_add):\n        *__mem is also an output.\n        * config/cpu/m68k/atomicity.h (__exchange_and_add): Likewise.\n\nFrom-SVN: r60807", "tree": {"sha": "1bae956d87bd80989971abd9e506767e59028764", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1bae956d87bd80989971abd9e506767e59028764"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e55393db343affe9c0e0b46094bf21229c4bf9a3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e55393db343affe9c0e0b46094bf21229c4bf9a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e55393db343affe9c0e0b46094bf21229c4bf9a3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e55393db343affe9c0e0b46094bf21229c4bf9a3/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6ec6e2c2978a48e3c747dd9538fc370ce7af32af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ec6e2c2978a48e3c747dd9538fc370ce7af32af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ec6e2c2978a48e3c747dd9538fc370ce7af32af"}], "stats": {"total": 24, "additions": 15, "deletions": 9}, "files": [{"sha": "ba62559eae5e4cb62b475e3de02fd187b8bcac3b", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e55393db343affe9c0e0b46094bf21229c4bf9a3/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e55393db343affe9c0e0b46094bf21229c4bf9a3/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=e55393db343affe9c0e0b46094bf21229c4bf9a3", "patch": "@@ -1,3 +1,9 @@\n+2003-01-02  Jason Merrill  <jason@redhat.com>\n+\n+\t* config/cpu/i486/atomicity.h (__exchange_and_add, __atomic_add):\n+\t*__mem is also an output.\n+\t* config/cpu/m68k/atomicity.h (__exchange_and_add): Likewise.\n+\n 2002-12-30  Loren J. Rittle  <ljrittle@acm.org>\n \n \t* src/Makefile.am: Resolve non-portable use of $<."}, {"sha": "73dedf10d9d9b8f99641cd255227c947eb9a94cc", "filename": "libstdc++-v3/config/cpu/i486/atomicity.h", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e55393db343affe9c0e0b46094bf21229c4bf9a3/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fi486%2Fatomicity.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e55393db343affe9c0e0b46094bf21229c4bf9a3/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fi486%2Fatomicity.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fi486%2Fatomicity.h?ref=e55393db343affe9c0e0b46094bf21229c4bf9a3", "patch": "@@ -37,9 +37,9 @@ __attribute__ ((__unused__))\n __exchange_and_add (volatile _Atomic_word *__mem, int __val)\n {\n   register _Atomic_word __result;\n-  __asm__ __volatile__ (\"lock; xaddl %0,%2\"\n-\t\t\t: \"=r\" (__result) \n-                        : \"0\" (__val), \"m\" (*__mem) \n+  __asm__ __volatile__ (\"lock; xaddl %0,%1\"\n+\t\t\t: \"=r\" (__result), \"+m\" (*__mem) \n+                        : \"0\" (__val)\n                         : \"memory\");\n   return __result;\n }\n@@ -48,8 +48,8 @@ static inline void\n __attribute__ ((__unused__))\n __atomic_add (volatile _Atomic_word* __mem, int __val)\n {\n-  __asm__ __volatile__ (\"lock; addl %0,%1\"\n-\t\t\t: : \"ir\" (__val), \"m\" (*__mem) : \"memory\");\n+  __asm__ __volatile__ (\"lock; addl %1,%0\"\n+\t\t\t: \"+m\" (*__mem) : \"ir\" (__val) : \"memory\");\n }\n \n #endif /* atomicity.h */"}, {"sha": "5a2dda3228c2551166bc54583934c7d54caf8c27", "filename": "libstdc++-v3/config/cpu/m68k/atomicity.h", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e55393db343affe9c0e0b46094bf21229c4bf9a3/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fm68k%2Fatomicity.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e55393db343affe9c0e0b46094bf21229c4bf9a3/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fm68k%2Fatomicity.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fm68k%2Fatomicity.h?ref=e55393db343affe9c0e0b46094bf21229c4bf9a3", "patch": "@@ -43,11 +43,11 @@ __exchange_and_add (volatile _Atomic_word *__mem, int __val)\n   register _Atomic_word __result = *__mem;\n   register _Atomic_word __temp;\n   __asm__ __volatile__ (\"1: move%.l %0,%1\\n\\t\"\n-\t\t\t\"add%.l %2,%1\\n\\t\"\n-\t\t\t\"cas%.l %0,%1,%3\\n\\t\"\n+\t\t\t\"add%.l %3,%1\\n\\t\"\n+\t\t\t\"cas%.l %0,%1,%2\\n\\t\"\n \t\t\t\"jne 1b\"\n-\t\t\t: \"=d\" (__result), \"=&d\" (__temp)\n-\t\t\t: \"d\" (__val), \"m\" (*__mem), \"0\" (__result)\n+\t\t\t: \"=d\" (__result), \"=&d\" (__temp), \"+m\" (*__mem)\n+\t\t\t: \"d\" (__val), \"0\" (__result)\n \t\t\t: \"memory\");\n   return __result;\n }"}]}