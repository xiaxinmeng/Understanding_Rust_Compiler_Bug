{"sha": "000220585db1b91f8c387e690ca51813ad760692", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDAwMjIwNTg1ZGIxYjkxZjhjMzg3ZTY5MGNhNTE4MTNhZDc2MDY5Mg==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2016-05-28T16:23:33Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2016-05-28T16:23:33Z"}, "message": "prefetch-5.c: Remove xfail.\n\n\t* gcc.dg/tree-ssa/prefetch-5.c: Remove xfail.\n\t* tree-ssa-loop-prefetch.c (loop_prefetch_arrays): Use\n\tlikely_max_stmt_executions_int.\n\nFrom-SVN: r236851", "tree": {"sha": "61316b21726fb52b88bbb98c3456b3304f467e3f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/61316b21726fb52b88bbb98c3456b3304f467e3f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/000220585db1b91f8c387e690ca51813ad760692", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/000220585db1b91f8c387e690ca51813ad760692", "html_url": "https://github.com/Rust-GCC/gccrs/commit/000220585db1b91f8c387e690ca51813ad760692", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/000220585db1b91f8c387e690ca51813ad760692/comments", "author": null, "committer": null, "parents": [{"sha": "c8419aca08b9262c3d4ffe498fd8fac2ee5992c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8419aca08b9262c3d4ffe498fd8fac2ee5992c9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8419aca08b9262c3d4ffe498fd8fac2ee5992c9"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "cf3c946dca97af98576192bc0f7a4644da469f50", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/000220585db1b91f8c387e690ca51813ad760692/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/000220585db1b91f8c387e690ca51813ad760692/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=000220585db1b91f8c387e690ca51813ad760692", "patch": "@@ -1,3 +1,8 @@\n+2016-05-27  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* tree-ssa-loop-prefetch.c (loop_prefetch_arrays): Use\n+\tlikely_max_stmt_executions_int.\n+\n 2016-05-27  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* profile.c (compute_branch_probabilities): Do not report hitrates"}, {"sha": "27fdbe1497aa88b9229ff7511c367efd1e25cdbe", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/000220585db1b91f8c387e690ca51813ad760692/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/000220585db1b91f8c387e690ca51813ad760692/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=000220585db1b91f8c387e690ca51813ad760692", "patch": "@@ -1,3 +1,7 @@\n+2016-05-27  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* gcc.dg/tree-ssa/prefetch-5.c: Remove xfail.\n+\n 2016-05-28  Ville Voutilainen  <ville.voutilainen@gmail.com>\n \n \tRevert:"}, {"sha": "af1bb13c254c59a8d91ecbea378790bdb7ed90c2", "filename": "gcc/testsuite/gcc.dg/tree-ssa/prefetch-5.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/000220585db1b91f8c387e690ca51813ad760692/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fprefetch-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/000220585db1b91f8c387e690ca51813ad760692/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fprefetch-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fprefetch-5.c?ref=000220585db1b91f8c387e690ca51813ad760692", "patch": "@@ -56,5 +56,5 @@ int loop5 (int n, struct tail5 *x)\n \n /* Until we are able to track likely upper bounds, we can't really work out that\n    small trailing arrays should not be prefetched.  */\n-/* { dg-final { scan-tree-dump-times \"Issued prefetch\" 2 \"aprefetch\" { xfail *-*-* } } } */\n-/* { dg-final { scan-tree-dump-times \"Not prefetching\" 1 \"aprefetch\" { xfail *-*-* } } } */\n+/* { dg-final { scan-tree-dump-times \"Issued prefetch\" 2 \"aprefetch\"  } } */\n+/* { dg-final { scan-tree-dump-times \"Not prefetching\" 1 \"aprefetch\"  } } */"}, {"sha": "e43ced656f52af1a26d4e4500686ea41f3047abb", "filename": "gcc/tree-ssa-loop-prefetch.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/000220585db1b91f8c387e690ca51813ad760692/gcc%2Ftree-ssa-loop-prefetch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/000220585db1b91f8c387e690ca51813ad760692/gcc%2Ftree-ssa-loop-prefetch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-prefetch.c?ref=000220585db1b91f8c387e690ca51813ad760692", "patch": "@@ -1848,7 +1848,7 @@ loop_prefetch_arrays (struct loop *loop)\n   ahead = (PREFETCH_LATENCY + time - 1) / time;\n   est_niter = estimated_stmt_executions_int (loop);\n   if (est_niter == -1)\n-    est_niter = max_stmt_executions_int (loop);\n+    est_niter = likely_max_stmt_executions_int (loop);\n \n   /* Prefetching is not likely to be profitable if the trip count to ahead\n      ratio is too small.  */"}]}