{"sha": "04780ee7ea605cb7157502cd427fe8555d98d3f5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDQ3ODBlZTdlYTYwNWNiNzE1NzUwMmNkNDI3ZmU4NTU1ZDk4ZDNmNQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-07-19T22:10:12Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-07-19T22:10:12Z"}, "message": "Add variants of call and call_value patterns for calls to functions defined in the same file.\n\nAdd variants of call and call_value patterns for calls to functions\ndefined in the same file.  Omit the TOC pointer reload after such\ncalls.\n\nFrom-SVN: r4943", "tree": {"sha": "5dd5859a44b190de972c4560a4de1363fb4b494a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5dd5859a44b190de972c4560a4de1363fb4b494a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/04780ee7ea605cb7157502cd427fe8555d98d3f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04780ee7ea605cb7157502cd427fe8555d98d3f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04780ee7ea605cb7157502cd427fe8555d98d3f5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04780ee7ea605cb7157502cd427fe8555d98d3f5/comments", "author": null, "committer": null, "parents": [{"sha": "b4f892eb33fec0722db2d1edacdb5df4f149e54b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4f892eb33fec0722db2d1edacdb5df4f149e54b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4f892eb33fec0722db2d1edacdb5df4f149e54b"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "d04b249ad87f6929bc5cb46a9c7d043b35dd104a", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04780ee7ea605cb7157502cd427fe8555d98d3f5/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04780ee7ea605cb7157502cd427fe8555d98d3f5/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=04780ee7ea605cb7157502cd427fe8555d98d3f5", "patch": "@@ -3040,6 +3040,18 @@\n     }\n }\")\n \n+;; Call to function in current module.  No TOC pointer reload needed.\n+\n+(define_insn \"\"\n+  [(call (mem:SI (match_operand:SI 0 \"current_file_function_operand\" \"s\"))\n+\t (match_operand 1 \"\" \"g\"))\n+   (clobber (match_scratch:SI 2 \"=l\"))]\n+  \"\"\n+  \"bl %z0\")\n+\n+;; Call to function which may be in another module.  Restore the TOC\n+;; pointer (r2) after the call.\n+\n (define_insn \"\"\n   [(call (mem:SI (match_operand:SI 0 \"call_operand\" \"l,s\"))\n \t (match_operand 1 \"\" \"fg,fg\"))\n@@ -3049,6 +3061,14 @@\n    brl\\;l 2,20(1)\n    bl %z0\\;cror %.,%.,%.\")\n \n+(define_insn \"\"\n+  [(set (match_operand 0 \"\" \"=fg\")\n+\t(call (mem:SI (match_operand:SI 1 \"current_file_function_operand\" \"s\"))\n+\t      (match_operand 2 \"\" \"g\")))\n+   (clobber (match_scratch:SI 3 \"=l\"))]\n+  \"\"\n+  \"bl %z1\")\n+\n (define_insn \"\"\n   [(set (match_operand 0 \"\" \"=fg,fg\")\n \t(call (mem:SI (match_operand:SI 1 \"call_operand\" \"l,s\"))"}]}