{"sha": "31f52518d4a2c1446692c35de01f3b54f2f544c7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzFmNTI1MThkNGEyYzE0NDY2OTJjMzVkZTAxZjNiNTRmMmY1NDRjNw==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2018-07-31T17:36:45Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2018-07-31T17:36:45Z"}, "message": "pdp11 - example of a port not needing a speculation barrier\n\nThis patch is intended as an example of all that is needed if the\ntarget system doesn't support CPUs that have speculative execution.\nI've chosen the pdp11 port on the basis that it's old enough that this\nis likely to be true for all existing implementations and that there\nis also little chance of that changing in future!\n\n\t* config/pdp11/pdp11.c (TARGET_HAVE_SPECULATION_SAFE_VALUE): Redefine\n\tto speculation_safe_value_not_needed.\n\nFrom-SVN: r263176", "tree": {"sha": "d1bef133378d63099894954f28c50d1115e806d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1bef133378d63099894954f28c50d1115e806d4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/31f52518d4a2c1446692c35de01f3b54f2f544c7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31f52518d4a2c1446692c35de01f3b54f2f544c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31f52518d4a2c1446692c35de01f3b54f2f544c7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31f52518d4a2c1446692c35de01f3b54f2f544c7/comments", "author": null, "committer": null, "parents": [{"sha": "f3debef33629f8e8a95b5ed0cb79296e7a0282df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3debef33629f8e8a95b5ed0cb79296e7a0282df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3debef33629f8e8a95b5ed0cb79296e7a0282df"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "d300118cb02623751b46b5a71dbc7e1ac0ce4df2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31f52518d4a2c1446692c35de01f3b54f2f544c7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31f52518d4a2c1446692c35de01f3b54f2f544c7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=31f52518d4a2c1446692c35de01f3b54f2f544c7", "patch": "@@ -1,3 +1,8 @@\n+2018-07-31  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* config/pdp11/pdp11.c (TARGET_HAVE_SPECULATION_SAFE_VALUE): Redefine\n+\tto speculation_safe_value_not_needed.\n+\n 2018-07-31  Richard Earnshaw  <rearnsha@arm.com>\n \n \t* targhooks.h (speculation_safe_value_not_needed): New prototype."}, {"sha": "62c653fd8a114256dba7f5bae64a9c4a002e65ac", "filename": "gcc/config/pdp11/pdp11.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31f52518d4a2c1446692c35de01f3b54f2f544c7/gcc%2Fconfig%2Fpdp11%2Fpdp11.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31f52518d4a2c1446692c35de01f3b54f2f544c7/gcc%2Fconfig%2Fpdp11%2Fpdp11.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpdp11%2Fpdp11.c?ref=31f52518d4a2c1446692c35de01f3b54f2f544c7", "patch": "@@ -291,6 +291,9 @@ static bool pdp11_scalar_mode_supported_p (scalar_mode);\n \n #undef TARGET_INVALID_WITHIN_DOLOOP\n #define TARGET_INVALID_WITHIN_DOLOOP hook_constcharptr_const_rtx_insn_null\n+\n+#undef TARGET_HAVE_SPECULATION_SAFE_VALUE\n+#define TARGET_HAVE_SPECULATION_SAFE_VALUE speculation_safe_value_not_needed\n \f\n /* A helper function to determine if REGNO should be saved in the\n    current function's stack frame.  */"}]}