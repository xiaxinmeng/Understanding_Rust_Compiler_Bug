{"sha": "747de90b1117a02ac82f097c17315ba461dcd2df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzQ3ZGU5MGIxMTE3YTAyYWM4MmYwOTdjMTczMTViYTQ2MWRjZDJkZg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-08-30T13:12:16Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-08-30T13:12:16Z"}, "message": "[multiple changes]\n\n2011-08-30  Bob Duff  <duff@adacore.com>\n\n\t* s-taskin.ads: Minor comment fix.\n\n2011-08-30  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_res.adb (Check_Parameterless_Call): If the node is a selected\n\tcomponent and the selector is a dispatching operation, check if it is\n\ta prefixed call before rewriting as a parameterless function call.\n\nFrom-SVN: r178294", "tree": {"sha": "855c7b1dcd4fa0232f9398afca9bd3ed23aef78c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/855c7b1dcd4fa0232f9398afca9bd3ed23aef78c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/747de90b1117a02ac82f097c17315ba461dcd2df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/747de90b1117a02ac82f097c17315ba461dcd2df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/747de90b1117a02ac82f097c17315ba461dcd2df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/747de90b1117a02ac82f097c17315ba461dcd2df/comments", "author": null, "committer": null, "parents": [{"sha": "cb89a1716cbc3cee3a712a586ec0ebebbb5b750f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb89a1716cbc3cee3a712a586ec0ebebbb5b750f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb89a1716cbc3cee3a712a586ec0ebebbb5b750f"}], "stats": {"total": 28, "additions": 26, "deletions": 2}, "files": [{"sha": "1dfd423be7d72d8c42b378b0f62012a8938ac38e", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/747de90b1117a02ac82f097c17315ba461dcd2df/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/747de90b1117a02ac82f097c17315ba461dcd2df/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=747de90b1117a02ac82f097c17315ba461dcd2df", "patch": "@@ -1,3 +1,13 @@\n+2011-08-30  Bob Duff  <duff@adacore.com>\n+\n+\t* s-taskin.ads: Minor comment fix.\n+\n+2011-08-30  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_res.adb (Check_Parameterless_Call): If the node is a selected\n+\tcomponent and the selector is a dispatching operation, check if it is\n+\ta prefixed call before rewriting as a parameterless function call.\n+\n 2011-08-29  Jakub Jelinek  <jakub@redhat.com>\n \n \t* gcc-interface/Makefile.in (../stamp-gnatlib1-$(RTSDIR)): Copy"}, {"sha": "971d4ee92bae37432ce0ed2df253db4a9cda99ea", "filename": "gcc/ada/s-taskin.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/747de90b1117a02ac82f097c17315ba461dcd2df/gcc%2Fada%2Fs-taskin.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/747de90b1117a02ac82f097c17315ba461dcd2df/gcc%2Fada%2Fs-taskin.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-taskin.ads?ref=747de90b1117a02ac82f097c17315ba461dcd2df", "patch": "@@ -585,8 +585,8 @@ package System.Tasking is\n       --  Master_Completion_Sleep (phase 1)\n \n       --  This is the number dependent tasks of a master being completed by\n-      --  Self that are not activated, not terminated, and not waiting on a\n-      --  terminate alternative.\n+      --  Self that are activated, but have not yet terminated, and are not\n+      --  waiting on a terminate alternative.\n \n       --  Master_Completion_2_Sleep (phase 2)\n "}, {"sha": "409ace4f8d279d40ad24b27fc455528232c1f32d", "filename": "gcc/ada/sem_res.adb", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/747de90b1117a02ac82f097c17315ba461dcd2df/gcc%2Fada%2Fsem_res.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/747de90b1117a02ac82f097c17315ba461dcd2df/gcc%2Fada%2Fsem_res.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_res.adb?ref=747de90b1117a02ac82f097c17315ba461dcd2df", "patch": "@@ -1115,6 +1115,20 @@ package body Sem_Res is\n          if Nkind (Parent (N)) /= N_Function_Call\n            or else N /= Name (Parent (N))\n          then\n+\n+            --  This may be a prefixed call that was not fully analyzed, e.g.\n+            --  an actual in an instance.\n+\n+            if Ada_Version >= Ada_2005\n+              and then Nkind (N) = N_Selected_Component\n+              and then Is_Dispatching_Operation (Entity (Selector_Name (N)))\n+            then\n+               Analyze_Selected_Component (N);\n+               if Nkind (N) /= N_Selected_Component then\n+                  return;\n+               end if;\n+            end if;\n+\n             Nam := New_Copy (N);\n \n             --  If overloaded, overload set belongs to new copy"}]}