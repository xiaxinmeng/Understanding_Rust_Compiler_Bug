{"sha": "a97a7ae98b47fb5a421427ab85eb06bcab48e71c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTk3YTdhZTk4YjQ3ZmI1YTQyMTQyN2FiODVlYjA2YmNhYjQ4ZTcxYw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2008-09-11T12:36:05Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2008-09-11T12:36:05Z"}, "message": "tree-ssa.c (redirect_edge_var_map_clear): Fix formatting.\n\n\t* tree-ssa.c (redirect_edge_var_map_clear): Fix formatting.\n\t(free_var_map_entry): New function.\n\t(redirect_edge_var_map_destroy): Use it.\n\nFrom-SVN: r140282", "tree": {"sha": "4ff1db5b36161204cc69caf080c539c64482451b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ff1db5b36161204cc69caf080c539c64482451b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a97a7ae98b47fb5a421427ab85eb06bcab48e71c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a97a7ae98b47fb5a421427ab85eb06bcab48e71c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a97a7ae98b47fb5a421427ab85eb06bcab48e71c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a97a7ae98b47fb5a421427ab85eb06bcab48e71c/comments", "author": null, "committer": null, "parents": [{"sha": "4a283090455f0d8c9271d18d2e02e1c1c6717809", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a283090455f0d8c9271d18d2e02e1c1c6717809", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a283090455f0d8c9271d18d2e02e1c1c6717809"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "53fc1a4bc6e8a484d141a06b9487deb847e065e2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a97a7ae98b47fb5a421427ab85eb06bcab48e71c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a97a7ae98b47fb5a421427ab85eb06bcab48e71c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a97a7ae98b47fb5a421427ab85eb06bcab48e71c", "patch": "@@ -1,3 +1,9 @@\n+2008-09-11  Jan Hubicka  <jh@suse.cz>\n+\n+\t* tree-ssa.c (redirect_edge_var_map_clear): Fix formatting.\n+\t(free_var_map_entry): New function.\n+\t(redirect_edge_var_map_destroy): Use it.\n+\n 2008-09-11  Jan Hubicka  <jh@suse.cz>\n \n \tPR middle-end/37448"}, {"sha": "6a1f6f353c8e7735992760d8f90fb4d7d1d889dd", "filename": "gcc/tree-ssa.c", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a97a7ae98b47fb5a421427ab85eb06bcab48e71c/gcc%2Ftree-ssa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a97a7ae98b47fb5a421427ab85eb06bcab48e71c/gcc%2Ftree-ssa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa.c?ref=a97a7ae98b47fb5a421427ab85eb06bcab48e71c", "patch": "@@ -112,7 +112,8 @@ redirect_edge_var_map_clear (edge e)\n void\n redirect_edge_var_map_dup (edge newe, edge olde)\n {\n-  void **new_slot, **old_slot; edge_var_map_vector head;\n+  void **new_slot, **old_slot;\n+  edge_var_map_vector head;\n \n   if (!edge_var_maps)\n     return;\n@@ -149,6 +150,17 @@ redirect_edge_var_map_vector (edge e)\n   return (edge_var_map_vector) *slot;\n }\n \n+/* Used by redirect_edge_var_map_destroy to free all memory.  */\n+\n+static bool\n+free_var_map_entry (const void *key ATTRIBUTE_UNUSED,\n+\t\t    void **value,\n+\t\t    void *data ATTRIBUTE_UNUSED)\n+{\n+  edge_var_map_vector head = (edge_var_map_vector) *value;\n+  VEC_free (edge_var_map, heap, head);\n+  return true;\n+}\n \n /* Clear the edge variable mappings.  */\n \n@@ -157,6 +169,7 @@ redirect_edge_var_map_destroy (void)\n {\n   if (edge_var_maps)\n     {\n+      pointer_map_traverse (edge_var_maps, free_var_map_entry, NULL);\n       pointer_map_destroy (edge_var_maps);\n       edge_var_maps = NULL;\n     }"}]}