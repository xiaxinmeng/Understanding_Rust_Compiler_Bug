{"sha": "9f4ccc25e3bb42d2109bce3b8bd920c2072c945e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWY0Y2NjMjVlM2JiNDJkMjEwOWJjZTNiOGJkOTIwYzIwNzJjOTQ1ZQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-05-21T01:33:53Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-05-21T01:33:53Z"}, "message": "optabs.c (emit_cmp_and_jump_insns): Don't swap commutative operands unless the operation is commutative.\n\n        * optabs.c (emit_cmp_and_jump_insns): Don't swap commutative\n        operands unless the operation is commutative.\n\nFrom-SVN: r42366", "tree": {"sha": "4d13aeef83e6b57915789bd1461881e8a64fa871", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d13aeef83e6b57915789bd1461881e8a64fa871"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9f4ccc25e3bb42d2109bce3b8bd920c2072c945e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f4ccc25e3bb42d2109bce3b8bd920c2072c945e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f4ccc25e3bb42d2109bce3b8bd920c2072c945e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f4ccc25e3bb42d2109bce3b8bd920c2072c945e/comments", "author": null, "committer": null, "parents": [{"sha": "88e3805d76d44556e6c07062d62a31e7953b5a6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88e3805d76d44556e6c07062d62a31e7953b5a6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88e3805d76d44556e6c07062d62a31e7953b5a6a"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "dc32386fdd4a4f0c6c55a0416172ab1d85b23fa3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f4ccc25e3bb42d2109bce3b8bd920c2072c945e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f4ccc25e3bb42d2109bce3b8bd920c2072c945e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9f4ccc25e3bb42d2109bce3b8bd920c2072c945e", "patch": "@@ -1,3 +1,8 @@\n+2001-05-20  Richard Henderson  <rth@redhat.com>\n+\n+\t* optabs.c (emit_cmp_and_jump_insns): Don't swap commutative\n+\toperands unless the operation is commutative.\n+\n 2001-05-20  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* fold-const.c (tree_expr_nonnegative_p): Detect more non-negative"}, {"sha": "1bc8aaf1f0e72616ceea27e0393b1de1eddb4da9", "filename": "gcc/optabs.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f4ccc25e3bb42d2109bce3b8bd920c2072c945e/gcc%2Foptabs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f4ccc25e3bb42d2109bce3b8bd920c2072c945e/gcc%2Foptabs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptabs.c?ref=9f4ccc25e3bb42d2109bce3b8bd920c2072c945e", "patch": "@@ -3289,13 +3289,16 @@ emit_cmp_and_jump_insns (x, y, comparison, size, mode, unsignedp, align, label)\n {\n   rtx op0;\n   rtx op1;\n-\t  \n-  if (swap_commutative_operands_p (x, y))\n+\n+  /* We may not swap in the general case, since this is called from \n+     compare_from_rtx, and we have no way of reporting the changed\n+     comparison code.  */\n+  if (comparison == swap_condition (comparison)\n+      && swap_commutative_operands_p (x, y))\n     {\n       /* Swap operands and condition to ensure canonical RTL.  */\n       op0 = y;\n       op1 = x;\n-      comparison = swap_condition (comparison);\n     }\n   else\n     {"}]}