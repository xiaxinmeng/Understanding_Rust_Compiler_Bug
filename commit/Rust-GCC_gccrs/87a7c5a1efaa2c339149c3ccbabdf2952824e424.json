{"sha": "87a7c5a1efaa2c339149c3ccbabdf2952824e424", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdhN2M1YTFlZmFhMmMzMzkxNDljM2NjYmFiZGYyOTUyODI0ZTQyNA==", "commit": {"author": {"name": "Brendan Kehoe", "email": "brendan@zen.org", "date": "2003-05-27T21:14:49Z"}, "committer": {"name": "Brendan Kehoe", "email": "brendan@gcc.gnu.org", "date": "2003-05-27T21:14:49Z"}, "message": "locale_facets.tcc (do_get): Honor $22.2.6.3.3/8 and make sure the number of digits required after the...\n\n2003-05-26  Brendan Kehoe  <brendan@zen.org>\n\n    * include/bits/locale_facets.tcc (do_get): Honor $22.2.6.3.3/8 and\n    make sure the number of digits required after the decimal-point\n    (if any) is exactly the value returned by frac_digits().\n\nFrom-SVN: r67192", "tree": {"sha": "f38f7f99b91ea02b0aa9bef10678b952e713cdb9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f38f7f99b91ea02b0aa9bef10678b952e713cdb9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87a7c5a1efaa2c339149c3ccbabdf2952824e424", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87a7c5a1efaa2c339149c3ccbabdf2952824e424", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87a7c5a1efaa2c339149c3ccbabdf2952824e424", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87a7c5a1efaa2c339149c3ccbabdf2952824e424/comments", "author": null, "committer": null, "parents": [{"sha": "87192773c445a730b2bda81da5b0847b11cda91e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87192773c445a730b2bda81da5b0847b11cda91e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87192773c445a730b2bda81da5b0847b11cda91e"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "49115a46864c4c757211a498204bf77ead27ee48", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87a7c5a1efaa2c339149c3ccbabdf2952824e424/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87a7c5a1efaa2c339149c3ccbabdf2952824e424/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=87a7c5a1efaa2c339149c3ccbabdf2952824e424", "patch": "@@ -1,3 +1,9 @@\n+2003-05-26  Brendan Kehoe  <brendan@zen.org>\n+\n+\t* include/bits/locale_facets.tcc (do_get): Honor $22.2.6.3.3/8 and\n+\tmake sure the number of digits required after the decimal-point\n+\t(if any) is exactly the value returned by frac_digits().\n+\n 2003-05-27  Jonathan Wakely  <redi@gcc.gnu.org>\n \n \t* include/std/std_istream.h, include/std/std_ostream.h: Typo in comment."}, {"sha": "624018285d8e79347e5d18e0e4795b065db12406", "filename": "libstdc++-v3/include/bits/locale_facets.tcc", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87a7c5a1efaa2c339149c3ccbabdf2952824e424/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87a7c5a1efaa2c339149c3ccbabdf2952824e424/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc?ref=87a7c5a1efaa2c339149c3ccbabdf2952824e424", "patch": "@@ -1271,6 +1271,18 @@ namespace std\n       if (__c == __eof)\n \t__err |= ios_base::eofbit;\n \n+      // Iff not enough digits were supplied after the decimal-point.\n+      if (__testdecfound)\n+\t{\n+\t  const int __frac = __intl ? __mpt.frac_digits() \n+\t\t\t\t    : __mpf.frac_digits();\n+\t  if (__frac > 0)\n+\t    {\n+\t      if (__sep_pos != __frac)\n+\t\t__testvalid = false;\n+\t    }\n+\t}\n+\n       // Iff valid sequence is not recognized.\n       if (!__testvalid || !__tmp_units.size())\n \t__err |= ios_base::failbit;"}]}