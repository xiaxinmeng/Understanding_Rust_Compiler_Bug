{"sha": "141b2e9f0543021ee1d868310e01c36b235b716d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTQxYjJlOWYwNTQzMDIxZWUxZDg2ODMxMGUwMWMzNmIyMzViNzE2ZA==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1995-11-28T17:49:46Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1995-11-28T17:49:46Z"}, "message": "pa.md (define split for (plus (reg) (large_constant)): Try another way to handle this with only 2 insns.\n\n        * pa.md (define split for (plus (reg) (large_constant)): Try\n        another way to handle this with only 2 insns.  From Tege.\n\nFrom-SVN: r10616", "tree": {"sha": "bfc6a8c78b3e81d4f7087d49067403fcb00af851", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bfc6a8c78b3e81d4f7087d49067403fcb00af851"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/141b2e9f0543021ee1d868310e01c36b235b716d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/141b2e9f0543021ee1d868310e01c36b235b716d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/141b2e9f0543021ee1d868310e01c36b235b716d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/141b2e9f0543021ee1d868310e01c36b235b716d/comments", "author": null, "committer": null, "parents": [{"sha": "1ace9b605280a3134cc93f924420dd77d3b176be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ace9b605280a3134cc93f924420dd77d3b176be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ace9b605280a3134cc93f924420dd77d3b176be"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "4f3c92a8aa457b0b16472e059a32f5c8a8079fcc", "filename": "gcc/config/pa/pa.md", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/141b2e9f0543021ee1d868310e01c36b235b716d/gcc%2Fconfig%2Fpa%2Fpa.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/141b2e9f0543021ee1d868310e01c36b235b716d/gcc%2Fconfig%2Fpa%2Fpa.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.md?ref=141b2e9f0543021ee1d868310e01c36b235b716d", "patch": "@@ -2903,7 +2903,10 @@\n \n   /* Try dividing the constant by 2, then 4, and finally 8 to see\n      if we can get a constant which can be loaded into a register\n-     in a single instruction (cint_ok_for_move).  */\n+     in a single instruction (cint_ok_for_move). \n+\n+     If that fails, try to negate the constant and subtract it\n+     from our input operand.  */\n   if (intval % 2 == 0 && cint_ok_for_move (intval / 2))\n     {\n       operands[2] = GEN_INT (intval / 2);\n@@ -2919,6 +2922,12 @@\n       operands[2] = GEN_INT (intval / 8);\n       operands[3] = GEN_INT (8);\n     }\n+  else if (cint_ok_for_move (-intval))\n+    {\n+      emit_insn (gen_rtx (SET, VOIDmode, operands[4], GEN_INT (-intval)));\n+      emit_insn (gen_subsi3 (operands[0], operands[1], operands[4]));\n+      DONE;\n+    }\n   else\n     FAIL;\n }\")"}]}