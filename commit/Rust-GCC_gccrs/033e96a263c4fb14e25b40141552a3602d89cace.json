{"sha": "033e96a263c4fb14e25b40141552a3602d89cace", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDMzZTk2YTI2M2M0ZmIxNGUyNWI0MDE0MTU1MmEzNjAyZDg5Y2FjZQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-07-20T19:53:54Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-07-20T19:53:54Z"}, "message": "compiler: add explicit convert in Type_guard_expression::do_get_backend\n    \n    The current recipe in Type_guard_expression for creating a Bexpression\n    performs a type conversion at the Type level, but doesn't invoke\n    Backend::convert_expression to capture the conversion for the back\n    end. Add code to create a BE type conversion operation.\n    \n    Reviewed-on: https://go-review.googlesource.com/50373\n\nFrom-SVN: r250400", "tree": {"sha": "b96e4ead16411d6708a4ae393a9fc31ab1c07e9b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b96e4ead16411d6708a4ae393a9fc31ab1c07e9b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/033e96a263c4fb14e25b40141552a3602d89cace", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/033e96a263c4fb14e25b40141552a3602d89cace", "html_url": "https://github.com/Rust-GCC/gccrs/commit/033e96a263c4fb14e25b40141552a3602d89cace", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/033e96a263c4fb14e25b40141552a3602d89cace/comments", "author": null, "committer": null, "parents": [{"sha": "2953b72fdd6c7d812028a636dfadf1c0e89ca314", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2953b72fdd6c7d812028a636dfadf1c0e89ca314", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2953b72fdd6c7d812028a636dfadf1c0e89ca314"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "5f624b4b795d24a6265de024ad59768c6e878449", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033e96a263c4fb14e25b40141552a3602d89cace/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033e96a263c4fb14e25b40141552a3602d89cace/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=033e96a263c4fb14e25b40141552a3602d89cace", "patch": "@@ -1,4 +1,4 @@\n-3d9ff9bc339942922f1be3bef07c6fe2978ad81a\n+6572f7e35f962bdb8a7c174920dbb70350b96874\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "96a0731c222ce122adc340545ea09d828b7685e9", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033e96a263c4fb14e25b40141552a3602d89cace/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033e96a263c4fb14e25b40141552a3602d89cace/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=033e96a263c4fb14e25b40141552a3602d89cace", "patch": "@@ -14307,7 +14307,10 @@ Type_guard_expression::do_get_backend(Translate_context* context)\n         Expression::convert_for_assignment(context->gogo(), this->type_,\n                                            this->expr_, this->location());\n \n-  return conversion->get_backend(context);\n+  Gogo* gogo = context->gogo();\n+  Btype* bt = this->type_->get_backend(gogo);\n+  Bexpression* bexpr = conversion->get_backend(context);\n+  return gogo->backend()->convert_expression(bt, bexpr, this->location());\n }\n \n // Dump ast representation for a type guard expression."}]}