{"sha": "6ce065b607072415124a6a15124e1424f5b6a5e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmNlMDY1YjYwNzA3MjQxNTEyNGE2YTE1MTI0ZTE0MjRmNWI2YTVlOA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2018-01-16T08:54:03Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2018-01-16T08:54:03Z"}, "message": "re PR rtl-optimization/83213 (peephole bug with -O2)\n\n\tPR rtl-optimization/83213\n\t* recog.c (peep2_attempt): Copy over CROSSING_JUMP_P from peepinsn\n\tto last if both are JUMP_INSNs.\n\nFrom-SVN: r256728", "tree": {"sha": "5f85e46f6a8e69d4b2a1a7755310fd8d3b557ec2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5f85e46f6a8e69d4b2a1a7755310fd8d3b557ec2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6ce065b607072415124a6a15124e1424f5b6a5e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ce065b607072415124a6a15124e1424f5b6a5e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ce065b607072415124a6a15124e1424f5b6a5e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ce065b607072415124a6a15124e1424f5b6a5e8/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "be52ac73d120b5bf27f13c41656c6cfe132c8c30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be52ac73d120b5bf27f13c41656c6cfe132c8c30", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be52ac73d120b5bf27f13c41656c6cfe132c8c30"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "026e8a89d0cc799b596063ba54c62e93cd0ae3cc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ce065b607072415124a6a15124e1424f5b6a5e8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ce065b607072415124a6a15124e1424f5b6a5e8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6ce065b607072415124a6a15124e1424f5b6a5e8", "patch": "@@ -1,5 +1,9 @@\n 2018-01-16  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR rtl-optimization/83213\n+\t* recog.c (peep2_attempt): Copy over CROSSING_JUMP_P from peepinsn\n+\tto last if both are JUMP_INSNs.\n+\n \tPR tree-optimization/83843\n \t* gimple-ssa-store-merging.c\n \t(imm_store_chain_info::output_merged_store): Handle bit_not_p on"}, {"sha": "af6a6b01d88cea8fb843cc8a1e5467d062c0f9ed", "filename": "gcc/recog.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ce065b607072415124a6a15124e1424f5b6a5e8/gcc%2Frecog.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ce065b607072415124a6a15124e1424f5b6a5e8/gcc%2Frecog.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frecog.c?ref=6ce065b607072415124a6a15124e1424f5b6a5e8", "patch": "@@ -3446,6 +3446,8 @@ peep2_attempt (basic_block bb, rtx_insn *insn, int match_len, rtx_insn *attempt)\n   last = emit_insn_after_setloc (attempt,\n \t\t\t\t peep2_insn_data[i].insn,\n \t\t\t\t INSN_LOCATION (peepinsn));\n+  if (JUMP_P (peepinsn) && JUMP_P (last))\n+    CROSSING_JUMP_P (last) = CROSSING_JUMP_P (peepinsn);\n   before_try = PREV_INSN (insn);\n   delete_insn_chain (insn, peep2_insn_data[i].insn, false);\n "}]}