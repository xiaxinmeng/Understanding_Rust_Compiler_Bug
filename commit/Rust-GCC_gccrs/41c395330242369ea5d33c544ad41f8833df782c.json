{"sha": "41c395330242369ea5d33c544ad41f8833df782c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDFjMzk1MzMwMjQyMzY5ZWE1ZDMzYzU0NGFkNDFmODgzM2RmNzgyYw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2000-11-30T20:15:13Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-11-30T20:15:13Z"}, "message": "calls.c (expand_call): Emit queued insns before creating the tail recursion sequence.\n\n        * calls.c (expand_call): Emit queued insns before creating\n        the tail recursion sequence.\n\n\t* gcc.c-torture/execute/20001130-1.c: New test.\n\nFrom-SVN: r37898", "tree": {"sha": "191f5cedc2e47a3154e5b0e3ba3f60c57506f60b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/191f5cedc2e47a3154e5b0e3ba3f60c57506f60b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/41c395330242369ea5d33c544ad41f8833df782c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41c395330242369ea5d33c544ad41f8833df782c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41c395330242369ea5d33c544ad41f8833df782c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41c395330242369ea5d33c544ad41f8833df782c/comments", "author": null, "committer": null, "parents": [{"sha": "31b1b95769d40692822b6516545827e781b28a7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31b1b95769d40692822b6516545827e781b28a7b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31b1b95769d40692822b6516545827e781b28a7b"}], "stats": {"total": 34, "additions": 34, "deletions": 0}, "files": [{"sha": "3b384483790f4db0e7d33cd65fd8183a5d700570", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41c395330242369ea5d33c544ad41f8833df782c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41c395330242369ea5d33c544ad41f8833df782c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=41c395330242369ea5d33c544ad41f8833df782c", "patch": "@@ -1,3 +1,8 @@\n+2000-11-30  Richard Henderson  <rth@redhat.com>\n+\n+\t* calls.c (expand_call): Emit queued insns before creating\n+\tthe tail recursion sequence.\n+\n 2000-11-30  J. David Anglin  <dave.anglin@nrc.ca>\n             Bruce Korb  <bkorb@gnu.org>\n "}, {"sha": "9513c308507b2c9777dc4d8c8c9b19406e38f1c9", "filename": "gcc/calls.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41c395330242369ea5d33c544ad41f8833df782c/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41c395330242369ea5d33c544ad41f8833df782c/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=41c395330242369ea5d33c544ad41f8833df782c", "patch": "@@ -2552,6 +2552,10 @@ expand_call (exp, target, ignore)\n       int save_pending_stack_adjust = pending_stack_adjust;\n       int save_stack_pointer_delta = stack_pointer_delta;\n \n+      /* Emit any queued insns now; otherwise they would end up in\n+\t only one of the alternates.  */\n+      emit_queue ();\n+\n       /* Use a new sequence to hold any RTL we generate.  We do not even\n \t know if we will use this RTL yet.  The final decision can not be\n \t made until after RTL generation for the entire function is"}, {"sha": "f9c90e24a8cd22670dabd90919b031f2f7cb0edf", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41c395330242369ea5d33c544ad41f8833df782c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41c395330242369ea5d33c544ad41f8833df782c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=41c395330242369ea5d33c544ad41f8833df782c", "patch": "@@ -1,3 +1,7 @@\n+2000-11-30  Richard Henderson  <rth@redhat.com>\n+\n+\t* gcc.c-torture/execute/20001130-1.c: New test.\n+\n 2000-11-30  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* g++.old-deja/g++.other/op3.C: New test."}, {"sha": "4a996ee6ad3a56a850e8e564c666b0907c4a9eb4", "filename": "gcc/testsuite/gcc.c-torture/execute/20001130-1.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41c395330242369ea5d33c544ad41f8833df782c/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20001130-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41c395330242369ea5d33c544ad41f8833df782c/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20001130-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20001130-1.c?ref=41c395330242369ea5d33c544ad41f8833df782c", "patch": "@@ -0,0 +1,21 @@\n+static inline int bar(void) { return 1; }\n+static int mem[3];\n+\n+static int foo(int x)\n+{\n+  if (x != 0)\n+    return x;\n+\n+  mem[x++] = foo(bar());\n+\n+  if (x != 1)\n+    abort();\n+\n+  return 0;\n+}\n+\n+int main()\n+{\n+  foo(0);\n+  return 0;\n+}"}]}