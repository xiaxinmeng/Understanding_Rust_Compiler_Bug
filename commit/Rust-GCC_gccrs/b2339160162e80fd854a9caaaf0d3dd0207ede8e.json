{"sha": "b2339160162e80fd854a9caaaf0d3dd0207ede8e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjIzMzkxNjAxNjJlODBmZDg1NGE5Y2FhYWYwZDNkZDAyMDdlZGU4ZQ==", "commit": {"author": {"name": "Bob Duff", "email": "duff@adacore.com", "date": "2021-02-05T18:06:13Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-06-15T10:19:21Z"}, "message": "[Ada] Fix bug in if_expressions introduced by var-size nodes changes\n\ngcc/ada/\n\n\t* gen_il-gen.adb (Setter_Needs_Parent): Add missing\n\tThen_Actions.  Fix self-contradictory comment.\n\t* exp_util.adb (Insert_Actions): Minor comment improvments.", "tree": {"sha": "ad5819f1c593b806bdc9e966be886675bc069478", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad5819f1c593b806bdc9e966be886675bc069478"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b2339160162e80fd854a9caaaf0d3dd0207ede8e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2339160162e80fd854a9caaaf0d3dd0207ede8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2339160162e80fd854a9caaaf0d3dd0207ede8e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2339160162e80fd854a9caaaf0d3dd0207ede8e/comments", "author": {"login": "bobduff", "id": 29099567, "node_id": "MDQ6VXNlcjI5MDk5NTY3", "avatar_url": "https://avatars.githubusercontent.com/u/29099567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobduff", "html_url": "https://github.com/bobduff", "followers_url": "https://api.github.com/users/bobduff/followers", "following_url": "https://api.github.com/users/bobduff/following{/other_user}", "gists_url": "https://api.github.com/users/bobduff/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobduff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobduff/subscriptions", "organizations_url": "https://api.github.com/users/bobduff/orgs", "repos_url": "https://api.github.com/users/bobduff/repos", "events_url": "https://api.github.com/users/bobduff/events{/privacy}", "received_events_url": "https://api.github.com/users/bobduff/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f1e93d3f1ad9091e0c986e6e014738a53f10a50e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f1e93d3f1ad9091e0c986e6e014738a53f10a50e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f1e93d3f1ad9091e0c986e6e014738a53f10a50e"}], "stats": {"total": 20, "additions": 9, "deletions": 11}, "files": [{"sha": "1189870bd604756882aebd26ae962e3b2757261f", "filename": "gcc/ada/exp_util.adb", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2339160162e80fd854a9caaaf0d3dd0207ede8e/gcc%2Fada%2Fexp_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2339160162e80fd854a9caaaf0d3dd0207ede8e/gcc%2Fada%2Fexp_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_util.adb?ref=b2339160162e80fd854a9caaaf0d3dd0207ede8e", "patch": "@@ -7203,8 +7203,8 @@ package body Exp_Util is\n \n                   --  Actions belong to the then expression, temporarily place\n                   --  them as Then_Actions of the if expression. They will be\n-                  --  moved to the proper place later when the if expression\n-                  --  is expanded.\n+                  --  moved to the proper place later when the if expression is\n+                  --  expanded.\n \n                   elsif N = ThenX then\n                      if Present (Then_Actions (P)) then\n@@ -7217,10 +7217,7 @@ package body Exp_Util is\n \n                      return;\n \n-                  --  Actions belong to the else expression, temporarily place\n-                  --  them as Else_Actions of the if expression. They will be\n-                  --  moved to the proper place later when the if expression\n-                  --  is expanded.\n+                  --  Else_Actions is treated the same as Then_Actions above\n \n                   elsif N = ElseX then\n                      if Present (Else_Actions (P)) then"}, {"sha": "cffbf2a87d16d27ae6fa772fea084ea51bb0bee2", "filename": "gcc/ada/gen_il-gen.adb", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2339160162e80fd854a9caaaf0d3dd0207ede8e/gcc%2Fada%2Fgen_il-gen.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2339160162e80fd854a9caaaf0d3dd0207ede8e/gcc%2Fada%2Fgen_il-gen.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il-gen.adb?ref=b2339160162e80fd854a9caaaf0d3dd0207ede8e", "patch": "@@ -479,13 +479,14 @@ package body Gen_IL.Gen is\n       Node_Field_Types_Used, Entity_Field_Types_Used : Type_Set;\n \n       Setter_Needs_Parent : Field_Set :=\n-        (Actions | Expression | Else_Actions => True, others => False);\n+        (Actions | Expression | Then_Actions | Else_Actions => True,\n+         others => False);\n       --  Set of fields where the setter should set the Parent. True for\n       --  syntactic fields of type Node_Id and List_Id, but with some\n-      --  exceptions. Expression and Else_Actions are syntactic AND semantic,\n-      --  and the Parent is needed.  Default_Expression is also both, but the\n-      --  Parent is not needed.  Else_Actions is not syntactic, but the Parent\n-      --  is needed.\n+      --  exceptions. Expression is syntactic AND semantic, and the Parent\n+      --  is needed. Default_Expression is also both, but the Parent is not\n+      --  needed. Then_Actions and Else_Actions are not syntactic, but the\n+      --  Parent is needed.\n \n       procedure Check_Completeness;\n       --  Check that every type and field has been declared"}]}