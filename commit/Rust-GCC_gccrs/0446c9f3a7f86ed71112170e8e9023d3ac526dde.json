{"sha": "0446c9f3a7f86ed71112170e8e9023d3ac526dde", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDQ0NmM5ZjNhN2Y4NmVkNzExMTIxNzBlOGU5MDIzZDNhYzUyNmRkZQ==", "commit": {"author": {"name": "Zdenek Dvorak", "email": "dvorakz@suse.cz", "date": "2006-11-22T23:11:15Z"}, "committer": {"name": "Zdenek Dvorak", "email": "rakdver@gcc.gnu.org", "date": "2006-11-22T23:11:15Z"}, "message": "re PR tree-optimization/29921 (internal compiler error: in set_lattice_value, at tree-ssa-ccp.c:437)\n\n\tPR tree-optimization/29921\n\t* fold-const.c (operand_equal_p): Without HONOR_SIGNED_ZEROS, consider\n\tsigned and unsigned zero equal.\n\n\t* gcc.dg/pr29921.c: New test.\n\nFrom-SVN: r119102", "tree": {"sha": "466302702261d13e0284a991a22c4b62dc8aa24f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/466302702261d13e0284a991a22c4b62dc8aa24f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0446c9f3a7f86ed71112170e8e9023d3ac526dde", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0446c9f3a7f86ed71112170e8e9023d3ac526dde", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0446c9f3a7f86ed71112170e8e9023d3ac526dde", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0446c9f3a7f86ed71112170e8e9023d3ac526dde/comments", "author": null, "committer": null, "parents": [{"sha": "cbad228156007fa24dda35b0a479b751ee12c9d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbad228156007fa24dda35b0a479b751ee12c9d2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cbad228156007fa24dda35b0a479b751ee12c9d2"}], "stats": {"total": 46, "additions": 44, "deletions": 2}, "files": [{"sha": "5bb0ce3bfc60bbe3ed29438366555eec1ea84e1d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0446c9f3a7f86ed71112170e8e9023d3ac526dde/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0446c9f3a7f86ed71112170e8e9023d3ac526dde/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0446c9f3a7f86ed71112170e8e9023d3ac526dde", "patch": "@@ -1,3 +1,9 @@\n+2006-11-23  Zdenek Dvorak <dvorakz@suse.cz>\n+\n+\tPR tree-optimization/29921\n+\t* fold-const.c (operand_equal_p): Without HONOR_SIGNED_ZEROS, consider\n+\tsigned and unsigned zero equal.\n+\n 2006-11-22  Peter Bergner  <bergner@vnet.ibm.com>\n \n \t* config/rs6000/rs6000.c (get_store_dest): New."}, {"sha": "b19b7688a2dcb1f78938073757db7292b34d60be", "filename": "gcc/fold-const.c", "status": "modified", "additions": 13, "deletions": 2, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0446c9f3a7f86ed71112170e8e9023d3ac526dde/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0446c9f3a7f86ed71112170e8e9023d3ac526dde/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=0446c9f3a7f86ed71112170e8e9023d3ac526dde", "patch": "@@ -2584,8 +2584,19 @@ operand_equal_p (tree arg0, tree arg1, unsigned int flags)\n \treturn tree_int_cst_equal (arg0, arg1);\n \n       case REAL_CST:\n-\treturn REAL_VALUES_IDENTICAL (TREE_REAL_CST (arg0),\n-\t\t\t\t      TREE_REAL_CST (arg1));\n+\tif (REAL_VALUES_IDENTICAL (TREE_REAL_CST (arg0),\n+\t\t\t\t   TREE_REAL_CST (arg1)))\n+\t  return 1;\n+\n+\t\n+\tif (!HONOR_SIGNED_ZEROS (TYPE_MODE (TREE_TYPE (arg0))))\n+\t  {\n+\t    /* If we do not distinguish between signed and unsigned zero,\n+\t       consider them equal.  */\n+\t    if (real_zerop (arg0) && real_zerop (arg1))\n+\t      return 1;\n+\t  }\n+\treturn 0;\n \n       case VECTOR_CST:\n \t{"}, {"sha": "f8dc647d4e0c421407ef8e403c9509fe1abc799e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0446c9f3a7f86ed71112170e8e9023d3ac526dde/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0446c9f3a7f86ed71112170e8e9023d3ac526dde/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0446c9f3a7f86ed71112170e8e9023d3ac526dde", "patch": "@@ -1,3 +1,8 @@\n+2006-11-23  Zdenek Dvorak <dvorakz@suse.cz>\n+\n+\tPR tree-optimization/29921\n+\t* gcc.dg/pr29921.c: New test.\n+\n 2006-11-22  Tobias Schlueter  <tobias.schlueter@physik.uni-muenchen.de>\n \n \tPR fortran/29441"}, {"sha": "7689f54ce250b81ed328303851f541aef6e1bcf2", "filename": "gcc/testsuite/gcc.dg/pr29921.c", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0446c9f3a7f86ed71112170e8e9023d3ac526dde/gcc%2Ftestsuite%2Fgcc.dg%2Fpr29921.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0446c9f3a7f86ed71112170e8e9023d3ac526dde/gcc%2Ftestsuite%2Fgcc.dg%2Fpr29921.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr29921.c?ref=0446c9f3a7f86ed71112170e8e9023d3ac526dde", "patch": "@@ -0,0 +1,20 @@\n+/* With -ffast-math, the latice value for t changes from -0.0 to 0.0 in this\n+   testcase.  */\n+\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -ffast-math\" } */\n+\n+double test (int param)\n+{\n+  double a = 0.0, b = -1.0, t;\n+  int i;\n+\n+  for (i = 0; i < 100; i++)\n+    {\n+      t = a * b;\n+      if (param)\n+\tb = 2.0;\n+    }\n+\n+  return t;\n+}"}]}