{"sha": "2b8b1ab66131bfc8eacf1643a344bb5a01b9058b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmI4YjFhYjY2MTMxYmZjOGVhY2YxNjQzYTM0NGJiNWEwMWI5MDU4Yg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "2000-08-16T06:23:40Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-08-16T06:23:40Z"}, "message": "New test.\n\nFrom-SVN: r35740", "tree": {"sha": "ba6b70763447e09c5d2d34aa419a802e9c4c603b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba6b70763447e09c5d2d34aa419a802e9c4c603b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2b8b1ab66131bfc8eacf1643a344bb5a01b9058b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b8b1ab66131bfc8eacf1643a344bb5a01b9058b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b8b1ab66131bfc8eacf1643a344bb5a01b9058b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b8b1ab66131bfc8eacf1643a344bb5a01b9058b/comments", "author": null, "committer": null, "parents": [{"sha": "3e626beb95980cff96e1065ccff070ac27c44d6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e626beb95980cff96e1065ccff070ac27c44d6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e626beb95980cff96e1065ccff070ac27c44d6a"}], "stats": {"total": 74, "additions": 74, "deletions": 0}, "files": [{"sha": "7199ee4966b106bcdd873feb1e2dd4ff4d615387", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b8b1ab66131bfc8eacf1643a344bb5a01b9058b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b8b1ab66131bfc8eacf1643a344bb5a01b9058b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2b8b1ab66131bfc8eacf1643a344bb5a01b9058b", "patch": "@@ -1,3 +1,7 @@\n+2000-08-15  Richard Henderson  <rth@cygnus.com>\n+\n+\t* gcc.c-torture/execute/20000815-1.c: New test.\n+\n 2000-08-15  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* gcc.dg/c90-array-lval-2.c, gcc.dg/c90-const-expr-2.c,"}, {"sha": "22b537f993aff55285f896b6e85b163c7501ded7", "filename": "gcc/testsuite/gcc.c-torture/execute/20000815-1.c", "status": "added", "additions": 70, "deletions": 0, "changes": 70, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b8b1ab66131bfc8eacf1643a344bb5a01b9058b/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20000815-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b8b1ab66131bfc8eacf1643a344bb5a01b9058b/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20000815-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20000815-1.c?ref=2b8b1ab66131bfc8eacf1643a344bb5a01b9058b", "patch": "@@ -0,0 +1,70 @@\n+struct table_elt\n+{\n+  void *exp;\n+  struct table_elt *next_same_hash;\n+  struct table_elt *prev_same_hash;\n+  struct table_elt *next_same_value;\n+  struct table_elt *prev_same_value;\n+  struct table_elt *first_same_value;\n+  struct table_elt *related_value;\n+  int cost;\n+  int mode;\n+  char in_memory;\n+  char in_struct;\n+  char is_const;\n+  char flag;\n+};\n+\n+struct write_data\n+{\n+  int sp : 1;\t\t\t \n+  int var : 1;\t\t\t \n+  int nonscalar : 1;\t\t \n+  int all : 1;\t\t\t \n+};\n+\n+int cse_rtx_addr_varies_p(void *);\n+void remove_from_table(struct table_elt *, int);\n+static struct table_elt *table[32];\n+\n+void\n+invalidate_memory (writes)\n+     struct write_data *writes;\n+{\n+  register int i;\n+  register struct table_elt *p, *next;\n+  int all = writes->all;\n+  int nonscalar = writes->nonscalar;\n+\n+  for (i = 0; i < 31; i++)\n+    for (p = table[i]; p; p = next)\n+      {\n+\tnext = p->next_same_hash;\n+\tif (p->in_memory\n+\t    && (all\n+\t\t|| (nonscalar && p->in_struct)\n+\t\t|| cse_rtx_addr_varies_p (p->exp)))\n+\t  remove_from_table (p, i);\n+      }\n+}\n+\n+int cse_rtx_addr_varies_p(void *x) { return 0; }\n+void remove_from_table(struct table_elt *x, int y) { abort (); }\n+\n+int\n+main()\n+{\n+  struct write_data writes;\n+  struct table_elt elt;\n+\n+  __builtin_memset(&elt, 0, sizeof(elt));\n+  elt.in_memory = 1;\n+  table[0] = &elt;\n+\n+  __builtin_memset(&writes, 0, sizeof(writes));\n+  writes.var = 1;\n+  writes.nonscalar = 1;\n+\n+  invalidate_memory(&writes);\n+  return 0;\n+}"}]}