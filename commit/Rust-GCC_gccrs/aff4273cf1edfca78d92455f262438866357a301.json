{"sha": "aff4273cf1edfca78d92455f262438866357a301", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWZmNDI3M2NmMWVkZmNhNzhkOTI0NTVmMjYyNDM4ODY2MzU3YTMwMQ==", "commit": {"author": {"name": "Rafael Avila de Espindola", "email": "espindola@google.com", "date": "2009-10-28T21:41:34Z"}, "committer": {"name": "Rafael Espindola", "email": "espindola@gcc.gnu.org", "date": "2009-10-28T21:41:34Z"}, "message": "lto-plugin.c (all_symbols_read_handler): Use LDPL_FATAL instead of LDPL_ERROR\n\n2009-10-28  Rafael Avila de Espindola  <espindola@google.com>\n\n       * lto-plugin.c (all_symbols_read_handler): Use LDPL_FATAL instead of\n       LDPL_ERROR\n\nFrom-SVN: r153687", "tree": {"sha": "67b4bf8c446f1bc114212d09c81dbdb74b31496c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/67b4bf8c446f1bc114212d09c81dbdb74b31496c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aff4273cf1edfca78d92455f262438866357a301", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aff4273cf1edfca78d92455f262438866357a301", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aff4273cf1edfca78d92455f262438866357a301", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aff4273cf1edfca78d92455f262438866357a301/comments", "author": null, "committer": null, "parents": [{"sha": "180a2539eec1f0380c37f365c92e8a646936c082", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/180a2539eec1f0380c37f365c92e8a646936c082", "html_url": "https://github.com/Rust-GCC/gccrs/commit/180a2539eec1f0380c37f365c92e8a646936c082"}], "stats": {"total": 15, "additions": 9, "deletions": 6}, "files": [{"sha": "fd2d71699667f939ec70b8cdc6e10a7d10f57471", "filename": "lto-plugin/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aff4273cf1edfca78d92455f262438866357a301/lto-plugin%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aff4273cf1edfca78d92455f262438866357a301/lto-plugin%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2FChangeLog?ref=aff4273cf1edfca78d92455f262438866357a301", "patch": "@@ -1,3 +1,8 @@\n+2009-10-28  Rafael Avila de Espindola  <espindola@google.com>\n+\n+\t* lto-plugin.c (all_symbols_read_handler): Use LDPL_FATAL instead of\n+\tLDPL_ERROR\n+\n 2009-10-27  Dmitry Gorbachev  <d.g.gorbachev@gmail.com>\n \n \tPR lto/41652"}, {"sha": "3a51441c43311c2c8390e69aa85843bdc2a4dced", "filename": "lto-plugin/lto-plugin.c", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aff4273cf1edfca78d92455f262438866357a301/lto-plugin%2Flto-plugin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aff4273cf1edfca78d92455f262438866357a301/lto-plugin%2Flto-plugin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2Flto-plugin.c?ref=aff4273cf1edfca78d92455f262438866357a301", "patch": "@@ -512,8 +512,6 @@ all_symbols_read_handler (void)\n static enum ld_plugin_status\n cleanup_handler (void)\n {\n-  /* Note: we cannot use LDPL_FATAL in here as that would produce\n-     an infinite loop. */\n   int t;\n   unsigned i;\n   char *arguments;\n@@ -525,23 +523,23 @@ cleanup_handler (void)\n       if (info->temp)\n \t{\n \t  t = unlink (info->name);\n-\t  check (t == 0, LDPL_ERROR, \"could not unlink temporary file\");\n+\t  check (t == 0, LDPL_FATAL, \"could not unlink temporary file\");\n \t}\n     }\n \n   /* If we are being called from an error handler, it is possible\n      that the arguments file is still exists. */\n   t = asprintf (&arguments, \"%s/arguments\", temp_obj_dir_name);\n-  check (t >= 0, LDPL_ERROR, \"asprintf failed\");\n+  check (t >= 0, LDPL_FATAL, \"asprintf failed\");\n   if (stat(arguments, &buf) == 0)\n     {\n       t = unlink (arguments);\n-      check (t == 0, LDPL_ERROR, \"could not unlink arguments file\");\n+      check (t == 0, LDPL_FATAL, \"could not unlink arguments file\");\n     }\n   free (arguments);\n \n   t = rmdir (temp_obj_dir_name);\n-  check (t == 0, LDPL_ERROR, \"could not remove temporary directory\");\n+  check (t == 0, LDPL_FATAL, \"could not remove temporary directory\");\n \n   free_2 ();\n   return LDPS_OK;"}]}