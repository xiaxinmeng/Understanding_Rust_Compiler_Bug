{"sha": "b23999aeebda5cf64412f6ccb15ffc95bc489200", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjIzOTk5YWVlYmRhNWNmNjQ0MTJmNmNjYjE1ZmZjOTViYzQ4OTIwMA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2012-02-09T08:25:34Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-02-09T08:25:34Z"}, "message": "go-test.exp (go-gc-tests): Don't run stack.go on systems which don't support -fsplit-stack.\n\n\t* go.test/go-test.exp (go-gc-tests): Don't run stack.go on systems\n\twhich don't support -fsplit-stack.  Turn off optimization when\n\tcompiling select5-out.go.\n\nFrom-SVN: r184035", "tree": {"sha": "2e4900c5857aa3c22bb2c5a3cba81cf8c8551614", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e4900c5857aa3c22bb2c5a3cba81cf8c8551614"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b23999aeebda5cf64412f6ccb15ffc95bc489200", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b23999aeebda5cf64412f6ccb15ffc95bc489200", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b23999aeebda5cf64412f6ccb15ffc95bc489200", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b23999aeebda5cf64412f6ccb15ffc95bc489200/comments", "author": null, "committer": null, "parents": [{"sha": "94252f4bcc0a3f487b804ce535cb77b8bef4db83", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94252f4bcc0a3f487b804ce535cb77b8bef4db83", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94252f4bcc0a3f487b804ce535cb77b8bef4db83"}], "stats": {"total": 19, "additions": 14, "deletions": 5}, "files": [{"sha": "66a7e41a9c4095fcd4505adfaefd9e856f1afe8e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b23999aeebda5cf64412f6ccb15ffc95bc489200/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b23999aeebda5cf64412f6ccb15ffc95bc489200/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b23999aeebda5cf64412f6ccb15ffc95bc489200", "patch": "@@ -1,3 +1,9 @@\n+2012-02-09  Ian Lance Taylor  <iant@google.com>\n+\n+\t* go.test/go-test.exp (go-gc-tests): Don't run stack.go on systems\n+\twhich don't support -fsplit-stack.  Turn off optimization when\n+\tcompiling select5-out.go.\n+\n 2012-02-08  Ian Lance Taylor  <iant@google.com>\n \n \t* go.test/go-test.exp (go-gc-tests): Don't run chan/select2.go on"}, {"sha": "6f0cd389dac5e47fa13d18d150c827f29305c1a8", "filename": "gcc/testsuite/go.test/go-test.exp", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b23999aeebda5cf64412f6ccb15ffc95bc489200/gcc%2Ftestsuite%2Fgo.test%2Fgo-test.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b23999aeebda5cf64412f6ccb15ffc95bc489200/gcc%2Ftestsuite%2Fgo.test%2Fgo-test.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgo.test%2Fgo-test.exp?ref=b23999aeebda5cf64412f6ccb15ffc95bc489200", "patch": "@@ -330,8 +330,9 @@ proc go-gc-tests { } {\n \t    continue\n \t}\n \n-\tif { [file tail $test] == \"select2.go\" && \\\n-\t\t ! [check_effective_target_split_stack] } {\n+\tif { ( [file tail $test] == \"select2.go\" \\\n+\t\t   || [file tail $test] == \"stack.go\" ) \\\n+\t\t && ! [check_effective_target_split_stack] } {\n \t    # chan/select2.go fails on targets without split stack,\n \t    # because they allocate a large stack segment that blows\n \t    # out the memory calculations.\n@@ -1018,10 +1019,12 @@ proc go-gc-tests { } {\n \t\t} else {\n \t\t    pass \"$name execution\"\n \t\t    file delete $base-out.x\n-\t\t    # This testcase takes long time to compile.\n-\t\t    dg-timeout-factor list 4 { target alpha*-*-* }\n+\t\t    # Disable optimizations as this test takes a long time\n+\t\t    # to compile.\n+\t\t    set hold $TORTURE_OPTIONS\n+\t\t    set TORTURE_OPTIONS [ list { -O0 -g }]\n \t\t    go-torture-execute \"./$base-out.go\"\n-\t\t    unset_timeout_vars\n+\t\t    set TORTURE_OPTIONS $hold\n \t\t}\n \t\tfile delete $base-out.go\n \t    }"}]}