{"sha": "7fa3585cd41976ad1523212e8779214a8ed112ae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2ZhMzU4NWNkNDE5NzZhZDE1MjMyMTJlODc3OTIxNGE4ZWQxMTJhZQ==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2005-06-04T00:06:22Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2005-06-04T00:06:22Z"}, "message": "c-parser.c (c_parser_parms_declarator): Don't use chainon().\n\n\t* c-parser.c (c_parser_parms_declarator): Don't use chainon().\n\t(c_parser_expr_list): Don't use chainon().\n\nFrom-SVN: r100567", "tree": {"sha": "5b966a2b3c740ada392c1cf904888f103f8e45b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5b966a2b3c740ada392c1cf904888f103f8e45b3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7fa3585cd41976ad1523212e8779214a8ed112ae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fa3585cd41976ad1523212e8779214a8ed112ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7fa3585cd41976ad1523212e8779214a8ed112ae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fa3585cd41976ad1523212e8779214a8ed112ae/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "789246d71aa4607e71ce1a87c2e044b5944e22ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/789246d71aa4607e71ce1a87c2e044b5944e22ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/789246d71aa4607e71ce1a87c2e044b5944e22ac"}], "stats": {"total": 16, "additions": 10, "deletions": 6}, "files": [{"sha": "82db934f6f70e345d02098327c52b76c9a0b277d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fa3585cd41976ad1523212e8779214a8ed112ae/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fa3585cd41976ad1523212e8779214a8ed112ae/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7fa3585cd41976ad1523212e8779214a8ed112ae", "patch": "@@ -5,6 +5,9 @@\n \n 2005-06-03  Geoffrey Keating  <geoffk@apple.com>\n \n+\t* c-parser.c (c_parser_parms_declarator): Don't use chainon().\n+\t(c_parser_expr_list): Don't use chainon().\n+\n \t* config/darwin.h (LINK_SPEC): Pass -syslibroot to linker\n \twhen -isysroot passed.\n "}, {"sha": "1207e66135d11e0bf9d6d4541441537cef30fb3b", "filename": "gcc/c-parser.c", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fa3585cd41976ad1523212e8779214a8ed112ae/gcc%2Fc-parser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fa3585cd41976ad1523212e8779214a8ed112ae/gcc%2Fc-parser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parser.c?ref=7fa3585cd41976ad1523212e8779214a8ed112ae", "patch": "@@ -2355,12 +2355,13 @@ c_parser_parms_declarator (c_parser *parser, bool id_list_ok, tree attrs)\n       && c_parser_next_token_is (parser, CPP_NAME)\n       && c_parser_peek_token (parser)->id_kind == C_ID_ID)\n     {\n-      tree list = NULL_TREE;\n+      tree list = NULL_TREE, *nextp = &list;\n       while (c_parser_next_token_is (parser, CPP_NAME)\n \t     && c_parser_peek_token (parser)->id_kind == C_ID_ID)\n \t{\n-\t  list = chainon (list, build_tree_list (NULL_TREE,\n-\t\t\t\t\t\t c_parser_peek_token (parser)->value));\n+\t  *nextp = build_tree_list (NULL_TREE,\n+\t\t\t\t    c_parser_peek_token (parser)->value);\n+\t  nextp = & TREE_CHAIN (*nextp);\n \t  c_parser_consume_token (parser);\n \t  if (c_parser_next_token_is_not (parser, CPP_COMMA))\n \t    break;\n@@ -5294,14 +5295,14 @@ static tree\n c_parser_expr_list (c_parser *parser)\n {\n   struct c_expr expr;\n-  tree ret;\n+  tree ret, cur;\n   expr = c_parser_expr_no_commas (parser, NULL);\n-  ret = build_tree_list (NULL_TREE, expr.value);\n+  ret = cur = build_tree_list (NULL_TREE, expr.value);\n   while (c_parser_next_token_is (parser, CPP_COMMA))\n     {\n       c_parser_consume_token (parser);\n       expr = c_parser_expr_no_commas (parser, NULL);\n-      ret = chainon (ret, build_tree_list (NULL_TREE, expr.value));\n+      cur = TREE_CHAIN (cur) = build_tree_list (NULL_TREE, expr.value);\n     }\n   return ret;\n }"}]}