{"sha": "d59e375e9ecc8b75619932f363783e0c89edff44", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDU5ZTM3NWU5ZWNjOGI3NTYxOTkzMmYzNjM3ODNlMGM4OWVkZmY0NA==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-07-12T02:04:33Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-07-12T02:04:33Z"}, "message": "re PR bootstrap/7126 (zlib version is wrong in zlib/configure.in)\n\n\tPR bootstrap/7126\n\t* configure.in: Correct zlib version number.\n\t* configure: Regenerate.\n\nFrom-SVN: r69263", "tree": {"sha": "225e3d39554ca6d5177e75524c4b5f55594f9bc9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/225e3d39554ca6d5177e75524c4b5f55594f9bc9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d59e375e9ecc8b75619932f363783e0c89edff44", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d59e375e9ecc8b75619932f363783e0c89edff44", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d59e375e9ecc8b75619932f363783e0c89edff44", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d59e375e9ecc8b75619932f363783e0c89edff44/comments", "author": null, "committer": null, "parents": [{"sha": "b58b11577a908528c37111404a161f744ca3a694", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b58b11577a908528c37111404a161f744ca3a694", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b58b11577a908528c37111404a161f744ca3a694"}], "stats": {"total": 90, "additions": 32, "deletions": 58}, "files": [{"sha": "741afdf35059a9cff665a0ece56b8629d9f73605", "filename": "zlib/ChangeLog.gcj", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d59e375e9ecc8b75619932f363783e0c89edff44/zlib%2FChangeLog.gcj", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d59e375e9ecc8b75619932f363783e0c89edff44/zlib%2FChangeLog.gcj", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2FChangeLog.gcj?ref=d59e375e9ecc8b75619932f363783e0c89edff44", "patch": "@@ -1,3 +1,9 @@\n+2003-07-11  Nathanael Nerode  <neroden@gcc.gnu.org>\n+\n+\tPR bootstrap/7126\n+\t* configure.in: Correct zlib version number.\n+\t* configure: Regenerate.\n+\n 2003-07-11  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \n \t* README: Note that zlib is not part of GCC."}, {"sha": "c84d2c25ae3074087ed96f9d2f204dfbd41448fd", "filename": "zlib/configure", "status": "modified", "additions": 25, "deletions": 57, "changes": 82, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d59e375e9ecc8b75619932f363783e0c89edff44/zlib%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d59e375e9ecc8b75619932f363783e0c89edff44/zlib%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2Fconfigure?ref=d59e375e9ecc8b75619932f363783e0c89edff44", "patch": "@@ -852,7 +852,7 @@ fi\n \n PACKAGE=zlib\n \n-VERSION=1.1.3\n+VERSION=1.1.4\n \n if test \"`cd $srcdir && pwd`\" != \"`pwd`\" && test -f $srcdir/config.status; then\n   { echo \"configure: error: source directory already configured; run \"make distclean\" there first\" 1>&2; exit 1; }\n@@ -1215,7 +1215,7 @@ else\n   if { (eval echo configure:1216: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n-      *.c | *.o | *.obj) ;;\n+      *.$ac_ext | *.c | *.o | *.obj) ;;\n       *) ac_cv_exeext=`echo $file | sed -e s/conftest//` ;;\n       esac\n     done\n@@ -2317,7 +2317,7 @@ EOF\n    # We ignore --with-system-zlib in this case.\n    target_all=libzgcj.la\n else\n-   for ac_hdr in stdlib.h unistd.h sys/stat.h sys/types.h\n+   for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n@@ -2449,24 +2449,11 @@ else\n #include <fcntl.h>\n #include <sys/mman.h>\n \n-#if HAVE_SYS_TYPES_H\n-# include <sys/types.h>\n-#endif\n-\n-#if HAVE_STDLIB_H\n-# include <stdlib.h>\n-#endif\n-\n-#if HAVE_SYS_STAT_H\n-# include <sys/stat.h>\n-#endif\n-\n-#if HAVE_UNISTD_H\n-# include <unistd.h>\n-#endif\n-\n /* This mess was copied from the GNU getpagesize.h.  */\n #ifndef HAVE_GETPAGESIZE\n+# ifdef HAVE_UNISTD_H\n+#  include <unistd.h>\n+# endif\n \n /* Assume that all systems that can run configure have sys/param.h.  */\n # ifndef HAVE_SYS_PARAM_H\n@@ -2574,7 +2561,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:2578: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2565: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -2599,12 +2586,12 @@ fi\n    for ac_func in memcpy strerror\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2603: checking for $ac_func\" >&5\n+echo \"configure:2590: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2608 \"configure\"\n+#line 2595 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2627,7 +2614,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2631: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2618: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2654,15 +2641,15 @@ done\n \n    if test \"$with_system_zlib\" = yes; then\n       echo $ac_n \"checking for deflate in -lz\"\"... $ac_c\" 1>&6\n-echo \"configure:2658: checking for deflate in -lz\" >&5\n+echo \"configure:2645: checking for deflate in -lz\" >&5\n ac_lib_var=`echo z'_'deflate | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lz  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 2666 \"configure\"\n+#line 2653 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -2673,7 +2660,7 @@ int main() {\n deflate()\n ; return 0; }\n EOF\n-if { (eval echo configure:2677: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2664: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -2705,17 +2692,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2709: checking for $ac_hdr\" >&5\n+echo \"configure:2696: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2714 \"configure\"\n+#line 2701 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2719: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2706: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2844,34 +2831,15 @@ trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15\n # Transform confdefs.h into DEFS.\n # Protect against shell expansion while executing Makefile rules.\n # Protect against Makefile macro expansion.\n-#\n-# If the first sed substitution is executed (which looks for macros that\n-# take arguments), then we branch to the quote section.  Otherwise,\n-# look for a macro that doesn't take arguments.\n-cat >confdef2opt.sed <<\\_ACEOF\n-t clear\n-: clear\n-s,^[ \t]*#[ \t]*define[ \t][ \t]*\\([^ \t(][^ \t(]*([^)]*)\\)[ \t]*\\(.*\\),-D\\1=\\2,g\n-t quote\n-s,^[ \t]*#[ \t]*define[ \t][ \t]*\\([^ \t][^ \t]*\\)[ \t]*\\(.*\\),-D\\1=\\2,g\n-t quote\n-d\n-: quote\n-s,[ \t`~#$^&*(){}\\\\|;'\"<>?],\\\\&,g\n-s,\\[,\\\\&,g\n-s,\\],\\\\&,g\n-s,\\$,$$,g\n-p\n-_ACEOF\n-# We use echo to avoid assuming a particular line-breaking character.\n-# The extra dot is to prevent the shell from consuming trailing\n-# line-breaks from the sub-command output.  A line-break within\n-# single-quotes doesn't work because, if this script is created in a\n-# platform that uses two characters for line-breaks (e.g., DOS), tr\n-# would break.\n-ac_LF_and_DOT=`echo; echo .`\n-DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr \"$ac_LF_and_DOT\" ' .'`\n-rm -f confdef2opt.sed\n+cat > conftest.defs <<\\EOF\n+s%#define \\([A-Za-z_][A-Za-z0-9_]*\\) *\\(.*\\)%-D\\1=\\2%g\n+s%[ \t`~#$^&*(){}\\\\|;'\"<>?]%\\\\&%g\n+s%\\[%\\\\&%g\n+s%\\]%\\\\&%g\n+s%\\$%$$%g\n+EOF\n+DEFS=`sed -f conftest.defs confdefs.h | tr '\\012' ' '`\n+rm -f conftest.defs\n \n \n # Without the \"./\", some shells look in PATH for config.status."}, {"sha": "a125164749a5bc7b37ab00daf2d13421573eebf3", "filename": "zlib/configure.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d59e375e9ecc8b75619932f363783e0c89edff44/zlib%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d59e375e9ecc8b75619932f363783e0c89edff44/zlib%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2Fconfigure.in?ref=d59e375e9ecc8b75619932f363783e0c89edff44", "patch": "@@ -35,7 +35,7 @@ AC_CANONICAL_SYSTEM\n mkinstalldirs=\"`cd $ac_aux_dir && ${PWDCMD-pwd}`/mkinstalldirs\"\n AC_SUBST(mkinstalldirs)\n \n-AM_INIT_AUTOMAKE(zlib, 1.1.3)\n+AM_INIT_AUTOMAKE(zlib, 1.1.4)\n \n AM_MAINTAINER_MODE\n "}]}