{"sha": "ad8b778345e01ff8ce252bf572965684a0826082", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWQ4Yjc3ODM0NWUwMWZmOGNlMjUyYmY1NzI5NjU2ODRhMDgyNjA4Mg==", "commit": {"author": {"name": "Jozef Lawrynowicz", "email": "jozef.l@mittosystems.com", "date": "2019-12-09T11:41:07Z"}, "committer": {"name": "Jozef Lawrynowicz", "email": "jozefl@gcc.gnu.org", "date": "2019-12-09T11:41:07Z"}, "message": "libgcc: Dont define __do_global_dtors_aux if it will be empty\n\n2019-12-09  Jozef Lawrynowicz  <jozef.l@mittosystems.com>\n\n\t* crtstuff.c (__do_global_dtors_aux): Wrap in #if so it's only defined\n\tif it will have contents.\n\nFrom-SVN: r279123", "tree": {"sha": "ce0ac0279a49cb13a2204d9edb35d5e2b404d320", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce0ac0279a49cb13a2204d9edb35d5e2b404d320"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ad8b778345e01ff8ce252bf572965684a0826082", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad8b778345e01ff8ce252bf572965684a0826082", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad8b778345e01ff8ce252bf572965684a0826082", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad8b778345e01ff8ce252bf572965684a0826082/comments", "author": {"login": "jozefl-mitto", "id": 36524004, "node_id": "MDQ6VXNlcjM2NTI0MDA0", "avatar_url": "https://avatars.githubusercontent.com/u/36524004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jozefl-mitto", "html_url": "https://github.com/jozefl-mitto", "followers_url": "https://api.github.com/users/jozefl-mitto/followers", "following_url": "https://api.github.com/users/jozefl-mitto/following{/other_user}", "gists_url": "https://api.github.com/users/jozefl-mitto/gists{/gist_id}", "starred_url": "https://api.github.com/users/jozefl-mitto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jozefl-mitto/subscriptions", "organizations_url": "https://api.github.com/users/jozefl-mitto/orgs", "repos_url": "https://api.github.com/users/jozefl-mitto/repos", "events_url": "https://api.github.com/users/jozefl-mitto/events{/privacy}", "received_events_url": "https://api.github.com/users/jozefl-mitto/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "41f36f22f38285fef3b2166a00d4ec446fb96125", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41f36f22f38285fef3b2166a00d4ec446fb96125", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41f36f22f38285fef3b2166a00d4ec446fb96125"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "0359f3a31167b67a6244ccdb2241021678942620", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad8b778345e01ff8ce252bf572965684a0826082/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad8b778345e01ff8ce252bf572965684a0826082/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=ad8b778345e01ff8ce252bf572965684a0826082", "patch": "@@ -1,3 +1,8 @@\n+2019-12-09  Jozef Lawrynowicz  <jozef.l@mittosystems.com>\n+\n+\t* crtstuff.c (__do_global_dtors_aux): Wrap in #if so it's only defined\n+\tif it will have contents.\n+\n 2019-12-05  Georg-Johann Lay  <avr@gjlay.de>\n \n \tPR target/92055"}, {"sha": "80cc78d0dcda0c5fb97d943801322f16dc799f75", "filename": "libgcc/crtstuff.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad8b778345e01ff8ce252bf572965684a0826082/libgcc%2Fcrtstuff.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad8b778345e01ff8ce252bf572965684a0826082/libgcc%2Fcrtstuff.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fcrtstuff.c?ref=ad8b778345e01ff8ce252bf572965684a0826082", "patch": "@@ -364,8 +364,12 @@ extern void __cxa_finalize (void *) TARGET_ATTRIBUTE_WEAK;\n    On some systems, this routine is run more than once from the .fini,\n    when exit is called recursively, so we arrange to remember where in\n    the list we left off processing, and we resume at that point,\n-   should we be re-invoked.  */\n+   should we be re-invoked.\n \n+   This routine does not need to be run if none of the following clauses are\n+   true, as it will not do anything, so can be removed.  */\n+#if defined(CRTSTUFFS_O) || !defined(FINI_ARRAY_SECTION_ASM_OP) \\\n+  || USE_TM_CLONE_REGISTRY || USE_EH_FRAME_REGISTRY\n static void __attribute__((used))\n __do_global_dtors_aux (void)\n {\n@@ -451,6 +455,8 @@ __do_global_dtors_aux_1 (void)\n CRT_CALL_STATIC_FUNCTION (__LIBGCC_INIT_SECTION_ASM_OP__,\n \t\t\t  __do_global_dtors_aux_1)\n #endif\n+#endif /* defined(CRTSTUFFS_O) || !defined(FINI_ARRAY_SECTION_ASM_OP)\n+  || defined(USE_TM_CLONE_REGISTRY) || defined(USE_EH_FRAME_REGISTRY) */\n \n #if defined(USE_EH_FRAME_REGISTRY) || USE_TM_CLONE_REGISTRY\n /* Stick a call to __register_frame_info into the .init section.  For some"}]}