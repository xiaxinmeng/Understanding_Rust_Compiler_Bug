{"sha": "75acdae9f346f316e82b008696cc33766c829d9a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzVhY2RhZTlmMzQ2ZjMxNmU4MmIwMDg2OTZjYzMzNzY2YzgyOWQ5YQ==", "commit": {"author": {"name": "Nathan Froyd", "email": "froydnj@codesourcery.com", "date": "2010-11-10T21:05:50Z"}, "committer": {"name": "Nathan Froyd", "email": "froydnj@gcc.gnu.org", "date": "2010-11-10T21:05:50Z"}, "message": "re PR c++/46065 (ICE: tree check: expected tree that contains 'decl minimal' structure, have 'tree_list' in poplevel_named_label_1, at cp/decl.c:477)\n\ngcc/cp/\n\tPR c++/46065\n\t* decl.c (poplevel_named_label_1): Use TREE_CHAIN if necessary.\n\ngcc/testsuite/\n\tPR c++/46065\n\t* g++.dg/pr46065.C: New test.\n\nFrom-SVN: r166558", "tree": {"sha": "92808e7ead7a5555a587145a727cf523f74bbbc4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/92808e7ead7a5555a587145a727cf523f74bbbc4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/75acdae9f346f316e82b008696cc33766c829d9a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75acdae9f346f316e82b008696cc33766c829d9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75acdae9f346f316e82b008696cc33766c829d9a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75acdae9f346f316e82b008696cc33766c829d9a/comments", "author": null, "committer": null, "parents": [{"sha": "edb29996a50b9623dc244178b2d5e734cd89f9a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edb29996a50b9623dc244178b2d5e734cd89f9a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/edb29996a50b9623dc244178b2d5e734cd89f9a7"}], "stats": {"total": 27, "additions": 26, "deletions": 1}, "files": [{"sha": "04f95bbbc977f34b82b06d1d1c0d91a9259b6139", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75acdae9f346f316e82b008696cc33766c829d9a/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75acdae9f346f316e82b008696cc33766c829d9a/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=75acdae9f346f316e82b008696cc33766c829d9a", "patch": "@@ -1,3 +1,8 @@\n+2010-11-10  Nathan Froyd  <froydnj@codesourcery.com>\n+\n+\tPR c++/46065\n+\t* decl.c (poplevel_named_label_1): Use TREE_CHAIN if necessary.\n+\n 2010-11-09  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/45894"}, {"sha": "93af4b45ff741fd9e4c49cb73abbf23f149de2f6", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75acdae9f346f316e82b008696cc33766c829d9a/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75acdae9f346f316e82b008696cc33766c829d9a/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=75acdae9f346f316e82b008696cc33766c829d9a", "patch": "@@ -475,7 +475,11 @@ poplevel_named_label_1 (void **slot, void *data)\n     {\n       tree decl;\n \n-      for (decl = ent->names_in_scope; decl; decl = DECL_CHAIN (decl))\n+      /* ENT->NAMES_IN_SCOPE may contain a mixture of DECLs and\n+\t TREE_LISTs representing OVERLOADs, so be careful.  */\n+      for (decl = ent->names_in_scope; decl; decl = (DECL_P (decl)\n+\t\t\t\t\t\t     ? DECL_CHAIN (decl)\n+\t\t\t\t\t\t     : TREE_CHAIN (decl)))\n \tif (decl_jump_unsafe (decl))\n \t  VEC_safe_push (tree, gc, ent->bad_decls, decl);\n "}, {"sha": "5560edeb4ac2a3d86e6b6f1bdfb3ca85f37c93ed", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75acdae9f346f316e82b008696cc33766c829d9a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75acdae9f346f316e82b008696cc33766c829d9a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=75acdae9f346f316e82b008696cc33766c829d9a", "patch": "@@ -1,3 +1,8 @@\n+2010-11-10  Nathan Froyd  <froydnj@codesourcery.com>\n+\n+\tPR c++/46065\n+\t* g++.dg/pr46065.C: New test.\n+\n 2010-11-10  Jan Hubicka  <jh@suse.cz>\n \n \tPR tree-optimize/33172"}, {"sha": "75c171db69e8844e99dbf3c19592c69c03bbba07", "filename": "gcc/testsuite/g++.dg/pr46065.C", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75acdae9f346f316e82b008696cc33766c829d9a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr46065.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75acdae9f346f316e82b008696cc33766c829d9a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr46065.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr46065.C?ref=75acdae9f346f316e82b008696cc33766c829d9a", "patch": "@@ -0,0 +1,11 @@\n+// PR c++/46065\n+// { dg-do compile }\n+\n+void bar ();\n+\n+void\n+foo ()\n+{\n+  using ::bar;\n+label:;\n+}"}]}