{"sha": "0db2cd177020920e187ef47791d52cf689133a25", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGRiMmNkMTc3MDIwOTIwZTE4N2VmNDc3OTFkNTJjZjY4OTEzM2EyNQ==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2020-03-17T14:25:14Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2020-03-18T13:51:50Z"}, "message": "analyzer: tweaks to exploded_node ctor\n\nI have followup work that touches this, so it's easiest to get this\ncleanup in first.\n\ngcc/analyzer/ChangeLog:\n\t* engine.cc (exploded_node::exploded_node): Move implementation\n\there from header; accept point_and_state by const reference rather\n\tthan by value.\n\t* exploded-graph.h (exploded_node::exploded_node): Pass\n\tpoint_and_state by const reference rather than by value.  Move\n\tbody to engine.cc.", "tree": {"sha": "3ff950a5c382103c9389efb2b36aa9e5c27cdebe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3ff950a5c382103c9389efb2b36aa9e5c27cdebe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0db2cd177020920e187ef47791d52cf689133a25", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0db2cd177020920e187ef47791d52cf689133a25", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0db2cd177020920e187ef47791d52cf689133a25", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0db2cd177020920e187ef47791d52cf689133a25/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e5de406f9967ef4b0bbdbcbc0320869d2bf04558", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5de406f9967ef4b0bbdbcbc0320869d2bf04558", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5de406f9967ef4b0bbdbcbc0320869d2bf04558"}], "stats": {"total": 27, "additions": 21, "deletions": 6}, "files": [{"sha": "ace456c02d8e9cf6c0330243f5d222ccabc166f9", "filename": "gcc/analyzer/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0db2cd177020920e187ef47791d52cf689133a25/gcc%2Fanalyzer%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0db2cd177020920e187ef47791d52cf689133a25/gcc%2Fanalyzer%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fanalyzer%2FChangeLog?ref=0db2cd177020920e187ef47791d52cf689133a25", "patch": "@@ -1,3 +1,12 @@\n+2020-03-18  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* engine.cc (exploded_node::exploded_node): Move implementation\n+\there from header; accept point_and_state by const reference rather\n+\tthan by value.\n+\t* exploded-graph.h (exploded_node::exploded_node): Pass\n+\tpoint_and_state by const reference rather than by value.  Move\n+\tbody to engine.cc.\n+\n 2020-03-18  Jakub Jelinek  <jakub@redhat.com>\n \n \t* sm-malloc.cc (malloc_state_machine::on_stmt): Fix up duplicated word"}, {"sha": "369110bbbfb4767570cb4e45a599012d8b568fc6", "filename": "gcc/analyzer/engine.cc", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0db2cd177020920e187ef47791d52cf689133a25/gcc%2Fanalyzer%2Fengine.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0db2cd177020920e187ef47791d52cf689133a25/gcc%2Fanalyzer%2Fengine.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fanalyzer%2Fengine.cc?ref=0db2cd177020920e187ef47791d52cf689133a25", "patch": "@@ -795,6 +795,17 @@ print_enode_indices (pretty_printer *pp,\n     }\n }\n \n+/* class exploded_node : public dnode<eg_traits>.  */\n+\n+/* exploded_node's ctor.  */\n+\n+exploded_node::exploded_node (const point_and_state &ps,\n+\t\t\t      int index)\n+: m_ps (ps), m_status (STATUS_WORKLIST), m_index (index)\n+{\n+  gcc_checking_assert (ps.get_state ().m_region_model->canonicalized_p ());\n+}\n+\n /* For use by dump_dot, get a value for the .dot \"fillcolor\" attribute.\n    Colorize by sm-state, to make it easier to see how sm-state propagates\n    through the exploded_graph.  */"}, {"sha": "b9a561848b3a35fdf562c52a865ce246dc461b1d", "filename": "gcc/analyzer/exploded-graph.h", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0db2cd177020920e187ef47791d52cf689133a25/gcc%2Fanalyzer%2Fexploded-graph.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0db2cd177020920e187ef47791d52cf689133a25/gcc%2Fanalyzer%2Fexploded-graph.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fanalyzer%2Fexploded-graph.h?ref=0db2cd177020920e187ef47791d52cf689133a25", "patch": "@@ -175,12 +175,7 @@ class exploded_node : public dnode<eg_traits>\n     STATUS_MERGER\n   };\n \n-  exploded_node (point_and_state ps,\n-\t\t int index)\n-  : m_ps (ps), m_status (STATUS_WORKLIST), m_index (index)\n-  {\n-    gcc_checking_assert (ps.get_state ().m_region_model->canonicalized_p ());\n-  }\n+  exploded_node (const point_and_state &ps, int index);\n \n   hashval_t hash () const { return m_ps.hash (); }\n "}]}