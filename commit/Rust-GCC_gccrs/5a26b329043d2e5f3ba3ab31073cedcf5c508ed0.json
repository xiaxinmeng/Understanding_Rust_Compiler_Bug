{"sha": "5a26b329043d2e5f3ba3ab31073cedcf5c508ed0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWEyNmIzMjkwNDNkMmU1ZjNiYTNhYjMxMDczY2VkY2Y1YzUwOGVkMA==", "commit": {"author": {"name": "Stuart Hastings", "email": "stuart@apple.com", "date": "2004-03-04T19:28:36Z"}, "committer": {"name": "Stuart Hastings", "email": "stuart@gcc.gnu.org", "date": "2004-03-04T19:28:36Z"}, "message": "invoke.texi: Document -mlongcall for Darwin/PPC.\n\n2004-03-04  Stuart Hastings  <stuart@apple.com>\n\t* gcc/doc/invoke.texi: Document -mlongcall for Darwin/PPC.\n\nFrom-SVN: r78927", "tree": {"sha": "95d0951b87f98a435e0711a288d97edaf939399b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/95d0951b87f98a435e0711a288d97edaf939399b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a26b329043d2e5f3ba3ab31073cedcf5c508ed0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a26b329043d2e5f3ba3ab31073cedcf5c508ed0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a26b329043d2e5f3ba3ab31073cedcf5c508ed0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a26b329043d2e5f3ba3ab31073cedcf5c508ed0/comments", "author": null, "committer": null, "parents": [{"sha": "2e5d2af9d9946dee81b422d646c7912da4255f30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e5d2af9d9946dee81b422d646c7912da4255f30", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e5d2af9d9946dee81b422d646c7912da4255f30"}], "stats": {"total": 82, "additions": 23, "deletions": 59}, "files": [{"sha": "f1e583d5e4a3e4a67fb6f826539f79ef257224fd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a26b329043d2e5f3ba3ab31073cedcf5c508ed0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a26b329043d2e5f3ba3ab31073cedcf5c508ed0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5a26b329043d2e5f3ba3ab31073cedcf5c508ed0", "patch": "@@ -1,3 +1,6 @@\n+2004-03-04  Stuart Hastings  <stuart@apple.com>\n+\t* gcc/doc/invoke.texi: Document -mlongcall for Darwin/PPC.\n+\n 2004-03-04  Stuart Hastings  <stuart@apple.com>\n \t* gcc/config/i386/darwin.h: Darwin/x86 doesn't support CPUs before\n \t686, tell Darwin assembler to allow prefetch insns, non-empty def"}, {"sha": "078b03b55ef58217b2afe97f3329754ae33d9628", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 20, "deletions": 59, "changes": 79, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a26b329043d2e5f3ba3ab31073cedcf5c508ed0/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a26b329043d2e5f3ba3ab31073cedcf5c508ed0/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=5a26b329043d2e5f3ba3ab31073cedcf5c508ed0", "patch": "@@ -270,8 +270,8 @@ in the following sections.\n -fdelayed-branch  -fdelete-null-pointer-checks @gol\n -fexpensive-optimizations  -ffast-math  -ffloat-store @gol\n -fforce-addr  -fforce-mem  -ffunction-sections @gol\n--fgcse  -fgcse-lm  -fgcse-sm  -fgcse-las  -fgcse-after-reload @gol\n--floop-optimize -fcrossjumping  -fif-conversion  -fif-conversion2 @gol\n+-fgcse  -fgcse-lm  -fgcse-sm  -fgcse-las  -floop-optimize @gol\n+-fcrossjumping  -fif-conversion  -fif-conversion2 @gol\n -finline-functions  -finline-limit=@var{n}  -fkeep-inline-functions @gol\n -fkeep-static-consts  -fmerge-constants  -fmerge-all-constants @gol\n -fmove-all-movables  -fnew-ra  -fno-branch-count-reg @gol\n@@ -461,7 +461,7 @@ in the following sections.\n -single_module  -static  -sub_library  -sub_umbrella @gol\n -twolevel_namespace  -umbrella  -undefined @gol\n -unexported_symbols_list  -weak_reference_mismatches @gol\n--whatsloaded -F}\n+-whatsloaded}\n \n @emph{MIPS Options}\n @gccoptlist{-EL  -EB  -march=@var{arch}  -mtune=@var{arch} @gol\n@@ -478,8 +478,7 @@ in the following sections.\n -mcheck-zero-division  -mno-check-zero-division @gol\n -mmemcpy  -mno-memcpy  -mlong-calls  -mno-long-calls @gol\n -mmad  -mno-mad  -mfused-madd  -mno-fused-madd  -nocpp @gol\n--mfix-r4000  -mno-fix-r4000  -mfix-r4400  -mno-fix-r4400 @gol\n--mfix-sb1  -mno-fix-sb1 @gol\n+-mfix-r4000  -mno-fix-r4000  -mfix-sb1  -mno-fix-sb1 @gol\n -mflush-func=@var{func}  -mno-flush-func @gol\n -mbranch-likely  -mno-branch-likely}\n \n@@ -3646,8 +3645,7 @@ invoking @option{-O2} on programs that use computed gotos.\n @opindex O3\n Optimize yet more.  @option{-O3} turns on all optimizations specified by\n @option{-O2} and also turns on the @option{-finline-functions},\n-@option{-fweb}, @option{-frename-registers}\n-and @option{-fgcse-after-reload} options.\n+@option{-fweb} and @option{-frename-registers} options.\n \n @item -O0\n @opindex O0\n@@ -3958,12 +3956,6 @@ same memory location (both partial and full redundancies).\n \n Enabled by default when gcse is enabled.\n \n-@item -fgcse-after-reload\n-@opindex fgcse-after-reload\n-When @option{-fgcse-after-reload} is enabled, a redundant load elimination\n-pass is performed after reload. The purpose of this pass is to cleanup\n-redundant spilling.\n-\n @item -floop-optimize\n @opindex floop-optimize\n Perform loop optimizations: move constant expressions out of loops, simplify\n@@ -7529,17 +7521,28 @@ names in the assembly language output using symbolic forms.\n @itemx -mno-longcall\n @opindex mlongcall\n @opindex mno-longcall\n-Default to making all function calls via pointers, so that functions\n-which reside further than 64 megabytes (67,108,864 bytes) from the\n-current location can be called.  This setting can be overridden by the\n-@code{shortcall} function attribute, or by @code{#pragma longcall(0)}.\n+Default to making all function calls indirectly, using a register, so\n+that functions which reside further than 32 megabytes (33,554,432\n+bytes) from the current location can be called.  This setting can be\n+overridden by the @code{shortcall} function attribute, or by\n+@code{#pragma longcall(0)}.\n \n Some linkers are capable of detecting out-of-range calls and generating\n glue code on the fly.  On these systems, long calls are unnecessary and\n generate slower code.  As of this writing, the AIX linker can do this,\n as can the GNU linker for PowerPC/64.  It is planned to add this feature\n to the GNU linker for 32-bit PowerPC systems as well.\n \n+On Darwin/PPC systems, @code{#pragma longcall} will generate ``jbsr\n+callee, L42'', plus a ``branch island'' (glue code).  The two target\n+addresses represent the callee and the ``branch island.'' The\n+Darwin/PPC linker will prefer the first address and generate a ``bl\n+callee'' if the PPC ``bl'' instruction will reach the callee directly;\n+otherwise, the linker will generate ``bl L42'' to call the ``branch\n+island.''  The ``branch island'' is appended to the body of the\n+calling function; it computes the full 32-bit address of the callee\n+and jumps to it.\n+\n On Mach-O (Darwin) systems, this option directs the compiler emit to\n the glue for every direct call, and the Darwin linker decides whether\n to use or discard it.\n@@ -7562,34 +7565,6 @@ These options are defined for all architectures running the Darwin operating\n system.  They are useful for compatibility with other Mac OS compilers.\n \n @table @gcctabopt\n-@item -F@var{dir}\n-@opindex F\n-Add the framework directory @var{dir} to the head of the list of\n-directories to be searched for header files.  These directories are\n-interleaved with those specified by @option{-I} options and are\n-scanned in a left-to-right order.\n-\n-A framework directory is a directory with frameworks in it.  A\n-framework is a directory with a @samp{\"Headers\"} and/or\n-@samp{\"PrivateHeaders\"} directory contained directly in it that ends\n-in @samp{\".framework\"}.  The name of a framework is the name of this\n-directory excluding the @samp{\".framework\"}.  Headers associated with\n-the framework are found in one of those two directories, with\n-@samp{\"Headers\"} being searched first.  A subframework is a framework\n-directory that is in a framework's @samp{\"Frameworks\"} directory.\n-Includes of subframework headers can only appear in a header of a\n-framework that contains the subframework, or in a sibling subframework\n-header.  Two subframeworks are siblings if they occur in the same\n-framework.  A subframework should not have the same name as a\n-framework, a warning will be issued if this is violated.  Currently a\n-subframework cannot have subframeworks, in the future, the mechanism\n-may be extended to support this.  The standard frameworks can be found\n-in @samp{\"/System/Library/Frameworks\"}, @samp{\"/Library/Frameworks\"}\n-and @samp{\"/Local/Library/Frameworks\"}.  An example include looks like\n-@code{#include <Framework/header.h>}, where @samp{Framework} denotes\n-the name of the framework and header.h is found in the\n-@samp{\"PrivateHeaders\"} or @samp{\"Headers\"} directory.\n-\n @item -all_load\n @opindex all_load\n Loads all members of static archive libraries.\n@@ -8084,20 +8059,6 @@ immediately after starting an integer division.\n @item\n A double-word or a variable shift may give an incorrect result if executed\n while an integer multiplication is in progress.\n-@item\n-An integer division may give an incorrect result if started in a delay slot\n-of a taken branch or a jump.\n-@end itemize\n-\n-@item -mfix-r4400\n-@itemx -mno-fix-r4400\n-@opindex mfix-r4400\n-@opindex mno-fix-r4400\n-Work around certain R4400 CPU errata:\n-@itemize @minus\n-@item\n-A double-word or a variable shift may give an incorrect result if executed\n-immediately after starting an integer division.\n @end itemize\n \n @item -mfix-sb1"}]}