{"sha": "99d3d26e534e11e036364f22ba5614370a4c5f77", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTlkM2QyNmU1MzRlMTFlMDM2MzY0ZjIyYmE1NjE0MzcwYTRjNWY3Nw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-07-05T03:01:31Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-07-05T03:01:31Z"}, "message": "(RS6000_OUTPUT_BASENAME): Always call assembler_name and pass the\nactual symbol name.\n\nFrom-SVN: r7652", "tree": {"sha": "3bfc0fc6ee3a052b79a342d88fc84b2882eb4d28", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3bfc0fc6ee3a052b79a342d88fc84b2882eb4d28"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/99d3d26e534e11e036364f22ba5614370a4c5f77", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99d3d26e534e11e036364f22ba5614370a4c5f77", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99d3d26e534e11e036364f22ba5614370a4c5f77", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99d3d26e534e11e036364f22ba5614370a4c5f77/comments", "author": null, "committer": null, "parents": [{"sha": "648fb7cf8acd1a11c23cebf066f6ff3305b93115", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/648fb7cf8acd1a11c23cebf066f6ff3305b93115", "html_url": "https://github.com/Rust-GCC/gccrs/commit/648fb7cf8acd1a11c23cebf066f6ff3305b93115"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "ad550a72234325781b5e5929e47661e0027a4b58", "filename": "gcc/config/rs6000/rs6000.h", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99d3d26e534e11e036364f22ba5614370a4c5f77/gcc%2Fconfig%2Frs6000%2Frs6000.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99d3d26e534e11e036364f22ba5614370a4c5f77/gcc%2Fconfig%2Frs6000%2Frs6000.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.h?ref=99d3d26e534e11e036364f22ba5614370a4c5f77", "patch": "@@ -1818,13 +1818,16 @@ toc_section ()\t\t\t\t\t\t\\\n /* This outputs NAME to FILE up to the first null or '['.  */\n \n #define RS6000_OUTPUT_BASENAME(FILE, NAME)\t\\\n-  if ((NAME)[0] == '*')\t\t\t\t\\\n+  if ((NAME)[0] == '*' || (NAME)[strlen (NAME) - 1] != ']') \\\n     assemble_name (FILE, NAME);  \t\t\\\n   else\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\\\n-      char *_p;\t\t\t\t\t\\\n-      for (_p = (NAME); *_p && *_p != '['; _p++) \\\n-        fputc (*_p, FILE);\t\t\t\t\\\n+      int _len = strlen (NAME);\t\t\t\\\n+      char *_p = alloca (_len + 1);\t\t\\\n+\t\t\t\t\t\t\\\n+      strcpy (_p, NAME);\t\t\t\\\n+      _p[_len - 4] = '\\0';\t\t\t\\\n+      assemble_name (FILE, _p);\t\t\t\\\n     }\n \n /* Output something to declare an external symbol to the assembler.  Most"}]}