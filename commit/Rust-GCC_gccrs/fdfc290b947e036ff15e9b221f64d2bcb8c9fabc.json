{"sha": "fdfc290b947e036ff15e9b221f64d2bcb8c9fabc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmRmYzI5MGI5NDdlMDM2ZmYxNWU5YjIyMWY2NGQyYmNiOGM5ZmFiYw==", "commit": {"author": {"name": "Douglas B Rupp", "email": "rupp@gnat.com", "date": "2001-12-24T17:51:40Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2001-12-24T17:51:40Z"}, "message": "configure.in (uintptr_t): Use AC_CHECK_TYPE.\n\n\t* configure.in (uintptr_t): Use AC_CHECK_TYPE.\n\t* configure: Regenerated.\n\nFrom-SVN: r48306", "tree": {"sha": "579728b986a6fa463d78de8ee8a985b9a100faf0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/579728b986a6fa463d78de8ee8a985b9a100faf0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fdfc290b947e036ff15e9b221f64d2bcb8c9fabc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fdfc290b947e036ff15e9b221f64d2bcb8c9fabc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fdfc290b947e036ff15e9b221f64d2bcb8c9fabc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fdfc290b947e036ff15e9b221f64d2bcb8c9fabc/comments", "author": null, "committer": null, "parents": [{"sha": "596151e1938b4bfdbd4bf6bb548a365c5ae51117", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/596151e1938b4bfdbd4bf6bb548a365c5ae51117", "html_url": "https://github.com/Rust-GCC/gccrs/commit/596151e1938b4bfdbd4bf6bb548a365c5ae51117"}], "stats": {"total": 388, "additions": 198, "deletions": 190}, "files": [{"sha": "9291f5238c727caa65dc8611d79f0765f38e2661", "filename": "libiberty/configure", "status": "modified", "additions": 196, "deletions": 183, "changes": 379, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fdfc290b947e036ff15e9b221f64d2bcb8c9fabc/libiberty%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fdfc290b947e036ff15e9b221f64d2bcb8c9fabc/libiberty%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure?ref=fdfc290b947e036ff15e9b221f64d2bcb8c9fabc", "patch": "@@ -1427,33 +1427,150 @@ EOF\n fi\n \n \n-echo $ac_n \"checking for uintptr_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1432: checking for uintptr_t\" >&5\n+echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n+echo \"configure:1432: checking for ANSI C header files\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1437 \"configure\"\n+#include \"confdefs.h\"\n+#include <stdlib.h>\n+#include <stdarg.h>\n+#include <string.h>\n+#include <float.h>\n+EOF\n+ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n+{ (eval echo configure:1445: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n+if test -z \"$ac_err\"; then\n+  rm -rf conftest*\n+  ac_cv_header_stdc=yes\n+else\n+  echo \"$ac_err\" >&5\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  ac_cv_header_stdc=no\n+fi\n+rm -f conftest*\n+\n+if test $ac_cv_header_stdc = yes; then\n+  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1434 \"configure\"\n+#line 1462 \"configure\"\n+#include \"confdefs.h\"\n+#include <string.h>\n+EOF\n+if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n+  egrep \"memchr\" >/dev/null 2>&1; then\n+  :\n+else\n+  rm -rf conftest*\n+  ac_cv_header_stdc=no\n+fi\n+rm -f conftest*\n+\n+fi\n+\n+if test $ac_cv_header_stdc = yes; then\n+  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n+cat > conftest.$ac_ext <<EOF\n+#line 1480 \"configure\"\n+#include \"confdefs.h\"\n+#include <stdlib.h>\n+EOF\n+if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n+  egrep \"free\" >/dev/null 2>&1; then\n+  :\n+else\n+  rm -rf conftest*\n+  ac_cv_header_stdc=no\n+fi\n+rm -f conftest*\n+\n+fi\n+\n+if test $ac_cv_header_stdc = yes; then\n+  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.\n+if test \"$cross_compiling\" = yes; then\n+  :\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1501 \"configure\"\n+#include \"confdefs.h\"\n+#include <ctype.h>\n+#define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n+#define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))\n+#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))\n+int main () { int i; for (i = 0; i < 256; i++)\n+if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n+exit (0); }\n+\n+EOF\n+if { (eval echo configure:1512: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+then\n+  :\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -fr conftest*\n+  ac_cv_header_stdc=no\n+fi\n+rm -fr conftest*\n+fi\n+\n+fi\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_header_stdc\" 1>&6\n+if test $ac_cv_header_stdc = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define STDC_HEADERS 1\n+EOF\n+\n+fi\n+\n+echo $ac_n \"checking for uintptr_t\"\"... $ac_c\" 1>&6\n+echo \"configure:1536: checking for uintptr_t\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_type_uintptr_t'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1541 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n+#if STDC_HEADERS\n+#include <stdlib.h>\n+#include <stddef.h>\n+#endif\n EOF\n if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n-  egrep \"uintptr_t\" >/dev/null 2>&1; then\n+  egrep \"(^|[^a-zA-Z_0-9])uintptr_t[^a-zA-Z_0-9]\" >/dev/null 2>&1; then\n   rm -rf conftest*\n-  libiberty_cv_uintptr_t=yes\n+  ac_cv_type_uintptr_t=yes\n else\n   rm -rf conftest*\n-  libiberty_cv_uintptr_t=no\n+  ac_cv_type_uintptr_t=no\n fi\n rm -f conftest*\n \n+fi\n+echo \"$ac_t\"\"$ac_cv_type_uintptr_t\" 1>&6\n+if test $ac_cv_type_uintptr_t = no; then\n+  cat >> confdefs.h <<\\EOF\n+#define uintptr_t unsigned long\n+EOF\n+\n+fi\n \n-if test $libiberty_cv_uintptr_t = yes\n+\n+if test $ac_cv_type_uintptr_t = yes\n then\n   cat >> confdefs.h <<\\EOF\n #define HAVE_UINTPTR_T 1\n EOF\n \n-  echo \"$ac_t\"\"yes\" 1>&6\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n fi\n \n # This is the list of functions which libiberty will provide if they\n@@ -1513,12 +1630,12 @@ if test \"x\" = \"y\"; then\n   for ac_func in asprintf atexit basename bcmp bcopy bsearch bzero calloc clock\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1517: checking for $ac_func\" >&5\n+echo \"configure:1634: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1522 \"configure\"\n+#line 1639 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1541,7 +1658,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1545: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1662: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1568,12 +1685,12 @@ done\n   for ac_func in getcwd getpagesize index insque mkstemps memchr memcmp memcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1572: checking for $ac_func\" >&5\n+echo \"configure:1689: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1577 \"configure\"\n+#line 1694 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1596,7 +1713,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1600: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1717: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1623,12 +1740,12 @@ done\n   for ac_func in memmove memset putenv random rename rindex sigsetmask\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1627: checking for $ac_func\" >&5\n+echo \"configure:1744: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1632 \"configure\"\n+#line 1749 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1651,7 +1768,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1655: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1772: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1678,12 +1795,12 @@ done\n   for ac_func in strcasecmp setenv strchr strdup strncasecmp strrchr strstr\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1682: checking for $ac_func\" >&5\n+echo \"configure:1799: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1687 \"configure\"\n+#line 1804 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1706,7 +1823,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1710: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1827: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1733,12 +1850,12 @@ done\n   for ac_func in strtod strtol strtoul tmpnam vasprintf vfprintf vprintf\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1737: checking for $ac_func\" >&5\n+echo \"configure:1854: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1742 \"configure\"\n+#line 1859 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1761,7 +1878,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1765: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1882: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1788,12 +1905,12 @@ done\n   for ac_func in vsprintf waitpid getrusage on_exit psignal strerror strsignal\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1792: checking for $ac_func\" >&5\n+echo \"configure:1909: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1797 \"configure\"\n+#line 1914 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1816,7 +1933,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1820: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1937: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1843,12 +1960,12 @@ done\n   for ac_func in sysconf times sbrk gettimeofday ffs\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1847: checking for $ac_func\" >&5\n+echo \"configure:1964: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1852 \"configure\"\n+#line 1969 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1871,7 +1988,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1875: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1992: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2075,7 +2192,7 @@ if test -z \"${setobjs}\"; then\n   # We haven't set the list of objects yet.  Use the standard autoconf\n   # tests.  This will only work if the compiler works.\n   echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:2079: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:2196: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -2086,12 +2203,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 2090 \"configure\"\n+#line 2207 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:2095: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2212: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -2117,19 +2234,19 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:2121: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:2238: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n   for ac_func in $funcs\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2128: checking for $ac_func\" >&5\n+echo \"configure:2245: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2133 \"configure\"\n+#line 2250 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2152,7 +2269,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2156: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2273: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2179,12 +2296,12 @@ done\n \n \n   echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:2183: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:2300: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2188 \"configure\"\n+#line 2305 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -2209,12 +2326,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n   for ac_func in _getb67 GETB67 getb67; do\n     echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2213: checking for $ac_func\" >&5\n+echo \"configure:2330: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2218 \"configure\"\n+#line 2335 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2237,7 +2354,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2241: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2358: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2263,15 +2380,15 @@ fi\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:2267: checking stack direction for C alloca\" >&5\n+echo \"configure:2384: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2275 \"configure\"\n+#line 2392 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -2290,7 +2407,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:2294: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2411: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -2310,117 +2427,13 @@ cat >> confdefs.h <<EOF\n EOF\n \n \n-  echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:2315: checking for ANSI C header files\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 2320 \"configure\"\n-#include \"confdefs.h\"\n-#include <stdlib.h>\n-#include <stdarg.h>\n-#include <string.h>\n-#include <float.h>\n-EOF\n-ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2328: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n-ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n-if test -z \"$ac_err\"; then\n-  rm -rf conftest*\n-  ac_cv_header_stdc=yes\n-else\n-  echo \"$ac_err\" >&5\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  ac_cv_header_stdc=no\n-fi\n-rm -f conftest*\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n-cat > conftest.$ac_ext <<EOF\n-#line 2345 \"configure\"\n-#include \"confdefs.h\"\n-#include <string.h>\n-EOF\n-if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n-  egrep \"memchr\" >/dev/null 2>&1; then\n-  :\n-else\n-  rm -rf conftest*\n-  ac_cv_header_stdc=no\n-fi\n-rm -f conftest*\n-\n-fi\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n-cat > conftest.$ac_ext <<EOF\n-#line 2363 \"configure\"\n-#include \"confdefs.h\"\n-#include <stdlib.h>\n-EOF\n-if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n-  egrep \"free\" >/dev/null 2>&1; then\n-  :\n-else\n-  rm -rf conftest*\n-  ac_cv_header_stdc=no\n-fi\n-rm -f conftest*\n-\n-fi\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.\n-if test \"$cross_compiling\" = yes; then\n-  :\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 2384 \"configure\"\n-#include \"confdefs.h\"\n-#include <ctype.h>\n-#define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n-#define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))\n-#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))\n-int main () { int i; for (i = 0; i < 256; i++)\n-if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n-exit (0); }\n-\n-EOF\n-if { (eval echo configure:2395: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n-then\n-  :\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -fr conftest*\n-  ac_cv_header_stdc=no\n-fi\n-rm -fr conftest*\n-fi\n-\n-fi\n-fi\n-\n-echo \"$ac_t\"\"$ac_cv_header_stdc\" 1>&6\n-if test $ac_cv_header_stdc = yes; then\n-  cat >> confdefs.h <<\\EOF\n-#define STDC_HEADERS 1\n-EOF\n-\n-fi\n-\n-echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:2419: checking for pid_t\" >&5\n+  echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n+echo \"configure:2432: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2424 \"configure\"\n+#line 2437 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -2449,17 +2462,17 @@ fi\n \n ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2453: checking for vfork.h\" >&5\n+echo \"configure:2466: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2458 \"configure\"\n+#line 2471 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2463: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2476: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2484,18 +2497,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2488: checking for working vfork\" >&5\n+echo \"configure:2501: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2494: checking for vfork\" >&5\n+echo \"configure:2507: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2499 \"configure\"\n+#line 2512 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -2518,7 +2531,7 @@ vfork();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2522: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2535: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -2540,7 +2553,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2544 \"configure\"\n+#line 2557 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -2635,7 +2648,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:2639: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2652: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -2667,12 +2680,12 @@ fi\n     for ac_func in _doprnt\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2671: checking for $ac_func\" >&5\n+echo \"configure:2684: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2676 \"configure\"\n+#line 2689 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2695,7 +2708,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2699: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2712: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2725,19 +2738,19 @@ done\n \n   for v in $vars; do\n     echo $ac_n \"checking for $v\"\"... $ac_c\" 1>&6\n-echo \"configure:2729: checking for $v\" >&5\n+echo \"configure:2742: checking for $v\" >&5\n     if eval \"test \\\"`echo '$''{'libiberty_cv_var_$v'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2734 \"configure\"\n+#line 2747 \"configure\"\n #include \"confdefs.h\"\n int *p;\n int main() {\n extern int $v; p = &$v;\n ; return 0; }\n EOF\n-if { (eval echo configure:2741: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2754: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"libiberty_cv_var_$v=yes\"\n else\n@@ -2763,12 +2776,12 @@ EOF\n   for ac_func in $checkfuncs\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2767: checking for $ac_func\" >&5\n+echo \"configure:2780: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2772 \"configure\"\n+#line 2785 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2791,7 +2804,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2795: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2808: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2821,17 +2834,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2825: checking for $ac_hdr\" >&5\n+echo \"configure:2838: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2830 \"configure\"\n+#line 2843 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2835: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2848: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2860,12 +2873,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2864: checking for $ac_func\" >&5\n+echo \"configure:2877: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2869 \"configure\"\n+#line 2882 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2888,7 +2901,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2892: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2905: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2913,15 +2926,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:2917: checking for working mmap\" >&5\n+echo \"configure:2930: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2925 \"configure\"\n+#line 2938 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -3061,7 +3074,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:3065: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3078: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -3085,15 +3098,15 @@ fi\n \n \n echo $ac_n \"checking for working strncmp\"\"... $ac_c\" 1>&6\n-echo \"configure:3089: checking for working strncmp\" >&5\n+echo \"configure:3102: checking for working strncmp\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_strncmp_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_strncmp_works=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3097 \"configure\"\n+#line 3110 \"configure\"\n #include \"confdefs.h\"\n \n /* Test by Jim Wilson and Kaveh Ghazi.\n@@ -3154,7 +3167,7 @@ main ()\n }\n \n EOF\n-if { (eval echo configure:3158: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3171: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_strncmp_works=yes\n else"}, {"sha": "335737045b54f14ccdd188da55725c53847b7d17", "filename": "libiberty/configure.in", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fdfc290b947e036ff15e9b221f64d2bcb8c9fabc/libiberty%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fdfc290b947e036ff15e9b221f64d2bcb8c9fabc/libiberty%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure.in?ref=fdfc290b947e036ff15e9b221f64d2bcb8c9fabc", "patch": "@@ -126,16 +126,11 @@ AC_HEADER_TIME\n \n libiberty_AC_DECLARE_ERRNO\n \n-AC_MSG_CHECKING(for uintptr_t)\n-AC_EGREP_HEADER(uintptr_t, sys/types.h,\n-                libiberty_cv_uintptr_t=yes, libiberty_cv_uintptr_t=no)\n+AC_CHECK_TYPE(uintptr_t, unsigned long)\n \n-if test $libiberty_cv_uintptr_t = yes\n+if test $ac_cv_type_uintptr_t = yes\n then\n   AC_DEFINE(HAVE_UINTPTR_T, 1, [Define if you have the \\`uintptr_t' type.])\n-  AC_MSG_RESULT(yes)\n-else\n-  AC_MSG_RESULT(no)\n fi\n \n # This is the list of functions which libiberty will provide if they"}]}