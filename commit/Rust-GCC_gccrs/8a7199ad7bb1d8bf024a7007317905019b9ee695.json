{"sha": "8a7199ad7bb1d8bf024a7007317905019b9ee695", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGE3MTk5YWQ3YmIxZDhiZjAyNGE3MDA3MzE3OTA1MDE5YjllZTY5NQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2001-02-13T12:53:46Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2001-02-13T12:53:46Z"}, "message": "sparc.c (function_value): Treat all non-record aggregate types like used to treat UNION_TYPE.\n\n\t* config/sparc/sparc.c (function_value): Treat all non-record\n\taggregate types like used to treat UNION_TYPE.\n\nFrom-SVN: r39629", "tree": {"sha": "b66c09af633f791613c56ca8c3a3887d8e875d94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b66c09af633f791613c56ca8c3a3887d8e875d94"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8a7199ad7bb1d8bf024a7007317905019b9ee695", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a7199ad7bb1d8bf024a7007317905019b9ee695", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a7199ad7bb1d8bf024a7007317905019b9ee695", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a7199ad7bb1d8bf024a7007317905019b9ee695/comments", "author": null, "committer": null, "parents": [{"sha": "446988df3be95483e698fcb76814f7c80a81a196", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/446988df3be95483e698fcb76814f7c80a81a196", "html_url": "https://github.com/Rust-GCC/gccrs/commit/446988df3be95483e698fcb76814f7c80a81a196"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "776b9958e2b2ac4cc94fcf8fcb2a7f2e4e038b09", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a7199ad7bb1d8bf024a7007317905019b9ee695/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a7199ad7bb1d8bf024a7007317905019b9ee695/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8a7199ad7bb1d8bf024a7007317905019b9ee695", "patch": "@@ -1,3 +1,8 @@\n+Tue Feb 13 07:52:04 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* config/sparc/sparc.c (function_value): Treat all non-record\n+\taggregate types like used to treat UNION_TYPE.\n+\n Tue Feb 13 13:31:33 CET 2001  Jan Hubicka  <jh@suse.cz>\n \n \t* i386.c (print_reg): Use ANY_FP_REG instead of FP_REG"}, {"sha": "a84b095cb7d82a6bffb43525a878bf9567b7c477", "filename": "gcc/config/sparc/sparc.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a7199ad7bb1d8bf024a7007317905019b9ee695/gcc%2Fconfig%2Fsparc%2Fsparc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a7199ad7bb1d8bf024a7007317905019b9ee695/gcc%2Fconfig%2Fsparc%2Fsparc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.c?ref=8a7199ad7bb1d8bf024a7007317905019b9ee695", "patch": "@@ -4683,9 +4683,11 @@ function_value (type, mode, incoming_p)\n \n \t  return function_arg_record_value (type, mode, 0, 1, regbase);\n \t}\n-      else if (TREE_CODE (type) == UNION_TYPE)\n+      else if (AGGREGATE_TYPE_P (type))\n \t{\n-\t  int bytes = int_size_in_bytes (type);\n+\t  /* All other aggregate types are passed in an integer register\n+\t     in a mode corresponding to the size of the type.  */\n+\t  HOST_WIDE_INT bytes = int_size_in_bytes (type);\n \n \t  if (bytes > 32)\n \t    abort ();\n@@ -4697,7 +4699,7 @@ function_value (type, mode, incoming_p)\n   if (TARGET_ARCH64\n       && GET_MODE_CLASS (mode) == MODE_INT \n       && GET_MODE_SIZE (mode) < UNITS_PER_WORD\n-      && type && TREE_CODE (type) != UNION_TYPE)\n+      && type && ! AGGREGATE_TYPE_P (type))\n     mode = DImode;\n \n   if (incoming_p)"}]}