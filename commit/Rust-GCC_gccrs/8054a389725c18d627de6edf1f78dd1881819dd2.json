{"sha": "8054a389725c18d627de6edf1f78dd1881819dd2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODA1NGEzODk3MjVjMThkNjI3ZGU2ZWRmMWY3OGRkMTg4MTgxOWRkMg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2011-03-17T15:22:20Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2011-03-17T15:22:20Z"}, "message": "re PR bootstrap/48153 (Bootstrapping revision 171033 fails on x86_64-apple-darwin10)\n\n\tPR bootstrap/48153\n\t* dwarf2out.c (mem_loc_descriptor) <case ENTRY_VALUE>: Return NULL\n\tif dwarf_strict.\n\t(gen_subprogram_die): Don't add call_site DIEs if dwarf_strict.\n\tClear call_arg_locations and call_arg_loc_last always.\n\nFrom-SVN: r171102", "tree": {"sha": "afdeeddd86fdeee2dfa0c3198d828fe63730edc0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/afdeeddd86fdeee2dfa0c3198d828fe63730edc0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8054a389725c18d627de6edf1f78dd1881819dd2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8054a389725c18d627de6edf1f78dd1881819dd2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8054a389725c18d627de6edf1f78dd1881819dd2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8054a389725c18d627de6edf1f78dd1881819dd2/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "db3ed0b3b72051c8b3f82f2f1228dfaad4fbce10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db3ed0b3b72051c8b3f82f2f1228dfaad4fbce10", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db3ed0b3b72051c8b3f82f2f1228dfaad4fbce10"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "b1085ae83c48f0da74155897923fb952c6ae428d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8054a389725c18d627de6edf1f78dd1881819dd2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8054a389725c18d627de6edf1f78dd1881819dd2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8054a389725c18d627de6edf1f78dd1881819dd2", "patch": "@@ -1,5 +1,11 @@\n 2011-03-17  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR bootstrap/48153\n+\t* dwarf2out.c (mem_loc_descriptor) <case ENTRY_VALUE>: Return NULL\n+\tif dwarf_strict.\n+\t(gen_subprogram_die): Don't add call_site DIEs if dwarf_strict.\n+\tClear call_arg_locations and call_arg_loc_last always.\n+\n \tPR middle-end/48152\n \t* var-tracking.c (prepare_call_arguments): If argument needs to be\n \tpassed by reference, adjust argtype and mode."}, {"sha": "f62bb48737cd39d2869c8cd009f6013d3ccf76fe", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8054a389725c18d627de6edf1f78dd1881819dd2/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8054a389725c18d627de6edf1f78dd1881819dd2/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=8054a389725c18d627de6edf1f78dd1881819dd2", "patch": "@@ -13864,6 +13864,8 @@ mem_loc_descriptor (rtx rtl, enum machine_mode mode,\n       return 0;\n \n     case ENTRY_VALUE:\n+      if (dwarf_strict)\n+\treturn NULL;\n       mem_loc_result = new_loc_descr (DW_OP_GNU_entry_value, 0, 0);\n       mem_loc_result->dw_loc_oprnd1.val_class = dw_val_class_loc;\n       if (REG_P (ENTRY_VALUE_EXP (rtl)))\n@@ -19447,7 +19449,7 @@ gen_subprogram_die (tree decl, dw_die_ref context_die)\n       current_function_has_inlines = 0;\n       decls_for_scope (outer_scope, subr_die, 0);\n \n-      if (call_arg_locations)\n+      if (call_arg_locations && !dwarf_strict)\n \t{\n \t  struct call_arg_loc_node *ca_loc;\n \t  for (ca_loc = call_arg_locations; ca_loc; ca_loc = ca_loc->next)\n@@ -19547,11 +19549,12 @@ gen_subprogram_die (tree decl, dw_die_ref context_die)\n \t\t    tail_call_site_note_count++;\n \t\t}\n \t    }\n-\t  call_arg_locations = NULL;\n-\t  call_arg_loc_last = NULL;\n \t}\n+      call_arg_locations = NULL;\n+      call_arg_loc_last = NULL;\n       if (tail_call_site_count >= 0\n-\t  && tail_call_site_count == tail_call_site_note_count)\n+\t  && tail_call_site_count == tail_call_site_note_count\n+\t  && !dwarf_strict)\n \t{\n \t  if (call_site_count >= 0\n \t      && call_site_count == call_site_note_count)"}]}