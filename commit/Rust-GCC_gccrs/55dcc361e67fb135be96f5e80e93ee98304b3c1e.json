{"sha": "55dcc361e67fb135be96f5e80e93ee98304b3c1e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTVkY2MzNjFlNjdmYjEzNWJlOTZmNWU4MGU5M2VlOTgzMDRiM2MxZQ==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@gmail.com", "date": "2016-07-01T11:15:17Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2016-07-01T11:15:17Z"}, "message": "strcpy arg optimised out\n\nFor functions that return an argument unchanged, like strcat,\nfind_call_crossed_cheap_reg attempts to find an assignment between\na pseudo reg and the arg reg before the call, so that uses of the\npseudo after the call can instead use the return value.  The exit\ncondition on the loop looking at previous insns was wrong.  Uses of\nthe arg reg don't matter.  What matters is the insn setting the arg\nreg as any assignment involving the arg reg prior to that insn is\nlikely a completely unrelated use of the hard reg.\n\n\tPR rtl-optimization/71709\n\t* ira-lives.c (find_call_crossed_cheap_reg): Exit loop on arg reg\n\tbeing set, not referenced.\n\nFrom-SVN: r237909", "tree": {"sha": "5ab3fb691d7f0c24f34cdd3ade7d2c0354bed2e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5ab3fb691d7f0c24f34cdd3ade7d2c0354bed2e0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/55dcc361e67fb135be96f5e80e93ee98304b3c1e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55dcc361e67fb135be96f5e80e93ee98304b3c1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55dcc361e67fb135be96f5e80e93ee98304b3c1e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55dcc361e67fb135be96f5e80e93ee98304b3c1e/comments", "author": {"login": "amodra", "id": 6006325, "node_id": "MDQ6VXNlcjYwMDYzMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/6006325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amodra", "html_url": "https://github.com/amodra", "followers_url": "https://api.github.com/users/amodra/followers", "following_url": "https://api.github.com/users/amodra/following{/other_user}", "gists_url": "https://api.github.com/users/amodra/gists{/gist_id}", "starred_url": "https://api.github.com/users/amodra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amodra/subscriptions", "organizations_url": "https://api.github.com/users/amodra/orgs", "repos_url": "https://api.github.com/users/amodra/repos", "events_url": "https://api.github.com/users/amodra/events{/privacy}", "received_events_url": "https://api.github.com/users/amodra/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "466cf5747f1a203800c3118f3fcec04ecb6f9d39", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/466cf5747f1a203800c3118f3fcec04ecb6f9d39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/466cf5747f1a203800c3118f3fcec04ecb6f9d39"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "6551c0ec31c3cf65ceb7c6238763148f56a95e65", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55dcc361e67fb135be96f5e80e93ee98304b3c1e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55dcc361e67fb135be96f5e80e93ee98304b3c1e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=55dcc361e67fb135be96f5e80e93ee98304b3c1e", "patch": "@@ -1,3 +1,9 @@\n+2016-07-01  Alan Modra  <amodra@gmail.com>\n+\n+\tPR rtl-optimization/71709\n+\t* ira-lives.c (find_call_crossed_cheap_reg): Exit loop on arg reg\n+\tbeing set, not referenced.\n+\n 2016-07-01  Yuri Rumyantsev  <ysrumyan@gmail.com>\n \n \tPR tree-optimization/70729"}, {"sha": "6b7ee81bea16fd51373f7b1463004bfc48527a2d", "filename": "gcc/ira-lives.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55dcc361e67fb135be96f5e80e93ee98304b3c1e/gcc%2Fira-lives.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55dcc361e67fb135be96f5e80e93ee98304b3c1e/gcc%2Fira-lives.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fira-lives.c?ref=55dcc361e67fb135be96f5e80e93ee98304b3c1e", "patch": "@@ -1014,7 +1014,7 @@ find_call_crossed_cheap_reg (rtx_insn *insn)\n \t\t  break;\n \t\t}\n \n-\t      if (reg_overlap_mentioned_p (reg, PATTERN (prev)))\n+\t      if (reg_set_p (reg, prev))\n \t\tbreak;\n \t    }\n \t  prev = PREV_INSN (prev);"}]}