{"sha": "343a610060e28dffda9123f1678b0e47d3626918", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQzYTYxMDA2MGUyOGRmZmRhOTEyM2YxNjc4YjBlNDdkMzYyNjkxOA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-07-04T17:18:59Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-07-04T17:18:59Z"}, "message": "configure.ac (ranlib_flags): New variable.\n\n\t* configure.ac (ranlib_flags): New variable.\n\t* Makefile.in (RANLIB_FLAGS): New variable.\n\t(libbackend.a): Use it.\n\t* configure: Regenerated.\n\nFrom-SVN: r84088", "tree": {"sha": "71c7c7b9825df0800d0262264ce927a6de11fca7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/71c7c7b9825df0800d0262264ce927a6de11fca7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/343a610060e28dffda9123f1678b0e47d3626918", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/343a610060e28dffda9123f1678b0e47d3626918", "html_url": "https://github.com/Rust-GCC/gccrs/commit/343a610060e28dffda9123f1678b0e47d3626918", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/343a610060e28dffda9123f1678b0e47d3626918/comments", "author": null, "committer": null, "parents": [{"sha": "b41b25345b30416cc308c8b412a81542e2fe00f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b41b25345b30416cc308c8b412a81542e2fe00f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b41b25345b30416cc308c8b412a81542e2fe00f3"}], "stats": {"total": 41, "additions": 38, "deletions": 3}, "files": [{"sha": "06abd111a2e86ff3d9c16f44b9724154faa90b08", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/343a610060e28dffda9123f1678b0e47d3626918/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/343a610060e28dffda9123f1678b0e47d3626918/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=343a610060e28dffda9123f1678b0e47d3626918", "patch": "@@ -1,3 +1,10 @@\n+2004-07-04  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* configure.ac (ranlib_flags): New variable.\n+\t* Makefile.in (RANLIB_FLAGS): New variable.\n+\t(libbackend.a): Use it.\n+\t* configure: Regenerated.\n+\n 2004-07-04  Roger Sayle  <roger@eyesopen.com>\n \n \t* ifcvt.c (noce_try_sign_mask): Call emit_store_flag to generate"}, {"sha": "491e58a47d60b4cb09ef8ddcf829d465464286c0", "filename": "gcc/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/343a610060e28dffda9123f1678b0e47d3626918/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/343a610060e28dffda9123f1678b0e47d3626918/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=343a610060e28dffda9123f1678b0e47d3626918", "patch": "@@ -224,6 +224,7 @@ FLEXFLAGS =\n AR = ar\n AR_FLAGS = rc\n RANLIB = @RANLIB@\n+RANLIB_FLAGS = @ranlib_flags@\n \n # -------------------------------------------\n # Programs which operate on the build machine\n@@ -1147,7 +1148,7 @@ compilations: $(BACKEND)\n libbackend.a: $(OBJS@onestep@)\n \t-rm -rf libbackend.a\n \t$(AR) $(AR_FLAGS) libbackend.a $(OBJS@onestep@)\n-\t-$(RANLIB) libbackend.a\n+\t-$(RANLIB) $(RANLIB_FLAGS) libbackend.a\n \n # We call this executable `xgcc' rather than `gcc'\n # to avoid confusion if the current directory is in the path"}, {"sha": "be9f4bd8fdf5b234022f249310f7bc8e61316c64", "filename": "gcc/configure", "status": "modified", "additions": 16, "deletions": 2, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/343a610060e28dffda9123f1678b0e47d3626918/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/343a610060e28dffda9123f1678b0e47d3626918/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=343a610060e28dffda9123f1678b0e47d3626918", "patch": "@@ -309,7 +309,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os build_subdir host_subdir target_subdir GENINSRC CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT NO_MINUS_C_MINUS_O OUTPUT_OPTION CPP strict1_warn warn_cflags WERROR nocommon_flag TREEBROWSER EGREP valgrind_path valgrind_path_defines valgrind_command coverage_flags enable_multilib enable_shared TARGET_SYSTEM_ROOT TARGET_SYSTEM_ROOT_DEFINE CROSS_SYSTEM_HEADER_DIR onestep SET_MAKE AWK LN_S LN RANLIB ac_ct_RANLIB INSTALL INSTALL_PROGRAM INSTALL_DATA make_compare_target have_mktemp_command MAKEINFO BUILD_INFO GENERATED_MANPAGES FLEX BISON stage1_cflags COLLECT2_LIBS GNAT_LIBEXC LDEXP_LIB TARGET_GETGROUPS_T LIBICONV LIBICONV_DEP manext objext gthread_flags extra_modes_file FORBUILD PACKAGE VERSION USE_NLS LIBINTL LIBINTL_DEP INCINTL XGETTEXT GMSGFMT POSUB CATALOGS CROSS ALL SYSTEM_HEADER_DIR inhibit_libc BUILD_PREFIX BUILD_PREFIX_1 CC_FOR_BUILD BUILD_CFLAGS STMP_FIXINC STMP_FIXPROTO collect2 libgcc_visibility GGC zlibdir zlibinc MAINT ANDER BANSHEEINC BANSHEELIB gcc_tooldir dollar slibdir objdir subdirs srcdir all_boot_languages all_compilers all_gtfiles all_gtfiles_files_langs all_gtfiles_files_files all_lang_makefrags all_lang_makefiles all_languages all_stagestuff build_exeext build_install_headers_dir build_xm_file_list build_xm_include_list build_xm_defines check_languages cc_set_by_configure quoted_cc_set_by_configure cpp_install_dir xmake_file tmake_file extra_gcc_objs extra_headers_list extra_objs extra_parts extra_passes extra_programs float_h_file gcc_config_arguments gcc_gxx_include_dir libstdcxx_incdir gcc_version gcc_version_full gcc_version_trigger host_exeext host_xm_file_list host_xm_include_list host_xm_defines out_host_hook_obj install lang_opt_files lang_specs_files lang_tree_files local_prefix md_file objc_boehm_gc out_file out_object_file stage_prefix_set_by_configure quoted_stage_prefix_set_by_configure symbolic_link thread_file tm_file_list tm_include_list tm_defines tm_p_file_list tm_p_include_list xm_file_list xm_include_list xm_defines target_noncanonical c_target_objs cxx_target_objs target_cpu_default GMPLIBS GMPINC LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os build_subdir host_subdir target_subdir GENINSRC CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT NO_MINUS_C_MINUS_O OUTPUT_OPTION CPP strict1_warn warn_cflags WERROR nocommon_flag TREEBROWSER EGREP valgrind_path valgrind_path_defines valgrind_command coverage_flags enable_multilib enable_shared TARGET_SYSTEM_ROOT TARGET_SYSTEM_ROOT_DEFINE CROSS_SYSTEM_HEADER_DIR onestep SET_MAKE AWK LN_S LN RANLIB ac_ct_RANLIB ranlib_flags INSTALL INSTALL_PROGRAM INSTALL_DATA make_compare_target have_mktemp_command MAKEINFO BUILD_INFO GENERATED_MANPAGES FLEX BISON stage1_cflags COLLECT2_LIBS GNAT_LIBEXC LDEXP_LIB TARGET_GETGROUPS_T LIBICONV LIBICONV_DEP manext objext gthread_flags extra_modes_file FORBUILD PACKAGE VERSION USE_NLS LIBINTL LIBINTL_DEP INCINTL XGETTEXT GMSGFMT POSUB CATALOGS CROSS ALL SYSTEM_HEADER_DIR inhibit_libc BUILD_PREFIX BUILD_PREFIX_1 CC_FOR_BUILD BUILD_CFLAGS STMP_FIXINC STMP_FIXPROTO collect2 libgcc_visibility GGC zlibdir zlibinc MAINT ANDER BANSHEEINC BANSHEELIB gcc_tooldir dollar slibdir objdir subdirs srcdir all_boot_languages all_compilers all_gtfiles all_gtfiles_files_langs all_gtfiles_files_files all_lang_makefrags all_lang_makefiles all_languages all_stagestuff build_exeext build_install_headers_dir build_xm_file_list build_xm_include_list build_xm_defines check_languages cc_set_by_configure quoted_cc_set_by_configure cpp_install_dir xmake_file tmake_file extra_gcc_objs extra_headers_list extra_objs extra_parts extra_passes extra_programs float_h_file gcc_config_arguments gcc_gxx_include_dir libstdcxx_incdir gcc_version gcc_version_full gcc_version_trigger host_exeext host_xm_file_list host_xm_include_list host_xm_defines out_host_hook_obj install lang_opt_files lang_specs_files lang_tree_files local_prefix md_file objc_boehm_gc out_file out_object_file stage_prefix_set_by_configure quoted_stage_prefix_set_by_configure symbolic_link thread_file tm_file_list tm_include_list tm_defines tm_p_file_list tm_p_include_list xm_file_list xm_include_list xm_defines target_noncanonical c_target_objs cxx_target_objs target_cpu_default GMPLIBS GMPINC LIBOBJS LTLIBOBJS'\n ac_subst_files='language_hooks'\n \n # Initialize some variables set by options.\n@@ -5055,6 +5055,19 @@ else\n   RANLIB=\"$ac_cv_prog_RANLIB\"\n fi\n \n+case \"${host}\" in\n+*-*-darwin*)\n+  # By default, the Darwin ranlib will not treat common symbols as\n+  # definitions when  building the archive table of contents.  Other\n+  # ranlibs do that; pass an option to the Darwin ranlib that makes\n+  # it behave similarly.\n+  ranlib_flags=\"-c\"\n+  ;;\n+*)\n+  ranlib_flags=\"\"\n+esac\n+\n+\n # Find a good install program.  We prefer a C program (faster),\n # so one script is as good as another.  But avoid the broken or\n # incompatible versions:\n@@ -5242,7 +5255,7 @@ if test \"${gcc_cv_prog_makeinfo_modern+set}\" = set; then\n else\n     ac_prog_version=`$MAKEINFO --version 2>&1 |\n                    sed -n 's/^.*GNU texinfo.* \\([0-9][0-9.]*\\).*$/\\1/p'`\n-  echo \"configure:5245: version of makeinfo is $ac_prog_version\" >&5\n+  echo \"configure:5258: version of makeinfo is $ac_prog_version\" >&5\n   case $ac_prog_version in\n     '')     gcc_cv_prog_makeinfo_modern=no;;\n     4.[2-9]*)\n@@ -12893,6 +12906,7 @@ s,@LN_S@,$LN_S,;t t\n s,@LN@,$LN,;t t\n s,@RANLIB@,$RANLIB,;t t\n s,@ac_ct_RANLIB@,$ac_ct_RANLIB,;t t\n+s,@ranlib_flags@,$ranlib_flags,;t t\n s,@INSTALL@,$INSTALL,;t t\n s,@INSTALL_PROGRAM@,$INSTALL_PROGRAM,;t t\n s,@INSTALL_DATA@,$INSTALL_DATA,;t t"}, {"sha": "50dc9f3b22615b63e981e42b746d330bf3fe99a9", "filename": "gcc/configure.ac", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/343a610060e28dffda9123f1678b0e47d3626918/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/343a610060e28dffda9123f1678b0e47d3626918/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=343a610060e28dffda9123f1678b0e47d3626918", "patch": "@@ -729,6 +729,19 @@ esac\n gcc_AC_PROG_LN_S\n ACX_PROG_LN($LN_S)\n AC_PROG_RANLIB\n+case \"${host}\" in\n+*-*-darwin*)\n+  # By default, the Darwin ranlib will not treat common symbols as\n+  # definitions when  building the archive table of contents.  Other \n+  # ranlibs do that; pass an option to the Darwin ranlib that makes\n+  # it behave similarly.\n+  ranlib_flags=\"-c\" \n+  ;;\n+*)\n+  ranlib_flags=\"\"\n+esac\n+AC_SUBST(ranlib_flags)\n+     \n gcc_AC_PROG_INSTALL\n \n # See if cmp has --ignore-initial."}]}