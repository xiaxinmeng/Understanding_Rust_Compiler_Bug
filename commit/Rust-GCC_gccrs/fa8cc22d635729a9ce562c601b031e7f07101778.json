{"sha": "fa8cc22d635729a9ce562c601b031e7f07101778", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmE4Y2MyMmQ2MzU3MjlhOWNlNTYyYzYwMWIwMzFlN2YwNzEwMTc3OA==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-02-17T22:54:34Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-02-17T22:54:34Z"}, "message": "h8300.h (ASM_OUTPUT_SECTION_NAME): Define.\n\n* h8300/h8300.h (ASM_OUTPUT_SECTION_NAME): Define.\n(EXTRA_SECTIONS, EXTRA_SECTION_FUNCTIONS, SELECT_SECTION): Delete.\n(ASM_OUTPUT_LABELREF): Call fprintf directly.\n\nFrom-SVN: r6588", "tree": {"sha": "aae77c01d153470943cbb539d2f6b5b7ada41272", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aae77c01d153470943cbb539d2f6b5b7ada41272"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fa8cc22d635729a9ce562c601b031e7f07101778", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa8cc22d635729a9ce562c601b031e7f07101778", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa8cc22d635729a9ce562c601b031e7f07101778", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa8cc22d635729a9ce562c601b031e7f07101778/comments", "author": null, "committer": null, "parents": [{"sha": "721822b4903b5437e212fbf4947689ae2073d9ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/721822b4903b5437e212fbf4947689ae2073d9ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/721822b4903b5437e212fbf4947689ae2073d9ee"}], "stats": {"total": 37, "additions": 14, "deletions": 23}, "files": [{"sha": "b93c90ba5f9642886db94331002423a63e600baa", "filename": "gcc/config/h8300/h8300.h", "status": "modified", "additions": 14, "deletions": 23, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa8cc22d635729a9ce562c601b031e7f07101778/gcc%2Fconfig%2Fh8300%2Fh8300.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa8cc22d635729a9ce562c601b031e7f07101778/gcc%2Fconfig%2Fh8300%2Fh8300.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.h?ref=fa8cc22d635729a9ce562c601b031e7f07101778", "patch": "@@ -909,17 +909,6 @@ switch (get_attr_cc (INSN))\t\t\t\t\t\t\\\n #define DATA_SECTION_ASM_OP \"\\t.section .data\"\n #define BSS_SECTION_ASM_OP  \"\\t.section .bss\"\n \n-#define EXTRA_SECTIONS in_user\n-\n-#define EXTRA_SECTION_FUNCTIONS\t\t\t\t\\\n-void\t\t\t\t\t\t\t\\\n-user_section (name)\t\t\t\t\t\\\n-    char *name;\t\t\t\t\t\t\\\n-{\t\t\t\t\t\t\t\\\n-  fprintf (asm_out_file, \"\\t.section\\t%s\\n\", name);\t\\\n-  in_section = in_user;\t\t\t\t\t\\\n-}\n-\n #define MAX_TEXT_ALIGN 16\n \n /* How to refer to registers in assembler output.\n@@ -933,11 +922,18 @@ user_section (name)\t\t\t\t\t\\\n \n #define DBX_REGISTER_NUMBER(REGNO) (REGNO)\n \n-/* This is how to output the definition of a user-level label named NAME,\n-   such as the label on a static function or variable NAME.  */\n #define SDB_DEBUGGING_INFO\n #define SDB_DELIM\t\"\\n\"\n \n+/* Assemble generic sections.\n+   This is currently only used to support section attributes.  */\n+\n+#define ASM_OUTPUT_SECTION_NAME(FILE, NAME) \\\n+   fprintf (FILE, \".section\\t\\\"%s\\\"\\n\", NAME)\n+\n+/* This is how to output the definition of a user-level label named NAME,\n+   such as the label on a static function or variable NAME.  */\n+\n #define ASM_OUTPUT_LABEL(FILE,NAME)\t\\\n   do { assemble_name (FILE, NAME); fputs (\":\\n\", FILE); } while (0)\n \n@@ -951,9 +947,11 @@ user_section (name)\t\t\t\t\t\\\n /*#define ASM_DECLARE_FUNCTION_NAME(FILE, NAME, DECL) \\\n   ASM_OUTPUT_LABEL(FILE, NAME); */\n \n-/* This is how to output a reference to a user-level label named NAME.  */\n-#define ASM_OUTPUT_LABELREF(FILE, NAME)\t\\\n- asm_output_labelref (FILE, NAME)\n+/* This is how to output a reference to a user-level label named NAME.\n+   `assemble_name' uses this.  */\n+\n+#define ASM_OUTPUT_LABELREF(FILE,NAME)\t\\\n+  fprintf (FILE, \"_%s\", NAME)\n \n /* This is how to output an internal numbered label where\n    PREFIX is the class of label and NUM is the number within the class.  */\n@@ -1106,10 +1104,3 @@ user_section (name)\t\t\t\t\t\\\n #define SUBSI3_LIBCALL \"__subsi3\"\n \n #define MOVE_RATIO 3\n-\n-#if 0\n-/* This stuff doesn't work currently.  */\n-#undef SELECT_SECTION\n-#define SELECT_SECTION(DECL,RELOC) select_section(DECL, RELOC)\n-#define SELECT_FUNCTION_SECTION(a,b) SELECT_SECTION(a,b)\n-#endif"}]}