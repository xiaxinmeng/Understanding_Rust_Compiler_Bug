{"sha": "cbed4565fd0d9079f9daa84919f6d4882e45ab11", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2JlZDQ1NjVmZDBkOTA3OWY5ZGFhODQ5MTlmNmQ0ODgyZTQ1YWIxMQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-24T07:06:14Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-24T07:06:14Z"}, "message": "(assemble_variable): Set last_assemble_variable_decl.\n\n(last_assemble_variable_decl): New variable.\n\nFrom-SVN: r5877", "tree": {"sha": "cdae32151b7ac164072efd2a7e6e1d28d08ee108", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cdae32151b7ac164072efd2a7e6e1d28d08ee108"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cbed4565fd0d9079f9daa84919f6d4882e45ab11", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbed4565fd0d9079f9daa84919f6d4882e45ab11", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cbed4565fd0d9079f9daa84919f6d4882e45ab11", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbed4565fd0d9079f9daa84919f6d4882e45ab11/comments", "author": null, "committer": null, "parents": [{"sha": "84a92af496a85b5077286e3d4219a747c0ecf268", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84a92af496a85b5077286e3d4219a747c0ecf268", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84a92af496a85b5077286e3d4219a747c0ecf268"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "1198e72eb9265080a447897daa710d520572094c", "filename": "gcc/varasm.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cbed4565fd0d9079f9daa84919f6d4882e45ab11/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cbed4565fd0d9079f9daa84919f6d4882e45ab11/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=cbed4565fd0d9079f9daa84919f6d4882e45ab11", "patch": "@@ -87,6 +87,13 @@ int var_labelno;\n \n int size_directive_output;\n \n+/* The last decl for which assemble_variable was called,\n+   if it did ASM_DECLARE_OBJECT_NAME.\n+   If the last call to assemble_variable didn't do that,\n+   this holds 0.  */\n+\n+tree last_assemble_variable_decl;\n+\n /* Nonzero if at least one function definition has been seen.  */\n static int function_defined;\n \n@@ -858,6 +865,8 @@ assemble_variable (decl, top_level, at_end, dont_output_data)\n   int reloc = 0;\n   enum in_section saved_in_section;\n \n+  last_assemble_variable_decl = 0;\n+\n   if (output_bytecode)\n     return;\n \n@@ -1179,6 +1188,7 @@ assemble_variable (decl, top_level, at_end, dont_output_data)\n \n   /* Do any machine/system dependent processing of the object.  */\n #ifdef ASM_DECLARE_OBJECT_NAME\n+  last_assemble_variable_decl = decl;\n   ASM_DECLARE_OBJECT_NAME (asm_out_file, name, decl);\n #else\n   /* Standard thing is just output label for the object.  */"}]}