{"sha": "42b7febc53cac744c7d0c0ae6e2dae0876b7d896", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDJiN2ZlYmM1M2NhYzc0NGM3ZDBjMGFlNmUyZGFlMDg3NmI3ZDg5Ng==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2015-08-13T15:45:37Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2015-08-13T15:45:37Z"}, "message": "re PR c++/53421 (__attribute__((__may_alias__)) prevents taking address of conversion operator member function)\n\n2015-08-13  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/53421\n\t* g++.dg/ext/attribute-may-alias-1.C: New.\n\t* g++.dg/ext/attribute-may-alias-2.C: Likewise.\n\nFrom-SVN: r226868", "tree": {"sha": "6cc568b30f24a1a758897c2521dea2237ac29af6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6cc568b30f24a1a758897c2521dea2237ac29af6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/42b7febc53cac744c7d0c0ae6e2dae0876b7d896", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42b7febc53cac744c7d0c0ae6e2dae0876b7d896", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42b7febc53cac744c7d0c0ae6e2dae0876b7d896", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42b7febc53cac744c7d0c0ae6e2dae0876b7d896/comments", "author": null, "committer": null, "parents": [{"sha": "708768eb18c58c100a91f114c556a2c39cb1f0f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/708768eb18c58c100a91f114c556a2c39cb1f0f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/708768eb18c58c100a91f114c556a2c39cb1f0f4"}], "stats": {"total": 34, "additions": 34, "deletions": 0}, "files": [{"sha": "ef2d567f64eb7b054811a6fa797573e28715a26d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42b7febc53cac744c7d0c0ae6e2dae0876b7d896/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42b7febc53cac744c7d0c0ae6e2dae0876b7d896/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=42b7febc53cac744c7d0c0ae6e2dae0876b7d896", "patch": "@@ -1,3 +1,9 @@\n+2015-08-13  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/53421\n+\t* g++.dg/ext/attribute-may-alias-1.C: New.\n+\t* g++.dg/ext/attribute-may-alias-2.C: Likewise.\n+\n 2015-08-13  Matthew Wahab  <matthew.wahab@arm.com>\n \n \t* gcc.target/aarch64/atomic-inst-cas.c: New."}, {"sha": "24d2aab7615a9b7321dec0b8664e3dde6d8ba404", "filename": "gcc/testsuite/g++.dg/ext/attribute-may-alias-1.C", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42b7febc53cac744c7d0c0ae6e2dae0876b7d896/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-may-alias-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42b7febc53cac744c7d0c0ae6e2dae0876b7d896/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-may-alias-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-may-alias-1.C?ref=42b7febc53cac744c7d0c0ae6e2dae0876b7d896", "patch": "@@ -0,0 +1,15 @@\n+// PR c++/53421\n+\n+template< class T >\n+struct Y : T\n+{ } __attribute__((__may_alias__));\n+\n+struct X\n+{\n+  operator Y<X>& () { return *static_cast< Y<X>* >(this); }\n+};\n+\n+int main()\n+{\n+  &X::operator Y<X>&;\n+}"}, {"sha": "d7e1fdfdd4a85c3f978777d27237277200b461f3", "filename": "gcc/testsuite/g++.dg/ext/attribute-may-alias-2.C", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42b7febc53cac744c7d0c0ae6e2dae0876b7d896/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-may-alias-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42b7febc53cac744c7d0c0ae6e2dae0876b7d896/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-may-alias-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-may-alias-2.C?ref=42b7febc53cac744c7d0c0ae6e2dae0876b7d896", "patch": "@@ -0,0 +1,13 @@\n+// PR c++/53421\n+\n+template< class T >\n+struct Y : T\n+{ } __attribute__((__may_alias__));\n+\n+struct X\n+{\n+  operator Y<X>& ();\n+};\n+\n+Y<X> y = Y<X>();\n+X::operator Y<X>& () { return *static_cast< Y<X>* >(this); }"}]}