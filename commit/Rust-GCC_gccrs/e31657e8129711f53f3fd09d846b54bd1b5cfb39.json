{"sha": "e31657e8129711f53f3fd09d846b54bd1b5cfb39", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTMxNjU3ZTgxMjk3MTFmNTNmM2ZkMDlkODQ2YjU0YmQxYjVjZmIzOQ==", "commit": {"author": {"name": "Seongbae Park", "email": "seongbae.park@gmail.com", "date": "2007-03-14T05:48:35Z"}, "committer": {"name": "Seongbae Park", "email": "spark@gcc.gnu.org", "date": "2007-03-14T05:48:35Z"}, "message": "re PR tree-optimization/30590 (tree-nrv optimization clobbers return variable)\n\n2007-03-13  Seongbae Park <seongbae.park@gmail.com>\n\n\tPR tree-optimization/30590\n\t* tree-nrv.c (tree_nrv): Check for the partial update of the\n\treturn value.\n\nFrom-SVN: r122909", "tree": {"sha": "b1cd7e69e39cc361885098ef2120d09353c8c59f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b1cd7e69e39cc361885098ef2120d09353c8c59f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e31657e8129711f53f3fd09d846b54bd1b5cfb39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e31657e8129711f53f3fd09d846b54bd1b5cfb39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e31657e8129711f53f3fd09d846b54bd1b5cfb39", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e31657e8129711f53f3fd09d846b54bd1b5cfb39/comments", "author": null, "committer": null, "parents": [{"sha": "0503394970a7baf231310100775bc853b6b600a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0503394970a7baf231310100775bc853b6b600a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0503394970a7baf231310100775bc853b6b600a4"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "1e5a199e17836f29b11546ae97b1c03ea9873359", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e31657e8129711f53f3fd09d846b54bd1b5cfb39/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e31657e8129711f53f3fd09d846b54bd1b5cfb39/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e31657e8129711f53f3fd09d846b54bd1b5cfb39", "patch": "@@ -1,3 +1,9 @@\n+2007-03-13  Seongbae Park <seongbae.park@gmail.com>\n+\n+\tPR tree-optimization/30590\n+\t* tree-nrv.c (tree_nrv): Check for the partial update of the\n+\treturn value.\n+\n 2007-03-13  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* flags.h (flag_random_seed): Remove declaration, in favor of..."}, {"sha": "906b98fbc8ad639aac816a2d5cf1dbd357445b06", "filename": "gcc/tree-nrv.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e31657e8129711f53f3fd09d846b54bd1b5cfb39/gcc%2Ftree-nrv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e31657e8129711f53f3fd09d846b54bd1b5cfb39/gcc%2Ftree-nrv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-nrv.c?ref=e31657e8129711f53f3fd09d846b54bd1b5cfb39", "patch": "@@ -163,6 +163,14 @@ tree_nrv (void)\n \t\t\t\t\t\t     result_type))\n \t\treturn 0;\n \t    }\n+\t  else if (TREE_CODE (stmt) == GIMPLE_MODIFY_STMT)\n+\t    {\n+\t      tree addr = get_base_address (GIMPLE_STMT_OPERAND (stmt, 0));\n+\t       /* If there's any MODIFY of component of RESULT, \n+\t\t  then bail out.  */\n+\t      if (addr && addr == result)\n+\t\treturn 0;\n+\t    }\n \t}\n     }\n "}]}