{"sha": "7106d491044fec66141ed9defe95d80650f374e0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzEwNmQ0OTEwNDRmZWM2NjE0MWVkOWRlZmU5NWQ4MDY1MGYzNzRlMA==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2001-09-21T14:39:28Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2001-09-21T14:39:28Z"}, "message": "cfgcleanup.c (flow_find_cross_jump): Delete any REG_EQUAL notes that would be invalid after a merge.\n\n* cfgcleanup.c (flow_find_cross_jump): Delete any REG_EQUAL notes\nthat would be invalid after a merge.\n\nFrom-SVN: r45727", "tree": {"sha": "1361fc790de66f92cceffd8d029e83579c26a96d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1361fc790de66f92cceffd8d029e83579c26a96d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7106d491044fec66141ed9defe95d80650f374e0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7106d491044fec66141ed9defe95d80650f374e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7106d491044fec66141ed9defe95d80650f374e0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7106d491044fec66141ed9defe95d80650f374e0/comments", "author": null, "committer": null, "parents": [{"sha": "53c170316f895dc3dfa7173e69fc43b15b7acb1a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53c170316f895dc3dfa7173e69fc43b15b7acb1a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53c170316f895dc3dfa7173e69fc43b15b7acb1a"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "49148b0a3c92914b3ff1a920f72131802db94933", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7106d491044fec66141ed9defe95d80650f374e0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7106d491044fec66141ed9defe95d80650f374e0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7106d491044fec66141ed9defe95d80650f374e0", "patch": "@@ -1,3 +1,8 @@\n+21-09-2001  Richard Earnshaw  (reanrsha@arm.com)\n+\n+\t* cfgcleanup.c (flow_find_cross_jump): Delete any REG_EQUAL notes\n+\tthat would be invalid after a merge.\n+\n Fri Sep 21 14:24:29 CEST 2001  Jan Hubicka  <jh@suse.cz>\n \n \t* basic-block.h (flow_delete_insn, flow_delete_insn_chain): Kill."}, {"sha": "a3ddcac872ea07a181058add16edf33ce06ef554", "filename": "gcc/cfgcleanup.c", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7106d491044fec66141ed9defe95d80650f374e0/gcc%2Fcfgcleanup.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7106d491044fec66141ed9defe95d80650f374e0/gcc%2Fcfgcleanup.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgcleanup.c?ref=7106d491044fec66141ed9defe95d80650f374e0", "patch": "@@ -583,6 +583,22 @@ flow_find_cross_jump (mode, bb1, bb2, f1, f2)\n       /* Don't begin a cross-jump with a USE or CLOBBER insn.  */\n       if (GET_CODE (p1) != USE && GET_CODE (p1) != CLOBBER)\n \t{\n+\t  /* If the merged insns have different REG_EQUAL notes, then\n+\t     remove them.  */\n+\t  rtx equiv1 = find_reg_equal_equiv_note (i1);\n+\t  rtx equiv2 = find_reg_equal_equiv_note (i2);\n+\n+\t  if (equiv1 && !equiv2)\n+\t    remove_note (i1, equiv1);\n+\t  else if (!equiv1 && equiv2)\n+\t    remove_note (i2, equiv2);\n+\t  else if (equiv1 && equiv2\n+\t\t   && !rtx_equal_p (XEXP (equiv1, 0), XEXP (equiv2, 0)))\n+\t    {\n+\t      remove_note (i1, equiv1);\n+\t      remove_note (i2, equiv2);\n+\t    }\n+\t     \n \t  afterlast1 = last1, afterlast2 = last2;\n \t  last1 = i1, last2 = i2;\n           ninsns++;"}]}