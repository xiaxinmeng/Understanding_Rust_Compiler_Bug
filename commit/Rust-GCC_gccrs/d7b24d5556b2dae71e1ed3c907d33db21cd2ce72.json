{"sha": "d7b24d5556b2dae71e1ed3c907d33db21cd2ce72", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDdiMjRkNTU1NmIyZGFlNzFlMWVkM2M5MDdkMzNkYjIxY2QyY2U3Mg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-12-22T16:43:28Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-12-22T16:43:28Z"}, "message": "compiler: do not propagate address-taken of a slice element to the slice\n    \n    Array_index_expression may be used for indexing/slicing array or\n    slice. If a slice element is address taken, the slice itself is\n    not necessarily address taken. Only propagate address-taken for\n    arrays.\n    \n    Reviewed-on: https://go-review.googlesource.com/83877\n\nFrom-SVN: r255977", "tree": {"sha": "6aafaec025a855ec9fa8bb9a0cce3a4fa9dcbb14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6aafaec025a855ec9fa8bb9a0cce3a4fa9dcbb14"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d7b24d5556b2dae71e1ed3c907d33db21cd2ce72", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7b24d5556b2dae71e1ed3c907d33db21cd2ce72", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d7b24d5556b2dae71e1ed3c907d33db21cd2ce72", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7b24d5556b2dae71e1ed3c907d33db21cd2ce72/comments", "author": null, "committer": null, "parents": [{"sha": "bb14e19c2be54dd10f40d705364e08524ec8310c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb14e19c2be54dd10f40d705364e08524ec8310c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb14e19c2be54dd10f40d705364e08524ec8310c"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "3ba3462647818b7986dd2593fe4acdecd030daff", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7b24d5556b2dae71e1ed3c907d33db21cd2ce72/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7b24d5556b2dae71e1ed3c907d33db21cd2ce72/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=d7b24d5556b2dae71e1ed3c907d33db21cd2ce72", "patch": "@@ -1,4 +1,4 @@\n-83fc0e440b8c151edc5b1c67006257aad522ca04\n+9b9bece388d1bacdc9d1d0024e722ffe449d221d\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "f5adc18586db303400b5af1fc45998ea88e03dc3", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7b24d5556b2dae71e1ed3c907d33db21cd2ce72/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7b24d5556b2dae71e1ed3c907d33db21cd2ce72/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=d7b24d5556b2dae71e1ed3c907d33db21cd2ce72", "patch": "@@ -10871,6 +10871,14 @@ Array_index_expression::do_is_addressable() const\n   return this->array_->is_addressable();\n }\n \n+void\n+Array_index_expression::do_address_taken(bool escapes)\n+{\n+  // In &x[0], if x is a slice, then x's address is not taken.\n+  if (!this->array_->type()->is_slice_type())\n+    this->array_->address_taken(escapes);\n+}\n+\n // Get the backend representation for an array index.\n \n Bexpression*"}, {"sha": "cb6089005660b7a8ebedb34badd711d9b7c8a69b", "filename": "gcc/go/gofrontend/expressions.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7b24d5556b2dae71e1ed3c907d33db21cd2ce72/gcc%2Fgo%2Fgofrontend%2Fexpressions.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7b24d5556b2dae71e1ed3c907d33db21cd2ce72/gcc%2Fgo%2Fgofrontend%2Fexpressions.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.h?ref=d7b24d5556b2dae71e1ed3c907d33db21cd2ce72", "patch": "@@ -2896,8 +2896,7 @@ class Array_index_expression : public Expression\n   do_is_addressable() const;\n \n   void\n-  do_address_taken(bool escapes)\n-  { this->array_->address_taken(escapes); }\n+  do_address_taken(bool escapes);\n \n   void\n   do_issue_nil_check()"}]}