{"sha": "2afd35b3380c51f9eb6bab7ca37b2d883c4eb298", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmFmZDM1YjMzODBjNTFmOWViNmJhYjdjYTM3YjJkODgzYzRlYjI5OA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2006-03-15T17:39:16Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2006-03-15T17:39:16Z"}, "message": "* parse.y (analyze_clinit_body): Ignore empty statements.\n\nFrom-SVN: r112092", "tree": {"sha": "4efa04a2cb1923b068a56fa30b0d3999ff1b18fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4efa04a2cb1923b068a56fa30b0d3999ff1b18fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2afd35b3380c51f9eb6bab7ca37b2d883c4eb298", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2afd35b3380c51f9eb6bab7ca37b2d883c4eb298", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2afd35b3380c51f9eb6bab7ca37b2d883c4eb298", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2afd35b3380c51f9eb6bab7ca37b2d883c4eb298/comments", "author": null, "committer": null, "parents": [{"sha": "ff9d45906de3eee23784071f8e82a9d566d6d074", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff9d45906de3eee23784071f8e82a9d566d6d074", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff9d45906de3eee23784071f8e82a9d566d6d074"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "485e362b094870c947517c6b678484a877de08de", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2afd35b3380c51f9eb6bab7ca37b2d883c4eb298/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2afd35b3380c51f9eb6bab7ca37b2d883c4eb298/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=2afd35b3380c51f9eb6bab7ca37b2d883c4eb298", "patch": "@@ -1,3 +1,7 @@\n+2006-03-15  Tom Tromey  <tromey@redhat.com>\n+\n+\t* parse.y (analyze_clinit_body): Ignore empty statements.\n+\n 2006-03-08  David Daney  <ddaney@avtrex.com>\n \n \t* gcj.texi: Document -static-libgcj option."}, {"sha": "48a56d8f1d834550319a63b7d55fac89cc189d2f", "filename": "gcc/java/parse.y", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2afd35b3380c51f9eb6bab7ca37b2d883c4eb298/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2afd35b3380c51f9eb6bab7ca37b2d883c4eb298/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=2afd35b3380c51f9eb6bab7ca37b2d883c4eb298", "patch": "@@ -1,6 +1,6 @@\n /* Source code parsing and tree node generation for the GNU compiler\n    for the Java(TM) language.\n-   Copyright (C) 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005\n+   Copyright (C) 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006\n    Free Software Foundation, Inc.\n    Contributed by Alexandre Petit-Bianco (apbianco@cygnus.com)\n \n@@ -8006,7 +8006,8 @@ maybe_generate_pre_expand_clinit (tree class_type)\n }\n \n /* Analyzes a method body and look for something that isn't a\n-   MODIFY_EXPR with a constant value.  */\n+   MODIFY_EXPR with a constant value.  Return true if <clinit> is\n+   needed, false otherwise.  */\n \n static int\n analyze_clinit_body (tree this_class, tree bbody)\n@@ -8045,6 +8046,11 @@ analyze_clinit_body (tree this_class, tree bbody)\n \t\t|| ! DECL_INITIAL (TREE_OPERAND (bbody, 0))\n \t\t|| DECL_CONTEXT (TREE_OPERAND (bbody, 0)) != this_class);\n \n+      case NOP_EXPR:\n+\t/* We might see an empty statement here, which is\n+\t   ignorable.  */\n+\treturn ! IS_EMPTY_STMT (bbody);\n+\n       default:\n \treturn 1;\n       }"}]}