{"sha": "1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWRiZjhjMjQwNWVhODYxOGY0OTNjMGQ1YmI5ODVmNGMyOGQ3MzU3MA==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2006-05-11T19:56:21Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2006-05-11T19:56:21Z"}, "message": "target-supports.exp (check_effective_target_powerpc_fprs, [...]): New.\n\n\t* lib/target-supports.exp (check_effective_target_powerpc_fprs,\n\tcheck_effective_target_powerpc_altivec_ok): New.\n\t* g++.dg/eh/simd-2.C, g++.dg/ext/altivec-1.C,\n\tg++.dg/ext/altivec-10.C, g++.dg/ext/altivec-11.C,\n\tg++.dg/ext/altivec-12.C, g++.dg/ext/altivec-13.C,\n\tg++.dg/ext/altivec-2.C, g++.dg/ext/altivec-3.C,\n\tg++.dg/ext/altivec-4.C, g++.dg/ext/altivec-5.C,\n\tg++.dg/ext/altivec-6.C, g++.dg/ext/altivec-7.C,\n\tg++.dg/ext/altivec-8.C, g++.dg/ext/altivec-9.C,\n\tg++.dg/ext/altivec-types-1.C, g++.dg/ext/altivec-types-2.C,\n\tg++.dg/ext/altivec-types-3.C, g++.dg/ext/altivec-types-4.C,\n\tgcc.dg/dfp/altivec-types.c, gcc.dg/simd-3.c,\n\tgcc.dg/vect/vect-82_64.c, gcc.dg/vect/vect-83_64.c,\n\tgcc.dg/vmx/vmx.exp, gcc.target/powerpc/980827-1.c,\n\tgcc.target/powerpc/altivec-1.c, gcc.target/powerpc/altivec-10.c,\n\tgcc.target/powerpc/altivec-11.c, gcc.target/powerpc/altivec-12.c,\n\tgcc.target/powerpc/altivec-13.c, gcc.target/powerpc/altivec-14.c,\n\tgcc.target/powerpc/altivec-15.c, gcc.target/powerpc/altivec-16.c,\n\tgcc.target/powerpc/altivec-17.c, gcc.target/powerpc/altivec-18.c,\n\tgcc.target/powerpc/altivec-19.c, gcc.target/powerpc/altivec-2.c,\n\tgcc.target/powerpc/altivec-21.c, gcc.target/powerpc/altivec-22.c,\n\tgcc.target/powerpc/altivec-3.c, gcc.target/powerpc/altivec-4.c,\n\tgcc.target/powerpc/altivec-5.c, gcc.target/powerpc/altivec-6.c,\n\tgcc.target/powerpc/altivec-7.c, gcc.target/powerpc/altivec-8.c,\n\tgcc.target/powerpc/altivec-9.c,\n\tgcc.target/powerpc/altivec-consts.c,\n\tgcc.target/powerpc/altivec-pr22085.c,\n\tgcc.target/powerpc/altivec-splat.c,\n\tgcc.target/powerpc/altivec-types-1.c,\n\tgcc.target/powerpc/altivec-types-2.c,\n\tgcc.target/powerpc/altivec-types-3.c,\n\tgcc.target/powerpc/altivec-types-4.c,\n\tgcc.target/powerpc/altivec-varargs-1.c,\n\tgcc.target/powerpc/altivec-vec-merge.c,\n\tgcc.target/powerpc/ppc-vector-memcpy.c,\n\tgcc.target/powerpc/ppc-vector-memset.c,\n\tgcc.target/powerpc/ppc64-abi-2.c, gcc.target/powerpc/pr16155.c,\n\tgcc.target/powerpc/pr16286.c, gcc.target/powerpc/pr27158.c: Use\n\tthese effective targets.\n\t* gcc.dg/vmx/pr27006.c: Add missing close brace.\n\t* gcc.dg/20020103-1.c: XFAIL on powerpc*-*-*.\n\nFrom-SVN: r113709", "tree": {"sha": "2752049e5d1fe96b52f4992be5275c527582feb2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2752049e5d1fe96b52f4992be5275c527582feb2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "498f0cf38a3d4e7aad5754ba636a5e1e3a1bd5a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/498f0cf38a3d4e7aad5754ba636a5e1e3a1bd5a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/498f0cf38a3d4e7aad5754ba636a5e1e3a1bd5a5"}], "stats": {"total": 206, "additions": 147, "deletions": 59}, "files": [{"sha": "e118354f60ee40f125ef75ade2e9af27d0f50187", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,3 +1,47 @@\n+2006-05-11  Joseph S. Myers  <joseph@codesourcery.com>\n+\n+\t* lib/target-supports.exp (check_effective_target_powerpc_fprs,\n+\tcheck_effective_target_powerpc_altivec_ok): New.\n+\t* g++.dg/eh/simd-2.C, g++.dg/ext/altivec-1.C,\n+\tg++.dg/ext/altivec-10.C, g++.dg/ext/altivec-11.C,\n+\tg++.dg/ext/altivec-12.C, g++.dg/ext/altivec-13.C,\n+\tg++.dg/ext/altivec-2.C, g++.dg/ext/altivec-3.C,\n+\tg++.dg/ext/altivec-4.C, g++.dg/ext/altivec-5.C,\n+\tg++.dg/ext/altivec-6.C, g++.dg/ext/altivec-7.C,\n+\tg++.dg/ext/altivec-8.C, g++.dg/ext/altivec-9.C,\n+\tg++.dg/ext/altivec-types-1.C, g++.dg/ext/altivec-types-2.C,\n+\tg++.dg/ext/altivec-types-3.C, g++.dg/ext/altivec-types-4.C,\n+\tgcc.dg/dfp/altivec-types.c, gcc.dg/simd-3.c,\n+\tgcc.dg/vect/vect-82_64.c, gcc.dg/vect/vect-83_64.c,\n+\tgcc.dg/vmx/vmx.exp, gcc.target/powerpc/980827-1.c,\n+\tgcc.target/powerpc/altivec-1.c, gcc.target/powerpc/altivec-10.c,\n+\tgcc.target/powerpc/altivec-11.c, gcc.target/powerpc/altivec-12.c,\n+\tgcc.target/powerpc/altivec-13.c, gcc.target/powerpc/altivec-14.c,\n+\tgcc.target/powerpc/altivec-15.c, gcc.target/powerpc/altivec-16.c,\n+\tgcc.target/powerpc/altivec-17.c, gcc.target/powerpc/altivec-18.c,\n+\tgcc.target/powerpc/altivec-19.c, gcc.target/powerpc/altivec-2.c,\n+\tgcc.target/powerpc/altivec-21.c, gcc.target/powerpc/altivec-22.c,\n+\tgcc.target/powerpc/altivec-3.c, gcc.target/powerpc/altivec-4.c,\n+\tgcc.target/powerpc/altivec-5.c, gcc.target/powerpc/altivec-6.c,\n+\tgcc.target/powerpc/altivec-7.c, gcc.target/powerpc/altivec-8.c,\n+\tgcc.target/powerpc/altivec-9.c,\n+\tgcc.target/powerpc/altivec-consts.c,\n+\tgcc.target/powerpc/altivec-pr22085.c,\n+\tgcc.target/powerpc/altivec-splat.c,\n+\tgcc.target/powerpc/altivec-types-1.c,\n+\tgcc.target/powerpc/altivec-types-2.c,\n+\tgcc.target/powerpc/altivec-types-3.c,\n+\tgcc.target/powerpc/altivec-types-4.c,\n+\tgcc.target/powerpc/altivec-varargs-1.c,\n+\tgcc.target/powerpc/altivec-vec-merge.c,\n+\tgcc.target/powerpc/ppc-vector-memcpy.c,\n+\tgcc.target/powerpc/ppc-vector-memset.c,\n+\tgcc.target/powerpc/ppc64-abi-2.c, gcc.target/powerpc/pr16155.c,\n+\tgcc.target/powerpc/pr16286.c, gcc.target/powerpc/pr27158.c: Use\n+\tthese effective targets.\n+\t* gcc.dg/vmx/pr27006.c: Add missing close brace.\n+\t* gcc.dg/20020103-1.c: XFAIL on powerpc*-*-*.\n+\n 2006-05-11  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n \n \tPR middle-end/27384"}, {"sha": "a6f2a3fabc1ca702857d6a64a71e8d827bce8034", "filename": "gcc/testsuite/g++.dg/eh/simd-2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Fsimd-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Fsimd-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2Fsimd-2.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -2,7 +2,7 @@\n // Contributed by Aldy Hernandez (aldy@quesejoda.com).\n // { dg-options \"-O\" }\n // { dg-options \"-O -w\" { target { { i?86-*-* x86_64-*-* } && ilp32 } } }\n-// { dg-options \"-O -w -maltivec\" { target powerpc*-*-linux* } }\n+// { dg-options \"-O -w -maltivec\" { target { powerpc*-*-linux* && powerpc_altivec_ok } } }\n // { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } }\n // { dg-do run }\n "}, {"sha": "cd7c3aad2611d299bcfe8d19f01c656c4aff3459", "filename": "gcc/testsuite/g++.dg/ext/altivec-1.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-1.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n #include <altivec.h>"}, {"sha": "7f7d2b013deddf7b3d05e009cde6a03fa8fc6976", "filename": "gcc/testsuite/g++.dg/ext/altivec-10.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-10.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-10.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-10.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,7 +1,7 @@\n /* This is a compile-only test for interaction of \"-maltivec\" and \"-save-temps\".  */\n /* Author:  Ziemowit Laski  <zlaski@apple.com>.  */\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-save-temps -maltivec\" } */\n \n #include <altivec.h>"}, {"sha": "ff3016953d87f018a5f485b3f46fa85fdd79ce86", "filename": "gcc/testsuite/g++.dg/ext/altivec-11.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-11.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-11.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-11.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,6 +1,6 @@\n /* Test handling of literal constant for dss operation.  */\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n #include <altivec.h>"}, {"sha": "6f21da961b28bbaeb8354cbd1e0339a5510914fc", "filename": "gcc/testsuite/g++.dg/ext/altivec-12.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-12.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-12.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-12.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,6 +1,6 @@\n /* Test vec_dst* functions with float pointer as first argument.  */\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n #include <altivec.h>"}, {"sha": "abc05af62d5be2c3de41588d41b70098ec466b99", "filename": "gcc/testsuite/g++.dg/ext/altivec-13.C", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-13.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-13.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-13.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -3,9 +3,9 @@\n    AltiVec testsuite.  */\n \n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n-                                                                                \n+\n #include <altivec.h>\n \n extern vector unsigned char vuc;"}, {"sha": "6a404b266d8798c887659ca7f02e797d3f90a533", "filename": "gcc/testsuite/g++.dg/ext/altivec-2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-2.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -Wall\" } */\n \n /* This test checks if AltiVec builtins accept const-qualified"}, {"sha": "8ac401ce7cee898d286ec71b1a7b82f55f6db9ed", "filename": "gcc/testsuite/g++.dg/ext/altivec-3.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-3.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n /* Test for correct handling of AltiVec constants passed"}, {"sha": "86a2615dc498e782bffec137503909053f01ca1b", "filename": "gcc/testsuite/g++.dg/ext/altivec-4.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-4.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n /* PR c++/14425 */"}, {"sha": "04c26e80ff45587c8db0c6e1d1ed20275a179bc3", "filename": "gcc/testsuite/g++.dg/ext/altivec-5.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-5.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n /* PR c++/14426 */"}, {"sha": "63ae0b0b91baa3092dca401c3ea37336280ce3ee", "filename": "gcc/testsuite/g++.dg/ext/altivec-6.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-6.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-6.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-6.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,7 +1,7 @@\n /* Test for correct handling of literal arguments. */\n /* Author: Ziemowit Laski  <zlaski@apple.com>  */\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n #include <altivec.h>"}, {"sha": "7c458fb003f9d1f3544c245bb95283f8e064a4d8", "filename": "gcc/testsuite/g++.dg/ext/altivec-7.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-7.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-7.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-7.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,6 +1,6 @@\n /* Test for AltiVec type overloading and name mangling.  */\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n #include <altivec.h>"}, {"sha": "3c5a76e060e812ffb5b601b12cf259fdd48270e8", "filename": "gcc/testsuite/g++.dg/ext/altivec-8.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-8.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-8.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-8.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n /* Author: Ziemowit Laski  <zlaski@apple.com>  */\n "}, {"sha": "174ae63edcb7dbfc6644a7df82f823376d8bbba9", "filename": "gcc/testsuite/g++.dg/ext/altivec-9.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-9.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-9.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-9.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,6 +1,6 @@\n /* Test for AltiVec function vec_ld, passing a pointer to const vector */\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n #include <altivec.h>"}, {"sha": "9e9ca96e8c69f28bfe9ebc62128f5e502a6e1d21", "filename": "gcc/testsuite/g++.dg/ext/altivec-types-1.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-types-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-types-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-types-1.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do compile { target powerpc*-*-linux* } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n /* Valid AltiVec vector types should be accepted with no warnings.  */"}, {"sha": "f64c0c5aa2153ce71ebe738bf9d12cf871f21f59", "filename": "gcc/testsuite/g++.dg/ext/altivec-types-2.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-types-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-types-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-types-2.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile { target powerpc*-*-linux* } } */\n /* { dg-require-effective-target ilp32 } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n /* These should get warnings for 32-bit code.  */"}, {"sha": "2fe965986b3e7806460a873a8ac4042565638b98", "filename": "gcc/testsuite/g++.dg/ext/altivec-types-3.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-types-3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-types-3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-types-3.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do compile { target powerpc*-*-linux* } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-require-effective-target lp64 } */\n /* { dg-options \"-maltivec\" } */\n "}, {"sha": "212f67339390fec2f48df6175d86a6724e9b4515", "filename": "gcc/testsuite/g++.dg/ext/altivec-types-4.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-types-4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-types-4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-types-4.C?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile { target powerpc*-*-linux* } } */\n /* { dg-require-effective-target ilp32 } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -mno-warn-altivec-long\" } */\n \n /* These should not get warnings for 32-bit code when the warning is"}, {"sha": "776dd3d96d63e98b6e586d1d887c45128db331f4", "filename": "gcc/testsuite/gcc.dg/20020103-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.dg%2F20020103-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.dg%2F20020103-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20020103-1.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -2,7 +2,7 @@\n    spilled to the stack, or regenerated, but not dropped to memory.  */\n /* { dg-do compile { target { { i?86-*-* rs6000-*-* alpha*-*-* x86_64-*-* } || { powerpc*-*-* && ilp32 } } } } */\n /* { dg-options \"-O2 -fpic -fno-omit-frame-pointer -fno-asynchronous-unwind-tables\" } */\n-/* { dg-final { scan-assembler-not \"LC\\[0-9\\]\" } } */\n+/* { dg-final { scan-assembler-not \"LC\\[0-9\\]\" { xfail powerpc*-*-* } } } */\n \n /* Clobber all call-saved registers that can hold a pointer value.  */\n #if defined(__i386__)"}, {"sha": "e11ddc5e883acb4b43ecbbde1334c4f7abd0d523", "filename": "gcc/testsuite/gcc.dg/dfp/altivec-types.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.dg%2Fdfp%2Faltivec-types.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.dg%2Fdfp%2Faltivec-types.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdfp%2Faltivec-types.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-do compile { target { powerpc*-*-linux* } } } */\n+/* { dg-do compile { target { powerpc*-*-linux* && powerpc_altivec_ok } } } */\n /* { dg-options \"-maltivec\" } */\n \n /* GNU extension: PowerPC AltiVec Built-in Functions."}, {"sha": "790b1e51e6ea6f57eb51fc8805139419caf88bf2", "filename": "gcc/testsuite/gcc.dg/simd-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.dg%2Fsimd-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.dg%2Fsimd-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fsimd-3.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-maltivec\" { target powerpc*-*-* } } */\n+/* { dg-options \"-maltivec\" { target { powerpc*-*-* && powerpc_altivec_ok } } } */\n \n __attribute__ ((vector_size (2))) signed char v1, v2, v3;\n void"}, {"sha": "15921a4c9eba955adac6c34aa0aac62624a0cefd", "filename": "gcc/testsuite/gcc.dg/vect/vect-82_64.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-82_64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-82_64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-82_64.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n-/* { dg-do run { target { powerpc*-*-* && lp64 } } } */\n-/* { dg-do compile { target { powerpc*-*-* && ilp32 } } } */\n+/* { dg-do run { target { { powerpc*-*-* && lp64 } && powerpc_altivec_ok } } } */\n+/* { dg-do compile { target { { powerpc*-*-* && ilp32 } && powerpc_altivec_ok } } } */\n /* { dg-options \"-O2 -ftree-vectorize -mpowerpc64 -fdump-tree-vect-stats -maltivec\" } */\n \n #include <stdarg.h>"}, {"sha": "6cfebb2420f999b0fc302e8231ae17d16deea474", "filename": "gcc/testsuite/gcc.dg/vect/vect-83_64.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-83_64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-83_64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-83_64.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n-/* { dg-do run { target { powerpc*-*-* && lp64 } } } */\n-/* { dg-do compile { target { powerpc*-*-* && ilp32 } } } */\n+/* { dg-do run { target { { powerpc*-*-* && lp64 } && powerpc_altivec_ok } } } */\n+/* { dg-do compile { target { { powerpc*-*-* && ilp32 } && powerpc_altivec_ok } } } */\n /* { dg-options \"-O2 -ftree-vectorize -mpowerpc64 -fdump-tree-vect-stats -maltivec\" } */\n \n #include <stdarg.h>"}, {"sha": "a011cc1da210764c0e2d5e606bae811337d310a5", "filename": "gcc/testsuite/gcc.dg/vmx/pr27006.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.dg%2Fvmx%2Fpr27006.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.dg%2Fvmx%2Fpr27006.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvmx%2Fpr27006.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-do run */\n+/* { dg-do run } */\n /* { dg-options \"-maltivec\" } */\n \n extern void abort ();"}, {"sha": "2b2bec3e1361847ea98488a984be3793f2e14634", "filename": "gcc/testsuite/gcc.dg/vmx/vmx.exp", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.dg%2Fvmx%2Fvmx.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.dg%2Fvmx%2Fvmx.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvmx%2Fvmx.exp?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,4 +1,4 @@\n-#   Copyright (C) 2004 Free Software Foundation, Inc.\n+#   Copyright (C) 2004, 2006 Free Software Foundation, Inc.\n \n # This program is free software; you can redistribute it and/or modify\n # it under the terms of the GNU General Public License as published by\n@@ -19,11 +19,10 @@\n # Load support procs.\n load_lib gcc-dg.exp\n \n-# Skip these tests for non-PowerPC targets and for Aix, where AltiVec\n-# is not yet supported.  Also, skip these tests on the SPE because\n-# AltiVec and E500 opcodes conflict.\n-if {![istarget powerpc*-*-*] || [istarget powerpc*-*-aix*]\n-    || [istarget powerpc*-*eabispe*] } {\n+# Skip these tests for non-PowerPC targets and for targets where AltiVec\n+# is not supported.\n+if {![istarget powerpc*-*-*]\n+    || ![check_effective_target_powerpc_altivec_ok] } {\n     return\n }\n "}, {"sha": "c2c92337a8642b3242b1081503250ad7409ea92d", "filename": "gcc/testsuite/gcc.target/powerpc/980827-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2F980827-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2F980827-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2F980827-1.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-do run { target { *-*-linux* && ilp32 } } } */\n+/* { dg-do run { target { { *-*-linux* && ilp32 } && powerpc_fprs } } } */\n /* { dg-options -O2 } */\n \n extern void exit (int);"}, {"sha": "f235e7b57ac4d8ec100b45c59c8596c8926dfe46", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-1.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n /* Program to test PowerPC AltiVec instructions.  */"}, {"sha": "82b3f45a391ea71685e743aa23303aee58ed243a", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-10.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-10.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-ibm-aix*\" } { \"-maltivec\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -mabi=altivec -fno-inline\" } */\n \n #include <altivec.h>"}, {"sha": "648993ab86c446a1387d0a1954b0d280ee09ec54", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-11.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-11.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-11.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-11.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-O2 -maltivec -mabi=altivec\" } */\n /* { dg-final { scan-assembler-not \"lvx\" } } */\n #include <altivec.h>"}, {"sha": "296a3f7510a65f998727b9d47091cc293218be35", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-12.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-12.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-12.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-12.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n /* Program to test PowerPC AltiVec instructions.  */"}, {"sha": "22ff951b830260b8fc8cbf13a146ce5993748db2", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-13.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-13.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-13.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-13.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-ibm-aix*\" } { \"-maltivec\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n /* Author: Ziemowit Laski  <zlaski@apple.com>  */\n "}, {"sha": "4d3cf4f8cf974d9b85861961b626006335a54817", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-14.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-14.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-14.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-14.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target { powerpc*-*-* && ilp32 } } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n #include <altivec.h>"}, {"sha": "4e48cb7652f77f562c1b78ab2c62b3fb39cad45c", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-15.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-15.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-15.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-15.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-ibm-aix*\" } { \"-maltivec\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n #include <altivec.h>"}, {"sha": "7f7d2b013deddf7b3d05e009cde6a03fa8fc6976", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-16.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-16.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,7 +1,7 @@\n /* This is a compile-only test for interaction of \"-maltivec\" and \"-save-temps\".  */\n /* Author:  Ziemowit Laski  <zlaski@apple.com>.  */\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-ibm-aix*\" } { \"-maltivec\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-save-temps -maltivec\" } */\n \n #include <altivec.h>"}, {"sha": "8b1083268624ad4c537e829742c9a33392c7daa6", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-17.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-17.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-17.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-17.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -2,7 +2,7 @@\n    typedef name as a vector type specifier.  */\n \n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-ibm-aix*\" } { \"-maltivec\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -mabi=altivec\" } */\n \n typedef unsigned int ui;"}, {"sha": "5d9885820492abf48d0daa1026c49985775a0073", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-18.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-18.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-18.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-18.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-ibm-aix*\" } { \"-maltivec\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -mabi=altivec\" } */\n /* { dg-final { scan-assembler \"vcmpgtub\" { target *-*-linux* } } } */\n /* { dg-final { scan-assembler \"vcmpgtsb\" { target *-*-darwin* } } } */"}, {"sha": "80f305a54472bcd9ae3ff703e21a64318d7334f3", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-19.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-19.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-19.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-19.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n /* { dg-final { scan-assembler \"dst\" } } */\n "}, {"sha": "4f341dd4207996d92c552d507787e25bb4112cd8", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-2.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n /* Program to test the vector_size attribute.  This needs to run on a"}, {"sha": "906aa197abf71bd2aaa4158e4feb9c0d381de7a9", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-21.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-21.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-21.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-21.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n #include <altivec.h>"}, {"sha": "3c07309e43f6255428243fff953d7dedb6658275", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-22.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-22.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-22.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-22.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target { powerpc*-*-* && ilp32 } } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-O3 -maltivec\" } */\n /* { dg-final { scan-assembler-not \"mfcr\" } } */\n "}, {"sha": "17f62fd8f03a7a5a86789e253f732ac482dc94c8", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-3.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n #include \"altivec_check.h\""}, {"sha": "a5617e25b8a6734d0986936537ea8a6bf41732d9", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-4.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-ibm-aix*\" } { \"-maltivec\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -O0 -Wall\" } */\n \n #define vector __attribute__((vector_size(16)))"}, {"sha": "ae85cdbdc746b578cac91eea0515a2ad3690b5b7", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-5.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-5.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -O2\" } */\n \n #define vector __attribute__((vector_size(16)))"}, {"sha": "dc115f9422d5406b5a223af8e2c50cfbfb73b6f9", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-6.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-6.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-ibm-aix*\" } { \"-maltivec\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -O0 -Wall\" } */\n \n #include <altivec.h>"}, {"sha": "30a1ee5206214f63b5d1c64cf23f0985c0ea8132", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-7.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-7.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,7 +1,7 @@\n /* Origin: Aldy Hernandez  <aldyh@redhat.com>  */\n \n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-ibm-aix*\" } { \"-maltivec\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n #include <altivec.h>"}, {"sha": "6668cf2db80cb0207b485b03e4dc85c0654c9212", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-8.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -2,7 +2,7 @@\n /* Test rs6000_legitimate_address.  PRE_INC should be invalid.  */\n \n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-ibm-aix*\" } { \"-maltivec\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n #include <altivec.h>"}, {"sha": "b34dc1b51bee3f3cbe29e398896ebc788b804a2b", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-9.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-9.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-9.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-9.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -mabi=altivec -g\" } */\n \n /* PR9564 */"}, {"sha": "e06a5286b175b9ae8b2bfd29719faa60b8e689e9", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-consts.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-consts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-consts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-consts.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -mabi=altivec -O2\" } */\n \n /* Check that \"easy\" AltiVec constants are correctly synthesized.  */"}, {"sha": "a7b81bbad565ab5cdfc393bb24b4c7a19dd23eef", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-pr22085.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-pr22085.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-pr22085.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-pr22085.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -fpreprocessed\" } */\n \n /* Program to test AltiVec with -fpreprocessed.  */"}, {"sha": "91ab72d783db2116aca24560e4397add8bddca17", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-splat.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-splat.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-splat.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-splat.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -mabi=altivec -O2\" } */\n \n /* Testcase by Richard Guenther and Steven Bosscher."}, {"sha": "59e5520704a003aa59cb1ab2b2fb369b60f32935", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-types-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-types-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-types-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-types-1.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do compile { target powerpc*-*-linux* } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n /* Valid AltiVec vector types should be accepted with no warnings.  */"}, {"sha": "f64c0c5aa2153ce71ebe738bf9d12cf871f21f59", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-types-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-types-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-types-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-types-2.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile { target powerpc*-*-linux* } } */\n /* { dg-require-effective-target ilp32 } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n /* These should get warnings for 32-bit code.  */"}, {"sha": "38c4d6c164259d5d69ec2f0870cb732e9121d88b", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-types-3.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-types-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-types-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-types-3.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile { target powerpc*-*-linux* } } */\n /* { dg-require-effective-target lp64 } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n /* These should be rejected for 64-bit code.  */"}, {"sha": "212f67339390fec2f48df6175d86a6724e9b4515", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-types-4.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-types-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-types-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-types-4.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile { target powerpc*-*-linux* } } */\n /* { dg-require-effective-target ilp32 } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -mno-warn-altivec-long\" } */\n \n /* These should not get warnings for 32-bit code when the warning is"}, {"sha": "2aa54a912a583da5fb12cd14a06104df48f1bfd7", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-varargs-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-varargs-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-varargs-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-varargs-1.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -mabi=altivec -fno-inline\" } */\n \n #include <stdarg.h>"}, {"sha": "0e92a07bb57659a3b3bbb58977fb45ac61a926a1", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-vec-merge.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-vec-merge.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-vec-merge.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-vec-merge.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -O2\" } */\n \n #include <altivec.h>"}, {"sha": "a9a16ab2f5cd8320f61d57dc707fc62d4babc6c8", "filename": "gcc/testsuite/gcc.target/powerpc/ppc-vector-memcpy.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-vector-memcpy.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-vector-memcpy.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-vector-memcpy.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-O -maltivec\" } */\n /* { dg-final { scan-assembler \"lvx\" } } */\n "}, {"sha": "1a290719c321c0a2006e2bb47851d412b2f47de8", "filename": "gcc/testsuite/gcc.target/powerpc/ppc-vector-memset.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-vector-memset.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-vector-memset.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-vector-memset.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-O -maltivec\" } */\n /* { dg-final { scan-assembler \"stvx\" } } */\n "}, {"sha": "a9883d9e3355ddd57b219829e42ff9cf89e3098d", "filename": "gcc/testsuite/gcc.target/powerpc/ppc64-abi-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc64-abi-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc64-abi-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc64-abi-2.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-do run { target { powerpc*-*-linux* && lp64 } } } */\n+/* { dg-do run { target { { powerpc*-*-linux* && lp64 } && powerpc_altivec_ok } } } */\n /* { dg-options \"-O2 -fprofile -mprofile-kernel -maltivec -mabi=altivec\" } */\n #include <stdarg.h>\n #include <signal.h>"}, {"sha": "fffe957dcc4d1c39f75b82102809bc9a42e5ecd4", "filename": "gcc/testsuite/gcc.target/powerpc/pr16155.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr16155.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr16155.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr16155.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec -ansi\" } */\n \n /* PR 16155"}, {"sha": "790b6409fbcd23dbd6497144763ee9b859fc9501", "filename": "gcc/testsuite/gcc.target/powerpc/pr16286.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr16286.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr16286.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr16286.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-maltivec\" } */\n \n /* PR 16286"}, {"sha": "5476577a92416de74ad134af0ef82a208b3491c1", "filename": "gcc/testsuite/gcc.target/powerpc/pr27158.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr27158.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr27158.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr27158.c?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target powerpc*-*-* } } */\n-/* { dg-xfail-if \"\" { \"powerpc-*-eabispe*\" \"powerpc-ibm-aix*\" } { \"*\" } { \"\" } } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n /* { dg-options \"-O2 -maltivec\" } */\n #define REGLIST                                                              \\\n          \"77\",  \"78\",  \"79\",  \"80\",  \"81\",  \"82\",  \"83\",  \"84\",  \"85\",  \"86\",\\"}, {"sha": "471e096b777993e0c6018a3b435923a597ea737c", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dbf8c2405ea8618f493c0d5bb985f4c28d73570/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=1dbf8c2405ea8618f493c0d5bb985f4c28d73570", "patch": "@@ -1226,6 +1226,40 @@ proc check_effective_target_arm32 { } {\n     return $et_arm32_saved\n }\n \n+# Return 1 if this is a PowerPC target with floating-point registers.\n+\n+proc check_effective_target_powerpc_fprs { } {\n+    if { [istarget powerpc*-*-*]\n+\t || [istarget rs6000-*-*] } {\n+\treturn [check_no_compiler_messages powerpc_fprs object {\n+\t    #ifdef __NO_FPRS__\n+\t    #error no FPRs\n+\t    #else\n+\t    int dummy;\n+\t    #endif\n+\t}]\n+    } else {\n+\treturn 0\n+    }\n+}\n+\n+# Return 1 if this is a PowerPC target supporting -maltivec.\n+\n+proc check_effective_target_powerpc_altivec_ok { } {\n+    if { [istarget powerpc*-*-*]\n+\t || [istarget rs6000-*-*] } {\n+\t# AltiVec is not supported on Aix.\n+\tif { [istarget powerpc*-*-aix*] } {\n+\t    return 0\n+\t}\n+\treturn [check_no_compiler_messages powerpc_altivec_ok object {\n+\t    int dummy;\n+\t} \"-maltivec\"]\n+    } else {\n+\treturn 0\n+    }\n+}\n+\n # Return 1 if the target supports hardware vector shift operation.\n \n proc check_effective_target_vect_shift { } {"}]}