{"sha": "df231a09701a0d5fe12626582767ea62cd5dd926", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGYyMzFhMDk3MDFhMGQ1ZmUxMjYyNjU4Mjc2N2VhNjJjZDVkZDkyNg==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@cygnus.com", "date": "1999-10-05T19:41:35Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1999-10-05T19:41:35Z"}, "message": "Declare malloc, free, and atexit if inhibit_libc is defined.\n\nFrom-SVN: r29829", "tree": {"sha": "8c3146b3ed722f11de74d64b4a308f559054891e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8c3146b3ed722f11de74d64b4a308f559054891e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/df231a09701a0d5fe12626582767ea62cd5dd926", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df231a09701a0d5fe12626582767ea62cd5dd926", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df231a09701a0d5fe12626582767ea62cd5dd926", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df231a09701a0d5fe12626582767ea62cd5dd926/comments", "author": null, "committer": null, "parents": [{"sha": "dbf08f94a7e5f45d6fbfa1ba461fee95cd3b3b87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbf08f94a7e5f45d6fbfa1ba461fee95cd3b3b87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dbf08f94a7e5f45d6fbfa1ba461fee95cd3b3b87"}], "stats": {"total": 33, "additions": 31, "deletions": 2}, "files": [{"sha": "46dec8b7d6f05915d8f470799d805f4b626ed9b7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/df231a09701a0d5fe12626582767ea62cd5dd926/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/df231a09701a0d5fe12626582767ea62cd5dd926/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=df231a09701a0d5fe12626582767ea62cd5dd926", "patch": "@@ -1,3 +1,11 @@\n+Tue Oct  5 15:37:04 1999  Michael Meissner  <meissner@cygnus.com>\n+\n+\t* libgcc2.c (toplevel): If inhibit_libc is defined, declare\n+\tmalloc, free, and atexit.  Don't include stddef.h twice.\n+\n+\t* frame.c (toplevel): If inhibit_libc is defined, declare\n+\tmalloc and free.\n+\n Tue Oct  5 12:00:32 1999  Richard Henderson  <rth@cygnus.com>\n \n \t* flow.c (make_edge): Accept an optional 2D bitmap in which"}, {"sha": "d1539602206163fb0b11df390fee1b5258abad48", "filename": "gcc/frame.c", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/df231a09701a0d5fe12626582767ea62cd5dd926/gcc%2Fframe.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/df231a09701a0d5fe12626582767ea62cd5dd926/gcc%2Fframe.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fframe.c?ref=df231a09701a0d5fe12626582767ea62cd5dd926", "patch": "@@ -1,6 +1,6 @@\n /* Subroutines needed for unwinding stack frames for exception handling.  */\n /* Compile this one with gcc.  */\n-/* Copyright (C) 1997, 1998 Free Software Foundation, Inc.\n+/* Copyright (C) 1997, 1998, 1999 Free Software Foundation, Inc.\n    Contributed by Jason Merrill <jason@cygnus.com>.\n \n This file is part of GNU CC.\n@@ -41,6 +41,15 @@ Boston, MA 02111-1307, USA.  */\n /* fixproto guarantees these system headers exist. */\n #include <stdlib.h>\n #include <unistd.h>\n+\n+#else\n+#include <stddef.h>\n+#ifndef malloc\n+extern void *malloc (size_t);\n+#endif\n+#ifndef free\n+extern void free (void *);\n+#endif\n #endif\n \n #include \"defaults.h\""}, {"sha": "0cf8c5ce1aa605cf4496819b76fb8932dd8bca58", "filename": "gcc/libgcc2.c", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/df231a09701a0d5fe12626582767ea62cd5dd926/gcc%2Flibgcc2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/df231a09701a0d5fe12626582767ea62cd5dd926/gcc%2Flibgcc2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flibgcc2.c?ref=df231a09701a0d5fe12626582767ea62cd5dd926", "patch": "@@ -40,11 +40,23 @@ Boston, MA 02111-1307, USA.  */\n /* fixproto guarantees these system headers exist. */\n #include <stdlib.h>\n #include <unistd.h>\n+\n+#else\n+#include <stddef.h>\n+#ifndef malloc\n+extern void *malloc (size_t);\n+#endif\n+#ifndef free\n+extern void free (void *);\n+#endif\n+#ifndef atexit\n+extern int atexit(void (*)(void));\n+#endif\n #endif\n \n #include \"machmode.h\"\n #include \"defaults.h\" \n-#ifndef L_trampoline\n+#if !defined(L_trampoline) && !defined(inhibit_libc)\n #include <stddef.h>\n #endif\n "}]}