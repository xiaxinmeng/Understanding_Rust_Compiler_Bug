{"sha": "aad626f71c5a3a3eac7e2946fa1e89655c271bbb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWFkNjI2ZjcxYzVhM2EzZWFjN2UyOTQ2ZmExZTg5NjU1YzI3MWJiYg==", "commit": {"author": {"name": "Kriang Lerdsuwanakij", "email": "lerdsuwa@users.sourceforge.net", "date": "2003-11-05T14:37:57Z"}, "committer": {"name": "Kriang Lerdsuwanakij", "email": "lerdsuwa@gcc.gnu.org", "date": "2003-11-05T14:37:57Z"}, "message": "re PR c++/11616 (Error message \"instantiated from here\" gives wrong location)\n\n\tPR c++/11616\n\t* pt.c (instantiate_pending_templates): Save and restore\n\tinput_location.\n\n\t* g++.dg/template/instantiate5.C: New test.\n\nFrom-SVN: r73269", "tree": {"sha": "c906160dc60d35db419bbaeb00ce3395ccf46717", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c906160dc60d35db419bbaeb00ce3395ccf46717"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aad626f71c5a3a3eac7e2946fa1e89655c271bbb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aad626f71c5a3a3eac7e2946fa1e89655c271bbb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aad626f71c5a3a3eac7e2946fa1e89655c271bbb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aad626f71c5a3a3eac7e2946fa1e89655c271bbb/comments", "author": null, "committer": null, "parents": [{"sha": "437a91e66436c2093bcf0f816eff9ea23ab09cf4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/437a91e66436c2093bcf0f816eff9ea23ab09cf4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/437a91e66436c2093bcf0f816eff9ea23ab09cf4"}], "stats": {"total": 37, "additions": 37, "deletions": 0}, "files": [{"sha": "a9656c15d5390f919f438116ce4609e04e3f8e43", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aad626f71c5a3a3eac7e2946fa1e89655c271bbb/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aad626f71c5a3a3eac7e2946fa1e89655c271bbb/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=aad626f71c5a3a3eac7e2946fa1e89655c271bbb", "patch": "@@ -1,3 +1,9 @@\n+2003-11-05  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n+\n+\tPR c++/11616\n+\t* pt.c (instantiate_pending_templates): Save and restore\n+\tinput_location.\n+\n 2003-11-05  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n \n \tPR c++/2019"}, {"sha": "e464af3d502d2a9fa7d7762690e594256f4dd857", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aad626f71c5a3a3eac7e2946fa1e89655c271bbb/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aad626f71c5a3a3eac7e2946fa1e89655c271bbb/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=aad626f71c5a3a3eac7e2946fa1e89655c271bbb", "patch": "@@ -11037,6 +11037,7 @@ instantiate_pending_templates (void)\n   tree last = NULL_TREE;\n   int instantiated_something = 0;\n   int reconsider;\n+  location_t saved_loc = input_location;\n   \n   do \n     {\n@@ -11111,6 +11112,7 @@ instantiate_pending_templates (void)\n     } \n   while (reconsider);\n \n+  input_location = saved_loc;\n   return instantiated_something;\n }\n "}, {"sha": "bbff7c52667a7c97194ec1da6dab8ee8408c57d5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aad626f71c5a3a3eac7e2946fa1e89655c271bbb/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aad626f71c5a3a3eac7e2946fa1e89655c271bbb/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=aad626f71c5a3a3eac7e2946fa1e89655c271bbb", "patch": "@@ -1,3 +1,8 @@\n+2003-11-05  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n+\n+\tPR c++/11616\n+\t* g++.dg/template/instantiate5.C: New test.\n+\n 2003-11-03  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n \n \tPR c++/12726"}, {"sha": "8d07635629490c9fecd1adf1432a980571f45640", "filename": "gcc/testsuite/g++.dg/template/instantiate5.C", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aad626f71c5a3a3eac7e2946fa1e89655c271bbb/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Finstantiate5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aad626f71c5a3a3eac7e2946fa1e89655c271bbb/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Finstantiate5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Finstantiate5.C?ref=aad626f71c5a3a3eac7e2946fa1e89655c271bbb", "patch": "@@ -0,0 +1,24 @@\n+// { dg-do compile }\n+\n+// Origin: Volker Reichelt <reichelt@gcc.gnu.org>\n+\n+// PR c++/11616: Incorrect line number in diagnostics\n+\n+template <int> struct A\n+{\n+  static const int i=0;\n+};\n+\n+int baz() { return A<0>::i; }\n+\n+struct B\n+{\n+  static void foo (int);\t// { dg-error \"candidates\" }\n+};\n+\n+template <typename T> struct C\n+{\n+  virtual void bar() const { T::foo(); } // { dg-error \"no matching function\" }\n+};\n+\n+C<B> c;\t\t\t\t// { dg-error \"instantiated\" }"}]}