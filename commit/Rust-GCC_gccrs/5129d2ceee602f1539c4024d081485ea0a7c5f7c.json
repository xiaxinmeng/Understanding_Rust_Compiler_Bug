{"sha": "5129d2ceee602f1539c4024d081485ea0a7c5f7c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTEyOWQyY2VlZTYwMmYxNTM5YzQwMjRkMDgxNDg1ZWEwYTdjNWY3Yw==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@cygnus.co.uk", "date": "2000-10-24T20:06:13Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "2000-10-24T20:06:13Z"}, "message": "expr.c (do_store_flag): Don't crash if either side of a comparison is error_mark_node.\n\n2000-10-24  Andrew Haley  <aph@cygnus.co.uk>\n\n        * expr.c (do_store_flag): Don't crash if either side of a\n        comparison is error_mark_node.\n\nFrom-SVN: r37036", "tree": {"sha": "8e7b457d212bf02a23d637d3f5aff2c2177fb332", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8e7b457d212bf02a23d637d3f5aff2c2177fb332"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5129d2ceee602f1539c4024d081485ea0a7c5f7c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5129d2ceee602f1539c4024d081485ea0a7c5f7c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5129d2ceee602f1539c4024d081485ea0a7c5f7c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5129d2ceee602f1539c4024d081485ea0a7c5f7c/comments", "author": null, "committer": null, "parents": [{"sha": "dcc41852e10b89db9b47fdf02caf79b8ddb3b0bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dcc41852e10b89db9b47fdf02caf79b8ddb3b0bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dcc41852e10b89db9b47fdf02caf79b8ddb3b0bd"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "729e8899f0f9effef0603af78c1c8355b85ccca5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5129d2ceee602f1539c4024d081485ea0a7c5f7c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5129d2ceee602f1539c4024d081485ea0a7c5f7c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5129d2ceee602f1539c4024d081485ea0a7c5f7c", "patch": "@@ -1,3 +1,8 @@\n+2000-10-24  Andrew Haley  <aph@cygnus.co.uk>\n+\n+\t* expr.c (do_store_flag): Don't crash if either side of a\n+\tcomparison is error_mark_node.\n+\n 2000-10-24  Jakub Jelinek  <jakub@redhat.com>\n \n \t* sibcall.c (purge_mem_unchanging_flag): New function."}, {"sha": "06aebb6ee8c66bb3a1c4bc770a165027de81affb", "filename": "gcc/expr.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5129d2ceee602f1539c4024d081485ea0a7c5f7c/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5129d2ceee602f1539c4024d081485ea0a7c5f7c/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=5129d2ceee602f1539c4024d081485ea0a7c5f7c", "patch": "@@ -10133,6 +10133,11 @@ do_store_flag (exp, target, mode, only_cheap)\n \n   arg0 = TREE_OPERAND (exp, 0);\n   arg1 = TREE_OPERAND (exp, 1);\n+\n+  /* Don't crash if the comparison was erroneous.  */\n+  if (arg0 == error_mark_node || arg1 == error_mark_node)\n+    return const0_rtx;\n+\n   type = TREE_TYPE (arg0);\n   operand_mode = TYPE_MODE (type);\n   unsignedp = TREE_UNSIGNED (type);"}]}