{"sha": "56d3558517e7d7b75ff6704913f563a11eb13118", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTZkMzU1ODUxN2U3ZDdiNzVmZjY3MDQ5MTNmNTYzYTExZWIxMzExOA==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2017-05-05T21:01:05Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2017-05-05T21:01:05Z"}, "message": "Eliminate report_diagnostic macro\n\nThis patch eliminates the report_diagnostic macro, manually\nexpanding it in all sites in the code.\n\nNo functional change intended.\n\ngcc/c-family/ChangeLog:\n\t* c-common.c (c_cpp_error): Replace report_diagnostic\n\twith diagnostic_report_diagnostic.\n\ngcc/c/ChangeLog:\n\t* c-decl.c (warn_defaults_to): Replace report_diagnostic\n\twith diagnostic_report_diagnostic.\n\t* c-errors.c (pedwarn_c99): Likewise.\n\t(pedwarn_c90): Likewise.\n\ngcc/cp/ChangeLog:\n\t* error.c (pedwarn_cxx98): Replace report_diagnostic\n\twith diagnostic_report_diagnostic.\n\ngcc/ChangeLog:\n\t* diagnostic.c (diagnostic_impl): Replace report_diagnostic\n\twith diagnostic_report_diagnostic.\n\t(diagnostic_n_impl_richloc): Likewise.\n\t* diagnostic.h (report_diagnostic): Delete macro.\n\t* rtl-error.c (diagnostic_for_asm): Replace report_diagnostic\n\twith diagnostic_report_diagnostic.\n\t* substring-locations.c (format_warning_va): Likewise.\n\ngcc/fortran/ChangeLog:\n\t* cpp.c (cb_cpp_error): Replace report_diagnostic\n\twith diagnostic_report_diagnostic.\n\t* error.c (gfc_warning): Likewise.\n\t(gfc_warning_now_at): Likewise.\n\t(gfc_warning_now): Likewise.\n\t(gfc_warning_internal): Likewise.\n\t(gfc_error_now): Likewise.\n\t(gfc_fatal_error): Likewise.\n\t(gfc_error_opt): Likewise.\n\t(gfc_internal_error): Likewise.\n\nFrom-SVN: r247663", "tree": {"sha": "c9613ec3bbd5d40d228e3d7c8a7edc4cda958a68", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c9613ec3bbd5d40d228e3d7c8a7edc4cda958a68"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/56d3558517e7d7b75ff6704913f563a11eb13118", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56d3558517e7d7b75ff6704913f563a11eb13118", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56d3558517e7d7b75ff6704913f563a11eb13118", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56d3558517e7d7b75ff6704913f563a11eb13118/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "80ceac09a50d0d730cd729d735a49cd689ef2f65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80ceac09a50d0d730cd729d735a49cd689ef2f65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80ceac09a50d0d730cd729d735a49cd689ef2f65"}], "stats": {"total": 84, "additions": 61, "deletions": 23}, "files": [{"sha": "72c8c9e707f23463f3045a5c966992b4fa34e26f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -1,3 +1,13 @@\n+2017-05-05  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* diagnostic.c (diagnostic_impl): Replace report_diagnostic\n+\twith diagnostic_report_diagnostic.\n+\t(diagnostic_n_impl_richloc): Likewise.\n+\t* diagnostic.h (report_diagnostic): Delete macro.\n+\t* rtl-error.c (diagnostic_for_asm): Replace report_diagnostic\n+\twith diagnostic_report_diagnostic.\n+\t* substring-locations.c (format_warning_va): Likewise.\n+\n 2017-05-05  David Malcolm  <dmalcolm@redhat.com>\n \n \t* diagnostic.c (diagnostic_report_diagnostic): Eliminate"}, {"sha": "a1bb25c7aa0dab99f545519cef48980fe546f33d", "filename": "gcc/c-family/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fc-family%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fc-family%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2FChangeLog?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -1,3 +1,8 @@\n+2017-05-05  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* c-common.c (c_cpp_error): Replace report_diagnostic\n+\twith diagnostic_report_diagnostic.\n+\n 2017-05-04  Martin Sebor  <msebor@redhat.com>\n \n \tPR translation/80280"}, {"sha": "f46b2547644fadef437874c8dbf06806a46014e8", "filename": "gcc/c-family/c-common.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fc-family%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fc-family%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc-common.c?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -6109,7 +6109,7 @@ c_cpp_error (cpp_reader *pfile ATTRIBUTE_UNUSED, int level, int reason,\n \t\t\t\t  richloc, dlevel);\n   diagnostic_override_option_index (&diagnostic,\n                                     c_option_controlling_cpp_error (reason));\n-  ret = report_diagnostic (&diagnostic);\n+  ret = diagnostic_report_diagnostic (global_dc, &diagnostic);\n   if (level == CPP_DL_WARNING_SYSHDR)\n     global_dc->dc_warn_system_headers = save_warn_system_headers;\n   return ret;"}, {"sha": "45f375fdfa5c93d9b9ff24deb0eb6fba790757fa", "filename": "gcc/c/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2FChangeLog?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -1,3 +1,10 @@\n+2017-05-05  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* c-decl.c (warn_defaults_to): Replace report_diagnostic\n+\twith diagnostic_report_diagnostic.\n+\t* c-errors.c (pedwarn_c99): Likewise.\n+\t(pedwarn_c90): Likewise.\n+\n 2017-05-01  Xi Ruoyao  <ryxi@stu.xidian.edu.cn>\n \n         PR c++/80038"}, {"sha": "b779d37aaaed7fc369632a7c11a599997a2b11af", "filename": "gcc/c/c-decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2Fc-decl.c?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -5486,7 +5486,7 @@ warn_defaults_to (location_t location, int opt, const char *gmsgid, ...)\n   diagnostic_set_info (&diagnostic, gmsgid, &ap, &richloc,\n                        flag_isoc99 ? DK_PEDWARN : DK_WARNING);\n   diagnostic.option_index = opt;\n-  report_diagnostic (&diagnostic);\n+  diagnostic_report_diagnostic (global_dc, &diagnostic);\n   va_end (ap);\n }\n "}, {"sha": "aa9ce4205dd2c3a644cda39a52eb507ff2f8c728", "filename": "gcc/c/c-errors.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fc%2Fc-errors.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fc%2Fc-errors.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2Fc-errors.c?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -48,7 +48,7 @@ pedwarn_c99 (location_t location, int opt, const char *gmsgid, ...)\n \t\t\t   (pedantic && !flag_isoc11)\n \t\t\t   ? DK_PEDWARN : DK_WARNING);\n       diagnostic.option_index = OPT_Wc99_c11_compat;\n-      warned = report_diagnostic (&diagnostic);\n+      warned = diagnostic_report_diagnostic (global_dc, &diagnostic);\n     }\n   /* -Wno-c99-c11-compat suppresses even the pedwarns.  */\n   else if (warn_c99_c11_compat == 0)\n@@ -58,7 +58,7 @@ pedwarn_c99 (location_t location, int opt, const char *gmsgid, ...)\n     {\n       diagnostic_set_info (&diagnostic, gmsgid, &ap, &richloc, DK_PEDWARN);\n       diagnostic.option_index = opt;\n-      warned = report_diagnostic (&diagnostic);\n+      warned = diagnostic_report_diagnostic (global_dc, &diagnostic);\n     }\n   va_end (ap);\n   return warned;\n@@ -92,7 +92,7 @@ pedwarn_c90 (location_t location, int opt, const char *gmsgid, ...)\n \t\t\t       (pedantic && !flag_isoc99)\n \t\t\t       ? DK_PEDWARN : DK_WARNING);\n \t  diagnostic.option_index = opt;\n-\t  report_diagnostic (&diagnostic);\n+\t  diagnostic_report_diagnostic (global_dc, &diagnostic);\n \t  warned = true;\n \t  goto out;\n \t}\n@@ -105,7 +105,7 @@ pedwarn_c90 (location_t location, int opt, const char *gmsgid, ...)\n \t\t\t   (pedantic && !flag_isoc99)\n \t\t\t   ? DK_PEDWARN : DK_WARNING);\n       diagnostic.option_index = OPT_Wc90_c99_compat;\n-      report_diagnostic (&diagnostic);\n+      diagnostic_report_diagnostic (global_dc, &diagnostic);\n     }\n   /* -Wno-c90-c99-compat suppresses the pedwarns.  */\n   else if (warn_c90_c99_compat == 0)\n@@ -115,7 +115,7 @@ pedwarn_c90 (location_t location, int opt, const char *gmsgid, ...)\n     {\n       diagnostic_set_info (&diagnostic, gmsgid, &ap, &richloc, DK_PEDWARN);\n       diagnostic.option_index = opt;\n-      report_diagnostic (&diagnostic);\n+      diagnostic_report_diagnostic (global_dc, &diagnostic);\n       warned = true;\n     }\n out:"}, {"sha": "8389282d7860388f4b6e3d0f67486693407b327a", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -1,3 +1,8 @@\n+2017-05-05  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* error.c (pedwarn_cxx98): Replace report_diagnostic\n+\twith diagnostic_report_diagnostic.\n+\n 2017-05-05  Nathan Sidwell  <nathan@acm.org>\n \n \t* cp-tree.h (IDENTIFIER_GLOBAL_VALUE): Use get_namespace_value."}, {"sha": "0912d2d66b94e756a6723cf4f2ac363b897b633b", "filename": "gcc/cp/error.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fcp%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fcp%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ferror.c?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -3755,7 +3755,7 @@ pedwarn_cxx98 (location_t location, int opt, const char *gmsgid, ...)\n   diagnostic_set_info (&diagnostic, gmsgid, &ap, &richloc,\n \t\t       (cxx_dialect == cxx98) ? DK_PEDWARN : DK_WARNING);\n   diagnostic.option_index = opt;\n-  ret = report_diagnostic (&diagnostic);\n+  ret = diagnostic_report_diagnostic (global_dc, &diagnostic);\n   va_end (ap);\n   return ret;\n }"}, {"sha": "815bdb01169b8413e69f4fbb351c6054cb7d7a66", "filename": "gcc/diagnostic.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fdiagnostic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fdiagnostic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdiagnostic.c?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -1076,7 +1076,7 @@ diagnostic_impl (rich_location *richloc, int opt,\n       if (kind == DK_WARNING || kind == DK_PEDWARN)\n \tdiagnostic.option_index = opt;\n     }\n-  return report_diagnostic (&diagnostic);\n+  return diagnostic_report_diagnostic (global_dc, &diagnostic);\n }\n \n /* Same as diagonostic_n_impl taking rich_location instead of location_t.  */\n@@ -1092,7 +1092,7 @@ diagnostic_n_impl_richloc (rich_location *richloc, int opt, int n,\n                                   ap, richloc, kind);\n   if (kind == DK_WARNING)\n     diagnostic.option_index = opt;\n-  return report_diagnostic (&diagnostic);\n+  return diagnostic_report_diagnostic (global_dc, &diagnostic);\n } \n \n /* Implement inform_n, warning_n, and error_n, as documented and"}, {"sha": "846a158eeb5c7d0059566ce918bf2c36b903a185", "filename": "gcc/diagnostic.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fdiagnostic.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fdiagnostic.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdiagnostic.h?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -278,8 +278,6 @@ extern diagnostic_context *global_dc;\n   (!(DC)->dc_inhibit_warnings\t\t\t\t\t\t\\\n    && !(in_system_header_at (LOC) && !(DC)->dc_warn_system_headers))\n \n-#define report_diagnostic(D) diagnostic_report_diagnostic (global_dc, D)\n-\n /* Override the option index to be used for reporting a\n    diagnostic.  */\n #define diagnostic_override_option_index(DI, OPTIDX) \\"}, {"sha": "27fcf6efec529c53a9de0aa3e3fb394ce39c054d", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -1,3 +1,16 @@\n+2017-05-05  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* cpp.c (cb_cpp_error): Replace report_diagnostic\n+\twith diagnostic_report_diagnostic.\n+\t* error.c (gfc_warning): Likewise.\n+\t(gfc_warning_now_at): Likewise.\n+\t(gfc_warning_now): Likewise.\n+\t(gfc_warning_internal): Likewise.\n+\t(gfc_error_now): Likewise.\n+\t(gfc_fatal_error): Likewise.\n+\t(gfc_error_opt): Likewise.\n+\t(gfc_internal_error): Likewise.\n+\n 2017-05-01  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/37131"}, {"sha": "4d1b56a00450d576370246242173e0feea38774a", "filename": "gcc/fortran/cpp.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Ffortran%2Fcpp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Ffortran%2Fcpp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fcpp.c?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -1062,7 +1062,7 @@ cb_cpp_error (cpp_reader *pfile ATTRIBUTE_UNUSED, int level, int reason,\n \t\t\t\t  richloc, dlevel);\n   if (reason == CPP_W_WARNING_DIRECTIVE)\n     diagnostic_override_option_index (&diagnostic, OPT_Wcpp);\n-  ret = report_diagnostic (&diagnostic);\n+  ret = diagnostic_report_diagnostic (global_dc, &diagnostic);\n   if (level == CPP_DL_WARNING_SYSHDR)\n     global_dc->dc_warn_system_headers = save_warn_system_headers;\n   return ret;"}, {"sha": "eeb7a785c3d51aa332c3b421efafce662d471f04", "filename": "gcc/fortran/error.c", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Ffortran%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Ffortran%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ferror.c?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -789,7 +789,7 @@ gfc_warning (int opt, const char *gmsgid, va_list ap)\n   diagnostic_set_info (&diagnostic, gmsgid, &argp, &rich_loc,\n \t\t       DK_WARNING);\n   diagnostic.option_index = opt;\n-  bool ret = report_diagnostic (&diagnostic);\n+  bool ret = diagnostic_report_diagnostic (global_dc, &diagnostic);\n \n   if (buffered_p)\n     {\n@@ -1138,7 +1138,7 @@ gfc_warning_now_at (location_t loc, int opt, const char *gmsgid, ...)\n   va_start (argp, gmsgid);\n   diagnostic_set_info (&diagnostic, gmsgid, &argp, &rich_loc, DK_WARNING);\n   diagnostic.option_index = opt;\n-  ret = report_diagnostic (&diagnostic);\n+  ret = diagnostic_report_diagnostic (global_dc, &diagnostic);\n   va_end (argp);\n   return ret;\n }\n@@ -1157,7 +1157,7 @@ gfc_warning_now (int opt, const char *gmsgid, ...)\n   diagnostic_set_info (&diagnostic, gmsgid, &argp, &rich_loc,\n \t\t       DK_WARNING);\n   diagnostic.option_index = opt;\n-  ret = report_diagnostic (&diagnostic);\n+  ret = diagnostic_report_diagnostic (global_dc, &diagnostic);\n   va_end (argp);\n   return ret;\n }\n@@ -1176,7 +1176,7 @@ gfc_warning_internal (int opt, const char *gmsgid, ...)\n   diagnostic_set_info (&diagnostic, gmsgid, &argp, &rich_loc,\n \t\t       DK_WARNING);\n   diagnostic.option_index = opt;\n-  ret = report_diagnostic (&diagnostic);\n+  ret = diagnostic_report_diagnostic (global_dc, &diagnostic);\n   va_end (argp);\n   return ret;\n }\n@@ -1194,7 +1194,7 @@ gfc_error_now (const char *gmsgid, ...)\n \n   va_start (argp, gmsgid);\n   diagnostic_set_info (&diagnostic, gmsgid, &argp, &rich_loc, DK_ERROR);\n-  report_diagnostic (&diagnostic);\n+  diagnostic_report_diagnostic (global_dc, &diagnostic);\n   va_end (argp);\n }\n \n@@ -1210,7 +1210,7 @@ gfc_fatal_error (const char *gmsgid, ...)\n \n   va_start (argp, gmsgid);\n   diagnostic_set_info (&diagnostic, gmsgid, &argp, &rich_loc, DK_FATAL);\n-  report_diagnostic (&diagnostic);\n+  diagnostic_report_diagnostic (global_dc, &diagnostic);\n   va_end (argp);\n \n   gcc_unreachable ();\n@@ -1295,7 +1295,7 @@ gfc_error_opt (int opt, const char *gmsgid, va_list ap)\n     }\n \n   diagnostic_set_info (&diagnostic, gmsgid, &argp, &richloc, DK_ERROR);\n-  report_diagnostic (&diagnostic);\n+  diagnostic_report_diagnostic (global_dc, &diagnostic);\n \n   if (buffered_p)\n     {\n@@ -1345,7 +1345,7 @@ gfc_internal_error (const char *gmsgid, ...)\n \n   va_start (argp, gmsgid);\n   diagnostic_set_info (&diagnostic, gmsgid, &argp, &rich_loc, DK_ICE);\n-  report_diagnostic (&diagnostic);\n+  diagnostic_report_diagnostic (global_dc, &diagnostic);\n   va_end (argp);\n \n   gcc_unreachable ();"}, {"sha": "e04bd7eea4ed3456da6cee3f0d8998e57ed467ab", "filename": "gcc/rtl-error.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Frtl-error.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Frtl-error.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl-error.c?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -71,7 +71,7 @@ diagnostic_for_asm (const rtx_insn *insn, const char *msg, va_list *args_ptr,\n \n   diagnostic_set_info (&diagnostic, msg, args_ptr,\n \t\t       &richloc, kind);\n-  report_diagnostic (&diagnostic);\n+  diagnostic_report_diagnostic (global_dc, &diagnostic);\n }\n \n void"}, {"sha": "433023d9845295189d2a78ef2dfe5ea588ca58f0", "filename": "gcc/substring-locations.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fsubstring-locations.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d3558517e7d7b75ff6704913f563a11eb13118/gcc%2Fsubstring-locations.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsubstring-locations.c?ref=56d3558517e7d7b75ff6704913f563a11eb13118", "patch": "@@ -150,7 +150,7 @@ format_warning_va (const substring_loc &fmt_loc,\n   diagnostic_info diagnostic;\n   diagnostic_set_info (&diagnostic, gmsgid, ap, &richloc, DK_WARNING);\n   diagnostic.option_index = opt;\n-  bool warned = report_diagnostic (&diagnostic);\n+  bool warned = diagnostic_report_diagnostic (global_dc, &diagnostic);\n \n   if (!err && fmt_substring_loc && !substring_within_range)\n     /* Case 2.  */"}]}