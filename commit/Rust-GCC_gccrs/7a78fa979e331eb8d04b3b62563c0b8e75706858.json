{"sha": "7a78fa979e331eb8d04b3b62563c0b8e75706858", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2E3OGZhOTc5ZTMzMWViOGQwNGIzYjYyNTYzYzBiOGU3NTcwNjg1OA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-06-17T15:35:09Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-06-17T15:35:09Z"}, "message": "[multiple changes]\n\n2010-06-17  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_util.adb: Minor reformatting\n\n2010-06-17  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem.adb (Do_Withed_Unit): if the unit in the with_clause is a generic\n\tinstance, the clause now denotes the instance body. Traverse the\n\tcorresponding spec because there may be no other dependence that will\n\tforce the traversal of its own context.\n\nFrom-SVN: r160925", "tree": {"sha": "c78041626c1087112e467642413d00cfeb0fe710", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c78041626c1087112e467642413d00cfeb0fe710"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a78fa979e331eb8d04b3b62563c0b8e75706858", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a78fa979e331eb8d04b3b62563c0b8e75706858", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a78fa979e331eb8d04b3b62563c0b8e75706858", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a78fa979e331eb8d04b3b62563c0b8e75706858/comments", "author": null, "committer": null, "parents": [{"sha": "305379908d3e3d0e17703c8fbce977c92fbc390d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/305379908d3e3d0e17703c8fbce977c92fbc390d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/305379908d3e3d0e17703c8fbce977c92fbc390d"}], "stats": {"total": 27, "additions": 25, "deletions": 2}, "files": [{"sha": "105462062100368d45c6b34de44b0416abe45ef1", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a78fa979e331eb8d04b3b62563c0b8e75706858/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a78fa979e331eb8d04b3b62563c0b8e75706858/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=7a78fa979e331eb8d04b3b62563c0b8e75706858", "patch": "@@ -1,3 +1,14 @@\n+2010-06-17  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_util.adb: Minor reformatting\n+\n+2010-06-17  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem.adb (Do_Withed_Unit): if the unit in the with_clause is a generic\n+\tinstance, the clause now denotes the instance body. Traverse the\n+\tcorresponding spec because there may be no other dependence that will\n+\tforce the traversal of its own context.\n+\n 2010-06-17  Ed Schonberg  <schonberg@adacore.com>\n \n \t* sem_ch10.adb (Is_Ancestor_Unit): Subsidiary to"}, {"sha": "1eeffcccff5114058342705d018053e5d225337d", "filename": "gcc/ada/sem.adb", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a78fa979e331eb8d04b3b62563c0b8e75706858/gcc%2Fada%2Fsem.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a78fa979e331eb8d04b3b62563c0b8e75706858/gcc%2Fada%2Fsem.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem.adb?ref=7a78fa979e331eb8d04b3b62563c0b8e75706858", "patch": "@@ -1701,6 +1701,18 @@ package body Sem is\n       procedure Do_Withed_Unit (Withed_Unit : Node_Id) is\n       begin\n          Do_Unit_And_Dependents (Withed_Unit, Unit (Withed_Unit));\n+\n+         --  If the unit in the with_clause is a generic instance, the clause\n+         --  now denotes the instance body. Traverse the corresponding spec\n+         --  because there may be no other dependence that will force the\n+         --  traversal of its own context.\n+\n+         if Nkind (Unit (Withed_Unit)) = N_Package_Body\n+           and then Is_Generic_Instance\n+             (Defining_Entity (Unit (Library_Unit (Withed_Unit))))\n+         then\n+            Do_Withed_Unit (Library_Unit (Withed_Unit));\n+         end if;\n       end Do_Withed_Unit;\n \n       ----------------------------"}, {"sha": "29ddee983a13c7fb7441acf812e092b2ab750e86", "filename": "gcc/ada/sem_util.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a78fa979e331eb8d04b3b62563c0b8e75706858/gcc%2Fada%2Fsem_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a78fa979e331eb8d04b3b62563c0b8e75706858/gcc%2Fada%2Fsem_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_util.adb?ref=7a78fa979e331eb8d04b3b62563c0b8e75706858", "patch": "@@ -1699,8 +1699,8 @@ package body Sem_Util is\n \n             Next_Entity (Id);\n \n-            --  For a type declared in System, some of its operations\n-            --  may appear in  the target-specific extension to System.\n+            --  For a type declared in System, some of its operations may\n+            --  appear in the target-specific extension to System.\n \n             if No (Id)\n               and then Chars (B_Scope) = Name_System"}]}