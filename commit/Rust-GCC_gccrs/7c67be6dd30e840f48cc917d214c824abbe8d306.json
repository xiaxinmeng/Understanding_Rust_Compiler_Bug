{"sha": "7c67be6dd30e840f48cc917d214c824abbe8d306", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2M2N2JlNmRkMzBlODQwZjQ4Y2M5MTdkMjE0YzgyNGFiYmU4ZDMwNg==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2017-02-05T18:13:22Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2017-02-05T18:13:22Z"}, "message": "tree-eh.c (lower_resx): Sanitize profile.\n\n\t* tree-eh.c (lower_resx): Sanitize profile.\n\t(cleanup_empty_eh_move_lp): Likewise.\n\nFrom-SVN: r245197", "tree": {"sha": "d262795bc543001a21313bdc29f3f75fa5124a8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d262795bc543001a21313bdc29f3f75fa5124a8b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7c67be6dd30e840f48cc917d214c824abbe8d306", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c67be6dd30e840f48cc917d214c824abbe8d306", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c67be6dd30e840f48cc917d214c824abbe8d306", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c67be6dd30e840f48cc917d214c824abbe8d306/comments", "author": null, "committer": null, "parents": [{"sha": "5d3ebb71cbf9c6ed0ce04230a387485fa57e71ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d3ebb71cbf9c6ed0ce04230a387485fa57e71ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d3ebb71cbf9c6ed0ce04230a387485fa57e71ed"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "62b1c3be287db6d3b35bba8bf611df93b62ccced", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c67be6dd30e840f48cc917d214c824abbe8d306/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c67be6dd30e840f48cc917d214c824abbe8d306/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7c67be6dd30e840f48cc917d214c824abbe8d306", "patch": "@@ -1,3 +1,8 @@\n+2017-02-05  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* tree-eh.c (lower_resx): Sanitize profile.\n+\t(cleanup_empty_eh_move_lp): Likewise.\n+\n 2017-02-05  Jan Hubicka  <hubicka@ucw.cz>\n \n \tPR tree-ssa/79347"}, {"sha": "42fe9dfbbf8c9b2cdc76264255b111932819680d", "filename": "gcc/tree-eh.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c67be6dd30e840f48cc917d214c824abbe8d306/gcc%2Ftree-eh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c67be6dd30e840f48cc917d214c824abbe8d306/gcc%2Ftree-eh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-eh.c?ref=7c67be6dd30e840f48cc917d214c824abbe8d306", "patch": "@@ -3248,6 +3248,8 @@ lower_resx (basic_block bb, gresx *stmt,\n \t  e = single_succ_edge (bb);\n \t  gcc_assert (e->flags & EDGE_EH);\n \t  e->flags = (e->flags & ~EDGE_EH) | EDGE_FALLTHRU;\n+\t  e->probability = REG_BR_PROB_BASE;\n+\t  e->count = bb->count;\n \n \t  /* If there are no more EH users of the landing pad, delete it.  */\n \t  FOR_EACH_EDGE (e, ei, e->dest->preds)\n@@ -4268,6 +4270,7 @@ cleanup_empty_eh_move_lp (basic_block bb, edge e_out,\n   /* Clean up E_OUT for the fallthru.  */\n   e_out->flags = (e_out->flags & ~EDGE_EH) | EDGE_FALLTHRU;\n   e_out->probability = REG_BR_PROB_BASE;\n+  e_out->count = e_out->src->count;\n }\n \n /* A subroutine of cleanup_empty_eh.  Handle more complex cases of"}]}