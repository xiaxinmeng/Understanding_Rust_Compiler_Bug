{"sha": "f3da53751662e7a4e2fd6a1c119565518f1e2c63", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjNkYTUzNzUxNjYyZTdhNGUyZmQ2YTFjMTE5NTY1NTE4ZjFlMmM2Mw==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2015-05-21T17:18:16Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2015-05-21T17:18:16Z"}, "message": "pa.md (add-with-constant splitter): Use ASHIFT rather than MULT for shadd sequences.\n\n\t* config/pa/pa.md (add-with-constant splitter): Use ASHIFT rather\n\tthan MULT for shadd sequences.\n\n\t* gcc.target/hppa/shadd-4.c: New test.\n\nFrom-SVN: r223495", "tree": {"sha": "2cbb5327c6ed67c66271fe28d2e48f0bbb8e79df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2cbb5327c6ed67c66271fe28d2e48f0bbb8e79df"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f3da53751662e7a4e2fd6a1c119565518f1e2c63", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3da53751662e7a4e2fd6a1c119565518f1e2c63", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3da53751662e7a4e2fd6a1c119565518f1e2c63", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3da53751662e7a4e2fd6a1c119565518f1e2c63/comments", "author": null, "committer": null, "parents": [{"sha": "65d932637ed3ffb25d08011a02e8ed0129f1aecb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65d932637ed3ffb25d08011a02e8ed0129f1aecb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65d932637ed3ffb25d08011a02e8ed0129f1aecb"}], "stats": {"total": 25, "additions": 21, "deletions": 4}, "files": [{"sha": "48472bc92b04b3fb410ee78f5188f0535d1e8b3e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3da53751662e7a4e2fd6a1c119565518f1e2c63/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3da53751662e7a4e2fd6a1c119565518f1e2c63/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f3da53751662e7a4e2fd6a1c119565518f1e2c63", "patch": "@@ -1,3 +1,8 @@\n+2015-05-21  Jeff Law  <law@redhat.com>\n+\n+\t* config/pa/pa.md (add-with-constant splitter): Use ASHIFT rather\n+\tthan MULT for shadd sequences.\n+\n 2015-05-08  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* alias.c (alias_stats): New static var.\t"}, {"sha": "aaec27d985e773497dcba6ab4e55956fd552e477", "filename": "gcc/config/pa/pa.md", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3da53751662e7a4e2fd6a1c119565518f1e2c63/gcc%2Fconfig%2Fpa%2Fpa.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3da53751662e7a4e2fd6a1c119565518f1e2c63/gcc%2Fconfig%2Fpa%2Fpa.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.md?ref=f3da53751662e7a4e2fd6a1c119565518f1e2c63", "patch": "@@ -5132,7 +5132,7 @@\n    (clobber (match_operand:SI 4 \"register_operand\" \"\"))]\n   \"! pa_cint_ok_for_move (INTVAL (operands[2]))\"\n   [(set (match_dup 4) (match_dup 2))\n-   (set (match_dup 0) (plus:SI (mult:SI (match_dup 4) (match_dup 3))\n+   (set (match_dup 0) (plus:SI (ashift:SI (match_dup 4) (match_dup 3))\n \t\t\t       (match_dup 1)))]\n   \"\n {\n@@ -5147,17 +5147,17 @@\n   if (intval % 2 == 0 && pa_cint_ok_for_move (intval / 2))\n     {\n       operands[2] = GEN_INT (intval / 2);\n-      operands[3] = const2_rtx;\n+      operands[3] = const1_rtx;\n     }\n   else if (intval % 4 == 0 && pa_cint_ok_for_move (intval / 4))\n     {\n       operands[2] = GEN_INT (intval / 4);\n-      operands[3] = GEN_INT (4);\n+      operands[3] = const2_rtx;\n     }\n   else if (intval % 8 == 0 && pa_cint_ok_for_move (intval / 8))\n     {\n       operands[2] = GEN_INT (intval / 8);\n-      operands[3] = GEN_INT (8);\n+      operands[3] = GEN_INT (3);\n     }\n   else if (pa_cint_ok_for_move (-intval))\n     {"}, {"sha": "20a437918a3b1a26d2f39668333884777e2898d3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3da53751662e7a4e2fd6a1c119565518f1e2c63/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3da53751662e7a4e2fd6a1c119565518f1e2c63/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f3da53751662e7a4e2fd6a1c119565518f1e2c63", "patch": "@@ -1,3 +1,7 @@\n+2015-05-21  Jeff Law  <law@redhat.com>\n+\n+\t* gcc.target/hppa/shadd-4.c: New test.\n+\n 2015-05-08  Michael Matz  <matz@suse.de>\n \n \t* gcc.dg/vect/vect-strided-store.c: New test."}, {"sha": "e25d148322eef41f8f6bd923e9319bd61b52ca6b", "filename": "gcc/testsuite/gcc.target/hppa/shadd-4.c", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3da53751662e7a4e2fd6a1c119565518f1e2c63/gcc%2Ftestsuite%2Fgcc.target%2Fhppa%2Fshadd-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3da53751662e7a4e2fd6a1c119565518f1e2c63/gcc%2Ftestsuite%2Fgcc.target%2Fhppa%2Fshadd-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fhppa%2Fshadd-4.c?ref=f3da53751662e7a4e2fd6a1c119565518f1e2c63", "patch": "@@ -0,0 +1,8 @@\n+/* { dg-do compile }  */\n+/* { dg-options \"-O2\" }  */\n+/* { dg-final { scan-assembler-times \"sh.add\" 1 } }  */\n+unsigned int\n+oof (int uid)\n+{\n+  return (174 << 7) + uid;\n+}"}]}