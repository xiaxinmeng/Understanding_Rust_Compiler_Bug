{"sha": "f47687a1c2c8125298eb5bab2abab6ae864d7f70", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjQ3Njg3YTFjMmM4MTI1Mjk4ZWI1YmFiMmFiYWI2YWU4NjRkN2Y3MA==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2008-07-04T14:58:14Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2008-07-04T14:58:14Z"}, "message": "crontab: Remove 4.1 snapshots job.\n\n\t* crontab: Remove 4.1 snapshots job.\n\t* update_version: Remove.\n\t* gcc_release: Remove support for g77 and release status in\n\tversion.c.\n\t* update_version_svn: Ignore 4.1 branch.  Remove support for\n\tupdating files other than DATESTAMP.\n\t* update_web_docs_svn: Remove support for g77 manual.\n\nFrom-SVN: r137462", "tree": {"sha": "90aa548af877cf4173db881ed66a80636b418722", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/90aa548af877cf4173db881ed66a80636b418722"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f47687a1c2c8125298eb5bab2abab6ae864d7f70", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f47687a1c2c8125298eb5bab2abab6ae864d7f70", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f47687a1c2c8125298eb5bab2abab6ae864d7f70", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f47687a1c2c8125298eb5bab2abab6ae864d7f70/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6880396e28345c0d255bf9bef8e99c23209134f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6880396e28345c0d255bf9bef8e99c23209134f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6880396e28345c0d255bf9bef8e99c23209134f7"}], "stats": {"total": 205, "additions": 22, "deletions": 183}, "files": [{"sha": "f246a012cf5c8a0bc5a203b792d656fc0d79646c", "filename": "maintainer-scripts/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f47687a1c2c8125298eb5bab2abab6ae864d7f70/maintainer-scripts%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f47687a1c2c8125298eb5bab2abab6ae864d7f70/maintainer-scripts%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2FChangeLog?ref=f47687a1c2c8125298eb5bab2abab6ae864d7f70", "patch": "@@ -1,3 +1,13 @@\n+2008-07-04  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* crontab: Remove 4.1 snapshots job.\n+\t* update_version: Remove.\n+\t* gcc_release: Remove support for g77 and release status in\n+\tversion.c.\n+\t* update_version_svn: Ignore 4.1 branch.  Remove support for\n+\tupdating files other than DATESTAMP.\n+\t* update_web_docs_svn: Remove support for g77 manual.\n+\n 2008-02-18  Jakub Jelinek  <jakub@redhat.com>\n \n \t* crontab: Add 4.3 branch.  Set trunk to 4.4."}, {"sha": "091c24d824980e45758320a4a632915dbc12552a", "filename": "maintainer-scripts/crontab", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f47687a1c2c8125298eb5bab2abab6ae864d7f70/maintainer-scripts%2Fcrontab", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f47687a1c2c8125298eb5bab2abab6ae864d7f70/maintainer-scripts%2Fcrontab", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fcrontab?ref=f47687a1c2c8125298eb5bab2abab6ae864d7f70", "patch": "@@ -1,7 +1,6 @@\n 16  0 * * * sh /home/gccadmin/scripts/update_version_svn\n 50  0 * * * sh /home/gccadmin/scripts/update_web_docs_svn\n 55  0 * * * sh /home/gccadmin/scripts/update_web_docs_libstdcxx_svn\n-32 22 * * 1 sh /home/gccadmin/scripts/gcc_release -s 4.1:branches/gcc-4_1-branch -l -d /sourceware/snapshot-tmp/gcc all\n 32 22 * * 3 sh /home/gccadmin/scripts/gcc_release -s 4.2:branches/gcc-4_2-branch -l -d /sourceware/snapshot-tmp/gcc all\n 32 22 * * 4 sh /home/gccadmin/scripts/gcc_release -s 4.3:branches/gcc-4_3-branch -l -d /sourceware/snapshot-tmp/gcc all\n 32 22 * * 5 sh /home/gccadmin/scripts/gcc_release -s 4.4:trunk           -l -d /sourceware/snapshot-tmp/gcc all"}, {"sha": "467ec4e4aca7b3c27f84c809a98671bd88b0ef65", "filename": "maintainer-scripts/gcc_release", "status": "modified", "additions": 10, "deletions": 25, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f47687a1c2c8125298eb5bab2abab6ae864d7f70/maintainer-scripts%2Fgcc_release", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f47687a1c2c8125298eb5bab2abab6ae864d7f70/maintainer-scripts%2Fgcc_release", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fgcc_release?ref=f47687a1c2c8125298eb5bab2abab6ae864d7f70", "patch": "@@ -139,25 +139,14 @@ EOF\n       fi\n     done\n \n-    # Update gcc/DEV-PHASE if it exists, otherwise gcc/version.c.\n-\n-    if [ -f ${SOURCE_DIRECTORY}/gcc/DEV-PHASE ]; then\n-      [ `cat ${SOURCE_DIRECTORY}/gcc/BASE-VER` = ${RELEASE} ] || \\\n-      error \"Release number ${RELEASE} does not match BASE-VER\"\n-      (changedir ${SOURCE_DIRECTORY}/gcc && \\\n-       : > DEV-PHASE && \\\n-       ${SVN} -q ci -m 'Mark as release' DEV-PHASE) || \\\n-      error \"Could not update DEV-PHASE\"\n-    else\n-      for x in gcc/version.c; do \n-        y=`basename ${x}`\n-        (changedir `dirname ${SOURCE_DIRECTORY}/${x}` && \\\n-            sed -e 's|version_string\\[\\] = \\\".*\\\"|version_string\\[\\] = \\\"'${RELEASE}'\\\"|g' < ${y} > ${y}.new && \\\n-\t    mv ${y}.new ${y} && \\\n-            ${SVN} -q ci -m 'Update version' ${y}) || \\\n-\t    error \"Could not update ${x}\"\n-      done\n-    fi\n+    # Update gcc/DEV-PHASE.\n+\n+    [ `cat ${SOURCE_DIRECTORY}/gcc/BASE-VER` = ${RELEASE} ] || \\\n+    error \"Release number ${RELEASE} does not match BASE-VER\"\n+    (changedir ${SOURCE_DIRECTORY}/gcc && \\\n+     : > DEV-PHASE && \\\n+     ${SVN} -q ci -m 'Mark as release' DEV-PHASE) || \\\n+    error \"Could not update DEV-PHASE\"\n \n     # Make sure we tag the sources for a final release.\n     TAG=\"tags/gcc_`echo ${RELEASE} | tr . _`_release\"\n@@ -297,15 +286,14 @@ build_tarfiles() {\n   # Now, build one for each of the languages.\n   maybe_build_tarfile gcc-ada-${RELEASE} ${ADA_DIRS}\n   maybe_build_tarfile gcc-g++-${RELEASE} ${CPLUSPLUS_DIRS}\n-  maybe_build_tarfile gcc-g77-${RELEASE} ${FORTRAN_DIRS}\n   maybe_build_tarfile gcc-fortran-${RELEASE} ${FORTRAN95_DIRS}\n   maybe_build_tarfile gcc-java-${RELEASE} ${JAVA_DIRS}\n   maybe_build_tarfile gcc-objc-${RELEASE} ${OBJECTIVEC_DIRS}\n   maybe_build_tarfile gcc-testsuite-${RELEASE} ${TESTSUITE_DIRS}\n    \n   # The core is everything else.\n   EXCLUDES=\"\"\n-  for x in ${ADA_DIRS} ${CPLUSPLUS_DIRS} ${FORTRAN_DIRS} ${FORTRAN95_DIRS}\\\n+  for x in ${ADA_DIRS} ${CPLUSPLUS_DIRS} ${FORTRAN95_DIRS}\\\n \t   ${JAVA_DIRS} ${OBJECTIVEC_DIRS} ${TESTSUITE_DIRS}; do\n     EXCLUDES=\"${EXCLUDES} --exclude $x\"\n   done\n@@ -328,7 +316,7 @@ build_diffs() {\n   old_vers=${old_file%.tar.bz2}\n   old_vers=${old_vers#gcc-}\n   inform \"Building diffs against version $old_vers\"\n-  for f in gcc gcc-ada gcc-g++ gcc-g77 gcc-fortran gcc-java gcc-objc gcc-testsuite gcc-core; do\n+  for f in gcc gcc-ada gcc-g++ gcc-fortran gcc-java gcc-objc gcc-testsuite gcc-core; do\n     old_tar=${old_dir}/${f}-${old_vers}.tar.bz2\n     new_tar=${WORKING_DIRECTORY}/${f}-${RELEASE}.tar.bz2\n     if [ ! -e $old_tar ]; then\n@@ -453,7 +441,6 @@ with the following options: <code>\"svn://gcc.gnu.org/svn/gcc/${SVNBRANCH} revisi\n   snapshot_print gcc-ada-${RELEASE}.tar.bz2 \"Ada front end and runtime\"\n   snapshot_print gcc-fortran-${RELEASE}.tar.bz2 \"Fortran front end and runtime\"\n   snapshot_print gcc-g++-${RELEASE}.tar.bz2 \"C++ front end and runtime\"\n-  snapshot_print gcc-g77-${RELEASE}.tar.bz2 \"Fortran 77 front end and runtime\"\n   snapshot_print gcc-java-${RELEASE}.tar.bz2 \"Java front end and runtime\"\n   snapshot_print gcc-objc-${RELEASE}.tar.bz2 \"Objective-C front end and runtime\"\n   snapshot_print gcc-testsuite-${RELEASE}.tar.bz2 \"The GCC testsuite\"\n@@ -560,7 +547,6 @@ SOURCE_DIRECTORY=\"\"\n # tar files.  These are all relative to the top of the source tree.\n ADA_DIRS=\"gcc/ada libada gnattools\"\n CPLUSPLUS_DIRS=\"gcc/cp libstdc++-v3\"\n-FORTRAN_DIRS=\"gcc/f libf2c\"\n FORTRAN95_DIRS=\"gcc/fortran libgfortran\"\n JAVA_DIRS=\"gcc/java libjava libffi fastjar zlib boehm-gc\"\n OBJECTIVEC_DIRS=\"gcc/objc gcc/objcp libobjc\"\n@@ -707,7 +693,6 @@ SOURCE_DIRECTORY=\"${WORKING_DIRECTORY}/gcc-${RELEASE}\"\n # relative to the WORKING_DIRECTORY.\n ADA_DIRS=`adjust_dirs ${ADA_DIRS}`\n CPLUSPLUS_DIRS=`adjust_dirs ${CPLUSPLUS_DIRS}`\n-FORTRAN_DIRS=`adjust_dirs ${FORTRAN_DIRS}`\n FORTRAN95_DIRS=`adjust_dirs ${FORTRAN95_DIRS}`\n JAVA_DIRS=`adjust_dirs ${JAVA_DIRS}`\n OBJECTIVEC_DIRS=`adjust_dirs ${OBJECTIVEC_DIRS}`"}, {"sha": "2217052332c9a1fafd753c006a1f781a5bfb57fb", "filename": "maintainer-scripts/update_version", "status": "removed", "additions": 0, "deletions": 113, "changes": 113, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6880396e28345c0d255bf9bef8e99c23209134f7/maintainer-scripts%2Fupdate_version", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6880396e28345c0d255bf9bef8e99c23209134f7/maintainer-scripts%2Fupdate_version", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fupdate_version?ref=6880396e28345c0d255bf9bef8e99c23209134f7", "patch": "@@ -1,113 +0,0 @@\n-#!/bin/sh\n-#\n-# Update the current version date in all files in the tree containing\n-# it.  Consider all release branches except those matching the regular\n-# expression in $IGNORE_BRANCHES, and also consider those branches listed\n-# in $ADD_BRANCHES.\n-\n-CVSROOT=${CVSROOT:-/cvs/gcc}\n-IGNORE_BRANCHES='gcc-(2_95|3_0|3_1|3_2|3_3)-branch'\n-ADD_BRANCHES='HEAD autovect-branch dfp-branch'\n-\n-# Run this from /tmp.\n-export CVSROOT\n-/bin/rm -rf /tmp/$$\n-/bin/mkdir /tmp/$$\n-cd /tmp/$$\n-\n-# The path to cvs.\n-CVS=${CVS:-/usr/local/bin/cvs}\n-\n-# Compute the branches which we should update.\n-$CVS co gcc/ChangeLog\n-BRANCHES=`$CVS status -v gcc/ChangeLog \\\n-          | awk '{print $1;}' \\\n-          | egrep 'gcc-[0-9]+_[0-9]+-branch$' \\\n-          | egrep -v $IGNORE_BRANCHES`\n-# Always update the mainline.\n-BRANCHES=\"${BRANCHES} ${ADD_BRANCHES}\"\n-\n-# ARGS is passed to 'cvs co'\n-CURR_DATE=`/bin/date +\"%Y%m%d\"`\n-\n-# version is contained within a char*\n-textstring_FILES=\"gcc/gcc/version.c\"\n-\n-# version is contained within a #define\n-cppdefine_FILES=\"gcc/libstdc++-v3/include/bits/c++config\"\n-\n-# version is all there is\n-datestamp_FILES=\"gcc/gcc/DATESTAMP\"\n-\n-FILES=\"$textstring_FILES $cppdefine_FILES $datestamp_FILES\"\n-\n-# Assume all will go well.\n-RESULT=0\n-\n-for BRANCH in $BRANCHES; do\n-  echo \"Working on \\\"$BRANCH\\\".\"\n-  # Check out the files on the branch.  HEAD is a special case; if\n-  # you check out files with -r HEAD, CVS will not let you check \n-  # in changes.\n-  if test \"$BRANCH\" = HEAD; then \n-    ${CVS} co $FILES\n-  else\n-    ${CVS} co -r $BRANCH $FILES\n-  fi\n-\n-  # There are no files to commit yet.\n-  COMMIT_FILES=\"\"\n-\n-  for file in $textstring_FILES; do\n-    if test -f $file; then \n-      /bin/sed  <$file >$file.new -e \\\n-  \"s/\\(.*\\\"[^ ]*\\) [0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]/\\1 ${CURR_DATE}/\" \n-\n-      if /usr/bin/cmp -s $file $file.new; then\n-\trm -f $file.new\n-      else\n-\tmv -f $file.new $file\n-        COMMIT_FILES=\"$COMMIT_FILES $file\"\n-      fi\n-    fi\n-  done\n-\n-  for file in $cppdefine_FILES; do\n-    if test -f $file; then\n-      /bin/sed <$file >$file.new -e \\\n-  \"s/\\(#.*\\) [0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]/\\1 ${CURR_DATE}/\"\n-\n-      if /usr/bin/cmp -s $file $file.new; then\n-\trm -f $file.new\n-      else\n-\tmv -f $file.new $file\n-        COMMIT_FILES=\"$COMMIT_FILES $file\"\n-      fi\n-    fi\n-  done\n-\n-  for file in $datestamp_FILES; do\n-    if test -f $file; then\n-      echo ${CURR_DATE} > $file.new\n-\n-      if /usr/bin/cmp -s $file $file.new; then\n-\trm -f $file.new\n-      else\n-\tmv -f $file.new $file\n-        COMMIT_FILES=\"$COMMIT_FILES $file\"\n-      fi\n-    fi\n-  done\n-\n-  if test -n \"$COMMIT_FILES\" \\\n-     && ! ${CVS} commit -m \"Daily bump.\" $COMMIT_FILES; then\n-    # If we could not commit the files, indicate failure.\n-    RESULT=1\n-  fi\n-\n-  # Remove the files.\n-  rm -rf gcc\n-done\n-\n-/bin/rm -rf /tmp/$$\n-exit $RESULT"}, {"sha": "1c87f1c50e952252f6febbe4a6ce697067841748", "filename": "maintainer-scripts/update_version_svn", "status": "modified", "additions": 2, "deletions": 43, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f47687a1c2c8125298eb5bab2abab6ae864d7f70/maintainer-scripts%2Fupdate_version_svn", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f47687a1c2c8125298eb5bab2abab6ae864d7f70/maintainer-scripts%2Fupdate_version_svn", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fupdate_version_svn?ref=f47687a1c2c8125298eb5bab2abab6ae864d7f70", "patch": "@@ -6,7 +6,7 @@\n # in $ADD_BRANCHES.\n \n SVNROOT=${SVNROOT:-\"file:///svn/gcc\"}\n-IGNORE_BRANCHES='gcc-(2_95|3_0|3_1|3_2|3_3|3_4|4_0)-branch'\n+IGNORE_BRANCHES='gcc-(2_95|3_0|3_1|3_2|3_3|3_4|4_0|4_1)-branch'\n ADD_BRANCHES='HEAD autovect-branch'\n \n # Run this from /tmp.\n@@ -29,17 +29,10 @@ BRANCHES=\"${BRANCHES} ${ADD_BRANCHES}\"\n # ARGS is passed to 'cvs co'\n CURR_DATE=`/bin/date +\"%Y%m%d\"`\n \n-# version is contained within a char*\n-textstring_FILES=\"gcc/version.c\"\n-\n-# version is contained within a #define\n-cppdefine_FILES=\"libstdc++-v3/include/bits/c++config\"\n-\n # version is all there is\n datestamp_FILES=\"gcc/DATESTAMP\"\n \n-FILES=\"$textstring_FILES $cppdefine_FILES $datestamp_FILES\"\n-DIRS=\"$textstring_DIRS $cppdefine_DIRS $datestamp_DIRS\"\n+FILES=\"$datestamp_FILES\"\n \n # Assume all will go well.\n RESULT=0\n@@ -60,40 +53,6 @@ for BRANCH in $BRANCHES; do\n \n   # There are no files to commit yet.\n   COMMIT_FILES=\"\"\n-   \n-  for file in $textstring_FILES; do\n-    dirname=`basename $file`\n-    file=`basename $file`\n-    file=\"$dirname/$file\"\n-    if test -f $file; then \n-      /bin/sed  <$file >$file.new -e \\\n-  \"s/\\(.*\\\"[^ ]*\\) [0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]/\\1 ${CURR_DATE}/\" \n-\n-      if /usr/bin/cmp -s $file $file.new; then\n-\trm -f $file.new\n-      else\n-\tmv -f $file.new $file\n-        COMMIT_FILES=\"$COMMIT_FILES $file\"\n-      fi\n-    fi\n-  done\n-  \n-  for file in $cppdefine_FILES; do\n-    dirname=`basename $file`\n-    file=`basename $file`\n-    file=\"$dirname/$file\"\n-    if test -f $file; then\n-      /bin/sed <$file >$file.new -e \\\n-  \"s/\\(#.*\\) [0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]/\\1 ${CURR_DATE}/\"\n-\n-      if /usr/bin/cmp -s $file $file.new; then\n-\trm -f $file.new\n-      else\n-\tmv -f $file.new $file\n-        COMMIT_FILES=\"$COMMIT_FILES $file\"\n-      fi\n-    fi\n-  done\n \n   for file in $datestamp_FILES; do\n     dirname=`basename $file`"}, {"sha": "74098b4ac4d0bc6982ad0b5c4a04ea55f4ebb764", "filename": "maintainer-scripts/update_web_docs_svn", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f47687a1c2c8125298eb5bab2abab6ae864d7f70/maintainer-scripts%2Fupdate_web_docs_svn", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f47687a1c2c8125298eb5bab2abab6ae864d7f70/maintainer-scripts%2Fupdate_web_docs_svn", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fupdate_web_docs_svn?ref=f47687a1c2c8125298eb5bab2abab6ae864d7f70", "patch": "@@ -17,7 +17,6 @@ MANUALS=\"cpp\n   gcc\n   gccint\n   gcj\n-  g77\n   gfortran\n   gfc-internals\n   gnat_ug_unx"}]}