{"sha": "84072a2615ec1f5f35e994128a6dc22af5bf1322", "node_id": "C_kwDOANBUbNoAKDg0MDcyYTI2MTVlYzFmNWYzNWU5OTQxMjhhNmRjMjJhZjViZjEzMjI", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2022-05-29T20:31:43Z"}, "committer": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2022-09-26T14:00:09Z"}, "message": "nvptx: forward '-v' command-line option to assembler\n\nFor example, for offloading compilation with '-save-temps -v', before vs. after\nword-diff then looks like:\n\n    [...]\n     [...]/build-gcc-offload-nvptx-none/gcc/as {+-v -v+} -o ./a.xnvptx-none.mkoffload.o ./a.xnvptx-none.mkoffload.s\n    {+Verifying sm_30 code with sm_35 code generation.+}\n    {+ ptxas -c -o /dev/null ./a.xnvptx-none.mkoffload.o --gpu-name sm_35 -O0+}\n    [...]\n\n(This depends on <https://github.com/MentorEmbedded/nvptx-tools/pull/37>\n\"Put '-v' verbose output onto stderr instead of stdout\".)\n\n\tgcc/\n\t* config/nvptx/nvptx.h (ASM_SPEC): Define.", "tree": {"sha": "abc965ae05ea9762ee7527742cc72482a7e97407", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/abc965ae05ea9762ee7527742cc72482a7e97407"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/84072a2615ec1f5f35e994128a6dc22af5bf1322", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84072a2615ec1f5f35e994128a6dc22af5bf1322", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84072a2615ec1f5f35e994128a6dc22af5bf1322", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84072a2615ec1f5f35e994128a6dc22af5bf1322/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1b74b5cb4e9d7191f298245063a8f9c3a1bbeff4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b74b5cb4e9d7191f298245063a8f9c3a1bbeff4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b74b5cb4e9d7191f298245063a8f9c3a1bbeff4"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "0b0170d77b3570b94bee5180bc62773e09ab7266", "filename": "gcc/config/nvptx/nvptx.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84072a2615ec1f5f35e994128a6dc22af5bf1322/gcc%2Fconfig%2Fnvptx%2Fnvptx.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84072a2615ec1f5f35e994128a6dc22af5bf1322/gcc%2Fconfig%2Fnvptx%2Fnvptx.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnvptx%2Fnvptx.h?ref=84072a2615ec1f5f35e994128a6dc22af5bf1322", "patch": "@@ -27,6 +27,10 @@\n \n /* Run-time Target.  */\n \n+/* Assembler supports '-v' option; handle similar to\n+   '../../gcc.cc:asm_options', 'HAVE_GNU_AS'.  */\n+#define ASM_SPEC \"%{v}\"\n+\n #define STARTFILE_SPEC \"%{mmainkernel:crt0.o}\"\n \n #define TARGET_CPU_CPP_BUILTINS() nvptx_cpu_cpp_builtins ()"}]}