{"sha": "b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjA1N2JmZjRjMWM5NGM3ZTAwODZlOWM3Y2Q0YjNjOGJjYTQwZGE5Mg==", "commit": {"author": {"name": "Dodji Seketeli", "email": "dodji@redhat.com", "date": "2011-03-12T07:28:20Z"}, "committer": {"name": "Dodji Seketeli", "email": "dodji@gcc.gnu.org", "date": "2011-03-12T07:28:20Z"}, "message": "re PR c++/46824 (chromium-compile failed because error: no match for \u2018operator*\u2019 in)\n\nPR c++/46824\n\ngcc/cp/\n\n\t* call.c (add_builtin_candidate)<case INDIRECT_REF>: The type\n\tof the argument of the indirection operator should not be\n\tdependent.  Fix the comment.\n\ngcc/testsuite/\n\n\t* g++.dg/conversion/cast3.C: New test.\n\nFrom-SVN: r170897", "tree": {"sha": "72430aa24de6f75af0eb7a67dfb9e6ce4e628518", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/72430aa24de6f75af0eb7a67dfb9e6ce4e628518"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92/comments", "author": null, "committer": null, "parents": [{"sha": "ba7d31f68a4afe75450273f8e941259b1c676982", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba7d31f68a4afe75450273f8e941259b1c676982", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba7d31f68a4afe75450273f8e941259b1c676982"}], "stats": {"total": 28, "additions": 26, "deletions": 2}, "files": [{"sha": "bebb1fcee5d463d110a13a1657bf2f3b895008ab", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92", "patch": "@@ -1,3 +1,9 @@\n+2011-03-11  Dodji Seketeli  <dodji@redhat.com>\n+\n+\t* call.c (add_builtin_candidate)<case INDIRECT_REF>: The type of\n+\tthe argument of the indirection operator should not be dependent.\n+\tFix the comment.\n+\n 2011-03-11  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/47125"}, {"sha": "5953e3524ccb1e4ba720bfb547b2d3bbaaf2858e", "filename": "gcc/cp/call.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92", "patch": "@@ -2150,7 +2150,7 @@ add_builtin_candidate (struct z_candidate **candidates, enum tree_code code,\n \t}\n       return;\n \n-/* 7 For every cv-qualified or cv-unqualified complete object type T, there\n+/* 7 For every cv-qualified or cv-unqualified object type T, there\n      exist candidate operator functions of the form\n \n \t     T&      operator*(T*);\n@@ -2161,7 +2161,7 @@ add_builtin_candidate (struct z_candidate **candidates, enum tree_code code,\n \n     case INDIRECT_REF:\n       if (TREE_CODE (type1) == POINTER_TYPE\n-\t  && is_complete (TREE_TYPE (type1))\n+\t  && !uses_template_parms (TREE_TYPE (type1))\n \t  && (TYPE_PTROB_P (type1)\n \t      || TREE_CODE (TREE_TYPE (type1)) == FUNCTION_TYPE))\n \tbreak;"}, {"sha": "412188a01a736e38b89fffe16a5dd307395d3041", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92", "patch": "@@ -1,3 +1,7 @@\n+2011-03-11  Dodji Seketeli  <dodji@redhat.com>\n+\n+\t* g++.dg/conversion/cast3.C: New test.\n+\n 2011-03-11  Jason Merrill  <jason@redhat.com>\n \n \t* g++.dg/template/error45.C: New."}, {"sha": "43287a1eb368faefc708246f4d41435762385d1d", "filename": "gcc/testsuite/g++.dg/conversion/cast3.C", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fconversion%2Fcast3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fconversion%2Fcast3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fconversion%2Fcast3.C?ref=b057bff4c1c94c7e0086e9c7cd4b3c8bca40da92", "patch": "@@ -0,0 +1,14 @@\n+// Origin: PR c++/46824\n+\n+class Incomplete;\n+struct Ptr\n+{\n+  operator Incomplete*();\n+};\n+\n+int\n+main()\n+{\n+  Ptr p;\n+  *p;\n+}"}]}