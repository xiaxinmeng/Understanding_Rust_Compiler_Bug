{"sha": "4160009ff82996166b12cd9dd5b00228ccf28e91", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDE2MDAwOWZmODI5OTYxNjZiMTJjZDlkZDViMDAyMjhjY2YyOGU5MQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-04-26T12:35:12Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-04-26T12:35:12Z"}, "message": "(output_init_element): Constructor is not simple if a bitfield is\nbeing assigned a non-integer.\n\nFrom-SVN: r9472", "tree": {"sha": "feb69da4380143623031b2783d8e36b397fc765f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/feb69da4380143623031b2783d8e36b397fc765f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4160009ff82996166b12cd9dd5b00228ccf28e91", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4160009ff82996166b12cd9dd5b00228ccf28e91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4160009ff82996166b12cd9dd5b00228ccf28e91", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4160009ff82996166b12cd9dd5b00228ccf28e91/comments", "author": null, "committer": null, "parents": [{"sha": "e4376e63ac291d3e6f651162f6af464fe3eca563", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4376e63ac291d3e6f651162f6af464fe3eca563", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4376e63ac291d3e6f651162f6af464fe3eca563"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "1873613a9548ec9f05a1d7c16bb8d4f93935097f", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4160009ff82996166b12cd9dd5b00228ccf28e91/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4160009ff82996166b12cd9dd5b00228ccf28e91/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=4160009ff82996166b12cd9dd5b00228ccf28e91", "patch": "@@ -5707,7 +5707,10 @@ output_init_element (value, type, field, pending)\n     constructor_erroneous = 1;\n   else if (!TREE_CONSTANT (value))\n     constructor_constant = 0;\n-  else if (initializer_constant_valid_p (value, TREE_TYPE (value)) == 0)\n+  else if (initializer_constant_valid_p (value, TREE_TYPE (value)) == 0\n+\t   || ((TREE_CODE (constructor_type) == RECORD_TYPE\n+\t\t|| TREE_CODE (constructor_type) == UNION_TYPE)\n+\t       && DECL_BIT_FIELD (field) && TREE_CODE (value) != INTEGER_CST))\n     constructor_simple = 0;\n \n   if (require_constant_value && ! TREE_CONSTANT (value))"}]}