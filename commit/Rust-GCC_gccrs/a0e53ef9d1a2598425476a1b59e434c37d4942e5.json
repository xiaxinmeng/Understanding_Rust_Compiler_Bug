{"sha": "a0e53ef9d1a2598425476a1b59e434c37d4942e5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTBlNTNlZjlkMWEyNTk4NDI1NDc2YTFiNTllNDM0YzM3ZDQ5NDJlNQ==", "commit": {"author": {"name": "Philip Herron", "email": "philip.herron@embecosm.com", "date": "2021-05-10T20:03:11Z"}, "committer": {"name": "Philip Herron", "email": "philip.herron@embecosm.com", "date": "2021-05-10T20:12:38Z"}, "message": "Resolve method generic arguments\n\nMethod calls can have generic arguments which will need resolved before\nthey can be used.", "tree": {"sha": "20194866f975dbe355bbabab31ff45edb7ab5f8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/20194866f975dbe355bbabab31ff45edb7ab5f8c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a0e53ef9d1a2598425476a1b59e434c37d4942e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0e53ef9d1a2598425476a1b59e434c37d4942e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0e53ef9d1a2598425476a1b59e434c37d4942e5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0e53ef9d1a2598425476a1b59e434c37d4942e5/comments", "author": {"login": "philberty", "id": 84585, "node_id": "MDQ6VXNlcjg0NTg1", "avatar_url": "https://avatars.githubusercontent.com/u/84585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philberty", "html_url": "https://github.com/philberty", "followers_url": "https://api.github.com/users/philberty/followers", "following_url": "https://api.github.com/users/philberty/following{/other_user}", "gists_url": "https://api.github.com/users/philberty/gists{/gist_id}", "starred_url": "https://api.github.com/users/philberty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philberty/subscriptions", "organizations_url": "https://api.github.com/users/philberty/orgs", "repos_url": "https://api.github.com/users/philberty/repos", "events_url": "https://api.github.com/users/philberty/events{/privacy}", "received_events_url": "https://api.github.com/users/philberty/received_events", "type": "User", "site_admin": false}, "committer": {"login": "philberty", "id": 84585, "node_id": "MDQ6VXNlcjg0NTg1", "avatar_url": "https://avatars.githubusercontent.com/u/84585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philberty", "html_url": "https://github.com/philberty", "followers_url": "https://api.github.com/users/philberty/followers", "following_url": "https://api.github.com/users/philberty/following{/other_user}", "gists_url": "https://api.github.com/users/philberty/gists{/gist_id}", "starred_url": "https://api.github.com/users/philberty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philberty/subscriptions", "organizations_url": "https://api.github.com/users/philberty/orgs", "repos_url": "https://api.github.com/users/philberty/repos", "events_url": "https://api.github.com/users/philberty/events{/privacy}", "received_events_url": "https://api.github.com/users/philberty/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "338b20ed370b3b4a7ae601e234099eaaa7d056b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/338b20ed370b3b4a7ae601e234099eaaa7d056b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/338b20ed370b3b4a7ae601e234099eaaa7d056b3"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "f163ef5bb56339d5f64dbb320a2a2bb3bba8fb86", "filename": "gcc/rust/resolve/rust-ast-resolve-expr.h", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0e53ef9d1a2598425476a1b59e434c37d4942e5/gcc%2Frust%2Fresolve%2Frust-ast-resolve-expr.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0e53ef9d1a2598425476a1b59e434c37d4942e5/gcc%2Frust%2Fresolve%2Frust-ast-resolve-expr.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fresolve%2Frust-ast-resolve-expr.h?ref=a0e53ef9d1a2598425476a1b59e434c37d4942e5", "patch": "@@ -23,6 +23,7 @@\n #include \"rust-ast-full.h\"\n #include \"rust-ast-resolve-struct-expr-field.h\"\n #include \"rust-ast-verify-assignee.h\"\n+#include \"rust-ast-resolve-type.h\"\n \n namespace Rust {\n namespace Resolver {\n@@ -92,6 +93,13 @@ class ResolveExpr : public ResolverBase\n   void visit (AST::MethodCallExpr &expr) override\n   {\n     ResolveExpr::go (expr.get_receiver_expr ().get (), expr.get_node_id ());\n+\n+    if (expr.get_method_name ().has_generic_args ())\n+      {\n+\tAST::GenericArgs &args = expr.get_method_name ().get_generic_args ();\n+\tResolveTypeToCanonicalPath::type_resolve_generic_args (args);\n+      }\n+\n     expr.iterate_params ([&] (AST::Expr *p) mutable -> bool {\n       ResolveExpr::go (p, expr.get_node_id ());\n       return true;"}, {"sha": "be43b1a26526866cb07fc1f7f01b8d058e31d018", "filename": "gcc/testsuite/rust.test/xfail_compile/method2.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0e53ef9d1a2598425476a1b59e434c37d4942e5/gcc%2Ftestsuite%2Frust.test%2Fxfail_compile%2Fmethod2.rs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0e53ef9d1a2598425476a1b59e434c37d4942e5/gcc%2Ftestsuite%2Frust.test%2Fxfail_compile%2Fmethod2.rs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Frust.test%2Fxfail_compile%2Fmethod2.rs?ref=a0e53ef9d1a2598425476a1b59e434c37d4942e5", "patch": "@@ -0,0 +1,17 @@\n+// { dg-excess-errors \"Noisy error and debug\" }\n+struct Foo<A, B>(A, B);\n+\n+impl Foo<i32, f32> {\n+    fn test<X>(self, a: X) -> X {\n+        a\n+    }\n+}\n+\n+fn main() {\n+    let a;\n+    a = Foo(123, 456f32);\n+\n+    let b;\n+    b = a.test::<asfasfr>(false);\n+    // { dg-error \"failed to resolve TypePath: asfasfr\" \"\" { target *-*-* } .-1 }\n+}"}]}