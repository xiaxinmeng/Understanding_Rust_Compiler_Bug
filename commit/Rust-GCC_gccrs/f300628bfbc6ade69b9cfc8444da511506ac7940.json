{"sha": "f300628bfbc6ade69b9cfc8444da511506ac7940", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjMwMDYyOGJmYmM2YWRlNjliOWNmYzg0NDRkYTUxMTUwNmFjNzk0MA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2018-03-23T11:23:54Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2018-03-23T11:23:54Z"}, "message": "re PR bootstrap/85020 (gcc fails to bootstrap with profiledbootstrap and --with-build-config=bootstrap-lto)\n\n2018-03-23  Eric Botcazou  <ebotcazou@adacore.com>\n\n\tPR debug/85020\n\t* gnat.dg/lto22.adb: New test.\n\t* gnat.dg/lto22_pkg1.ad[sb]: New helper.\n\t* gnat.dg/lto22_pkg2.ads: Likewise.\n\nFrom-SVN: r258799", "tree": {"sha": "32492dd132be17a03c5387a4663009b6d35598e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/32492dd132be17a03c5387a4663009b6d35598e7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f300628bfbc6ade69b9cfc8444da511506ac7940", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f300628bfbc6ade69b9cfc8444da511506ac7940", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f300628bfbc6ade69b9cfc8444da511506ac7940", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f300628bfbc6ade69b9cfc8444da511506ac7940/comments", "author": null, "committer": null, "parents": [{"sha": "71f70d0c0ca7d5e76c98eaa7c64825ddd46bbfe7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71f70d0c0ca7d5e76c98eaa7c64825ddd46bbfe7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71f70d0c0ca7d5e76c98eaa7c64825ddd46bbfe7"}], "stats": {"total": 47, "additions": 47, "deletions": 0}, "files": [{"sha": "81c93b4c802682a40ea22ab98acf3c1248c4f92f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f300628bfbc6ade69b9cfc8444da511506ac7940/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f300628bfbc6ade69b9cfc8444da511506ac7940/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f300628bfbc6ade69b9cfc8444da511506ac7940", "patch": "@@ -1,3 +1,10 @@\n+2018-03-23  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR debug/85020\n+\t* gnat.dg/lto22.adb: New test.\n+\t* gnat.dg/lto22_pkg1.ad[sb]: New helper.\n+\t* gnat.dg/lto22_pkg2.ads: Likewise.\n+\n 2018-03-23  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c/80778"}, {"sha": "6478b78bb76f25b46f0d15909af2f967eb915900", "filename": "gcc/testsuite/gnat.dg/lto22.adb", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f300628bfbc6ade69b9cfc8444da511506ac7940/gcc%2Ftestsuite%2Fgnat.dg%2Flto22.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f300628bfbc6ade69b9cfc8444da511506ac7940/gcc%2Ftestsuite%2Fgnat.dg%2Flto22.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Flto22.adb?ref=f300628bfbc6ade69b9cfc8444da511506ac7940", "patch": "@@ -0,0 +1,9 @@\n+-- { dg-do run }\n+-- { dg-options \"-g -flto\" { target lto } }\n+\n+with Lto22_Pkg1;\n+\n+procedure Lto22 is  \n+begin\n+  null;\n+end;"}, {"sha": "c0b24b42a40086816a2cae5e17c62e3ed3d4d4df", "filename": "gcc/testsuite/gnat.dg/lto22_pkg1.ads", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f300628bfbc6ade69b9cfc8444da511506ac7940/gcc%2Ftestsuite%2Fgnat.dg%2Flto22_pkg1.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f300628bfbc6ade69b9cfc8444da511506ac7940/gcc%2Ftestsuite%2Fgnat.dg%2Flto22_pkg1.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Flto22_pkg1.ads?ref=f300628bfbc6ade69b9cfc8444da511506ac7940", "patch": "@@ -0,0 +1,7 @@\n+with Lto22_Pkg2; use Lto22_Pkg2;\n+\n+package Lto22_Pkg1 is  \n+\n+   Public_1 : Rec := F;\n+\n+end Lto22_Pkg1;"}, {"sha": "e84cce843ea56594bb45dcd1c3cb14a90bac6d02", "filename": "gcc/testsuite/gnat.dg/lto22_pkg2.adb", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f300628bfbc6ade69b9cfc8444da511506ac7940/gcc%2Ftestsuite%2Fgnat.dg%2Flto22_pkg2.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f300628bfbc6ade69b9cfc8444da511506ac7940/gcc%2Ftestsuite%2Fgnat.dg%2Flto22_pkg2.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Flto22_pkg2.adb?ref=f300628bfbc6ade69b9cfc8444da511506ac7940", "patch": "@@ -0,0 +1,9 @@\n+package body Lto22_Pkg2 is  \n+\n+   function F return Rec is\n+      Var_1 : Rec;\n+   begin\n+      return Var_1;\n+   end;\n+\n+end Lto22_Pkg2;"}, {"sha": "f3a20f8c2fa4342e79fefe1d67a0c99eac16a7db", "filename": "gcc/testsuite/gnat.dg/lto22_pkg2.ads", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f300628bfbc6ade69b9cfc8444da511506ac7940/gcc%2Ftestsuite%2Fgnat.dg%2Flto22_pkg2.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f300628bfbc6ade69b9cfc8444da511506ac7940/gcc%2Ftestsuite%2Fgnat.dg%2Flto22_pkg2.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Flto22_pkg2.ads?ref=f300628bfbc6ade69b9cfc8444da511506ac7940", "patch": "@@ -0,0 +1,15 @@\n+package Lto22_Pkg2 is  \n+\n+   subtype Index_Type is Integer range 1 .. 20;\n+\n+   type Rec (<>) is private;           \n+\n+   function F return Rec;\n+\n+private\n+\n+   type Rec (D : Index_Type := 2) is record     \n+      S : String (1 .. D) := \"Hi\";\n+   end record;\n+\n+end Lto22_Pkg2;"}]}