{"sha": "5996efcd99c2d96eed518074dead68ca6f448a5e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTk5NmVmY2Q5OWMyZDk2ZWVkNTE4MDc0ZGVhZDY4Y2E2ZjQ0OGE1ZQ==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2019-01-18T00:05:51Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2019-01-18T00:05:51Z"}, "message": "libphobos: Add OSX bindings for core.sys.posix.aio\n\nBackported from upstream druntime 2.084\n\nReviewed-on: https://github.com/dlang/druntime/pull/2342\n\nFrom-SVN: r268050", "tree": {"sha": "bae47308256dcda29d9834a61091738e7e9fd4d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bae47308256dcda29d9834a61091738e7e9fd4d8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5996efcd99c2d96eed518074dead68ca6f448a5e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5996efcd99c2d96eed518074dead68ca6f448a5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5996efcd99c2d96eed518074dead68ca6f448a5e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5996efcd99c2d96eed518074dead68ca6f448a5e/comments", "author": null, "committer": null, "parents": [{"sha": "a85f2b9065e6e7c82f390419f5d065ef68e92846", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a85f2b9065e6e7c82f390419f5d065ef68e92846", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a85f2b9065e6e7c82f390419f5d065ef68e92846"}], "stats": {"total": 47, "additions": 47, "deletions": 0}, "files": [{"sha": "8300d920ca98adaa4517608a121d98b3ccb4f643", "filename": "libphobos/libdruntime/core/sys/posix/aio.d", "status": "modified", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5996efcd99c2d96eed518074dead68ca6f448a5e/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Faio.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5996efcd99c2d96eed518074dead68ca6f448a5e/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Faio.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Faio.d?ref=5996efcd99c2d96eed518074dead68ca6f448a5e", "patch": "@@ -63,6 +63,19 @@ version (CRuntime_Glibc)\n         }\n     }\n }\n+else version (OSX)\n+{\n+    struct aiocb\n+    {\n+        int aio_filedes;\n+        off_t aio_offset;\n+        void* aio_buf;   // volatile\n+        size_t aio_nbytes;\n+        int reqprio;\n+        sigevent aio_sigevent;\n+        int aio_lio_opcode;\n+    }\n+}\n else version (FreeBSD)\n {\n     struct __aiocb_private\n@@ -158,6 +171,15 @@ version (CRuntime_Glibc)\n         AIO_ALLDONE\n     }\n }\n+else version (OSX)\n+{\n+    enum\n+    {\n+        AIO_ALLDONE = 0x1,\n+        AIO_CANCELED = 0x2,\n+        AIO_NOTCANCELED = 0x4,\n+    }\n+}\n else version (Solaris)\n {\n     enum\n@@ -187,6 +209,15 @@ version (CRuntime_Glibc)\n         LIO_NOP\n     }\n }\n+else version (OSX)\n+{\n+    enum\n+    {\n+        LIO_NOP = 0x0,\n+        LIO_READ = 0x1,\n+        LIO_WRITE = 0x2,\n+    }\n+}\n else version (Solaris)\n {\n     enum\n@@ -215,6 +246,14 @@ version (CRuntime_Glibc)\n         LIO_NOWAIT\n     }\n }\n+else version (OSX)\n+{\n+    enum\n+    {\n+        LIO_NOWAIT = 0x1,\n+        LIO_WAIT = 0x2,\n+    }\n+}\n else version (Solaris)\n {\n     enum"}, {"sha": "1ddcba91049947e8a2fe3e4d115b7b8e67e3dd91", "filename": "libphobos/libdruntime/core/sys/posix/signal.d", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5996efcd99c2d96eed518074dead68ca6f448a5e/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsignal.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5996efcd99c2d96eed518074dead68ca6f448a5e/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsignal.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsignal.d?ref=5996efcd99c2d96eed518074dead68ca6f448a5e", "patch": "@@ -3465,6 +3465,14 @@ else version (DragonFlyBSD)\n }\n else version (Darwin)\n {\n+    struct sigevent\n+    {\n+        int sigev_notify;\n+        int sigev_signo;\n+        sigval sigev_value;\n+        void function(sigval) sigev_notify_function;\n+        pthread_attr_t* sigev_notify_attributes;\n+    }\n }\n else version (Solaris)\n {"}]}