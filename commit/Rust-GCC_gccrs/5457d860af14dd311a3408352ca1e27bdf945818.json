{"sha": "5457d860af14dd311a3408352ca1e27bdf945818", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTQ1N2Q4NjBhZjE0ZGQzMTFhMzQwODM1MmNhMWUyN2JkZjk0NTgxOA==", "commit": {"author": {"name": "Oleg Endo", "email": "olegendo@gcc.gnu.org", "date": "2012-03-15T01:18:04Z"}, "committer": {"name": "Oleg Endo", "email": "olegendo@gcc.gnu.org", "date": "2012-03-15T01:18:04Z"}, "message": "fpul-usage-1.c: New.\n\n\t* gcc.target/sh/fpul-usage-1.c: New.\n\nFrom-SVN: r185406", "tree": {"sha": "eb9acef30852fecf683f5270dcedde64dbc35cd7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eb9acef30852fecf683f5270dcedde64dbc35cd7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5457d860af14dd311a3408352ca1e27bdf945818", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5457d860af14dd311a3408352ca1e27bdf945818", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5457d860af14dd311a3408352ca1e27bdf945818", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5457d860af14dd311a3408352ca1e27bdf945818/comments", "author": null, "committer": null, "parents": [{"sha": "1eb74c79d69ff4112c2fdc4509c0577edc8e6cbc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1eb74c79d69ff4112c2fdc4509c0577edc8e6cbc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1eb74c79d69ff4112c2fdc4509c0577edc8e6cbc"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "9d57d21fcd7b81b5425296e700754463f9a1e6f6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5457d860af14dd311a3408352ca1e27bdf945818/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5457d860af14dd311a3408352ca1e27bdf945818/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5457d860af14dd311a3408352ca1e27bdf945818", "patch": "@@ -1,3 +1,7 @@\n+2012-03-15  Oleg Endo  <olegendo@gcc.gnu.org>\n+\n+\t* gcc.target/sh/fpul-usage-1.c: New.\n+\n 2012-03-14  Oleg Endo  <olegendo@gcc.gnu.org>\n \n \tPR target/49468"}, {"sha": "394e7ef81caf704df4c3ab0a160f059ebde4f98e", "filename": "gcc/testsuite/gcc.target/sh/fpul-usage-1.c", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5457d860af14dd311a3408352ca1e27bdf945818/gcc%2Ftestsuite%2Fgcc.target%2Fsh%2Ffpul-usage-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5457d860af14dd311a3408352ca1e27bdf945818/gcc%2Ftestsuite%2Fgcc.target%2Fsh%2Ffpul-usage-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fsh%2Ffpul-usage-1.c?ref=5457d860af14dd311a3408352ca1e27bdf945818", "patch": "@@ -0,0 +1,24 @@\n+/* Check that the FPUL register is used when reading a float as an int and\n+   vice versa, as opposed to pushing and popping the values over the stack.  */\n+/* { dg-do compile { target \"sh*-*-*\" } } */\n+/* { dg-options \"-O1\" } */\n+/* { dg-skip-if \"\" { \"sh*-*-*\" } { \"-m1\" \"-m2\" \"-m4al\" \"*nofpu\" \"-m4-340*\" \"-m4-400*\" \"-m4-500*\" \"-m5*\" } { \"\" } }  */\n+/* { dg-final { scan-assembler \"fpul\" } } */\n+/* { dg-final { scan-assembler-not \"r15\" } } */\n+\n+int\n+float_as_int (float val)\n+{\n+  union { float f; int i; } u;\n+  u.f = val;\n+  return u.i;\n+}\n+\n+float\n+int_as_float (int val)\n+{\n+  union { float f; int i; } u;\n+  u.i = val;\n+  return u.f;\n+}\n+"}]}