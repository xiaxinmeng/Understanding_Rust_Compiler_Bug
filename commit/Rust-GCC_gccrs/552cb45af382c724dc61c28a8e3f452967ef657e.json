{"sha": "552cb45af382c724dc61c28a8e3f452967ef657e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTUyY2I0NWFmMzgyYzcyNGRjNjFjMjhhOGUzZjQ1Mjk2N2VmNjU3ZQ==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@redhat.com", "date": "2001-06-03T14:05:38Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "2001-06-03T14:05:38Z"}, "message": "osf.S: Add unwind info.\n\n2001-06-03  Andrew Haley  <aph@redhat.com>\n\n        * src/alpha/osf.S: Add unwind info.\n        * src/powerpc/sysv.S: Add unwind info.\n        * src/powerpc/ppc_closure.S: Likewise.\n\nFrom-SVN: r42828", "tree": {"sha": "ce00b28f5d7bd08247a828f02331d92f4c8ed89d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce00b28f5d7bd08247a828f02331d92f4c8ed89d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/552cb45af382c724dc61c28a8e3f452967ef657e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/552cb45af382c724dc61c28a8e3f452967ef657e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/552cb45af382c724dc61c28a8e3f452967ef657e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/552cb45af382c724dc61c28a8e3f452967ef657e/comments", "author": {"login": "theRealAph", "id": 254637, "node_id": "MDQ6VXNlcjI1NDYzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/254637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theRealAph", "html_url": "https://github.com/theRealAph", "followers_url": "https://api.github.com/users/theRealAph/followers", "following_url": "https://api.github.com/users/theRealAph/following{/other_user}", "gists_url": "https://api.github.com/users/theRealAph/gists{/gist_id}", "starred_url": "https://api.github.com/users/theRealAph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theRealAph/subscriptions", "organizations_url": "https://api.github.com/users/theRealAph/orgs", "repos_url": "https://api.github.com/users/theRealAph/repos", "events_url": "https://api.github.com/users/theRealAph/events{/privacy}", "received_events_url": "https://api.github.com/users/theRealAph/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c777a6def975631afe78827d37f1189c1de5f0bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c777a6def975631afe78827d37f1189c1de5f0bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c777a6def975631afe78827d37f1189c1de5f0bd"}], "stats": {"total": 170, "additions": 166, "deletions": 4}, "files": [{"sha": "3194d1d4ccfa078b79db3a90cb1b7b8167c2a6fb", "filename": "libffi/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/552cb45af382c724dc61c28a8e3f452967ef657e/libffi%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/552cb45af382c724dc61c28a8e3f452967ef657e/libffi%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FChangeLog?ref=552cb45af382c724dc61c28a8e3f452967ef657e", "patch": "@@ -1,3 +1,9 @@\n+2001-06-03  Andrew Haley  <aph@redhat.com>\n+\n+        * src/alpha/osf.S: Add unwind info.\n+        * src/powerpc/sysv.S: Add unwind info.\n+        * src/powerpc/ppc_closure.S: Likewise.\n+\n 2000-05-31  Jeff Sturm  <jsturm@one-point.com>\n \n \t* configure.in: Fix AC_ARG_ENABLE usage."}, {"sha": "5605669194c68917258fd28e371bb78a325f974e", "filename": "libffi/src/alpha/osf.S", "status": "modified", "additions": 70, "deletions": 1, "changes": 71, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/552cb45af382c724dc61c28a8e3f452967ef657e/libffi%2Fsrc%2Falpha%2Fosf.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/552cb45af382c724dc61c28a8e3f452967ef657e/libffi%2Fsrc%2Falpha%2Fosf.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fsrc%2Falpha%2Fosf.S?ref=552cb45af382c724dc61c28a8e3f452967ef657e", "patch": "@@ -1,5 +1,5 @@\n /* -----------------------------------------------------------------------\n-   osf.S - Copyright (c) 1998 Cygnus Solutions\n+   osf.S - Copyright (c) 1998, 2001 Red Hat\n    \n    Alpha/OSF Foreign Function Interface \n \n@@ -42,12 +42,16 @@\n ffi_call_osf:\n \t.frame\t$15, 32, $26, 0\n \t.mask   0x4008000, -32\n+$LFB1:\n \taddq\t$16,$17,$1\n \tmov\t$16, $30\n \tstq\t$26, 0($1)\n+$LCFI0:\n \tstq\t$15, 8($1)\n+$LCFI1:\n \tstq\t$18, 16($1)\n \tmov\t$1, $15\n+$LCFI2:\n \t.prologue 0\n \n \tstq\t$19, 24($1)\n@@ -108,6 +112,7 @@ $retdouble:\n \tnop\n \tldq\t$15, 8($15)\n \tret\n+$LFE1:\n \n \t.end\tffi_call_osf\n \n@@ -121,9 +126,12 @@ $retdouble:\n ffi_closure_osf:\n \t.frame\t$30, 16*8, $26, 0\n \t.mask\t0x4000000, -16*8\n+$LFB2:\n \tldgp\t$29, 0($27)\n \tsubq\t$30, 16*8, $30\n+$LCFI5:\n \tstq\t$26, 0($30)\n+$LCFI6:\n \t.prologue 1\n \n \t# Store all of the potential argument registers in va_list format.\n@@ -237,6 +245,7 @@ $load_64:\n \tnop\n \taddq\t$30, 16*8, $30\n \tret\n+$LFE2:\n \n \t.end\tffi_closure_osf\n \n@@ -275,3 +284,63 @@ $load_table:\n \t|| FFI_TYPE_LAST != 14\n #error \"osf.S out of sync with ffi.h\"\n #endif\n+\n+\t.section\t.eh_frame,\"aw\",@progbits\n+__FRAME_BEGIN__:\n+\t.4byte\t$LECIE1-$LSCIE1\t # Length of Common Information Entry\n+$LSCIE1:\n+\t.4byte\t0x0\t # CIE Identifier Tag\n+\t.byte\t0x1\t # CIE Version\n+\t.ascii \"zR\\0\"\t # CIE Augmentation\n+\t.byte\t0x1\t # uleb128 0x1; CIE Code Alignment Factor\n+\t.byte\t0x78\t # sleb128 -8; CIE Data Alignment Factor\n+\t.byte\t0x1a\t # CIE RA Column\n+\t.byte\t0x1\t # uleb128 0x1; Augmentation size\n+\t.byte\t0x1b\t # FDE Encoding (pcrel sdata4)\n+\t.byte\t0xc\t # DW_CFA_def_cfa\n+\t.byte\t0x1e\t # uleb128 0x1e\n+\t.byte\t0x0\t # uleb128 0x0\n+\t.align 3\n+$LECIE1:\n+$LSFDE1:\n+\t.4byte\t$LEFDE1-$LASFDE1\t # FDE Length\n+$LASFDE1:\n+\t.4byte\t$LASFDE1-__FRAME_BEGIN__\t # FDE CIE offset\n+\t.4byte\t$LFB1-.\t # FDE initial location\n+\t.4byte\t$LFE1-$LFB1\t # FDE address range\n+\t.byte\t0x0\t # uleb128 0x0; Augmentation size\n+\t.byte\t0x4\t # DW_CFA_advance_loc4\n+\t.4byte\t$LCFI0-$LFB1\n+\t.byte\t0xe\t # DW_CFA_def_cfa_offset\n+\t.byte\t0x30\t # uleb128 0x30\n+\t.byte\t0x4\t # DW_CFA_advance_loc4\n+\t.4byte\t$LCFI1-$LCFI0\n+\t.byte\t0x9a\t # DW_CFA_offset, column 0x1a\n+\t.byte\t0x6\t # uleb128 0x6\n+\t.byte\t0x8f\t # DW_CFA_offset, column 0xf\n+\t.byte\t0x5\t # uleb128 0x5\n+\t.byte\t0x4\t # DW_CFA_advance_loc4\n+\t.4byte\t$LCFI2-$LCFI1\n+\t.byte\t0xc\t # DW_CFA_def_cfa\n+\t.byte\t0xf\t # uleb128 0xf\n+\t.byte\t0x30\t # uleb128 0x30\n+\t.align 3\n+$LEFDE1:\n+\n+$LSFDE3:\n+\t.4byte\t$LEFDE3-$LASFDE3\t # FDE Length\n+$LASFDE3:\n+\t.4byte\t$LASFDE3-__FRAME_BEGIN__\t # FDE CIE offset\n+\t.4byte\t$LFB2-.\t # FDE initial location\n+\t.4byte\t$LFE2-$LFB2\t # FDE address range\n+\t.byte\t0x0\t # uleb128 0x0; Augmentation size\n+\t.byte\t0x4\t # DW_CFA_advance_loc4\n+\t.4byte\t$LCFI5-$LFB2\n+\t.byte\t0xe\t # DW_CFA_def_cfa_offset\n+\t.byte\t0x90,0x1\t # uleb128 0x90\n+\t.byte\t0x4\t # DW_CFA_advance_loc4\n+\t.4byte\t$LCFI6-$LCFI5\n+\t.byte\t0x9a\t # DW_CFA_offset, column 0x1a\n+\t.byte\t0x12\t # uleb128 0x12\n+\t.align 3\n+$LEFDE3:"}, {"sha": "a9ea9c7ee520eb00e02dc01c9eb9bda8b6c5cfbb", "filename": "libffi/src/powerpc/ppc_closure.S", "status": "modified", "additions": 36, "deletions": 3, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/552cb45af382c724dc61c28a8e3f452967ef657e/libffi%2Fsrc%2Fpowerpc%2Fppc_closure.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/552cb45af382c724dc61c28a8e3f452967ef657e/libffi%2Fsrc%2Fpowerpc%2Fppc_closure.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fsrc%2Fpowerpc%2Fppc_closure.S?ref=552cb45af382c724dc61c28a8e3f452967ef657e", "patch": "@@ -4,9 +4,12 @@\n .globl\tffi_closure_helper_SYSV\n \n ENTRY(ffi_closure_SYSV)\n+.LFB1:\n \tstwu %r1,-144(%r1)\n+.LCFI0:\n \tmflr %r0\n \tstw %r31,140(%r1)\n+.LCFI1:\n \tstw %r0,148(%r1)\n \n # we want to build up an areas for the parameters passed\n@@ -67,6 +70,7 @@ ENTRY(ffi_closure_SYSV)\n \tadd %r3,%r3,%r4          # add contents of table to table address\n \tmtctr %r3\n \tbctr               # jump to it\n+.LFE1:\n \t.align 2\n .L60:\n \t.long .L44-.L60    # FFI_TYPE_VOID\n@@ -143,6 +147,35 @@ ENTRY(ffi_closure_SYSV)\n \tblr\n END(ffi_closure_SYSV)\n \n-\n-\n-\n+\t.section\t\".eh_frame\",\"aw\"\n+__FRAME_BEGIN__:\n+\t.4byte\t.LECIE1-.LSCIE1\t # Length of Common Information Entry\n+.LSCIE1:\n+\t.4byte\t0x0\t # CIE Identifier Tag\n+\t.byte\t0x1\t # CIE Version\n+\t.ascii \"\\0\"\t # CIE Augmentation\n+\t.byte\t0x1\t # uleb128 0x1; CIE Code Alignment Factor\n+\t.byte\t0x7c\t # sleb128 -4; CIE Data Alignment Factor\n+\t.byte\t0x41\t # CIE RA Column\n+\t.byte\t0xc\t # DW_CFA_def_cfa\n+\t.byte\t0x1\t # uleb128 0x1\n+\t.byte\t0x0\t # uleb128 0x0\n+\t.align 2\n+.LECIE1:\n+.LSFDE1:\n+\t.4byte\t.LEFDE1-.LASFDE1\t # FDE Length\n+.LASFDE1:\n+\t.4byte\t.LASFDE1-__FRAME_BEGIN__\t # FDE CIE offset\n+\t.4byte\t.LFB1\t # FDE initial location\n+\t.4byte\t.LFE1-.LFB1\t # FDE address range\n+\t.byte\t0x4\t # DW_CFA_advance_loc4\n+\t.4byte\t.LCFI0-.LFB1\n+\t.byte\t0xe\t # DW_CFA_def_cfa_offset\n+\t.byte\t144,1\t # uleb128 144\n+\t.byte\t0x4\t # DW_CFA_advance_loc4\n+\t.4byte\t.LCFI1-.LCFI0\n+\t.byte\t0x2f\t # DW_CFA_GNU_negative_offset_extended\n+\t.byte\t0x41\t # uleb128 0x41\n+\t.byte\t0x1\t # uleb128 0x1\n+\t.align 2\n+.LEFDE1:"}, {"sha": "538ffa83bdb691d614ca14d54889dab00e6c16db", "filename": "libffi/src/powerpc/sysv.S", "status": "modified", "additions": 54, "deletions": 0, "changes": 54, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/552cb45af382c724dc61c28a8e3f452967ef657e/libffi%2Fsrc%2Fpowerpc%2Fsysv.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/552cb45af382c724dc61c28a8e3f452967ef657e/libffi%2Fsrc%2Fpowerpc%2Fsysv.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fsrc%2Fpowerpc%2Fsysv.S?ref=552cb45af382c724dc61c28a8e3f452967ef657e", "patch": "@@ -31,24 +31,32 @@\n \n \t.globl ffi_prep_args\n ENTRY(ffi_call_SYSV)\n+.LFB1:\n \t/* Save the old stack pointer as AP.  */\n \tmr\t%r8,%r1\n \n+.LCFI0:\n \t/* Allocate the stack space we need.  */\n \tstwux\t%r1,%r1,%r4\n \t/* Save registers we use.  */\n \tmflr\t%r9\n \tstw\t%r28,-16(%r8)\n+.LCFI1:\n \tstw\t%r29,-12(%r8)\n+.LCFI2:\n \tstw\t%r30, -8(%r8)\n+.LCFI3:\n \tstw\t%r31, -4(%r8)\n+.LCFI4:\n \tstw\t%r9,   4(%r8)\n+.LCFI5:\n \n \t/* Save arguments over call...  */\n \tmr\t%r31,%r5\t/* flags, */\n \tmr\t%r30,%r6\t/* rvalue, */\n \tmr\t%r29,%r7\t/* function address, */\n \tmr\t%r28,%r8\t/* our AP. */\n+.LCFI6:\n \n \t/* Call ffi_prep_args.  */\n \tmr\t%r4,%r1\n@@ -116,4 +124,50 @@ L(fp_return_value):\n L(float_return_value):\n \tstfs\t%f1,0(%r30)\n \tb\tL(done_return_value)\n+.LFE1:\n END(ffi_call_SYSV)\n+\n+      .section  \".eh_frame\",\"aw\"\n+__FRAME_BEGIN__:\n+      .4byte    .LECIE1-.LSCIE1  /*  Length of Common Information Entry */\n+.LSCIE1:\n+      .4byte    0x0      /*  CIE Identifier Tag */\n+      .byte     0x1      /*  CIE Version */\n+      .ascii \"\\0\"        /*  CIE Augmentation */\n+      .byte     0x1      /*  uleb128 0x1; CIE Code Alignment Factor */\n+      .byte     0x7c     /*  sleb128 -4; CIE Data Alignment Factor */\n+      .byte     0x41     /*  CIE RA Column */\n+      .byte     0xc      /*  DW_CFA_def_cfa */\n+      .byte     0x1      /*  uleb128 0x1 */\n+      .byte     0x0      /*  uleb128 0x0 */\n+      .align 2\n+.LECIE1:\n+.LSFDE1:\n+      .4byte    .LEFDE1-.LASFDE1         /*  FDE Length */\n+.LASFDE1:\n+      .4byte    .LASFDE1-__FRAME_BEGIN__         /*  FDE CIE offset */\n+      .4byte    .LFB1    /*  FDE initial location */\n+      .4byte    .LFE1-.LFB1      /*  FDE address range */\n+      .byte     0x4      /*  DW_CFA_advance_loc4 */\n+      .4byte    .LCFI0-.LFB1\n+      .byte     0xd      /*  DW_CFA_def_cfa_register */\n+      .byte     0x08     /*  uleb128 0x08 */\n+      .byte     0x4      /*  DW_CFA_advance_loc4 */\n+      .4byte    .LCFI5-.LCFI0\n+      .byte     0x2f     /*  DW_CFA_GNU_negative_offset_extended */\n+      .byte     0x41     /*  uleb128 0x41 */\n+      .byte     0x1      /*  uleb128 0x1 */\n+      .byte     0x9f     /*  DW_CFA_offset, column 0x1f */\n+      .byte     0x1      /*  uleb128 0x1 */\n+      .byte     0x9e     /*  DW_CFA_offset, column 0x1e */\n+      .byte     0x2      /*  uleb128 0x2 */\n+      .byte     0x9d     /*  DW_CFA_offset, column 0x1d */\n+      .byte     0x3      /*  uleb128 0x3 */\n+      .byte     0x9c     /*  DW_CFA_offset, column 0x1c */\n+      .byte     0x4      /*  uleb128 0x4 */\n+      .byte     0x4      /*  DW_CFA_advance_loc4 */\n+      .4byte    .LCFI6-.LCFI5\n+      .byte     0xd      /*  DW_CFA_def_cfa_register */\n+      .byte     0x1c     /*  uleb128 0x1c */\n+      .align 2\n+.LEFDE1:"}]}