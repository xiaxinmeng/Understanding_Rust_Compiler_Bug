{"sha": "9d827cd5792155202a12d13b04c36abc1b29189d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWQ4MjdjZDU3OTIxNTUyMDJhMTJkMTNiMDRjMzZhYmMxYjI5MTg5ZA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-07-31T10:11:39Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-07-31T10:11:39Z"}, "message": "[multiple changes]\n\n2014-07-31  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_ch3.adb (Make_Index): Reject properly the use of 'Length\n\tin a discrete range, when 'range was probably intended.\n\n2014-07-31  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_warn.adb, sem_warn.ads (Has_Junk_Name): Moved from body to spec.\n\nFrom-SVN: r213339", "tree": {"sha": "a4b1b0aa22f1442f5a2f2a3cfbd7f7a0b8187370", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a4b1b0aa22f1442f5a2f2a3cfbd7f7a0b8187370"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9d827cd5792155202a12d13b04c36abc1b29189d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d827cd5792155202a12d13b04c36abc1b29189d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d827cd5792155202a12d13b04c36abc1b29189d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d827cd5792155202a12d13b04c36abc1b29189d/comments", "author": null, "committer": null, "parents": [{"sha": "9d2a20713d87bed983029db5ffacb8dc06662ff6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d2a20713d87bed983029db5ffacb8dc06662ff6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d2a20713d87bed983029db5ffacb8dc06662ff6"}], "stats": {"total": 45, "additions": 32, "deletions": 13}, "files": [{"sha": "c4d668a1beb7cfc65e417f43c93e19eb17eb5e2b", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d827cd5792155202a12d13b04c36abc1b29189d/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d827cd5792155202a12d13b04c36abc1b29189d/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=9d827cd5792155202a12d13b04c36abc1b29189d", "patch": "@@ -1,3 +1,12 @@\n+2014-07-31  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_ch3.adb (Make_Index): Reject properly the use of 'Length\n+\tin a discrete range, when 'range was probably intended.\n+\n+2014-07-31  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_warn.adb, sem_warn.ads (Has_Junk_Name): Moved from body to spec.\n+\n 2014-07-31  Robert Dewar  <dewar@adacore.com>\n \n \t* frontend.adb: Minor reformatting."}, {"sha": "2d5a430d4359ade741ec5a94705186f8da2577d4", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d827cd5792155202a12d13b04c36abc1b29189d/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d827cd5792155202a12d13b04c36abc1b29189d/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=9d827cd5792155202a12d13b04c36abc1b29189d", "patch": "@@ -17285,10 +17285,16 @@ package body Sem_Ch3 is\n \n       elsif Nkind (N) = N_Attribute_Reference then\n \n-         --  The parser guarantees that the attribute is a RANGE attribute\n+         --  Catch beginner's error (use of attribute other than 'Range)\n+\n+         if Attribute_Name (N) /= Name_Range then\n+            Error_Msg_N (\"expect attribute ''Range\", N);\n+            Set_Etype (N, Any_Type);\n+            return;\n+         end if;\n \n          --  If the node denotes the range of a type mark, that is also the\n-         --  resulting type, and we do no need to create an Itype for it.\n+         --  resulting type, and we do not need to create an Itype for it.\n \n          if Is_Entity_Name (Prefix (N))\n            and then Comes_From_Source (N)"}, {"sha": "6974c454c113191a363a9efb300874b6eb3bd369", "filename": "gcc/ada/sem_warn.adb", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d827cd5792155202a12d13b04c36abc1b29189d/gcc%2Fada%2Fsem_warn.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d827cd5792155202a12d13b04c36abc1b29189d/gcc%2Fada%2Fsem_warn.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_warn.adb?ref=9d827cd5792155202a12d13b04c36abc1b29189d", "patch": "@@ -128,16 +128,6 @@ package body Sem_Warn is\n    --  If E is a parameter entity for a subprogram body, then this function\n    --  returns the corresponding spec entity, if not, E is returned unchanged.\n \n-   function Has_Junk_Name (E : Entity_Id) return Boolean;\n-   --  Return True if the entity name contains any of the following substrings:\n-   --    discard\n-   --    dummy\n-   --    ignore\n-   --    junk\n-   --    unused\n-   --  Used to suppress warnings on names matching these patterns. The contents\n-   --  of Name_Buffer and Name_Len are destroyed by this call.\n-\n    function Has_Pragma_Unmodified_Check_Spec (E : Entity_Id) return Boolean;\n    --  Tests Has_Pragma_Unmodified flag for entity E. If E is not a formal,\n    --  this is simply the setting of the flag Has_Pragma_Unmodified. If E is"}, {"sha": "41c5a22e3e97f257f9f360a9d74ba460fbee66ea", "filename": "gcc/ada/sem_warn.ads", "status": "modified", "additions": 15, "deletions": 1, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d827cd5792155202a12d13b04c36abc1b29189d/gcc%2Fada%2Fsem_warn.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d827cd5792155202a12d13b04c36abc1b29189d/gcc%2Fada%2Fsem_warn.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_warn.ads?ref=9d827cd5792155202a12d13b04c36abc1b29189d", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1999-2013, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1999-2014, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -239,4 +239,18 @@ package Sem_Warn is\n    --  block or subprogram to see if there are any variables for which useless\n    --  assignments were made (assignments whose values were never read).\n \n+   ----------------------\n+   -- Utility Routines --\n+   ----------------------\n+\n+   function Has_Junk_Name (E : Entity_Id) return Boolean;\n+   --  Return True if the entity name contains any of the following substrings:\n+   --    discard\n+   --    dummy\n+   --    ignore\n+   --    junk\n+   --    unused\n+   --  Used to suppress warnings on names matching these patterns. The contents\n+   --  of Name_Buffer and Name_Len are destroyed by this call.\n+\n end Sem_Warn;"}]}