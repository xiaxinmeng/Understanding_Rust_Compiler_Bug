{"sha": "6df1f72e94e2d66a56952b541d66739e5f43165b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmRmMWY3MmU5NGUyZDY2YTU2OTUyYjU0MWQ2NjczOWU1ZjQzMTY1Yg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-02-10T22:35:32Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-02-10T22:35:32Z"}, "message": "Determine types in global variable preinit blocks.\n\nFrom-SVN: r170025", "tree": {"sha": "45ee38d86ef1ea7fdb3ebe2e7b4432a856ff98c2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/45ee38d86ef1ea7fdb3ebe2e7b4432a856ff98c2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6df1f72e94e2d66a56952b541d66739e5f43165b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6df1f72e94e2d66a56952b541d66739e5f43165b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6df1f72e94e2d66a56952b541d66739e5f43165b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6df1f72e94e2d66a56952b541d66739e5f43165b/comments", "author": null, "committer": null, "parents": [{"sha": "a14dd08adf1e1a3deaf6baf1ffdf55f8143f00f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a14dd08adf1e1a3deaf6baf1ffdf55f8143f00f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a14dd08adf1e1a3deaf6baf1ffdf55f8143f00f9"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "e3c56b6318d0b6476d01654c43d2a952b910e697", "filename": "gcc/go/gofrontend/gogo.cc", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6df1f72e94e2d66a56952b541d66739e5f43165b/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6df1f72e94e2d66a56952b541d66739e5f43165b/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.cc?ref=6df1f72e94e2d66a56952b541d66739e5f43165b", "patch": "@@ -3357,6 +3357,9 @@ Variable::type() const\n void\n Variable::determine_type()\n {\n+  if (this->preinit_ != NULL)\n+    this->preinit_->determine_types();\n+\n   // A variable in a type switch with a nil case will have the wrong\n   // type here.  It will have an initializer which is a type guard.\n   // We want to initialize it to the value without the type guard, and"}]}