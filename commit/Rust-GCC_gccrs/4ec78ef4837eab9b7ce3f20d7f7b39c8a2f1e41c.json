{"sha": "4ec78ef4837eab9b7ce3f20d7f7b39c8a2f1e41c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGVjNzhlZjQ4MzdlYWI5YjdjZTNmMjBkN2Y3YjM5YzhhMmYxZTQxYw==", "commit": {"author": {"name": "Maciej W. Rozycki", "email": "macro@linux-mips.org", "date": "2020-12-05T18:26:24Z"}, "committer": {"name": "Maciej W. Rozycki", "email": "macro@linux-mips.org", "date": "2020-12-05T18:26:24Z"}, "message": "sel-sched-ir: Add missing call to `onlyjump_p'\n\nDo not try to remove a conditional jump if it has side effects.\n\n\tgcc/\n\t* sel-sched-ir.c (maybe_tidy_empty_bb): Only try to remove a\n\tconditional jump if `onlyjump_p'.", "tree": {"sha": "849341c4ef855611a99fe611ab7de89fbcfa2777", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/849341c4ef855611a99fe611ab7de89fbcfa2777"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4ec78ef4837eab9b7ce3f20d7f7b39c8a2f1e41c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ec78ef4837eab9b7ce3f20d7f7b39c8a2f1e41c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ec78ef4837eab9b7ce3f20d7f7b39c8a2f1e41c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ec78ef4837eab9b7ce3f20d7f7b39c8a2f1e41c/comments", "author": null, "committer": null, "parents": [{"sha": "a2bd4e52cf710924107b08daaf3d09d7798c8022", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2bd4e52cf710924107b08daaf3d09d7798c8022", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2bd4e52cf710924107b08daaf3d09d7798c8022"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "2bcd398391b4d32d77bf9a2b858030b7487cbc3a", "filename": "gcc/sel-sched-ir.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ec78ef4837eab9b7ce3f20d7f7b39c8a2f1e41c/gcc%2Fsel-sched-ir.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ec78ef4837eab9b7ce3f20d7f7b39c8a2f1e41c/gcc%2Fsel-sched-ir.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsel-sched-ir.c?ref=4ec78ef4837eab9b7ce3f20d7f7b39c8a2f1e41c", "patch": "@@ -3793,7 +3793,8 @@ maybe_tidy_empty_bb (basic_block bb)\n \t  else if (single_succ_p (pred_bb) && any_condjump_p (BB_END (pred_bb)))\n \t    {\n \t      /* If possible, try to remove the unneeded conditional jump.  */\n-\t      if (INSN_SCHED_TIMES (BB_END (pred_bb)) == 0\n+\t      if (onlyjump_p (BB_END (pred_bb))\n+\t\t  && INSN_SCHED_TIMES (BB_END (pred_bb)) == 0\n \t\t  && !IN_CURRENT_FENCE_P (BB_END (pred_bb)))\n \t\t{\n \t\t  if (!sel_remove_insn (BB_END (pred_bb), false, false))"}]}