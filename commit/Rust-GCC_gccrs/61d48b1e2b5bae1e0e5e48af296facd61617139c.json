{"sha": "61d48b1e2b5bae1e0e5e48af296facd61617139c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjFkNDhiMWUyYjViYWUxZTBlNWU0OGFmMjk2ZmFjZDYxNjE3MTM5Yw==", "commit": {"author": {"name": "Tom Tromey", "email": "tom@tromey.com", "date": "2021-05-04T21:26:58Z"}, "committer": {"name": "Tom Tromey", "email": "tom@tromey.com", "date": "2021-05-05T06:08:52Z"}, "message": "libcc1: avoid a call to c_str\n\nThis is a trivial change to libcc1 to avoid an explicit call to c_str.\nPassing by const reference is slightly less wordy.\n\nlibcc1\n\n\t* compiler.cc (make_regexp): Take const std::string.\n\t(cc1_plugin::compiler_triplet_regexp::find): Update.", "tree": {"sha": "7bae3f163d378f0bbfa8a746be573ee60f35044b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7bae3f163d378f0bbfa8a746be573ee60f35044b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/61d48b1e2b5bae1e0e5e48af296facd61617139c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61d48b1e2b5bae1e0e5e48af296facd61617139c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61d48b1e2b5bae1e0e5e48af296facd61617139c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61d48b1e2b5bae1e0e5e48af296facd61617139c/comments", "author": {"login": "tromey", "id": 1557670, "node_id": "MDQ6VXNlcjE1NTc2NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tromey", "html_url": "https://github.com/tromey", "followers_url": "https://api.github.com/users/tromey/followers", "following_url": "https://api.github.com/users/tromey/following{/other_user}", "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}", "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tromey/subscriptions", "organizations_url": "https://api.github.com/users/tromey/orgs", "repos_url": "https://api.github.com/users/tromey/repos", "events_url": "https://api.github.com/users/tromey/events{/privacy}", "received_events_url": "https://api.github.com/users/tromey/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tromey", "id": 1557670, "node_id": "MDQ6VXNlcjE1NTc2NzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1557670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tromey", "html_url": "https://github.com/tromey", "followers_url": "https://api.github.com/users/tromey/followers", "following_url": "https://api.github.com/users/tromey/following{/other_user}", "gists_url": "https://api.github.com/users/tromey/gists{/gist_id}", "starred_url": "https://api.github.com/users/tromey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tromey/subscriptions", "organizations_url": "https://api.github.com/users/tromey/orgs", "repos_url": "https://api.github.com/users/tromey/repos", "events_url": "https://api.github.com/users/tromey/events{/privacy}", "received_events_url": "https://api.github.com/users/tromey/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "96deddca2e535d09db1d244a96a1efc20e24b673", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96deddca2e535d09db1d244a96a1efc20e24b673", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96deddca2e535d09db1d244a96a1efc20e24b673"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "a12843c538ae544edeb4eff20e3efd934cc90f56", "filename": "libcc1/compiler.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61d48b1e2b5bae1e0e5e48af296facd61617139c/libcc1%2Fcompiler.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61d48b1e2b5bae1e0e5e48af296facd61617139c/libcc1%2Fcompiler.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcc1%2Fcompiler.cc?ref=61d48b1e2b5bae1e0e5e48af296facd61617139c", "patch": "@@ -28,7 +28,7 @@ along with GCC; see the file COPYING3.  If not see\n \n // Construct an appropriate regexp to match the compiler name.\n static std::string\n-make_regexp (const char *triplet_regexp, const char *compiler)\n+make_regexp (const std::string &triplet_regexp, const char *compiler)\n {\n   std::stringstream buf;\n \n@@ -71,7 +71,7 @@ char *\n cc1_plugin::compiler_triplet_regexp::find (const char *base,\n \t\t\t\t\t   std::string &compiler) const\n {\n-  std::string rx = make_regexp (triplet_regexp_.c_str (), base);\n+  std::string rx = make_regexp (triplet_regexp_, base);\n   if (verbose)\n     fprintf (stderr, _(\"searching for compiler matching regex %s\\n\"),\n \t     rx.c_str());"}]}