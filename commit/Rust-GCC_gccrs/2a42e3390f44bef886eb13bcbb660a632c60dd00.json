{"sha": "2a42e3390f44bef886eb13bcbb660a632c60dd00", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmE0MmUzMzkwZjQ0YmVmODg2ZWIxM2JjYmI2NjBhNjMyYzYwZGQwMA==", "commit": {"author": {"name": "Claudiu Zissulescu", "email": "claziss@synopsys.com", "date": "2016-01-26T16:06:16Z"}, "committer": {"name": "Claudiu Zissulescu", "email": "claziss@gcc.gnu.org", "date": "2016-01-26T16:06:16Z"}, "message": "[ARC] Fix arcset* pattern's predicate.\n\ngcc/\n2016-01-26  Claudiu Zissulescu  <claziss@synopsys.com>\n\n        * config/arc/arc.md (cstoresi4): Force operand into register.\n        (arcset<code>): Fix predicate.\n        (arcsetltu): Likewise.\n        (arcsetgeu): Likewise.\n        (arcsethi): Likewise.\n        (arcsetls): Likewise.\n\nFrom-SVN: r232834", "tree": {"sha": "770914a7e6e21d6f1f85e4e14492793776366fd5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/770914a7e6e21d6f1f85e4e14492793776366fd5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2a42e3390f44bef886eb13bcbb660a632c60dd00", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a42e3390f44bef886eb13bcbb660a632c60dd00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a42e3390f44bef886eb13bcbb660a632c60dd00", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a42e3390f44bef886eb13bcbb660a632c60dd00/comments", "author": {"login": "claziss", "id": 2761368, "node_id": "MDQ6VXNlcjI3NjEzNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/2761368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/claziss", "html_url": "https://github.com/claziss", "followers_url": "https://api.github.com/users/claziss/followers", "following_url": "https://api.github.com/users/claziss/following{/other_user}", "gists_url": "https://api.github.com/users/claziss/gists{/gist_id}", "starred_url": "https://api.github.com/users/claziss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/claziss/subscriptions", "organizations_url": "https://api.github.com/users/claziss/orgs", "repos_url": "https://api.github.com/users/claziss/repos", "events_url": "https://api.github.com/users/claziss/events{/privacy}", "received_events_url": "https://api.github.com/users/claziss/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "13f92e8df561c41de9f7f3ed9aa25bf963ab8f20", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13f92e8df561c41de9f7f3ed9aa25bf963ab8f20", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13f92e8df561c41de9f7f3ed9aa25bf963ab8f20"}], "stats": {"total": 27, "additions": 20, "deletions": 7}, "files": [{"sha": "6518a3b184139adc46468c832da2fc386846a998", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a42e3390f44bef886eb13bcbb660a632c60dd00/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a42e3390f44bef886eb13bcbb660a632c60dd00/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2a42e3390f44bef886eb13bcbb660a632c60dd00", "patch": "@@ -1,3 +1,12 @@\n+2016-01-26  Claudiu Zissulescu  <claziss@synopsys.com>\n+\n+        * config/arc/arc.md (cstoresi4): Force operand into register.\n+        (arcset<code>): Fix predicate.\n+        (arcsetltu): Likewise.\n+        (arcsetgeu): Likewise.\n+        (arcsethi): Likewise.\n+        (arcsetls): Likewise.\n+\n 2016-01-26  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/69483"}, {"sha": "602cf0b72c751623b64d6924276f7545bcfbbc6b", "filename": "gcc/config/arc/arc.md", "status": "modified", "additions": 11, "deletions": 7, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a42e3390f44bef886eb13bcbb660a632c60dd00/gcc%2Fconfig%2Farc%2Farc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a42e3390f44bef886eb13bcbb660a632c60dd00/gcc%2Fconfig%2Farc%2Farc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Farc.md?ref=2a42e3390f44bef886eb13bcbb660a632c60dd00", "patch": "@@ -3346,8 +3346,9 @@\n \n (define_expand \"cstoresi4\"\n   [(set (match_operand:SI 0 \"dest_reg_operand\" \"\")\n-\t(match_operator:SI 1 \"ordered_comparison_operator\" [(match_operand:SI 2 \"nonmemory_operand\" \"\")\n-\t\t\t\t\t\t\t    (match_operand:SI 3 \"nonmemory_operand\" \"\")]))]\n+\t(match_operator:SI 1 \"ordered_comparison_operator\"\n+\t\t\t   [(match_operand:SI 2 \"nonmemory_operand\" \"\")\n+\t\t\t    (match_operand:SI 3 \"nonmemory_operand\" \"\")]))]\n   \"\"\n {\n   if (!TARGET_CODE_DENSITY)\n@@ -3358,6 +3359,9 @@\n    emit_insn (gen_scc_insn (operands[0], operands[1]));\n    DONE;\n   }\n+  if (!register_operand (operands[2], SImode))\n+    operands[2] = force_reg (SImode, operands[2]);\n+\n })\n \n (define_mode_iterator SDF [SF DF])\n@@ -5414,7 +5418,7 @@\n \n (define_insn \"arcset<code>\"\n   [(set (match_operand:SI 0 \"register_operand\"                \"=r,r,r,r,r,r,r\")\n-\t(arcCC_cond:SI (match_operand:SI 1 \"nonmemory_operand\" \"0,r,0,r,0,0,r\")\n+\t(arcCC_cond:SI (match_operand:SI 1 \"register_operand\"  \"0,r,0,r,0,0,r\")\n \t\t       (match_operand:SI 2 \"nonmemory_operand\" \"r,r,L,L,I,n,n\")))]\n   \"TARGET_V2 && TARGET_CODE_DENSITY\"\n   \"set<code>%? %0, %1, %2\"\n@@ -5427,7 +5431,7 @@\n \n (define_insn \"arcsetltu\"\n   [(set (match_operand:SI 0 \"register_operand\"         \"=r,r,r,r,r,  r,  r\")\n-\t(ltu:SI (match_operand:SI 1 \"nonmemory_operand\" \"0,r,0,r,0,  0,  r\")\n+\t(ltu:SI (match_operand:SI 1 \"register_operand\"  \"0,r,0,r,0,  0,  r\")\n \t\t(match_operand:SI 2 \"nonmemory_operand\" \"r,r,L,L,I,  n,  n\")))]\n   \"TARGET_V2 && TARGET_CODE_DENSITY\"\n   \"setlo%? %0, %1, %2\"\n@@ -5440,7 +5444,7 @@\n \n (define_insn \"arcsetgeu\"\n   [(set (match_operand:SI 0 \"register_operand\"         \"=r,r,r,r,r,  r,  r\")\n-\t(geu:SI (match_operand:SI 1 \"nonmemory_operand\" \"0,r,0,r,0,  0,  r\")\n+\t(geu:SI (match_operand:SI 1 \"register_operand\"  \"0,r,0,r,0,  0,  r\")\n \t\t(match_operand:SI 2 \"nonmemory_operand\" \"r,r,L,L,I,  n,  n\")))]\n   \"TARGET_V2 && TARGET_CODE_DENSITY\"\n   \"seths%? %0, %1, %2\"\n@@ -5454,7 +5458,7 @@\n ;; Special cases of SETCC\n (define_insn_and_split \"arcsethi\"\n   [(set (match_operand:SI 0 \"register_operand\"         \"=r,r,  r,r\")\n-\t(gtu:SI (match_operand:SI 1 \"nonmemory_operand\" \"r,r,  r,r\")\n+\t(gtu:SI (match_operand:SI 1 \"register_operand\"  \"r,r,  r,r\")\n \t\t(match_operand:SI 2 \"nonmemory_operand\" \"0,r,C62,n\")))]\n   \"TARGET_V2 && TARGET_CODE_DENSITY\"\n   \"setlo%? %0, %2, %1\"\n@@ -5477,7 +5481,7 @@\n \n (define_insn_and_split \"arcsetls\"\n   [(set (match_operand:SI 0 \"register_operand\"         \"=r,r,  r,r\")\n-\t(leu:SI (match_operand:SI 1 \"nonmemory_operand\" \"r,r,  r,r\")\n+\t(leu:SI (match_operand:SI 1 \"register_operand\"  \"r,r,  r,r\")\n \t\t(match_operand:SI 2 \"nonmemory_operand\" \"0,r,C62,n\")))]\n   \"TARGET_V2 && TARGET_CODE_DENSITY\"\n   \"seths%? %0, %2, %1\""}]}