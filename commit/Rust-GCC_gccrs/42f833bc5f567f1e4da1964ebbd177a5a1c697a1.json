{"sha": "42f833bc5f567f1e4da1964ebbd177a5a1c697a1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDJmODMzYmM1ZjU2N2YxZTRkYTE5NjRlYmJkMTc3YTVhMWM2OTdhMQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2011-09-13T14:28:39Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2011-09-13T14:28:39Z"}, "message": "re PR other/49533 (Revision 174989 (ipa-inline-transform.c)  regressions)\n\n\n\tPR other/49533\n\t* cgraphunit.c (assemble_thunks_and_aliases): Force alias to be output.\n\nFrom-SVN: r178810", "tree": {"sha": "c2fe857896547b181d436cf0ee496993ec3cc1c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c2fe857896547b181d436cf0ee496993ec3cc1c3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/42f833bc5f567f1e4da1964ebbd177a5a1c697a1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42f833bc5f567f1e4da1964ebbd177a5a1c697a1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42f833bc5f567f1e4da1964ebbd177a5a1c697a1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42f833bc5f567f1e4da1964ebbd177a5a1c697a1/comments", "author": null, "committer": null, "parents": [{"sha": "aa74f0812b00fac091d17deceec9e464bb48268a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa74f0812b00fac091d17deceec9e464bb48268a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa74f0812b00fac091d17deceec9e464bb48268a"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "33278d880ae3ef7e4befc53db61cd86566cd4bd6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42f833bc5f567f1e4da1964ebbd177a5a1c697a1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42f833bc5f567f1e4da1964ebbd177a5a1c697a1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=42f833bc5f567f1e4da1964ebbd177a5a1c697a1", "patch": "@@ -1,6 +1,11 @@\n 2011-09-13  Jan Hubicka  <jh@suse.cz>\n \n-\tother/49533\n+\tPR other/49533\n+\t* cgraphunit.c (assemble_thunks_and_aliases): Force alias to be output.\n+\n+2011-09-13  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR other/49533\n \t* ipa-inline-transform.c (can_remove_node_now_p): Fix thunkos.\n \n 2011-09-13  Paul Brook  <paul@codesourcery.com>"}, {"sha": "2dedcc5c31a27b7dc53383472ac039f8ecc39e83", "filename": "gcc/cgraphunit.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42f833bc5f567f1e4da1964ebbd177a5a1c697a1/gcc%2Fcgraphunit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42f833bc5f567f1e4da1964ebbd177a5a1c697a1/gcc%2Fcgraphunit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphunit.c?ref=42f833bc5f567f1e4da1964ebbd177a5a1c697a1", "patch": "@@ -1772,9 +1772,15 @@ assemble_thunks_and_aliases (struct cgraph_node *node)\n     if (ref->use == IPA_REF_ALIAS)\n       {\n \tstruct cgraph_node *alias = ipa_ref_refering_node (ref);\n+        bool saved_written = TREE_ASM_WRITTEN (alias->thunk.alias);\n+\n+\t/* Force assemble_alias to really output the alias this time instead\n+\t   of buffering it in same alias pairs.  */\n+\tTREE_ASM_WRITTEN (alias->thunk.alias) = 1;\n \tassemble_alias (alias->decl,\n \t\t\tDECL_ASSEMBLER_NAME (alias->thunk.alias));\n \tassemble_thunks_and_aliases (alias);\n+\tTREE_ASM_WRITTEN (alias->thunk.alias) = saved_written;\n       }\n }\n "}]}