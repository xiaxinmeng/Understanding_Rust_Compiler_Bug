{"sha": "f5546425e91646b6997ed7ceb397f84db9b26271", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjU1NDY0MjVlOTE2NDZiNjk5N2VkN2NlYjM5N2Y4NGRiOWIyNjI3MQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-06-12T15:45:32Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-06-12T15:45:32Z"}, "message": "reorg.c (emit_delay_sequence): Call set_new_first_and_last_insn after the new sequence insn has been spliced...\n\n        * reorg.c (emit_delay_sequence): Call set_new_first_and_last_insn\n        after the new sequence insn has been spliced into the insn chain.\n\nFrom-SVN: r14229", "tree": {"sha": "9f21656683ed2ccb00b9dc8478625b545fafe30e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9f21656683ed2ccb00b9dc8478625b545fafe30e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f5546425e91646b6997ed7ceb397f84db9b26271", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5546425e91646b6997ed7ceb397f84db9b26271", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5546425e91646b6997ed7ceb397f84db9b26271", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5546425e91646b6997ed7ceb397f84db9b26271/comments", "author": null, "committer": null, "parents": [{"sha": "e5ffb50c0db1c7bccb63c7af869dc2bae3686368", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5ffb50c0db1c7bccb63c7af869dc2bae3686368", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5ffb50c0db1c7bccb63c7af869dc2bae3686368"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "5f24cfc200c6e19e30d32fec0dd5d5021adcabc5", "filename": "gcc/reorg.c", "status": "modified", "additions": 11, "deletions": 4, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5546425e91646b6997ed7ceb397f84db9b26271/gcc%2Freorg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5546425e91646b6997ed7ceb397f84db9b26271/gcc%2Freorg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freorg.c?ref=f5546425e91646b6997ed7ceb397f84db9b26271", "patch": "@@ -894,15 +894,22 @@ emit_delay_sequence (insn, list, length, avail)\n   NEXT_INSN (seq_insn) = NEXT_INSN (insn);\n   PREV_INSN (seq_insn) = PREV_INSN (insn);\n \n+  if (insn != last)\n+    PREV_INSN (NEXT_INSN (seq_insn)) = seq_insn;\n+\n+  if (insn != first)\n+    NEXT_INSN (PREV_INSN (seq_insn)) = seq_insn;\n+\n+  /* Note the calls to set_new_first_and_last_insn must occur after\n+     SEQ_INSN has been completely spliced into the insn stream.\n+\n+     Otherwise CUR_INSN_UID will get set to an incorrect value because\n+     set_new_first_and_last_insn will not find SEQ_INSN in the chain.  */\n   if (insn == last)\n     set_new_first_and_last_insn (first, seq_insn);\n-  else\n-    PREV_INSN (NEXT_INSN (seq_insn)) = seq_insn;\n \n   if (insn == first)\n     set_new_first_and_last_insn (seq_insn, last);\n-  else\n-    NEXT_INSN (PREV_INSN (seq_insn)) = seq_insn;\n \n   /* Build our SEQUENCE and rebuild the insn chain.  */\n   XVECEXP (seq, 0, 0) = delay_insn;"}]}