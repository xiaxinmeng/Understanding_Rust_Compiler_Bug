{"sha": "fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmIyNWE2MGQ5NjBlYTBiNmVkZjRjMTdlY2YyZTRhYWYyM2FlZmU3Mg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-08-07T09:42:01Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-08-07T09:42:01Z"}, "message": "[multiple changes]\n\n2009-08-07  Robert Dewar  <dewar@adacore.com>\n\n\t* types.ads: Minor reformatting\n\t* sem_ch12.ads (Check_Generic_Child_Unit): Add missing documentation.\n\t* frontend.adb, sem_warn.adb, sem_warn.ads: Fix spelling of\n\tOutput_Non_Modified_In_Out_Warnings.\n\t* sem_ch13.adb: Remove ??? comment.\n\n2009-08-07  Vincent Celier  <celier@adacore.com>\n\n\t* mlib-prj.adb (Build_Library): Include binder generate object file\n\tfor SAL when library name is only one character.\n\nFrom-SVN: r150563", "tree": {"sha": "aaaf0e779192c7a44b2f20a6ed2313a8eaea7d89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aaaf0e779192c7a44b2f20a6ed2313a8eaea7d89"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/comments", "author": null, "committer": null, "parents": [{"sha": "0a69df7c0ed3cf749e9b6e87f5fa14e01553e525", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a69df7c0ed3cf749e9b6e87f5fa14e01553e525", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0a69df7c0ed3cf749e9b6e87f5fa14e01553e525"}], "stats": {"total": 114, "additions": 69, "deletions": 45}, "files": [{"sha": "5c162f53263e151ccafe3167fb808521c777f425", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72", "patch": "@@ -1,3 +1,16 @@\n+2009-08-07  Robert Dewar  <dewar@adacore.com>\n+\n+\t* types.ads: Minor reformatting\n+\t* sem_ch12.ads (Check_Generic_Child_Unit): Add missing documentation.\n+\t* frontend.adb, sem_warn.adb, sem_warn.ads: Fix spelling of\n+\tOutput_Non_Modified_In_Out_Warnings.\n+\t* sem_ch13.adb: Remove ??? comment.\n+\n+2009-08-07  Vincent Celier  <celier@adacore.com>\n+\n+\t* mlib-prj.adb (Build_Library): Include binder generate object file\n+\tfor SAL when library name is only one character.\n+\n 2009-08-07  Thomas Quinot  <quinot@adacore.com>\n \n \t* targparm.adb: Minor reformatting"}, {"sha": "3285acc401c78783e8d44abe79d69b831890ab1f", "filename": "gcc/ada/frontend.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2Ffrontend.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2Ffrontend.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffrontend.adb?ref=fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72", "patch": "@@ -351,7 +351,7 @@ begin\n \n          --  Output waiting warning messages\n \n-         Sem_Warn.Output_Non_Modifed_In_Out_Warnings;\n+         Sem_Warn.Output_Non_Modified_In_Out_Warnings;\n          Sem_Warn.Output_Unreferenced_Messages;\n          Sem_Warn.Check_Unused_Withs;\n          Sem_Warn.Output_Unused_Warnings_Off_Warnings;"}, {"sha": "f15b7c06d27c35f0b58e62c8a28004c13e49d72e", "filename": "gcc/ada/mlib-prj.adb", "status": "modified", "additions": 39, "deletions": 25, "changes": 64, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2Fmlib-prj.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2Fmlib-prj.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmlib-prj.adb?ref=fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72", "patch": "@@ -1337,18 +1337,23 @@ package body MLib.Prj is\n \n          Foreign_Sources := For_Project.Languages.Next /= null;\n          Current_Proj := For_Project;\n-\n          loop\n             if Current_Proj.Object_Directory /= No_Path_Information then\n+\n+               --  The following code gets far too indented, I suggest some\n+               --  procedural abstraction here. How about making this declare\n+               --  block a named procedure???\n+\n                declare\n                   Object_Dir_Path : constant String :=\n                                       Get_Name_String\n                                         (Current_Proj.Object_Directory\n                                          .Display_Name);\n-                  Object_Dir      : Dir_Type;\n-                  Filename        : String (1 .. 255);\n-                  Last            : Natural;\n-                  Id              : Name_Id;\n+\n+                  Object_Dir : Dir_Type;\n+                  Filename   : String (1 .. 255);\n+                  Last       : Natural;\n+                  Id         : Name_Id;\n \n                begin\n                   Open (Dir => Object_Dir, Dir_Name => Object_Dir_Path);\n@@ -1364,11 +1369,12 @@ package body MLib.Prj is\n \n                      if Is_Obj (Filename (1 .. Last)) then\n                         declare\n-                           Object_Path   : constant String :=\n-                                             Normalize_Pathname\n-                                               (Object_Dir_Path &\n-                                                Directory_Separator &\n-                                                Filename (1 .. Last));\n+                           Object_Path  : constant String :=\n+                                            Normalize_Pathname\n+                                              (Object_Dir_Path\n+                                               & Directory_Separator\n+                                               & Filename (1 .. Last));\n+\n                            C_Object_Path : String := Object_Path;\n                            C_Filename    : String := Filename (1 .. Last);\n \n@@ -1395,21 +1401,27 @@ package body MLib.Prj is\n                                                  Ext_To\n                                                    (C_Filename\n                                                       (1 .. Last), \"ali\");\n+\n                                     ALI_Path : constant String :=\n                                                  Ext_To (C_Object_Path, \"ali\");\n-                                    Add_It   : Boolean :=\n-                                                 Foreign_Sources\n-                                                 or else\n-                                                   (Last > 5\n-                                                    and then\n-                                                    C_Filename\n-                                                      (1 .. B_Start'Length) =\n-                                                      B_Start.all);\n-                                    Fname    : File_Name_Type;\n-                                    Proj     : Project_Id;\n-                                    Index    : Unit_Index;\n+\n+                                    Add_It : Boolean;\n+                                    Fname  : File_Name_Type;\n+                                    Proj   : Project_Id;\n+                                    Index  : Unit_Index;\n \n                                  begin\n+                                    --  The following assignment could use\n+                                    --  a comment ???\n+\n+                                    Add_It :=\n+                                      Foreign_Sources\n+                                        or else\n+                                          (Last >= 5\n+                                             and then\n+                                               C_Filename (1 .. B_Start'Length)\n+                                                 = B_Start.all);\n+\n                                     if Is_Regular_File (ALI_Path) then\n \n                                        --  If there is an ALI file, check if\n@@ -1419,8 +1431,9 @@ package body MLib.Prj is\n                                        --  the library.\n \n                                        if not Add_It then\n-                                          Index := Units_Htable.Get_First\n-                                            (In_Tree.Units_HT);\n+                                          Index :=\n+                                            Units_Htable.Get_First\n+                                             (In_Tree.Units_HT);\n                                           while Index /= null loop\n                                              if Index.File_Names (Impl) /=\n                                                null\n@@ -1472,8 +1485,9 @@ package body MLib.Prj is\n \n                                              exit when Add_It;\n \n-                                             Index := Units_Htable.Get_Next\n-                                               (In_Tree.Units_HT);\n+                                             Index :=\n+                                               Units_Htable.Get_Next\n+                                                 (In_Tree.Units_HT);\n                                           end loop;\n                                        end if;\n "}, {"sha": "a79463767ce11eea1e7e0e60cb1d6d9d2dd19fe0", "filename": "gcc/ada/sem_ch12.ads", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2Fsem_ch12.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2Fsem_ch12.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch12.ads?ref=fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2008, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -47,12 +47,14 @@ package Sem_Ch12 is\n    procedure Check_Generic_Child_Unit\n      (Gen_Id           : Node_Id;\n       Parent_Installed : in out Boolean);\n-   --  If the name of the generic unit in an instantiation or a renaming\n-   --  is a selected component, then the prefix may be an instance and the\n-   --  selector may  designate a child unit. Retrieve the parent generic\n-   --  and search for the child unit that must be declared within. Similarly,\n-   --  if this is the name of a generic child unit within an instantiation of\n-   --  its own parent, retrieve the parent generic.\n+   --  If the name of the generic unit in an instantiation or a renaming is a\n+   --  selected component, then the prefix may be an instance and the selector\n+   --  may designate a child unit. Retrieve the parent generic and search for\n+   --  the child unit that must be declared within. Similarly, if this is the\n+   --  name of a generic child unit within an instantiation of its own parent,\n+   --  retrieve the parent generic. If the parent is installed as a result of\n+   --  this call, then Parent_Installed is set True, otherwise Parent_Intalled\n+   --  is unchanged by the call.\n \n    function Copy_Generic_Node\n      (N             : Node_Id;"}, {"sha": "6542dd28174d52cc520fd3435095a6a9d0571b56", "filename": "gcc/ada/sem_ch13.adb", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2Fsem_ch13.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2Fsem_ch13.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch13.adb?ref=fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72", "patch": "@@ -2202,11 +2202,6 @@ package body Sem_Ch13 is\n    -- Analyze_Freeze_Entity --\n    ---------------------------\n \n-   --  This does not belong in sem_ch13, and I don't like the big new\n-   --  dependency on sem_ch3, I would in fact move this to sem_ch3 or\n-   --  somewhere else, and then Add_Internal_Interface_Entitites can be\n-   --  private to sem_ch3.adb. ???\n-\n    procedure Analyze_Freeze_Entity (N : Node_Id) is\n       E : constant Entity_Id := Entity (N);\n "}, {"sha": "33da3b4a401cc0beca52c0a651bc4b8c2ca7a652", "filename": "gcc/ada/sem_warn.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2Fsem_warn.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2Fsem_warn.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_warn.adb?ref=fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72", "patch": "@@ -2603,7 +2603,7 @@ package body Sem_Warn is\n    -- Output_Non_Modified_In_Out_Warnings --\n    -----------------------------------------\n \n-   procedure Output_Non_Modifed_In_Out_Warnings is\n+   procedure Output_Non_Modified_In_Out_Warnings is\n \n       function No_Warn_On_In_Out (E : Entity_Id) return Boolean;\n       --  Given a formal parameter entity E, determines if there is a reason to\n@@ -2700,7 +2700,7 @@ package body Sem_Warn is\n             end if;\n          end;\n       end loop;\n-   end Output_Non_Modifed_In_Out_Warnings;\n+   end Output_Non_Modified_In_Out_Warnings;\n \n    ----------------------------------------\n    -- Output_Obsolescent_Entity_Warnings --"}, {"sha": "4ab97be7d6707368653125f325f6b3483b799f0f", "filename": "gcc/ada/sem_warn.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2Fsem_warn.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2Fsem_warn.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_warn.ads?ref=fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72", "patch": "@@ -138,7 +138,7 @@ package Sem_Warn is\n    -- Output Routines --\n    ---------------------\n \n-   procedure Output_Non_Modifed_In_Out_Warnings;\n+   procedure Output_Non_Modified_In_Out_Warnings;\n    --  Warnings about IN OUT parameters that could be IN are collected till\n    --  the end of the compilation process (see body of this routine for a\n    --  discussion of why this is done). This procedure outputs the warnings."}, {"sha": "7340f64129e92ca9f560788418e36e81b3d1cc8d", "filename": "gcc/ada/types.ads", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2Ftypes.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72/gcc%2Fada%2Ftypes.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ftypes.ads?ref=fb25a60d960ea0b6edf4c17ecf2e4aaf23aefe72", "patch": "@@ -196,8 +196,8 @@ package Types is\n    --  which are one greater than the previous upper bound.\n \n    subtype Big_Source_Buffer is Text_Buffer (0 .. Text_Ptr'Last);\n-   --  This is a virtual type used as the designated type of the access\n-   --  type Source_Buffer_Ptr, see Osint.Read_Source_File for details.\n+   --  This is a virtual type used as the designated type of the access type\n+   --  Source_Buffer_Ptr, see Osint.Read_Source_File for details.\n \n    type Source_Buffer_Ptr is access all Big_Source_Buffer;\n    for Source_Buffer_Ptr'Storage_Size use 0;\n@@ -234,8 +234,8 @@ package Types is\n    --  Used for all nodes in the presentation of package Standard.ASCII\n \n    System_Location : constant Source_Ptr := -4;\n-   --  Used to identify locations of pragmas scanned by Targparm, where we\n-   --  know the location is in System, but we don't know exactly what line.\n+   --  Used to identify locations of pragmas scanned by Targparm, where we know\n+   --  the location is in System, but we don't know exactly what line.\n \n    First_Source_Ptr : constant Source_Ptr := 0;\n    --  Starting source pointer index value for first source program"}]}