{"sha": "305a132148b9ced8ec6a6cf33a3d4635729fde9d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzA1YTEzMjE0OGI5Y2VkOGVjNmE2Y2YzM2EzZDQ2MzU3MjlmZGU5ZA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2005-06-24T03:38:05Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2005-06-24T03:38:05Z"}, "message": "re PR tree-optimization/22000 (Read from volatile member of struct is optimized away)\n\n\tPR 22000\n\t* tree-ssa-operands.c (get_expr_operands): Check the volatility of\n\tthe FIELD_DECL and set s_ann->has_volatile_ops accordingly.\n\nFrom-SVN: r101289", "tree": {"sha": "5f35b0ac794937a9cfc60ea88d3484d5cc3b6fb2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5f35b0ac794937a9cfc60ea88d3484d5cc3b6fb2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/305a132148b9ced8ec6a6cf33a3d4635729fde9d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/305a132148b9ced8ec6a6cf33a3d4635729fde9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/305a132148b9ced8ec6a6cf33a3d4635729fde9d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/305a132148b9ced8ec6a6cf33a3d4635729fde9d/comments", "author": null, "committer": null, "parents": [{"sha": "a3504e64abf8db7b538c95d5a10890c21c22b28f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3504e64abf8db7b538c95d5a10890c21c22b28f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3504e64abf8db7b538c95d5a10890c21c22b28f"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "a8a5231d0a8c766649d3d528942a87ebabfab233", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/305a132148b9ced8ec6a6cf33a3d4635729fde9d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/305a132148b9ced8ec6a6cf33a3d4635729fde9d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=305a132148b9ced8ec6a6cf33a3d4635729fde9d", "patch": "@@ -1,3 +1,9 @@\n+2005-06-23  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR 22000\n+\t* tree-ssa-operands.c (get_expr_operands): Check the volatility of\n+\tthe FIELD_DECL and set s_ann->has_volatile_ops accordingly.\n+\n 2005-06-24  Jan Hubicka  <jh@suse.cz>\n \n \t* opts.c (decode_options): Enable unit-at-a-time by default at -O1."}, {"sha": "2e263cfa1b30c1c38f56226c7aa0063a3929381e", "filename": "gcc/tree-ssa-operands.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/305a132148b9ced8ec6a6cf33a3d4635729fde9d/gcc%2Ftree-ssa-operands.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/305a132148b9ced8ec6a6cf33a3d4635729fde9d/gcc%2Ftree-ssa-operands.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-operands.c?ref=305a132148b9ced8ec6a6cf33a3d4635729fde9d", "patch": "@@ -1346,7 +1346,11 @@ get_expr_operands (tree stmt, tree *expr_p, int flags)\n \t\t\t     flags & ~opf_kill_def);\n \t\n \tif (code == COMPONENT_REF)\n-\t  get_expr_operands (stmt, &TREE_OPERAND (expr, 2), opf_none);\n+\t  {\n+\t    if (TREE_THIS_VOLATILE (TREE_OPERAND (expr, 1)))\n+\t      s_ann->has_volatile_ops = true; \n+\t    get_expr_operands (stmt, &TREE_OPERAND (expr, 2), opf_none);\n+\t  }\n \treturn;\n       }\n     case WITH_SIZE_EXPR:"}]}