{"sha": "0dca215363824df130e4a80b405baa4c7fbbe8a7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGRjYTIxNTM2MzgyNGRmMTMwZTRhODBiNDA1YmFhNGM3ZmJiZThhNw==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2009-06-30T10:45:54Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2009-06-30T10:45:54Z"}, "message": "re PR libstdc++/40511 (Bootstrap Failure in stage3: c++locale - Recent SVN)\n\n2009-06-30  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR libstdc++/40511\n\t* config/locale/gnu/c_locale.cc: Don't use LC_CTYPE_MASK together\n\twith glibc2.2.x.\n\nFrom-SVN: r149089", "tree": {"sha": "2f1ffdb3fbc3d340a6ec8cac2f8367729741d38e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2f1ffdb3fbc3d340a6ec8cac2f8367729741d38e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0dca215363824df130e4a80b405baa4c7fbbe8a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0dca215363824df130e4a80b405baa4c7fbbe8a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0dca215363824df130e4a80b405baa4c7fbbe8a7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0dca215363824df130e4a80b405baa4c7fbbe8a7/comments", "author": null, "committer": null, "parents": [{"sha": "71d4d3eb2e301548f8d560b618179abd66f58637", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71d4d3eb2e301548f8d560b618179abd66f58637", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71d4d3eb2e301548f8d560b618179abd66f58637"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "7b125569f4ae388783f175bfeb2634ebc33d6eac", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0dca215363824df130e4a80b405baa4c7fbbe8a7/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0dca215363824df130e4a80b405baa4c7fbbe8a7/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=0dca215363824df130e4a80b405baa4c7fbbe8a7", "patch": "@@ -1,3 +1,9 @@\n+2009-06-30  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR libstdc++/40511\n+\t* config/locale/gnu/c_locale.cc: Don't use LC_CTYPE_MASK together\n+\twith glibc2.2.x.\n+\n 2009-06-29  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* include/bits/random.tcc"}, {"sha": "80ef9c740d2fd3b5ac3511cf05af80789927fbc2", "filename": "libstdc++-v3/config/locale/gnu/c_locale.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0dca215363824df130e4a80b405baa4c7fbbe8a7/libstdc%2B%2B-v3%2Fconfig%2Flocale%2Fgnu%2Fc_locale.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0dca215363824df130e4a80b405baa4c7fbbe8a7/libstdc%2B%2B-v3%2Fconfig%2Flocale%2Fgnu%2Fc_locale.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Flocale%2Fgnu%2Fc_locale.cc?ref=0dca215363824df130e4a80b405baa4c7fbbe8a7", "patch": "@@ -155,7 +155,11 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n     if (__dup == __c_locale(0))\n       __throw_runtime_error(__N(\"locale::facet::_S_lc_ctype_c_locale \"\n \t\t\t\t\"duplocale error\"));\n+#if __GLIBC__ > 2 || (__GLIBC__ == 2 && __GLIBC_MINOR__ > 2)\n     __c_locale __changed = __newlocale(LC_CTYPE_MASK, __s, __dup);\n+#else\n+    __c_locale __changed = __newlocale(1 << LC_CTYPE, __s, __dup);\n+#endif\n     if (__changed == __c_locale(0))\n       {\n \t__freelocale(__dup);"}]}