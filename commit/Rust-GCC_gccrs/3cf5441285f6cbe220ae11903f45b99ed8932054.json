{"sha": "3cf5441285f6cbe220ae11903f45b99ed8932054", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2NmNTQ0MTI4NWY2Y2JlMjIwYWUxMTkwM2Y0NWI5OWVkODkzMjA1NA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2003-06-30T08:04:24Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2003-06-30T08:04:24Z"}, "message": "cfgrtl.c (verify_flow_info): Accept degenerated condjumps in cfglayout mode.\n\n\t* cfgrtl.c (verify_flow_info): Accept degenerated condjumps\n\tin cfglayout mode.\n\nFrom-SVN: r68694", "tree": {"sha": "847cd87faef7585b5efe77617a13a659c98d57f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/847cd87faef7585b5efe77617a13a659c98d57f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3cf5441285f6cbe220ae11903f45b99ed8932054", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cf5441285f6cbe220ae11903f45b99ed8932054", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3cf5441285f6cbe220ae11903f45b99ed8932054", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cf5441285f6cbe220ae11903f45b99ed8932054/comments", "author": null, "committer": null, "parents": [{"sha": "1f48e56d098e957e5ed2e40cdd21ad8262679993", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f48e56d098e957e5ed2e40cdd21ad8262679993", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f48e56d098e957e5ed2e40cdd21ad8262679993"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "d5d0c50d795c2c69a0e44e76661db207588b6de1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cf5441285f6cbe220ae11903f45b99ed8932054/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cf5441285f6cbe220ae11903f45b99ed8932054/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3cf5441285f6cbe220ae11903f45b99ed8932054", "patch": "@@ -1,3 +1,8 @@\n+Mon Jun 30 10:03:02 CEST 2003  Jan Hubicka  <jh@suse.cz>\n+\n+\t* cfgrtl.c (verify_flow_info): Accept degenerated condjumps\n+\tin cfglayout mode.\n+\n Mon Jun 30 09:52:39 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \n \t* i386.c (standard_80387_constant_p): Accept TFmode constants too."}, {"sha": "f1dedde0c03b264532f1a99cfd763a19cd4bf848", "filename": "gcc/cfgrtl.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cf5441285f6cbe220ae11903f45b99ed8932054/gcc%2Fcfgrtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cf5441285f6cbe220ae11903f45b99ed8932054/gcc%2Fcfgrtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgrtl.c?ref=3cf5441285f6cbe220ae11903f45b99ed8932054", "patch": "@@ -1823,7 +1823,7 @@ rtl_verify_flow_info_1 (void)\n   FOR_EACH_BB_REVERSE (bb)\n     {\n       int n_fallthru = 0, n_eh = 0, n_call = 0, n_abnormal = 0, n_branch = 0;\n-      edge e;\n+      edge e, fallthru = NULL;\n       rtx note;\n \n       if (INSN_P (bb->end)\n@@ -1841,7 +1841,7 @@ rtl_verify_flow_info_1 (void)\n       for (e = bb->succ; e; e = e->succ_next)\n \t{\n \t  if (e->flags & EDGE_FALLTHRU)\n-\t    n_fallthru++;\n+\t    n_fallthru++, fallthru = e;\n \n \t  if ((e->flags & ~(EDGE_DFS_BACK | EDGE_CAN_FALLTHRU | EDGE_IRREDUCIBLE_LOOP)) == 0)\n \t    n_branch++;\n@@ -1880,7 +1880,7 @@ rtl_verify_flow_info_1 (void)\n \t  err = 1;\n \t}\n       if (n_branch != 1 && any_condjump_p (bb->end)\n-\t  && JUMP_LABEL (bb->end) != bb->next_bb->head)\n+\t  && JUMP_LABEL (bb->end) != fallthru->dest->head)\n \t{\n \t  error (\"Wrong amount of branch edges after conditional jump %i\", bb->index);\n \t  err = 1;"}]}