{"sha": "66df7a985f423ee12a75bd1ae0852ad942b925c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjZkZjdhOTg1ZjQyM2VlMTJhNzViZDFhZTA4NTJhZDk0MmI5MjVjMw==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2002-02-11T13:35:14Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2002-02-11T13:35:14Z"}, "message": "regrename.c (regrename_optimize): Don't accept a part-clobbered register if the replaced register is not part...\n\n* regrename.c (regrename_optimize): Don't accept a\npart-clobbered register if the replaced register is not part\nclobbered.\n\nFrom-SVN: r49676", "tree": {"sha": "144ced58776e7edc3dc5b6d761a57485acb2848b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/144ced58776e7edc3dc5b6d761a57485acb2848b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/66df7a985f423ee12a75bd1ae0852ad942b925c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66df7a985f423ee12a75bd1ae0852ad942b925c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/66df7a985f423ee12a75bd1ae0852ad942b925c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66df7a985f423ee12a75bd1ae0852ad942b925c3/comments", "author": null, "committer": null, "parents": [{"sha": "841404cd713cb3a78eeebb451039386581a3eb01", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/841404cd713cb3a78eeebb451039386581a3eb01", "html_url": "https://github.com/Rust-GCC/gccrs/commit/841404cd713cb3a78eeebb451039386581a3eb01"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "46d689930b9961fed36b8e2dbd4b5964e63c3049", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66df7a985f423ee12a75bd1ae0852ad942b925c3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66df7a985f423ee12a75bd1ae0852ad942b925c3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=66df7a985f423ee12a75bd1ae0852ad942b925c3", "patch": "@@ -1,5 +1,9 @@\n 2002-02-11  Alexandre Oliva  <aoliva@redhat.com>\n \n+\t* regrename.c (regrename_optimize): Don't accept a\n+\tpart-clobbered register if the replaced register is not part\n+\tclobbered.\n+\n \t* calls.c (store_one_arg): In the non-BLKmode non-partial case,\n \ttake padding into account when computing the argument value.\n "}, {"sha": "135eaefd0e131110fd00a2199455fe115dfeec2e", "filename": "gcc/regrename.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66df7a985f423ee12a75bd1ae0852ad942b925c3/gcc%2Fregrename.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66df7a985f423ee12a75bd1ae0852ad942b925c3/gcc%2Fregrename.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fregrename.c?ref=66df7a985f423ee12a75bd1ae0852ad942b925c3", "patch": "@@ -325,7 +325,12 @@ regrename_optimize ()\n \t      /* See whether it accepts all modes that occur in\n \t\t definition and uses.  */\n \t      for (tmp = this; tmp; tmp = tmp->next_use)\n-\t\tif (! HARD_REGNO_MODE_OK (new_reg, GET_MODE (*tmp->loc)))\n+\t\tif (! HARD_REGNO_MODE_OK (new_reg, GET_MODE (*tmp->loc))\n+\t\t    || (tmp->need_caller_save_reg\n+\t\t\t&& ! (HARD_REGNO_CALL_PART_CLOBBERED\n+\t\t\t      (reg, GET_MODE (*tmp->loc)))\n+\t\t\t&& (HARD_REGNO_CALL_PART_CLOBBERED\n+\t\t\t    (new_reg, GET_MODE (*tmp->loc)))))\n \t\t  break;\n \t      if (! tmp)\n \t\t{"}]}