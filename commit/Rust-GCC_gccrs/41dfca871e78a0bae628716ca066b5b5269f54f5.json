{"sha": "41dfca871e78a0bae628716ca066b5b5269f54f5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDFkZmNhODcxZTc4YTBiYWU2Mjg3MTZjYTA2NmI1YjUyNjlmNTRmNQ==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2011-07-07T13:22:44Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2011-07-07T13:22:44Z"}, "message": "common-target-def.h (TARGET_HAVE_NAMED_SECTIONS): Don't default based on TARGET_ASM_NAMED_SECTION.\n\n\t* common/common-target-def.h (TARGET_HAVE_NAMED_SECTIONS): Don't\n\tdefault based on TARGET_ASM_NAMED_SECTION.\n\t* common/common-target.def (have_named_sections): Default to true.\n\t* common/config/default-common.c: Don't include tm.h.\n\t* common/config/picochip/picochip-common.c\n\t(TARGET_HAVE_NAMED_SECTIONS): Don't define.\n\t* common/config/m32c/m32c-common.c: Remove.\n\t* config.gcc (m32c*-*-*): Set target_has_targetm_common=no.\n\t* config/alpha/osf5.h (TARGET_HAVE_NAMED_SECTIONS): Define to\n\tfalse.\n\t* config/i386/openbsd.h (TARGET_HAVE_NAMED_SECTIONS): Define to\n\tfalse.\n\t* config/m68k/openbsd.h (TARGET_HAVE_NAMED_SECTIONS): Define to\n\tfalse.\n\t* config/pa/som.h (TARGET_HAVE_NAMED_SECTIONS): Define to false.\n\t* config/pdp11/pdp11.h (TARGET_HAVE_NAMED_SECTIONS): Define to\n\tfalse.\n\t* config/vax/openbsd.h (TARGET_HAVE_NAMED_SECTIONS): Define to\n\tfalse.\n\nFrom-SVN: r175969", "tree": {"sha": "41c74e09d99a789488beb943066632783fd96420", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/41c74e09d99a789488beb943066632783fd96420"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/41dfca871e78a0bae628716ca066b5b5269f54f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41dfca871e78a0bae628716ca066b5b5269f54f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41dfca871e78a0bae628716ca066b5b5269f54f5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41dfca871e78a0bae628716ca066b5b5269f54f5/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "19c44640ebdf27fd4f6a073af4141f2a37283b9b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19c44640ebdf27fd4f6a073af4141f2a37283b9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19c44640ebdf27fd4f6a073af4141f2a37283b9b"}], "stats": {"total": 83, "additions": 39, "deletions": 44}, "files": [{"sha": "c2929e54f7cda7f70d9c25f6d0d4fcc8f6f03f8e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=41dfca871e78a0bae628716ca066b5b5269f54f5", "patch": "@@ -1,3 +1,25 @@\n+2011-07-07  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* common/common-target-def.h (TARGET_HAVE_NAMED_SECTIONS): Don't\n+\tdefault based on TARGET_ASM_NAMED_SECTION.\n+\t* common/common-target.def (have_named_sections): Default to true.\n+\t* common/config/default-common.c: Don't include tm.h.\n+\t* common/config/picochip/picochip-common.c\n+\t(TARGET_HAVE_NAMED_SECTIONS): Don't define.\n+\t* common/config/m32c/m32c-common.c: Remove.\n+\t* config.gcc (m32c*-*-*): Set target_has_targetm_common=no.\n+\t* config/alpha/osf5.h (TARGET_HAVE_NAMED_SECTIONS): Define to\n+\tfalse.\n+\t* config/i386/openbsd.h (TARGET_HAVE_NAMED_SECTIONS): Define to\n+\tfalse.\n+\t* config/m68k/openbsd.h (TARGET_HAVE_NAMED_SECTIONS): Define to\n+\tfalse.\n+\t* config/pa/som.h (TARGET_HAVE_NAMED_SECTIONS): Define to false.\n+\t* config/pdp11/pdp11.h (TARGET_HAVE_NAMED_SECTIONS): Define to\n+\tfalse.\n+\t* config/vax/openbsd.h (TARGET_HAVE_NAMED_SECTIONS): Define to\n+\tfalse.\n+\n 2011-07-07  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/49640"}, {"sha": "d2e304a9b0afca429ea1396f78825a74fc64da97", "filename": "gcc/common/common-target-def.h", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fcommon%2Fcommon-target-def.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fcommon%2Fcommon-target-def.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fcommon-target-def.h?ref=41dfca871e78a0bae628716ca066b5b5269f54f5", "patch": "@@ -16,10 +16,6 @@\n    along with this program; see the file COPYING3.  If not see\n    <http://www.gnu.org/licenses/>.  */\n \n-#ifdef TARGET_ASM_NAMED_SECTION\n-#define TARGET_HAVE_NAMED_SECTIONS true\n-#endif\n-\n #include \"common/common-target-hooks-def.h\"\n #include \"hooks.h\"\n #include \"common/common-targhooks.h\""}, {"sha": "85edff10a45078483096e689e68f4c50f62c85a6", "filename": "gcc/common/common-target.def", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fcommon%2Fcommon-target.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fcommon%2Fcommon-target.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fcommon-target.def?ref=41dfca871e78a0bae628716ca066b5b5269f54f5", "patch": "@@ -93,7 +93,7 @@ DEFHOOKPOD\n DEFHOOKPOD\n (have_named_sections,\n  \"\",\n- bool, false)\n+ bool, true)\n \n DEFHOOKPOD\n (always_strip_dotdot,"}, {"sha": "8ea235495cb56480ef017859d3e8797f876b6f44", "filename": "gcc/common/config/default-common.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fcommon%2Fconfig%2Fdefault-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fcommon%2Fconfig%2Fdefault-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Fdefault-common.c?ref=41dfca871e78a0bae628716ca066b5b5269f54f5", "patch": "@@ -21,12 +21,10 @@ along with GCC; see the file COPYING3.  If not see\n #include \"config.h\"\n #include \"system.h\"\n #include \"coretypes.h\"\n-#include \"tm.h\" /* For TARGET_ASM_NAMED_SECTION used in default for\n-\t\t   TARGET_HAVE_NAMED_SECTIONS.  */\n #include \"common/common-target.h\"\n #include \"common/common-target-def.h\"\n \n-/* FIXME: Do not include tm.h or tm_p.h here; if it is useful for a target to\n+/* Do not include tm.h or tm_p.h here; if it is useful for a target to\n    define some macros for the initializer in a header without defining\n    targetm_common itself (for example, because of interactions with\n    some hooks depending on the target OS and others on the target"}, {"sha": "8bda8cd5dfb34b9d3bf3f849a9ca91a930816b5d", "filename": "gcc/common/config/m32c/m32c-common.c", "status": "removed", "additions": 0, "deletions": 31, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19c44640ebdf27fd4f6a073af4141f2a37283b9b/gcc%2Fcommon%2Fconfig%2Fm32c%2Fm32c-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19c44640ebdf27fd4f6a073af4141f2a37283b9b/gcc%2Fcommon%2Fconfig%2Fm32c%2Fm32c-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Fm32c%2Fm32c-common.c?ref=19c44640ebdf27fd4f6a073af4141f2a37283b9b", "patch": "@@ -1,31 +0,0 @@\n-/* Common hooks for R8C/M16C/M32C.\n-   Copyright (C) 2005, 2006, 2007, 2008, 2009, 2010, 2011\n-   Free Software Foundation, Inc.\n-\n-   This file is part of GCC.\n-\n-   GCC is free software; you can redistribute it and/or modify it\n-   under the terms of the GNU General Public License as published\n-   by the Free Software Foundation; either version 3, or (at your\n-   option) any later version.\n-\n-   GCC is distributed in the hope that it will be useful, but WITHOUT\n-   ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n-   or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public\n-   License for more details.\n-\n-   You should have received a copy of the GNU General Public License\n-   along with GCC; see the file COPYING3.  If not see\n-   <http://www.gnu.org/licenses/>.  */\n-\n-#include \"config.h\"\n-#include \"system.h\"\n-#include \"coretypes.h\"\n-#include \"tm.h\"\n-#include \"common/common-target.h\"\n-#include \"common/common-target-def.h\"\n-\n-#undef TARGET_HAVE_NAMED_SECTIONS\n-#define TARGET_HAVE_NAMED_SECTIONS true\n-\n-struct gcc_targetm_common targetm_common = TARGETM_COMMON_INITIALIZER;"}, {"sha": "25c844fc9080895557de1a459ee80ee3c8a2e5b9", "filename": "gcc/common/config/picochip/picochip-common.c", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fcommon%2Fconfig%2Fpicochip%2Fpicochip-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fcommon%2Fconfig%2Fpicochip%2Fpicochip-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Fpicochip%2Fpicochip-common.c?ref=41dfca871e78a0bae628716ca066b5b5269f54f5", "patch": "@@ -31,9 +31,6 @@ static const struct default_options picochip_option_optimization_table[] =\n     { OPT_LEVELS_NONE, 0, NULL, 0 }\n   };\n \n-#undef TARGET_HAVE_NAMED_SECTIONS\n-#define TARGET_HAVE_NAMED_SECTIONS 1\n-\n #undef TARGET_OPTION_OPTIMIZATION_TABLE\n #define TARGET_OPTION_OPTIMIZATION_TABLE picochip_option_optimization_table\n "}, {"sha": "c590577f4857147768c53e6c858ad32ddaf28c85", "filename": "gcc/config.gcc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=41dfca871e78a0bae628716ca066b5b5269f54f5", "patch": "@@ -300,6 +300,7 @@ case ${target} in\n m32c*-*-*)\n         cpu_type=m32c\n \ttmake_file=m32c/t-m32c\n+\ttarget_has_targetm_common=no\n         ;;\n alpha*-*-*)\n \tcpu_type=alpha"}, {"sha": "2c649e2c74ad283e81909cb022c24244d4a855fa", "filename": "gcc/config/alpha/osf5.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fconfig%2Falpha%2Fosf5.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fconfig%2Falpha%2Fosf5.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fosf5.h?ref=41dfca871e78a0bae628716ca066b5b5269f54f5", "patch": "@@ -259,3 +259,5 @@ along with GCC; see the file COPYING3.  If not see\n \n /* Handle #pragma extern_prefix.  */\n #define TARGET_HANDLE_PRAGMA_EXTERN_PREFIX 1\n+\n+#define TARGET_HAVE_NAMED_SECTIONS false"}, {"sha": "b52e049242bf54143b7ad1c4960ac6cfecf6a224", "filename": "gcc/config/i386/openbsd.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fconfig%2Fi386%2Fopenbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fconfig%2Fi386%2Fopenbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fopenbsd.h?ref=41dfca871e78a0bae628716ca066b5b5269f54f5", "patch": "@@ -98,3 +98,5 @@ along with GCC; see the file COPYING3.  If not see\n \n /* OpenBSD gas currently does not support quad, so do not use it.  */\n #undef ASM_QUAD\n+\n+#define TARGET_HAVE_NAMED_SECTIONS false"}, {"sha": "570742c6b6942ad126fa09fe8bfee903e400fd09", "filename": "gcc/config/m68k/openbsd.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fconfig%2Fm68k%2Fopenbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fconfig%2Fm68k%2Fopenbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fopenbsd.h?ref=41dfca871e78a0bae628716ca066b5b5269f54f5", "patch": "@@ -1,5 +1,5 @@\n /* Configuration file for an m68k OpenBSD target.\n-   Copyright (C) 1999, 2002, 2003, 2007, 2009, 2010\n+   Copyright (C) 1999, 2002, 2003, 2007, 2009, 2010, 2011\n    Free Software Foundation, Inc.\n \n This file is part of GCC.\n@@ -87,3 +87,5 @@ along with GCC; see the file COPYING3.  If not see\n /* All configurations that don't use elf must be explicit about not using\n    dwarf unwind information.  */\n #define DWARF2_UNWIND_INFO 0\n+\n+#define TARGET_HAVE_NAMED_SECTIONS false"}, {"sha": "f9f564844218e0b8238b1c699a79489916ac67d7", "filename": "gcc/config/pa/som.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fconfig%2Fpa%2Fsom.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fconfig%2Fpa%2Fsom.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fsom.h?ref=41dfca871e78a0bae628716ca066b5b5269f54f5", "patch": "@@ -340,3 +340,5 @@ do {\t\t\t\t\t\t\\\n /* Shared library suffix.  Collect2 strips the version string after\n    this suffix when generating constructor/destructor names.  */ \n #define SHLIB_SUFFIX \".sl\"\n+\n+#define TARGET_HAVE_NAMED_SECTIONS false"}, {"sha": "6efbf49a074af5f54028ba329b9f527c3ecd6e00", "filename": "gcc/config/pdp11/pdp11.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fconfig%2Fpdp11%2Fpdp11.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fconfig%2Fpdp11%2Fpdp11.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpdp11%2Fpdp11.h?ref=41dfca871e78a0bae628716ca066b5b5269f54f5", "patch": "@@ -664,3 +664,5 @@ extern rtx cc0_reg_rtx;\n \n \n #define COMPARE_FLAG_MODE HImode\n+\n+#define TARGET_HAVE_NAMED_SECTIONS false"}, {"sha": "410d6a6596471fee26862d8f4be2a5dee5df00e1", "filename": "gcc/config/vax/openbsd.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fconfig%2Fvax%2Fopenbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dfca871e78a0bae628716ca066b5b5269f54f5/gcc%2Fconfig%2Fvax%2Fopenbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvax%2Fopenbsd.h?ref=41dfca871e78a0bae628716ca066b5b5269f54f5", "patch": "@@ -1,5 +1,5 @@\n /* Configuration fragment for a VAX OpenBSD target.\n-   Copyright (C) 2000, 2002, 2007 Free Software Foundation, Inc.\n+   Copyright (C) 2000, 2002, 2007, 2009, 2011 Free Software Foundation, Inc.\n \n This file is part of GCC.\n \n@@ -46,3 +46,5 @@ along with GCC; see the file COPYING3.  If not see\n \n #undef WINT_TYPE\n #define WINT_TYPE \"int\"\n+\n+#define TARGET_HAVE_NAMED_SECTIONS false"}]}