{"sha": "2f15ae7493579ac55d2a1e11ece43abaf4e1bc06", "node_id": "C_kwDOANBUbNoAKDJmMTVhZTc0OTM1NzlhYzU1ZDJhMWUxMWVjZTQzYWJhZjRlMWJjMDY", "commit": {"author": {"name": "Philip Herron", "email": "philip.herron@embecosm.com", "date": "2022-08-11T15:15:35Z"}, "committer": {"name": "Philip Herron", "email": "philip.herron@embecosm.com", "date": "2022-08-11T15:15:35Z"}, "message": "Revert \"Ensure we set TREE_SIDE_EFFECTS on call expressions\"\n\nThis reverts commit f891a13aa2af912584176d2c595c295b77ff5ff9. This fix\nensures the code is added to the block but still as the artifical function\nis marked READONLY it ends up being optimized out anyway.", "tree": {"sha": "fa7834d0e5c73209707eb7d3604ce85a583b9bc7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fa7834d0e5c73209707eb7d3604ce85a583b9bc7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2f15ae7493579ac55d2a1e11ece43abaf4e1bc06", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f15ae7493579ac55d2a1e11ece43abaf4e1bc06", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f15ae7493579ac55d2a1e11ece43abaf4e1bc06", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f15ae7493579ac55d2a1e11ece43abaf4e1bc06/comments", "author": {"login": "philberty", "id": 84585, "node_id": "MDQ6VXNlcjg0NTg1", "avatar_url": "https://avatars.githubusercontent.com/u/84585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philberty", "html_url": "https://github.com/philberty", "followers_url": "https://api.github.com/users/philberty/followers", "following_url": "https://api.github.com/users/philberty/following{/other_user}", "gists_url": "https://api.github.com/users/philberty/gists{/gist_id}", "starred_url": "https://api.github.com/users/philberty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philberty/subscriptions", "organizations_url": "https://api.github.com/users/philberty/orgs", "repos_url": "https://api.github.com/users/philberty/repos", "events_url": "https://api.github.com/users/philberty/events{/privacy}", "received_events_url": "https://api.github.com/users/philberty/received_events", "type": "User", "site_admin": false}, "committer": {"login": "philberty", "id": 84585, "node_id": "MDQ6VXNlcjg0NTg1", "avatar_url": "https://avatars.githubusercontent.com/u/84585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philberty", "html_url": "https://github.com/philberty", "followers_url": "https://api.github.com/users/philberty/followers", "following_url": "https://api.github.com/users/philberty/following{/other_user}", "gists_url": "https://api.github.com/users/philberty/gists{/gist_id}", "starred_url": "https://api.github.com/users/philberty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philberty/subscriptions", "organizations_url": "https://api.github.com/users/philberty/orgs", "repos_url": "https://api.github.com/users/philberty/repos", "events_url": "https://api.github.com/users/philberty/events{/privacy}", "received_events_url": "https://api.github.com/users/philberty/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "70a0039b82b3419820359c8a1552470e48b458f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70a0039b82b3419820359c8a1552470e48b458f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70a0039b82b3419820359c8a1552470e48b458f6"}], "stats": {"total": 3, "additions": 0, "deletions": 3}, "files": [{"sha": "66fd8bce84ed720c2821e92e161897739a01a9e0", "filename": "gcc/rust/rust-gcc.cc", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f15ae7493579ac55d2a1e11ece43abaf4e1bc06/gcc%2Frust%2Frust-gcc.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f15ae7493579ac55d2a1e11ece43abaf4e1bc06/gcc%2Frust%2Frust-gcc.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Frust-gcc.cc?ref=2f15ae7493579ac55d2a1e11ece43abaf4e1bc06", "patch": "@@ -1840,9 +1840,6 @@ Gcc_backend::call_expression (tree fn, const std::vector<tree> &fn_args,\n       ret = build1_loc (location.gcc_location (), NOP_EXPR, rettype, ret);\n     }\n \n-  if (!TREE_SIDE_EFFECTS (ret))\n-    TREE_SIDE_EFFECTS (ret) = TREE_SIDE_EFFECTS (fndecl);\n-\n   delete[] args;\n   return ret;\n }"}]}