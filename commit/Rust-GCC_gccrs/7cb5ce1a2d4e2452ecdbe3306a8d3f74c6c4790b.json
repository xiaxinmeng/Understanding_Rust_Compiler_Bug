{"sha": "7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2NiNWNlMWEyZDRlMjQ1MmVjZGJlMzMwNmE4ZDNmNzRjNmM0NzkwYg==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@linux.vnet.ibm.com", "date": "2012-02-07T18:39:52Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2012-02-07T18:39:52Z"}, "message": "rs6000.c (rs6000_trampoline_init): Fix error message for -mno-pointers-to-nested-function.\n\n[gcc]\n2012-02-07  Michael Meissner  <meissner@linux.vnet.ibm.com>\n\n\t* config/rs6000/rs6000.c (rs6000_trampoline_init): Fix error\n\tmessage for -mno-pointers-to-nested-function.\n\n[gcc/testsuite]\n2012-02-07  Michael Meissner  <meissner@linux.vnet.ibm.com>\n\n\t* gcc.target/powerpc/no-r11-3.c (outer_func): Fix error message\n\tfor -mno-pointers-to-nested-functions.\n\nFrom-SVN: r183976", "tree": {"sha": "431e06f6ff9703b822a5de69aafcce222b3cb0f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/431e06f6ff9703b822a5de69aafcce222b3cb0f3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b/comments", "author": null, "committer": null, "parents": [{"sha": "f22cfd73cd9eece5e426ddfe745f998ffc665945", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f22cfd73cd9eece5e426ddfe745f998ffc665945", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f22cfd73cd9eece5e426ddfe745f998ffc665945"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "da4ceb795061adf1a46f15acaf2960fd10f49f6f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b", "patch": "@@ -1,3 +1,8 @@\n+2012-02-07  Michael Meissner  <meissner@linux.vnet.ibm.com>\n+\n+\t* config/rs6000/rs6000.c (rs6000_trampoline_init): Fix error\n+\tmessage for -mno-pointers-to-nested-function.\n+\n 2012-02-07  Eric Botcazou  <ebotcazou@adacore.com>\n \n \tPR middle-end/51994"}, {"sha": "90be03e1296f935711daeb824ee84a3a597b49da", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b", "patch": "@@ -24032,7 +24032,8 @@ rs6000_trampoline_init (rtx m_tramp, tree fndecl, rtx cxt)\n \trtx fnmem, fn_reg, toc_reg;\n \n \tif (!TARGET_POINTERS_TO_NESTED_FUNCTIONS)\n-\t  error (\"-mno-r11 must not be used if you have trampolines\");\n+\t  error (\"You cannot take the address of a nested function if you use \"\n+\t\t \"the -mno-pointers-to-nested-functions option.\");\n \n \tfnmem = gen_const_mem (Pmode, force_reg (Pmode, fnaddr));\n \tfn_reg = gen_reg_rtx (Pmode);"}, {"sha": "47509f035d104d989675cec22e772173c37b65f4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b", "patch": "@@ -1,3 +1,8 @@\n+2012-02-07  Michael Meissner  <meissner@linux.vnet.ibm.com>\n+\n+\t* gcc.target/powerpc/no-r11-3.c (outer_func): Fix error message\n+\tfor -mno-pointers-to-nested-functions.\n+\n 2012-02-07  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc.c-torture/execute/20120207-1.c: New test."}, {"sha": "c98797e7f69e410c82827f838ce1368b1914969d", "filename": "gcc/testsuite/gcc.target/powerpc/no-r11-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fno-r11-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fno-r11-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fno-r11-3.c?ref=7cb5ce1a2d4e2452ecdbe3306a8d3f74c6c4790b", "patch": "@@ -5,7 +5,7 @@\n extern void ext_call (int (func) (void));\n \n int\n-outer_func (int init)\t/* { dg-error \"-mno-r11 must not be used if you have trampolines\" \"\" } */\n+outer_func (int init)\t/* { dg-error \"-mno-pointers-to-nested-functions option\" \"\" } */\n {\n   int value = init;\n "}]}