{"sha": "688977080c69ae454fd568d6af42c57679ec885a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njg4OTc3MDgwYzY5YWU0NTRmZDU2OGQ2YWY0MmM1NzY3OWVjODg1YQ==", "commit": {"author": {"name": "Janis Johnson", "email": "janis187@us.ibm.com", "date": "2004-11-30T21:30:27Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2004-11-30T21:30:27Z"}, "message": "* lib/target-supports.exp (is-effective-target): Simplify.\n\nFrom-SVN: r91541", "tree": {"sha": "ba03cf0766cdccfbb1fef78dd95eb97c89326acb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba03cf0766cdccfbb1fef78dd95eb97c89326acb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/688977080c69ae454fd568d6af42c57679ec885a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/688977080c69ae454fd568d6af42c57679ec885a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/688977080c69ae454fd568d6af42c57679ec885a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/688977080c69ae454fd568d6af42c57679ec885a/comments", "author": null, "committer": null, "parents": [{"sha": "f470b1e5b754215f807cdab7267a374dc0421be1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f470b1e5b754215f807cdab7267a374dc0421be1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f470b1e5b754215f807cdab7267a374dc0421be1"}], "stats": {"total": 22, "additions": 11, "deletions": 11}, "files": [{"sha": "d2ca8906de08bed8397ebf18baf00fbc826147c0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/688977080c69ae454fd568d6af42c57679ec885a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/688977080c69ae454fd568d6af42c57679ec885a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=688977080c69ae454fd568d6af42c57679ec885a", "patch": "@@ -1,5 +1,7 @@\n 2004-11-30  Janis Johnson  <janis187@us.ibm.com>\n \n+\t* lib/target-supports.exp (is-effective-target): Simplify.\n+\n \t* lib/target-supports.exp (check_effective_target_vect_long):\n \tFix for powerpc64-*-*.\n "}, {"sha": "0e122e0e6e09ad8da970c83e526ddfac0e083d72", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 9, "deletions": 11, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/688977080c69ae454fd568d6af42c57679ec885a/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/688977080c69ae454fd568d6af42c57679ec885a/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=688977080c69ae454fd568d6af42c57679ec885a", "patch": "@@ -525,17 +525,15 @@ proc check_effective_target_vect_double { } {\n \n proc is-effective-target { arg } {\n     set selected 0\n-    switch $arg {\n-\t\"ilp32\"  { set selected [check_effective_target_ilp32] }\n-\t\"lp64\"   { set selected [check_effective_target_lp64] }\n-\t\"vmx_hw\" { set selected [check_vmx_hw_available] }\n-\t\"named_sections\" { set selected [check_named_sections_available] }\n-\t\"gc_sections\" { set selected [check_gc_sections_available] }\n-\t\"vect_int\" { set selected [check_effective_target_vect_int] }\n-\t\"vect_long\" { set selected [check_effective_target_vect_long] }\n-\t\"vect_float\" { set selected [check_effective_target_vect_float] }\n-\t\"vect_double\" { set selected [check_effective_target_vect_double] }\n-\tdefault  { error \"unknown effective target selector `$arg'\" }\n+    if { [info procs check_effective_target_${arg}] != [list] } {\n+\tset selected [check_effective_target_${arg}]\n+    } else {\n+\tswitch $arg {\n+\t  \"vmx_hw\"         { set selected [check_vmx_hw_available] }\n+\t  \"named_sections\" { set selected [check_named_sections_available] }\n+\t  \"gc_sections\"    { set selected [check_gc_sections_available] }\n+\t  default          { error \"unknown effective target keyword `$arg'\" }\n+\t}\n     }\n     verbose \"is-effective-target: $arg $selected\" 2\n     return $selected"}]}