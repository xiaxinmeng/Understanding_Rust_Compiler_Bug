{"sha": "557e8c49cf47555401cf07c020ebdf6ddd4296b5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTU3ZThjNDljZjQ3NTU1NDAxY2YwN2MwMjBlYmRmNmRkZDQyOTZiNQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2016-07-02T06:41:29Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2016-07-02T06:41:29Z"}, "message": "re PR c/71719 (invalid set-but-not-used warning with vectors)\n\n\tPR c/71719\n\t* c-typeck.c (mark_exp_read): Handle VIEW_CONVERT_EXPR.\n\n\t* c-c++-common/Wunused-var-15.c: New test.\n\nFrom-SVN: r237937", "tree": {"sha": "8613a51002d3befa50a1a23aaf8eeee136366785", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8613a51002d3befa50a1a23aaf8eeee136366785"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/557e8c49cf47555401cf07c020ebdf6ddd4296b5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/557e8c49cf47555401cf07c020ebdf6ddd4296b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/557e8c49cf47555401cf07c020ebdf6ddd4296b5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/557e8c49cf47555401cf07c020ebdf6ddd4296b5/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "547ef7ded59554fcf8fb59dab0769e9c0004c696", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/547ef7ded59554fcf8fb59dab0769e9c0004c696", "html_url": "https://github.com/Rust-GCC/gccrs/commit/547ef7ded59554fcf8fb59dab0769e9c0004c696"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "41d35470bed886406819ea26a0afdef52b6499a3", "filename": "gcc/c/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/557e8c49cf47555401cf07c020ebdf6ddd4296b5/gcc%2Fc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/557e8c49cf47555401cf07c020ebdf6ddd4296b5/gcc%2Fc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2FChangeLog?ref=557e8c49cf47555401cf07c020ebdf6ddd4296b5", "patch": "@@ -1,3 +1,8 @@\n+2016-07-02  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR c/71719\n+\t* c-typeck.c (mark_exp_read): Handle VIEW_CONVERT_EXPR.\n+\n 2016-06-29  Thomas Schwinge  <thomas@codesourcery.com>\n \n \t* c-parser.c (c_parser_pragma) <PRAGMA_OMP_CANCELLATION_POINT>:"}, {"sha": "bafd0d23195bb9b2af9629f10d9a0f0857f9f0d1", "filename": "gcc/c/c-typeck.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/557e8c49cf47555401cf07c020ebdf6ddd4296b5/gcc%2Fc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/557e8c49cf47555401cf07c020ebdf6ddd4296b5/gcc%2Fc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2Fc-typeck.c?ref=557e8c49cf47555401cf07c020ebdf6ddd4296b5", "patch": "@@ -1896,6 +1896,7 @@ mark_exp_read (tree exp)\n     case IMAGPART_EXPR:\n     CASE_CONVERT:\n     case ADDR_EXPR:\n+    case VIEW_CONVERT_EXPR:\n       mark_exp_read (TREE_OPERAND (exp, 0));\n       break;\n     case COMPOUND_EXPR:"}, {"sha": "ced6ca7a7802dadfbd66e300087717a5c06f5ecb", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/557e8c49cf47555401cf07c020ebdf6ddd4296b5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/557e8c49cf47555401cf07c020ebdf6ddd4296b5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=557e8c49cf47555401cf07c020ebdf6ddd4296b5", "patch": "@@ -1,3 +1,8 @@\n+2016-07-02  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR c/71719\n+\t* c-c++-common/Wunused-var-15.c: New test.\n+\n 2016-07-01  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR fortran/71687"}, {"sha": "b0f680a06bd78afc8bc6a62ec7f0b3d2eaf498a3", "filename": "gcc/testsuite/c-c++-common/Wunused-var-15.c", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/557e8c49cf47555401cf07c020ebdf6ddd4296b5/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2FWunused-var-15.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/557e8c49cf47555401cf07c020ebdf6ddd4296b5/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2FWunused-var-15.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2FWunused-var-15.c?ref=557e8c49cf47555401cf07c020ebdf6ddd4296b5", "patch": "@@ -0,0 +1,20 @@\n+/* PR c/71719 */\n+/* { dg-do compile } */\n+/* { dg-options \"-Wunused -W -Wno-psabi\" } */\n+\n+typedef unsigned V __attribute__ ((vector_size (16)));\n+\n+void bar (unsigned);\n+\n+V x;\n+\n+void\n+foo (V v)\t/* { dg-bogus \"set but not used\" } */\n+{\n+  bar (v[0]);\n+  V w = x;\t/* { dg-bogus \"set but not used\" } */\n+  bar (w[1]);\n+}\n+\n+/* Ignore a warning that is irrelevant to the purpose of this test.  */\n+/* { dg-prune-output \".*GCC vector passed by reference.*\" } */"}]}