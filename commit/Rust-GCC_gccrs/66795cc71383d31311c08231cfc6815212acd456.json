{"sha": "66795cc71383d31311c08231cfc6815212acd456", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjY3OTVjYzcxMzgzZDMxMzExYzA4MjMxY2ZjNjgxNTIxMmFjZDQ1Ng==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-03-20T16:41:45Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-03-20T16:41:45Z"}, "message": "(LIB_SPEC): Don't link /usr/lib/bb_link.o with `gcc -a'.\n\n(__bb_init_func): Deleted.\n(BLOCK_PROFILER_CODE): Don't set macro to nothing.\n\nFrom-SVN: r11578", "tree": {"sha": "b2c0148023eaeac875667eae4e7e36f2232e1288", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b2c0148023eaeac875667eae4e7e36f2232e1288"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/66795cc71383d31311c08231cfc6815212acd456", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66795cc71383d31311c08231cfc6815212acd456", "html_url": "https://github.com/Rust-GCC/gccrs/commit/66795cc71383d31311c08231cfc6815212acd456", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66795cc71383d31311c08231cfc6815212acd456/comments", "author": null, "committer": null, "parents": [{"sha": "d649cc968042b4f44c72aa3068fb3421ba5c873e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d649cc968042b4f44c72aa3068fb3421ba5c873e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d649cc968042b4f44c72aa3068fb3421ba5c873e"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "909e4a0a991ee0a3d41bedcb08d8382f83c43c9f", "filename": "gcc/config/m68k/sun3.h", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66795cc71383d31311c08231cfc6815212acd456/gcc%2Fconfig%2Fm68k%2Fsun3.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66795cc71383d31311c08231cfc6815212acd456/gcc%2Fconfig%2Fm68k%2Fsun3.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fsun3.h?ref=66795cc71383d31311c08231cfc6815212acd456", "patch": "@@ -1,5 +1,5 @@\n /* Definitions of target machine for GNU compiler.  Sun 68000/68020 version.\n-   Copyright (C) 1987, 1988, 1993, 1995 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 1988, 1993, 1995, 1996 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -130,20 +130,20 @@ Boston, MA 02111-1307, USA.  */\n #if TARGET_DEFAULT & 0100\n /* -mfpa is the default */\n #define LIB_SPEC \"%{g:-lg} %{!p:%{!pg:-lc}}%{p:-lc_p}%{pg:-lc_p} \\\n-%{a:/usr/lib/bb_link.o} %{g:-lg} \\\n+%{g:-lg} \\\n %{msoft-float:-L/usr/lib/fsoft}%{m68881:-L/usr/lib/f68881}\\\n %{!msoft_float:%{!m68881:-L/usr/lib/ffpa}}\"\n #else\n #if TARGET_DEFAULT & 2\n /* -m68881 is the default */\n #define LIB_SPEC \"%{g:-lg} %{!p:%{!pg:-lc}}%{p:-lc_p}%{pg:-lc_p} \\\n-%{a:/usr/lib/bb_link.o} %{g:-lg} \\\n+%{g:-lg} \\\n %{msoft-float:-L/usr/lib/fsoft}%{!msoft-float:%{!mfpa:-L/usr/lib/f68881}}\\\n %{mfpa:-L/usr/lib/ffpa}\"\n #else\n /* -msoft-float is the default */\n #define LIB_SPEC \"%{g:-lg} %{!p:%{!pg:-lc}}%{p:-lc_p}%{pg:-lc_p} \\\n-%{a:/usr/lib/bb_link.o} %{g:-lg} \\\n+%{g:-lg} \\\n %{!m68881:%{!mfpa:-L/usr/lib/fsoft}}%{m68881:-L/usr/lib/f68881}\\\n %{mfpa:-L/usr/lib/ffpa}\"\n #endif\n@@ -282,6 +282,10 @@ Boston, MA 02111-1307, USA.  */\n         }\t\t\t\t\t\t\t\t\\\n     } while (0)\n \n+#if 0\n+/* This was turned off as it caused linking errors on sunos4.1.\n+   `gcc -a' links in /usr/lib/bb_link.o which does not provide __bb_link\n+   but its own version of __bb_init_func. */\n #undef BLOCK_PROFILER_CODE\n #define BLOCK_PROFILER_CODE\t\t\t\t\t\t\\\n extern int ___tcov_init;\t\t\t\t\t\t\\\n@@ -294,3 +298,4 @@ __bb_init_func (blocks)\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n   ___bb_link (blocks->filename, blocks->counts, blocks->ncounts);\t\\\n }\n+#endif"}]}