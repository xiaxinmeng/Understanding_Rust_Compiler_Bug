{"sha": "ded49a7f6c1027557819ec66d8d8d258f575add3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGVkNDlhN2Y2YzEwMjc1NTc4MTllYzY2ZDhkOGQyNThmNTc1YWRkMw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-07-09T20:18:32Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-07-09T20:18:32Z"}, "message": "Move ASM_COMMENT_START to defaults.h.\n\nNote the extreme silliness in dwarf2out.c with 3 (three) copies.\n\n        * defaults.h (ASM_COMMENT_START): Move here...\n        * dwarf2asm.c: ... from here.\n        * dwarf2out.c, final.c, vmsdbgout.c: Remove duplicates.\n        * toplev.c: Remove ifndef tests of ASM_COMMENT_START.\n        * varasm.c: Likewise.\n\nFrom-SVN: r176093", "tree": {"sha": "46f5b9e96153860f2351a71bb767362038a0ca94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/46f5b9e96153860f2351a71bb767362038a0ca94"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ded49a7f6c1027557819ec66d8d8d258f575add3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ded49a7f6c1027557819ec66d8d8d258f575add3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ded49a7f6c1027557819ec66d8d8d258f575add3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ded49a7f6c1027557819ec66d8d8d258f575add3/comments", "author": null, "committer": null, "parents": [{"sha": "45fba6d114d3ce2ed6192b24e93eba79231cdee5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45fba6d114d3ce2ed6192b24e93eba79231cdee5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/45fba6d114d3ce2ed6192b24e93eba79231cdee5"}], "stats": {"total": 52, "additions": 13, "deletions": 39}, "files": [{"sha": "65cda30a6e0c1fbf633f8917724f2b9d839fd92a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ded49a7f6c1027557819ec66d8d8d258f575add3", "patch": "@@ -1,3 +1,11 @@\n+2011-07-09  Richard Henderson  <rth@redhat.com>\n+\n+\t* defaults.h (ASM_COMMENT_START): Move here...\n+\t* dwarf2asm.c: ... from here.\n+\t* dwarf2out.c, final.c, vmsdbgout.c: Remove duplicates.\n+\t* toplev.c: Remove ifndef tests of ASM_COMMENT_START.\n+\t* varasm.c: Likewise.\n+\n 2011-07-09  Richard Henderson  <rth@redhat.com>\n \n \tPR debug/49686"}, {"sha": "118cb1c25654ba66235bbc0520ebc824c37090d5", "filename": "gcc/defaults.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2Fdefaults.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2Fdefaults.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdefaults.h?ref=ded49a7f6c1027557819ec66d8d8d258f575add3", "patch": "@@ -28,6 +28,11 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n #ifndef GCC_DEFAULTS_H\n #define GCC_DEFAULTS_H\n \n+/* How to start an assembler comment.  */\n+#ifndef ASM_COMMENT_START\n+#define ASM_COMMENT_START \";#\"\n+#endif\n+\n /* Store in OUTPUT a string (made with alloca) containing an\n    assembler-name for a local static variable or function named NAME.\n    LABELNO is an integer which is different for each call.  */"}, {"sha": "0b7480ba3c48bc1e068ad163f557d4225661afd1", "filename": "gcc/dwarf2asm.c", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2Fdwarf2asm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2Fdwarf2asm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2asm.c?ref=ded49a7f6c1027557819ec66d8d8d258f575add3", "patch": "@@ -34,12 +34,6 @@ along with GCC; see the file COPYING3.  If not see\n #include \"ggc.h\"\n #include \"tm_p.h\"\n \n-\n-/* How to start an assembler comment.  */\n-#ifndef ASM_COMMENT_START\n-#define ASM_COMMENT_START \";#\"\n-#endif\n-\n \f\n /* Output an unaligned integer with the given value and size.  Prefer not\n    to print a newline, since the caller may want to add a comment.  */"}, {"sha": "211f2704d3ee6204a7b5fdfa50e0a74780a237d6", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=ded49a7f6c1027557819ec66d8d8d258f575add3", "patch": "@@ -168,11 +168,6 @@ static GTY(()) section *debug_str_section;\n static GTY(()) section *debug_ranges_section;\n static GTY(()) section *debug_frame_section;\n \n-/* How to start an assembler comment.  */\n-#ifndef ASM_COMMENT_START\n-#define ASM_COMMENT_START \";#\"\n-#endif\n-\n /* Maximum size (in bytes) of an artificially generated label.  */\n #define MAX_ARTIFICIAL_LABEL_BYTES\t30\n \n@@ -277,11 +272,6 @@ static void output_cfa_loc_raw (dw_cfi_ref);\n    personality CFI.  */\n static GTY(()) rtx current_unit_personality;\n \n-/* How to start an assembler comment.  */\n-#ifndef ASM_COMMENT_START\n-#define ASM_COMMENT_START \";#\"\n-#endif\n-\n /* Data and reference forms for relocatable data.  */\n #define DW_FORM_data (DWARF_OFFSET_SIZE == 8 ? DW_FORM_data8 : DW_FORM_data4)\n #define DW_FORM_ref (DWARF_OFFSET_SIZE == 8 ? DW_FORM_ref8 : DW_FORM_ref4)\n@@ -3479,11 +3469,6 @@ typedef struct skeleton_chain_struct\n }\n skeleton_chain_node;\n \n-/* How to start an assembler comment.  */\n-#ifndef ASM_COMMENT_START\n-#define ASM_COMMENT_START \";#\"\n-#endif\n-\n /* Define a macro which returns nonzero for a TYPE_DECL which was\n    implicitly generated for a type.\n "}, {"sha": "3416955d7eeeb20f017013d4a1cffce026c8c8ca", "filename": "gcc/final.c", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2Ffinal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2Ffinal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffinal.c?ref=ded49a7f6c1027557819ec66d8d8d258f575add3", "patch": "@@ -106,11 +106,6 @@ along with GCC; see the file COPYING3.  If not see\n #define CC_STATUS_INIT\n #endif\n \n-/* How to start an assembler comment.  */\n-#ifndef ASM_COMMENT_START\n-#define ASM_COMMENT_START \";#\"\n-#endif\n-\n /* Is the given character a logical line separator for the assembler?  */\n #ifndef IS_ASM_LOGICAL_LINE_SEPARATOR\n #define IS_ASM_LOGICAL_LINE_SEPARATOR(C, STR) ((C) == ';')"}, {"sha": "109325cc871a9698628d167fcba8b61e22c9b7ba", "filename": "gcc/toplev.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=ded49a7f6c1027557819ec66d8d8d258f575add3", "patch": "@@ -722,7 +722,6 @@ print_version (FILE *file, const char *indent)\n   print_plugins_versions (file, indent);\n }\n \n-#ifdef ASM_COMMENT_START\n static int\n print_to_asm_out_file (print_switch_type type, const char * text)\n {\n@@ -755,7 +754,6 @@ print_to_asm_out_file (print_switch_type type, const char * text)\n       return -1;\n     }\n }\n-#endif\n \n static int\n print_to_stderr (print_switch_type type, const char * text)\n@@ -921,7 +919,6 @@ init_asm_output (const char *name)\n \t    inform (input_location, \"-frecord-gcc-switches is not supported by the current target\");\n \t}\n \n-#ifdef ASM_COMMENT_START\n       if (flag_verbose_asm)\n \t{\n \t  /* Print the list of switches in effect\n@@ -930,7 +927,6 @@ init_asm_output (const char *name)\n \t  print_switch_values (print_to_asm_out_file);\n \t  putc ('\\n', asm_out_file);\n \t}\n-#endif\n     }\n }\n "}, {"sha": "b0690f50a5109f5aa5f310db3936278753088d33", "filename": "gcc/varasm.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=ded49a7f6c1027557819ec66d8d8d258f575add3", "patch": "@@ -5062,14 +5062,12 @@ output_constructor (tree exp, unsigned HOST_WIDE_INT size,\n       else if (TREE_CODE (local.type) == ARRAY_TYPE)\n \tlocal.index = ce->index;\n \n-#ifdef ASM_COMMENT_START\n       if (local.field && flag_verbose_asm)\n \tfprintf (asm_out_file, \"%s %s:\\n\",\n \t\t ASM_COMMENT_START,\n \t\t DECL_NAME (local.field)\n \t\t ? IDENTIFIER_POINTER (DECL_NAME (local.field))\n \t\t : \"<anonymous>\");\n-#endif\n \n       /* Eliminate the marker that makes a cast not be an lvalue.  */\n       if (local.val != NULL_TREE)\n@@ -6180,12 +6178,10 @@ default_elf_asm_named_section (const char *name, unsigned int flags,\n \ttype = \"progbits\";\n \n       format = \",@%s\";\n-#ifdef ASM_COMMENT_START\n       /* On platforms that use \"@\" as the assembly comment character,\n \t use \"%\" instead.  */\n       if (strcmp (ASM_COMMENT_START, \"@\") == 0)\n \tformat = \",%%%s\";\n-#endif\n       fprintf (asm_out_file, format, type);\n \n       if (flags & SECTION_ENTSIZE)"}, {"sha": "84a96c010e7d01fa8d5f0a845289393f022cff16", "filename": "gcc/vmsdbgout.c", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2Fvmsdbgout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ded49a7f6c1027557819ec66d8d8d258f575add3/gcc%2Fvmsdbgout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvmsdbgout.c?ref=ded49a7f6c1027557819ec66d8d8d258f575add3", "patch": "@@ -74,11 +74,6 @@ typedef struct dst_file_info_struct\n }\n dst_file_info_entry;\n \n-/* How to start an assembler comment.  */\n-#ifndef ASM_COMMENT_START\n-#define ASM_COMMENT_START \";#\"\n-#endif\n-\n /* Maximum size (in bytes) of an artificially generated label.  */\n #define MAX_ARTIFICIAL_LABEL_BYTES\t30\n "}]}