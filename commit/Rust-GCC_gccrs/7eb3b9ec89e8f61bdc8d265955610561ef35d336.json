{"sha": "7eb3b9ec89e8f61bdc8d265955610561ef35d336", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2ViM2I5ZWM4OWU4ZjYxYmRjOGQyNjU5NTU2MTA1NjFlZjM1ZDMzNg==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2005-01-11T20:19:35Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2005-01-11T20:19:35Z"}, "message": "re PR target/18761 (C++ ABI bug on OS X with embed types)\n\n2005-01-11  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR target/18761\n        * g++.dg/abi/align1.C: New test.\n\nFrom-SVN: r93194", "tree": {"sha": "4f64f69c5e757f65392f7f5294d0bb7363fbd8f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4f64f69c5e757f65392f7f5294d0bb7363fbd8f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7eb3b9ec89e8f61bdc8d265955610561ef35d336", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7eb3b9ec89e8f61bdc8d265955610561ef35d336", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7eb3b9ec89e8f61bdc8d265955610561ef35d336", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7eb3b9ec89e8f61bdc8d265955610561ef35d336/comments", "author": null, "committer": null, "parents": [{"sha": "85962ac8155f3b7ce94d02adbb0e390884c39fca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85962ac8155f3b7ce94d02adbb0e390884c39fca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85962ac8155f3b7ce94d02adbb0e390884c39fca"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "f74ab33fc559fdd0cb91e64281fed141298f3170", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7eb3b9ec89e8f61bdc8d265955610561ef35d336/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7eb3b9ec89e8f61bdc8d265955610561ef35d336/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7eb3b9ec89e8f61bdc8d265955610561ef35d336", "patch": "@@ -1,3 +1,8 @@\n+2005-01-11  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR target/18761\n+\t* g++.dg/abi/align1.C: New test.\n+\n 2005-01-11  Alan Modra  <amodra@bigpond.net.au>\n \n \t* g++.dg/ext/altivec-3.C (baz, baz2): Check one component of structs"}, {"sha": "2a70bce601f93aadb87651168f0b87ce77cc2e2b", "filename": "gcc/testsuite/g++.dg/abi/align1.C", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7eb3b9ec89e8f61bdc8d265955610561ef35d336/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Falign1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7eb3b9ec89e8f61bdc8d265955610561ef35d336/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Falign1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Falign1.C?ref=7eb3b9ec89e8f61bdc8d265955610561ef35d336", "patch": "@@ -0,0 +1,27 @@\n+// This was failuring on powerpc-darwin and powerpc-aix as\n+// we were taking the embeded type as the first field decl.\n+//  This was PR target/18761. \n+// { dg-do run }\n+\n+\n+union A {\n+  double d;\n+};\n+union B {\n+  enum E { e };\n+  double d;\n+};\n+struct AlignA {\n+  char c;\n+  A a;\n+};\n+struct AlignB {\n+  char c;\n+  B b;\n+};\n+extern \"C\" void abort ();\n+int main () {\n+  if ( __alignof__ (AlignA) != __alignof__ (AlignB))\n+    abort ();\n+}\n+"}]}