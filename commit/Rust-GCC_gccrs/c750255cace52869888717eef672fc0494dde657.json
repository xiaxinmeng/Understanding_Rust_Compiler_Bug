{"sha": "c750255cace52869888717eef672fc0494dde657", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzc1MDI1NWNhY2U1Mjg2OTg4ODcxN2VlZjY3MmZjMDQ5NGRkZTY1Nw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2001-02-18T00:29:00Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2001-02-18T00:29:00Z"}, "message": "pt.c (check_explicit_specialization): Copy TREE_PRIVATE and TREE_PROTECTED from the template being specialized.\n\n\t* pt.c (check_explicit_specialization): Copy TREE_PRIVATE and\n\tTREE_PROTECTED from the template being specialized.\n\nFrom-SVN: r39813", "tree": {"sha": "326905436253f10769b32c64ce1d31ac468d4018", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/326905436253f10769b32c64ce1d31ac468d4018"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c750255cace52869888717eef672fc0494dde657", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c750255cace52869888717eef672fc0494dde657", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c750255cace52869888717eef672fc0494dde657", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c750255cace52869888717eef672fc0494dde657/comments", "author": null, "committer": null, "parents": [{"sha": "a714e5c5d34f921252d147a23ff3bc0642413824", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a714e5c5d34f921252d147a23ff3bc0642413824", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a714e5c5d34f921252d147a23ff3bc0642413824"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "e2de97ab4abbcec302da1ac08fb2b98164f7bd72", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c750255cace52869888717eef672fc0494dde657/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c750255cace52869888717eef672fc0494dde657/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c750255cace52869888717eef672fc0494dde657", "patch": "@@ -1,3 +1,8 @@\n+2001-02-17  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* pt.c (check_explicit_specialization): Copy TREE_PRIVATE and\n+\tTREE_PROTECTED from the template being specialized.\n+\n 2001-02-17  Jason Merrill  <jason@redhat.com>\n \n \t* decl2.c (build_artificial_parm): Set TREE_READONLY."}, {"sha": "b28c60a2b5b2677a30c369940d4acaff84fa7cc2", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c750255cace52869888717eef672fc0494dde657/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c750255cace52869888717eef672fc0494dde657/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=c750255cace52869888717eef672fc0494dde657", "patch": "@@ -1662,6 +1662,11 @@ check_explicit_specialization (declarator, decl, template_count, flags)\n \t     DECL is specializing.  */\n \t  copy_default_args_to_explicit_spec (decl);\n \n+\t  /* This specialization has the same protection as the\n+\t     template it specializes.  */\n+\t  TREE_PRIVATE (decl) = TREE_PRIVATE (gen_tmpl);\n+\t  TREE_PROTECTED (decl) = TREE_PROTECTED (gen_tmpl);\n+\n \t  /* Mangle the function name appropriately.  Note that we do\n \t     not mangle specializations of non-template member\n \t     functions of template classes, e.g. with"}, {"sha": "04340c74883b1e5384ded8e3b52ffd4bb16f19ec", "filename": "gcc/testsuite/g++.old-deja/g++.other/access11.C", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c750255cace52869888717eef672fc0494dde657/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Faccess11.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c750255cace52869888717eef672fc0494dde657/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Faccess11.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Faccess11.C?ref=c750255cace52869888717eef672fc0494dde657", "patch": "@@ -0,0 +1,20 @@\n+// Build don't link:\n+// Origin: r.spatschek@fz-juelich.de\n+// Special g++ Options: -w\n+\n+class A\n+{\n+private:\n+  template <class T> void g(T t)  {}\n+  int i;\n+};\n+\n+template <>\n+void A::g<int>(int t) { i = 1; } // ERROR - private\n+\n+int main()\n+{\n+  A a;\n+ \n+  a.g<int>(0); // ERROR - private\n+}"}]}