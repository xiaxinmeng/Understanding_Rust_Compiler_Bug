{"sha": "39f3fed69d96a818c388450e5141d179ffe310d2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzlmM2ZlZDY5ZDk2YTgxOGMzODg0NTBlNTE0MWQxNzlmZmUzMTBkMg==", "commit": {"author": {"name": "Ulrich Weigand", "email": "ulrich.weigand@linaro.org", "date": "2012-03-26T13:13:07Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2012-03-26T13:13:07Z"}, "message": "re PR tree-optimization/52686 (SLP crashes with WIDEN_LSHIFT_EXPR)\n\n\tgcc/\n\tPR tree-optimization/52686\n\t* tree-vect-data-refs.c (vect_get_smallest_scalar_type): Handle\n\tWIDEN_LSHIFT_EXPR.\n\n\tgcc/testsuite/\n\tPR tree-optimization/52686\n\t* gcc.target/arm/pr52686.c: New test.\n\nFrom-SVN: r185795", "tree": {"sha": "d6e1dabeb20e9473f9a885add8e3a3872cbdaf3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d6e1dabeb20e9473f9a885add8e3a3872cbdaf3b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/39f3fed69d96a818c388450e5141d179ffe310d2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39f3fed69d96a818c388450e5141d179ffe310d2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39f3fed69d96a818c388450e5141d179ffe310d2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39f3fed69d96a818c388450e5141d179ffe310d2/comments", "author": null, "committer": null, "parents": [{"sha": "6b3936a2baaa75e46a6546a49ac4a6a35950eb7e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b3936a2baaa75e46a6546a49ac4a6a35950eb7e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b3936a2baaa75e46a6546a49ac4a6a35950eb7e"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "04c4ec44891ceee7fb74e1cd904095fd9a7beaee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39f3fed69d96a818c388450e5141d179ffe310d2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39f3fed69d96a818c388450e5141d179ffe310d2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=39f3fed69d96a818c388450e5141d179ffe310d2", "patch": "@@ -1,3 +1,9 @@\n+2012-03-26  Ulrich Weigand  <ulrich.weigand@linaro.org>\n+\n+\tPR tree-optimization/52686\n+\t* tree-vect-data-refs.c (vect_get_smallest_scalar_type): Handle\n+\tWIDEN_LSHIFT_EXPR.\n+\n 2012-03-26  Tristan Gingold  <gingold@adacore.com>\n \n \t* config/alpha/vms.h (LINK_SPEC): Simplify."}, {"sha": "88c3ee2a9305c5434d5183ee250f4af23ac49ac5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39f3fed69d96a818c388450e5141d179ffe310d2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39f3fed69d96a818c388450e5141d179ffe310d2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=39f3fed69d96a818c388450e5141d179ffe310d2", "patch": "@@ -1,3 +1,8 @@\n+2012-03-26  Ulrich Weigand  <ulrich.weigand@linaro.org>\n+\n+\tPR tree-optimization/52686\n+\t* gcc.target/arm/pr52686.c: New test.\n+\n 2012-03-26  Georg-Johann Lay  <avr@gjlay.de>\n \n \t* gcc.target/avr/torture/avr-torture.exp (AVR_TORTURE_OPTIONS):"}, {"sha": "66cbc575eeca07a0c45fd35ed7c51e8cc8ef8f66", "filename": "gcc/testsuite/gcc.target/arm/pr52686.c", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39f3fed69d96a818c388450e5141d179ffe310d2/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr52686.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39f3fed69d96a818c388450e5141d179ffe310d2/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr52686.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr52686.c?ref=39f3fed69d96a818c388450e5141d179ffe310d2", "patch": "@@ -0,0 +1,19 @@\n+/* PR target/52375 */\n+/* { dg-do compile } */\n+/* { dg-require-effective-target arm_neon_ok } */\n+/* { dg-options \"-march=armv7-a -mfloat-abi=softfp -mfpu=neon -O -ftree-vectorize\" } */\n+\n+unsigned int output[4];\n+\n+void test (unsigned short *p)\n+{\n+  unsigned int x = *p;\n+  if (x)\n+    {\n+      output[0] = x << 1;\n+      output[1] = x << 1;\n+      output[2] = x << 1;\n+      output[3] = x << 1;\n+    }\n+}\n+"}, {"sha": "d9d1abfd480583b19d7eec25cb6fb1ab0ac60f72", "filename": "gcc/tree-vect-data-refs.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39f3fed69d96a818c388450e5141d179ffe310d2/gcc%2Ftree-vect-data-refs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39f3fed69d96a818c388450e5141d179ffe310d2/gcc%2Ftree-vect-data-refs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-data-refs.c?ref=39f3fed69d96a818c388450e5141d179ffe310d2", "patch": "@@ -111,6 +111,7 @@ vect_get_smallest_scalar_type (gimple stmt, HOST_WIDE_INT *lhs_size_unit,\n   if (is_gimple_assign (stmt)\n       && (gimple_assign_cast_p (stmt)\n           || gimple_assign_rhs_code (stmt) == WIDEN_MULT_EXPR\n+          || gimple_assign_rhs_code (stmt) == WIDEN_LSHIFT_EXPR\n           || gimple_assign_rhs_code (stmt) == FLOAT_EXPR))\n     {\n       tree rhs_type = TREE_TYPE (gimple_assign_rhs1 (stmt));"}]}