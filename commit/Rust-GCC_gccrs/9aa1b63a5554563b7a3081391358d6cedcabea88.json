{"sha": "9aa1b63a5554563b7a3081391358d6cedcabea88", "node_id": "C_kwDOANBUbNoAKDlhYTFiNjNhNTU1NDU2M2I3YTMwODEzOTEzNThkNmNlZGNhYmVhODg", "commit": {"author": {"name": "Richard Purdie", "email": "richard.purdie@linuxfoundation.org", "date": "2022-11-07T16:26:44Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2022-11-07T16:36:06Z"}, "message": "Fix NULL filename handling\n\nThe previous commit introduced a regression as some Ada tests end up passing\nNULL as the filename to remap_filename.  Handle this as before to fix them.\n\ngcc/\n\t* file-prefix-map.cc (remap_filename): Handle NULL filenames.", "tree": {"sha": "7eaaea6def3ff7c02d326180cc5382a2932630b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7eaaea6def3ff7c02d326180cc5382a2932630b9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9aa1b63a5554563b7a3081391358d6cedcabea88", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9aa1b63a5554563b7a3081391358d6cedcabea88", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9aa1b63a5554563b7a3081391358d6cedcabea88", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9aa1b63a5554563b7a3081391358d6cedcabea88/comments", "author": {"login": "rpurdie", "id": 1184070, "node_id": "MDQ6VXNlcjExODQwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1184070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rpurdie", "html_url": "https://github.com/rpurdie", "followers_url": "https://api.github.com/users/rpurdie/followers", "following_url": "https://api.github.com/users/rpurdie/following{/other_user}", "gists_url": "https://api.github.com/users/rpurdie/gists{/gist_id}", "starred_url": "https://api.github.com/users/rpurdie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rpurdie/subscriptions", "organizations_url": "https://api.github.com/users/rpurdie/orgs", "repos_url": "https://api.github.com/users/rpurdie/repos", "events_url": "https://api.github.com/users/rpurdie/events{/privacy}", "received_events_url": "https://api.github.com/users/rpurdie/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cb0ceeaee9e041aaac3edd089b07b439621d0f29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb0ceeaee9e041aaac3edd089b07b439621d0f29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb0ceeaee9e041aaac3edd089b07b439621d0f29"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "40b10edcf928cafdb93bd56f5e346a1beeba8397", "filename": "gcc/file-prefix-map.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9aa1b63a5554563b7a3081391358d6cedcabea88/gcc%2Ffile-prefix-map.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9aa1b63a5554563b7a3081391358d6cedcabea88/gcc%2Ffile-prefix-map.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffile-prefix-map.cc?ref=9aa1b63a5554563b7a3081391358d6cedcabea88", "patch": "@@ -73,7 +73,7 @@ remap_filename (file_prefix_map *maps, const char *filename)\n   char *realname;\n   size_t name_len;\n \n-  if (lbasename (filename) == filename)\n+  if (!filename || lbasename (filename) == filename)\n     return filename;\n \n   realname = lrealpath (filename);"}]}