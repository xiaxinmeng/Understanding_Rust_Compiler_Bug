{"sha": "3a7a02f4355bb81f7cb253fc900ad57c9503f5c7", "node_id": "C_kwDOANBUbNoAKDNhN2EwMmY0MzU1YmI4MWY3Y2IyNTNmYzkwMGFkNTdjOTUwM2Y1Yzc", "commit": {"author": {"name": "Vasiliy Fofanov", "email": "fofanov@adacore.com", "date": "2022-06-28T15:50:38Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2022-07-12T12:24:13Z"}, "message": "[Ada] Make it clear that gnatmake passes the ball to gprbuild if -P is set\n\nAlso move -P switch description to the top of the switches list.\n\ngcc/ada/\n\n\t* makeusg.adb,\n\tdoc/gnat_ugn/building_executable_programs_with_gnat.rst: Move -P\n\tto the top of switches list and make it clear that gnatmake\n\tpasses the ball to gprbuild if -P is set.\n\t* gnat_ugn.texi: Regenerate.", "tree": {"sha": "4953c4f8a27a658ad74cd45b72b8756ce593c609", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4953c4f8a27a658ad74cd45b72b8756ce593c609"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3a7a02f4355bb81f7cb253fc900ad57c9503f5c7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a7a02f4355bb81f7cb253fc900ad57c9503f5c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a7a02f4355bb81f7cb253fc900ad57c9503f5c7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a7a02f4355bb81f7cb253fc900ad57c9503f5c7/comments", "author": {"login": "t-14", "id": 18482303, "node_id": "MDQ6VXNlcjE4NDgyMzAz", "avatar_url": "https://avatars.githubusercontent.com/u/18482303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/t-14", "html_url": "https://github.com/t-14", "followers_url": "https://api.github.com/users/t-14/followers", "following_url": "https://api.github.com/users/t-14/following{/other_user}", "gists_url": "https://api.github.com/users/t-14/gists{/gist_id}", "starred_url": "https://api.github.com/users/t-14/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/t-14/subscriptions", "organizations_url": "https://api.github.com/users/t-14/orgs", "repos_url": "https://api.github.com/users/t-14/repos", "events_url": "https://api.github.com/users/t-14/events{/privacy}", "received_events_url": "https://api.github.com/users/t-14/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fa7ea64706f7d4b1302360818c87bf5970d59a0c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa7ea64706f7d4b1302360818c87bf5970d59a0c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa7ea64706f7d4b1302360818c87bf5970d59a0c"}], "stats": {"total": 62, "additions": 34, "deletions": 28}, "files": [{"sha": "5442d5544cb3ff8b4ff5e4ba32413da4e98099e0", "filename": "gcc/ada/doc/gnat_ugn/building_executable_programs_with_gnat.rst", "status": "modified", "additions": 11, "deletions": 9, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a7a02f4355bb81f7cb253fc900ad57c9503f5c7/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fbuilding_executable_programs_with_gnat.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a7a02f4355bb81f7cb253fc900ad57c9503f5c7/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fbuilding_executable_programs_with_gnat.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fbuilding_executable_programs_with_gnat.rst?ref=3a7a02f4355bb81f7cb253fc900ad57c9503f5c7", "patch": "@@ -139,6 +139,17 @@ You may specify any of the following switches to ``gnatmake``:\n   all other options.\n \n \n+.. index:: -P  (gnatmake)\n+\n+:switch:`-P{project}`\n+  Build GNAT project file ``project`` using GPRbuild. When this switch is\n+  present, all other command-line switches are treated as GPRbuild switches\n+  and not ``gnatmake`` switches.\n+\n+.. -- Comment:\n+  :ref:`gnatmake_and_Project_Files`.\n+\n+\n .. index:: --GCC=compiler_name  (gnatmake)\n \n :switch:`--GCC={compiler_name}`\n@@ -522,15 +533,6 @@ You may specify any of the following switches to ``gnatmake``:\n :switch:`-p`\n   Same as :switch:`--create-missing-dirs`\n \n-.. index:: -P  (gnatmake)\n-\n-:switch:`-P{project}`\n-  Use project file ``project``. Only one such switch can be used.\n-\n-.. -- Comment:\n-  :ref:`gnatmake_and_Project_Files`.\n-\n-\n .. index:: -q  (gnatmake)\n \n :switch:`-q`"}, {"sha": "64ebd95cbe03184997dbfd5e3f28a3121ba23e30", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 16, "deletions": 14, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a7a02f4355bb81f7cb253fc900ad57c9503f5c7/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a7a02f4355bb81f7cb253fc900ad57c9503f5c7/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=3a7a02f4355bb81f7cb253fc900ad57c9503f5c7", "patch": "@@ -21,7 +21,7 @@\n \n @copying\n @quotation\n-GNAT User's Guide for Native Platforms , Jun 24, 2022\n+GNAT User's Guide for Native Platforms , Jul 11, 2022\n \n AdaCore\n \n@@ -7120,6 +7120,21 @@ If @code{--version} was not used, display usage, then exit disregarding\n all other options.\n @end table\n \n+@geindex -P (gnatmake)\n+\n+\n+@table @asis\n+\n+@item @code{-P@emph{project}}\n+\n+Build GNAT project file @code{project} using GPRbuild. When this switch is\n+present, all other command-line switches are treated as GPRbuild switches\n+and not @code{gnatmake} switches.\n+@end table\n+\n+@c -- Comment:\n+@c :ref:`gnatmake_and_Project_Files`.\n+\n @geindex --GCC=compiler_name (gnatmake)\n \n \n@@ -7620,19 +7635,6 @@ This switch cannot be used when invoking @code{gnatmake} with several\n Same as @code{--create-missing-dirs}\n @end table\n \n-@geindex -P (gnatmake)\n-\n-\n-@table @asis\n-\n-@item @code{-P@emph{project}}\n-\n-Use project file @code{project}. Only one such switch can be used.\n-@end table\n-\n-@c -- Comment:\n-@c :ref:`gnatmake_and_Project_Files`.\n-\n @geindex -q (gnatmake)\n \n "}, {"sha": "74c0d1713062ff6864b516d4c5920d1e389743f0", "filename": "gcc/ada/makeusg.adb", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a7a02f4355bb81f7cb253fc900ad57c9503f5c7/gcc%2Fada%2Fmakeusg.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a7a02f4355bb81f7cb253fc900ad57c9503f5c7/gcc%2Fada%2Fmakeusg.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmakeusg.adb?ref=3a7a02f4355bb81f7cb253fc900ad57c9503f5c7", "patch": "@@ -54,6 +54,13 @@ begin\n \n    Display_Usage_Version_And_Help;\n \n+   --  Line for -P\n+\n+   Write_Str (\"  -Pproj   Build GNAT Project File proj using GPRbuild\");\n+   Write_Eol;\n+   Write_Str (\"           Treats all other switches as GPRbuild switches\");\n+   Write_Eol;\n+\n    --  Line for -a\n \n    Write_Str (\"  -a       Consider all files, even readonly ali files\");\n@@ -169,11 +176,6 @@ begin\n    Write_Str (\"  -p       Create missing obj, lib and exec dirs\");\n    Write_Eol;\n \n-   --  Line for -P\n-\n-   Write_Str (\"  -Pproj   Use GNAT Project File proj\");\n-   Write_Eol;\n-\n    --  Line for -q\n \n    Write_Str (\"  -q       Be quiet/terse\");"}]}