{"sha": "c043ee4a3aca9dab1b13808abce5de717eced450", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzA0M2VlNGEzYWNhOWRhYjFiMTM4MDhhYmNlNWRlNzE3ZWNlZDQ1MA==", "commit": {"author": {"name": "Nathan Froyd", "email": "froydnj@codesourcery.com", "date": "2010-08-18T16:05:40Z"}, "committer": {"name": "Nathan Froyd", "email": "froydnj@gcc.gnu.org", "date": "2010-08-18T16:05:40Z"}, "message": "re PR c++/45049 (ICE: tree check: expected tree that contains 'decl minimal' structure, have 'tree_list' in push_overloaded_decl, at cp/name-lookup.c:2160)\n\ngcc/cp/\n\tPR c++/45049\n\t* name-lookup.c (push_overloaded_decl): Change DECL_CHAIN to\n\tTREE_CHAIN.\n\ngcc/testsuite/\n\tPR c++/45049\n\t* g++.dg/pr45049-1.C: New test.\n\t* g++.dg/pr45049-2.C: New test.\n\nFrom-SVN: r163344", "tree": {"sha": "1b236ea0b57d049c968cfe54f950db94f793ef09", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1b236ea0b57d049c968cfe54f950db94f793ef09"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c043ee4a3aca9dab1b13808abce5de717eced450", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c043ee4a3aca9dab1b13808abce5de717eced450", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c043ee4a3aca9dab1b13808abce5de717eced450", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c043ee4a3aca9dab1b13808abce5de717eced450/comments", "author": null, "committer": null, "parents": [{"sha": "3ff91293eb19a5b6fa7fd47ca99b93d57d89570d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ff91293eb19a5b6fa7fd47ca99b93d57d89570d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ff91293eb19a5b6fa7fd47ca99b93d57d89570d"}], "stats": {"total": 42, "additions": 40, "deletions": 2}, "files": [{"sha": "f8e53540382b4bad72b482c050eef9cfd91d82b7", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c043ee4a3aca9dab1b13808abce5de717eced450/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c043ee4a3aca9dab1b13808abce5de717eced450/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c043ee4a3aca9dab1b13808abce5de717eced450", "patch": "@@ -1,3 +1,9 @@\n+2010-08-18  Nathan Froyd  <froydnj@codesourcery.com>\n+\n+\tPR c++/45049\n+\t* name-lookup.c (push_overloaded_decl): Change DECL_CHAIN to\n+\tTREE_CHAIN.\n+\n 2010-08-17  Kai Tietz  <kai.tietz@onevision.com>\n \n \t* class.c (note_name_declared_in_class): Make in 'extern \"C\"' blocks,"}, {"sha": "800e340de95ba288553b623a4efa31e5895d247d", "filename": "gcc/cp/name-lookup.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c043ee4a3aca9dab1b13808abce5de717eced450/gcc%2Fcp%2Fname-lookup.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c043ee4a3aca9dab1b13808abce5de717eced450/gcc%2Fcp%2Fname-lookup.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fname-lookup.c?ref=c043ee4a3aca9dab1b13808abce5de717eced450", "patch": "@@ -2157,7 +2157,7 @@ push_overloaded_decl (tree decl, int flags, bool is_friend)\n \n \t  for (d = &IDENTIFIER_BINDING (name)->scope->names;\n \t       *d;\n-\t       d = &DECL_CHAIN (*d))\n+\t       d = &TREE_CHAIN (*d))\n \t    if (*d == old\n \t\t|| (TREE_CODE (*d) == TREE_LIST\n \t\t    && TREE_VALUE (*d) == old))\n@@ -2168,7 +2168,7 @@ push_overloaded_decl (tree decl, int flags, bool is_friend)\n \t\telse\n \t\t  /* Build a TREE_LIST to wrap the OVERLOAD.  */\n \t\t  *d = tree_cons (NULL_TREE, new_binding,\n-\t\t\t\t  DECL_CHAIN (*d));\n+\t\t\t\t  TREE_CHAIN (*d));\n \n \t\t/* And update the cxx_binding node.  */\n \t\tIDENTIFIER_BINDING (name)->value = new_binding;"}, {"sha": "32f4228df4594f6e5224531e64adeeb499ac834a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c043ee4a3aca9dab1b13808abce5de717eced450/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c043ee4a3aca9dab1b13808abce5de717eced450/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c043ee4a3aca9dab1b13808abce5de717eced450", "patch": "@@ -1,3 +1,9 @@\n+2010-08-18  Nathan Froyd  <froydnj@codesourcery.com>\n+\n+\tPR c++/45049\n+\t* g++.dg/pr45049-1.C: New test.\n+\t* g++.dg/pr45049-2.C: New test.\n+\n 2010-08-18  Jie Zhang  <jie@codesourcery.com>\n \n \t* gcc.dg/builtin-apply2.c (STACK_ARGUMENTS_SIZE): Define to"}, {"sha": "7b1dcd568ebe054bdc849636a961ba20067d624f", "filename": "gcc/testsuite/g++.dg/pr45049-1.C", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c043ee4a3aca9dab1b13808abce5de717eced450/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr45049-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c043ee4a3aca9dab1b13808abce5de717eced450/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr45049-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr45049-1.C?ref=c043ee4a3aca9dab1b13808abce5de717eced450", "patch": "@@ -0,0 +1,17 @@\n+/* { dg-do compile } */\n+\n+namespace n1 {\n+  void modf ();\n+}\n+\n+namespace n2 {\n+  void trunc ();\n+  void modf ();\n+}\n+    \n+void max ()\n+{\n+  using n1::modf;\n+  using n2::trunc;\n+  using n2::modf;\n+}"}, {"sha": "a9518842edb66beb54ca0f39ef754afd2961566b", "filename": "gcc/testsuite/g++.dg/pr45049-2.C", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c043ee4a3aca9dab1b13808abce5de717eced450/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr45049-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c043ee4a3aca9dab1b13808abce5de717eced450/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr45049-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr45049-2.C?ref=c043ee4a3aca9dab1b13808abce5de717eced450", "patch": "@@ -0,0 +1,9 @@\n+/* { dg-do compile } */\n+\n+void foo()\n+{\n+  void bar(int);\n+  void baz(int);\n+  void baz(void);\n+  void bar(void);\n+}"}]}