{"sha": "e21fa13af1243b008ddb546ea914cc63826f8ca0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTIxZmExM2FmMTI0M2IwMDhkZGI1NDZlYTkxNGNjNjM4MjZmOGNhMA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-05-06T21:54:08Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-05-06T21:54:08Z"}, "message": "(stupid_life_analysis): Check the usage information on CALL_INSNs.\n\nFrom-SVN: r7249", "tree": {"sha": "ce3f2b16d89fd43e7ebe215fa5cd3176161b05f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce3f2b16d89fd43e7ebe215fa5cd3176161b05f6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e21fa13af1243b008ddb546ea914cc63826f8ca0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e21fa13af1243b008ddb546ea914cc63826f8ca0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e21fa13af1243b008ddb546ea914cc63826f8ca0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e21fa13af1243b008ddb546ea914cc63826f8ca0/comments", "author": null, "committer": null, "parents": [{"sha": "d7e09326f25d83fde3215698ff2520e29c0828dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7e09326f25d83fde3215698ff2520e29c0828dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d7e09326f25d83fde3215698ff2520e29c0828dd"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "ca9d44cc5e79dafeb933ce025f87b29ca3a9a46b", "filename": "gcc/stupid.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e21fa13af1243b008ddb546ea914cc63826f8ca0/gcc%2Fstupid.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e21fa13af1243b008ddb546ea914cc63826f8ca0/gcc%2Fstupid.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstupid.c?ref=e21fa13af1243b008ddb546ea914cc63826f8ca0", "patch": "@@ -214,6 +214,8 @@ stupid_life_analysis (f, nregs, file)\n \t  for (i = 0; i < FIRST_PSEUDO_REGISTER; i++)\n \t    if (call_used_regs[i])\n \t      regs_live[i] = 0;\n+\n+\t  stupid_mark_refs (CALL_INSN_FUNCTION_USAGE (insn), insn);\n \t}\n \n       /* Update which hard regs are currently live\n@@ -385,10 +387,15 @@ static void\n stupid_mark_refs (x, insn)\n      rtx x, insn;\n {\n-  register RTX_CODE code = GET_CODE (x);\n+  register RTX_CODE code;\n   register char *fmt;\n   register int regno, i;\n \n+  if (x == 0)\n+    return;\n+\n+  code = GET_CODE (x);\n+\n   if (code == SET || code == CLOBBER)\n     {\n       if (SET_DEST (x) != 0 && GET_CODE (SET_DEST (x)) == REG)"}]}