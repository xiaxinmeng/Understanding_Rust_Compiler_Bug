{"sha": "ddd792fa53345180c782494aa597e438a73b6248", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGRkNzkyZmE1MzM0NTE4MGM3ODI0OTRhYTU5N2U0MzhhNzNiNjI0OA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathans@fb.com", "date": "2020-01-14T21:08:14Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathans@fb.com", "date": "2020-01-14T21:08:14Z"}, "message": "[PR90916]  Use TI accessor.\n\n\tPR c++/90916\n\t* pt.c (retrieve_specialization): Use get_template_info, not open\n\tcoding access.", "tree": {"sha": "b9631e413ca1830fc4da395c62049137a67b41d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b9631e413ca1830fc4da395c62049137a67b41d3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ddd792fa53345180c782494aa597e438a73b6248", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddd792fa53345180c782494aa597e438a73b6248", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ddd792fa53345180c782494aa597e438a73b6248", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddd792fa53345180c782494aa597e438a73b6248/comments", "author": null, "committer": null, "parents": [{"sha": "288c5324bf6e418dd94d718d1619464a4f68ff8e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/288c5324bf6e418dd94d718d1619464a4f68ff8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/288c5324bf6e418dd94d718d1619464a4f68ff8e"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "59e0994c397e53fe243f06261b24193024fcbd45", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddd792fa53345180c782494aa597e438a73b6248/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddd792fa53345180c782494aa597e438a73b6248/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=ddd792fa53345180c782494aa597e438a73b6248", "patch": "@@ -1,5 +1,9 @@\n 2020-01-14  Nathan Sidwell  <nathan@acm.org>\n \n+\tPT c++/90916\n+\t* pt.c (retrieve_specialization): Use get_template_info, not open\n+\tcoding access.\n+\n \tPR c++/90916\n \t* pt.c (retrieve_specialization): Get the TI from the decl or the\n \tclasstype as appropriate."}, {"sha": "9bb8cc13e5f49630e964ea36b56030b4a0acf9db", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddd792fa53345180c782494aa597e438a73b6248/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddd792fa53345180c782494aa597e438a73b6248/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=ddd792fa53345180c782494aa597e438a73b6248", "patch": "@@ -1252,9 +1252,7 @@ retrieve_specialization (tree tmpl, tree args, hashval_t hash)\n       for (ovl_iterator iter (fns); iter; ++iter)\n \t{\n \t  tree fn = *iter;\n-\t  if (tree ti = (TREE_CODE (fn) == TYPE_DECL && !TYPE_DECL_ALIAS_P (fn)\n-\t\t\t ? TYPE_TEMPLATE_INFO (TREE_TYPE (fn))\n-\t\t\t : DECL_TEMPLATE_INFO (fn)))\n+\t  if (tree ti = get_template_info (fn))\n \t    if (TI_TEMPLATE (ti) == tmpl\n \t\t/* using-declarations can bring in a different\n \t\t   instantiation of tmpl as a member of a different"}]}