{"sha": "0ef54a47cf6012a588dc89ce63d2cf8d3106414f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGVmNTRhNDdjZjYwMTJhNTg4ZGM4OWNlNjNkMmNmOGQzMTA2NDE0Zg==", "commit": {"author": {"name": "Paul Brook", "email": "paul@codesourcery.com", "date": "2004-05-20T22:34:58Z"}, "committer": {"name": "Paul Brook", "email": "pbrook@gcc.gnu.org", "date": "2004-05-20T22:34:58Z"}, "message": "unwind-dw2-fde.c (get_cie_encoding): Handle dwarf3 CIE format.\n\n\t* unwind-dw2-fde.c (get_cie_encoding): Handle dwarf3 CIE format.\n\t* unwind-dw2.c (extract_cie_info): Ditto.\n\t(_Unwind_FrameState): Change retaddr_column to word type.\n\nFrom-SVN: r82072", "tree": {"sha": "278ca55e31dd743391ce22e513a63554e8ff213a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/278ca55e31dd743391ce22e513a63554e8ff213a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0ef54a47cf6012a588dc89ce63d2cf8d3106414f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ef54a47cf6012a588dc89ce63d2cf8d3106414f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ef54a47cf6012a588dc89ce63d2cf8d3106414f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ef54a47cf6012a588dc89ce63d2cf8d3106414f/comments", "author": null, "committer": null, "parents": [{"sha": "f4085d4c0b2c20282d8197507f6ffb35522aa2e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4085d4c0b2c20282d8197507f6ffb35522aa2e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4085d4c0b2c20282d8197507f6ffb35522aa2e6"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "60fe09b2ad67a850f36796620c44cd30eab6f0e4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ef54a47cf6012a588dc89ce63d2cf8d3106414f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ef54a47cf6012a588dc89ce63d2cf8d3106414f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0ef54a47cf6012a588dc89ce63d2cf8d3106414f", "patch": "@@ -1,3 +1,9 @@\n+2004-05-20  Paul Brook  <paul@codesourcery.com>\n+\n+\t* unwind-dw2-fde.c (get_cie_encoding): Handle dwarf3 CIE format.\n+\t* unwind-dw2.c (extract_cie_info): Ditto.\n+\t(_Unwind_FrameState): Change retaddr_column to word type.\n+\n 2004-05-20  Roger Sayle  <roger@eyesopen.com>\n \n \tPR middle-end/3074"}, {"sha": "2a81e3676cc5a0c9eb205fd2d1696d304b2caf72", "filename": "gcc/unwind-dw2-fde.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ef54a47cf6012a588dc89ce63d2cf8d3106414f/gcc%2Funwind-dw2-fde.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ef54a47cf6012a588dc89ce63d2cf8d3106414f/gcc%2Funwind-dw2-fde.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funwind-dw2-fde.c?ref=0ef54a47cf6012a588dc89ce63d2cf8d3106414f", "patch": "@@ -276,7 +276,10 @@ get_cie_encoding (const struct dwarf_cie *cie)\n   p = aug + strlen (aug) + 1;\t\t/* Skip the augmentation string.  */\n   p = read_uleb128 (p, &utmp);\t\t/* Skip code alignment.  */\n   p = read_sleb128 (p, &stmp);\t\t/* Skip data alignment.  */\n-  p++;\t\t\t\t\t/* Skip return address column.  */\n+  if (cie->version == 1)\t\t/* Skip return address column.  */\n+    p++;\n+  else\n+    p = read_uleb128 (p, &utmp);\n \n   aug++;\t\t\t\t/* Skip 'z' */\n   p = read_uleb128 (p, &utmp);\t\t/* Skip augmentation length.  */"}, {"sha": "b99b7007a00ccd9c96b2fa9d2587158b45d06898", "filename": "gcc/unwind-dw2.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ef54a47cf6012a588dc89ce63d2cf8d3106414f/gcc%2Funwind-dw2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ef54a47cf6012a588dc89ce63d2cf8d3106414f/gcc%2Funwind-dw2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funwind-dw2.c?ref=0ef54a47cf6012a588dc89ce63d2cf8d3106414f", "patch": "@@ -133,7 +133,7 @@ typedef struct\n   _Unwind_Personality_Fn personality;\n   _Unwind_Sword data_align;\n   _Unwind_Word code_align;\n-  unsigned char retaddr_column;\n+  _Unwind_Word retaddr_column;\n   unsigned char fde_encoding;\n   unsigned char lsda_encoding;\n   unsigned char saw_z;\n@@ -337,7 +337,10 @@ extract_cie_info (const struct dwarf_cie *cie, struct _Unwind_Context *context,\n      data alignment and return address column.  */\n   p = read_uleb128 (p, &fs->code_align);\n   p = read_sleb128 (p, &fs->data_align);\n-  fs->retaddr_column = *p++;\n+  if (cie->version == 1)\n+    fs->retaddr_column = *p++;\n+  else\n+    p = read_uleb128 (p, &fs->retaddr_column);\n   fs->lsda_encoding = DW_EH_PE_omit;\n \n   /* If the augmentation starts with 'z', then a uleb128 immediately"}]}