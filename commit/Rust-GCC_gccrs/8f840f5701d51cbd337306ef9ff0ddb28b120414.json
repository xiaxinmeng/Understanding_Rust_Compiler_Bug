{"sha": "8f840f5701d51cbd337306ef9ff0ddb28b120414", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGY4NDBmNTcwMWQ1MWNiZDMzNzMwNmVmOWZmMGRkYjI4YjEyMDQxNA==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@bitrange.com", "date": "2002-03-31T15:07:55Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2002-03-31T15:07:55Z"}, "message": "crti.asm (_init): Register _fini with atexit.\n\n\t* config/mmix/crti.asm (_init): Register _fini with atexit.\n\t* config/mmix/crtn.asm (_fini): Add omitted \"POP 0,0\".\n\nFrom-SVN: r51654", "tree": {"sha": "c445b7ba8931d3eea1b66d2c382fe06f35e6a7e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c445b7ba8931d3eea1b66d2c382fe06f35e6a7e8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8f840f5701d51cbd337306ef9ff0ddb28b120414", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f840f5701d51cbd337306ef9ff0ddb28b120414", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f840f5701d51cbd337306ef9ff0ddb28b120414", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f840f5701d51cbd337306ef9ff0ddb28b120414/comments", "author": null, "committer": null, "parents": [{"sha": "41ba8a20bd2bdfa0180420cce0182d0753e85de9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41ba8a20bd2bdfa0180420cce0182d0753e85de9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41ba8a20bd2bdfa0180420cce0182d0753e85de9"}], "stats": {"total": 18, "additions": 16, "deletions": 2}, "files": [{"sha": "8348c2038230fa155d1f1f070e0d6aad314b27f1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f840f5701d51cbd337306ef9ff0ddb28b120414/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f840f5701d51cbd337306ef9ff0ddb28b120414/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8f840f5701d51cbd337306ef9ff0ddb28b120414", "patch": "@@ -1,3 +1,8 @@\n+2002-03-30  Hans-Peter Nilsson  <hp@bitrange.com>\n+\n+\t* config/mmix/crti.asm (_init): Register _fini with atexit.\n+\t* config/mmix/crtn.asm (_fini): Add omitted \"POP 0,0\".\n+\n 2002-03-31  Richard Henderson  <rth@redhat.com>\n \n \tPR target/3997"}, {"sha": "f4458f7b1b83154c35a96095632ba651fdf22433", "filename": "gcc/config/mmix/crti.asm", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f840f5701d51cbd337306ef9ff0ddb28b120414/gcc%2Fconfig%2Fmmix%2Fcrti.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f840f5701d51cbd337306ef9ff0ddb28b120414/gcc%2Fconfig%2Fmmix%2Fcrti.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmmix%2Fcrti.asm?ref=8f840f5701d51cbd337306ef9ff0ddb28b120414", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 2001 Free Software Foundation, Inc.\n+/* Copyright (C) 2001, 2002 Free Software Foundation, Inc.\n    Contributed by Hans-Peter Nilsson <hp@bitrange.com>\n \n This file is free software; you can redistribute it and/or modify it\n@@ -103,6 +103,14 @@ _init:\n \tTRAP\t0,0,0\n 0H\tIS\t@\n \n+% Register _fini to be executed as the last atexit function.\n+#ifdef __MMIX_ABI_GNU__\n+\tGETA\t$231,_fini\n+#else\n+\tGETA\t$1,_fini\n+#endif\n+\tPUSHJ\t$0,atexit\n+\n \t.section .fini,\"ax\",@progbits\n \t.global\t_fini\n _fini:"}, {"sha": "544b30738f23b832bd5b9a018d27c2d5ef0ffe01", "filename": "gcc/config/mmix/crtn.asm", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f840f5701d51cbd337306ef9ff0ddb28b120414/gcc%2Fconfig%2Fmmix%2Fcrtn.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f840f5701d51cbd337306ef9ff0ddb28b120414/gcc%2Fconfig%2Fmmix%2Fcrtn.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmmix%2Fcrtn.asm?ref=8f840f5701d51cbd337306ef9ff0ddb28b120414", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 2001 Free Software Foundation, Inc.\n+/* Copyright (C) 2001, 2002 Free Software Foundation, Inc.\n    Contributed by Hans-Peter Nilsson <hp@bitrange.com>\n \n This file is free software; you can redistribute it and/or modify it\n@@ -87,5 +87,6 @@ gnu_parm_reg_1 GREG\n \t.section .fini,\"ax\",@progbits\n \tGETA\t$255,0F\n \tPUT\trJ,$255\n+\tPOP\t0,0\n 0H\tPUT\trJ,$0\n \tPOP\t0,0"}]}