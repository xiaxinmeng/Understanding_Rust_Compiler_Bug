{"sha": "4000360e40bee85872f411d1f1f39a7c52e840cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDAwMDM2MGU0MGJlZTg1ODcyZjQxMWQxZjFmMzlhN2M1MmU4NDBjYg==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@codesourcery.com", "date": "2014-05-22T16:21:18Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2014-05-22T16:21:18Z"}, "message": "Create a new header lto-section-names.h\n\n       gcc/\n        * config/darwin.c: Include \"lto-section-names.h\".\n        (LTO_SEGMENT_NAME): Don't define.\n        * config/i386/winnt.c: Include \"lto-section-names.h\".\n        * lto-streamer.c: Include \"lto-section-names.h\".\n        * lto-streamer.h (LTO_SECTION_NAME_PREFIX): Don't define.\n        * lto-wrapper.c: Include \"lto-section-names.h\".\n        (LTO_SECTION_NAME_PREFIX): Don't define.\n        * lto-section-names.h: New file.\n        * cgraphunit.c: Include \"lto-section-names.h\".\n\n        gcc/lto/\n        * lto-object.c: Include \"lto-section-names.h\".\n        (LTO_SEGMENT_NAME): Don't define.\n        * lto.c: Include \"lto-section-names.h\".\n\nFrom-SVN: r210819", "tree": {"sha": "f7d61650256054125bf0451cc2e84c9bed76fc51", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f7d61650256054125bf0451cc2e84c9bed76fc51"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4000360e40bee85872f411d1f1f39a7c52e840cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4000360e40bee85872f411d1f1f39a7c52e840cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4000360e40bee85872f411d1f1f39a7c52e840cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4000360e40bee85872f411d1f1f39a7c52e840cb/comments", "author": null, "committer": null, "parents": [{"sha": "c9aee4508bc514dcea6383921d6b75644aecd35a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9aee4508bc514dcea6383921d6b75644aecd35a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9aee4508bc514dcea6383921d6b75644aecd35a"}], "stats": {"total": 73, "additions": 52, "deletions": 21}, "files": [{"sha": "65fb5021c9af5349898f5dc1d0a5805a37a9b80b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4000360e40bee85872f411d1f1f39a7c52e840cb", "patch": "@@ -1,3 +1,15 @@\n+2012-05-22  Bernd Schmidt  <bernds@codesourcery.com>\n+\n+\t* config/darwin.c: Include \"lto-section-names.h\".\n+\t(LTO_SEGMENT_NAME): Don't define.\n+\t* config/i386/winnt.c: Include \"lto-section-names.h\".\n+\t* lto-streamer.c: Include \"lto-section-names.h\".\n+\t* lto-streamer.h (LTO_SECTION_NAME_PREFIX): Don't define.\n+\t* lto-wrapper.c: Include \"lto-section-names.h\".\n+\t(LTO_SECTION_NAME_PREFIX): Don't define.\n+\t* lto-section-names.h: New file.\n+\t* cgraphunit.c: Include \"lto-section-names.h\".\n+\n 2014-05-22  Peter Bergner  <bergner@vnet.ibm.com>\n \n \t* config/rs6000/htm.md (ttest): Use correct shift value to get CR0."}, {"sha": "a2c87491d215794e11f4a4525173e1bd82345002", "filename": "gcc/config/darwin.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Fconfig%2Fdarwin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Fconfig%2Fdarwin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.c?ref=4000360e40bee85872f411d1f1f39a7c52e840cb", "patch": "@@ -61,6 +61,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"gimple.h\"\n #include \"gimplify.h\"\n #include \"lto-streamer.h\"\n+#include \"lto-section-names.h\"\n \n /* Darwin supports a feature called fix-and-continue, which is used\n    for rapid turn around debugging.  When code is compiled with the\n@@ -1898,9 +1899,6 @@ typedef struct GTY (()) darwin_lto_section_e {\n \n static GTY (()) vec<darwin_lto_section_e, va_gc> *lto_section_names;\n \n-/* Segment for LTO data.  */\n-#define LTO_SEGMENT_NAME \"__GNU_LTO\"\n-\n /* Section wrapper scheme (used here to wrap the unlimited number of LTO\n    sections into three Mach-O ones).\n    NOTE: These names MUST be kept in sync with those in"}, {"sha": "03e77aa80a7b14bf6ea7a53eb32f61979f28e67a", "filename": "gcc/config/i386/winnt.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Fconfig%2Fi386%2Fwinnt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Fconfig%2Fi386%2Fwinnt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fwinnt.c?ref=4000360e40bee85872f411d1f1f39a7c52e840cb", "patch": "@@ -49,6 +49,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"is-a.h\"\n #include \"gimple.h\"\n #include \"lto-streamer.h\"\n+#include \"lto-section-names.h\"\n \n /* i386/PE specific attribute support.\n "}, {"sha": "19a992d0b63cf789a34bc2484ddd6b473cf2c577", "filename": "gcc/lto-section-names.h", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Flto-section-names.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Flto-section-names.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-section-names.h?ref=4000360e40bee85872f411d1f1f39a7c52e840cb", "patch": "@@ -0,0 +1,28 @@\n+/* Definitions for LTO section names.\n+   Copyright (C) 2013 Free Software Foundation, Inc.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify it under\n+the terms of the GNU General Public License as published by the Free\n+Software Foundation; either version 3, or (at your option) any later\n+version.\n+\n+GCC is distributed in the hope that it will be useful, but WITHOUT ANY\n+WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING3.  If not see\n+<http://www.gnu.org/licenses/>.  */\n+\n+/* The string that is the prefix on the section names we make for lto.\n+   For decls the DECL_ASSEMBLER_NAME is appended to make the section\n+   name for the functions and static_initializers.  For other types of\n+   sections a '.' and the section type are appended.  */\n+#define LTO_SECTION_NAME_PREFIX \".gnu.lto_\"\n+\n+/* Segment name for LTO sections.  This is only used for Mach-O.  */\n+\n+#define LTO_SEGMENT_NAME \"__GNU_LTO\""}, {"sha": "a352adfe9489190da62f692a70d89410e4f97bee", "filename": "gcc/lto-streamer.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Flto-streamer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Flto-streamer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-streamer.c?ref=4000360e40bee85872f411d1f1f39a7c52e840cb", "patch": "@@ -37,6 +37,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"diagnostic-core.h\"\n #include \"tree-streamer.h\"\n #include \"lto-streamer.h\"\n+#include \"lto-section-names.h\"\n #include \"streamer-hooks.h\"\n \n /* Statistics gathered during LTO, WPA and LTRANS.  */"}, {"sha": "521d78dacc9763b980b3e6cfe70905ec9c8714d6", "filename": "gcc/lto-streamer.h", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Flto-streamer.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Flto-streamer.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-streamer.h?ref=4000360e40bee85872f411d1f1f39a7c52e840cb", "patch": "@@ -134,12 +134,6 @@ along with GCC; see the file COPYING3.  If not see\n      String are represented in the table as pairs, a length in ULEB128\n      form followed by the data for the string.  */\n \n-/* The string that is the prefix on the section names we make for lto.\n-   For decls the DECL_ASSEMBLER_NAME is appended to make the section\n-   name for the functions and static_initializers.  For other types of\n-   sections a '.' and the section type are appended.  */\n-#define LTO_SECTION_NAME_PREFIX         \".gnu.lto_\"\n-\n #define LTO_major_version 4\n #define LTO_minor_version 0\n "}, {"sha": "f59d74e4fa52c127c1712d76259b7e3f1d63b821", "filename": "gcc/lto-wrapper.c", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Flto-wrapper.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Flto-wrapper.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-wrapper.c?ref=4000360e40bee85872f411d1f1f39a7c52e840cb", "patch": "@@ -46,13 +46,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"opts.h\"\n #include \"options.h\"\n #include \"simple-object.h\"\n-\n-/* From lto-streamer.h which we cannot include with -fkeep-inline-functions.\n-   ???  Split out a lto-streamer-core.h.  */\n-\n-#define LTO_SECTION_NAME_PREFIX         \".gnu.lto_\"\n-\n-/* End of lto-streamer.h copy.  */\n+#include \"lto-section-names.h\"\n \n int debug;\t\t\t\t/* true if -save-temps.  */\n int verbose;\t\t\t\t/* true if -v.  */"}, {"sha": "790c6c95384a2b53593646bc119c740806b562e5", "filename": "gcc/lto/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Flto%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Flto%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2FChangeLog?ref=4000360e40bee85872f411d1f1f39a7c52e840cb", "patch": "@@ -1,3 +1,9 @@\n+2012-05-22  Bernd Schmidt  <bernds@codesourcery.com>\n+\n+\t* lto-object.c: Include \"lto-section-names.h\".\n+\t(LTO_SEGMENT_NAME): Don't define.\n+\t* lto.c: Include \"lto-section-names.h\".\n+\n 2014-05-17  Jan Hubicka  <hubicka@ucw.cz>\n \n \tPR lto/61012"}, {"sha": "c406efb3c3059e9e0814ed7ad991d6b5da7eaed8", "filename": "gcc/lto/lto-object.c", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Flto%2Flto-object.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Flto%2Flto-object.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2Flto-object.c?ref=4000360e40bee85872f411d1f1f39a7c52e840cb", "patch": "@@ -32,13 +32,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"lto.h\"\n #include \"tm.h\"\n #include \"lto-streamer.h\"\n+#include \"lto-section-names.h\"\n #include \"simple-object.h\"\n \n-/* Segment name for LTO sections.  This is only used for Mach-O.\n-   FIXME: This needs to be kept in sync with darwin.c.  */\n-\n-#define LTO_SEGMENT_NAME \"__GNU_LTO\"\n-\n /* An LTO file wrapped around an simple_object.  */\n \n struct lto_simple_object"}, {"sha": "00f5f62b37eccbfc0cc0fa60f66e776fd8f3ba02", "filename": "gcc/lto/lto.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Flto%2Flto.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4000360e40bee85872f411d1f1f39a7c52e840cb/gcc%2Flto%2Flto.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2Flto.c?ref=4000360e40bee85872f411d1f1f39a7c52e840cb", "patch": "@@ -43,6 +43,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"lto.h\"\n #include \"lto-tree.h\"\n #include \"lto-streamer.h\"\n+#include \"lto-section-names.h\"\n #include \"tree-streamer.h\"\n #include \"splay-tree.h\"\n #include \"lto-partition.h\""}]}