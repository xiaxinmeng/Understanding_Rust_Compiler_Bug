{"sha": "96fa18eb49018ae88dae0f4c45216ef5cdf8de2e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTZmYTE4ZWI0OTAxOGFlODhkYWUwZjRjNDUyMTZlZjVjZGY4ZGUyZQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-09-13T18:15:42Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-09-13T18:15:42Z"}, "message": "natArray.cc (BooleanClass): New define.\n\n\t* java/lang/reflect/natArray.cc (BooleanClass): New define.\n\t(get): Ensure Boolean class is initialized.\n\t* java/lang/reflect/natField.cc (BooleanClass): New define.\n\t(get): Ensure Boolean class is initialized.\n\nFrom-SVN: r36391", "tree": {"sha": "3483c9e2a4671c3d6cee57888089bde987ea8f17", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3483c9e2a4671c3d6cee57888089bde987ea8f17"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/96fa18eb49018ae88dae0f4c45216ef5cdf8de2e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96fa18eb49018ae88dae0f4c45216ef5cdf8de2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96fa18eb49018ae88dae0f4c45216ef5cdf8de2e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96fa18eb49018ae88dae0f4c45216ef5cdf8de2e/comments", "author": null, "committer": null, "parents": [{"sha": "1ca04dc8b6480d22d9f20620b14f16e5870c600d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ca04dc8b6480d22d9f20620b14f16e5870c600d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ca04dc8b6480d22d9f20620b14f16e5870c600d"}], "stats": {"total": 35, "additions": 27, "deletions": 8}, "files": [{"sha": "85cddc2d312e715919febe35e505e65190cc5508", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96fa18eb49018ae88dae0f4c45216ef5cdf8de2e/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96fa18eb49018ae88dae0f4c45216ef5cdf8de2e/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=96fa18eb49018ae88dae0f4c45216ef5cdf8de2e", "patch": "@@ -1,3 +1,10 @@\n+2000-09-13  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* java/lang/reflect/natArray.cc (BooleanClass): New define.\n+\t(get): Ensure Boolean class is initialized.\n+\t* java/lang/reflect/natField.cc (BooleanClass): New define.\n+\t(get): Ensure Boolean class is initialized.\n+\n 2000-09-13  Bryce McKinlay  <bryce@albatross.co.nz>\n \n \t* java/lang/String.java (CASE_INSENSITIVE_ORDER): New static field."}, {"sha": "4bce9ce8c0aebb83636ecf80fb42700373464e80", "filename": "libjava/java/lang/reflect/natArray.cc", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96fa18eb49018ae88dae0f4c45216ef5cdf8de2e/libjava%2Fjava%2Flang%2Freflect%2FnatArray.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96fa18eb49018ae88dae0f4c45216ef5cdf8de2e/libjava%2Fjava%2Flang%2Freflect%2FnatArray.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2Freflect%2FnatArray.cc?ref=96fa18eb49018ae88dae0f4c45216ef5cdf8de2e", "patch": "@@ -25,6 +25,9 @@ details.  */\n #include <java/lang/Boolean.h>\n #include <java/lang/Character.h>\n \n+#define BooleanClass _CL_Q34java4lang7Boolean\n+extern java::lang::Class BooleanClass;\n+\n jobject\n java::lang::reflect::Array::newInstance (jclass componentType, jint length)\n {\n@@ -211,10 +214,13 @@ java::lang::reflect::Array::get (jobject array, jint index)\n   if (elementType == JvPrimClass (char))\n     return new java::lang::Character (elements ((jcharArray) array) [index]);\n   if (elementType == JvPrimClass (boolean))\n-    if (elements ((jbooleanArray) array) [index])\n-      return java::lang::Boolean::TRUE;\n-    else\n-      return java::lang::Boolean::FALSE;\n+    {\n+      _Jv_InitClass (&BooleanClass);\n+      if (elements ((jbooleanArray) array) [index])\n+\treturn java::lang::Boolean::TRUE;\n+      else\n+\treturn java::lang::Boolean::FALSE;\n+    }\n   JvThrow (new java::lang::IllegalArgumentException());\n }\n "}, {"sha": "3cd296c70216e9e841d5dce52336392c42065a70", "filename": "libjava/java/lang/reflect/natField.cc", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96fa18eb49018ae88dae0f4c45216ef5cdf8de2e/libjava%2Fjava%2Flang%2Freflect%2FnatField.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96fa18eb49018ae88dae0f4c45216ef5cdf8de2e/libjava%2Fjava%2Flang%2Freflect%2FnatField.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2Freflect%2FnatField.cc?ref=96fa18eb49018ae88dae0f4c45216ef5cdf8de2e", "patch": "@@ -26,6 +26,9 @@ details.  */\n #include <java/lang/Boolean.h>\n #include <java/lang/Character.h>\n \n+#define BooleanClass _CL_Q34java4lang7Boolean\n+extern java::lang::Class BooleanClass;\n+\n jint\n java::lang::reflect::Field::getModifiers ()\n {\n@@ -251,10 +254,13 @@ java::lang::reflect::Field::get (jclass caller, jobject obj)\n   if (fld->type == JvPrimClass (char))\n     return new java::lang::Character (* (jchar*) addr);\n   if (fld->type == JvPrimClass (boolean))\n-    if (* (jboolean*) addr)\n-      return java::lang::Boolean::TRUE;\n-    else\n-      return java::lang::Boolean::FALSE;\n+    {\n+      _Jv_InitClass (&BooleanClass);\n+      if (* (jboolean*) addr)\n+\treturn java::lang::Boolean::TRUE;\n+      else\n+\treturn java::lang::Boolean::FALSE;\n+    }\n   JvThrow (new java::lang::IllegalArgumentException());\n }\n "}]}