{"sha": "47023d1a43e5b5a1f53d09d7b05aec5ac94e79ce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDcwMjNkMWE0M2U1YjVhMWY1M2QwOWQ3YjA1YWVjNWFjOTRlNzljZQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2004-11-29T01:15:39Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2004-11-29T01:15:39Z"}, "message": "PR/18662, also backported from tree-cleanup-branch.\n\n\t* tree-ssa-ccp.c (substitute_and_fold): If replaced anything,\n\talways call maybe_clean_eh_stmt and modify_stmt.\n\nCo-Authored-By: Diego Novillo <dnovillo@redhat.com>\n\nFrom-SVN: r91451", "tree": {"sha": "1eb3291507d8b64d114e5f1bbf2532b0100e5cd1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1eb3291507d8b64d114e5f1bbf2532b0100e5cd1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/47023d1a43e5b5a1f53d09d7b05aec5ac94e79ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47023d1a43e5b5a1f53d09d7b05aec5ac94e79ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47023d1a43e5b5a1f53d09d7b05aec5ac94e79ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47023d1a43e5b5a1f53d09d7b05aec5ac94e79ce/comments", "author": null, "committer": null, "parents": [{"sha": "9390c347e9f2ac5dc3a97933f537c1576a310f4e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9390c347e9f2ac5dc3a97933f537c1576a310f4e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9390c347e9f2ac5dc3a97933f537c1576a310f4e"}], "stats": {"total": 23, "additions": 16, "deletions": 7}, "files": [{"sha": "9b2dba2458cdf94d922bcd5586e7b662d886b2c8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47023d1a43e5b5a1f53d09d7b05aec5ac94e79ce/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47023d1a43e5b5a1f53d09d7b05aec5ac94e79ce/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=47023d1a43e5b5a1f53d09d7b05aec5ac94e79ce", "patch": "@@ -1,3 +1,10 @@\n+2004-11-28  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\t    Diego Novillo  <dnovillo@redhat.com>\t    \n+\n+\tPR/18662, also backported from tree-cleanup-branch.\n+\t* tree-ssa-ccp.c (substitute_and_fold): If replaced anything,\n+\talways call maybe_clean_eh_stmt and modify_stmt.\n+\n 2004-11-28  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n \tPR/18664"}, {"sha": "c530eded8c69680bd6b2e2022af4bdceb37d4057", "filename": "gcc/tree-ssa-ccp.c", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47023d1a43e5b5a1f53d09d7b05aec5ac94e79ce/gcc%2Ftree-ssa-ccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47023d1a43e5b5a1f53d09d7b05aec5ac94e79ce/gcc%2Ftree-ssa-ccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-ccp.c?ref=47023d1a43e5b5a1f53d09d7b05aec5ac94e79ce", "patch": "@@ -579,16 +579,18 @@ substitute_and_fold (void)\n \t    {\n \t      bool changed = fold_stmt (bsi_stmt_ptr (i));\n \t      stmt = bsi_stmt(i);\n+\n \t      /* If we folded a builtin function, we'll likely\n \t\t need to rename VDEFs.  */\n \t      if (replaced_address || changed)\n-\t\t{\n-\t\t  mark_new_vars_to_rename (stmt, vars_to_rename);\n-\t\t  if (maybe_clean_eh_stmt (stmt))\n-\t\t    tree_purge_dead_eh_edges (bb);\n-\t\t}\n-\t      else\n-\t\tmodify_stmt (stmt);\n+\t\tmark_new_vars_to_rename (stmt, vars_to_rename);\n+\n+              /* If we cleaned up EH information from the statement,\n+                 remove EH edges.  */\n+\t      if (maybe_clean_eh_stmt (stmt))\n+\t\ttree_purge_dead_eh_edges (bb);\n+\n+\t      modify_stmt (stmt);\n \t    }\n \n \t  if (dump_file && (dump_flags & TDF_DETAILS))"}]}