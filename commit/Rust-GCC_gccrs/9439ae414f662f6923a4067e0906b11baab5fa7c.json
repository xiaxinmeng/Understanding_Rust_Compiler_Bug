{"sha": "9439ae414f662f6923a4067e0906b11baab5fa7c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTQzOWFlNDE0ZjY2MmY2OTIzYTQwNjdlMDkwNmIxMWJhYWI1ZmE3Yw==", "commit": {"author": {"name": "Tobias Schl\u00fcter", "email": "tobi@gcc.gnu.org", "date": "2005-03-19T19:45:45Z"}, "committer": {"name": "Tobias Schl\u00fcter", "email": "tobi@gcc.gnu.org", "date": "2005-03-19T19:45:45Z"}, "message": "re PR fortran/18525 (ICE on valid code in gfc_get_symbol_decl())\n\nfortran/\n* dump-parse-tree.c (gfc_show_expr): Dump name of namespace\nin which the variable is declared.\n\nPR fortran/18525\n* resolve.c (was_declared): Also check for dummy attribute.\n\ntestsuite/\nPR fortran/18525\n* gfortran.dg/nesting_1.f90: New test.\n\nFrom-SVN: r96739", "tree": {"sha": "8ce984e73898818d3c65ed4adee306261d23e5f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ce984e73898818d3c65ed4adee306261d23e5f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9439ae414f662f6923a4067e0906b11baab5fa7c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9439ae414f662f6923a4067e0906b11baab5fa7c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9439ae414f662f6923a4067e0906b11baab5fa7c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9439ae414f662f6923a4067e0906b11baab5fa7c/comments", "author": {"login": "TobiSchluter", "id": 11887541, "node_id": "MDQ6VXNlcjExODg3NTQx", "avatar_url": "https://avatars.githubusercontent.com/u/11887541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TobiSchluter", "html_url": "https://github.com/TobiSchluter", "followers_url": "https://api.github.com/users/TobiSchluter/followers", "following_url": "https://api.github.com/users/TobiSchluter/following{/other_user}", "gists_url": "https://api.github.com/users/TobiSchluter/gists{/gist_id}", "starred_url": "https://api.github.com/users/TobiSchluter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TobiSchluter/subscriptions", "organizations_url": "https://api.github.com/users/TobiSchluter/orgs", "repos_url": "https://api.github.com/users/TobiSchluter/repos", "events_url": "https://api.github.com/users/TobiSchluter/events{/privacy}", "received_events_url": "https://api.github.com/users/TobiSchluter/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TobiSchluter", "id": 11887541, "node_id": "MDQ6VXNlcjExODg3NTQx", "avatar_url": "https://avatars.githubusercontent.com/u/11887541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TobiSchluter", "html_url": "https://github.com/TobiSchluter", "followers_url": "https://api.github.com/users/TobiSchluter/followers", "following_url": "https://api.github.com/users/TobiSchluter/following{/other_user}", "gists_url": "https://api.github.com/users/TobiSchluter/gists{/gist_id}", "starred_url": "https://api.github.com/users/TobiSchluter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TobiSchluter/subscriptions", "organizations_url": "https://api.github.com/users/TobiSchluter/orgs", "repos_url": "https://api.github.com/users/TobiSchluter/repos", "events_url": "https://api.github.com/users/TobiSchluter/events{/privacy}", "received_events_url": "https://api.github.com/users/TobiSchluter/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0de27aacb6dd0ee17f31b2019a21e75371e15a84", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0de27aacb6dd0ee17f31b2019a21e75371e15a84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0de27aacb6dd0ee17f31b2019a21e75371e15a84"}], "stats": {"total": 35, "additions": 34, "deletions": 1}, "files": [{"sha": "762b393296ebd5e989556f627cc855cadb0bb53a", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9439ae414f662f6923a4067e0906b11baab5fa7c/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9439ae414f662f6923a4067e0906b11baab5fa7c/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=9439ae414f662f6923a4067e0906b11baab5fa7c", "patch": "@@ -1,3 +1,11 @@\n+2005-03-18  Tobias Schl\"uter  <tobias.schlueter@physik.uni-muenchen.de>\n+\n+\t* dump-parse-tree.c (gfc_show_expr): Dump name of namespace\n+\tin which the variable is declared.\n+\n+\tPR fortran/18525\n+\t* resolve.c (was_declared): Also check for dummy attribute.\n+\n 2005-03-18  Tobias Schl\"uter  <tobias.schlueter@physik.uni-muenchen.de>\n \n \t* gfortran.h (arith): Remove ARITH_0TO0."}, {"sha": "3df244cca71e749e5128c8f88725f90412829fa2", "filename": "gcc/fortran/dump-parse-tree.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9439ae414f662f6923a4067e0906b11baab5fa7c/gcc%2Ffortran%2Fdump-parse-tree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9439ae414f662f6923a4067e0906b11baab5fa7c/gcc%2Ffortran%2Fdump-parse-tree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdump-parse-tree.c?ref=9439ae414f662f6923a4067e0906b11baab5fa7c", "patch": "@@ -409,6 +409,8 @@ gfc_show_expr (gfc_expr * p)\n       break;\n \n     case EXPR_VARIABLE:\n+      if (p->symtree->n.sym->ns && p->symtree->n.sym->ns->proc_name)\n+\tgfc_status (\"%s:\", p->symtree->n.sym->ns->proc_name->name);\n       gfc_status (\"%s\", p->symtree->n.sym->name);\n       gfc_show_ref (p->ref);\n       break;"}, {"sha": "16db94342d10d0d4c50d723da39d6b0eefe6a20f", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9439ae414f662f6923a4067e0906b11baab5fa7c/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9439ae414f662f6923a4067e0906b11baab5fa7c/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=9439ae414f662f6923a4067e0906b11baab5fa7c", "patch": "@@ -481,7 +481,7 @@ was_declared (gfc_symbol * sym)\n   if (!a.implicit_type && sym->ts.type != BT_UNKNOWN)\n     return 1;\n \n-  if (a.allocatable || a.dimension || a.external || a.intrinsic\n+  if (a.allocatable || a.dimension || a.dummy || a.external || a.intrinsic\n       || a.optional || a.pointer || a.save || a.target\n       || a.access != ACCESS_UNKNOWN || a.intent != INTENT_UNKNOWN)\n     return 1;"}, {"sha": "6af630a730d17fb91ef3422d273f5f5131bf9cfa", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9439ae414f662f6923a4067e0906b11baab5fa7c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9439ae414f662f6923a4067e0906b11baab5fa7c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9439ae414f662f6923a4067e0906b11baab5fa7c", "patch": "@@ -1,3 +1,8 @@\n+2005-03-19  Tobias Schlueter  <tobias.schlueter@physik.uni-muenchen.de>\n+\n+\tPR fortran/18525\n+\t* gfortran.dg/nesting_1.f90: New test.\n+\n 2005-03-19  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n \n \tPR c++/20240"}, {"sha": "51ebfd999a8bba4ce7cc4db6716c113b48d164fb", "filename": "gcc/testsuite/gfortran.dg/nesting_1.f90", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9439ae414f662f6923a4067e0906b11baab5fa7c/gcc%2Ftestsuite%2Fgfortran.dg%2Fnesting_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9439ae414f662f6923a4067e0906b11baab5fa7c/gcc%2Ftestsuite%2Fgfortran.dg%2Fnesting_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnesting_1.f90?ref=9439ae414f662f6923a4067e0906b11baab5fa7c", "patch": "@@ -0,0 +1,18 @@\n+! PR 18525\n+! we used to incorrectly refer to n from a when resolving the call to\n+! c from b\n+! { dg-do run }\n+subroutine a(n)\n+call b(n+1)\n+contains\n+  subroutine b(n)\n+    call c(n)\n+  end subroutine b\n+\n+  subroutine c(m)\n+    if (m/=1) call abort\n+  end subroutine c\n+end subroutine a\n+\n+call a(0)\n+end"}]}