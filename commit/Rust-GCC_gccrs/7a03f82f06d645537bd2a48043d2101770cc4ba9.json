{"sha": "7a03f82f06d645537bd2a48043d2101770cc4ba9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2EwM2Y4MmYwNmQ2NDU1MzdiZDJhNDgwNDNkMjEwMTc3MGNjNGJhOQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2002-04-28T20:37:05Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2002-04-28T20:37:05Z"}, "message": "re PR target/6496 (Sparc backend clobbers call-return stack of UltraSparc)\n\n\tPR target/6496\n\t* config/sparc/sparc.md (call + jump 32-bit peepholes): Disable jump\n\tafter call peepholes for UltraSPARC.\n\t(call + jump 64-bit peepholes): Remove.\n\nFrom-SVN: r52863", "tree": {"sha": "f86e91dc214fbde679dfccb46c9bb52249aec942", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f86e91dc214fbde679dfccb46c9bb52249aec942"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a03f82f06d645537bd2a48043d2101770cc4ba9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a03f82f06d645537bd2a48043d2101770cc4ba9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a03f82f06d645537bd2a48043d2101770cc4ba9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a03f82f06d645537bd2a48043d2101770cc4ba9/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "80103f96d07ab5f616749c5aee5b81893cdadc84", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80103f96d07ab5f616749c5aee5b81893cdadc84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80103f96d07ab5f616749c5aee5b81893cdadc84"}], "stats": {"total": 34, "additions": 11, "deletions": 23}, "files": [{"sha": "8c6c378020090bfac10fffe2f253233b8fade0b9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a03f82f06d645537bd2a48043d2101770cc4ba9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a03f82f06d645537bd2a48043d2101770cc4ba9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7a03f82f06d645537bd2a48043d2101770cc4ba9", "patch": "@@ -1,3 +1,10 @@\n+2002-04-28  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/6496\n+\t* config/sparc/sparc.md (call + jump 32-bit peepholes): Disable jump\n+\tafter call peepholes for UltraSPARC.\n+\t(call + jump 64-bit peepholes): Remove.\n+\n 2002-04-28  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n \n \tPR c/6497"}, {"sha": "2ceffeef118e73d43603cc8c67dc01ac9e06944e", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 4, "deletions": 23, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a03f82f06d645537bd2a48043d2101770cc4ba9/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a03f82f06d645537bd2a48043d2101770cc4ba9/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=7a03f82f06d645537bd2a48043d2101770cc4ba9", "patch": "@@ -9362,7 +9362,8 @@\n \t      (clobber (reg:SI 15))])\n    (set (pc) (label_ref (match_operand 3 \"\" \"\")))]\n   \"short_branch (INSN_UID (insn), INSN_UID (operands[3]))\n-   && (USING_SJLJ_EXCEPTIONS || ! can_throw_internal (ins1))\"\n+   && (USING_SJLJ_EXCEPTIONS || ! can_throw_internal (ins1))\n+   && sparc_cpu != PROCESSOR_ULTRASPARC\"\n   \"call\\\\t%a1, %2\\\\n\\\\tadd\\\\t%%o7, (%l3-.-4), %%o7\")\n \n (define_peephole\n@@ -9371,28 +9372,8 @@\n \t      (clobber (reg:SI 15))])\n    (set (pc) (label_ref (match_operand 2 \"\" \"\")))]\n   \"short_branch (INSN_UID (insn), INSN_UID (operands[2]))\n-   && (USING_SJLJ_EXCEPTIONS || ! can_throw_internal (ins1))\"\n-  \"call\\\\t%a0, %1\\\\n\\\\tadd\\\\t%%o7, (%l2-.-4), %%o7\")\n-\n-(define_peephole\n-  [(parallel [(set (match_operand 0 \"\" \"\")\n-\t\t   (call (mem:SI (match_operand:DI 1 \"call_operand_address\" \"ps\"))\n-\t\t\t (match_operand 2 \"\" \"\")))\n-\t      (clobber (reg:DI 15))])\n-   (set (pc) (label_ref (match_operand 3 \"\" \"\")))]\n-  \"TARGET_ARCH64\n-   && short_branch (INSN_UID (insn), INSN_UID (operands[3]))\n-   && (USING_SJLJ_EXCEPTIONS || ! can_throw_internal (ins1))\"\n-  \"call\\\\t%a1, %2\\\\n\\\\tadd\\\\t%%o7, (%l3-.-4), %%o7\")\n-\n-(define_peephole\n-  [(parallel [(call (mem:SI (match_operand:DI 0 \"call_operand_address\" \"ps\"))\n-\t\t    (match_operand 1 \"\" \"\"))\n-\t      (clobber (reg:DI 15))])\n-   (set (pc) (label_ref (match_operand 2 \"\" \"\")))]\n-  \"TARGET_ARCH64\n-   && short_branch (INSN_UID (insn), INSN_UID (operands[2]))\n-   && (USING_SJLJ_EXCEPTIONS || ! can_throw_internal (ins1))\"\n+   && (USING_SJLJ_EXCEPTIONS || ! can_throw_internal (ins1))\n+   && sparc_cpu != PROCESSOR_ULTRASPARC\"\n   \"call\\\\t%a0, %1\\\\n\\\\tadd\\\\t%%o7, (%l2-.-4), %%o7\")\n \n (define_insn \"prefetch\""}]}