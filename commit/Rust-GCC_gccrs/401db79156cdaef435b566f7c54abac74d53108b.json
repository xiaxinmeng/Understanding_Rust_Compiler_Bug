{"sha": "401db79156cdaef435b566f7c54abac74d53108b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDAxZGI3OTE1NmNkYWVmNDM1YjU2NmY3YzU0YWJhYzc0ZDUzMTA4Yg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-04-25T21:07:22Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-04-25T21:07:22Z"}, "message": "(extract_fixed_bit_field): Adjust BITPOS so that it\nfits inside MODE before adjusting OFFSET to get an aligned address.\n\nFrom-SVN: r4216", "tree": {"sha": "d740e7f9b823f5db2f7282f7c8f36ee32b327668", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d740e7f9b823f5db2f7282f7c8f36ee32b327668"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/401db79156cdaef435b566f7c54abac74d53108b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/401db79156cdaef435b566f7c54abac74d53108b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/401db79156cdaef435b566f7c54abac74d53108b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/401db79156cdaef435b566f7c54abac74d53108b/comments", "author": null, "committer": null, "parents": [{"sha": "31e4b1c0990daaa780524bf61f060049571f018b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31e4b1c0990daaa780524bf61f060049571f018b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31e4b1c0990daaa780524bf61f060049571f018b"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "6e7efadb8faa4e0abf122ee907ac1e0714ab28aa", "filename": "gcc/expmed.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/401db79156cdaef435b566f7c54abac74d53108b/gcc%2Fexpmed.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/401db79156cdaef435b566f7c54abac74d53108b/gcc%2Fexpmed.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpmed.c?ref=401db79156cdaef435b566f7c54abac74d53108b", "patch": "@@ -1257,6 +1257,16 @@ extract_fixed_bit_field (tmode, op0, offset, bitsize, bitpos,\n \n       total_bits = GET_MODE_BITSIZE (mode);\n \n+      /* Make sure bitpos is valid for the chosen mode.  Adjust BITPOS to\n+\t be be in the range 0 to total_bits-1, and put any excess bytes in\n+\t OFFSET.  */\n+      if (bitpos >= total_bits)\n+\t{\n+\t  offset += (bitpos / total_bits) * (total_bits / BITS_PER_UNIT);\n+\t  bitpos -= ((bitpos / total_bits) * (total_bits / BITS_PER_UNIT)\n+\t\t     * BITS_PER_UNIT);\n+\t}\n+\n       /* Get ref to an aligned byte, halfword, or word containing the field.\n \t Adjust BITPOS to be position within a word,\n \t and OFFSET to be the offset of that word."}]}