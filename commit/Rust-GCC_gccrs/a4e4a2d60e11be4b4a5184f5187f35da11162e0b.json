{"sha": "a4e4a2d60e11be4b4a5184f5187f35da11162e0b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTRlNGEyZDYwZTExYmU0YjRhNTE4NGY1MTg3ZjM1ZGExMTE2MmUwYg==", "commit": {"author": {"name": "Ralf Wildenhues", "email": "Ralf.Wildenhues@gmx.de", "date": "2008-07-14T18:26:45Z"}, "committer": {"name": "Ralf Wildenhues", "email": "rwild@gcc.gnu.org", "date": "2008-07-14T18:26:45Z"}, "message": "Makefile.in (write_entries_to_file, [...]): New macros.\n\ngcc/\n\t* Makefile.in (write_entries_to_file, write_entries_to_file_split):\n\tNew macros.\n\t(s-gtyp-input): Use them to write tmp-gi.list.\n\t(echo_to_gi.list): Remove.\n\nFrom-SVN: r137791", "tree": {"sha": "b016a13bb0e343ab0634432f4518068abfee6b5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b016a13bb0e343ab0634432f4518068abfee6b5a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a4e4a2d60e11be4b4a5184f5187f35da11162e0b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4e4a2d60e11be4b4a5184f5187f35da11162e0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a4e4a2d60e11be4b4a5184f5187f35da11162e0b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4e4a2d60e11be4b4a5184f5187f35da11162e0b/comments", "author": null, "committer": null, "parents": [{"sha": "caf55296b96659b2e2635680df283af32f8fa5d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/caf55296b96659b2e2635680df283af32f8fa5d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/caf55296b96659b2e2635680df283af32f8fa5d7"}], "stats": {"total": 33, "additions": 24, "deletions": 9}, "files": [{"sha": "f7924f4514e1562b56c215917779bc4698539859", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4e4a2d60e11be4b4a5184f5187f35da11162e0b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4e4a2d60e11be4b4a5184f5187f35da11162e0b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a4e4a2d60e11be4b4a5184f5187f35da11162e0b", "patch": "@@ -1,3 +1,10 @@\n+2008-07-14  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\t* Makefile.in (write_entries_to_file, write_entries_to_file_split):\n+\tNew macros.\n+\t(s-gtyp-input): Use them to write tmp-gi.list.\n+\t(echo_to_gi.list): Remove.\n+\n 2008-07-14  Richard Guenther  <rguenther@suse.de>\n \n \t* tree-ssa-sccvn.c (pre_info): Remove."}, {"sha": "856dbc30c0a877fbc76d807db7a9d4c200189595", "filename": "gcc/Makefile.in", "status": "modified", "additions": 17, "deletions": 9, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4e4a2d60e11be4b4a5184f5187f35da11162e0b/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4e4a2d60e11be4b4a5184f5187f35da11162e0b/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=a4e4a2d60e11be4b4a5184f5187f35da11162e0b", "patch": "@@ -257,6 +257,22 @@ build_file_translate = @build_file_translate@\n # Locate mkinstalldirs.\n mkinstalldirs=$(SHELL) $(srcdir)/../mkinstalldirs\n \n+# write_entries_to_file - writes each entry in a list\n+# to the specified file.  Entries are written in chunks of\n+# $(write_entries_to_file_split) to accomodate systems with\n+# severe command-line-length limitations.\n+# Parameters:\n+# $(1): variable containing entries to iterate over\n+# $(2): output file\n+write_entries_to_file_split = 50\n+write_entries_to_file = $(shell rm -f $(2) || :) $(shell touch $(2)) \\\n+\t$(foreach range, \\\n+\t  $(shell i=1; while test $$i -le $(words $(1)); do \\\n+\t     echo $$i; i=`expr $$i + $(write_entries_to_file_split)`; done), \\\n+\t  $(shell echo $(wordlist $(range), \\\n+\t\t\t  $(shell expr $(range) + $(write_entries_to_file_split) - 1), $(1)) \\\n+\t     | tr ' ' '\\n' >> $(2)))\n+\n # --------\n # UNSORTED\n # --------\n@@ -3196,20 +3212,12 @@ ALL_GTFILES_H := $(sort $(GTFILES_H) $(GTFILES_LANG_H))\n # $(GTFILES) may be too long to put on a command line, so we have to\n # write it out to a file (taking care not to do that in a way that\n # overflows a command line!) and then have gengtype read the file in.\n-# The extra blank line in this definition is crucial: it makes the\n-# $(foreach ...) below expand to many lines instead of one.\n-\n-define echo_to_gi.list\n-echo '$(gtyp)' >> tmp-gi.list\n-\n-endef\n \n $(ALL_GTFILES_H) gtype-desc.c gtype-desc.h : s-gtype ; @true\n \n gtyp-input.list: s-gtyp-input ; @true\n s-gtyp-input: Makefile\n-\trm -f tmp-gi.list\n-\t$(foreach gtyp, $(GTFILES), $(echo_to_gi.list))\n+\t@: $(call write_entries_to_file,$(GTFILES),tmp-gi.list)\n \t$(SHELL) $(srcdir)/../move-if-change tmp-gi.list gtyp-input.list\n \t$(STAMP) s-gtyp-input\n "}]}