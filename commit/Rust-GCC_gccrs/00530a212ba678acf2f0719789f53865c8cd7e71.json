{"sha": "00530a212ba678acf2f0719789f53865c8cd7e71", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDA1MzBhMjEyYmE2NzhhY2YyZjA3MTk3ODlmNTM4NjVjOGNkN2U3MQ==", "commit": {"author": {"name": "Andreas Jaeger", "email": "aj@suse.de", "date": "2003-03-12T20:30:06Z"}, "committer": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2003-03-12T20:30:06Z"}, "message": "c-cppbuiltin.c (cb_register_builtins): Define LP64 builtins for LP64 targets.\n\n        * c-cppbuiltin.c (cb_register_builtins): Define LP64 builtins for\n        LP64 targets.\n\n        * doc/cpp.texi (Common Predefined Macros): Document __LP64__ and\n        _LP64.\n\n        * config/ia64/ia64.h (TARGET_CPU_CPP_BUILTINS): Do not define\n        _LP64 macros here.\n        * config/pa/pa.h (TARGET_CPU_CPP_BUILTINS): Likewise.\n\n        * config/alpha/netbsd.h (TARGET_OS_CPP_BUILTINS): Remove call to\n        NETBSD_OS_CPP_BUILTINS_LP64.\n        * config/sh/netbsd-elf.h (TARGET_OS_CPP_BUILTINS): Likewise.\n        * config/sparc/netbsd-elf.h (TARGET_OS_CPP_BUILTINS): Likewise.\n\n        * config/netbsd.h (NETBSD_OS_CPP_BUILTINS_LP64): Remove.\n\nFrom-SVN: r64259", "tree": {"sha": "9e98baba4b769e2c50cd932b73d28268fbdd9eff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9e98baba4b769e2c50cd932b73d28268fbdd9eff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/00530a212ba678acf2f0719789f53865c8cd7e71", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00530a212ba678acf2f0719789f53865c8cd7e71", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00530a212ba678acf2f0719789f53865c8cd7e71", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00530a212ba678acf2f0719789f53865c8cd7e71/comments", "author": {"login": "ajaeger", "id": 16867, "node_id": "MDQ6VXNlcjE2ODY3", "avatar_url": "https://avatars.githubusercontent.com/u/16867?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajaeger", "html_url": "https://github.com/ajaeger", "followers_url": "https://api.github.com/users/ajaeger/followers", "following_url": "https://api.github.com/users/ajaeger/following{/other_user}", "gists_url": "https://api.github.com/users/ajaeger/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajaeger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajaeger/subscriptions", "organizations_url": "https://api.github.com/users/ajaeger/orgs", "repos_url": "https://api.github.com/users/ajaeger/repos", "events_url": "https://api.github.com/users/ajaeger/events{/privacy}", "received_events_url": "https://api.github.com/users/ajaeger/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5474eed5c6ab39da71c698f49f62e670b49267cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5474eed5c6ab39da71c698f49f62e670b49267cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5474eed5c6ab39da71c698f49f62e670b49267cc"}], "stats": {"total": 64, "additions": 38, "deletions": 26}, "files": [{"sha": "6a235c941cb563cb7134911d1e45ed132043f19b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=00530a212ba678acf2f0719789f53865c8cd7e71", "patch": "@@ -1,3 +1,22 @@\n+2003-03-12  Andreas Jaeger  <aj@suse.de>\n+\n+        * c-cppbuiltin.c (cb_register_builtins): Define LP64 builtins for\n+        LP64 targets.\n+\n+        * doc/cpp.texi (Common Predefined Macros): Document __LP64__ and\n+        _LP64.\n+\n+        * config/ia64/ia64.h (TARGET_CPU_CPP_BUILTINS): Do not define\n+        _LP64 macros here.\n+        * config/pa/pa.h (TARGET_CPU_CPP_BUILTINS): Likewise.\n+\n+        * config/alpha/netbsd.h (TARGET_OS_CPP_BUILTINS): Remove call to\n+        NETBSD_OS_CPP_BUILTINS_LP64.\n+        * config/sh/netbsd-elf.h (TARGET_OS_CPP_BUILTINS): Likewise.\n+        * config/sparc/netbsd-elf.h (TARGET_OS_CPP_BUILTINS): Likewise.\n+\n+        * config/netbsd.h (NETBSD_OS_CPP_BUILTINS_LP64): Remove.\n+\n Wed Mar 12 19:04:39 CET 2003  Jan Hubicka  <jh@suse.cz>\n \n \t* i386.c (ix86_setup_incoming_varargs): Set stack_alignment_needed to 128."}, {"sha": "a396b6b668d2de2b19141d735aceb61eccd6a698", "filename": "gcc/c-cppbuiltin.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fc-cppbuiltin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fc-cppbuiltin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-cppbuiltin.c?ref=00530a212ba678acf2f0719789f53865c8cd7e71", "patch": "@@ -339,6 +339,15 @@ cb_register_builtins (pfile)\n   /* Misc.  */\n   builtin_define_with_value (\"__VERSION__\", version_string, 1);\n \n+  /* Definitions for LP64 model.  */\n+  if (TYPE_PRECISION (long_integer_type_node) == 64\n+      && POINTER_SIZE == 64\n+      && TYPE_PRECISION (integer_type_node) == 32)\n+    {\n+      cpp_define (pfile, \"_LP64\");\n+      cpp_define (pfile, \"__LP64__\");\n+    }\n+  \n   /* Other target-independent built-ins determined by command-line\n      options.  */\n   if (optimize_size)"}, {"sha": "117ce3dcf501333a8ab918bdaefa8eb27b127b39", "filename": "gcc/config/alpha/netbsd.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fconfig%2Falpha%2Fnetbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fconfig%2Falpha%2Fnetbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fnetbsd.h?ref=00530a212ba678acf2f0719789f53865c8cd7e71", "patch": "@@ -1,6 +1,6 @@\n /* Definitions of target machine for GNU compiler,\n    for Alpha NetBSD systems.\n-   Copyright (C) 1998, 2002 Free Software Foundation, Inc.\n+   Copyright (C) 1998, 2002, 2003 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -25,7 +25,6 @@ Boston, MA 02111-1307, USA.  */\n #define TARGET_OS_CPP_BUILTINS()\t\t\\\n     do {\t\t\t\t\t\\\n \tNETBSD_OS_CPP_BUILTINS_ELF();\t\t\\\n-\tNETBSD_OS_CPP_BUILTINS_LP64();\t\t\\\n     } while (0)\n \n "}, {"sha": "116aec4dd163a2cae711bc3832573eabdc4667a5", "filename": "gcc/config/ia64/ia64.h", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fconfig%2Fia64%2Fia64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fconfig%2Fia64%2Fia64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.h?ref=00530a212ba678acf2f0719789f53865c8cd7e71", "patch": "@@ -1,5 +1,5 @@\n /* Definitions of target machine GNU compiler.  IA-64 version.\n-   Copyright (C) 1999, 2000, 2001, 2002 Free Software Foundation, Inc.\n+   Copyright (C) 1999, 2000, 2001, 2002, 2003 Free Software Foundation, Inc.\n    Contributed by James E. Wilson <wilson@cygnus.com> and\n    \t\t  David Mosberger <davidm@hpl.hp.com>.\n \n@@ -40,11 +40,6 @@ do {\t\t\t\t\t\t\\\n \tbuiltin_define(\"__ia64__\");\t\t\\\n \tbuiltin_define(\"__itanium__\");\t\t\\\n \tbuiltin_define(\"__ELF__\");\t\t\\\n-\tif (!TARGET_ILP32)\t\t\t\\\n-\t  {\t\t\t\t\t\\\n-\t    builtin_define(\"_LP64\");\t\t\\\n-\t    builtin_define(\"__LP64__\");\t\t\\\n-\t  }\t\t\t\t\t\\\n \tif (TARGET_BIG_ENDIAN)\t\t\t\\\n \t  builtin_define(\"__BIG_ENDIAN__\");\t\\\n } while (0)"}, {"sha": "602f8312b60ce497ba454c44cf7593b8d57b7ce5", "filename": "gcc/config/netbsd.h", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fconfig%2Fnetbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fconfig%2Fnetbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnetbsd.h?ref=00530a212ba678acf2f0719789f53865c8cd7e71", "patch": "@@ -29,14 +29,6 @@ Boston, MA 02111-1307, USA.  */\n     }\t\t\t\t\t\t\\\n   while (0)\n \n-/* TARGET_OS_CPP_BUILTINS() common to all LP64 NetBSD targets.  */\n-#define NETBSD_OS_CPP_BUILTINS_LP64()\t\t\\\n-  do\t\t\t\t\t\t\\\n-    {\t\t\t\t\t\t\\\n-      builtin_define (\"_LP64\");\t\t\t\\\n-    }\t\t\t\t\t\t\\\n-  while (0)\n-\n /* CPP_SPEC parts common to all NetBSD targets.  */\n #define NETBSD_CPP_SPEC\t\t\t\t\\\n   \"%{posix:-D_POSIX_SOURCE} \\"}, {"sha": "86590583139037675592686cd0b311ea4f78efc6", "filename": "gcc/config/pa/pa.h", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fconfig%2Fpa%2Fpa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fconfig%2Fpa%2Fpa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.h?ref=00530a212ba678acf2f0719789f53865c8cd7e71", "patch": "@@ -356,11 +356,6 @@ do {\t\t\t\t\t\t\t\t\\\n      builtin_assert(\"machine=hppa\");\t\t\t\t\\\n      builtin_define(\"__hppa\");\t\t\t\t\t\\\n      builtin_define(\"__hppa__\");\t\t\t\t\\\n-     if (TARGET_64BIT)\t\t\t\t\t\t\\\n-       {\t\t\t\t\t\t\t\\\n-\t builtin_define(\"_LP64\");\t\t\t\t\\\n-\t builtin_define(\"__LP64__\");\t\t\t\t\\\n-       }\t\t\t\t\t\t\t\\\n      if (TARGET_PA_20)\t\t\t\t\t\t\\\n        builtin_define(\"_PA_RISC2_0\");\t\t\t\t\\\n      else if (TARGET_PA_11)\t\t\t\t\t\\"}, {"sha": "d6ccfe0a2040362fbc89a14de08f2a655a16000e", "filename": "gcc/config/sh/netbsd-elf.h", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fconfig%2Fsh%2Fnetbsd-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fconfig%2Fsh%2Fnetbsd-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fnetbsd-elf.h?ref=00530a212ba678acf2f0719789f53865c8cd7e71", "patch": "@@ -1,5 +1,5 @@\n /* Definitions for SH running NetBSD using ELF\n-   Copyright (C) 2002 Free Software Foundation, Inc.\n+   Copyright (C) 2002, 2003 Free Software Foundation, Inc.\n    Contributed by Wasabi Systems, Inc.\n \n This file is part of GNU CC.\n@@ -52,8 +52,6 @@ Boston, MA 02111-1307, USA.  */\n   do\t\t\t\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\t\t\t\\\n       NETBSD_OS_CPP_BUILTINS_ELF();\t\t\t\t\t\\\n-      if (TARGET_SHMEDIA64)\t\t\t\t\t\t\\\n-\tNETBSD_OS_CPP_BUILTINS_LP64();\t\t\t\t\t\\\n       builtin_define (\"__NO_LEADING_UNDERSCORES__\");\t\t\t\\\n     }\t\t\t\t\t\t\t\t\t\\\n   while (0)"}, {"sha": "65901c8bf0b748d3f0cc453b801090cc0de288ba", "filename": "gcc/config/sparc/netbsd-elf.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fconfig%2Fsparc%2Fnetbsd-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fconfig%2Fsparc%2Fnetbsd-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fnetbsd-elf.h?ref=00530a212ba678acf2f0719789f53865c8cd7e71", "patch": "@@ -1,6 +1,6 @@\n /* Definitions of target machine for GNU compiler, for ELF on NetBSD/sparc\n    and NetBSD/sparc64.\n-   Copyright (C) 2002 Free Software Foundation, Inc.\n+   Copyright (C) 2002, 2003 Free Software Foundation, Inc.\n    Contributed by Matthew Green (mrg@eterna.com.au).\n \n This file is part of GNU CC.\n@@ -26,7 +26,6 @@ Boston, MA 02111-1307, USA.  */\n       NETBSD_OS_CPP_BUILTINS_ELF();\t\t\t\\\n       if (TARGET_ARCH64)\t\t\t\t\\\n \t{\t\t\t\t\t\t\\\n-\t  NETBSD_OS_CPP_BUILTINS_LP64();\t\t\\\n \t  builtin_define (\"__sparc64__\");\t\t\\\n \t  builtin_define (\"__sparc_v9__\");\t\t\\\n \t}\t\t\t\t\t\t\\"}, {"sha": "cf962c4563a381f495d6d4a9315587d24bb52875", "filename": "gcc/doc/cpp.texi", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fdoc%2Fcpp.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00530a212ba678acf2f0719789f53865c8cd7e71/gcc%2Fdoc%2Fcpp.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fcpp.texi?ref=00530a212ba678acf2f0719789f53865c8cd7e71", "patch": "@@ -2031,6 +2031,12 @@ This macro is defined, with value 1, if (and only if) the NeXT runtime\n (as in @option{-fnext-runtime}) is in use for Objective-C.  If the GNU\n runtime is used, this macro is not defined, so that you can use this\n macro to determine which runtime (NeXT or GNU) is being used.\n+\n+@item __LP64__\n+@item _LP64\n+These macros are defined, with value 1, if (and only if) the compilation\n+is for a target where @code{long int} and pointer both use 64-bits and\n+@code{int} uses 32-bit.\n @end table\n \n @node System-specific Predefined Macros"}]}