{"sha": "eaf180889e63584942ec0d8da8707b964de8fe35", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWFmMTgwODg5ZTYzNTg0OTQyZWMwZDhkYTg3MDdiOTY0ZGU4ZmUzNQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-11-30T15:16:49Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-11-30T15:16:49Z"}, "message": "[multiple changes]\n\n2009-11-30  Robert Dewar  <dewar@adacore.com>\n\n\t* osint.ads: Minor comment update.\n\n2009-11-30  Thomas Quinot  <quinot@adacore.com>\n\n\t* s-sechas.adb: Fix swapping error in previous checkin.\n\t* g-md5.ads, g-sha256.ads, g-sha512.ads, g-sha1.ads, g-sha224.ads,\n\tg-sha384.ads: Add missing documentation.\n\nFrom-SVN: r154819", "tree": {"sha": "28d08bd6fb236b572e801263248cecf3bd323e7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/28d08bd6fb236b572e801263248cecf3bd323e7b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eaf180889e63584942ec0d8da8707b964de8fe35", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eaf180889e63584942ec0d8da8707b964de8fe35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eaf180889e63584942ec0d8da8707b964de8fe35", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eaf180889e63584942ec0d8da8707b964de8fe35/comments", "author": null, "committer": null, "parents": [{"sha": "40513dd30b587ccb7967b565822f473f96d73544", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40513dd30b587ccb7967b565822f473f96d73544", "html_url": "https://github.com/Rust-GCC/gccrs/commit/40513dd30b587ccb7967b565822f473f96d73544"}], "stats": {"total": 79, "additions": 70, "deletions": 9}, "files": [{"sha": "86e754b003ce71bc415f46ea5001145c912c53ba", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=eaf180889e63584942ec0d8da8707b964de8fe35", "patch": "@@ -1,3 +1,13 @@\n+2009-11-30  Robert Dewar  <dewar@adacore.com>\n+\n+\t* osint.ads: Minor comment update.\n+\n+2009-11-30  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* s-sechas.adb: Fix swapping error in previous checkin.\n+\t* g-md5.ads, g-sha256.ads, g-sha512.ads, g-sha1.ads, g-sha224.ads,\n+\tg-sha384.ads: Add missing documentation.\n+\n 2009-11-30  Robert Dewar  <dewar@adacore.com>\n \n \t* g-sha256.ads, s-sehamd.ads, s-sehamd.adb, g-sha512.ads, g-sha224.ads,"}, {"sha": "0f2d28340915c167822b62d562db1eb5314e6ca7", "filename": "gcc/ada/g-md5.ads", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fg-md5.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fg-md5.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-md5.ads?ref=eaf180889e63584942ec0d8da8707b964de8fe35", "patch": "@@ -31,9 +31,15 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n---  Why is this package undocumented ???\n+--  This package implements the MD5 Message-Digest Algorithm as described in\n+--  RFC 1321. The complete text of RFC 1321 can be found at:\n+--          http://www.ietf.org/rfc/rfc1321.txt\n+\n+--  See the declaration of System.Secure_Hashes.H in s-sechas.ads for complete\n+--  documentation.\n \n with System.Secure_Hashes.MD5;\n+\n package GNAT.MD5 is new System.Secure_Hashes.H\n   (Block_Words    => System.Secure_Hashes.MD5.Block_Words,\n    State_Words    => 4,"}, {"sha": "8570923b109b2ff70544db41faefd05b04560e94", "filename": "gcc/ada/g-sha1.ads", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fg-sha1.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fg-sha1.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-sha1.ads?ref=eaf180889e63584942ec0d8da8707b964de8fe35", "patch": "@@ -31,9 +31,15 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n---  Why no documentation ???\n+--  This package implaments the SHA-1 secure hash function as decsribed in\n+--  FIPS PUB 180-3. The complete text of FIPS PUB 180-3 can be found at:\n+--    http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf\n+\n+--  See the declaration of System.Secure_Hashes.H in s-sechas.ads for complete\n+--  documentation.\n \n with System.Secure_Hashes.SHA1;\n+\n package GNAT.SHA1 is new System.Secure_Hashes.H\n   (Block_Words    => System.Secure_Hashes.SHA1.Block_Words,\n    State_Words    => 5,"}, {"sha": "c79f87fb8c5d01acd3ce91a0991ac65245814ee4", "filename": "gcc/ada/g-sha224.ads", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fg-sha224.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fg-sha224.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-sha224.ads?ref=eaf180889e63584942ec0d8da8707b964de8fe35", "patch": "@@ -29,6 +29,13 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n+--  This package implaments the SHA-224 secure hash function as decsribed in\n+--  FIPS PUB 180-3. The complete text of FIPS PUB 180-3 can be found at:\n+--    http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf\n+\n+--  See the declaration of System.Secure_Hashes.H in s-sechas.ads for complete\n+--  documentation.\n+\n with System.Secure_Hashes.SHA2_Common;\n with System.Secure_Hashes.SHA2_32;\n "}, {"sha": "a45e057f8c277b79f920403b757eedee27e88171", "filename": "gcc/ada/g-sha256.ads", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fg-sha256.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fg-sha256.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-sha256.ads?ref=eaf180889e63584942ec0d8da8707b964de8fe35", "patch": "@@ -29,6 +29,13 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n+--  This package implaments the SHA-256 secure hash function as decsribed in\n+--  FIPS PUB 180-3. The complete text of FIPS PUB 180-3 can be found at:\n+--    http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf\n+\n+--  See the declaration of System.Secure_Hashes.H in s-sechas.ads for complete\n+--  documentation.\n+\n with System.Secure_Hashes.SHA2_Common;\n with System.Secure_Hashes.SHA2_32;\n "}, {"sha": "262fb92a75c55c538b28ce2ad63663ad662efd4e", "filename": "gcc/ada/g-sha384.ads", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fg-sha384.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fg-sha384.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-sha384.ads?ref=eaf180889e63584942ec0d8da8707b964de8fe35", "patch": "@@ -29,6 +29,13 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n+--  This package implaments the SHA-384 secure hash function as decsribed in\n+--  FIPS PUB 180-3. The complete text of FIPS PUB 180-3 can be found at:\n+--    http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf\n+\n+--  See the declaration of System.Secure_Hashes.H in s-sechas.ads for complete\n+--  documentation.\n+\n with System.Secure_Hashes.SHA2_Common;\n with System.Secure_Hashes.SHA2_64;\n "}, {"sha": "dad8079a8f58b50a751858d4fc9a4740f4707942", "filename": "gcc/ada/g-sha512.ads", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fg-sha512.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fg-sha512.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-sha512.ads?ref=eaf180889e63584942ec0d8da8707b964de8fe35", "patch": "@@ -29,6 +29,13 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n+--  This package implaments the SHA-512 secure hash function as decsribed in\n+--  FIPS PUB 180-3. The complete text of FIPS PUB 180-3 can be found at:\n+--    http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf\n+\n+--  See the declaration of System.Secure_Hashes.H in s-sechas.ads for complete\n+--  documentation.\n+\n with System.Secure_Hashes.SHA2_Common;\n with System.Secure_Hashes.SHA2_64;\n "}, {"sha": "ae827ba286ba8fa49168f7c8e1ad4fcd86f0d3d0", "filename": "gcc/ada/osint.ads", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fosint.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fosint.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fosint.ads?ref=eaf180889e63584942ec0d8da8707b964de8fe35", "patch": "@@ -737,9 +737,11 @@ private\n \n    File_Attributes_Size : constant Natural := 24;\n    --  This should be big enough to fit a \"struct file_attributes\" on any\n-   --  system. It doesn't matter if it is too big (which avoids the need for\n-   --  either mapping the struct exactly or importing the sizeof from C, which\n-   --  would result in dynamic code)\n+   --  system. It doesn't cause any malfunction if it is too big (which avoids\n+   --  the need for either mapping the struct exactly or importing the sizeof\n+   --  from C, which would result in dynamic code). However, it does waste\n+   --  space (e.g. when a component of this type appears in a record, if it is\n+   --  unnecessarily large.\n \n    type File_Attributes is\n      array (1 .. File_Attributes_Size)"}, {"sha": "d34f0499ff455379f3a124697394f8ac692a485e", "filename": "gcc/ada/s-sechas.adb", "status": "modified", "additions": 13, "deletions": 4, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fs-sechas.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eaf180889e63584942ec0d8da8707b964de8fe35/gcc%2Fada%2Fs-sechas.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-sechas.adb?ref=eaf180889e63584942ec0d8da8707b964de8fe35", "patch": "@@ -46,8 +46,9 @@ package body System.Secure_Hashes is\n         S     : String;\n         First : Natural;\n         Last  : out Natural);\n-   --  A procedure to transfer data from S into M's block buffer until either\n-   --  the block buffer is full or all data from S has been consumed.\n+   --  A procedure to transfer data from S, starting at First, into M's block\n+   --  buffer until either the block buffer is full or all data from S has been\n+   --  consumed.\n \n    procedure Fill_Buffer_Copy\n      (M     : in out Message_State;\n@@ -61,7 +62,12 @@ package body System.Secure_Hashes is\n       S     : String;\n       First : Natural;\n       Last  : out Natural);\n-   --  Transfer procedure which swaps bytes from S when copying into M\n+   --  Transfer procedure which swaps bytes from S when copying into M. S must\n+   --  have even length. Note that the swapping is performed considering pairs\n+   --  starting at S'First, even if S'First /= First (that is, if\n+   --  First = S'First then the first copied byte is always S (S'First + 1),\n+   --  and if First = S'First + 1 then the first copied byte is always\n+   --  S (S'First).\n \n    procedure To_String (SEA : Stream_Element_Array; S : out String);\n    --  Return the hexadecimal representation of SEA\n@@ -102,13 +108,16 @@ package body System.Secure_Hashes is\n       First : Natural;\n       Last  : out Natural)\n    is\n+      pragma Assert (S'Length mod 2 = 0);\n       Length : constant Natural :=\n                   Natural'Min (M.Block_Length - M.Last, S'Last - First + 1);\n    begin\n       Last := First;\n       while Last - First < Length loop\n          M.Buffer (M.Last + 1 + Last - First) :=\n-            (if (Last - First) mod 2 = 0 then S (Last + 1) else S (Last - 1));\n+           (if (Last - S'First) mod 2 = 0\n+            then S (Last + 1)\n+            else S (Last - 1));\n          Last := Last + 1;\n       end loop;\n       M.Last := M.Last + Length;"}]}