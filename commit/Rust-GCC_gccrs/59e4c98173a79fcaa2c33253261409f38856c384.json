{"sha": "59e4c98173a79fcaa2c33253261409f38856c384", "node_id": "C_kwDOANBUbNoAKDU5ZTRjOTgxNzNhNzlmY2FhMmMzMzI1MzI2MTQwOWYzODg1NmMzODQ", "commit": {"author": {"name": "YunQiang Su", "email": "yunqiang.su@cipunited.com", "date": "2023-01-06T10:15:28Z"}, "committer": {"name": "YunQiang Su", "email": "yunqiang.su@cipunited.com", "date": "2023-01-30T09:15:57Z"}, "message": "Set CROSS_SYSTEM_HEADER_DIR according includedir\n\nFor cross building with option:\n   --sysroot=/ --prefix=/usr --includedir=/usr/<triple>\njust like Debian does, fixinc.sh will use the wrong header files\nfrom /usr/include.\n\ngcc/\n\t* Makefile.in (CROSS_SYSTEM_HEADER_DIR): set according the\n\tvalue of includedir.", "tree": {"sha": "d5ed673e56b24a3672eb6d05a8a7b220f5445e88", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d5ed673e56b24a3672eb6d05a8a7b220f5445e88"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/59e4c98173a79fcaa2c33253261409f38856c384", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59e4c98173a79fcaa2c33253261409f38856c384", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59e4c98173a79fcaa2c33253261409f38856c384", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59e4c98173a79fcaa2c33253261409f38856c384/comments", "author": null, "committer": null, "parents": [{"sha": "4c17371dc5a1193671e5a475349fa7d7a6f0ca1c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c17371dc5a1193671e5a475349fa7d7a6f0ca1c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c17371dc5a1193671e5a475349fa7d7a6f0ca1c"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "6001c9e3b559a90291b4d571c2410db6da4ede94", "filename": "gcc/Makefile.in", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59e4c98173a79fcaa2c33253261409f38856c384/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59e4c98173a79fcaa2c33253261409f38856c384/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=59e4c98173a79fcaa2c33253261409f38856c384", "patch": "@@ -532,7 +532,11 @@ LINKER_PLUGIN_API_H = $(srcdir)/../include/plugin-api.h\n # Default native SYSTEM_HEADER_DIR, to be overridden by targets.\n NATIVE_SYSTEM_HEADER_DIR = @NATIVE_SYSTEM_HEADER_DIR@\n # Default cross SYSTEM_HEADER_DIR, to be overridden by targets.\n-CROSS_SYSTEM_HEADER_DIR = @CROSS_SYSTEM_HEADER_DIR@\n+ifeq (@includedir@,$(prefix)/include)\n+  CROSS_SYSTEM_HEADER_DIR = @CROSS_SYSTEM_HEADER_DIR@\n+else\n+  CROSS_SYSTEM_HEADER_DIR = @includedir@\n+endif\n \n # autoconf sets SYSTEM_HEADER_DIR to one of the above.\n # Purge it of unnecessary internal relative paths"}]}