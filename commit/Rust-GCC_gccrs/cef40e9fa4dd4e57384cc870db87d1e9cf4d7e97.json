{"sha": "cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2VmNDBlOWZhNGRkNGU1NzM4NGNjODcwZGI4N2QxZTljZjRkN2U5Nw==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@wolery.cumb.org", "date": "2000-01-26T07:37:30Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2000-01-26T07:37:30Z"}, "message": "Makefile.in (machname.h): SunOS 4 sed can't handle a file with one line and no trailing newline.\n\n\t* fixinc/Makefile.in (machname.h): SunOS 4 sed can't handle a\n\tfile with one line and no trailing newline.\n\tPatch by Kaveh Ghazi <ghazi@caip.rutgers.edu>.\n\t* fixinc/fixtests.c (machine_name_test): Fix fencepost error\n\tchecking if the match is on the line.\n\t* fixinc/gnu-regex.c: Provide regerror not __regerror.\n\nFrom-SVN: r31628", "tree": {"sha": "22d7cebda0f0df0e26c99085bb1b9a145a0cc4b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/22d7cebda0f0df0e26c99085bb1b9a145a0cc4b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97/comments", "author": null, "committer": null, "parents": [{"sha": "3f50679d00307a2f2cb9ee98d1891b1d95fc53ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f50679d00307a2f2cb9ee98d1891b1d95fc53ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f50679d00307a2f2cb9ee98d1891b1d95fc53ba"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "45ab067116d9568a6847b44b14a829d02f48103a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97", "patch": "@@ -1,3 +1,12 @@\n+2000-01-25  Zack Weinberg  <zack@wolery.cumb.org>\n+\n+\t* fixinc/Makefile.in (machname.h): SunOS 4 sed can't handle a\n+\tfile with one line and no trailing newline.\n+\tPatch by Kaveh Ghazi <ghazi@caip.rutgers.edu>.\n+\t* fixinc/fixtests.c (machine_name_test): Fix fencepost error\n+\tchecking if the match is on the line.\n+\t* fixinc/gnu-regex.c: Provide regerror not __regerror.\n+\n 2000-01-25  Richard Henderson  <rth@cygnus.com>\n \n \t* sparc.c (output_cbranch): Fix accidental squashing of the"}, {"sha": "ad242fc74023549728e2ff1ea1149d9c6f12f9d3", "filename": "gcc/fixinc/Makefile.in", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97/gcc%2Ffixinc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97/gcc%2Ffixinc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2FMakefile.in?ref=cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97", "patch": "@@ -145,7 +145,7 @@ machname.h: ../specs\n \t    sed -n 's/^.*-D\\([a-zA-Z_][a-zA-Z0-9_]*\\).*$$/\\1/p' | sort -u | \\\n \t    grep -v '^_[_A-Z]' > mn.T\n \t@echo \"Forbidden identifiers: `tr '\\012' ' ' <mn.T`\"\n-\t@sed 's/^/\\\\\\\\</; s/$$/\\\\\\\\>/' <mn.T | tr '\\012' '|' | \\\n-\t     sed 's/^/#define MN_NAME_PAT \"/; s/|$$/\"/' > machname.h\n-\t@echo >> machname.h\n-\t@-rm -f mn.T\n+\t@sed 's/^/\\\\\\\\</; s/$$/\\\\\\\\>/' <mn.T | tr '\\012' '|' > mn.T2\n+\t@echo '' >>mn.T2\n+\t@sed 's/^/#define MN_NAME_PAT \"/; s/|$$/\"/' < mn.T2 > machname.h\n+\t@-rm -f mn.T mn.T2"}, {"sha": "5edd75999ab6070f9d4b3d605ed16ed18b39d891", "filename": "gcc/fixinc/fixtests.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97/gcc%2Ffixinc%2Ffixtests.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97/gcc%2Ffixinc%2Ffixtests.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixtests.c?ref=cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97", "patch": "@@ -307,7 +307,7 @@ TEST_FOR_FIX_PROC_HEAD( machine_name_test )\n \treturn SKIP_FIX;  /* No match in file - no fix needed */\n \n       /* Match; is it on the line?  */\n-      if (match[0].rm_eo < limit - base)\n+      if (match[0].rm_eo <= limit - base)\n \treturn APPLY_FIX;  /* Yup */\n \n       /* Otherwise, keep looking... */"}, {"sha": "553942b1db527989bd9f7305967aaef2d99da8e6", "filename": "gcc/fixinc/gnu-regex.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97/gcc%2Ffixinc%2Fgnu-regex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97/gcc%2Ffixinc%2Fgnu-regex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Fgnu-regex.c?ref=cef40e9fa4dd4e57384cc870db87d1e9cf4d7e97", "patch": "@@ -5745,7 +5745,7 @@ weak_alias (__regexec, regexec)\n    from either regcomp or regexec.   We don't use PREG here.  */\n \n size_t\n-__regerror (errcode, preg, errbuf, errbuf_size)\n+regerror (errcode, preg, errbuf, errbuf_size)\n     int errcode;\n     const regex_t *preg;\n     char *errbuf;"}]}