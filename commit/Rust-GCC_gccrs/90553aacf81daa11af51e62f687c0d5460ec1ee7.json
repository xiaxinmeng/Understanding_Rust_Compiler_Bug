{"sha": "90553aacf81daa11af51e62f687c0d5460ec1ee7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTA1NTNhYWNmODFkYWExMWFmNTFlNjJmNjg3YzBkNTQ2MGVjMWVlNw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2017-01-18T17:39:56Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2017-01-18T17:39:56Z"}, "message": "re PR rtl-optimization/77416 (LRA rematerializing use of CA reg across function call)\n\n\tPR target/77416\n\t* gcc.target/powerpc/pr77416.c Guard the test only for ilp32 effective\n\ttarget.  Use powerpc* instead of powerpc64* in targets.  Remove -m32\n\tfrom dg-options.\n\t* gcc.target/powerpc/pr64205.c: Remove -m32 from dg-options of ilp32\n\tguarded test.\n\t* gcc.target/powerpc/fusion4.c: Likewise.\n\t* gcc.target/powerpc/pr63491.c: Remove -m64 from dg-options of lp64\n\tguarded test.\n\t* gcc.target/powerpc/pr58673-1.c: Likewise.\n\t* gcc.target/powerpc/pr58673-2.c: Likewise.\n\t* gcc.target/powerpc/pr59054.c: Likewise.\n\nFrom-SVN: r244585", "tree": {"sha": "e679d10f0cc251076ecb9607ff042778f655570a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e679d10f0cc251076ecb9607ff042778f655570a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/90553aacf81daa11af51e62f687c0d5460ec1ee7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90553aacf81daa11af51e62f687c0d5460ec1ee7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90553aacf81daa11af51e62f687c0d5460ec1ee7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90553aacf81daa11af51e62f687c0d5460ec1ee7/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b08fdbb8450a578846ad69b00b89a80ef24a5203", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b08fdbb8450a578846ad69b00b89a80ef24a5203", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b08fdbb8450a578846ad69b00b89a80ef24a5203"}], "stats": {"total": 35, "additions": 25, "deletions": 10}, "files": [{"sha": "5b38a5658818a3507e3efda58864043b7b176b90", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=90553aacf81daa11af51e62f687c0d5460ec1ee7", "patch": "@@ -1,3 +1,18 @@\n+2017-01-18  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/77416\n+\t* gcc.target/powerpc/pr77416.c Guard the test only for ilp32 effective\n+\ttarget.  Use powerpc* instead of powerpc64* in targets.  Remove -m32\n+\tfrom dg-options.\n+\t* gcc.target/powerpc/pr64205.c: Remove -m32 from dg-options of ilp32\n+\tguarded test.\n+\t* gcc.target/powerpc/fusion4.c: Likewise.\n+\t* gcc.target/powerpc/pr63491.c: Remove -m64 from dg-options of lp64\n+\tguarded test.\n+\t* gcc.target/powerpc/pr58673-1.c: Likewise.\n+\t* gcc.target/powerpc/pr58673-2.c: Likewise.\n+\t* gcc.target/powerpc/pr59054.c: Likewise.\n+\n 2017-01-18  Maxim Ostapenko  <m.ostapenko@samsung.com>\n \n \tPR lto/79061"}, {"sha": "7ee064c1182ccc86b37c5ced7e7fa3dc650c16e1", "filename": "gcc/testsuite/gcc.target/powerpc/fusion4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Ffusion4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Ffusion4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Ffusion4.c?ref=90553aacf81daa11af51e62f687c0d5460ec1ee7", "patch": "@@ -2,7 +2,7 @@\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } { \"*\" } { \"\" } } */\n /* { dg-require-effective-target powerpc_p9vector_ok } */\n /* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } */\n-/* { dg-options \"-mcpu=power7 -mtune=power9 -O3 -msoft-float -m32\" } */\n+/* { dg-options \"-mcpu=power7 -mtune=power9 -O3 -msoft-float\" } */\n \n #define LARGE 0x12345\n "}, {"sha": "01d53fa49ca86525a96af45ac74f0956cb52f622", "filename": "gcc/testsuite/gcc.target/powerpc/pr58673-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr58673-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr58673-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr58673-1.c?ref=90553aacf81daa11af51e62f687c0d5460ec1ee7", "patch": "@@ -2,7 +2,7 @@\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } { \"*\" } { \"\" } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n /* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power8\" } } */\n-/* { dg-options \"-mcpu=power8 -m64 -O1\" } */\n+/* { dg-options \"-mcpu=power8 -O1\" } */\n \n enum typecode\n {"}, {"sha": "c9190942632bbb5c7f84c0db9dc9a8bc24f2e992", "filename": "gcc/testsuite/gcc.target/powerpc/pr58673-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr58673-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr58673-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr58673-2.c?ref=90553aacf81daa11af51e62f687c0d5460ec1ee7", "patch": "@@ -2,7 +2,7 @@\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } { \"*\" } { \"\" } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n /* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power8\" } } */\n-/* { dg-options \"-mcpu=power8 -O3 -m64 -funroll-loops\" } */\n+/* { dg-options \"-mcpu=power8 -O3 -funroll-loops\" } */\n \n #include <stddef.h>\n #include <stdlib.h>"}, {"sha": "c33d937dfef990f26fbc6ab3e8eaac765dc8aa78", "filename": "gcc/testsuite/gcc.target/powerpc/pr59054.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr59054.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr59054.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr59054.c?ref=90553aacf81daa11af51e62f687c0d5460ec1ee7", "patch": "@@ -2,6 +2,6 @@\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } { \"*\" } { \"\" } } */\n /* { dg-require-effective-target powerpc_vsx_ok } */\n /* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } */\n-/* { dg-options \"-mcpu=power7 -O0 -m64\" } */\n+/* { dg-options \"-mcpu=power7 -O0\" } */\n \n long foo (void) { return 0; }"}, {"sha": "a151891230898388e51624abe9c383b298549824", "filename": "gcc/testsuite/gcc.target/powerpc/pr63491.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr63491.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr63491.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr63491.c?ref=90553aacf81daa11af51e62f687c0d5460ec1ee7", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target { powerpc*-*-* && lp64 } } } */\n-/* { dg-options \"-O1 -m64 -mcpu=power8 -mlra\" } */\n+/* { dg-options \"-O1 -mcpu=power8 -mlra\" } */\n \n typedef __int128_t __attribute__((__vector_size__(16))) vector_128_t;\n typedef unsigned long long scalar_64_t;"}, {"sha": "f421ec203a0b0c886e00c2e0a6f651f099273359", "filename": "gcc/testsuite/gcc.target/powerpc/pr64205.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr64205.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr64205.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr64205.c?ref=90553aacf81daa11af51e62f687c0d5460ec1ee7", "patch": "@@ -1,7 +1,7 @@\n /* { dg-do compile { target { powerpc*-*-* && ilp32 } } } */\n /* { dg-skip-if \"\" { powerpc*-*-aix* } { \"*\" } { \"\" } } */\n /* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=G5\" } } */\n-/* { dg-options \"-O2 -mcpu=G5 -maltivec -m32\" } */\n+/* { dg-options \"-O2 -mcpu=G5 -maltivec\" } */\n \n union ieee754r_Decimal32\n {"}, {"sha": "cb7bcc94aefadacdaa5de333c56198151513586f", "filename": "gcc/testsuite/gcc.target/powerpc/pr77416.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr77416.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90553aacf81daa11af51e62f687c0d5460ec1ee7/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr77416.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr77416.c?ref=90553aacf81daa11af51e62f687c0d5460ec1ee7", "patch": "@@ -1,7 +1,7 @@\n-/* { dg-do compile { target { powerpc64*-*-*} } } */\n-/* { dg-skip-if \"\" { powerpc64-*-aix* } { \"*\" } { \"\" } } */\n-/* { dg-skip-if \"do not override -mcpu\" { powerpc64*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } */\n-/* { dg-options \"-mcpu=power7 -O2 -m32\" } */\n+/* { dg-do compile { target { { powerpc*-*-* } && ilp32 } } } */\n+/* { dg-skip-if \"\" { powerpc*-*-aix* } { \"*\" } { \"\" } } */\n+/* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } */\n+/* { dg-options \"-mcpu=power7 -O2\" } */\n /* { dg-final { scan-assembler-times \"addze\" 1 } } */\n \n extern int fn2 ();"}]}