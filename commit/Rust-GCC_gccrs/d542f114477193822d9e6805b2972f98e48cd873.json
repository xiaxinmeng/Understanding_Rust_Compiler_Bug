{"sha": "d542f114477193822d9e6805b2972f98e48cd873", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDU0MmYxMTQ0NzcxOTM4MjJkOWU2ODA1YjI5NzJmOThlNDhjZDg3Mw==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2003-07-04T22:33:04Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2003-07-04T22:33:04Z"}, "message": "[multiple changes]\n\n\n2003-07-04  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* acinclude.m4 (GLIBCPP_ENABLE_PCH): Fix missed variable.\n\t* aclocal.m4: Regenerate.\n\t* configure: Regenerate.\n\n2003-07-04  Jerry Quinn  <jlquinn@optonline.net>\n\n\t* include/bits/locale_facets.tcc (__int_to_char): Move common case\n\tto the top.\n\nFrom-SVN: r68942", "tree": {"sha": "158b1808ae943b89d8aaa806ea864f59e5f88303", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/158b1808ae943b89d8aaa806ea864f59e5f88303"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d542f114477193822d9e6805b2972f98e48cd873", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d542f114477193822d9e6805b2972f98e48cd873", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d542f114477193822d9e6805b2972f98e48cd873", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d542f114477193822d9e6805b2972f98e48cd873/comments", "author": null, "committer": null, "parents": [{"sha": "58add37a5a4d2a85bfcbde46f6d38fb69f6ce598", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58add37a5a4d2a85bfcbde46f6d38fb69f6ce598", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58add37a5a4d2a85bfcbde46f6d38fb69f6ce598"}], "stats": {"total": 50, "additions": 31, "deletions": 19}, "files": [{"sha": "555bcd6217b8948cf888cc5cbf601c3815755fa7", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d542f114477193822d9e6805b2972f98e48cd873/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d542f114477193822d9e6805b2972f98e48cd873/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=d542f114477193822d9e6805b2972f98e48cd873", "patch": "@@ -1,3 +1,14 @@\n+2003-07-04  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* acinclude.m4 (GLIBCPP_ENABLE_PCH): Fix missed variable.\n+\t* aclocal.m4: Regenerate.\n+\t* configure: Regenerate.\n+\t\n+2003-07-04  Jerry Quinn  <jlquinn@optonline.net>\n+\n+\t* include/bits/locale_facets.tcc (__int_to_char): Move common case\n+\tto the top.\n+\n 2003-07-04  Benjamin Kosnik  <bkoz@redhat.com>\n             Petur Runolfsson  <peturr02@ru.is>\n \t"}, {"sha": "21402896eb3ed49b8e83136a46a87b3c24d29611", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d542f114477193822d9e6805b2972f98e48cd873/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d542f114477193822d9e6805b2972f98e48cd873/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=d542f114477193822d9e6805b2972f98e48cd873", "patch": "@@ -1428,7 +1428,7 @@ enable_libstdcxx_pch=GLIBCPP_ENABLE_PCH_DEFAULT)dnl\n   AC_MSG_RESULT([$enable_libstdcxx_pch])\n \n   AM_CONDITIONAL(GLIBCPP_BUILD_PCH, test \"$enable_libstdcxx_pch\" = yes)\n-  if test \"$enable_pch\" = yes; then\n+  if test \"$enable_libstdcxx_pch\" = yes; then\n \tglibcpp_PCHFLAGS=\"-include bits/stdc++.h\"\n   else\n \tglibcpp_PCHFLAGS=\"\""}, {"sha": "07e590a2e373a6ae68f992c4460571b83967af3b", "filename": "libstdc++-v3/aclocal.m4", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d542f114477193822d9e6805b2972f98e48cd873/libstdc%2B%2B-v3%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d542f114477193822d9e6805b2972f98e48cd873/libstdc%2B%2B-v3%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Faclocal.m4?ref=d542f114477193822d9e6805b2972f98e48cd873", "patch": "@@ -1440,7 +1440,7 @@ enable_libstdcxx_pch=GLIBCPP_ENABLE_PCH_DEFAULT)dnl\n   AC_MSG_RESULT([$enable_libstdcxx_pch])\n \n   AM_CONDITIONAL(GLIBCPP_BUILD_PCH, test \"$enable_libstdcxx_pch\" = yes)\n-  if test \"$enable_pch\" = yes; then\n+  if test \"$enable_libstdcxx_pch\" = yes; then\n \tglibcpp_PCHFLAGS=\"-include bits/stdc++.h\"\n   else\n \tglibcpp_PCHFLAGS=\"\""}, {"sha": "c5cf70f8a2cd360f6e70aa125cc3116f58101037", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d542f114477193822d9e6805b2972f98e48cd873/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d542f114477193822d9e6805b2972f98e48cd873/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=d542f114477193822d9e6805b2972f98e48cd873", "patch": "@@ -2896,7 +2896,7 @@ else\n   GLIBCPP_BUILD_PCH_TRUE='#'\n   GLIBCPP_BUILD_PCH_FALSE=\n fi\n-  if test \"$enable_pch\" = yes; then\n+  if test \"$enable_libstdcxx_pch\" = yes; then\n \tglibcpp_PCHFLAGS=\"-include bits/stdc++.h\"\n   else\n \tglibcpp_PCHFLAGS=\"\""}, {"sha": "9026a3e496063b6e137b3d7a2f91a0607fcc23ff", "filename": "libstdc++-v3/include/bits/locale_facets.tcc", "status": "modified", "additions": 17, "deletions": 16, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d542f114477193822d9e6805b2972f98e48cd873/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d542f114477193822d9e6805b2972f98e48cd873/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc?ref=d542f114477193822d9e6805b2972f98e48cd873", "patch": "@@ -692,7 +692,22 @@ namespace std\n       _CharT* __buf = __out + __size - 1;\n       _CharT* __bufend = __out + __size;\n \n-      if (__builtin_expect(__basefield == ios_base::oct, false))\n+      if (__builtin_expect(__basefield != ios_base::oct &&\n+\t\t\t   __basefield != ios_base::hex, true))\n+\t{\n+\t  // Decimal.\n+\t  do \n+\t    {\n+\t      *__buf-- = __lit[(__v % 10) + __num_base::_S_odigits];\n+\t      __v /= 10;\n+\t    } \n+\t  while (__v != 0);\n+\t  if (__neg)\n+\t    *__buf-- = __lit[__num_base::_S_ominus];\n+\t  else if (__flags & ios_base::showpos)\n+\t    *__buf-- = __lit[__num_base::_S_oplus];\n+\t}\n+\telse if (__basefield == ios_base::oct)\n \t{\n \t  // Octal.\n \t  do \n@@ -704,7 +719,7 @@ namespace std\n \t  if (__showbase)\n \t    *__buf-- = __lit[__num_base::_S_odigits];\n \t}\n-      else if (__builtin_expect(__basefield == ios_base::hex, false))\n+      else\n \t{\n \t  // Hex.\n \t  const bool __uppercase = __flags & ios_base::uppercase;\n@@ -724,20 +739,6 @@ namespace std\n \t      *__buf-- = __lit[__num_base::_S_odigits];\n \t    }\n \t}\n-      else\n-\t{\n-\t  // Decimal.\n-\t  do \n-\t    {\n-\t      *__buf-- = __lit[(__v % 10) + __num_base::_S_odigits];\n-\t      __v /= 10;\n-\t    } \n-\t  while (__v != 0);\n-\t  if (__neg)\n-\t    *__buf-- = __lit[__num_base::_S_ominus];\n-\t  else if (__flags & ios_base::showpos)\n-\t    *__buf-- = __lit[__num_base::_S_oplus];\n-\t}\n       int __ret = __bufend - __buf - 1;\n       return __ret;\n     }"}]}