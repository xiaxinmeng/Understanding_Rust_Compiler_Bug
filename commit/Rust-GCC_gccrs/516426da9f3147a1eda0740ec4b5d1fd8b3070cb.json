{"sha": "516426da9f3147a1eda0740ec4b5d1fd8b3070cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTE2NDI2ZGE5ZjMxNDdhMWVkYTA3NDBlYzRiNWQxZmQ4YjMwNzBjYg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2011-04-06T09:34:02Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-04-06T09:34:02Z"}, "message": "gimple-low.c (lower_gimple_return): When not optimizing, force labels associated with user returns to be preserved.\n\n\t* gimple-low.c (lower_gimple_return): When not optimizing, force labels\n\tassociated with user returns to be preserved.\n\nFrom-SVN: r172030", "tree": {"sha": "341783051f439a033175280d7b0b6c24f7713040", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/341783051f439a033175280d7b0b6c24f7713040"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/516426da9f3147a1eda0740ec4b5d1fd8b3070cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/516426da9f3147a1eda0740ec4b5d1fd8b3070cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/516426da9f3147a1eda0740ec4b5d1fd8b3070cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/516426da9f3147a1eda0740ec4b5d1fd8b3070cb/comments", "author": null, "committer": null, "parents": [{"sha": "96621ebf37743e4882759f50f0f0b84a04fc1606", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96621ebf37743e4882759f50f0f0b84a04fc1606", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96621ebf37743e4882759f50f0f0b84a04fc1606"}], "stats": {"total": 23, "additions": 22, "deletions": 1}, "files": [{"sha": "a8f86616a65a7650804dfa609aa0f501a1074102", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/516426da9f3147a1eda0740ec4b5d1fd8b3070cb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/516426da9f3147a1eda0740ec4b5d1fd8b3070cb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=516426da9f3147a1eda0740ec4b5d1fd8b3070cb", "patch": "@@ -1,3 +1,8 @@\n+2011-04-06  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gimple-low.c (lower_gimple_return): When not optimizing, force labels\n+\tassociated with user returns to be preserved.\n+\n 2011-04-06  Tristan Gingold  <gingold@adacore.com>\n \n \t* dbxout.c: (debug_nesting, symbol_queue, symbol_queue_index)"}, {"sha": "9d774429bab9fefecf76fd3fc878f59c3f96f783", "filename": "gcc/gimple-low.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/516426da9f3147a1eda0740ec4b5d1fd8b3070cb/gcc%2Fgimple-low.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/516426da9f3147a1eda0740ec4b5d1fd8b3070cb/gcc%2Fgimple-low.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-low.c?ref=516426da9f3147a1eda0740ec4b5d1fd8b3070cb", "patch": "@@ -758,6 +758,9 @@ lower_gimple_return (gimple_stmt_iterator *gsi, struct lower_data *data)\n \n   /* Generate a goto statement and remove the return statement.  */\n  found:\n+  /* When not optimizing, make sure user returns are preserved.  */\n+  if (!optimize && gimple_has_location (stmt))\n+    DECL_ARTIFICIAL (tmp_rs.label) = 0;\n   t = gimple_build_goto (tmp_rs.label);\n   gimple_set_location (t, gimple_location (stmt));\n   gimple_set_block (t, gimple_block (stmt));"}, {"sha": "cb11813f2914447bd9e764172f1f0eaf75e6b17d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/516426da9f3147a1eda0740ec4b5d1fd8b3070cb/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/516426da9f3147a1eda0740ec4b5d1fd8b3070cb/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=516426da9f3147a1eda0740ec4b5d1fd8b3070cb", "patch": "@@ -1,5 +1,9 @@\n+2011-04-06  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/return3.adb: New test.\n+\n 2011-04-06  Richard Guenther  <rguenther@suse.de>\n- \n+\n \tPR tree-optimization/47663\n \t* gcc.dg/tree-ssa/inline-8.c: New testcase.\n "}, {"sha": "7ebe7499005f42895aa56a07416098344b6eef31", "filename": "gcc/testsuite/gnat.dg/return3.adb", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/516426da9f3147a1eda0740ec4b5d1fd8b3070cb/gcc%2Ftestsuite%2Fgnat.dg%2Freturn3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/516426da9f3147a1eda0740ec4b5d1fd8b3070cb/gcc%2Ftestsuite%2Fgnat.dg%2Freturn3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Freturn3.adb?ref=516426da9f3147a1eda0740ec4b5d1fd8b3070cb", "patch": "@@ -0,0 +1,9 @@\n+-- { dg-do compile { target *-*-linux* } }\n+-- { dg-options \"-gdwarf-2 -dA\" }\n+\n+procedure Return3 is\n+begin\n+  return;\n+end;\n+\n+-- { dg-final { scan-assembler \"loc 1 6\" } }"}]}