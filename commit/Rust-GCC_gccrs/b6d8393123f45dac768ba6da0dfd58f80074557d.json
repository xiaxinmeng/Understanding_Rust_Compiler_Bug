{"sha": "b6d8393123f45dac768ba6da0dfd58f80074557d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjZkODM5MzEyM2Y0NWRhYzc2OGJhNmRhMGRmZDU4ZjgwMDc0NTU3ZA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2003-10-24T14:39:55Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2003-10-24T14:39:55Z"}, "message": "gnatvsn.ads (Gnat_Static_Version_String): New constant, used to minimize the differences with ACT tree.\n\n\t* gnatvsn.ads (Gnat_Static_Version_String): New constant, used to\n\tminimize the differences with ACT tree.\n\n\t* gnatkr.adb, gnatlink.adb, gnatls.adb, gnatmake.adb,\n\tgnatprep.adb, gnatpsta.adb, gnatvsn.ads: Take advantage of\n\tGnatvsn.Gnat_Static_Version_String to reduce differences between\n\tACT and FSF trees.\n\nFrom-SVN: r72896", "tree": {"sha": "63ad526faa5cdc76fb256ad7568983bf9786e597", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/63ad526faa5cdc76fb256ad7568983bf9786e597"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b6d8393123f45dac768ba6da0dfd58f80074557d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6d8393123f45dac768ba6da0dfd58f80074557d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6d8393123f45dac768ba6da0dfd58f80074557d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6d8393123f45dac768ba6da0dfd58f80074557d/comments", "author": null, "committer": null, "parents": [{"sha": "ebaeca8b5511a2a0a1450d90e81f3611ae391269", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebaeca8b5511a2a0a1450d90e81f3611ae391269", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ebaeca8b5511a2a0a1450d90e81f3611ae391269"}], "stats": {"total": 107, "additions": 105, "deletions": 2}, "files": [{"sha": "35810a68f8003b19b7143471d5bcddf796b95323", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 86, "deletions": 0, "changes": 86, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=b6d8393123f45dac768ba6da0dfd58f80074557d", "patch": "@@ -1,3 +1,89 @@\n+2003-10-24  Arnaud Charlet  <charlet@act-europe.fr>\n+\n+\t* gnatvsn.ads (Gnat_Static_Version_String): New constant, used to\n+\tminimize the differences with ACT tree.\n+\n+\t* gnatkr.adb, gnatlink.adb, gnatls.adb, gnatmake.adb,\n+\tgnatprep.adb, gnatpsta.adb, gnatvsn.ads: Take advantage of\n+\tGnatvsn.Gnat_Static_Version_String to reduce differences between\n+\tACT and FSF trees.\n+\n+2003-10-24  Pascal Obry  <obry@gnat.com>\n+\n+\t* adadecode.c (ostrcpy): New function.\n+\t(__gnat_decode): Use ostrcpy of strcpy.\n+\t(has_prefix): Set first parameter a const.\n+\t(has_suffix): Set first parameter a const.\n+\tUpdate copyright notice. Fix source name in header.\n+\tRemoves a trailing space.\n+\tPR ada/12014.\n+\n+2003-10-24  Jose Ruiz  <ruiz@act-europe.fr>\n+\n+\t* exp_disp.adb: \n+\tRemove the test against being in No_Run_Time_Mode before generating a\n+\tcall to Register_Tag. It is redundant with the test against the\n+\tavailability of the function Register_Tag.\n+\n+2003-10-24  Vincent Celier  <celier@gnat.com>\n+\n+\t* g-catiio.adb: (Month_Name): Correct spelling of February\n+\n+\t* make.adb: (Mains): New package\n+\t(Initialize): Call Mains.Delete\n+\t(Gnatmake): Check that each main on the command line is a source of a\n+\tproject file and, if there are several mains, each of them is a source\n+\tof the same project file.\n+\t(Gnatmake): When a foreign language is specified in attribute Languages,\n+\tno main is specified on the command line and attribute Mains is not\n+\tempty, only build the Ada main. If there is no Ada main, just compile\n+\tthe Ada sources and their closure.\n+\t(Gnatmake): If a main is specified on the command line with directory\n+\tinformation, check that the source exists and, if it does, that the path\n+\tis the actual path of a source of a project.\n+\n+\t* prj-env.adb: \n+\t(File_Name_Of_Library_Unit_Body): New Boolean parameter Full_Path. When\n+\tFull_Path is True, return the full path instead of the simple file name.\n+\t(Project_Of): New function\n+\n+\t* prj-env.ads: \n+\t(File_Name_Of_Library_Unit_Body): New Boolean parameter Full_Path,\n+\tdefaulted to False.\n+\t(Project_Of): New function\n+\n+2003-10-24  Arnaud Charlet  <charlet@act-europe.fr>\n+\n+\t* Makefile.generic: \n+\tEnsure objects of main project are always checked and rebuilt if needed.\n+\tSet CC to gcc by default.\n+\tPrepare new handling of link by creating a global archive (not activated\n+\tyet).\n+\n+\t* adadecode.h, atree.h, elists.h, nlists.h, raise.h,\n+\tstringt.h: Update copyright notice. Remove trailing blanks.\n+\tFix source name in header.\n+\n+2003-10-24  Robert Dewar  <dewar@gnat.com>\n+\n+\t* sem_ch12.adb: Minor reformatting\n+\n+\t* sem_ch3.adb: \n+\tMinor reformatting (including new function return style throughout)\n+\n+\t* sem_ch3.ads: \n+\tMinor reformatting (including new function return style throughout)\n+\n+2003-10-24  Arnaud Charlet  <charlet@act-europe.fr>\n+\n+\t* adadecode.h, atree.h, elists.h, nlists.h, raise.h,\n+\tstringt.h: Update copyright notice. Remove trailing blanks.\n+\tFix source name in header.\n+\n+2003-10-24  GNAT Script  <nobody@gnat.com>\n+\n+\t* Make-lang.in: Makefile automatically updated\n+\n 2003-10-23  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* adadecode.h, atree.h, elists.h, namet.h, nlists.h, raise.h,"}, {"sha": "6afa2886ebe1560b8954a10645a1c2fefbe17a17", "filename": "gcc/ada/gnatkr.adb", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2Fgnatkr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2Fgnatkr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatkr.adb?ref=b6d8393123f45dac768ba6da0dfd58f80074557d", "patch": "@@ -26,10 +26,13 @@\n \n with Ada.Characters.Handling; use Ada.Characters.Handling;\n with Ada.Command_Line;        use Ada.Command_Line;\n+with Gnatvsn;\n with Krunch;\n with System.IO; use System.IO;\n \n procedure Gnatkr is\n+   pragma Ident (Gnatvsn.Gnat_Static_Version_String);\n+\n    Count        : Natural;\n    Maxlen       : Integer;\n    Exit_Program : exception;"}, {"sha": "123cff59800beb7d4281217653f14db9b9753588", "filename": "gcc/ada/gnatlink.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2Fgnatlink.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2Fgnatlink.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatlink.adb?ref=b6d8393123f45dac768ba6da0dfd58f80074557d", "patch": "@@ -44,6 +44,7 @@ with GNAT.OS_Lib;          use GNAT.OS_Lib;\n with Interfaces.C_Streams; use Interfaces.C_Streams;\n \n procedure Gnatlink is\n+   pragma Ident (Gnatvsn.Gnat_Static_Version_String);\n \n    package Gcc_Linker_Options is new Table.Table (\n      Table_Component_Type => String_Access,"}, {"sha": "efa5ed6b39fa08004b49ffea9a159f546279dc5c", "filename": "gcc/ada/gnatls.adb", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2Fgnatls.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2Fgnatls.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatls.adb?ref=b6d8393123f45dac768ba6da0dfd58f80074557d", "patch": "@@ -41,6 +41,8 @@ with Targparm;    use Targparm;\n with Types;       use Types;\n \n procedure Gnatls is\n+   pragma Ident (Gnat_Static_Version_String);\n+\n    Max_Column : constant := 80;\n \n    type File_Status is ("}, {"sha": "f983516fe706ea1e38eebccc640b917ce848d84f", "filename": "gcc/ada/gnatmake.adb", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2Fgnatmake.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2Fgnatmake.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatmake.adb?ref=b6d8393123f45dac768ba6da0dfd58f80074557d", "patch": "@@ -26,9 +26,11 @@\n \n --  Gnatmake usage: please consult the gnat documentation\n \n+with Gnatvsn;\n with Make;\n \n procedure Gnatmake is\n+   pragma Ident (Gnatvsn.Gnat_Static_Version_String);\n begin\n    --  The real work is done in Package Make. Gnatmake used to be a standalone\n    --  routine. Now Gnatmake's facilities have been placed in a package"}, {"sha": "1151158eacfb480e137386657b3865877ec443bf", "filename": "gcc/ada/gnatprep.adb", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2Fgnatprep.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2Fgnatprep.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatprep.adb?ref=b6d8393123f45dac768ba6da0dfd58f80074557d", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1996-2002, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1996-2003, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -24,9 +24,11 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n+with Gnatvsn;\n with GPrep;\n \n procedure GNATprep is\n+   pragma Ident (Gnatvsn.Gnat_Static_Version_String);\n begin\n    --  Everything is done in GPrep\n "}, {"sha": "502445d355f64d5f254bd40e5c6a8ae40c0187ce", "filename": "gcc/ada/gnatpsta.adb", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2Fgnatpsta.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2Fgnatpsta.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatpsta.adb?ref=b6d8393123f45dac768ba6da0dfd58f80074557d", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1997-2001 Free Software Foundation, Inc.          --\n+--          Copyright (C) 1997-2003 Free Software Foundation, Inc.          --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -33,11 +33,14 @@\n --  integer and floating point sizes.\n \n with Ada.Text_IO; use Ada.Text_IO;\n+with Gnatvsn;\n with Ttypef;      use Ttypef;\n with Ttypes;      use Ttypes;\n with Types;       use Types;\n \n procedure GnatPsta is\n+   pragma Ident (Gnatvsn.Gnat_Static_Version_String);\n+\n    procedure P (Item : String) renames Ada.Text_IO.Put_Line;\n \n    procedure P_Int_Range   (Size : Pos; Put_First : Boolean := True);"}, {"sha": "f665e5339eedc8929dba7512a21d9ba6b1b10d63", "filename": "gcc/ada/gnatvsn.ads", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2Fgnatvsn.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6d8393123f45dac768ba6da0dfd58f80074557d/gcc%2Fada%2Fgnatvsn.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatvsn.ads?ref=b6d8393123f45dac768ba6da0dfd58f80074557d", "patch": "@@ -41,6 +41,10 @@ package Gnatvsn is\n    --  GNATBIND, GNATCHOP, GNATFIND, GNATLINK, GNATMAKE, GNATXREF, are run\n    --  (with appropriate verbose option switch set).\n \n+   Gnat_Static_Version_String : constant String := \"GNU Ada\";\n+   --  Static string identifying this version, that can be used as an argument\n+   --  to e.g. pragma Ident.\n+\n    Gnat_Version_Type : constant String := \"FSF    \";\n    --  GNAT FSF version. This version of GNAT is part of a Free Software\n    --  Foundation release of the GNU Compiler Collection (GCC). The binder"}]}