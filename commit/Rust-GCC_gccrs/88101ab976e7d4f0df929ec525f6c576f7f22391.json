{"sha": "88101ab976e7d4f0df929ec525f6c576f7f22391", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODgxMDFhYjk3NmU3ZDRmMGRmOTI5ZWM1MjVmNmM1NzZmN2YyMjM5MQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl@gnu.org", "date": "1999-04-02T14:17:49Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-04-02T14:17:49Z"}, "message": "configure (gxx_include_dir): Removed.\n\n\t* configure (gxx_include_dir): Removed.\n\t* configure.in (gxx_include_dir): Handle it.\n\t* Makefile.in: Likewise.\n\t* libio/configure.in (gxx_include_dir): Handle it.\n\t* libio/Makefile.in: Likewise.\n\t* libstdc++/configure.in (gxx_include_dir): Handle it.\n\t* libstdc++/Makefile.in: Likewise.\n\nFrom-SVN: r26126", "tree": {"sha": "cbb6578d43ea22467a008e492c4f33e302b59ba8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cbb6578d43ea22467a008e492c4f33e302b59ba8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/88101ab976e7d4f0df929ec525f6c576f7f22391", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88101ab976e7d4f0df929ec525f6c576f7f22391", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88101ab976e7d4f0df929ec525f6c576f7f22391", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88101ab976e7d4f0df929ec525f6c576f7f22391/comments", "author": null, "committer": null, "parents": [{"sha": "09b893bba75609fa03a01600d46b001c288ba2f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/09b893bba75609fa03a01600d46b001c288ba2f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/09b893bba75609fa03a01600d46b001c288ba2f8"}], "stats": {"total": 137, "additions": 108, "deletions": 29}, "files": [{"sha": "31870cde9de29df09d00538663e3c23e30fca6c3", "filename": "ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88101ab976e7d4f0df929ec525f6c576f7f22391/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88101ab976e7d4f0df929ec525f6c576f7f22391/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=88101ab976e7d4f0df929ec525f6c576f7f22391", "patch": "@@ -1,3 +1,10 @@\n+Fri Apr  2 15:11:32 1999  H.J. Lu  (hjl@gnu.org)\n+\n+\t* configure (gxx_include_dir): Removed.\n+\n+\t* configure.in (gxx_include_dir): Handle it.\n+\t* Makefile.in: Likewise.\n+\n Thu Mar 18 00:17:50 1999  Mark Elbrecht <snowball3@usa.net>\n \n \t* config/mh-go32: Delete."}, {"sha": "795a7da3fd39ed54624f46d26242fac039047cc8", "filename": "Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88101ab976e7d4f0df929ec525f6c576f7f22391/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88101ab976e7d4f0df929ec525f6c576f7f22391/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=88101ab976e7d4f0df929ec525f6c576f7f22391", "patch": "@@ -35,6 +35,7 @@ includedir=${prefix}/include\n oldincludedir=/usr/include\n infodir=${prefix}/info\n mandir=${prefix}/man\n+gxx_include_dir=${includedir}/g++\n \n tooldir = $(exec_prefix)/$(target_alias)\n build_tooldir = $(exec_prefix)/$(target_alias)"}, {"sha": "a7d3cb8b1e2f464adf0806eda447c135c0cd56f0", "filename": "configure", "status": "modified", "additions": 0, "deletions": 29, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88101ab976e7d4f0df929ec525f6c576f7f22391/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88101ab976e7d4f0df929ec525f6c576f7f22391/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=88101ab976e7d4f0df929ec525f6c576f7f22391", "patch": "@@ -1331,35 +1331,6 @@ EOF\n                 echo site_makefile_frag = ${invsubdir}${site_makefile_frag} >>${Makefile}\n             fi \n \n-\t    # provide a proper gxx_include_dir to all subdirs.\n-\t    # Note, if you change the default, make sure to fix both here\n-\t    # and in the gcc subdirectory.\n-\t    # Check whether --with-gxx-include-dir or --without-gxx-include-dir was given.\n-\t    gxx_include_dir=\n-\t    if test -n \"${with_gxx_include_dir}\"; then\n-\t\tcase \"${with_gxx_include_dir}\" in\n-\t\t  yes )\n-\t\t    echo \"configure: error: bad value ${withval} given for g++ include directory\" 1>&2\n-\t\t    exit 1\n-\t\t    ;;\n-\t\t  no )\n-\t\t    ;;\n-\t\t  * )\n-\t\t    gxx_include_dir=${with_gxx_include_dir}\n-\t\t    ;;\n-\t\tesac\n-\t    fi\n-\t    if test x${gxx_include_dir} = x; then\n-\t        if test x${enable_version_specific_runtime_libs} = xyes; then\n-\t\t    echo gxx_include_dir = '${libsubdir}/include/g++' >> ${Makefile}\n-\t\telse\n-\t\t    . ${topsrcdir}/config.if\n-\t\t    echo gxx_include_dir = '${prefix}/include/g++'-${libstdcxx_interface} >> ${Makefile}\n-\t\tfi\n-\t    else\n-\t\techo gxx_include_dir = ${gxx_include_dir} >> ${Makefile}\n-\t    fi\n-\n \t    # record if we want to build shared libs.\n \t    if test -z \"${enable_shared}\"; then\n \t        echo enable_shared = no >> ${Makefile}"}, {"sha": "d0e7166d51ae90bb68e507fb8c892152ef43c6da", "filename": "configure.in", "status": "modified", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88101ab976e7d4f0df929ec525f6c576f7f22391/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88101ab976e7d4f0df929ec525f6c576f7f22391/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=88101ab976e7d4f0df929ec525f6c576f7f22391", "patch": "@@ -1080,10 +1080,40 @@ if [ x${with_newlib} != xno ] && echo \" ${target_configdirs} \" | grep \" newlib \"\n   targargs=\"--with-newlib ${targargs}\"\n fi\n \n+# provide a proper gxx_include_dir.\n+# Note, if you change the default, make sure to fix both here and in\n+# the gcc, libio, libstdc++ and libg++ subdirectories.\n+# Check whether --with-gxx-include-dir or --without-gxx-include-dir was given.\n+gxx_include_dir=\n+if test -n \"${with_gxx_include_dir}\"; then\n+  case \"${with_gxx_include_dir}\" in\n+    yes )\n+      echo \"configure.in: error: bad value ${withval} given for g++ include directory\" 1>&2\n+      exit 1\n+      ;;\n+    no )\n+      ;;\n+    * )\n+      gxx_include_dir=${with_gxx_include_dir}\n+      ;;\n+  esac\n+fi\n+if test x${gxx_include_dir} = x; then\n+  if test x${enable_version_specific_runtime_libs} = xyes; then\n+    gxx_include_dir='${libsubdir}/include/g++'\n+  else\n+    . ${topsrcdir}/config.if\n+    gxx_include_dir='${prefix}/include/g++'-${libstdcxx_interface}\n+  fi\n+else\n+  gxx_include_dir=${gxx_include_dir}\n+fi\n+\n targargs=\"--host=${target_alias} --build=${build_alias} ${targargs}\"\n sed -e \"s:^TARGET_CONFIGDIRS[ \t]*=.*$:TARGET_CONFIGDIRS = ${target_configdirs}:\" \\\n     -e \"s%^CONFIG_ARGUMENTS[ \t]*=.*$%CONFIG_ARGUMENTS = ${targargs}%\" \\\n     -e \"s%^TARGET_SUBDIR[ \t]*=.*$%TARGET_SUBDIR = ${target_subdir}%\" \\\n+    -e \"s%^gxx_include_dir[ \t]*=.*$%gxx_include_dir=${gxx_include_dir}%\" \\\n        Makefile > Makefile.tem\n rm -f Makefile\n mv -f Makefile.tem Makefile"}, {"sha": "faeb9967ef3f94e4c32f88178a0cc2333539ae97", "filename": "libio/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88101ab976e7d4f0df929ec525f6c576f7f22391/libio%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88101ab976e7d4f0df929ec525f6c576f7f22391/libio%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2FChangeLog?ref=88101ab976e7d4f0df929ec525f6c576f7f22391", "patch": "@@ -1,3 +1,8 @@\n+Fri Apr  2 15:11:58 1999  H.J. Lu  (hjl@gnu.org)\n+\n+\t* libio/configure.in (gxx_include_dir): Handle it.\n+\t* libio/Makefile.in: Likewise.\n+\n Wed Mar 24 22:36:45 1999  Mumit Khan  <khan@xraylith.wisc.edu>\n \n \t* configure.in (EXEEXT): Define."}, {"sha": "1d4123b523c38f8cbc6de53fac4bf5870aa39775", "filename": "libio/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88101ab976e7d4f0df929ec525f6c576f7f22391/libio%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88101ab976e7d4f0df929ec525f6c576f7f22391/libio%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2FMakefile.in?ref=88101ab976e7d4f0df929ec525f6c576f7f22391", "patch": "@@ -22,6 +22,7 @@ VERSION = 2.8.0\n _G_CONFIG_H=_G_config.h\n tooldir = $(exec_prefix)/$(target)\n INSTALLDIR = $(libdir)\n+gxx_include_dir=${includedir}/g++\n \n IO_OBJECTS = filedoalloc.o floatconv.o genops.o fileops.o \\\n   iovfprintf.o \\"}, {"sha": "85a00018c9f7019fd49970ca1f6a09c33d011bad", "filename": "libio/configure.in", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88101ab976e7d4f0df929ec525f6c576f7f22391/libio%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88101ab976e7d4f0df929ec525f6c576f7f22391/libio%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2Fconfigure.in?ref=88101ab976e7d4f0df929ec525f6c576f7f22391", "patch": "@@ -178,3 +178,32 @@ if [ -n \"${with_cross_host}\" ] ; then\n fi\n \n . ${topsrcdir}/config-ml.in\n+\n+gxx_include_dir=\n+# Specify the g++ header file directory\n+# Check whether --with-gxx-include-dir or --without-gxx-include-dir was given.\n+if test \"${with_gxx_include_dir+set}\" = set; then\n+  withval=\"$with_gxx_include_dir\"\n+  case \"${withval}\" in\n+    yes)\n+      echo \"configure.in: error: bad value ${withval} given for g++ include directory\" 1>&2\n+      exit 1\n+      ;;\n+    no)\t;;\n+    *)\tgxx_include_dir=$with_gxx_include_dir ;;\n+  esac\n+fi\n+\n+if test x${gxx_include_dir} = x; then\n+  if test x${enable_version_specific_runtime_libs} = xyes; then\n+    gxx_include_dir='${libsubdir}/include/g++'\n+  else\n+    topsrcdir=${srcdir}/.. . ${srcdir}/../config.if\n+    gxx_include_dir='${prefix}/include/g++'-${libstdcxx_interface}\n+  fi\n+fi\n+\n+rm -f Makefile.tem\n+sed -e \"s%^gxx_include_dir[ \t]*=.*$%gxx_include_dir=${gxx_include_dir}%\" \\\n+       Makefile >Makefile.tem\n+mv -f Makefile.tem Makefile"}, {"sha": "658f5fd44aea66524a7e3b3f6ff0b924c63079d4", "filename": "libstdc++/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88101ab976e7d4f0df929ec525f6c576f7f22391/libstdc%2B%2B%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88101ab976e7d4f0df929ec525f6c576f7f22391/libstdc%2B%2B%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2FChangeLog?ref=88101ab976e7d4f0df929ec525f6c576f7f22391", "patch": "@@ -1,3 +1,8 @@\n+Fri Apr  2 15:12:14 1999  H.J. Lu  (hjl@gnu.org)\n+\n+\t* libstdc++/configure.in (gxx_include_dir): Handle it.\n+\t* libstdc++/Makefile.in: Likewise.\n+\n Wed Mar 24 22:36:45 1999  Mumit Khan  <khan@xraylith.wisc.edu>\n \n \t* configure.in (EXEEXT): Define."}, {"sha": "9e03d0545a7a24f3d2781855771f1880b12d9c3f", "filename": "libstdc++/Makefile.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88101ab976e7d4f0df929ec525f6c576f7f22391/libstdc%2B%2B%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88101ab976e7d4f0df929ec525f6c576f7f22391/libstdc%2B%2B%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2FMakefile.in?ref=88101ab976e7d4f0df929ec525f6c576f7f22391", "patch": "@@ -17,6 +17,8 @@\n VERSION = 2.9.0\n INTERFACE = 2\n \n+gxx_include_dir=${includedir}/g++\n+\n OBJS  = cstringi.o stdexcepti.o cstdlibi.o cmathi.o stlinst.o\n SUBLIBS = $(STAMP)-string $(STAMP)-complx\n "}, {"sha": "9590b6b363eb293c46c92d8421cbfcc17cdf710b", "filename": "libstdc++/configure.in", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88101ab976e7d4f0df929ec525f6c576f7f22391/libstdc%2B%2B%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88101ab976e7d4f0df929ec525f6c576f7f22391/libstdc%2B%2B%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2Fconfigure.in?ref=88101ab976e7d4f0df929ec525f6c576f7f22391", "patch": "@@ -177,3 +177,31 @@ if [ -n \"${with_cross_host}\" ] ; then\n fi\n \n . ${topsrcdir}/config-ml.in\n+\n+gxx_include_dir=\n+# Specify the g++ header file directory\n+# Check whether --with-gxx-include-dir or --without-gxx-include-dir was given.\n+if test \"${with_gxx_include_dir+set}\" = set; then\n+  withval=\"$with_gxx_include_dir\"\n+  case \"${withval}\" in\n+    yes)\n+      echo \"configure.in: error: bad value ${withval} given for g++ include directory\" 1>&2\n+      exit 1\n+      ;;\n+    no)\t;;\n+    *)\tgxx_include_dir=$with_gxx_include_dir ;;\n+  esac\n+fi\n+\n+if test x${gxx_include_dir} = x; then\n+  if test x${enable_version_specific_runtime_libs} = xyes; then\n+    gxx_include_dir='${libsubdir}/include/g++'\n+  else\n+    gxx_include_dir='${prefix}/include/g++'-${libstdcxx_interface}\n+  fi\n+fi\n+\n+rm -f Makefile.tem\n+sed -e \"s%^gxx_include_dir[ \t]*=.*$%gxx_include_dir=${gxx_include_dir}%\" \\\n+       Makefile >Makefile.tem\n+mv -f Makefile.tem Makefile"}]}