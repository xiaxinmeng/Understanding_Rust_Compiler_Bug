{"sha": "6cbadf36b260041a608d34e6f839aef9403d68c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmNiYWRmMzZiMjYwMDQxYTYwOGQzNGU2ZjgzOWFlZjk0MDNkNjhjMQ==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@redhat.com", "date": "2000-12-27T11:01:03Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2000-12-27T11:01:03Z"}, "message": "[multiple changes]\n\n2000-12-27  Geoffrey Keating  <geoffk@redhat.com>\n\n\t* config/rs6000/rs6000.md (define_attr \"length\"): Correct\n\tcalculation.\n\n2000-12-26  Geoffrey Keating  <geoffk@redhat.com>\n\n\t* gcc.c-torture/compile/20001226-1.c: New test.\n\nFrom-SVN: r38495", "tree": {"sha": "a229cef40f7ce29a6095c6b03a87a41e7ce71a71", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a229cef40f7ce29a6095c6b03a87a41e7ce71a71"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6cbadf36b260041a608d34e6f839aef9403d68c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6cbadf36b260041a608d34e6f839aef9403d68c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6cbadf36b260041a608d34e6f839aef9403d68c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6cbadf36b260041a608d34e6f839aef9403d68c1/comments", "author": null, "committer": null, "parents": [{"sha": "b370937715f4a2553b2e15fed5cd97b7617704c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b370937715f4a2553b2e15fed5cd97b7617704c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b370937715f4a2553b2e15fed5cd97b7617704c6"}], "stats": {"total": 43, "additions": 40, "deletions": 3}, "files": [{"sha": "ad406bdb0623176e4ac97e80d687970880b234dd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6cbadf36b260041a608d34e6f839aef9403d68c1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6cbadf36b260041a608d34e6f839aef9403d68c1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6cbadf36b260041a608d34e6f839aef9403d68c1", "patch": "@@ -1,3 +1,8 @@\n+2000-12-27  Geoffrey Keating  <geoffk@redhat.com>\n+\n+\t* config/rs6000/rs6000.md (define_attr \"length\"): Correct\n+\tcalculation.\n+\n 2000-12-26  Kazu Hirata  <kazu@hxi.com>\n \n \t* config/h8300/h8300.c: Fix a comment typo."}, {"sha": "9df70cf3eaf0346802345a0b4cfa4bde84dac4a4", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6cbadf36b260041a608d34e6f839aef9403d68c1/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6cbadf36b260041a608d34e6f839aef9403d68c1/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=6cbadf36b260041a608d34e6f839aef9403d68c1", "patch": "@@ -41,12 +41,14 @@\n   (const_string \"integer\"))\n \n ;; Length (in bytes).\n+; '(pc)' in the following doesn't include the instruction itself; it is \n+; calculated as if the instruction had zero size.\n (define_attr \"length\" \"\"\n   (if_then_else (eq_attr \"type\" \"branch\")\n-\t\t(if_then_else (and (ge (minus (pc) (match_dup 0))\n+\t\t(if_then_else (and (ge (minus (match_dup 0) (pc))\n \t\t\t\t       (const_int -32768))\n-\t\t\t\t   (lt (minus (pc) (match_dup 0))\n-\t\t\t\t       (const_int 32767)))\n+\t\t\t\t   (lt (minus (match_dup 0) (pc))\n+\t\t\t\t       (const_int 32764)))\n \t\t\t      (const_int 4)\n \t\t\t      (const_int 8))\n \t\t(const_int 4)))"}, {"sha": "af375824f46c6aa43b72846baf6fa3239ff9a2a9", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6cbadf36b260041a608d34e6f839aef9403d68c1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6cbadf36b260041a608d34e6f839aef9403d68c1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6cbadf36b260041a608d34e6f839aef9403d68c1", "patch": "@@ -1,3 +1,7 @@\n+2000-12-26  Geoffrey Keating  <geoffk@redhat.com>\n+\n+\t* gcc.c-torture/compile/20001226-1.c: New test.\n+\n 2000-12-22  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* gcc.c-torture/compile/20001222-1.c: New test."}, {"sha": "54dacf74167c110cd7dea44cc6f6d404f98cc6bb", "filename": "gcc/testsuite/gcc.c-torture/compile/20001226-1.c", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6cbadf36b260041a608d34e6f839aef9403d68c1/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20001226-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6cbadf36b260041a608d34e6f839aef9403d68c1/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20001226-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20001226-1.c?ref=6cbadf36b260041a608d34e6f839aef9403d68c1", "patch": "@@ -0,0 +1,26 @@\n+/* This testcase exposed two branch shortening bugs on powerpc.  */\n+\n+#define C(a,b) \\\n+  if (a > b)  goto gt; \\\n+  if (a < b)  goto lt;\n+\n+#define C4(x,b) C((x)[0], b) C((x)[1],b) C((x)[2],b) C((x)[3],b)\n+#define C16(x,y) C4(x, (y)[0]) C4(x, (y)[1]) C4(x, (y)[2]) C4(x, (y)[3])\n+\n+#define C64(x,y) C16(x,y) C16(x+4,y) C16(x+8,y) C16(x+12,y)\n+#define C256(x,y) C64(x,y) C64(x,y+4) C64(x,y+8) C64(x,y+12)\n+\n+#define C1024(x,y) C256(x,y) C256(x+16,y) C256(x+32,y) C256(x+48,y)\n+#define C4096(x,y) C1024(x,y) C1024(x,y+16) C1024(x,y+32) C1024(x,y+48)\n+\n+unsigned foo(int x[64], int y[64])\n+{\n+  C4096(x,y);\n+  \n+  return 0x01234567;\n+ gt:\n+  return 0x12345678;\n+ lt:\n+  return 0xF0123456;\n+}\n+"}]}