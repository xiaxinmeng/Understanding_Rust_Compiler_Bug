{"sha": "27065374f172f05110b68fe1f452eed414c837bd", "node_id": "C_kwDOANBUbNoAKDI3MDY1Mzc0ZjE3MmYwNTExMGI2OGZlMWY0NTJlZWQ0MTRjODM3YmQ", "commit": {"author": {"name": "Jiawei", "email": "jiawei@iscas.ac.cn", "date": "2022-10-20T09:32:35Z"}, "committer": {"name": "Kito Cheng", "email": "kito.cheng@sifive.com", "date": "2022-10-27T03:17:36Z"}, "message": "RISC-V: Add zhinx/zhinxmin testcases.\n\nTest zhinx/zhinxmin support, same like with zfh/zfhmin testcases\nbut use gprs and don't use fmv instruction.\n\ngcc/testsuite/ChangeLog:\n\n\t* gcc.target/riscv/_Float16-zhinx-1.c: New test.\n\t* gcc.target/riscv/_Float16-zhinx-2.c: New test.\n\t* gcc.target/riscv/_Float16-zhinx-3.c: New test.\n\t* gcc.target/riscv/_Float16-zhinxmin-1.c: New test.\n\t* gcc.target/riscv/_Float16-zhinxmin-2.c: New test.\n\t* gcc.target/riscv/_Float16-zhinxmin-3.c: New test.", "tree": {"sha": "e62f2279921fcea28f7dc8a24d0b0a2eba18347d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e62f2279921fcea28f7dc8a24d0b0a2eba18347d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/27065374f172f05110b68fe1f452eed414c837bd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27065374f172f05110b68fe1f452eed414c837bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27065374f172f05110b68fe1f452eed414c837bd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27065374f172f05110b68fe1f452eed414c837bd/comments", "author": {"login": "pz9115", "id": 43362020, "node_id": "MDQ6VXNlcjQzMzYyMDIw", "avatar_url": "https://avatars.githubusercontent.com/u/43362020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pz9115", "html_url": "https://github.com/pz9115", "followers_url": "https://api.github.com/users/pz9115/followers", "following_url": "https://api.github.com/users/pz9115/following{/other_user}", "gists_url": "https://api.github.com/users/pz9115/gists{/gist_id}", "starred_url": "https://api.github.com/users/pz9115/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pz9115/subscriptions", "organizations_url": "https://api.github.com/users/pz9115/orgs", "repos_url": "https://api.github.com/users/pz9115/repos", "events_url": "https://api.github.com/users/pz9115/events{/privacy}", "received_events_url": "https://api.github.com/users/pz9115/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kito-cheng", "id": 2723185, "node_id": "MDQ6VXNlcjI3MjMxODU=", "avatar_url": "https://avatars.githubusercontent.com/u/2723185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kito-cheng", "html_url": "https://github.com/kito-cheng", "followers_url": "https://api.github.com/users/kito-cheng/followers", "following_url": "https://api.github.com/users/kito-cheng/following{/other_user}", "gists_url": "https://api.github.com/users/kito-cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/kito-cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kito-cheng/subscriptions", "organizations_url": "https://api.github.com/users/kito-cheng/orgs", "repos_url": "https://api.github.com/users/kito-cheng/repos", "events_url": "https://api.github.com/users/kito-cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/kito-cheng/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6b252dc96b52f5ab6f399c3f6b0c0b6614a36913", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b252dc96b52f5ab6f399c3f6b0c0b6614a36913", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b252dc96b52f5ab6f399c3f6b0c0b6614a36913"}], "stats": {"total": 58, "additions": 58, "deletions": 0}, "files": [{"sha": "90172b57e05ff42fe4a66472296dd4e4ff152140", "filename": "gcc/testsuite/gcc.target/riscv/_Float16-zhinx-1.c", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27065374f172f05110b68fe1f452eed414c837bd/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinx-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27065374f172f05110b68fe1f452eed414c837bd/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinx-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinx-1.c?ref=27065374f172f05110b68fe1f452eed414c837bd", "patch": "@@ -0,0 +1,10 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv64i_zhinx -mabi=lp64 -O\" } */\n+\n+_Float16 foo1 (_Float16 a, _Float16 b)\n+{\n+    return b;\n+}\n+\n+/* { dg-final { scan-assembler-not \"fmv.h\" } } */\n+/* { dg-final { scan-assembler-times \"mv\" 1 } } */"}, {"sha": "26f01198c97d67b84a52a0f2e2801081e52e025e", "filename": "gcc/testsuite/gcc.target/riscv/_Float16-zhinx-2.c", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27065374f172f05110b68fe1f452eed414c837bd/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinx-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27065374f172f05110b68fe1f452eed414c837bd/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinx-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinx-2.c?ref=27065374f172f05110b68fe1f452eed414c837bd", "patch": "@@ -0,0 +1,9 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv64i_zhinx -mabi=lp64 -O\" } */\n+\n+_Float16 foo1 (_Float16 a, _Float16 b)\n+{\n+    /* { dg-final { scan-assembler-not \"fadd.h\tfa\" } } */\n+    /* { dg-final { scan-assembler-times \"fadd.h\ta\" 1 } } */\n+    return a + b;\n+}"}, {"sha": "573913568e727e0e109b0f0a268b09f48833e38d", "filename": "gcc/testsuite/gcc.target/riscv/_Float16-zhinx-3.c", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27065374f172f05110b68fe1f452eed414c837bd/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinx-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27065374f172f05110b68fe1f452eed414c837bd/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinx-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinx-3.c?ref=27065374f172f05110b68fe1f452eed414c837bd", "patch": "@@ -0,0 +1,9 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv64i_zhinx -mabi=lp64 -O\" } */\n+\n+int foo1 (_Float16 a, _Float16 b)\n+{\n+    /* { dg-final { scan-assembler-not \"fgt.h\tfa\" } } */\n+    /* { dg-final { scan-assembler-times \"fgt.h\ta\" 1 } } */\n+    return a > b;\n+}"}, {"sha": "0070ebf616cd02e0929f402e2ae67656954662ac", "filename": "gcc/testsuite/gcc.target/riscv/_Float16-zhinxmin-1.c", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27065374f172f05110b68fe1f452eed414c837bd/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinxmin-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27065374f172f05110b68fe1f452eed414c837bd/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinxmin-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinxmin-1.c?ref=27065374f172f05110b68fe1f452eed414c837bd", "patch": "@@ -0,0 +1,10 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv64i_zhinxmin -mabi=lp64 -O\" } */\n+\n+_Float16 foo1 (_Float16 a, _Float16 b)\n+{\n+    /* { dg-final { scan-assembler-not \"fmv.h\" } } */\n+    /* { dg-final { scan-assembler-not \"fmv.s\" } } */\n+    /* { dg-final { scan-assembler-times \"mv\" 1 } } */\n+    return b;\n+}"}, {"sha": "17f45a938d55f212c5c52b161107bced2c4bf204", "filename": "gcc/testsuite/gcc.target/riscv/_Float16-zhinxmin-2.c", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27065374f172f05110b68fe1f452eed414c837bd/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinxmin-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27065374f172f05110b68fe1f452eed414c837bd/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinxmin-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinxmin-2.c?ref=27065374f172f05110b68fe1f452eed414c837bd", "patch": "@@ -0,0 +1,10 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv64i_zhinxmin -mabi=lp64 -O\" } */\n+\n+_Float16 foo1 (_Float16 a, _Float16 b)\n+{\n+    /* { dg-final { scan-assembler-not \"fadd.h\" } } */\n+    /* { dg-final { scan-assembler-not \"fadd.s\tfa\" } } */\n+    /* { dg-final { scan-assembler-times \"fadd.s\ta\" 1 } } */\n+    return a + b;\n+}"}, {"sha": "7a43641a5a6e47686845cc611da13312aae809b2", "filename": "gcc/testsuite/gcc.target/riscv/_Float16-zhinxmin-3.c", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27065374f172f05110b68fe1f452eed414c837bd/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinxmin-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27065374f172f05110b68fe1f452eed414c837bd/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinxmin-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2F_Float16-zhinxmin-3.c?ref=27065374f172f05110b68fe1f452eed414c837bd", "patch": "@@ -0,0 +1,10 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv64if_zfhmin -mabi=lp64f -O\" } */\n+\n+int foo1 (_Float16 a, _Float16 b)\n+{\n+    /* { dg-final { scan-assembler-not \"fgt.h\" } } */\n+    /* { dg-final { scan-assembler-not \"fgt.s\tfa\" } } */\n+    /* { dg-final { scan-assembler-times \"fgt.s\ta\" 1 } } */\n+    return a > b;\n+}"}]}