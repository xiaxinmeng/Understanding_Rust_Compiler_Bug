{"sha": "9d654bba3a993d8b182af3628bda0e5ca113b671", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWQ2NTRiYmEzYTk5M2Q4YjE4MmFmMzYyOGJkYTBlNWNhMTEzYjY3MQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1998-05-16T23:24:20Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1998-05-16T23:24:20Z"}, "message": "osf.h (HAVE_STAMP_H): Define.\n\n        * alpha/osf.h (HAVE_STAMP_H): Define.\n        * alpha.c: Use it.\n        * alpha/netbsd.h, alpha/netbsd-elf.h: New files.\n        * configure.in (alpha*-*-netbsd*): New.\n        Based on patches from Paul H. Anderson <pha@pdq.com>.\n        * configure.in (alpha*-*-linux-*): Kill xm_defines.\n        (alpha*-*-linux-gnulibc1*) [fixincludes]: Define.\n        * alpha/xm-linux.h: Remove file.\n\nFrom-SVN: r19809", "tree": {"sha": "e5c044cdf02d80b32ce3a575bc91f677525cac8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e5c044cdf02d80b32ce3a575bc91f677525cac8c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9d654bba3a993d8b182af3628bda0e5ca113b671", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d654bba3a993d8b182af3628bda0e5ca113b671", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d654bba3a993d8b182af3628bda0e5ca113b671", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d654bba3a993d8b182af3628bda0e5ca113b671/comments", "author": null, "committer": null, "parents": [{"sha": "620422fdbc4a3803005b745c456672974c6d29fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/620422fdbc4a3803005b745c456672974c6d29fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/620422fdbc4a3803005b745c456672974c6d29fd"}], "stats": {"total": 112, "additions": 99, "deletions": 13}, "files": [{"sha": "625f3daa8ba1a607534069c2403571e44e0bfc99", "filename": "gcc/config/alpha/alpha.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d654bba3a993d8b182af3628bda0e5ca113b671/gcc%2Fconfig%2Falpha%2Falpha.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d654bba3a993d8b182af3628bda0e5ca113b671/gcc%2Fconfig%2Falpha%2Falpha.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.c?ref=9d654bba3a993d8b182af3628bda0e5ca113b671", "patch": "@@ -3061,7 +3061,7 @@ direct_return ()\n /* Write a version stamp.  Don't write anything if we are running as a\n    cross-compiler.  Otherwise, use the versions in /usr/include/stamp.h.  */\n \n-#if !defined(CROSS_COMPILE) && !defined(_WIN32) && !defined(__linux__) && !defined(VMS)\n+#ifdef HAVE_STAMP_H\n #include <stamp.h>\n #endif\n "}, {"sha": "353e62f02cd35bb1854c30a8d46fae18bc38eebb", "filename": "gcc/config/alpha/netbsd-elf.h", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d654bba3a993d8b182af3628bda0e5ca113b671/gcc%2Fconfig%2Falpha%2Fnetbsd-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d654bba3a993d8b182af3628bda0e5ca113b671/gcc%2Fconfig%2Falpha%2Fnetbsd-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fnetbsd-elf.h?ref=9d654bba3a993d8b182af3628bda0e5ca113b671", "patch": "@@ -0,0 +1,27 @@\n+/* Definitions of target machine for GNU compiler\n+   for Alpha NetBSD systems using ELF.\n+   Copyright (C) 1998 Free Software Foundation, Inc.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n+\n+#undef TARGET_VERSION\n+#define TARGET_VERSION fprintf (stderr, \" (Alpha NetBSD/ELF)\");\n+\n+#undef SUB_CPP_PREDEFINES\n+#define SUB_CPP_PREDEFINES \"-D__ELF__\"\n+\n+#define ELF_DYNAMIC_LINKER  \"/usr/libexec/ld.elf_so\""}, {"sha": "56559f3145b79fe1b4e24aa781f8184ec1039a50", "filename": "gcc/config/alpha/netbsd.h", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d654bba3a993d8b182af3628bda0e5ca113b671/gcc%2Fconfig%2Falpha%2Fnetbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d654bba3a993d8b182af3628bda0e5ca113b671/gcc%2Fconfig%2Falpha%2Fnetbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fnetbsd.h?ref=9d654bba3a993d8b182af3628bda0e5ca113b671", "patch": "@@ -0,0 +1,40 @@\n+/* Definitions of target machine for GNU compiler,\n+   for Alpha NetBSD systems.\n+   Copyright (C) 1998 Free Software Foundation, Inc.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n+\n+#undef TARGET_DEFAULT\n+#define TARGET_DEFAULT (MASK_FP | MASK_FPREGS | MASK_GAS)\n+\n+#undef CPP_PREDEFINES\n+#define CPP_PREDEFINES \"\\\n+-D__alpha -D__alpha__ -D__linux__ -D__linux -D_LONGLONG -Dnetbsd -Dunix \\\n+-Asystem(linux) -Acpu(alpha) -Amachine(alpha) \" SUB_CPP_PREDEFINES\n+\n+#undef LIB_SPEC\n+#define LIB_SPEC \"%{pg:-lgmon} %{pg:-lc_p} %{!pg:-lc}\"\n+\n+/* Generate calls to memcpy, etc., not bcopy, etc. */\n+#define TARGET_MEM_FUNCTIONS\n+\n+#undef FUNCTION_PROFILER\n+#define FUNCTION_PROFILER(FILE, LABELNO)\t\t\t\\\n+\tfputs (\"\\tlda $28,_mcount\\n\\tjsr $28,($28),_mcount\\n\", (FILE))\n+\n+/* Show that we need a GP when profiling.  */\n+#define TARGET_PROFILING_NEEDS_GP"}, {"sha": "0af169cc74b0c9348d07d50a021b1884ac0fea2a", "filename": "gcc/config/alpha/osf.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d654bba3a993d8b182af3628bda0e5ca113b671/gcc%2Fconfig%2Falpha%2Fosf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d654bba3a993d8b182af3628bda0e5ca113b671/gcc%2Fconfig%2Falpha%2Fosf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fosf.h?ref=9d654bba3a993d8b182af3628bda0e5ca113b671", "patch": "@@ -103,3 +103,8 @@ Boston, MA 02111-1307, USA.  */\n \t\t%{.s:%i} %{!.s:%g.s}}}\"\n \n #endif\n+\n+/* Indicate that we have a stamp.h to use.  */\n+#ifndef CROSS_COMPILE\n+#define HAVE_STAMP_H 1\n+#endif"}, {"sha": "b85269b58e0fe98259fc2349284251d4af18e7e7", "filename": "gcc/config/alpha/xm-linux.h", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/620422fdbc4a3803005b745c456672974c6d29fd/gcc%2Fconfig%2Falpha%2Fxm-linux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/620422fdbc4a3803005b745c456672974c6d29fd/gcc%2Fconfig%2Falpha%2Fxm-linux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fxm-linux.h?ref=620422fdbc4a3803005b745c456672974c6d29fd", "patch": "@@ -1,2 +0,0 @@\n-#undef USE_BFD\n-#define USE_BFD"}, {"sha": "37b499cf425fcdbf115cf35e47528f3ecd1121ee", "filename": "gcc/configure", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d654bba3a993d8b182af3628bda0e5ca113b671/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d654bba3a993d8b182af3628bda0e5ca113b671/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=9d654bba3a993d8b182af3628bda0e5ca113b671", "patch": "@@ -2191,27 +2191,25 @@ for machine in $build $host $target; do\n \t\t;;\n \talpha*-*-linux-gnuecoff*)\n \t\ttm_file=\"${tm_file} alpha/linux-ecoff.h alpha/linux.h\"\n-\t\txm_defines=USE_BFD\n \t\ttarget_cpu_default=\"MASK_GAS\"\n \t\tgas=no\n \t\txmake_file=none\n \t\tgas=yes gnu_ld=yes\n \t\t;;\n \talpha*-*-linux-gnulibc1*)\n-\t\ttm_file=\"${tm_file} alpha/elf.h alpha/linux-elf.h alpha/linux.h\"\n-\t\txm_defines=USE_BFD\n+\t\ttm_file=\"${tm_file} alpha/elf.h alpha/linux.h alpha/linux-elf.h\"\n \t\ttarget_cpu_default=\"MASK_GAS\"\n \t\ttmake_file=\"t-linux t-linux-gnulibc1 alpha/t-linux alpha/t-crtbe\"\n \t\textra_parts=\"crtbegin.o crtend.o\"\n+\t\tfixincludes=fixinc.wrap\n \t\txmake_file=none\n \t\tgas=yes gnu_ld=yes\n  \t\tif [ x$enable_threads = xyes ]; then\n  \t\t\tthread_file='posix'\n  \t\tfi\n \t\t;;\n \talpha*-*-linux-gnu*)\n-\t\ttm_file=\"${tm_file} alpha/elf.h alpha/linux-elf.h alpha/linux.h\"\n-\t\txm_defines=USE_BFD\n+\t\ttm_file=\"${tm_file} alpha/elf.h alpha/linux.h alpha/linux-elf.h\"\n \t\ttarget_cpu_default=\"MASK_GAS\"\n \t\ttmake_file=\"t-linux alpha/t-linux alpha/t-crtbe\"\n \t\textra_parts=\"crtbegin.o crtend.o\"\n@@ -2222,6 +2220,16 @@ for machine in $build $host $target; do\n  \t\t\tthread_file='posix'\n  \t\tfi\n \t\t;;\n+\talpha*-*-netbsd*)\n+\t\ttm_file=\"${tm_file} alpha/elf.h alpha/netbsd.h alpha/netbsdl-elf.h\"\n+\t\ttarget_cpu_default=\"MASK_GAS\"\n+\t\ttmake_file=\"alpha/t-crtbe\"\n+\t\textra_parts=\"crtbegin.o crtend.o\"\n+\t\txmake_file=none\n+\t\tfixincludes=fixinc.wrap\n+\t\tgas=yes gnu_ld=yes\n+\t\t;;\n+\t\t\n \talpha*-dec-osf*)\n \t\tif [ x$stabs = xyes ]\n \t\tthen"}, {"sha": "d8bc744e63466c10db48ac8dea323a88ed8a7c1a", "filename": "gcc/configure.in", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d654bba3a993d8b182af3628bda0e5ca113b671/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d654bba3a993d8b182af3628bda0e5ca113b671/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=9d654bba3a993d8b182af3628bda0e5ca113b671", "patch": "@@ -347,27 +347,25 @@ for machine in $build $host $target; do\n \t\t;;\n \talpha*-*-linux-gnuecoff*)\n \t\ttm_file=\"${tm_file} alpha/linux-ecoff.h alpha/linux.h\"\n-\t\txm_defines=USE_BFD\n \t\ttarget_cpu_default=\"MASK_GAS\"\n \t\tgas=no\n \t\txmake_file=none\n \t\tgas=yes gnu_ld=yes\n \t\t;;\n \talpha*-*-linux-gnulibc1*)\n-\t\ttm_file=\"${tm_file} alpha/elf.h alpha/linux-elf.h alpha/linux.h\"\n-\t\txm_defines=USE_BFD\n+\t\ttm_file=\"${tm_file} alpha/elf.h alpha/linux.h alpha/linux-elf.h\"\n \t\ttarget_cpu_default=\"MASK_GAS\"\n \t\ttmake_file=\"t-linux t-linux-gnulibc1 alpha/t-linux alpha/t-crtbe\"\n \t\textra_parts=\"crtbegin.o crtend.o\"\n+\t\tfixincludes=fixinc.wrap\n \t\txmake_file=none\n \t\tgas=yes gnu_ld=yes\n  \t\tif [[ x$enable_threads = xyes ]]; then\n  \t\t\tthread_file='posix'\n  \t\tfi\n \t\t;;\n \talpha*-*-linux-gnu*)\n-\t\ttm_file=\"${tm_file} alpha/elf.h alpha/linux-elf.h alpha/linux.h\"\n-\t\txm_defines=USE_BFD\n+\t\ttm_file=\"${tm_file} alpha/elf.h alpha/linux.h alpha/linux-elf.h\"\n \t\ttarget_cpu_default=\"MASK_GAS\"\n \t\ttmake_file=\"t-linux alpha/t-linux alpha/t-crtbe\"\n \t\textra_parts=\"crtbegin.o crtend.o\"\n@@ -378,6 +376,16 @@ for machine in $build $host $target; do\n  \t\t\tthread_file='posix'\n  \t\tfi\n \t\t;;\n+\talpha*-*-netbsd*)\n+\t\ttm_file=\"${tm_file} alpha/elf.h alpha/netbsd.h alpha/netbsdl-elf.h\"\n+\t\ttarget_cpu_default=\"MASK_GAS\"\n+\t\ttmake_file=\"alpha/t-crtbe\"\n+\t\textra_parts=\"crtbegin.o crtend.o\"\n+\t\txmake_file=none\n+\t\tfixincludes=fixinc.wrap\n+\t\tgas=yes gnu_ld=yes\n+\t\t;;\n+\t\t\n \talpha*-dec-osf*)\n \t\tif [[ x$stabs = xyes ]]\n \t\tthen"}]}