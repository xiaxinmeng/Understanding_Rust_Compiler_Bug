{"sha": "a397db9637a45274b4acc4ebcba14ae3506d5b80", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTM5N2RiOTYzN2E0NTI3NGI0YWNjNGViY2JhMTRhZTM1MDZkNWI4MA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2004-01-12T11:45:26Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2004-01-12T11:45:26Z"}, "message": "[multiple changes]\n\n2004-01-12  Laurent Pautet  <pautet@act-europe.fr>\n\n\t* 3vsocthi.adb, 3vsocthi.ads, 3wsocthi.adb,\n\t3wsocthi.ads, 3zsocthi.adb, 3zsocthi.ads, g-socthi.adb,\n\tg-socthi.ads (Socket_Error_Message): Return C.Strings.chars_ptr\n\tinstead of String.\n\n\t* g-socket.adb (Raise_Socket_Error): Use new Socket_Error_Message\n\tsignature.\n\n2004-01-12  Javier Miranda  <miranda@gnat.com>\n\n\t* cstand.adb, exp_aggr.adb, exp_ch3.adb, exp_ch9.adb, exp_dist.adb,\n\texp_imgv.adb, exp_pakd.adb, exp_util.adb, par-ch3.adb, sem.adb,\n\tsem_ch3.adb, sem_dist.adb, sem_prag.adb, sem_res.adb,\n\tsem_util.adb, sinfo.adb, sinfo.ads, sprint.adb: Addition of\n\tComponent_Definition node.\n\n2004-01-12  Ed Falis  <falis@gnat.com>\n\n\t* impunit.adb: Add GNAT.Secondary_Stack_Info as user-visible unit\n\n2004-01-12  Thomas Quinot  <quinot@act-europe.fr>\n\n\t* link.c: Change default libgnat kind to STATIC for FreeBSD.\n\n2004-01-12  Ed Schonberg  <schonberg@gnat.com>\n\n\t* lib-xref.adb (Get_Type_Reference): If the type is the subtype entity\n\tgenerated to rename a generic actual, go to the actual itself, the\n\tsubtype is not a user-visible entity.\n\n\t* sem_ch7.adb (Uninstall_Declarations): If an entity in the visible\n\tpart is a private subtype, reset the visibility of its full view, if\n\tany, to be consistent.\n\n2004-01-12  Robert Dewar  <dewar@gnat.com>\n\n\t* trans.c (Eliminate_Error_Msg): New procedure called to generate msg\n\n\t* usage.adb: Remove mention of obsolete -gnatwb switch\n\tNoticed during code reading\n\n2004-01-12  Jerome Guitton  <guitton@act-europe.fr>\n\n\t* 1ssecsta.adb: Minor changes for -gnatwa warnings\n\n2004-01-12  GNAT Script  <nobody@gnat.com>\n\n\t* Make-lang.in: Makefile automatically updated\n\nFrom-SVN: r75714", "tree": {"sha": "9a40f2549e1bdb5877d519b870509751de706702", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a40f2549e1bdb5877d519b870509751de706702"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a397db9637a45274b4acc4ebcba14ae3506d5b80", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a397db9637a45274b4acc4ebcba14ae3506d5b80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a397db9637a45274b4acc4ebcba14ae3506d5b80", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a397db9637a45274b4acc4ebcba14ae3506d5b80/comments", "author": null, "committer": null, "parents": [{"sha": "16bf3959da2377ebbb88ff56ecdc618e70acae6d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16bf3959da2377ebbb88ff56ecdc618e70acae6d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/16bf3959da2377ebbb88ff56ecdc618e70acae6d"}], "stats": {"total": 1652, "additions": 889, "deletions": 763}, "files": [{"sha": "2a8eee7d83fb285859f47d37dc95866b80cc4db9", "filename": "gcc/ada/1ssecsta.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2F1ssecsta.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2F1ssecsta.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2F1ssecsta.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2001 Free Software Foundation, Inc.          --\n+--          Copyright (C) 1992-2004 Free Software Foundation, Inc.          --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -94,7 +94,7 @@ package body System.Secondary_Stack is\n       end if;\n \n       Address := Sec_Stack.Mem (Sec_Stack.Top)'Address;\n-      Sec_Stack.Top := Sec_Stack.Top + Mark_Id (Max_Size);\n+      Sec_Stack.Top := Sec_Stack.Top + Max_Size;\n    end SS_Allocate;\n \n    -------------"}, {"sha": "41b32d16e9ae4300d9cb65123020629dc58e52ec", "filename": "gcc/ada/3vsocthi.adb", "status": "modified", "additions": 31, "deletions": 57, "changes": 88, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2F3vsocthi.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2F3vsocthi.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2F3vsocthi.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---              Copyright (C) 2001-2003 Ada Core Technologies, Inc.         --\n+--              Copyright (C) 2001-2004 Ada Core Technologies, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -58,33 +58,32 @@ package body GNAT.Sockets.Thin is\n \n    Thread_Blocking_IO : Boolean := True;\n \n+   Unknown_System_Error : constant C.Strings.chars_ptr :=\n+     C.Strings.New_String (\"Unknown system error\");\n+\n    function Syscall_Accept\n      (S       : C.int;\n       Addr    : System.Address;\n-      Addrlen : access C.int)\n-      return    C.int;\n+      Addrlen : access C.int) return C.int;\n    pragma Import (C, Syscall_Accept, \"accept\");\n \n    function Syscall_Connect\n      (S       : C.int;\n       Name    : System.Address;\n-      Namelen : C.int)\n-      return    C.int;\n+      Namelen : C.int) return C.int;\n    pragma Import (C, Syscall_Connect, \"connect\");\n \n    function Syscall_Ioctl\n      (S    : C.int;\n       Req  : C.int;\n-      Arg  : Int_Access)\n-      return C.int;\n+      Arg  : Int_Access) return C.int;\n    pragma Import (C, Syscall_Ioctl, \"ioctl\");\n \n    function Syscall_Recv\n      (S     : C.int;\n       Msg   : System.Address;\n       Len   : C.int;\n-      Flags : C.int)\n-      return  C.int;\n+      Flags : C.int) return C.int;\n    pragma Import (C, Syscall_Recv, \"recv\");\n \n    function Syscall_Recvfrom\n@@ -93,8 +92,7 @@ package body GNAT.Sockets.Thin is\n       Len     : C.int;\n       Flags   : C.int;\n       From    : Sockaddr_In_Access;\n-      Fromlen : access C.int)\n-      return    C.int;\n+      Fromlen : access C.int) return C.int;\n    pragma Import (C, Syscall_Recvfrom, \"recvfrom\");\n \n    function Syscall_Send\n@@ -116,8 +114,7 @@ package body GNAT.Sockets.Thin is\n    pragma Import (C, Syscall_Sendto, \"sendto\");\n \n    function Syscall_Socket\n-     (Domain, Typ, Protocol : C.int)\n-      return C.int;\n+     (Domain, Typ, Protocol : C.int) return C.int;\n    pragma Import (C, Syscall_Socket, \"socket\");\n \n    function  Non_Blocking_Socket (S : C.int) return Boolean;\n@@ -130,8 +127,7 @@ package body GNAT.Sockets.Thin is\n    function C_Accept\n      (S       : C.int;\n       Addr    : System.Address;\n-      Addrlen : access C.int)\n-      return    C.int\n+      Addrlen : access C.int) return C.int\n    is\n       R   : C.int;\n       Val : aliased C.int := 1;\n@@ -170,8 +166,7 @@ package body GNAT.Sockets.Thin is\n    function C_Connect\n      (S       : C.int;\n       Name    : System.Address;\n-      Namelen : C.int)\n-      return    C.int\n+      Namelen : C.int) return C.int\n    is\n       Res : C.int;\n \n@@ -231,10 +226,9 @@ package body GNAT.Sockets.Thin is\n    -------------\n \n    function C_Ioctl\n-     (S    : C.int;\n-      Req  : C.int;\n-      Arg  : Int_Access)\n-      return C.int\n+     (S   : C.int;\n+      Req : C.int;\n+      Arg : Int_Access) return C.int\n    is\n    begin\n       if not Thread_Blocking_IO\n@@ -256,8 +250,7 @@ package body GNAT.Sockets.Thin is\n      (S     : C.int;\n       Msg   : System.Address;\n       Len   : C.int;\n-      Flags : C.int)\n-      return  C.int\n+      Flags : C.int) return C.int\n    is\n       Res : C.int;\n \n@@ -284,8 +277,7 @@ package body GNAT.Sockets.Thin is\n       Len     : C.int;\n       Flags   : C.int;\n       From    : Sockaddr_In_Access;\n-      Fromlen : access C.int)\n-      return    C.int\n+      Fromlen : access C.int) return C.int\n    is\n       Res : C.int;\n \n@@ -310,8 +302,7 @@ package body GNAT.Sockets.Thin is\n      (S     : C.int;\n       Msg   : System.Address;\n       Len   : C.int;\n-      Flags : C.int)\n-      return  C.int\n+      Flags : C.int) return C.int\n    is\n       Res : C.int;\n \n@@ -338,8 +329,7 @@ package body GNAT.Sockets.Thin is\n       Len   : C.int;\n       Flags : C.int;\n       To    : Sockaddr_In_Access;\n-      Tolen : C.int)\n-      return  C.int\n+      Tolen : C.int) return C.int\n    is\n       Res : C.int;\n \n@@ -363,8 +353,7 @@ package body GNAT.Sockets.Thin is\n    function C_Socket\n      (Domain   : C.int;\n       Typ      : C.int;\n-      Protocol : C.int)\n-      return     C.int\n+      Protocol : C.int) return C.int\n    is\n       R   : C.int;\n       Val : aliased C.int := 1;\n@@ -412,7 +401,6 @@ package body GNAT.Sockets.Thin is\n \n    function Non_Blocking_Socket (S : C.int) return Boolean is\n       R : Boolean;\n-\n    begin\n       Task_Lock.Lock;\n       R := Is_Socket_In_Set (Non_Blocking_Sockets, S);\n@@ -424,10 +412,7 @@ package body GNAT.Sockets.Thin is\n    -- Set_Address --\n    -----------------\n \n-   procedure Set_Address\n-     (Sin     : Sockaddr_In_Access;\n-      Address : In_Addr)\n-   is\n+   procedure Set_Address (Sin : Sockaddr_In_Access; Address : In_Addr) is\n    begin\n       Sin.Sin_Addr   := Address;\n    end Set_Address;\n@@ -436,10 +421,7 @@ package body GNAT.Sockets.Thin is\n    -- Set_Family --\n    ----------------\n \n-   procedure Set_Family\n-     (Sin    : Sockaddr_In_Access;\n-      Family : C.int)\n-   is\n+   procedure Set_Family (Sin : Sockaddr_In_Access; Family : C.int) is\n    begin\n       Sin.Sin_Family := C.unsigned_short (Family);\n    end Set_Family;\n@@ -448,13 +430,9 @@ package body GNAT.Sockets.Thin is\n    -- Set_Length --\n    ----------------\n \n-   procedure Set_Length\n-     (Sin : Sockaddr_In_Access;\n-      Len : C.int)\n-   is\n+   procedure Set_Length (Sin : Sockaddr_In_Access; Len : C.int) is\n       pragma Unreferenced (Sin);\n       pragma Unreferenced (Len);\n-\n    begin\n       null;\n    end Set_Length;\n@@ -480,10 +458,7 @@ package body GNAT.Sockets.Thin is\n    -- Set_Port --\n    --------------\n \n-   procedure Set_Port\n-     (Sin  : Sockaddr_In_Access;\n-      Port : C.unsigned_short)\n-   is\n+   procedure Set_Port (Sin : Sockaddr_In_Access; Port : C.unsigned_short) is\n    begin\n       Sin.Sin_Port   := Port;\n    end Set_Port;\n@@ -492,7 +467,9 @@ package body GNAT.Sockets.Thin is\n    -- Socket_Error_Message --\n    --------------------------\n \n-   function Socket_Error_Message (Errno : Integer) return String is\n+   function Socket_Error_Message\n+     (Errno : Integer) return C.Strings.chars_ptr\n+   is\n       use type Interfaces.C.Strings.chars_ptr;\n \n       C_Msg : C.Strings.chars_ptr;\n@@ -501,10 +478,9 @@ package body GNAT.Sockets.Thin is\n       C_Msg := C_Strerror (C.int (Errno));\n \n       if C_Msg = C.Strings.Null_Ptr then\n-         return \"Unknown system error\";\n-\n+         return Unknown_System_Error;\n       else\n-         return C.Strings.Value (C_Msg);\n+         return C_Msg;\n       end if;\n    end Socket_Error_Message;\n \n@@ -515,8 +491,7 @@ package body GNAT.Sockets.Thin is\n    function C_Readv\n      (Fd     : C.int;\n       Iov    : System.Address;\n-      Iovcnt : C.int)\n-      return  C.int\n+      Iovcnt : C.int) return C.int\n    is\n       Res : C.int;\n       Count : C.int := 0;\n@@ -548,8 +523,7 @@ package body GNAT.Sockets.Thin is\n    function C_Writev\n      (Fd     : C.int;\n       Iov    : System.Address;\n-      Iovcnt : C.int)\n-      return  C.int\n+      Iovcnt : C.int) return C.int\n    is\n       Res : C.int;\n       Count : C.int := 0;"}, {"sha": "a3985525f7cd05d74ec77947638efa7fec0dc13f", "filename": "gcc/ada/3vsocthi.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2F3vsocthi.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2F3vsocthi.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2F3vsocthi.ads?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---            Copyright (C) 2002-2003 Ada Core Technologies, Inc.           --\n+--            Copyright (C) 2002-2004 Ada Core Technologies, Inc.           --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -60,7 +60,7 @@ package GNAT.Sockets.Thin is\n    function Socket_Errno return Integer renames GNAT.OS_Lib.Errno;\n    --  Returns last socket error number.\n \n-   function Socket_Error_Message (Errno : Integer) return String;\n+   function Socket_Error_Message (Errno : Integer) return C.Strings.chars_ptr;\n    --  Returns the error message string for the error number Errno. If\n    --  Errno is not known it returns \"Unknown system error\".\n "}, {"sha": "a948bdeedfaf3557354f933ff9e5f4c6d4213717", "filename": "gcc/ada/3wsocthi.adb", "status": "modified", "additions": 212, "deletions": 156, "changes": 368, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2F3wsocthi.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2F3wsocthi.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2F3wsocthi.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---              Copyright (C) 2001-2003 Ada Core Technologies, Inc.         --\n+--              Copyright (C) 2001-2004 Ada Core Technologies, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -38,6 +38,7 @@\n --  This version is for NT.\n \n with GNAT.Sockets.Constants; use GNAT.Sockets.Constants;\n+with Interfaces.C.Strings;   use Interfaces.C.Strings;\n \n with System; use System;\n \n@@ -71,6 +72,166 @@ package body GNAT.Sockets.Thin is\n       return      C.int;\n    pragma Import (Stdcall, Standard_Select, \"select\");\n \n+   type Error_Type is\n+     (N_EINTR,\n+      N_EBADF,\n+      N_EACCES,\n+      N_EFAULT,\n+      N_EINVAL,\n+      N_EMFILE,\n+      N_EWOULDBLOCK,\n+      N_EINPROGRESS,\n+      N_EALREADY,\n+      N_ENOTSOCK,\n+      N_EDESTADDRREQ,\n+      N_EMSGSIZE,\n+      N_EPROTOTYPE,\n+      N_ENOPROTOOPT,\n+      N_EPROTONOSUPPORT,\n+      N_ESOCKTNOSUPPORT,\n+      N_EOPNOTSUPP,\n+      N_EPFNOSUPPORT,\n+      N_EAFNOSUPPORT,\n+      N_EADDRINUSE,\n+      N_EADDRNOTAVAIL,\n+      N_ENETDOWN,\n+      N_ENETUNREACH,\n+      N_ENETRESET,\n+      N_ECONNABORTED,\n+      N_ECONNRESET,\n+      N_ENOBUFS,\n+      N_EISCONN,\n+      N_ENOTCONN,\n+      N_ESHUTDOWN,\n+      N_ETOOMANYREFS,\n+      N_ETIMEDOUT,\n+      N_ECONNREFUSED,\n+      N_ELOOP,\n+      N_ENAMETOOLONG,\n+      N_EHOSTDOWN,\n+      N_EHOSTUNREACH,\n+      N_SYSNOTREADY,\n+      N_VERNOTSUPPORTED,\n+      N_NOTINITIALISED,\n+      N_EDISCON,\n+      N_HOST_NOT_FOUND,\n+      N_TRY_AGAIN,\n+      N_NO_RECOVERY,\n+      N_NO_DATA,\n+      N_OTHERS);\n+\n+   Error_Messages : constant array (Error_Type) of chars_ptr :=\n+     (N_EINTR =>\n+        New_String (\"Interrupted system call\"),\n+      N_EBADF =>\n+        New_String (\"Bad file number\"),\n+      N_EACCES =>\n+        New_String (\"Permission denied\"),\n+      N_EFAULT =>\n+        New_String (\"Bad address\"),\n+      N_EINVAL =>\n+        New_String (\"Invalid argument\"),\n+      N_EMFILE =>\n+        New_String (\"Too many open files\"),\n+      N_EWOULDBLOCK =>\n+        New_String (\"Operation would block\"),\n+      N_EINPROGRESS =>\n+        New_String (\"Operation now in progress. This error is \"\n+                    & \"returned if any Windows Sockets API \"\n+                    & \"function is called while a blocking \"\n+                    & \"function is in progress\"),\n+      N_EALREADY =>\n+        New_String (\"Operation already in progress\"),\n+      N_ENOTSOCK =>\n+        New_String (\"Socket operation on nonsocket\"),\n+      N_EDESTADDRREQ =>\n+        New_String (\"Destination address required\"),\n+      N_EMSGSIZE =>\n+        New_String (\"Message too long\"),\n+      N_EPROTOTYPE =>\n+        New_String (\"Protocol wrong type for socket\"),\n+      N_ENOPROTOOPT =>\n+        New_String (\"Protocol not available\"),\n+      N_EPROTONOSUPPORT =>\n+        New_String (\"Protocol not supported\"),\n+      N_ESOCKTNOSUPPORT =>\n+        New_String (\"Socket type not supported\"),\n+      N_EOPNOTSUPP =>\n+        New_String (\"Operation not supported on socket\"),\n+      N_EPFNOSUPPORT =>\n+        New_String (\"Protocol family not supported\"),\n+      N_EAFNOSUPPORT =>\n+        New_String (\"Address family not supported by protocol family\"),\n+      N_EADDRINUSE =>\n+        New_String (\"Address already in use\"),\n+      N_EADDRNOTAVAIL =>\n+        New_String (\"Cannot assign requested address\"),\n+      N_ENETDOWN =>\n+        New_String (\"Network is down. This error may be \"\n+                    & \"reported at any time if the Windows \"\n+                    & \"Sockets implementation detects an \"\n+                    & \"underlying failure\"),\n+      N_ENETUNREACH =>\n+        New_String (\"Network is unreachable\"),\n+      N_ENETRESET =>\n+        New_String (\"Network dropped connection on reset\"),\n+      N_ECONNABORTED =>\n+        New_String (\"Software caused connection abort\"),\n+      N_ECONNRESET =>\n+        New_String (\"Connection reset by peer\"),\n+      N_ENOBUFS =>\n+        New_String (\"No buffer space available\"),\n+      N_EISCONN  =>\n+        New_String (\"Socket is already connected\"),\n+      N_ENOTCONN =>\n+        New_String (\"Socket is not connected\"),\n+      N_ESHUTDOWN =>\n+        New_String (\"Cannot send after socket shutdown\"),\n+      N_ETOOMANYREFS =>\n+        New_String (\"Too many references: cannot splice\"),\n+      N_ETIMEDOUT =>\n+        New_String (\"Connection timed out\"),\n+      N_ECONNREFUSED =>\n+        New_String (\"Connection refused\"),\n+      N_ELOOP =>\n+        New_String (\"Too many levels of symbolic links\"),\n+      N_ENAMETOOLONG =>\n+        New_String (\"File name too long\"),\n+      N_EHOSTDOWN =>\n+        New_String (\"Host is down\"),\n+      N_EHOSTUNREACH =>\n+        New_String (\"No route to host\"),\n+      N_SYSNOTREADY =>\n+        New_String (\"Returned by WSAStartup(), indicating that \"\n+                    & \"the network subsystem is unusable\"),\n+      N_VERNOTSUPPORTED =>\n+        New_String (\"Returned by WSAStartup(), indicating that \"\n+                    & \"the Windows Sockets DLL cannot support \"\n+                    & \"this application\"),\n+      N_NOTINITIALISED =>\n+        New_String (\"Winsock not initialized. This message is \"\n+                    & \"returned by any function except WSAStartup(), \"\n+                    & \"indicating that a successful WSAStartup() has \"\n+                    & \"not yet been performed\"),\n+      N_EDISCON =>\n+        New_String (\"Disconnect\"),\n+      N_HOST_NOT_FOUND =>\n+        New_String (\"Host not found. This message indicates \"\n+                    & \"that the key (name, address, and so on) was not found\"),\n+      N_TRY_AGAIN =>\n+        New_String (\"Nonauthoritative host not found. This error may \"\n+                    & \"suggest that the name service itself is not \"\n+                    & \"functioning\"),\n+      N_NO_RECOVERY =>\n+        New_String (\"Nonrecoverable error. This error may suggest that the \"\n+                    & \"name service itself is not functioning\"),\n+      N_NO_DATA =>\n+        New_String (\"Valid name, no data record of requested type. \"\n+                    & \"This error indicates that the key (name, address, \"\n+                    & \"and so on) was not found.\"),\n+      N_OTHERS =>\n+        New_String (\"Unknown system error\"));\n+\n    ---------------\n    -- C_Connect --\n    ---------------\n@@ -366,165 +527,60 @@ package body GNAT.Sockets.Thin is\n    -- Socket_Error_Message --\n    --------------------------\n \n-   function Socket_Error_Message (Errno : Integer) return String is\n+   function Socket_Error_Message\n+     (Errno : Integer)\n+     return  C.Strings.chars_ptr\n+   is\n       use GNAT.Sockets.Constants;\n \n    begin\n       case Errno is\n-         when EINTR =>\n-            return \"Interrupted system call\";\n-\n-         when EBADF =>\n-            return \"Bad file number\";\n-\n-         when EACCES =>\n-            return \"Permission denied\";\n-\n-         when EFAULT =>\n-            return \"Bad address\";\n-\n-         when EINVAL =>\n-            return \"Invalid argument\";\n-\n-         when EMFILE =>\n-            return \"Too many open files\";\n-\n-         when EWOULDBLOCK =>\n-            return \"Operation would block\";\n-\n-         when EINPROGRESS =>\n-            return \"Operation now in progress. This error is \"\n-              & \"returned if any Windows Sockets API \"\n-              & \"function is called while a blocking \"\n-              & \"function is in progress\";\n-\n-         when EALREADY =>\n-            return \"Operation already in progress\";\n-\n-         when ENOTSOCK =>\n-            return \"Socket operation on nonsocket\";\n-\n-         when EDESTADDRREQ =>\n-            return \"Destination address required\";\n-\n-         when EMSGSIZE =>\n-            return \"Message too long\";\n-\n-         when EPROTOTYPE =>\n-            return \"Protocol wrong type for socket\";\n-\n-         when ENOPROTOOPT =>\n-            return \"Protocol not available\";\n-\n-         when EPROTONOSUPPORT =>\n-            return \"Protocol not supported\";\n-\n-         when ESOCKTNOSUPPORT =>\n-            return \"Socket type not supported\";\n-\n-         when EOPNOTSUPP =>\n-            return \"Operation not supported on socket\";\n-\n-         when EPFNOSUPPORT =>\n-            return \"Protocol family not supported\";\n-\n-         when EAFNOSUPPORT =>\n-            return \"Address family not supported by protocol family\";\n-\n-         when EADDRINUSE =>\n-            return \"Address already in use\";\n-\n-         when EADDRNOTAVAIL =>\n-            return \"Cannot assign requested address\";\n-\n-         when ENETDOWN =>\n-            return \"Network is down. This error may be \"\n-              & \"reported at any time if the Windows \"\n-              & \"Sockets implementation detects an \"\n-              & \"underlying failure\";\n-\n-         when ENETUNREACH =>\n-            return \"Network is unreachable\";\n-\n-         when ENETRESET =>\n-            return \"Network dropped connection on reset\";\n-\n-         when ECONNABORTED =>\n-            return \"Software caused connection abort\";\n-\n-         when ECONNRESET =>\n-            return \"Connection reset by peer\";\n-\n-         when ENOBUFS =>\n-            return \"No buffer space available\";\n-\n-         when EISCONN  =>\n-            return \"Socket is already connected\";\n-\n-         when ENOTCONN =>\n-            return \"Socket is not connected\";\n-\n-         when ESHUTDOWN =>\n-            return \"Cannot send after socket shutdown\";\n-\n-         when ETOOMANYREFS =>\n-            return \"Too many references: cannot splice\";\n-\n-         when ETIMEDOUT =>\n-            return \"Connection timed out\";\n-\n-         when ECONNREFUSED =>\n-            return \"Connection refused\";\n-\n-         when ELOOP =>\n-            return \"Too many levels of symbolic links\";\n-\n-         when ENAMETOOLONG =>\n-            return \"File name too long\";\n-\n-         when EHOSTDOWN =>\n-            return \"Host is down\";\n-\n-         when EHOSTUNREACH =>\n-            return \"No route to host\";\n-\n-         when SYSNOTREADY =>\n-            return \"Returned by WSAStartup(), indicating that \"\n-              & \"the network subsystem is unusable\";\n-\n-         when VERNOTSUPPORTED =>\n-            return \"Returned by WSAStartup(), indicating that \"\n-              & \"the Windows Sockets DLL cannot support this application\";\n-\n-         when NOTINITIALISED =>\n-            return \"Winsock not initialized. This message is \"\n-              & \"returned by any function except WSAStartup(), \"\n-              & \"indicating that a successful WSAStartup() has \"\n-              & \"not yet been performed\";\n-\n-         when EDISCON =>\n-            return \"Disconnect\";\n-\n-         when HOST_NOT_FOUND =>\n-            return \"Host not found. This message indicates \"\n-              & \"that the key (name, address, and so on) was not found\";\n-\n-         when TRY_AGAIN =>\n-            return \"Nonauthoritative host not found. This error may \"\n-              & \"suggest that the name service itself is not functioning\";\n-\n-         when NO_RECOVERY =>\n-            return \"Nonrecoverable error. This error may suggest that the \"\n-              & \"name service itself is not functioning\";\n-\n-         when NO_DATA =>\n-            return \"Valid name, no data record of requested type. \"\n-              & \"This error indicates that the key (name, address, \"\n-              & \"and so on) was not found.\";\n-\n-         when others =>\n-            return \"Unknown system error\";\n-\n+         when EINTR =>           return Error_Messages (N_EINTR);\n+         when EBADF =>           return Error_Messages (N_EBADF);\n+         when EACCES =>          return Error_Messages (N_EACCES);\n+         when EFAULT =>          return Error_Messages (N_EFAULT);\n+         when EINVAL =>          return Error_Messages (N_EINVAL);\n+         when EMFILE =>          return Error_Messages (N_EMFILE);\n+         when EWOULDBLOCK =>     return Error_Messages (N_EWOULDBLOCK);\n+         when EINPROGRESS =>     return Error_Messages (N_EINPROGRESS);\n+         when EALREADY =>        return Error_Messages (N_EALREADY);\n+         when ENOTSOCK =>        return Error_Messages (N_ENOTSOCK);\n+         when EDESTADDRREQ =>    return Error_Messages (N_EDESTADDRREQ);\n+         when EMSGSIZE =>        return Error_Messages (N_EMSGSIZE);\n+         when EPROTOTYPE =>      return Error_Messages (N_EPROTOTYPE);\n+         when ENOPROTOOPT =>     return Error_Messages (N_ENOPROTOOPT);\n+         when EPROTONOSUPPORT => return Error_Messages (N_EPROTONOSUPPORT);\n+         when ESOCKTNOSUPPORT => return Error_Messages (N_ESOCKTNOSUPPORT);\n+         when EOPNOTSUPP =>      return Error_Messages (N_EOPNOTSUPP);\n+         when EPFNOSUPPORT =>    return Error_Messages (N_EPFNOSUPPORT);\n+         when EAFNOSUPPORT =>    return Error_Messages (N_EAFNOSUPPORT);\n+         when EADDRINUSE =>      return Error_Messages (N_EADDRINUSE);\n+         when EADDRNOTAVAIL =>   return Error_Messages (N_EADDRNOTAVAIL);\n+         when ENETDOWN =>        return Error_Messages (N_ENETDOWN);\n+         when ENETUNREACH =>     return Error_Messages (N_ENETUNREACH);\n+         when ENETRESET =>       return Error_Messages (N_ENETRESET);\n+         when ECONNABORTED =>    return Error_Messages (N_ECONNABORTED);\n+         when ECONNRESET =>      return Error_Messages (N_ECONNRESET);\n+         when ENOBUFS =>         return Error_Messages (N_ENOBUFS);\n+         when EISCONN =>         return Error_Messages (N_EISCONN);\n+         when ENOTCONN =>        return Error_Messages (N_ENOTCONN);\n+         when ESHUTDOWN =>       return Error_Messages (N_ESHUTDOWN);\n+         when ETOOMANYREFS =>    return Error_Messages (N_ETOOMANYREFS);\n+         when ETIMEDOUT =>       return Error_Messages (N_ETIMEDOUT);\n+         when ECONNREFUSED =>    return Error_Messages (N_ECONNREFUSED);\n+         when ELOOP =>           return Error_Messages (N_ELOOP);\n+         when ENAMETOOLONG =>    return Error_Messages (N_ENAMETOOLONG);\n+         when EHOSTDOWN =>       return Error_Messages (N_EHOSTDOWN);\n+         when EHOSTUNREACH =>    return Error_Messages (N_EHOSTUNREACH);\n+         when SYSNOTREADY =>     return Error_Messages (N_SYSNOTREADY);\n+         when VERNOTSUPPORTED => return Error_Messages (N_VERNOTSUPPORTED);\n+         when NOTINITIALISED =>  return Error_Messages (N_NOTINITIALISED);\n+         when EDISCON =>         return Error_Messages (N_EDISCON);\n+         when HOST_NOT_FOUND =>  return Error_Messages (N_HOST_NOT_FOUND);\n+         when TRY_AGAIN =>       return Error_Messages (N_TRY_AGAIN);\n+         when NO_RECOVERY =>     return Error_Messages (N_NO_RECOVERY);\n+         when NO_DATA =>         return Error_Messages (N_NO_DATA);\n+         when others =>          return Error_Messages (N_OTHERS);\n       end case;\n    end Socket_Error_Message;\n "}, {"sha": "5ee990e8628aecd806065c0955b598b9cd8cf7d0", "filename": "gcc/ada/3wsocthi.ads", "status": "modified", "additions": 42, "deletions": 71, "changes": 113, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2F3wsocthi.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2F3wsocthi.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2F3wsocthi.ads?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---              Copyright (C) 2001-2003 Ada Core Technologies, Inc.         --\n+--              Copyright (C) 2001-2004 Ada Core Technologies, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -60,7 +60,9 @@ package GNAT.Sockets.Thin is\n    procedure Set_Socket_Errno (Errno : Integer);\n    --  Set last socket error number.\n \n-   function Socket_Error_Message (Errno : Integer) return String;\n+   function Socket_Error_Message\n+     (Errno : Integer)\n+      return  C.Strings.chars_ptr;\n    --  Returns the error message string for the error number Errno. If\n    --  Errno is not known it returns \"Unknown system error\".\n \n@@ -177,10 +179,10 @@ package GNAT.Sockets.Thin is\n    --  Access to host entry\n \n    type Servent is record\n-      S_Name      : C.Strings.chars_ptr;\n-      S_Aliases   : Chars_Ptr_Pointers.Pointer;\n-      S_Port      : C.int;\n-      S_Proto     : C.Strings.chars_ptr;\n+      S_Name    : C.Strings.chars_ptr;\n+      S_Aliases : Chars_Ptr_Pointers.Pointer;\n+      S_Port    : C.int;\n+      S_Proto   : C.Strings.chars_ptr;\n    end record;\n    pragma Convention (C, Servent);\n    --  Service entry\n@@ -196,182 +198,153 @@ package GNAT.Sockets.Thin is\n    function C_Accept\n      (S       : C.int;\n       Addr    : System.Address;\n-      Addrlen : access C.int)\n-      return    C.int;\n+      Addrlen : access C.int) return C.int;\n \n    function C_Bind\n      (S       : C.int;\n       Name    : System.Address;\n-      Namelen : C.int)\n-      return    C.int;\n+      Namelen : C.int) return C.int;\n \n    function C_Close\n-     (Fd   : C.int)\n-      return C.int;\n+     (Fd : C.int) return C.int;\n \n    function C_Connect\n      (S       : C.int;\n       Name    : System.Address;\n-      Namelen : C.int)\n-      return    C.int;\n+      Namelen : C.int) return C.int;\n \n    function C_Gethostbyaddr\n      (Addr     : System.Address;\n       Length   : C.int;\n-      Typ      : C.int)\n-      return     Hostent_Access;\n+      Typ      : C.int) return Hostent_Access;\n \n    function C_Gethostbyname\n-     (Name : C.char_array)\n-      return Hostent_Access;\n+     (Name : C.char_array) return Hostent_Access;\n \n    function C_Gethostname\n      (Name    : System.Address;\n-      Namelen : C.int)\n-      return    C.int;\n+      Namelen : C.int) return C.int;\n \n    function C_Getpeername\n      (S       : C.int;\n       Name    : System.Address;\n-      Namelen : access C.int)\n-      return    C.int;\n+      Namelen : access C.int) return C.int;\n \n    function C_Getservbyname\n      (Name  : C.char_array;\n-      Proto : C.char_array)\n-      return Servent_Access;\n+      Proto : C.char_array) return Servent_Access;\n \n    function C_Getservbyport\n      (Port  : C.int;\n-      Proto : C.char_array)\n-      return Servent_Access;\n+      Proto : C.char_array) return Servent_Access;\n \n    function C_Getsockname\n      (S       : C.int;\n       Name    : System.Address;\n-      Namelen : access C.int)\n-      return    C.int;\n+      Namelen : access C.int) return C.int;\n \n    function C_Getsockopt\n      (S       : C.int;\n       Level   : C.int;\n       Optname : C.int;\n       Optval  : System.Address;\n-      Optlen  : access C.int)\n-      return    C.int;\n+      Optlen  : access C.int) return C.int;\n \n    function C_Inet_Addr\n-     (Cp   : C.Strings.chars_ptr)\n-      return C.int;\n+     (Cp : C.Strings.chars_ptr) return C.int;\n \n    function C_Ioctl\n      (S    : C.int;\n       Req  : C.int;\n-      Arg  : Int_Access)\n-      return C.int;\n+      Arg  : Int_Access) return C.int;\n \n    function C_Listen\n-     (S, Backlog : C.int)\n-      return       C.int;\n+     (S       : C.int;\n+      Backlog : C.int) return C.int;\n \n    function C_Read\n      (Fildes : C.int;\n       Buf    : System.Address;\n-      Nbyte  : C.int)\n-      return   C.int;\n+      Nbyte  : C.int) return C.int;\n \n    function C_Readv\n      (Socket : C.int;\n       Iov    : System.Address;\n-      Iovcnt : C.int)\n-      return   C.int;\n+      Iovcnt : C.int) return C.int;\n \n    function C_Recv\n      (S     : C.int;\n       Buf   : System.Address;\n       Len   : C.int;\n-      Flags : C.int)\n-      return  C.int;\n+      Flags : C.int) return C.int;\n \n    function C_Recvfrom\n      (S       : C.int;\n       Buf     : System.Address;\n       Len     : C.int;\n       Flags   : C.int;\n       From    : Sockaddr_In_Access;\n-      Fromlen : access C.int)\n-      return    C.int;\n+      Fromlen : access C.int) return C.int;\n \n    function C_Select\n      (Nfds      : C.int;\n       Readfds   : Fd_Set_Access;\n       Writefds  : Fd_Set_Access;\n       Exceptfds : Fd_Set_Access;\n-      Timeout   : Timeval_Access)\n-      return      C.int;\n+      Timeout   : Timeval_Access) return C.int;\n \n    function C_Send\n      (S     : C.int;\n       Buf   : System.Address;\n       Len   : C.int;\n-      Flags : C.int)\n-      return  C.int;\n+      Flags : C.int) return C.int;\n \n    function C_Sendto\n      (S     : C.int;\n       Msg   : System.Address;\n       Len   : C.int;\n       Flags : C.int;\n       To    : Sockaddr_In_Access;\n-      Tolen : C.int)\n-      return  C.int;\n+      Tolen : C.int) return C.int;\n \n    function C_Setsockopt\n      (S       : C.int;\n       Level   : C.int;\n       Optname : C.int;\n       Optval  : System.Address;\n-      Optlen  : C.int)\n-      return    C.int;\n+      Optlen  : C.int) return C.int;\n \n    function C_Shutdown\n      (S    : C.int;\n-      How  : C.int)\n-      return C.int;\n+      How  : C.int) return C.int;\n \n    function C_Socket\n      (Domain   : C.int;\n       Typ      : C.int;\n-      Protocol : C.int)\n-      return     C.int;\n+      Protocol : C.int) return C.int;\n \n    function C_Strerror\n-     (Errnum : C.int)\n-      return   C.Strings.chars_ptr;\n+     (Errnum : C.int) return C.Strings.chars_ptr;\n \n    function C_System\n-     (Command : System.Address)\n-      return    C.int;\n+     (Command : System.Address) return C.int;\n \n    function C_Write\n      (Fildes : C.int;\n       Buf    : System.Address;\n-      Nbyte  : C.int)\n-      return   C.int;\n+      Nbyte  : C.int) return C.int;\n \n    function C_Writev\n      (Socket : C.int;\n       Iov    : System.Address;\n-      Iovcnt : C.int)\n-      return   C.int;\n+      Iovcnt : C.int) return C.int;\n \n    function WSAStartup\n      (WS_Version     : Interfaces.C.int;\n-      WSADataAddress : System.Address)\n-      return           Interfaces.C.int;\n+      WSADataAddress : System.Address) return Interfaces.C.int;\n \n    procedure Free_Socket_Set\n-     (Set    : Fd_Set_Access);\n+     (Set : Fd_Set_Access);\n    --  Free system-dependent socket set.\n \n    procedure Get_Socket_From_Set\n@@ -391,8 +364,7 @@ package GNAT.Sockets.Thin is\n \n    function  Is_Socket_In_Set\n      (Set    : Fd_Set_Access;\n-      Socket : C.int)\n-     return Boolean;\n+      Socket : C.int) return Boolean;\n    --  Check whether Socket is in the socket set\n \n    procedure Last_Socket_In_Set\n@@ -405,8 +377,7 @@ package GNAT.Sockets.Thin is\n    --  set back to the real largest socket in the socket set.\n \n    function  New_Socket_Set\n-     (Set : Fd_Set_Access)\n-     return Fd_Set_Access;\n+     (Set : Fd_Set_Access) return Fd_Set_Access;\n    --  Allocate a new socket set which is a system-dependent structure\n    --  and initialize by copying Set if it is non-null, by making it\n    --  empty otherwise."}, {"sha": "6d28e629b81ec51e25539dd255a2bcea29b7b94a", "filename": "gcc/ada/3zsocthi.adb", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2F3zsocthi.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2F3zsocthi.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2F3zsocthi.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---            Copyright (C) 2002-2003 Ada Core Technologies, Inc.           --\n+--            Copyright (C) 2002-2004 Ada Core Technologies, Inc.           --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -63,6 +63,9 @@ package body GNAT.Sockets.Thin is\n \n    Thread_Blocking_IO : Boolean := True;\n \n+   Unknown_System_Error : constant C.Strings.chars_ptr :=\n+     C.Strings.New_String (\"Unknown system error\");\n+\n    --  The following types and variables are required to create a Hostent\n    --  record \"by hand\".\n \n@@ -588,7 +591,9 @@ package body GNAT.Sockets.Thin is\n    -- Socket_Error_Message --\n    --------------------------\n \n-   function Socket_Error_Message (Errno : Integer) return String is\n+   function Socket_Error_Message\n+     (Errno : Integer) return C.Strings.chars_ptr\n+   is\n       use type Interfaces.C.Strings.chars_ptr;\n \n       C_Msg : C.Strings.chars_ptr;\n@@ -597,9 +602,10 @@ package body GNAT.Sockets.Thin is\n       C_Msg := C_Strerror (C.int (Errno));\n \n       if C_Msg = C.Strings.Null_Ptr then\n-         return \"Unknown system error\";\n+         return Unknown_System_Error;\n+\n       else\n-         return C.Strings.Value (C_Msg);\n+         return C_Msg;\n       end if;\n    end Socket_Error_Message;\n "}, {"sha": "3642a038bec8d2d995cac1c20e4642b779747622", "filename": "gcc/ada/3zsocthi.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2F3zsocthi.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2F3zsocthi.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2F3zsocthi.ads?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---            Copyright (C) 2002-2003 Ada Core Technologies, Inc.           --\n+--            Copyright (C) 2002-2004 Ada Core Technologies, Inc.           --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -59,7 +59,7 @@ package GNAT.Sockets.Thin is\n    function Socket_Errno return Integer renames GNAT.OS_Lib.Errno;\n    --  Returns last socket error number.\n \n-   function Socket_Error_Message (Errno : Integer) return String;\n+   function Socket_Error_Message (Errno : Integer) return C.Strings.chars_ptr;\n    --  Returns the error message string for the error number Errno. If\n    --  Errno is not known it returns \"Unknown system error\".\n "}, {"sha": "bdd029298bb2374975580b90789fc11477769b26", "filename": "gcc/ada/Make-lang.in", "status": "modified", "additions": 166, "deletions": 179, "changes": 345, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMake-lang.in?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -1391,14 +1391,14 @@ ada/checks.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/sem_eval.adb ada/sem_res.ads ada/sem_type.ads ada/sem_util.ads \\\n    ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb ada/sinput.ads \\\n    ada/snames.ads ada/sprint.ads ada/stand.ads ada/stringt.ads \\\n-   ada/system.ads ada/s-exctab.ads ada/s-htable.ads ada/s-imgenu.ads \\\n-   ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads \\\n-   ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb \\\n-   ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads ada/table.ads \\\n-   ada/table.adb ada/targparm.ads ada/tbuild.ads ada/tbuild.adb \\\n-   ada/tree_io.ads ada/ttypes.ads ada/types.ads ada/uintp.ads \\\n-   ada/uintp.adb ada/uname.ads ada/unchconv.ads ada/unchdeal.ads \\\n-   ada/urealp.ads ada/validsw.ads \n+   ada/stringt.adb ada/system.ads ada/s-exctab.ads ada/s-htable.ads \\\n+   ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads \\\n+   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n+   ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads \\\n+   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n+   ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n+   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n+   ada/unchdeal.ads ada/urealp.ads ada/validsw.ads \n \n ada/comperr.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/comperr.ads ada/comperr.adb \\\n@@ -1555,14 +1555,14 @@ ada/exp_aggr.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/sem_eval.adb ada/sem_res.ads ada/sem_type.ads ada/sem_util.ads \\\n    ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb ada/sinput.ads \\\n    ada/snames.ads ada/sprint.ads ada/stand.ads ada/stringt.ads \\\n-   ada/system.ads ada/s-exctab.ads ada/s-exctab.adb ada/s-htable.ads \\\n-   ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads \\\n-   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n-   ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads \\\n-   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n-   ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n-   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n-   ada/unchdeal.ads ada/urealp.ads ada/validsw.ads \n+   ada/stringt.adb ada/system.ads ada/s-exctab.ads ada/s-exctab.adb \\\n+   ada/s-htable.ads ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads \\\n+   ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads \\\n+   ada/s-stoele.ads ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads \\\n+   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n+   ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads \\\n+   ada/types.ads ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n+   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/validsw.ads \n \n ada/exp_attr.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/checks.ads ada/csets.ads ada/debug.ads \\\n@@ -1679,23 +1679,19 @@ ada/exp_ch2.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n \n ada/exp_ch3.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/checks.ads ada/checks.adb \\\n-   ada/debug.ads ada/debug_a.ads ada/einfo.ads ada/einfo.adb \\\n-   ada/elists.ads ada/elists.adb ada/err_vars.ads ada/errout.ads \\\n-   ada/erroutc.ads ada/exp_aggr.ads ada/exp_ch11.ads ada/exp_ch2.ads \\\n-   ada/exp_ch3.ads ada/exp_ch3.adb ada/exp_ch4.ads ada/exp_ch7.ads \\\n-   ada/exp_ch9.ads ada/exp_disp.ads ada/exp_dist.ads ada/exp_smem.ads \\\n-   ada/exp_strm.ads ada/exp_tss.ads ada/exp_tss.adb ada/exp_util.ads \\\n-   ada/expander.ads ada/fname.ads ada/fname-uf.ads ada/freeze.ads \\\n-   ada/get_targ.ads ada/gnat.ads ada/g-htable.ads ada/g-os_lib.ads \\\n-   ada/g-string.ads ada/gnatvsn.ads ada/hostparm.ads ada/itypes.ads \\\n-   ada/lib.ads ada/lib-xref.ads ada/namet.ads ada/nlists.ads \\\n-   ada/nlists.adb ada/nmake.ads ada/nmake.adb ada/opt.ads ada/output.ads \\\n-   ada/restrict.ads ada/restrict.adb ada/rident.ads ada/rtsfind.ads \\\n-   ada/sem.ads ada/sem_aggr.ads ada/sem_attr.ads ada/sem_cat.ads \\\n-   ada/sem_ch3.ads ada/sem_ch4.ads ada/sem_ch6.ads ada/sem_ch8.ads \\\n-   ada/sem_disp.ads ada/sem_dist.ads ada/sem_elab.ads ada/sem_eval.ads \\\n-   ada/sem_intr.ads ada/sem_mech.ads ada/sem_res.ads ada/sem_res.adb \\\n-   ada/sem_type.ads ada/sem_util.ads ada/sem_warn.ads ada/sinfo.ads \\\n+   ada/debug.ads ada/einfo.ads ada/einfo.adb ada/elists.ads ada/elists.adb \\\n+   ada/err_vars.ads ada/errout.ads ada/erroutc.ads ada/exp_aggr.ads \\\n+   ada/exp_ch11.ads ada/exp_ch2.ads ada/exp_ch3.ads ada/exp_ch3.adb \\\n+   ada/exp_ch4.ads ada/exp_ch7.ads ada/exp_ch9.ads ada/exp_disp.ads \\\n+   ada/exp_dist.ads ada/exp_smem.ads ada/exp_strm.ads ada/exp_tss.ads \\\n+   ada/exp_tss.adb ada/exp_util.ads ada/fname.ads ada/fname-uf.ads \\\n+   ada/freeze.ads ada/get_targ.ads ada/gnat.ads ada/g-htable.ads \\\n+   ada/g-os_lib.ads ada/g-string.ads ada/gnatvsn.ads ada/hostparm.ads \\\n+   ada/lib.ads ada/namet.ads ada/nlists.ads ada/nlists.adb ada/nmake.ads \\\n+   ada/nmake.adb ada/opt.ads ada/output.ads ada/restrict.ads \\\n+   ada/restrict.adb ada/rident.ads ada/rtsfind.ads ada/sem.ads \\\n+   ada/sem_ch3.ads ada/sem_ch8.ads ada/sem_eval.ads ada/sem_mech.ads \\\n+   ada/sem_res.ads ada/sem_util.ads ada/sem_warn.ads ada/sinfo.ads \\\n    ada/sinfo.adb ada/sinput.ads ada/snames.ads ada/sprint.ads \\\n    ada/stand.ads ada/stringt.ads ada/stringt.adb ada/system.ads \\\n    ada/s-exctab.ads ada/s-htable.ads ada/s-imgenu.ads ada/s-memory.ads \\\n@@ -1749,16 +1745,17 @@ ada/exp_ch5.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/sem_ch13.ads ada/sem_ch8.ads ada/sem_eval.ads ada/sem_res.ads \\\n    ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb ada/sem_warn.ads \\\n    ada/sinfo.ads ada/sinfo.adb ada/sinput.ads ada/snames.ads \\\n-   ada/sprint.ads ada/stand.ads ada/stringt.ads ada/style.ads \\\n-   ada/styleg.ads ada/styleg.adb ada/styleg-c.ads ada/stylesw.ads \\\n-   ada/system.ads ada/s-crc32.ads ada/s-exctab.ads ada/s-htable.ads \\\n-   ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads \\\n-   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n-   ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads \\\n-   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n-   ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n-   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n-   ada/unchdeal.ads ada/urealp.ads ada/validsw.ads ada/widechar.ads \n+   ada/sprint.ads ada/stand.ads ada/stringt.ads ada/stringt.adb \\\n+   ada/style.ads ada/styleg.ads ada/styleg.adb ada/styleg-c.ads \\\n+   ada/stylesw.ads ada/system.ads ada/s-crc32.ads ada/s-exctab.ads \\\n+   ada/s-htable.ads ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads \\\n+   ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads \\\n+   ada/s-stoele.ads ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads \\\n+   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n+   ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads \\\n+   ada/types.ads ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n+   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/validsw.ads \\\n+   ada/widechar.ads \n \n ada/exp_ch6.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/checks.ads ada/checks.adb \\\n@@ -1969,13 +1966,13 @@ ada/exp_fixd.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/sem_ch8.ads ada/sem_eval.ads ada/sem_eval.adb ada/sem_res.ads \\\n    ada/sem_type.ads ada/sem_util.ads ada/sem_warn.ads ada/sinfo.ads \\\n    ada/sinfo.adb ada/sinput.ads ada/snames.ads ada/stand.ads \\\n-   ada/stringt.ads ada/system.ads ada/s-exctab.ads ada/s-htable.ads \\\n-   ada/s-imgenu.ads ada/s-memory.ads ada/s-secsta.ads ada/s-soflin.ads \\\n-   ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb \\\n-   ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads ada/table.ads \\\n-   ada/table.adb ada/tbuild.ads ada/tree_io.ads ada/types.ads \\\n-   ada/uintp.ads ada/uintp.adb ada/unchconv.ads ada/unchdeal.ads \\\n-   ada/urealp.ads ada/urealp.adb \n+   ada/stringt.ads ada/stringt.adb ada/system.ads ada/s-exctab.ads \\\n+   ada/s-htable.ads ada/s-imgenu.ads ada/s-memory.ads ada/s-secsta.ads \\\n+   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n+   ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads \\\n+   ada/table.ads ada/table.adb ada/tbuild.ads ada/tree_io.ads \\\n+   ada/types.ads ada/uintp.ads ada/uintp.adb ada/unchconv.ads \\\n+   ada/unchdeal.ads ada/urealp.ads ada/urealp.adb \n \n ada/exp_imgv.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/checks.ads ada/debug.ads ada/einfo.ads \\\n@@ -2132,14 +2129,14 @@ ada/exp_util.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/sem_eval.ads ada/sem_eval.adb ada/sem_res.ads ada/sem_type.ads \\\n    ada/sem_util.ads ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb \\\n    ada/sinput.ads ada/snames.ads ada/stand.ads ada/stringt.ads \\\n-   ada/system.ads ada/s-exctab.ads ada/s-htable.ads ada/s-imgenu.ads \\\n-   ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads \\\n-   ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb \\\n-   ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads ada/table.ads \\\n-   ada/table.adb ada/targparm.ads ada/tbuild.ads ada/tbuild.adb \\\n-   ada/tree_io.ads ada/ttypes.ads ada/types.ads ada/uintp.ads \\\n-   ada/uintp.adb ada/uname.ads ada/unchconv.ads ada/unchdeal.ads \\\n-   ada/urealp.ads ada/urealp.adb ada/validsw.ads \n+   ada/stringt.adb ada/system.ads ada/s-exctab.ads ada/s-htable.ads \\\n+   ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads \\\n+   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n+   ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads \\\n+   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n+   ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n+   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n+   ada/unchdeal.ads ada/urealp.ads ada/urealp.adb ada/validsw.ads \n \n ada/exp_vfpt.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/debug.ads ada/einfo.ads ada/einfo.adb \\\n@@ -2870,34 +2867,31 @@ ada/sem.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n \n ada/sem_aggr.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/checks.ads ada/checks.adb \\\n-   ada/csets.ads ada/debug.ads ada/debug_a.ads ada/einfo.ads ada/einfo.adb \\\n-   ada/elists.ads ada/elists.adb ada/err_vars.ads ada/errout.ads \\\n-   ada/erroutc.ads ada/eval_fat.ads ada/exp_ch11.ads ada/exp_ch2.ads \\\n-   ada/exp_ch7.ads ada/exp_tss.ads ada/exp_util.ads ada/exp_util.adb \\\n-   ada/expander.ads ada/fname.ads ada/freeze.ads ada/get_targ.ads \\\n-   ada/gnat.ads ada/g-htable.ads ada/g-os_lib.ads ada/g-speche.ads \\\n-   ada/g-string.ads ada/gnatvsn.ads ada/hostparm.ads ada/inline.ads \\\n-   ada/interfac.ads ada/itypes.ads ada/lib.ads ada/lib-xref.ads \\\n-   ada/namet.ads ada/namet.adb ada/nlists.ads ada/nlists.adb ada/nmake.ads \\\n-   ada/nmake.adb ada/opt.ads ada/output.ads ada/restrict.ads \\\n-   ada/rident.ads ada/rtsfind.ads ada/scans.ads ada/scn.ads ada/scng.ads \\\n-   ada/scng.adb ada/sem.ads ada/sem_aggr.ads ada/sem_aggr.adb \\\n-   ada/sem_attr.ads ada/sem_cat.ads ada/sem_ch13.ads ada/sem_ch4.ads \\\n-   ada/sem_ch6.ads ada/sem_ch8.ads ada/sem_disp.ads ada/sem_dist.ads \\\n-   ada/sem_elab.ads ada/sem_eval.ads ada/sem_eval.adb ada/sem_intr.ads \\\n-   ada/sem_res.ads ada/sem_res.adb ada/sem_type.ads ada/sem_util.ads \\\n-   ada/sem_util.adb ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb \\\n-   ada/sinput.ads ada/snames.ads ada/sprint.ads ada/stand.ads \\\n-   ada/stringt.ads ada/stringt.adb ada/style.ads ada/styleg.ads \\\n-   ada/styleg.adb ada/styleg-c.ads ada/stylesw.ads ada/system.ads \\\n-   ada/s-crc32.ads ada/s-exctab.ads ada/s-htable.ads ada/s-imgenu.ads \\\n-   ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads \\\n-   ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb \\\n-   ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads ada/table.ads \\\n-   ada/table.adb ada/targparm.ads ada/tbuild.ads ada/tbuild.adb \\\n-   ada/tree_io.ads ada/ttypes.ads ada/types.ads ada/uintp.ads \\\n-   ada/uintp.adb ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads \\\n-   ada/validsw.ads ada/widechar.ads \n+   ada/csets.ads ada/debug.ads ada/einfo.ads ada/einfo.adb ada/elists.ads \\\n+   ada/elists.adb ada/err_vars.ads ada/errout.ads ada/erroutc.ads \\\n+   ada/eval_fat.ads ada/exp_ch11.ads ada/exp_ch2.ads ada/exp_ch7.ads \\\n+   ada/exp_tss.ads ada/exp_util.ads ada/exp_util.adb ada/fname.ads \\\n+   ada/freeze.ads ada/get_targ.ads ada/gnat.ads ada/g-htable.ads \\\n+   ada/g-os_lib.ads ada/g-speche.ads ada/g-string.ads ada/gnatvsn.ads \\\n+   ada/hostparm.ads ada/inline.ads ada/interfac.ads ada/itypes.ads \\\n+   ada/lib.ads ada/lib-xref.ads ada/namet.ads ada/namet.adb ada/nlists.ads \\\n+   ada/nlists.adb ada/nmake.ads ada/nmake.adb ada/opt.ads ada/output.ads \\\n+   ada/restrict.ads ada/rident.ads ada/rtsfind.ads ada/scans.ads \\\n+   ada/scn.ads ada/scng.ads ada/scng.adb ada/sem.ads ada/sem_aggr.ads \\\n+   ada/sem_aggr.adb ada/sem_cat.ads ada/sem_ch13.ads ada/sem_ch8.ads \\\n+   ada/sem_eval.ads ada/sem_eval.adb ada/sem_res.ads ada/sem_type.ads \\\n+   ada/sem_util.ads ada/sem_util.adb ada/sem_warn.ads ada/sinfo.ads \\\n+   ada/sinfo.adb ada/sinput.ads ada/snames.ads ada/sprint.ads \\\n+   ada/stand.ads ada/stringt.ads ada/stringt.adb ada/style.ads \\\n+   ada/styleg.ads ada/styleg.adb ada/styleg-c.ads ada/stylesw.ads \\\n+   ada/system.ads ada/s-crc32.ads ada/s-exctab.ads ada/s-htable.ads \\\n+   ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads \\\n+   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n+   ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads \\\n+   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n+   ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n+   ada/uintp.ads ada/uintp.adb ada/unchconv.ads ada/unchdeal.ads \\\n+   ada/urealp.ads ada/validsw.ads ada/widechar.ads \n \n ada/sem_attr.o : ada/ada.ads ada/a-charac.ads ada/a-chlat1.ads \\\n    ada/a-except.ads ada/alloc.ads ada/atree.ads ada/atree.adb \\\n@@ -3010,36 +3004,33 @@ ada/sem_ch11.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n \n ada/sem_ch12.o : ada/ada.ads ada/a-except.ads ada/a-uncdea.ads \\\n    ada/alloc.ads ada/atree.ads ada/atree.adb ada/casing.ads ada/checks.ads \\\n-   ada/csets.ads ada/debug.ads ada/debug_a.ads ada/einfo.ads ada/einfo.adb \\\n-   ada/elists.ads ada/elists.adb ada/err_vars.ads ada/errout.ads \\\n-   ada/erroutc.ads ada/exp_ch7.ads ada/exp_tss.ads ada/exp_util.ads \\\n-   ada/expander.ads ada/fname.ads ada/fname-uf.ads ada/freeze.ads \\\n-   ada/get_targ.ads ada/gnat.ads ada/g-hesora.ads ada/g-htable.ads \\\n-   ada/g-os_lib.ads ada/g-string.ads ada/gnatvsn.ads ada/hostparm.ads \\\n-   ada/inline.ads ada/interfac.ads ada/itypes.ads ada/lib.ads ada/lib.adb \\\n-   ada/lib-list.adb ada/lib-load.ads ada/lib-sort.adb ada/lib-xref.ads \\\n-   ada/namet.ads ada/namet.adb ada/nlists.ads ada/nlists.adb ada/nmake.ads \\\n-   ada/nmake.adb ada/opt.ads ada/output.ads ada/restrict.ads \\\n-   ada/rident.ads ada/rtsfind.ads ada/scans.ads ada/scn.ads ada/scng.ads \\\n-   ada/scng.adb ada/sem.ads ada/sem_aggr.ads ada/sem_attr.ads \\\n+   ada/csets.ads ada/debug.ads ada/einfo.ads ada/einfo.adb ada/elists.ads \\\n+   ada/elists.adb ada/err_vars.ads ada/errout.ads ada/erroutc.ads \\\n+   ada/exp_tss.ads ada/exp_util.ads ada/expander.ads ada/fname.ads \\\n+   ada/fname-uf.ads ada/freeze.ads ada/get_targ.ads ada/gnat.ads \\\n+   ada/g-hesora.ads ada/g-htable.ads ada/g-os_lib.ads ada/g-string.ads \\\n+   ada/gnatvsn.ads ada/hostparm.ads ada/inline.ads ada/interfac.ads \\\n+   ada/lib.ads ada/lib.adb ada/lib-list.adb ada/lib-load.ads \\\n+   ada/lib-sort.adb ada/lib-xref.ads ada/namet.ads ada/namet.adb \\\n+   ada/nlists.ads ada/nlists.adb ada/nmake.ads ada/nmake.adb ada/opt.ads \\\n+   ada/output.ads ada/restrict.ads ada/rident.ads ada/rtsfind.ads \\\n+   ada/scans.ads ada/scn.ads ada/scng.ads ada/scng.adb ada/sem.ads \\\n    ada/sem_cat.ads ada/sem_ch10.ads ada/sem_ch12.ads ada/sem_ch12.adb \\\n-   ada/sem_ch13.ads ada/sem_ch3.ads ada/sem_ch4.ads ada/sem_ch6.ads \\\n-   ada/sem_ch7.ads ada/sem_ch8.ads ada/sem_disp.ads ada/sem_dist.ads \\\n-   ada/sem_elab.ads ada/sem_elim.ads ada/sem_eval.ads ada/sem_intr.ads \\\n-   ada/sem_res.ads ada/sem_res.adb ada/sem_type.ads ada/sem_util.ads \\\n-   ada/sem_util.adb ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb \\\n-   ada/sinfo-cn.ads ada/sinput.ads ada/sinput-l.ads ada/snames.ads \\\n-   ada/stand.ads ada/stringt.ads ada/style.ads ada/styleg.ads \\\n-   ada/styleg.adb ada/styleg-c.ads ada/stylesw.ads ada/system.ads \\\n-   ada/s-crc32.ads ada/s-exctab.ads ada/s-exctab.adb ada/s-htable.ads \\\n-   ada/s-htable.adb ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads \\\n-   ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads \\\n-   ada/s-stoele.ads ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads \\\n-   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n-   ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads \\\n-   ada/types.ads ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n-   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/urealp.adb \\\n-   ada/widechar.ads \n+   ada/sem_ch13.ads ada/sem_ch3.ads ada/sem_ch6.ads ada/sem_ch7.ads \\\n+   ada/sem_ch8.ads ada/sem_elab.ads ada/sem_elim.ads ada/sem_eval.ads \\\n+   ada/sem_res.ads ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb \\\n+   ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb ada/sinfo-cn.ads \\\n+   ada/sinput.ads ada/sinput-l.ads ada/snames.ads ada/stand.ads \\\n+   ada/stringt.ads ada/style.ads ada/styleg.ads ada/styleg.adb \\\n+   ada/styleg-c.ads ada/stylesw.ads ada/system.ads ada/s-crc32.ads \\\n+   ada/s-exctab.ads ada/s-exctab.adb ada/s-htable.ads ada/s-htable.adb \\\n+   ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads \\\n+   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n+   ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads \\\n+   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n+   ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n+   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n+   ada/unchdeal.ads ada/urealp.ads ada/urealp.adb ada/widechar.ads \n \n ada/sem_ch13.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/checks.ads ada/debug.ads ada/einfo.ads \\\n@@ -3100,17 +3091,17 @@ ada/sem_ch3.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/sem_mech.ads ada/sem_res.ads ada/sem_res.adb ada/sem_smem.ads \\\n    ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb ada/sem_warn.ads \\\n    ada/sinfo.ads ada/sinfo.adb ada/sinput.ads ada/snames.ads \\\n-   ada/sprint.ads ada/stand.ads ada/stringt.ads ada/style.ads \\\n-   ada/styleg.ads ada/styleg.adb ada/styleg-c.ads ada/stylesw.ads \\\n-   ada/system.ads ada/s-crc32.ads ada/s-exctab.ads ada/s-htable.ads \\\n-   ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads \\\n-   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n-   ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads \\\n-   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n-   ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n-   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n-   ada/unchdeal.ads ada/urealp.ads ada/urealp.adb ada/validsw.ads \\\n-   ada/widechar.ads \n+   ada/sprint.ads ada/stand.ads ada/stringt.ads ada/stringt.adb \\\n+   ada/style.ads ada/styleg.ads ada/styleg.adb ada/styleg-c.ads \\\n+   ada/stylesw.ads ada/system.ads ada/s-crc32.ads ada/s-exctab.ads \\\n+   ada/s-htable.ads ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads \\\n+   ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads \\\n+   ada/s-stoele.ads ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads \\\n+   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n+   ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads \\\n+   ada/types.ads ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n+   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/urealp.adb \\\n+   ada/validsw.ads ada/widechar.ads \n \n ada/sem_ch4.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/checks.ads ada/csets.ads ada/debug.ads \\\n@@ -3142,65 +3133,61 @@ ada/sem_ch4.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n \n ada/sem_ch5.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/checks.ads ada/checks.adb \\\n-   ada/csets.ads ada/debug.ads ada/debug_a.ads ada/einfo.ads ada/einfo.adb \\\n-   ada/elists.ads ada/err_vars.ads ada/errout.ads ada/erroutc.ads \\\n-   ada/eval_fat.ads ada/exp_ch2.ads ada/exp_ch7.ads ada/exp_tss.ads \\\n-   ada/exp_util.ads ada/expander.ads ada/fname.ads ada/freeze.ads \\\n-   ada/get_targ.ads ada/gnat.ads ada/g-hesora.ads ada/g-htable.ads \\\n-   ada/g-os_lib.ads ada/g-string.ads ada/gnatvsn.ads ada/hostparm.ads \\\n-   ada/interfac.ads ada/itypes.ads ada/lib.ads ada/lib-xref.ads \\\n-   ada/namet.ads ada/namet.adb ada/nlists.ads ada/nlists.adb ada/nmake.ads \\\n-   ada/nmake.adb ada/opt.ads ada/output.ads ada/restrict.ads \\\n-   ada/rident.ads ada/rtsfind.ads ada/scans.ads ada/scn.ads ada/scng.ads \\\n-   ada/scng.adb ada/sem.ads ada/sem_aggr.ads ada/sem_attr.ads \\\n-   ada/sem_case.ads ada/sem_case.adb ada/sem_cat.ads ada/sem_ch3.ads \\\n-   ada/sem_ch4.ads ada/sem_ch5.ads ada/sem_ch5.adb ada/sem_ch6.ads \\\n-   ada/sem_ch8.ads ada/sem_disp.ads ada/sem_dist.ads ada/sem_elab.ads \\\n-   ada/sem_eval.ads ada/sem_eval.adb ada/sem_intr.ads ada/sem_res.ads \\\n-   ada/sem_res.adb ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb \\\n-   ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb ada/sinput.ads \\\n-   ada/snames.ads ada/sprint.ads ada/stand.ads ada/stringt.ads \\\n-   ada/style.ads ada/styleg.ads ada/styleg.adb ada/styleg-c.ads \\\n-   ada/stylesw.ads ada/system.ads ada/s-crc32.ads ada/s-exctab.ads \\\n-   ada/s-htable.ads ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads \\\n-   ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads \\\n-   ada/s-stoele.ads ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads \\\n-   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n-   ada/tbuild.ads ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n-   ada/uintp.ads ada/uintp.adb ada/unchconv.ads ada/unchdeal.ads \\\n-   ada/urealp.ads ada/validsw.ads ada/widechar.ads \n-\n-ada/sem_ch6.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n-   ada/atree.adb ada/casing.ads ada/checks.ads ada/csets.ads ada/debug.ads \\\n-   ada/debug_a.ads ada/einfo.ads ada/einfo.adb ada/elists.ads \\\n-   ada/elists.adb ada/err_vars.ads ada/errout.ads ada/erroutc.ads \\\n-   ada/exp_ch7.ads ada/exp_tss.ads ada/exp_util.ads ada/expander.ads \\\n+   ada/csets.ads ada/debug.ads ada/einfo.ads ada/einfo.adb ada/elists.ads \\\n+   ada/err_vars.ads ada/errout.ads ada/erroutc.ads ada/eval_fat.ads \\\n+   ada/exp_ch2.ads ada/exp_tss.ads ada/exp_util.ads ada/expander.ads \\\n    ada/fname.ads ada/freeze.ads ada/get_targ.ads ada/gnat.ads \\\n    ada/g-hesora.ads ada/g-htable.ads ada/g-os_lib.ads ada/g-string.ads \\\n-   ada/gnatvsn.ads ada/hostparm.ads ada/inline.ads ada/interfac.ads \\\n-   ada/itypes.ads ada/lib.ads ada/lib.adb ada/lib-list.adb \\\n-   ada/lib-sort.adb ada/lib-xref.ads ada/namet.ads ada/namet.adb \\\n-   ada/nlists.ads ada/nlists.adb ada/nmake.ads ada/nmake.adb ada/opt.ads \\\n-   ada/output.ads ada/restrict.ads ada/rident.ads ada/rtsfind.ads \\\n-   ada/scans.ads ada/scn.ads ada/scng.ads ada/scng.adb ada/sem.ads \\\n-   ada/sem_aggr.ads ada/sem_attr.ads ada/sem_cat.ads ada/sem_ch12.ads \\\n-   ada/sem_ch3.ads ada/sem_ch4.ads ada/sem_ch5.ads ada/sem_ch6.ads \\\n-   ada/sem_ch6.adb ada/sem_ch8.ads ada/sem_disp.ads ada/sem_dist.ads \\\n-   ada/sem_elab.ads ada/sem_elim.ads ada/sem_eval.ads ada/sem_intr.ads \\\n-   ada/sem_mech.ads ada/sem_prag.ads ada/sem_res.ads ada/sem_res.adb \\\n-   ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb ada/sem_warn.ads \\\n-   ada/sinfo.ads ada/sinfo.adb ada/sinfo-cn.ads ada/sinput.ads \\\n-   ada/sinput.adb ada/snames.ads ada/stand.ads ada/stringt.ads \\\n-   ada/stringt.adb ada/style.ads ada/styleg.ads ada/styleg.adb \\\n-   ada/styleg-c.ads ada/stylesw.ads ada/system.ads ada/s-carun8.ads \\\n+   ada/gnatvsn.ads ada/hostparm.ads ada/interfac.ads ada/lib.ads \\\n+   ada/lib-xref.ads ada/namet.ads ada/namet.adb ada/nlists.ads \\\n+   ada/nlists.adb ada/nmake.ads ada/nmake.adb ada/opt.ads ada/output.ads \\\n+   ada/restrict.ads ada/rident.ads ada/rtsfind.ads ada/scans.ads \\\n+   ada/scn.ads ada/scng.ads ada/scng.adb ada/sem.ads ada/sem_case.ads \\\n+   ada/sem_case.adb ada/sem_cat.ads ada/sem_ch3.ads ada/sem_ch5.ads \\\n+   ada/sem_ch5.adb ada/sem_ch8.ads ada/sem_disp.ads ada/sem_eval.ads \\\n+   ada/sem_eval.adb ada/sem_res.ads ada/sem_type.ads ada/sem_util.ads \\\n+   ada/sem_util.adb ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb \\\n+   ada/sinput.ads ada/snames.ads ada/sprint.ads ada/stand.ads \\\n+   ada/stringt.ads ada/stringt.adb ada/style.ads ada/styleg.ads \\\n+   ada/styleg.adb ada/styleg-c.ads ada/stylesw.ads ada/system.ads \\\n    ada/s-crc32.ads ada/s-exctab.ads ada/s-htable.ads ada/s-imgenu.ads \\\n    ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads \\\n    ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb \\\n    ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads ada/table.ads \\\n-   ada/table.adb ada/targparm.ads ada/tbuild.ads ada/tbuild.adb \\\n-   ada/tree_io.ads ada/ttypes.ads ada/types.ads ada/uintp.ads \\\n-   ada/uintp.adb ada/uname.ads ada/unchconv.ads ada/unchdeal.ads \\\n-   ada/urealp.ads ada/validsw.ads ada/widechar.ads \n+   ada/table.adb ada/targparm.ads ada/tbuild.ads ada/tree_io.ads \\\n+   ada/ttypes.ads ada/types.ads ada/uintp.ads ada/uintp.adb \\\n+   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/validsw.ads \\\n+   ada/widechar.ads \n+\n+ada/sem_ch6.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n+   ada/atree.adb ada/casing.ads ada/checks.ads ada/csets.ads ada/debug.ads \\\n+   ada/einfo.ads ada/einfo.adb ada/elists.ads ada/elists.adb \\\n+   ada/err_vars.ads ada/errout.ads ada/erroutc.ads ada/exp_ch7.ads \\\n+   ada/exp_tss.ads ada/exp_util.ads ada/expander.ads ada/fname.ads \\\n+   ada/freeze.ads ada/get_targ.ads ada/gnat.ads ada/g-hesora.ads \\\n+   ada/g-htable.ads ada/g-os_lib.ads ada/g-string.ads ada/gnatvsn.ads \\\n+   ada/hostparm.ads ada/inline.ads ada/interfac.ads ada/lib.ads \\\n+   ada/lib.adb ada/lib-list.adb ada/lib-sort.adb ada/lib-xref.ads \\\n+   ada/namet.ads ada/namet.adb ada/nlists.ads ada/nlists.adb ada/nmake.ads \\\n+   ada/nmake.adb ada/opt.ads ada/output.ads ada/restrict.ads \\\n+   ada/rident.ads ada/rtsfind.ads ada/scans.ads ada/scn.ads ada/scng.ads \\\n+   ada/scng.adb ada/sem.ads ada/sem_cat.ads ada/sem_ch12.ads \\\n+   ada/sem_ch3.ads ada/sem_ch4.ads ada/sem_ch5.ads ada/sem_ch6.ads \\\n+   ada/sem_ch6.adb ada/sem_ch8.ads ada/sem_disp.ads ada/sem_dist.ads \\\n+   ada/sem_elim.ads ada/sem_eval.ads ada/sem_mech.ads ada/sem_prag.ads \\\n+   ada/sem_res.ads ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb \\\n+   ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb ada/sinfo-cn.ads \\\n+   ada/sinput.ads ada/sinput.adb ada/snames.ads ada/stand.ads \\\n+   ada/stringt.ads ada/stringt.adb ada/style.ads ada/styleg.ads \\\n+   ada/styleg.adb ada/styleg-c.ads ada/stylesw.ads ada/system.ads \\\n+   ada/s-carun8.ads ada/s-crc32.ads ada/s-exctab.ads ada/s-htable.ads \\\n+   ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads \\\n+   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n+   ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads \\\n+   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n+   ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n+   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n+   ada/unchdeal.ads ada/urealp.ads ada/validsw.ads ada/widechar.ads \n \n ada/sem_ch7.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/checks.ads ada/csets.ads ada/debug.ads \\"}, {"sha": "061597236ae41d742ba2fc064549cad356b3f0ac", "filename": "gcc/ada/cstand.adb", "status": "modified", "additions": 23, "deletions": 4, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fcstand.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fcstand.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcstand.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003 Free Software Foundation, Inc.          --\n+--          Copyright (C) 1992-2004 Free Software Foundation, Inc.          --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -559,7 +559,14 @@ package body CStand is\n       --  Create type definition node for type String\n \n       Tdef_Node := New_Node (N_Unconstrained_Array_Definition, Stloc);\n-      Set_Subtype_Indication (Tdef_Node, Identifier_For (S_Character));\n+      declare\n+         CompDef_Node : Node_Id;\n+      begin\n+         CompDef_Node := New_Node (N_Component_Definition, Stloc);\n+         Set_Aliased_Present    (CompDef_Node, False);\n+         Set_Subtype_Indication (CompDef_Node, Identifier_For (S_Character));\n+         Set_Component_Definition (Tdef_Node, CompDef_Node);\n+      end;\n       Set_Subtype_Marks      (Tdef_Node, New_List);\n       Append (Identifier_For (S_Positive), Subtype_Marks (Tdef_Node));\n       Set_Type_Definition (Parent (Standard_String), Tdef_Node);\n@@ -581,7 +588,15 @@ package body CStand is\n       --  Create type definition node for type Wide_String\n \n       Tdef_Node := New_Node (N_Unconstrained_Array_Definition, Stloc);\n-      Set_Subtype_Indication (Tdef_Node, Identifier_For (S_Wide_Character));\n+      declare\n+         CompDef_Node : Node_Id;\n+      begin\n+         CompDef_Node := New_Node (N_Component_Definition, Stloc);\n+         Set_Aliased_Present    (CompDef_Node, False);\n+         Set_Subtype_Indication (CompDef_Node,\n+                                 Identifier_For (S_Wide_Character));\n+         Set_Component_Definition (Tdef_Node, CompDef_Node);\n+      end;\n       Set_Subtype_Marks (Tdef_Node, New_List);\n       Append (Identifier_For (S_Positive), Subtype_Marks (Tdef_Node));\n       Set_Type_Definition (Parent (Standard_Wide_String), Tdef_Node);\n@@ -1119,7 +1134,11 @@ package body CStand is\n             Append (\n               Make_Component_Declaration (Stloc,\n                 Defining_Identifier => Comp,\n-                Subtype_Indication => New_Occurrence_Of (Etype (Comp), Stloc)),\n+                Component_Definition =>\n+                  Make_Component_Definition (Stloc,\n+                    Aliased_Present    => False,\n+                    Subtype_Indication => New_Occurrence_Of (Etype (Comp),\n+                                                             Stloc))),\n               Comp_List);\n \n             Next_Entity (Comp);"}, {"sha": "a0169259ceb591869074fb0829058d35aabdd40a", "filename": "gcc/ada/exp_aggr.adb", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fexp_aggr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fexp_aggr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_aggr.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003 Free Software Foundation, Inc.          --\n+--          Copyright (C) 1992-2004 Free Software Foundation, Inc.          --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -3062,8 +3062,11 @@ package body Exp_Aggr is\n                Type_Definition =>\n                  Make_Constrained_Array_Definition (Loc,\n                    Discrete_Subtype_Definitions => Indices,\n-                   Subtype_Indication =>\n-                     New_Occurrence_Of (Component_Type (Typ), Loc)));\n+                   Component_Definition =>\n+                     Make_Component_Definition (Loc,\n+                       Aliased_Present => False,\n+                       Subtype_Indication =>\n+                         New_Occurrence_Of (Component_Type (Typ), Loc))));\n \n          Insert_Action (N, Decl);\n          Analyze (Decl);"}, {"sha": "634a2ba983e435801b09bba10e35d8b8f2801fbb", "filename": "gcc/ada/exp_ch3.adb", "status": "modified", "additions": 20, "deletions": 8, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fexp_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fexp_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch3.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003 Free Software Foundation, Inc.          --\n+--          Copyright (C) 1992-2004 Free Software Foundation, Inc.          --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -1937,7 +1937,8 @@ package body Exp_Ch3 is\n          Decl := First_Non_Pragma (Component_Items (Comp_List));\n          while Present (Decl) loop\n             Loc := Sloc (Decl);\n-            Build_Record_Checks (Subtype_Indication (Decl), Check_List);\n+            Build_Record_Checks\n+              (Subtype_Indication (Component_Definition (Decl)), Check_List);\n \n             Id := Defining_Identifier (Decl);\n             Typ := Etype (Id);\n@@ -2725,7 +2726,10 @@ package body Exp_Ch3 is\n       Comp_Decl :=\n         Make_Component_Declaration (Loc,\n           Defining_Identifier => Parent_N,\n-          Subtype_Indication  => New_Reference_To (Par_Subtype, Loc));\n+          Component_Definition =>\n+            Make_Component_Definition (Loc,\n+              Aliased_Present => False,\n+              Subtype_Indication => New_Reference_To (Par_Subtype, Loc)));\n \n       if Null_Present (Rec_Ext_Part) then\n          Set_Component_List (Rec_Ext_Part,\n@@ -3302,7 +3306,10 @@ package body Exp_Ch3 is\n       Comp_Decl :=\n         Make_Component_Declaration (Loc,\n           Defining_Identifier =>  Ent,\n-          Subtype_Indication  => New_Reference_To (Controller_Type, Loc));\n+          Component_Definition =>\n+            Make_Component_Definition (Loc,\n+              Aliased_Present => False,\n+              Subtype_Indication => New_Reference_To (Controller_Type, Loc)));\n \n       if Null_Present (Comp_List)\n         or else Is_Empty_List (Component_Items (Comp_List))\n@@ -3393,8 +3400,10 @@ package body Exp_Ch3 is\n       Comp_Decl :=\n         Make_Component_Declaration (Sloc_N,\n           Defining_Identifier => Tag_Component (T),\n-          Subtype_Indication  =>\n-            New_Reference_To (RTE (RE_Tag), Sloc_N));\n+          Component_Definition =>\n+            Make_Component_Definition (Sloc_N,\n+              Aliased_Present => False,\n+              Subtype_Indication => New_Reference_To (RTE (RE_Tag), Sloc_N)));\n \n       if Null_Present (Comp_List)\n         or else Is_Empty_List (Component_Items (Comp_List))\n@@ -3410,7 +3419,7 @@ package body Exp_Ch3 is\n       --  already been analyzed previously. Here we just insure that the\n       --  tree is coherent with the semantic decoration\n \n-      Find_Type (Subtype_Indication (Comp_Decl));\n+      Find_Type (Subtype_Indication (Component_Definition (Comp_Decl)));\n \n    exception\n       when RE_Not_Available =>\n@@ -3579,7 +3588,10 @@ package body Exp_Ch3 is\n                           High_Bound =>\n                             Make_Integer_Literal (Loc, Num - 1))))),\n \n-              Subtype_Indication => New_Reference_To (Typ, Loc)),\n+              Component_Definition =>\n+                Make_Component_Definition (Loc,\n+                  Aliased_Present => False,\n+                  Subtype_Indication => New_Reference_To (Typ, Loc))),\n \n           Expression =>\n             Make_Aggregate (Loc,"}, {"sha": "2db7c83914525694b3bb9a12b740fa38048f0dc3", "filename": "gcc/ada/exp_ch9.adb", "status": "modified", "additions": 64, "deletions": 27, "changes": 91, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fexp_ch9.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fexp_ch9.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch9.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2004, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -2611,8 +2611,11 @@ package body Exp_Ch9 is\n                          (Etype (Discrete_Subtype_Definition\n                            (Parent (Efam)))), Loc))),\n \n-                    Subtype_Indication =>\n-                      New_Reference_To (Standard_Character, Loc)));\n+                    Component_Definition =>\n+                       Make_Component_Definition (Loc,\n+                          Aliased_Present    => False,\n+                          Subtype_Indication =>\n+                             New_Reference_To (Standard_Character, Loc))));\n \n             Insert_After (Current_Node, Efam_Decl);\n             Current_Node := Efam_Decl;\n@@ -2623,17 +2626,21 @@ package body Exp_Ch9 is\n                 Defining_Identifier =>\n                   Make_Defining_Identifier (Loc, Chars (Efam)),\n \n-                Subtype_Indication =>\n-                  Make_Subtype_Indication (Loc,\n-                    Subtype_Mark =>\n-                      New_Occurrence_Of (Efam_Type, Loc),\n+                Component_Definition =>\n+                  Make_Component_Definition (Loc,\n+                    Aliased_Present    => False,\n+                    Subtype_Indication =>\n+                      Make_Subtype_Indication (Loc,\n+                        Subtype_Mark =>\n+                          New_Occurrence_Of (Efam_Type, Loc),\n+                        Constraint  =>\n+                          Make_Index_Or_Discriminant_Constraint (Loc,\n+                            Constraints => New_List (\n+                              New_Occurrence_Of\n+                                (Etype (Discrete_Subtype_Definition\n+                                  (Parent (Efam))), Loc)))))));\n+\n \n-                    Constraint  =>\n-                      Make_Index_Or_Discriminant_Constraint (Loc,\n-                        Constraints => New_List (\n-                          New_Occurrence_Of\n-                            (Etype (Discrete_Subtype_Definition\n-                              (Parent (Efam))), Loc))))));\n          end if;\n \n          Next_Entity (Efam);\n@@ -3265,14 +3272,19 @@ package body Exp_Ch9 is\n         Make_Component_Declaration (Loc,\n           Defining_Identifier =>\n             Make_Defining_Identifier (Loc, New_Internal_Name ('P')),\n-          Subtype_Indication  =>\n-            New_Occurrence_Of (RTE (RE_Address), Loc)),\n+          Component_Definition =>\n+            Make_Component_Definition (Loc,\n+              Aliased_Present    => False,\n+              Subtype_Indication =>\n+                New_Occurrence_Of (RTE (RE_Address), Loc))),\n \n         Make_Component_Declaration (Loc,\n           Defining_Identifier =>\n             Make_Defining_Identifier (Loc, New_Internal_Name ('S')),\n-          Subtype_Indication  =>\n-            New_Occurrence_Of (D_T2, Loc)));\n+          Component_Definition =>\n+            Make_Component_Definition (Loc,\n+              Aliased_Present    => False,\n+              Subtype_Indication => New_Occurrence_Of (D_T2, Loc))));\n \n       Decl2 :=\n         Make_Full_Type_Declaration (Loc,\n@@ -4668,7 +4680,10 @@ package body Exp_Ch9 is\n             Append_To (Components,\n               Make_Component_Declaration (Loc,\n                 Defining_Identifier => Component,\n-                Subtype_Indication  => New_Reference_To (Ctype, Loc)));\n+                Component_Definition =>\n+                  Make_Component_Definition (Loc,\n+                    Aliased_Present    => False,\n+                    Subtype_Indication => New_Reference_To (Ctype, Loc))));\n \n             Next_Formal_With_Extras (Formal);\n          end loop;\n@@ -5227,8 +5242,10 @@ package body Exp_Ch9 is\n            Make_Component_Declaration (Loc,\n              Defining_Identifier =>\n                Make_Defining_Identifier (Loc, Name_uObject),\n-             Aliased_Present     => True,\n-             Subtype_Indication  => Protection_Subtype);\n+             Component_Definition =>\n+               Make_Component_Definition (Loc,\n+                 Aliased_Present    => True,\n+                 Subtype_Indication => Protection_Subtype));\n       end;\n \n       pragma Assert (Present (Pdef));\n@@ -5246,8 +5263,13 @@ package body Exp_Ch9 is\n                  Make_Component_Declaration (Loc,\n                    Defining_Identifier =>\n                      Make_Defining_Identifier (Sloc (Pent), Chars (Pent)),\n-                   Subtype_Indication =>\n-                     New_Copy_Tree (Subtype_Indication (Priv), Discr_Map),\n+                   Component_Definition =>\n+                     Make_Component_Definition (Sloc (Pent),\n+                       Aliased_Present    => False,\n+                       Subtype_Indication =>\n+                         New_Copy_Tree (Subtype_Indication\n+                                         (Component_Definition (Priv)),\n+                                        Discr_Map)),\n                    Expression => Expression (Priv));\n \n                Append_To (Cdecls, New_Priv);\n@@ -7175,7 +7197,11 @@ package body Exp_Ch9 is\n         Make_Component_Declaration (Loc,\n           Defining_Identifier =>\n             Make_Defining_Identifier (Loc, Name_uTask_Id),\n-          Subtype_Indication => New_Reference_To (RTE (RO_ST_Task_ID), Loc)));\n+          Component_Definition =>\n+            Make_Component_Definition (Loc,\n+              Aliased_Present    => False,\n+              Subtype_Indication => New_Reference_To (RTE (RO_ST_Task_ID),\n+                                    Loc))));\n \n       --  Add components for entry families\n \n@@ -7216,7 +7242,11 @@ package body Exp_Ch9 is\n               Make_Component_Declaration (Loc,\n                 Defining_Identifier =>\n                   Make_Defining_Identifier (Loc, Name_uPriority),\n-                Subtype_Indication => New_Reference_To (Standard_Integer, Loc),\n+                Component_Definition =>\n+                  Make_Component_Definition (Loc,\n+                    Aliased_Present    => False,\n+                    Subtype_Indication => New_Reference_To (Standard_Integer,\n+                                                            Loc)),\n                 Expression => Expr));\n          end;\n       end if;\n@@ -7231,7 +7261,11 @@ package body Exp_Ch9 is\n              Defining_Identifier =>\n                Make_Defining_Identifier (Loc, Name_uSize),\n \n-             Subtype_Indication => New_Reference_To (RTE (RE_Size_Type), Loc),\n+             Component_Definition =>\n+               Make_Component_Definition (Loc,\n+                 Aliased_Present    => False,\n+                 Subtype_Indication => New_Reference_To (RTE (RE_Size_Type),\n+                                                         Loc)),\n \n              Expression =>\n                Convert_To (RTE (RE_Size_Type),\n@@ -7249,8 +7283,11 @@ package body Exp_Ch9 is\n            Make_Component_Declaration (Loc,\n              Defining_Identifier =>\n                Make_Defining_Identifier (Loc, Name_uTask_Info),\n-             Subtype_Indication =>\n-               New_Reference_To (RTE (RE_Task_Info_Type), Loc),\n+             Component_Definition =>\n+               Make_Component_Definition (Loc,\n+                 Aliased_Present    => False,\n+                 Subtype_Indication =>\n+                   New_Reference_To (RTE (RE_Task_Info_Type), Loc)),\n              Expression => New_Copy (\n                Expression (First (\n                  Pragma_Argument_Associations ("}, {"sha": "c8451ac027188e09df2d2aac821066bb9733c3bb", "filename": "gcc/ada/exp_dist.adb", "status": "modified", "additions": 21, "deletions": 9, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fexp_dist.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fexp_dist.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_dist.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003 Free Software Foundation, Inc.          --\n+--          Copyright (C) 1992-2004 Free Software Foundation, Inc.          --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -1886,26 +1886,38 @@ package body Exp_Dist is\n                     Make_Component_Declaration (Loc,\n                       Defining_Identifier =>\n                         Make_Defining_Identifier (Loc, Name_Origin),\n-                      Subtype_Indication  =>\n-                        New_Occurrence_Of (RTE (RE_Partition_ID), Loc)),\n+                      Component_Definition =>\n+                        Make_Component_Definition (Loc,\n+                          Aliased_Present    => False,\n+                          Subtype_Indication =>\n+                            New_Occurrence_Of (RTE (RE_Partition_ID), Loc))),\n \n                     Make_Component_Declaration (Loc,\n                       Defining_Identifier =>\n                         Make_Defining_Identifier (Loc, Name_Receiver),\n-                      Subtype_Indication  =>\n-                        New_Occurrence_Of (RTE (RE_Unsigned_64), Loc)),\n+                      Component_Definition =>\n+                        Make_Component_Definition (Loc,\n+                          Aliased_Present    => False,\n+                          Subtype_Indication =>\n+                            New_Occurrence_Of (RTE (RE_Unsigned_64), Loc))),\n \n                     Make_Component_Declaration (Loc,\n                       Defining_Identifier =>\n                         Make_Defining_Identifier (Loc, Name_Addr),\n-                      Subtype_Indication  =>\n-                        New_Occurrence_Of (RTE (RE_Unsigned_64), Loc)),\n+                      Component_Definition =>\n+                        Make_Component_Definition (Loc,\n+                          Aliased_Present    => False,\n+                          Subtype_Indication =>\n+                            New_Occurrence_Of (RTE (RE_Unsigned_64), Loc))),\n \n                     Make_Component_Declaration (Loc,\n                       Defining_Identifier =>\n                         Make_Defining_Identifier (Loc, Name_Asynchronous),\n-                      Subtype_Indication  =>\n-                        New_Occurrence_Of (Standard_Boolean, Loc))))));\n+                      Component_Definition =>\n+                        Make_Component_Definition (Loc,\n+                          Aliased_Present    => False,\n+                          Subtype_Indication =>\n+                            New_Occurrence_Of (Standard_Boolean, Loc)))))));\n \n       Append_To (Decls, Stub_Type_Declaration);\n       Analyze (Stub_Type_Declaration);"}, {"sha": "5989cbc3b5c24c56d508dba0013e8c158404d4a3", "filename": "gcc/ada/exp_imgv.adb", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fexp_imgv.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fexp_imgv.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_imgv.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 2001-2003 Free Software Foundation, Inc.          --\n+--          Copyright (C) 2001-2004 Free Software Foundation, Inc.          --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -140,7 +140,10 @@ package body Exp_Imgv is\n                   Make_Range (Loc,\n                     Low_Bound  => Make_Integer_Literal (Loc, 0),\n                     High_Bound => Make_Integer_Literal (Loc, Nlit))),\n-                Subtype_Indication => New_Occurrence_Of (Ityp, Loc)),\n+                Component_Definition =>\n+                  Make_Component_Definition (Loc,\n+                    Aliased_Present    => False,\n+                    Subtype_Indication => New_Occurrence_Of (Ityp, Loc))),\n \n             Expression          =>\n               Make_Aggregate (Loc,"}, {"sha": "558e251d5a33a6071690bcd455f477968699b756", "filename": "gcc/ada/exp_pakd.adb", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fexp_pakd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fexp_pakd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_pakd.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003 Free Software Foundation, Inc.          --\n+--          Copyright (C) 1992-2004 Free Software Foundation, Inc.          --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -958,15 +958,21 @@ package body Exp_Pakd is\n                Typedef :=\n                  Make_Unconstrained_Array_Definition (Loc,\n                    Subtype_Marks => Indexes,\n-                   Subtype_Indication =>\n-                      New_Occurrence_Of (Ctyp, Loc));\n+                   Component_Definition =>\n+                     Make_Component_Definition (Loc,\n+                       Aliased_Present    => False,\n+                       Subtype_Indication =>\n+                          New_Occurrence_Of (Ctyp, Loc)));\n \n             else\n                Typedef :=\n                   Make_Constrained_Array_Definition (Loc,\n                     Discrete_Subtype_Definitions => Indexes,\n-                    Subtype_Indication =>\n-                      New_Occurrence_Of (Ctyp, Loc));\n+                    Component_Definition =>\n+                      Make_Component_Definition (Loc,\n+                        Aliased_Present    => False,\n+                        Subtype_Indication =>\n+                          New_Occurrence_Of (Ctyp, Loc)));\n             end if;\n \n             Decl :="}, {"sha": "98802f150394b349cf2b5825d9b531d21fc94976", "filename": "gcc/ada/exp_util.adb", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fexp_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fexp_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_util.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2004, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -2009,6 +2009,7 @@ package body Exp_Util is\n                N_Compilation_Unit_Aux                   |\n                N_Component_Clause                       |\n                N_Component_Declaration                  |\n+               N_Component_Definition                   |\n                N_Component_List                         |\n                N_Constrained_Array_Definition           |\n                N_Decimal_Fixed_Point_Definition         |\n@@ -2813,13 +2814,22 @@ package body Exp_Util is\n                   Make_Component_Declaration (Loc,\n                     Defining_Identifier =>\n                       Make_Defining_Identifier (Loc, Name_uParent),\n-                    Subtype_Indication => New_Reference_To (Constr_Root, Loc)),\n+                    Component_Definition =>\n+                      Make_Component_Definition (Loc,\n+                        Aliased_Present    => False,\n+                        Subtype_Indication =>\n+                          New_Reference_To (Constr_Root, Loc))),\n \n                   Make_Component_Declaration (Loc,\n                     Defining_Identifier =>\n                       Make_Defining_Identifier (Loc,\n                         Chars => New_Internal_Name ('C')),\n-                    Subtype_Indication => New_Reference_To (Str_Type, Loc))),\n+                    Component_Definition =>\n+                      Make_Component_Definition (Loc,\n+                        Aliased_Present    => False,\n+                        Subtype_Indication =>\n+                          New_Reference_To (Str_Type, Loc)))),\n+\n                 Variant_Part => Empty))));\n \n       Insert_Actions (E, List_Def);"}, {"sha": "bea61efccc406783b3f83e9ef8e810a089247e8d", "filename": "gcc/ada/g-socket.adb", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fg-socket.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fg-socket.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-socket.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---           Copyright (C) 2001-2003 Ada Core Technologies, Inc.            --\n+--           Copyright (C) 2001-2004 Ada Core Technologies, Inc.            --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -1403,7 +1403,8 @@ package body GNAT.Sockets is\n \n    begin\n       Ada.Exceptions.Raise_Exception\n-        (Socket_Error'Identity, Image (Error) & Socket_Error_Message (Error));\n+        (Socket_Error'Identity,\n+         Image (Error) & C.Strings.Value (Socket_Error_Message (Error)));\n    end Raise_Socket_Error;\n \n    ----------"}, {"sha": "49f3c8d244be82d3eaf7d23b446a67a3ed7d4d2f", "filename": "gcc/ada/g-socthi.adb", "status": "modified", "additions": 32, "deletions": 42, "changes": 74, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fg-socthi.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fg-socthi.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-socthi.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---              Copyright (C) 2001-2003 Ada Core Technologies, Inc.         --\n+--              Copyright (C) 2001-2004 Ada Core Technologies, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -44,8 +44,8 @@ with Interfaces.C; use Interfaces.C;\n \n package body GNAT.Sockets.Thin is\n \n-   Non_Blocking_Sockets : constant Fd_Set_Access\n-     := New_Socket_Set (No_Socket_Set);\n+   Non_Blocking_Sockets : constant Fd_Set_Access :=\n+                            New_Socket_Set (No_Socket_Set);\n    --  When this package is initialized with Process_Blocking_IO set\n    --  to True, sockets are set in non-blocking mode to avoid blocking\n    --  the whole process when a thread wants to perform a blocking IO\n@@ -62,33 +62,32 @@ package body GNAT.Sockets.Thin is\n \n    Thread_Blocking_IO : Boolean := True;\n \n+   Unknown_System_Error : constant C.Strings.chars_ptr :=\n+                            C.Strings.New_String (\"Unknown system error\");\n+\n    function Syscall_Accept\n      (S       : C.int;\n       Addr    : System.Address;\n-      Addrlen : access C.int)\n-      return    C.int;\n+      Addrlen : access C.int) return C.int;\n    pragma Import (C, Syscall_Accept, \"accept\");\n \n    function Syscall_Connect\n      (S       : C.int;\n       Name    : System.Address;\n-      Namelen : C.int)\n-      return    C.int;\n+      Namelen : C.int) return C.int;\n    pragma Import (C, Syscall_Connect, \"connect\");\n \n    function Syscall_Ioctl\n      (S    : C.int;\n       Req  : C.int;\n-      Arg  : Int_Access)\n-      return C.int;\n+      Arg  : Int_Access) return C.int;\n    pragma Import (C, Syscall_Ioctl, \"ioctl\");\n \n    function Syscall_Recv\n      (S     : C.int;\n       Msg   : System.Address;\n       Len   : C.int;\n-      Flags : C.int)\n-      return  C.int;\n+      Flags : C.int) return C.int;\n    pragma Import (C, Syscall_Recv, \"recv\");\n \n    function Syscall_Recvfrom\n@@ -97,16 +96,14 @@ package body GNAT.Sockets.Thin is\n       Len     : C.int;\n       Flags   : C.int;\n       From    : Sockaddr_In_Access;\n-      Fromlen : access C.int)\n-      return    C.int;\n+      Fromlen : access C.int) return C.int;\n    pragma Import (C, Syscall_Recvfrom, \"recvfrom\");\n \n    function Syscall_Send\n      (S     : C.int;\n       Msg   : System.Address;\n       Len   : C.int;\n-      Flags : C.int)\n-      return  C.int;\n+      Flags : C.int) return C.int;\n    pragma Import (C, Syscall_Send, \"send\");\n \n    function Syscall_Sendto\n@@ -115,13 +112,13 @@ package body GNAT.Sockets.Thin is\n       Len   : C.int;\n       Flags : C.int;\n       To    : Sockaddr_In_Access;\n-      Tolen : C.int)\n-      return  C.int;\n+      Tolen : C.int) return C.int;\n    pragma Import (C, Syscall_Sendto, \"sendto\");\n \n    function Syscall_Socket\n-     (Domain, Typ, Protocol : C.int)\n-      return C.int;\n+     (Domain   : C.int;\n+      Typ      : C.int;\n+      Protocol : C.int) return C.int;\n    pragma Import (C, Syscall_Socket, \"socket\");\n \n    function  Non_Blocking_Socket (S : C.int) return Boolean;\n@@ -134,8 +131,7 @@ package body GNAT.Sockets.Thin is\n    function C_Accept\n      (S       : C.int;\n       Addr    : System.Address;\n-      Addrlen : access C.int)\n-      return    C.int\n+      Addrlen : access C.int) return C.int\n    is\n       R   : C.int;\n       Val : aliased C.int := 1;\n@@ -174,8 +170,7 @@ package body GNAT.Sockets.Thin is\n    function C_Connect\n      (S       : C.int;\n       Name    : System.Address;\n-      Namelen : C.int)\n-      return    C.int\n+      Namelen : C.int) return C.int\n    is\n       Res : C.int;\n \n@@ -235,10 +230,9 @@ package body GNAT.Sockets.Thin is\n    -------------\n \n    function C_Ioctl\n-     (S    : C.int;\n-      Req  : C.int;\n-      Arg  : Int_Access)\n-      return C.int\n+     (S   : C.int;\n+      Req : C.int;\n+      Arg : Int_Access) return C.int\n    is\n    begin\n       if not Thread_Blocking_IO\n@@ -260,8 +254,7 @@ package body GNAT.Sockets.Thin is\n      (S     : C.int;\n       Msg   : System.Address;\n       Len   : C.int;\n-      Flags : C.int)\n-      return  C.int\n+      Flags : C.int) return C.int\n    is\n       Res : C.int;\n \n@@ -288,8 +281,7 @@ package body GNAT.Sockets.Thin is\n       Len     : C.int;\n       Flags   : C.int;\n       From    : Sockaddr_In_Access;\n-      Fromlen : access C.int)\n-      return    C.int\n+      Fromlen : access C.int) return C.int\n    is\n       Res : C.int;\n \n@@ -314,8 +306,7 @@ package body GNAT.Sockets.Thin is\n      (S     : C.int;\n       Msg   : System.Address;\n       Len   : C.int;\n-      Flags : C.int)\n-      return  C.int\n+      Flags : C.int) return C.int\n    is\n       Res : C.int;\n \n@@ -342,8 +333,7 @@ package body GNAT.Sockets.Thin is\n       Len   : C.int;\n       Flags : C.int;\n       To    : Sockaddr_In_Access;\n-      Tolen : C.int)\n-      return  C.int\n+      Tolen : C.int) return C.int\n    is\n       Res : C.int;\n \n@@ -367,8 +357,7 @@ package body GNAT.Sockets.Thin is\n    function C_Socket\n      (Domain   : C.int;\n       Typ      : C.int;\n-      Protocol : C.int)\n-      return     C.int\n+      Protocol : C.int) return C.int\n    is\n       R   : C.int;\n       Val : aliased C.int := 1;\n@@ -416,7 +405,6 @@ package body GNAT.Sockets.Thin is\n \n    function Non_Blocking_Socket (S : C.int) return Boolean is\n       R : Boolean;\n-\n    begin\n       Task_Lock.Lock;\n       R := Is_Socket_In_Set (Non_Blocking_Sockets, S);\n@@ -433,7 +421,7 @@ package body GNAT.Sockets.Thin is\n       Address : In_Addr)\n    is\n    begin\n-      Sin.Sin_Addr   := Address;\n+      Sin.Sin_Addr := Address;\n    end Set_Address;\n \n    ----------------\n@@ -496,7 +484,9 @@ package body GNAT.Sockets.Thin is\n    -- Socket_Error_Message --\n    --------------------------\n \n-   function Socket_Error_Message (Errno : Integer) return String is\n+   function Socket_Error_Message\n+     (Errno : Integer) return C.Strings.chars_ptr\n+   is\n       use type Interfaces.C.Strings.chars_ptr;\n \n       C_Msg : C.Strings.chars_ptr;\n@@ -505,10 +495,10 @@ package body GNAT.Sockets.Thin is\n       C_Msg := C_Strerror (C.int (Errno));\n \n       if C_Msg = C.Strings.Null_Ptr then\n-         return \"Unknown system error\";\n+         return Unknown_System_Error;\n \n       else\n-         return C.Strings.Value (C_Msg);\n+         return C_Msg;\n       end if;\n    end Socket_Error_Message;\n "}, {"sha": "f8b7aca88c57affc360da29748edcfd3f13017b9", "filename": "gcc/ada/g-socthi.ads", "status": "modified", "additions": 36, "deletions": 64, "changes": 100, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fg-socthi.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fg-socthi.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-socthi.ads?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---              Copyright (C) 2001-2003 Ada Core Technologies, Inc.         --\n+--              Copyright (C) 2001-2004 Ada Core Technologies, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -61,7 +61,7 @@ package GNAT.Sockets.Thin is\n    function Socket_Errno return Integer renames GNAT.OS_Lib.Errno;\n    --  Returns last socket error number.\n \n-   function Socket_Error_Message (Errno : Integer) return String;\n+   function Socket_Error_Message (Errno : Integer) return C.Strings.chars_ptr;\n    --  Returns the error message string for the error number Errno. If\n    --  Errno is not known it returns \"Unknown system error\".\n \n@@ -198,172 +198,146 @@ package GNAT.Sockets.Thin is\n    function C_Accept\n      (S       : C.int;\n       Addr    : System.Address;\n-      Addrlen : access C.int)\n-      return    C.int;\n+      Addrlen : access C.int) return C.int;\n \n    function C_Bind\n      (S       : C.int;\n       Name    : System.Address;\n-      Namelen : C.int)\n-      return    C.int;\n+      Namelen : C.int) return C.int;\n \n    function C_Close\n-     (Fd   : C.int)\n-      return C.int;\n+     (Fd : C.int) return C.int;\n \n    function C_Connect\n      (S       : C.int;\n       Name    : System.Address;\n-      Namelen : C.int)\n-      return    C.int;\n+      Namelen : C.int) return C.int;\n \n    function C_Gethostbyaddr\n      (Addr : System.Address;\n       Len  : C.int;\n-      Typ  : C.int)\n-      return Hostent_Access;\n+      Typ  : C.int) return Hostent_Access;\n \n    function C_Gethostbyname\n-     (Name : C.char_array)\n-      return Hostent_Access;\n+     (Name : C.char_array) return Hostent_Access;\n \n    function C_Gethostname\n      (Name    : System.Address;\n-      Namelen : C.int)\n-      return    C.int;\n+      Namelen : C.int) return C.int;\n \n    function C_Getpeername\n      (S       : C.int;\n       Name    : System.Address;\n-      Namelen : access C.int)\n-      return    C.int;\n+      Namelen : access C.int) return C.int;\n \n    function C_Getservbyname\n      (Name  : C.char_array;\n-      Proto : C.char_array)\n-      return Servent_Access;\n+      Proto : C.char_array) return Servent_Access;\n \n    function C_Getservbyport\n      (Port  : C.int;\n-      Proto : C.char_array)\n-      return Servent_Access;\n+      Proto : C.char_array) return Servent_Access;\n \n    function C_Getsockname\n      (S       : C.int;\n       Name    : System.Address;\n-      Namelen : access C.int)\n-      return    C.int;\n+      Namelen : access C.int) return C.int;\n \n    function C_Getsockopt\n      (S       : C.int;\n       Level   : C.int;\n       Optname : C.int;\n       Optval  : System.Address;\n-      Optlen  : access C.int)\n-      return    C.int;\n+      Optlen  : access C.int) return C.int;\n \n    function C_Inet_Addr\n-     (Cp   : C.Strings.chars_ptr)\n-      return C.int;\n+     (Cp : C.Strings.chars_ptr) return C.int;\n \n    function C_Ioctl\n      (S    : C.int;\n       Req  : C.int;\n-      Arg  : Int_Access)\n-      return C.int;\n+      Arg  : Int_Access) return C.int;\n \n-   function C_Listen (S, Backlog : C.int) return C.int;\n+   function C_Listen\n+     (S       : C.int;\n+      Backlog : C.int) return C.int;\n \n    function C_Read\n      (Fd    : C.int;\n       Buf   : System.Address;\n-      Count : C.int)\n-      return  C.int;\n+      Count : C.int) return C.int;\n \n    function C_Readv\n      (Fd     : C.int;\n       Iov    : System.Address;\n-      Iovcnt : C.int)\n-      return   C.int;\n+      Iovcnt : C.int) return C.int;\n \n    function C_Recv\n      (S     : C.int;\n       Msg   : System.Address;\n       Len   : C.int;\n-      Flags : C.int)\n-      return  C.int;\n+      Flags : C.int) return C.int;\n \n    function C_Recvfrom\n      (S       : C.int;\n       Msg     : System.Address;\n       Len     : C.int;\n       Flags   : C.int;\n       From    : Sockaddr_In_Access;\n-      Fromlen : access C.int)\n-      return    C.int;\n+      Fromlen : access C.int) return C.int;\n \n    function C_Select\n      (Nfds      : C.int;\n       Readfds   : Fd_Set_Access;\n       Writefds  : Fd_Set_Access;\n       Exceptfds : Fd_Set_Access;\n-      Timeout   : Timeval_Access)\n-      return      C.int;\n+      Timeout   : Timeval_Access) return C.int;\n \n    function C_Send\n      (S     : C.int;\n       Msg   : System.Address;\n       Len   : C.int;\n-      Flags : C.int)\n-      return  C.int;\n+      Flags : C.int) return C.int;\n \n    function C_Sendto\n      (S     : C.int;\n       Msg   : System.Address;\n       Len   : C.int;\n       Flags : C.int;\n       To    : Sockaddr_In_Access;\n-      Tolen : C.int)\n-      return  C.int;\n+      Tolen : C.int) return C.int;\n \n    function C_Setsockopt\n      (S       : C.int;\n       Level   : C.int;\n       Optname : C.int;\n       Optval  : System.Address;\n-      Optlen  : C.int)\n-      return    C.int;\n+      Optlen  : C.int) return C.int;\n \n    function C_Shutdown\n-     (S    : C.int;\n-      How  : C.int)\n-      return C.int;\n+     (S   : C.int;\n+      How : C.int) return C.int;\n \n    function C_Socket\n      (Domain   : C.int;\n       Typ      : C.int;\n-      Protocol : C.int)\n-      return     C.int;\n+      Protocol : C.int) return C.int;\n \n    function C_Strerror\n-     (Errnum : C.int)\n-      return   C.Strings.chars_ptr;\n+     (Errnum : C.int) return C.Strings.chars_ptr;\n \n    function C_System\n-     (Command : System.Address)\n-      return    C.int;\n+     (Command : System.Address) return C.int;\n \n    function C_Write\n      (Fd    : C.int;\n       Buf   : System.Address;\n-      Count : C.int)\n-      return  C.int;\n+      Count : C.int) return C.int;\n \n    function C_Writev\n      (Fd     : C.int;\n       Iov    : System.Address;\n-      Iovcnt : C.int)\n-      return   C.int;\n+      Iovcnt : C.int) return C.int;\n \n    procedure Free_Socket_Set\n      (Set : Fd_Set_Access);\n@@ -386,8 +360,7 @@ package GNAT.Sockets.Thin is\n \n    function  Is_Socket_In_Set\n      (Set    : Fd_Set_Access;\n-      Socket : C.int)\n-     return Boolean;\n+      Socket : C.int) return Boolean;\n    --  Check whether Socket is in the socket set\n \n    procedure Last_Socket_In_Set\n@@ -400,8 +373,7 @@ package GNAT.Sockets.Thin is\n    --  set back to the real largest socket in the socket set.\n \n    function  New_Socket_Set\n-     (Set    : Fd_Set_Access)\n-     return   Fd_Set_Access;\n+     (Set : Fd_Set_Access) return Fd_Set_Access;\n    --  Allocate a new socket set which is a system-dependent structure\n    --  and initialize by copying Set if it is non-null, by making it\n    --  empty otherwise."}, {"sha": "f501d95fa8eacba2aecdc050598149c259794f10", "filename": "gcc/ada/impunit.adb", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fimpunit.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fimpunit.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fimpunit.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---           Copyright (C) 2000-2003 Free Software Foundation, Inc.         --\n+--           Copyright (C) 2000-2004 Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -229,6 +229,7 @@ package body Impunit is\n      \"g-regist\",    -- GNAT.Registry\n      \"g-regpat\",    -- GNAT.Regpat\n      \"g-semaph\",    -- GNAT.Semaphores\n+     \"g-sestin\",    -- GNAT.Secondary_Stack_Info\n      \"g-signal\",    -- GNAT.Signals\n      \"g-socket\",    -- GNAT.Sockets\n      \"g-souinf\",    -- GNAT.Source_Info"}, {"sha": "64ae4b7fcf1c904ca0dfe5abccf00232fc7b68ee", "filename": "gcc/ada/lib-xref.adb", "status": "modified", "additions": 15, "deletions": 4, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Flib-xref.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Flib-xref.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flib-xref.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1998-2003, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1998-2004, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -604,9 +604,7 @@ package body Lib.Xref is\n                      exit;\n                   end if;\n \n-               --  For a subtype, go to ancestor subtype. If it is a\n-               --  subtype created for a generic actual, not clear yet\n-               --  what is the right type to use ???\n+               --  For a subtype, go to ancestor subtype.\n \n                else\n                   Tref := Ancestor_Subtype (Tref);\n@@ -651,6 +649,19 @@ package body Lib.Xref is\n             if Sloc (Tref) = Standard_Location\n               or else Comes_From_Source (Tref)\n             then\n+               --  If the reference is a subtype created for a generic\n+               --  actual, go to actual directly, the inner subtype is\n+               --  not user visible.\n+\n+               if Nkind (Parent (Tref)) = N_Subtype_Declaration\n+                 and then not Comes_From_Source (Parent (Tref))\n+                 and then\n+                  (Is_Wrapper_Package (Scope (Tref))\n+                     or else Is_Generic_Instance (Scope (Tref)))\n+               then\n+                  Tref := Base_Type (Tref);\n+               end if;\n+\n                return;\n             end if;\n          end loop;"}, {"sha": "dd20d03b10dbd4f63c899da325214d8ec074ad6f", "filename": "gcc/ada/link.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Flink.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Flink.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flink.c?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -157,7 +157,7 @@ const char *object_library_extension = \".a\";\n #elif defined (__FreeBSD__)\n char *object_file_option = \"\";\n char *run_path_option = \"\";\n-char shared_libgnat_default = SHARED;\n+char shared_libgnat_default = STATIC;\n int link_max = 2147483647;\n unsigned char objlist_file_supported = 0;\n unsigned char using_gnu_linker = 0;"}, {"sha": "44c809d973810758bec5d8a028390fb0201ba962", "filename": "gcc/ada/par-ch3.adb", "status": "modified", "additions": 24, "deletions": 15, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fpar-ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fpar-ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar-ch3.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2004, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -2018,10 +2018,11 @@ package body Ch3 is\n    --  Error recovery: can raise Error_Resync\n \n    function P_Array_Type_Definition return Node_Id is\n-      Array_Loc  : Source_Ptr;\n-      Def_Node   : Node_Id;\n-      Subs_List  : List_Id;\n-      Scan_State : Saved_Scan_State;\n+      Array_Loc    : Source_Ptr;\n+      CompDef_Node : Node_Id;\n+      Def_Node     : Node_Id;\n+      Subs_List    : List_Id;\n+      Scan_State   : Saved_Scan_State;\n \n    begin\n       Array_Loc := Token_Ptr;\n@@ -2079,12 +2080,16 @@ package body Ch3 is\n       T_Right_Paren;\n       T_Of;\n \n+      CompDef_Node := New_Node (N_Component_Definition, Token_Ptr);\n+\n       if Token = Tok_Aliased then\n-         Set_Aliased_Present (Def_Node, True);\n+         Set_Aliased_Present (CompDef_Node, True);\n          Scan; -- past ALIASED\n       end if;\n \n-      Set_Subtype_Indication (Def_Node, P_Subtype_Indication);\n+      Set_Subtype_Indication (CompDef_Node, P_Subtype_Indication);\n+      Set_Component_Definition (Def_Node, CompDef_Node);\n+\n       return Def_Node;\n    end P_Array_Type_Definition;\n \n@@ -2728,11 +2733,12 @@ package body Ch3 is\n    --  items, do we need to add this capability sometime in the future ???\n \n    procedure P_Component_Items (Decls : List_Id) is\n-      Decl_Node  : Node_Id;\n-      Scan_State : Saved_Scan_State;\n-      Num_Idents : Nat;\n-      Ident      : Nat;\n-      Ident_Sloc : Source_Ptr;\n+      CompDef_Node : Node_Id;\n+      Decl_Node    : Node_Id;\n+      Scan_State   : Saved_Scan_State;\n+      Num_Idents   : Nat;\n+      Ident        : Nat;\n+      Ident_Sloc   : Source_Ptr;\n \n       Idents : array (Int range 1 .. 4096) of Entity_Id;\n       --  This array holds the list of defining identifiers. The upper bound\n@@ -2783,22 +2789,25 @@ package body Ch3 is\n                Scan;\n             end if;\n \n+            CompDef_Node := New_Node (N_Component_Definition, Token_Ptr);\n+\n             if Token_Name = Name_Aliased then\n                Check_95_Keyword (Tok_Aliased, Tok_Identifier);\n             end if;\n \n             if Token = Tok_Aliased then\n                Scan; -- past ALIASED\n-               Set_Aliased_Present (Decl_Node, True);\n+               Set_Aliased_Present (CompDef_Node, True);\n             end if;\n \n             if Token = Tok_Array then\n                Error_Msg_SC (\"anonymous arrays not allowed as components\");\n                raise Error_Resync;\n             end if;\n \n-            Set_Subtype_Indication (Decl_Node, P_Subtype_Indication);\n-            Set_Expression (Decl_Node, Init_Expr_Opt);\n+            Set_Subtype_Indication   (CompDef_Node, P_Subtype_Indication);\n+            Set_Component_Definition (Decl_Node, CompDef_Node);\n+            Set_Expression           (Decl_Node, Init_Expr_Opt);\n \n             if Ident > 1 then\n                Set_Prev_Ids (Decl_Node, True);"}, {"sha": "2d2c86a51db58c74668cbcdd7ee3c20cbbe6b3f6", "filename": "gcc/ada/sem.adb", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsem.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsem.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2004, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -574,6 +574,7 @@ package body Sem is\n            N_Compilation_Unit_Aux                   |\n            N_Component_Association                  |\n            N_Component_Clause                       |\n+           N_Component_Definition                   |\n            N_Component_List                         |\n            N_Constrained_Array_Definition           |\n            N_Decimal_Fixed_Point_Definition         |"}, {"sha": "e7fb9d494404b161779c92ff68146669ed25504c", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 32, "deletions": 21, "changes": 53, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2004, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -906,7 +906,8 @@ package body Sem_Ch3 is\n    begin\n       Generate_Definition (Id);\n       Enter_Name (Id);\n-      T := Find_Type_Of_Object (Subtype_Indication (N), N);\n+      T := Find_Type_Of_Object (Subtype_Indication (Component_Definition (N)),\n+                                N);\n \n       --  If the subtype is a constrained subtype of the enclosing record,\n       --  (which must have a partial view) the back-end does not handle\n@@ -916,15 +917,16 @@ package body Sem_Ch3 is\n       --  removed from discriminant constraints.\n \n       if Ekind (T) = E_Access_Subtype\n-        and then Is_Entity_Name (Subtype_Indication (N))\n+        and then Is_Entity_Name (Subtype_Indication (Component_Definition (N)))\n         and then Comes_From_Source (T)\n         and then Nkind (Parent (T)) = N_Subtype_Declaration\n         and then Etype (Directly_Designated_Type (T)) = Current_Scope\n       then\n          Rewrite\n-           (Subtype_Indication (N),\n+           (Subtype_Indication (Component_Definition (N)),\n              New_Copy_Tree (Subtype_Indication (Parent (T))));\n-         T := Find_Type_Of_Object (Subtype_Indication (N), N);\n+         T := Find_Type_Of_Object\n+                 (Subtype_Indication (Component_Definition (N)), N);\n       end if;\n \n       --  If the component declaration includes a default expression, then we\n@@ -944,7 +946,7 @@ package body Sem_Ch3 is\n       if Is_Indefinite_Subtype (T) and then Chars (Id) /= Name_uParent then\n          Error_Msg_N\n            (\"unconstrained subtype in component declaration\",\n-            Subtype_Indication (N));\n+            Subtype_Indication (Component_Definition (N)));\n \n       --  Components cannot be abstract, except for the special case of\n       --  the _Parent field (case of extending an abstract tagged type)\n@@ -954,9 +956,9 @@ package body Sem_Ch3 is\n       end if;\n \n       Set_Etype (Id, T);\n-      Set_Is_Aliased (Id, Aliased_Present (N));\n+      Set_Is_Aliased (Id, Aliased_Present (Component_Definition (N)));\n \n-      --  If the this component is private (or depends on a private type),\n+      --  If this component is private (or depends on a private type),\n       --  flag the record type to indicate that some operations are not\n       --  available.\n \n@@ -2727,7 +2729,7 @@ package body Sem_Ch3 is\n    ----------------------------\n \n    procedure Array_Type_Declaration (T : in out Entity_Id; Def : Node_Id) is\n-      Component_Def : constant Node_Id := Subtype_Indication (Def);\n+      Component_Def : constant Node_Id := Component_Definition (Def);\n       Element_Type  : Entity_Id;\n       Implicit_Base : Entity_Id;\n       Index         : Node_Id;\n@@ -2764,7 +2766,8 @@ package body Sem_Ch3 is\n          Nb_Index := Nb_Index + 1;\n       end loop;\n \n-      Element_Type := Process_Subtype (Component_Def, P, Related_Id, 'C');\n+      Element_Type := Process_Subtype (Subtype_Indication (Component_Def),\n+                                       P, Related_Id, 'C');\n \n       --  Constrained array case\n \n@@ -2830,7 +2833,7 @@ package body Sem_Ch3 is\n \n       Set_Component_Type (Base_Type (T), Element_Type);\n \n-      if Aliased_Present (Def) then\n+      if Aliased_Present (Component_Definition (Def)) then\n          Set_Has_Aliased_Components (Etype (T));\n       end if;\n \n@@ -2874,12 +2877,13 @@ package body Sem_Ch3 is\n \n       if Is_Indefinite_Subtype (Element_Type) then\n          Error_Msg_N\n-           (\"unconstrained element type in array declaration \",\n-            Component_Def);\n+           (\"unconstrained element type in array declaration\",\n+            Subtype_Indication (Component_Def));\n \n       elsif Is_Abstract (Element_Type) then\n-         Error_Msg_N (\"The type of a component cannot be abstract \",\n-              Component_Def);\n+         Error_Msg_N\n+           (\"The type of a component cannot be abstract\",\n+            Subtype_Indication (Component_Def));\n       end if;\n \n    end Array_Type_Declaration;\n@@ -2900,15 +2904,15 @@ package body Sem_Ch3 is\n       Discr_Con_Elist : Elist_Id;\n       Discr_Con_El    : Elmt_Id;\n \n-      Subt            : Entity_Id;\n+      Subt : Entity_Id;\n \n    begin\n       --  Set the designated type so it is available in case this is\n       --  an access to a self-referential type, e.g. a standard list\n       --  type with a next pointer. Will be reset after subtype is built.\n \n-      Set_Directly_Designated_Type (Derived_Type,\n-        Designated_Type (Parent_Type));\n+      Set_Directly_Designated_Type\n+        (Derived_Type, Designated_Type (Parent_Type));\n \n       Subt := Process_Subtype (S, N);\n \n@@ -5592,10 +5596,10 @@ package body Sem_Ch3 is\n                if Discrim_Present then\n                   null;\n \n-               elsif Nkind (Parent (Def)) = N_Component_Declaration\n+               elsif Nkind (Parent (Parent (Def))) = N_Component_Declaration\n                  and then\n                    Has_Per_Object_Constraint\n-                     (Defining_Identifier (Parent (Def)))\n+                     (Defining_Identifier (Parent (Parent (Def))))\n                then\n                   null;\n \n@@ -9525,11 +9529,18 @@ package body Sem_Ch3 is\n       Related_Nod : Node_Id) return Entity_Id\n    is\n       Def_Kind : constant Node_Kind := Nkind (Obj_Def);\n-      P        : constant Node_Id   := Parent (Obj_Def);\n+      P        : Node_Id := Parent (Obj_Def);\n       T        : Entity_Id;\n       Nam      : Name_Id;\n \n    begin\n+      --  If the parent is a component_definition node we climb to the\n+      --  component_declaration node\n+\n+      if Nkind (P) = N_Component_Definition then\n+         P := Parent (P);\n+      end if;\n+\n       --  Case of an anonymous array subtype\n \n       if Def_Kind = N_Constrained_Array_Definition"}, {"sha": "7c408bf33d3c36a06edbb65abd2a9b4d9d39411c", "filename": "gcc/ada/sem_ch7.adb", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsem_ch7.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsem_ch7.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch7.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2004, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -1652,6 +1652,17 @@ package body Sem_Ch7 is\n \n          Set_Is_Immediately_Visible (Id, False);\n \n+         --  If this is a private type with a full view (for example a local\n+         --  subtype of a private type declared elsewhere), ensure that the\n+         --  full view is also removed from visibility: it may be exposed when\n+         --  swapping views in an instantiation.\n+\n+         if Is_Type (Id)\n+           and then Present (Full_View (Id))\n+         then\n+            Set_Is_Immediately_Visible (Full_View (Id), False);\n+         end if;\n+\n          if Is_Tagged_Type (Id) and then Ekind (Id) = E_Record_Type then\n             Check_Abstract_Overriding (Id);\n          end if;"}, {"sha": "c6a9862daf6da2ca95b5f478a25c834b90f2bae5", "filename": "gcc/ada/sem_dist.adb", "status": "modified", "additions": 30, "deletions": 19, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsem_dist.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsem_dist.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_dist.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2004, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -427,44 +427,55 @@ package body Sem_Dist is\n                       Defining_Identifier =>\n                         Make_Defining_Identifier (Loc,\n                           Chars => Name_Ras),\n-                      Subtype_Indication =>\n-                        New_Occurrence_Of\n-                          (RTE (RE_Unsigned_64), Loc)),\n+                      Component_Definition =>\n+                        Make_Component_Definition (Loc,\n+                          Aliased_Present    => False,\n+                          Subtype_Indication =>\n+                            New_Occurrence_Of (RTE (RE_Unsigned_64), Loc))),\n \n                     Make_Component_Declaration (Loc,\n                       Defining_Identifier =>\n                         Make_Defining_Identifier (Loc,\n                           Chars => Name_Origin),\n-                      Subtype_Indication =>\n-                        New_Reference_To\n-                          (Standard_Integer,\n-                           Loc)),\n+                      Component_Definition =>\n+                        Make_Component_Definition (Loc,\n+                          Aliased_Present    => False,\n+                          Subtype_Indication =>\n+                            New_Reference_To\n+                              (Standard_Integer, Loc))),\n \n                     Make_Component_Declaration (Loc,\n                       Defining_Identifier =>\n                         Make_Defining_Identifier (Loc,\n                           Chars => Name_Receiver),\n-                      Subtype_Indication =>\n-                        New_Reference_To\n-                          (RTE (RE_Unsigned_64), Loc)),\n+                      Component_Definition =>\n+                        Make_Component_Definition (Loc,\n+                          Aliased_Present    => False,\n+                          Subtype_Indication =>\n+                            New_Reference_To\n+                              (RTE (RE_Unsigned_64), Loc))),\n \n                     Make_Component_Declaration (Loc,\n                       Defining_Identifier =>\n                         Make_Defining_Identifier (Loc,\n                           Chars => Name_Subp_Id),\n-                      Subtype_Indication =>\n-                        New_Reference_To\n-                          (Standard_Natural,\n-                           Loc)),\n+                      Component_Definition =>\n+                        Make_Component_Definition (Loc,\n+                          Aliased_Present    => False,\n+                          Subtype_Indication =>\n+                            New_Reference_To\n+                              (Standard_Natural, Loc))),\n \n                     Make_Component_Declaration (Loc,\n                       Defining_Identifier =>\n                         Make_Defining_Identifier (Loc,\n                           Chars => Name_Async),\n-                      Subtype_Indication =>\n-                        New_Reference_To\n-                          (Standard_Boolean,\n-                           Loc))))));\n+                      Component_Definition =>\n+                        Make_Component_Definition (Loc,\n+                          Aliased_Present    => False,\n+                          Subtype_Indication =>\n+                            New_Reference_To\n+                              (Standard_Boolean, Loc)))))));\n \n       Insert_After (N, New_Type_Decl);\n       Set_Equivalent_Type (User_Type, Fat_Type);"}, {"sha": "c9fec25348bbe6a8b88fa2a48b3e17fc73b0bf81", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -9375,7 +9375,7 @@ package body Sem_Prag is\n \n                      declare\n                         Sindic : constant Node_Id :=\n-                                   Subtype_Indication (Comp);\n+                          Subtype_Indication (Component_Definition (Comp));\n \n                      begin\n                         if Nkind (Sindic) = N_Subtype_Indication then"}, {"sha": "0fb3fdf8c2b952854a8c78993b91c5fe4d77425c", "filename": "gcc/ada/sem_res.adb", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsem_res.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsem_res.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_res.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -382,7 +382,7 @@ package body Sem_Res is\n \n          if Nkind (P) = N_Range_Constraint\n            and then Nkind (Parent (P)) = N_Subtype_Indication\n-           and then Nkind (Parent (Parent (P))) = N_Component_Declaration\n+           and then Nkind (Parent (Parent (P))) = N_Component_Definition\n          then\n             Error_Msg_N (\"discriminant cannot constrain scalar type\", N);\n \n@@ -409,7 +409,7 @@ package body Sem_Res is\n               and then not\n                 (Nkind (Parent (P)) = N_Subtype_Indication\n                  and then\n-                  (Nkind (Parent (Parent (P))) = N_Component_Declaration\n+                  (Nkind (Parent (Parent (P))) = N_Component_Definition\n                    or else Nkind (Parent (Parent (P))) = N_Subtype_Declaration)\n                   and then Paren_Count (N) = 0)\n             then\n@@ -559,7 +559,7 @@ package body Sem_Res is\n \n          if (Nkind (P) = N_Subtype_Indication\n               and then\n-                (Nkind (Parent (P)) = N_Component_Declaration\n+                (Nkind (Parent (P)) = N_Component_Definition\n                    or else\n                  Nkind (Parent (P)) = N_Derived_Type_Definition)\n               and then D = Constraint (P))"}, {"sha": "0c52cc30c304b29fe8cd33dffea0c164ee347d3f", "filename": "gcc/ada/sem_util.adb", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsem_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsem_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_util.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2004, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -3219,8 +3219,9 @@ package body Sem_Util is\n       ------------------------------\n \n       function Has_Dependent_Constraint (Comp : Entity_Id) return Boolean is\n-         Comp_Decl  : constant Node_Id   := Parent (Comp);\n-         Subt_Indic : constant Node_Id   := Subtype_Indication (Comp_Decl);\n+         Comp_Decl  : constant Node_Id := Parent (Comp);\n+         Subt_Indic : constant Node_Id :=\n+           Subtype_Indication (Component_Definition (Comp_Decl));\n          Constr     : Node_Id;\n          Assn       : Node_Id;\n "}, {"sha": "9791e20fd6cac3d0592fb2fde011c892809a0edd", "filename": "gcc/ada/sinfo.adb", "status": "modified", "additions": 29, "deletions": 17, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsinfo.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsinfo.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsinfo.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2004, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -170,10 +170,8 @@ package body Sinfo is\n       (N : Node_Id) return Boolean is\n    begin\n       pragma Assert (False\n-        or else NT (N).Nkind = N_Component_Declaration\n-        or else NT (N).Nkind = N_Constrained_Array_Definition\n-        or else NT (N).Nkind = N_Object_Declaration\n-        or else NT (N).Nkind = N_Unconstrained_Array_Definition);\n+        or else NT (N).Nkind = N_Component_Definition\n+        or else NT (N).Nkind = N_Object_Declaration);\n       return Flag4 (N);\n    end Aliased_Present;\n \n@@ -376,6 +374,16 @@ package body Sinfo is\n       return List3 (N);\n    end Component_Clauses;\n \n+   function Component_Definition\n+      (N : Node_Id) return Node_Id is\n+   begin\n+      pragma Assert (False\n+        or else NT (N).Nkind = N_Component_Declaration\n+        or else NT (N).Nkind = N_Constrained_Array_Definition\n+        or else NT (N).Nkind = N_Unconstrained_Array_Definition);\n+      return Node4 (N);\n+   end Component_Definition;\n+\n    function Component_Items\n       (N : Node_Id) return List_Id is\n    begin\n@@ -2293,12 +2301,10 @@ package body Sinfo is\n    begin\n       pragma Assert (False\n         or else NT (N).Nkind = N_Access_To_Object_Definition\n-        or else NT (N).Nkind = N_Component_Declaration\n-        or else NT (N).Nkind = N_Constrained_Array_Definition\n+        or else NT (N).Nkind = N_Component_Definition\n         or else NT (N).Nkind = N_Derived_Type_Definition\n         or else NT (N).Nkind = N_Private_Extension_Declaration\n-        or else NT (N).Nkind = N_Subtype_Declaration\n-        or else NT (N).Nkind = N_Unconstrained_Array_Definition);\n+        or else NT (N).Nkind = N_Subtype_Declaration);\n       return Node5 (N);\n    end Subtype_Indication;\n \n@@ -2612,10 +2618,8 @@ package body Sinfo is\n       (N : Node_Id; Val : Boolean := True) is\n    begin\n       pragma Assert (False\n-        or else NT (N).Nkind = N_Component_Declaration\n-        or else NT (N).Nkind = N_Constrained_Array_Definition\n-        or else NT (N).Nkind = N_Object_Declaration\n-        or else NT (N).Nkind = N_Unconstrained_Array_Definition);\n+        or else NT (N).Nkind = N_Component_Definition\n+        or else NT (N).Nkind = N_Object_Declaration);\n       Set_Flag4 (N, Val);\n    end Set_Aliased_Present;\n \n@@ -2818,6 +2822,16 @@ package body Sinfo is\n       Set_List3_With_Parent (N, Val);\n    end Set_Component_Clauses;\n \n+   procedure Set_Component_Definition\n+      (N : Node_Id; Val : Node_Id) is\n+   begin\n+      pragma Assert (False\n+        or else NT (N).Nkind = N_Component_Declaration\n+        or else NT (N).Nkind = N_Constrained_Array_Definition\n+        or else NT (N).Nkind = N_Unconstrained_Array_Definition);\n+      Set_Node4_With_Parent (N, Val);\n+   end Set_Component_Definition;\n+\n    procedure Set_Component_Items\n       (N : Node_Id; Val : List_Id) is\n    begin\n@@ -4725,12 +4739,10 @@ package body Sinfo is\n    begin\n       pragma Assert (False\n         or else NT (N).Nkind = N_Access_To_Object_Definition\n-        or else NT (N).Nkind = N_Component_Declaration\n-        or else NT (N).Nkind = N_Constrained_Array_Definition\n+        or else NT (N).Nkind = N_Component_Definition\n         or else NT (N).Nkind = N_Derived_Type_Definition\n         or else NT (N).Nkind = N_Private_Extension_Declaration\n-        or else NT (N).Nkind = N_Subtype_Declaration\n-        or else NT (N).Nkind = N_Unconstrained_Array_Definition);\n+        or else NT (N).Nkind = N_Subtype_Declaration);\n       Set_Node5_With_Parent (N, Val);\n    end Set_Subtype_Indication;\n "}, {"sha": "97f55c01d9c73891ea57bc14b81bcf6cdb8ac5c6", "filename": "gcc/ada/sinfo.ads", "status": "modified", "additions": 18, "deletions": 11, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsinfo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsinfo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsinfo.ads?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2004, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -2275,8 +2275,7 @@ package Sinfo is\n       --  N_Unconstrained_Array_Definition\n       --  Sloc points to ARRAY\n       --  Subtype_Marks (List2)\n-      --  Aliased_Present (Flag4) from component definition\n-      --  Subtype_Indication (Node5) from component definition\n+      --  Component_Definition (Node4)\n \n       -----------------------------------\n       -- 3.6  Index Subtype Definition --\n@@ -2304,8 +2303,7 @@ package Sinfo is\n       --  N_Constrained_Array_Definition\n       --  Sloc points to ARRAY\n       --  Discrete_Subtype_Definitions (List2)\n-      --  Aliased_Present (Flag4) from component definition\n-      --  Subtype_Indication (Node5) from component definition\n+      --  Component_Definition (Node4)\n \n       --------------------------------------\n       -- 3.6  Discrete Subtype Definition --\n@@ -2320,16 +2318,17 @@ package Sinfo is\n \n       --  COMPONENT_DEFINITION ::= [aliased] SUBTYPE_INDICATION\n \n-      --  There is no explicit node in the tree for a component definition.\n-      --  Instead the subtype indication appears directly, and the ALIASED\n-      --  indication (Aliased_Present flag) is in the parent node.\n-\n       --  Note: although the syntax does not permit a component definition to\n       --  be an anonymous array (and the parser will diagnose such an attempt\n       --  with an appropriate message), it is possible for anonymous arrays\n       --  to appear as component definitions. The semantics and back end handle\n       --  this case properly, and the expander in fact generates such cases.\n \n+      --  N_Component_Definition\n+      --  Sloc points to ALIASED or to first token of subtype mark\n+      --  Aliased_Present (Flag4)\n+      --  Subtype_Indication (Node5)\n+\n       -----------------------------\n       -- 3.6.1  Index Constraint --\n       -----------------------------\n@@ -2537,8 +2536,7 @@ package Sinfo is\n       --  N_Component_Declaration\n       --  Sloc points to first identifier\n       --  Defining_Identifier (Node1)\n-      --  Aliased_Present (Flag4) from component definition\n-      --  Subtype_Indication (Node5) from component definition\n+      --  Component_Definition (Node4)\n       --  Expression (Node3) (set to Empty if no default expression)\n       --  More_Ids (Flag5) (set to False if no more identifiers in list)\n       --  Prev_Ids (Flag6) (set to False if no previous identifiers in list)\n@@ -6651,6 +6649,7 @@ package Sinfo is\n       N_Compilation_Unit,\n       N_Compilation_Unit_Aux,\n       N_Component_Association,\n+      N_Component_Definition,\n       N_Component_List,\n       N_Derived_Type_Definition,\n       N_Decimal_Fixed_Point_Definition,\n@@ -6968,6 +6967,9 @@ package Sinfo is\n    function Component_Clauses\n      (N : Node_Id) return List_Id;    -- List3\n \n+   function Component_Definition\n+     (N : Node_Id) return Node_Id;    -- Node4\n+\n    function Component_Items\n      (N : Node_Id) return List_Id;    -- List3\n \n@@ -7748,6 +7750,9 @@ package Sinfo is\n    procedure Set_Component_Clauses\n      (N : Node_Id; Val : List_Id);            -- List3\n \n+   procedure Set_Component_Definition\n+     (N : Node_Id; Val : Node_Id);            -- Node4\n+\n    procedure Set_Component_Items\n      (N : Node_Id; Val : List_Id);            -- List3\n \n@@ -8471,6 +8476,7 @@ package Sinfo is\n    pragma Inline (Compile_Time_Known_Aggregate);\n    pragma Inline (Component_Associations);\n    pragma Inline (Component_Clauses);\n+   pragma Inline (Component_Definition);\n    pragma Inline (Component_Items);\n    pragma Inline (Component_List);\n    pragma Inline (Component_Name);\n@@ -8728,6 +8734,7 @@ package Sinfo is\n    pragma Inline (Set_Compile_Time_Known_Aggregate);\n    pragma Inline (Set_Component_Associations);\n    pragma Inline (Set_Component_Clauses);\n+   pragma Inline (Set_Component_Definition);\n    pragma Inline (Set_Component_Items);\n    pragma Inline (Set_Component_List);\n    pragma Inline (Set_Component_Name);"}, {"sha": "a5031aae8a8707c7cd1a042f0f49a7dc308fcd58", "filename": "gcc/ada/sprint.adb", "status": "modified", "additions": 11, "deletions": 18, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsprint.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fsprint.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsprint.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2003, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2004, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -949,15 +949,17 @@ package body Sprint is\n             Sprint_Node (Last_Bit (Node));\n             Write_Char (';');\n \n+         when N_Component_Definition =>\n+            Set_Debug_Sloc;\n+            if Aliased_Present (Node) then\n+               Write_Str_With_Col_Check (\"aliased \");\n+            end if;\n+            Sprint_Node (Subtype_Indication (Node));\n+\n          when N_Component_Declaration =>\n             if Write_Indent_Identifiers_Sloc (Node) then\n                Write_Str (\" : \");\n-\n-               if Aliased_Present (Node) then\n-                  Write_Str_With_Col_Check (\"aliased \");\n-               end if;\n-\n-               Sprint_Node (Subtype_Indication (Node));\n+               Sprint_Node (Component_Definition (Node));\n \n                if Present (Expression (Node)) then\n                   Write_Str (\" := \");\n@@ -1010,11 +1012,7 @@ package body Sprint is\n             Sprint_Paren_Comma_List (Discrete_Subtype_Definitions (Node));\n             Write_Str (\" of \");\n \n-            if Aliased_Present (Node) then\n-               Write_Str_With_Col_Check (\"aliased \");\n-            end if;\n-\n-            Sprint_Node (Subtype_Indication (Node));\n+            Sprint_Node (Component_Definition (Node));\n \n          when N_Decimal_Fixed_Point_Definition =>\n             Write_Str_With_Col_Check_Sloc (\" delta \");\n@@ -2439,12 +2437,7 @@ package body Sprint is\n             end;\n \n             Write_Str (\") of \");\n-\n-            if Aliased_Present (Node) then\n-               Write_Str_With_Col_Check (\"aliased \");\n-            end if;\n-\n-            Sprint_Node (Subtype_Indication (Node));\n+            Sprint_Node (Component_Definition (Node));\n \n          when N_Unused_At_Start | N_Unused_At_End =>\n             Write_Indent_Str (\"***** Error, unused node encountered *****\");"}, {"sha": "92934bc3b7c3bb8220b526d133b13c72c76a9a1f", "filename": "gcc/ada/trans.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ftrans.c?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -2805,9 +2805,8 @@ tree_transform (Node_Id gnat_node)\n \t  case N_Expanded_Name:\n \t  case N_Attribute_Reference:\n \t    if (Is_Eliminated (Entity (Name (gnat_node))))\n-\t      post_error_ne (\"cannot call eliminated subprogram &!\",\n-\t\t\t     gnat_node, Entity (Name (gnat_node)));\n-\t  }\n+\t      Eliminate_Error_Msg (gnat_node, Entity (Name (gnat_node)));\n+          }\n \n \tif (TREE_CODE (gnu_subprog_type) != FUNCTION_TYPE)\n \t  gigi_abort (317);"}, {"sha": "7b42274316e717a95a10f6bfa9c41735dd40f751", "filename": "gcc/ada/usage.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fusage.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a397db9637a45274b4acc4ebcba14ae3506d5b80/gcc%2Fada%2Fusage.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fusage.adb?ref=a397db9637a45274b4acc4ebcba14ae3506d5b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                B o d y                                   --\n --                                                                          --\n---          Copyright (C) 1992-2003, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2004, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -339,7 +339,7 @@ begin\n \n    Write_Switch_Char (\"wxx\");\n    Write_Line (\"Enable selected warning modes, xx = list of parameters:\");\n-   Write_Line (\"        a    turn on all optional warnings (except b,d,h,l)\");\n+   Write_Line (\"        a    turn on all optional warnings (except d,h,l)\");\n    Write_Line (\"        A    turn off all optional warnings\");\n    Write_Line (\"        c    turn on warnings for constant conditional\");\n    Write_Line (\"        C*   turn off warnings for constant conditional\");"}]}