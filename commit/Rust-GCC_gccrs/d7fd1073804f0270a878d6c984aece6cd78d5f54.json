{"sha": "d7fd1073804f0270a878d6c984aece6cd78d5f54", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDdmZDEwNzM4MDRmMDI3MGE4NzhkNmM5ODRhZWNlNmNkNzhkNWY1NA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-01-20T01:33:32Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-01-20T01:33:32Z"}, "message": "Declare alloca here.\n\nDo most of the VAX C-specific set up for DEC C.\n#if DEC C, undefine QSORT_WORKAROUND and qsort.\n\nFrom-SVN: r13530", "tree": {"sha": "5dca5257b74d08b14e855e814c715df24dd7ce91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5dca5257b74d08b14e855e814c715df24dd7ce91"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d7fd1073804f0270a878d6c984aece6cd78d5f54", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7fd1073804f0270a878d6c984aece6cd78d5f54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d7fd1073804f0270a878d6c984aece6cd78d5f54", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7fd1073804f0270a878d6c984aece6cd78d5f54/comments", "author": null, "committer": null, "parents": [{"sha": "825d29359def0401e76c670c7eb7d8e401fd4ce6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/825d29359def0401e76c670c7eb7d8e401fd4ce6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/825d29359def0401e76c670c7eb7d8e401fd4ce6"}], "stats": {"total": 27, "additions": 24, "deletions": 3}, "files": [{"sha": "a880491d4493cbbc6546c9524526aa02bc23e82c", "filename": "gcc/config/vax/xm-vms.h", "status": "modified", "additions": 24, "deletions": 3, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7fd1073804f0270a878d6c984aece6cd78d5f54/gcc%2Fconfig%2Fvax%2Fxm-vms.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7fd1073804f0270a878d6c984aece6cd78d5f54/gcc%2Fconfig%2Fvax%2Fxm-vms.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvax%2Fxm-vms.h?ref=d7fd1073804f0270a878d6c984aece6cd78d5f54", "patch": "@@ -1,5 +1,5 @@\n /* Configuration for GNU C-compiler for Vax.\n-   Copyright (C) 1987, 1994, 1995, 1996 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 1994, 1995, 1996, 1997 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -22,7 +22,7 @@ Boston, MA 02111-1307, USA.  */\n #define FALSE 0\n #define TRUE 1\n \n-#ifdef VAXC\n+#if defined(VAXC) || defined(__DECC)\n /* if compiling with VAXC, need to fix problem with <stdio.h>\n    which defines a macro called FILE_TYPE that breaks \"tree.h\".\n    Fortunately it uses #ifndef to suppress multiple inclusions.\n@@ -128,7 +128,7 @@ Boston, MA 02111-1307, USA.  */\n \n #define HAVE_VPRINTF\n \f\n-#ifdef VAXC\n+#if defined(VAXC) || defined(__DECC)\n /* Customizations/kludges for building with DEC's VAX C compiler\n    rather than GCC.  */\n #define NO_SYS_PARAMS_H\t\t/* don't have <sys/params.h> */\n@@ -179,3 +179,24 @@ Boston, MA 02111-1307, USA.  */\n #ifdef QSORT_WORKAROUND\n #define qsort not_qsort\n #endif\n+\n+#ifdef __DECC\n+/* DECC$SHR doesn't have VAXCRTL's bugs.  */\n+#undef QSORT_WORKAROUND\n+#undef qsort\n+/* Avoid a lot of informational level diagnostics about implicitly\n+   declared functions.  */\n+#include <stdlib.h>\n+#include <string.h>\n+/* this is for genopinit.c */\n+ #pragma message disable (undefescap)\n+#endif\n+\n+#if defined(USE_C_ALLOCA) && !defined(alloca)\n+/* Declare alloca() using similar logic to that in alloca.c.  */\n+#ifdef __STDC__\n+extern void *alloca(unsigned);\n+#else\n+extern char *alloca();\n+#endif\n+#endif"}]}