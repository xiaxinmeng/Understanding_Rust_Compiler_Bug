{"sha": "9ba5e5fceeff0d9a752b8c0a00344b3a187d08bb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWJhNWU1ZmNlZWZmMGQ5YTc1MmI4YzBhMDAzNDRiM2ExODdkMDhiYg==", "commit": {"author": {"name": "Claudiu Zissulescu", "email": "claziss@synopsys.com", "date": "2018-04-23T09:55:14Z"}, "committer": {"name": "Claudiu Zissulescu", "email": "claziss@gcc.gnu.org", "date": "2018-04-23T09:55:14Z"}, "message": "[ARC] Fix FLS, SETI patterns.\n\nClaudiu Zissulescu  <claziss@synopsys.com>\n\n\t* config/arc/arc.md (\"vunspec\"): Delete it, unify all the unspec\n\tenums into a single definition.\n\t(fls): Fix predicates and printing.\n\t(seti): Likewise.\n\nFrom-SVN: r259558", "tree": {"sha": "0a0acdfb013a4594fd3eac4b4293a250dfe477eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0a0acdfb013a4594fd3eac4b4293a250dfe477eb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9ba5e5fceeff0d9a752b8c0a00344b3a187d08bb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ba5e5fceeff0d9a752b8c0a00344b3a187d08bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ba5e5fceeff0d9a752b8c0a00344b3a187d08bb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ba5e5fceeff0d9a752b8c0a00344b3a187d08bb/comments", "author": {"login": "claziss", "id": 2761368, "node_id": "MDQ6VXNlcjI3NjEzNjg=", "avatar_url": "https://avatars.githubusercontent.com/u/2761368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/claziss", "html_url": "https://github.com/claziss", "followers_url": "https://api.github.com/users/claziss/followers", "following_url": "https://api.github.com/users/claziss/following{/other_user}", "gists_url": "https://api.github.com/users/claziss/gists{/gist_id}", "starred_url": "https://api.github.com/users/claziss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/claziss/subscriptions", "organizations_url": "https://api.github.com/users/claziss/orgs", "repos_url": "https://api.github.com/users/claziss/repos", "events_url": "https://api.github.com/users/claziss/events{/privacy}", "received_events_url": "https://api.github.com/users/claziss/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "31d2e01ad472f11ebfd9cc3405238e90cf25a09c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31d2e01ad472f11ebfd9cc3405238e90cf25a09c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31d2e01ad472f11ebfd9cc3405238e90cf25a09c"}], "stats": {"total": 21, "additions": 12, "deletions": 9}, "files": [{"sha": "4dcf45ec9f196772e24624b080b0cc9a920e1777", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ba5e5fceeff0d9a752b8c0a00344b3a187d08bb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ba5e5fceeff0d9a752b8c0a00344b3a187d08bb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9ba5e5fceeff0d9a752b8c0a00344b3a187d08bb", "patch": "@@ -1,3 +1,10 @@\n+2018-04-23  Claudiu Zissulescu  <claziss@synopsys.com>\n+\n+\t* config/arc/arc.md (\"vunspec\"): Delete it, unify all the unspec\n+\tenums into a single definition.\n+\t(fls): Fix predicates and printing.\n+\t(seti): Likewise.\n+\n 2018-04-23  Claudiu Zissulescu  <claziss@synopsys.com>\n \n \t* config/arc/arc-protos.h (check_if_valid_sleep_operand): Remove."}, {"sha": "d19e99daca72136ac52be5dbb6235fcbd7eb4f85", "filename": "gcc/config/arc/arc.md", "status": "modified", "additions": 5, "deletions": 9, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ba5e5fceeff0d9a752b8c0a00344b3a187d08bb/gcc%2Fconfig%2Farc%2Farc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ba5e5fceeff0d9a752b8c0a00344b3a187d08bb/gcc%2Fconfig%2Farc%2Farc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Farc.md?ref=9ba5e5fceeff0d9a752b8c0a00344b3a187d08bb", "patch": "@@ -136,9 +136,7 @@\n   UNSPEC_ARC_VMPY2H\n   UNSPEC_ARC_VMPY2HU\n   UNSPEC_ARC_STKTIE\n-  ])\n \n-(define_c_enum \"vunspec\" [\n   VUNSPEC_ARC_RTIE\n   VUNSPEC_ARC_SYNC\n   VUNSPEC_ARC_BRK\n@@ -5802,21 +5800,19 @@\n    })\n \n (define_insn \"fls\"\n-  [(set (match_operand:SI  0 \"dest_reg_operand\" \"=w,w\")\n-\t(unspec:SI [(match_operand:SI 1 \"general_operand\" \"cL,Cal\")]\n+  [(set (match_operand:SI  0 \"register_operand\" \"=r,r\")\n+\t(unspec:SI [(match_operand:SI 1 \"nonmemory_operand\" \"rL,Cal\")]\n \t\t\t    UNSPEC_ARC_FLS))]\n   \"TARGET_NORM && TARGET_V2\"\n-  \"@\n-   fls \\t%0, %1\n-   fls \\t%0, %1\"\n+  \"fls\\\\t%0,%1\"\n   [(set_attr \"length\" \"4,8\")\n    (set_attr \"type\" \"two_cycle_core,two_cycle_core\")])\n \n (define_insn \"seti\"\n-  [(unspec_volatile:SI [(match_operand:SI 0 \"general_operand\" \"rL\")]\n+  [(unspec_volatile:SI [(match_operand:SI 0 \"nonmemory_operand\" \"rL\")]\n \t\t       VUNSPEC_ARC_SETI)]\n   \"TARGET_V2\"\n-  \"seti  %0\"\n+  \"seti\\\\t%0\"\n   [(set_attr \"length\" \"4\")\n    (set_attr \"type\" \"misc\")])\n "}]}