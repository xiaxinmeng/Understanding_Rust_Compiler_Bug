{"sha": "ab34041dfea64dec723185694ad33af0b8d76f78", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWIzNDA0MWRmZWE2NGRlYzcyMzE4NTY5NGFkMzNhZjBiOGQ3NmY3OA==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@nildram.co.uk", "date": "2007-07-27T07:16:15Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2007-07-27T07:16:15Z"}, "message": "2007-xx-xx  Richard Sandiford  <rsandifo@nildram.co.uk>\n\t    Richard Guenther <rguenther@suse.de>\n\ngcc/\n\t* df.h (df_mw_hardreg): Turn df_ref_type and df_ref_flags\n\tinto bitfields.\n\t(df_ref): Likewise.  Put regno with other integer fields.\n\nFrom-SVN: r126971", "tree": {"sha": "ed681cbfd759f2d6dd32ffc8eebe3331601655db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed681cbfd759f2d6dd32ffc8eebe3331601655db"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ab34041dfea64dec723185694ad33af0b8d76f78", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab34041dfea64dec723185694ad33af0b8d76f78", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab34041dfea64dec723185694ad33af0b8d76f78", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab34041dfea64dec723185694ad33af0b8d76f78/comments", "author": null, "committer": null, "parents": [{"sha": "6f5c15202db6f8e32c0b0005fb929b437841378b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f5c15202db6f8e32c0b0005fb929b437841378b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f5c15202db6f8e32c0b0005fb929b437841378b"}], "stats": {"total": 24, "additions": 19, "deletions": 5}, "files": [{"sha": "db34fcd82249917e63532504fb55473bfbd6cede", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab34041dfea64dec723185694ad33af0b8d76f78/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab34041dfea64dec723185694ad33af0b8d76f78/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ab34041dfea64dec723185694ad33af0b8d76f78", "patch": "@@ -1,3 +1,9 @@\n+2007-07-27  Richard Sandiford  <rsandifo@nildram.co.uk>\n+\n+\t* df.h (df_mw_hardreg): Turn df_ref_type and df_ref_flags\n+\tinto bitfields.\n+\t(df_ref): Likewise.  Put regno with other integer fields.\n+\n 2007-07-27  Richard Sandiford  <rsandifo@nildram.co.uk>\n \n \t* df.h (df_mw_hardreg): Remove \"loc\" field."}, {"sha": "25472861cefb43278b9b56f8a0e864e395c57a95", "filename": "gcc/df.h", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab34041dfea64dec723185694ad33af0b8d76f78/gcc%2Fdf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab34041dfea64dec723185694ad33af0b8d76f78/gcc%2Fdf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdf.h?ref=ab34041dfea64dec723185694ad33af0b8d76f78", "patch": "@@ -311,8 +311,12 @@ struct dataflow\n struct df_mw_hardreg\n {\n   rtx mw_reg;                   /* The multiword hardreg.  */ \n-  enum df_ref_type type;        /* Used to see if the ref is read or write.  */\n-  enum df_ref_flags flags;\t/* Various flags.  */\n+  /* These two bitfields are intentially oversized, in the hope that\n+     accesses to 16-bit fields will usually be quicker.  */\n+  ENUM_BITFIELD(df_ref_type) type : 16;\n+\t\t\t\t/* Used to see if the ref is read or write.  */\n+  ENUM_BITFIELD(df_ref_flags) flags : 16;\n+\t\t\t\t/* Various flags.  */\n   unsigned int start_regno;     /* First word of the multi word subreg.  */\n   unsigned int end_regno;       /* Last word of the multi word subreg.  */\n   unsigned int mw_order;        /* Same as df_ref.ref_order.  */\n@@ -341,7 +345,6 @@ struct df_insn_info\n struct df_ref\n {\n   rtx reg;\t\t\t/* The register referenced.  */\n-  unsigned int regno;           /* The register number referenced.  */\n   basic_block bb;               /* Basic block containing the instruction. */\n \n   /* Insn containing ref. This will be null if this is an artificial\n@@ -356,8 +359,13 @@ struct df_ref\n      used to totally order the refs in an insn.  */\n   unsigned int ref_order;\n \n-  enum df_ref_type type;\t/* Type of ref.  */\n-  enum df_ref_flags flags;\t/* Various flags.  */\n+  unsigned int regno;\t\t/* The register number referenced.  */\n+  /* These two bitfields are intentially oversized, in the hope that\n+     accesses to 16-bit fields will usually be quicker.  */\n+  ENUM_BITFIELD(df_ref_type) type : 16;\n+\t\t\t\t/* Type of ref.  */\n+  ENUM_BITFIELD(df_ref_flags) flags : 16;\n+\t\t\t\t/* Various flags.  */\n \n   /* For each regno, there are three chains of refs, one for the uses,\n      the eq_uses and the defs.  These chains go thru the refs"}]}