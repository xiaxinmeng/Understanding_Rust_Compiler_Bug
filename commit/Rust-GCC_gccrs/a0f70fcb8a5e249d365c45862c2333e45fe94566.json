{"sha": "a0f70fcb8a5e249d365c45862c2333e45fe94566", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTBmNzBmY2I4YTVlMjQ5ZDM2NWM0NTg2MmMyMzMzZTQ1ZmU5NDU2Ng==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2013-09-18T13:57:27Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2013-09-18T13:57:27Z"}, "message": "arm.c (arm_get_frame_offsets): Validate architecture supports LDRD/STRD before accepting the tuning preference.\n\n\t* arm.c (arm_get_frame_offsets): Validate architecture supports\n\tLDRD/STRD before accepting the tuning preference.\n\t(arm_expand_prologue): Likewise.\n\t(arm_expand_epilogue): Likewise.\n\nFrom-SVN: r202702", "tree": {"sha": "b0c5576463cab31cfd03e9ab9a21b8ac458e5c60", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b0c5576463cab31cfd03e9ab9a21b8ac458e5c60"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a0f70fcb8a5e249d365c45862c2333e45fe94566", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0f70fcb8a5e249d365c45862c2333e45fe94566", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0f70fcb8a5e249d365c45862c2333e45fe94566", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0f70fcb8a5e249d365c45862c2333e45fe94566/comments", "author": null, "committer": null, "parents": [{"sha": "a24d975caa592f57e0966687ca0340714df9a6a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a24d975caa592f57e0966687ca0340714df9a6a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a24d975caa592f57e0966687ca0340714df9a6a0"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "3d38778c615dae60a8513c39fe1d71806b48d05f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0f70fcb8a5e249d365c45862c2333e45fe94566/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0f70fcb8a5e249d365c45862c2333e45fe94566/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a0f70fcb8a5e249d365c45862c2333e45fe94566", "patch": "@@ -1,3 +1,10 @@\n+2013-09-18  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* arm.c (arm_get_frame_offsets): Validate architecture supports\n+\tLDRD/STRD before accepting the tuning preference.\n+\t(arm_expand_prologue): Likewise.\n+\t(arm_expand_epilogue): Likewise.\n+\n 2013-09-18  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/58417"}, {"sha": "2166001a1ecbf78b3cc2092f2606f919ba9e06b8", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0f70fcb8a5e249d365c45862c2333e45fe94566/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0f70fcb8a5e249d365c45862c2333e45fe94566/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=a0f70fcb8a5e249d365c45862c2333e45fe94566", "patch": "@@ -17969,7 +17969,8 @@ arm_get_frame_offsets (void)\n           if (! any_sibcall_could_use_r3 ()\n \t      && arm_size_return_regs () <= 12\n \t      && (offsets->saved_regs_mask & (1 << 3)) == 0\n-              && (TARGET_THUMB2 || !current_tune->prefer_ldrd_strd))\n+              && (TARGET_THUMB2\n+\t\t  || !(TARGET_LDRD && current_tune->prefer_ldrd_strd)))\n \t    {\n \t      reg = 3;\n \t    }\n@@ -18394,7 +18395,8 @@ arm_expand_prologue (void)\n \t    }\n \t}\n \n-      if (current_tune->prefer_ldrd_strd\n+      if (TARGET_LDRD\n+\t  && current_tune->prefer_ldrd_strd\n           && !optimize_function_for_size_p (cfun))\n         {\n           if (TARGET_THUMB2)\n@@ -24663,7 +24665,8 @@ arm_expand_epilogue (bool really_return)\n         }\n       else\n         {\n-          if (current_tune->prefer_ldrd_strd\n+          if (TARGET_LDRD\n+\t      && current_tune->prefer_ldrd_strd\n               && !optimize_function_for_size_p (cfun))\n             {\n               if (TARGET_THUMB2)"}]}