{"sha": "88ff8f7d0f14074799b3ee91c97e24d2a85fab33", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODhmZjhmN2QwZjE0MDc0Nzk5YjNlZTkxYzk3ZTI0ZDJhODVmYWIzMw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-09-01T03:49:42Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-09-01T03:49:42Z"}, "message": "Commit testcase\n\nFrom-SVN: r86869", "tree": {"sha": "3826e70264f2fdb94e791d50383e683da9b8f0e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3826e70264f2fdb94e791d50383e683da9b8f0e5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/88ff8f7d0f14074799b3ee91c97e24d2a85fab33", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88ff8f7d0f14074799b3ee91c97e24d2a85fab33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88ff8f7d0f14074799b3ee91c97e24d2a85fab33", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88ff8f7d0f14074799b3ee91c97e24d2a85fab33/comments", "author": null, "committer": null, "parents": [{"sha": "dc40803a5bab5888ce07c26bd1c121b7d340cf47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc40803a5bab5888ce07c26bd1c121b7d340cf47", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc40803a5bab5888ce07c26bd1c121b7d340cf47"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "8b4949492a1deeae2871e574c4053f200b92bf40", "filename": "gcc/testsuite/g++.dg/ext/visibility/arm1.C", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88ff8f7d0f14074799b3ee91c97e24d2a85fab33/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvisibility%2Farm1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88ff8f7d0f14074799b3ee91c97e24d2a85fab33/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvisibility%2Farm1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvisibility%2Farm1.C?ref=88ff8f7d0f14074799b3ee91c97e24d2a85fab33", "patch": "@@ -0,0 +1,29 @@\n+// { dg-do compile { target arm*-*-eabi* arm*-*-symbianelf* } }\n+// { dg-options \"-fvisibility=hidden\" }\n+// Most class data should be exported.\n+// { dg-final { scan-not-hidden \"_ZTV1S\" } }\n+// { dg-final { scan-not-hidden \"_ZTI1S\" } }\n+// { dg-final { scan-not-hidden \"_ZTS1S\" } }\n+// { dg-final { scan-not-hidden \"_ZTV1U\" } }\n+// { dg-final { scan-not-hidden \"_ZTT1U\" } }\n+// { dg-final { scan-not-hidden \"_ZTI1U\" } }\n+// { dg-final { scan-not-hidden \"_ZTS1U\" } }\n+// The construction vtable should be hidden.\n+// { dg-final { scan-hidden \"_ZTC1U0_1T\" } }\n+\n+struct S {\n+  virtual void f();\n+};\n+\n+void S::f() {\n+}\n+\n+struct T : public virtual S {\n+  virtual void g();\n+};\n+\n+struct U : public virtual T {\n+  virtual void h();\n+};\n+\n+void U::h() {}"}]}