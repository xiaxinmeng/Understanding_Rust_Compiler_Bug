{"sha": "cf4ccd63bc9d72c975529785f74743a9310a37d6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2Y0Y2NkNjNiYzlkNzJjOTc1NTI5Nzg1Zjc0NzQzYTkzMTBhMzdkNg==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-05-11T23:00:52Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-05-11T23:00:52Z"}, "message": "#\n\t* mpw-* Delete.  Not used.\n\t* ltconfig, ltmain.sh: Update to libtool 1.2a.\n\t* Makefile.in (CC_FOR_TARGET): Use $(TARGET_SUBDIR) when passing -B\n\tfor newlib directory.\n\t(CXX_FOR_TARGET): Likewise.\nBring over from devo.\n\nFrom-SVN: r19691", "tree": {"sha": "6a3f9ce3bc71cd5826b5a33e279f055e35fcbdb2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6a3f9ce3bc71cd5826b5a33e279f055e35fcbdb2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cf4ccd63bc9d72c975529785f74743a9310a37d6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf4ccd63bc9d72c975529785f74743a9310a37d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf4ccd63bc9d72c975529785f74743a9310a37d6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf4ccd63bc9d72c975529785f74743a9310a37d6/comments", "author": null, "committer": null, "parents": [{"sha": "9c7d6038b2f841c8eadc238931b04344b26da828", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c7d6038b2f841c8eadc238931b04344b26da828", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c7d6038b2f841c8eadc238931b04344b26da828"}], "stats": {"total": 4507, "additions": 2441, "deletions": 2066}, "files": [{"sha": "4f1a9cec0e419e79448ac0bbf8f75e3ebf33921f", "filename": "ltconfig", "status": "modified", "additions": 800, "deletions": 245, "changes": 1045, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf4ccd63bc9d72c975529785f74743a9310a37d6/ltconfig", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf4ccd63bc9d72c975529785f74743a9310a37d6/ltconfig", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltconfig?ref=cf4ccd63bc9d72c975529785f74743a9310a37d6", "patch": "@@ -1,9 +1,7 @@\n #! /bin/sh\n \n # ltconfig - Create a system-specific libtool.\n-# When updating this script, search for LINENUM and fix line number refs.\n-# Generated automatically from ltconfig.in by configure.\n-# Copyright (C) 1996, 1997, Free Software Foundation, Inc.\n+# Copyright (C) 1996-1998 Free Software Foundation, Inc.\n # Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996\n #\n # This file is free software; you can redistribute it and/or modify it\n@@ -27,19 +25,82 @@\n \n # A lot of this script is taken from autoconf-2.10.\n \n+# Check that we are running under the correct shell.\n+SHELL=${CONFIG_SHELL-/bin/sh}\n+if test \"X$1\" = \"X--no-reexec\"; then\n+  # Discard the --no-reexec flag, and continue.\n+  shift\n+elif test \"X$SHELL\" != X/bin/sh; then\n+  # Restart under the correct shell.\n+  exec \"$SHELL\" \"$0\" --no-reexec ${1+\"$@\"}\n+fi\n+\n+# The HP-UX ksh and POSIX shell print the target directory to stdout\n+# if CDPATH is set.\n+if test \"${CDPATH+set}\" = set; then CDPATH=; export CDPATH; fi\n+\n+echo=echo\n+if test \"X`($echo '\\t') 2>/dev/null`\" = 'X\\t'; then :\n+else\n+  # The Solaris, AIX, and Digital Unix default echo programs unquote\n+  # backslashes.  This makes it impossible to quote backslashes using\n+  #   echo \"$something\" | sed 's/\\\\/\\\\\\\\/g'\n+  #\n+  # So, first we look for a working echo in the user's PATH.\n+  IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n+  for dir in $PATH /usr/ucb; do\n+    if test -f $dir/echo && test \"X`($dir/echo '\\t') 2>/dev/null`\" = 'X\\t'; then\n+      echo=\"$dir/echo\"\n+      break\n+    fi\n+  done\n+  IFS=\"$save_ifs\"\n+\n+  if test \"X$echo\" = Xecho; then\n+    # We didn't find a better echo, so look for alternatives.\n+    if test \"X`(print -r '\\t') 2>/dev/null`\" = 'X\\t'; then\n+      # This shell has a builtin print -r that does the trick.\n+      echo='print -r'\n+#    elif test -f /bin/ksh && test \"X$CONFIG_SHELL\" != X/bin/ksh; then\n+#      # If we have ksh, try running ltconfig again with it.\n+#      CONFIG_SHELL=/bin/ksh\n+#      export CONFIG_SHELL\n+#      exec \"$CONFIG_SHELL\" \"$0\" --no-reexec ${1+\"$@\"}\n+    else\n+      # Try using printf.\n+      echo='printf %s\\n'\n+      if test \"X`($echo '\\t') 2>/dev/null`\" = 'X\\t'; then :\n+      else\n+        # Oops.  We lost completely, so just stick with echo.\n+        echo=echo\n+      fi\n+    fi\n+  fi\n+fi\n+\n+# Sed substitution that helps us do robust quoting.  It backslashifies\n+# metacharacters that are still active within double-quoted strings.\n+Xsed='sed -e s/^X//'\n+sed_quote_subst='s/\\([\\\\\"\\\\`$\\\\\\\\]\\)/\\\\\\1/g'\n+\n+# Same as above, but do not quote variable references.\n+double_quote_subst='s/\\([\\\\\"\\\\`\\\\\\\\]\\)/\\\\\\1/g'\n+\n # The name of this program.\n-progname=`echo \"$0\" | sed 's%^.*/%%'`\n+progname=`$echo \"X$0\" | $Xsed -e 's%^.*/%%'`\n \n # Constants:\n PROGRAM=ltconfig\n PACKAGE=libtool\n-VERSION=1.0\n+VERSION=1.2a\n ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.c 1>&5'\n+ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.c $LIBS 1>&5'\n rm=\"rm -f\"\n \n help=\"Try \\`$progname --help' for more information.\"\n \n # Global variables:\n+default_ofile=libtool\n can_build_shared=yes\n enable_shared=yes\n # All known linkers require a `.a' archive for static linking.\n@@ -51,6 +112,7 @@ ac_config_guess=\n ac_config_sub=\n host=\n nonopt=\n+ofile=\"$default_ofile\"\n verify_host=yes\n with_gcc=no\n with_gnu_ld=no\n@@ -61,9 +123,10 @@ old_CFLAGS=\"$CFLAGS\"\n old_CPPFLAGS=\"$CPPFLAGS\"\n old_LD=\"$LD\"\n old_LN_S=\"$LN_S\"\n+old_NM=\"$NM\"\n old_RANLIB=\"$RANLIB\"\n-\n-test -z \"$AR\" && AR=ar\n+old_DLLTOOL=\"$DLLTOOL\"\n+old_AS=\"$AS\"\n \n # Parse the command line options.\n args=\n@@ -88,12 +151,14 @@ Usage: $progname [OPTION]... LTMAIN [HOST]\n \n Generate a system-specific libtool script.\n \n+    --debug                enable verbose shell tracing\n     --disable-shared       do not build shared libraries\n     --disable-static       do not build static libraries\n     --help                 display this help and exit\n     --no-verify            do not verify that HOST is a valid host type\n+-o, --output=FILE          specify the output file [default=$default_ofile]\n     --quiet                same as \\`--silent'\n-    --silent               don't print informational messages\n+    --silent               do not print informational messages\n     --srcdir=DIR           find \\`config.guess' in DIR\n     --version              output version information and exit\n     --with-gcc             assume that the GNU C compiler will be used\n@@ -107,6 +172,11 @@ EOM\n   exit 0\n   ;;\n \n+  --debug)\n+    echo \"$progname: enabling shell trace mode\"\n+    set -x\n+    ;;\n+\n   --disable-shared) enable_shared=no ;;\n \n   --disable-static) enable_static=no ;;\n@@ -118,6 +188,9 @@ EOM\n \n   --no-verify) verify_host=no ;;\n \n+  --output | -o) prev=ofile ;;\n+  --output=*) ofile=\"$optarg\" ;;\n+\n   --version) echo \"$PROGRAM (GNU $PACKAGE) $VERSION\"; exit 0 ;;\n \n   --with-gcc) with_gcc=yes ;;\n@@ -133,7 +206,7 @@ EOM\n     if test -z \"$ltmain\"; then\n       ltmain=\"$option\"\n     elif test -z \"$host\"; then\n-# FIXME This generates an unnecessary warning for sparc-sun-solaris4.1.3_U1\n+# This generates an unnecessary warning for sparc-sun-solaris4.1.3_U1\n #      if test -n \"`echo $option| sed 's/[-a-z0-9.]//g'`\"; then\n #        echo \"$progname: warning \\`$option' is not a valid host type\" 1>&2\n #      fi\n@@ -154,7 +227,9 @@ fi\n \n if test -f \"$ltmain\"; then :\n else\n-  echo \"$progname: warning: \\`$ltmain' does not exist\" 1>&2\n+  echo \"$progname: \\`$ltmain' does not exist\" 1>&2\n+  echo \"$help\" 1>&2\n+  exit 1\n fi\n \n # Quote any args containing shell metacharacters.\n@@ -206,10 +281,11 @@ fi\n \n if test -z \"$srcdir\"; then\n   # Assume the source directory is the same one as the path to ltmain.sh.\n-  srcdir=`echo \"$ltmain\" | sed 's%/[^/]*$%%'`\n+  srcdir=`$echo \"$ltmain\" | $Xsed -e 's%/[^/]*$%%'`\n   test \"$srcdir\" = \"$ltmain\" && srcdir=.\n fi\n \n+trap \"$rm conftest*; exit 1\" 1 2 15\n if test \"$verify_host\" = yes; then\n   # Check for config.guess and config.sub.\n   ac_aux_dir=\n@@ -248,7 +324,10 @@ if test \"$verify_host\" = yes; then\n     fi ;;\n   esac\n   host=`$ac_config_sub $host_alias`\n-  echo \"$ac_t\"\"$host\" 1>&6\n+  echo \"$ac_t$host\" 1>&6\n+\n+  # Make sure the host verified.\n+  test -z \"$host\" && exit 1\n \n elif test -z \"$host\"; then\n   echo \"$progname: you must specify a host type if you use \\`--no-verify'\" 1>&2\n@@ -258,19 +337,35 @@ else\n   host_alias=$host\n fi\n \n-# Transform *-*-linux* to *-*-linux-gnu*, to support old configure scripts.\n-case \"$host\" in\n-*-*-linux-gnu*) ;;\n-*-*-linux*) host=`echo $host | sed 's/^\\(.*-.*-linux\\)\\(.*\\)$/\\1-gnu\\2/'`\n+# Transform linux* to *-*-linux-gnu*, to support old configure scripts.\n+case \"$host_os\" in\n+linux-gnu*) ;;\n+linux*) host=`echo $host | sed 's/^\\(.*-.*-linux\\)\\(.*\\)$/\\1-gnu\\2/'`\n esac\n \n host_cpu=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n \n+case \"$host_os\" in\n+aix3*)\n+  # AIX sometimes has problems with the GCC collect2 program.  For some\n+  # reason, if we set the COLLECT_NAMES environment variable, the problems\n+  # vanish in a puff of smoke.\n+  if test \"${COLLECT_NAMES+set}\" != set; then\n+    COLLECT_NAMES=\n+    export COLLECT_NAMES\n+  fi\n+  ;;\n+esac\n+\n # Determine commands to create old-style static archives.\n old_archive_cmds='$AR cru $oldlib$oldobjs'\n old_postinstall_cmds='chmod 644 $oldlib'\n+old_postuninstall_cmds=\n+\n+# Set a sane default for `AR'.\n+test -z \"$AR\" && AR=ar\n \n # If RANLIB is not set, then run the test.\n if test \"${RANLIB+set}\" != \"set\"; then\n@@ -288,14 +383,18 @@ if test \"${RANLIB+set}\" != \"set\"; then\n   done\n   IFS=\"$save_ifs\"\n \n-  echo $ac_t \"$result\" 1>&6\n+  echo \"$ac_t$result\" 1>&6\n fi\n \n if test -n \"$RANLIB\"; then\n   old_archive_cmds=\"$old_archive_cmds;\\$RANLIB \\$oldlib\"\n-  old_postinstall_cmds=\"$old_postinstall_cmds;\\$RANLIB \\$oldlib\"\n+  old_postinstall_cmds=\"\\$RANLIB \\$oldlib;$old_postinstall_cmds\"\n fi\n \n+# Set sane defaults for `DLLTOOL' and `AS', used on cygwin32.\n+test -z \"$DLLTOOL\" && DLLTOOL=dlltool\n+test -z \"$AS\" && AS=as\n+\n # Check to see if we are using GCC.\n if test \"$with_gcc\" != yes || test -z \"$CC\"; then\n   # If CC is not set, then try to find GCC or a usable CC.\n@@ -313,9 +412,9 @@ if test \"$with_gcc\" != yes || test -z \"$CC\"; then\n     IFS=\"$save_ifs\"\n \n     if test -n \"$CC\"; then\n-      echo \"$ac_t\"\"$CC\" 1>&6\n+      echo \"$ac_t$CC\" 1>&6\n     else\n-      echo \"$ac_t\"\"no\" 1>&6\n+      echo \"$ac_t\"no 1>&6\n     fi\n   fi\n \n@@ -352,9 +451,9 @@ if test \"$with_gcc\" != yes || test -z \"$CC\"; then\n     fi\n \n     if test -n \"$CC\"; then\n-      echo \"$ac_t\"\"$CC\" 1>&6\n+      echo \"$ac_t$CC\" 1>&6\n     else\n-      echo \"$ac_t\"\"no\" 1>&6\n+      echo \"$ac_t\"no 1>&6\n     fi\n \n     if test -z \"$CC\"; then\n@@ -366,20 +465,19 @@ if test \"$with_gcc\" != yes || test -z \"$CC\"; then\n   # Now see if the compiler is really GCC.\n   with_gcc=no\n   echo $ac_n \"checking whether we are using GNU C... $ac_c\" 1>&6\n+  echo \"$progname:468: checking whether we are using GNU C\" >&5\n \n-  trap \"$rm conftest.c; exit 1\" 1 2 15\n   $rm conftest.c\n   cat > conftest.c <<EOF\n #ifdef __GNUC__\n   yes;\n #endif\n EOF\n-  # LINENUM\n-  if { ac_try='${CC-cc} -E conftest.c'; { (eval echo $progname:378: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+  if { ac_try='${CC-cc} -E conftest.c'; { (eval echo $progname:476: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n     with_gcc=yes\n   fi\n   $rm conftest.c\n-  echo $ac_t \"$with_gcc\" 1>&6\n+  echo \"$ac_t$with_gcc\" 1>&6\n fi\n \n # Allow CC to be a program name with arguments.\n@@ -388,41 +486,60 @@ compiler=\"$2\"\n \n echo $ac_n \"checking for $compiler option to produce PIC... $ac_c\" 1>&6\n pic_flag=\n-profile_flag_pattern=\n special_shlib_compile_flags=\n wl=\n link_static_flag=\n+no_builtin_flag=\n \n if test \"$with_gcc\" = yes; then\n-  pic_flag='-fPIC'\n-  profile_flag_pattern='-pg?'\n   wl='-Wl,'\n   link_static_flag='-static'\n+  no_builtin_flag=' -fno-builtin'\n+\n+  case \"$host_os\" in\n+  aix3* | aix4* | irix5* | irix6* | osf3* | osf4*)\n+    # PIC is the default for these OSes.\n+    ;;\n+  cygwin32* | os2*)\n+    # We can build DLLs from non-PIC.\n+    ;;\n+  amigaos*)\n+    # FIXME: we need at least 68020 code to build shared libraries, but\n+    # adding the `-m68020' flag to GCC prevents building anything better,\n+    # like `-m68040'.\n+    pic_flag='-m68020 -resident32 -malways-restore-a4'\n+    ;;\n+  *)\n+    pic_flag='-fPIC'\n+    ;;\n+  esac\n else\n   # PORTME Check for PIC flags for the system compiler.\n   case \"$host_os\" in\n   aix3* | aix4*)\n-    # FIXME All rs/6000 code is PIC, but is there any non-rs/6000 AIX platform?\n-    pic_flag=\n+    # All AIX code is PIC.\n     link_static_flag='-bnso -bI:/lib/syscalls.exp'\n     ;;\n \n-  hpux9* | hpux10*)\n-    # FIXME is there a better link_static_flag that works with the bundled CC?\n+  hpux9* | hpux10* | hpux11*)\n+    # Is there a better link_static_flag that works with the bundled CC?\n     wl='-Wl,'\n-    link_static_flag='${wl}-a ${wl}archive'\n+    link_static_flag=\"${wl}-a ${wl}archive\"\n     pic_flag='+Z'\n     ;;\n \n   irix5* | irix6*)\n     wl='-Wl,'\n     link_static_flag='-non_shared'\n     # PIC (with -KPIC) is the default.\n-    pic_flag=\n+    ;;\n+\n+  cygwin32* | os2*)\n+    # We can build DLLs from non-PIC.\n     ;;\n \n   osf3* | osf4*)\n-    # FIXME - pic_flag is probably required for hppa*-osf* and i860-osf*\n+    # All OSF/1 code is PIC.\n     wl='-Wl,'\n     link_static_flag='-non_shared'\n     ;;\n@@ -445,24 +562,59 @@ else\n     wl='-Qoption ld '\n     ;;\n \n+  sysv4.2uw2*)\n+    pic_flag='-KPIC'\n+    link_static_flag='-Bstatic'\n+    wl='-Wl,'\n+    ;;\n+\n+  uts4*)\n+    pic_flag='-pic'\n+    link_static_flag='-Bstatic'\n+    ;;\n+\n   *)\n     can_build_shared=no\n     ;;\n   esac\n fi\n \n-case \"$host_cpu\" in\n-rs6000 | powerpc | powerpcle)\n-  # Yippee! All RS/6000 and PowerPC code is position-independent.\n-  pic_flag=\n-  ;;\n-esac\n-\n if test -n \"$pic_flag\"; then\n-  echo $ac_t \"$pic_flag\" 1>&6\n-  pic_flag=\" $pic_flag\"\n+  echo \"$ac_t$pic_flag\" 1>&6\n+\n+  # Check to make sure the pic_flag actually works.\n+  echo $ac_n \"checking if $compiler PIC flag $pic_flag works... $ac_c\" 1>&6\n+  $rm conftest*\n+  echo \"int some_variable = 0;\" > conftest.c\n+  save_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\"$CFLAGS $pic_flag -DPIC\"\n+  echo \"$progname:591: checking if $compiler PIC flag $pic_flag works\" >&5\n+  if { (eval echo $progname:592: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>conftest.err; } && test -s conftest.o; then\n+    # Append any warnings to the config.log.\n+    cat conftest.err 1>&5\n+\n+    # On HP-UX, both CC and GCC only warn that PIC is supported... then they\n+    # create non-PIC objects.  So, if there were any warnings, we assume that\n+    # PIC is not supported.\n+    if test -s conftest.err; then\n+      echo \"$ac_t\"no 1>&6\n+      can_build_shared=no\n+      pic_flag=\n+    else\n+      echo \"$ac_t\"yes 1>&6\n+      pic_flag=\" $pic_flag\"\n+    fi\n+  else\n+    # Append any errors to the config.log.\n+    cat conftest.err 1>&5\n+    can_build_shared=no\n+    pic_flag=\n+    echo \"$ac_t\"no 1>&6\n+  fi\n+  CFLAGS=\"$save_CFLAGS\"\n+  $rm conftest*\n else\n-  echo $ac_t none 1>&6\n+  echo \"$ac_t\"none 1>&6\n fi\n \n # Check for any special shared library compilation flags.\n@@ -475,36 +627,27 @@ if test -n \"$special_shlib_compile_flags\"; then\n   fi\n fi\n \n-# See if we are using a broken GCC collect2 program.\n-if test \"$with_gcc\" = yes; then\n-  echo $ac_n \"checking for broken GCC collect2... $ac_c\" 1>&6\n-\n-  # FIXME: Run a test here, instead of relying on the canonical system name.\n-  case \"$host_os\" in\n-  aix3*)\n-    can_build_shared=no\n-    echo $ac_t yes 1>&6\n-    echo \"$progname: to build shared libraries, set the CC env variable to \\`xlc' and reconfigure\" 1>&2\n-    ;;\n-  *)\n-    echo $ac_t no 1>&6\n-    ;;\n-  esac\n-fi\n-\n-echo $ac_n \"checking for $compiler option to statically link programs... $ac_c\" 1>&6\n-if test -n \"$link_static_flag\"; then\n-  echo $ac_t \"$link_static_flag\" 1>&6\n+echo $ac_n \"checking if $compiler static flag $link_static_flag works... $ac_c\" 1>&6\n+$rm conftest*\n+echo 'main(){return(0);}' > conftest.c\n+save_LDFLAGS=\"$LDFLAGS\"\n+LDFLAGS=\"$LDFLAGS $link_static_flag\"\n+echo \"$progname:635: checking if $compiler static flag $link_static_flag works\" >&5\n+if { (eval echo $progname:636: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+  echo \"$ac_t$link_static_flag\" 1>&6\n else\n-  echo $ac_t none 1>&6\n+  echo \"$ac_t\"none 1>&6\n+  link_static_flag=\n fi\n+LDFLAGS=\"$save_LDFLAGS\"\n+$rm conftest*\n \n if test -z \"$LN_S\"; then\n   # Check to see if we can use ln -s, or we need hard links.\n   echo $ac_n \"checking whether ln -s works... $ac_c\" 1>&6\n-  rm -f conftestdata\n+  $rm conftestdata\n   if ln -s X conftestdata 2>/dev/null; then\n-    rm -f conftestdata\n+    $rm conftestdata\n     LN_S=\"ln -s\"\n   else\n     LN_S=ln\n@@ -516,180 +659,293 @@ if test -z \"$LN_S\"; then\n   fi\n fi\n \n-if test \"$with_gnu_ld\" != yes || test -z \"$LD\"; then\n-  if test -z \"$LD\"; then\n-    if test \"$with_gnu_ld\" = yes; then\n-      echo $ac_n \"checking for GNU ld... $ac_c\" 1>&6\n-    else\n-      echo $ac_n \"checking for non-GNU ld... $ac_c\" 1>&6\n-    fi\n+# Make sure LD is an absolute path.\n+if test -z \"$LD\"; then\n+  ac_prog=ld\n+  if test \"$with_gcc\" = yes; then\n+    # Check if gcc -print-prog-name=ld gives a path.\n+    echo $ac_n \"checking for ld used by GCC... $ac_c\" 1>&6\n+    echo \"$progname:668: checking for ld used by GCC\" >&5\n+    ac_prog=`($CC -print-prog-name=ld) 2>&5`\n+    case \"$ac_prog\" in\n+    # Accept absolute paths.\n+    /* | [A-Za-z]:\\\\*)\n+      test -z \"$LD\" && LD=\"$ac_prog\"\n+      ;;\n+    \"\")\n+      # If it fails, then pretend we are not using GCC.\n+      ac_prog=ld\n+      ;;\n+    *)\n+      # If it is relative, then search for the first ld in PATH.\n+      with_gnu_ld=unknown\n+      ;;\n+    esac\n+  elif test \"$with_gnu_ld\" = yes; then\n+    echo $ac_n \"checking for GNU ld... $ac_c\" 1>&6\n+    echo \"$progname:686: checking for GNU ld\" >&5\n+  else\n+    echo $ac_n \"checking for non-GNU ld\"\"... $ac_c\" 1>&6\n+    echo \"$progname:689: checking for non-GNU ld\" >&5\n+  fi\n \n+  if test -z \"$LD\"; then\n     IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n     for ac_dir in $PATH; do\n       test -z \"$ac_dir\" && ac_dir=.\n-      if test -f \"$ac_dir/ld\"; then\n-\tLD=\"$ac_dir/ld\"\n+      if test -f \"$ac_dir/$ac_prog\"; then\n+\tLD=\"$ac_dir/$ac_prog\"\n \t# Check to see if the program is GNU ld.  I'd rather use --version,\n \t# but apparently some GNU ld's only accept -v.\n \t# Break only if it was the GNU/non-GNU ld that we prefer.\n-\tif \"$LD\" -v 2>&1 < /dev/null | egrep '(GNU ld|with BFD)' > /dev/null; then\n-\t  test \"$with_gnu_ld\" = yes && break\n+\tif \"$LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n+\t  test \"$with_gnu_ld\" != no && break\n \telse\n \t  test \"$with_gnu_ld\" != yes && break\n \tfi\n       fi\n     done\n     IFS=\"$ac_save_ifs\"\n+  fi\n \n-    if test -n \"$LD\"; then\n-      echo \"$ac_t\"\"$LD\" 1>&6\n-    else\n-      echo \"$ac_t\"\"no\" 1>&6\n-    fi\n-\n-    if test -z \"$LD\"; then\n-      echo \"$progname: error: no acceptable ld found in \\$PATH\" 1>&2\n-      exit 1\n-    fi\n+  if test -n \"$LD\"; then\n+    echo \"$ac_t$LD\" 1>&6\n+  else\n+    echo \"$ac_t\"no 1>&6\n   fi\n \n-  echo $ac_n \"checking whether we are using GNU ld... $ac_c\" 1>&6\n-  # I'd rather use --version here, but apparently some GNU ld's only accept -v.\n-  if $LD -v 2>&1 </dev/null | egrep '(GNU ld|with BFD)' > /dev/null; then\n-    with_gnu_ld=yes\n+  if test -z \"$LD\"; then\n+    echo \"$progname: error: no acceptable ld found in \\$PATH\" 1>&2\n+    exit 1\n   fi\n-  echo $ac_t \"$with_gnu_ld\" 1>&6\n fi\n \n+# Check to see if it really is or is not GNU ld.\n+echo $ac_n \"checking if the linker ($LD) is GNU ld... $ac_c\" 1>&6\n+# I'd rather use --version here, but apparently some GNU ld's only accept -v.\n+if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n+  with_gnu_ld=yes\n+else\n+  with_gnu_ld=no\n+fi\n+echo \"$ac_t$with_gnu_ld\" 1>&6\n+\n # See if the linker supports building shared libraries.\n echo $ac_n \"checking whether the linker ($LD) supports shared libraries... $ac_c\" 1>&6\n \n allow_undefined_flag=\n+no_undefined_flag=\n archive_cmds=\n-export_dynamic_flag=\n+old_archive_from_new_cmds=\n+export_dynamic_flag_spec=\n hardcode_libdir_flag_spec=\n hardcode_libdir_separator=\n hardcode_direct=no\n hardcode_minus_L=no\n-hardcode_runpath_var=no\n hardcode_shlibpath_var=unsupported\n runpath_var=\n \n ld_shlibs=yes\n if test \"$with_gnu_ld\" = yes; then\n-  # See if GNU ld supports shared libraries.\n \n+  # See if GNU ld supports shared libraries.\n   case \"$host_os\" in\n+  amigaos*)\n+    archive_cmds='$rm $objdir/a2ixlibrary.data;$echo \"#define NAME $libname\" > $objdir/a2ixlibrary.data;$echo \"#define LIBRARY_ID 1\" >> $objdir/a2ixlibrary.data;$echo \"#define VERSION $major\" >> $objdir/a2ixlibrary.data;$echo \"#define REVISION $revision\" >> $objdir/a2ixlibrary.data;$AR cru $lib$libobjs;$RANLIB $lib;(cd $objdir && a2ixlibrary -32)'\n+    hardcode_libdir_flag_spec='-L$libdir'\n+    hardcode_minus_L=yes\n+    ;;\n+\n   sunos4*)\n-    ld_shlibs=yes\n-    hardcode_direct=yes\n-    hardcode_shlibpath_var=no\n+    archive_cmds='$LD -assert pure-text -Bstatic -o $lib$libobjs'\n+    ;;\n+\n+  cygwin32*)\n+    # hardcode_libdir_flag_spec is actually meaningless, as there is\n+    # no search path for DLLs.\n+    hardcode_libdir_flag_spec='-L$libdir'\n+    allow_undefined_flag=unsupported\n+    # Very, very bogus.\n+    echo '\n+#include <windows.h>\n+\n+struct _reent *_impure_ptr;\n+extern struct _reent *__imp_reent_data;\n+BOOL APIENTRY\n+__dll_entry (HINSTANCE hinst, DWORD reason, LPVOID reserved)\n+{\n+  _impure_ptr = __imp_reent_data;\n+}\n+' > libtool.c\n+    archive_cmds='$CC -c '\"`pwd`\"'/libtool.c;echo EXPORTS > $soname-def;$NM$libobjs | $global_symbol_pipe | sed '\\''s/.* //'\\'' >> $soname-def;$LD -s --base-file $soname-base --dll -e ___dll_entry@12 -o $lib libtool.o$libobjs$deplibs;$DLLTOOL --as=$AS --dllname $soname --def $soname-def --base-file $soname-base --output-exp $soname-exp;$LD -s --base-file $soname-base $soname-exp --dll -e ___dll_entry@12 -o $lib libtool.o$libobjs$deplibs;$DLLTOOL --as=$AS --dllname $soname --def $soname-def --base-file $soname-base --output-exp $soname-exp;$LD $soname-exp --dll -e ___dll_entry@12 -o $lib libtool.o$libobjs$deplibs;$rm libtool.o $soname-base $soname-exp'\n+    old_archive_from_new_cmds='$DLLTOOL --as=$AS --dllname $soname --def $soname-def --output-lib $objdir/$libname.a;$rm $soname-def'\n     ;;\n \n   *)\n     if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then\n-      runpath_var=LD_RUN_PATH\n-      hardcode_runpath_var=yes\n-      ld_shlibs=yes\n+      archive_cmds='$CC -shared ${wl}-soname $wl$soname -o $lib$libobjs'\n     else\n       ld_shlibs=no\n     fi\n     ;;\n   esac\n \n   if test \"$ld_shlibs\" = yes; then\n-    archive_cmds='$cc -shared ${wl}-soname $wl$soname -o $lib$libobjs$deplibs'\n-    hardcode_libdir_flag_spec='${wl}-rpath $wl$libdir'\n-    export_dynamic_flag='${wl}-export-dynamic'\n+    runpath_var=LD_RUN_PATH\n+    hardcode_libdir_flag_spec='${wl}--rpath ${wl}$libdir'\n+    export_dynamic_flag_spec='${wl}--export-dynamic'\n   fi\n else\n   # PORTME fill in a description of your system's linker (not GNU ld)\n   case \"$host_os\" in\n   aix3*)\n     allow_undefined_flag=unsupported\n-    archive_cmds='/usr/ucb/nm$libobjs | egrep \\\" [BD] \\\" | sed \\\"s/^.* //\\\" > $lib.exp;$LD -o $objdir/$soname$libobjs -bE:$lib.exp -T512 -H512 -bM:SRE -lc$deplibs;$AR cru $lib $objdir/$soname'\n+    archive_cmds='$NM$libobjs | $global_symbol_pipe | sed '\\''s/.* //'\\'' > $lib.exp;$LD -o $objdir/$soname$libobjs -bE:$lib.exp -T512 -H512 -bM:SRE;$AR cru $lib $objdir/$soname'\n     # Note: this linker hardcodes the directories in LIBPATH if there\n     # are no directories specified by -L.\n     hardcode_minus_L=yes\n+    if test \"$with_gcc\" = yes && test -z \"$link_static_flag\"; then\n+      # Neither direct hardcoding nor static linking is supported with a\n+      # broken collect2.\n+      hardcode_direct=unsupported\n+    fi\n     ;;\n \n   aix4*)\n     allow_undefined_flag=unsupported\n-    archive_cmds='/bin/nm -B$libobjs | egrep \\\" [BD] \\\" | sed \\\"s/^.* //\\\" > $lib.exp;$cc -o $objdir/$soname$libobjs ${wl}-bE:$lib.exp ${wl}-bM:SRE ${wl}-bnoentry$deplibs;$AR cru $lib $objdir/$soname'\n+    archive_cmds='$NM$libobjs | $global_symbol_pipe | sed '\\''s/.* //'\\'' > $lib.exp;$CC -o $objdir/$soname$libobjs ${wl}-bE:$lib.exp ${wl}-bM:SRE ${wl}-bnoentry;$AR cru $lib $objdir/$soname'\n     hardcode_direct=yes\n     hardcode_minus_L=yes\n     ;;\n \n+  amigaos*)\n+    archive_cmds='$rm $objdir/a2ixlibrary.data;$echo \"#define NAME $libname\" > $objdir/a2ixlibrary.data;$echo \"#define LIBRARY_ID 1\" >> $objdir/a2ixlibrary.data;$echo \"#define VERSION $major\" >> $objdir/a2ixlibrary.data;$echo \"#define REVISION $revision\" >> $objdir/a2ixlibrary.data;$AR cru $lib$libobjs;$RANLIB $lib;(cd $objdir && a2ixlibrary -32)'\n+    hardcode_libdir_flag_spec='-L$libdir'\n+    hardcode_minus_L=yes\n+    ;;\n+\n+  cygwin32*)\n+    # hardcode_libdir_flag_spec is actually meaningless, as there is\n+    # no search path for DLLs.\n+    hardcode_libdir_flag_spec='-L$libdir'\n+    allow_undefined_flag=unsupported\n+    # Very, very bogus.\n+    echo '\n+#include <windows.h>\n+\n+struct _reent *_impure_ptr;\n+extern struct _reent *__imp_reent_data;\n+BOOL APIENTRY\n+__dll_entry (HINSTANCE hinst, DWORD reason, LPVOID reserved)\n+{\n+  _impure_ptr = __imp_reent_data;\n+}\n+' > libtool.c\n+    archive_cmds='$CC -c '\"`pwd`\"'/libtool.c;echo EXPORTS > $soname-def;$NM$libobjs | $global_symbol_pipe | sed '\\''s/.* //'\\'' >> $soname-def;$LD -s --base-file $soname-base --dll -e ___dll_entry@12 -o $lib libtool.o$libobjs$deplibs;$DLLTOOL --as=$AS --dllname $soname --def $soname-def --base-file $soname-base --output-exp $soname-exp;$LD -s --base-file $soname-base $soname-exp --dll -e ___dll_entry@12 -o $lib libtool.o$libobjs$deplibs;$DLLTOOL --as=$AS --dllname $soname --def $soname-def --base-file $soname-base --output-exp $soname-exp;$LD $soname-exp --dll -e ___dll_entry@12 -o $lib libtool.o$libobjs$deplibs;$rm libtool.o $soname-base $soname-exp'\n+    old_archive_from_new_cmds='$DLLTOOL --as=$AS --dllname $soname --def $soname-def --output-lib $objdir/$libname.a;$rm $soname-def'\n+    ;;\n+\n   # FreeBSD 2.2.[012] allows us to include c++rt0.o to get C++ constructor\n   # support.  Future versions do this automatically, but an explicit c++rt0.o\n-  # doesn't break anything, and helps significantly (at the cost of a little\n+  # does not break anything, and helps significantly (at the cost of a little\n   # extra space).\n   freebsd2.2*)\n-    archive_cmds='$LD -Bshareable -o $lib$libobjs$deplibs /usr/lib/c++rt0.o'\n+    archive_cmds='$LD -Bshareable -o $lib$libobjs /usr/lib/c++rt0.o'\n+    hardcode_libdir_flag_spec='-R$libdir'\n     hardcode_direct=yes\n     hardcode_minus_L=yes\n     hardcode_shlibpath_var=no\n     ;;\n \n-  # Unfortunately, older versions of FreeBSD 2 don't have this feature.\n+  # Unfortunately, older versions of FreeBSD 2 do not have this feature.\n   freebsd2*)\n-    archive_cmds='$LD -Bshareable -o $lib$libobjs$deplibs'\n+    archive_cmds='$LD -Bshareable -o $lib$libobjs'\n     hardcode_direct=yes\n     hardcode_minus_L=yes\n     hardcode_shlibpath_var=no\n     ;;\n \n   # FreeBSD 3, at last, uses gcc -shared to do shared libraries.\n   freebsd3*)\n-    archive_cmds='$CC -shared -o $lib$libobjs$deplibs'\n+    archive_cmds='$CC -shared -o $lib$libobjs'\n+    hardcode_libdir_flag_spec='-R$libdir'\n     hardcode_direct=yes\n-    hardcode_minusL=yes\n+    hardcode_minus_L=yes\n     hardcode_shlibpath_var=no\n     ;;\n \n   hpux9*)\n-    archive_cmds='$rm $objdir/$soname;$LD -b +s +b $install_libdir -o $objdir/$soname$libobjs$deplibs;mv $objdir/$soname $lib'\n+    archive_cmds='$rm $objdir/$soname;$LD -b +s +b $install_libdir -o $objdir/$soname$libobjs;mv $objdir/$soname $lib'\n     hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'\n     hardcode_direct=yes\n     hardcode_minus_L=yes\n+    export_dynamic_flag_spec='${wl}-E'\n     ;;\n \n-  hpux10*)\n-    archive_cmds='$LD -b +h $soname +s +b $install_libdir -o $lib$libobjs$deplibs'\n+  hpux10* | hpux11*)\n+    archive_cmds='$LD -b +h $soname +s +b $install_libdir -o $lib$libobjs'\n     hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'\n     hardcode_direct=yes\n     hardcode_minus_L=yes\n+    export_dynamic_flag_spec='${wl}-E'\n     ;;\n \n   irix5* | irix6*)\n-    archive_cmds='$LD -shared -o $lib -soname $soname -set_version $verstring$libobjs -lc$deplibs'\n+    if test \"$with_gcc\" = yes; then\n+      archive_cmds='$CC -shared -o $lib ${wl}-soname ${wl}$soname ${wl}-set_version ${wl}$verstring$libobjs'\n+    else\n+      archive_cmds='$LD -shared -o $lib -soname $soname -set_version $verstring$libobjs'\n+    fi\n     hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n     ;;\n \n-  netbsd* | openbsd*)\n+  netbsd*)\n     # Tested with NetBSD 1.2 ld\n-    archive_cmds='$LD -Bshareable -o $lib$libobjs$deplibs'\n+    archive_cmds='$LD -Bshareable -o $lib$libobjs'\n     hardcode_libdir_flag_spec='-R$libdir'\n     hardcode_direct=yes\n     hardcode_shlibpath_var=no\n     ;;\n \n+  openbsd*)\n+    archive_cmds='$LD -Bshareable -o $lib$libobjs'\n+    hardcode_libdir_flag_spec='-R$libdir'\n+    hardcode_direct=yes\n+    hardcode_shlibpath_var=no\n+    ;;\n+\n+  os2*)\n+    hardcode_libdir_flag_spec='-L$libdir'\n+    hardcode_minus_L=yes\n+    allow_undefined_flag=unsupported\n+    archive_cmds='$echo \"LIBRARY $libname INITINSTANCE\" > $objdir/$libname.def;$echo \"DESCRIPTION \\\"$libname\\\"\" >> $objdir/$libname.def;$echo DATA >> $objdir/$libname.def;$echo \" SINGLE NONSHARED\" >> $objdir/$libname.def;$echo EXPORTS >> $objdir/$libname.def;emxexp$libobjs >> $objdir/$libname.def;$CC -Zdll -Zcrtdll -o $lib$libobjs $objdir/$libname.def'\n+    old_archive_from_new_cmds='emximp -o $objdir/$libname.a $objdir/$libname.def'\n+    ;;\n+\n   osf3* | osf4*)\n-    allow_undefined_flag=' -expect_unresolved'\n-    archive_cmds='$LD -shared${allow_undefined_flag} -o $lib -soname $soname -set_version $verstring$libobjs -lc$deplibs'\n+    allow_undefined_flag=' -expect_unresolved \\*'\n+    archive_cmds='$LD -shared${allow_undefined_flag} -o $lib -soname $soname -set_version $verstring$libobjs$deplibs'\n     hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n     hardcode_libdir_separator=:\n     ;;\n \n   sco3.2v5*)\n-    archive_cmds='$LD -G -o $lib$libobjs$deplibs'\n+    archive_cmds='$LD -G -o $lib$libobjs'\n     hardcode_direct=yes\n     ;;\n \n   solaris2*)\n-    archive_cmds='$LD -G -z text -h $soname -o $lib$libobjs$deplibs'\n+    no_undefined_flag=' -z text'\n+    archive_cmds='$LD -G${allow_undefined_flag} -h $soname -o $lib$libobjs'\n     hardcode_libdir_flag_spec='-R$libdir'\n     hardcode_shlibpath_var=no\n+\n+    # Solaris 2 before 2.5 hardcodes -L paths.\n+    case \"$host_os\" in\n+    solaris2.[0-4]*)\n+      hardcode_minus_L=yes\n+      ;;\n+    esac\n     ;;\n \n   sunos4*)\n@@ -700,19 +956,208 @@ else\n     hardcode_shlibpath_var=no\n     ;;\n \n+  uts4*)\n+    archive_cmds='$LD -G -h $soname -o $lib$libobjs'\n+    hardcode_libdir_flag_spec='-L$libdir'\n+    hardcode_direct=no\n+    hardcode_minus_L=no\n+    hardcode_shlibpath_var=no\n+    ;;\n+\n   *)\n     ld_shlibs=no\n     can_build_shared=no\n     ;;\n   esac\n fi\n-echo $ac_t \"$ld_shlibs\" 1>&6\n+echo \"$ac_t$ld_shlibs\" 1>&6\n+\n+if test -z \"$NM\"; then\n+  echo $ac_n \"checking for BSD-compatible nm... $ac_c\" 1>&6\n+  case \"$NM\" in\n+  /* | [A-Za-z]:\\\\*) ;; # Let the user override the test with a path.\n+  *)\n+    IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n+    for ac_dir in /usr/ucb /usr/ccs/bin $PATH /bin; do\n+      test -z \"$ac_dir\" && ac_dir=.\n+      if test -f $ac_dir/nm; then\n+        # Check to see if the nm accepts a BSD-compat flag.\n+        # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n+        #   nm: unknown option \"B\" ignored\n+        if ($ac_dir/nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n+          NM=\"$ac_dir/nm -B\"\n+        elif ($ac_dir/nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n+          NM=\"$ac_dir/nm -p\"\n+\telse\n+          NM=\"$ac_dir/nm\"\n+\tfi\n+        break\n+      fi\n+    done\n+    IFS=\"$ac_save_ifs\"\n+    test -z \"$NM\" && NM=nm\n+    ;;\n+  esac\n+  echo \"$ac_t$NM\" 1>&6\n+fi\n+\n+# Check for command to grab the raw symbol name followed by C symbol from nm.\n+echo $ac_n \"checking command to parse $NM output... $ac_c\" 1>&6\n+\n+# These are sane defaults that work on at least a few old systems.\n+# [They come from Ultrix.  What could be older than Ultrix?!! ;)]\n+\n+# Character class describing NM global symbol codes.\n+symcode='[BCDEGRSTU]'\n+\n+# Regexp to match symbols that can be accessed directly from C.\n+sympat='\\([_A-Za-z][_A-Za-z0-9]*\\)'\n+\n+# Transform the above into a raw symbol and a C symbol.\n+symxfrm='\\1 \\1'\n+\n+# Define system-specific variables.\n+case \"$host_os\" in\n+aix*)\n+  symcode='[BCDTU]'\n+  ;;\n+cygwin32*)\n+  sympat='_\\([_A-Za-z][_A-Za-z0-9]*\\)'\n+  symxfrm='_\\1 \\1'\n+  ;;\n+irix*)\n+  # Cannot use undefined symbols on IRIX because inlined functions mess us up.\n+  symcode='[BCDEGRST]'\n+  ;;\n+solaris2*)\n+  symcode='[BDTU]'\n+  ;;\n+esac\n+\n+# If we're using GNU nm, then use its standard symbol codes.\n+if $NM -V 2>&1 | egrep '(GNU|with BFD)' > /dev/null; then\n+  symcode='[ABCDGISTUW]'\n+fi\n+\n+case \"$host_os\" in\n+cygwin32*)\n+  # We do not want undefined symbols on cygwin32.  The user must\n+  # arrange to define them via -l arguments.\n+  symcode='[ABCDGISTW]'\n+  ;;\n+esac\n+\n+# Write the raw and C identifiers.\n+global_symbol_pipe=\"sed -n -e 's/^.* $symcode $sympat$/$symxfrm/p'\"\n+\n+# Check to see that the pipe works correctly.\n+pipe_works=no\n+$rm conftest*\n+cat > conftest.c <<EOF\n+#ifdef __cplusplus\n+extern \"C\" {\n+#endif\n+char nm_test_var;\n+void nm_test_func(){}\n+#ifdef __cplusplus\n+}\n+#endif\n+main(){nm_test_var='a';nm_test_func();return(0);}\n+EOF\n+\n+echo \"$progname:1068: checking if global_symbol_pipe works\" >&5\n+if { (eval echo $progname:1069: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; } && test -s conftest.o; then\n+  # Now try to grab the symbols.\n+  nlist=conftest.nm\n+  if { echo \"$progname:1072: eval \\\"$NM conftest.o | $global_symbol_pipe > $nlist\\\"\" >&5; eval \"$NM conftest.o | $global_symbol_pipe > $nlist 2>&5\"; } && test -s \"$nlist\"; then\n+\n+    # Try sorting and uniquifying the output.\n+    if sort \"$nlist\" | uniq > \"$nlist\"T; then\n+      mv -f \"$nlist\"T \"$nlist\"\n+      wcout=`wc \"$nlist\" 2>/dev/null`\n+      count=`$echo \"X$wcout\" | $Xsed -e 's/^[ \t]*\\([0-9][0-9]*\\).*$/\\1/'`\n+      (test \"$count\" -ge 0) 2>/dev/null || count=-1\n+    else\n+      rm -f \"$nlist\"T\n+      count=-1\n+    fi\n+\n+    # Make sure that we snagged all the symbols we need.\n+    if egrep ' nm_test_var$' \"$nlist\" >/dev/null; then\n+      if egrep ' nm_test_func$' \"$nlist\" >/dev/null; then\n+\tcat <<EOF > conftest.c\n+#ifdef __cplusplus\n+extern \"C\" {\n+#endif\n+\n+EOF\n+        # Now generate the symbol file.\n+        sed 's/^.* \\(.*\\)$/extern char \\1;/' < \"$nlist\" >> conftest.c\n+\n+\tcat <<EOF >> conftest.c\n+#if defined (__STDC__) && __STDC__\n+# define __ptr_t void *\n+#else\n+# define __ptr_t char *\n+#endif\n+\n+/* The number of symbols in dld_preloaded_symbols, -1 if unsorted. */\n+int dld_preloaded_symbol_count = $count;\n+\n+/* The mapping between symbol names and symbols. */\n+struct {\n+  char *name;\n+  __ptr_t address;\n+}\n+dld_preloaded_symbols[] =\n+{\n+EOF\n+        sed 's/^\\(.*\\) \\(.*\\)$/  {\"\\1\", (__ptr_t) \\&\\2},/' < \"$nlist\" >> conftest.c\n+        cat <<\\EOF >> conftest.c\n+  {0, (__ptr_t) 0}\n+};\n+\n+#ifdef __cplusplus\n+}\n+#endif\n+EOF\n+        # Now try linking the two files.\n+        mv conftest.o conftestm.o\n+\tsave_LIBS=\"$LIBS\"\n+\tsave_CFLAGS=\"$CFLAGS\"\n+        LIBS='conftestm.o'\n+\tCFLAGS=\"$CFLAGS$no_builtin_flag\"\n+        if { (eval echo $progname:1130: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+          pipe_works=yes\n+        else\n+          echo \"$progname: failed program was:\" >&5\n+          cat conftest.c >&5\n+        fi\n+        LIBS=\"$save_LIBS\"\n+      else\n+        echo \"cannot find nm_test_func in $nlist\" >&5\n+      fi\n+    else\n+      echo \"cannot find nm_test_var in $nlist\" >&5\n+    fi\n+  else\n+    echo \"cannot run $global_symbol_pipe\" >&5\n+  fi\n+else\n+  echo \"$progname: failed program was:\" >&5\n+  cat conftest.c >&5\n+fi\n+$rm conftest*\n+\n+# Do not use the global_symbol_pipe unless it works.\n+echo \"$ac_t$pipe_works\" 1>&6\n+test \"$pipe_works\" = yes || global_symbol_pipe=\n \n # Check hardcoding attributes.\n echo $ac_n \"checking how to hardcode library paths into programs... $ac_c\" 1>&6\n hardcode_action=\n if test -n \"$hardcode_libdir_flag_spec\" || \\\n-   test \"$hardcode_runpath_var\" = yes; then\n+   test -n \"$runpath_var\"; then\n \n   # We can hardcode non-existant directories.\n   if test \"$hardcode_direct\" != no && \\\n@@ -725,32 +1170,30 @@ if test -n \"$hardcode_libdir_flag_spec\" || \\\n     # We can link without hardcoding, and we can hardcode nonexisting dirs.\n     hardcode_action=immediate\n   fi\n-elif test \"$hardcode_direct\" != yes && \\\n-     test \"$hardcode_minus_L\" != yes && \\\n-     test \"$hardcode_shlibpath_var\" != yes; then\n-  # We can't hardcode anything.\n-  hardcode_action=unsupported\n else\n-  # We can only hardcode existing directories.\n-  hardcode_action=relink\n+  # We cannot hardcode anything, or else we can only hardcode existing\n+  # directories.\n+  hardcode_action=unsupported\n fi\n-echo $ac_t \"$hardcode_action\" 1>&6\n-test \"$hardcode_action\" = unsupported && can_build_shared=no\n+echo \"$ac_t$hardcode_action\" 1>&6\n \n \n reload_flag=\n reload_cmds='$LD$reload_flag -o $output$reload_objs'\n echo $ac_n \"checking for $LD option to reload object files... $ac_c\" 1>&6\n-# PORTME Some linker may need a different reload flag.\n+# PORTME Some linkers may need a different reload flag.\n reload_flag='-r'\n-echo $ac_t \"$reload_flag\"\n+echo \"$ac_t$reload_flag\" 1>&6\n test -n \"$reload_flag\" && reload_flag=\" $reload_flag\"\n \n # PORTME Fill in your ld.so characteristics\n library_names_spec=\n+libname_spec='lib$name'\n soname_spec=\n postinstall_cmds=\n+postuninstall_cmds=\n finish_cmds=\n+finish_eval=\n shlibpath_var=\n version_type=none\n dynamic_linker=\"$host_os ld.so\"\n@@ -759,42 +1202,55 @@ echo $ac_n \"checking dynamic linker characteristics... $ac_c\" 1>&6\n case \"$host_os\" in\n aix3* | aix4*)\n   version_type=linux\n-  library_names_spec='$libname.so.$versuffix $libname.a'\n+  library_names_spec='${libname}${release}.so$versuffix $libname.a'\n   shlibpath_var=LIBPATH\n \n   # AIX has no versioning support, so we append a major version to the name.\n-  soname_spec='$libname.so.$major'\n+  soname_spec='${libname}${release}.so$major'\n+  ;;\n+\n+amigaos*)\n+  library_names_spec='$libname.ixlibrary $libname.a'\n+  # Create ${libname}_ixlibrary.a entries in /sys/libs.\n+  finish_eval='for lib in `ls $libdir/*.ixlibrary 2>/dev/null`; do libname=`$echo \"X$lib\" | $Xsed -e '\\''s%^.*/\\([^/]*\\)\\.ixlibrary$%\\1%'\\''`; test $rm /sys/libs/${libname}_ixlibrary.a; $show \"(cd /sys/libs && $LN_S $lib ${libname}_ixlibrary.a)\"; (cd /sys/libs && $LN_S $lib ${libname}_ixlibrary.a) || exit 1; done'\n+  ;;\n+\n+cygwin32*)\n+  version_type=windows\n+  library_names_spec='${libname}`echo ${release} | sed -e 's/[.]/-/g'`${versuffix}.dll $libname.a'\n+  dynamic_linker='Win32 ld.exe'\n+  shlibpath_var=PATH\n   ;;\n \n freebsd2* | freebsd3*)\n   version_type=sunos\n-  library_names_spec='$libname.so.$versuffix $libname.so'\n+  library_names_spec='${libname}${release}.so$versuffix $libname.so'\n   finish_cmds='PATH=\"\\$PATH:/sbin\" ldconfig -m $libdir'\n   shlibpath_var=LD_LIBRARY_PATH\n   ;;\n \n gnu*)\n   version_type=sunos\n-  library_names_spec='$libname.so.$versuffix'\n+  library_names_spec='${libname}${release}.so$versuffix'\n   shlibpath_var=LD_LIBRARY_PATH\n   ;;\n \n-hpux9* | hpux10*)\n+hpux9* | hpux10* | hpux11*)\n   # Give a soname corresponding to the major version so that dld.sl refuses to\n   # link against other versions.\n   dynamic_linker=\"$host_os dld.sl\"\n   version_type=sunos\n   shlibpath_var=SHLIB_PATH\n-  library_names_spec='$libname.sl.$versuffix $libname.sl.$major $libname.sl'\n-  soname_spec='$libname.sl.$major'\n+  library_names_spec='${libname}${release}.sl$versuffix ${libname}${release}.sl$major $libname.sl'\n+  soname_spec='${libname}${release}.sl$major'\n   # HP-UX runs *really* slowly unless shared libraries are mode 555.\n   postinstall_cmds='chmod 555 $lib'\n   ;;\n \n irix5* | irix6*)\n   version_type=osf\n-  soname_spec='$libname.so'\n-  library_names_spec='$libname.so.$versuffix $libname.so'\n+  soname_spec='${libname}${release}.so'\n+  library_names_spec='${libname}${release}.so$versuffix $libname.so'\n   shlibpath_var=LD_LIBRARY_PATH\n   ;;\n \n@@ -806,8 +1262,8 @@ linux-gnuoldld* | linux-gnuaout* | linux-gnucoff*)\n # This must be Linux ELF.\n linux-gnu*)\n   version_type=linux\n-  library_names_spec='$libname.so.$versuffix $libname.so.$major $libname.so'\n-  soname_spec='$libname.so.$major'\n+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'\n+  soname_spec='${libname}${release}.so$major'\n   finish_cmds='PATH=\"\\$PATH:/sbin\" ldconfig -n $libdir'\n   shlibpath_var=LD_LIBRARY_PATH\n \n@@ -824,76 +1280,75 @@ linux-gnu*)\n \n netbsd* | openbsd*)\n   version_type=sunos\n-  library_names_spec='$libname.so.$versuffix'\n+  library_names_spec='${libname}${release}.so$versuffix'\n   finish_cmds='PATH=\"\\$PATH:/sbin\" ldconfig -m $libdir'\n   shlibpath_var=LD_LIBRARY_PATH\n   ;;\n \n+os2*)\n+  libname_spec='$name'\n+  library_names_spec='$libname.dll $libname.a'\n+  dynamic_linker='OS/2 ld.exe'\n+  shlibpath_var=LIBPATH\n+  ;;\n+\n osf3* | osf4*)\n   version_type=osf\n-  soname_spec='$libname.so'\n-  library_names_spec='$libname.so.$versuffix $libname.so'\n+  soname_spec='${libname}${release}.so'\n+  library_names_spec='${libname}${release}.so$versuffix $libname.so'\n   shlibpath_var=LD_LIBRARY_PATH\n   ;;\n \n sco3.2v5*)\n   version_type=osf\n-  soname_spec='$libname.so.$major'\n-  library_names_spec='$libname.so.$versuffix $libname.so.$major $libname.so'\n+  soname_spec='${libname}${release}.so$major'\n+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'\n   shlibpath_var=LD_LIBRARY_PATH\n   ;;\n \n solaris2*)\n   version_type=linux\n-  library_names_spec='$libname.so.$versuffix $libname.so.$major $libname.so'\n-  soname_spec='$libname.so.$major'\n+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'\n+  soname_spec='${libname}${release}.so$major'\n   shlibpath_var=LD_LIBRARY_PATH\n   ;;\n \n sunos4*)\n   version_type=sunos\n-  library_names_spec='$libname.so.$versuffix'\n+  library_names_spec='${libname}${release}.so$versuffix'\n   finish_cmds='PATH=\"\\$PATH:/usr/etc\" ldconfig $libdir'\n   shlibpath_var=LD_LIBRARY_PATH\n   ;;\n \n+sysv4.2uw2*)\n+  version_type=linux\n+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'\n+  soname_spec='${libname}${release}.so$major'\n+  shlibpath_var=LD_LIBRARY_PATH\n+  ;;\n+\n+uts4*)\n+  version_type=linux\n+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'\n+  soname_spec='${libname}${release}.so$major'\n+  shlibpath_var=LD_LIBRARY_PATH\n+  ;;\n+\n *)\n   dynamic_linker=no\n   ;;\n esac\n-echo \"$ac_t\"\"$dynamic_linker\"\n+echo \"$ac_t$dynamic_linker\"\n test \"$dynamic_linker\" = no && can_build_shared=no\n \n-# FIXME need to add library stripping features\n-# strip -x works for most platforms, though not for static libraries on NetBSD\n-# HP-UX requires \"-r\" for library stripping\n-striplib=\n-old_striplib=\n-\n-#echo $ac_n \"checking for static library strip program... $ac_c\" 1>&6\n-#if test -n \"$old_striplib\"; then\n-#  echo $ac_t \"$old_striplib\" 1>&6\n-#else\n-#  echo $ac_t none 1>&6\n-#fi\n-\n-#if test \"$can_build_shared\" = yes; then\n-#  echo $ac_n \"checking for shared library strip program... $ac_c\" 1>&6\n-#\n-#  if test -n \"$striplib\"; then\n-#    echo $ac_t \"$striplib\" 1>&6\n-#  else\n-#    echo $ac_t none 1>&6\n-#  fi\n-#fi\n-\n-# Report the consequences.\n+# Report the final consequences.\n echo \"checking if libtool supports shared libraries... $can_build_shared\" 1>&6\n \n echo $ac_n \"checking whether to build shared libraries... $ac_c\" 1>&6\n test \"$can_build_shared\" = \"no\" && enable_shared=no\n \n-# On AIX, shared libraries and static libraries use the same namespace.\n+# On AIX, shared libraries and static libraries use the same namespace, and\n+# are all built from PIC.\n case \"$host_os\" in\n aix*)\n   test \"$enable_shared\" = yes && enable_static=no\n@@ -904,28 +1359,98 @@ aix*)\n   ;;\n esac\n \n-echo \"$ac_t\"\"$enable_shared\" 1>&6\n+echo \"$ac_t$enable_shared\" 1>&6\n \n # Make sure either enable_shared or enable_static is yes.\n test \"$enable_shared\" = yes || enable_static=yes\n \n echo \"checking whether to build static libraries... $enable_static\" 1>&6\n \n-ofile=libtool\n-trap \"$rm $ofile; exit 1\" 1 2 15\n-echo creating $ofile\n-rm -fr $ofile\n-cat <<EOF > $ofile\n-#! /bin/sh\n+echo $ac_n \"checking for objdir... $ac_c\" 1>&6\n+rm -f .libs 2>/dev/null\n+mkdir .libs 2>/dev/null\n+if test -d .libs; then\n+  objdir=.libs\n+else\n+  # MS-DOS does not allow filenames that begin with a dot.\n+  objdir=_libs\n+fi\n+rmdir .libs 2>/dev/null\n+echo \"$ac_t$objdir\" 1>&6\n+\n+# Copy echo and quote the copy, instead of the original, because it is\n+# used later.\n+ltecho=\"$echo\"\n+\n+# Now quote all the things that may contain metacharacters.\n+for var in ltecho old_CC old_CFLAGS old_CPPFLAGS old_LD old_NM old_RANLIB \\\n+  old_LN_S old_DLLTOOL old_AS AR CC LD LN_S NM DLLTOOL AS reload_flag \\\n+  reload_cmds wl pic_flag link_static_flag no_builtin_flag \\\n+  export_dynamic_flag_spec libname_spec library_names_spec soname_spec RANLIB \\\n+  old_archive_cmds old_archive_from_new_cmds old_postinstall_cmds \\\n+  old_postuninstall_cmds archive_cmds postinstall_cmds postuninstall_cmds \\\n+  allow_undefined_flag no_undefined_flag \\\n+  finish_cmds finish_eval global_symbol_pipe \\\n+  hardcode_libdir_flag_spec hardcode_libdir_separator; do\n+\n+  case \"$var\" in\n+  reload_cmds | old_archive_cmds | old_archive_from_new_cmds | \\\n+  old_postinstall_cmds | old_postuninstall_cmds | archive_cmds | \\\n+  postinstall_cmds | postuninstall_cmds | finish_cmds)\n+    # Double-quote double-evaled strings.\n+    eval \"$var=\\`\\$echo \\\"X\\$$var\\\" | \\$Xsed -e \\\"\\$double_quote_subst\\\" -e \\\"\\$sed_quote_subst\\\"\\`\"\n+    ;;\n+  *)\n+    eval \"$var=\\`\\$echo \\\"X\\$$var\\\" | \\$Xsed -e \\\"\\$sed_quote_subst\\\"\\`\"\n+    ;;\n+  esac\n+done\n \n-# libtool - Provide generalized library-building support services.\n-#\n+trap \"$rm \\\"$ofile\\\"; exit 1\" 1 2 15\n+echo \"creating $ofile\"\n+$rm \"$ofile\"\n+cat <<EOF > \"$ofile\"\n+#! $SHELL\n+\n+# `$echo \"$ofile\" | sed 's%^.*/%%'` - Provide generalized library-building support services.\n # Generated automatically by $PROGRAM - GNU $PACKAGE $VERSION\n-# This program was configured as follows,\n-# on host `(hostname || uname -n) 2>/dev/null | sed 1q`:\n+# NOTE: Changes made to this file will be lost: look at ltconfig or ltmain.sh.\n+#\n+# Copyright (C) 1996-1998 Free Software Foundation, Inc.\n+# Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996\n+#\n+# This program is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 2 of the License, or\n+# (at your option) any later version.\n+#\n+# This program is distributed in the hope that it will be useful, but\n+# WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+# General Public License for more details.\n+#\n+# You should have received a copy of the GNU General Public License\n+# along with this program; if not, write to the Free Software\n+# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n+#\n+# As a special exception to the GNU General Public License, if you\n+# distribute this file as part of a program that contains a\n+# configuration script generated by Autoconf, you may include it under\n+# the same distribution terms that you use for the rest of that program.\n+\n+# Sed that helps us avoid accidentally triggering echo(1) options like -n.\n+Xsed=\"sed -e s/^X//\"\n+\n+# The HP-UX ksh and POSIX shell print the target directory to stdout\n+# if CDPATH is set.\n+if test \"\\${CDPATH+set}\" = set; then CDPATH=; export CDPATH; fi\n+\n+### BEGIN LIBTOOL CONFIG\n+# Libtool was configured as follows, on host `(hostname || uname -n) 2>/dev/null | sed 1q`:\n #\n # CC=\"$old_CC\" CFLAGS=\"$old_CFLAGS\" CPPFLAGS=\"$old_CPPFLAGS\" \\\\\n-# LD=\"$old_LD\" RANLIB=\"$old_RANLIB\" LN_S=\"$old_LN_S\" \\\\\n+# LD=\"$old_LD\" NM=\"$old_NM\" RANLIB=\"$old_RANLIB\" LN_S=\"$old_LN_S\" \\\\\n+# DLLTOOL=\"$old_DLLTOOL\" AS=\"$old_AS\" \\\\\n #   $0$ltconfig_args\n #\n # Compiler and other test output produced by $progname, useful for\n@@ -934,72 +1459,106 @@ cat <<EOF > $ofile\n # The version of $progname that generated this script.\n LTCONFIG_VERSION=\"$VERSION\"\n \n-# Whether or not to build libtool libraries.\n+# Shell to use when invoking shell scripts.\n+SHELL=\"$SHELL\"\n+\n+# Whether or not to build shared libraries.\n build_libtool_libs=$enable_shared\n \n-# Whether or not to build old-style libraries.\n+# Whether or not to build static libraries.\n build_old_libs=$enable_static\n \n # The host system.\n host_alias=\"$host_alias\"\n host=\"$host\"\n \n+# An echo program that does not interpret backslashes.\n+echo=\"$ltecho\"\n+\n # The archiver.\n-AR='$AR'\n+AR=\"$AR\"\n+\n+# The default C compiler.\n+CC=\"$CC\"\n \n # The linker used to build libraries.\n-LD='$LD'\n+LD=\"$LD\"\n \n # Whether we need hard or soft links.\n-LN_S='$LN_S'\n+LN_S=\"$LN_S\"\n+\n+# A BSD-compatible nm program.\n+NM=\"$NM\"\n+\n+# Used on cygwin32: DLL creation program.\n+DLLTOOL=\"$DLLTOOL\"\n+\n+# Used on cygwin32: assembler.\n+AS=\"$AS\"\n+\n+# The name of the directory that contains temporary libtool files.\n+objdir=\"$objdir\"\n \n # How to create reloadable object files.\n-reload_flag='$reload_flag'\n-reload_cmds='$reload_cmds'\n+reload_flag=\"$reload_flag\"\n+reload_cmds=\"$reload_cmds\"\n \n # How to pass a linker flag through the compiler.\n-wl='$wl'\n+wl=\"$wl\"\n \n # Additional compiler flags for building library objects.\n-pic_flag='$pic_flag'\n+pic_flag=\"$pic_flag\"\n \n # Compiler flag to prevent dynamic linking.\n-link_static_flag='$link_static_flag'\n+link_static_flag=\"$link_static_flag\"\n \n-# Compiler flag to allow reflexive dlopens.\n-export_dynamic_flag='$export_dynamic_flag'\n+# Compiler flag to turn off builtin functions.\n+no_builtin_flag=\"$no_builtin_flag\"\n \n-# Pattern to match compiler flags for creating libNAME_p libraries:\n-profile_flag_pattern='$profile_flag_pattern'\n+# Compiler flag to allow reflexive dlopens.\n+export_dynamic_flag_spec=\"$export_dynamic_flag_spec\"\n \n # Library versioning type.\n version_type=$version_type\n \n+# Format of library name prefix.\n+libname_spec=\"$libname_spec\"\n+\n # List of archive names.  First name is the real one, the rest are links.\n # The last name is the one that the linker finds with -lNAME.\n-library_names_spec='$library_names_spec'\n+library_names_spec=\"$library_names_spec\"\n \n # The coded name of the library, if different from the real name.\n-soname_spec='$soname_spec'\n+soname_spec=\"$soname_spec\"\n \n # Commands used to build and install an old-style archive.\n-RANLIB='$RANLIB'\n-old_archive_cmds='$old_archive_cmds'\n-old_postinstall_cmds='$old_postinstall_cmds'\n+RANLIB=\"$RANLIB\"\n+old_archive_cmds=\"$old_archive_cmds\"\n+old_postinstall_cmds=\"$old_postinstall_cmds\"\n+old_postuninstall_cmds=\"$old_postuninstall_cmds\"\n+\n+# Create an old-style archive from a shared archive.\n+old_archive_from_new_cmds=\"$old_archive_from_new_cmds\"\n \n # Commands used to build and install a shared archive.\n-archive_cmds='$archive_cmds'\n-postinstall_cmds='$postinstall_cmds'\n+archive_cmds=\"$archive_cmds\"\n+postinstall_cmds=\"$postinstall_cmds\"\n+postuninstall_cmds=\"$postuninstall_cmds\"\n \n # Flag that allows shared libraries with undefined symbols to be built.\n-allow_undefined_flag='$allow_undefined_flag'\n+allow_undefined_flag=\"$allow_undefined_flag\"\n+\n+# Flag that forces no undefined symbols.\n+no_undefined_flag=\"$no_undefined_flag\"\n \n # Commands used to finish a libtool library installation in a directory.\n-finish_cmds='$finish_cmds'\n+finish_cmds=\"$finish_cmds\"\n+\n+# Same as above, but a single script fragment to be evaled but not shown.\n+finish_eval=\"$finish_eval\"\n \n-# How to strip a library file.\n-striplib='$striplib'\n-old_striplib='$old_striplib'\n+# Take the output of nm and produce a listing of raw symbols and C names.\n+global_symbol_pipe=\"$global_symbol_pipe\"\n \n # This is the shared library runtime path variable.\n runpath_var=$runpath_var\n@@ -1012,10 +1571,10 @@ hardcode_action=$hardcode_action\n \n # Flag to hardcode \\$libdir into a binary during linking.\n # This must work even if \\$libdir does not exist.\n-hardcode_libdir_flag_spec='$hardcode_libdir_flag_spec'\n+hardcode_libdir_flag_spec=\"$hardcode_libdir_flag_spec\"\n \n # Whether we need a single -rpath flag with a separated argument.\n-hardcode_libdir_separator='$hardcode_libdir_separator'\n+hardcode_libdir_separator=\"$hardcode_libdir_separator\"\n \n # Set to yes if using DIR/libNAME.so during linking hardcodes DIR into the\n # resulting binary.\n@@ -1025,37 +1584,33 @@ hardcode_direct=$hardcode_direct\n # resulting binary.\n hardcode_minus_L=$hardcode_minus_L\n \n-# Set to yes if using RUNPATH_VAR=DIR during linking hardcodes DIR into the\n-# resulting binary.\n-hardcode_runpath_var=$hardcode_runpath_var\n-\n # Set to yes if using SHLIBPATH_VAR=DIR during linking hardcodes DIR into\n # the resulting binary.\n hardcode_shlibpath_var=$hardcode_shlibpath_var\n-\n EOF\n \n-# Detect if we are using a relative or absolute path to ltmain.sh.\n-case \"$ltmain\" in\n-/*) cat <<EOF2 >> $ofile\n-# Execute the libtool backend.\n-. $ltmain\n-EOF2\n-  ;;\n-*) cat <<EOF3 >> $ofile\n-# Find the path to this script.\n-thisdir=\\`echo \"\\$0\" | sed -e 's%/[^/]*\\$%%'\\`\n-test \"X\\$0\" = \"X\\$thisdir\" && thisdir=.\n-\n-# Execute the libtool backend.\n-. \\$thisdir/$ltmain\n-EOF3\n+case \"$host_os\" in\n+aix3*)\n+  cat <<\\EOF >> \"$ofile\"\n+\n+# AIX sometimes has problems with the GCC collect2 program.  For some\n+# reason, if we set the COLLECT_NAMES environment variable, the problems\n+# vanish in a puff of smoke.\n+if test \"${COLLECT_NAMES+set}\" != set; then\n+  COLLECT_NAMES=\n+  export COLLECT_NAMES\n+fi\n+EOF\n   ;;\n esac\n \n-echo 'exit 1' >> $ofile\n+echo '### END LIBTOOL CONFIG' >> \"$ofile\"\n+echo >> \"$ofile\"\n+\n+# Append the ltmain.sh script.\n+cat \"$ltmain\" >> \"$ofile\" || (rm -f \"$ofile\"; exit 1)\n \n-chmod +x $ofile\n+chmod +x \"$ofile\"\n exit 0\n \n # Local Variables:"}, {"sha": "1893b011a6df0b8fe4b1e33b2927523d9189c2e1", "filename": "ltmain.sh", "status": "modified", "additions": 1641, "deletions": 934, "changes": 2575, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf4ccd63bc9d72c975529785f74743a9310a37d6/ltmain.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf4ccd63bc9d72c975529785f74743a9310a37d6/ltmain.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltmain.sh?ref=cf4ccd63bc9d72c975529785f74743a9310a37d6"}, {"sha": "86d9530fa3b564689219d3cb2ffde4fa08a93a28", "filename": "mpw-build.in", "status": "removed", "additions": 0, "deletions": 204, "changes": 204, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c7d6038b2f841c8eadc238931b04344b26da828/mpw-build.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c7d6038b2f841c8eadc238931b04344b26da828/mpw-build.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/mpw-build.in?ref=9c7d6038b2f841c8eadc238931b04344b26da828", "patch": "@@ -1,204 +0,0 @@\n-# Top-level script fragment to build everything for MPW.\n-\n-Set savedir \"`Directory`\"\n-\n-#Set Echo 1\n-\n-Set ThisScript \"{0}\"\n-\n-Set objdir \":\"\n-\n-Set verify 0\n-\n-Set BuildTarget \"none\"\n-\n-# Parse arguments.\n-\n-Loop\n-\tBreak If {#} == 0\n-\t\tIf \"{BuildTarget}\" =~ /none/\n-\t\t\tSet BuildTarget \"{1}\"\n-\t\tElse\n-\t\t\tEcho Only one build target allowed, ignoring \"{1}\"\n-\t\tEnd If\n-\tShift 1\n-End Loop\n-\n-If \"{BuildTarget}\" =~ /none/\n-\tSet BuildTarget \"all\"\n-End If\n-\n-If {verify} == 1\n-\tEcho \"#\" Doing \"{ThisScript}\" \"{BuildTarget}\" in \"`Directory`\" ... \n-End If\n-\n-Set ranmake 0\n-\n-If \"`Exists Makefile`\" != \"\"\n-\tEcho \"Set Echo 1\" >{BuildTarget}.makeout\n-\tMake -f Makefile {BuildTarget} >>{BuildTarget}.makeout\n-\t{BuildTarget}.makeout\n-\tDelete {BuildTarget}.makeout\n-\tSet ranmake 1\n-End If\n-\n-If \"`Exists Makefile.PPC`\" != \"\"\n-\tEcho \"Set Echo 1\" >{BuildTarget}.makeout.ppc\n-\tMake -f Makefile.PPC {BuildTarget} >>{BuildTarget}.makeout.ppc\n-\t{BuildTarget}.makeout.ppc\n-\tDelete {BuildTarget}.makeout.ppc\n-\tSet ranmake 1\n-End If\n-\n-If {ranmake} == 1\n-\tExit\n-End If\n-\n-# Dispatch on various pseudo-targets.\n-\n-If \"{BuildTarget}\" =~ /all/\n-\tEcho Started `Date`\n-\t\"{ThisScript}\" all-gcc\n-\t\"{ThisScript}\" all-gdb\n-\tEcho Finished `Date`\n-Else If \"{BuildTarget}\" =~ /all-libiberty/\n-\t\"{ThisScript}\" do-libiberty\n-Else If \"{BuildTarget}\" =~ /all-bfd/\n-\t\"{ThisScript}\" do-bfd\n-Else If \"{BuildTarget}\" =~ /all-opcodes/\n-\t\"{ThisScript}\" do-opcodes\n-Else If \"{BuildTarget}\" =~ /all-byacc/\n-\t\"{ThisScript}\" do-byacc\n-Else If \"{BuildTarget}\" =~ /all-flex/\n-\t\"{ThisScript}\" all-libiberty\n-\t\"{ThisScript}\" do-flex\n-Else If \"{BuildTarget}\" =~ /all-binutils/\n-\t\"{ThisScript}\" all-libiberty\n-\t\"{ThisScript}\" all-bfd\n-\t\"{ThisScript}\" all-opcodes\n-\t\"{ThisScript}\" do-binutils\n-Else If \"{BuildTarget}\" =~ /all-gas/\n-\t\"{ThisScript}\" all-libiberty\n-\t\"{ThisScript}\" all-bfd\n-\t\"{ThisScript}\" all-opcodes\n-\t\"{ThisScript}\" do-gas\n-Else If \"{BuildTarget}\" =~ /all-gcc/\n-\t\"{ThisScript}\" all-libiberty\n-\t\"{ThisScript}\" all-gas\n-\t\"{ThisScript}\" all-binutils\n-\t\"{ThisScript}\" all-ld\n-\t\"{ThisScript}\" do-gcc\n-Else If \"{BuildTarget}\" =~ /all-gdb/\n-\t\"{ThisScript}\" all-libiberty\n-\t\"{ThisScript}\" all-bfd\n-\t\"{ThisScript}\" all-opcodes\n-\t\"{ThisScript}\" do-gdb\n-Else If \"{BuildTarget}\" =~ /all-grez/\n-\t\"{ThisScript}\" all-libiberty\n-\t\"{ThisScript}\" all-bfd\n-\t\"{ThisScript}\" do-grez\n-Else If \"{BuildTarget}\" =~ /all-ld/\n-\t\"{ThisScript}\" all-libiberty\n-\t\"{ThisScript}\" all-bfd\n-\t\"{ThisScript}\" all-opcodes\n-\t\"{ThisScript}\" do-ld\n-Else If \"{BuildTarget}\" =~ /do-byacc/\n-\tSetDirectory :byacc:\n-\t::mpw-build all\n-Else If \"{BuildTarget}\" =~ /do-flex/\n-\tSetDirectory :flex:\n-\t::mpw-build _bootstrap\n-\t::mpw-build all\n-Else If \"{BuildTarget}\" =~ /do-bfd/\n-\tSetDirectory :bfd:\n-\t::mpw-build all\n-Else If \"{BuildTarget}\" =~ /do-libiberty/\n-\tSetDirectory :libiberty:\n-\t::mpw-build all\n-Else If \"{BuildTarget}\" =~ /do-opcodes/\n-\tSetDirectory :opcodes:\n-\t::mpw-build all\n-Else If \"{BuildTarget}\" =~ /do-binutils/\n-\tSetDirectory :binutils:\n-\t::mpw-build stamps\n-\t::mpw-build all\n-Else If \"{BuildTarget}\" =~ /do-gas/\n-\tSetDirectory :gas:\n-\t::mpw-build stamps\n-\t::mpw-build all\n-Else If \"{BuildTarget}\" =~ /do-gcc/\n-\tSetDirectory :gcc:\n-\t:mpw-build all\n-Else If \"{BuildTarget}\" =~ /do-gdb/\n-\tSetDirectory :gdb:\n-\t::mpw-build all\n-Else If \"{BuildTarget}\" =~ /do-grez/\n-\tSetDirectory :grez:\n-\t::mpw-build all\n-Else If \"{BuildTarget}\" =~ /do-ld/\n-\tSetDirectory :ld:\n-\t::mpw-build all\n-Else If \"{BuildTarget}\" =~ /do-newlib/\n-\tSetDirectory :newlib:\n-\t::mpw-build all\n-Else If \"{BuildTarget}\" =~ /install/\n-\t\"{ThisScript}\" install-only-top\n-\t\"{ThisScript}\" install-binutils\n-\t\"{ThisScript}\" install-gas\n-\t\"{ThisScript}\" install-gcc\n-\t\"{ThisScript}\" install-ld\n-\t\"{ThisScript}\" install-gdb\n-Else If \"{BuildTarget}\" =~ /install-binutils/\n-\tSetDirectory :binutils:\n-\t::mpw-build install\n-Else If \"{BuildTarget}\" =~ /install-gas/\n-\tSetDirectory :gas:\n-\t::mpw-build install\n-Else If \"{BuildTarget}\" =~ /install-gcc/\n-\tSetDirectory :gcc:\n-\t:mpw-build install\n-Else If \"{BuildTarget}\" =~ /install-gdb/\n-\tSetDirectory :gdb:\n-\t::mpw-build install\n-Else If \"{BuildTarget}\" =~ /install-grez/\n-\tSetDirectory :grez:\n-\t::mpw-build install\n-Else If \"{BuildTarget}\" =~ /install-ld/\n-\tSetDirectory :ld:\n-\t::mpw-build install\n-Else If \"{BuildTarget}\" =~ /install-only/\n-\t\"{ThisScript}\" install-only-top\n-\t\"{ThisScript}\" install-only-binutils\n-\t\"{ThisScript}\" install-only-gas\n-\t\"{ThisScript}\" install-only-gcc\n-\t\"{ThisScript}\" install-only-gdb\n-\t\"{ThisScript}\" install-only-ld\n-Else If \"{BuildTarget}\" =~ /install-only-binutils/\n-\tSetDirectory :binutils:\n-\t::mpw-build install-only\n-Else If \"{BuildTarget}\" =~ /install-only-gas/\n-\tSetDirectory :gas:\n-\t::mpw-build install-only\n-Else If \"{BuildTarget}\" =~ /install-only-gcc/\n-\tSetDirectory :gcc:\n-\t:mpw-build install-only\n-Else If \"{BuildTarget}\" =~ /install-only-gdb/\n-\tSetDirectory :gdb:\n-\t::mpw-build install-only\n-Else If \"{BuildTarget}\" =~ /install-only-grez/\n-\tSetDirectory :grez:\n-\t::mpw-build install-only\n-Else If \"{BuildTarget}\" =~ /install-only-ld/\n-\tSetDirectory :ld:\n-\t::mpw-build install-only\n-Else If \"{BuildTarget}\" =~ /install-only-top/\n-\tNewFolderRecursive \"{prefix}\"\n-\tIf \"{prefix}\" != \"`Directory`\"\n-\t\tDuplicate -y 'Read Me for MPW' \"{prefix}\"'Read Me for MPW'\n-\t\tDuplicate -y Install \"{prefix}\"Install\n-\tEnd If\n-Else\n-\tEcho {BuildTarget} not understood, ignoring\n-End If\n-\n-SetDirectory \"{savedir}\""}, {"sha": "8028737a8b61fce6aef69e25f6ddf949f3380ef2", "filename": "mpw-config.in", "status": "removed", "additions": 0, "deletions": 113, "changes": 113, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c7d6038b2f841c8eadc238931b04344b26da828/mpw-config.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c7d6038b2f841c8eadc238931b04344b26da828/mpw-config.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/mpw-config.in?ref=9c7d6038b2f841c8eadc238931b04344b26da828", "patch": "@@ -1,113 +0,0 @@\n-# Configuration fragment for Cygnus source tree.\n-\n-# Check that we can find all the special tools that we will need.\n-# The test for sed is semi-pointless, because it's already been invoked\n-# by the calculation of target_cpu in the main configure script, but\n-# the test will also show which one is being used.\n-\n-Set Exit 0\n-Echo byacc is `Which byacc`\n-Echo flex is `Which flex`\n-Echo forward-include is `Which forward-include`\n-Echo MoveIfChange is `Which MoveIfChange`\n-Echo mpw-touch is `Which mpw-touch`\n-Echo mpw-true is `Which mpw-true`\n-Echo NewFolderRecursive is `Which NewFolderRecursive`\n-Echo null-command is `Which null-command`\n-Echo open-brace is `Which open-brace`\n-Echo sed is `Which sed`\n-Echo 'tr-7to8' is `Which tr-7to8`\n-Echo true is `Which true`\n-Set Exit 1\n-\n-Set host_libs \"mmalloc libiberty opcodes bfd readline gash tcl tk tclX\"\n-\n-Set host_tools \"texinfo byacc flex bison binutils ld gas gcc gdb make patch \\Option-d\n-\t    prms send-pr gprof gdbtest tgas etc expect dejagnu sim bash \\Option-d\n-\t    m4 autoconf ispell grep diff rcs cvs fileutils shellutils time \\Option-d\n-\t    textutils wdiff find emacs emacs19 uudecode hello tar gzip indent \\Option-d\n-\t    recode release sed utils guile perl apache inet gawk\"\n-\n-Set target_libs \"newlib\"\n-\n-Set target_tools \"examples\"\n-\n-# Configure the resource compiler if targeting Macs.\n-If {target_os} =~ /macos/ || {target_os} =~ /mpw/\n-\tSet host_tools \"{host_tools} grez\"\n-End If\n-\t\n-Set configdirs \"{host_libs} {host_tools} {target_libs} {target_tools}\"\n-Export configdirs\n-\n-# Make up a special include directory that tools will share.\n-\n-If \"`Exists \"{objdir}\"extra-include`\" == \"\"\n-\tNewFolder \"{objdir}\"extra-include\n-End If\n-\n-Set edir \"{objdir}extra-include:\"\n-\n-forward-include \"{srcdir}\"include:mpw:sys:file.h \"{edir}\"'sys/file.h'\n-forward-include \"{srcdir}\"include:mpw:sys:ioctl.h \"{edir}\"'sys/ioctl.h'\n-forward-include \"{srcdir}\"include:mpw:sys:param.h \"{edir}\"'sys/param.h'\n-forward-include \"{srcdir}\"include:mpw:sys:resource.h \"{edir}\"'sys/resource.h'\n-forward-include \"{srcdir}\"include:mpw:sys:stat.h \"{edir}\"'sys/stat.h'\n-forward-include \"{srcdir}\"include:mpw:sys:time.h \"{edir}\"'sys/time.h'\n-forward-include \"{srcdir}\"include:mpw:sys:types.h \"{edir}\"'sys/types.h'\n-\n-forward-include \"{srcroot}\"include:aout:aout64.h \"{edir}\"'aout/aout64.h'\n-forward-include \"{srcroot}\"include:aout:ar.h \"{edir}\"'aout/ar.h'\n-forward-include \"{srcroot}\"include:aout:ranlib.h \"{edir}\"'aout/ranlib.h'\n-forward-include \"{srcroot}\"include:aout:reloc.h \"{edir}\"'aout/reloc.h'\n-forward-include \"{srcroot}\"include:aout:stab.def \"{edir}\"'aout/stab.def'\n-forward-include \"{srcroot}\"include:aout:stab_gnu.h \"{edir}\"'aout/stab_gnu.h'\n-\n-If \"`Exists \"{srcroot}\"include:aout:\"{target_cpu}\".h`\" != \"\"\n-\tforward-include \"{srcroot}\"include:aout:\"{target_cpu}\".h \"{edir}\"'aout/'\"{target_cpu}\"'.h'\n-End If\n-\n-forward-include \"{srcroot}\"include:coff:ecoff.h \"{edir}\"'coff/ecoff.h'\n-forward-include \"{srcroot}\"include:coff:internal.h \"{edir}\"'coff/internal.h'\n-forward-include \"{srcroot}\"include:coff:sym.h \"{edir}\"'coff/sym.h'\n-forward-include \"{srcroot}\"include:coff:symconst.h \"{edir}\"'coff/symconst.h'\n-\n-If \"`Exists \"{srcroot}\"include:coff:\"{target_cpu}\".h`\" != \"\"\n-\tforward-include \"{srcroot}\"include:coff:\"{target_cpu}\".h \"{edir}\"'coff/'\"{target_cpu}\"'.h'\n-End If\n-If \"{target_cpu}\" =~ /powerpc/\n-\tforward-include \"{srcroot}\"include:coff:rs6000.h \"{edir}\"'coff/rs6000.h'\n-End If\n-\n-forward-include \"{srcroot}\"include:elf:common.h \"{edir}\"'elf/common.h'\n-forward-include \"{srcroot}\"include:elf:dwarf.h \"{edir}\"'elf/dwarf.h'\n-forward-include \"{srcroot}\"include:elf:dwarf2.h \"{edir}\"'elf/dwarf2.h'\n-forward-include \"{srcroot}\"include:elf:external.h \"{edir}\"'elf/external.h'\n-forward-include \"{srcroot}\"include:elf:internal.h \"{edir}\"'elf/internal.h'\n-\n-# Believe it or not, GDB needs this for all targets.\n-forward-include \"{srcroot}\"include:elf:mips.h \"{edir}\"'elf/mips.h'\n-\n-If \"`Exists \"{srcroot}\"include:elf:\"{target_cpu}\".h`\" != \"\"\n-\tforward-include \"{srcroot}\"include:elf:\"{target_cpu}\".h \"{edir}\"'elf/'\"{target_cpu}\"'.h'\n-End If\n-If \"{target_cpu}\" =~ /powerpc/\n-\tforward-include \"{srcroot}\"include:elf:ppc.h \"{edir}\"'elf/ppc.h'\n-End If\n-\n-If \"`Exists \"{srcroot}\"include:opcode:\"{target_cpu}\".h`\" != \"\"\n-\tforward-include \"{srcroot}\"include:opcode:\"{target_cpu}\".h \"{edir}\"'opcode/'\"{target_cpu}\"'.h'\n-End If\n-If \"{target_cpu}\" =~ /powerpc/\n-\tforward-include \"{srcroot}\"include:opcode:ppc.h \"{edir}\"'opcode/ppc.h'\n-End If\n-\n-# Add some bfd includes that get mentioned outside the bfd dir.\n-\t\n-forward-include \"{srcroot}\"bfd:libcoff.h \"{edir}\"'bfd/libcoff.h'\n-forward-include \"{srcroot}\"bfd:libecoff.h \"{edir}\"'bfd/libecoff.h'\n-\n-# Translate random files into MPW-only character set.\n-\n-tr-7to8 \"{srcdir}\"mpw-README > \"{objdir}Read Me for MPW\"\n-tr-7to8 \"{srcdir}\"mpw-install > \"{objdir}\"Install"}, {"sha": "cf45148ec6361327d70226fee62f38b93dcdb1a7", "filename": "mpw-configure", "status": "removed", "additions": 0, "deletions": 448, "changes": 448, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c7d6038b2f841c8eadc238931b04344b26da828/mpw-configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c7d6038b2f841c8eadc238931b04344b26da828/mpw-configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/mpw-configure?ref=9c7d6038b2f841c8eadc238931b04344b26da828", "patch": "@@ -1,448 +0,0 @@\n-# Configuration script\n-# Copyright (C) 1994, 1995, 1996 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2 of the License, or\n-# (at your option) any later version.\n-# \n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-# \n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n-\n-### WARNING\n-### This script must NOT use any 8-bit chars!\n-### WARNING\n-\n-# This is an MPW Shell script that sets everything up for compilation,\n-# mainly creating directories, and editing copies of files.\n-\n-Set savedir \"`Directory`\"\n-\n-#Set Echo 1\n-\n-Set ThisScript \"{0}\"\n-\n-Set srcroot \"--------\"\n-\n-Set srcdir \":\"\n-\n-Set objdir \":\"\n-\n-Set prefix \"{MPW}\":GNUTools:\n-\n-Set exec_prefix \"\"\n-\n-Set bindir \"\"\n-\n-Set host_alias \"m68k-apple-mpw\"\n-\n-Set target_alias {host_alias}\n-\n-Set host_cc \"mpwc\"\n-\n-Set with_gnu_ld 0\n-\n-Set helpoutput 0\n-\n-Set recurse 1\n-\n-Set verify 0\n-Set verifystr \"\"\n-\n-Set enable_options \"\"\n-Set disable_options \"\"\n-\n-# Parse arguments.\n-\n-Loop\n-\tBreak If {#} == 0\n-\tIf \"{1}\" =~ /--cc/\n-\t\tSet host_cc \"{2}\"\n-\t\tShift 1\n-\tElse If \"{1}\" =~ /--bindir/\n-\t\tSet bindir \"{2}\"\n-\t\tShift 1\n-\tElse If \"{1}\" =~ /--disable-?+/\n-\t\tSet `Echo {1} | sed -e 's/--disable-/enable_/'` no\n-\t\tSet disable_options \"{disable_options} '{1}'\"\n-\tElse If \"{1}\" =~ /--enable-?+/\n-\t\tSet `Echo {1} | sed -e 's/--enable-/enable_/'` yes\n-\t\tSet enable_options \"{enable_options} '{1}'\"\n-\tElse If \"{1}\" =~ /--exec-prefix/\n-\t\tSet exec_prefix \"{2}\"\n-\t\tShift 1\n-\tElse If \"{1}\" =~ /--help/\n-\t\tSet helpoutput 1\n-\tElse If \"{1}\" =~ /--host/\n-\t\tSet host_alias \"{2}\"\n-\t\tShift 1\n-\tElse If \"{1}\" =~ /--norecursion/\n-\t\tSet recurse 0\n-\tElse If \"{1}\" =~ /--prefix/\n-\t\tSet prefix \"{2}\"\n-\t\tShift 1\n-\tElse If \"{1}\" =~ /--srcdir/\n-\t\tSet srcdir \"{2}\"\n-\t\tShift 1\n-\tElse If \"{1}\" =~ /--srcroot/\n-\t\tSet srcroot \"{2}\"\n-\t\tShift 1\n-\tElse If \"{1}\" =~ /--target/\n-\t\tSet target_alias \"{2}\"\n-\t\tShift 1\n-\tElse If \"{1}\" =~ /-v/\n-\t\tSet verify 1\n-\t\tSet verifystr \"-v\"\n-\tElse If \"{1}\" =~ /--with-gnu-ld/\n-\t\tSet with_gnu_ld 1\n-\tElse\n-\t\tEcho -n 'mpw-configure: Unrecognized option: \"'\n-\t\tEcho -n \"{1}\"\n-\t\tEcho '\"; use --help for usage.'\n-\t\tExit 1\n-\tEnd If\n-\tShift 1\n-End Loop\n-\n-If {helpoutput} == 1\n-\tEcho \"Usage: mpw-configure [OPTIONS]\"\n-\tEcho \"\"\n-\tEcho \"Options: [defaults in brackets]\"\n-\tEcho \"--bindir DIR      directory for binaries []\"\n-\tEcho \"--cc CC           use C compiler CC [mpwc]\"\n-\tEcho \"--disable-FOO     do not include feature FOO\"\n-\tEcho \"--enable-FOO      include feature FOO\"\n-\tEcho \"--exec-prefix DIR install host-dependent files into DIR []\"\n-\tEcho \"--help            print this message\"\n-\tEcho \"--host HOST       configure for HOST [m68k-apple-mpw]\"\n-\tEcho \"--norecursion     configure this directory only [recurse]\"\n-\tEcho \"--prefix DIR      install into DIR [{MPW}:GNUTools:]\"\n-\tEcho \"--srcdir DIR      find the sources in DIR [:]\"\n-\tEcho \"--srcroot DIR     find the toplevel sources in DIR [:]\"\n-\tEcho \"--target TARGET   configure for TARGET [TARGET=HOST]\"\n-\tEcho \"-v                verbose\"\n-\tEcho \"--with-gnu-ld     link using GNU ld [no]\"\n-\tExit 0\n-End If\n-\n-Set Exit 0\n-\n-# Default exec_prefix from prefix.\n-\n-If \"{exec_prefix}\" == \"\"\n-\tSet exec_prefix \"{prefix}\"\n-End If\n-\n-If \"{bindir}\" == \"\"\n-\tSet bindir \"{prefix}\"bin:\n-End If\n-\n-# Point to the correct set of tools to use with the chosen compiler.\n-\n-If \"{host_cc}\" =~ /mpwc/\n-\tSet host_alias \"m68k-apple-mpw\"\n-\tSet cc_name '{CC_MPW_C}'\n-\tSet segment_flag '-s '\n-\tSet ar_name '{AR_LIB}'\n-\tSet ranlib_name '{RANLIB_NULL}'\n-\tSet cc_ld_name '{CC_LD_LINK}'\n-\tSet prog_ext_name '{PROG_EXT_68K}'\n-\tSet extralibs_name '{EXTRALIBS_C}'\n-\tSet makepef_name '{MAKEPEF_NULL}'\n-\tSet rez_name '{REZ_68K}'\n-Else If \"{host_cc}\" =~ /sc68k/\n-\tSet host_alias \"m68k-apple-mpw\"\n-\tSet cc_name '{CC_SC}'\n-\tSet segment_flag '-s '\n-\tSet ar_name '{AR_LIB}'\n-\tSet ranlib_name '{RANLIB_NULL}'\n-\tSet cc_ld_name '{CC_LD_LINK}'\n-\tSet prog_ext_name '{PROG_EXT_68K}'\n-\tSet extralibs_name '{EXTRALIBS_C}'\n-\tSet makepef_name '{MAKEPEF_NULL}'\n-\tSet rez_name '{REZ_68K}'\n-Else If \"{host_cc}\" =~ /mwc68k/\n-\tSet host_alias \"m68k-apple-mpw\"\n-\tSet cc_name '{CC_MWC68K}'\n-\tSet segment_flag '-s '\n-\tSet ar_name '{AR_MWLINK68K}'\n-\tSet ranlib_name '{RANLIB_NULL}'\n-\tSet cc_ld_name '{CC_LD_MWLINK68K}'\n-\tSet prog_ext_name '{PROG_EXT_68K}'\n-\tSet extralibs_name '{EXTRALIBS_MWC68K}'\n-\tSet makepef_name '{MAKEPEF_NULL}'\n-\tSet rez_name '{REZ_68K}'\n-Else If \"{host_cc}\" =~ /gcc68k/\n-\tSet host_alias \"m68k-apple-mpw\"\n-\tSet cc_name '{CC_68K_GCC}'\n-\tSet segment_flag '-s '\n-\tSet ar_name '{AR_68K_AR}'\n-\tSet ranlib_name '{RANLIB_RANLIB}'\n-\tSet cc_ld_name '{CC_68K_GCC}'\n-\tSet prog_ext_name '{PROG_EXT_68K}'\n-\tSet extralibs_name '{EXTRALIBS_C}'\n-\tSet makepef_name '{MAKEPEF_NULL}'\n-\tSet rez_name '{REZ_68K}'\n-Else If \"{host_cc}\" =~ /ppcc/\n-\tSet host_alias \"powerpc-apple-mpw\"\n-\tSet cc_name '{CC_PPCC}'\n-\tSet segment_flag '-d ___s_e_g___='\n-\tSet ar_name '{AR_PPCLINK}'\n-\tSet ranlib_name '{RANLIB_NULL}'\n-\tSet cc_ld_name '{CC_LD_PPCLINK}'\n-\tSet prog_ext_name '{PROG_EXT_XCOFF}'\n-\tSet extralibs_name '{EXTRALIBS_PPC}'\n-\tSet makepef_name '{MAKEPEF_PPC}'\n-\tSet rez_name '{REZ_PPC}'\n-Else If \"{host_cc}\" =~ /mrc/\n-\tSet host_alias \"powerpc-apple-mpw\"\n-\tSet cc_name '{CC_MRC}'\n-\tSet segment_flag '-d ___s_e_g___='\n-\tSet ar_name '{AR_PPCLINK}'\n-\tSet ranlib_name '{RANLIB_NULL}'\n-\tSet cc_ld_name '{CC_LD_PPCLINK}'\n-\tSet prog_ext_name '{PROG_EXT_XCOFF}'\n-\tSet extralibs_name '{EXTRALIBS_PPC}'\n-\tSet makepef_name '{MAKEPEF_PPC}'\n-\tSet rez_name '{REZ_PPC}'\n-Else If \"{host_cc}\" =~ /scppc/\n-\tSet host_alias \"powerpc-apple-mpw\"\n-\tSet cc_name '{CC_SC}'\n-\tSet segment_flag '-d ___s_e_g___='\n-\tSet ar_name '{AR_PPCLINK}'\n-\tSet ranlib_name '{RANLIB_NULL}'\n-\tSet cc_ld_name '{CC_LD_PPCLINK}'\n-\tSet prog_ext_name '{PROG_EXT_XCOFF}'\n-\tSet extralibs_name '{EXTRALIBS_PPC}'\n-\tSet makepef_name '{MAKEPEF_PPC}'\n-\tSet rez_name '{REZ_PPC}'\n-Else If \"{host_cc}\" =~ /mwcppc/\n-\tSet host_alias \"powerpc-apple-mpw\"\n-\tSet cc_name '{CC_MWCPPC}'\n-\tSet segment_flag '-d ___s_e_g___='\n-\tSet ar_name '{AR_MWLINKPPC}'\n-\tSet ranlib_name '{RANLIB_NULL}'\n-\tSet cc_ld_name '{CC_LD_MWLINKPPC}'\n-\t# Misleading, but we don't need a PEF step.\n-\tSet prog_ext_name '{PROG_EXT_68K}'\n-\tSet extralibs_name '{EXTRALIBS_MWCPPC}'\n-\tSet makepef_name '{MAKEPEF_NULL}'\n-\tSet rez_name '{REZ_PPC}'\n-Else If \"{host_cc}\" =~ /gccppc/\n-\tSet host_alias \"powerpc-apple-mpw\"\n-\tSet cc_name '{CC_PPC_GCC}'\n-\tSet segment_flag '-d ___s_e_g___='\n-\tSet ar_name '{AR_PPCLINK}'\n-\tIf {with_gnu_ld} == 1\n-\t\tSet ranlib_name '{RANLIB_RANLIB}'\n-\t\tSet cc_ld_name '{CC_LD_GLD}'\n-\tElse\n-\t\tSet ranlib_name '{RANLIB_NULL}'\n-\t\tSet cc_ld_name '{CC_LD_PPCLINK}'\n-\tEnd If\n-\tSet prog_ext_name '{PROG_EXT_XCOFF}'\n-\tSet extralibs_name '{EXTRALIBS_PPC}'\n-\tSet makepef_name '{MAKEPEF_PPC}'\n-\tSet rez_name '{REZ_PPC}'\n-Else\n-\tEcho \"{host_cc}\" is not a known MPW compiler type\n-End If\n-\n-Set dash_c_flag ''\n-If \"{host_cc}\" =~ /gcc68k/\n-\tSet dash_c_flag '-c'\n-Else If \"{host_cc}\" =~ /gccppc/\n-\tSet dash_c_flag '-c'\n-End If\n-\n-# (should interpret aliases if not in canonical form)\n-\n-Set host_canonical \"{host_alias}\"\n-\n-Set target_canonical \"{target_alias}\"\n-\n-Set configdirs \"\"\n-\n-If \"{srcroot}\" =~ /--------/\n-\tSet srcroot \"{srcdir}\"\n-End If\n-If \"`Exists \"{srcdir}\"`\" == \"\"\n-\tEcho Source directory {srcdir} does not exist!\n-\tExit 1\n-End If\n-If \"`Exists \"{srcroot}\"`\" == \"\"\n-\tEcho Top-level source directory {srcroot} does not exist!\n-\tExit 1\n-End If\n-\n-Set target_cpu \"`echo {target_canonical} | sed 's/^\\(.*\\)-\\(.*\\)-\\(.*\\)$/\\1/'`\"\n-Set target_vendor \"`echo {target_canonical} | sed 's/^\\(.*\\)-\\(.*\\)-\\(.*\\)$/\\2/'`\"\n-Set target_os \"`echo {target_canonical} | sed 's/^\\(.*\\)-\\(.*\\)-\\(.*\\)$/\\3/'`\"\n-\n-# Create a file that is guaranteed to be older than any other here.\n-\n-If \"`Exists \"{objdir}\"_oldest`\" == \"\"\n-\tmpw-touch _oldest\n-End If\n-\n-# Record this before creating any files, makefiles sometimes mention\n-# dependencies on config.status.\n-\n-Echo \"# This directory was configured as follows:\" >config.new\n-Echo \"{ThisScript} --host {host_alias} --target {target_alias} --srcdir {srcdir}  --srcroot {srcroot}  --prefix {prefix} --cc {host_cc} {verifystr} {enable_options} {disable_options} --norecursion\" >>config.new\n-MoveIfChange config.new config.status\n-\n-If \"`Exists \"{srcdir}\"mpw-config.in`\" != \"\"\n-\ttr-7to8 \"{srcdir}\"mpw-config.in >\"{objdir}\"mpw-config.in\n-\tExecute \"{objdir}\"mpw-config.in\n-End If\n-\n-# Start Makefile construction by defining all the variables chosen by\n-# configuration.\n-\n-Echo \"# This Makefile produced by mpw-configure.  Changes may get lost!\" > \"{objdir}\"Makefile.tem\n-Echo \"srcroot = \" {srcroot}\t\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"topsrcdir = \" {srcroot}\t\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"srcdir = \" {srcdir}\t\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"mpw_prefix = \" {prefix}\t\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"mpw_exec_prefix = \" {exec_prefix}\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"mpw_bindir = \" {bindir}\t\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"host_alias = \" {host_alias}\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"target_alias = \" {target_alias}\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"target_cpu = \" {target_cpu}\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"target_vendor = \" {target_vendor}\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"target_os = \" {target_os}\t\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"target_canonical = \" {target_canonical}\t>> \"{objdir}\"Makefile.tem\n-Echo \"host_makefile_frag = \"\t\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"target_makefile_frag = \"\t\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"CC = \" {cc_name}\t\t\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"AR = \" {ar_name}\t\t\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"RANLIB = \" {ranlib_name}\t\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"CC_LD = \" {cc_ld_name}\t\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"PROG_EXT = \" {prog_ext_name}\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"EXTRALIBS = \" {extralibs_name}\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"MAKEPEF = \" {makepef_name}\t\t>> \"{objdir}\"Makefile.tem\n-Echo \"REZ = \" {rez_name}\t\t\t>> \"{objdir}\"Makefile.tem\n-\n-If {host_cc} =~ /gccppc/\n-\tEcho -n \"dq =\\Option-d\\Option-d\\Option-d\" > \"{objdir}\"Makefile.tem0\n-\tEcho '\"' \t\t\t\t >> \"{objdir}\"Makefile.tem0\n-\ttr-7to8  \"{objdir}\"Makefile.tem0\t>>\"{objdir}\"Makefile.tem\n-Else\n-\tEcho -n \"dq ='\" \t\t\t>> \"{objdir}\"Makefile.tem\n-\tEcho -n '\"' \t\t\t\t>> \"{objdir}\"Makefile.tem\n-\tEcho    \"'\" \t\t\t\t>> \"{objdir}\"Makefile.tem\n-End If\n-\n-# Append the master set of definitions for the various compilers.\n-\n-If \"`Exists \"{srcdir}\"config:mpw-mh-mpw`\" != \"\"\n-\ttr-7to8 \"{srcdir}\"config:mpw-mh-mpw >>\"{objdir}\"Makefile.tem\n-Else If \"`Exists \"{srcroot}\"config:mpw-mh-mpw`\" != \"\"\n-\ttr-7to8 \"{srcroot}\"config:mpw-mh-mpw >>\"{objdir}\"Makefile.tem\n-Else\n-\tEcho \"can't find a host config file!\"\n-\tExit 0\n-End If\n-\n-# Append anything produced by the directory's mpw-config.in.\n-\n-If \"`Exists \"{objdir}\"mk.tmp`\" != \"\"\n-\tCatenate \"{objdir}\"mk.tmp >>\"{objdir}\"Makefile.tem\n-\t# An mpw-config.in might change so as not to create this\n-\t# anymore, so get rid of it now to be safe.\n-\tDelete -i -y \"{objdir}\"mk.tmp\n-End If\n-\n-# If there are sed scripts to edit the Unix Makefile.in, use them; otherwise\n-# use an mpw-make.in if present.\n-\n-If \"`Exists \"{srcdir}\"mpw-make.sed`\" != \"\"\n-\tIf \"`Exists \"{objdir}\"hacked_Makefile.in`\" != \"\"\n-\t\tSet MakefileIn \"{objdir}\"hacked_Makefile.in\n-\tElse\n-\t\tSet MakefileIn \"{srcdir}\"Makefile.in\n-\tEnd If\n-\t# Find the generic makefile editing script.\n-\tIf \"`Exists \"{srcroot}\"config:mpw:g-mpw-make.sed`\" != \"\"\n-\t\tsed -f \"{srcroot}\"config:mpw:g-mpw-make.sed \"{MakefileIn}\" >\"{objdir}\"Makefile.tem1\n-\tElse If \"`Exists \"{srcroot}\"utils:mpw:g-mpw-make.sed`\" != \"\"\n-\t\tsed -f \"{srcroot}\"utils:mpw:g-mpw-make.sed \"{MakefileIn}\" >\"{objdir}\"Makefile.tem1\n-\tElse If \"`Exists \"{srcdir}\"g-mpw-make.sed`\" != \"\"\n-\t\tsed -f \"{srcdir}\"g-mpw-make.sed \"{MakefileIn}\" >\"{objdir}\"Makefile.tem1\n-\tElse\n-\t\tEcho Warning: g-mpw-make.sed not found, copying \"{MakefileIn}\" verbatim...\n-\t\tCatenate \"{MakefileIn}\" >\"{objdir}\"Makefile.tem1\n-\tEnd If\n-\tsed -f \"{srcdir}\"mpw-make.sed \"{objdir}\"Makefile.tem1 >\"{objdir}\"Makefile.tem2\n-\tsed -e 's/^prefix = .*$/prefix = {mpw_prefix}/g' -e 's/^exec_prefix = .*$/exec_prefix = {mpw_exec_prefix}/g' -e 's/^bindir = @bindir@/bindir = {mpw_bindir}/g' \"{objdir}\"Makefile.tem2 >\"{objdir}\"Makefile.tem3\n-\tsed -e \"s/@DASH_C_FLAG@/{dash_c_flag}/\" -e \"s/@SEGMENT_FLAG(\\([^)]*\\))@/{segment_flag}\\1/\" \"{objdir}\"Makefile.tem3 >\"{objdir}\"mpw-make.in\n-\ttr-7to8 \"{objdir}\"mpw-make.in >>\"{objdir}\"Makefile.tem\n-\tIf \"`Exists \"{objdir}\"mk.sed`\" != \"\"\n-\t\tsed -f \"{objdir}\"mk.sed \"{objdir}\"Makefile.tem >\"{objdir}\"Makefile.tem2\n-\t\tRename -y \"{objdir}\"Makefile.tem2 \"{objdir}\"Makefile.tem\n-\tEnd If\n-\tMoveIfChange \"{objdir}\"Makefile.tem \"{objdir}\"Makefile\n-\tDelete -i -y \"{objdir}\"Makefile.tem[12]\n-\tIf {verify} == 1\n-\t\tEcho Created Makefile in \"`Directory`\"\n-\tEnd If\n-Else If \"`Exists \"{srcdir}\"mpw-make.in`\" != \"\"\n-\tsed -e 's/^prefix = .*$/prefix = {mpw_prefix}/g' \"{srcdir}\"mpw-make.in >\"{objdir}\"Makefile.tem1\n-\tsed -e \"s/@DASH_C_FLAG@/{dash_c_flag}/\" -e \"s/@SEGMENT_FLAG(\\([^)]*\\))@/{segment_flag}}\\1/\" \"{objdir}\"Makefile.tem1 >\"{objdir}\"Makefile.tem2\n-\ttr-7to8 \"{objdir}\"Makefile.tem2 >>\"{objdir}\"Makefile.tem\n-\tIf \"`Exists \"{objdir}\"mk.sed`\" != \"\"\n-\t\tsed -f \"{objdir}\"mk.sed \"{objdir}\"Makefile.tem >\"{objdir}\"Makefile.tem2\n-\t\tRename -y \"{objdir}\"Makefile.tem2 \"{objdir}\"Makefile.tem\n-\tEnd If\n-\tMoveIfChange \"{objdir}\"Makefile.tem \"{objdir}\"Makefile\n-\tDelete -i -y \"{objdir}\"Makefile.tem[12]\n-\tIf {verify} == 1\n-\t\tEcho Created Makefile in \"`Directory`\"\n-\tEnd If\n-End If\n-\n-# Produce a build script if the source is defined.\n-\n-If \"`Exists \"{srcdir}\"mpw-build.in`\" != \"\"\n-\tEcho \"Set srcroot \" {srcroot} > \"{objdir}\"mpw-build.tem\n-\tEcho \"Set srcdir \" {srcdir} >> \"{objdir}\"mpw-build.tem\n-\tEcho \"Set target_canonical \" {target_canonical} >> \"{objdir}\"mpw-build.tem\n-\tEcho \"Set prefix \" {prefix} >> \"{objdir}\"mpw-build.tem\n-\ttr-7to8 \"{srcdir}\"mpw-build.in >>\"{objdir}\"mpw-build.tem\n-\tMoveIfChange \"{objdir}\"mpw-build.tem \"{objdir}\"mpw-build\n-\tIf {verify} == 1\n-\t\tEcho Created mpw-build in \"`Directory`\"\n-\tEnd If\n-End If\n-\n-# Apply ourselves recursively to the list of subdirectories to configure.\n-\n-If {recurse} == 1\n-\tFor subdir In {configdirs}\n-\t\tSet savedir \"`Directory`\"\n-\t\tIf \"`Exists \"{srcdir}{subdir}:\"`\" == \"\"\n-\t\t\tIf {verify} == 1\n-\t\t\t\tEcho No \"{srcdir}{subdir}:\" found, skipping\n-\t\t\tEnd If\n-\t\t\tContinue\n-\t\tEnd If\n-\t\tIf {verify} == 1\n-\t\t\tEcho Configuring {subdir}...\n-\t\tEnd If\n-\t\tIf \"`Exists \"{objdir}{subdir}:\"`\" == \"\"\n-\t\t\tNewFolder \"{objdir}{subdir}\"\n-\t\tEnd If\n-\t\tSetDirectory \"{objdir}{subdir}:\"\n-\t\t\"{ThisScript}\" --target \"{target_canonical}\" --srcdir \"{srcdir}{subdir}:\" --srcroot \"{srcroot}\" --prefix \"{prefix}\" --cc \"{host_cc}\" {verifystr} {enable_options} {disable_options}\n-\t\tSetDirectory \"{savedir}\"\n-\tEnd For\n-End If\n-\n-SetDirectory \"{savedir}\""}, {"sha": "04c5aac2a4f45ea62d9df04c5df802a3129dbf21", "filename": "mpw-install", "status": "removed", "additions": 0, "deletions": 122, "changes": 122, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c7d6038b2f841c8eadc238931b04344b26da828/mpw-install", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c7d6038b2f841c8eadc238931b04344b26da828/mpw-install", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/mpw-install?ref=9c7d6038b2f841c8eadc238931b04344b26da828", "patch": "@@ -1,122 +0,0 @@\n-# GNU Install script for MPW.\n-\n-Set OldExit \"{Exit}\"\n-Set Exit 0\n-\n-Set TempUserStartup \"{TempFolder}\"__temp__UserStartup\n-\n-Echo '# UserStartup generated by GNU Install script' > \"{TempUserStartup}\"\n-Echo ''\t\t\t\t\t\t>> \"{TempUserStartup}\"\n-\n-# (should) Check that disk space is sufficient for installation.\n-\n-# Assume that the install script is where everything else is.\n-\n-Set thisdir \"`Directory`\"\n-\n-# Copy the binaries to the desired place.\n-\n-Confirm -t \"Copy the binaries to somewhere else?\"\n-Set TmpStatus {Status}\n-If {TmpStatus} == 0\n-\tSet bindest \"`GetFileName -d -m \"Where to install the binaries?\"`\"\n-\tIf {Status} == 0\n-\t\tIf \"`Exists \"{thisdir}bin\"`\" != \"\"\n-\t\t\tFor afile In \"{thisdir}\"bin:\\Option-x\n-\t\t\t\tDuplicate -y \"{afile}\" \"{bindest}\"\n-\t\t\tEnd For\n-\t\tElse\n-\t\t\tEcho \"bin directory not found, exiting\"\n-\t\t\tExit 1\n-\t\tEnd If\n-\tElse\n-\t\tEcho \"No destination supplied, exiting\"\n-\t\tExit 1\n-\tEnd If\n-Else If {TmpStatus} == 4\n-\t# Use the existing directory.\n-\tSet bindest \"{thisdir}bin:\"\n-Else\n-\t# Cancelled from confirmation, escape altogether.\n-\tExit 1\n-End If\n-\n-# Copy the libraries to the desired place.\n-\n-Confirm -t \"Copy the libraries to somewhere else?\"\n-Set TmpStatus {Status}\n-If {TmpStatus} == 0\n-\tSet libdest \"`GetFileName -d -m \"Where to install the libraries?\"`\"\n-\tIf {Status} == 0\n-\t\tIf \"`Exists \"{thisdir}lib:\"`\" != \"\"\n-\t\t\tFor afile In \"{thisdir}\"lib:\\Option-x\n-\t\t\t\tDuplicate -y \"{afile}\" \"{libdest}\"\n-\t\t\tEnd For\n-\t\tElse\n-\t\t\tEcho \"lib directory not found, exiting\"\n-\t\t\tExit 1\n-\t\tEnd If\n-\tElse\n-\t\tEcho \"No destination supplied, exiting\"\n-\t\tExit 1\n-\tEnd If\n-Else If {TmpStatus} == 4\n-\t# Use the existing directory.\n-\tSet libdest \"{thisdir}lib:\"\n-Else\n-\t# Cancelled from confirmation, escape altogether.\n-\tExit 1\n-End If\n-\n-\n-# Add the location of the binaries to the command path.\n-\n-Echo -n 'Set Commands \"'\t\t\t>> \"{TempUserStartup}\"\n-Echo -n \"{bindest}\"\t\t\t\t>> \"{TempUserStartup}\"\n-Echo    ',{Commands}\"'\t\t\t\t>> \"{TempUserStartup}\"\n-Echo ''\t\t\t\t\t\t>> \"{TempUserStartup}\"\n-\n-# Set up GCC exec prefix.\n-\n-Set gcclibdir \"{libdest}\"gcc-lib:\n-\n-Echo -n 'Set GCC_EXEC_PREFIX \"'\t\t\t>> \"{TempUserStartup}\"\n-Echo -n \"{gcclibdir}\"\t\t\t\t>> \"{TempUserStartup}\"\n-Echo    '\"'\t\t\t\t\t>> \"{TempUserStartup}\"\n-Echo \"Export GCC_EXEC_PREFIX\"\t\t\t>> \"{TempUserStartup}\"\n-Echo ''\t\t\t\t\t\t>> \"{TempUserStartup}\"\n-\n-# Set up path to libgcc.xcoff etc.\n-\n-Echo -n 'Set GCCPPCLibraries \"'\t\t\t>> \"{TempUserStartup}\"\n-Echo -n \"{libdest}\"\t\t\t\t>> \"{TempUserStartup}\"\n-Echo    '\"'\t\t\t\t\t>> \"{TempUserStartup}\"\n-Echo \"Export GCCPPCLibraries\"\t\t\t>> \"{TempUserStartup}\"\n-Echo ''\t\t\t\t\t\t>> \"{TempUserStartup}\"\n-\n-# Display contents of UserStartup, confirm installation.\n-\n-Set UserStartupName \"UserStartup\\Option-8GNU\"\n-\n-Echo \"Contents of\" {UserStartupName} \"will be:\"\n-Catenate \"{TempUserStartup}\"\n-\n-Confirm \"Install {UserStartupName} into the MPW folder {MPW} ?\"\n-If {Status} == 0\n-\tDuplicate \"{TempUserStartup}\" \"{MPW}{UserStartupName}\"\n-\tDelete -y \"{TempUserStartup}\"\n-Else\n-\tEcho \"{UserStartupName} file not installed\"\n-End If\n-\n-# (should) Check HEXA resource, warn if low.\n-\n-# (should) Check for spaces in pathnames, warn if found.\n-\n-Echo \"Installation was successful.\"\n-Echo \"\"\n-Echo \"Be sure to review the usage notes in 'Read Me for MPW' before proceeding!\"\n-\n-# Restore previous settings.\n-\n-Set Exit \"{OldExit}\""}]}