{"sha": "c9c033f0c915c7fa4d80df3de50311258ba5f20e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzljMDMzZjBjOTE1YzdmYTRkODBkZjNkZTUwMzExMjU4YmE1ZjIwZQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2018-12-02T22:21:37Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2018-12-02T22:21:37Z"}, "message": "i386.c (inline_memory_move_cost): Correctly compute number of TFmode GPR moves.\n\n\t* config/i386/i386.c (inline_memory_move_cost): Correctly\n\tcompute number of TFmode GPR moves.\n\nFrom-SVN: r266729", "tree": {"sha": "b13ac09b480360cd6fc3f5ef03bae203d6507b18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b13ac09b480360cd6fc3f5ef03bae203d6507b18"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c9c033f0c915c7fa4d80df3de50311258ba5f20e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9c033f0c915c7fa4d80df3de50311258ba5f20e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9c033f0c915c7fa4d80df3de50311258ba5f20e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9c033f0c915c7fa4d80df3de50311258ba5f20e/comments", "author": null, "committer": null, "parents": [{"sha": "c10a94358fb8d0762c9eceb5d26125582fa7971f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c10a94358fb8d0762c9eceb5d26125582fa7971f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c10a94358fb8d0762c9eceb5d26125582fa7971f"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "109566e37034c97e091cf11344d64d8731435e57", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c9c033f0c915c7fa4d80df3de50311258ba5f20e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c9c033f0c915c7fa4d80df3de50311258ba5f20e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c9c033f0c915c7fa4d80df3de50311258ba5f20e", "patch": "@@ -1,11 +1,16 @@\n+2018-12-02  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* config/i386/i386.c (inline_memory_move_cost): Correctly\n+\tcompute number of TFmode GPR moves.\n+\n 2018-12-02  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/88278\n \t* config/i386/sse.md (*vec_concatv4sf_0, *vec_concatv4si_0): New insns.\n \n 2018-12-02  Jeff Law  <law@redhat.com>\n \n-\t* config/h8300/h8300.md (call, call_value): Drop mode from \n+\t* config/h8300/h8300.md (call, call_value): Drop mode from\n \toperand containing number of bytes pushed.\n \t(call_insn, call_value_insn): Use mode iterator for number\n \tof bytes pushed operand.  Make pattern name vary appropriately."}, {"sha": "3e2fdfa86ffcd768b51ad800f1412209d881399f", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c9c033f0c915c7fa4d80df3de50311258ba5f20e/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c9c033f0c915c7fa4d80df3de50311258ba5f20e/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=c9c033f0c915c7fa4d80df3de50311258ba5f20e", "patch": "@@ -39598,15 +39598,13 @@ inline_memory_move_cost (machine_mode mode, enum reg_class regclass, int in)\n \t  return MAX (ix86_cost->int_load[1], ix86_cost->int_store[1]);\n \treturn in ? ix86_cost->int_load[1] : ix86_cost->int_store[1];\n       default:\n-\t/* Compute number of 32bit moves needed.  TFmode is moved as XFmode.  */\n-\tif (mode == TFmode)\n-\t  mode = XFmode;\n \tif (in == 2)\n \t  cost = MAX (ix86_cost->int_load[2], ix86_cost->int_store[2]);\n \telse if (in)\n \t  cost = ix86_cost->int_load[2];\n \telse\n \t  cost = ix86_cost->int_store[2];\n+\t/* Multiply with the number of GPR moves needed.  */\n \treturn cost * CEIL ((int) GET_MODE_SIZE (mode), UNITS_PER_WORD);\n     }\n }"}]}