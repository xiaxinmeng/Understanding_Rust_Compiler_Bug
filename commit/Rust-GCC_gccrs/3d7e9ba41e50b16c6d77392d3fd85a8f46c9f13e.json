{"sha": "3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2Q3ZTliYTQxZTUwYjE2YzZkNzczOTJkM2ZkODVhOGY0NmM5ZjEzZQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2000-11-24T09:56:27Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2000-11-24T09:56:27Z"}, "message": "semantics.c (finish_id_expr): If type is error_mark, return error_mark.\n\ncp:\n\t* semantics.c (finish_id_expr): If type is error_mark, return\n\terror_mark.\ntestsuite:\n\t* g++.other/crash24.C: Adjust and remove XFAIL.\n\t* g++.other/crash37.C: New test.\n\nFrom-SVN: r37702", "tree": {"sha": "e29c6c7e6a06f5d5b8ade1047c3741700c311261", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e29c6c7e6a06f5d5b8ade1047c3741700c311261"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e/comments", "author": null, "committer": null, "parents": [{"sha": "f4f6bd8d3004f34f1cd7294f0810c98cb49bea7e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4f6bd8d3004f34f1cd7294f0810c98cb49bea7e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4f6bd8d3004f34f1cd7294f0810c98cb49bea7e"}], "stats": {"total": 38, "additions": 32, "deletions": 6}, "files": [{"sha": "b3a5dfd2b2dc358932bd7778a43906c4cb1a5fce", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e", "patch": "@@ -1,3 +1,8 @@\n+2000-11-24  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* semantics.c (finish_id_expr): If type is error_mark, return\n+\terror_mark.\n+\n 2000-11-23  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* pt.c (lookup_template_class): Simplify loop exit constructs."}, {"sha": "8d22ce2e70ea70574f8f0b0f89f600f64bd01c13", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e", "patch": "@@ -1534,6 +1534,8 @@ finish_id_expr (expr)\n   if (TREE_CODE (expr) == IDENTIFIER_NODE)\n     expr = do_identifier (expr, 1, NULL_TREE);\n \n+  if (TREE_TYPE (expr) == error_mark_node)\n+    expr = error_mark_node;\n   return expr;\n }\n "}, {"sha": "f4be5667a4280d832db58ca6e7029fbe24628c9d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e", "patch": "@@ -1,3 +1,8 @@\n+2000-11-24  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* g++.other/crash24.C: Adjust and remove XFAIL.\n+\t* g++.other/crash37.C: New test.\n+\n 2000-11-23  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* g++.old-deja/g++.pt/instantiate9.C: New test."}, {"sha": "b3561af5a561f76280d485d7f1b290e6779d0bfa", "filename": "gcc/testsuite/g++.old-deja/g++.other/crash24.C", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash24.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash24.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash24.C?ref=3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e", "patch": "@@ -1,10 +1,6 @@\n // Build don't link:\n // Origin: Jakub Jelinek <jakub@redhat.com>\n \n-// crash test - XFAIL *-*-*\n-\n-#include <iostream>\n-\n class foo {\n  public:\n    class __iterator;\n@@ -16,6 +12,6 @@ class foo {\n static void iteratorTest(const foo &x)\n {\n    foo::const_iterator i = x.begin();\t\t// ERROR - \n-   for (; i; ++i)\t\t\t\t// ERROR - \n-      cout << *i;\n+   for (; i; ++i)\n+      *i;\n }"}, {"sha": "3b734ddf34cc4768113e1a3a72cd2d36c06c6407", "filename": "gcc/testsuite/g++.old-deja/g++.other/crash37.C", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash37.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash37.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash37.C?ref=3d7e9ba41e50b16c6d77392d3fd85a8f46c9f13e", "patch": "@@ -0,0 +1,18 @@\n+// Build don't link:\n+\n+// Copyright (C) 2000 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 23 Nov 2000 <nathan@codesourcery.com>\n+\n+// bug 706. We iced when meeting a decl with type error-mark-node\n+\n+class bifstream;\n+\n+\n+int main()\n+{\n+  bifstream bifs;   // ERROR - incomplete type\n+  if (!bifs)\n+    {\n+    }\n+  return 0;\n+}"}]}