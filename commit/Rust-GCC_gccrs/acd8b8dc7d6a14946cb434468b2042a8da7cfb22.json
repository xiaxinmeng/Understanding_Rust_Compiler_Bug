{"sha": "acd8b8dc7d6a14946cb434468b2042a8da7cfb22", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWNkOGI4ZGM3ZDZhMTQ5NDZjYjQzNDQ2OGIyMDQyYThkYTdjZmIyMg==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2017-01-13T12:11:00Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2017-01-13T12:11:00Z"}, "message": "Require C11 for C++17 on Solaris\n\n\t* config/sol2.h (TARGET_OS_CPP_BUILTINS): Define __STDC_VERSION__\n\tto 201112L since C++17.\n\nFrom-SVN: r244430", "tree": {"sha": "a6fb22facde4353dd74156bb34716ad904e21c39", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a6fb22facde4353dd74156bb34716ad904e21c39"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/acd8b8dc7d6a14946cb434468b2042a8da7cfb22", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acd8b8dc7d6a14946cb434468b2042a8da7cfb22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/acd8b8dc7d6a14946cb434468b2042a8da7cfb22", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acd8b8dc7d6a14946cb434468b2042a8da7cfb22/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b7aa844d134204e302acc0c3f36f416656491305", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7aa844d134204e302acc0c3f36f416656491305", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7aa844d134204e302acc0c3f36f416656491305"}], "stats": {"total": 54, "additions": 37, "deletions": 17}, "files": [{"sha": "a941be7bfe0000ad412f0429895c42738e247424", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acd8b8dc7d6a14946cb434468b2042a8da7cfb22/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acd8b8dc7d6a14946cb434468b2042a8da7cfb22/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=acd8b8dc7d6a14946cb434468b2042a8da7cfb22", "patch": "@@ -1,3 +1,8 @@\n+2017-01-13  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* config/sol2.h (TARGET_OS_CPP_BUILTINS): Define __STDC_VERSION__\n+\tto 201112L since C++17.\n+\n 2017-01-13  Maxim Ostapenko  <m.ostapenko@samsung.com>\n \n \tPR sanitizer/78887"}, {"sha": "1ae7f9f0e0135e59a3a52f49fa5c95a55a9fbee2", "filename": "gcc/config/sol2.h", "status": "modified", "additions": 32, "deletions": 17, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acd8b8dc7d6a14946cb434468b2042a8da7cfb22/gcc%2Fconfig%2Fsol2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acd8b8dc7d6a14946cb434468b2042a8da7cfb22/gcc%2Fconfig%2Fsol2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsol2.h?ref=acd8b8dc7d6a14946cb434468b2042a8da7cfb22", "patch": "@@ -82,26 +82,41 @@ along with GCC; see the file COPYING3.  If not see\n /* Names to predefine in the preprocessor for this target machine.  */\n #define TARGET_SUB_OS_CPP_BUILTINS()\n #define TARGET_OS_CPP_BUILTINS()\t\t\t\\\n-    do {\t\t\t\t\t\t\\\n-\tbuiltin_define_std (\"unix\");\t\t\t\\\n-\tbuiltin_define_std (\"sun\");\t\t\t\\\n-\tbuiltin_define (\"__svr4__\");\t\t\t\\\n-\tbuiltin_define (\"__SVR4\");\t\t\t\\\n-\tbuiltin_assert (\"system=unix\");\t\t\t\\\n-\tbuiltin_assert (\"system=svr4\");\t\t\t\\\n-\t/* For C++ we need to add some additional macro\t\\\n-\t   definitions required by the C++ standard\t\\\n-\t   library.  */\t\t\t\t\t\\\n-\tif (c_dialect_cxx ())\t\t\t\t\\\n+  do {\t\t\t\t\t\t\t\\\n+    builtin_define_std (\"unix\");\t\t\t\\\n+    builtin_define_std (\"sun\");\t\t\t\t\\\n+    builtin_define (\"__svr4__\");\t\t\t\\\n+    builtin_define (\"__SVR4\");\t\t\t\t\\\n+    builtin_assert (\"system=unix\");\t\t\t\\\n+    builtin_assert (\"system=svr4\");\t\t\t\\\n+    /* For C++ we need to add some additional macro\t\\\n+       definitions required by the C++ standard\t\t\\\n+       library.  */\t\t\t\t\t\\\n+    if (c_dialect_cxx ())\t\t\t\t\\\n+      {\t\t\t\t\t\t\t\\\n+\tswitch (cxx_dialect)\t\t\t\t\\\n \t  {\t\t\t\t\t\t\\\n+\t  case cxx98:\t\t\t\t\t\\\n+\t  case cxx11:\t\t\t\t\t\\\n+\t  case cxx14:\t\t\t\t\t\\\n+\t    /* C++11 and C++14 are based on C99.\t\\\n+\t       libstdc++ makes use of C99 features\t\\\n+\t       even for C++98.  */\t\t\t\\\n \t    builtin_define (\"__STDC_VERSION__=199901L\");\\\n-\t    builtin_define (\"_XOPEN_SOURCE=600\");\t\\\n-\t    builtin_define (\"_LARGEFILE_SOURCE=1\");\t\\\n-\t    builtin_define (\"_LARGEFILE64_SOURCE=1\");\t\\\n-\t    builtin_define (\"__EXTENSIONS__\");\t\t\\\n+\t    break;\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\\\n+\t  default:\t\t\t\t\t\\\n+\t    /* C++17 is based on C11.  */\t\t\\\n+\t    builtin_define (\"__STDC_VERSION__=201112L\");\\\n+\t    break;\t\t\t\t\t\\\n \t  }\t\t\t\t\t\t\\\n-\tTARGET_SUB_OS_CPP_BUILTINS();\t\t\t\\\n-    } while (0)\n+\tbuiltin_define (\"_XOPEN_SOURCE=600\");\t\t\\\n+\tbuiltin_define (\"_LARGEFILE_SOURCE=1\");\t\t\\\n+\tbuiltin_define (\"_LARGEFILE64_SOURCE=1\");\t\\\n+\tbuiltin_define (\"__EXTENSIONS__\");\t\t\\\n+      }\t\t\t\t\t\t\t\\\n+    TARGET_SUB_OS_CPP_BUILTINS();\t\t\t\\\n+  } while (0)\n \n #define SUBTARGET_OVERRIDE_OPTIONS\t\t\t\\\n   do {\t\t\t\t\t\t\t\\"}]}