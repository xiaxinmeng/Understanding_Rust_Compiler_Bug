{"sha": "82ae78227426b93541799f27f4dfcf6b62166085", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODJhZTc4MjI3NDI2YjkzNTQxNzk5ZjI3ZjRkZmNmNmI2MjE2NjA4NQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2001-12-05T19:28:16Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2001-12-05T19:28:16Z"}, "message": "defineclass.cc (character): Removed.\n\n\t* defineclass.cc (character): Removed.\n\t(prepare_character): Removed.\n\t(is_identifier_start): Use Character, not character.\n\t(is_identifier_part): Likewise.\n\nFrom-SVN: r47684", "tree": {"sha": "268998c0f9bfb860be713a1dbd1b92d9d98d5f42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/268998c0f9bfb860be713a1dbd1b92d9d98d5f42"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/82ae78227426b93541799f27f4dfcf6b62166085", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82ae78227426b93541799f27f4dfcf6b62166085", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82ae78227426b93541799f27f4dfcf6b62166085", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82ae78227426b93541799f27f4dfcf6b62166085/comments", "author": null, "committer": null, "parents": [{"sha": "457b6274e1ce577aa93e7a92456d66c40e9e4a61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/457b6274e1ce577aa93e7a92456d66c40e9e4a61", "html_url": "https://github.com/Rust-GCC/gccrs/commit/457b6274e1ce577aa93e7a92456d66c40e9e4a61"}], "stats": {"total": 26, "additions": 9, "deletions": 17}, "files": [{"sha": "4dfb96ea0eedaa9968fe7cc63ab95bf4c6128d34", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82ae78227426b93541799f27f4dfcf6b62166085/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82ae78227426b93541799f27f4dfcf6b62166085/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=82ae78227426b93541799f27f4dfcf6b62166085", "patch": "@@ -1,3 +1,10 @@\n+2001-12-05  Tom Tromey  <tromey@redhat.com>\n+\n+\t* defineclass.cc (character): Removed.\n+\t(prepare_character): Removed.\n+\t(is_identifier_start): Use Character, not character.\n+\t(is_identifier_part): Likewise.\n+\n 2001-12-04  Tom Tromey  <tromey@redhat.com>\n \n \t* verify.cc (_Jv_BytecodeVerifier::linked_utf8): New structure."}, {"sha": "290152713e2fd447e2cfec828009424916004bf9", "filename": "libjava/defineclass.cc", "status": "modified", "additions": 2, "deletions": 17, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82ae78227426b93541799f27f4dfcf6b62166085/libjava%2Fdefineclass.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82ae78227426b93541799f27f4dfcf6b62166085/libjava%2Fdefineclass.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fdefineclass.cc?ref=82ae78227426b93541799f27f4dfcf6b62166085", "patch": "@@ -268,30 +268,15 @@ struct _Jv_ClassReader {\n    */\n };\n \n-/* This is used for the isJavaIdentifierStart & isJavaIdentifierPart\n-   methods, so we avoid doing _Jv_InitClass all the time */\n-\n-static const java::lang::Character *character = 0;\n-static void prepare_character ();\n-\n void\n _Jv_DefineClass (jclass klass, jbyteArray data, jint offset, jint length)\n {\n-  if (character == 0)\n-    prepare_character ();\n-\n   _Jv_ClassReader reader (klass, data, offset, length);\n   reader.parse();\n \n   /* that's it! */\n }\n \n-/** put it after _Jv_DefineClass, so it doesn't get inlined */\n-static void prepare_character ()\n-{\n-  character = new java::lang::Character ('!');\n-}\n-\n \f\n /** This section defines the parsing/scanning of the class data */\n \n@@ -1523,7 +1508,7 @@ is_identifier_start (int c)\n   if (ch == 0x5FU)       \t\t/* _ */\n     return 1;\n \n-  return character->isJavaIdentifierStart ((jchar) ch);\n+  return java::lang::Character::isJavaIdentifierStart ((jchar) ch);\n }\n \n static __inline__ int \n@@ -1540,7 +1525,7 @@ is_identifier_part (int c)\n   if (ch == 0x5FU || ch == 0x24U)       /* _ $ */\n     return 1;\n \n-  return character->isJavaIdentifierStart ((jchar) ch);\n+  return java::lang::Character::isJavaIdentifierStart ((jchar) ch);\n }\n \n bool"}]}