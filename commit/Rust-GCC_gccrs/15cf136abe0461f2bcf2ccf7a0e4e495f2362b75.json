{"sha": "15cf136abe0461f2bcf2ccf7a0e4e495f2362b75", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTVjZjEzNmFiZTA0NjFmMmJjZjJjY2Y3YTBlNGU0OTVmMjM2MmI3NQ==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2020-06-15T15:43:31Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2020-06-16T21:34:20Z"}, "message": "d: Use toStringExp instead of explicit cast\n\ngcc/d/ChangeLog:\n\n\t* d-attribs.cc (build_attributes): Use toStringExp instead of cast.\n\t* toir.cc (IRVisitor::visit): Likewise.", "tree": {"sha": "d169c608afe720ea35458e1c0b729c877094e014", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d169c608afe720ea35458e1c0b729c877094e014"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/15cf136abe0461f2bcf2ccf7a0e4e495f2362b75", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15cf136abe0461f2bcf2ccf7a0e4e495f2362b75", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15cf136abe0461f2bcf2ccf7a0e4e495f2362b75", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15cf136abe0461f2bcf2ccf7a0e4e495f2362b75/comments", "author": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d873350a9c402a64cc333ef470131d427cf56b28", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d873350a9c402a64cc333ef470131d427cf56b28", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d873350a9c402a64cc333ef470131d427cf56b28"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "79938075a7c0158cb34c0500f9fd303e03059fa2", "filename": "gcc/d/d-attribs.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15cf136abe0461f2bcf2ccf7a0e4e495f2362b75/gcc%2Fd%2Fd-attribs.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15cf136abe0461f2bcf2ccf7a0e4e495f2362b75/gcc%2Fd%2Fd-attribs.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fd%2Fd-attribs.cc?ref=15cf136abe0461f2bcf2ccf7a0e4e495f2362b75", "patch": "@@ -277,7 +277,7 @@ build_attributes (Expressions *eattrs)\n \t  return error_mark_node;\n \t}\n \n-      StringExp *se = (StringExp*) e0;\n+      StringExp *se = e0->toStringExp ();\n       gcc_assert (se->sz == 1);\n \n       /* Empty string attribute, just ignore it.  */"}, {"sha": "130cbbafe00bd31b4931a3302e58cae17f3ae64b", "filename": "gcc/d/toir.cc", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15cf136abe0461f2bcf2ccf7a0e4e495f2362b75/gcc%2Fd%2Ftoir.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15cf136abe0461f2bcf2ccf7a0e4e495f2362b75/gcc%2Fd%2Ftoir.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fd%2Ftoir.cc?ref=15cf136abe0461f2bcf2ccf7a0e4e495f2362b75", "patch": "@@ -1292,7 +1292,7 @@ class IRVisitor : public Visitor\n \n   void visit (GccAsmStatement *s)\n   {\n-    StringExp *insn = (StringExp *)s->insn;\n+    StringExp *insn = s->insn->toStringExp ();\n     tree outputs = NULL_TREE;\n     tree inputs = NULL_TREE;\n     tree clobbers = NULL_TREE;\n@@ -1307,7 +1307,7 @@ class IRVisitor : public Visitor\n \t    const char *sname = name ? name->toChars () : NULL;\n \t    tree id = name ? build_string (strlen (sname), sname) : NULL_TREE;\n \n-\t    StringExp *constr = (StringExp *)(*s->constraints)[i];\n+\t    StringExp *constr = (*s->constraints)[i]->toStringExp ();\n \t    const char *cstring = (const char *)(constr->len\n \t\t\t\t\t\t ? constr->string : \"\");\n \t    tree str = build_string (constr->len, cstring);\n@@ -1333,7 +1333,7 @@ class IRVisitor : public Visitor\n       {\n \tfor (size_t i = 0; i < s->clobbers->length; i++)\n \t  {\n-\t    StringExp *clobber = (StringExp *)(*s->clobbers)[i];\n+\t    StringExp *clobber = (*s->clobbers)[i]->toStringExp ();\n \t    const char *cstring = (const char *)(clobber->len\n \t\t\t\t\t\t ? clobber->string : \"\");\n "}]}