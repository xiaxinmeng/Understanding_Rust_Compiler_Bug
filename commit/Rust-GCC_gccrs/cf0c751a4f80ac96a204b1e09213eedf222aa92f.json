{"sha": "cf0c751a4f80ac96a204b1e09213eedf222aa92f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2YwYzc1MWE0ZjgwYWM5NmEyMDRiMWUwOTIxM2VlZGYyMjJhYTkyZg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-07-07T17:40:32Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-07-07T17:40:32Z"}, "message": "(fork_execute, scan_prog_file): Use \"fork\" in error\nmessages instead of \"vfork\" when vfork is defined to fork.\n\nFrom-SVN: r4871", "tree": {"sha": "26bad1d83ef6876028e754d153c237b04f56f746", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/26bad1d83ef6876028e754d153c237b04f56f746"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cf0c751a4f80ac96a204b1e09213eedf222aa92f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf0c751a4f80ac96a204b1e09213eedf222aa92f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf0c751a4f80ac96a204b1e09213eedf222aa92f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf0c751a4f80ac96a204b1e09213eedf222aa92f/comments", "author": null, "committer": null, "parents": [{"sha": "26902ae0728c9eb202fb719450e1387aace3c0b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26902ae0728c9eb202fb719450e1387aace3c0b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26902ae0728c9eb202fb719450e1387aace3c0b1"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "46410d8bdb5d604ab72f19185d317790e6ebb4a6", "filename": "gcc/collect2.c", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf0c751a4f80ac96a204b1e09213eedf222aa92f/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf0c751a4f80ac96a204b1e09213eedf222aa92f/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=cf0c751a4f80ac96a204b1e09213eedf222aa92f", "patch": "@@ -1193,7 +1193,13 @@ fork_execute (prog, argv)\n \n   pid = vfork ();\n   if (pid == -1)\n-    fatal_perror (\"vfork\");\n+    {\n+#ifdef vfork\n+      fatal_perror (\"fork\");\n+#else\n+      fatal_perror (\"vfork\");\n+#endif\n+    }\n \n   if (pid == 0)\t\t\t/* child context */\n     {\n@@ -1363,7 +1369,13 @@ scan_prog_file (prog_name, which_pass)\n   /* Spawn child nm on pipe */\n   pid = vfork ();\n   if (pid == -1)\n-    fatal_perror (\"vfork\");\n+    {\n+#ifdef vfork\n+      fatal_perror (\"fork\");\n+#else\n+      fatal_perror (\"vfork\");\n+#endif\n+    }\n \n   if (pid == 0)\t\t\t/* child context */\n     {"}]}