{"sha": "95efd84db13b9ac2b27654e86d1cacefe0637415", "node_id": "C_kwDOANBUbNoAKDk1ZWZkODRkYjEzYjlhYzJiMjc2NTRlODZkMWNhY2VmZTA2Mzc0MTU", "commit": {"author": {"name": "Owen Avery", "email": "powerboat9.gamer@gmail.com", "date": "2023-01-31T01:14:34Z"}, "committer": {"name": "Arthur Cohen", "email": "arthur.cohen@embecosm.com", "date": "2023-04-06T08:47:19Z"}, "message": "gccrs: Remove HIR::GroupedPattern\n\ngcc/rust/ChangeLog:\n\n\t* backend/rust-compile-fnparam.h\n\t(CompileFnParam::visit): Remove HIR::GroupedPattern visitor.\n\t* backend/rust-compile-pattern.cc\n\t(CompilePatternCaseLabelExpr::visit): Remove HIR::GroupedPattern visitor.\n\t(CompilePatternBindings::visit): Remove HIR::GroupedPattern visitor.\n\t* backend/rust-compile-pattern.h\n\t(CompilePatternCaseLabelExpr::visit): Remove HIR::GroupedPattern visitor.\n\t(CompilePatternBindings::visit): Remove HIR::GroupedPattern visitor.\n\t(CompilePatternLet::visit): Remove HIR::GroupedPattern visitor.\n\t* backend/rust-compile-resolve-path.h\n\t(ResolvePathRef::visit): Remove HIR::GroupedPattern visitor.\n\t* backend/rust-compile-var-decl.h\n\t(CompileVarDecl::visit): Remove HIR::GroupedPattern visitor.\n\t* checks/errors/rust-const-checker.cc\n\t(ConstChecker::visit): Remove HIR::GroupedPattern visitor.\n\t* checks/errors/rust-const-checker.h\n\t(ConstChecker::visit): Remove HIR::GroupedPattern visitor.\n\t* checks/errors/rust-unsafe-checker.cc\n\t(UnsafeChecker::visit): Remove HIR::GroupedPattern visitor.\n\t* checks/errors/rust-unsafe-checker.h\n\t(UnsafeChecker::visit): Remove HIR::GroupedPattern visitor.\n\t* hir/rust-hir-dump.cc (Dump::visit): Remove HIR::GroupedPattern visitor.\n\t* hir/rust-hir-dump.h (Dump::visit): Remove HIR::GroupedPattern visitor.\n\t* hir/tree/rust-hir-full-decls.h (class GroupedPattern): Remove class.\n\t* hir/tree/rust-hir-full-test.cc (GroupedPattern::accept_vis): Remove method.\n\t* hir/tree/rust-hir-pattern.h (class GroupedPattern): Remove class.\n\t* hir/tree/rust-hir-visitor.h\n\t(HIRFullVisitor::visit): Remove HIR::GroupedPattern visitor.\n\t(HIRFullVisitorBase::visit): Remove HIR::GroupedPattern visitor.\n\t(HIRPatternVisitor::visit): Remove HIR::GroupedPattern visitor.\n\t* typecheck/rust-hir-type-check-pattern.cc\n\t(TypeCheckPattern::visit): Remove HIR::GroupedPattern visitor.\n\t* typecheck/rust-hir-type-check-pattern.h\n\t(TypeCheckPattern::visit): Remove HIR::GroupedPattern visitor.\n\nSigned-off-by: Owen Avery <powerboat9.gamer@gmail.com>", "tree": {"sha": "686ae2b4e755d4a4455ea453d85df26cf3529011", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/686ae2b4e755d4a4455ea453d85df26cf3529011"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/95efd84db13b9ac2b27654e86d1cacefe0637415", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95efd84db13b9ac2b27654e86d1cacefe0637415", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95efd84db13b9ac2b27654e86d1cacefe0637415", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95efd84db13b9ac2b27654e86d1cacefe0637415/comments", "author": {"login": "powerboat9", "id": 7397652, "node_id": "MDQ6VXNlcjczOTc2NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/7397652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/powerboat9", "html_url": "https://github.com/powerboat9", "followers_url": "https://api.github.com/users/powerboat9/followers", "following_url": "https://api.github.com/users/powerboat9/following{/other_user}", "gists_url": "https://api.github.com/users/powerboat9/gists{/gist_id}", "starred_url": "https://api.github.com/users/powerboat9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/powerboat9/subscriptions", "organizations_url": "https://api.github.com/users/powerboat9/orgs", "repos_url": "https://api.github.com/users/powerboat9/repos", "events_url": "https://api.github.com/users/powerboat9/events{/privacy}", "received_events_url": "https://api.github.com/users/powerboat9/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fd7358af3cf90435d44b4a0360af685d195bb947", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd7358af3cf90435d44b4a0360af685d195bb947", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd7358af3cf90435d44b4a0360af685d195bb947"}], "stats": {"total": 132, "additions": 0, "deletions": 132}, "files": [{"sha": "10e8b67c140b458116fb566e67bc5fcf0dffb178", "filename": "gcc/rust/backend/rust-compile-fnparam.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fbackend%2Frust-compile-fnparam.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fbackend%2Frust-compile-fnparam.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-fnparam.h?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -39,7 +39,6 @@ class CompileFnParam : private HIRCompileBase, protected HIR::HIRPatternVisitor\n   void visit (HIR::TupleStructPattern &) override;\n \n   // Empty visit for unused Pattern HIR nodes.\n-  void visit (HIR::GroupedPattern &) override {}\n   void visit (HIR::LiteralPattern &) override {}\n   void visit (HIR::PathInExpression &) override {}\n   void visit (HIR::QualifiedPathInExpression &) override {}"}, {"sha": "bad98be44d06148e267ff083151f8d5fa23cf5c6", "filename": "gcc/rust/backend/rust-compile-pattern.cc", "status": "modified", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fbackend%2Frust-compile-pattern.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fbackend%2Frust-compile-pattern.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-pattern.cc?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -161,12 +161,6 @@ CompilePatternCaseLabelExpr::visit (HIR::RangePattern &pattern)\n   case_label_expr = build_case_label (lower, upper, associated_case_label);\n }\n \n-void\n-CompilePatternCaseLabelExpr::visit (HIR::GroupedPattern &pattern)\n-{\n-  pattern.get_item ()->accept_vis (*this);\n-}\n-\n // setup the bindings\n \n void\n@@ -335,12 +329,6 @@ CompilePatternBindings::visit (HIR::StructPattern &pattern)\n     }\n }\n \n-void\n-CompilePatternBindings::visit (HIR::GroupedPattern &pattern)\n-{\n-  pattern.get_item ()->accept_vis (*this);\n-}\n-\n void\n CompilePatternLet::visit (HIR::IdentifierPattern &pattern)\n {"}, {"sha": "ddf5b14265e06132cd2f92996a0ce95521610de7", "filename": "gcc/rust/backend/rust-compile-pattern.h", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fbackend%2Frust-compile-pattern.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fbackend%2Frust-compile-pattern.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-pattern.h?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -38,7 +38,6 @@ class CompilePatternCaseLabelExpr : public HIRCompileBase,\n   void visit (HIR::TupleStructPattern &pattern) override;\n   void visit (HIR::WildcardPattern &pattern) override;\n   void visit (HIR::RangePattern &pattern) override;\n-  void visit (HIR::GroupedPattern &pattern) override;\n \n   // Empty visit for unused Pattern HIR nodes.\n   void visit (HIR::IdentifierPattern &) override {}\n@@ -70,7 +69,6 @@ class CompilePatternBindings : public HIRCompileBase,\n \n   void visit (HIR::StructPattern &pattern) override;\n   void visit (HIR::TupleStructPattern &pattern) override;\n-  void visit (HIR::GroupedPattern &) override;\n \n   // Empty visit for unused Pattern HIR nodes.\n   void visit (HIR::IdentifierPattern &) override {}\n@@ -105,12 +103,6 @@ class CompilePatternLet : public HIRCompileBase, public HIR::HIRPatternVisitor\n   void visit (HIR::WildcardPattern &) override;\n \n   // check for unimplemented Pattern HIR nodes.\n-  void visit (HIR::GroupedPattern &pattern) override\n-  {\n-    rust_sorry_at (pattern.get_locus (),\n-\t\t   \"grouped pattern let statements not supported\");\n-  }\n-\n   void visit (HIR::LiteralPattern &pattern) override\n   {\n     rust_sorry_at (pattern.get_locus (),"}, {"sha": "6aec7be472f0650c98846ad7e65dcc62a15d2174", "filename": "gcc/rust/backend/rust-compile-resolve-path.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fbackend%2Frust-compile-resolve-path.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fbackend%2Frust-compile-resolve-path.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-resolve-path.h?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -45,7 +45,6 @@ class ResolvePathRef : public HIRCompileBase, public HIR::HIRPatternVisitor\n   void visit (HIR::QualifiedPathInExpression &expr) override;\n \n   // Empty visit for unused Pattern HIR nodes.\n-  void visit (HIR::GroupedPattern &) override {}\n   void visit (HIR::IdentifierPattern &) override {}\n   void visit (HIR::LiteralPattern &) override {}\n   void visit (HIR::RangePattern &) override {}"}, {"sha": "9e07999f273a5957c2572ed61831828240ce4a2d", "filename": "gcc/rust/backend/rust-compile-var-decl.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fbackend%2Frust-compile-var-decl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fbackend%2Frust-compile-var-decl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-var-decl.h?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -69,7 +69,6 @@ class CompileVarDecl : public HIRCompileBase, public HIR::HIRPatternVisitor\n   }\n \n   // Empty visit for unused Pattern HIR nodes.\n-  void visit (HIR::GroupedPattern &) override {}\n   void visit (HIR::LiteralPattern &) override {}\n   void visit (HIR::PathInExpression &) override {}\n   void visit (HIR::QualifiedPathInExpression &) override {}"}, {"sha": "3752cf3671655b729712b6b319970b5a48941ace", "filename": "gcc/rust/checks/errors/rust-const-checker.cc", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fchecks%2Ferrors%2Frust-const-checker.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fchecks%2Ferrors%2Frust-const-checker.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fchecks%2Ferrors%2Frust-const-checker.cc?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -834,10 +834,6 @@ void\n ConstChecker::visit (TuplePattern &)\n {}\n \n-void\n-ConstChecker::visit (GroupedPattern &)\n-{}\n-\n void\n ConstChecker::visit (SlicePattern &)\n {}"}, {"sha": "e040236136795ffe7f6f1a179caac0f8ceac0d16", "filename": "gcc/rust/checks/errors/rust-const-checker.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fchecks%2Ferrors%2Frust-const-checker.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fchecks%2Ferrors%2Frust-const-checker.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fchecks%2Ferrors%2Frust-const-checker.h?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -186,7 +186,6 @@ class ConstChecker : public HIRFullVisitor\n   virtual void visit (TuplePatternItemsMultiple &tuple_items) override;\n   virtual void visit (TuplePatternItemsRanged &tuple_items) override;\n   virtual void visit (TuplePattern &pattern) override;\n-  virtual void visit (GroupedPattern &pattern) override;\n   virtual void visit (SlicePattern &pattern) override;\n   virtual void visit (EmptyStmt &stmt) override;\n   virtual void visit (LetStmt &stmt) override;"}, {"sha": "ff7a0b3f85a61788266aaa262fb41d3dad340fd4", "filename": "gcc/rust/checks/errors/rust-unsafe-checker.cc", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fchecks%2Ferrors%2Frust-unsafe-checker.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fchecks%2Ferrors%2Frust-unsafe-checker.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fchecks%2Ferrors%2Frust-unsafe-checker.cc?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -901,10 +901,6 @@ void\n UnsafeChecker::visit (TuplePattern &)\n {}\n \n-void\n-UnsafeChecker::visit (GroupedPattern &)\n-{}\n-\n void\n UnsafeChecker::visit (SlicePattern &)\n {}"}, {"sha": "ce270c0e7ef426b371be15cb291fe776b441a321", "filename": "gcc/rust/checks/errors/rust-unsafe-checker.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fchecks%2Ferrors%2Frust-unsafe-checker.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fchecks%2Ferrors%2Frust-unsafe-checker.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fchecks%2Ferrors%2Frust-unsafe-checker.h?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -168,7 +168,6 @@ class UnsafeChecker : public HIRFullVisitor\n   virtual void visit (TuplePatternItemsMultiple &tuple_items) override;\n   virtual void visit (TuplePatternItemsRanged &tuple_items) override;\n   virtual void visit (TuplePattern &pattern) override;\n-  virtual void visit (GroupedPattern &pattern) override;\n   virtual void visit (SlicePattern &pattern) override;\n   virtual void visit (EmptyStmt &stmt) override;\n   virtual void visit (LetStmt &stmt) override;"}, {"sha": "10720c4329472862e8939f416f638f1628099aa5", "filename": "gcc/rust/hir/rust-hir-dump.cc", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fhir%2Frust-hir-dump.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fhir%2Frust-hir-dump.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fhir%2Frust-hir-dump.cc?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -457,9 +457,6 @@ void\n Dump::visit (TuplePattern &)\n {}\n void\n-Dump::visit (GroupedPattern &)\n-{}\n-void\n Dump::visit (SlicePattern &)\n {}\n "}, {"sha": "b66e6b13f7c83e6c9e93f5b60259ce446b69a9a4", "filename": "gcc/rust/hir/rust-hir-dump.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fhir%2Frust-hir-dump.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fhir%2Frust-hir-dump.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fhir%2Frust-hir-dump.h?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -163,7 +163,6 @@ class Dump : public HIRFullVisitor\n   virtual void visit (TuplePatternItemsMultiple &) override;\n   virtual void visit (TuplePatternItemsRanged &) override;\n   virtual void visit (TuplePattern &) override;\n-  virtual void visit (GroupedPattern &) override;\n   virtual void visit (SlicePattern &) override;\n \n   virtual void visit (EmptyStmt &) override;"}, {"sha": "30adda6a1f39e7ddca94bd5d1a42f029902a5aa6", "filename": "gcc/rust/hir/tree/rust-hir-full-decls.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-full-decls.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-full-decls.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-full-decls.h?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -206,7 +206,6 @@ class TuplePatternItems;\n class TuplePatternItemsMultiple;\n class TuplePatternItemsRanged;\n class TuplePattern;\n-class GroupedPattern;\n class SlicePattern;\n \n // rust-type.h"}, {"sha": "b6646d61b28e6d772c714c62c941e20a9157032a", "filename": "gcc/rust/hir/tree/rust-hir-full-test.cc", "status": "modified", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-full-test.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-full-test.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-full-test.cc?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -4476,12 +4476,6 @@ TuplePattern::accept_vis (HIRFullVisitor &vis)\n   vis.visit (*this);\n }\n \n-void\n-GroupedPattern::accept_vis (HIRFullVisitor &vis)\n-{\n-  vis.visit (*this);\n-}\n-\n void\n SlicePattern::accept_vis (HIRFullVisitor &vis)\n {\n@@ -4608,12 +4602,6 @@ EmptyStmt::accept_vis (HIRStmtVisitor &vis)\n   vis.visit (*this);\n }\n \n-void\n-GroupedPattern::accept_vis (HIRPatternVisitor &vis)\n-{\n-  vis.visit (*this);\n-}\n-\n void\n WildcardPattern::accept_vis (HIRPatternVisitor &vis)\n {"}, {"sha": "5243d7898c0770e18d9e22009e7c2cdf3f391d94", "filename": "gcc/rust/hir/tree/rust-hir-pattern.h", "status": "modified", "additions": 0, "deletions": 69, "changes": 69, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-pattern.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-pattern.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-pattern.h?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -1215,75 +1215,6 @@ class TuplePattern : public Pattern\n   }\n };\n \n-// HIR node representing a pattern in parentheses, used to control precedence\n-class GroupedPattern : public Pattern\n-{\n-  std::unique_ptr<Pattern> pattern_in_parens;\n-  Location locus;\n-  Analysis::NodeMapping mappings;\n-\n-public:\n-  std::string as_string () const override\n-  {\n-    return \"(\" + pattern_in_parens->as_string () + \")\";\n-  }\n-\n-  GroupedPattern (Analysis::NodeMapping mappings,\n-\t\t  std::unique_ptr<Pattern> pattern_in_parens, Location locus)\n-    : pattern_in_parens (std::move (pattern_in_parens)), locus (locus),\n-      mappings (mappings)\n-  {}\n-\n-  // Copy constructor uses clone\n-  GroupedPattern (GroupedPattern const &other)\n-    : pattern_in_parens (other.pattern_in_parens->clone_pattern ()),\n-      locus (other.locus), mappings (other.mappings)\n-  {}\n-\n-  // Overload assignment operator to clone\n-  GroupedPattern &operator= (GroupedPattern const &other)\n-  {\n-    pattern_in_parens = other.pattern_in_parens->clone_pattern ();\n-    locus = other.locus;\n-    mappings = other.mappings;\n-\n-    return *this;\n-  }\n-\n-  // default move semantics\n-  GroupedPattern (GroupedPattern &&other) = default;\n-  GroupedPattern &operator= (GroupedPattern &&other) = default;\n-\n-  Location get_locus () const override { return locus; }\n-\n-  void accept_vis (HIRFullVisitor &vis) override;\n-  void accept_vis (HIRPatternVisitor &vis) override;\n-\n-  Analysis::NodeMapping get_pattern_mappings () const override final\n-  {\n-    return mappings;\n-  }\n-\n-  PatternType get_pattern_type () const override final\n-  {\n-    return PatternType::GROUPED;\n-  }\n-\n-  std::unique_ptr<Pattern> &get_item () { return pattern_in_parens; }\n-  const std::unique_ptr<Pattern> &get_item () const\n-  {\n-    return pattern_in_parens;\n-  }\n-\n-protected:\n-  /* Use covariance to implement clone function as returning this object rather\n-   * than base */\n-  GroupedPattern *clone_pattern_impl () const override\n-  {\n-    return new GroupedPattern (*this);\n-  }\n-};\n-\n // HIR node representing patterns that can match slices and arrays\n class SlicePattern : public Pattern\n {"}, {"sha": "a635f9079f198068853e36710d9d958e22485e8b", "filename": "gcc/rust/hir/tree/rust-hir-visitor.h", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-visitor.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-visitor.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-visitor.h?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -138,7 +138,6 @@ class HIRFullVisitor\n   virtual void visit (TuplePatternItemsMultiple &tuple_items) = 0;\n   virtual void visit (TuplePatternItemsRanged &tuple_items) = 0;\n   virtual void visit (TuplePattern &pattern) = 0;\n-  virtual void visit (GroupedPattern &pattern) = 0;\n   virtual void visit (SlicePattern &pattern) = 0;\n   virtual void visit (EmptyStmt &stmt) = 0;\n   virtual void visit (LetStmt &stmt) = 0;\n@@ -290,7 +289,6 @@ class HIRFullVisitorBase : public HIRFullVisitor\n   virtual void visit (TuplePatternItemsMultiple &) override {}\n   virtual void visit (TuplePatternItemsRanged &) override {}\n   virtual void visit (TuplePattern &) override {}\n-  virtual void visit (GroupedPattern &) override {}\n   virtual void visit (SlicePattern &) override {}\n \n   virtual void visit (EmptyStmt &) override {}\n@@ -470,7 +468,6 @@ class HIRExpressionVisitor\n class HIRPatternVisitor\n {\n public:\n-  virtual void visit (GroupedPattern &) = 0;\n   virtual void visit (IdentifierPattern &) = 0;\n   virtual void visit (LiteralPattern &) = 0;\n   virtual void visit (PathInExpression &) = 0;"}, {"sha": "fd4814c3604a18d473867cc5ef9d092ef71e71b0", "filename": "gcc/rust/typecheck/rust-hir-type-check-pattern.cc", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-pattern.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-pattern.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-pattern.cc?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -386,15 +386,6 @@ TypeCheckPattern::visit (HIR::IdentifierPattern &)\n   infered = parent;\n }\n \n-void\n-TypeCheckPattern::visit (HIR::GroupedPattern &pattern)\n-{\n-  TyTy::BaseType *inner_ty\n-    = TypeCheckPattern::Resolve (pattern.get_item ().get (), parent);\n-  infered = inner_ty->clone ();\n-  infered->set_ref (pattern.get_pattern_mappings ().get_hirid ());\n-}\n-\n void\n TypeCheckPattern::visit (HIR::QualifiedPathInExpression &)\n {"}, {"sha": "e7550071548cf4f883ac697cfade25a2ea989a16", "filename": "gcc/rust/typecheck/rust-hir-type-check-pattern.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-pattern.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95efd84db13b9ac2b27654e86d1cacefe0637415/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-pattern.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-pattern.h?ref=95efd84db13b9ac2b27654e86d1cacefe0637415", "patch": "@@ -39,7 +39,6 @@ class TypeCheckPattern : public TypeCheckBase, public HIR::HIRPatternVisitor\n   void visit (HIR::LiteralPattern &pattern) override;\n   void visit (HIR::RangePattern &pattern) override;\n   void visit (HIR::IdentifierPattern &pattern) override;\n-  void visit (HIR::GroupedPattern &pattern) override;\n   void visit (HIR::QualifiedPathInExpression &pattern) override;\n   void visit (HIR::ReferencePattern &pattern) override;\n   void visit (HIR::SlicePattern &pattern) override;"}]}