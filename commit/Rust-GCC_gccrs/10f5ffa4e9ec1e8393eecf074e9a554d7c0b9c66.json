{"sha": "10f5ffa4e9ec1e8393eecf074e9a554d7c0b9c66", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTBmNWZmYTRlOWVjMWU4MzkzZWVjZjA3NGU5YTU1NGQ3YzBiOWM2Ng==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-02-02T06:40:11Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-02-02T06:40:11Z"}, "message": "syscall: Add syscall.Times.\n\nFrom-SVN: r183826", "tree": {"sha": "f0406ea048fa501e26dea13d4175bc61ad8dd25e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f0406ea048fa501e26dea13d4175bc61ad8dd25e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/10f5ffa4e9ec1e8393eecf074e9a554d7c0b9c66", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10f5ffa4e9ec1e8393eecf074e9a554d7c0b9c66", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10f5ffa4e9ec1e8393eecf074e9a554d7c0b9c66", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10f5ffa4e9ec1e8393eecf074e9a554d7c0b9c66/comments", "author": null, "committer": null, "parents": [{"sha": "3375a6c94c6d4102d51c497aa51e7d9b56fc268c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3375a6c94c6d4102d51c497aa51e7d9b56fc268c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3375a6c94c6d4102d51c497aa51e7d9b56fc268c"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "414b8ed2d44cf51c5b6e43a62968c903e7f20ad7", "filename": "libgo/go/syscall/libcall_posix.go", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10f5ffa4e9ec1e8393eecf074e9a554d7c0b9c66/libgo%2Fgo%2Fsyscall%2Flibcall_posix.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10f5ffa4e9ec1e8393eecf074e9a554d7c0b9c66/libgo%2Fgo%2Fsyscall%2Flibcall_posix.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fsyscall%2Flibcall_posix.go?ref=10f5ffa4e9ec1e8393eecf074e9a554d7c0b9c66", "patch": "@@ -133,15 +133,15 @@ type FdSet struct {\n }\n \n func FDSet(fd int, set *FdSet) {\n-\tset.Bits[fd / nfdbits] |= (1 << (uint)(fd % nfdbits))\n+\tset.Bits[fd/nfdbits] |= (1 << (uint)(fd%nfdbits))\n }\n \n func FDClr(fd int, set *FdSet) {\n-\tset.Bits[fd / nfdbits] &^= (1 << (uint)(fd % nfdbits))\n+\tset.Bits[fd/nfdbits] &^= (1 << (uint)(fd%nfdbits))\n }\n \n func FDIsSet(fd int, set *FdSet) bool {\n-\tif set.Bits[fd / nfdbits] & (1 << (uint)(fd % nfdbits)) != 0 {\n+\tif set.Bits[fd/nfdbits]&(1<<(uint)(fd%nfdbits)) != 0 {\n \t\treturn true\n \t} else {\n \t\treturn false\n@@ -323,9 +323,8 @@ func Settimeofday(tv *Timeval) (err error) {\n // //sysnb\tTime(t *Time_t) (tt Time_t, err error)\n // //time(t *Time_t) Time_t\n \n-// FIXME: mksysinfo Tms\n-// //sysnb\tTimes(tms *Tms) (ticks uintptr, err error)\n-// //times(tms *Tms) _clock_t\n+//sysnb\tTimes(tms *Tms) (ticks uintptr, err error)\n+//times(tms *Tms) _clock_t\n \n //sysnb\tUmask(mask int) (oldmask int)\n //umask(mask Mode_t) Mode_t"}, {"sha": "bca814c65be97fd042fdd101ed093fed655da20a", "filename": "libgo/mksysinfo.sh", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10f5ffa4e9ec1e8393eecf074e9a554d7c0b9c66/libgo%2Fmksysinfo.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10f5ffa4e9ec1e8393eecf074e9a554d7c0b9c66/libgo%2Fmksysinfo.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fmksysinfo.sh?ref=10f5ffa4e9ec1e8393eecf074e9a554d7c0b9c66", "patch": "@@ -66,6 +66,7 @@ cat > sysinfo.c <<EOF\n #include <sys/socket.h>\n #include <sys/stat.h>\n #include <sys/time.h>\n+#include <sys/times.h>\n #include <sys/wait.h>\n #include <sys/un.h>\n #if defined(HAVE_SYS_USER_H)\n@@ -368,6 +369,15 @@ if test \"$timestruc\" != \"\"; then\n         -e 's/tv_nsec *[a-zA-Z0-9_]*/Nsec Timestruc_nsec_t/' >> ${OUT}\n fi\n \n+# The tms struct.\n+grep '^type _tms ' gen-sysinfo.go | \\\n+    sed -e 's/type _tms/type Tms/' \\\n+      -e 's/tms_utime/Utime/' \\\n+      -e 's/tms_stime/Stime/' \\\n+      -e 's/tms_cutime/Cutime/' \\\n+      -e 's/tms_cstime/Cstime/' \\\n+    >> ${OUT}\n+\n # The stat type.\n # Prefer largefile variant if available.\n stat=`grep '^type _stat64 ' gen-sysinfo.go || true`"}]}