{"sha": "ae10b5747364804809ed196a7bf41dbb3de83fdc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWUxMGI1NzQ3MzY0ODA0ODA5ZWQxOTZhN2JmNDFkYmIzZGU4M2ZkYw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-05-15T20:00:39Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-05-15T20:00:39Z"}, "message": "compiler: Don't try to take the address of a constant.\n\nFrom-SVN: r187553", "tree": {"sha": "eee46a48d607d1db8b1d44cf56744f936df1e5d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eee46a48d607d1db8b1d44cf56744f936df1e5d8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae10b5747364804809ed196a7bf41dbb3de83fdc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae10b5747364804809ed196a7bf41dbb3de83fdc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae10b5747364804809ed196a7bf41dbb3de83fdc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae10b5747364804809ed196a7bf41dbb3de83fdc/comments", "author": null, "committer": null, "parents": [{"sha": "f2437399519faee351b24beae127c0f4310aa13c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2437399519faee351b24beae127c0f4310aa13c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2437399519faee351b24beae127c0f4310aa13c"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "56df6f66b70c27584c6941f1986ceec353294d99", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae10b5747364804809ed196a7bf41dbb3de83fdc/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae10b5747364804809ed196a7bf41dbb3de83fdc/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=ae10b5747364804809ed196a7bf41dbb3de83fdc", "patch": "@@ -4044,7 +4044,7 @@ Unary_expression::do_get_tree(Translate_context* context)\n \n       if (this->create_temp_\n \t  && !TREE_ADDRESSABLE(TREE_TYPE(expr))\n-\t  && !DECL_P(expr)\n+\t  && (TREE_CODE(expr) == CONST_DECL || !DECL_P(expr))\n \t  && TREE_CODE(expr) != INDIRECT_REF\n \t  && TREE_CODE(expr) != COMPONENT_REF)\n \t{\n@@ -6194,7 +6194,9 @@ Expression::comparison_tree(Translate_context* context, Operator op,\n \t  make_tmp = NULL_TREE;\n \t  arg = right_tree;\n \t}\n-      else if (TREE_ADDRESSABLE(TREE_TYPE(right_tree)) || DECL_P(right_tree))\n+      else if (TREE_ADDRESSABLE(TREE_TYPE(right_tree))\n+\t       || (TREE_CODE(right_tree) != CONST_DECL\n+\t\t   && DECL_P(right_tree)))\n \t{\n \t  make_tmp = NULL_TREE;\n \t  arg = build_fold_addr_expr_loc(location.gcc_location(), right_tree);"}]}