{"sha": "f4e31cf56fd572d0c5d4d34746d8d9f1d3ea44d5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjRlMzFjZjU2ZmQ1NzJkMGM1ZDRkMzQ3NDZkOGQ5ZjFkM2VhNDRkNQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1997-11-05T03:36:53Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-11-05T03:36:53Z"}, "message": "alpha.c (summarize_insn): Handle ASM_OPERANDS.\n\n        * alpha.c (summarize_insn): Handle ASM_OPERANDS.  Don't recurse\n        for SUBREG, just fall through.\n\n        * alpha.c (alpha_handle_trap_shadows): Init sum.defd to zero.\n\n        * alpha.md (attr trap): Make TRAP_YES non-zero for sanity's sake.\n\nFrom-SVN: r16339", "tree": {"sha": "980b38e87de5e8ef3906be1f877007677c63e51d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/980b38e87de5e8ef3906be1f877007677c63e51d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f4e31cf56fd572d0c5d4d34746d8d9f1d3ea44d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4e31cf56fd572d0c5d4d34746d8d9f1d3ea44d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4e31cf56fd572d0c5d4d34746d8d9f1d3ea44d5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4e31cf56fd572d0c5d4d34746d8d9f1d3ea44d5/comments", "author": null, "committer": null, "parents": [{"sha": "3ed18aebe9c37b36249b9b3d8d168ca072ffcedf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ed18aebe9c37b36249b9b3d8d168ca072ffcedf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ed18aebe9c37b36249b9b3d8d168ca072ffcedf"}], "stats": {"total": 26, "additions": 20, "deletions": 6}, "files": [{"sha": "e275e1795d4c685191cd16f9a5fc3cf9b34f4f44", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4e31cf56fd572d0c5d4d34746d8d9f1d3ea44d5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4e31cf56fd572d0c5d4d34746d8d9f1d3ea44d5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f4e31cf56fd572d0c5d4d34746d8d9f1d3ea44d5", "patch": "@@ -1,3 +1,12 @@\n+Tue Nov  4 20:36:50 1997  Richard Henderson  (rth@cygnus.com)\n+\n+\t* alpha.c (summarize_insn): Handle ASM_OPERANDS.  Don't recurse\n+\tfor SUBREG, just fall through.\n+\n+\t* alpha.c (alpha_handle_trap_shadows): Init sum.defd to zero.\n+\n+\t* alpha.md (attr trap): Make TRAP_YES non-zero for sanity's sake.\n+\n Tue Nov  4 18:49:42 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* fixincludes: Fix \"hypot\" prototype in NeXT math.h."}, {"sha": "db40afc893328ecd095fb5bcb0741d8927dbeaaf", "filename": "gcc/config/alpha/alpha.c", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4e31cf56fd572d0c5d4d34746d8d9f1d3ea44d5/gcc%2Fconfig%2Falpha%2Falpha.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4e31cf56fd572d0c5d4d34746d8d9f1d3ea44d5/gcc%2Fconfig%2Falpha%2Falpha.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.c?ref=f4e31cf56fd572d0c5d4d34746d8d9f1d3ea44d5", "patch": "@@ -2848,11 +2848,20 @@ summarize_insn (x, sum, set)\n       summarize_insn (XEXP (x, 0), sum, 0);\n       break;\n \n+    case ASM_OPERANDS:\n+      for (i = ASM_OPERANDS_INPUT_LENGTH (x) - 1; i >= 0; i--)\n+\tsummarize_insn (ASM_OPERANDS_INPUT (x, i), sum, 0);\n+      break;\n+\n     case PARALLEL:\n       for (i = XVECLEN (x, 0) - 1; i >= 0; i--)\n \tsummarize_insn (XVECEXP (x, 0, i), sum, 0);\n       break;\n \n+    case SUBREG:\n+      x = SUBREG_REG (x);\n+      /* FALLTHRU */\n+\n     case REG:\n       {\n \tint regno = REGNO (x);\n@@ -2888,10 +2897,6 @@ summarize_insn (x, sum, set)\n       summarize_insn (XEXP (x, 0), sum, 0);\n       break;\n \n-    case SUBREG:\n-      summarize_insn (SUBREG_REG (x), sum, set);\n-      break;\n-\n     case CONST_INT:   case CONST_DOUBLE:\n     case SYMBOL_REF:  case LABEL_REF:     case CONST:\n       break;\n@@ -3022,7 +3027,7 @@ alpha_handle_trap_shadows (insns)\n \t\t  sum.used.i = 0;\n \t\t  sum.used.fp = 0;\n \t\t  sum.used.mem = 0;\n-\t\t  sum.defd = shadow.used;\n+\t\t  sum.defd = sum.used;\n \n \t\t  switch (GET_CODE (i))\n \t\t    {"}, {"sha": "8fbb0e3032f3b84feafaafa1db9a04cedb75c36a", "filename": "gcc/config/alpha/alpha.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4e31cf56fd572d0c5d4d34746d8d9f1d3ea44d5/gcc%2Fconfig%2Falpha%2Falpha.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4e31cf56fd572d0c5d4d34746d8d9f1d3ea44d5/gcc%2Fconfig%2Falpha%2Falpha.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.md?ref=f4e31cf56fd572d0c5d4d34746d8d9f1d3ea44d5", "patch": "@@ -39,7 +39,7 @@\n ;; The TRAP_TYPE attribute marks instructions that may generate traps\n ;; (which are imprecise and may need a trapb if software complention\n ;; is desired).\n-(define_attr \"trap\" \"yes,no\" (const_string \"no\"))\n+(define_attr \"trap\" \"no,yes\" (const_string \"no\"))\n \n ;; For the EV4 we include four function units: ABOX, which computes\n ;; the address, BBOX, used for branches, EBOX, used for integer"}]}