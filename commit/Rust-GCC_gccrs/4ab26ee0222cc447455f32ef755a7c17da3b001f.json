{"sha": "4ab26ee0222cc447455f32ef755a7c17da3b001f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGFiMjZlZTAyMjJjYzQ0NzQ1NWYzMmVmNzU1YTdjMTdkYTNiMDAxZg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2015-02-18T11:37:02Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2015-02-18T11:37:02Z"}, "message": "re PR ipa/65087 (r220742 causes: ICE: in ipcp_verify_propagated_values, at ipa-cp.c:1057)\n\n\tPR ipa/65087\n\t* cgraphclones.c (cgraph_node::create_virtual_clone): Only copy\n\tsection if !implicit_section.\n\t(cgraph_node::create_version_clone_with_body): Likewise.\n\t* trans-mem.c (ipa_tm_create_version): Likewise.\n\nFrom-SVN: r220786", "tree": {"sha": "6301936495bc984c30778148808de04d76ab7225", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6301936495bc984c30778148808de04d76ab7225"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4ab26ee0222cc447455f32ef755a7c17da3b001f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ab26ee0222cc447455f32ef755a7c17da3b001f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ab26ee0222cc447455f32ef755a7c17da3b001f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ab26ee0222cc447455f32ef755a7c17da3b001f/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6f423f4c894fe9dada8ad862b237001c99aa6150", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f423f4c894fe9dada8ad862b237001c99aa6150", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f423f4c894fe9dada8ad862b237001c99aa6150"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "cbc68b3de42bf5d48a71dcda350a160351bba44a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ab26ee0222cc447455f32ef755a7c17da3b001f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ab26ee0222cc447455f32ef755a7c17da3b001f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4ab26ee0222cc447455f32ef755a7c17da3b001f", "patch": "@@ -1,3 +1,11 @@\n+2015-02-18  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR ipa/65087\n+\t* cgraphclones.c (cgraph_node::create_virtual_clone): Only copy\n+\tsection if !implicit_section.\n+\t(cgraph_node::create_version_clone_with_body): Likewise.\n+\t* trans-mem.c (ipa_tm_create_version): Likewise.\n+\n 2015-02-18  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/62217"}, {"sha": "655b0ab7804862f0a3759cab2b8f7a59d1c21f19", "filename": "gcc/cgraphclones.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ab26ee0222cc447455f32ef755a7c17da3b001f/gcc%2Fcgraphclones.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ab26ee0222cc447455f32ef755a7c17da3b001f/gcc%2Fcgraphclones.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphclones.c?ref=4ab26ee0222cc447455f32ef755a7c17da3b001f", "patch": "@@ -617,7 +617,7 @@ cgraph_node::create_virtual_clone (vec<cgraph_edge *> redirect_callers,\n      ABI support for this.  */\n   set_new_clone_decl_and_node_flags (new_node);\n   new_node->clone.tree_map = tree_map;\n-  if (!DECL_ONE_ONLY (old_decl))\n+  if (!implicit_section)\n     new_node->set_section (get_section ());\n \n   /* Clones of global symbols or symbols with unique names are unique.  */\n@@ -1011,7 +1011,8 @@ cgraph_node::create_version_clone_with_body\n   new_version_node->externally_visible = 0;\n   new_version_node->local.local = 1;\n   new_version_node->lowered = true;\n-  new_version_node->set_section (get_section ());\n+  if (!implicit_section)\n+    new_version_node->set_section (get_section ());\n   /* Clones of global symbols or symbols with unique names are unique.  */\n   if ((TREE_PUBLIC (old_decl)\n        && !DECL_EXTERNAL (old_decl)"}, {"sha": "078c2da2f6b104beded922a5de8cf608e53759ec", "filename": "gcc/trans-mem.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ab26ee0222cc447455f32ef755a7c17da3b001f/gcc%2Ftrans-mem.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ab26ee0222cc447455f32ef755a7c17da3b001f/gcc%2Ftrans-mem.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftrans-mem.c?ref=4ab26ee0222cc447455f32ef755a7c17da3b001f", "patch": "@@ -4967,7 +4967,8 @@ ipa_tm_create_version (struct cgraph_node *old_node)\n   new_node->externally_visible = old_node->externally_visible;\n   new_node->lowered = true;\n   new_node->tm_clone = 1;\n-  new_node->set_section (old_node->get_section ());\n+  if (!old_node->implicit_section)\n+    new_node->set_section (old_node->get_section ());\n   get_cg_data (&old_node, true)->clone = new_node;\n \n   if (old_node->get_availability () >= AVAIL_INTERPOSABLE)"}]}