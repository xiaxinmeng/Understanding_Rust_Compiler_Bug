{"sha": "c11145f6995c09869e75cd7946bea6b2f0ca969d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzExMTQ1ZjY5OTVjMDk4NjllNzVjZDc5NDZiZWE2YjJmMGNhOTY5ZA==", "commit": {"author": {"name": "Catherine Moore", "email": "clm@cygnus.com", "date": "1999-01-13T14:32:39Z"}, "committer": {"name": "Catherine Moore", "email": "clm@gcc.gnu.org", "date": "1999-01-13T14:32:39Z"}, "message": "arm.c (output_func_epilogue): Check TARGET_ABORT_NORETURN before generating a call to abort for volatile...\n\n        * config/arm.c (output_func_epilogue):  Check TARGET_ABORT_NORETURN\n        before generating a call to abort for volatile functions.\n        * config/arm.h (ARM_FLAG_ABORT_NORETURN):  Define.\n        (TARGET_ABORT_NORETURN):  Define.\n        (abort-on-noreturn):  New option.\n\nFrom-SVN: r24653", "tree": {"sha": "8bda4394f7aa870f436c5abb337ebdf44731d0c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8bda4394f7aa870f436c5abb337ebdf44731d0c5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c11145f6995c09869e75cd7946bea6b2f0ca969d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c11145f6995c09869e75cd7946bea6b2f0ca969d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c11145f6995c09869e75cd7946bea6b2f0ca969d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c11145f6995c09869e75cd7946bea6b2f0ca969d/comments", "author": null, "committer": null, "parents": [{"sha": "31ee9d6c10cf0088adbb3f81bfcf4e40159d5ac2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31ee9d6c10cf0088adbb3f81bfcf4e40159d5ac2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31ee9d6c10cf0088adbb3f81bfcf4e40159d5ac2"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "a11bfc0d0a9b759a9b6ce0039e26b40576cb7943", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c11145f6995c09869e75cd7946bea6b2f0ca969d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c11145f6995c09869e75cd7946bea6b2f0ca969d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c11145f6995c09869e75cd7946bea6b2f0ca969d", "patch": "@@ -1,3 +1,11 @@\n+Wed Jan 13 16:16:44 1999  Catherine Moore  <clm@cygnus.com>\n+\n+        * config/arm.c (output_func_epilogue):  Check TARGET_ABORT_NORETURN\n+        before generating a call to abort for volatile functions.\n+        * config/arm.h (ARM_FLAG_ABORT_NORETURN):  Define.\n+        (TARGET_ABORT_NORETURN):  Define.\n+        (abort-on-noreturn):  New option.\n+\n Wed Jan 13 13:30:08 1999  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* cccp.c (xstrdup): Renamed from `savestring'.  All callers changed."}, {"sha": "bcbf33c625a2f7fa2b941d74bf561b5693df74b3", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c11145f6995c09869e75cd7946bea6b2f0ca969d/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c11145f6995c09869e75cd7946bea6b2f0ca969d/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=c11145f6995c09869e75cd7946bea6b2f0ca969d", "patch": "@@ -5006,7 +5006,7 @@ output_func_epilogue (f, frame_size)\n     goto epilogue_done;\n \n   /* A volatile function should never return.  Call abort.  */\n-  if (volatile_func)\n+  if (TARGET_ABORT_NORETURN && volatile_func)\n     {\n       rtx op = gen_rtx (SYMBOL_REF, Pmode, \"abort\");\n       assemble_external_libcall (op);"}, {"sha": "3c29f1cea7cbaf7cf514645c7addff3292ea4179", "filename": "gcc/config/arm/arm.h", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c11145f6995c09869e75cd7946bea6b2f0ca969d/gcc%2Fconfig%2Farm%2Farm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c11145f6995c09869e75cd7946bea6b2f0ca969d/gcc%2Fconfig%2Farm%2Farm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.h?ref=c11145f6995c09869e75cd7946bea6b2f0ca969d", "patch": "@@ -312,6 +312,10 @@ extern char *target_fp_name;\n    big-endian (for backwards compatibility with older versions of GCC).  */\n #define ARM_FLAG_LITTLE_WORDS\t(0x2000)\n \n+/* Nonzero if a call to abort should be generated if a noreturn \n+function tries to return. */\n+#define ARM_FLAG_ABORT_NORETURN (0x8000)\n+\n #define TARGET_APCS\t\t\t(target_flags & ARM_FLAG_APCS_FRAME)\n #define TARGET_POKE_FUNCTION_NAME\t(target_flags & ARM_FLAG_POKE)\n #define TARGET_FPE\t\t\t(target_flags & ARM_FLAG_FPE)\n@@ -327,6 +331,7 @@ extern char *target_fp_name;\n #define TARGET_BIG_END\t\t\t(target_flags & ARM_FLAG_BIG_END)\n #define TARGET_THUMB_INTERWORK\t\t(target_flags & ARM_FLAG_THUMB)\n #define TARGET_LITTLE_WORDS\t\t(target_flags & ARM_FLAG_LITTLE_WORDS)\n+#define TARGET_ABORT_NORETURN           (target_flags & ARM_FLAG_ABORT_NORETURN)\n \n /* SUBTARGET_SWITCHES is used to add flags on a per-config basis.\n    Bit 31 is reserved.  See riscix.h.  */\n@@ -377,6 +382,10 @@ extern char *target_fp_name;\n   {\"thumb-interwork\",\t\tARM_FLAG_THUMB, \t\\\n      \"Support calls between THUMB and ARM instructions sets\" },\t\\\n   {\"no-thumb-interwork\",       -ARM_FLAG_THUMB, \"\" },\t\\\n+  {\"abort-on-noreturn\",         ARM_FLAG_ABORT_NORETURN,     \\\n+   \"Generate a call to abort if a noreturn function returns\"}, \\\n+  {\"no-abort-on-noreturn\",      -ARM_FLAG_ABORT_NORETURN, \"\"}, \\\n+\n   SUBTARGET_SWITCHES\t\t\t\t\t\\\n   {\"\",\t\t\t\tTARGET_DEFAULT }\t\\\n }"}]}