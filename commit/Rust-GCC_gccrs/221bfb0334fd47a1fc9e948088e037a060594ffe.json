{"sha": "221bfb0334fd47a1fc9e948088e037a060594ffe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjIxYmZiMDMzNGZkNDdhMWZjOWU5NDgwODhlMDM3YTA2MDU5NGZmZQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-01-06T02:26:13Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-01-06T02:26:13Z"}, "message": "re PR c++/13057 (regparm attribute not applied to destructor)\n\n\tPR c++/13057\n\t* class.c (build_clone): Copy type attributes from the original\n\tfunction to the clone.\n\nFrom-SVN: r75460", "tree": {"sha": "1b3f1327ec729a653418386f9318f101bef6dbbb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1b3f1327ec729a653418386f9318f101bef6dbbb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/221bfb0334fd47a1fc9e948088e037a060594ffe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/221bfb0334fd47a1fc9e948088e037a060594ffe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/221bfb0334fd47a1fc9e948088e037a060594ffe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/221bfb0334fd47a1fc9e948088e037a060594ffe/comments", "author": null, "committer": null, "parents": [{"sha": "856363c8838cfefffb161191355a4ca8548815f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/856363c8838cfefffb161191355a4ca8548815f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/856363c8838cfefffb161191355a4ca8548815f6"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "49022241678115bc78c574336e02bdd93dffacf9", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/221bfb0334fd47a1fc9e948088e037a060594ffe/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/221bfb0334fd47a1fc9e948088e037a060594ffe/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=221bfb0334fd47a1fc9e948088e037a060594ffe", "patch": "@@ -1,5 +1,9 @@\n 2004-01-05  Mark Mitchell  <mark@codesourcery.com>\n \n+\tPR c++/13057\n+\t* class.c (build_clone): Copy type attributes from the original\n+\tfunction to the clone.\n+\t\n \tPR c++/12815\n \t* class.c (build_vtbl_ref_1): Do not unconditionally mark vtable\n \treferences as constant."}, {"sha": "49d21b746200c3b94827d573637c09abf3afad01", "filename": "gcc/cp/class.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/221bfb0334fd47a1fc9e948088e037a060594ffe/gcc%2Fcp%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/221bfb0334fd47a1fc9e948088e037a060594ffe/gcc%2Fcp%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fclass.c?ref=221bfb0334fd47a1fc9e948088e037a060594ffe", "patch": "@@ -3875,6 +3875,9 @@ build_clone (tree fn, tree name)\n       if (exceptions)\n \tTREE_TYPE (clone) = build_exception_variant (TREE_TYPE (clone),\n \t\t\t\t\t\t     exceptions);\n+      TREE_TYPE (clone) \n+\t= build_type_attribute_variant (TREE_TYPE (clone),\n+\t\t\t\t\tTYPE_ATTRIBUTES (TREE_TYPE (fn)));\n     }\n \n   /* Copy the function parameters.  But, DECL_ARGUMENTS on a TEMPLATE_DECL"}]}