{"sha": "eabf2b44483427d54be93ae7628065aa08c4a1e6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWFiZjJiNDQ0ODM0MjdkNTRiZTkzYWU3NjI4MDY1YWEwOGM0YTFlNg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2019-05-28T07:21:07Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2019-05-28T07:21:07Z"}, "message": "decl.c (intrin_arglists_compatible_p): Do not return false if the internal builtin uses a variable list.\n\n\t* gcc-interface/decl.c (intrin_arglists_compatible_p): Do not return\n\tfalse if the internal builtin uses a variable list.\n\nFrom-SVN: r271679", "tree": {"sha": "bf92cada7dec61f9161e78b9a70842d9ed7c5515", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bf92cada7dec61f9161e78b9a70842d9ed7c5515"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eabf2b44483427d54be93ae7628065aa08c4a1e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eabf2b44483427d54be93ae7628065aa08c4a1e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eabf2b44483427d54be93ae7628065aa08c4a1e6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eabf2b44483427d54be93ae7628065aa08c4a1e6/comments", "author": null, "committer": null, "parents": [{"sha": "6a10fedad0d8a7099156b5218728f1fa09f345aa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a10fedad0d8a7099156b5218728f1fa09f345aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a10fedad0d8a7099156b5218728f1fa09f345aa"}], "stats": {"total": 53, "additions": 50, "deletions": 3}, "files": [{"sha": "377b13e0ecccd82bbdf368013a3f7a41dc0cb9ce", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eabf2b44483427d54be93ae7628065aa08c4a1e6/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eabf2b44483427d54be93ae7628065aa08c4a1e6/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=eabf2b44483427d54be93ae7628065aa08c4a1e6", "patch": "@@ -1,3 +1,8 @@\n+2019-05-28  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/decl.c (intrin_arglists_compatible_p): Do not return\n+\tfalse if the internal builtin uses a variable list.\n+\n 2019-05-27  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/trans.c (Call_to_gnu): Do not initialize the temporary"}, {"sha": "9082d44ea5c3b922cd0761db42be70c442c2c4a9", "filename": "gcc/ada/gcc-interface/decl.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eabf2b44483427d54be93ae7628065aa08c4a1e6/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eabf2b44483427d54be93ae7628065aa08c4a1e6/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fdecl.c?ref=eabf2b44483427d54be93ae7628065aa08c4a1e6", "patch": "@@ -9174,9 +9174,9 @@ intrin_arglists_compatible_p (intrin_binding_t * inb)\n       if (!ada_type && !btin_type)\n \tbreak;\n \n-      /* If one list is shorter than the other, they fail to match.  */\n-      if (!ada_type || !btin_type)\n-\treturn false;\n+      /* If the internal builtin uses a variable list, accept anything.  */\n+      if (!btin_type)\n+\tbreak;\n \n       /* If we're done with the Ada args and not with the internal builtin\n \t args, or the other way around, complain.  */"}, {"sha": "633ecfc5b317278d989fd6ce7ad8661e0861270e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eabf2b44483427d54be93ae7628065aa08c4a1e6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eabf2b44483427d54be93ae7628065aa08c4a1e6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=eabf2b44483427d54be93ae7628065aa08c4a1e6", "patch": "@@ -1,3 +1,7 @@\n+2019-05-28  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/prefetch1.ad[sb]: New test.\n+\n 2019-05-27  Iain Sandoe  <iain@sandoe.co.uk>\n \n \t* gcc.target/i386/pr22076.c: Adjust options to"}, {"sha": "2233da488ef3ef33c17fb37c61fbb147946cbc13", "filename": "gcc/testsuite/gnat.dg/prefetch1.adb", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eabf2b44483427d54be93ae7628065aa08c4a1e6/gcc%2Ftestsuite%2Fgnat.dg%2Fprefetch1.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eabf2b44483427d54be93ae7628065aa08c4a1e6/gcc%2Ftestsuite%2Fgnat.dg%2Fprefetch1.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fprefetch1.adb?ref=eabf2b44483427d54be93ae7628065aa08c4a1e6", "patch": "@@ -0,0 +1,29 @@\n+-- { dg-do compile }\n+\n+package body Prefetch1 is\n+\n+  procedure Prefetch_1 (Addr : System.Address);\n+  pragma Import (Intrinsic, Prefetch_1, \"__builtin_prefetch\");\n+\n+  procedure Prefetch_2 (Addr : System.Address; RW : Integer);\n+  pragma Import (Intrinsic, Prefetch_2, \"__builtin_prefetch\");\n+\n+  procedure Prefetch_3 (Addr : System.Address; RW : Integer; Locality : Integer);\n+  pragma Import (Intrinsic, Prefetch_3, \"__builtin_prefetch\");\n+\n+  procedure My_Proc1 (Addr : System.Address) is\n+  begin\n+    Prefetch_1 (Addr);\n+  end;\n+\n+  procedure My_Proc2 (Addr : System.Address) is\n+  begin\n+    Prefetch_2 (Addr, 1);\n+  end;\n+\n+  procedure My_Proc3 (Addr : System.Address) is\n+  begin\n+    Prefetch_3 (Addr, 1, 1);\n+  end;\n+\n+end Prefetch1;"}, {"sha": "fdb655afa73bdc26c3b1ce9f4407fcea52fdbd04", "filename": "gcc/testsuite/gnat.dg/prefetch1.ads", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eabf2b44483427d54be93ae7628065aa08c4a1e6/gcc%2Ftestsuite%2Fgnat.dg%2Fprefetch1.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eabf2b44483427d54be93ae7628065aa08c4a1e6/gcc%2Ftestsuite%2Fgnat.dg%2Fprefetch1.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fprefetch1.ads?ref=eabf2b44483427d54be93ae7628065aa08c4a1e6", "patch": "@@ -0,0 +1,9 @@\n+with System;\n+\n+package Prefetch1 is\n+\n+  procedure My_Proc1 (Addr : System.Address);\n+  procedure My_Proc2 (Addr : System.Address);\n+  procedure My_Proc3 (Addr : System.Address);\n+\n+end Prefetch1;"}]}