{"sha": "0a662e103e911af935aa5c601051c135986ce3de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGE2NjJlMTAzZTkxMWFmOTM1YWE1YzYwMTA1MWMxMzU5ODZjZTNkZQ==", "commit": {"author": {"name": "YiFei Zhu", "email": "zhuyifei1999@gmail.com", "date": "2021-04-22T10:05:56Z"}, "committer": {"name": "David Faust", "email": "david.faust@oracle.com", "date": "2021-04-23T16:56:20Z"}, "message": "bpf: align function entry point to 64 bits\n\nLibbpf does not treat paddings after functions well. If function\nsymbols does not cover a whole text section, it will emit error\nsimilar to:\n\n  libbpf: sec '.text': failed to find program symbol at offset 56\n\nEach instruction in BPF is a multiple of 8 bytes, so align the\nfunctions to 8 bytes, similar to how clang does it.\n\n2021-04-22  YiFei Zhu  <zhuyifei1999@gmail.com>\n\ngcc/\n\n\t* config/bpf/bpf.h (FUNCTION_BOUNDARY): Set to 64.", "tree": {"sha": "84689b4e37aef8c73067d3d055b53a0ede528464", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/84689b4e37aef8c73067d3d055b53a0ede528464"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0a662e103e911af935aa5c601051c135986ce3de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a662e103e911af935aa5c601051c135986ce3de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0a662e103e911af935aa5c601051c135986ce3de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a662e103e911af935aa5c601051c135986ce3de/comments", "author": {"login": "zhuyifei1999", "id": 2096920, "node_id": "MDQ6VXNlcjIwOTY5MjA=", "avatar_url": "https://avatars.githubusercontent.com/u/2096920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhuyifei1999", "html_url": "https://github.com/zhuyifei1999", "followers_url": "https://api.github.com/users/zhuyifei1999/followers", "following_url": "https://api.github.com/users/zhuyifei1999/following{/other_user}", "gists_url": "https://api.github.com/users/zhuyifei1999/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhuyifei1999/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhuyifei1999/subscriptions", "organizations_url": "https://api.github.com/users/zhuyifei1999/orgs", "repos_url": "https://api.github.com/users/zhuyifei1999/repos", "events_url": "https://api.github.com/users/zhuyifei1999/events{/privacy}", "received_events_url": "https://api.github.com/users/zhuyifei1999/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dafaust", "id": 4460334, "node_id": "MDQ6VXNlcjQ0NjAzMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4460334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dafaust", "html_url": "https://github.com/dafaust", "followers_url": "https://api.github.com/users/dafaust/followers", "following_url": "https://api.github.com/users/dafaust/following{/other_user}", "gists_url": "https://api.github.com/users/dafaust/gists{/gist_id}", "starred_url": "https://api.github.com/users/dafaust/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dafaust/subscriptions", "organizations_url": "https://api.github.com/users/dafaust/orgs", "repos_url": "https://api.github.com/users/dafaust/repos", "events_url": "https://api.github.com/users/dafaust/events{/privacy}", "received_events_url": "https://api.github.com/users/dafaust/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "716bb02b40ecef5564abb5ba45a594323123a104", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/716bb02b40ecef5564abb5ba45a594323123a104", "html_url": "https://github.com/Rust-GCC/gccrs/commit/716bb02b40ecef5564abb5ba45a594323123a104"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "6a3907fb61816f80d6105f9520980a841a71a93c", "filename": "gcc/config/bpf/bpf.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a662e103e911af935aa5c601051c135986ce3de/gcc%2Fconfig%2Fbpf%2Fbpf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a662e103e911af935aa5c601051c135986ce3de/gcc%2Fconfig%2Fbpf%2Fbpf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbpf%2Fbpf.h?ref=0a662e103e911af935aa5c601051c135986ce3de", "patch": "@@ -57,8 +57,8 @@\n    64-bit at any time.  */\n #define STACK_BOUNDARY 64\n \n-/* Function entry points are aligned to 128 bits.  */\n-#define FUNCTION_BOUNDARY 128\n+/* Function entry points are aligned to 64 bits.  */\n+#define FUNCTION_BOUNDARY 64\n \n /* Maximum alignment required by data of any type.  */\n #define BIGGEST_ALIGNMENT 64"}]}