{"sha": "c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzhmMmRmZjJjNjRlZGJjZmVkZmU5NWMxYjU5MjllY2VlMjNjMjBlMw==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2015-01-25T04:42:50Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2015-01-25T04:42:50Z"}, "message": "Support new Intel processor model numbers\n\ngcc/\n\n\t* config/i386/driver-i386.c (host_detect_local_cpu): Check new\n\tSilvermont, Haswell, Broadwell and Knights Landing model numbers.\n\t* config/i386/i386.c (processor_model): Add\n\tM_INTEL_COREI7_BROADWELL.\n\t(arch_names_table): Add \"broadwell\".\n\ngcc/testsuite/\n\n\t* gcc.target/i386/builtin_target.c (check_intel_cpu_model): Add\n\tSilvermont, Ivy Bridge, Haswell and Broadwell tests.  Update Sandy\n\tBridge test.\n\n2015-01-24  H.J. Lu  <hongjiu.lu@intel.com>\n\n\t* config/i386/cpuinfo.c (processor_subtypes): Add\n\tINTEL_COREI7_BROADWELL.\n\t(get_intel_cpu): Support new Silvermont, Haswell and Broadwell\n\tmodel numbers.\n\nFrom-SVN: r220090", "tree": {"sha": "1529237742ca10e96dab2018da3f0b158c79a26d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1529237742ca10e96dab2018da3f0b158c79a26d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e78954f87d2f573ec179aaa95b0b2ff28c46c047", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e78954f87d2f573ec179aaa95b0b2ff28c46c047", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e78954f87d2f573ec179aaa95b0b2ff28c46c047"}], "stats": {"total": 81, "additions": 80, "deletions": 1}, "files": [{"sha": "47d6ac598b0da7f149c22cdd2b66ba787c61b6c2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3", "patch": "@@ -1,3 +1,11 @@\n+2015-01-24  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* config/i386/driver-i386.c (host_detect_local_cpu): Check new\n+\tSilvermont, Haswell, Broadwell and Knights Landing model numbers.\n+\t* config/i386/i386.c (processor_model): Add\n+\tM_INTEL_COREI7_BROADWELL.\n+\t(arch_names_table): Add \"broadwell\".\n+\n 2015-01-24  Oleg Endo  <olegendo@gcc.gnu.org>\n \n \tPR target/49263"}, {"sha": "c69149d7cb975284068c77678336f9f320e4a596", "filename": "gcc/config/i386/driver-i386.c", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/gcc%2Fconfig%2Fi386%2Fdriver-i386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/gcc%2Fconfig%2Fi386%2Fdriver-i386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fdriver-i386.c?ref=c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3", "patch": "@@ -703,7 +703,10 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n \t  cpu = \"bonnell\";\n \t  break;\n \tcase 0x37:\n+\tcase 0x4a:\n \tcase 0x4d:\n+\tcase 0x5a:\n+\tcase 0x5d:\n \t  /* Silvermont.  */\n \t  cpu = \"silvermont\";\n \t  break;\n@@ -738,11 +741,22 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n \t  cpu = \"ivybridge\";\n \t  break;\n \tcase 0x3c:\n+\tcase 0x3f:\n \tcase 0x45:\n \tcase 0x46:\n \t  /* Haswell.  */\n \t  cpu = \"haswell\";\n \t  break;\n+\tcase 0x3d:\n+\tcase 0x4f:\n+\tcase 0x56:\n+\t  /* Broadwell.  */\n+\t  cpu = \"broadwell\";\n+\t  break;\n+\tcase 0x57:\n+\t  /* Knights Landing.  */\n+\t  cpu = \"knl\";\n+\t  break;\n \tdefault:\n \t  if (arch)\n \t    {"}, {"sha": "9ec40cb86370a7863956548e2f3601db81e70d96", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3", "patch": "@@ -35342,7 +35342,8 @@ fold_builtin_cpu (tree fndecl, tree *args)\n     M_AMDFAM15H_BDVER3,\n     M_AMDFAM15H_BDVER4,\n     M_INTEL_COREI7_IVYBRIDGE,\n-    M_INTEL_COREI7_HASWELL\n+    M_INTEL_COREI7_HASWELL,\n+    M_INTEL_COREI7_BROADWELL\n   };\n \n   static struct _arch_names_table\n@@ -35363,6 +35364,7 @@ fold_builtin_cpu (tree fndecl, tree *args)\n       {\"sandybridge\", M_INTEL_COREI7_SANDYBRIDGE},\n       {\"ivybridge\", M_INTEL_COREI7_IVYBRIDGE},\n       {\"haswell\", M_INTEL_COREI7_HASWELL},\n+      {\"broadwell\", M_INTEL_COREI7_BROADWELL},\n       {\"bonnell\", M_INTEL_BONNELL},\n       {\"silvermont\", M_INTEL_SILVERMONT},\n       {\"knl\", M_INTEL_KNL},"}, {"sha": "e785ed407b8bf967fc6bcaf505169541d5007fbd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3", "patch": "@@ -1,3 +1,9 @@\n+2015-01-24  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* gcc.target/i386/builtin_target.c (check_intel_cpu_model): Add\n+\tSilvermont, Ivy Bridge, Haswell and Broadwell tests.  Update Sandy\n+\tBridge test.\n+\n 2015-01-24  Janne Blomqvist  <jb@gcc.gnu.org>\n \n \tPR libfortran/64770"}, {"sha": "10c05683bb1282fb864f38d689d36f0b9ec44981", "filename": "gcc/testsuite/gcc.target/i386/builtin_target.c", "status": "modified", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fbuiltin_target.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fbuiltin_target.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fbuiltin_target.c?ref=c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3", "patch": "@@ -30,6 +30,14 @@ check_intel_cpu_model (unsigned int family, unsigned int model,\n \t      /* Atom.  */\n \t      assert (__builtin_cpu_is (\"atom\"));\n \t      break;\n+\t    case 0x37:\n+\t    case 0x4a:\n+\t    case 0x4d:\n+\t    case 0x5a:\n+\t    case 0x5d:\n+\t      /* Silvermont.  */\n+\t      assert (__builtin_cpu_is (\"silvermont\"));\n+\t      break;\n \t    case 0x1a:\n \t    case 0x1e:\n \t    case 0x1f:\n@@ -46,10 +54,32 @@ check_intel_cpu_model (unsigned int family, unsigned int model,\n \t      assert (__builtin_cpu_is (\"westmere\"));\n \t      break;\n \t    case 0x2a:\n+\t    case 0x2d:\n \t      /* Sandy Bridge.  */\n \t      assert (__builtin_cpu_is (\"corei7\"));\n \t      assert (__builtin_cpu_is (\"sandybridge\"));\n \t      break;\n+\t    case 0x3a:\n+\t    case 0x3e:\n+\t      /* Ivy Bridge.  */\n+\t      assert (__builtin_cpu_is (\"corei7\"));\n+\t      assert (__builtin_cpu_is (\"ivybridge\"));\n+\t      break;\n+\t    case 0x3c:\n+\t    case 0x3f:\n+\t    case 0x45:\n+\t    case 0x46:\n+\t      /* Haswell.  */\n+\t      assert (__builtin_cpu_is (\"corei7\"));\n+\t      assert (__builtin_cpu_is (\"haswell\"));\n+\t      break;\n+\t    case 0x3d:\n+\t    case 0x4f:\n+\t    case 0x56:\n+\t      /* Broadwell.  */\n+\t      assert (__builtin_cpu_is (\"corei7\"));\n+\t      assert (__builtin_cpu_is (\"broadwell\"));\n+\t      break;\n \t    case 0x17:\n \t    case 0x1d:\n \t      /* Penryn.  */"}, {"sha": "3949c0adbc7d441bb2dfc69f4040a1eca9458cab", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3", "patch": "@@ -1,3 +1,10 @@\n+2015-01-24  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* config/i386/cpuinfo.c (processor_subtypes): Add\n+\tINTEL_COREI7_BROADWELL.\n+\t(get_intel_cpu): Support new Silvermont, Haswell and Broadwell\n+\tmodel numbers.\n+\n 2015-01-23  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/elf-lib.h: New file."}, {"sha": "c80083eec5053323aad4842da71e28395ed6f7c1", "filename": "libgcc/config/i386/cpuinfo.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c?ref=c8f2dff2c64edbcfedfe95c1b5929ecee23c20e3", "patch": "@@ -75,6 +75,7 @@ enum processor_subtypes\n   AMDFAM15H_BDVER4,\n   INTEL_COREI7_IVYBRIDGE,\n   INTEL_COREI7_HASWELL,\n+  INTEL_COREI7_BROADWELL,\n   CPU_SUBTYPE_MAX\n };\n \n@@ -185,7 +186,10 @@ get_intel_cpu (unsigned int family, unsigned int model, unsigned int brand_id)\n \t      __cpu_model.__cpu_type = INTEL_BONNELL;\n \t      break;\n \t    case 0x37:\n+\t    case 0x4a:\n \t    case 0x4d:\n+\t    case 0x5a:\n+\t    case 0x5d:\n \t      /* Silvermont.  */\n \t      __cpu_model.__cpu_type = INTEL_SILVERMONT;\n \t      break;\n@@ -217,12 +221,20 @@ get_intel_cpu (unsigned int family, unsigned int model, unsigned int brand_id)\n \t      __cpu_model.__cpu_subtype = INTEL_COREI7_IVYBRIDGE;\n \t      break;\n \t    case 0x3c:\n+\t    case 0x3f:\n \t    case 0x45:\n \t    case 0x46:\n \t      /* Haswell.  */\n \t      __cpu_model.__cpu_type = INTEL_COREI7;\n \t      __cpu_model.__cpu_subtype = INTEL_COREI7_HASWELL;\n \t      break;\n+\t    case 0x3d:\n+\t    case 0x4f:\n+\t    case 0x56:\n+\t      /* Broadwell.  */\n+\t      __cpu_model.__cpu_type = INTEL_COREI7;\n+\t      __cpu_model.__cpu_subtype = INTEL_COREI7_BROADWELL;\n+\t      break;\n \t    case 0x17:\n \t    case 0x1d:\n \t      /* Penryn.  */"}]}