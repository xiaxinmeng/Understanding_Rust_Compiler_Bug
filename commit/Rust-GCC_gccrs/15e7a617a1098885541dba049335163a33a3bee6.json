{"sha": "15e7a617a1098885541dba049335163a33a3bee6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTVlN2E2MTdhMTA5ODg4NTU0MWRiYTA0OTMzNTE2M2EzM2EzYmVlNg==", "commit": {"author": {"name": "Janis Johnson", "email": "janis187@us.ibm.com", "date": "2010-03-01T23:29:18Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2010-03-01T23:29:18Z"}, "message": "sourcebuild.texi (Test directives): Clarify options to dg-skip-if.\n\n\t* doc/sourcebuild.texi (Test directives): Clarify options to\n\tdg-skip-if.\n\nCo-Authored-By: Daniel Jacobowitz <dan@codesourcery.com>\n\nFrom-SVN: r157154", "tree": {"sha": "196f26c214a7162c6aef7dc64824fef93fad27d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/196f26c214a7162c6aef7dc64824fef93fad27d4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/15e7a617a1098885541dba049335163a33a3bee6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15e7a617a1098885541dba049335163a33a3bee6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15e7a617a1098885541dba049335163a33a3bee6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15e7a617a1098885541dba049335163a33a3bee6/comments", "author": null, "committer": null, "parents": [{"sha": "604b384dd4580785292d8706719d51e8e1f44295", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/604b384dd4580785292d8706719d51e8e1f44295", "html_url": "https://github.com/Rust-GCC/gccrs/commit/604b384dd4580785292d8706719d51e8e1f44295"}], "stats": {"total": 60, "additions": 52, "deletions": 8}, "files": [{"sha": "47e217f9497510e3a543d199bf2bdfc5aec5ec42", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15e7a617a1098885541dba049335163a33a3bee6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15e7a617a1098885541dba049335163a33a3bee6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=15e7a617a1098885541dba049335163a33a3bee6", "patch": "@@ -1,3 +1,9 @@\n+2010-03-01  Janis Johnson  <janis187@us.ibm.com>\n+\t    Daniel Jacobowitz  <dan@codesourcery.com>\n+\n+\t* doc/sourcebuild.texi (Test directives): Clarify options to\n+\tdg-skip-if.\n+\n 2010-03-01  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* configure.ac (gcc_cv_as_cfi_directive) [i?86-*-solaris*]:"}, {"sha": "2c52faca6f90700b1318e765f92105bf92ef7879", "filename": "gcc/doc/sourcebuild.texi", "status": "modified", "additions": 46, "deletions": 8, "changes": 54, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15e7a617a1098885541dba049335163a33a3bee6/gcc%2Fdoc%2Fsourcebuild.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15e7a617a1098885541dba049335163a33a3bee6/gcc%2Fdoc%2Fsourcebuild.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fsourcebuild.texi?ref=15e7a617a1098885541dba049335163a33a3bee6", "patch": "@@ -1021,14 +1021,52 @@ the test\n @end itemize\n \n @item @{ dg-skip-if @var{comment} @{ @var{selector} @} @{ @var{include-opts} @} @{ @var{exclude-opts} @} @}\n-Skip the test if the test system is included in @var{selector} and if\n-each of the options in @var{include-opts} is in the set of options with\n-which the test would be compiled and if none of the options in\n-@var{exclude-opts} is in the set of options with which the test would be\n-compiled.\n-\n-Use @samp{\"*\"} for an empty @var{include-opts} list and @samp{\"\"} for\n-an empty @var{exclude-opts} list.\n+Arguments @var{include-opts} and @var{exclude-opts} are lists in which\n+each element is a string of zero or more GCC options.\n+Skip the test if all of the following conditions are met:\n+@itemize @bullet\n+@item the test system is included in @var{selector}\n+\n+@item for at least one of the option strings in @var{include-opts},\n+every option from that string is in the set of options with which\n+the test would be compiled; use @samp{\"*\"} for an @var{include-opts} list\n+that matches any options\n+\n+@item for each of the option strings in @var{exclude-opts}, at least one\n+option from that string is not in the set of options with which the test\n+would be compiled; use @samp{\"\"} for an empty @var{exclude-opts} list\n+@end itemize\n+\n+For example, to skip a test if option @code{-Os} is present:\n+\n+@smallexample\n+/* @{ dg-skip-if \"\" @{ *-*-* @}  @{ \"-Os\" @} @{ \"\" @} @} */\n+@end smallexample\n+\n+To skip a test if both options @code{-O2} and @code{-g} are present:\n+\n+@smallexample\n+/* @{ dg-skip-if \"\" @{ *-*-* @}  @{ \"-O2 -g\" @} @{ \"\" @} @} */\n+@end smallexample\n+\n+To skip a test if either @code{-O2} or @code{-O3} is present:\n+\n+@smallexample\n+/* @{ dg-skip-if \"\" @{ *-*-* @}  @{ \"-O2\" \"-O3\" @} @{ \"\" @} @} */\n+@end smallexample\n+\n+To skip a test unless option @code{-OS} is present:\n+\n+@smallexample\n+/* @{ dg-skip-if \"\" @{ *-*-* @}  @{ \"*\" @} @{ \"-Os\" @} @} */\n+@end smallexample\n+\n+To skip a test if either @code{-O2} or @code{-O3} is used with @code{-g}\n+but not if @code{-fpic} is also present:\n+\n+@smallexample\n+/* @{ dg-skip-if \"\" @{ *-*-* @}  @{ \"-O2 -g\" \"-O3 -g\" @} @{ \"-fpic\" @} @} */\n+@end smallexample\n \n @item  @{ dg-xfail-if @var{comment} @{ @var{selector} @} @{ @var{include-opts} @} @{ @var{exclude-opts} @} @}\n Expect the test to fail if the conditions (which are the same as for"}]}