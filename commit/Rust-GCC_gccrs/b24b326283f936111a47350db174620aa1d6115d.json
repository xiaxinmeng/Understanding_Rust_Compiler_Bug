{"sha": "b24b326283f936111a47350db174620aa1d6115d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjI0YjMyNjI4M2Y5MzYxMTFhNDczNTBkYjE3NDYyMGFhMWQ2MTE1ZA==", "commit": {"author": {"name": "Yuri Rumyantsev", "email": "ysrumyan@gmail.com", "date": "2015-02-26T11:30:03Z"}, "committer": {"name": "Ilya Enkovich", "email": "ienkovich@gcc.gnu.org", "date": "2015-02-26T11:30:03Z"}, "message": "re PR target/65161 (ICE: in vec<_haifa_insn_data, va_heap, vl_embed>::operator[], at vec.h:736 with -O3 -fselective-scheduling2 -mtune=slm)\n\ngcc/\n\n\tPR target/65161\n\t* config/i386/i386.c (ix86_sched_reorder): Skip instruction\n\treordering for selective scheduling.\n\ngcc/testsuite/\n\n\tPR target/65161\n\t* gcc.target/i386/pr65161.c: New test.\n\nFrom-SVN: r221002", "tree": {"sha": "9945950c29f2fdeb20bc06fb4e3345896c9cf5e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9945950c29f2fdeb20bc06fb4e3345896c9cf5e9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b24b326283f936111a47350db174620aa1d6115d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b24b326283f936111a47350db174620aa1d6115d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b24b326283f936111a47350db174620aa1d6115d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b24b326283f936111a47350db174620aa1d6115d/comments", "author": {"login": "ysrumyan", "id": 44425612, "node_id": "MDQ6VXNlcjQ0NDI1NjEy", "avatar_url": "https://avatars.githubusercontent.com/u/44425612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ysrumyan", "html_url": "https://github.com/ysrumyan", "followers_url": "https://api.github.com/users/ysrumyan/followers", "following_url": "https://api.github.com/users/ysrumyan/following{/other_user}", "gists_url": "https://api.github.com/users/ysrumyan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ysrumyan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ysrumyan/subscriptions", "organizations_url": "https://api.github.com/users/ysrumyan/orgs", "repos_url": "https://api.github.com/users/ysrumyan/repos", "events_url": "https://api.github.com/users/ysrumyan/events{/privacy}", "received_events_url": "https://api.github.com/users/ysrumyan/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "afe006ad4deda8faeb9648913310c819aa250760", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afe006ad4deda8faeb9648913310c819aa250760", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afe006ad4deda8faeb9648913310c819aa250760"}], "stats": {"total": 31, "additions": 30, "deletions": 1}, "files": [{"sha": "95d7beb375864fee5ef14361658d2d25d04aa6e7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b24b326283f936111a47350db174620aa1d6115d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b24b326283f936111a47350db174620aa1d6115d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b24b326283f936111a47350db174620aa1d6115d", "patch": "@@ -1,3 +1,9 @@\n+2015-02-26  Yuri Rumyantsev  <ysrumyan@gmail.com>\n+\n+\tPR target/65161\n+\t* config/i386/i386.c (ix86_sched_reorder): Skip instruction\n+\treordering for selective scheduling.\n+\n 2015-02-26  Terry Guo  <terry.guo@arm.com>\n \n \t* config/arm/arm-cores.def (cortex-m7): Add flag FL_NO_VOLATILE_CE."}, {"sha": "bec132499015d65618a7e414d424ed64d7b0ce20", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b24b326283f936111a47350db174620aa1d6115d/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b24b326283f936111a47350db174620aa1d6115d/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=b24b326283f936111a47350db174620aa1d6115d", "patch": "@@ -26792,7 +26792,11 @@ ix86_sched_reorder (FILE *dump, int sched_verbose, rtx_insn **ready,\n       ready[n_ready - 1] = insn;\n       return issue_rate;\n     }\n-  if (clock_var != 0 && swap_top_of_ready_list (ready, n_ready))\n+\n+  /* Skip selective scheduling since HID is not populated in it.  */\n+  if (clock_var != 0\n+      && !sel_sched_p ()\n+      && swap_top_of_ready_list (ready, n_ready))\n     {\n       if (sched_verbose > 1)\n \tfprintf (dump, \";;\\tslm sched_reorder: swap %d and %d insns\\n\","}, {"sha": "8f88646341cdf932e01610a27051f50a7d1888d9", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b24b326283f936111a47350db174620aa1d6115d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b24b326283f936111a47350db174620aa1d6115d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b24b326283f936111a47350db174620aa1d6115d", "patch": "@@ -1,3 +1,8 @@\n+2015-02-26  Yuri Rumyantsev  <ysrumyan@gmail.com>\n+\n+\tPR target/65161\n+\t* gcc.target/i386/pr65161.c: New test.\n+\n 2015-02-26  Terry Guo  <terry.guo@arm.com>\n \n \t* gcc.target/arm/no-volatile-in-it.c: New test."}, {"sha": "3118e94587a4f2ef2479be0f9a7f78de98ad0c4b", "filename": "gcc/testsuite/gcc.target/i386/pr65161.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b24b326283f936111a47350db174620aa1d6115d/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr65161.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b24b326283f936111a47350db174620aa1d6115d/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr65161.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr65161.c?ref=b24b326283f936111a47350db174620aa1d6115d", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O3 -fselective-scheduling2 -mtune=slm\" } */\n+\n+extern char data_ch[];\n+\n+short\n+foo ()\n+{\n+  int i;\n+  short shortsum = 0;\n+  for (i = 0; i < 16; i++)\n+    shortsum += data_ch[i];\n+  return shortsum;\n+}"}]}