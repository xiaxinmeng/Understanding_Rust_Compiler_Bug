{"sha": "9de8fa8052154a83b82f8b3785ec100d8cb24261", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWRlOGZhODA1MjE1NGE4M2I4MmY4YjM3ODVlYzEwMGQ4Y2IyNDI2MQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2020-09-24T13:10:04Z"}, "committer": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2020-09-24T13:10:04Z"}, "message": "Add modref testcase\n\n\t* gcc.dg/tree-ssa/modref-1.c: New test.", "tree": {"sha": "04b98e665a3d3cd769b80f439feca5fe86295ffa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/04b98e665a3d3cd769b80f439feca5fe86295ffa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9de8fa8052154a83b82f8b3785ec100d8cb24261", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9de8fa8052154a83b82f8b3785ec100d8cb24261", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9de8fa8052154a83b82f8b3785ec100d8cb24261", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9de8fa8052154a83b82f8b3785ec100d8cb24261/comments", "author": null, "committer": null, "parents": [{"sha": "c33f474239308d81bf96cfdb2520d25488ad8724", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c33f474239308d81bf96cfdb2520d25488ad8724", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c33f474239308d81bf96cfdb2520d25488ad8724"}], "stats": {"total": 45, "additions": 45, "deletions": 0}, "files": [{"sha": "a80ca6b67c41fdeaab4b6a8f50f7b9275d37b781", "filename": "gcc/testsuite/gcc.dg/tree-ssa/modref-1.c", "status": "added", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9de8fa8052154a83b82f8b3785ec100d8cb24261/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fmodref-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9de8fa8052154a83b82f8b3785ec100d8cb24261/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fmodref-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fmodref-1.c?ref=9de8fa8052154a83b82f8b3785ec100d8cb24261", "patch": "@@ -0,0 +1,45 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fdump-tree-optimized\"  } */\n+int p,q,r,s,*ptr=&q, *ptr2=&p;\n+__attribute__ ((noinline))\n+int\n+test (int *p)\n+{\n+  *p = 1;\n+}\n+int\n+test1()\n+{\n+  q = 123;\n+  test(&p);\n+  return q;\n+}\n+int\n+test2()\n+{\n+  int *ptr = p ? &q : &s;\n+  *ptr = 124;\n+  test(&p);\n+  return *ptr;\n+}\n+int\n+test3()\n+{\n+  int *ptr = p ? &p : &s;\n+  q = 125;\n+  test(ptr);\n+  return q;\n+}\n+int\n+test4()\n+{\n+  int *ptr1 = p ? &q : &s;\n+  int *ptr = p ? &r : &p;\n+  *ptr1 = 126;\n+  test(ptr);\n+  return *ptr1;\n+}\n+/* { dg-final { scan-tree-dump \"return 123\" \"optimized\"} } */\n+/* { dg-final { scan-tree-dump \"return 124\" \"optimized\"} } */\n+/* { dg-final { scan-tree-dump \"return 125\" \"optimized\"} } */\n+/* { dg-final { scan-tree-dump \"return 126\" \"optimized\"} } */"}]}