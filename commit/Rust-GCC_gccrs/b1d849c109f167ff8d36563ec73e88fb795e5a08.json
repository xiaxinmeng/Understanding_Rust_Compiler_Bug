{"sha": "b1d849c109f167ff8d36563ec73e88fb795e5a08", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjFkODQ5YzEwOWYxNjdmZjhkMzY1NjNlYzczZTg4ZmI3OTVlNWEwOA==", "commit": {"author": {"name": "Matthias Klose", "email": "doko@ubuntu.com", "date": "2007-06-04T10:05:52Z"}, "committer": {"name": "Matthias Klose", "email": "doko@gcc.gnu.org", "date": "2007-06-04T10:05:52Z"}, "message": "acinclude.m4: Accept GCJ and JIKES.\n\n2007-06-04  Matthias Klose  <doko@ubuntu.com>\n\n        * m4/acinclude.m4: Accept GCJ and JIKES.\n        * configure: Regenerate.\n\nFrom-SVN: r125310", "tree": {"sha": "fcfe76de7bd694593123d2c7f1f17d1d8a634eae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fcfe76de7bd694593123d2c7f1f17d1d8a634eae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b1d849c109f167ff8d36563ec73e88fb795e5a08", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1d849c109f167ff8d36563ec73e88fb795e5a08", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1d849c109f167ff8d36563ec73e88fb795e5a08", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1d849c109f167ff8d36563ec73e88fb795e5a08/comments", "author": {"login": "doko42", "id": 11258518, "node_id": "MDQ6VXNlcjExMjU4NTE4", "avatar_url": "https://avatars.githubusercontent.com/u/11258518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/doko42", "html_url": "https://github.com/doko42", "followers_url": "https://api.github.com/users/doko42/followers", "following_url": "https://api.github.com/users/doko42/following{/other_user}", "gists_url": "https://api.github.com/users/doko42/gists{/gist_id}", "starred_url": "https://api.github.com/users/doko42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/doko42/subscriptions", "organizations_url": "https://api.github.com/users/doko42/orgs", "repos_url": "https://api.github.com/users/doko42/repos", "events_url": "https://api.github.com/users/doko42/events{/privacy}", "received_events_url": "https://api.github.com/users/doko42/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1a075af13d923352ea6c61cfd645474540788cf5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a075af13d923352ea6c61cfd645474540788cf5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a075af13d923352ea6c61cfd645474540788cf5"}], "stats": {"total": 104, "additions": 61, "deletions": 43}, "files": [{"sha": "73feb255f0b39709d00df5a2373341671fcbc74e", "filename": "libjava/classpath/ChangeLog.gcj", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1d849c109f167ff8d36563ec73e88fb795e5a08/libjava%2Fclasspath%2FChangeLog.gcj", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1d849c109f167ff8d36563ec73e88fb795e5a08/libjava%2Fclasspath%2FChangeLog.gcj", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog.gcj?ref=b1d849c109f167ff8d36563ec73e88fb795e5a08", "patch": "@@ -1,3 +1,8 @@\n+2007-06-04  Matthias Klose  <doko@ubuntu.com>\n+\n+\t* m4/acinclude.m4: Accept GCJ and JIKES.\n+\t* configure: Regenerate.\n+\n 2007-05-31  Matthias Klose  <doko@ubuntu.com>\n \n \t* javax/management/NotificationBroadcasterSupport.java"}, {"sha": "cdc6bf4d3e10f0f002aeb7754bb10e81afa3d654", "filename": "libjava/classpath/configure", "status": "modified", "additions": 51, "deletions": 41, "changes": 92, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1d849c109f167ff8d36563ec73e88fb795e5a08/libjava%2Fclasspath%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1d849c109f167ff8d36563ec73e88fb795e5a08/libjava%2Fclasspath%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fconfigure?ref=b1d849c109f167ff8d36563ec73e88fb795e5a08", "patch": "@@ -5782,29 +5782,35 @@ else\n     fi\n     ;;\n   *)\n-    # Make teststring a little bigger before we do anything with it.\n-    # a 1K string should be a reasonable start.\n-    for i in 1 2 3 4 5 6 7 8 ; do\n-      teststring=$teststring$teststring\n-    done\n-    SHELL=${SHELL-${CONFIG_SHELL-/bin/sh}}\n-    # If test is not a shell built-in, we'll probably end up computing a\n-    # maximum length that is only half of the actual maximum length, but\n-    # we can't tell.\n-    while { test \"X\"`$SHELL $0 --fallback-echo \"X$teststring$teststring\" 2>/dev/null` \\\n-\t       = \"XX$teststring$teststring\"; } >/dev/null 2>&1 &&\n-\t    test $i != 17 # 1/2 MB should be enough\n-    do\n-      i=`expr $i + 1`\n-      teststring=$teststring$teststring\n-    done\n-    # Only check the string length outside the loop.\n-    lt_cv_sys_max_cmd_len=`expr \"X$teststring\" : \".*\" 2>&1`\n-    teststring=\n-    # Add a significant safety factor because C++ compilers can tack on massive\n-    # amounts of additional arguments before passing them to the linker.\n-    # It appears as though 1/2 is a usable value.\n-    lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \\/ 2`\n+    lt_cv_sys_max_cmd_len=`getconf ARG_MAX 2> /dev/null`\n+    if test -n $lt_cv_sys_max_cmd_len; then\n+      lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \\/ 4`\n+      lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \\* 3`\n+    else\n+      # Make teststring a little bigger before we do anything with it.\n+      # a 1K string should be a reasonable start.\n+      for i in 1 2 3 4 5 6 7 8 ; do\n+        teststring=$teststring$teststring\n+      done\n+      SHELL=${SHELL-${CONFIG_SHELL-/bin/sh}}\n+      # If test is not a shell built-in, we'll probably end up computing a\n+      # maximum length that is only half of the actual maximum length, but\n+      # we can't tell.\n+      while { test \"X\"`$SHELL $0 --fallback-echo \"X$teststring$teststring\" 2>/dev/null` \\\n+\t         = \"XX$teststring$teststring\"; } >/dev/null 2>&1 &&\n+\t      test $i != 17 # 1/2 MB should be enough\n+      do\n+        i=`expr $i + 1`\n+        teststring=$teststring$teststring\n+      done\n+      # Only check the string length outside the loop.\n+      lt_cv_sys_max_cmd_len=`expr \"X$teststring\" : \".*\" 2>&1`\n+      teststring=\n+      # Add a significant safety factor because C++ compilers can tack on\n+      # massive amounts of additional arguments before passing them to the\n+      # linker.  It appears as though 1/2 is a usable value.\n+      lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \\/ 2`\n+    fi\n     ;;\n   esac\n \n@@ -6724,7 +6730,7 @@ ia64-*-hpux*)\n   ;;\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 6727 \"configure\"' > conftest.$ac_ext\n+  echo '#line 6733 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -7356,11 +7362,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:7359: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:7365: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:7363: \\$? = $ac_status\" >&5\n+   echo \"$as_me:7369: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -7678,11 +7684,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:7681: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:7687: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:7685: \\$? = $ac_status\" >&5\n+   echo \"$as_me:7691: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -7783,11 +7789,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:7786: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:7792: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:7790: \\$? = $ac_status\" >&5\n+   echo \"$as_me:7796: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -7838,11 +7844,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:7841: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:7847: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:7845: \\$? = $ac_status\" >&5\n+   echo \"$as_me:7851: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -10690,7 +10696,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10693 \"configure\"\n+#line 10699 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -10790,7 +10796,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10793 \"configure\"\n+#line 10799 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -15187,11 +15193,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:15190: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:15196: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:15194: \\$? = $ac_status\" >&5\n+   echo \"$as_me:15200: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -15286,11 +15292,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:15289: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:15295: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:15293: \\$? = $ac_status\" >&5\n+   echo \"$as_me:15299: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -15338,11 +15344,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:15341: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:15347: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:15345: \\$? = $ac_status\" >&5\n+   echo \"$as_me:15351: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -25153,11 +25159,15 @@ else\n fi\n \n \n-  if test \"x${ECJ}\" = x && test \"x${JAVAC}\" = x && test \"x${user_specified_javac}\" != xecj; then\n+  ## GCJ LOCAL\n+  if test \"x${GCJ}\" = x && test \"x${JIKES}\" = x && test \"x${ECJ}\" = x \\\n+     && test \"x${JAVAC}\" = x && test \"x${user_specified_javac}\" != xkjc\n+  then\n       { { echo \"$as_me:$LINENO: error: cannot find javac, try --with-ecj\" >&5\n echo \"$as_me: error: cannot find javac, try --with-ecj\" >&2;}\n    { (exit 1); exit 1; }; }\n   fi\n+  ## END GCJ LOCAL\n \n \n "}, {"sha": "35daa03a190c71368be8b97a33ebcf904bcb9a42", "filename": "libjava/classpath/m4/acinclude.m4", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1d849c109f167ff8d36563ec73e88fb795e5a08/libjava%2Fclasspath%2Fm4%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1d849c109f167ff8d36563ec73e88fb795e5a08/libjava%2Fclasspath%2Fm4%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fm4%2Facinclude.m4?ref=b1d849c109f167ff8d36563ec73e88fb795e5a08", "patch": "@@ -24,10 +24,13 @@ AC_DEFUN([CLASSPATH_FIND_JAVAC],\n   fi\n   AM_CONDITIONAL(FOUND_KJC, test \"x${user_specified_javac}\" = xkjc)\n \n-dnl  if test \"x${GCJ}\" = x && test \"x${JIKES}\" = x && test \"x${user_specified_javac}\" != xkjc; then\n-  if test \"x${ECJ}\" = x && test \"x${JAVAC}\" = x && test \"x${user_specified_javac}\" != xecj; then\n+  ## GCJ LOCAL\n+  if test \"x${GCJ}\" = x && test \"x${JIKES}\" = x && test \"x${ECJ}\" = x \\\n+     && test \"x${JAVAC}\" = x && test \"x${user_specified_javac}\" != xkjc\n+  then\n       AC_MSG_ERROR([cannot find javac, try --with-ecj])\n   fi\n+  ## END GCJ LOCAL\n ])\n \n dnl -----------------------------------------------------------"}]}