{"sha": "2e85d5e290aadb0cd0c50ddfcd8ba4f58c2301e7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmU4NWQ1ZTI5MGFhZGIwY2QwYzUwZGRmY2Q4YmE0ZjU4YzIzMDFlNw==", "commit": {"author": {"name": "Patrick Marlier", "email": "patrick.marlier@gmail.com", "date": "2011-11-19T19:29:18Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-11-19T19:29:18Z"}, "message": "re PR middle-end/51211 (ICE: SIGSEGV in execute_tm_mark (trans-mem.c:2242) with -fgnu-tm -O -freorder-blocks -ftracer --param hot-bb-frequency-fraction=1 and __transaction_atomic)\n\nPR middle-end/51211\n        * tracer.c (ignore_bb_p): Don't copy GIMPLE_TRANSACTION.\n\nFrom-SVN: r181512", "tree": {"sha": "551446fabada9c1d3296b5eb05fbe2cd2aff9100", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/551446fabada9c1d3296b5eb05fbe2cd2aff9100"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2e85d5e290aadb0cd0c50ddfcd8ba4f58c2301e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e85d5e290aadb0cd0c50ddfcd8ba4f58c2301e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e85d5e290aadb0cd0c50ddfcd8ba4f58c2301e7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e85d5e290aadb0cd0c50ddfcd8ba4f58c2301e7/comments", "author": {"login": "patrickmarlier", "id": 3294919, "node_id": "MDQ6VXNlcjMyOTQ5MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/3294919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/patrickmarlier", "html_url": "https://github.com/patrickmarlier", "followers_url": "https://api.github.com/users/patrickmarlier/followers", "following_url": "https://api.github.com/users/patrickmarlier/following{/other_user}", "gists_url": "https://api.github.com/users/patrickmarlier/gists{/gist_id}", "starred_url": "https://api.github.com/users/patrickmarlier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/patrickmarlier/subscriptions", "organizations_url": "https://api.github.com/users/patrickmarlier/orgs", "repos_url": "https://api.github.com/users/patrickmarlier/repos", "events_url": "https://api.github.com/users/patrickmarlier/events{/privacy}", "received_events_url": "https://api.github.com/users/patrickmarlier/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6f83092f55c889774be048d047401ddef1696769", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f83092f55c889774be048d047401ddef1696769", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f83092f55c889774be048d047401ddef1696769"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "eb4e2122b935563ae917ff17e3c818c0c482d897", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e85d5e290aadb0cd0c50ddfcd8ba4f58c2301e7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e85d5e290aadb0cd0c50ddfcd8ba4f58c2301e7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2e85d5e290aadb0cd0c50ddfcd8ba4f58c2301e7", "patch": "@@ -1,3 +1,8 @@\n+2011-11-19  Patrick Marlier  <patrick.marlier@gmail.com>\n+\n+\tPR middle-end/51211\n+\t* tracer.c (ignore_bb_p): Don't copy GIMPLE_TRANSACTION.\n+\n 2011-11-19  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* expmed.c (store_bit_field_1): Revert bogus formatting change."}, {"sha": "602e7580d994c4f24be7e5f33e65c70d9541f729", "filename": "gcc/tracer.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e85d5e290aadb0cd0c50ddfcd8ba4f58c2301e7/gcc%2Ftracer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e85d5e290aadb0cd0c50ddfcd8ba4f58c2301e7/gcc%2Ftracer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftracer.c?ref=2e85d5e290aadb0cd0c50ddfcd8ba4f58c2301e7", "patch": "@@ -90,10 +90,19 @@ bb_seen_p (basic_block bb)\n static bool\n ignore_bb_p (const_basic_block bb)\n {\n+  gimple g;\n+\n   if (bb->index < NUM_FIXED_BLOCKS)\n     return true;\n   if (optimize_bb_for_size_p (bb))\n     return true;\n+\n+  /* A transaction is a single entry multiple exit region.  It must be\n+     duplicated in its entirety or not at all.  */\n+  g = last_stmt (CONST_CAST_BB (bb));\n+  if (g && gimple_code (g) == GIMPLE_TRANSACTION)\n+    return true;\n+\n   return false;\n }\n "}]}