{"sha": "d97fa0d44c22f6bd96140e4ee613b65fbd8f559a", "node_id": "C_kwDOANBUbNoAKGQ5N2ZhMGQ0NGMyMmY2YmQ5NjE0MGU0ZWU2MTNiNjVmYmQ4ZjU1OWE", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2021-10-21T10:12:00Z"}, "committer": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2021-10-21T10:12:49Z"}, "message": "Move the initial debug_hooks setting\n\nI just realized that when I moved the langhook call I failed to\nmove the initial debug_hooks setting whose comment mentions the\nlanghook as reason.\n\n2021-10-21  Richard Biener  <rguenther@suse.de>\n\n\t* toplev.c (process_options): Move the initial debug_hooks\n\tsetting ...\n\t(toplev::main): ... before the call of the post_options\n\tlanghook.", "tree": {"sha": "e45a0ba6a1a484ab2732fb990dbeb28fa97c2fa3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e45a0ba6a1a484ab2732fb990dbeb28fa97c2fa3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d97fa0d44c22f6bd96140e4ee613b65fbd8f559a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d97fa0d44c22f6bd96140e4ee613b65fbd8f559a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d97fa0d44c22f6bd96140e4ee613b65fbd8f559a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d97fa0d44c22f6bd96140e4ee613b65fbd8f559a/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8516963942b0a8f06fa8f5ebd7c37f9edea151ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8516963942b0a8f06fa8f5ebd7c37f9edea151ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8516963942b0a8f06fa8f5ebd7c37f9edea151ac"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "67fb71612d5413b1727b789161e90e593dc0b754", "filename": "gcc/toplev.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d97fa0d44c22f6bd96140e4ee613b65fbd8f559a/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d97fa0d44c22f6bd96140e4ee613b65fbd8f559a/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=d97fa0d44c22f6bd96140e4ee613b65fbd8f559a", "patch": "@@ -1227,9 +1227,6 @@ static void\n process_options (bool no_backend)\n {\n   const char *language_string = lang_hooks.name;\n-  /* Just in case lang_hooks.post_options ends up calling a debug_hook.\n-     This can happen with incorrect pre-processed input. */\n-  debug_hooks = &do_nothing_debug_hooks;\n \n   maximum_field_alignment = initial_max_fld_align * BITS_PER_UNIT;\n \n@@ -2338,6 +2335,9 @@ toplev::main (int argc, char **argv)\n   /* Exit early if we can (e.g. -help).  */\n   if (!exit_after_options)\n     {\n+      /* Just in case lang_hooks.post_options ends up calling a debug_hook.\n+\t This can happen with incorrect pre-processed input. */\n+      debug_hooks = &do_nothing_debug_hooks;\n       /* Allow the front end to perform consistency checks and do further\n \t initialization based on the command line options.  This hook also\n \t sets the original filename if appropriate (e.g. foo.i -> foo.c)"}]}