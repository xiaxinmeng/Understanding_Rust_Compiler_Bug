{"sha": "19fe122f9469f1513bfd1a4ac1bc75fcf22781db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTlmZTEyMmY5NDY5ZjE1MTNiZmQxYTRhYzFiYzc1ZmNmMjI3ODFkYg==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@axis.com", "date": "2005-11-11T23:17:16Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2005-11-11T23:17:16Z"}, "message": "re PR middle-end/24750 (global-alloc (reload) trips over own confusion for unexpected addressing modes)\n\n\tPR middle-end/24750\n\t* reload.c (find_reloads_address_1) <case TRUNCATE, SIGN_EXTEND,\n\tZERO_EXTEND>: New cases.\n\nFrom-SVN: r106804", "tree": {"sha": "7e704d4dbdfe310631104e8df502856ebd87d948", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e704d4dbdfe310631104e8df502856ebd87d948"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/19fe122f9469f1513bfd1a4ac1bc75fcf22781db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19fe122f9469f1513bfd1a4ac1bc75fcf22781db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19fe122f9469f1513bfd1a4ac1bc75fcf22781db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19fe122f9469f1513bfd1a4ac1bc75fcf22781db/comments", "author": {"login": "hpataxisdotcom", "id": 80339731, "node_id": "MDQ6VXNlcjgwMzM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/80339731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpataxisdotcom", "html_url": "https://github.com/hpataxisdotcom", "followers_url": "https://api.github.com/users/hpataxisdotcom/followers", "following_url": "https://api.github.com/users/hpataxisdotcom/following{/other_user}", "gists_url": "https://api.github.com/users/hpataxisdotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpataxisdotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpataxisdotcom/subscriptions", "organizations_url": "https://api.github.com/users/hpataxisdotcom/orgs", "repos_url": "https://api.github.com/users/hpataxisdotcom/repos", "events_url": "https://api.github.com/users/hpataxisdotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/hpataxisdotcom/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b4f05423f4b8b7f3689229c27ff0d6aa3f274bc0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4f05423f4b8b7f3689229c27ff0d6aa3f274bc0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4f05423f4b8b7f3689229c27ff0d6aa3f274bc0"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "bb8033c782befece611e7f72d06ba4e762cf3304", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19fe122f9469f1513bfd1a4ac1bc75fcf22781db/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19fe122f9469f1513bfd1a4ac1bc75fcf22781db/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=19fe122f9469f1513bfd1a4ac1bc75fcf22781db", "patch": "@@ -1,3 +1,9 @@\n+2005-11-12  Hans-Peter Nilsson  <hp@axis.com>\n+\n+\tPR middle-end/24750\n+\t* reload.c (find_reloads_address_1) <case TRUNCATE, SIGN_EXTEND,\n+\tZERO_EXTEND>: New cases.\n+\n 2005-11-11  Daniel Jacobowitz  <dan@codesourcery.com>\n \n \t* longlong.h (__clz_tab): Always provide."}, {"sha": "0503f5a2eef0da242c32b56284a06aad4e4ad11b", "filename": "gcc/reload.c", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19fe122f9469f1513bfd1a4ac1bc75fcf22781db/gcc%2Freload.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19fe122f9469f1513bfd1a4ac1bc75fcf22781db/gcc%2Freload.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload.c?ref=19fe122f9469f1513bfd1a4ac1bc75fcf22781db", "patch": "@@ -5695,6 +5695,24 @@ find_reloads_address_1 (enum machine_mode mode, rtx x, int context,\n \t}\n       return 0;\n \n+    case TRUNCATE:\n+    case SIGN_EXTEND:\n+    case ZERO_EXTEND:\n+      /* Look for parts to reload in the inner expression and reload them\n+\t too, in addition to this operation.  Reloading all inner parts in\n+\t addition to this one shouldn't be necessary, but at this point,\n+\t we don't know if we can possibly omit any part that *can* be\n+\t reloaded.  Targets that are better off reloading just either part\n+\t (or perhaps even a different part of an outer expression), should\n+\t define LEGITIMIZE_RELOAD_ADDRESS.  */\n+      find_reloads_address_1 (GET_MODE (XEXP (x, 0)), XEXP (x, 0),\n+\t\t\t      context, &XEXP (x, 0), opnum,\n+\t\t\t      type, ind_levels, insn);\n+      push_reload (x, NULL_RTX, loc, (rtx*) 0,\n+\t\t   context_reg_class,\n+\t\t   GET_MODE (x), VOIDmode, 0, 0, opnum, type);\n+      return 1;\n+\n     case MEM:\n       /* This is probably the result of a substitution, by eliminate_regs, of\n \t an equivalent address for a pseudo that was not allocated to a hard"}]}