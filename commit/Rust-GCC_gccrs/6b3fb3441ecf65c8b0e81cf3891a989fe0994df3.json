{"sha": "6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmIzZmIzNDQxZWNmNjVjOGIwZTgxY2YzODkxYTk4OWZlMDk5NGRmMw==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2008-08-05T20:39:48Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2008-08-05T20:39:48Z"}, "message": "testsuite_api.h (diamond_derivation<>::test): Expect ambiguity together with the standard exception classes.\n\n2008-08-05  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* testsuite/util/testsuite_api.h (diamond_derivation<>::test):\n\tExpect ambiguity together with the standard exception classes.\n\t* testsuite/27_io/ios_base/failure/cons_virtual_derivation.cc: Remove\n\txfail.\n\t* testsuite/19_diagnostics/logic_error/cons_virtual_derivation.cc:\n\tLikewise.\n\t* testsuite/19_diagnostics/runtime_error/cons_virtual_derivation.cc:\n\tLikewise.\n\t* testsuite/19_diagnostics/system_error/cons_virtual_derivation.cc:\n\tLikewise.\n\t* testsuite/18_support/bad_alloc/cons_virtual_derivation.cc: Likewise.\n\t* testsuite/18_support/bad_cast/cons_virtual_derivation.cc: Likewise.\n\t* testsuite/18_support/bad_exception/cons_virtual_derivation.cc:\n\tLikewise.\n\t* testsuite/18_support/bad_typeid/cons_virtual_derivation.cc:\n\tLikewise.\n\t* testsuite/ext/concurrence_lock_error/cons_virtual_derivation.cc:\n\tLikewise.\n\t* testsuite/ext/forced_exception_error/cons_virtual_derivation.cc:\n\tLikewise.\n\t* testsuite/ext/concurrence_unlock_error/cons_virtual_derivation.cc:\n\tLikewise.\n\t* testsuite/20_util/bad_function_call/cons_virtual_derivation.cc:\n\tLikewise.\n\nFrom-SVN: r138737", "tree": {"sha": "0f1e78239b3b985020951d8f4bfc77c106365aa5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f1e78239b3b985020951d8f4bfc77c106365aa5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/comments", "author": null, "committer": null, "parents": [{"sha": "7352e27c3c4fd7992b858d9395c62c422ce798a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7352e27c3c4fd7992b858d9395c62c422ce798a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7352e27c3c4fd7992b858d9395c62c422ce798a9"}], "stats": {"total": 91, "additions": 58, "deletions": 33}, "files": [{"sha": "704ae7c810c3fbe3a196e6b462c2462f61a502a3", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "patch": "@@ -1,3 +1,30 @@\n+2008-08-05  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* testsuite/util/testsuite_api.h (diamond_derivation<>::test):\n+\tExpect ambiguity together with the standard exception classes.\n+\t* testsuite/27_io/ios_base/failure/cons_virtual_derivation.cc: Remove\n+\txfail.\n+\t* testsuite/19_diagnostics/logic_error/cons_virtual_derivation.cc:\n+\tLikewise.\n+\t* testsuite/19_diagnostics/runtime_error/cons_virtual_derivation.cc:\n+\tLikewise.\n+\t* testsuite/19_diagnostics/system_error/cons_virtual_derivation.cc:\n+\tLikewise.\n+\t* testsuite/18_support/bad_alloc/cons_virtual_derivation.cc: Likewise.\n+\t* testsuite/18_support/bad_cast/cons_virtual_derivation.cc: Likewise.\n+\t* testsuite/18_support/bad_exception/cons_virtual_derivation.cc:\n+\tLikewise.\n+\t* testsuite/18_support/bad_typeid/cons_virtual_derivation.cc:\n+\tLikewise.\n+\t* testsuite/ext/concurrence_lock_error/cons_virtual_derivation.cc:\n+\tLikewise.\n+\t* testsuite/ext/forced_exception_error/cons_virtual_derivation.cc:\n+\tLikewise.\n+\t* testsuite/ext/concurrence_unlock_error/cons_virtual_derivation.cc:\n+\tLikewise.\n+\t* testsuite/20_util/bad_function_call/cons_virtual_derivation.cc:\n+\tLikewise.\n+\n 2008-08-04  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* include/bits/postypes.h: Reinstate inclusion of <stdint.h>;"}, {"sha": "b7d28cc34d8710def6786b6f3ef8005e2ff7d1a6", "filename": "libstdc++-v3/testsuite/18_support/bad_alloc/cons_virtual_derivation.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fbad_alloc%2Fcons_virtual_derivation.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fbad_alloc%2Fcons_virtual_derivation.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fbad_alloc%2Fcons_virtual_derivation.cc?ref=6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "patch": "@@ -1,7 +1,6 @@\n-// { dg-do run { xfail *-*-* } }\n // 2007-05-29 Benjamin Kosnik  <bkoz@redhat.com>\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "358f0c5dfd6d208025d17ca2dbb73f7f13005c9a", "filename": "libstdc++-v3/testsuite/18_support/bad_cast/cons_virtual_derivation.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fbad_cast%2Fcons_virtual_derivation.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fbad_cast%2Fcons_virtual_derivation.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fbad_cast%2Fcons_virtual_derivation.cc?ref=6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "patch": "@@ -1,7 +1,6 @@\n-// { dg-do run { xfail *-*-* } }\n // 2007-05-29 Benjamin Kosnik  <bkoz@redhat.com>\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "8fb71fe6399b80c3074c2fbc365519b766f2093e", "filename": "libstdc++-v3/testsuite/18_support/bad_exception/cons_virtual_derivation.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fbad_exception%2Fcons_virtual_derivation.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fbad_exception%2Fcons_virtual_derivation.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fbad_exception%2Fcons_virtual_derivation.cc?ref=6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "patch": "@@ -1,7 +1,6 @@\n-// { dg-do run { xfail *-*-* } }\n // 2007-05-29 Benjamin Kosnik  <bkoz@redhat.com>\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "9d69eb3fd25aa138cf04ca70ca8e8b96d1b0b95d", "filename": "libstdc++-v3/testsuite/18_support/bad_typeid/cons_virtual_derivation.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fbad_typeid%2Fcons_virtual_derivation.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fbad_typeid%2Fcons_virtual_derivation.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fbad_typeid%2Fcons_virtual_derivation.cc?ref=6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "patch": "@@ -1,7 +1,6 @@\n-// { dg-do run { xfail *-*-* } }\n // 2007-05-29 Benjamin Kosnik  <bkoz@redhat.com>\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "350f66d9499721f03b4d6b0a77109c5ff521db6a", "filename": "libstdc++-v3/testsuite/19_diagnostics/logic_error/cons_virtual_derivation.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F19_diagnostics%2Flogic_error%2Fcons_virtual_derivation.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F19_diagnostics%2Flogic_error%2Fcons_virtual_derivation.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F19_diagnostics%2Flogic_error%2Fcons_virtual_derivation.cc?ref=6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "patch": "@@ -1,7 +1,6 @@\n-// { dg-do run { xfail *-*-* } }\n // 2007-05-29 Benjamin Kosnik  <bkoz@redhat.com>\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "c8870e51efb56d71e4db18b4238ea74e5def0fdd", "filename": "libstdc++-v3/testsuite/19_diagnostics/runtime_error/cons_virtual_derivation.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F19_diagnostics%2Fruntime_error%2Fcons_virtual_derivation.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F19_diagnostics%2Fruntime_error%2Fcons_virtual_derivation.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F19_diagnostics%2Fruntime_error%2Fcons_virtual_derivation.cc?ref=6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "patch": "@@ -1,7 +1,6 @@\n-// { dg-do run { xfail *-*-* } }\n // 2007-05-29 Benjamin Kosnik  <bkoz@redhat.com>\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "098fb575dab29b1b2fe6618aa6ed67eac6583ff5", "filename": "libstdc++-v3/testsuite/19_diagnostics/system_error/cons_virtual_derivation.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F19_diagnostics%2Fsystem_error%2Fcons_virtual_derivation.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F19_diagnostics%2Fsystem_error%2Fcons_virtual_derivation.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F19_diagnostics%2Fsystem_error%2Fcons_virtual_derivation.cc?ref=6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "patch": "@@ -1,8 +1,7 @@\n // { dg-options \"-std=gnu++0x\" }\n-// { dg-do run { xfail *-*-* } }\n // 2007-05-29 Benjamin Kosnik  <bkoz@redhat.com>\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "c31563a3351fe83f4b9dc50e1f6207ae90cd86c8", "filename": "libstdc++-v3/testsuite/20_util/bad_function_call/cons_virtual_derivation.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fbad_function_call%2Fcons_virtual_derivation.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fbad_function_call%2Fcons_virtual_derivation.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fbad_function_call%2Fcons_virtual_derivation.cc?ref=6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "patch": "@@ -1,8 +1,7 @@\n-// { dg-do run { xfail *-*-* } }\n // { dg-options \"-std=gnu++0x\" }\n // 2007-05-29 Benjamin Kosnik  <bkoz@redhat.com>\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "87bf982407f028a4936cf92fa92ce2460c38028d", "filename": "libstdc++-v3/testsuite/27_io/ios_base/failure/cons_virtual_derivation.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fios_base%2Ffailure%2Fcons_virtual_derivation.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fios_base%2Ffailure%2Fcons_virtual_derivation.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fios_base%2Ffailure%2Fcons_virtual_derivation.cc?ref=6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "patch": "@@ -1,7 +1,6 @@\n-// { dg-do run { xfail *-*-* } }\n // 2007-05-29 Benjamin Kosnik  <bkoz@redhat.com>\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "35602c71272a6ef67706d5b880ecd368649cbc76", "filename": "libstdc++-v3/testsuite/ext/concurrence_lock_error/cons_virtual_derivation.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fconcurrence_lock_error%2Fcons_virtual_derivation.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fconcurrence_lock_error%2Fcons_virtual_derivation.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fconcurrence_lock_error%2Fcons_virtual_derivation.cc?ref=6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "patch": "@@ -1,7 +1,6 @@\n-// { dg-do run { xfail *-*-* } }\n // 2007-05-29 Benjamin Kosnik  <bkoz@redhat.com>\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "d6e4e8b1b22c886c54525ea7092bad2a29f787bc", "filename": "libstdc++-v3/testsuite/ext/concurrence_unlock_error/cons_virtual_derivation.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fconcurrence_unlock_error%2Fcons_virtual_derivation.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fconcurrence_unlock_error%2Fcons_virtual_derivation.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fconcurrence_unlock_error%2Fcons_virtual_derivation.cc?ref=6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "patch": "@@ -1,7 +1,6 @@\n-// { dg-do run { xfail *-*-* } }\n // 2007-05-29 Benjamin Kosnik  <bkoz@redhat.com>\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "81b5214812f85733d4f78e419b74be3b3289f028", "filename": "libstdc++-v3/testsuite/ext/forced_exception_error/cons_virtual_derivation.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fforced_exception_error%2Fcons_virtual_derivation.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fforced_exception_error%2Fcons_virtual_derivation.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fforced_exception_error%2Fcons_virtual_derivation.cc?ref=6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "patch": "@@ -1,7 +1,6 @@\n-// { dg-do run { xfail *-*-* } }\n // 2007-05-29 Benjamin Kosnik  <bkoz@redhat.com>\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "74b25d2d9507b2c0e68b5ca47e6dce2107d5f09a", "filename": "libstdc++-v3/testsuite/util/testsuite_api.h", "status": "modified", "additions": 19, "deletions": 9, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2Futil%2Ftestsuite_api.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b3fb3441ecf65c8b0e81cf3891a989fe0994df3/libstdc%2B%2B-v3%2Ftestsuite%2Futil%2Ftestsuite_api.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Futil%2Ftestsuite_api.h?ref=6b3fb3441ecf65c8b0e81cf3891a989fe0994df3", "patch": "@@ -1,7 +1,7 @@\n // -*- C++ -*-\n // Exception testing utils for the C++ library testsuite. \n //\n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -47,35 +47,45 @@ namespace __gnu_test\n   template<typename Exception>\n     struct diamond_derivation_base<Exception, true>\n     {\n-      struct diamond_derivation_error: bad_non_virtual, Exception\n+      struct diamond_derivation_error\n+      : bad_non_virtual, Exception\n       {\n-\tdiamond_derivation_error() : bad_non_virtual(), Exception() { }\n+\tdiamond_derivation_error()\n+        : bad_non_virtual(), Exception() { }\n       };\n     };\n \n   template<typename Exception>\n     struct diamond_derivation_base<Exception, false>\n     {\n-      struct diamond_derivation_error: bad_non_virtual, Exception\n+      struct diamond_derivation_error\n+      : bad_non_virtual, Exception\n       {\n \tdiamond_derivation_error()\n \t: bad_non_virtual(), Exception(\"construct diamond\") { }\n       };\n     };\n   \n   template<typename Exception, bool DefaultCons>\n-    struct diamond_derivation: diamond_derivation_base<Exception, DefaultCons>\n+    struct diamond_derivation\n+    : diamond_derivation_base<Exception, DefaultCons>\n     {\n       typedef diamond_derivation_base<Exception, DefaultCons> base_type;\n       typedef typename base_type::diamond_derivation_error error_type;\n-      \n+\n+      // NB: In the libstdc++-v3 testsuite, all the standard exception\n+      // classes (+ a couple of extensions) are checked:  since they\n+      // all derive *non* virtually from std::exception, the expected\n+      // behavior is ambiguity.\n       static void test()\n       {\n \tbool test __attribute__((unused)) = true;      \n-\ttry { throw error_type(); }\n-\tcatch (std::exception const& e) { }\n-\tcatch (...) \n+\ttry\n+\t  { throw error_type(); }\n+\tcatch (std::exception const&)\n \t  { VERIFY( false ); }\n+\tcatch (...) \n+\t  { VERIFY( true ); }\n       }\n     };\n "}]}