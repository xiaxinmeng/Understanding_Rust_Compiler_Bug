{"sha": "8256d5ca7870ab4aa5f74b9cb9183393b1024d0b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODI1NmQ1Y2E3ODcwYWI0YWE1Zjc0YjljYjkxODMzOTNiMTAyNGQwYg==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2012-10-26T16:52:09Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2012-10-26T16:52:09Z"}, "message": "ipa-inline-transform.c (inline_call): Only account size changes for !DECL_EXTERNAL.\n\n\n\t* ipa-inline-transform.c (inline_call): Only account size changes\n\tfor !DECL_EXTERNAL.\n\nFrom-SVN: r192849", "tree": {"sha": "3a02e966b5ef2c5d9bd213a651918598ffc7e8bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3a02e966b5ef2c5d9bd213a651918598ffc7e8bd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8256d5ca7870ab4aa5f74b9cb9183393b1024d0b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8256d5ca7870ab4aa5f74b9cb9183393b1024d0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8256d5ca7870ab4aa5f74b9cb9183393b1024d0b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8256d5ca7870ab4aa5f74b9cb9183393b1024d0b/comments", "author": null, "committer": null, "parents": [{"sha": "be384c108068d1adfa0ee38aee0052e24ad0ca30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be384c108068d1adfa0ee38aee0052e24ad0ca30", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be384c108068d1adfa0ee38aee0052e24ad0ca30"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "768f530609c06bee7da832a49b466ace4ec16617", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8256d5ca7870ab4aa5f74b9cb9183393b1024d0b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8256d5ca7870ab4aa5f74b9cb9183393b1024d0b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8256d5ca7870ab4aa5f74b9cb9183393b1024d0b", "patch": "@@ -1,3 +1,8 @@\n+2012-10-26  Jan Hubicka  <jh@suse.cz>\n+\n+\t* ipa-inline-transform.c (inline_call): Only account size changes\n+\tfor !DECL_EXTERNAL.\n+\n 2012-10-26  Martin Jambor  <mjambor@suse.cz>\n \n \tPR debug/54971"}, {"sha": "7bb291c7d6439a73e781afa13f068d8c3b0029f4", "filename": "gcc/ipa-inline-transform.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8256d5ca7870ab4aa5f74b9cb9183393b1024d0b/gcc%2Fipa-inline-transform.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8256d5ca7870ab4aa5f74b9cb9183393b1024d0b/gcc%2Fipa-inline-transform.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-inline-transform.c?ref=8256d5ca7870ab4aa5f74b9cb9183393b1024d0b", "patch": "@@ -269,7 +269,10 @@ inline_call (struct cgraph_edge *e, bool update_original,\n \t      || predicated);\n #endif\n    \n-  if (overall_size)\n+  /* Account the change of overall unit size; external functions will be\n+     removed and are thus not accounted.  */\n+  if (overall_size\n+      && !DECL_EXTERNAL (to->symbol.decl))\n     *overall_size += new_size - old_size;\n   ncalls_inlined++;\n "}]}