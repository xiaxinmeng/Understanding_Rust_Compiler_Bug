{"sha": "7cdb687133520d1091198e034398df3cec0c8ae1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2NkYjY4NzEzMzUyMGQxMDkxMTk4ZTAzNDM5OGRmM2NlYzBjOGFlMQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2016-06-13T08:17:07Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2016-06-13T08:17:07Z"}, "message": "decl.c (gnat_to_gnu_subprog_type): Build only a minimal PARM_DECL when the parameter type is dummy.\n\n\t* gcc-interface/decl.c (gnat_to_gnu_subprog_type): Build only a minimal\n\tPARM_DECL when the parameter type is dummy.\n\t* gcc-interface/trans.c (Call_to_gnu): Translate formal types before\n\tformal objects.\n\nFrom-SVN: r237362", "tree": {"sha": "d1c9e2f79e0a5b29479f21ee3e9011d56648faad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1c9e2f79e0a5b29479f21ee3e9011d56648faad"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7cdb687133520d1091198e034398df3cec0c8ae1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7cdb687133520d1091198e034398df3cec0c8ae1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7cdb687133520d1091198e034398df3cec0c8ae1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7cdb687133520d1091198e034398df3cec0c8ae1/comments", "author": null, "committer": null, "parents": [{"sha": "42e77cbc7d5c00e637bca5614a8d688ad08a39c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42e77cbc7d5c00e637bca5614a8d688ad08a39c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42e77cbc7d5c00e637bca5614a8d688ad08a39c7"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "930e86681ff4eebfefaa19909b6043f8d24a85a4", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7cdb687133520d1091198e034398df3cec0c8ae1/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7cdb687133520d1091198e034398df3cec0c8ae1/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=7cdb687133520d1091198e034398df3cec0c8ae1", "patch": "@@ -1,3 +1,10 @@\n+2016-06-13  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/decl.c (gnat_to_gnu_subprog_type): Build only a minimal\n+\tPARM_DECL when the parameter type is dummy.\n+\t* gcc-interface/trans.c (Call_to_gnu): Translate formal types before\n+\tformal objects.\n+\n 2016-06-13  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/decl.c (gnat_to_gnu_entity) <E_Variable>: Deal with"}, {"sha": "0ce2d47f19509bd749f62d744680cc530a0fae89", "filename": "gcc/ada/gcc-interface/decl.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7cdb687133520d1091198e034398df3cec0c8ae1/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7cdb687133520d1091198e034398df3cec0c8ae1/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fdecl.c?ref=7cdb687133520d1091198e034398df3cec0c8ae1", "patch": "@@ -5959,8 +5959,11 @@ gnat_to_gnu_subprog_type (Entity_Id gnat_subprog, bool definition,\n \n \t      else\n \t\t{\n+\t\t  /* Build a minimal PARM_DECL without DECL_ARG_TYPE so that\n+\t\t     Call_to_gnu will stop if it encounters the PARM_DECL.  */\n \t\t  gnu_param\n-\t\t    = create_param_decl (gnu_param_name, gnu_param_type);\n+\t\t    = build_decl (input_location, PARM_DECL, gnu_param_name,\n+\t\t\t\t  gnu_param_type);\n \t\t  associate_subprog_with_dummy_type (gnat_subprog,\n \t\t\t\t\t\t     gnu_param_type);\n \t\t  incomplete_profile_p = true;"}, {"sha": "f110e928b93f1b3a776584ec101c2db5aaf3fcbc", "filename": "gcc/ada/gcc-interface/trans.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7cdb687133520d1091198e034398df3cec0c8ae1/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7cdb687133520d1091198e034398df3cec0c8ae1/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Ftrans.c?ref=7cdb687133520d1091198e034398df3cec0c8ae1", "patch": "@@ -4341,9 +4341,9 @@ Call_to_gnu (Node_Id gnat_node, tree *gnu_result_type_p, tree gnu_target,\n        gnat_actual = Next_Actual (gnat_actual))\n     {\n       Entity_Id gnat_formal_type = Etype (gnat_formal);\n+      tree gnu_formal_type = gnat_to_gnu_type (gnat_formal_type);\n       tree gnu_formal = present_gnu_tree (gnat_formal)\n \t\t\t? get_gnu_tree (gnat_formal) : NULL_TREE;\n-      tree gnu_formal_type = gnat_to_gnu_type (gnat_formal_type);\n       const bool is_true_formal_parm\n \t= gnu_formal && TREE_CODE (gnu_formal) == PARM_DECL;\n       const bool is_by_ref_formal_parm"}]}