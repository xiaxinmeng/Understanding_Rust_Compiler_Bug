{"sha": "078e19a409ad23cff76509f7bb1b7808cfdc9630", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDc4ZTE5YTQwOWFkMjNjZmY3NjUwOWY3YmIxYjc4MDhjZmRjOTYzMA==", "commit": {"author": {"name": "Philip Blundell", "email": "philb@gnu.org", "date": "1999-08-12T09:41:02Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "1999-08-12T09:41:02Z"}, "message": "Apply Phillip Blundell's patch to distinguish between new and old binutils.\n\nFrom-SVN: r28687", "tree": {"sha": "bae64c3050e250d2b279b568af7fca750815c5b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bae64c3050e250d2b279b568af7fca750815c5b9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/078e19a409ad23cff76509f7bb1b7808cfdc9630", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/078e19a409ad23cff76509f7bb1b7808cfdc9630", "html_url": "https://github.com/Rust-GCC/gccrs/commit/078e19a409ad23cff76509f7bb1b7808cfdc9630", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/078e19a409ad23cff76509f7bb1b7808cfdc9630/comments", "author": {"login": "philb", "id": 227468, "node_id": "MDQ6VXNlcjIyNzQ2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/227468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philb", "html_url": "https://github.com/philb", "followers_url": "https://api.github.com/users/philb/followers", "following_url": "https://api.github.com/users/philb/following{/other_user}", "gists_url": "https://api.github.com/users/philb/gists{/gist_id}", "starred_url": "https://api.github.com/users/philb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philb/subscriptions", "organizations_url": "https://api.github.com/users/philb/orgs", "repos_url": "https://api.github.com/users/philb/repos", "events_url": "https://api.github.com/users/philb/events{/privacy}", "received_events_url": "https://api.github.com/users/philb/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "305f30038b31abf1cc4e3e149e67e0fecc96c964", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/305f30038b31abf1cc4e3e149e67e0fecc96c964", "html_url": "https://github.com/Rust-GCC/gccrs/commit/305f30038b31abf1cc4e3e149e67e0fecc96c964"}], "stats": {"total": 369, "additions": 229, "deletions": 140}, "files": [{"sha": "fd76805f79226f64283f97aabe9a61f0c8596a3b", "filename": "gcc/config/arm/linux-aout.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Fconfig%2Farm%2Flinux-aout.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Fconfig%2Farm%2Flinux-aout.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flinux-aout.h?ref=078e19a409ad23cff76509f7bb1b7808cfdc9630", "patch": "@@ -35,7 +35,8 @@ Boston, MA 02111-1307, USA.  */\n \n #undef CPP_PREDEFINES\n #define CPP_PREDEFINES \\\n-\"-Dunix -Darm -Dlinux -Asystem(unix) -Asystem(posix) -Acpu(arm) -Amachine(arm)\"\n+\"-Dunix -D__arm__ -Dlinux \\\n+-Asystem(unix) -Asystem(posix) -Acpu(arm) -Amachine(arm)\"\n \n #undef LIB_SPEC\n #define LIB_SPEC \\"}, {"sha": "b1688cbf480c27116465ef9e7b7d9599af015d13", "filename": "gcc/config/arm/linux-elf.h", "status": "modified", "additions": 37, "deletions": 16, "changes": 53, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Fconfig%2Farm%2Flinux-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Fconfig%2Farm%2Flinux-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flinux-elf.h?ref=078e19a409ad23cff76509f7bb1b7808cfdc9630", "patch": "@@ -25,13 +25,34 @@ Boston, MA 02111-1307, USA.  */\n /* We have libgcc2.  */\n #define HAVE_ATEXIT\n \n-/* Default is to use APCS-32 mode.  */\n #ifndef SUBTARGET_DEFAULT_APCS26\n-#define TARGET_DEFAULT (ARM_FLAG_APCS_32 | ARM_FLAG_SHORT_BYTE)\n-#define SUBTARGET_EXTRA_LINK_SPEC\t\\\n+/* Default is to use APCS-32 mode.  */\n+# define TARGET_DEFAULT (ARM_FLAG_APCS_32 | ARM_FLAG_SHORT_BYTE)\n+# ifdef SUBTARGET_OLD_LINKER\n+#  define SUBTARGET_EXTRA_LINK_SPEC\t\\\n \t\" %{mapcs-26:-m elf32arm26} %{!mapcs-26:-m elf32arm}\"\n-#define SUBTARGET_EXTRA_ASM_SPEC\t\\\n+# else\t/* new linker */\n+#  define SUBTARGET_EXTRA_LINK_SPEC\t\\\n+\t\" %{mapcs-26:-m armelf_linux26} %{!mapcs-26:-m armelf_linux} -p\"\n+# endif\n+# define SUBTARGET_EXTRA_ASM_SPEC\t\\\n \t\" %{mapcs-26:-mapcs-26} %(!mapcs-26:-mapcs-32}\"\n+# define MULTILIB_DEFAULTS \\\n+\t{ \"mlittle-endian\", \"mhard-float\", \"mapcs-32\", \"mno-thumb-interwork\" }\n+# define CPP_APCS_PC_DEFAULT_SPEC \"-D__APCS_32__\"\n+#else\t/* default is APCS-26 */\n+# define TARGET_DEFAULT (ARM_FLAG_SHORT_BYTE)\n+# ifdef SUBTARGET_OLD_LINKER\n+#  define SUBTARGET_LINK_SPEC\t\\\n+\t\" %{mapcs-32:-m elf32arm} %{!mapcs-32:-m elf32arm26}\"\n+# else\t/* new linker */\n+#  define SUBTARGET_LINK_SPEC\t\\\n+\t\" %{mapcs-32:-m armelf_linux} %{!mapcs-32:-m armelf_linux26} -p\"\n+# endif\n+# define SUBTARGET_EXTRA_ASM_SPEC\t\\\n+\t\" %{mapcs-32:-mapcs-32} %(!mapcs-32:-mapcs-26}\"\n+# define MULTILIB_DEFAULTS \\\n+\t{ \"mlittle-endian\", \"mhard-float\", \"mapcs-26\", \"mno-thumb-interwork\" }\n #endif\n \n /* This was defined in linux.h.  Define it here also. */\n@@ -45,7 +66,8 @@ Boston, MA 02111-1307, USA.  */\n #define LIB_SPEC \\\n   \"%{shared: -lc} \\\n    %{!shared: %{pthread:-lpthread} \\\n-\t%{profile:-lc_p} %{!profile: -lc}}\"\n+   %{profile:-lc_p} %{!profile: -lc}}\"\n+\n \n #define LIBGCC_SPEC \"%{msoft-float:-lfloat} -lgcc\"\n \n@@ -81,14 +103,17 @@ Boston, MA 02111-1307, USA.  */\n    %{mbig-endian:-EB}\" \\\n    SUBTARGET_EXTRA_LINK_SPEC\n \n+#define ASM_SPEC \"%{mbig-endian:-EB} \\\n+   %{mcpu=*:-m%*} %{march=*:-m%*} \\\n+   %{mthumb-interwork:-mthumb-interwork} \\\n+   %{msoft-float:-mno-fpu} \\\n+   %{mapcs-float:-mfloat}\" \\\n+   SUBTARGET_EXTRA_ASM_SPEC\n+\n #undef  CPP_PREDEFINES\n #define CPP_PREDEFINES \\\n-\"-Dunix -Darm -Dlinux -Asystem(unix) -Asystem(posix) -Acpu(arm) \\\n--Amachine(arm) -D__ELF__ -Darm_elf\"\n-\n-#ifndef SUBTARGET_DEFAULT_APCS26\n-#define CPP_APCS_PC_DEFAULT_SPEC \"-D__APCS_32__\"\n-#endif\n+\"-Dunix -D__arm__ -Dlinux -D__ELF__ \\\n+-Asystem(unix) -Asystem(posix) -Acpu(arm) -Amachine(arm)\"\n \n /* Allow #sccs in preprocessor.  */\n #define SCCS_DIRECTIVE\n@@ -236,10 +261,6 @@ const_section ()\t\t\t\t\t\t\t\\\n #include \"arm/elf.h\"\n #include \"arm/linux-gas.h\"\n \n-#ifndef SUBTARGET_DEFAULT_APCS26\n-/* On 32-bit machine it is always safe to assume we have the \"new\"\n-   floating point system.  \n-   ?? Make this happen for all targets when NWFPE is better established.  */\n+/* NWFPE always understands FPA instructions.  */\n #undef  FP_DEFAULT\n #define FP_DEFAULT FP_SOFT3\n-#endif"}, {"sha": "ce26f1fef9dbfad5095025335307b61998325add", "filename": "gcc/config/arm/linux-elf26.h", "status": "modified", "additions": 5, "deletions": 13, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Fconfig%2Farm%2Flinux-elf26.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Fconfig%2Farm%2Flinux-elf26.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flinux-elf26.h?ref=078e19a409ad23cff76509f7bb1b7808cfdc9630", "patch": "@@ -1,6 +1,7 @@\n-/* Definitions for 26-bit ARM running Linux-based GNU systems using ELF\n-   Copyright (C) 1998 Free Software Foundation, Inc.\n-   Contributed by Philip Blundell <philb@gnu.org>\n+/* Definitions for ARM running Linux-based GNU systems \n+   using ELF and 26-bit APCS.\n+   Copyright (C) 1999 Free Software Foundation, Inc.\n+   Contributed by Philip Blundell <Philip.Blundell@pobox.com>\n \n This file is part of GNU CC.\n \n@@ -19,14 +20,5 @@ along with this program; see the file COPYING.  If not, write to\n the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA.  */\n \n+/* Tell linux-elf.h to default to 26-bit mode.  */\n #define SUBTARGET_DEFAULT_APCS26\n-\n-#define SUBTARGET_LINK_SPEC\t\\\n-\t\" %{mapcs-32:-m elf32arm} %{!mapcs-32:-m elf32arm26}\"\n-\n-#define SUBTARGET_EXTRA_ASM_SPEC\t\\\n-\t\" %{mapcs-32:-mapcs-32} %(!mapcs-32:-mapcs-26}\"\n-\n-#define TARGET_DEFAULT (ARM_FLAG_SHORT_BYTE)\n-\n-#include \"arm/linux-elf.h\""}, {"sha": "8b2af015efe3f1dd3869f85e1905beff4f989863", "filename": "gcc/config/arm/linux-oldld.h", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Fconfig%2Farm%2Flinux-oldld.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Fconfig%2Farm%2Flinux-oldld.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flinux-oldld.h?ref=078e19a409ad23cff76509f7bb1b7808cfdc9630", "patch": "@@ -0,0 +1,27 @@\n+/* Definitions for ARM running Linux-based GNU systems \n+   using ELF with old binutils.\n+   Copyright (C) 1999 Free Software Foundation, Inc.\n+   Contributed by Philip Blundell <Philip.Blundell@pobox.com>\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with this program; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+/* Unfortunately, owing to various historical accidents, version 2.9.4\n+   and newer of GNU binutils are not quite compatible with the old \n+   (2.9.1-based) toolset.  This tells linux-elf.h to generate specs\n+   appropriate for the older versions.  */\n+#define SUBTARGET_OLD_LINKER"}, {"sha": "17c0497296721718c066cb29cbf9ca4408639728", "filename": "gcc/config/arm/t-linux", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Fconfig%2Farm%2Ft-linux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Fconfig%2Farm%2Ft-linux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Ft-linux?ref=078e19a409ad23cff76509f7bb1b7808cfdc9630", "patch": "@@ -13,10 +13,15 @@ LIBGCC1 = libgcc1-asm.a\n LIB1ASMSRC = arm/lib1funcs.asm\n LIB1ASMFUNCS = _udivsi3 _divsi3 _umodsi3 _modsi3 _dvmd_lnx\n \n+MULTILIB_OPTIONS = mhard-float/msoft-float\n+MULTILIB_DIRNAMES = hard-float soft-float\n+\n # If you want to build both APCS variants as multilib options this is how\n # to do it.\n-#MULTILIB_OPTIONS = mapcs-32/apcs-26\n-#MULTILIB_DIRNAMES = apcs-32 apcs-26\n+# MULTILIB_OPTIONS += mapcs-32/mapcs-26\n+# MULTILIB_DIRNAMES += apcs-32 apcs-26\n+\n+EXTRA_MULTILIB_PARTS = crtbegin.o crtend.o\n \n LIBGCC = stmp-multilib\n INSTALL_LIBGCC = install-multilib"}, {"sha": "3b218f0467f3648360cb74f1145faae1eacf4f45", "filename": "gcc/configure", "status": "modified", "additions": 114, "deletions": 98, "changes": 212, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=078e19a409ad23cff76509f7bb1b7808cfdc9630", "patch": "@@ -3178,15 +3178,31 @@ for machine in $build $host $target; do\n \t\ttmake_file=arm/t-linux\n \t\tgnu_ld=yes\n \t\t;;\n-\tarm*-*-linux-gnu*)\t\t# ARM GNU/Linux with ELF\n+\tarm*-*-linux-gnuoldld*)\t\t# ARM GNU/Linux with old ELF linker\n \t\txm_file=arm/xm-linux.h\n \t\txmake_file=x-linux\n+\t\ttm_file=\"arm/linux-oldld.h arm/linux-elf.h\"\n \t\tcase $machine in\n \t\tarmv2*-*-*)\n-\t\t\ttm_file=arm/linux-elf26.h\n+\t\t\ttm_file=\"arm/linux-elf26.h $tm_file\"\n \t\t\t;;\n-\t\t*)\n-\t\t\ttm_file=arm/linux-elf.h\n+\t\tesac\n+\t\ttmake_file=\"t-linux arm/t-linux\"\n+\t\textra_parts=\"crtbegin.o crtbeginS.o crtend.o crtendS.o\"\n+\t\tgnu_ld=yes\n+\t\tcase x${enable_threads} in\n+\t\tx | xyes | xpthreads | xposix)\n+\t\t\tthread_file='posix'\n+\t\t\t;;\n+\t\tesac\n+\t\t;;\n+\tarm*-*-linux-gnu*)\t\t# ARM GNU/Linux with ELF\n+\t\txm_file=arm/xm-linux.h\n+\t\txmake_file=x-linux\n+\t\ttm_file=\"arm/linux-elf.h\"\n+\t\tcase $machine in\n+\t\tarmv2*-*-*)\n+\t\t\ttm_file=\"arm/linux-elf26.h $tm_file\"\n \t\t\t;;\n \t\tesac\n \t\ttmake_file=\"t-linux arm/t-linux\"\n@@ -6156,15 +6172,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:6160: checking for strerror in -lcposix\" >&5\n+echo \"configure:6176: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6168 \"configure\"\n+#line 6184 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6175,7 +6191,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:6179: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6195: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -6198,12 +6214,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:6202: checking for working const\" >&5\n+echo \"configure:6218: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6207 \"configure\"\n+#line 6223 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -6252,7 +6268,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6256: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6272: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -6273,21 +6289,21 @@ EOF\n fi\n \n echo $ac_n \"checking for inline\"\"... $ac_c\" 1>&6\n-echo \"configure:6277: checking for inline\" >&5\n+echo \"configure:6293: checking for inline\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_inline'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_inline=no\n for ac_kw in inline __inline__ __inline; do\n   cat > conftest.$ac_ext <<EOF\n-#line 6284 \"configure\"\n+#line 6300 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n } $ac_kw foo() {\n ; return 0; }\n EOF\n-if { (eval echo configure:6291: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6307: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_inline=$ac_kw; break\n else\n@@ -6313,12 +6329,12 @@ EOF\n esac\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6317: checking for off_t\" >&5\n+echo \"configure:6333: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6322 \"configure\"\n+#line 6338 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6346,12 +6362,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6350: checking for size_t\" >&5\n+echo \"configure:6366: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6355 \"configure\"\n+#line 6371 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6381,19 +6397,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6385: checking for working alloca.h\" >&5\n+echo \"configure:6401: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6390 \"configure\"\n+#line 6406 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:6397: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6413: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -6414,12 +6430,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6418: checking for alloca\" >&5\n+echo \"configure:6434: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6423 \"configure\"\n+#line 6439 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -6447,7 +6463,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:6451: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6467: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -6479,12 +6495,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:6483: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:6499: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6488 \"configure\"\n+#line 6504 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -6509,12 +6525,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6513: checking for $ac_func\" >&5\n+echo \"configure:6529: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6518 \"configure\"\n+#line 6534 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6537,7 +6553,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6541: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6557: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6564,15 +6580,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6568: checking stack direction for C alloca\" >&5\n+echo \"configure:6584: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6576 \"configure\"\n+#line 6592 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -6591,7 +6607,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:6595: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:6611: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -6616,17 +6632,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:6620: checking for $ac_hdr\" >&5\n+echo \"configure:6636: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6625 \"configure\"\n+#line 6641 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6630: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6646: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6655,12 +6671,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6659: checking for $ac_func\" >&5\n+echo \"configure:6675: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6664 \"configure\"\n+#line 6680 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6683,7 +6699,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6687: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6703: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6708,15 +6724,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:6712: checking for working mmap\" >&5\n+echo \"configure:6728: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6720 \"configure\"\n+#line 6736 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -6856,7 +6872,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:6860: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:6876: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -6884,17 +6900,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:6888: checking for $ac_hdr\" >&5\n+echo \"configure:6904: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6893 \"configure\"\n+#line 6909 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6898: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6914: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6924,12 +6940,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6928: checking for $ac_func\" >&5\n+echo \"configure:6944: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6933 \"configure\"\n+#line 6949 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6952,7 +6968,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6956: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6972: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6981,12 +6997,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6985: checking for $ac_func\" >&5\n+echo \"configure:7001: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6990 \"configure\"\n+#line 7006 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7009,7 +7025,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7013: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7029: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7043,19 +7059,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:7047: checking for LC_MESSAGES\" >&5\n+echo \"configure:7063: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7052 \"configure\"\n+#line 7068 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:7059: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7075: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -7076,7 +7092,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7080: checking whether NLS is requested\" >&5\n+echo \"configure:7096: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -7096,7 +7112,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7100: checking whether included gettext is requested\" >&5\n+echo \"configure:7116: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -7115,17 +7131,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7119: checking for libintl.h\" >&5\n+echo \"configure:7135: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7124 \"configure\"\n+#line 7140 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7129: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7145: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7142,19 +7158,19 @@ fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:7146: checking for gettext in libc\" >&5\n+echo \"configure:7162: checking for gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7151 \"configure\"\n+#line 7167 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n int main() {\n return (int) gettext (\"\")\n ; return 0; }\n EOF\n-if { (eval echo configure:7158: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7174: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gettext_libc=yes\n else\n@@ -7170,15 +7186,15 @@ echo \"$ac_t\"\"$gt_cv_func_gettext_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for bindtextdomain in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7174: checking for bindtextdomain in -lintl\" >&5\n+echo \"configure:7190: checking for bindtextdomain in -lintl\" >&5\n ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7182 \"configure\"\n+#line 7198 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7189,7 +7205,7 @@ int main() {\n bindtextdomain()\n ; return 0; }\n EOF\n-if { (eval echo configure:7193: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7209: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7205,20 +7221,20 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7209: checking for gettext in libintl\" >&5\n+echo \"configure:7225: checking for gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   echo $ac_n \"checking for gettext in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7214: checking for gettext in -lintl\" >&5\n+echo \"configure:7230: checking for gettext in -lintl\" >&5\n ac_lib_var=`echo intl'_'gettext | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7222 \"configure\"\n+#line 7238 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7229,7 +7245,7 @@ int main() {\n gettext()\n ; return 0; }\n EOF\n-if { (eval echo configure:7233: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7249: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7268,7 +7284,7 @@ EOF\n \t      # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7272: checking for $ac_word\" >&5\n+echo \"configure:7288: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7302,12 +7318,12 @@ fi\n \t\tfor ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7306: checking for $ac_func\" >&5\n+echo \"configure:7322: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7311 \"configure\"\n+#line 7327 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7330,7 +7346,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7334: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7350: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7357,7 +7373,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7361: checking for $ac_word\" >&5\n+echo \"configure:7377: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7393,7 +7409,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7397: checking for $ac_word\" >&5\n+echo \"configure:7413: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7425,15 +7441,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 7429 \"configure\"\n+#line 7445 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:7437: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7453: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -7456,7 +7472,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:7460: checking whether catgets can be used\" >&5\n+echo \"configure:7476: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -7469,22 +7485,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:7473: checking for main in -li\" >&5\n+echo \"configure:7489: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7481 \"configure\"\n+#line 7497 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:7488: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7504: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7512,12 +7528,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:7516: checking for catgets\" >&5\n+echo \"configure:7532: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7521 \"configure\"\n+#line 7537 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -7540,7 +7556,7 @@ catgets();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7544: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7560: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -7562,7 +7578,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7566: checking for $ac_word\" >&5\n+echo \"configure:7582: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7598,7 +7614,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7602: checking for $ac_word\" >&5\n+echo \"configure:7618: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7635,7 +7651,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7639: checking for $ac_word\" >&5\n+echo \"configure:7655: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7670,7 +7686,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7674: checking for $ac_word\" >&5\n+echo \"configure:7690: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7728,7 +7744,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7732: checking for $ac_word\" >&5\n+echo \"configure:7748: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7762,7 +7778,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7766: checking for $ac_word\" >&5\n+echo \"configure:7782: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7798,7 +7814,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7802: checking for $ac_word\" >&5\n+echo \"configure:7818: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7891,7 +7907,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:7895: checking for catalogs to be installed\" >&5\n+echo \"configure:7911: checking for catalogs to be installed\" >&5\n        NEW_LINGUAS=\n        for lang in ${LINGUAS=$ALL_LINGUAS}; do\n          case \"$ALL_LINGUAS\" in\n@@ -7919,17 +7935,17 @@ echo \"configure:7895: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7923: checking for linux/version.h\" >&5\n+echo \"configure:7939: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7928 \"configure\"\n+#line 7944 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7933: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7949: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8163,7 +8179,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:8167: checking assembler alignment features\" >&5\n+echo \"configure:8183: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -8284,7 +8300,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:8288: checking assembler subsection support\" >&5\n+echo \"configure:8304: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -8326,7 +8342,7 @@ echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:8330: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:8346: checking assembler .register pseudo-op support\" >&5\n     gcc_cv_as_register_pseudo_op=\n     if test x$gcc_cv_as != x; then\n \t# Check if we have .register\n@@ -8343,7 +8359,7 @@ EOF\n     echo \"$ac_t\"\"$gcc_cv_as_register_pseudo_op\" 1>&6\n \n     echo $ac_n \"checking assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:8347: checking assembler offsetable %lo() support\" >&5\n+echo \"configure:8363: checking assembler offsetable %lo() support\" >&5\n     gcc_cv_as_offsetable_lo10=\n     if test x$gcc_cv_as != x; then\n \t# Check if assembler has offsetable %lo()\n@@ -8376,7 +8392,7 @@ EOF\n \n   i[34567]86-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:8380: checking assembler instructions\" >&5\n+echo \"configure:8396: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_as != x; then\n \tset \"filds fists\" \"filds mem; fists mem\""}, {"sha": "af3a8c5a500b1089ac8fa52a58fc1954991614c6", "filename": "gcc/configure.in", "status": "modified", "additions": 20, "deletions": 4, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=078e19a409ad23cff76509f7bb1b7808cfdc9630", "patch": "@@ -756,15 +756,31 @@ changequote([,])dnl\n \t\ttmake_file=arm/t-linux\n \t\tgnu_ld=yes\n \t\t;;\n-\tarm*-*-linux-gnu*)\t\t# ARM GNU/Linux with ELF\n+\tarm*-*-linux-gnuoldld*)\t\t# ARM GNU/Linux with old ELF linker\n \t\txm_file=arm/xm-linux.h\n \t\txmake_file=x-linux\n+\t\ttm_file=\"arm/linux-oldld.h arm/linux-elf.h\"\n \t\tcase $machine in\n \t\tarmv2*-*-*)\n-\t\t\ttm_file=arm/linux-elf26.h\n+\t\t\ttm_file=\"arm/linux-elf26.h $tm_file\"\n \t\t\t;;\n-\t\t*)\n-\t\t\ttm_file=arm/linux-elf.h\n+\t\tesac\n+\t\ttmake_file=\"t-linux arm/t-linux\"\n+\t\textra_parts=\"crtbegin.o crtbeginS.o crtend.o crtendS.o\"\n+\t\tgnu_ld=yes\n+\t\tcase x${enable_threads} in\n+\t\tx | xyes | xpthreads | xposix)\n+\t\t\tthread_file='posix'\n+\t\t\t;;\n+\t\tesac\n+\t\t;;\n+\tarm*-*-linux-gnu*)\t\t# ARM GNU/Linux with ELF\n+\t\txm_file=arm/xm-linux.h\n+\t\txmake_file=x-linux\n+\t\ttm_file=\"arm/linux-elf.h\"\n+\t\tcase $machine in\n+\t\tarmv2*-*-*)\n+\t\t\ttm_file=\"arm/linux-elf26.h $tm_file\"\n \t\t\t;;\n \t\tesac\n \t\ttmake_file=\"t-linux arm/t-linux\""}, {"sha": "cb8c16d6d49024e841758eb2b287e64fdee2e60a", "filename": "gcc/install.texi", "status": "modified", "additions": 17, "deletions": 6, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/078e19a409ad23cff76509f7bb1b7808cfdc9630/gcc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Finstall.texi?ref=078e19a409ad23cff76509f7bb1b7808cfdc9630", "patch": "@@ -914,12 +914,23 @@ produce @file{a.out} format object modules.\n You may need to make a variant of the file @file{arm.h} for your particular\n configuration.\n \n-@item arm-*-linuxaout\n-Any of the ARM family processors running the Linux-based GNU system with\n-the @file{a.out} binary format (ELF is not yet supported).  You must use\n-version 2.8.1.0.7 or later of the GNU/Linux binutils, which you can download\n-from @file{sunsite.unc.edu:/pub/Linux/GCC} and other mirror sites for\n-Linux-based GNU systems.\n+@item arm-*-elf\n+This configuration is intended for embedded systems.\n+\n+@item arm-*-linux-gnuaout\n+Any of the ARM-family processors running the Linux-based GNU system with\n+the @file{a.out} binary format.  This is an obsolete configuration.\n+\n+@item arm-*-linux-gnu\n+@itemx arm-*-linux-gnuoldld\n+Any of the ARM-family processors running the Linux-based GNU system with\n+the @file{ELF} binary format.  You must use version 2.9.1.0.22 or later\n+of the GNU/Linux binutils, which you can download from\n+@file{ftp.varesearch.com:/pub/support/hjl/binutils}.\n+\n+These two configurations differ only in the required version of GNU\n+binutils.  For binutils 2.9.1.0.x, use @samp{arm-*-linux-gnuoldld}.  For \n+newer versions of binutils, use @samp{arm-*-linux-gnu}.\n \n @item arm-*-riscix\n The ARM2 or ARM3 processor running RISC iX, Acorn's port of BSD Unix."}]}