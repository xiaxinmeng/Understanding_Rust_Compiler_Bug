{"sha": "61204ad95c0af99bc890e70c68cffd4999ec5bc3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjEyMDRhZDk1YzBhZjk5YmM4OTBlNzBjNjhjZmZkNDk5OWVjNWJjMw==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2014-11-19T20:35:49Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2014-11-19T20:35:49Z"}, "message": "re PR lto/63963 (LTO doesn't work with __attribute__((__target__(\"sse4.2\"))))\n\n\n\n\tPR bootstrap/63963\n\t* tree-streamer-out.c (write_ts_function_decl_tree_pointers): Stream out\n\tDECL_FUNCTION_SPECIFIC_TARGET\n\t* tree-streamer-in.c (lto_input_ts_function_decl_tree_pointers): Stream in\n\tDECL_FUNCTION_SPECIFIC_TARGET.\n\nFrom-SVN: r217809", "tree": {"sha": "ed9cd0838d07665b84936be11e2a67485aa22b5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed9cd0838d07665b84936be11e2a67485aa22b5a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/61204ad95c0af99bc890e70c68cffd4999ec5bc3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61204ad95c0af99bc890e70c68cffd4999ec5bc3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61204ad95c0af99bc890e70c68cffd4999ec5bc3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61204ad95c0af99bc890e70c68cffd4999ec5bc3/comments", "author": null, "committer": null, "parents": [{"sha": "b957b2e02582cc7ba739cd3886f38800542759bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b957b2e02582cc7ba739cd3886f38800542759bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b957b2e02582cc7ba739cd3886f38800542759bb"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "6c888f6c7cbef9da32e9f5de0d63262c72980754", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61204ad95c0af99bc890e70c68cffd4999ec5bc3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61204ad95c0af99bc890e70c68cffd4999ec5bc3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=61204ad95c0af99bc890e70c68cffd4999ec5bc3", "patch": "@@ -1,3 +1,11 @@\n+2014-11-19  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR bootstrap/63963\n+\t* tree-streamer-out.c (write_ts_function_decl_tree_pointers): Stream out\n+\tDECL_FUNCTION_SPECIFIC_TARGET\n+\t* tree-streamer-in.c (lto_input_ts_function_decl_tree_pointers): Stream in\n+\tDECL_FUNCTION_SPECIFIC_TARGET.\n+\n 2014-11-19  David Malcolm  <dmalcolm@redhat.com>\n \n \tPR jit/63854"}, {"sha": "995b64291ebdb99a1fcd77aece5420bd3c317305", "filename": "gcc/tree-streamer-in.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61204ad95c0af99bc890e70c68cffd4999ec5bc3/gcc%2Ftree-streamer-in.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61204ad95c0af99bc890e70c68cffd4999ec5bc3/gcc%2Ftree-streamer-in.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-streamer-in.c?ref=61204ad95c0af99bc890e70c68cffd4999ec5bc3", "patch": "@@ -774,7 +774,7 @@ lto_input_ts_function_decl_tree_pointers (struct lto_input_block *ib,\n   DECL_VINDEX (expr) = stream_read_tree (ib, data_in);\n   /* DECL_STRUCT_FUNCTION is loaded on demand by cgraph_get_body.  */\n   DECL_FUNCTION_PERSONALITY (expr) = stream_read_tree (ib, data_in);\n-  /* DECL_FUNCTION_SPECIFIC_TARGET is regenerated from attributes.  */\n+  DECL_FUNCTION_SPECIFIC_TARGET (expr) = stream_read_tree (ib, data_in);\n   DECL_FUNCTION_SPECIFIC_OPTIMIZATION (expr) = stream_read_tree (ib, data_in);\n \n   /* If the file contains a function with an EH personality set,"}, {"sha": "b9594546d914561e282258f40207a7ce1e9a9067", "filename": "gcc/tree-streamer-out.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61204ad95c0af99bc890e70c68cffd4999ec5bc3/gcc%2Ftree-streamer-out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61204ad95c0af99bc890e70c68cffd4999ec5bc3/gcc%2Ftree-streamer-out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-streamer-out.c?ref=61204ad95c0af99bc890e70c68cffd4999ec5bc3", "patch": "@@ -676,10 +676,9 @@ write_ts_function_decl_tree_pointers (struct output_block *ob, tree expr,\n \t\t\t\t      bool ref_p)\n {\n   stream_write_tree (ob, DECL_VINDEX (expr), ref_p);\n-  /* DECL_STRUCT_FUNCTION is handled by lto_output_function.  FIXME lto,\n-     maybe it should be handled here?  */\n+  /* DECL_STRUCT_FUNCTION is handled by lto_output_function.  */\n   stream_write_tree (ob, DECL_FUNCTION_PERSONALITY (expr), ref_p);\n-  /* DECL_FUNCTION_SPECIFIC_TARGET is regenerated.  */\n+  stream_write_tree (ob, DECL_FUNCTION_SPECIFIC_TARGET (expr), ref_p);\n   stream_write_tree (ob, DECL_FUNCTION_SPECIFIC_OPTIMIZATION (expr), ref_p);\n }\n "}]}