{"sha": "4fcf700c916e89d5b1351200b2dd44a9fe8678d3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGZjZjcwMGM5MTZlODlkNWIxMzUxMjAwYjJkZDQ0YTlmZTg2NzhkMw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2017-01-19T11:51:47Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2017-01-19T11:51:47Z"}, "message": "Minor reformatting and code cleanup.\n\nFrom-SVN: r244621", "tree": {"sha": "ac57d15fc10fa88d16b50a9441cfc2d9632f1d69", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ac57d15fc10fa88d16b50a9441cfc2d9632f1d69"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4fcf700c916e89d5b1351200b2dd44a9fe8678d3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fcf700c916e89d5b1351200b2dd44a9fe8678d3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4fcf700c916e89d5b1351200b2dd44a9fe8678d3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fcf700c916e89d5b1351200b2dd44a9fe8678d3/comments", "author": null, "committer": null, "parents": [{"sha": "0929d66bf81be1b0fca5537d946cd068dd731f99", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0929d66bf81be1b0fca5537d946cd068dd731f99", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0929d66bf81be1b0fca5537d946cd068dd731f99"}], "stats": {"total": 37, "additions": 20, "deletions": 17}, "files": [{"sha": "9d868043ee8ecfc6f68401f999cf50f4e8a617ff", "filename": "gcc/ada/sem_util.adb", "status": "modified", "additions": 20, "deletions": 17, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fcf700c916e89d5b1351200b2dd44a9fe8678d3/gcc%2Fada%2Fsem_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fcf700c916e89d5b1351200b2dd44a9fe8678d3/gcc%2Fada%2Fsem_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_util.adb?ref=4fcf700c916e89d5b1351200b2dd44a9fe8678d3", "patch": "@@ -8073,24 +8073,25 @@ package body Sem_Util is\n       H             : out Node_Id;\n       Use_Full_View : Boolean := False)\n    is\n-      function Scalar_Range_Of_Right_View return Node_Id;\n-      --  Call Scalar_Range with argument determined by Use_Full_View\n-      --  parameter.\n+      function Scalar_Range_Of_Type (Typ : Entity_Id) return Node_Id;\n+      --  Obtain the scalar range of type Typ. If flag Use_Full_View is set and\n+      --  Typ qualifies, the scalar range is obtained from the full view of the\n+      --  type.\n \n-      --------------------------------\n-      -- Scalar_Range_Of_Right_View --\n-      --------------------------------\n+      --------------------------\n+      -- Scalar_Range_Of_Type --\n+      --------------------------\n \n-      function Scalar_Range_Of_Right_View return Node_Id is\n-         E : Entity_Id := Entity (N);\n+      function Scalar_Range_Of_Type (Typ : Entity_Id) return Node_Id is\n+         T : Entity_Id := Typ;\n \n       begin\n-         if Use_Full_View and then Present (Full_View (E)) then\n-            E := Full_View (E);\n+         if Use_Full_View and then Present (Full_View (T)) then\n+            T := Full_View (T);\n          end if;\n \n-         return Scalar_Range (E);\n-      end Scalar_Range_Of_Right_View;\n+         return Scalar_Range (T);\n+      end Scalar_Range_Of_Type;\n \n       --  Local variables\n \n@@ -8118,16 +8119,18 @@ package body Sem_Util is\n          end if;\n \n       elsif Is_Entity_Name (N) and then Is_Type (Entity (N)) then\n-         if Error_Posted (Scalar_Range_Of_Right_View) then\n+         Rng := Scalar_Range_Of_Type (Entity (N));\n+\n+         if Error_Posted (Rng) then\n             L := Error;\n             H := Error;\n \n-         elsif Nkind (Scalar_Range_Of_Right_View) = N_Subtype_Indication then\n-            Get_Index_Bounds (Scalar_Range_Of_Right_View, L, H);\n+         elsif Nkind (Rng) = N_Subtype_Indication then\n+            Get_Index_Bounds (Rng, L, H);\n \n          else\n-            L := Low_Bound  (Scalar_Range_Of_Right_View);\n-            H := High_Bound (Scalar_Range_Of_Right_View);\n+            L := Low_Bound  (Rng);\n+            H := High_Bound (Rng);\n          end if;\n \n       else"}]}