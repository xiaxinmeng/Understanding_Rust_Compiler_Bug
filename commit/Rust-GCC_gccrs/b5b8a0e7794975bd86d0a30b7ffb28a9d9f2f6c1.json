{"sha": "b5b8a0e7794975bd86d0a30b7ffb28a9d9f2f6c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjViOGEwZTc3OTQ5NzViZDg2ZDBhMzBiN2ZmYjI4YTlkOWYyZjZjMQ==", "commit": {"author": {"name": "Alexandre Petit-Bianco", "email": "apbianco@cygnus.com", "date": "1999-12-01T13:06:10Z"}, "committer": {"name": "Alexandre Petit-Bianco", "email": "apbianco@gcc.gnu.org", "date": "1999-12-01T13:06:10Z"}, "message": "re GNATS gcj/97 (Internal compiler error)\n\nThu Nov 11 01:57:14 1999  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n\n        * parse.y (lookup_method_invoke): Use lang_printable_name to\n \treliably build the type name during error report. Fixes PR gcj/97.\n\nFrom-SVN: r30739", "tree": {"sha": "d6bbc81cc6bcf885f15d10f3040bd2ceca286922", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d6bbc81cc6bcf885f15d10f3040bd2ceca286922"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5b8a0e7794975bd86d0a30b7ffb28a9d9f2f6c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5b8a0e7794975bd86d0a30b7ffb28a9d9f2f6c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5b8a0e7794975bd86d0a30b7ffb28a9d9f2f6c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5b8a0e7794975bd86d0a30b7ffb28a9d9f2f6c1/comments", "author": null, "committer": null, "parents": [{"sha": "e20440c1dde9050535ad0b69fd616ca079bb5bd0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e20440c1dde9050535ad0b69fd616ca079bb5bd0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e20440c1dde9050535ad0b69fd616ca079bb5bd0"}], "stats": {"total": 354, "additions": 185, "deletions": 169}, "files": [{"sha": "3adaa4392b20361e1f1bdd6dfd3086c08660a97d", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5b8a0e7794975bd86d0a30b7ffb28a9d9f2f6c1/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5b8a0e7794975bd86d0a30b7ffb28a9d9f2f6c1/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=b5b8a0e7794975bd86d0a30b7ffb28a9d9f2f6c1", "patch": "@@ -31,6 +31,11 @@ Wed Nov 17 21:09:28 1999  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \t* class.c (layout_class): Always convert TYPE_SIZE_UNIT to\n  \tint_type_node: that's what `_Jv_AllocObject' expects.\n \n+Thu Nov 11 01:57:14 1999  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n+\n+        * parse.y (lookup_method_invoke): Use lang_printable_name to\n+ \treliably build the type name during error report. Fixes PR gcj/97.\n+\n 1999-11-09  Tom Tromey  <tromey@cygnus.com>\n \n \t* jcf-path.c: Include <sys/stat.h>."}, {"sha": "58b96cad90c4c5533d6551eb9965892857590ee5", "filename": "gcc/java/parse.c", "status": "modified", "additions": 174, "deletions": 163, "changes": 337, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5b8a0e7794975bd86d0a30b7ffb28a9d9f2f6c1/gcc%2Fjava%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5b8a0e7794975bd86d0a30b7ffb28a9d9f2f6c1/gcc%2Fjava%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.c?ref=b5b8a0e7794975bd86d0a30b7ffb28a9d9f2f6c1", "patch": "@@ -743,24 +743,24 @@ static const short yyrline[] = { 0,\n   1608,  1612,  1615,  1617,  1619,  1623,  1626,  1628,  1630,  1634,\n   1637,  1639,  1641,  1645,  1651,  1653,  1657,  1664,  1666,  1668,\n   1670,  1674,  1686,  1689,  1691,  1696,  1700,  1702,  1709,  1717,\n-  1734,  1736,  1738,  1742,  1745,  1750,  1752,  1755,  1757,  1759,\n-  1761,  1762,  1763,  1764,  1768,  1770,  1772,  1777,  1779,  1781,\n-  1783,  1785,  1789,  1792,  1797,  1799,  1804,  1805,  1806,  1807,\n-  1808,  1810,  1812,  1814,  1816,  1818,  1822,  1824,  1827,  1833,\n-  1838,  1842,  1845,  1847,  1849,  1853,  1855,  1857,  1859,  1863,\n-  1866,  1870,  1876,  1878,  1886,  1913,  1915,  1919,  1924,  1931,\n-  1935,  1938,  1940,  1951,  1962,  1967,  1976,  1978,  1982,  1985,\n-  1987,  1992,  1997,  2002,  2009,  2011,  2012,  2013,  2016,  2021,\n-  2026,  2028,  2029,  2031,  2033,  2034,  2036,  2040,  2043,  2047,\n-  2050,  2054,  2056,  2058,  2060,  2061,  2063,  2067,  2076,  2078,\n-  2080,  2093,  2095,  2101,  2103,  2105,  2109,  2111,  2116,  2121,\n-  2126,  2128,  2130,  2134,  2136,  2141,  2146,  2148,  2152,  2154,\n-  2159,  2164,  2169,  2171,  2173,  2177,  2179,  2184,  2189,  2194,\n-  2199,  2201,  2203,  2205,  2207,  2209,  2213,  2215,  2220,  2225,\n-  2227,  2231,  2233,  2238,  2242,  2244,  2249,  2253,  2255,  2260,\n-  2264,  2266,  2271,  2275,  2277,  2282,  2286,  2288,  2293,  2299,\n-  2301,  2305,  2307,  2310,  2313,  2321,  2323,  2324,  2327,  2329,\n-  2332,  2336\n+  1734,  1736,  1741,  1745,  1748,  1753,  1755,  1758,  1760,  1762,\n+  1764,  1765,  1766,  1767,  1771,  1773,  1775,  1780,  1782,  1784,\n+  1786,  1788,  1792,  1795,  1800,  1802,  1807,  1808,  1809,  1810,\n+  1811,  1813,  1815,  1817,  1819,  1821,  1825,  1827,  1830,  1836,\n+  1841,  1845,  1848,  1850,  1852,  1856,  1858,  1860,  1862,  1866,\n+  1869,  1873,  1879,  1881,  1889,  1916,  1918,  1922,  1927,  1934,\n+  1938,  1941,  1943,  1954,  1965,  1970,  1979,  1981,  1985,  1988,\n+  1990,  1995,  2000,  2005,  2012,  2014,  2015,  2016,  2019,  2024,\n+  2029,  2031,  2032,  2034,  2036,  2037,  2039,  2043,  2046,  2050,\n+  2053,  2057,  2059,  2061,  2063,  2064,  2066,  2070,  2079,  2081,\n+  2083,  2096,  2098,  2104,  2106,  2108,  2112,  2114,  2119,  2124,\n+  2129,  2131,  2133,  2137,  2139,  2144,  2149,  2151,  2155,  2157,\n+  2162,  2167,  2172,  2174,  2176,  2180,  2182,  2187,  2192,  2197,\n+  2202,  2204,  2206,  2208,  2210,  2212,  2216,  2218,  2223,  2228,\n+  2230,  2234,  2236,  2241,  2245,  2247,  2252,  2256,  2258,  2263,\n+  2267,  2269,  2274,  2278,  2280,  2285,  2289,  2291,  2296,  2302,\n+  2304,  2308,  2310,  2313,  2316,  2324,  2326,  2327,  2330,  2332,\n+  2335,  2339\n };\n #endif\n \n@@ -2256,7 +2256,7 @@ static const short yycheck[] = {     3,\n #define YYPURE 1\n \n /* -*-C-*-  Note some compilers choke on comments on `#line' lines.  */\n-#line 3 \"/usr/share/misc/bison.simple\"\n+#line 3 \"/usr/cygnus/gnupro-98r1/share/bison.simple\"\n \n /* Skeleton output parser for bison,\n    Copyright (C) 1984, 1989, 1990 Free Software Foundation, Inc.\n@@ -2273,7 +2273,7 @@ static const short yycheck[] = {     3,\n \n    You should have received a copy of the GNU General Public License\n    along with this program; if not, write to the Free Software\n-   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */\n+   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n /* As a special exception, when this file is copied by Bison into a\n    Bison output file, you may use that output file without restriction.\n@@ -2407,10 +2407,8 @@ int yydebug;\t\t\t/*  nonzero means print parse trace\t*/\n \n /* Prevent warning if -Wstrict-prototypes.  */\n #ifdef __GNUC__\n-#ifndef YYPARSE_PARAM\n int yyparse (void);\n #endif\n-#endif\n \f\n #if __GNUC__ > 1\t\t/* GNU C and GNU C++ define this.  */\n #define __yy_memcpy(TO,FROM,COUNT)\t__builtin_memcpy(TO,FROM,COUNT)\n@@ -2451,7 +2449,7 @@ __yy_memcpy (char *to, char *from, int count)\n #endif\n #endif\n \f\n-#line 196 \"/usr/share/misc/bison.simple\"\n+#line 196 \"/usr/cygnus/gnupro-98r1/share/bison.simple\"\n \n /* The user can define YYPARSE_PARAM as the name of an argument to be passed\n    into yyparse.  The argument should have type void *.\n@@ -4058,183 +4056,186 @@ case 330:\n     break;}\n case 331:\n #line 1735 \"./parse.y\"\n-{yyerror (\"'(' expected\"); RECOVER;;\n+{yyerror (\"'(' expected\"); RECOVER; yyval.node = NULL_TREE;;\n     break;}\n case 332:\n #line 1737 \"./parse.y\"\n-{yyerror (\"Missing term or ')' expected\"); DRECOVER (2);;\n+{\n+\t\t  yyerror (\"Missing term or ')' expected\"); \n+\t\t  RECOVER; yyval.node = NULL_TREE;\n+\t\t;\n     break;}\n case 333:\n-#line 1739 \"./parse.y\"\n-{yyerror (\"')' expected\"); DRECOVER (1);;\n+#line 1742 \"./parse.y\"\n+{yyerror (\"Missing term\"); RECOVER; yyval.node = NULL_TREE;;\n     break;}\n case 334:\n-#line 1744 \"./parse.y\"\n+#line 1747 \"./parse.y\"\n { yyval.node = yyvsp[0].node; ;\n     break;}\n case 335:\n-#line 1746 \"./parse.y\"\n+#line 1749 \"./parse.y\"\n {yyerror (\"'{' expected\"); RECOVER; ;\n     break;}\n case 339:\n-#line 1758 \"./parse.y\"\n+#line 1761 \"./parse.y\"\n { yyval.node = build_this (yyvsp[0].operator.location); ;\n     break;}\n case 340:\n-#line 1760 \"./parse.y\"\n+#line 1763 \"./parse.y\"\n {yyval.node = yyvsp[-1].node;;\n     break;}\n case 345:\n-#line 1769 \"./parse.y\"\n+#line 1772 \"./parse.y\"\n { yyval.node = parse_jdk1_1_error (\"named class literals\"); ;\n     break;}\n case 346:\n-#line 1771 \"./parse.y\"\n+#line 1774 \"./parse.y\"\n { yyval.node = build_class_ref (yyvsp[-2].node); ;\n     break;}\n case 347:\n-#line 1773 \"./parse.y\"\n+#line 1776 \"./parse.y\"\n { yyval.node = build_class_ref (void_type_node); ;\n     break;}\n case 348:\n-#line 1778 \"./parse.y\"\n+#line 1781 \"./parse.y\"\n { yyval.node = parse_jdk1_1_error (\"class literals\"); ;\n     break;}\n case 349:\n-#line 1780 \"./parse.y\"\n+#line 1783 \"./parse.y\"\n {yyerror (\"')' expected\"); RECOVER;;\n     break;}\n case 350:\n-#line 1782 \"./parse.y\"\n+#line 1785 \"./parse.y\"\n {yyerror (\"'class' or 'this' expected\" ); RECOVER;;\n     break;}\n case 351:\n-#line 1784 \"./parse.y\"\n+#line 1787 \"./parse.y\"\n {yyerror (\"'class' expected\" ); RECOVER;;\n     break;}\n case 352:\n-#line 1786 \"./parse.y\"\n+#line 1789 \"./parse.y\"\n {yyerror (\"'class' expected\" ); RECOVER;;\n     break;}\n case 353:\n-#line 1791 \"./parse.y\"\n+#line 1794 \"./parse.y\"\n { yyval.node = build_new_invocation (yyvsp[-3].node, yyvsp[-1].node); ;\n     break;}\n case 354:\n-#line 1793 \"./parse.y\"\n+#line 1796 \"./parse.y\"\n { yyval.node = build_new_invocation (yyvsp[-2].node, NULL_TREE); ;\n     break;}\n case 355:\n-#line 1798 \"./parse.y\"\n+#line 1801 \"./parse.y\"\n { yyval.node = parse_jdk1_1_error (\"inner class instance creation\"); ;\n     break;}\n case 356:\n-#line 1800 \"./parse.y\"\n+#line 1803 \"./parse.y\"\n { yyval.node = parse_jdk1_1_error (\"inner class instance creation\"); ;\n     break;}\n case 361:\n-#line 1809 \"./parse.y\"\n+#line 1812 \"./parse.y\"\n {yyerror (\"'(' expected\"); DRECOVER(new_1);;\n     break;}\n case 362:\n-#line 1811 \"./parse.y\"\n+#line 1814 \"./parse.y\"\n {yyerror (\"'(' expected\"); RECOVER;;\n     break;}\n case 363:\n-#line 1813 \"./parse.y\"\n+#line 1816 \"./parse.y\"\n {yyerror (\"')' or term expected\"); RECOVER;;\n     break;}\n case 364:\n-#line 1815 \"./parse.y\"\n+#line 1818 \"./parse.y\"\n {yyerror (\"')' expected\"); RECOVER;;\n     break;}\n case 365:\n-#line 1817 \"./parse.y\"\n+#line 1820 \"./parse.y\"\n {YYERROR_NOW; yyerror (\"Identifier expected\"); RECOVER;;\n     break;}\n case 366:\n-#line 1819 \"./parse.y\"\n+#line 1822 \"./parse.y\"\n {yyerror (\"'(' expected\"); RECOVER;;\n     break;}\n case 369:\n-#line 1829 \"./parse.y\"\n+#line 1832 \"./parse.y\"\n { \n \t\t  yyval.node = tree_cons (NULL_TREE, yyvsp[0].node, NULL_TREE);\n \t\t  ctxp->formal_parameter_number = 1; \n \t\t;\n     break;}\n case 370:\n-#line 1834 \"./parse.y\"\n+#line 1837 \"./parse.y\"\n {\n \t\t  ctxp->formal_parameter_number += 1;\n \t\t  yyval.node = tree_cons (NULL_TREE, yyvsp[0].node, yyvsp[-2].node);\n \t\t;\n     break;}\n case 371:\n-#line 1839 \"./parse.y\"\n+#line 1842 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 372:\n-#line 1844 \"./parse.y\"\n+#line 1847 \"./parse.y\"\n { yyval.node = build_newarray_node (yyvsp[-1].node, yyvsp[0].node, 0); ;\n     break;}\n case 373:\n-#line 1846 \"./parse.y\"\n+#line 1849 \"./parse.y\"\n { yyval.node = build_newarray_node (yyvsp[-1].node, yyvsp[0].node, 0); ;\n     break;}\n case 374:\n-#line 1848 \"./parse.y\"\n+#line 1851 \"./parse.y\"\n { yyval.node = build_newarray_node (yyvsp[-2].node, yyvsp[-1].node, CURRENT_OSB (ctxp));;\n     break;}\n case 375:\n-#line 1850 \"./parse.y\"\n+#line 1853 \"./parse.y\"\n { yyval.node = build_newarray_node (yyvsp[-2].node, yyvsp[-1].node, CURRENT_OSB (ctxp));;\n     break;}\n case 376:\n-#line 1854 \"./parse.y\"\n+#line 1857 \"./parse.y\"\n { yyval.node = parse_jdk1_1_error (\"anonymous array\"); ;\n     break;}\n case 377:\n-#line 1856 \"./parse.y\"\n+#line 1859 \"./parse.y\"\n { yyval.node = parse_jdk1_1_error (\"anonymous array\"); ;\n     break;}\n case 378:\n-#line 1858 \"./parse.y\"\n+#line 1861 \"./parse.y\"\n {yyerror (\"'[' expected\"); DRECOVER (\"]\");;\n     break;}\n case 379:\n-#line 1860 \"./parse.y\"\n+#line 1863 \"./parse.y\"\n {yyerror (\"']' expected\"); RECOVER;;\n     break;}\n case 380:\n-#line 1865 \"./parse.y\"\n+#line 1868 \"./parse.y\"\n { yyval.node = build_tree_list (NULL_TREE, yyvsp[0].node); ;\n     break;}\n case 381:\n-#line 1867 \"./parse.y\"\n+#line 1870 \"./parse.y\"\n { yyval.node = tree_cons (NULL_TREE, yyvsp[0].node, yyval.node); ;\n     break;}\n case 382:\n-#line 1872 \"./parse.y\"\n+#line 1875 \"./parse.y\"\n { \n \t\t  EXPR_WFL_LINECOL (yyvsp[-1].node) = yyvsp[-2].operator.location;\n \t\t  yyval.node = yyvsp[-1].node;\n \t\t;\n     break;}\n case 383:\n-#line 1877 \"./parse.y\"\n+#line 1880 \"./parse.y\"\n {yyerror (\"']' expected\"); RECOVER;;\n     break;}\n case 384:\n-#line 1879 \"./parse.y\"\n+#line 1882 \"./parse.y\"\n {\n \t\t  yyerror (\"Missing term\");\n \t\t  yyerror (\"']' expected\");\n \t\t  RECOVER;\n \t\t;\n     break;}\n case 385:\n-#line 1888 \"./parse.y\"\n+#line 1891 \"./parse.y\"\n { \n \t\t  int allocate = 0;\n \t\t  /* If not initialized, allocate memory for the osb\n@@ -4262,19 +4263,19 @@ case 385:\n \t\t;\n     break;}\n case 386:\n-#line 1914 \"./parse.y\"\n+#line 1917 \"./parse.y\"\n { CURRENT_OSB (ctxp)++; ;\n     break;}\n case 387:\n-#line 1916 \"./parse.y\"\n+#line 1919 \"./parse.y\"\n { yyerror (\"']' expected\"); RECOVER;;\n     break;}\n case 388:\n-#line 1921 \"./parse.y\"\n+#line 1924 \"./parse.y\"\n { yyval.node = make_qualified_primary (yyvsp[-2].node, yyvsp[0].node, yyvsp[-1].operator.location); ;\n     break;}\n case 389:\n-#line 1925 \"./parse.y\"\n+#line 1928 \"./parse.y\"\n {\n \t\t  tree super_wfl = \n \t\t    build_wfl_node (super_identifier_node);\n@@ -4283,19 +4284,19 @@ case 389:\n \t\t;\n     break;}\n case 390:\n-#line 1932 \"./parse.y\"\n+#line 1935 \"./parse.y\"\n {yyerror (\"Field expected\"); DRECOVER (super_field_acces);;\n     break;}\n case 391:\n-#line 1937 \"./parse.y\"\n+#line 1940 \"./parse.y\"\n { yyval.node = build_method_invocation (yyvsp[-2].node, NULL_TREE); ;\n     break;}\n case 392:\n-#line 1939 \"./parse.y\"\n+#line 1942 \"./parse.y\"\n { yyval.node = build_method_invocation (yyvsp[-3].node, yyvsp[-1].node); ;\n     break;}\n case 393:\n-#line 1941 \"./parse.y\"\n+#line 1944 \"./parse.y\"\n { \n \t\t  if (TREE_CODE (yyvsp[-4].node) == THIS_EXPR)\n \t\t    yyval.node = build_this_super_qualified_invocation \n@@ -4308,7 +4309,7 @@ case 393:\n \t\t;\n     break;}\n case 394:\n-#line 1952 \"./parse.y\"\n+#line 1955 \"./parse.y\"\n { \n \t\t  if (TREE_CODE (yyvsp[-5].node) == THIS_EXPR)\n \t\t    yyval.node = build_this_super_qualified_invocation \n@@ -4321,121 +4322,121 @@ case 394:\n \t\t;\n     break;}\n case 395:\n-#line 1963 \"./parse.y\"\n+#line 1966 \"./parse.y\"\n { \n \t\t  yyval.node = build_this_super_qualified_invocation \n \t\t    (0, yyvsp[-2].node, NULL_TREE, yyvsp[-4].operator.location, yyvsp[-3].operator.location);\n \t\t;\n     break;}\n case 396:\n-#line 1968 \"./parse.y\"\n+#line 1971 \"./parse.y\"\n {\n \t\t  yyval.node = build_this_super_qualified_invocation \n \t\t    (0, yyvsp[-3].node, yyvsp[-1].node, yyvsp[-5].operator.location, yyvsp[-4].operator.location);\n \t\t;\n     break;}\n case 397:\n-#line 1977 \"./parse.y\"\n+#line 1980 \"./parse.y\"\n { yyerror (\"'(' expected\"); DRECOVER (method_invocation); ;\n     break;}\n case 398:\n-#line 1979 \"./parse.y\"\n+#line 1982 \"./parse.y\"\n { yyerror (\"'(' expected\"); DRECOVER (method_invocation); ;\n     break;}\n case 399:\n-#line 1984 \"./parse.y\"\n+#line 1987 \"./parse.y\"\n { yyval.node = build_array_ref (yyvsp[-2].operator.location, yyvsp[-3].node, yyvsp[-1].node); ;\n     break;}\n case 400:\n-#line 1986 \"./parse.y\"\n+#line 1989 \"./parse.y\"\n { yyval.node = build_array_ref (yyvsp[-2].operator.location, yyvsp[-3].node, yyvsp[-1].node); ;\n     break;}\n case 401:\n-#line 1988 \"./parse.y\"\n+#line 1991 \"./parse.y\"\n {\n \t\t  yyerror (\"Missing term and ']' expected\");\n \t\t  DRECOVER(array_access);\n \t\t;\n     break;}\n case 402:\n-#line 1993 \"./parse.y\"\n+#line 1996 \"./parse.y\"\n {\n \t\t  yyerror (\"']' expected\");\n \t\t  DRECOVER(array_access);\n \t\t;\n     break;}\n case 403:\n-#line 1998 \"./parse.y\"\n+#line 2001 \"./parse.y\"\n {\n \t\t  yyerror (\"Missing term and ']' expected\");\n \t\t  DRECOVER(array_access);\n \t\t;\n     break;}\n case 404:\n-#line 2003 \"./parse.y\"\n+#line 2006 \"./parse.y\"\n {\n \t\t  yyerror (\"']' expected\");\n \t\t  DRECOVER(array_access);\n \t\t;\n     break;}\n case 409:\n-#line 2018 \"./parse.y\"\n+#line 2021 \"./parse.y\"\n { yyval.node = build_incdec (yyvsp[0].operator.token, yyvsp[0].operator.location, yyvsp[-1].node, 1); ;\n     break;}\n case 410:\n-#line 2023 \"./parse.y\"\n+#line 2026 \"./parse.y\"\n { yyval.node = build_incdec (yyvsp[0].operator.token, yyvsp[0].operator.location, yyvsp[-1].node, 1); ;\n     break;}\n case 413:\n-#line 2030 \"./parse.y\"\n+#line 2033 \"./parse.y\"\n {yyval.node = build_unaryop (yyvsp[-1].operator.token, yyvsp[-1].operator.location, yyvsp[0].node); ;\n     break;}\n case 414:\n-#line 2032 \"./parse.y\"\n+#line 2035 \"./parse.y\"\n {yyval.node = build_unaryop (yyvsp[-1].operator.token, yyvsp[-1].operator.location, yyvsp[0].node); ;\n     break;}\n case 416:\n-#line 2035 \"./parse.y\"\n+#line 2038 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;\n     break;}\n case 417:\n-#line 2037 \"./parse.y\"\n+#line 2040 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;\n     break;}\n case 418:\n-#line 2042 \"./parse.y\"\n+#line 2045 \"./parse.y\"\n {yyval.node = build_incdec (yyvsp[-1].operator.token, yyvsp[-1].operator.location, yyvsp[0].node, 0); ;\n     break;}\n case 419:\n-#line 2044 \"./parse.y\"\n+#line 2047 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;\n     break;}\n case 420:\n-#line 2049 \"./parse.y\"\n+#line 2052 \"./parse.y\"\n {yyval.node = build_incdec (yyvsp[-1].operator.token, yyvsp[-1].operator.location, yyvsp[0].node, 0); ;\n     break;}\n case 421:\n-#line 2051 \"./parse.y\"\n+#line 2054 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;\n     break;}\n case 423:\n-#line 2057 \"./parse.y\"\n+#line 2060 \"./parse.y\"\n {yyval.node = build_unaryop (yyvsp[-1].operator.token, yyvsp[-1].operator.location, yyvsp[0].node); ;\n     break;}\n case 424:\n-#line 2059 \"./parse.y\"\n+#line 2062 \"./parse.y\"\n {yyval.node = build_unaryop (yyvsp[-1].operator.token, yyvsp[-1].operator.location, yyvsp[0].node); ;\n     break;}\n case 426:\n-#line 2062 \"./parse.y\"\n+#line 2065 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;\n     break;}\n case 427:\n-#line 2064 \"./parse.y\"\n+#line 2067 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;\n     break;}\n case 428:\n-#line 2069 \"./parse.y\"\n+#line 2072 \"./parse.y\"\n { \n \t\t  tree type = yyvsp[-3].node;\n \t\t  while (CURRENT_OSB (ctxp)--)\n@@ -4445,15 +4446,15 @@ case 428:\n \t\t;\n     break;}\n case 429:\n-#line 2077 \"./parse.y\"\n+#line 2080 \"./parse.y\"\n { yyval.node = build_cast (yyvsp[-3].operator.location, yyvsp[-2].node, yyvsp[0].node); ;\n     break;}\n case 430:\n-#line 2079 \"./parse.y\"\n+#line 2082 \"./parse.y\"\n { yyval.node = build_cast (yyvsp[-3].operator.location, yyvsp[-2].node, yyvsp[0].node); ;\n     break;}\n case 431:\n-#line 2081 \"./parse.y\"\n+#line 2084 \"./parse.y\"\n { \n \t\t  const char *ptr;\n \t\t  while (CURRENT_OSB (ctxp)--)\n@@ -4468,275 +4469,275 @@ case 431:\n \t\t;\n     break;}\n case 432:\n-#line 2094 \"./parse.y\"\n+#line 2097 \"./parse.y\"\n {yyerror (\"']' expected, invalid type expression\");;\n     break;}\n case 433:\n-#line 2096 \"./parse.y\"\n+#line 2099 \"./parse.y\"\n {\n \t          if (ctxp->prevent_ese != lineno)\n \t\t    yyerror (\"Invalid type expression\"); RECOVER;\n \t\t  RECOVER;\n \t\t;\n     break;}\n case 434:\n-#line 2102 \"./parse.y\"\n+#line 2105 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 435:\n-#line 2104 \"./parse.y\"\n+#line 2107 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 436:\n-#line 2106 \"./parse.y\"\n+#line 2109 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 438:\n-#line 2112 \"./parse.y\"\n+#line 2115 \"./parse.y\"\n { \n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), \n \t\t\t\t    yyvsp[-1].operator.location, yyvsp[-2].node, yyvsp[0].node);\n \t\t;\n     break;}\n case 439:\n-#line 2117 \"./parse.y\"\n+#line 2120 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 440:\n-#line 2122 \"./parse.y\"\n+#line 2125 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 441:\n-#line 2127 \"./parse.y\"\n+#line 2130 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 442:\n-#line 2129 \"./parse.y\"\n+#line 2132 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 443:\n-#line 2131 \"./parse.y\"\n+#line 2134 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 445:\n-#line 2137 \"./parse.y\"\n+#line 2140 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 446:\n-#line 2142 \"./parse.y\"\n+#line 2145 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 447:\n-#line 2147 \"./parse.y\"\n+#line 2150 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 448:\n-#line 2149 \"./parse.y\"\n+#line 2152 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 450:\n-#line 2155 \"./parse.y\"\n+#line 2158 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 451:\n-#line 2160 \"./parse.y\"\n+#line 2163 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 452:\n-#line 2165 \"./parse.y\"\n+#line 2168 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 453:\n-#line 2170 \"./parse.y\"\n+#line 2173 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 454:\n-#line 2172 \"./parse.y\"\n+#line 2175 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 455:\n-#line 2174 \"./parse.y\"\n+#line 2177 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 457:\n-#line 2180 \"./parse.y\"\n+#line 2183 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 458:\n-#line 2185 \"./parse.y\"\n+#line 2188 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 459:\n-#line 2190 \"./parse.y\"\n+#line 2193 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 460:\n-#line 2195 \"./parse.y\"\n+#line 2198 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 461:\n-#line 2200 \"./parse.y\"\n+#line 2203 \"./parse.y\"\n { yyval.node = build_binop (INSTANCEOF_EXPR, yyvsp[-1].operator.location, yyvsp[-2].node, yyvsp[0].node); ;\n     break;}\n case 462:\n-#line 2202 \"./parse.y\"\n+#line 2205 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 463:\n-#line 2204 \"./parse.y\"\n+#line 2207 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 464:\n-#line 2206 \"./parse.y\"\n+#line 2209 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 465:\n-#line 2208 \"./parse.y\"\n+#line 2211 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 466:\n-#line 2210 \"./parse.y\"\n+#line 2213 \"./parse.y\"\n {yyerror (\"Invalid reference type\"); RECOVER;;\n     break;}\n case 468:\n-#line 2216 \"./parse.y\"\n+#line 2219 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 469:\n-#line 2221 \"./parse.y\"\n+#line 2224 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 470:\n-#line 2226 \"./parse.y\"\n+#line 2229 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 471:\n-#line 2228 \"./parse.y\"\n+#line 2231 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 473:\n-#line 2234 \"./parse.y\"\n+#line 2237 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 474:\n-#line 2239 \"./parse.y\"\n+#line 2242 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 476:\n-#line 2245 \"./parse.y\"\n+#line 2248 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 477:\n-#line 2250 \"./parse.y\"\n+#line 2253 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 479:\n-#line 2256 \"./parse.y\"\n+#line 2259 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 480:\n-#line 2261 \"./parse.y\"\n+#line 2264 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 482:\n-#line 2267 \"./parse.y\"\n+#line 2270 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 483:\n-#line 2272 \"./parse.y\"\n+#line 2275 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 485:\n-#line 2278 \"./parse.y\"\n+#line 2281 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 486:\n-#line 2283 \"./parse.y\"\n+#line 2286 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 488:\n-#line 2289 \"./parse.y\"\n+#line 2292 \"./parse.y\"\n {\n \t\t  yyval.node = build (CONDITIONAL_EXPR, NULL_TREE, yyvsp[-4].node, yyvsp[-2].node, yyvsp[0].node);\n \t\t  EXPR_WFL_LINECOL (yyval.node) = yyvsp[-3].operator.location;\n \t\t;\n     break;}\n case 489:\n-#line 2294 \"./parse.y\"\n+#line 2297 \"./parse.y\"\n {\n \t\t  YYERROR_NOW;\n \t\t  yyerror (\"Missing term\");\n \t\t  DRECOVER (1);\n \t\t;\n     break;}\n case 490:\n-#line 2300 \"./parse.y\"\n+#line 2303 \"./parse.y\"\n {yyerror (\"Missing term\"); DRECOVER (2);;\n     break;}\n case 491:\n-#line 2302 \"./parse.y\"\n+#line 2305 \"./parse.y\"\n {yyerror (\"Missing term\"); DRECOVER (3);;\n     break;}\n case 494:\n-#line 2312 \"./parse.y\"\n+#line 2315 \"./parse.y\"\n { yyval.node = build_assignment (yyvsp[-1].operator.token, yyvsp[-1].operator.location, yyvsp[-2].node, yyvsp[0].node); ;\n     break;}\n case 495:\n-#line 2314 \"./parse.y\"\n+#line 2317 \"./parse.y\"\n {\n \t\t  if (ctxp->prevent_ese != lineno)\n \t\t    yyerror (\"Missing term\");\n@@ -4745,7 +4746,7 @@ case 495:\n     break;}\n }\n    /* the action file gets copied in in place of this dollarsign */\n-#line 498 \"/usr/share/misc/bison.simple\"\n+#line 498 \"/usr/cygnus/gnupro-98r1/share/bison.simple\"\n \f\n   yyvsp -= yylen;\n   yyssp -= yylen;\n@@ -4941,7 +4942,7 @@ case 495:\n   yystate = yyn;\n   goto yynewstate;\n }\n-#line 2340 \"./parse.y\"\n+#line 2343 \"./parse.y\"\n \n \f\n \n@@ -9319,6 +9320,15 @@ resolve_qualified_expression_name (wfl, found_decl, where_found, type_found)\n \t  type = QUAL_DECL_TYPE (decl);\n \t  continue;\n \n+\tcase PLUS_EXPR:\n+\t  if ((decl = java_complete_tree (qual_wfl)) == error_mark_node)\n+\t    return 1;\n+\t  if ((type = patch_string (decl)))\n+\t    decl = type;\n+\t  *where_found = QUAL_RESOLUTION (q) = decl;\n+\t  *type_found = type = TREE_TYPE (decl);\n+\t  break;\n+\n \tdefault:\n \t  /* Fix for -Wall Just go to the next statement. Don't\n              continue */\n@@ -10154,6 +10164,7 @@ lookup_method_invoke (lc, cl, class, name, arg_list)\n   tree atl = end_params_node;\t\t/* Arg Type List */\n   tree method, signature, list, node;\n   const char *candidates;\t\t/* Used for error report */\n+  char *dup;\n \n   /* Fix the arguments */\n   for (node = arg_list; node; node = TREE_CHAIN (node))\n@@ -10203,14 +10214,13 @@ lookup_method_invoke (lc, cl, class, name, arg_list)\n   method = make_node (FUNCTION_TYPE);\n   TYPE_ARG_TYPES (method) = atl;\n   signature = build_java_argument_signature (method);\n-  parse_error_context (cl, \"Can't find %s `%s(%s)' in class `%s'%s\",\n+  dup = strdup (lang_printable_name (class, 0));\n+  parse_error_context (cl, \"Can't find %s `%s(%s)' in type `%s'%s\",\n \t\t       (lc ? \"constructor\" : \"method\"),\n-\t\t       (lc ? \n-\t\t\tIDENTIFIER_POINTER (DECL_NAME (TYPE_NAME (class))) :\n-\t\t\tIDENTIFIER_POINTER (name)),\n-\t\t       IDENTIFIER_POINTER (signature),\n-\t\t       IDENTIFIER_POINTER (DECL_NAME (TYPE_NAME (class))),\n+\t\t       (lc ? dup : IDENTIFIER_POINTER (name)),\n+\t\t       IDENTIFIER_POINTER (signature), dup,\n \t\t       (candidates ? candidates : \"\"));\n+  free (dup);\n   return NULL_TREE;\n }\n \n@@ -10490,7 +10500,8 @@ qualify_ambiguous_name (id)\n \t     TREE_CODE (TREE_OPERAND (qual_wfl, 0)) == EXPR_WITH_FILE_LOCATION)\n       name = EXPR_WFL_NODE (TREE_OPERAND (qual_wfl, 0));\n \n-    else if (code == STRING_CST || code == CONDITIONAL_EXPR)\n+    else if (code == STRING_CST || code == CONDITIONAL_EXPR \n+\t     || code == PLUS_EXPR)\n       {\n \tqual = TREE_CHAIN (qual);\n \tqual_wfl = QUAL_WFL (qual);"}, {"sha": "07e6cfa72012c80644080c34458c959480079506", "filename": "gcc/java/parse.y", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5b8a0e7794975bd86d0a30b7ffb28a9d9f2f6c1/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5b8a0e7794975bd86d0a30b7ffb28a9d9f2f6c1/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=b5b8a0e7794975bd86d0a30b7ffb28a9d9f2f6c1", "patch": "@@ -7561,6 +7561,7 @@ lookup_method_invoke (lc, cl, class, name, arg_list)\n   tree atl = end_params_node;\t\t/* Arg Type List */\n   tree method, signature, list, node;\n   const char *candidates;\t\t/* Used for error report */\n+  char *dup;\n \n   /* Fix the arguments */\n   for (node = arg_list; node; node = TREE_CHAIN (node))\n@@ -7610,14 +7611,13 @@ lookup_method_invoke (lc, cl, class, name, arg_list)\n   method = make_node (FUNCTION_TYPE);\n   TYPE_ARG_TYPES (method) = atl;\n   signature = build_java_argument_signature (method);\n-  parse_error_context (cl, \"Can't find %s `%s(%s)' in class `%s'%s\",\n+  dup = strdup (lang_printable_name (class, 0));\n+  parse_error_context (cl, \"Can't find %s `%s(%s)' in type `%s'%s\",\n \t\t       (lc ? \"constructor\" : \"method\"),\n-\t\t       (lc ? \n-\t\t\tIDENTIFIER_POINTER (DECL_NAME (TYPE_NAME (class))) :\n-\t\t\tIDENTIFIER_POINTER (name)),\n-\t\t       IDENTIFIER_POINTER (signature),\n-\t\t       IDENTIFIER_POINTER (DECL_NAME (TYPE_NAME (class))),\n+\t\t       (lc ? dup : IDENTIFIER_POINTER (name)),\n+\t\t       IDENTIFIER_POINTER (signature), dup,\n \t\t       (candidates ? candidates : \"\"));\n+  free (dup);\n   return NULL_TREE;\n }\n "}]}