{"sha": "6bfd73a62142342d1412f0bce7a1241e033e1a43", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmJmZDczYTYyMTQyMzQyZDE0MTJmMGJjZTdhMTI0MWUwMzNlMWE0Mw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-08-11T15:09:30Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-08-11T15:09:30Z"}, "message": "re PR bootstrap/50018 (fixup_args_size_notes ICE breaks m68k-linux bootstrap)\n\nPR bootstrap/50018\n        * expr.c (fixup_args_size_notes): Accept and ignore normal calls.\n\nFrom-SVN: r177669", "tree": {"sha": "1c93b1f7db971017a325c94ac4b7a972fb173235", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1c93b1f7db971017a325c94ac4b7a972fb173235"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6bfd73a62142342d1412f0bce7a1241e033e1a43", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bfd73a62142342d1412f0bce7a1241e033e1a43", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6bfd73a62142342d1412f0bce7a1241e033e1a43", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bfd73a62142342d1412f0bce7a1241e033e1a43/comments", "author": null, "committer": null, "parents": [{"sha": "022676dcde6f4ed5722c13a7a9049f06a9e9a088", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/022676dcde6f4ed5722c13a7a9049f06a9e9a088", "html_url": "https://github.com/Rust-GCC/gccrs/commit/022676dcde6f4ed5722c13a7a9049f06a9e9a088"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "e7ed90d3d52d7ef114649f9b58f2b15fd31649a2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6bfd73a62142342d1412f0bce7a1241e033e1a43/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6bfd73a62142342d1412f0bce7a1241e033e1a43/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6bfd73a62142342d1412f0bce7a1241e033e1a43", "patch": "@@ -1,3 +1,8 @@\n+2011-08-11  Richard Henderson  <rth@redhat.com>\n+\n+\tPR bootstrap/50018\n+\t* expr.c (fixup_args_size_notes): Accept and ignore normal calls.\n+\n 2011-08-11  Richard Guenther  <rguenther@suse.de>\n \n \t* lto-cgraph.c (input_node): Use DECL_BUILT_IN."}, {"sha": "997eb3e022326ac40422a5b2b760792a26b2df20", "filename": "gcc/expr.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6bfd73a62142342d1412f0bce7a1241e033e1a43/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6bfd73a62142342d1412f0bce7a1241e033e1a43/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=6bfd73a62142342d1412f0bce7a1241e033e1a43", "patch": "@@ -3567,8 +3567,10 @@ fixup_args_size_notes (rtx prev, rtx last, int end_args_size)\n       /* Look for a call_pop pattern.  */\n       if (CALL_P (insn))\n \t{\n-\t  /* We're not supposed to see non-pop call patterns here.  */\n-\t  gcc_assert (GET_CODE (pat) == PARALLEL);\n+          /* We have to allow non-call_pop patterns for the case\n+\t     of emit_single_push_insn of a TLS address.  */\n+\t  if (GET_CODE (pat) != PARALLEL)\n+\t    continue;\n \n \t  /* All call_pop have a stack pointer adjust in the parallel.\n \t     The call itself is always first, and the stack adjust is\n@@ -3583,7 +3585,8 @@ fixup_args_size_notes (rtx prev, rtx last, int end_args_size)\n \t\tbreak;\n \t    }\n \t  /* We'd better have found the stack pointer adjust.  */\n-\t  gcc_assert (i > 0);\n+\t  if (i == 0)\n+\t    continue;\n \t  /* Fall through to process the extracted SET and DEST\n \t     as if it was a standalone insn.  */\n \t}"}]}