{"sha": "22682e5b5f7cc596b165534ad9b8f201354126ce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI2ODJlNWI1ZjdjYzU5NmIxNjU1MzRhZDliOGYyMDEzNTQxMjZjZQ==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2019-06-16T07:47:57Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2019-06-16T07:47:57Z"}, "message": "re PR d/90661 (ICE in AlignDeclaration::syntaxCopy, at d/dmd/attrib.c:670)\n\n\tPR d/90661\nd/dmd: Merge upstream dmd c74e624c9\n\nFixes segmentation fault in AlignDeclaration::syntaxCopy.\n\nReviewed-on: https://github.com/dlang/dmd/pull/10001\n\nFrom-SVN: r272341", "tree": {"sha": "4e8184feeaa8e54c00a63c686a0b785a8829dadd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4e8184feeaa8e54c00a63c686a0b785a8829dadd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/22682e5b5f7cc596b165534ad9b8f201354126ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22682e5b5f7cc596b165534ad9b8f201354126ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22682e5b5f7cc596b165534ad9b8f201354126ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22682e5b5f7cc596b165534ad9b8f201354126ce/comments", "author": null, "committer": null, "parents": [{"sha": "347f5c885f33bcd905d601faa5a93b01715eacf8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/347f5c885f33bcd905d601faa5a93b01715eacf8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/347f5c885f33bcd905d601faa5a93b01715eacf8"}], "stats": {"total": 38, "additions": 36, "deletions": 2}, "files": [{"sha": "6edc63a201420ea560ef1b335c905ae654d698b2", "filename": "gcc/d/dmd/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22682e5b5f7cc596b165534ad9b8f201354126ce/gcc%2Fd%2Fdmd%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22682e5b5f7cc596b165534ad9b8f201354126ce/gcc%2Fd%2Fdmd%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fd%2Fdmd%2FMERGE?ref=22682e5b5f7cc596b165534ad9b8f201354126ce", "patch": "@@ -1,4 +1,4 @@\n-78dc311524341a76008b341ff6427e5a16e285db\n+c74e624c9a0a9e7e39f96b2f005f86e123df56c9\n \n The first line of this file holds the git revision number of the last\n merge done from the dlang/dmd repository."}, {"sha": "6cd715ce08b6768afd208b0d0d85ff389d84b1ad", "filename": "gcc/d/dmd/attrib.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22682e5b5f7cc596b165534ad9b8f201354126ce/gcc%2Fd%2Fdmd%2Fattrib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22682e5b5f7cc596b165534ad9b8f201354126ce/gcc%2Fd%2Fdmd%2Fattrib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fd%2Fdmd%2Fattrib.c?ref=22682e5b5f7cc596b165534ad9b8f201354126ce", "patch": "@@ -667,7 +667,8 @@ Dsymbol *AlignDeclaration::syntaxCopy(Dsymbol *s)\n {\n     assert(!s);\n     return new AlignDeclaration(loc,\n-        ealign->syntaxCopy(), Dsymbol::arraySyntaxCopy(decl));\n+        ealign ? ealign->syntaxCopy() : NULL,\n+        Dsymbol::arraySyntaxCopy(decl));\n }\n \n Scope *AlignDeclaration::newScope(Scope *sc)"}, {"sha": "bf602ff31a476a987b8c4d7cee6dabbe4bcebb97", "filename": "gcc/testsuite/gdc.test/compilable/aggr_alignment.d", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22682e5b5f7cc596b165534ad9b8f201354126ce/gcc%2Ftestsuite%2Fgdc.test%2Fcompilable%2Faggr_alignment.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22682e5b5f7cc596b165534ad9b8f201354126ce/gcc%2Ftestsuite%2Fgdc.test%2Fcompilable%2Faggr_alignment.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgdc.test%2Fcompilable%2Faggr_alignment.d?ref=22682e5b5f7cc596b165534ad9b8f201354126ce", "patch": "@@ -26,3 +26,16 @@ enum payloadOffset = C2.bytes.offsetof;\n static assert(C2.int1.offsetof == payloadOffset + 8);\n static assert(C2.alignof == size_t.sizeof);\n static assert(__traits(classInstanceSize, C2) == payloadOffset + 12);\n+\n+\n+/***************************************************/\n+// https://issues.dlang.org/show_bug.cgi?id=19914\n+// https://issues.dlang.org/show_bug.cgi?id=19915\n+\n+class TemplatedClass(T)\n+{\n+    align T field;\n+}\n+\n+mixin TemplatedClass!(string);\n+alias TCint = TemplatedClass!(int);"}, {"sha": "a890d35e85b4a058a194556a50042764ea240afd", "filename": "gcc/testsuite/gdc.test/fail_compilation/fail19914.d", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22682e5b5f7cc596b165534ad9b8f201354126ce/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19914.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22682e5b5f7cc596b165534ad9b8f201354126ce/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19914.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19914.d?ref=22682e5b5f7cc596b165534ad9b8f201354126ce", "patch": "@@ -0,0 +1,10 @@\n+// PERMUTE_ARGS:\n+/*\n+TEST_OUTPUT:\n+---\n+fail_compilation/fail19914.d(9): Error: undefined identifier `c` in module `fail19914`\n+fail_compilation/fail19914.d(10): Error: mixin `fail19914.a!string` error instantiating\n+---\n+*/\n+class a(b) { align.c d; }\n+mixin a!(string);"}, {"sha": "17e05ee32c2024326e3258a8bed25ab26f104b74", "filename": "gcc/testsuite/gdc.test/fail_compilation/fail19915.d", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22682e5b5f7cc596b165534ad9b8f201354126ce/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19915.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22682e5b5f7cc596b165534ad9b8f201354126ce/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19915.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgdc.test%2Ffail_compilation%2Ffail19915.d?ref=22682e5b5f7cc596b165534ad9b8f201354126ce", "patch": "@@ -0,0 +1,10 @@\n+// PERMUTE_ARGS:\n+/*\n+TEST_OUTPUT:\n+---\n+fail_compilation/fail19915.d(9): Error: undefined identifier `c` in module `fail19915`\n+fail_compilation/fail19915.d(10): Error: template instance `fail19915.a!int` error instantiating\n+---\n+*/\n+class a (b) { align.c d; }\n+alias a!(int) e;"}]}