{"sha": "a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTY0NThkMWRkZGRkZDM1MDFmZmMyYThlOWU0ZmYwMmM5MjY2YzZkYQ==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "1998-11-19T10:05:03Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "1998-11-19T10:05:03Z"}, "message": "configure.in: Call AC_HEADER_SYS_WAIT.\n\n        * configure.in: Call AC_HEADER_SYS_WAIT.\n        * pexecute.c: Include sys/wait.h when !IN_GCC.\n\nFrom-SVN: r23711", "tree": {"sha": "15f3a285bee9689b9686f6c32e7c6659b363b446", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/15f3a285bee9689b9686f6c32e7c6659b363b446"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da/comments", "author": null, "committer": null, "parents": [{"sha": "8cacfe11536721c59e59ecfde53c14be0b00423b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8cacfe11536721c59e59ecfde53c14be0b00423b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8cacfe11536721c59e59ecfde53c14be0b00423b"}], "stats": {"total": 181, "additions": 118, "deletions": 63}, "files": [{"sha": "ad3b16864ceb363c8e0e772facbd46b2234857b2", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da", "patch": "@@ -1,3 +1,9 @@\n+Thu Nov 19 12:59:21 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* configure.in: Call AC_HEADER_SYS_WAIT.\n+\n+\t* pexecute.c: Include sys/wait.h when !IN_GCC.\n+\n Fri Nov 13 19:18:05 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* configure.in: Check for calloc."}, {"sha": "ba72d865eafd19d9f096a4cb1d73371d6e518416", "filename": "libiberty/config.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da/libiberty%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da/libiberty%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfig.in?ref=a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da", "patch": "@@ -13,6 +13,9 @@\n /* Define if you have <alloca.h> and it should be used (not on Ultrix).  */\n #undef HAVE_ALLOCA_H\n \n+/* Define if you have <sys/wait.h> that is POSIX.1 compatible.  */\n+#undef HAVE_SYS_WAIT_H\n+\n /* Define if you have <vfork.h>.  */\n #undef HAVE_VFORK_H\n "}, {"sha": "7c34571ea19ecd65dc2f10aac6a70f52ecd29f10", "filename": "libiberty/configure", "status": "modified", "additions": 105, "deletions": 63, "changes": 168, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da/libiberty%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da/libiberty%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure?ref=a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da", "patch": "@@ -1067,6 +1067,48 @@ else\n fi\n done\n \n+echo $ac_n \"checking for sys/wait.h that is POSIX.1 compatible\"\"... $ac_c\" 1>&6\n+echo \"configure:1072: checking for sys/wait.h that is POSIX.1 compatible\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_header_sys_wait_h'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1077 \"configure\"\n+#include \"confdefs.h\"\n+#include <sys/types.h>\n+#include <sys/wait.h>\n+#ifndef WEXITSTATUS\n+#define WEXITSTATUS(stat_val) ((unsigned)(stat_val) >> 8)\n+#endif\n+#ifndef WIFEXITED\n+#define WIFEXITED(stat_val) (((stat_val) & 255) == 0)\n+#endif\n+int main() {\n+int s;\n+wait (&s);\n+s = WIFEXITED (s) ? WEXITSTATUS (s) : 1;\n+; return 0; }\n+EOF\n+if { (eval echo configure:1093: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  ac_cv_header_sys_wait_h=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  ac_cv_header_sys_wait_h=no\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_header_sys_wait_h\" 1>&6\n+if test $ac_cv_header_sys_wait_h = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_SYS_WAIT_H 1\n+EOF\n+\n+fi\n+\n \n # This is the list of functions which libiberty will provide if they\n # are not available on the host.\n@@ -1120,12 +1162,12 @@ if test \"x\" = \"y\"; then\n   for ac_func in asprintf atexit basename bcmp bcopy bzero calloc clock getcwd\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1124: checking for $ac_func\" >&5\n+echo \"configure:1166: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1129 \"configure\"\n+#line 1171 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1148,7 +1190,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1152: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1194: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1175,12 +1217,12 @@ done\n   for ac_func in getpagesize index insque memchr memcmp memcpy memmove\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1179: checking for $ac_func\" >&5\n+echo \"configure:1221: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1184 \"configure\"\n+#line 1226 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1203,7 +1245,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1207: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1249: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1230,12 +1272,12 @@ done\n   for ac_func in memset random rename rindex sigsetmask strcasecmp\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1234: checking for $ac_func\" >&5\n+echo \"configure:1276: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1239 \"configure\"\n+#line 1281 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1258,7 +1300,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1262: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1304: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1285,12 +1327,12 @@ done\n   for ac_func in strchr strdup strncasecmp strrchr strstr strtod strtol\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1289: checking for $ac_func\" >&5\n+echo \"configure:1331: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1294 \"configure\"\n+#line 1336 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1313,7 +1355,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1317: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1359: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1340,12 +1382,12 @@ done\n   for ac_func in strtoul tmpnam vasprintf vfprintf vprintf vsprintf waitpid\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1344: checking for $ac_func\" >&5\n+echo \"configure:1386: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1349 \"configure\"\n+#line 1391 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1368,7 +1410,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1372: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1414: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1407,12 +1449,12 @@ EOF\n   for ac_func in getrusage on_exit psignal strerror strsignal sysconf times\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1411: checking for $ac_func\" >&5\n+echo \"configure:1453: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1416 \"configure\"\n+#line 1458 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1435,7 +1477,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1439: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1481: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1590,7 +1632,7 @@ EOF\n   # We haven't set the list of objects yet.  Use the standard autoconf\n   # tests.  This will only work if the compiler works.\n   echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:1594: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1636: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -1600,11 +1642,11 @@ ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS\n cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext <<EOF\n-#line 1604 \"configure\"\n+#line 1646 \"configure\"\n #include \"confdefs.h\"\n main(){return(0);}\n EOF\n-if { (eval echo configure:1608: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1650: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -1624,19 +1666,19 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:1628: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:1670: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n   for ac_func in $funcs\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1635: checking for $ac_func\" >&5\n+echo \"configure:1677: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1640 \"configure\"\n+#line 1682 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1659,7 +1701,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1663: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1705: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1688,19 +1730,19 @@ done\n   # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1692: checking for working alloca.h\" >&5\n+echo \"configure:1734: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1697 \"configure\"\n+#line 1739 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:1704: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1746: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -1721,12 +1763,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:1725: checking for alloca\" >&5\n+echo \"configure:1767: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1730 \"configure\"\n+#line 1772 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -1749,7 +1791,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:1753: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1795: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -1781,12 +1823,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:1785: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:1827: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1790 \"configure\"\n+#line 1832 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -1811,12 +1853,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1815: checking for $ac_func\" >&5\n+echo \"configure:1857: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1820 \"configure\"\n+#line 1862 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1839,7 +1881,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1843: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1885: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1866,15 +1908,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:1870: checking stack direction for C alloca\" >&5\n+echo \"configure:1912: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1878 \"configure\"\n+#line 1920 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -1893,7 +1935,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:1897: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1939: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -1915,20 +1957,20 @@ EOF\n fi\n \n   echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:1919: checking for ANSI C header files\" >&5\n+echo \"configure:1961: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1924 \"configure\"\n+#line 1966 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1932: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1974: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1945,7 +1987,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1949 \"configure\"\n+#line 1991 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -1963,7 +2005,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1967 \"configure\"\n+#line 2009 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -1984,7 +2026,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1988 \"configure\"\n+#line 2030 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -1995,7 +2037,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:1999: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2041: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -2019,12 +2061,12 @@ EOF\n fi\n \n echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:2023: checking for pid_t\" >&5\n+echo \"configure:2065: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2028 \"configure\"\n+#line 2070 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -2053,17 +2095,17 @@ fi\n \n ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2057: checking for vfork.h\" >&5\n+echo \"configure:2099: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2062 \"configure\"\n+#line 2104 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2067: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2109: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2088,18 +2130,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2092: checking for working vfork\" >&5\n+echo \"configure:2134: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2098: checking for vfork\" >&5\n+echo \"configure:2140: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2103 \"configure\"\n+#line 2145 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -2122,7 +2164,7 @@ vfork();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2126: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2168: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -2144,7 +2186,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2148 \"configure\"\n+#line 2190 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -2239,7 +2281,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:2243: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2285: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -2266,19 +2308,19 @@ fi\n   fi\n   for v in $vars; do\n     echo $ac_n \"checking for $v\"\"... $ac_c\" 1>&6\n-echo \"configure:2270: checking for $v\" >&5\n+echo \"configure:2312: checking for $v\" >&5\n     if eval \"test \\\"`echo '$''{'libiberty_cv_var_$v'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2275 \"configure\"\n+#line 2317 \"configure\"\n #include \"confdefs.h\"\n int *p;\n int main() {\n extern int $v; p = &$v;\n ; return 0; }\n EOF\n-if { (eval echo configure:2282: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2324: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"libiberty_cv_var_$v=yes\"\n else\n@@ -2304,12 +2346,12 @@ EOF\n   for ac_func in $checkfuncs\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2308: checking for $ac_func\" >&5\n+echo \"configure:2350: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2313 \"configure\"\n+#line 2355 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2332,7 +2374,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2336: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2378: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else"}, {"sha": "1fdfb314617889f489134ca8a389e37afef58d6a", "filename": "libiberty/configure.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da/libiberty%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da/libiberty%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure.in?ref=a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da", "patch": "@@ -107,6 +107,7 @@ AC_SUBST_FILE(host_makefile_frag)\n # able to link anything, it had better be able to at least compile\n # something.\n AC_CHECK_HEADERS(sys/file.h sys/param.h stdlib.h string.h unistd.h strings.h sys/time.h)\n+AC_HEADER_SYS_WAIT\n \n # This is the list of functions which libiberty will provide if they\n # are not available on the host."}, {"sha": "94fb2484966c8d7944f1210e5a7b05d25e9bb1f4", "filename": "libiberty/pexecute.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da/libiberty%2Fpexecute.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da/libiberty%2Fpexecute.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fpexecute.c?ref=a6458d1dddddd3501ffc2a8e9e4ff02c9266c6da", "patch": "@@ -35,6 +35,9 @@ Boston, MA 02111-1307, USA.  */\n #include <unistd.h>\n #endif\n #define ISSPACE (x) isspace(x)\n+#ifdef HAVE_SYS_WAIT_H\n+#include <sys/wait.h>\n+#endif\n #endif\n \n #ifdef vfork /* Autoconf may define this to fork for us. */"}]}