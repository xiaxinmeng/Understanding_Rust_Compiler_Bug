{"sha": "bc9e02aec783f65979062e0d93d798f72bf10756", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmM5ZTAyYWVjNzgzZjY1OTc5MDYyZTBkOTNkNzk4ZjcyYmYxMDc1Ng==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-09-28T22:48:30Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-09-28T22:48:30Z"}, "message": "(CPP_SPEC): Handle -mf930 and -mf934.\n\n(TARGET_SWITCHES): Add -mf930 and -mf934 options.  -msparclite no\nlonger does -mno-fpu.\n\nFrom-SVN: r5510", "tree": {"sha": "0c27cc85a1e61e1dc0ca6e5d740fae1dbf400fb3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0c27cc85a1e61e1dc0ca6e5d740fae1dbf400fb3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bc9e02aec783f65979062e0d93d798f72bf10756", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc9e02aec783f65979062e0d93d798f72bf10756", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bc9e02aec783f65979062e0d93d798f72bf10756", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc9e02aec783f65979062e0d93d798f72bf10756/comments", "author": null, "committer": null, "parents": [{"sha": "303b6ca3e8b075098c1d17147d198849d5868a1f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/303b6ca3e8b075098c1d17147d198849d5868a1f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/303b6ca3e8b075098c1d17147d198849d5868a1f"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "c841eff33f83f70b35b82339f4911f1babaabd46", "filename": "gcc/config/sparc/sparc.h", "status": "modified", "additions": 13, "deletions": 4, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc9e02aec783f65979062e0d93d798f72bf10756/gcc%2Fconfig%2Fsparc%2Fsparc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc9e02aec783f65979062e0d93d798f72bf10756/gcc%2Fconfig%2Fsparc%2Fsparc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.h?ref=bc9e02aec783f65979062e0d93d798f72bf10756", "patch": "@@ -34,7 +34,8 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #define ASM_SPEC \" %| %{fpic:-k} %{fPIC:-k}\"\n \n /* Define macros to distinguish architectures.  */\n-#define CPP_SPEC \"%{msparclite:-D__sparclite__} %{mv8:-D__sparc_v8__}\"\n+#define CPP_SPEC \"%{msparclite:-D__sparclite__} %{mf930:-D__sparclite__} \\\n+%{mf934:-D__sparclite__} %{mv8:-D__sparc_v8__}\"\n \n /* Prevent error on `-sun4' and `-target sun4' options.  */\n /* This used to translate -dalign to -malign, but that is no good\n@@ -114,7 +115,9 @@ extern int target_flags;\n /* Nonzero means that we should generate code for a v8 sparc.  */\n #define TARGET_V8 (target_flags & 64)\n \n-/* Nonzero means that we should generate code for a sparclite.  */\n+/* Nonzero means that we should generate code for a sparclite.\n+   This enables the sparclite specific instructions, but does not affect\n+   whether FPU instructions are emitted.  */\n #define TARGET_SPARCLITE (target_flags & 128)\n \n /* Nonzero means that we should generate code using a flat register window\n@@ -139,6 +142,11 @@ extern int target_flags;\n    where VALUE is the bits to set or minus the bits to clear.\n    An empty string NAME is used to identify the default VALUE.  */\n \n+/* The Fujitsu MB86930 is the original sparclite chip, with no fpu.\n+   The Fujitsu MB86934 is the recent sparclite chip, with an fup.\n+   We use -mf930 and -mf934 options to choose which.\n+   ??? These should perhaps be -mcpu= options.  */\n+\n #define TARGET_SWITCHES  \\\n   { {\"fpu\", 1},\t\t\t\\\n     {\"no-fpu\", -1},\t\t\\\n@@ -151,13 +159,14 @@ extern int target_flags;\n     {\"v8\", 64},\t\t\t\\\n     {\"no-v8\", -64},\t\t\\\n     {\"sparclite\", 128},\t\t\\\n-    {\"sparclite\", -1},\t\t\\\n     {\"no-sparclite\", -128},\t\\\n-    {\"no-sparclite\", 1},\t\\\n /*  {\"frw\", 256}, */\t\t\\\n /*  {\"no-frw\", -256}, */\t\\\n /*  {\"frw-compat\", 256+512}, */\t\\\n /*  {\"no-frw-compat\", -(256+512)}, */ \\\n+    {\"f930\", 128},\t\t\\\n+    {\"f930\", -1},\t\t\\\n+    {\"f934\", 128},\t\t\\\n     SUBTARGET_SWITCHES\t\t\\\n     { \"\", TARGET_DEFAULT}}\n "}]}