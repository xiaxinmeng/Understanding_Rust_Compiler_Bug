{"sha": "f34ce44b670778710e649492922f9f4ef349060b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjM0Y2U0NGI2NzA3Nzg3MTBlNjQ5NDkyOTIyZjlmNGVmMzQ5MDYwYg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-03-01T17:11:55Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-03-01T17:11:55Z"}, "message": "compiler: Fix varargs functions that call recover.\n\nAlso fix a couple of crashes on invalid code.\n\nFrom-SVN: r184751", "tree": {"sha": "d7986db2f9960b6ae45f605cf45c83b49e148eec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d7986db2f9960b6ae45f605cf45c83b49e148eec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f34ce44b670778710e649492922f9f4ef349060b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f34ce44b670778710e649492922f9f4ef349060b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f34ce44b670778710e649492922f9f4ef349060b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f34ce44b670778710e649492922f9f4ef349060b/comments", "author": null, "committer": null, "parents": [{"sha": "0f68ba3ea390e3b71320cc3bf70deedbb9534223", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f68ba3ea390e3b71320cc3bf70deedbb9534223", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f68ba3ea390e3b71320cc3bf70deedbb9534223"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "0a3f2050dd4ab7c3562f363fb3437787fa2e4962", "filename": "gcc/go/gofrontend/expressions.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f34ce44b670778710e649492922f9f4ef349060b/gcc%2Fgo%2Fgofrontend%2Fexpressions.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f34ce44b670778710e649492922f9f4ef349060b/gcc%2Fgo%2Fgofrontend%2Fexpressions.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.h?ref=f34ce44b670778710e649492922f9f4ef349060b", "patch": "@@ -1066,6 +1066,10 @@ class Set_and_use_temporary_expression : public Expression\n   { return this->expr_; }\n \n  protected:\n+  int\n+  do_traverse(Traverse* traverse)\n+  { return Expression::traverse(&this->expr_, traverse); }\n+\n   Type*\n   do_type();\n "}, {"sha": "ca57aea26ee20ac2bcfc74ee914e29567d82c847", "filename": "gcc/go/gofrontend/gogo.cc", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f34ce44b670778710e649492922f9f4ef349060b/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f34ce44b670778710e649492922f9f4ef349060b/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.cc?ref=f34ce44b670778710e649492922f9f4ef349060b", "patch": "@@ -2500,6 +2500,9 @@ Build_recover_thunks::function(Named_object* orig_no)\n \n   Call_expression* call = Expression::make_call(fn, args, false, location);\n \n+  // Any varargs call has already been lowered.\n+  call->set_varargs_are_lowered();\n+\n   Statement* s;\n   if (orig_fntype->results() == NULL || orig_fntype->results()->empty())\n     s = Statement::make_statement(call, true);\n@@ -5346,5 +5349,5 @@ Statement_inserter::insert(Statement* s)\n   else if (this->var_ != NULL)\n     this->var_->add_preinit_statement(this->gogo_, s);\n   else\n-    go_unreachable();\n+    go_assert(saw_errors());\n }"}]}