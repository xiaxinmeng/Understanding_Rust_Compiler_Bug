{"sha": "aeaa0f2fc0bc4f6aa5b58b02063908d2ef5a71cd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWVhYTBmMmZjMGJjNGY2YWE1YjU4YjAyMDYzOTA4ZDJlZjVhNzFjZA==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@doctormoo.dyndns.org", "date": "2002-04-30T03:16:53Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2002-04-30T03:16:53Z"}, "message": "* configure.in: replace '[' with 'test'\n\nFrom-SVN: r52925", "tree": {"sha": "ef4eb7fdc345685c8d24e70b4fb6d0bbee79b070", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ef4eb7fdc345685c8d24e70b4fb6d0bbee79b070"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aeaa0f2fc0bc4f6aa5b58b02063908d2ef5a71cd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aeaa0f2fc0bc4f6aa5b58b02063908d2ef5a71cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aeaa0f2fc0bc4f6aa5b58b02063908d2ef5a71cd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aeaa0f2fc0bc4f6aa5b58b02063908d2ef5a71cd/comments", "author": null, "committer": null, "parents": [{"sha": "4bb98828a0d4cd2af77f70e1fbbfb9c1435bf938", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bb98828a0d4cd2af77f70e1fbbfb9c1435bf938", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4bb98828a0d4cd2af77f70e1fbbfb9c1435bf938"}], "stats": {"total": 154, "additions": 81, "deletions": 73}, "files": [{"sha": "2fc36819b54d35ae1ba17485cbdd1a000c92d631", "filename": "ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aeaa0f2fc0bc4f6aa5b58b02063908d2ef5a71cd/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aeaa0f2fc0bc4f6aa5b58b02063908d2ef5a71cd/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=aeaa0f2fc0bc4f6aa5b58b02063908d2ef5a71cd", "patch": "@@ -1,5 +1,7 @@\n 2002-04-29  Nathanael Nerode  <neroden@doctormoo.dyndns.org>\n \n+\t* configure.in: replace '[' with 'test'\n+\n \t* configure.in: Eliminate references to gash.\n \t* Makefile.in: Eliminate references to gash.\n "}, {"sha": "7e3c37f4800d573c439a60a99245bc44450824a1", "filename": "configure.in", "status": "modified", "additions": 79, "deletions": 73, "changes": 152, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aeaa0f2fc0bc4f6aa5b58b02063908d2ef5a71cd/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aeaa0f2fc0bc4f6aa5b58b02063908d2ef5a71cd/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=aeaa0f2fc0bc4f6aa5b58b02063908d2ef5a71cd", "patch": "@@ -120,7 +120,7 @@ appdirs=\"\"\n \n # Work in distributions that contain no compiler tools, like Autoconf.\n tentative_cc=\"\"\n-if [ -d ${srcdir}/config ]; then\n+if test -d ${srcdir}/config ; then\n case \"${host}\" in\n   m68k-hp-hpux*)\n     # Avoid \"too much defining\" errors from HPUX compiler.\n@@ -301,7 +301,7 @@ fi\n # If we aren't going to be using gcc, see if we can extract a definition\n # of CC from the fragment.\n # Actually, use the 'pre-extracted' version above.\n-if [ -z \"${CC}\" ] && [ \"${build}\" = \"${host}\" ]; then\n+if test -z \"${CC}\" && test \"${build}\" = \"${host}\" ; then\n   IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n   found=\n   for dir in $PATH; do\n@@ -312,14 +312,14 @@ if [ -z \"${CC}\" ] && [ \"${build}\" = \"${host}\" ]; then\n     fi\n   done\n   IFS=\"$save_ifs\"\n-  if [ -z \"${found}\" ] && [ -n \"${tentative_cc}\" ] ; then\n+  if test -z \"${found}\" && test -n \"${tentative_cc}\" ; then\n     CC=$tentative_cc\n   fi\n fi\n \n # We default to --with-shared on platforms where -fpic is meaningless.\n # Well, we don't yet, but we will.\n-if false && [ \"${host}\" = \"${target}\" ] && [ x${enable_shared} = x ]; then\n+if false && test \"${host}\" = \"${target}\" && test x${enable_shared} = x ; then\n   case \"${target}\" in\n     alpha*-dec-osf*)\tenable_shared=yes ;;\n     alpha*-*-linux*)\tenable_shared=yes ;;\n@@ -344,7 +344,7 @@ case \"${enable_shared}\" in\n esac\n \n rm -f mh-frag\n-if [ -n \"${host_makefile_frag}\" ] ; then\n+if test -n \"${host_makefile_frag}\" ; then\n   for f in ${host_makefile_frag}\n   do\n     cat ${srcdir}/$f >> mh-frag\n@@ -428,7 +428,7 @@ esac\n \n is_cross_compiler=\n \n-if [ x\"${host}\" = x\"${target}\" ] ; then\n+if test x\"${host}\" = x\"${target}\" ; then\n \t# when doing a native toolchain, don't build the targets\n \t# that are in the 'cross only' list\n \tskipdirs=\"${skipdirs} ${cross_only}\"\n@@ -444,7 +444,7 @@ fi\n # can reliably find it.\n target_subdir=${target_alias}\n \n-if [ ! -d ${target_subdir} ] ; then\n+if test ! -d ${target_subdir} ; then\n   if mkdir ${target_subdir} ; then true\n   else\n     echo \"'*** could not make ${PWD=`pwd`}/${target_subdir}\" 1>&2\n@@ -454,8 +454,8 @@ fi\n \n build_subdir=${build_alias}\n \n-if [ x\"${build_alias}\" != x\"${host}\" ] ; then\n-  if [ ! -d ${build_subdir} ] ; then\n+if test x\"${build_alias}\" != x\"${host}\" ; then\n+  if test ! -d ${build_subdir} ; then\n     if mkdir ${build_subdir} ; then true\n     else\n       echo \"'*** could not make ${PWD=`pwd`}/${build_subdir}\" 1>&2\n@@ -468,8 +468,8 @@ copy_dirs=\n \n # Handle --with-headers=XXX.  The contents of the named directory are\n # copied to $(tooldir)/sys-include.\n-if [ x\"${with_headers}\" != x ]; then\n-  if [ x${is_cross_compiler} = xno ]; then\n+if test x\"${with_headers}\" != x ; then\n+  if test x${is_cross_compiler} = xno ; then\n     echo 1>&2 '***' --with-headers is only supported when cross compiling\n     exit 1\n   fi\n@@ -482,8 +482,8 @@ fi\n \n # Handle --with-libs=XXX.  Multiple directories are permitted.  The\n # contents are copied to $(tooldir)/lib.\n-if [ x\"${with_libs}\" != x ]; then\n-  if [ x${is_cross_compiler} = xno ]; then\n+if test x\"${with_libs}\" != x ; then\n+  if test x${is_cross_compiler} = xno ; then\n     echo 1>&2 '***' --with-libs is only supported when cross compiling\n     exit 1\n   fi\n@@ -500,21 +500,21 @@ fi\n \n # If both --with-headers and --with-libs are specified, default to\n # --without-newlib.\n-if [ x\"${with_headers}\" != x ] && [ x\"${with_libs}\" != x ]; then\n-  if [ x\"${with_newlib}\" = x ]; then\n+if test x\"${with_headers}\" != x && test x\"${with_libs}\" != x ; then\n+  if test x\"${with_newlib}\" = x ; then\n     with_newlib=no\n   fi\n fi\n \n # Recognize --with-newlib/--without-newlib.\n-if [ x${with_newlib} = xno ]; then\n+if test x${with_newlib} = xno ; then\n   skipdirs=\"${skipdirs} target-newlib\"\n-elif [ x${with_newlib} = xyes ]; then\n+elif test x${with_newlib} = xyes ; then\n   skipdirs=`echo \" ${skipdirs} \" | sed -e 's/ target-newlib / /'`\n fi\n \n # Default to using --with-stabs for certain targets.\n-if [ x${with_stabs} = x ]; then\n+if test x${with_stabs} = x ; then\n   case \"${target}\" in\n   mips*-*-irix6*)\n     ;;\n@@ -528,15 +528,15 @@ fi\n # Handle ${copy_dirs}\n set fnord ${copy_dirs}\n shift\n-while [ $# != 0 ]; do\n-  if [ -f $2/COPIED ] && [ x\"`cat $2/COPIED`\" = x\"$1\" ]; then\n+while test $# != 0 ; do\n+  if test -f $2/COPIED && test x\"`cat $2/COPIED`\" = x\"$1\" ; then\n     :\n   else\n     echo Copying $1 to $2\n \n     # Use the install script to create the directory and all required\n     # parent directories.\n-    if [ -d $2 ]; then\n+    if test -d $2 ; then\n       :\n     else\n       echo >config.temp\n@@ -749,7 +749,7 @@ case \"${target}\" in\n     ;;\n   fr30-*-elf*)\n     noconfigdirs=\"$noconfigdirs ${libgcj}\"\n-    if [ x${is_cross_compiler} != xno ] ; then\n+    if test x${is_cross_compiler} != xno ; then\n \t   target_configdirs=\"${target_configdirs} target-bsp target-libstub target-cygmon\"\n     fi\n     ;;\n@@ -794,7 +794,7 @@ case \"${target}\" in\n     ;;\n   i[3456]86-*-coff | i[3456]86-*-elf)\n     noconfigdirs=\"$noconfigdirs ${libgcj}\"\n-    if [ x${is_cross_compiler} != xno ] ; then\n+    if test x${is_cross_compiler} != xno ; then\n          target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n     fi\n     ;;\n@@ -867,13 +867,13 @@ case \"${target}\" in\n     ;;\n   m68k-*-elf*)\n     noconfigdirs=\"$noconfigdirs ${libgcj}\"\n-    if [ x${is_cross_compiler} != xno ] ; then\n+    if test x${is_cross_compiler} != xno ; then\n \t   target_configdirs=\"${target_configdirs} target-bsp target-cygmon\"\n     fi\n     ;;\n   m68k-*-coff*)\n     noconfigdirs=\"$noconfigdirs ${libgcj}\"\n-    if [ x${is_cross_compiler} != xno ] ; then\n+    if test x${is_cross_compiler} != xno ; then\n \t   target_configdirs=\"${target_configdirs} target-bsp target-cygmon\"\n     fi\n     ;;\n@@ -887,13 +887,13 @@ case \"${target}\" in\n     ;;\n   mn10200-*-*)\n     noconfigdirs=\"$noconfigdirs ${libgcj}\"\n-    if [ x${is_cross_compiler} != xno ] ; then\n+    if test x${is_cross_compiler} != xno ; then\n \t   target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n     fi\n     ;;\n   mn10300-*-*)\n     noconfigdirs=\"$noconfigdirs ${libgcj}\"\n-    if [ x${is_cross_compiler} != xno ] ; then\n+    if test x${is_cross_compiler} != xno ; then\n \t   target_configdirs=\"${target_configdirs} target-bsp target-libstub target-cygmon\"\n     fi\n     ;;\n@@ -917,7 +917,7 @@ case \"${target}\" in\n     ;;\n   powerpc-*-eabi)\n     noconfigdirs=\"$noconfigdirs ${libgcj}\"\n-    if [ x${is_cross_compiler} != xno ] ; then\n+    if test x${is_cross_compiler} != xno ; then\n \t   target_configdirs=\"${target_configdirs} target-bsp target-libstub target-cygmon\"\n     fi\n     ;;\n@@ -981,26 +981,26 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs target-libgloss ${libgcj}\"\n     ;;\n   sparc-*-elf*)\n-    if [ x${is_cross_compiler} != xno ] ; then\n+    if test x${is_cross_compiler} != xno ; then\n \t   target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n     fi\n     noconfigdirs=\"$noconfigdirs ${libgcj}\"\n     ;;\n   sparc64-*-elf*)\n-    if [ x${is_cross_compiler} != xno ] ; then\n+    if test x${is_cross_compiler} != xno ; then\n \t   target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n     fi\n     noconfigdirs=\"$noconfigdirs ${libgcj}\"\n     ;;\n   sparclite-*-*)\n-    if [ x${is_cross_compiler} != xno ] ; then\n+    if test x${is_cross_compiler} != xno ; then\n \t   target_configdirs=\"${target_configdirs} target-bsp target-libstub target-cygmon\"\n     fi\n     noconfigdirs=\"$noconfigdirs ${libgcj}\"\n     ;;\n   sparc-*-sunos4*)\n     noconfigdirs=\"$noconfigdirs ${libgcj}\"\n-    if [ x${is_cross_compiler} != xno ] ; then\n+    if test x${is_cross_compiler} != xno ; then\n            noconfigdirs=\"$noconfigdirs gdb gdbtest target-newlib target-libgloss\"\n     else\n            use_gnu_ld=no\n@@ -1048,13 +1048,13 @@ case \"${noconfigdirs}\" in\n esac\n \n # Make sure we don't let GNU ld be added if we didn't want it.\n-if [ x$with_gnu_ld = xno ]; then\n+if test x$with_gnu_ld = xno ; then\n   use_gnu_ld=no\n   noconfigdirs=\"$noconfigdirs ld\"\n fi\n \n # Make sure we don't let GNU as be added if we didn't want it.\n-if [ x$with_gnu_as = xno ]; then\n+if test x$with_gnu_as = xno ; then\n   use_gnu_as=no\n   noconfigdirs=\"$noconfigdirs gas\"\n fi\n@@ -1153,21 +1153,21 @@ done\n notsupp=\"\"\n for dir in . $skipdirs $noconfigdirs ; do\n   dirname=`echo $dir | sed -e s/target-//g`\n-  if [ $dir != . ]  && echo \" ${configdirs} \" | grep \" ${dir} \" >/dev/null 2>&1; then\n+  if test $dir != .  && echo \" ${configdirs} \" | grep \" ${dir} \" >/dev/null 2>&1; then\n     configdirs=`echo \" ${configdirs} \" | sed -e \"s/ ${dir} / /\"`\n-    if [ -r $srcdir/$dirname/configure ] \\\n-\t|| [ -r $srcdir/$dirname/configure.in ]; then\n+    if test -r $srcdir/$dirname/configure \\\n+\t|| test -r $srcdir/$dirname/configure.in ; then\n       if echo \" ${skipdirs} \" | grep \" ${dir} \" >/dev/null 2>&1; then\n \ttrue\n       else\n \tnotsupp=\"$notsupp $dir\"\n       fi\n     fi\n   fi\n-  if [ $dir != . ]  && echo \" ${target_configdirs} \" | grep \" ${dir} \" >/dev/null 2>&1; then\n+  if test $dir != . && echo \" ${target_configdirs} \" | grep \" ${dir} \" >/dev/null 2>&1; then\n     target_configdirs=`echo \" ${target_configdirs} \" | sed -e \"s/ ${dir} / /\"`\n-    if [ -r $srcdir/$dirname/configure ] \\\n-\t|| [ -r $srcdir/$dirname/configure.in ]; then\n+    if test -r $srcdir/$dirname/configure \\\n+\t|| test -r $srcdir/$dirname/configure.in ; then\n       if echo \" ${skipdirs} \" | grep \" ${dir} \" >/dev/null 2>&1; then\n \ttrue\n       else\n@@ -1179,30 +1179,30 @@ done\n \n # Sometimes the tools are distributed with libiberty but with no other\n # libraries.  In that case, we don't want to build target-libiberty.\n-if [ -n \"${target_configdirs}\" ]; then\n+if test -n \"${target_configdirs}\" ; then\n   others=\n   for i in `echo ${target_configdirs} | sed -e s/target-//g` ; do\n-    if [ \"$i\" != \"libiberty\" ]; then\n-      if [ -r $srcdir/$i/configure ] || [ -r $srcdir/$i/configure.in ]; then\n+    if test \"$i\" != \"libiberty\" ; then\n+      if test -r $srcdir/$i/configure || test -r $srcdir/$i/configure.in ; then\n \tothers=yes;\n \tbreak;\n       fi\n     fi\n   done\n-  if [ -z \"${others}\" ]; then\n+  if test -z \"${others}\" ; then\n     target_configdirs=\n   fi\n fi\n \n # Deconfigure all subdirectories, in case we are changing the\n # configuration from one where a subdirectory is supported to one where it\n # is not.\n-if [ -z \"${norecursion}\" ] && [ -n \"${configdirs}\" ]; then\n+if test -z \"${norecursion}\" && test -n \"${configdirs}\" ; then\n   for i in `echo ${configdirs} | sed -e s/target-//g` ; do\n     rm -f $i/Makefile\n   done\n fi\n-if [ -z \"${norecursion}\" ] && [ -n \"${target_configdirs}\" ]; then\n+if test -z \"${norecursion}\" && test -n \"${target_configdirs}\" ; then\n   for i in `echo ${target_configdirs} | sed -e s/target-//g` ; do\n     rm -f ${target_subdir}/$i/Makefile\n   done\n@@ -1232,14 +1232,14 @@ done\n # FSF releases, it's important to let people know when their machine isn't\n # supported by the one or two programs in a package.\n \n-if [ -n \"${notsupp}\" ] && [ -z \"${norecursion}\" ]; then\n+if test -n \"${notsupp}\" && test -z \"${norecursion}\" ; then\n   # If $appdirs is non-empty, at least one of those directories must still\n   # be configured, or we error out.  (E.g., if the gas release supports a\n   # specified target in some subdirs but not the gas subdir, we shouldn't\n   # pretend that all is well.)\n-  if [ -n \"$appdirs\" ]; then\n+  if test -n \"$appdirs\" ; then\n     for dir in $appdirs ; do\n-      if [ -r $dir/Makefile.in ]; then\n+      if test -r $dir/Makefile.in ; then\n \tif echo \" ${configdirs} \" | grep \" ${dir} \" >/dev/null 2>&1; then\n \t  appdirs=\"\"\n \t  break\n@@ -1250,7 +1250,7 @@ if [ -n \"${notsupp}\" ] && [ -z \"${norecursion}\" ]; then\n \tfi\n       fi\n     done\n-    if [ -n \"$appdirs\" ]; then\n+    if test -n \"$appdirs\" ; then\n       echo \"*** This configuration is not supported by this package.\" 1>&2\n       exit 1\n     fi\n@@ -1275,15 +1275,15 @@ fi\n # want to do that, then you should use the --without-gnu-as and\n # --without-gnu-ld options for the configure script.\n \n-if [ x${use_gnu_as} = x ] ; then\n-  if [ x${with_gnu_as} != xno ] && echo \" ${configdirs} \" | grep \" ${gasdir} \" > /dev/null 2>&1 && [ -d ${srcdir}/${gasdir} ] ; then\n+if test x${use_gnu_as} = x ; then\n+  if test x${with_gnu_as} != xno && echo \" ${configdirs} \" | grep \" ${gasdir} \" > /dev/null 2>&1 && test -d ${srcdir}/${gasdir} ; then\n     with_gnu_as=yes\n     withoptions=\"$withoptions --with-gnu-as\"\n   fi\n fi\n \n-if [ x${use_gnu_ld} = x ] ; then\n-  if [ x${with_gnu_ld} != xno ] && echo \" ${configdirs} \" | grep \" ld \" > /dev/null 2>&1 && [ -d ${srcdir}/ld ] ; then\n+if test x${use_gnu_ld} = x ; then\n+  if test x${with_gnu_ld} != xno && echo \" ${configdirs} \" | grep \" ld \" > /dev/null 2>&1 && test -d ${srcdir}/ld ; then\n     with_gnu_ld=yes\n     withoptions=\"$withoptions --with-gnu-ld\"\n   fi\n@@ -1292,13 +1292,13 @@ fi\n # If using newlib, add --with-newlib to the withoptions so that gcc/configure\n # can detect this case.\n \n-if [ x${with_newlib} != xno ] && echo \" ${target_configdirs} \" | grep \" target-newlib \" > /dev/null 2>&1 && [ -d ${srcdir}/newlib ] ; then\n+if test x${with_newlib} != xno && echo \" ${target_configdirs} \" | grep \" target-newlib \" > /dev/null 2>&1 && test -d ${srcdir}/newlib ; then\n   with_newlib=yes\n   withoptions=\"$withoptions --with-newlib\"\n fi\n \n rm -f mt-frag\n-if [ -n \"${target_makefile_frag}\" ] ; then\n+if test -n \"${target_makefile_frag}\" ; then\n   for f in ${target_makefile_frag}\n   do\n     cat ${srcdir}/$f >> mt-frag\n@@ -1312,33 +1312,39 @@ fi\n # can't, we are probably in trouble.  We don't care whether we can run the\n # executable--we might be using a cross compiler--we only care whether it\n # can be created.  At this point the main configure script has set CC.\n+we_are_ok=no\n echo \"int main () { return 0; }\" > conftest.c\n ${CC} -o conftest ${CFLAGS} ${CPPFLAGS} ${LDFLAGS} conftest.c\n-if [ $? = 0 ] && [ -s conftest -o -s conftest.exe ]; then\n-  :\n-else\n-  echo 1>&2 \"*** The command '${CC} -o conftest ${CFLAGS} ${CPPFLAGS} ${LDFLAGS} conftest.c' failed.\"\n-  echo 1>&2 \"*** You must set the environment variable CC to a working compiler.\"\n-  rm -f conftest*\n-  exit 1\n-fi\n+if test $? = 0 ; then\n+  if test -s conftest || test -s conftest.exe ; then\n+    we_are_ok=yes\n+  fi\n+fi \n+case $we_are_ok in\n+  no)\n+    echo 1>&2 \"*** The command '${CC} -o conftest ${CFLAGS} ${CPPFLAGS} ${LDFLAGS} conftest.c' failed.\"\n+    echo 1>&2 \"*** You must set the environment variable CC to a working compiler.\"\n+    rm -f conftest*\n+    exit 1\n+    ;;\n+esac\n rm -f conftest*\n \n # The Solaris /usr/ucb/cc compiler does not appear to work.\n case \"${host}\" in\n   sparc-sun-solaris2*)\n       CCBASE=\"`echo ${CC-cc} | sed 's/ .*$//'`\"\n-      if [ \"`type $CCBASE | sed 's/^[^/]*//'`\" = \"/usr/ucb/cc\" ] ; then\n+      if test \"`type $CCBASE | sed 's/^[^/]*//'`\" = \"/usr/ucb/cc\" ; then\n           could_use=\n-          [ -d /opt/SUNWspro/bin ] && could_use=\"/opt/SUNWspro/bin\"\n-          if [ -d /opt/cygnus/bin ] ; then\n-              if [ \"$could_use\" = \"\" ] ; then\n+          test -d /opt/SUNWspro/bin && could_use=\"/opt/SUNWspro/bin\"\n+          if test -d /opt/cygnus/bin ; then\n+              if test \"$could_use\" = \"\" ; then\n                   could_use=\"/opt/cygnus/bin\"\n               else\n                   could_use=\"$could_use or /opt/cygnus/bin\"\n               fi\n           fi\n-        if [ \"$could_use\" = \"\" ] ; then\n+        if test \"$could_use\" = \"\" ; then\n             echo \"Warning: compilation may fail because you're using\"\n             echo \"/usr/ucb/cc.  You should change your PATH or CC \"\n             echo \"variable and rerun configure.\"\n@@ -1381,7 +1387,7 @@ fi\n \n # If --enable-shared was set, we must set LD_LIBRARY_PATH so that the\n # binutils tools will find libbfd.so.\n-if [ \"${shared}\" = \"yes\" ]; then\n+if test \"${shared}\" = \"yes\" ; then\n   sed -e 's/^SET_LIB_PATH[ \t]*=.*$/SET_LIB_PATH = $(REALLY_SET_LIB_PATH)/' \\\n       Makefile > Makefile.tem\n   rm -f Makefile\n@@ -1417,18 +1423,18 @@ buildargs=\"--cache-file=../config.cache --build=${build_alias} --host=${build_al\n # native.  However, it would be better to use other mechanisms to make the\n # sorts of decisions they want to make on this basis.  Please consider\n # this option to be deprecated.  FIXME.\n-if [ x${is_cross_compiler} = xyes ]; then\n+if test x${is_cross_compiler} = xyes ; then\n   targargs=\"--with-cross-host=${host_alias} ${targargs}\"\n fi\n \n # Default to --enable-multilib.\n-if [ x${enable_multilib} = x ]; then\n+if test x${enable_multilib} = x ; then\n   targargs=\"--enable-multilib ${targargs}\"\n fi\n \n # Pass --with-newlib if appropriate.  Note that target_configdirs has\n # changed from the earlier setting of with_newlib.\n-if [ x${with_newlib} != xno ] && echo \" ${target_configdirs} \" | grep \" newlib \" > /dev/null 2>&1 && [ -d ${srcdir}/newlib ] ; then\n+if test x${with_newlib} != xno && echo \" ${target_configdirs} \" | grep \" newlib \" > /dev/null 2>&1 && test -d ${srcdir}/newlib ; then\n   targargs=\"--with-newlib ${targargs}\"\n fi\n "}]}