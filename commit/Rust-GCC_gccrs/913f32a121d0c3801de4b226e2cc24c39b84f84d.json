{"sha": "913f32a121d0c3801de4b226e2cc24c39b84f84d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTEzZjMyYTEyMWQwYzM4MDFkZTRiMjI2ZTJjYzI0YzM5Yjg0Zjg0ZA==", "commit": {"author": {"name": "Marat Zakirov", "email": "m.zakirov@samsung.com", "date": "2014-10-13T10:44:45Z"}, "committer": {"name": "Marat Zakirov", "email": "mzakirov@gcc.gnu.org", "date": "2014-10-13T10:44:45Z"}, "message": "asan.c (instrument_derefs): BIT_FIELD_REF added.\n\ngcc/ChangeLog:\n\n2014-09-19  Marat Zakirov  <m.zakirov@samsung.com>\n\n\t* asan.c (instrument_derefs): BIT_FIELD_REF added.\n\ngcc/testsuite/ChangeLog:\n\n2014-09-19  Marat Zakirov  <m.zakirov@samsung.com>\n\n\t* c-c++-common/asan/bitfield-5.c: New test.\n\nFrom-SVN: r216144", "tree": {"sha": "6dae693f0bef674747471944ac942c184fa0110a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6dae693f0bef674747471944ac942c184fa0110a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/913f32a121d0c3801de4b226e2cc24c39b84f84d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/913f32a121d0c3801de4b226e2cc24c39b84f84d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/913f32a121d0c3801de4b226e2cc24c39b84f84d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/913f32a121d0c3801de4b226e2cc24c39b84f84d/comments", "author": null, "committer": null, "parents": [{"sha": "2f6ca9d31799133f80e446bd1faad5d9a67bac00", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f6ca9d31799133f80e446bd1faad5d9a67bac00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f6ca9d31799133f80e446bd1faad5d9a67bac00"}], "stats": {"total": 33, "additions": 33, "deletions": 0}, "files": [{"sha": "667da04f2bde46faa6f6fb92aa933d1eadaef1d1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/913f32a121d0c3801de4b226e2cc24c39b84f84d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/913f32a121d0c3801de4b226e2cc24c39b84f84d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=913f32a121d0c3801de4b226e2cc24c39b84f84d", "patch": "@@ -1,3 +1,7 @@\n+2014-10-13  Marat Zakirov  <m.zakirov@samsung.com>\n+\n+\t* asan.c (instrument_derefs): BIT_FIELD_REF added.\n+\n 2014-10-13  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/63419"}, {"sha": "2a61a8243d31c86545c560d7ecd9ef3255fd1fe8", "filename": "gcc/asan.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/913f32a121d0c3801de4b226e2cc24c39b84f84d/gcc%2Fasan.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/913f32a121d0c3801de4b226e2cc24c39b84f84d/gcc%2Fasan.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fasan.c?ref=913f32a121d0c3801de4b226e2cc24c39b84f84d", "patch": "@@ -1711,6 +1711,7 @@ instrument_derefs (gimple_stmt_iterator *iter, tree t,\n     case INDIRECT_REF:\n     case MEM_REF:\n     case VAR_DECL:\n+    case BIT_FIELD_REF:\n       break;\n       /* FALLTHRU */\n     default:"}, {"sha": "2134ada323d4cb1a92a9dd7d489e6cf2a9145a31", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/913f32a121d0c3801de4b226e2cc24c39b84f84d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/913f32a121d0c3801de4b226e2cc24c39b84f84d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=913f32a121d0c3801de4b226e2cc24c39b84f84d", "patch": "@@ -1,3 +1,7 @@\n+2014-09-19  Marat Zakirov  <m.zakirov@samsung.com>\n+\n+\t* c-c++-common/asan/bitfield-5.c: New test.\n+\n 2014-10-13  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/63419"}, {"sha": "eb5e9e9fe07ac98b4feb376db3791284f4b8fd60", "filename": "gcc/testsuite/c-c++-common/asan/bitfield-5.c", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/913f32a121d0c3801de4b226e2cc24c39b84f84d/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fbitfield-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/913f32a121d0c3801de4b226e2cc24c39b84f84d/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fbitfield-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fbitfield-5.c?ref=913f32a121d0c3801de4b226e2cc24c39b84f84d", "patch": "@@ -0,0 +1,24 @@\n+/* Check BIT_FIELD_REF.  */\n+\n+/* { dg-do run } */\n+/* { dg-shouldfail \"asan\" } */\n+\n+struct A\n+{\n+  int y : 20;\n+  int x : 13;\n+};\n+\n+int __attribute__ ((noinline, noclone))\n+f (void *p) {\n+  return ((struct A *)p)->x != 0;\n+}\n+\n+int\n+main ()\n+{\n+  int a = 0;\n+  return f (&a);\n+}\n+\n+/* { dg-output \"ERROR: AddressSanitizer: stack-buffer-overflow\" } */"}]}