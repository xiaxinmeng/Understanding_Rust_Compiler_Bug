{"sha": "5f97de0ac982f8439ca78db6652fb722fe4fafe9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWY5N2RlMGFjOTgyZjg0MzljYTc4ZGI2NjUyZmI3MjJmZTRmYWZlOQ==", "commit": {"author": {"name": "Doug Evans", "email": "devans@canuck.cygnus.com", "date": "1998-07-31T12:29:10Z"}, "committer": {"name": "Doug Evans", "email": "devans@gcc.gnu.org", "date": "1998-07-31T12:29:10Z"}, "message": "m32r.h (ASM_OUTPUT_SOURCE_LINE): Always output line number labels with .debugsym if no parallel insns.\n\n\t* m32r/m32r.h (ASM_OUTPUT_SOURCE_LINE): Always output line number\n\tlabels with .debugsym if no parallel insns.\n\nFrom-SVN: r21504", "tree": {"sha": "c21fca1a35a65b30c94874b433dd828a478f1eb9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c21fca1a35a65b30c94874b433dd828a478f1eb9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5f97de0ac982f8439ca78db6652fb722fe4fafe9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f97de0ac982f8439ca78db6652fb722fe4fafe9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f97de0ac982f8439ca78db6652fb722fe4fafe9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f97de0ac982f8439ca78db6652fb722fe4fafe9/comments", "author": null, "committer": null, "parents": [{"sha": "0a5d08b853c3eb9f50296cc295fb5768d5cfb40f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a5d08b853c3eb9f50296cc295fb5768d5cfb40f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0a5d08b853c3eb9f50296cc295fb5768d5cfb40f"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "f82a3214d141a3f1b981b824d26b95b44a85232f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f97de0ac982f8439ca78db6652fb722fe4fafe9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f97de0ac982f8439ca78db6652fb722fe4fafe9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5f97de0ac982f8439ca78db6652fb722fe4fafe9", "patch": "@@ -1,3 +1,8 @@\n+Fri Jul 31 10:23:55 1998  Doug Evans  <devans@canuck.cygnus.com>\n+\n+\t* m32r/m32r.h (ASM_OUTPUT_SOURCE_LINE): Always output line number\n+\tlabels with .debugsym if no parallel insns.\n+\n Thu Jul 30 19:15:53 1998  Richard Henderson  <rth@cygnus.com>\n \n \t* alpha.md (fp cmp): Replicate patterns for ALPHA_TP_INSN."}, {"sha": "5a93d7a15d73930e410a9c093fe61b5515b7c709", "filename": "gcc/config/m32r/m32r.h", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f97de0ac982f8439ca78db6652fb722fe4fafe9/gcc%2Fconfig%2Fm32r%2Fm32r.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f97de0ac982f8439ca78db6652fb722fe4fafe9/gcc%2Fconfig%2Fm32r%2Fm32r.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32r%2Fm32r.h?ref=5f97de0ac982f8439ca78db6652fb722fe4fafe9", "patch": "@@ -1663,8 +1663,13 @@ do {\t\t\t\t\t\t\t\\\n   fprintf (FILE, \"%s%s\", USER_LABEL_PREFIX, real_name);\t\\\n } while (0)           \n \n-/* For the m32r if -Os, don't force line number label to begin\n-   at the beginning of the word.  */\n+/* If -Os, don't force line number labels to begin at the beginning of\n+   the word; we still want the assembler to try to put things in parallel,\n+   should that be possible.\n+   For m32r/d, instructions are never in parallel (other than with a nop)\n+   and the simulator and stub both handle a breakpoint in the middle of\n+   a word so don't ever force line number labels to begin at the beginning\n+   of a word.  */\n \n #undef\tASM_OUTPUT_SOURCE_LINE\n #define ASM_OUTPUT_SOURCE_LINE(file, line)\t\t\t\t\\\n@@ -1676,7 +1681,9 @@ do\t\t\t\t\t\t\t\t\t\\\n     assemble_name (file,\t\t\t\t\t\t\\\n \t\t   XSTR (XEXP (DECL_RTL (current_function_decl), 0), 0));\\\n     fprintf (file,\t\t\t\t\t\t\t\\\n-\t     (optimize_size) ? \"\\n\\t.debugsym .LM%d\\n\" : \"\\n.LM%d:\\n\",\t\\\n+\t     (optimize_size || TARGET_M32R)\t\t\t\t\\\n+\t     ? \"\\n\\t.debugsym .LM%d\\n\"\t\t\t\t\t\\\n+\t     : \"\\n.LM%d:\\n\",\t\t\t\t\t\t\\\n \t     sym_lineno);\t\t\t\t\t\t\\\n     sym_lineno += 1;\t\t\t\t\t\t\t\\\n   }\t\t\t\t\t\t\t\t\t\\"}]}