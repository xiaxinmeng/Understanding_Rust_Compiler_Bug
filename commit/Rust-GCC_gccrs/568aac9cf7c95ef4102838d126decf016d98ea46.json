{"sha": "568aac9cf7c95ef4102838d126decf016d98ea46", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTY4YWFjOWNmN2M5NWVmNDEwMjgzOGQxMjZkZWNmMDE2ZDk4ZWE0Ng==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-12-13T22:36:24Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-12-13T22:36:24Z"}, "message": "parse.y (java_complete_lhs): Only allow compound assignment of reference type if type is String.\n\n\t* parse.y (java_complete_lhs): Only allow compound assignment of\n\treference type if type is String.\n\nCo-Authored-By: Alexandre Petit-Bianco <apbianco@cygnus.com>\n\nFrom-SVN: r38236", "tree": {"sha": "27f4bf893f61d052022eccda4447d0c5e56556cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/27f4bf893f61d052022eccda4447d0c5e56556cd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/568aac9cf7c95ef4102838d126decf016d98ea46", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/568aac9cf7c95ef4102838d126decf016d98ea46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/568aac9cf7c95ef4102838d126decf016d98ea46", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/568aac9cf7c95ef4102838d126decf016d98ea46/comments", "author": null, "committer": null, "parents": [{"sha": "47bf5e3a3327688b007a6f038bc35cbb4e27f1c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47bf5e3a3327688b007a6f038bc35cbb4e27f1c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47bf5e3a3327688b007a6f038bc35cbb4e27f1c8"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "5ed93c765e148de08f9a387ef2f4c8e3ca2ec000", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/568aac9cf7c95ef4102838d126decf016d98ea46/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/568aac9cf7c95ef4102838d126decf016d98ea46/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=568aac9cf7c95ef4102838d126decf016d98ea46", "patch": "@@ -1,3 +1,9 @@\n+2000-11-20  Tom Tromey  <tromey@cygnus.com>\n+            Alexandre Petit-Bianco  <apbianco@cygnus.com>\n+\n+\t* parse.y (java_complete_lhs): Only allow compound assignment of\n+\treference type if type is String.\n+\n 2000-12-09  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \n \t* Make-lang.in (java/jcf-path.o:): libgcj.jar replaces libgcj.zip."}, {"sha": "7761130b14c149d04ba0611f8e31d432b592ba10", "filename": "gcc/java/parse.y", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/568aac9cf7c95ef4102838d126decf016d98ea46/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/568aac9cf7c95ef4102838d126decf016d98ea46/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=568aac9cf7c95ef4102838d126decf016d98ea46", "patch": "@@ -11608,6 +11608,14 @@ java_complete_lhs (node)\n \t  nn = java_complete_tree (build_cast (EXPR_WFL_LINECOL (wfl_op2), \n \t\t\t\t\t       TREE_TYPE (lvalue), nn));\n \n+\t  /* If the assignment is compound and has reference type,\n+\t     then ensure the LHS has type String and nothing else.  */\n+\t  if (JREFERENCE_TYPE_P (TREE_TYPE (lvalue))\n+\t      && ! JSTRING_TYPE_P (TREE_TYPE (lvalue)))\n+\t    parse_error_context (wfl_op2,\n+\t\t\t\t \"Incompatible type for `+='. Can't convert `%s' to `java.lang.String'\",\n+\t\t\t\t lang_printable_name (TREE_TYPE (lvalue), 0));\n+\n \t  /* 15.25.2.b: Left hand is an array access. FIXME */\n \t}\n "}]}