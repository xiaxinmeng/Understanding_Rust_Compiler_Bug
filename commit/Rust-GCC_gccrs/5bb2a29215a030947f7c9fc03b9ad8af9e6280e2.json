{"sha": "5bb2a29215a030947f7c9fc03b9ad8af9e6280e2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWJiMmEyOTIxNWEwMzA5NDdmN2M5ZmMwM2I5YWQ4YWY5ZTYyODBlMg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2000-01-16T17:06:42Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2000-01-16T17:06:42Z"}, "message": "decl.c (init_decl_processing): Complain if -fnew-abi -fno-vtable-thunks is used.\n\n\t* decl.c (init_decl_processing): Complain if -fnew-abi\n\t-fno-vtable-thunks is used.\n\nFrom-SVN: r31441", "tree": {"sha": "e398c0c33981ff36a24e559a5896cc9119d50572", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e398c0c33981ff36a24e559a5896cc9119d50572"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5bb2a29215a030947f7c9fc03b9ad8af9e6280e2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bb2a29215a030947f7c9fc03b9ad8af9e6280e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5bb2a29215a030947f7c9fc03b9ad8af9e6280e2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bb2a29215a030947f7c9fc03b9ad8af9e6280e2/comments", "author": null, "committer": null, "parents": [{"sha": "84602ee016cdbb92fa65fd49b595e0000e915e0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84602ee016cdbb92fa65fd49b595e0000e915e0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84602ee016cdbb92fa65fd49b595e0000e915e0b"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "e4850d6cd5bad5c0ab6b896e2a828ef614864683", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5bb2a29215a030947f7c9fc03b9ad8af9e6280e2/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5bb2a29215a030947f7c9fc03b9ad8af9e6280e2/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=5bb2a29215a030947f7c9fc03b9ad8af9e6280e2", "patch": "@@ -1,5 +1,8 @@\n 2000-01-16  Mark Mitchell  <mark@codesourcery.com>\n \n+\t* decl.c (init_decl_processing): Complain if -fnew-abi\n+\t-fno-vtable-thunks is used.\n+\n \t* decl2.c (lang_decode_option): Don't couple flag_honor_std to\n \tflag_new_abi.\n "}, {"sha": "d8a57e56f2b119d284bb8ea500ea13e175ab11cf", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5bb2a29215a030947f7c9fc03b9ad8af9e6280e2/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5bb2a29215a030947f7c9fc03b9ad8af9e6280e2/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=5bb2a29215a030947f7c9fc03b9ad8af9e6280e2", "patch": "@@ -5956,6 +5956,11 @@ init_decl_processing ()\n   int wchar_type_size;\n   tree array_domain_type;\n \n+  /* Check to see that the user did not specify an invalid combination\n+     of command-line options.  */\n+  if (flag_new_abi && !flag_vtable_thunks)\n+    fatal (\"the new ABI requires vtable thunks\");\n+\n   /* Have to make these distinct before we try using them.  */\n   lang_name_cplusplus = get_identifier (\"C++\");\n   lang_name_c = get_identifier (\"C\");"}]}