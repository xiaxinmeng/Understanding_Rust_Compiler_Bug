{"sha": "f0a45d37ea0f0a85b25aef0b62899611aa8e401c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjBhNDVkMzdlYTBmMGE4NWIyNWFlZjBiNjI4OTk2MTFhYThlNDAxYw==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-05-29T20:12:30Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-05-29T20:12:30Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r1124", "tree": {"sha": "0db60040d62ff96334d78d7c9678c8e4eb35721b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0db60040d62ff96334d78d7c9678c8e4eb35721b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f0a45d37ea0f0a85b25aef0b62899611aa8e401c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0a45d37ea0f0a85b25aef0b62899611aa8e401c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f0a45d37ea0f0a85b25aef0b62899611aa8e401c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0a45d37ea0f0a85b25aef0b62899611aa8e401c/comments", "author": null, "committer": null, "parents": [{"sha": "19deaec9426ca88dcef09d23d18b0e16e07934e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19deaec9426ca88dcef09d23d18b0e16e07934e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19deaec9426ca88dcef09d23d18b0e16e07934e8"}], "stats": {"total": 15, "additions": 6, "deletions": 9}, "files": [{"sha": "5f24c59e9effdcc430e2c5e19cfe8212b6fc9b69", "filename": "gcc/c-decl.c", "status": "modified", "additions": 6, "deletions": 9, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0a45d37ea0f0a85b25aef0b62899611aa8e401c/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0a45d37ea0f0a85b25aef0b62899611aa8e401c/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=f0a45d37ea0f0a85b25aef0b62899611aa8e401c", "patch": "@@ -174,9 +174,6 @@ tree void_ftype_ptr_ptr_int, int_ftype_ptr_ptr_int, void_ftype_ptr_int_int;\n /* Function type `char *(char *, char *)' and similar ones */\n tree string_ftype_ptr_ptr, int_ftype_string_string;\n \n-/* Function type `size_t (const char *)' */\n-tree sizet_ftype_string;\n-\n /* Function type `int (const void *, const void *, size_t)' */\n tree int_ftype_cptr_cptr_sizet;\n \n@@ -2261,8 +2258,8 @@ init_decl_processing ()\n   register tree endlink;\n   /* Either char* or void*.  */\n   tree traditional_ptr_type_node;\n-  /* Data type of memcpy.  */\n-  tree memcpy_ftype;\n+  /* Data types of memcpy and strlen.  */\n+  tree memcpy_ftype, strlen_ftype;\n   tree void_ftype_any;\n   int wchar_type_size;\n   tree temp;\n@@ -2484,8 +2481,8 @@ init_decl_processing ()\n \t\t\t\t\t\t const_string_type_node,\n \t\t\t\t\t\t endlink)));\n \n-  sizet_ftype_string\t\t/* strlen prototype */\n-    = build_function_type (sizetype,\n+  strlen_ftype\t\t/* strlen prototype */\n+    = build_function_type (flag_traditional ? integer_type_node : sizetype,\n \t\t\t   tree_cons (NULL_TREE, const_string_type_node,\n \t\t\t\t      endlink));\n \n@@ -2578,7 +2575,7 @@ init_decl_processing ()\n \t\t    BUILT_IN_STRCMP, \"strcmp\");\n   builtin_function (\"__builtin_strcpy\", string_ftype_ptr_ptr,\n \t\t    BUILT_IN_STRCPY, \"strcpy\");\n-  builtin_function (\"__builtin_strlen\", sizet_ftype_string,\n+  builtin_function (\"__builtin_strlen\", strlen_ftype,\n \t\t    BUILT_IN_STRLEN, \"strlen\");\n   builtin_function (\"__builtin_fsqrt\", double_ftype_double, \n \t\t    BUILT_IN_FSQRT, \"sqrt\");\n@@ -2595,7 +2592,7 @@ init_decl_processing ()\n       builtin_function (\"memcmp\", int_ftype_cptr_cptr_sizet, BUILT_IN_MEMCMP, 0);\n       builtin_function (\"strcmp\", int_ftype_string_string, BUILT_IN_STRCMP, 0);\n       builtin_function (\"strcpy\", string_ftype_ptr_ptr, BUILT_IN_STRCPY, 0);\n-      builtin_function (\"strlen\", sizet_ftype_string, BUILT_IN_STRLEN, 0);\n+      builtin_function (\"strlen\", strlen_ftype, BUILT_IN_STRLEN, 0);\n       builtin_function (\"sqrt\", double_ftype_double, BUILT_IN_FSQRT, 0);\n \n       /* Declare these functions volatile"}]}