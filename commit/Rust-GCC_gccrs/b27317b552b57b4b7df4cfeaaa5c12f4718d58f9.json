{"sha": "b27317b552b57b4b7df4cfeaaa5c12f4718d58f9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjI3MzE3YjU1MmI1N2I0YjdkZjRjZmVhYWE1YzEyZjQ3MThkNThmOQ==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@redhat.com", "date": "2004-01-16T17:16:29Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "2004-01-16T17:16:29Z"}, "message": "configure.in (NO_EXECUTE_PERMISSION): Remove global declaration; add for ia64; remove for MIPS.\n\n2004-01-16  Andrew Haley  <aph@redhat.com>\n\n        * configure.in (NO_EXECUTE_PERMISSION): Remove global declaration;\n        add for ia64; remove for MIPS.\n        * configure: Regnerated.\n\nFrom-SVN: r75981", "tree": {"sha": "248bf8a2373dbbe00cae78359832d11a2aab7c06", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/248bf8a2373dbbe00cae78359832d11a2aab7c06"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b27317b552b57b4b7df4cfeaaa5c12f4718d58f9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b27317b552b57b4b7df4cfeaaa5c12f4718d58f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b27317b552b57b4b7df4cfeaaa5c12f4718d58f9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b27317b552b57b4b7df4cfeaaa5c12f4718d58f9/comments", "author": {"login": "theRealAph", "id": 254637, "node_id": "MDQ6VXNlcjI1NDYzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/254637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theRealAph", "html_url": "https://github.com/theRealAph", "followers_url": "https://api.github.com/users/theRealAph/followers", "following_url": "https://api.github.com/users/theRealAph/following{/other_user}", "gists_url": "https://api.github.com/users/theRealAph/gists{/gist_id}", "starred_url": "https://api.github.com/users/theRealAph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theRealAph/subscriptions", "organizations_url": "https://api.github.com/users/theRealAph/orgs", "repos_url": "https://api.github.com/users/theRealAph/repos", "events_url": "https://api.github.com/users/theRealAph/events{/privacy}", "received_events_url": "https://api.github.com/users/theRealAph/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e081a9c4c7807286757f2e8054f79cedcb67d5b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e081a9c4c7807286757f2e8054f79cedcb67d5b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e081a9c4c7807286757f2e8054f79cedcb67d5b2"}], "stats": {"total": 117, "additions": 66, "deletions": 51}, "files": [{"sha": "b590a1ff7253e81d465837e110ec65b339878cb7", "filename": "boehm-gc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b27317b552b57b4b7df4cfeaaa5c12f4718d58f9/boehm-gc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b27317b552b57b4b7df4cfeaaa5c12f4718d58f9/boehm-gc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2FChangeLog?ref=b27317b552b57b4b7df4cfeaaa5c12f4718d58f9", "patch": "@@ -1,3 +1,9 @@\n+2004-01-16  Andrew Haley  <aph@redhat.com>\n+\n+\t* configure.in (NO_EXECUTE_PERMISSION): Remove global declaration;\n+\tadd for ia64; remove for MIPS.\n+\t* configure: Regnerated.\n+\t\n 2004-01-14  Kelley Cook  <kcook@gcc.gnu.org>\n \n \t* configure.in: Add in AC_PREREQ(2.13)"}, {"sha": "3f8c583118c6037839b0ae49327ffcf5f5552d61", "filename": "boehm-gc/configure", "status": "modified", "additions": 53, "deletions": 49, "changes": 102, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b27317b552b57b4b7df4cfeaaa5c12f4718d58f9/boehm-gc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b27317b552b57b4b7df4cfeaaa5c12f4718d58f9/boehm-gc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2Fconfigure?ref=b27317b552b57b4b7df4cfeaaa5c12f4718d58f9", "patch": "@@ -1865,6 +1865,7 @@ cygwin* | mingw* |pw32*)\n   ;;\n \n darwin* | rhapsody*)\n+  # this will be overwritten by pass_all, but leave it in just in case\n   lt_cv_deplibs_check_method='file_magic Mach-O dynamically linked shared library'\n   lt_cv_file_magic_cmd='/usr/bin/file -L'\n   case \"$host_os\" in\n@@ -1875,6 +1876,7 @@ darwin* | rhapsody*)\n     lt_cv_file_magic_test_file='/usr/lib/libSystem.dylib'\n     ;;\n   esac\n+  lt_cv_deplibs_check_method=pass_all\n   ;;\n \n freebsd* )\n@@ -1999,13 +2001,13 @@ file_magic_cmd=$lt_cv_file_magic_cmd\n deplibs_check_method=$lt_cv_deplibs_check_method\n \n echo $ac_n \"checking for object suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:2003: checking for object suffix\" >&5\n+echo \"configure:2005: checking for object suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_objext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   rm -f conftest*\n echo 'int i = 1;' > conftest.$ac_ext\n-if { (eval echo configure:2009: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2011: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   for ac_file in conftest.*; do\n     case $ac_file in\n     *.c) ;;\n@@ -2029,7 +2031,7 @@ case $deplibs_check_method in\n file_magic*)\n   if test \"$file_magic_cmd\" = '$MAGIC_CMD'; then\n     echo $ac_n \"checking for ${ac_tool_prefix}file\"\"... $ac_c\" 1>&6\n-echo \"configure:2033: checking for ${ac_tool_prefix}file\" >&5\n+echo \"configure:2035: checking for ${ac_tool_prefix}file\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_path_MAGIC_CMD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2091,7 +2093,7 @@ fi\n if test -z \"$lt_cv_path_MAGIC_CMD\"; then\n   if test -n \"$ac_tool_prefix\"; then\n     echo $ac_n \"checking for file\"\"... $ac_c\" 1>&6\n-echo \"configure:2095: checking for file\" >&5\n+echo \"configure:2097: checking for file\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_path_MAGIC_CMD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2162,7 +2164,7 @@ esac\n # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2166: checking for $ac_word\" >&5\n+echo \"configure:2168: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2194,7 +2196,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2198: checking for $ac_word\" >&5\n+echo \"configure:2200: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2229,7 +2231,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}strip\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}strip; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2233: checking for $ac_word\" >&5\n+echo \"configure:2235: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2261,7 +2263,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"strip\", so it can be a program name with args.\n set dummy strip; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2265: checking for $ac_word\" >&5\n+echo \"configure:2267: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2328,8 +2330,8 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 2332 \"configure\"' > conftest.$ac_ext\n-  if { (eval echo configure:2333: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  echo '#line 2334 \"configure\"' > conftest.$ac_ext\n+  if { (eval echo configure:2335: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n    if test \"$lt_cv_prog_gnu_ld\" = yes; then\n     case `/usr/bin/file conftest.$ac_objext` in\n     *32-bit*)\n@@ -2362,7 +2364,7 @@ case $host in\n ia64-*-hpux*)\n   # Find out which ABI we are using.\n   echo 'int i;' > conftest.$ac_ext\n-  if { (eval echo configure:2366: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  if { (eval echo configure:2368: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n     case \"`/usr/bin/file conftest.o`\" in\n     *ELF-32*)\n       HPUX_IA64_MODE=\"32\"\n@@ -2378,7 +2380,7 @@ ia64-*-hpux*)\n x86_64-*linux*|ppc*-*linux*|powerpc*-*linux*|s390*-*linux*|sparc*-*linux*)\n   # Find out which ABI we are using.\n   echo 'int i;' > conftest.$ac_ext\n-  if { (eval echo configure:2382: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  if { (eval echo configure:2384: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n     case \"`/usr/bin/file conftest.o`\" in\n     *32-bit*)\n       case $host in\n@@ -2422,7 +2424,7 @@ x86_64-*linux*|ppc*-*linux*|powerpc*-*linux*|s390*-*linux*|sparc*-*linux*)\n   SAVE_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS -belf\"\n   echo $ac_n \"checking whether the C compiler needs -belf\"\"... $ac_c\" 1>&6\n-echo \"configure:2426: checking whether the C compiler needs -belf\" >&5\n+echo \"configure:2428: checking whether the C compiler needs -belf\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_cc_needs_belf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2435,14 +2437,14 @@ ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$a\n cross_compiling=$ac_cv_prog_cc_cross\n \n      cat > conftest.$ac_ext <<EOF\n-#line 2439 \"configure\"\n+#line 2441 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2446: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2448: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   lt_cv_cc_needs_belf=yes\n else\n@@ -2472,7 +2474,7 @@ echo \"$ac_t\"\"$lt_cv_cc_needs_belf\" 1>&6\n esac\n \n echo $ac_n \"checking how to run the C++ preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:2476: checking how to run the C++ preprocessor\" >&5\n+echo \"configure:2478: checking how to run the C++ preprocessor\" >&5\n if test -z \"$CXXCPP\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CXXCPP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -2485,12 +2487,12 @@ ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftes\n cross_compiling=$ac_cv_prog_cxx_cross\n   CXXCPP=\"${CXX-g++} -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2489 \"configure\"\n+#line 2491 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2494: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2496: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2637,7 +2639,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:2641: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:2643: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -2670,7 +2672,7 @@ if false; then\n   \n \n echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:2674: checking for executable suffix\" >&5\n+echo \"configure:2676: checking for executable suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2680,7 +2682,7 @@ else\n   rm -f conftest*\n   echo 'int main () { return 0; }' > conftest.$ac_ext\n   ac_cv_exeext=\n-  if { (eval echo configure:2684: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+  if { (eval echo configure:2686: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n       *.c | *.o | *.obj) ;;\n@@ -2703,7 +2705,7 @@ ac_exeext=$EXEEXT\n fi\n \n echo $ac_n \"checking for thread model used by GCC\"\"... $ac_c\" 1>&6\n-echo \"configure:2707: checking for thread model used by GCC\" >&5\n+echo \"configure:2709: checking for thread model used by GCC\" >&5\n THREADS=`$CC -v 2>&1 | sed -n 's/^Thread model: //p'`\n if test -z \"$THREADS\"; then\n    THREADS=no\n@@ -2937,15 +2939,15 @@ case \"$host\" in\n   *-*-darwin*) ;;\n   *) \n     echo $ac_n \"checking for dlopen in -ldl\"\"... $ac_c\" 1>&6\n-echo \"configure:2941: checking for dlopen in -ldl\" >&5\n+echo \"configure:2943: checking for dlopen in -ldl\" >&5\n ac_lib_var=`echo dl'_'dlopen | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-ldl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 2949 \"configure\"\n+#line 2951 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -2956,7 +2958,7 @@ int main() {\n dlopen()\n ; return 0; }\n EOF\n-if { (eval echo configure:2960: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2962: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -3035,7 +3037,7 @@ fi\n # Configuration of shared libraries\n #\n echo $ac_n \"checking whether to build shared libraries\"\"... $ac_c\" 1>&6\n-echo \"configure:3039: checking whether to build shared libraries\" >&5\n+echo \"configure:3041: checking whether to build shared libraries\" >&5\n # Check whether --enable-shared or --disable-shared was given.\n if test \"${enable_shared+set}\" = set; then\n   enableval=\"$enable_shared\"\n@@ -3072,8 +3074,14 @@ esac\n \n # Configuration of machine-dependent code\n #\n+# We don't set NO_EXECUTE_PERMISSION by default because gcj (and\n+# anything else that creates trampolines in gc-allocated memory)\n+# always needs exec permission.  The exception to this is IA-64 and\n+# some variations of Power PC, where trampolines don't contain\n+# executable code.\n+#\n echo $ac_n \"checking which machine-dependent code should be used\"\"... $ac_c\" 1>&6\n-echo \"configure:3077: checking which machine-dependent code should be used\" >&5 \n+echo \"configure:3085: checking which machine-dependent code should be used\" >&5 \n machdep=\n case \"$host\" in\n  alpha*-*-openbsd*)\n@@ -3111,10 +3119,6 @@ EOF\n     ;; \n  mips-*-*)\n     machdep=\"mips_sgi_mach_dep.lo\"\n-    cat >> confdefs.h <<\\EOF\n-#define NO_EXECUTE_PERMISSION 1\n-EOF\n-\n     ;;\n  sparc-*-netbsd*)\n     machdep=\"sparc_netbsd_mach_dep.lo\"\n@@ -3130,6 +3134,10 @@ EOF\n     machdep=\"sparc_mach_dep.lo\"\n     ;;\n  ia64-*-*)\n+    cat >> confdefs.h <<\\EOF\n+#define NO_EXECUTE_PERMISSION 1\n+EOF\n+\n     machdep=\"mach_dep.lo ia64_save_regs_in_stack.lo\"\n     ;;\n esac\n@@ -3153,10 +3161,10 @@ addobjs=\"$addobjs $machdep\"\n # Check for AViiON Machines running DGUX\n #\n echo $ac_n \"checking if host is AViiON running DGUX\"\"... $ac_c\" 1>&6\n-echo \"configure:3157: checking if host is AViiON running DGUX\" >&5\n+echo \"configure:3165: checking if host is AViiON running DGUX\" >&5\n ac_is_dgux=no\n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:3160: checking how to run the C preprocessor\" >&5\n+echo \"configure:3168: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -3171,13 +3179,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 3175 \"configure\"\n+#line 3183 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3181: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3189: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -3188,13 +3196,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 3192 \"configure\"\n+#line 3200 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3198: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3206: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -3205,13 +3213,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 3209 \"configure\"\n+#line 3217 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3215: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3223: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -3237,17 +3245,17 @@ echo \"$ac_t\"\"$CPP\" 1>&6\n \n ac_safe=`echo \"sys/dg_sys_info.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for sys/dg_sys_info.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3241: checking for sys/dg_sys_info.h\" >&5\n+echo \"configure:3249: checking for sys/dg_sys_info.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3246 \"configure\"\n+#line 3254 \"configure\"\n #include \"confdefs.h\"\n #include <sys/dg_sys_info.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3251: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3259: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3307,7 +3315,7 @@ if false; then\n   \n \n echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:3311: checking for executable suffix\" >&5\n+echo \"configure:3319: checking for executable suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3317,7 +3325,7 @@ else\n   rm -f conftest*\n   echo 'int main () { return 0; }' > conftest.$ac_ext\n   ac_cv_exeext=\n-  if { (eval echo configure:3321: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+  if { (eval echo configure:3329: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n       *.c | *.o | *.obj) ;;\n@@ -3340,7 +3348,7 @@ ac_exeext=$EXEEXT\n fi\n \n echo $ac_n \"checking whether Solaris gcc optimization fix is necessary\"\"... $ac_c\" 1>&6\n-echo \"configure:3344: checking whether Solaris gcc optimization fix is necessary\" >&5\n+echo \"configure:3352: checking whether Solaris gcc optimization fix is necessary\" >&5\n case \"$host\" in\n  sparc-sun-solaris2*|*aix*)\n     if test \"$GCC\" = yes; then\n@@ -3374,10 +3382,6 @@ cat >> confdefs.h <<\\EOF\n #define NO_SIGNALS 1\n EOF\n \n-cat >> confdefs.h <<\\EOF\n-#define NO_EXECUTE_PERMISSION 1\n-EOF\n-\n cat >> confdefs.h <<\\EOF\n #define ALL_INTERIOR_POINTERS 1\n EOF"}, {"sha": "ba5ccb9678d5ac35afb69a1ade51c2f8d3ba8a65", "filename": "boehm-gc/configure.in", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b27317b552b57b4b7df4cfeaaa5c12f4718d58f9/boehm-gc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b27317b552b57b4b7df4cfeaaa5c12f4718d58f9/boehm-gc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2Fconfigure.in?ref=b27317b552b57b4b7df4cfeaaa5c12f4718d58f9", "patch": "@@ -246,6 +246,12 @@ esac\n \n # Configuration of machine-dependent code\n #\n+# We don't set NO_EXECUTE_PERMISSION by default because gcj (and\n+# anything else that creates trampolines in gc-allocated memory)\n+# always needs exec permission.  The exception to this is IA-64 and\n+# some variations of Power PC, where trampolines don't contain\n+# executable code.\n+#\n AC_MSG_CHECKING(which machine-dependent code should be used) \n machdep=\n case \"$host\" in\n@@ -275,7 +281,6 @@ case \"$host\" in\n     ;; \n  mips-*-*)\n     machdep=\"mips_sgi_mach_dep.lo\"\n-    AC_DEFINE(NO_EXECUTE_PERMISSION)\n     ;;\n  sparc-*-netbsd*)\n     machdep=\"sparc_netbsd_mach_dep.lo\"\n@@ -288,6 +293,7 @@ case \"$host\" in\n     machdep=\"sparc_mach_dep.lo\"\n     ;;\n  ia64-*-*)\n+    AC_DEFINE(NO_EXECUTE_PERMISSION)\n     machdep=\"mach_dep.lo ia64_save_regs_in_stack.lo\"\n     ;;\n esac\n@@ -377,7 +383,6 @@ dnl Include defines that have become de facto standard.\n dnl ALL_INTERIOR_POINTERS can be overridden in startup code.\n AC_DEFINE(SILENT)\n AC_DEFINE(NO_SIGNALS)\n-AC_DEFINE(NO_EXECUTE_PERMISSION)\n AC_DEFINE(ALL_INTERIOR_POINTERS)\n \n dnl By default, make the library as general as possible."}]}