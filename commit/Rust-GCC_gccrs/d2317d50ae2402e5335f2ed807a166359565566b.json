{"sha": "d2317d50ae2402e5335f2ed807a166359565566b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDIzMTdkNTBhZTI0MDJlNTMzNWYyZWQ4MDdhMTY2MzU5NTY1NTY2Yg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-10-14T14:01:15Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-10-14T14:01:15Z"}, "message": "internal/cpu: define kdsaQuery for s390\n    \n    Patch from Andreas Krebbel.\n    \n    Reviewed-on: https://go-review.googlesource.com/c/gofrontend/+/201037\n\nFrom-SVN: r276962", "tree": {"sha": "e1da597f34748f3f862b014171a86a7c421d2d21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e1da597f34748f3f862b014171a86a7c421d2d21"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d2317d50ae2402e5335f2ed807a166359565566b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2317d50ae2402e5335f2ed807a166359565566b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2317d50ae2402e5335f2ed807a166359565566b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2317d50ae2402e5335f2ed807a166359565566b/comments", "author": null, "committer": null, "parents": [{"sha": "ea9782106cd2cfbb53237024dcc984a26acb7130", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea9782106cd2cfbb53237024dcc984a26acb7130", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea9782106cd2cfbb53237024dcc984a26acb7130"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "360c76b6026522f40a204ebe98e23fa18bd51cbf", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2317d50ae2402e5335f2ed807a166359565566b/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2317d50ae2402e5335f2ed807a166359565566b/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=d2317d50ae2402e5335f2ed807a166359565566b", "patch": "@@ -1,4 +1,4 @@\n-f174fdad69cad42309984dfa108d80f2ae8a9f78\n+ed1bd343130ab4907750156d3c04a0cef428bf68\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "6b40f0137a4cb46c1464d9d46294ec73efb7328b", "filename": "libgo/go/internal/cpu/cpu_gccgo.c", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2317d50ae2402e5335f2ed807a166359565566b/libgo%2Fgo%2Finternal%2Fcpu%2Fcpu_gccgo.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2317d50ae2402e5335f2ed807a166359565566b/libgo%2Fgo%2Finternal%2Fcpu%2Fcpu_gccgo.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Finternal%2Fcpu%2Fcpu_gccgo.c?ref=d2317d50ae2402e5335f2ed807a166359565566b", "patch": "@@ -184,4 +184,19 @@ struct queryResult klmdQuery() {\n     return ret;\n }\n \n+struct queryResult kdsaQuery(void)\n+  __asm__(GOSYM_PREFIX \"internal..z2fcpu.kdsaQuery\")\n+  __attribute__((no_split_stack));\n+\n+struct queryResult kdsaQuery() {\n+    struct queryResult ret;\n+\n+    __asm__ (\"lghi   %%r0, 0\\t\\n\"  // set function code to 0 (KDSA-Query)\n+            \"la     %%r1, %[ret]\\t\\n\"\n+            \".long  0xb93a0024\\t\\n\"  // kdsa\n+            :[ret] \"=QRST\" (ret) : : \"r0\", \"r1\", \"cc\");\n+\n+    return ret;\n+}\n+\n #endif /* defined(__s390x__)  */"}]}