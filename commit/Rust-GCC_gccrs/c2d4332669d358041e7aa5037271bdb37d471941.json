{"sha": "c2d4332669d358041e7aa5037271bdb37d471941", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzJkNDMzMjY2OWQzNTgwNDFlN2FhNTAzNzI3MWJkYjM3ZDQ3MTk0MQ==", "commit": {"author": {"name": "Andrew Pinski", "email": "apinski@cavium.com", "date": "2017-04-02T22:13:51Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2017-04-02T22:13:51Z"}, "message": "nested-3.c: New testcase.\n\n2017-04-02  Andrew Pinski  <apinski@cavium.com>\n\n        * gcc.c-torture/compile/nested-3.c: New testcase.\n        * gcc.c-torture/execute/20170401-1.c: New testcase.\n        * gcc.c-torture/execute/20170401-2.c: New testcase.\n\nFrom-SVN: r246639", "tree": {"sha": "ba896fa4355813b93e90365dfd22d6e26a050afe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba896fa4355813b93e90365dfd22d6e26a050afe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c2d4332669d358041e7aa5037271bdb37d471941", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2d4332669d358041e7aa5037271bdb37d471941", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2d4332669d358041e7aa5037271bdb37d471941", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2d4332669d358041e7aa5037271bdb37d471941/comments", "author": {"login": "apinski-cavium", "id": 6335315, "node_id": "MDQ6VXNlcjYzMzUzMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6335315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apinski-cavium", "html_url": "https://github.com/apinski-cavium", "followers_url": "https://api.github.com/users/apinski-cavium/followers", "following_url": "https://api.github.com/users/apinski-cavium/following{/other_user}", "gists_url": "https://api.github.com/users/apinski-cavium/gists{/gist_id}", "starred_url": "https://api.github.com/users/apinski-cavium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apinski-cavium/subscriptions", "organizations_url": "https://api.github.com/users/apinski-cavium/orgs", "repos_url": "https://api.github.com/users/apinski-cavium/repos", "events_url": "https://api.github.com/users/apinski-cavium/events{/privacy}", "received_events_url": "https://api.github.com/users/apinski-cavium/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5ada68f2c8e31113dd0ee9c32a0917b66c009dcd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ada68f2c8e31113dd0ee9c32a0917b66c009dcd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ada68f2c8e31113dd0ee9c32a0917b66c009dcd"}], "stats": {"total": 106, "additions": 106, "deletions": 0}, "files": [{"sha": "88f1e6508e7f2439fe1361b5496e47ab62a2fd02", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2d4332669d358041e7aa5037271bdb37d471941/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2d4332669d358041e7aa5037271bdb37d471941/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c2d4332669d358041e7aa5037271bdb37d471941", "patch": "@@ -1,3 +1,9 @@\n+2017-04-02  Andrew Pinski  <apinski@cavium.com>\n+\n+\t* gcc.c-torture/compile/nested-3.c: New testcase.\n+\t* gcc.c-torture/execute/20170401-1.c: New testcase.\n+\t* gcc.c-torture/execute/20170401-2.c: New testcase.\n+\n 2017-03-31  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \tPR rtl-optimization/79405"}, {"sha": "c46d3f5ee08c8da49b48dac96111f0fa7b8ccc84", "filename": "gcc/testsuite/gcc.c-torture/compile/nested-3.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2d4332669d358041e7aa5037271bdb37d471941/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fnested-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2d4332669d358041e7aa5037271bdb37d471941/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fnested-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fnested-3.c?ref=c2d4332669d358041e7aa5037271bdb37d471941", "patch": "@@ -0,0 +1,18 @@\n+struct a\n+{\n+  int t;\n+  int t1;\n+};\n+\n+int f(int i, int j)\n+{\n+  struct a *t;\n+  struct a t1 = {i, j};\n+  t = &t1;\n+  auto int g(void) __attribute__((noinline));\n+  int g(void)\n+  {\n+    return t->t + t->t1;\n+  }\n+  return g();\n+}"}, {"sha": "191ea6d47bae66d11e8650d78ff8c62cb20ab7fa", "filename": "gcc/testsuite/gcc.c-torture/execute/20170401-1.c", "status": "added", "additions": 53, "deletions": 0, "changes": 53, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2d4332669d358041e7aa5037271bdb37d471941/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20170401-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2d4332669d358041e7aa5037271bdb37d471941/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20170401-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20170401-1.c?ref=c2d4332669d358041e7aa5037271bdb37d471941", "patch": "@@ -0,0 +1,53 @@\n+/* PR45070 */\n+extern void abort(void);\n+\n+struct packed_ushort {\n+    unsigned short ucs;\n+} __attribute__((packed));\n+\n+struct source {\n+    int pos, length;\n+};\n+\n+static int flag;\n+\n+static void __attribute__((noinline)) fetch(struct source *p)\n+{\n+    p->length = 128;\n+}\n+    \n+static struct packed_ushort __attribute__((noinline)) next(struct source *p)\n+{\n+    struct packed_ushort rv;\n+\n+    if (p->pos >= p->length) {\n+\tif (flag) {\n+\t    flag = 0;\n+\t    fetch(p);\n+\t    return next(p);\n+\t}\n+\tflag = 1;\n+\trv.ucs = 0xffff;\n+\treturn rv;\n+    }\n+    rv.ucs = 0;\n+    return rv;\n+}\n+\n+int main(void)\n+{\n+    struct source s;\n+    int i;\n+\n+    s.pos = 0;\n+    s.length = 0;\n+    flag = 0;\n+\n+    for (i = 0; i < 16; i++) {\n+\tstruct packed_ushort rv = next(&s);\n+\tif ((i == 0 && rv.ucs != 0xffff)\n+\t    || (i > 0 && rv.ucs != 0))\n+\t    abort();\n+    }\n+    return 0;\n+}"}, {"sha": "bb4325867ec32c5c071f77b437ceaa4d8f1ef14e", "filename": "gcc/testsuite/gcc.c-torture/execute/20170401-2.c", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2d4332669d358041e7aa5037271bdb37d471941/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20170401-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2d4332669d358041e7aa5037271bdb37d471941/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20170401-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20170401-2.c?ref=c2d4332669d358041e7aa5037271bdb37d471941", "patch": "@@ -0,0 +1,29 @@\n+void adjust_xy (short *, short *);\n+\n+struct adjust_template\n+{\n+  short kx_x;\n+  short kx_y;\n+};\n+\n+static struct adjust_template adjust = {1, 1};\n+\n+main ()\n+{\n+  short x = 1, y = 1;\n+\n+  adjust_xy (&x, &y);\n+\n+  if (x != 2)\n+    abort ();\n+\n+  exit (0);\n+}\n+\n+void\n+adjust_xy (x, y)\n+     short  *x;\n+     short  *y;\n+{\n+  *x = adjust.kx_x * *x + adjust.kx_y * *y;\n+}"}]}