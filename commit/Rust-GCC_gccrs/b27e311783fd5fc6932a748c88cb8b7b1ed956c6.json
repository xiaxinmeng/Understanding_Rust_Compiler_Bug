{"sha": "b27e311783fd5fc6932a748c88cb8b7b1ed956c6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjI3ZTMxMTc4M2ZkNWZjNjkzMmE3NDhjODhjYjhiN2IxZWQ5NTZjNg==", "commit": {"author": {"name": "Piotr Trojanek", "email": "trojanek@adacore.com", "date": "2020-11-23T12:47:39Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2020-12-14T15:51:55Z"}, "message": "[Ada] Refactor duplicated code for floating point attributes\n\ngcc/ada/\n\n\t* sem_attr.adb (Analyze_Attribute): Merge identical code for\n\tCeiling, Floor, Fraction, Machine, Machine_Rounding, Model,\n\tRounding and Unbiased_Rounding.", "tree": {"sha": "767bd4b351ddb534793960a3c52fffe7fd4bb7e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/767bd4b351ddb534793960a3c52fffe7fd4bb7e4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b27e311783fd5fc6932a748c88cb8b7b1ed956c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b27e311783fd5fc6932a748c88cb8b7b1ed956c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b27e311783fd5fc6932a748c88cb8b7b1ed956c6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b27e311783fd5fc6932a748c88cb8b7b1ed956c6/comments", "author": {"login": "ptroja", "id": 161602, "node_id": "MDQ6VXNlcjE2MTYwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/161602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptroja", "html_url": "https://github.com/ptroja", "followers_url": "https://api.github.com/users/ptroja/followers", "following_url": "https://api.github.com/users/ptroja/following{/other_user}", "gists_url": "https://api.github.com/users/ptroja/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptroja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptroja/subscriptions", "organizations_url": "https://api.github.com/users/ptroja/orgs", "repos_url": "https://api.github.com/users/ptroja/repos", "events_url": "https://api.github.com/users/ptroja/events{/privacy}", "received_events_url": "https://api.github.com/users/ptroja/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "951d7d1319923e5188df3224a9f79ee5804bac80", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/951d7d1319923e5188df3224a9f79ee5804bac80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/951d7d1319923e5188df3224a9f79ee5804bac80"}], "stats": {"total": 45, "additions": 16, "deletions": 29}, "files": [{"sha": "847d86359a786fa7b2677ad17d22b115d4fbe461", "filename": "gcc/ada/sem_attr.adb", "status": "modified", "additions": 16, "deletions": 29, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b27e311783fd5fc6932a748c88cb8b7b1ed956c6/gcc%2Fada%2Fsem_attr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b27e311783fd5fc6932a748c88cb8b7b1ed956c6/gcc%2Fada%2Fsem_attr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_attr.adb?ref=b27e311783fd5fc6932a748c88cb8b7b1ed956c6", "patch": "@@ -3395,7 +3395,15 @@ package body Sem_Attr is\n       -- Ceiling --\n       -------------\n \n-      when Attribute_Ceiling =>\n+      when Attribute_Ceiling\n+         | Attribute_Floor\n+         | Attribute_Fraction\n+         | Attribute_Machine\n+         | Attribute_Machine_Rounding\n+         | Attribute_Model\n+         | Attribute_Rounding\n+         | Attribute_Unbiased_Rounding\n+      =>\n          Check_Floating_Point_Type_1;\n          Set_Etype (N, P_Base_Type);\n          Resolve (E1, P_Base_Type);\n@@ -4091,10 +4099,7 @@ package body Sem_Attr is\n       -- Floor --\n       -----------\n \n-      when Attribute_Floor =>\n-         Check_Floating_Point_Type_1;\n-         Set_Etype (N, P_Base_Type);\n-         Resolve (E1, P_Base_Type);\n+      --  Shares processing with Ceiling attribute\n \n       ----------\n       -- Fore --\n@@ -4108,10 +4113,7 @@ package body Sem_Attr is\n       -- Fraction --\n       --------------\n \n-      when Attribute_Fraction =>\n-         Check_Floating_Point_Type_1;\n-         Set_Etype (N, P_Base_Type);\n-         Resolve (E1, P_Base_Type);\n+      --  Shares processing with Ceiling attribute\n \n       --------------\n       -- From_Any --\n@@ -4690,10 +4692,7 @@ package body Sem_Attr is\n       -- Machine --\n       -------------\n \n-      when Attribute_Machine =>\n-         Check_Floating_Point_Type_1;\n-         Set_Etype (N, P_Base_Type);\n-         Resolve (E1, P_Base_Type);\n+      --  Shares processing with Ceiling attribute\n \n       ------------------\n       -- Machine_Emax --\n@@ -4741,10 +4740,7 @@ package body Sem_Attr is\n       -- Machine_Rounding --\n       ----------------------\n \n-      when Attribute_Machine_Rounding =>\n-         Check_Floating_Point_Type_1;\n-         Set_Etype (N, P_Base_Type);\n-         Resolve (E1, P_Base_Type);\n+      --  Shares processing with Ceiling attribute\n \n       --------------------\n       -- Machine_Rounds --\n@@ -4866,10 +4862,7 @@ package body Sem_Attr is\n       -- Model --\n       -----------\n \n-      when Attribute_Model =>\n-         Check_Floating_Point_Type_1;\n-         Set_Etype (N, P_Base_Type);\n-         Resolve (E1, P_Base_Type);\n+      --  Shares processing with Ceiling attribute\n \n       ----------------\n       -- Model_Emin --\n@@ -5844,10 +5837,7 @@ package body Sem_Attr is\n       -- Rounding --\n       --------------\n \n-      when Attribute_Rounding =>\n-         Check_Floating_Point_Type_1;\n-         Set_Etype (N, P_Base_Type);\n-         Resolve (E1, P_Base_Type);\n+      --  Shares processing with Ceiling attribute\n \n       ---------------\n       -- Safe_Emax --\n@@ -6611,10 +6601,7 @@ package body Sem_Attr is\n       -- Unbiased_Rounding --\n       -----------------------\n \n-      when Attribute_Unbiased_Rounding =>\n-         Check_Floating_Point_Type_1;\n-         Set_Etype (N, P_Base_Type);\n-         Resolve (E1, P_Base_Type);\n+      --  Shares processing with Ceiling attribute\n \n       ----------------------\n       -- Unchecked_Access --"}]}