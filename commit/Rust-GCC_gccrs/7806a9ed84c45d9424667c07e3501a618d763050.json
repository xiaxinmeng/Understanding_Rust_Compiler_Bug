{"sha": "7806a9ed84c45d9424667c07e3501a618d763050", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzgwNmE5ZWQ4NGM0NWQ5NDI0NjY3YzA3ZTM1MDFhNjE4ZDc2MzA1MA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2015-01-07T08:45:17Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2015-01-07T08:45:17Z"}, "message": "freeze.adb (Freeze_Array_Type): Apply same handling to Is_Atomic component type as to Has_Atomic_Components type.\n\n2015-01-07  Eric Botcazou  <ebotcazou@adacore.com>\n\n\t* freeze.adb (Freeze_Array_Type): Apply same handling to Is_Atomic\n\tcomponent type as to Has_Atomic_Components type.  Remove useless\n\ttest on Is_Aliased component type.\n\nFrom-SVN: r219281", "tree": {"sha": "0e1248b7867e4ec2017e179796a1184666d9246d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e1248b7867e4ec2017e179796a1184666d9246d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7806a9ed84c45d9424667c07e3501a618d763050", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7806a9ed84c45d9424667c07e3501a618d763050", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7806a9ed84c45d9424667c07e3501a618d763050", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7806a9ed84c45d9424667c07e3501a618d763050/comments", "author": null, "committer": null, "parents": [{"sha": "8636f52f7b50176948646cc151bfd514b8b71c03", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8636f52f7b50176948646cc151bfd514b8b71c03", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8636f52f7b50176948646cc151bfd514b8b71c03"}], "stats": {"total": 21, "additions": 12, "deletions": 9}, "files": [{"sha": "bceb082d1faa159543287ef9aa1c6de24d556a33", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7806a9ed84c45d9424667c07e3501a618d763050/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7806a9ed84c45d9424667c07e3501a618d763050/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=7806a9ed84c45d9424667c07e3501a618d763050", "patch": "@@ -1,3 +1,9 @@\n+2015-01-07  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* freeze.adb (Freeze_Array_Type): Apply same handling to Is_Atomic\n+\tcomponent type as to Has_Atomic_Components type.  Remove useless\n+\ttest on Is_Aliased component type.\n+\n 2015-01-07  Hristian Kirtchev  <kirtchev@adacore.com>\n \n \t* alloc.ads Alphabetize several declarations. Add constants"}, {"sha": "a8acdc33c6096f80ad3670a12c98c2a8ff3e5213", "filename": "gcc/ada/freeze.adb", "status": "modified", "additions": 6, "deletions": 9, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7806a9ed84c45d9424667c07e3501a618d763050/gcc%2Fada%2Ffreeze.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7806a9ed84c45d9424667c07e3501a618d763050/gcc%2Fada%2Ffreeze.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffreeze.adb?ref=7806a9ed84c45d9424667c07e3501a618d763050", "patch": "@@ -2431,12 +2431,12 @@ package body Freeze is\n                end if;\n             end;\n \n-            --  Check for Atomic_Components or Aliased with unsuitable packing\n-            --  or explicit component size clause given.\n+            --  Check for Aliased or Atomic_Components/Atomic with unsuitable\n+            --  packing or explicit component size clause given.\n \n-            if (Has_Atomic_Components  (Arr)\n+            if (Has_Aliased_Components (Arr)\n                   or else\n-                Has_Aliased_Components (Arr))\n+                Has_Atomic_Components (Arr) or else Is_Atomic (Ctyp))\n               and then\n                 (Has_Component_Size_Clause (Arr) or else Is_Packed (Arr))\n             then\n@@ -2503,13 +2503,10 @@ package body Freeze is\n                   then\n                      null;\n \n-                  elsif Has_Aliased_Components (Arr)\n-                    or else Is_Aliased (Ctyp)\n-                  then\n+                  elsif Has_Aliased_Components (Arr) then\n                      Complain_CS (\"aliased\");\n \n-                  elsif Has_Atomic_Components (Arr)\n-                    or else Is_Atomic (Ctyp)\n+                  elsif Has_Atomic_Components (Arr) or else Is_Atomic (Ctyp)\n                   then\n                      Complain_CS (\"atomic\");\n                   end if;"}]}