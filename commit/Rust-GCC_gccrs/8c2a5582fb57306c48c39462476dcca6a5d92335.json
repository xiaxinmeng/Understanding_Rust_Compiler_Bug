{"sha": "8c2a5582fb57306c48c39462476dcca6a5d92335", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGMyYTU1ODJmYjU3MzA2YzQ4YzM5NDYyNDc2ZGNjYTZhNWQ5MjMzNQ==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2003-11-23T16:10:52Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2003-11-23T16:10:52Z"}, "message": "recog.c (preprocess_constraints): Only zero those elements of recog_op_alt that are needed for this insn.\n\n* recog.c (preprocess_constraints): Only zero those elements of\nrecog_op_alt that are needed for this insn.\n* arm.c (note_invalid_constants): A function can't contain invalid\nconstants if it has no constraints.\n\nFrom-SVN: r73855", "tree": {"sha": "85531f5eef295907a5c4fde4b9b109c76e05a167", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/85531f5eef295907a5c4fde4b9b109c76e05a167"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8c2a5582fb57306c48c39462476dcca6a5d92335", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c2a5582fb57306c48c39462476dcca6a5d92335", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c2a5582fb57306c48c39462476dcca6a5d92335", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c2a5582fb57306c48c39462476dcca6a5d92335/comments", "author": null, "committer": null, "parents": [{"sha": "bf058d221efaf883b850d459809373cfaf5e05f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf058d221efaf883b850d459809373cfaf5e05f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf058d221efaf883b850d459809373cfaf5e05f2"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "7d745ddcb10436fe38115829242eb79c257ec92e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c2a5582fb57306c48c39462476dcca6a5d92335/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c2a5582fb57306c48c39462476dcca6a5d92335/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8c2a5582fb57306c48c39462476dcca6a5d92335", "patch": "@@ -1,3 +1,10 @@\n+2003-11-23  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* recog.c (preprocess_constraints): Only zero those elements of\n+\trecog_op_alt that are needed for this insn.\n+\t* arm.c (note_invalid_constants): A function can't contain invalid\n+\tconstants if it has no constraints.\n+\n 2003-11-22  Jan Hubicka  <jh@suse.cz>\n \n \t* i386.c (classify_argument): Pass __float128 in memory."}, {"sha": "5ec79df9c128704a897fa8af27db63b5821b6002", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c2a5582fb57306c48c39462476dcca6a5d92335/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c2a5582fb57306c48c39462476dcca6a5d92335/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=8c2a5582fb57306c48c39462476dcca6a5d92335", "patch": "@@ -6908,6 +6908,9 @@ note_invalid_constants (rtx insn, HOST_WIDE_INT address, int do_pushes)\n   if (!constrain_operands (1))\n     fatal_insn_not_found (insn);\n \n+  if (recog_data.n_alternatives == 0)\n+    return false;\n+\n   /* Fill in recog_op_alt with information about the constraints of this insn.  */\n   preprocess_constraints ();\n "}, {"sha": "f0e75c272f04aeb33a1b785ae8fe087420ab3044", "filename": "gcc/recog.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c2a5582fb57306c48c39462476dcca6a5d92335/gcc%2Frecog.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c2a5582fb57306c48c39462476dcca6a5d92335/gcc%2Frecog.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frecog.c?ref=8c2a5582fb57306c48c39462476dcca6a5d92335", "patch": "@@ -2093,7 +2093,10 @@ preprocess_constraints (void)\n {\n   int i;\n \n-  memset (recog_op_alt, 0, sizeof recog_op_alt);\n+  for (i = 0; i < recog_data.n_operands; i++)\n+    memset (recog_op_alt[i], 0, (recog_data.n_alternatives\n+\t\t\t\t * sizeof (struct operand_alternative)));\n+\n   for (i = 0; i < recog_data.n_operands; i++)\n     {\n       int j;"}]}