{"sha": "68660571fcb0260d0fb73157f15f2ea69e2e7834", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njg2NjA1NzFmY2IwMjYwZDBmYjczMTU3ZjE1ZjJlYTY5ZTJlNzgzNA==", "commit": {"author": {"name": "Mumit Khan", "email": "kahn@xraylity.wisc.edu", "date": "1997-11-18T16:48:12Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-11-18T16:48:12Z"}, "message": "close.c (f_exit): Reset f__init so that f_clos does not (incorrectly) think there is an I/O...\n\n        * libI77/close.c (f_exit): Reset f__init so that f_clos does not\n        (incorrectly) think there is an I/O recursion when program is\n        interrupted.\n\nFrom-SVN: r16565", "tree": {"sha": "d05edfb017fdf8694a79cfcfc0fb100cc6c0835e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d05edfb017fdf8694a79cfcfc0fb100cc6c0835e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/68660571fcb0260d0fb73157f15f2ea69e2e7834", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68660571fcb0260d0fb73157f15f2ea69e2e7834", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68660571fcb0260d0fb73157f15f2ea69e2e7834", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68660571fcb0260d0fb73157f15f2ea69e2e7834/comments", "author": null, "committer": null, "parents": [{"sha": "8baa713c4f6237b7ab8336d8215668dc063d7715", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8baa713c4f6237b7ab8336d8215668dc063d7715", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8baa713c4f6237b7ab8336d8215668dc063d7715"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "c138a11e8aae40919b963d0159ac5b48f2ef53f4", "filename": "gcc/f/runtime/ChangeLog.egcs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68660571fcb0260d0fb73157f15f2ea69e2e7834/gcc%2Ff%2Fruntime%2FChangeLog.egcs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68660571fcb0260d0fb73157f15f2ea69e2e7834/gcc%2Ff%2Fruntime%2FChangeLog.egcs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FChangeLog.egcs?ref=68660571fcb0260d0fb73157f15f2ea69e2e7834", "patch": "@@ -1,3 +1,9 @@\n+Tue Nov 18 09:49:04 1997  Mumit Khan   (kahn@xraylity.wisc.edu)\n+\n+\t* libI77/close.c (f_exit): Reset f__init so that f_clos does not\n+\t(incorrectly) think there is an I/O recursion when program is\n+\tinterrupted.\n+\n Sat Nov  1 18:03:42 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* libF77/signal_.c: Undo last change until we can fix it right."}, {"sha": "93e9198ed0b31e72110a95794da9865af78f43ae", "filename": "gcc/f/runtime/libI77/close.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68660571fcb0260d0fb73157f15f2ea69e2e7834/gcc%2Ff%2Fruntime%2FlibI77%2Fclose.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68660571fcb0260d0fb73157f15f2ea69e2e7834/gcc%2Ff%2Fruntime%2FlibI77%2Fclose.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fruntime%2FlibI77%2Fclose.c?ref=68660571fcb0260d0fb73157f15f2ea69e2e7834", "patch": "@@ -75,6 +75,10 @@ f_exit(void)\n \tstatic cllist xx;\n \tif (! (f__init & 1))\n \t\treturn;\t\t/* Not initialized, so no open units. */\n+\t/* no more I/O to be done. If this is not done, then if the\n+\t   program is interrupted during I/O, f_clos thinks, incorrectly,\n+\t   that there is an I/O recursion. */\n+\tf__init &= ~2;\n \tif (!xx.cerr) {\n \t\txx.cerr=1;\n \t\txx.csta=NULL;"}]}