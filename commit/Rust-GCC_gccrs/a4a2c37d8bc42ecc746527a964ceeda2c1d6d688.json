{"sha": "a4a2c37d8bc42ecc746527a964ceeda2c1d6d688", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTRhMmMzN2Q4YmM0MmVjYzc0NjUyN2E5NjRjZWVkYTJjMWQ2ZDY4OA==", "commit": {"author": {"name": "Matthias Klose", "email": "doko@ubuntu.com", "date": "2011-07-16T08:33:10Z"}, "committer": {"name": "Matthias Klose", "email": "doko@gcc.gnu.org", "date": "2011-07-16T08:33:10Z"}, "message": "install.texi: Document --enable-static-libjava.\n\ngcc/\n\n2011-07-16  Matthias Klose  <doko@ubuntu.com>\n\n        * doc/install.texi: Document --enable-static-libjava.\n\n<toplevel>\n\n2011-07-16  Matthias Klose  <doko@ubuntu.com>\n\n        * Makefile.tpl (EXTRA_CONFIGARGS_LIBJAVA): Define.\n        * Makefile.def (target_modules/libjava): Pass\n        $(EXTRA_CONFIGARGS_LIBJAVA).\n        * configure.ac: Pass --disable-static in EXTRA_CONFIGARGS_LIBJAVA,\n        if not configured with --enable-static-libjava.\n        * Makefile.in: Regenerate.\n        * configure: Likewise.\n\nFrom-SVN: r176351", "tree": {"sha": "6e066c2cfa4ca80015b011442cf5a920b489b3e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6e066c2cfa4ca80015b011442cf5a920b489b3e5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/comments", "author": {"login": "doko42", "id": 11258518, "node_id": "MDQ6VXNlcjExMjU4NTE4", "avatar_url": "https://avatars.githubusercontent.com/u/11258518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/doko42", "html_url": "https://github.com/doko42", "followers_url": "https://api.github.com/users/doko42/followers", "following_url": "https://api.github.com/users/doko42/following{/other_user}", "gists_url": "https://api.github.com/users/doko42/gists{/gist_id}", "starred_url": "https://api.github.com/users/doko42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/doko42/subscriptions", "organizations_url": "https://api.github.com/users/doko42/orgs", "repos_url": "https://api.github.com/users/doko42/repos", "events_url": "https://api.github.com/users/doko42/events{/privacy}", "received_events_url": "https://api.github.com/users/doko42/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b6c917ff5dbdbbf3547d7198eff249936f7011fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6c917ff5dbdbbf3547d7198eff249936f7011fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6c917ff5dbdbbf3547d7198eff249936f7011fa"}], "stats": {"total": 57, "additions": 55, "deletions": 2}, "files": [{"sha": "ea7ae92c7c2e675474b2b702d48633c0375b9e81", "filename": "ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=a4a2c37d8bc42ecc746527a964ceeda2c1d6d688", "patch": "@@ -1,3 +1,13 @@\n+2011-07-16  Matthias Klose  <doko@ubuntu.com>\n+\n+\t* Makefile.tpl (EXTRA_CONFIGARGS_LIBJAVA): Define.\n+\t* Makefile.def (target_modules/libjava): Pass\n+\t$(EXTRA_CONFIGARGS_LIBJAVA).\n+\t* configure.ac: Pass --disable-static in EXTRA_CONFIGARGS_LIBJAVA,\n+\tif not configured with --enable-static-libjava.\n+\t* Makefile.in: Regenerate.\n+\t* configure: Likewise.\n+\n 2011-07-15  Jason Merrill  <jason@redhat.com>\n \n \t* Makefile.in (check-c++): Move check-gcc-c++0x after"}, {"sha": "0cc6ef6cade4f380aac912d096d0bc448d9d945d", "filename": "Makefile.def", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/Makefile.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/Makefile.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.def?ref=a4a2c37d8bc42ecc746527a964ceeda2c1d6d688", "patch": "@@ -132,7 +132,8 @@ target_modules = { module= libtermcap; no_check=true;\n target_modules = { module= winsup; };\n target_modules = { module= libgloss; no_check=true; };\n target_modules = { module= libffi; };\n-target_modules = { module= libjava; raw_cxx=true; };\n+target_modules = { module= libjava; raw_cxx=true;\n+                   extra_configure_flags=\"$(EXTRA_CONFIGARGS_LIBJAVA)\"; };\n target_modules = { module= zlib; };\n target_modules = { module= boehm-gc; };\n target_modules = { module= rda; };"}, {"sha": "e80f0483f973ddc36fb2c654c3795ca58b447ff7", "filename": "Makefile.in", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=a4a2c37d8bc42ecc746527a964ceeda2c1d6d688", "patch": "@@ -316,6 +316,8 @@ HOST_CLOOGINC = @clooginc@\n HOST_LIBELFLIBS = @libelflibs@\n HOST_LIBELFINC = @libelfinc@\n \n+EXTRA_CONFIGARGS_LIBJAVA = @EXTRA_CONFIGARGS_LIBJAVA@\n+\n # ----------------------------------------------\n # Programs producing files for the BUILD machine\n # ----------------------------------------------\n@@ -36891,7 +36893,7 @@ configure-target-libjava:\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) --build=${build_alias} --host=${target_alias} \\\n-\t  --target=${target_alias} $${srcdiroption}  \\\n+\t  --target=${target_alias} $${srcdiroption} $(EXTRA_CONFIGARGS_LIBJAVA) \\\n \t  || exit 1\n @endif target-libjava\n "}, {"sha": "ea3d08d67ab002f5eb28477d522a311938106d8d", "filename": "Makefile.tpl", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=a4a2c37d8bc42ecc746527a964ceeda2c1d6d688", "patch": "@@ -319,6 +319,8 @@ HOST_CLOOGINC = @clooginc@\n HOST_LIBELFLIBS = @libelflibs@\n HOST_LIBELFINC = @libelfinc@\n \n+EXTRA_CONFIGARGS_LIBJAVA = @EXTRA_CONFIGARGS_LIBJAVA@\n+\n # ----------------------------------------------\n # Programs producing files for the BUILD machine\n # ----------------------------------------------"}, {"sha": "988bff7cdb8aed12ad62c87fcdebafdd9abc5873", "filename": "configure", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=a4a2c37d8bc42ecc746527a964ceeda2c1d6d688", "patch": "@@ -667,6 +667,7 @@ CPPFLAGS\n LDFLAGS\n CFLAGS\n CC\n+EXTRA_CONFIGARGS_LIBJAVA\n target_subdir\n host_subdir\n build_subdir\n@@ -746,6 +747,7 @@ enable_libquadmath\n enable_libquadmath_support\n enable_libada\n enable_libssp\n+enable_static_libjava\n enable_build_with_cxx\n with_mpc\n with_mpc_include\n@@ -1460,6 +1462,8 @@ Optional Features:\n                           disable libquadmath support for Fortran\n   --enable-libada         build libada directory\n   --enable-libssp         build libssp directory\n+  --enable-static-libjava[=ARG]\n+                          build static libjava [default=no]\n   --enable-build-with-cxx build with C++ compiler instead of C compiler\n   --disable-ppl-version-check\n                           disable check for PPL version\n@@ -2997,6 +3001,22 @@ no)\n   ;;\n esac\n \n+# Check whether --enable-static-libjava was given.\n+if test \"${enable_static_libjava+set}\" = set; then :\n+  enableval=$enable_static_libjava; ENABLE_STATIC_LIBJAVA=$enableval\n+else\n+  ENABLE_STATIC_LIBJAVA=no\n+fi\n+\n+enable_static_libjava=\n+if test \"${ENABLE_STATIC_LIBJAVA}\" = \"yes\" ; then\n+  enable_static_libjava=yes\n+fi\n+\n+if test x$enable_static_libjava != xyes ; then\n+  EXTRA_CONFIGARGS_LIBJAVA=--disable-static\n+fi\n+\n \n # Disable libmudflap on some systems.\n if test x$enable_libmudflap = x ; then"}, {"sha": "7085eeaf23583747fbdb057751c1092d21f0afc0", "filename": "configure.ac", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=a4a2c37d8bc42ecc746527a964ceeda2c1d6d688", "patch": "@@ -443,6 +443,20 @@ no)\n   ;;\n esac\n \n+AC_ARG_ENABLE(static-libjava,\n+[AS_HELP_STRING([[--enable-static-libjava[=ARG]]],\n+\t\t[build static libjava @<:@default=no@:>@])],\n+ENABLE_STATIC_LIBJAVA=$enableval,\n+ENABLE_STATIC_LIBJAVA=no)\n+enable_static_libjava=\n+if test \"${ENABLE_STATIC_LIBJAVA}\" = \"yes\" ; then\n+  enable_static_libjava=yes\n+fi\n+\n+if test x$enable_static_libjava != xyes ; then\n+  EXTRA_CONFIGARGS_LIBJAVA=--disable-static\n+fi\n+AC_SUBST(EXTRA_CONFIGARGS_LIBJAVA)\n \n # Disable libmudflap on some systems.\n if test x$enable_libmudflap = x ; then"}, {"sha": "8608e88c362dabe3da26f655ed4d5f8cc5a6c9e7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4a2c37d8bc42ecc746527a964ceeda2c1d6d688/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a4a2c37d8bc42ecc746527a964ceeda2c1d6d688", "patch": "@@ -1,3 +1,7 @@\n+2011-07-16  Matthias Klose  <doko@ubuntu.com>\n+\n+\t* doc/install.texi: Document --enable-static-libjava.\n+\n 2011-07-15  Richard Henderson  <rth@redhat.com>\n \n \t* bb-reorder.c (find_rarely_executed_basic_blocks_and_crossing_edges):"}]}