{"sha": "a76358008e043e0666940a98d1bcb1411bd4519a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTc2MzU4MDA4ZTA0M2UwNjY2OTQwYTk4ZDFiY2IxNDExYmQ0NTE5YQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2012-01-27T08:36:31Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2012-01-27T08:36:31Z"}, "message": "stack_usage1.adb: New test.\n\n\t* gnat.dg/stack_usage1.adb: New test.\n\t* gnat.dg/stack_usage1_pkg.ad[sb]: New helper.\n\n\t* gcc.dg/pr44194-1.c: Remove superfluous include directive.\n\t* gcc.dg/pr44194-2.c: Likewise.\n\nFrom-SVN: r183604", "tree": {"sha": "889bb9cd8153900c9827a9eae010438574314325", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/889bb9cd8153900c9827a9eae010438574314325"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a76358008e043e0666940a98d1bcb1411bd4519a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a76358008e043e0666940a98d1bcb1411bd4519a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a76358008e043e0666940a98d1bcb1411bd4519a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a76358008e043e0666940a98d1bcb1411bd4519a/comments", "author": null, "committer": null, "parents": [{"sha": "cb485fff386bd2f2f2ec4087095149b18f5acb87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb485fff386bd2f2f2ec4087095149b18f5acb87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb485fff386bd2f2f2ec4087095149b18f5acb87"}], "stats": {"total": 75, "additions": 72, "deletions": 3}, "files": [{"sha": "572378b031603d45549018bc6ce1efe9d54b02e9", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a76358008e043e0666940a98d1bcb1411bd4519a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a76358008e043e0666940a98d1bcb1411bd4519a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a76358008e043e0666940a98d1bcb1411bd4519a", "patch": "@@ -1,3 +1,11 @@\n+2012-01-27  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/stack_usage1.adb: New test.\n+\t* gnat.dg/stack_usage1_pkg.ad[sb]: New helper.\n+\n+\t* gcc.dg/pr44194-1.c: Remove superfluous include directive.\n+\t* gcc.dg/pr44194-2.c: Likewise.\n+\n 2012-01-26  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/51370"}, {"sha": "d251bf1b941205b27393670812990294c6300274", "filename": "gcc/testsuite/gcc.dg/pr44194-1.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a76358008e043e0666940a98d1bcb1411bd4519a/gcc%2Ftestsuite%2Fgcc.dg%2Fpr44194-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a76358008e043e0666940a98d1bcb1411bd4519a/gcc%2Ftestsuite%2Fgcc.dg%2Fpr44194-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr44194-1.c?ref=a76358008e043e0666940a98d1bcb1411bd4519a", "patch": "@@ -3,8 +3,6 @@\n /* Restricting to 64-bit targets since 32-bit targets return\n    structures in memory.  */\n \n-#include <stdint.h>\n-\n struct ints { int a, b, c; } foo();\n void bar(int a, int b);\n "}, {"sha": "b127e1b337494e5697f91d4461c229861620130f", "filename": "gcc/testsuite/gcc.dg/pr44194-2.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a76358008e043e0666940a98d1bcb1411bd4519a/gcc%2Ftestsuite%2Fgcc.dg%2Fpr44194-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a76358008e043e0666940a98d1bcb1411bd4519a/gcc%2Ftestsuite%2Fgcc.dg%2Fpr44194-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr44194-2.c?ref=a76358008e043e0666940a98d1bcb1411bd4519a", "patch": "@@ -1,6 +1,5 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2 -fdump-rtl-dse1\" } */\n-#include <stdint.h>\n \n struct ints { int a, b, c; } foo();\n void bar(int a, int b);"}, {"sha": "81c0a083243a5b36c08c7122d54009079ea0529d", "filename": "gcc/testsuite/gnat.dg/stack_usage1.adb", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a76358008e043e0666940a98d1bcb1411bd4519a/gcc%2Ftestsuite%2Fgnat.dg%2Fstack_usage1.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a76358008e043e0666940a98d1bcb1411bd4519a/gcc%2Ftestsuite%2Fgnat.dg%2Fstack_usage1.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fstack_usage1.adb?ref=a76358008e043e0666940a98d1bcb1411bd4519a", "patch": "@@ -0,0 +1,39 @@\n+-- { dg-do compile }\n+-- { dg-options \"-fstack-usage\" }\n+\n+with Stack_Usage1_Pkg; use Stack_Usage1_Pkg;\n+\n+procedure Stack_Usage1 is\n+\n+   A : Integer := Ident_Int (123);\n+\n+begin\n+   case A is\n+       when 0 =>\n+          My_Proc (R'(Ident_Int(0), Ident_Int(1), Ident_Int(2), Ident_Int(3), Ident_Int(4), Ident_Int(5), Ident_Int(6), Ident_Int(7), Ident_Int(8), Ident_Int(9)));\n+       when 1 =>\n+          My_Proc (R'(Ident_Int(0), Ident_Int(1), Ident_Int(2), Ident_Int(3), Ident_Int(4), Ident_Int(5), Ident_Int(6), Ident_Int(7), Ident_Int(8), Ident_Int(9)));\n+       when 2 =>\n+          My_Proc (R'(Ident_Int(0), Ident_Int(1), Ident_Int(2), Ident_Int(3), Ident_Int(4), Ident_Int(5), Ident_Int(6), Ident_Int(7), Ident_Int(8), Ident_Int(9)));\n+       when 3 =>\n+          My_Proc (R'(Ident_Int(0), Ident_Int(1), Ident_Int(2), Ident_Int(3), Ident_Int(4), Ident_Int(5), Ident_Int(6), Ident_Int(7), Ident_Int(8), Ident_Int(9)));\n+       when 4 =>\n+          My_Proc (R'(Ident_Int(0), Ident_Int(1), Ident_Int(2), Ident_Int(3), Ident_Int(4), Ident_Int(5), Ident_Int(6), Ident_Int(7), Ident_Int(8), Ident_Int(9)));\n+       when 5 =>\n+          My_Proc (R'(Ident_Int(0), Ident_Int(1), Ident_Int(2), Ident_Int(3), Ident_Int(4), Ident_Int(5), Ident_Int(6), Ident_Int(7), Ident_Int(8), Ident_Int(9)));\n+       when 6 =>\n+          My_Proc (R'(Ident_Int(0), Ident_Int(1), Ident_Int(2), Ident_Int(3), Ident_Int(4), Ident_Int(5), Ident_Int(6), Ident_Int(7), Ident_Int(8), Ident_Int(9)));\n+       when 7 =>\n+          My_Proc (R'(Ident_Int(0), Ident_Int(1), Ident_Int(2), Ident_Int(3), Ident_Int(4), Ident_Int(5), Ident_Int(6), Ident_Int(7), Ident_Int(8), Ident_Int(9)));\n+       when 8 =>\n+          My_Proc (R'(Ident_Int(0), Ident_Int(1), Ident_Int(2), Ident_Int(3), Ident_Int(4), Ident_Int(5), Ident_Int(6), Ident_Int(7), Ident_Int(8), Ident_Int(9)));\n+       when 9 =>\n+          My_Proc (R'(Ident_Int(0), Ident_Int(1), Ident_Int(2), Ident_Int(3), Ident_Int(4), Ident_Int(5), Ident_Int(6), Ident_Int(7), Ident_Int(8), Ident_Int(9)));\n+       when others =>\n+          null;\n+   end case;\n+\n+end Stack_Usage1;\n+\n+-- { dg-final { scan-stack-usage \"\\t\\[0-9\\]\\[0-9\\]\\t\" { target i?86-*-* x86_64-*-* } } }\n+-- { dg-final { cleanup-stack-usage } }"}, {"sha": "1538b858fa3b04fdf8d203e28a5880348c12b392", "filename": "gcc/testsuite/gnat.dg/stack_usage1_pkg.adb", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a76358008e043e0666940a98d1bcb1411bd4519a/gcc%2Ftestsuite%2Fgnat.dg%2Fstack_usage1_pkg.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a76358008e043e0666940a98d1bcb1411bd4519a/gcc%2Ftestsuite%2Fgnat.dg%2Fstack_usage1_pkg.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fstack_usage1_pkg.adb?ref=a76358008e043e0666940a98d1bcb1411bd4519a", "patch": "@@ -0,0 +1,13 @@\n+package body Stack_Usage1_Pkg is\n+\n+   function Ident_Int (X : Integer) return Integer is\n+   begin\n+      return X;\n+   end Ident_Int;\n+\n+   procedure My_Proc (X : R) is\n+   begin\n+      null;\n+   end My_Proc;\n+\n+end Stack_Usage1_Pkg;"}, {"sha": "dbe4dae65cd81d1c22a0f3546bad53ae55eedb92", "filename": "gcc/testsuite/gnat.dg/stack_usage1_pkg.ads", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a76358008e043e0666940a98d1bcb1411bd4519a/gcc%2Ftestsuite%2Fgnat.dg%2Fstack_usage1_pkg.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a76358008e043e0666940a98d1bcb1411bd4519a/gcc%2Ftestsuite%2Fgnat.dg%2Fstack_usage1_pkg.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fstack_usage1_pkg.ads?ref=a76358008e043e0666940a98d1bcb1411bd4519a", "patch": "@@ -0,0 +1,12 @@\n+package Stack_Usage1_Pkg is\n+\n+   function Ident_Int (X : Integer) return Integer;\n+\n+   type R is\n+       record\n+          C0, C1, C2, C3, C4, C5, C6, C7, C8, C9 : Integer;\n+       end record;\n+\n+   procedure My_Proc (X : R);\n+\n+end Stack_Usage1_Pkg;"}]}