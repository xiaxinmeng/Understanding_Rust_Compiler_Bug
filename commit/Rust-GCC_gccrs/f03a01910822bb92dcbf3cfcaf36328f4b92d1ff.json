{"sha": "f03a01910822bb92dcbf3cfcaf36328f4b92d1ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjAzYTAxOTEwODIyYmI5MmRjYmYzY2ZjYWYzNjMyOGY0YjkyZDFmZg==", "commit": {"author": {"name": "Paul Eggert", "email": "eggert@cs.ucla.edu", "date": "2006-07-07T21:20:12Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2006-07-07T21:20:12Z"}, "message": "Port to hosts whose 'sort' and 'tail' implementations treat operands with leading '+' as file names...\n\n\tPort to hosts whose 'sort' and 'tail' implementations\n\ttreat operands with leading '+' as file names, as POSIX\n\thas required since 2001.  However, make sure the code still\n\tworks on pre-POSIX hosts.\n\t* libjava/classpath/ltmain.sh: Don't assume \"sort +2\" is\n\tequivalent to \"sort -k 3\", since POSIX 1003.1-2001 no longer\n\trequires this.\n\tThis uses the same fix that is already in\n\tlibjava/libltdl/ltmain.sh.\n\nFrom-SVN: r115271", "tree": {"sha": "2600e20df607b3ea2c833813f4d80fc9fa1e6d7e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2600e20df607b3ea2c833813f4d80fc9fa1e6d7e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f03a01910822bb92dcbf3cfcaf36328f4b92d1ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f03a01910822bb92dcbf3cfcaf36328f4b92d1ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f03a01910822bb92dcbf3cfcaf36328f4b92d1ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f03a01910822bb92dcbf3cfcaf36328f4b92d1ff/comments", "author": {"login": "eggert", "id": 572024, "node_id": "MDQ6VXNlcjU3MjAyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/572024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eggert", "html_url": "https://github.com/eggert", "followers_url": "https://api.github.com/users/eggert/followers", "following_url": "https://api.github.com/users/eggert/following{/other_user}", "gists_url": "https://api.github.com/users/eggert/gists{/gist_id}", "starred_url": "https://api.github.com/users/eggert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eggert/subscriptions", "organizations_url": "https://api.github.com/users/eggert/orgs", "repos_url": "https://api.github.com/users/eggert/repos", "events_url": "https://api.github.com/users/eggert/events{/privacy}", "received_events_url": "https://api.github.com/users/eggert/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5548b688093cb61e9be33b1d4f7de7914783840f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5548b688093cb61e9be33b1d4f7de7914783840f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5548b688093cb61e9be33b1d4f7de7914783840f"}], "stats": {"total": 20, "additions": 19, "deletions": 1}, "files": [{"sha": "4e401a4a3cc9288b0ad456ad754da7841f6997fd", "filename": "libjava/classpath/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f03a01910822bb92dcbf3cfcaf36328f4b92d1ff/libjava%2Fclasspath%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f03a01910822bb92dcbf3cfcaf36328f4b92d1ff/libjava%2Fclasspath%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog?ref=f03a01910822bb92dcbf3cfcaf36328f4b92d1ff", "patch": "@@ -1,3 +1,15 @@\n+2006-07-06  Paul Eggert  <eggert@cs.ucla.edu>\n+\n+\tPort to hosts whose 'sort' and 'tail' implementations\n+\ttreat operands with leading '+' as file names, as POSIX\n+\thas required since 2001.  However, make sure the code still\n+\tworks on pre-POSIX hosts.\n+\t* libjava/classpath/ltmain.sh: Don't assume \"sort +2\" is\n+\tequivalent to \"sort -k 3\", since POSIX 1003.1-2001 no longer\n+\trequires this.\n+\tThis uses the same fix that is already in\n+\tlibjava/libltdl/ltmain.sh.\n+\n 2006-07-04  Peter O'Gorman  <peter@pogma.com>\n \n \t* ltconfig: chmod 644 before ranlib during install."}, {"sha": "a3c55f9a7513048bf549ec98b8a6a1d18e44c733", "filename": "libjava/classpath/ltmain.sh", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f03a01910822bb92dcbf3cfcaf36328f4b92d1ff/libjava%2Fclasspath%2Fltmain.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f03a01910822bb92dcbf3cfcaf36328f4b92d1ff/libjava%2Fclasspath%2Fltmain.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fltmain.sh?ref=f03a01910822bb92dcbf3cfcaf36328f4b92d1ff", "patch": "@@ -3839,7 +3839,13 @@ extern \\\"C\\\" {\n \t    fi\n \n \t    # Try sorting and uniquifying the output.\n-\t    if grep -v \"^: \" < \"$nlist\" | sort +2 | uniq > \"$nlist\"S; then\n+\t    if grep -v \"^: \" < \"$nlist\" |\n+\t\tif sort -k 3 </dev/null >/dev/null 2>&1; then\n+\t\t  sort -k 3\n+\t\telse\n+\t\t  sort +2\n+\t\tfi |\n+\t\tuniq > \"$nlist\"S; then\n \t      :\n \t    else\n \t      grep -v \"^: \" < \"$nlist\" > \"$nlist\"S"}]}