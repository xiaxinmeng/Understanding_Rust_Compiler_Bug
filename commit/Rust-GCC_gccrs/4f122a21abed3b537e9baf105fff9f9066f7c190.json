{"sha": "4f122a21abed3b537e9baf105fff9f9066f7c190", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGYxMjJhMjFhYmVkM2I1MzdlOWJhZjEwNWZmZjlmOTA2NmY3YzE5MA==", "commit": {"author": {"name": "Karl Berry", "email": "karl@cs.umb.edu", "date": "1997-08-31T01:48:33Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-08-31T01:48:33Z"}, "message": "Fix Freedbsd build problem with patch from more recent texinfo sources.\n\n\t* info/terminal.c (terminal_prep_terminal): Only use OCRNL and\n\t\tONLCR if they are defined.  Reported by many people.\n\nFrom-SVN: r15003", "tree": {"sha": "e01933f5d99bce3608b19942ce5c46d7cb1da564", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e01933f5d99bce3608b19942ce5c46d7cb1da564"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f122a21abed3b537e9baf105fff9f9066f7c190", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f122a21abed3b537e9baf105fff9f9066f7c190", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f122a21abed3b537e9baf105fff9f9066f7c190", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f122a21abed3b537e9baf105fff9f9066f7c190/comments", "author": null, "committer": null, "parents": [{"sha": "3b7e5ef4c7bd600b36c717a10270e3a727473210", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b7e5ef4c7bd600b36c717a10270e3a727473210", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b7e5ef4c7bd600b36c717a10270e3a727473210"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "aea2b3864d84d34e9eddf672e64ad31d028aa055", "filename": "texinfo/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f122a21abed3b537e9baf105fff9f9066f7c190/texinfo%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f122a21abed3b537e9baf105fff9f9066f7c190/texinfo%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/texinfo%2FChangeLog?ref=4f122a21abed3b537e9baf105fff9f9066f7c190", "patch": "@@ -16,6 +16,11 @@ Mon May 26 12:44:43 1997  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* texinfo.tex: Update to newest FSF version (2.201).\n \n+Fri Mar 14 15:05:17 1997  Karl Berry  <karl@cs.umb.edu>\n+\n+\t* info/terminal.c (terminal_prep_terminal): Only use OCRNL and\n+\t\tONLCR if they are defined.  Reported by many people.\n+\n Wed Feb 12 11:15:16 1997  Michael Meissner  <meissner@cygnus.com>\n \n \t* util/texindex.c (main): Make main an int function, not void."}, {"sha": "7275d00cb5b300c884542f8f88b98bc9568089a6", "filename": "texinfo/info/terminal.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f122a21abed3b537e9baf105fff9f9066f7c190/texinfo%2Finfo%2Fterminal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f122a21abed3b537e9baf105fff9f9066f7c190/texinfo%2Finfo%2Fterminal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/texinfo%2Finfo%2Fterminal.c?ref=4f122a21abed3b537e9baf105fff9f9066f7c190", "patch": "@@ -637,7 +637,14 @@ terminal_prep_terminal ()\n \n #if defined (HAVE_TERMIOS_H) || defined (HAVE_TERMIO_H)\n   ttybuff.c_iflag &= (~ISTRIP & ~INLCR & ~IGNCR & ~ICRNL & ~IXON);\n-  ttybuff.c_oflag &= (~ONLCR & ~OCRNL);\n+/* These output flags are not part of POSIX, so only use them if they\n+   are defined.  */\n+#ifdef ONLCR\n+  ttybuff.c_oflag &= ~ONLCR ;\n+#endif\n+#ifdef OCRNL\n+  ttybuff.c_oflag &= ~OCRNL;\n+#endif\n   ttybuff.c_lflag &= (~ICANON & ~ECHO);\n \n   ttybuff.c_cc[VMIN] = 1;"}]}