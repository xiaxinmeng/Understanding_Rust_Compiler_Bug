{"sha": "343c5d461c4f8659b1acc74a99ae78ac234b8ba7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQzYzVkNDYxYzRmODY1OWIxYWNjNzRhOTlhZTc4YWMyMzRiOGJhNw==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2012-08-14T09:32:06Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2012-08-14T09:32:06Z"}, "message": "tree-into-ssa.c (update_ssa): Verify we do not rename symbols that are already partly in SSA form.\n\n2012-08-14  Richard Guenther  <rguenther@suse.de>\n\n\t* tree-into-ssa.c (update_ssa): Verify we do not rename\n\tsymbols that are already partly in SSA form.\n\nFrom-SVN: r190377", "tree": {"sha": "32c038a5cec0dd3d2ea3fd84d0a012318a343540", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/32c038a5cec0dd3d2ea3fd84d0a012318a343540"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/343c5d461c4f8659b1acc74a99ae78ac234b8ba7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/343c5d461c4f8659b1acc74a99ae78ac234b8ba7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/343c5d461c4f8659b1acc74a99ae78ac234b8ba7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/343c5d461c4f8659b1acc74a99ae78ac234b8ba7/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "dbabddf32d99e53e3dd0953267b87939ecb014f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbabddf32d99e53e3dd0953267b87939ecb014f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dbabddf32d99e53e3dd0953267b87939ecb014f9"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "b0cb30889fa2f72debb7a6f2c145fc38804a1a20", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/343c5d461c4f8659b1acc74a99ae78ac234b8ba7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/343c5d461c4f8659b1acc74a99ae78ac234b8ba7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=343c5d461c4f8659b1acc74a99ae78ac234b8ba7", "patch": "@@ -1,3 +1,8 @@\n+2012-08-14  Richard Guenther  <rguenther@suse.de>\n+\n+\t* tree-into-ssa.c (update_ssa): Verify we do not rename\n+\tsymbols that are already partly in SSA form.\n+\n 2012-08-14  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/53411"}, {"sha": "50e2eff5df88ac250564f814f3e1eda11d1f2f07", "filename": "gcc/tree-into-ssa.c", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/343c5d461c4f8659b1acc74a99ae78ac234b8ba7/gcc%2Ftree-into-ssa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/343c5d461c4f8659b1acc74a99ae78ac234b8ba7/gcc%2Ftree-into-ssa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-into-ssa.c?ref=343c5d461c4f8659b1acc74a99ae78ac234b8ba7", "patch": "@@ -3247,6 +3247,30 @@ update_ssa (unsigned update_flags)\n \t statements and set local live-in information for the PHI\n \t placement heuristics.  */\n       prepare_block_for_update (start_bb, insert_phi_p);\n+\n+#ifdef ENABLE_CHECKING\n+      for (i = 1; i < num_ssa_names; ++i)\n+\t{\n+\t  tree name = ssa_name (i);\n+\t  if (!name\n+\t      || virtual_operand_p (name))\n+\t    continue;\n+\n+\t  /* For all but virtual operands, which do not have SSA names\n+\t     with overlapping life ranges, ensure that symbols marked\n+\t     for renaming do not have existing SSA names associated with\n+\t     them as we do not re-write them out-of-SSA before going\n+\t     into SSA for the remaining symbol uses.  */\n+\t  if (marked_for_renaming (SSA_NAME_VAR (name)))\n+\t    {\n+\t      fprintf (stderr, \"Existing SSA name for symbol marked for \"\n+\t\t       \"renaming: \");\n+\t      print_generic_expr (stderr, name, TDF_SLIM);\n+\t      fprintf (stderr, \"\\n\");\n+\t      internal_error (\"SSA corruption\");\n+\t    }\n+\t}\n+#endif\n     }\n   else\n     {"}]}