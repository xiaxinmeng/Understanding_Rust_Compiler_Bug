{"sha": "bbe281da97b49f4335b6d9570852c9ab0203b1f3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmJlMjgxZGE5N2I0OWY0MzM1YjZkOTU3MDg1MmM5YWIwMjAzYjFmMw==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2014-04-11T19:22:20Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2014-04-11T19:22:20Z"}, "message": "lto.c: Include ipa-inline.h\n\n\t* lto.c: Include ipa-inline.h\n\t(do_whole_program_analysis): Free inline summary after partitioning.\n\nFrom-SVN: r209322", "tree": {"sha": "2f4d2a45ccbb96e4e5f9f4ab31df2db52a1a1126", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2f4d2a45ccbb96e4e5f9f4ab31df2db52a1a1126"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bbe281da97b49f4335b6d9570852c9ab0203b1f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbe281da97b49f4335b6d9570852c9ab0203b1f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbe281da97b49f4335b6d9570852c9ab0203b1f3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbe281da97b49f4335b6d9570852c9ab0203b1f3/comments", "author": null, "committer": null, "parents": [{"sha": "742f66e7367369abaefd2a5f8d1f7de448f1b997", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/742f66e7367369abaefd2a5f8d1f7de448f1b997", "html_url": "https://github.com/Rust-GCC/gccrs/commit/742f66e7367369abaefd2a5f8d1f7de448f1b997"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "2a7d86368645a0860750bc53e11eb91c5350bade", "filename": "gcc/lto/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbe281da97b49f4335b6d9570852c9ab0203b1f3/gcc%2Flto%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbe281da97b49f4335b6d9570852c9ab0203b1f3/gcc%2Flto%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2FChangeLog?ref=bbe281da97b49f4335b6d9570852c9ab0203b1f3", "patch": "@@ -1,3 +1,8 @@\n+2014-03-19  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* lto.c: Include ipa-inline.h\n+\t(do_whole_program_analysis): Free inline summary after partitioning.\n+\n 2014-03-19  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/60553"}, {"sha": "ee6a28a7d8649c7fea1688c065e84c3d9acda93f", "filename": "gcc/lto/lto.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbe281da97b49f4335b6d9570852c9ab0203b1f3/gcc%2Flto%2Flto.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbe281da97b49f4335b6d9570852c9ab0203b1f3/gcc%2Flto%2Flto.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2Flto.c?ref=bbe281da97b49f4335b6d9570852c9ab0203b1f3", "patch": "@@ -49,6 +49,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"data-streamer.h\"\n #include \"context.h\"\n #include \"pass_manager.h\"\n+#include \"ipa-inline.h\"\n \n \n /* Number of parallel tasks to run, -1 if we want to use GNU Make jobserver.  */\n@@ -3273,6 +3274,10 @@ do_whole_program_analysis (void)\n   else\n     lto_balanced_map ();\n \n+  /* Inline summaries are needed for balanced partitioning.  Free them now so\n+     the memory can be used for streamer caches.  */\n+  inline_free_summary ();\n+\n   /* AUX pointers are used by partitioning code to bookkeep number of\n      partitions symbol is in.  This is no longer needed.  */\n   FOR_EACH_SYMBOL (node)"}]}