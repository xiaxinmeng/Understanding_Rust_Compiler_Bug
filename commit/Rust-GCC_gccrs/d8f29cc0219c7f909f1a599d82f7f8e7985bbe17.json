{"sha": "d8f29cc0219c7f909f1a599d82f7f8e7985bbe17", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDhmMjljYzAyMTljN2Y5MDlmMWE1OTlkODJmN2Y4ZTc5ODViYmUxNw==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2015-08-21T17:39:48Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2015-08-21T17:39:48Z"}, "message": "decl.c (grokvardecl): Simplify the latter.\n\n2015-08-21  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* decl.c (grokvardecl): Simplify the latter.\n\nFrom-SVN: r227078", "tree": {"sha": "15e59c11e5b403e47f192d4ad5a35ffdfd7d5757", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/15e59c11e5b403e47f192d4ad5a35ffdfd7d5757"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d8f29cc0219c7f909f1a599d82f7f8e7985bbe17", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8f29cc0219c7f909f1a599d82f7f8e7985bbe17", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8f29cc0219c7f909f1a599d82f7f8e7985bbe17", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8f29cc0219c7f909f1a599d82f7f8e7985bbe17/comments", "author": null, "committer": null, "parents": [{"sha": "abe64d9ec49d7bd6735e4c303714297d28c09ad4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abe64d9ec49d7bd6735e4c303714297d28c09ad4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/abe64d9ec49d7bd6735e4c303714297d28c09ad4"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "bc613f088e1dc2af4940770a74843b592595b86e", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8f29cc0219c7f909f1a599d82f7f8e7985bbe17/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8f29cc0219c7f909f1a599d82f7f8e7985bbe17/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=d8f29cc0219c7f909f1a599d82f7f8e7985bbe17", "patch": "@@ -1,3 +1,7 @@\n+2015-08-21  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* decl.c (grokvardecl): Simplify the latter.\n+\n 2015-08-21  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* decl.c (grokvardecl): Complete check added for c++/67065."}, {"sha": "205febc1dad43d18162a4c02e70f95b161defd4a", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8f29cc0219c7f909f1a599d82f7f8e7985bbe17/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8f29cc0219c7f909f1a599d82f7f8e7985bbe17/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=d8f29cc0219c7f909f1a599d82f7f8e7985bbe17", "patch": "@@ -8357,8 +8357,7 @@ grokvardecl (tree type,\n \n   if (DECL_NAME (decl)\n       && MAIN_NAME_P (DECL_NAME (decl))\n-      && CP_DECL_CONTEXT (decl) == global_namespace\n-      && !at_function_scope_p ())\n+      && scope == global_namespace)\n     error (\"cannot declare %<::main%> to be a global variable\");\n \n   /* Check that the variable can be safely declared as a concept."}]}