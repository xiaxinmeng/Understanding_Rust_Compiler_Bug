{"sha": "0acf409fdc1266c03caf70c778e8a79ce2f59261", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGFjZjQwOWZkYzEyNjZjMDNjYWY3MGM3NzhlOGE3OWNlMmY1OTI2MQ==", "commit": {"author": {"name": "David S. Miller", "email": "davem@redhat.com", "date": "2002-04-03T06:31:45Z"}, "committer": {"name": "David S. Miller", "email": "davem@gcc.gnu.org", "date": "2002-04-03T06:31:45Z"}, "message": "sparc.md (ldd peephole2s): Fix final arg to mems_ok_for_ldd_peep when the order of the loads being...\n\n2002-04-02  David S. Miller  <davem@redhat.com>\n\n\t* config/sparc/sparc.md (ldd peephole2s): Fix final arg to\n\tmems_ok_for_ldd_peep when the order of the loads being examined\n\tis reversed.\n\t* config/sparc/sparc.c (mems_ok_for_ldd_peep): Expand upon\n\texisting comment to increase comprehension of this situation.\n\nFrom-SVN: r51796", "tree": {"sha": "cf6c6c93667ba926e8a1992e32c838432372c9e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cf6c6c93667ba926e8a1992e32c838432372c9e3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0acf409fdc1266c03caf70c778e8a79ce2f59261", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0acf409fdc1266c03caf70c778e8a79ce2f59261", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0acf409fdc1266c03caf70c778e8a79ce2f59261", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0acf409fdc1266c03caf70c778e8a79ce2f59261/comments", "author": null, "committer": null, "parents": [{"sha": "856544448eef7428a40531f04d5c15207db36274", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/856544448eef7428a40531f04d5c15207db36274", "html_url": "https://github.com/Rust-GCC/gccrs/commit/856544448eef7428a40531f04d5c15207db36274"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "d4522513a732e398b9ec470ec3c9172561306ace", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0acf409fdc1266c03caf70c778e8a79ce2f59261/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0acf409fdc1266c03caf70c778e8a79ce2f59261/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0acf409fdc1266c03caf70c778e8a79ce2f59261", "patch": "@@ -1,3 +1,11 @@\n+2002-04-02  David S. Miller  <davem@redhat.com>\n+\n+\t* config/sparc/sparc.md (ldd peephole2s): Fix final arg to\n+\tmems_ok_for_ldd_peep when the order of the loads being examined\n+\tis reversed.\n+\t* config/sparc/sparc.c (mems_ok_for_ldd_peep): Expand upon\n+\texisting comment to increase comprehension of this situation.\n+\n 2002-04-02  Zack Weinberg  <zack@codesourcery.com>\n \n \t* config/sh/sh.md: Don't use union real_extract."}, {"sha": "7df4df6e0fb6ff437d3382ecae95a1409e8edfbc", "filename": "gcc/config/sparc/sparc.c", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0acf409fdc1266c03caf70c778e8a79ce2f59261/gcc%2Fconfig%2Fsparc%2Fsparc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0acf409fdc1266c03caf70c778e8a79ce2f59261/gcc%2Fconfig%2Fsparc%2Fsparc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.c?ref=0acf409fdc1266c03caf70c778e8a79ce2f59261", "patch": "@@ -5798,6 +5798,20 @@ registers_ok_for_ldd_peep (reg1, reg2)\n \tld [%o0 + 4], %o1\n    to\n    \tldd [%o0], %o0\n+   nor:\n+\tld [%g3 + 4], %g3\n+\tld [%g3], %g2\n+   to\n+        ldd [%g3], %g2\n+\n+   But, note that the transformation from:\n+\tld [%g2 + 4], %g3\n+        ld [%g2], %g2\n+   to\n+\tldd [%g2], %g2\n+   is perfectly fine.  Thus, the peephole2 patterns always pass us\n+   the destination register of the first load, never the second one.\n+\n    For stores we don't have a similar problem, so dependent_reg_rtx is\n    NULL_RTX.  */\n "}, {"sha": "d783fea8a2f101cd4a75a2f3bb449b5a23c14105", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0acf409fdc1266c03caf70c778e8a79ce2f59261/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0acf409fdc1266c03caf70c778e8a79ce2f59261/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=0acf409fdc1266c03caf70c778e8a79ce2f59261", "patch": "@@ -9062,7 +9062,7 @@\n    (set (match_operand:SI 2 \"register_operand\" \"\")\n         (match_operand:SI 3 \"memory_operand\" \"\"))]\n   \"registers_ok_for_ldd_peep (operands[2], operands[0]) \n-  && mems_ok_for_ldd_peep (operands[3], operands[1], operands[2])\"\n+  && mems_ok_for_ldd_peep (operands[3], operands[1], operands[0])\"\n   [(set (match_dup 2)\n \t(match_dup 3))]\n    \"operands[3] = change_address (operands[3], DImode, NULL);\n@@ -9087,7 +9087,7 @@\n    (set (match_operand:SF 2 \"register_operand\" \"\")\n         (match_operand:SF 3 \"memory_operand\" \"\"))]\n   \"registers_ok_for_ldd_peep (operands[2], operands[0]) \n-  && mems_ok_for_ldd_peep (operands[3], operands[1], operands[2])\"\n+  && mems_ok_for_ldd_peep (operands[3], operands[1], operands[0])\"\n   [(set (match_dup 2)\n \t(match_dup 3))]\n   \"operands[3] = change_address (operands[3], DFmode, NULL);"}]}