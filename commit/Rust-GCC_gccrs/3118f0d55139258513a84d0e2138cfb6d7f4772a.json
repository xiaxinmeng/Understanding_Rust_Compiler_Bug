{"sha": "3118f0d55139258513a84d0e2138cfb6d7f4772a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzExOGYwZDU1MTM5MjU4NTEzYTg0ZDBlMjEzOGNmYjZkN2Y0NzcyYQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2006-06-05T15:08:56Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2006-06-05T15:08:56Z"}, "message": "re PR bootstrap/27818 (libjava installs libltdl sources in $prefix/share/libtool)\n\n\tPR gcc/27818:\n\t* Makefile.in: Rebuilt.\n\t* Makefile.am (install-data-local): Define conditionally.\n\nFrom-SVN: r114389", "tree": {"sha": "c66b7df7df6e37a4454afaa2d2146352244916b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c66b7df7df6e37a4454afaa2d2146352244916b4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3118f0d55139258513a84d0e2138cfb6d7f4772a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3118f0d55139258513a84d0e2138cfb6d7f4772a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3118f0d55139258513a84d0e2138cfb6d7f4772a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3118f0d55139258513a84d0e2138cfb6d7f4772a/comments", "author": null, "committer": null, "parents": [{"sha": "a8b28492159212fec3f0faf9dc49c80eef899561", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8b28492159212fec3f0faf9dc49c80eef899561", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8b28492159212fec3f0faf9dc49c80eef899561"}], "stats": {"total": 20, "additions": 15, "deletions": 5}, "files": [{"sha": "318b1a9b06354b56dac26ca35116a90e573e59bc", "filename": "libjava/libltdl/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3118f0d55139258513a84d0e2138cfb6d7f4772a/libjava%2Flibltdl%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3118f0d55139258513a84d0e2138cfb6d7f4772a/libjava%2Flibltdl%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibltdl%2FChangeLog?ref=3118f0d55139258513a84d0e2138cfb6d7f4772a", "patch": "@@ -1,3 +1,9 @@\n+2006-06-05  Tom Tromey  <tromey@redhat.com>\n+\n+\tPR gcc/27818:\n+\t* Makefile.in: Rebuilt.\n+\t* Makefile.am (install-data-local): Define conditionally.\n+\n 2006-04-08  Andreas Tobler  <a.tobler@schweiz.ch>\n \n \t* configure: Rebuilt."}, {"sha": "70c31ed116325fe346368b5f892b03012fe80e42", "filename": "libjava/libltdl/Makefile.am", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3118f0d55139258513a84d0e2138cfb6d7f4772a/libjava%2Flibltdl%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3118f0d55139258513a84d0e2138cfb6d7f4772a/libjava%2Flibltdl%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibltdl%2FMakefile.am?ref=3118f0d55139258513a84d0e2138cfb6d7f4772a", "patch": "@@ -42,10 +42,13 @@ ltdldatafiles = COPYING.LIB README acinclude.m4 aclocal.m4 \\\n \t\tinstall-sh missing ltmain.sh \\\n \t\tltdl.c ltdl.h\n \n+## GCJ LOCAL: fix install buglet.  See PR 27818\n+if INSTALL_LTDL\n ## To avoid spurious reconfiguration when the user installs these files\n ## with libtoolize, we have to preserve their timestamps carefully:\n install-data-local:\n \t-rm -rf $(DESTDIR)$(ltdldatadir)\n \t$(mkinstalldirs) $(DESTDIR)$(ltdldatadir)\n \t( cd $(srcdir) && $(AMTAR) chf - $(ltdldatafiles); ) \\\n \t  | ( umask 0 && cd $(DESTDIR)$(ltdldatadir) && $(AMTAR) xf -; )\n+endif"}, {"sha": "05dc43dccf126aa38ad2dab32fcc7ffb2a7c2b6d", "filename": "libjava/libltdl/Makefile.in", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3118f0d55139258513a84d0e2138cfb6d7f4772a/libjava%2Flibltdl%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3118f0d55139258513a84d0e2138cfb6d7f4772a/libjava%2Flibltdl%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibltdl%2FMakefile.in?ref=3118f0d55139258513a84d0e2138cfb6d7f4772a", "patch": "@@ -577,6 +577,7 @@ distclean-generic:\n maintainer-clean-generic:\n \t@echo \"This command is intended for maintainers to use\"\n \t@echo \"it deletes files that may require special tools to rebuild.\"\n+@INSTALL_LTDL_FALSE@install-data-local:\n clean: clean-am\n \n clean-am: clean-generic clean-libLTLIBRARIES clean-libtool \\\n@@ -654,11 +655,11 @@ $(libltdl_la_OBJECTS) $(libltdlc_la_OBJECTS): libtool\n libtool: $(LIBTOOL_DEPS)\n \t$(SHELL) ./config.status --recheck\n \n-install-data-local:\n-\t-rm -rf $(DESTDIR)$(ltdldatadir)\n-\t$(mkinstalldirs) $(DESTDIR)$(ltdldatadir)\n-\t( cd $(srcdir) && $(AMTAR) chf - $(ltdldatafiles); ) \\\n-\t  | ( umask 0 && cd $(DESTDIR)$(ltdldatadir) && $(AMTAR) xf -; )\n+@INSTALL_LTDL_TRUE@install-data-local:\n+@INSTALL_LTDL_TRUE@\t-rm -rf $(DESTDIR)$(ltdldatadir)\n+@INSTALL_LTDL_TRUE@\t$(mkinstalldirs) $(DESTDIR)$(ltdldatadir)\n+@INSTALL_LTDL_TRUE@\t( cd $(srcdir) && $(AMTAR) chf - $(ltdldatafiles); ) \\\n+@INSTALL_LTDL_TRUE@\t  | ( umask 0 && cd $(DESTDIR)$(ltdldatadir) && $(AMTAR) xf -; )\n # Tell versions [3.59,3.63) of GNU make to not export all variables.\n # Otherwise a system limit (for SysV at least) may be exceeded.\n .NOEXPORT:"}]}