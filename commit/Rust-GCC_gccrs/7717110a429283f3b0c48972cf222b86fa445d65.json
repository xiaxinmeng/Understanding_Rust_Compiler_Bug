{"sha": "7717110a429283f3b0c48972cf222b86fa445d65", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzcxNzExMGE0MjkyODNmM2IwYzQ4OTcyY2YyMjJiODZmYTQ0NWQ2NQ==", "commit": {"author": {"name": "Paul Koning", "email": "ni1d@arrl.net", "date": "2018-10-05T18:08:34Z"}, "committer": {"name": "Paul Koning", "email": "pkoning@gcc.gnu.org", "date": "2018-10-05T18:08:34Z"}, "message": "Add some pdp11 target hook definitions for C++\n\n    * config/pdp11/pdp11.c (TARGET_CXX_GUARD_TYPE): Define.\n    (TARGET_CXX_CLASS_DATA_ALWAYS_COMDAT): Define.\n    (TARGET_CXX_LIBRARY_RTTI_COMDAT): Define.\n    (pdp11_guard_type): New function.\n\nFrom-SVN: r264883", "tree": {"sha": "7217c59e03816c1f559028ea7ab3c193680a22fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7217c59e03816c1f559028ea7ab3c193680a22fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7717110a429283f3b0c48972cf222b86fa445d65", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7717110a429283f3b0c48972cf222b86fa445d65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7717110a429283f3b0c48972cf222b86fa445d65", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7717110a429283f3b0c48972cf222b86fa445d65/comments", "author": null, "committer": null, "parents": [{"sha": "7fc9c2e52f66a2b8aa101ef918829046f8f517e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fc9c2e52f66a2b8aa101ef918829046f8f517e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7fc9c2e52f66a2b8aa101ef918829046f8f517e8"}], "stats": {"total": 23, "additions": 23, "deletions": 0}, "files": [{"sha": "49fce320d083a459e88529193322518be3efafc9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7717110a429283f3b0c48972cf222b86fa445d65/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7717110a429283f3b0c48972cf222b86fa445d65/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7717110a429283f3b0c48972cf222b86fa445d65", "patch": "@@ -1,3 +1,10 @@\n+2018-10-05  Paul Koning  <ni1d@arrl.net>\n+\n+\t* config/pdp11/pdp11.c (TARGET_CXX_GUARD_TYPE): Define.\n+\t(TARGET_CXX_CLASS_DATA_ALWAYS_COMDAT): Define.\n+\t(TARGET_CXX_LIBRARY_RTTI_COMDAT): Define.\n+\t(pdp11_guard_type): New function.\n+\n 2018-10-05  Paul Koning  <ni1d@arrl.net>\n \n \t* config/pdp11/pdp11.h (FLOAT_TYPE_SIZE): Always 32."}, {"sha": "b3b7ced9e07b8cf4aa7a95ce374ed7e6dcd7bbd6", "filename": "gcc/config/pdp11/pdp11.c", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7717110a429283f3b0c48972cf222b86fa445d65/gcc%2Fconfig%2Fpdp11%2Fpdp11.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7717110a429283f3b0c48972cf222b86fa445d65/gcc%2Fconfig%2Fpdp11%2Fpdp11.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpdp11%2Fpdp11.c?ref=7717110a429283f3b0c48972cf222b86fa445d65", "patch": "@@ -292,6 +292,15 @@ static bool pdp11_scalar_mode_supported_p (scalar_mode);\n #undef TARGET_INVALID_WITHIN_DOLOOP\n #define TARGET_INVALID_WITHIN_DOLOOP hook_constcharptr_const_rtx_insn_null\n \n+#undef  TARGET_CXX_GUARD_TYPE\n+#define TARGET_CXX_GUARD_TYPE pdp11_guard_type\n+\n+#undef  TARGET_CXX_CLASS_DATA_ALWAYS_COMDAT\n+#define TARGET_CXX_CLASS_DATA_ALWAYS_COMDAT hook_bool_void_false\n+\n+#undef  TARGET_CXX_LIBRARY_RTTI_COMDAT\n+#define TARGET_CXX_LIBRARY_RTTI_COMDAT hook_bool_void_false\n+\n #undef TARGET_HAVE_SPECULATION_SAFE_VALUE\n #define TARGET_HAVE_SPECULATION_SAFE_VALUE speculation_safe_value_not_needed\n \f\n@@ -1702,6 +1711,13 @@ pdp11_can_change_mode_class (machine_mode from,\n   return !reg_classes_intersect_p (FPU_REGS, rclass);\n }\n \n+/* Implement TARGET_CXX_GUARD_TYPE */\n+static tree\n+pdp11_guard_type (void)\n+{\n+  return short_integer_type_node;\n+}\n+\n /* TARGET_PREFERRED_RELOAD_CLASS\n \n    Given an rtx X being reloaded into a reg required to be"}]}