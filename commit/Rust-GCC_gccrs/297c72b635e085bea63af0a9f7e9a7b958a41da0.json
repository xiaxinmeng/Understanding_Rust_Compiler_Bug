{"sha": "297c72b635e085bea63af0a9f7e9a7b958a41da0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjk3YzcyYjYzNWUwODViZWE2M2FmMGE5ZjdlOWE3Yjk1OGE0MWRhMA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-20T22:22:43Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-20T22:22:43Z"}, "message": "(INITIALIZE_TRAMPOLINE): Emit 3 flush instrutions.\n\nFrom-SVN: r5840", "tree": {"sha": "295afafe19e6c30fa9c86b9d2f4a5952bbbd9c76", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/295afafe19e6c30fa9c86b9d2f4a5952bbbd9c76"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/297c72b635e085bea63af0a9f7e9a7b958a41da0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/297c72b635e085bea63af0a9f7e9a7b958a41da0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/297c72b635e085bea63af0a9f7e9a7b958a41da0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/297c72b635e085bea63af0a9f7e9a7b958a41da0/comments", "author": null, "committer": null, "parents": [{"sha": "92dee628c1b1e2819e6869feceb0943e25b30320", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92dee628c1b1e2819e6869feceb0943e25b30320", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92dee628c1b1e2819e6869feceb0943e25b30320"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "e988bbf41cb03a14d247d9ae302a91d8b5f6d209", "filename": "gcc/config/sparc/sparc.h", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/297c72b635e085bea63af0a9f7e9a7b958a41da0/gcc%2Fconfig%2Fsparc%2Fsparc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/297c72b635e085bea63af0a9f7e9a7b958a41da0/gcc%2Fconfig%2Fsparc%2Fsparc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.h?ref=297c72b635e085bea63af0a9f7e9a7b958a41da0", "patch": "@@ -1015,7 +1015,10 @@ extern union tree_node *current_function_decl;\n    This takes 16 insns: 2 shifts & 2 ands (to split up addresses), 4 sethi\n    (to load in opcodes), 4 iors (to merge address and opcodes), and 4 writes\n    (to store insns).  This is a bit excessive.  Perhaps a different\n-   mechanism would be better here.  */\n+   mechanism would be better here.\n+\n+   Emit 3 FLUSH instructions (UNSPEC_VOLATILE 2) to synchonize the data\n+   and instruction caches.  */\n \n #define INITIALIZE_TRAMPOLINE(TRAMP, FNADDR, CXT)\t\t\t\\\n {\t\t\t\t\t\t\t\t\t\\\n@@ -1046,6 +1049,15 @@ extern union tree_node *current_function_decl;\n   emit_move_insn (tem, g1_ori);\t\t\t\t\t\t\\\n   emit_insn (gen_iorsi3 (low_cxt, low_cxt, tem));\t\t\t\\\n   emit_move_insn (gen_rtx (MEM, SImode, plus_constant (TRAMP, 16)), low_cxt);\\\n+  emit_insn (gen_rtx (UNSPEC_VOLATILE, VOIDmode,\t\t\t\\\n+\t\t      gen_rtvec (1, plus_constant (TRAMP, 0)),\t\t\\\n+\t\t      2));\t\t\t\t\t\t\\\n+  emit_insn (gen_rtx (UNSPEC_VOLATILE, VOIDmode,\t\t\t\\\n+\t\t      gen_rtvec (1, plus_constant (TRAMP, 8)),\t\t\\\n+\t\t      2));\t\t\t\t\t\t\\\n+  emit_insn (gen_rtx (UNSPEC_VOLATILE, VOIDmode,\t\t\t\\\n+\t\t      gen_rtvec (1, plus_constant (TRAMP, 16)),\t\t\\\n+\t\t      2));\t\t\t\t\t\t\\\n }\n \f\n /* Generate necessary RTL for __builtin_saveregs()."}]}