{"sha": "9060e33505bda4d9d9301e26f7962d347cf79c9d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTA2MGUzMzUwNWJkYTRkOWQ5MzAxZTI2Zjc5NjJkMzQ3Y2Y3OWM5ZA==", "commit": {"author": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2016-01-13T11:59:29Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2016-01-13T11:59:29Z"}, "message": "S/390: PR69247: Fix bswap hi splitter.\n\ngcc/ChangeLog:\n\n2016-01-13  Andreas Krebbel  <krebbel@linux.vnet.ibm.com>\n\n\tPR target/69247\n\t* config/s390/s390.md (bswaphi splitter): Use simplify_gen_subreg.\n\ngcc/testsuite/ChangeLog:\n\n2016-01-13  Jakub Jelinek  <jakub@redhat.com>\n\n\tPR target/69247\n\t* gcc.dg/pr69247.c: New test.\n\nFrom-SVN: r232318", "tree": {"sha": "3fd86bc7b0c6922b245f4dda10f3a7309e67037e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3fd86bc7b0c6922b245f4dda10f3a7309e67037e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9060e33505bda4d9d9301e26f7962d347cf79c9d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9060e33505bda4d9d9301e26f7962d347cf79c9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9060e33505bda4d9d9301e26f7962d347cf79c9d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9060e33505bda4d9d9301e26f7962d347cf79c9d/comments", "author": null, "committer": null, "parents": [{"sha": "e862906c2505cab2bd31a76e34b882807d0db9fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e862906c2505cab2bd31a76e34b882807d0db9fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e862906c2505cab2bd31a76e34b882807d0db9fa"}], "stats": {"total": 30, "additions": 26, "deletions": 4}, "files": [{"sha": "ab61dff4b099275040ccdd034cd957adf6d70963", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9060e33505bda4d9d9301e26f7962d347cf79c9d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9060e33505bda4d9d9301e26f7962d347cf79c9d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9060e33505bda4d9d9301e26f7962d347cf79c9d", "patch": "@@ -1,3 +1,8 @@\n+2016-01-13  Andreas Krebbel  <krebbel@linux.vnet.ibm.com>\n+\n+\tPR target/69247\n+\t* config/s390/s390.md (bswaphi splitter): Use simplify_gen_subreg.\n+\n 2016-01-13  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/69242"}, {"sha": "3e340c350305e0437cea8ecc461525a3b28455dc", "filename": "gcc/config/s390/s390.md", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9060e33505bda4d9d9301e26f7962d347cf79c9d/gcc%2Fconfig%2Fs390%2Fs390.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9060e33505bda4d9d9301e26f7962d347cf79c9d/gcc%2Fconfig%2Fs390%2Fs390.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.md?ref=9060e33505bda4d9d9301e26f7962d347cf79c9d", "patch": "@@ -10522,11 +10522,9 @@\n \t(bswap:HI (match_operand:HI 1 \"register_operand\" \"\")))]\n   \"TARGET_CPU_ZARCH\"\n   [(set (match_dup 2) (bswap:SI (match_dup 3)))\n-   (set (match_dup 2) (lshiftrt:SI (match_dup 2)\n-\t\t\t\t   (const_int 16)))\n-   (set (match_dup 0) (subreg:HI (match_dup 2) 2))]\n+   (set (match_dup 2) (lshiftrt:SI (match_dup 2) (const_int 16)))]\n {\n-  operands[2] = gen_reg_rtx (SImode);\n+  operands[2] = simplify_gen_subreg (SImode, operands[0], HImode, 0);\n   operands[3] = simplify_gen_subreg (SImode, operands[1], HImode, 0);\n })\n "}, {"sha": "59596d0955c0b7469a338f0d92d6d4a5b219cb46", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9060e33505bda4d9d9301e26f7962d347cf79c9d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9060e33505bda4d9d9301e26f7962d347cf79c9d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9060e33505bda4d9d9301e26f7962d347cf79c9d", "patch": "@@ -1,3 +1,8 @@\n+2016-01-13  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/69247\n+\t* gcc.dg/pr69247.c: New test.\n+\n 2016-01-13  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/69242"}, {"sha": "b7406e6822329af54e44f1038c8e8b66c1b7ffca", "filename": "gcc/testsuite/gcc.dg/pr69247.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9060e33505bda4d9d9301e26f7962d347cf79c9d/gcc%2Ftestsuite%2Fgcc.dg%2Fpr69247.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9060e33505bda4d9d9301e26f7962d347cf79c9d/gcc%2Ftestsuite%2Fgcc.dg%2Fpr69247.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr69247.c?ref=9060e33505bda4d9d9301e26f7962d347cf79c9d", "patch": "@@ -0,0 +1,14 @@\n+/* PR target/69247 */\n+/* { dg-do compile } */\n+/* { dg-options \"-O2\" } */\n+/* { dg-additional-options \"-march=zEC12\" { target s390*-*-* } } */\n+\n+void foo (short *);\n+\n+void\n+bar (short x, int y)\n+{\n+  if (y)\n+    x = x << 8 | (unsigned short) x >> 8;\n+  foo (&x);\n+}"}]}