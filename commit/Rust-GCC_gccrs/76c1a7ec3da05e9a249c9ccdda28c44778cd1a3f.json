{"sha": "76c1a7ec3da05e9a249c9ccdda28c44778cd1a3f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzZjMWE3ZWMzZGEwNWU5YTI0OWM5Y2NkZGEyOGM0NDc3OGNkMWEzZg==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@net-b.de", "date": "2013-03-01T10:24:11Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2013-03-01T10:24:11Z"}, "message": "trans-decl.c (gfc_trans_deferred_vars): Free expr after use.\n\n2013-03-01  Tobias Burnus  <burnus@net-b.de>\n\n        * trans-decl.c (gfc_trans_deferred_vars): Free expr after use.\n        * trans-io.c (build_dt): Ditto.\n\nFrom-SVN: r196372", "tree": {"sha": "18b5f22d4be524defaf3e433b8386679d956586b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/18b5f22d4be524defaf3e433b8386679d956586b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/76c1a7ec3da05e9a249c9ccdda28c44778cd1a3f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76c1a7ec3da05e9a249c9ccdda28c44778cd1a3f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/76c1a7ec3da05e9a249c9ccdda28c44778cd1a3f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76c1a7ec3da05e9a249c9ccdda28c44778cd1a3f/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cf2f3b1b6783317bfa53bc154eaee59a03ff47c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf2f3b1b6783317bfa53bc154eaee59a03ff47c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf2f3b1b6783317bfa53bc154eaee59a03ff47c4"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "cb6fd6122a03a0dec52887afd5befa670432582c", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76c1a7ec3da05e9a249c9ccdda28c44778cd1a3f/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76c1a7ec3da05e9a249c9ccdda28c44778cd1a3f/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=76c1a7ec3da05e9a249c9ccdda28c44778cd1a3f", "patch": "@@ -1,3 +1,8 @@\n+2013-03-01  Tobias Burnus  <burnus@net-b.de>\n+\n+\t* trans-decl.c (gfc_trans_deferred_vars): Free expr after use.\n+\t* trans-io.c (build_dt): Ditto.\n+\n 2013-02-24  Joseph Myers  <joseph@codesourcery.com>\n \n \t* resolve.c (generate_component_assignments): Don't use UTF-8"}, {"sha": "7806bbbd8789ed2ce1ebbab6f8b7e73916e5f865", "filename": "gcc/fortran/trans-decl.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76c1a7ec3da05e9a249c9ccdda28c44778cd1a3f/gcc%2Ffortran%2Ftrans-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76c1a7ec3da05e9a249c9ccdda28c44778cd1a3f/gcc%2Ffortran%2Ftrans-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-decl.c?ref=76c1a7ec3da05e9a249c9ccdda28c44778cd1a3f", "patch": "@@ -3818,10 +3818,12 @@ gfc_trans_deferred_vars (gfc_symbol * proc_sym, gfc_wrapped_block * block)\n \t\t\t\t\t\t      NULL_TREE, true, NULL,\n \t\t\t\t\t\t      true);\n \t\t  else\n-\t\t    tmp = gfc_deallocate_scalar_with_status (se.expr, NULL_TREE,\n-\t\t\t\t\t\t   true,\n-\t\t\t\t\t\t   gfc_lval_expr_from_sym (sym),\n-\t\t\t\t\t\t   sym->ts);\n+\t\t    {\n+\t\t      gfc_expr *expr = gfc_lval_expr_from_sym (sym);\n+\t\t      tmp = gfc_deallocate_scalar_with_status (se.expr, NULL_TREE,\n+\t\t\t\t\t\t   true, expr, sym->ts);\n+\t\t      gfc_free_expr (expr);\n+\t\t    }\n \t\t}\n \t      if (sym->ts.type == BT_CLASS)\n \t\t{"}, {"sha": "9394810f01fbcf907843d6baa81bc95ecdc43bbf", "filename": "gcc/fortran/trans-io.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76c1a7ec3da05e9a249c9ccdda28c44778cd1a3f/gcc%2Ffortran%2Ftrans-io.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76c1a7ec3da05e9a249c9ccdda28c44778cd1a3f/gcc%2Ffortran%2Ftrans-io.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-io.c?ref=76c1a7ec3da05e9a249c9ccdda28c44778cd1a3f", "patch": "@@ -1782,6 +1782,8 @@ build_dt (tree function, gfc_code * code)\n \t  mask |= set_string (&block, &post_block, var, IOPARM_dt_namelist_name,\n \t\t\t      nmlname);\n \n+\t  gfc_free_expr (nmlname);\n+\n \t  if (last_dt == READ)\n \t    mask |= IOPARM_dt_namelist_read_mode;\n "}]}