{"sha": "bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmRkNWRjMjhhYTA0YzNiYzZiMTBmZTZiZGQwMWRkYmQ1OWU2ODljNw==", "commit": {"author": {"name": "Diego Novillo", "email": "dnovillo@google.com", "date": "2012-05-31T17:25:41Z"}, "committer": {"name": "Diego Novillo", "email": "dnovillo@gcc.gnu.org", "date": "2012-05-31T17:25:41Z"}, "message": "Fix compilation of build/*.o when using C++.\n\nFound this while testing the C++ conversion for vec.[ch] on the\ncxx-conversion branch.  We do not build the build/*.o files with g++,\nso I was getting lots of syntax errors while compiling build/vec.o.\n\n2012-05-31   Diego Novillo  <dnovillo@google.com>\n\n       * configure.ac (CXX_FOR_BUILD): Define and substitute.\n       (BUILD_CXXFLAGS): Define and substitute.\n       * Makefile.in (BUILD_CXXFLAGS): Define.\n       (CXX_FOR_BUILD): Define.\n       (COMPILER_FOR_BUILD): Set to CXX_FOR_BUILD if building with C++.\n       (LINKER_FOR_BUILD): Likewise.\n       (BUILD_COMPILERFLAGS): Set to BUILD_CXXFLAGS if building with C++.\n       (BUILD_LINKERFLAGS): Likewise.\n       * configure: Regenerate.\n\nFrom-SVN: r188069", "tree": {"sha": "e88d1126cb49f12ae276830176979bf2a5075453", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e88d1126cb49f12ae276830176979bf2a5075453"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7/comments", "author": {"login": "dnovillo", "id": 7295335, "node_id": "MDQ6VXNlcjcyOTUzMzU=", "avatar_url": "https://avatars.githubusercontent.com/u/7295335?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dnovillo", "html_url": "https://github.com/dnovillo", "followers_url": "https://api.github.com/users/dnovillo/followers", "following_url": "https://api.github.com/users/dnovillo/following{/other_user}", "gists_url": "https://api.github.com/users/dnovillo/gists{/gist_id}", "starred_url": "https://api.github.com/users/dnovillo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dnovillo/subscriptions", "organizations_url": "https://api.github.com/users/dnovillo/orgs", "repos_url": "https://api.github.com/users/dnovillo/repos", "events_url": "https://api.github.com/users/dnovillo/events{/privacy}", "received_events_url": "https://api.github.com/users/dnovillo/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6f4185d7863f05abadb10550b26eb659a2b1eace", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f4185d7863f05abadb10550b26eb659a2b1eace", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f4185d7863f05abadb10550b26eb659a2b1eace"}], "stats": {"total": 34, "additions": 32, "deletions": 2}, "files": [{"sha": "c63e3c09bcc21239ac5fd87a65274ff31d81a6be", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7", "patch": "@@ -1,3 +1,15 @@\n+2012-05-31   Diego Novillo  <dnovillo@google.com>\n+\n+       * configure.ac (CXX_FOR_BUILD): Define and substitute.\n+       (BUILD_CXXFLAGS): Define and substitute.\n+       * Makefile.in (BUILD_CXXFLAGS): Define.\n+       (CXX_FOR_BUILD): Define.\n+       (COMPILER_FOR_BUILD): Set to CXX_FOR_BUILD if building with C++.\n+       (LINKER_FOR_BUILD): Likewise.\n+       (BUILD_COMPILERFLAGS): Set to BUILD_CXXFLAGS if building with C++.\n+       (BUILD_LINKERFLAGS): Likewise.\n+       * configure: Regenerate.\n+\n 2012-05-31  Steven Bosscher  <steven@gcc.gnu.org>\n \n \t* Makefile.in: Fix many dependencies."}, {"sha": "b36818d536a2ddd034900141f1de42bf92d58def", "filename": "gcc/Makefile.in", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7", "patch": "@@ -728,15 +728,27 @@ DIR = ../gcc\n \n # Native compiler for the build machine and its switches.\n CC_FOR_BUILD = @CC_FOR_BUILD@\n+CXX_FOR_BUILD = @CXX_FOR_BUILD@\n BUILD_CFLAGS= @BUILD_CFLAGS@ -DGENERATOR_FILE\n+BUILD_CXXFLAGS = @BUILD_CXXFLAGS@ -DGENERATOR_FILE\n \n # Native compiler that we use.  This may be C++ some day.\n+ifneq ($(ENABLE_BUILD_WITH_CXX),yes)\n COMPILER_FOR_BUILD = $(CC_FOR_BUILD)\n BUILD_COMPILERFLAGS = $(BUILD_CFLAGS)\n+else\n+COMPILER_FOR_BUILD = $(CXX_FOR_BUILD)\n+BUILD_COMPILERFLAGS = $(BUILD_CXXFLAGS)\n+endif\n \n # Native linker that we use.\n+ifneq ($(ENABLE_BUILD_WITH_CXX),yes)\n LINKER_FOR_BUILD = $(CC_FOR_BUILD)\n BUILD_LINKERFLAGS = $(BUILD_CFLAGS)\n+else\n+LINKER_FOR_BUILD = $(CXX_FOR_BUILD)\n+BUILD_LINKERFLAGS = $(BUILD_CXXFLAGS)\n+endif\n \n # Native linker and preprocessor flags.  For x-fragment overrides.\n BUILD_LDFLAGS=@BUILD_LDFLAGS@"}, {"sha": "1fdf0af80ca4c7d411f25a8a91811211616e2e4b", "filename": "gcc/configure", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7", "patch": "@@ -703,7 +703,9 @@ LIBTOOL\n collect2\n STMP_FIXINC\n BUILD_LDFLAGS\n+BUILD_CXXFLAGS\n BUILD_CFLAGS\n+CXX_FOR_BUILD\n CC_FOR_BUILD\n inhibit_libc\n SYSTEM_HEADER_DIR\n@@ -11835,7 +11837,9 @@ fi\n \n # These are the normal (build=host) settings:\n CC_FOR_BUILD='$(CC)'\n+CXX_FOR_BUILD='$(CXX)'\n BUILD_CFLAGS='$(ALL_CFLAGS)'\n+BUILD_CXXFLAGS='$(ALL_CXXFLAGS)'\n BUILD_LDFLAGS='$(LDFLAGS)'\n STMP_FIXINC=stmp-fixinc\n \n@@ -17967,7 +17971,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 17970 \"configure\"\n+#line 17974 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -18073,7 +18077,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 18076 \"configure\"\n+#line 18080 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H"}, {"sha": "22dab55a24a38fb932f3491c8c56cb9dbd3bd02c", "filename": "gcc/configure.ac", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=bdd5dc28aa04c3bc6b10fe6bdd01ddbd59e689c7", "patch": "@@ -1848,7 +1848,9 @@ AC_SUBST(inhibit_libc)\n \n # These are the normal (build=host) settings:\n CC_FOR_BUILD='$(CC)'\t\tAC_SUBST(CC_FOR_BUILD)\n+CXX_FOR_BUILD='$(CXX)'\t\tAC_SUBST(CXX_FOR_BUILD)\n BUILD_CFLAGS='$(ALL_CFLAGS)'\tAC_SUBST(BUILD_CFLAGS)\n+BUILD_CXXFLAGS='$(ALL_CXXFLAGS)' AC_SUBST(BUILD_CXXFLAGS)\n BUILD_LDFLAGS='$(LDFLAGS)'\tAC_SUBST(BUILD_LDFLAGS)\n STMP_FIXINC=stmp-fixinc\t\tAC_SUBST(STMP_FIXINC)\n "}]}