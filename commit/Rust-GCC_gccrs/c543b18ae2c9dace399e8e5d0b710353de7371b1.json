{"sha": "c543b18ae2c9dace399e8e5d0b710353de7371b1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzU0M2IxOGFlMmM5ZGFjZTM5OWU4ZTVkMGI3MTAzNTNkZTczNzFiMQ==", "commit": {"author": {"name": "Fran\u00e7ois Dumont", "email": "francois.cppdevs@free.fr", "date": "2011-02-19T20:51:43Z"}, "committer": {"name": "Fran\u00e7ois Dumont", "email": "fdumont@gcc.gnu.org", "date": "2011-02-19T20:51:43Z"}, "message": "string (basic_string::insert): Add iterator check and pass normal iterator to normal insert.\n\n2011-02-19  Fran\u00e7ois Dumont  <francois.cppdevs@free.fr>\n\n        * include/debug/string (basic_string::insert): Add iterator check and\n        pass normal iterator to normal insert.\n        * include/debug/macros.h (__glibcxx_check_heap,\n        __glibcxx_check_heap_pred): Remove __glibcxx_check_valid_range,\n        already done.\n\nFrom-SVN: r170322", "tree": {"sha": "27994d3c3c0fe11e932e1ec5d49bbdcd61cf0c4b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/27994d3c3c0fe11e932e1ec5d49bbdcd61cf0c4b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c543b18ae2c9dace399e8e5d0b710353de7371b1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c543b18ae2c9dace399e8e5d0b710353de7371b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c543b18ae2c9dace399e8e5d0b710353de7371b1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c543b18ae2c9dace399e8e5d0b710353de7371b1/comments", "author": null, "committer": null, "parents": [{"sha": "becf4c11dfa5184dee177410df7b1d8493559372", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/becf4c11dfa5184dee177410df7b1d8493559372", "html_url": "https://github.com/Rust-GCC/gccrs/commit/becf4c11dfa5184dee177410df7b1d8493559372"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "1d5cbcdd104379ac857e018228cadd89b51faaa2", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c543b18ae2c9dace399e8e5d0b710353de7371b1/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c543b18ae2c9dace399e8e5d0b710353de7371b1/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=c543b18ae2c9dace399e8e5d0b710353de7371b1", "patch": "@@ -1,3 +1,11 @@\n+2011-02-19  Fran\u00e7ois Dumont  <francois.cppdevs@free.fr>\n+\n+\t* include/debug/string (basic_string::insert): Add iterator check and\n+\tpass normal iterator to normal insert.\n+\t* include/debug/macros.h (__glibcxx_check_heap,\n+\t__glibcxx_check_heap_pred): Remove __glibcxx_check_valid_range,\n+\talready done.\n+\n 2011-02-17  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR libstdc++/47776"}, {"sha": "c90bec5cf01158cf1e82fa77b3ff57c9db5759a1", "filename": "libstdc++-v3/include/debug/macros.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c543b18ae2c9dace399e8e5d0b710353de7371b1/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Fmacros.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c543b18ae2c9dace399e8e5d0b710353de7371b1/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Fmacros.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Fmacros.h?ref=c543b18ae2c9dace399e8e5d0b710353de7371b1", "patch": "@@ -286,7 +286,6 @@ _GLIBCXX_DEBUG_VERIFY(__gnu_debug::__check_partitioned_upper(_First, _Last, \\\n \n // Verify that the iterator range [_First, _Last) is a heap\n #define __glibcxx_check_heap(_First,_Last)\t\t\t\t\\\n-__glibcxx_check_valid_range(_First,_Last);\t\t\t\t\\\n _GLIBCXX_DEBUG_VERIFY(std::__is_heap(_First, _Last),\t\t        \\\n \t\t      _M_message(__gnu_debug::__msg_not_heap)\t        \\\n \t\t      ._M_iterator(_First, #_First)\t\t\t\\\n@@ -295,7 +294,6 @@ _GLIBCXX_DEBUG_VERIFY(std::__is_heap(_First, _Last),\t\t        \\\n /** Verify that the iterator range [_First, _Last) is a heap\n     w.r.t. the predicate _Pred. */\n #define __glibcxx_check_heap_pred(_First,_Last,_Pred)\t\t\t\\\n-__glibcxx_check_valid_range(_First,_Last);\t\t\t\t\\\n _GLIBCXX_DEBUG_VERIFY(std::__is_heap(_First, _Last, _Pred),\t\t\\\n \t\t      _M_message(__gnu_debug::__msg_not_heap_pred)      \\\n                       ._M_iterator(_First, #_First)\t\t\t\\"}, {"sha": "fe073f21c7fd22067bebec49cc0384ce73faf08f", "filename": "libstdc++-v3/include/debug/string", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c543b18ae2c9dace399e8e5d0b710353de7371b1/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Fstring", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c543b18ae2c9dace399e8e5d0b710353de7371b1/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Fstring", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Fstring?ref=c543b18ae2c9dace399e8e5d0b710353de7371b1", "patch": "@@ -514,7 +514,8 @@ namespace __gnu_debug\n     void\n     insert(iterator __p, std::initializer_list<_CharT> __l)\n     {\n-      _Base::insert(__p, __l);\n+      __glibcxx_check_insert(__p);\n+      _Base::insert(__p.base(), __l);\n       this->_M_invalidate_all();\n     }\n #endif // __GXX_EXPERIMENTAL_CXX0X__"}]}