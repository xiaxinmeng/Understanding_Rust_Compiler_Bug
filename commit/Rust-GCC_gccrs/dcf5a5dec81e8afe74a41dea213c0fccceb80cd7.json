{"sha": "dcf5a5dec81e8afe74a41dea213c0fccceb80cd7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGNmNWE1ZGVjODFlOGFmZTc0YTQxZGVhMjEzYzBmY2NjZWI4MGNkNw==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2002-04-09T08:48:33Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2002-04-09T08:48:33Z"}, "message": "sstream.tcc: Clean up bit ops.\n\n\n2002-04-09  Benjamin Kosnik  <bkoz@redhat.com>\n\t    Richard Henderson  <rth@redhat.com>\n\n\t* include/bits/sstream.tcc: Clean up bit ops.\n\t* include/bits/fstream.tcc: Same.\n\nCo-Authored-By: Richard Henderson <rth@redhat.com>\n\nFrom-SVN: r52070", "tree": {"sha": "cce9c2f656d08518d4917d5871a289e31ebcd4ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cce9c2f656d08518d4917d5871a289e31ebcd4ae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dcf5a5dec81e8afe74a41dea213c0fccceb80cd7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dcf5a5dec81e8afe74a41dea213c0fccceb80cd7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dcf5a5dec81e8afe74a41dea213c0fccceb80cd7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dcf5a5dec81e8afe74a41dea213c0fccceb80cd7/comments", "author": null, "committer": null, "parents": [{"sha": "b0396e3b6c681cd37a2e238062091ce37d1955be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0396e3b6c681cd37a2e238062091ce37d1955be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0396e3b6c681cd37a2e238062091ce37d1955be"}], "stats": {"total": 21, "additions": 13, "deletions": 8}, "files": [{"sha": "11445dbd869e0962408d78b0007e39d5420fc189", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dcf5a5dec81e8afe74a41dea213c0fccceb80cd7/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dcf5a5dec81e8afe74a41dea213c0fccceb80cd7/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=dcf5a5dec81e8afe74a41dea213c0fccceb80cd7", "patch": "@@ -1,3 +1,9 @@\n+2002-04-09  Benjamin Kosnik  <bkoz@redhat.com>\n+\t    Richard Henderson  <rth@redhat.com>\n+\n+\t* include/bits/sstream.tcc: Clean up bit ops.\n+\t* include/bits/fstream.tcc: Same.\n+\t\n 2002-04-09  Jakub Jelinek  <jakub@redhat.com>\n \n \t* include/bits/locale_facets.h (__num_base::_S_scale_hex): Remove."}, {"sha": "92a0730d67b81b7a0e6a43cbf8c8540bf05a2a4c", "filename": "libstdc++-v3/include/bits/fstream.tcc", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dcf5a5dec81e8afe74a41dea213c0fccceb80cd7/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffstream.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dcf5a5dec81e8afe74a41dea213c0fccceb80cd7/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffstream.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Ffstream.tcc?ref=dcf5a5dec81e8afe74a41dea213c0fccceb80cd7", "patch": "@@ -560,17 +560,16 @@ namespace std\n     seekoff(off_type __off, ios_base::seekdir __way, ios_base::openmode __mode)\n     {\n       pos_type __ret =  pos_type(off_type(-1)); \n-      bool __testin = _M_mode & ios_base::in;\n-      bool __testout = _M_mode & ios_base::out;\n+      bool __testin = (ios_base::in & _M_mode & __mode) != 0;\n+      bool __testout = (ios_base::out & _M_mode & __mode) != 0;\n \n       // Should probably do has_facet checks here.\n       int __width = use_facet<__codecvt_type>(_M_buf_locale).encoding();\n       if (__width < 0)\n \t__width = 0;\n       bool __testfail = __off != 0 && __width <= 0;\n       \n-      if (this->is_open() && !__testfail \n-\t  && __mode & _M_mode && (__testin || __testout))\n+      if (this->is_open() && !__testfail && (__testin || __testout)) \n \t{\n \t  // Ditch any pback buffers to avoid confusion.\n \t  _M_pback_destroy();"}, {"sha": "e7419504d3e548069b9d3b81de3ba5feb36d251c", "filename": "libstdc++-v3/include/bits/sstream.tcc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dcf5a5dec81e8afe74a41dea213c0fccceb80cd7/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fsstream.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dcf5a5dec81e8afe74a41dea213c0fccceb80cd7/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fsstream.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fsstream.tcc?ref=dcf5a5dec81e8afe74a41dea213c0fccceb80cd7", "patch": "@@ -121,8 +121,8 @@ namespace std\n     seekoff(off_type __off, ios_base::seekdir __way, ios_base::openmode __mode)\n     {\n       pos_type __ret =  pos_type(off_type(-1)); \n-      bool __testin = __mode & ios_base::in && _M_mode & ios_base::in;\n-      bool __testout = __mode & ios_base::out && _M_mode & ios_base::out;\n+      bool __testin = (ios_base::in & _M_mode & __mode) != 0;\n+      bool __testout = (ios_base::out & _M_mode & __mode) != 0;\n       bool __testboth = __testin && __testout && __way != ios_base::cur;\n       __testin &= !(__mode & ios_base::out);\n       __testout &= !(__mode & ios_base::in);\n@@ -187,8 +187,8 @@ namespace std\n \t  off_type __pos = __sp._M_position();\n \t  char_type* __beg = NULL;\n \t  char_type* __end = NULL;\n-\t  bool __testin = __mode & ios_base::in && _M_mode & ios_base::in;\n-\t  bool __testout = __mode & ios_base::out && _M_mode & ios_base::out;\n+\t  bool __testin = (ios_base::in & _M_mode & __mode) != 0;\n+\t  bool __testout = (ios_base::out & _M_mode & __mode) != 0;\n \t  bool __testboth = __testin && __testout;\n \t  __testin &= !(__mode & ios_base::out);\n \t  __testout &= !(__mode & ios_base::in);"}]}