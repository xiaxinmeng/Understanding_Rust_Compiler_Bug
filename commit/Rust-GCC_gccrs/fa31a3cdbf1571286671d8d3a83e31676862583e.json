{"sha": "fa31a3cdbf1571286671d8d3a83e31676862583e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmEzMWEzY2RiZjE1NzEyODY2NzFkOGQzYTgzZTMxNjc2ODYyNTgzZQ==", "commit": {"author": {"name": "Patrick Palka", "email": "ppalka@redhat.com", "date": "2020-05-12T16:20:55Z"}, "committer": {"name": "Patrick Palka", "email": "ppalka@redhat.com", "date": "2020-05-12T16:35:36Z"}, "message": "c++: Add abbreviated fn template test for [PR78752]\n\nThis adds an abbreviated function template version of the testcase in\nPR78752, which seems to already be fixed.\n\ngcc/testsuite/ChangeLog:\n\n\tPR c++/78752\n\t* g++.dg/cpp2a/concepts-pr78752-2.C: New test.", "tree": {"sha": "d5325f15758b95d544cc32b1bb1509024832e8d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d5325f15758b95d544cc32b1bb1509024832e8d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fa31a3cdbf1571286671d8d3a83e31676862583e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa31a3cdbf1571286671d8d3a83e31676862583e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa31a3cdbf1571286671d8d3a83e31676862583e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa31a3cdbf1571286671d8d3a83e31676862583e/comments", "author": null, "committer": null, "parents": [{"sha": "c08278701f7433978ca56e3413855bd4b001aa1d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c08278701f7433978ca56e3413855bd4b001aa1d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c08278701f7433978ca56e3413855bd4b001aa1d"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "ac5bead5030f69dc54c02eadfac6507aab2eb8c8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa31a3cdbf1571286671d8d3a83e31676862583e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa31a3cdbf1571286671d8d3a83e31676862583e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fa31a3cdbf1571286671d8d3a83e31676862583e", "patch": "@@ -1,3 +1,8 @@\n+2020-05-12  Patrick Palka  <ppalka@redhat.com>\n+\n+\tPR c++/78752\n+\t* g++.dg/cpp2a/concepts-pr78752-2.C: New test.\n+\n 2020-05-12  Uro\u0161 Bizjak  <ubizjak@gmail.com>\n \n \tPR target/95046"}, {"sha": "6777054285d827578052947871af279241ac0d5a", "filename": "gcc/testsuite/g++.dg/cpp2a/concepts-pr78752-2.C", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa31a3cdbf1571286671d8d3a83e31676862583e/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp2a%2Fconcepts-pr78752-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa31a3cdbf1571286671d8d3a83e31676862583e/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp2a%2Fconcepts-pr78752-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp2a%2Fconcepts-pr78752-2.C?ref=fa31a3cdbf1571286671d8d3a83e31676862583e", "patch": "@@ -0,0 +1,21 @@\n+// { dg-do compile { target c++2a } }\n+// { dg-additional-options \"-fconcepts-ts\" }\n+\n+template <class T, class U>\n+concept bool Same = __is_same(T, U);\n+\n+struct test {\n+  void func(Same<int>... ints) {}\n+};\n+\n+void func(Same<int>... ints) {}\n+\n+int main()\n+{\n+  test t;\n+  t.func(1, 2, 3);\n+  func(1, 2, 3);\n+\n+  t.func(1, 2, \"\"); // { dg-error \"no match\" }\n+  func(1, 2, \"\"); // { dg-error \"unsatisfied constraints\" }\n+}"}]}