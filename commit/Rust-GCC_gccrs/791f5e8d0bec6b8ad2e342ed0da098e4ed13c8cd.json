{"sha": "791f5e8d0bec6b8ad2e342ed0da098e4ed13c8cd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzkxZjVlOGQwYmVjNmI4YWQyZTM0MmVkMGRhMDk4ZTRlZDEzYzhjZA==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@redhat.com", "date": "2001-03-01T17:51:18Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2001-03-01T17:51:18Z"}, "message": "Undo some breakage introduced Feb 18\n\nFrom-SVN: r40162", "tree": {"sha": "1fdd89c469fafbc384c4e15ba9e11bca23c7c749", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1fdd89c469fafbc384c4e15ba9e11bca23c7c749"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/791f5e8d0bec6b8ad2e342ed0da098e4ed13c8cd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/791f5e8d0bec6b8ad2e342ed0da098e4ed13c8cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/791f5e8d0bec6b8ad2e342ed0da098e4ed13c8cd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/791f5e8d0bec6b8ad2e342ed0da098e4ed13c8cd/comments", "author": null, "committer": null, "parents": [{"sha": "9c1eed37c411869369d45ac5bcf539efd8afa551", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c1eed37c411869369d45ac5bcf539efd8afa551", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c1eed37c411869369d45ac5bcf539efd8afa551"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "8d14adf10f6ad9b25f8b7e2436778e6bd8335e53", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/791f5e8d0bec6b8ad2e342ed0da098e4ed13c8cd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/791f5e8d0bec6b8ad2e342ed0da098e4ed13c8cd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=791f5e8d0bec6b8ad2e342ed0da098e4ed13c8cd", "patch": "@@ -1,3 +1,9 @@\n+2001-03-01  Bernd Schmidt  <bernds@redhat.com>\n+\n+\tFix a problem introduced by Kenner's Feb 18 change.\n+\t* toplev.c (rest_of_compilation): Disable flag_cse_follow_jumps and\n+\tflag_cse_skip_blocks only temporarily, not for ever.\n+\n Thu Mar  1 09:49:58 2001  Jeffrey A Law  (law@cygnus.com)\n \n \t* pa.c (emit_move_sequence): Verify operand0 is a hard register"}, {"sha": "68ba3efaa8a7fed0371ab315e9556a284c49bd41", "filename": "gcc/toplev.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/791f5e8d0bec6b8ad2e342ed0da098e4ed13c8cd/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/791f5e8d0bec6b8ad2e342ed0da098e4ed13c8cd/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=791f5e8d0bec6b8ad2e342ed0da098e4ed13c8cd", "patch": "@@ -3002,7 +3002,6 @@ rest_of_compilation (decl)\n       /* If we are not running more CSE passes, then we are no longer\n \t expecting CSE to be run.  But always rerun it in a cheap mode.  */\n       cse_not_expected = !flag_rerun_cse_after_loop && !flag_gcse;\n-      flag_cse_skip_blocks = flag_cse_follow_jumps = 0;\n \n       if (tem || optimize > 1)\n \t{\n@@ -3101,6 +3100,7 @@ rest_of_compilation (decl)\n \n   if (optimize > 0 && flag_gcse)\n     {\n+      int save_csb, save_cfj;\n       int tem2 = 0;\n \n       timevar_push (TV_GCSE);\n@@ -3110,6 +3110,10 @@ rest_of_compilation (decl)\n       cleanup_cfg (insns);\n       tem = gcse_main (insns, rtl_dump_file);\n \n+      save_csb = flag_cse_skip_blocks;\n+      save_cfj = flag_cse_follow_jumps;\n+      flag_cse_skip_blocks = flag_cse_follow_jumps = 0;\n+\n       /* If -fexpensive-optimizations, re-run CSE to clean up things done\n \t by gcse.  */\n       if (flag_expensive_optimizations)\n@@ -3144,7 +3148,9 @@ rest_of_compilation (decl)\n       timevar_pop (TV_GCSE);\n \n       ggc_collect ();\n-    }\n+      flag_cse_skip_blocks = save_csb;\n+      flag_cse_follow_jumps = save_cfj;\n+     }\n \n   /* Move constant computations out of loops.  */\n "}]}