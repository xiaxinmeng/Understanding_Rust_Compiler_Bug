{"sha": "29c34351be83bc84238cbc8c3c8818c0f46cef38", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjljMzQzNTFiZTgzYmM4NDIzOGNiYzhjM2M4ODE4YzBmNDZjZWYzOA==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2020-05-20T09:05:23Z"}, "committer": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2020-05-20T09:05:23Z"}, "message": "git_commit.py: Add tests for signatures.\n\n\t* gcc-changelog/git_commit.py: Refactor to make flake8 happy.\n\t* gcc-changelog/test_email.py: Add new test.\n\t* gcc-changelog/test_patches.txt: Add new patch.", "tree": {"sha": "8cbb42cd5ec7e65430e1647a376834eaf34fec8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8cbb42cd5ec7e65430e1647a376834eaf34fec8c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/29c34351be83bc84238cbc8c3c8818c0f46cef38", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEE6I4wzqqylQBfXaRhTcGC3A+nN4UFAl7E8tMACgkQTcGC3A+n\nN4W+5wf7BFNEupl/WfDTQZk92O9jdk/elHZk9UAV8+r4pIrFKYOPUuxYdX6+k6JE\nXyJM3rC6U+3f+/onDPSOdIdSrgUl5h9K8ij8RM/3mRSLW13Y1qgQ+DCLC007PHAC\nGaZisuUHueibArA5i/VorHvotpYY33UB0Sy5vo9O3hRCrELiyoz0fJ9gefGQnZtM\net0a6UoADJAk/lVSJseSg/v+P6NdxI9McdX8c+IOU87pbPvOcZPILPd9M7bE3ry6\nFkLxOeC8rORZ8IWjNe+MayO4cf4Rk3a+hU902X1bd4LY9e73aboT4EHg25FMJSrU\ndtMrjaT0561vyAv4jeuw9ZTbGBI84w==\n=zRyD\n-----END PGP SIGNATURE-----", "payload": "tree 8cbb42cd5ec7e65430e1647a376834eaf34fec8c\nparent 3bcaf16edd881b81324b6789f7b48ca365463156\nauthor Martin Liska <mliska@suse.cz> 1589965523 +0200\ncommitter Martin Liska <mliska@suse.cz> 1589965523 +0200\n\ngit_commit.py: Add tests for signatures.\n\n\t* gcc-changelog/git_commit.py: Refactor to make flake8 happy.\n\t* gcc-changelog/test_email.py: Add new test.\n\t* gcc-changelog/test_patches.txt: Add new patch.\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29c34351be83bc84238cbc8c3c8818c0f46cef38", "html_url": "https://github.com/Rust-GCC/gccrs/commit/29c34351be83bc84238cbc8c3c8818c0f46cef38", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29c34351be83bc84238cbc8c3c8818c0f46cef38/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3bcaf16edd881b81324b6789f7b48ca365463156", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3bcaf16edd881b81324b6789f7b48ca365463156", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3bcaf16edd881b81324b6789f7b48ca365463156"}], "stats": {"total": 49, "additions": 47, "deletions": 2}, "files": [{"sha": "11f47e69799c9e621124c81b3ed7730404e425cb", "filename": "contrib/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29c34351be83bc84238cbc8c3c8818c0f46cef38/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29c34351be83bc84238cbc8c3c8818c0f46cef38/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=29c34351be83bc84238cbc8c3c8818c0f46cef38", "patch": "@@ -1,3 +1,9 @@\n+2020-05-20  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_commit.py: Refactor to make flake8 happy.\n+\t* gcc-changelog/test_email.py: Add new test.\n+\t* gcc-changelog/test_patches.txt: Add new patch.\n+\n 2020-05-20  Frederik Harwath  <frederik@codesourcery.com>\n \n \t* gcc-changelog/git_commit.py: Skip over lines starting"}, {"sha": "e4903cac4efa0ed4bad7589d3ffea3b0282f8c04", "filename": "contrib/gcc-changelog/git_commit.py", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29c34351be83bc84238cbc8c3c8818c0f46cef38/contrib%2Fgcc-changelog%2Fgit_commit.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29c34351be83bc84238cbc8c3c8818c0f46cef38/contrib%2Fgcc-changelog%2Fgit_commit.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Fgit_commit.py?ref=29c34351be83bc84238cbc8c3c8818c0f46cef38", "patch": "@@ -155,9 +155,10 @@\n REVIEWED_ON_PREFIX = 'reviewed-on: '\n SIGNED_OFF_BY_PREFIX = 'signed-off-by: '\n \n-REVIEW_PREFIXES = (REVIEWED_BY_PREFIX, REVIEWED_ON_PREFIX,\\\n+REVIEW_PREFIXES = (REVIEWED_BY_PREFIX, REVIEWED_ON_PREFIX,\n                    SIGNED_OFF_BY_PREFIX)\n \n+\n class Error:\n     def __init__(self, message, line=None):\n         self.message = message\n@@ -350,7 +351,6 @@ def parse_changelog(self):\n                     else:\n                         pr_line = line.lstrip()\n \n-\n                 lowered_line = line.lower()\n                 if lowered_line.startswith(CO_AUTHORED_BY_PREFIX):\n                     name = line[len(CO_AUTHORED_BY_PREFIX):]"}, {"sha": "92bcb89ed8b1951c172469fa18b2e7fca354c716", "filename": "contrib/gcc-changelog/test_email.py", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29c34351be83bc84238cbc8c3c8818c0f46cef38/contrib%2Fgcc-changelog%2Ftest_email.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29c34351be83bc84238cbc8c3c8818c0f46cef38/contrib%2Fgcc-changelog%2Ftest_email.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Ftest_email.py?ref=29c34351be83bc84238cbc8c3c8818c0f46cef38", "patch": "@@ -262,3 +262,8 @@ def test_wrong_changelog_entry(self):\n     def test_cherry_pick_format(self):\n         email = self.from_patch_glob('0001-c-Alias.patch')\n         assert not email.errors\n+\n+    def test_signatures(self):\n+        email = self.from_patch_glob('0001-RISC-V-Make-unique.patch')\n+        assert not email.errors\n+        assert len(email.changelog_entries) == 1"}, {"sha": "7a78c4de8974e43e8eb882f618fb459a86bba9d8", "filename": "contrib/gcc-changelog/test_patches.txt", "status": "modified", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29c34351be83bc84238cbc8c3c8818c0f46cef38/contrib%2Fgcc-changelog%2Ftest_patches.txt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29c34351be83bc84238cbc8c3c8818c0f46cef38/contrib%2Fgcc-changelog%2Ftest_patches.txt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Ftest_patches.txt?ref=29c34351be83bc84238cbc8c3c8818c0f46cef38", "patch": "@@ -2410,4 +2410,38 @@ index b8f03d18541..7230ac724ba 100644\n +\n -- \n 2.26.2\n+=== 0001-RISC-V-Make-unique.patch ===\n+From adce62f53d8ad00e8110a6a2de7962d7a850de16 Mon Sep 17 00:00:00 2001\n+From: Keith Packard <keithp@keithp.com>\n+Date: Wed, 29 Apr 2020 09:49:56 -0700\n+Subject: [PATCH] RISC-V: Make unique SECCAT_SRODATA names start with .srodata\n+ (not .sdata2)\n+\n+default_unique_section uses \".sdata2\" as a prefix for SECCAT_SRODATA\n+unique sections, but RISC-V uses \".srodata\" instead. Override the\n+TARGET_ASM_UNIQUE_SECTION function to catch this case, allowing the\n+default to be used for all other sections.\n \n+gcc/\n+\t* config/riscv/riscv.c (riscv_unique_section): New.\n+\t(TARGET_ASM_UNIQUE_SECTION): New.\n+\n+Signed-off-by: Keith Packard <keithp@keithp.com>\n+Reviewed-by: Keith Packard <keithp@keithp.com>\n+Reviewed-on: Keith Packard <keithp@keithp.com>\n+Co-Authored-by: Keith Packard <keithp@keithp.com>\n+---\n+ gcc/ChangeLog            |  5 +++++\n+ gcc/config/riscv/riscv.c | 40 ++++++++++++++++++++++++++++++++++++++++\n+ 2 files changed, 45 insertions(+)\n+\n+diff --git a/gcc/config/riscv/riscv.c b/gcc/config/riscv/riscv.c\n+index e4c08d780db..1ad9799fce4 100644\n+--- a/gcc/config/riscv/riscv.c\n++++ b/gcc/config/riscv/riscv.c\n+@@ -1 +1,2 @@\n+\n++\n+\n+-- \n+2.26.2"}]}