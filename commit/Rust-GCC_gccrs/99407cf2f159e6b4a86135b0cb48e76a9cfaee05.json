{"sha": "99407cf2f159e6b4a86135b0cb48e76a9cfaee05", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTk0MDdjZjJmMTU5ZTZiNGE4NjEzNWIwY2I0OGU3NmE5Y2ZhZWUwNQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-12-24T04:00:51Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-12-24T04:00:51Z"}, "message": "* config/alpha/alpha.c (call_operand) [OSF]: Disallow virtual regs.\n\nFrom-SVN: r48297", "tree": {"sha": "5cf83b6a99fa1dd1a67e4f678cb00231510430c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5cf83b6a99fa1dd1a67e4f678cb00231510430c5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/99407cf2f159e6b4a86135b0cb48e76a9cfaee05", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99407cf2f159e6b4a86135b0cb48e76a9cfaee05", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99407cf2f159e6b4a86135b0cb48e76a9cfaee05", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99407cf2f159e6b4a86135b0cb48e76a9cfaee05/comments", "author": null, "committer": null, "parents": [{"sha": "8aad1777878d187d2b1607efc8f96139f9a4613c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8aad1777878d187d2b1607efc8f96139f9a4613c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8aad1777878d187d2b1607efc8f96139f9a4613c"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "9082c2bac62ac0b3f4739fe27bba809dff68f329", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99407cf2f159e6b4a86135b0cb48e76a9cfaee05/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99407cf2f159e6b4a86135b0cb48e76a9cfaee05/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=99407cf2f159e6b4a86135b0cb48e76a9cfaee05", "patch": "@@ -1,5 +1,7 @@\n 2001-12-23  Richard Henderson  <rth@redhat.com>\n \n+\t* config/alpha/alpha.c (call_operand) [OSF]: Disallow virtual regs.\n+\n \t* config/alpha/alpha.md (UNSPEC_SIBCALL): New.\n \t(sibcall, sibcall_value, sibcall_osf_1_er, sibcall_osf_1): Use it.\n \t(sibcall_value_osf_1_er, sibcall_value_osf_1): Likewise."}, {"sha": "a88f97772a328468e3b126a27545306e7efb76cf", "filename": "gcc/config/alpha/alpha.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99407cf2f159e6b4a86135b0cb48e76a9cfaee05/gcc%2Fconfig%2Falpha%2Falpha.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99407cf2f159e6b4a86135b0cb48e76a9cfaee05/gcc%2Fconfig%2Falpha%2Falpha.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.c?ref=99407cf2f159e6b4a86135b0cb48e76a9cfaee05", "patch": "@@ -1008,7 +1008,12 @@ call_operand (op, mode)\n   if (GET_CODE (op) == REG)\n     {\n       if (TARGET_ABI_OSF)\n-\treturn (REGNO (op) == 27 || REGNO (op) >= FIRST_PSEUDO_REGISTER);\n+\t{\n+\t  /* Disallow virtual registers to cope with pathalogical test cases\n+\t     such as compile/930117-1.c in which the virtual reg decomposes\n+\t     to the frame pointer.  Which is a hard reg that is not $27.  */\n+\t  return (REGNO (op) == 27 || REGNO (op) > LAST_VIRTUAL_REGISTER);\n+\t}\n       else\n \treturn 1;\n     }"}]}