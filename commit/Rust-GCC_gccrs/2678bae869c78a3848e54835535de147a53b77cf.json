{"sha": "2678bae869c78a3848e54835535de147a53b77cf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjY3OGJhZTg2OWM3OGEzODQ4ZTU0ODM1NTM1ZGUxNDdhNTNiNzdjZg==", "commit": {"author": {"name": "Volker Reichelt", "email": "reichelt@igpm.rwth-aachen.de", "date": "2005-11-25T12:46:40Z"}, "committer": {"name": "Volker Reichelt", "email": "reichelt@gcc.gnu.org", "date": "2005-11-25T12:46:40Z"}, "message": "pt.c (instantiate_class_template): Clean-up.\n\n\t* pt.c (instantiate_class_template): Clean-up.\n\nFrom-SVN: r107499", "tree": {"sha": "cd0405a756b47ea841f3dc325b2a3b87ac3dce73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cd0405a756b47ea841f3dc325b2a3b87ac3dce73"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2678bae869c78a3848e54835535de147a53b77cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2678bae869c78a3848e54835535de147a53b77cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2678bae869c78a3848e54835535de147a53b77cf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2678bae869c78a3848e54835535de147a53b77cf/comments", "author": null, "committer": null, "parents": [{"sha": "260cd73f5983bc7368c3a223f50b1566687b1980", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/260cd73f5983bc7368c3a223f50b1566687b1980", "html_url": "https://github.com/Rust-GCC/gccrs/commit/260cd73f5983bc7368c3a223f50b1566687b1980"}], "stats": {"total": 16, "additions": 10, "deletions": 6}, "files": [{"sha": "5d7c21be48531992bbea2a98fbfc31dc36a9a6c3", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2678bae869c78a3848e54835535de147a53b77cf/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2678bae869c78a3848e54835535de147a53b77cf/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=2678bae869c78a3848e54835535de147a53b77cf", "patch": "@@ -1,3 +1,7 @@\n+2005-11-25  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\t* pt.c (instantiate_class_template): Clean-up.\n+\n 2005-11-25  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n \n \t* pt.c (template_class_depth_real): Remove. Move functionality to ..."}, {"sha": "5f28b4193a7c4b66dad1d1f1c10dffcf8ed9e882", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2678bae869c78a3848e54835535de147a53b77cf/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2678bae869c78a3848e54835535de147a53b77cf/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=2678bae869c78a3848e54835535de147a53b77cf", "patch": "@@ -5653,14 +5653,12 @@ instantiate_class_template (tree type)\n \t    {\n \t      /* Build new CLASSTYPE_NESTED_UTDS.  */\n \n-\t      tree tag = t;\n-\t      tree name = TYPE_IDENTIFIER (tag);\n \t      tree newtag;\n \t      bool class_template_p;\n \n-\t      class_template_p = (TREE_CODE (tag) != ENUMERAL_TYPE\n-\t\t\t\t  && TYPE_LANG_SPECIFIC (tag)\n-\t\t\t\t  && CLASSTYPE_IS_TEMPLATE (tag));\n+\t      class_template_p = (TREE_CODE (t) != ENUMERAL_TYPE\n+\t\t\t\t  && TYPE_LANG_SPECIFIC (t)\n+\t\t\t\t  && CLASSTYPE_IS_TEMPLATE (t));\n \t      /* If the member is a class template, then -- even after\n \t\t substitution -- there may be dependent types in the\n \t\t template argument list for the class.  We increment\n@@ -5669,14 +5667,16 @@ instantiate_class_template (tree type)\n \t\t when outside of a template.  */\n \t      if (class_template_p)\n \t\t++processing_template_decl;\n-\t      newtag = tsubst (tag, args, tf_error, NULL_TREE);\n+\t      newtag = tsubst (t, args, tf_error, NULL_TREE);\n \t      if (class_template_p)\n \t\t--processing_template_decl;\n \t      if (newtag == error_mark_node)\n \t\tcontinue;\n \n \t      if (TREE_CODE (newtag) != ENUMERAL_TYPE)\n \t\t{\n+\t\t  tree name = TYPE_IDENTIFIER (t);\n+\n \t\t  if (class_template_p)\n \t\t    /* Unfortunately, lookup_template_class sets\n \t\t       CLASSTYPE_IMPLICIT_INSTANTIATION for a partial"}]}