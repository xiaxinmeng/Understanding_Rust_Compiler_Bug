{"sha": "541b0512b1977c888dc08b99076cee97997c950d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTQxYjA1MTJiMTk3N2M4ODhkYzA4Yjk5MDc2Y2VlOTc5OTdjOTUwZA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "1999-09-24T01:03:58Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1999-09-24T01:03:58Z"}, "message": "* optabs.c (init_traps): Register trap_rtx as a GC root.\n\nFrom-SVN: r29643", "tree": {"sha": "c4a53c03953e9fb1d12c0932ff5d76cbe182c623", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c4a53c03953e9fb1d12c0932ff5d76cbe182c623"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/541b0512b1977c888dc08b99076cee97997c950d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/541b0512b1977c888dc08b99076cee97997c950d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/541b0512b1977c888dc08b99076cee97997c950d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/541b0512b1977c888dc08b99076cee97997c950d/comments", "author": null, "committer": null, "parents": [{"sha": "da8a66fc9fb130150b0c08c866227440fa0313ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da8a66fc9fb130150b0c08c866227440fa0313ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da8a66fc9fb130150b0c08c866227440fa0313ea"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "f2002c1bfa36f4652df033e0a563d870b773fa8d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/541b0512b1977c888dc08b99076cee97997c950d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/541b0512b1977c888dc08b99076cee97997c950d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=541b0512b1977c888dc08b99076cee97997c950d", "patch": "@@ -1,3 +1,7 @@\n+Thu Sep 23 18:07:01 1999  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* optabs.c (init_traps): Register trap_rtx as a GC root.\n+\n Thu Sep 23 17:41:47 1999  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>\n \n \t* config/mips/mips.c (function_arg_pass_by_reference): Define"}, {"sha": "32abf391985b635ba6494fb2d5e85c069e5202f6", "filename": "gcc/optabs.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/541b0512b1977c888dc08b99076cee97997c950d/gcc%2Foptabs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/541b0512b1977c888dc08b99076cee97997c950d/gcc%2Foptabs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptabs.c?ref=541b0512b1977c888dc08b99076cee97997c950d", "patch": "@@ -4754,16 +4754,17 @@ ldexp(x,n)\n /* The insn generating function can not take an rtx_code argument.\n    TRAP_RTX is used as an rtx argument.  Its code is replaced with\n    the code to be used in the trap insn and all other fields are\n-   ignored.\n-\n-   ??? Will need to change to support garbage collection.  */\n+   ignored.  */\n static rtx trap_rtx;\n \n static void\n init_traps ()\n {\n   if (HAVE_conditional_trap)\n-    trap_rtx = gen_rtx_fmt_ee (EQ, VOIDmode, NULL_RTX, NULL_RTX);\n+    {\n+      trap_rtx = gen_rtx_fmt_ee (EQ, VOIDmode, NULL_RTX, NULL_RTX);\n+      ggc_add_tree_root (&trap_rtx, 1);\n+    }\n }\n #endif\n "}]}