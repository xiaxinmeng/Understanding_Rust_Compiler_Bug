{"sha": "913d8e132065f31b1594add678621d6b3b573d51", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTEzZDhlMTMyMDY1ZjMxYjE1OTRhZGQ2Nzg2MjFkNmIzYjU3M2Q1MQ==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1998-09-25T11:37:01Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1998-09-25T11:37:01Z"}, "message": "* sh.c (gen_shl_sext): Fix case 5.\n\nFrom-SVN: r22591", "tree": {"sha": "05b067e0b4c1b156c10c8f6a82cbacc72fd20ad8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/05b067e0b4c1b156c10c8f6a82cbacc72fd20ad8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/913d8e132065f31b1594add678621d6b3b573d51", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/913d8e132065f31b1594add678621d6b3b573d51", "html_url": "https://github.com/Rust-GCC/gccrs/commit/913d8e132065f31b1594add678621d6b3b573d51", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/913d8e132065f31b1594add678621d6b3b573d51/comments", "author": null, "committer": null, "parents": [{"sha": "a0e7ad89ab869a38605b9980817b40851e7f2f36", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0e7ad89ab869a38605b9980817b40851e7f2f36", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0e7ad89ab869a38605b9980817b40851e7f2f36"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "a7f1b600a223cfd72f50bc959105c55491811f85", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/913d8e132065f31b1594add678621d6b3b573d51/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/913d8e132065f31b1594add678621d6b3b573d51/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=913d8e132065f31b1594add678621d6b3b573d51", "patch": "@@ -1,3 +1,7 @@\n+Fri Sep 25 19:30:19 1998  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* sh.c (gen_shl_sext): Fix case 5.\n+\n Fri Sep 25 17:35:23 1998  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n \t* reload1.c (reload_combine): Re-add line that got accidentally lost."}, {"sha": "12f1b74c317503cf726fafa6d31c0ab846e51aea", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/913d8e132065f31b1594add678621d6b3b573d51/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/913d8e132065f31b1594add678621d6b3b573d51/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=913d8e132065f31b1594add678621d6b3b573d51", "patch": "@@ -1600,8 +1600,16 @@ gen_shl_sext (dest, left_rtx, size_rtx, source)\n     case 5:\n       {\n \tint i = 16 - size;\n-\temit_insn (gen_shl_sext_ext (dest, source, GEN_INT (16 - insize),\n-\t\t\t\t     GEN_INT (16)));\n+\tif (! rtx_equal_function_value_matters\n+\t    && ! reload_in_progress && ! reload_completed)\n+\t  emit_insn (gen_shl_sext_ext (dest, source, left_rtx, size_rtx));\n+\telse\n+\t  {\n+\t    operands[0] = dest;\n+\t    operands[2] = GEN_INT (16 - insize);\n+\t    gen_shifty_hi_op (ASHIFT, operands);\n+\t    emit_insn (gen_extendhisi2 (dest, gen_lowpart (HImode, dest)));\n+\t  }\n \t/* Don't use gen_ashrsi3 because it generates new pseudos.  */\n \twhile (--i >= 0)\n \t  gen_ashift (ASHIFTRT, 1, dest);"}]}