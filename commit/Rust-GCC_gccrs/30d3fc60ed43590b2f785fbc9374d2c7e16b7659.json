{"sha": "30d3fc60ed43590b2f785fbc9374d2c7e16b7659", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzBkM2ZjNjBlZDQzNTkwYjJmNzg1ZmJjOTM3NGQyYzdlMTZiNzY1OQ==", "commit": {"author": {"name": "Zdenek Dvorak", "email": "rakdver@atrey.karlin.mff.cuni.cz", "date": "2004-09-24T14:36:28Z"}, "committer": {"name": "Zdenek Dvorak", "email": "rakdver@gcc.gnu.org", "date": "2004-09-24T14:36:28Z"}, "message": "re PR rtl-optimization/17625 (ICE on legal (doloop creates shared RTL))\n\n\tPR rtl-optimization/17625\n\t* loop-doloop.c (doloop_modify): Unshare rtl before emitting it.\n\nFrom-SVN: r88038", "tree": {"sha": "9abc153149c4054c3b0b6bc39509ca8dcdc00afc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9abc153149c4054c3b0b6bc39509ca8dcdc00afc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/30d3fc60ed43590b2f785fbc9374d2c7e16b7659", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30d3fc60ed43590b2f785fbc9374d2c7e16b7659", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30d3fc60ed43590b2f785fbc9374d2c7e16b7659", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30d3fc60ed43590b2f785fbc9374d2c7e16b7659/comments", "author": null, "committer": null, "parents": [{"sha": "5cf447dbf18327c71263f9afff56905d2a86dc0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5cf447dbf18327c71263f9afff56905d2a86dc0d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5cf447dbf18327c71263f9afff56905d2a86dc0d"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "c01942dbb70fb636ee6c41ba5e65d5244be42531", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30d3fc60ed43590b2f785fbc9374d2c7e16b7659/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30d3fc60ed43590b2f785fbc9374d2c7e16b7659/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=30d3fc60ed43590b2f785fbc9374d2c7e16b7659", "patch": "@@ -1,3 +1,8 @@\n+2004-09-24  Zdenek Dvorak  <rakdver@atrey.karlin.mff.cuni.cz>\n+\n+\tPR rtl-optimization/17625\n+\t* loop-doloop.c (doloop_modify): Unshare rtl before emitting it.\n+\n 2004-09-24  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \tPR tree-opt/17624"}, {"sha": "7b4f4d42b5f8adbeaa79794db23bc2bbc0525e80", "filename": "gcc/loop-doloop.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30d3fc60ed43590b2f785fbc9374d2c7e16b7659/gcc%2Floop-doloop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30d3fc60ed43590b2f785fbc9374d2c7e16b7659/gcc%2Floop-doloop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop-doloop.c?ref=30d3fc60ed43590b2f785fbc9374d2c7e16b7659", "patch": "@@ -292,7 +292,7 @@ doloop_modify (struct loop *loop, struct niter_desc *desc,\n   if (GET_CODE (counter_reg) == PLUS)\n     counter_reg = XEXP (counter_reg, 0);\n \n-  count = desc->niter_expr;\n+  count = copy_rtx (desc->niter_expr);\n   increment_count = false;\n   switch (GET_CODE (condition))\n     {\n@@ -345,7 +345,7 @@ doloop_modify (struct loop *loop, struct niter_desc *desc,\n \n   if (desc->noloop_assumptions)\n     {\n-      rtx ass = desc->noloop_assumptions;\n+      rtx ass = copy_rtx (desc->noloop_assumptions);\n       basic_block preheader = loop_preheader_edge (loop)->src;\n       basic_block set_zero\n \t      = loop_split_edge_with (loop_preheader_edge (loop), NULL_RTX);"}]}