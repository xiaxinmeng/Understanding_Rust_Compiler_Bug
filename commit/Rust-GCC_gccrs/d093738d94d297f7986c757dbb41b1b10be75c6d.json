{"sha": "d093738d94d297f7986c757dbb41b1b10be75c6d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDA5MzczOGQ5NGQyOTdmNzk4NmM3NTdkYmI0MWIxYjEwYmU3NWM2ZA==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2004-03-17T04:47:04Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2004-03-17T04:47:04Z"}, "message": "builtins.c (integer_valued_real_p): Add builtin rint.\n\n\t* builtins.c (integer_valued_real_p): Add builtin rint.\n\t(fold_builtin): Likewise.\n\t* convert.c (convert_to_real): Likewise.\ntestsuite:\n\t* gcc.dg/torture/builtin-integral-1.c: Also check for `rint'.\n\nFrom-SVN: r79572", "tree": {"sha": "fb5d87bb48bc66fabd7917712651e0434c060009", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb5d87bb48bc66fabd7917712651e0434c060009"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d093738d94d297f7986c757dbb41b1b10be75c6d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d093738d94d297f7986c757dbb41b1b10be75c6d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d093738d94d297f7986c757dbb41b1b10be75c6d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d093738d94d297f7986c757dbb41b1b10be75c6d/comments", "author": null, "committer": null, "parents": [{"sha": "b57051b2f5459e1a55f502cac3973a995f1aa8ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b57051b2f5459e1a55f502cac3973a995f1aa8ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b57051b2f5459e1a55f502cac3973a995f1aa8ff"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "42e3475ec85bf9197c4a2a4e6da82ad928938a1b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d093738d94d297f7986c757dbb41b1b10be75c6d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d093738d94d297f7986c757dbb41b1b10be75c6d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d093738d94d297f7986c757dbb41b1b10be75c6d", "patch": "@@ -1,5 +1,9 @@\n 2004-03-16  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n+\t* builtins.c (integer_valued_real_p): Add builtin rint.\n+\t(fold_builtin): Likewise.\n+\t* convert.c (convert_to_real): Likewise.\n+\n \t* convert.c (convert_to_real): Fix typos in `long double'\n \tbuiltins.\n "}, {"sha": "d394a40a1d433de39f4e42c458652e662db093cb", "filename": "gcc/builtins.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d093738d94d297f7986c757dbb41b1b10be75c6d/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d093738d94d297f7986c757dbb41b1b10be75c6d/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=d093738d94d297f7986c757dbb41b1b10be75c6d", "patch": "@@ -5795,6 +5795,9 @@ integer_valued_real_p (tree t)\n \tcase BUILT_IN_NEARBYINT:\n \tcase BUILT_IN_NEARBYINTF:\n \tcase BUILT_IN_NEARBYINTL:\n+\tcase BUILT_IN_RINT:\n+\tcase BUILT_IN_RINTF:\n+\tcase BUILT_IN_RINTL:\n \tcase BUILT_IN_ROUND:\n \tcase BUILT_IN_ROUNDF:\n \tcase BUILT_IN_ROUNDL:\n@@ -7044,6 +7047,9 @@ fold_builtin (tree exp)\n     case BUILT_IN_NEARBYINT:\n     case BUILT_IN_NEARBYINTF:\n     case BUILT_IN_NEARBYINTL:\n+    case BUILT_IN_RINT:\n+    case BUILT_IN_RINTF:\n+    case BUILT_IN_RINTL:\n       return fold_trunc_transparent_mathfn (exp);\n \n     case BUILT_IN_FFS:"}, {"sha": "554cd48ea236744d943d2b1b772c4d456e5f824f", "filename": "gcc/convert.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d093738d94d297f7986c757dbb41b1b10be75c6d/gcc%2Fconvert.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d093738d94d297f7986c757dbb41b1b10be75c6d/gcc%2Fconvert.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconvert.c?ref=d093738d94d297f7986c757dbb41b1b10be75c6d", "patch": "@@ -175,13 +175,15 @@ convert_to_real (tree type, tree expr)\n       && (((fcode == BUILT_IN_FLOORL\n \t   || fcode == BUILT_IN_CEILL\n \t   || fcode == BUILT_IN_ROUNDL\n+\t   || fcode == BUILT_IN_RINTL\n \t   || fcode == BUILT_IN_TRUNCL\n \t   || fcode == BUILT_IN_NEARBYINTL)\n \t  && (TYPE_MODE (type) == TYPE_MODE (double_type_node)\n \t      || TYPE_MODE (type) == TYPE_MODE (float_type_node)))\n \t  || ((fcode == BUILT_IN_FLOOR\n \t       || fcode == BUILT_IN_CEIL\n \t       || fcode == BUILT_IN_ROUND\n+\t       || fcode == BUILT_IN_RINT\n \t       || fcode == BUILT_IN_TRUNC\n \t       || fcode == BUILT_IN_NEARBYINT)\n \t      && (TYPE_MODE (type) == TYPE_MODE (float_type_node)))))"}, {"sha": "fc3ea262e3dfce066de1f688eb4ba23e3f165a1f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d093738d94d297f7986c757dbb41b1b10be75c6d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d093738d94d297f7986c757dbb41b1b10be75c6d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d093738d94d297f7986c757dbb41b1b10be75c6d", "patch": "@@ -1,3 +1,7 @@\n+2004-03-16  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* gcc.dg/torture/builtin-integral-1.c: Also check for `rint'.\n+\n 2004-03-16  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/14481"}, {"sha": "1f2990dd2f076e392c391ff963c4caf1ad748be3", "filename": "gcc/testsuite/gcc.dg/torture/builtin-integral-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d093738d94d297f7986c757dbb41b1b10be75c6d/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fbuiltin-integral-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d093738d94d297f7986c757dbb41b1b10be75c6d/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fbuiltin-integral-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fbuiltin-integral-1.c?ref=d093738d94d297f7986c757dbb41b1b10be75c6d", "patch": "@@ -28,6 +28,7 @@ void test(int i1, int i2)\n   CHECK_FN(ceil);\n   CHECK_FN(floor);\n   CHECK_FN(nearbyint);\n+  CHECK_FN(rint);\n   CHECK_FN(round);\n   CHECK_FN(trunc);\n "}]}