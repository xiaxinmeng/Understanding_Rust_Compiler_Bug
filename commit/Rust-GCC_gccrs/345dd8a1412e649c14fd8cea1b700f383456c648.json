{"sha": "345dd8a1412e649c14fd8cea1b700f383456c648", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQ1ZGQ4YTE0MTJlNjQ5YzE0ZmQ4Y2VhMWI3MDBmMzgzNDU2YzY0OA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-01-06T20:44:18Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-01-06T20:44:18Z"}, "message": "Now includes regs.h.\n\n({movcnt,mod}_regno_adjust): Corrected typos.\n\nFrom-SVN: r13388", "tree": {"sha": "79ce3719b892a11c283eb69f26fde2fbe2f6ea8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/79ce3719b892a11c283eb69f26fde2fbe2f6ea8b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/345dd8a1412e649c14fd8cea1b700f383456c648", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/345dd8a1412e649c14fd8cea1b700f383456c648", "html_url": "https://github.com/Rust-GCC/gccrs/commit/345dd8a1412e649c14fd8cea1b700f383456c648", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/345dd8a1412e649c14fd8cea1b700f383456c648/comments", "author": null, "committer": null, "parents": [{"sha": "f997f8aeaf849ff32387389ac9350e604ebc97e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f997f8aeaf849ff32387389ac9350e604ebc97e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f997f8aeaf849ff32387389ac9350e604ebc97e2"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "6e9a129d194e8218d90eaaa59de2422a8d95a1e4", "filename": "gcc/config/1750a/1750a.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/345dd8a1412e649c14fd8cea1b700f383456c648/gcc%2Fconfig%2F1750a%2F1750a.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/345dd8a1412e649c14fd8cea1b700f383456c648/gcc%2Fconfig%2F1750a%2F1750a.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2F1750a%2F1750a.c?ref=345dd8a1412e649c14fd8cea1b700f383456c648", "patch": "@@ -1,5 +1,5 @@\n /* Subroutines for insn-output.c for MIL-STD-1750.\n-   Copyright (C) 1994, 1995, 1996 Free Software Foundation, Inc.\n+   Copyright (C) 1994, 1995, 1996, 1997 Free Software Foundation, Inc.\n    Contributed by O.M.Kellogg, DASA (kellogg@space.otn.dasa.de)\n \n This file is part of GNU CC.\n@@ -32,6 +32,7 @@ Boston, MA 02111-1307, USA.  */\n #define HAVE_cc0\n #include \"conditions.h\"\n #include \"real.h\"\n+#include \"regs.h\"\n \n struct datalabel_array datalbl[DATALBL_ARRSIZ];\n int datalbl_ndx = -1;\n@@ -189,7 +190,7 @@ movcnt_regno_adjust (op)\n   else if (cntreg == srcreg + 1)\n     sprintf (outstr, \"xwr r%d,r%d\\n\\tmov r%d,r%d\", op0r, op1r, op1r, op0r);\n   else\n-    sprintf (outstr, \"xwr r%d,r%d\\n\\tmov r%d,%d\\n\\txwr r%d,r%d\",\n+    sprintf (outstr, \"xwr r%d,r%d\\n\\tmov r%d,r%d\\n\\txwr r%d,r%d\",\n \t     op2r, cntreg_1750, op0r, op1r, op2r, cntreg_1750);\n   return outstr;\n }\n@@ -203,7 +204,8 @@ mod_regno_adjust (instr, op)\n   char *r = (!strncmp (instr, \"dvr\", 3) ? \"r\" : \"\");\n   int modregno_gcc = REGNO (op[3]), modregno_1750 = REGNO (op[0]) + 1;\n \n-  if (modregno_gcc == modregno_1750)\n+  if (modregno_gcc == modregno_1750 || (reg_renumber != NULL\n+        && reg_renumber[modregno_gcc] == reg_renumber[modregno_1750]))\n     sprintf (outstr, \"%s r%%0,%s%%2\", instr, r);\n   else\n     sprintf (outstr, \"lr r%d,r%d\\n\\t%s r%%0,%s%%2\\n\\txwr r%d,r%d\","}]}