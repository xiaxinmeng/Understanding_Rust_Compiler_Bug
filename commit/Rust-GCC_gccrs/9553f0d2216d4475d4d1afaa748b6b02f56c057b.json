{"sha": "9553f0d2216d4475d4d1afaa748b6b02f56c057b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTU1M2YwZDIyMTZkNDQ3NWQ0ZDFhZmFhNzQ4YjZiMDJmNTZjMDU3Yg==", "commit": {"author": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2019-06-18T08:01:00Z"}, "committer": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2019-06-18T08:01:00Z"}, "message": "libsanitizer - remove reference to __cxa_rethrow_primary_exception.\n\nFor some Darwin versions the absence of the rethrow_primary_exception\nsymbol causes almost all sanitizer tests to fail.\nThe symbol is not present in libstdc++ and, therefore is is correct to\nremove the reference to it for all platforms.  We do this by adding a\nnew guard \"ASAN_HAS_CXA_RETHROW_PRIMARY_EXCEPTION\".\n\nlibsanitizer/\n\n2019-06-18  Iain Sandoe  <iain@sandoe.co.uk>\n\n\tPR libsanitizer/87880\n\t* asan/asan_interceptors.h:\n\t(ASAN_INTERCEPT___CXA_RETHROW_PRIMARY_EXCEPTION): New.\n\t* asan/Makefile.am (DEFS): Add \n\tASAN_HAS_CXA_RETHROW_PRIMARY_EXCEPTION, defined to 0.\n\t* asan/Makefile.in: Regenerated.\n\t* asan/libtool-version: Bump version.\n\nFrom-SVN: r272406", "tree": {"sha": "931cc9398ba82af702c7908a603fcd1a67faf885", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/931cc9398ba82af702c7908a603fcd1a67faf885"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9553f0d2216d4475d4d1afaa748b6b02f56c057b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9553f0d2216d4475d4d1afaa748b6b02f56c057b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9553f0d2216d4475d4d1afaa748b6b02f56c057b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9553f0d2216d4475d4d1afaa748b6b02f56c057b/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "74b5fcf733823b353b331c0ca30e8b71ba98c9cf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74b5fcf733823b353b331c0ca30e8b71ba98c9cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74b5fcf733823b353b331c0ca30e8b71ba98c9cf"}], "stats": {"total": 24, "additions": 20, "deletions": 4}, "files": [{"sha": "627d6893798f0f01323c9ed9a33a087980de5a73", "filename": "libsanitizer/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9553f0d2216d4475d4d1afaa748b6b02f56c057b/libsanitizer%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9553f0d2216d4475d4d1afaa748b6b02f56c057b/libsanitizer%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2FChangeLog?ref=9553f0d2216d4475d4d1afaa748b6b02f56c057b", "patch": "@@ -1,3 +1,13 @@\n+2019-06-18  Iain Sandoe  <iain@sandoe.co.uk>\n+\n+\tPR libsanitizer/87880\n+\t* asan/asan_interceptors.h:\n+\t(ASAN_INTERCEPT___CXA_RETHROW_PRIMARY_EXCEPTION): New.\n+\t* asan/Makefile.am (DEFS): Add \n+\tASAN_HAS_CXA_RETHROW_PRIMARY_EXCEPTION, defined to 0.\n+\t* asan/Makefile.in: Regenerated.\n+\t* asan/libtool-version: Bump version.\n+\n 2019-05-27  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \tPR target/90639"}, {"sha": "b18ab2a921179767aa8fecff91afe997f4bd22fa", "filename": "libsanitizer/asan/Makefile.am", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9553f0d2216d4475d4d1afaa748b6b02f56c057b/libsanitizer%2Fasan%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9553f0d2216d4475d4d1afaa748b6b02f56c057b/libsanitizer%2Fasan%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fasan%2FMakefile.am?ref=9553f0d2216d4475d4d1afaa748b6b02f56c057b", "patch": "@@ -3,7 +3,7 @@ AM_CPPFLAGS = -I $(top_srcdir)/include -I $(top_srcdir)\n # May be used by toolexeclibdir.\n gcc_version := $(shell @get_gcc_base_ver@ $(top_srcdir)/../gcc/BASE-VER)\n \n-DEFS = -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -DASAN_HAS_EXCEPTIONS=1 -DASAN_NEEDS_SEGV=1 -DCAN_SANITIZE_UB=0\n+DEFS = -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -DASAN_HAS_EXCEPTIONS=1 -DASAN_NEEDS_SEGV=1 -DCAN_SANITIZE_UB=0 -DASAN_HAS_CXA_RETHROW_PRIMARY_EXCEPTION=0\n if USING_MAC_INTERPOSE\n DEFS += -DMAC_INTERPOSE_FUNCTIONS -DMISSING_BLOCKS_SUPPORT\n endif"}, {"sha": "41bace4238360e160afbf01d53b607f94c8178ff", "filename": "libsanitizer/asan/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9553f0d2216d4475d4d1afaa748b6b02f56c057b/libsanitizer%2Fasan%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9553f0d2216d4475d4d1afaa748b6b02f56c057b/libsanitizer%2Fasan%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fasan%2FMakefile.in?ref=9553f0d2216d4475d4d1afaa748b6b02f56c057b", "patch": "@@ -256,7 +256,8 @@ CYGPATH_W = @CYGPATH_W@\n DEFS = -D_GNU_SOURCE -D_DEBUG -D__STDC_CONSTANT_MACROS \\\n \t-D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS \\\n \t-DASAN_HAS_EXCEPTIONS=1 -DASAN_NEEDS_SEGV=1 \\\n-\t-DCAN_SANITIZE_UB=0 $(am__append_1)\n+\t-DCAN_SANITIZE_UB=0 \\\n+\t-DASAN_HAS_CXA_RETHROW_PRIMARY_EXCEPTION=0 $(am__append_1)\n DEPDIR = @DEPDIR@\n DSYMUTIL = @DSYMUTIL@\n DUMPBIN = @DUMPBIN@"}, {"sha": "beb1dc9532b9d1c7ee38ae5686f5728007fa6cc6", "filename": "libsanitizer/asan/asan_interceptors.h", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9553f0d2216d4475d4d1afaa748b6b02f56c057b/libsanitizer%2Fasan%2Fasan_interceptors.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9553f0d2216d4475d4d1afaa748b6b02f56c057b/libsanitizer%2Fasan%2Fasan_interceptors.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fasan%2Fasan_interceptors.h?ref=9553f0d2216d4475d4d1afaa748b6b02f56c057b", "patch": "@@ -79,7 +79,12 @@ void InitializePlatformInterceptors();\n #if ASAN_HAS_EXCEPTIONS && !SANITIZER_WINDOWS && !SANITIZER_SOLARIS && \\\n     !SANITIZER_NETBSD\n # define ASAN_INTERCEPT___CXA_THROW 1\n-# define ASAN_INTERCEPT___CXA_RETHROW_PRIMARY_EXCEPTION 1\n+# if ! defined(ASAN_HAS_CXA_RETHROW_PRIMARY_EXCEPTION) \\\n+     || ASAN_HAS_CXA_RETHROW_PRIMARY_EXCEPTION\n+#   define ASAN_INTERCEPT___CXA_RETHROW_PRIMARY_EXCEPTION 1\n+# else\n+#   define ASAN_INTERCEPT___CXA_RETHROW_PRIMARY_EXCEPTION 0\n+# endif\n # if defined(_GLIBCXX_SJLJ_EXCEPTIONS) || (SANITIZER_IOS && defined(__arm__))\n #  define ASAN_INTERCEPT__UNWIND_SJLJ_RAISEEXCEPTION 1\n # else"}, {"sha": "c509757b572b8f4c4660b1b4b22f36001378bc71", "filename": "libsanitizer/asan/libtool-version", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9553f0d2216d4475d4d1afaa748b6b02f56c057b/libsanitizer%2Fasan%2Flibtool-version", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9553f0d2216d4475d4d1afaa748b6b02f56c057b/libsanitizer%2Fasan%2Flibtool-version", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fasan%2Flibtool-version?ref=9553f0d2216d4475d4d1afaa748b6b02f56c057b", "patch": "@@ -3,4 +3,4 @@\n # a separate file so that version updates don't involve re-running\n # automake.\n # CURRENT:REVISION:AGE\n-5:0:0\n+6:0:0"}]}