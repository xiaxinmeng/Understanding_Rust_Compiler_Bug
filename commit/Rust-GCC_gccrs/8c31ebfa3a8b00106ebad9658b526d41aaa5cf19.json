{"sha": "8c31ebfa3a8b00106ebad9658b526d41aaa5cf19", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGMzMWViZmEzYThiMDAxMDZlYmFkOTY1OGI1MjZkNDFhYWE1Y2YxOQ==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2009-08-12T14:31:21Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2009-08-12T14:31:21Z"}, "message": "Dont add unknown subscript upper bounds.\n\n2009-08-11  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* graphite-sese-to-poly.c (pdr_add_data_dimensions): Dont add\n\tunknown subscript upper bounds.\n\n\t* testsuite/gcc.dg/graphite/interchange-6.c: Un-XFAIL.\n\nFrom-SVN: r150693", "tree": {"sha": "6b1d24efcc4ea3edbf61b7111a67e4ee087168ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b1d24efcc4ea3edbf61b7111a67e4ee087168ab"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8c31ebfa3a8b00106ebad9658b526d41aaa5cf19", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c31ebfa3a8b00106ebad9658b526d41aaa5cf19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c31ebfa3a8b00106ebad9658b526d41aaa5cf19", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c31ebfa3a8b00106ebad9658b526d41aaa5cf19/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fb9fb29034ae7d09acac8e06246e061040c15c98", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb9fb29034ae7d09acac8e06246e061040c15c98", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb9fb29034ae7d09acac8e06246e061040c15c98"}], "stats": {"total": 38, "additions": 29, "deletions": 9}, "files": [{"sha": "3280919183c30ef512e6e297c517a966b805ec0d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c31ebfa3a8b00106ebad9658b526d41aaa5cf19/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c31ebfa3a8b00106ebad9658b526d41aaa5cf19/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8c31ebfa3a8b00106ebad9658b526d41aaa5cf19", "patch": "@@ -1,3 +1,8 @@\n+2009-08-12  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-sese-to-poly.c (pdr_add_data_dimensions): Dont add\n+\tunknown subscript upper bounds.\n+\n 2009-08-12  Sebastian Pop  <sebastian.pop@amd.com>\n \t    Pranav Garg  <pranav.garg2107@gmail.com>\n "}, {"sha": "cb67b31c026fafd0e009293244586bc7b68382fe", "filename": "gcc/ChangeLog.graphite", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c31ebfa3a8b00106ebad9658b526d41aaa5cf19/gcc%2FChangeLog.graphite", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c31ebfa3a8b00106ebad9658b526d41aaa5cf19/gcc%2FChangeLog.graphite", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog.graphite?ref=8c31ebfa3a8b00106ebad9658b526d41aaa5cf19", "patch": "@@ -1,3 +1,10 @@\n+2009-08-11  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-sese-to-poly.c (pdr_add_data_dimensions): Dont add\n+\tunknown subscript upper bounds.\n+\n+\t* testsuite/gcc.dg/graphite/interchange-6.c: Un-XFAIL.\n+\n 2009-08-11  Sebastian Pop  <sebastian.pop@amd.com>\n \t    Pranav Garg  <pranav.garg2107@gmail.com>\n "}, {"sha": "ad64b8c34990b5110c12d1090b49692ce524c812", "filename": "gcc/graphite-sese-to-poly.c", "status": "modified", "additions": 12, "deletions": 8, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c31ebfa3a8b00106ebad9658b526d41aaa5cf19/gcc%2Fgraphite-sese-to-poly.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c31ebfa3a8b00106ebad9658b526d41aaa5cf19/gcc%2Fgraphite-sese-to-poly.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-sese-to-poly.c?ref=8c31ebfa3a8b00106ebad9658b526d41aaa5cf19", "patch": "@@ -1669,6 +1669,7 @@ pdr_add_data_dimensions (ppl_Polyhedron_t accesses, data_reference_p dr,\n       ppl_Linear_Expression_t expr;\n       ppl_Constraint_t cstr;\n       ppl_dimension_type subscript = dom_nb_dims + 1 + i;\n+      int size;\n \n       /* 0 <= subscript */\n       ppl_new_Linear_Expression_with_dimension (&expr, accessp_nb_dims);\n@@ -1685,16 +1686,19 @@ pdr_add_data_dimensions (ppl_Polyhedron_t accesses, data_reference_p dr,\n \tbreak;\n \n       /* subscript <= array_size */\n-      ppl_new_Linear_Expression_with_dimension (&expr, accessp_nb_dims);\n-      ppl_set_coef (expr, subscript, -1);\n+      size = elt_size ? int_cst_value (array_size) / elt_size : 0;\n+      if (size)\n+\t{\n+\t  ppl_new_Linear_Expression_with_dimension (&expr, accessp_nb_dims);\n+\t  ppl_set_coef (expr, subscript, -1);\n \n-      if (elt_size)\n-\tppl_set_inhomogeneous (expr, int_cst_value (array_size) / elt_size);\n+\t  ppl_set_inhomogeneous (expr, size);\n \n-      ppl_new_Constraint (&cstr, expr, PPL_CONSTRAINT_TYPE_GREATER_OR_EQUAL);\n-      ppl_Polyhedron_add_constraint (accesses, cstr);\n-      ppl_delete_Linear_Expression (expr);\n-      ppl_delete_Constraint (cstr);\n+\t  ppl_new_Constraint (&cstr, expr, PPL_CONSTRAINT_TYPE_GREATER_OR_EQUAL);\n+\t  ppl_Polyhedron_add_constraint (accesses, cstr);\n+\t  ppl_delete_Linear_Expression (expr);\n+\t  ppl_delete_Constraint (cstr);\n+\t}\n \n       elt_size = int_cst_value (array_size);\n     }"}, {"sha": "8eace450023726f1b3177bc65ad0ff71bdad0c48", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c31ebfa3a8b00106ebad9658b526d41aaa5cf19/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c31ebfa3a8b00106ebad9658b526d41aaa5cf19/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8c31ebfa3a8b00106ebad9658b526d41aaa5cf19", "patch": "@@ -1,3 +1,7 @@\n+2009-08-12  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* testsuite/gcc.dg/graphite/interchange-6.c: Un-XFAIL.\n+\n 2009-08-12  Sebastian Pop  <sebastian.pop@amd.com>\n \t    Pranav Garg  <pranav.garg2107@gmail.com>\n "}, {"sha": "a10dc0c5c7c1f489168ae8405e650e84061a1611", "filename": "gcc/testsuite/gcc.dg/graphite/interchange-6.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c31ebfa3a8b00106ebad9658b526d41aaa5cf19/gcc%2Ftestsuite%2Fgcc.dg%2Fgraphite%2Finterchange-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c31ebfa3a8b00106ebad9658b526d41aaa5cf19/gcc%2Ftestsuite%2Fgcc.dg%2Fgraphite%2Finterchange-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fgraphite%2Finterchange-6.c?ref=8c31ebfa3a8b00106ebad9658b526d41aaa5cf19", "patch": "@@ -13,5 +13,5 @@ int medium_loop_interchange(int A[100][200])\n   return A[1][1];\n }\n \n-/* { dg-final { scan-tree-dump-times \"will be interchanged\" 1 \"graphite\" { xfail *-*-* } } } */\n+/* { dg-final { scan-tree-dump-times \"will be interchanged\" 1 \"graphite\" } } */\n /* { dg-final { cleanup-tree-dump \"graphite\" } } */"}]}