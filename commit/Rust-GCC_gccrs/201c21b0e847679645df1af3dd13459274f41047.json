{"sha": "201c21b0e847679645df1af3dd13459274f41047", "node_id": "C_kwDOANBUbNoAKDIwMWMyMWIwZTg0NzY3OTY0NWRmMWFmM2RkMTM0NTkyNzRmNDEwNDc", "commit": {"author": {"name": "Ghjuvan Lacambre", "email": "lacambre@adacore.com", "date": "2022-12-12T13:54:47Z"}, "committer": {"name": "Marc Poulhi\u00e8s", "email": "poulhies@adacore.com", "date": "2023-01-03T09:29:54Z"}, "message": "ada: Fix unescaped quotes when combining fdiagnostics-format=json and gnatdJ\n\nThis commit fixes a small bug where GNAT would emit unescaped quotes in\nits -fdiagnostics-format=json output when using -gnatdJ and emitting\nmessages about operator functions (e.g. \"=\").\n\ngcc/ada/\n\n\t* errout.adb (Write_JSON_Span): Escape subprogram name.", "tree": {"sha": "4c75ffc8c0ed19ba0d7fea85f16b0e739b00e246", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4c75ffc8c0ed19ba0d7fea85f16b0e739b00e246"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/201c21b0e847679645df1af3dd13459274f41047", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/201c21b0e847679645df1af3dd13459274f41047", "html_url": "https://github.com/Rust-GCC/gccrs/commit/201c21b0e847679645df1af3dd13459274f41047", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/201c21b0e847679645df1af3dd13459274f41047/comments", "author": {"login": "glacambre", "id": 11534587, "node_id": "MDQ6VXNlcjExNTM0NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/11534587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glacambre", "html_url": "https://github.com/glacambre", "followers_url": "https://api.github.com/users/glacambre/followers", "following_url": "https://api.github.com/users/glacambre/following{/other_user}", "gists_url": "https://api.github.com/users/glacambre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glacambre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glacambre/subscriptions", "organizations_url": "https://api.github.com/users/glacambre/orgs", "repos_url": "https://api.github.com/users/glacambre/repos", "events_url": "https://api.github.com/users/glacambre/events{/privacy}", "received_events_url": "https://api.github.com/users/glacambre/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dkm", "id": 87603, "node_id": "MDQ6VXNlcjg3NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/87603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkm", "html_url": "https://github.com/dkm", "followers_url": "https://api.github.com/users/dkm/followers", "following_url": "https://api.github.com/users/dkm/following{/other_user}", "gists_url": "https://api.github.com/users/dkm/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkm/subscriptions", "organizations_url": "https://api.github.com/users/dkm/orgs", "repos_url": "https://api.github.com/users/dkm/repos", "events_url": "https://api.github.com/users/dkm/events{/privacy}", "received_events_url": "https://api.github.com/users/dkm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "238ff612f2fd88372c585753dd2faa73cb94cbb5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/238ff612f2fd88372c585753dd2faa73cb94cbb5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/238ff612f2fd88372c585753dd2faa73cb94cbb5"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "261ba2e80331b3f4df652f59cb9e5f5a58773684", "filename": "gcc/ada/errout.adb", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/201c21b0e847679645df1af3dd13459274f41047/gcc%2Fada%2Ferrout.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/201c21b0e847679645df1af3dd13459274f41047/gcc%2Fada%2Ferrout.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ferrout.adb?ref=201c21b0e847679645df1af3dd13459274f41047", "patch": "@@ -2193,8 +2193,9 @@ package body Errout is\n          end if;\n \n          if Include_Subprogram_In_Messages then\n-            Write_Str\n-              (\",\"\"subprogram\"\":\"\"\" & Subprogram_Name_Ptr (Error.Node) & \"\"\"\");\n+            Write_Str (\",\"\"subprogram\"\":\"\"\");\n+            Write_JSON_Escaped_String (Subprogram_Name_Ptr (Error.Node));\n+            Write_Str (\"\"\"\");\n          end if;\n \n          Write_Str (\"}\");"}]}