{"sha": "a8c50132e9e2c02c1692088b0f8aaad7a8716f4d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YThjNTAxMzJlOWUyYzAyYzE2OTIwODhiMGY4YWFhZDdhODcxNmY0ZA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2013-05-31T19:08:51Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2013-05-31T19:08:51Z"}, "message": "simplify-rtx.c (simplify_byte_swapping_operation): Use proper macro for constant scalar integers.\n\n\t* simplify-rtx.c (simplify_byte_swapping_operation): Use proper macro\n\tfor constant scalar integers.\n\t(simplify_relational_operation_1): Likewise.\n\nFrom-SVN: r199556", "tree": {"sha": "54144a0f79f74c118d8df590fecac3302383865d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/54144a0f79f74c118d8df590fecac3302383865d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a8c50132e9e2c02c1692088b0f8aaad7a8716f4d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8c50132e9e2c02c1692088b0f8aaad7a8716f4d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8c50132e9e2c02c1692088b0f8aaad7a8716f4d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8c50132e9e2c02c1692088b0f8aaad7a8716f4d/comments", "author": null, "committer": null, "parents": [{"sha": "44626634cd43da48f2a471fc5b4dfb1e482e6e6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44626634cd43da48f2a471fc5b4dfb1e482e6e6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44626634cd43da48f2a471fc5b4dfb1e482e6e6f"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "0894c50d81ff93553ab1f2a596a13be4f7e755e1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8c50132e9e2c02c1692088b0f8aaad7a8716f4d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8c50132e9e2c02c1692088b0f8aaad7a8716f4d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a8c50132e9e2c02c1692088b0f8aaad7a8716f4d", "patch": "@@ -1,3 +1,9 @@\n+2013-05-31  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* simplify-rtx.c (simplify_byte_swapping_operation): Use proper macro\n+\tfor constant scalar integers.\n+\t(simplify_relational_operation_1): Likewise.\n+\n 2013-05-31  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \t* config/rs6000/rs6000-opts.h (enum processor_type): Reorder."}, {"sha": "9bb31e76ed9812632f828037b5ca69c8a88b9339", "filename": "gcc/simplify-rtx.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8c50132e9e2c02c1692088b0f8aaad7a8716f4d/gcc%2Fsimplify-rtx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8c50132e9e2c02c1692088b0f8aaad7a8716f4d/gcc%2Fsimplify-rtx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsimplify-rtx.c?ref=a8c50132e9e2c02c1692088b0f8aaad7a8716f4d", "patch": "@@ -2067,8 +2067,7 @@ simplify_byte_swapping_operation (enum rtx_code code, enum machine_mode mode,\n   rtx tem;\n \n   /* (op (bswap x) C1)) -> (bswap (op x C2)) with C2 swapped.  */\n-  if (GET_CODE (op0) == BSWAP\n-      && (CONST_INT_P (op1) || CONST_DOUBLE_AS_INT_P (op1)))\n+  if (GET_CODE (op0) == BSWAP && CONST_SCALAR_INT_P (op1))\n     {\n       tem = simplify_gen_binary (code, mode, XEXP (op0, 0),\n \t\t\t\t simplify_gen_unary (BSWAP, mode, op1, mode));\n@@ -4814,7 +4813,7 @@ simplify_relational_operation_1 (enum rtx_code code, enum machine_mode mode,\n   /* (eq/ne (bswap x) C1) simplifies to (eq/ne x C2) with C2 swapped.  */\n   if ((code == EQ || code == NE)\n       && GET_CODE (op0) == BSWAP\n-      && (CONST_INT_P (op1) || CONST_DOUBLE_AS_INT_P (op1)))\n+      && CONST_SCALAR_INT_P (op1))\n     return simplify_gen_relational (code, mode, cmp_mode, XEXP (op0, 0),\n \t\t\t\t    simplify_gen_unary (BSWAP, cmp_mode,\n \t\t\t\t\t\t\top1, cmp_mode));"}]}