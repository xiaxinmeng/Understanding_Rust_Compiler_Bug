{"sha": "6c4ffa6c4a5ff7a46e1bd4b628d29828a77e1704", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmM0ZmZhNmM0YTVmZjdhNDZlMWJkNGI2MjhkMjk4MjhhNzdlMTcwNA==", "commit": {"author": {"name": "Trevor Saunders", "email": "tsaunders@mozilla.com", "date": "2015-01-22T11:55:33Z"}, "committer": {"name": "Trevor Saunders", "email": "tbsaunde@gcc.gnu.org", "date": "2015-01-22T11:55:33Z"}, "message": "make fold ignore decl_with_vis.symtab_node\n\ngcc/\n\n\tPR middle-end/63325\n\t* fold-const.c (fold_checksum_tree): Don't include\n\texpr.decl_with_vis.symtab_node in the checksum.\n\nFrom-SVN: r219994", "tree": {"sha": "ae4a85648726e49cd120be4c5aab95e4d90c4d82", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ae4a85648726e49cd120be4c5aab95e4d90c4d82"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6c4ffa6c4a5ff7a46e1bd4b628d29828a77e1704", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c4ffa6c4a5ff7a46e1bd4b628d29828a77e1704", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c4ffa6c4a5ff7a46e1bd4b628d29828a77e1704", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c4ffa6c4a5ff7a46e1bd4b628d29828a77e1704/comments", "author": null, "committer": null, "parents": [{"sha": "cf5b43b050567e8ad9ca65b28489324fe5cc1022", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf5b43b050567e8ad9ca65b28489324fe5cc1022", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf5b43b050567e8ad9ca65b28489324fe5cc1022"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "d9c1258e22f72d2c1df25708168e18d096188600", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c4ffa6c4a5ff7a46e1bd4b628d29828a77e1704/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c4ffa6c4a5ff7a46e1bd4b628d29828a77e1704/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6c4ffa6c4a5ff7a46e1bd4b628d29828a77e1704", "patch": "@@ -1,3 +1,9 @@\n+2015-01-22  Trevor Saunders  <tsaunders@mozilla.com>\n+\n+\tPR middle-end/63325\n+\t* fold-const.c (fold_checksum_tree): Don't include value of\n+\texpr->decl_with_vis.symtab_node in the checksum.\n+\n 2015-01-22  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n \n \t* config/s390/s390.md (atomic code attribute): Fix typo \"ior\" ->"}, {"sha": "50a987771abcb45184c309aa2ce7264296db73f2", "filename": "gcc/fold-const.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c4ffa6c4a5ff7a46e1bd4b628d29828a77e1704/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c4ffa6c4a5ff7a46e1bd4b628d29828a77e1704/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=6c4ffa6c4a5ff7a46e1bd4b628d29828a77e1704", "patch": "@@ -14073,11 +14073,12 @@ fold_checksum_tree (const_tree expr, struct md5_ctx *ctx,\n   *slot = expr;\n   code = TREE_CODE (expr);\n   if (TREE_CODE_CLASS (code) == tcc_declaration\n-      && DECL_ASSEMBLER_NAME_SET_P (expr))\n+      && HAS_DECL_ASSEMBLER_NAME_P (expr))\n     {\n-      /* Allow DECL_ASSEMBLER_NAME to be modified.  */\n+      /* Allow DECL_ASSEMBLER_NAME and symtab_node to be modified.  */\n       memcpy ((char *) &buf, expr, tree_size (expr));\n       SET_DECL_ASSEMBLER_NAME ((tree)&buf, NULL);\n+      buf.decl_with_vis.symtab_node = NULL;\n       expr = (tree) &buf;\n     }\n   else if (TREE_CODE_CLASS (code) == tcc_type"}]}