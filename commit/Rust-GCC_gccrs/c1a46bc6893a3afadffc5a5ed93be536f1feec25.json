{"sha": "c1a46bc6893a3afadffc5a5ed93be536f1feec25", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzFhNDZiYzY4OTNhM2FmYWRmZmM1YTVlZDkzYmU1MzZmMWZlZWMyNQ==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2011-12-29T18:30:53Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2011-12-29T18:30:53Z"}, "message": "Fix 50988 testsuite failures\n\nFrom-SVN: r182728", "tree": {"sha": "948f6b9d9c8f2bc4911ff4ad69d83ba697c70866", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/948f6b9d9c8f2bc4911ff4ad69d83ba697c70866"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c1a46bc6893a3afadffc5a5ed93be536f1feec25", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1a46bc6893a3afadffc5a5ed93be536f1feec25", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1a46bc6893a3afadffc5a5ed93be536f1feec25", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1a46bc6893a3afadffc5a5ed93be536f1feec25/comments", "author": null, "committer": null, "parents": [{"sha": "a188284c61ceff5871df88b2f4ad5972bfd6fb3a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a188284c61ceff5871df88b2f4ad5972bfd6fb3a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a188284c61ceff5871df88b2f4ad5972bfd6fb3a"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "98fa5d2d4191ae3c74b8d0f82480ed28a8796898", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-34.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1a46bc6893a3afadffc5a5ed93be536f1feec25/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-34.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1a46bc6893a3afadffc5a5ed93be536f1feec25/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-34.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-34.c?ref=c1a46bc6893a3afadffc5a5ed93be536f1feec25", "patch": "@@ -1,6 +1,7 @@\n /* PR target/49621 */\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -maltivec\" } */\n+/* { dg-require-effective-target powerpc_altivec_ok } */\n+/* { dg-options \"-O2 -maltivec -mno-vsx\" } */\n \n #include <altivec.h>\n "}, {"sha": "558db42381e52218792cdb48f597497f961aa3a4", "filename": "gcc/testsuite/gcc.target/powerpc/ehreturn.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1a46bc6893a3afadffc5a5ed93be536f1feec25/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fehreturn.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1a46bc6893a3afadffc5a5ed93be536f1feec25/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fehreturn.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fehreturn.c?ref=c1a46bc6893a3afadffc5a5ed93be536f1feec25", "patch": "@@ -12,4 +12,4 @@ void foo ()\n   __builtin_eh_return (l, p);\n }\n \n-/* { dg-final { scan-assembler \"st\\[wd\\] 30,\" } } */\n+/* { dg-final { scan-assembler \"(st\\[wd\\]|evstdd) 30,\" } } */"}, {"sha": "29614e8f51454aa875da05418702530010bb29b8", "filename": "gcc/testsuite/gcc.target/powerpc/ppc-pow.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1a46bc6893a3afadffc5a5ed93be536f1feec25/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-pow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1a46bc6893a3afadffc5a5ed93be536f1feec25/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-pow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppc-pow.c?ref=c1a46bc6893a3afadffc5a5ed93be536f1feec25", "patch": "@@ -1,6 +1,9 @@\n /* { dg-do compile { target { { powerpc*-*-* } && { ! powerpc*-apple-darwin* } } } } */\n-/* { dg-require-effective-target powerpc_fprs } */\n-/* { dg-options \"-O2 -ffast-math -mcpu=power6\" } */\n+/* Check for VSX here, even though we don't use VSX to eliminate SPE, PAIRED\n+   and other ppc floating point varients.  However, we need to also eliminate\n+   Darwin, since it doesn't like -mcpu=power6.  */\n+/* { dg-require-effective-target powerpc_vsx_ok } */\n+/* { dg-options \"-O2 -ffast-math -mcpu=power6 -mno-vsx -mno-altivec\" } */\n /* { dg-final { scan-assembler-times \"fsqrt\" 3 } } */\n /* { dg-final { scan-assembler-times \"fmul\" 1 } } */\n /* { dg-final { scan-assembler-times \"bl? pow\" 1 } } */"}]}