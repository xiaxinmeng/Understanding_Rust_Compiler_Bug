{"sha": "70cb2d9f66ba890c428f5db93b92ff76282f996e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzBjYjJkOWY2NmJhODkwYzQyOGY1ZGI5M2I5MmZmNzYyODJmOTk2ZQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2009-06-02T08:12:04Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2009-06-02T08:12:04Z"}, "message": "Makefile.tpl ([+compare-target+]): Compare all stage directories, rather than just gcc.\n\n* Makefile.tpl ([+compare-target+]): Compare all stage\ndirectories, rather than just gcc.\n* Makefile.in: Rebuilt.\n\nFrom-SVN: r148080", "tree": {"sha": "b2c1526d62de23db8d849a6785c2b9455dbdb398", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b2c1526d62de23db8d849a6785c2b9455dbdb398"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/70cb2d9f66ba890c428f5db93b92ff76282f996e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70cb2d9f66ba890c428f5db93b92ff76282f996e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70cb2d9f66ba890c428f5db93b92ff76282f996e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70cb2d9f66ba890c428f5db93b92ff76282f996e/comments", "author": null, "committer": null, "parents": [{"sha": "2feb56e67924b5ac4d3cd65c83a508e08c3a98dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2feb56e67924b5ac4d3cd65c83a508e08c3a98dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2feb56e67924b5ac4d3cd65c83a508e08c3a98dc"}], "stats": {"total": 39, "additions": 24, "deletions": 15}, "files": [{"sha": "dbc057a70cf54cb299bf133d867572d64a5972bc", "filename": "ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70cb2d9f66ba890c428f5db93b92ff76282f996e/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70cb2d9f66ba890c428f5db93b92ff76282f996e/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=70cb2d9f66ba890c428f5db93b92ff76282f996e", "patch": "@@ -1,3 +1,9 @@\n+2009-06-02  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* Makefile.tpl ([+compare-target+]): Compare all stage\n+\tdirectories, rather than just gcc.\n+\t* Makefile.in: Rebuilt.\n+\n 2009-06-01  Doug Kwan  <dougkwan@google.com>\n \n \t* configure.ac: Support gold for target arm*-*-*."}, {"sha": "a32f0835267b0b4015ea52904a9d69cc7671d206", "filename": "Makefile.in", "status": "modified", "additions": 12, "deletions": 10, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70cb2d9f66ba890c428f5db93b92ff76282f996e/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70cb2d9f66ba890c428f5db93b92ff76282f996e/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=70cb2d9f66ba890c428f5db93b92ff76282f996e", "patch": "@@ -53135,15 +53135,16 @@ compare:\n \t: $(MAKE); $(stage); \\\n \trm -f .bad_compare ; \\\n \techo Comparing stages 2 and 3 ; \\\n-\tcd stage3-gcc; \\\n-\tfiles=`find . -name \"*$(objext)\" -print` ; \\\n-\tcd .. ; \\\n+        sed=`echo stage3 | sed 's,^stage,,;s,.,.,g'`; \\\n+\tfiles=`find stage3-* -name \"*$(objext)\" -print | \\\n+\t\t sed -n s,^stage$$sed-,,p` ; \\\n \tfor file in $${files} ; do \\\n-\t  f1=$$r/stage2-gcc/$$file; f2=$$r/stage3-gcc/$$file; \\\n+\t  f1=$$r/stage2-$$file; f2=$$r/stage3-$$file; \\\n+\t  if test ! -f $$f1; then continue; fi; \\\n \t  $(do-compare) > /dev/null 2>&1; \\\n \t  if test $$? -eq 1; then \\\n \t    case $$file in \\\n-\t      ./cc*-checksum$(objext) | ./libgcc/* | ./ada/*tools/* ) \\\n+\t      gcc/cc*-checksum$(objext) | ./libgcc/* | ./gcc/ada/*tools/*) \\\n \t        echo warning: $$file differs ;; \\\n \t      *) \\\n \t        echo $$file differs >> .bad_compare ;; \\\n@@ -53472,15 +53473,16 @@ compare3:\n \t: $(MAKE); $(stage); \\\n \trm -f .bad_compare ; \\\n \techo Comparing stages 3 and 4 ; \\\n-\tcd stage4-gcc; \\\n-\tfiles=`find . -name \"*$(objext)\" -print` ; \\\n-\tcd .. ; \\\n+        sed=`echo stage4 | sed 's,^stage,,;s,.,.,g'`; \\\n+\tfiles=`find stage4-* -name \"*$(objext)\" -print | \\\n+\t\t sed -n s,^stage$$sed-,,p` ; \\\n \tfor file in $${files} ; do \\\n-\t  f1=$$r/stage3-gcc/$$file; f2=$$r/stage4-gcc/$$file; \\\n+\t  f1=$$r/stage3-$$file; f2=$$r/stage4-$$file; \\\n+\t  if test ! -f $$f1; then continue; fi; \\\n \t  $(do-compare3) > /dev/null 2>&1; \\\n \t  if test $$? -eq 1; then \\\n \t    case $$file in \\\n-\t      ./cc*-checksum$(objext) | ./libgcc/* | ./ada/*tools/* ) \\\n+\t      gcc/cc*-checksum$(objext) | ./libgcc/* | ./gcc/ada/*tools/*) \\\n \t        echo warning: $$file differs ;; \\\n \t      *) \\\n \t        echo $$file differs >> .bad_compare ;; \\"}, {"sha": "ded52c66eacbcac3facb481f75d8e6941dfc8d44", "filename": "Makefile.tpl", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70cb2d9f66ba890c428f5db93b92ff76282f996e/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70cb2d9f66ba890c428f5db93b92ff76282f996e/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=70cb2d9f66ba890c428f5db93b92ff76282f996e", "patch": "@@ -1426,15 +1426,16 @@ do-clean: clean-stage[+id+]\n \t: $(MAKE); $(stage); \\\n \trm -f .bad_compare ; \\\n \techo Comparing stages [+prev+] and [+id+] ; \\\n-\tcd stage[+id+]-gcc; \\\n-\tfiles=`find . -name \"*$(objext)\" -print` ; \\\n-\tcd .. ; \\\n+        sed=`echo stage[+id+] | sed 's,^stage,,;s,.,.,g'`; \\\n+\tfiles=`find stage[+id+]-* -name \"*$(objext)\" -print | \\\n+\t\t sed -n s,^stage$$sed-,,p` ; \\\n \tfor file in $${files} ; do \\\n-\t  f1=$$r/stage[+prev+]-gcc/$$file; f2=$$r/stage[+id+]-gcc/$$file; \\\n+\t  f1=$$r/stage[+prev+]-$$file; f2=$$r/stage[+id+]-$$file; \\\n+\t  if test ! -f $$f1; then continue; fi; \\\n \t  $(do-[+compare-target+]) > /dev/null 2>&1; \\\n \t  if test $$? -eq 1; then \\\n \t    case $$file in \\\n-\t      ./cc*-checksum$(objext) | ./libgcc/* | ./ada/*tools/* ) \\\n+\t      gcc/cc*-checksum$(objext) | ./libgcc/* | ./gcc/ada/*tools/*) \\\n \t        echo warning: $$file differs ;; \\\n \t      *) \\\n \t        echo $$file differs >> .bad_compare ;; \\"}]}