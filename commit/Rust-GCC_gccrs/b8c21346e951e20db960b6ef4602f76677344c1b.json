{"sha": "b8c21346e951e20db960b6ef4602f76677344c1b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjhjMjEzNDZlOTUxZTIwZGI5NjBiNmVmNDYwMmY3NjY3NzM0NGMxYg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-05-06T16:59:23Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-05-06T16:59:23Z"}, "message": "(comptypes): An enum type if compatible with type of same signedness\nas well as precision.\n\nFrom-SVN: r7227", "tree": {"sha": "f5b99b6db23290cc3e409911212c94a49302c364", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f5b99b6db23290cc3e409911212c94a49302c364"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b8c21346e951e20db960b6ef4602f76677344c1b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8c21346e951e20db960b6ef4602f76677344c1b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8c21346e951e20db960b6ef4602f76677344c1b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8c21346e951e20db960b6ef4602f76677344c1b/comments", "author": null, "committer": null, "parents": [{"sha": "c9325fd6c62f615e1be9a4d009f23cb770d90c68", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9325fd6c62f615e1be9a4d009f23cb770d90c68", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9325fd6c62f615e1be9a4d009f23cb770d90c68"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "5b491979ba487f7f3a137a361cd75369878174d9", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b8c21346e951e20db960b6ef4602f76677344c1b/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b8c21346e951e20db960b6ef4602f76677344c1b/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=b8c21346e951e20db960b6ef4602f76677344c1b", "patch": "@@ -398,12 +398,13 @@ comptypes (type1, type2)\n   if (t1 == t2 || TREE_CODE (t1) == ERROR_MARK || TREE_CODE (t2) == ERROR_MARK)\n     return 1;\n \n-  /* Treat an enum type as the unsigned integer type of the same width.  */\n+  /* Treat an enum type as the integer type of the same width and \n+     signedness.  */\n \n   if (TREE_CODE (t1) == ENUMERAL_TYPE)\n-    t1 = type_for_size (TYPE_PRECISION (t1), 1);\n+    t1 = type_for_size (TYPE_PRECISION (t1), TREE_UNSIGNED (t1));\n   if (TREE_CODE (t2) == ENUMERAL_TYPE)\n-    t2 = type_for_size (TYPE_PRECISION (t2), 1);\n+    t2 = type_for_size (TYPE_PRECISION (t2), TREE_UNSIGNED (t2));\n \n   if (t1 == t2)\n     return 1;"}]}