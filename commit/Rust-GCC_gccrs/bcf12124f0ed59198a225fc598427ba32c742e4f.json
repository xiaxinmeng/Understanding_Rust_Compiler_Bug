{"sha": "bcf12124f0ed59198a225fc598427ba32c742e4f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmNmMTIxMjRmMGVkNTkxOThhMjI1ZmM1OTg0MjdiYTMyYzc0MmU0Zg==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1998-09-07T18:15:42Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-09-07T18:15:42Z"}, "message": "configure.in: If we are unable to find the \"gnatbind\" program...\n\n        * configure.in: If we are unable to find the \"gnatbind\" program,\n        then do not configure the ada subdir.\n        * configure: Rebuilt.\n\nFrom-SVN: r22312", "tree": {"sha": "cb944256731d9126517debe624639e8c4b67e1c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cb944256731d9126517debe624639e8c4b67e1c4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bcf12124f0ed59198a225fc598427ba32c742e4f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bcf12124f0ed59198a225fc598427ba32c742e4f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bcf12124f0ed59198a225fc598427ba32c742e4f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bcf12124f0ed59198a225fc598427ba32c742e4f/comments", "author": null, "committer": null, "parents": [{"sha": "71271702b7edd7f6ba2d45835d643e2be3abb155", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71271702b7edd7f6ba2d45835d643e2be3abb155", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71271702b7edd7f6ba2d45835d643e2be3abb155"}], "stats": {"total": 109, "additions": 80, "deletions": 29}, "files": [{"sha": "dde533cef5b725dda1ff730c5d8b01c6e8a2b627", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bcf12124f0ed59198a225fc598427ba32c742e4f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bcf12124f0ed59198a225fc598427ba32c742e4f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bcf12124f0ed59198a225fc598427ba32c742e4f", "patch": "@@ -1,3 +1,9 @@\n+Mon Sep  7 19:13:59 1998  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* configure.in: If we are unable to find the \"gnatbind\" program,\n+\tthen do not configure the ada subdir.\n+\t* configure: Rebuilt.\n+\n Sun Sep 6 14:03:58 PDT 1998 Jeff Law  (law@cygnus.com)\n \n \t* version.c: Bump for snapshot."}, {"sha": "5fc1705abe5eeb4ea1b57681e6e4b6ee37e42b80", "filename": "gcc/configure", "status": "modified", "additions": 66, "deletions": 29, "changes": 95, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bcf12124f0ed59198a225fc598427ba32c742e4f/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bcf12124f0ed59198a225fc598427ba32c742e4f/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=bcf12124f0ed59198a225fc598427ba32c742e4f", "patch": "@@ -1758,23 +1758,54 @@ have_pthread_h=\n fi\n \n \n+# See if GNAT has been installed\n+# Extract the first word of \"gnatbind\", so it can be a program name with args.\n+set dummy gnatbind; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:1766: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_gnat'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$gnat\"; then\n+  ac_cv_prog_gnat=\"$gnat\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n+  for ac_dir in $PATH; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_gnat=\"yes\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_gnat\" && ac_cv_prog_gnat=\"no\"\n+fi\n+fi\n+gnat=\"$ac_cv_prog_gnat\"\n+if test -n \"$gnat\"; then\n+  echo \"$ac_t\"\"$gnat\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n # See if the system preprocessor understands the ANSI C preprocessor\n # stringification operator.\n echo $ac_n \"checking whether cpp understands the stringify operator\"\"... $ac_c\" 1>&6\n-echo \"configure:1765: checking whether cpp understands the stringify operator\" >&5\n+echo \"configure:1796: checking whether cpp understands the stringify operator\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_have_stringify'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1770 \"configure\"\n+#line 1801 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n #define S(x)   #x\n char *test = S(foo);\n ; return 0; }\n EOF\n-if { (eval echo configure:1778: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1809: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_have_stringify=yes\n else\n@@ -1797,20 +1828,20 @@ fi\n # Use <inttypes.h> only if it exists,\n # doesn't clash with <sys/types.h>, and declares intmax_t.\n echo $ac_n \"checking for inttypes.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1801: checking for inttypes.h\" >&5\n+echo \"configure:1832: checking for inttypes.h\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1806 \"configure\"\n+#line 1837 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <inttypes.h>\n int main() {\n intmax_t i = -1;\n ; return 0; }\n EOF\n-if { (eval echo configure:1814: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1845: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<EOF\n #define HAVE_INTTYPES_H 1\n@@ -1833,12 +1864,12 @@ for ac_func in strtoul bsearch strerror putenv popen bcopy bzero bcmp \\\n \tsysconf isascii gettimeofday\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1837: checking for $ac_func\" >&5\n+echo \"configure:1868: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1842 \"configure\"\n+#line 1873 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1861,7 +1892,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1865: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1896: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1890,12 +1921,12 @@ done\n #AC_CHECK_TYPE(wchar_t, unsigned int)\n \n echo $ac_n \"checking for vprintf\"\"... $ac_c\" 1>&6\n-echo \"configure:1894: checking for vprintf\" >&5\n+echo \"configure:1925: checking for vprintf\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vprintf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1899 \"configure\"\n+#line 1930 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vprintf(); below.  */\n@@ -1918,7 +1949,7 @@ vprintf();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1922: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1953: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vprintf=yes\"\n else\n@@ -1942,12 +1973,12 @@ fi\n \n if test \"$ac_cv_func_vprintf\" != yes; then\n echo $ac_n \"checking for _doprnt\"\"... $ac_c\" 1>&6\n-echo \"configure:1946: checking for _doprnt\" >&5\n+echo \"configure:1977: checking for _doprnt\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func__doprnt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1951 \"configure\"\n+#line 1982 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char _doprnt(); below.  */\n@@ -1970,7 +2001,7 @@ _doprnt();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1974: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2005: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func__doprnt=yes\"\n else\n@@ -2006,15 +2037,15 @@ fi\n \n \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:2010: checking whether the printf functions support %p\" >&5\n+echo \"configure:2041: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2018 \"configure\"\n+#line 2049 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -2027,7 +2058,7 @@ main()\n   exit (p != q);\n }\n EOF\n-if { (eval echo configure:2031: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2062: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -2055,12 +2086,12 @@ for ac_func in malloc realloc calloc free bcopy bzero bcmp \\\n \tindex rindex getenv atol sbrk abort atof strerror getcwd getwd\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2059: checking whether $ac_func must be declared\" >&5\n+echo \"configure:2090: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2064 \"configure\"\n+#line 2095 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2093,7 +2124,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:2097: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2128: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -2122,12 +2153,12 @@ done\n for ac_func in getrlimit setrlimit\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2126: checking whether $ac_func must be declared\" >&5\n+echo \"configure:2157: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2131 \"configure\"\n+#line 2162 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2164,7 +2195,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:2168: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2199: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -2191,12 +2222,12 @@ done\n \n \n echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2195: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n+echo \"configure:2226: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2200 \"configure\"\n+#line 2231 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -2208,7 +2239,7 @@ int main() {\n char *msg = *(sys_siglist + 1);\n ; return 0; }\n EOF\n-if { (eval echo configure:2212: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2243: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_decl_sys_siglist=yes\n else\n@@ -5360,7 +5391,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:5364: checking assembler alignment features\" >&5\n+echo \"configure:5395: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,gcc$,gas,'`\n@@ -5436,6 +5467,11 @@ do\n \t..) ;;\n \t# The odd quoting in the next line works around\n \t# an apparent bug in bash 1.12 on linux.\n+\t${srcdir}/ada/config-lang.in)\n+\t  if test x$gnat = xyes ; then\n+\t\tsubdirs=\"$subdirs `echo $lang | sed -e 's,^.*/\\([^/]*\\)/config-lang.in$,\\1,'`\"\n+\t  fi\n+\t;;\n \t${srcdir}/[*]/config-lang.in) ;;\n \t*) subdirs=\"$subdirs `echo $lang | sed -e 's,^.*/\\([^/]*\\)/config-lang.in$,\\1,'`\" ;;\n \tesac\n@@ -5620,7 +5656,7 @@ fi\n \n # Warn if using init_priority.\n echo $ac_n \"checking whether to enable init_priority by default\"\"... $ac_c\" 1>&6\n-echo \"configure:5624: checking whether to enable init_priority by default\" >&5\n+echo \"configure:5660: checking whether to enable init_priority by default\" >&5\n if test x$enable_init_priority != xyes; then\n   enable_init_priority=no\n fi\n@@ -5887,6 +5923,7 @@ s%@INSTALL@%$INSTALL%g\n s%@INSTALL_PROGRAM@%$INSTALL_PROGRAM%g\n s%@INSTALL_DATA@%$INSTALL_DATA%g\n s%@CPP@%$CPP%g\n+s%@gnat@%$gnat%g\n s%@vfprintf@%$vfprintf%g\n s%@doprint@%$doprint%g\n s%@manext@%$manext%g"}, {"sha": "86a91cd4ac240b737672969eccc1a601cdc649f3", "filename": "gcc/configure.in", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bcf12124f0ed59198a225fc598427ba32c742e4f/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bcf12124f0ed59198a225fc598427ba32c742e4f/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=bcf12124f0ed59198a225fc598427ba32c742e4f", "patch": "@@ -220,6 +220,9 @@ AC_CHECK_HEADERS(limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h un\n AC_CHECK_HEADER(thread.h, [have_thread_h=yes], [have_thread_h=])\n AC_CHECK_HEADER(pthread.h, [have_pthread_h=yes], [have_pthread_h=])\n \n+# See if GNAT has been installed\n+AC_CHECK_PROG(gnat, gnatbind, yes, no)\n+\n # See if the system preprocessor understands the ANSI C preprocessor\n # stringification operator.\n AC_MSG_CHECKING(whether cpp understands the stringify operator)\n@@ -3597,6 +3600,11 @@ do\n \t# The odd quoting in the next line works around\n \t# an apparent bug in bash 1.12 on linux.\n changequote(,)dnl\n+\t${srcdir}/ada/config-lang.in)\n+\t  if test x$gnat = xyes ; then\n+\t\tsubdirs=\"$subdirs `echo $lang | sed -e 's,^.*/\\([^/]*\\)/config-lang.in$,\\1,'`\"\n+\t  fi\n+\t;;\n \t${srcdir}/[*]/config-lang.in) ;;\n \t*) subdirs=\"$subdirs `echo $lang | sed -e 's,^.*/\\([^/]*\\)/config-lang.in$,\\1,'`\" ;;\n changequote([,])dnl"}]}