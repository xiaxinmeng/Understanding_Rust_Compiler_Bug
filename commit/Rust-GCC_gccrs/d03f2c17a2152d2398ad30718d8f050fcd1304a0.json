{"sha": "d03f2c17a2152d2398ad30718d8f050fcd1304a0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDAzZjJjMTdhMjE1MmQyMzk4YWQzMDcxOGQ4ZjA1MGZjZDEzMDRhMA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2014-11-15T12:06:23Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2014-11-15T12:06:23Z"}, "message": "tree-ssa-loop-ivcanon.c (try_unroll_loop_completely): Add log message for max-completely-peeled-insns limit.\n\n\t* tree-ssa-loop-ivcanon.c (try_unroll_loop_completely): Add log message\n\tfor max-completely-peeled-insns limit.\n\nFrom-SVN: r217601", "tree": {"sha": "7b3d8988a38dad612997cd12e4b8ddaee7fbf0a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7b3d8988a38dad612997cd12e4b8ddaee7fbf0a6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d03f2c17a2152d2398ad30718d8f050fcd1304a0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d03f2c17a2152d2398ad30718d8f050fcd1304a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d03f2c17a2152d2398ad30718d8f050fcd1304a0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d03f2c17a2152d2398ad30718d8f050fcd1304a0/comments", "author": null, "committer": null, "parents": [{"sha": "ddc05d116529c5199e5d0dc8509b4042b4167b1f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddc05d116529c5199e5d0dc8509b4042b4167b1f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ddc05d116529c5199e5d0dc8509b4042b4167b1f"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "b6f6279a163b38a31eed2264e08fdaef554dbd10", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d03f2c17a2152d2398ad30718d8f050fcd1304a0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d03f2c17a2152d2398ad30718d8f050fcd1304a0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d03f2c17a2152d2398ad30718d8f050fcd1304a0", "patch": "@@ -1,3 +1,8 @@\n+2014-11-15  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* tree-ssa-loop-ivcanon.c (try_unroll_loop_completely): Add log message\n+\tfor max-completely-peeled-insns limit.\n+\n 2014-11-14  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* ipa-prop.h (ipa_known_type_data): Remove."}, {"sha": "c874b8bc04d8315273abe7b3800125c50f5be288", "filename": "gcc/tree-ssa-loop-ivcanon.c", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d03f2c17a2152d2398ad30718d8f050fcd1304a0/gcc%2Ftree-ssa-loop-ivcanon.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d03f2c17a2152d2398ad30718d8f050fcd1304a0/gcc%2Ftree-ssa-loop-ivcanon.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-ivcanon.c?ref=d03f2c17a2152d2398ad30718d8f050fcd1304a0", "patch": "@@ -674,7 +674,7 @@ try_unroll_loop_completely (struct loop *loop,\n \t\t\t    HOST_WIDE_INT maxiter,\n \t\t\t    location_t locus)\n {\n-  unsigned HOST_WIDE_INT n_unroll = 0, ninsns, max_unroll, unr_insns;\n+  unsigned HOST_WIDE_INT n_unroll = 0, ninsns, unr_insns;\n   gimple cond;\n   struct loop_size size;\n   bool n_unroll_found = false;\n@@ -720,9 +720,14 @@ try_unroll_loop_completely (struct loop *loop,\n   if (!n_unroll_found)\n     return false;\n \n-  max_unroll = PARAM_VALUE (PARAM_MAX_COMPLETELY_PEEL_TIMES);\n-  if (n_unroll > max_unroll)\n-    return false;\n+  if (n_unroll > (unsigned) PARAM_VALUE (PARAM_MAX_COMPLETELY_PEEL_TIMES))\n+    {\n+      if (dump_file && (dump_flags & TDF_DETAILS))\n+\tfprintf (dump_file, \"Not unrolling loop %d \"\n+\t\t \"(--param max-completely-peeled-times limit reached).\\n\",\n+\t\t loop->num);\n+      return false;\n+    }\n \n   if (!edge_to_cancel)\n     edge_to_cancel = loop_edge_to_cancel (loop);"}]}