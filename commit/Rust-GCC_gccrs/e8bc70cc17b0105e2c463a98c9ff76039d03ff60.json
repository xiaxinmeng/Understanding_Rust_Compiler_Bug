{"sha": "e8bc70cc17b0105e2c463a98c9ff76039d03ff60", "node_id": "C_kwDOANBUbNoAKGU4YmM3MGNjMTdiMDEwNWUyYzQ2M2E5OGM5ZmY3NjAzOWQwM2ZmNjA", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2022-04-05T16:31:35Z"}, "committer": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2022-04-05T16:31:35Z"}, "message": "aarch64: Use error_n for plural text [PR104897]\n\nUse error_n rather than error_at for \u201c%d vectors\u201d, so that\ntranslators can pick different translations based on the\nnumber (2 vs more than 2, etc.)\n\ngcc/\n\tPR target/104897\n\t* config/aarch64/aarch64-sve-builtins.cc\n\t(function_resolver::infer_vector_or_tuple_type): Use error_n\n\tfor \"%d vectors\" messages.", "tree": {"sha": "9167a05a02b3aad6b8e6b15b9de2c71edd64ecfb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9167a05a02b3aad6b8e6b15b9de2c71edd64ecfb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e8bc70cc17b0105e2c463a98c9ff76039d03ff60", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8bc70cc17b0105e2c463a98c9ff76039d03ff60", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8bc70cc17b0105e2c463a98c9ff76039d03ff60", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8bc70cc17b0105e2c463a98c9ff76039d03ff60/comments", "author": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5d583d24200ac33a1cb281b7ddee9aad351151b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d583d24200ac33a1cb281b7ddee9aad351151b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d583d24200ac33a1cb281b7ddee9aad351151b5"}], "stats": {"total": 16, "additions": 10, "deletions": 6}, "files": [{"sha": "5d1348afa885e6cf8d34f624ab3b0399effdff85", "filename": "gcc/config/aarch64/aarch64-sve-builtins.cc", "status": "modified", "additions": 10, "deletions": 6, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8bc70cc17b0105e2c463a98c9ff76039d03ff60/gcc%2Fconfig%2Faarch64%2Faarch64-sve-builtins.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8bc70cc17b0105e2c463a98c9ff76039d03ff60/gcc%2Fconfig%2Faarch64%2Faarch64-sve-builtins.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64-sve-builtins.cc?ref=e8bc70cc17b0105e2c463a98c9ff76039d03ff60", "patch": "@@ -1352,13 +1352,17 @@ function_resolver::infer_vector_or_tuple_type (unsigned int argno,\n \t\t\t\" expects a single SVE vector rather than a tuple\",\n \t\t\tactual, argno + 1, fndecl);\n \t    else if (size_i == 0 && type_i != VECTOR_TYPE_svbool_t)\n-\t      error_at (location, \"passing single vector %qT to argument %d\"\n-\t\t\t\" of %qE, which expects a tuple of %d vectors\",\n-\t\t\tactual, argno + 1, fndecl, num_vectors);\n+\t      /* num_vectors is always != 1, so the singular isn't needed.  */\n+\t      error_n (location, num_vectors, \"%qT%d%qE%d\",\n+\t\t       \"passing single vector %qT to argument %d\"\n+\t\t       \" of %qE, which expects a tuple of %d vectors\",\n+\t\t       actual, argno + 1, fndecl, num_vectors);\n \t    else\n-\t      error_at (location, \"passing %qT to argument %d of %qE, which\"\n-\t\t\t\" expects a tuple of %d vectors\", actual, argno + 1,\n-\t\t\tfndecl, num_vectors);\n+\t      /* num_vectors is always != 1, so the singular isn't needed.  */\n+\t      error_n (location, num_vectors, \"%qT%d%qE%d\",\n+\t\t       \"passing %qT to argument %d of %qE, which\"\n+\t\t       \" expects a tuple of %d vectors\", actual, argno + 1,\n+\t\t       fndecl, num_vectors);\n \t    return NUM_TYPE_SUFFIXES;\n \t  }\n       }"}]}