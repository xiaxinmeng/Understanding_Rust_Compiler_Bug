{"sha": "7c56a6cef7938d2f017efa78300a2bf63956fd2e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2M1NmE2Y2VmNzkzOGQyZjAxN2VmYTc4MzAwYTJiZjYzOTU2ZmQyZQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "1999-10-11T08:32:10Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1999-10-11T08:32:10Z"}, "message": "cplus-dem.c (do_type): Handle pointer to member types whose enclosing classes have namespace scope.\n\n\t* cplus-dem.c (do_type): Handle pointer to member types whose\n\tenclosing classes have namespace scope.\n\nFrom-SVN: r29901", "tree": {"sha": "7bd986ec1965f661fdc33be919399c3bfa49ea65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7bd986ec1965f661fdc33be919399c3bfa49ea65"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7c56a6cef7938d2f017efa78300a2bf63956fd2e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c56a6cef7938d2f017efa78300a2bf63956fd2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c56a6cef7938d2f017efa78300a2bf63956fd2e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c56a6cef7938d2f017efa78300a2bf63956fd2e/comments", "author": null, "committer": null, "parents": [{"sha": "ba33cb50d6c78b34d7f79ab3116ae24be8e5f330", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba33cb50d6c78b34d7f79ab3116ae24be8e5f330", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba33cb50d6c78b34d7f79ab3116ae24be8e5f330"}], "stats": {"total": 24, "additions": 23, "deletions": 1}, "files": [{"sha": "05dfb36b937e797476f492b28eb6f46aef2a3a90", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c56a6cef7938d2f017efa78300a2bf63956fd2e/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c56a6cef7938d2f017efa78300a2bf63956fd2e/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=7c56a6cef7938d2f017efa78300a2bf63956fd2e", "patch": "@@ -1,3 +1,8 @@\n+1999-10-11  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* cplus-dem.c (do_type): Handle pointer to member types whose\n+\tenclosing classes have namespace scope.\n+\n Sun Oct 10 01:23:50 1999  Marc Espie <espie@cvs.openbsd.org>\n \n \t* config.table:  Provide a backup shell for executing move-if-change."}, {"sha": "6a6bc1afa9aaf11cce9104820dc364551d648748", "filename": "libiberty/cplus-dem.c", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c56a6cef7938d2f017efa78300a2bf63956fd2e/libiberty%2Fcplus-dem.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c56a6cef7938d2f017efa78300a2bf63956fd2e/libiberty%2Fcplus-dem.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fcplus-dem.c?ref=7c56a6cef7938d2f017efa78300a2bf63956fd2e", "patch": "@@ -3072,7 +3072,12 @@ do_type (work, mangled, result)\n \t    (*mangled)++;\n \n \t    string_append (&decl, \")\");\n-\t    string_prepend (&decl, SCOPE_STRING (work));\n+\n+\t    /* We don't need to prepend `::' for a qualified name;\n+\t       demangle_qualified will do that for us.  */\n+\t    if (**mangled != 'Q')\n+\t      string_prepend (&decl, SCOPE_STRING (work));\n+\n \t    if (isdigit ((unsigned char)**mangled))\n \t      {\n \t\tn = consume_count (mangled);\n@@ -3105,6 +3110,14 @@ do_type (work, mangled, result)\n \t\telse\n \t\t  break;\n \t      }\n+\t    else if (**mangled == 'Q')\n+\t      {\n+\t\tsuccess = demangle_qualified (work, mangled, &decl,\n+\t\t\t\t\t      /*isfuncnam=*/0, \n+\t\t\t\t\t      /*append=*/0);\n+\t\tif (!success)\n+\t\t  break;\n+\t      }\n \t    else\n \t      {\n \t\tsuccess = 0;"}, {"sha": "0156d273a2957decd685559089494a2aa9c4ca9c", "filename": "libiberty/testsuite/demangle-expected", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c56a6cef7938d2f017efa78300a2bf63956fd2e/libiberty%2Ftestsuite%2Fdemangle-expected", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c56a6cef7938d2f017efa78300a2bf63956fd2e/libiberty%2Ftestsuite%2Fdemangle-expected", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Ftestsuite%2Fdemangle-expected?ref=7c56a6cef7938d2f017efa78300a2bf63956fd2e", "patch": "@@ -2470,3 +2470,7 @@ _Utf390_1__1_9223372036854775807__9223372036854775\n --format=gnu\n call__H1Z4Test_RX01_t1C2ZX01PMX01FPX01i_vQ2X016output\n C<Test, Test::output> call<Test>(Test &)\n+#\n+--format=gnu\n+fn__FPQ21n1cPMQ21n1cFPQ21n1c_i\n+fn(n::c *, int (n::c::*)(n::c *))"}]}