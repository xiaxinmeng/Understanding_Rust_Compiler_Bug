{"sha": "ff6c0ead2a3561670c7b2f035eeecd6e23a75b56", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmY2YzBlYWQyYTM1NjE2NzBjN2IyZjAzNWVlZWNkNmUyM2E3NWI1Ng==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2013-12-04T21:25:11Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2013-12-04T21:25:11Z"}, "message": "re PR ada/59382 (gnatmake is not able to compile libraries)\n\n\tPR ada/59382\ngnattools/\n\t* configure.ac (target parameterization): Rewrite.\n\t* configure: Regenerate.\ngcc/ada/\n\t* indepsw-darwin.adb: New file.\n\nFrom-SVN: r205681", "tree": {"sha": "49ab457ee191db5beb836b9d26f5836b735f2fa8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/49ab457ee191db5beb836b9d26f5836b735f2fa8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ff6c0ead2a3561670c7b2f035eeecd6e23a75b56", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff6c0ead2a3561670c7b2f035eeecd6e23a75b56", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff6c0ead2a3561670c7b2f035eeecd6e23a75b56", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff6c0ead2a3561670c7b2f035eeecd6e23a75b56/comments", "author": null, "committer": null, "parents": [{"sha": "edd280545f0391d97d194d914c4b99ff7cbb17b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edd280545f0391d97d194d914c4b99ff7cbb17b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/edd280545f0391d97d194d914c4b99ff7cbb17b7"}], "stats": {"total": 216, "additions": 132, "deletions": 84}, "files": [{"sha": "9e61ecb9019398e263b6f53369c8ca7f498d9c79", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff6c0ead2a3561670c7b2f035eeecd6e23a75b56/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff6c0ead2a3561670c7b2f035eeecd6e23a75b56/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=ff6c0ead2a3561670c7b2f035eeecd6e23a75b56", "patch": "@@ -1,3 +1,8 @@\n+2013-12-04  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR ada/59382\n+\t* indepsw-darwin.adb: New file.\n+\n 2013-12-04  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/decl.c (components_to_record): Add specific handling"}, {"sha": "e25e9049200e4b9b9406b30a81572bc4b587fa08", "filename": "gcc/ada/indepsw-darwin.adb", "status": "added", "additions": 67, "deletions": 0, "changes": 67, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff6c0ead2a3561670c7b2f035eeecd6e23a75b56/gcc%2Fada%2Findepsw-darwin.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff6c0ead2a3561670c7b2f035eeecd6e23a75b56/gcc%2Fada%2Findepsw-darwin.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Findepsw-darwin.adb?ref=ff6c0ead2a3561670c7b2f035eeecd6e23a75b56", "patch": "@@ -0,0 +1,67 @@\n+------------------------------------------------------------------------------\n+--                                                                          --\n+--                         GNAT COMPILER COMPONENTS                         --\n+--                                                                          --\n+--                              I N D E P S W                               --\n+--                                                                          --\n+--                                 B o d y                                  --\n+--                            (Darwin version)                              --\n+--                                                                          --\n+--            Copyright (C) 2013, Free Software Foundation, Inc.            --\n+--                                                                          --\n+-- GNAT is free software;  you can  redistribute it  and/or modify it under --\n+-- terms of the  GNU General Public License as published  by the Free Soft- --\n+-- ware  Foundation;  either version 3,  or (at your option) any later ver- --\n+-- sion.  GNAT is distributed in the hope that it will be useful, but WITH- --\n+-- OUT ANY WARRANTY;  without even the  implied warranty of MERCHANTABILITY --\n+-- or FITNESS FOR A PARTICULAR PURPOSE.                                     --\n+--                                                                          --\n+-- As a special exception under Section 7 of GPL version 3, you are granted --\n+-- additional permissions described in the GCC Runtime Library Exception,   --\n+-- version 3.1, as published by the Free Software Foundation.               --\n+--                                                                          --\n+-- You should have received a copy of the GNU General Public License and    --\n+-- a copy of the GCC Runtime Library Exception along with this program;     --\n+-- see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see    --\n+-- <http://www.gnu.org/licenses/>.                                          --\n+--                                                                          --\n+-- GNAT was originally developed  by the GNAT team at  New York University. --\n+-- Extensive contributions were provided by Ada Core Technologies Inc.      --\n+--                                                                          --\n+------------------------------------------------------------------------------\n+\n+--  This is the Darwin version\n+\n+package body Indepsw is\n+\n+   Map_Switch : aliased constant String := \"-Wl,-map,\";\n+\n+   -------------\n+   -- Convert --\n+   -------------\n+\n+   procedure Convert\n+     (Switch   : Switch_Kind;\n+      Argument : String;\n+      To       : out String_List_Access)\n+   is\n+   begin\n+      case Switch is\n+         when Map_File =>\n+            To := new Argument_List'(1 => new String'(Map_Switch & Argument));\n+      end case;\n+   end Convert;\n+\n+   ------------------\n+   -- Is_Supported --\n+   ------------------\n+\n+   function Is_Supported (Switch : Switch_Kind) return Boolean is\n+   begin\n+      case Switch is\n+         when Map_File =>\n+            return True;\n+      end case;\n+   end Is_Supported;\n+\n+end Indepsw;"}, {"sha": "98f528a4cd5e684c264d912c5789cde1ac67666b", "filename": "gnattools/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff6c0ead2a3561670c7b2f035eeecd6e23a75b56/gnattools%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff6c0ead2a3561670c7b2f035eeecd6e23a75b56/gnattools%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gnattools%2FChangeLog?ref=ff6c0ead2a3561670c7b2f035eeecd6e23a75b56", "patch": "@@ -1,3 +1,9 @@\n+2013-12-04  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR ada/59382\n+\t* configure.ac (target parameterization): Rewrite.\n+\t* configure: Regenerate.\n+\n 2013-09-01  Eric Botcazou  <ebotcazou@adacore.com>\n \t    Iain Sandoe  <iain@codesourcery.com>\n "}, {"sha": "883b705f6cc07cb716c560483cb2cf5ac2254fc5", "filename": "gnattools/configure", "status": "modified", "additions": 27, "deletions": 42, "changes": 69, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff6c0ead2a3561670c7b2f035eeecd6e23a75b56/gnattools%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff6c0ead2a3561670c7b2f035eeecd6e23a75b56/gnattools%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gnattools%2Fconfigure?ref=ff6c0ead2a3561670c7b2f035eeecd6e23a75b56", "patch": "@@ -2029,66 +2029,59 @@ EXTRA_GNATTOOLS=\n # Per-target case statement\n # -------------------------\n case \"${target}\" in\n-  alpha*-dec-vx*) # Unlike all other Vxworks\n-    ;;\n-  m68k*-wrs-vx* \\\n-  | powerpc*-wrs-vxworks \\\n-  | sparc*-wrs-vx* \\\n-  | *86-wrs-vxworks \\\n-  | mips*-wrs-vx*)\n-    TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-vxworks.adb\"\n+  *-*-aix*)\n+    TOOLS_TARGET_PAIRS=\"\\\n+    mlib-tgt-specific.adb<mlib-tgt-specific-aix.adb \\\n+    indepsw.adb<indepsw-aix.adb\"\n     ;;\n-  sparc-sun-solaris*)\n-    TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-solaris.adb\"\n+  *-*-darwin*)\n+    TOOLS_TARGET_PAIRS=\"\\\n+    mlib-tgt-specific.adb<mlib-tgt-specific-darwin.adb \\\n+    indepsw.adb<indepsw-darwin.adb\"\n     ;;\n-  *86-*-solaris2* | x86_64-*-solaris2.1[0-9]*)\n-    TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-solaris.adb\"\n+  *-*-freebsd*)\n+    TOOLS_TARGET_PAIRS=\"\\\n+    mlib-tgt-specific.adb<mlib-tgt-specific-linux.adb \\\n+    indepsw.adb<indepsw-gnu.adb\"\n     ;;\n-  *86-*-linux* \\\n-  | powerpc*-*-linux* \\\n-  | *ia64-*-linux* \\\n-  | alpha*-*-linux* \\\n-  | sparc*-*-linux* \\\n-  | hppa*-*-linux* \\\n-  | *x86_64-*-linux*)\n+  *-*-linux*)\n     TOOLS_TARGET_PAIRS=\"\\\n     mlib-tgt-specific.adb<mlib-tgt-specific-linux.adb \\\n     indepsw.adb<indepsw-gnu.adb\"\n     ;;\n-  s390*-*-linux*)\n-    TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-linux.adb\"\n+  *-*-lynxos*)\n+    TOOLS_TARGET_PAIRS=\"\\\n+    mlib-tgt-specific.adb<mlib-tgt-specific-lynxos.adb \\\n+    indepsw.adb<indepsw-gnu.adb\"\n+    ;;\n+  *-*-solaris*)\n+    TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-solaris.adb\"\n     ;;\n-  *86-*-freebsd*)\n+  *-*-vxworks*)\n     TOOLS_TARGET_PAIRS=\"\\\n-    mlib-tgt-specific.adb<mlib-tgt-specific-linux.adb \\\n+    mlib-tgt-specific.adb<mlib-tgt-specific-vxworks.adb \\\n     indepsw.adb<indepsw-gnu.adb\"\n     ;;\n-  hppa*-hp-hpux10*) # Unlike hpux11\n+  hppa*-hp-hpux10*)\n     ;;\n   hppa*-hp-hpux11*)\n     TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-hpux.adb\"\n     ;;\n-  *-ibm-aix*)\n-    TOOLS_TARGET_PAIRS=\"\\\n-    mlib-tgt-specific.adb<mlib-tgt-specific-aix.adb \\\n-    indepsw.adb<indepsw-aix.adb\"\n+  ia64-hp-hpux11*)\n+    TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-ia64-hpux.adb\"\n     ;;\n-  alpha*-dec-vms* | alpha*-dec-openvms* | alpha*-dec-vms* \\\n-  | alpha*-hp-vms* | alpha*-hp-openvms* | alpha*-hp-vms*)\n+  alpha*-*-vms* | alpha*-*-openvms*)\n     TOOLS_TARGET_PAIRS=\"\\\n     mlib-tgt-specific.adb<mlib-tgt-specific-vms-alpha.adb \\\n     symbols.adb<symbols-vms.adb \\\n     symbols-processing.adb<symbols-processing-vms-alpha.adb\"\n-\n     EXTRA_GNATTOOLS='../../gnatlbr$(exeext) ../../gnatsym$(exeext)'\n     ;;\n-  ia64*-dec-vms* | ia64*-dec-openvms* | ia64*-dec-vms* \\\n-  | ia64*-hp-vms* | ia64*-hp-openvms* | ia64*-hp-vms*)\n+  ia64-*-vms* | ia64-*-openvms*)\n     TOOLS_TARGET_PAIRS=\"\\\n     mlib-tgt-specific.adb<mlib-tgt-specific-vms-ia64.adb \\\n     symbols.adb<symbols-vms.adb \\\n     symbols-processing.adb<symbols-processing-vms-ia64.adb\"\n-\n     EXTRA_GNATTOOLS='../../gnatlbr$(exeext) ../../gnatsym$(exeext)'\n     ;;\n   *-*-cygwin32* | *-*-mingw32* | *-*-pe)\n@@ -2097,14 +2090,6 @@ case \"${target}\" in\n     indepsw.adb<indepsw-mingw.adb\"\n     EXTRA_GNATTOOLS='../../gnatdll$(exeext)'\n     ;;\n-  *-*-darwin*)\n-    TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-darwin.adb\"\n-    ;;\n-  *-*-lynxos)\n-    TOOLS_TARGET_PAIRS=\"\\\n-    mlib-tgt-specific.adb<mlib-tgt-specific-lynxos.adb \\\n-    indepsw.adb<indepsw-gnu.adb\"\n-    ;;\n esac\n \n # From user or toplevel makefile."}, {"sha": "5edaadfcf5896726c9e935f7c5a91f6d47186741", "filename": "gnattools/configure.ac", "status": "modified", "additions": 27, "deletions": 42, "changes": 69, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff6c0ead2a3561670c7b2f035eeecd6e23a75b56/gnattools%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff6c0ead2a3561670c7b2f035eeecd6e23a75b56/gnattools%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gnattools%2Fconfigure.ac?ref=ff6c0ead2a3561670c7b2f035eeecd6e23a75b56", "patch": "@@ -69,66 +69,59 @@ AC_SUBST(EXTRA_GNATTOOLS)\n # Per-target case statement\n # -------------------------\n case \"${target}\" in\n-  alpha*-dec-vx*) # Unlike all other Vxworks\n-    ;;\n-  m68k*-wrs-vx* \\\n-  | powerpc*-wrs-vxworks \\\n-  | sparc*-wrs-vx* \\\n-  | *86-wrs-vxworks \\\n-  | mips*-wrs-vx*)\n-    TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-vxworks.adb\"\n+  *-*-aix*)\n+    TOOLS_TARGET_PAIRS=\"\\\n+    mlib-tgt-specific.adb<mlib-tgt-specific-aix.adb \\\n+    indepsw.adb<indepsw-aix.adb\"\n     ;;\n-  sparc-sun-solaris*)\n-    TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-solaris.adb\"\n+  *-*-darwin*)\n+    TOOLS_TARGET_PAIRS=\"\\\n+    mlib-tgt-specific.adb<mlib-tgt-specific-darwin.adb \\\n+    indepsw.adb<indepsw-darwin.adb\"\n     ;;\n-  *86-*-solaris2* | x86_64-*-solaris2.1[[0-9]]*)\n-    TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-solaris.adb\"\n+  *-*-freebsd*)\n+    TOOLS_TARGET_PAIRS=\"\\\n+    mlib-tgt-specific.adb<mlib-tgt-specific-linux.adb \\\n+    indepsw.adb<indepsw-gnu.adb\"\n     ;;\n-  *86-*-linux* \\\n-  | powerpc*-*-linux* \\\n-  | *ia64-*-linux* \\\n-  | alpha*-*-linux* \\\n-  | sparc*-*-linux* \\\n-  | hppa*-*-linux* \\\n-  | *x86_64-*-linux*)\n+  *-*-linux*)\n     TOOLS_TARGET_PAIRS=\"\\\n     mlib-tgt-specific.adb<mlib-tgt-specific-linux.adb \\\n     indepsw.adb<indepsw-gnu.adb\"\n     ;;\n-  s390*-*-linux*)\n-    TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-linux.adb\"\n+  *-*-lynxos*)\n+    TOOLS_TARGET_PAIRS=\"\\\n+    mlib-tgt-specific.adb<mlib-tgt-specific-lynxos.adb \\\n+    indepsw.adb<indepsw-gnu.adb\"\n+    ;;\n+  *-*-solaris*)\n+    TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-solaris.adb\"\n     ;;\n-  *86-*-freebsd*)\n+  *-*-vxworks*)\n     TOOLS_TARGET_PAIRS=\"\\\n-    mlib-tgt-specific.adb<mlib-tgt-specific-linux.adb \\\n+    mlib-tgt-specific.adb<mlib-tgt-specific-vxworks.adb \\\n     indepsw.adb<indepsw-gnu.adb\"\n     ;;\n-  hppa*-hp-hpux10*) # Unlike hpux11\n+  hppa*-hp-hpux10*)\n     ;;\n   hppa*-hp-hpux11*)\n     TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-hpux.adb\"\n     ;;\n-  *-ibm-aix*)\n-    TOOLS_TARGET_PAIRS=\"\\\n-    mlib-tgt-specific.adb<mlib-tgt-specific-aix.adb \\\n-    indepsw.adb<indepsw-aix.adb\"\n+  ia64-hp-hpux11*)\n+    TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-ia64-hpux.adb\"\n     ;;\n-  alpha*-dec-vms* | alpha*-dec-openvms* | alpha*-dec-vms* \\\n-  | alpha*-hp-vms* | alpha*-hp-openvms* | alpha*-hp-vms*)\n+  alpha*-*-vms* | alpha*-*-openvms*)\n     TOOLS_TARGET_PAIRS=\"\\\n     mlib-tgt-specific.adb<mlib-tgt-specific-vms-alpha.adb \\\n     symbols.adb<symbols-vms.adb \\\n     symbols-processing.adb<symbols-processing-vms-alpha.adb\"\n-\n     EXTRA_GNATTOOLS='../../gnatlbr$(exeext) ../../gnatsym$(exeext)'\n     ;;\n-  ia64*-dec-vms* | ia64*-dec-openvms* | ia64*-dec-vms* \\\n-  | ia64*-hp-vms* | ia64*-hp-openvms* | ia64*-hp-vms*)\n+  ia64-*-vms* | ia64-*-openvms*)\n     TOOLS_TARGET_PAIRS=\"\\\n     mlib-tgt-specific.adb<mlib-tgt-specific-vms-ia64.adb \\\n     symbols.adb<symbols-vms.adb \\\n     symbols-processing.adb<symbols-processing-vms-ia64.adb\"\n-\n     EXTRA_GNATTOOLS='../../gnatlbr$(exeext) ../../gnatsym$(exeext)'\n     ;;\n   *-*-cygwin32* | *-*-mingw32* | *-*-pe)\n@@ -137,14 +130,6 @@ case \"${target}\" in\n     indepsw.adb<indepsw-mingw.adb\"\n     EXTRA_GNATTOOLS='../../gnatdll$(exeext)'\n     ;;\n-  *-*-darwin*)\n-    TOOLS_TARGET_PAIRS=\"mlib-tgt-specific.adb<mlib-tgt-specific-darwin.adb\"\n-    ;;\n-  *-*-lynxos)\n-    TOOLS_TARGET_PAIRS=\"\\\n-    mlib-tgt-specific.adb<mlib-tgt-specific-lynxos.adb \\\n-    indepsw.adb<indepsw-gnu.adb\"\n-    ;;\n esac\n \n # From user or toplevel makefile."}]}