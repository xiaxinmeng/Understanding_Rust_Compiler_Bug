{"sha": "3d7428b8f616cb0cd457fd7cf32e1488ff6cd2de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2Q3NDI4YjhmNjE2Y2IwY2Q0NTdmZDdjZjMyZTE0ODhmZjZjZDJkZQ==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2000-08-24T22:18:53Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2000-08-24T22:18:53Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r35960", "tree": {"sha": "fe6b0cdf3051a34daedec0a598101da8fc79bd04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fe6b0cdf3051a34daedec0a598101da8fc79bd04"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3d7428b8f616cb0cd457fd7cf32e1488ff6cd2de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d7428b8f616cb0cd457fd7cf32e1488ff6cd2de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d7428b8f616cb0cd457fd7cf32e1488ff6cd2de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d7428b8f616cb0cd457fd7cf32e1488ff6cd2de/comments", "author": null, "committer": null, "parents": [{"sha": "cc914f8cbf08651475d06920039616636173b75c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc914f8cbf08651475d06920039616636173b75c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc914f8cbf08651475d06920039616636173b75c"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "6bd4af4380ac087375ee519f3b0aca0bb6f7eab4", "filename": "gcc/cppfiles.c", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d7428b8f616cb0cd457fd7cf32e1488ff6cd2de/gcc%2Fcppfiles.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d7428b8f616cb0cd457fd7cf32e1488ff6cd2de/gcc%2Fcppfiles.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcppfiles.c?ref=3d7428b8f616cb0cd457fd7cf32e1488ff6cd2de", "patch": "@@ -616,7 +616,10 @@ read_include_file (pfile, inc)\n   if (fd < 0 || fstat (fd, &st) < 0)\n     goto perror_fail;\n   \n+  /* These must be set right away.  */\n   inc->date = st.st_mtime;\n+  fp->inc = inc;\n+  fp->nominal_fname = inc->name;\n \n   /* If fd points to a plain file, we might be able to mmap it; we can\n      definitely allocate the buffer all at once.  If fd is a pipe or\n@@ -673,11 +676,6 @@ read_include_file (pfile, inc)\n \tgoto perror_fail;\n     }\n \n-  /* These must be set before prescan.  */\n-  fp->inc = inc;\n-  fp->nominal_fname = inc->name;\n-  pfile->include_depth++;\n-  \n   if (length == 0)\n     inc->cmacro = NEVER_REREAD;\n \n@@ -691,6 +689,7 @@ read_include_file (pfile, inc)\n   if (!CPP_OPTION (pfile, ignore_srcdir))\n     fp->actual_dir = actual_directory (pfile, inc->name);\n \n+  pfile->include_depth++;\n   pfile->input_stack_listing_current = 0;\n   if (pfile->cb.enter_file)\n     (*pfile->cb.enter_file) (pfile);"}]}