{"sha": "88e451e1e79973615371b41632a39f7e90444c3f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODhlNDUxZTFlNzk5NzM2MTUzNzFiNDE2MzJhMzlmN2U5MDQ0NGMzZg==", "commit": {"author": {"name": "Volker Reichelt", "email": "reichelt@gcc.gnu.org", "date": "2003-10-13T23:06:37Z"}, "committer": {"name": "Volker Reichelt", "email": "reichelt@gcc.gnu.org", "date": "2003-10-13T23:06:37Z"}, "message": "re PR c++/12370 (wrong code when adding friend)\n\n\tPR c++/12370\n\t* g++.dg/other/friend2.C: New test.\n\t* ChangeLog: Add PR number to patch for PR c++/12370.\n\nFrom-SVN: r72446", "tree": {"sha": "3ea02beaa68b37f0598f83f273d27cb309a563ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3ea02beaa68b37f0598f83f273d27cb309a563ca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/88e451e1e79973615371b41632a39f7e90444c3f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88e451e1e79973615371b41632a39f7e90444c3f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88e451e1e79973615371b41632a39f7e90444c3f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88e451e1e79973615371b41632a39f7e90444c3f/comments", "author": null, "committer": null, "parents": [{"sha": "b71d486c40e76cacb631d697f7fa50e2186a4e63", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b71d486c40e76cacb631d697f7fa50e2186a4e63", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b71d486c40e76cacb631d697f7fa50e2186a4e63"}], "stats": {"total": 33, "additions": 33, "deletions": 0}, "files": [{"sha": "240f451bd09ce372265933c4cf39aefc53414d78", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88e451e1e79973615371b41632a39f7e90444c3f/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88e451e1e79973615371b41632a39f7e90444c3f/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=88e451e1e79973615371b41632a39f7e90444c3f", "patch": "@@ -1,3 +1,7 @@\n+2003-10-13  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\t* ChangeLog: Add PR number to patch for PR c++/12370.\n+\n 2003-10-13  Gabriel Dos Reis  <gdr@integrable-solutions.net>\n \n \tBreak out decl.c (2/n) \n@@ -171,6 +175,7 @@\n \n 2003-09-30  Richard Henderson  <rth@redhat.com>\n \n+\tPR c++/12370\n \t* decl.c (duplicate_decls): Copy DECL_SAVED_INSNS too.\n \n 2003-09-30  Kelley Cook  <kelleycoook@wideopenwest.com>"}, {"sha": "77e51a5564ae1f3a0b8bea838dc472027ad493f7", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88e451e1e79973615371b41632a39f7e90444c3f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88e451e1e79973615371b41632a39f7e90444c3f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=88e451e1e79973615371b41632a39f7e90444c3f", "patch": "@@ -1,3 +1,8 @@\n+2003-10-13  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\tPR c++/12370\n+\t* g++.dg/other/friend2.C: New test.\n+\n 2003-10-12  Steven Bosscher  <steven@gcc.gnu.org>\n \n \t* gcc.dg/20031012-1.c: New test."}, {"sha": "ce5d2b741f5e683b44b7bbeee5756c0011529707", "filename": "gcc/testsuite/g++.dg/other/friend2.C", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88e451e1e79973615371b41632a39f7e90444c3f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ffriend2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88e451e1e79973615371b41632a39f7e90444c3f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ffriend2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ffriend2.C?ref=88e451e1e79973615371b41632a39f7e90444c3f", "patch": "@@ -0,0 +1,23 @@\n+// { dg-do run }\n+// Origin: Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+// PR c++/12370\n+// Wrong code because of the friend declaration\n+\n+template <typename T> struct A\n+{\n+    T x;\n+    A(T t) : x(t) {}\n+    friend A<int> foo (const A<unsigned>&);\n+};\n+\n+A<int> foo (const A<unsigned>& a)\n+{\n+    A<int> res(a.x);\n+    return res;\n+}\n+\n+int main()\n+{\n+    return foo(A<unsigned>(0)).x;\n+}"}]}