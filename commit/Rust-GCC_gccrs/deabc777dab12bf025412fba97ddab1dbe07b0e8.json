{"sha": "deabc777dab12bf025412fba97ddab1dbe07b0e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGVhYmM3NzdkYWIxMmJmMDI1NDEyZmJhOTdkZGFiMWRiZTA3YjBlOA==", "commit": {"author": {"name": "Paul Eggert", "email": "eggert@twinsun.com", "date": "1998-02-22T19:09:18Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-02-22T19:09:18Z"}, "message": "sol2-sld.h (LINKER_DOES_NOT_WORK_WITH_DWARF2): Define this new symbol.\n\nd\n\t* config/sparc/sol2-sld.h (LINKER_DOES_NOT_WORK_WITH_DWARF2):\n\tDefine this new symbol.\n\t(DWARF2_DEBUGGING_INFO, DWARF_DEBUGGING_INFO): Do not #undef.\n\t* toplev.c (main): Do not default to DWARF2_DEBUG with -ggdb if\n\tLINKER_DOES_NOT_WORK_WITH_DWARF2 is defined.\n\nFrom-SVN: r18179", "tree": {"sha": "a21e7c779cf329647bf5fbe8f3857ed217c66b5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a21e7c779cf329647bf5fbe8f3857ed217c66b5a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/deabc777dab12bf025412fba97ddab1dbe07b0e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/deabc777dab12bf025412fba97ddab1dbe07b0e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/deabc777dab12bf025412fba97ddab1dbe07b0e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/deabc777dab12bf025412fba97ddab1dbe07b0e8/comments", "author": null, "committer": null, "parents": [{"sha": "0e84e8fbcac77656efa9748795aba4ded95dabea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e84e8fbcac77656efa9748795aba4ded95dabea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e84e8fbcac77656efa9748795aba4ded95dabea"}], "stats": {"total": 25, "additions": 24, "deletions": 1}, "files": [{"sha": "684174394d2ec1dd677d3be9c66f753f991ba257", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deabc777dab12bf025412fba97ddab1dbe07b0e8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deabc777dab12bf025412fba97ddab1dbe07b0e8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=deabc777dab12bf025412fba97ddab1dbe07b0e8", "patch": "@@ -1,3 +1,11 @@\n+1998-02-22  Paul Eggert  <eggert@twinsun.com>\n+\n+\t* config/sparc/sol2-sld.h (LINKER_DOES_NOT_WORK_WITH_DWARF2):\n+\tDefine this new symbol.\n+\t(DWARF2_DEBUGGING_INFO, DWARF_DEBUGGING_INFO): Do not #undef.\n+\t* toplev.c (main): Do not default to DWARF2_DEBUG with -ggdb if\n+\tLINKER_DOES_NOT_WORK_WITH_DWARF2 is defined.\n+\n Sun Feb 22 20:07:32 1998  Jim Wilson  <wilson@cygnus.com>\n \n \t* iris5.h (DWARF2_UNWIND_INFO): Define to 0."}, {"sha": "aad6506d304f39437246438e4f2db4d0eff8b216", "filename": "gcc/tm.texi", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deabc777dab12bf025412fba97ddab1dbe07b0e8/gcc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deabc777dab12bf025412fba97ddab1dbe07b0e8/gcc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftm.texi?ref=deabc777dab12bf025412fba97ddab1dbe07b0e8", "patch": "@@ -6261,6 +6261,14 @@ output.  Currently, the allowable values are @code{DBX_DEBUG},\n @code{SDB_DEBUG}, @code{DWARF_DEBUG}, @code{DWARF2_DEBUG}, and\n @code{XCOFF_DEBUG}.\n \n+If the user specifies @samp{-ggdb}, then there are two special cases\n+where this macro's value is ignored and another value is substituted.\n+If @code{DWARF2_DEBUGGING_INFO} is defined and\n+@code{LINKER_DOES_NOT_WORK_WITH_DWARF2} is not defined, then\n+@code{DWARF2_DEBUG} is substituted.  Otherwise, if\n+@code{DBX_DEBUGGING_INFO} is defined, then @code{DBX_DEBUG} is\n+substituted.\n+\n The value of this macro only affects the default debugging output; the\n user can always get a specific type of output by using @samp{-gstabs},\n @samp{-gcoff}, @samp{-gdwarf-1}, @samp{-gdwarf-2}, or @samp{-gxcoff}.\n@@ -6590,6 +6598,13 @@ define @code{INCOMING_RETURN_ADDR_RTX} and either set\n prologue, or call @code{dwarf2out_def_cfa} and @code{dwarf2out_reg_save}\n as appropriate from @code{FUNCTION_PROLOGUE} if you don't.\n \n+@findex LINKER_DOES_NOT_WORK_WITH_DWARF2\n+@item LINKER_DOES_NOT_WORK_WITH_DWARF2\n+Define this macro if the linker does not work with dwarf version 2.\n+Normally, if the user specifies only @samp{-ggdb}, then GNU CC will use\n+dwarf version 2 if available; this macro causes GNU CC to use the format\n+specified by @code{PREFERRED_DEBUGGING_TYPE} instead.\n+\n @findex PUT_SDB_@dots{}\n @item PUT_SDB_@dots{}\n Define these macros to override the assembler syntax for the special"}, {"sha": "ba3bf518d71d085df3bfc609ce22f9d629f8d995", "filename": "gcc/toplev.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deabc777dab12bf025412fba97ddab1dbe07b0e8/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deabc777dab12bf025412fba97ddab1dbe07b0e8/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=deabc777dab12bf025412fba97ddab1dbe07b0e8", "patch": "@@ -4199,7 +4199,7 @@ main (argc, argv, envp)\n \t\t\t  type = PREFERRED_DEBUGGING_TYPE;\n \t\t\t  if (len > 1 && strncmp (str, \"ggdb\", len) == 0)\n \t\t\t    {\n-#ifdef DWARF2_DEBUGGING_INFO\n+#if defined (DWARF2_DEBUGGING_INFO) && !defined (LINKER_DOES_NOT_WORK_WITH_DWARF2)\n \t\t\t      type = DWARF2_DEBUG;\n #else\n #ifdef DBX_DEBUGGING_INFO"}]}