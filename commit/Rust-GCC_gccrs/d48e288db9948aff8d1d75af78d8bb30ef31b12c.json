{"sha": "d48e288db9948aff8d1d75af78d8bb30ef31b12c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDQ4ZTI4OGRiOTk0OGFmZjhkMWQ3NWFmNzhkOGJiMzBlZjMxYjEyYw==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2009-11-25T04:52:38Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2009-11-25T04:52:38Z"}, "message": "graphite-clast-to-gimple.c (build_cloog_prog): Use pbb_index.\n\n2009-10-05  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* graphite-clast-to-gimple.c (build_cloog_prog): Use pbb_index.\n\t* graphite-interchange.c (pbb_do_interchange): Same.\n\t* graphite-poly.c (print_scattering_function): Same.\n\t(debug_pdrs): Same.\n\t* graphite-poly.h (pbb_loop): New.\n\t* graphite-sese-to-poly.c (create_linear_expr_from_tree): Use pbb_loop.\n\nFrom-SVN: r154557", "tree": {"sha": "bbf83ed67944b9d6b349a08a6e0a69692b34e2e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bbf83ed67944b9d6b349a08a6e0a69692b34e2e3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d48e288db9948aff8d1d75af78d8bb30ef31b12c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d48e288db9948aff8d1d75af78d8bb30ef31b12c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d48e288db9948aff8d1d75af78d8bb30ef31b12c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d48e288db9948aff8d1d75af78d8bb30ef31b12c/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d17286f64907bf027dffc9a1b83ad1fdbb166676", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d17286f64907bf027dffc9a1b83ad1fdbb166676", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d17286f64907bf027dffc9a1b83ad1fdbb166676"}], "stats": {"total": 27, "additions": 22, "deletions": 5}, "files": [{"sha": "0122034d9bd90f116b5fd6341456656ff0d020ee", "filename": "gcc/ChangeLog.graphite", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d48e288db9948aff8d1d75af78d8bb30ef31b12c/gcc%2FChangeLog.graphite", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d48e288db9948aff8d1d75af78d8bb30ef31b12c/gcc%2FChangeLog.graphite", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog.graphite?ref=d48e288db9948aff8d1d75af78d8bb30ef31b12c", "patch": "@@ -1,3 +1,12 @@\n+2009-10-05  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-clast-to-gimple.c (build_cloog_prog): Use pbb_index.\n+\t* graphite-interchange.c (pbb_do_interchange): Same.\n+\t* graphite-poly.c (print_scattering_function): Same.\n+\t(debug_pdrs): Same.\n+\t* graphite-poly.h (pbb_loop): New.\n+\t* graphite-sese-to-poly.c (create_linear_expr_from_tree): Use pbb_loop.\n+\n 2009-09-27  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* graphite-scop-detection.c (limit_scops): Do not build poly_bbs."}, {"sha": "795bb6a678b4704bf81b498736ecae8664d7677a", "filename": "gcc/graphite-clast-to-gimple.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d48e288db9948aff8d1d75af78d8bb30ef31b12c/gcc%2Fgraphite-clast-to-gimple.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d48e288db9948aff8d1d75af78d8bb30ef31b12c/gcc%2Fgraphite-clast-to-gimple.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-clast-to-gimple.c?ref=d48e288db9948aff8d1d75af78d8bb30ef31b12c", "patch": "@@ -921,7 +921,7 @@ build_cloog_prog (scop_p scop, CloogProgram *prog)\n \tcontinue;\n \n       /* Build the new statement and its block.  */\n-      stmt = cloog_statement_alloc (GBB_BB (PBB_BLACK_BOX (pbb))->index);\n+      stmt = cloog_statement_alloc (pbb_index (pbb));\n       block = cloog_block_alloc (stmt, 0, NULL, pbb_dim_iter_domain (pbb));\n       cloog_statement_set_usr (stmt, pbb);\n "}, {"sha": "de05fcd2d2faece98502a17bd462077df7cbcf39", "filename": "gcc/graphite-interchange.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d48e288db9948aff8d1d75af78d8bb30ef31b12c/gcc%2Fgraphite-interchange.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d48e288db9948aff8d1d75af78d8bb30ef31b12c/gcc%2Fgraphite-interchange.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-interchange.c?ref=d48e288db9948aff8d1d75af78d8bb30ef31b12c", "patch": "@@ -326,7 +326,7 @@ pbb_do_interchange (poly_bb_p pbb, scop_p scop)\n \t      if (dump_file && (dump_flags & TDF_DETAILS))\n \t\tfprintf (dump_file,\n \t\t\t \"PBB %d: loops at depths %d and %d will be interchanged.\\n\",\n-\t\t\t GBB_BB (PBB_BLACK_BOX (pbb))->index, (int) i, (int) j);\n+\t\t\t pbb_index (pbb), (int) i, (int) j);\n \t    }\n \t  else\n \t    /* Undo the transform.  */"}, {"sha": "142d3eda004532c76f57441e7b1cddc815bceb76", "filename": "gcc/graphite-poly.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d48e288db9948aff8d1d75af78d8bb30ef31b12c/gcc%2Fgraphite-poly.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d48e288db9948aff8d1d75af78d8bb30ef31b12c/gcc%2Fgraphite-poly.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-poly.c?ref=d48e288db9948aff8d1d75af78d8bb30ef31b12c", "patch": "@@ -145,7 +145,7 @@ print_scattering_function (FILE *file, poly_bb_p pbb)\n   if (!PBB_TRANSFORMED (pbb))\n     return;\n \n-  fprintf (file, \"scattering bb_%d (\\n\", GBB_BB (PBB_BLACK_BOX (pbb))->index);\n+  fprintf (file, \"scattering bb_%d (\\n\", pbb_index (pbb));\n   fprintf (file, \"#  eq\");\n \n   for (i = 0; i < pbb_nb_scattering_transform (pbb); i++)\n@@ -579,7 +579,7 @@ debug_pdrs (poly_bb_p pbb)\n void\n print_pbb (FILE *file, poly_bb_p pbb)\n {\n-  fprintf (file, \"pbb_%d (\\n\", GBB_BB (PBB_BLACK_BOX (pbb))->index);\n+  fprintf (file, \"pbb_%d (\\n\", pbb_index (pbb));\n   dump_gbb_conditions (file, PBB_BLACK_BOX (pbb));\n   dump_gbb_cases (file, PBB_BLACK_BOX (pbb));\n   print_pdrs (file, pbb);"}, {"sha": "955f12f41b7fa8994352161cb43aaf6809187616", "filename": "gcc/graphite-poly.h", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d48e288db9948aff8d1d75af78d8bb30ef31b12c/gcc%2Fgraphite-poly.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d48e288db9948aff8d1d75af78d8bb30ef31b12c/gcc%2Fgraphite-poly.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-poly.h?ref=d48e288db9948aff8d1d75af78d8bb30ef31b12c", "patch": "@@ -355,6 +355,14 @@ pbb_index (poly_bb_p pbb)\n   return GBB_BB (PBB_BLACK_BOX (pbb))->index;\n }\n \n+/* The loop of the PBB.  */\n+\n+static inline loop_p\n+pbb_loop (poly_bb_p pbb)\n+{\n+  return gbb_loop (PBB_BLACK_BOX (pbb));\n+}\n+\n /* The scop that contains the PDR.  */\n \n static inline scop_p"}, {"sha": "057a0bdcfa4f761ced900572401bb8b87fdcaf77", "filename": "gcc/graphite-sese-to-poly.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d48e288db9948aff8d1d75af78d8bb30ef31b12c/gcc%2Fgraphite-sese-to-poly.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d48e288db9948aff8d1d75af78d8bb30ef31b12c/gcc%2Fgraphite-sese-to-poly.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-sese-to-poly.c?ref=d48e288db9948aff8d1d75af78d8bb30ef31b12c", "patch": "@@ -1158,7 +1158,7 @@ create_linear_expr_from_tree (poly_bb_p pbb, tree t)\n   ppl_Linear_Expression_t res;\n   ppl_dimension_type dim;\n   sese region = SCOP_REGION (PBB_SCOP (pbb));\n-  loop_p loop = GBB_BB (PBB_BLACK_BOX (pbb))->loop_father;\n+  loop_p loop = pbb_loop (pbb);\n \n   dim = pbb_dim_iter_domain (pbb) + pbb_nb_params (pbb);\n   ppl_new_Linear_Expression_with_dimension (&res, dim);"}]}