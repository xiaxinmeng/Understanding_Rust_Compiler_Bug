{"sha": "b8f59c4b30ac1761e6f4b63666ca7f5d68649ed5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjhmNTljNGIzMGFjMTc2MWU2ZjRiNjM2NjZjYTdmNWQ2ODY0OWVkNQ==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2020-01-13T16:14:32Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2020-01-13T16:14:32Z"}, "message": "contrib: script to setup git to pull a vendors branches\n\nThis simple script is intended to setup a new git configuration to\npull the branches and tags for a specific vendor.  This should\nsimplify some of the steps needed for working with a vendor's\nbranches.\n\n\t* git-fetch-vendor.sh: New file.", "tree": {"sha": "ad27d14c2478ebe64aedf250d554c8bcf6cfd6d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad27d14c2478ebe64aedf250d554c8bcf6cfd6d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b8f59c4b30ac1761e6f4b63666ca7f5d68649ed5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8f59c4b30ac1761e6f4b63666ca7f5d68649ed5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8f59c4b30ac1761e6f4b63666ca7f5d68649ed5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8f59c4b30ac1761e6f4b63666ca7f5d68649ed5/comments", "author": null, "committer": null, "parents": [{"sha": "e19db6a2f7aa20b708ffa112767efbd378c94416", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e19db6a2f7aa20b708ffa112767efbd378c94416", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e19db6a2f7aa20b708ffa112767efbd378c94416"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "0a525843a3257493435a1ff1a0bebd2bee63e67c", "filename": "contrib/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b8f59c4b30ac1761e6f4b63666ca7f5d68649ed5/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b8f59c4b30ac1761e6f4b63666ca7f5d68649ed5/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=b8f59c4b30ac1761e6f4b63666ca7f5d68649ed5", "patch": "@@ -1,3 +1,7 @@\n+2010-01-13  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* contrib/git-fetch-vendor.sh: New file.\n+\n 2020-01-13  Jakub Jelinek  <jakub@redhat.com>\n \n \t* contrib/gcc-git-customization.sh: Add git gcc-descr and gcc-undescr"}, {"sha": "5e1b1f0a8540365a63c4245cddfc7cd76d93191b", "filename": "contrib/git-fetch-vendor.sh", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b8f59c4b30ac1761e6f4b63666ca7f5d68649ed5/contrib%2Fgit-fetch-vendor.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b8f59c4b30ac1761e6f4b63666ca7f5d68649ed5/contrib%2Fgit-fetch-vendor.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgit-fetch-vendor.sh?ref=b8f59c4b30ac1761e6f4b63666ca7f5d68649ed5", "patch": "@@ -0,0 +1,22 @@\n+#!/bin/sh\n+\n+if [ $# != 1 ]\n+then\n+    echo \"Usage: $0 <vendor>\"\n+    exit 1\n+fi\n+\n+vendor=$1\n+upstream=`git config --get \"gcc-config.upstream\"`\n+if [ x\"$upstream\" = x ]\n+then\n+    echo \"Config gcc-config.upstream not set, run contrib/gcc-git-customization\"\n+    exit 1\n+fi\n+\n+echo \"setting up git to fetch vendor ${vendor} to remotes/${upstream}/${vendor}\"\n+\n+git config --replace-all \"remote.${upstream}.fetch\" \"+refs/vendors/${vendor}/heads/*:refs/remotes/${upstream}/${vendor}/*\" \":refs/remotes/${upstream}/${vendor}/\"\n+git config --replace-all \"remote.${upstream}.fetch\" \"+refs/vendors/${vendor}/tags/*:refs/tags/${vendor}/*\" \":refs/tags/${vendor}/\"\n+git config --replace-all \"remote.${upstream}.push\" \"+refs/heads/${vendor}/*:refs/vendors/${vendor}/heads/*\" \"^\\+refs/heads/${vendor}/\"\n+git fetch"}]}