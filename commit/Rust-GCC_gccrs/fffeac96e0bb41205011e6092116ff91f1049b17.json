{"sha": "fffeac96e0bb41205011e6092116ff91f1049b17", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmZmZWFjOTZlMGJiNDEyMDUwMTFlNjA5MjExNmZmOTFmMTA0OWIxNw==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "1999-09-16T22:33:10Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "1999-09-16T22:33:10Z"}, "message": "lex.c (init_cpp_parse): Call xcalloc, not malloc/bzero.\n\n\t* lex.c (init_cpp_parse): Call xcalloc, not malloc/bzero.\n\n\t* xref.c (SALLOC): Call xstrdup, not xmalloc/strcpy.\n\nFrom-SVN: r29464", "tree": {"sha": "fcba1b144217dee7b96381e6416b164d568678a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fcba1b144217dee7b96381e6416b164d568678a8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fffeac96e0bb41205011e6092116ff91f1049b17", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fffeac96e0bb41205011e6092116ff91f1049b17", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fffeac96e0bb41205011e6092116ff91f1049b17", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fffeac96e0bb41205011e6092116ff91f1049b17/comments", "author": null, "committer": null, "parents": [{"sha": "92a438d13c876561ee189d9eb274f2dd8151ac91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92a438d13c876561ee189d9eb274f2dd8151ac91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92a438d13c876561ee189d9eb274f2dd8151ac91"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "7603401c4fccc3f22d0643a3a4d45bab0159defa", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fffeac96e0bb41205011e6092116ff91f1049b17/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fffeac96e0bb41205011e6092116ff91f1049b17/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=fffeac96e0bb41205011e6092116ff91f1049b17", "patch": "@@ -1,3 +1,9 @@\n+1999-09-16  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* lex.c (init_cpp_parse): Call xcalloc, not malloc/bzero.\n+\n+\t* xref.c (SALLOC): Call xstrdup, not xmalloc/strcpy.\n+\n 1999-09-16  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* decl2.c (finish_file): Also call check_global_declarations for"}, {"sha": "e1a0c099ce1ac5700fb8c8ee3074dc41e6624c29", "filename": "gcc/cp/lex.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fffeac96e0bb41205011e6092116ff91f1049b17/gcc%2Fcp%2Flex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fffeac96e0bb41205011e6092116ff91f1049b17/gcc%2Fcp%2Flex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Flex.c?ref=fffeac96e0bb41205011e6092116ff91f1049b17", "patch": "@@ -508,11 +508,9 @@ init_cpp_parse ()\n {\n #ifdef GATHER_STATISTICS\n #ifdef REDUCE_LENGTH\n-  reduce_count = (int *)malloc (sizeof (int) * (REDUCE_LENGTH + 1));\n-  bzero (reduce_count, sizeof (int) * (REDUCE_LENGTH + 1));\n+  reduce_count = (int *) xcalloc (sizeof (int), (REDUCE_LENGTH + 1));\n   reduce_count += 1;\n-  token_count = (int *)malloc (sizeof (int) * (TOKEN_LENGTH + 1));\n-  bzero (token_count, sizeof (int) * (TOKEN_LENGTH + 1));\n+  token_count = (int *) xcalloc (sizeof (int), (TOKEN_LENGTH + 1));\n   token_count += 1;\n #endif\n #endif"}, {"sha": "5c6e7b787a35b3b96e10b510d7a836863000ecad", "filename": "gcc/cp/xref.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fffeac96e0bb41205011e6092116ff91f1049b17/gcc%2Fcp%2Fxref.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fffeac96e0bb41205011e6092116ff91f1049b17/gcc%2Fcp%2Fxref.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fxref.c?ref=fffeac96e0bb41205011e6092116ff91f1049b17", "patch": "@@ -60,9 +60,7 @@ int flag_gnu_xref;\n \n \n /* Return a malloc'd copy of STR.  */\n-#define SALLOC(str) \\\n- ((char *) ((str) == NULL ? NULL\t\\\n-\t    : (char *) strcpy ((char *) xmalloc (strlen ((str)) + 1), (str))))\n+#define SALLOC(str) ((char *) ((str) == NULL ? NULL : xstrdup (str)))\n #define SFREE(str) (str != NULL && (free(str),0))\n \n #define STREQL(s1,s2) (strcmp((s1),(s2)) == 0)"}]}