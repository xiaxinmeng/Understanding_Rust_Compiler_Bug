{"sha": "ec6be46228e05303e920886d1baf66323457738b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWM2YmU0NjIyOGUwNTMwM2U5MjA4ODZkMWJhZjY2MzIzNDU3NzM4Yg==", "commit": {"author": {"name": "Thomas Preud'homme", "email": "thomas.preudhomme@arm.com", "date": "2016-05-04T13:33:58Z"}, "committer": {"name": "Thomas Preud'homme", "email": "thopre01@gcc.gnu.org", "date": "2016-05-04T13:33:58Z"}, "message": "config.gcc: Error out when conflicting multilib is detected.\n\n2016-05-04  Thomas Preud'homme  <thomas.preudhomme@arm.com>\n\n    gcc/\n    * config.gcc: Error out when conflicting multilib is detected.  Do not\n    loop over multilibs since no combination is legal.\n\nFrom-SVN: r235877", "tree": {"sha": "38ca3a58fccfa9ba35a9ae03e6fe6a4632ed451a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/38ca3a58fccfa9ba35a9ae03e6fe6a4632ed451a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec6be46228e05303e920886d1baf66323457738b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec6be46228e05303e920886d1baf66323457738b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec6be46228e05303e920886d1baf66323457738b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec6be46228e05303e920886d1baf66323457738b/comments", "author": {"login": "RoboTux", "id": 272327, "node_id": "MDQ6VXNlcjI3MjMyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/272327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RoboTux", "html_url": "https://github.com/RoboTux", "followers_url": "https://api.github.com/users/RoboTux/followers", "following_url": "https://api.github.com/users/RoboTux/following{/other_user}", "gists_url": "https://api.github.com/users/RoboTux/gists{/gist_id}", "starred_url": "https://api.github.com/users/RoboTux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RoboTux/subscriptions", "organizations_url": "https://api.github.com/users/RoboTux/orgs", "repos_url": "https://api.github.com/users/RoboTux/repos", "events_url": "https://api.github.com/users/RoboTux/events{/privacy}", "received_events_url": "https://api.github.com/users/RoboTux/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "24f77f59d12ad05d8b0c1dc1faae4f698d12da3f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24f77f59d12ad05d8b0c1dc1faae4f698d12da3f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24f77f59d12ad05d8b0c1dc1faae4f698d12da3f"}], "stats": {"total": 57, "additions": 32, "deletions": 25}, "files": [{"sha": "c99daeb457f4a46450629d7dea1d373356f47d2c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec6be46228e05303e920886d1baf66323457738b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec6be46228e05303e920886d1baf66323457738b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ec6be46228e05303e920886d1baf66323457738b", "patch": "@@ -1,3 +1,8 @@\n+2016-05-04  Thomas Preud'homme  <thomas.preudhomme@arm.com>\n+\n+\t* config.gcc: Error out when conflicting multilib is detected.  Do not\n+\tloop over multilibs since no combination is legal.\n+\n 2016-05-04  Alan Modra  <amodra@gmail.com>\n \n \t* config/rs6000/rs6000.h (PIC_OFFSET_TABLE_REGNUM): Correct."}, {"sha": "74e9f4e4e83b65b2867cc97b05f43c90497537e8", "filename": "gcc/config.gcc", "status": "modified", "additions": 27, "deletions": 25, "changes": 52, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec6be46228e05303e920886d1baf66323457738b/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec6be46228e05303e920886d1baf66323457738b/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=ec6be46228e05303e920886d1baf66323457738b", "patch": "@@ -3765,38 +3765,40 @@ case \"${target}\" in\n \t\t# Add extra multilibs\n \t\tif test \"x$with_multilib_list\" != x; then\n \t\t\tarm_multilibs=`echo $with_multilib_list | sed -e 's/,/ /g'`\n-\t\t\tfor arm_multilib in ${arm_multilibs}; do\n-\t\t\t\tcase ${arm_multilib} in\n-\t\t\t\taprofile)\n+\t\t\tcase ${arm_multilibs} in\n+\t\t\taprofile)\n \t\t\t\t# Note that arm/t-aprofile is a\n \t\t\t\t# stand-alone make file fragment to be\n \t\t\t\t# used only with itself.  We do not\n \t\t\t\t# specifically use the\n \t\t\t\t# TM_MULTILIB_OPTION framework because\n \t\t\t\t# this shorthand is more\n-\t\t\t\t# pragmatic. Additionally it is only\n-\t\t\t\t# designed to work without any\n-\t\t\t\t# with-cpu, with-arch with-mode\n+\t\t\t\t# pragmatic.\n+\t\t\t\ttmake_profile_file=\"arm/t-aprofile\"\n+\t\t\t\t;;\n+\t\t\tdefault)\n+\t\t\t\t;;\n+\t\t\t*)\n+\t\t\t\techo \"Error: --with-multilib-list=${with_multilib_list} not supported.\" 1>&2\n+\t\t\t\texit 1\n+\t\t\t\t;;\n+\t\t\tesac\n+\n+\t\t\tif test \"x${tmake_profile_file}\" != x ; then\n+\t\t\t\t# arm/t-aprofile is only designed to work\n+\t\t\t\t# without any with-cpu, with-arch, with-mode,\n \t\t\t\t# with-fpu or with-float options.\n-\t\t\t\t\tif test \"x$with_arch\" != x \\\n-\t\t\t\t\t    || test \"x$with_cpu\" != x \\\n-\t\t\t\t\t    || test \"x$with_float\" != x \\\n-\t\t\t\t\t    || test \"x$with_fpu\" != x \\\n-\t\t\t\t\t    || test \"x$with_mode\" != x ; then\n-\t\t\t\t\t    echo \"Error: You cannot use any of --with-arch/cpu/fpu/float/mode with --with-multilib-list=aprofile\" 1>&2\n-\t\t\t\t\t    exit 1\n-\t\t\t\t\tfi\n-\t\t\t\t\ttmake_file=\"${tmake_file} arm/t-aprofile\"\n-\t\t\t\t\tbreak\n-\t\t\t\t\t;;\n-\t\t\t\tdefault)\n-\t\t\t\t\t;;\n-\t\t\t\t*)\n-\t\t\t\t\techo \"Error: --with-multilib-list=${with_multilib_list} not supported.\" 1>&2\n-\t\t\t\t\texit 1\n-\t\t\t\t\t;;\n-\t\t\t\tesac\n-\t\t\tdone\n+\t\t\t\tif test \"x$with_arch\" != x \\\n+\t\t\t\t    || test \"x$with_cpu\" != x \\\n+\t\t\t\t    || test \"x$with_float\" != x \\\n+\t\t\t\t    || test \"x$with_fpu\" != x \\\n+\t\t\t\t    || test \"x$with_mode\" != x ; then\n+\t\t\t\t    echo \"Error: You cannot use any of --with-arch/cpu/fpu/float/mode with --with-multilib-list=${with_multilib_list}\" 1>&2\n+\t\t\t\t    exit 1\n+\t\t\t\tfi\n+\n+\t\t\t\ttmake_file=\"${tmake_file} ${tmake_profile_file}\"\n+\t\t\tfi\n \t\tfi\n \t\t;;\n "}]}