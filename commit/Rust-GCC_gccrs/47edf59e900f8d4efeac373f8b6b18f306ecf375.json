{"sha": "47edf59e900f8d4efeac373f8b6b18f306ecf375", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDdlZGY1OWU5MDBmOGQ0ZWZlYWMzNzNmOGI2YjE4ZjMwNmVjZjM3NQ==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2003-09-30T10:21:41Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2003-09-30T10:21:41Z"}, "message": "Nicolas Pitre <nico@cam.org>\n\nNicolas Pitre <nico@cam.org>\n* arm/ieee754-df.S: split compilation of fixunsdfsi from\nL_fixdfsi target.\n* arm/t-arm-elf: add _fixunsdfsi target due to the above.\n\nFrom-SVN: r71939", "tree": {"sha": "398517a90fb195dc2deb90e1ac0e3293a4271e22", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/398517a90fb195dc2deb90e1ac0e3293a4271e22"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/47edf59e900f8d4efeac373f8b6b18f306ecf375", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47edf59e900f8d4efeac373f8b6b18f306ecf375", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47edf59e900f8d4efeac373f8b6b18f306ecf375", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47edf59e900f8d4efeac373f8b6b18f306ecf375/comments", "author": null, "committer": null, "parents": [{"sha": "ec2a60b0c4664b30befdbb7dca0c4894a51ab1aa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec2a60b0c4664b30befdbb7dca0c4894a51ab1aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec2a60b0c4664b30befdbb7dca0c4894a51ab1aa"}], "stats": {"total": 34, "additions": 25, "deletions": 9}, "files": [{"sha": "cb9686844913422fd561afec37642ca202f92f6c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47edf59e900f8d4efeac373f8b6b18f306ecf375/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47edf59e900f8d4efeac373f8b6b18f306ecf375/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=47edf59e900f8d4efeac373f8b6b18f306ecf375", "patch": "@@ -1,4 +1,10 @@\n-2003-09-80  Nathanael Nerode  <neroden@gcc.gnu.org>\n+2003-09-30  Nicolas Pitre <nico@cam.org>\n+\n+\t* arm/ieee754-df.S: split compilation of fixunsdfsi from\n+\tL_fixdfsi target.\n+\t* arm/t-arm-elf: add _fixunsdfsi target due to the above.\n+\n+2003-09-30  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* config.gcc: Default use_fixproto to 'no'.\n "}, {"sha": "b04d3dfb5bf8f3aba1f382a72ae7f3c3a5070b68", "filename": "gcc/config/arm/ieee754-df.S", "status": "modified", "additions": 17, "deletions": 7, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47edf59e900f8d4efeac373f8b6b18f306ecf375/gcc%2Fconfig%2Farm%2Fieee754-df.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47edf59e900f8d4efeac373f8b6b18f306ecf375/gcc%2Fconfig%2Farm%2Fieee754-df.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fieee754-df.S?ref=47edf59e900f8d4efeac373f8b6b18f306ecf375", "patch": "@@ -1086,6 +1086,10 @@ ARM_FUNC_START fixdfsi\n \n \tFUNC_END fixdfsi\n \n+#endif /* L_fixdfsi */\n+\n+#ifdef L_fixunsdfsi\n+\n ARM_FUNC_START fixunsdfsi\n \torrs\tip, xl, xh, lsl #1\n \tmovcss\tr0, #0\t\t\t@ value is negative\n@@ -1096,13 +1100,13 @@ ARM_FUNC_START fixunsdfsi\n \torr\tip, ip, #0x00f00000\n \tand\tr2, xh, ip\n \tteq\tr2, ip\n-\tbeq\t1f\t\t\t@ value is INF or NAN\n+\tbeq\t2f\t\t\t@ value is INF or NAN\n \tbic\tip, ip, #0x40000000\n \tcmp\tr2, ip\n-\tbcc\t1b\t\t\t@ value is too small\n+\tbcc\t1f\t\t\t@ value is too small\n \tadd\tip, ip, #(31 << 20)\n \tcmp\tr2, ip\n-\tbhi\t2f\t\t\t@ value is too large\n+\tbhi\t3f\t\t\t@ value is too large\n \n \trsb\tr2, r2, ip\n \tmov\tip, xh, lsl #11\n@@ -1112,14 +1116,20 @@ ARM_FUNC_START fixunsdfsi\n \tmov\tr0, ip, lsr r2\n \tRET\n \n-1:\torrs\txl, xl, xh, lsl #12\n-\tbne\t4b\t\t\t@ value is NAN.\n-2:\tmov\tr0, #0xffffffff\t\t@ maximum unsigned si\n+1:\tmov\tr0, #0\n+\tRET\n+\n+2:\torrs\txl, xl, xh, lsl #12\n+\tbne\t4f\t\t\t@ value is NAN.\n+3:\tmov\tr0, #0xffffffff\t\t@ maximum unsigned si\n+\tRET\n+\n+4:\tmov\tr0, #0\t\t\t@ How should we convert NAN?\n \tRET\n \n \tFUNC_END fixunsdfsi\n \n-#endif /* L_fixunsdfdi */\n+#endif /* L_fixunsdfsi */\n \n #ifdef L_truncdfsf2\n "}, {"sha": "3f48f8b81e9e6e281228e876c389c11102315089", "filename": "gcc/config/arm/t-arm-elf", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47edf59e900f8d4efeac373f8b6b18f306ecf375/gcc%2Fconfig%2Farm%2Ft-arm-elf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47edf59e900f8d4efeac373f8b6b18f306ecf375/gcc%2Fconfig%2Farm%2Ft-arm-elf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Ft-arm-elf?ref=47edf59e900f8d4efeac373f8b6b18f306ecf375", "patch": "@@ -1,7 +1,7 @@\n LIB1ASMSRC = arm/lib1funcs.asm\n LIB1ASMFUNCS = _udivsi3 _divsi3 _umodsi3 _modsi3 _dvmd_tls _bb_init_func \\\n \t_call_via_rX _interwork_call_via_rX \\\n-\t_negdf2 _addsubdf3 _muldivdf3 _cmpdf2 _unorddf2 _fixdfsi \\\n+\t_negdf2 _addsubdf3 _muldivdf3 _cmpdf2 _unorddf2 _fixdfsi _fixunsdfsi \\\n \t_truncdfsf2 _negsf2 _addsubsf3 _muldivsf3 _cmpsf2 _unordsf2 \\\n \t_fixsfsi _fixunssfsi\n "}]}