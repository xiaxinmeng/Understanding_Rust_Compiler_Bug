{"sha": "6ab6f071765945426b9add40dc25d47f3e4391be", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmFiNmYwNzE3NjU5NDU0MjZiOWFkZDQwZGMyNWQ0N2YzZTQzOTFiZQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-03-07T18:47:32Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-03-07T18:47:32Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r413", "tree": {"sha": "2b220cf3fbd6e2ed9f4d8c1c15ccf954665e330a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2b220cf3fbd6e2ed9f4d8c1c15ccf954665e330a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6ab6f071765945426b9add40dc25d47f3e4391be", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ab6f071765945426b9add40dc25d47f3e4391be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ab6f071765945426b9add40dc25d47f3e4391be", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ab6f071765945426b9add40dc25d47f3e4391be/comments", "author": null, "committer": null, "parents": [{"sha": "ab27e96e2cc779c9d5caf9eba4c721321e40af51", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab27e96e2cc779c9d5caf9eba4c721321e40af51", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab27e96e2cc779c9d5caf9eba4c721321e40af51"}], "stats": {"total": 65, "additions": 64, "deletions": 1}, "files": [{"sha": "c9afc94f0e3e1a8121eebe8ec13169fe97f1da67", "filename": "gcc/make-gcc.com", "status": "modified", "additions": 58, "deletions": 1, "changes": 59, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ab6f071765945426b9add40dc25d47f3e4391be/gcc%2Fmake-gcc.com", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ab6f071765945426b9add40dc25d47f3e4391be/gcc%2Fmake-gcc.com", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmake-gcc.com?ref=6ab6f071765945426b9add40dc25d47f3e4391be", "patch": "@@ -24,5 +24,62 @@ $! libgcc2.olb.  To install, extract all of the modules from libgcc2.olb and\n $! add them to gnu_cc:[000000]gcclib.olb.  You may have to delete the eprintf\n $! and new modules from the gnu_cc:[000000]gcclib.olb, since libgcc2 supplies\n $! these same routines with different module names.\n-$! \n+$!\n+$! Set up the logical names to use the compiler that we just built.\n+$!\n+$ Procedure:='f$environment(\"PROCEDURE\")'\n+$ Device:='f$parse(Procedure,,,\"DEVICE\",\"NO_CONCEAL\")'\n+$ Directory:='f$parse(Procedure,,,\"DIRECTORY\",\"NO_CONCEAL\")'\n+$ Path:=\"''Device'''Directory'\"\n+$!\n+$! Check for \"rooted\" directory specs\n+$!\n+$ l = 'f$length(Path)'\n+$ tmp = 'f$locate(\".][\",Path)'\n+$ if 'tmp' .ne. 'l' then goto 10$\n+$ tmp = 'f$locate(\".><\",Path)'\n+$ if 'tmp' .ne. 'l' then goto 10$\n+$ goto 100$\n+$!\n+$! Eliminate rooted directory specs\n+$!\n+$ 10$:\n+$ if \"''f$extract(tmp,255,Path)'\" .eqs. \".][000000]\" then goto 20$\n+$ if \"''f$extract(tmp,255,Path)'\" .eqs. \".><000000>\" then goto 20$\n+$ l = tmp + 3\n+$ Path:=\"''f$extract(0,tmp,Path)'.''f$extract(l,255,Path)'\"\n+$ goto 100$\n+$ 20$:\n+$ l = tmp + 1\n+$ Path:=\"''f$extract(0,tmp,Path)'''f$extract(l,1,Path)'\"\n+$ 100$:\n+$!\n+$! Calculate the prefix and suffix (used in generating desired paths)\n+$!\n+$ l = 'f$length(Path)' - 1\n+$ Prefix:='f$Extract(0,l,Path)'\n+$ Suffix:='f$extract(l,1,Path)'\n+$!\n+$ gnu_cc_path:=\"''Prefix'.''Suffix'\"\n+$!\n+$oldgcc=f$trnlnm(\"GNU_CC\")\n+$ assign  'gnu_cc_path'/translation=concealed, -\n+\t'f$trnlnm(\"GNU_CC\")/translation=concealed GNU_CC\n+$!\n+$! Set the version number from version.opt.\n+$!\n+$open ifile$ version.opt\n+$read ifile$ line\n+$close ifile$\n+$ijk = f$locate(\"=\",line) + 1\n+$line='f$extract(ijk,255,line)\n+$assign 'line' gnu_cc_version\n+$!\n+$! Now build gcclib2.olb\n+$!\n $@make-l2\n+$!\n+$! Deassign logical names.\n+$!\n+$deassign gnu_cc_version\n+$deassign gnu_cc"}, {"sha": "c9d6a3c9f2c41784473b2b3fda481a5b43ae365f", "filename": "gcc/make-l2.com", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ab6f071765945426b9add40dc25d47f3e4391be/gcc%2Fmake-l2.com", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ab6f071765945426b9add40dc25d47f3e4391be/gcc%2Fmake-l2.com", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmake-l2.com?ref=6ab6f071765945426b9add40dc25d47f3e4391be", "patch": "@@ -7,6 +7,12 @@ $! have the current compiler installed, otherwise some of the builtins will\n $! not be recognized.  Once you have built libgcc2.olb, you can merge this\n $! with gnu_cc:[000000]gcclib.olb\n $!\n+$if f$extract(0,1,f$trnlnm(\"GNU_CC_VERSION\")).nes.\"1\" then goto compile\n+$!\n+$write sys$output \"This must be compiled by gcc 2.0\"\n+$exit\n+$!\n+$compile:\n $lib/create libgcc2.olb\n $call compile_libgcc2 \"L_muldi3\"\n $call compile_libgcc2 \"L_divdi3\""}]}