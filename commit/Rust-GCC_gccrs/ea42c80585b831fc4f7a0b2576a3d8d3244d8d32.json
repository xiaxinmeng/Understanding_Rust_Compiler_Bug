{"sha": "ea42c80585b831fc4f7a0b2576a3d8d3244d8d32", "node_id": "C_kwDOANBUbNoAKGVhNDJjODA1ODViODMxZmM0ZjdhMGIyNTc2YTNkOGQzMjQ0ZDhkMzI", "commit": {"author": {"name": "Martin Jambor", "email": "mjambor@suse.cz", "date": "2021-11-05T13:04:42Z"}, "committer": {"name": "Martin Jambor", "email": "mjambor@suse.cz", "date": "2021-11-05T13:29:31Z"}, "message": "ipa: Do not require RECORD_TYPE for ancestor jump functions\n\nThe check this patch removes has remained from times when ancestor\njump functions have been only used for devirtualization and also\ncontained BINFOs.  It is not necessary now and should have been\nremoved long time ago.\n\ngcc/ChangeLog:\n\n2021-11-04  Martin Jambor  <mjambor@suse.cz>\n\n\t* ipa-prop.c (compute_complex_assign_jump_func): Remove\n\tunnecessary check for RECORD_TYPE.", "tree": {"sha": "ff4dbd0e69c6d1b8058c4b7b06e9d5980b105b80", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff4dbd0e69c6d1b8058c4b7b06e9d5980b105b80"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea42c80585b831fc4f7a0b2576a3d8d3244d8d32", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE5elVTFt/d09Vsoczv2PBvD+kNUAFAmGFMbwACgkQv2PBvD+k\nNUBgrBAAwluvTBSmIMpyNivvhlL/eTVEzQUYGenjcBOJXB+JH/7RmuBVwix2XOCQ\nYUArLrn74/4TNl8Fa3UpYiKmME1KOIPkKF0sY8XPWMV3tqz4uypIfLkK1PiNwJHa\nOKpES3Z37TGDLSOQf06VvRhmFV6LY73YIQD4fx/60gcsd9RZvk6pVbapx5RJqNI0\nROTbCbQpIkRVLfg3UpWdwAII6Q3Aw8cXfndadftjsSyiS72KKElM8dT7CDIorB3a\nPYUKXHroMJ67CieL+PsNNkIAC+ve29OJEIx6Q42vQr5+gaRhpnbz7ApFVFTr+W90\nqNmzNMemj6qAPpxIkjAb1xOg3evH3RRZ5xPWmljaw9lDtS/qB+9C+QTLEVRi7wXn\nT78fG9irQnPuyWVbbUfQA+IMhvLC3+o62QJvdUuO49KihNQn+yoYQ7QhWNpZIlN1\nCFp8WW49A6Gwn8VBsNz+jJTk6koQuFA1GsPCEyfGjW3cNMwFckMz3Bsfin4jQI3k\naKSGMcO9NKM7McoyjsYtpkUFC1pRP/k1mxQwWznXwYFJ+HgrMApTgk/Bcslp/x+F\n1Kde7vZyyrrP01tzmQjJLej1wr0GcCCAuk0+C1ZT58z4r2WCzxPyndAJDHO6vyGv\nAOS92UHmHyND01jJlv0iONl44/La52O7AAIhI+LgWlz77pu5lAY=\n=rBv7\n-----END PGP SIGNATURE-----", "payload": "tree ff4dbd0e69c6d1b8058c4b7b06e9d5980b105b80\nparent 30b8ec68e2a7731ab28e6fd1512c1c631f086676\nauthor Martin Jambor <mjambor@suse.cz> 1636117482 +0100\ncommitter Martin Jambor <mjambor@suse.cz> 1636118971 +0100\n\nipa: Do not require RECORD_TYPE for ancestor jump functions\n\nThe check this patch removes has remained from times when ancestor\njump functions have been only used for devirtualization and also\ncontained BINFOs.  It is not necessary now and should have been\nremoved long time ago.\n\ngcc/ChangeLog:\n\n2021-11-04  Martin Jambor  <mjambor@suse.cz>\n\n\t* ipa-prop.c (compute_complex_assign_jump_func): Remove\n\tunnecessary check for RECORD_TYPE.\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea42c80585b831fc4f7a0b2576a3d8d3244d8d32", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea42c80585b831fc4f7a0b2576a3d8d3244d8d32", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea42c80585b831fc4f7a0b2576a3d8d3244d8d32/comments", "author": {"login": "jamborm", "id": 2180070, "node_id": "MDQ6VXNlcjIxODAwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2180070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamborm", "html_url": "https://github.com/jamborm", "followers_url": "https://api.github.com/users/jamborm/followers", "following_url": "https://api.github.com/users/jamborm/following{/other_user}", "gists_url": "https://api.github.com/users/jamborm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamborm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamborm/subscriptions", "organizations_url": "https://api.github.com/users/jamborm/orgs", "repos_url": "https://api.github.com/users/jamborm/repos", "events_url": "https://api.github.com/users/jamborm/events{/privacy}", "received_events_url": "https://api.github.com/users/jamborm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jamborm", "id": 2180070, "node_id": "MDQ6VXNlcjIxODAwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2180070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamborm", "html_url": "https://github.com/jamborm", "followers_url": "https://api.github.com/users/jamborm/followers", "following_url": "https://api.github.com/users/jamborm/following{/other_user}", "gists_url": "https://api.github.com/users/jamborm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamborm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamborm/subscriptions", "organizations_url": "https://api.github.com/users/jamborm/orgs", "repos_url": "https://api.github.com/users/jamborm/repos", "events_url": "https://api.github.com/users/jamborm/events{/privacy}", "received_events_url": "https://api.github.com/users/jamborm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "30b8ec68e2a7731ab28e6fd1512c1c631f086676", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30b8ec68e2a7731ab28e6fd1512c1c631f086676", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30b8ec68e2a7731ab28e6fd1512c1c631f086676"}], "stats": {"total": 2, "additions": 0, "deletions": 2}, "files": [{"sha": "e85df0971fcb2b393b21498ff3ffcb196770443e", "filename": "gcc/ipa-prop.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea42c80585b831fc4f7a0b2576a3d8d3244d8d32/gcc%2Fipa-prop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea42c80585b831fc4f7a0b2576a3d8d3244d8d32/gcc%2Fipa-prop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-prop.c?ref=ea42c80585b831fc4f7a0b2576a3d8d3244d8d32", "patch": "@@ -1421,8 +1421,6 @@ compute_complex_assign_jump_func (struct ipa_func_body_info *fbi,\n   if (TREE_CODE (op1) != ADDR_EXPR)\n     return;\n   op1 = TREE_OPERAND (op1, 0);\n-  if (TREE_CODE (TREE_TYPE (op1)) != RECORD_TYPE)\n-    return;\n   base = get_ref_base_and_extent_hwi (op1, &offset, &size, &reverse);\n   offset_int mem_offset;\n   if (!base"}]}