{"sha": "e4e5261f2007b11c1136df16fee633caeeb10154", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTRlNTI2MWYyMDA3YjExYzExMzZkZjE2ZmVlNjMzY2FlZWIxMDE1NA==", "commit": {"author": {"name": "Andrew Pinski", "email": "andrew_pinski@playstation.sony.com", "date": "2009-01-05T22:27:48Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2009-01-05T22:27:48Z"}, "message": "re PR c/34911 (ICE with vectors of bool)\n\n2009-01-05  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n\n        PR c/34911\n        * c-common.c (handle_vector_size_attribute): Also reject BOOLEAN_TYPE types.\n\n2009-01-05  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n\n        PR c/34911\n        * gcc.dg/vector-3.c: New testcase.\n        * g++.dg/ext/vector15.C: New test.\n\nFrom-SVN: r143099", "tree": {"sha": "71687dd989b69df6ba933cc02fd86a6983bf67fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/71687dd989b69df6ba933cc02fd86a6983bf67fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e4e5261f2007b11c1136df16fee633caeeb10154", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4e5261f2007b11c1136df16fee633caeeb10154", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4e5261f2007b11c1136df16fee633caeeb10154", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4e5261f2007b11c1136df16fee633caeeb10154/comments", "author": null, "committer": null, "parents": [{"sha": "381009fe75fca1b2c0440e101fa46a2decdbb0fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/381009fe75fca1b2c0440e101fa46a2decdbb0fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/381009fe75fca1b2c0440e101fa46a2decdbb0fa"}], "stats": {"total": 24, "additions": 23, "deletions": 1}, "files": [{"sha": "e2d97bc3f3b922e3c399ad3a02f6baead2884c6b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4e5261f2007b11c1136df16fee633caeeb10154/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4e5261f2007b11c1136df16fee633caeeb10154/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e4e5261f2007b11c1136df16fee633caeeb10154", "patch": "@@ -1,3 +1,8 @@\n+2009-01-05  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n+\n+\tPR c/34911\n+\t* c-common.c (handle_vector_size_attribute): Also reject BOOLEAN_TYPE types.\n+\n 2009-01-05  Sebastian Pop  <sebastian.pop@amd.com>\n \n \tPR tree-optimization/38492"}, {"sha": "b94ac1b7037becc46a04e6ccdb66df1efe847dd0", "filename": "gcc/c-common.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4e5261f2007b11c1136df16fee633caeeb10154/gcc%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4e5261f2007b11c1136df16fee633caeeb10154/gcc%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.c?ref=e4e5261f2007b11c1136df16fee633caeeb10154", "patch": "@@ -6544,7 +6544,8 @@ handle_vector_size_attribute (tree *node, tree name, tree args,\n       || (!SCALAR_FLOAT_MODE_P (orig_mode)\n \t  && GET_MODE_CLASS (orig_mode) != MODE_INT\n \t  && !ALL_SCALAR_FIXED_POINT_MODE_P (orig_mode))\n-      || !host_integerp (TYPE_SIZE_UNIT (type), 1))\n+      || !host_integerp (TYPE_SIZE_UNIT (type), 1)\n+      || TREE_CODE (type) == BOOLEAN_TYPE)\n     {\n       error (\"invalid vector type for attribute %qE\", name);\n       return NULL_TREE;"}, {"sha": "46d2881e5a8fc99ea921f904217275bbd5d91015", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4e5261f2007b11c1136df16fee633caeeb10154/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4e5261f2007b11c1136df16fee633caeeb10154/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e4e5261f2007b11c1136df16fee633caeeb10154", "patch": "@@ -1,3 +1,9 @@\n+2009-01-05  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n+\n+\tPR c/34911\n+\t* gcc.dg/vector-3.c: New testcase.\n+\t* g++.dg/ext/vector15.C: New test.\n+\n 2009-01-05  Harsha Jagasia  <harsha.jagasia@amd.com>\n \n \tPR tree-optimization/38510"}, {"sha": "7058bf1b8c04132aa97c9b5f28fbe92fa8cb9f3d", "filename": "gcc/testsuite/g++.dg/ext/vector15.C", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4e5261f2007b11c1136df16fee633caeeb10154/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvector15.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4e5261f2007b11c1136df16fee633caeeb10154/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvector15.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvector15.C?ref=e4e5261f2007b11c1136df16fee633caeeb10154", "patch": "@@ -0,0 +1,5 @@\n+/* { dg-do compile } */\n+\n+/* Check that we error out when using vector_size on the bool type. */\n+\n+__attribute__((vector_size(16) )) bool a; /* { dg-error \"\" } */"}, {"sha": "3f86698b83fb707c8dfbc6e1a9f6f4bcc5f1a1b1", "filename": "gcc/testsuite/gcc.dg/vector-3.c", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4e5261f2007b11c1136df16fee633caeeb10154/gcc%2Ftestsuite%2Fgcc.dg%2Fvector-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4e5261f2007b11c1136df16fee633caeeb10154/gcc%2Ftestsuite%2Fgcc.dg%2Fvector-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvector-3.c?ref=e4e5261f2007b11c1136df16fee633caeeb10154", "patch": "@@ -0,0 +1,5 @@\n+/* { dg-do compile } */\n+\n+/* Check that we error out when using vector_size on the bool type. */\n+\n+__attribute__((vector_size(16) )) _Bool a; /* { dg-error \"\" } */"}]}