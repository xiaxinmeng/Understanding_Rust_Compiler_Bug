{"sha": "86e5e4c93716b84a49a2aba2b52649b366a77b95", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODZlNWU0YzkzNzE2Yjg0YTQ5YTJhYmEyYjUyNjQ5YjM2NmE3N2I5NQ==", "commit": {"author": {"name": "Bill Schmidt", "email": "wschmidt@linux.ibm.com", "date": "2021-07-21T12:47:49Z"}, "committer": {"name": "Bill Schmidt", "email": "wschmidt@linux.ibm.com", "date": "2021-07-21T17:50:01Z"}, "message": "rs6000: Write output to the builtin definition include file\n\n2021-06-07  Bill Schmidt  <wschmidt@linux.ibm.com>\n\ngcc/\n\t* config/rs6000/rs6000-gen-builtins.c (write_defines_file):\n\tImplement.", "tree": {"sha": "c7aab13f6c7a203f566796d44ffae845704be684", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c7aab13f6c7a203f566796d44ffae845704be684"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/86e5e4c93716b84a49a2aba2b52649b366a77b95", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86e5e4c93716b84a49a2aba2b52649b366a77b95", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86e5e4c93716b84a49a2aba2b52649b366a77b95", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86e5e4c93716b84a49a2aba2b52649b366a77b95/comments", "author": null, "committer": null, "parents": [{"sha": "04ef43c7b35e006559781f758a81c207e6d54a15", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04ef43c7b35e006559781f758a81c207e6d54a15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04ef43c7b35e006559781f758a81c207e6d54a15"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "0f6fd0cb2cba5a3e60a8a1d6fb2026f7f1b72ace", "filename": "gcc/config/rs6000/rs6000-gen-builtins.c", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86e5e4c93716b84a49a2aba2b52649b366a77b95/gcc%2Fconfig%2Frs6000%2Frs6000-gen-builtins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86e5e4c93716b84a49a2aba2b52649b366a77b95/gcc%2Fconfig%2Frs6000%2Frs6000-gen-builtins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-gen-builtins.c?ref=86e5e4c93716b84a49a2aba2b52649b366a77b95", "patch": "@@ -2019,6 +2019,23 @@ write_init_file (void)\n static int\n write_defines_file (void)\n {\n+  fprintf (defines_file, \"#ifndef _RS6000_VECDEFINES_H\\n\");\n+  fprintf (defines_file, \"#define _RS6000_VECDEFINES_H 1\\n\\n\");\n+  fprintf (defines_file, \"#if defined(_ARCH_PPC64) && defined (_ARCH_PWR9)\\n\");\n+  fprintf (defines_file, \"  #define _ARCH_PPC64_PWR9 1\\n\");\n+  fprintf (defines_file, \"#endif\\n\\n\");\n+  for (int i = 0; i < num_ovld_stanzas; i++)\n+    if (strcmp (ovld_stanzas[i].extern_name, \"SKIP\"))\n+      {\n+\tif (ovld_stanzas[i].ifdef)\n+\t  fprintf (defines_file, \"#ifdef %s\\n\", ovld_stanzas[i].ifdef);\n+\tfprintf (defines_file, \"#define %s %s\\n\",\n+\t\t ovld_stanzas[i].extern_name,\n+\t\t ovld_stanzas[i].intern_name);\n+\tif (ovld_stanzas[i].ifdef)\n+\t  fprintf (defines_file, \"#endif\\n\");\n+      }\n+  fprintf (defines_file, \"\\n#endif\\n\");\n   return 1;\n }\n "}]}