{"sha": "2ae421dd9bed6eb2f8bb6b1c9906577755682618", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmFlNDIxZGQ5YmVkNmViMmY4YmI2YjFjOTkwNjU3Nzc1NTY4MjYxOA==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2008-07-17T05:13:27Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2008-07-17T05:13:27Z"}, "message": "re PR testsuite/36443 (HOSTCC doesn't work with installed gcc)\n\n2008-07-17  H.J. Lu  <hongjiu.lu@intel.com>\n\n\tPR testsuite/36443\n\t* objc.dg/gnu-encoding/gnu-encoding.exp: Temporarily unset\n\tGCC_EXEC_PREFIX from environment when running $HOSTCC.\n\nFrom-SVN: r137909", "tree": {"sha": "0e52b2f146f8c1248ee0f64ebe3a3ddc65c36840", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e52b2f146f8c1248ee0f64ebe3a3ddc65c36840"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2ae421dd9bed6eb2f8bb6b1c9906577755682618", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ae421dd9bed6eb2f8bb6b1c9906577755682618", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ae421dd9bed6eb2f8bb6b1c9906577755682618", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ae421dd9bed6eb2f8bb6b1c9906577755682618/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "76de456cce59da15aa99beaa498fe9baf5950ca0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76de456cce59da15aa99beaa498fe9baf5950ca0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/76de456cce59da15aa99beaa498fe9baf5950ca0"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "0eb8eaa2bafc8e68931e2a7824b7b07a77e37241", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ae421dd9bed6eb2f8bb6b1c9906577755682618/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ae421dd9bed6eb2f8bb6b1c9906577755682618/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2ae421dd9bed6eb2f8bb6b1c9906577755682618", "patch": "@@ -1,3 +1,9 @@\n+2008-07-17  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR testsuite/36443\n+\t* objc.dg/gnu-encoding/gnu-encoding.exp: Temporarily unset\n+\tGCC_EXEC_PREFIX from environment when running $HOSTCC.\n+\n 2008-07-16  Dodji Seketeli  <dseketel@redhat.com>\n \n \tPR c++/13699"}, {"sha": "75d1dcf63166b4ab30306034bded64a9547c6a15", "filename": "gcc/testsuite/objc.dg/gnu-encoding/gnu-encoding.exp", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ae421dd9bed6eb2f8bb6b1c9906577755682618/gcc%2Ftestsuite%2Fobjc.dg%2Fgnu-encoding%2Fgnu-encoding.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ae421dd9bed6eb2f8bb6b1c9906577755682618/gcc%2Ftestsuite%2Fobjc.dg%2Fgnu-encoding%2Fgnu-encoding.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc.dg%2Fgnu-encoding%2Fgnu-encoding.exp?ref=2ae421dd9bed6eb2f8bb6b1c9906577755682618", "patch": "@@ -37,8 +37,20 @@ set generator_src \"$srcdir/$subdir/struct-layout-encoding-1_generate.c\"\n set generator_src \"$generator_src $srcdir/$subdir/generate-random.c\"\n set generator_src \"$generator_src $srcdir/$subdir/generate-random_r.c\"\n set generator_cmd \"-o $generator $generator_src\"\n+# Temporarily unset GCC_EXEC_PREFIX from environment, as that might\n+# confuse the $HOSTCC.\n+set orig_gcc_exec_prefix_saved 0\n+if [info exists env(GCC_EXEC_PREFIX)] {\n+     set orig_gcc_exec_prefix \"$env(GCC_EXEC_PREFIX)\"\n+     set orig_gcc_exec_prefix_saved 1\n+     unsetenv GCC_EXEC_PREFIX\n+}\n set status [remote_exec build \"$HOSTCC $HOSTCFLAGS $generator_cmd\"]\n set status [lindex $status 0]\n+if { $orig_gcc_exec_prefix_saved } {\n+     set orig_gcc_exec_prefix_saved 0\n+     setenv GCC_EXEC_PREFIX \"$orig_gcc_exec_prefix\"\n+}\n if { $status == 0 } then {\n     file delete -force $tstobjdir\n     file mkdir $tstobjdir"}]}