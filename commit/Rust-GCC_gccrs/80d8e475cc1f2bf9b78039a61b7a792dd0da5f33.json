{"sha": "80d8e475cc1f2bf9b78039a61b7a792dd0da5f33", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODBkOGU0NzVjYzFmMmJmOWI3ODAzOWE2MWI3YTc5MmRkMGRhNWYzMw==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1999-02-02T10:16:56Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1999-02-02T10:16:56Z"}, "message": "jcf-write.c (localvar_alloc): Only emit entry for LocalVariableTable if debug_info_level > DINFO_LEVEL_TERSE.\n\n \n\t* jcf-write.c (localvar_alloc):  Only emit entry for\n\tLocalVariableTable if debug_info_level > DINFO_LEVEL_TERSE.\n\t(generate_bytecode_insns):  Only call put_linenumber if\n\tdebug_info_level > DINFO_LEVEL_NONE.\n\t* jvspec.c (lang_specific_driver):  If no -O* or -g* option\n\tis specified, add -g1 (for compatibility wih javac).\n\nFrom-SVN: r24963", "tree": {"sha": "63d9e99b4ef5b204e1fd4363b0464523ddd75abc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/63d9e99b4ef5b204e1fd4363b0464523ddd75abc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/80d8e475cc1f2bf9b78039a61b7a792dd0da5f33", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80d8e475cc1f2bf9b78039a61b7a792dd0da5f33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80d8e475cc1f2bf9b78039a61b7a792dd0da5f33", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80d8e475cc1f2bf9b78039a61b7a792dd0da5f33/comments", "author": null, "committer": null, "parents": [{"sha": "113f494fbf280aaaab52ba63d4729a68959e9e7f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/113f494fbf280aaaab52ba63d4729a68959e9e7f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/113f494fbf280aaaab52ba63d4729a68959e9e7f"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "4e43b75d45b86630cb6c475e0ebbefb4ea7cd2e7", "filename": "gcc/java/jcf-write.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80d8e475cc1f2bf9b78039a61b7a792dd0da5f33/gcc%2Fjava%2Fjcf-write.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80d8e475cc1f2bf9b78039a61b7a792dd0da5f33/gcc%2Fjava%2Fjcf-write.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjcf-write.c?ref=80d8e475cc1f2bf9b78039a61b7a792dd0da5f33", "patch": "@@ -29,6 +29,7 @@ The Free Software Foundation is independent of Sun Microsystems, Inc.  */\n #include \"obstack.h\"\n #undef AND\n #include \"rtl.h\"\n+#include \"flags.h\"\n #include \"java-opcodes.h\"\n #include \"parse.h\" /* for BLOCK_EXPR_BODY */\n #include \"buffer.h\"\n@@ -525,7 +526,8 @@ localvar_alloc (decl, state)\n   info->decl = decl;\n   info->start_label = start_label;\n \n-  if (DECL_NAME (decl) != NULL_TREE)\n+  if (debug_info_level > DINFO_LEVEL_TERSE\n+      && DECL_NAME (decl) != NULL_TREE)\n     {\n       /* Generate debugging info. */\n       info->next = NULL;\n@@ -1329,7 +1331,8 @@ generate_bytecode_insns (exp, target, state)\n \t  break;\n \tinput_filename = EXPR_WFL_FILENAME (exp);\n \tlineno = EXPR_WFL_LINENO (exp);\n-\tif (EXPR_WFL_EMIT_LINE_NOTE (exp) && lineno > 0)\n+\tif (EXPR_WFL_EMIT_LINE_NOTE (exp) && lineno > 0\n+\t    && debug_info_level > DINFO_LEVEL_NONE)\n \t  put_linenumber (lineno, state);\n \tgenerate_bytecode_insns (body, target, state);\n \tinput_filename = saved_input_filename;"}]}