{"sha": "f2f8171fb15c0cdbefdead5387d5d253c4008ff2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjJmODE3MWZiMTVjMGNkYmVmZGVhZDUzODdkNWQyNTNjNDAwOGZmMg==", "commit": {"author": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2012-10-12T08:16:17Z"}, "committer": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2012-10-12T08:16:17Z"}, "message": "re PR fortran/40453 ([F95] Enhanced (recursive) argument checking)\n\n2012-10-12  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/40453\n\t* interface.c (check_dummy_characteristics): Recursively check dummy\n\tprocedures.\n\n2012-10-12  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/40453\n\t* gfortran.dg/dummy_procedure_9.f90: New.\n\nFrom-SVN: r192391", "tree": {"sha": "621f55baff38398b2069456b8ee118391ada291a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/621f55baff38398b2069456b8ee118391ada291a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f2f8171fb15c0cdbefdead5387d5d253c4008ff2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2f8171fb15c0cdbefdead5387d5d253c4008ff2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2f8171fb15c0cdbefdead5387d5d253c4008ff2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2f8171fb15c0cdbefdead5387d5d253c4008ff2/comments", "author": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "60b95d28c0d2b2f16836ceacd5a3a9c5dd2d80f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60b95d28c0d2b2f16836ceacd5a3a9c5dd2d80f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/60b95d28c0d2b2f16836ceacd5a3a9c5dd2d80f9"}], "stats": {"total": 61, "additions": 61, "deletions": 0}, "files": [{"sha": "ad701865927dea58f5850796844ee136a0ca091f", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2f8171fb15c0cdbefdead5387d5d253c4008ff2/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2f8171fb15c0cdbefdead5387d5d253c4008ff2/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=f2f8171fb15c0cdbefdead5387d5d253c4008ff2", "patch": "@@ -1,3 +1,9 @@\n+2012-10-12  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/40453\n+\t* interface.c (check_dummy_characteristics): Recursively check dummy\n+\tprocedures.\n+\n 2012-10-11  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/54784"}, {"sha": "2bdabfe806cde3f14a787a94620cfd9d683dba50", "filename": "gcc/fortran/interface.c", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2f8171fb15c0cdbefdead5387d5d253c4008ff2/gcc%2Ffortran%2Finterface.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2f8171fb15c0cdbefdead5387d5d253c4008ff2/gcc%2Ffortran%2Finterface.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finterface.c?ref=f2f8171fb15c0cdbefdead5387d5d253c4008ff2", "patch": "@@ -1063,6 +1063,19 @@ check_dummy_characteristics (gfc_symbol *s1, gfc_symbol *s2,\n   /* FIXME: Do more comprehensive testing of attributes, like e.g.\n \t    ASYNCHRONOUS, CONTIGUOUS, VALUE, VOLATILE, etc.  */\n \n+  /* Check interface of dummy procedures.  */\n+  if (s1->attr.flavor == FL_PROCEDURE)\n+    {\n+      char err[200];\n+      if (!gfc_compare_interfaces (s1, s2, s2->name, 0, 1, err, sizeof(err),\n+\t\t\t\t   NULL, NULL))\n+\t{\n+\t  snprintf (errmsg, err_len, \"Interface mismatch in dummy procedure \"\n+\t\t    \"'%s': %s\", s1->name, err);\n+\t  return FAILURE;\n+\t}\n+    }\n+\n   /* Check string length.  */\n   if (s1->ts.type == BT_CHARACTER\n       && s1->ts.u.cl && s1->ts.u.cl->length"}, {"sha": "0612d04351fa8a42b6e5ac44b684534336963df5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2f8171fb15c0cdbefdead5387d5d253c4008ff2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2f8171fb15c0cdbefdead5387d5d253c4008ff2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f2f8171fb15c0cdbefdead5387d5d253c4008ff2", "patch": "@@ -1,3 +1,8 @@\n+2012-10-12  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/40453\n+\t* gfortran.dg/dummy_procedure_9.f90: New.\n+\n 2012-10-12  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/54894"}, {"sha": "16da37f1893150f5556fdf82c3c3928f5d8e928f", "filename": "gcc/testsuite/gfortran.dg/dummy_procedure_9.f90", "status": "added", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2f8171fb15c0cdbefdead5387d5d253c4008ff2/gcc%2Ftestsuite%2Fgfortran.dg%2Fdummy_procedure_9.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2f8171fb15c0cdbefdead5387d5d253c4008ff2/gcc%2Ftestsuite%2Fgfortran.dg%2Fdummy_procedure_9.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fdummy_procedure_9.f90?ref=f2f8171fb15c0cdbefdead5387d5d253c4008ff2", "patch": "@@ -0,0 +1,37 @@\n+! { dg-do compile }\n+!\n+! PR 40453: [F95] Enhanced (recursive) argument checking\n+!\n+! Contributed by Tobias Burnus <burnus@gcc.gnu.org>\n+\n+program RecursiveInterface\n+  \n+  call c(b2)  ! { dg-error \"Interface mismatch in dummy procedure\" }\n+\n+ contains\n+\n+    subroutine a1(x)\n+      real :: x\n+    end subroutine\n+\n+    subroutine a2(i)\n+      integer :: i\n+    end subroutine\n+\n+    !!!!!!!!!!!!!!!\n+\n+    subroutine b1 (f1)\n+      procedure(a1) :: f1\n+    end subroutine\n+\n+    subroutine b2 (f2)\n+      procedure(a2) :: f2\n+    end subroutine\n+\n+    !!!!!!!!!!!!!!!\n+\n+    subroutine c(g)\n+     procedure(b1) :: g\n+    end subroutine\n+  \n+end"}]}