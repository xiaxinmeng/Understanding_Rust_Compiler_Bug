{"sha": "3d6399c74d2c402fb362e743483e7841179970d6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2Q2Mzk5Yzc0ZDJjNDAyZmIzNjJlNzQzNDgzZTc4NDExNzk5NzBkNg==", "commit": {"author": {"name": "Dominique d'Humieres", "email": "dominiq@lps.ens.fr", "date": "2014-04-01T09:21:53Z"}, "committer": {"name": "Dominique d'Humieres", "email": "dominiq@gcc.gnu.org", "date": "2014-04-01T09:21:53Z"}, "message": "fmt_en.f90: Skip unsupported rounding tests.\n\n\n\tlibfortran/60128\n\t* gfortran.dg/fmt_en.f90: Skip unsupported rounding tests.\n\tXFAIL for i?86-*-solaris2.9* and hppa*-*-hpux*.\n\nFrom-SVN: r208979", "tree": {"sha": "29738601868c356b3e8ad1bd3259baa77cf2d140", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/29738601868c356b3e8ad1bd3259baa77cf2d140"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3d6399c74d2c402fb362e743483e7841179970d6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d6399c74d2c402fb362e743483e7841179970d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d6399c74d2c402fb362e743483e7841179970d6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d6399c74d2c402fb362e743483e7841179970d6/comments", "author": {"login": "DominiquedHumieres", "id": 18394944, "node_id": "MDQ6VXNlcjE4Mzk0OTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/18394944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DominiquedHumieres", "html_url": "https://github.com/DominiquedHumieres", "followers_url": "https://api.github.com/users/DominiquedHumieres/followers", "following_url": "https://api.github.com/users/DominiquedHumieres/following{/other_user}", "gists_url": "https://api.github.com/users/DominiquedHumieres/gists{/gist_id}", "starred_url": "https://api.github.com/users/DominiquedHumieres/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DominiquedHumieres/subscriptions", "organizations_url": "https://api.github.com/users/DominiquedHumieres/orgs", "repos_url": "https://api.github.com/users/DominiquedHumieres/repos", "events_url": "https://api.github.com/users/DominiquedHumieres/events{/privacy}", "received_events_url": "https://api.github.com/users/DominiquedHumieres/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1503cb6b6d9d71b6deb9aba18ff526ce9359732d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1503cb6b6d9d71b6deb9aba18ff526ce9359732d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1503cb6b6d9d71b6deb9aba18ff526ce9359732d"}], "stats": {"total": 37, "additions": 27, "deletions": 10}, "files": [{"sha": "56fe00e31aa1abe7d4413da1180980b2e6e86b95", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d6399c74d2c402fb362e743483e7841179970d6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d6399c74d2c402fb362e743483e7841179970d6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3d6399c74d2c402fb362e743483e7841179970d6", "patch": "@@ -1,3 +1,9 @@\n+2014-04-01  Dominique d'Humieres  <dominiq@lps.ens.fr>\n+\n+\tPR libfortran/60128\n+\t* gfortran.dg/fmt_en.f90: Skip unsupported rounding tests.\n+\tXFAIL for i?86-*-solaris2.9* and hppa*-*-hpux*.\n+\n 2014-03-31  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR rtl-optimization/60700"}, {"sha": "4c5b7212333c2e02f923451d5d7d896ed97c4990", "filename": "gcc/testsuite/gfortran.dg/fmt_en.f90", "status": "modified", "additions": 21, "deletions": 10, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d6399c74d2c402fb362e743483e7841179970d6/gcc%2Ftestsuite%2Fgfortran.dg%2Ffmt_en.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d6399c74d2c402fb362e743483e7841179970d6/gcc%2Ftestsuite%2Fgfortran.dg%2Ffmt_en.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Ffmt_en.f90?ref=3d6399c74d2c402fb362e743483e7841179970d6", "patch": "@@ -7,8 +7,8 @@ program pr60128\n     integer, parameter :: j(size(real_kinds)+4)=[REAL_KINDS, [4, 4, 4, 4]]\n     logical :: l_skip(4) = .false.\n     integer :: i\n-    integer :: n_tst = 0, n_cnt = 0\n-    character(len=20) :: s\n+    integer :: n_tst = 0, n_cnt = 0, n_skip = 0\n+    character(len=20) :: s, s1\n \n     open (unit = 10, file = 'fmt_en.res')\n !   Check that the default rounding mode is to nearest and to even on tie.\n@@ -17,22 +17,30 @@ program pr60128\n         write(s, '(2F4.1,2F4.0)') real(-9.49999905,kind=j(1)), &\n                                   real(9.49999905,kind=j(1)),  &\n                                   real(9.5,kind=j(1)), real(8.5,kind=j(1))\n+        write(s1, '(3PE10.3,2PE10.3)') real(987350.,kind=j(1)), &\n+                                       real(98765.0,kind=j(1))\n       else if (i == 2) then\n         write(s, '(2F4.1,2F4.0)') real(-9.49999905,kind=j(2)), &\n                                   real(9.49999905,kind=j(2)),  &\n                                   real(9.5,kind=j(2)), real(8.5,kind=j(2))\n+        write(s1, '(3PE10.3,2PE10.3)') real(987350.,kind=j(2)), &\n+                                       real(98765.0,kind=j(2))\n       else if (i == 3) then\n         write(s, '(2F4.1,2F4.0)') real(-9.49999905,kind=j(3)), &\n                                   real(9.49999905,kind=j(3)),  &\n                                   real(9.5,kind=j(3)), real(8.5,kind=j(3))\n+        write(s1, '(3PE10.3,2PE10.3)') real(987350.,kind=j(3)), &\n+                                       real(98765.0,kind=j(3))\n       else if (i == 4) then\n         write(s, '(2F4.1,2F4.0)') real(-9.49999905,kind=j(4)), &\n                                   real(9.49999905,kind=j(4)),  &\n                                   real(9.5,kind=j(4)), real(8.5,kind=j(4))\n+        write(s1, '(3PE10.3,2PE10.3)') real(987350.,kind=j(4)), &\n+                                       real(98765.0,kind=j(4))\n       end if\n-      if (s /= '-9.5 9.5 10.  8.') then\n+      if (s /= '-9.5 9.5 10.  8.' .or. s1 /= ' 987.4E+03 98.76E+03') then\n         l_skip(i) = .true.\n-        print \"('Unsupported rounding for real(',i0,')')\", j(i)\n+!        print \"('Unsupported rounding for real(',i0,')')\", j(i)\n       end if\n     end do\n         \n@@ -139,7 +147,7 @@ program pr60128\n     call checkfmt(\"(en15.3)\", -9.765625E-04,\"   -976.562E-06\")\n     call checkfmt(\"(en15.6)\", -2.9296875E-03,\"  -2.929688E-03\")\n \n-    !print *, n_tst, n_cnt\n+    ! print *, n_tst, n_cnt, n_skip\n     if (n_cnt /= 0) call abort\n     if (all(.not. l_skip)) write (10, *) \"All kinds rounded to nearest\"\n     close (10)\n@@ -152,7 +160,6 @@ subroutine checkfmt(fmt, x, cmp)\n         real, intent(in) :: x\n         character(len=*), intent(in) :: cmp\n         do i=1,size(real_kinds)\n-          if (l_skip(i)) cycle\n           if (i == 1) then\n             write(s, fmt) real(x,kind=j(1))\n           else if (i == 2) then\n@@ -164,12 +171,16 @@ subroutine checkfmt(fmt, x, cmp)\n           end if\n           n_tst = n_tst + 1\n           if (s /= cmp) then\n-             print \"(a,1x,a,' expected: ',1x,a)\", fmt, s, cmp\n-             n_cnt = n_cnt + 1\n-           end if\n+            if (l_skip(i)) then\n+              n_skip = n_skip + 1\n+            else\n+              print \"(a,1x,a,' expected: ',1x,a)\", fmt, s, cmp\n+              n_cnt = n_cnt + 1\n+            end if\n+          end if\n         end do\n         \n     end subroutine\n end program\n-! { dg-final { scan-file fmt_en.res \"All kinds rounded to nearest\" { xfail i?86-*-solaris2.9* } } }\n+! { dg-final { scan-file fmt_en.res \"All kinds rounded to nearest\" { xfail { i?86-*-solaris2.9* hppa*-*-hpux* } } } }\n ! { dg-final { cleanup-saved-temps } }"}]}