{"sha": "d552d8190dd2d9927fa55d09b73067eb6f40b7dd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDU1MmQ4MTkwZGQyZDk5MjdmYTU1ZDA5YjczMDY3ZWI2ZjQwYjdkZA==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2018-06-04T21:38:42Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2018-06-04T21:38:42Z"}, "message": "PR libstdc++/85930 fix misplaced alignment-specifier\n\n\tPR libstdc++/85930\n\t* include/bits/shared_ptr_base.h [!__cpp_rtti]: Include <typeinfo>\n\tunconditionally. Remove redundant declaration.\n\t[!__cpp_rtti] (_Sp_make_shared_tag::_S_ti): Fix location of\n\talignment-specifier.\n\nFrom-SVN: r261172", "tree": {"sha": "6239bc61e13bfcd6a369fedb9c47679458489c0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6239bc61e13bfcd6a369fedb9c47679458489c0a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d552d8190dd2d9927fa55d09b73067eb6f40b7dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d552d8190dd2d9927fa55d09b73067eb6f40b7dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d552d8190dd2d9927fa55d09b73067eb6f40b7dd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d552d8190dd2d9927fa55d09b73067eb6f40b7dd/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f0ebf6e3229d88be4bc8d13b219327a7a073df83", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0ebf6e3229d88be4bc8d13b219327a7a073df83", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f0ebf6e3229d88be4bc8d13b219327a7a073df83"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "2a201ae11c2b825ddecb85401f619ff4b421a0bf", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d552d8190dd2d9927fa55d09b73067eb6f40b7dd/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d552d8190dd2d9927fa55d09b73067eb6f40b7dd/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=d552d8190dd2d9927fa55d09b73067eb6f40b7dd", "patch": "@@ -1,5 +1,11 @@\n 2018-06-04  Jonathan Wakely  <jwakely@redhat.com>\n \n+\tPR libstdc++/85930\n+\t* include/bits/shared_ptr_base.h [!__cpp_rtti]: Include <typeinfo>\n+\tunconditionally. Remove redundant declaration.\n+\t[!__cpp_rtti] (_Sp_make_shared_tag::_S_ti): Fix location of\n+\talignment-specifier.\n+\n \t* include/bits/postypes.h (fpos): Define special members as defaulted.\n \n \tPR libstdc++/85930"}, {"sha": "6c5089afddae5ce77650dd2faed52a784ef50fc6", "filename": "libstdc++-v3/include/bits/shared_ptr_base.h", "status": "modified", "additions": 2, "deletions": 8, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d552d8190dd2d9927fa55d09b73067eb6f40b7dd/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fshared_ptr_base.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d552d8190dd2d9927fa55d09b73067eb6f40b7dd/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fshared_ptr_base.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fshared_ptr_base.h?ref=d552d8190dd2d9927fa55d09b73067eb6f40b7dd", "patch": "@@ -49,20 +49,14 @@\n #ifndef _SHARED_PTR_BASE_H\n #define _SHARED_PTR_BASE_H 1\n \n-#if __cpp_rtti\n-# include <typeinfo>\n-#endif\n+#include <typeinfo>\n #include <bits/allocated_ptr.h>\n #include <bits/refwrap.h>\n #include <bits/stl_function.h>\n #include <ext/aligned_buffer.h>\n \n namespace std _GLIBCXX_VISIBILITY(default)\n {\n-#if !__cpp_rtti\n-  class type_info;\n-#endif\n-\n _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \n #if _GLIBCXX_USE_DEPRECATED\n@@ -516,7 +510,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n     static const type_info&\n     _S_ti() noexcept\n     {\n-      static constexpr alignas(type_info) _Sp_make_shared_tag __tag;\n+      alignas(type_info) static constexpr _Sp_make_shared_tag __tag;\n       return reinterpret_cast<const type_info&>(__tag);\n     }\n #endif"}]}