{"sha": "7cfea2ef26a3aab320c90d71c35c69a8c78404d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2NmZWEyZWYyNmEzYWFiMzIwYzkwZDcxYzM1YzY5YThjNzg0MDRkNw==", "commit": {"author": {"name": "Gabriel Charette", "email": "gchare@google.com", "date": "2011-08-05T21:28:11Z"}, "committer": {"name": "Gabriel Charette", "email": "gchare@gcc.gnu.org", "date": "2011-08-05T21:28:11Z"}, "message": "This hack to attach a line 0 source_location to the return statement of main...\n\nThis hack to attach a line 0 source_location to the\nreturn statement of main, after parsing is over, was\ncreating a bug in the line_table, creating an extra\nentry, which was creating problems now that we are\ntrying to serialize the line_table in pph.\n\n* decl.c (finish_function): Remove unecessary line 0 hack.\n\nFrom-SVN: r177485", "tree": {"sha": "f664e2ae1f8f628fb85690ed1dd5b513ef258fac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f664e2ae1f8f628fb85690ed1dd5b513ef258fac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7cfea2ef26a3aab320c90d71c35c69a8c78404d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7cfea2ef26a3aab320c90d71c35c69a8c78404d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7cfea2ef26a3aab320c90d71c35c69a8c78404d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7cfea2ef26a3aab320c90d71c35c69a8c78404d7/comments", "author": null, "committer": null, "parents": [{"sha": "9911e25a2745e1d523257ace9207d4d85146b8ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9911e25a2745e1d523257ace9207d4d85146b8ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9911e25a2745e1d523257ace9207d4d85146b8ed"}], "stats": {"total": 17, "additions": 6, "deletions": 11}, "files": [{"sha": "9fe645003ea0d47652634f0ddd19017494a41936", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7cfea2ef26a3aab320c90d71c35c69a8c78404d7/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7cfea2ef26a3aab320c90d71c35c69a8c78404d7/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=7cfea2ef26a3aab320c90d71c35c69a8c78404d7", "patch": "@@ -1,3 +1,7 @@\n+2011-08-05  Gabriel Charette  <gchare@google.com>\n+\n+\t* decl.c (finish_function): Remove unecessary line 0 hack.\n+\n 2011-08-05  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/47453"}, {"sha": "265ca9826806ff2670b339c989459741fb1a0bcb", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 2, "deletions": 11, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7cfea2ef26a3aab320c90d71c35c69a8c78404d7/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7cfea2ef26a3aab320c90d71c35c69a8c78404d7/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=7cfea2ef26a3aab320c90d71c35c69a8c78404d7", "patch": "@@ -13227,22 +13227,13 @@ finish_function (int flags)\n     {\n       if (DECL_MAIN_P (current_function_decl))\n \t{\n-\t  tree stmt;\n-\n \t  /* Make it so that `main' always returns 0 by default (or\n \t     1 for VMS).  */\n #if VMS_TARGET\n-\t  stmt = finish_return_stmt (integer_one_node);\n+\t  finish_return_stmt (integer_one_node);\n #else\n-\t  stmt = finish_return_stmt (integer_zero_node);\n+\t  finish_return_stmt (integer_zero_node);\n #endif\n-\t  /* Hack.  We don't want the middle-end to warn that this\n-\t     return is unreachable, so put the statement on the\n-\t     special line 0.  */\n-\t  {\n-\t    location_t linezero = linemap_line_start (line_table, 0, 1);\n-\t    SET_EXPR_LOCATION (stmt, linezero);\n-\t  }\n \t}\n \n       if (use_eh_spec_block (current_function_decl))"}]}