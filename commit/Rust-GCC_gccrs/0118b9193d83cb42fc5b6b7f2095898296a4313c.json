{"sha": "0118b9193d83cb42fc5b6b7f2095898296a4313c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDExOGI5MTkzZDgzY2I0MmZjNWI2YjdmMjA5NTg5ODI5NmE0MzEzYw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2012-06-29T22:39:29Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2012-06-29T22:39:29Z"}, "message": "tree-eh.c (lower_try_finally_switch): Really put the location of the last statement of the finally block onto the switch.\n\n\t* tree-eh.c (lower_try_finally_switch): Really put the location of the\n\tlast statement of the finally block onto the switch.\n\nFrom-SVN: r189086", "tree": {"sha": "df5915b3873e926b9a0de2cd6ebe7789ba9e8d96", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df5915b3873e926b9a0de2cd6ebe7789ba9e8d96"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0118b9193d83cb42fc5b6b7f2095898296a4313c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0118b9193d83cb42fc5b6b7f2095898296a4313c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0118b9193d83cb42fc5b6b7f2095898296a4313c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0118b9193d83cb42fc5b6b7f2095898296a4313c/comments", "author": null, "committer": null, "parents": [{"sha": "dc7267351ebc216085566a216e68f398ba63c2a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc7267351ebc216085566a216e68f398ba63c2a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc7267351ebc216085566a216e68f398ba63c2a9"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "45caa67959001449d6fae8d538cb368796e38471", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0118b9193d83cb42fc5b6b7f2095898296a4313c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0118b9193d83cb42fc5b6b7f2095898296a4313c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0118b9193d83cb42fc5b6b7f2095898296a4313c", "patch": "@@ -1,3 +1,8 @@\n+2012-06-29  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* tree-eh.c (lower_try_finally_switch): Really put the location of the\n+\tlast statement of the finally block onto the switch.\n+\n 2012-06-29  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR target/53539"}, {"sha": "3b35ca4286200c7dd506aa1b1cfb3511cb2e8ad2", "filename": "gcc/tree-eh.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0118b9193d83cb42fc5b6b7f2095898296a4313c/gcc%2Ftree-eh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0118b9193d83cb42fc5b6b7f2095898296a4313c/gcc%2Ftree-eh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-eh.c?ref=0118b9193d83cb42fc5b6b7f2095898296a4313c", "patch": "@@ -1320,9 +1320,8 @@ lower_try_finally_switch (struct leh_state *state, struct leh_tf_state *tf)\n \n   /* The location of the finally is either the last stmt in the finally\n      block or the location of the TRY_FINALLY itself.  */\n-  finally_loc = gimple_seq_last_stmt (tf->top_p_seq) != NULL ?\n-    gimple_location (gimple_seq_last_stmt (tf->top_p_seq))\n-    : tf_loc;\n+  x = gimple_seq_last_stmt (finally);\n+  finally_loc = x ? gimple_location (x) : tf_loc;\n \n   /* Lower the finally block itself.  */\n   lower_eh_constructs_1 (state, &finally);"}]}