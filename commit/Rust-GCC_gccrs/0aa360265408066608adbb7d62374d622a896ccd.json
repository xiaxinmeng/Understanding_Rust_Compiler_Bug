{"sha": "0aa360265408066608adbb7d62374d622a896ccd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGFhMzYwMjY1NDA4MDY2NjA4YWRiYjdkNjIzNzRkNjIyYTg5NmNjZA==", "commit": {"author": {"name": "Michael Koch", "email": "konqueror@gmx.de", "date": "2004-09-30T15:22:08Z"}, "committer": {"name": "Michael Koch", "email": "mkoch@gcc.gnu.org", "date": "2004-09-30T15:22:08Z"}, "message": "InetAddress.java: Reformatted.\n\n2004-09-30  Michael Koch  <konqueror@gmx.de>\n\n\t* java/net/InetAddress.java: Reformatted.\n\t(loopback): Initialize with Inet4Address object.\n\t(static): Initialize ANY_IF with Inet4Address object.\n\t(InetAddress): Removed unused package-private constructor.\n\nFrom-SVN: r88336", "tree": {"sha": "d31d1ad50c1e28a1cbbb1b05ad619692d1fc3566", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d31d1ad50c1e28a1cbbb1b05ad619692d1fc3566"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0aa360265408066608adbb7d62374d622a896ccd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0aa360265408066608adbb7d62374d622a896ccd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0aa360265408066608adbb7d62374d622a896ccd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0aa360265408066608adbb7d62374d622a896ccd/comments", "author": null, "committer": null, "parents": [{"sha": "57da15a410928ca489df32e23e3879e34d446b4b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57da15a410928ca489df32e23e3879e34d446b4b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57da15a410928ca489df32e23e3879e34d446b4b"}], "stats": {"total": 62, "additions": 30, "deletions": 32}, "files": [{"sha": "cee696c66a2b5de72831b486c3e0ad388d354254", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0aa360265408066608adbb7d62374d622a896ccd/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0aa360265408066608adbb7d62374d622a896ccd/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=0aa360265408066608adbb7d62374d622a896ccd", "patch": "@@ -1,3 +1,10 @@\n+2004-09-30  Michael Koch  <konqueror@gmx.de>\n+\n+\t* java/net/InetAddress.java: Reformatted.\n+\t(loopback): Initialize with Inet4Address object.\n+\t(static): Initialize ANY_IF with Inet4Address object.\n+\t(InetAddress): Removed unused package-private constructor.\n+\n 2004-09-30  Michael Koch  <konqueror@gmx.de>\n \n \t* java/beans/Beans.java,"}, {"sha": "51bcf3ae6ecc89f81eaaa02d257c23a004bd1494", "filename": "libjava/java/net/InetAddress.java", "status": "modified", "additions": 23, "deletions": 32, "changes": 55, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0aa360265408066608adbb7d62374d622a896ccd/libjava%2Fjava%2Fnet%2FInetAddress.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0aa360265408066608adbb7d62374d622a896ccd/libjava%2Fjava%2Fnet%2FInetAddress.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fnet%2FInetAddress.java?ref=0aa360265408066608adbb7d62374d622a896ccd", "patch": "@@ -35,9 +35,11 @@\n obligated to do so.  If you do not wish to do so, delete this\n exception statement from your version. */\n \n+\n package java.net;\n \n import gnu.classpath.Configuration;\n+\n import java.io.IOException;\n import java.io.ObjectInputStream;\n import java.io.ObjectOutputStream;\n@@ -49,12 +51,12 @@\n  * constructor.  Instead, new instances of this objects are created\n  * using the static methods getLocalHost(), getByName(), and\n  * getAllByName().\n- * <p>\n- * This class fulfills the function of the C style functions gethostname(),\n+ *\n+ * <p>This class fulfills the function of the C style functions gethostname(),\n  * gethostbyname(), and gethostbyaddr().  It resolves Internet DNS names\n- * into their corresponding numeric addresses and vice versa.\n+ * into their corresponding numeric addresses and vice versa.</p>\n  *\n- * @author Aaron M. Renn <arenn@urbanophile.com>\n+ * @author Aaron M. Renn (arenn@urbanophile.com)\n  * @author Per Bothner\n  *\n  * @specnote This class is not final since JK 1.4\n@@ -71,20 +73,18 @@ public class InetAddress implements Serializable\n   private static final byte[] loopbackAddress = { 127, 0, 0, 1 };\n \n   private static final InetAddress loopback \n-    = new InetAddress (loopbackAddress, \"localhost\");\n+    = new Inet4Address(loopbackAddress, \"localhost\");\n \n   private static InetAddress localhost = null;\n \n   static\n   {\n     // load the shared library needed for name resolution\n     if (Configuration.INIT_LOAD_LIBRARY)\n-      {\n-        System.loadLibrary (\"javanet\");\n-      }\n+      System.loadLibrary(\"javanet\");\n     \n     byte[] zeros = { 0, 0, 0, 0 };\n-    ANY_IF = new InetAddress (zeros, \"0.0.0.0\");\n+    ANY_IF = new Inet4Address(zeros, \"0.0.0.0\");\n   }\n \n   /**\n@@ -113,18 +113,6 @@ public class InetAddress implements Serializable\n    */\n   int family;\n \n-  /**\n-   * Initializes this object's addr instance variable from the passed in\n-   * int array.  Note that this constructor is protected and is called\n-   * only by static methods in this class.\n-   *\n-   * @param ipaddr The IP number of this address as an array of bytes\n-   */\n-  InetAddress(byte[] address)\n-  {\n-    this (address, null);\n-  }\n-\n   /**\n    * Initializes this object's addr instance variable from the passed in\n    * int array.  Note that this constructor is protected and is called\n@@ -133,13 +121,13 @@ public class InetAddress implements Serializable\n    * @param ipaddr The IP number of this address as an array of bytes\n    * @param hostname The hostname of this IP address.\n    */\n-  InetAddress(byte[] address, String hostname)\n+  InetAddress(byte[] ipaddr, String hostname)\n   {\n-    addr = address;\n+    addr = ipaddr;\n     hostName = hostname;\n     \n-    if (address != null)\n-      family = getFamily (address);\n+    if (ipaddr != null)\n+      family = getFamily(ipaddr);\n   }\n \n   /**\n@@ -304,9 +292,12 @@ public boolean isMCOrgLocal()\n    */\n   public String getHostName()\n   {\n-    if (hostName == null)\n-      lookup (null, this, false);\n+    if (hostName != null)\n+      return hostName;\n \n+    // Lookup hostname and set field.\n+    lookup (null, this, false);\n+    \n     return hostName;\n   }\n \n@@ -422,13 +413,13 @@ else if (i > 0)\n     \n     for ( ; ; )\n       {\n-        sb.append (addr [i] & 0xff);\n-\ti++;\n+        sb.append(addr[i] & 0xff);\n+        i++;\n \t\n-\tif (i == len)\n-\t  break;\n+        if (i == len)\n+          break;\n \t\n-\tsb.append ('.');\n+        sb.append('.');\n       }\n \n     return sb.toString();"}]}