{"sha": "ed9fca3f20677f1cfafc1b9d00706e4167f81bd1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWQ5ZmNhM2YyMDY3N2YxY2ZhZmMxYjlkMDA3MDZlNDE2N2Y4MWJkMQ==", "commit": {"author": {"name": "Andris Pavenis", "email": "pavenis@lanet.lv", "date": "2001-09-30T01:34:42Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2001-09-30T01:34:42Z"}, "message": "xm-djgpp.h (GCC_DRIVER_HOST_INITIALIZATION): Don't update md_exec_prefix.\n\n* config/i386/xm-djgpp.h (GCC_DRIVER_HOST_INITIALIZATION): Don't\nupdate md_exec_prefix.\n(UPDATE_PATH_HOST_CANONICALIZE): Don't free PATH as it can point\nto string constant.\n\nFrom-SVN: r45892", "tree": {"sha": "c71583b202b4193332ba7ed553eabc4b615a3d3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c71583b202b4193332ba7ed553eabc4b615a3d3b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ed9fca3f20677f1cfafc1b9d00706e4167f81bd1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed9fca3f20677f1cfafc1b9d00706e4167f81bd1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed9fca3f20677f1cfafc1b9d00706e4167f81bd1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed9fca3f20677f1cfafc1b9d00706e4167f81bd1/comments", "author": null, "committer": null, "parents": [{"sha": "ba95698296f3733f461f9732b3be5c8dc20cee6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba95698296f3733f461f9732b3be5c8dc20cee6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba95698296f3733f461f9732b3be5c8dc20cee6a"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "c67af505d58687be5171da8bb0428fd753ce649e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed9fca3f20677f1cfafc1b9d00706e4167f81bd1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed9fca3f20677f1cfafc1b9d00706e4167f81bd1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ed9fca3f20677f1cfafc1b9d00706e4167f81bd1", "patch": "@@ -1,3 +1,10 @@\n+2001-09-29  Andris Pavenis  <pavenis@lanet.lv>\n+\n+\t* config/i386/xm-djgpp.h (GCC_DRIVER_HOST_INITIALIZATION): Don't\n+\tupdate md_exec_prefix.\n+\t(UPDATE_PATH_HOST_CANONICALIZE): Don't free PATH as it can point\n+\tto string constant.\n+\n 2001-09-30  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \t* config/s390/s390.h (EXTRA_CC_MODES): Add CCLmode."}, {"sha": "2e5260e3e2358e73cfccd27d71ccbc48d6b189fe", "filename": "gcc/config/i386/xm-djgpp.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ed9fca3f20677f1cfafc1b9d00706e4167f81bd1/gcc%2Fconfig%2Fi386%2Fxm-djgpp.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ed9fca3f20677f1cfafc1b9d00706e4167f81bd1/gcc%2Fconfig%2Fi386%2Fxm-djgpp.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fxm-djgpp.h?ref=ed9fca3f20677f1cfafc1b9d00706e4167f81bd1", "patch": "@@ -79,20 +79,19 @@ Boston, MA 02111-1307, USA.  */\n     standard_exec_prefix = update_path (standard_exec_prefix, NULL); \\\n     standard_bindir_prefix = update_path (standard_bindir_prefix, NULL); \\\n     standard_startfile_prefix = update_path (standard_startfile_prefix, NULL); \\\n-    md_exec_prefix = update_path (md_exec_prefix, NULL); \\\n   } while (0)\n \n /* Canonicalize paths containing '/dev/env/'; used in prefix.c.\n    _fixpath is a djgpp-specific function to canonicalize a path.\n    \"/dev/env/DJDIR\" evaluates to \"c:/djgpp\" if DJDIR is \"c:/djgpp\" for\n    example.  It removes any trailing '/', so add it back.  */\n+/* We cannot free PATH below as it can point to string constant  */\n #define UPDATE_PATH_HOST_CANONICALIZE(PATH) \\\n   if (memcmp ((PATH), \"/dev/env/\", sizeof(\"/dev/env/\") - 1) == 0) \\\n     {\t\t\t\t\t\t\\\n       static char fixed_path[FILENAME_MAX + 1];\t\\\n \t\t\t\t\t\t\\\n       _fixpath ((PATH), fixed_path);\t\t\\\n       strcat (fixed_path, \"/\");\t\t\t\\\n-      free (PATH);\t\t\t\t\\\n       (PATH) = xstrdup (fixed_path);\t\t\\\n     } "}]}