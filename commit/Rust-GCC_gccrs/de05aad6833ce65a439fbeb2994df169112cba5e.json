{"sha": "de05aad6833ce65a439fbeb2994df169112cba5e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGUwNWFhZDY4MzNjZTY1YTQzOWZiZWIyOTk0ZGYxNjkxMTJjYmE1ZQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-12-13T22:07:25Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-12-13T22:07:25Z"}, "message": "syscall: Don't build wait status functions on RTEMS.\n\nFrom-SVN: r182313", "tree": {"sha": "039261e25953b5b0565a3994b8a96a27ed7ee01c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/039261e25953b5b0565a3994b8a96a27ed7ee01c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de05aad6833ce65a439fbeb2994df169112cba5e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de05aad6833ce65a439fbeb2994df169112cba5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de05aad6833ce65a439fbeb2994df169112cba5e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de05aad6833ce65a439fbeb2994df169112cba5e/comments", "author": null, "committer": null, "parents": [{"sha": "4ad9a9de2ddabf6186f32895e0b7a182ba8f2abb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ad9a9de2ddabf6186f32895e0b7a182ba8f2abb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ad9a9de2ddabf6186f32895e0b7a182ba8f2abb"}], "stats": {"total": 40, "additions": 33, "deletions": 7}, "files": [{"sha": "67ae8710903244e94176f75b0221bbd6cc16e5f2", "filename": "libgo/Makefile.am", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de05aad6833ce65a439fbeb2994df169112cba5e/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de05aad6833ce65a439fbeb2994df169112cba5e/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=de05aad6833ce65a439fbeb2994df169112cba5e", "patch": "@@ -1450,11 +1450,22 @@ syscall_exec_file = go/syscall/exec_unix.go\n endif\n \n # Define Wait4.\n+if LIBGO_IS_RTEMS\n+syscall_wait_file =\n+else\n if HAVE_WAIT4\n syscall_wait_file = go/syscall/libcall_wait4.go\n else\n syscall_wait_file = go/syscall/libcall_waitpid.go\n endif\n+endif\n+\n+# Support for pulling apart wait status.\n+if LIBGO_IS_RTEMS\n+syscall_wait_c_file =\n+else\n+syscall_wait_c_file = go/syscall/wait.c\n+endif\n \n # Define Sleep.\n if LIBGO_IS_RTEMS\n@@ -1564,7 +1575,7 @@ go_syscall_files = \\\n \tsyscall_arch.go\n go_syscall_c_files = \\\n \tgo/syscall/errno.c \\\n-\tgo/syscall/wait.c\n+\t$(syscall_wait_c_file)\n \n libcalls.go: s-libcalls; @true\n s-libcalls: Makefile go/syscall/mksyscall.awk $(go_base_syscall_files)"}, {"sha": "2e1ea76eb2cd0bfd71c6edd19530c1a9c1640590", "filename": "libgo/Makefile.in", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de05aad6833ce65a439fbeb2994df169112cba5e/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de05aad6833ce65a439fbeb2994df169112cba5e/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=de05aad6833ce65a439fbeb2994df169112cba5e", "patch": "@@ -1837,10 +1837,15 @@ go_unicode_utf8_files = \\\n \n # Define ForkExec and Exec.\n @LIBGO_IS_RTEMS_TRUE@syscall_exec_file = go/syscall/exec_stubs.go\n-@HAVE_WAIT4_FALSE@syscall_wait_file = go/syscall/libcall_waitpid.go\n+@HAVE_WAIT4_FALSE@@LIBGO_IS_RTEMS_FALSE@syscall_wait_file = go/syscall/libcall_waitpid.go\n+@HAVE_WAIT4_TRUE@@LIBGO_IS_RTEMS_FALSE@syscall_wait_file = go/syscall/libcall_wait4.go\n \n # Define Wait4.\n-@HAVE_WAIT4_TRUE@syscall_wait_file = go/syscall/libcall_wait4.go\n+@LIBGO_IS_RTEMS_TRUE@syscall_wait_file = \n+@LIBGO_IS_RTEMS_FALSE@syscall_wait_c_file = go/syscall/wait.c\n+\n+# Support for pulling apart wait status.\n+@LIBGO_IS_RTEMS_TRUE@syscall_wait_c_file = \n @LIBGO_IS_RTEMS_FALSE@syscall_sleep_file = go/syscall/sleep_select.go\n \n # Define Sleep.\n@@ -1908,7 +1913,7 @@ go_syscall_files = \\\n \n go_syscall_c_files = \\\n \tgo/syscall/errno.c \\\n-\tgo/syscall/wait.c\n+\t$(syscall_wait_c_file)\n \n @LIBGO_IS_LINUX_FALSE@os_lib_inotify_lo = \n "}, {"sha": "35bb17487b74c6f47f3cf097352c2f7af000c871", "filename": "libgo/go/syscall/exec_stubs.go", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de05aad6833ce65a439fbeb2994df169112cba5e/libgo%2Fgo%2Fsyscall%2Fexec_stubs.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de05aad6833ce65a439fbeb2994df169112cba5e/libgo%2Fgo%2Fsyscall%2Fexec_stubs.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fsyscall%2Fexec_stubs.go?ref=de05aad6833ce65a439fbeb2994df169112cba5e", "patch": "@@ -7,17 +7,27 @@\n package syscall\n \n func ForkExec(argv0 string, argv []string, envv []string, dir string, fd []int) (pid int, err int) {\n-\treturn -1, ENOSYS;\n+\treturn -1, ENOSYS\n }\n \n func Exec(argv0 string, argv []string, envv []string) (err int) {\n-\treturn ENOSYS;\n+\treturn ENOSYS\n }\n \n func Wait4(pid int, wstatus *WaitStatus, options int, rusage *Rusage) (wpid int, err error) {\n-\treturn -1, ENOSYS;\n+\treturn -1, ENOSYS\n }\n \n+func (w WaitStatus) Exited() bool    { return false }\n+func (w WaitStatus) Signaled() bool  { return false }\n+func (w WaitStatus) Stopped() bool   { return false }\n+func (w WaitStatus) Continued() bool { return false }\n+func (w WaitStatus) CoreDump() bool  { return false }\n+func (w WaitStatus) ExitStatus() int { return 0 }\n+func (w WaitStatus) Signal() int     { return 0 }\n+func (w WaitStatus) StopSignal() int { return 0 }\n+func (w WaitStatus) TrapCause() int  { return 0 }\n+\n func raw_ptrace(request int, pid int, addr *byte, data *byte) Errno {\n \treturn ENOSYS\n }"}]}