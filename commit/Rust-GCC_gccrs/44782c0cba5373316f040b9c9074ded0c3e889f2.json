{"sha": "44782c0cba5373316f040b9c9074ded0c3e889f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDQ3ODJjMGNiYTUzNzMzMTZmMDQwYjljOTA3NGRlZDBjM2U4ODlmMg==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2011-08-26T16:10:45Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2011-08-26T16:10:45Z"}, "message": "re PR middle-end/50083 (All 32-bit fortran tests fail on 32-bit Solaris)\n\n\tPR middle-end/50083\n\t* convert.c (convert_to_integer) <BUIT_IN_ROUND{,F,L}>: Convert\n\tonly when TARGET_C99_FUNCTIONS.\n\t<BUILT_IN_NEARBYINT{,F,L}>: Ditto.\n\t<BUILT_IN_RINT{,F,L}>: Ditto.\n\nFrom-SVN: r178119", "tree": {"sha": "cab31e84d31bebf31ed45cd98b19f782affd5937", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cab31e84d31bebf31ed45cd98b19f782affd5937"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/44782c0cba5373316f040b9c9074ded0c3e889f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44782c0cba5373316f040b9c9074ded0c3e889f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44782c0cba5373316f040b9c9074ded0c3e889f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44782c0cba5373316f040b9c9074ded0c3e889f2/comments", "author": null, "committer": null, "parents": [{"sha": "0b11d702dbe669203a2f36430892905c526e03ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b11d702dbe669203a2f36430892905c526e03ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b11d702dbe669203a2f36430892905c526e03ab"}], "stats": {"total": 39, "additions": 26, "deletions": 13}, "files": [{"sha": "a067e2eceae3f945809bf0f6f1515e1e966fdd51", "filename": "gcc/ChangeLog", "status": "modified", "additions": 19, "deletions": 12, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44782c0cba5373316f040b9c9074ded0c3e889f2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44782c0cba5373316f040b9c9074ded0c3e889f2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=44782c0cba5373316f040b9c9074ded0c3e889f2", "patch": "@@ -1,3 +1,11 @@\n+2011-08-26  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR middle-end/50083\n+\t* convert.c (convert_to_integer) <BUIT_IN_ROUND{,F,L}>: Convert\n+\tonly when TARGET_C99_FUNCTIONS.\n+\t<BUILT_IN_NEARBYINT{,F,L}>: Ditto.\n+\t<BUILT_IN_RINT{,F,L}>: Ditto.\n+\n 2011-08-26  Michael Matz  <matz@suse.de>\n \t    Jakub Jelinek  <jakub@redhat.com>\n \n@@ -66,12 +74,12 @@\n \n 2011-08-26  Jiangning Liu  <jiangning.liu@arm.com>\n \n-       * config/arm/arm.md (*ior_scc_scc): Enable for Thumb2 as well.\n-       (*ior_scc_scc_cmp): Likewise\n-       (*and_scc_scc): Likewise.\n-       (*and_scc_scc_cmp): Likewise.\n-       (*and_scc_scc_nodom): Likewise.\n-       (*cmp_ite0, *cmp_ite1, *cmp_and, *cmp_ior): Handle Thumb2.\n+\t* config/arm/arm.md (*ior_scc_scc): Enable for Thumb2 as well.\n+\t(*ior_scc_scc_cmp): Likewise\n+\t(*and_scc_scc): Likewise.\n+\t(*and_scc_scc_cmp): Likewise.\n+\t(*and_scc_scc_nodom): Likewise.\n+\t(*cmp_ite0, *cmp_ite1, *cmp_and, *cmp_ior): Handle Thumb2.\n \n 2011-08-26  Jakub Jelinek  <jakub@redhat.com>\n \n@@ -103,11 +111,11 @@\n \n 2011-08-26  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n \n-       * config/arm/cortex-a9.md (\"cortex_a9_mult_long\"): New.\n-       (\"cortex_a9_multiply_long\"): New and use above.  Handle all\n+\t* config/arm/cortex-a9.md (\"cortex_a9_mult_long\"): New.\n+\t(\"cortex_a9_multiply_long\"): New and use above.  Handle all\n \tlong multiply cases.\n-       (\"cortex_a9_multiply\"): Handle smmul and smmulr.\n-       (\"cortex_a9_mac\"): Handle smmla.\n+\t(\"cortex_a9_multiply\"): Handle smmul and smmulr.\n+\t(\"cortex_a9_mac\"): Handle smmla.\n \n 2011-08-25  Richard Henderson  <rth@redhat.com>\n \n@@ -489,8 +497,7 @@\n \n 2011-08-22  H.J. Lu  <hongjiu.lu@intel.com>\n \n-\t* acinclude.m4 (gcc_AC_INITFINI_ARRAY): Error if __ELF__ isn't\n-\tdefined.\n+\t* acinclude.m4 (gcc_AC_INITFINI_ARRAY): Error if __ELF__ isn't defined.\n \t* configure: Regenerated.\n \n 2011-08-22  Jakub Jelinek  <jakub@redhat.com>"}, {"sha": "a647193ca949e8f425984eefe6e0b695ce79e1e9", "filename": "gcc/convert.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44782c0cba5373316f040b9c9074ded0c3e889f2/gcc%2Fconvert.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44782c0cba5373316f040b9c9074ded0c3e889f2/gcc%2Fconvert.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconvert.c?ref=44782c0cba5373316f040b9c9074ded0c3e889f2", "patch": "@@ -469,6 +469,9 @@ convert_to_integer (tree type, tree expr)\n \t  break;\n \n \tCASE_FLT_FN (BUILT_IN_ROUND):\n+\t  /* Only convert in ISO C99 mode.  */\n+\t  if (!TARGET_C99_FUNCTIONS)\n+\t    break;\n \t  if (outprec < TYPE_PRECISION (integer_type_node)\n \t      || (outprec == TYPE_PRECISION (integer_type_node)\n \t\t  && !TYPE_UNSIGNED (type)))\n@@ -487,11 +490,14 @@ convert_to_integer (tree type, tree expr)\n \t    break;\n \t  /* ... Fall through ...  */\n \tCASE_FLT_FN (BUILT_IN_RINT):\n+\t  /* Only convert in ISO C99 mode.  */\n+\t  if (!TARGET_C99_FUNCTIONS)\n+\t    break;\n \t  if (outprec < TYPE_PRECISION (integer_type_node)\n \t      || (outprec == TYPE_PRECISION (integer_type_node)\n \t\t  && !TYPE_UNSIGNED (type)))\n \t    fn = mathfn_built_in (s_intype, BUILT_IN_IRINT);\n-\t  else if (outprec < TYPE_PRECISION (long_integer_type_node)\n+\t  else if (outprec == TYPE_PRECISION (long_integer_type_node)\n \t\t   && !TYPE_UNSIGNED (type))\n \t    fn = mathfn_built_in (s_intype, BUILT_IN_LRINT);\n \t  else if (outprec == TYPE_PRECISION (long_long_integer_type_node)"}]}