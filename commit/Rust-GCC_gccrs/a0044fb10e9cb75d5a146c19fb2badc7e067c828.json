{"sha": "a0044fb10e9cb75d5a146c19fb2badc7e067c828", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTAwNDRmYjEwZTljYjc1ZDVhMTQ2YzE5ZmIyYmFkYzdlMDY3YzgyOA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1992-09-28T12:18:10Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1992-09-28T12:18:10Z"}, "message": "(subsi3): Remove last change.\n\n(allocate_stack): Go back to calling subsi3.\n\nFrom-SVN: r2265", "tree": {"sha": "c235eb4a582be374bfe4bf161b6e98fb553813d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c235eb4a582be374bfe4bf161b6e98fb553813d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a0044fb10e9cb75d5a146c19fb2badc7e067c828", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0044fb10e9cb75d5a146c19fb2badc7e067c828", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0044fb10e9cb75d5a146c19fb2badc7e067c828", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0044fb10e9cb75d5a146c19fb2badc7e067c828/comments", "author": null, "committer": null, "parents": [{"sha": "84b55618e8191479ebc1935149354793faa27020", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84b55618e8191479ebc1935149354793faa27020", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84b55618e8191479ebc1935149354793faa27020"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "a47eaf256ce9109eecd2f4de0873333d8fe150cd", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0044fb10e9cb75d5a146c19fb2badc7e067c828/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0044fb10e9cb75d5a146c19fb2badc7e067c828/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=a0044fb10e9cb75d5a146c19fb2badc7e067c828", "patch": "@@ -259,7 +259,15 @@\n \t(minus:SI (match_operand:SI 1 \"reg_or_short_operand\" \"\")\n \t\t  (match_operand:SI 2 \"reg_or_cint_operand\" \"\")))]\n   \"\"\n-  \"\")\n+  \"\n+{\n+  if (GET_CODE (operands[2]) == CONST_INT)\n+    {\n+      emit_insn (gen_addsi3 (operands[0], operands[1],\n+\t\t\t     negate_rtx (SImode, operands[2])));\n+      DONE;\n+    }\n+}\")\n \n ;; For SMIN, SMAX, UMIN, and UMAX, we use DEFINE_EXPAND's that involve a doz[i]\n ;; instruction and some auxiliary computations.  Then we just have a single\n@@ -2893,8 +2901,7 @@\n   rtx stack_bot = gen_rtx (MEM, Pmode, stack_pointer_rtx);\n \n   emit_move_insn (chain, stack_bot);\n-  emit_insn (gen_addsi3 (stack_pointer_rtx, stack_pointer_rtx,\n-\t\t\t negate_rtx (SImode, operands[0])));\n+  emit_insn (gen_subsi3 (stack_pointer_rtx, stack_pointer_rtx, operands[0]));\n   emit_move_insn (stack_bot, chain);\n   DONE;\n }\")"}]}