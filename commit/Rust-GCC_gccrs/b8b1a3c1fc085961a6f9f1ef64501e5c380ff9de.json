{"sha": "b8b1a3c1fc085961a6f9f1ef64501e5c380ff9de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjhiMWEzYzFmYzA4NTk2MWE2ZjlmMWVmNjQ1MDFlNWMzODBmZjlkZQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-07-25T03:19:28Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-07-25T03:19:28Z"}, "message": "decl.c (lookup_name_real): OK, do return the from_obj value unless got_object depends on template parms.\n\n\t* decl.c (lookup_name_real): OK, do return the from_obj value\n\tunless got_object depends on template parms.\n\nFrom-SVN: r21370", "tree": {"sha": "8485d87dc33117b077a6dbd4798d60f3cb61b5dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8485d87dc33117b077a6dbd4798d60f3cb61b5dd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b8b1a3c1fc085961a6f9f1ef64501e5c380ff9de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8b1a3c1fc085961a6f9f1ef64501e5c380ff9de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8b1a3c1fc085961a6f9f1ef64501e5c380ff9de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8b1a3c1fc085961a6f9f1ef64501e5c380ff9de/comments", "author": null, "committer": null, "parents": [{"sha": "dd7ff7a98fc5a8394174a8a5f9d6e6b5e4efcd02", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd7ff7a98fc5a8394174a8a5f9d6e6b5e4efcd02", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd7ff7a98fc5a8394174a8a5f9d6e6b5e4efcd02"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "c44d18a9627cafa1e4a69effe4cd23355eb9df0b", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b8b1a3c1fc085961a6f9f1ef64501e5c380ff9de/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b8b1a3c1fc085961a6f9f1ef64501e5c380ff9de/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=b8b1a3c1fc085961a6f9f1ef64501e5c380ff9de", "patch": "@@ -1,5 +1,8 @@\n 1998-07-24  Jason Merrill  <jason@yorick.cygnus.com>\n \n+\t* decl.c (lookup_name_real): OK, do return the from_obj value\n+\tunless got_object depends on template parms.\n+\n \t* parse.y (nested_name_specifier_1): Pull out the TYPE_MAIN_VARIANT.\n \n \t* pt.c (coerce_template_parms): Also complain about local enums."}, {"sha": "0149679cb9e8f4faf466c0daf03c6ba60bb0bb59", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b8b1a3c1fc085961a6f9f1ef64501e5c380ff9de/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b8b1a3c1fc085961a6f9f1ef64501e5c380ff9de/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=b8b1a3c1fc085961a6f9f1ef64501e5c380ff9de", "patch": "@@ -5085,8 +5085,11 @@ lookup_name_real (name, prefer_type, nonclass, namespaces_only)\n \t\t\t  TREE_TYPE (val));\n \t    }\n \n-\t  /* We don't change val to from_obj here because that breaks\n-\t     implicit typename for destructor calls.  */\n+\t  /* We don't change val to from_obj if got_object depends on\n+\t     template parms because that breaks implicit typename for\n+\t     destructor calls.  */\n+\t  if (! uses_template_parms (got_object))\n+\t    val = got_object;\n \t}\n \n       if ((TREE_CODE (val) == TEMPLATE_DECL && looking_for_template)"}]}