{"sha": "7a9007db0c3a30eb10e768cb57eebeb43ee96eae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2E5MDA3ZGIwYzNhMzBlYjEwZTc2OGNiNTdlZWJlYjQzZWU5NmVhZQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-06-11T16:04:46Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-06-11T16:04:46Z"}, "message": "Add new tests\n\nFrom-SVN: r125622", "tree": {"sha": "921d80b909dbe8a48aaf7e56aa0a026f713dd8f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/921d80b909dbe8a48aaf7e56aa0a026f713dd8f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a9007db0c3a30eb10e768cb57eebeb43ee96eae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a9007db0c3a30eb10e768cb57eebeb43ee96eae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a9007db0c3a30eb10e768cb57eebeb43ee96eae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/comments", "author": null, "committer": null, "parents": [{"sha": "12753674ec3e75275eca8b704c36d6dc3762ade6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12753674ec3e75275eca8b704c36d6dc3762ade6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12753674ec3e75275eca8b704c36d6dc3762ade6"}], "stats": {"total": 140, "additions": 140, "deletions": 0}, "files": [{"sha": "d761cd0d99090c2836e96957625577219dd7648b", "filename": "gcc/testsuite/gnat.dg/assert1.adb", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Fassert1.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Fassert1.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fassert1.adb?ref=7a9007db0c3a30eb10e768cb57eebeb43ee96eae", "patch": "@@ -0,0 +1,39 @@\n+--  { dg-do run }\n+--  { dg-options \"-gnatws\" }\n+\n+pragma Assertion_Policy (Check);\n+with Text_IO; use Text_IO;\n+procedure assert1 is\n+   type p1 is array (1 .. 113) of Boolean;\n+   pragma Pack (p1);\n+   type p2 is array (1 .. 13) of Boolean;\n+   pragma Pack (p2);\n+   type p3 is array (1 .. 113) of Boolean;\n+   pragma Pack (p3);\n+   for p3'size use 113;\n+   type p4 is array (1 .. 13) of Boolean;\n+   pragma Pack (p4);\n+   for p4'size use 13;\n+   v1 : p1;\n+   v2 : p2;\n+   v3 : p3;\n+   v4 : p4;\n+begin\n+   pragma Assert (p1'Size = 120);\n+   pragma Assert (p2'Size = 13);\n+   pragma Assert (p3'Size = 113);\n+   pragma Assert (p4'Size = 13);\n+   pragma Assert (p1'Value_Size = 120);\n+   pragma Assert (p2'Value_Size = 13);\n+   pragma Assert (p3'Value_Size = 113);\n+   pragma Assert (p4'Value_Size = 13);\n+   pragma Assert (p1'Object_Size = 120);\n+   pragma Assert (p2'Object_Size = 16);\n+   pragma Assert (p3'Object_Size = 120);\n+   pragma Assert (p4'Object_Size = 16);\n+   pragma Assert (v1'Size = 120);\n+   pragma Assert (v2'Size = 16);\n+   pragma Assert (v3'Size = 120);\n+   pragma Assert (v4'Size = 16);\n+   null;\n+end;"}, {"sha": "bdad37850cb10d3ed5c6be846701d48077727fcc", "filename": "gcc/testsuite/gnat.dg/g_tables.adb", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Fg_tables.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Fg_tables.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fg_tables.adb?ref=7a9007db0c3a30eb10e768cb57eebeb43ee96eae", "patch": "@@ -0,0 +1,8 @@\n+--  { dg-options \"-gnatws\" }\n+\n+package body G_Tables is\n+   function Create (L : Natural) return Table is\n+   begin\n+      return T : Table (1 .. L);\n+   end Create;\n+end G_Tables;"}, {"sha": "34126882a5927933ae3d9c5ede0898afae7d630d", "filename": "gcc/testsuite/gnat.dg/g_tables.ads", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Fg_tables.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Fg_tables.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fg_tables.ads?ref=7a9007db0c3a30eb10e768cb57eebeb43ee96eae", "patch": "@@ -0,0 +1,9 @@\n+generic\n+   type Component is private;\n+package G_Tables is\n+   type Table (<>) is limited private;\n+\n+   function  Create (L : Natural) return Table;\n+private\n+   type Table is array (Positive range <>) of Component;\n+end G_Tables;"}, {"sha": "cf0fb5d5fac8f9bbbf5355583a5ef4884c4fea64", "filename": "gcc/testsuite/gnat.dg/sort1.adb", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Fsort1.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Fsort1.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fsort1.adb?ref=7a9007db0c3a30eb10e768cb57eebeb43ee96eae", "patch": "@@ -0,0 +1,27 @@\n+with GNAT.Heap_Sort_G;\n+function sort1 (S : String) return String is\n+   Result : String (1 .. S'Length) := S;\n+   Temp : Character;\n+\n+   procedure Move (From : Natural; To : Natural) is \n+   begin\n+      if From = 0 then Result (To) := Temp;\n+      elsif To = 0 then Temp := Result (From);\n+      else Result (To) := Result (From);                       \n+              end if;                                          \n+   end Move; \n+   \n+   function Lt (Op1, Op2 : Natural) return Boolean is\n+   begin\n+      if Op1 = 0 then return Temp < Result (Op2);\n+      elsif Op2 = 0 then return Result (Op1) < Temp;\n+      else return Result (Op1) < Result (Op2);\n+      end if;\n+   end Lt;\n+   \n+   package SP is new GNAT.Heap_Sort_G (Move, Lt);\n+   \n+begin\n+   SP.Sort (S'Length);\n+   return Result;\n+end;"}, {"sha": "6c972a489a416231ffebfb1a015a6022d0ee96d7", "filename": "gcc/testsuite/gnat.dg/sort1.ads", "status": "added", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Fsort1.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Fsort1.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fsort1.ads?ref=7a9007db0c3a30eb10e768cb57eebeb43ee96eae", "patch": "@@ -0,0 +1,2 @@\n+function sort1 (S : String) return String;\n+pragma Pure (sort1);"}, {"sha": "084ad38bf45e46b831ab934d90ea3a7bbc97604a", "filename": "gcc/testsuite/gnat.dg/sort2.adb", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Fsort2.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Fsort2.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fsort2.adb?ref=7a9007db0c3a30eb10e768cb57eebeb43ee96eae", "patch": "@@ -0,0 +1,9 @@\n+--  { dg-do run }\n+\n+with sort1;\n+procedure sort2 is\n+begin\n+   if Sort1 (\"hello world\") /= \" dehllloorw\" then\n+      raise Program_Error;\n+   end if;\n+end sort2;"}, {"sha": "d0abbfa576398453bc31c44d97140b8576e3471b", "filename": "gcc/testsuite/gnat.dg/test_tables.adb", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Ftest_tables.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Ftest_tables.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Ftest_tables.adb?ref=7a9007db0c3a30eb10e768cb57eebeb43ee96eae", "patch": "@@ -0,0 +1,11 @@\n+--  { dg-do compile }\n+--  { dg-options \"-gnatws\" }\n+\n+with G_tables;\n+procedure test_tables is\n+   package Inst is new G_Tables (Integer);\n+   use Inst;\n+   It : Inst.Table := Create (15);\n+begin\n+   null;\n+end;"}, {"sha": "3b6829a967d37ef0fc2f8d74ffc0be2c3d4c54a5", "filename": "gcc/testsuite/gnat.dg/tfren.adb", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Ftfren.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a9007db0c3a30eb10e768cb57eebeb43ee96eae/gcc%2Ftestsuite%2Fgnat.dg%2Ftfren.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Ftfren.adb?ref=7a9007db0c3a30eb10e768cb57eebeb43ee96eae", "patch": "@@ -0,0 +1,35 @@\n+--  { dg-do run }\n+--  { dg-options \"-gnatws\" }\n+\n+procedure Tfren is\n+   type R;\n+   type Ar is access all R;\n+   type R is record F1: Integer; F2: Ar; end record;\n+   \n+   for R use record\n+      F1 at 1 range 0..31;\n+     F2 at 5 range 0..63;\n+   end record;                                                \n+\n+   procedure Foo (RR1, RR2: Ar);\n+\n+   procedure Foo (RR1, RR2 : Ar) is\n+   begin\n+      if RR2.all.F1 /= 55 then raise program_error; end if;\n+   end;\n+\n+   R3: aliased R := (55, Null);\n+   R2: aliased R := (44, R3'Access);\n+   R1: aliased R := (22, R2'Access);\n+   P: Ar := R1'Access;\n+\n+   X: Ar renames P.all.F2;\n+   Y: Ar renames X.all.F2;\n+\n+begin\n+   P := R2'Access;\n+   R1.F2 := R1'Access;\n+   Foo (X, Y);\n+   Y.F1 := -111;\n+   if Y.F1 /= -111 then raise Constraint_Error; end if;\n+end Tfren;"}]}