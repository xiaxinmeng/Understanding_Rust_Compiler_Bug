{"sha": "7eec3114ebe8d4c55c64b4e47546d3d8f95eb09b", "node_id": "C_kwDOANBUbNoAKDdlZWMzMTE0ZWJlOGQ0YzU1YzY0YjRlNDc1NDZkM2Q4Zjk1ZWIwOWI", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-12-02T16:18:43Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-12-09T00:32:44Z"}, "message": "libstdc++: Change class-key for duration and time_point to class\n\nWe define these with the 'struct' keyword, but the standard uses\n'class'. This results in warnings if users try to refer to them using\nelaborated type specifiers.\n\nlibstdc++-v3/ChangeLog:\n\n\t* include/bits/chrono.h (duration, time_point): Change 'struct'\n\tto 'class'.", "tree": {"sha": "90dadf637cf2c5fbd66a57d8426d99ab6a4b7f0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/90dadf637cf2c5fbd66a57d8426d99ab6a4b7f0d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7eec3114ebe8d4c55c64b4e47546d3d8f95eb09b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7eec3114ebe8d4c55c64b4e47546d3d8f95eb09b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7eec3114ebe8d4c55c64b4e47546d3d8f95eb09b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7eec3114ebe8d4c55c64b4e47546d3d8f95eb09b/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e6110da479951b759a12c5618f5304187b650326", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6110da479951b759a12c5618f5304187b650326", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6110da479951b759a12c5618f5304187b650326"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "496e9485a73b5f4782ccacea796de1da1223d537", "filename": "libstdc++-v3/include/bits/chrono.h", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7eec3114ebe8d4c55c64b4e47546d3d8f95eb09b/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fchrono.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7eec3114ebe8d4c55c64b4e47546d3d8f95eb09b/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fchrono.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fchrono.h?ref=7eec3114ebe8d4c55c64b4e47546d3d8f95eb09b", "patch": "@@ -59,11 +59,11 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \n     /// `chrono::duration` represents a distance between two points in time\n     template<typename _Rep, typename _Period = ratio<1>>\n-      struct duration;\n+      class duration;\n \n     /// `chrono::time_point` represents a point in time as measured by a clock\n     template<typename _Clock, typename _Dur = typename _Clock::duration>\n-      struct time_point;\n+      class time_point;\n     /// @}\n   }\n \n@@ -431,14 +431,13 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n     /// @endcond\n \n     template<typename _Rep, typename _Period>\n-      struct duration\n+      class duration\n       {\n \tstatic_assert(!__is_duration<_Rep>::value, \"rep cannot be a duration\");\n \tstatic_assert(__is_ratio<_Period>::value,\n \t\t      \"period must be a specialization of ratio\");\n \tstatic_assert(_Period::num > 0, \"period must be positive\");\n \n-      private:\n \ttemplate<typename _Rep2>\n \t  using __is_float = treat_as_floating_point<_Rep2>;\n \n@@ -844,11 +843,12 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n #undef _GLIBCXX_CHRONO_INT64_T\n \n     template<typename _Clock, typename _Dur>\n-      struct time_point\n+      class time_point\n       {\n \tstatic_assert(__is_duration<_Dur>::value,\n \t    \"duration must be a specialization of std::chrono::duration\");\n \n+      public:\n \ttypedef _Clock\t\t\t\t\t\tclock;\n \ttypedef _Dur\t\t\t\t\t\tduration;\n \ttypedef typename duration::rep\t\t\t\trep;"}]}