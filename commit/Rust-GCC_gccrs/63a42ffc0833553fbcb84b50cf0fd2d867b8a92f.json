{"sha": "63a42ffc0833553fbcb84b50cf0fd2d867b8a92f", "node_id": "C_kwDOANBUbNoAKDYzYTQyZmZjMDgzMzU1M2ZiY2I4NGI1MGNmMGZkMmQ4NjdiOGE5MmY", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2022-12-09T02:19:24Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2022-12-09T02:19:24Z"}, "message": "analyzer: rename region-model-impl-calls.cc to kf.cc\n\ngcc/ChangeLog:\n\t* Makefile.in (ANALYZER_OBJS): Update for renaming of\n\tanalyzer/region-model-impl-calls.cc to analyzer/kf.cc.\n\ngcc/analyzer/ChangeLog:\n\t* analyzer.h (class known_function): Expand comment.\n\t* region-model-impl-calls.cc: Rename to...\n\t* kf.cc: ...this.\n\t* known-function-manager.h (class known_function_manager): Add\n\tleading comment.\n\nSigned-off-by: David Malcolm <dmalcolm@redhat.com>", "tree": {"sha": "ebc40c0dcbb78223621c8c88d21b190362aec4cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ebc40c0dcbb78223621c8c88d21b190362aec4cc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/63a42ffc0833553fbcb84b50cf0fd2d867b8a92f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63a42ffc0833553fbcb84b50cf0fd2d867b8a92f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/63a42ffc0833553fbcb84b50cf0fd2d867b8a92f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63a42ffc0833553fbcb84b50cf0fd2d867b8a92f/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7dc0ecafe60b224b3343667f55eaaa501f390925", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7dc0ecafe60b224b3343667f55eaaa501f390925", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7dc0ecafe60b224b3343667f55eaaa501f390925"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "995d77f96c40be6a325ba66baf1ac537e0229b2d", "filename": "gcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63a42ffc0833553fbcb84b50cf0fd2d867b8a92f/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63a42ffc0833553fbcb84b50cf0fd2d867b8a92f/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=63a42ffc0833553fbcb84b50cf0fd2d867b8a92f", "patch": "@@ -1269,6 +1269,7 @@ ANALYZER_OBJS = \\\n \tanalyzer/feasible-graph.o \\\n \tanalyzer/function-set.o \\\n \tanalyzer/infinite-recursion.o \\\n+\tanalyzer/kf.o \\\n \tanalyzer/kf-analyzer.o \\\n \tanalyzer/kf-lang-cp.o \\\n \tanalyzer/known-function-manager.o \\\n@@ -1278,7 +1279,6 @@ ANALYZER_OBJS = \\\n \tanalyzer/region.o \\\n \tanalyzer/region-model.o \\\n \tanalyzer/region-model-asm.o \\\n-\tanalyzer/region-model-impl-calls.o \\\n \tanalyzer/region-model-manager.o \\\n \tanalyzer/region-model-reachability.o \\\n \tanalyzer/sm.o \\"}, {"sha": "19e5b9011fe7b5a5b391dd760b32325e3ede61ca", "filename": "gcc/analyzer/analyzer.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63a42ffc0833553fbcb84b50cf0fd2d867b8a92f/gcc%2Fanalyzer%2Fanalyzer.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63a42ffc0833553fbcb84b50cf0fd2d867b8a92f/gcc%2Fanalyzer%2Fanalyzer.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fanalyzer%2Fanalyzer.h?ref=63a42ffc0833553fbcb84b50cf0fd2d867b8a92f", "patch": "@@ -229,7 +229,8 @@ extern location_t get_stmt_location (const gimple *stmt, function *fun);\n extern bool compat_types_p (tree src_type, tree dst_type);\n \n /* Abstract base class for simulating the behavior of known functions,\n-   supplied by the core of the analyzer, or by plugins.  */\n+   supplied by the core of the analyzer, or by plugins.\n+   The former are typically implemented in the various kf*.cc  */\n \n class known_function\n {"}, {"sha": "ff2f1b1ef9c1263574bb7342f73601535e8f11ee", "filename": "gcc/analyzer/kf.cc", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63a42ffc0833553fbcb84b50cf0fd2d867b8a92f/gcc%2Fanalyzer%2Fkf.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63a42ffc0833553fbcb84b50cf0fd2d867b8a92f/gcc%2Fanalyzer%2Fkf.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fanalyzer%2Fkf.cc?ref=63a42ffc0833553fbcb84b50cf0fd2d867b8a92f", "previous_filename": "gcc/analyzer/region-model-impl-calls.cc"}, {"sha": "7bacafe8e24973c1ce0e292c230fc22550a9170f", "filename": "gcc/analyzer/known-function-manager.h", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63a42ffc0833553fbcb84b50cf0fd2d867b8a92f/gcc%2Fanalyzer%2Fknown-function-manager.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63a42ffc0833553fbcb84b50cf0fd2d867b8a92f/gcc%2Fanalyzer%2Fknown-function-manager.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fanalyzer%2Fknown-function-manager.h?ref=63a42ffc0833553fbcb84b50cf0fd2d867b8a92f", "patch": "@@ -25,6 +25,18 @@ along with GCC; see the file COPYING3.  If not see\n \n namespace ana {\n \n+/* Instances of known_function are registered with the known_function_manager\n+   when the analyzer starts.\n+\n+   The known_function_manager has responsibility for determining which\n+   known_function instance (if any) is relevant at a call site, by checking\n+   name or id, and by calling known_function::matches_call_types_p to ensure\n+   that the known_function's preconditions hold (typically assumptions about\n+   types e.g. that \"has 3 args, and that arg 0 is of pointer type\").\n+\n+   The known_function subclasses themselves have responsibility for\n+   determining the outcome(s) of the call.  */\n+\n class known_function_manager : public log_user\n {\n public:"}]}