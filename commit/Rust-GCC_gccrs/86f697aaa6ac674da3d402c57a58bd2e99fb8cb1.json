{"sha": "86f697aaa6ac674da3d402c57a58bd2e99fb8cb1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODZmNjk3YWFhNmFjNjc0ZGEzZDQwMmM1N2E1OGJkMmU5OWZiOGNiMQ==", "commit": {"author": {"name": "Michael Collison", "email": "michael.collison@arm.com", "date": "2018-02-06T20:27:08Z"}, "committer": {"name": "Michael Collison", "email": "collison@gcc.gnu.org", "date": "2018-02-06T20:27:08Z"}, "message": "2018-02-06  Michael Collison  <michael.collison@arm.com>\n\n\t* config/arm/thumb2.md:\n\t(*thumb2_mov_negscc): Split only if TARGET_THUMB2 && !arm_restrict_it.\n\t(*thumb_mov_notscc): Ditto.\n\t* gcc.target/arm/pr7676.c: New testcase.\n\nFrom-SVN: r257430", "tree": {"sha": "e5c0d8b3ac84274daab555cefc52fdff6dbff869", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e5c0d8b3ac84274daab555cefc52fdff6dbff869"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/86f697aaa6ac674da3d402c57a58bd2e99fb8cb1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86f697aaa6ac674da3d402c57a58bd2e99fb8cb1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86f697aaa6ac674da3d402c57a58bd2e99fb8cb1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86f697aaa6ac674da3d402c57a58bd2e99fb8cb1/comments", "author": null, "committer": null, "parents": [{"sha": "478a853e03cc6561f2698a17d98b332d6296c40e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/478a853e03cc6561f2698a17d98b332d6296c40e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/478a853e03cc6561f2698a17d98b332d6296c40e"}], "stats": {"total": 34, "additions": 32, "deletions": 2}, "files": [{"sha": "c40d7e669cbdf5c89a83b9470e36c382d976bd8c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86f697aaa6ac674da3d402c57a58bd2e99fb8cb1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86f697aaa6ac674da3d402c57a58bd2e99fb8cb1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=86f697aaa6ac674da3d402c57a58bd2e99fb8cb1", "patch": "@@ -1,3 +1,9 @@\n+2018-02-06  Michael Collison  <michael.collison@arm.com>\n+\n+\t* config/arm/thumb2.md:\n+\t(*thumb2_mov_negscc): Split only if TARGET_THUMB2 && !arm_restrict_it.\n+\t(*thumb_mov_notscc): Ditto.\n+\n 2018-02-06  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \tPR target/84154"}, {"sha": "c42670f8643c3286bc5abf537d4fd0483cba68ac", "filename": "gcc/config/arm/thumb2.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86f697aaa6ac674da3d402c57a58bd2e99fb8cb1/gcc%2Fconfig%2Farm%2Fthumb2.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86f697aaa6ac674da3d402c57a58bd2e99fb8cb1/gcc%2Fconfig%2Farm%2Fthumb2.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fthumb2.md?ref=86f697aaa6ac674da3d402c57a58bd2e99fb8cb1", "patch": "@@ -362,7 +362,7 @@\n \t\t [(match_operand 2 \"cc_register\" \"\") (const_int 0)])))]\n   \"TARGET_THUMB2 && !arm_restrict_it\"\n   \"#\"   ; \"ite\\\\t%D1\\;mov%D1\\\\t%0, #0\\;mvn%d1\\\\t%0, #0\"\n-  \"TARGET_THUMB2\"\n+  \"&& true\"\n   [(set (match_dup 0)\n         (if_then_else:SI (match_dup 1)\n                          (match_dup 3)\n@@ -410,7 +410,7 @@\n \t\t [(match_operand 2 \"cc_register\" \"\") (const_int 0)])))]\n   \"TARGET_THUMB2 && !arm_restrict_it\"\n   \"#\"   ; \"ite\\\\t%D1\\;mvn%D1\\\\t%0, #0\\;mvn%d1\\\\t%0, #1\"\n-  \"TARGET_THUMB2\"\n+  \"&& true\"\n   [(set (match_dup 0)\n         (if_then_else:SI (match_dup 1)\n                          (match_dup 3)"}, {"sha": "14bcd62496247414f0384ca964d37faf98ff88ec", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86f697aaa6ac674da3d402c57a58bd2e99fb8cb1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86f697aaa6ac674da3d402c57a58bd2e99fb8cb1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=86f697aaa6ac674da3d402c57a58bd2e99fb8cb1", "patch": "@@ -1,3 +1,7 @@\n+2018-02-06  Michael Collison  <michael.collison@arm.com>\n+\n+\t* gcc.target/arm/pr7676.c: New testcase for incorrect splitting.\n+\n 2018-02-06  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n \n \t* gcc.target/powerpc/safe-indirect-jump-1.c: Detect deprecation"}, {"sha": "349d7a371240358e7799de37c1e39e6e17d95756", "filename": "gcc/testsuite/gcc.target/arm/pr7676.c", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86f697aaa6ac674da3d402c57a58bd2e99fb8cb1/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr7676.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86f697aaa6ac674da3d402c57a58bd2e99fb8cb1/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr7676.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr7676.c?ref=86f697aaa6ac674da3d402c57a58bd2e99fb8cb1", "patch": "@@ -0,0 +1,20 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O1 -march=armv8-a -mfloat-abi=soft -mthumb\" }  */\n+/* { dg-skip-if \"Do not combine float-abi= hard | soft | softfp\" {*-*-*} {\"-mfloat-abi=hard\" -mfloat-abi=softfp } {\"\"} } */\n+int a;\n+\n+void fn2 (long long);\n+\n+void\n+fn1 ()\n+{\n+  long long b;\n+\n+  for (;;)\n+    {\n+      b = ((a == (int)&fn1) <= 0 ^ 18446744073709551608ULL)\n+\t- 18446744073709551615ULL;\n+\n+      fn2 (b);\n+    }\n+}"}]}