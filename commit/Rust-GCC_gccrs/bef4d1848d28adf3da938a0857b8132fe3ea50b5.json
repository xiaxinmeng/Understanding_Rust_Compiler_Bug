{"sha": "bef4d1848d28adf3da938a0857b8132fe3ea50b5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmVmNGQxODQ4ZDI4YWRmM2RhOTM4YTA4NTdiODEzMmZlM2VhNTBiNQ==", "commit": {"author": {"name": "Wolfgang Gellerich", "email": "gellerich@de.ibm.com", "date": "2007-04-25T08:08:01Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2007-04-25T08:08:01Z"}, "message": "equiv_6.f90 (set_arrays): Replaced subroutine with two new subroutines to avoid parameter-induced aliasing.\n\n2007-04-25  Wolfgang Gellerich  <gellerich@de.ibm.com>\n\n\t* gfortran.dg/equiv_6.f90 (set_arrays): Replaced subroutine\n\twith two new subroutines to avoid parameter-induced aliasing.\n\t* gfortran.dg/equiv_6.f90 (set_array_listpr): New.\n\t* gfortran.dg/equiv_6.f90 (set_array_lisbit): New.\n\nFrom-SVN: r124146", "tree": {"sha": "8db81cd8872a377a99cd332d253e4825c4abaf6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8db81cd8872a377a99cd332d253e4825c4abaf6a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bef4d1848d28adf3da938a0857b8132fe3ea50b5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bef4d1848d28adf3da938a0857b8132fe3ea50b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bef4d1848d28adf3da938a0857b8132fe3ea50b5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bef4d1848d28adf3da938a0857b8132fe3ea50b5/comments", "author": null, "committer": null, "parents": [{"sha": "f5c7290e1e8e7401914ebcabff4f39067e5d8220", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5c7290e1e8e7401914ebcabff4f39067e5d8220", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5c7290e1e8e7401914ebcabff4f39067e5d8220"}], "stats": {"total": 33, "additions": 27, "deletions": 6}, "files": [{"sha": "52629abbdbe0b16d785610b65b9db0fdca964299", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef4d1848d28adf3da938a0857b8132fe3ea50b5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef4d1848d28adf3da938a0857b8132fe3ea50b5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bef4d1848d28adf3da938a0857b8132fe3ea50b5", "patch": "@@ -1,3 +1,10 @@\n+2007-04-25  Wolfgang Gellerich  <gellerich@de.ibm.com>\n+\n+\t* gfortran.dg/equiv_6.f90 (set_arrays): Replaced subroutine\n+\twith two new subroutines to avoid parameter-induced aliasing.\n+\t* gfortran.dg/equiv_6.f90 (set_array_listpr): New.\n+\t* gfortran.dg/equiv_6.f90 (set_array_lisbit): New.\n+\n 2007-04-24  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n \n \t* gcc.dg/Warray-bounds.c: XFAIL test on 32-bit hppa targets."}, {"sha": "1ab1a051373e6c9216477d4b4c6553633cd756c4", "filename": "gcc/testsuite/gfortran.dg/equiv_6.f90", "status": "modified", "additions": 20, "deletions": 6, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef4d1848d28adf3da938a0857b8132fe3ea50b5/gcc%2Ftestsuite%2Fgfortran.dg%2Fequiv_6.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef4d1848d28adf3da938a0857b8132fe3ea50b5/gcc%2Ftestsuite%2Fgfortran.dg%2Fequiv_6.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fequiv_6.f90?ref=bef4d1848d28adf3da938a0857b8132fe3ea50b5", "patch": "@@ -14,7 +14,13 @@ program check_6\n               (lispat(1),listpr(10))\n   lischk = (/0, 0, 0, 0, 0, 0, 0, 0, 0, 1, &\n              2, 0, 0, 5, 6, 7, 8, 9,10, 0/)\n-  call set_arrays (listpr, lisbit)\n+\n+! These two calls replace the previously made call to subroutine\n+! set_arrays which was erroneous because of parameter-induced \n+! aliasing.\n+  call set_array_listpr (listpr)\n+  call set_array_lisbit (lisbit)\n+\n   if (any (listpr.ne.lischk)) call abort ()\n   call sub1\n   call sub2\n@@ -28,7 +34,8 @@ subroutine sub1\n   equivalence (listpr(10),lisbit(1)), &\n               (listpr(10),mwkx(10)),  &\n               (listpr(10),lispat(1))\n-  call set_arrays (listpr, lisbit)\n+  call set_array_listpr (listpr)\n+  call set_array_lisbit (lisbit)\n   if (any (listpr .ne. lischk)) call abort ()\n end\n !\n@@ -41,7 +48,8 @@ subroutine sub2\n   dimension    listpr(20),lisbit(10),lispat(8)\n   equivalence (lispat(1),listpr(10)), &\n               (mwkx(10),lisbit(1),listpr(10))\n-  call set_arrays (listpr, lisbit)\n+  call set_array_listpr (listpr)\n+  call set_array_lisbit (lisbit)\n   if (any (listpr .ne. lischk)) call abort ()\n end\n ! This gave correct results because the order in which the\n@@ -52,12 +60,18 @@ subroutine sub3\n   dimension    listpr(20),lisbit(10),lispat(8)\n   equivalence (listpr(10),lisbit(1),mwkx(10)), &\n               (lispat(1),listpr(10))\n-  call set_arrays (listpr, lisbit)\n+  call set_array_listpr (listpr)\n+  call set_array_lisbit (lisbit)\n   if (any (listpr .ne. lischk)) call abort ()\n end\n-subroutine set_arrays (listpr, lisbit)\n-  dimension listpr(20),lisbit(10)\n+\n+subroutine set_array_listpr (listpr)\n+  dimension listpr(20)\n   listpr = 0\n+end\n+\n+subroutine set_array_lisbit (lisbit)\n+  dimension lisbit(10)\n   lisbit = (/(i, i = 1, 10)/)\n   lisbit((/3,4/)) = 0\n end"}]}