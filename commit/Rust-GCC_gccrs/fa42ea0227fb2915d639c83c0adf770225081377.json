{"sha": "fa42ea0227fb2915d639c83c0adf770225081377", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmE0MmVhMDIyN2ZiMjkxNWQ2MzljODNjMGFkZjc3MDIyNTA4MTM3Nw==", "commit": {"author": {"name": "Roland McGrath", "email": "roland@gcc.gnu.org", "date": "1995-04-14T23:31:05Z"}, "committer": {"name": "Roland McGrath", "email": "roland@gcc.gnu.org", "date": "1995-04-14T23:31:05Z"}, "message": "(ASM_OUTPUT_SECTION_NAME): Make the section read-only executable \"ax\" if DECL is a FUNCTION_DECL...\n\n(ASM_OUTPUT_SECTION_NAME): Make the section read-only executable \"ax\"\nif DECL is a FUNCTION_DECL; read-only \"a\" (previously the case always)\nif DECL is TREE_READONLY; otherwise writable \"aw\".\n\nFrom-SVN: r9386", "tree": {"sha": "82a294e07884ae412a776e2e3c52cc3ac8ecc76c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/82a294e07884ae412a776e2e3c52cc3ac8ecc76c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fa42ea0227fb2915d639c83c0adf770225081377", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa42ea0227fb2915d639c83c0adf770225081377", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa42ea0227fb2915d639c83c0adf770225081377", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa42ea0227fb2915d639c83c0adf770225081377/comments", "author": null, "committer": null, "parents": [{"sha": "ea8e4ec574c6e77c5efa450e34494872e3c93f8f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea8e4ec574c6e77c5efa450e34494872e3c93f8f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea8e4ec574c6e77c5efa450e34494872e3c93f8f"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "051187bc43ac2aafb6d90160649132bcb53664d1", "filename": "gcc/config/svr4.h", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa42ea0227fb2915d639c83c0adf770225081377/gcc%2Fconfig%2Fsvr4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa42ea0227fb2915d639c83c0adf770225081377/gcc%2Fconfig%2Fsvr4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsvr4.h?ref=fa42ea0227fb2915d639c83c0adf770225081377", "patch": "@@ -572,10 +572,15 @@ dtors_section ()\t\t\t\t\t\t\t\\\n }\n \n /* Switch into a generic section.\n-   This is currently only used to support section attributes.  */\n+   This is currently only used to support section attributes.\n \n+   We make the section read-only and executable for a function decl,\n+   read-only for a const data decl, and writable for a non-const data decl.  */\n #define ASM_OUTPUT_SECTION_NAME(FILE, DECL, NAME) \\\n-  fprintf (FILE, \".section\\t%s,\\\"a\\\",@progbits\\n\", NAME)\n+  fprintf (FILE, \".section\\t%s,\\\"%s\\\",@progbits\\n\", NAME, \\\n+\t   TREE_CODE (DECL) == FUNCTION_DECL ? \"ax\" : \\\n+\t   TREE_READONLY (DECL) ? \"a\" : \"aw\")\n+\n \n /* A C statement (sans semicolon) to output an element in the table of\n    global constructors.  */"}]}