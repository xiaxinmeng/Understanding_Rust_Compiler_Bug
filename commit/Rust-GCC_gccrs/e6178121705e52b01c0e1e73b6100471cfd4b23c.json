{"sha": "e6178121705e52b01c0e1e73b6100471cfd4b23c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTYxNzgxMjE3MDVlNTJiMDFjMGUxZTczYjYxMDA0NzFjZmQ0YjIzYw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@act-europe.fr", "date": "2003-11-10T17:10:45Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2003-11-10T17:10:45Z"}, "message": "run_all.sh: Add handling of unsupported (tasking) tests.\n\n\t* ada/acats/run_all.sh: Add handling of unsupported (tasking) tests.\n\tClean ups.\n\nFrom-SVN: r73422", "tree": {"sha": "aa90866bd736c575ff4b9e55b43f7d71e770cb65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aa90866bd736c575ff4b9e55b43f7d71e770cb65"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e6178121705e52b01c0e1e73b6100471cfd4b23c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6178121705e52b01c0e1e73b6100471cfd4b23c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6178121705e52b01c0e1e73b6100471cfd4b23c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6178121705e52b01c0e1e73b6100471cfd4b23c/comments", "author": null, "committer": null, "parents": [{"sha": "c77c5f2e385fd9e494ccd08723b72b0d304cb2d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c77c5f2e385fd9e494ccd08723b72b0d304cb2d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c77c5f2e385fd9e494ccd08723b72b0d304cb2d0"}], "stats": {"total": 49, "additions": 34, "deletions": 15}, "files": [{"sha": "f4997687f8da9044b5bda8f3c7b2ad2436557354", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6178121705e52b01c0e1e73b6100471cfd4b23c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6178121705e52b01c0e1e73b6100471cfd4b23c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e6178121705e52b01c0e1e73b6100471cfd4b23c", "patch": "@@ -1,3 +1,8 @@\n+2003-11-10  Arnaud Charlet  <charlet@act-europe.fr>\n+\n+\t* ada/acats/run_all.sh: Add handling of unsupported (tasking) tests.\n+\tClean ups.\n+\n 2003-11-10  Waldek Hebisch  <hebisch@math.uni.wroc.pl>\n \n \t* gcc.dg/trampoline-1.c: New test."}, {"sha": "cc7de47a7e8a98b391106e667f180cf825be4292", "filename": "gcc/testsuite/ada/acats/run_all.sh", "status": "modified", "additions": 29, "deletions": 15, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6178121705e52b01c0e1e73b6100471cfd4b23c/gcc%2Ftestsuite%2Fada%2Facats%2Frun_all.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6178121705e52b01c0e1e73b6100471cfd4b23c/gcc%2Ftestsuite%2Fada%2Facats%2Frun_all.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fada%2Facats%2Frun_all.sh?ref=e6178121705e52b01c0e1e73b6100471cfd4b23c", "patch": "@@ -30,6 +30,11 @@ display () {\n   echo \"$@\" >> $dir/acats.log\n }\n \n+log () {\n+  echo \"$@\" >> $dir/acats.sum\n+  echo \"$@\" >> $dir/acats.log\n+}\n+\n dir=`pwd`\n \n if [ \"$testdir\" = \"\" ]; then\n@@ -59,7 +64,7 @@ EXTERNAL_OBJECTS=\"\"\n \n rm -f $dir/acats.sum $dir/acats.log\n \n-display \"\t=== CONFIGURATION ===\"\n+display \"\t\t=== acats configuration ===\"\n \n display `type gcc`\n display `gcc -v 2>&1`\n@@ -69,7 +74,7 @@ display `type gnatmake`\n gnatls -v >> $dir/acats.log\n display \"\"\n \n-display \"\t=== SUPPORT ===\"\n+display \"\t\t=== acats support ===\"\n display_noeol \"Generating support files...\"\n \n rm -rf $dir/support\n@@ -141,7 +146,7 @@ target_gnatmake -c -gnato -gnatE *.adb\n \n display \" done.\"\n display \"\"\n-display \"\t=== ACATS tests ===\"\n+display \"\t\t=== acats tests ===\"\n \n if [ $# -eq 0 ]; then\n    chapters=`cd $dir/tests; echo [a-z]*`\n@@ -151,6 +156,7 @@ fi\n \n glob_countn=0\n glob_countok=0\n+glob_countu=0\n \n for chapter in $chapters; do\n    display Running chapter $chapter ...\n@@ -166,7 +172,7 @@ for chapter in $chapters; do\n    cut -c1-7 | sort | uniq | comm -23 - $testdir/norun.lst \\\n      > $dir/tests/$chapter/${chapter}.lst \n    countn=`wc -l < $dir/tests/$chapter/${chapter}.lst`\n-   countok=0\n+   glob_countn=`expr $glob_countn + $countn`\n    counti=0\n    for i in `cat $dir/tests/$chapter/${chapter}.lst`; do \n       counti=`expr $counti + 1`\n@@ -218,23 +224,31 @@ for chapter in $chapters; do\n       cat ${i}.log >> $dir/acats.log\n       egrep -e '(==== |\\+\\+\\+\\+ |\\!\\!\\!\\! )' ${i}.log > /dev/null 2>&1\n       if [ $? -ne 0 ]; then\n-         display \"FAIL:\t$i\"\n-         failed=\"${failed}${i} \"\n+         grep 'Tasking not implemented' ${i}.log > /dev/null 2>&1\n+\n+         if [ $? -ne 0 ]; then\n+            display \"FAIL:\t$i\"\n+            failed=\"${failed}${i} \"\n+         else\n+            log \"UNSUPPORTED:\t$i\"\n+            glob_countn=`expr $glob_countn - 1`\n+            glob_countu=`expr $glob_countu + 1`\n+         fi\n       else\n-         echo \"PASS:\t$i\" >> $dir/acats.sum\n-         echo \"PASS:\t$i\" >> $dir/acats.log\n-         countok=`expr $countok + 1`\n+         log \"PASS:\t$i\"\n+         glob_countok=`expr $glob_countok + 1`\n       fi\n       clean_dir\n    done\n-\n-   glob_countok=`expr $glob_countok + $countok`\n-   glob_countn=`expr $glob_countn + $countn`\n done\n \n-display \"\t=== ACATS Summary ===\"\n-display \"# of expected passes $glob_countok\"\n-display \"# of unexpected failures `expr $glob_countn - $glob_countok`\"\n+display \"\t\t=== acats Summary ===\"\n+display \"# of expected passes\t\t$glob_countok\"\n+display \"# of unexpected failures\t`expr $glob_countn - $glob_countok`\"\n+\n+if [ $glob_countu -ne 0 ]; then\n+   display \"# of unsupported tests\t\t$glob_countu\"\n+fi\n \n if [ $glob_countok -ne $glob_countn ]; then\n    display \"*** FAILURES: $failed\""}]}