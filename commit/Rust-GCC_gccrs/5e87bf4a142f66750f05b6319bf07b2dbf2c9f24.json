{"sha": "5e87bf4a142f66750f05b6319bf07b2dbf2c9f24", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWU4N2JmNGExNDJmNjY3NTBmMDViNjMxOWJmMDdiMmRiZjJjOWYyNA==", "commit": {"author": {"name": "Taras Glek", "email": "taras@mozilla.com", "date": "2009-12-02T01:00:39Z"}, "committer": {"name": "Taras Glek", "email": "tglek@gcc.gnu.org", "date": "2009-12-02T01:00:39Z"}, "message": "* parser.c (cp_parser_class_specifier): Set class location to that of IDENTIFIER_NODE instead of '{' when possible.\\n* semantics.c (begin_class_definition): Do not overide locations with less precise ones.\n\nFrom-SVN: r154890", "tree": {"sha": "9dcfcc8ddcab8a665737a6856820cf2548681ad7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9dcfcc8ddcab8a665737a6856820cf2548681ad7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5e87bf4a142f66750f05b6319bf07b2dbf2c9f24", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e87bf4a142f66750f05b6319bf07b2dbf2c9f24", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e87bf4a142f66750f05b6319bf07b2dbf2c9f24", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e87bf4a142f66750f05b6319bf07b2dbf2c9f24/comments", "author": null, "committer": null, "parents": [{"sha": "9ffd1183773a31418653b565c1e619f561fdb6b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ffd1183773a31418653b565c1e619f561fdb6b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ffd1183773a31418653b565c1e619f561fdb6b5"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "3a086021776830a9f2cf1da6433afda452eb4c8b", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e87bf4a142f66750f05b6319bf07b2dbf2c9f24/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e87bf4a142f66750f05b6319bf07b2dbf2c9f24/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=5e87bf4a142f66750f05b6319bf07b2dbf2c9f24", "patch": "@@ -1,3 +1,12 @@\n+2009-12-01  Taras Glek  <taras@mozilla.com>\n+\n+\t* parser.c (cp_parser_class_specifier): Set class location to that\n+\tof IDENTIFIER_NODE instead of '{' when possible.\n+\n+2009-12-01  Taras Glek  <taras@mozilla.com>\n+\n+\t* semantics.c (begin_class_definition): Do not overide locations with less precise ones.\n+\n 2009-12-01  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/41611"}, {"sha": "f50d1c0bb8dcb79e71207804295b6bd2fbcc57dd", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e87bf4a142f66750f05b6319bf07b2dbf2c9f24/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e87bf4a142f66750f05b6319bf07b2dbf2c9f24/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=5e87bf4a142f66750f05b6319bf07b2dbf2c9f24", "patch": "@@ -16388,6 +16388,8 @@ cp_parser_class_head (cp_parser* parser,\n       end_specialization ();\n       --parser->num_template_parameter_lists;\n     }\n+\n+  DECL_SOURCE_LOCATION (TYPE_NAME (type)) = type_start_token->location;\n   *attributes_p = attributes;\n   return type;\n }"}, {"sha": "aa79b22a33fce36a7cbfefa2bdb0df2a11414a32", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e87bf4a142f66750f05b6319bf07b2dbf2c9f24/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e87bf4a142f66750f05b6319bf07b2dbf2c9f24/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=5e87bf4a142f66750f05b6319bf07b2dbf2c9f24", "patch": "@@ -2386,9 +2386,6 @@ begin_class_definition (tree t, tree attributes)\n       pushtag (make_anon_name (), t, /*tag_scope=*/ts_current);\n     }\n \n-  /* Update the location of the decl.  */\n-  DECL_SOURCE_LOCATION (TYPE_NAME (t)) = input_location;\n-\n   if (TYPE_BEING_DEFINED (t))\n     {\n       t = make_class_type (TREE_CODE (t));"}]}