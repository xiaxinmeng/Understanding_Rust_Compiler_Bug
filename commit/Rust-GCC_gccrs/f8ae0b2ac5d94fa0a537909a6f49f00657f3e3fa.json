{"sha": "f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjhhZTBiMmFjNWQ5NGZhMGE1Mzc5MDlhNmY0OWYwMDY1N2YzZTNmYQ==", "commit": {"author": {"name": "Balaji V. Iyer", "email": "balaji.v.iyer@intel.com", "date": "2013-11-12T23:13:13Z"}, "committer": {"name": "Balaji V. Iyer", "email": "bviyer@gcc.gnu.org", "date": "2013-11-12T23:13:13Z"}, "message": "Makefile.am (libcilkrts_la_LDFLAGS): Added a check for availability of \"-ldl\" flag.\n\n2013-11-12  Balaji V. Iyer  <balaji.v.iyer@intel.com>\n\n        * Makefile.am (libcilkrts_la_LDFLAGS): Added a check for availability\n        of \"-ldl\" flag.\n        * configure.ac: Likewise.\n        * configure: Regenerate\n        * Makefile.in: Likewise.\n\nFrom-SVN: r204723", "tree": {"sha": "105fe52d695c1ad43e5fa33bcf6b7dc2d29d5b65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/105fe52d695c1ad43e5fa33bcf6b7dc2d29d5b65"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa/comments", "author": null, "committer": null, "parents": [{"sha": "115d1851826d533e0676c991ca4e4216ff32782e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/115d1851826d533e0676c991ca4e4216ff32782e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/115d1851826d533e0676c991ca4e4216ff32782e"}], "stats": {"total": 32, "additions": 25, "deletions": 7}, "files": [{"sha": "dd447d854652a439a52eea9ee697db9a81d1ca1f", "filename": "libcilkrts/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa/libcilkrts%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa/libcilkrts%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcilkrts%2FChangeLog?ref=f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa", "patch": "@@ -1,3 +1,11 @@\n+2013-11-12  Balaji V. Iyer  <balaji.v.iyer@intel.com>\n+\n+\t* Makefile.am (libcilkrts_la_LDFLAGS): Added a check for availability\n+\tof \"-ldl\" flag.\n+\t* configure.ac: Likewise.\n+\t* configure: Regenerate\n+\t* Makefile.in: Likewise.\n+\n 2013-11-08  Balaji V. Iyer  <balaji.v.iyer@intel.com>\n \n \tPR c/59039"}, {"sha": "56bc9ebb85dfe26fac48fe85e9358e377324baeb", "filename": "libcilkrts/Makefile.am", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa/libcilkrts%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa/libcilkrts%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcilkrts%2FMakefile.am?ref=f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa", "patch": "@@ -91,7 +91,7 @@ include include/internal/rev.mk\n \n #libcilkrts_la_LDFLAGS  = -rpath '$(libdir)'\n libcilkrts_la_LDFLAGS = -version-info 5:0:0\n-libcilkrts_la_LDFLAGS += -lpthread -ldl\n+libcilkrts_la_LDFLAGS += -lpthread @lt_cv_dlopen_libs@\n \n # If we're building on Linux, use the Linux version script\n if LINUX_LINKER_SCRIPT"}, {"sha": "5066bef3dcc01b9c1c65ebaf0c9d42fd6aeabebb", "filename": "libcilkrts/Makefile.in", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa/libcilkrts%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa/libcilkrts%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcilkrts%2FMakefile.in?ref=f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa", "patch": "@@ -312,6 +312,7 @@ libdir = @libdir@\n libexecdir = @libexecdir@\n localedir = @localedir@\n localstatedir = @localstatedir@\n+lt_cv_dlopen_libs = @lt_cv_dlopen_libs@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n multi_basedir = @multi_basedir@\n@@ -395,8 +396,9 @@ CILK_REVISION = 3902\n #libcilkrts_la_LDFLAGS  = -rpath '$(libdir)'\n \n # Hack for Cygwin\n-libcilkrts_la_LDFLAGS = -version-info 5:0:0 -lpthread -ldl \\\n-\t$(am__append_1) $(am__append_2) -no-undefined\n+libcilkrts_la_LDFLAGS = -version-info 5:0:0 -lpthread \\\n+\t@lt_cv_dlopen_libs@ $(am__append_1) $(am__append_2) \\\n+\t-no-undefined\n \n # C/C++ header files for Cilk.\n cilkincludedir = $(includedir)/cilk"}, {"sha": "2461b51f2db5955a538e57742fe490b7be904b45", "filename": "libcilkrts/configure", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa/libcilkrts%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa/libcilkrts%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcilkrts%2Fconfigure?ref=f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa", "patch": "@@ -604,6 +604,7 @@ ac_subst_vars='am__EXEEXT_FALSE\n am__EXEEXT_TRUE\n LTLIBOBJS\n LIBOBJS\n+lt_cv_dlopen_libs\n toolexeclibdir\n toolexecdir\n CXXCPP\n@@ -4982,6 +4983,10 @@ else\n fi\n \n \n+enable_dlopen=yes\n+\n+\n+\n case `pwd` in\n   *\\ * | *\\\t*)\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: Libtool does not cope well with whitespace in \\`pwd\\`\" >&5\n@@ -7587,8 +7592,6 @@ done\n \n \n \n-        enable_dlopen=no\n-\n \n   enable_win32_dll=no\n \n@@ -11057,7 +11060,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11060 \"configure\"\n+#line 11063 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11163,7 +11166,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11166 \"configure\"\n+#line 11169 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -14419,6 +14422,8 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n+\n+\n # Must be last\n cat >confcache <<\\_ACEOF\n # This file is a shell script that caches the results of configure"}, {"sha": "8af1bf042d2b7612e82c4784e9dcc84a8be408ef", "filename": "libcilkrts/configure.ac", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa/libcilkrts%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa/libcilkrts%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcilkrts%2Fconfigure.ac?ref=f8ae0b2ac5d94fa0a537909a6f49f00657f3e3fa", "patch": "@@ -146,9 +146,12 @@ case \"${host}\" in\n esac\n AM_CONDITIONAL(MAC_LINKER_SCRIPT, test \"$mac_linker_script\" = \"yes\")\n \n+AC_LIBTOOL_DLOPEN\n AM_PROG_LIBTOOL\n AC_SUBST(toolexecdir)\n AC_SUBST(toolexeclibdir)\n \n+AC_SUBST(lt_cv_dlopen_libs)\n+\n # Must be last\n AC_OUTPUT"}]}