{"sha": "1f722e35ab3805de6eeace770508a9085944e93e", "node_id": "C_kwDOANBUbNoAKDFmNzIyZTM1YWIzODA1ZGU2ZWVhY2U3NzA1MDhhOTA4NTk0NGU5M2U", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2022-02-04T16:41:55Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2022-02-04T16:44:44Z"}, "message": "Add optmization testcase for incorrect optimization in Ada\n\ngcc/testsuite/\n\tPR tree-optimization/104356\n\t* gnat.dg/opt97.adb: New test.", "tree": {"sha": "18ee05f3de2054bd7d5e1965f6f8b7cfd4df0fd8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/18ee05f3de2054bd7d5e1965f6f8b7cfd4df0fd8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f722e35ab3805de6eeace770508a9085944e93e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f722e35ab3805de6eeace770508a9085944e93e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f722e35ab3805de6eeace770508a9085944e93e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f722e35ab3805de6eeace770508a9085944e93e/comments", "author": null, "committer": null, "parents": [{"sha": "f62156eab7b757d1ee03a11d5c96c72bd3de079c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f62156eab7b757d1ee03a11d5c96c72bd3de079c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f62156eab7b757d1ee03a11d5c96c72bd3de079c"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "1bf6a750d75d7ed639ed615d7ebfd72ffefc55f2", "filename": "gcc/testsuite/gnat.dg/opt97.adb", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f722e35ab3805de6eeace770508a9085944e93e/gcc%2Ftestsuite%2Fgnat.dg%2Fopt97.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f722e35ab3805de6eeace770508a9085944e93e/gcc%2Ftestsuite%2Fgnat.dg%2Fopt97.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fopt97.adb?ref=1f722e35ab3805de6eeace770508a9085944e93e", "patch": "@@ -0,0 +1,25 @@\n+-- { dg-do compile }\n+-- { dg-options \"-O2 -fdump-tree-optimized\" }\n+\n+with System.Unsigned_Types; use System.Unsigned_Types;\n+\n+function Opt97 (X, Y : Unsigned) return Unsigned is\n+\n+  pragma Suppress (All_Checks);\n+\n+  Z : Unsigned;\n+\n+begin\n+  if X >= 2 then\n+    return 0;\n+  end if;\n+\n+  Z := Y;\n+  if X = 1 then\n+    Z := Y + 4;\n+  end if;\n+\n+  return Z / X;\n+end;\n+\n+-- { dg-final { scan-tree-dump \"/\" \"optimized\" } }"}]}