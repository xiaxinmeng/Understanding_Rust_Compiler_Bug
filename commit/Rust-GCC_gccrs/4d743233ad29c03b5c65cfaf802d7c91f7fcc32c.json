{"sha": "4d743233ad29c03b5c65cfaf802d7c91f7fcc32c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGQ3NDMyMzNhZDI5YzAzYjVjNjVjZmFmODAyZDdjOTFmN2ZjYzMyYw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2021-06-04T16:08:49Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-07-08T13:34:23Z"}, "message": "[Ada] Use encoded names only with -fgnat-encodings=all\n\ngcc/ada/\n\n\t* exp_dbug.adb (Get_Encoded_Name): Do not encode names of discrete\n\ttypes with custom bounds, except with -fgnat-encodings=all.\n\t* exp_pakd.adb (Create_Packed_Array_Impl_Type): Adjust comment.", "tree": {"sha": "9a8362807a59cab259536351c15d40b1ffc11c6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a8362807a59cab259536351c15d40b1ffc11c6f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4d743233ad29c03b5c65cfaf802d7c91f7fcc32c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d743233ad29c03b5c65cfaf802d7c91f7fcc32c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d743233ad29c03b5c65cfaf802d7c91f7fcc32c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d743233ad29c03b5c65cfaf802d7c91f7fcc32c/comments", "author": null, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7c092960f0d116abdba7e13aaf38fbadfdefbeb0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c092960f0d116abdba7e13aaf38fbadfdefbeb0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c092960f0d116abdba7e13aaf38fbadfdefbeb0"}], "stats": {"total": 15, "additions": 7, "deletions": 8}, "files": [{"sha": "bfc3b3356f11c3fc11b3877345d8ea36f4c22848", "filename": "gcc/ada/exp_dbug.adb", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d743233ad29c03b5c65cfaf802d7c91f7fcc32c/gcc%2Fada%2Fexp_dbug.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d743233ad29c03b5c65cfaf802d7c91f7fcc32c/gcc%2Fada%2Fexp_dbug.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_dbug.adb?ref=4d743233ad29c03b5c65cfaf802d7c91f7fcc32c", "patch": "@@ -655,10 +655,10 @@ package body Exp_Dbug is\n \n       Has_Suffix := True;\n \n-      --  Fixed-point case: generate GNAT encodings when asked to\n+      --  Generate GNAT encodings when asked to for fixed-point case\n \n-      if Is_Fixed_Point_Type (E)\n-        and then GNAT_Encodings = DWARF_GNAT_Encodings_All\n+      if GNAT_Encodings = DWARF_GNAT_Encodings_All\n+        and then Is_Fixed_Point_Type (E)\n       then\n          Get_External_Name (E, True, \"XF_\");\n          Add_Real_To_Buffer (Delta_Value (E));\n@@ -668,10 +668,9 @@ package body Exp_Dbug is\n             Add_Real_To_Buffer (Small_Value (E));\n          end if;\n \n-      --  Discrete case where bounds do not match size. Not necessary if we can\n-      --  emit standard DWARF.\n+      --  Likewise for discrete case where bounds do not match size\n \n-      elsif GNAT_Encodings /= DWARF_GNAT_Encodings_Minimal\n+      elsif GNAT_Encodings = DWARF_GNAT_Encodings_All\n         and then Is_Discrete_Type (E)\n         and then not Bounds_Match_Size (E)\n       then"}, {"sha": "3477bba3d78b84c9af4c8c3566e8ef737c9ea035", "filename": "gcc/ada/exp_pakd.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d743233ad29c03b5c65cfaf802d7c91f7fcc32c/gcc%2Fada%2Fexp_pakd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d743233ad29c03b5c65cfaf802d7c91f7fcc32c/gcc%2Fada%2Fexp_pakd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_pakd.adb?ref=4d743233ad29c03b5c65cfaf802d7c91f7fcc32c", "patch": "@@ -828,8 +828,8 @@ package body Exp_Pakd is\n \n       elsif not Is_Constrained (Typ) then\n \n-         --  When generating standard DWARF (i.e when GNAT_Encodings is\n-         --  DWARF_GNAT_Encodings_Minimal), the ___XP suffix will be stripped\n+         --  When generating standard DWARF (i.e when GNAT_Encodings is not\n+         --  DWARF_GNAT_Encodings_All), the ___XP suffix will be stripped\n          --  by the back-end but generate it anyway to ease compiler debugging.\n          --  This will help to distinguish implementation types from original\n          --  packed arrays."}]}