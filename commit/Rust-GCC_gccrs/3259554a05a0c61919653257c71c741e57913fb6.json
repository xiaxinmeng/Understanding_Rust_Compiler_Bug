{"sha": "3259554a05a0c61919653257c71c741e57913fb6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzI1OTU1NGEwNWEwYzYxOTE5NjUzMjU3YzcxYzc0MWU1NzkxM2ZiNg==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2009-06-23T23:24:20Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2009-06-23T23:24:20Z"}, "message": "user.cfg.in (PREDEFINED): Add _GLIBCXX_ATOMIC_BUILTINS_*.\n\n2009-06-23  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* doc/doxygen/user.cfg.in (PREDEFINED): Add _GLIBCXX_ATOMIC_BUILTINS_*.\n\t(INPUT): Add future.\n\t* include/std/future: Adjust markup.\n\t* testsuite/30_threads/shared_future/cons/assign_neg.cc: Adjust\n\tline numbers.\n\t* testsuite/30_threads/unique_future/cons/assign_neg.cc: Same.\n\t* testsuite/30_threads/unique_future/cons/copy_neg.cc: Same.\n\t* testsuite/30_threads/promise/cons/assign_neg.cc: Same.\n\t* testsuite/30_threads/promise/cons/copy_neg.cc: Same.\n\nFrom-SVN: r148883", "tree": {"sha": "30531c2b45e9759040118af5c925273df3db1a67", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/30531c2b45e9759040118af5c925273df3db1a67"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3259554a05a0c61919653257c71c741e57913fb6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3259554a05a0c61919653257c71c741e57913fb6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3259554a05a0c61919653257c71c741e57913fb6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3259554a05a0c61919653257c71c741e57913fb6/comments", "author": null, "committer": null, "parents": [{"sha": "2ea259393d66fa2815af2dd5a9619b137b64b110", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ea259393d66fa2815af2dd5a9619b137b64b110", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ea259393d66fa2815af2dd5a9619b137b64b110"}], "stats": {"total": 61, "additions": 39, "deletions": 22}, "files": [{"sha": "371c2c92c528e3089fbb63075c1a2a5e24c4b1bb", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=3259554a05a0c61919653257c71c741e57913fb6", "patch": "@@ -1,3 +1,15 @@\n+2009-06-23  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* doc/doxygen/user.cfg.in (PREDEFINED): Add _GLIBCXX_ATOMIC_BUILTINS_*.\n+\t(INPUT): Add future.\n+\t* include/std/future: Adjust markup.\n+\t* testsuite/30_threads/shared_future/cons/assign_neg.cc: Adjust\n+\tline numbers.\n+\t* testsuite/30_threads/unique_future/cons/assign_neg.cc: Same.\n+\t* testsuite/30_threads/unique_future/cons/copy_neg.cc: Same.\n+\t* testsuite/30_threads/promise/cons/assign_neg.cc: Same.\n+\t* testsuite/30_threads/promise/cons/copy_neg.cc: Same.\n+\n 2009-06-23  Jonathan Wakely  <jwakely.gcc@gmail.com>\n \n \t* include/bits/shared_ptr.h: Do not swap rvalues."}, {"sha": "9c4b6c9bf517873c6e8232d7317161b179b6b0bb", "filename": "libstdc++-v3/doc/doxygen/user.cfg.in", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2Fdoc%2Fdoxygen%2Fuser.cfg.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2Fdoc%2Fdoxygen%2Fuser.cfg.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fdoxygen%2Fuser.cfg.in?ref=3259554a05a0c61919653257c71c741e57913fb6", "patch": "@@ -590,6 +590,7 @@ INPUT                  = @srcdir@/doc/doxygen/doxygroups.cc \\\n                          include/deque \\\n                          include/fstream \\\n                          include/functional \\\n+                         include/future \\\n                          include/iomanip \\\n                          include/ios \\\n                          include/iosfwd \\\n@@ -1427,6 +1428,10 @@ PREDEFINED             = __cplusplus \\\n                          _GLIBCXX_USE_WCHAR_T \\\n                          _GLIBCXX_USE_LONG_LONG \\\n                          _GLIBCXX_USE_C99_STDINT_TR1 \\\n+\t\t\t _GLIBCXX_ATOMIC_BUILTINS_1 \\\n+\t\t\t _GLIBCXX_ATOMIC_BUILTINS_2 \\\n+\t\t\t _GLIBCXX_ATOMIC_BUILTINS_4 \\\n+\t\t\t _GLIBCXX_ATOMIC_BUILTINS_8 \\\n \t\t\t _GLIBCXX_USE_SCHED_YIELD \\\n \t\t\t _GLIBCXX_USE_NANOSLEEP \\\n                          __glibcxx_function_requires=// \\"}, {"sha": "d155822ac68715538956d74f182a64f09b61d46a", "filename": "libstdc++-v3/include/std/future", "status": "modified", "additions": 17, "deletions": 17, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ffuture", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ffuture", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ffuture?ref=3259554a05a0c61919653257c71c741e57913fb6", "patch": "@@ -92,6 +92,19 @@ namespace std\n     error_code _M_code;\n   };\n \n+  // Forward declarations.\n+  template<typename _Result>\n+    class unique_future;\n+\n+  template<typename _Result>\n+    class shared_future;\n+\n+  template<typename> \n+    class packaged_task;\n+\n+  template<typename _Result>\n+    class promise;\n+\n   // Holds the result of a future\n   struct _Future_result_base\n   {\n@@ -304,14 +317,6 @@ namespace std\n       void _M_destroy() { delete this; }\n     };\n \n-  /// unique_future\n-  template<typename _Result>\n-    class unique_future;\n-\n-  /// shared_future\n-  template<typename _Result>\n-    class shared_future;\n-\n   // common implementation for unique_future and shared_future\n   template<typename _Result>\n     class _Future_impl\n@@ -375,11 +380,7 @@ namespace std\n       _State_ptr _M_state;\n     };\n \n-  /// promise\n-  template<typename _Result>\n-    class promise;\n-\n-  // primary template for unique_future\n+  /// primary template for unique_future\n   template<typename _Result>\n     class unique_future : public _Future_impl<_Result>\n     {\n@@ -458,7 +459,7 @@ namespace std\n       unique_future(const _State_ptr& __state) : _Base_type(__state) { }\n     };\n \n-  // primary template for unique_future\n+  /// primary template for unique_future\n   template<typename _Result>\n     class shared_future : public _Future_impl<_Result>\n     {\n@@ -538,9 +539,7 @@ namespace std\n     : _M_state(std::move(__uf._M_state))\n     { }\n \n-  template<typename> class packaged_task; // undefined\n-\n-  // primary template for promise\n+  /// primary template for promise\n   template<typename _Result>\n     class promise\n     {\n@@ -814,6 +813,7 @@ namespace std\n       }\n     };\n \n+  /// packaged_task\n   template<typename _Result, typename... _ArgTypes>\n     class packaged_task<_Result(_ArgTypes...)>\n     {"}, {"sha": "cebe5f981d8fdb2f21f74d57dedc3db78ebd0c36", "filename": "libstdc++-v3/testsuite/30_threads/promise/cons/assign_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpromise%2Fcons%2Fassign_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpromise%2Fcons%2Fassign_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpromise%2Fcons%2Fassign_neg.cc?ref=3259554a05a0c61919653257c71c741e57913fb6", "patch": "@@ -33,4 +33,4 @@ void test01()\n }\n \n // { dg-error \"used here\" \"\" { target *-*-* } 32 }\n-// { dg-error \"deleted function\" \"\" { target *-*-* } 583 }\n+// { dg-error \"deleted function\" \"\" { target *-*-* } 582 }"}, {"sha": "cbcdcfb6d250673243ebd69b3f12b01797bab0a6", "filename": "libstdc++-v3/testsuite/30_threads/promise/cons/copy_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpromise%2Fcons%2Fcopy_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpromise%2Fcons%2Fcopy_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpromise%2Fcons%2Fcopy_neg.cc?ref=3259554a05a0c61919653257c71c741e57913fb6", "patch": "@@ -32,4 +32,4 @@ void test01()\n }\n \n // { dg-error \"used here\" \"\" { target *-*-* } 31 }\n-// { dg-error \"deleted function\" \"\" { target *-*-* } 567 }\n+// { dg-error \"deleted function\" \"\" { target *-*-* } 566 }"}, {"sha": "3b446d06de5a352de8fb31a526d7096f49c5780d", "filename": "libstdc++-v3/testsuite/30_threads/shared_future/cons/assign_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fshared_future%2Fcons%2Fassign_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fshared_future%2Fcons%2Fassign_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fshared_future%2Fcons%2Fassign_neg.cc?ref=3259554a05a0c61919653257c71c741e57913fb6", "patch": "@@ -35,4 +35,4 @@ void test01()\n }\n \n // { dg-error \"used here\" \"\" { target *-*-* } 34 }\n-// { dg-error \"deleted function\" \"\" { target *-*-* } 474 }\n+// { dg-error \"deleted function\" \"\" { target *-*-* } 475 }"}, {"sha": "928ee0a48e90dc51204ce209dfb58b159b59aa04", "filename": "libstdc++-v3/testsuite/30_threads/unique_future/cons/assign_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Funique_future%2Fcons%2Fassign_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Funique_future%2Fcons%2Fassign_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Funique_future%2Fcons%2Fassign_neg.cc?ref=3259554a05a0c61919653257c71c741e57913fb6", "patch": "@@ -35,4 +35,4 @@ void test01()\n }\n \n // { dg-error \"used here\" \"\" { target *-*-* } 34 }\n-// { dg-error \"deleted function\" \"\" { target *-*-* } 394 }\n+// { dg-error \"deleted function\" \"\" { target *-*-* } 395 }"}, {"sha": "5153636e9baa1f9f90b884d6638ce49275558bd6", "filename": "libstdc++-v3/testsuite/30_threads/unique_future/cons/copy_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Funique_future%2Fcons%2Fcopy_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3259554a05a0c61919653257c71c741e57913fb6/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Funique_future%2Fcons%2Fcopy_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Funique_future%2Fcons%2Fcopy_neg.cc?ref=3259554a05a0c61919653257c71c741e57913fb6", "patch": "@@ -34,4 +34,4 @@ void test01()\n }\n \n // { dg-error \"used here\" \"\" { target *-*-* } 33 }\n-// { dg-error \"deleted function\" \"\" { target *-*-* } 393 }\n+// { dg-error \"deleted function\" \"\" { target *-*-* } 394 }"}]}