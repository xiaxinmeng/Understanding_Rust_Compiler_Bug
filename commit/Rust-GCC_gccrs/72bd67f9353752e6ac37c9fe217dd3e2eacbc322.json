{"sha": "72bd67f9353752e6ac37c9fe217dd3e2eacbc322", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzJiZDY3ZjkzNTM3NTJlNmFjMzdjOWZlMjE3ZGQzZTJlYWNiYzMyMg==", "commit": {"author": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2003-03-16T09:34:41Z"}, "committer": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2003-03-16T09:34:41Z"}, "message": "configure.in: Improve check for memcheck.h.\n\n\t* configure.in: Improve check for memcheck.h.\n\t* configure: Regenerated.\n\nFrom-SVN: r64430", "tree": {"sha": "9e82580f8ef11517fb9a885b57f39d284127b214", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9e82580f8ef11517fb9a885b57f39d284127b214"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/72bd67f9353752e6ac37c9fe217dd3e2eacbc322", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72bd67f9353752e6ac37c9fe217dd3e2eacbc322", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72bd67f9353752e6ac37c9fe217dd3e2eacbc322", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72bd67f9353752e6ac37c9fe217dd3e2eacbc322/comments", "author": null, "committer": null, "parents": [{"sha": "4f907b595a4f1242abc1ce2f5d2aaf0c9d020945", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f907b595a4f1242abc1ce2f5d2aaf0c9d020945", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f907b595a4f1242abc1ce2f5d2aaf0c9d020945"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "77e4405be06dae520a1ddbb2b919324281e62a1b", "filename": "gcc/configure", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72bd67f9353752e6ac37c9fe217dd3e2eacbc322/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72bd67f9353752e6ac37c9fe217dd3e2eacbc322/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=72bd67f9353752e6ac37c9fe217dd3e2eacbc322", "patch": "@@ -2179,8 +2179,8 @@ else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n-  if test \"x$valgrind_path\" = \"x\" || test $have_valgrind_h = no; then\n-\t{ echo \"configure: error: *** Can't find both valgrind and valgrind.h\" 1>&2; exit 1; }\n+  if test \"x$valgrind_path\" = \"x\" || (test $have_valgrind_h = no && test $gcc_cv_header_memcheck_h = no); then\n+\t{ echo \"configure: error: *** Can't find both valgrind and valgrind.h/memcheck.h\" 1>&2; exit 1; }\n   fi\n   valgrind_path_defines=-DVALGRIND_PATH='\\\"'$valgrind_path'\\\"'\n   valgrind_command=\"$valgrind_path -q\""}, {"sha": "763cd2a8275e8c6dac72e7137f6a6e2275691632", "filename": "gcc/configure.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72bd67f9353752e6ac37c9fe217dd3e2eacbc322/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72bd67f9353752e6ac37c9fe217dd3e2eacbc322/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=72bd67f9353752e6ac37c9fe217dd3e2eacbc322", "patch": "@@ -417,8 +417,8 @@ if test x$ac_checking_valgrind != x ; then\n   AC_CHECK_HEADER(valgrind.h, have_valgrind_h=yes, have_valgrind_h=no)\n   AM_PATH_PROG_WITH_TEST(valgrind_path, valgrind,\n \t[$ac_dir/$ac_word --version | grep valgrind- >/dev/null 2>&1])\n-  if test \"x$valgrind_path\" = \"x\" || test $have_valgrind_h = no; then\n-\tAC_MSG_ERROR([*** Can't find both valgrind and valgrind.h])\n+  if test \"x$valgrind_path\" = \"x\" || (test $have_valgrind_h = no && test $gcc_cv_header_memcheck_h = no); then\n+\tAC_MSG_ERROR([*** Can't find both valgrind and valgrind.h/memcheck.h])\n   fi\n   valgrind_path_defines=-DVALGRIND_PATH='\\\"'$valgrind_path'\\\"'\n   valgrind_command=\"$valgrind_path -q\""}]}