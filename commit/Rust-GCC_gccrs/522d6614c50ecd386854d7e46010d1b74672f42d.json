{"sha": "522d6614c50ecd386854d7e46010d1b74672f42d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTIyZDY2MTRjNTBlY2QzODY4NTRkN2U0NjAxMGQxYjc0NjcyZjQyZA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2001-01-18T09:35:59Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2001-01-18T09:35:59Z"}, "message": "semantics.c (begin_class_definition): Check we're not inside a template parm list.\n\ncp:\n\t* semantics.c (begin_class_definition): Check we're not inside a\n\ttemplate parm list.\ntestsuite:\n\t* g++.old-deja/g++.pt/crash65.C: New test.\n\nFrom-SVN: r39113", "tree": {"sha": "f6125caaf95f3c7b4fbbf88a49dc9578450fc081", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f6125caaf95f3c7b4fbbf88a49dc9578450fc081"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/522d6614c50ecd386854d7e46010d1b74672f42d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/522d6614c50ecd386854d7e46010d1b74672f42d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/522d6614c50ecd386854d7e46010d1b74672f42d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/522d6614c50ecd386854d7e46010d1b74672f42d/comments", "author": null, "committer": null, "parents": [{"sha": "7f805b8ffc444141ae01003de9bab522cddcae0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f805b8ffc444141ae01003de9bab522cddcae0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f805b8ffc444141ae01003de9bab522cddcae0a"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "c020cfaf3d0bca05b1d6a3bf50bedfb220ed10ad", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/522d6614c50ecd386854d7e46010d1b74672f42d/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/522d6614c50ecd386854d7e46010d1b74672f42d/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=522d6614c50ecd386854d7e46010d1b74672f42d", "patch": "@@ -1,3 +1,8 @@\n+2001-01-18  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* semantics.c (begin_class_definition): Check we're not inside a\n+\ttemplate parm list.\n+\n 2001-01-18  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* tree.c (walk_tree, TREE_LIST): Don't walk the TREE_PURPOSE of"}, {"sha": "0c4ed96e1e850c856987e1f7cde8bfc07cf37c9f", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/522d6614c50ecd386854d7e46010d1b74672f42d/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/522d6614c50ecd386854d7e46010d1b74672f42d/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=522d6614c50ecd386854d7e46010d1b74672f42d", "patch": "@@ -1720,6 +1720,11 @@ tree\n begin_class_definition (t)\n      tree t;\n {\n+  if (processing_template_parmlist)\n+    {\n+      cp_error (\"definition of `%#T' inside template parameter list\", t);\n+      return error_mark_node;\n+    }\n   if (t == error_mark_node\n       || ! IS_AGGR_TYPE (t))\n     {"}, {"sha": "4b00c044efc05ada0969b03f21947e81f29ad06b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/522d6614c50ecd386854d7e46010d1b74672f42d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/522d6614c50ecd386854d7e46010d1b74672f42d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=522d6614c50ecd386854d7e46010d1b74672f42d", "patch": "@@ -1,3 +1,7 @@\n+2001-01-18  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* g++.old-deja/g++.pt/crash65.C: New test.\n+\n 2001-01-18  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n         * gcc.dg/cpp/assembl2.S: New test case."}, {"sha": "7b632a60a1d1bdb2f73f4f9686e16231379fb305", "filename": "gcc/testsuite/g++.old-deja/g++.pt/crash65.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/522d6614c50ecd386854d7e46010d1b74672f42d/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fcrash65.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/522d6614c50ecd386854d7e46010d1b74672f42d/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fcrash65.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fcrash65.C?ref=522d6614c50ecd386854d7e46010d1b74672f42d", "patch": "@@ -0,0 +1,12 @@\n+// Build don't link:\n+\n+// Copyright (C) 2000 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 11 Jan 2001 <nathan@codesourcery.com>\n+\n+// Bug 1506. We ICE'd on a struct definition inside a template parms.\n+// This is still not completely fixed, but now issues a diagnostic\n+\n+// crash test - XFAIL *-*-*\n+\n+template<class T =\n+struct W {};    // ERROR - inside template parms"}]}