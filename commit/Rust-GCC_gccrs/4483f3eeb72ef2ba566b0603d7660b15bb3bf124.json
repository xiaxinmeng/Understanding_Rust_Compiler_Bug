{"sha": "4483f3eeb72ef2ba566b0603d7660b15bb3bf124", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDQ4M2YzZWViNzJlZjJiYTU2NmIwNjAzZDc2NjBiMTViYjNiZjEyNA==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2015-11-09T19:49:44Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2015-11-09T19:49:44Z"}, "message": "pr66326.cc: Do not include cilk.h.\n\n\t* g++.dg/cilk-plus/CK/pr66326.cc: Do not include cilk.h.\n\t(main): Use _Cilk_spawn instead of cilk_spawn.\n\nFrom-SVN: r230048", "tree": {"sha": "a43ec39794d8ab71eeda05b33fe0a515d8f09a0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a43ec39794d8ab71eeda05b33fe0a515d8f09a0d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4483f3eeb72ef2ba566b0603d7660b15bb3bf124", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4483f3eeb72ef2ba566b0603d7660b15bb3bf124", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4483f3eeb72ef2ba566b0603d7660b15bb3bf124", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4483f3eeb72ef2ba566b0603d7660b15bb3bf124/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4fe19f1d106dd5bff3ebb3f26b3e1f835738627c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fe19f1d106dd5bff3ebb3f26b3e1f835738627c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4fe19f1d106dd5bff3ebb3f26b3e1f835738627c"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "37ce460ebcd97733720442d8bd6017da151d2688", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4483f3eeb72ef2ba566b0603d7660b15bb3bf124/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4483f3eeb72ef2ba566b0603d7660b15bb3bf124/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4483f3eeb72ef2ba566b0603d7660b15bb3bf124", "patch": "@@ -1,3 +1,8 @@\n+2015-11-09  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* g++.dg/cilk-plus/CK/pr66326.cc: Do not include cilk.h.\n+\t(main): Use _Cilk_spawn instead of cilk_spawn.\n+\n 2015-11-09  Thomas Schwinge  <thomas@codesourcery.com>\n \n \t* gcc.target/i386/addr-space-3.c: Fix quoting in dg-final"}, {"sha": "057a9ced2830ffe9557ec033d4680624833b17b8", "filename": "gcc/testsuite/g++.dg/cilk-plus/CK/pr66326.cc", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4483f3eeb72ef2ba566b0603d7660b15bb3bf124/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fpr66326.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4483f3eeb72ef2ba566b0603d7660b15bb3bf124/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fpr66326.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2FCK%2Fpr66326.cc?ref=4483f3eeb72ef2ba566b0603d7660b15bb3bf124", "patch": "@@ -2,7 +2,6 @@\n /* { dg-do run { target i?86-*-* x86_64-*-* } } */\n /* { dg-options \"-fcilkplus -lcilkrts\" { target { i?86-*-* x86_64-*-* } } } */\n \n-#include <cilk/cilk.h>\n #include <vector>\n #include <random>\n \n@@ -23,8 +22,8 @@ auto compute() {\n \n int main() {\n   std::vector<double> v1, v2, v3;\n-  cilk_spawn [&] { v1 = compute(); }();\n-  cilk_spawn [&] { v2 = compute(); }();\n+  _Cilk_spawn [&] { v1 = compute(); }();\n+  _Cilk_spawn [&] { v2 = compute(); }();\n   v3 = compute();\n   do_not_optimize_away(v1.data());\n   do_not_optimize_away(v2.data());"}]}