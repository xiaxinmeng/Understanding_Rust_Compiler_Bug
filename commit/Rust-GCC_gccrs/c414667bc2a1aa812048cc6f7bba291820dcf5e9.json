{"sha": "c414667bc2a1aa812048cc6f7bba291820dcf5e9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzQxNDY2N2JjMmExYWE4MTIwNDhjYzZmN2JiYTI5MTgyMGRjZjVlOQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-05-07T18:24:17Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-05-07T18:24:17Z"}, "message": "compiler: reject NOT operator on integer types.\n\nThe Go specification only accepts the NOT operator on boolean\ntypes.\n\nFixes issue 10.\n\nFrom-SVN: r187262", "tree": {"sha": "0e21d73bbd2e337c743709c4ac5ecd561dd021db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e21d73bbd2e337c743709c4ac5ecd561dd021db"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c414667bc2a1aa812048cc6f7bba291820dcf5e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c414667bc2a1aa812048cc6f7bba291820dcf5e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c414667bc2a1aa812048cc6f7bba291820dcf5e9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c414667bc2a1aa812048cc6f7bba291820dcf5e9/comments", "author": null, "committer": null, "parents": [{"sha": "55796e90211a41667518e334812ee31001a35f54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55796e90211a41667518e334812ee31001a35f54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55796e90211a41667518e334812ee31001a35f54"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "39824bfcb6f8cac4dce6de4d29c595c44d901063", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c414667bc2a1aa812048cc6f7bba291820dcf5e9/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c414667bc2a1aa812048cc6f7bba291820dcf5e9/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=c414667bc2a1aa812048cc6f7bba291820dcf5e9", "patch": "@@ -3606,8 +3606,7 @@ Unary_expression::do_lower(Gogo*, Named_object*, Statement_inserter*, int)\n       return Expression::make_error(this->location());\n     }\n \n-  if (op == OPERATOR_PLUS || op == OPERATOR_MINUS\n-      || op == OPERATOR_NOT || op == OPERATOR_XOR)\n+  if (op == OPERATOR_PLUS || op == OPERATOR_MINUS || op == OPERATOR_XOR)\n     {\n       Numeric_constant nc;\n       if (expr->numeric_constant_value(&nc))\n@@ -3697,10 +3696,10 @@ Unary_expression::eval_constant(Operator op, const Numeric_constant* unc,\n       else\n \tgo_unreachable();\n \n-    case OPERATOR_NOT:\n     case OPERATOR_XOR:\n       break;\n \n+    case OPERATOR_NOT:\n     case OPERATOR_AND:\n     case OPERATOR_MULT:\n       return false;\n@@ -3911,6 +3910,10 @@ Unary_expression::do_check_types(Gogo*)\n       break;\n \n     case OPERATOR_NOT:\n+      if (!type->is_boolean_type())\n+\tthis->report_error(_(\"expected boolean type\"));\n+      break;\n+\n     case OPERATOR_XOR:\n       if (type->integer_type() == NULL\n \t  && !type->is_boolean_type())"}]}