{"sha": "144f591fcd44be95ab3fd5284735ea304996f51b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTQ0ZjU5MWZjZDQ0YmU5NWFiM2ZkNTI4NDczNWVhMzA0OTk2ZjUxYg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2013-02-03T11:53:02Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2013-02-03T11:53:02Z"}, "message": "decl.c: Include diagnostic-core.h.\n\n\t* gcc-interface/decl.c: Include diagnostic-core.h.\n\t(gnat_to_gnu_entity) <E_Array_Type>: Sorry if Reverse_Storage_Order\n\tis set on the entity.\n\t<E_Record_Type>: Likewise.\n\t* gcc-interface/Make-lang.in (ada/decl.o): Add $(DIAGNOSTIC_CORE_H).\n\nFrom-SVN: r195694", "tree": {"sha": "2992e01be5e721348b146c321a0f249ccf67ee83", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2992e01be5e721348b146c321a0f249ccf67ee83"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/144f591fcd44be95ab3fd5284735ea304996f51b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/144f591fcd44be95ab3fd5284735ea304996f51b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/144f591fcd44be95ab3fd5284735ea304996f51b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/144f591fcd44be95ab3fd5284735ea304996f51b/comments", "author": null, "committer": null, "parents": [{"sha": "ad2466aee4897a7315549149174e26aae7021ed4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad2466aee4897a7315549149174e26aae7021ed4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad2466aee4897a7315549149174e26aae7021ed4"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "58b30a2e30562f016cb8bb46f708c14af5daedcf", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/144f591fcd44be95ab3fd5284735ea304996f51b/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/144f591fcd44be95ab3fd5284735ea304996f51b/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=144f591fcd44be95ab3fd5284735ea304996f51b", "patch": "@@ -1,3 +1,11 @@\n+2013-02-03  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/decl.c: Include diagnostic-core.h.\n+\t(gnat_to_gnu_entity) <E_Array_Type>: Sorry if Reverse_Storage_Order\n+\tis set on the entity.\n+\t<E_Record_Type>: Likewise.\n+\t* gcc-interface/Make-lang.in (ada/decl.o): Add $(DIAGNOSTIC_CORE_H).\n+\n 2013-01-29  Ben Brosgol  <brosgol@adacore.com>\n \n \t* gnat_rm.texi: Fixed typos. Minor edits."}, {"sha": "96e1611a1de8412fc2a7217907ff15eca0a2dcd6", "filename": "gcc/ada/gcc-interface/Make-lang.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/144f591fcd44be95ab3fd5284735ea304996f51b/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/144f591fcd44be95ab3fd5284735ea304996f51b/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMake-lang.in?ref=144f591fcd44be95ab3fd5284735ea304996f51b", "patch": "@@ -986,8 +986,8 @@ ada/cuintp.o : ada/gcc-interface/cuintp.c $(CONFIG_H) $(SYSTEM_H) coretypes.h \\\n \t$(COMPILER) -c $(ALL_COMPILERFLAGS) -I.. $(ALL_CPPFLAGS) $< -o $@\n \n ada/decl.o : ada/gcc-interface/decl.c $(CONFIG_H) $(SYSTEM_H) coretypes.h \\\n-   $(TM_H) $(TREE_H) $(FLAGS_H) toplev.h $(TARGET_H) \\\n-   $(TREE_INLINE_H) ada/gcc-interface/ada.h ada/types.h ada/atree.h \\\n+   $(TM_H) $(TREE_H) $(FLAGS_H) toplev.h $(TARGET_H) $(TREE_INLINE_H) \\\n+   $(DIAGNOSTIC_CORE_H) ada/gcc-interface/ada.h ada/types.h ada/atree.h \\\n    ada/elists.h ada/namet.h ada/nlists.h ada/repinfo.h ada/snames.h \\\n    ada/stringt.h ada/uintp.h ada/fe.h ada/sinfo.h ada/einfo.h $(ADA_TREE_H) \\\n    ada/gcc-interface/gigi.h gt-ada-decl.h"}, {"sha": "56b64a3c3436c3aa4f2aacdb270c5238730aedbe", "filename": "gcc/ada/gcc-interface/decl.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/144f591fcd44be95ab3fd5284735ea304996f51b/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/144f591fcd44be95ab3fd5284735ea304996f51b/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fdecl.c?ref=144f591fcd44be95ab3fd5284735ea304996f51b", "patch": "@@ -33,6 +33,7 @@\n #include \"ggc.h\"\n #include \"target.h\"\n #include \"tree-inline.h\"\n+#include \"diagnostic-core.h\"\n \n #include \"ada.h\"\n #include \"types.h\"\n@@ -2244,6 +2245,8 @@ gnat_to_gnu_entity (Entity_Id gnat_entity, tree gnu_expr, int definition)\n \tfor (index = ndim - 1; index >= 0; index--)\n \t  {\n \t    tem = build_nonshared_array_type (tem, gnu_index_types[index]);\n+\t    if (Reverse_Storage_Order (gnat_entity))\n+\t      sorry (\"non-default Scalar_Storage_Order\");\n \t    TYPE_MULTI_ARRAY_P (tem) = (index > 0);\n \t    if (array_type_has_nonaliased_component (tem, gnat_entity))\n \t      TYPE_NONALIASED_COMPONENT (tem) = 1;\n@@ -2957,6 +2960,8 @@ gnat_to_gnu_entity (Entity_Id gnat_entity, tree gnu_expr, int definition)\n \tgnu_type = make_node (tree_code_for_record_type (gnat_entity));\n \tTYPE_NAME (gnu_type) = gnu_entity_name;\n \tTYPE_PACKED (gnu_type) = (packed != 0) || has_rep;\n+\tif (Reverse_Storage_Order (gnat_entity))\n+\t  sorry (\"non-default Scalar_Storage_Order\");\n \n \tif (!definition)\n \t  {"}]}