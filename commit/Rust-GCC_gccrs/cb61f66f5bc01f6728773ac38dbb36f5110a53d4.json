{"sha": "cb61f66f5bc01f6728773ac38dbb36f5110a53d4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2I2MWY2NmY1YmMwMWY2NzI4NzczYWMzOGRiYjM2ZjUxMTBhNTNkNA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-09-05T20:01:32Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-09-05T20:01:32Z"}, "message": "(assign_parms): When parm needs conversion on entry,\n\ndon't store it back in the slot where it was passed.\n\nFrom-SVN: r5261", "tree": {"sha": "3fbf42eb9cd004b4106ef3b5a0d733fa56afa3b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3fbf42eb9cd004b4106ef3b5a0d733fa56afa3b7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cb61f66f5bc01f6728773ac38dbb36f5110a53d4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb61f66f5bc01f6728773ac38dbb36f5110a53d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb61f66f5bc01f6728773ac38dbb36f5110a53d4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb61f66f5bc01f6728773ac38dbb36f5110a53d4/comments", "author": null, "committer": null, "parents": [{"sha": "76229ac8db9be933046d0cb365a727bf449b13b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76229ac8db9be933046d0cb365a727bf449b13b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/76229ac8db9be933046d0cb365a727bf449b13b3"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "f58b4729d92b8c6d69a7995bec732d26aee7e3dc", "filename": "gcc/function.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb61f66f5bc01f6728773ac38dbb36f5110a53d4/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb61f66f5bc01f6728773ac38dbb36f5110a53d4/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=cb61f66f5bc01f6728773ac38dbb36f5110a53d4", "patch": "@@ -3145,6 +3145,13 @@ assign_parms (fndecl, second_time)\n \t  stack_parm = 0;\n       }\n \n+      /* If parm was passed in memory, and we need to convert it on entry,\n+\t don't store it back in that same slot.  */\n+      if (entry_parm != 0\n+\t  && nominal_mode != BLKmode && nominal_mode != passed_mode)\n+\tstack_parm = 0;\n+\n+#if 0\n       /* Now adjust STACK_PARM to the mode and precise location\n \t where this parameter should live during execution,\n \t if we discover that it must live in the stack during execution.\n@@ -3174,6 +3181,7 @@ assign_parms (fndecl, second_time)\n \t     mark it as such for cse and loop optimize.  */\n \t  MEM_IN_STRUCT_P (stack_parm) = aggregate;\n \t}\n+#endif /* 0 */\n \n       /* ENTRY_PARM is an RTX for the parameter as it arrives,\n \t in the mode in which it arrives."}]}