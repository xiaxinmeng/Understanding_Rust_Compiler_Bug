{"sha": "f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjhiZGI5MzFhOTdiY2Q5MGRkNDdjZmNkM2I0ZmJhYmYxODcyYTg0Zg==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard@codesourcery.com", "date": "2006-07-17T15:29:19Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2006-07-17T15:29:19Z"}, "message": "re PR middle-end/28402 (Doubleword shifts implemented using word_mode libcalls)\n\ngcc/\n\tPR middle-end/28402\n\t* optabs.c (expand_binop): Pass next_methods rather than methods\n\tto expand_doubleword_shift.\n\ngcc/testsuite/\n\tPR middle-end/28402\n\t* gcc.dg/pr28402.c: New test.\n\nFrom-SVN: r115524", "tree": {"sha": "8cfddf5a3cfaa67dde48fbb4db6998a680d1afed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8cfddf5a3cfaa67dde48fbb4db6998a680d1afed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f/comments", "author": null, "committer": null, "parents": [{"sha": "77bffd4cee22d47afd683172ad0a91e4c4cd4990", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77bffd4cee22d47afd683172ad0a91e4c4cd4990", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77bffd4cee22d47afd683172ad0a91e4c4cd4990"}], "stats": {"total": 56, "additions": 55, "deletions": 1}, "files": [{"sha": "e9dba8e499521ac1d731a3c3a58e9e80a8edcfe6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f", "patch": "@@ -1,3 +1,9 @@\n+2006-07-17  Richard Sandiford  <richard@codesourcery.com>\n+\n+\tPR middle-end/28402\n+\t* optabs.c (expand_binop): Pass next_methods rather than methods\n+\tto expand_doubleword_shift.\n+\n 2006-07-17  J\"orn Rennecke  <joern.rennecke@st.com>\n \n \tPR other/28251"}, {"sha": "a8be6f98ce3274de6d9490b004b648cdb35e8672", "filename": "gcc/optabs.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f/gcc%2Foptabs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f/gcc%2Foptabs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptabs.c?ref=f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f", "patch": "@@ -1558,7 +1558,7 @@ expand_binop (enum machine_mode mode, optab binoptab, rtx op0, rtx op1,\n \t  if (expand_doubleword_shift (op1_mode, binoptab,\n \t\t\t\t       outof_input, into_input, op1,\n \t\t\t\t       outof_target, into_target,\n-\t\t\t\t       unsignedp, methods, shift_mask))\n+\t\t\t\t       unsignedp, next_methods, shift_mask))\n \t    {\n \t      insns = get_insns ();\n \t      end_sequence ();"}, {"sha": "e79fd296a7e9a4e07bd694093ece25fb43b7b0f5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f", "patch": "@@ -1,3 +1,8 @@\n+2006-07-17  Richard Sandiford  <richard@codesourcery.com>\n+\n+\tPR middle-end/28402\n+\t* gcc.dg/pr28402.c: New test.\n+\n 2006-07-17  Steve Ellcey  <sje@cup.hp.com>\n \n \tPR c++/28304"}, {"sha": "1390ecaf244cbfb50a64a099d20e441218d2753a", "filename": "gcc/testsuite/gcc.dg/pr28402.c", "status": "added", "additions": 43, "deletions": 0, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f/gcc%2Ftestsuite%2Fgcc.dg%2Fpr28402.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f/gcc%2Ftestsuite%2Fgcc.dg%2Fpr28402.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr28402.c?ref=f8bdb931a97bcd90dd47cfcd3b4fbabf1872a84f", "patch": "@@ -0,0 +1,43 @@\n+/* { dg-options \"\" } */\n+typedef long long ll;\n+typedef unsigned long long ull;\n+\n+int global;\n+\n+#define A(BASE, OP, AMT) \\\n+  ll BASE ## AMT (ll x) { return x OP AMT; } \\\n+  ull BASE ## AMT ## u (ull x) { return x OP AMT; }\n+\n+#define B(BASE, OP) \\\n+  A (BASE, OP, 1) \\\n+  A (BASE, OP, 10) \\\n+  A (BASE, OP, 31) \\\n+  A (BASE, OP, 33) \\\n+  A (BASE, OP, 61) \\\n+  A (BASE, OP, global)\n+\n+B (left, <<)\n+B (right, >>)\n+\n+/* { dg-final { scan-assembler-not \"__\\[a-z\\]*si3\" } } */\n+typedef unsigned long long ll;\n+typedef unsigned long long ull;\n+\n+int global;\n+\n+#define A(BASE, OP, AMT) \\\n+  ll BASE ## AMT (ll x) { return x OP AMT; } \\\n+  ull BASE ## AMT ## u (ull x) { return x OP AMT; }\n+\n+#define B(BASE, OP) \\\n+  A (BASE, OP, 1) \\\n+  A (BASE, OP, 10) \\\n+  A (BASE, OP, 31) \\\n+  A (BASE, OP, 33) \\\n+  A (BASE, OP, 61) \\\n+  A (BASE, OP, global)\n+\n+B (left, <<)\n+B (right, >>)\n+\n+/* { dg-final { scan-assembler-not \"__\\[a-z\\]*si3\" } } */"}]}