{"sha": "0ba28a6d484b7aab09c57af8d36e3b789a443c3f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGJhMjhhNmQ0ODRiN2FhYjA5YzU3YWY4ZDM2ZTNiNzg5YTQ0M2MzZg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-12-21T19:14:46Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-12-21T19:14:46Z"}, "message": "wtr-aggr-init-1.c: Test that __extension__ disables then re-enables the warning.\n\n        * gcc.dg/wtr-aggr-init-1.c: Test that __extension__ disables then\n        re-enables the warning.\n\nFrom-SVN: r48248", "tree": {"sha": "0dfde0176cfef4e0c3e293ad70883b0599ecb578", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0dfde0176cfef4e0c3e293ad70883b0599ecb578"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0ba28a6d484b7aab09c57af8d36e3b789a443c3f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ba28a6d484b7aab09c57af8d36e3b789a443c3f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ba28a6d484b7aab09c57af8d36e3b789a443c3f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ba28a6d484b7aab09c57af8d36e3b789a443c3f/comments", "author": null, "committer": null, "parents": [{"sha": "5137bd4f868d44e010dd5be0c0164ef5713af10c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5137bd4f868d44e010dd5be0c0164ef5713af10c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5137bd4f868d44e010dd5be0c0164ef5713af10c"}], "stats": {"total": 27, "additions": 21, "deletions": 6}, "files": [{"sha": "fadeb19fe399b34e9a230c724f3d40ffb4127b58", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ba28a6d484b7aab09c57af8d36e3b789a443c3f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ba28a6d484b7aab09c57af8d36e3b789a443c3f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0ba28a6d484b7aab09c57af8d36e3b789a443c3f", "patch": "@@ -1,3 +1,8 @@\n+2001-12-21  Richard Henderson  <rth@redhat.com>\n+\n+\t* gcc.dg/wtr-aggr-init-1.c: Test that __extension__ disables then\n+\tre-enables the warning.\n+\n 2001-12-21  Richard Henderson  <rth@redhat.com>\n \n \t* g++.old-deja/g++.eh/badalloc1.C (malloc): Fix typo."}, {"sha": "c60a6955003f097907cb41cd29504871b7dd2d1b", "filename": "gcc/testsuite/gcc.dg/wtr-aggr-init-1.c", "status": "modified", "additions": 16, "deletions": 6, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ba28a6d484b7aab09c57af8d36e3b789a443c3f/gcc%2Ftestsuite%2Fgcc.dg%2Fwtr-aggr-init-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ba28a6d484b7aab09c57af8d36e3b789a443c3f/gcc%2Ftestsuite%2Fgcc.dg%2Fwtr-aggr-init-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fwtr-aggr-init-1.c?ref=0ba28a6d484b7aab09c57af8d36e3b789a443c3f", "patch": "@@ -20,19 +20,29 @@ testfunc1 (void)\n   static struct foo f4 = { 0, 0 };\n   \n   f3 = f4;\n+\n+  __extension__ ({\n+    struct foo f5 = { 0, 0 }; /* { dg-bogus \"traditional C rejects automatic\" \"__extension__ disables warnings\" } */\n+    f5.i = 0;\n+  });\n+\n+  {\n+    struct foo f6 = { 0, 0 }; /* { dg-warning \"traditional C rejects automatic\" \"__extension__ reenables warnings\" } */\n+    f6.i = 0;\n+  }\n }\n   \n-# 26 \"sys-header.h\" 3\n+# 35 \"sys-header.h\" 3\n /* We are in system headers now, no -Wtraditional warnings should issue.  */\n \n-struct foo f5 = { 0, 0 };\n-static struct foo f6 = { 0, 0 };\n+struct foo f7 = { 0, 0 };\n+static struct foo f8 = { 0, 0 };\n \n void\n testfunc2 (void)\n {\n-  struct foo f7 = { 0, 0 };\n-  static struct foo f8 = { 0, 0 };\n+  struct foo f9 = { 0, 0 };\n+  static struct foo f10 = { 0, 0 };\n   \n-  f7 = f8;\n+  f9 = f10;\n }"}]}