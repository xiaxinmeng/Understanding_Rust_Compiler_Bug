{"sha": "fa3c4d47b961d8be02e62345d2122b93ad077207", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmEzYzRkNDdiOTYxZDhiZTAyZTYyMzQ1ZDIxMjJiOTNhZDA3NzIwNw==", "commit": {"author": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2018-01-07T14:11:11Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2018-01-07T14:11:11Z"}, "message": "libgfortran.h (GFC_DTYPE_COPY): New macro.\n\n2018-01-07  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\t* libgfortran.h (GFC_DTYPE_COPY): New macro.\n\t(GFC_DTYPE_COPY_SETRANK): New macro.\n\t(GFC_DTYPE_IS_UNSET): New macro.\n\t* intrinsics/cshift0.c (cshift0): Use new macros.\n\t* intrinsics/eoshift0.c (eoshift0): Likewise.\n\t* intrinsics/eoshift2.c (eoshift2): Likewise.\n\t* intrinsics/move_alloc.c (move_alloc): Likewise.\n\t* intrinsics/reshape_generic.c (reshape_internal): Likewise.\n\t* intrinsics/spread_generic.c (spread_internal): Likewise.\n\t* intrinsics/spread_generic.c (spread_scalar): Likewise.\n\t* intrinsics/spread_generic.c (spread_char_scalar): Likewise.\n\t* intrinsics/spread_generic.c (spread_char4_scalar): Likewise.\n\t* intrinsics/unpack_generic.c (unpack0): Likewise.\n\t* intrinsics/unpack_generic.c (unpack0_char): Likewise.\n\t* intrinsics/unpack_generic.c (unpack0_char4): Likewise.\n\t* m4/cshift1.m4 (cshift1): Likewise.\n\t* m4/eoshift1.m4 (eoshift1): Likewise.\n\t* m4/eoshift3.m4 (eoshift3): Likewise.\n\t* m4/iforeach-s.m4: Likewise.\n\t* m4/iforeach.m4: Likewise.\n\t* m4/ifunction-s.m4: Likewise.\n\t* m4/ifunction-s2.m4: Likewise.\n\t* m4/ifunction.m4: Likewise.\n\t* m4/ifunction_logical.m4: Likewise.\n\t* m4/reshape.m4: Likewise.\n\t* m4/spread.m4: Likewise.\n\t* generated/all_l1.c : Regenerated.\n\t* generated/all_l16.c : Regenerated.\n\t* generated/all_l2.c : Regenerated.\n\t* generated/all_l4.c : Regenerated.\n\t* generated/all_l8.c : Regenerated.\n\t* generated/any_l1.c : Regenerated.\n\t* generated/any_l16.c : Regenerated.\n\t* generated/any_l2.c : Regenerated.\n\t* generated/any_l4.c : Regenerated.\n\t* generated/any_l8.c : Regenerated.\n\t* generated/count_16_l.c : Regenerated.\n\t* generated/count_1_l.c : Regenerated.\n\t* generated/count_2_l.c : Regenerated.\n\t* generated/count_4_l.c : Regenerated.\n\t* generated/count_8_l.c : Regenerated.\n\t* generated/cshift1_16.c : Regenerated.\n\t* generated/cshift1_4.c : Regenerated.\n\t* generated/cshift1_8.c : Regenerated.\n\t* generated/eoshift1_16.c : Regenerated.\n\t* generated/eoshift1_4.c : Regenerated.\n\t* generated/eoshift1_8.c : Regenerated.\n\t* generated/eoshift3_16.c : Regenerated.\n\t* generated/eoshift3_4.c : Regenerated.\n\t* generated/eoshift3_8.c : Regenerated.\n\t* generated/iall_i1.c : Regenerated.\n\t* generated/iall_i16.c : Regenerated.\n\t* generated/iall_i2.c : Regenerated.\n\t* generated/iall_i4.c : Regenerated.\n\t* generated/iall_i8.c : Regenerated.\n\t* generated/iany_i1.c : Regenerated.\n\t* generated/iany_i16.c : Regenerated.\n\t* generated/iany_i2.c : Regenerated.\n\t* generated/iany_i4.c : Regenerated.\n\t* generated/iany_i8.c : Regenerated.\n\t* generated/iparity_i1.c : Regenerated.\n\t* generated/iparity_i16.c : Regenerated.\n\t* generated/iparity_i2.c : Regenerated.\n\t* generated/iparity_i4.c : Regenerated.\n\t* generated/iparity_i8.c : Regenerated.\n\t* generated/maxloc0_16_i1.c : Regenerated.\n\t* generated/maxloc0_16_i16.c : Regenerated.\n\t* generated/maxloc0_16_i2.c : Regenerated.\n\t* generated/maxloc0_16_i4.c : Regenerated.\n\t* generated/maxloc0_16_i8.c : Regenerated.\n\t* generated/maxloc0_16_r10.c : Regenerated.\n\t* generated/maxloc0_16_r16.c : Regenerated.\n\t* generated/maxloc0_16_r4.c : Regenerated.\n\t* generated/maxloc0_16_r8.c : Regenerated.\n\t* generated/maxloc0_16_s1.c : Regenerated.\n\t* generated/maxloc0_16_s4.c : Regenerated.\n\t* generated/maxloc0_4_i1.c : Regenerated.\n\t* generated/maxloc0_4_i16.c : Regenerated.\n\t* generated/maxloc0_4_i2.c : Regenerated.\n\t* generated/maxloc0_4_i4.c : Regenerated.\n\t* generated/maxloc0_4_i8.c : Regenerated.\n\t* generated/maxloc0_4_r10.c : Regenerated.\n\t* generated/maxloc0_4_r16.c : Regenerated.\n\t* generated/maxloc0_4_r4.c : Regenerated.\n\t* generated/maxloc0_4_r8.c : Regenerated.\n\t* generated/maxloc0_4_s1.c : Regenerated.\n\t* generated/maxloc0_4_s4.c : Regenerated.\n\t* generated/maxloc0_8_i1.c : Regenerated.\n\t* generated/maxloc0_8_i16.c : Regenerated.\n\t* generated/maxloc0_8_i2.c : Regenerated.\n\t* generated/maxloc0_8_i4.c : Regenerated.\n\t* generated/maxloc0_8_i8.c : Regenerated.\n\t* generated/maxloc0_8_r10.c : Regenerated.\n\t* generated/maxloc0_8_r16.c : Regenerated.\n\t* generated/maxloc0_8_r4.c : Regenerated.\n\t* generated/maxloc0_8_r8.c : Regenerated.\n\t* generated/maxloc0_8_s1.c : Regenerated.\n\t* generated/maxloc0_8_s4.c : Regenerated.\n\t* generated/maxloc1_16_i1.c : Regenerated.\n\t* generated/maxloc1_16_i16.c : Regenerated.\n\t* generated/maxloc1_16_i2.c : Regenerated.\n\t* generated/maxloc1_16_i4.c : Regenerated.\n\t* generated/maxloc1_16_i8.c : Regenerated.\n\t* generated/maxloc1_16_r10.c : Regenerated.\n\t* generated/maxloc1_16_r16.c : Regenerated.\n\t* generated/maxloc1_16_r4.c : Regenerated.\n\t* generated/maxloc1_16_r8.c : Regenerated.\n\t* generated/maxloc1_16_s1.c : Regenerated.\n\t* generated/maxloc1_16_s4.c : Regenerated.\n\t* generated/maxloc1_4_i1.c : Regenerated.\n\t* generated/maxloc1_4_i16.c : Regenerated.\n\t* generated/maxloc1_4_i2.c : Regenerated.\n\t* generated/maxloc1_4_i4.c : Regenerated.\n\t* generated/maxloc1_4_i8.c : Regenerated.\n\t* generated/maxloc1_4_r10.c : Regenerated.\n\t* generated/maxloc1_4_r16.c : Regenerated.\n\t* generated/maxloc1_4_r4.c : Regenerated.\n\t* generated/maxloc1_4_r8.c : Regenerated.\n\t* generated/maxloc1_4_s1.c : Regenerated.\n\t* generated/maxloc1_4_s4.c : Regenerated.\n\t* generated/maxloc1_8_i1.c : Regenerated.\n\t* generated/maxloc1_8_i16.c : Regenerated.\n\t* generated/maxloc1_8_i2.c : Regenerated.\n\t* generated/maxloc1_8_i4.c : Regenerated.\n\t* generated/maxloc1_8_i8.c : Regenerated.\n\t* generated/maxloc1_8_r10.c : Regenerated.\n\t* generated/maxloc1_8_r16.c : Regenerated.\n\t* generated/maxloc1_8_r4.c : Regenerated.\n\t* generated/maxloc1_8_r8.c : Regenerated.\n\t* generated/maxloc1_8_s1.c : Regenerated.\n\t* generated/maxloc1_8_s4.c : Regenerated.\n\t* generated/maxval1_s1.c : Regenerated.\n\t* generated/maxval1_s4.c : Regenerated.\n\t* generated/maxval_i1.c : Regenerated.\n\t* generated/maxval_i16.c : Regenerated.\n\t* generated/maxval_i2.c : Regenerated.\n\t* generated/maxval_i4.c : Regenerated.\n\t* generated/maxval_i8.c : Regenerated.\n\t* generated/maxval_r10.c : Regenerated.\n\t* generated/maxval_r16.c : Regenerated.\n\t* generated/maxval_r4.c : Regenerated.\n\t* generated/maxval_r8.c : Regenerated.\n\t* generated/minloc0_16_i1.c : Regenerated.\n\t* generated/minloc0_16_i16.c : Regenerated.\n\t* generated/minloc0_16_i2.c : Regenerated.\n\t* generated/minloc0_16_i4.c : Regenerated.\n\t* generated/minloc0_16_i8.c : Regenerated.\n\t* generated/minloc0_16_r10.c : Regenerated.\n\t* generated/minloc0_16_r16.c : Regenerated.\n\t* generated/minloc0_16_r4.c : Regenerated.\n\t* generated/minloc0_16_r8.c : Regenerated.\n\t* generated/minloc0_16_s1.c : Regenerated.\n\t* generated/minloc0_16_s4.c : Regenerated.\n\t* generated/minloc0_4_i1.c : Regenerated.\n\t* generated/minloc0_4_i16.c : Regenerated.\n\t* generated/minloc0_4_i2.c : Regenerated.\n\t* generated/minloc0_4_i4.c : Regenerated.\n\t* generated/minloc0_4_i8.c : Regenerated.\n\t* generated/minloc0_4_r10.c : Regenerated.\n\t* generated/minloc0_4_r16.c : Regenerated.\n\t* generated/minloc0_4_r4.c : Regenerated.\n\t* generated/minloc0_4_r8.c : Regenerated.\n\t* generated/minloc0_4_s1.c : Regenerated.\n\t* generated/minloc0_4_s4.c : Regenerated.\n\t* generated/minloc0_8_i1.c : Regenerated.\n\t* generated/minloc0_8_i16.c : Regenerated.\n\t* generated/minloc0_8_i2.c : Regenerated.\n\t* generated/minloc0_8_i4.c : Regenerated.\n\t* generated/minloc0_8_i8.c : Regenerated.\n\t* generated/minloc0_8_r10.c : Regenerated.\n\t* generated/minloc0_8_r16.c : Regenerated.\n\t* generated/minloc0_8_r4.c : Regenerated.\n\t* generated/minloc0_8_r8.c : Regenerated.\n\t* generated/minloc0_8_s1.c : Regenerated.\n\t* generated/minloc0_8_s4.c : Regenerated.\n\t* generated/minloc1_16_i1.c : Regenerated.\n\t* generated/minloc1_16_i16.c : Regenerated.\n\t* generated/minloc1_16_i2.c : Regenerated.\n\t* generated/minloc1_16_i4.c : Regenerated.\n\t* generated/minloc1_16_i8.c : Regenerated.\n\t* generated/minloc1_16_r10.c : Regenerated.\n\t* generated/minloc1_16_r16.c : Regenerated.\n\t* generated/minloc1_16_r4.c : Regenerated.\n\t* generated/minloc1_16_r8.c : Regenerated.\n\t* generated/minloc1_16_s1.c : Regenerated.\n\t* generated/minloc1_16_s4.c : Regenerated.\n\t* generated/minloc1_4_i1.c : Regenerated.\n\t* generated/minloc1_4_i16.c : Regenerated.\n\t* generated/minloc1_4_i2.c : Regenerated.\n\t* generated/minloc1_4_i4.c : Regenerated.\n\t* generated/minloc1_4_i8.c : Regenerated.\n\t* generated/minloc1_4_r10.c : Regenerated.\n\t* generated/minloc1_4_r16.c : Regenerated.\n\t* generated/minloc1_4_r4.c : Regenerated.\n\t* generated/minloc1_4_r8.c : Regenerated.\n\t* generated/minloc1_4_s1.c : Regenerated.\n\t* generated/minloc1_4_s4.c : Regenerated.\n\t* generated/minloc1_8_i1.c : Regenerated.\n\t* generated/minloc1_8_i16.c : Regenerated.\n\t* generated/minloc1_8_i2.c : Regenerated.\n\t* generated/minloc1_8_i4.c : Regenerated.\n\t* generated/minloc1_8_i8.c : Regenerated.\n\t* generated/minloc1_8_r10.c : Regenerated.\n\t* generated/minloc1_8_r16.c : Regenerated.\n\t* generated/minloc1_8_r4.c : Regenerated.\n\t* generated/minloc1_8_r8.c : Regenerated.\n\t* generated/minloc1_8_s1.c : Regenerated.\n\t* generated/minloc1_8_s4.c : Regenerated.\n\t* generated/minval1_s1.c : Regenerated.\n\t* generated/minval1_s4.c : Regenerated.\n\t* generated/minval_i1.c : Regenerated.\n\t* generated/minval_i16.c : Regenerated.\n\t* generated/minval_i2.c : Regenerated.\n\t* generated/minval_i4.c : Regenerated.\n\t* generated/minval_i8.c : Regenerated.\n\t* generated/minval_r10.c : Regenerated.\n\t* generated/minval_r16.c : Regenerated.\n\t* generated/minval_r4.c : Regenerated.\n\t* generated/minval_r8.c : Regenerated.\n\t* generated/norm2_r10.c : Regenerated.\n\t* generated/norm2_r16.c : Regenerated.\n\t* generated/norm2_r4.c : Regenerated.\n\t* generated/norm2_r8.c : Regenerated.\n\t* generated/parity_l1.c : Regenerated.\n\t* generated/parity_l16.c : Regenerated.\n\t* generated/parity_l2.c : Regenerated.\n\t* generated/parity_l4.c : Regenerated.\n\t* generated/parity_l8.c : Regenerated.\n\t* generated/product_c10.c : Regenerated.\n\t* generated/product_c16.c : Regenerated.\n\t* generated/product_c4.c : Regenerated.\n\t* generated/product_c8.c : Regenerated.\n\t* generated/product_i1.c : Regenerated.\n\t* generated/product_i16.c : Regenerated.\n\t* generated/product_i2.c : Regenerated.\n\t* generated/product_i4.c : Regenerated.\n\t* generated/product_i8.c : Regenerated.\n\t* generated/product_r10.c : Regenerated.\n\t* generated/product_r16.c : Regenerated.\n\t* generated/product_r4.c : Regenerated.\n\t* generated/product_r8.c : Regenerated.\n\t* generated/reshape_c10.c : Regenerated.\n\t* generated/reshape_c16.c : Regenerated.\n\t* generated/reshape_c4.c : Regenerated.\n\t* generated/reshape_c8.c : Regenerated.\n\t* generated/reshape_i16.c : Regenerated.\n\t* generated/reshape_i4.c : Regenerated.\n\t* generated/reshape_i8.c : Regenerated.\n\t* generated/reshape_r10.c : Regenerated.\n\t* generated/reshape_r16.c : Regenerated.\n\t* generated/reshape_r4.c : Regenerated.\n\t* generated/reshape_r8.c : Regenerated.\n\t* generated/spread_c10.c : Regenerated.\n\t* generated/spread_c16.c : Regenerated.\n\t* generated/spread_c4.c : Regenerated.\n\t* generated/spread_c8.c : Regenerated.\n\t* generated/spread_i1.c : Regenerated.\n\t* generated/spread_i16.c : Regenerated.\n\t* generated/spread_i2.c : Regenerated.\n\t* generated/spread_i4.c : Regenerated.\n\t* generated/spread_i8.c : Regenerated.\n\t* generated/spread_r10.c : Regenerated.\n\t* generated/spread_r16.c : Regenerated.\n\t* generated/spread_r4.c : Regenerated.\n\t* generated/spread_r8.c : Regenerated.\n\t* generated/sum_c10.c : Regenerated.\n\t* generated/sum_c16.c : Regenerated.\n\t* generated/sum_c4.c : Regenerated.\n\t* generated/sum_c8.c : Regenerated.\n\t* generated/sum_i1.c : Regenerated.\n\t* generated/sum_i16.c : Regenerated.\n\t* generated/sum_i2.c : Regenerated.\n\t* generated/sum_i4.c : Regenerated.\n\t* generated/sum_i8.c : Regenerated.\n\t* generated/sum_r10.c : Regenerated.\n\t* generated/sum_r16.c : Regenerated.\n\t* generated/sum_r4.c : Regenerated.\n\t* generated/sum_r8.c : Regenerated.\n\nFrom-SVN: r256323", "tree": {"sha": "c217845d59bc9d2c14317ac18bd3fe3a06f9f42e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c217845d59bc9d2c14317ac18bd3fe3a06f9f42e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fa3c4d47b961d8be02e62345d2122b93ad077207", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa3c4d47b961d8be02e62345d2122b93ad077207", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa3c4d47b961d8be02e62345d2122b93ad077207", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa3c4d47b961d8be02e62345d2122b93ad077207/comments", "author": null, "committer": null, "parents": [{"sha": "ea99ec5bd62c0d14023aac0316f4286193db9434", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea99ec5bd62c0d14023aac0316f4286193db9434", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea99ec5bd62c0d14023aac0316f4286193db9434"}], "stats": {"total": 1642, "additions": 967, "deletions": 675}, "files": [{"sha": "d05e6c65fda598bf7eeeff6d0e2ec6053b7ad5b9", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 281, "deletions": 0, "changes": 281, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -1,3 +1,284 @@\n+2018-01-07  Thomas Koenig  <tkoenig@gcc.gnu.org>\n+\n+\t* libgfortran.h (GFC_DTYPE_COPY): New macro.\n+\t(GFC_DTYPE_COPY_SETRANK): New macro.\n+\t(GFC_DTYPE_IS_UNSET): New macro.\n+\t* intrinsics/cshift0.c (cshift0): Use new macros.\n+\t* intrinsics/eoshift0.c (eoshift0): Likewise.\n+\t* intrinsics/eoshift2.c (eoshift2): Likewise.\n+\t* intrinsics/move_alloc.c (move_alloc): Likewise.\n+\t* intrinsics/reshape_generic.c (reshape_internal): Likewise.\n+\t* intrinsics/spread_generic.c (spread_internal): Likewise.\n+\t* intrinsics/spread_generic.c (spread_scalar): Likewise.\n+\t* intrinsics/spread_generic.c (spread_char_scalar): Likewise.\n+\t* intrinsics/spread_generic.c (spread_char4_scalar): Likewise.\n+\t* intrinsics/unpack_generic.c (unpack0): Likewise.\n+\t* intrinsics/unpack_generic.c (unpack0_char): Likewise.\n+\t* intrinsics/unpack_generic.c (unpack0_char4): Likewise.\n+\t* m4/cshift1.m4 (cshift1): Likewise.\n+\t* m4/eoshift1.m4 (eoshift1): Likewise.\n+\t* m4/eoshift3.m4 (eoshift3): Likewise.\n+\t* m4/iforeach-s.m4: Likewise.\n+\t* m4/iforeach.m4: Likewise.\n+\t* m4/ifunction-s.m4: Likewise.\n+\t* m4/ifunction-s2.m4: Likewise.\n+\t* m4/ifunction.m4: Likewise.\n+\t* m4/ifunction_logical.m4: Likewise.\n+\t* m4/reshape.m4: Likewise.\n+\t* m4/spread.m4: Likewise.\n+\t* generated/all_l1.c : Regenerated.\n+\t* generated/all_l16.c : Regenerated.\n+\t* generated/all_l2.c : Regenerated.\n+\t* generated/all_l4.c : Regenerated.\n+\t* generated/all_l8.c : Regenerated.\n+\t* generated/any_l1.c : Regenerated.\n+\t* generated/any_l16.c : Regenerated.\n+\t* generated/any_l2.c : Regenerated.\n+\t* generated/any_l4.c : Regenerated.\n+\t* generated/any_l8.c : Regenerated.\n+\t* generated/count_16_l.c : Regenerated.\n+\t* generated/count_1_l.c : Regenerated.\n+\t* generated/count_2_l.c : Regenerated.\n+\t* generated/count_4_l.c : Regenerated.\n+\t* generated/count_8_l.c : Regenerated.\n+\t* generated/cshift1_16.c : Regenerated.\n+\t* generated/cshift1_4.c : Regenerated.\n+\t* generated/cshift1_8.c : Regenerated.\n+\t* generated/eoshift1_16.c : Regenerated.\n+\t* generated/eoshift1_4.c : Regenerated.\n+\t* generated/eoshift1_8.c : Regenerated.\n+\t* generated/eoshift3_16.c : Regenerated.\n+\t* generated/eoshift3_4.c : Regenerated.\n+\t* generated/eoshift3_8.c : Regenerated.\n+\t* generated/iall_i1.c : Regenerated.\n+\t* generated/iall_i16.c : Regenerated.\n+\t* generated/iall_i2.c : Regenerated.\n+\t* generated/iall_i4.c : Regenerated.\n+\t* generated/iall_i8.c : Regenerated.\n+\t* generated/iany_i1.c : Regenerated.\n+\t* generated/iany_i16.c : Regenerated.\n+\t* generated/iany_i2.c : Regenerated.\n+\t* generated/iany_i4.c : Regenerated.\n+\t* generated/iany_i8.c : Regenerated.\n+\t* generated/iparity_i1.c : Regenerated.\n+\t* generated/iparity_i16.c : Regenerated.\n+\t* generated/iparity_i2.c : Regenerated.\n+\t* generated/iparity_i4.c : Regenerated.\n+\t* generated/iparity_i8.c : Regenerated.\n+\t* generated/maxloc0_16_i1.c : Regenerated.\n+\t* generated/maxloc0_16_i16.c : Regenerated.\n+\t* generated/maxloc0_16_i2.c : Regenerated.\n+\t* generated/maxloc0_16_i4.c : Regenerated.\n+\t* generated/maxloc0_16_i8.c : Regenerated.\n+\t* generated/maxloc0_16_r10.c : Regenerated.\n+\t* generated/maxloc0_16_r16.c : Regenerated.\n+\t* generated/maxloc0_16_r4.c : Regenerated.\n+\t* generated/maxloc0_16_r8.c : Regenerated.\n+\t* generated/maxloc0_16_s1.c : Regenerated.\n+\t* generated/maxloc0_16_s4.c : Regenerated.\n+\t* generated/maxloc0_4_i1.c : Regenerated.\n+\t* generated/maxloc0_4_i16.c : Regenerated.\n+\t* generated/maxloc0_4_i2.c : Regenerated.\n+\t* generated/maxloc0_4_i4.c : Regenerated.\n+\t* generated/maxloc0_4_i8.c : Regenerated.\n+\t* generated/maxloc0_4_r10.c : Regenerated.\n+\t* generated/maxloc0_4_r16.c : Regenerated.\n+\t* generated/maxloc0_4_r4.c : Regenerated.\n+\t* generated/maxloc0_4_r8.c : Regenerated.\n+\t* generated/maxloc0_4_s1.c : Regenerated.\n+\t* generated/maxloc0_4_s4.c : Regenerated.\n+\t* generated/maxloc0_8_i1.c : Regenerated.\n+\t* generated/maxloc0_8_i16.c : Regenerated.\n+\t* generated/maxloc0_8_i2.c : Regenerated.\n+\t* generated/maxloc0_8_i4.c : Regenerated.\n+\t* generated/maxloc0_8_i8.c : Regenerated.\n+\t* generated/maxloc0_8_r10.c : Regenerated.\n+\t* generated/maxloc0_8_r16.c : Regenerated.\n+\t* generated/maxloc0_8_r4.c : Regenerated.\n+\t* generated/maxloc0_8_r8.c : Regenerated.\n+\t* generated/maxloc0_8_s1.c : Regenerated.\n+\t* generated/maxloc0_8_s4.c : Regenerated.\n+\t* generated/maxloc1_16_i1.c : Regenerated.\n+\t* generated/maxloc1_16_i16.c : Regenerated.\n+\t* generated/maxloc1_16_i2.c : Regenerated.\n+\t* generated/maxloc1_16_i4.c : Regenerated.\n+\t* generated/maxloc1_16_i8.c : Regenerated.\n+\t* generated/maxloc1_16_r10.c : Regenerated.\n+\t* generated/maxloc1_16_r16.c : Regenerated.\n+\t* generated/maxloc1_16_r4.c : Regenerated.\n+\t* generated/maxloc1_16_r8.c : Regenerated.\n+\t* generated/maxloc1_16_s1.c : Regenerated.\n+\t* generated/maxloc1_16_s4.c : Regenerated.\n+\t* generated/maxloc1_4_i1.c : Regenerated.\n+\t* generated/maxloc1_4_i16.c : Regenerated.\n+\t* generated/maxloc1_4_i2.c : Regenerated.\n+\t* generated/maxloc1_4_i4.c : Regenerated.\n+\t* generated/maxloc1_4_i8.c : Regenerated.\n+\t* generated/maxloc1_4_r10.c : Regenerated.\n+\t* generated/maxloc1_4_r16.c : Regenerated.\n+\t* generated/maxloc1_4_r4.c : Regenerated.\n+\t* generated/maxloc1_4_r8.c : Regenerated.\n+\t* generated/maxloc1_4_s1.c : Regenerated.\n+\t* generated/maxloc1_4_s4.c : Regenerated.\n+\t* generated/maxloc1_8_i1.c : Regenerated.\n+\t* generated/maxloc1_8_i16.c : Regenerated.\n+\t* generated/maxloc1_8_i2.c : Regenerated.\n+\t* generated/maxloc1_8_i4.c : Regenerated.\n+\t* generated/maxloc1_8_i8.c : Regenerated.\n+\t* generated/maxloc1_8_r10.c : Regenerated.\n+\t* generated/maxloc1_8_r16.c : Regenerated.\n+\t* generated/maxloc1_8_r4.c : Regenerated.\n+\t* generated/maxloc1_8_r8.c : Regenerated.\n+\t* generated/maxloc1_8_s1.c : Regenerated.\n+\t* generated/maxloc1_8_s4.c : Regenerated.\n+\t* generated/maxval1_s1.c : Regenerated.\n+\t* generated/maxval1_s4.c : Regenerated.\n+\t* generated/maxval_i1.c : Regenerated.\n+\t* generated/maxval_i16.c : Regenerated.\n+\t* generated/maxval_i2.c : Regenerated.\n+\t* generated/maxval_i4.c : Regenerated.\n+\t* generated/maxval_i8.c : Regenerated.\n+\t* generated/maxval_r10.c : Regenerated.\n+\t* generated/maxval_r16.c : Regenerated.\n+\t* generated/maxval_r4.c : Regenerated.\n+\t* generated/maxval_r8.c : Regenerated.\n+\t* generated/minloc0_16_i1.c : Regenerated.\n+\t* generated/minloc0_16_i16.c : Regenerated.\n+\t* generated/minloc0_16_i2.c : Regenerated.\n+\t* generated/minloc0_16_i4.c : Regenerated.\n+\t* generated/minloc0_16_i8.c : Regenerated.\n+\t* generated/minloc0_16_r10.c : Regenerated.\n+\t* generated/minloc0_16_r16.c : Regenerated.\n+\t* generated/minloc0_16_r4.c : Regenerated.\n+\t* generated/minloc0_16_r8.c : Regenerated.\n+\t* generated/minloc0_16_s1.c : Regenerated.\n+\t* generated/minloc0_16_s4.c : Regenerated.\n+\t* generated/minloc0_4_i1.c : Regenerated.\n+\t* generated/minloc0_4_i16.c : Regenerated.\n+\t* generated/minloc0_4_i2.c : Regenerated.\n+\t* generated/minloc0_4_i4.c : Regenerated.\n+\t* generated/minloc0_4_i8.c : Regenerated.\n+\t* generated/minloc0_4_r10.c : Regenerated.\n+\t* generated/minloc0_4_r16.c : Regenerated.\n+\t* generated/minloc0_4_r4.c : Regenerated.\n+\t* generated/minloc0_4_r8.c : Regenerated.\n+\t* generated/minloc0_4_s1.c : Regenerated.\n+\t* generated/minloc0_4_s4.c : Regenerated.\n+\t* generated/minloc0_8_i1.c : Regenerated.\n+\t* generated/minloc0_8_i16.c : Regenerated.\n+\t* generated/minloc0_8_i2.c : Regenerated.\n+\t* generated/minloc0_8_i4.c : Regenerated.\n+\t* generated/minloc0_8_i8.c : Regenerated.\n+\t* generated/minloc0_8_r10.c : Regenerated.\n+\t* generated/minloc0_8_r16.c : Regenerated.\n+\t* generated/minloc0_8_r4.c : Regenerated.\n+\t* generated/minloc0_8_r8.c : Regenerated.\n+\t* generated/minloc0_8_s1.c : Regenerated.\n+\t* generated/minloc0_8_s4.c : Regenerated.\n+\t* generated/minloc1_16_i1.c : Regenerated.\n+\t* generated/minloc1_16_i16.c : Regenerated.\n+\t* generated/minloc1_16_i2.c : Regenerated.\n+\t* generated/minloc1_16_i4.c : Regenerated.\n+\t* generated/minloc1_16_i8.c : Regenerated.\n+\t* generated/minloc1_16_r10.c : Regenerated.\n+\t* generated/minloc1_16_r16.c : Regenerated.\n+\t* generated/minloc1_16_r4.c : Regenerated.\n+\t* generated/minloc1_16_r8.c : Regenerated.\n+\t* generated/minloc1_16_s1.c : Regenerated.\n+\t* generated/minloc1_16_s4.c : Regenerated.\n+\t* generated/minloc1_4_i1.c : Regenerated.\n+\t* generated/minloc1_4_i16.c : Regenerated.\n+\t* generated/minloc1_4_i2.c : Regenerated.\n+\t* generated/minloc1_4_i4.c : Regenerated.\n+\t* generated/minloc1_4_i8.c : Regenerated.\n+\t* generated/minloc1_4_r10.c : Regenerated.\n+\t* generated/minloc1_4_r16.c : Regenerated.\n+\t* generated/minloc1_4_r4.c : Regenerated.\n+\t* generated/minloc1_4_r8.c : Regenerated.\n+\t* generated/minloc1_4_s1.c : Regenerated.\n+\t* generated/minloc1_4_s4.c : Regenerated.\n+\t* generated/minloc1_8_i1.c : Regenerated.\n+\t* generated/minloc1_8_i16.c : Regenerated.\n+\t* generated/minloc1_8_i2.c : Regenerated.\n+\t* generated/minloc1_8_i4.c : Regenerated.\n+\t* generated/minloc1_8_i8.c : Regenerated.\n+\t* generated/minloc1_8_r10.c : Regenerated.\n+\t* generated/minloc1_8_r16.c : Regenerated.\n+\t* generated/minloc1_8_r4.c : Regenerated.\n+\t* generated/minloc1_8_r8.c : Regenerated.\n+\t* generated/minloc1_8_s1.c : Regenerated.\n+\t* generated/minloc1_8_s4.c : Regenerated.\n+\t* generated/minval1_s1.c : Regenerated.\n+\t* generated/minval1_s4.c : Regenerated.\n+\t* generated/minval_i1.c : Regenerated.\n+\t* generated/minval_i16.c : Regenerated.\n+\t* generated/minval_i2.c : Regenerated.\n+\t* generated/minval_i4.c : Regenerated.\n+\t* generated/minval_i8.c : Regenerated.\n+\t* generated/minval_r10.c : Regenerated.\n+\t* generated/minval_r16.c : Regenerated.\n+\t* generated/minval_r4.c : Regenerated.\n+\t* generated/minval_r8.c : Regenerated.\n+\t* generated/norm2_r10.c : Regenerated.\n+\t* generated/norm2_r16.c : Regenerated.\n+\t* generated/norm2_r4.c : Regenerated.\n+\t* generated/norm2_r8.c : Regenerated.\n+\t* generated/parity_l1.c : Regenerated.\n+\t* generated/parity_l16.c : Regenerated.\n+\t* generated/parity_l2.c : Regenerated.\n+\t* generated/parity_l4.c : Regenerated.\n+\t* generated/parity_l8.c : Regenerated.\n+\t* generated/product_c10.c : Regenerated.\n+\t* generated/product_c16.c : Regenerated.\n+\t* generated/product_c4.c : Regenerated.\n+\t* generated/product_c8.c : Regenerated.\n+\t* generated/product_i1.c : Regenerated.\n+\t* generated/product_i16.c : Regenerated.\n+\t* generated/product_i2.c : Regenerated.\n+\t* generated/product_i4.c : Regenerated.\n+\t* generated/product_i8.c : Regenerated.\n+\t* generated/product_r10.c : Regenerated.\n+\t* generated/product_r16.c : Regenerated.\n+\t* generated/product_r4.c : Regenerated.\n+\t* generated/product_r8.c : Regenerated.\n+\t* generated/reshape_c10.c : Regenerated.\n+\t* generated/reshape_c16.c : Regenerated.\n+\t* generated/reshape_c4.c : Regenerated.\n+\t* generated/reshape_c8.c : Regenerated.\n+\t* generated/reshape_i16.c : Regenerated.\n+\t* generated/reshape_i4.c : Regenerated.\n+\t* generated/reshape_i8.c : Regenerated.\n+\t* generated/reshape_r10.c : Regenerated.\n+\t* generated/reshape_r16.c : Regenerated.\n+\t* generated/reshape_r4.c : Regenerated.\n+\t* generated/reshape_r8.c : Regenerated.\n+\t* generated/spread_c10.c : Regenerated.\n+\t* generated/spread_c16.c : Regenerated.\n+\t* generated/spread_c4.c : Regenerated.\n+\t* generated/spread_c8.c : Regenerated.\n+\t* generated/spread_i1.c : Regenerated.\n+\t* generated/spread_i16.c : Regenerated.\n+\t* generated/spread_i2.c : Regenerated.\n+\t* generated/spread_i4.c : Regenerated.\n+\t* generated/spread_i8.c : Regenerated.\n+\t* generated/spread_r10.c : Regenerated.\n+\t* generated/spread_r16.c : Regenerated.\n+\t* generated/spread_r4.c : Regenerated.\n+\t* generated/spread_r8.c : Regenerated.\n+\t* generated/sum_c10.c : Regenerated.\n+\t* generated/sum_c16.c : Regenerated.\n+\t* generated/sum_c4.c : Regenerated.\n+\t* generated/sum_c8.c : Regenerated.\n+\t* generated/sum_i1.c : Regenerated.\n+\t* generated/sum_i16.c : Regenerated.\n+\t* generated/sum_i2.c : Regenerated.\n+\t* generated/sum_i4.c : Regenerated.\n+\t* generated/sum_i8.c : Regenerated.\n+\t* generated/sum_r10.c : Regenerated.\n+\t* generated/sum_r16.c : Regenerated.\n+\t* generated/sum_r4.c : Regenerated.\n+\t* generated/sum_r8.c : Regenerated.\n+\n 2018-01-07  Janne Blomqvist  <jb@gcc.gnu.org>\n \n \tPR fortran/78534"}, {"sha": "8779367964f19cac69e2bb63266fe7c021171c7e", "filename": "libgfortran/generated/all_l1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fall_l1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fall_l1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fall_l1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ all_l1 (gfc_array_l1 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "ef3d12eea544c4cb0dbf6de18be0b5d64d8b4859", "filename": "libgfortran/generated/all_l16.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fall_l16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fall_l16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fall_l16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ all_l16 (gfc_array_l16 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "18a0ef6f76f318b4441b8d4e9df3ed4020002a36", "filename": "libgfortran/generated/all_l2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fall_l2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fall_l2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fall_l2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ all_l2 (gfc_array_l2 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "522c591314e05ef8face006a70d6c3aa21b393ee", "filename": "libgfortran/generated/all_l4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fall_l4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fall_l4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fall_l4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ all_l4 (gfc_array_l4 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "a762ac01a090670f170c51050591936aab5be3de", "filename": "libgfortran/generated/all_l8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fall_l8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fall_l8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fall_l8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ all_l8 (gfc_array_l8 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "c2d3d54ecc1050b28533b8c9ec8b2b9296660b37", "filename": "libgfortran/generated/any_l1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fany_l1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fany_l1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fany_l1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ any_l1 (gfc_array_l1 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "181bb85c2a8378853f1f33487a40da82277bfac2", "filename": "libgfortran/generated/any_l16.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fany_l16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fany_l16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fany_l16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ any_l16 (gfc_array_l16 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "b6b86e5a745ba81ed99ab3b10ea3ad460a029044", "filename": "libgfortran/generated/any_l2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fany_l2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fany_l2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fany_l2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ any_l2 (gfc_array_l2 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "3249b28e7866763e811e5f2f752ee7e765c94ed1", "filename": "libgfortran/generated/any_l4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fany_l4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fany_l4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fany_l4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ any_l4 (gfc_array_l4 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "6569cb597c468c4ccdf89c06be79927bd6760ddb", "filename": "libgfortran/generated/any_l8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fany_l8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fany_l8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fany_l8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ any_l8 (gfc_array_l8 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "d099eedc823d43cf7761dbaba6bcd16a7a2b0b29", "filename": "libgfortran/generated/count_16_l.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcount_16_l.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcount_16_l.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fcount_16_l.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ count_16_l (gfc_array_i16 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "b403d8398db625a5fd52a083863e7f366682e919", "filename": "libgfortran/generated/count_1_l.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcount_1_l.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcount_1_l.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fcount_1_l.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ count_1_l (gfc_array_i1 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "e316bbb93ee71e8a933aee9bcdf0414369b3b802", "filename": "libgfortran/generated/count_2_l.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcount_2_l.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcount_2_l.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fcount_2_l.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ count_2_l (gfc_array_i2 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "1748e85ca19e07804fef70b196641765bf27b509", "filename": "libgfortran/generated/count_4_l.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcount_4_l.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcount_4_l.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fcount_4_l.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ count_4_l (gfc_array_i4 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "d1917865025e16a2a3589b93ea4c2f20021561c4", "filename": "libgfortran/generated/count_8_l.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcount_8_l.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcount_8_l.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fcount_8_l.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -97,7 +97,7 @@ count_8_l (gfc_array_i8 * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "e6921ac6899ed8497c5fdaa1804e901ab25c949f", "filename": "libgfortran/generated/cshift1_16.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcshift1_16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcshift1_16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fcshift1_16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -81,7 +81,7 @@ cshift1 (gfc_array_char * const restrict ret,\n \n       ret->base_addr = xmallocarray (arraysize, size);\n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n       for (i = 0; i < GFC_DESCRIPTOR_RANK (array); i++)\n         {\n \t  index_type ub, str;"}, {"sha": "530aabc9f459fb29e4ffc1e9582f6a7be716246a", "filename": "libgfortran/generated/cshift1_4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcshift1_4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcshift1_4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fcshift1_4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -81,7 +81,7 @@ cshift1 (gfc_array_char * const restrict ret,\n \n       ret->base_addr = xmallocarray (arraysize, size);\n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n       for (i = 0; i < GFC_DESCRIPTOR_RANK (array); i++)\n         {\n \t  index_type ub, str;"}, {"sha": "9d65c4a51a120dc1bb2d308dbd8cb7d12645dd5e", "filename": "libgfortran/generated/cshift1_8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcshift1_8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fcshift1_8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fcshift1_8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -81,7 +81,7 @@ cshift1 (gfc_array_char * const restrict ret,\n \n       ret->base_addr = xmallocarray (arraysize, size);\n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n       for (i = 0; i < GFC_DESCRIPTOR_RANK (array); i++)\n         {\n \t  index_type ub, str;"}, {"sha": "35620d648598b676a7c11ddf14c623425387e5ca", "filename": "libgfortran/generated/eoshift1_16.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Feoshift1_16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Feoshift1_16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Feoshift1_16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -87,7 +87,7 @@ eoshift1 (gfc_array_char * const restrict ret,\n       int i;\n \n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n       for (i = 0; i < GFC_DESCRIPTOR_RANK (array); i++)\n         {\n \t  index_type ub, str;"}, {"sha": "2e6c014b01ee229a1059290e199b6d7d24422c10", "filename": "libgfortran/generated/eoshift1_4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Feoshift1_4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Feoshift1_4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Feoshift1_4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -87,7 +87,7 @@ eoshift1 (gfc_array_char * const restrict ret,\n       int i;\n \n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n       for (i = 0; i < GFC_DESCRIPTOR_RANK (array); i++)\n         {\n \t  index_type ub, str;"}, {"sha": "4cd90a50bc0a14014972adae3e9e90095b400145", "filename": "libgfortran/generated/eoshift1_8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Feoshift1_8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Feoshift1_8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Feoshift1_8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -87,7 +87,7 @@ eoshift1 (gfc_array_char * const restrict ret,\n       int i;\n \n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n       for (i = 0; i < GFC_DESCRIPTOR_RANK (array); i++)\n         {\n \t  index_type ub, str;"}, {"sha": "018b640970fa26fb2743ed0cdd39160f6cf3c6ed", "filename": "libgfortran/generated/eoshift3_16.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Feoshift3_16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Feoshift3_16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Feoshift3_16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -89,7 +89,7 @@ eoshift3 (gfc_array_char * const restrict ret,\n \n       ret->base_addr = xmallocarray (arraysize, size);\n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n       for (i = 0; i < GFC_DESCRIPTOR_RANK (array); i++)\n         {\n \t  index_type ub, str;"}, {"sha": "c27dcbad76435e825192e1484e34e6d9100c0219", "filename": "libgfortran/generated/eoshift3_4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Feoshift3_4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Feoshift3_4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Feoshift3_4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -89,7 +89,7 @@ eoshift3 (gfc_array_char * const restrict ret,\n \n       ret->base_addr = xmallocarray (arraysize, size);\n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n       for (i = 0; i < GFC_DESCRIPTOR_RANK (array); i++)\n         {\n \t  index_type ub, str;"}, {"sha": "2649ced788ce041e24be5a62c83d5d106b285c6e", "filename": "libgfortran/generated/eoshift3_8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Feoshift3_8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Feoshift3_8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Feoshift3_8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -89,7 +89,7 @@ eoshift3 (gfc_array_char * const restrict ret,\n \n       ret->base_addr = xmallocarray (arraysize, size);\n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n       for (i = 0; i < GFC_DESCRIPTOR_RANK (array); i++)\n         {\n \t  index_type ub, str;"}, {"sha": "bf13b79104aff5119d11f3e5c2c2edd8aa2058d8", "filename": "libgfortran/generated/iall_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiall_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiall_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiall_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iall_i1 (gfc_array_i1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miall_i1 (gfc_array_i1 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siall_i1 (gfc_array_i1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "a3de245b9ec02014d3e62b5d9cdc494f3d995a9e", "filename": "libgfortran/generated/iall_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiall_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiall_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiall_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iall_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miall_i16 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siall_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "b2b3f05e9a5605778e68bb7fedeab07442a782cf", "filename": "libgfortran/generated/iall_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiall_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiall_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiall_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iall_i2 (gfc_array_i2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miall_i2 (gfc_array_i2 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siall_i2 (gfc_array_i2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "70a43795d8e5958094466c76aef5419eb130c7c9", "filename": "libgfortran/generated/iall_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiall_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiall_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiall_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iall_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miall_i4 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siall_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "77cc4c0931838e72cdfd1c8cb5dd557daeee8fcf", "filename": "libgfortran/generated/iall_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiall_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiall_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiall_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iall_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miall_i8 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siall_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "9673cb0e2cb267c995d561266365a053e6225e3f", "filename": "libgfortran/generated/iany_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiany_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiany_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiany_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iany_i1 (gfc_array_i1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miany_i1 (gfc_array_i1 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siany_i1 (gfc_array_i1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "df60f10f65615d1195b877ff6636cdad3b1b0b4a", "filename": "libgfortran/generated/iany_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiany_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiany_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiany_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iany_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miany_i16 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siany_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "5b0623bdbe97ae1cbc78e08ff0431d8c44431862", "filename": "libgfortran/generated/iany_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiany_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiany_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiany_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iany_i2 (gfc_array_i2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miany_i2 (gfc_array_i2 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siany_i2 (gfc_array_i2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "a7effd6db8a0c49189940671d148d11019c6c1ea", "filename": "libgfortran/generated/iany_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiany_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiany_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiany_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iany_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miany_i4 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siany_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "c87ba7aed4d992fd973ad360d3aa433ee416fa65", "filename": "libgfortran/generated/iany_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiany_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiany_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiany_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iany_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miany_i8 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siany_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "4315406d7ae8abed13414cf5b0d6c0dd22cfb4c7", "filename": "libgfortran/generated/iparity_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiparity_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiparity_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiparity_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iparity_i1 (gfc_array_i1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miparity_i1 (gfc_array_i1 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siparity_i1 (gfc_array_i1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "8817487bcb0546c726b1f2d6ec2a2103009f43a1", "filename": "libgfortran/generated/iparity_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiparity_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiparity_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiparity_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iparity_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miparity_i16 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siparity_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "0c737038846cb72491a134085e8b049925936760", "filename": "libgfortran/generated/iparity_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiparity_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiparity_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiparity_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iparity_i2 (gfc_array_i2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miparity_i2 (gfc_array_i2 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siparity_i2 (gfc_array_i2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "1f1bfa9a01c1c244415e464b4012e877a080eae8", "filename": "libgfortran/generated/iparity_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiparity_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiparity_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiparity_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iparity_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miparity_i4 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siparity_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "ad58b5373810447827c5983ad4eef21bbfadb941", "filename": "libgfortran/generated/iparity_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiparity_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fiparity_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fiparity_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ iparity_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ miparity_i8 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ siparity_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "aa5ac367a09f41038716fd9ad78a283b5ea63fc3", "filename": "libgfortran/generated/maxloc0_16_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_16_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_16_i1 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_16_i1 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_16_i1 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "f648402d1a1fae76a5ab3bfbf596a2df8a438a93", "filename": "libgfortran/generated/maxloc0_16_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_16_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_16_i16 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_16_i16 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_16_i16 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "825eb74d80cad045b26b774b3fdd101e007b8d25", "filename": "libgfortran/generated/maxloc0_16_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_16_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_16_i2 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_16_i2 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_16_i2 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "0720609ccd37621f3feb6a47ade1c6d42d2f8be8", "filename": "libgfortran/generated/maxloc0_16_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_16_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_16_i4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_16_i4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_16_i4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "f5318e9caecd6460ba396f6b074eac06ec2ee5f3", "filename": "libgfortran/generated/maxloc0_16_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_16_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_16_i8 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_16_i8 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_16_i8 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "1641b3af8cee01d834aec5375e92261c8f30625f", "filename": "libgfortran/generated/maxloc0_16_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_16_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_16_r10 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_16_r10 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_16_r10 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "c5409fd8ed32356ff12fa98e433dbd271201a0f5", "filename": "libgfortran/generated/maxloc0_16_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_16_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_16_r16 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_16_r16 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_16_r16 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "1d076a1688ba7b3da081a9f37eb78674a512aa45", "filename": "libgfortran/generated/maxloc0_16_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_16_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_16_r4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_16_r4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_16_r4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "2cb175b33199806b87c0f05c9726bd57b8bbc51b", "filename": "libgfortran/generated/maxloc0_16_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_16_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_16_r8 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_16_r8 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_16_r8 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "424237cca7257179cdcf33d2c160e30e82516dc6", "filename": "libgfortran/generated/maxloc0_16_s1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_s1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_s1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_16_s1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -66,7 +66,7 @@ maxloc0_16_s1 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -176,7 +176,7 @@ mmaxloc0_16_s1 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -309,7 +309,7 @@ smaxloc0_16_s1 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "e0c236a400843a76e6c87a305206dc29b492343a", "filename": "libgfortran/generated/maxloc0_16_s4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_s4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_16_s4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_16_s4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -66,7 +66,7 @@ maxloc0_16_s4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -176,7 +176,7 @@ mmaxloc0_16_s4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -309,7 +309,7 @@ smaxloc0_16_s4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "137e852d8609f8092169cc32b9494e7b550ab872", "filename": "libgfortran/generated/maxloc0_4_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_4_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_4_i1 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_4_i1 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_4_i1 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "880e3cac2d6f56a691ebe81904ffe3a1993384ff", "filename": "libgfortran/generated/maxloc0_4_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_4_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_4_i16 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_4_i16 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_4_i16 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "98197ecf410770ef7516cf148db26a43b42f6e62", "filename": "libgfortran/generated/maxloc0_4_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_4_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_4_i2 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_4_i2 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_4_i2 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "cc6ad848ec79c3a2b22980728da557086d241489", "filename": "libgfortran/generated/maxloc0_4_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_4_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_4_i4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_4_i4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_4_i4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "802f935ae55a8b62bd3c1b69e64fa1537ae11cc8", "filename": "libgfortran/generated/maxloc0_4_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_4_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_4_i8 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_4_i8 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_4_i8 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "1222096700aa14df0a28fd035244980fbd38d635", "filename": "libgfortran/generated/maxloc0_4_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_4_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_4_r10 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_4_r10 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_4_r10 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "deaca72c5a2387429a9447331f9b4180fcf4ad5f", "filename": "libgfortran/generated/maxloc0_4_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_4_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_4_r16 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_4_r16 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_4_r16 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "aa7fca0a9d7799e7df0e0494e7de74c607bbb85e", "filename": "libgfortran/generated/maxloc0_4_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_4_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_4_r4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_4_r4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_4_r4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "ba0659d7b4d3d80bafe93d1858b0939d318a8987", "filename": "libgfortran/generated/maxloc0_4_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_4_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_4_r8 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_4_r8 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_4_r8 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "80759a661d2cb2d03851ff388996bd6b23b58e09", "filename": "libgfortran/generated/maxloc0_4_s1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_s1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_s1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_4_s1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -66,7 +66,7 @@ maxloc0_4_s1 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -176,7 +176,7 @@ mmaxloc0_4_s1 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -309,7 +309,7 @@ smaxloc0_4_s1 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "75eeaeed5a35ee6a96f4105b74b9f561fee48784", "filename": "libgfortran/generated/maxloc0_4_s4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_s4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_4_s4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_4_s4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -66,7 +66,7 @@ maxloc0_4_s4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -176,7 +176,7 @@ mmaxloc0_4_s4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -309,7 +309,7 @@ smaxloc0_4_s4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "dd07066f81a14af4289bbd78ba91311881966f89", "filename": "libgfortran/generated/maxloc0_8_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_8_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_8_i1 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_8_i1 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_8_i1 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "44ab70c382937f62a2dd1a129d6ceefa81d44933", "filename": "libgfortran/generated/maxloc0_8_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_8_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_8_i16 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_8_i16 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_8_i16 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "6dfd0d86321e85fb3566eef3d7e66c603686acc4", "filename": "libgfortran/generated/maxloc0_8_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_8_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_8_i2 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_8_i2 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_8_i2 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "01b18c394f399db8dc00fd0d2350163e567ff228", "filename": "libgfortran/generated/maxloc0_8_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_8_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_8_i4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_8_i4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_8_i4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "df7544f9ac64d1c3f2e384a298bfc62bc519f7ee", "filename": "libgfortran/generated/maxloc0_8_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_8_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_8_i8 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_8_i8 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_8_i8 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "3047b1e239074f3856b687860ae5bd4402736fee", "filename": "libgfortran/generated/maxloc0_8_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_8_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_8_r10 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_8_r10 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_8_r10 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "baf000cdbaacb2ab61461bfde32db7dcb2bf5654", "filename": "libgfortran/generated/maxloc0_8_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_8_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_8_r16 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_8_r16 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_8_r16 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "48fa4240b4b8382905d0ce2130fd795dabf15e72", "filename": "libgfortran/generated/maxloc0_8_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_8_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_8_r4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_8_r4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_8_r4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "37a25ef38656771626860809a23fc6b29105d760", "filename": "libgfortran/generated/maxloc0_8_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_8_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ maxloc0_8_r8 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mmaxloc0_8_r8 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ smaxloc0_8_r8 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "1c86ff4974b0dcb972227dcc9600b10f01a623b2", "filename": "libgfortran/generated/maxloc0_8_s1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_s1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_s1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_8_s1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -66,7 +66,7 @@ maxloc0_8_s1 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -176,7 +176,7 @@ mmaxloc0_8_s1 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -309,7 +309,7 @@ smaxloc0_8_s1 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "14f4658ba13322097a81ca5b64ed786fce1a9efc", "filename": "libgfortran/generated/maxloc0_8_s4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_s4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc0_8_s4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc0_8_s4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -66,7 +66,7 @@ maxloc0_8_s4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -176,7 +176,7 @@ mmaxloc0_8_s4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -309,7 +309,7 @@ smaxloc0_8_s4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "d1d1d5e3a9665c9f36b1d413850d544a4b92e5db", "filename": "libgfortran/generated/maxloc1_16_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_16_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_16_i1 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_16_i1 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_16_i1 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "27aa37d7c83b19382c7f9a8ce4b6c920c719c19c", "filename": "libgfortran/generated/maxloc1_16_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_16_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_16_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_16_i16 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_16_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "a79088d1e9c9dff15f11d70e758afd0cc841e6ca", "filename": "libgfortran/generated/maxloc1_16_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_16_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_16_i2 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_16_i2 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_16_i2 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "852677de16617cdc2fc2b8aa23daa728ad6eee3e", "filename": "libgfortran/generated/maxloc1_16_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_16_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_16_i4 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_16_i4 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_16_i4 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "4cdc1a7a6cc018d32a4cdce9f1d32d94247e193e", "filename": "libgfortran/generated/maxloc1_16_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_16_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_16_i8 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_16_i8 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_16_i8 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "f3f9890ae46bc0165eaae7840c05abb5b4183bb5", "filename": "libgfortran/generated/maxloc1_16_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_16_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_16_r10 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_16_r10 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_16_r10 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "6bbef795c6ec74f22299cf11dcedb99185d931ac", "filename": "libgfortran/generated/maxloc1_16_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_16_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_16_r16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_16_r16 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_16_r16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "98019899d0a9ac612c039047a219027843f9f247", "filename": "libgfortran/generated/maxloc1_16_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_16_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_16_r4 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_16_r4 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_16_r4 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "86cffb931a26f9b926d4db71958385c6924a571e", "filename": "libgfortran/generated/maxloc1_16_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_16_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_16_r8 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_16_r8 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_16_r8 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "16be61177319a27e4b512f22e10e9d5d54b286ee", "filename": "libgfortran/generated/maxloc1_16_s1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_s1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_s1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_16_s1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -111,7 +111,7 @@ maxloc1_16_s1 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -304,7 +304,7 @@ mmaxloc1_16_s1 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -478,7 +478,7 @@ smaxloc1_16_s1 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "09bbb992dce6ed2cd4aae220b054f0b363f86d5d", "filename": "libgfortran/generated/maxloc1_16_s4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_s4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_16_s4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_16_s4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -111,7 +111,7 @@ maxloc1_16_s4 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -304,7 +304,7 @@ mmaxloc1_16_s4 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -478,7 +478,7 @@ smaxloc1_16_s4 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "364d09e73fd559001db7d607e032b915a0c3cb8c", "filename": "libgfortran/generated/maxloc1_4_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_4_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_4_i1 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_4_i1 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_4_i1 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "e05a9ace697e0fc807e4e8ce69d7faa563854750", "filename": "libgfortran/generated/maxloc1_4_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_4_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_4_i16 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_4_i16 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_4_i16 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "38879170d9b4b73db742f850e4f359c9f0001427", "filename": "libgfortran/generated/maxloc1_4_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_4_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_4_i2 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_4_i2 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_4_i2 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "bc8a7fd31d80a2b88a995301f68685a2de7c487f", "filename": "libgfortran/generated/maxloc1_4_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_4_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_4_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_4_i4 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_4_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "e1d2aee527700488706a06c03d5f19017f65b530", "filename": "libgfortran/generated/maxloc1_4_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_4_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_4_i8 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_4_i8 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_4_i8 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "03d55cce21b20bc8298ae71b1228359e6acc91ae", "filename": "libgfortran/generated/maxloc1_4_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_4_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_4_r10 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_4_r10 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_4_r10 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "1d86824bf78ff1738d5259fd60ba30ff396d81d5", "filename": "libgfortran/generated/maxloc1_4_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_4_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_4_r16 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_4_r16 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_4_r16 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "8dcae97b3ed3877ae7397a944b66c24c7d3cbf5c", "filename": "libgfortran/generated/maxloc1_4_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_4_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_4_r4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_4_r4 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_4_r4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "9c0f5b158af46eb108e81924a026a0e517e4b712", "filename": "libgfortran/generated/maxloc1_4_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_4_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_4_r8 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_4_r8 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_4_r8 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "a882a7be43677cccc869312cd14bf0c8cebf006b", "filename": "libgfortran/generated/maxloc1_4_s1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_s1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_s1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_4_s1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -111,7 +111,7 @@ maxloc1_4_s1 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -304,7 +304,7 @@ mmaxloc1_4_s1 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -478,7 +478,7 @@ smaxloc1_4_s1 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "acc989ce1abf7dbf086bfa0af539d1ef9e92dbba", "filename": "libgfortran/generated/maxloc1_4_s4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_s4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_4_s4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_4_s4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -111,7 +111,7 @@ maxloc1_4_s4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -304,7 +304,7 @@ mmaxloc1_4_s4 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -478,7 +478,7 @@ smaxloc1_4_s4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "8087789597159246025f085938fa65eb182ef7a2", "filename": "libgfortran/generated/maxloc1_8_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_8_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_8_i1 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_8_i1 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_8_i1 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "71ad13c68bd92e5c8e960b0420d75a67316f8467", "filename": "libgfortran/generated/maxloc1_8_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_8_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_8_i16 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_8_i16 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_8_i16 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "d89b74f4c1418f2ae919f59c202cfbcebbc5875d", "filename": "libgfortran/generated/maxloc1_8_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_8_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_8_i2 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_8_i2 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_8_i2 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "df4b218e9fb6f145fe91c66cd75c0f2e5cc69677", "filename": "libgfortran/generated/maxloc1_8_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_8_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_8_i4 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_8_i4 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_8_i4 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "946e4ca3645164943ef71ba452709f043469af2d", "filename": "libgfortran/generated/maxloc1_8_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_8_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_8_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_8_i8 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_8_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "a7db332441d11e4aba7b98b9a47eb2038892fe8a", "filename": "libgfortran/generated/maxloc1_8_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_8_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_8_r10 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_8_r10 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_8_r10 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "e118f12f820c3c8254e1447e70d261041730c366", "filename": "libgfortran/generated/maxloc1_8_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_8_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_8_r16 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_8_r16 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_8_r16 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "b97cd4c3f042a070fb5eaf33d1cb3073fca89866", "filename": "libgfortran/generated/maxloc1_8_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_8_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_8_r4 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_8_r4 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_8_r4 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "69c0c298bad08181b56118c206918294dcfb070f", "filename": "libgfortran/generated/maxloc1_8_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_8_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxloc1_8_r8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mmaxloc1_8_r8 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ smaxloc1_8_r8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "e18ec1a4a614106c1240166d00ff1d49d13fa4c9", "filename": "libgfortran/generated/maxloc1_8_s1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_s1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_s1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_8_s1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -111,7 +111,7 @@ maxloc1_8_s1 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -304,7 +304,7 @@ mmaxloc1_8_s1 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -478,7 +478,7 @@ smaxloc1_8_s1 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "dbe40e962861bb2d6c666ef5898cbfdde3456e89", "filename": "libgfortran/generated/maxloc1_8_s4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_s4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxloc1_8_s4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxloc1_8_s4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -111,7 +111,7 @@ maxloc1_8_s4 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -304,7 +304,7 @@ mmaxloc1_8_s4 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -478,7 +478,7 @@ smaxloc1_8_s4 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "094eecf1d074809ebbfbfbfbceeb455315721fbf", "filename": "libgfortran/generated/maxval1_s1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval1_s1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval1_s1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxval1_s1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -114,7 +114,7 @@ maxval1_s1 (gfc_array_s1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1]\n       \t\t * string_len;\n@@ -310,7 +310,7 @@ mmaxval1_s1 (gfc_array_s1 * const restrict retarray,\n       \t\t * string_len;\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -485,7 +485,7 @@ smaxval1_s1 (gfc_array_s1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1]\n       \t\t * string_len;"}, {"sha": "e9260ce19b9d5ee3e28181294a7f20941ed46951", "filename": "libgfortran/generated/maxval1_s4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval1_s4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval1_s4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxval1_s4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -114,7 +114,7 @@ maxval1_s4 (gfc_array_s4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1]\n       \t\t * string_len;\n@@ -310,7 +310,7 @@ mmaxval1_s4 (gfc_array_s4 * const restrict retarray,\n       \t\t * string_len;\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -485,7 +485,7 @@ smaxval1_s4 (gfc_array_s4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1]\n       \t\t * string_len;"}, {"sha": "88d80e11ad64aaa024b6338827ff14942d6b948e", "filename": "libgfortran/generated/maxval_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxval_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxval_i1 (gfc_array_i1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mmaxval_i1 (gfc_array_i1 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ smaxval_i1 (gfc_array_i1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "c555085c712fb8e8dcdbfc213c5af2e53d166171", "filename": "libgfortran/generated/maxval_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxval_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxval_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mmaxval_i16 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ smaxval_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "159ec96615e5e6afd8d3ce1e1d16d80d391a18f3", "filename": "libgfortran/generated/maxval_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxval_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxval_i2 (gfc_array_i2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mmaxval_i2 (gfc_array_i2 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ smaxval_i2 (gfc_array_i2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "70f8e905196382bf676f6c309d8531bd5abdd90d", "filename": "libgfortran/generated/maxval_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxval_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxval_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mmaxval_i4 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ smaxval_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "49517bb4f9a67b4d02cfe59edbf17f8807692981", "filename": "libgfortran/generated/maxval_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxval_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxval_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mmaxval_i8 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ smaxval_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "683a6f9be2e497ba349153f4b2c73fda82f3d322", "filename": "libgfortran/generated/maxval_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxval_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxval_r10 (gfc_array_r10 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mmaxval_r10 (gfc_array_r10 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ smaxval_r10 (gfc_array_r10 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "1eaae8c5d34d8dbb9f66bbd4ff2a2cd2df6e0cae", "filename": "libgfortran/generated/maxval_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxval_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxval_r16 (gfc_array_r16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mmaxval_r16 (gfc_array_r16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ smaxval_r16 (gfc_array_r16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "72ac583bfa0b6d45261c4d263f4e1d3522c9dc2b", "filename": "libgfortran/generated/maxval_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxval_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxval_r4 (gfc_array_r4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mmaxval_r4 (gfc_array_r4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ smaxval_r4 (gfc_array_r4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "de58c877d38955e8a44c1166c13ab43556062673", "filename": "libgfortran/generated/maxval_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fmaxval_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fmaxval_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ maxval_r8 (gfc_array_r8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mmaxval_r8 (gfc_array_r8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ smaxval_r8 (gfc_array_r8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "c958fdc3201b26e089f6892a1b52ce6936234455", "filename": "libgfortran/generated/minloc0_16_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_16_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_16_i1 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mminloc0_16_i1 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ sminloc0_16_i1 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "82c86b5adfeff79d470413fa5115a35365724e26", "filename": "libgfortran/generated/minloc0_16_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_16_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_16_i16 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mminloc0_16_i16 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ sminloc0_16_i16 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "b32d560291d6c87ae586b1372731f81d107d5c60", "filename": "libgfortran/generated/minloc0_16_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_16_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_16_i2 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mminloc0_16_i2 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ sminloc0_16_i2 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "977bbb6a59cab88b4a8ceec4d0d90ab70cb0494b", "filename": "libgfortran/generated/minloc0_16_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_16_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_16_i4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mminloc0_16_i4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ sminloc0_16_i4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "a55c97e2fec316694ccc43bc7e5cf78d20150e00", "filename": "libgfortran/generated/minloc0_16_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_16_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_16_i8 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mminloc0_16_i8 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ sminloc0_16_i8 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "594e4337d464d997235dfb01a7295a7fb0d426c1", "filename": "libgfortran/generated/minloc0_16_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_16_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_16_r10 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mminloc0_16_r10 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ sminloc0_16_r10 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "22bf13173fb056f6f25058ab89beb8fb82785954", "filename": "libgfortran/generated/minloc0_16_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_16_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_16_r16 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mminloc0_16_r16 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ sminloc0_16_r16 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "f7b8e9e6f9984f4a6e4fa4082e2809aa25c251e7", "filename": "libgfortran/generated/minloc0_16_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_16_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_16_r4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mminloc0_16_r4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ sminloc0_16_r4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "3be2ea9b7b0f04f4ee0852833b9036730c63907f", "filename": "libgfortran/generated/minloc0_16_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_16_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_16_r8 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -194,7 +194,7 @@ mminloc0_16_r8 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -362,7 +362,7 @@ sminloc0_16_r8 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "524d27d1be224ca3f9890411a22e7174a53d48a9", "filename": "libgfortran/generated/minloc0_16_s1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_s1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_s1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_16_s1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -66,7 +66,7 @@ minloc0_16_s1 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -176,7 +176,7 @@ mminloc0_16_s1 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -309,7 +309,7 @@ sminloc0_16_s1 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "736eaa35d2c219b73fd9675ce8e2b40be5d5e919", "filename": "libgfortran/generated/minloc0_16_s4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_s4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_16_s4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_16_s4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -66,7 +66,7 @@ minloc0_16_s4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -176,7 +176,7 @@ mminloc0_16_s4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }\n@@ -309,7 +309,7 @@ sminloc0_16_s4 (gfc_array_i16 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_16));\n     }"}, {"sha": "acfbb9187773fbe4ed44d04095342418174001b3", "filename": "libgfortran/generated/minloc0_4_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_4_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_4_i1 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mminloc0_4_i1 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ sminloc0_4_i1 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "a47b20ecea08dce6feabd810d00501b01ea10651", "filename": "libgfortran/generated/minloc0_4_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_4_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_4_i16 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mminloc0_4_i16 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ sminloc0_4_i16 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "8b378bab78699bda90df8dc27f3bd21d579b6bab", "filename": "libgfortran/generated/minloc0_4_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_4_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_4_i2 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mminloc0_4_i2 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ sminloc0_4_i2 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "b91d2bf8e224cf82987c294ec7241c96d9770235", "filename": "libgfortran/generated/minloc0_4_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_4_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_4_i4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mminloc0_4_i4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ sminloc0_4_i4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "ee87eaa872fbfe5d6a877acd03faeb607f8ba005", "filename": "libgfortran/generated/minloc0_4_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_4_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_4_i8 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mminloc0_4_i8 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ sminloc0_4_i8 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "9d39606b7b8c4412972324045f5829a9bdb86ccc", "filename": "libgfortran/generated/minloc0_4_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_4_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_4_r10 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mminloc0_4_r10 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ sminloc0_4_r10 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "be920c3243faa8a208dca9b433ec348cb6e1d28c", "filename": "libgfortran/generated/minloc0_4_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_4_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_4_r16 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mminloc0_4_r16 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ sminloc0_4_r16 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "f5beb64171bc57de767bba089e50dea990774941", "filename": "libgfortran/generated/minloc0_4_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_4_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_4_r4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mminloc0_4_r4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ sminloc0_4_r4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "2f6973ce8fd3d3919a436f294fbf0b0a90eecce8", "filename": "libgfortran/generated/minloc0_4_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_4_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_4_r8 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -194,7 +194,7 @@ mminloc0_4_r8 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -362,7 +362,7 @@ sminloc0_4_r8 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "111ee09c86f60cfa737f6bd9323cbd0aab63e082", "filename": "libgfortran/generated/minloc0_4_s1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_s1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_s1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_4_s1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -66,7 +66,7 @@ minloc0_4_s1 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -176,7 +176,7 @@ mminloc0_4_s1 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -309,7 +309,7 @@ sminloc0_4_s1 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "d5379df00e36cfc1f1e45ca98b0efb3503717411", "filename": "libgfortran/generated/minloc0_4_s4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_s4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_4_s4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_4_s4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -66,7 +66,7 @@ minloc0_4_s4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -176,7 +176,7 @@ mminloc0_4_s4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }\n@@ -309,7 +309,7 @@ sminloc0_4_s4 (gfc_array_i4 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_4));\n     }"}, {"sha": "cf7f5c1af713976a3aed616bd93584701db0d93f", "filename": "libgfortran/generated/minloc0_8_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_8_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_8_i1 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mminloc0_8_i1 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ sminloc0_8_i1 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "d703408f377eb212ff916997138061e49bc1571a", "filename": "libgfortran/generated/minloc0_8_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_8_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_8_i16 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mminloc0_8_i16 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ sminloc0_8_i16 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "003c33b32c2b9293594e024035afebdcb49b6b74", "filename": "libgfortran/generated/minloc0_8_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_8_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_8_i2 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mminloc0_8_i2 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ sminloc0_8_i2 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "4b2f245a8a43e8d1d982b07064cdcdc3e3313e2b", "filename": "libgfortran/generated/minloc0_8_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_8_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_8_i4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mminloc0_8_i4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ sminloc0_8_i4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "6f2dc2ece3ab8f0e033564f1a71532d6c8fb2477", "filename": "libgfortran/generated/minloc0_8_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_8_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_8_i8 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mminloc0_8_i8 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ sminloc0_8_i8 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "1f08628eb067584b468dd592efe3e16b8c633edc", "filename": "libgfortran/generated/minloc0_8_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_8_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_8_r10 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mminloc0_8_r10 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ sminloc0_8_r10 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "e32fd136d02beb2d6511a2cb1b74fd4b90b8e47f", "filename": "libgfortran/generated/minloc0_8_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_8_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_8_r16 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mminloc0_8_r16 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ sminloc0_8_r16 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "533e7484aec6c5153741dbd819af3d4de2543e09", "filename": "libgfortran/generated/minloc0_8_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_8_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_8_r4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mminloc0_8_r4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ sminloc0_8_r4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "1eb7423a67639ef392bf87b3f069410803799ab7", "filename": "libgfortran/generated/minloc0_8_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_8_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -53,7 +53,7 @@ minloc0_8_r8 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -194,7 +194,7 @@ mminloc0_8_r8 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -362,7 +362,7 @@ sminloc0_8_r8 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "d7b6bee7784d40efc08d3283b3f30af361cab640", "filename": "libgfortran/generated/minloc0_8_s1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_s1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_s1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_8_s1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -66,7 +66,7 @@ minloc0_8_s1 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -176,7 +176,7 @@ mminloc0_8_s1 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -309,7 +309,7 @@ sminloc0_8_s1 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "ca1910c169e0cb16cc6407074d277add0120eae1", "filename": "libgfortran/generated/minloc0_8_s4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_s4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc0_8_s4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc0_8_s4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -66,7 +66,7 @@ minloc0_8_s4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -176,7 +176,7 @@ mminloc0_8_s4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }\n@@ -309,7 +309,7 @@ sminloc0_8_s4 (gfc_array_i8 * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (GFC_INTEGER_8));\n     }"}, {"sha": "e03ea37cd69bb54062e7ecaa75e167dd1ad0f247", "filename": "libgfortran/generated/minloc1_16_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_16_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_16_i1 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_16_i1 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_16_i1 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "0ef0bdadd6406eb54f1bb17d7ab55d3acf1e3c72", "filename": "libgfortran/generated/minloc1_16_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_16_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_16_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_16_i16 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_16_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "df854ce9a3f8c9b5205c53e2a16f417f970bc3e1", "filename": "libgfortran/generated/minloc1_16_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_16_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_16_i2 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_16_i2 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_16_i2 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "8c02e7a2a8697b70bed57706e9d22924097a5e67", "filename": "libgfortran/generated/minloc1_16_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_16_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_16_i4 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_16_i4 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_16_i4 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "938da8d7c8b9c670e0a24e9058f82981ce14c1ce", "filename": "libgfortran/generated/minloc1_16_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_16_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_16_i8 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_16_i8 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_16_i8 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "fbbcce6d4ec082c5f948332241c3ec462435bf12", "filename": "libgfortran/generated/minloc1_16_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_16_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_16_r10 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_16_r10 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_16_r10 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "4d3df6c81cc51574bbabe87d685aa1481b66f354", "filename": "libgfortran/generated/minloc1_16_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_16_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_16_r16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_16_r16 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_16_r16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "ff62be42373d71083f6c68c919bc94fa7100a6b3", "filename": "libgfortran/generated/minloc1_16_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_16_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_16_r4 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_16_r4 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_16_r4 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "51ea636c34ddfd02208215b2c5574ec8b79280f4", "filename": "libgfortran/generated/minloc1_16_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_16_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_16_r8 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_16_r8 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_16_r8 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "51d49c2ebf964173b6d1783356761ac6c1264c30", "filename": "libgfortran/generated/minloc1_16_s1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_s1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_s1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_16_s1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -111,7 +111,7 @@ minloc1_16_s1 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -304,7 +304,7 @@ mminloc1_16_s1 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -478,7 +478,7 @@ sminloc1_16_s1 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "cebf6b330c0c60fce715a1f107062782edad841e", "filename": "libgfortran/generated/minloc1_16_s4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_s4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_16_s4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_16_s4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -111,7 +111,7 @@ minloc1_16_s4 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -304,7 +304,7 @@ mminloc1_16_s4 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -478,7 +478,7 @@ sminloc1_16_s4 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "e9618771234ed722044a52be58d06d91282b51dc", "filename": "libgfortran/generated/minloc1_4_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_4_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_4_i1 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_4_i1 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_4_i1 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "3ea294e0a6528622c78f5ce6efec62fcba6e2551", "filename": "libgfortran/generated/minloc1_4_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_4_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_4_i16 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_4_i16 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_4_i16 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "564c26265ee6632acfdbfeecc691b23e605f9ad0", "filename": "libgfortran/generated/minloc1_4_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_4_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_4_i2 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_4_i2 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_4_i2 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "97dd9c2b2031f83fc4db1347795951090ddf69c1", "filename": "libgfortran/generated/minloc1_4_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_4_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_4_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_4_i4 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_4_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "4c406326743808d0e1aa5c361b6f83f4f5e92030", "filename": "libgfortran/generated/minloc1_4_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_4_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_4_i8 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_4_i8 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_4_i8 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "01903a796d150ac5ec6e184ccdef4933c55554c2", "filename": "libgfortran/generated/minloc1_4_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_4_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_4_r10 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_4_r10 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_4_r10 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "f266ea7a91f4e76ba243047121688e2cb3236efa", "filename": "libgfortran/generated/minloc1_4_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_4_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_4_r16 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_4_r16 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_4_r16 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "3f680e57661682feec00d69d8546eb9c75f9c69b", "filename": "libgfortran/generated/minloc1_4_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_4_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_4_r4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_4_r4 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_4_r4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "dc425ef27bfdbe418518702b0abeac1ccc396702", "filename": "libgfortran/generated/minloc1_4_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_4_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_4_r8 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_4_r8 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_4_r8 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "0b8c0e838623e73c1ce951c4398506ec8e0a7cab", "filename": "libgfortran/generated/minloc1_4_s1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_s1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_s1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_4_s1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -111,7 +111,7 @@ minloc1_4_s1 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -304,7 +304,7 @@ mminloc1_4_s1 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -478,7 +478,7 @@ sminloc1_4_s1 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "c92f690fe30815374cda871517b1a19f52f700d7", "filename": "libgfortran/generated/minloc1_4_s4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_s4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_4_s4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_4_s4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -111,7 +111,7 @@ minloc1_4_s4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -304,7 +304,7 @@ mminloc1_4_s4 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -478,7 +478,7 @@ sminloc1_4_s4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "913a7a698f73696a27d42c41872a00291dd5edc2", "filename": "libgfortran/generated/minloc1_8_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_8_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_8_i1 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_8_i1 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_8_i1 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "218b20c74d5e4bf88ab2380625342f3c9f6af25e", "filename": "libgfortran/generated/minloc1_8_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_8_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_8_i16 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_8_i16 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_8_i16 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "191bccee5e292e2fd6ad1225cc27c0e776be883b", "filename": "libgfortran/generated/minloc1_8_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_8_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_8_i2 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_8_i2 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_8_i2 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "ff6178607208024e1fb9b1bee409b704385392bd", "filename": "libgfortran/generated/minloc1_8_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_8_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_8_i4 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_8_i4 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_8_i4 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "42f917c6d15401b933681bbbb804ec28f4cf819f", "filename": "libgfortran/generated/minloc1_8_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_8_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_8_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_8_i8 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_8_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "603f57ba2bad361b1aec6fbde2afc96983389f88", "filename": "libgfortran/generated/minloc1_8_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_8_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_8_r10 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_8_r10 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_8_r10 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "cad0d001dc92d9c61b6d2e07ec124698754b14dc", "filename": "libgfortran/generated/minloc1_8_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_8_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_8_r16 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_8_r16 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_8_r16 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "15d7482abe5da8f9f500a80884df2ceebf9742fe", "filename": "libgfortran/generated/minloc1_8_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_8_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_8_r4 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_8_r4 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_8_r4 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "7cd1c9d6f5943c554eb7c3d2caffef974cf96402", "filename": "libgfortran/generated/minloc1_8_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_8_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minloc1_8_r8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -308,7 +308,7 @@ mminloc1_8_r8 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -500,7 +500,7 @@ sminloc1_8_r8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "8428db2abb1c8fb09d826706bbbd00a7a6fae2e8", "filename": "libgfortran/generated/minloc1_8_s1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_s1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_s1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_8_s1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -111,7 +111,7 @@ minloc1_8_s1 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -304,7 +304,7 @@ mminloc1_8_s1 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -478,7 +478,7 @@ sminloc1_8_s1 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "8042dd230265986b4045825b948530b33223c766", "filename": "libgfortran/generated/minloc1_8_s4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_s4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminloc1_8_s4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminloc1_8_s4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -111,7 +111,7 @@ minloc1_8_s4 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -304,7 +304,7 @@ mminloc1_8_s4 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -478,7 +478,7 @@ sminloc1_8_s4 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "153ce0d2b5f3f89b481a74bd77531507d9e5b403", "filename": "libgfortran/generated/minval1_s1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval1_s1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval1_s1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminval1_s1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -114,7 +114,7 @@ minval1_s1 (gfc_array_s1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1]\n       \t\t * string_len;\n@@ -310,7 +310,7 @@ mminval1_s1 (gfc_array_s1 * const restrict retarray,\n       \t\t * string_len;\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -485,7 +485,7 @@ sminval1_s1 (gfc_array_s1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1]\n       \t\t * string_len;"}, {"sha": "47c02833742342ba58794a564af0cba8802dc623", "filename": "libgfortran/generated/minval1_s4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval1_s4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval1_s4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminval1_s4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -114,7 +114,7 @@ minval1_s4 (gfc_array_s4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1]\n       \t\t * string_len;\n@@ -310,7 +310,7 @@ mminval1_s4 (gfc_array_s4 * const restrict retarray,\n       \t\t * string_len;\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -485,7 +485,7 @@ sminval1_s4 (gfc_array_s4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1]\n       \t\t * string_len;"}, {"sha": "f57c5abbad24a8bdbc2f7d44a06607c54857311f", "filename": "libgfortran/generated/minval_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminval_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minval_i1 (gfc_array_i1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mminval_i1 (gfc_array_i1 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ sminval_i1 (gfc_array_i1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "11781a6f983b8cdefa843ef6ff33afa750972431", "filename": "libgfortran/generated/minval_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminval_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minval_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mminval_i16 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ sminval_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "b7869858d37ce6c2687e3f66007a551cbd425e17", "filename": "libgfortran/generated/minval_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminval_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minval_i2 (gfc_array_i2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mminval_i2 (gfc_array_i2 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ sminval_i2 (gfc_array_i2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "ecd0b4e9d75e854186667532b9cf7d8c1a9b74c3", "filename": "libgfortran/generated/minval_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminval_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minval_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mminval_i4 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ sminval_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "a4e8f78d950abf326a9c8a46d2bb858cefa585d7", "filename": "libgfortran/generated/minval_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminval_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minval_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mminval_i8 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ sminval_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "0ac2185019c4e5a782343c119c01aace41ae0148", "filename": "libgfortran/generated/minval_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminval_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minval_r10 (gfc_array_r10 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mminval_r10 (gfc_array_r10 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ sminval_r10 (gfc_array_r10 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "bee128970d630be99e689ab27c298be2a1ffb311", "filename": "libgfortran/generated/minval_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminval_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minval_r16 (gfc_array_r16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mminval_r16 (gfc_array_r16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ sminval_r16 (gfc_array_r16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "d47a9c8658af0672fa37b6f87b1cb6cdcbe08e5e", "filename": "libgfortran/generated/minval_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminval_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minval_r4 (gfc_array_r4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mminval_r4 (gfc_array_r4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ sminval_r4 (gfc_array_r4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "05528470e8de0fea3aff4c31ffeb57ac55608424", "filename": "libgfortran/generated/minval_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fminval_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fminval_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ minval_r8 (gfc_array_r8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -301,7 +301,7 @@ mminval_r8 (gfc_array_r8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -488,7 +488,7 @@ sminval_r8 (gfc_array_r8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "37b3a879cd92c46d1d701ade638ce9707c2d5a0e", "filename": "libgfortran/generated/norm2_r10.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fnorm2_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fnorm2_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fnorm2_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -103,7 +103,7 @@ norm2_r10 (gfc_array_r10 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "faa06ba4d000c488bf7c02a607248f91d53b22b9", "filename": "libgfortran/generated/norm2_r16.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fnorm2_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fnorm2_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fnorm2_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -107,7 +107,7 @@ norm2_r16 (gfc_array_r16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "22a006b8a3597b62a76f03b88d033e3b4b9e4e75", "filename": "libgfortran/generated/norm2_r4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fnorm2_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fnorm2_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fnorm2_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -103,7 +103,7 @@ norm2_r4 (gfc_array_r4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "7b2a5ae0d7d06d1c384a304a5cb78443365fddda", "filename": "libgfortran/generated/norm2_r8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fnorm2_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fnorm2_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fnorm2_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -103,7 +103,7 @@ norm2_r8 (gfc_array_r8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "fe4e5c8245dfec2a096c4ddf5b87d9b424014c64", "filename": "libgfortran/generated/parity_l1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fparity_l1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fparity_l1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fparity_l1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ parity_l1 (gfc_array_l1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "b74882cc6d0dab7b5ca0ab369ad69afc116ab831", "filename": "libgfortran/generated/parity_l16.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fparity_l16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fparity_l16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fparity_l16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ parity_l16 (gfc_array_l16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "9c0b0eb0f3962a8570b3018d5ed0efa334e59cf6", "filename": "libgfortran/generated/parity_l2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fparity_l2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fparity_l2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fparity_l2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ parity_l2 (gfc_array_l2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "7506605e67ea4b8e147b01272dedb56d1667726b", "filename": "libgfortran/generated/parity_l4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fparity_l4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fparity_l4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fparity_l4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ parity_l4 (gfc_array_l4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "273c27285ed0b4fccd0fb8138dc249da7ad86b47", "filename": "libgfortran/generated/parity_l8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fparity_l8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fparity_l8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fparity_l8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ parity_l8 (gfc_array_l8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "d78bab99765d62cb21968a62c871b22c016dbf2c", "filename": "libgfortran/generated/product_c10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_c10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_c10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fproduct_c10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ product_c10 (gfc_array_c10 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ mproduct_c10 (gfc_array_c10 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ sproduct_c10 (gfc_array_c10 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "7b6b1eedb5f31088b261535ef1d4c0ec57f54f17", "filename": "libgfortran/generated/product_c16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_c16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_c16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fproduct_c16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ product_c16 (gfc_array_c16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ mproduct_c16 (gfc_array_c16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ sproduct_c16 (gfc_array_c16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "ddb28bc5e81ca9e673a1f6c331ec2141c16876dd", "filename": "libgfortran/generated/product_c4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_c4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_c4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fproduct_c4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ product_c4 (gfc_array_c4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ mproduct_c4 (gfc_array_c4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ sproduct_c4 (gfc_array_c4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "e1705bc9c3cb5220e3e6c519344777a8cbec36be", "filename": "libgfortran/generated/product_c8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_c8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_c8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fproduct_c8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ product_c8 (gfc_array_c8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ mproduct_c8 (gfc_array_c8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ sproduct_c8 (gfc_array_c8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "38f6f212d02eec9c19253397cc5448de3079d3b3", "filename": "libgfortran/generated/product_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fproduct_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ product_i1 (gfc_array_i1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ mproduct_i1 (gfc_array_i1 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ sproduct_i1 (gfc_array_i1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "58c51fb6b2e1ab20470242795acce7ceaf61fc15", "filename": "libgfortran/generated/product_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fproduct_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ product_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ mproduct_i16 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ sproduct_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "b91ca7572954cc4126e500a6561aad93761449b3", "filename": "libgfortran/generated/product_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fproduct_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ product_i2 (gfc_array_i2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ mproduct_i2 (gfc_array_i2 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ sproduct_i2 (gfc_array_i2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "246dc7e129b7ed8f28d951951f1298ac41323a28", "filename": "libgfortran/generated/product_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fproduct_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ product_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ mproduct_i4 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ sproduct_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "a0e264f74c8a239345fd0bc0128c6a50bd1113b1", "filename": "libgfortran/generated/product_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fproduct_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ product_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ mproduct_i8 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ sproduct_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "decefd7509e4a33ab0cf09ce9cd9bda6e9841f85", "filename": "libgfortran/generated/product_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fproduct_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ product_r10 (gfc_array_r10 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ mproduct_r10 (gfc_array_r10 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ sproduct_r10 (gfc_array_r10 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "66f3ef91d97a2f0fab2c0f312fb45fdc9e682c05", "filename": "libgfortran/generated/product_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fproduct_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ product_r16 (gfc_array_r16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ mproduct_r16 (gfc_array_r16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ sproduct_r16 (gfc_array_r16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "0f5f1f5d4ce75ba8c531786d554276473d48ca40", "filename": "libgfortran/generated/product_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fproduct_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ product_r4 (gfc_array_r4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ mproduct_r4 (gfc_array_r4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ sproduct_r4 (gfc_array_r4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "75ed99c501a4d84629a8a196cc9aed594272c2d5", "filename": "libgfortran/generated/product_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fproduct_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fproduct_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ product_r8 (gfc_array_r8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ mproduct_r8 (gfc_array_r8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ sproduct_r8 (gfc_array_r8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "6bf12fd6a6c877a0c0d08990a432be4a698ec703", "filename": "libgfortran/generated/reshape_c10.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_c10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_c10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Freshape_c10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -118,7 +118,7 @@ reshape_c10 (gfc_array_c10 * const restrict ret,\n         alloc_size = rs;\n \n       ret->base_addr = xmallocarray (alloc_size, sizeof (GFC_COMPLEX_10));\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rdim;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rdim);\n     }\n \n   if (shape_empty)"}, {"sha": "28e7eeb38c5f7bfda7d10f935dea0eb0ad310b92", "filename": "libgfortran/generated/reshape_c16.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_c16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_c16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Freshape_c16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -118,7 +118,7 @@ reshape_c16 (gfc_array_c16 * const restrict ret,\n         alloc_size = rs;\n \n       ret->base_addr = xmallocarray (alloc_size, sizeof (GFC_COMPLEX_16));\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rdim;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rdim);\n     }\n \n   if (shape_empty)"}, {"sha": "15997a067dffb4dbd0cdd10e9c01b75d19b01d35", "filename": "libgfortran/generated/reshape_c4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_c4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_c4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Freshape_c4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -118,7 +118,7 @@ reshape_c4 (gfc_array_c4 * const restrict ret,\n         alloc_size = rs;\n \n       ret->base_addr = xmallocarray (alloc_size, sizeof (GFC_COMPLEX_4));\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rdim;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rdim);\n     }\n \n   if (shape_empty)"}, {"sha": "be5457f252e9c46f2870104df5f42f8119a06bf2", "filename": "libgfortran/generated/reshape_c8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_c8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_c8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Freshape_c8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -118,7 +118,7 @@ reshape_c8 (gfc_array_c8 * const restrict ret,\n         alloc_size = rs;\n \n       ret->base_addr = xmallocarray (alloc_size, sizeof (GFC_COMPLEX_8));\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rdim;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rdim);\n     }\n \n   if (shape_empty)"}, {"sha": "3d4d516fc4e627b5f205b1eb23940f70b8012f42", "filename": "libgfortran/generated/reshape_i16.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Freshape_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -118,7 +118,7 @@ reshape_16 (gfc_array_i16 * const restrict ret,\n         alloc_size = rs;\n \n       ret->base_addr = xmallocarray (alloc_size, sizeof (GFC_INTEGER_16));\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rdim;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rdim);\n     }\n \n   if (shape_empty)"}, {"sha": "64fae81ff37315a6d29ed3885930ee638e3e7cdc", "filename": "libgfortran/generated/reshape_i4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Freshape_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -118,7 +118,7 @@ reshape_4 (gfc_array_i4 * const restrict ret,\n         alloc_size = rs;\n \n       ret->base_addr = xmallocarray (alloc_size, sizeof (GFC_INTEGER_4));\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rdim;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rdim);\n     }\n \n   if (shape_empty)"}, {"sha": "aa675a7fd88d792db16ba5a3287b24193e554600", "filename": "libgfortran/generated/reshape_i8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Freshape_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -118,7 +118,7 @@ reshape_8 (gfc_array_i8 * const restrict ret,\n         alloc_size = rs;\n \n       ret->base_addr = xmallocarray (alloc_size, sizeof (GFC_INTEGER_8));\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rdim;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rdim);\n     }\n \n   if (shape_empty)"}, {"sha": "2feac5adcea4a648faa33a8e878e9fdf5b7c9609", "filename": "libgfortran/generated/reshape_r10.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Freshape_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -118,7 +118,7 @@ reshape_r10 (gfc_array_r10 * const restrict ret,\n         alloc_size = rs;\n \n       ret->base_addr = xmallocarray (alloc_size, sizeof (GFC_REAL_10));\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rdim;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rdim);\n     }\n \n   if (shape_empty)"}, {"sha": "bbfd2adc6f7f108dbd153909a44c605196f82577", "filename": "libgfortran/generated/reshape_r16.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Freshape_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -118,7 +118,7 @@ reshape_r16 (gfc_array_r16 * const restrict ret,\n         alloc_size = rs;\n \n       ret->base_addr = xmallocarray (alloc_size, sizeof (GFC_REAL_16));\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rdim;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rdim);\n     }\n \n   if (shape_empty)"}, {"sha": "b0f27dc1b4685ee0ed17a048fd6ebec532ea107f", "filename": "libgfortran/generated/reshape_r4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Freshape_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -118,7 +118,7 @@ reshape_r4 (gfc_array_r4 * const restrict ret,\n         alloc_size = rs;\n \n       ret->base_addr = xmallocarray (alloc_size, sizeof (GFC_REAL_4));\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rdim;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rdim);\n     }\n \n   if (shape_empty)"}, {"sha": "bd0d2bcb3267b175a744d65dfc82919fddf5d586", "filename": "libgfortran/generated/reshape_r8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Freshape_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Freshape_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -118,7 +118,7 @@ reshape_r8 (gfc_array_r8 * const restrict ret,\n         alloc_size = rs;\n \n       ret->base_addr = xmallocarray (alloc_size, sizeof (GFC_REAL_8));\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rdim;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rdim);\n     }\n \n   if (shape_empty)"}, {"sha": "70aa950ab6604a4a76042795f5d2ba8bb067a5bd", "filename": "libgfortran/generated/spread_c10.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_c10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_c10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fspread_c10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -72,7 +72,7 @@ spread_c10 (gfc_array_c10 *ret, const gfc_array_c10 *source,\n \n       /* The front end has signalled that we need to populate the\n \t return array descriptor.  */\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)"}, {"sha": "9a284a1d8407e62b162547b2e8adc98b2f473534", "filename": "libgfortran/generated/spread_c16.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_c16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_c16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fspread_c16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -72,7 +72,7 @@ spread_c16 (gfc_array_c16 *ret, const gfc_array_c16 *source,\n \n       /* The front end has signalled that we need to populate the\n \t return array descriptor.  */\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)"}, {"sha": "dbb12d57ac9ecd23acbcbd0702e3fb8581dad281", "filename": "libgfortran/generated/spread_c4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_c4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_c4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fspread_c4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -72,7 +72,7 @@ spread_c4 (gfc_array_c4 *ret, const gfc_array_c4 *source,\n \n       /* The front end has signalled that we need to populate the\n \t return array descriptor.  */\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)"}, {"sha": "09f371fe63f8c6ca801b31968e08bb974199fe9e", "filename": "libgfortran/generated/spread_c8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_c8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_c8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fspread_c8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -72,7 +72,7 @@ spread_c8 (gfc_array_c8 *ret, const gfc_array_c8 *source,\n \n       /* The front end has signalled that we need to populate the\n \t return array descriptor.  */\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)"}, {"sha": "6c56bfcbb6038df3af286986ac284051e73ba2ad", "filename": "libgfortran/generated/spread_i1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fspread_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -72,7 +72,7 @@ spread_i1 (gfc_array_i1 *ret, const gfc_array_i1 *source,\n \n       /* The front end has signalled that we need to populate the\n \t return array descriptor.  */\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)"}, {"sha": "a00ed752aa8642f60445c5c5c91076045d9b1808", "filename": "libgfortran/generated/spread_i16.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fspread_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -72,7 +72,7 @@ spread_i16 (gfc_array_i16 *ret, const gfc_array_i16 *source,\n \n       /* The front end has signalled that we need to populate the\n \t return array descriptor.  */\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)"}, {"sha": "f48d66e37134c6e90de55e51ac307626290e4d90", "filename": "libgfortran/generated/spread_i2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fspread_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -72,7 +72,7 @@ spread_i2 (gfc_array_i2 *ret, const gfc_array_i2 *source,\n \n       /* The front end has signalled that we need to populate the\n \t return array descriptor.  */\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)"}, {"sha": "5703cd63be8a7a93a8a22ccfd5ade0bb92c85f54", "filename": "libgfortran/generated/spread_i4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fspread_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -72,7 +72,7 @@ spread_i4 (gfc_array_i4 *ret, const gfc_array_i4 *source,\n \n       /* The front end has signalled that we need to populate the\n \t return array descriptor.  */\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)"}, {"sha": "25465a1620b2a5a72e9d9d8a736fbedda87cc2be", "filename": "libgfortran/generated/spread_i8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fspread_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -72,7 +72,7 @@ spread_i8 (gfc_array_i8 *ret, const gfc_array_i8 *source,\n \n       /* The front end has signalled that we need to populate the\n \t return array descriptor.  */\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)"}, {"sha": "5f9b021880eeff0a12adbb8f88ddcf55487844b2", "filename": "libgfortran/generated/spread_r10.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fspread_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -72,7 +72,7 @@ spread_r10 (gfc_array_r10 *ret, const gfc_array_r10 *source,\n \n       /* The front end has signalled that we need to populate the\n \t return array descriptor.  */\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)"}, {"sha": "df0007fcd9eb2bdf8a83d3536a61e384aafffc1a", "filename": "libgfortran/generated/spread_r16.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fspread_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -72,7 +72,7 @@ spread_r16 (gfc_array_r16 *ret, const gfc_array_r16 *source,\n \n       /* The front end has signalled that we need to populate the\n \t return array descriptor.  */\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)"}, {"sha": "e64bf71498abe36342505df6e5bd9b21f551d8b9", "filename": "libgfortran/generated/spread_r4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fspread_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -72,7 +72,7 @@ spread_r4 (gfc_array_r4 *ret, const gfc_array_r4 *source,\n \n       /* The front end has signalled that we need to populate the\n \t return array descriptor.  */\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)"}, {"sha": "ca5b2f27b35c154aa94da4d68313dbeea9d35fcb", "filename": "libgfortran/generated/spread_r8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fspread_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fspread_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -72,7 +72,7 @@ spread_r8 (gfc_array_r8 *ret, const gfc_array_r8 *source,\n \n       /* The front end has signalled that we need to populate the\n \t return array descriptor.  */\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)"}, {"sha": "9083745614cfd67b76e1c4c3e18f5432bd0992ac", "filename": "libgfortran/generated/sum_c10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_c10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_c10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fsum_c10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ sum_c10 (gfc_array_c10 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ msum_c10 (gfc_array_c10 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ ssum_c10 (gfc_array_c10 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "15c2d6b4f10af94667e8a49fb22d3e1f7fb6ce80", "filename": "libgfortran/generated/sum_c16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_c16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_c16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fsum_c16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ sum_c16 (gfc_array_c16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ msum_c16 (gfc_array_c16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ ssum_c16 (gfc_array_c16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "654ed6098a06559cd4bc9289ee8dc4fd0f715c56", "filename": "libgfortran/generated/sum_c4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_c4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_c4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fsum_c4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ sum_c4 (gfc_array_c4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ msum_c4 (gfc_array_c4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ ssum_c4 (gfc_array_c4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "1313c5d72ae0eddd02594c71d8c453f54ae9d58d", "filename": "libgfortran/generated/sum_c8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_c8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_c8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fsum_c8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ sum_c8 (gfc_array_c8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ msum_c8 (gfc_array_c8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ ssum_c8 (gfc_array_c8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "a6d3043ef6bc01b75065eaee754646adb1314e43", "filename": "libgfortran/generated/sum_i1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_i1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_i1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fsum_i1.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ sum_i1 (gfc_array_i1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ msum_i1 (gfc_array_i1 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ ssum_i1 (gfc_array_i1 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "d8f80b0bcda53641131212643ab61109104d1f43", "filename": "libgfortran/generated/sum_i16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_i16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_i16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fsum_i16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ sum_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ msum_i16 (gfc_array_i16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ ssum_i16 (gfc_array_i16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "49209c4d68133bcfabd9290fa95892ec161d8352", "filename": "libgfortran/generated/sum_i2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_i2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_i2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fsum_i2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ sum_i2 (gfc_array_i2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ msum_i2 (gfc_array_i2 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ ssum_i2 (gfc_array_i2 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "39954d179cf8c791606f65580f9b7c95a7bad5ca", "filename": "libgfortran/generated/sum_i4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fsum_i4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ sum_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ msum_i4 (gfc_array_i4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ ssum_i4 (gfc_array_i4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "6fb7d9b967cf258613719b9e1407aa6a34a36c8c", "filename": "libgfortran/generated/sum_i8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fsum_i8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ sum_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ msum_i8 (gfc_array_i8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ ssum_i8 (gfc_array_i8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "dcafdec8d8e86cfd62a3255cfb4603177f56cd68", "filename": "libgfortran/generated/sum_r10.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_r10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_r10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fsum_r10.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ sum_r10 (gfc_array_r10 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ msum_r10 (gfc_array_r10 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ ssum_r10 (gfc_array_r10 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "e230e6107c736fb7263c00e1966dbf383915814f", "filename": "libgfortran/generated/sum_r16.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_r16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_r16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fsum_r16.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ sum_r16 (gfc_array_r16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ msum_r16 (gfc_array_r16 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ ssum_r16 (gfc_array_r16 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "a2bca49e35cf7d6855e5513e59e8b09690d2eb09", "filename": "libgfortran/generated/sum_r4.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_r4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_r4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fsum_r4.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ sum_r4 (gfc_array_r4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ msum_r4 (gfc_array_r4 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ ssum_r4 (gfc_array_r4 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "7c2836e54598cd176015d748444cc407b2ba5a5d", "filename": "libgfortran/generated/sum_r8.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_r8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fgenerated%2Fsum_r8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Fsum_r8.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -100,7 +100,7 @@ sum_r8 (gfc_array_r8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -287,7 +287,7 @@ msum_r8 (gfc_array_r8 * const restrict retarray,\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ ssum_r8 (gfc_array_r8 * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "b07da9c5c332b7e320f5117d0a630ed65e90cde9", "filename": "libgfortran/intrinsics/cshift0.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fintrinsics%2Fcshift0.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fintrinsics%2Fcshift0.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Fcshift0.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -61,7 +61,7 @@ cshift0 (gfc_array_char * ret, const gfc_array_char * array,\n       int i;\n \n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n       for (i = 0; i < GFC_DESCRIPTOR_RANK (array); i++)\n         {\n \t  index_type ub, str;"}, {"sha": "c14b485f001f495e5762adcc722986eb27c093b5", "filename": "libgfortran/intrinsics/eoshift0.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fintrinsics%2Feoshift0.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fintrinsics%2Feoshift0.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Feoshift0.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -66,7 +66,7 @@ eoshift0 (gfc_array_char * ret, const gfc_array_char * array,\n       int i;\n \n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n       for (i = 0; i < GFC_DESCRIPTOR_RANK (array); i++)\n         {\n \t  index_type ub, str;"}, {"sha": "fc532a5ed2bec2f4c7db8af2004ccbcd8352ccde", "filename": "libgfortran/intrinsics/eoshift2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fintrinsics%2Feoshift2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fintrinsics%2Feoshift2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Feoshift2.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -72,7 +72,7 @@ eoshift2 (gfc_array_char *ret, const gfc_array_char *array,\n       int i;\n \n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n \n       /* xmallocarray allocates a single byte for zero size.  */\n       ret->base_addr = xmallocarray (arraysize, size);"}, {"sha": "c8a0caa59a5f0096eabe09b1663086d188f08603", "filename": "libgfortran/intrinsics/move_alloc.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fintrinsics%2Fmove_alloc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fintrinsics%2Fmove_alloc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Fmove_alloc.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -46,7 +46,7 @@ move_alloc (gfc_array_char * from, gfc_array_char * to)\n     }\n \n   to->offset = from->offset;\n-  to->dtype = from->dtype;\n+  GFC_DTYPE_COPY(to,from);\n   to->base_addr = from->base_addr;\n   from->base_addr = NULL;\n }"}, {"sha": "94e45f510f9bc207ae947a3f82b07c94d8cf250d", "filename": "libgfortran/intrinsics/reshape_generic.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fintrinsics%2Freshape_generic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fintrinsics%2Freshape_generic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Freshape_generic.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -107,7 +107,7 @@ reshape_internal (parray *ret, parray *source, shape_type *shape,\n \n       ret->base_addr = xmallocarray (alloc_size, size);\n \n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rdim;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rdim);\n     }\n \n   if (shape_empty)"}, {"sha": "83ecc1d2e580121076a97652f7b63fb37378fce4", "filename": "libgfortran/intrinsics/spread_generic.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fintrinsics%2Fspread_generic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fintrinsics%2Fspread_generic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Fspread_generic.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -71,7 +71,7 @@ spread_internal (gfc_array_char *ret, const gfc_array_char *source,\n \n       size_t ub, stride;\n \n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)\n@@ -464,7 +464,7 @@ spread_scalar (gfc_array_char *ret, const char *source,\n {\n   index_type type_size;\n \n-  if (!ret->dtype)\n+  if (GFC_DTYPE_IS_UNSET(ret))\n     runtime_error (\"return array missing descriptor in spread()\");\n \n   type_size = GFC_DTYPE_TYPE_SIZE(ret);\n@@ -625,7 +625,7 @@ spread_char_scalar (gfc_array_char *ret,\n \t\t    const index_type *pncopies,\n \t\t    GFC_INTEGER_4 source_length __attribute__((unused)))\n {\n-  if (!ret->dtype)\n+  if (GFC_DTYPE_IS_UNSET(ret))\n     runtime_error (\"return array missing descriptor in spread()\");\n   spread_internal_scalar (ret, source, along, pncopies);\n }\n@@ -643,7 +643,7 @@ spread_char4_scalar (gfc_array_char *ret,\n \t\t     const index_type *pncopies,\n \t\t     GFC_INTEGER_4 source_length __attribute__((unused)))\n {\n-  if (!ret->dtype)\n+  if (GFC_DTYPE_IS_UNSET(ret))\n     runtime_error (\"return array missing descriptor in spread()\");\n   spread_internal_scalar (ret, source, along, pncopies);\n "}, {"sha": "86e1253a5c1c7689f958db31c1d3397359f84fed", "filename": "libgfortran/intrinsics/unpack_generic.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fintrinsics%2Funpack_generic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fintrinsics%2Funpack_generic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Funpack_generic.c?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -578,7 +578,7 @@ unpack0 (gfc_array_char *ret, const gfc_array_char *vector,\n     }\n \n   memset (&tmp, 0, sizeof (tmp));\n-  tmp.dtype = 0;\n+  GFC_DTYPE_CLEAR(&tmp);\n   tmp.base_addr = field;\n   unpack_internal (ret, vector, mask, &tmp, GFC_DESCRIPTOR_SIZE (vector));\n }\n@@ -602,7 +602,7 @@ unpack0_char (gfc_array_char *ret,\n     unpack_bounds (ret, vector, mask, NULL);\n \n   memset (&tmp, 0, sizeof (tmp));\n-  tmp.dtype = 0;\n+  GFC_DTYPE_CLEAR(&tmp);\n   tmp.base_addr = field;\n   unpack_internal (ret, vector, mask, &tmp, vector_length);\n }\n@@ -626,7 +626,7 @@ unpack0_char4 (gfc_array_char *ret,\n     unpack_bounds (ret, vector, mask, NULL);\n \n   memset (&tmp, 0, sizeof (tmp));\n-  tmp.dtype = 0;\n+  GFC_DTYPE_CLEAR(&tmp);\n   tmp.base_addr = field;\n   unpack_internal (ret, vector, mask, &tmp,\n \t\t   vector_length * sizeof (gfc_char4_t));"}, {"sha": "4c643b7e17bff577ddcd7f6788e9805cefdf57ce", "filename": "libgfortran/libgfortran.h", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Flibgfortran.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Flibgfortran.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Flibgfortran.h?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -413,6 +413,17 @@ typedef gfc_array_i4 gfc_array_s4;\n \n #define GFC_DTYPE_TYPE_SIZE(desc) ((desc)->dtype & GFC_DTYPE_TYPE_SIZE_MASK)\n \n+/* Macros to set size and type information.  */\n+\n+#define GFC_DTYPE_COPY(a,b) do { (a)->dtype = (b)->dtype; } while(0)\n+#define GFC_DTYPE_COPY_SETRANK(a,b,n) \\\n+  do { \\\n+  (a)->dtype = (((b)->dtype & ~GFC_DTYPE_RANK_MASK) | n ); \\\n+  } while (0)\n+\n+#define GFC_DTYPE_IS_UNSET(a) (unlikely((a)->dtype == 0))\n+#define GFC_DTYPE_CLEAR(a) do { (a)->dtype = 0; } while(0)\n+\n #define GFC_DTYPE_INTEGER_1 ((BT_INTEGER << GFC_DTYPE_TYPE_SHIFT) \\\n    | (sizeof(GFC_INTEGER_1) << GFC_DTYPE_SIZE_SHIFT))\n #define GFC_DTYPE_INTEGER_2 ((BT_INTEGER << GFC_DTYPE_TYPE_SHIFT) \\"}, {"sha": "07241a506a655d5f374e153f9852d16df3dcac8e", "filename": "libgfortran/m4/cshift1.m4", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fcshift1.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fcshift1.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fm4%2Fcshift1.m4?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -82,7 +82,7 @@ cshift1 (gfc_array_char * const restrict ret,\n \n       ret->base_addr = xmallocarray (arraysize, size);\n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n       for (i = 0; i < GFC_DESCRIPTOR_RANK (array); i++)\n         {\n \t  index_type ub, str;"}, {"sha": "aab46fd08a558f674d4b248e597e5f14816d2c37", "filename": "libgfortran/m4/eoshift1.m4", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Feoshift1.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Feoshift1.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fm4%2Feoshift1.m4?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -88,7 +88,7 @@ eoshift1 (gfc_array_char * const restrict ret,\n       int i;\n \n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n       for (i = 0; i < GFC_DESCRIPTOR_RANK (array); i++)\n         {\n \t  index_type ub, str;"}, {"sha": "a8077496760fe9ce9818cdad6d3b62baad607b28", "filename": "libgfortran/m4/eoshift3.m4", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Feoshift3.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Feoshift3.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fm4%2Feoshift3.m4?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -90,7 +90,7 @@ eoshift3 (gfc_array_char * const restrict ret,\n \n       ret->base_addr = xmallocarray (arraysize, size);\n       ret->offset = 0;\n-      ret->dtype = array->dtype;\n+      GFC_DTYPE_COPY(ret,array);\n       for (i = 0; i < GFC_DESCRIPTOR_RANK (array); i++)\n         {\n \t  index_type ub, str;"}, {"sha": "c62a1f734cb643a89fa223ea9d75b4fa38cef16d", "filename": "libgfortran/m4/iforeach-s.m4", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fiforeach-s.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fiforeach-s.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fm4%2Fiforeach-s.m4?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -37,7 +37,7 @@ name`'rtype_qual`_'atype_code (rtype * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (rtype_name));\n     }\n@@ -140,7 +140,7 @@ void\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (rtype_name));\n     }\n@@ -271,7 +271,7 @@ void\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (rtype_name));\n     }"}, {"sha": "2b9e7dd73f3355162d9e841c9d3f31884089c824", "filename": "libgfortran/m4/iforeach.m4", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fiforeach.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fiforeach.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fm4%2Fiforeach.m4?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -28,7 +28,7 @@ name`'rtype_qual`_'atype_code (rtype * const restrict retarray,\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (rtype_name));\n     }\n@@ -131,7 +131,7 @@ void\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank - 1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (rtype_name));\n     }\n@@ -262,7 +262,7 @@ void\n   if (retarray->base_addr == NULL)\n     {\n       GFC_DIMENSION_SET(retarray->dim[0], 0, rank-1, 1);\n-      retarray->dtype = (retarray->dtype & ~GFC_DTYPE_RANK_MASK) | 1;\n+      GFC_DTYPE_COPY_SETRANK(retarray,retarray,1);\n       retarray->offset = 0;\n       retarray->base_addr = xmallocarray (rank, sizeof (rtype_name));\n     }"}, {"sha": "0f0c28fa4167332207f1de4ccac215ea976c0bdf", "filename": "libgfortran/m4/ifunction-s.m4", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fifunction-s.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fifunction-s.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fm4%2Fifunction-s.m4?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -101,7 +101,7 @@ name`'rtype_qual`_'atype_code (rtype * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -288,7 +288,7 @@ void\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -446,7 +446,7 @@ void\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "27c2236b402d2c4313b4bc8ad5cea38312dc0f8a", "filename": "libgfortran/m4/ifunction-s2.m4", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fifunction-s2.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fifunction-s2.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fm4%2Fifunction-s2.m4?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -104,7 +104,7 @@ name`'rtype_qual`_'atype_code (rtype * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1]\n       \t\t * string_len;\n@@ -296,7 +296,7 @@ void\n       \t\t * string_len;\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -457,7 +457,7 @@ void\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1]\n       \t\t * string_len;"}, {"sha": "fa10a8b84cb968c88d1ab809f8e8dc4d017889bd", "filename": "libgfortran/m4/ifunction.m4", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fifunction.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fifunction.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fm4%2Fifunction.m4?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -90,7 +90,7 @@ name`'rtype_qual`_'atype_code (rtype * const restrict retarray,\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n@@ -277,7 +277,7 @@ void\n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       if (alloc_size == 0)\n \t{\n@@ -435,7 +435,7 @@ void\n \t}\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "d58c2a0ab216a5cf59a3fd5e2f8132adc3efecf2", "filename": "libgfortran/m4/ifunction_logical.m4", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fifunction_logical.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fifunction_logical.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fm4%2Fifunction_logical.m4?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -87,7 +87,7 @@ name`'rtype_qual`_'atype_code (rtype * const restrict retarray,\n         }\n \n       retarray->offset = 0;\n-      retarray->dtype = (array->dtype & ~GFC_DTYPE_RANK_MASK) | rank;\n+      GFC_DTYPE_COPY_SETRANK(retarray,array,rank);\n \n       alloc_size = GFC_DESCRIPTOR_STRIDE(retarray,rank-1) * extent[rank-1];\n "}, {"sha": "79cbca3feed5c36a0fde968900f28d89df5200db", "filename": "libgfortran/m4/reshape.m4", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Freshape.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Freshape.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fm4%2Freshape.m4?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -122,7 +122,7 @@ reshape_'rtype_ccode` ('rtype` * const restrict ret,\n         alloc_size = rs;\n \n       ret->base_addr = xmallocarray (alloc_size, sizeof ('rtype_name`));\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rdim;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rdim);\n     }\n \n   if (shape_empty)"}, {"sha": "e8c52aad144560ce5fab250e4bebb3382033cb4c", "filename": "libgfortran/m4/spread.m4", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fspread.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa3c4d47b961d8be02e62345d2122b93ad077207/libgfortran%2Fm4%2Fspread.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fm4%2Fspread.m4?ref=fa3c4d47b961d8be02e62345d2122b93ad077207", "patch": "@@ -73,7 +73,7 @@ spread_'rtype_code` ('rtype` *ret, const 'rtype` *source,\n \n       /* The front end has signalled that we need to populate the\n \t return array descriptor.  */\n-      ret->dtype = (source->dtype & ~GFC_DTYPE_RANK_MASK) | rrank;\n+      GFC_DTYPE_COPY_SETRANK(ret,source,rrank);\n       dim = 0;\n       rs = 1;\n       for (n = 0; n < rrank; n++)"}]}