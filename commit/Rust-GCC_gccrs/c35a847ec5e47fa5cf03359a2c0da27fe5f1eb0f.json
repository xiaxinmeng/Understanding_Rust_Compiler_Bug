{"sha": "c35a847ec5e47fa5cf03359a2c0da27fe5f1eb0f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzM1YTg0N2VjNWU0N2ZhNWNmMDMzNTlhMmMwZGEyN2ZlNWYxZWIwZg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-11-05T20:31:48Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-11-05T20:31:48Z"}, "message": "(objc_read_string): Allocate string properly.\n\nFrom-SVN: r6013", "tree": {"sha": "4df59e6618dd47f8478377beb2fd049d66c14fa9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4df59e6618dd47f8478377beb2fd049d66c14fa9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c35a847ec5e47fa5cf03359a2c0da27fe5f1eb0f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c35a847ec5e47fa5cf03359a2c0da27fe5f1eb0f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c35a847ec5e47fa5cf03359a2c0da27fe5f1eb0f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c35a847ec5e47fa5cf03359a2c0da27fe5f1eb0f/comments", "author": null, "committer": null, "parents": [{"sha": "a5b1eb34fbc0ffedb7c036c03acea8794d97ad7d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5b1eb34fbc0ffedb7c036c03acea8794d97ad7d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a5b1eb34fbc0ffedb7c036c03acea8794d97ad7d"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "1e776c71598d5d6a81c43b7e3a02852e6cee1552", "filename": "gcc/objc/archive.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c35a847ec5e47fa5cf03359a2c0da27fe5f1eb0f/gcc%2Fobjc%2Farchive.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c35a847ec5e47fa5cf03359a2c0da27fe5f1eb0f/gcc%2Fobjc%2Farchive.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Farchive.c?ref=c35a847ec5e47fa5cf03359a2c0da27fe5f1eb0f", "patch": "@@ -617,8 +617,11 @@ objc_read_string (struct objc_typed_stream* stream,\n \n       case _B_UCOMM:\n \t{\n-\t  len = __objc_read_nbyte_uint(stream, (buf[0] & _B_VALUE), &key);\n-\t  (*string) = hash_value_for_key (stream->stream_table, (void*)key);\n+\t  char *tmp;\n+\t  len = __objc_read_nbyte_uint (stream, (buf[0] & _B_VALUE), &key);\n+\t  tmp = hash_value_for_key (stream->stream_table, (void*)key);\n+\t  *string = __objc_xmalloc (strlen (tmp) + 1);\n+\t  strcpy (*string, tmp);\n \t}\n \tbreak;\n "}]}