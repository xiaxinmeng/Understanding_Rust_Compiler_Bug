{"sha": "da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGEyOGEzYjk3ZDg4ZjNmYzQwYmRkOWU0YzI5YTczN2Q4OGYwMzBhMA==", "commit": {"author": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2004-06-21T18:18:40Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2004-06-21T18:18:40Z"}, "message": "[multiple changes]\n\n2004-06-21  Kaz Kojima  <kkojima@gcc.gnu.org>\n\n\t* config/sh/t-linux (MULTILIB_OPTIONS): Remove.\n\n2004-06-21  J\"orn Rennecke <joern.rennecke@superh.com>\n\n\t* sh.h (SUPPORT_SH1, SUPPORT_SH2E, SUPPORT_SH4): Conditionanlly define.\n\t(SUPPORT_SH4_SINGLE): Likewise.\n\t(TARGET_SWITCHES): Break out switches for cpu subtargets:\n\t(TARGET_SWITCH_SH1, TARGET_SWITCH_SH2, TARGET_SWITCH_SH2E): Define.\n\t(TARGET_SWITCH_SH3, TARGET_SWITCH_SH3E): Likewise.\n\t(TARGET_SWITCH_SH4_SINGLE_ONLY, TARGET_SWITCH_SH4_SINGLE): Likewise.\n\t(TARGET_SWITCH_SH4_NOFPU, TARGET_SWITCH_SH4): Likewise.\n\t(TARGET_SWITCH_SH5_64MEDIA, TARGET_SWITCH_SH5_64MEDIA_NOFPU): Likewise.\n\t(TARGET_SWITCHES_SH5_32MEDIA): Likewise.\n\t(TARGET_SWITCHES_SH5_32MEDIA_NOFPU): Likewise.\n\t(SELECT_SH5_64, SELECT_SH5_64_NOFPU): Rename to:\n\t(SELECT_SH5_64MEDIA, SELECT_SH5_64MEDIA_NOFPU)\n\t(SELECT_SH5_32, SELECT_SH5_32_NOFPU): Rename to:\n\t(SELECT_SH5_32MEDIA, SELECT_SH5_32MEDIA_NOFPU).\n\t(SH_MULTILIB_CPU_DEFAULT, MULTILIB_DEFAULTS): Define.\n\t(ASM_ISA_SPEC_DEFAULT, ASM_ISA_DEFAULT_SPEC): Likewise.\n\t* sh64.h (ASM_SPEC, LINK_DEFAULT_CPU_EMUL): Don't redefine.\n\t(TARGET_DEFAULT): Likewise.\n\t* config/sh/t-elf: Amend comment.\n\t* config/sh/t-1e, config/sh/t-mlib-sh1: New files.\n\t* config/sh/t-mlib-sh2, config/sh/t-mlib-sh2e: Likewise.\n\t* config/sh/t-mlib-sh3, config/sh/t-mlib-sh3e: Likewise.\n\t* config/sh/t-mlib-sh4, config/sh/t-mlib-sh4-nofpu: Likewise.\n\t* config/sh/t-mlib-sh4-single: Likewise.\n\t* config/sh/t-mlib-sh4-single-only: Likewise.\n\t* config/sh/t-mlib-sh5-32media: Likewise.\n\t* config/sh/t-mlib-sh5-32media-nofpu: Likewise.\n\t* config/sh/t-mlib-sh5-64media: Likewise.\n\t* config/sh/t-mlib-sh5-64media-nofpu: Likewise.\n\t* config/sh/t-mlib-sh5-compact: Likewise.\n\t* config/sh/t-mlib-sh5-compact-nofpu: Likewise.\n\t* config/sh/t-sh: (MULTILIB_ENDIAN): Add mb.\n\t(MULTILIB_CPUS): Define.\n\t(MULTILIB_OPTIONS): Use MULTILIB_CPUS.\n\t(MULTILIB_MATCHES): Use some shell code to calculate it.\n\t(MULTILIB_EXCEPTIONS): Change to ml/m1.\n\t* config/sh/elf.h (SUBTARGET_ASM_ISA_SPEC): Use ASM_ISA_DEFAULT_SPEC.\n\t* config/sh/netbsd-elf.h: Update code which sets TARGET_VERSION_CPU.\n\t(LINK_DEFAULT_CPU_EMUL): Don't redefine.\n\t(NO_PROFILE_COUNTERS): Define to 1.\n\t* config/sh/t-netbsd (MULTILIB_OPTIONS): Don't append to.\n\t(MULTILIB_DIRNAMES, MULTILIB_MATCHES, MULTILIB_EXCEPTIONS): Don't zap.\n\t* config/sh/t-netbsd-sh5-64 (MULTILIB_OPTIONS): Don't redefine.\n\t(MULTILIB_MATCHES): Don't zap.\n\t(MULTILIB_DIRNAMES): Use MULTILIB_RAW_DIRNAMES.\n\t* config/sh/t-sh64 (MULTILIB_OPTIONS): Don't redefine.\n\t(MULTILIB_MATCHES, MULTILIB_EXCEPTIONS): Don't zap.\n\t(MULTILIB_RAW_DIRNAMES): Define.\n\t(MULTILIB_DIRNAMES): Use it.\n\t* config.gcc: Also set cpu_type / need_64bit_hwint for sh[be]*-*-*.\n\t(sh*linux configurations): Merge into:\n\t(sh*elf / sh*kaos configurations).  Support --with-endian, --with-cpu,\n\t--with-multilib-list options.  Support sh-superh-elf configuration.\n\t(sh*-netbsd*): Use SELECT_SH* macros.\n\t(supported_defaults): sh[123456ble]-*-* | sh-*-* support \"cpu\".\n\tMerge sh*-*-netbsd* configurations into sh-elf configurations.\n\t* config/sh/t-netbsd-sh5, config/sh/t-le, config/sh/t-le: Delete.\n\t* config/sh/t-monolib: Likewise.\n\nFrom-SVN: r83444", "tree": {"sha": "86e1f7f0c1d2eaf9c82bebc4634b4a5fb0fdfe18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/86e1f7f0c1d2eaf9c82bebc4634b4a5fb0fdfe18"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/comments", "author": null, "committer": null, "parents": [{"sha": "f5e440e11d2a06873d52c3443f624d537788600d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5e440e11d2a06873d52c3443f624d537788600d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5e440e11d2a06873d52c3443f624d537788600d"}], "stats": {"total": 574, "additions": 394, "deletions": 180}, "files": [{"sha": "09a4a365b81193b1b4ab083d4d38156e6134a7bd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 65, "deletions": 0, "changes": 65, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -1,3 +1,68 @@\n+2004-06-21  Kaz Kojima  <kkojima@gcc.gnu.org>\n+\n+\t* config/sh/t-linux (MULTILIB_OPTIONS): Remove.\n+\n+2004-06-21  J\"orn Rennecke <joern.rennecke@superh.com>\n+\n+\t* sh.h (SUPPORT_SH1, SUPPORT_SH2E, SUPPORT_SH4): Conditionanlly define.\n+\t(SUPPORT_SH4_SINGLE): Likewise.\n+\t(TARGET_SWITCHES): Break out switches for cpu subtargets:\n+\t(TARGET_SWITCH_SH1, TARGET_SWITCH_SH2, TARGET_SWITCH_SH2E): Define.\n+\t(TARGET_SWITCH_SH3, TARGET_SWITCH_SH3E): Likewise.\n+\t(TARGET_SWITCH_SH4_SINGLE_ONLY, TARGET_SWITCH_SH4_SINGLE): Likewise.\n+\t(TARGET_SWITCH_SH4_NOFPU, TARGET_SWITCH_SH4): Likewise.\n+\t(TARGET_SWITCH_SH5_64MEDIA, TARGET_SWITCH_SH5_64MEDIA_NOFPU): Likewise.\n+\t(TARGET_SWITCHES_SH5_32MEDIA): Likewise.\n+\t(TARGET_SWITCHES_SH5_32MEDIA_NOFPU): Likewise.\n+\t(SELECT_SH5_64, SELECT_SH5_64_NOFPU): Rename to:\n+\t(SELECT_SH5_64MEDIA, SELECT_SH5_64MEDIA_NOFPU)\n+\t(SELECT_SH5_32, SELECT_SH5_32_NOFPU): Rename to:\n+\t(SELECT_SH5_32MEDIA, SELECT_SH5_32MEDIA_NOFPU).\n+\t(SH_MULTILIB_CPU_DEFAULT, MULTILIB_DEFAULTS): Define.\n+\t(ASM_ISA_SPEC_DEFAULT, ASM_ISA_DEFAULT_SPEC): Likewise.\n+\t* sh64.h (ASM_SPEC, LINK_DEFAULT_CPU_EMUL): Don't redefine.\n+\t(TARGET_DEFAULT): Likewise.\n+\t* config/sh/t-elf: Amend comment.\n+\t* config/sh/t-1e, config/sh/t-mlib-sh1: New files.\n+\t* config/sh/t-mlib-sh2, config/sh/t-mlib-sh2e: Likewise.\n+\t* config/sh/t-mlib-sh3, config/sh/t-mlib-sh3e: Likewise.\n+\t* config/sh/t-mlib-sh4, config/sh/t-mlib-sh4-nofpu: Likewise.\n+\t* config/sh/t-mlib-sh4-single: Likewise.\n+\t* config/sh/t-mlib-sh4-single-only: Likewise.\n+\t* config/sh/t-mlib-sh5-32media: Likewise.\n+\t* config/sh/t-mlib-sh5-32media-nofpu: Likewise.\n+\t* config/sh/t-mlib-sh5-64media: Likewise.\n+\t* config/sh/t-mlib-sh5-64media-nofpu: Likewise.\n+\t* config/sh/t-mlib-sh5-compact: Likewise.\n+\t* config/sh/t-mlib-sh5-compact-nofpu: Likewise.\n+\t* config/sh/t-sh: (MULTILIB_ENDIAN): Add mb.\n+\t(MULTILIB_CPUS): Define.\n+\t(MULTILIB_OPTIONS): Use MULTILIB_CPUS.\n+\t(MULTILIB_MATCHES): Use some shell code to calculate it.\n+\t(MULTILIB_EXCEPTIONS): Change to ml/m1.\n+\t* config/sh/elf.h (SUBTARGET_ASM_ISA_SPEC): Use ASM_ISA_DEFAULT_SPEC.\n+\t* config/sh/netbsd-elf.h: Update code which sets TARGET_VERSION_CPU.\n+\t(LINK_DEFAULT_CPU_EMUL): Don't redefine.\n+\t(NO_PROFILE_COUNTERS): Define to 1.\n+\t* config/sh/t-netbsd (MULTILIB_OPTIONS): Don't append to.\n+\t(MULTILIB_DIRNAMES, MULTILIB_MATCHES, MULTILIB_EXCEPTIONS): Don't zap.\n+\t* config/sh/t-netbsd-sh5-64 (MULTILIB_OPTIONS): Don't redefine.\n+\t(MULTILIB_MATCHES): Don't zap.\n+\t(MULTILIB_DIRNAMES): Use MULTILIB_RAW_DIRNAMES.\n+\t* config/sh/t-sh64 (MULTILIB_OPTIONS): Don't redefine.\n+\t(MULTILIB_MATCHES, MULTILIB_EXCEPTIONS): Don't zap.\n+\t(MULTILIB_RAW_DIRNAMES): Define.\n+\t(MULTILIB_DIRNAMES): Use it.\n+\t* config.gcc: Also set cpu_type / need_64bit_hwint for sh[be]*-*-*.\n+\t(sh*linux configurations): Merge into:\n+\t(sh*elf / sh*kaos configurations).  Support --with-endian, --with-cpu,\n+\t--with-multilib-list options.  Support sh-superh-elf configuration.\n+\t(sh*-netbsd*): Use SELECT_SH* macros.\n+\t(supported_defaults): sh[123456ble]-*-* | sh-*-* support \"cpu\".\n+\tMerge sh*-*-netbsd* configurations into sh-elf configurations.\n+\t* config/sh/t-netbsd-sh5, config/sh/t-le, config/sh/t-le: Delete.\n+\t* config/sh/t-monolib: Likewise.\n+\n 2004-06-21  Paul Brook  <paul@codesourcery.com>\n \n \t* config/arm/arm.h (ARM_LEGITIMIZE_RELOAD_ADDRESS): Soft-float need"}, {"sha": "fd226dc215b0be99936437033ef234cbdf8c68d0", "filename": "gcc/config.gcc", "status": "modified", "additions": 121, "deletions": 81, "changes": 202, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -295,7 +295,7 @@ s390*-*-*)\n \tneed_64bit_hwint=yes\n \t;;\n # Note the 'l'; we need to be able to match e.g. \"shle\" or \"shl\".\n-sh[123456789l]*-*-*)\n+sh[123456789lbe]*-*-*)\n \tcpu_type=sh\n \tneed_64bit_hwint=yes\n \t;;\n@@ -1683,34 +1683,124 @@ s390x-ibm-tpf*)\n \tout_file=s390/s390.c\n \ttmake_file=\"t-slibgcc-elf-ver s390/t-crtstuff s390/t-tpf\"\n \t;;\n-sh-*-elf* | sh[2346l]*-*-elf* | sh*-*-kaos*)\n-\ttmake_file=\"sh/t-sh sh/t-elf\"\n+sh-*-elf* | sh[12346l]*-*-elf* | sh*-*-kaos* | \\\n+  sh-*-linux* | sh[346lbe]*-*-linux* | \\\n+  sh-*-netbsdelf* | shl*-*-netbsdelf* | sh5-*-netbsd* | sh5l*-*-netbsd* | \\\n+   sh64-*-netbsd* | sh64l*-*-netbsd*)\n+\ttmake_file=\"${tmake_file} sh/t-sh sh/t-elf\"\n+\tif test x${with_endian} = x; then\n+\t\tcase ${target} in\n+\t\tsh[1234]*be-*-* | sh[1234]*eb-*-*) with_endian=big ;;\n+\t\tshbe-*-* | sheb-*-*)\t\t   with_endian=big,little ;;\n+\t\tsh[1234]l* | sh[34]*-*-linux*)\t   with_endian=little ;;\n+\t\tshl* | sh64l* | sh*-*-linux* | \\\n+\t\t  sh5l* | sh-superh-elf)\t   with_endian=little,big ;;\n+\t\tsh[1234]*-*-*)\t\t\t   with_endian=big ;;\n+\t\t*)\t\t\t\t   with_endian=big,little ;;\n+\t\tesac\n+\tfi\n+\tcase ${with_endian} in\n+\tbig|little)\ttmake_file=\"${tmake_file} sh/t-1e\" ;;\n+\tbig,little|little,big) ;;\n+\t*)\techo \"with_endian=${with_endian} not supported.\"; exit 1 ;;\n+\tesac\n+\tcase ${with_endian} in\n+\tlittle*)\ttm_file=\"sh/little.h ${tm_file}\" ;;\n+\tesac\n+\ttm_file=\"${tm_file} dbxelf.h elfos.h\"\n \tcase ${target} in\n-\tshl* | sh[234]l* | sh64l*)\n-\t\ttm_file=\"sh/little.h ${tm_file}\"\n-\t\ttmake_file=\"${tmake_file} sh/t-le\"\n-\t\t;;\n+\tsh*-*-netbsd*)\t;;\n+\t*)\t\ttm_file=\"${tm_file} svr4.h\" ;;\n+\tesac\n+\ttm_file=\"${tm_file} sh/elf.h\"\n+\tcase ${target} in\n+\tsh*-*-linux*)\ttmake_file=\"${tmake_file} sh/t-linux\"\n+\t\t\ttm_file=\"${tm_file} sh/linux.h\" ;;\n+\tsh*-*-kaos*)\ttm_file=\"${tm_file} sh/embed-elf.h kaos.h sh/kaos-sh.h\"\n+\t\t\t;;\n+\tsh*-*-netbsd*)\ttm_file=\"${tm_file} netbsd.h netbsd-elf.h sh/netbsd-elf.h\" ;;\n+\t*)\t\ttm_file=\"${tm_file} sh/embed-elf.h\" ;;\n \tesac\n-\ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sh/elf.h sh/embed-elf.h\"\n \tcase ${target} in\n+\tsh5*-*-netbsd*)\n+\t\t# SHmedia, 32-bit ABI\n+\t\ttmake_file=\"${tmake_file} sh/t-sh64 sh/t-netbsd\"\n+\t\t;;\n+\tsh64*-netbsd*)\n+\t\t# SHmedia, 64-bit ABI\n+\t\ttmake_file=\"${tmake_file} sh/t-sh64 sh/t-netbsd sh/t-netbsd-sh5-64\"\n+\t\t;;\n+\t*-*-netbsd)\n+                tmake_file=\"${tmake_file} sh/t-netbsd\"\n+\t\t;;\n+\tsh64*-*-linux*)\n+\t\ttmake_file=\"${tmake_file} sh/t-sh64 sh/t-linux64\"\n+\t\ttm_file=\"${tm_file} sh/sh64.h\"\n+\t\textra_headers=\"shmedia.h ushmedia.h sshmedia.h\"\n+\t\t;;\n \tsh64*)\n \t\ttmake_file=\"${tmake_file} sh/t-sh64\"\n \t\ttm_file=\"${tm_file} sh/sh64.h\"\n \t\textra_headers=\"shmedia.h ushmedia.h sshmedia.h\"\n \t\t;;\n-\tsh4_single*)  target_cpu_default=\"SELECT_SH4_SINGLE\" ;;\n-\tsh4*)  target_cpu_default=\"SELECT_SH4\" ;;\n-\tsh3e*) target_cpu_default=\"SELECT_SH3E\" ;;\n-\tsh3*)  target_cpu_default=\"SELECT_SH3\" ;;\n-\tsh2e*) target_cpu_default=\"SELECT_SH2E\" ;;\n-\tsh2*)  target_cpu_default=\"SELECT_SH2\" ;;\n \tesac\n-\tcase ${target} in\n-\tsh[234]*) tmake_file=\"${tmake_file} sh/t-monolib\" ;;\n+\t# sed el/eb endian suffixes away to avoid confusion with sh[23]e\n+\tcase `echo ${target} | sed 's/e[lb]-/-/'` in\n+\tsh64*-*-netbsd*)\tsh_cpu_target=sh5-64media ;;\n+\tsh64* | sh5*-*-netbsd*)\tsh_cpu_target=sh5-32media ;;\n+\tsh4_single_only*)\tsh_cpu_target=sh4-single-only ;;\n+\tsh4_single*)\t\tsh_cpu_target=sh4-single ;;\n+\tsh4_nofpu*)\t\tsh_cpu_target=sh4-nofpu ;;\n+\tsh4* | sh-superh-*)\tsh_cpu_target=sh4 ;;\n+\tsh3e*)\t\t\tsh_cpu_target=sh3e ;;\n+\tsh*-*-netbsd* | sh3*)\tsh_cpu_target=sh3 ;;\n+\tsh2e*)\t\t\tsh_cpu_target=sh2e ;;\n+\tsh2*)\t\t\tsh_cpu_target=sh2 ;;\n+\t*)\t\t\tsh_cpu_target=sh1 ;;\n \tesac\n-\tcase ${target} in\n-\tsh*-*-kaos*) tm_file=\"${tm_file} kaos.h sh/kaos-sh.h\" ;;\n+\tsh_cpu_default=\"`echo $with_cpu|sed s/^m/sh/|tr A-Z_ a-z-`\"\n+\tcase $sh_cpu_default in\n+\tsh5-64media-nofpu | sh5-64media | \\\n+\t  sh5-32media-nofpu | sh5-32media | sh5-compact-nofpu | sh5-compact | \\\n+\t  sh4-single-only | sh4-single | sh4-nofpu | sh4 | \\\n+\t  sh3e | sh3 | sh2e | sh2 | sh1)\n+\t\tsh_multilibs=\"${sh_cpu_default},${sh_multilibs}\" ;;\n+\t\"\")\tsh_cpu_default=${sh_cpu_target} ;;\n+\t*)\techo \"with_cpu=$with_cpu not supported\"; exit 1 ;;\n \tesac\n+\tsh_multilibs=${with_multilib_list}\n+\tif test x${sh_multilibs} = x ; then\n+\t\tcase ${target} in\n+\t\tsh[1234]*)\tsh_multilibs=${sh_cpu_target} ;;\n+\t\tsh64* | sh5*)\tsh_multilibs=m5-32media,m5-32media-nofpu,m5-compact,m5-compact-nofpu,m5-64media,m5-64media-nofpu ;;\n+\t\tsh-superh-*)\tsh_multilibs=m4,m4-single,m4-single-only,m4-nofpu ;;\n+\t\tsh*-*-linux*)\tsh_multilibs=m1,m3e,m4 ;;\n+\t\tsh*-*-netbsd*)\tsh_multilibs=m3,m3e,m4 ;;\n+\t\t*) sh_multilibs=m1,m2,m2e,m4,m4-single,m4-single-only ;;\n+\t\tesac\n+\tfi\n+\ttarget_cpu_default=SELECT_`echo ${sh_cpu_default}|tr a-z- A-Z_`\n+\ttm_defines=${tm_defines}' SH_MULTILIB_CPU_DEFAULT=\\\"'`echo $sh_cpu_default|sed s/sh/m/`'\\\"'\n+\tsh_multilibs=`echo $sh_multilibs,$sh_cpu_default | sed -e 's/[ \t,/][ \t,]*/ /g' -e 's/ $//' -e s/^m/sh/ -e 's/ m/ sh/g' | tr A-Z_ a-z-`\n+\tfor sh_multilib in ${sh_multilibs}; do\n+\t\tcase ${sh_multilib} in\n+\t\tsh1 | sh2 | sh2e | sh3 | sh3e | \\\n+\t\tsh4 | sh4-single | sh4-single-only | sh4-nofpu | \\\n+\t\tsh5-64media | sh5-64media-nofpu | \\\n+\t\tsh5-32media | sh5-32media-nofpu | \\\n+\t\tsh5-compact | sh5-compact-nofpu)\n+\t\t\ttmake_file=\"${tmake_file} sh/t-mlib-${sh_multilib}\"\n+\t\t\ttm_defines=\"$tm_defines SUPPORT_`echo $sh_multilib|tr a-z- A-Z_`\"\n+\t\t\t;;\n+\t\t*)\n+\t\t\techo \"with_multilib_list=${sh_multilib} not supported.\"\n+\t\t\texit 1\n+\t\t\t;;\n+\t\tesac\n+\tdone\n+\tif test x${enable_incomplete_targets} == xyes ; then\n+\t\ttm_defines=\"$tm_defines SUPPORT_SH1 SUPPORT_SH2E SUPPORT_SH4 SUPPORT_SH4_SINGLE SUPPORT_SH5_32MEDIA SUPPORT_SH5_32MEDIA_NOFPU SUPPORT_SH5_64MEDIA SUPPORT_SH5_64MEDIA_NOFPU\"\n+\tfi\n \tuse_fixproto=yes\n \t;;\n sh-*-rtemscoff*)\n@@ -1721,69 +1811,6 @@ sh-*-rtems*)\n \ttmake_file=\"sh/t-sh sh/t-elf t-rtems\"\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sh/elf.h sh/embed-elf.h sh/rtemself.h rtems.h\"\n \t;;\n-sh-*-linux* | sh[2346lbe]*-*-linux*)\n-\ttmake_file=\"sh/t-sh sh/t-elf ${tmake_file}\"\n-\tcase ${target} in\n-\tsh*be-*-* | sh*eb-*-*) ;;\n-\t*)\n-\t\ttm_file=\"sh/little.h ${tm_file}\"\n-\t\ttmake_file=\"${tmake_file} sh/t-le\"\n-\t\t;;\n-\tesac\n-\ttmake_file=\"${tmake_file} sh/t-linux\"\n-\ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sh/elf.h sh/linux.h\"\n-\tcase ${target} in\n-\tsh64*)\n-\t\ttmake_file=\"${tmake_file} sh/t-sh64 sh/t-linux64\"\n-\t\ttm_file=\"${tm_file} sh/sh64.h\"\n-\t\textra_headers=\"shmedia.h ushmedia.h sshmedia.h\"\n-\t\t;;\n-\tsh4_single*) target_cpu_default=\"SELECT_SH4_SINGLE\" ;;\n-\tsh4*) target_cpu_default=\"SELECT_SH4\" ;;\n-\tsh3e[lb]e*) target_cpu_default=\"SELECT_SH3E\" ;;\n-\tsh3e[lb]*) target_cpu_default=\"SELECT_SH3\" ;;\n-\tsh3e*) target_cpu_default=\"SELECT_SH3E\" ;;\n-\tsh3*) target_cpu_default=\"SELECT_SH3\" ;;\n-\tsh2e[lb]e*) target_cpu_default=\"SELECT_SH2E\" ;;\n-\tsh2e[lb]*) target_cpu_default=\"SELECT_SH2\" ;;\n-\tsh2e*) target_cpu_default=\"SELECT_SH2E\" ;;\n-\tsh2*) target_cpu_default=\"SELECT_SH2\" ;;\n-\tesac\n-\tcase ${target} in\n-\tsh[234]*) tmake_file=\"${tmake_file} sh/t-monolib\" ;;\n-\tesac\n-\t;;\n-sh-*-netbsdelf* | shl*-*-netbsdelf* | sh5-*-netbsd* | sh5l*-*-netbsd* | \\\n-  sh64-*-netbsd* | sh64l*-*-netbsd*)\n-\ttm_file=\"${tm_file} dbxelf.h elfos.h sh/elf.h netbsd.h netbsd-elf.h sh/netbsd-elf.h\"\n-\ttmake_file=\"${tmake_file} sh/t-sh sh/t-elf\"\n-\tcase ${target} in\n-\tsh*l*-*)\n-\t\ttm_file=\"sh/little.h ${tm_file}\"\n-\t\ttmake_file=\"${tmake_file} sh/t-le\"\n-\t\t;;\n-\t*)\n-\t\ttmake_file=\"${tmake_file} sh/t-be\"\n-\t\t;;\n-\tesac\n-\tcase ${target} in\n-\tsh5*-*)\n-\t\t# SHmedia, 32-bit ABI\n-\t\ttarget_cpu_default=\"SH5_BIT|SH4_BIT|SH3_BIT|SH_E_BIT\"\n-\t\ttmake_file=\"${tmake_file} sh/t-sh64 sh/t-netbsd-sh5\"\n-\t\t;;\n-\tsh64*-*)\n-\t\t# SHmedia, 64-bit ABI\n-\t\ttarget_cpu_default=\"SH5_BIT|SH4_BIT\"\n-\t\ttmake_file=\"${tmake_file} sh/t-sh64 sh/t-netbsd-sh5 sh/t-netbsd-sh5-64\"\n-\t\t;;\n-\t*)\n-\t\t# SH3, software floating point\n-\t\ttarget_cpu_default=\"SH1_BIT|SH2_BIT|SH3_BIT\"\n-\t\ttmake_file=\"${tmake_file} sh/t-netbsd\"\n-\t\t;;\n-\tesac\n-\t;;\n sh-wrs-vxworks)\n \ttmake_file=\"$tmake_file sh/t-sh sh/t-elf sh/t-vxworks\"\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sh/embed-elf.h sh/vxworks.h\"\n@@ -2435,6 +2462,19 @@ fi\n \t\tesac\n \t\t;;\n \n+\tsh[123456ble]-*-* | sh-*-*)\n+\t\tsupported_defaults=\"cpu\"\n+\t\tcase \"`echo $with_cpu | tr A-Z_ a-z- | sed s/sh/m/`\" in\n+\t\t\"\" | m1 | m2 | m2e | m3 | m3e | m4 | m4-single | m4-single-only | m4-nofpu )\n+\t\t\t# OK\n+\t\t\t;;\n+\t\t*)\n+\t\t\techo \"Unknown CPU used in --with-cpu=$with_cpu, known values:\"  1>&2\n+\t\t\techo \"m1 m2 m2e m3 m3e m4 m4-single m4-single-only m4-nofpu\" 1>&2\n+\t\t\texit 1\n+\t\t\t;;\n+\t\tesac\n+\t\t;;\n \tsparc*-*-*)\n \t\tsupported_defaults=\"cpu float tune\"\n "}, {"sha": "04c0c987fc33b87bc707cbb7181c1c75fb43c621", "filename": "gcc/config/sh/elf.h", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Felf.h?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -58,9 +58,8 @@ Boston, MA 02111-1307, USA.  */\n #define ASM_SPEC SH_ASM_SPEC\n #undef SUBTARGET_ASM_ISA_SPEC\n #define SUBTARGET_ASM_ISA_SPEC \"\\\n-%{m5-compact:--isa=SHcompact} %{m5-compact-nofpu:--isa=SHcompact} \\\n-%{m5-32media:--isa=SHmedia --abi=32} %{m5-32media-nofpu:--isa=SHmedia --abi=32} \\\n-%{m5-64media:--isa=SHmedia --abi=64} %{m5-64media-nofpu:--isa=SHmedia --abi=64}\"\n+%{m5-compact*:--isa=SHcompact} %{m5-32media*:--isa=SHmedia --abi=32} \\\n+%{m5-64media*:--isa=SHmedia --abi=64}\" ASM_ISA_DEFAULT_SPEC\n \n #undef LINK_SPEC\n #define LINK_SPEC SH_LINK_SPEC"}, {"sha": "b50344bdf50f9246923aae60aa6cdf8eef9a2147", "filename": "gcc/config/sh/netbsd-elf.h", "status": "modified", "additions": 3, "deletions": 14, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Fnetbsd-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Fnetbsd-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fnetbsd-elf.h?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -27,11 +27,11 @@ Boston, MA 02111-1307, USA.  */\n #endif\n \n #if TARGET_CPU_DEFAULT & SH5_BIT\n-#if TARGET_CPU_DEFAULT & SH3E_BIT\n+#if TARGET_CPU_DEFAULT & SH_E_BIT\n #define TARGET_VERSION_CPU \"sh5\"\n #else\n #define TARGET_VERSION_CPU \"sh64\"\n-#endif /* SH3E_BIT */\n+#endif /* SH_E_BIT */\n #else\n #define TARGET_VERSION_CPU \"sh\"\n #endif /* SH5_BIT */\n@@ -63,17 +63,6 @@ Boston, MA 02111-1307, USA.  */\n \n /* LINK_EMUL_PREFIX from sh/elf.h */\n \n-#undef LINK_DEFAULT_CPU_EMUL\n-#if TARGET_CPU_DEFAULT & SH5_BIT\n-#if TARGET_CPU_DEFAULT & SH3E_BIT\n-#define LINK_DEFAULT_CPU_EMUL \"32\"\n-#else\n-#define LINK_DEFAULT_CPU_EMUL \"64\"\n-#endif /* SH3E_BIT */\n-#else\n-#define LINK_DEFAULT_CPU_EMUL \"\"\n-#endif /* SH5_BIT */\n-\n #undef SUBTARGET_LINK_EMUL_SUFFIX\n #define SUBTARGET_LINK_EMUL_SUFFIX \"_nbsd\"\n \n@@ -94,7 +83,7 @@ Boston, MA 02111-1307, USA.  */\n   (TARGET_CPU_DEFAULT | USERMODE_BIT | TARGET_ENDIAN_DEFAULT)\n \n /* Define because we use the label and we do not need them.  */\n-#define NO_PROFILE_COUNTERS\n+#define NO_PROFILE_COUNTERS 1\n  \n #undef FUNCTION_PROFILER\n #define FUNCTION_PROFILER(STREAM,LABELNO)\t\t\t\t\\"}, {"sha": "f6154a322000eb6a5aeb39d8eaf1ca468562c7ac", "filename": "gcc/config/sh/sh.h", "status": "modified", "additions": 158, "deletions": 34, "changes": 192, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Fsh.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Fsh.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.h?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -263,6 +263,14 @@ extern int target_flags;\n \n #define TARGET_SAVE_ALL_TARGET_REGS (target_flags & SAVE_ALL_TR_BIT)\n \n+#ifndef TARGET_CPU_DEFAULT\n+#define TARGET_CPU_DEFAULT SELECT_SH1\n+#define SUPPORT_SH1\n+#define SUPPORT_SH2E\n+#define SUPPORT_SH4\n+#define SUPPORT_SH4_SINGLE\n+#endif\n+\n #define SELECT_SH1               (SH1_BIT)\n #define SELECT_SH2               (SH2_BIT | SELECT_SH1)\n #define SELECT_SH2E              (SH_E_BIT | SH2_BIT | SH1_BIT | FPU_SINGLE_BIT)\n@@ -272,48 +280,149 @@ extern int target_flags;\n #define SELECT_SH4_SINGLE_ONLY   (HARD_SH4_BIT | SELECT_SH3E)\n #define SELECT_SH4               (SH4_BIT | SH_E_BIT | HARD_SH4_BIT | SELECT_SH3)\n #define SELECT_SH4_SINGLE        (FPU_SINGLE_BIT | SELECT_SH4)\n-#define SELECT_SH5_64            (SH5_BIT | SH4_BIT)\n-#define SELECT_SH5_64_NOFPU      (SH5_BIT)\n-#define SELECT_SH5_32            (SH5_BIT | SH4_BIT | SH_E_BIT)\n-#define SELECT_SH5_32_NOFPU      (SH5_BIT | SH_E_BIT)\n+#define SELECT_SH5_64MEDIA       (SH5_BIT | SH4_BIT)\n+#define SELECT_SH5_64MEDIA_NOFPU (SH5_BIT)\n+#define SELECT_SH5_32MEDIA       (SH5_BIT | SH4_BIT | SH_E_BIT)\n+#define SELECT_SH5_32MEDIA_NOFPU (SH5_BIT | SH_E_BIT)\n #define SELECT_SH5_COMPACT       (SH5_BIT | SH4_BIT | SELECT_SH3E)\n #define SELECT_SH5_COMPACT_NOFPU (SH5_BIT | SELECT_SH3)\n \n+/* Disable processor switches for which we have no suitable multilibs.  */\n+#ifndef SUPPORT_SH1\n+#define TARGET_SWITCH_SH1\n+#ifndef SUPPORT_SH2\n+#define TARGET_SWITCH_SH2\n+#ifndef SUPPORT_SH3\n+#define TARGET_SWITCH_SH3\n+#ifndef SUPPORT_SH4_NOFPU\n+#define TARGET_SWITCH_SH4_NOFPU\n+#endif\n+#endif\n+#endif\n+#endif\n+\n+#ifndef SUPPORT_SH2E\n+#define TARGET_SWITCH_SH2E\n+#ifndef SUPPORT_SH3E\n+#define TARGET_SWITCH_SH3E\n+#ifndef SUPPORT_SH4_SINGLE_ONLY\n+#define TARGET_SWITCH_SH4_SINGLE_ONLY\n+#endif\n+#endif\n+#endif\n+\n+#ifndef SUPPORT_SH4\n+#define TARGET_SWITCH_SH4\n+#endif\n+\n+#ifndef SUPPORT_SH4_SINGLE\n+#define TARGET_SWITCH_SH4_SINGLE\n+#endif\n+\n+#ifndef SUPPORT_SH5_64MEDIA\n+#define TARGET_SWITCH_SH5_64MEDIA\n+#endif\n+\n+#ifndef SUPPORT_SH5_64MEDIA_NOFPU\n+#define TARGET_SWITCH_SH5_64MEDIA_NOFPU\n+#endif\n+\n+#if !defined(SUPPORT_SH5_32MEDIA) && !defined (SUPPORT_SH5_COMPACT)\n+#define TARGET_SWITCHES_SH5_32MEDIA\n+#endif\n+\n+#if !defined(SUPPORT_SH5_32MEDIA_NOFPU) && !defined (SUPPORT_SH5_COMPACT_NOFPU)\n+#define TARGET_SWITCHES_SH5_32MEDIA_NOFPU\n+#endif\n+\n /* Reset all target-selection flags.  */\n #define TARGET_NONE -(SH1_BIT | SH2_BIT | SH3_BIT | SH_E_BIT | SH4_BIT \\\n \t\t      | HARD_SH4_BIT | FPU_SINGLE_BIT | SH5_BIT)\n \n-#define TARGET_SWITCHES  \t\t\t\\\n-{ {\"1\",\t        TARGET_NONE, \"\" },\t\t\\\n-  {\"1\",\t        SELECT_SH1, \"Generate SH1 code\" },\t\t\\\n-  {\"2\",\t        TARGET_NONE, \"\" },\t\t\\\n-  {\"2\",\t        SELECT_SH2, \"Generate SH2 code\" },\t\t\\\n-  {\"2e\",        TARGET_NONE, \"\" },\t\t\\\n-  {\"2e\",        SELECT_SH2E, \"Generate SH2e code\" },\t\t\\\n-  {\"3\",\t        TARGET_NONE, \"\" },\t\t\\\n-  {\"3\",\t        SELECT_SH3, \"Generate SH3 code\" },\t\t\\\n-  {\"3e\",\tTARGET_NONE, \"\" },\t\t\\\n-  {\"3e\",\tSELECT_SH3E, \"Generate SH3e code\" },\t\t\\\n-  {\"4-single-only\",\tTARGET_NONE, \"\" },\t\\\n-  {\"4-single-only\",\tSELECT_SH4_SINGLE_ONLY, \"Generate only single-precision SH4 code\" },\t\\\n-  {\"4-single\",\tTARGET_NONE, \"\" },\t\t\\\n-  {\"4-single\",\tSELECT_SH4_SINGLE, \"Generate default single-precision SH4 code\" },\t\\\n-  {\"4-nofpu\",\tTARGET_NONE, \"\" },\t\t\\\n-  {\"4-nofpu\",\tSELECT_SH4_NOFPU, \"Generate SH4 FPU-less code\" },\t\t\\\n-  {\"4\",\t        TARGET_NONE, \"\" },\t\t\\\n-  {\"4\",\t        SELECT_SH4, \"Generate SH4 code\" }, \t\t\\\n+#ifndef TARGET_SWITCH_SH1\n+#define TARGET_SWITCH_SH1 \\\n+  {\"1\",\t\tTARGET_NONE, \"\" }, \\\n+  {\"1\",\t\tSELECT_SH1, \"Generate SH1 code\" },\n+#endif\n+#ifndef TARGET_SWITCH_SH2\n+#define TARGET_SWITCH_SH2 \\\n+  {\"2\",\t\tTARGET_NONE, \"\" }, \\\n+  {\"2\",\t\tSELECT_SH2, \"Generate SH2 code\" },\n+#endif\n+#ifndef TARGET_SWITCH_SH2E\n+#define TARGET_SWITCH_SH2E \\\n+  {\"2e\",\tTARGET_NONE, \"\" }, \\\n+  {\"2e\",\tSELECT_SH2E, \"Generate SH2e code\" },\n+#endif\n+#ifndef TARGET_SWITCH_SH3\n+#define TARGET_SWITCH_SH3 \\\n+  {\"3\",\t\tTARGET_NONE, \"\" }, \\\n+  {\"3\",\t\tSELECT_SH3, \"Generate SH3 code\" },\n+#endif\n+#ifndef TARGET_SWITCH_SH3E\n+#define TARGET_SWITCH_SH3E \\\n+  {\"3e\",\tTARGET_NONE, \"\" }, \\\n+  {\"3e\",\tSELECT_SH3E, \"Generate SH3e code\" },\n+#endif\n+#ifndef TARGET_SWITCH_SH4_SINGLE_ONLY\n+#define TARGET_SWITCH_SH4_SINGLE_ONLY \\\n+  {\"4-single-only\",\tTARGET_NONE, \"\" }, \\\n+  {\"4-single-only\",\tSELECT_SH4_SINGLE_ONLY, \"Generate only single-precision SH4 code\" },\n+#endif\n+#ifndef TARGET_SWITCH_SH4_SINGLE\n+#define TARGET_SWITCH_SH4_SINGLE \\\n+  {\"4-single\",\tTARGET_NONE, \"\" }, \\\n+  {\"4-single\",\tSELECT_SH4_SINGLE, \"Generate default single-precision SH4 code\" },\n+#endif\n+#ifndef TARGET_SWITCH_SH4_NOFPU\n+#define TARGET_SWITCH_SH4_NOFPU \\\n+  {\"4-nofpu\",\tTARGET_NONE, \"\" }, \\\n+  {\"4-nofpu\",\tSELECT_SH4_NOFPU, \"Generate SH4 FPU-less code\" },\n+#endif\n+#ifndef TARGET_SWITCH_SH4\n+#define TARGET_SWITCH_SH4 \\\n+  {\"4\",\t\tTARGET_NONE, \"\" }, \\\n+  {\"4\",\t\tSELECT_SH4, \"Generate SH4 code\" },\n+#endif\n+#ifndef TARGET_SWITCH_SH5_64MEDIA\n+#define TARGET_SWITCH_SH5_64MEDIA \\\n   {\"5-64media\",\tTARGET_NONE, \"\" },\t\t\\\n-  {\"5-64media\", SELECT_SH5_64, \"Generate 64-bit SHmedia code\" }, \\\n+  {\"5-64media\", SELECT_SH5_64MEDIA, \"Generate 64-bit SHmedia code\" },\n+#endif\n+#ifndef TARGET_SWITCH_SH5_64MEDIA_NOFPU\n+#define TARGET_SWITCH_SH5_64MEDIA_NOFPU \\\n   {\"5-64media-nofpu\", TARGET_NONE, \"\" },\t\\\n-  {\"5-64media-nofpu\", SELECT_SH5_64_NOFPU, \"Generate 64-bit FPU-less SHmedia code\" }, \\\n+  {\"5-64media-nofpu\", SELECT_SH5_64MEDIA_NOFPU, \"Generate 64-bit FPU-less SHmedia code\" },\n+#endif\n+#ifndef TARGET_SWITCHES_SH5_32MEDIA\n+#define TARGET_SWITCHES_SH5_32MEDIA \\\n   {\"5-32media\",\tTARGET_NONE, \"\" },\t\t\\\n-  {\"5-32media\", SELECT_SH5_32, \"Generate 32-bit SHmedia code\" }, \\\n-  {\"5-32media-nofpu\", TARGET_NONE, \"\" },\t\\\n-  {\"5-32media-nofpu\", SELECT_SH5_32_NOFPU, \"Generate 32-bit FPU-less SHmedia code\" }, \\\n+  {\"5-32media\", SELECT_SH5_32MEDIA, \"Generate 32-bit SHmedia code\" }, \\\n   {\"5-compact\",\tTARGET_NONE, \"\" },\t\t\\\n-  {\"5-compact\",\tSELECT_SH5_COMPACT, \"Generate SHcompact code\" }, \\\n+  {\"5-compact\",\tSELECT_SH5_COMPACT, \"Generate SHcompact code\" },\n+#endif\n+#ifndef TARGET_SWITCHES_SH5_32MEDIA_NOFPU\n+#define TARGET_SWITCHES_SH5_32MEDIA_NOFPU \\\n+  {\"5-32media-nofpu\", TARGET_NONE, \"\" },\t\\\n+  {\"5-32media-nofpu\", SELECT_SH5_32MEDIA_NOFPU, \"Generate 32-bit FPU-less SHmedia code\" }, \\\n   {\"5-compact-nofpu\", TARGET_NONE, \"\" },\t\\\n-  {\"5-compact-nofpu\", SELECT_SH5_COMPACT_NOFPU, \"Generate FPU-less SHcompact code\" }, \\\n+  {\"5-compact-nofpu\", SELECT_SH5_COMPACT_NOFPU, \"Generate FPU-less SHcompact code\" },\n+#endif\n+\n+#define TARGET_SWITCHES \\\n+{ TARGET_SWITCH_SH1 \\\n+  TARGET_SWITCH_SH2 \\\n+  TARGET_SWITCH_SH2E \\\n+  TARGET_SWITCH_SH3 \\\n+  TARGET_SWITCH_SH3E \\\n+  TARGET_SWITCH_SH4_SINGLE_ONLY \\\n+  TARGET_SWITCH_SH4_SINGLE \\\n+  TARGET_SWITCH_SH4_NOFPU \\\n+  TARGET_SWITCH_SH4 \\\n+  TARGET_SWITCH_SH5_64MEDIA \\\n+  TARGET_SWITCH_SH5_64MEDIA_NOFPU \\\n+  TARGET_SWITCHES_SH5_32MEDIA \\\n+  TARGET_SWITCHES_SH5_32MEDIA_NOFPU \\\n   {\"b\",\t\t-LITTLE_ENDIAN_BIT, \"Generate code in big endian mode\" },  \t\\\n   {\"bigtable\", \tBIGTABLE_BIT, \"Generate 32-bit offsets in switch tables\" },\t\t\\\n   {\"dalign\",  \tDALIGN_BIT, \"Aligns doubles at 64-bit boundaries\" },\t\t\\\n@@ -342,11 +451,17 @@ extern int target_flags;\n #define TARGET_ENDIAN_DEFAULT 0\n #endif\n \n-#ifndef TARGET_CPU_DEFAULT\n-#define TARGET_CPU_DEFAULT SELECT_SH1\n+#define TARGET_DEFAULT  (TARGET_CPU_DEFAULT|TARGET_ENDIAN_DEFAULT)\n+\n+#ifndef SH_MULTILIB_CPU_DEFAULT\n+#define SH_MULTILIB_CPU_DEFAULT \"m1\"\n #endif\n \n-#define TARGET_DEFAULT  (TARGET_CPU_DEFAULT|TARGET_ENDIAN_DEFAULT)\n+#if TARGET_ENDIAN_DEFAULT\n+#define MULTILIB_DEFAULTS { \"ml\", SH_MULTILIB_CPU_DEFAULT }\n+#else\n+#define MULTILIB_DEFAULTS { \"mb\", SH_MULTILIB_CPU_DEFAULT }\n+#endif\n \n #define CPP_SPEC \" %(subtarget_cpp_spec) \"\n \n@@ -396,11 +511,20 @@ extern int target_flags;\n #if TARGET_CPU_DEFAULT & SH5_BIT\n #if TARGET_CPU_DEFAULT & SH_E_BIT\n #define LINK_DEFAULT_CPU_EMUL \"32\"\n+#if TARGET_CPU_DEFAULT & SH1_BIT\n+#define ASM_ISA_SPEC_DEFAULT \"--isa=SHcompact\"\n #else\n+#define ASM_ISA_SPEC_DEFAULT \"--isa=SHmedia --abi=32\"\n+#endif /* SH1_BIT */\n+#else /* !SH_E_BIT */\n #define LINK_DEFAULT_CPU_EMUL \"64\"\n+#define ASM_ISA_SPEC_DEFAULT \"--isa=SHmedia --abi=64\"\n #endif /* SH_E_BIT */\n-#else\n+#define ASM_ISA_DEFAULT_SPEC \\\n+\" %{!m1:%{!m2*:%{!m3*:%{!m4*:%{!m5*:\" ASM_ISA_SPEC_DEFAULT \"}}}}}\"\n+#else /* !SH5_BIT */\n #define LINK_DEFAULT_CPU_EMUL \"\"\n+#define ASM_ISA_DEFAULT_SPEC \"\"\n #endif /* SH5_BIT */\n \n #define SUBTARGET_LINK_EMUL_SUFFIX \"\""}, {"sha": "522cbb803b228e96b8c86fd11d27cb85be83dc89", "filename": "gcc/config/sh/sh64.h", "status": "modified", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Fsh64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Fsh64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh64.h?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -23,19 +23,5 @@ Boston, MA 02111-1307, USA.  */\n #define TARGET_VERSION \\\n   fputs (\" (SuperH SH)\", stderr);\n \n-#undef ASM_SPEC\n-#define ASM_SPEC  \"%(subtarget_asm_endian_spec) %{mrelax:-relax} \\\n-%{m5-compact*:--isa=SHcompact} \\\n-%{m5-32media*:--isa=SHmedia --abi=32} \\\n-%{m5-64media*:--isa=SHmedia --abi=64} \\\n-%{!m1:%{!m2:%{!m3*:%{!m4*:%{!m5*:--isa=SHmedia --abi=32}}}}} \\\n-\"\n-\n-#undef LINK_DEFAULT_CPU_EMUL\n-#define LINK_DEFAULT_CPU_EMUL \"32\"\n-\n-#undef TARGET_DEFAULT\n-#define TARGET_DEFAULT  (SH5_BIT|SH4_BIT|SH_E_BIT|TARGET_ENDIAN_DEFAULT)\n-\n #undef SH_ELF_WCHAR_TYPE\n #define SH_ELF_WCHAR_TYPE \"int\""}, {"sha": "74b0f9a606a71670b3bb6ade073a53b480661151", "filename": "gcc/config/sh/t-1e", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-1e", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-1e", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-1e?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+MULTILIB_ENDIAN ="}, {"sha": "2e81cd97b6189999e0c1930c5c90749804db46f3", "filename": "gcc/config/sh/t-be", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5e440e11d2a06873d52c3443f624d537788600d/gcc%2Fconfig%2Fsh%2Ft-be", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5e440e11d2a06873d52c3443f624d537788600d/gcc%2Fconfig%2Fsh%2Ft-be", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-be?ref=f5e440e11d2a06873d52c3443f624d537788600d", "patch": "@@ -1,2 +0,0 @@\n-MULTILIB_OPTIONS= ml\n-MULTILIB_ENDIAN = ml"}, {"sha": "feccbb3490b0cc5567640aa20e631a7d2c83a490", "filename": "gcc/config/sh/t-elf", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-elf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-elf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-elf?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -6,4 +6,5 @@ CRTSTUFF_T_CFLAGS_S = -fPIC\n \n # Don't compile libgcc with -fpic for now.  It's unlikely that we'll\n # build shared libraries for embedded SH.\n+# Linux / Netbsd will already have set TARGET_LIBGCC2_CFLAGS.\n # TARGET_LIBGCC2_CFLAGS = -fpic"}, {"sha": "3c676f51b3341b61d86ea47bfa2d2715d3ab8bbb", "filename": "gcc/config/sh/t-le", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5e440e11d2a06873d52c3443f624d537788600d/gcc%2Fconfig%2Fsh%2Ft-le", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5e440e11d2a06873d52c3443f624d537788600d/gcc%2Fconfig%2Fsh%2Ft-le", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-le?ref=f5e440e11d2a06873d52c3443f624d537788600d", "patch": "@@ -1,2 +0,0 @@\n-MULTILIB_OPTIONS= mb\n-MULTILIB_ENDIAN = mb"}, {"sha": "cd810e8343dc8e94d4b2125b9f83ccb2c95e5896", "filename": "gcc/config/sh/t-linux", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-linux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-linux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-linux?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -3,7 +3,6 @@ LIB1ASMFUNCS_CACHE = _ic_invalidate\n \n LIB2FUNCS_EXTRA=\n \n-MULTILIB_OPTIONS= $(MULTILIB_ENDIAN) m3e/m4\n MULTILIB_DIRNAMES= \n MULTILIB_MATCHES = \n MULTILIB_EXCEPTIONS="}, {"sha": "9ba70541c6c15475cf0719f92de9aaf7f4c3db9c", "filename": "gcc/config/sh/t-mlib-sh1", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh1", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh1", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh1?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh1=m1/"}, {"sha": "d8857bab66bdee787153444007eae5b8f93eef8c", "filename": "gcc/config/sh/t-mlib-sh2", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh2", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh2", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh2?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh2=m2/"}, {"sha": "58841327cfed4584ade894c92f28d55e33dae2a3", "filename": "gcc/config/sh/t-mlib-sh2e", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh2e", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh2e", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh2e?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh2e=m2e/"}, {"sha": "2c89d749a9971f96403bc935ecd13478720a8832", "filename": "gcc/config/sh/t-mlib-sh3", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh3", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh3", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh3?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh3=m3/"}, {"sha": "ca18b1bcf8b4771132274e298ae677fed1996b9b", "filename": "gcc/config/sh/t-mlib-sh3e", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh3e", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh3e", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh3e?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh3e=m3e/"}, {"sha": "be7f5c4febdc089c108e421c85b896101c5faf31", "filename": "gcc/config/sh/t-mlib-sh4", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh4?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh4=m4/"}, {"sha": "fa12433714be74cd47c11202ff9d01fdfa5f99cd", "filename": "gcc/config/sh/t-mlib-sh4-nofpu", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh4-nofpu", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh4-nofpu", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh4-nofpu?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh4_nofpu=m4-nofpu/"}, {"sha": "f81bddd1efe322335050a25b2765779fc78e7734", "filename": "gcc/config/sh/t-mlib-sh4-single", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh4-single", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh4-single", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh4-single?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh4_single=m4-single/"}, {"sha": "121d598d69fef7e4ac76a7bff529ef62e0ddf709", "filename": "gcc/config/sh/t-mlib-sh4-single-only", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh4-single-only", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh4-single-only", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh4-single-only?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh4_single_only=m4-single-only/"}, {"sha": "f03fd2911539c8f68e80b8c26da5847635afb6a0", "filename": "gcc/config/sh/t-mlib-sh5-32media", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-32media", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-32media", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-32media?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh5_32media=m5-32media/"}, {"sha": "0d84f0eed776928b17f49f0e53d1ad443035eb1a", "filename": "gcc/config/sh/t-mlib-sh5-32media-nofpu", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-32media-nofpu", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-32media-nofpu", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-32media-nofpu?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh5_32media_nofpu=m5-32media-nofpu/"}, {"sha": "d324f62b5b825780d544a0bd07150fcbbe5ce309", "filename": "gcc/config/sh/t-mlib-sh5-64media", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-64media", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-64media", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-64media?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh5_64media=m5-64media/"}, {"sha": "127bc47e45e862f0e8563f7739e452cc4eae56e9", "filename": "gcc/config/sh/t-mlib-sh5-64media-nofpu", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-64media-nofpu", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-64media-nofpu", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-64media-nofpu?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh5_64media_nofpu=m5-64media-nofpu/"}, {"sha": "e330c25e69e630dc0b62596e4e70710b6aca4a25", "filename": "gcc/config/sh/t-mlib-sh5-compact", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-compact", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-compact", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-compact?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh5_compact=m5-compact/"}, {"sha": "cf6afdc4d3c046c0dad4e93859d9fc157cd25a66", "filename": "gcc/config/sh/t-mlib-sh5-compact-nofpu", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-compact-nofpu", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-compact-nofpu", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-mlib-sh5-compact-nofpu?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -0,0 +1 @@\n+ML_sh5_compact_nofpu=m5-compact-nofpu/"}, {"sha": "6150d59e09877da61a73117edcb6b8844a5d2651", "filename": "gcc/config/sh/t-monolib", "status": "removed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5e440e11d2a06873d52c3443f624d537788600d/gcc%2Fconfig%2Fsh%2Ft-monolib", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5e440e11d2a06873d52c3443f624d537788600d/gcc%2Fconfig%2Fsh%2Ft-monolib", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-monolib?ref=f5e440e11d2a06873d52c3443f624d537788600d", "patch": "@@ -1 +0,0 @@\n-MULTILIB_OPTIONS="}, {"sha": "c19b71504464379d179ef55fe71f6c28d37d9151", "filename": "gcc/config/sh/t-netbsd", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-netbsd", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-netbsd", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-netbsd?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -11,8 +11,3 @@ EXTRA_MULTILIB_PARTS=\n # in libgcc.\n FPBIT =\n DPBIT =\n-\n-MULTILIB_OPTIONS += m3e/m4\n-MULTILIB_DIRNAMES=\n-MULTILIB_MATCHES = \n-MULTILIB_EXCEPTIONS="}, {"sha": "61e6c53ce63a357a24677182bb17ef3280bba2f5", "filename": "gcc/config/sh/t-netbsd-sh5", "status": "removed", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5e440e11d2a06873d52c3443f624d537788600d/gcc%2Fconfig%2Fsh%2Ft-netbsd-sh5", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5e440e11d2a06873d52c3443f624d537788600d/gcc%2Fconfig%2Fsh%2Ft-netbsd-sh5", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-netbsd-sh5?ref=f5e440e11d2a06873d52c3443f624d537788600d", "patch": "@@ -1,12 +0,0 @@\n-TARGET_LIBGCC2_CFLAGS = -fpic\n-\n-LIB2FUNCS_EXTRA=\n-\n-EXTRA_MULTILIB_PARTS=\n-\n-# NetBSD's C library includes a fast software FP library that\n-# has support for setting/setting the rounding mode, exception\n-# mask, etc.  Therefore, we don't want to include software FP\n-# in libgcc.\n-FPBIT =\n-DPBIT ="}, {"sha": "8fc6bd1ea1826139c912f012c46f092306bce2dd", "filename": "gcc/config/sh/t-netbsd-sh5-64", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-netbsd-sh5-64", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-netbsd-sh5-64", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-netbsd-sh5-64?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -1,3 +1 @@\n-MULTILIB_OPTIONS = $(MULTILIB_ENDIAN) m5-64media-nofpu/m5-compact/m5-compact-nofpu/m5-32media/m5-32media-nofpu\n-MULTILIB_DIRNAMES= $(MULTILIB_ENDIAN) nofpu compact nofpu/compact media32 nofpu/media32\n-MULTILIB_MATCHES =\n+MULTILIB_DIRNAMES= $(MULTILIB_RAW_DIRNAMES:/media64=)"}, {"sha": "11ab0c36bcda084c5d3dd48fbddf92f26b416676", "filename": "gcc/config/sh/t-sh", "status": "modified", "additions": 23, "deletions": 4, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-sh?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -21,11 +21,30 @@ fp-bit.c: $(srcdir)/config/fp-bit.c\n \techo '#endif' \t\t>> fp-bit.c\n \tcat $(srcdir)/config/fp-bit.c >> fp-bit.c\n \n-MULTILIB_ENDIAN = ml\n-MULTILIB_OPTIONS= $(MULTILIB_ENDIAN) m2/m2e/m4-single-only/m4-single/m4\n+MULTILIB_ENDIAN = ml/mb\n+MULTILIB_CPUS= $(ML_sh1)$(ML_sh2e)$(ML_sh2)$(ML_sh3e)$(ML_sh3)$(ML_sh4_nofpu)$(ML_sh4_single_only)$(ML_sh4_single)$(ML_sh4)$(ML_m5_32media)$(ML_m5_32media_nofpu)$(ML_m5_compact)$(ML_m5_compact_nofpu)$(ML_m5_64media)$(ML_m5_64media_nofpu)\n+\n+MULTILIB_OPTIONS= $(MULTILIB_ENDIAN) $(MULTILIB_CPUS:/=)\n MULTILIB_DIRNAMES= \n-MULTILIB_MATCHES = m2=m3 m2e=m3e m2=m4-nofpu\n-MULTILIB_EXCEPTIONS = ml\n+#MULTILIB_MATCHES = m2=m3 m2e=m3e m2=m4-nofpu\n+MULTILIB_MATCHES = $(shell \\\n+  multilibs=\"$(MULTILIB_OPTIONS)\" ; \\\n+  for abi in m1,m2,m3,m4-nofpu \\\n+             m2e,m3e,m4-single-only \\\n+             m5-32media,m5-compact,m5-32media \\\n+             m5-32media-nofpu,m5-compact-nofpu,m5-32media-nofpu; do \\\n+    subst= ; \\\n+    for lib in `echo $$abi|tr , ' '` ; do \\\n+      if test \"`echo $$multilibs|sed s/$$lib//`\" != \"$$multilibs\"; then \\\n+        subst=$$lib ; \\\n+      elif test x$$subst != x ; then \\\n+        echo $$subst=$$lib ; \\\n+      fi \\\n+    done \\\n+  done)\n+\n+# SH1 only supports big endian.\n+MULTILIB_EXCEPTIONS = ml/m1\n \n LIBGCC = stmp-multilib\n INSTALL_LIBGCC = install-multilib"}, {"sha": "5ee83ba86329586450e2dc649b92d3cac8a3cd02", "filename": "gcc/config/sh/t-sh64", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-sh64", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da28a3b97d88f3fc40bdd9e4c29a737d88f030a0/gcc%2Fconfig%2Fsh%2Ft-sh64", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-sh64?ref=da28a3b97d88f3fc40bdd9e4c29a737d88f030a0", "patch": "@@ -7,7 +7,7 @@ LIB1ASMFUNCS = \\\n   _push_pop_shmedia_regs \\\n   _udivdi3 _divdi3 _umoddi3 _moddi3\n \n-MULTILIB_OPTIONS = $(MULTILIB_ENDIAN) m5-32media-nofpu/m5-compact/m5-compact-nofpu/m5-64media/m5-64media-nofpu\n-MULTILIB_DIRNAMES= $(MULTILIB_ENDIAN) nofpu compact nofpu/compact media64 nofpu/media64\n-MULTILIB_MATCHES=\n-MULTILIB_EXCEPTIONS=\n+MULTILIB_CPU_DIRS= $(ML_sh1) $(ML_sh2e) $(ML_sh2) $(ML_sh3e) $(ML_sh3) $(ML_sh4_nofpu) $(ML_sh4_single_only) $(ML_sh4_single) $(ML_sh4) $(ML_m5_32media:m5_32media=media32) $(ML_m5_32media_nofpu:m5_32media_nofpu=nofpu/media32) $(ML_m5_compact:m5_compact=compact) $(ML_m5_compact_nofpu:m5_compact_nofpu=nofpu/compact) $(ML_m5_64media:m5_64media=media64) $(ML_m5_64media_nofpu:m5_64media_nofpu=nofpu/media64)\n+\n+MULTILIB_RAW_DIRNAMES= $(MULTILIB_ENDIAN:/mb= mb) $(MULTILIB_CPU_DIRS:/=)\n+MULTILIB_DIRNAMES= $(MULTILIB_RAW_DIRNAMES:/media32=)"}]}