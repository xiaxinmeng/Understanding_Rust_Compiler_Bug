{"sha": "0051ef59bceeb966fcc0cda8c2d1039e034193ae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDA1MWVmNTliY2VlYjk2NmZjYzBjZGE4YzJkMTAzOWUwMzQxOTNhZQ==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2009-04-16T22:54:55Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2009-04-16T22:54:55Z"}, "message": "mips.c (mips_rtx_cost_data): Use SOFT_FP_COSTS in XLR entry.\n\n\t* config/mips/mips.c (mips_rtx_cost_data): Use SOFT_FP_COSTS in\n\tXLR entry.\n\t* config/mips/mips.h (MIPS_ISA_LEVEL_SPEC, MIPS_ARCH_FLOAT_SPEC):\n\tHandle -march=xlr.\n\t* config/mips/xlr.md (ir_xlr_alu): Also accept insn types move,\n\tlogical and signext.\n\nFrom-SVN: r146217", "tree": {"sha": "d1a86f0c7c464d6e6653b30a73a5810e902e0f1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1a86f0c7c464d6e6653b30a73a5810e902e0f1e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0051ef59bceeb966fcc0cda8c2d1039e034193ae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0051ef59bceeb966fcc0cda8c2d1039e034193ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0051ef59bceeb966fcc0cda8c2d1039e034193ae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0051ef59bceeb966fcc0cda8c2d1039e034193ae/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b3f8558a56728c49f637ee6ad419aa4730ee8e4d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3f8558a56728c49f637ee6ad419aa4730ee8e4d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3f8558a56728c49f637ee6ad419aa4730ee8e4d"}], "stats": {"total": 26, "additions": 15, "deletions": 11}, "files": [{"sha": "cf43e618a864ee533e65d0aa5140d085b1f35580", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0051ef59bceeb966fcc0cda8c2d1039e034193ae/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0051ef59bceeb966fcc0cda8c2d1039e034193ae/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0051ef59bceeb966fcc0cda8c2d1039e034193ae", "patch": "@@ -1,3 +1,12 @@\n+2009-04-16  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* config/mips/mips.c (mips_rtx_cost_data): Use SOFT_FP_COSTS in\n+\tXLR entry.\n+\t* config/mips/mips.h (MIPS_ISA_LEVEL_SPEC, MIPS_ARCH_FLOAT_SPEC):\n+\tHandle -march=xlr.\n+\t* config/mips/xlr.md (ir_xlr_alu): Also accept insn types move,\n+\tlogical and signext.\n+\n 2009-04-16  Kaz Kojima  <kkojima@gcc.gnu.org>\n \n \tPR target/39767"}, {"sha": "6b7676ff19e932660bf1a9328800af67bb898045", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0051ef59bceeb966fcc0cda8c2d1039e034193ae/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0051ef59bceeb966fcc0cda8c2d1039e034193ae/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=0051ef59bceeb966fcc0cda8c2d1039e034193ae", "patch": "@@ -1094,13 +1094,7 @@ static const struct mips_rtx_cost_data mips_rtx_cost_data[PROCESSOR_MAX] = {\n     DEFAULT_COSTS\n   },\n   { /* XLR */\n-    /* Need to replace first five with the costs of calling the appropriate \n-       libgcc routine.  */\n-    COSTS_N_INSNS (256),          /* fp_add */\n-    COSTS_N_INSNS (256),          /* fp_mult_sf */\n-    COSTS_N_INSNS (256),          /* fp_mult_df */\n-    COSTS_N_INSNS (256),          /* fp_div_sf */\n-    COSTS_N_INSNS (256),          /* fp_div_df */\n+    SOFT_FP_COSTS,\n     COSTS_N_INSNS (8),            /* int_mult_si */\n     COSTS_N_INSNS (8),            /* int_mult_di */\n     COSTS_N_INSNS (72),           /* int_div_si */"}, {"sha": "6fac454d61d915cfee72a0966ca34f8070199d73", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0051ef59bceeb966fcc0cda8c2d1039e034193ae/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0051ef59bceeb966fcc0cda8c2d1039e034193ae/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=0051ef59bceeb966fcc0cda8c2d1039e034193ae", "patch": "@@ -709,7 +709,8 @@ enum mips_code_readable_setting {\n      %{march=mips32|march=4kc|march=4km|march=4kp|march=4ksc:-mips32} \\\n      %{march=mips32r2|march=m4k|march=4ke*|march=4ksd|march=24k* \\\n        |march=34k*|march=74k*: -mips32r2} \\\n-     %{march=mips64|march=5k*|march=20k*|march=sb1*|march=sr71000: -mips64} \\\n+     %{march=mips64|march=5k*|march=20k*|march=sb1*|march=sr71000 \\\n+       |march=xlr: -mips64} \\\n      %{march=mips64r2|march=octeon: -mips64r2} \\\n      %{!march=*: -\" MULTILIB_ISA_DEFAULT \"}}\"\n \n@@ -720,7 +721,7 @@ enum mips_code_readable_setting {\n #define MIPS_ARCH_FLOAT_SPEC \\\n   \"%{mhard-float|msoft-float|march=mips*:; \\\n      march=vr41*|march=m4k|march=4k*|march=24kc|march=24kec \\\n-     |march=34kc|march=74kc|march=5kc|march=octeon: -msoft-float; \\\n+     |march=34kc|march=74kc|march=5kc|march=octeon|march=xlr: -msoft-float; \\\n      march=*: -mhard-float}\"\n \n /* A spec condition that matches 32-bit options.  It only works if"}, {"sha": "69913b7b2fb96c623640e716b03b6f1724f47a1c", "filename": "gcc/config/mips/xlr.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0051ef59bceeb966fcc0cda8c2d1039e034193ae/gcc%2Fconfig%2Fmips%2Fxlr.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0051ef59bceeb966fcc0cda8c2d1039e034193ae/gcc%2Fconfig%2Fmips%2Fxlr.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fxlr.md?ref=0051ef59bceeb966fcc0cda8c2d1039e034193ae", "patch": "@@ -1,5 +1,5 @@\n ;; DFA-based pipeline description for the XLR.\n-;;   Copyright (C) 2008 Free Software Foundation, Inc.\n+;;   Copyright (C) 2008, 2009 Free Software Foundation, Inc.\n ;;\n ;; xlr.md   Machine Description for the RMI XLR Microprocessor\n ;; This file is part of GCC.\n@@ -31,7 +31,7 @@\n ;; Integer arithmetic instructions.\n (define_insn_reservation \"ir_xlr_alu\" 1\n   (and (eq_attr \"cpu\" \"xlr\") \n-       (eq_attr \"type\" \"arith,shift,clz,const,unknown,multi,nop,trap\"))\n+       (eq_attr \"type\" \"move,arith,shift,clz,logical,signext,const,unknown,multi,nop,trap\"))\n   \"xlr_main_pipe\")\n \n ;; Integer arithmetic instructions."}]}