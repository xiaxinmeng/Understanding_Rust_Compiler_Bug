{"sha": "f6cde0add6f1c1a27a7d9bfd962496d53e81a5e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjZjZGUwYWRkNmYxYzFhMjdhN2Q5YmZkOTYyNDk2ZDUzZTgxYTVlOA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-09-21T00:56:28Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-09-21T00:56:28Z"}, "message": "Fix channels with element type of size zero.\n\nFrom-SVN: r179030", "tree": {"sha": "6e307b79a425fca72af2fa968c8b6a86de61dfb6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6e307b79a425fca72af2fa968c8b6a86de61dfb6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f6cde0add6f1c1a27a7d9bfd962496d53e81a5e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6cde0add6f1c1a27a7d9bfd962496d53e81a5e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6cde0add6f1c1a27a7d9bfd962496d53e81a5e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6cde0add6f1c1a27a7d9bfd962496d53e81a5e8/comments", "author": null, "committer": null, "parents": [{"sha": "6200761b7767c35ef96e47af29a865fa77aa3a5f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6200761b7767c35ef96e47af29a865fa77aa3a5f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6200761b7767c35ef96e47af29a865fa77aa3a5f"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "2f5bf2ea20ab6d67d554539b25f9abcf2e4a918a", "filename": "libgo/runtime/go-new-channel.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6cde0add6f1c1a27a7d9bfd962496d53e81a5e8/libgo%2Fruntime%2Fgo-new-channel.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6cde0add6f1c1a27a7d9bfd962496d53e81a5e8/libgo%2Fruntime%2Fgo-new-channel.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fgo-new-channel.c?ref=f6cde0add6f1c1a27a7d9bfd962496d53e81a5e8", "patch": "@@ -33,7 +33,7 @@ __go_new_channel (const struct __go_type_descriptor *channel_type,\n   ientries = (int) entries;\n   if (ientries < 0\n       || (uintptr_t) ientries != entries\n-      || entries > (uintptr_t) -1 / element_size)\n+      || (element_size > 0 && entries > (uintptr_t) -1 / element_size))\n     __go_panic_msg (\"chan size out of range\");\n \n   alloc_size = (element_size + sizeof (uint64_t) - 1) / sizeof (uint64_t);"}]}