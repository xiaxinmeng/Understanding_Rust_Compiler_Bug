{"sha": "87db77bb25d2f78a10d138da06d518331d3e641e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdkYjc3YmIyNWQyZjc4YTEwZDEzOGRhMDZkNTE4MzMxZDNlNjQxZQ==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2014-08-07T07:22:35Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2014-08-07T07:22:35Z"}, "message": "Remove cproj-fails-with-broken-glibc.c\n\n2014-08-07  Tom de Vries  <tom@codesourcery.com>\n\n\t* gcc.dg/cproj-fails-with-broken-glibc.c: Remove test.\n\t* lib/target-supports.exp (check_effective_target_glibc)\n\t(check_effective_target_glibc_2_12_or_later)\n\t(check_effective_target_glibc_2_11_or_earlier): Remove proc.\n\n\t* doc/sourcebuild.texi (glibc, glibc_2_12_or_later)\n\t(glibc_2_11_or_earlier): Remove effective-target keywords.\n\nFrom-SVN: r213694", "tree": {"sha": "265319fa4d2342e526ffc7aa5d16c3afc85d2e9c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/265319fa4d2342e526ffc7aa5d16c3afc85d2e9c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87db77bb25d2f78a10d138da06d518331d3e641e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87db77bb25d2f78a10d138da06d518331d3e641e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87db77bb25d2f78a10d138da06d518331d3e641e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87db77bb25d2f78a10d138da06d518331d3e641e/comments", "author": null, "committer": null, "parents": [{"sha": "b85e2cb05e81531989bfd0ebde25a3b2badc6162", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b85e2cb05e81531989bfd0ebde25a3b2badc6162", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b85e2cb05e81531989bfd0ebde25a3b2badc6162"}], "stats": {"total": 84, "additions": 12, "deletions": 72}, "files": [{"sha": "f786119b76d573f78f4a698b0483c35408994c0c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87db77bb25d2f78a10d138da06d518331d3e641e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87db77bb25d2f78a10d138da06d518331d3e641e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=87db77bb25d2f78a10d138da06d518331d3e641e", "patch": "@@ -1,3 +1,8 @@\n+2014-08-07  Tom de Vries  <tom@codesourcery.com>\n+\n+\t* doc/sourcebuild.texi (glibc, glibc_2_12_or_later)\n+\t(glibc_2_11_or_earlier): Remove effective-target keywords.\n+\n 2014-08-04  Tom de Vries  <tom@codesourcery.com>\n \n \t* doc/sourcebuild.texi (glibc, glibc_2_12_or_later)"}, {"sha": "39152df272a08a6c805511ca65b06ac87957b44e", "filename": "gcc/doc/sourcebuild.texi", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87db77bb25d2f78a10d138da06d518331d3e641e/gcc%2Fdoc%2Fsourcebuild.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87db77bb25d2f78a10d138da06d518331d3e641e/gcc%2Fdoc%2Fsourcebuild.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fsourcebuild.texi?ref=87db77bb25d2f78a10d138da06d518331d3e641e", "patch": "@@ -1804,15 +1804,6 @@ Target is a VxWorks RTP.\n \n @item wchar\n Target supports wide characters.\n-\n-@item glibc\n-Target supports glibc\n-\n-@item glibc_2_12_or_later\n-Target supports glibc 2.12 or later\n-\n-@item glibc_2_11_or_earlier\n-Target supports glibc 2.11 or earlier\n @end table\n \n @subsubsection Other attributes"}, {"sha": "c93069b0adeeede56d1da076851d37ba97fb3029", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87db77bb25d2f78a10d138da06d518331d3e641e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87db77bb25d2f78a10d138da06d518331d3e641e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=87db77bb25d2f78a10d138da06d518331d3e641e", "patch": "@@ -1,3 +1,10 @@\n+2014-08-07  Tom de Vries  <tom@codesourcery.com>\n+\n+\t* gcc.dg/cproj-fails-with-broken-glibc.c: Remove test.\n+\t* lib/target-supports.exp (check_effective_target_glibc)\n+\t(check_effective_target_glibc_2_12_or_later)\n+\t(check_effective_target_glibc_2_11_or_earlier): Remove proc.\n+\n 2014-08-04  Tom de Vries  <tom@codesourcery.com>\n \n \t* gcc.dg/cproj-fails-with-broken-glibc.c: Use xfail for broken glibc"}, {"sha": "fc37faca225e84f824a95466e611166248285148", "filename": "gcc/testsuite/gcc.dg/cproj-fails-with-broken-glibc.c", "status": "removed", "additions": 0, "deletions": 25, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b85e2cb05e81531989bfd0ebde25a3b2badc6162/gcc%2Ftestsuite%2Fgcc.dg%2Fcproj-fails-with-broken-glibc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b85e2cb05e81531989bfd0ebde25a3b2badc6162/gcc%2Ftestsuite%2Fgcc.dg%2Fcproj-fails-with-broken-glibc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcproj-fails-with-broken-glibc.c?ref=b85e2cb05e81531989bfd0ebde25a3b2badc6162", "patch": "@@ -1,25 +0,0 @@\n-/* Copyright (C) 2010  Free Software Foundation.\n-\n-   Check the runtime behavior of the C library's cproj() function and\n-   whether it follows the standard.  Versions of GLIBC through 2.11.1\n-   had an incorrect implementation which will conflict with GCC's\n-   builtin cproj().  GLIBC 2.12+ should be okay.\n-\n-   Origin: Kaveh R. Ghazi,  April 20, 2010.  */\n-\n-/* { dg-do run { xfail glibc_2_11_or_earlier } } */\n-/* { dg-options \"-fno-builtin-cproj\" } */\n-/* { dg-add-options c99_runtime } */\n-/* { dg-require-effective-target c99_runtime } */\n-\n-extern void abort(void);\n-extern void exit(int);\n-double _Complex cproj(double _Complex);\n-\n-int main (void)\n-{\n-  if (cproj (2+3i) != 2+3i)\n-    abort();\n-\n-  exit(0);\n-}"}, {"sha": "fa5137ea472e1773be60759caad32bbc7ab4c551", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 0, "deletions": 38, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87db77bb25d2f78a10d138da06d518331d3e641e/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87db77bb25d2f78a10d138da06d518331d3e641e/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=87db77bb25d2f78a10d138da06d518331d3e641e", "patch": "@@ -5038,44 +5038,6 @@ proc check_effective_target_newlib {} {\n     }]\n }\n \n-# Return true if this is a glibc target.\n-\n-proc check_effective_target_glibc {} {\n-    return [check_no_compiler_messages glibc object {\n-\t#include <features.h>\n-\t#if !(defined (__GLIBC__) && defined (__GLIBC_MINOR__))\n-\t#error FOO\n-\t#endif\n-    }]\n-}\n-\n-# Return true if this is a glibc 2.12 or later target.\n-\n-proc check_effective_target_glibc_2_12_or_later {} {\n-    return [check_no_compiler_messages glibc_2_12_or_later object {\n-\t#include <features.h>\n-\t#if !(defined (__GLIBC__) && defined (__GLIBC_MINOR__) \\\n-              && __GLIBC_PREREQ(2,12))\n-\t#error FOO\n-\t#endif\n-    }]\n-}\n-\n-# Return true if this is a glibc 2.11 or earlier target.\n-\n-proc check_effective_target_glibc_2_11_or_earlier {} {\n-\n-    if { ![check_effective_target_glibc] } {\n-\treturn 1\n-    }\n-    \n-    if { [check_effective_target_glibc_2_12_or_later] } {\n-\treturn 0\n-    }\n-\n-    return 1\n-}\n-\n # Return true if this is NOT a Bionic target.\n \n proc check_effective_target_non_bionic {} {"}]}