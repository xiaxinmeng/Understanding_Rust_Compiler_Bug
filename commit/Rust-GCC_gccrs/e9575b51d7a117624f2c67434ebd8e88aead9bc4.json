{"sha": "e9575b51d7a117624f2c67434ebd8e88aead9bc4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTk1NzViNTFkN2ExMTc2MjRmMmM2NzQzNGViZDhlODhhZWFkOWJjNA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-08T21:07:15Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-08T21:07:15Z"}, "message": "(VALUE_REGNO, HARD_REGNO_MODE_OK): Add missing #undef.\n\n(HARD_REGNO_MODE_OK): Properly check for floating-point registers.\nRegister 16 is AP and not floating.\n\nFrom-SVN: r4386", "tree": {"sha": "58b75b70d04eec3b97a62280515ca531263ff81d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58b75b70d04eec3b97a62280515ca531263ff81d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e9575b51d7a117624f2c67434ebd8e88aead9bc4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9575b51d7a117624f2c67434ebd8e88aead9bc4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e9575b51d7a117624f2c67434ebd8e88aead9bc4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9575b51d7a117624f2c67434ebd8e88aead9bc4/comments", "author": null, "committer": null, "parents": [{"sha": "172a1cb0efe872ecf0a63429da8346f3a856c0c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/172a1cb0efe872ecf0a63429da8346f3a856c0c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/172a1cb0efe872ecf0a63429da8346f3a856c0c5"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "1a2559f2a000b6bfbb0767c3128c042fc3933e6d", "filename": "gcc/config/i386/sco.h", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e9575b51d7a117624f2c67434ebd8e88aead9bc4/gcc%2Fconfig%2Fi386%2Fsco.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e9575b51d7a117624f2c67434ebd8e88aead9bc4/gcc%2Fconfig%2Fi386%2Fsco.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsco.h?ref=e9575b51d7a117624f2c67434ebd8e88aead9bc4", "patch": "@@ -60,17 +60,19 @@\n /* If no 387, use the general regs to return floating values,\n    since this system does not emulate the 80387.  */\n \n+#undef VALUE_REGNO\n #define VALUE_REGNO(MODE) \\\n   ((TARGET_80387 && ((MODE) == SFmode || (MODE) == DFmode))\n    ? FIRST_FLOAT_REG : 0)\n \n-#define HARD_REGNO_MODE_OK(REGNO, MODE) \\\n-  ((REGNO) < 2 ? 1\t\t\t\t\t\t\t\\\n-   : (REGNO) < 4 ? 1\t\t\t\t\t\t\t\\\n-   : (REGNO) >= 8 ? ((GET_MODE_CLASS (MODE) == MODE_FLOAT\t\t\\\n-\t\t      || GET_MODE_CLASS (MODE) == MODE_COMPLEX_FLOAT)\t\\\n-\t\t     && TARGET_80387\t\t\t\t\t\\\n-\t\t     && GET_MODE_UNIT_SIZE (MODE) <= 8)\t\t\t\\\n+#undef HARD_REGNO_MODE_OK\n+#define HARD_REGNO_MODE_OK(REGNO, MODE)\t\t\t\t\t  \\\n+  ((REGNO) < 2 ? 1\t\t\t\t\t\t\t  \\\n+   : (REGNO) < 4 ? 1\t\t\t\t\t\t\t  \\\n+   : FP_REGNO_P (REGNO) ? ((GET_MODE_CLASS (MODE) == MODE_FLOAT\t\t  \\\n+                          || GET_MODE_CLASS (MODE) == MODE_COMPLEX_FLOAT) \\\n+                         && TARGET_80387\t\t\t\t  \\\n+                         && GET_MODE_UNIT_SIZE (MODE) <= 8)\t\t  \\\n    : (MODE) != QImode)\n #endif\n "}]}