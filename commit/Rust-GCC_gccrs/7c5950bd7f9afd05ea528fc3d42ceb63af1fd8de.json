{"sha": "7c5950bd7f9afd05ea528fc3d42ceb63af1fd8de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2M1OTUwYmQ3ZjlhZmQwNWVhNTI4ZmMzZDQyY2ViNjNhZjFmZDhkZQ==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-18T14:37:39Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-18T14:37:39Z"}, "message": "trans-array.c (gfc_conv_expr_descriptor): Save some horizontal space.\n\n\t* trans-array.c (gfc_conv_expr_descriptor): Save some horizontal space.\n\nFrom-SVN: r180141", "tree": {"sha": "5ec55af0ed1f018c4aede7b9e0599c97a88c0aae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5ec55af0ed1f018c4aede7b9e0599c97a88c0aae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7c5950bd7f9afd05ea528fc3d42ceb63af1fd8de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c5950bd7f9afd05ea528fc3d42ceb63af1fd8de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c5950bd7f9afd05ea528fc3d42ceb63af1fd8de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c5950bd7f9afd05ea528fc3d42ceb63af1fd8de/comments", "author": null, "committer": null, "parents": [{"sha": "c2558afc97c4c7c0ae0bacf9ae4f31892c9c9722", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2558afc97c4c7c0ae0bacf9ae4f31892c9c9722", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2558afc97c4c7c0ae0bacf9ae4f31892c9c9722"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "6dc36b358cb19192356e24ae269ea36891b12c4d", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c5950bd7f9afd05ea528fc3d42ceb63af1fd8de/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c5950bd7f9afd05ea528fc3d42ceb63af1fd8de/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=7c5950bd7f9afd05ea528fc3d42ceb63af1fd8de", "patch": "@@ -1,3 +1,7 @@\n+2011-10-18  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\t* trans-array.c (gfc_conv_expr_descriptor): Save some horizontal space.\n+\n 2011-10-18  Mikael Morin  <mikael@gcc.gnu.org>\n \n \t* trans-array.c (gfc_conv_expr_descriptor): Move ndim initialization"}, {"sha": "0034b49ffa89a69b80a08804fdb199a0b4db7187", "filename": "gcc/fortran/trans-array.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c5950bd7f9afd05ea528fc3d42ceb63af1fd8de/gcc%2Ffortran%2Ftrans-array.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c5950bd7f9afd05ea528fc3d42ceb63af1fd8de/gcc%2Ffortran%2Ftrans-array.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-array.c?ref=7c5950bd7f9afd05ea528fc3d42ceb63af1fd8de", "patch": "@@ -5978,24 +5978,26 @@ gfc_conv_expr_descriptor (gfc_se * se, gfc_expr * expr, gfc_ss * ss)\n \n       if (se->want_coarray)\n \t{\n+\t  gfc_array_ref *ar = &info->ref->u.ar;\n+\n \t  codim = gfc_get_corank (expr);\n \t  for (n = ss->data.info.dimen; n < ss->data.info.dimen + codim - 1;\n \t       n++)\n \t    {\n \t      /* Make sure we are not lost somehow.  */\n-\t      gcc_assert (info->ref->u.ar.dimen_type[n] == DIMEN_THIS_IMAGE);\n+\t      gcc_assert (ar->dimen_type[n] == DIMEN_THIS_IMAGE);\n \n \t      /* Make sure the call to gfc_conv_section_startstride won't\n \t         generate unnecessary code to calculate stride.  */\n-\t      gcc_assert (info->ref->u.ar.stride[n] == NULL);\n+\t      gcc_assert (ar->stride[n] == NULL);\n \n \t      gfc_conv_section_startstride (&loop, ss, n);\n \t      loop.from[n] = info->start[n];\n \t      loop.to[n]   = info->end[n];\n \t    }\n \n \t  gcc_assert (n == ss->data.info.dimen + codim - 1);\n-\t  evaluate_bound (&loop.pre, info->start, info->ref->u.ar.start,\n+\t  evaluate_bound (&loop.pre, info->start, ar->start,\n \t\t\t  info->descriptor, n, true);\n \t  loop.from[n] = info->start[n];\n \t}"}]}