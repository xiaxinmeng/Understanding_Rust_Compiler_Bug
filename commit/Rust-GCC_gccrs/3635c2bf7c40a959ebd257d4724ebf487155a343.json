{"sha": "3635c2bf7c40a959ebd257d4724ebf487155a343", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzYzNWMyYmY3YzQwYTk1OWViZDI1N2Q0NzI0ZWJmNDg3MTU1YTM0Mw==", "commit": {"author": {"name": "Wilco Dijkstra", "email": "wdijkstr@arm.com", "date": "2019-10-11T14:23:28Z"}, "committer": {"name": "Wilco Dijkstra", "email": "wilco@gcc.gnu.org", "date": "2019-10-11T14:23:28Z"}, "message": "[ARM] Tweak HONOR_REG_ALLOC_ORDER\n\nSetting HONOR_REG_ALLOC_ORDER improves codesize with -Os, however it generates\nslower and larger code with -O2 and higher.  So only set it when optimizing for\nsize.  On Cortex-A57 this improves SPECINT2006 by 0.15% and SPECFP2006 by 0.25%\nwhile reducing codesize.\n\n    gcc/\n\t* config/arm/arm.h (HONOR_REG_ALLOC_ORDER): Set when optimizing for\n\tsize.\n\nFrom-SVN: r276887", "tree": {"sha": "b30bede846a1de6079e2879a544db9c58525d945", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b30bede846a1de6079e2879a544db9c58525d945"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3635c2bf7c40a959ebd257d4724ebf487155a343", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3635c2bf7c40a959ebd257d4724ebf487155a343", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3635c2bf7c40a959ebd257d4724ebf487155a343", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3635c2bf7c40a959ebd257d4724ebf487155a343/comments", "author": null, "committer": null, "parents": [{"sha": "bd01f4da3ecc88b25712e2d2a8f5c7ab3ed1b0e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd01f4da3ecc88b25712e2d2a8f5c7ab3ed1b0e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd01f4da3ecc88b25712e2d2a8f5c7ab3ed1b0e3"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "8118e14b5633b57d4bd26c47640bc053c7eff366", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3635c2bf7c40a959ebd257d4724ebf487155a343/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3635c2bf7c40a959ebd257d4724ebf487155a343/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3635c2bf7c40a959ebd257d4724ebf487155a343", "patch": "@@ -1,3 +1,8 @@\n+2019-10-11  Wilco Dijkstra  <wdijkstr@arm.com>\n+\n+\t* config/arm/arm.h (HONOR_REG_ALLOC_ORDER): Set when optimizing for\n+\tsize.\n+\n 2019-10-11  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n \n \t* tree-vect-loop.c (vect_analyze_loop_operations): Adjust call to"}, {"sha": "5fad1e5bcc2bc448489fdc8239c676246bbc8879", "filename": "gcc/config/arm/arm.h", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3635c2bf7c40a959ebd257d4724ebf487155a343/gcc%2Fconfig%2Farm%2Farm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3635c2bf7c40a959ebd257d4724ebf487155a343/gcc%2Fconfig%2Farm%2Farm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.h?ref=3635c2bf7c40a959ebd257d4724ebf487155a343", "patch": "@@ -1068,9 +1068,8 @@ extern int arm_regs_in_sequence[];\n /* Use different register alloc ordering for Thumb.  */\n #define ADJUST_REG_ALLOC_ORDER arm_order_regs_for_local_alloc ()\n \n-/* Tell IRA to use the order we define rather than messing it up with its\n-   own cost calculations.  */\n-#define HONOR_REG_ALLOC_ORDER 1\n+/* Tell IRA to use the order we define when optimizing for size.  */\n+#define HONOR_REG_ALLOC_ORDER optimize_function_for_size_p (cfun)\n \n /* Interrupt functions can only use registers that have already been\n    saved by the prologue, even if they would normally be"}]}