{"sha": "809ffa71e15de5579f7f36b595994b7dc82de5c8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODA5ZmZhNzFlMTVkZTU1NzlmN2YzNmI1OTU5OTRiN2RjODJkZTVjOA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-09-06T18:42:55Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-09-06T18:42:55Z"}, "message": "(insn_name_ptr): Define for debugging.\n\n(walk_rtx, case MATCH_OP_DUP): Expand recog_dup_loc using XEXP not XVECEXP.\n\nFrom-SVN: r5269", "tree": {"sha": "9abd8ab99f6c965ec04bd9ff1d3b1381ff454eb3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9abd8ab99f6c965ec04bd9ff1d3b1381ff454eb3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/809ffa71e15de5579f7f36b595994b7dc82de5c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/809ffa71e15de5579f7f36b595994b7dc82de5c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/809ffa71e15de5579f7f36b595994b7dc82de5c8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/809ffa71e15de5579f7f36b595994b7dc82de5c8/comments", "author": null, "committer": null, "parents": [{"sha": "ccf5f34234559be0973687fc18c1801a467de6a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccf5f34234559be0973687fc18c1801a467de6a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ccf5f34234559be0973687fc18c1801a467de6a2"}], "stats": {"total": 22, "additions": 20, "deletions": 2}, "files": [{"sha": "3234d4effe4721477ebff906b476d7d1ebd4ea15", "filename": "gcc/genextract.c", "status": "modified", "additions": 20, "deletions": 2, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/809ffa71e15de5579f7f36b595994b7dc82de5c8/gcc%2Fgenextract.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/809ffa71e15de5579f7f36b595994b7dc82de5c8/gcc%2Fgenextract.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenextract.c?ref=809ffa71e15de5579f7f36b595994b7dc82de5c8", "patch": "@@ -1,5 +1,5 @@\n /* Generate code from machine description to extract operands from insn as rtl.\n-   Copyright (C) 1987, 1991, 1992 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 1991, 1992, 1993 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -33,6 +33,9 @@ struct obstack *rtl_obstack = &obstack;\n extern void free ();\n extern rtx read_rtx ();\n \n+/* Names for patterns.  Need to allow linking with print-rtl.  */\n+char **insn_name_ptr;\n+\n /* This structure contains all the information needed to describe one\n    set of extractions methods.  Each method may be used by more than \n    one pattern if the operands are in the same place.\n@@ -216,13 +219,28 @@ walk_rtx (x, path)\n       break;\n \n     case MATCH_DUP:\n-    case MATCH_OP_DUP:\n     case MATCH_PAR_DUP:\n       duplocs[dup_count] = copystr (path);\n       dupnums[dup_count] = XINT (x, 0);\n       dup_count++;\n       break;\n \n+    case MATCH_OP_DUP:\n+      duplocs[dup_count] = copystr (path);\n+      dupnums[dup_count] = XINT (x, 0);\n+      dup_count++;\n+      \n+      newpath = (char *) alloca (depth + 2);\n+      strcpy (newpath, path);\n+      newpath[depth + 1] = 0;\n+      \n+      for (i = XVECLEN (x, 1) - 1; i >= 0; i--)\n+        {\n+\t  newpath[depth] = '0' + i;\n+\t  walk_rtx (XVECEXP (x, 1, i), newpath);\n+        }\n+      return;\n+      \n     case MATCH_OPERATOR:\n       oplocs[XINT (x, 0)] = copystr (path);\n       op_count = MAX (op_count, XINT (x, 0) + 1);"}]}