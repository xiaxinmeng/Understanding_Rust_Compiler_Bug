{"sha": "100a5d66a41b037c616193585d2ff0f3cbb424b7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTAwYTVkNjZhNDFiMDM3YzYxNjE5MzU4NWQyZmYwZjNjYmI0MjRiNw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-05-27T11:55:54Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-05-27T11:55:54Z"}, "message": "Replace heavy address clause by 'Unrestricted_Access...\n\nReplace heavy address clause by 'Unrestricted_Access, cleaner and more portable\nacross GNAT targets, since this kind of address clause is not supported by\nVM back-ends (.NET/JGNAT).\n\nFrom-SVN: r136020", "tree": {"sha": "b8de914ccb48b3277c69bc0fac5180cf7bc152d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8de914ccb48b3277c69bc0fac5180cf7bc152d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/100a5d66a41b037c616193585d2ff0f3cbb424b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/100a5d66a41b037c616193585d2ff0f3cbb424b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/100a5d66a41b037c616193585d2ff0f3cbb424b7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/100a5d66a41b037c616193585d2ff0f3cbb424b7/comments", "author": null, "committer": null, "parents": [{"sha": "ea9fba99deb42aa2fe37c326a00ebf250854d047", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea9fba99deb42aa2fe37c326a00ebf250854d047", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea9fba99deb42aa2fe37c326a00ebf250854d047"}], "stats": {"total": 72, "additions": 16, "deletions": 56}, "files": [{"sha": "cc5a93bb07624bf338e5067475707820cf1445a0", "filename": "gcc/ada/a-textio.adb", "status": "modified", "additions": 4, "deletions": 16, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/100a5d66a41b037c616193585d2ff0f3cbb424b7/gcc%2Fada%2Fa-textio.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/100a5d66a41b037c616193585d2ff0f3cbb424b7/gcc%2Fada%2Fa-textio.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-textio.adb?ref=100a5d66a41b037c616193585d2ff0f3cbb424b7", "patch": "@@ -147,11 +147,8 @@ package body Ada.Text_IO is\n    -----------\n \n    procedure Close (File : in out File_Type) is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n-      FIO.Close (AFCB'Access);\n+      FIO.Close (AP (File)'Unrestricted_Access);\n    end Close;\n \n    ---------\n@@ -249,11 +246,8 @@ package body Ada.Text_IO is\n    ------------\n \n    procedure Delete (File : in out File_Type) is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n-      FIO.Delete (AFCB'Access);\n+      FIO.Delete (AP (File)'Unrestricted_Access);\n    end Delete;\n \n    -----------------\n@@ -1579,9 +1573,6 @@ package body Ada.Text_IO is\n      (File : in out File_Type;\n       Mode : File_Mode)\n    is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n       --  Don't allow change of mode for current file (RM A.10.2(5))\n \n@@ -1594,7 +1585,7 @@ package body Ada.Text_IO is\n       end if;\n \n       Terminate_Line (File);\n-      FIO.Reset (AFCB'Access, To_FCB (Mode));\n+      FIO.Reset (AP (File)'Unrestricted_Access, To_FCB (Mode));\n       File.Page := 1;\n       File.Line := 1;\n       File.Col  := 1;\n@@ -1605,12 +1596,9 @@ package body Ada.Text_IO is\n    end Reset;\n \n    procedure Reset (File : in out File_Type) is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n       Terminate_Line (File);\n-      FIO.Reset (AFCB'Access);\n+      FIO.Reset (AP (File)'Unrestricted_Access);\n       File.Page := 1;\n       File.Line := 1;\n       File.Col  := 1;"}, {"sha": "1a4b0f5e0e7d7afa1088558735480de51dabcf6e", "filename": "gcc/ada/a-witeio.adb", "status": "modified", "additions": 4, "deletions": 16, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/100a5d66a41b037c616193585d2ff0f3cbb424b7/gcc%2Fada%2Fa-witeio.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/100a5d66a41b037c616193585d2ff0f3cbb424b7/gcc%2Fada%2Fa-witeio.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-witeio.adb?ref=100a5d66a41b037c616193585d2ff0f3cbb424b7", "patch": "@@ -133,11 +133,8 @@ package body Ada.Wide_Text_IO is\n    -----------\n \n    procedure Close (File : in out File_Type) is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n-      FIO.Close (AFCB'Access);\n+      FIO.Close (AP (File)'Unrestricted_Access);\n    end Close;\n \n    ---------\n@@ -235,11 +232,8 @@ package body Ada.Wide_Text_IO is\n    ------------\n \n    procedure Delete (File : in out File_Type) is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n-      FIO.Delete (AFCB'Access);\n+      FIO.Delete (AP (File)'Unrestricted_Access);\n    end Delete;\n \n    -----------------\n@@ -1314,9 +1308,6 @@ package body Ada.Wide_Text_IO is\n      (File : in out File_Type;\n       Mode : File_Mode)\n    is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n       --  Don't allow change of mode for current file (RM A.10.2(5))\n \n@@ -1329,7 +1320,7 @@ package body Ada.Wide_Text_IO is\n       end if;\n \n       Terminate_Line (File);\n-      FIO.Reset (AFCB'Access, To_FCB (Mode));\n+      FIO.Reset (AP (File)'Unrestricted_Access, To_FCB (Mode));\n       File.Page := 1;\n       File.Line := 1;\n       File.Col  := 1;\n@@ -1340,12 +1331,9 @@ package body Ada.Wide_Text_IO is\n    end Reset;\n \n    procedure Reset (File : in out File_Type) is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n       Terminate_Line (File);\n-      FIO.Reset (AFCB'Access);\n+      FIO.Reset (AP (File)'Unrestricted_Access);\n       File.Page := 1;\n       File.Line := 1;\n       File.Col  := 1;"}, {"sha": "4bf70405c6766864de63579824a805f621ddc034", "filename": "gcc/ada/a-ztexio.adb", "status": "modified", "additions": 4, "deletions": 16, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/100a5d66a41b037c616193585d2ff0f3cbb424b7/gcc%2Fada%2Fa-ztexio.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/100a5d66a41b037c616193585d2ff0f3cbb424b7/gcc%2Fada%2Fa-ztexio.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-ztexio.adb?ref=100a5d66a41b037c616193585d2ff0f3cbb424b7", "patch": "@@ -133,11 +133,8 @@ package body Ada.Wide_Wide_Text_IO is\n    -----------\n \n    procedure Close (File : in out File_Type) is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n-      FIO.Close (AFCB'Access);\n+      FIO.Close (AP (File)'Unrestricted_Access);\n    end Close;\n \n    ---------\n@@ -235,11 +232,8 @@ package body Ada.Wide_Wide_Text_IO is\n    ------------\n \n    procedure Delete (File : in out File_Type) is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n-      FIO.Delete (AFCB'Access);\n+      FIO.Delete (AP (File)'Unrestricted_Access);\n    end Delete;\n \n    -----------------\n@@ -1314,9 +1308,6 @@ package body Ada.Wide_Wide_Text_IO is\n      (File : in out File_Type;\n       Mode : File_Mode)\n    is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n       --  Don't allow change of mode for current file (RM A.10.2(5))\n \n@@ -1329,7 +1320,7 @@ package body Ada.Wide_Wide_Text_IO is\n       end if;\n \n       Terminate_Line (File);\n-      FIO.Reset (AFCB'Access, To_FCB (Mode));\n+      FIO.Reset (AP (File)'Unrestricted_Access, To_FCB (Mode));\n       File.Page := 1;\n       File.Line := 1;\n       File.Col  := 1;\n@@ -1340,12 +1331,9 @@ package body Ada.Wide_Wide_Text_IO is\n    end Reset;\n \n    procedure Reset (File : in out File_Type) is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n       Terminate_Line (File);\n-      FIO.Reset (AFCB'Access);\n+      FIO.Reset (AP (File)'Unrestricted_Access);\n       File.Page := 1;\n       File.Line := 1;\n       File.Col  := 1;"}, {"sha": "328051c125a07fdccf6682b7a632879ea4472954", "filename": "gcc/ada/s-direio.adb", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/100a5d66a41b037c616193585d2ff0f3cbb424b7/gcc%2Fada%2Fs-direio.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/100a5d66a41b037c616193585d2ff0f3cbb424b7/gcc%2Fada%2Fs-direio.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-direio.adb?ref=100a5d66a41b037c616193585d2ff0f3cbb424b7", "patch": "@@ -251,21 +251,17 @@ package body System.Direct_IO is\n    -----------\n \n    procedure Reset (File : in out File_Type; Mode : FCB.File_Mode) is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n+      pragma Unmodified (File);\n    begin\n-      FIO.Reset (AFCB'Access, Mode);\n+      FIO.Reset (AP (File)'Unrestricted_Access, Mode);\n       File.Index := 1;\n       File.Last_Op := Op_Read;\n    end Reset;\n \n    procedure Reset (File : in out File_Type) is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n+      pragma Unmodified (File);\n    begin\n-      FIO.Reset (AFCB'Access);\n+      FIO.Reset (AP (File)'Unrestricted_Access);\n       File.Index := 1;\n       File.Last_Op := Op_Read;\n    end Reset;"}]}