{"sha": "1651647cb7f3ccc1345155ce478a96ab3b9d99b3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTY1MTY0N2NiN2YzY2NjMTM0NTE1NWNlNDc4YTk2YWIzYjlkOTliMw==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2006-02-09T13:53:40Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2006-02-09T13:53:40Z"}, "message": "+2006-02-09 Andrew Pinski <pinskia@physics.uc.edu> + + * tree-flow-inline.h...\n\n+2006-02-09  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+       * tree-flow-inline.h (var_can_have_subvars): \n+       Volatile variables should not have subvariables.\n+\n\n+2006-02-09  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+       * gcc.c-torture/compile/volatile-1.c: New test.\n+\n\nFrom-SVN: r110796", "tree": {"sha": "d06e75116e7af760ba7a84105b042fd4ad256903", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d06e75116e7af760ba7a84105b042fd4ad256903"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1651647cb7f3ccc1345155ce478a96ab3b9d99b3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1651647cb7f3ccc1345155ce478a96ab3b9d99b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1651647cb7f3ccc1345155ce478a96ab3b9d99b3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1651647cb7f3ccc1345155ce478a96ab3b9d99b3/comments", "author": null, "committer": null, "parents": [{"sha": "7dc32197a8f098c05d589d80ccbcc7ea51a62bea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7dc32197a8f098c05d589d80ccbcc7ea51a62bea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7dc32197a8f098c05d589d80ccbcc7ea51a62bea"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "478de23428904ff22994476d7baffd2fb4df28ca", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1651647cb7f3ccc1345155ce478a96ab3b9d99b3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1651647cb7f3ccc1345155ce478a96ab3b9d99b3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1651647cb7f3ccc1345155ce478a96ab3b9d99b3", "patch": "@@ -1,3 +1,8 @@\n+2006-02-09  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\t* tree-flow-inline.h (var_can_have_subvars): \n+\tVolatile variables should not have subvariables.\n+\n 2006-02-09  Diego Novillo  <dnovillo@redhat.com>\n \n \tPR 26180"}, {"sha": "a73cf09490e98828a0621e97c0d4ef36ec6d6521", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1651647cb7f3ccc1345155ce478a96ab3b9d99b3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1651647cb7f3ccc1345155ce478a96ab3b9d99b3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1651647cb7f3ccc1345155ce478a96ab3b9d99b3", "patch": "@@ -1,3 +1,7 @@\n+2006-02-09  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\t* gcc.c-torture/compile/volatile-1.c: New test.\n+\n 2006-02-09  Diego Novillo  <dnovillo@redhat.com>\n \n \tPR 26180"}, {"sha": "cb81274c0d12f15795d3b7da6a373b0347e11307", "filename": "gcc/testsuite/gcc.c-torture/compile/volatile-1.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1651647cb7f3ccc1345155ce478a96ab3b9d99b3/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fvolatile-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1651647cb7f3ccc1345155ce478a96ab3b9d99b3/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fvolatile-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fvolatile-1.c?ref=1651647cb7f3ccc1345155ce478a96ab3b9d99b3", "patch": "@@ -0,0 +1,18 @@\n+/* The problem here was that the statements that\n+   loaded from exception.reason where not being\n+   marked as having volatile behaviour which\n+   caused load PRE on the tree level to go\n+   into an infinite loop. */\n+\n+struct gdb_exception\n+{\n+  int reason;\n+};\n+int catch_exceptions_with_msg (int *gdberrmsg)\n+{\n+  volatile struct gdb_exception exception;\n+  exceptions_state_mc_init (&(exception));\n+  if (exception.reason != 0)\n+    foo ();\n+  return exception.reason;\n+}"}, {"sha": "1abf556fccfc121b213809ce3a630df49db2e90f", "filename": "gcc/tree-flow-inline.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1651647cb7f3ccc1345155ce478a96ab3b9d99b3/gcc%2Ftree-flow-inline.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1651647cb7f3ccc1345155ce478a96ab3b9d99b3/gcc%2Ftree-flow-inline.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-flow-inline.h?ref=1651647cb7f3ccc1345155ce478a96ab3b9d99b3", "patch": "@@ -1463,6 +1463,10 @@ get_subvar_at (tree var, unsigned HOST_WIDE_INT offset)\n static inline bool\n var_can_have_subvars (tree v)\n {\n+  /* Volatile variables should never have subvars.  */\n+  if (TREE_THIS_VOLATILE (v))\n+    return false;\n+\n   /* Non decls or memory tags can never have subvars.  */\n   if (!DECL_P (v) || MTAG_P (v))\n     return false;"}]}