{"sha": "35e058a2b83dee2fa1cbeebc226cc9a05b9ad6ef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzVlMDU4YTJiODNkZWUyZmExY2JlZWJjMjI2Y2M5YTA1YjlhZDZlZg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-12-03T03:54:05Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-12-03T03:54:05Z"}, "message": "jni.cc: Added `name' argument.\n\n\t* jni.cc: Added `name' argument.\n\t* include/jni.h (struct JNINativeInterface) [DefineClass]: Added\n\t`const char *' argument.\n\t(class _Jv_JNIEnv) [DefineClass]: Likewise.\n\nFrom-SVN: r59756", "tree": {"sha": "e88c434e261f873cba99d19463d6a8f2f3fdb600", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e88c434e261f873cba99d19463d6a8f2f3fdb600"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/35e058a2b83dee2fa1cbeebc226cc9a05b9ad6ef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/35e058a2b83dee2fa1cbeebc226cc9a05b9ad6ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/35e058a2b83dee2fa1cbeebc226cc9a05b9ad6ef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/35e058a2b83dee2fa1cbeebc226cc9a05b9ad6ef/comments", "author": null, "committer": null, "parents": [{"sha": "e8a68017b07181dfe3451ec65cf4c4f979f4fc3c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8a68017b07181dfe3451ec65cf4c4f979f4fc3c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8a68017b07181dfe3451ec65cf4c4f979f4fc3c"}], "stats": {"total": 26, "additions": 18, "deletions": 8}, "files": [{"sha": "cdf78516e929a0631badc53d8767de5c746174cf", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35e058a2b83dee2fa1cbeebc226cc9a05b9ad6ef/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35e058a2b83dee2fa1cbeebc226cc9a05b9ad6ef/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=35e058a2b83dee2fa1cbeebc226cc9a05b9ad6ef", "patch": "@@ -1,3 +1,10 @@\n+2002-12-02  Tom Tromey  <tromey@redhat.com>\n+\n+\t* jni.cc: Added `name' argument.\n+\t* include/jni.h (struct JNINativeInterface) [DefineClass]: Added\n+\t`const char *' argument.\n+\t(class _Jv_JNIEnv) [DefineClass]: Likewise.\n+\n 2002-12-01  Tom Tromey  <tromey@redhat.com>\n \n \tBug compatibility, for PR libgcj/8738:"}, {"sha": "31f57985683ba26df10e43f1c57c4788d00636e7", "filename": "libjava/include/jni.h", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35e058a2b83dee2fa1cbeebc226cc9a05b9ad6ef/libjava%2Finclude%2Fjni.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35e058a2b83dee2fa1cbeebc226cc9a05b9ad6ef/libjava%2Finclude%2Fjni.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fjni.h?ref=35e058a2b83dee2fa1cbeebc226cc9a05b9ad6ef", "patch": "@@ -249,14 +249,15 @@ struct JNINativeInterface\n   _Jv_func reserved3;\n \n   jint     (JNICALL *GetVersion)                   (JNIEnv *);\n-  jclass   (JNICALL *DefineClass)                  (JNIEnv *, jobject,\n-                                                    const jbyte *, jsize);\n+  jclass   (JNICALL *DefineClass)                  (JNIEnv *, const char *,\n+\t\t\t\t\t\t    jobject, const jbyte *,\n+\t\t\t\t\t\t    jsize);\n   jclass   (JNICALL *FindClass)                    (JNIEnv *, const char *);\n \n   jmethodID (JNICALL *FromReflectedMethod)\t   (JNIEnv *, jobject);\n   jfieldID  (JNICALL *FromReflectedField)\t   (JNIEnv *, jobject);\n-  jobject   (JNICALL *ToReflectedMethod)\t   (JNIEnv *, jclass, jmethodID,\n-                                                    jboolean);\n+  jobject   (JNICALL *ToReflectedMethod)\t   (JNIEnv *, jclass,\n+\t\t\t\t\t\t    jmethodID, jboolean);\n \n   jclass   (JNICALL *GetSuperclass)                (JNIEnv *, jclass);\n   jboolean (JNICALL *IsAssignableFrom)             (JNIEnv *, jclass, jclass);\n@@ -687,8 +688,9 @@ class _Jv_JNIEnv\n   jint GetVersion ()\n   { return p->GetVersion (this); }\n \n-  jclass DefineClass (jobject obj0, const jbyte * val1, jsize val2)\n-  { return p->DefineClass (this, obj0, val1, val2); }\n+  jclass DefineClass (const char *name, jobject obj0, const jbyte * val1,\n+\t\t      jsize val2)\n+  { return p->DefineClass (this, name, obj0, val1, val2); }\n \n   jclass FindClass (const char * val0)\n   { return p->FindClass (this, val0); }"}, {"sha": "b841b4fc481f283ec621850d45b10bf181cde7de", "filename": "libjava/jni.cc", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35e058a2b83dee2fa1cbeebc226cc9a05b9ad6ef/libjava%2Fjni.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35e058a2b83dee2fa1cbeebc226cc9a05b9ad6ef/libjava%2Fjni.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni.cc?ref=35e058a2b83dee2fa1cbeebc226cc9a05b9ad6ef", "patch": "@@ -428,13 +428,14 @@ static jint\n }\n \n static jclass\n-(JNICALL _Jv_JNI_DefineClass) (JNIEnv *env, jobject loader,\n+(JNICALL _Jv_JNI_DefineClass) (JNIEnv *env, const char *name, jobject loader,\n \t\t               const jbyte *buf, jsize bufLen)\n {\n   try\n     {\n       loader = unwrap (loader);\n \n+      jstring sname = JvNewStringUTF (name);\n       jbyteArray bytes = JvNewByteArray (bufLen);\n \n       jbyte *elts = elements (bytes);\n@@ -443,7 +444,7 @@ static jclass\n       java::lang::ClassLoader *l\n \t= reinterpret_cast<java::lang::ClassLoader *> (loader);\n \n-      jclass result = l->defineClass (bytes, 0, bufLen);\n+      jclass result = l->defineClass (sname, bytes, 0, bufLen);\n       return (jclass) wrap_value (env, result);\n     }\n   catch (jthrowable t)"}]}