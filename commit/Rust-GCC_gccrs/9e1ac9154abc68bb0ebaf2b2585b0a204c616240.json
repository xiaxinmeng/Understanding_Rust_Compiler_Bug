{"sha": "9e1ac9154abc68bb0ebaf2b2585b0a204c616240", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWUxYWM5MTU0YWJjNjhiYjBlYmFmMmIyNTg1YjBhMjA0YzYxNjI0MA==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2001-11-10T04:46:01Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2001-11-10T04:46:01Z"}, "message": "cppexp.c (parse_number): Use ISXDIGIT/hex_value.\n\n\t* cppexp.c (parse_number): Use ISXDIGIT/hex_value.\n\t* cpplex.c (hex_digit_value): Use hex_p/hex_value.\n\t* cppmain.c (general_init): Call hex_init.\n\nFrom-SVN: r46912", "tree": {"sha": "1c7f6cbe3e1a0a7f7e51eb6544697b4147b98b27", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1c7f6cbe3e1a0a7f7e51eb6544697b4147b98b27"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9e1ac9154abc68bb0ebaf2b2585b0a204c616240", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e1ac9154abc68bb0ebaf2b2585b0a204c616240", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e1ac9154abc68bb0ebaf2b2585b0a204c616240", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e1ac9154abc68bb0ebaf2b2585b0a204c616240/comments", "author": null, "committer": null, "parents": [{"sha": "57870f8acd9cb9d86c18104702e6752b9cb08171", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57870f8acd9cb9d86c18104702e6752b9cb08171", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57870f8acd9cb9d86c18104702e6752b9cb08171"}], "stats": {"total": 27, "additions": 12, "deletions": 15}, "files": [{"sha": "86b64a7824d24d5591ff6195c5e3a5f8a02f94ef", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e1ac9154abc68bb0ebaf2b2585b0a204c616240/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e1ac9154abc68bb0ebaf2b2585b0a204c616240/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9e1ac9154abc68bb0ebaf2b2585b0a204c616240", "patch": "@@ -1,5 +1,9 @@\n 2001-11-09  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n+\t* cppexp.c (parse_number): Use ISXDIGIT/hex_value.\n+\t* cpplex.c (hex_digit_value): Use hex_p/hex_value.\n+\t* cppmain.c (general_init): Call hex_init.\n+\n \t* config.gcc (i[34567]86-dg-dgux*): Don't set `out_file'.\n \n \t* i386/dgux.h (ASM_FILE_START): Set to the meaningful portions"}, {"sha": "f7fe054b7e0739e5b0fbce5ed9367e958ec45fc9", "filename": "gcc/cppexp.c", "status": "modified", "additions": 3, "deletions": 8, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e1ac9154abc68bb0ebaf2b2585b0a204c616240/gcc%2Fcppexp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e1ac9154abc68bb0ebaf2b2585b0a204c616240/gcc%2Fcppexp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcppexp.c?ref=9e1ac9154abc68bb0ebaf2b2585b0a204c616240", "patch": "@@ -129,14 +129,9 @@ parse_number (pfile, tok)\n     {\n       c = *p;\n \n-      if (ISDIGIT (c))\n-\tdigit = c - '0';\n-      /* We believe that in all live character sets, a-f are\n-\t consecutive, and so are A-F.  */\n-      else if (base == 16 && c >= 'a' && c <= 'f')\n-\tdigit = c - 'a' + 10;\n-      else if (base == 16 && c >= 'A' && c <= 'F')\n-\tdigit = c - 'A' + 10;\n+      if (ISDIGIT (c)\n+\t  || (base == 16 && ISXDIGIT (c)))\n+\tdigit = hex_value (c);\n       else\n \tbreak;\n "}, {"sha": "f9af8b7f5b7ca414e95aecc6caae1715f9775c8d", "filename": "gcc/cpplex.c", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e1ac9154abc68bb0ebaf2b2585b0a204c616240/gcc%2Fcpplex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e1ac9154abc68bb0ebaf2b2585b0a204c616240/gcc%2Fcpplex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpplex.c?ref=9e1ac9154abc68bb0ebaf2b2585b0a204c616240", "patch": "@@ -1601,13 +1601,10 @@ static unsigned int\n hex_digit_value (c)\n      unsigned int c;\n {\n-  if (c >= 'a' && c <= 'f')\n-    return c - 'a' + 10;\n-  if (c >= 'A' && c <= 'F')\n-    return c - 'A' + 10;\n-  if (c >= '0' && c <= '9')\n-    return c - '0';\n-  abort ();\n+  if (hex_p (c))\n+    return hex_value (c);\n+  else\n+    abort ();\n }\n \n /* Parse a '\\uNNNN' or '\\UNNNNNNNN' sequence.  Returns 1 to indicate"}, {"sha": "02dfdb7c158d41575551b50061b2cd3ed30a70bc", "filename": "gcc/cppmain.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e1ac9154abc68bb0ebaf2b2585b0a204c616240/gcc%2Fcppmain.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e1ac9154abc68bb0ebaf2b2585b0a204c616240/gcc%2Fcppmain.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcppmain.c?ref=9e1ac9154abc68bb0ebaf2b2585b0a204c616240", "patch": "@@ -100,6 +100,7 @@ general_init (argv0)\n \n   xmalloc_set_program_name (progname);\n \n+  hex_init ();\n   gcc_init_libintl ();\n }\n "}]}