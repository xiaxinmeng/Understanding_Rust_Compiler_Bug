{"sha": "9761349c768b0ea3fc12d2b36bb04ceb2d3aff8b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTc2MTM0OWM3NjhiMGVhM2ZjMTJkMmIzNmJiMDRjZWIyZDNhZmY4Yg==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@linux.vnet.ibm.com", "date": "2017-06-23T18:08:31Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2017-06-23T18:08:31Z"}, "message": "re PR ipa/81185 (Target clones support generates awkward names)\n\n2017-06-23  Michael Meissner  <meissner@linux.vnet.ibm.com>\n\n\tPR ipa/81185\n\t* multiple_target.c (create_dispatcher_calls): Only create the\n\tdispatcher call if the function is the default clone of a\n\tversioned function.\n\nFrom-SVN: r249605", "tree": {"sha": "66359d136a855d9d72f0e7b74d4bc30cc4a2a2d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/66359d136a855d9d72f0e7b74d4bc30cc4a2a2d6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9761349c768b0ea3fc12d2b36bb04ceb2d3aff8b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9761349c768b0ea3fc12d2b36bb04ceb2d3aff8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9761349c768b0ea3fc12d2b36bb04ceb2d3aff8b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9761349c768b0ea3fc12d2b36bb04ceb2d3aff8b/comments", "author": null, "committer": null, "parents": [{"sha": "aa9ace3e6fd3e0e879f4f24adf8befbc3ed1e1b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa9ace3e6fd3e0e879f4f24adf8befbc3ed1e1b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa9ace3e6fd3e0e879f4f24adf8befbc3ed1e1b5"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "3e43b44dddba2a11234afedd335fe708b4a7b782", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9761349c768b0ea3fc12d2b36bb04ceb2d3aff8b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9761349c768b0ea3fc12d2b36bb04ceb2d3aff8b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9761349c768b0ea3fc12d2b36bb04ceb2d3aff8b", "patch": "@@ -1,3 +1,10 @@\n+2017-06-23  Michael Meissner  <meissner@linux.vnet.ibm.com>\n+\n+\tPR ipa/81185\n+\t* multiple_target.c (create_dispatcher_calls): Only create the\n+\tdispatcher call if the function is the default clone of a\n+\tversioned function.\n+\n 2017-06-23  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \tPR middle-end/80902"}, {"sha": "38d6892af282a90609473cfc6bdb6319f68d54ee", "filename": "gcc/multiple_target.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9761349c768b0ea3fc12d2b36bb04ceb2d3aff8b/gcc%2Fmultiple_target.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9761349c768b0ea3fc12d2b36bb04ceb2d3aff8b/gcc%2Fmultiple_target.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmultiple_target.c?ref=9761349c768b0ea3fc12d2b36bb04ceb2d3aff8b", "patch": "@@ -64,7 +64,8 @@ create_dispatcher_calls (struct cgraph_node *node)\n {\n   ipa_ref *ref;\n \n-  if (!DECL_FUNCTION_VERSIONED (node->decl))\n+  if (!DECL_FUNCTION_VERSIONED (node->decl)\n+      || !is_function_default_version (node->decl))\n     return;\n \n   auto_vec<cgraph_edge *> edges_to_redirect;"}]}