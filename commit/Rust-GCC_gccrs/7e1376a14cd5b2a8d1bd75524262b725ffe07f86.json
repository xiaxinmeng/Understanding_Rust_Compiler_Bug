{"sha": "7e1376a14cd5b2a8d1bd75524262b725ffe07f86", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2UxMzc2YTE0Y2Q1YjJhOGQxYmQ3NTUyNDI2MmI3MjVmZmUwN2Y4Ng==", "commit": {"author": {"name": "Bryce McKinlay", "email": "bryce@albatross.co.nz", "date": "2001-01-11T03:00:56Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2001-01-11T03:00:56Z"}, "message": "parse.y (resolve_expression_name): Permit instance variables from enclosing context in super constructor call.\n\n\t* parse.y (resolve_expression_name): Permit instance variables from\n\tenclosing context in super constructor call.\n\t(resolve_qualified_expression_name): Permit enclosing class's\n\tqualified \"this\" in super constructor call.\n\nFrom-SVN: r38892", "tree": {"sha": "7fa704f6c81f6c4555be28b85e5282bc03c4f793", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7fa704f6c81f6c4555be28b85e5282bc03c4f793"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7e1376a14cd5b2a8d1bd75524262b725ffe07f86", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e1376a14cd5b2a8d1bd75524262b725ffe07f86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e1376a14cd5b2a8d1bd75524262b725ffe07f86", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e1376a14cd5b2a8d1bd75524262b725ffe07f86/comments", "author": null, "committer": null, "parents": [{"sha": "ada6635f2b69135e1eb4c02691f67c316f916df4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ada6635f2b69135e1eb4c02691f67c316f916df4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ada6635f2b69135e1eb4c02691f67c316f916df4"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "9b9dd586035030303b018b58e92272509f3cd986", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e1376a14cd5b2a8d1bd75524262b725ffe07f86/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e1376a14cd5b2a8d1bd75524262b725ffe07f86/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=7e1376a14cd5b2a8d1bd75524262b725ffe07f86", "patch": "@@ -1,3 +1,10 @@\n+2001-01-11  Bryce McKinlay  <bryce@albatross.co.nz>\n+\n+\t* parse.y (resolve_expression_name): Permit instance variables from\n+\tenclosing context in super constructor call.\n+\t(resolve_qualified_expression_name): Permit enclosing class's qualified\n+\t\"this\" in super constructor call.\n+\n 2001-01-10  Mark Mitchell  <mark@codesourcery.com>\n \n \t* class.c (build_utf8_ref): Remove last argument in call to"}, {"sha": "873de308287add7e49c98e2c4e3c074ea0363142", "filename": "gcc/java/parse.y", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e1376a14cd5b2a8d1bd75524262b725ffe07f86/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e1376a14cd5b2a8d1bd75524262b725ffe07f86/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=7e1376a14cd5b2a8d1bd75524262b725ffe07f86", "patch": "@@ -8954,7 +8954,8 @@ resolve_expression_name (id, orig)\n \t\t}\n \t      /* Instance variables can't appear as an argument of\n \t\t an explicit constructor invocation */\n-\t      if (!fs && ctxp->explicit_constructor_p)\n+\t      if (!fs && ctxp->explicit_constructor_p\n+\t\t  && !enclosing_context_p (DECL_CONTEXT (decl), current_class))\n \t\t{\n \t\t  parse_error_context\n \t\t    (id, \"Can't reference `%s' before the superclass constructor has been called\", IDENTIFIER_POINTER (name));\n@@ -9320,7 +9321,8 @@ resolve_qualified_expression_name (wfl, found_decl, where_found, type_found)\n \t\t(wfl, \"Keyword `this' used outside allowed context\");\n \t      return 1;\n \t    }\n-\t  if (ctxp->explicit_constructor_p)\n+\t  if (ctxp->explicit_constructor_p\n+\t      && type == current_class)\n \t    {\n \t      parse_error_context (wfl, \"Can't reference `this' before the superclass constructor has been called\");\n \t      return 1;"}]}