{"sha": "20b40e7b4413bac4698d39675c32ce4b0eb61e45", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjBiNDBlN2I0NDEzYmFjNDY5OGQzOTY3NWMzMmNlNGIwZWI2MWU0NQ==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2008-08-01T10:44:17Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-08-01T10:44:17Z"}, "message": "par-ch3.adb (P_Defining_Identifier): Avoid repeated attempt to convert plain identifier into defining identifier.\n\n2008-08-01  Robert Dewar  <dewar@adacore.com>\n\n\t* par-ch3.adb (P_Defining_Identifier): Avoid repeated attempt to\n\tconvert plain identifier into defining identifier.\n\nFrom-SVN: r138510", "tree": {"sha": "fcb9750894d91c940bf8e42a64a8b194d9fff81f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fcb9750894d91c940bf8e42a64a8b194d9fff81f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/20b40e7b4413bac4698d39675c32ce4b0eb61e45", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20b40e7b4413bac4698d39675c32ce4b0eb61e45", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20b40e7b4413bac4698d39675c32ce4b0eb61e45", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20b40e7b4413bac4698d39675c32ce4b0eb61e45/comments", "author": null, "committer": null, "parents": [{"sha": "2eee5152fa5975e91ff916630c43e850b4550155", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2eee5152fa5975e91ff916630c43e850b4550155", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2eee5152fa5975e91ff916630c43e850b4550155"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "9a5a8d393454981a9dc2798e9db14ab6ee16c1ca", "filename": "gcc/ada/par-ch3.adb", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20b40e7b4413bac4698d39675c32ce4b0eb61e45/gcc%2Fada%2Fpar-ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20b40e7b4413bac4698d39675c32ce4b0eb61e45/gcc%2Fada%2Fpar-ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar-ch3.adb?ref=20b40e7b4413bac4698d39675c32ce4b0eb61e45", "patch": "@@ -206,6 +206,18 @@ package body Ch3 is\n       Ident_Node := Token_Node;\n       Scan; -- past the reserved identifier\n \n+      --  If we already have a defining identifier, clean it out and make\n+      --  a new clean identifier. This situation arises in some error cases\n+      --  and we need to fix it.\n+\n+      if Nkind (Ident_Node) = N_Defining_Identifier then\n+         Ident_Node :=\n+           Make_Identifier (Sloc (Ident_Node),\n+             Chars => Chars (Ident_Node));\n+      end if;\n+\n+      --  Change identifier to defining identifier if not in error\n+\n       if Ident_Node /= Error then\n          Change_Identifier_To_Defining_Identifier (Ident_Node);\n       end if;\n@@ -290,8 +302,7 @@ package body Ch3 is\n          Scan; -- past TYPE\n          Ident_Node := P_Defining_Identifier (C_Is);\n \n-      --  Otherwise this is an error case, and we may already have converted\n-      --  the current token to a defining identifier, so don't do it again!\n+      --  Otherwise this is an error case\n \n       else\n          T_Type;\n@@ -1349,7 +1360,6 @@ package body Ch3 is\n       --  If we have a comma, then scan out the list of identifiers\n \n       elsif Token = Tok_Comma then\n-\n          while Comma_Present loop\n             Num_Idents := Num_Idents + 1;\n             Idents (Num_Idents) := P_Defining_Identifier (C_Comma_Colon);"}]}