{"sha": "31d400080bc8e7ee3b28716817edcb9087263278", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzFkNDAwMDgwYmM4ZTdlZTNiMjg3MTY4MTdlZGNiOTA4NzI2MzI3OA==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2007-09-28T15:10:13Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2007-09-28T15:10:13Z"}, "message": "re PR c++/33118 (#'argument_pack_select' not supported by dump_expr#<expression error>)\n\n2007-09-28  Paolo Carlini  <pcarlini@suse.de>\n\n\tPR c++/33118\n\t* error.c (dump_expr): Deal with ARGUMENT_PACK_SELECT.\n\t(dump_type): Use dump_template_argument for TYPE_ARGUMENT_PACK.\n\t(dump_parameters): Just call dump_type for argument packs too.\n\nFrom-SVN: r128866", "tree": {"sha": "a85e76a7b7e68234d774425a30df21879fc84ac8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a85e76a7b7e68234d774425a30df21879fc84ac8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/31d400080bc8e7ee3b28716817edcb9087263278", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31d400080bc8e7ee3b28716817edcb9087263278", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31d400080bc8e7ee3b28716817edcb9087263278", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31d400080bc8e7ee3b28716817edcb9087263278/comments", "author": null, "committer": null, "parents": [{"sha": "4344da24b58f86c91bc839c1087cf2570ee0f276", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4344da24b58f86c91bc839c1087cf2570ee0f276", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4344da24b58f86c91bc839c1087cf2570ee0f276"}], "stats": {"total": 40, "additions": 14, "deletions": 26}, "files": [{"sha": "3e023754ddff6560ee296981867c8bd911e966f3", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31d400080bc8e7ee3b28716817edcb9087263278/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31d400080bc8e7ee3b28716817edcb9087263278/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=31d400080bc8e7ee3b28716817edcb9087263278", "patch": "@@ -1,3 +1,10 @@\n+2007-09-28  Paolo Carlini  <pcarlini@suse.de>\n+\n+\tPR c++/33118\n+\t* error.c (dump_expr): Deal with ARGUMENT_PACK_SELECT.\n+\t(dump_type): Use dump_template_argument for TYPE_ARGUMENT_PACK.\n+\t(dump_parameters): Just call dump_type for argument packs too.\n+\n 2007-09-27  Ollie Wild  <aaw@google.com>\n \n \t* typeck2.c (digest_init): Call cplus_expand_constant after"}, {"sha": "feb6c31c544a02dd78fcec2ab96d7b4cc97982b1", "filename": "gcc/cp/error.c", "status": "modified", "additions": 7, "deletions": 26, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31d400080bc8e7ee3b28716817edcb9087263278/gcc%2Fcp%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31d400080bc8e7ee3b28716817edcb9087263278/gcc%2Fcp%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ferror.c?ref=31d400080bc8e7ee3b28716817edcb9087263278", "patch": "@@ -396,16 +396,7 @@ dump_type (tree t, int flags)\n       break;\n \n     case TYPE_ARGUMENT_PACK:\n-      {\n-        tree args = ARGUMENT_PACK_ARGS (t);\n-        int i;\n-        for (i = 0; i < TREE_VEC_LENGTH (args); ++i)\n-          {\n-            if (i)\n-              pp_separate_with_comma (cxx_pp);\n-            dump_type (TREE_VEC_ELT (args, i), flags);\n-          }\n-      }\n+      dump_template_argument (t, flags);\n       break;\n \n     case DECLTYPE_TYPE:\n@@ -1168,22 +1159,8 @@ dump_parameters (tree parmtypes, int flags)\n \t  pp_cxx_identifier (cxx_pp, \"...\");\n \t  break;\n \t}\n-      if (ARGUMENT_PACK_P (TREE_VALUE (parmtypes)))\n-        {\n-          tree types = ARGUMENT_PACK_ARGS (TREE_VALUE (parmtypes));\n-          int i, len = TREE_VEC_LENGTH (types);\n-\t  first = 1;\n-          for (i = 0; i < len; ++i)\n-            {\n-              if (!first)\n-                pp_separate_with_comma (cxx_pp);\n-              first = 0;\n-              \n-              dump_type (TREE_VEC_ELT (types, i), flags);\n-            }\n-        }\n-      else\n-        dump_type (TREE_VALUE (parmtypes), flags);\n+\n+      dump_type (TREE_VALUE (parmtypes), flags);\n \n       if ((flags & TFF_FUNCTION_DEFAULT_ARGUMENTS) && TREE_PURPOSE (parmtypes))\n \t{\n@@ -2031,6 +2008,10 @@ dump_expr (tree t, int flags)\n       pp_cxx_identifier (cxx_pp, \"...\");\n       break;\n \n+    case ARGUMENT_PACK_SELECT:\n+      dump_template_argument (ARGUMENT_PACK_SELECT_FROM_PACK (t), flags);\n+      break;\n+\n     case RECORD_TYPE:\n     case UNION_TYPE:\n     case ENUMERAL_TYPE:"}]}