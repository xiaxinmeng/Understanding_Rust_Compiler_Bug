{"sha": "64b172fed5b5498cc570629b400048a040b9522c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjRiMTcyZmVkNWI1NDk4Y2M1NzA2MjliNDAwMDQ4YTA0MGI5NTIyYw==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@TechFak.Uni-Bielefeld.DE", "date": "2001-06-08T11:52:56Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2001-06-08T11:52:56Z"}, "message": "mips.h (CPP_SPEC): Simplify .s/.S handling.\n\n\t* config/mips/mips.h (CPP_SPEC): Simplify .s/.S handling.\n\tDon't define _LANGUAGE_C and variants for .cpp/.cp/.c++ files.\n\tMove definition of _LANGUAGE_C_PLUS_PLUS ...\n\t(CPLUSPLUS_CPP_SPEC): ... here.\n\tFixes PRs c++/3047, target/441.\n\nFrom-SVN: r43007", "tree": {"sha": "142b41e363a05505c3812148059fdd26e01f5667", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/142b41e363a05505c3812148059fdd26e01f5667"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/64b172fed5b5498cc570629b400048a040b9522c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64b172fed5b5498cc570629b400048a040b9522c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64b172fed5b5498cc570629b400048a040b9522c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64b172fed5b5498cc570629b400048a040b9522c/comments", "author": null, "committer": null, "parents": [{"sha": "85a9a0a28bd6f48e7e45386cbe6003ea3199f43b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85a9a0a28bd6f48e7e45386cbe6003ea3199f43b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85a9a0a28bd6f48e7e45386cbe6003ea3199f43b"}], "stats": {"total": 22, "additions": 16, "deletions": 6}, "files": [{"sha": "303680dab622a77be1d5d9df43f66f3c0f8ead58", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64b172fed5b5498cc570629b400048a040b9522c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64b172fed5b5498cc570629b400048a040b9522c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=64b172fed5b5498cc570629b400048a040b9522c", "patch": "@@ -1,3 +1,11 @@\n+2001-06-08  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n+\n+\t* config/mips/mips.h (CPP_SPEC): Simplify .s/.S handling.\n+\tDon't define _LANGUAGE_C and variants for .cpp/.cp/.c++ files.\n+\tMove definition of _LANGUAGE_C_PLUS_PLUS ...\n+\t(CPLUSPLUS_CPP_SPEC): ... here.\n+\tFixes PRs c++/3047, target/441.\n+\n 2001-06-08  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \n \t* doc/install.texi2html (MAKEINFO): Keep value if set already."}, {"sha": "8375bbf921dc410757da2fe5032439964627154c", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64b172fed5b5498cc570629b400048a040b9522c/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64b172fed5b5498cc570629b400048a040b9522c/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=64b172fed5b5498cc570629b400048a040b9522c", "patch": "@@ -958,17 +958,19 @@ while (0)\n #endif\n #endif\n \n+/* For C++ we need to ensure that _LANGUAGE_C_PLUS_PLUS is defined independent\n+   of the source file extension.  */\n+#define CPLUSPLUS_CPP_SPEC \"\\\n+-D__LANGUAGE_C_PLUS_PLUS -D_LANGUAGE_C_PLUS_PLUS \\\n+%(cpp) \\\n+\"\n /* CPP_SPEC is the set of arguments to pass to the preprocessor.  */\n \n #ifndef CPP_SPEC\n #define CPP_SPEC \"\\\n-%{.cc:\t-D__LANGUAGE_C_PLUS_PLUS -D_LANGUAGE_C_PLUS_PLUS} \\\n-%{.cxx:\t-D__LANGUAGE_C_PLUS_PLUS -D_LANGUAGE_C_PLUS_PLUS} \\\n-%{.C:\t-D__LANGUAGE_C_PLUS_PLUS -D_LANGUAGE_C_PLUS_PLUS} \\\n %{.m:\t-D__LANGUAGE_OBJECTIVE_C -D_LANGUAGE_OBJECTIVE_C -D__LANGUAGE_C -D_LANGUAGE_C} \\\n-%{.S:\t-D__LANGUAGE_ASSEMBLY -D_LANGUAGE_ASSEMBLY %{!ansi:-DLANGUAGE_ASSEMBLY}} \\\n-%{.s:\t-D__LANGUAGE_ASSEMBLY -D_LANGUAGE_ASSEMBLY %{!ansi:-DLANGUAGE_ASSEMBLY}} \\\n-%{!.S: %{!.s: %{!.cc: %{!.cxx: %{!.C: %{!.m: -D__LANGUAGE_C -D_LANGUAGE_C %{!ansi:-DLANGUAGE_C}}}}}}} \\\n+%{.S|.s: -D__LANGUAGE_ASSEMBLY -D_LANGUAGE_ASSEMBLY %{!ansi:-DLANGUAGE_ASSEMBLY}} \\\n+%{!.S: %{!.s: %{!.cc: %{!.cxx: %{!.cpp: %{!.cp: %{!.c++: %{!.C: %{!.m: -D__LANGUAGE_C -D_LANGUAGE_C %{!ansi:-DLANGUAGE_C}}}}}}}}}} \\\n %(subtarget_cpp_size_spec) \\\n %{mips3:-U__mips -D__mips=3 -D__mips64} \\\n %{mips4:-U__mips -D__mips=4 -D__mips64} \\"}]}