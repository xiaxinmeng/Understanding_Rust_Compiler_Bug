{"sha": "48dd95f2a4c68e47d7afe372ed02f76446a0f9d9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDhkZDk1ZjJhNGM2OGU0N2Q3YWZlMzcyZWQwMmY3NjQ0NmEwZjlkOQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2004-08-11T09:31:13Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2004-08-11T09:31:13Z"}, "message": "re PR libstdc++/16959 (Segmentation fault in ios_base::sync_with_stdio)\n\n2004-08-11  Paolo Carlini  <pcarlini@suse.de>\n\t    Petur Runolfsson  <peturr02@ru.is>\n\n\tPR libstdc++/16959\n\t* src/ios_init.cc (ios_base::sync_with_stdio): Make sure the\n\tstandard streams are constructed.\n\t* testsuite/27_io/ios_base/sync_with_stdio/16959.cc: New.\n\nCo-Authored-By: Petur Runolfsson <peturr02@ru.is>\n\nFrom-SVN: r85797", "tree": {"sha": "4562fb2b983eed6cff8660347aed14fbf729767b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4562fb2b983eed6cff8660347aed14fbf729767b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/48dd95f2a4c68e47d7afe372ed02f76446a0f9d9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48dd95f2a4c68e47d7afe372ed02f76446a0f9d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48dd95f2a4c68e47d7afe372ed02f76446a0f9d9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48dd95f2a4c68e47d7afe372ed02f76446a0f9d9/comments", "author": null, "committer": null, "parents": [{"sha": "a77655b15fc9e25c0c3ad647eb0f511463a559c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a77655b15fc9e25c0c3ad647eb0f511463a559c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a77655b15fc9e25c0c3ad647eb0f511463a559c5"}], "stats": {"total": 44, "additions": 44, "deletions": 0}, "files": [{"sha": "005df42370649fb8166dfff99fd3e7964bc0605c", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48dd95f2a4c68e47d7afe372ed02f76446a0f9d9/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48dd95f2a4c68e47d7afe372ed02f76446a0f9d9/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=48dd95f2a4c68e47d7afe372ed02f76446a0f9d9", "patch": "@@ -1,3 +1,11 @@\n+2004-08-11  Paolo Carlini  <pcarlini@suse.de>\n+\t    Petur Runolfsson  <peturr02@ru.is>\n+\n+\tPR libstdc++/16959\n+\t* src/ios_init.cc (ios_base::sync_with_stdio): Make sure the\n+\tstandard streams are constructed.\n+\t* testsuite/27_io/ios_base/sync_with_stdio/16959.cc: New.\n+\n 2004-08-09  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/bits/stl_bvector.h: Trivial formatting fixes."}, {"sha": "346ed4ed54925768bbaa7f7b3cba9e0e47ab8ae3", "filename": "libstdc++-v3/src/ios_init.cc", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48dd95f2a4c68e47d7afe372ed02f76446a0f9d9/libstdc%2B%2B-v3%2Fsrc%2Fios_init.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48dd95f2a4c68e47d7afe372ed02f76446a0f9d9/libstdc%2B%2B-v3%2Fsrc%2Fios_init.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Fios_init.cc?ref=48dd95f2a4c68e47d7afe372ed02f76446a0f9d9", "patch": "@@ -155,6 +155,9 @@ namespace std\n     // currently synchronized.\n     if (!__sync && __ret)\n       {\n+\t// Make sure the standard streams are constructed.\n+\tios_base::Init __init;\n+\n \tios_base::Init::_S_synced_with_stdio = __sync;\n \n \t// Explicitly call dtors to free any memory that is"}, {"sha": "8d3826b15a7d1796de3cd668aa3993feeae993a0", "filename": "libstdc++-v3/testsuite/27_io/ios_base/sync_with_stdio/16959.cc", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48dd95f2a4c68e47d7afe372ed02f76446a0f9d9/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fios_base%2Fsync_with_stdio%2F16959.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48dd95f2a4c68e47d7afe372ed02f76446a0f9d9/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fios_base%2Fsync_with_stdio%2F16959.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fios_base%2Fsync_with_stdio%2F16959.cc?ref=48dd95f2a4c68e47d7afe372ed02f76446a0f9d9", "patch": "@@ -0,0 +1,33 @@\n+// Copyright (C) 2004 Free Software Foundation\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 2, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING.  If not, write to the Free\n+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+// USA.\n+\n+// 27.4.2.4 ios_base static members\n+\n+#include <ios>\n+\n+// libstdc++/16959\n+void test01()\n+{\n+  std::ios_base::sync_with_stdio(false);\n+}\n+\n+int main()\n+{\n+  test01();\n+  return 0;\n+}"}]}