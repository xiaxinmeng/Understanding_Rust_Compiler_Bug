{"sha": "f36067eb52a2475e5e628cdb65eccb65c48a3953", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjM2MDY3ZWI1MmEyNDc1ZTVlNjI4Y2RiNjVlY2NiNjVjNDhhMzk1Mw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-01-04T19:02:47Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-01-04T19:02:47Z"}, "message": "Fix handling of abstract types in temporary statements.\n\nFrom-SVN: r168480", "tree": {"sha": "baa9af4eb5014f148ea69e06c86eec58a4ef66f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/baa9af4eb5014f148ea69e06c86eec58a4ef66f7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f36067eb52a2475e5e628cdb65eccb65c48a3953", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f36067eb52a2475e5e628cdb65eccb65c48a3953", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f36067eb52a2475e5e628cdb65eccb65c48a3953", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f36067eb52a2475e5e628cdb65eccb65c48a3953/comments", "author": null, "committer": null, "parents": [{"sha": "37cae45e1694c269f23e9536884f44986e46982b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37cae45e1694c269f23e9536884f44986e46982b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37cae45e1694c269f23e9536884f44986e46982b"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "d8ea9f0682a2f0186853077643ead3125f89ad93", "filename": "gcc/go/gofrontend/statements.cc", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f36067eb52a2475e5e628cdb65eccb65c48a3953/gcc%2Fgo%2Fgofrontend%2Fstatements.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f36067eb52a2475e5e628cdb65eccb65c48a3953/gcc%2Fgo%2Fgofrontend%2Fstatements.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fstatements.cc?ref=f36067eb52a2475e5e628cdb65eccb65c48a3953", "patch": "@@ -340,6 +340,9 @@ Temporary_statement::do_traverse_assignments(Traverse_assignments* tassign)\n void\n Temporary_statement::do_determine_types()\n {\n+  if (this->type_ != NULL && this->type_->is_abstract())\n+    this->type_ = this->type_->make_non_abstract_type();\n+\n   if (this->init_ != NULL)\n     {\n       if (this->type_ == NULL)\n@@ -352,10 +355,10 @@ Temporary_statement::do_determine_types()\n     }\n \n   if (this->type_ == NULL)\n-    this->type_ = this->init_->type();\n-\n-  if (this->type_->is_abstract())\n-    this->type_ = this->type_->make_non_abstract_type();\n+    {\n+      this->type_ = this->init_->type();\n+      gcc_assert(!this->type_->is_abstract());\n+    }\n }\n \n // Check types."}]}