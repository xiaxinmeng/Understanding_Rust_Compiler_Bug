{"sha": "8084bf81c782ec5d2831db7fa576089ccb0c5d49", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODA4NGJmODFjNzgyZWM1ZDI4MzFkYjdmYTU3NjA4OWNjYjBjNWQ0OQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@markmitchell.com", "date": "1999-03-12T17:16:53Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1999-03-12T17:16:53Z"}, "message": "lex.c (do_identifier): Correct call to enforce_access.\n\n\t* lex.c (do_identifier): Correct call to enforce_access.\n\t* search.c (accessible_p): Tweak comment.\n\t* decl2.c (validate_nonmember_using_decl): Issue sensible\n\terror-messages on bogus qualifiers.\n\nFrom-SVN: r25732", "tree": {"sha": "324eaa07599158fe54d16bb0b75f220356b2318d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/324eaa07599158fe54d16bb0b75f220356b2318d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8084bf81c782ec5d2831db7fa576089ccb0c5d49", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8084bf81c782ec5d2831db7fa576089ccb0c5d49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8084bf81c782ec5d2831db7fa576089ccb0c5d49", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8084bf81c782ec5d2831db7fa576089ccb0c5d49/comments", "author": null, "committer": null, "parents": [{"sha": "7e21fe59b2a6fdd9b5ac1f11f554fd64a7285bbd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e21fe59b2a6fdd9b5ac1f11f554fd64a7285bbd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e21fe59b2a6fdd9b5ac1f11f554fd64a7285bbd"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "e43e9c88113d54fd5d00cc3b276a713902639ff8", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8084bf81c782ec5d2831db7fa576089ccb0c5d49/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8084bf81c782ec5d2831db7fa576089ccb0c5d49/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=8084bf81c782ec5d2831db7fa576089ccb0c5d49", "patch": "@@ -1,3 +1,11 @@\n+1999-03-12  Mark Mitchell  <mark@markmitchell.com>\n+\n+\t* lex.c (do_identifier): Correct call to enforce_access.\n+\t* search.c (accessible_p): Tweak comment.\n+\n+\t* decl2.c (validate_nonmember_using_decl): Issue sensible\n+\terror-messages on bogus qualifiers.\n+\t\n 1999-03-10  Mark Mitchell  <mark@markmitchell.com>\n \n \t* semantics.c (begin_class_definition): Call build_self_reference."}, {"sha": "700597ab547cf622b2a197b40769fef1ad350516", "filename": "gcc/cp/lex.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8084bf81c782ec5d2831db7fa576089ccb0c5d49/gcc%2Fcp%2Flex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8084bf81c782ec5d2831db7fa576089ccb0c5d49/gcc%2Fcp%2Flex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Flex.c?ref=8084bf81c782ec5d2831db7fa576089ccb0c5d49", "patch": "@@ -3045,7 +3045,7 @@ do_identifier (token, parsing, args)\n     {\n       /* Check access.  */\n       if (IDENTIFIER_CLASS_VALUE (token) == id)\n-\tenforce_access (current_class_type, id);\n+\tenforce_access (DECL_REAL_CONTEXT(id), id);\n       if (!processing_template_decl || DECL_TEMPLATE_PARM_P (id))\n \tid = DECL_INITIAL (id);\n     }"}, {"sha": "6583e696935976b1e3d3f461abb25e7b2b1ca319", "filename": "gcc/cp/search.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8084bf81c782ec5d2831db7fa576089ccb0c5d49/gcc%2Fcp%2Fsearch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8084bf81c782ec5d2831db7fa576089ccb0c5d49/gcc%2Fcp%2Fsearch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsearch.c?ref=8084bf81c782ec5d2831db7fa576089ccb0c5d49", "patch": "@@ -849,8 +849,8 @@ dfs_accessible_p (binfo, data)\n /* DECL is a declaration from a base class of TYPE, which was the\n    classs used to name DECL.  Return non-zero if, in the current\n    context, DECL is accessible.  If TYPE is actually a BINFO node,\n-   then the most derived class along the path indicated by BINFO is\n-   the one used to name the DECL.  */\n+   then we can tell in what context the access is occurring by looking\n+   at the most derived class along the path indicated by BINFO.  */\n \n int \n accessible_p (type, decl)"}, {"sha": "a4e0f63168d9bfcfe2d2650823b3afb640d4fca9", "filename": "gcc/testsuite/g++.old-deja/g++.martin/access1.C", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8084bf81c782ec5d2831db7fa576089ccb0c5d49/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.martin%2Faccess1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8084bf81c782ec5d2831db7fa576089ccb0c5d49/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.martin%2Faccess1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.martin%2Faccess1.C?ref=8084bf81c782ec5d2831db7fa576089ccb0c5d49", "patch": "@@ -1,12 +1,12 @@\n // Build don't link:\n class A{\n   public:\n-    enum Foo{f1,f2}; // gets bogus error - XFAIL\n+    enum Foo{f1,f2};\n \n     class B{\n       friend class A;\n       Foo f;\n       public:\n-        B():f(f1){}  // gets bogus error (inaccessible) - XFAIL\n+        B():f(f1){} \n     };\n };"}]}