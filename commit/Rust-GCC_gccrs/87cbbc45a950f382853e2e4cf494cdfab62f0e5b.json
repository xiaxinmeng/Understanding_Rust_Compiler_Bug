{"sha": "87cbbc45a950f382853e2e4cf494cdfab62f0e5b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdjYmJjNDVhOTUwZjM4Mjg1M2UyZTRjZjQ5NGNkZmFiNjJmMGU1Yg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-06-11T19:16:34Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-06-11T19:16:34Z"}, "message": "libgo: add riscv and js/wasm as known targets\n    \n    Incorporates cut down versions of https://golang.org/cl/102835 and\n    https://golang.org/cl/106256 from the master sources.\n    \n    This will tell go/build to skip files with those tags.\n    \n    Reviewed-on: https://go-review.googlesource.com/117996\n\nFrom-SVN: r261451", "tree": {"sha": "0b7b78b0758b88547ca25cfe34fb1a07373d739f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0b7b78b0758b88547ca25cfe34fb1a07373d739f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87cbbc45a950f382853e2e4cf494cdfab62f0e5b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87cbbc45a950f382853e2e4cf494cdfab62f0e5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87cbbc45a950f382853e2e4cf494cdfab62f0e5b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87cbbc45a950f382853e2e4cf494cdfab62f0e5b/comments", "author": null, "committer": null, "parents": [{"sha": "c5ce6f30886eed5f0bf8a98114bafbd65066b94f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5ce6f30886eed5f0bf8a98114bafbd65066b94f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5ce6f30886eed5f0bf8a98114bafbd65066b94f"}], "stats": {"total": 26, "additions": 18, "deletions": 8}, "files": [{"sha": "0b28a5bd21f860421f632a84af3f2a4ada72c624", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87cbbc45a950f382853e2e4cf494cdfab62f0e5b/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87cbbc45a950f382853e2e4cf494cdfab62f0e5b/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=87cbbc45a950f382853e2e4cf494cdfab62f0e5b", "patch": "@@ -1,4 +1,4 @@\n-3ec698690d2a8ecbf115489f17d85e848a2f7293\n+bfe3a9b26c8b2e1b9ef34a7232a2d1529e639bbf\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "66942edaa7a187b818b827f8c1b271998c59bcb9", "filename": "libgo/configure", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87cbbc45a950f382853e2e4cf494cdfab62f0e5b/libgo%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87cbbc45a950f382853e2e4cf494cdfab62f0e5b/libgo%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fconfigure?ref=87cbbc45a950f382853e2e4cf494cdfab62f0e5b", "patch": "@@ -13653,10 +13653,10 @@ esac\n #   - libgo/go/syscall/endian_XX.go\n #   - possibly others\n # - possibly update files in libgo/go/internal/syscall/unix\n-ALLGOARCH=\"386 alpha amd64 amd64p32 arm armbe arm64 arm64be ia64 m68k mips mipsle mips64 mips64le mips64p32 mips64p32le nios2 ppc ppc64 ppc64le riscv64 s390 s390x sh shbe sparc sparc64\"\n+ALLGOARCH=\"386 alpha amd64 amd64p32 arm armbe arm64 arm64be ia64 m68k mips mipsle mips64 mips64le mips64p32 mips64p32le nios2 ppc ppc64 ppc64le riscv riscv64 s390 s390x sh shbe sparc sparc64 wasm\"\n \n # All known GOARCH family values.\n-ALLGOARCHFAMILY=\"I386 ALPHA AMD64 ARM ARM64 IA64 M68K MIPS MIPS64 NIOS2 PPC PPC64 RISCV64 S390 S390X SH SPARC SPARC64\"\n+ALLGOARCHFAMILY=\"I386 ALPHA AMD64 ARM ARM64 IA64 M68K MIPS MIPS64 NIOS2 PPC PPC64 RISCV RISCV64 S390 S390X SH SPARC SPARC64 WASM\"\n \n GOARCH=unknown\n case ${host} in"}, {"sha": "3cee2c0fcb98baba2018cbd3e6b2e8ec35009f50", "filename": "libgo/configure.ac", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87cbbc45a950f382853e2e4cf494cdfab62f0e5b/libgo%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87cbbc45a950f382853e2e4cf494cdfab62f0e5b/libgo%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fconfigure.ac?ref=87cbbc45a950f382853e2e4cf494cdfab62f0e5b", "patch": "@@ -224,10 +224,10 @@ AC_SUBST(USE_DEJAGNU)\n #   - libgo/go/syscall/endian_XX.go\n #   - possibly others\n # - possibly update files in libgo/go/internal/syscall/unix\n-ALLGOARCH=\"386 alpha amd64 amd64p32 arm armbe arm64 arm64be ia64 m68k mips mipsle mips64 mips64le mips64p32 mips64p32le nios2 ppc ppc64 ppc64le riscv64 s390 s390x sh shbe sparc sparc64\"\n+ALLGOARCH=\"386 alpha amd64 amd64p32 arm armbe arm64 arm64be ia64 m68k mips mipsle mips64 mips64le mips64p32 mips64p32le nios2 ppc ppc64 ppc64le riscv riscv64 s390 s390x sh shbe sparc sparc64 wasm\"\n \n # All known GOARCH family values.\n-ALLGOARCHFAMILY=\"I386 ALPHA AMD64 ARM ARM64 IA64 M68K MIPS MIPS64 NIOS2 PPC PPC64 RISCV64 S390 S390X SH SPARC SPARC64\"\n+ALLGOARCHFAMILY=\"I386 ALPHA AMD64 ARM ARM64 IA64 M68K MIPS MIPS64 NIOS2 PPC PPC64 RISCV RISCV64 S390 S390X SH SPARC SPARC64 WASM\"\n \n GOARCH=unknown\n case ${host} in"}, {"sha": "baa957212ea68fd5447cc4393a7d8efe33490de4", "filename": "libgo/go/go/build/syslist.go", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87cbbc45a950f382853e2e4cf494cdfab62f0e5b/libgo%2Fgo%2Fgo%2Fbuild%2Fsyslist.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87cbbc45a950f382853e2e4cf494cdfab62f0e5b/libgo%2Fgo%2Fgo%2Fbuild%2Fsyslist.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fgo%2Fbuild%2Fsyslist.go?ref=87cbbc45a950f382853e2e4cf494cdfab62f0e5b", "patch": "@@ -4,5 +4,5 @@\n \n package build\n \n-const goosList = \"aix android darwin dragonfly freebsd linux nacl netbsd openbsd plan9 solaris windows zos \"\n-const goarchList = \"386 amd64 amd64p32 arm armbe arm64 arm64be alpha m68k ppc64 ppc64le mips mipsle mips64 mips64le mips64p32 mips64p32le nios2 ppc riscv64 s390 s390x sh shbe sparc sparc64\"\n+const goosList = \"aix android darwin dragonfly freebsd js linux nacl netbsd openbsd plan9 solaris windows zos \"\n+const goarchList = \"386 amd64 amd64p32 arm armbe arm64 arm64be alpha m68k ppc64 ppc64le mips mipsle mips64 mips64le mips64p32 mips64p32le nios2 ppc riscv riscv64 s390 s390x sh shbe sparc sparc64 wasm \""}, {"sha": "13e2abb5defd8bcabe85740787842971278c12ab", "filename": "libgo/go/go/types/sizes.go", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87cbbc45a950f382853e2e4cf494cdfab62f0e5b/libgo%2Fgo%2Fgo%2Ftypes%2Fsizes.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87cbbc45a950f382853e2e4cf494cdfab62f0e5b/libgo%2Fgo%2Fgo%2Ftypes%2Fsizes.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fgo%2Ftypes%2Fsizes.go?ref=87cbbc45a950f382853e2e4cf494cdfab62f0e5b", "patch": "@@ -167,6 +167,7 @@ var gcArchSizes = map[string]*StdSizes{\n \t\"ppc64\":    {8, 8},\n \t\"ppc64le\":  {8, 8},\n \t\"s390x\":    {8, 8},\n+\t\"wasm\":     {8, 8},\n \t// When adding more architectures here,\n \t// update the doc string of SizesFor below.\n }\n@@ -176,7 +177,7 @@ var gcArchSizes = map[string]*StdSizes{\n //\n // Supported architectures for compiler \"gc\":\n // \"386\", \"arm\", \"arm64\", \"amd64\", \"amd64p32\", \"mips\", \"mipsle\",\n-// \"mips64\", \"mips64le\", \"ppc64\", \"ppc64le\", \"s390x\".\n+// \"mips64\", \"mips64le\", \"ppc64\", \"ppc64le\", \"s390x\", \"wasm\".\n func SizesFor(compiler, arch string) Sizes {\n \tvar m map[string]*StdSizes\n \tswitch compiler {"}, {"sha": "f5c0a34b1da2763d79eafc2453a59fe13b78129d", "filename": "libgo/goarch.sh", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87cbbc45a950f382853e2e4cf494cdfab62f0e5b/libgo%2Fgoarch.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87cbbc45a950f382853e2e4cf494cdfab62f0e5b/libgo%2Fgoarch.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgoarch.sh?ref=87cbbc45a950f382853e2e4cf494cdfab62f0e5b", "patch": "@@ -153,6 +153,11 @@ case $goarch in\n \t\t;;\n \tesac\n \t;;\n+    riscv)\n+\tfamily=RISCV\n+\tpcquantum=2\n+\tptrsize=4\n+\t;;\n     riscv64)\n \tfamily=RISCV64\n \tpcquantum=2\n@@ -198,6 +203,10 @@ case $goarch in\n \tdefaultphyspagesize=8192\n \tpcquantum=4\n \t;;\n+    wasm)\n+\tfamily=WASM\n+\tdefaultphyspagesize=65536\n+\t;;\n     *)\n \techo 1>&2 \"unrecognized goarch value \\\"$goarch\\\"\"\n \texit 1"}]}