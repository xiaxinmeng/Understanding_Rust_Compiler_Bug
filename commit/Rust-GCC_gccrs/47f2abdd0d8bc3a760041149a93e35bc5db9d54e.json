{"sha": "47f2abdd0d8bc3a760041149a93e35bc5db9d54e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDdmMmFiZGQwZDhiYzNhNzYwMDQxMTQ5YTkzZTM1YmM1ZGI5ZDU0ZQ==", "commit": {"author": {"name": "James Cowgill", "email": "James.Cowgill@imgtec.com", "date": "2017-01-03T17:52:28Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2017-01-03T17:52:28Z"}, "message": "s-linux-mips.ads: Use correct signal and errno constants.\n\n\t* s-linux-mips.ads: Use correct signal and errno constants.\n\t(sa_handler_pos, sa_mask_pos): Fix offsets for 64-bit MIPS.\n\nFrom-SVN: r244026", "tree": {"sha": "a5d5c47ea426e0bdabf2d6defe232ba34866ac0c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a5d5c47ea426e0bdabf2d6defe232ba34866ac0c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/47f2abdd0d8bc3a760041149a93e35bc5db9d54e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47f2abdd0d8bc3a760041149a93e35bc5db9d54e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47f2abdd0d8bc3a760041149a93e35bc5db9d54e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47f2abdd0d8bc3a760041149a93e35bc5db9d54e/comments", "author": {"login": "jcowgill", "id": 1226825, "node_id": "MDQ6VXNlcjEyMjY4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1226825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcowgill", "html_url": "https://github.com/jcowgill", "followers_url": "https://api.github.com/users/jcowgill/followers", "following_url": "https://api.github.com/users/jcowgill/following{/other_user}", "gists_url": "https://api.github.com/users/jcowgill/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcowgill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcowgill/subscriptions", "organizations_url": "https://api.github.com/users/jcowgill/orgs", "repos_url": "https://api.github.com/users/jcowgill/repos", "events_url": "https://api.github.com/users/jcowgill/events{/privacy}", "received_events_url": "https://api.github.com/users/jcowgill/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1b5593c0f7f557965ee9b5e27bf5cdb3114d6428", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b5593c0f7f557965ee9b5e27bf5cdb3114d6428", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b5593c0f7f557965ee9b5e27bf5cdb3114d6428"}], "stats": {"total": 69, "additions": 41, "deletions": 28}, "files": [{"sha": "fae89b94bfd70afd1c8c0c7f7f5806191a8df10e", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47f2abdd0d8bc3a760041149a93e35bc5db9d54e/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47f2abdd0d8bc3a760041149a93e35bc5db9d54e/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=47f2abdd0d8bc3a760041149a93e35bc5db9d54e", "patch": "@@ -1,3 +1,8 @@\n+2017-01-03  James Cowgill  <James.Cowgill@imgtec.com>\n+\n+\t* s-linux-mips.ads: Use correct signal and errno constants.\n+\t(sa_handler_pos, sa_mask_pos): Fix offsets for 64-bit MIPS.\n+\n 2017-01-03  James Cowgill  <James.Cowgill@imgtec.com>\n \n \t* s-linux-mips.ads: Rename from s-linux-mipsel.ads."}, {"sha": "6ec4a8b7576aeece7bce8327530e04551e84778b", "filename": "gcc/ada/s-linux-mips.ads", "status": "modified", "additions": 36, "deletions": 28, "changes": 64, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47f2abdd0d8bc3a760041149a93e35bc5db9d54e/gcc%2Fada%2Fs-linux-mips.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47f2abdd0d8bc3a760041149a93e35bc5db9d54e/gcc%2Fada%2Fs-linux-mips.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-linux-mips.ads?ref=47f2abdd0d8bc3a760041149a93e35bc5db9d54e", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                  S p e c                                 --\n --                                                                          --\n---             Copyright (C) 2009-2014, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2009-2017, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNARL is free software; you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -26,7 +26,7 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n---  This is the mipsel version of this package\n+--  This is the MIPS version of this package\n \n --  This package encapsulates cpu specific differences between implementations\n --  of GNU/Linux, in order to share s-osinte-linux.ads.\n@@ -43,6 +43,7 @@ package System.Linux is\n    -- Time --\n    ----------\n \n+   subtype int         is Interfaces.C.int;\n    subtype long        is Interfaces.C.long;\n    subtype suseconds_t is Interfaces.C.long;\n    subtype time_t      is Interfaces.C.long;\n@@ -69,7 +70,7 @@ package System.Linux is\n    EINVAL    : constant := 22;\n    ENOMEM    : constant := 12;\n    EPERM     : constant := 1;\n-   ETIMEDOUT : constant := 110;\n+   ETIMEDOUT : constant := 145;\n \n    -------------\n    -- Signals --\n@@ -82,45 +83,52 @@ package System.Linux is\n    SIGTRAP    : constant := 5; --  trace trap (not reset)\n    SIGIOT     : constant := 6; --  IOT instruction\n    SIGABRT    : constant := 6; --  used by abort, replace SIGIOT in the  future\n+   SIGEMT     : constant := 7; --  EMT\n    SIGFPE     : constant := 8; --  floating point exception\n    SIGKILL    : constant := 9; --  kill (cannot be caught or ignored)\n-   SIGBUS     : constant := 7; --  bus error\n+   SIGBUS     : constant := 10; --  bus error\n    SIGSEGV    : constant := 11; --  segmentation violation\n+   SIGSYS     : constant := 12; --  bad system call\n    SIGPIPE    : constant := 13; --  write on a pipe with no one to read it\n    SIGALRM    : constant := 14; --  alarm clock\n    SIGTERM    : constant := 15; --  software termination signal from kill\n-   SIGUSR1    : constant := 10; --  user defined signal 1\n-   SIGUSR2    : constant := 12; --  user defined signal 2\n-   SIGCLD     : constant := 17; --  alias for SIGCHLD\n-   SIGCHLD    : constant := 17; --  child status change\n-   SIGPWR     : constant := 30; --  power-fail restart\n-   SIGWINCH   : constant := 28; --  window size change\n-   SIGURG     : constant := 23; --  urgent condition on IO channel\n-   SIGPOLL    : constant := 29; --  pollable event occurred\n-   SIGIO      : constant := 29; --  I/O now possible (4.2 BSD)\n-   SIGLOST    : constant := 29; --  File lock lost\n-   SIGSTOP    : constant := 19; --  stop (cannot be caught or ignored)\n-   SIGTSTP    : constant := 20; --  user stop requested from tty\n-   SIGCONT    : constant := 18; --  stopped process has been continued\n-   SIGTTIN    : constant := 21; --  background tty read attempted\n-   SIGTTOU    : constant := 22; --  background tty write attempted\n-   SIGVTALRM  : constant := 26; --  virtual timer expired\n-   SIGPROF    : constant := 27; --  profiling timer expired\n-   SIGXCPU    : constant := 24; --  CPU time limit exceeded\n-   SIGXFSZ    : constant := 25; --  filesize limit exceeded\n-   SIGUNUSED  : constant := 31; --  unused signal (GNU/Linux)\n-   SIGSTKFLT  : constant := 16; --  coprocessor stack fault (Linux)\n+   SIGUSR1    : constant := 16; --  user defined signal 1\n+   SIGUSR2    : constant := 17; --  user defined signal 2\n+   SIGCLD     : constant := 18; --  alias for SIGCHLD\n+   SIGCHLD    : constant := 18; --  child status change\n+   SIGPWR     : constant := 19; --  power-fail restart\n+   SIGWINCH   : constant := 20; --  window size change\n+   SIGURG     : constant := 21; --  urgent condition on IO channel\n+   SIGPOLL    : constant := 22; --  pollable event occurred\n+   SIGIO      : constant := 22; --  I/O now possible (4.2 BSD)\n+   SIGSTOP    : constant := 23; --  stop (cannot be caught or ignored)\n+   SIGTSTP    : constant := 24; --  user stop requested from tty\n+   SIGCONT    : constant := 25; --  stopped process has been continued\n+   SIGTTIN    : constant := 26; --  background tty read attempted\n+   SIGTTOU    : constant := 27; --  background tty write attempted\n+   SIGVTALRM  : constant := 28; --  virtual timer expired\n+   SIGPROF    : constant := 29; --  profiling timer expired\n+   SIGXCPU    : constant := 30; --  CPU time limit exceeded\n+   SIGXFSZ    : constant := 31; --  filesize limit exceeded\n+\n    SIGLTHRRES : constant := 32; --  GNU/LinuxThreads restart signal\n    SIGLTHRCAN : constant := 33; --  GNU/LinuxThreads cancel signal\n    SIGLTHRDBG : constant := 34; --  GNU/LinuxThreads debugger signal\n \n+   --  These don't exist for Linux/MIPS.  The constants are present\n+   --  so that we can continue to use a-intnam-linux.ads.\n+   SIGLOST    : constant := 0; --  File lock lost\n+   SIGSTKFLT  : constant := 0; --  coprocessor stack fault (Linux)\n+   SIGUNUSED  : constant := 0; --  unused signal (GNU/Linux)\n+\n    --  struct_sigaction offsets\n \n-   sa_handler_pos : constant := Standard'Address_Size / 8;\n-   sa_mask_pos    : constant := 2 * Standard'Address_Size / 8;\n+   sa_handler_pos : constant := int'Size / 8;\n+   sa_mask_pos    : constant := int'Size / 8 +\n+                                Standard'Address_Size / 8;\n    sa_flags_pos   : constant := 0;\n \n-   SA_SIGINFO  : constant := 16#04#;\n+   SA_SIGINFO  : constant := 16#08#;\n    SA_ONSTACK  : constant := 16#08000000#;\n \n end System.Linux;"}]}