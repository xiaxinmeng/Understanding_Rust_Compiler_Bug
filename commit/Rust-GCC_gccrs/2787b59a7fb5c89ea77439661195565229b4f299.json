{"sha": "2787b59a7fb5c89ea77439661195565229b4f299", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjc4N2I1OWE3ZmI1Yzg5ZWE3NzQzOTY2MTE5NTU2NTIyOWI0ZjI5OQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2004-03-20T10:05:48Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2004-03-20T10:05:48Z"}, "message": "std_valarray.h: Document DR389 [Ready].\n\n2004-03-20  Paolo Carlini  <pcarlini@suse.de>\n\n\t* include/std/std_valarray.h: Document DR389 [Ready].\n\t* docs/html/ext/howto.html: Add an entry for DR389.\n\nFrom-SVN: r79733", "tree": {"sha": "9cdefe238e47c4a2838dd19024c8ce57c97dc50a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9cdefe238e47c4a2838dd19024c8ce57c97dc50a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2787b59a7fb5c89ea77439661195565229b4f299", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2787b59a7fb5c89ea77439661195565229b4f299", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2787b59a7fb5c89ea77439661195565229b4f299", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2787b59a7fb5c89ea77439661195565229b4f299/comments", "author": null, "committer": null, "parents": [{"sha": "dbf833ee1107ad90193bc01c9b073a5f5da1a1b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbf833ee1107ad90193bc01c9b073a5f5da1a1b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dbf833ee1107ad90193bc01c9b073a5f5da1a1b7"}], "stats": {"total": 22, "additions": 15, "deletions": 7}, "files": [{"sha": "5e5b4c82134c2aaeb32ec7ec0a4eeed1b0c58e67", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2787b59a7fb5c89ea77439661195565229b4f299/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2787b59a7fb5c89ea77439661195565229b4f299/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=2787b59a7fb5c89ea77439661195565229b4f299", "patch": "@@ -1,3 +1,8 @@\n+2004-03-20  Paolo Carlini  <pcarlini@suse.de>\n+\n+\t* include/std/std_valarray.h: Document DR389 [Ready].\n+\t* docs/html/ext/howto.html: Add an entry for DR389.\n+\n 2004-03-19  Michael Eager  <eager@mvista.com>\n \n \t* config/cpu/mips/atomicity.h:  Prevent reg loads between LL and"}, {"sha": "56806ca436d929715e8819f019d5ff83861200bf", "filename": "libstdc++-v3/docs/html/ext/howto.html", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2787b59a7fb5c89ea77439661195565229b4f299/libstdc%2B%2B-v3%2Fdocs%2Fhtml%2Fext%2Fhowto.html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2787b59a7fb5c89ea77439661195565229b4f299/libstdc%2B%2B-v3%2Fdocs%2Fhtml%2Fext%2Fhowto.html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdocs%2Fhtml%2Fext%2Fhowto.html?ref=2787b59a7fb5c89ea77439661195565229b4f299", "patch": "@@ -479,6 +479,12 @@ <h2><a name=\"5\">LWG Issues</a></h2>\n     <dd>Change the format string to &quot;%.0Lf&quot;.\n     </dd>\n \n+    <dt><a href=\"lwg-active.html#389\">389</a>:\n+        <em>Const overload of valarray::operator[] returns by value</em>\n+    </dt>\n+    <dd>Change it to return a <code>const T&amp;</code>.\n+    </dd>\n+\n     <dt><a href=\"lwg-active.html#402\">402</a>:\n         <em>Wrong new expression in [some_]allocator::construct</em>\n     </dt>"}, {"sha": "b893b33541591e7627911649edb92f1134892ffe", "filename": "libstdc++-v3/include/std/std_valarray.h", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2787b59a7fb5c89ea77439661195565229b4f299/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fstd_valarray.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2787b59a7fb5c89ea77439661195565229b4f299/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fstd_valarray.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fstd_valarray.h?ref=2787b59a7fb5c89ea77439661195565229b4f299", "patch": "@@ -214,20 +214,17 @@ namespace std\n \toperator= (const _Expr<_Dom,_Tp>&);\n \n       // _lib.valarray.access_ element access:\n-      // XXX: LWG to be resolved.\n       /**\n        *  Return a reference to the i'th array element.  \n        *\n-       *  The C++ spec defines the const version to return Tp instead of\n-       *  the more useful const Tp&.  This issue is being reviewed in DR389.\n-       *\n        *  @param  i  Index of element to return.\n        *  @return  Reference to the i'th element.\n        */\n-      const _Tp&                 operator[](size_t) const;\n+      _Tp&                operator[](size_t);\n \n-      ///  Return a reference to the i'th array element.\n-      _Tp&                operator[](size_t);\t\t\n+      // _GLIBCXX_RESOLVE_LIB_DEFECTS\n+      // 389. Const overload of valarray::operator[] returns by value.\n+      const _Tp&          operator[](size_t) const;\n \n       // _lib.valarray.sub_ subset operations:\n       /**"}]}