{"sha": "af9bd92015b4c55187ef1e6ada62a8b0f89c4608", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWY5YmQ5MjAxNWI0YzU1MTg3ZWYxZTZhZGE2MmE4YjBmODljNDYwOA==", "commit": {"author": {"name": "Kwok Cheung Yeung", "email": "kcy@codesourcery.com", "date": "2020-01-10T23:19:41Z"}, "committer": {"name": "Kwok Cheung Yeung", "email": "kcy@gcc.gnu.org", "date": "2020-01-10T23:19:41Z"}, "message": "[amdgcn] Remove dependency on stdint.h in libgcc\n\n2020-01-10  Kwok Cheung Yeung  <kcy@codesourcery.com>\n\n\tlibgcc/\n\t* config/gcn/atomic.c: Remove include of stdint.h.\n\t(__sync_val_compare_and_swap_##SIZE): Replace uintptr_t with\n\t__UINTPTR_TYPE__.\n\nFrom-SVN: r280152", "tree": {"sha": "82a4fe208640199e37d4913d4d65411f34ccbbc9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/82a4fe208640199e37d4913d4d65411f34ccbbc9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/af9bd92015b4c55187ef1e6ada62a8b0f89c4608", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af9bd92015b4c55187ef1e6ada62a8b0f89c4608", "html_url": "https://github.com/Rust-GCC/gccrs/commit/af9bd92015b4c55187ef1e6ada62a8b0f89c4608", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af9bd92015b4c55187ef1e6ada62a8b0f89c4608/comments", "author": {"login": "k-yeung", "id": 16960193, "node_id": "MDQ6VXNlcjE2OTYwMTkz", "avatar_url": "https://avatars.githubusercontent.com/u/16960193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-yeung", "html_url": "https://github.com/k-yeung", "followers_url": "https://api.github.com/users/k-yeung/followers", "following_url": "https://api.github.com/users/k-yeung/following{/other_user}", "gists_url": "https://api.github.com/users/k-yeung/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-yeung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-yeung/subscriptions", "organizations_url": "https://api.github.com/users/k-yeung/orgs", "repos_url": "https://api.github.com/users/k-yeung/repos", "events_url": "https://api.github.com/users/k-yeung/events{/privacy}", "received_events_url": "https://api.github.com/users/k-yeung/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6fc0385c0ce39470e137eab27dee8955b3f98258", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6fc0385c0ce39470e137eab27dee8955b3f98258", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6fc0385c0ce39470e137eab27dee8955b3f98258"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "4deee0dcacd972cb6bd3d5ed3dc9d465675fef3f", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af9bd92015b4c55187ef1e6ada62a8b0f89c4608/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af9bd92015b4c55187ef1e6ada62a8b0f89c4608/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=af9bd92015b4c55187ef1e6ada62a8b0f89c4608", "patch": "@@ -1,3 +1,9 @@\n+2020-01-10  Kwok Cheung Yeung  <kcy@codesourcery.com>\n+\n+\t* config/gcn/atomic.c: Remove include of stdint.h.\n+\t(__sync_val_compare_and_swap_##SIZE): Replace uintptr_t with\n+\t__UINTPTR_TYPE__.\n+\n 2020-01-09  Kwok Cheung Yeung  <kcy@codesourcery.com>\n \n \t* config/gcn/atomic.c: New."}, {"sha": "adceb029c022968852b08df624858cf599217a17", "filename": "libgcc/config/gcn/atomic.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af9bd92015b4c55187ef1e6ada62a8b0f89c4608/libgcc%2Fconfig%2Fgcn%2Fatomic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af9bd92015b4c55187ef1e6ada62a8b0f89c4608/libgcc%2Fconfig%2Fgcn%2Fatomic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fgcn%2Fatomic.c?ref=af9bd92015b4c55187ef1e6ada62a8b0f89c4608", "patch": "@@ -22,15 +22,14 @@\n    <http://www.gnu.org/licenses/>.  */\n \n #include <stdbool.h>\n-#include <stdint.h>\n \n #define __SYNC_SUBWORD_COMPARE_AND_SWAP(TYPE, SIZE)\t\t\t     \\\n \t\t\t\t\t\t\t\t\t     \\\n TYPE\t\t\t\t\t\t\t\t\t     \\\n __sync_val_compare_and_swap_##SIZE (TYPE *ptr, TYPE oldval, TYPE newval)     \\\n {\t\t\t\t\t\t\t\t\t     \\\n-  unsigned int *wordptr = (unsigned int *)((uintptr_t) ptr & ~3UL);\t     \\\n-  int shift = ((uintptr_t) ptr & 3UL) * 8;\t\t\t\t     \\\n+  unsigned int *wordptr = (unsigned int *)((__UINTPTR_TYPE__ ) ptr & ~3UL);  \\\n+  int shift = ((__UINTPTR_TYPE__ ) ptr & 3UL) * 8;\t\t\t     \\\n   unsigned int valmask = (1 << (SIZE * 8)) - 1;\t\t\t\t     \\\n   unsigned int wordmask = ~(valmask << shift);\t\t\t\t     \\\n   unsigned int oldword = *wordptr;\t\t\t\t\t     \\"}]}