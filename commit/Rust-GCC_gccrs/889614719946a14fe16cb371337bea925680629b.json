{"sha": "889614719946a14fe16cb371337bea925680629b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODg5NjE0NzE5OTQ2YTE0ZmUxNmNiMzcxMzM3YmVhOTI1NjgwNjI5Yg==", "commit": {"author": {"name": "Maxim Kuvyrkov", "email": "maxim@codesourcery.com", "date": "2009-06-03T12:00:32Z"}, "committer": {"name": "Maxim Kuvyrkov", "email": "mkuvyrkov@gcc.gnu.org", "date": "2009-06-03T12:00:32Z"}, "message": "linux.h (HAVE_GAS_BALIGN_AND_P2ALIGN): Move to ...\n\n\t* config/m68k/linux.h (HAVE_GAS_BALIGN_AND_P2ALIGN): Move to ...\n\t* config/m68k/m68k.h: ... here.\n\t* testsuite/gcc.dg/falign-labels.c (dg-options): Don't restrict for\n\tm68k and fido.\n\nFrom-SVN: r148127", "tree": {"sha": "2753fac1f794f42415f9991bf0b374df50245ab8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2753fac1f794f42415f9991bf0b374df50245ab8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/889614719946a14fe16cb371337bea925680629b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/889614719946a14fe16cb371337bea925680629b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/889614719946a14fe16cb371337bea925680629b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/889614719946a14fe16cb371337bea925680629b/comments", "author": null, "committer": null, "parents": [{"sha": "9961eb45689d012c3c4f129bb15a30d12eed8888", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9961eb45689d012c3c4f129bb15a30d12eed8888", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9961eb45689d012c3c4f129bb15a30d12eed8888"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "a68abcbfe54ac1848f62c587e2c9a6362bb245ec", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/889614719946a14fe16cb371337bea925680629b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/889614719946a14fe16cb371337bea925680629b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=889614719946a14fe16cb371337bea925680629b", "patch": "@@ -1,3 +1,10 @@\n+2009-06-03  Maxim Kuvyrkov  <maxim@codesourcery.com>\n+\n+\t* config/m68k/linux.h (HAVE_GAS_BALIGN_AND_P2ALIGN): Move to ...\n+\t* config/m68k/m68k.h: ... here.\n+\t* testsuite/gcc.dg/falign-labels.c (dg-options): Don't restrict for\n+\tm68k and fido.\n+\n 2009-06-03  Martin Jambor  <mjambor@suse.cz>\n \n \tPR tree-optimization/40323"}, {"sha": "113f2787fb32c416e306996aa803315a851d4037", "filename": "gcc/config/m68k/linux.h", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/889614719946a14fe16cb371337bea925680629b/gcc%2Fconfig%2Fm68k%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/889614719946a14fe16cb371337bea925680629b/gcc%2Fconfig%2Fm68k%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Flinux.h?ref=889614719946a14fe16cb371337bea925680629b", "patch": "@@ -126,13 +126,6 @@ along with GCC; see the file COPYING3.  If not see\n   if ((LOG) > 0)\t\t\t\t\t\t\\\n     fprintf ((FILE), \"%s%u\\n\", ALIGN_ASM_OP, 1 << (LOG));\n \n-#ifdef HAVE_GAS_BALIGN_AND_P2ALIGN\n-/* Use \"move.l %a4,%a4\" to advance within code.  */\n-#define ASM_OUTPUT_ALIGN_WITH_NOP(FILE,LOG)\t\t\t\\\n-  if ((LOG) > 0)\t\t\t\t\t\t\\\n-    fprintf ((FILE), \"\\t.balignw %u,0x284c\\n\", 1 << (LOG));\n-#endif\n-\n /* If defined, a C expression whose value is a string containing the\n    assembler operation to identify the following data as uninitialized global\n    data.  */"}, {"sha": "24598c5ba071cb344bb6d7e7ad49507ce7b3bcf0", "filename": "gcc/config/m68k/m68k.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/889614719946a14fe16cb371337bea925680629b/gcc%2Fconfig%2Fm68k%2Fm68k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/889614719946a14fe16cb371337bea925680629b/gcc%2Fconfig%2Fm68k%2Fm68k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.h?ref=889614719946a14fe16cb371337bea925680629b", "patch": "@@ -955,6 +955,13 @@ do { if (cc_prev_status.flags & CC_IN_68881)\t\t\t\\\n   if ((LOG) >= 1)\t\t\t\\\n     fprintf (FILE, \"\\t.even\\n\");\n \n+#ifdef HAVE_GAS_BALIGN_AND_P2ALIGN\n+/* Use \"move.l %a4,%a4\" to advance within code.  */\n+#define ASM_OUTPUT_ALIGN_WITH_NOP(FILE,LOG)\t\t\t\\\n+  if ((LOG) > 0)\t\t\t\t\t\t\\\n+    fprintf ((FILE), \"\\t.balignw %u,0x284c\\n\", 1 << (LOG));\n+#endif\n+\n #define ASM_OUTPUT_SKIP(FILE,SIZE)  \\\n   fprintf (FILE, \"\\t.skip %u\\n\", (int)(SIZE))\n "}, {"sha": "be277e4e04359eb91447987ea0d498dd6e980fb5", "filename": "gcc/testsuite/gcc.dg/falign-labels-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/889614719946a14fe16cb371337bea925680629b/gcc%2Ftestsuite%2Fgcc.dg%2Ffalign-labels-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/889614719946a14fe16cb371337bea925680629b/gcc%2Ftestsuite%2Fgcc.dg%2Ffalign-labels-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ffalign-labels-1.c?ref=889614719946a14fe16cb371337bea925680629b", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-falign-labels=8\" { target { ! { m68k*-*-* || fido*-*-* } } } } */\n+/* { dg-options \"-falign-labels=8\" } */\n \n /* On ARMv7-A CPUs, this test resulted in incorrect code generation.\n    The code generated for the switch statement expected the jump table"}]}