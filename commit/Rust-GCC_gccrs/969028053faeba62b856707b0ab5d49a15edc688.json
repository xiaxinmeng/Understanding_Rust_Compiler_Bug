{"sha": "969028053faeba62b856707b0ab5d49a15edc688", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTY5MDI4MDUzZmFlYmE2MmI4NTY3MDdiMGFiNWQ0OWExNWVkYzY4OA==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2016-01-18T13:30:43Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2016-01-18T13:30:43Z"}, "message": "Handle Octeon 3 not supporting MIPS paired-single instructions.\n\nThe Octeon 3 processor does not support the MIPS paired-single\ninstructions.  This results in illegal instruction errors in the\ntestsuite when vectorization tests try to use those instructions.\n\nThis patch teaches the compiler about that lack of support, so that\nwarnings are given when -mpaired-single (or something implying it) is\nused when compiling for such a processor.  I chose to test\nTARGET_OCTEON as the simplest conditional; since the older Octeon\nprocessors don't support hard float at all, I don't think the choice\nmatters for them.  Tests that then failed with the warning were\nupdated to disable them for Octeon.\n\nTested with no regressions for cross to mips64el-linux-gnu (Octeon\n3).\n\ngcc:\n\t* config/mips/mips.h (ISA_HAS_PAIRED_SINGLE): Require\n\t!TARGET_OCTEON.\n\ngcc/testsuite:\n\t* gcc.target/mips/mips-3d-1.c: Use forbid_cpu=octeon.* in\n\tdg-options.\n\t* gcc.target/mips/mips-3d-2.c: Likewise.\n\t* gcc.target/mips/mips-3d-3.c: Likewise.\n\t* gcc.target/mips/mips-3d-4.c: Likewise.\n\t* gcc.target/mips/mips-3d-5.c: Likewise.\n\t* gcc.target/mips/mips-3d-6.c: Likewise.\n\t* gcc.target/mips/mips-3d-7.c: Likewise.\n\t* gcc.target/mips/mips-3d-8.c: Likewise.\n\t* gcc.target/mips/mips-3d-9.c: Likewise.\n\t* gcc.target/mips/mips-ps-1.c: Likewise.\n\t* gcc.target/mips/mips-ps-2.c: Likewise.\n\t* gcc.target/mips/mips-ps-3.c: Likewise.\n\t* gcc.target/mips/mips-ps-4.c: Likewise.\n\t* gcc.target/mips/mips-ps-5.c: Likewise.\n\t* gcc.target/mips/mips-ps-6.c: Likewise.\n\t* gcc.target/mips/mips-ps-7.c: Likewise.\n\t* gcc.target/mips/mips-ps-type.c: Likewise.\n\t* gcc.target/mips/mips-ps-type-2.c: Likewise.\n\t* gcc.target/mips/mips16-attributes-6.c: Likewise.\n\nFrom-SVN: r232517", "tree": {"sha": "ed219bc7dd87c22f3a1a998b28a5488637129bda", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed219bc7dd87c22f3a1a998b28a5488637129bda"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/969028053faeba62b856707b0ab5d49a15edc688", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/969028053faeba62b856707b0ab5d49a15edc688", "html_url": "https://github.com/Rust-GCC/gccrs/commit/969028053faeba62b856707b0ab5d49a15edc688", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/969028053faeba62b856707b0ab5d49a15edc688/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "46ec7a061e006c4dcc717a895da0d2693432f49b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46ec7a061e006c4dcc717a895da0d2693432f49b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46ec7a061e006c4dcc717a895da0d2693432f49b"}], "stats": {"total": 73, "additions": 51, "deletions": 22}, "files": [{"sha": "972ddec81828b7dd70af54f9204d352bfd9a269e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,3 +1,8 @@\n+2016-01-18  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* config/mips/mips.h (ISA_HAS_PAIRED_SINGLE): Require\n+\t!TARGET_OCTEON.\n+\n 2016-01-18  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/69308"}, {"sha": "803ab98e760a61c268f026ac05982bd60e0f8ddb", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1014,9 +1014,10 @@ struct mips_cpu_info {\n #define ISA_HAS_LXC1_SXC1\tISA_HAS_FP4\n \n /* ISA has paired-single instructions.  */\n-#define ISA_HAS_PAIRED_SINGLE\t(ISA_MIPS64\t\t\t\t\\\n-\t\t\t\t || (mips_isa_rev >= 2\t\t\t\\\n-\t\t\t\t     && mips_isa_rev <= 5))\n+#define ISA_HAS_PAIRED_SINGLE\t((ISA_MIPS64\t\t\t\t\\\n+\t\t\t\t  || (mips_isa_rev >= 2\t\t\t\\\n+\t\t\t\t      && mips_isa_rev <= 5))\t\t\\\n+\t\t\t\t && !TARGET_OCTEON)\n \n /* ISA has conditional trap instructions.  */\n #define ISA_HAS_COND_TRAP\t(!ISA_MIPS1\t\t\t\t\\"}, {"sha": "050535f6bc6236b401b0c85dcad3aa01d036b57e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,3 +1,26 @@\n+2016-01-18  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* gcc.target/mips/mips-3d-1.c: Use forbid_cpu=octeon.* in\n+\tdg-options.\n+\t* gcc.target/mips/mips-3d-2.c: Likewise.\n+\t* gcc.target/mips/mips-3d-3.c: Likewise.\n+\t* gcc.target/mips/mips-3d-4.c: Likewise.\n+\t* gcc.target/mips/mips-3d-5.c: Likewise.\n+\t* gcc.target/mips/mips-3d-6.c: Likewise.\n+\t* gcc.target/mips/mips-3d-7.c: Likewise.\n+\t* gcc.target/mips/mips-3d-8.c: Likewise.\n+\t* gcc.target/mips/mips-3d-9.c: Likewise.\n+\t* gcc.target/mips/mips-ps-1.c: Likewise.\n+\t* gcc.target/mips/mips-ps-2.c: Likewise.\n+\t* gcc.target/mips/mips-ps-3.c: Likewise.\n+\t* gcc.target/mips/mips-ps-4.c: Likewise.\n+\t* gcc.target/mips/mips-ps-5.c: Likewise.\n+\t* gcc.target/mips/mips-ps-6.c: Likewise.\n+\t* gcc.target/mips/mips-ps-7.c: Likewise.\n+\t* gcc.target/mips/mips-ps-type.c: Likewise.\n+\t* gcc.target/mips/mips-ps-type-2.c: Likewise.\n+\t* gcc.target/mips/mips16-attributes-6.c: Likewise.\n+\n 2016-01-18  Tom de Vries  <tom@codesourcery.com>\n \n \t* c-c++-common/goacc/kernels-counter-vars-function-scope.c: New test."}, {"sha": "9c675130927961ad77f687447c51819dac8ad049", "filename": "gcc/testsuite/gcc.target/mips/mips-3d-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-1.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-mips3d\" } */\n+/* { dg-options \"-mips3d forbid_cpu=octeon.*\" } */\n \n /* Test MIPS-3D builtin functions */\n #include <stdlib.h>"}, {"sha": "4da059f9ec076175b430fb311a0684a905fe1290", "filename": "gcc/testsuite/gcc.target/mips/mips-3d-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-2.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-mips3d\" } */\n+/* { dg-options \"-mips3d forbid_cpu=octeon.*\" } */\n \n /* Test MIPS-3D branch-if-any-two builtin functions */\n #include <stdlib.h>"}, {"sha": "fcdcf24e6c0e7206eaca838b89a97c5b25e77eab", "filename": "gcc/testsuite/gcc.target/mips/mips-3d-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-3.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-mips3d\" } */\n+/* { dg-options \"-mips3d forbid_cpu=octeon.*\" } */\n \n /* Test MIPS-3D absolute compare builtin functions */\n #include <stdlib.h>"}, {"sha": "340921c586e709b2b24549fbad9ce08a71731b23", "filename": "gcc/testsuite/gcc.target/mips/mips-3d-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-4.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-mips3d\" } */\n+/* { dg-options \"-mips3d forbid_cpu=octeon.*\" } */\n \n /* Test MIPS-3D branch-if-any-four builtin functions */\n #include <stdlib.h>"}, {"sha": "e7dbfebef639aeaf5112d6dd2b7c2c332764814e", "filename": "gcc/testsuite/gcc.target/mips/mips-3d-5.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-5.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-mips3d\" } */\n+/* { dg-options \"-mips3d forbid_cpu=octeon.*\" } */\n \n /* Test MIPS-3D absolute-compare & branch-if-any-four builtin functions */\n #include <stdlib.h>"}, {"sha": "d75faa1a91b17cf2c7ce361c90535d5b37e853b3", "filename": "gcc/testsuite/gcc.target/mips/mips-3d-6.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-6.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-mips3d\" } */\n+/* { dg-options \"-mips3d forbid_cpu=octeon.*\" } */\n \n /* Test MIPS-3D absolute compare (floats) builtin functions */\n #include <stdlib.h>"}, {"sha": "8e69d49b1222be74916f5fdc2482b97cfbf4cef1", "filename": "gcc/testsuite/gcc.target/mips/mips-3d-7.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-7.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-mips3d\" } */\n+/* { dg-options \"-mips3d forbid_cpu=octeon.*\" } */\n \n /* Test MIPS-3D absolute compare (doubles) builtin functions */\n #include <stdlib.h>"}, {"sha": "0ad8c482aa1fa6e374141d68d341dbb29c0ce5c2", "filename": "gcc/testsuite/gcc.target/mips/mips-3d-8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-8.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-mips3d\" } */\n+/* { dg-options \"-mips3d forbid_cpu=octeon.*\" } */\n \n /* Test MIPS-3D absolute compare and conditional move builtin functions */\n #include <stdlib.h>"}, {"sha": "0c30252850645d5dd421bbbfb37199ff21553441", "filename": "gcc/testsuite/gcc.target/mips/mips-3d-9.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-9.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-9.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-3d-9.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-mips3d\" } */\n+/* { dg-options \"-mips3d forbid_cpu=octeon.*\" } */\n \n /* Matrix Multiplications */\n #include <stdlib.h>"}, {"sha": "980dd05db84f4bdb8fb9e4e179046364ea9442d4", "filename": "gcc/testsuite/gcc.target/mips/mips-ps-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-1.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-mpaired-single\" } */\n+/* { dg-options \"-mpaired-single forbid_cpu=octeon.*\" } */\n \n /* Test v2sf calculations */\n #include <stdlib.h>"}, {"sha": "654aa062d8031521ea50c3a25fc482a6de15555b", "filename": "gcc/testsuite/gcc.target/mips/mips-ps-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-2.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-mpaired-single\" } */\n+/* { dg-options \"-mpaired-single forbid_cpu=octeon.*\" } */\n \n /* Test MIPS paired-single builtin functions */\n #include <stdlib.h>"}, {"sha": "fc892a805a1c555b26124133d33d196f715a2efd", "filename": "gcc/testsuite/gcc.target/mips/mips-ps-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-3.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-mpaired-single\" } */\n+/* { dg-options \"-mpaired-single forbid_cpu=octeon.*\" } */\n \n /* Test MIPS paired-single conditional move */\n #include <stdlib.h>"}, {"sha": "7871e56d2b9e4ab36affa3bdf3876ab5ee7c2808", "filename": "gcc/testsuite/gcc.target/mips/mips-ps-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-4.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-options \"-mpaired-single\" } */\n+/* { dg-options \"-mpaired-single forbid_cpu=octeon.*\" } */\n \n /* Test MIPS paired-single comparisons */\n #include <stdlib.h>"}, {"sha": "4499e54ed1eaa74be507e4921986e5378c2c6675", "filename": "gcc/testsuite/gcc.target/mips/mips-ps-5.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-5.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-mpaired-single -mgp64 -ftree-vectorize\" } */\n+/* { dg-options \"-mpaired-single -mgp64 -ftree-vectorize forbid_cpu=octeon.*\" } */\n /* { dg-skip-if \"requires vectorization\" { *-*-* } { \"-O0\" \"-Os\" } { \"\" } } */\n \n extern float a[] __attribute__ ((aligned (8)));"}, {"sha": "42c1756136faf15639937e3c86dedbe35d7a4ff8", "filename": "gcc/testsuite/gcc.target/mips/mips-ps-6.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-6.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,7 +1,7 @@\n /* mips-ps-2.c with an extra -ffinite-math-only option.  This option\n    changes the way that abs.ps is handled.  */\n /* { dg-do run } */\n-/* { dg-options \"-mpaired-single -ffinite-math-only\" } */\n+/* { dg-options \"-mpaired-single -ffinite-math-only forbid_cpu=octeon.*\" } */\n \n /* Test MIPS paired-single builtin functions */\n #include <stdlib.h>"}, {"sha": "29e29aa1050adada33cc18f4932bd42cd46adc93", "filename": "gcc/testsuite/gcc.target/mips/mips-ps-7.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-7.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,6 +1,6 @@\n /* mips-ps-5.c with -mgp32 instead of -mgp64.  */\n /* { dg-do compile } */\n-/* { dg-options \"-mgp32 -mpaired-single -ftree-vectorize\" } */\n+/* { dg-options \"-mgp32 -mpaired-single -ftree-vectorize forbid_cpu=octeon.*\" } */\n /* { dg-skip-if \"requires vectorization\" { *-*-* } { \"-O0\" \"-Os\" } { \"\" } } */\n \n extern float a[] __attribute__ ((aligned (8)));"}, {"sha": "6aba81507e7b587da1f110901b59281db3025acb", "filename": "gcc/testsuite/gcc.target/mips/mips-ps-type-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-type-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-type-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-type-2.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,7 +1,7 @@\n /* Test v2sf calculations.  The nmadd and nmsub patterns need\n    -ffinite-math-only.  */\n /* { dg-do compile } */\n-/* { dg-options \"(HAS_MADDPS) -mgp32 -mpaired-single -ffinite-math-only\" } */\n+/* { dg-options \"(HAS_MADDPS) -mgp32 -mpaired-single -ffinite-math-only forbid_cpu=octeon.*\" } */\n /* { dg-skip-if \"nmadd and nmsub need combine\" { *-*-* } { \"-O0\" } { \"\" } } */\n /* { dg-final { scan-assembler \"\\tcvt.ps.s\\t\" } } */\n /* { dg-final { scan-assembler \"\\tmov.ps\\t\" } } */"}, {"sha": "454ffc349571ba5e6c9716c0647bb04d38d05f27", "filename": "gcc/testsuite/gcc.target/mips/mips-ps-type.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-type.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-type.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips-ps-type.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,7 +1,7 @@\n /* Test v2sf calculations.  The nmadd and nmsub patterns need\n    -ffinite-math-only.  */\n /* { dg-do compile } */ \n-/* { dg-options \"-mpaired-single -mgp64 -ffinite-math-only\" } */\n+/* { dg-options \"-mpaired-single -mgp64 -ffinite-math-only forbid_cpu=octeon.*\" } */\n /* { dg-skip-if \"nmadd and nmsub need combine\" { *-*-* } { \"-O0\" } { \"\" } } */\n /* { dg-final { scan-assembler \"\\tcvt.ps.s\\t\" } } */\n /* { dg-final { scan-assembler \"\\tmov.ps\\t\" } } */"}, {"sha": "12f3ad0fee1042a310c4d3ae5cd118db7ab9640e", "filename": "gcc/testsuite/gcc.target/mips/mips16-attributes-6.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips16-attributes-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/969028053faeba62b856707b0ab5d49a15edc688/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips16-attributes-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips16-attributes-6.c?ref=969028053faeba62b856707b0ab5d49a15edc688", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-mips16 addressing=absolute -mips3d\" } */\n+/* { dg-options \"-mips16 addressing=absolute -mips3d forbid_cpu=octeon.*\" } */\n \n static inline NOMIPS16 float\n i1 (float f)"}]}