{"sha": "285b1f01acaf962e7a668aed7bab4d609a19fc3b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjg1YjFmMDFhY2FmOTYyZTdhNjY4YWVkN2JhYjRkNjA5YTE5ZmMzYg==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2015-10-29T17:06:58Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2015-10-29T17:06:58Z"}, "message": "[multiple changes]\n\n2015-10-29  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/67885\n\t* trans-decl.c (generate_local_decl): Mark PARAMETER entities in\n\tBLOCK construct.\n\n2015-10-26  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/67885\n\t* gfortran.dg/pr67885.f90: New test.\n\nFrom-SVN: r229540", "tree": {"sha": "b132a8432a4fff53e86c75aa2a96a5d78521bd39", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b132a8432a4fff53e86c75aa2a96a5d78521bd39"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/285b1f01acaf962e7a668aed7bab4d609a19fc3b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/285b1f01acaf962e7a668aed7bab4d609a19fc3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/285b1f01acaf962e7a668aed7bab4d609a19fc3b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/285b1f01acaf962e7a668aed7bab4d609a19fc3b/comments", "author": null, "committer": null, "parents": [{"sha": "7f71272e3b7a420febff64d3dd7ab58d5988ccaa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f71272e3b7a420febff64d3dd7ab58d5988ccaa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f71272e3b7a420febff64d3dd7ab58d5988ccaa"}], "stats": {"total": 33, "additions": 33, "deletions": 0}, "files": [{"sha": "5aed4bdde881aca20926c42f892d602d0d6ae54d", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/285b1f01acaf962e7a668aed7bab4d609a19fc3b/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/285b1f01acaf962e7a668aed7bab4d609a19fc3b/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=285b1f01acaf962e7a668aed7bab4d609a19fc3b", "patch": "@@ -1,3 +1,9 @@\n+2015-10-29  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/67885\n+\t* trans-decl.c (generate_local_decl): Mark PARAMETER entities in\n+\tBLOCK construct.\n+\n 2015-10-29  Andrew MacLeod  <amacleod@redhat.com>\n \n \t* array.c: Reorder #include's and remove duplicates."}, {"sha": "098a327e91a2ed9f879a1a50a775e6a61072f059", "filename": "gcc/fortran/trans-decl.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/285b1f01acaf962e7a668aed7bab4d609a19fc3b/gcc%2Ffortran%2Ftrans-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/285b1f01acaf962e7a668aed7bab4d609a19fc3b/gcc%2Ffortran%2Ftrans-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-decl.c?ref=285b1f01acaf962e7a668aed7bab4d609a19fc3b", "patch": "@@ -5215,6 +5215,16 @@ generate_local_decl (gfc_symbol * sym)\n \t\t\t  \"Unused parameter %qs which has been explicitly \"\n \t\t\t  \"imported at %L\", sym->name, &sym->declared_at);\n \t}\n+\n+      if (sym->ns\n+\t  && sym->ns->parent\n+\t  && sym->ns->parent->code\n+\t  && sym->ns->parent->code->op == EXEC_BLOCK)\n+\t{\n+\t  if (sym->attr.referenced)\n+\t    gfc_get_symbol_decl (sym);\n+\t  sym->mark = 1;\n+\t}\n     }\n   else if (sym->attr.flavor == FL_PROCEDURE)\n     {"}, {"sha": "ee3ac60efef997d62f07d3fa79c09fb1cc472bcd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/285b1f01acaf962e7a668aed7bab4d609a19fc3b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/285b1f01acaf962e7a668aed7bab4d609a19fc3b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=285b1f01acaf962e7a668aed7bab4d609a19fc3b", "patch": "@@ -1,3 +1,8 @@\n+2015-10-29  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/67885\n+\t* gfortran.dg/pr67885.f90: New test.\n+\n 2015-10-29  Jeff Law  <law@redhat.com>\n \n         PR tree-optimization/67892"}, {"sha": "9b9adce490358a8b751f8ad71dc3aeea84beca83", "filename": "gcc/testsuite/gfortran.dg/pr67885.f90", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/285b1f01acaf962e7a668aed7bab4d609a19fc3b/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr67885.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/285b1f01acaf962e7a668aed7bab4d609a19fc3b/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr67885.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr67885.f90?ref=285b1f01acaf962e7a668aed7bab4d609a19fc3b", "patch": "@@ -0,0 +1,12 @@\n+! { dg-do run }\n+! PR fortran/67885\n+! Original code contributed by Gerhard Steinmetz\n+! gerhard dot steinmetz dot fortran at t-online dot de\n+program p\n+   block\n+      integer, parameter :: a(2) = [1, 2]\n+      integer :: x(2)\n+      x = a\n+      if (x(1) /= 1) call abort\n+   end block\n+end"}]}