{"sha": "69ca976728b43ad84f9a8e3be9aaf852cdee8a8f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjljYTk3NjcyOGI0M2FkODRmOWE4ZTNiZTlhYWY4NTJjZGVlOGE4Zg==", "commit": {"author": {"name": "Kai Tietz", "email": "kai.tietz@onevision.com", "date": "2011-01-29T17:20:13Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2011-01-29T17:20:13Z"}, "message": "ctime.c (ctime_r): Improve implementation.\n\n2011-01-29  Kai Tietz  <kai.tietz@onevision.com>\n\n        * intrinsics/ctime.c (ctime_r): Improve implementation.\n\nFrom-SVN: r169389", "tree": {"sha": "ea0369a7724abfcaa713c74e259dec3b6eebb26e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea0369a7724abfcaa713c74e259dec3b6eebb26e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/69ca976728b43ad84f9a8e3be9aaf852cdee8a8f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69ca976728b43ad84f9a8e3be9aaf852cdee8a8f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69ca976728b43ad84f9a8e3be9aaf852cdee8a8f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69ca976728b43ad84f9a8e3be9aaf852cdee8a8f/comments", "author": null, "committer": null, "parents": [{"sha": "ca7174cf5ce7f23e06aa453e2d632ed5e4eac867", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca7174cf5ce7f23e06aa453e2d632ed5e4eac867", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca7174cf5ce7f23e06aa453e2d632ed5e4eac867"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "5e0c7623e97237c76685080547e1f022e468964f", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69ca976728b43ad84f9a8e3be9aaf852cdee8a8f/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69ca976728b43ad84f9a8e3be9aaf852cdee8a8f/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=69ca976728b43ad84f9a8e3be9aaf852cdee8a8f", "patch": "@@ -1,3 +1,7 @@\n+2011-01-29  Kai Tietz  <kai.tietz@onevision.com>\n+\n+\t* intrinsics/ctime.c (ctime_r): Improve implementation.\n+\n 2011-01-27  Janne Blomqvist  <jb@gcc.gnu.org>\n \n \tPR libfortran/47431"}, {"sha": "b7b463c3aca881712d268dc2b68b7cf61cf5db12", "filename": "libgfortran/intrinsics/ctime.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69ca976728b43ad84f9a8e3be9aaf852cdee8a8f/libgfortran%2Fintrinsics%2Fctime.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69ca976728b43ad84f9a8e3be9aaf852cdee8a8f/libgfortran%2Fintrinsics%2Fctime.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Fctime.c?ref=69ca976728b43ad84f9a8e3be9aaf852cdee8a8f", "patch": "@@ -42,11 +42,17 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n \n #ifndef HAVE_CTIME_R\n+/* Make sure we don't see here a macro.  */\n+#undef ctime_r\n+\n static char *\n ctime_r (const time_t * timep, char * buf __attribute__((unused)))\n {\n #ifdef HAVE_CTIME\n-  return ctime (timep);\n+  char *tmp = ctime (timep);\n+  if (tmp)\n+    tmp = strcpy (buf, tmp);\n+  return tmp;\n #else\n   return NULL;\n #endif"}]}