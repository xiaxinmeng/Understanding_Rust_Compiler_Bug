{"sha": "6ae9b8759e83dcfba6176c397aa703acb48d1f8b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmFlOWI4NzU5ZTgzZGNmYmE2MTc2YzM5N2FhNzAzYWNiNDhkMWY4Yg==", "commit": {"author": {"name": "Volker Reichelt", "email": "reichelt@igpm.rwth-aachen.de", "date": "2006-07-15T09:22:17Z"}, "committer": {"name": "Volker Reichelt", "email": "reichelt@gcc.gnu.org", "date": "2006-07-15T09:22:17Z"}, "message": "re PR c++/28387 (ICE with attribute on invalid declaration)\n\n\tPR c++/28387\n\t* decl2.c (cplus_decl_attributes): Check for invalid decls.\n\n\t* g++.dg/ext/attrib24.C: New test.\n\nFrom-SVN: r115465", "tree": {"sha": "6ddde92beee957f2fbbd0e64361555311ba2f620", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6ddde92beee957f2fbbd0e64361555311ba2f620"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6ae9b8759e83dcfba6176c397aa703acb48d1f8b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ae9b8759e83dcfba6176c397aa703acb48d1f8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ae9b8759e83dcfba6176c397aa703acb48d1f8b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ae9b8759e83dcfba6176c397aa703acb48d1f8b/comments", "author": null, "committer": null, "parents": [{"sha": "72aeff7c56480cd257a3654eaf93ff1e49bc1c25", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72aeff7c56480cd257a3654eaf93ff1e49bc1c25", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72aeff7c56480cd257a3654eaf93ff1e49bc1c25"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "4b35a3d37d4655a35794f59bbb4e3f9cda8f1e78", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ae9b8759e83dcfba6176c397aa703acb48d1f8b/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ae9b8759e83dcfba6176c397aa703acb48d1f8b/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=6ae9b8759e83dcfba6176c397aa703acb48d1f8b", "patch": "@@ -1,3 +1,8 @@\n+2006-07-15  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\tPR c++/28387\n+\t* decl2.c (cplus_decl_attributes): Check for invalid decls.\n+\n 2006-07-14  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n \n \tPR c++/28343"}, {"sha": "3b4e7ce02fbd35dd80a14024a795250de4a8dcd8", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ae9b8759e83dcfba6176c397aa703acb48d1f8b/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ae9b8759e83dcfba6176c397aa703acb48d1f8b/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=6ae9b8759e83dcfba6176c397aa703acb48d1f8b", "patch": "@@ -997,7 +997,8 @@ grokbitfield (const cp_declarator *declarator,\n void\n cplus_decl_attributes (tree *decl, tree attributes, int flags)\n {\n-  if (*decl == NULL_TREE || *decl == void_type_node)\n+  if (*decl == NULL_TREE || *decl == void_type_node\n+      || *decl == error_mark_node)\n     return;\n \n   if (TREE_CODE (*decl) == TEMPLATE_DECL)"}, {"sha": "d9edf48b3be203c4c5b5cea4ee79e652995dbd97", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ae9b8759e83dcfba6176c397aa703acb48d1f8b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ae9b8759e83dcfba6176c397aa703acb48d1f8b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6ae9b8759e83dcfba6176c397aa703acb48d1f8b", "patch": "@@ -1,3 +1,8 @@\n+2006-07-15  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\tPR c++/28387\n+\t* g++.dg/ext/attrib24.C: New test.\n+\n 2006-07-14  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n \n \tPR c++/28343"}, {"sha": "208809a3f3e0b742b90673a301f6a7a58640d94f", "filename": "gcc/testsuite/g++.dg/ext/attrib24.C", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ae9b8759e83dcfba6176c397aa703acb48d1f8b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattrib24.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ae9b8759e83dcfba6176c397aa703acb48d1f8b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattrib24.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattrib24.C?ref=6ae9b8759e83dcfba6176c397aa703acb48d1f8b", "patch": "@@ -0,0 +1,4 @@\n+// PR c++/28387\n+// { dg-do compile }\n+\n+enum __attribute__((unused)) E;  // { dg-error \"without previous declaration\" }"}]}