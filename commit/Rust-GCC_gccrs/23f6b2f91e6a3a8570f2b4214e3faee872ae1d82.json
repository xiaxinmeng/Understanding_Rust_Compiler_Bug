{"sha": "23f6b2f91e6a3a8570f2b4214e3faee872ae1d82", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjNmNmIyZjkxZTZhM2E4NTcwZjJiNDIxNGUzZmFlZTg3MmFlMWQ4Mg==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2004-07-02T07:55:37Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2004-07-02T07:55:37Z"}, "message": "Makefile.def (build_modules): Add bison, byacc, flex, m4, texinfo.\n\n2004-07-01  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* Makefile.def (build_modules): Add bison, byacc, flex,\n\tm4, texinfo.\n\t(flags_to_pass): Add FLEX.\n\t* Makefile.tpl (BUILD_DIR_PREFIX, BASE_EXPORTS): New.\n\t(BUILD_EXPORTS, HOST_EXPORTS, BASE_TARGET_EXPORTS): Include it.\n\t(DEFAULT_YACC, USUAL_YACC, DEFAULT_LEX, USUAL_LEX, DEFAULT_M4,\n\tDEFAULT_MAKEINFO): Remove.\n\t(CONFIGURED_YACC, CONFIGURED_FLEX, CONFIGURED_BISON,\n\tCONFIGURED_LEX, CONFIGURED_M4, CONFIGURED_MAKEINFO): Substitute.\n\t(YACC, FLEX, BISON, LEX, M4, MAKEINFO): Define to look into\n\tobjdir or else use configured tool.\n\t(all-build): New.\n\t(all): Depend on it.\n\t(Build module dependencies): Add.\n\t* Makefile.in: Regenerate.\n\t* configure.in: Better support for multiple build modules,\n\tmatching what is done for host/target modules.  Do not look\n\tfor \"plausible\" locations of build tools if Canadian cross.\n\tUse autoconf's AC_PROG_CC to find a C compiler.  Define\n\tBUILD_DIR_PREFIX.  Look for flex, makeinfo and m4.\n\t* configure: Regenerate.\n\nFrom-SVN: r84017", "tree": {"sha": "bd71d7b85bd423a198d4956c94a35106d4a53797", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bd71d7b85bd423a198d4956c94a35106d4a53797"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82", "html_url": "https://github.com/Rust-GCC/gccrs/commit/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "902054efd3220fba08d987e8a2f009526b0c27b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/902054efd3220fba08d987e8a2f009526b0c27b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/902054efd3220fba08d987e8a2f009526b0c27b6"}], "stats": {"total": 1269, "additions": 785, "deletions": 484}, "files": [{"sha": "eab505cb3d9f11b5b8dff01e541a28ce4247cd38", "filename": "ChangeLog", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=23f6b2f91e6a3a8570f2b4214e3faee872ae1d82", "patch": "@@ -1,3 +1,27 @@\n+2004-07-01  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\t* Makefile.def (build_modules): Add bison, byacc, flex,\n+\tm4, texinfo.\n+\t(flags_to_pass): Add FLEX.\n+\t* Makefile.tpl (BUILD_DIR_PREFIX, BASE_EXPORTS): New.\n+\t(BUILD_EXPORTS, HOST_EXPORTS, BASE_TARGET_EXPORTS): Include it.\n+\t(DEFAULT_YACC, USUAL_YACC, DEFAULT_LEX, USUAL_LEX, DEFAULT_M4,\n+\tDEFAULT_MAKEINFO): Remove.\n+\t(CONFIGURED_YACC, CONFIGURED_FLEX, CONFIGURED_BISON,\n+\tCONFIGURED_LEX, CONFIGURED_M4, CONFIGURED_MAKEINFO): Substitute.\n+\t(YACC, FLEX, BISON, LEX, M4, MAKEINFO): Define to look into\n+\tobjdir or else use configured tool.\n+\t(all-build): New.\n+\t(all): Depend on it.\n+\t(Build module dependencies): Add.\n+\t* Makefile.in: Regenerate.\n+\t* configure.in: Better support for multiple build modules,\n+\tmatching what is done for host/target modules.  Do not look\n+\tfor \"plausible\" locations of build tools if Canadian cross.\n+\tUse autoconf's AC_PROG_CC to find a C compiler.  Define\n+\tBUILD_DIR_PREFIX.  Look for flex, makeinfo and m4.\n+\t* configure: Regenerate.\n+\t\n 2004-06-22  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* Makefile.tpl (HOST_EXPORTS): Fix pasto."}, {"sha": "511876f81238dbf586dae0ebd77231512956b3c8", "filename": "Makefile.def", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82/Makefile.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82/Makefile.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.def?ref=23f6b2f91e6a3a8570f2b4214e3faee872ae1d82", "patch": "@@ -26,6 +26,11 @@ AutoGen definitions Makefile.tpl;\n \n build_modules= { module= libiberty; };\n build_modules= { module= libbanshee; };\n+build_modules= { module= bison; };\n+build_modules= { module= byacc; };\n+build_modules= { module= flex; };\n+build_modules= { module= m4; };\n+build_modules= { module= texinfo; };\n \n host_modules= { module= ash; };\n host_modules= { module= autoconf; };\n@@ -177,6 +182,7 @@ flags_to_pass = { flag= BISON ; };\n flags_to_pass = { flag= CC_FOR_BUILD ; };\n flags_to_pass = { flag= CXX_FOR_BUILD ; };\n flags_to_pass = { flag= EXPECT ; };\n+flags_to_pass = { flag= FLEX ; };\n flags_to_pass = { flag= INSTALL ; };\n flags_to_pass = { flag= INSTALL_DATA ; };\n flags_to_pass = { flag= INSTALL_PROGRAM ; };"}, {"sha": "2dbd157a3a3fe6dac1fbf1045398d7bf8028f154", "filename": "Makefile.in", "status": "modified", "additions": 386, "deletions": 37, "changes": 423, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=23f6b2f91e6a3a8570f2b4214e3faee872ae1d82", "patch": "@@ -110,11 +110,23 @@ BUILD_SUBDIR = @build_subdir@\n # This is set by the configure script to the arguments to use when configuring\n # directories built for the build system.\n BUILD_CONFIGARGS = @build_configargs@\n+\n+# This is the list of variables to export in the environment when\n+# configuring any subdirectory.  It must also be exported whenever\n+# recursing into a build directory in case that directory's Makefile\n+# re-runs configure.\n+BASE_EXPORTS = \\\n+\tFLEX=\"$(FLEX)\"; export FLEX; \\\n+\tLEX=\"$(LEX)\"; export LEX; \\\n+\tBISON=\"$(BISON)\"; export BISON; \\\n+\tYACC=\"$(YACC)\"; export YACC; \\\n+\tM4=\"$(M4)\"; export M4; \\\n+\tMAKEINFO=\"$(MAKEINFO)\"; export MAKEINFO;\n+\n # This is the list of variables to export in the environment when\n-# configuring subdirectories for the build system.  It must also be\n-# exported whenever recursing into a build directory in case that\n-# directory's Makefile re-runs configure.\n+# configuring subdirectories for the build system.\n BUILD_EXPORTS = \\\n+\t$(BASE_EXPORTS) \\\n \tAR=\"$(AR_FOR_BUILD)\"; export AR; \\\n \tAS=\"$(AS_FOR_BUILD)\"; export AS; \\\n \tCC=\"$(CC_FOR_BUILD)\"; export CC; \\\n@@ -137,10 +149,9 @@ SUBDIRS = @configdirs@\n # directories built for the host system.\n HOST_CONFIGARGS = @host_configargs@\n # This is the list of variables to export in the environment when\n-# configuring subdirectories for the host system.  It must also be\n-# exported whenever recursing into a host directory in case that\n-# directory's Makefile re-runs configure.\n+# configuring subdirectories for the host system.\n HOST_EXPORTS = \\\n+\t$(BASE_EXPORTS) \\\n \tCC=\"$(CC)\"; export CC; \\\n \tCFLAGS=\"$(CFLAGS)\"; export CFLAGS; \\\n \tCONFIG_SHELL=\"$(SHELL)\"; export CONFIG_SHELL; \\\n@@ -176,10 +187,9 @@ TARGET_SUBDIR = @target_subdir@\n # directories built for the target.\n TARGET_CONFIGARGS = @target_configargs@\n # This is the list of variables to export in the environment when\n-# configuring subdirectories for the host system.  It must also be\n-# exported whenever recursing into a host directory in case that\n-# directory's Makefile re-runs configure.\n+# configuring subdirectories for the host system.\n BASE_TARGET_EXPORTS = \\\n+\t$(BASE_EXPORTS) \\\n \tAR=\"$(AR_FOR_TARGET)\"; export AR; \\\n \tAS=\"$(AS_FOR_TARGET)\"; export AS; \\\n \tCC=\"$(CC_FOR_TARGET)\"; export CC; \\\n@@ -230,47 +240,55 @@ CFLAGS_FOR_BUILD = @CFLAGS_FOR_BUILD@\n \n CXX_FOR_BUILD = $(CXX)\n \n+# Path to the build directory for a Canadian cross, empty otherwise.\n+BUILD_DIR_PREFIX = @BUILD_DIR_PREFIX@\n+\n # Special variables passed down in EXTRA_GCC_FLAGS.  They are defined\n # here so that they can be overridden by Makefile fragments.\n BUILD_PREFIX = @BUILD_PREFIX@\n BUILD_PREFIX_1 = @BUILD_PREFIX_1@\n \n-BISON=@BISON@\n-USUAL_BISON = `if [ -f $$r/bison/bison ] ; then \\\n-\t    echo $$r/bison/bison -L $$s/bison/ ; \\\n+CONFIGURED_BISON = @CONFIGURED_BISON@\n+BISON = `if [ -f $$r/$(BUILD_DIR_PREFIX)/bison/bison ] ; then \\\n+\t    echo $$r/$(BUILD_DIR_PREFIX)/bison/bison -L $$s/bison/ ; \\\n \t else \\\n-\t    echo bison ; \\\n+\t    echo ${CONFIGURED_BISON} ; \\\n \t fi`\n \n-DEFAULT_YACC = @DEFAULT_YACC@\n-YACC=@YACC@\n-USUAL_YACC = `if [ -f $$r/bison/bison ] ; then \\\n-\t    echo $$r/bison/bison -y -L $$s/bison/ ; \\\n-\telif [ -f $$r/byacc/byacc ] ; then \\\n-\t    echo $$r/byacc/byacc ; \\\n+CONFIGURED_YACC = @CONFIGURED_YACC@\n+YACC = `if [ -f $$s/$(BUILD_DIR_PREFIX)/bison/bison ] ; then \\\n+\t    echo $$r/$(BUILD_DIR_PREFIX)/bison/bison -y -L $$s/bison/ ; \\\n+\telif [ -f $$s/$(BUILD_DIR_PREFIX)/byacc/byacc ] ; then \\\n+\t    echo $$r/$(BUILD_DIR_PREFIX)/byacc/byacc ; \\\n \telse \\\n-\t    echo ${DEFAULT_YACC} ; \\\n+\t    echo ${CONFIGURED_YACC} ; \\\n \tfi`\n \n-DEFAULT_LEX = @DEFAULT_LEX@\n-LEX=@LEX@\n-USUAL_LEX = `if [ -f $$r/flex/flex ] ; \\\n-\tthen echo $$r/flex/flex ; \\\n-\telse echo ${DEFAULT_LEX} ; fi`\n+CONFIGURED_FLEX = @CONFIGURED_FLEX@\n+FLEX = `if [ -f $$r/$(BUILD_DIR_PREFIX)/flex/flex ] ; \\\n+\tthen echo $$r/$(BUILD_DIR_PREFIX)/flex/flex ; \\\n+\telse echo ${CONFIGURED_FLEX} ; fi`\n \n-DEFAULT_M4 = @DEFAULT_M4@\n-M4 = `if [ -f $$r/m4/m4 ] ; \\\n-\tthen echo $$r/m4/m4 ; \\\n-\telse echo ${DEFAULT_M4} ; fi`\n+CONFIGURED_LEX = @CONFIGURED_LEX@\n+LEX = `if [ -f $$r/$(BUILD_DIR_PREFIX)/flex/flex ] ; \\\n+\tthen echo $$r/$(BUILD_DIR_PREFIX)/flex/flex ; \\\n+\telse echo ${CONFIGURED_LEX} ; fi`\n+\n+CONFIGURED_M4 = @CONFIGURED_M4@\n+M4 = `if [ -f $$r/$(BUILD_DIR_PREFIX)/m4/m4 ] ; \\\n+\tthen echo $$r/$(BUILD_DIR_PREFIX)/m4/m4 ; \\\n+\telse echo ${CONFIGURED_M4} ; fi`\n \n # For an installed makeinfo, we require it to be from texinfo 4.2 or\n-# higher, else we use the \"missing\" dummy.\n-MAKEINFO=@MAKEINFO@\n-USUAL_MAKEINFO = `if [ -f $$r/texinfo/makeinfo/makeinfo ] ; \\\n-\tthen echo $$r/texinfo/makeinfo/makeinfo ; \\\n-\telse if (makeinfo --version \\\n+# higher, else we use the \"missing\" dummy.  We also pass the subdirectory\n+# makeinfo even if only the Makefile is there, because Texinfo builds its\n+# manual when made, and it requires its own version.\n+CONFIGURED_MAKEINFO = @CONFIGURED_MAKEINFO@\n+MAKEINFO = `if [ -f $$r/$(BUILD_DIR_PREFIX)/texinfo/makeinfo/Makefile ] ; \\\n+\tthen echo $$r/$(BUILD_DIR_PREFIX)/texinfo/makeinfo/makeinfo ; \\\n+\telse if (${CONFIGURED_MAKEINFO} --version \\\n \t  | egrep 'texinfo[^0-9]*([1-3][0-9]|4\\.[2-9]|[5-9])') >/dev/null 2>&1; \\\n-        then echo makeinfo; else echo $$s/missing makeinfo; fi; fi`\n+        then echo ${CONFIGURED_MAKEINFO}; else echo $$s/missing makeinfo; fi; fi`\n \n # This just becomes part of the MAKEINFO definition passed down to\n # sub-makes.  It lets flags be given on the command line while still\n@@ -506,6 +524,7 @@ BASE_FLAGS_TO_PASS = \\\n \t\"CC_FOR_BUILD=$(CC_FOR_BUILD)\" \\\n \t\"CXX_FOR_BUILD=$(CXX_FOR_BUILD)\" \\\n \t\"EXPECT=$(EXPECT)\" \\\n+\t\"FLEX=$(FLEX)\" \\\n \t\"INSTALL=$(INSTALL)\" \\\n \t\"INSTALL_DATA=$(INSTALL_DATA)\" \\\n \t\"INSTALL_PROGRAM=$(INSTALL_PROGRAM)\" \\\n@@ -713,8 +732,17 @@ configure-target:  \\\n \n # The target built for a native non-bootstrap build.\n .PHONY: all\n-all: @all_build_modules@ all-host all-target\n-\n+all: all-build all-host all-target\n+\n+.PHONY: all-build\n+all-build:  \\\n+    maybe-all-build-libiberty \\\n+    maybe-all-build-libbanshee \\\n+    maybe-all-build-bison \\\n+    maybe-all-build-byacc \\\n+    maybe-all-build-flex \\\n+    maybe-all-build-m4 \\\n+    maybe-all-build-texinfo\n .PHONY: all-host\n all-host: maybe-all-gcc  \\\n     maybe-all-ash \\\n@@ -2159,6 +2187,321 @@ all-build-libbanshee: configure-build-libbanshee\n \t(cd $(BUILD_SUBDIR)/libbanshee && $(MAKE)  all)\n @endif build-libbanshee\n \n+.PHONY: configure-build-bison maybe-configure-build-bison\n+maybe-configure-build-bison:\n+@if build-bison\n+maybe-configure-build-bison: configure-build-bison\n+configure-build-bison:\n+\t@test ! -f $(BUILD_SUBDIR)/bison/Makefile || exit 0; \\\n+\t$(SHELL) $(srcdir)/mkinstalldirs $(BUILD_SUBDIR)/bison ; \\\n+\tr=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(BUILD_EXPORTS) \\\n+\techo Configuring in $(BUILD_SUBDIR)/bison; \\\n+\tcd \"$(BUILD_SUBDIR)/bison\" || exit 1; \\\n+\tcase $(srcdir) in \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(BUILD_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n+\tesac; \\\n+\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n+\t  if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/bison \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n+\t      else \\\n+\t        true; \\\n+\t      fi; \\\n+\t    else \\\n+\t      exit 1; \\\n+\t    fi; \\\n+\t  else \\\n+\t    true; \\\n+\t  fi; \\\n+\t  srcdiroption=\"--srcdir=.\"; \\\n+\t  libsrcdir=\".\"; \\\n+\telse \\\n+\t  srcdiroption=\"--srcdir=$${topdir}/bison\"; \\\n+\t  libsrcdir=\"$$s/bison\"; \\\n+\tfi; \\\n+\trm -f no-such-file || : ; \\\n+\tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n+\t  $(BUILD_CONFIGARGS) $${srcdiroption} \\\n+\t  --with-build-subdir=\"$(BUILD_SUBDIR)\"  \\\n+\t  || exit 1\n+@endif build-bison\n+\n+.PHONY: all-build-bison maybe-all-build-bison\n+maybe-all-build-bison:\n+@if build-bison\n+maybe-all-build-bison: all-build-bison\n+all-build-bison: configure-build-bison\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(BUILD_EXPORTS) \\\n+\t(cd $(BUILD_SUBDIR)/bison && $(MAKE)  all)\n+@endif build-bison\n+\n+.PHONY: configure-build-byacc maybe-configure-build-byacc\n+maybe-configure-build-byacc:\n+@if build-byacc\n+maybe-configure-build-byacc: configure-build-byacc\n+configure-build-byacc:\n+\t@test ! -f $(BUILD_SUBDIR)/byacc/Makefile || exit 0; \\\n+\t$(SHELL) $(srcdir)/mkinstalldirs $(BUILD_SUBDIR)/byacc ; \\\n+\tr=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(BUILD_EXPORTS) \\\n+\techo Configuring in $(BUILD_SUBDIR)/byacc; \\\n+\tcd \"$(BUILD_SUBDIR)/byacc\" || exit 1; \\\n+\tcase $(srcdir) in \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(BUILD_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n+\tesac; \\\n+\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n+\t  if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/byacc \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n+\t      else \\\n+\t        true; \\\n+\t      fi; \\\n+\t    else \\\n+\t      exit 1; \\\n+\t    fi; \\\n+\t  else \\\n+\t    true; \\\n+\t  fi; \\\n+\t  srcdiroption=\"--srcdir=.\"; \\\n+\t  libsrcdir=\".\"; \\\n+\telse \\\n+\t  srcdiroption=\"--srcdir=$${topdir}/byacc\"; \\\n+\t  libsrcdir=\"$$s/byacc\"; \\\n+\tfi; \\\n+\trm -f no-such-file || : ; \\\n+\tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n+\t  $(BUILD_CONFIGARGS) $${srcdiroption} \\\n+\t  --with-build-subdir=\"$(BUILD_SUBDIR)\"  \\\n+\t  || exit 1\n+@endif build-byacc\n+\n+.PHONY: all-build-byacc maybe-all-build-byacc\n+maybe-all-build-byacc:\n+@if build-byacc\n+maybe-all-build-byacc: all-build-byacc\n+all-build-byacc: configure-build-byacc\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(BUILD_EXPORTS) \\\n+\t(cd $(BUILD_SUBDIR)/byacc && $(MAKE)  all)\n+@endif build-byacc\n+\n+.PHONY: configure-build-flex maybe-configure-build-flex\n+maybe-configure-build-flex:\n+@if build-flex\n+maybe-configure-build-flex: configure-build-flex\n+configure-build-flex:\n+\t@test ! -f $(BUILD_SUBDIR)/flex/Makefile || exit 0; \\\n+\t$(SHELL) $(srcdir)/mkinstalldirs $(BUILD_SUBDIR)/flex ; \\\n+\tr=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(BUILD_EXPORTS) \\\n+\techo Configuring in $(BUILD_SUBDIR)/flex; \\\n+\tcd \"$(BUILD_SUBDIR)/flex\" || exit 1; \\\n+\tcase $(srcdir) in \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(BUILD_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n+\tesac; \\\n+\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n+\t  if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/flex \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n+\t      else \\\n+\t        true; \\\n+\t      fi; \\\n+\t    else \\\n+\t      exit 1; \\\n+\t    fi; \\\n+\t  else \\\n+\t    true; \\\n+\t  fi; \\\n+\t  srcdiroption=\"--srcdir=.\"; \\\n+\t  libsrcdir=\".\"; \\\n+\telse \\\n+\t  srcdiroption=\"--srcdir=$${topdir}/flex\"; \\\n+\t  libsrcdir=\"$$s/flex\"; \\\n+\tfi; \\\n+\trm -f no-such-file || : ; \\\n+\tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n+\t  $(BUILD_CONFIGARGS) $${srcdiroption} \\\n+\t  --with-build-subdir=\"$(BUILD_SUBDIR)\"  \\\n+\t  || exit 1\n+@endif build-flex\n+\n+.PHONY: all-build-flex maybe-all-build-flex\n+maybe-all-build-flex:\n+@if build-flex\n+maybe-all-build-flex: all-build-flex\n+all-build-flex: configure-build-flex\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(BUILD_EXPORTS) \\\n+\t(cd $(BUILD_SUBDIR)/flex && $(MAKE)  all)\n+@endif build-flex\n+\n+.PHONY: configure-build-m4 maybe-configure-build-m4\n+maybe-configure-build-m4:\n+@if build-m4\n+maybe-configure-build-m4: configure-build-m4\n+configure-build-m4:\n+\t@test ! -f $(BUILD_SUBDIR)/m4/Makefile || exit 0; \\\n+\t$(SHELL) $(srcdir)/mkinstalldirs $(BUILD_SUBDIR)/m4 ; \\\n+\tr=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(BUILD_EXPORTS) \\\n+\techo Configuring in $(BUILD_SUBDIR)/m4; \\\n+\tcd \"$(BUILD_SUBDIR)/m4\" || exit 1; \\\n+\tcase $(srcdir) in \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(BUILD_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n+\tesac; \\\n+\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n+\t  if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/m4 \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n+\t      else \\\n+\t        true; \\\n+\t      fi; \\\n+\t    else \\\n+\t      exit 1; \\\n+\t    fi; \\\n+\t  else \\\n+\t    true; \\\n+\t  fi; \\\n+\t  srcdiroption=\"--srcdir=.\"; \\\n+\t  libsrcdir=\".\"; \\\n+\telse \\\n+\t  srcdiroption=\"--srcdir=$${topdir}/m4\"; \\\n+\t  libsrcdir=\"$$s/m4\"; \\\n+\tfi; \\\n+\trm -f no-such-file || : ; \\\n+\tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n+\t  $(BUILD_CONFIGARGS) $${srcdiroption} \\\n+\t  --with-build-subdir=\"$(BUILD_SUBDIR)\"  \\\n+\t  || exit 1\n+@endif build-m4\n+\n+.PHONY: all-build-m4 maybe-all-build-m4\n+maybe-all-build-m4:\n+@if build-m4\n+maybe-all-build-m4: all-build-m4\n+all-build-m4: configure-build-m4\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(BUILD_EXPORTS) \\\n+\t(cd $(BUILD_SUBDIR)/m4 && $(MAKE)  all)\n+@endif build-m4\n+\n+.PHONY: configure-build-texinfo maybe-configure-build-texinfo\n+maybe-configure-build-texinfo:\n+@if build-texinfo\n+maybe-configure-build-texinfo: configure-build-texinfo\n+configure-build-texinfo:\n+\t@test ! -f $(BUILD_SUBDIR)/texinfo/Makefile || exit 0; \\\n+\t$(SHELL) $(srcdir)/mkinstalldirs $(BUILD_SUBDIR)/texinfo ; \\\n+\tr=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(BUILD_EXPORTS) \\\n+\techo Configuring in $(BUILD_SUBDIR)/texinfo; \\\n+\tcd \"$(BUILD_SUBDIR)/texinfo\" || exit 1; \\\n+\tcase $(srcdir) in \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(BUILD_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n+\tesac; \\\n+\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n+\t  if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/texinfo \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n+\t      else \\\n+\t        true; \\\n+\t      fi; \\\n+\t    else \\\n+\t      exit 1; \\\n+\t    fi; \\\n+\t  else \\\n+\t    true; \\\n+\t  fi; \\\n+\t  srcdiroption=\"--srcdir=.\"; \\\n+\t  libsrcdir=\".\"; \\\n+\telse \\\n+\t  srcdiroption=\"--srcdir=$${topdir}/texinfo\"; \\\n+\t  libsrcdir=\"$$s/texinfo\"; \\\n+\tfi; \\\n+\trm -f no-such-file || : ; \\\n+\tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n+\t  $(BUILD_CONFIGARGS) $${srcdiroption} \\\n+\t  --with-build-subdir=\"$(BUILD_SUBDIR)\"  \\\n+\t  || exit 1\n+@endif build-texinfo\n+\n+.PHONY: all-build-texinfo maybe-all-build-texinfo\n+maybe-all-build-texinfo:\n+@if build-texinfo\n+maybe-all-build-texinfo: all-build-texinfo\n+all-build-texinfo: configure-build-texinfo\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(BUILD_EXPORTS) \\\n+\t(cd $(BUILD_SUBDIR)/texinfo && $(MAKE)  all)\n+@endif build-texinfo\n+\n \n # --------------------------------------\n # Modules which run on the host machine\n@@ -28842,6 +29185,12 @@ profiledbootstrap: all-bootstrap configure-gcc\n # are specified by depending on a 'maybe-' target.  If you're not sure,\n # it's safer to use a soft dependency.\n \n+# Build modules\n+all-build-bison: maybe-all-build-texinfo\n+all-build-flex: maybe-all-build-texinfo\n+all-build-libiberty: maybe-all-build-texinfo\n+all-build-m4: maybe-all-build-libiberty maybe-all-build-texinfo\n+\n # Host modules specific to gcc.\n # GCC needs to identify certain tools.\n # GCC also needs the information exported by the intl configure script."}, {"sha": "014aa879ce768547d3668a72ba4333682f3d8168", "filename": "Makefile.tpl", "status": "modified", "additions": 65, "deletions": 36, "changes": 101, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=23f6b2f91e6a3a8570f2b4214e3faee872ae1d82", "patch": "@@ -113,11 +113,23 @@ BUILD_SUBDIR = @build_subdir@\n # This is set by the configure script to the arguments to use when configuring\n # directories built for the build system.\n BUILD_CONFIGARGS = @build_configargs@\n+\n+# This is the list of variables to export in the environment when\n+# configuring any subdirectory.  It must also be exported whenever\n+# recursing into a build directory in case that directory's Makefile\n+# re-runs configure.\n+BASE_EXPORTS = \\\n+\tFLEX=\"$(FLEX)\"; export FLEX; \\\n+\tLEX=\"$(LEX)\"; export LEX; \\\n+\tBISON=\"$(BISON)\"; export BISON; \\\n+\tYACC=\"$(YACC)\"; export YACC; \\\n+\tM4=\"$(M4)\"; export M4; \\\n+\tMAKEINFO=\"$(MAKEINFO)\"; export MAKEINFO;\n+\n # This is the list of variables to export in the environment when\n-# configuring subdirectories for the build system.  It must also be\n-# exported whenever recursing into a build directory in case that\n-# directory's Makefile re-runs configure.\n+# configuring subdirectories for the build system.\n BUILD_EXPORTS = \\\n+\t$(BASE_EXPORTS) \\\n \tAR=\"$(AR_FOR_BUILD)\"; export AR; \\\n \tAS=\"$(AS_FOR_BUILD)\"; export AS; \\\n \tCC=\"$(CC_FOR_BUILD)\"; export CC; \\\n@@ -140,10 +152,9 @@ SUBDIRS = @configdirs@\n # directories built for the host system.\n HOST_CONFIGARGS = @host_configargs@\n # This is the list of variables to export in the environment when\n-# configuring subdirectories for the host system.  It must also be\n-# exported whenever recursing into a host directory in case that\n-# directory's Makefile re-runs configure.\n+# configuring subdirectories for the host system.\n HOST_EXPORTS = \\\n+\t$(BASE_EXPORTS) \\\n \tCC=\"$(CC)\"; export CC; \\\n \tCFLAGS=\"$(CFLAGS)\"; export CFLAGS; \\\n \tCONFIG_SHELL=\"$(SHELL)\"; export CONFIG_SHELL; \\\n@@ -179,10 +190,9 @@ TARGET_SUBDIR = @target_subdir@\n # directories built for the target.\n TARGET_CONFIGARGS = @target_configargs@\n # This is the list of variables to export in the environment when\n-# configuring subdirectories for the host system.  It must also be\n-# exported whenever recursing into a host directory in case that\n-# directory's Makefile re-runs configure.\n+# configuring subdirectories for the host system.\n BASE_TARGET_EXPORTS = \\\n+\t$(BASE_EXPORTS) \\\n \tAR=\"$(AR_FOR_TARGET)\"; export AR; \\\n \tAS=\"$(AS_FOR_TARGET)\"; export AS; \\\n \tCC=\"$(CC_FOR_TARGET)\"; export CC; \\\n@@ -233,47 +243,55 @@ CFLAGS_FOR_BUILD = @CFLAGS_FOR_BUILD@\n \n CXX_FOR_BUILD = $(CXX)\n \n+# Path to the build directory for a Canadian cross, empty otherwise.\n+BUILD_DIR_PREFIX = @BUILD_DIR_PREFIX@\n+\n # Special variables passed down in EXTRA_GCC_FLAGS.  They are defined\n # here so that they can be overridden by Makefile fragments.\n BUILD_PREFIX = @BUILD_PREFIX@\n BUILD_PREFIX_1 = @BUILD_PREFIX_1@\n \n-BISON=@BISON@\n-USUAL_BISON = `if [ -f $$r/bison/bison ] ; then \\\n-\t    echo $$r/bison/bison -L $$s/bison/ ; \\\n+CONFIGURED_BISON = @CONFIGURED_BISON@\n+BISON = `if [ -f $$r/$(BUILD_DIR_PREFIX)/bison/bison ] ; then \\\n+\t    echo $$r/$(BUILD_DIR_PREFIX)/bison/bison -L $$s/bison/ ; \\\n \t else \\\n-\t    echo bison ; \\\n+\t    echo ${CONFIGURED_BISON} ; \\\n \t fi`\n \n-DEFAULT_YACC = @DEFAULT_YACC@\n-YACC=@YACC@\n-USUAL_YACC = `if [ -f $$r/bison/bison ] ; then \\\n-\t    echo $$r/bison/bison -y -L $$s/bison/ ; \\\n-\telif [ -f $$r/byacc/byacc ] ; then \\\n-\t    echo $$r/byacc/byacc ; \\\n+CONFIGURED_YACC = @CONFIGURED_YACC@\n+YACC = `if [ -f $$s/$(BUILD_DIR_PREFIX)/bison/bison ] ; then \\\n+\t    echo $$r/$(BUILD_DIR_PREFIX)/bison/bison -y -L $$s/bison/ ; \\\n+\telif [ -f $$s/$(BUILD_DIR_PREFIX)/byacc/byacc ] ; then \\\n+\t    echo $$r/$(BUILD_DIR_PREFIX)/byacc/byacc ; \\\n \telse \\\n-\t    echo ${DEFAULT_YACC} ; \\\n+\t    echo ${CONFIGURED_YACC} ; \\\n \tfi`\n \n-DEFAULT_LEX = @DEFAULT_LEX@\n-LEX=@LEX@\n-USUAL_LEX = `if [ -f $$r/flex/flex ] ; \\\n-\tthen echo $$r/flex/flex ; \\\n-\telse echo ${DEFAULT_LEX} ; fi`\n+CONFIGURED_FLEX = @CONFIGURED_FLEX@\n+FLEX = `if [ -f $$r/$(BUILD_DIR_PREFIX)/flex/flex ] ; \\\n+\tthen echo $$r/$(BUILD_DIR_PREFIX)/flex/flex ; \\\n+\telse echo ${CONFIGURED_FLEX} ; fi`\n+\n+CONFIGURED_LEX = @CONFIGURED_LEX@\n+LEX = `if [ -f $$r/$(BUILD_DIR_PREFIX)/flex/flex ] ; \\\n+\tthen echo $$r/$(BUILD_DIR_PREFIX)/flex/flex ; \\\n+\telse echo ${CONFIGURED_LEX} ; fi`\n \n-DEFAULT_M4 = @DEFAULT_M4@\n-M4 = `if [ -f $$r/m4/m4 ] ; \\\n-\tthen echo $$r/m4/m4 ; \\\n-\telse echo ${DEFAULT_M4} ; fi`\n+CONFIGURED_M4 = @CONFIGURED_M4@\n+M4 = `if [ -f $$r/$(BUILD_DIR_PREFIX)/m4/m4 ] ; \\\n+\tthen echo $$r/$(BUILD_DIR_PREFIX)/m4/m4 ; \\\n+\telse echo ${CONFIGURED_M4} ; fi`\n \n # For an installed makeinfo, we require it to be from texinfo 4.2 or\n-# higher, else we use the \"missing\" dummy.\n-MAKEINFO=@MAKEINFO@\n-USUAL_MAKEINFO = `if [ -f $$r/texinfo/makeinfo/makeinfo ] ; \\\n-\tthen echo $$r/texinfo/makeinfo/makeinfo ; \\\n-\telse if (makeinfo --version \\\n+# higher, else we use the \"missing\" dummy.  We also pass the subdirectory\n+# makeinfo even if only the Makefile is there, because Texinfo builds its\n+# manual when made, and it requires its own version.\n+CONFIGURED_MAKEINFO = @CONFIGURED_MAKEINFO@\n+MAKEINFO = `if [ -f $$r/$(BUILD_DIR_PREFIX)/texinfo/makeinfo/Makefile ] ; \\\n+\tthen echo $$r/$(BUILD_DIR_PREFIX)/texinfo/makeinfo/makeinfo ; \\\n+\telse if (${CONFIGURED_MAKEINFO} --version \\\n \t  | egrep 'texinfo[^0-9]*([1-3][0-9]|4\\.[2-9]|[5-9])') >/dev/null 2>&1; \\\n-        then echo makeinfo; else echo $$s/missing makeinfo; fi; fi`\n+        then echo ${CONFIGURED_MAKEINFO}; else echo $$s/missing makeinfo; fi; fi`\n \n # This just becomes part of the MAKEINFO definition passed down to\n # sub-makes.  It lets flags be given on the command line while still\n@@ -577,8 +595,13 @@ configure-target: [+\n \n # The target built for a native non-bootstrap build.\n .PHONY: all\n-all: @all_build_modules@ all-host all-target\n+all: all-build all-host all-target\n \n+.PHONY: all-build\n+all-build: [+\n+  FOR build_modules +] \\\n+    maybe-all-build-[+module+][+\n+  ENDFOR build_modules +]\n .PHONY: all-host\n all-host: maybe-all-gcc [+\n   FOR host_modules +] \\\n@@ -1642,6 +1665,12 @@ profiledbootstrap: all-bootstrap configure-gcc\n # are specified by depending on a 'maybe-' target.  If you're not sure,\n # it's safer to use a soft dependency.\n \n+# Build modules\n+all-build-bison: maybe-all-build-texinfo\n+all-build-flex: maybe-all-build-texinfo\n+all-build-libiberty: maybe-all-build-texinfo\n+all-build-m4: maybe-all-build-libiberty maybe-all-build-texinfo\n+\n # Host modules specific to gcc.\n # GCC needs to identify certain tools.\n # GCC also needs the information exported by the intl configure script."}, {"sha": "ed10f36b0d690fe4e03248402fd4062c4fbc78b7", "filename": "configure", "status": "modified", "additions": 266, "deletions": 279, "changes": 545, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=23f6b2f91e6a3a8570f2b4214e3faee872ae1d82", "patch": "@@ -877,6 +877,14 @@ fi\n # Double entries in build_configdirs, configdirs, or target_configdirs may\n # cause circular dependencies and break everything horribly.\n \n+# these library is used by various programs built for the build\n+# environment\n+#\n+build_libs=\"build-libiberty\"\n+\n+# these tools are built for the build environment\n+build_tools=\"build-texinfo build-byacc build-flex build-bison build-m4\"\n+\n # these libraries are used by various programs built for the host environment\n #\n host_libs=\"intl mmalloc libiberty opcodes bfd readline tcl tk itcl tix libgui zlib libbanshee libcpp\"\n@@ -924,20 +932,14 @@ target_tools=\"target-examples target-groff target-gperf target-rda\"\n ## is important because configure will choke if they ever get through.\n ## ${configdirs} is directories we build using the host tools.\n ## ${target_configdirs} is directories we build using the target tools.\n-#\n configdirs=`echo ${host_libs} ${host_tools}`\n target_configdirs=`echo ${target_libraries} ${target_tools}`\n \n # Only make build modules if build != host.\n-# This should be done more generally, but at the moment it doesn't matter.\n if test ${host_alias} != ${build_alias} ; then\n-  # This is the only build module.\n-  build_modules=libiberty\n-else\n-  build_modules=\n+  build_configdirs=`echo ${build_libs} ${build_tools}`\n fi\n \n-\n ################################################################################\n \n srcname=\"gnu development package\"\n@@ -1736,7 +1738,6 @@ if test \"${build}\" != \"${host}\" ; then\n   # If we are doing a Canadian Cross, in which the host and build systems\n   # are not the same, we set reasonable default values for the tools.\n \n-  BISON=${BISON-bison}\n   CC=${CC-${host_alias}-gcc}\n   CFLAGS=${CFLAGS-\"-g -O2\"}\n   CXX=${CXX-${host_alias}-c++}\n@@ -1746,49 +1747,9 @@ if test \"${build}\" != \"${host}\" ; then\n   CXX_FOR_TARGET=${CXX_FOR_TARGET-${target_alias}-c++}\n   GCJ_FOR_TARGET=${GCJ_FOR_TARGET-${target_alias}-gcj}\n   GCC_FOR_TARGET=${GCC_FOR_TARGET-${CC_FOR_TARGET-${target_alias}-gcc}}\n+  BUILD_DIR_PREFIX=${build_subdir}\n   BUILD_PREFIX=${build_alias}-\n   BUILD_PREFIX_1=${build_alias}-\n-  MAKEINFO=${MAKEINFO-makeinfo}\n-\n-  if test -z \"${YACC}\" ; then\n-    IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-    for dir in $PATH; do\n-      test -z \"$dir\" && dir=.\n-      if test -f $dir/bison; then\n-\tYACC=\"bison -y\"\n-\tbreak\n-      fi\n-      if test -f $dir/byacc; then\n-\tYACC=byacc\n-\tbreak\n-      fi\n-      if test -f $dir/yacc; then\n-\tYACC=yacc\n-\tbreak\n-      fi\n-    done\n-    IFS=\"$save_ifs\"\n-    if test -z \"${YACC}\" ; then\n-      YACC=\"bison -y\"\n-    fi\n-  fi\n-\n-  if test -z \"${LEX}\" ; then\n-    IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-    for dir in $PATH; do\n-      test -z \"$dir\" && dir=.\n-      if test -f $dir/flex; then\n-\tLEX=flex\n-\tbreak\n-      fi\n-      if test -f $dir/lex; then\n-\tLEX=lex\n-\tbreak\n-      fi\n-    done\n-    IFS=\"$save_ifs\"\n-    LEX=${LEX-flex}\n-  fi\n \n else\n   # Set reasonable default values for some tools even if not Canadian.\n@@ -1799,100 +1760,16 @@ else\n   # in Makefile.in, so can still be overridden by fragments.\n   # This is all going to change when we autoconfiscate...\n \n-  BISON=\"\\$(USUAL_BISON)\"\n   CC_FOR_BUILD=\"\\$(CC)\"\n   GCC_FOR_TARGET=\"\\$(USUAL_GCC_FOR_TARGET)\"\n+  BUILD_DIR_PREFIX=\n   BUILD_PREFIX=\n   BUILD_PREFIX_1=loser-\n-  MAKEINFO=\"\\$(USUAL_MAKEINFO)\"\n-  LEX=\"\\$(USUAL_LEX)\"\n-  YACC=\"\\$(USUAL_YACC)\"\n-\n-  # If CC is still not set, try to get gcc.\n-  cc_prog_is_gcc=\n-  if test -z \"${CC}\" ; then\n-    IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-    for dir in $PATH; do\n-      test -z \"$dir\" && dir=.\n-      if test -f $dir/gcc; then\n-\tCC=\"gcc\"\n-\tcc_prog_is_gcc=yes\n-\techo 'void f(){}' > conftest.c\n-\tif test -z \"`${CC} -g -c conftest.c 2>&1`\"; then\n-\t  CFLAGS=${CFLAGS-\"-g -O2\"}\n-\t  CXXFLAGS=${CXXFLAGS-\"-g -O2\"}\n-\telse\n-\t  CFLAGS=${CFLAGS-\"-O2\"}\n-\t  CXXFLAGS=${CXXFLAGS-\"-O2\"}\n-\tfi\n-\trm -f conftest*\n-\tbreak\n-      fi\n-    done\n-    IFS=\"$save_ifs\"\n-    CC=${CC-cc}\n-  else\n-    # Determine if we are using gcc.\n-    cat > conftest.c <<EOF\n-#ifdef __GNUC__\n-  yes;\n-#endif\n-EOF\n-    if ${CC} -E conftest.c | grep yes >/dev/null 2>&1; then\n-      cc_prog_is_gcc=yes\n-    fi\n-    rm -f conftest.c\n-    if test -z \"${CFLAGS}\"; then\n-      # Here CC is set but CFLAGS is not.  Use a quick hack to use -O2 if CC\n-      # is set to a version of gcc.\n-      if test \"$cc_prog_is_gcc\" = yes; then\n-\techo 'void f(){}' > conftest.c\n-\tif test -z \"`${CC} -g -c conftest.c 2>&1`\"; then\n-\t  CFLAGS=${CFLAGS-\"-g -O2\"}\n-\t  CXXFLAGS=${CXXFLAGS-\"-g -O2\"}\n-\telse\n-\t  CFLAGS=${CFLAGS-\"-O2\"}\n-\t  CXXFLAGS=${CXXFLAGS-\"-O2\"}\n-\tfi\n-\trm -f conftest*\n-      fi\n-    fi\n-  fi\n \n-  # We must set the default linker to the linker used by gcc for the correct\n-  # operation of libtool.  If LD is not defined and we are using gcc, try to\n-  # set the LD default to the ld used by gcc.\n-  if test -z \"$LD\"; then\n-    if test \"$cc_prog_is_gcc\" = yes; then\n-      case $build in\n-      *-*-mingw*)\n-\tgcc_prog_ld=`$CC -print-prog-name=ld 2>&1 | tr -d '\\015'` ;;\n-      *)\n-\tgcc_prog_ld=`$CC -print-prog-name=ld 2>&1` ;;\n-      esac\n-      case $gcc_prog_ld in\n-      # Accept absolute paths.\n-      [\\\\/]* | [A-Za-z]:[\\\\/]*)\n-        LD=\"$gcc_prog_ld\" ;;\n-      esac\n-    fi\n-  fi\n-\n-  CXX=${CXX-\"c++\"}\n-  CFLAGS=${CFLAGS-\"-g\"}\n-  CXXFLAGS=${CXXFLAGS-\"-g -O2\"}\n-fi\n-\n-if test $host != $build; then\n-  ac_tool_prefix=${host_alias}-\n-else\n-  ac_tool_prefix=\n-fi\n-\n-# Extract the first word of \"gcc\", so it can be a program name with args.\n+  # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1896: checking for $ac_word\" >&5\n+echo \"configure:1773: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1922,7 +1799,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1926: checking for $ac_word\" >&5\n+echo \"configure:1803: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1973,7 +1850,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1977: checking for $ac_word\" >&5\n+echo \"configure:1854: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2005,7 +1882,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:2009: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1886: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -2016,12 +1893,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 2020 \"configure\"\n+#line 1897 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:2025: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1902: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -2047,12 +1924,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:2051: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:1928: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:2056: checking whether we are using GNU C\" >&5\n+echo \"configure:1933: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2061,7 +1938,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:2065: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1942: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -2080,7 +1957,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:2084: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1961: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2112,11 +1989,42 @@ else\n fi\n \n \n+  # We must set the default linker to the linker used by gcc for the correct\n+  # operation of libtool.  If LD is not defined and we are using gcc, try to\n+  # set the LD default to the ld used by gcc.\n+  if test -z \"$LD\"; then\n+    if test \"$GCC\" = yes; then\n+      case $build in\n+      *-*-mingw*)\n+\tgcc_prog_ld=`$CC -print-prog-name=ld 2>&1 | tr -d '\\015'` ;;\n+      *)\n+\tgcc_prog_ld=`$CC -print-prog-name=ld 2>&1` ;;\n+      esac\n+      case $gcc_prog_ld in\n+      # Accept absolute paths.\n+      [\\\\/]* | [A-Za-z]:[\\\\/]*)\n+        LD=\"$gcc_prog_ld\" ;;\n+      esac\n+    fi\n+  fi\n+\n+  CXX=${CXX-\"c++\"}\n+  CFLAGS=${CFLAGS-\"-g\"}\n+  CXXFLAGS=${CXXFLAGS-\"-g -O2\"}\n+fi\n+\n+if test $host != $build; then\n+  ac_tool_prefix=${host_alias}-\n+else\n+  ac_tool_prefix=\n+fi\n+\n+\n \n # Extract the first word of \"${ac_tool_prefix}gnatbind\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2120: checking for $ac_word\" >&5\n+echo \"configure:2028: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2148,7 +2056,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"gnatbind\", so it can be a program name with args.\n set dummy gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2152: checking for $ac_word\" >&5\n+echo \"configure:2060: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2181,7 +2089,7 @@ fi\n fi\n \n echo $ac_n \"checking whether compiler driver understands Ada\"\"... $ac_c\" 1>&6\n-echo \"configure:2185: checking whether compiler driver understands Ada\" >&5\n+echo \"configure:2093: checking whether compiler driver understands Ada\" >&5\n if eval \"test \\\"`echo '$''{'acx_cv_cc_gcc_supports_ada'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2214,7 +2122,7 @@ else\n fi\n \n echo $ac_n \"checking how to compare bootstrapped objects\"\"... $ac_c\" 1>&6\n-echo \"configure:2218: checking how to compare bootstrapped objects\" >&5\n+echo \"configure:2126: checking how to compare bootstrapped objects\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_cmp_skip'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2287,9 +2195,9 @@ saved_CFLAGS=\"$CFLAGS\"\n CFLAGS=\"$CFLAGS $gmpinc\"\n # Check GMP actually works\n echo $ac_n \"checking for correct version of gmp.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2291: checking for correct version of gmp.h\" >&5\n+echo \"configure:2199: checking for correct version of gmp.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 2293 \"configure\"\n+#line 2201 \"configure\"\n #include \"confdefs.h\"\n #include \"gmp.h\"\n int main() {\n@@ -2300,7 +2208,7 @@ choke me\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2304: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2212: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   echo \"$ac_t\"\"yes\" 1>&6\n else\n@@ -2313,19 +2221,19 @@ rm -f conftest*\n \n if test x\"$have_gmp\" = xyes; then\n   echo $ac_n \"checking for mpf_init in -lgmp\"\"... $ac_c\" 1>&6\n-echo \"configure:2317: checking for mpf_init in -lgmp\" >&5\n+echo \"configure:2225: checking for mpf_init in -lgmp\" >&5\n \n   saved_LIBS=\"$LIBS\"\n   LIBS=\"$LIBS $gmplibs\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2322 \"configure\"\n+#line 2230 \"configure\"\n #include \"confdefs.h\"\n #include <gmp.h>\n int main() {\n mpf_t n; mpf_init(n);\n ; return 0; }\n EOF\n-if { (eval echo configure:2329: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2237: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   echo \"$ac_t\"\"yes\" 1>&6\n else\n@@ -2531,13 +2439,23 @@ fi\n # Quietly strip out all directories which aren't configurable in this tree.\n # This relies on all configurable subdirectories being autoconfiscated, which\n # is now the case.\n+build_configdirs_all=\"$build_configdirs\"\n+build_configdirs=\n+for i in ${build_configdirs_all} ; do\n+  j=`echo $i | sed -e s/build-//g` \n+  if test -f ${srcdir}/$j/configure ; then\n+    build_configdirs=\"${build_configdirs} $i\"\n+  fi\n+done\n+\n configdirs_all=\"$configdirs\"\n configdirs=\n for i in ${configdirs_all} ; do\n   if test -f ${srcdir}/$i/configure ; then\n     configdirs=\"${configdirs} $i\"\n   fi\n done\n+\n target_configdirs_all=\"$target_configdirs\"\n target_configdirs=\n for i in ${target_configdirs_all} ; do\n@@ -2564,7 +2482,7 @@ if test -n \"${notsupp}\" && test -z \"${norecursion}\" ; then\n \t  appdirs=\"\"\n \t  break\n \tfi\n-\tif echo \" ${target_configdirs} \" | grep \" ${dir} \" >/dev/null 2>&1; then\n+\tif echo \" ${target_configdirs} \" | grep \" target-${dir} \" >/dev/null 2>&1; then\n \t  appdirs=\"\"\n \t  break\n \tfi\n@@ -2779,113 +2697,219 @@ esac\n tooldir='${exec_prefix}'/${target_alias}\n build_tooldir=${tooldir}\n \n-# Generate default definitions for YACC, M4, LEX.  These are used if the\n-# Makefile can't locate these programs in objdir.\n+# Generate default definitions for YACC, M4, LEX and other programs that run\n+# on the build machine.  These are used if the Makefile can't locate these\n+# programs in objdir.\n MISSING=`cd $ac_aux_dir && ${PWDCMD-pwd}`/missing\n+for ac_prog in bison\n+do\n+# Extract the first word of \"$ac_prog\", so it can be a program name with args.\n+set dummy $ac_prog; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2710: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_BISON'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$CONFIGURED_BISON\"; then\n+  ac_cv_prog_CONFIGURED_BISON=\"$CONFIGURED_BISON\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_CONFIGURED_BISON=\"$ac_prog\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+CONFIGURED_BISON=\"$ac_cv_prog_CONFIGURED_BISON\"\n+if test -n \"$CONFIGURED_BISON\"; then\n+  echo \"$ac_t\"\"$CONFIGURED_BISON\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+test -n \"$CONFIGURED_BISON\" && break\n+done\n+test -n \"$CONFIGURED_BISON\" || CONFIGURED_BISON=\"$MISSING bison\"\n+\n for ac_prog in 'bison -y' byacc yacc\n do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2791: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_DEFAULT_YACC'+set}'`\\\" = set\"; then\n+echo \"configure:2745: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_YACC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  if test -n \"$DEFAULT_YACC\"; then\n-  ac_cv_prog_DEFAULT_YACC=\"$DEFAULT_YACC\" # Let the user override the test.\n+  if test -n \"$CONFIGURED_YACC\"; then\n+  ac_cv_prog_CONFIGURED_YACC=\"$CONFIGURED_YACC\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n   ac_dummy=\"$PATH\"\n   for ac_dir in $ac_dummy; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_DEFAULT_YACC=\"$ac_prog\"\n+      ac_cv_prog_CONFIGURED_YACC=\"$ac_prog\"\n       break\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n fi\n fi\n-DEFAULT_YACC=\"$ac_cv_prog_DEFAULT_YACC\"\n-if test -n \"$DEFAULT_YACC\"; then\n-  echo \"$ac_t\"\"$DEFAULT_YACC\" 1>&6\n+CONFIGURED_YACC=\"$ac_cv_prog_CONFIGURED_YACC\"\n+if test -n \"$CONFIGURED_YACC\"; then\n+  echo \"$ac_t\"\"$CONFIGURED_YACC\" 1>&6\n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n-test -n \"$DEFAULT_YACC\" && break\n+test -n \"$CONFIGURED_YACC\" && break\n done\n-test -n \"$DEFAULT_YACC\" || DEFAULT_YACC=\"$MISSING bison\"\n+test -n \"$CONFIGURED_YACC\" || CONFIGURED_YACC=\"$MISSING bison -y\"\n \n for ac_prog in gm4 gnum4 m4\n do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2826: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_DEFAULT_M4'+set}'`\\\" = set\"; then\n+echo \"configure:2780: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_M4'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$CONFIGURED_M4\"; then\n+  ac_cv_prog_CONFIGURED_M4=\"$CONFIGURED_M4\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_CONFIGURED_M4=\"$ac_prog\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+CONFIGURED_M4=\"$ac_cv_prog_CONFIGURED_M4\"\n+if test -n \"$CONFIGURED_M4\"; then\n+  echo \"$ac_t\"\"$CONFIGURED_M4\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+test -n \"$CONFIGURED_M4\" && break\n+done\n+test -n \"$CONFIGURED_M4\" || CONFIGURED_M4=\"$MISSING m4\"\n+\n+for ac_prog in flex\n+do\n+# Extract the first word of \"$ac_prog\", so it can be a program name with args.\n+set dummy $ac_prog; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2815: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_FLEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  if test -n \"$DEFAULT_M4\"; then\n-  ac_cv_prog_DEFAULT_M4=\"$DEFAULT_M4\" # Let the user override the test.\n+  if test -n \"$CONFIGURED_FLEX\"; then\n+  ac_cv_prog_CONFIGURED_FLEX=\"$CONFIGURED_FLEX\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n   ac_dummy=\"$PATH\"\n   for ac_dir in $ac_dummy; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_DEFAULT_M4=\"$ac_prog\"\n+      ac_cv_prog_CONFIGURED_FLEX=\"$ac_prog\"\n       break\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n fi\n fi\n-DEFAULT_M4=\"$ac_cv_prog_DEFAULT_M4\"\n-if test -n \"$DEFAULT_M4\"; then\n-  echo \"$ac_t\"\"$DEFAULT_M4\" 1>&6\n+CONFIGURED_FLEX=\"$ac_cv_prog_CONFIGURED_FLEX\"\n+if test -n \"$CONFIGURED_FLEX\"; then\n+  echo \"$ac_t\"\"$CONFIGURED_FLEX\" 1>&6\n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n-test -n \"$DEFAULT_M4\" && break\n+test -n \"$CONFIGURED_FLEX\" && break\n done\n-test -n \"$DEFAULT_M4\" || DEFAULT_M4=\"$MISSING m4\"\n+test -n \"$CONFIGURED_FLEX\" || CONFIGURED_FLEX=\"$MISSING flex\"\n \n for ac_prog in flex lex\n do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2861: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_DEFAULT_LEX'+set}'`\\\" = set\"; then\n+echo \"configure:2850: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_LEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  if test -n \"$DEFAULT_LEX\"; then\n-  ac_cv_prog_DEFAULT_LEX=\"$DEFAULT_LEX\" # Let the user override the test.\n+  if test -n \"$CONFIGURED_LEX\"; then\n+  ac_cv_prog_CONFIGURED_LEX=\"$CONFIGURED_LEX\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n   ac_dummy=\"$PATH\"\n   for ac_dir in $ac_dummy; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_DEFAULT_LEX=\"$ac_prog\"\n+      ac_cv_prog_CONFIGURED_LEX=\"$ac_prog\"\n       break\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n fi\n fi\n-DEFAULT_LEX=\"$ac_cv_prog_DEFAULT_LEX\"\n-if test -n \"$DEFAULT_LEX\"; then\n-  echo \"$ac_t\"\"$DEFAULT_LEX\" 1>&6\n+CONFIGURED_LEX=\"$ac_cv_prog_CONFIGURED_LEX\"\n+if test -n \"$CONFIGURED_LEX\"; then\n+  echo \"$ac_t\"\"$CONFIGURED_LEX\" 1>&6\n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n-test -n \"$DEFAULT_LEX\" && break\n+test -n \"$CONFIGURED_LEX\" && break\n done\n-test -n \"$DEFAULT_LEX\" || DEFAULT_LEX=\"$MISSING flex\"\n+test -n \"$CONFIGURED_LEX\" || CONFIGURED_LEX=\"$MISSING flex\"\n+\n+for ac_prog in makeinfo\n+do\n+# Extract the first word of \"$ac_prog\", so it can be a program name with args.\n+set dummy $ac_prog; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2885: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_MAKEINFO'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$CONFIGURED_MAKEINFO\"; then\n+  ac_cv_prog_CONFIGURED_MAKEINFO=\"$CONFIGURED_MAKEINFO\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_CONFIGURED_MAKEINFO=\"$ac_prog\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+CONFIGURED_MAKEINFO=\"$ac_cv_prog_CONFIGURED_MAKEINFO\"\n+if test -n \"$CONFIGURED_MAKEINFO\"; then\n+  echo \"$ac_t\"\"$CONFIGURED_MAKEINFO\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+test -n \"$CONFIGURED_MAKEINFO\" && break\n+done\n+test -n \"$CONFIGURED_MAKEINFO\" || CONFIGURED_MAKEINFO=\"$MISSING makeinfo\"\n \n \n # Create a .gdbinit file which runs the one in srcdir\n@@ -2969,17 +2993,7 @@ esac\n # Record target_configdirs and the configure arguments for target and\n # build configuration in Makefile.\n target_configdirs=`echo \"${target_configdirs}\" | sed -e 's/target-//g'`\n-\n-# This is the final value for target_configdirs.  configdirs already\n-# has its final value, as does build_modules.  It's time to create some \n-# lists of valid targets.\n-\n-all_build_modules=\n-configure_build_modules=\n-for module in ${build_modules} ; do\n-  all_build_modules=all-build-${module}\n-  configure_build_modules=configure-build-${module}\n-done\n+build_configdirs=`echo \"${build_configdirs}\" | sed -e 's/build-//g'`\n \n # Determine whether gdb needs tk/tcl or not.\n # Use 'maybe' since enable_gdbtk might be true even if tk isn't available\n@@ -3050,7 +3064,7 @@ case \"$enable_bootstrap\" in\n esac\n \n \n-for module in ${build_modules} ; do\n+for module in ${build_configdirs} ; do\n   if test -z \"${no_recursion}\" \\\n      && test -f ${build_subdir}/${module}/Makefile; then\n     echo 1>&2 \"*** removing ${build_subdir}/${module}/Makefile to force reconfigure\"\n@@ -3438,8 +3452,8 @@ ospace_frag=${srcdir}/${ospace_frag}\n \n \n \n-# Build module lists & subconfigure args.\n \n+# Build module lists & subconfigure args.\n \n \n \n@@ -3455,10 +3469,6 @@ ospace_frag=${srcdir}/${ospace_frag}\n \n \n \n-\n-\n-\n-\n # Host tools.\n ncn_tool_prefix=\n test -n \"$host_alias\" && ncn_tool_prefix=$host_alias-\n@@ -3469,7 +3479,7 @@ test -n \"$target_alias\" && ncn_target_tool_prefix=$target_alias-\n   # Extract the first word of \"${ncn_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3473: checking for $ac_word\" >&5\n+echo \"configure:3483: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3502,7 +3512,7 @@ if test -z \"$ac_cv_prog_AR\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3506: checking for $ac_word\" >&5\n+echo \"configure:3516: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3541,7 +3551,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3545: checking for $ac_word\" >&5\n+echo \"configure:3555: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3574,7 +3584,7 @@ if test -z \"$ac_cv_prog_AS\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3578: checking for $ac_word\" >&5\n+echo \"configure:3588: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3613,7 +3623,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3617: checking for $ac_word\" >&5\n+echo \"configure:3627: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3646,7 +3656,7 @@ if test -z \"$ac_cv_prog_DLLTOOL\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3650: checking for $ac_word\" >&5\n+echo \"configure:3660: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3685,7 +3695,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3689: checking for $ac_word\" >&5\n+echo \"configure:3699: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3718,7 +3728,7 @@ if test -z \"$ac_cv_prog_LD\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3722: checking for $ac_word\" >&5\n+echo \"configure:3732: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3757,7 +3767,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3761: checking for $ac_word\" >&5\n+echo \"configure:3771: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3790,7 +3800,7 @@ if test -z \"$ac_cv_prog_NM\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3794: checking for $ac_word\" >&5\n+echo \"configure:3804: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3829,7 +3839,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3833: checking for $ac_word\" >&5\n+echo \"configure:3843: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3862,7 +3872,7 @@ if test -z \"$ac_cv_prog_RANLIB\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3866: checking for $ac_word\" >&5\n+echo \"configure:3876: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3901,7 +3911,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3905: checking for $ac_word\" >&5\n+echo \"configure:3915: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3934,7 +3944,7 @@ if test -z \"$ac_cv_prog_WINDRES\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3938: checking for $ac_word\" >&5\n+echo \"configure:3948: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3973,7 +3983,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objcopy\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3977: checking for $ac_word\" >&5\n+echo \"configure:3987: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4006,7 +4016,7 @@ if test -z \"$ac_cv_prog_OBJCOPY\" ; then\n     # Extract the first word of \"objcopy\", so it can be a program name with args.\n set dummy objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4010: checking for $ac_word\" >&5\n+echo \"configure:4020: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4045,7 +4055,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objdump\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4049: checking for $ac_word\" >&5\n+echo \"configure:4059: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4078,7 +4088,7 @@ if test -z \"$ac_cv_prog_OBJDUMP\" ; then\n     # Extract the first word of \"objdump\", so it can be a program name with args.\n set dummy objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4082: checking for $ac_word\" >&5\n+echo \"configure:4092: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4119,15 +4129,12 @@ fi\n \n \n \n-\n-\n-\n # Target tools.\n  if test -n \"$ncn_target_tool_prefix\"; then\n   # Extract the first word of \"${ncn_target_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4131: checking for $ac_word\" >&5\n+echo \"configure:4138: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4160,7 +4167,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_AR_FOR_TARGET\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4164: checking for $ac_word\" >&5\n+echo \"configure:4171: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4199,7 +4206,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4203: checking for $ac_word\" >&5\n+echo \"configure:4210: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4232,7 +4239,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_AS_FOR_TARGET\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4236: checking for $ac_word\" >&5\n+echo \"configure:4243: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4271,7 +4278,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4275: checking for $ac_word\" >&5\n+echo \"configure:4282: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4304,7 +4311,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4308: checking for $ac_word\" >&5\n+echo \"configure:4315: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4343,7 +4350,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4347: checking for $ac_word\" >&5\n+echo \"configure:4354: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4376,7 +4383,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_LD_FOR_TARGET\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4380: checking for $ac_word\" >&5\n+echo \"configure:4387: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4415,7 +4422,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4419: checking for $ac_word\" >&5\n+echo \"configure:4426: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4448,7 +4455,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_NM_FOR_TARGET\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4452: checking for $ac_word\" >&5\n+echo \"configure:4459: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4487,7 +4494,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4491: checking for $ac_word\" >&5\n+echo \"configure:4498: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4520,7 +4527,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4524: checking for $ac_word\" >&5\n+echo \"configure:4531: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4559,7 +4566,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4563: checking for $ac_word\" >&5\n+echo \"configure:4570: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4592,7 +4599,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4596: checking for $ac_word\" >&5\n+echo \"configure:4603: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4677,7 +4684,7 @@ RANLIB_FOR_TARGET=${RANLIB_FOR_TARGET}${extra_ranlibflags_for_target}\n NM_FOR_TARGET=${NM_FOR_TARGET}${extra_nmflags_for_target}\n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:4681: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:4688: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -4724,7 +4731,7 @@ esac\n # gcc for stageN-gcc and stage-prev for stage(N-1).  In case this is not\n # possible, however, we can resort to mv.\n echo $ac_n \"checking if symbolic links between directories work\"\"... $ac_c\" 1>&6\n-echo \"configure:4728: checking if symbolic links between directories work\" >&5\n+echo \"configure:4735: checking if symbolic links between directories work\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_ln_s_dir'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4838,34 +4845,15 @@ trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15\n # Transform confdefs.h into DEFS.\n # Protect against shell expansion while executing Makefile rules.\n # Protect against Makefile macro expansion.\n-#\n-# If the first sed substitution is executed (which looks for macros that\n-# take arguments), then we branch to the quote section.  Otherwise,\n-# look for a macro that doesn't take arguments.\n-cat >confdef2opt.sed <<\\_ACEOF\n-t clear\n-: clear\n-s,^[ \t]*#[ \t]*define[ \t][ \t]*\\([^ \t(][^ \t(]*([^)]*)\\)[ \t]*\\(.*\\),-D\\1=\\2,g\n-t quote\n-s,^[ \t]*#[ \t]*define[ \t][ \t]*\\([^ \t][^ \t]*\\)[ \t]*\\(.*\\),-D\\1=\\2,g\n-t quote\n-d\n-: quote\n-s,[ \t`~#$^&*(){}\\\\|;'\"<>?],\\\\&,g\n-s,\\[,\\\\&,g\n-s,\\],\\\\&,g\n-s,\\$,$$,g\n-p\n-_ACEOF\n-# We use echo to avoid assuming a particular line-breaking character.\n-# The extra dot is to prevent the shell from consuming trailing\n-# line-breaks from the sub-command output.  A line-break within\n-# single-quotes doesn't work because, if this script is created in a\n-# platform that uses two characters for line-breaks (e.g., DOS), tr\n-# would break.\n-ac_LF_and_DOT=`echo; echo .`\n-DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr \"$ac_LF_and_DOT\" ' .'`\n-rm -f confdef2opt.sed\n+cat > conftest.defs <<\\EOF\n+s%#define \\([A-Za-z_][A-Za-z0-9_]*\\) *\\(.*\\)%-D\\1=\\2%g\n+s%[ \t`~#$^&*(){}\\\\|;'\"<>?]%\\\\&%g\n+s%\\[%\\\\&%g\n+s%\\]%\\\\&%g\n+s%\\$%$$%g\n+EOF\n+DEFS=`sed -f conftest.defs confdefs.h | tr '\\012' ' '`\n+rm -f conftest.defs\n \n \n # Without the \"./\", some shells look in PATH for config.status.\n@@ -4966,9 +4954,12 @@ s%@do_compare@%$do_compare%g\n s%@gmplibs@%$gmplibs%g\n s%@gmpinc@%$gmpinc%g\n s%@stage1_languages@%$stage1_languages%g\n-s%@DEFAULT_YACC@%$DEFAULT_YACC%g\n-s%@DEFAULT_M4@%$DEFAULT_M4%g\n-s%@DEFAULT_LEX@%$DEFAULT_LEX%g\n+s%@CONFIGURED_BISON@%$CONFIGURED_BISON%g\n+s%@CONFIGURED_YACC@%$CONFIGURED_YACC%g\n+s%@CONFIGURED_M4@%$CONFIGURED_M4%g\n+s%@CONFIGURED_FLEX@%$CONFIGURED_FLEX%g\n+s%@CONFIGURED_LEX@%$CONFIGURED_LEX%g\n+s%@CONFIGURED_MAKEINFO@%$CONFIGURED_MAKEINFO%g\n s%@default_target@%$default_target%g\n /@serialization_dependencies@/r $serialization_dependencies\n s%@serialization_dependencies@%%g\n@@ -4982,6 +4973,7 @@ s%@alphaieee_frag@%%g\n s%@ospace_frag@%%g\n s%@SET_LIB_PATH@%$SET_LIB_PATH%g\n s%@RPATH_ENVVAR@%$RPATH_ENVVAR%g\n+s%@BUILD_DIR_PREFIX@%$BUILD_DIR_PREFIX%g\n s%@BUILD_PREFIX@%$BUILD_PREFIX%g\n s%@BUILD_PREFIX_1@%$BUILD_PREFIX_1%g\n s%@gcc_version_trigger@%$gcc_version_trigger%g\n@@ -4992,17 +4984,12 @@ s%@GDB_TK@%$GDB_TK%g\n s%@gxx_include_dir@%$gxx_include_dir%g\n s%@libstdcxx_incdir@%$libstdcxx_incdir%g\n s%@build_configargs@%$build_configargs%g\n-s%@configure_build_modules@%$configure_build_modules%g\n-s%@all_build_modules@%$all_build_modules%g\n+s%@build_configdirs@%$build_configdirs%g\n s%@host_configargs@%$host_configargs%g\n s%@configdirs@%$configdirs%g\n s%@target_configargs@%$target_configargs%g\n s%@target_configdirs@%$target_configdirs%g\n-s%@BISON@%$BISON%g\n s%@CC_FOR_BUILD@%$CC_FOR_BUILD%g\n-s%@LEX@%$LEX%g\n-s%@MAKEINFO@%$MAKEINFO%g\n-s%@YACC@%$YACC%g\n s%@config_shell@%$config_shell%g\n s%@AR@%$AR%g\n s%@ncn_cv_AR@%$ncn_cv_AR%g"}, {"sha": "a66e946c0b27dc2d16edefddc25418f922a4d005", "filename": "configure.in", "status": "modified", "additions": 38, "deletions": 132, "changes": 170, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/23f6b2f91e6a3a8570f2b4214e3faee872ae1d82/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=23f6b2f91e6a3a8570f2b4214e3faee872ae1d82", "patch": "@@ -126,6 +126,14 @@ fi\n # Double entries in build_configdirs, configdirs, or target_configdirs may\n # cause circular dependencies and break everything horribly.\n \n+# these library is used by various programs built for the build\n+# environment\n+#\n+build_libs=\"build-libiberty\"\n+\n+# these tools are built for the build environment\n+build_tools=\"build-texinfo build-byacc build-flex build-bison build-m4\"\n+\n # these libraries are used by various programs built for the host environment\n #\n host_libs=\"intl mmalloc libiberty opcodes bfd readline tcl tk itcl tix libgui zlib libbanshee libcpp\"\n@@ -173,20 +181,14 @@ target_tools=\"target-examples target-groff target-gperf target-rda\"\n ## is important because configure will choke if they ever get through.\n ## ${configdirs} is directories we build using the host tools.\n ## ${target_configdirs} is directories we build using the target tools.\n-#\n configdirs=`echo ${host_libs} ${host_tools}`\n target_configdirs=`echo ${target_libraries} ${target_tools}`\n \n # Only make build modules if build != host.\n-# This should be done more generally, but at the moment it doesn't matter.\n if test ${host_alias} != ${build_alias} ; then\n-  # This is the only build module.\n-  build_modules=libiberty\n-else\n-  build_modules=\n+  build_configdirs=`echo ${build_libs} ${build_tools}`\n fi\n \n-\n ################################################################################\n \n srcname=\"gnu development package\"\n@@ -956,7 +958,6 @@ if test \"${build}\" != \"${host}\" ; then\n   # If we are doing a Canadian Cross, in which the host and build systems\n   # are not the same, we set reasonable default values for the tools.\n \n-  BISON=${BISON-bison}\n   CC=${CC-${host_alias}-gcc}\n   CFLAGS=${CFLAGS-\"-g -O2\"}\n   CXX=${CXX-${host_alias}-c++}\n@@ -966,49 +967,9 @@ if test \"${build}\" != \"${host}\" ; then\n   CXX_FOR_TARGET=${CXX_FOR_TARGET-${target_alias}-c++}\n   GCJ_FOR_TARGET=${GCJ_FOR_TARGET-${target_alias}-gcj}\n   GCC_FOR_TARGET=${GCC_FOR_TARGET-${CC_FOR_TARGET-${target_alias}-gcc}}\n+  BUILD_DIR_PREFIX=${build_subdir}\n   BUILD_PREFIX=${build_alias}-\n   BUILD_PREFIX_1=${build_alias}-\n-  MAKEINFO=${MAKEINFO-makeinfo}\n-\n-  if test -z \"${YACC}\" ; then\n-    IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-    for dir in $PATH; do\n-      test -z \"$dir\" && dir=.\n-      if test -f $dir/bison; then\n-\tYACC=\"bison -y\"\n-\tbreak\n-      fi\n-      if test -f $dir/byacc; then\n-\tYACC=byacc\n-\tbreak\n-      fi\n-      if test -f $dir/yacc; then\n-\tYACC=yacc\n-\tbreak\n-      fi\n-    done\n-    IFS=\"$save_ifs\"\n-    if test -z \"${YACC}\" ; then\n-      YACC=\"bison -y\"\n-    fi\n-  fi\n-\n-  if test -z \"${LEX}\" ; then\n-    IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-    for dir in $PATH; do\n-      test -z \"$dir\" && dir=.\n-      if test -f $dir/flex; then\n-\tLEX=flex\n-\tbreak\n-      fi\n-      if test -f $dir/lex; then\n-\tLEX=lex\n-\tbreak\n-      fi\n-    done\n-    IFS=\"$save_ifs\"\n-    LEX=${LEX-flex}\n-  fi\n \n else\n   # Set reasonable default values for some tools even if not Canadian.\n@@ -1019,71 +980,19 @@ else\n   # in Makefile.in, so can still be overridden by fragments.\n   # This is all going to change when we autoconfiscate...\n \n-  BISON=\"\\$(USUAL_BISON)\"\n   CC_FOR_BUILD=\"\\$(CC)\"\n   GCC_FOR_TARGET=\"\\$(USUAL_GCC_FOR_TARGET)\"\n+  BUILD_DIR_PREFIX=\n   BUILD_PREFIX=\n   BUILD_PREFIX_1=loser-\n-  MAKEINFO=\"\\$(USUAL_MAKEINFO)\"\n-  LEX=\"\\$(USUAL_LEX)\"\n-  YACC=\"\\$(USUAL_YACC)\"\n-\n-  # If CC is still not set, try to get gcc.\n-  cc_prog_is_gcc=\n-  if test -z \"${CC}\" ; then\n-    IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-    for dir in $PATH; do\n-      test -z \"$dir\" && dir=.\n-      if test -f $dir/gcc; then\n-\tCC=\"gcc\"\n-\tcc_prog_is_gcc=yes\n-\techo 'void f(){}' > conftest.c\n-\tif test -z \"`${CC} -g -c conftest.c 2>&1`\"; then\n-\t  CFLAGS=${CFLAGS-\"-g -O2\"}\n-\t  CXXFLAGS=${CXXFLAGS-\"-g -O2\"}\n-\telse\n-\t  CFLAGS=${CFLAGS-\"-O2\"}\n-\t  CXXFLAGS=${CXXFLAGS-\"-O2\"}\n-\tfi\n-\trm -f conftest*\n-\tbreak\n-      fi\n-    done\n-    IFS=\"$save_ifs\"\n-    CC=${CC-cc}\n-  else\n-    # Determine if we are using gcc.\n-    cat > conftest.c <<EOF\n-#ifdef __GNUC__\n-  yes;\n-#endif\n-EOF\n-    if ${CC} -E conftest.c | grep yes >/dev/null 2>&1; then\n-      cc_prog_is_gcc=yes\n-    fi\n-    rm -f conftest.c\n-    if test -z \"${CFLAGS}\"; then\n-      # Here CC is set but CFLAGS is not.  Use a quick hack to use -O2 if CC\n-      # is set to a version of gcc.\n-      if test \"$cc_prog_is_gcc\" = yes; then\n-\techo 'void f(){}' > conftest.c\n-\tif test -z \"`${CC} -g -c conftest.c 2>&1`\"; then\n-\t  CFLAGS=${CFLAGS-\"-g -O2\"}\n-\t  CXXFLAGS=${CXXFLAGS-\"-g -O2\"}\n-\telse\n-\t  CFLAGS=${CFLAGS-\"-O2\"}\n-\t  CXXFLAGS=${CXXFLAGS-\"-O2\"}\n-\tfi\n-\trm -f conftest*\n-      fi\n-    fi\n-  fi\n+\n+  AC_PROG_CC\n \n   # We must set the default linker to the linker used by gcc for the correct\n   # operation of libtool.  If LD is not defined and we are using gcc, try to\n   # set the LD default to the ld used by gcc.\n   if test -z \"$LD\"; then\n-    if test \"$cc_prog_is_gcc\" = yes; then\n+    if test \"$GCC\" = yes; then\n       case $build in\n       *-*-mingw*)\n \tgcc_prog_ld=`$CC -print-prog-name=ld 2>&1 | tr -d '\\015'` ;;\n@@ -1349,13 +1258,23 @@ fi\n # Quietly strip out all directories which aren't configurable in this tree.\n # This relies on all configurable subdirectories being autoconfiscated, which\n # is now the case.\n+build_configdirs_all=\"$build_configdirs\"\n+build_configdirs=\n+for i in ${build_configdirs_all} ; do\n+  j=`echo $i | sed -e s/build-//g` \n+  if test -f ${srcdir}/$j/configure ; then\n+    build_configdirs=\"${build_configdirs} $i\"\n+  fi\n+done\n+\n configdirs_all=\"$configdirs\"\n configdirs=\n for i in ${configdirs_all} ; do\n   if test -f ${srcdir}/$i/configure ; then\n     configdirs=\"${configdirs} $i\"\n   fi\n done\n+\n target_configdirs_all=\"$target_configdirs\"\n target_configdirs=\n for i in ${target_configdirs_all} ; do\n@@ -1382,7 +1301,7 @@ if test -n \"${notsupp}\" && test -z \"${norecursion}\" ; then\n \t  appdirs=\"\"\n \t  break\n \tfi\n-\tif echo \" ${target_configdirs} \" | grep \" ${dir} \" >/dev/null 2>&1; then\n+\tif echo \" ${target_configdirs} \" | grep \" target-${dir} \" >/dev/null 2>&1; then\n \t  appdirs=\"\"\n \t  break\n \tfi\n@@ -1597,12 +1516,16 @@ esac\n tooldir='${exec_prefix}'/${target_alias}\n build_tooldir=${tooldir}\n \n-# Generate default definitions for YACC, M4, LEX.  These are used if the\n-# Makefile can't locate these programs in objdir.\n+# Generate default definitions for YACC, M4, LEX and other programs that run\n+# on the build machine.  These are used if the Makefile can't locate these\n+# programs in objdir.\n MISSING=`cd $ac_aux_dir && ${PWDCMD-pwd}`/missing\n-AC_CHECK_PROGS([DEFAULT_YACC], ['bison -y' byacc yacc], [$MISSING bison])\n-AC_CHECK_PROGS([DEFAULT_M4], [gm4 gnum4 m4], [$MISSING m4])\n-AC_CHECK_PROGS([DEFAULT_LEX], [flex lex], [$MISSING flex])\n+AC_CHECK_PROGS([CONFIGURED_BISON], [bison], [$MISSING bison])\n+AC_CHECK_PROGS([CONFIGURED_YACC], ['bison -y' byacc yacc], [$MISSING bison -y])\n+AC_CHECK_PROGS([CONFIGURED_M4], [gm4 gnum4 m4], [$MISSING m4])\n+AC_CHECK_PROGS([CONFIGURED_FLEX], [flex], [$MISSING flex])\n+AC_CHECK_PROGS([CONFIGURED_LEX], [flex lex], [$MISSING flex])\n+AC_CHECK_PROGS([CONFIGURED_MAKEINFO], makeinfo, [$MISSING makeinfo])\n \n # Create a .gdbinit file which runs the one in srcdir\n # and tells GDB to look there for source files.\n@@ -1685,17 +1608,7 @@ esac\n # Record target_configdirs and the configure arguments for target and\n # build configuration in Makefile.\n target_configdirs=`echo \"${target_configdirs}\" | sed -e 's/target-//g'`\n-\n-# This is the final value for target_configdirs.  configdirs already\n-# has its final value, as does build_modules.  It's time to create some \n-# lists of valid targets.\n-\n-all_build_modules=\n-configure_build_modules=\n-for module in ${build_modules} ; do\n-  all_build_modules=all-build-${module}\n-  configure_build_modules=configure-build-${module}\n-done\n+build_configdirs=`echo \"${build_configdirs}\" | sed -e 's/build-//g'`\n \n # Determine whether gdb needs tk/tcl or not.\n # Use 'maybe' since enable_gdbtk might be true even if tk isn't available\n@@ -1761,7 +1674,7 @@ case \"$enable_bootstrap\" in\n esac\n AC_SUBST(default_target)\n \n-for module in ${build_modules} ; do\n+for module in ${build_configdirs} ; do\n   if test -z \"${no_recursion}\" \\\n      && test -f ${build_subdir}/${module}/Makefile; then\n     echo 1>&2 \"*** removing ${build_subdir}/${module}/Makefile to force reconfigure\"\n@@ -2138,6 +2051,7 @@ AC_SUBST_FILE(ospace_frag)\n # Miscellanea: directories, flags, etc.\n AC_SUBST(SET_LIB_PATH)\n AC_SUBST(RPATH_ENVVAR)\n+AC_SUBST(BUILD_DIR_PREFIX)\n AC_SUBST(BUILD_PREFIX)\n AC_SUBST(BUILD_PREFIX_1)\n AC_SUBST(gcc_version_trigger)\n@@ -2150,8 +2064,7 @@ AC_SUBST(libstdcxx_incdir)\n \n # Build module lists & subconfigure args.\n AC_SUBST(build_configargs)\n-AC_SUBST(configure_build_modules)\n-AC_SUBST(all_build_modules)\n+AC_SUBST(build_configdirs)\n \n # Host module lists & subconfigure args.\n AC_SUBST(host_configargs)\n@@ -2162,11 +2075,7 @@ AC_SUBST(target_configargs)\n AC_SUBST(target_configdirs)\n \n # Build tools.\n-AC_SUBST(BISON)\n AC_SUBST(CC_FOR_BUILD)\n-AC_SUBST(LEX)\n-AC_SUBST(MAKEINFO)\n-AC_SUBST(YACC)\n AC_SUBST(config_shell)\n \n # Host tools.\n@@ -2184,9 +2093,6 @@ AC_SUBST(CXX)\n AC_SUBST(CFLAGS)\n AC_SUBST(CFLAGS_FOR_BUILD)\n AC_SUBST(CXXFLAGS)\n-AC_SUBST(DEFAULT_YACC)\n-AC_SUBST(DEFAULT_LEX)\n-AC_SUBST(DEFAULT_M4)\n \n # Target tools.\n NCN_STRICT_CHECK_TARGET_TOOL(CONFIGURED_AR_FOR_TARGET, ar)"}]}