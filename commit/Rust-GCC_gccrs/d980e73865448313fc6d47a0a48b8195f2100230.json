{"sha": "d980e73865448313fc6d47a0a48b8195f2100230", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDk4MGU3Mzg2NTQ0ODMxM2ZjNmQ0N2EwYTQ4YjgxOTVmMjEwMDIzMA==", "commit": {"author": {"name": "Trevor Saunders", "email": "tbsaunde+gcc@tbsaunde.org", "date": "2016-06-21T21:57:25Z"}, "committer": {"name": "Trevor Saunders", "email": "tbsaunde@gcc.gnu.org", "date": "2016-06-21T21:57:25Z"}, "message": "remove support for targeting openbsd 2 or 3\n\ncontrib/ChangeLog:\n\n2016-06-21  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n\n\t* config-list.mk: Stop testing openbsd3.0.\n\nlibgcc/ChangeLog:\n\n2016-06-21  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n\n\t* config.host: Remove support for openbsd 2 and 3.\n\ngcc/ChangeLog:\n\n2016-06-21  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n\n\t* config.gcc: Remove support for openbsd 2 and 3.\n\t* config/openbsd-oldgas.h: Remove.\n\nFrom-SVN: r237661", "tree": {"sha": "51c459a5a12a8701de5609af52e6378513831c52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/51c459a5a12a8701de5609af52e6378513831c52"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d980e73865448313fc6d47a0a48b8195f2100230", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d980e73865448313fc6d47a0a48b8195f2100230", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d980e73865448313fc6d47a0a48b8195f2100230", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d980e73865448313fc6d47a0a48b8195f2100230/comments", "author": null, "committer": null, "parents": [{"sha": "ee2499b4d4fe5897d83a315fa0064ee89067f230", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee2499b4d4fe5897d83a315fa0064ee89067f230", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee2499b4d4fe5897d83a315fa0064ee89067f230"}], "stats": {"total": 60, "additions": 15, "deletions": 45}, "files": [{"sha": "6b5494c7abcbcbd836a4f02b3f852208c4d173cf", "filename": "contrib/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d980e73865448313fc6d47a0a48b8195f2100230/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d980e73865448313fc6d47a0a48b8195f2100230/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=d980e73865448313fc6d47a0a48b8195f2100230", "patch": "@@ -1,3 +1,7 @@\n+2016-06-21  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n+\n+\t* config-list.mk: Stop testing openbsd3.0.\n+\n 2016-06-21  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n \n \t* config-list.mk: Remove interix target."}, {"sha": "33de2fc8c87f305e8c9b8c98be0a2e69e63eede7", "filename": "contrib/config-list.mk", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d980e73865448313fc6d47a0a48b8195f2100230/contrib%2Fconfig-list.mk", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d980e73865448313fc6d47a0a48b8195f2100230/contrib%2Fconfig-list.mk", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fconfig-list.mk?ref=d980e73865448313fc6d47a0a48b8195f2100230", "patch": "@@ -49,9 +49,8 @@ LIST = aarch64-elf aarch64-linux-gnu aarch64-rtems \\\n   i686-pc-linux-gnu i686-apple-darwin i686-apple-darwin9 i686-apple-darwin10 \\\n   i486-freebsd4 i686-freebsd6 i686-kfreebsd-gnu \\\n   i686-netbsdelf9 i686-knetbsd-gnuOPT-enable-obsolete \\\n-  i686-openbsd i686-openbsd3.0OPT-enable-obsolete \\\n-  i686-elf i686-kopensolaris-gnu i686-symbolics-gnu i686-pc-msdosdjgpp \\\n-  i686-lynxos i686-nto-qnx \\\n+  i686-openbsd i686-elf i686-kopensolaris-gnu i686-symbolics-gnu \\\n+  i686-pc-msdosdjgpp i686-lynxos i686-nto-qnx \\\n   i686-rtems i686-solaris2.10 i686-wrs-vxworks \\\n   i686-wrs-vxworksae \\\n   i686-cygwinOPT-enable-threads=yes i686-mingw32crt ia64-elf \\"}, {"sha": "228f08a1f53b9991b0f8de7db51b221da1ea97d5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d980e73865448313fc6d47a0a48b8195f2100230/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d980e73865448313fc6d47a0a48b8195f2100230/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d980e73865448313fc6d47a0a48b8195f2100230", "patch": "@@ -1,3 +1,8 @@\n+2016-06-21  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n+\n+\t* config.gcc: Remove support for openbsd 2 and 3.\n+\t* config/openbsd-oldgas.h: Remove.\n+\n 2016-06-21  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n \n \t* config.gcc: Remove interix support."}, {"sha": "7b091fb756ca7afb0242c48a39fd15e2834d3074", "filename": "gcc/config.gcc", "status": "modified", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d980e73865448313fc6d47a0a48b8195f2100230/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d980e73865448313fc6d47a0a48b8195f2100230/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=d980e73865448313fc6d47a0a48b8195f2100230", "patch": "@@ -237,8 +237,6 @@ md_file=\n # Obsolete configurations.\n case ${target} in\n  *-knetbsd-*\t\t\t\t\\\n- | *-openbsd2*\t\t\t\t\\\n- | *-openbsd3*\t\t\t\t\\\n  | avr-*rtems*\t\t\t\t\\\n  | h8300-*rtems*\t\t\t\\\n  | m32r-*rtems*\t\t\t\\\n@@ -804,10 +802,6 @@ case ${target} in\n       thread_file='posix'\n       ;;\n   esac\n-  case ${target} in\n-    *-*-openbsd2.*|*-*-openbsd3.[012])\n-      tm_defines=\"${tm_defines} HAS_LIBC_R=1\" ;;\n-  esac\n   case ${target} in\n     *-*-openbsd4.[3-9]|*-*-openbsd[5-9]*)\n       default_use_cxa_atexit=yes\n@@ -1451,14 +1445,6 @@ x86_64-*-netbsd*)\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h netbsd.h netbsd-elf.h i386/x86-64.h i386/netbsd64.h\"\n \textra_options=\"${extra_options} netbsd.opt netbsd-elf.opt\"\n \t;;\n-i[34567]86-*-openbsd2.*|i[34567]86-*openbsd3.[0123])\n-\ttm_file=\"i386/i386.h i386/unix.h i386/bsd.h i386/gas.h i386/gstabs.h openbsd-oldgas.h openbsd.h i386/openbsd.h\"\n-\textra_options=\"${extra_options} openbsd.opt\"\n-\t# needed to unconfuse gdb\n-\ttmake_file=\"${tmake_file} t-openbsd i386/t-openbsd\"\n-\t# we need collect2 until our bug is fixed...\n-\tuse_collect2=yes\n-\t;;\n i[34567]86-*-openbsd*)\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h\"\n \ttm_file=\"${tm_file} openbsd.h openbsd-stdint.h openbsd-libpthread.h i386/openbsdelf.h\""}, {"sha": "34e88bfe0a404d1f4f235e71519b2ea4531b0c8b", "filename": "gcc/config/openbsd-oldgas.h", "status": "removed", "additions": 0, "deletions": 26, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee2499b4d4fe5897d83a315fa0064ee89067f230/gcc%2Fconfig%2Fopenbsd-oldgas.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee2499b4d4fe5897d83a315fa0064ee89067f230/gcc%2Fconfig%2Fopenbsd-oldgas.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fopenbsd-oldgas.h?ref=ee2499b4d4fe5897d83a315fa0064ee89067f230", "patch": "@@ -1,26 +0,0 @@\n-/* Generic settings for a.out OpenBSD systems.\n-   Copyright (C) 2002-2016 Free Software Foundation, Inc.\n-   Contributed by David E. O'Brien <obrien@FreeBSD.org>.\n-\n-This file is part of GCC.\n-\n-GCC is free software; you can redistribute it and/or modify\n-it under the terms of the GNU General Public License as published by\n-the Free Software Foundation; either version 3, or (at your option)\n-any later version.\n-\n-GCC is distributed in the hope that it will be useful,\n-but WITHOUT ANY WARRANTY; without even the implied warranty of\n-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-GNU General Public License for more details.\n-\n-You should have received a copy of the GNU General Public License\n-along with GCC; see the file COPYING3.  If not see\n-<http://www.gnu.org/licenses/>.  */\n-\n-\n-#define OBSD_OLD_GAS\n-\n-/* OpenBSD3.0 had no libpthread, pthreads lived in -lc_r */\n-#define OBSD_LIB_SPEC \"%{!shared:-lc%{pthread:_r}}\"\n-"}, {"sha": "417dbdbe9548a3bd90a68845f95b9e3b7c06528d", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d980e73865448313fc6d47a0a48b8195f2100230/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d980e73865448313fc6d47a0a48b8195f2100230/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=d980e73865448313fc6d47a0a48b8195f2100230", "patch": "@@ -1,3 +1,7 @@\n+2016-06-21  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n+\n+\t* config.host: Remove support for openbsd 2 and 3.\n+\n 2016-06-21  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n \n \t* config.host: Remove interix support."}, {"sha": "0d9bb0d90da5fb2aeefaf640583a42696c960ae7", "filename": "libgcc/config.host", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d980e73865448313fc6d47a0a48b8195f2100230/libgcc%2Fconfig.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d980e73865448313fc6d47a0a48b8195f2100230/libgcc%2Fconfig.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig.host?ref=d980e73865448313fc6d47a0a48b8195f2100230", "patch": "@@ -603,8 +603,6 @@ i[34567]86-*-netbsdelf*)\n x86_64-*-netbsd*)\n \ttmake_file=\"${tmake_file} i386/t-crtstuff\"\n \t;;\n-i[34567]86-*-openbsd2.*|i[34567]86-*openbsd3.[0123])\n-\t;;\n i[34567]86-*-openbsd*)\n \t;;\n x86_64-*-openbsd*)"}]}