{"sha": "aa777e7a23c38690a205ece9ebee9d2d4ad23097", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWE3NzdlN2EyM2MzODY5MGEyMDVlY2U5ZWJlZTlkMmQ0YWQyMzA5Nw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-02-20T19:45:10Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-02-20T19:45:10Z"}, "message": "re PR go/56320 (Several libgo tests FAIL on 64-bit Solaris/x86)\n\n\tPR go/56320\nruntime: Support Solaris AMD64 in lfstack.\nThe address space layout is similar on SPARC64 and AMD64 when\nrunning Solaris.\n\nFrom-SVN: r196179", "tree": {"sha": "d2cb694dccc6fef5094447628318832c5ff9dc7c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d2cb694dccc6fef5094447628318832c5ff9dc7c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aa777e7a23c38690a205ece9ebee9d2d4ad23097", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa777e7a23c38690a205ece9ebee9d2d4ad23097", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa777e7a23c38690a205ece9ebee9d2d4ad23097", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa777e7a23c38690a205ece9ebee9d2d4ad23097/comments", "author": null, "committer": null, "parents": [{"sha": "a0a7b6118a93846178c9dc4799e83b8e973d2392", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0a7b6118a93846178c9dc4799e83b8e973d2392", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0a7b6118a93846178c9dc4799e83b8e973d2392"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "230ed87c43f74560ceab20f5ab267975c97b395d", "filename": "libgo/runtime/lfstack.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa777e7a23c38690a205ece9ebee9d2d4ad23097/libgo%2Fruntime%2Flfstack.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa777e7a23c38690a205ece9ebee9d2d4ad23097/libgo%2Fruntime%2Flfstack.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Flfstack.c?ref=aa777e7a23c38690a205ece9ebee9d2d4ad23097", "patch": "@@ -17,9 +17,10 @@\n #define PTR_MASK ((1ull<<PTR_BITS)-1)\n #define CNT_MASK (0ull-1)\n \n-#if __SIZEOF_POINTER__ == 8 && defined(__sparc__)\n-// SPARC64 uses all 64 bits of virtual addresses.  Use low-order three\n-// bits as ABA counter.\n+#if __SIZEOF_POINTER__ == 8 && (defined(__sparc__) || (defined(__sun__) && defined(__amd64__)))\n+// SPARC64 and Solaris on AMD64 uses all 64 bits of virtual addresses.\n+// Use low-order three bits as ABA counter.\n+// http://docs.oracle.com/cd/E19120-01/open.solaris/816-5138/6mba6ua5p/index.html\n #undef PTR_BITS\n #undef CNT_MASK\n #undef PTR_MASK"}]}