{"sha": "624f0d6033f211962065a7a7d5561603326d0d3e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjI0ZjBkNjAzM2YyMTE5NjIwNjVhN2E3ZDU1NjE2MDMzMjZkMGQzZQ==", "commit": {"author": {"name": "Bob Wilson", "email": "bob.wilson@acm.org", "date": "2002-07-29T18:07:09Z"}, "committer": {"name": "Bob Wilson", "email": "bwilson@gcc.gnu.org", "date": "2002-07-29T18:07:09Z"}, "message": "* config/xtensa/elf.h, config/xtensa/linux.h\n        (TARGET_OS_CPP_BUILTINS): Define.\n        (CPP_PREDEFINES): Remove.\n        * config/xtensa/xtensa.h (TARGET_CPU_CPP_BUILTINS): Define.\n        (CPP_SPEC): Remove.\n\nFrom-SVN: r55840", "tree": {"sha": "19ebe6304de4da8414d68207ddf04f3000f245fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/19ebe6304de4da8414d68207ddf04f3000f245fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/624f0d6033f211962065a7a7d5561603326d0d3e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/624f0d6033f211962065a7a7d5561603326d0d3e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/624f0d6033f211962065a7a7d5561603326d0d3e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/624f0d6033f211962065a7a7d5561603326d0d3e/comments", "author": null, "committer": null, "parents": [{"sha": "2199e5fade2d41cbdb19bb730e494613b9b7e262", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2199e5fade2d41cbdb19bb730e494613b9b7e262", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2199e5fade2d41cbdb19bb730e494613b9b7e262"}], "stats": {"total": 68, "additions": 41, "deletions": 27}, "files": [{"sha": "5788ddd19d7c9d1b904f1909dd65ce77183f186f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/624f0d6033f211962065a7a7d5561603326d0d3e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/624f0d6033f211962065a7a7d5561603326d0d3e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=624f0d6033f211962065a7a7d5561603326d0d3e", "patch": "@@ -1,3 +1,11 @@\n+2002-07-29  Bob Wilson  <bob.wilson@acm.org>\n+\n+\t* config/xtensa/elf.h, config/xtensa/linux.h\n+\t(TARGET_OS_CPP_BUILTINS): Define.\n+\t(CPP_PREDEFINES): Remove.\n+\t* config/xtensa/xtensa.h (TARGET_CPU_CPP_BUILTINS): Define.\n+\t(CPP_SPEC): Remove.\n+\n 2002-07-29  Zack Weinberg  <zack@codesourcery.com>\n \n \t* gensupport.c: Include hashtab.h."}, {"sha": "7d1ba00e6373861e54d8a6c130a006601ee77d71", "filename": "gcc/config/xtensa/elf.h", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/624f0d6033f211962065a7a7d5561603326d0d3e/gcc%2Fconfig%2Fxtensa%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/624f0d6033f211962065a7a7d5561603326d0d3e/gcc%2Fconfig%2Fxtensa%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Felf.h?ref=624f0d6033f211962065a7a7d5561603326d0d3e", "patch": "@@ -19,6 +19,11 @@ along with GCC; see the file COPYING.  If not, write to the Free\n Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n 02111-1307, USA.  */\n \n+#define TARGET_OS_CPP_BUILTINS()\t\t\t\t\\\n+  do {\t\t\t\t\t\t\t\t\\\n+    builtin_define (\"__ELF__\");\t\t\t\t\t\\\n+  } while (0)\n+\n /* Don't assume anything about the header files. */\n #define NO_IMPLICIT_EXTERN_C\n \n@@ -74,9 +79,6 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n       %{rdynamic:-export-dynamic} \\\n     %{static:-static}}}\"\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-D__XTENSA__ -D__ELF__ -Acpu=xtensa -Amachine=xtensa\"\n-\n /* Local compiler-generated symbols must have a prefix that the assembler\n    understands.   By default, this is $, although some targets (e.g.,\n    NetBSD-ELF) need to override this. */"}, {"sha": "8f10577312e61bfeece1b7eaa9c0e668d8836d01", "filename": "gcc/config/xtensa/linux.h", "status": "modified", "additions": 12, "deletions": 5, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/624f0d6033f211962065a7a7d5561603326d0d3e/gcc%2Fconfig%2Fxtensa%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/624f0d6033f211962065a7a7d5561603326d0d3e/gcc%2Fconfig%2Fxtensa%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Flinux.h?ref=624f0d6033f211962065a7a7d5561603326d0d3e", "patch": "@@ -19,6 +19,18 @@ along with GCC; see the file COPYING.  If not, write to the Free\n Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n 02111-1307, USA.  */\n \n+#define TARGET_OS_CPP_BUILTINS()\t\t\t\t\\\n+  do {\t\t\t\t\t\t\t\t\\\n+    builtin_define_std (\"linux\");\t\t\t\t\\\n+    builtin_define_std (\"unix\");\t\t\t\t\\\n+    builtin_define (\"__ELF__\");\t\t\t\t\t\\\n+    builtin_define (\"__gnu_linux__\");\t\t\t\t\\\n+    builtin_assert (\"system=posix\");\t\t\t\t\\\n+    /* The GNU C++ standard library requires this.  */\t\t\\\n+    if (c_language == clk_cplusplus)\t\t\t\t\\\n+      builtin_define (\"_GNU_SOURCE\");\t\t\t\t\\\n+  } while (0)\n+\n #undef TARGET_VERSION\n #define TARGET_VERSION fputs (\" (Xtensa GNU/Linux with ELF)\", stderr);\n \n@@ -49,11 +61,6 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n         %{!dynamic-linker:-dynamic-linker /lib/ld.so.1}} \\\n       %{static:-static}}}\"\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \\\n- \"-D__XTENSA__ -D__ELF__ -Acpu=xtensa -Amachine=xtensa \\\n-  -Dunix -D__gnu_linux__ -Dlinux -Asystem=posix\"\n-\n #undef LOCAL_LABEL_PREFIX\n #define LOCAL_LABEL_PREFIX\t\".\"\n "}, {"sha": "a6f468f778e3351e1d1423ca2b822a5bcfdb5522", "filename": "gcc/config/xtensa/xtensa.h", "status": "modified", "additions": 16, "deletions": 19, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/624f0d6033f211962065a7a7d5561603326d0d3e/gcc%2Fconfig%2Fxtensa%2Fxtensa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/624f0d6033f211962065a7a7d5561603326d0d3e/gcc%2Fconfig%2Fxtensa%2Fxtensa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Fxtensa.h?ref=624f0d6033f211962065a7a7d5561603326d0d3e", "patch": "@@ -191,25 +191,22 @@ extern unsigned xtensa_current_frame_size;\n \n \n #define OVERRIDE_OPTIONS override_options ()\n-\n-#if XCHAL_HAVE_BE\n-#define CPP_ENDIAN_SPEC \"\\\n-  %{mlittle-endian:-D__XTENSA_EL__} \\\n-  %{!mlittle-endian:-D__XTENSA_EB__} \"\n-#else /* !XCHAL_HAVE_BE */\n-#define CPP_ENDIAN_SPEC \"\\\n-  %{mbig-endian:-D__XTENSA_EB__} \\\n-  %{!mbig-endian:-D__XTENSA_EL__} \"\n-#endif /* !XCHAL_HAVE_BE */\n-\n-#if XCHAL_HAVE_FP\n-#define CPP_FLOAT_SPEC \"%{msoft-float:-D__XTENSA_SOFT_FLOAT__}\"\n-#else\n-#define CPP_FLOAT_SPEC \"%{!mhard-float:-D__XTENSA_SOFT_FLOAT__}\"\n-#endif\n-\n-#undef CPP_SPEC\n-#define CPP_SPEC CPP_ENDIAN_SPEC CPP_FLOAT_SPEC\n+\f\n+/* Target CPU builtins.  */\n+#define TARGET_CPU_CPP_BUILTINS()\t\t\t\t\t\\\n+  do {\t\t\t\t\t\t\t\t\t\\\n+    builtin_assert (\"cpu=xtensa\");\t\t\t\t\t\\\n+    builtin_assert (\"machine=xtensa\");\t\t\t\t\t\\\n+    builtin_define (\"__XTENSA__\");\t\t\t\t\t\\\n+    builtin_define (TARGET_BIG_ENDIAN ? \"__XTENSA_EB__\" : \"__XTENSA_EL__\"); \\\n+    if (!TARGET_HARD_FLOAT)\t\t\t\t\t\t\\\n+      builtin_define (\"__XTENSA_SOFT_FLOAT__\");\t\t\t\t\\\n+    if (flag_pic)\t\t\t\t\t\t\t\\\n+      {\t\t\t\t\t\t\t\t\t\\\n+        builtin_define (\"__PIC__\");\t\t\t\t\t\\\n+        builtin_define (\"__pic__\");\t\t\t\t\t\\\n+      }\t\t\t\t\t\t\t\t\t\\\n+  } while (0)\n \n /* Define this to set the endianness to use in libgcc2.c, which can\n    not depend on target_flags.  */"}]}