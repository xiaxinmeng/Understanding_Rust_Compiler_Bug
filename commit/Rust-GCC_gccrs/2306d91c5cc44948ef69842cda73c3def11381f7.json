{"sha": "2306d91c5cc44948ef69842cda73c3def11381f7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjMwNmQ5MWM1Y2M0NDk0OGVmNjk4NDJjZGE3M2MzZGVmMTEzODFmNw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2003-05-14T05:40:12Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2003-05-14T05:40:12Z"}, "message": "c-decl.c (duplicate_decls): Re-invoke make_decl_rtl if the old decl had instantiated DECL_RTL.\n\n        * c-decl.c (duplicate_decls): Re-invoke make_decl_rtl if\n        the old decl had instantiated DECL_RTL.\n\nFrom-SVN: r66798", "tree": {"sha": "162eb1a3ac2dbba325e86b29aabca6f8b9195f57", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/162eb1a3ac2dbba325e86b29aabca6f8b9195f57"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2306d91c5cc44948ef69842cda73c3def11381f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2306d91c5cc44948ef69842cda73c3def11381f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2306d91c5cc44948ef69842cda73c3def11381f7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2306d91c5cc44948ef69842cda73c3def11381f7/comments", "author": null, "committer": null, "parents": [{"sha": "979c310f5e2c6adc19b136cd4f0fa1d538326d29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/979c310f5e2c6adc19b136cd4f0fa1d538326d29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/979c310f5e2c6adc19b136cd4f0fa1d538326d29"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "a384ca882c1fa8755e1786ae0147bda3521e1abe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2306d91c5cc44948ef69842cda73c3def11381f7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2306d91c5cc44948ef69842cda73c3def11381f7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2306d91c5cc44948ef69842cda73c3def11381f7", "patch": "@@ -1,3 +1,8 @@\n+2003-05-13  Richard Henderson  <rth@redhat.com>\n+\n+\t* c-decl.c (duplicate_decls): Re-invoke make_decl_rtl if\n+\tthe old decl had instantiated DECL_RTL.\n+\n 2003-05-13  Mike Stump  <mrs@apple.com>\n \n \t* doc/invoke.texi (Option Summary): Kill off documentation for -$."}, {"sha": "28ba6431767b5d33e85842f3aab8464620fa67e3", "filename": "gcc/c-decl.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2306d91c5cc44948ef69842cda73c3def11381f7/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2306d91c5cc44948ef69842cda73c3def11381f7/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=2306d91c5cc44948ef69842cda73c3def11381f7", "patch": "@@ -1529,6 +1529,15 @@ duplicate_decls (newdecl, olddecl, different_binding_level)\n      Update OLDDECL to be the same.  */\n   DECL_ATTRIBUTES (olddecl) = DECL_ATTRIBUTES (newdecl);\n \n+  /* If OLDDECL had its DECL_RTL instantiated, re-invoke make_decl_rtl\n+     so that encode_section_info has a chance to look at the new decl\n+     flags and attributes.  */\n+  if (DECL_RTL_SET_P (olddecl)\n+      && (TREE_CODE (olddecl) == FUNCTION_DECL\n+\t  || (TREE_CODE (olddecl) == VAR_DECL\n+\t      && TREE_STATIC (olddecl))))\n+    make_decl_rtl (olddecl, NULL);\n+\n   return 1;\n }\n "}]}