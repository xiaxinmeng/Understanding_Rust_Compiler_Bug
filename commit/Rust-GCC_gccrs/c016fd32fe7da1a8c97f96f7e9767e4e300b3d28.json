{"sha": "c016fd32fe7da1a8c97f96f7e9767e4e300b3d28", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzAxNmZkMzJmZTdkYTFhOGM5N2Y5NmY3ZTk3NjdlNGUzMDBiM2QyOA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-06-22T14:46:12Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-06-22T14:46:12Z"}, "message": "runtime: don't assume that _ = *s will panic if s is nil\n    \n    With the gc toolchain apparently\n            var s *string\n            _ = *s\n    is enough to panic with a nil pointer dereference. The gccgo compiler\n    will simply discard the dereference, which I think is a reasonable and\n    acceptable optimization. Change the tests to use an exported variable\n    instead. The tests are not currently run, but they will be with a\n    later patch to gotools.\n    \n    Reviewed-on: https://go-review.googlesource.com/46450\n\nFrom-SVN: r249562", "tree": {"sha": "60dae3998cda620358797eb5bf0fff80691fc09e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/60dae3998cda620358797eb5bf0fff80691fc09e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c016fd32fe7da1a8c97f96f7e9767e4e300b3d28", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c016fd32fe7da1a8c97f96f7e9767e4e300b3d28", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c016fd32fe7da1a8c97f96f7e9767e4e300b3d28", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c016fd32fe7da1a8c97f96f7e9767e4e300b3d28/comments", "author": null, "committer": null, "parents": [{"sha": "3b0ddadf74ec9c7aa404765ec50bb55d255dbec7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b0ddadf74ec9c7aa404765ec50bb55d255dbec7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b0ddadf74ec9c7aa404765ec50bb55d255dbec7"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "296cd0f28901a14874e96f16cc82d82d8a21957d", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c016fd32fe7da1a8c97f96f7e9767e4e300b3d28/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c016fd32fe7da1a8c97f96f7e9767e4e300b3d28/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=c016fd32fe7da1a8c97f96f7e9767e4e300b3d28", "patch": "@@ -1,4 +1,4 @@\n-b5c9fe259ec43f8079581c3bea0f1d12d85213a7\n+8804c912363320e0c229c5a471fb6f4b9e5965e6\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "ed4ae7fcdbce90fc14e81f356a406510e6fb61d7", "filename": "libgo/go/runtime/testdata/testprog/crash.go", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c016fd32fe7da1a8c97f96f7e9767e4e300b3d28/libgo%2Fgo%2Fruntime%2Ftestdata%2Ftestprog%2Fcrash.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c016fd32fe7da1a8c97f96f7e9767e4e300b3d28/libgo%2Fgo%2Fruntime%2Ftestdata%2Ftestprog%2Fcrash.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fruntime%2Ftestdata%2Ftestprog%2Fcrash.go?ref=c016fd32fe7da1a8c97f96f7e9767e4e300b3d28", "patch": "@@ -13,6 +13,8 @@ func init() {\n \tregister(\"Crash\", Crash)\n }\n \n+var NilPointer *string\n+\n func test(name string) {\n \tdefer func() {\n \t\tif x := recover(); x != nil {\n@@ -21,8 +23,7 @@ func test(name string) {\n \t\tfmt.Printf(\" done\\n\")\n \t}()\n \tfmt.Printf(\"%s:\", name)\n-\tvar s *string\n-\t_ = *s\n+\t*NilPointer = name\n \tfmt.Print(\"SHOULD NOT BE HERE\")\n }\n "}, {"sha": "ed4ae7fcdbce90fc14e81f356a406510e6fb61d7", "filename": "libgo/go/runtime/testdata/testprogcgo/crash.go", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c016fd32fe7da1a8c97f96f7e9767e4e300b3d28/libgo%2Fgo%2Fruntime%2Ftestdata%2Ftestprogcgo%2Fcrash.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c016fd32fe7da1a8c97f96f7e9767e4e300b3d28/libgo%2Fgo%2Fruntime%2Ftestdata%2Ftestprogcgo%2Fcrash.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fruntime%2Ftestdata%2Ftestprogcgo%2Fcrash.go?ref=c016fd32fe7da1a8c97f96f7e9767e4e300b3d28", "patch": "@@ -13,6 +13,8 @@ func init() {\n \tregister(\"Crash\", Crash)\n }\n \n+var NilPointer *string\n+\n func test(name string) {\n \tdefer func() {\n \t\tif x := recover(); x != nil {\n@@ -21,8 +23,7 @@ func test(name string) {\n \t\tfmt.Printf(\" done\\n\")\n \t}()\n \tfmt.Printf(\"%s:\", name)\n-\tvar s *string\n-\t_ = *s\n+\t*NilPointer = name\n \tfmt.Print(\"SHOULD NOT BE HERE\")\n }\n "}]}