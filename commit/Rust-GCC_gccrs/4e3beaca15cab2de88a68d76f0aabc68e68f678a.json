{"sha": "4e3beaca15cab2de88a68d76f0aabc68e68f678a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGUzYmVhY2ExNWNhYjJkZTg4YTY4ZDc2ZjBhYWJjNjhlNjhmNjc4YQ==", "commit": {"author": {"name": "Prathamesh Kulkarni", "email": "prathamesh.kulkarni@linaro.org", "date": "2021-01-22T08:44:20Z"}, "committer": {"name": "Prathamesh Kulkarni", "email": "prathamesh.kulkarni@linaro.org", "date": "2021-01-22T08:44:20Z"}, "message": "arm: Fix ICE with incompatible values for -mfp16-format [PR98636].\n\ngcc/\n2021-01-22  Prathamesh Kulkarni  <prathamesh.kulkarni@linaro.org>\n\n\tPR target/98636\n\t* optc-save-gen.awk: Add arm_fp16_format to checked_options.\n\ngcc/testsuite/\n2021-01-22  Prathamesh Kulkarni  <prathamesh.kulkarni@linaro.org>\n\n\tPR target/98636\n\t* gcc.target/arm/pr98636.c: New test.", "tree": {"sha": "ac27b85d54c45952ebab63fba1b375078add4ee2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ac27b85d54c45952ebab63fba1b375078add4ee2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4e3beaca15cab2de88a68d76f0aabc68e68f678a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e3beaca15cab2de88a68d76f0aabc68e68f678a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e3beaca15cab2de88a68d76f0aabc68e68f678a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e3beaca15cab2de88a68d76f0aabc68e68f678a/comments", "author": null, "committer": null, "parents": [{"sha": "ee78c20e74d30284fee36e22a64e86e45e676029", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee78c20e74d30284fee36e22a64e86e45e676029", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee78c20e74d30284fee36e22a64e86e45e676029"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "b9c7187a3b9a63014010a03d545bcc6850f1bc10", "filename": "gcc/optc-save-gen.awk", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e3beaca15cab2de88a68d76f0aabc68e68f678a/gcc%2Foptc-save-gen.awk", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e3beaca15cab2de88a68d76f0aabc68e68f678a/gcc%2Foptc-save-gen.awk", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptc-save-gen.awk?ref=4e3beaca15cab2de88a68d76f0aabc68e68f678a", "patch": "@@ -1443,6 +1443,8 @@ checked_options[\"unroll_only_small_loops\"]++\n checked_options[\"TARGET_ALIGN_CALL\"]++\n checked_options[\"TARGET_CASE_VECTOR_PC_RELATIVE\"]++\n checked_options[\"arc_size_opt_level\"]++\n+# arm exceptions\n+checked_options[\"arm_fp16_format\"]++\n \n for (i = 0; i < n_opts; i++) {\n \tname = var_name(flags[i]);"}, {"sha": "c4d235cb43d03dcc07ade669299f12b394643543", "filename": "gcc/testsuite/gcc.target/arm/pr98636.c", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e3beaca15cab2de88a68d76f0aabc68e68f678a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr98636.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e3beaca15cab2de88a68d76f0aabc68e68f678a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr98636.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr98636.c?ref=4e3beaca15cab2de88a68d76f0aabc68e68f678a", "patch": "@@ -0,0 +1,6 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-mfp16-format=alternative\" } */\n+\n+#pragma GCC push_options\n+# pragma GCC target (\"arch=armv8.2-a+fp16\") /* { dg-error \"selected fp16 options are incompatible\" } */\n+#pragma GCC pop_options"}]}