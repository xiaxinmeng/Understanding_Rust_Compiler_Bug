{"sha": "2993114da51f06bae9a836e9401128916033ddfb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjk5MzExNGRhNTFmMDZiYWU5YTgzNmU5NDAxMTI4OTE2MDMzZGRmYg==", "commit": {"author": {"name": "Steve Ellcey", "email": "sellcey@mips.com", "date": "2012-12-14T22:03:40Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2012-12-14T22:03:40Z"}, "message": "3.cc: Shrink memory usage under simulator.\n\n2012-12-14  Steve Ellcey  <sellcey@mips.com>\n\n\t* testsuite/21_strings/basic_string/append/wchar_t/3.cc: Shrink\n\tmemory usage under simulator.\n\t* testsuite/21_strings/basic_string/cons/wchar_t/6.cc: Ditto.\n\t* testsuite/21_strings/basic_string/inserters_extractors/wchar_t/10.cc:\n\tDitto.\n\t* testsuite/21_strings/basic_string/inserters_extractors/wchar_t/11.cc:\n\tDitto.\n\nFrom-SVN: r194510", "tree": {"sha": "0a328725f156e5c96fdb1aaeb6604cf9c68aa49f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0a328725f156e5c96fdb1aaeb6604cf9c68aa49f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2993114da51f06bae9a836e9401128916033ddfb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2993114da51f06bae9a836e9401128916033ddfb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2993114da51f06bae9a836e9401128916033ddfb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2993114da51f06bae9a836e9401128916033ddfb/comments", "author": null, "committer": null, "parents": [{"sha": "8b299be64a9f9ba67a33c16f16302e77917afa62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b299be64a9f9ba67a33c16f16302e77917afa62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b299be64a9f9ba67a33c16f16302e77917afa62"}], "stats": {"total": 42, "additions": 38, "deletions": 4}, "files": [{"sha": "4016c171c9dd02191cf9af4884736327e47c3431", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2993114da51f06bae9a836e9401128916033ddfb/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2993114da51f06bae9a836e9401128916033ddfb/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=2993114da51f06bae9a836e9401128916033ddfb", "patch": "@@ -1,3 +1,13 @@\n+2012-12-14  Steve Ellcey  <sellcey@mips.com>\n+\n+\t* testsuite/21_strings/basic_string/append/wchar_t/3.cc: Shrink\n+\tmemory usage under simulator.\n+\t* testsuite/21_strings/basic_string/cons/wchar_t/6.cc: Ditto.\n+\t* testsuite/21_strings/basic_string/inserters_extractors/wchar_t/10.cc:\n+\tDitto.\n+\t* testsuite/21_strings/basic_string/inserters_extractors/wchar_t/11.cc:\n+\tDitto.\n+\n 2012-12-13  Steve Ellcey  <sellcey@mips.com>\n \n \t* testsuite/21_strings/basic_string/capacity/char/18654.cc: Shrink"}, {"sha": "d20b994bf526693f614a6588395f42ca2139b2c1", "filename": "libstdc++-v3/testsuite/21_strings/basic_string/append/wchar_t/3.cc", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2993114da51f06bae9a836e9401128916033ddfb/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Fappend%2Fwchar_t%2F3.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2993114da51f06bae9a836e9401128916033ddfb/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Fappend%2Fwchar_t%2F3.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Fappend%2Fwchar_t%2F3.cc?ref=2993114da51f06bae9a836e9401128916033ddfb", "patch": "@@ -19,6 +19,12 @@\n \n // 21.3.5 string modifiers\n \n+// { dg-options \"-DITERATIONS=14\" { target simulator } }\n+\n+#ifndef ITERATIONS\n+#define ITERATIONS 18\n+#endif\n+\n #include <string>\n #include <testsuite_hooks.h>\n \n@@ -37,7 +43,7 @@ test03()\n     {\n       wstring one(source);\n       wstring two(source);\n-      for (unsigned j = 0; j < 18; ++j)\n+      for (unsigned j = 0; j < ITERATIONS; ++j)\n \t{\n \t  VERIFY( one == two );\n \t  one.append(one);"}, {"sha": "95acdd03e379a6a840d69fa0220d31b6752dbcb9", "filename": "libstdc++-v3/testsuite/21_strings/basic_string/cons/wchar_t/6.cc", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2993114da51f06bae9a836e9401128916033ddfb/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Fcons%2Fwchar_t%2F6.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2993114da51f06bae9a836e9401128916033ddfb/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Fcons%2Fwchar_t%2F6.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Fcons%2Fwchar_t%2F6.cc?ref=2993114da51f06bae9a836e9401128916033ddfb", "patch": "@@ -19,6 +19,12 @@\n \n // 21.3.1 basic_string constructors.\n \n+// { dg-options \"-DITERATIONS=11\" { target simulator } }\n+\n+#ifndef ITERATIONS\n+#define ITERATIONS 13\n+#endif\n+\n #include <iterator>\n #include <sstream>\n #include <cstdlib>\n@@ -50,6 +56,6 @@ void test01(int iter)\n \n int main()\n {\n-  test01(13);\n+  test01(ITERATIONS);\n   return 0;\n }"}, {"sha": "a647c390a332c3f61713935bfe890d669c5b6cac", "filename": "libstdc++-v3/testsuite/21_strings/basic_string/inserters_extractors/wchar_t/10.cc", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2993114da51f06bae9a836e9401128916033ddfb/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Finserters_extractors%2Fwchar_t%2F10.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2993114da51f06bae9a836e9401128916033ddfb/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Finserters_extractors%2Fwchar_t%2F10.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Finserters_extractors%2Fwchar_t%2F10.cc?ref=2993114da51f06bae9a836e9401128916033ddfb", "patch": "@@ -17,6 +17,12 @@\n \n // 21.3.7.9 inserters and extractors\n \n+// { dg-options \"-DMAX_SIZE=505\" { target simulator } }\n+\n+#ifndef MAX_SIZE\n+#define MAX_SIZE 777\n+#endif\n+\n #include <istream>\n #include <string>\n #include <fstream>\n@@ -64,7 +70,7 @@ void test01()\n \n   const wchar_t delim = L'|';\n   const unsigned nchunks = 10;\n-  const wstring data = prepare(777, nchunks, delim);\n+  const wstring data = prepare(MAX_SIZE, nchunks, delim);\n \n   wofstream ofstrm;\n   ofstrm.open(filename);"}, {"sha": "a0a822ffe16728fe8445eeb92eeaf7f8abdba34b", "filename": "libstdc++-v3/testsuite/21_strings/basic_string/inserters_extractors/wchar_t/11.cc", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2993114da51f06bae9a836e9401128916033ddfb/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Finserters_extractors%2Fwchar_t%2F11.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2993114da51f06bae9a836e9401128916033ddfb/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Finserters_extractors%2Fwchar_t%2F11.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Finserters_extractors%2Fwchar_t%2F11.cc?ref=2993114da51f06bae9a836e9401128916033ddfb", "patch": "@@ -17,6 +17,12 @@\n \n // 21.3.7.9 inserters and extractors\n \n+// { dg-options \"-DMAX_SIZE=466\" { target simulator } }\n+\n+#ifndef MAX_SIZE\n+#define MAX_SIZE 666\n+#endif\n+\n #include <istream>\n #include <string>\n #include <fstream>\n@@ -63,7 +69,7 @@ void test01()\n   const char filename[] = \"inserters_extractors-3.txt\";\n \n   const unsigned nchunks = 10;\n-  const wstring data = prepare(666, nchunks);\n+  const wstring data = prepare(MAX_SIZE, nchunks);\n \n   wofstream ofstrm;\n   ofstrm.open(filename);"}]}