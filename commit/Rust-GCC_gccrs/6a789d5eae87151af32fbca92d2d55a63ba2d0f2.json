{"sha": "6a789d5eae87151af32fbca92d2d55a63ba2d0f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmE3ODlkNWVhZTg3MTUxYWYzMmZiY2E5MmQyZDU1YTYzYmEyZDBmMg==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2011-05-05T12:38:18Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2011-05-05T12:38:18Z"}, "message": "* configure.ac (alpha*-dec-osf*, i[[3456789]]86-*-rdos*,\n\n\tsh*-*-pe|mips*-*-pe|arm-wince-pe, sparc-*-sunos4*, *-*-aix*,\n\t*-*-beos*, *-*-chorusos, *-*-dragonfly*, *-*-freebsd*, *-*-linux*\n\t| *-*-gnu* | *-*-k*bsd*-gnu | *-*-kopensolaris*-gnu, *-*-lynxos*,\n\t*-*-mingw*, *-*-netbsd*, *-*-netware*, *-*-tpf*, *-*-uclinux*,\n\t*-*-vxworks*): Disable newlib and libgloss in separate case\n\tstatement.\n\t(i[[3456789]]86-*-linux*): Move logic allowing newlib to be built\n\tto separate case statement.\n\t(*-*-chorusos, *-*-dragonfly*, *-*-freebsd*, *-*-netbsd*,\n\t*-*-netware*, *-*-tpf*, *-*-uclinux*, *-*-vxworks*,\n\talpha*-dec-osf*, alpha*-*-linux*, am33_2.0-*-linux*, sh-*-linux*,\n\tsh*-*-pe|mips*-*-pe|*arm-wince-pe, arm-*-coff, arm-*-elf* |\n\tarm*-*-eabi*, arm*-*-linux-gnueabi, arm*-*-symbianelf*, avr-*-*,\n\tbfin-*-*, cris-*-* | crisv32-*-*, frv-*-*, i[[3456789]]86-*-coff |\n\ti[[3456789]]86-*-elf, i[[3456789]]86-w64-mingw*,\n\ti[[3456789]]86-*-mingw*, x86_64-*-mingw*,\n\ti[[3456789]]86-*-interix*, i[[3456789]]86-*-beos*,\n\ti[[3456789]]86-*-rdos*, m32r-*-*,\n\tm68hc11-*-*|m6811-*-*|m68hc12-*-*|m6812-*-*, m68k-*-elf*, m68*-*-*\n\t| fido-*-*, powerpc-*-aix*, powerpc-*-beos*, powerpc-*-eabi,\n\tpowerpc-*-eabi* | powerpcle-*-eabi* | powerpc-*-rtems*,\n\trs6000-*-lynxos*, rs6000-*-aix*, mips*-*-linux*, sparclet-*-aout*\n\t| sparc86x-*-*, sparc-*-elf*, sparc64-*-elf*, sparclite-*-*,\n\tsparc-*-sunos4*, sparc-*-solaris* | sparc64-*-solaris* |\n\tsparcv9-*-solaris*, *-*-linux* | *-*-gnu* | *-*-k*bsd*-gnu |\n\t*-*-kopensolaris*-gnu, *-*-lynxos*, *-*-*): Don't disable newlib\n\tand libgloss in main case over targets.  Remove most empty cases\n\tin main case over targets.\n\t* configure: Regenerate.\n\nFrom-SVN: r173430", "tree": {"sha": "69031d7b13057a20d0bcc5cc1356d42bb8147411", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/69031d7b13057a20d0bcc5cc1356d42bb8147411"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6a789d5eae87151af32fbca92d2d55a63ba2d0f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a789d5eae87151af32fbca92d2d55a63ba2d0f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a789d5eae87151af32fbca92d2d55a63ba2d0f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a789d5eae87151af32fbca92d2d55a63ba2d0f2/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0691dde9e60b7d6446340fb658b5b5c138865f74", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0691dde9e60b7d6446340fb658b5b5c138865f74", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0691dde9e60b7d6446340fb658b5b5c138865f74"}], "stats": {"total": 395, "additions": 185, "deletions": 210}, "files": [{"sha": "9a9943bfc0480177dd0dfce94baedaf668ff582a", "filename": "ChangeLog", "status": "modified", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a789d5eae87151af32fbca92d2d55a63ba2d0f2/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a789d5eae87151af32fbca92d2d55a63ba2d0f2/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=6a789d5eae87151af32fbca92d2d55a63ba2d0f2", "patch": "@@ -1,3 +1,36 @@\n+2011-05-05  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* configure.ac (alpha*-dec-osf*, i[[3456789]]86-*-rdos*,\n+\tsh*-*-pe|mips*-*-pe|arm-wince-pe, sparc-*-sunos4*, *-*-aix*,\n+\t*-*-beos*, *-*-chorusos, *-*-dragonfly*, *-*-freebsd*, *-*-linux*\n+\t| *-*-gnu* | *-*-k*bsd*-gnu | *-*-kopensolaris*-gnu, *-*-lynxos*,\n+\t*-*-mingw*, *-*-netbsd*, *-*-netware*, *-*-tpf*, *-*-uclinux*,\n+\t*-*-vxworks*): Disable newlib and libgloss in separate case\n+\tstatement.\n+\t(i[[3456789]]86-*-linux*): Move logic allowing newlib to be built\n+\tto separate case statement.\n+\t(*-*-chorusos, *-*-dragonfly*, *-*-freebsd*, *-*-netbsd*,\n+\t*-*-netware*, *-*-tpf*, *-*-uclinux*, *-*-vxworks*,\n+\talpha*-dec-osf*, alpha*-*-linux*, am33_2.0-*-linux*, sh-*-linux*,\n+\tsh*-*-pe|mips*-*-pe|*arm-wince-pe, arm-*-coff, arm-*-elf* |\n+\tarm*-*-eabi*, arm*-*-linux-gnueabi, arm*-*-symbianelf*, avr-*-*,\n+\tbfin-*-*, cris-*-* | crisv32-*-*, frv-*-*, i[[3456789]]86-*-coff |\n+\ti[[3456789]]86-*-elf, i[[3456789]]86-w64-mingw*,\n+\ti[[3456789]]86-*-mingw*, x86_64-*-mingw*,\n+\ti[[3456789]]86-*-interix*, i[[3456789]]86-*-beos*,\n+\ti[[3456789]]86-*-rdos*, m32r-*-*,\n+\tm68hc11-*-*|m6811-*-*|m68hc12-*-*|m6812-*-*, m68k-*-elf*, m68*-*-*\n+\t| fido-*-*, powerpc-*-aix*, powerpc-*-beos*, powerpc-*-eabi,\n+\tpowerpc-*-eabi* | powerpcle-*-eabi* | powerpc-*-rtems*,\n+\trs6000-*-lynxos*, rs6000-*-aix*, mips*-*-linux*, sparclet-*-aout*\n+\t| sparc86x-*-*, sparc-*-elf*, sparc64-*-elf*, sparclite-*-*,\n+\tsparc-*-sunos4*, sparc-*-solaris* | sparc64-*-solaris* |\n+\tsparcv9-*-solaris*, *-*-linux* | *-*-gnu* | *-*-k*bsd*-gnu |\n+\t*-*-kopensolaris*-gnu, *-*-lynxos*, *-*-*): Don't disable newlib\n+\tand libgloss in main case over targets.  Remove most empty cases\n+\tin main case over targets.\n+\t* configure: Regenerate.\n+\n 2011-05-04  Janis Johnson  <janisjo@codesourcery.com>\n \n \t* MAINTAINERS (Write After Approval): Add myself."}, {"sha": "cb341f95b1ecbd954c590d249cb7af075d4f04c6", "filename": "configure", "status": "modified", "additions": 76, "deletions": 105, "changes": 181, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a789d5eae87151af32fbca92d2d55a63ba2d0f2/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a789d5eae87151af32fbca92d2d55a63ba2d0f2/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=6a789d5eae87151af32fbca92d2d55a63ba2d0f2", "patch": "@@ -3297,10 +3297,76 @@ case \"${target}\" in\n     ;;\n esac\n \n+# Disable newlib and libgloss for various target OSes.\n case \"${target}\" in\n+  alpha*-dec-osf*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  i[3456789]86-*-linux*)\n+    # This section makes it possible to build newlib natively on linux.\n+    # If we are using a cross compiler then don't configure newlib.\n+    if test x${is_cross_compiler} != xno ; then\n+      noconfigdirs=\"$noconfigdirs target-newlib\"\n+    fi\n+    noconfigdirs=\"$noconfigdirs target-libgloss\"\n+    # If we are not using a cross compiler, do configure newlib.\n+    # Note however, that newlib will only be configured in this situation\n+    # if the --with-newlib option has been given, because otherwise\n+    # 'target-newlib' will appear in skipdirs.\n+    ;;\n+  i[3456789]86-*-rdos*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  sh*-*-pe|mips*-*-pe|arm-wince-pe)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  sparc-*-sunos4*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-aix*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-beos*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n   *-*-chorusos)\n     noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n+  *-*-dragonfly*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-freebsd*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-linux* | *-*-gnu* | *-*-k*bsd*-gnu | *-*-kopensolaris*-gnu)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-lynxos*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-mingw*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-netbsd*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-netware*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-tpf*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-uclinux*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-vxworks*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+esac\n+\n+case \"${target}\" in\n+  *-*-chorusos)\n+    ;;\n   powerpc-*-darwin*)\n     noconfigdirs=\"$noconfigdirs ld gas gdb gprof\"\n     noconfigdirs=\"$noconfigdirs sim target-rda\"\n@@ -3318,10 +3384,8 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs sim target-rda\"\n     ;;\n   *-*-dragonfly*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n   *-*-freebsd*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     if test \"x$with_gmp\" = x && test \"x$with_gmp_dir\" = x \\\n \t&& test -f /usr/local/include/gmp.h; then\n       with_gmp=/usr/local\n@@ -3332,76 +3396,45 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n   *-*-netbsd*)\n-    # Skip some stuff on all NetBSD configurations.\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n   *-*-netware*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n   *-*-rtems*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n     # The tpf target doesn't support gdb yet.\n   *-*-tpf*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss gdb tcl tk libgui itcl\"\n+    noconfigdirs=\"$noconfigdirs gdb tcl tk libgui itcl\"\n     ;;\n   *-*-uclinux*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss target-rda\"\n+    noconfigdirs=\"$noconfigdirs target-rda\"\n     ;;\n   *-*-vxworks*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n   alpha*-dec-osf*)\n     # ld works, but does not support shared libraries.\n-    # newlib is not 64 bit ready.\n     # gas doesn't generate exception information.\n-    noconfigdirs=\"$noconfigdirs gas ld target-newlib target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs gas ld\"\n     ;;\n   alpha*-*-*vms*)\n     noconfigdirs=\"$noconfigdirs gdb target-newlib target-libgloss\"\n     ;;\n-  alpha*-*-linux*)\n-    # newlib is not 64 bit ready\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n-    ;;\n   alpha*-*-*)\n     # newlib is not 64 bit ready\n     noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n-  am33_2.0-*-linux*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n-    ;;\n-  sh-*-linux*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n-    ;;\n   sh*-*-pe|mips*-*-pe|*arm-wince-pe)\n     noconfigdirs=\"$noconfigdirs tcl tk itcl libgui sim\"\n-    noconfigdirs=\"$noconfigdirs target-newlib\"\n     ;;\n   arc-*-*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n-  arm-*-coff)\n-    ;;\n-  arm-*-elf* | arm*-*-eabi* )\n-    ;;\n-  arm*-*-linux-gnueabi)\n-    case ${with_newlib} in\n-      no) noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n-    esac\n-    ;;\n-  arm*-*-symbianelf*)\n-    ;;\n   arm-*-pe*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n   arm-*-riscix*)\n     noconfigdirs=\"$noconfigdirs ld target-libgloss\"\n     ;;\n-  avr-*-*)\n-    ;;\n-  bfin-*-*)\n-    ;;\n   c4x-*-* | tic4x-*-*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n@@ -3411,12 +3444,6 @@ case \"${target}\" in\n   cr16-*-*)\n     noconfigdirs=\"$noconfigdirs gdb\"\n     ;;\n-  cris-*-* | crisv32-*-*)\n-    case \"${target}\" in\n-      *-*-linux*)\n-\tnoconfigdirs=\"$noconfigdirs target-newlib target-libgloss\";;\n-    esac\n-    ;;\n   d10v-*-*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n@@ -3426,8 +3453,6 @@ case \"${target}\" in\n   fr30-*-elf*)\n     noconfigdirs=\"$noconfigdirs gdb\"\n     ;;\n-  frv-*-*)\n-    ;;\n   moxie-*-*)\n     noconfigdirs=\"$noconfigdirs gprof\"\n     ;;\n@@ -3471,29 +3496,10 @@ case \"${target}\" in\n     # No gdb or ld support yet.\n     noconfigdirs=\"$noconfigdirs readline libgui itcl gdb ld\"\n     ;;\n-  i[3456789]86-*-coff | i[3456789]86-*-elf)\n-    ;;\n-  i[3456789]86-*-linux*)\n-    # This section makes it possible to build newlib natively on linux.\n-    # If we are using a cross compiler then don't configure newlib.\n-    if test x${is_cross_compiler} != xno ; then\n-      noconfigdirs=\"$noconfigdirs target-newlib\"\n-    fi\n-    noconfigdirs=\"$noconfigdirs target-libgloss\"\n-    # If we are not using a cross compiler, do configure newlib.\n-    # Note however, that newlib will only be configured in this situation\n-    # if the --with-newlib option has been given, because otherwise\n-    # 'target-newlib' will appear in skipdirs.\n-    ;;\n   i[3456789]86-w64-mingw*)\n-    noconfigdirs=\"$noconfigdirs target-libgloss target-newlib\"\n     ;;\n   i[3456789]86-*-mingw*)\n     target_configdirs=\"$target_configdirs target-winsup\"\n-    noconfigdirs=\"$noconfigdirs target-libgloss target-newlib\"\n-    ;;\n-  x86_64-*-mingw*)\n-    noconfigdirs=\"$noconfigdirs target-libgloss target-newlib\"\n     ;;\n   *-*-cygwin*)\n     target_configdirs=\"$target_configdirs target-libtermcap target-winsup\"\n@@ -3505,8 +3511,6 @@ case \"${target}\" in\n       echo \"Warning: winsup/cygwin is missing so newlib can't be built.\"\n     fi\n     ;;\n-  i[3456789]86-*-interix* )\n-    ;;\n   i[3456789]86-*-pe)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n@@ -3525,18 +3529,10 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n   i[3456789]86-*-beos*)\n-    noconfigdirs=\"$noconfigdirs gdb target-newlib target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs gdb\"\n     ;;\n   i[3456789]86-*-rdos*)\n-    noconfigdirs=\"$noconfigdirs gdb target-newlib target-libgloss\"\n-    ;;\n-  m32r-*-*)\n-    ;;\n-  m68hc11-*-*|m6811-*-*|m68hc12-*-*|m6812-*-*)\n-    ;;\n-  m68k-*-elf*)\n-    ;;\n-  m68*-*-* | fido-*-*)\n+    noconfigdirs=\"$noconfigdirs gdb\"\n     ;;\n   mmix-*-*)\n     noconfigdirs=\"$noconfigdirs gdb\"\n@@ -3546,7 +3542,7 @@ case \"${target}\" in\n     ;;\n   powerpc-*-aix*)\n     # copied from rs6000-*-* entry\n-    noconfigdirs=\"$noconfigdirs gprof target-libgloss target-newlib\"\n+    noconfigdirs=\"$noconfigdirs gprof\"\n     ;;\n   powerpc*-*-winnt* | powerpc*-*-pe*)\n     target_configdirs=\"$target_configdirs target-winsup\"\n@@ -3559,17 +3555,13 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs gdb sim tcl tk itcl\"\n     ;;\n   powerpc-*-beos*)\n-    noconfigdirs=\"$noconfigdirs gdb target-newlib target-libgloss\"\n-    ;;\n-  powerpc-*-eabi)\n-    ;;\n-  powerpc-*-eabi* | powerpcle-*-eabi* | powerpc-*-rtems* )\n+    noconfigdirs=\"$noconfigdirs gdb\"\n     ;;\n   rs6000-*-lynxos*)\n-    noconfigdirs=\"$noconfigdirs target-newlib gprof\"\n+    noconfigdirs=\"$noconfigdirs gprof\"\n     ;;\n   rs6000-*-aix*)\n-    noconfigdirs=\"$noconfigdirs gprof target-libgloss target-newlib\"\n+    noconfigdirs=\"$noconfigdirs gprof\"\n     ;;\n   rs6000-*-*)\n     noconfigdirs=\"$noconfigdirs gprof\"\n@@ -3595,7 +3587,6 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs gprof target-libgloss\"\n     ;;\n   mips*-*-linux*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n   mips*-*-*)\n     noconfigdirs=\"$noconfigdirs gprof\"\n@@ -3608,23 +3599,11 @@ case \"${target}\" in\n          noconfigdirs=\"$noconfigdirs target-libgloss\" ;;\n     esac\n     ;;\n-  sparclet-*-aout* | sparc86x-*-*)\n-    ;;\n-  sparc-*-elf*)\n-    ;;\n-  sparc64-*-elf*)\n-    ;;\n-  sparclite-*-*)\n-    ;;\n   sparc-*-sunos4*)\n-    if test x${is_cross_compiler} != xno ; then\n-           noconfigdirs=\"$noconfigdirs gdb target-newlib target-libgloss\"\n-    else\n+    if test x${is_cross_compiler} = xno ; then\n            use_gnu_ld=no\n     fi\n     ;;\n-  sparc-*-solaris* | sparc64-*-solaris* | sparcv9-*-solaris*)\n-    ;;\n   tic6x-*-*)\n     noconfigdirs=\"$noconfigdirs gdb sim\"\n     ;;\n@@ -3634,14 +3613,6 @@ case \"${target}\" in\n   vax-*-*)\n     noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n-  *-*-linux* | *-*-gnu* | *-*-k*bsd*-gnu | *-*-kopensolaris*-gnu)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n-    ;;\n-  *-*-lynxos*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n-    ;;\n-  *-*-*)\n-    ;;\n esac\n \n # If we aren't building newlib, then don't build libgloss, since libgloss"}, {"sha": "0ac903055abaef8e1fe28ba0cbf05c520ab4adb8", "filename": "configure.ac", "status": "modified", "additions": 76, "deletions": 105, "changes": 181, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a789d5eae87151af32fbca92d2d55a63ba2d0f2/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a789d5eae87151af32fbca92d2d55a63ba2d0f2/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=6a789d5eae87151af32fbca92d2d55a63ba2d0f2", "patch": "@@ -744,10 +744,76 @@ case \"${target}\" in\n     ;;\n esac\n \n+# Disable newlib and libgloss for various target OSes.\n case \"${target}\" in\n+  alpha*-dec-osf*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  i[[3456789]]86-*-linux*)\n+    # This section makes it possible to build newlib natively on linux.\n+    # If we are using a cross compiler then don't configure newlib.\n+    if test x${is_cross_compiler} != xno ; then\n+      noconfigdirs=\"$noconfigdirs target-newlib\"\n+    fi\n+    noconfigdirs=\"$noconfigdirs target-libgloss\"\n+    # If we are not using a cross compiler, do configure newlib.\n+    # Note however, that newlib will only be configured in this situation\n+    # if the --with-newlib option has been given, because otherwise\n+    # 'target-newlib' will appear in skipdirs.\n+    ;;\n+  i[[3456789]]86-*-rdos*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  sh*-*-pe|mips*-*-pe|arm-wince-pe)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  sparc-*-sunos4*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-aix*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-beos*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n   *-*-chorusos)\n     noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n+  *-*-dragonfly*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-freebsd*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-linux* | *-*-gnu* | *-*-k*bsd*-gnu | *-*-kopensolaris*-gnu)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-lynxos*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;; \n+  *-*-mingw*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-netbsd*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-netware*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-tpf*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-uclinux*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+  *-*-vxworks*)\n+    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n+    ;;\n+esac\n+\n+case \"${target}\" in\n+  *-*-chorusos)\n+    ;;\n   powerpc-*-darwin*)\n     noconfigdirs=\"$noconfigdirs ld gas gdb gprof\"\n     noconfigdirs=\"$noconfigdirs sim target-rda\"\n@@ -765,10 +831,8 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs sim target-rda\"\n     ;;\n   *-*-dragonfly*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n   *-*-freebsd*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     if test \"x$with_gmp\" = x && test \"x$with_gmp_dir\" = x \\\n \t&& test -f /usr/local/include/gmp.h; then\n       with_gmp=/usr/local\n@@ -779,76 +843,45 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n   *-*-netbsd*)\n-    # Skip some stuff on all NetBSD configurations.\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n   *-*-netware*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n   *-*-rtems*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n     # The tpf target doesn't support gdb yet.\n   *-*-tpf*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss gdb tcl tk libgui itcl\"\n+    noconfigdirs=\"$noconfigdirs gdb tcl tk libgui itcl\"\n     ;;\n   *-*-uclinux*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss target-rda\"\n+    noconfigdirs=\"$noconfigdirs target-rda\"\n     ;;\n   *-*-vxworks*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n   alpha*-dec-osf*)\n     # ld works, but does not support shared libraries.\n-    # newlib is not 64 bit ready.\n     # gas doesn't generate exception information.\n-    noconfigdirs=\"$noconfigdirs gas ld target-newlib target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs gas ld\"\n     ;;\n   alpha*-*-*vms*)\n     noconfigdirs=\"$noconfigdirs gdb target-newlib target-libgloss\"\n     ;;\n-  alpha*-*-linux*)\n-    # newlib is not 64 bit ready\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n-    ;;\n   alpha*-*-*)\n     # newlib is not 64 bit ready\n     noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n-  am33_2.0-*-linux*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n-    ;;\n-  sh-*-linux*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n-    ;;    \n   sh*-*-pe|mips*-*-pe|*arm-wince-pe)\n     noconfigdirs=\"$noconfigdirs tcl tk itcl libgui sim\"\n-    noconfigdirs=\"$noconfigdirs target-newlib\"\n     ;;\n   arc-*-*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n-  arm-*-coff)\n-    ;;\n-  arm-*-elf* | arm*-*-eabi* )\n-    ;;\n-  arm*-*-linux-gnueabi)\n-    case ${with_newlib} in\n-      no) noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n-    esac\n-    ;;\n-  arm*-*-symbianelf*)\n-    ;;\n   arm-*-pe*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n   arm-*-riscix*)\n     noconfigdirs=\"$noconfigdirs ld target-libgloss\"\n     ;;\n-  avr-*-*)\n-    ;;\n-  bfin-*-*)\n-    ;;\n   c4x-*-* | tic4x-*-*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n@@ -858,12 +891,6 @@ case \"${target}\" in\n   cr16-*-*)\n     noconfigdirs=\"$noconfigdirs gdb\"\n     ;;\n-  cris-*-* | crisv32-*-*)\n-    case \"${target}\" in\n-      *-*-linux*)\n-\tnoconfigdirs=\"$noconfigdirs target-newlib target-libgloss\";;\n-    esac\n-    ;;\n   d10v-*-*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n@@ -873,8 +900,6 @@ case \"${target}\" in\n   fr30-*-elf*)\n     noconfigdirs=\"$noconfigdirs gdb\"\n     ;;\n-  frv-*-*)\n-    ;;\n   moxie-*-*)\n     noconfigdirs=\"$noconfigdirs gprof\"\n     ;;\n@@ -918,29 +943,10 @@ case \"${target}\" in\n     # No gdb or ld support yet.\n     noconfigdirs=\"$noconfigdirs readline libgui itcl gdb ld\"\n     ;;\n-  i[[3456789]]86-*-coff | i[[3456789]]86-*-elf)\n-    ;;\n-  i[[3456789]]86-*-linux*)\n-    # This section makes it possible to build newlib natively on linux.\n-    # If we are using a cross compiler then don't configure newlib.\n-    if test x${is_cross_compiler} != xno ; then\n-      noconfigdirs=\"$noconfigdirs target-newlib\"\n-    fi\n-    noconfigdirs=\"$noconfigdirs target-libgloss\"\n-    # If we are not using a cross compiler, do configure newlib.\n-    # Note however, that newlib will only be configured in this situation\n-    # if the --with-newlib option has been given, because otherwise\n-    # 'target-newlib' will appear in skipdirs.\n-    ;;\n   i[[3456789]]86-w64-mingw*)\n-    noconfigdirs=\"$noconfigdirs target-libgloss target-newlib\"\n     ;;\n   i[[3456789]]86-*-mingw*)\n     target_configdirs=\"$target_configdirs target-winsup\"\n-    noconfigdirs=\"$noconfigdirs target-libgloss target-newlib\"\n-    ;;\n-  x86_64-*-mingw*)\n-    noconfigdirs=\"$noconfigdirs target-libgloss target-newlib\"\n     ;;\n   *-*-cygwin*)\n     target_configdirs=\"$target_configdirs target-libtermcap target-winsup\"\n@@ -952,8 +958,6 @@ case \"${target}\" in\n       echo \"Warning: winsup/cygwin is missing so newlib can't be built.\"\n     fi\n     ;;\n-  i[[3456789]]86-*-interix* )\n-    ;;\n   i[[3456789]]86-*-pe)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n@@ -972,18 +976,10 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n   i[[3456789]]86-*-beos*)\n-    noconfigdirs=\"$noconfigdirs gdb target-newlib target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs gdb\"\n     ;;\n   i[[3456789]]86-*-rdos*)\n-    noconfigdirs=\"$noconfigdirs gdb target-newlib target-libgloss\"\n-    ;;\n-  m32r-*-*)\n-    ;;\n-  m68hc11-*-*|m6811-*-*|m68hc12-*-*|m6812-*-*)\n-    ;;\n-  m68k-*-elf*)\n-    ;;\n-  m68*-*-* | fido-*-*)\n+    noconfigdirs=\"$noconfigdirs gdb\"\n     ;;\n   mmix-*-*)\n     noconfigdirs=\"$noconfigdirs gdb\"\n@@ -993,7 +989,7 @@ case \"${target}\" in\n     ;;\n   powerpc-*-aix*)\n     # copied from rs6000-*-* entry\n-    noconfigdirs=\"$noconfigdirs gprof target-libgloss target-newlib\"\n+    noconfigdirs=\"$noconfigdirs gprof\"\n     ;;\n   powerpc*-*-winnt* | powerpc*-*-pe*)\n     target_configdirs=\"$target_configdirs target-winsup\"\n@@ -1006,17 +1002,13 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs gdb sim tcl tk itcl\"\n     ;;\n   powerpc-*-beos*)\n-    noconfigdirs=\"$noconfigdirs gdb target-newlib target-libgloss\"\n-    ;;\n-  powerpc-*-eabi)\n-    ;;\n-  powerpc-*-eabi* | powerpcle-*-eabi* | powerpc-*-rtems* )\n+    noconfigdirs=\"$noconfigdirs gdb\"\n     ;;\n   rs6000-*-lynxos*)\n-    noconfigdirs=\"$noconfigdirs target-newlib gprof\"\n+    noconfigdirs=\"$noconfigdirs gprof\"\n     ;;\n   rs6000-*-aix*)\n-    noconfigdirs=\"$noconfigdirs gprof target-libgloss target-newlib\"\n+    noconfigdirs=\"$noconfigdirs gprof\"\n     ;;\n   rs6000-*-*)\n     noconfigdirs=\"$noconfigdirs gprof\"\n@@ -1042,7 +1034,6 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs gprof target-libgloss\"\n     ;;\n   mips*-*-linux*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n   mips*-*-*)\n     noconfigdirs=\"$noconfigdirs gprof\"\n@@ -1055,23 +1046,11 @@ case \"${target}\" in\n          noconfigdirs=\"$noconfigdirs target-libgloss\" ;;\n     esac\n     ;;\n-  sparclet-*-aout* | sparc86x-*-*)\n-    ;;\n-  sparc-*-elf*)\n-    ;;\n-  sparc64-*-elf*)\n-    ;;\n-  sparclite-*-*)\n-    ;;\n   sparc-*-sunos4*)\n-    if test x${is_cross_compiler} != xno ; then\n-           noconfigdirs=\"$noconfigdirs gdb target-newlib target-libgloss\"\n-    else\n+    if test x${is_cross_compiler} = xno ; then\n            use_gnu_ld=no\n     fi\n     ;;\n-  sparc-*-solaris* | sparc64-*-solaris* | sparcv9-*-solaris*)\n-    ;;\n   tic6x-*-*)\n     noconfigdirs=\"$noconfigdirs gdb sim\"\n     ;;\n@@ -1081,14 +1060,6 @@ case \"${target}\" in\n   vax-*-*)\n     noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n-  *-*-linux* | *-*-gnu* | *-*-k*bsd*-gnu | *-*-kopensolaris*-gnu)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n-    ;;\n-  *-*-lynxos*)\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n-    ;; \n-  *-*-*)\n-    ;;\n esac\n \n # If we aren't building newlib, then don't build libgloss, since libgloss"}]}