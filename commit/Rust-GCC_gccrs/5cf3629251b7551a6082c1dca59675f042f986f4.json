{"sha": "5cf3629251b7551a6082c1dca59675f042f986f4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWNmMzYyOTI1MWI3NTUxYTYwODJjMWRjYTU5Njc1ZjA0MmY5ODZmNA==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2015-04-22T09:03:01Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2015-04-22T09:03:01Z"}, "message": "Fix va_arg ap_copy nop detection\n\n2015-04-22  Tom de Vries  <tom@codesourcery.com>\n\n\tPR tree-optimization/65823\n\t* gimplify.c (gimplify_modify_expr): Use operand_equal_p to test for\n\tequality between ap_copy and ap.\n\nFrom-SVN: r222318", "tree": {"sha": "1665f0ecf25caa8207c2dd40ffc97c380262cd32", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1665f0ecf25caa8207c2dd40ffc97c380262cd32"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5cf3629251b7551a6082c1dca59675f042f986f4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5cf3629251b7551a6082c1dca59675f042f986f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5cf3629251b7551a6082c1dca59675f042f986f4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5cf3629251b7551a6082c1dca59675f042f986f4/comments", "author": null, "committer": null, "parents": [{"sha": "2aa84d43ba19ff173cbf2f63ebd2c398d6fb6c6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2aa84d43ba19ff173cbf2f63ebd2c398d6fb6c6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2aa84d43ba19ff173cbf2f63ebd2c398d6fb6c6f"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "59eb8f8c1ecd571ea887025546e837910e944b05", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5cf3629251b7551a6082c1dca59675f042f986f4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5cf3629251b7551a6082c1dca59675f042f986f4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5cf3629251b7551a6082c1dca59675f042f986f4", "patch": "@@ -1,3 +1,9 @@\n+2015-04-22  Tom de Vries  <tom@codesourcery.com>\n+\n+\tPR tree-optimization/65823\n+\t* gimplify.c (gimplify_modify_expr): Use operand_equal_p to test for\n+\tequality between ap_copy and ap.\n+\n 2015-04-22  Bernhard Reutner-Fischer  <aldot@gcc.gnu.org>\n \n \tPR target/47098"}, {"sha": "c68bd4747564b80a555538cc28f92bcc8c9538de", "filename": "gcc/gimplify.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5cf3629251b7551a6082c1dca59675f042f986f4/gcc%2Fgimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5cf3629251b7551a6082c1dca59675f042f986f4/gcc%2Fgimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimplify.c?ref=5cf3629251b7551a6082c1dca59675f042f986f4", "patch": "@@ -4792,7 +4792,7 @@ gimplify_modify_expr (tree *expr_p, gimple_seq *pre_p, gimple_seq *post_p,\n   if (ap != NULL_TREE\n       && TREE_CODE (ap) == ADDR_EXPR\n       && TREE_CODE (ap_copy) == ADDR_EXPR\n-      && TREE_OPERAND (ap, 0) != TREE_OPERAND (ap_copy, 0))\n+      && !operand_equal_p (TREE_OPERAND (ap, 0), TREE_OPERAND (ap_copy, 0), 0))\n     gimplify_assign (TREE_OPERAND (ap, 0), TREE_OPERAND (ap_copy, 0), pre_p);\n \n   if (want_value)"}]}