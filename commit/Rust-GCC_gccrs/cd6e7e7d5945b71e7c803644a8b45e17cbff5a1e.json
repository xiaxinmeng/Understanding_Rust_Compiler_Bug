{"sha": "cd6e7e7d5945b71e7c803644a8b45e17cbff5a1e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2Q2ZTdlN2Q1OTQ1YjcxZTdjODAzNjQ0YThiNDVlMTdjYmZmNWExZQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2006-01-16T16:53:48Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2006-01-16T16:53:48Z"}, "message": "tree-vrp.c (extract_range_from_binary_expr): Cope with vrp_int_const_binop returning non-constant nodes.\n\n\t* tree-vrp.c (extract_range_from_binary_expr): Cope with\n\tvrp_int_const_binop returning non-constant nodes.\n\nFrom-SVN: r109754", "tree": {"sha": "cc3fe1737539a5ef66ea94934912c395115f44de", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cc3fe1737539a5ef66ea94934912c395115f44de"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cd6e7e7d5945b71e7c803644a8b45e17cbff5a1e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd6e7e7d5945b71e7c803644a8b45e17cbff5a1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd6e7e7d5945b71e7c803644a8b45e17cbff5a1e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd6e7e7d5945b71e7c803644a8b45e17cbff5a1e/comments", "author": null, "committer": null, "parents": [{"sha": "8883f8bad976dcd8aa992eb8ccf2b5ba467d6145", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8883f8bad976dcd8aa992eb8ccf2b5ba467d6145", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8883f8bad976dcd8aa992eb8ccf2b5ba467d6145"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "61e005c6dda5ae56564a7d2e6a70fce73b14c841", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd6e7e7d5945b71e7c803644a8b45e17cbff5a1e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd6e7e7d5945b71e7c803644a8b45e17cbff5a1e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cd6e7e7d5945b71e7c803644a8b45e17cbff5a1e", "patch": "@@ -1,3 +1,8 @@\n+2006-01-16  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* tree-vrp.c (extract_range_from_binary_expr): Cope with\n+\tvrp_int_const_binop returning non-constant nodes.\n+\n 2006-01-16  Paul Brook  <paul@codesourcery.com>\n \n \t* config/m68k/m68k.c (output_move_const_into_data_reg):"}, {"sha": "7fcd62d0fb99aab7c415886ae3443fd2e893423f", "filename": "gcc/tree-vrp.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd6e7e7d5945b71e7c803644a8b45e17cbff5a1e/gcc%2Ftree-vrp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd6e7e7d5945b71e7c803644a8b45e17cbff5a1e/gcc%2Ftree-vrp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vrp.c?ref=cd6e7e7d5945b71e7c803644a8b45e17cbff5a1e", "patch": "@@ -1412,12 +1412,13 @@ extract_range_from_binary_expr (value_range_t *vr, tree expr)\n       max = val[0];\n       for (i = 1; i < 4; i++)\n \t{\n-\t  if (TREE_OVERFLOW (min) || TREE_OVERFLOW (max))\n+\t  if (!is_gimple_min_invariant (min) || TREE_OVERFLOW (min)\n+\t      || !is_gimple_min_invariant (max) || TREE_OVERFLOW (max))\n \t    break;\n \n \t  if (val[i])\n \t    {\n-\t      if (TREE_OVERFLOW (val[i]))\n+\t      if (!is_gimple_min_invariant (val[i]) || TREE_OVERFLOW (val[i]))\n \t\t{\n \t\t  /* If we found an overflowed value, set MIN and MAX\n \t\t     to it so that we set the resulting range to\n@@ -1484,7 +1485,8 @@ extract_range_from_binary_expr (value_range_t *vr, tree expr)\n \n   /* If either MIN or MAX overflowed, then set the resulting range to\n      VARYING.  */\n-  if (TREE_OVERFLOW (min) || TREE_OVERFLOW (max))\n+  if (!is_gimple_min_invariant (min) || TREE_OVERFLOW (min)\n+      || !is_gimple_min_invariant (max) || TREE_OVERFLOW (max))\n     {\n       set_value_range_to_varying (vr);\n       return;"}]}