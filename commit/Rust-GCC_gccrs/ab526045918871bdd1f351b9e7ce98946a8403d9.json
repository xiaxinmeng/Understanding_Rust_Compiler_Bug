{"sha": "ab526045918871bdd1f351b9e7ce98946a8403d9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWI1MjYwNDU5MTg4NzFiZGQxZjM1MWI5ZTdjZTk4OTQ2YTg0MDNkOQ==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2000-01-14T16:00:37Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2000-01-14T16:00:37Z"}, "message": "elxsi-protos.h: New file.\n\n\t* elxsi-protos.h: New file.\n\n\t* elxsi.c: Include tm_p.h.  Add static prototypes.  Fix compile\n\ttime warnings.\n\n\t* elxsi.h: Move prototypes to elxsi-protos.h.  Fix compile time\n\twarnings.\n\n\t* elxsi.md: Likewise.\n\nFrom-SVN: r31414", "tree": {"sha": "57c6865bad33bec2ab9b7ad9aba0142913425d43", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/57c6865bad33bec2ab9b7ad9aba0142913425d43"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ab526045918871bdd1f351b9e7ce98946a8403d9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab526045918871bdd1f351b9e7ce98946a8403d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab526045918871bdd1f351b9e7ce98946a8403d9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab526045918871bdd1f351b9e7ce98946a8403d9/comments", "author": null, "committer": null, "parents": [{"sha": "4790d87842d63ed963525ac07504ac2e8e3086f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4790d87842d63ed963525ac07504ac2e8e3086f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4790d87842d63ed963525ac07504ac2e8e3086f7"}], "stats": {"total": 91, "additions": 71, "deletions": 20}, "files": [{"sha": "4431b3eae1c91a2a99454989fa2aed41c7a071c9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab526045918871bdd1f351b9e7ce98946a8403d9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab526045918871bdd1f351b9e7ce98946a8403d9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ab526045918871bdd1f351b9e7ce98946a8403d9", "patch": "@@ -1,3 +1,15 @@\n+2000-01-14  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* elxsi-protos.h: New file.\n+\n+\t* elxsi.c: Include tm_p.h.  Add static prototypes.  Fix compile\n+\ttime warnings.\n+\t\n+\t* elxsi.h: Move prototypes to elxsi-protos.h.  Fix compile time\n+\twarnings.\n+\t\n+\t* elxsi.md: Likewise.\n+\n 2000-01-14  Clinton Popetz  <cpopetz@cygnus.com>\n \n \t* config/mips/mips.h (REGISTER_MOVE_COST): Remove redundant"}, {"sha": "9889da03b62cf627eec0772ec55a5784c36b1f9b", "filename": "gcc/config/elxsi/elxsi-protos.h", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab526045918871bdd1f351b9e7ce98946a8403d9/gcc%2Fconfig%2Felxsi%2Felxsi-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab526045918871bdd1f351b9e7ce98946a8403d9/gcc%2Fconfig%2Felxsi%2Felxsi-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Felxsi%2Felxsi-protos.h?ref=ab526045918871bdd1f351b9e7ce98946a8403d9", "patch": "@@ -0,0 +1,31 @@\n+/* Definitions of target machine for GNU compiler.  Elxsi version.\n+   Copyright (C) 2000 Free Software Foundation, Inc.\n+   Contributed by Mike Stump <mrs@cygnus.com> in 1988.  This is the first\n+   64 bit port of GNU CC.\n+   Based upon the VAX port.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 1, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+/* Functions used in the md file. */\n+\n+#ifdef RTX_CODE\n+extern const char *cmp_set PARAMS ((const char *, const char *, rtx));\n+extern const char *cmp_jmp PARAMS ((const char *, int, rtx));\n+extern void print_operand_address PARAMS ((FILE *, rtx));\n+#endif /* RTX_CODE */\n+"}, {"sha": "4242b3855bed9ba7117dd15d8965fc714d8a864d", "filename": "gcc/config/elxsi/elxsi.c", "status": "modified", "additions": 21, "deletions": 10, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab526045918871bdd1f351b9e7ce98946a8403d9/gcc%2Fconfig%2Felxsi%2Felxsi.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab526045918871bdd1f351b9e7ce98946a8403d9/gcc%2Fconfig%2Felxsi%2Felxsi.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Felxsi%2Felxsi.c?ref=ab526045918871bdd1f351b9e7ce98946a8403d9", "patch": "@@ -1,5 +1,5 @@\n /* Subroutines for insn-output.c for GNU compiler.  Elxsi version.\n-   Copyright (C) 1987, 1992, 1998, 1999 Free Software Foundation, Inc\n+   Copyright (C) 1987, 1992, 1998, 1999, 2000 Free Software Foundation, Inc\n    Contributrd by Mike Stump <mrs@cygnus.com> in 1988 and is the first\n    64 bit port of GNU CC.\n    Based upon the VAX port.\n@@ -25,22 +25,29 @@ Boston, MA 02111-1307, USA.  */\n #include \"system.h\"\n #include \"rtl.h\"\n #include \"function.h\"\n+#include \"output.h\"\n+#include \"tm_p.h\"\n \n extern const char *reg_names[];\n rtx cmp_op0=0, cmp_op1=0;\n \n /* table of relations for compares and branches */\n-char *cmp_tab[] = {\n+static const char *const cmp_tab[] = {\n     \"gt\", \"gt\", \"eq\", \"eq\", \"ge\", \"ge\", \"lt\", \"lt\", \"ne\", \"ne\",\n     \"le\", \"le\" };\n \n /* type is the index into the above table */\n /* s is \"\" for signed, or \"u\" for unsigned */\n-char *cmp_jmp(s, type, where) char *s; rtx where; {\n+const char *\n+cmp_jmp (s, type, where)\n+     const char *s;\n+     int type;\n+     rtx where;\n+{\n     rtx br_ops[3];\n     char template[50];\n-    char *f = \"\";\n-    char *bits = \"64\";\n+    const char *f = \"\";\n+    const char *bits = \"64\";\n     if (GET_MODE (cmp_op0) == SFmode) f = \"f\", bits = \"32\";\n     if (GET_MODE (cmp_op0) == DFmode) f = \"f\";\n     br_ops[0] = where;\n@@ -53,18 +60,22 @@ char *cmp_jmp(s, type, where) char *s; rtx where; {\n \tsprintf(template, \"fcmp.br.%s\\t%%1,=0:j%s\\t%%l0\",\n \t\tbits, cmp_tab[type]);\n     else if (*s) /* can turn the below in to a jmp ... */\n-\tsprintf(template, \"cmpu.br.64\\t%%1,=0:j%s\\t%%l0\", s, cmp_tab[type]);\n+\tsprintf(template, \"cmpu.br.64\\t%%1,=0:j%s\\t%%l0\", s);\n     else\n \tsprintf(template, \"jmp.%s\\t%%1,%%l0\", cmp_tab[type+1]);\n     output_asm_insn(template, br_ops);\n     return \"\";\n }\n \n-char *cmp_set(s, type, reg) char *s, *type; rtx reg; {\n+const char *\n+cmp_set (s, type, reg)\n+     const char *s, *type;\n+     rtx reg;\n+{\n     rtx br_ops[3];\n     char template[50];\n-    char *f = \"\";\n-    char *bits = \"64\";\n+    const char *f = \"\";\n+    const char *bits = \"64\";\n     if (GET_MODE (cmp_op0) == SFmode) f = \"f\", bits = \"32\";\n     else if (GET_MODE (cmp_op0) == DFmode) f = \"f\";\n     else if (GET_MODE (cmp_op0) == SImode) bits = \"32\";\n@@ -83,14 +94,14 @@ char *cmp_set(s, type, reg) char *s, *type; rtx reg; {\n     return \"\";\n }\n \n+void\n print_operand_address (file, addr)\n      FILE *file;\n      register rtx addr;\n {\n   register rtx reg1, reg2, breg, ireg;\n   rtx offset;\n \n- retry:\n   switch (GET_CODE (addr))\n     {\n "}, {"sha": "8b3e0061dc7e568a66d621747d183164ef8a8bb3", "filename": "gcc/config/elxsi/elxsi.h", "status": "modified", "additions": 4, "deletions": 9, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab526045918871bdd1f351b9e7ce98946a8403d9/gcc%2Fconfig%2Felxsi%2Felxsi.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab526045918871bdd1f351b9e7ce98946a8403d9/gcc%2Fconfig%2Felxsi%2Felxsi.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Felxsi%2Felxsi.h?ref=ab526045918871bdd1f351b9e7ce98946a8403d9", "patch": "@@ -1,5 +1,5 @@\n /* Definitions of target machine for GNU compiler.  Elxsi version.\n-   Copyright (C) 1987, 88, 92, 95, 96, 1998, 1999 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 88, 92, 95, 96, 98, 99, 2000 Free Software Foundation, Inc.\n    Contributed by Mike Stump <mrs@cygnus.com> in 1988.  This is the first\n    64 bit port of GNU CC.\n    Based upon the VAX port.\n@@ -234,7 +234,7 @@ enum reg_class { NO_REGS, GENERAL_REGS, ALL_REGS, LIM_REG_CLASSES };\n    This is an initializer for a vector of HARD_REG_SET\n    of length N_REG_CLASSES.  */\n \n-#define REG_CLASS_CONTENTS {0, 0x07fff, 0xffff}\n+#define REG_CLASS_CONTENTS {{0}, {0x07fff}, {0xffff}}\n \n /* The same information, inverted:\n    Return the class number of the smallest class containing\n@@ -714,7 +714,7 @@ enum reg_class { NO_REGS, GENERAL_REGS, ALL_REGS, LIM_REG_CLASSES };\n   } while (0)\n \n /* Output at beginning of assembler file.  */\n-#define ASM_FILE_START(FILE) fprintf (FILE, \"\");\n+#define ASM_FILE_START(FILE) fputs (\"\", (FILE));\n \n /* Output to assembler file text saying following lines\n    may contain character constants, extra white space, comments, etc.  */\n@@ -882,7 +882,7 @@ enum reg_class { NO_REGS, GENERAL_REGS, ALL_REGS, LIM_REG_CLASSES };\n    to a multiple of 2**LOG bytes.  */\n \n #define ASM_OUTPUT_ALIGN(FILE,LOG)  \\\n-  if (LOG!=0) fprintf (FILE, \"\\t.align\\t%d\\n\", (LOG)); else 0\n+  do { if (LOG!=0) fprintf (FILE, \"\\t.align\\t%d\\n\", (LOG)); } while (0)\n \n /* This is how to output an assembler line\n    that says to advance the location counter by SIZE bytes.  */\n@@ -954,11 +954,6 @@ enum reg_class { NO_REGS, GENERAL_REGS, ALL_REGS, LIM_REG_CLASSES };\n #define PRINT_OPERAND_ADDRESS(FILE, ADDR)  \\\n  print_operand_address (FILE, ADDR)\n \n-/* Functions used in the md file. */\n-\n-extern char *cmp_set();\n-extern char *cmp_jmp();\n-\n /* These are stubs, and have yet to bee written. */\n \n #define TRAMPOLINE_SIZE 26"}, {"sha": "084ff36fc660a24ef428128d280f6438faf8e642", "filename": "gcc/config/elxsi/elxsi.md", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab526045918871bdd1f351b9e7ce98946a8403d9/gcc%2Fconfig%2Felxsi%2Felxsi.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab526045918871bdd1f351b9e7ce98946a8403d9/gcc%2Fconfig%2Felxsi%2Felxsi.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Felxsi%2Felxsi.md?ref=ab526045918871bdd1f351b9e7ce98946a8403d9", "patch": "@@ -1,5 +1,5 @@\n ;;- Machine description for GNU compiler, Elxsi Version\n-;;  Copyright (C) 1987, 1988, 1992, 1994 Free Software Foundation, Inc.\n+;;  Copyright (C) 1987, 1988, 1992, 1994, 2000 Free Software Foundation, Inc.\n ;;  Contributed by Mike Stump <mrs@cygnus.com> in 1988, and is the first\n ;;  64 bit port of GNU CC.\n ;;  Based upon the VAX port.\n@@ -525,6 +525,8 @@\n       else\n         return \\\"stin.64\\\\t%n1,%0\\\";\n     }\n+  else\n+    abort();\n \")\n \n (define_insn \"movsi\""}]}