{"sha": "56694dd9965e7496ca003ec37a6709c86762b8d0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTY2OTRkZDk5NjVlNzQ5NmNhMDAzZWMzN2E2NzA5Yzg2NzYyYjhkMA==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2003-07-08T05:55:11Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2003-07-08T05:55:11Z"}, "message": "Makefile.tpl (configure-gcc): Depend on maybe-configure-intl.\n\ntop:\n\t* Makefile.tpl (configure-gcc): Depend on maybe-configure-intl.\n\t* Makefile.in: Regenerate.\nconfig:\n\t* gettext.m4: Delete all former contents.\n\t(ZW_GNU_GETTEXT_SISTER_DIR): New macro.\n\t* progtest.m4: New file.\ngcc:\n\t* Makefile.in (top_builddir): Set to \"..\", not \".\".\n\t(INTLLIBS, INTLDEPS): Delete.\n\t(LIBINTL, LIBINTL_DEP, LIBICONV_DEP): New variables to be substituted.\n\t(LIBDEPS): Add $(LIBICONV_DEP).\n\t(LIBS): Take out $(INTLLIBS), add $(LIBINTL) and $(LIBICONV).\n\t(INCLUDES): Replace -I../intl with @INCINTL@.\n\t($(top_builddir)/intl/libintl.a): Delete rule.\n\t(stage2-start, stage3-start, stage4-start, stageprofile-start,\n\tstagefeedback-start): Use $$ for variable to be evaluated by\n\tshell, not make.\n\t* acconfig.h (ENABLE_NLS, HAVE_CATGETS, HAVE_GETTEXT,\n\tHAVE_LC_MESSAGES, HAVE_STPCPY): Delete.\n\t* aclocal.m4: sinclude ../config/progtest.m4.  Add\n\tcontents of lcmessage.m4 from gettext distro.\n\t* configure.in: Check for wchar.h and setlocale.  Set\n\tLIBICONV_DEP to the empty string and substitute it.\n\tCall AM_LC_MESSAGES.  Delete AC_ARG_ENABLE for --enable-nls;\n\tthis is handled elsewhere.  Use ZW_GNU_GETTEXT_SISTER_DIR,\n\tnot CY_GNU_GETTEXT.  Clear $LIBICONV if its text is included\n\tin $LIBINTL, to avoid linking it twice.\n\t* configure, config.in: Regenerate.\nintl:\n\t* README: Update.\n\t* Makefile.in (INSTALL, INSTALL_DATA, MKINSTALLDIRS,\n\tmkinstalldirs, gettextsrcdir, l): Delete.\n\t(COMPILE): Add $(DEFS-$@), remove $(XCFLAGS).\n\t(HEADERS): libgnuintl.h not libgnuintl.h.in.  Remove os2compat.h.\n\t(SOURCES): Remove os2compat.c.\n\t(DEFS-dcigettext.o, DEFS-localealias.o, DEFS-localcharset.o,\n\tDEFS-relocatable.o): New.\n\t(all-yes): Add config.intl.\n\t(libintl.h): Use cp, not cat.\n\t(INCLUDES): Remove -I..\n\t(TAGS, CTAGS, ID): Word wrap.\n\t(mostlyclean, distclean): Remove junk.\n\t(config.intl): New rule.\n\t* aclocal.m4: sinclude ../config/progtest.m4 instead of\n\tincluding it inline.\n\t* config.intl.in: New file.\n\t* configure.in: Take out unnecessary AC_CONFIG_AUX_DIR.\n\tTake out AC_DEFINEs for LOCALEDIR, LOCALE_ALIAS_PATH,\n\tLIBDIR, INSTALLDIR.  Set LIBINTL_DEP and INCINTL and AC_SUBST\n\tthem.  Add config.intl to AC_OUTPUT.\n\t* os2compat.c, os2compat.h: Delete, unused.\n\nFrom-SVN: r69071", "tree": {"sha": "69b1e37b7015fae738d99619fce13dfd3030dea0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/69b1e37b7015fae738d99619fce13dfd3030dea0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/56694dd9965e7496ca003ec37a6709c86762b8d0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56694dd9965e7496ca003ec37a6709c86762b8d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56694dd9965e7496ca003ec37a6709c86762b8d0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56694dd9965e7496ca003ec37a6709c86762b8d0/comments", "author": null, "committer": null, "parents": [{"sha": "a294c4cf9122cc665b452d9f08b3d05f47cbb00e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a294c4cf9122cc665b452d9f08b3d05f47cbb00e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a294c4cf9122cc665b452d9f08b3d05f47cbb00e"}], "stats": {"total": 12138, "additions": 3434, "deletions": 8704}, "files": [{"sha": "64d9b7c4351230c81b8527e86bb74c674b8d599f", "filename": "ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -1,3 +1,8 @@\n+2003-07-07  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* Makefile.tpl (configure-gcc): Depend on maybe-configure-intl.\n+\t* Makefile.in: Regenerate.\n+\n 2003-07-04  Zack Weinberg  <zack@codesourcery.com>\n \n \t* Makefile.tpl (all-bootstrap): Depend on maybe-all-intl."}, {"sha": "136a4f82746addec821b038493ae7609f987be55", "filename": "Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -23740,7 +23740,8 @@ gcc-no-fixedincludes:\n \n # Host modules specific to gcc.\n # GCC needs to identify certain tools.\n-configure-gcc: maybe-configure-binutils maybe-configure-gas maybe-configure-ld maybe-configure-bison maybe-configure-flex\n+# GCC also needs the information exported by the intl configure script.\n+configure-gcc: maybe-configure-intl maybe-configure-binutils maybe-configure-gas maybe-configure-ld maybe-configure-bison maybe-configure-flex\n all-gcc: maybe-all-libiberty maybe-all-intl maybe-all-bison maybe-all-byacc maybe-all-binutils maybe-all-gas maybe-all-ld maybe-all-zlib\n # This is a slightly kludgy method of getting dependencies on \n # all-build-libiberty correct; it would be better to build it every time."}, {"sha": "c34fcb552e4e7eb8ace300e2f4bddfb87addb198", "filename": "Makefile.tpl", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -1285,7 +1285,8 @@ gcc-no-fixedincludes:\n \n # Host modules specific to gcc.\n # GCC needs to identify certain tools.\n-configure-gcc: maybe-configure-binutils maybe-configure-gas maybe-configure-ld maybe-configure-bison maybe-configure-flex\n+# GCC also needs the information exported by the intl configure script.\n+configure-gcc: maybe-configure-intl maybe-configure-binutils maybe-configure-gas maybe-configure-ld maybe-configure-bison maybe-configure-flex\n all-gcc: maybe-all-libiberty maybe-all-intl maybe-all-bison maybe-all-byacc maybe-all-binutils maybe-all-gas maybe-all-ld maybe-all-zlib\n # This is a slightly kludgy method of getting dependencies on \n # all-build-libiberty correct; it would be better to build it every time."}, {"sha": "7a7605bc46760723b4425a7c9f33a3aab16729ea", "filename": "config/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/config%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/config%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2FChangeLog?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -1,3 +1,9 @@\n+2003-07-07  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* gettext.m4: Delete all former contents.\n+\t(ZW_GNU_GETTEXT_SISTER_DIR): New macro.\n+\t* progtest.m4: New file.\n+\n 2003-07-04  Zack Weinberg  <zack@codesourcery.com>\n \n \t* gettext.m4: New file - copy of gettext.m4 from binutils"}, {"sha": "a704307c310c110b080ef45f4474d25f334edcf9", "filename": "config/gettext.m4", "status": "modified", "additions": 61, "deletions": 356, "changes": 417, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/config%2Fgettext.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/config%2Fgettext.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Fgettext.m4?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -1,361 +1,66 @@\n-# This file is derived from `gettext.m4'.  The difference is that the\n-# included macros assume Cygnus-style source and build trees.\n-\n-#serial 1\n-dnl This test replaces the one in autoconf.\n-dnl Currently this macro should have the same name as the autoconf macro\n-dnl because gettext's gettext.m4 (distributed in the automake package)\n-dnl still uses it.  Otherwise, the use in gettext.m4 makes autoheader\n-dnl give these diagnostics:\n-dnl   configure.in:556: AC_TRY_COMPILE was called before AC_ISC_POSIX\n-dnl   configure.in:556: AC_TRY_RUN was called before AC_ISC_POSIX\n-\n-undefine([AC_ISC_POSIX])\n-AC_DEFUN(AC_ISC_POSIX,\n-  [\n-    dnl This test replaces the obsolescent AC_ISC_POSIX kludge.\n-    AC_CHECK_LIB(cposix, strerror, [LIBS=\"$LIBS -lcposix\"])\n-  ]\n-)\n-\n-# Macro to add for using GNU gettext.\n-# Ulrich Drepper <drepper@cygnus.com>, 1995.\n+# intl sister-directory configuration rules.\n #\n-# This file file be copied and used freely without restrictions.  It can\n-# be used in projects which are not available under the GNU Public License\n-# but which still want to provide support for the GNU gettext functionality.\n-# Please note that the actual code is *not* freely available.\n-\n-# serial 3\n-\n-AC_DEFUN(CY_WITH_NLS,\n-  [AC_MSG_CHECKING([whether NLS is requested])\n-    dnl Default is enabled NLS\n-    AC_ARG_ENABLE(nls,\n-      [  --disable-nls           do not use Native Language Support],\n-      USE_NLS=$enableval, USE_NLS=yes)\n-    AC_MSG_RESULT($USE_NLS)\n-    AC_SUBST(USE_NLS)\n-\n-    USE_INCLUDED_LIBINTL=no\n-\n-    dnl If we use NLS figure out what method\n-    if test \"$USE_NLS\" = \"yes\"; then\n-      AC_DEFINE(ENABLE_NLS, 1, [Define to 1 if NLS is requested])\n-      AC_MSG_CHECKING([whether included gettext is requested])\n-      AC_ARG_WITH(included-gettext,\n-        [  --with-included-gettext use the GNU gettext library included here],\n-        nls_cv_force_use_gnu_gettext=$withval,\n-        nls_cv_force_use_gnu_gettext=no)\n-      AC_MSG_RESULT($nls_cv_force_use_gnu_gettext)\n-\n-      nls_cv_use_gnu_gettext=\"$nls_cv_force_use_gnu_gettext\"\n-      if test \"$nls_cv_force_use_gnu_gettext\" != \"yes\"; then\n-        dnl User does not insist on using GNU NLS library.  Figure out what\n-        dnl to use.  If gettext or catgets are available (in this order) we\n-        dnl use this.  Else we have to fall back to GNU NLS library.\n-\tdnl catgets is only used if permitted by option --with-catgets.\n-\tnls_cv_header_intl=\n-\tnls_cv_header_libgt=\n-\tCATOBJEXT=NONE\n-\n-\tAC_CHECK_HEADER(libintl.h,\n-\t  [AC_CACHE_CHECK([for gettext in libc], gt_cv_func_gettext_libc,\n-\t    [AC_TRY_LINK([#include <libintl.h>], [return (int) gettext (\"\")],\n-\t       gt_cv_func_gettext_libc=yes, gt_cv_func_gettext_libc=no)])\n-\n-\t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n-\t     AC_CHECK_LIB(intl, bindtextdomain,\n-\t       [AC_CACHE_CHECK([for gettext in libintl],\n-\t\t gt_cv_func_gettext_libintl,\n-\t\t [AC_TRY_LINK([], [return (int) gettext (\"\")],\n-\t\t gt_cv_func_gettext_libintl=yes,\n-\t\t gt_cv_func_gettext_libintl=no)])])\n-\t   fi\n-\n-\t   if test \"$gt_cv_func_gettext_libc\" = \"yes\" \\\n-\t      || test \"$gt_cv_func_gettext_libintl\" = \"yes\"; then\n-\t      AC_DEFINE(HAVE_GETTEXT, 1,\n-\t\t\t[Define as 1 if you have gettext and don't want to use GNU gettext.])\n-\t      AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,\n-\t\t[test -z \"`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`\"], no)dnl\n-\t      if test \"$MSGFMT\" != \"no\"; then\n-\t\tAC_CHECK_FUNCS(dcgettext)\n-\t\tAC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)\n-\t\tAM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,\n-\t\t  [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`\"], :)\n-\t\tAC_TRY_LINK(, [extern int _nl_msg_cat_cntr;\n-\t\t\t       return _nl_msg_cat_cntr],\n-\t\t  [CATOBJEXT=.gmo\n-\t\t   DATADIRNAME=share],\n-\t\t  [CATOBJEXT=.mo\n-\t\t   DATADIRNAME=lib])\n-\t\tINSTOBJEXT=.mo\n-\t      fi\n-\t    fi\n-\t])\n-\n-\tdnl In the standard gettext, we would now check for catgets.\n-        dnl However, we never want to use catgets for our releases.\n \n-        if test \"$CATOBJEXT\" = \"NONE\"; then\n-\t  dnl Neither gettext nor catgets in included in the C library.\n-\t  dnl Fall back on GNU gettext library.\n-\t  nls_cv_use_gnu_gettext=yes\n-        fi\n-      fi\n-\n-      if test \"$nls_cv_use_gnu_gettext\" = \"yes\"; then\n-        dnl Mark actions used to generate GNU NLS library.\n-        INTLOBJS=\"\\$(GETTOBJS)\"\n-        AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,\n-\t  [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`\"], msgfmt)\n-        AC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)\n-        AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,\n-\t  [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`\"], :)\n-        AC_SUBST(MSGFMT)\n-\tUSE_INCLUDED_LIBINTL=yes\n-        CATOBJEXT=.gmo\n-        INSTOBJEXT=.mo\n-        DATADIRNAME=share\n-\tINTLDEPS='$(top_builddir)/../intl/libintl.a'\n-\tINTLLIBS=$INTLDEPS\n-\tLIBS=`echo $LIBS | sed -e 's/-lintl//'`\n-        nls_cv_header_intl=libintl.h\n-        nls_cv_header_libgt=libgettext.h\n-      fi\n-\n-      dnl Test whether we really found GNU xgettext.\n-      if test \"$XGETTEXT\" != \":\"; then\n-\tdnl If it is no GNU xgettext we define it as : so that the\n-\tdnl Makefiles still can work.\n-\tif $XGETTEXT --omit-header /dev/null 2> /dev/null; then\n-\t  : ;\n-\telse\n-\t  AC_MSG_RESULT(\n-\t    [found xgettext programs is not GNU xgettext; ignore it])\n-\t  XGETTEXT=\":\"\n-\tfi\n-      fi\n-\n-      # We need to process the po/ directory.\n-      POSUB=po\n+# The idea behind this macro is that there's no need to repeat all the\n+# autoconf probes done by the intl directory - it's already done them\n+# for us.  In fact, there's no need even to look at the cache for the\n+# answers.  All we need to do is nab a few pieces of information.\n+# The intl directory is set up to make this easy, by generating a\n+# small file which can be sourced as a shell script; then we produce\n+# the necessary substitutions and definitions for this directory.\n+\n+AC_DEFUN(ZW_GNU_GETTEXT_SISTER_DIR,\n+[# If we haven't got the data from the intl directory,\n+# assume NLS is disabled.\n+USE_NLS=no\tAC_SUBST(USE_NLS)\n+LIBINTL=\tAC_SUBST(LIBINTL)\n+LIBINTL_DEP=\tAC_SUBST(LIBINTL_DEP)\n+INCINTL=\tAC_SUBST(INCINTL)\n+XGETTEXT=\tAC_SUBST(XGETTEXT)\n+GMSGFMT=\tAC_SUBST(GMSGFMT)\n+POSUB=\t\tAC_SUBST(POSUB)\n+if test -f ../intl/config.intl; then\n+  . ../intl/config.intl\n+fi\n+AC_MSG_CHECKING([whether NLS is requested])\n+if test x\"$USE_NLS\" != xyes; then\n+  AC_MSG_RESULT(no)\n+else\n+  AC_MSG_RESULT(yes)\n+  AC_DEFINE(ENABLE_NLS, 1, \n+ [Define to 1 if translation of program messages to the \n+  user's native language is requested.])\n+\n+  AC_MSG_CHECKING(for catalogs to be installed)\n+  # Look for .po and .gmo files in the source directory.\n+  CATALOGS=  AC_SUBST(CATALOGS)\n+  XLINGUAS=\n+  for cat in $srcdir/po/*.gmo $srcdir/po/*.po; do\n+    # If there aren't any .gmo files the shell will give us the\n+    # literal string \"../path/to/srcdir/po/*.gmo\" which has to be\n+    # weeded out.\n+    case \"$cat\" in *\\**)\n+      continue;;\n+    esac\n+    # The quadruple backslash is collapsed to a double backslash\n+    # by the backticks, then collapsed again by the double quotes,\n+    # leaving us with one backslash in the sed expression (right\n+    # before the dot that mustn't act as a wildcard).\n+    cat=`echo $cat | sed -e \"s!$srcdir/!!\" -e \"s!\\\\\\\\.po!.gmo!\"`\n+    lang=`echo $cat | sed -e 's!po/!!' -e \"s!\\\\\\\\.gmo!!\"`\n+    # The user is allowed to set LINGUAS to a list of languages to\n+    # install catalogs for.  If it's empty that means \"all of them.\"\n+    if test \"x$LINGUAS\" = x; then\n+      CATALOGS=\"$CATALOGS $cat\"\n+      XLINGUAS=\"$XLINGUAS $lang\"\n     else\n-      DATADIRNAME=share\n-      nls_cv_header_intl=libintl.h\n-      nls_cv_header_libgt=libgettext.h\n-    fi\n-\n-    # If this is used in GNU gettext we have to set USE_NLS to `yes'\n-    # because some of the sources are only built for this goal.\n-    if test \"$PACKAGE\" = gettext; then\n-      USE_NLS=yes\n-      USE_INCLUDED_LIBINTL=yes\n-    fi\n-\n-    dnl These rules are solely for the distribution goal.  While doing this\n-    dnl we only have to keep exactly one list of the available catalogs\n-    dnl in configure.in.\n-    for lang in $ALL_LINGUAS; do\n-      GMOFILES=\"$GMOFILES $lang.gmo\"\n-      POFILES=\"$POFILES $lang.po\"\n-    done\n-\n-    dnl Make all variables we use known to autoconf.\n-    AC_SUBST(USE_INCLUDED_LIBINTL)\n-    AC_SUBST(CATALOGS)\n-    AC_SUBST(CATOBJEXT)\n-    AC_SUBST(DATADIRNAME)\n-    AC_SUBST(GMOFILES)\n-    AC_SUBST(INSTOBJEXT)\n-    AC_SUBST(INTLDEPS)\n-    AC_SUBST(INTLLIBS)\n-    AC_SUBST(INTLOBJS)\n-    AC_SUBST(POFILES)\n-    AC_SUBST(POSUB)\n-  ])\n-\n-AC_DEFUN(CY_GNU_GETTEXT,\n-  [AC_REQUIRE([AC_PROG_MAKE_SET])dnl\n-   AC_REQUIRE([AC_PROG_CC])dnl\n-   AC_REQUIRE([AC_PROG_RANLIB])dnl\n-   AC_REQUIRE([AC_ISC_POSIX])dnl\n-   AC_REQUIRE([AC_HEADER_STDC])dnl\n-   AC_REQUIRE([AC_C_CONST])dnl\n-   AC_REQUIRE([AC_C_INLINE])dnl\n-   AC_REQUIRE([AC_TYPE_OFF_T])dnl\n-   AC_REQUIRE([AC_TYPE_SIZE_T])dnl\n-   AC_REQUIRE([AC_FUNC_ALLOCA])dnl\n-   AC_REQUIRE([AC_FUNC_MMAP])dnl\n-\n-   AC_CHECK_HEADERS([argz.h limits.h locale.h nl_types.h malloc.h string.h \\\n-unistd.h values.h sys/param.h])\n-   AC_CHECK_FUNCS([getcwd munmap putenv setenv setlocale strchr strcasecmp \\\n-__argz_count __argz_stringify __argz_next])\n-\n-   if test \"${ac_cv_func_stpcpy+set}\" != \"set\"; then\n-     AC_CHECK_FUNCS(stpcpy)\n-   fi\n-   if test \"${ac_cv_func_stpcpy}\" = \"yes\"; then\n-     AC_DEFINE(HAVE_STPCPY, 1, [Define if you have the stpcpy function])\n-   fi\n-\n-   AM_LC_MESSAGES\n-   CY_WITH_NLS\n-\n-   if test \"x$CATOBJEXT\" != \"x\"; then\n-     if test \"x$ALL_LINGUAS\" = \"x\"; then\n-       LINGUAS=\n-     else\n-       AC_MSG_CHECKING(for catalogs to be installed)\n-       NEW_LINGUAS=\n-       for lang in ${LINGUAS=$ALL_LINGUAS}; do\n-         case \"$ALL_LINGUAS\" in\n-          *$lang*) NEW_LINGUAS=\"$NEW_LINGUAS $lang\" ;;\n-         esac\n-       done\n-       LINGUAS=$NEW_LINGUAS\n-       AC_MSG_RESULT($LINGUAS)\n-     fi\n-\n-     dnl Construct list of names of catalog files to be constructed.\n-     if test -n \"$LINGUAS\"; then\n-       for lang in $LINGUAS; do CATALOGS=\"$CATALOGS $lang$CATOBJEXT\"; done\n-     fi\n-   fi\n-\n-   dnl The reference to <locale.h> in the installed <libintl.h> file\n-   dnl must be resolved because we cannot expect the users of this\n-   dnl to define HAVE_LOCALE_H.\n-   if test $ac_cv_header_locale_h = yes; then\n-     INCLUDE_LOCALE_H=\"#include <locale.h>\"\n-   else\n-     INCLUDE_LOCALE_H=\"\\\n-/* The system does not provide the header <locale.h>.  Take care yourself.  */\"\n-   fi\n-   AC_SUBST(INCLUDE_LOCALE_H)\n-\n-   dnl Determine which catalog format we have (if any is needed)\n-   dnl For now we know about two different formats:\n-   dnl   Linux libc-5 and the normal X/Open format\n-   if test -f $srcdir/po2tbl.sed.in; then\n-      if test \"$CATOBJEXT\" = \".cat\"; then\n-\t AC_CHECK_HEADER(linux/version.h, msgformat=linux, msgformat=xopen)\n-\n-\t dnl Transform the SED scripts while copying because some dumb SEDs\n-         dnl cannot handle comments.\n-\t sed -e '/^#/d' $srcdir/$msgformat-msg.sed > po2msg.sed\n-      fi\n-      dnl po2tbl.sed is always needed.\n-      sed -e '/^#.*[^\\\\]$/d' -e '/^#$/d' \\\n-\t $srcdir/po2tbl.sed.in > po2tbl.sed\n-   fi\n-\n-   dnl In the intl/Makefile.in we have a special dependency which makes\n-   dnl only sense for gettext.  We comment this out for non-gettext\n-   dnl packages.\n-   if test \"$PACKAGE\" = \"gettext\"; then\n-     GT_NO=\"#NO#\"\n-     GT_YES=\n-   else\n-     GT_NO=\n-     GT_YES=\"#YES#\"\n-   fi\n-   AC_SUBST(GT_NO)\n-   AC_SUBST(GT_YES)\n-\n-   MKINSTALLDIRS=\"\\$(srcdir)/../../mkinstalldirs\"\n-   AC_SUBST(MKINSTALLDIRS)\n-\n-   dnl *** For now the libtool support in intl/Makefile is not for real.\n-   l=\n-   AC_SUBST(l)\n-\n-   dnl Generate list of files to be processed by xgettext which will\n-   dnl be included in po/Makefile.  But only do this if the po directory\n-   dnl exists in srcdir and contains POTFILES.in.\n-   if test -f $srcdir/po/POTFILES.in; then\n-      test -d po || mkdir po\n-      if test \"x$srcdir\" != \"x.\"; then\n-\t if test \"x`echo $srcdir | sed 's@/.*@@'`\" = \"x\"; then\n-\t    posrcprefix=\"$srcdir/\"\n-\t else\n-\t    posrcprefix=\"../$srcdir/\"\n-\t fi\n-      else\n-\t posrcprefix=\"../\"\n-      fi\n-      rm -f po/POTFILES\n-      sed -e \"/^#/d\" -e \"/^\\$/d\" -e \"s,.*,\t$posrcprefix& \\\\\\\\,\" -e \"\\$s/\\(.*\\) \\\\\\\\/\\1/\" \\\n-\t < $srcdir/po/POTFILES.in > po/POTFILES\n-   fi\n-  ])\n-\n-# Search path for a program which passes the given test.\n-# Ulrich Drepper <drepper@cygnus.com>, 1996.\n-#\n-# This file file be copied and used freely without restrictions.  It can\n-# be used in projects which are not available under the GNU Public License\n-# but which still want to provide support for the GNU gettext functionality.\n-# Please note that the actual code is *not* freely available.\n-\n-# serial 1\n-\n-dnl AM_PATH_PROG_WITH_TEST(VARIABLE, PROG-TO-CHECK-FOR,\n-dnl   TEST-PERFORMED-ON-FOUND_PROGRAM [, VALUE-IF-NOT-FOUND [, PATH]])\n-AC_DEFUN(AM_PATH_PROG_WITH_TEST,\n-[# Extract the first word of \"$2\", so it can be a program name with args.\n-set dummy $2; ac_word=[$]2\n-AC_MSG_CHECKING([for $ac_word])\n-AC_CACHE_VAL(ac_cv_path_$1,\n-[case \"[$]$1\" in\n-  /*)\n-  ac_cv_path_$1=\"[$]$1\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-  for ac_dir in ifelse([$5], , $PATH, [$5]); do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/$ac_word; then\n-      if [$3]; then\n-\tac_cv_path_$1=\"$ac_dir/$ac_word\"\n-\tbreak\n-      fi\n+      case \"$LINGUAS\" in *$lang*)\n+        CATALOGS=\"$CATALOGS $cat\"\n+        XLINGUAS=\"$XLINGUAS $lang\"\n+        ;;\n+      esac\n     fi\n   done\n-  IFS=\"$ac_save_ifs\"\n-dnl If no 4th arg is given, leave the cache variable unset,\n-dnl so AC_PATH_PROGS will keep looking.\n-ifelse([$4], , , [  test -z \"[$]ac_cv_path_$1\" && ac_cv_path_$1=\"$4\"\n-])dnl\n-  ;;\n-esac])dnl\n-$1=\"$ac_cv_path_$1\"\n-if test -n \"[$]$1\"; then\n-  AC_MSG_RESULT([$]$1)\n-else\n-  AC_MSG_RESULT(no)\n-fi\n-AC_SUBST($1)dnl\n-])\n-\n-# Check whether LC_MESSAGES is available in <locale.h>.\n-# Ulrich Drepper <drepper@cygnus.com>, 1995.\n-#\n-# This file file be copied and used freely without restrictions.  It can\n-# be used in projects which are not available under the GNU Public License\n-# but which still want to provide support for the GNU gettext functionality.\n-# Please note that the actual code is *not* freely available.\n-\n-# serial 1\n-\n-AC_DEFUN(AM_LC_MESSAGES,\n-  [if test $ac_cv_header_locale_h = yes; then\n-    AC_CACHE_CHECK([for LC_MESSAGES], am_cv_val_LC_MESSAGES,\n-      [AC_TRY_LINK([#include <locale.h>], [return LC_MESSAGES],\n-       am_cv_val_LC_MESSAGES=yes, am_cv_val_LC_MESSAGES=no)])\n-    if test $am_cv_val_LC_MESSAGES = yes; then\n-      AC_DEFINE(HAVE_LC_MESSAGES, 1,\n-\t\t[Define if your locale.h file contains LC_MESSAGES.])\n-    fi\n-  fi])\n+  LINGUAS=\"$XLINGUAS\"\n+  AC_MSG_RESULT($LINGUAS)\n+fi])"}, {"sha": "8fe527ceceb92c36a9d9a7c155ac6dd447dbd56b", "filename": "config/progtest.m4", "status": "added", "additions": 91, "deletions": 0, "changes": 91, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/config%2Fprogtest.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/config%2Fprogtest.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Fprogtest.m4?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -0,0 +1,91 @@\n+# progtest.m4 serial 3 (gettext-0.12)\n+dnl Copyright (C) 1996-2003 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+dnl\n+dnl This file can can be used in projects which are not available under\n+dnl the GNU General Public License or the GNU Library General Public\n+dnl License but which still want to provide support for the GNU gettext\n+dnl functionality.\n+dnl Please note that the actual code of the GNU gettext library is covered\n+dnl by the GNU Library General Public License, and the rest of the GNU\n+dnl gettext package package is covered by the GNU General Public License.\n+dnl They are *not* in the public domain.\n+\n+dnl Authors:\n+dnl   Ulrich Drepper <drepper@cygnus.com>, 1996.\n+\n+# Search path for a program which passes the given test.\n+\n+dnl AM_PATH_PROG_WITH_TEST(VARIABLE, PROG-TO-CHECK-FOR,\n+dnl   TEST-PERFORMED-ON-FOUND_PROGRAM [, VALUE-IF-NOT-FOUND [, PATH]])\n+AC_DEFUN([AM_PATH_PROG_WITH_TEST],\n+[\n+# Prepare PATH_SEPARATOR.\n+# The user is always right.\n+if test \"${PATH_SEPARATOR+set}\" != set; then\n+  echo \"#! /bin/sh\" >conf$$.sh\n+  echo  \"exit 0\"   >>conf$$.sh\n+  chmod +x conf$$.sh\n+  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n+    PATH_SEPARATOR=';'\n+  else\n+    PATH_SEPARATOR=:\n+  fi\n+  rm -f conf$$.sh\n+fi\n+\n+# Find out how to test for executable files. Don't use a zero-byte file,\n+# as systems may use methods other than mode bits to determine executability.\n+cat >conf$$.file <<_ASEOF\n+#! /bin/sh\n+exit 0\n+_ASEOF\n+chmod +x conf$$.file\n+if test -x conf$$.file >/dev/null 2>&1; then\n+  ac_executable_p=\"test -x\"\n+else\n+  ac_executable_p=\"test -f\"\n+fi\n+rm -f conf$$.file\n+\n+# Extract the first word of \"$2\", so it can be a program name with args.\n+set dummy $2; ac_word=[$]2\n+AC_MSG_CHECKING([for $ac_word])\n+AC_CACHE_VAL(ac_cv_path_$1,\n+[case \"[$]$1\" in\n+  [[\\\\/]]* | ?:[[\\\\/]]*)\n+    ac_cv_path_$1=\"[$]$1\" # Let the user override the test with a path.\n+    ;;\n+  *)\n+    ac_save_IFS=\"$IFS\"; IFS=$PATH_SEPARATOR\n+    for ac_dir in ifelse([$5], , $PATH, [$5]); do\n+      IFS=\"$ac_save_IFS\"\n+      test -z \"$ac_dir\" && ac_dir=.\n+      for ac_exec_ext in '' $ac_executable_extensions; do\n+        if $ac_executable_p \"$ac_dir/$ac_word$ac_exec_ext\"; then\n+          if [$3]; then\n+            ac_cv_path_$1=\"$ac_dir/$ac_word$ac_exec_ext\"\n+            break 2\n+          fi\n+        fi\n+      done\n+    done\n+    IFS=\"$ac_save_IFS\"\n+dnl If no 4th arg is given, leave the cache variable unset,\n+dnl so AC_PATH_PROGS will keep looking.\n+ifelse([$4], , , [  test -z \"[$]ac_cv_path_$1\" && ac_cv_path_$1=\"$4\"\n+])dnl\n+    ;;\n+esac])dnl\n+$1=\"$ac_cv_path_$1\"\n+if test ifelse([$4], , [-n \"[$]$1\"], [\"[$]$1\" != \"$4\"]); then\n+  AC_MSG_RESULT([$]$1)\n+else\n+  AC_MSG_RESULT(no)\n+fi\n+AC_SUBST($1)dnl\n+])"}, {"sha": "fbc99cacb636339a5c6a9f7620862ce3497ca5ce", "filename": "gcc/ChangeLog", "status": "modified", "additions": 27, "deletions": 3, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -1,3 +1,27 @@\n+2003-07-07  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* Makefile.in (top_builddir): Set to \"..\", not \".\".\n+\t(INTLLIBS, INTLDEPS): Delete.\n+\t(LIBINTL, LIBINTL_DEP, LIBICONV_DEP): New variables to be substituted.\n+\t(LIBDEPS): Add $(LIBICONV_DEP).\n+\t(LIBS): Take out $(INTLLIBS), add $(LIBINTL) and $(LIBICONV).\n+\t(INCLUDES): Replace -I../intl with @INCINTL@.\n+\t($(top_builddir)/intl/libintl.a): Delete rule.\n+\t(stage2-start, stage3-start, stage4-start, stageprofile-start,\n+\tstagefeedback-start): Use $$ for variable to be evaluated by\n+\tshell, not make.\n+\t* acconfig.h (ENABLE_NLS, HAVE_CATGETS, HAVE_GETTEXT,\n+\tHAVE_LC_MESSAGES, HAVE_STPCPY): Delete.\n+\t* aclocal.m4: sinclude ../config/progtest.m4.  Add\n+\tcontents of lcmessage.m4 from gettext distro.\n+\t* configure.in: Check for wchar.h and setlocale.  Set\n+\tLIBICONV_DEP to the empty string and substitute it.\n+\tCall AM_LC_MESSAGES.  Delete AC_ARG_ENABLE for --enable-nls;\n+\tthis is handled elsewhere.  Use ZW_GNU_GETTEXT_SISTER_DIR,\n+\tnot CY_GNU_GETTEXT.  Clear $LIBICONV if its text is included\n+\tin $LIBINTL, to avoid linking it twice.\n+\t* configure, config.in: Regenerate.\n+\n 2003-07-08  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* fixinc/mkfixinc.sh: Remove winnt support.\n@@ -48,7 +72,7 @@\n \t* print-rtl.c (print_rtx): Likewise.\n \t* print-tree.c (print_node_brief, print_node): Likewise.\n \t* system.h (HOST_PTR_PRINTF): Ensure we have a literal string.\n-\t\n+\n \t* configure.in (AC_COMPILE_CHECK_SIZEOF): Check for `void *'.\n \t* config.in, configure: Regenerated.\n \n@@ -134,7 +158,7 @@\n \n 2003-07-07  Dale Johannesen  <dalej@apple.com>\n \n-        * config/rs6000/darwin-tramp.asm:  Fix trampolines.  PR 10900.\n+\t* config/rs6000/darwin-tramp.asm:  Fix trampolines.  PR 10900.\n \n 2003-07-07  Andreas Jaeger  <aj@suse.de>\n \n@@ -163,7 +187,7 @@\n \tfiles.\n \n 2003-07-07  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n-            Eric Botcazou  <ebotcazou@libertysurf.fr>\n+\t    Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \tPR optimization/11198\n \t* alias.c (objects_must_conflict_p): Return 1 if the types have"}, {"sha": "c082ea9a67f64c267d4c131f81a9d8da0de38bb5", "filename": "gcc/Makefile.in", "status": "modified", "additions": 12, "deletions": 13, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -83,7 +83,7 @@ parsedir = $(srcdir)\n docobjdir = $(srcdir)/doc\n \n # Top build directory, relative to here.\n-top_builddir = .\n+top_builddir = ..\n # objdir is set by configure.\n # It's normally the absolute path to the current directory.\n objdir = @objdir@\n@@ -434,11 +434,12 @@ tmpdir = /tmp\n USE_NLS = @USE_NLS@\n \n # Internationalization library.\n-INTLLIBS = @INTLLIBS@\n-INTLDEPS = @INTLDEPS@\n+LIBINTL = @LIBINTL@\n+LIBINTL_DEP = @LIBINTL_DEP@\n \n # Character encoding conversion library.\n LIBICONV = @LIBICONV@\n+LIBICONV_DEP = @LIBICONV_DEP@\n \n # The GC method to be used on this system.\n GGC=@GGC@.o\n@@ -682,15 +683,15 @@ LIBIBERTY = ../libiberty/libiberty.a\n BUILD_LIBIBERTY = @FORBUILD@/libiberty/libiberty.a\n \n # Dependencies on the intl and portability libraries.\n-LIBDEPS= $(INTLDEPS) $(LIBIBERTY)\n+LIBDEPS= $(LIBIBERTY) $(LIBINTL_DEP) $(LIBICONV_DEP)\n \n # Likewise, for use in the tools that must run on this machine\n # even if we are cross-building GCC.\n BUILD_LIBDEPS= $(BUILD_LIBIBERTY)\n \n # How to link with both our special library facilities\n # and the system's installed libraries.\n-LIBS =\t$(INTLLIBS) @LIBS@ $(LIBIBERTY) $(LIBICONV)\n+LIBS = @LIBS@ $(LIBIBERTY) $(LIBINTL) $(LIBICONV)\n \n # Any system libraries needed just for GNAT.\n SYSLIBS = @GNAT_LIBEXC@\n@@ -719,7 +720,7 @@ BUILD_VARRAY = $(BUILD_PREFIX)varray.o\n # currently being compiled, in both source trees, to be examined as well.\n # libintl.h will be found in ../intl if we are using the included libintl.\n INCLUDES = -I. -I$(@D) -I$(srcdir) -I$(srcdir)/$(@D) \\\n-\t   -I$(srcdir)/config -I$(srcdir)/../include -I../intl\n+\t   -I$(srcdir)/config -I$(srcdir)/../include @INCINTL@\n \n # Always use -I$(srcdir)/config when compiling.\n .c.o:\n@@ -2316,8 +2317,6 @@ intl.o: intl.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) intl.h Makefile\n \t  -DLOCALEDIR=\\\"$(localedir)\\\" \\\n \t  -c $(srcdir)/intl.c $(OUTPUT_OPTION)\n \n-$(top_builddir)/intl/libintl.a: intl.all\n-\n # Make-lang.in should add dependencies of po-generated on any generated\n # files which need to be scanned by gettext (usually Yacc-generated parsers).\n po-generated: $(parsedir)/c-parse.c\n@@ -3766,7 +3765,7 @@ stage1: force stage1-start lang.stage1\n stage2-start:\n \t-if [ -d stage2 ] ; then true ; else mkdir stage2 ; fi\n \t$(MAKE) -f libgcc.mk libgcc-stage-start stage=stage2\n-\t-subdirs=\"$(SUBDIRS)\"; for dir in $subdirs; \\\n+\t-subdirs=\"$(SUBDIRS)\"; for dir in $$subdirs; \\\n \t do \\\n \t   if [ -d stage2/$$dir ] ; then true ; else mkdir stage2/$$dir ; fi ; \\\n \t done\n@@ -3795,7 +3794,7 @@ stage2: force stage2-start lang.stage2\n stage3-start:\n \t-if [ -d stage3 ] ; then true ; else mkdir stage3 ; fi\n \t$(MAKE) -f libgcc.mk libgcc-stage-start stage=stage3\n-\t-subdirs=\"$(SUBDIRS)\"; for dir in $subdirs; \\\n+\t-subdirs=\"$(SUBDIRS)\"; for dir in $$subdirs; \\\n \t do \\\n \t   if [ -d stage3/$$dir ] ; then true ; else mkdir stage3/$$dir ; fi ; \\\n \t done\n@@ -3824,7 +3823,7 @@ stage3: force stage3-start lang.stage3\n stage4-start:\n \t-if [ -d stage4 ] ; then true ; else mkdir stage4 ; fi\n \t$(MAKE) -f libgcc.mk libgcc-stage-start stage=stage4\n-\t-subdirs=\"$(SUBDIRS)\"; for dir in $subdirs; \\\n+\t-subdirs=\"$(SUBDIRS)\"; for dir in $$subdirs; \\\n \t do \\\n \t   if [ -d stage4/$$dir ] ; then true ; else mkdir stage4/$$dir ; fi ; \\\n \t done\n@@ -3853,7 +3852,7 @@ stage4: force stage4-start lang.stage4\n stageprofile-start:\n \t-if [ -d stageprofile ] ; then true ; else mkdir stageprofile ; fi\n \t$(MAKE) -f libgcc.mk libgcc-stage-start stage=stageprofile\n-\t-subdirs=\"$(SUBDIRS)\"; for dir in $subdirs; \\\n+\t-subdirs=\"$(SUBDIRS)\"; for dir in $$subdirs; \\\n \t do \\\n \t   if [ -d stageprofile/$$dir ] ; then true ; else mkdir stageprofile/$$dir ; fi ; \\\n \t done\n@@ -3880,7 +3879,7 @@ stageprofile: force stageprofile-start lang.stageprofile\n stagefeedback-start:\n \t-if [ -d stagefeedback ] ; then true ; else mkdir stagefeedback ; fi\n \t$(MAKE) -f libgcc.mk libgcc-stage-start stage=stagefeedback\n-\t-subdirs=\"$(SUBDIRS)\"; for dir in $subdirs; \\\n+\t-subdirs=\"$(SUBDIRS)\"; for dir in $$subdirs; \\\n \t do \\\n \t   if [ -d stagefeedback/$$dir ] ; then true ; else mkdir stagefeedback/$$dir ; fi ; \\\n \t done"}, {"sha": "b31910a5e6082f250a6d3e8f36dc1ecf9915d015", "filename": "gcc/acconfig.h", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/gcc%2Facconfig.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/gcc%2Facconfig.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Facconfig.h?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -1,18 +1,3 @@\n-/* Define to 1 if NLS is requested.  */\n-#undef ENABLE_NLS\n-\n-/* Define as 1 if you have catgets and don't want to use GNU gettext.  */\n-#undef HAVE_CATGETS\n-\n-/* Define as 1 if you have gettext and don't want to use GNU gettext.  */\n-#undef HAVE_GETTEXT\n-\n-/* Define if your locale.h file contains LC_MESSAGES.  */\n-#undef HAVE_LC_MESSAGES\n-\n-/* Define as 1 if you have the stpcpy function.  */\n-#undef HAVE_STPCPY\n-\n /* Define if your assembler supports specifying the maximum number\n    of bytes to skip when using the GAS .p2align command.  */\n #undef HAVE_GAS_MAX_SKIP_P2ALIGN"}, {"sha": "c313aaa300b4b7a3f63704c55f184039cfbcab0c", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -1,6 +1,7 @@\n sinclude(../config/acx.m4)\n sinclude(../config/accross.m4)\n sinclude(../config/gettext.m4)\n+sinclude(../config/progtest.m4)\n \n dnl See if stdbool.h properly defines bool and true/false.\n AC_DEFUN(gcc_AC_HEADER_STDBOOL,\n@@ -687,3 +688,35 @@ ifelse([$5],[],[],[else $5])\n fi\n ]) []dnl # gcc_GAS_VERSION_GTE_IFELSE\n \n+# lcmessage.m4 serial 3 (gettext-0.11.3)\n+dnl Copyright (C) 1995-2002 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+dnl\n+dnl This file can can be used in projects which are not available under\n+dnl the GNU General Public License or the GNU Library General Public\n+dnl License but which still want to provide support for the GNU gettext\n+dnl functionality.\n+dnl Please note that the actual code of the GNU gettext library is covered\n+dnl by the GNU Library General Public License, and the rest of the GNU\n+dnl gettext package package is covered by the GNU General Public License.\n+dnl They are *not* in the public domain.\n+\n+dnl Authors:\n+dnl   Ulrich Drepper <drepper@cygnus.com>, 1995.\n+\n+# Check whether LC_MESSAGES is available in <locale.h>.\n+\n+AC_DEFUN([AM_LC_MESSAGES],\n+[\n+  AC_CACHE_CHECK([for LC_MESSAGES], am_cv_val_LC_MESSAGES,\n+    [AC_TRY_LINK([#include <locale.h>], [return LC_MESSAGES],\n+       am_cv_val_LC_MESSAGES=yes, am_cv_val_LC_MESSAGES=no)])\n+  if test $am_cv_val_LC_MESSAGES = yes; then\n+    AC_DEFINE(HAVE_LC_MESSAGES, 1,\n+      [Define if your <locale.h> file defines LC_MESSAGES.])\n+  fi\n+])"}, {"sha": "9370196cfd25a874b592e4547bfa1e0e6812d862", "filename": "gcc/config.in", "status": "modified", "additions": 6, "deletions": 90, "changes": 96, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -1,14 +1,4 @@\n-/* config.in.  Generated automatically from configure.in by autoheader.  */\n-\n-/* Define if using alloca.c.  */\n-#undef C_ALLOCA\n-\n-/* Define to empty if the keyword does not work.  */\n-#undef const\n-\n-/* Define to one of _getb67, GETB67, getb67 for Cray-2 and Cray-YMP systems.\n-   This function is required for alloca.c support on those systems.  */\n-#undef CRAY_STACKSEG_END\n+/* config.in.  Generated automatically from configure.in by autoheader 2.13.  */\n \n /* Define to the type of elements in the array set by `getgroups'.\n    Usually this is either `int' or `gid_t'.  */\n@@ -17,15 +7,6 @@\n /* Define to `int' if <sys/types.h> doesn't define.  */\n #undef gid_t\n \n-/* Define if you have alloca, as a function or macro.  */\n-#undef HAVE_ALLOCA\n-\n-/* Define if you have <alloca.h> and it should be used (not on Ultrix).  */\n-#undef HAVE_ALLOCA_H\n-\n-/* Define if you have a working `mmap' system call.  */\n-#undef HAVE_MMAP\n-\n /* Define if you have <sys/wait.h> that is POSIX.1 compatible.  */\n #undef HAVE_SYS_WAIT_H\n \n@@ -38,24 +19,9 @@\n /* Define if your C compiler doesn't accept -c and -o together.  */\n #undef NO_MINUS_C_MINUS_O\n \n-/* Define to `long' if <sys/types.h> doesn't define.  */\n-#undef off_t\n-\n /* Define to `int' if <sys/types.h> doesn't define.  */\n #undef pid_t\n \n-/* Define to `unsigned' if <sys/types.h> doesn't define.  */\n-#undef size_t\n-\n-/* If using the C implementation of alloca, define if you know the\n-   direction of stack growth for your system; otherwise it will be\n-   automatically deduced at run-time.\n- STACK_DIRECTION > 0 => grows toward higher addresses\n- STACK_DIRECTION < 0 => grows toward lower addresses\n- STACK_DIRECTION = 0 => direction of growth unknown\n- */\n-#undef STACK_DIRECTION\n-\n /* Define if you have the ANSI C header files.  */\n #undef STDC_HEADERS\n \n@@ -84,15 +50,6 @@\n /* Define if cpp should also search $prefix/include.  */\n #undef PREFIX_INCLUDE_DIR\n \n-/* Define if you have the __argz_count function.  */\n-#undef HAVE___ARGZ_COUNT\n-\n-/* Define if you have the __argz_next function.  */\n-#undef HAVE___ARGZ_NEXT\n-\n-/* Define if you have the __argz_stringify function.  */\n-#undef HAVE___ARGZ_STRINGIFY\n-\n /* Define if you have the alphasort function.  */\n #undef HAVE_ALPHASORT\n \n@@ -105,9 +62,6 @@\n /* Define if you have the clock function.  */\n #undef HAVE_CLOCK\n \n-/* Define if you have the dcgettext function.  */\n-#undef HAVE_DCGETTEXT\n-\n /* Define if you have the dup2 function.  */\n #undef HAVE_DUP2\n \n@@ -123,12 +77,6 @@\n /* Define if you have the fwrite_unlocked function.  */\n #undef HAVE_FWRITE_UNLOCKED\n \n-/* Define if you have the getcwd function.  */\n-#undef HAVE_GETCWD\n-\n-/* Define if you have the getpagesize function.  */\n-#undef HAVE_GETPAGESIZE\n-\n /* Define if you have the getrlimit function.  */\n #undef HAVE_GETRLIMIT\n \n@@ -153,39 +101,21 @@\n /* Define if you have the mmap function.  */\n #undef HAVE_MMAP\n \n-/* Define if you have the munmap function.  */\n-#undef HAVE_MUNMAP\n-\n /* Define if you have the nl_langinfo function.  */\n #undef HAVE_NL_LANGINFO\n \n /* Define if you have the putc_unlocked function.  */\n #undef HAVE_PUTC_UNLOCKED\n \n-/* Define if you have the putenv function.  */\n-#undef HAVE_PUTENV\n-\n /* Define if you have the scandir function.  */\n #undef HAVE_SCANDIR\n \n-/* Define if you have the setenv function.  */\n-#undef HAVE_SETENV\n-\n /* Define if you have the setlocale function.  */\n #undef HAVE_SETLOCALE\n \n /* Define if you have the setrlimit function.  */\n #undef HAVE_SETRLIMIT\n \n-/* Define if you have the stpcpy function.  */\n-#undef HAVE_STPCPY\n-\n-/* Define if you have the strcasecmp function.  */\n-#undef HAVE_STRCASECMP\n-\n-/* Define if you have the strchr function.  */\n-#undef HAVE_STRCHR\n-\n /* Define if you have the strsignal function.  */\n #undef HAVE_STRSIGNAL\n \n@@ -198,9 +128,6 @@\n /* Define if you have the wcswidth function.  */\n #undef HAVE_WCSWIDTH\n \n-/* Define if you have the <argz.h> header file.  */\n-#undef HAVE_ARGZ_H\n-\n /* Define if you have the <direct.h> header file.  */\n #undef HAVE_DIRECT_H\n \n@@ -222,9 +149,6 @@\n /* Define if you have the <malloc.h> header file.  */\n #undef HAVE_MALLOC_H\n \n-/* Define if you have the <nl_types.h> header file.  */\n-#undef HAVE_NL_TYPES_H\n-\n /* Define if you have the <stddef.h> header file.  */\n #undef HAVE_STDDEF_H\n \n@@ -264,9 +188,6 @@\n /* Define if you have the <unistd.h> header file.  */\n #undef HAVE_UNISTD_H\n \n-/* Define if you have the <values.h> header file.  */\n-#undef HAVE_VALUES_H\n-\n /* Define if you have the <wchar.h> header file.  */\n #undef HAVE_WCHAR_H\n \n@@ -385,6 +306,9 @@\n /* Define as const if the declaration of iconv() needs const. */\n #undef ICONV_CONST\n \n+/* Define if your <locale.h> file defines LC_MESSAGES. */\n+#undef HAVE_LC_MESSAGES\n+\n /* Define to 1 if we found this declaration otherwise define to 0. */\n #undef HAVE_DECL_GETENV\n \n@@ -507,18 +431,10 @@\n    the results of comparisons. */\n #undef EXTRA_CC_MODES\n \n-/* Define if you have the stpcpy function */\n-#undef HAVE_STPCPY\n-\n-/* Define if your locale.h file contains LC_MESSAGES. */\n-#undef HAVE_LC_MESSAGES\n-\n-/* Define to 1 if NLS is requested */\n+/* Define to 1 if translation of program messages to the \n+  user's native language is requested. */\n #undef ENABLE_NLS\n \n-/* Define as 1 if you have gettext and don't want to use GNU gettext. */\n-#undef HAVE_GETTEXT\n-\n /* Define to 1 if installation paths should be looked up in Windows32\n    Registry. Ignored on non windows32 hosts. */\n #undef ENABLE_WIN32_REGISTRY"}, {"sha": "257d16f3b0dcd8295528b3664d802af0743ee1d6", "filename": "gcc/configure", "status": "modified", "additions": 508, "deletions": 1917, "changes": 2425, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=56694dd9965e7496ca003ec37a6709c86762b8d0"}, {"sha": "080850d966ce5a9962cf22f0075e65e2b1f00c6b", "filename": "gcc/configure.in", "status": "modified", "additions": 14, "deletions": 15, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -680,7 +680,7 @@ AC_HEADER_SYS_WAIT\n AC_CHECK_HEADERS(limits.h stddef.h string.h strings.h stdlib.h time.h \\\n \t\t fcntl.h unistd.h sys/file.h sys/time.h sys/mman.h \\\n \t\t sys/resource.h sys/param.h sys/times.h sys/stat.h \\\n-\t\t direct.h malloc.h langinfo.h ldfcn.h wchar.h)\n+\t\t direct.h malloc.h langinfo.h ldfcn.h locale.h wchar.h)\n \n # Check for thread headers.\n AC_CHECK_HEADER(thread.h, [have_thread_h=yes], [have_thread_h=])\n@@ -775,7 +775,8 @@ dnl gcc_AC_C_ENUM_BF_UNSIGNED\n AC_CHECK_FUNCS(times clock dup2 kill getrlimit setrlimit atoll atoq \\\n \tsysconf strsignal putc_unlocked fputc_unlocked fputs_unlocked \\\n \tfwrite_unlocked fprintf_unlocked getrusage nl_langinfo lstat \\\n-        scandir alphasort gettimeofday mbstowcs wcswidth mmap mincore)\n+        scandir alphasort gettimeofday mbstowcs wcswidth mmap mincore \\\n+        setlocale)\n \n if test x$ac_cv_func_mbstowcs = xyes; then\n   AC_CACHE_CHECK(whether mbstowcs works, gcc_cv_func_mbstowcs_works,\n@@ -836,6 +837,11 @@ esac\n AC_FUNC_VFORK\n \n AM_ICONV\n+# Until we have in-tree GNU iconv:\n+LIBICONV_DEP=\n+AC_SUBST(LIBICONV_DEP)\n+\n+AM_LC_MESSAGES\n \n # We will need to find libiberty.h and ansidecl.h\n saved_CFLAGS=\"$CFLAGS\"\n@@ -1196,20 +1202,13 @@ VERSION=\"$gcc_version\"\n AC_SUBST(PACKAGE)\n AC_SUBST(VERSION)\n \n-# Enable NLS support by default\n-AC_ARG_ENABLE(nls,\n-  [  --enable-nls            use Native Language Support (default)],\n-  , enable_nls=yes)\n-\n-# if cross compiling, disable NLS support.\n-# It's not worth the trouble, at least for now.\n+ZW_GNU_GETTEXT_SISTER_DIR\n \n-if test \"${build}\" != \"${host}\" && test \"x$enable_nls\" = \"xyes\"; then\n-  AC_MSG_WARN(Disabling NLS support for canadian cross compiler.)\n-  enable_nls=no\n-fi\n-\n-CY_GNU_GETTEXT\n+# If LIBINTL contains LIBICONV, then clear LIBICONV so we don't get\n+# -liconv on the link line twice.\n+case \"$LIBINTL\" in *$LIBICONV*)\n+\tLIBICONV= ;;\n+esac\n \n # Windows32 Registry support for specifying GCC installation paths.\n AC_ARG_ENABLE(win32-registry,"}, {"sha": "caf88353367b2e1dc4a25d6224c4939a9027e802", "filename": "intl/ChangeLog", "status": "modified", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2FChangeLog?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -1,3 +1,28 @@\n+2003-07-07  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* README: Update.\n+\t* Makefile.in (INSTALL, INSTALL_DATA, MKINSTALLDIRS,\n+\tmkinstalldirs, gettextsrcdir, l): Delete.\n+\t(COMPILE): Add $(DEFS-$@), remove $(XCFLAGS).\n+\t(HEADERS): libgnuintl.h not libgnuintl.h.in.  Remove os2compat.h.\n+\t(SOURCES): Remove os2compat.c.\n+\t(DEFS-dcigettext.o, DEFS-localealias.o, DEFS-localcharset.o,\n+\tDEFS-relocatable.o): New.\n+\t(all-yes): Add config.intl.\n+\t(libintl.h): Use cp, not cat.\n+\t(INCLUDES): Remove -I..\n+\t(TAGS, CTAGS, ID): Word wrap.\n+\t(mostlyclean, distclean): Remove junk.\n+\t(config.intl): New rule.\n+\t* aclocal.m4: sinclude ../config/progtest.m4 instead of\n+\tincluding it inline.\n+\t* config.intl.in: New file.\n+\t* configure.in: Take out unnecessary AC_CONFIG_AUX_DIR.\n+\tTake out AC_DEFINEs for LOCALEDIR, LOCALE_ALIAS_PATH,\n+\tLIBDIR, INSTALLDIR.  Set LIBINTL_DEP and INCINTL and AC_SUBST\n+\tthem.  Add config.intl to AC_OUTPUT.\n+\t* os2compat.c, os2compat.h: Delete, unused.\n+\n 2003-07-04  Zack Weinberg  <zack@codesourcery.com>\n \n \t* Makefile.in: Remove unnecessary capabilities for"}, {"sha": "b9edebd3f9d0c75ecfb8cddd4bc6b965a0934f6a", "filename": "intl/Makefile.in", "status": "modified", "additions": 20, "deletions": 30, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2FMakefile.in?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -36,16 +36,8 @@ libdir = @libdir@\n includedir = @includedir@\n datadir = @datadir@\n localedir = $(datadir)/locale\n-gettextsrcdir = $(datadir)/gettext/intl\n aliaspath = $(localedir)\n \n-INSTALL = @INSTALL@\n-INSTALL_DATA = @INSTALL_DATA@\n-MKINSTALLDIRS = @MKINSTALLDIRS@\n-mkinstalldirs = $(SHELL) $(MKINSTALLDIRS)\n-\n-l = @INTL_LIBTOOL_SUFFIX_PREFIX@\n-\n AR = ar\n CC = @CC@\n RANLIB = @RANLIB@\n@@ -57,7 +49,7 @@ LDFLAGS = @LDFLAGS@\n LIBS = @LIBS@\n DEFS = -DHAVE_CONFIG_H\n \n-COMPILE = $(CC) -c $(DEFS) $(INCLUDES) $(CPPFLAGS) $(CFLAGS) $(XCFLAGS)\n+COMPILE = $(CC) -c $(CPPFLAGS) $(CFLAGS) $(DEFS) $(DEFS-$@) $(INCLUDES)\n \n HEADERS = \\\n   gmo.h \\\n@@ -68,8 +60,7 @@ HEADERS = \\\n   eval-plural.h \\\n   localcharset.h \\\n   relocatable.h \\\n-  os2compat.h \\\n-  libgnuintl.h.in\n+  libgnuintl.h\n SOURCES = \\\n   bindtextdom.c \\\n   dcgettext.c \\\n@@ -92,7 +83,6 @@ SOURCES = \\\n   localename.c \\\n   log.c \\\n   osdep.c \\\n-  os2compat.c \\\n   intl-compat.c\n OBJECTS = \\\n   bindtextdom.o \\\n@@ -118,8 +108,13 @@ OBJECTS = \\\n   osdep.o \\\n   intl-compat.o\n \n+DEFS-dcigettext.o = -DLOCALEDIR=\"\\\"$(localedir)\\\"\"\n+DEFS-localealias.o = -DLOCALE_ALIAS_PATH=\"\\\"$(aliaspath)\\\"\"\n+DEFS-localcharset.o = -DLIBDIR=\"\\\"$(libdir)\\\"\"\n+DEFS-relocatable.o = -DINSTALLDIR=\"\\\"$(libdir)\\\"\"\n+\n all: all-@USE_INCLUDED_LIBINTL@\n-all-yes: libintl.a libintl.h\n+all-yes: libintl.a libintl.h config.intl\n all-no: # nothing\n \n libintl.a: $(OBJECTS)\n@@ -128,7 +123,7 @@ libintl.a: $(OBJECTS)\n \t$(RANLIB) $@\n \n libintl.h: $(srcdir)/libgnuintl.h\n-\tcat $(srcdir)/libgnuintl.h > $@\n+\tcp $(srcdir)/libgnuintl.h $@\n \n .SUFFIXES:\n .SUFFIXES: .c .y .o\n@@ -140,7 +135,7 @@ libintl.h: $(srcdir)/libgnuintl.h\n \t$(YACC) $(YFLAGS) --output $@ $<\n \trm -f $*.h\n \n-INCLUDES = -I. -I$(srcdir) -I..\n+INCLUDES = -I. -I$(srcdir)\n \n check: all\n \n@@ -167,35 +162,27 @@ localcharset.o: localcharset.h\n localealias.o localcharset.o relocatable.o: relocatable.h\n \n tags: TAGS\n-\n TAGS: $(HEADERS) $(SOURCES)\n-\there=`pwd`; cd $(srcdir) && etags -o $$here/TAGS $(HEADERS) $(SOURCES)\n+\there=`pwd`; cd $(srcdir) && \\\n+\t\tetags -o $$here/TAGS $(HEADERS) $(SOURCES)\n \n ctags: CTAGS\n-\n CTAGS: $(HEADERS) $(SOURCES)\n-\there=`pwd`; cd $(srcdir) && ctags -o $$here/CTAGS $(HEADERS) $(SOURCES)\n+\there=`pwd`; cd $(srcdir) && \\\n+\t\tctags -o $$here/CTAGS $(HEADERS) $(SOURCES)\n \n id: ID\n-\n ID: $(HEADERS) $(SOURCES)\n-\there=`pwd`; cd $(srcdir) && mkid -f$$here/ID $(HEADERS) $(SOURCES)\n-\n+\there=`pwd`; cd $(srcdir) && \\\n+\t\tmkid -f$$here/ID $(HEADERS) $(SOURCES)\n \n mostlyclean:\n-\trm -f *.a *.la *.o *.obj *.lo core core.*\n-\trm -f libgnuintl.h libintl.h charset.alias ref-add.sed ref-del.sed\n-\trm -f -r .libs _libs\n+\trm -f *.a *.la *.o *.obj *.lo core core.* libintl.h\n \n clean: mostlyclean\n \n distclean: clean\n \trm -f Makefile ID TAGS\n-\tif test \"$(PACKAGE)\" = \"gettext-runtime\" || test \"$(PACKAGE)\" = \"gettext-tools\"; then \\\n-\t  rm -f ChangeLog.inst $(DISTFILES.normal); \\\n-\telse \\\n-\t  : ; \\\n-\tfi\n \n maintainer-clean: distclean\n \n@@ -207,6 +194,9 @@ distdir:\n Makefile: Makefile.in config.status\n \tCONFIG_HEADERS= CONFIG_FILES=Makefile $(SHELL) ./config.status\n \n+config.intl: config.intl.in config.status\n+\tCONFIG_HEADERS= CONFIG_FILES=config.intl $(SHELL) ./config.status\n+\n config.h: cstamp-h; @:\n cstamp-h: config.h.in config.status\n \tCONFIG_HEADERS=config.h CONFIG_FILES= $(SHELL) config.status"}, {"sha": "db15eca8289e45344151a05d95d84a7ccb5011f0", "filename": "intl/README", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2FREADME", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2FREADME", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2FREADME?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -10,13 +10,14 @@ gettext developers first.  However, note the following:\n * The files COPYING.LIB-2.0 and COPYING.LIB-2.1 are redundant with the\n   top-level COPYING.LIB and have therefore been removed.\n \n-* The files config.charset, ref-add.sin, and ref-del.sin are not used\n-  in this setup and have therefore been removed.\n+* The files config.charset, ref-add.sin, ref-del.sin, os2compat.c,\n+  and os2compat.h are not used in this setup and have therefore been \n+  removed.\n \n * aclocal.m4 was constructed following the instructions printed by\n   \"gettextize\" from the files that gettext 0.12.1 installs in\n   $(prefix)/share/aclocal.\n \n-* configure.in and Makefile.in were written for this directory\n-  layout, by Zack Weinberg <zack@codesourcery.com>.  Please direct\n-  patches for these files to gcc-patches@gcc.gnu.org.\n+* configure.in, config.intl.in, and Makefile.in were written for this\n+  directory layout, by Zack Weinberg <zack@codesourcery.com>.  Please\n+  direct patches for these files to gcc-patches@gcc.gnu.org."}, {"sha": "311f9267cec87a33a7fa3fd4ff8ffe88fa67585d", "filename": "intl/aclocal.m4", "status": "modified", "additions": 1, "deletions": 91, "changes": 92, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Faclocal.m4?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -674,97 +674,7 @@ AC_DEFUN([AM_MKINSTALLDIRS],\n   AC_SUBST(MKINSTALLDIRS)\n ])\n \n-# progtest.m4 serial 3 (gettext-0.12)\n-dnl Copyright (C) 1996-2003 Free Software Foundation, Inc.\n-dnl This file is free software, distributed under the terms of the GNU\n-dnl General Public License.  As a special exception to the GNU General\n-dnl Public License, this file may be distributed as part of a program\n-dnl that contains a configuration script generated by Autoconf, under\n-dnl the same distribution terms as the rest of that program.\n-dnl\n-dnl This file can can be used in projects which are not available under\n-dnl the GNU General Public License or the GNU Library General Public\n-dnl License but which still want to provide support for the GNU gettext\n-dnl functionality.\n-dnl Please note that the actual code of the GNU gettext library is covered\n-dnl by the GNU Library General Public License, and the rest of the GNU\n-dnl gettext package package is covered by the GNU General Public License.\n-dnl They are *not* in the public domain.\n-\n-dnl Authors:\n-dnl   Ulrich Drepper <drepper@cygnus.com>, 1996.\n-\n-# Search path for a program which passes the given test.\n-\n-dnl AM_PATH_PROG_WITH_TEST(VARIABLE, PROG-TO-CHECK-FOR,\n-dnl   TEST-PERFORMED-ON-FOUND_PROGRAM [, VALUE-IF-NOT-FOUND [, PATH]])\n-AC_DEFUN([AM_PATH_PROG_WITH_TEST],\n-[\n-# Prepare PATH_SEPARATOR.\n-# The user is always right.\n-if test \"${PATH_SEPARATOR+set}\" != set; then\n-  echo \"#! /bin/sh\" >conf$$.sh\n-  echo  \"exit 0\"   >>conf$$.sh\n-  chmod +x conf$$.sh\n-  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n-    PATH_SEPARATOR=';'\n-  else\n-    PATH_SEPARATOR=:\n-  fi\n-  rm -f conf$$.sh\n-fi\n-\n-# Find out how to test for executable files. Don't use a zero-byte file,\n-# as systems may use methods other than mode bits to determine executability.\n-cat >conf$$.file <<_ASEOF\n-#! /bin/sh\n-exit 0\n-_ASEOF\n-chmod +x conf$$.file\n-if test -x conf$$.file >/dev/null 2>&1; then\n-  ac_executable_p=\"test -x\"\n-else\n-  ac_executable_p=\"test -f\"\n-fi\n-rm -f conf$$.file\n-\n-# Extract the first word of \"$2\", so it can be a program name with args.\n-set dummy $2; ac_word=[$]2\n-AC_MSG_CHECKING([for $ac_word])\n-AC_CACHE_VAL(ac_cv_path_$1,\n-[case \"[$]$1\" in\n-  [[\\\\/]]* | ?:[[\\\\/]]*)\n-    ac_cv_path_$1=\"[$]$1\" # Let the user override the test with a path.\n-    ;;\n-  *)\n-    ac_save_IFS=\"$IFS\"; IFS=$PATH_SEPARATOR\n-    for ac_dir in ifelse([$5], , $PATH, [$5]); do\n-      IFS=\"$ac_save_IFS\"\n-      test -z \"$ac_dir\" && ac_dir=.\n-      for ac_exec_ext in '' $ac_executable_extensions; do\n-        if $ac_executable_p \"$ac_dir/$ac_word$ac_exec_ext\"; then\n-          if [$3]; then\n-            ac_cv_path_$1=\"$ac_dir/$ac_word$ac_exec_ext\"\n-            break 2\n-          fi\n-        fi\n-      done\n-    done\n-    IFS=\"$ac_save_IFS\"\n-dnl If no 4th arg is given, leave the cache variable unset,\n-dnl so AC_PATH_PROGS will keep looking.\n-ifelse([$4], , , [  test -z \"[$]ac_cv_path_$1\" && ac_cv_path_$1=\"$4\"\n-])dnl\n-    ;;\n-esac])dnl\n-$1=\"$ac_cv_path_$1\"\n-if test ifelse([$4], , [-n \"[$]$1\"], [\"[$]$1\" != \"$4\"]); then\n-  AC_MSG_RESULT([$]$1)\n-else\n-  AC_MSG_RESULT(no)\n-fi\n-AC_SUBST($1)dnl\n-])\n+sinclude(../config/progtest.m4)\n \n # lib-link.m4 serial 4 (gettext-0.12)\n dnl Copyright (C) 2001-2003 Free Software Foundation, Inc."}, {"sha": "965e1dbba0accefa1de1c05a2e84490d8bc88a8c", "filename": "intl/config.h.in", "status": "modified", "additions": 129, "deletions": 173, "changes": 302, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fconfig.h.in?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -1,255 +1,211 @@\n-/* config.h.in.  Generated from configure.in by autoheader.  */\n+/* config.h.in.  Generated automatically from configure.in by autoheader 2.13.  */\n \n-/* Define to one of `_getb67', `GETB67', `getb67' for Cray-2 and Cray-YMP\n-   systems. This function is required for `alloca.c' support on those systems.\n-   */\n-#undef CRAY_STACKSEG_END\n-\n-/* Define to 1 if using `alloca.c'. */\n+/* Define if using alloca.c.  */\n #undef C_ALLOCA\n \n-/* Define because we depend on libiconv. */\n-#undef DEPENDS_ON_LIBICONV\n-\n-/* Define to 1 if translation of program messages to the user's native\n-   language is requested. */\n-#undef ENABLE_NLS\n+/* Define to empty if the keyword does not work.  */\n+#undef const\n \n-/* Define to enable relocation. */\n-#undef ENABLE_RELOCATABLE\n+/* Define to one of _getb67, GETB67, getb67 for Cray-2 and Cray-YMP systems.\n+   This function is required for alloca.c support on those systems.  */\n+#undef CRAY_STACKSEG_END\n \n-/* Define to 1 if you have `alloca', as a function or macro. */\n+/* Define if you have alloca, as a function or macro.  */\n #undef HAVE_ALLOCA\n \n-/* Define to 1 if you have <alloca.h> and it should be used (not on Ultrix).\n-   */\n+/* Define if you have <alloca.h> and it should be used (not on Ultrix).  */\n #undef HAVE_ALLOCA_H\n \n-/* Define to 1 if you have the <argz.h> header file. */\n-#undef HAVE_ARGZ_H\n-\n-/* Define if the GNU dcgettext() function is already present or preinstalled.\n-   */\n-#undef HAVE_DCGETTEXT\n-\n-/* Define to 1 if you have the `feof_unlocked' function. */\n-#undef HAVE_FEOF_UNLOCKED\n+/* Define if you have a working `mmap' system call.  */\n+#undef HAVE_MMAP\n \n-/* Define to 1 if you have the `fgets_unlocked' function. */\n-#undef HAVE_FGETS_UNLOCKED\n+/* Define as __inline if that's what the C compiler calls it.  */\n+#undef inline\n \n-/* Define to 1 if you have the `getcwd' function. */\n-#undef HAVE_GETCWD\n+/* Define to `long' if <sys/types.h> doesn't define.  */\n+#undef off_t\n \n-/* Define to 1 if you have the `getc_unlocked' function. */\n-#undef HAVE_GETC_UNLOCKED\n+/* Define to `unsigned' if <sys/types.h> doesn't define.  */\n+#undef size_t\n \n-/* Define to 1 if you have the `getegid' function. */\n-#undef HAVE_GETEGID\n+/* If using the C implementation of alloca, define if you know the\n+   direction of stack growth for your system; otherwise it will be\n+   automatically deduced at run-time.\n+ STACK_DIRECTION > 0 => grows toward higher addresses\n+ STACK_DIRECTION < 0 => grows toward lower addresses\n+ STACK_DIRECTION = 0 => direction of growth unknown\n+ */\n+#undef STACK_DIRECTION\n \n-/* Define to 1 if you have the `geteuid' function. */\n-#undef HAVE_GETEUID\n+/* Define if you have the ANSI C header files.  */\n+#undef STDC_HEADERS\n \n-/* Define to 1 if you have the `getgid' function. */\n-#undef HAVE_GETGID\n+/* Define if you have the __argz_count function.  */\n+#undef HAVE___ARGZ_COUNT\n \n-/* Define to 1 if you have the `getpagesize' function. */\n-#undef HAVE_GETPAGESIZE\n+/* Define if you have the __argz_next function.  */\n+#undef HAVE___ARGZ_NEXT\n \n-/* Define if the GNU gettext() function is already present or preinstalled. */\n-#undef HAVE_GETTEXT\n+/* Define if you have the __argz_stringify function.  */\n+#undef HAVE___ARGZ_STRINGIFY\n \n-/* Define to 1 if you have the `getuid' function. */\n-#undef HAVE_GETUID\n+/* Define if you have the __fsetlocking function.  */\n+#undef HAVE___FSETLOCKING\n \n-/* Define if you have the iconv() function. */\n-#undef HAVE_ICONV\n+/* Define if you have the feof_unlocked function.  */\n+#undef HAVE_FEOF_UNLOCKED\n \n-/* Define if <inttypes.h> exists and doesn't clash with <sys/types.h>. */\n-#undef HAVE_INTTYPES_H\n+/* Define if you have the fgets_unlocked function.  */\n+#undef HAVE_FGETS_UNLOCKED\n \n-/* Define if <inttypes.h> exists, doesn't clash with <sys/types.h>, and\n-   declares uintmax_t. */\n-#undef HAVE_INTTYPES_H_WITH_UINTMAX\n+/* Define if you have the getc_unlocked function.  */\n+#undef HAVE_GETC_UNLOCKED\n \n-/* Define if you have <langinfo.h> and nl_langinfo(CODESET). */\n-#undef HAVE_LANGINFO_CODESET\n+/* Define if you have the getcwd function.  */\n+#undef HAVE_GETCWD\n \n-/* Define if your <locale.h> file defines LC_MESSAGES. */\n-#undef HAVE_LC_MESSAGES\n+/* Define if you have the getegid function.  */\n+#undef HAVE_GETEGID\n \n-/* Define to 1 if you have the <limits.h> header file. */\n-#undef HAVE_LIMITS_H\n+/* Define if you have the geteuid function.  */\n+#undef HAVE_GETEUID\n \n-/* Define to 1 if you have the <locale.h> header file. */\n-#undef HAVE_LOCALE_H\n+/* Define if you have the getgid function.  */\n+#undef HAVE_GETGID\n \n-/* Define to 1 if you have the <malloc.h> header file. */\n-#undef HAVE_MALLOC_H\n+/* Define if you have the getpagesize function.  */\n+#undef HAVE_GETPAGESIZE\n \n-/* Define to 1 if you have the <memory.h> header file. */\n-#undef HAVE_MEMORY_H\n+/* Define if you have the getuid function.  */\n+#undef HAVE_GETUID\n \n-/* Define to 1 if you have the `mempcpy' function. */\n+/* Define if you have the mempcpy function.  */\n #undef HAVE_MEMPCPY\n \n-/* Define to 1 if you have a working `mmap' system call. */\n-#undef HAVE_MMAP\n-\n-/* Define to 1 if you have the `munmap' function. */\n+/* Define if you have the munmap function.  */\n #undef HAVE_MUNMAP\n \n-/* Define to 1 if you have the <nl_types.h> header file. */\n-#undef HAVE_NL_TYPES_H\n-\n-/* Define to 1 if you have the `putenv' function. */\n+/* Define if you have the putenv function.  */\n #undef HAVE_PUTENV\n \n-/* Define to 1 if you have the `setenv' function. */\n+/* Define if you have the setenv function.  */\n #undef HAVE_SETENV\n \n-/* Define to 1 if you have the `setlocale' function. */\n+/* Define if you have the setlocale function.  */\n #undef HAVE_SETLOCALE\n \n-/* Define to 1 if you have the <stddef.h> header file. */\n-#undef HAVE_STDDEF_H\n-\n-/* Define to 1 if you have the <stdint.h> header file. */\n-#undef HAVE_STDINT_H\n-\n-/* Define if <stdint.h> exists, doesn't clash with <sys/types.h>, and declares\n-   uintmax_t. */\n-#undef HAVE_STDINT_H_WITH_UINTMAX\n-\n-/* Define to 1 if you have the <stdlib.h> header file. */\n-#undef HAVE_STDLIB_H\n-\n-/* Define to 1 if you have the `stpcpy' function. */\n+/* Define if you have the stpcpy function.  */\n #undef HAVE_STPCPY\n \n-/* Define to 1 if you have the `strcasecmp' function. */\n+/* Define if you have the strcasecmp function.  */\n #undef HAVE_STRCASECMP\n \n-/* Define to 1 if you have the `strdup' function. */\n+/* Define if you have the strdup function.  */\n #undef HAVE_STRDUP\n \n-/* Define to 1 if you have the <strings.h> header file. */\n-#undef HAVE_STRINGS_H\n-\n-/* Define to 1 if you have the <string.h> header file. */\n-#undef HAVE_STRING_H\n-\n-/* Define to 1 if you have the `strtoul' function. */\n+/* Define if you have the strtoul function.  */\n #undef HAVE_STRTOUL\n \n-/* Define to 1 if you have the <sys/param.h> header file. */\n-#undef HAVE_SYS_PARAM_H\n+/* Define if you have the tsearch function.  */\n+#undef HAVE_TSEARCH\n \n-/* Define to 1 if you have the <sys/stat.h> header file. */\n-#undef HAVE_SYS_STAT_H\n+/* Define if you have the <argz.h> header file.  */\n+#undef HAVE_ARGZ_H\n \n-/* Define to 1 if you have the <sys/types.h> header file. */\n-#undef HAVE_SYS_TYPES_H\n+/* Define if you have the <limits.h> header file.  */\n+#undef HAVE_LIMITS_H\n \n-/* Define to 1 if you have the `tsearch' function. */\n-#undef HAVE_TSEARCH\n+/* Define if you have the <locale.h> header file.  */\n+#undef HAVE_LOCALE_H\n \n-/* Define if you have the 'uintmax_t' type in <stdint.h> or <inttypes.h>. */\n-#undef HAVE_UINTMAX_T\n+/* Define if you have the <malloc.h> header file.  */\n+#undef HAVE_MALLOC_H\n \n-/* Define to 1 if you have the <unistd.h> header file. */\n-#undef HAVE_UNISTD_H\n+/* Define if you have the <nl_types.h> header file.  */\n+#undef HAVE_NL_TYPES_H\n \n-/* Define if you have the unsigned long long type. */\n-#undef HAVE_UNSIGNED_LONG_LONG\n+/* Define if you have the <stddef.h> header file.  */\n+#undef HAVE_STDDEF_H\n \n-/* Define to 1 if you have the `__argz_count' function. */\n-#undef HAVE___ARGZ_COUNT\n+/* Define if you have the <stdlib.h> header file.  */\n+#undef HAVE_STDLIB_H\n \n-/* Define to 1 if you have the `__argz_next' function. */\n-#undef HAVE___ARGZ_NEXT\n+/* Define if you have the <string.h> header file.  */\n+#undef HAVE_STRING_H\n \n-/* Define to 1 if you have the `__argz_stringify' function. */\n-#undef HAVE___ARGZ_STRINGIFY\n+/* Define if you have the <sys/param.h> header file.  */\n+#undef HAVE_SYS_PARAM_H\n \n-/* Define to 1 if you have the `__fsetlocking' function. */\n-#undef HAVE___FSETLOCKING\n+/* Define if you have the <unistd.h> header file.  */\n+#undef HAVE_UNISTD_H\n \n-/* Define as const if the declaration of iconv() needs const. */\n-#undef ICONV_CONST\n+/* Define if <inttypes.h> exists, doesn't clash with <sys/types.h>,\n+       and declares uintmax_t.  */\n+#undef HAVE_INTTYPES_H_WITH_UINTMAX\n \n-/* Define to the installation directory. */\n-#undef INSTALLDIR\n+/* Define if <stdint.h> exists, doesn't clash with <sys/types.h>,\n+       and declares uintmax_t.  */\n+#undef HAVE_STDINT_H_WITH_UINTMAX\n+\n+/* Define if you have the unsigned long long type. */\n+#undef HAVE_UNSIGNED_LONG_LONG\n \n /* Define if integer division by zero raises signal SIGFPE. */\n #undef INTDIV0_RAISES_SIGFPE\n \n-/* Define because this is libintl. */\n-#undef IN_LIBINTL\n-\n-/* Define because this is a library. */\n-#undef IN_LIBRARY\n-\n-/* Define to the library directory. */\n-#undef LIBDIR\n+/* Define to unsigned long or unsigned long long\n+       if <stdint.h> and <inttypes.h> don't define. */\n+#undef uintmax_t\n \n-/* Define to the directory holding the locale files. */\n-#undef LOCALEDIR\n+/* Define if you have the 'uintmax_t' type in <stdint.h> or <inttypes.h>. */\n+#undef HAVE_UINTMAX_T\n \n-/* Define to the locale alias path. */\n-#undef LOCALE_ALIAS_PATH\n+/* Define if <inttypes.h> exists and doesn't clash with <sys/types.h>. */\n+#undef HAVE_INTTYPES_H\n \n-/* Define if there is no xmalloc. */\n-#undef NO_XMALLOC\n+/* Define if <inttypes.h> exists and defines unusable PRI* macros. */\n+#undef PRI_MACROS_BROKEN\n \n-/* Define to the address where bug reports for this package should be sent. */\n-#undef PACKAGE_BUGREPORT\n+/* Define if you have the iconv() function. */\n+#undef HAVE_ICONV\n \n-/* Define to the full name of this package. */\n-#undef PACKAGE_NAME\n+/* Define as const if the declaration of iconv() needs const. */\n+#undef ICONV_CONST\n \n-/* Define to the full name and version of this package. */\n-#undef PACKAGE_STRING\n+/* Define if you have <langinfo.h> and nl_langinfo(CODESET). */\n+#undef HAVE_LANGINFO_CODESET\n \n-/* Define to the one symbol short name of this package. */\n-#undef PACKAGE_TARNAME\n+/* Define if your <locale.h> file defines LC_MESSAGES. */\n+#undef HAVE_LC_MESSAGES\n \n-/* Define to the version of this package. */\n-#undef PACKAGE_VERSION\n+/* Define to 1 if translation of program messages to the user's native language\n+   is requested. */\n+#undef ENABLE_NLS\n \n-/* Define if <inttypes.h> exists and defines unusable PRI* macros. */\n-#undef PRI_MACROS_BROKEN\n+/* Define if the GNU gettext() function is already present or preinstalled. */\n+#undef HAVE_GETTEXT\n \n-/* If using the C implementation of alloca, define if you know the\n-   direction of stack growth for your system; otherwise it will be\n-   automatically deduced at run-time.\n-        STACK_DIRECTION > 0 => grows toward higher addresses\n-        STACK_DIRECTION < 0 => grows toward lower addresses\n-        STACK_DIRECTION = 0 => direction of growth unknown */\n-#undef STACK_DIRECTION\n+/* Define if the GNU dcgettext() function is already present or preinstalled. */\n+#undef HAVE_DCGETTEXT\n \n-/* Define to 1 if you have the ANSI C header files. */\n-#undef STDC_HEADERS\n+/* Define because this is libintl. */\n+#undef IN_LIBINTL\n \n-/* Define to empty if `const' does not conform to ANSI C. */\n-#undef const\n+/* Define because this is a library. */\n+#undef IN_LIBRARY\n \n-/* Define as `__inline' if that's what the C compiler calls it, or to nothing\n-   if it is not supported. */\n-#undef inline\n+/* Define because we depend on libiconv. */\n+#undef DEPENDS_ON_LIBICONV\n \n-/* Define to `long' if <sys/types.h> does not define. */\n-#undef off_t\n+/* Define to enable relocation. */\n+#undef ENABLE_RELOCATABLE\n \n-/* Define this entry point correctly. */\n-#undef relocate\n+/* Define if there is no xmalloc. */\n+#undef NO_XMALLOC\n \n /* Define this entry point correctly. */\n #undef set_relocation_prefix\n \n-/* Define to `unsigned' if <sys/types.h> does not define. */\n-#undef size_t\n+/* Define this entry point correctly. */\n+#undef relocate\n \n-/* Define to unsigned long or unsigned long long if <stdint.h> and\n-   <inttypes.h> don't define. */\n-#undef uintmax_t"}, {"sha": "040b7cf9d6d28b716a1247855df29c343d14e315", "filename": "intl/config.intl.in", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2Fconfig.intl.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2Fconfig.intl.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fconfig.intl.in?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -0,0 +1,12 @@\n+# This file records the configuration of libintl in a form that\n+# can be read back in by a configure script in a sister directory.\n+# See config/gettext.m4 for its use.\n+\n+USE_NLS='@USE_NLS@'\n+LIBINTL='@LIBINTL@'\n+LIBINTL_DEP='@LIBINTL_DEP@'\n+INCINTL='@INCINTL@'\n+\n+XGETTEXT='@XGETTEXT@'\n+GMSGFMT='@GMSGFMT@'\n+POSUB='@POSUB@'"}, {"sha": "b38d0ccba56553582825856d195ad9755453652c", "filename": "intl/configure", "status": "modified", "additions": 2464, "deletions": 5840, "changes": 8304, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fconfigure?ref=56694dd9965e7496ca003ec37a6709c86762b8d0"}, {"sha": "692ff2595aef87337ebba445e54280e69a24e8b6", "filename": "intl/configure.in", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56694dd9965e7496ca003ec37a6709c86762b8d0/intl%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fconfigure.in?ref=56694dd9965e7496ca003ec37a6709c86762b8d0", "patch": "@@ -1,19 +1,10 @@\n AC_PREREQ(2.13)\n AC_INIT(gettext.c)\n-AC_CONFIG_AUX_DIR(..)\n AC_CONFIG_HEADER(config.h)\n AM_GNU_GETTEXT_VERSION(0.12.1)\n AM_GNU_GETTEXT\n \n dnl This replaces the extensive use of DEFS in the original Makefile.in.\n-AC_DEFINE_UNQUOTED(LOCALEDIR, \"$localedir\",\n-[Define to the directory holding the locale files.])\n-AC_DEFINE_UNQUOTED(LOCALE_ALIAS_PATH, \"$aliaspath\",\n-[Define to the locale alias path.])\n-AC_DEFINE_UNQUOTED(LIBDIR, \"$libdir\",\n-[Define to the library directory.])\n-AC_DEFINE_UNQUOTED(INSTALLDIR, \"$libdir\",\n-[Define to the installation directory.])\n AC_DEFINE(IN_LIBINTL, 1, [Define because this is libintl.])\n AC_DEFINE(IN_LIBRARY, 1, [Define because this is a library.])\n AC_DEFINE(DEPENDS_ON_LIBICONV, 1, [Define because we depend on libiconv.])\n@@ -24,4 +15,13 @@ AC_DEFINE(set_relocation_prefix, libintl_set_relocation_prefix,\n AC_DEFINE(relocate, libintl_relocate,\n [Define this entry point correctly.])\n \n-AC_OUTPUT(Makefile)\n+dnl Additional info for config.intl.\n+LIBINTL_DEP=   AC_SUBST(LIBINTL_DEP)\n+INCINTL=       AC_SUBST(INCINTL)\n+\n+if test $USE_INCLUDED_LIBINTL = yes; then\n+  LIBINTL_DEP='${top_builddir}/intl/libintl.a'\n+  INCINTL='-I${top_builddir}/intl'\n+fi\n+\n+AC_OUTPUT(Makefile config.intl)"}, {"sha": "c8dc33e7cf4a5b1af52d23869b7252a042a3d8f5", "filename": "intl/os2compat.c", "status": "removed", "additions": 0, "deletions": 98, "changes": 98, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a294c4cf9122cc665b452d9f08b3d05f47cbb00e/intl%2Fos2compat.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a294c4cf9122cc665b452d9f08b3d05f47cbb00e/intl%2Fos2compat.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fos2compat.c?ref=a294c4cf9122cc665b452d9f08b3d05f47cbb00e", "patch": "@@ -1,98 +0,0 @@\n-/* OS/2 compatibility functions.\n-   Copyright (C) 2001-2002 Free Software Foundation, Inc.\n-\n-   This program is free software; you can redistribute it and/or modify it\n-   under the terms of the GNU Library General Public License as published\n-   by the Free Software Foundation; either version 2, or (at your option)\n-   any later version.\n-\n-   This program is distributed in the hope that it will be useful,\n-   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-   Library General Public License for more details.\n-\n-   You should have received a copy of the GNU Library General Public\n-   License along with this program; if not, write to the Free Software\n-   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n-   USA.  */\n-\n-#define OS2_AWARE\n-#ifdef HAVE_CONFIG_H\n-#include <config.h>\n-#endif\n-\n-#include <stdlib.h>\n-#include <string.h>\n-#include <sys/param.h>\n-\n-/* A version of getenv() that works from DLLs */\n-extern unsigned long DosScanEnv (const unsigned char *pszName, unsigned char **ppszValue);\n-\n-char *\n-_nl_getenv (const char *name)\n-{\n-  unsigned char *value;\n-  if (DosScanEnv (name, &value))\n-    return NULL;\n-  else\n-    return value;\n-}\n-\n-/* A fixed size buffer.  */\n-char libintl_nl_default_dirname[MAXPATHLEN+1];\n-\n-char *_nlos2_libdir = NULL;\n-char *_nlos2_localealiaspath = NULL;\n-char *_nlos2_localedir = NULL;\n-\n-static __attribute__((constructor)) void\n-nlos2_initialize ()\n-{\n-  char *root = getenv (\"UNIXROOT\");\n-  char *gnulocaledir = getenv (\"GNULOCALEDIR\");\n-\n-  _nlos2_libdir = gnulocaledir;\n-  if (!_nlos2_libdir)\n-    {\n-      if (root)\n-        {\n-          size_t sl = strlen (root);\n-          _nlos2_libdir = (char *) malloc (sl + strlen (LIBDIR) + 1);\n-          memcpy (_nlos2_libdir, root, sl);\n-          memcpy (_nlos2_libdir + sl, LIBDIR, strlen (LIBDIR) + 1);\n-        }\n-      else\n-        _nlos2_libdir = LIBDIR;\n-    }\n-\n-  _nlos2_localealiaspath = gnulocaledir;\n-  if (!_nlos2_localealiaspath)\n-    {\n-      if (root)\n-        {\n-          size_t sl = strlen (root);\n-          _nlos2_localealiaspath = (char *) malloc (sl + strlen (LOCALE_ALIAS_PATH) + 1);\n-          memcpy (_nlos2_localealiaspath, root, sl);\n-          memcpy (_nlos2_localealiaspath + sl, LOCALE_ALIAS_PATH, strlen (LOCALE_ALIAS_PATH) + 1);\n-        }\n-     else\n-        _nlos2_localealiaspath = LOCALE_ALIAS_PATH;\n-    }\n-\n-  _nlos2_localedir = gnulocaledir;\n-  if (!_nlos2_localedir)\n-    {\n-      if (root)\n-        {\n-          size_t sl = strlen (root);\n-          _nlos2_localedir = (char *) malloc (sl + strlen (LOCALEDIR) + 1);\n-          memcpy (_nlos2_localedir, root, sl);\n-          memcpy (_nlos2_localedir + sl, LOCALEDIR, strlen (LOCALEDIR) + 1);\n-        }\n-      else\n-        _nlos2_localedir = LOCALEDIR;\n-    }\n-\n-  if (strlen (_nlos2_localedir) <= MAXPATHLEN)\n-    strcpy (libintl_nl_default_dirname, _nlos2_localedir);\n-}"}, {"sha": "4f74e8c037529ba1e7bfb5467e7ecb968f060eb0", "filename": "intl/os2compat.h", "status": "removed", "additions": 0, "deletions": 46, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a294c4cf9122cc665b452d9f08b3d05f47cbb00e/intl%2Fos2compat.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a294c4cf9122cc665b452d9f08b3d05f47cbb00e/intl%2Fos2compat.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/intl%2Fos2compat.h?ref=a294c4cf9122cc665b452d9f08b3d05f47cbb00e", "patch": "@@ -1,46 +0,0 @@\n-/* OS/2 compatibility defines.\n-   This file is intended to be included from config.h\n-   Copyright (C) 2001-2002 Free Software Foundation, Inc.\n-\n-   This program is free software; you can redistribute it and/or modify it\n-   under the terms of the GNU Library General Public License as published\n-   by the Free Software Foundation; either version 2, or (at your option)\n-   any later version.\n-\n-   This program is distributed in the hope that it will be useful,\n-   but WITHOUT ANY WARRANTY; without even the implied warranty of\n-   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-   Library General Public License for more details.\n-\n-   You should have received a copy of the GNU Library General Public\n-   License along with this program; if not, write to the Free Software\n-   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n-   USA.  */\n-\n-/* When included from os2compat.h we need all the original definitions */\n-#ifndef OS2_AWARE\n-\n-#undef LIBDIR\n-#define LIBDIR\t\t\t_nlos2_libdir\n-extern char *_nlos2_libdir;\n-\n-#undef LOCALEDIR\n-#define LOCALEDIR\t\t_nlos2_localedir\n-extern char *_nlos2_localedir;\n-\n-#undef LOCALE_ALIAS_PATH\n-#define LOCALE_ALIAS_PATH\t_nlos2_localealiaspath\n-extern char *_nlos2_localealiaspath;\n-\n-#endif\n-\n-#undef HAVE_STRCASECMP\n-#define HAVE_STRCASECMP 1\n-#define strcasecmp stricmp\n-#define strncasecmp strnicmp\n-\n-/* We have our own getenv() which works even if library is compiled as DLL */\n-#define getenv _nl_getenv\n-\n-/* Older versions of gettext used -1 as the value of LC_MESSAGES */\n-#define LC_MESSAGES_COMPAT (-1)"}]}