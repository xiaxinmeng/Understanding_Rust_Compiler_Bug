{"sha": "4470254f1a06ae1fe9548902f079d2dd8bc74692", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDQ3MDI1NGYxYTA2YWUxZmU5NTQ4OTAyZjA3OWQyZGQ4YmM3NDY5Mg==", "commit": {"author": {"name": "Nicola Pero", "email": "nicola@nicola.brainstorm.co.uk", "date": "2010-09-08T18:02:53Z"}, "committer": {"name": "Nicola Pero", "email": "nicola@gcc.gnu.org", "date": "2010-09-08T18:02:53Z"}, "message": "typedstream.h: Deprecate all functions in the file.\n\n        * objc/typedstream.h: Deprecate all functions in the file.  This\n        file is obsolete.\n        * objc/Object.h ([+streamVersion:], [-read:], [-write:],\n        [-awake]): Documented that these methods are deprecated.  Added a\n        brief description of the Object class and its relationship to the\n        NSObject class.\n        * Makefile.in: Compile archive.c and Object.m with\n        -Wno-deprecated-declarations.\n\nFrom-SVN: r164015", "tree": {"sha": "5c405286f56fc917530095b41f63d842bbe64e8f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5c405286f56fc917530095b41f63d842bbe64e8f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4470254f1a06ae1fe9548902f079d2dd8bc74692", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4470254f1a06ae1fe9548902f079d2dd8bc74692", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4470254f1a06ae1fe9548902f079d2dd8bc74692", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4470254f1a06ae1fe9548902f079d2dd8bc74692/comments", "author": null, "committer": null, "parents": [{"sha": "7d124e66cab77a2ca9e09518a36bdd3b6e5c830b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d124e66cab77a2ca9e09518a36bdd3b6e5c830b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d124e66cab77a2ca9e09518a36bdd3b6e5c830b"}], "stats": {"total": 95, "additions": 67, "deletions": 28}, "files": [{"sha": "e79318b0e208f7f4bae8fee910e24b809d0a8d92", "filename": "libobjc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4470254f1a06ae1fe9548902f079d2dd8bc74692/libobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4470254f1a06ae1fe9548902f079d2dd8bc74692/libobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FChangeLog?ref=4470254f1a06ae1fe9548902f079d2dd8bc74692", "patch": "@@ -1,3 +1,14 @@\n+2010-09-08  Nicola Pero  <nicola@nicola.brainstorm.co.uk>\n+\n+\t* objc/typedstream.h: Deprecate all functions in the file.  This\n+\tfile is obsolete.\n+\t* objc/Object.h ([+streamVersion:], [-read:], [-write:],\n+\t[-awake]): Documented that these methods are deprecated.  Added a\n+\tbrief description of the Object class and its relationship to the\n+\tNSObject class.\n+\t* Makefile.in: Compile archive.c and Object.m with\n+\t-Wno-deprecated-declarations.\n+\n 2010-09-08  Nicola Pero  <nicola.pero@meta-innovation.com>\n \n \tRemoved obsolete intermediate threading layer."}, {"sha": "0a02e0a215d30ec65b96237bbc95931e94ca6cfe", "filename": "libobjc/Makefile.in", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4470254f1a06ae1fe9548902f079d2dd8bc74692/libobjc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4470254f1a06ae1fe9548902f079d2dd8bc74692/libobjc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FMakefile.in?ref=4470254f1a06ae1fe9548902f079d2dd8bc74692", "patch": "@@ -167,7 +167,11 @@ runtime-info.h:\n \trm -f tmp-runtime.m tmp-runtime.s\n \n archive_gc.lo: archive.c\n-\t$(LIBTOOL_COMPILE) $(CC) -c  -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n+\t$(LIBTOOL_COMPILE) $(CC) -Wno-deprecated-declarations -c -o $@ $(ALL_CFLAGS) \\\n+\t\t$(OBJC_GCFLAGS) $(INCLUDES) $<\n+\n+archive.lo: archive.c\n+\t$(LIBTOOL_COMPILE) $(CC) -Wno-deprecated-declarations -c $(ALL_CFLAGS) \\\n \t\t$(INCLUDES) $<\n \n class_gc.lo: class.c\n@@ -217,13 +221,15 @@ NXConstStr_gc.lo: NXConstStr.m\n \t$(LIBTOOL_COMPILE) $(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) \\\n \t\t$(OBJC_GCFLAGS) $(INCLUDES) $<\n \n+# -Wno-deprecated-declarations is for the objc/typedstream.h functions.\n Object.lo: Object.m\n-\t$(LIBTOOL_COMPILE) $(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) \\\n-\t\t$(INCLUDES) $<\n+\t$(LIBTOOL_COMPILE) $(CC) -fgnu-runtime -Wno-deprecated-declarations \\\n+\t\t-c -o $@ $(ALL_CFLAGS) $(INCLUDES) $<\n \n+# -Wno-deprecated-declarations is for the objc/typedstream.h functions.\n Object_gc.lo: Object.m\n-\t$(LIBTOOL_COMPILE) $(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) \\\n-\t\t$(OBJC_GCFLAGS) $(INCLUDES) $<\n+\t$(LIBTOOL_COMPILE) $(CC) -fgnu-runtime -Wno-deprecated-declarations \\\n+\t\t-c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) $(INCLUDES) $<\n \n objects_gc.lo: objects.c\n \t$(LIBTOOL_COMPILE) $(CC) -c $(ALL_CFLAGS) -o $@ $(OBJC_GCFLAGS) \\"}, {"sha": "b9cf037b1b5c7751ba4787fc362a8be3f9b1f610", "filename": "libobjc/objc/Object.h", "status": "modified", "additions": 25, "deletions": 7, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4470254f1a06ae1fe9548902f079d2dd8bc74692/libobjc%2Fobjc%2FObject.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4470254f1a06ae1fe9548902f079d2dd8bc74692/libobjc%2Fobjc%2FObject.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fobjc%2FObject.h?ref=4470254f1a06ae1fe9548902f079d2dd8bc74692", "patch": "@@ -1,5 +1,5 @@\n /* Interface for the Object class for Objective-C.\n-   Copyright (C) 1993, 1994, 1995, 2009 Free Software Foundation, Inc.\n+   Copyright (C) 1993, 1994, 1995, 2009, 2010 Free Software Foundation, Inc.\n \n This file is part of GCC.\n \n@@ -33,9 +33,23 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n extern \"C\" {\n #endif\n \n+/* The Object class is a minimal (but fully functional) root class\n+   included with the runtime.\n+\n+   It is mostly for testing the runtime; very handy in configure\n+   tests, and when writing language/runtime testcases.\n+\n+   Because Objective-C allows multiple root classes, a Foundation\n+   library (such as GNUstep-base) is expected to provide its own root\n+   class (typically called NSObject), fully integrated with the\n+   library's own high-level features.  If you are using such a\n+   Foundation library, you should most likely use its root class for\n+   everything and ignore Object.\n+*/\n+\n /*\n- * All classes are derived from Object.  As such,\n- * this is the overhead tacked onto those objects.\n+  All classes are derived from Object.  As such,\n+  this is the overhead tacked onto those objects.\n  */\n @interface Object\n {\n@@ -116,11 +130,15 @@ extern \"C\" {\n         /* Archiving */\n + (int)version;\n + setVersion:(int)aVersion;\n-+ (int)streamVersion: (TypedStream*)aStream;\n \n-- read: (TypedStream*)aStream;\n-- write: (TypedStream*)aStream;\n-- awake;\n+/* The following methods were deprecated in GCC 4.6.0 and will be removed in the next\n+   GCC release.\n+*/\n++ (int)streamVersion: (TypedStream*)aStream; /* __attribute__ ((deprecated)) */\n+\n+- read: (TypedStream*)aStream; /* __attribute__ ((deprecated)) */\n+- write: (TypedStream*)aStream; /* __attribute__ ((deprecated)) */\n+- awake; /* __attribute__ ((deprecated)) */\n \n @end\n "}, {"sha": "34ac061dc7e68d5eb3727f7c6c343d161744754d", "filename": "libobjc/objc/typedstream.h", "status": "modified", "additions": 20, "deletions": 16, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4470254f1a06ae1fe9548902f079d2dd8bc74692/libobjc%2Fobjc%2Ftypedstream.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4470254f1a06ae1fe9548902f079d2dd8bc74692/libobjc%2Fobjc%2Ftypedstream.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fobjc%2Ftypedstream.h?ref=4470254f1a06ae1fe9548902f079d2dd8bc74692", "patch": "@@ -26,6 +26,10 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n #ifndef __typedstream_INCLUDE_GNU\n #define __typedstream_INCLUDE_GNU\n \n+/* The API in this file was entirely deprecated in GCC 4.6.0 and will\n+   be removed in the following GCC release.\n+*/\n+\n #include \"objc.h\"\n #include \"hash.h\"\n \n@@ -94,29 +98,29 @@ typedef struct objc_typed_stream {\n ** arguments are pointers to the objects to read/write.  \n */\n \n-int objc_write_type (TypedStream* stream, const char* type, const void* data);\n-int objc_read_type (TypedStream* stream, const char* type, void* data);\n+int objc_write_type (TypedStream* stream, const char* type, const void* data) __attribute__ ((deprecated));\n+int objc_read_type (TypedStream* stream, const char* type, void* data) __attribute__ ((deprecated));\n \n-int objc_write_types (TypedStream* stream, const char* type, ...);\n-int objc_read_types (TypedStream* stream, const char* type, ...);\n+int objc_write_types (TypedStream* stream, const char* type, ...) __attribute__ ((deprecated));\n+int objc_read_types (TypedStream* stream, const char* type, ...) __attribute__ ((deprecated));\n \n-int objc_write_object_reference (TypedStream* stream, id object);\n-int objc_write_root_object (TypedStream* stream, id object);\n+int objc_write_object_reference (TypedStream* stream, id object) __attribute__ ((deprecated));\n+int objc_write_root_object (TypedStream* stream, id object) __attribute__ ((deprecated));\n \n-long objc_get_stream_class_version (TypedStream* stream, Class class_type);\n+long objc_get_stream_class_version (TypedStream* stream, Class class_type) __attribute__ ((deprecated));\n \n \n /*\n ** Convenience functions\n */\n \n int objc_write_array (TypedStream* stream, const char* type,\n-\t\t      int count, const void* data);\n+\t\t      int count, const void* data) __attribute__ ((deprecated));\n int objc_read_array (TypedStream* stream, const char* type,\n-\t\t     int count, void* data);\n+\t\t     int count, void* data) __attribute__ ((deprecated));\n \n-int objc_write_object (TypedStream* stream, id object);\n-int objc_read_object (TypedStream* stream, id* object);\n+int objc_write_object (TypedStream* stream, id object) __attribute__ ((deprecated));\n+int objc_read_object (TypedStream* stream, id* object) __attribute__ ((deprecated));\n \n \n \n@@ -125,13 +129,13 @@ int objc_read_object (TypedStream* stream, id* object);\n ** OBJC_READONLY or OBJC_WRITEONLY.  \n */\n \n-TypedStream* objc_open_typed_stream (FILE* physical, int mode);\n-TypedStream* objc_open_typed_stream_for_file (const char* file_name, int mode);\n+TypedStream* objc_open_typed_stream (FILE* physical, int mode) __attribute__ ((deprecated));\n+TypedStream* objc_open_typed_stream_for_file (const char* file_name, int mode) __attribute__ ((deprecated));\n \n-void objc_close_typed_stream (TypedStream* stream);\n+void objc_close_typed_stream (TypedStream* stream) __attribute__ ((deprecated));\n \n-BOOL objc_end_of_typed_stream (TypedStream* stream);\n-void objc_flush_typed_stream (TypedStream* stream);\n+BOOL objc_end_of_typed_stream (TypedStream* stream) __attribute__ ((deprecated));\n+void objc_flush_typed_stream (TypedStream* stream) __attribute__ ((deprecated));\n \n #ifdef __cplusplus\n }"}]}