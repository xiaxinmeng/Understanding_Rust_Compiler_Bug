{"sha": "feaa2074d8cece0510c49c45a2456a3f56b02381", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmVhYTIwNzRkOGNlY2UwNTEwYzQ5YzQ1YTI0NTZhM2Y1NmIwMjM4MQ==", "commit": {"author": {"name": "SimplyTheOther", "email": "simplytheother@gmail.com", "date": "2021-02-06T10:10:57Z"}, "committer": {"name": "SimplyTheOther", "email": "simplytheother@gmail.com", "date": "2021-02-06T10:10:57Z"}, "message": "Added even more debug for cfg predicate checking", "tree": {"sha": "a7d9ef0754e55372bcfba938772febac8d1511e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a7d9ef0754e55372bcfba938772febac8d1511e8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/feaa2074d8cece0510c49c45a2456a3f56b02381", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/feaa2074d8cece0510c49c45a2456a3f56b02381", "html_url": "https://github.com/Rust-GCC/gccrs/commit/feaa2074d8cece0510c49c45a2456a3f56b02381", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/feaa2074d8cece0510c49c45a2456a3f56b02381/comments", "author": {"login": "SimplyTheOther", "id": 19371469, "node_id": "MDQ6VXNlcjE5MzcxNDY5", "avatar_url": "https://avatars.githubusercontent.com/u/19371469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimplyTheOther", "html_url": "https://github.com/SimplyTheOther", "followers_url": "https://api.github.com/users/SimplyTheOther/followers", "following_url": "https://api.github.com/users/SimplyTheOther/following{/other_user}", "gists_url": "https://api.github.com/users/SimplyTheOther/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimplyTheOther/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimplyTheOther/subscriptions", "organizations_url": "https://api.github.com/users/SimplyTheOther/orgs", "repos_url": "https://api.github.com/users/SimplyTheOther/repos", "events_url": "https://api.github.com/users/SimplyTheOther/events{/privacy}", "received_events_url": "https://api.github.com/users/SimplyTheOther/received_events", "type": "User", "site_admin": false}, "committer": {"login": "SimplyTheOther", "id": 19371469, "node_id": "MDQ6VXNlcjE5MzcxNDY5", "avatar_url": "https://avatars.githubusercontent.com/u/19371469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimplyTheOther", "html_url": "https://github.com/SimplyTheOther", "followers_url": "https://api.github.com/users/SimplyTheOther/followers", "following_url": "https://api.github.com/users/SimplyTheOther/following{/other_user}", "gists_url": "https://api.github.com/users/SimplyTheOther/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimplyTheOther/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimplyTheOther/subscriptions", "organizations_url": "https://api.github.com/users/SimplyTheOther/orgs", "repos_url": "https://api.github.com/users/SimplyTheOther/repos", "events_url": "https://api.github.com/users/SimplyTheOther/events{/privacy}", "received_events_url": "https://api.github.com/users/SimplyTheOther/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3571e997473c87dcdb2ca590951acbd698382a33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3571e997473c87dcdb2ca590951acbd698382a33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3571e997473c87dcdb2ca590951acbd698382a33"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "aa17d60bf9760e5c0b50e89ed23d215e57e72717", "filename": "gcc/rust/ast/rust-ast-full-test.cc", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/feaa2074d8cece0510c49c45a2456a3f56b02381/gcc%2Frust%2Fast%2Frust-ast-full-test.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/feaa2074d8cece0510c49c45a2456a3f56b02381/gcc%2Frust%2Fast%2Frust-ast-full-test.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fast%2Frust-ast-full-test.cc?ref=feaa2074d8cece0510c49c45a2456a3f56b02381", "patch": "@@ -5359,8 +5359,12 @@ Attribute::check_cfg_predicate (const Session &session) const\n   /* assume that cfg predicate actually can exist, i.e. attribute has cfg or\n    * cfg_attr path */\n   if (!has_attr_input ()\n-      || (path.as_string () != \"cfg\" && path.as_string () != \"cfg_attr\"))\n+      || (path.as_string () != \"cfg\" && path.as_string () != \"cfg_attr\")) {\n+        // DEBUG message\n+        fprintf (stderr, \"tried to check cfg predicate on attr that either has no input or invalid path. attr: '%s'\\n\", as_string ().c_str ());\n+\n     return false;\n+    }\n \n   // assume that it has already been parsed\n   if (!is_parsed_to_meta_item ())"}, {"sha": "092204571b7c1f4367d99947201033fb9e16ebd5", "filename": "gcc/rust/ast/rust-ast.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/feaa2074d8cece0510c49c45a2456a3f56b02381/gcc%2Frust%2Fast%2Frust-ast.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/feaa2074d8cece0510c49c45a2456a3f56b02381/gcc%2Frust%2Fast%2Frust-ast.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fast%2Frust-ast.h?ref=feaa2074d8cece0510c49c45a2456a3f56b02381", "patch": "@@ -733,6 +733,7 @@ class DelimTokenTree : public TokenTree, public AttrInput\n   bool check_cfg_predicate (const Session &) const override\n   {\n     // this should never be called - should be converted first\n+    rust_assert (false);\n     return false;\n   }\n "}, {"sha": "df99d757fbf90d8d96343db35baab3a82b76968f", "filename": "gcc/rust/expand/rust-macro-expand.cc", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/feaa2074d8cece0510c49c45a2456a3f56b02381/gcc%2Frust%2Fexpand%2Frust-macro-expand.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/feaa2074d8cece0510c49c45a2456a3f56b02381/gcc%2Frust%2Fexpand%2Frust-macro-expand.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fexpand%2Frust-macro-expand.cc?ref=feaa2074d8cece0510c49c45a2456a3f56b02381", "patch": "@@ -3285,6 +3285,8 @@ MacroExpander::fails_cfg_with_expand (std::vector<AST::Attribute> &attrs) const\n     // DEBUG\n     if (!attr.is_parsed_to_meta_item ())\n       fprintf (stderr, \"failed to parse attr to meta item, right before cfg predicate check\\n\");\n+    else\n+      fprintf(stderr, \"attr has been successfully parsed to meta item, right before cfg predicate check\\n\");\n \n \t  if (!attr.check_cfg_predicate (session))\n     {"}]}