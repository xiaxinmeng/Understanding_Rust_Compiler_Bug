{"sha": "ade1e0d5896221500d1cbda38cd631cf80325aaa", "node_id": "C_kwDOANBUbNoAKGFkZTFlMGQ1ODk2MjIxNTAwZDFjYmRhMzhjZDYzMWNmODAzMjVhYWE", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2022-10-04T19:05:16Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2022-10-04T19:05:16Z"}, "message": "attribs: Add missing auto_diagnostic_group 3 times\n\nIn these spots, the error/error_at has some inform afterwards which are\nexplanation part of the same diagnostics, so should be tied with\nauto_diagnostic_group with it.\n\n2022-10-04  Jakub Jelinek  <jakub@redhat.com>\n\n\t* attribs.cc (handle_ignored_attributes_option, decl_attributes,\n\tcommon_function_versions): Use auto_diagnostic_group.", "tree": {"sha": "df8c04f65950b5287e2bd19c3913b4f993aa17ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df8c04f65950b5287e2bd19c3913b4f993aa17ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ade1e0d5896221500d1cbda38cd631cf80325aaa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ade1e0d5896221500d1cbda38cd631cf80325aaa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ade1e0d5896221500d1cbda38cd631cf80325aaa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ade1e0d5896221500d1cbda38cd631cf80325aaa/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "87b0fe37a2a5916cd09586e2af83b8203f57612a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87b0fe37a2a5916cd09586e2af83b8203f57612a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87b0fe37a2a5916cd09586e2af83b8203f57612a"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "1462c1192aebb291540deb9cd72876ab467c9224", "filename": "gcc/attribs.cc", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade1e0d5896221500d1cbda38cd631cf80325aaa/gcc%2Fattribs.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade1e0d5896221500d1cbda38cd631cf80325aaa/gcc%2Fattribs.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fattribs.cc?ref=ade1e0d5896221500d1cbda38cd631cf80325aaa", "patch": "@@ -251,6 +251,7 @@ handle_ignored_attributes_option (vec<char *> *v)\n       /* We don't accept '::attr'.  */\n       if (cln == nullptr || cln == opt)\n \t{\n+\t  auto_diagnostic_group d;\n \t  error (\"wrong argument to ignored attributes\");\n \t  inform (input_location, \"valid format is %<ns::attr%> or %<ns::%>\");\n \t  continue;\n@@ -732,6 +733,7 @@ decl_attributes (tree *node, tree attributes, int flags,\n \t      || (spec->max_length >= 0\n \t\t  && nargs > spec->max_length))\n \t    {\n+\t      auto_diagnostic_group d;\n \t      error (\"wrong number of arguments specified for %qE attribute\",\n \t\t     name);\n \t      if (spec->max_length < 0)\n@@ -1167,6 +1169,7 @@ common_function_versions (tree fn1, tree fn2)\n \t      std::swap (fn1, fn2);\n \t      attr1 = attr2;\n \t    }\n+\t  auto_diagnostic_group d;\n \t  error_at (DECL_SOURCE_LOCATION (fn2),\n \t\t    \"missing %<target%> attribute for multi-versioned %qD\",\n \t\t    fn2);"}]}