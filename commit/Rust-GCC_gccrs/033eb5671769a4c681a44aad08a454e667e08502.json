{"sha": "033eb5671769a4c681a44aad08a454e667e08502", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDMzZWI1NjcxNzY5YTRjNjgxYTQ0YWFkMDhhNDU0ZTY2N2UwODUwMg==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2018-10-17T13:56:05Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2018-10-17T13:56:05Z"}, "message": "Run selftests for C++ as well as C\n\ngcc/ChangeLog:\n\t* Makefile.in (SELFTEST_TARGETS): New.\n\t(selftest) Change from s-selftest-c to $(SELFTEST_TARGETS).\n\t(C_SELFTEST_FLAGS, C_SELFTEST_DEPS, s-selftest-c, selftest-c-gdb)\n\t(selftest-gdb, selftest-c-valgrind, selftest-valgrind): Move to\n\tc/Make-lang.in.\n\t(CPP_SELFTEST_FLAGS, CPP_SELFTEST_DEPS, s-selftest-c++)\n\t(selftest-c++-gdb, selftest-c++-valgrind): Move to\n\tcp/Make-lang.in.\n\t* configure: Regenerate.\n\t* configure.ac (selftest_languages): New.\n\ngcc/brig/ChangeLog:\n\t* Make-lang.in (selftest-brig): New.\n\ngcc/c/ChangeLog:\n\t* Make-lang.in (selftest-c): New.\n\t(C_SELFTEST_FLAGS, C_SELFTEST_DEPS, s-selftest-c, selftest-c-gdb)\n\t(selftest-gdb, selftest-c-valgrind, selftest-valgrind): Move here\n\tfrom gcc/Makefile.in.\n\ngcc/cp/ChangeLog:\n\t* Make-lang.in (selftest-c++): New.\n\t(CPP_SELFTEST_FLAGS, CPP_SELFTEST_DEPS, s-selftest-c++)\n\t(selftest-c++-gdb, selftest-c++-valgrind): Move here from\n\tgcc/Makefile.in.\n\ngcc/fortran/ChangeLog:\n\t* Make-lang.in (selftest-fortran): New.\n\ngcc/go/ChangeLog:\n\t* Make-lang.in (selftest-go): New.\n\ngcc/jit/ChangeLog:\n\t* Make-lang.in (selftest-jit): New.\n\ngcc/lto/ChangeLog:\n\t* Make-lang.in (selftest-lto): New.\n\ngcc/objc/ChangeLog:\n\t* Make-lang.in (selftest-objc): New.\n\ngcc/objcp/ChangeLog:\n\t* Make-lang.in (selftest-obj-c++): New.\n\nFrom-SVN: r265240", "tree": {"sha": "22495cece5c3fb48c8d36f59f8984d9d1d560d84", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/22495cece5c3fb48c8d36f59f8984d9d1d560d84"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/033eb5671769a4c681a44aad08a454e667e08502", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/033eb5671769a4c681a44aad08a454e667e08502", "html_url": "https://github.com/Rust-GCC/gccrs/commit/033eb5671769a4c681a44aad08a454e667e08502", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/033eb5671769a4c681a44aad08a454e667e08502/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e8f1d5cb7c9fdf367a11bd939aac73d4e85265e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8f1d5cb7c9fdf367a11bd939aac73d4e85265e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8f1d5cb7c9fdf367a11bd939aac73d4e85265e5"}], "stats": {"total": 208, "additions": 159, "deletions": 49}, "files": [{"sha": "1332e08e5ce2468e4dc2af0cfaadab0329984d2b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -1,3 +1,16 @@\n+2018-10-17  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* Makefile.in (SELFTEST_TARGETS): New.\n+\t(selftest) Change from s-selftest-c to $(SELFTEST_TARGETS).\n+\t(C_SELFTEST_FLAGS, C_SELFTEST_DEPS, s-selftest-c, selftest-c-gdb)\n+\t(selftest-gdb, selftest-c-valgrind, selftest-valgrind): Move to\n+\tc/Make-lang.in.\n+\t(CPP_SELFTEST_FLAGS, CPP_SELFTEST_DEPS, s-selftest-c++)\n+\t(selftest-c++-gdb, selftest-c++-valgrind): Move to\n+\tcp/Make-lang.in.\n+\t* configure: Regenerate.\n+\t* configure.ac (selftest_languages): New.\n+\n 2018-10-17  Aldy Hernandez  <aldyh@redhat.com>\n \n         * tree-vrp.c (extract_range_from_multiplicative_op): Remove"}, {"sha": "52240d17f3d15e4086071b2664807e6cc15ae04a", "filename": "gcc/Makefile.in", "status": "modified", "additions": 5, "deletions": 47, "changes": 52, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -1935,62 +1935,20 @@ DEVNULL=$(if $(findstring mingw,$(build)),nul,/dev/null)\n SELFTEST_FLAGS = -nostdinc $(DEVNULL) -S -o $(DEVNULL) \\\n \t-fself-test=$(srcdir)/testsuite/selftests\n \n-C_SELFTEST_FLAGS = -xc $(SELFTEST_FLAGS)\n-CPP_SELFTEST_FLAGS = -xc++ $(SELFTEST_FLAGS)\n-\n SELFTEST_DEPS = $(GCC_PASSES) stmp-int-hdrs $(srcdir)/testsuite/selftests\n \n-C_SELFTEST_DEPS = cc1$(exeext) $(SELFTEST_DEPS)\n-CPP_SELFTEST_DEPS = cc1plus$(exeext) $(SELFTEST_DEPS)\n-\n # Run the selftests during the build once we have a driver and the frontend,\n # so that self-test failures are caught as early as possible.\n # Use \"s-selftest-FE\" to ensure that we only run the selftests if the\n # driver, frontend, or selftest data change.\n .PHONY: selftest\n \n-# By default, only run the selftests within the C frontend\n-selftest: s-selftest-c\n-\n-# C selftests\n-s-selftest-c: $(C_SELFTEST_DEPS)\n-\t$(GCC_FOR_TARGET) $(C_SELFTEST_FLAGS)\n-\t$(STAMP) $@\n-\n-# Convenience methods for running C selftests under gdb:\n-.PHONY: selftest-c-gdb\n-selftest-c-gdb: $(C_SELFTEST_DEPS)\n-\t$(GCC_FOR_TARGET) $(C_SELFTEST_FLAGS) \\\n-\t  -wrapper gdb,--args\n-\n-.PHONY: selftest-gdb\n-selftest-gdb: selftest-c-gdb\n-\n-# Convenience methods for running C selftests under valgrind:\n-.PHONY: selftest-c-valgrind\n-selftest-c-valgrind: $(C_SELFTEST_DEPS)\n-\t$(GCC_FOR_TARGET) $(C_SELFTEST_FLAGS) \\\n-\t  -wrapper valgrind,--leak-check=full\n-\n-.PHONY: selftest-valgrind\n-selftest-valgrind: selftest-c-valgrind\n-\n-# C++ selftests\n-s-selftest-c++: $(CPP_SELFTEST_DEPS)\n-\t$(GCC_FOR_TARGET) $(CPP_SELFTEST_FLAGS)\n-\t$(STAMP) $@\n+# Potentially run all selftest-<LANG>.  The various <LANG>/Make-lang.in can\n+# require the selftests to be run by defining their selftest-<LANG> as\n+# s-selftest-<LANG>.  Otherwise, they should define it as empty.\n \n-# Convenience method for running C++ selftests under gdb:\n-.PHONY: selftest-c++-gdb\n-selftest-c++-gdb: $(CPP_SELFTEST_DEPS)\n-\t$(GCC_FOR_TARGET) $(CPP_SELFTEST_FLAGS) \\\n-\t  -wrapper gdb,--args\n-\n-# Convenience method for running C++ selftests under valgrind:\n-.PHONY: selftest-c++-valgrind\n-selftest-c++-valgrind: $(CPP_SELFTEST_DEPS)\n-\t$(GCC_FOR_TARGET) $(CPP_SELFTEST_FLAGS) \\\n-\t  -wrapper valgrind,--leak-check=full\n+SELFTEST_TARGETS = @selftest_languages@\n+selftest: $(SELFTEST_TARGETS)\n \n # Recompile all the language-independent object files.\n # This is used only if the user explicitly asks for it."}, {"sha": "56020922288412c6390871f495bde69d19938dfb", "filename": "gcc/ada/gcc-interface/Make-lang.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMake-lang.in?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -930,6 +930,9 @@ check_gnat_parallelize = 1000\n check-ada: check-acats check-gnat\n check-ada-subtargets: check-acats-subtargets check-gnat-subtargets\n \n+# No ada-specific selftests\n+selftest-ada:\n+\n ACATSDIR = $(TESTSUITEDIR)/ada/acats\n ACATSCMD = run_acats.sh\n "}, {"sha": "18f226967c06542621ce6d0b7301cc5f1d861e6f", "filename": "gcc/brig/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fbrig%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fbrig%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbrig%2FChangeLog?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -1,3 +1,7 @@\n+2018-10-17  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* Make-lang.in (selftest-brig): New.\n+\n 2018-07-20  Martin Sebor  <msebor@redhat.com>\n \n \tPR middle-end/82063"}, {"sha": "07c038cbc58952545e7bd71df4da08f82587aa61", "filename": "gcc/brig/Make-lang.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fbrig%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fbrig%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbrig%2FMake-lang.in?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -148,6 +148,9 @@ brig.srcman: doc/gccbrig.1\n \n lang_checks += check-brig\n \n+# No brig-specific selftests\n+selftest-brig:\n+\n # Install hooks.\n \n brig.install-common: installdirs"}, {"sha": "4807a322527d52fd29032aafe36be4f67fd552ad", "filename": "gcc/c/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2FChangeLog?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -1,3 +1,10 @@\n+2018-10-17  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* Make-lang.in (selftest-c): New.\n+\t(C_SELFTEST_FLAGS, C_SELFTEST_DEPS, s-selftest-c, selftest-c-gdb)\n+\t(selftest-gdb, selftest-c-valgrind, selftest-valgrind): Move here\n+\tfrom gcc/Makefile.in.\n+\n 2018-10-02  Richard Biener  <rguenther@suse.de>\n \n \t* c-decl.c (warn_if_shadowing): Do not test DECL_FROM_INLINE."}, {"sha": "bfae6fd2549c4f728816cd355fa9739dcc08fcde", "filename": "gcc/c/Make-lang.in", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fc%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fc%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2FMake-lang.in?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -110,6 +110,38 @@ c.tags: force\n c.man:\n c.srcman:\n \n+# C selftests\n+\n+# If C is enabled, require the selftests to be run for it\n+# at each stage of the build:\n+selftest-c: s-selftest-c\n+\n+C_SELFTEST_FLAGS = -xc $(SELFTEST_FLAGS)\n+C_SELFTEST_DEPS = cc1$(exeext) $(SELFTEST_DEPS)\n+\n+# Run the C selftests:\n+s-selftest-c: $(C_SELFTEST_DEPS)\n+\t$(GCC_FOR_TARGET) $(C_SELFTEST_FLAGS)\n+\t$(STAMP) $@\n+\n+# Convenience methods for running C selftests under gdb:\n+.PHONY: selftest-c-gdb\n+selftest-c-gdb: $(C_SELFTEST_DEPS)\n+\t$(GCC_FOR_TARGET) $(C_SELFTEST_FLAGS) \\\n+\t  -wrapper gdb,--args\n+\n+.PHONY: selftest-gdb\n+selftest-gdb: selftest-c-gdb\n+\n+# Convenience methods for running C selftests under valgrind:\n+.PHONY: selftest-c-valgrind\n+selftest-c-valgrind: $(C_SELFTEST_DEPS)\n+\t$(GCC_FOR_TARGET) $(C_SELFTEST_FLAGS) \\\n+\t  -wrapper valgrind,--leak-check=full\n+\n+.PHONY: selftest-valgrind\n+selftest-valgrind: selftest-c-valgrind\n+\n # List of targets that can use the generic check- rule and its // variant.\n lang_checks += check-gcc\n lang_checks_parallelized += check-gcc"}, {"sha": "fb1c707f6cf0a5a640b4e14ea4e69db06338ca8d", "filename": "gcc/configure", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -656,6 +656,7 @@ TM_ENDIAN_CONFIG\n tmake_file\n xmake_file\n cpp_install_dir\n+selftest_languages\n check_languages\n build_file_translate\n build_xm_defines\n@@ -18509,7 +18510,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 18512 \"configure\"\n+#line 18513 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -18615,7 +18616,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 18618 \"configure\"\n+#line 18619 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -29344,6 +29345,12 @@ do\n \tcheck_languages=\"$check_languages check-$language\"\n done\n \n+selftest_languages=\n+for language in $all_selected_languages\n+do\n+\tselftest_languages=\"$selftest_languages selftest-$language\"\n+done\n+\n # We link each language in with a set of hooks, reached indirectly via\n # lang.${target}.  Only do so for selected languages.\n \n@@ -29474,6 +29481,7 @@ fi\n \n \n \n+\n \n \n # Echo link setup."}, {"sha": "3b70d5310a40f3d1fa396f9156f2dfdb4433f4a1", "filename": "gcc/configure.ac", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -6194,6 +6194,12 @@ do\n \tcheck_languages=\"$check_languages check-$language\"\n done\n \n+selftest_languages=\n+for language in $all_selected_languages\n+do\n+\tselftest_languages=\"$selftest_languages selftest-$language\"\n+done\n+\n # We link each language in with a set of hooks, reached indirectly via\n # lang.${target}.  Only do so for selected languages.\n \n@@ -6277,6 +6283,7 @@ AC_SUBST(build_xm_include_list)\n AC_SUBST(build_xm_defines)\n AC_SUBST(build_file_translate)\n AC_SUBST(check_languages)\n+AC_SUBST(selftest_languages)\n AC_SUBST(cpp_install_dir)\n AC_SUBST(xmake_file)\n AC_SUBST(tmake_file)"}, {"sha": "c04dbe840057394c2789be0159dab0a7d277e724", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -1,3 +1,10 @@\n+2018-10-17  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* Make-lang.in (selftest-c++): New.\n+\t(CPP_SELFTEST_FLAGS, CPP_SELFTEST_DEPS, s-selftest-c++)\n+\t(selftest-c++-gdb, selftest-c++-valgrind): Move here from\n+\tgcc/Makefile.in.\n+\n 2018-10-17  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/84705"}, {"sha": "e358b76bbda98b26a34007ed2a3cefab0dc3a6c1", "filename": "gcc/cp/Make-lang.in", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fcp%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fcp%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FMake-lang.in?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -164,6 +164,32 @@ c++.man: doc/g++.1\n c++.srcman: doc/g++.1\n \t-cp -p $^ $(srcdir)/doc\n \n+# C++ selftests\n+\n+# If C++ is enabled, require the selftests to be run for it\n+# at each stage of the build:\n+selftest-c++: s-selftest-c++\n+\n+CPP_SELFTEST_DEPS = cc1plus$(exeext) $(SELFTEST_DEPS)\n+CPP_SELFTEST_FLAGS = -xc++ $(SELFTEST_FLAGS)\n+\n+# Run the C++ selftests\n+s-selftest-c++: $(CPP_SELFTEST_DEPS)\n+\t$(GCC_FOR_TARGET) $(CPP_SELFTEST_FLAGS)\n+\t$(STAMP) $@\n+\n+# Convenience method for running C++ selftests under gdb:\n+.PHONY: selftest-c++-gdb\n+selftest-c++-gdb: $(CPP_SELFTEST_DEPS)\n+\t$(GCC_FOR_TARGET) $(CPP_SELFTEST_FLAGS) \\\n+\t  -wrapper gdb,--args\n+\n+# Convenience method for running C++ selftests under valgrind:\n+.PHONY: selftest-c++-valgrind\n+selftest-c++-valgrind: $(CPP_SELFTEST_DEPS)\n+\t$(GCC_FOR_TARGET) $(CPP_SELFTEST_FLAGS) \\\n+\t  -wrapper valgrind,--leak-check=full\n+\n # 'make check' in gcc/ looks for check-c++, as do all toplevel C++-related\n # check targets.  However, our DejaGNU framework requires 'check-g++' as its\n # entry point.  We feed the former to the latter here."}, {"sha": "962f7fb6028b422d70dcd806f585c360fdafceac", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -1,3 +1,7 @@\n+2018-10-17  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* Make-lang.in (selftest-fortran): New.\n+\n 2018-10-17  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/56386"}, {"sha": "5eff00b06376b36a23038ed298458b2613ff2933", "filename": "gcc/fortran/Make-lang.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Ffortran%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Ffortran%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FMake-lang.in?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -170,6 +170,9 @@ lang_checks_parallelized += check-gfortran\n # For description see the check_$lang_parallelize comment in gcc/Makefile.in.\n check_gfortran_parallelize = 10000\n \n+# No fortran-specific selftests\n+selftest-fortran:\n+\n # GFORTRAN documentation.\n GFORTRAN_TEXI = \\\n   $(srcdir)/fortran/gfortran.texi \\"}, {"sha": "6fe4b3c58e88f7abd1b8504eccec37ea31c18563", "filename": "gcc/go/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fgo%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fgo%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2FChangeLog?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -1,3 +1,7 @@\n+2018-10-17  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* Make-lang.in (selftest-go): New.\n+\n 2018-09-25  Martin Liska  <mliska@suse.cz>\n \n \t* gofrontend/escape.cc (Gogo::analyze_escape): Remove"}, {"sha": "e8656cbe1d3e4ea4088bc80a0f45348f5eec57c5", "filename": "gcc/go/Make-lang.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fgo%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fgo%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2FMake-lang.in?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -139,6 +139,9 @@ lang_checks += check-go\n lang_checks_parallelized += check-go\n check_go_parallelize = 10\n \n+# No go-specific selftests\n+selftest-go:\n+\n # Install hooks.\n \n go.install-common: installdirs"}, {"sha": "4e0c6e44c00b25a99442ddf2abd3313b3435a6ee", "filename": "gcc/jit/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fjit%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fjit%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjit%2FChangeLog?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -1,3 +1,7 @@\n+2018-10-17  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* Make-lang.in (selftest-jit): New.\n+\n 2018-06-28  Martin Liska  <mliska@suse.cz>\n \n \t* jit-playback.c: Include opt-suggestions.h."}, {"sha": "e82f9453eb2f86a9146083a969c592fe73199dff", "filename": "gcc/jit/Make-lang.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fjit%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fjit%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjit%2FMake-lang.in?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -270,6 +270,9 @@ lang_checks_parallelized += check-jit\n # we want them to be placed in different \"buckets\".\n check_jit_parallelize = 10\n \n+# No jit-specific selftests\n+selftest-jit:\n+\n #\f\n # Install hooks:\n jit.install-common: installdirs"}, {"sha": "c0e9f1c3d71f0f1205244a9c571815087e791b4a", "filename": "gcc/lto/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Flto%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Flto%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2FChangeLog?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -1,3 +1,7 @@\n+2018-10-17  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* Make-lang.in (selftest-lto): New.\n+\n 2018-08-29  Martin Liska  <mliska@suse.cz>\n \n \tPR bootstrap/87130"}, {"sha": "2cc3619696e1d54bbc8e41332f5f83586291452e", "filename": "gcc/lto/Make-lang.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Flto%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Flto%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2FMake-lang.in?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -86,3 +86,6 @@ lto1.fda: ../prev-gcc/lto1$(exeext) ../prev-gcc/$(PERF_DATA)\n \n # LTO testing is done as part of C/C++/Fortran etc. testing.\n check-lto:\n+\n+# No LTO-specific selftests\n+selftest-lto:"}, {"sha": "ebff7446f5cc148fefbf0abec04c9bfcc139a7dd", "filename": "gcc/objc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2FChangeLog?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -1,3 +1,7 @@\n+2018-10-17  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* Make-lang.in (selftest-objc): New.\n+\n 2018-04-20  Martin Liska  <mliska@suse.cz>\n \n \tPR objc/85476"}, {"sha": "909a774f6c64912ebcf06f2b5740046cc79b5f05", "filename": "gcc/objc/Make-lang.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fobjc%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fobjc%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2FMake-lang.in?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -98,6 +98,9 @@ lang_checks += check-objc\n lang_checks_parallelized += check-objc\n check_objc_parallelize = 6\n \n+# No objc-c-specific selftests\n+selftest-objc:\n+\n #\f\n # Install hooks:\n # cc1obj is installed elsewhere as part of $(COMPILERS)."}, {"sha": "26de7cbf1654ea44e0e2f8014b07e94481452ed5", "filename": "gcc/objcp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fobjcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fobjcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjcp%2FChangeLog?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -1,3 +1,7 @@\n+2018-10-17  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* Make-lang.in (selftest-obj-c++): New.\n+\n 2018-05-07  Nathan Sidwell  <nathan@acm.org>\n \n \t* objcp-lang.c (objcxx_init_ts): Don't call init_shadowed_var_for_decl."}, {"sha": "c98286b830c667e8264ff4979f79ab84fd53db57", "filename": "gcc/objcp/Make-lang.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fobjcp%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033eb5671769a4c681a44aad08a454e667e08502/gcc%2Fobjcp%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjcp%2FMake-lang.in?ref=033eb5671769a4c681a44aad08a454e667e08502", "patch": "@@ -126,6 +126,9 @@ obj-c++.tags: force\n \n lang_checks += check-obj-c++\n \n+# No objc-c++-specific selftests\n+selftest-obj-c++:\n+\n #\f\n # Install hooks:\n # cc1objplus is installed elsewhere as part of $(COMPILERS)."}]}