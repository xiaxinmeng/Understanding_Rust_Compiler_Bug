{"sha": "4102f62733e77afa2885292beb43a5738241c5ed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDEwMmY2MjczM2U3N2FmYTI4ODUyOTJiZWI0M2E1NzM4MjQxYzVlZA==", "commit": {"author": {"name": "Robert Lipe", "email": "robertl@dgii.com", "date": "1998-10-01T21:35:22Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-10-01T21:35:22Z"}, "message": "Makefile.in (INCLUDES): Reference gcc via $MULTIBUILDTOP.\n\n        * Makefile.in (INCLUDES): Reference gcc via $MULTIBUILDTOP.\n        (FLAGS_TO_PASS): Added.\n        (runtime-info.h): Reference cc1ibj via $MULTIBUILDTOP.\n        * archive.c: Change config.h to tconfig.h.\n        * configure.in: Find gcc's object directory even for multilibs.\n\nCo-Authored-By: Jeffrey A Law <law@cygnus.com>\n\nFrom-SVN: r22725", "tree": {"sha": "1a995daa9e2c34a86968fad4207fcd43e8edd2be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1a995daa9e2c34a86968fad4207fcd43e8edd2be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4102f62733e77afa2885292beb43a5738241c5ed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4102f62733e77afa2885292beb43a5738241c5ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4102f62733e77afa2885292beb43a5738241c5ed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4102f62733e77afa2885292beb43a5738241c5ed/comments", "author": null, "committer": null, "parents": [{"sha": "961d411902f6869f8539b9c0ef668855af08a100", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/961d411902f6869f8539b9c0ef668855af08a100", "html_url": "https://github.com/Rust-GCC/gccrs/commit/961d411902f6869f8539b9c0ef668855af08a100"}], "stats": {"total": 61, "additions": 52, "deletions": 9}, "files": [{"sha": "4ed61d9e3690466780f94e7e293160a7e41f0a8d", "filename": "libobjc/ChangeLog", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4102f62733e77afa2885292beb43a5738241c5ed/libobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4102f62733e77afa2885292beb43a5738241c5ed/libobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FChangeLog?ref=4102f62733e77afa2885292beb43a5738241c5ed", "patch": "@@ -1,4 +1,15 @@\n-Wed Sep 30 18:17:17 1998  Robert Lipe  <robertl@dgii.com\n+Thu Oct  1 22:33:03 1998 Robert Lipe  <robertl@dgii.com>\n+\t\t\t Jeffrey A Law  (law@cygnus.com)\n+\n+\t* Makefile.in (INCLUDES): Reference gcc via $MULTIBUILDTOP.\n+\t(FLAGS_TO_PASS): Added.\n+\t(runtime-info.h): Reference cc1ibj via $MULTIBUILDTOP.\n+\n+\t* archive.c: Change config.h to tconfig.h.\n+\n+\t* configure.in: Find gcc's object directory even for multilibs.\n+\n+Wed Sep 30 18:17:17 1998  Robert Lipe  <robertl@dgii.com>\n \n \t* configure.in: Escape ^ in grep string.\n \t* configure: Rebuilt."}, {"sha": "67536dccbb21c0c1a2a8eaf6ecf65b13790309d3", "filename": "libobjc/Makefile.in", "status": "modified", "additions": 20, "deletions": 2, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4102f62733e77afa2885292beb43a5738241c5ed/libobjc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4102f62733e77afa2885292beb43a5738241c5ed/libobjc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FMakefile.in?ref=4102f62733e77afa2885292beb43a5738241c5ed", "patch": "@@ -61,7 +61,7 @@ CC = @CC@\n CFLAGS = @CFLAGS@\n ALL_CFLAGS = -I. -I$(srcdir) $(CPPFLAGS) $(DEFS) $(CFLAGS)\n \n-INCLUDES = -I$(srcdir)/objc -I$(srcdir)/../gcc/config -I../../gcc\n+INCLUDES = -I$(srcdir)/objc -I$(srcdir)/../gcc/config -I$(MULTIBUILDTOP)../../gcc\n \n OBJC_GCFLAGS=-DOBJC_WITH_GC=1\n OBJC_THREAD_FILE=thr-@OBJC_THREAD_FILE@\n@@ -75,6 +75,24 @@ OBJC_THREAD_FILE=thr-@OBJC_THREAD_FILE@\n .m.o:\n \t$(CC) -c $(ALL_CFLAGS) $(INCLUDES) $<\n \n+# Flags to pass to a recursive make.\n+FLAGS_TO_PASS = \\\n+\t\"AR=$(AR)\" \\\n+\t\"AR_FLAGS=$(AR_FLAGS)\" \\\n+\t\"CC=$(CC)\" \\\n+\t\"CFLAGS=$(CFLAGS)\" \\\n+\t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n+\t\"EXTRA_OFILES=$(EXTRA_OFILES)\" \\\n+\t\"HDEFINES=$(HDEFINES)\" \\\n+\t\"INSTALL=$(INSTALL)\" \\\n+\t\"INSTALL_DATA=$(INSTALL_DATA)\" \\\n+\t\"INSTALL_PROGRAM=$(INSTALL_PROGRAM)\" \\\n+\t\"LDFLAGS=$(LDFLAGS)\" \\\n+\t\"LOADLIBES=$(LOADLIBES)\" \\\n+\t\"PICFLAG=$(PICFLAG)\" \\\n+\t\"RANLIB=$(RANLIB)\" \\\n+\t\"SHELL=$(SHELL)\"\n+\n all: libobjc.a @OBJC_BOEHM_GC@\n \t$(MULTIDO) $(FLAGS_TO_PASS) multi-do DO=all\n \n@@ -97,7 +115,7 @@ OBJS_GC = archive_gc.o class_gc.o encoding_gc.o gc_gc.o hash_gc.o \\\n \t  sarray_gc.o selector_gc.o sendmsg_gc.o thr_gc.o \\\n \t  $(OBJC_THREAD_FILE)_gc.o\n \n-runtime-info.h: ../../gcc/cc1obj\n+runtime-info.h: $(MULTIBUILDTOP)../../gcc/cc1obj\n \t\techo \"\" > tmp-runtime\n \t\techo \"/* This file is automatically generated */\" > $@\n \t\t$< -print-objc-runtime-info tmp-runtime >> $@"}, {"sha": "626f6bafea3e2324a1b5ae2436c533d41eee1114", "filename": "libobjc/archive.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4102f62733e77afa2885292beb43a5738241c5ed/libobjc%2Farchive.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4102f62733e77afa2885292beb43a5738241c5ed/libobjc%2Farchive.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Farchive.c?ref=4102f62733e77afa2885292beb43a5738241c5ed", "patch": "@@ -24,7 +24,7 @@ Boston, MA 02111-1307, USA.  */\n    however invalidate any other reasons why the executable file might be\n    covered by the GNU General Public License.  */\n \n-#include \"config.h\"\n+#include \"tconfig.h\"\n #include \"runtime.h\"\n #include \"typedstream.h\"\n #include \"encoding.h\""}, {"sha": "a7e2dcefba1c16ac64af4c03959d91a6cab88b93", "filename": "libobjc/configure", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4102f62733e77afa2885292beb43a5738241c5ed/libobjc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4102f62733e77afa2885292beb43a5738241c5ed/libobjc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure?ref=4102f62733e77afa2885292beb43a5738241c5ed", "patch": "@@ -1033,14 +1033,21 @@ fi\n \n # Determine the name of the GCC thread file.\n \n+dir=`pwd`\n+if test x\"${with_multisubdir}\" = \"x\" ; then\n+  gccobjdir=`echo $dir/../../gcc`\n+else\n+  gccobjdir=`echo $dir | sed -e s:${with_multisubdir}::`/../../gcc\n+fi\n+\n echo $ac_n \"checking for thread file\"\"... $ac_c\" 1>&6\n-echo \"configure:1038: checking for thread file\" >&5\n+echo \"configure:1045: checking for thread file\" >&5\n if eval \"test \\\"`echo '$''{'objc_cv_thread_file'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  if test -f ../../gcc/Makefile\n+  if test -f $gccobjdir/Makefile\n then\n-  objc_cv_thread_file=`grep \\^GCC_THREAD_FILE ../../gcc/Makefile | awk -F= '{ print $2 }'`\n+  objc_cv_thread_file=`grep \\^GCC_THREAD_FILE $gccobjdir/Makefile | awk -F= '{ print $2 }'`\n else\n   { echo \"configure: error: not found\" 1>&2; exit 1; }\n fi"}, {"sha": "8035f2ad6f7b11964a1e636245395163413e70f9", "filename": "libobjc/configure.in", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4102f62733e77afa2885292beb43a5738241c5ed/libobjc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4102f62733e77afa2885292beb43a5738241c5ed/libobjc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure.in?ref=4102f62733e77afa2885292beb43a5738241c5ed", "patch": "@@ -61,10 +61,17 @@ AC_HEADER_STDC\n \n # Determine the name of the GCC thread file.\n \n+dir=`pwd`\n+if test x\"${with_multisubdir}\" = \"x\" ; then\n+  gccobjdir=`echo $dir/../../gcc`\n+else\n+  gccobjdir=`echo $dir | sed -e s:${with_multisubdir}::`/../../gcc\n+fi\n+\n AC_CACHE_CHECK([for thread file],objc_cv_thread_file,\n-[if test -f ../../gcc/Makefile\n+[if test -f $gccobjdir/Makefile\n then\n-  objc_cv_thread_file=`grep \\^GCC_THREAD_FILE ../../gcc/Makefile | awk -F= '{ print $2 }'`\n+  objc_cv_thread_file=`grep \\^GCC_THREAD_FILE $gccobjdir/Makefile | awk -F= '{ print $2 }'`\n else\n   AC_MSG_ERROR([not found])\n fi])"}]}