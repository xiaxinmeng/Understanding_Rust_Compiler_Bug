{"sha": "5f41168186604d1c47d14a601a2c0f0f8f025082", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWY0MTE2ODE4NjYwNGQxYzQ3ZDE0YTYwMWEyYzBmMGY4ZjAyNTA4Mg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-10-29T11:56:46Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-10-29T11:56:46Z"}, "message": "[multiple changes]\n\n2012-10-29  Pascal Obry  <obry@adacore.com>\n\n\t* xoscons.adb, Make-generated.in; The template used by xoscons is now\n\tgiven as parameter.\n\t* gcc-interface/Make-lang.in: Update dependencies.\n\n2012-10-29  Yannick Moy  <moy@adacore.com>\n\n\t* exp_dbug.adb (Qualify_Entity_Name): Only do renaming in formal\n\tverification mode when there is a homonym.\n\nFrom-SVN: r192942", "tree": {"sha": "a1ed26ceee9fdd4551695269467b9f8197730aac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a1ed26ceee9fdd4551695269467b9f8197730aac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5f41168186604d1c47d14a601a2c0f0f8f025082", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f41168186604d1c47d14a601a2c0f0f8f025082", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f41168186604d1c47d14a601a2c0f0f8f025082", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f41168186604d1c47d14a601a2c0f0f8f025082/comments", "author": null, "committer": null, "parents": [{"sha": "29dd4e883e5229e550bd24e6f74ce82d63a1335b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29dd4e883e5229e550bd24e6f74ce82d63a1335b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/29dd4e883e5229e550bd24e6f74ce82d63a1335b"}], "stats": {"total": 1318, "additions": 678, "deletions": 640}, "files": [{"sha": "dff3e92150884c34ac7915b20a1eed00c3f31ea6", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f41168186604d1c47d14a601a2c0f0f8f025082/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f41168186604d1c47d14a601a2c0f0f8f025082/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=5f41168186604d1c47d14a601a2c0f0f8f025082", "patch": "@@ -1,3 +1,14 @@\n+2012-10-29  Pascal Obry  <obry@adacore.com>\n+\n+\t* xoscons.adb, Make-generated.in; The template used by xoscons is now\n+\tgiven as parameter.\n+\t* gcc-interface/Make-lang.in: Update dependencies.\n+\n+2012-10-29  Yannick Moy  <moy@adacore.com>\n+\n+\t* exp_dbug.adb (Qualify_Entity_Name): Only do renaming in formal\n+\tverification mode when there is a homonym.\n+\n 2012-10-29  Thomas Quinot  <quinot@adacore.com>\n \n \t* xoscons.adb: Minor reformatting."}, {"sha": "57160ce19b20dd01d2ae0dace9e6bbf601bd5f34", "filename": "gcc/ada/Make-generated.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f41168186604d1c47d14a601a2c0f0f8f025082/gcc%2Fada%2FMake-generated.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f41168186604d1c47d14a601a2c0f0f8f025082/gcc%2Fada%2FMake-generated.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMake-generated.in?ref=5f41168186604d1c47d14a601a2c0f0f8f025082", "patch": "@@ -93,7 +93,7 @@ $(ADA_GEN_SUBDIR)/s-oscons.ads : $(ADA_GEN_SUBDIR)/s-oscons-tmplt.c $(ADA_GEN_SU\n \t\t$(RM) s-oscons-tmplt.i s-oscons-tmplt.s ; \\\n \t\t$(OSCONS_CPP) ; \\\n \t\t$(OSCONS_EXTRACT) ; \\\n-\t\t./xoscons ) ; \\\n+\t\t./xoscons s-oscons ) ; \\\n \t\t$(MOVE_IF_CHANGE) $(ADA_GEN_SUBDIR)/bldtools/oscons/s-oscons.ads $(ADA_GEN_SUBDIR)/s-oscons.ads ; \\\n \t\t$(MOVE_IF_CHANGE) $(ADA_GEN_SUBDIR)/bldtools/oscons/s-oscons.h $(ADA_GEN_SUBDIR)/s-oscons.h\n "}, {"sha": "9267982f85f280e081eed2e2788000d03851a63f", "filename": "gcc/ada/exp_dbug.adb", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f41168186604d1c47d14a601a2c0f0f8f025082/gcc%2Fada%2Fexp_dbug.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f41168186604d1c47d14a601a2c0f0f8f025082/gcc%2Fada%2Fexp_dbug.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_dbug.adb?ref=5f41168186604d1c47d14a601a2c0f0f8f025082", "patch": "@@ -1315,10 +1315,13 @@ package body Exp_Dbug is\n       --  qualifying names when needed.\n \n       elsif Alfa_Mode then\n-         Get_Name_String (Chars (Ent));\n-         Append_Homonym_Number (Ent);\n-         Output_Homonym_Numbers_Suffix;\n-         Set_Chars (Ent, Name_Enter);\n+         if Has_Homonym (Ent) then\n+            Get_Name_String (Chars (Ent));\n+            Append_Homonym_Number (Ent);\n+            Output_Homonym_Numbers_Suffix;\n+            Set_Chars (Ent, Name_Enter);\n+         end if;\n+\n          return;\n \n       --  If the entity is a variable encoding the debug name for an object"}, {"sha": "d8c05be550c48e73322d3b50a02a45987c815357", "filename": "gcc/ada/gcc-interface/Make-lang.in", "status": "modified", "additions": 649, "deletions": 630, "changes": 1279, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f41168186604d1c47d14a601a2c0f0f8f025082/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f41168186604d1c47d14a601a2c0f0f8f025082/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMake-lang.in?ref=5f41168186604d1c47d14a601a2c0f0f8f025082"}, {"sha": "ec452c34406701730a24157e25c05924c431d2ba", "filename": "gcc/ada/xoscons.adb", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f41168186604d1c47d14a601a2c0f0f8f025082/gcc%2Fada%2Fxoscons.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f41168186604d1c47d14a601a2c0f0f8f025082/gcc%2Fada%2Fxoscons.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fxoscons.adb?ref=5f41168186604d1c47d14a601a2c0f0f8f025082", "patch": "@@ -23,16 +23,18 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n---  This program generates the spec of System.OS_Constants (s-oscons.ads)\n+--  The base name of the template file is given by Argument (1). This program\n+--  generates the spec for this specified unit (let's call it UNIT_NAME).\n \n --  It works in conjunction with a C template file which must be pre-processed\n --  and compiled using the cross compiler. Two input files are used:\n---    - the preprocessed C file: s-oscons-tmplt.i\n---    - the generated assembly file: s-oscons-tmplt.s\n+--    - the preprocessed C file: UNIT_NAME-tmplt.i\n+--    - the generated assembly file: UNIT_NAME-tmplt.s\n \n---  The contents of s-oscons.ads is written on standard output\n+--  The generated files are UNIT_NAME.ads and UNIT_NAME.h\n \n with Ada.Characters.Handling; use Ada.Characters.Handling;\n+with Ada.Command_Line;        use Ada.Command_Line;\n with Ada.Exceptions;          use Ada.Exceptions;\n with Ada.Strings.Fixed;       use Ada.Strings.Fixed;\n with Ada.Text_IO;             use Ada.Text_IO;\n@@ -52,7 +54,7 @@ procedure XOSCons is\n    use ASCII;\n    use Ada.Strings;\n \n-   Unit_Name : constant String := \"s-oscons\";\n+   Unit_Name : constant String := Argument (1);\n    Tmpl_Name : constant String := Unit_Name & \"-tmplt\";\n \n    -------------------------------------------------\n@@ -559,4 +561,7 @@ begin\n \n    Close (Tmpl_File);\n \n+exception\n+   when others =>\n+      Put_Line (\"xoscons <base_name>\");\n end XOSCons;"}]}