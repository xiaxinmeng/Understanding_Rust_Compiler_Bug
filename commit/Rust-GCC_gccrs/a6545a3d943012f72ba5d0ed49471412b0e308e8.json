{"sha": "a6545a3d943012f72ba5d0ed49471412b0e308e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTY1NDVhM2Q5NDMwMTJmNzJiYTVkMGVkNDk0NzE0MTJiMGUzMDhlOA==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2011-04-30T03:46:17Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2011-04-30T03:46:17Z"}, "message": "tree-ssa-threadedge.c (thread_across_edge): Add missing return.\n\n\n \t* tree-ssa-threadedge.c (thread_across_edge): Add missing return.\n\n \t* gcc.dg/tree-ssa/ssa-dom-thread-4.c: New test.\n\nFrom-SVN: r173206", "tree": {"sha": "381c4e0ec54f6f626634109347b305ca4b62925b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/381c4e0ec54f6f626634109347b305ca4b62925b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a6545a3d943012f72ba5d0ed49471412b0e308e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6545a3d943012f72ba5d0ed49471412b0e308e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6545a3d943012f72ba5d0ed49471412b0e308e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6545a3d943012f72ba5d0ed49471412b0e308e8/comments", "author": null, "committer": null, "parents": [{"sha": "8dc7645fcbc0eaa1110e47430f65f4a2fcad1d29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8dc7645fcbc0eaa1110e47430f65f4a2fcad1d29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8dc7645fcbc0eaa1110e47430f65f4a2fcad1d29"}], "stats": {"total": 72, "additions": 72, "deletions": 0}, "files": [{"sha": "dd45a79ff820573c201e636ba41801bd269d3dd3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6545a3d943012f72ba5d0ed49471412b0e308e8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6545a3d943012f72ba5d0ed49471412b0e308e8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a6545a3d943012f72ba5d0ed49471412b0e308e8", "patch": "@@ -1,3 +1,7 @@\n+2011-04-29  Jeff Law  <law@redhat.com>\n+\n+\t* tree-ssa-threadedge.c (thread_across_edge): Add missing return.\n+\n 2011-04-29  Martin Jambor  <mjambor@suse.cz>\n \n \t* cgraph.h (cgraph_postorder): Remove declaration."}, {"sha": "2ef4546808683e866b6da761f471f53d12fbb8bd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6545a3d943012f72ba5d0ed49471412b0e308e8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6545a3d943012f72ba5d0ed49471412b0e308e8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a6545a3d943012f72ba5d0ed49471412b0e308e8", "patch": "@@ -1,3 +1,7 @@\n+2011-04-29  Jeff Law <law@redhat.com>\n+\n+\t* gcc.dg/tree-ssa/ssa-dom-thread-4.c: New test.\n+\n 2011-04-29  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/48606"}, {"sha": "e841429f61a590224992513469b7ddcc81addd06", "filename": "gcc/testsuite/gcc.dg/tree-ssa/ssa-dom-thread-4.c", "status": "added", "additions": 63, "deletions": 0, "changes": 63, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6545a3d943012f72ba5d0ed49471412b0e308e8/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fssa-dom-thread-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6545a3d943012f72ba5d0ed49471412b0e308e8/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fssa-dom-thread-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fssa-dom-thread-4.c?ref=a6545a3d943012f72ba5d0ed49471412b0e308e8", "patch": "@@ -0,0 +1,63 @@\n+/* { dg-do compile } */ \n+/* { dg-options \"-O2 -fdump-tree-dom1-details\" } */\n+struct bitmap_head_def;\n+typedef struct bitmap_head_def *bitmap;\n+typedef const struct bitmap_head_def *const_bitmap;\n+typedef unsigned long BITMAP_WORD;\n+typedef struct bitmap_element_def\n+{\n+  struct bitmap_element_def *next;\n+  unsigned int indx;\n+} bitmap_element;\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+unsigned char\n+bitmap_ior_and_compl (bitmap dst, const_bitmap a, const_bitmap b,\n+\t\t      const_bitmap kill)\n+{\n+  unsigned char changed = 0;\n+\n+  bitmap_element *dst_elt;\n+  const bitmap_element *a_elt, *b_elt, *kill_elt, *dst_prev;\n+\n+  while (a_elt || b_elt)\n+    {\n+      unsigned char new_element = 0;\n+\n+      if (b_elt)\n+\twhile (kill_elt && kill_elt->indx < b_elt->indx)\n+\t  kill_elt = kill_elt->next;\n+\n+      if (b_elt && kill_elt && kill_elt->indx == b_elt->indx\n+\t  && (!a_elt || a_elt->indx >= b_elt->indx))\n+\t{\n+\t  bitmap_element tmp_elt;\n+\t  unsigned ix;\n+\n+\t  BITMAP_WORD ior = 0;\n+\n+\t      changed = bitmap_elt_ior (dst, dst_elt, dst_prev,\n+\t\t\t\t\ta_elt, &tmp_elt, changed);\n+\n+\t}\n+\n+    }\n+\n+\n+  return changed;\n+}\n+/* The block starting the second conditional has  3 incoming edges,\n+   we should thread all three, but due to a bug in the threading\n+   code we missed the edge when the first conditional is false\n+   (b_elt is zero, which means the second conditional is always\n+   zero.  */\n+/* { dg-final { scan-tree-dump-times \"Threaded\" 3 \"dom1\"} } */\n+/* { dg-final { cleanup-tree-dump \"dom1\" } } */\n+"}, {"sha": "24e63977c29da7aa8e7ed1e63d40607cbcd7d004", "filename": "gcc/tree-ssa-threadedge.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6545a3d943012f72ba5d0ed49471412b0e308e8/gcc%2Ftree-ssa-threadedge.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6545a3d943012f72ba5d0ed49471412b0e308e8/gcc%2Ftree-ssa-threadedge.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-threadedge.c?ref=a6545a3d943012f72ba5d0ed49471412b0e308e8", "patch": "@@ -771,6 +771,7 @@ thread_across_edge (gimple dummy_cond,\n \n \t  remove_temporary_equivalences (stack);\n \t  register_jump_thread (e, taken_edge);\n+\t  return;\n \t}\n     }\n "}]}