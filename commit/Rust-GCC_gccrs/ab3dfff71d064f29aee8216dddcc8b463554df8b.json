{"sha": "ab3dfff71d064f29aee8216dddcc8b463554df8b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWIzZGZmZjcxZDA2NGYyOWFlZTgyMTZkZGRjYzhiNDYzNTU0ZGY4Yg==", "commit": {"author": {"name": "Sameera Deshpande", "email": "sameera.deshpande@arm.com", "date": "2012-07-20T17:07:33Z"}, "committer": {"name": "Greta Yorsh", "email": "gretay@gcc.gnu.org", "date": "2012-07-20T17:07:33Z"}, "message": "arm-protos.h (tune_params): Add prefer_ldrd_strd.\n\ngcc/\n\n2012-07-20  Sameera Deshpande  <sameera.deshpande@arm.com>\n            Greta Yorsh  <Greta.Yorsh@arm.com>\n\n        * config/arm/arm-protos.h (tune_params): Add prefer_ldrd_strd.\n        * config/arm/arm.c (arm_slowmul_tune): Initialize it.\n        (arm_fastmul_tune, arm_strongarm_tune): Likewise.\n        (arm_xscale_tune, arm_9e_tune, arm_v6t2_tune): Likewise.\n        (arm_cortex_tune, arm_cortex_a5_tune, arm_cortex_a9_tune): Likewise.\n        (arm_fa726te_tune): Likewise.\n\n\n\nCo-Authored-By: Greta Yorsh <greta.yorsh@arm.com>\n\nFrom-SVN: r189722", "tree": {"sha": "4cc344054f0d152250223615c1d1e3d49763254c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4cc344054f0d152250223615c1d1e3d49763254c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ab3dfff71d064f29aee8216dddcc8b463554df8b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab3dfff71d064f29aee8216dddcc8b463554df8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab3dfff71d064f29aee8216dddcc8b463554df8b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab3dfff71d064f29aee8216dddcc8b463554df8b/comments", "author": null, "committer": null, "parents": [{"sha": "3ebc22c1e408911d3feef73ba8b5a1e2ba489fbb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ebc22c1e408911d3feef73ba8b5a1e2ba489fbb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ebc22c1e408911d3feef73ba8b5a1e2ba489fbb"}], "stats": {"total": 42, "additions": 32, "deletions": 10}, "files": [{"sha": "ca0526819d7c0dc827be223c244dd9f297571678", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab3dfff71d064f29aee8216dddcc8b463554df8b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab3dfff71d064f29aee8216dddcc8b463554df8b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ab3dfff71d064f29aee8216dddcc8b463554df8b", "patch": "@@ -1,3 +1,13 @@\n+2012-07-20  Sameera Deshpande  <sameera.deshpande@arm.com>\n+            Greta Yorsh  <Greta.Yorsh@arm.com>\n+\n+        * config/arm/arm-protos.h (tune_params): Add prefer_ldrd_strd.\n+        * config/arm/arm.c (arm_slowmul_tune): Initialize it.\n+        (arm_fastmul_tune, arm_strongarm_tune): Likewise.\n+        (arm_xscale_tune, arm_9e_tune, arm_v6t2_tune): Likewise.\n+        (arm_cortex_tune, arm_cortex_a5_tune, arm_cortex_a9_tune): Likewise.\n+        (arm_fa726te_tune): Likewise.\n+\n 2012-07-20  Richard Guenther  <rguenther@suse.de>\n \n \t* tree-dfa.c (collect_dfa_stats): Simplify."}, {"sha": "c590ef420eb21074ffcc525ec07f2482fedf41d6", "filename": "gcc/config/arm/arm-protos.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab3dfff71d064f29aee8216dddcc8b463554df8b/gcc%2Fconfig%2Farm%2Farm-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab3dfff71d064f29aee8216dddcc8b463554df8b/gcc%2Fconfig%2Farm%2Farm-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm-protos.h?ref=ab3dfff71d064f29aee8216dddcc8b463554df8b", "patch": "@@ -238,6 +238,8 @@ struct tune_params\n   int l1_cache_line_size;\n   bool prefer_constant_pool;\n   int (*branch_cost) (bool, bool);\n+  /* Prefer STRD/LDRD instructions over PUSH/POP/LDM/STM.  */\n+  bool prefer_ldrd_strd;\n };\n \n extern const struct tune_params *current_tune;"}, {"sha": "d463caf5cbc562046e8a0465fccd515f0bc0dfc9", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 20, "deletions": 10, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab3dfff71d064f29aee8216dddcc8b463554df8b/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab3dfff71d064f29aee8216dddcc8b463554df8b/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=ab3dfff71d064f29aee8216dddcc8b463554df8b", "patch": "@@ -875,7 +875,8 @@ const struct tune_params arm_slowmul_tune =\n   5,\t\t\t\t\t\t/* Max cond insns.  */\n   ARM_PREFETCH_NOT_BENEFICIAL,\n   true,\t\t\t\t\t\t/* Prefer constant pool.  */\n-  arm_default_branch_cost\n+  arm_default_branch_cost,\n+  false                                         /* Prefer LDRD/STRD.  */\n };\n \n const struct tune_params arm_fastmul_tune =\n@@ -886,7 +887,8 @@ const struct tune_params arm_fastmul_tune =\n   5,\t\t\t\t\t\t/* Max cond insns.  */\n   ARM_PREFETCH_NOT_BENEFICIAL,\n   true,\t\t\t\t\t\t/* Prefer constant pool.  */\n-  arm_default_branch_cost\n+  arm_default_branch_cost,\n+  false                                         /* Prefer LDRD/STRD.  */\n };\n \n /* StrongARM has early execution of branches, so a sequence that is worth\n@@ -900,7 +902,8 @@ const struct tune_params arm_strongarm_tune =\n   3,\t\t\t\t\t\t/* Max cond insns.  */\n   ARM_PREFETCH_NOT_BENEFICIAL,\n   true,\t\t\t\t\t\t/* Prefer constant pool.  */\n-  arm_default_branch_cost\n+  arm_default_branch_cost,\n+  false                                         /* Prefer LDRD/STRD.  */\n };\n \n const struct tune_params arm_xscale_tune =\n@@ -911,7 +914,8 @@ const struct tune_params arm_xscale_tune =\n   3,\t\t\t\t\t\t/* Max cond insns.  */\n   ARM_PREFETCH_NOT_BENEFICIAL,\n   true,\t\t\t\t\t\t/* Prefer constant pool.  */\n-  arm_default_branch_cost\n+  arm_default_branch_cost,\n+  false                                         /* Prefer LDRD/STRD.  */\n };\n \n const struct tune_params arm_9e_tune =\n@@ -922,7 +926,8 @@ const struct tune_params arm_9e_tune =\n   5,\t\t\t\t\t\t/* Max cond insns.  */\n   ARM_PREFETCH_NOT_BENEFICIAL,\n   true,\t\t\t\t\t\t/* Prefer constant pool.  */\n-  arm_default_branch_cost\n+  arm_default_branch_cost,\n+  false                                         /* Prefer LDRD/STRD.  */\n };\n \n const struct tune_params arm_v6t2_tune =\n@@ -933,7 +938,8 @@ const struct tune_params arm_v6t2_tune =\n   5,\t\t\t\t\t\t/* Max cond insns.  */\n   ARM_PREFETCH_NOT_BENEFICIAL,\n   false,\t\t\t\t\t/* Prefer constant pool.  */\n-  arm_default_branch_cost\n+  arm_default_branch_cost,\n+  false                                         /* Prefer LDRD/STRD.  */\n };\n \n /* Generic Cortex tuning.  Use more specific tunings if appropriate.  */\n@@ -945,7 +951,8 @@ const struct tune_params arm_cortex_tune =\n   5,\t\t\t\t\t\t/* Max cond insns.  */\n   ARM_PREFETCH_NOT_BENEFICIAL,\n   false,\t\t\t\t\t/* Prefer constant pool.  */\n-  arm_default_branch_cost\n+  arm_default_branch_cost,\n+  false                                         /* Prefer LDRD/STRD.  */\n };\n \n /* Branches can be dual-issued on Cortex-A5, so conditional execution is\n@@ -959,7 +966,8 @@ const struct tune_params arm_cortex_a5_tune =\n   1,\t\t\t\t\t\t/* Max cond insns.  */\n   ARM_PREFETCH_NOT_BENEFICIAL,\n   false,\t\t\t\t\t/* Prefer constant pool.  */\n-  arm_cortex_a5_branch_cost\n+  arm_cortex_a5_branch_cost,\n+  false                                         /* Prefer LDRD/STRD.  */\n };\n \n const struct tune_params arm_cortex_a9_tune =\n@@ -970,7 +978,8 @@ const struct tune_params arm_cortex_a9_tune =\n   5,\t\t\t\t\t\t/* Max cond insns.  */\n   ARM_PREFETCH_BENEFICIAL(4,32,32),\n   false,\t\t\t\t\t/* Prefer constant pool.  */\n-  arm_default_branch_cost\n+  arm_default_branch_cost,\n+  false                                         /* Prefer LDRD/STRD.  */\n };\n \n const struct tune_params arm_fa726te_tune =\n@@ -981,7 +990,8 @@ const struct tune_params arm_fa726te_tune =\n   5,\t\t\t\t\t\t/* Max cond insns.  */\n   ARM_PREFETCH_NOT_BENEFICIAL,\n   true,\t\t\t\t\t\t/* Prefer constant pool.  */\n-  arm_default_branch_cost\n+  arm_default_branch_cost,\n+  false                                         /* Prefer LDRD/STRD.  */\n };\n \n "}]}