{"sha": "efd8cba0c8e7e78328f9fd4fc59c0f5910ea7cd8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWZkOGNiYTBjOGU3ZTc4MzI4ZjlmZDRmYzU5YzBmNTkxMGVhN2NkOA==", "commit": {"author": {"name": "Dave Brolley", "email": "brolley@cygnus.com", "date": "1999-01-20T15:26:31Z"}, "committer": {"name": "Dave Brolley", "email": "brolley@gcc.gnu.org", "date": "1999-01-20T15:26:31Z"}, "message": "function.c (assign_parms): Save and restore setting of TREE_USED (parm).\n\nWed Jan 20 18:15:08 1999  Dave Brolley  <brolley@cygnus.com>\n\t* function.c (assign_parms): Save and restore setting of\n \tTREE_USED (parm).\n\nFrom-SVN: r24789", "tree": {"sha": "513c8529c5987fd4ddd66828f969ce785e8d3a0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/513c8529c5987fd4ddd66828f969ce785e8d3a0d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/efd8cba0c8e7e78328f9fd4fc59c0f5910ea7cd8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efd8cba0c8e7e78328f9fd4fc59c0f5910ea7cd8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efd8cba0c8e7e78328f9fd4fc59c0f5910ea7cd8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efd8cba0c8e7e78328f9fd4fc59c0f5910ea7cd8/comments", "author": null, "committer": null, "parents": [{"sha": "61cd552e3b7e3dab5036a4be1a2a2c28707e6acf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61cd552e3b7e3dab5036a4be1a2a2c28707e6acf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61cd552e3b7e3dab5036a4be1a2a2c28707e6acf"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "45889f23e07594045dbd628e4dd2dbdaf0d30eeb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efd8cba0c8e7e78328f9fd4fc59c0f5910ea7cd8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efd8cba0c8e7e78328f9fd4fc59c0f5910ea7cd8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=efd8cba0c8e7e78328f9fd4fc59c0f5910ea7cd8", "patch": "@@ -1,3 +1,8 @@\n+Wed Jan 20 18:15:08 1999  Dave Brolley  <brolley@cygnus.com>\n+\n+\t* function.c (assign_parms): Save and restore setting of\n+ \tTREE_USED (parm).\n+\n Wed Jan 20 12:51:42 1999  Mark Mitchell  <mark@markmitchell.com>\n \n \t* arm.md: Use MEM_COPY_ATTRIBUTES where appropriate throughout."}, {"sha": "1cb8c44bbcd3829d2c47d8cf45eeb56e5268edd7", "filename": "gcc/function.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efd8cba0c8e7e78328f9fd4fc59c0f5910ea7cd8/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efd8cba0c8e7e78328f9fd4fc59c0f5910ea7cd8/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=efd8cba0c8e7e78328f9fd4fc59c0f5910ea7cd8", "patch": "@@ -4378,6 +4378,7 @@ assign_parms (fndecl, second_time)\n \t  if (nominal_mode != passed_mode\n \t      || promoted_nominal_mode != promoted_mode)\n \t    {\n+\t      int save_tree_used;\n \t      /* ENTRY_PARM has been converted to PROMOTED_MODE, its\n \t\t mode, by the caller.  We now have to convert it to \n \t\t NOMINAL_MODE, if different.  However, PARMREG may be in\n@@ -4404,8 +4405,11 @@ assign_parms (fndecl, second_time)\n \t      push_to_sequence (conversion_insns);\n \t      tempreg = convert_to_mode (nominal_mode, tempreg, unsignedp);\n \n+\t      /* TREE_USED gets set erroneously during expand_assignment.  */\n+\t      save_tree_used = TREE_USED (parm);\n \t      expand_assignment (parm,\n \t\t\t\t make_tree (nominal_type, tempreg), 0, 0);\n+\t      TREE_USED (parm) = save_tree_used;\n \t      conversion_insns = get_insns ();\n \t      did_conversion = 1;\n \t      end_sequence ();"}]}