{"sha": "9453e3cd0ffd0c377a648b83a9a5fdc5809e60d7", "node_id": "C_kwDOANBUbNoAKDk0NTNlM2NkMGZmZDBjMzc3YTY0OGI4M2E5YTVmZGM1ODA5ZTYwZDc", "commit": {"author": {"name": "Andreas Schwab", "email": "schwab@suse.de", "date": "2023-01-17T15:47:13Z"}, "committer": {"name": "Andreas Schwab", "email": "schwab@suse.de", "date": "2023-02-09T08:57:44Z"}, "message": "lto-wrapper: Pass through -funwind-tables and -fasynchronous-unwind-tables\n\nThe -funwind-tables and -fasynchronous-unwind-tables options are relevant\nfor the output pass, so they need to be passed through by the LTO wrapper.\nOtherwise, dwarf2out_assembly_start may output a \".cfi_sections\n.debug_frame\" directive when debug info is enabled even if every\ntranslation unit was compiled with -funwind-tables.\n\ngcc/\n\t* lto-wrapper.cc (merge_and_complain): Handle\n\t-funwind-tables and -fasynchronous-unwind-tables.\n\t(append_compiler_options): Likewise.", "tree": {"sha": "86ece4f22c3874585a39ca3c666fabbba17667c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/86ece4f22c3874585a39ca3c666fabbba17667c4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9453e3cd0ffd0c377a648b83a9a5fdc5809e60d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9453e3cd0ffd0c377a648b83a9a5fdc5809e60d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9453e3cd0ffd0c377a648b83a9a5fdc5809e60d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9453e3cd0ffd0c377a648b83a9a5fdc5809e60d7/comments", "author": {"login": "andreas-schwab", "id": 2175493, "node_id": "MDQ6VXNlcjIxNzU0OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2175493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreas-schwab", "html_url": "https://github.com/andreas-schwab", "followers_url": "https://api.github.com/users/andreas-schwab/followers", "following_url": "https://api.github.com/users/andreas-schwab/following{/other_user}", "gists_url": "https://api.github.com/users/andreas-schwab/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreas-schwab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreas-schwab/subscriptions", "organizations_url": "https://api.github.com/users/andreas-schwab/orgs", "repos_url": "https://api.github.com/users/andreas-schwab/repos", "events_url": "https://api.github.com/users/andreas-schwab/events{/privacy}", "received_events_url": "https://api.github.com/users/andreas-schwab/received_events", "type": "User", "site_admin": false}, "committer": {"login": "andreas-schwab", "id": 2175493, "node_id": "MDQ6VXNlcjIxNzU0OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2175493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreas-schwab", "html_url": "https://github.com/andreas-schwab", "followers_url": "https://api.github.com/users/andreas-schwab/followers", "following_url": "https://api.github.com/users/andreas-schwab/following{/other_user}", "gists_url": "https://api.github.com/users/andreas-schwab/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreas-schwab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreas-schwab/subscriptions", "organizations_url": "https://api.github.com/users/andreas-schwab/orgs", "repos_url": "https://api.github.com/users/andreas-schwab/repos", "events_url": "https://api.github.com/users/andreas-schwab/events{/privacy}", "received_events_url": "https://api.github.com/users/andreas-schwab/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b1ed0c9671b99c6b06cbb8c61be14cdec0998de8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1ed0c9671b99c6b06cbb8c61be14cdec0998de8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1ed0c9671b99c6b06cbb8c61be14cdec0998de8"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "fe8c5f6e80df43987dd652787a25dbd38fc5e2e4", "filename": "gcc/lto-wrapper.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9453e3cd0ffd0c377a648b83a9a5fdc5809e60d7/gcc%2Flto-wrapper.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9453e3cd0ffd0c377a648b83a9a5fdc5809e60d7/gcc%2Flto-wrapper.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-wrapper.cc?ref=9453e3cd0ffd0c377a648b83a9a5fdc5809e60d7", "patch": "@@ -335,6 +335,8 @@ merge_and_complain (vec<cl_decoded_option> &decoded_options,\n \n \tcase OPT_fopenmp:\n \tcase OPT_fopenacc:\n+\tcase OPT_fasynchronous_unwind_tables:\n+\tcase OPT_funwind_tables:\n \t  /* For selected options we can merge conservatively.  */\n \t  if (existing_opt == -1)\n \t    decoded_options.safe_push (*foption);\n@@ -737,6 +739,8 @@ append_compiler_options (obstack *argv_obstack, vec<cl_decoded_option> opts)\n \tcase OPT_fopenacc_dim_:\n \tcase OPT_foffload_abi_:\n \tcase OPT_fcf_protection_:\n+\tcase OPT_fasynchronous_unwind_tables:\n+\tcase OPT_funwind_tables:\n \tcase OPT_g:\n \tcase OPT_O:\n \tcase OPT_Ofast:"}]}