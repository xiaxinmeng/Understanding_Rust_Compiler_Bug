{"sha": "45254bf682de019d925d012b5397d2192c27d312", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDUyNTRiZjY4MmRlMDE5ZDkyNWQwMTJiNTM5N2QyMTkyYzI3ZDMxMg==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "1998-11-27T10:25:17Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "1998-11-27T10:25:17Z"}, "message": "Makefile.in (jc1, jv-scan): Link with $(SUBDIR_OBSTACK).\n\n        * Makefile.in (jc1, jv-scan): Link with $(SUBDIR_OBSTACK).\n        * jv-scan.c: Fix xmalloc prototype.  Provide an xmalloc definition.\n        * jvgenmain.c: Remove the xmalloc prototype, we get it from\n        libiberty.h.  Provide an xmalloc definition.\n        * jvspec.c: Remove the xmalloc prototype.\n        * parse-scan.y: Include config.h and system.h.  Don't include\n        OS headers or gansidecl.h.  Don't prototype xmalloc/xstrdup.\n        Provide an xstrdup definition.\n\nFrom-SVN: r23934", "tree": {"sha": "f02c7a43c2d5c9a82eeff961f1323089bcb91532", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f02c7a43c2d5c9a82eeff961f1323089bcb91532"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/45254bf682de019d925d012b5397d2192c27d312", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45254bf682de019d925d012b5397d2192c27d312", "html_url": "https://github.com/Rust-GCC/gccrs/commit/45254bf682de019d925d012b5397d2192c27d312", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45254bf682de019d925d012b5397d2192c27d312/comments", "author": null, "committer": null, "parents": [{"sha": "a74d78dd51d21fb465e6dd4dc64ee481b22e5a3f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a74d78dd51d21fb465e6dd4dc64ee481b22e5a3f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a74d78dd51d21fb465e6dd4dc64ee481b22e5a3f"}], "stats": {"total": 263, "additions": 154, "deletions": 109}, "files": [{"sha": "24b3d663132226d79d46af33084b9d5f55bab673", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45254bf682de019d925d012b5397d2192c27d312/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45254bf682de019d925d012b5397d2192c27d312/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=45254bf682de019d925d012b5397d2192c27d312", "patch": "@@ -1,3 +1,18 @@\n+Fri Nov 27 13:20:51 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* Makefile.in (jc1, jv-scan): Link with $(SUBDIR_OBSTACK).\n+\n+\t* jv-scan.c: Fix xmalloc prototype.  Provide an xmalloc definition.\n+\t\n+\t* jvgenmain.c: Remove the xmalloc prototype, we get it from\n+\tlibiberty.h.  Provide an xmalloc definition.\n+\n+\t* jvspec.c: Remove the xmalloc prototype.\n+\n+\t* parse-scan.y: Include config.h and system.h.  Don't include\n+\tOS headers or gansidecl.h.  Don't prototype xmalloc/xstrdup.\n+\tProvide an xstrdup definition.\n+\n Wed Nov 26 22:03:58 1998  Alexandre Oliva  <oliva@dcc.unicamp.br>\n \n \t* jcf-path.c (add_entry): recognize \".jar\" too"}, {"sha": "7ada6efdd9ca0ccbb55f1b8325a26840e7a80652", "filename": "gcc/java/Makefile.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45254bf682de019d925d012b5397d2192c27d312/gcc%2Fjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45254bf682de019d925d012b5397d2192c27d312/gcc%2Fjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FMakefile.in?ref=45254bf682de019d925d012b5397d2192c27d312", "patch": "@@ -196,11 +196,11 @@ compiler: ../jc1$(exeext) ../jv-scan$(exeext)\n ../jc1$(exeext): $(P) $(JAVA_OBJS) $(OBJDEPS) $(LIBDEPS)\n \trm -f ../jc1$(exeext)\n \t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@ \\\n-\t      $(JAVA_OBJS) $(OBJS) $(LIBS)\n+\t      $(JAVA_OBJS) $(OBJS) $(SUBDIR_OBSTACK) $(LIBS)\n ../jv-scan$(exeext): $(P) $(JAVA_OBJS_LITE) $(OBJDEPS) $(LIBDEPS)\n \trm -f ../jv-scan$(exeext)\n \t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@ \\\n-\t      $(JAVA_OBJS_LITE) $(LIBS)\n+\t      $(JAVA_OBJS_LITE) $(SUBDIR_OBSTACK) $(LIBS)\n \n ../jcf-dump$(exeext): jcf-dump.o jcf-io.o jcf-depend.o jcf-path.o \\\n \t\tzextract.o"}, {"sha": "fcf807e832c96ac4caaba21c8ccc13b40ead9783", "filename": "gcc/java/jv-scan.c", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45254bf682de019d925d012b5397d2192c27d312/gcc%2Fjava%2Fjv-scan.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45254bf682de019d925d012b5397d2192c27d312/gcc%2Fjava%2Fjv-scan.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjv-scan.c?ref=45254bf682de019d925d012b5397d2192c27d312", "patch": "@@ -34,7 +34,7 @@ void fatal VPROTO((char *s, ...));\n void warning VPROTO((char *s, ...));\n void gcc_obstack_init PROTO ((struct obstack *obstack));\n extern void reset_report PROTO ((void));\n-extern char *xmalloc PROTO((size_t));\n+extern PTR xmalloc PROTO((size_t));\n \n #define JC1_LITE\n #include \"parse.h\"\n@@ -209,3 +209,14 @@ gcc_obstack_init (obstack)\n \t\t  (void *(*) ()) OBSTACK_CHUNK_ALLOC,\n \t\t  (void (*) ()) OBSTACK_CHUNK_FREE);\n }\n+\n+PTR\n+xmalloc (size)\n+  size_t size;\n+{\n+  register PTR val = (PTR) malloc (size);\n+ \n+  if (val == 0)\n+    fatal (\"virtual memory exhausted\");\n+  return val;\n+}"}, {"sha": "cc8823322dee6c6787ced8e0f4b607581a346814", "filename": "gcc/java/jvgenmain.c", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45254bf682de019d925d012b5397d2192c27d312/gcc%2Fjava%2Fjvgenmain.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45254bf682de019d925d012b5397d2192c27d312/gcc%2Fjava%2Fjvgenmain.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjvgenmain.c?ref=45254bf682de019d925d012b5397d2192c27d312", "patch": "@@ -35,8 +35,6 @@ const char class_mangling_prefix[] = \"_CL_\";\n \n struct obstack name_obstack;\n \n-extern char *xmalloc PROTO((size_t));\n-\n void\n error (const char *str)\n {\n@@ -111,3 +109,17 @@ main (int argc, const char **argv)\n     }\n   return 0;\n }\n+\n+PTR\n+xmalloc (size)\n+  size_t size;\n+{\n+  register PTR val = (PTR) malloc (size);\n+ \n+  if (val == 0)\n+    {\n+      fprintf(stderr, \"jvgenmain: virtual memory exhausted\");\n+      exit(FATAL_EXIT_CODE);\n+    }\n+  return val;\n+}"}, {"sha": "38d09b2a31f502f1cc9cfe38ac97e53d2d523b8d", "filename": "gcc/java/jvspec.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45254bf682de019d925d012b5397d2192c27d312/gcc%2Fjava%2Fjvspec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45254bf682de019d925d012b5397d2192c27d312/gcc%2Fjava%2Fjvspec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjvspec.c?ref=45254bf682de019d925d012b5397d2192c27d312", "patch": "@@ -61,7 +61,6 @@ The Free Software Foundation is independent of Sun Microsystems, Inc.  */\n #define MATH_LIBRARY \"-lm\"\n #endif\n \n-extern char *xmalloc PROTO((size_t));\n extern int do_spec\t\tPROTO((char *));\n extern char *input_filename;\n extern size_t input_filename_length;"}, {"sha": "654cc1032548bcfb8227f60cc3e99bdf812a7dcb", "filename": "gcc/java/parse-scan.c", "status": "modified", "additions": 98, "deletions": 94, "changes": 192, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45254bf682de019d925d012b5397d2192c27d312/gcc%2Fjava%2Fparse-scan.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45254bf682de019d925d012b5397d2192c27d312/gcc%2Fjava%2Fparse-scan.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse-scan.c?ref=45254bf682de019d925d012b5397d2192c27d312", "patch": "@@ -117,12 +117,9 @@\n \n #define JC1_LITE\n \n-#include <stdio.h>\n-#include <stdlib.h>\n-#include <string.h>\n+#include \"config.h\"\n+#include \"system.h\"\n \n-/* Definitions for PROTO and VPROTO macros */\n-#include \"gansidecl.h\"\n #include \"obstack.h\"\n \n extern char *input_filename;\n@@ -171,14 +168,10 @@ struct method_declarator {\n static void report_class_declaration PROTO ((char *));\n static void report_main_declaration PROTO ((struct method_declarator *));\n \n-/* Other extern functions */\n-char *xmalloc PROTO ((unsigned));\n-char *xstrdup PROTO ((char *));\n-\n #include \"lex.h\"\n #include \"parse.h\"\n \n-#line 102 \"./parse-scan.y\"\n+#line 95 \"./parse-scan.y\"\n typedef union {\n   char *node;\n   struct method_declarator *declarator;\n@@ -403,41 +396,41 @@ static const short yyrhs[] = {   123,\n \n #if YYDEBUG != 0\n static const short yyrline[] = { 0,\n-   173,   178,   180,   181,   182,   183,   184,   188,   190,   193,\n-   199,   204,   211,   213,   216,   220,   224,   228,   230,   237,\n-   247,   249,   252,   256,   265,   270,   271,   272,   273,   274,\n-   275,   276,   277,   280,   282,   285,   287,   290,   295,   297,\n-   300,   304,   308,   310,   311,   317,   326,   337,   344,   344,\n-   347,   349,   350,   353,   354,   357,   360,   364,   366,   369,\n-   371,   374,   376,   377,   378,   381,   383,   384,   385,   389,\n-   392,   396,   399,   402,   404,   407,   410,   413,   415,   419,\n-   423,   426,   427,   429,   436,   443,   449,   452,   454,   462,\n-   468,   472,   473,   476,   479,   483,   485,   486,   490,   492,\n-   495,   505,   507,   510,   512,   518,   521,   525,   527,   528,\n-   529,   533,   535,   538,   540,   544,   546,   551,   553,   555,\n-   556,   560,   562,   565,   567,   570,   572,   575,   577,   578,\n-   579,   582,   586,   591,   593,   594,   595,   598,   600,   604,\n-   606,   609,   611,   614,   616,   617,   620,   624,   627,   631,\n-   633,   634,   635,   636,   637,   640,   642,   643,   644,   645,\n-   648,   650,   651,   652,   653,   654,   655,   656,   657,   658,\n-   659,   662,   666,   671,   675,   681,   685,   687,   688,   689,\n-   690,   691,   692,   695,   699,   703,   707,   711,   713,   714,\n-   715,   718,   720,   723,   728,   730,   733,   735,   738,   742,\n-   746,   750,   754,   758,   760,   763,   765,   768,   772,   775,\n-   776,   777,   780,   781,   784,   786,   789,   791,   794,   796,\n-   799,   801,   804,   808,   810,   813,   818,   820,   821,   824,\n-   826,   829,   833,   838,   840,   843,   845,   846,   847,   848,\n-   849,   850,   854,   856,   858,   862,   866,   868,   872,   873,\n-   877,   878,   879,   880,   883,   886,   889,   891,   892,   895,\n-   897,   898,   899,   902,   903,   906,   908,   911,   915,   917,\n-   920,   922,   925,   928,   930,   931,   932,   933,   936,   939,\n-   942,   944,   946,   947,   950,   954,   958,   960,   961,   962,\n-   963,   966,   970,   974,   976,   977,   978,   981,   983,   984,\n-   985,   988,   990,   991,   992,   995,   997,   998,  1001,  1003,\n-  1004,  1005,  1008,  1010,  1011,  1012,  1013,  1014,  1017,  1019,\n-  1020,  1023,  1025,  1028,  1030,  1033,  1035,  1038,  1040,  1043,\n-  1045,  1048,  1050,  1053,  1055,  1058,  1062,  1065,  1066,  1069,\n-  1071,  1074,  1078\n+   166,   171,   173,   174,   175,   176,   177,   181,   183,   186,\n+   192,   197,   204,   206,   209,   213,   217,   221,   223,   230,\n+   240,   242,   245,   249,   258,   263,   264,   265,   266,   267,\n+   268,   269,   270,   273,   275,   278,   280,   283,   288,   290,\n+   293,   297,   301,   303,   304,   310,   319,   330,   337,   337,\n+   340,   342,   343,   346,   347,   350,   353,   357,   359,   362,\n+   364,   367,   369,   370,   371,   374,   376,   377,   378,   382,\n+   385,   389,   392,   395,   397,   400,   403,   406,   408,   412,\n+   416,   419,   420,   422,   429,   436,   442,   445,   447,   455,\n+   461,   465,   466,   469,   472,   476,   478,   479,   483,   485,\n+   488,   498,   500,   503,   505,   511,   514,   518,   520,   521,\n+   522,   526,   528,   531,   533,   537,   539,   544,   546,   548,\n+   549,   553,   555,   558,   560,   563,   565,   568,   570,   571,\n+   572,   575,   579,   584,   586,   587,   588,   591,   593,   597,\n+   599,   602,   604,   607,   609,   610,   613,   617,   620,   624,\n+   626,   627,   628,   629,   630,   633,   635,   636,   637,   638,\n+   641,   643,   644,   645,   646,   647,   648,   649,   650,   651,\n+   652,   655,   659,   664,   668,   674,   678,   680,   681,   682,\n+   683,   684,   685,   688,   692,   696,   700,   704,   706,   707,\n+   708,   711,   713,   716,   721,   723,   726,   728,   731,   735,\n+   739,   743,   747,   751,   753,   756,   758,   761,   765,   768,\n+   769,   770,   773,   774,   777,   779,   782,   784,   787,   789,\n+   792,   794,   797,   801,   803,   806,   811,   813,   814,   817,\n+   819,   822,   826,   831,   833,   836,   838,   839,   840,   841,\n+   842,   843,   847,   849,   851,   855,   859,   861,   865,   866,\n+   870,   871,   872,   873,   876,   879,   882,   884,   885,   888,\n+   890,   891,   892,   895,   896,   899,   901,   904,   908,   910,\n+   913,   915,   918,   921,   923,   924,   925,   926,   929,   932,\n+   935,   937,   939,   940,   943,   947,   951,   953,   954,   955,\n+   956,   959,   963,   967,   969,   970,   971,   974,   976,   977,\n+   978,   981,   983,   984,   985,   988,   990,   991,   994,   996,\n+   997,   998,  1001,  1003,  1004,  1005,  1006,  1007,  1010,  1012,\n+  1013,  1016,  1018,  1021,  1023,  1026,  1028,  1031,  1033,  1036,\n+  1038,  1041,  1043,  1046,  1048,  1051,  1055,  1058,  1059,  1062,\n+  1064,  1067,  1071\n };\n #endif\n \n@@ -1875,28 +1868,28 @@ yyparse(YYPARSE_PARAM_ARG)\n   switch (yyn) {\n \n case 10:\n-#line 195 \"./parse-scan.y\"\n+#line 188 \"./parse-scan.y\"\n {\n \t\t  /* use preset global here. FIXME */\n \t\t  yyval.node = xstrdup (\"int\");\n \t\t;\n     break;}\n case 11:\n-#line 200 \"./parse-scan.y\"\n+#line 193 \"./parse-scan.y\"\n {\n \t\t  /* use preset global here. FIXME */\n \t\t  yyval.node = xstrdup (\"double\");\n \t\t;\n     break;}\n case 12:\n-#line 205 \"./parse-scan.y\"\n+#line 198 \"./parse-scan.y\"\n {\n \t\t  /* use preset global here. FIXME */\n \t\t  yyval.node = xstrdup (\"boolean\");\n \t\t;\n     break;}\n case 19:\n-#line 231 \"./parse-scan.y\"\n+#line 224 \"./parse-scan.y\"\n {\n \t\t  char *n = xmalloc (strlen (yyvsp[-2].node)+2);\n \t\t  n [0] = '[';\n@@ -1905,7 +1898,7 @@ case 19:\n \t\t;\n     break;}\n case 20:\n-#line 238 \"./parse-scan.y\"\n+#line 231 \"./parse-scan.y\"\n {\t\n \t\t  char *n = xmalloc (strlen (yyvsp[-2].node)+2);\n \t\t  n [0] = '[';\n@@ -1914,19 +1907,19 @@ case 20:\n \t\t;\n     break;}\n case 24:\n-#line 258 \"./parse-scan.y\"\n+#line 251 \"./parse-scan.y\"\n { \n \t\t  char *n = xmalloc (strlen (yyvsp[-2].node)+strlen (yyvsp[0].node)+2);\n \t\t  sprintf (n, \"%s.s\", yyvsp[-2].node, yyvsp[0].node);\n \t\t  yyval.node = n;\n \t\t;\n     break;}\n case 38:\n-#line 292 \"./parse-scan.y\"\n+#line 285 \"./parse-scan.y\"\n { package_name = yyvsp[-1].node; ;\n     break;}\n case 46:\n-#line 319 \"./parse-scan.y\"\n+#line 312 \"./parse-scan.y\"\n { \n \t\t  if (yyvsp[0].value == PUBLIC_TK)\n \t\t    modifier_value++;\n@@ -1936,7 +1929,7 @@ case 46:\n \t\t;\n     break;}\n case 47:\n-#line 327 \"./parse-scan.y\"\n+#line 320 \"./parse-scan.y\"\n { \n \t\t  if (yyvsp[0].value == PUBLIC_TK)\n \t\t    modifier_value++;\n@@ -1946,180 +1939,180 @@ case 47:\n \t\t;\n     break;}\n case 48:\n-#line 339 \"./parse-scan.y\"\n+#line 332 \"./parse-scan.y\"\n { \n \t\t  report_class_declaration(yyvsp[-2].node);\n \t\t  modifier_value = 0;\n                 ;\n     break;}\n case 50:\n-#line 345 \"./parse-scan.y\"\n+#line 338 \"./parse-scan.y\"\n { report_class_declaration(yyvsp[-2].node); ;\n     break;}\n case 56:\n-#line 359 \"./parse-scan.y\"\n+#line 352 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 57:\n-#line 361 \"./parse-scan.y\"\n+#line 354 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 70:\n-#line 391 \"./parse-scan.y\"\n+#line 384 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 71:\n-#line 393 \"./parse-scan.y\"\n+#line 386 \"./parse-scan.y\"\n { modifier_value = 0; ;\n     break;}\n case 76:\n-#line 409 \"./parse-scan.y\"\n+#line 402 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 81:\n-#line 425 \"./parse-scan.y\"\n+#line 418 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 83:\n-#line 428 \"./parse-scan.y\"\n+#line 421 \"./parse-scan.y\"\n { modifier_value = 0; ;\n     break;}\n case 84:\n-#line 430 \"./parse-scan.y\"\n+#line 423 \"./parse-scan.y\"\n { \n                   report_main_declaration (yyvsp[-1].declarator);\n \t\t  modifier_value = 0;\n \t\t;\n     break;}\n case 85:\n-#line 438 \"./parse-scan.y\"\n+#line 431 \"./parse-scan.y\"\n { \n \t\t  struct method_declarator *d;\n \t\t  NEW_METHOD_DECLARATOR (d, yyvsp[-2].node, NULL);\n \t\t  yyval.declarator = d;\n \t\t;\n     break;}\n case 86:\n-#line 444 \"./parse-scan.y\"\n+#line 437 \"./parse-scan.y\"\n { \n \t\t  struct method_declarator *d;\n \t\t  NEW_METHOD_DECLARATOR (d, yyvsp[-3].node, yyvsp[-1].node);\n \t\t  yyval.declarator = d;\n \t\t;\n     break;}\n case 89:\n-#line 455 \"./parse-scan.y\"\n+#line 448 \"./parse-scan.y\"\n {\n \t\t  char *n = xmalloc (strlen (yyvsp[-2].node)+strlen(yyvsp[0].node)+2);\n \t\t  sprintf (n, \"%s,%s\", yyvsp[-2].node, yyvsp[0].node);\n \t\t  yyval.node = n;\n \t\t;\n     break;}\n case 90:\n-#line 464 \"./parse-scan.y\"\n+#line 457 \"./parse-scan.y\"\n { \n \t\t  USE_ABSORBER;\n \t\t  yyval.node = yyvsp[-1].node;\n \t\t;\n     break;}\n case 91:\n-#line 469 \"./parse-scan.y\"\n+#line 462 \"./parse-scan.y\"\n { yyval.node = yyvsp[-1].node; ;\n     break;}\n case 94:\n-#line 478 \"./parse-scan.y\"\n+#line 471 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 95:\n-#line 480 \"./parse-scan.y\"\n+#line 473 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 101:\n-#line 497 \"./parse-scan.y\"\n+#line 490 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 103:\n-#line 508 \"./parse-scan.y\"\n+#line 501 \"./parse-scan.y\"\n { modifier_value = 0; ;\n     break;}\n case 105:\n-#line 513 \"./parse-scan.y\"\n+#line 506 \"./parse-scan.y\"\n { modifier_value = 0; ;\n     break;}\n case 106:\n-#line 520 \"./parse-scan.y\"\n+#line 513 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 107:\n-#line 522 \"./parse-scan.y\"\n+#line 515 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 114:\n-#line 539 \"./parse-scan.y\"\n+#line 532 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 115:\n-#line 541 \"./parse-scan.y\"\n+#line 534 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 119:\n-#line 554 \"./parse-scan.y\"\n+#line 547 \"./parse-scan.y\"\n { modifier_value = 0; ;\n     break;}\n case 121:\n-#line 557 \"./parse-scan.y\"\n+#line 550 \"./parse-scan.y\"\n { modifier_value = 0; ;\n     break;}\n case 148:\n-#line 626 \"./parse-scan.y\"\n+#line 619 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 149:\n-#line 628 \"./parse-scan.y\"\n+#line 621 \"./parse-scan.y\"\n { modifier_value = 0; ;\n     break;}\n case 173:\n-#line 668 \"./parse-scan.y\"\n+#line 661 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 226:\n-#line 815 \"./parse-scan.y\"\n+#line 808 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 243:\n-#line 855 \"./parse-scan.y\"\n+#line 848 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 244:\n-#line 857 \"./parse-scan.y\"\n+#line 850 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 246:\n-#line 863 \"./parse-scan.y\"\n+#line 856 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 255:\n-#line 885 \"./parse-scan.y\"\n+#line 878 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 273:\n-#line 927 \"./parse-scan.y\"\n+#line 920 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 274:\n-#line 929 \"./parse-scan.y\"\n+#line 922 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 279:\n-#line 938 \"./parse-scan.y\"\n+#line 931 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 282:\n-#line 945 \"./parse-scan.y\"\n+#line 938 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n case 337:\n-#line 1064 \"./parse-scan.y\"\n+#line 1057 \"./parse-scan.y\"\n { USE_ABSORBER; ;\n     break;}\n }\n@@ -2320,7 +2313,7 @@ case 337:\n   yystate = yyn;\n   goto yynewstate;\n }\n-#line 1082 \"./parse-scan.y\"\n+#line 1075 \"./parse-scan.y\"\n \n \f\n #include \"lex.c\"\n@@ -2402,3 +2395,14 @@ yyerror (msg)\n      char *msg;\n {\n }\n+\n+char *\n+xstrdup (s)\n+     const char *s;\n+{\n+  char *ret;\n+\n+  ret = xmalloc (strlen (s) + 1);\n+  strcpy (ret, s);\n+  return ret;\n+}"}, {"sha": "0324bb9369a1f0e64719ce8637c520b1a363dea3", "filename": "gcc/java/parse-scan.y", "status": "modified", "additions": 13, "deletions": 9, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45254bf682de019d925d012b5397d2192c27d312/gcc%2Fjava%2Fparse-scan.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45254bf682de019d925d012b5397d2192c27d312/gcc%2Fjava%2Fparse-scan.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse-scan.y?ref=45254bf682de019d925d012b5397d2192c27d312", "patch": "@@ -37,12 +37,9 @@ definitions and other extensions.  */\n %{\n #define JC1_LITE\n \n-#include <stdio.h>\n-#include <stdlib.h>\n-#include <string.h>\n+#include \"config.h\"\n+#include \"system.h\"\n \n-/* Definitions for PROTO and VPROTO macros */\n-#include \"gansidecl.h\"\n #include \"obstack.h\"\n \n extern char *input_filename;\n@@ -91,10 +88,6 @@ struct method_declarator {\n static void report_class_declaration PROTO ((char *));\n static void report_main_declaration PROTO ((struct method_declarator *));\n \n-/* Other extern functions */\n-char *xmalloc PROTO ((unsigned));\n-char *xstrdup PROTO ((char *));\n-\n #include \"lex.h\"\n #include \"parse.h\"\n %}\n@@ -1160,3 +1153,14 @@ yyerror (msg)\n      char *msg;\n {\n }\n+\n+char *\n+xstrdup (s)\n+     const char *s;\n+{\n+  char *ret;\n+\n+  ret = xmalloc (strlen (s) + 1);\n+  strcpy (ret, s);\n+  return ret;\n+}"}]}