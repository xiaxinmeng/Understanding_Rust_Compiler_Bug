{"sha": "adadd183285d7f12a0c71853b10bb3a49a87d66a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWRhZGQxODMyODVkN2YxMmEwYzcxODUzYjEwYmIzYTQ5YTg3ZDY2YQ==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2002-10-14T07:17:41Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2002-10-14T07:17:41Z"}, "message": "vr.h (DRIVER_SELF_SPECS): Define.\n\n\t* config/mips/vr.h (DRIVER_SELF_SPECS): Define.\n\t* config/mips/t-vr (MULTILIB_OPTIONS): Remove mlong32.\n\t(MULTILIB_DIRNAMES): Remove long32.\n\t(MULTILIB_EXCEPTIONS): Don't build -mabi=32 -mgp32 multilibs.\n\t(MULTILIB_REDUNDANT_DIRS): Remove.\n\nFrom-SVN: r58116", "tree": {"sha": "cb1f3570439be66bf97a3278609ccb85d1718de0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cb1f3570439be66bf97a3278609ccb85d1718de0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/adadd183285d7f12a0c71853b10bb3a49a87d66a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/adadd183285d7f12a0c71853b10bb3a49a87d66a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/adadd183285d7f12a0c71853b10bb3a49a87d66a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/adadd183285d7f12a0c71853b10bb3a49a87d66a/comments", "author": null, "committer": null, "parents": [{"sha": "4eb9ac3926df360e9986b1f3622d42275a98e53b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4eb9ac3926df360e9986b1f3622d42275a98e53b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4eb9ac3926df360e9986b1f3622d42275a98e53b"}], "stats": {"total": 50, "additions": 18, "deletions": 32}, "files": [{"sha": "c19a7b040cb7364be0533c619d4749013fb61ae8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adadd183285d7f12a0c71853b10bb3a49a87d66a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adadd183285d7f12a0c71853b10bb3a49a87d66a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=adadd183285d7f12a0c71853b10bb3a49a87d66a", "patch": "@@ -1,3 +1,11 @@\n+2002-10-14  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* config/mips/vr.h (DRIVER_SELF_SPECS): Define.\n+\t* config/mips/t-vr (MULTILIB_OPTIONS): Remove mlong32.\n+\t(MULTILIB_DIRNAMES): Remove long32.\n+\t(MULTILIB_EXCEPTIONS): Don't build -mabi=32 -mgp32 multilibs.\n+\t(MULTILIB_REDUNDANT_DIRS): Remove.\n+\n 2002-10-14  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* doc/tm.texi (DRIVER_SELF_SPECS): Document."}, {"sha": "68daad8dc005fc1310f6302791f6c3723a650a88", "filename": "gcc/config/mips/t-vr", "status": "modified", "additions": 3, "deletions": 32, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adadd183285d7f12a0c71853b10bb3a49a87d66a/gcc%2Fconfig%2Fmips%2Ft-vr", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adadd183285d7f12a0c71853b10bb3a49a87d66a/gcc%2Fconfig%2Fmips%2Ft-vr", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-vr?ref=adadd183285d7f12a0c71853b10bb3a49a87d66a", "patch": "@@ -39,15 +39,15 @@ MULTILIB_OPTIONS =\t\t\t\\\n \tEL/EB\t\t\t\t\\\n \tmabi=32/mabi=o64/mabi=eabi\t\\\n \tmgp32\t\t\t\t\\\n-\tmlong32/mlong64\t\t\t\\\n+\tmlong64\t\t\t\t\\\n \tmips16\t\t\t\t\\\n \tmarch=vr5400/march=vr4100\n \n MULTILIB_DIRNAMES =\t\\\n \tel eb\t\t\\\n \to32 o64 eabi\t\\\n \tgp32\t\t\\\n-\tlong32 long64\t\\\n+\tlong64\t\t\\\n \tmips16\t\t\\\n \tvr5400 vr4100\n \n@@ -59,38 +59,9 @@ MULTILIB_MATCHES = EL=mel EB=meb\n # without a -mabi flag.\n MULTILIB_EXCEPTIONS =\t\t\t\t\\\n \t*mabi=32/mlong64*\t\t\t\\\n-\t*mabi=32/mgp32/mlong64*\t\t\t\\\n+\t*mabi=32/mgp32*\t\t\t\t\\\n \t*mabi=o64/mgp32*\t\t\t\\\n \t*mabi=o64/mlong64*\t\t\t\\\n \tmgp32* E[LB]/mgp32*\t\t\t\\\n \tmlong64* E[LB]/mlong64*\t\t\t\\\n \t*mips16/march=vr5*\n-\n-# The real value of this macro is very long, so generate it using a\n-# shell fragment.  The idea is to tell the GCC driver how -mabi,\n-# -mgp32, -mlong32 and -mlong64 interact, so that it choses the right\n-# library when some options are specified redundantly (for example,\n-# -mabi=32 -mgp32).\n-\n-# The core equalities are listed after \"for changes in \".  The first\n-# entry assumes o64 is the default ABI.\n-MULTILIB_REDUNDANT_DIRS=` \\\n-\tfor endian in '' 'el' 'eb'; do\t\t\t\t\t\\\n-\t  for arch in '' 'vr5400' 'vr4100'\t\t\t\t\\\n-\t\t      'mips16' 'mips16/vr100'; do\t\t\t\\\n-\t    for changes in long32=\t\t\t\t\t\\\n-\t\t\t   o32/gp32=o32\t\t\t\t\t\\\n-\t\t\t   o32/gp32/long32=o32\t\t\t\t\\\n-\t\t\t   o32/long32=o32\t\t\t\t\\\n-\t\t\t   o64/long32=o64\t\t\t\t\\\n-\t\t\t   eabi/gp32/long32=eabi/gp32\t\t\t\\\n-\t\t\t   eabi/long64=eabi; do\t\t\t\t\\\n-\t      from=\\`echo \\$${changes} | sed 's/=.*//'\\`;\t\t\\\n-\t      to=\\`echo \\$${changes} | sed 's/.*=//'\\`;\t\t\t\\\n-\t      echo \\$$endian \\$$from \\$$arch=\\$$endian \\$$to \\$$arch\t\\\n-\t\t| sed -e 's: *= *:=:'\t\t\t\t\t\\\n-\t\t      -e 's:  *:/:g'\t\t\t\t\t\\\n-\t\t      -e 's:=$$:=.:';\t\t\t\t\t\\\n-\t    done;\t\t\t\t\t\t\t\\\n-\t  done;\t\t\t\t\t\t\t\t\\\n-\tdone`"}, {"sha": "1352599a300b6795e545c4f49299bae355667eb2", "filename": "gcc/config/mips/vr.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adadd183285d7f12a0c71853b10bb3a49a87d66a/gcc%2Fconfig%2Fmips%2Fvr.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adadd183285d7f12a0c71853b10bb3a49a87d66a/gcc%2Fconfig%2Fmips%2Fvr.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fvr.h?ref=adadd183285d7f12a0c71853b10bb3a49a87d66a", "patch": "@@ -22,3 +22,10 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #define MIPS_CPU_STRING_DEFAULT \"vr4100\"\n #define MULTILIB_DEFAULTS \\\n \t{ MULTILIB_ENDIAN_DEFAULT, MULTILIB_ABI_DEFAULT, \"march=vr4100\" }\n+\n+/* Make sure that -mlong64 always appears on the command line when\n+   64-bit longs are needed.  Also make sure that -mgp32 doesn't appear\n+   if it is redundant.  */\n+#define DRIVER_SELF_SPECS \\\n+\t\"%{mabi=eabi:%{!mlong*:%{!mgp32:-mlong64}}}\", \\\n+\t\"%{mabi=32:%<mgp32}\""}]}