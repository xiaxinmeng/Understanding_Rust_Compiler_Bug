{"sha": "0e9f8e8295d450416a652bb0d0d49eee62960683", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGU5ZjhlODI5NWQ0NTA0MTZhNjUyYmIwZDBkNDllZWU2Mjk2MDY4Mw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@redhat.com", "date": "2002-12-10T19:24:38Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2002-12-10T19:24:38Z"}, "message": "Fix PPC32 SVR4 ABI bug with 128-bit long double.\n\n\t* rs6000.h (RETURN_IN_MEMORY): If ABI_V4, then TFmode is returned in\n\tmemory.\n\nFrom-SVN: r60006", "tree": {"sha": "607859e5590da62c38c6eff7a686a4ef66fb60e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/607859e5590da62c38c6eff7a686a4ef66fb60e1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0e9f8e8295d450416a652bb0d0d49eee62960683", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e9f8e8295d450416a652bb0d0d49eee62960683", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e9f8e8295d450416a652bb0d0d49eee62960683", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e9f8e8295d450416a652bb0d0d49eee62960683/comments", "author": null, "committer": null, "parents": [{"sha": "68e25f880621dd6f500bbd8ba2f9698593b51bcf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68e25f880621dd6f500bbd8ba2f9698593b51bcf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68e25f880621dd6f500bbd8ba2f9698593b51bcf"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "3b506ef19b7f8ff068a2b5fd00a85f7c94afb71a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e9f8e8295d450416a652bb0d0d49eee62960683/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e9f8e8295d450416a652bb0d0d49eee62960683/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0e9f8e8295d450416a652bb0d0d49eee62960683", "patch": "@@ -1,3 +1,8 @@\n+2002-12-10  Jim Wilson  <wilson@redhat.com>\n+\n+\t* rs6000.h (RETURN_IN_MEMORY): If ABI_V4, then TFmode is returned in\n+\tmemory.\n+\n 2002-12-10  Andrew Haley  <aph@redhat.com>\n \n \t* cse.c (cse_insn): Don't cse past a basic block boundary."}, {"sha": "e5e9e27cce9f62be76efb905fc30a424e6259ee5", "filename": "gcc/config/rs6000/rs6000.h", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e9f8e8295d450416a652bb0d0d49eee62960683/gcc%2Fconfig%2Frs6000%2Frs6000.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e9f8e8295d450416a652bb0d0d49eee62960683/gcc%2Fconfig%2Frs6000%2Frs6000.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.h?ref=0e9f8e8295d450416a652bb0d0d49eee62960683", "patch": "@@ -1550,13 +1550,17 @@ typedef struct rs6000_stack {\n    default, and -m switches get the final word.  See\n    rs6000_override_options for more details.\n \n+   The PPC32 SVR4 ABI uses IEEE double extended for long double, if 128-bit\n+   long double support is enabled.  These values are returned in memory.\n+\n    int_size_in_bytes returns -1 for variable size objects, which go in\n    memory always.  The cast to unsigned makes -1 > 8.  */\n \n #define RETURN_IN_MEMORY(TYPE) \\\n-  (AGGREGATE_TYPE_P (TYPE) && \\\n-   (TARGET_AIX_STRUCT_RET || \\\n-    (unsigned HOST_WIDE_INT) int_size_in_bytes (TYPE) > 8))\n+  ((AGGREGATE_TYPE_P (TYPE)\t\t\t\t\t\t\\\n+    && (TARGET_AIX_STRUCT_RET\t\t\t\t\t\t\\\n+\t|| (unsigned HOST_WIDE_INT) int_size_in_bytes (TYPE) > 8))\t\\\n+   || (DEFAULT_ABI == ABI_V4 && TYPE_MODE (TYPE) == TFmode))\n \n /* DRAFT_V4_STRUCT_RET defaults off.  */\n #define DRAFT_V4_STRUCT_RET 0"}]}