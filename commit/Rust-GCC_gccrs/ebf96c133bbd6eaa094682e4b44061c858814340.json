{"sha": "ebf96c133bbd6eaa094682e4b44061c858814340", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWJmOTZjMTMzYmJkNmVhYTA5NDY4MmU0YjQ0MDYxYzg1ODgxNDM0MA==", "commit": {"author": {"name": "Scott Gilbertson", "email": "scottg@mantatest.com", "date": "2003-04-20T23:21:06Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2003-04-20T23:21:06Z"}, "message": "Container.java (addImpl): Enable paint events if adding a lightweight to a heavyweight.\n\n2003-04-20  Scott Gilbertson  <scottg@mantatest.com>\n\n\t* java/awt/Container.java (addImpl): Enable paint events if adding\n\ta lightweight to a heavyweight.\n\t(addNotify): Ensure that peer is created before\n\taddNotifyContainerChildren.\n\t(addNotifyContainerChildren): Enable paint events if a heavyweight\n\tcontainer contains a lightweight.\n\nFrom-SVN: r65870", "tree": {"sha": "7d0f4a7c0339837de0b0def87e3da925bb0e01a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7d0f4a7c0339837de0b0def87e3da925bb0e01a4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ebf96c133bbd6eaa094682e4b44061c858814340", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebf96c133bbd6eaa094682e4b44061c858814340", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ebf96c133bbd6eaa094682e4b44061c858814340", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebf96c133bbd6eaa094682e4b44061c858814340/comments", "author": null, "committer": null, "parents": [{"sha": "b39b80844883d0de4d19d90c35f11d78887280fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b39b80844883d0de4d19d90c35f11d78887280fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b39b80844883d0de4d19d90c35f11d78887280fe"}], "stats": {"total": 29, "additions": 23, "deletions": 6}, "files": [{"sha": "956a317a7fbc4f1181f8c06a9e4d7b327dc1471b", "filename": "libjava/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ebf96c133bbd6eaa094682e4b44061c858814340/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ebf96c133bbd6eaa094682e4b44061c858814340/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=ebf96c133bbd6eaa094682e4b44061c858814340", "patch": "@@ -1,3 +1,12 @@\n+2003-04-20  Scott Gilbertson  <scottg@mantatest.com>\n+\n+\t* java/awt/Container.java (addImpl): Enable paint events if adding\n+\ta lightweight to a heavyweight.\n+\t(addNotify): Ensure that peer is created before\n+\taddNotifyContainerChildren.\n+\t(addNotifyContainerChildren): Enable paint events if a heavyweight\n+\tcontainer contains a lightweight.\n+\n 2003-04-20  Tom Tromey  <tromey@redhat.com>\n \n \t* java/io/BufferedReader.java, java/io/BufferedWriter.java,"}, {"sha": "9bad369e53f82b9e75df043874b35901e480d6d1", "filename": "libjava/java/awt/Container.java", "status": "modified", "additions": 14, "deletions": 6, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ebf96c133bbd6eaa094682e4b44061c858814340/libjava%2Fjava%2Fawt%2FContainer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ebf96c133bbd6eaa094682e4b44061c858814340/libjava%2Fjava%2Fawt%2FContainer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fawt%2FContainer.java?ref=ebf96c133bbd6eaa094682e4b44061c858814340", "patch": "@@ -297,9 +297,13 @@ protected void addImpl(Component comp, Object constraints, int index)\n         if (peer != null)\n           {\n             comp.addNotify();\n-\n-            if (comp.isLightweight())\n-              enableEvents(comp.eventMask);\n+            \n+            if (comp.isLightweight ())\n+\t      {\n+\t\tenableEvents (comp.eventMask);\n+\t\tif (!isLightweight ())\n+\t\t  enableEvents (AWTEvent.PAINT_EVENT_MASK);\n+\t      }\n           }\n \n         invalidate();\n@@ -907,8 +911,8 @@ public Component findComponentAt(Point p)\n    */\n   public void addNotify()\n   {\n-    addNotifyContainerChildren();\n     super.addNotify();\n+    addNotifyContainerChildren();\n   }\n \n   /**\n@@ -1288,8 +1292,12 @@ private void addNotifyContainerChildren()\n         for (int i = ncomponents;  --i >= 0; )\n           {\n             component[i].addNotify();\n-            if (component[i].isLightweight())\n-              enableEvents(component[i].eventMask);\n+            if (component[i].isLightweight ())\n+\t      {\n+\t\tenableEvents(component[i].eventMask);\n+\t\tif (peer != null && !isLightweight ())\n+\t\t  enableEvents (AWTEvent.PAINT_EVENT_MASK);\n+\t      }\n           }\n       }\n   }"}]}