{"sha": "772ae9f018e47a61c32568babd238c4df4b8f521", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzcyYWU5ZjAxOGU0N2E2MWMzMjU2OGJhYmQyMzhjNGRmNGI4ZjUyMQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-05-06T09:45:47Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-05-06T09:45:47Z"}, "message": "(decode_field_reference): Don't do anything for non-integral fields.\n\nFrom-SVN: r4353", "tree": {"sha": "1197b1423157d5ca40182ea6de1065633155e624", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1197b1423157d5ca40182ea6de1065633155e624"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/772ae9f018e47a61c32568babd238c4df4b8f521", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/772ae9f018e47a61c32568babd238c4df4b8f521", "html_url": "https://github.com/Rust-GCC/gccrs/commit/772ae9f018e47a61c32568babd238c4df4b8f521", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/772ae9f018e47a61c32568babd238c4df4b8f521/comments", "author": null, "committer": null, "parents": [{"sha": "8e7e536500c31b0d3b8890d5aee90c9f644138da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e7e536500c31b0d3b8890d5aee90c9f644138da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e7e536500c31b0d3b8890d5aee90c9f644138da"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "6570ac2a62d5df2484cd84a0a89763e4f601f82e", "filename": "gcc/fold-const.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/772ae9f018e47a61c32568babd238c4df4b8f521/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/772ae9f018e47a61c32568babd238c4df4b8f521/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=772ae9f018e47a61c32568babd238c4df4b8f521", "patch": "@@ -2418,6 +2418,12 @@ decode_field_reference (exp, pbitsize, pbitpos, pmode, punsignedp,\n   tree inner;\n   tree offset;\n \n+  /* All the optimizations using this function assume integer fields.  \n+     There are problems with FP fields since the type_for_size call\n+     below can fail for, e.g., XFmode.  */\n+  if (! INTEGRAL_TYPE_P (TREE_TYPE (exp)))\n+    return 0;\n+\n   STRIP_NOPS (exp);\n \n   if (TREE_CODE (exp) == BIT_AND_EXPR)"}]}