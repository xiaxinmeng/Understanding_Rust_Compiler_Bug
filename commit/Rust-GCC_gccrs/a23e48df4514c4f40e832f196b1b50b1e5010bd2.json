{"sha": "a23e48df4514c4f40e832f196b1b50b1e5010bd2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTIzZTQ4ZGY0NTE0YzRmNDBlODMyZjE5NmIxYjUwYjFlNTAxMGJkMg==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2017-01-17T08:24:26Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2017-01-17T08:24:26Z"}, "message": "re PR testsuite/52563 (FAIL: gcc.dg/tree-ssa/scev-[3,4].c scan-tree-dump-times optimized \"&a\" 1)\n\n2017-01-17  Richard Biener  <rguenther@suse.de>\n\n\tPR testsuite/52563\n\tPR testsuite/71237\n\tPR testsuite/77737\n\t* gcc.dg/tree-ssa/scev-3.c: Re-write to a GIMPLE testcase for IVOPTs.\n\t* gcc.dg/tree-ssa/scev-4.c: Likewise.\n\t* gcc.dg/tree-ssa/scev-5.c: Likewise.\n\nFrom-SVN: r244519", "tree": {"sha": "12377573e0abcba47c8f273fac18b588da3254d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12377573e0abcba47c8f273fac18b588da3254d4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a23e48df4514c4f40e832f196b1b50b1e5010bd2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a23e48df4514c4f40e832f196b1b50b1e5010bd2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a23e48df4514c4f40e832f196b1b50b1e5010bd2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a23e48df4514c4f40e832f196b1b50b1e5010bd2/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b2bcb1b3c9d6b6eca558fddb9ec66d2a431cbbf9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2bcb1b3c9d6b6eca558fddb9ec66d2a431cbbf9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2bcb1b3c9d6b6eca558fddb9ec66d2a431cbbf9"}], "stats": {"total": 142, "additions": 113, "deletions": 29}, "files": [{"sha": "add78e2f90fbd590634b91975ef4f2cc5a1a92bf", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a23e48df4514c4f40e832f196b1b50b1e5010bd2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a23e48df4514c4f40e832f196b1b50b1e5010bd2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a23e48df4514c4f40e832f196b1b50b1e5010bd2", "patch": "@@ -1,3 +1,12 @@\n+2017-01-17  Richard Biener  <rguenther@suse.de>\n+\n+\tPR testsuite/52563\n+\tPR testsuite/71237\n+\tPR testsuite/77737\n+\t* gcc.dg/tree-ssa/scev-3.c: Re-write to a GIMPLE testcase for IVOPTs.\n+\t* gcc.dg/tree-ssa/scev-4.c: Likewise.\n+\t* gcc.dg/tree-ssa/scev-5.c: Likewise.\n+\n 2017-01-17  Alan Modra  <amodra@gmail.com>\n \n \t* gcc.target/powerpc/pr79066.c: New."}, {"sha": "fed1011968d629706adb32e563d1056ed630d0cf", "filename": "gcc/testsuite/gcc.dg/tree-ssa/scev-3.c", "status": "modified", "additions": 34, "deletions": 9, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a23e48df4514c4f40e832f196b1b50b1e5010bd2/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fscev-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a23e48df4514c4f40e832f196b1b50b1e5010bd2/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fscev-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fscev-3.c?ref=a23e48df4514c4f40e832f196b1b50b1e5010bd2", "patch": "@@ -1,18 +1,43 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-tree-optimized\" } */\n+/* { dg-options \"-O2 -fgimple -fdump-tree-ivopts\" } */\n \n int *a_p;\n int a[1000];\n \n-void\n-f(int k)\n+void __GIMPLE (startwith (\"loop\"))\n+f (int k)\n {\n-\tint i;\n+  int i;\n+  int * _1;\n+\n+bb_2:\n+  i_5 = k_4(D);\n+  if (i_5 <= 999)\n+    goto bb_4;\n+  else\n+    goto bb_3;\n+\n+bb_3:\n+  return;\n+\n+bb_4:\n+  ;\n+\n+bb_5:\n+  i_12 = __PHI (bb_6: i_9, bb_4: i_5);\n+  _1 = &a[i_12];\n+  a_p = _1;\n+  __MEM <int[1000]> ((int *)&a)[i_12] = 100;\n+  i_9 = i_5 + i_12;\n+  if (i_9 <= 999)\n+    goto bb_6;\n+  else\n+    goto bb_3;\n+\n+bb_6:\n+  ;\n+  goto bb_5;\n \n-\tfor (i=k; i<1000; i+=k) {\n-\t\ta_p = &a[i];\n-\t\t*a_p = 100;\n-        }\n }\n \n-/* { dg-final { scan-tree-dump-times \"&a\" 1 \"optimized\" } } */\n+/* { dg-final { scan-tree-dump-times \"&a\" 1 \"ivopts\" } } */"}, {"sha": "94ebfae7b93e25cd61d4519cce40a470c021c9a1", "filename": "gcc/testsuite/gcc.dg/tree-ssa/scev-4.c", "status": "modified", "additions": 36, "deletions": 11, "changes": 47, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a23e48df4514c4f40e832f196b1b50b1e5010bd2/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fscev-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a23e48df4514c4f40e832f196b1b50b1e5010bd2/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fscev-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fscev-4.c?ref=a23e48df4514c4f40e832f196b1b50b1e5010bd2", "patch": "@@ -1,23 +1,48 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-tree-optimized\" } */\n+/* { dg-options \"-O2 -fgimple -fdump-tree-ivopts\" } */\n \n typedef struct {\n-\tint x;\n-\tint y;\n+    int x;\n+    int y;\n } S;\n \n int *a_p;\n S a[1000];\n \n-void\n-f(int k)\n+void __GIMPLE (startwith (\"loop\"))\n+f (int k)\n {\n-\tint i;\n+  int i;\n+  int * _1;\n+\n+bb_2:\n+  i_5 = k_4(D);\n+  if (i_5 <= 999)\n+    goto bb_4;\n+  else\n+    goto bb_3;\n+\n+bb_3:\n+  return;\n+\n+bb_4:\n+  ;\n+\n+bb_5:\n+  i_12 = __PHI (bb_6: i_9, bb_4: i_5);\n+  _1 = &a[i_12].y;\n+  a_p = _1;\n+  __MEM <S[1000]> ((int *)&a)[i_12].y = 100;\n+  i_9 = i_5 + i_12;\n+  if (i_9 <= 999)\n+    goto bb_6;\n+  else\n+    goto bb_3;\n+\n+bb_6:\n+  ;\n+  goto bb_5;\n \n-\tfor (i=k; i<1000; i+=k) {\n-\t\ta_p = &a[i].y;\n-\t\t*a_p = 100;\n-        }\n }\n \n-/* { dg-final { scan-tree-dump-times \"&a\" 1 \"optimized\" } } */\n+/* { dg-final { scan-tree-dump-times \"&a\" 1 \"ivopts\" } } */"}, {"sha": "8cced512e8d0eca706120febd47fffc439bd4de1", "filename": "gcc/testsuite/gcc.dg/tree-ssa/scev-5.c", "status": "modified", "additions": 34, "deletions": 9, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a23e48df4514c4f40e832f196b1b50b1e5010bd2/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fscev-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a23e48df4514c4f40e832f196b1b50b1e5010bd2/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fscev-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fscev-5.c?ref=a23e48df4514c4f40e832f196b1b50b1e5010bd2", "patch": "@@ -1,18 +1,43 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-tree-optimized\" } */\n+/* { dg-options \"-O2 -fgimple -fdump-tree-ivopts\" } */\n \n int *a_p;\n int a[1000];\n \n-void\n-f(int k)\n+void __GIMPLE (startwith (\"loop\"))\n+f (int k)\n {\n-        long long i;\n+  long long int i;\n+  int * _1;\n+\n+bb_2:\n+  i_5 = (long long int) k_4(D);\n+  if (i_5 <= 999ll)\n+    goto bb_4;\n+  else\n+    goto bb_3;\n+\n+bb_3:\n+  return;\n+\n+bb_4:\n+  ;\n+\n+bb_5:\n+  i_12 = __PHI (bb_6: i_9, bb_4: i_5);\n+  _1 = &a[i_12];\n+  a_p = _1;\n+  __MEM <int[1000]> ((int *)&a)[i_12] = 100;\n+  i_9 = i_5 + i_12;\n+  if (i_9 <= 999ll)\n+    goto bb_6;\n+  else\n+    goto bb_3;\n+\n+bb_6:\n+  ;\n+  goto bb_5;\n \n-        for (i=k; i<1000; i+=k) {\n-                a_p = &a[i];\n-                *a_p = 100;\n-        }\n }\n \n-/* { dg-final { scan-tree-dump-times \"&a\" 1 \"optimized\" } } */\n+/* { dg-final { scan-tree-dump-times \"&a\" 1 \"ivopts\" } } */"}]}