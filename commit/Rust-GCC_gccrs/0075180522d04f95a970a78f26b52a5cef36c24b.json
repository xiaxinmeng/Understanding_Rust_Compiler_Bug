{"sha": "0075180522d04f95a970a78f26b52a5cef36c24b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDA3NTE4MDUyMmQwNGY5NWE5NzBhNzhmMjZiNTJhNWNlZjM2YzI0Yg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-01-19T23:50:54Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-01-19T23:50:54Z"}, "message": "(plus of gtu patterns): Add case to handle immediates.\n\nFrom-SVN: r3285", "tree": {"sha": "558ac1756b62ccd5760151193b73d35c4d986920", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/558ac1756b62ccd5760151193b73d35c4d986920"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0075180522d04f95a970a78f26b52a5cef36c24b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0075180522d04f95a970a78f26b52a5cef36c24b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0075180522d04f95a970a78f26b52a5cef36c24b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0075180522d04f95a970a78f26b52a5cef36c24b/comments", "author": null, "committer": null, "parents": [{"sha": "cfcf04a6ba2d59801200aee8a17e9c6c881fe804", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfcf04a6ba2d59801200aee8a17e9c6c881fe804", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cfcf04a6ba2d59801200aee8a17e9c6c881fe804"}], "stats": {"total": 47, "additions": 28, "deletions": 19}, "files": [{"sha": "1e402f67892bdcc90f7a4e0093a195d4530a7d97", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 28, "deletions": 19, "changes": 47, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0075180522d04f95a970a78f26b52a5cef36c24b/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0075180522d04f95a970a78f26b52a5cef36c24b/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=0075180522d04f95a970a78f26b52a5cef36c24b", "patch": "@@ -4442,38 +4442,47 @@\n   [(set_attr \"type\" \"compare\")])\n \n (define_insn \"\"\n-  [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=r,r\")\n-\t(plus:SI (gtu:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,r\")\n-\t\t\t (match_operand:SI 2 \"reg_or_short_operand\" \"rI,rI\"))\n-\t\t (match_operand:SI 3 \"reg_or_short_operand\" \"r,I\")))\n-   (clobber (match_scratch:SI 4 \"=&r,&r\"))]\n+  [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=r,r,r\")\n+\t(plus:SI (gtu:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,r,r\")\n+\t\t\t (match_operand:SI 2 \"reg_or_short_operand\" \"I,r,rI\"))\n+\t\t (match_operand:SI 3 \"reg_or_short_operand\" \"r,r,I\")))\n+   (clobber (match_scratch:SI 4 \"=&r,&r,&r\"))]\n   \"\"\n-  \"sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf%I3 %0,%4,%3\")\n+  \"@\n+   ai %4,%1,%k2\\;aze %0,%3\n+   sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf%I3 %0,%4,%3\n+   sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf%I3 %0,%4,%3\")\n \n (define_insn \"\"\n-  [(set (match_operand:CC 0 \"cc_reg_operand\" \"=x,x\")\n+  [(set (match_operand:CC 0 \"cc_reg_operand\" \"=x,x,x\")\n \t(compare:CC\n-\t (plus:SI (gtu:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,r\")\n-\t\t\t  (match_operand:SI 2 \"reg_or_short_operand\" \"rI,rI\"))\n-\t\t  (match_operand:SI 3 \"reg_or_short_operand\" \"r,I\"))\n+\t (plus:SI (gtu:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,r,r\")\n+\t\t\t  (match_operand:SI 2 \"reg_or_short_operand\" \"I,r,rI\"))\n+\t\t  (match_operand:SI 3 \"reg_or_short_operand\" \"r,r,I\"))\n \t (const_int 0)))\n-   (clobber (match_scratch:SI 4 \"=&r,&r\"))]\n+   (clobber (match_scratch:SI 4 \"=&r,&r,&r\"))]\n   \"\"\n-  \"sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf%I3. %4,%4,%3\"\n+  \"@\n+   ai %4,%1,%k2\\;aze. %0,%3\n+   sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf%I3. %0,%4,%3\n+   sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf%I3. %0,%4,%3\"\n   [(set_attr \"type\" \"compare\")])\n \n (define_insn \"\"\n-  [(set (match_operand:CC 5 \"cc_reg_operand\" \"=x,x\")\n+  [(set (match_operand:CC 5 \"cc_reg_operand\" \"=x,x,x\")\n \t(compare:CC\n-\t (plus:SI (gtu:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,r\")\n-\t\t\t  (match_operand:SI 2 \"reg_or_short_operand\" \"rI,rI\"))\n-\t\t  (match_operand:SI 3 \"reg_or_short_operand\" \"r,I\"))\n+\t (plus:SI (gtu:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,r,r\")\n+\t\t\t  (match_operand:SI 2 \"reg_or_short_operand\" \"I,r,rI\"))\n+\t\t  (match_operand:SI 3 \"reg_or_short_operand\" \"r,r,I\"))\n \t (const_int 0)))\n-   (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r,r\")\n+   (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r,r,r\")\n \t(plus:SI (gtu:SI (match_dup 1) (match_dup 2)) (match_dup 3)))\n-   (clobber (match_scratch:SI 4 \"=&r,&r\"))]\n+   (clobber (match_scratch:SI 4 \"=&r,&r,&r\"))]\n   \"\"\n-  \"sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf%I3. %0,%4,%3\"\n+  \"@\n+   ai %4,%1,%k2\\;aze. %0,%3\n+   sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf%I3. %0,%4,%3\n+   sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf%I3. %0,%4,%3\"\n   [(set_attr \"type\" \"compare\")])\n \n (define_insn \"\""}]}