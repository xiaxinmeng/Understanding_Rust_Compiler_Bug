{"sha": "ce9d566844297f5d36887a0a19913fea8927e664", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2U5ZDU2Njg0NDI5N2Y1ZDM2ODg3YTBhMTk5MTNmZWE4OTI3ZTY2NA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2005-12-13T09:54:15Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2005-12-13T09:54:15Z"}, "message": "t-mt (MULTILIB_OPTIONS): Add ms2\n\n\t* config/mt/t-mt (MULTILIB_OPTIONS): Add ms2\n\t(MULTILIB_DIRNAMES): Add ms2.  Prefix ms1 dirs with 'ms1'.\n\t* config/mt/mt.c (ms1_final_prescan): Use TARGET_MS2,\n\tTARGET_MS1_64_001 appropriately.\n\t(ms1_machine_reorg): Use TARGET_MS2.\n\nFrom-SVN: r108477", "tree": {"sha": "64f41c1f3510f1b171d225b8444c21d8f00813be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/64f41c1f3510f1b171d225b8444c21d8f00813be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce9d566844297f5d36887a0a19913fea8927e664", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce9d566844297f5d36887a0a19913fea8927e664", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce9d566844297f5d36887a0a19913fea8927e664", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce9d566844297f5d36887a0a19913fea8927e664/comments", "author": null, "committer": null, "parents": [{"sha": "93fc8073fc425f684cc58ac301464c1e90f2770d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93fc8073fc425f684cc58ac301464c1e90f2770d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/93fc8073fc425f684cc58ac301464c1e90f2770d"}], "stats": {"total": 25, "additions": 16, "deletions": 9}, "files": [{"sha": "0a6bd70888f5938ef7434e8f8f6dd67433f59b84", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce9d566844297f5d36887a0a19913fea8927e664/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce9d566844297f5d36887a0a19913fea8927e664/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ce9d566844297f5d36887a0a19913fea8927e664", "patch": "@@ -1,3 +1,11 @@\n+2005-12-13  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* config/mt/t-mt (MULTILIB_OPTIONS): Add ms2\n+\t(MULTILIB_DIRNAMES): Add ms2.  Prefix ms1 dirs with 'ms1'.\n+\t* config/mt/mt.c (ms1_final_prescan): Use TARGET_MS2,\n+\tTARGET_MS1_64_001 appropriately.\n+\t(ms1_machine_reorg): Use TARGET_MS2.\n+\n 2005-12-13  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR debug/25023"}, {"sha": "675ec2df4bb81b87ac742294788d26915b8acff4", "filename": "gcc/config/mt/mt.c", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce9d566844297f5d36887a0a19913fea8927e664/gcc%2Fconfig%2Fmt%2Fmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce9d566844297f5d36887a0a19913fea8927e664/gcc%2Fconfig%2Fmt%2Fmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmt%2Fmt.c?ref=ce9d566844297f5d36887a0a19913fea8927e664", "patch": "@@ -221,7 +221,7 @@ ms1_final_prescan_insn (rtx   insn,\n   ms1_nop_reasons = \"\";\n \n   /* ms2 constraints are dealt with in reorg.  */\n-  if (ms1_cpu == PROCESSOR_MS2)\n+  if (TARGET_MS2)\n     return;\n   \n   /* Only worry about real instructions.  */\n@@ -257,7 +257,7 @@ ms1_final_prescan_insn (rtx   insn,\n     case TYPE_STORE:\n       /* Avoid consecutive memory operation.  */\n       if  ((prev_attr == TYPE_LOAD || prev_attr == TYPE_STORE)\n-\t   && ms1_cpu == PROCESSOR_MS1_64_001)\n+\t   && TARGET_MS1_64_001)\n \t{\n \t  ms1_nops_required = 1;\n \t  ms1_nop_reasons = \"consecutive mem ops\";\n@@ -279,8 +279,7 @@ ms1_final_prescan_insn (rtx   insn,\n     case TYPE_BRANCH:\n       if (insn_dependent_p (prev_i, insn))\n \t{\n-\t  if (prev_attr == TYPE_ARITH\n-\t      && ms1_cpu == PROCESSOR_MS1_64_001)\n+\t  if (prev_attr == TYPE_ARITH && TARGET_MS1_64_001)\n \t    {\n \t      /* One cycle of delay between arith\n \t\t instructions and branch dependent on arith.  */\n@@ -291,7 +290,7 @@ ms1_final_prescan_insn (rtx   insn,\n \t    {\n \t      /* Two cycles of delay are required\n \t\t between load and dependent branch.  */\n-\t      if (ms1_cpu == PROCESSOR_MS1_64_001)\n+\t      if (TARGET_MS1_64_001)\n \t\tms1_nops_required = 2;\n \t      else\n \t\tms1_nops_required = 1;\n@@ -2465,13 +2464,13 @@ ms1_reorg_hazard (void)\n static void\n ms1_machine_reorg (void)\n {\n-  if (cfun->machine->has_loops)\n+  if (cfun->machine->has_loops && TARGET_MS2)\n     ms1_reorg_loops (dump_file);\n \n   if (ms1_flag_delayed_branch)\n     dbr_schedule (get_insns (), dump_file);\n   \n-  if (ms1_cpu == PROCESSOR_MS2)\n+  if (TARGET_MS2)\n     ms1_reorg_hazard ();\n }\n \f"}, {"sha": "24924e45c0844782561fadc9789c2657b6f6c842", "filename": "gcc/config/mt/t-mt", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce9d566844297f5d36887a0a19913fea8927e664/gcc%2Fconfig%2Fmt%2Ft-mt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce9d566844297f5d36887a0a19913fea8927e664/gcc%2Fconfig%2Fmt%2Ft-mt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmt%2Ft-mt?ref=ce9d566844297f5d36887a0a19913fea8927e664", "patch": "@@ -59,8 +59,8 @@ crtn.o: $(srcdir)/config/mt/crtn.asm $(GCC_PASSES)\n # See gcc/genmultilib, gcc/gcc.texi and gcc/tm.texi for a\n # description of the options and their values.\n #\n-MULTILIB_OPTIONS    = march=ms1-64-001/march=ms1-16-002/march=ms1-16-003\n-MULTILIB_DIRNAMES   = 64-001 16-002 16-003\n+MULTILIB_OPTIONS    = march=ms1-64-001/march=ms1-16-002/march=ms1-16-003/march=ms2\n+MULTILIB_DIRNAMES   = ms1-64-001 ms1-16-002 ms1-16-003 ms2\n # MULTILIB_MATCHES    =\n # MULTILIB_EXCEPTIONS =\n # MULTILIB_EXTRA_OPTS = "}]}