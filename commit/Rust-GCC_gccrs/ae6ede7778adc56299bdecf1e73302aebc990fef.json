{"sha": "ae6ede7778adc56299bdecf1e73302aebc990fef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWU2ZWRlNzc3OGFkYzU2Mjk5YmRlY2YxZTczMzAyYWViYzk5MGZlZg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-10-11T09:34:17Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-10-11T09:34:17Z"}, "message": "[multiple changes]\n\n2010-10-11  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_res.adb (Resolve_Entry_Call): Generate 's' reference for entry\n\tcall.\n\t* sem_ch6.adb: Diagnose additional error condition.\n\n2010-10-11  Bob Duff  <duff@adacore.com>\n\n\t* par.adb (Par): Clarify wording of certain error messages.\n\nFrom-SVN: r165286", "tree": {"sha": "8843afa54cc5e7d610920ba3e29992ef9ff7bc9b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8843afa54cc5e7d610920ba3e29992ef9ff7bc9b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae6ede7778adc56299bdecf1e73302aebc990fef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae6ede7778adc56299bdecf1e73302aebc990fef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae6ede7778adc56299bdecf1e73302aebc990fef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae6ede7778adc56299bdecf1e73302aebc990fef/comments", "author": null, "committer": null, "parents": [{"sha": "9c870c905e4fe4f70cce91aa968273df5125a21a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c870c905e4fe4f70cce91aa968273df5125a21a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c870c905e4fe4f70cce91aa968273df5125a21a"}], "stats": {"total": 37, "additions": 27, "deletions": 10}, "files": [{"sha": "156adc6b4a031dbed233654cdb317ad62b49fe4e", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae6ede7778adc56299bdecf1e73302aebc990fef/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae6ede7778adc56299bdecf1e73302aebc990fef/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=ae6ede7778adc56299bdecf1e73302aebc990fef", "patch": "@@ -1,3 +1,13 @@\n+2010-10-11  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_res.adb (Resolve_Entry_Call): Generate 's' reference for entry\n+\tcall.\n+\t* sem_ch6.adb: Diagnose additional error condition.\n+\n+2010-10-11  Bob Duff  <duff@adacore.com>\n+\n+\t* par.adb (Par): Clarify wording of certain error messages.\n+\n 2010-10-11  Gary Dismukes  <dismukes@adacore.com>\n \n \t* sem_disp.adb (Check_Dispatching_Operation): Revise test for warning"}, {"sha": "b8a95a68d39d884fb3647d3c6aa4dfea88af8894", "filename": "gcc/ada/par.adb", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae6ede7778adc56299bdecf1e73302aebc990fef/gcc%2Fada%2Fpar.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae6ede7778adc56299bdecf1e73302aebc990fef/gcc%2Fada%2Fpar.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar.adb?ref=ae6ede7778adc56299bdecf1e73302aebc990fef", "patch": "@@ -1375,7 +1375,7 @@ begin\n \n             begin\n                --  If parsing was successful and we are not in check syntax\n-               --  mode, check that language defined units are compiled in GNAT\n+               --  mode, check that language-defined units are compiled in GNAT\n                --  mode. For this purpose we do NOT consider renamings in annex\n                --  J as predefined. That allows users to compile their own\n                --  versions of these files, and in particular, in the VMS\n@@ -1406,25 +1406,25 @@ begin\n                         Name = \"system\"\n                      then\n                         Error_Msg\n-                          (\"language defined units may not be recompiled\",\n+                          (\"language-defined units cannot be recompiled\",\n                            Sloc (Unit (Comp_Unit_Node)));\n \n                      elsif Name'Length > 4\n                        and then\n                          Name (Name'First .. Name'First + 3) = \"ada.\"\n                      then\n                         Error_Msg\n-                          (\"descendents of package Ada \" &\n-                             \"may not be compiled\",\n+                          (\"user-defined descendents of package Ada \" &\n+                             \"are not allowed\",\n                            Sloc (Unit (Comp_Unit_Node)));\n \n                      elsif Name'Length > 11\n                        and then\n                          Name (Name'First .. Name'First + 10) = \"interfaces.\"\n                      then\n                         Error_Msg\n-                          (\"descendents of package Interfaces \" &\n-                             \"may not be compiled\",\n+                          (\"user-defined descendents of package Interfaces \" &\n+                             \"are not allowed\",\n                            Sloc (Unit (Comp_Unit_Node)));\n \n                      elsif Name'Length > 7\n@@ -1436,8 +1436,8 @@ begin\n                                                                  \"system.rpc.\")\n                      then\n                         Error_Msg\n-                          (\"descendents of package System \" &\n-                             \"may not be compiled\",\n+                          (\"user-defined descendents of package System \" &\n+                             \"are not allowed\",\n                            Sloc (Unit (Comp_Unit_Node)));\n                      end if;\n                   end;"}, {"sha": "7c79042f6e22437bbf605483abc6b5723cb9b751", "filename": "gcc/ada/sem_ch6.adb", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae6ede7778adc56299bdecf1e73302aebc990fef/gcc%2Fada%2Fsem_ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae6ede7778adc56299bdecf1e73302aebc990fef/gcc%2Fada%2Fsem_ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch6.adb?ref=ae6ede7778adc56299bdecf1e73302aebc990fef", "patch": "@@ -5915,7 +5915,11 @@ package body Sem_Ch6 is\n                null;\n \n             elsif In_Package_Body (Scope (Typ)) then\n-               null;   --  warrants a warning ???\n+               Error_Msg_NE\n+                 (\"equality operator must be declared \"\n+                   & \"before type& is frozen\", Eq_Op, Typ);\n+               Error_Msg_N\n+                 (\"\\move declaration to package spec\", Eq_Op);\n \n             else\n                Error_Msg_NE"}, {"sha": "3cd4c767845aae206ce2d1bfbb1ca4c33f303ff4", "filename": "gcc/ada/sem_res.adb", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae6ede7778adc56299bdecf1e73302aebc990fef/gcc%2Fada%2Fsem_res.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae6ede7778adc56299bdecf1e73302aebc990fef/gcc%2Fada%2Fsem_res.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_res.adb?ref=ae6ede7778adc56299bdecf1e73302aebc990fef", "patch": "@@ -6328,7 +6328,10 @@ package body Sem_Res is\n       end if;\n \n       Resolve_Actuals (N, Nam);\n-      Generate_Reference (Nam, Entry_Name);\n+\n+      --  Create a call reference to the entry\n+\n+      Generate_Reference (Nam, Entry_Name, 's');\n \n       if Ekind_In (Nam, E_Entry, E_Entry_Family) then\n          Check_Potentially_Blocking_Operation (N);"}]}