{"sha": "3bb24246626de6168ef3cefbd53180d1234babc3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2JiMjQyNDY2MjZkZTYxNjhlZjNjZWZiZDUzMTgwZDEyMzRiYWJjMw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-06-24T02:47:33Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-06-24T02:47:33Z"}, "message": "(find_splittable_givs): Set splittable_regs_updates to\nbiv_count for reduced givs.\n\nFrom-SVN: r14296", "tree": {"sha": "4dc84dda6ea0dae762348f72adeb7dfb0a47fbe7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4dc84dda6ea0dae762348f72adeb7dfb0a47fbe7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3bb24246626de6168ef3cefbd53180d1234babc3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3bb24246626de6168ef3cefbd53180d1234babc3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3bb24246626de6168ef3cefbd53180d1234babc3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3bb24246626de6168ef3cefbd53180d1234babc3/comments", "author": null, "committer": null, "parents": [{"sha": "3dfa8ff88d1ab90133db0e157987cd945b92cbb4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3dfa8ff88d1ab90133db0e157987cd945b92cbb4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3dfa8ff88d1ab90133db0e157987cd945b92cbb4"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "3f5c548994fa0496b56ddc42258e91c0816e23be", "filename": "gcc/unroll.c", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3bb24246626de6168ef3cefbd53180d1234babc3/gcc%2Funroll.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3bb24246626de6168ef3cefbd53180d1234babc3/gcc%2Funroll.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funroll.c?ref=3bb24246626de6168ef3cefbd53180d1234babc3", "patch": "@@ -2971,12 +2971,19 @@ find_splittable_givs (bl, unroll_type, loop_start, loop_end, increment,\n #endif\n \t}\n       \n-      /* Givs are only updated once by definition.  Mark it so if this is\n+      /* Unreduced givs are only updated once by definition.  Reduced givs\n+\t are updated as many times as their biv is.  Mark it so if this is\n \t a splittable register.  Don't need to do anything for address givs\n \t where this may not be a register.  */\n \n       if (GET_CODE (v->new_reg) == REG)\n-\tsplittable_regs_updates[REGNO (v->new_reg)] = 1;\n+\t{\n+\t  int count = 1;\n+\t  if (! v->ignore)\n+\t    count = reg_biv_class[REGNO (v->src_reg)]->biv_count;\n+\n+\t  splittable_regs_updates[REGNO (v->new_reg)] = count;\n+\t}\n \n       result++;\n       "}]}