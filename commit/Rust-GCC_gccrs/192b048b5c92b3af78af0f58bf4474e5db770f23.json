{"sha": "192b048b5c92b3af78af0f58bf4474e5db770f23", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTkyYjA0OGI1YzkyYjNhZjc4YWYwZjU4YmY0NDc0ZTVkYjc3MGYyMw==", "commit": {"author": {"name": "Marek Polacek", "email": "polacek@redhat.com", "date": "2017-02-09T17:07:26Z"}, "committer": {"name": "Marek Polacek", "email": "mpolacek@gcc.gnu.org", "date": "2017-02-09T17:07:26Z"}, "message": "re PR c/79428 (ICE in c_parser_consume_token, at c/c-parser.c:770)\n\n\tPR c/79428\n\t* c-parser.c (c_parser_omp_ordered): Call c_parser_skip_to_pragma_eol\n\tinstead of c_parser_skip_until_found.\n\n\t* c-c++-common/cilk-plus/CK/pr79428-4.c: New test.\n\t* c-c++-common/cilk-plus/CK/pr79428-7.c: New test.\n\t* c-c++-common/goacc/pr79428-1.c: New test.\n\t* c-c++-common/gomp/pr79428-2.c: New test.\n\t* c-c++-common/gomp/pr79428-5.c: New test.\n\t* c-c++-common/gomp/pr79428-6.c: New test.\n\t* c-c++-common/pr79428-3.c: New test.\n\nFrom-SVN: r245309", "tree": {"sha": "23d525315e67d786e296515f2dfec0bfc9d32732", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/23d525315e67d786e296515f2dfec0bfc9d32732"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/192b048b5c92b3af78af0f58bf4474e5db770f23", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/192b048b5c92b3af78af0f58bf4474e5db770f23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/192b048b5c92b3af78af0f58bf4474e5db770f23", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/192b048b5c92b3af78af0f58bf4474e5db770f23/comments", "author": {"login": "mpolacek", "id": 10496300, "node_id": "MDQ6VXNlcjEwNDk2MzAw", "avatar_url": "https://avatars.githubusercontent.com/u/10496300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpolacek", "html_url": "https://github.com/mpolacek", "followers_url": "https://api.github.com/users/mpolacek/followers", "following_url": "https://api.github.com/users/mpolacek/following{/other_user}", "gists_url": "https://api.github.com/users/mpolacek/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpolacek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpolacek/subscriptions", "organizations_url": "https://api.github.com/users/mpolacek/orgs", "repos_url": "https://api.github.com/users/mpolacek/repos", "events_url": "https://api.github.com/users/mpolacek/events{/privacy}", "received_events_url": "https://api.github.com/users/mpolacek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e9a9033b5969aac9b3e0269c78a9feeeb614c3bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9a9033b5969aac9b3e0269c78a9feeeb614c3bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e9a9033b5969aac9b3e0269c78a9feeeb614c3bd"}], "stats": {"total": 47, "additions": 46, "deletions": 1}, "files": [{"sha": "95784d80212c5dbe0f012cfb868d85ae447edbad", "filename": "gcc/c/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Fc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Fc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2FChangeLog?ref=192b048b5c92b3af78af0f58bf4474e5db770f23", "patch": "@@ -1,3 +1,9 @@\n+2017-02-09  Marek Polacek  <polacek@redhat.com>\n+\n+\tPR c/79428\n+\t* c-parser.c (c_parser_omp_ordered): Call c_parser_skip_to_pragma_eol\n+\tinstead of c_parser_skip_until_found.\n+\n 2017-02-09  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c/79431"}, {"sha": "e29924bef6b7c7d9d855bce2f7c9882ee5406116", "filename": "gcc/c/c-parser.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Fc%2Fc-parser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Fc%2Fc-parser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2Fc-parser.c?ref=192b048b5c92b3af78af0f58bf4474e5db770f23", "patch": "@@ -15462,7 +15462,7 @@ c_parser_omp_ordered (c_parser *parser, enum pragma_context context,\n   if (context != pragma_stmt && context != pragma_compound)\n     {\n       c_parser_error (parser, \"expected declaration specifiers\");\n-      c_parser_skip_until_found (parser, CPP_PRAGMA_EOL, NULL);\n+      c_parser_skip_to_pragma_eol (parser, false);\n       return false;\n     }\n "}, {"sha": "c1161fb5338ad5767c0b62a05051f3c165f618e4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=192b048b5c92b3af78af0f58bf4474e5db770f23", "patch": "@@ -1,3 +1,14 @@\n+2017-02-09  Marek Polacek  <polacek@redhat.com>\n+\n+\tPR c/79428\n+\t* c-c++-common/cilk-plus/CK/pr79428-4.c: New test.\n+\t* c-c++-common/cilk-plus/CK/pr79428-7.c: New test.\n+\t* c-c++-common/goacc/pr79428-1.c: New test.\n+\t* c-c++-common/gomp/pr79428-2.c: New test.\n+\t* c-c++-common/gomp/pr79428-5.c: New test.\n+\t* c-c++-common/gomp/pr79428-6.c: New test.\n+\t* c-c++-common/pr79428-3.c: New test.\n+\n 2017-02-09  Andreas Krebbel  <krebbel@linux.vnet.ibm.com>\n \n \t* gcc.target/s390/s390.exp: Fix test glob pattern for vector"}, {"sha": "cd4d40686a5c879433e608e906e0d06e150efd6e", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/pr79428-4.c", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr79428-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr79428-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr79428-4.c?ref=192b048b5c92b3af78af0f58bf4474e5db770f23", "patch": "@@ -0,0 +1,3 @@\n+/* PR c/79428 */\n+/* { dg-options \"-fcilkplus\" } */\n+#pragma cilk grainsize /* { dg-error \"must be inside a function\" } */"}, {"sha": "bc36f51d914b75cdd0ba5a0413896f55463d440e", "filename": "gcc/testsuite/c-c++-common/cilk-plus/CK/pr79428-7.c", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr79428-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr79428-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FCK%2Fpr79428-7.c?ref=192b048b5c92b3af78af0f58bf4474e5db770f23", "patch": "@@ -0,0 +1,3 @@\n+/* PR c/79428 */\n+/* { dg-options \"-fcilkplus\" } */\n+#pragma simd /* { dg-error \"must be inside a function\" } */"}, {"sha": "cf4aeaf684133c05a18fba9932130230168bd7dc", "filename": "gcc/testsuite/c-c++-common/goacc/pr79428-1.c", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fpr79428-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fpr79428-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fpr79428-1.c?ref=192b048b5c92b3af78af0f58bf4474e5db770f23", "patch": "@@ -0,0 +1,6 @@\n+/* PR c/79428 */\n+/* { dg-options \"-fopenacc\" } */\n+void\n+foo ()\n+{\n+#pragma acc routine /* { dg-error \".#pragma acc routine. must be at file scope|expected\" } */"}, {"sha": "a26c462dbbdfbf2fd2e4822398ffe9268ee1a17a", "filename": "gcc/testsuite/c-c++-common/gomp/pr79428-2.c", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fpr79428-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fpr79428-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fpr79428-2.c?ref=192b048b5c92b3af78af0f58bf4474e5db770f23", "patch": "@@ -0,0 +1,7 @@\n+/* PR c/79428 */\n+/* { dg-options \"-fopenmp\" } */\n+void\n+foo ()\n+{\n+#pragma omp sections\n+#pragma omp section /* { dg-error \"'#pragma omp section' may only be used in '#pragma omp sections' construct|not allowed|expected\" } */"}, {"sha": "4f2127bccdff591d8def612b54b64a006a958acf", "filename": "gcc/testsuite/c-c++-common/gomp/pr79428-5.c", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fpr79428-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fpr79428-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fpr79428-5.c?ref=192b048b5c92b3af78af0f58bf4474e5db770f23", "patch": "@@ -0,0 +1,3 @@\n+/* PR c/79428 */\n+/* { dg-options \"-fopenmp\" } */\n+#pragma omp ordered /* { dg-error \"expected declaration specifiers before end of line\" } */"}, {"sha": "7e833e27dcab4964e354f7bc0344374090426a73", "filename": "gcc/testsuite/c-c++-common/gomp/pr79428-6.c", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fpr79428-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fpr79428-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fpr79428-6.c?ref=192b048b5c92b3af78af0f58bf4474e5db770f23", "patch": "@@ -0,0 +1,3 @@\n+/* PR c/79428 */\n+/* { dg-options \"-fopenmp\" } */\n+#pragma omp target /* { dg-error \"expected declaration specifiers before end of line\" } */"}, {"sha": "ec7077de55f8aafbe0b32457968c1c2b0d4c0ac2", "filename": "gcc/testsuite/c-c++-common/pr79428-3.c", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fpr79428-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192b048b5c92b3af78af0f58bf4474e5db770f23/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fpr79428-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fpr79428-3.c?ref=192b048b5c92b3af78af0f58bf4474e5db770f23", "patch": "@@ -0,0 +1,3 @@\n+/* PR c/79428 */\n+int i;\n+#pragma GCC pch_preprocess /* { dg-error \"'#pragma GCC pch_preprocess' must be first\" } */"}]}