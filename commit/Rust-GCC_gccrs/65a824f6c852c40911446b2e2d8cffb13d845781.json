{"sha": "65a824f6c852c40911446b2e2d8cffb13d845781", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjVhODI0ZjZjODUyYzQwOTExNDQ2YjJlMmQ4Y2ZmYjEzZDg0NTc4MQ==", "commit": {"author": {"name": "Jason Thorpe", "email": "thorpej@wasabisystems.com", "date": "2002-09-22T17:57:10Z"}, "committer": {"name": "Jason Thorpe", "email": "thorpej@gcc.gnu.org", "date": "2002-09-22T17:57:10Z"}, "message": "configure.in (with_headers): Skip copy if value is \"yes\".\n\n* configure.in (with_headers): Skip copy if value is \"yes\".\n(with_libs): Likewise.\n\n* doc/install.texi: Document behavior of --with-headers and\n--with-libs when arguments are omitted.\n\nFrom-SVN: r57411", "tree": {"sha": "7d2a000e7c7adda5d6cd93f85a54b8d830d2bd95", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7d2a000e7c7adda5d6cd93f85a54b8d830d2bd95"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/65a824f6c852c40911446b2e2d8cffb13d845781", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65a824f6c852c40911446b2e2d8cffb13d845781", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65a824f6c852c40911446b2e2d8cffb13d845781", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65a824f6c852c40911446b2e2d8cffb13d845781/comments", "author": null, "committer": null, "parents": [{"sha": "cc2902df52a39b343d5094a39d3e6efb868015de", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc2902df52a39b343d5094a39d3e6efb868015de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc2902df52a39b343d5094a39d3e6efb868015de"}], "stats": {"total": 75, "additions": 47, "deletions": 28}, "files": [{"sha": "71c593f05636636442d9b1b6cc2830314a28f623", "filename": "ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65a824f6c852c40911446b2e2d8cffb13d845781/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65a824f6c852c40911446b2e2d8cffb13d845781/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=65a824f6c852c40911446b2e2d8cffb13d845781", "patch": "@@ -1,3 +1,8 @@\n+2002-09-22  Jason Thorpe  <thorpej@wasabisystems.com>\n+\n+\t* configure.in (with_headers): Skip copy if value is \"yes\".\n+\t(with_libs): Likewise.\n+\n 2002-09-20  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* configure.in (*-*-netbsd*): Use noconfigdirs, not skipdirs."}, {"sha": "2491fa77e46de9c36fe3e53cbd2b54b9aa29c2f7", "filename": "configure.in", "status": "modified", "additions": 23, "deletions": 18, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65a824f6c852c40911446b2e2d8cffb13d845781/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65a824f6c852c40911446b2e2d8cffb13d845781/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=65a824f6c852c40911446b2e2d8cffb13d845781", "patch": "@@ -876,36 +876,41 @@ esac\n \n copy_dirs=\n \n-# Handle --with-headers=XXX.  The contents of the named directory are\n-# copied to $(tooldir)/sys-include.\n+# Handle --with-headers=XXX.  If the value is not \"yes\", the contents of\n+# the named directory are copied to $(tooldir)/sys-include.\n if test x\"${with_headers}\" != x ; then\n   if test x${is_cross_compiler} = xno ; then\n     echo 1>&2 '***' --with-headers is only supported when cross compiling\n     exit 1\n   fi\n-  case \"${exec_prefixoption}\" in\n-  \"\") x=${prefix} ;;\n-  *) x=${exec_prefix} ;;\n-  esac\n-  copy_dirs=\"${copy_dirs} ${with_headers} $x/${target_alias}/sys-include\"\n+  if test x\"${with_headers}\" != xyes ; then\n+    case \"${exec_prefixoption}\" in\n+    \"\") x=${prefix} ;;\n+    *) x=${exec_prefix} ;;\n+    esac\n+    copy_dirs=\"${copy_dirs} ${with_headers} $x/${target_alias}/sys-include\"\n+  fi\n fi\n \n-# Handle --with-libs=XXX.  Multiple directories are permitted.  The\n-# contents are copied to $(tooldir)/lib.\n+# Handle --with-libs=XXX.  If the value is not \"yes\", the contents of\n+# the name directories are copied to $(tooldir)/lib.  Multiple directories\n+# are permitted.\n if test x\"${with_libs}\" != x ; then\n   if test x${is_cross_compiler} = xno ; then\n     echo 1>&2 '***' --with-libs is only supported when cross compiling\n     exit 1\n   fi\n-  # Copy the libraries in reverse order, so that files in the first named\n-  # library override files in subsequent libraries.\n-  case \"${exec_prefixoption}\" in\n-  \"\") x=${prefix} ;;\n-  *) x=${exec_prefix} ;;\n-  esac\n-  for l in ${with_libs}; do\n-    copy_dirs=\"$l $x/${target_alias}/lib ${copy_dirs}\"\n-  done\n+  if test x\"${with_libs}\" != xyes ; then\n+    # Copy the libraries in reverse order, so that files in the first named\n+    # library override files in subsequent libraries.\n+    case \"${exec_prefixoption}\" in\n+    \"\") x=${prefix} ;;\n+    *) x=${exec_prefix} ;;\n+    esac\n+    for l in ${with_libs}; do\n+      copy_dirs=\"$l $x/${target_alias}/lib ${copy_dirs}\"\n+    done\n+  fi\n fi\n \n # Handle ${copy_dirs}"}, {"sha": "051b3c3d9194c0e36d523c5879d9516240213d8e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65a824f6c852c40911446b2e2d8cffb13d845781/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65a824f6c852c40911446b2e2d8cffb13d845781/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=65a824f6c852c40911446b2e2d8cffb13d845781", "patch": "@@ -1,3 +1,8 @@\n+2002-09-22  Jason Thorpe  <thorpej@wasabisystems.com>\n+\n+\t* doc/install.texi: Document behavior of --with-headers and\n+\t--with-libs when arguments are omitted.\n+\n 2002-09-22  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* dbxout.c: Follow spelling conventions."}, {"sha": "1c27024c1ae3a95bbb7c88dc22fa99553424bc99", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 14, "deletions": 10, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65a824f6c852c40911446b2e2d8cffb13d845781/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65a824f6c852c40911446b2e2d8cffb13d845781/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=65a824f6c852c40911446b2e2d8cffb13d845781", "patch": "@@ -883,18 +883,22 @@ forward to maintain the port.\n \n Some options which only apply to building cross compilers:\n @table @code\n-@item --with-headers=@var{dir}\n-Specifies a directory\n-which has target include files.\n-@emph{This option is required} when building a cross\n-compiler, if @file{@var{prefix}/@var{target}/sys-include} doesn't pre-exist.\n-These include files will be copied into the @file{gcc} install directory.\n-@command{fixincludes} will be run on these files to make them compatible with\n-GCC.\n-@item --with-libs=``@var{dir1} @var{dir2} @dots{} @var{dirN}''\n+@item --with-headers\n+@itemx --with-headers=@var{dir}\n+Specifies that target headers are available when building a cross compiler.\n+The @var{dir} argument specifies a directory which has the target include\n+files.  These include files will be copied into the @file{gcc} install\n+directory.  @emph{This option with the @var{dir} argument is required} when\n+building a cross compiler, if @file{@var{prefix}/@var{target}/sys-include}\n+doesn't pre-exist.  If @file{@var{prefix}/@var{target}/sys-include} does\n+pre-exist, the @var{dir} argument may be omitted.  @command{fixincludes}\n+will be run on these files to make them compatible with GCC.\n+@item --with-libs\n+@itemx --with-libs=``@var{dir1} @var{dir2} @dots{} @var{dirN}''\n Specifies a list of directories which contain the target runtime\n libraries.  These libraries will be copied into the @file{gcc} install\n-directory.\n+directory.  If the directory list is omitted, this option has no\n+effect.\n @item --with-newlib\n Specifies that @samp{newlib} is\n being used as the target C library.  This causes @code{__eprintf} to be"}]}