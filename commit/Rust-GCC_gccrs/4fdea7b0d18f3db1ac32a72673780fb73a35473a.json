{"sha": "4fdea7b0d18f3db1ac32a72673780fb73a35473a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGZkZWE3YjBkMThmM2RiMWFjMzJhNzI2NzM3ODBmYjczYTM1NDczYQ==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1999-03-16T16:25:14Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1999-03-16T16:25:14Z"}, "message": "parse.y (java_complete_lhs): Call force_evaluation_order after patch_newarray.\n\nx\n\t* parse.y (java_complete_lhs):  Call force_evaluation_order\n\tafter patch_newarray.\n\t(patch_binop):  Don't call fold if there are side effects.\n\nFrom-SVN: r25807", "tree": {"sha": "99334cb36e515f04b27fef87a4cfa2a110fba082", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/99334cb36e515f04b27fef87a4cfa2a110fba082"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4fdea7b0d18f3db1ac32a72673780fb73a35473a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fdea7b0d18f3db1ac32a72673780fb73a35473a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4fdea7b0d18f3db1ac32a72673780fb73a35473a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fdea7b0d18f3db1ac32a72673780fb73a35473a/comments", "author": null, "committer": null, "parents": [{"sha": "aee48ef856de3b97ef0c7335389a72180711d931", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aee48ef856de3b97ef0c7335389a72180711d931", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aee48ef856de3b97ef0c7335389a72180711d931"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "dbefe7eaf8044d12d323b4fef61fda6e832bd6d8", "filename": "gcc/java/parse.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fdea7b0d18f3db1ac32a72673780fb73a35473a/gcc%2Fjava%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fdea7b0d18f3db1ac32a72673780fb73a35473a/gcc%2Fjava%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.c?ref=4fdea7b0d18f3db1ac32a72673780fb73a35473a", "patch": "@@ -10491,7 +10491,8 @@ java_complete_lhs (node)\n       /* They complete the array creation expression, if no errors\n          were found. */\n       CAN_COMPLETE_NORMALLY (node) = 1;\n-      return (flag ? error_mark_node : patch_newarray (node));\n+      return (flag ? error_mark_node\n+\t      : force_evaluation_order (patch_newarray (node)));\n \n     case NEW_CLASS_EXPR:\n     case CALL_EXPR:\n@@ -11870,7 +11871,10 @@ patch_binop (node, wfl_op1, wfl_op2)\n   TREE_TYPE (node) = prom_type;\n   TREE_SIDE_EFFECTS (node) = TREE_SIDE_EFFECTS (op1) | TREE_SIDE_EFFECTS (op2);\n   \n-  return fold (node);\n+  /* fold does not respect side-effect order as required for Java but not C. */\n+  if (! TREE_SIDE_EFFECTS (node))\n+    node = fold (node);\n+  return node;\n }\n \n /* Concatenate the STRING_CST CSTE and STRING. When AFTER is a non"}]}