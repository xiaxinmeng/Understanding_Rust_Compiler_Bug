{"sha": "7605d4dcdade606a9dd61801d700b92ac84ee05a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzYwNWQ0ZGNkYWRlNjA2YTlkZDYxODAxZDcwMGI5MmFjODRlZTA1YQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2014-10-01T20:40:29Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2014-10-01T20:40:29Z"}, "message": "re PR target/63428 (vshuf-v4di.c miscompilation)\n\n\tPR target/63428\n\t* config/i386/i386.c (expand_vec_perm_pshufb): Fix up rperm[0]\n\targument to avx2_permv2ti.\n\n\t* gcc.dg/torture/vshuf-4.inc: Move test 122 from EXPTESTS\n\tto test 24 in TESTS.\n\nFrom-SVN: r215776", "tree": {"sha": "01553cb66a0c4b6dcfbd1f56124e30bf38ba04a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/01553cb66a0c4b6dcfbd1f56124e30bf38ba04a8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7605d4dcdade606a9dd61801d700b92ac84ee05a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7605d4dcdade606a9dd61801d700b92ac84ee05a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7605d4dcdade606a9dd61801d700b92ac84ee05a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7605d4dcdade606a9dd61801d700b92ac84ee05a/comments", "author": null, "committer": null, "parents": [{"sha": "4681f59563ac941fb7a2e764150ddf65d7ff91a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4681f59563ac941fb7a2e764150ddf65d7ff91a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4681f59563ac941fb7a2e764150ddf65d7ff91a0"}], "stats": {"total": 22, "additions": 17, "deletions": 5}, "files": [{"sha": "04637b05527c46b2e008e0c478551a557e93a070", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7605d4dcdade606a9dd61801d700b92ac84ee05a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7605d4dcdade606a9dd61801d700b92ac84ee05a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7605d4dcdade606a9dd61801d700b92ac84ee05a", "patch": "@@ -1,3 +1,9 @@\n+2014-10-01  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/63428\n+\t* config/i386/i386.c (expand_vec_perm_pshufb): Fix up rperm[0]\n+\targument to avx2_permv2ti.\n+\n 2014-10-01  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n \n \t* config/arm/arm.md (*store_minmaxsi): Disable for arm_restrict_it."}, {"sha": "84484bb25128a7fcbac463e129fc7d248927a3e2", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7605d4dcdade606a9dd61801d700b92ac84ee05a/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7605d4dcdade606a9dd61801d700b92ac84ee05a/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=7605d4dcdade606a9dd61801d700b92ac84ee05a", "patch": "@@ -42961,8 +42961,8 @@ expand_vec_perm_pshufb (struct expand_vec_perm_d *d)\n \t      op0 = gen_lowpart (V4DImode, d->op0);\n \t      op1 = gen_lowpart (V4DImode, d->op1);\n \t      rperm[0]\n-\t\t= GEN_INT (((d->perm[0] & (nelt / 2)) ? 1 : 0)\n-\t\t\t   || ((d->perm[nelt / 2] & (nelt / 2)) ? 2 : 0));\n+\t\t= GEN_INT ((d->perm[0] / (nelt / 2))\n+\t\t\t   | ((d->perm[nelt / 2] / (nelt / 2)) * 16));\n \t      emit_insn (gen_avx2_permv2ti (target, op0, op1, rperm[0]));\n \t      if (target != d->target)\n \t\temit_move_insn (d->target, gen_lowpart (d->vmode, target));"}, {"sha": "213d2763e2711690698a2932d8d18e218fb16d68", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7605d4dcdade606a9dd61801d700b92ac84ee05a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7605d4dcdade606a9dd61801d700b92ac84ee05a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7605d4dcdade606a9dd61801d700b92ac84ee05a", "patch": "@@ -1,6 +1,12 @@\n+2014-10-01  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/63428\n+\t* gcc.dg/torture/vshuf-4.inc: Move test 122 from EXPTESTS\n+\tto test 24 in TESTS.\n+\n 2014-10-01  Bernhard Reutner-Fischer  <aldot@gcc.gnu.org>\n \n-\t* lib/target-supports.exp: error out with preprocessor condition\n+\t* lib/target-supports.exp: Error out with preprocessor condition\n \tinstead of FOO everywhere.\n \n 2014-10-01  Edward Smith-Rowland  <3dw4rd@verizon.net>"}, {"sha": "d0cb7387ca36c8b5de4e458c6dae4a1abd12e5d4", "filename": "gcc/testsuite/gcc.dg/torture/vshuf-4.inc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7605d4dcdade606a9dd61801d700b92ac84ee05a/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-4.inc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7605d4dcdade606a9dd61801d700b92ac84ee05a/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-4.inc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-4.inc?ref=7605d4dcdade606a9dd61801d700b92ac84ee05a", "patch": "@@ -23,15 +23,15 @@ T (19,\t3, 2, 1, 0) \\\n T (20,\t0, 4, 1, 5) \\\n T (21,\t2, 6, 3, 7) \\\n T (22,\t1, 2, 3, 0) \\\n-T (23,\t2, 1, 0, 3)\n+T (23,\t2, 1, 0, 3) \\\n+T (24,\t2, 5, 6, 3)\n #define EXPTESTS \\\n T (116,\t1, 2, 4, 3) \\\n T (117,\t7, 3, 3, 0) \\\n T (118,\t5, 3, 2, 7) \\\n T (119,\t0, 3, 5, 6) \\\n T (120,\t0, 0, 1, 5) \\\n T (121,\t4, 6, 2, 1) \\\n-T (122,\t2, 5, 6, 3) \\\n T (123,\t4, 6, 3, 2) \\\n T (124,\t4, 7, 5, 6) \\\n T (125,\t0, 4, 2, 4) \\"}]}