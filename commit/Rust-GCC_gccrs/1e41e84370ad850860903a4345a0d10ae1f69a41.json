{"sha": "1e41e84370ad850860903a4345a0d10ae1f69a41", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWU0MWU4NDM3MGFkODUwODYwOTAzYTQzNDVhMGQxMGFlMWY2OWE0MQ==", "commit": {"author": {"name": "Adam Megacz", "email": "adam@xwt.org", "date": "2002-02-11T22:28:58Z"}, "committer": {"name": "Adam Megacz", "email": "megacz@gcc.gnu.org", "date": "2002-02-11T22:28:58Z"}, "message": "exception.cc (_Jv_Throw, [...]): Changed std::abort() to simply abort().\n\n2002-02-11  Adam Megacz <adam@xwt.org>\n\n    * exception.cc (_Jv_Throw, PERSONALITY_FUNCTION): Changed\n    std::abort() to simply abort(). Also added \"fake\" std::abort() so\n    we can #include unwind-pe.h without having to link against\n    libstdc++-v3.\n\nFrom-SVN: r49685", "tree": {"sha": "46caf471fa22b8aa3a1da9afaa8c01d37a0b798d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/46caf471fa22b8aa3a1da9afaa8c01d37a0b798d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1e41e84370ad850860903a4345a0d10ae1f69a41", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e41e84370ad850860903a4345a0d10ae1f69a41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e41e84370ad850860903a4345a0d10ae1f69a41", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e41e84370ad850860903a4345a0d10ae1f69a41/comments", "author": null, "committer": null, "parents": [{"sha": "d6e06ddc100e7b9854ebdb5363951aa83fe818f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6e06ddc100e7b9854ebdb5363951aa83fe818f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d6e06ddc100e7b9854ebdb5363951aa83fe818f2"}], "stats": {"total": 24, "additions": 20, "deletions": 4}, "files": [{"sha": "e8ea712cb0fce41eecee03e57ecc503e107bbcf7", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e41e84370ad850860903a4345a0d10ae1f69a41/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e41e84370ad850860903a4345a0d10ae1f69a41/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=1e41e84370ad850860903a4345a0d10ae1f69a41", "patch": "@@ -1,3 +1,10 @@\n+2002-02-11  Adam Megacz <adam@xwt.org>\n+\n+\t* exception.cc (_Jv_Throw, PERSONALITY_FUNCTION): Changed\n+\tstd::abort() to simply abort(). Also added \"fake\" std::abort() so\n+\twe can #include unwind-pe.h without having to link against\n+\tlibstdc++-v3.\n+\n 2002-02-10  Andreas Tobler  <toa@pop.agri.ch>\n \n \t* interpret.cc (continue1) [insn_f2l]: Use PUSHL, not PUSHI."}, {"sha": "5d1f28886d55f7adeda8c539bff4a111cef21257", "filename": "libjava/exception.cc", "status": "modified", "additions": 13, "deletions": 4, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e41e84370ad850860903a4345a0d10ae1f69a41/libjava%2Fexception.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e41e84370ad850860903a4345a0d10ae1f69a41/libjava%2Fexception.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fexception.cc?ref=1e41e84370ad850860903a4345a0d10ae1f69a41", "patch": "@@ -11,16 +11,25 @@ details.  */\n #include <config.h>\n \n #include <stddef.h>\n-#include <cstdlib>\n+#include <stdlib.h>\n \n #include <java/lang/Class.h>\n #include <java/lang/NullPointerException.h>\n #include <gcj/cni.h>\n #include <jvm.h>\n \n+// unwind-pe.h uses std::abort(), but sometimes we compile libjava\n+// without libstdc++-v3. The following hack forces it to use\n+// stdlib.h's abort().\n+namespace std\n+{\n+  void abort ()\n+  {\n+    ::abort ();\n+  }\n+}\n #include \"unwind.h\"\n \n-\f\n struct alignment_test_struct\n {\n   char space;\n@@ -97,7 +106,7 @@ _Jv_Throw (jthrowable value)\n      recover.  As is the way of such things, almost certainly we will have\n      crashed before now, rather than actually being able to diagnose the\n      problem.  */\n-  std::abort ();\n+  abort();\n }\n \n \f\n@@ -344,7 +353,7 @@ PERSONALITY_FUNCTION (int version,\n \t      // ??? Perhaps better to make them an index into a table\n \t      // of null-terminated strings instead of playing games\n \t      // with Utf8Const+1 as above.\n-\t      std::abort ();\n+\t      abort ();\n \t    }\n \n \t  if (ar_disp == 0)"}]}