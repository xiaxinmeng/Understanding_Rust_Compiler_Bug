{"sha": "59dbe1d9da8b946a0f652a02f6f439d6abf1bd5c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTlkYmUxZDlkYThiOTQ2YTBmNjUyYTAyZjZmNDM5ZDZhYmYxYmQ1Yw==", "commit": {"author": {"name": "Richard Sandiford", "email": "rdsandiford@googlemail.com", "date": "2008-10-25T15:49:27Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2008-10-25T15:49:27Z"}, "message": "mips.h (REG_ALLOC_ORDER): Put call-clobbered registers first.\n\ngcc/\n\t* config/mips/mips.h (REG_ALLOC_ORDER): Put call-clobbered registers\n\tfirst.\n\nFrom-SVN: r141362", "tree": {"sha": "853a923450db43451bcfe1df6c2cfb271f030268", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/853a923450db43451bcfe1df6c2cfb271f030268"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/59dbe1d9da8b946a0f652a02f6f439d6abf1bd5c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59dbe1d9da8b946a0f652a02f6f439d6abf1bd5c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59dbe1d9da8b946a0f652a02f6f439d6abf1bd5c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59dbe1d9da8b946a0f652a02f6f439d6abf1bd5c/comments", "author": {"login": "rsandifo", "id": 4235983, "node_id": "MDQ6VXNlcjQyMzU5ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/4235983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo", "html_url": "https://github.com/rsandifo", "followers_url": "https://api.github.com/users/rsandifo/followers", "following_url": "https://api.github.com/users/rsandifo/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo/orgs", "repos_url": "https://api.github.com/users/rsandifo/repos", "events_url": "https://api.github.com/users/rsandifo/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6af6748c20938861436a14a0f9644ce596cb944c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6af6748c20938861436a14a0f9644ce596cb944c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6af6748c20938861436a14a0f9644ce596cb944c"}], "stats": {"total": 37, "additions": 30, "deletions": 7}, "files": [{"sha": "44bb0e50f9bb64b9106622082c5c9d24a1d5a24a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59dbe1d9da8b946a0f652a02f6f439d6abf1bd5c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59dbe1d9da8b946a0f652a02f6f439d6abf1bd5c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=59dbe1d9da8b946a0f652a02f6f439d6abf1bd5c", "patch": "@@ -1,3 +1,8 @@\n+2008-10-25  Richard Sandiford  <rdsandiford@googlemail.com>\n+\n+\t* config/mips/mips.h (REG_ALLOC_ORDER): Put call-clobbered registers\n+\tfirst.\n+\n 2008-10-24  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \tPR target/37841"}, {"sha": "ecf7d910fa1150e6e27026f31914fe2b232d7221", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 25, "deletions": 7, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59dbe1d9da8b946a0f652a02f6f439d6abf1bd5c/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59dbe1d9da8b946a0f652a02f6f439d6abf1bd5c/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=59dbe1d9da8b946a0f652a02f6f439d6abf1bd5c", "patch": "@@ -1913,16 +1913,34 @@ enum reg_class\n \n #define SMALL_REGISTER_CLASSES (TARGET_MIPS16)\n \n-/* REG_ALLOC_ORDER is to order in which to allocate registers.  This\n-   is the default value (allocate the registers in numeric order).  We\n-   define it just so that we can override it for the mips16 target in\n-   ORDER_REGS_FOR_LOCAL_ALLOC.  */\n+/* We generally want to put call-clobbered registers ahead of\n+   call-saved ones.  (IRA expects this.)  */\n \n #define REG_ALLOC_ORDER\t\t\t\t\t\t\t\\\n-{  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15,\t\\\n-  16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31,\t\\\n+{ /* Call-clobbered GPRs.  */\t\t\t\t\t\t\\\n+   1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15,\t\t\\\n+  24, 25, 31,\t\t\t\t\t\t\t\t\\\n+  /* The global pointer.  This is call-clobbered for o32 and o64\t\\\n+     abicalls, call-saved for n32 and n64 abicalls, and a program\t\\\n+     invariant otherwise.  Putting it between the call-clobbered\t\\\n+     and call-saved registers should cope with all eventualities.  */\t\\\n+  28,\t\t\t\t\t\t\t\t\t\\\n+  /* Call-saved GPRs.  */\t\t\t\t\t\t\\\n+  16, 17, 18, 19, 20, 21, 22, 23, 30,\t\t\t\t\t\\\n+  /* GPRs that can never be exposed to the register allocator.  */\t\\\n+   0, 26, 27, 29,\t\t\t\t\t\t\t\\\n+  /* Call-clobbered FPRs.  */\t\t\t\t\t\t\\\n   32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47,\t\\\n-  48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63,\t\\\n+  48, 49, 50, 51,\t\t\t\t\t\t\t\\\n+  /* FPRs that are usually call-saved.  The odd ones are actually\t\\\n+     call-clobbered for n32, but listing them ahead of the even\t\t\\\n+     registers might encourage the register allocator to fragment\t\\\n+     the available FPR pairs.  We need paired FPRs to store long\t\\\n+     doubles, so it isn't clear that using a different order\t\t\\\n+     for n32 would be a win.  */\t\t\t\t\t\\\n+  52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63,\t\t\t\\\n+  /* None of the remaining classes have defined call-saved\t\t\\\n+     registers.  */\t\t\t\t\t\t\t\\\n   64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79,\t\\\n   80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95,\t\\\n   96, 97, 98, 99, 100,101,102,103,104,105,106,107,108,109,110,111,\t\\"}]}