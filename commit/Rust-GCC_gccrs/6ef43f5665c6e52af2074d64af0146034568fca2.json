{"sha": "6ef43f5665c6e52af2074d64af0146034568fca2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmVmNDNmNTY2NWM2ZTUyYWYyMDc0ZDY0YWYwMTQ2MDM0NTY4ZmNhMg==", "commit": {"author": {"name": "Keith Seitz", "email": "keiths@redhat.com", "date": "2007-01-17T22:05:10Z"}, "committer": {"name": "Keith Seitz", "email": "kseitz@gcc.gnu.org", "date": "2007-01-17T22:05:10Z"}, "message": "natThread.cc (finish_): Add JVMTI ThreadEnd notification.\n\n        * java/lang/natThread.cc (finish_): Add JVMTI ThreadEnd notification.\n        (_Jv_NotifyThreadStart): Add JVMTI ThreadStart notification.\n\nFrom-SVN: r120877", "tree": {"sha": "0db0b4e94be063f4e47c60cb42539efe6d535d41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0db0b4e94be063f4e47c60cb42539efe6d535d41"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6ef43f5665c6e52af2074d64af0146034568fca2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ef43f5665c6e52af2074d64af0146034568fca2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ef43f5665c6e52af2074d64af0146034568fca2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ef43f5665c6e52af2074d64af0146034568fca2/comments", "author": {"login": "shtiek", "id": 107581324, "node_id": "U_kgDOBmmPjA", "avatar_url": "https://avatars.githubusercontent.com/u/107581324?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shtiek", "html_url": "https://github.com/shtiek", "followers_url": "https://api.github.com/users/shtiek/followers", "following_url": "https://api.github.com/users/shtiek/following{/other_user}", "gists_url": "https://api.github.com/users/shtiek/gists{/gist_id}", "starred_url": "https://api.github.com/users/shtiek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shtiek/subscriptions", "organizations_url": "https://api.github.com/users/shtiek/orgs", "repos_url": "https://api.github.com/users/shtiek/repos", "events_url": "https://api.github.com/users/shtiek/events{/privacy}", "received_events_url": "https://api.github.com/users/shtiek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a68034164119b54f374912bcd27054260f4bcdb3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a68034164119b54f374912bcd27054260f4bcdb3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a68034164119b54f374912bcd27054260f4bcdb3"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "64ce665ef4dcda33a8fa5f36f751ec918b0c20a1", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ef43f5665c6e52af2074d64af0146034568fca2/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ef43f5665c6e52af2074d64af0146034568fca2/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=6ef43f5665c6e52af2074d64af0146034568fca2", "patch": "@@ -1,3 +1,8 @@\n+2007-01-17  Keith Seitz  <keiths@redhat.com>\n+\n+\t* java/lang/natThread.cc (finish_): Add JVMTI ThreadEnd notification.\n+\t(_Jv_NotifyThreadStart): Add JVMTI ThreadStart notification.\n+\n 2007-01-16  Jack Howarth  <howarth@bromo.med.uc.edu>\n \n \t* configure.ac: Use multi.m4 from aclocal rather than custom"}, {"sha": "8a09f4f1a0f8ee15f828842566138d60bbba0555", "filename": "libjava/java/lang/natThread.cc", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ef43f5665c6e52af2074d64af0146034568fca2/libjava%2Fjava%2Flang%2FnatThread.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ef43f5665c6e52af2074d64af0146034568fca2/libjava%2Fjava%2Flang%2FnatThread.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatThread.cc?ref=6ef43f5665c6e52af2074d64af0146034568fca2", "patch": "@@ -27,6 +27,8 @@ details.  */\n #include <java/lang/NullPointerException.h>\n \n #include <jni.h>\n+#include <jvmti.h>\n+#include \"jvmti-int.h\"\n \n #ifdef ENABLE_JVMPI\n #include <jvmpi.h>\n@@ -215,6 +217,9 @@ java::lang::Thread::finish_ ()\n   nt->park_helper.deactivate ();\n   group->removeThread (this);\n \n+  if (JVMTI_REQUESTED_EVENT (ThreadEnd))\n+    _Jv_JVMTI_PostEvent (JVMTI_EVENT_THREAD_END, this, nt->jni_env);\n+\n #ifdef ENABLE_JVMPI  \n   if (_Jv_JVMPI_Notify_THREAD_END)\n     {\n@@ -253,6 +258,12 @@ java::lang::Thread::finish_ ()\n static void\n _Jv_NotifyThreadStart (java::lang::Thread* thread)\n {\n+  if (JVMTI_REQUESTED_EVENT (ThreadStart))\n+    {\n+      natThread *nt = reinterpret_cast<natThread *> (thread->data);\n+      _Jv_JVMTI_PostEvent (JVMTI_EVENT_THREAD_START, thread, nt->jni_env);\n+    }\n+\n #ifdef ENABLE_JVMPI\n       if (_Jv_JVMPI_Notify_THREAD_START)\n \t{"}]}