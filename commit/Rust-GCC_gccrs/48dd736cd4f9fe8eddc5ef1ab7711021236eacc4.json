{"sha": "48dd736cd4f9fe8eddc5ef1ab7711021236eacc4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDhkZDczNmNkNGY5ZmU4ZWRkYzVlZjFhYjc3MTEwMjEyMzZlYWNjNA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2007-08-03T23:07:25Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2007-08-03T23:07:25Z"}, "message": "i386.c (setup_incoming_varargs_64): Tolerate 64bit preferred stack boundary.\n\n\n\n\t* i386.c (setup_incoming_varargs_64): Tolerate 64bit preferred\n\tstack boundary.\n\nFrom-SVN: r127189", "tree": {"sha": "75491d7f17ee20bc3ce1718eb33021b070f65271", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/75491d7f17ee20bc3ce1718eb33021b070f65271"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/48dd736cd4f9fe8eddc5ef1ab7711021236eacc4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48dd736cd4f9fe8eddc5ef1ab7711021236eacc4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48dd736cd4f9fe8eddc5ef1ab7711021236eacc4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48dd736cd4f9fe8eddc5ef1ab7711021236eacc4/comments", "author": null, "committer": null, "parents": [{"sha": "f353733a26494c2b5684382f06d152381529077b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f353733a26494c2b5684382f06d152381529077b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f353733a26494c2b5684382f06d152381529077b"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "5878f50f2010f4c02ac57f3bf7667b63595e2e20", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48dd736cd4f9fe8eddc5ef1ab7711021236eacc4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48dd736cd4f9fe8eddc5ef1ab7711021236eacc4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=48dd736cd4f9fe8eddc5ef1ab7711021236eacc4", "patch": "@@ -1,3 +1,8 @@\n+2007-08-03  Jan Hubicka  <jh@suse.cz>\n+\n+\t* i386.c (setup_incoming_varargs_64): Tolerate 64bit preferred\n+\tstack boundary.\n+\n 2007-08-03  David Edelsohn  <edelsohn@gnu.org>\n \n \t* config/rs6000/rs6000.c (struct processor_cost): Change"}, {"sha": "de03780454fb7218e3b97e47f59b013730b3fc83", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/48dd736cd4f9fe8eddc5ef1ab7711021236eacc4/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/48dd736cd4f9fe8eddc5ef1ab7711021236eacc4/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=48dd736cd4f9fe8eddc5ef1ab7711021236eacc4", "patch": "@@ -4694,7 +4694,14 @@ setup_incoming_varargs_64 (CUMULATIVE_ARGS *cum)\n \n   /* Indicate to allocate space on the stack for varargs save area.  */\n   ix86_save_varrargs_registers = 1;\n-  cfun->stack_alignment_needed = 128;\n+  /* We need 16-byte stack alignment to save SSE registers.  If user\n+     asked for lower preferred_stack_boundary, lets just hope that he knows\n+     what he is doing and won't varargs SSE values.  \n+\n+     We also may end up assuming that only 64bit values are stored in SSE\n+     register let some floating point program work.  */\n+  if (ix86_preferred_stack_boundary >= 128)\n+    cfun->stack_alignment_needed = 128;\n \n   save_area = frame_pointer_rtx;\n   set = get_varargs_alias_set ();"}]}