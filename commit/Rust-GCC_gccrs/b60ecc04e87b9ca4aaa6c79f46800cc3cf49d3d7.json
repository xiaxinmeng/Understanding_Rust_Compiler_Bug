{"sha": "b60ecc04e87b9ca4aaa6c79f46800cc3cf49d3d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjYwZWNjMDRlODdiOWNhNGFhYTZjNzlmNDY4MDBjYzNjZjQ5ZDNkNw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2001-02-16T07:57:51Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2001-02-16T07:57:51Z"}, "message": "pt.c (push_template_decl_real): Don't remangle the name of a class template.\n\n\t* pt.c (push_template_decl_real): Don't remangle the name of a\n\tclass template.\n\nFrom-SVN: r39752", "tree": {"sha": "0ff816e191ef22c77d83b7424b5d60465c5a2166", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0ff816e191ef22c77d83b7424b5d60465c5a2166"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b60ecc04e87b9ca4aaa6c79f46800cc3cf49d3d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b60ecc04e87b9ca4aaa6c79f46800cc3cf49d3d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b60ecc04e87b9ca4aaa6c79f46800cc3cf49d3d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b60ecc04e87b9ca4aaa6c79f46800cc3cf49d3d7/comments", "author": null, "committer": null, "parents": [{"sha": "1d2e075ae0b174bd27eaf3db17200689074037c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d2e075ae0b174bd27eaf3db17200689074037c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d2e075ae0b174bd27eaf3db17200689074037c3"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "a4413a97e8a9865579e6c55728a8924ede048af7", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b60ecc04e87b9ca4aaa6c79f46800cc3cf49d3d7/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b60ecc04e87b9ca4aaa6c79f46800cc3cf49d3d7/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=b60ecc04e87b9ca4aaa6c79f46800cc3cf49d3d7", "patch": "@@ -1,3 +1,8 @@\n+2001-02-15  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* pt.c (push_template_decl_real): Don't remangle the name of a\n+\tclass template.\n+\n 2001-02-15  Jim Meyering  <meyering@lucent.com>\n \n \t* Make-lang.in (c++.install-common): Depend on installdirs."}, {"sha": "2f34815274b4fe19859f13799c177e5e6805bd58", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b60ecc04e87b9ca4aaa6c79f46800cc3cf49d3d7/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b60ecc04e87b9ca4aaa6c79f46800cc3cf49d3d7/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=b60ecc04e87b9ca4aaa6c79f46800cc3cf49d3d7", "patch": "@@ -2718,7 +2718,9 @@ push_template_decl_real (decl, is_friend)\n     {\n       SET_TYPE_TEMPLATE_INFO (TREE_TYPE (tmpl), info);\n       if ((!ctx || TREE_CODE (ctx) != FUNCTION_DECL)\n-\t  && TREE_CODE (TREE_TYPE (decl)) != ENUMERAL_TYPE)\n+\t  && TREE_CODE (TREE_TYPE (decl)) != ENUMERAL_TYPE\n+\t  /* Don't change the name if we've already set it up.  */\n+\t  && !IDENTIFIER_TEMPLATE (DECL_NAME (decl)))\n \tDECL_NAME (decl) = classtype_mangled_name (TREE_TYPE (decl));\n     }\n   else if (DECL_LANG_SPECIFIC (decl))"}, {"sha": "af0e3caf15c86921012aa60de76d0b49ad4dba1e", "filename": "gcc/testsuite/g++.old-deja/g++.pt/friend48.C", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b60ecc04e87b9ca4aaa6c79f46800cc3cf49d3d7/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Ffriend48.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b60ecc04e87b9ca4aaa6c79f46800cc3cf49d3d7/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Ffriend48.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Ffriend48.C?ref=b60ecc04e87b9ca4aaa6c79f46800cc3cf49d3d7", "patch": "@@ -0,0 +1,17 @@\n+// Build don't link:\n+// Origin: Mark Mitchell <mark@codesourcery.com>\n+\n+template <class T>\n+class C {\n+  template <class U>\n+  friend class ::C;\n+};\n+\n+namespace N \n+{\n+template <class T>\n+class D {\n+  template <class U>\n+  friend class N::D;\n+};\n+};"}]}