{"sha": "9f56c00431885c8a5dd23d872beb232546e00a9c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWY1NmMwMDQzMTg4NWM4YTVkZDIzZDg3MmJlYjIzMjU0NmUwMGE5Yw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2000-11-01T01:58:12Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2000-11-01T01:58:12Z"}, "message": "gcc_build (MAKE): New variable.\n\n\t* gcc_build (MAKE): New variable.\n\t(build_gcc): Use it.  Fix logging of errors.\n\t(install_gcc): Likewise.\n\nFrom-SVN: r37180", "tree": {"sha": "d565a777f1aca81ff4689ff53affb009610b53b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d565a777f1aca81ff4689ff53affb009610b53b9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9f56c00431885c8a5dd23d872beb232546e00a9c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f56c00431885c8a5dd23d872beb232546e00a9c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f56c00431885c8a5dd23d872beb232546e00a9c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f56c00431885c8a5dd23d872beb232546e00a9c/comments", "author": null, "committer": null, "parents": [{"sha": "32ee391b8317246560f346617f92a876bd376e30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32ee391b8317246560f346617f92a876bd376e30", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32ee391b8317246560f346617f92a876bd376e30"}], "stats": {"total": 22, "additions": 18, "deletions": 4}, "files": [{"sha": "d9a984bc455e34a60779775294ff33a4b23284cb", "filename": "contrib/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f56c00431885c8a5dd23d872beb232546e00a9c/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f56c00431885c8a5dd23d872beb232546e00a9c/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=9f56c00431885c8a5dd23d872beb232546e00a9c", "patch": "@@ -1,3 +1,9 @@\n+2000-10-31  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* gcc_build (MAKE): New variable.\n+\t(build_gcc): Use it.  Fix logging of errors.\n+\t(install_gcc): Likewise.\n+\n 2000-10-29  Mark Mitchell  <mark@codesourcery.com>\n \n \t* gcc_build: Save the output from CVS into the logfile as well."}, {"sha": "ddcbb2f2efa18c2fcbc3f5e948aeed936e113427", "filename": "contrib/gcc_build", "status": "modified", "additions": 12, "deletions": 4, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f56c00431885c8a5dd23d872beb232546e00a9c/contrib%2Fgcc_build", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f56c00431885c8a5dd23d872beb232546e00a9c/contrib%2Fgcc_build", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc_build?ref=9f56c00431885c8a5dd23d872beb232546e00a9c", "patch": "@@ -37,6 +37,12 @@\n # If you are using password-based CVS, you must manually log in, and\n # not log out from, the CVS server before running this script.\n \n+# You can set the following variables in the environment.  They \n+# have no corresponding command-line options because they should\n+# only be needed infrequently:\n+#\n+#   MAKE                        The path to `make'.\n+\n ########################################################################\n # Functions\n ########################################################################\n@@ -142,8 +148,8 @@ build_gcc() {\n \terror \"Could not configure GCC\"\n \n     # Bootstrap the compiler\n-    (eval make ${MAKE_OPTIONS} bootstrap |\n-\ttee -a ${LOGFILE}) 2>&1 || \\\n+    (eval ${MAKE} ${MAKE_OPTIONS} bootstrap 2>&1 |\n+\ttee -a ${LOGFILE}) || \\\n \terror \"Could not build GCC\"\n }\n \n@@ -156,7 +162,7 @@ test_gcc() {\n     changedir ${OBJDIR}\n \n     echo \"Running tests...  This will take a while.\"\n-    (make -k check | tee -a ${LOGFILE}) 2>&1\n+    (${MAKE} -k check 2>&1 | tee -a ${LOGFILE})\n     (${DESTINATION}/contrib/test_summary | tee -a ${LOGFILE})\n }\n \n@@ -184,7 +190,7 @@ install_gcc() {\n     # Go to the object directory.\n     changedir ${OBJDIR}\n \n-    make install > ${LOGFILE} 2>&1 || \\\n+    (${MAKE} install 2>&1 | tee -a ${LOGFILE}) || \\\n \terror \"Installation failed\"\n }\n \n@@ -214,6 +220,8 @@ TARFILE=\"${HOME}/dev/gcc.tgz\"\n \n # Options to pass to configure.\n CONFIGURE_OPTIONS=\n+# The `make' program.\n+MAKE=${MAKE:-make}\n # Options to pass to make.\n MAKE_OPTIONS=\n "}]}