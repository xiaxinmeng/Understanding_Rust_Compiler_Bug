{"sha": "488bd12977b8bd6f9d5d236607ced609cc21be92", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDg4YmQxMjk3N2I4YmQ2ZjlkNWQyMzY2MDdjZWQ2MDljYzIxYmU5Mg==", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@st.com", "date": "2019-09-10T08:01:15Z"}, "committer": {"name": "Christophe Lyon", "email": "clyon@gcc.gnu.org", "date": "2019-09-10T08:01:15Z"}, "message": "[ARM/FDPIC v6 14/24] [ARM][testsuite] FDPIC: Skip unsupported tests\n\nSeveral tests cannot work on ARM-FDPIC for various reasons: skip them,\nor skip some directives.\n\ngcc.dg/20020312-2.c: Skip since it forces -fno-pic.\n\ngcc.target/arm/:\n* Skip since r9 is clobbered by assembly code:\n  20051215-1.c\n  mmx-1.c\n  pr61948.c\n  pr77933-1.c\n  pr77933-2.c\n\n* Skip since the test forces armv5te which is not supported by FDPIC:\n  pr40887.c\n  pr19599.c\n\n* Skip since FDPIC disables sibcall to external functions:\n  sibcall-1.c\n  tail-long-call\n  vfp-longcall-apcs\n\n* Skip size check since it's different for FDPIC:\n  ivopts-2.c\n  ivopts-3.c\n  ivopts-4.c\n  ivopts-5.c\n  pr43597.c\n  pr43920-2.c\n\n* Disable assembler scanning invalid for FDPIC:\n  pr45701-1.c\n  pr45701-2.c\n  stack-red-zone.c\n\n* gnu2 TLS dialect is not supported by FDPIC:\n  tlscall.c\n\n* Test relies on symbols not generated in FDPIC:\n  data-rel-2.c\n  data-rel-3.c\n\n2019-09-10  Christophe Lyon  <christophe.lyon@st.com>\n\tMicka\u00ebl Gu\u00ean\u00e9 <mickael.guene@st.com>\n\n\tgcc/testsuite/\n\t* gcc.dg/20020312-2.c: Skip on arm*-*-uclinuxfdpiceabi.\n\t* gcc.target/arm/20051215-1.c: Likewise.\n\t* gcc.target/arm/mmx-1.c: Likewise.\n\t* gcc.target/arm/pr19599.c: Likewise.\n\t* gcc.target/arm/pr40887.c: Likewise.\n\t* gcc.target/arm/pr61948.c: Likewise.\n\t* gcc.target/arm/pr77933-1.c: Likewise.\n\t* gcc.target/arm/pr77933-2.c: Likewise.\n\t* gcc.target/arm/sibcall-1.c: Likewise.\n\t* gcc.target/arm/data-rel-2.c: Likewise.\n\t* gcc.target/arm/data-rel-3.c: Likewise.\n\t* gcc.target/arm/tail-long-call: Likewise.\n\t* gcc.target/arm/tlscall.c: Likewise.\n\t* gcc.target/arm/vfp-longcall-apcs: Likewise.\n\t* gcc.target/arm/ivopts-2.c: Skip object-size test on\n\tarm*-*-uclinuxfdpiceabi.\n\t* gcc.target/arm/ivopts-3.c: Likewise.\n\t* gcc.target/arm/ivopts-4.c: Likewise.\n\t* gcc.target/arm/ivopts-5.c: Likewise.\n\t* gcc.target/arm/pr43597.c: Likewise.\n\t* gcc.target/arm/pr43920-2.c: Likewise.\n\t* gcc.target/arm/pr45701-1.c: Skip scan-assembler on\n\tarm*-*-uclinuxfdpiceabi.\n\t* gcc.target/arm/pr45701-2.c: Likewise.\n\t* gcc.target/arm/stack-red-zone.c: Likewise.\n\n\nCo-Authored-By: Micka\u00ebl Gu\u00ean\u00e9 <mickael.guene@st.com>\n\nFrom-SVN: r275576", "tree": {"sha": "702fe291923753071c47a1c472c56c954649b8f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/702fe291923753071c47a1c472c56c954649b8f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/488bd12977b8bd6f9d5d236607ced609cc21be92", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/488bd12977b8bd6f9d5d236607ced609cc21be92", "html_url": "https://github.com/Rust-GCC/gccrs/commit/488bd12977b8bd6f9d5d236607ced609cc21be92", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/488bd12977b8bd6f9d5d236607ced609cc21be92/comments", "author": null, "committer": null, "parents": [{"sha": "84818dbb70375810557ce9d8880c4345e845c01d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84818dbb70375810557ce9d8880c4345e845c01d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84818dbb70375810557ce9d8880c4345e845c01d"}], "stats": {"total": 65, "additions": 54, "deletions": 11}, "files": [{"sha": "9b96065701742f1824e723d9237f702da2250892", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -1,3 +1,32 @@\n+2019-09-10  Christophe Lyon  <christophe.lyon@st.com>\n+\tMicka\u00ebl Gu\u00ean\u00e9 <mickael.guene@st.com>\n+\n+\t* gcc.dg/20020312-2.c: Skip on arm*-*-uclinuxfdpiceabi.\n+\t* gcc.target/arm/20051215-1.c: Likewise.\n+\t* gcc.target/arm/mmx-1.c: Likewise.\n+\t* gcc.target/arm/pr19599.c: Likewise.\n+\t* gcc.target/arm/pr40887.c: Likewise.\n+\t* gcc.target/arm/pr61948.c: Likewise.\n+\t* gcc.target/arm/pr77933-1.c: Likewise.\n+\t* gcc.target/arm/pr77933-2.c: Likewise.\n+\t* gcc.target/arm/sibcall-1.c: Likewise.\n+\t* gcc.target/arm/data-rel-2.c: Likewise.\n+\t* gcc.target/arm/data-rel-3.c: Likewise.\n+\t* gcc.target/arm/tail-long-call: Likewise.\n+\t* gcc.target/arm/tlscall.c: Likewise.\n+\t* gcc.target/arm/vfp-longcall-apcs: Likewise.\n+\t* gcc.target/arm/ivopts-2.c: Skip object-size test on\n+\tarm*-*-uclinuxfdpiceabi.\n+\t* gcc.target/arm/ivopts-3.c: Likewise.\n+\t* gcc.target/arm/ivopts-4.c: Likewise.\n+\t* gcc.target/arm/ivopts-5.c: Likewise.\n+\t* gcc.target/arm/pr43597.c: Likewise.\n+\t* gcc.target/arm/pr43920-2.c: Likewise.\n+\t* gcc.target/arm/pr45701-1.c: Skip scan-assembler on\n+\tarm*-*-uclinuxfdpiceabi.\n+\t* gcc.target/arm/pr45701-2.c: Likewise.\n+\t* gcc.target/arm/stack-red-zone.c: Likewise.\n+\n 2019-09-10  Christophe Lyon  <christophe.lyon@st.com>\n \tMicka\u00ebl Gu\u00ean\u00e9 <mickael.guene@st.com>\n "}, {"sha": "52c33d09b90a94e52c498fa78a96cbd37952366e", "filename": "gcc/testsuite/gcc.dg/20020312-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.dg%2F20020312-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.dg%2F20020312-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20020312-2.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -9,6 +9,7 @@\n /* { dg-options \"-O -fno-pic\" } */\n /* { dg-additional-options \"-no-pie\" { target pie_enabled } } */\n /* { dg-require-effective-target nonlocal_goto } */\n+/* { dg-skip-if \"\" { arm*-*-uclinuxfdpiceabi } \"*\" \"\" } */\n \n extern void abort (void);\n "}, {"sha": "cc076935483953a059cc9e46a5f49b9a4a51d9fa", "filename": "gcc/testsuite/gcc.target/arm/20051215-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2F20051215-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2F20051215-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2F20051215-1.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -3,6 +3,7 @@\n    the call would need an output reload.  */\n /* { dg-do run } */\n /* { dg-options \"-O2 -fno-omit-frame-pointer\" } */\n+/* { dg-skip-if \"r9 is reserved in FDPIC\" { arm*-*-uclinuxfdpiceabi } \"*\" \"\" } */\n extern void abort (void);\n typedef void (*callback) (void);\n "}, {"sha": "7d37a8c5f22805366624ddce88a497e6b5134621", "filename": "gcc/testsuite/gcc.target/arm/data-rel-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fdata-rel-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fdata-rel-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fdata-rel-2.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -1,3 +1,4 @@\n+/* { dg-skip-if \"Not supported in FDPIC\" { arm*-*-uclinuxfdpiceabi } \"*\" \"\" } */\n /* { dg-options \"-fPIC -mno-pic-data-is-text-relative -mno-single-pic-base\" } */\n /* { dg-final { scan-assembler-not \"j-\\\\(.LPIC\"  } } */\n /* { dg-final { scan-assembler \"_GLOBAL_OFFSET_TABLE_-\\\\(.LPIC\" } } */"}, {"sha": "534c6c48423e7be5abacc5aead1010767877ad9a", "filename": "gcc/testsuite/gcc.target/arm/data-rel-3.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fdata-rel-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fdata-rel-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fdata-rel-3.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -1,3 +1,4 @@\n+/* { dg-skip-if \"Not supported in FDPIC\" { arm*-*-uclinuxfdpiceabi } \"*\" \"\" } */\n /* { dg-options \"-fPIC -mpic-data-is-text-relative\" } */\n /* { dg-final { scan-assembler \"j-\\\\(.LPIC\"  } } */\n /* { dg-final { scan-assembler-not \"_GLOBAL_OFFSET_TABLE_-\\\\(.LPIC\" } } */"}, {"sha": "f1d5edbe0fd9813a3000aa82eba683af68424657", "filename": "gcc/testsuite/gcc.target/arm/ivopts-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fivopts-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fivopts-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fivopts-2.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -14,4 +14,4 @@ tr4 (short array[], int n)\n \n /* { dg-final { scan-tree-dump-times \"PHI <ivtmp\" 1 \"ivopts\"} } */\n /* { dg-final { scan-tree-dump-times \"PHI <\" 1 \"ivopts\"} } */\n-/* { dg-final { object-size text <= 26 { target arm_thumb2 } } } */\n+/* { dg-final { object-size text <= 26 { target { arm_thumb2 && { ! arm*-*-uclinuxfdpiceabi } } } } } */"}, {"sha": "357350cbe10c9fa0146ea9f019cd30ea1ec5eab3", "filename": "gcc/testsuite/gcc.target/arm/ivopts-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fivopts-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fivopts-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fivopts-3.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -16,4 +16,4 @@ tr3 (short array[], unsigned int n)\n /* { dg-final { scan-tree-dump-times \"PHI <ivtmp\" 1 \"ivopts\"} } */\n /* { dg-final { scan-tree-dump-times \"PHI <x\" 0 \"ivopts\"} } */\n /* { dg-final { scan-tree-dump-times \", x\" 0 \"ivopts\"} } */\n-/* { dg-final { object-size text <= 30 { target arm_thumb2 } } } */\n+/* { dg-final { object-size text <= 30 { target { arm_thumb2 && { ! arm*-*-uclinuxfdpiceabi } } } } } */"}, {"sha": "2e866c018231a1e5b62858bcc8e6122a692bbac2", "filename": "gcc/testsuite/gcc.target/arm/ivopts-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fivopts-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fivopts-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fivopts-4.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -17,4 +17,4 @@ tr2 (int array[], int n)\n /* { dg-final { scan-tree-dump-times \"PHI <ivtmp\" 1 \"ivopts\"} } */\n /* { dg-final { scan-tree-dump-times \"PHI <x\" 0 \"ivopts\"} } */\n /* { dg-final { scan-tree-dump-times \", x\" 0 \"ivopts\"} } */\n-/* { dg-final { object-size text <= 36 { target arm_thumb2 } } } */\n+/* { dg-final { object-size text <= 36 { target { arm_thumb2 && { ! arm*-*-uclinuxfdpiceabi } } } } } */"}, {"sha": "4e8e3806829cb572adbe898468d86de1c1a980af", "filename": "gcc/testsuite/gcc.target/arm/ivopts-5.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fivopts-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fivopts-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fivopts-5.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -16,4 +16,4 @@ tr1 (int array[], unsigned int n)\n /* { dg-final { scan-tree-dump-times \"PHI <ivtmp\" 1 \"ivopts\"} } */\n /* { dg-final { scan-tree-dump-times \"PHI <x\" 0 \"ivopts\"} } */\n /* { dg-final { scan-tree-dump-times \", x\" 0 \"ivopts\"} } */\n-/* { dg-final { object-size text <= 30 { target arm_thumb2 } } } */\n+/* { dg-final { object-size text <= 30 { target { arm_thumb2 && { ! arm*-*-uclinuxfdpiceabi } } } } } */"}, {"sha": "8060dbd40af0596f2082053def1ad4dffbd18a6f", "filename": "gcc/testsuite/gcc.target/arm/mmx-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmmx-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmmx-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmmx-1.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -9,6 +9,7 @@\n /* { dg-require-effective-target arm32 } */\n /* { dg-require-effective-target arm_iwmmxt_ok } */\n /* { dg-final { scan-assembler \"push.*ip,\\[ ]*pc\" } } */\n+/* { dg-skip-if \"r9 is reserved in FDPIC\" { arm*-*-uclinuxfdpiceabi } \"*\" \"\" } */\n \n /* This function uses all the call-saved registers, namely r4, r5, r6,\n    r7, r8, r9, sl, fp.  Since we also save lr, that leaves an odd"}, {"sha": "a536548442f3e64e0d7e7daad1df4586424e6696", "filename": "gcc/testsuite/gcc.target/arm/pr19599.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr19599.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr19599.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr19599.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -1,4 +1,5 @@\n /* { dg-skip-if \"need at least armv5te\" { *-*-* } { \"-march=armv[234]*\" \"-mthumb\" } { \"\" } } */\n+/* { dg-skip-if \"FDPIC does not support armv5te\" { arm*-*-uclinuxfdpiceabi } \"*\" \"\" } */\n /* { dg-options \"-O2 -march=armv5te -marm\" }  */\n /* { dg-final { scan-assembler \"bx\" } } */\n "}, {"sha": "832f676a3eb7150d88c6059d12815d84a21a0755", "filename": "gcc/testsuite/gcc.target/arm/pr40887.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr40887.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr40887.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr40887.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile } */\n /* { dg-skip-if \"need at least armv5\" { *-*-* } { \"-march=armv[234]*\" } { \"\" } } */\n+/* { dg-skip-if \"FDPIC does not support armv5te\" { arm*-*-uclinuxfdpiceabi } \"*\" \"\" } */\n /* { dg-require-effective-target arm_arch_v5te_ok } */\n /* { dg-options \"-O2\" }  */\n /* { dg-add-options arm_arch_v5te } */"}, {"sha": "6c9d4196c0062e1669e2e5713b4ab153513fea68", "filename": "gcc/testsuite/gcc.target/arm/pr43597.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr43597.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr43597.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr43597.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -24,4 +24,4 @@ foo4 ()\n \n /* { dg-final { scan-assembler-times \"sub\" 1 } } */\n /* { dg-final { scan-assembler-times \"cmp\" 0 } } */\n-/* { dg-final { object-size text <= 30 } } */\n+/* { dg-final { object-size text <= 30 { target { ! arm*-*-uclinuxfdpiceabi } } } } */"}, {"sha": "c367d6bc15dc243a6c4d11c06f2e2fb60b5d4785", "filename": "gcc/testsuite/gcc.target/arm/pr43920-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr43920-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr43920-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr43920-2.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -29,4 +29,4 @@ int getFileStartAndLength (int fd, int *start_, size_t *length_)\n \n /* { dg-final { scan-assembler-times \"pop\" 2 } } */\n /* { dg-final { scan-assembler-times \"beq\" 3 } } */\n-/* { dg-final { object-size text <= 54 } } */\n+/* { dg-final { object-size text <= 54 { target { ! arm*-*-uclinuxfdpiceabi } } } } */"}, {"sha": "b26011b650ffcb3235e55eee7aa4625a03429262", "filename": "gcc/testsuite/gcc.target/arm/pr45701-1.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr45701-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr45701-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr45701-1.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -1,8 +1,8 @@\n /* { dg-do compile } */\n /* { dg-skip-if \"\" { ! { arm_thumb1_ok || arm_thumb2_ok } } } */\n /* { dg-options \"-mthumb -Os\" }  */\n-/* { dg-final { scan-assembler \"push\\t\\{r3\" } } */\n-/* { dg-final { scan-assembler-not \"\\[^\\-\\]r8\" } } */\n+/* { dg-final { scan-assembler \"push\\t\\{r3\" { target { ! arm*-*-uclinuxfdpiceabi } } } } */\n+/* { dg-final { scan-assembler-not \"\\[^\\-\\]r8\" { target { ! arm*-*-uclinuxfdpiceabi } } } } */\n \n extern int hist_verify;\n extern int a1;"}, {"sha": "32eed4d2567cec66fc36ce800d1f82110621ff8b", "filename": "gcc/testsuite/gcc.target/arm/pr45701-2.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr45701-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr45701-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr45701-2.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -1,8 +1,8 @@\n /* { dg-do compile } */\n /* { dg-skip-if \"\" { ! { arm_thumb1_ok || arm_thumb2_ok } } } */\n /* { dg-options \"-mthumb -Os\" }  */\n-/* { dg-final { scan-assembler \"push\\t\\{r3\" } } */\n-/* { dg-final { scan-assembler-not \"\\[^\\-\\]r8\" } } */\n+/* { dg-final { scan-assembler \"push\\t\\{r3\" { target { ! arm*-*-uclinuxfdpiceabi } } } } */\n+/* { dg-final { scan-assembler-not \"\\[^\\-\\]r8\" { target { ! arm*-*-uclinuxfdpiceabi } } } } */\n \n extern int hist_verify;\n extern int a1;"}, {"sha": "3b2b72ac1c45707c888ae76a40a69d4b2ee195c4", "filename": "gcc/testsuite/gcc.target/arm/pr61948.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr61948.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr61948.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr61948.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -1,5 +1,6 @@\n /* PR target/61948 */\n /* { dg-do compile } */\n+/* { dg-skip-if \"r9 is reserved in FDPIC\" { arm*-*-uclinuxfdpiceabi } \"*\" \"\" } */\n /* { dg-require-effective-target arm_neon_ok } */\n /* { dg-require-effective-target arm_thumb2_ok } */\n /* { dg-options \"-O2 -mthumb\" } */"}, {"sha": "86b950728dd1c9ccd096c77fe026e39b19230e66", "filename": "gcc/testsuite/gcc.target/arm/pr77933-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr77933-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr77933-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr77933-1.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do run } */\n+/* { dg-skip-if \"r9 is reserved in FDPIC\" { arm*-*-uclinuxfdpiceabi } \"*\" \"\" } */\n /* { dg-options \"-O2\" } */\n \n __attribute__ ((noinline, noclone)) void"}, {"sha": "a06c11a6b5f2ce659eddebc6b1bd1ea08e7d2be3", "filename": "gcc/testsuite/gcc.target/arm/pr77933-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr77933-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr77933-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr77933-2.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run } */\n /* { dg-skip-if \"\" { ! { arm_thumb1_ok || arm_thumb2_ok } } } */\n+/* { dg-skip-if \"r9 is reserved in FDPIC\" { arm*-*-uclinuxfdpiceabi } \"*\" \"\" } */\n /* { dg-options \"-mthumb -O2 -mtpcs-leaf-frame\" } */\n \n __attribute__ ((noinline, noclone)) void"}, {"sha": "dcdd55280e4dcb5cded64355877080d2d6036bbd", "filename": "gcc/testsuite/gcc.target/arm/sibcall-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fsibcall-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fsibcall-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fsibcall-1.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile { target { arm32 } } } */\n /* { dg-options \"-O2\" } */\n+/* { dg-skip-if \"FDPIC does not support sibcall optimization\" { arm*-*-uclinuxfdpiceabi } \"*\" \"\" } */\n \n #define noinline __attribute__((noinline))\n "}, {"sha": "3385d7d509cb7a89b6aa7fa98ea2b1f8601cc66c", "filename": "gcc/testsuite/gcc.target/arm/stack-red-zone.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fstack-red-zone.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fstack-red-zone.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fstack-red-zone.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -1,7 +1,7 @@\n /* No stack red zone.  PR38644.  */\n /* { dg-skip-if \"incompatible options\" { ! { arm_thumb1_ok || arm_thumb2_ok } } } */\n /* { dg-options \"-mthumb -O2\" } */\n-/* { dg-final { scan-assembler \"ldrb\\[^\\n\\]*\\\\n\\[\\t \\]*add\\[\\t \\]*sp\" } } */\n+/* { dg-final { scan-assembler \"ldrb\\[^\\n\\]*\\\\n\\[\\t \\]*add\\[\\t \\]*sp\" { target { ! arm*-*-uclinuxfdpiceabi } } } } */\n \n extern int doStreamReadBlock (int *, char *, int size, int);\n "}, {"sha": "f70e9cf3938e655034d28e5a84f43f141bafa797", "filename": "gcc/testsuite/gcc.target/arm/tail-long-call.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Ftail-long-call.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Ftail-long-call.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Ftail-long-call.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -1,4 +1,5 @@\n /* { dg-skip-if \"need at least armv5te\" { *-*-* } { \"-march=armv[234]*\" \"-mthumb\" } { \"\" } } */\n+/* { dg-skip-if \"FDPIC does not support tailcall optimization\" { arm*-*-uclinuxfdpiceabi } \"*\" \"\" } */\n /* { dg-options \"-O2 -march=armv5te -marm\" } */\n /* { dg-final { scan-assembler \"bx\" } } */\n /* { dg-final { scan-assembler-not \"blx\" } } */"}, {"sha": "5f4d58b493b36ead799850faae1aed1b781cb110", "filename": "gcc/testsuite/gcc.target/arm/tlscall.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Ftlscall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Ftlscall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Ftlscall.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -2,6 +2,7 @@\n \n /* { dg-do assemble } */\n /* { dg-options \"-O2 -fPIC -mtls-dialect=gnu2\" } */\n+/* { dg-skip-if \"FDPIC does not support gnu2 TLS dialect\" { arm*-*-uclinuxfdpiceabi } \"*\" \"\" } */\n \n typedef struct _IO_FILE FILE;\n "}, {"sha": "817d5d0dc7733afaff6d0163d48a2b50e3b4b878", "filename": "gcc/testsuite/gcc.target/arm/vfp-longcall-apcs.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fvfp-longcall-apcs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/488bd12977b8bd6f9d5d236607ced609cc21be92/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fvfp-longcall-apcs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fvfp-longcall-apcs.c?ref=488bd12977b8bd6f9d5d236607ced609cc21be92", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do run } */\n+/* { dg-skip-if \"FDPIC does not support sibcall optimization\" { arm*-*-uclinuxfdpiceabi } \"*\" \"\" } */\n /* { dg-options \"-mapcs-frame -O -foptimize-sibling-calls -ffunction-sections\" } */\n \n extern void abort (void);"}]}