{"sha": "87af78d462a57ed24e57a87e978cd0820748b236", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdhZjc4ZDQ2MmE1N2VkMjRlNTdhODdlOTc4Y2QwODIwNzQ4YjIzNg==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "2009-11-19T08:28:46Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "2009-11-19T08:28:46Z"}, "message": "20091002-1_0.C: Replace -shared with -r -nostlib.\n\n        * g++.dg/lto/20091002-1_0.C: Replace -shared with -r -nostlib.\n        * g++.dg/lto/20081120-1_0.C: Likewise.\n        * g++.dg/lto/20091002-2_0.C: Likewise.\n        * g++.dg/lto/20081120-2_0.C: Likewise.\n        * g++.dg/lto/20091002-3_0.C: Likewise.\n        * g++.dg/lto/20081123_0.C: Likewise.\n        * g++.dg/lto/20090313_0.C: Likewise.\n        * g++.dg/lto/20081109-1_0.C: Likewise.\n        * g++.dg/lto/20081219_0.C: Likewise.\n        * g++.dg/lto/20081204-1_0.C: Likewise.\n        * g++.dg/lto/20090302_0.C: Likewise.\n        * g++.dg/lto/20081119-1_0.C: Likewise.\n        * g++.dg/lto/20081118_0.C: Likewise.\n\nFrom-SVN: r154325", "tree": {"sha": "15acdc96e163e75536197142d554c7fb83b597d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/15acdc96e163e75536197142d554c7fb83b597d8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87af78d462a57ed24e57a87e978cd0820748b236", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87af78d462a57ed24e57a87e978cd0820748b236", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87af78d462a57ed24e57a87e978cd0820748b236", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87af78d462a57ed24e57a87e978cd0820748b236/comments", "author": null, "committer": null, "parents": [{"sha": "9cfb4eba43b62e87cd11e86a3b556abf2c3c757a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9cfb4eba43b62e87cd11e86a3b556abf2c3c757a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9cfb4eba43b62e87cd11e86a3b556abf2c3c757a"}], "stats": {"total": 26, "additions": 13, "deletions": 13}, "files": [{"sha": "58be091ce16eff8205f29d5eee21be7858d0458f", "filename": "gcc/testsuite/g++.dg/lto/20081109-1_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081109-1_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081109-1_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081109-1_0.C?ref=87af78d462a57ed24e57a87e978cd0820748b236", "patch": "@@ -1,5 +1,5 @@\n // { dg-lto-do link }\n // { dg-lto-options {{-fPIC -fwhopr}} }\n-// { dg-extra-ld-options \"-fPIC -fwhopr -shared -fno-exceptions\" }\n+// { dg-extra-ld-options \"-fPIC -fwhopr -r -nostdlib -fno-exceptions\" }\n void func(); class Foo { };\n void bar() { try { func(); } catch (Foo) { } };"}, {"sha": "5b5c82c5949aac26d875feccb6a9c164ed9c17b6", "filename": "gcc/testsuite/g++.dg/lto/20081118_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081118_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081118_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081118_0.C?ref=87af78d462a57ed24e57a87e978cd0820748b236", "patch": "@@ -1,5 +1,5 @@\n /* { dg-lto-do link } */\n-/* { dg-lto-options {{-fPIC -fwhopr -shared}} } */\n+/* { dg-lto-options {{-fPIC -fwhopr -r -nostdlib}} } */\n \n /* We used to ICE because of dangling pointers.  */\n "}, {"sha": "5513db2f213a14e10033b4ed0ec6c23f211e2f34", "filename": "gcc/testsuite/g++.dg/lto/20081119-1_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081119-1_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081119-1_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081119-1_0.C?ref=87af78d462a57ed24e57a87e978cd0820748b236", "patch": "@@ -1,5 +1,5 @@\n /* { dg-lto-do link } */\n-/* { dg-lto-options {{-fPIC -fwhopr -shared}} } */\n+/* { dg-lto-options {{-fPIC -fwhopr -r -nostdlib}} } */\n \n #include \"20081119-1.h\"\n "}, {"sha": "6827337787cd512b9e9ba64d47453acaff472784", "filename": "gcc/testsuite/g++.dg/lto/20081120-1_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081120-1_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081120-1_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081120-1_0.C?ref=87af78d462a57ed24e57a87e978cd0820748b236", "patch": "@@ -1,5 +1,5 @@\n // { dg-lto-do link }\n-// { dg-lto-options {{-flto -shared}} }\n+// { dg-lto-options {{-flto -r -nostdlib}} }\n extern \"C\"\n {\n  extern __inline __attribute__((__gnu_inline__)) int pthread_equal(int, int)"}, {"sha": "3efe26c0197d0a55ab36d96a22f7d93ffa10570f", "filename": "gcc/testsuite/g++.dg/lto/20081120-2_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081120-2_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081120-2_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081120-2_0.C?ref=87af78d462a57ed24e57a87e978cd0820748b236", "patch": "@@ -1,5 +1,5 @@\n // { dg-lto-do link }\n-// { dg-lto-options {{-flto -shared}} }\n+// { dg-lto-options {{-flto -r -nostdlib}} }\n template < typename > struct Foo\n {\n  inline void rdstate() {"}, {"sha": "3177063b504720c0da117df285931ddbfc937c0b", "filename": "gcc/testsuite/g++.dg/lto/20081123_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081123_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081123_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081123_0.C?ref=87af78d462a57ed24e57a87e978cd0820748b236", "patch": "@@ -1,5 +1,5 @@\n // { dg-lto-do link }\n-// { dg-lto-options {{-fwhopr -shared -fPIC}} }\n+// { dg-lto-options {{-fwhopr -r -nostdlib -fPIC}} }\n \n int\n f(void)"}, {"sha": "a94b4823072aa7ddf57021ba365bfaaa9a347876", "filename": "gcc/testsuite/g++.dg/lto/20081204-1_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081204-1_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081204-1_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081204-1_0.C?ref=87af78d462a57ed24e57a87e978cd0820748b236", "patch": "@@ -1,5 +1,5 @@\n /* { dg-lto-do link } */\n-/* { dg-lto-options {{-fwhopr -fPIC -shared}} } */\n+/* { dg-lto-options {{-fwhopr -fPIC -r -nostdlib}} } */\n \n /* Tests for the absence during linking of:\n    lto1: error: type of '_ZTVN10__cxxabiv120__si_class_type_infoE' does"}, {"sha": "fd4c9738e1e3a85ae3946395cef5da3bfac6eedd", "filename": "gcc/testsuite/g++.dg/lto/20081219_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081219_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081219_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081219_0.C?ref=87af78d462a57ed24e57a87e978cd0820748b236", "patch": "@@ -1,6 +1,6 @@\n // { dg-lto-do link }\n // { dg-lto-options {{-fPIC -fwhopr -O2}} }\n-// { dg-extra-ld-options \"-O2 -fPIC -fwhopr -shared\" }\n+// { dg-extra-ld-options \"-O2 -fPIC -fwhopr -r -nostdlib\" }\n \n typedef long int ptrdiff_t;\n extern \"C\""}, {"sha": "21200a211243fa1e59c985bf6f9e1468f5ebb5ad", "filename": "gcc/testsuite/g++.dg/lto/20090302_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20090302_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20090302_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20090302_0.C?ref=87af78d462a57ed24e57a87e978cd0820748b236", "patch": "@@ -1,5 +1,5 @@\n /* { dg-lto-do link } */\n-/* { dg-lto-options {{-fPIC -fwhopr -shared}} } */\n+/* { dg-lto-options {{-fPIC -fwhopr -r -nostdlib}} } */\n struct Foo {\n   bool Mumble();\n   static void Bar() { if (foo_->Mumble()) foo_ = 0; }"}, {"sha": "b000200c584e1c51584f397f01dd3e239b97f9ad", "filename": "gcc/testsuite/g++.dg/lto/20090313_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20090313_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20090313_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20090313_0.C?ref=87af78d462a57ed24e57a87e978cd0820748b236", "patch": "@@ -1,5 +1,5 @@\n // { dg-lto-do link }\n // { dg-lto-options {{-fwhopr -fPIC}} }\n-// { dg-extra-ld-options \"-fwhopr -shared\" }\n+// { dg-extra-ld-options \"-fwhopr -r -nostdlib\" }\n \n int X;"}, {"sha": "050211ac355864fa3fa14ee9ef1d68dbe38b9a0c", "filename": "gcc/testsuite/g++.dg/lto/20091002-1_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20091002-1_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20091002-1_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20091002-1_0.C?ref=87af78d462a57ed24e57a87e978cd0820748b236", "patch": "@@ -1,6 +1,6 @@\n // { dg-lto-do link }\n // { dg-lto-options {{-fPIC -flto}} }\n-// { dg-extra-ld-options \"-fPIC -shared\" }\n+// { dg-extra-ld-options \"-fPIC -r -nostdlib\" }\n \n namespace std __attribute__ ((__visibility__ (\"default\")))\n {"}, {"sha": "c150e977d141a1bba6e258321bf91a31af675e9b", "filename": "gcc/testsuite/g++.dg/lto/20091002-2_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20091002-2_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20091002-2_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20091002-2_0.C?ref=87af78d462a57ed24e57a87e978cd0820748b236", "patch": "@@ -1,6 +1,6 @@\n // { dg-lto-do link }\n // { dg-lto-options {{-fPIC}} }\n-// { dg-extra-ld-options \"-fPIC -shared\" }\n+// { dg-extra-ld-options \"-fPIC -r -nostdlib\" }\n \n class DataArray {\n     int max() const    { }"}, {"sha": "3c77f4b596fcdaab92082fc2c4f8036b8c953dcc", "filename": "gcc/testsuite/g++.dg/lto/20091002-3_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20091002-3_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87af78d462a57ed24e57a87e978cd0820748b236/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20091002-3_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20091002-3_0.C?ref=87af78d462a57ed24e57a87e978cd0820748b236", "patch": "@@ -1,6 +1,6 @@\n // { dg-lto-do link }\n // { dg-lto-options {{-fPIC}} }\n-// { dg-extra-ld-options \"-fPIC -shared\" }\n+// { dg-extra-ld-options \"-fPIC -r -nostdlib\" }\n \n template < class T > \n class DataArray {"}]}