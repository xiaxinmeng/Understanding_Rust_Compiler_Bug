{"sha": "adc86fa52f4acec9cc8dc7243510d9c4eeee53d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWRjODZmYTUyZjRhY2VjOWNjOGRjNzI0MzUxMGQ5YzRlZWVlNTNkNw==", "commit": {"author": {"name": "Georg-Johann Lay", "email": "avr@gjlay.de", "date": "2016-12-21T13:50:11Z"}, "committer": {"name": "Georg-Johann Lay", "email": "gjl@gcc.gnu.org", "date": "2016-12-21T13:50:11Z"}, "message": "re PR testsuite/52641 (Test cases fail for 16-bit int targets)\n\ngcc/testsuite/\n\tPR testsuite/52641\n\t* gcc.dg/builtin-object-size-16.c (ia0, ia1, ia9): Handle case\n\twhere neither short nor int has a size of 4; use long.\n\t* gcc.dg/builtin-object-size-17.c: Same.\n\t* gcc.dg/builtin-stringop-chk-1.c (test2) <struct S>: Use int32_t\n\tfor components as 4 components are supposed to occupy 16 bytes.\n\t* gcc.dg/pr78408-1.c: Require target size32plus.\n\t* gcc.dg/pr78408-2.c: Same.\n\t* gcc.dg/tree-ssa/pr78428.c. Require target int32plus.\n\t* gcc.dg/tree-ssa/tailcall-7.c: Require target trampolines.\n\nFrom-SVN: r243854", "tree": {"sha": "e4c33657a56062c32c02f2eca5802feb9e70f102", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e4c33657a56062c32c02f2eca5802feb9e70f102"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/comments", "author": null, "committer": {"login": "sprintersb", "id": 8905355, "node_id": "MDQ6VXNlcjg5MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/8905355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sprintersb", "html_url": "https://github.com/sprintersb", "followers_url": "https://api.github.com/users/sprintersb/followers", "following_url": "https://api.github.com/users/sprintersb/following{/other_user}", "gists_url": "https://api.github.com/users/sprintersb/gists{/gist_id}", "starred_url": "https://api.github.com/users/sprintersb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sprintersb/subscriptions", "organizations_url": "https://api.github.com/users/sprintersb/orgs", "repos_url": "https://api.github.com/users/sprintersb/repos", "events_url": "https://api.github.com/users/sprintersb/events{/privacy}", "received_events_url": "https://api.github.com/users/sprintersb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e76d309851d86bea20d046239c7f64c4319a7edd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e76d309851d86bea20d046239c7f64c4319a7edd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e76d309851d86bea20d046239c7f64c4319a7edd"}], "stats": {"total": 31, "additions": 26, "deletions": 5}, "files": [{"sha": "b178e7335e8a47134afceaf27bc7ab8a15e9499f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=adc86fa52f4acec9cc8dc7243510d9c4eeee53d7", "patch": "@@ -1,3 +1,16 @@\n+2016-12-21  Georg-Johann Lay  <avr@gjlay.de>\n+\n+\tPR testsuite/52641\n+\t* gcc.dg/builtin-object-size-16.c (ia0, ia1, ia9): Handle case\n+\twhere neither short nor int has a size of 4; use long.\n+\t* gcc.dg/builtin-object-size-17.c: Same.\n+\t* gcc.dg/builtin-stringop-chk-1.c (test2) <struct S>: Use int32_t\n+\tfor components as 4 components are supposed to occupy 16 bytes.\n+\t* gcc.dg/pr78408-1.c: Require target size32plus.\n+\t* gcc.dg/pr78408-2.c: Same.\n+\t* gcc.dg/tree-ssa/pr78428.c. Require target int32plus.\n+\t* gcc.dg/tree-ssa/tailcall-7.c: Require target trampolines.\n+\n 2016-12-21  Toma Tabacu  <toma.tabacu@imgtec.com>\n \n \t* gcc.target/mips/msa-builtins.c (msa_insert_d): Tweak expected output."}, {"sha": "48229390bfd73335711c64236761c84c23cd3e0b", "filename": "gcc/testsuite/gcc.dg/builtin-object-size-16.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltin-object-size-16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltin-object-size-16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltin-object-size-16.c?ref=adc86fa52f4acec9cc8dc7243510d9c4eeee53d7", "patch": "@@ -69,6 +69,10 @@ static short ia9[9];\n extern int ia0[0];\n static int ia1[1];\n static int ia9[9];\n+#elif __SIZEOF_LONG__ == 4\n+extern long ia0[0];\n+static long ia1[1];\n+static long ia9[9];\n #endif\n \n static char a2x2[2][2];"}, {"sha": "0497bbf4505b468f47d0aea7e8c910e195c9146e", "filename": "gcc/testsuite/gcc.dg/builtin-object-size-17.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltin-object-size-17.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltin-object-size-17.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltin-object-size-17.c?ref=adc86fa52f4acec9cc8dc7243510d9c4eeee53d7", "patch": "@@ -64,6 +64,10 @@ static short ia9[9];\n extern int ia0[0];\n static int ia1[1];\n static int ia9[9];\n+#elif __SIZEOF_LONG__ == 4\n+extern long ia0[0];\n+static long ia1[1];\n+static long ia9[9];\n #endif\n \n static char a2x2[2][2];"}, {"sha": "3d970d772a286c9789c0d5cdbc87e01528ee6d9e", "filename": "gcc/testsuite/gcc.dg/builtin-stringop-chk-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltin-stringop-chk-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltin-stringop-chk-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltin-stringop-chk-1.c?ref=adc86fa52f4acec9cc8dc7243510d9c4eeee53d7", "patch": "@@ -105,7 +105,7 @@ test2 (const H h)\n   unsigned char buf[21];\n   memset (buf + 16, 0, 8); /* { dg-warning \"writing 8 \" \"memset\" } */\n \n-  typedef struct { int i, j, k, l; } S;\n+  typedef struct { __INT32_TYPE__ i, j, k, l; } S;\n   S *s[3];\n   memset (s, 0, sizeof (S) * 3); /* { dg-warning \"writing 48 \" \"memset\" } */\n "}, {"sha": "94e2090b374faa2c00c46afb17ca0f2e7a0f7abc", "filename": "gcc/testsuite/gcc.dg/pr78408-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2Fgcc.dg%2Fpr78408-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2Fgcc.dg%2Fpr78408-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr78408-1.c?ref=adc86fa52f4acec9cc8dc7243510d9c4eeee53d7", "patch": "@@ -1,5 +1,5 @@\n /* PR c/78408 */\n-/* { dg-do compile } */\n+/* { dg-do compile { target size32plus } } */\n /* { dg-options \"-O2 -fdump-tree-fab1-details\" } */\n /* { dg-final { scan-tree-dump-times \"after previous\" 17 \"fab1\" } } */\n "}, {"sha": "89c9b7eae435c093fd7d641d6fd9c5ddf65064c2", "filename": "gcc/testsuite/gcc.dg/pr78408-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2Fgcc.dg%2Fpr78408-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2Fgcc.dg%2Fpr78408-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr78408-2.c?ref=adc86fa52f4acec9cc8dc7243510d9c4eeee53d7", "patch": "@@ -1,5 +1,5 @@\n /* PR c/78408 */\n-/* { dg-do compile } */\n+/* { dg-do compile { target size32plus } } */\n /* { dg-options \"-O2 -fdump-tree-fab1-details\" } */\n /* { dg-final { scan-tree-dump-not \"after previous\" \"fab1\" } } */\n "}, {"sha": "fa1cc9b0b61ae6df75f184514c571fa26adf42bd", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr78428.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr78428.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr78428.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr78428.c?ref=adc86fa52f4acec9cc8dc7243510d9c4eeee53d7", "patch": "@@ -1,6 +1,6 @@\n /* PR tree-optimization/78428.  */\n /* { dg-options \"-O2\" } */\n-/* { dg-do run } */\n+/* { dg-do run { target int32plus } } */\n \n struct S0\n {"}, {"sha": "def8d137f7c4ed32ce7757d3fe881b34512c9cd7", "filename": "gcc/testsuite/gcc.dg/tree-ssa/tailcall-7.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Ftailcall-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adc86fa52f4acec9cc8dc7243510d9c4eeee53d7/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Ftailcall-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Ftailcall-7.c?ref=adc86fa52f4acec9cc8dc7243510d9c4eeee53d7", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-do compile } */\n+/* { dg-do compile { target trampolines } } */\n /* { dg-options \"-O2 -fdump-tree-tailc-details\" } */\n \n struct s { int x; };"}]}