{"sha": "7990b46f6c184388750f820b8ad2ba7936c899d1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzk5MGI0NmY2YzE4NDM4ODc1MGY4MjBiOGFkMmJhNzkzNmM4OTlkMQ==", "commit": {"author": {"name": "Matt Kraai", "email": "kraai@alumni.cmu.edu", "date": "2002-07-10T00:33:52Z"}, "committer": {"name": "Matt Kraai", "email": "kraai@gcc.gnu.org", "date": "2002-07-10T00:33:52Z"}, "message": "aix.h: Convert CPP_PREDEFINES to TARGET_OS_CPP_BUILTINS.\n\n\t* config/rs6000/aix.h: Convert CPP_PREDEFINES to\n\tTARGET_OS_CPP_BUILTINS.\n\t* config/rs6000/aix31.h: Likewise.\n\t* config/rs6000/aix41.h: Likewise.\n\t* config/rs6000/aix43.h: Likewise.\n\t* config/rs6000/aix51.h: Likewise.\n\t* config/rs6000/beos.h: Likewise.\n\t* config/rs6000/darwin.h: Likewise.\n\t* config/rs6000/eabi.h: Likewise.\n\t* config/rs6000/eabisim.h: Likewise.\n\t* config/rs6000/linux.h: Likewise.\n\t* config/rs6000/linux64.h: Likewise.\n\t* config/rs6000/lynx.h: Likewise.\n\t* config/rs6000/mach.h: Likewise.\n\t* config/rs6000/rtems.h: Likewise.\n\t* config/rs6000/sysv4.h: Likewise.\n\t* config/rs6000/vxppc.h: Likewise.\n\nFrom-SVN: r55356", "tree": {"sha": "6facea888c34905af12eb1791c9d5008e4f91e14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6facea888c34905af12eb1791c9d5008e4f91e14"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7990b46f6c184388750f820b8ad2ba7936c899d1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7990b46f6c184388750f820b8ad2ba7936c899d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7990b46f6c184388750f820b8ad2ba7936c899d1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7990b46f6c184388750f820b8ad2ba7936c899d1/comments", "author": null, "committer": null, "parents": [{"sha": "28a34ec177e7e31eea2d7eb2ce7c2a6bc1ffe06a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28a34ec177e7e31eea2d7eb2ce7c2a6bc1ffe06a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28a34ec177e7e31eea2d7eb2ce7c2a6bc1ffe06a"}], "stats": {"total": 269, "additions": 225, "deletions": 44}, "files": [{"sha": "47805c96fcde6fa583d50b6ea52e907f2b486419", "filename": "gcc/ChangeLog", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -1,3 +1,22 @@\n+2002-07-09  Matt Kraai  <kraai@alumni.cmu.edu>\n+\n+\t* config/rs6000/aix.h: Convert CPP_PREDEFINES to\n+\tTARGET_OS_CPP_BUILTINS.\n+\t* config/rs6000/aix31.h: Likewise.\n+\t* config/rs6000/aix41.h: Likewise.\n+\t* config/rs6000/aix43.h: Likewise.\n+\t* config/rs6000/aix51.h: Likewise.\n+\t* config/rs6000/beos.h: Likewise.\n+\t* config/rs6000/darwin.h: Likewise.\n+\t* config/rs6000/eabi.h: Likewise.\n+\t* config/rs6000/eabisim.h: Likewise.\n+\t* config/rs6000/linux.h: Likewise.\n+\t* config/rs6000/linux64.h: Likewise.\n+\t* config/rs6000/lynx.h: Likewise.\n+\t* config/rs6000/mach.h: Likewise.\n+\t* config/rs6000/rtems.h: Likewise.\n+\t* config/rs6000/sysv4.h: Likewise.\n+\t* config/rs6000/vxppc.h: Likewise.\n \n 2002-07-09 Devang Patel <dpatel@apple.com>\n \t* objc/objc-act.c (adjust_type_for_id_default): Fix my previous patch."}, {"sha": "5e619e64d05f4860cc610f217e90cb54c07e5961", "filename": "gcc/config/rs6000/aix.h", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Faix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Faix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Faix.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -41,8 +41,20 @@ Boston, MA 02111-1307, USA.  */\n #define LINK_LIBGCC_SPECIAL_1\n \n /* Names to predefine in the preprocessor for this target machine.  */\n-#define CPP_PREDEFINES \"-D_IBMR2 -D_POWER -D_AIX -D_AIX32 -D_LONG_LONG \\\n--Asystem=unix -Asystem=aix -Acpu=rs6000 -Amachine=rs6000\"\n+#define TARGET_OS_CPP_BUILTINS()         \\\n+  do                                     \\\n+    {                                    \\\n+      builtin_define (\"_IBMR2\");         \\\n+      builtin_define (\"_POWER\");         \\\n+      builtin_define (\"_AIX\");           \\\n+      builtin_define (\"_AIX32\");         \\\n+      builtin_define (\"_LONG_LONG\");     \\\n+      builtin_assert (\"system=unix\");    \\\n+      builtin_assert (\"system=aix\");     \\\n+      builtin_assert (\"cpu=rs6000\");     \\\n+      builtin_assert (\"machine=rs6000\"); \\\n+    }                                    \\\n+  while (0)\n \n /* Define appropriate architecture macros for preprocessor depending on\n    target switches.  */"}, {"sha": "f390addb6e7568494c5bd4bc4a8efae36a83ca2f", "filename": "gcc/config/rs6000/aix31.h", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Faix31.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Faix31.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Faix31.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -60,8 +60,18 @@ Boston, MA 02111-1307, USA.  */\n }\n \n /* AIX 3.2 defined _AIX32, but older versions do not.  */\n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-D_IBMR2 -D_AIX -Asystem=unix -Asystem=aix -Acpu=rs6000 -Amachine=rs6000\"\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()         \\\n+  do                                     \\\n+    {                                    \\\n+      builtin_define (\"_IBMR2\");         \\\n+      builtin_define (\"_AIX\");           \\\n+      builtin_assert (\"system=unix\");    \\\n+      builtin_assert (\"system=aix\");     \\\n+      builtin_assert (\"cpu=rs6000\");     \\\n+      builtin_assert (\"machine=rs6000\"); \\\n+    }                                    \\\n+  while (0)\n \n /* AIX 3.1 uses bit 15 in CROR as the magic nop.  */\n #undef RS6000_CALL_GLUE"}, {"sha": "7f23a48a4a9b9138f367f62dec1e8fc02f821da5", "filename": "gcc/config/rs6000/aix41.h", "status": "modified", "additions": 14, "deletions": 3, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Faix41.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Faix41.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Faix41.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -33,9 +33,20 @@ Boston, MA 02111-1307, USA.  */\n #undef\tASM_DEFAULT_SPEC\n #define ASM_DEFAULT_SPEC \"-mcom\"\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-D_IBMR2 -D_POWER -D_AIX -D_AIX32 -D_AIX41 \\\n--D_LONG_LONG -Asystem=unix -Asystem=aix\"\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()      \\\n+  do                                  \\\n+    {                                 \\\n+      builtin_define (\"_IBMR2\");      \\\n+      builtin_define (\"_POWER\");      \\\n+      builtin_define (\"_AIX\");        \\\n+      builtin_define (\"_AIX32\");      \\\n+      builtin_define (\"_AIX41\");      \\\n+      builtin_define (\"_LONG_LONG\");  \\\n+      builtin_assert (\"system=unix\"); \\\n+      builtin_assert (\"system=aix\");  \\\n+    }                                 \\\n+  while (0)\n \n #undef CPP_SPEC\n #define CPP_SPEC \"%{posix: -D_POSIX_SOURCE}\\"}, {"sha": "bcbfcf2b2574c2ca772ae173212cc040f785f54a", "filename": "gcc/config/rs6000/aix43.h", "status": "modified", "additions": 15, "deletions": 3, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Faix43.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Faix43.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Faix43.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -96,9 +96,21 @@ do {\t\t\t\t\t\t\t\t\t\\\n #undef\tASM_DEFAULT_SPEC\n #define ASM_DEFAULT_SPEC \"-mcom\"\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-D_IBMR2 -D_POWER -D_AIX -D_AIX32 -D_AIX41 -D_AIX43 \\\n--D_LONG_LONG -Asystem=unix -Asystem=aix\"\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()      \\\n+  do                                  \\\n+    {                                 \\\n+      builtin_define (\"_IBMR2\");      \\\n+      builtin_define (\"_POWER\");      \\\n+      builtin_define (\"_AIX\");        \\\n+      builtin_define (\"_AIX32\");      \\\n+      builtin_define (\"_AIX41\");      \\\n+      builtin_define (\"_AIX43\");      \\\n+      builtin_define (\"_LONG_LONG\");  \\\n+      builtin_assert (\"system=unix\"); \\\n+      builtin_assert (\"system=aix\");  \\\n+    }                                 \\\n+  while (0)\n \n #undef CPP_SPEC\n #define CPP_SPEC \"%{posix: -D_POSIX_SOURCE}\\"}, {"sha": "552394e2635c58be88e762fcba715d3fa61ed185", "filename": "gcc/config/rs6000/aix51.h", "status": "modified", "additions": 16, "deletions": 3, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Faix51.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Faix51.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Faix51.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -96,9 +96,22 @@ do {\t\t\t\t\t\t\t\t\t\\\n #undef\tASM_DEFAULT_SPEC\n #define ASM_DEFAULT_SPEC \"-mcom\"\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-D_IBMR2 -D_POWER -D_LONG_LONG \\\n--D_AIX -D_AIX32 -D_AIX41 -D_AIX43 -D_AIX51 -Asystem=unix -Asystem=aix\"\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()      \\\n+  do                                  \\\n+    {                                 \\\n+      builtin_define (\"_IBMR2\");      \\\n+      builtin_define (\"_POWER\");      \\\n+      builtin_define (\"_LONG_LONG\");  \\\n+      builtin_define (\"_AIX\");        \\\n+      builtin_define (\"_AIX32\");      \\\n+      builtin_define (\"_AIX41\");      \\\n+      builtin_define (\"_AIX43\");      \\\n+      builtin_define (\"_AIX51\");      \\\n+      builtin_assert (\"system=unix\"); \\\n+      builtin_assert (\"system=aix\");  \\\n+    }                                 \\\n+  while (0)\n \n #undef CPP_SPEC\n #define CPP_SPEC \"%{posix: -D_POSIX_SOURCE}\t\\"}, {"sha": "1f788c31c25ca631ebe24d4fefe7a557777279a1", "filename": "gcc/config/rs6000/beos.h", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Fbeos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Fbeos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fbeos.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -38,9 +38,18 @@ Boston, MA 02111-1307, USA.  */\n #undef ASM_SPEC\n #define ASM_SPEC \"-u %(asm_cpu)\"\n \n-#undef CPP_PREDEFINES\n+#undef TARGET_OS_CPP_BUILTINS\n /* __POWERPC__ must be defined for some header files */\n-#define CPP_PREDEFINES \"-D__BEOS__ -D__POWERPC__ -Asystem=beos -Acpu=powerpc -Amachine=powerpc\"\n+#define TARGET_OS_CPP_BUILTINS()          \\\n+  do                                      \\\n+    {                                     \\\n+      builtin_define (\"__BEOS__\");        \\\n+      builtin_define (\"__POWERPC__\");     \\\n+      builtin_assert (\"system=beos\");     \\\n+      builtin_assert (\"cpu=powerpc\");     \\\n+      builtin_assert (\"machine=powerpc\"); \\\n+    }                                     \\\n+  while (0)\n \n #undef CPP_SPEC\n #define CPP_SPEC \"%{posix: -D_POSIX_SOURCE}\""}, {"sha": "f874354634bd3a02b5e13778ff9de21b5f42c137", "filename": "gcc/config/rs6000/darwin.h", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fdarwin.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -44,7 +44,16 @@ Boston, MA 02111-1307, USA.  */\n #define SUBTARGET_OVERRIDE_OPTIONS  \\\n   rs6000_altivec_abi = 1;\n \n-#define CPP_PREDEFINES \"-D__ppc__ -D__POWERPC__ -D__NATURAL_ALIGNMENT__ -D__MACH__ -D__APPLE__\"\n+#define TARGET_OS_CPP_BUILTINS()                \\\n+  do                                            \\\n+    {                                           \\\n+      builtin_define (\"__ppc__\");               \\\n+      builtin_define (\"__POWERPC__\");           \\\n+      builtin_define (\"__NATURAL_ALIGNMENT__\"); \\\n+      builtin_define (\"__MACH__\");              \\\n+      builtin_define (\"__APPLE__\");             \\\n+    }                                           \\\n+  while (0)\n \n /* We want -fPIC by default, unless we're using -static to compile for\n    the kernel or some such.  */"}, {"sha": "fd41177ea33a54431b1cdcb6f23fbecb49ed6d4f", "filename": "gcc/config/rs6000/eabi.h", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Feabi.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Feabi.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Feabi.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -31,6 +31,14 @@ Boston, MA 02111-1307, USA.  */\n #undef TARGET_VERSION\n #define TARGET_VERSION fprintf (stderr, \" (PowerPC Embedded)\");\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \\\n-  \"-DPPC -D__embedded__ -Asystem=embedded -Acpu=powerpc -Amachine=powerpc\"\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()          \\\n+  do                                      \\\n+    {                                     \\\n+      builtin_define_std (\"PPC\");         \\\n+      builtin_define (\"__embedded__\");    \\\n+      builtin_assert (\"system=embedded\"); \\\n+      builtin_assert (\"cpu=powerpc\");     \\\n+      builtin_assert (\"machine=powerpc\"); \\\n+    }                                     \\\n+  while (0)"}, {"sha": "00f710e5cb4a4ef49d63d07d82232cc5a8a0e563", "filename": "gcc/config/rs6000/eabisim.h", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Feabisim.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Feabisim.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Feabisim.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -23,9 +23,19 @@ Boston, MA 02111-1307, USA.  */\n #undef TARGET_VERSION\n #define TARGET_VERSION fprintf (stderr, \" (PowerPC Simulated)\");\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \\\n-  \"-DPPC -D__embedded__ -D__simulator__ -Asystem=embedded -Asystem=simulator -Acpu=powerpc -Amachine=powerpc\"\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()           \\\n+  do                                       \\\n+    {                                      \\\n+      builtin_define_std (\"PPC\");          \\\n+      builtin_define (\"__embedded__\");     \\\n+      builtin_define (\"__simulator__\");    \\\n+      builtin_assert (\"system=embedded\");  \\\n+      builtin_assert (\"system=simulator\"); \\\n+      builtin_assert (\"cpu=powerpc\");      \\\n+      builtin_assert (\"machine=powerpc\");  \\\n+    }                                      \\\n+  while (0)\n \n /* Make the simulator the default */\n #undef\tLIB_DEFAULT_SPEC"}, {"sha": "0beaa618d947aa11893daa5c1245408a3cbfbbe2", "filename": "gcc/config/rs6000/linux.h", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Flinux.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -27,9 +27,17 @@ Boston, MA 02111-1307, USA.  */\n #undef MD_EXEC_PREFIX\n #undef MD_STARTFILE_PREFIX\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \\\n- \"-DPPC -D__ELF__ -Dpowerpc -Acpu=powerpc -Amachine=powerpc\"\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()          \\\n+  do                                      \\\n+    {                                     \\\n+      builtin_define_std (\"PPC\");         \\\n+      builtin_define (\"__ELF__\");         \\\n+      builtin_define_std (\"powerpc\");     \\\n+      builtin_assert (\"cpu=powerpc\");     \\\n+      builtin_assert (\"machine=powerpc\"); \\\n+    }                                     \\\n+  while (0)\n \n #undef\tCPP_OS_DEFAULT_SPEC\n #define CPP_OS_DEFAULT_SPEC \"%(cpp_os_linux)\""}, {"sha": "192e6cc98532aea8906240cde196e9b967456f6f", "filename": "gcc/config/rs6000/linux64.h", "status": "modified", "additions": 14, "deletions": 5, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Flinux64.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -106,11 +106,20 @@ Boston, MA 02111-1307, USA.  */\n #undef MD_EXEC_PREFIX\n #undef MD_STARTFILE_PREFIX\n \n-#undef  CPP_PREDEFINES\n-#define CPP_PREDEFINES \\\n- \"-D_PPC_ -D__PPC__ -D_PPC64_ -D__PPC64__ -D__powerpc__ -D__powerpc64__ \\\n-  -D_PIC_ -D__PIC__ -D__ELF__ \\\n-  -Acpu=powerpc64 -Amachine=powerpc64\"\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()            \\\n+  do                                        \\\n+    {                                       \\\n+      builtin_define (\"__PPC__\");           \\\n+      builtin_define (\"__PPC64__\");         \\\n+      builtin_define (\"__powerpc__\");       \\\n+      builtin_define (\"__powerpc64__\");     \\\n+      builtin_define (\"__PIC__\");           \\\n+      builtin_define (\"__ELF__\");           \\\n+      builtin_assert (\"cpu=powerpc64\");     \\\n+      builtin_assert (\"machine=powerpc64\"); \\\n+    }                                       \\\n+  while (0)\n \n #undef  CPP_OS_DEFAULT_SPEC\n #define CPP_OS_DEFAULT_SPEC \"%(cpp_os_linux)\""}, {"sha": "7878ef94a1754e465a8ce3c1e7aacbcf117304fb", "filename": "gcc/config/rs6000/lynx.h", "status": "modified", "additions": 16, "deletions": 2, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Flynx.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Flynx.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Flynx.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -53,8 +53,22 @@ Boston, MA 02111-1307, USA.  */\n #undef DEFAULT_SIGNED_CHAR\n #define DEFAULT_SIGNED_CHAR 1\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-Acpu=rs6000 -Amachine=rs6000 -Asystem=lynx -Asystem=unix -DLynx -D_IBMR2 -Dunix -Drs6000 -Dlynx -DLYNX\"\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()         \\\n+  do                                     \\\n+    {                                    \\\n+      builtin_assert (\"cpu=rs6000\");     \\\n+      builtin_assert (\"machine=rs6000\"); \\\n+      builtin_assert (\"system=lynx\");    \\\n+      builtin_assert (\"system=unix\");    \\\n+      builtin_define_std (\"Lynx\");       \\\n+      builtin_define (\"_IBMR2\");         \\\n+      builtin_define_std (\"unix\");       \\\n+      builtin_define_std (\"rs6000\");     \\\n+      builtin_define_std (\"lynx\");       \\\n+      builtin_define_std (\"LYNX\");       \\\n+    }                                    \\\n+  while (0)\n \n #undef LINK_SPEC\n #define LINK_SPEC \"-T0x10001000 -H0x1000 -D0x20000000 -btextro -bhalt:4 -bnodelcsect -bnso -bro -bnoglink %{v} %{b*}\""}, {"sha": "a246f91fdab2725e0c6d4fbae68322fb27d34e5a", "filename": "gcc/config/rs6000/mach.h", "status": "modified", "additions": 13, "deletions": 2, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Fmach.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Fmach.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fmach.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -26,8 +26,19 @@ Boston, MA 02111-1307, USA.  */\n #define TARGET_VERSION fprintf (stderr, \" (Mach-RS/6000)\");\n \n /* We don't define AIX under MACH; instead we define `unix'.  */\n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-Drios -D_IBMR2 -Dunix -Asystem=unix -Asystem=mach -Acpu=rs6000 -Amachine=rs6000\"\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()         \\\n+  do                                     \\\n+    {                                    \\\n+      builtin_define_std (\"rios\");       \\\n+      builtin_define (\"_IBMR2\");         \\\n+      builtin_define_std (\"unix\");       \\\n+      builtin_assert (\"system=unix\");    \\\n+      builtin_assert (\"system=mach\");    \\\n+      builtin_assert (\"cpu=rs6000\");     \\\n+      builtin_assert (\"machine=rs6000\"); \\\n+    }                                    \\\n+  while (0)\n \n /* Define different binder options for MACH.  */\n #undef LINK_SPEC"}, {"sha": "072d86c4ca284a730c40628862c0456cbcf1644d", "filename": "gcc/config/rs6000/rtems.h", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Frtems.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Frtems.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frtems.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -21,6 +21,14 @@ Boston, MA 02111-1307, USA.  */\n \n /* Specify predefined symbols in preprocessor.  */\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-DPPC -D__rtems__ \\\n-   -Asystem=rtems -Acpu=powerpc -Amachine=powerpc\"\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()          \\\n+  do                                      \\\n+    {                                     \\\n+      builtin_define_std (\"PPC\");         \\\n+      builtin_define (\"__rtems__\");       \\\n+      builtin_assert (\"system=rtems\");    \\\n+      builtin_assert (\"cpu=powerpc\");     \\\n+      builtin_assert (\"machine=powerpc\"); \\\n+    }                                     \\\n+  while (0)"}, {"sha": "4433936625320d3b6184964964bf72349f27df63", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -808,9 +808,19 @@ do {\t\t\t\t\t\t\\\n #define\tTARGET_VERSION fprintf (stderr, \" (PowerPC System V.4)\");\n #endif\n \f\n-#ifndef\tCPP_PREDEFINES\n-#define\tCPP_PREDEFINES \\\n-  \"-DPPC -Dunix -D__svr4__ -Asystem=unix -Asystem=svr4 -Acpu=powerpc -Amachine=powerpc\"\n+#ifndef\tTARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()          \\\n+  do                                      \\\n+    {                                     \\\n+      builtin_define_std (\"PPC\");         \\\n+      builtin_define_std (\"unix\");        \\\n+      builtin_define (\"__svr4__\");        \\\n+      builtin_assert (\"system=unix\");     \\\n+      builtin_assert (\"system=svr4\");     \\\n+      builtin_assert (\"cpu=powerpc\");     \\\n+      builtin_assert (\"machine=powerpc\"); \\\n+    }                                     \\\n+  while (0)\n #endif\n \n /* Pass various options to the assembler.  */"}, {"sha": "91250a6890945a47db5699a357a4a2fa68f38be6", "filename": "gcc/config/rs6000/vxppc.h", "status": "modified", "additions": 12, "deletions": 4, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Fvxppc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7990b46f6c184388750f820b8ad2ba7936c899d1/gcc%2Fconfig%2Frs6000%2Fvxppc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fvxppc.h?ref=7990b46f6c184388750f820b8ad2ba7936c899d1", "patch": "@@ -39,10 +39,18 @@ Boston, MA 02111-1307, USA.  */\n #undef\tLINK_OS_DEFAULT_SPEC\n #define LINK_OS_DEFAULT_SPEC \"%(link_os_vxworks)\"\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"\\\n--D__vxworks -D__vxworks__ -Asystem=vxworks -Asystem=embedded \\\n--Acpu=powerpc -Amachine=powerpc\"\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()          \\\n+  do                                      \\\n+    {                                     \\\n+      builtin_define (\"__vxworks\");       \\\n+      builtin_define (\"__vxworks__\");     \\\n+      builtin_assert (\"system=vxworks\");  \\\n+      builtin_assert (\"system=embedded\"); \\\n+      builtin_assert (\"cpu=powerpc\");     \\\n+      builtin_assert (\"machine=powerpc\"); \\\n+    }                                     \\\n+  while (0)\n \n /* We use stabs-in-elf for debugging */\n #undef PREFERRED_DEBUGGING_TYPE"}]}