{"sha": "c1f9de5a735ed339650616bc253ec42464f7ae21", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzFmOWRlNWE3MzVlZDMzOTY1MDYxNmJjMjUzZWM0MjQ2NGY3YWUyMQ==", "commit": {"author": {"name": "Diego Novillo", "email": "dnovillo@cygnus.com", "date": "2000-10-16T16:52:47Z"}, "committer": {"name": "Diego Novillo", "email": "dnovillo@gcc.gnu.org", "date": "2000-10-16T16:52:47Z"}, "message": "unix.h (ASM_OUTPUT_MI_THUNK): Output final jump using appropriate assembler dialect.\n\n2000-10-13  Diego Novillo  <dnovillo@cygnus.com>\n\n\t* config/i386/unix.h (ASM_OUTPUT_MI_THUNK): Output final jump using\n\tappropriate assembler dialect.\n\nFrom-SVN: r36887", "tree": {"sha": "ee0ae1aba35390fecd18254462e26bfa901a46b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ee0ae1aba35390fecd18254462e26bfa901a46b7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c1f9de5a735ed339650616bc253ec42464f7ae21", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1f9de5a735ed339650616bc253ec42464f7ae21", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1f9de5a735ed339650616bc253ec42464f7ae21", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1f9de5a735ed339650616bc253ec42464f7ae21/comments", "author": null, "committer": null, "parents": [{"sha": "11f3dc892278fdfc15f586ea092118d2d1b04f37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11f3dc892278fdfc15f586ea092118d2d1b04f37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11f3dc892278fdfc15f586ea092118d2d1b04f37"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "205785ad5706ad460b51c5ef41346a75cd60d5de", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1f9de5a735ed339650616bc253ec42464f7ae21/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1f9de5a735ed339650616bc253ec42464f7ae21/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c1f9de5a735ed339650616bc253ec42464f7ae21", "patch": "@@ -47,6 +47,11 @@\n \n \t* gcc.texi (Contributing): Update.\n \n+2000-10-13  Diego Novillo  <dnovillo@cygnus.com>\n+\n+\t* config/i386/unix.h (ASM_OUTPUT_MI_THUNK): Output final jump using\n+\tappropriate assembler dialect.\n+\n 2000-10-13  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* c-common.c (c_expand_builtin): PARAMS-ize prototype."}, {"sha": "eea359cdf5725003b23a0ef7f6c634368a76672b", "filename": "gcc/config/i386/unix.h", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1f9de5a735ed339650616bc253ec42464f7ae21/gcc%2Fconfig%2Fi386%2Funix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1f9de5a735ed339650616bc253ec42464f7ae21/gcc%2Fconfig%2Fi386%2Funix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Funix.h?ref=c1f9de5a735ed339650616bc253ec42464f7ae21", "patch": "@@ -118,9 +118,11 @@ do {\t\t\t\t\t\t\t\t\t    \\\n       ASM_OUTPUT_INTERNAL_LABEL (FILE, \"L\", CODE_LABEL_NUMBER (xops[1]));   \\\n       output_asm_insn (\"pop{l}\\t%0\", xops);\t\t\t\t    \\\n       output_asm_insn (\"add{l}\\t$_GLOBAL_OFFSET_TABLE_+[.-%P1], %0\", xops); \\\n-      fprintf (FILE, \"\\tmovl \");\t\t\t\t\t    \\\n-      assemble_name (FILE, XSTR (XEXP (DECL_RTL (FUNCTION), 0), 0));\t    \\\n-      fprintf (FILE, \"@GOT(%%ebx),%%ecx\\n\\tpopl %%ebx\\n\\tjmp *%%ecx\\n\");    \\\n+      xops[0] = gen_rtx_MEM (SImode, XEXP (DECL_RTL (FUNCTION), 0));\t    \\\n+      output_asm_insn (\"mov{l}\\t{%0@GOT(%%ebx), %%ecx|%%ecx, %0@GOT[%%ebx]}\",\\\n+\t               xops);\t\t\t\t\t\t    \\\n+      asm_fprintf (FILE, \"\\tpop{l\\t%%ebx|\\t%%ebx}\\n\");\t\t\t    \\\n+      asm_fprintf (FILE, \"\\tjmp\\t{*%%ecx|%%ecx}\\n\");\t\t\t    \\\n     }\t\t\t\t\t\t\t\t\t    \\\n   else\t\t\t\t\t\t\t\t\t    \\\n     {\t\t\t\t\t\t\t\t\t    \\"}]}