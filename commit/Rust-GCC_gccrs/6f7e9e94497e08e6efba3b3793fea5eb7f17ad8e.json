{"sha": "6f7e9e94497e08e6efba3b3793fea5eb7f17ad8e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmY3ZTllOTQ0OTdlMDhlNmVmYmEzYjM3OTNmZWE1ZWI3ZjE3YWQ4ZQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2002-10-01T19:13:12Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2002-10-01T19:13:12Z"}, "message": "jcf-dump.c (print_constant, [...]): Don't fall foul of type-based aliasing.\n\n\t* jcf-dump.c (print_constant, case CONSTANT_float): Don't fall\n\tfoul of type-based aliasing.\n\nFrom-SVN: r57699", "tree": {"sha": "304e594d569cf875f5c6f04bf21588735a992445", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/304e594d569cf875f5c6f04bf21588735a992445"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6f7e9e94497e08e6efba3b3793fea5eb7f17ad8e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f7e9e94497e08e6efba3b3793fea5eb7f17ad8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f7e9e94497e08e6efba3b3793fea5eb7f17ad8e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f7e9e94497e08e6efba3b3793fea5eb7f17ad8e/comments", "author": null, "committer": null, "parents": [{"sha": "73a737681502c4880bee7b1825a4ff0c30f97e79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73a737681502c4880bee7b1825a4ff0c30f97e79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73a737681502c4880bee7b1825a4ff0c30f97e79"}], "stats": {"total": 19, "additions": 16, "deletions": 3}, "files": [{"sha": "07c53ec1ccfa996cfdfd51c4c629bb4fd2e6ed74", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f7e9e94497e08e6efba3b3793fea5eb7f17ad8e/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f7e9e94497e08e6efba3b3793fea5eb7f17ad8e/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=6f7e9e94497e08e6efba3b3793fea5eb7f17ad8e", "patch": "@@ -1,3 +1,8 @@\n+2002-10-01  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* jcf-dump.c (print_constant, case CONSTANT_float): Don't fall\n+\tfoul of type-based aliasing.\n+\n 2002-09-30  Anthony Green  <green@redhat.com>\n \n \t* gcj.texi (Invoking jv-scan): Fix texinfo."}, {"sha": "2824a6b3cc96ba545247057db300b0bfefab86f6", "filename": "gcc/java/jcf-dump.c", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f7e9e94497e08e6efba3b3793fea5eb7f17ad8e/gcc%2Fjava%2Fjcf-dump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f7e9e94497e08e6efba3b3793fea5eb7f17ad8e/gcc%2Fjava%2Fjcf-dump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjcf-dump.c?ref=6f7e9e94497e08e6efba3b3793fea5eb7f17ad8e", "patch": "@@ -504,10 +504,18 @@ DEFUN(print_constant, (out, jcf, index, verbosity),\n       break;\n     case CONSTANT_Float:\n       {\n-\tjfloat fnum = JPOOL_FLOAT (jcf, index);\n-\tfprintf (out, \"%s%.10g\", verbosity > 0 ? \"Float \" : \"\", (double) fnum);\n+\tunion\n+\t{\n+\t  jfloat f;\n+\t  int32 i;\n+\t} pun;\n+\t\n+\tpun.f = JPOOL_FLOAT (jcf, index);\n+\tfprintf (out, \"%s%.10g\",\n+\t\t verbosity > 0 ? \"Float \" : \"\", (double) pun.f);\n \tif (verbosity > 1)\n-\t  fprintf (out, \", bits = 0x%08lx\", (long) (* (int32 *) &fnum));\n+\t  fprintf (out, \", bits = 0x%08lx\", (long) pun.i);\n+\t\n \tbreak;\n       }\n     case CONSTANT_Double:"}]}