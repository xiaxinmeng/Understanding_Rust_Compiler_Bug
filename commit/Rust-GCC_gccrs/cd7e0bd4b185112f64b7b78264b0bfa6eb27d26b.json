{"sha": "cd7e0bd4b185112f64b7b78264b0bfa6eb27d26b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2Q3ZTBiZDRiMTg1MTEyZjY0YjdiNzgyNjRiMGJmYTZlYjI3ZDI2Yg==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2008-03-19T14:50:15Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2008-03-19T14:50:15Z"}, "message": "re PR target/35496 (test failures between revs. 132950 and 132974)\n\n\tPR target/35496\n\t* stor-layout.c (update_alignment_for_field): Set minimum alignment\n\tof the underlying type of a MS bitfield layout to the natural\n\talignment of the type.\n\nFrom-SVN: r133343", "tree": {"sha": "f10ab1a7565027d5e589af4f98fe489ea89a9789", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f10ab1a7565027d5e589af4f98fe489ea89a9789"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cd7e0bd4b185112f64b7b78264b0bfa6eb27d26b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd7e0bd4b185112f64b7b78264b0bfa6eb27d26b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd7e0bd4b185112f64b7b78264b0bfa6eb27d26b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd7e0bd4b185112f64b7b78264b0bfa6eb27d26b/comments", "author": null, "committer": null, "parents": [{"sha": "8ddbbcaea4d6a9d33ea49ed09b9a8bd6a35af819", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ddbbcaea4d6a9d33ea49ed09b9a8bd6a35af819", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ddbbcaea4d6a9d33ea49ed09b9a8bd6a35af819"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "21135c054c6992a2525823defd3e63b5e52d1249", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 4, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd7e0bd4b185112f64b7b78264b0bfa6eb27d26b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd7e0bd4b185112f64b7b78264b0bfa6eb27d26b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cd7e0bd4b185112f64b7b78264b0bfa6eb27d26b", "patch": "@@ -1,3 +1,10 @@\n+2008-03-19  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR target/35496\n+\t* stor-layout.c (update_alignment_for_field): Set minimum alignment\n+\tof the underlying type of a MS bitfield layout to the natural\n+\talignment of the type.\n+\n 2008-03-19  Jan Hubicka  <jh@suse.cz>\n \n \tPR other/35094\n@@ -283,7 +290,7 @@\n \t(maybe_fold_stmt_addition): Likewise.\n \n 2008-03-15  Bjoern Haase  <bjoern.m.haase@web.de>\n-            Anatoly Sokolov <aesok@post.ru>\n+\t    Anatoly Sokolov <aesok@post.ru>\n \n \t* gcc/gcc/config/avr/avr.c (avr_arch_types): Add avr6 entry.\n \t(avr_arch): Add ARCH_AVR6.\n@@ -1123,7 +1130,7 @@\n 2008-03-04  Danny Smith  <dannysmith@users.sourceforge.net>\n \n \t* config/i386/i386.md (allocate_stack_worker_32): Use  __chkstk\n-        label to probe the stack.\n+\tlabel to probe the stack.\n \n 2008-03-04  Danny Smith  <dannysmith@users.sourceforge.net>\n \n@@ -1688,7 +1695,7 @@\n \n 2008-02-26  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n \n-        PR 26264\n+\tPR 26264\n \t* builtins.def (BUILT_IN_STDARG_START): Remove.\n \t* builtins.c (expand_builtin): Remove BUILT_IN_STDARG_START.\n \t* tree-stdarg.c (execute_optimize_stdarg): Likewise.\n@@ -1868,7 +1875,7 @@\n \tPR fortran/29549\n \t* doc/invoke.texi (-fcx-limited-range): Document new option.\n \t* toplev.c (process_options): Handle -fcx-fortran-rules.\n-        * common.opt: Add documentation for -fcx-fortran-rules.\n+\t* common.opt: Add documentation for -fcx-fortran-rules.\n \n 2008-02-25  Janne Blomqvist  <jb@gcc.gnu.org>\n "}, {"sha": "ff46687834db93cbc2f82879b843eb2c04803742", "filename": "gcc/stor-layout.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd7e0bd4b185112f64b7b78264b0bfa6eb27d26b/gcc%2Fstor-layout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd7e0bd4b185112f64b7b78264b0bfa6eb27d26b/gcc%2Fstor-layout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstor-layout.c?ref=cd7e0bd4b185112f64b7b78264b0bfa6eb27d26b", "patch": "@@ -699,6 +699,9 @@ update_alignment_for_field (record_layout_info rli, tree field,\n \t\t && ! integer_zerop (DECL_SIZE (rli->prev_field)))))\n \t{\n \t  unsigned int type_align = TYPE_ALIGN (type);\n+\t  unsigned int type_size\n+\t    = tree_low_cst (TYPE_SIZE (type), 1);\n+\t  type_align = MAX (type_align, type_size);\n \t  type_align = MAX (type_align, desired_align);\n \t  if (maximum_field_alignment != 0)\n \t    type_align = MIN (type_align, maximum_field_alignment);"}]}