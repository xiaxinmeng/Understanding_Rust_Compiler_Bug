{"sha": "65715deac9bb944b40b8be17594e889b4f1e51cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjU3MTVkZWFjOWJiOTQ0YjQwYjhiZTE3NTk0ZTg4OWI0ZjFlNTFjYg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-13T21:52:31Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-13T21:52:31Z"}, "message": "(output_line_command): Output the `4' flag only if cplusplus.\n\n(do_line): Handle the `4' flag.\n\nFrom-SVN: r5781", "tree": {"sha": "d8f5f682ac51f592980ee456d3e4810ea315e99d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d8f5f682ac51f592980ee456d3e4810ea315e99d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/65715deac9bb944b40b8be17594e889b4f1e51cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65715deac9bb944b40b8be17594e889b4f1e51cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65715deac9bb944b40b8be17594e889b4f1e51cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65715deac9bb944b40b8be17594e889b4f1e51cb/comments", "author": null, "committer": null, "parents": [{"sha": "b57a5cd39d48f9e358ee0e42f6859684f463d71b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b57a5cd39d48f9e358ee0e42f6859684f463d71b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b57a5cd39d48f9e358ee0e42f6859684f463d71b"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "aec4c7901a0c7fa591a44511dc4b0f3dc1769e16", "filename": "gcc/cccp.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65715deac9bb944b40b8be17594e889b4f1e51cb/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65715deac9bb944b40b8be17594e889b4f1e51cb/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=65715deac9bb944b40b8be17594e889b4f1e51cb", "patch": "@@ -5961,6 +5961,8 @@ do_line (buf, limit, op, keyword)\n \tfile_change = leave_file;\n       else if (*bp == '3')\n \tip->system_header_p = 1;\n+      else if (*bp == '4')\n+\tip->system_header_p = 2;\n       else {\n \terror (\"invalid format `#line' command\");\n \treturn 0;\n@@ -5973,6 +5975,11 @@ do_line (buf, limit, op, keyword)\n \tbp++;\n \tSKIP_WHITE_SPACE (bp);\n       }\n+      if (*bp == '4') {\n+\tip->system_header_p = 2;\n+\tbp++;\n+\tSKIP_WHITE_SPACE (bp);\n+      }\n       if (*bp) {\n \terror (\"invalid format `#line' command\");\n \treturn 0;\n@@ -7108,7 +7115,7 @@ output_line_command (ip, op, conditional, file_change)\n     *line_end++ = '3';\n   }\n   /* Tell cc1plus if following text should be treated as C.  */\n-  if (ip->system_header_p == 2) {\n+  if (ip->system_header_p == 2 && cplusplus) {\n     *line_end++ = ' ';\n     *line_end++ = '4';\n   }"}]}