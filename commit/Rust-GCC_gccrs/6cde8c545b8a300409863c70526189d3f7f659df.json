{"sha": "6cde8c545b8a300409863c70526189d3f7f659df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmNkZThjNTQ1YjhhMzAwNDA5ODYzYzcwNTI2MTg5ZDNmN2Y2NTlkZg==", "commit": {"author": {"name": "Sebastian Huber", "email": "sebastian.huber@embedded-brains.de", "date": "2018-03-07T12:10:24Z"}, "committer": {"name": "Sebastian Huber", "email": "sh@gcc.gnu.org", "date": "2018-03-07T12:10:24Z"}, "message": "Ada: Fix s-oscons.ads generation\n\nThe $(GNATLIBCFLAGS) are already included in $(GNATLIBCFLAGS_FOR_C).\n\nWe must call the C compiler with the right machine flags.  So, add\n$(GNATLIBCFLAGS_FOR_C) to $(OSCONS_EXTRACT).  For example, on a bi-arch\ncompiler supporting 32-bit and 64-bit instruction sets we pick otherwise\nonly one variant due to a missing -m32 or -m64 flag.\n\ngcc/ada\n\t* gcc-interface/Makefile.in (OSCONS_CPP): Remove redundant\n\t$(GNATLIBCFLAGS).\n\t(OSCONS_EXTRACT): Add $(GNATLIBCFLAGS_FOR_C).\n\nFrom-SVN: r258334", "tree": {"sha": "6ee81600b2ecd6541017944e72416f1839f40f32", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6ee81600b2ecd6541017944e72416f1839f40f32"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6cde8c545b8a300409863c70526189d3f7f659df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6cde8c545b8a300409863c70526189d3f7f659df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6cde8c545b8a300409863c70526189d3f7f659df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6cde8c545b8a300409863c70526189d3f7f659df/comments", "author": {"login": "sebhub", "id": 932056, "node_id": "MDQ6VXNlcjkzMjA1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/932056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebhub", "html_url": "https://github.com/sebhub", "followers_url": "https://api.github.com/users/sebhub/followers", "following_url": "https://api.github.com/users/sebhub/following{/other_user}", "gists_url": "https://api.github.com/users/sebhub/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebhub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebhub/subscriptions", "organizations_url": "https://api.github.com/users/sebhub/orgs", "repos_url": "https://api.github.com/users/sebhub/repos", "events_url": "https://api.github.com/users/sebhub/events{/privacy}", "received_events_url": "https://api.github.com/users/sebhub/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "454144fcc5334d397aac1b626f6192ed9ed8c147", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/454144fcc5334d397aac1b626f6192ed9ed8c147", "html_url": "https://github.com/Rust-GCC/gccrs/commit/454144fcc5334d397aac1b626f6192ed9ed8c147"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "56afab01ff57ce018914be6fcffdf5efb5703c86", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6cde8c545b8a300409863c70526189d3f7f659df/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6cde8c545b8a300409863c70526189d3f7f659df/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=6cde8c545b8a300409863c70526189d3f7f659df", "patch": "@@ -1,3 +1,9 @@\n+2018-03-07  Sebastian Huber  <sebastian.huber@embedded-brains.de>\n+\n+\t* gcc-interface/Makefile.in (OSCONS_CPP): Remove redundant\n+\t$(GNATLIBCFLAGS).\n+\t(OSCONS_EXTRACT): Add $(GNATLIBCFLAGS_FOR_C).\n+\n 2018-03-06  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/trans.c (convert_with_check): Fix typo in the condition"}, {"sha": "ebb955ebce577ca30d27ade4d162cd0e019b153e", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6cde8c545b8a300409863c70526189d3f7f659df/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6cde8c545b8a300409863c70526189d3f7f659df/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=6cde8c545b8a300409863c70526189d3f7f659df", "patch": "@@ -2381,9 +2381,9 @@ OSCONS_CC=$(subst ./xgcc,../../xgcc,$(subst -B./, -B../../,$(GCC_FOR_TARGET)))\n # ada/types.h does not conflict with a same-named system header (VxWorks\n # has a <types.h> header).\n \n-OSCONS_CPP=$(OSCONS_CC) $(GNATLIBCFLAGS) $(GNATLIBCFLAGS_FOR_C) -E -C \\\n+OSCONS_CPP=$(OSCONS_CC) $(GNATLIBCFLAGS_FOR_C) -E -C \\\n   -DTARGET=\\\"$(target)\\\" -iquote $(fsrcpfx)ada $(fsrcpfx)ada/s-oscons-tmplt.c > s-oscons-tmplt.i\n-OSCONS_EXTRACT=$(OSCONS_CC) -S s-oscons-tmplt.i\n+OSCONS_EXTRACT=$(OSCONS_CC) $(GNATLIBCFLAGS_FOR_C) -S s-oscons-tmplt.i\n \n # Note: if you need to build with a non-GNU compiler, you could adapt the\n # following definitions (written for VMS DEC-C)"}]}