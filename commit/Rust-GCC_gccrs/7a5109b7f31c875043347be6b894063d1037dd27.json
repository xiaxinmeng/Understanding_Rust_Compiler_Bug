{"sha": "7a5109b7f31c875043347be6b894063d1037dd27", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2E1MTA5YjdmMzFjODc1MDQzMzQ3YmU2Yjg5NDA2M2QxMDM3ZGQyNw==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1998-08-27T08:39:22Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1998-08-27T08:39:22Z"}, "message": "loop.c (check_dbra_loop): Enable code for reversal of some loops without a known constant loop end.\n\n\t* loop.c (check_dbra_loop): Enable code for reversal\n\tof some loops without a known constant loop end.\n\nFrom-SVN: r22019", "tree": {"sha": "990ed3b17f31c479b0ce1493dc01fbaa19a2fdaa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/990ed3b17f31c479b0ce1493dc01fbaa19a2fdaa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a5109b7f31c875043347be6b894063d1037dd27", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a5109b7f31c875043347be6b894063d1037dd27", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a5109b7f31c875043347be6b894063d1037dd27", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a5109b7f31c875043347be6b894063d1037dd27/comments", "author": null, "committer": null, "parents": [{"sha": "8c1bd4f5dc5d8b43e70d75f5c4ae0ce715c6ebb8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c1bd4f5dc5d8b43e70d75f5c4ae0ce715c6ebb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c1bd4f5dc5d8b43e70d75f5c4ae0ce715c6ebb8"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "e4db16f17e00e3c5f33aee702e58d406583e6cc8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a5109b7f31c875043347be6b894063d1037dd27/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a5109b7f31c875043347be6b894063d1037dd27/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7a5109b7f31c875043347be6b894063d1037dd27", "patch": "@@ -1,3 +1,8 @@\n+Thu Aug 27 16:34:51 1998  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* loop.c (check_dbra_loop): Enable code for reversal\n+\tof some loops without a known constant loop end.\n+\n Wed Aug 26 18:38:15 1998  Richard Henderson  <rth@cygnus.com>\n \n         * haifa-sched.c (last_clock_var): New."}, {"sha": "f11caebeb81c09be4371561d753fec8158c97575", "filename": "gcc/loop.c", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a5109b7f31c875043347be6b894063d1037dd27/gcc%2Floop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a5109b7f31c875043347be6b894063d1037dd27/gcc%2Floop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop.c?ref=7a5109b7f31c875043347be6b894063d1037dd27", "patch": "@@ -6931,7 +6931,6 @@ check_dbra_loop (loop_end, insn_count, loop_start)\n \t\t  initial_value = const0_rtx;\n \t\t}\n \n-#if 0\n \t      /* Check if there is a NOTE_INSN_LOOP_VTOP note.  If there is,\n \t\t that means that this is a for or while style loop, with\n \t\t a loop exit test at the start.  Thus, we can assume that\n@@ -6944,12 +6943,12 @@ check_dbra_loop (loop_end, insn_count, loop_start)\n \t      vtop = loop_end;\n \t      do\n \t\tvtop = PREV_INSN (vtop);\n-\t      while (GET_CODE (vtop) != NOTE);\n+\t      while (GET_CODE (vtop) != NOTE\n+\t\t     || NOTE_LINE_NUMBER (vtop) > 0\n+\t\t     || NOTE_LINE_NUMBER (vtop) == NOTE_REPEATED_LINE_NUMBER\n+\t\t     || NOTE_LINE_NUMBER (vtop) == NOTE_INSN_DELETED);\n \t      if (NOTE_LINE_NUMBER (vtop) != NOTE_INSN_LOOP_VTOP)\n \t\tvtop = NULL_RTX;\n-#else\n-\t      vtop = NULL_RTX;\n-#endif\n \t\t\n \t      /* First check if we can do a vanilla loop reversal.  */\n \t      if (initial_value == const0_rtx"}]}