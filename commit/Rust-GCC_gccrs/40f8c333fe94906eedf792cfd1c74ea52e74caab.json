{"sha": "40f8c333fe94906eedf792cfd1c74ea52e74caab", "node_id": "C_kwDOANBUbNoAKDQwZjhjMzMzZmU5NDkwNmVlZGY3OTJjZmQxYzc0ZWE1MmU3NGNhYWI", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2022-10-06T10:06:57Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-10-06T10:06:57Z"}, "message": "Merge #1554\n\n1554: testing: try loop in const function r=philberty a=abbasfaisal\n\n\n\nCo-authored-by: Faisal Abbas <faisal.abbas@elastica.co>", "tree": {"sha": "25f875466841dd87319e41af5499b3c46f37a7ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/25f875466841dd87319e41af5499b3c46f37a7ba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/40f8c333fe94906eedf792cfd1c74ea52e74caab", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjPqjBCRBK7hj4Ov3rIwAA28MIAIoP1PxwsoSy+FuFEBAXgCQz\n42rmkK8Pblm9W/9burpYQwX4u4aRvjnvg03AkX+Ohkli62iCLMY8G3F8nwXu6wED\nLGUEJHev1ct1kXJ5k0zYTXs0TSNeLQy+BaQBtOC6l7za7dB9YuCvZj6FHKV9LTLG\nfozqbY7E8nqLyPD6ScK0KDfshJyURRTzOjG7rdkukpyL7soz9aiUBIQKGVEgYhAF\no4H2G5ZB0pIoSQS1JRPCdcjXljQDEJYv7jsNFEth2P0Nl4jaEp19uscHc86XKhoo\nRb9wyLMA31Ckv+bFSQXkJvKOF/sfFORtFaNudwRcgyT4CeogjTHlY/lVTVjv2SI=\n=UMRf\n-----END PGP SIGNATURE-----\n", "payload": "tree 25f875466841dd87319e41af5499b3c46f37a7ba\nparent 82971d968b02eedf8e21bda681a27c9e5a3547fe\nparent 5a87f5f469bb214da2ace06c5a24775044c608fc\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1665050817 +0000\ncommitter GitHub <noreply@github.com> 1665050817 +0000\n\nMerge #1554\n\n1554: testing: try loop in const function r=philberty a=abbasfaisal\n\n\n\nCo-authored-by: Faisal Abbas <faisal.abbas@elastica.co>\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40f8c333fe94906eedf792cfd1c74ea52e74caab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/40f8c333fe94906eedf792cfd1c74ea52e74caab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40f8c333fe94906eedf792cfd1c74ea52e74caab/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "82971d968b02eedf8e21bda681a27c9e5a3547fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82971d968b02eedf8e21bda681a27c9e5a3547fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82971d968b02eedf8e21bda681a27c9e5a3547fe"}, {"sha": "5a87f5f469bb214da2ace06c5a24775044c608fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a87f5f469bb214da2ace06c5a24775044c608fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a87f5f469bb214da2ace06c5a24775044c608fc"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "e71a62a33b1e1572fd5d2e8e411a76285cddfbe5", "filename": "gcc/testsuite/rust/compile/const9.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40f8c333fe94906eedf792cfd1c74ea52e74caab/gcc%2Ftestsuite%2Frust%2Fcompile%2Fconst9.rs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40f8c333fe94906eedf792cfd1c74ea52e74caab/gcc%2Ftestsuite%2Frust%2Fcompile%2Fconst9.rs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Frust%2Fcompile%2Fconst9.rs?ref=40f8c333fe94906eedf792cfd1c74ea52e74caab", "patch": "@@ -0,0 +1,18 @@\n+// { dg-options \"-w -O0 -fdump-tree-gimple\" }\n+const fn test(mut x: i32) -> i32 {\n+    loop {\n+        if x == 10 {\n+            break;\n+        }\n+\n+        x = x + 1;\n+    }\n+    return x;\n+}\n+\n+const X: i32 = test(0);\n+\n+fn main() {\n+    // { dg-final { scan-tree-dump-times {x = 10} 1 gimple } }\n+    let x = X;\n+}"}]}