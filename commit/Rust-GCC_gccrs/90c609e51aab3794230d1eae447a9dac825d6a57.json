{"sha": "90c609e51aab3794230d1eae447a9dac825d6a57", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTBjNjA5ZTUxYWFiMzc5NDIzMGQxZWFlNDQ3YTlkYWM4MjVkNmE1Nw==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@bitrange.com", "date": "2004-09-13T22:03:02Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2004-09-13T22:03:02Z"}, "message": "libstdc++.exp: Use gcc wrapper.exp and call libstdc++_maybe_build_wrapper instead of using...\n\n\t* testsuite/lib/libstdc++.exp: Use gcc wrapper.exp and call\n\tlibstdc++_maybe_build_wrapper instead of using local code.\n\nFrom-SVN: r87452", "tree": {"sha": "067902f813ce2a89e3d66bdef4e141a78c55c9fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/067902f813ce2a89e3d66bdef4e141a78c55c9fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/90c609e51aab3794230d1eae447a9dac825d6a57", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90c609e51aab3794230d1eae447a9dac825d6a57", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90c609e51aab3794230d1eae447a9dac825d6a57", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90c609e51aab3794230d1eae447a9dac825d6a57/comments", "author": null, "committer": null, "parents": [{"sha": "8800e5337abb2a7e22f4cc4c24ab0dc835dca278", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8800e5337abb2a7e22f4cc4c24ab0dc835dca278", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8800e5337abb2a7e22f4cc4c24ab0dc835dca278"}], "stats": {"total": 18, "additions": 7, "deletions": 11}, "files": [{"sha": "e75bb6894910e7700725dfe87386f1b726303b18", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90c609e51aab3794230d1eae447a9dac825d6a57/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90c609e51aab3794230d1eae447a9dac825d6a57/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=90c609e51aab3794230d1eae447a9dac825d6a57", "patch": "@@ -1,3 +1,8 @@\n+2004-09-14  Hans-Peter Nilsson  <hp@bitrange.com>\n+\n+\t* testsuite/lib/libstdc++.exp: Use gcc wrapper.exp and call\n+\tlibstdc++_maybe_build_wrapper instead of using local code.\n+\n 2004-09-08  Benjamin Kosnik  <bkoz@redhat.com>\n \n \t* config/linker-map.gnu (GLIBCXX_3.4.3): New, adjust symbol exports."}, {"sha": "0b3b82b887e6ae445bf2231e81dff0e7b2034b40", "filename": "libstdc++-v3/testsuite/lib/libstdc++.exp", "status": "modified", "additions": 2, "deletions": 11, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90c609e51aab3794230d1eae447a9dac825d6a57/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90c609e51aab3794230d1eae447a9dac825d6a57/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp?ref=90c609e51aab3794230d1eae447a9dac825d6a57", "patch": "@@ -50,6 +50,7 @@ load_lib libgloss.exp\n load_gcc_lib target-supports.exp\n load_lib prune.exp\n load_lib dg-options.exp\n+load_gcc_lib wrapper.exp\n \n # Useful for debugging.  Pass the name of a variable and the verbosity\n # threshold (number of -v's on the command line).\n@@ -208,17 +209,7 @@ proc libstdc++_init { testfile } {\n         }\n     }\n \n-    if { [target_info needs_status_wrapper]!=\"\"} {\n-      file delete ${objdir}/testglue.o;\n-      set gluefile ${objdir}/testglue.o;\n-      set result [build_wrapper $gluefile];\n-      if { $result != \"\" } {\n-          set gluefile [lindex $result 0];\n-          set wrap_flags [lindex $result 1];\n-      } else {\n-          unset gluefile\n-      }\n-    }\n+    libstdc++_maybe_build_wrapper \"${objdir}/testglue.o\"\n }\n \n # Callback from system dg-test."}]}