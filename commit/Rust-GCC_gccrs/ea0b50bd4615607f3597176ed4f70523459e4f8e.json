{"sha": "ea0b50bd4615607f3597176ed4f70523459e4f8e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWEwYjUwYmQ0NjE1NjA3ZjM1OTcxNzZlZDRmNzA1MjM0NTllNGY4ZQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2010-11-06T10:54:44Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2010-11-06T10:54:44Z"}, "message": "387-2.c: Skip if -march= is specified.\n\n\t* gcc.target/i386/387-2.c: Skip if -march= is specified.\n\t* gcc.target/i386/387-6.c: Ditto.\n\t* gcc.target/i386/387-2.c: Add -mfancy-math-387 to dg-options.\n\t* gcc.target/i386/387-4.c: Ditto.\n\t* gcc.target/i386/387-7.c: Ditto.\n\t* gcc.target/i386/387-8.c: Ditto.\n\t* gcc.target/i386/387-9.c: Ditto.\n\t* gcc.target/i386/387-10.c: Ditto.\n\t* gcc.target/i386/387-11.c: Ditto.\n\t* gcc.target/i386/387-12.c: Ditto.\n\n\t* gcc.target/i386/387-2.c: Add -mno-sse3 to dg-options.\n\nFrom-SVN: r166400", "tree": {"sha": "7cf3cbe81333c3c1699618b3a52bb6c0a3e43b24", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7cf3cbe81333c3c1699618b3a52bb6c0a3e43b24"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea0b50bd4615607f3597176ed4f70523459e4f8e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea0b50bd4615607f3597176ed4f70523459e4f8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea0b50bd4615607f3597176ed4f70523459e4f8e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea0b50bd4615607f3597176ed4f70523459e4f8e/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0e13f09b452911a19705c8eb6c2c1b2af03f8744", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e13f09b452911a19705c8eb6c2c1b2af03f8744", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e13f09b452911a19705c8eb6c2c1b2af03f8744"}], "stats": {"total": 41, "additions": 26, "deletions": 15}, "files": [{"sha": "a175424fcae381fe97331d19305dd25fad4fffd3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ea0b50bd4615607f3597176ed4f70523459e4f8e", "patch": "@@ -1,3 +1,18 @@\n+2010-11-06  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* gcc.target/i386/387-2.c: Skip if -march= is specified.\n+\t* gcc.target/i386/387-6.c: Ditto.\n+\t* gcc.target/i386/387-2.c: Add -mfancy-math-387 to dg-options.\n+\t* gcc.target/i386/387-4.c: Ditto.\n+\t* gcc.target/i386/387-7.c: Ditto.\n+\t* gcc.target/i386/387-8.c: Ditto.\n+\t* gcc.target/i386/387-9.c: Ditto.\n+\t* gcc.target/i386/387-10.c: Ditto.\n+\t* gcc.target/i386/387-11.c: Ditto.\n+\t* gcc.target/i386/387-12.c: Ditto.\n+\n+\t* gcc.target/i386/387-2.c: Add -mno-sse3 to dg-options.\n+\n 2010-11-06  Iain Sandoe  <iains@gcc.gnu.org>\n \n \tPR target/44981"}, {"sha": "0ff1b2a7c7cd8d0cf807bd306dcc9217ed8f1b92", "filename": "gcc/testsuite/gcc.target/i386/387-10.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-10.c?ref=ea0b50bd4615607f3597176ed4f70523459e4f8e", "patch": "@@ -1,6 +1,6 @@\n /* PR tree-optimization/24964 */\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -mfpmath=387\" } */\n+/* { dg-options \"-O2 -mfpmath=387 -mfancy-math-387\" } */\n \n double fabs(double x);\n "}, {"sha": "869f6061c3842c77f04a437d229fe8c7271937f1", "filename": "gcc/testsuite/gcc.target/i386/387-11.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-11.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-11.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-11.c?ref=ea0b50bd4615607f3597176ed4f70523459e4f8e", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -mfpmath=387\" } */\n+/* { dg-options \"-O2 -mfpmath=387 -mfancy-math-387\" } */\n \n double foo(double x, double y)\n {"}, {"sha": "62c1d483c278a057f5afb5b1290d705ffe9eaa0d", "filename": "gcc/testsuite/gcc.target/i386/387-12.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-12.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-12.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-12.c?ref=ea0b50bd4615607f3597176ed4f70523459e4f8e", "patch": "@@ -1,7 +1,6 @@\n /* PR target/26915 */\n /* { dg-do compile } */\n-/* { dg-require-effective-target ilp32 } */\n-/* { dg-options \"-O\" } */\n+/* { dg-options \"-O -mfpmath=387 -mfancy-math-387\" } */\n \n double testm0(void)\n {"}, {"sha": "bd6dbcdda993ef4d871b55aa49725539cc8fd1be", "filename": "gcc/testsuite/gcc.target/i386/387-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-2.c?ref=ea0b50bd4615607f3597176ed4f70523459e4f8e", "patch": "@@ -1,6 +1,7 @@\n /* Verify that -march overrides -mno-fancy-math-387.  */\n /* { dg-do compile } */\n /* { dg-require-effective-target ilp32 } */\n+/* { dg-skip-if \"\" { i?86-*-* x86_64-*-* } { \"-march=*\" } { \"-march=i686\" } } */\n /* { dg-options \"-O -ffast-math -mfpmath=387 -march=i686 -mno-fancy-math-387\" } */\n /* { dg-final { scan-assembler \"fsin\" } } */\n /* { dg-final { scan-assembler \"fcos\" } } */"}, {"sha": "d00c7296721eaeb4d181f353b4839aea58703028", "filename": "gcc/testsuite/gcc.target/i386/387-3.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-3.c?ref=ea0b50bd4615607f3597176ed4f70523459e4f8e", "patch": "@@ -1,7 +1,6 @@\n /* Verify that 387 mathematical constants are recognized.  */\n /* { dg-do compile } */\n-/* { dg-require-effective-target ilp32 } */\n-/* { dg-options \"-O2 -march=i686\" } */\n+/* { dg-options \"-O2 -mfpmath=387 -mfancy-math-387\" } */\n /* { dg-final { scan-assembler \"fldpi\" } } */\n \n long double add_pi(long double x)"}, {"sha": "e4f4a48f2ef52fc58d5a3c71bb01e4e3bc67161f", "filename": "gcc/testsuite/gcc.target/i386/387-4.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-4.c?ref=ea0b50bd4615607f3597176ed4f70523459e4f8e", "patch": "@@ -1,6 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-require-effective-target ilp32 } */\n-/* { dg-options \"-O2 -march=i686\" } */\n+/* { dg-options \"-O2 -mfancy-math-387\" } */\n /* { dg-final { scan-assembler \"fldpi\" } } */\n \n long double atanl (long double);"}, {"sha": "7b254d1302f5d1863c43307d55c6ee50d0ce4974", "filename": "gcc/testsuite/gcc.target/i386/387-6.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-6.c?ref=ea0b50bd4615607f3597176ed4f70523459e4f8e", "patch": "@@ -1,6 +1,7 @@\n /* Verify that -march overrides -mno-fancy-math-387.  */\n /* { dg-do compile } */\n /* { dg-require-effective-target ilp32 } */\n+/* { dg-skip-if \"\" { i?86-*-* x86_64-*-* } { \"-march=*\" } { \"-march=i686\" } } */\n /* { dg-options \"-O -ffast-math -mfpmath=387 -march=i686 -mno-fancy-math-387\" } */\n /* { dg-final { scan-assembler \"fpatan\" } } */\n /* { dg-final { scan-assembler \"fyl2xp1\" } } */"}, {"sha": "e01ed2e057638b4633a3055b6780325ecae5d55c", "filename": "gcc/testsuite/gcc.target/i386/387-7.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-7.c?ref=ea0b50bd4615607f3597176ed4f70523459e4f8e", "patch": "@@ -1,7 +1,6 @@\n /* Verify that 387 fsincos instruction is generated.  */\n /* { dg-do compile } */\n-/* { dg-require-effective-target ilp32 } */\n-/* { dg-options \"-O -ffast-math -march=i686\" } */\n+/* { dg-options \"-O -ffast-math -mfpmath=387 -mfancy-math-387\" } */\n /* { dg-final { scan-assembler \"fsincos\" } } */\n \n extern double sin (double);"}, {"sha": "2dbcd740f62e46974ec5a45805c0525cfd678e57", "filename": "gcc/testsuite/gcc.target/i386/387-8.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-8.c?ref=ea0b50bd4615607f3597176ed4f70523459e4f8e", "patch": "@@ -2,8 +2,7 @@\n    inherent load of 1.0 is used in further calculations.  */\n \n /* { dg-do compile } */\n-/* { dg-require-effective-target ilp32 } */\n-/* { dg-options \"-O2 -ffast-math -march=i686\" } */\n+/* { dg-options \"-O2 -ffast-math -mfpmath=387 -mfancy-math-387\" } */\n /* { dg-final { scan-assembler \"fptan\" } } */\n /* { dg-final { scan-assembler-not \"fld1\" } } */\n "}, {"sha": "2667aa46872d6d66b4df58aa69c39a61330a205e", "filename": "gcc/testsuite/gcc.target/i386/387-9.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-9.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-9.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2F387-9.c?ref=ea0b50bd4615607f3597176ed4f70523459e4f8e", "patch": "@@ -1,7 +1,6 @@\n /* Verify that 387 fsincos instruction is generated.  */\n /* { dg-do compile } */\n-/* { dg-require-effective-target ilp32 } */\n-/* { dg-options \"-O -funsafe-math-optimizations -march=i686\" } */\n+/* { dg-options \"-O -funsafe-math-optimizations -mfpmath=387 -mfancy-math-387\" } */\n \n extern double sin (double);\n extern double cos (double);"}, {"sha": "225843493d9cdf33fde3e3427149719e8ac4a574", "filename": "gcc/testsuite/gcc.target/i386/funcspec-8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffuncspec-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0b50bd4615607f3597176ed4f70523459e4f8e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffuncspec-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffuncspec-8.c?ref=ea0b50bd4615607f3597176ed4f70523459e4f8e", "patch": "@@ -2,7 +2,7 @@\n    functions in functions with the appropriate function specific options.  */\n /* { dg-do compile } */\n /* { dg-skip-if \"\" { i?86-*-* x86_64-*-* } { \"-march=*\" } { \"-march=k8\" } } */\n-/* { dg-options \"-O2 -march=k8 -mfpmath=sse\" } */\n+/* { dg-options \"-O2 -march=k8 -mno-sse3 -mfpmath=sse\" } */\n \n typedef float     __m128  __attribute__ ((__vector_size__ (16), __may_alias__));\n typedef double    __m128d __attribute__ ((__vector_size__ (16), __may_alias__));"}]}