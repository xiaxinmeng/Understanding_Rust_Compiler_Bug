{"sha": "9f929ce61f62c3dd84bb773b056652cadeebdec5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWY5MjljZTYxZjYyYzNkZDg0YmI3NzNiMDU2NjUyY2FkZWViZGVjNQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2012-01-02T13:34:52Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2012-01-02T13:34:52Z"}, "message": "passes.c (register_one_dump_file): Free full_name.\n\n\t* passes.c (register_one_dump_file): Free full_name.\n\n\t* reload1.c (reload): Don't allocate reg_max_ref_width\n\there.\n\t(calculate_elim_costs_all_insns): Free offsets_at and\n\toffsets_known_at at the end and clear the pointers.\n\nFrom-SVN: r182800", "tree": {"sha": "d1ece90b5bbab91b3a9312218c7fcb410d53a0b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1ece90b5bbab91b3a9312218c7fcb410d53a0b8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9f929ce61f62c3dd84bb773b056652cadeebdec5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f929ce61f62c3dd84bb773b056652cadeebdec5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f929ce61f62c3dd84bb773b056652cadeebdec5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f929ce61f62c3dd84bb773b056652cadeebdec5/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ce23293b0a4416b1c0770b2ad151ac4b23df4aca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce23293b0a4416b1c0770b2ad151ac4b23df4aca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce23293b0a4416b1c0770b2ad151ac4b23df4aca"}], "stats": {"total": 19, "additions": 16, "deletions": 3}, "files": [{"sha": "5b0d4a682232d4da64ba966ede2ffac0927e8588", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f929ce61f62c3dd84bb773b056652cadeebdec5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f929ce61f62c3dd84bb773b056652cadeebdec5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9f929ce61f62c3dd84bb773b056652cadeebdec5", "patch": "@@ -1,3 +1,12 @@\n+2012-01-02  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* passes.c (register_one_dump_file): Free full_name.\n+\n+\t* reload1.c (reload): Don't allocate reg_max_ref_width\n+\there.\n+\t(calculate_elim_costs_all_insns): Free offsets_at and\n+\toffsets_known_at at the end and clear the pointers.\n+\n 2012-01-02  Georg-Johann Lay  <avr@gjlay.de>\n \n \t* config/avr/avr.opt (-mbranch-cost): Fix double definition of"}, {"sha": "a786881ce2e3828eee1b9943198e2695eb6dc0cc", "filename": "gcc/passes.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f929ce61f62c3dd84bb773b056652cadeebdec5/gcc%2Fpasses.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f929ce61f62c3dd84bb773b056652cadeebdec5/gcc%2Fpasses.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpasses.c?ref=9f929ce61f62c3dd84bb773b056652cadeebdec5", "patch": "@@ -1,7 +1,7 @@\n /* Top level of GCC compilers (cc1, cc1plus, etc.)\n    Copyright (C) 1987, 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,\n    1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,\n-   2011  Free Software Foundation, Inc.\n+   2011, 2012  Free Software Foundation, Inc.\n \n This file is part of GCC.\n \n@@ -414,6 +414,7 @@ register_one_dump_file (struct opt_pass *pass)\n   set_pass_for_id (id, pass);\n   full_name = concat (prefix, pass->name, num, NULL);\n   register_pass_name (pass, full_name);\n+  free (CONST_CAST (char *, full_name));\n }\n \n /* Recursive worker function for register_dump_files.  */"}, {"sha": "883ddd7b292e5e42d4a711cef029de9774f7211f", "filename": "gcc/reload1.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f929ce61f62c3dd84bb773b056652cadeebdec5/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f929ce61f62c3dd84bb773b056652cadeebdec5/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=9f929ce61f62c3dd84bb773b056652cadeebdec5", "patch": "@@ -1,7 +1,7 @@\n /* Reload pseudo regs into hard regs for insns that require hard regs.\n    Copyright (C) 1987, 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,\n    1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,\n-   2011 Free Software Foundation, Inc.\n+   2011, 2012 Free Software Foundation, Inc.\n \n This file is part of GCC.\n \n@@ -768,7 +768,6 @@ reload (rtx first, int global)\n      be substituted eventually by altering the REG-rtx's.  */\n \n   grow_reg_equivs ();\n-  reg_max_ref_width = XCNEWVEC (unsigned int, max_regno);\n   reg_old_renumber = XCNEWVEC (short, max_regno);\n   memcpy (reg_old_renumber, reg_renumber, max_regno * sizeof (short));\n   pseudo_forbidden_regs = XNEWVEC (HARD_REG_SET, max_regno);\n@@ -1688,6 +1687,10 @@ calculate_elim_costs_all_insns (void)\n     }\n \n   free (reg_equiv_init_cost);\n+  free (offsets_known_at);\n+  free (offsets_at);\n+  offsets_at = NULL;\n+  offsets_known_at = NULL;\n }\n \f\n /* Comparison function for qsort to decide which of two reloads"}]}