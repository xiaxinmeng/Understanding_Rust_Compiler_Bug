{"sha": "88ab13d651e6e056978db22b331268e47679f84b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODhhYjEzZDY1MWU2ZTA1Njk3OGRiMjJiMzMxMjY4ZTQ3Njc5Zjg0Yg==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2005-02-07T09:27:47Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2005-02-07T09:27:47Z"}, "message": "re PR target/19796 (Bootstrap fails: Unresolved data symbol \"set_fpc_csr\")\n\n\tPR bootstrap/19796\n\tRevert:\n\t2005-01-26  Richard Sandiford  <rsandifo@redhat.com>\n\t* config/mips/iris6.h (ENDFILE_SPEC): Don't link in irix-csr.o if\n\teither -ffast-math or -funsafe-math-optimizations is in use.\n\n\t2005-01-24  Richard Sandiford  <rsandifo@redhat.com>\n\t* config/mips/irix-csr.c: New file.\n\t* config/mips/t-iris6 (irix-csr.o): New rule to build it.\n\t(EXTRA_MULTILIB_PARTS): Add irix-csr.o.\n\t* config/mips/iris6.h (ENDFILE_SPEC): Include it in n32 and n64\n\texecutables.\n\nFrom-SVN: r94696", "tree": {"sha": "1c8269fe7870f5c142dc509f9d0a28615f643714", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1c8269fe7870f5c142dc509f9d0a28615f643714"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/88ab13d651e6e056978db22b331268e47679f84b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88ab13d651e6e056978db22b331268e47679f84b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88ab13d651e6e056978db22b331268e47679f84b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88ab13d651e6e056978db22b331268e47679f84b/comments", "author": null, "committer": null, "parents": [{"sha": "dcb15c6cd1213b0ac927d64efe394289690168f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dcb15c6cd1213b0ac927d64efe394289690168f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dcb15c6cd1213b0ac927d64efe394289690168f4"}], "stats": {"total": 42, "additions": 16, "deletions": 26}, "files": [{"sha": "3c0219efb0db45c32a9675ab547813fb6c5b7f7f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88ab13d651e6e056978db22b331268e47679f84b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88ab13d651e6e056978db22b331268e47679f84b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=88ab13d651e6e056978db22b331268e47679f84b", "patch": "@@ -1,3 +1,18 @@\n+2005-02-07  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\tPR bootstrap/19796\n+\tRevert:\n+\t2005-01-26  Richard Sandiford  <rsandifo@redhat.com>\n+\t* config/mips/iris6.h (ENDFILE_SPEC): Don't link in irix-csr.o if\n+\teither -ffast-math or -funsafe-math-optimizations is in use.\n+\n+\t2005-01-24  Richard Sandiford  <rsandifo@redhat.com>\n+\t* config/mips/irix-csr.c: New file.\n+\t* config/mips/t-iris6 (irix-csr.o): New rule to build it.\n+\t(EXTRA_MULTILIB_PARTS): Add irix-csr.o.\n+\t* config/mips/iris6.h (ENDFILE_SPEC): Include it in n32 and n64\n+\texecutables.\n+\n 2005-02-07  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* config/mn10300/linux.h (LIB_SPEC, STARTFILE_SPEC): Remove"}, {"sha": "ff051255c9c6982e9d24d7adfa84bab93b0cda4f", "filename": "gcc/config/mips/iris6.h", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88ab13d651e6e056978db22b331268e47679f84b/gcc%2Fconfig%2Fmips%2Firis6.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88ab13d651e6e056978db22b331268e47679f84b/gcc%2Fconfig%2Fmips%2Firis6.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firis6.h?ref=88ab13d651e6e056978db22b331268e47679f84b", "patch": "@@ -98,9 +98,7 @@ Boston, MA 02111-1307, USA.  */\n \n #undef ENDFILE_SPEC\n #define ENDFILE_SPEC \\\n-  \"%{!shared:%{!ffast-math:%{!funsafe-math-optimizations: \\\n-     %{mabi=n32|mabi=64:irix-csr.o%s}}}} \\\n-   crtend.o%s irix-crtn.o%s \\\n+  \"crtend.o%s irix-crtn.o%s \\\n    %{!shared: \\\n      %{mabi=32:crtn.o%s}\\\n      %{mabi=n32:%{mips4:/usr/lib32/mips4/crtn.o%s}\\"}, {"sha": "ef37345cd731a2287c01d5256cccb267e66453cf", "filename": "gcc/config/mips/irix-csr.c", "status": "removed", "additions": 0, "deletions": 17, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dcb15c6cd1213b0ac927d64efe394289690168f4/gcc%2Fconfig%2Fmips%2Firix-csr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dcb15c6cd1213b0ac927d64efe394289690168f4/gcc%2Fconfig%2Fmips%2Firix-csr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firix-csr.c?ref=dcb15c6cd1213b0ac927d64efe394289690168f4", "patch": "@@ -1,17 +0,0 @@\n-#if _MIPS_SIM == _ABIN32 || _MIPS_SIM == _ABI64\n-#include <sys/fpu.h>\n-\n-/* n32 and n64 applications usually run with the MIPS IV Flush to Zero\n-   bit set.  Clear it here so that gcc-generated code will handle\n-   subnormals correctly by default.  */\n-\n-static void __attribute__((constructor))\n-clear_flush_to_zero (void)\n-{\n-  union fpc_csr csr;\n-\n-  csr.fc_word = get_fpc_csr ();\n-  csr.fc_struct.flush = 0;\n-  set_fpc_csr (csr.fc_word);\n-}\n-#endif"}, {"sha": "254480cb43f54cf330538246471fdfbfbc39a367", "filename": "gcc/config/mips/t-iris6", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88ab13d651e6e056978db22b331268e47679f84b/gcc%2Fconfig%2Fmips%2Ft-iris6", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88ab13d651e6e056978db22b331268e47679f84b/gcc%2Fconfig%2Fmips%2Ft-iris6", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-iris6?ref=88ab13d651e6e056978db22b331268e47679f84b", "patch": "@@ -19,9 +19,3 @@ tp-bit.c: $(srcdir)/config/fp-bit.c\n \techo '# define TFLOAT' >> tp-bit.c\n \tcat $(srcdir)/config/fp-bit.c >> tp-bit.c\n \techo '#endif' >> tp-bit.c\n-\n-$(T)irix-csr.o: $(srcdir)/config/mips/irix-csr.c $(GCC_PASSES)\n-\t$(GCC_FOR_TARGET) $(GCC_CFLAGS) $(MULTILIB_CFLAGS) $(INCLUDES) \\\n-\t  -c -o $@ $<\n-\n-EXTRA_MULTILIB_PARTS += irix-csr.o"}]}