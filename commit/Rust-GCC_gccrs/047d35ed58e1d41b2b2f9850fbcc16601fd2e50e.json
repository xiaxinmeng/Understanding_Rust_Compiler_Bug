{"sha": "047d35ed58e1d41b2b2f9850fbcc16601fd2e50e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDQ3ZDM1ZWQ1OGUxZDQxYjJiMmY5ODUwZmJjYzE2NjAxZmQyZTUwZQ==", "commit": {"author": {"name": "Adrian Straetling", "email": "straetling@de.ibm.com", "date": "2005-05-10T19:22:05Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2005-05-10T19:22:05Z"}, "message": "s390.md: (\"anddi3\",\"andsi3\",\"andhi3\",\"andqi3\"): Merge.\n\n2005-05-10  Adrian Straetling  <straetling@de.ibm.com>\n\n\t* config/s390/s390.md: (\"anddi3\",\"andsi3\",\"andhi3\",\"andqi3\"): Merge.\n\t(\"iordi3\", \"iorsi3\", \"iorhi3\", \"iorqi3\"): Merge.\n\t(\"xordi3\", \"xorsi3\", \"xorhi3\", \"xorqi3\"): Merge.\n\nFrom-SVN: r99537", "tree": {"sha": "2d9c827d637ab3a483ee5c21c85b126f4159fd26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2d9c827d637ab3a483ee5c21c85b126f4159fd26"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/047d35ed58e1d41b2b2f9850fbcc16601fd2e50e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/047d35ed58e1d41b2b2f9850fbcc16601fd2e50e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/047d35ed58e1d41b2b2f9850fbcc16601fd2e50e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/047d35ed58e1d41b2b2f9850fbcc16601fd2e50e/comments", "author": null, "committer": null, "parents": [{"sha": "5fefbc7977471f39a91cc1d6a6146a5c0efd273d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5fefbc7977471f39a91cc1d6a6146a5c0efd273d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5fefbc7977471f39a91cc1d6a6146a5c0efd273d"}], "stats": {"total": 125, "additions": 30, "deletions": 95}, "files": [{"sha": "981eda9ec4ec47f2a576f708eb1d54369e75ace0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/047d35ed58e1d41b2b2f9850fbcc16601fd2e50e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/047d35ed58e1d41b2b2f9850fbcc16601fd2e50e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=047d35ed58e1d41b2b2f9850fbcc16601fd2e50e", "patch": "@@ -1,3 +1,9 @@\n+2005-05-10  Adrian Straetling  <straetling@de.ibm.com>\n+\n+\t* config/s390/s390.md: (\"anddi3\",\"andsi3\",\"andhi3\",\"andqi3\"): Merge.\n+\t(\"iordi3\", \"iorsi3\", \"iorhi3\", \"iorqi3\"): Merge.\n+\t(\"xordi3\", \"xorsi3\", \"xorhi3\", \"xorqi3\"): Merge.\n+\n 2005-05-10  Jeff Law  <law@redhat.com>\n \n \t* tree-ssa-dom.c (dom_opt_finalize_block): Do not call"}, {"sha": "a74bd63a30b570519e36b2cf60dce30073e51086", "filename": "gcc/config/s390/s390.md", "status": "modified", "additions": 24, "deletions": 95, "changes": 119, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/047d35ed58e1d41b2b2f9850fbcc16601fd2e50e/gcc%2Fconfig%2Fs390%2Fs390.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/047d35ed58e1d41b2b2f9850fbcc16601fd2e50e/gcc%2Fconfig%2Fs390%2Fs390.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.md?ref=047d35ed58e1d41b2b2f9850fbcc16601fd2e50e", "patch": "@@ -4572,6 +4572,14 @@\n ;;- And instructions.\n ;;\n \n+(define_expand \"and<mode>3\"\n+  [(set (match_operand:INT 0 \"nonimmediate_operand\" \"\")\n+        (and:INT (match_operand:INT 1 \"nonimmediate_operand\" \"\")\n+                 (match_operand:INT 2 \"general_operand\" \"\")))\n+   (clobber (reg:CC CC_REGNUM))]\n+  \"\"\n+  \"s390_expand_logical_operator (AND, <MODE>mode, operands); DONE;\")\n+\n ;\n ; anddi3 instruction pattern(s).\n ;\n@@ -4634,13 +4642,6 @@\n      (clobber (reg:CC CC_REGNUM))])]\n   \"s390_narrow_logical_operator (AND, &operands[0], &operands[1]);\")\n \n-(define_expand \"anddi3\"\n-  [(set (match_operand:DI 0 \"nonimmediate_operand\" \"\")\n-        (and:DI (match_operand:DI 1 \"nonimmediate_operand\" \"\")\n-                (match_operand:DI 2 \"general_operand\" \"\")))\n-   (clobber (reg:CC CC_REGNUM))]\n-  \"TARGET_64BIT\"\n-  \"s390_expand_logical_operator (AND, DImode, operands); DONE;\")\n \n ;\n ; andsi3 instruction pattern(s).\n@@ -4718,14 +4719,6 @@\n      (clobber (reg:CC CC_REGNUM))])]\n   \"s390_narrow_logical_operator (AND, &operands[0], &operands[1]);\")\n \n-(define_expand \"andsi3\"\n-  [(set (match_operand:SI 0 \"nonimmediate_operand\" \"\")\n-        (and:SI (match_operand:SI 1 \"nonimmediate_operand\" \"\")\n-                (match_operand:SI 2 \"general_operand\" \"\")))\n-   (clobber (reg:CC CC_REGNUM))]\n-  \"\"\n-  \"s390_expand_logical_operator (AND, SImode, operands); DONE;\")\n-\n ;\n ; andhi3 instruction pattern(s).\n ;\n@@ -4765,14 +4758,6 @@\n      (clobber (reg:CC CC_REGNUM))])]\n   \"s390_narrow_logical_operator (AND, &operands[0], &operands[1]);\")\n \n-(define_expand \"andhi3\"\n-  [(set (match_operand:HI 0 \"nonimmediate_operand\" \"\")\n-        (and:HI (match_operand:HI 1 \"nonimmediate_operand\" \"\")\n-                (match_operand:HI 2 \"general_operand\" \"\")))\n-   (clobber (reg:CC CC_REGNUM))]\n-  \"\"\n-  \"s390_expand_logical_operator (AND, HImode, operands); DONE;\")\n-\n ;\n ; andqi3 instruction pattern(s).\n ;\n@@ -4803,14 +4788,6 @@\n    #\"\n   [(set_attr \"op_type\"  \"RR,SI,SS\")])\n \n-(define_expand \"andqi3\"\n-  [(set (match_operand:QI 0 \"nonimmediate_operand\" \"\")\n-        (and:QI (match_operand:QI 1 \"nonimmediate_operand\" \"\")\n-                (match_operand:QI 2 \"general_operand\" \"\")))\n-   (clobber (reg:CC CC_REGNUM))]\n-  \"\"\n-  \"s390_expand_logical_operator (AND, QImode, operands); DONE;\")\n-\n ;\n ; Block and (NC) patterns.\n ;\n@@ -4872,6 +4849,14 @@\n ;;- Bit set (inclusive or) instructions.\n ;;\n \n+(define_expand \"ior<mode>3\"\n+  [(set (match_operand:INT 0 \"nonimmediate_operand\" \"\")\n+        (ior:INT (match_operand:INT 1 \"nonimmediate_operand\" \"\")\n+                 (match_operand:INT 2 \"general_operand\" \"\")))\n+   (clobber (reg:CC CC_REGNUM))]\n+  \"\"\n+  \"s390_expand_logical_operator (IOR, <MODE>mode, operands); DONE;\")\n+\n ;\n ; iordi3 instruction pattern(s).\n ;\n@@ -4929,14 +4914,6 @@\n      (clobber (reg:CC CC_REGNUM))])]\n   \"s390_narrow_logical_operator (IOR, &operands[0], &operands[1]);\")\n \n-(define_expand \"iordi3\"\n-  [(set (match_operand:DI 0 \"nonimmediate_operand\" \"\")\n-        (ior:DI (match_operand:DI 1 \"nonimmediate_operand\" \"\")\n-                (match_operand:DI 2 \"general_operand\" \"\")))\n-   (clobber (reg:CC CC_REGNUM))]\n-  \"TARGET_64BIT\"\n-  \"s390_expand_logical_operator (IOR, DImode, operands); DONE;\")\n-\n ;\n ; iorsi3 instruction pattern(s).\n ;\n@@ -5007,14 +4984,6 @@\n      (clobber (reg:CC CC_REGNUM))])]\n   \"s390_narrow_logical_operator (IOR, &operands[0], &operands[1]);\")\n \n-(define_expand \"iorsi3\"\n-  [(set (match_operand:SI 0 \"nonimmediate_operand\" \"\")\n-        (ior:SI (match_operand:SI 1 \"nonimmediate_operand\" \"\")\n-                (match_operand:SI 2 \"general_operand\" \"\")))\n-   (clobber (reg:CC CC_REGNUM))]\n-  \"\"\n-  \"s390_expand_logical_operator (IOR, SImode, operands); DONE;\")\n-\n ;\n ; iorhi3 instruction pattern(s).\n ;\n@@ -5054,14 +5023,6 @@\n      (clobber (reg:CC CC_REGNUM))])]\n   \"s390_narrow_logical_operator (IOR, &operands[0], &operands[1]);\")\n \n-(define_expand \"iorhi3\"\n-  [(set (match_operand:HI 0 \"nonimmediate_operand\" \"\")\n-        (ior:HI (match_operand:HI 1 \"nonimmediate_operand\" \"\")\n-                (match_operand:HI 2 \"general_operand\" \"\")))\n-   (clobber (reg:CC CC_REGNUM))]\n-  \"\"\n-  \"s390_expand_logical_operator (IOR, HImode, operands); DONE;\")\n-\n ;\n ; iorqi3 instruction pattern(s).\n ;\n@@ -5092,14 +5053,6 @@\n    #\"\n   [(set_attr \"op_type\"  \"RR,SI,SS\")])\n \n-(define_expand \"iorqi3\"\n-  [(set (match_operand:QI 0 \"nonimmediate_operand\" \"\")\n-        (ior:QI (match_operand:QI 1 \"nonimmediate_operand\" \"\")\n-                (match_operand:QI 2 \"general_operand\" \"\")))\n-   (clobber (reg:CC CC_REGNUM))]\n-  \"\"\n-  \"s390_expand_logical_operator (IOR, QImode, operands); DONE;\")\n-\n ;\n ; Block inclusive or (OC) patterns.\n ;\n@@ -5161,6 +5114,14 @@\n ;;- Xor instructions.\n ;;\n \n+(define_expand \"xor<mode>3\"\n+  [(set (match_operand:INT 0 \"nonimmediate_operand\" \"\")\n+        (xor:INT (match_operand:INT 1 \"nonimmediate_operand\" \"\")\n+                 (match_operand:INT 2 \"general_operand\" \"\")))\n+   (clobber (reg:CC CC_REGNUM))]\n+  \"\"\n+  \"s390_expand_logical_operator (XOR, <MODE>mode, operands); DONE;\")\n+\n ;\n ; xordi3 instruction pattern(s).\n ;\n@@ -5213,14 +5174,6 @@\n      (clobber (reg:CC CC_REGNUM))])]\n   \"s390_narrow_logical_operator (XOR, &operands[0], &operands[1]);\")\n \n-(define_expand \"xordi3\"\n-  [(set (match_operand:DI 0 \"nonimmediate_operand\" \"\")\n-        (xor:DI (match_operand:DI 1 \"nonimmediate_operand\" \"\")\n-                (match_operand:DI 2 \"general_operand\" \"\")))\n-   (clobber (reg:CC CC_REGNUM))]\n-  \"TARGET_64BIT\"\n-  \"s390_expand_logical_operator (XOR, DImode, operands); DONE;\")\n-\n ;\n ; xorsi3 instruction pattern(s).\n ;\n@@ -5276,14 +5229,6 @@\n      (clobber (reg:CC CC_REGNUM))])]\n   \"s390_narrow_logical_operator (XOR, &operands[0], &operands[1]);\")\n \n-(define_expand \"xorsi3\"\n-  [(set (match_operand:SI 0 \"nonimmediate_operand\" \"\")\n-        (xor:SI (match_operand:SI 1 \"nonimmediate_operand\" \"\")\n-                (match_operand:SI 2 \"general_operand\" \"\")))\n-   (clobber (reg:CC CC_REGNUM))]\n-  \"\"\n-  \"s390_expand_logical_operator (XOR, SImode, operands); DONE;\")\n-\n ;\n ; xorhi3 instruction pattern(s).\n ;\n@@ -5310,14 +5255,6 @@\n      (clobber (reg:CC CC_REGNUM))])]\n   \"s390_narrow_logical_operator (XOR, &operands[0], &operands[1]);\")\n \n-(define_expand \"xorhi3\"\n-  [(set (match_operand:HI 0 \"nonimmediate_operand\" \"\")\n-        (xor:HI (match_operand:HI 1 \"nonimmediate_operand\" \"\")\n-                (match_operand:HI 2 \"general_operand\" \"\")))\n-   (clobber (reg:CC CC_REGNUM))]\n-  \"\"\n-  \"s390_expand_logical_operator (XOR, HImode, operands); DONE;\")\n-\n ;\n ; xorqi3 instruction pattern(s).\n ;\n@@ -5335,14 +5272,6 @@\n    #\"\n   [(set_attr \"op_type\"  \"RR,SI,SIY,SS\")])\n \n-(define_expand \"xorqi3\"\n-  [(set (match_operand:QI 0 \"nonimmediate_operand\" \"\")\n-        (xor:QI (match_operand:QI 1 \"nonimmediate_operand\" \"\")\n-                (match_operand:QI 2 \"general_operand\" \"\")))\n-   (clobber (reg:CC CC_REGNUM))]\n-  \"\"\n-  \"s390_expand_logical_operator (XOR, QImode, operands); DONE;\")\n-\n ;\n ; Block exclusive or (XC) patterns.\n ;"}]}