{"sha": "d15232769160ac7352de1d2bae7a6993bc979166", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDE1MjMyNzY5MTYwYWM3MzUyZGUxZDJiYWU3YTY5OTNiYzk3OTE2Ng==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2011-01-25T21:24:53Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2011-01-25T21:24:53Z"}, "message": "Add testcase for PR43657.\n\n2011-01-18  Sebastian Pop  <sebastian.pop@amd.com>\n\n\tPR tree-optimization/43657\n\t* gcc.dg/graphite/pr43657.c: New.\n\nFrom-SVN: r169254", "tree": {"sha": "91598f68729ee4dfc968db96b370edb9811be13e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/91598f68729ee4dfc968db96b370edb9811be13e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d15232769160ac7352de1d2bae7a6993bc979166", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d15232769160ac7352de1d2bae7a6993bc979166", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d15232769160ac7352de1d2bae7a6993bc979166", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d15232769160ac7352de1d2bae7a6993bc979166/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "254b78598000c699d6fd7a962b407feeb6776e8e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/254b78598000c699d6fd7a962b407feeb6776e8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/254b78598000c699d6fd7a962b407feeb6776e8e"}], "stats": {"total": 57, "additions": 57, "deletions": 0}, "files": [{"sha": "25199cf8aa460a7f4826f66b8fa0a09b3522568b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d15232769160ac7352de1d2bae7a6993bc979166/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d15232769160ac7352de1d2bae7a6993bc979166/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d15232769160ac7352de1d2bae7a6993bc979166", "patch": "@@ -1,3 +1,8 @@\n+2011-01-25  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\tPR tree-optimization/43657\n+\t* gcc.dg/graphite/pr43657.c: New.\n+\n 2011-01-25  Sebastian Pop  <sebastian.pop@amd.com>\n \n \tPR tree-optimization/29832"}, {"sha": "18afe1e1c8a90ff1b762c5f2f312cc48a5fe7f89", "filename": "gcc/testsuite/gcc.dg/graphite/pr43657.c", "status": "added", "additions": 52, "deletions": 0, "changes": 52, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d15232769160ac7352de1d2bae7a6993bc979166/gcc%2Ftestsuite%2Fgcc.dg%2Fgraphite%2Fpr43657.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d15232769160ac7352de1d2bae7a6993bc979166/gcc%2Ftestsuite%2Fgcc.dg%2Fgraphite%2Fpr43657.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fgraphite%2Fpr43657.c?ref=d15232769160ac7352de1d2bae7a6993bc979166", "patch": "@@ -0,0 +1,52 @@\n+/* { dg-do run } */\n+/* { dg-options \"-O1 -ftree-loop-linear\" } */\n+\n+extern void abort (void);\n+\n+#define K 32\n+\n+int cond_array[2*K][K];\n+int a[K][K];\n+int out[K];\n+int check_result[K] = {2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};\n+\n+__attribute__ ((noinline)) void\n+foo (int c)\n+{\n+  int res, i, j, k, next;\n+\n+  for (k = 0; k < K; k++)\n+    {\n+      res = 0;\n+      for (j = 0; j < K; j++)\n+        for (i = 0; i < K; i++)\n+          {\n+            next = a[i][j];\n+            res = c > cond_array[i+k][j] ? next : res;\n+          }\n+\n+      out[k] = res;\n+    }\n+}\n+\n+int main ()\n+{\n+  int i, j, k;\n+\n+  for  (j = 0; j < K; j++)\n+    {\n+      for (i = 0; i < 2*K; i++)\n+        cond_array[i][j] = i+j;\n+\n+      for (i = 0; i < K; i++)\n+        a[i][j] = i+2;\n+    }\n+\n+  foo(5);\n+\n+  for (k = 0; k < K; k++)\n+    if (out[k] != check_result[k])\n+      abort ();\n+\n+  return 0;\n+}"}]}