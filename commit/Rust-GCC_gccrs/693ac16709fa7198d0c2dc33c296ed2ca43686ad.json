{"sha": "693ac16709fa7198d0c2dc33c296ed2ca43686ad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjkzYWMxNjcwOWZhNzE5OGQwYzJkYzMzYzI5NmVkMmNhNDM2ODZhZA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2004-11-29T22:26:00Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2004-11-29T22:26:00Z"}, "message": "Main.java (main): Mention gcj-dbtool.\n\n\t* gnu/gcj/tools/gcj_dbtool/Main.java (main): Mention gcj-dbtool.\n\tRecognize --help and --version.\n\t(usage): Mention gcj-dbtool.  Added \"out\" argument.\n\t(insist): Updated.\n\nFrom-SVN: r91491", "tree": {"sha": "707a7729a6511f90759faadb3ce54af47b1c6594", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/707a7729a6511f90759faadb3ce54af47b1c6594"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/693ac16709fa7198d0c2dc33c296ed2ca43686ad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/693ac16709fa7198d0c2dc33c296ed2ca43686ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/693ac16709fa7198d0c2dc33c296ed2ca43686ad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/693ac16709fa7198d0c2dc33c296ed2ca43686ad/comments", "author": null, "committer": null, "parents": [{"sha": "bac8beb4026b8ee678eb412593a0f61206ed02a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bac8beb4026b8ee678eb412593a0f61206ed02a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bac8beb4026b8ee678eb412593a0f61206ed02a5"}], "stats": {"total": 36, "additions": 24, "deletions": 12}, "files": [{"sha": "539827b5ddc8bfc39d948e08ac7219b367b9d1df", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/693ac16709fa7198d0c2dc33c296ed2ca43686ad/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/693ac16709fa7198d0c2dc33c296ed2ca43686ad/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=693ac16709fa7198d0c2dc33c296ed2ca43686ad", "patch": "@@ -1,3 +1,10 @@\n+2004-11-29  Tom Tromey  <tromey@redhat.com>\n+\n+\t* gnu/gcj/tools/gcj_dbtool/Main.java (main): Mention gcj-dbtool.\n+\tRecognize --help and --version.\n+\t(usage): Mention gcj-dbtool.  Added \"out\" argument.\n+\t(insist): Updated.\n+\n 2004-11-29  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \t* link.cc (link_symbol_table): Do not use intptr_t."}, {"sha": "b9bea0e09fa10bfa7055be50a6affa5ddc055ee6", "filename": "libjava/gnu/gcj/tools/gcj_dbtool/Main.java", "status": "modified", "additions": 17, "deletions": 12, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/693ac16709fa7198d0c2dc33c296ed2ca43686ad/libjava%2Fgnu%2Fgcj%2Ftools%2Fgcj_dbtool%2FMain.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/693ac16709fa7198d0c2dc33c296ed2ca43686ad/libjava%2Fgnu%2Fgcj%2Ftools%2Fgcj_dbtool%2FMain.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fgcj%2Ftools%2Fgcj_dbtool%2FMain.java?ref=693ac16709fa7198d0c2dc33c296ed2ca43686ad", "patch": "@@ -21,10 +21,10 @@\n   public static void main (String[] s)\n   {\n     insist (s.length >= 1);\n-    if (s[0].equals(\"-v\"))\n+    if (s[0].equals(\"-v\") || s[0].equals(\"--version\"))\n       {\n \tinsist (s.length == 1);\n-\tSystem.out.println(\"jv-dbtool (\"\n+\tSystem.out.println(\"gcj-dbtool (\"\n \t\t\t   + System.getProperty(\"java.vm.name\")\n \t\t\t   + \") \"\n \t\t\t   + System.getProperty(\"java.vm.version\"));\n@@ -34,6 +34,11 @@ public static void main (String[] s)\n \tSystem.out.println(\"warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\");\n \treturn;\n       }\n+    if (s[0].equals(\"--help\"))\n+      {\n+\tusage(System.out);\n+\treturn;\n+      }\n \n     if (s[0].equals(\"-n\"))\n       {\n@@ -60,7 +65,7 @@ public static void main (String[] s)\n \n \t    if (capacity <= 2)\n \t      {\n-\t\tusage();\n+\t\tusage(System.err);\n \t\tSystem.exit(1);\n \t      }\n \t  }\n@@ -199,30 +204,30 @@ public static void main (String[] s)\n \treturn;\n       }\n     \n-    usage();\n+    usage(System.err);\n     System.exit(1);\t    \n   }\n \n   private static void insist(boolean ok)\n   {\n     if (! ok)\n       {\n-\tusage();\n+\tusage(System.err);\n \tSystem.exit(1);\n       }\t    \n   }\n \n-  private static void usage()\n+  private static void usage(PrintStream out)\n   {\n-    System.err.println\n-      (\"jv-dbtool: Manipulate gcj map database files\\n\"\n+    out.println\n+      (\"gcj-dbtool: Manipulate gcj map database files\\n\"\n        + \"\\n\"\n        + \"  Usage: \\n\"\n-       + \"    jv-dbtool -n file.gcjdb [size]     - Create a new gcj map database\\n\"\n-       + \"    jv-dbtool -a file.gcjdb file.jar file.so\\n\"\n+       + \"    gcj-dbtool -n file.gcjdb [size]     - Create a new gcj map database\\n\"\n+       + \"    gcj-dbtool -a file.gcjdb file.jar file.so\\n\"\n        + \"            - Add the contents of file.jar to the database\\n\"\n-       + \"    jv-dbtool -t file.gcjdb            - Test a gcj map database\\n\"\n-       + \"    jv-dbtool -l file.gcjdb            - List a gcj map database\\n\");\n+       + \"    gcj-dbtool -t file.gcjdb            - Test a gcj map database\\n\"\n+       + \"    gcj-dbtool -l file.gcjdb            - List a gcj map database\\n\");\n   }\n       \n "}]}