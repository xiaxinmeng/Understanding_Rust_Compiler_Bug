{"sha": "a47ac9746589172d6bfe1398123b49d1b2a814cf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTQ3YWM5NzQ2NTg5MTcyZDZiZmUxMzk4MTIzYjQ5ZDFiMmE4MTRjZg==", "commit": {"author": {"name": "Ralf Wildenhues", "email": "Ralf.Wildenhues@gmx.de", "date": "2008-07-15T22:01:27Z"}, "committer": {"name": "Ralf Wildenhues", "email": "rwild@gcc.gnu.org", "date": "2008-07-15T22:01:27Z"}, "message": "acinclude.m4 (CLASSPATH_COND_IF): New macro.\n\nlibjava/classpath/\n\n\t* m4/acinclude.m4 (CLASSPATH_COND_IF): New macro.\n\t* configure.ac: Use it.\n\t* configure: Regenerate.\n\t* tools/Makefile.am (!CREATE_WRAPPERS): Update comment.\n\nFrom-SVN: r137851", "tree": {"sha": "14744adda1b6a2c574402552621714a832429e95", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/14744adda1b6a2c574402552621714a832429e95"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a47ac9746589172d6bfe1398123b49d1b2a814cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a47ac9746589172d6bfe1398123b49d1b2a814cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a47ac9746589172d6bfe1398123b49d1b2a814cf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a47ac9746589172d6bfe1398123b49d1b2a814cf/comments", "author": null, "committer": null, "parents": [{"sha": "25ae96c70c27bbbcb463aa03c96606bae4773aa4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25ae96c70c27bbbcb463aa03c96606bae4773aa4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25ae96c70c27bbbcb463aa03c96606bae4773aa4"}], "stats": {"total": 46, "additions": 37, "deletions": 9}, "files": [{"sha": "f8e2d43ee2c8191ba44a6615228d2ac785992571", "filename": "libjava/classpath/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a47ac9746589172d6bfe1398123b49d1b2a814cf/libjava%2Fclasspath%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a47ac9746589172d6bfe1398123b49d1b2a814cf/libjava%2Fclasspath%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog?ref=a47ac9746589172d6bfe1398123b49d1b2a814cf", "patch": "@@ -1,3 +1,10 @@\n+2008-07-15  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\t* m4/acinclude.m4 (CLASSPATH_COND_IF): New macro.\n+\t* configure.ac: Use it.\n+\t* configure: Regenerate.\n+\t* tools/Makefile.am (!CREATE_WRAPPERS): Update comment.\n+\n 2008-06-11  Andrew Haley  <aph@redhat.com>\n \n \t* native/jawt/Makefile.am,"}, {"sha": "4a39d32c2b47dbc80da228d3cd4678e34adc02d1", "filename": "libjava/classpath/configure", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a47ac9746589172d6bfe1398123b49d1b2a814cf/libjava%2Fclasspath%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a47ac9746589172d6bfe1398123b49d1b2a814cf/libjava%2Fclasspath%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fconfigure?ref=a47ac9746589172d6bfe1398123b49d1b2a814cf", "patch": "@@ -28343,9 +28343,11 @@ fi\n                                                                                                                                                                                                                                                                                                                                                                                                                                                         ac_config_files=\"$ac_config_files Makefile doc/Makefile doc/api/Makefile external/Makefile external/sax/Makefile external/w3c_dom/Makefile external/relaxngDatatype/Makefile external/jsr166/Makefile gnu/classpath/Configuration.java gnu/java/security/Configuration.java include/Makefile native/Makefile native/fdlibm/Makefile native/jawt/Makefile native/jni/Makefile native/jni/classpath/Makefile native/jni/java-io/Makefile native/jni/java-lang/Makefile native/jni/java-net/Makefile native/jni/java-nio/Makefile native/jni/java-util/Makefile native/jni/gtk-peer/Makefile native/jni/gconf-peer/Makefile native/jni/gstreamer-peer/Makefile native/jni/qt-peer/Makefile native/jni/xmlj/Makefile native/jni/midi-alsa/Makefile native/jni/midi-dssi/Makefile native/jni/native-lib/Makefile native/plugin/Makefile resource/Makefile resource/META-INF/services/java.util.prefs.PreferencesFactory resource/META-INF/services/javax.sound.sampled.spi.AudioFileReader resource/META-INF/services/javax.sound.sampled.spi.MixerProvider scripts/Makefile scripts/classpath.spec lib/Makefile lib/gen-classlist.sh lib/copy-vmresources.sh scripts/check_jni_methods.sh tools/Makefile examples/Makefile examples/Makefile.jawt examples/Makefile.java2d\"\n \n \n-if test \"x${COMPILE_WRAPPERS}\" = xno\n-then\n-                                                                                                                        ac_config_files=\"$ac_config_files tools/gappletviewer tools/gjarsigner tools/gkeytool tools/gjar tools/gnative2ascii tools/gserialver tools/grmiregistry tools/gtnameserv tools/gorbd tools/grmid tools/grmic tools/gjavah\"\n+if test \"x${COMPILE_WRAPPERS}\" = xyes; then\n+     :\n+   else\n+                                                                                                                             ac_config_files=\"$ac_config_files tools/gappletviewer tools/gjarsigner tools/gkeytool tools/gjar tools/gnative2ascii tools/gserialver tools/grmiregistry tools/gtnameserv tools/gorbd tools/grmid tools/grmic tools/gjavah\"\n+\n \n           ac_config_commands=\"$ac_config_commands gappletviewer\"\n \n@@ -28371,7 +28373,9 @@ then\n \n           ac_config_commands=\"$ac_config_commands gjavah\"\n \n-fi\n+\n+   fi\n+\n \n           ac_config_commands=\"$ac_config_commands gen-classlist\"\n "}, {"sha": "54a3efce22f293f9f8c1061bb7e8d12d7fbd0143", "filename": "libjava/classpath/configure.ac", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a47ac9746589172d6bfe1398123b49d1b2a814cf/libjava%2Fclasspath%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a47ac9746589172d6bfe1398123b49d1b2a814cf/libjava%2Fclasspath%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fconfigure.ac?ref=a47ac9746589172d6bfe1398123b49d1b2a814cf", "patch": "@@ -1059,9 +1059,8 @@ examples/Makefile\n examples/Makefile.jawt\n examples/Makefile.java2d])\n \n-if test \"x${COMPILE_WRAPPERS}\" = xno\n-then\n-AC_CONFIG_FILES([tools/gappletviewer\n+CLASSPATH_COND_IF([CREATE_WRAPPERS], [test \"x${COMPILE_WRAPPERS}\" = xyes], [],\n+[AC_CONFIG_FILES([tools/gappletviewer\n tools/gjarsigner\n tools/gkeytool\n tools/gjar\n@@ -1073,6 +1072,7 @@ tools/gorbd\n tools/grmid\n tools/grmic\n tools/gjavah])\n+\n AC_CONFIG_COMMANDS([gappletviewer],[chmod 755 tools/gappletviewer])\n AC_CONFIG_COMMANDS([gjarsigner],[chmod 755 tools/gjarsigner])\n AC_CONFIG_COMMANDS([gkeytool],[chmod 755 tools/gkeytool])\n@@ -1085,7 +1085,7 @@ AC_CONFIG_COMMANDS([gorbd],[chmod 755 tools/gorbd])\n AC_CONFIG_COMMANDS([grmid],[chmod 755 tools/grmid])\n AC_CONFIG_COMMANDS([grmic],[chmod 755 tools/grmic])\n AC_CONFIG_COMMANDS([gjavah], [chmod 755 tools/gjavah])\n-fi\n+])\n \n AC_CONFIG_COMMANDS([gen-classlist],[chmod 755 lib/gen-classlist.sh])\n AC_CONFIG_COMMANDS([copy-vmresources],[chmod 755 lib/copy-vmresources.sh])"}, {"sha": "9f98f1c37f6c817979648ca0123bc6732b297d16", "filename": "libjava/classpath/m4/acinclude.m4", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a47ac9746589172d6bfe1398123b49d1b2a814cf/libjava%2Fclasspath%2Fm4%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a47ac9746589172d6bfe1398123b49d1b2a814cf/libjava%2Fclasspath%2Fm4%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fm4%2Facinclude.m4?ref=a47ac9746589172d6bfe1398123b49d1b2a814cf", "patch": "@@ -246,3 +246,19 @@ EOF\n   rm -f $JAVA_TEST $CLASS_TEST\n   AC_SUBST(JAVAC_MEM_OPT)\n ])\n+\n+dnl ---------------------------------------------------------------\n+dnl CLASSPATH_COND_IF(COND, SHELL-CONDITION, [IF-TRUE], [IF-FALSE])\n+dnl ---------------------------------------------------------------\n+dnl Automake 1.11 can emit conditional rules for AC_CONFIG_FILES,\n+dnl using AM_COND_IF.  This wrapper uses it if it is available,\n+dnl otherwise falls back to code compatible with Automake 1.9.6.\n+AC_DEFUN([CLASSPATH_COND_IF],\n+[m4_ifdef([AM_COND_IF],\n+  [AM_COND_IF([$1], [$3], [$4])],\n+  [if $2; then\n+     m4_default([$3], [:])\n+   else\n+     m4_default([$4], [:])\n+   fi\n+])])"}, {"sha": "81953bc66ee99d90915bd08f60992f35d30ee2dd", "filename": "libjava/classpath/tools/Makefile.am", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a47ac9746589172d6bfe1398123b49d1b2a814cf/libjava%2Fclasspath%2Ftools%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a47ac9746589172d6bfe1398123b49d1b2a814cf/libjava%2Fclasspath%2Ftools%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Ftools%2FMakefile.am?ref=a47ac9746589172d6bfe1398123b49d1b2a814cf", "patch": "@@ -89,7 +89,8 @@ noinst_SCRIPTS = gappletviewer gjarsigner gkeytool \\\n \tgjar gnative2ascii gserialver gjavah grmiregistry \\\n \tgtnameserv gorbd grmid grmic\n bin_PROGRAMS =\n-## FIXME: revisit this with a newer automake.\n+## FIXME: remove these unneeded dependency lines once we can\n+## require Automake 1.11.\n gappletviewer: gappletviewer.in\n gjarsigner: gjarsigner.in\n gkeytool: gkeytool.in"}]}