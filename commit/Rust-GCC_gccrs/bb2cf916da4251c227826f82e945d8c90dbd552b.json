{"sha": "bb2cf916da4251c227826f82e945d8c90dbd552b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmIyY2Y5MTZkYTQyNTFjMjI3ODI2ZjgyZTk0NWQ4YzkwZGJkNTUyYg==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@redhat.com", "date": "2001-03-15T17:36:43Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2001-03-15T17:36:43Z"}, "message": "Use only nonvarying rtxs as known values\n\nFrom-SVN: r40505", "tree": {"sha": "6df32fedcae265d8eca337f5eea13f10480a5f12", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6df32fedcae265d8eca337f5eea13f10480a5f12"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bb2cf916da4251c227826f82e945d8c90dbd552b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb2cf916da4251c227826f82e945d8c90dbd552b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb2cf916da4251c227826f82e945d8c90dbd552b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb2cf916da4251c227826f82e945d8c90dbd552b/comments", "author": null, "committer": null, "parents": [{"sha": "e06736f44e98d3239e2d589c4f55e35caf84a2b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e06736f44e98d3239e2d589c4f55e35caf84a2b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e06736f44e98d3239e2d589c4f55e35caf84a2b9"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "3ae6198497eb0f257c1d36fea0af0ae214ead13c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb2cf916da4251c227826f82e945d8c90dbd552b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb2cf916da4251c227826f82e945d8c90dbd552b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bb2cf916da4251c227826f82e945d8c90dbd552b", "patch": "@@ -25,6 +25,10 @@ Thu Mar 15 11:24:29 EST 2001  John Wehle  (john@feith.com)\n \t* cselib.c (hash_rtx): For REG and MEM, just use value of expression\n \twithout adding in rtx code and mode.\n \n+\t* alias.c (init_alias_analysis): Don't use any rtx whose value\n+\tvaries as a known value.\n+\tDelete a superfluous test.\n+\n \t* config/ia64/ia64.c (maybe_rotate): New function, broken out of\n \tia64_sched_reorder.\n \t(ia64_sched_reorder): Call maybe_rotate; also rotate after"}, {"sha": "6b20df765fd925809cc56d738e5ec396d0386b7d", "filename": "gcc/alias.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb2cf916da4251c227826f82e945d8c90dbd552b/gcc%2Falias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb2cf916da4251c227826f82e945d8c90dbd552b/gcc%2Falias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Falias.c?ref=bb2cf916da4251c227826f82e945d8c90dbd552b", "patch": "@@ -2276,6 +2276,7 @@ init_alias_analysis ()\n \t\t\t   && REG_N_SETS (regno) == 1)\n \t\t\t  || (note = find_reg_note (insn, REG_EQUIV, NULL_RTX)) != 0)\n \t\t      && GET_CODE (XEXP (note, 0)) != EXPR_LIST\n+\t\t      && ! rtx_varies_p (XEXP (note, 0), 1)\n \t\t      && ! reg_overlap_mentioned_p (SET_DEST (set), XEXP (note, 0)))\n \t\t    {\n \t\t      reg_known_value[regno] = XEXP (note, 0);\n@@ -2289,8 +2290,7 @@ init_alias_analysis ()\n \t\t\t   && GET_CODE (XEXP (src, 1)) == CONST_INT)\n \t\t    {\n \t\t      rtx op0 = XEXP (src, 0);\n-\t\t      if (reg_known_value[REGNO (op0)])\n-\t\t\top0 = reg_known_value[REGNO (op0)];\n+\t\t      op0 = reg_known_value[REGNO (op0)];\n \t\t      reg_known_value[regno]\n \t\t\t= plus_constant_for_output (op0,\n \t\t\t\t\t\t    INTVAL (XEXP (src, 1)));"}]}