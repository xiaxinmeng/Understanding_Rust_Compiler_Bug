{"sha": "16d62226d101228aa48a186af2d0f1f416492f7d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTZkNjIyMjZkMTAxMjI4YWE0OGExODZhZjJkMGYxZjQxNjQ5MmY3ZA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-02-10T00:40:27Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-02-10T00:40:27Z"}, "message": "runtime: Use __builtin_{inf,nan} rather than INFINITY/NAN.\n\nFrom-SVN: r184080", "tree": {"sha": "8f54e1ef2239c0f774753809917af5a7545e56f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8f54e1ef2239c0f774753809917af5a7545e56f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/16d62226d101228aa48a186af2d0f1f416492f7d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16d62226d101228aa48a186af2d0f1f416492f7d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/16d62226d101228aa48a186af2d0f1f416492f7d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16d62226d101228aa48a186af2d0f1f416492f7d/comments", "author": null, "committer": null, "parents": [{"sha": "9e4f308edde825311730ced4fdd3610906bc45a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e4f308edde825311730ced4fdd3610906bc45a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e4f308edde825311730ced4fdd3610906bc45a8"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "d620ba08bad8af0f48747a8b1d44ebefe49b4d3c", "filename": "libgo/runtime/go-matherr.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16d62226d101228aa48a186af2d0f1f416492f7d/libgo%2Fruntime%2Fgo-matherr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16d62226d101228aa48a186af2d0f1f416492f7d/libgo%2Fruntime%2Fgo-matherr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fgo-matherr.c?ref=16d62226d101228aa48a186af2d0f1f416492f7d", "patch": "@@ -35,7 +35,7 @@ matherr (struct exception* e)\n   n = e->name;\n   if (__builtin_strcmp (n, \"acos\") == 0\n       || __builtin_strcmp (n, \"asin\") == 0)\n-    e->retval = NAN;\n+    e->retval = __builtin_nan (\"\");\n   else if (__builtin_strcmp (n, \"atan2\") == 0)\n     {\n       if (e->arg1 == 0 && e->arg2 == 0)\n@@ -53,29 +53,29 @@ matherr (struct exception* e)\n     }\n   else if (__builtin_strcmp (n, \"log\") == 0\n \t   || __builtin_strcmp (n, \"log10\") == 0)\n-    e->retval = NAN;\n+    e->retval = __builtin_nan (\"\");\n   else if (__builtin_strcmp (n, \"pow\") == 0)\n     {\n       if (e->arg1 < 0)\n-\te->retval = NAN;\n+\te->retval = __builtin_nan (\"\");\n       else if (e->arg1 == 0 && e->arg2 == 0)\n \te->retval = 1.0;\n       else if (e->arg1 == 0 && e->arg2 < 0)\n \t{\n \t  double i;\n \n \t  if (modf (e->arg2, &i) == 0 && ((int64_t) i & 1) == 1)\n-\t    e->retval = copysign (INFINITY, e->arg1);\n+\t    e->retval = copysign (__builtin_inf (), e->arg1);\n \t  else\n-\t    e->retval = INFINITY;\n+\t    e->retval = __builtin_inf ();\n \t}\n       else\n \treturn 0;\n     }\n   else if (__builtin_strcmp (n, \"sqrt\") == 0)\n     {\n       if (e->arg1 < 0)\n-\te->retval = NAN;\n+\te->retval = __builtin_nan (\"\");\n       else\n \treturn 0;\n     }"}]}