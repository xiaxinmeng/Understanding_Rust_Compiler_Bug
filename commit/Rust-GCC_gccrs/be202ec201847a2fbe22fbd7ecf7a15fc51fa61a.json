{"sha": "be202ec201847a2fbe22fbd7ecf7a15fc51fa61a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmUyMDJlYzIwMTg0N2EyZmJlMjJmYmQ3ZWNmN2ExNWZjNTFmYTYxYQ==", "commit": {"author": {"name": "Franz Sirl", "email": "Franz.Sirl-kernel@lauterbach.com", "date": "2002-06-14T18:58:10Z"}, "committer": {"name": "Franz Sirl", "email": "sirl@gcc.gnu.org", "date": "2002-06-14T18:58:10Z"}, "message": "rtl.h (SCHED_GROUP_P): Disallow CODE_LABEL, BARRIER and NOTE.\n\n\t2002-06-14  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n\n\t* rtl.h (SCHED_GROUP_P): Disallow CODE_LABEL, BARRIER and NOTE.\n\t* sched-deps.c (add_dependence): Likewise.\n\t(group_leader): Likewise.\n\t* sched-rgn.c (init_ready_list): Likewise.\n\t* doc/rtl.texi: Adjust accordingly.\n\nFrom-SVN: r54622", "tree": {"sha": "29cb9e5ec94f8fec411037a41ebb75e953397eb2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/29cb9e5ec94f8fec411037a41ebb75e953397eb2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/be202ec201847a2fbe22fbd7ecf7a15fc51fa61a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be202ec201847a2fbe22fbd7ecf7a15fc51fa61a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be202ec201847a2fbe22fbd7ecf7a15fc51fa61a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be202ec201847a2fbe22fbd7ecf7a15fc51fa61a/comments", "author": {"login": "jinkama-san", "id": 1462162, "node_id": "MDQ6VXNlcjE0NjIxNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1462162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jinkama-san", "html_url": "https://github.com/jinkama-san", "followers_url": "https://api.github.com/users/jinkama-san/followers", "following_url": "https://api.github.com/users/jinkama-san/following{/other_user}", "gists_url": "https://api.github.com/users/jinkama-san/gists{/gist_id}", "starred_url": "https://api.github.com/users/jinkama-san/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jinkama-san/subscriptions", "organizations_url": "https://api.github.com/users/jinkama-san/orgs", "repos_url": "https://api.github.com/users/jinkama-san/repos", "events_url": "https://api.github.com/users/jinkama-san/events{/privacy}", "received_events_url": "https://api.github.com/users/jinkama-san/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6203ef88a6591be899fe5425e21aa6bccf6a8c10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6203ef88a6591be899fe5425e21aa6bccf6a8c10", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6203ef88a6591be899fe5425e21aa6bccf6a8c10"}], "stats": {"total": 48, "additions": 25, "deletions": 23}, "files": [{"sha": "8a9f15acc58e6b9627a58bc51db34503a4550bed", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be202ec201847a2fbe22fbd7ecf7a15fc51fa61a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be202ec201847a2fbe22fbd7ecf7a15fc51fa61a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=be202ec201847a2fbe22fbd7ecf7a15fc51fa61a", "patch": "@@ -1,3 +1,11 @@\n+2002-06-14  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n+\n+\t* rtl.h (SCHED_GROUP_P): Disallow CODE_LABEL, BARRIER and NOTE.\n+\t* sched-deps.c (add_dependence): Likewise.\n+\t(group_leader): Likewise.\n+\t* sched-rgn.c (init_ready_list): Likewise.\n+\t* doc/rtl.texi: Adjust accordingly.\n+\n 2002-06-13  Jeffrey Law  <law@redhat.com>\n \n \t* gcse.c (delete_null_pointer_checks_1): Inform caller if any"}, {"sha": "5894910d30be883339bc8210de2d3113d4559419", "filename": "gcc/doc/rtl.texi", "status": "modified", "additions": 6, "deletions": 10, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be202ec201847a2fbe22fbd7ecf7a15fc51fa61a/gcc%2Fdoc%2Frtl.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be202ec201847a2fbe22fbd7ecf7a15fc51fa61a/gcc%2Fdoc%2Frtl.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Frtl.texi?ref=be202ec201847a2fbe22fbd7ecf7a15fc51fa61a", "patch": "@@ -614,17 +614,13 @@ anywhere.  This does not mean that it is function invariant.\n Stored in the @code{unchanging} field and printed as @samp{/u}.\n \n @findex SCHED_GROUP_P\n-@cindex @code{insn} and @samp{/i}\n-@cindex @code{call_insn} and @samp{/i}\n-@cindex @code{jump_insn} and @samp{/i}\n-@cindex @code{code_label} and @samp{/i}\n-@cindex @code{barrier} and @samp{/i}\n-@cindex @code{note} and @samp{/i}\n-@cindex @code{in_struct}, in @code{insn}, @code{jump_insn}, @code{call_insn}, @code{code_label}, @code{barrier}, and @code{note}\n+@cindex @code{insn} and @samp{/s}\n+@cindex @code{call_insn} and @samp{/s}\n+@cindex @code{jump_insn} and @samp{/s}\n+@cindex @code{in_struct}, in @code{insn}, @code{jump_insn} and @code{call_insn}\n @item SCHED_GROUP_P (@var{x})\n-During instruction scheduling, in an @code{insn}, @code{call_insn},\n-@code{jump_insn}, @code{code_label}, @code{barrier}, or\n-@code{note}, indicates that the\n+During instruction scheduling, in an @code{insn}, @code{call_insn} or\n+@code{jump_insn}, indicates that the\n previous insn must be scheduled together with this insn.  This is used to\n ensure that certain groups of instructions will not be split up by the\n instruction scheduling pass, for example, @code{use} insns before"}, {"sha": "0b7a874ee8419af48951eb4190d340c6bfe9c778", "filename": "gcc/rtl.h", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be202ec201847a2fbe22fbd7ecf7a15fc51fa61a/gcc%2Frtl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be202ec201847a2fbe22fbd7ecf7a15fc51fa61a/gcc%2Frtl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl.h?ref=be202ec201847a2fbe22fbd7ecf7a15fc51fa61a", "patch": "@@ -161,9 +161,8 @@ struct rtx_def\n      and must not be deleted even if its count is zero.\n      1 in a LABEL_REF if this is a reference to a label outside the\n      current loop.\n-     1 in an INSN, JUMP_INSN, CALL_INSN, CODE_LABEL, BARRIER, or NOTE if\n-     this insn must be scheduled together with the preceding insn.  Valid\n-     only within sched.\n+     1 in an INSN, JUMP_INSN or CALL_INSN if this insn must be scheduled\n+     together with the preceding insn.  Valid only within sched.\n      1 in an INSN, JUMP_INSN, or CALL_INSN if insn is in a delay slot and\n      from the target of a branch.  Valid from reorg until end of compilation;\n      cleared before used.\n@@ -1118,8 +1117,8 @@ do {\t\t\t\t\t\t\\\n /* During sched, 1 if RTX is an insn that must be scheduled together\n    with the preceding insn.  */\n #define SCHED_GROUP_P(RTX)\t\t\t\t\t\t\\\n-  (RTL_FLAG_CHECK6(\"SCHED_GROUP_P\", (RTX), INSN, JUMP_INSN, CALL_INSN,\t\\\n-\t\t          CODE_LABEL, BARRIER, NOTE)->in_struct)\n+  (RTL_FLAG_CHECK3(\"SCHED_GROUP_P\", (RTX), INSN, JUMP_INSN, CALL_INSN\t\\\n+\t\t          )->in_struct)\n \n /* For a SET rtx, SET_DEST is the place that is set\n    and SET_SRC is the value it is set to.  */"}, {"sha": "a5e9c08b5bfcab6487c9044a4352e7778cd83048", "filename": "gcc/sched-deps.c", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be202ec201847a2fbe22fbd7ecf7a15fc51fa61a/gcc%2Fsched-deps.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be202ec201847a2fbe22fbd7ecf7a15fc51fa61a/gcc%2Fsched-deps.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched-deps.c?ref=be202ec201847a2fbe22fbd7ecf7a15fc51fa61a", "patch": "@@ -222,8 +222,7 @@ add_dependence (insn, elem, dep_type)\n      setters of the condition codes, so we must skip past notes here.\n      Otherwise, NOTEs are impossible here.  */\n   next = next_nonnote_insn (elem);\n-  if (next && SCHED_GROUP_P (next)\n-      && GET_CODE (next) != CODE_LABEL)\n+  if (next && INSN_P (next) && SCHED_GROUP_P (next))\n     {\n       /* Notes will never intervene here though, so don't bother checking\n          for them.  */\n@@ -235,8 +234,8 @@ add_dependence (insn, elem, dep_type)\n \n       rtx nnext;\n       while ((nnext = next_nonnote_insn (next)) != NULL\n-\t     && SCHED_GROUP_P (nnext)\n-\t     && GET_CODE (nnext) != CODE_LABEL)\n+\t     && INSN_P (nnext)\n+\t     && SCHED_GROUP_P (nnext))\n \tnext = nnext;\n \n       /* Again, don't depend an insn on itself.  */\n@@ -448,7 +447,7 @@ group_leader (insn)\n       prev = insn;\n       insn = next_nonnote_insn (insn);\n     }\n-  while (insn && SCHED_GROUP_P (insn) && (GET_CODE (insn) != CODE_LABEL));\n+  while (insn && INSN_P (insn) && SCHED_GROUP_P (insn));\n \n   return prev;\n }"}, {"sha": "6227645651bc1fb0248d1718eca2edd21eae03e6", "filename": "gcc/sched-rgn.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be202ec201847a2fbe22fbd7ecf7a15fc51fa61a/gcc%2Fsched-rgn.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be202ec201847a2fbe22fbd7ecf7a15fc51fa61a/gcc%2Fsched-rgn.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched-rgn.c?ref=be202ec201847a2fbe22fbd7ecf7a15fc51fa61a", "patch": "@@ -2033,7 +2033,7 @@ init_ready_list (ready)\n       next = NEXT_INSN (insn);\n \n       if (INSN_DEP_COUNT (insn) == 0\n-\t  && (SCHED_GROUP_P (next) == 0 || ! INSN_P (next)))\n+\t  && (! INSN_P (next) || SCHED_GROUP_P (next) == 0))\n \tready_add (ready, insn);\n       if (!(SCHED_GROUP_P (insn)))\n \ttarget_n_insns++;\n@@ -2079,8 +2079,8 @@ init_ready_list (ready)\n \t\tnext = next_nonnote_insn (insn);\n \t\tif (INSN_DEP_COUNT (insn) == 0\n \t\t    && (! next\n-\t\t\t|| SCHED_GROUP_P (next) == 0\n-\t\t\t|| ! INSN_P (next)))\n+\t\t\t|| ! INSN_P (next)\n+\t\t\t|| SCHED_GROUP_P (next) == 0))\n \t\t  ready_add (ready, insn);\n \t      }\n \t  }"}]}