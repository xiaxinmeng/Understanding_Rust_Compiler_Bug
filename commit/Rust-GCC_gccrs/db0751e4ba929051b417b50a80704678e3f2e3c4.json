{"sha": "db0751e4ba929051b417b50a80704678e3f2e3c4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGIwNzUxZTRiYTkyOTA1MWI0MTdiNTBhODA3MDQ2NzhlM2YyZTNjNA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-02-25T00:25:44Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-02-25T00:25:44Z"}, "message": "(vms_check_external): New function.\n\nFrom-SVN: r3527", "tree": {"sha": "c41806e4c5b61c8e9fc2627ba94be1c5f14c9781", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c41806e4c5b61c8e9fc2627ba94be1c5f14c9781"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/db0751e4ba929051b417b50a80704678e3f2e3c4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db0751e4ba929051b417b50a80704678e3f2e3c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db0751e4ba929051b417b50a80704678e3f2e3c4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db0751e4ba929051b417b50a80704678e3f2e3c4/comments", "author": null, "committer": null, "parents": [{"sha": "903da7659535bb088b58905c7c0a673e8219af12", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/903da7659535bb088b58905c7c0a673e8219af12", "html_url": "https://github.com/Rust-GCC/gccrs/commit/903da7659535bb088b58905c7c0a673e8219af12"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "bd6374615580608b4dd8b45702d215e503e1232b", "filename": "gcc/config/vax/vax.c", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db0751e4ba929051b417b50a80704678e3f2e3c4/gcc%2Fconfig%2Fvax%2Fvax.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db0751e4ba929051b417b50a80704678e3f2e3c4/gcc%2Fconfig%2Fvax%2Fvax.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvax%2Fvax.c?ref=db0751e4ba929051b417b50a80704678e3f2e3c4", "patch": "@@ -578,6 +578,35 @@ vax_rtx_cost (x)\n   return c;\n }\n \f\n+/* Linked list of all externals that are to be emitted when optimizing\n+   for the global pointer if they haven't been declared by the end of\n+   the program with an appropriate .comm or initialization.  */\n+\n+struct extern_list {\n+  struct extern_list *next;\t/* next external */\n+  char *name;\t\t\t/* name of the external */\n+} *extern_head = 0;\n+\n+/* Return 1 if NAME has already had an external definition;\n+   0 if it has not (so caller should output one).  */\n+\n+int\n+vms_check_external (name)\n+     char *name;\n+{\n+  register struct extern_list *p;\n+\n+  for (p = extern_head; p; p = p->next)\n+    if (!strcmp (p->name, name))\n+      return 1;\n+\n+  p = (struct extern_list *)permalloc ((long) sizeof (struct extern_list));\n+  p->next = extern_head;\n+  p->name = name;\n+  extern_head = p;\n+  return 0;\n+}\n+\f\n #ifdef VMS\n /* Additional support code for VMS. */\n "}]}