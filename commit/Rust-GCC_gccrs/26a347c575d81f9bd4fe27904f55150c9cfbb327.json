{"sha": "26a347c575d81f9bd4fe27904f55150c9cfbb327", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjZhMzQ3YzU3NWQ4MWY5YmQ0ZmUyNzkwNGY1NTE1MGM5Y2ZiYjMyNw==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2009-06-05T16:20:25Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2009-06-05T16:20:25Z"}, "message": "builtins.c (do_mpc_ckconv, [...]): Use mpc_realref/mpc_imagref instead of MPC_RE/MPC_IM.\n\n\t* builtins.c (do_mpc_ckconv, do_mpc_arg1): Use\n\tmpc_realref/mpc_imagref instead of MPC_RE/MPC_IM.\n\nfortran:\n\t* simplify.c (call_mpc_func): Use mpc_realref/mpc_imagref\n\tinstead of MPC_RE/MPC_IM.\n\nFrom-SVN: r148213", "tree": {"sha": "0838738db151716477069c9bdee9e002cb818036", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0838738db151716477069c9bdee9e002cb818036"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/26a347c575d81f9bd4fe27904f55150c9cfbb327", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26a347c575d81f9bd4fe27904f55150c9cfbb327", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26a347c575d81f9bd4fe27904f55150c9cfbb327", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26a347c575d81f9bd4fe27904f55150c9cfbb327/comments", "author": null, "committer": null, "parents": [{"sha": "9f706f23d133a3e4eb5130996461e5cfb2cb706a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f706f23d133a3e4eb5130996461e5cfb2cb706a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f706f23d133a3e4eb5130996461e5cfb2cb706a"}], "stats": {"total": 28, "additions": 19, "deletions": 9}, "files": [{"sha": "9efd18824962adea2a2dca87958eedf8426cf0a2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26a347c575d81f9bd4fe27904f55150c9cfbb327/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26a347c575d81f9bd4fe27904f55150c9cfbb327/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=26a347c575d81f9bd4fe27904f55150c9cfbb327", "patch": "@@ -1,3 +1,8 @@\n+2009-06-05  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* builtins.c (do_mpc_ckconv, do_mpc_arg1): Use\n+\tmpc_realref/mpc_imagref instead of MPC_RE/MPC_IM.\n+\n 2009-06-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/40340"}, {"sha": "a555e4fa14bec2a0bc8802d92e52497a307b0638", "filename": "gcc/builtins.c", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26a347c575d81f9bd4fe27904f55150c9cfbb327/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26a347c575d81f9bd4fe27904f55150c9cfbb327/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=26a347c575d81f9bd4fe27904f55150c9cfbb327", "patch": "@@ -13216,21 +13216,21 @@ do_mpc_ckconv (mpc_srcptr m, tree type, int inexact)\n   /* Proceed iff we get a normal number, i.e. not NaN or Inf and no\n      overflow/underflow occurred.  If -frounding-math, proceed iff the\n      result of calling FUNC was exact.  */\n-  if (mpfr_number_p (MPC_RE (m)) && mpfr_number_p (MPC_IM (m))\n+  if (mpfr_number_p (mpc_realref (m)) && mpfr_number_p (mpc_imagref (m))\n       && !mpfr_overflow_p () && !mpfr_underflow_p ()\n       && (!flag_rounding_math || !inexact))\n     {\n       REAL_VALUE_TYPE re, im;\n \n-      real_from_mpfr (&re, MPC_RE (m), type, GMP_RNDN);\n-      real_from_mpfr (&im, MPC_IM (m), type, GMP_RNDN);\n+      real_from_mpfr (&re, mpc_realref (m), type, GMP_RNDN);\n+      real_from_mpfr (&im, mpc_imagref (m), type, GMP_RNDN);\n       /* Proceed iff GCC's REAL_VALUE_TYPE can hold the MPFR values,\n \t check for overflow/underflow.  If the REAL_VALUE_TYPE is zero\n \t but the mpft_t is not, then we underflowed in the\n \t conversion.  */\n       if (real_isfinite (&re) && real_isfinite (&im)\n-\t  && (re.cl == rvc_zero) == (mpfr_zero_p (MPC_RE (m)) != 0)\n-\t  && (im.cl == rvc_zero) == (mpfr_zero_p (MPC_IM (m)) != 0))\n+\t  && (re.cl == rvc_zero) == (mpfr_zero_p (mpc_realref (m)) != 0)\n+\t  && (im.cl == rvc_zero) == (mpfr_zero_p (mpc_imagref (m)) != 0))\n         {\n \t  REAL_VALUE_TYPE re_mode, im_mode;\n \n@@ -13676,8 +13676,8 @@ do_mpc_arg1 (tree arg, tree type, int (*func)(mpc_ptr, mpc_srcptr, mpc_rnd_t))\n \t  mpc_t m;\n \t  \n \t  mpc_init2 (m, prec);\n-\t  mpfr_from_real (MPC_RE(m), re, rnd);\n-\t  mpfr_from_real (MPC_IM(m), im, rnd);\n+\t  mpfr_from_real (mpc_realref(m), re, rnd);\n+\t  mpfr_from_real (mpc_imagref(m), im, rnd);\n \t  mpfr_clear_flags ();\n \t  inexact = func (m, m, crnd);\n \t  result = do_mpc_ckconv (m, type, inexact);"}, {"sha": "5eacd0f6bbef638c75763c3ffc381ec7191515da", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26a347c575d81f9bd4fe27904f55150c9cfbb327/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26a347c575d81f9bd4fe27904f55150c9cfbb327/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=26a347c575d81f9bd4fe27904f55150c9cfbb327", "patch": "@@ -1,3 +1,8 @@\n+2009-06-05  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* simplify.c (call_mpc_func): Use mpc_realref/mpc_imagref\n+\tinstead of MPC_RE/MPC_IM.\n+\n 2009-06-05  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* trans-decl.c (gfc_build_qualified_array): Don't skip generation"}, {"sha": "fea1b91779ff72afc698d12f121f871d1ae19f88", "filename": "gcc/fortran/simplify.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26a347c575d81f9bd4fe27904f55150c9cfbb327/gcc%2Ffortran%2Fsimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26a347c575d81f9bd4fe27904f55150c9cfbb327/gcc%2Ffortran%2Fsimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fsimplify.c?ref=26a347c575d81f9bd4fe27904f55150c9cfbb327", "patch": "@@ -223,8 +223,8 @@ call_mpc_func (mpfr_ptr result_re, mpfr_ptr result_im,\n   mpc_init2 (c, mpfr_get_default_prec());\n   mpc_set_fr_fr (c, input_re, input_im, GFC_MPC_RND_MODE);\n   func (c, c, GFC_MPC_RND_MODE);\n-  mpfr_set (result_re, MPC_RE (c), GFC_RND_MODE);\n-  mpfr_set (result_im, MPC_IM (c), GFC_RND_MODE);\n+  mpfr_set (result_re, mpc_realref (c), GFC_RND_MODE);\n+  mpfr_set (result_im, mpc_imagref (c), GFC_RND_MODE);\n   mpc_clear (c);\n }\n #endif"}]}