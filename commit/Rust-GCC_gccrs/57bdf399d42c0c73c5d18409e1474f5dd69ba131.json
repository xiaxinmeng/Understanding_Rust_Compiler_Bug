{"sha": "57bdf399d42c0c73c5d18409e1474f5dd69ba131", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTdiZGYzOTlkNDJjMGM3M2M1ZDE4NDA5ZTE0NzRmNWRkNjliYTEzMQ==", "commit": {"author": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2012-08-04T18:26:56Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2012-08-04T18:26:56Z"}, "message": "Fix PR 54033, problems with -I, with test cases\n\n\t PR fortran/54033\n\t * scanner.c (add_path_to_list):  New argument warn.  Don't\n\t warn if it is true.\n\t (gfc_add_include_path):  Warn if directory is missing.\n\t (gfc_add_intrinsic_modules_path):  Do not warn if directory\n\t is missing.\n\t * optinons.c (gfc_handle_option):  Do not add directory\n\t for intrinsic modules to normal include path.\n\nFrom-SVN: r190144", "tree": {"sha": "becf7aac72fd0bf194f79a9bcc1fb0bb2f9d38db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/becf7aac72fd0bf194f79a9bcc1fb0bb2f9d38db"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/57bdf399d42c0c73c5d18409e1474f5dd69ba131", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57bdf399d42c0c73c5d18409e1474f5dd69ba131", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57bdf399d42c0c73c5d18409e1474f5dd69ba131", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57bdf399d42c0c73c5d18409e1474f5dd69ba131/comments", "author": null, "committer": null, "parents": [{"sha": "6f34864a43e8ce45fedaffc62ce2432bb100eb10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f34864a43e8ce45fedaffc62ce2432bb100eb10", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f34864a43e8ce45fedaffc62ce2432bb100eb10"}], "stats": {"total": 29, "additions": 21, "deletions": 8}, "files": [{"sha": "211da3c6bffd2c55c4b404d52737868d4edfda42", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 13, "deletions": 2, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57bdf399d42c0c73c5d18409e1474f5dd69ba131/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57bdf399d42c0c73c5d18409e1474f5dd69ba131/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=57bdf399d42c0c73c5d18409e1474f5dd69ba131", "patch": "@@ -1,3 +1,14 @@\n+2012-08-02  Thomas K\u00f6nig  <tkoenig@gcc.gnu.org>\n+\n+\t PR fortran/54033\n+\t * scanner.c (add_path_to_list):  New argument warn.  Don't\n+\t warn if it is true.\n+\t (gfc_add_include_path):  Warn if directory is missing.\n+\t (gfc_add_intrinsic_modules_path):  Do not warn if directory\n+\t is missing.\n+\t * optinons.c (gfc_handle_option):  Do not add directory\n+\t for intrinsic modules to normal include path.\n+\n 2012-08-03  Mikael Morin  <mikael@gcc.gnu.org>\n \n \tPR fortran/54166\n@@ -697,8 +708,8 @@\n \n 2012-05-05  Janne Blomqvist  <jb@gcc.gnu.org>\n \n-        * gfortran.texi (GFORTRAN_TMPDIR): Rename to TMPDIR, explain\n-        algorithm for choosing temp directory.\n+\t* gfortran.texi (GFORTRAN_TMPDIR): Rename to TMPDIR, explain\n+\talgorithm for choosing temp directory.\n \n 2012-05-04  Tobias Burnus  <burnus@net-b.de>\n "}, {"sha": "64d4da1443f754861ef45aa381cdf14ce24fa630", "filename": "gcc/fortran/options.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57bdf399d42c0c73c5d18409e1474f5dd69ba131/gcc%2Ffortran%2Foptions.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57bdf399d42c0c73c5d18409e1474f5dd69ba131/gcc%2Ffortran%2Foptions.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Foptions.c?ref=57bdf399d42c0c73c5d18409e1474f5dd69ba131", "patch": "@@ -819,7 +819,6 @@ gfc_handle_option (size_t scode, const char *arg, int value,\n       break;\n \n     case OPT_fintrinsic_modules_path:\n-      gfc_add_include_path (arg, false, false);\n       gfc_add_intrinsic_modules_path (arg);\n       break;\n "}, {"sha": "e0556a9760a173d88a83bd72bb276b3375309c9b", "filename": "gcc/fortran/scanner.c", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57bdf399d42c0c73c5d18409e1474f5dd69ba131/gcc%2Ffortran%2Fscanner.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57bdf399d42c0c73c5d18409e1474f5dd69ba131/gcc%2Ffortran%2Fscanner.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fscanner.c?ref=57bdf399d42c0c73c5d18409e1474f5dd69ba131", "patch": "@@ -307,7 +307,7 @@ gfc_scanner_done_1 (void)\n \n static void\n add_path_to_list (gfc_directorylist **list, const char *path,\n-\t\t  bool use_for_modules, bool head)\n+\t\t  bool use_for_modules, bool head, bool warn)\n {\n   gfc_directorylist *dir;\n   const char *p;\n@@ -324,8 +324,11 @@ add_path_to_list (gfc_directorylist **list, const char *path,\n \tgfc_warning_now (\"Include directory \\\"%s\\\": %s\", path,\n \t\t\t xstrerror(errno));\n       else\n-\t/* FIXME:  Also support -Wmissing-include-dirs.  */\n-\tgfc_warning_now (\"Nonexistent include directory \\\"%s\\\"\", path);\n+\t{\n+\t  /* FIXME:  Also support -Wmissing-include-dirs.  */\n+\t  if (warn)\n+\t    gfc_warning_now (\"Nonexistent include directory \\\"%s\\\"\", path);\n+\t}\n       return;\n     }\n   else if (!S_ISDIR (st.st_mode))\n@@ -363,7 +366,7 @@ add_path_to_list (gfc_directorylist **list, const char *path,\n void\n gfc_add_include_path (const char *path, bool use_for_modules, bool file_dir)\n {\n-  add_path_to_list (&include_dirs, path, use_for_modules, file_dir);\n+  add_path_to_list (&include_dirs, path, use_for_modules, file_dir, true);\n \n   /* For '#include \"...\"' these directories are automatically searched.  */\n   if (!file_dir)\n@@ -374,7 +377,7 @@ gfc_add_include_path (const char *path, bool use_for_modules, bool file_dir)\n void\n gfc_add_intrinsic_modules_path (const char *path)\n {\n-  add_path_to_list (&intrinsic_modules_dirs, path, true, false);\n+  add_path_to_list (&intrinsic_modules_dirs, path, true, false, false);\n }\n \n "}]}