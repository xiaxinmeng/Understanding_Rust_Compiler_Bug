{"sha": "136108a1586bd329721f8b7b4f996c0267a29272", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTM2MTA4YTE1ODZiZDMyOTcyMWY4YjdiNGY5OTZjMDI2N2EyOTI3Mg==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2015-11-25T10:00:02Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2015-11-25T10:00:02Z"}, "message": "re PR c++/58910 (std::Tuple_impl is non constexpr when using identical userdefined structs as template-args)\n\n2015-11-25  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/58910\n\t* g++.dg/cpp0x/constexpr-tuple2.C: New.\n\nFrom-SVN: r230860", "tree": {"sha": "c8a2a249c87f67907ab3886e7d26c870fbab463d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c8a2a249c87f67907ab3886e7d26c870fbab463d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/136108a1586bd329721f8b7b4f996c0267a29272", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/136108a1586bd329721f8b7b4f996c0267a29272", "html_url": "https://github.com/Rust-GCC/gccrs/commit/136108a1586bd329721f8b7b4f996c0267a29272", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/136108a1586bd329721f8b7b4f996c0267a29272/comments", "author": null, "committer": null, "parents": [{"sha": "9b71b2ab84caafd7f32429772745f9b07d85321f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b71b2ab84caafd7f32429772745f9b07d85321f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b71b2ab84caafd7f32429772745f9b07d85321f"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "789058a6f73dd856f7a0f1c25970c236f195abd5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/136108a1586bd329721f8b7b4f996c0267a29272/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/136108a1586bd329721f8b7b4f996c0267a29272/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=136108a1586bd329721f8b7b4f996c0267a29272", "patch": "@@ -1,3 +1,8 @@\n+2015-11-25  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/58910\n+\t* g++.dg/cpp0x/constexpr-tuple2.C: New.\n+\n 2015-11-25  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n \n \tPR rtl-optimization/68435"}, {"sha": "10b09b690bc4a20ebada7779a0162a21a0337334", "filename": "gcc/testsuite/g++.dg/cpp0x/constexpr-tuple2.C", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/136108a1586bd329721f8b7b4f996c0267a29272/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-tuple2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/136108a1586bd329721f8b7b4f996c0267a29272/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-tuple2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-tuple2.C?ref=136108a1586bd329721f8b7b4f996c0267a29272", "patch": "@@ -0,0 +1,20 @@\n+// PR c++/58910\n+// { dg-do compile { target c++11 } }\n+\n+#include <tuple>\n+\n+using namespace std;\n+struct t1{ constexpr t1(){} };\n+struct t2{ constexpr t2(){} };\n+\n+int main()\n+{\n+  constexpr t1 T1;\n+  constexpr t2 T2;\n+  constexpr tuple<t1,t2> Tup1(T1,T2);\n+  constexpr tuple<t1,t1> Tup2(T1,T1);\n+  constexpr auto a=get<0>(Tup1 ); //works fine\n+  constexpr auto b=get<0>(Tup2 ); // error: \n+  //'(const std::_Head_base<0ul, t1, true>*)(& Tup2)' \n+  //is not a constant expression constexpr auto b=get<0>(Tup2 );\n+}"}]}