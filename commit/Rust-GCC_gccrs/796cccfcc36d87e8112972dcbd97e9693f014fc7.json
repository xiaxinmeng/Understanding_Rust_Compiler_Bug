{"sha": "796cccfcc36d87e8112972dcbd97e9693f014fc7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzk2Y2NjZmNjMzZkODdlODExMjk3MmRjYmQ5N2U5NjkzZjAxNGZjNw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2005-07-28T18:08:59Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2005-07-28T18:08:59Z"}, "message": "re PR c++/22545 (ICE with pointer to class member & user defined conversion operator)\n\n\tPR c++/22545\n\t* call.c (add_builtin_candidate): Adjust for changes in\n\trepresentation of pointer-to-member types.\n\n\tPR c++/22545\n\t* g++.dg/expr/ptrmem7.C: New test.\n\nFrom-SVN: r102500", "tree": {"sha": "c77bc21f4159ec5cc5bfdbc005ac6e3d466a9f9e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c77bc21f4159ec5cc5bfdbc005ac6e3d466a9f9e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/796cccfcc36d87e8112972dcbd97e9693f014fc7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/796cccfcc36d87e8112972dcbd97e9693f014fc7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/796cccfcc36d87e8112972dcbd97e9693f014fc7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/796cccfcc36d87e8112972dcbd97e9693f014fc7/comments", "author": null, "committer": null, "parents": [{"sha": "8d039470f6ddd258edc714519a25a39b270c09d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d039470f6ddd258edc714519a25a39b270c09d3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d039470f6ddd258edc714519a25a39b270c09d3"}], "stats": {"total": 34, "additions": 33, "deletions": 1}, "files": [{"sha": "5a3be7c286ce6ab7d4ab60b381b2e68ecf1ae8db", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/796cccfcc36d87e8112972dcbd97e9693f014fc7/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/796cccfcc36d87e8112972dcbd97e9693f014fc7/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=796cccfcc36d87e8112972dcbd97e9693f014fc7", "patch": "@@ -1,3 +1,9 @@\n+2005-07-28  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/22545\n+\t* call.c (add_builtin_candidate): Adjust for changes in\n+\trepresentation of pointer-to-member types.\n+\n 2005-07-28  Mike Stump  <mrs@apple.com>\n \n \t* pt.c (check_explicit_specialization): Add visibility logic."}, {"sha": "cdc068c90ebe0dc74742d3dcb64332195e82b508", "filename": "gcc/cp/call.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/796cccfcc36d87e8112972dcbd97e9693f014fc7/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/796cccfcc36d87e8112972dcbd97e9693f014fc7/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=796cccfcc36d87e8112972dcbd97e9693f014fc7", "patch": "@@ -1701,7 +1701,7 @@ add_builtin_candidate (struct z_candidate **candidates, enum tree_code code,\n \n \t  if (IS_AGGR_TYPE (c1) && DERIVED_FROM_P (c2, c1)\n \t      && (TYPE_PTRMEMFUNC_P (type2)\n-\t\t  || is_complete (TREE_TYPE (TREE_TYPE (type2)))))\n+\t\t  || is_complete (TYPE_PTRMEM_POINTED_TO_TYPE (type2))))\n \t    break;\n \t}\n       return;"}, {"sha": "614a8b8229c0091f435054a8cdac2b7165c28245", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/796cccfcc36d87e8112972dcbd97e9693f014fc7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/796cccfcc36d87e8112972dcbd97e9693f014fc7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=796cccfcc36d87e8112972dcbd97e9693f014fc7", "patch": "@@ -1,3 +1,8 @@\n+2005-07-28  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/22545\n+\t* g++.dg/expr/ptrmem7.C: New test.\n+\n 2005-07-28  Mike Stump  <mrs@apple.com>\n \n \t* g++.old-deja/g++.mike/visibility-1.C: New test."}, {"sha": "a94990e54b74f9bdffb5e42ba4ebf85ad543ba81", "filename": "gcc/testsuite/g++.dg/expr/ptrmem7.C", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/796cccfcc36d87e8112972dcbd97e9693f014fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fptrmem7.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/796cccfcc36d87e8112972dcbd97e9693f014fc7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fptrmem7.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fptrmem7.C?ref=796cccfcc36d87e8112972dcbd97e9693f014fc7", "patch": "@@ -0,0 +1,21 @@\n+// PR c++/22545\n+\n+struct A {\n+  int member;\n+  A() : member(13) {}\n+};\n+\n+A a;\n+\n+struct B {\n+  operator A*() { return &a; }\n+};\n+\n+B b;\n+\n+int A::* member_pntr = &A::member;\n+\n+int main()\n+{\n+  return b ->* member_pntr;\n+}"}]}