{"sha": "c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzhiOTQ3Njg4ZmY1YjJhMTZkN2I3OWE4YzhjYzExNzBjYzBjMjI3ZQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-04-02T08:35:51Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-04-02T08:35:51Z"}, "message": "re PR rtl-optimization/190 (Optimization bug for x86 target)\n\n        PR opt/190\n        * final.c (this_is_asm_operands): Export.\n        * output.h (this_is_asm_operands): Declare.\n        * config/i386/i386.c (print_operand): Error odd asm operands.\n\nFrom-SVN: r51741", "tree": {"sha": "1362491ee061f59949150f7ad16a80817b707580", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1362491ee061f59949150f7ad16a80817b707580"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e/comments", "author": null, "committer": null, "parents": [{"sha": "9cb88bc20c84072e28f9a15dc91ba0505821ca4d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9cb88bc20c84072e28f9a15dc91ba0505821ca4d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9cb88bc20c84072e28f9a15dc91ba0505821ca4d"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "8fa21c4772449f1539a838e958340f03b32641dd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e", "patch": "@@ -1,3 +1,10 @@\n+2002-04-02  Richard Henderson  <rth@redhat.com>\n+\n+\tPR opt/190\n+\t* final.c (this_is_asm_operands): Export.\n+\t* output.h (this_is_asm_operands): Declare.\n+\t* config/i386/i386.c (print_operand): Error odd asm operands.\n+\n 2002-04-02  Richard Henderson  <rth@redhat.com>\n \n \tPR opt/420"}, {"sha": "adb8048b56ae768adf4ec9d6a7df273365a07710", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e", "patch": "@@ -5995,6 +5995,8 @@ print_operand (file, x, code)\n       else if (CONSTANT_ADDRESS_P (x) && code =='P'\n \t       && GET_CODE (x) != CONST_INT)\n \toutput_addr_const (file, x);\n+      else if (this_is_asm_operands && ! address_operand (x, VOIDmode))\n+\toutput_operand_lossage (\"invalid constraints for operand\");\n       else\n \toutput_address (x);\n     }"}, {"sha": "4992cedaeb63ddb3e8aa139d41460b23a49cc362", "filename": "gcc/final.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e/gcc%2Ffinal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e/gcc%2Ffinal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffinal.c?ref=c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e", "patch": "@@ -122,7 +122,7 @@ extern int length_unit_log; /* This is defined in insn-attrtab.c.  */\n /* Nonzero while outputting an `asm' with operands.\n    This means that inconsistencies are the user's fault, so don't abort.\n    The precise value is the insn being output, to pass to error_for_asm.  */\n-static rtx this_is_asm_operands;\n+rtx this_is_asm_operands;\n \n /* Number of operands of this insn, for an `asm' with operands.  */\n static unsigned int insn_noperands;"}, {"sha": "3f8872a1c3b78a5ecea7aee13c74f5a2b51c5168", "filename": "gcc/output.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e/gcc%2Foutput.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e/gcc%2Foutput.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foutput.h?ref=c8b947688ff5b2a16d7b79a8c8cc1170cc0c227e", "patch": "@@ -465,6 +465,11 @@ extern struct rtx_def *current_insn_predicate;\n /* Last insn processed by final_scan_insn.  */\n extern struct rtx_def *current_output_insn;\n \n+/* Nonzero while outputting an `asm' with operands.\n+   This means that inconsistencies are the user's fault, so don't abort.\n+   The precise value is the insn being output, to pass to error_for_asm.  */\n+extern rtx this_is_asm_operands;\n+\n /* Decide whether DECL needs to be in a writable section.  RELOC is the same\n    as for SELECT_SECTION.  */\n "}]}