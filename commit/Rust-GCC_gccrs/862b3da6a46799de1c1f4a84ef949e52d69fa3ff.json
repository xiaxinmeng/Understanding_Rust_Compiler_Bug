{"sha": "862b3da6a46799de1c1f4a84ef949e52d69fa3ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODYyYjNkYTZhNDY3OTlkZTFjMWY0YTg0ZWY5NDllNTJkNjlmYTNmZg==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2014-06-11T08:15:34Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2014-06-11T08:15:34Z"}, "message": "ipa-visibility.c (function_and_variable_visibility): Disable virtual table rewriting temporarily on targets not supporting ONE_ONLY.\n\n\n\t* ipa-visibility.c (function_and_variable_visibility): Disable\n\tvirtual table rewriting temporarily on targets not supporting\n\tONE_ONLY.\n\nFrom-SVN: r211437", "tree": {"sha": "bbd51b37e9251d273abf5f3a9528e067111beebe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bbd51b37e9251d273abf5f3a9528e067111beebe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/862b3da6a46799de1c1f4a84ef949e52d69fa3ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/862b3da6a46799de1c1f4a84ef949e52d69fa3ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/862b3da6a46799de1c1f4a84ef949e52d69fa3ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/862b3da6a46799de1c1f4a84ef949e52d69fa3ff/comments", "author": null, "committer": null, "parents": [{"sha": "96a3f4dfb60bb315496e00297b9f9b852482dea8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96a3f4dfb60bb315496e00297b9f9b852482dea8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96a3f4dfb60bb315496e00297b9f9b852482dea8"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "89fcc091568ec910449326ec09d5a58148ca83ff", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/862b3da6a46799de1c1f4a84ef949e52d69fa3ff/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/862b3da6a46799de1c1f4a84ef949e52d69fa3ff/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=862b3da6a46799de1c1f4a84ef949e52d69fa3ff", "patch": "@@ -1,3 +1,9 @@\n+2014-06-11  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* ipa-visibility.c (function_and_variable_visibility): Disable\n+\tvirtual table rewriting temporarily on targets not supporting\n+\tONE_ONLY.\n+\n 2014-06-11  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/61437"}, {"sha": "4e0fd9e0b405056a38723e6883a0465566f27c19", "filename": "gcc/ipa-visibility.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/862b3da6a46799de1c1f4a84ef949e52d69fa3ff/gcc%2Fipa-visibility.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/862b3da6a46799de1c1f4a84ef949e52d69fa3ff/gcc%2Fipa-visibility.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-visibility.c?ref=862b3da6a46799de1c1f4a84ef949e52d69fa3ff", "patch": "@@ -666,9 +666,12 @@ function_and_variable_visibility (bool whole_program)\n \t}\n       update_visibility_by_resolution_info (vnode);\n \n-      /* Update virutal tables to point to local aliases where possible.  */\n+      /* Update virtual tables to point to local aliases where possible.  */\n       if (DECL_VIRTUAL_P (vnode->decl)\n-\t  && !DECL_EXTERNAL (vnode->decl))\n+\t  && !DECL_EXTERNAL (vnode->decl)\n+\t  /* FIXME: currently this optimization breaks on AIX.  Disable it for targets\n+\t     without comdat support for now.  */\n+\t  && SUPPORTS_ONE_ONLY)\n \t{\n \t  int i;\n \t  struct ipa_ref *ref;"}]}