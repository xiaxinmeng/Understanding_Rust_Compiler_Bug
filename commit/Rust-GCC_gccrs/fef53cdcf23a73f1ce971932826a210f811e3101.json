{"sha": "fef53cdcf23a73f1ce971932826a210f811e3101", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmVmNTNjZGNmMjNhNzNmMWNlOTcxOTMyODI2YTIxMGY4MTFlMzEwMQ==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2000-11-13T22:32:05Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2000-11-13T22:32:05Z"}, "message": "acinclude.m4 (GLIBCPP_CHECK_WCHAR_T_SUPPORT): Add test for libiconv.a providing wchar_t support functions.\n\n\n2000-11-12  David Edelsohn  <edelsohn@gnu.org>\n\n        * acinclude.m4 (GLIBCPP_CHECK_WCHAR_T_SUPPORT): Add test for\n        libiconv.a providing wchar_t support functions.\n\t* aclocal.m4: Regenerate.\n\nFrom-SVN: r37441", "tree": {"sha": "7b7ab13edf0ff01005d9f929acade6767ea34515", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7b7ab13edf0ff01005d9f929acade6767ea34515"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fef53cdcf23a73f1ce971932826a210f811e3101", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fef53cdcf23a73f1ce971932826a210f811e3101", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fef53cdcf23a73f1ce971932826a210f811e3101", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fef53cdcf23a73f1ce971932826a210f811e3101/comments", "author": null, "committer": null, "parents": [{"sha": "a78cc542019750a2c78cda87c874c0f8ad84c90f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a78cc542019750a2c78cda87c874c0f8ad84c90f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a78cc542019750a2c78cda87c874c0f8ad84c90f"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "035adc0c5a57c00da253d55655f44c22fd956717", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fef53cdcf23a73f1ce971932826a210f811e3101/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fef53cdcf23a73f1ce971932826a210f811e3101/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=fef53cdcf23a73f1ce971932826a210f811e3101", "patch": "@@ -1,3 +1,9 @@\n+2000-11-12  David Edelsohn  <edelsohn@gnu.org>\n+\n+        * acinclude.m4 (GLIBCPP_CHECK_WCHAR_T_SUPPORT): Add test for\n+        libiconv.a providing wchar_t support functions.\n+\t* aclocal.m4: Regenerate.\n+\t\n 2000-11-12  Loren J. Rittle  <ljrittle@acm.org>\n \n         * acinclude.m4 (GLIBCPP_ENABLE_ATOMICITY): Handle FreeBSD."}, {"sha": "9ce0382bc1bab80f213ffd14b2c84b812840b45a", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fef53cdcf23a73f1ce971932826a210f811e3101/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fef53cdcf23a73f1ce971932826a210f811e3101/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=fef53cdcf23a73f1ce971932826a210f811e3101", "patch": "@@ -1083,6 +1083,12 @@ AC_DEFUN(GLIBCPP_CHECK_WCHAR_T_SUPPORT, [\n       dnl X/Open Portability Guide, version 2 features (XPG2).\n       AC_CHECK_HEADER(iconv.h, ac_has_iconv_h=yes, ac_has_iconv_h=no)\n       AC_CHECK_HEADER(langinfo.h, ac_has_langinfo_h=yes, ac_has_langinfo_h=no)\n+\n+      dnl Check for existence of libiconv.a providing XPG2 wchar_t support.\n+      AC_CHECK_LIB(iconv, iconv, libiconv=\"-liconv\")\n+      ac_save_LIBS=\"$LIBS\"\n+      LIBS=\"$LIBS $libiconv\"\n+\n       AC_CHECK_FUNCS(iconv_open iconv_close iconv nl_langinfo, \\\n       ac_XPG2funcs=yes, ac_XPG2funcs=no)\n   "}]}