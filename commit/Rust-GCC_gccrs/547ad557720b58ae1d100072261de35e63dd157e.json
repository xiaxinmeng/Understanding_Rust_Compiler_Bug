{"sha": "547ad557720b58ae1d100072261de35e63dd157e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTQ3YWQ1NTc3MjBiNThhZTFkMTAwMDcyMjYxZGUzNWU2M2RkMTU3ZQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-08T07:13:12Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-08T07:13:12Z"}, "message": "(yylex): For floats, Use REAL_VALUES_LESS to distinguish underflow from overflow.\n\n(yylex): For floats, Use REAL_VALUES_LESS to distinguish\nunderflow from overflow.  Delete special case for 0.0.\n\nFrom-SVN: r2363", "tree": {"sha": "5033c381554dc21a3ae282e8780b98882ffb950a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5033c381554dc21a3ae282e8780b98882ffb950a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/547ad557720b58ae1d100072261de35e63dd157e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/547ad557720b58ae1d100072261de35e63dd157e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/547ad557720b58ae1d100072261de35e63dd157e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/547ad557720b58ae1d100072261de35e63dd157e/comments", "author": null, "committer": null, "parents": [{"sha": "09a99207eaaf6b783272df3b2e9d55390b065215", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/09a99207eaaf6b783272df3b2e9d55390b065215", "html_url": "https://github.com/Rust-GCC/gccrs/commit/09a99207eaaf6b783272df3b2e9d55390b065215"}], "stats": {"total": 22, "additions": 4, "deletions": 18}, "files": [{"sha": "924a22c3fdbbe9cfbc90dfa642b8fbe23ff59819", "filename": "gcc/c-lex.c", "status": "modified", "additions": 4, "deletions": 18, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/547ad557720b58ae1d100072261de35e63dd157e/gcc%2Fc-lex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/547ad557720b58ae1d100072261de35e63dd157e/gcc%2Fc-lex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-lex.c?ref=547ad557720b58ae1d100072261de35e63dd157e", "patch": "@@ -1370,24 +1370,10 @@ yylex ()\n #ifdef ERANGE\n \t    if (errno == ERANGE && !flag_traditional && pedantic)\n \t      {\n-\t\tchar *p1 = token_buffer;\n-\t\t/* Check for \"0.0\" and variants;\n-\t\t   SunOS 4 spuriously returns ERANGE for them.  */\n-\t\twhile (*p1 == '0') p1++;\n-\t\tif (*p1 == '.')\n-\t\t  {\n-\t\t    p1++;\n-\t\t    while (*p1 == '0') p1++;\n-\t\t  }\n-\t\tif (*p1 == 'e' || *p1 == 'E')\n-\t\t  {\n-\t\t    /* with significand==0, ignore the exponent */\n-\t\t    p1++;\n-\t\t    while (*p1 != 0) p1++;\n-\t\t  }\n-\t\t/* ERANGE is also reported for underflow,\n-\t\t   so test the value to distinguish overflow from that.  */\n-\t\tif (*p1 != 0 && (value > 1.0 || value < -1.0))\n+  \t\t/* ERANGE is also reported for underflow,\n+  \t\t   so test the value to distinguish overflow from that.  */\n+\t\tif (REAL_VALUES_LESS (dconst1, value)\n+\t\t    || REAL_VALUES_LESS (value, dconstm1))\n \t\t  {\n \t\t    pedwarn (\"floating point number exceeds range of `double'\");\n \t\t    exceeds_double = 1;"}]}