{"sha": "bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmJhMTdiMjllMTU2YmEzYzZmZmRjN2Y2OTBmZTM0Y2E0ZDEyZmMwYQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl@gnu.ai.mit.edu", "date": "1997-08-27T07:26:22Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-08-27T07:26:22Z"}, "message": "linux.h (CC1_SPEC): Define it only if not defined.\n\n        * config/linux.h (CC1_SPEC): Define it only if not defined.\n\n        * config/m68k/linux.h (CC1_SPEC): Undefine it before include\n        <linux.h>\n\n        * config/linux.h (DEFAULT_VTABLE_THUNKS): New. Defined as 1 if\n        USE_GNULIBC_1 is not defined.\n\n        * config/alpha/linux.h (DEFAULT_VTABLE_THUNKS): New. Defined\n        as 1.\n        * config/rs6000/linux.h (DEFAULT_VTABLE_THUNKS): Ditto.\n\n        * config/sparc/linux.h (DEFAULT_VTABLE_THUNKS): New. Defined\n        as 1 if USE_GNULIBC_1 is not defined.\nLinux patches from HJ.\n\nFrom-SVN: r14960", "tree": {"sha": "c5ae7c70710ed2052089479043745fa7a7a31200", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c5ae7c70710ed2052089479043745fa7a7a31200"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a/comments", "author": null, "committer": null, "parents": [{"sha": "ed4044e07020ae7f855f37345354eca3134b0c90", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed4044e07020ae7f855f37345354eca3134b0c90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed4044e07020ae7f855f37345354eca3134b0c90"}], "stats": {"total": 40, "additions": 39, "deletions": 1}, "files": [{"sha": "e44d4d078838e741f33aea30809ae8250e58114e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a", "patch": "@@ -1,3 +1,20 @@\n+Wed Aug 27 01:24:25 1997  H.J. Lu   (hjl@gnu.ai.mit.edu)\n+\n+\t* config/linux.h (CC1_SPEC): Define it only if not defined.\n+\n+\t* config/m68k/linux.h (CC1_SPEC): Undefine it before include\n+\t<linux.h>\n+\n+\t* config/linux.h (DEFAULT_VTABLE_THUNKS): New. Defined as 1 if\n+\tUSE_GNULIBC_1 is not defined.\n+\n+\t* config/alpha/linux.h (DEFAULT_VTABLE_THUNKS): New. Defined\n+\tas 1.\n+\t* config/rs6000/linux.h (DEFAULT_VTABLE_THUNKS): Ditto.\n+\n+\t* config/sparc/linux.h (DEFAULT_VTABLE_THUNKS): New. Defined\n+\tas 1 if USE_GNULIBC_1 is not defined.\n+\n Wed Aug 27 00:49:14 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* t-freebsd (USER_H): Include EXTRA_HEADERS and LANG_EXTRA_HEADERS."}, {"sha": "3de3a9b59adf5ae2b6d893c0806c78c5a38f84a3", "filename": "gcc/config/alpha/linux.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a/gcc%2Fconfig%2Falpha%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a/gcc%2Fconfig%2Falpha%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Flinux.h?ref=bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a", "patch": "@@ -48,6 +48,9 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #undef ASM_SPEC\n #define ASM_SPEC \"-nocpp\"\n \n+#undef DEFAULT_VTABLE_THUNKS\n+#define DEFAULT_VTABLE_THUNKS 1\n+\n /* Can't do stabs */\n #undef SDB_DEBUGGING_INFO\n "}, {"sha": "ba81586ae94c5e52835b3441c5b1f365b2f75ab3", "filename": "gcc/config/linux.h", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a/gcc%2Fconfig%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a/gcc%2Fconfig%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Flinux.h?ref=bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a", "patch": "@@ -83,8 +83,14 @@ Boston, MA 02111-1307, USA.  */\n   \"%{!shared:crtend.o%s} %{shared:crtendS.o%s} crtn.o%s\"\n \n /* This is for -profile to use -lc_p instead of -lc. */\n-#undef  CC1_SPEC\n+#ifndef CC1_SPEC\n #define CC1_SPEC \"%{profile:-p}\"\n+#endif\n+\n+#ifndef USE_GNULIBC_1\n+#undef DEFAULT_VTABLE_THUNKS\n+#define DEFAULT_VTABLE_THUNKS 1\n+#endif\n \n #undef\tLIB_SPEC\n /* We no longer link with libc_p.a or libg.a by default. If you"}, {"sha": "9ba66f7680d44b4ff7a4d4cb957c8ed99312e4f8", "filename": "gcc/config/m68k/linux.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a/gcc%2Fconfig%2Fm68k%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a/gcc%2Fconfig%2Fm68k%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Flinux.h?ref=bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a", "patch": "@@ -23,6 +23,10 @@ Boston, MA 02111-1307, USA.  */\n #define USE_GAS\t\t\t/* But GAS wants jbsr instead of jsr */\n \n #include <m68k/m68k.h>\n+\n+/* Make sure CC1 is undefined. */\n+#undef CC1_SPEC\n+\n #include <linux.h>\t\t/* some common stuff */\n \n #undef TARGET_VERSION"}, {"sha": "787afa816d421614674904aed8849476c6201069", "filename": "gcc/config/rs6000/linux.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a/gcc%2Fconfig%2Frs6000%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a/gcc%2Fconfig%2Frs6000%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Flinux.h?ref=bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a", "patch": "@@ -60,3 +60,6 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n #undef\tMULTILIB_DEFAULTS\n #define\tMULTILIB_DEFAULTS { \"mbig\", \"mcall-linux\" }\n+\n+#undef DEFAULT_VTABLE_THUNKS\n+#define DEFAULT_VTABLE_THUNKS 1"}, {"sha": "f02998fd5716b90e9d1b0472b63ca499881d341b", "filename": "gcc/config/sparc/linux.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a/gcc%2Fconfig%2Fsparc%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a/gcc%2Fconfig%2Fsparc%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Flinux.h?ref=bba17b29e156ba3c6ffdc7f690fe34ca4d12fc0a", "patch": "@@ -35,6 +35,11 @@ Boston, MA 02111-1307, USA.  */\n #define MULTIBYTE_CHARS 1\n #endif\n \n+#ifndef USE_GNULIBC_1\n+#undef DEFAULT_VTABLE_THUNKS\n+#define DEFAULT_VTABLE_THUNKS 1\n+#endif\n+\n /* There are conflicting reports about whether this system uses\n    a different assembler syntax.  wilson@cygnus.com says # is right.  */\n #undef COMMENT_BEGIN"}]}