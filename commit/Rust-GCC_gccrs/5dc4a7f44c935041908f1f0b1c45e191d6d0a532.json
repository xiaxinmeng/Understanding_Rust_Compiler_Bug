{"sha": "5dc4a7f44c935041908f1f0b1c45e191d6d0a532", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWRjNGE3ZjQ0YzkzNTA0MTkwOGYxZjBiMWM0NWUxOTFkNmQwYTUzMg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2008-08-20T15:50:23Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2008-08-20T15:50:23Z"}, "message": "re PR c/37171 (Canonical spelling optimization dependency)\n\n\tPR c/37171\n\t* c-parser.c (c_parser_attributes): For keywords use canonical\n\tspelling for attr_name.\n\n\t* gcc.dg/pr37171.c: New test.\n\t* g++.dg/ext/attrib34.C: New test.\n\nFrom-SVN: r139317", "tree": {"sha": "29bacd4e39261b738d933dbede953fe1987c6824", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/29bacd4e39261b738d933dbede953fe1987c6824"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5dc4a7f44c935041908f1f0b1c45e191d6d0a532", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dc4a7f44c935041908f1f0b1c45e191d6d0a532", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5dc4a7f44c935041908f1f0b1c45e191d6d0a532", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dc4a7f44c935041908f1f0b1c45e191d6d0a532/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "235f4375ba4542ab13ea4d54d731ba599076331f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/235f4375ba4542ab13ea4d54d731ba599076331f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/235f4375ba4542ab13ea4d54d731ba599076331f"}], "stats": {"total": 37, "additions": 36, "deletions": 1}, "files": [{"sha": "446bf4faf4524de33d3cd3da6fccdb0ea2a0bc53", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5dc4a7f44c935041908f1f0b1c45e191d6d0a532/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5dc4a7f44c935041908f1f0b1c45e191d6d0a532/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5dc4a7f44c935041908f1f0b1c45e191d6d0a532", "patch": "@@ -1,3 +1,9 @@\n+2008-08-20  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR c/37171\n+\t* c-parser.c (c_parser_attributes): For keywords use canonical\n+\tspelling for attr_name.\n+\n 2008-08-20  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n \n \t* value-prof.c (check_counter): Revert wrong call to error."}, {"sha": "e2b1303cddd61d297150755793fff28083328c4f", "filename": "gcc/c-parser.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5dc4a7f44c935041908f1f0b1c45e191d6d0a532/gcc%2Fc-parser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5dc4a7f44c935041908f1f0b1c45e191d6d0a532/gcc%2Fc-parser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parser.c?ref=5dc4a7f44c935041908f1f0b1c45e191d6d0a532", "patch": "@@ -2828,8 +2828,13 @@ c_parser_attributes (c_parser *parser)\n \t\t}\n \t      if (!ok)\n \t\tbreak;\n+\t      /* Accept __attribute__((__const)) as __attribute__((const))\n+\t\t etc.  */\n+\t      attr_name\n+\t\t= ridpointers[(int) c_parser_peek_token (parser)->keyword];\n \t    }\n-\t  attr_name = c_parser_peek_token (parser)->value;\n+\t  else\n+\t    attr_name = c_parser_peek_token (parser)->value;\n \t  c_parser_consume_token (parser);\n \t  if (c_parser_next_token_is_not (parser, CPP_OPEN_PAREN))\n \t    {"}, {"sha": "bda7ff1766ced3dc10b3ca01e5620996d256e6ac", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5dc4a7f44c935041908f1f0b1c45e191d6d0a532/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5dc4a7f44c935041908f1f0b1c45e191d6d0a532/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5dc4a7f44c935041908f1f0b1c45e191d6d0a532", "patch": "@@ -1,3 +1,8 @@\n+2008-08-20  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR c/37171\n+\t* gcc.dg/pr37171.c: New test.\n+\n 2008-08-20  Arnaud Charlet  <charlet@adacore.com>\n \n \t* gnat.dg/div_no_warning.adb: New test."}, {"sha": "9be44dfaffd698514c41c9a32fd38c591fd1098c", "filename": "gcc/testsuite/gcc.dg/pr37171.c", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5dc4a7f44c935041908f1f0b1c45e191d6d0a532/gcc%2Ftestsuite%2Fgcc.dg%2Fpr37171.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5dc4a7f44c935041908f1f0b1c45e191d6d0a532/gcc%2Ftestsuite%2Fgcc.dg%2Fpr37171.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr37171.c?ref=5dc4a7f44c935041908f1f0b1c45e191d6d0a532", "patch": "@@ -0,0 +1,19 @@\n+/* PR c/37171 */\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fdump-tree-optimized\" } */\n+\n+unsigned int f1 (void) __attribute__((const));\n+unsigned int f2 (void) __attribute__((__const));\n+unsigned int f3 (void) __attribute__((__const__));\n+\n+unsigned int f4 (void)\n+{\n+  return f1 () + f1 () + f1 () + f1 ()\n+\t + f2 () + f2 () + f2 () + f2 ()\n+\t + f3 () + f3 () + f3 () + f3 ();\n+}\n+\n+/* { dg-final { scan-tree-dump-times \"= f1 \\\\(\\\\)\" 1 \"optimized\" } } */\n+/* { dg-final { scan-tree-dump-times \"= f2 \\\\(\\\\)\" 1 \"optimized\" } } */\n+/* { dg-final { scan-tree-dump-times \"= f3 \\\\(\\\\)\" 1 \"optimized\" } } */\n+/* { dg-final { cleanup-tree-dump \"optimized\" } } */"}]}