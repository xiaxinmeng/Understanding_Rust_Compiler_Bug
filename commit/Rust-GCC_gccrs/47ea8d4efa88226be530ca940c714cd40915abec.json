{"sha": "47ea8d4efa88226be530ca940c714cd40915abec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDdlYThkNGVmYTg4MjI2YmU1MzBjYTk0MGM3MTRjZDQwOTE1YWJlYw==", "commit": {"author": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2009-05-31T21:45:18Z"}, "committer": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2009-05-31T21:45:18Z"}, "message": "re PR target/40313 (SH: ICE in dwarf2out_begin_epilogue, at dwarf2out.c:2689)\n\n\tPR target/40313\n\t* config/sh/sh.c: Include debug.h.\n\t(sh_expand_epilogue): Emit a blockage insn before the frame\n\tpointer adjustment also when dwarf2out_do_frame returns true.\n\nFrom-SVN: r148017", "tree": {"sha": "accbfa57b11cf3d3ccf4be8fc4a343e745ef8264", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/accbfa57b11cf3d3ccf4be8fc4a343e745ef8264"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/47ea8d4efa88226be530ca940c714cd40915abec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47ea8d4efa88226be530ca940c714cd40915abec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47ea8d4efa88226be530ca940c714cd40915abec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47ea8d4efa88226be530ca940c714cd40915abec/comments", "author": null, "committer": null, "parents": [{"sha": "97fc23aeaf0d5466cae32f25497ced91a4e13f1a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97fc23aeaf0d5466cae32f25497ced91a4e13f1a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97fc23aeaf0d5466cae32f25497ced91a4e13f1a"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "9305d0cfaae2664e3ca0d3a038c922f29b6ec0fa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47ea8d4efa88226be530ca940c714cd40915abec/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47ea8d4efa88226be530ca940c714cd40915abec/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=47ea8d4efa88226be530ca940c714cd40915abec", "patch": "@@ -1,3 +1,10 @@\n+2009-05-31  Kaz Kojima  <kkojima@gcc.gnu.org>\n+\n+\tPR target/40313\n+\t* config/sh/sh.c: Include debug.h.\n+\t(sh_expand_epilogue): Emit a blockage insn before the frame\n+\tpointer adjustment also when dwarf2out_do_frame returns true.\n+\n 2009-05-31  Richard Earnshaw  <rearnsha@arm.com>\n \n \t* arm/thumb2.md (thumb2_extendsidi2): Add a split sub-pattern."}, {"sha": "681488d6b7908476e94ed9976afd97a95c532bb6", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47ea8d4efa88226be530ca940c714cd40915abec/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47ea8d4efa88226be530ca940c714cd40915abec/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=47ea8d4efa88226be530ca940c714cd40915abec", "patch": "@@ -43,6 +43,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"target.h\"\n #include \"target-def.h\"\n #include \"real.h\"\n+#include \"debug.h\"\n #include \"langhooks.h\"\n #include \"basic-block.h\"\n #include \"df.h\"\n@@ -6747,8 +6748,9 @@ sh_expand_epilogue (bool sibcall_p)\n   if (frame_pointer_needed)\n     {\n       /* We must avoid scheduling the epilogue with previous basic blocks\n-\t when exception handling is enabled.  See PR/18032.  */\n-      if (flag_exceptions)\n+\t when exception handling or frame information is needed.\n+\t See PR/18032 and PR/40313.  */\n+      if (flag_exceptions || dwarf2out_do_frame ())\n \temit_insn (gen_blockage ());\n       output_stack_adjust (frame_size, hard_frame_pointer_rtx, e,\n \t\t\t   &live_regs_mask);"}]}