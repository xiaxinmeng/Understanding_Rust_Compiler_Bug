{"sha": "683e3333a78857f44f03bd05a683130f527b5ad0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjgzZTMzMzNhNzg4NTdmNDRmMDNiZDA1YTY4MzEzMGY1MjdiNWFkMA==", "commit": {"author": {"name": "Kyrylo Tkachov", "email": "kyrylo.tkachov@arm.com", "date": "2014-04-24T08:22:43Z"}, "committer": {"name": "Kyrylo Tkachov", "email": "ktkachov@gcc.gnu.org", "date": "2014-04-24T08:22:43Z"}, "message": "[AArch64] Wire up TARGET_SIMD and TARGET_FLOAT properly\n\n\t* config/aarch64/aarch64.h (TARGET_CPU_CPP_BUILTINS): Check\n\tTARGET_SIMD rather than TARGET_GENERAL_REGS_ONLY.\n\t(TARGET_SIMD): Take AARCH64_ISA_SIMD into account.\n\t(TARGET_FLOAT): Take AARCH64_ISA_FP into account.\n\t(TARGET_CRYPTO): Take TARGET_SIMD into account.\n\nFrom-SVN: r209737", "tree": {"sha": "7cb29b7192ceca33c75e80b4b38d735e157e1e38", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7cb29b7192ceca33c75e80b4b38d735e157e1e38"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/683e3333a78857f44f03bd05a683130f527b5ad0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/683e3333a78857f44f03bd05a683130f527b5ad0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/683e3333a78857f44f03bd05a683130f527b5ad0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/683e3333a78857f44f03bd05a683130f527b5ad0/comments", "author": {"login": "ktkachov-arm", "id": 74917949, "node_id": "MDQ6VXNlcjc0OTE3OTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/74917949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ktkachov-arm", "html_url": "https://github.com/ktkachov-arm", "followers_url": "https://api.github.com/users/ktkachov-arm/followers", "following_url": "https://api.github.com/users/ktkachov-arm/following{/other_user}", "gists_url": "https://api.github.com/users/ktkachov-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ktkachov-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ktkachov-arm/subscriptions", "organizations_url": "https://api.github.com/users/ktkachov-arm/orgs", "repos_url": "https://api.github.com/users/ktkachov-arm/repos", "events_url": "https://api.github.com/users/ktkachov-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/ktkachov-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c7f28cd58e12391f8e4e5c50968ed1c76ddbddb0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7f28cd58e12391f8e4e5c50968ed1c76ddbddb0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7f28cd58e12391f8e4e5c50968ed1c76ddbddb0"}], "stats": {"total": 20, "additions": 14, "deletions": 6}, "files": [{"sha": "8db713b8b5e004cb41a714a650664dab9fd59912", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/683e3333a78857f44f03bd05a683130f527b5ad0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/683e3333a78857f44f03bd05a683130f527b5ad0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=683e3333a78857f44f03bd05a683130f527b5ad0", "patch": "@@ -1,3 +1,11 @@\n+2014-04-24  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n+\n+\t* config/aarch64/aarch64.h (TARGET_CPU_CPP_BUILTINS): Check\n+\tTARGET_SIMD rather than TARGET_GENERAL_REGS_ONLY.\n+\t(TARGET_SIMD): Take AARCH64_ISA_SIMD into account.\n+\t(TARGET_FLOAT): Take AARCH64_ISA_FP into account.\n+\t(TARGET_CRYPTO): Take TARGET_SIMD into account.\n+\n 2014-04-24  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n \n \t* config/aarch64/aarch64-builtins.c"}, {"sha": "e2b6c8e2908fc94001b5abe93ba75c95bd9fcf75", "filename": "gcc/config/aarch64/aarch64.h", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/683e3333a78857f44f03bd05a683130f527b5ad0/gcc%2Fconfig%2Faarch64%2Faarch64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/683e3333a78857f44f03bd05a683130f527b5ad0/gcc%2Fconfig%2Faarch64%2Faarch64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.h?ref=683e3333a78857f44f03bd05a683130f527b5ad0", "patch": "@@ -32,7 +32,7 @@\n       else\t\t\t\t\t\t\\\n \tbuiltin_define (\"__AARCH64EL__\");\t\t\\\n \t\t\t\t\t\t\t\\\n-      if (!TARGET_GENERAL_REGS_ONLY)\t\t\t\\\n+      if (TARGET_SIMD)\t\t\t\t\t\\\n \tbuiltin_define (\"__ARM_NEON\");\t\t\t\\\n \t\t\t\t\t\t\t\\\n       switch (aarch64_cmodel)\t\t\t\t\\\n@@ -83,9 +83,9 @@\n #define WORDS_BIG_ENDIAN (BYTES_BIG_ENDIAN)\n \n /* AdvSIMD is supported in the default configuration, unless disabled by\n-   -mgeneral-regs-only.  */\n-#define TARGET_SIMD !TARGET_GENERAL_REGS_ONLY\n-#define TARGET_FLOAT !TARGET_GENERAL_REGS_ONLY\n+   -mgeneral-regs-only or by the +nosimd extension.  */\n+#define TARGET_SIMD (!TARGET_GENERAL_REGS_ONLY && AARCH64_ISA_SIMD)\n+#define TARGET_FLOAT (!TARGET_GENERAL_REGS_ONLY && AARCH64_ISA_FP)\n \n #define UNITS_PER_WORD\t\t8\n \n@@ -185,8 +185,8 @@ extern unsigned long aarch64_isa_flags;\n extern unsigned long aarch64_tune_flags;\n #define AARCH64_TUNE_SLOWMUL       (aarch64_tune_flags & AARCH64_FL_SLOWMUL)\n \n-/* Crypto is an optional feature.  */\n-#define TARGET_CRYPTO AARCH64_ISA_CRYPTO\n+/* Crypto is an optional extension to AdvSIMD.  */\n+#define TARGET_CRYPTO (TARGET_SIMD && AARCH64_ISA_CRYPTO)\n \n /* Standard register usage.  */\n "}]}