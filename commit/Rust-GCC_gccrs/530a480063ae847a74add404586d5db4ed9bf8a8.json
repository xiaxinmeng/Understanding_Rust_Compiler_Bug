{"sha": "530a480063ae847a74add404586d5db4ed9bf8a8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTMwYTQ4MDA2M2FlODQ3YTc0YWRkNDA0NTg2ZDVkYjRlZDliZjhhOA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2011-03-08T15:51:12Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2011-03-08T15:51:12Z"}, "message": "re PR debug/47881 (-fcompare-debug failure (length) with -O -fno-dce -funroll-loops -fno-web)\n\n\tPR debug/47881\n\t* ira.c (ira): Call df_analyze again if delete_trivially_dead_insns\n\tremoved anything.\n\n\t* gcc.dg/pr47881.c: New test.\n\nFrom-SVN: r170780", "tree": {"sha": "8fcac9d0f9f93332b14fe86a5f442937c68e9663", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8fcac9d0f9f93332b14fe86a5f442937c68e9663"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/530a480063ae847a74add404586d5db4ed9bf8a8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/530a480063ae847a74add404586d5db4ed9bf8a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/530a480063ae847a74add404586d5db4ed9bf8a8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/530a480063ae847a74add404586d5db4ed9bf8a8/comments", "author": null, "committer": null, "parents": [{"sha": "9ca6556ebc27ab5f8dcd4cbb1354047aa2f81173", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ca6556ebc27ab5f8dcd4cbb1354047aa2f81173", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ca6556ebc27ab5f8dcd4cbb1354047aa2f81173"}], "stats": {"total": 40, "additions": 38, "deletions": 2}, "files": [{"sha": "5e14896efa0950ce0be191085eea649ad7e81892", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/530a480063ae847a74add404586d5db4ed9bf8a8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/530a480063ae847a74add404586d5db4ed9bf8a8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=530a480063ae847a74add404586d5db4ed9bf8a8", "patch": "@@ -1,5 +1,9 @@\n 2011-03-08  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR debug/47881\n+\t* ira.c (ira): Call df_analyze again if delete_trivially_dead_insns\n+\tremoved anything.\n+\n \tPR tree-optimization/48022\n \t* fold-const.c (fold_comparison): Don't call fold_overflow_warning\n \tfor EQ/NE_EXPR."}, {"sha": "883175a8e33ff7ba49be7ae16b2024b90232b9e0", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/530a480063ae847a74add404586d5db4ed9bf8a8/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/530a480063ae847a74add404586d5db4ed9bf8a8/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=530a480063ae847a74add404586d5db4ed9bf8a8", "patch": "@@ -1,5 +1,6 @@\n 2011-03-08  Dodji Seketeli  <dodji@redhat.com>\n \n+\tPR c++/47957\n \t* name-lookup.c (binding_to_template_parms_of_scope_p): Only\n \tconsider scopes of primary template definitions.  Adjust comments.\n "}, {"sha": "f2b871f0251a407b4b346e17f550fa8ee092cec3", "filename": "gcc/ira.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/530a480063ae847a74add404586d5db4ed9bf8a8/gcc%2Fira.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/530a480063ae847a74add404586d5db4ed9bf8a8/gcc%2Fira.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fira.c?ref=530a480063ae847a74add404586d5db4ed9bf8a8", "patch": "@@ -1,5 +1,5 @@\n /* Integrated Register Allocator (IRA) entry point.\n-   Copyright (C) 2006, 2007, 2008, 2009, 2010\n+   Copyright (C) 2006, 2007, 2008, 2009, 2010, 2011\n    Free Software Foundation, Inc.\n    Contributed by Vladimir Makarov <vmakarov@redhat.com>.\n \n@@ -3232,7 +3232,8 @@ ira (FILE *f)\n     check_allocation ();\n #endif\n \n-  delete_trivially_dead_insns (get_insns (), max_reg_num ());\n+  if (delete_trivially_dead_insns (get_insns (), max_reg_num ()))\n+    df_analyze ();\n \n   init_reg_equiv_memory_loc ();\n "}, {"sha": "d9297febc4f6ada0153d5d3c63c6a22165c476e2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/530a480063ae847a74add404586d5db4ed9bf8a8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/530a480063ae847a74add404586d5db4ed9bf8a8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=530a480063ae847a74add404586d5db4ed9bf8a8", "patch": "@@ -1,5 +1,11 @@\n+2011-03-08  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR debug/47881\n+\t* gcc.dg/pr47881.c: New test.\n+\n 2011-03-08  Dodji Seketeli  <dodji@redhat.com>\n \n+\tPR c++/47957\n \t* g++.dg/lookup/template3.C: New test.\n \n 2011-03-08  Kai Tietz  <ktietz@redhat.com>"}, {"sha": "ee1707342cdf5f0773bb010b9a71ff261e4ed9d2", "filename": "gcc/testsuite/gcc.dg/pr47881.c", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/530a480063ae847a74add404586d5db4ed9bf8a8/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47881.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/530a480063ae847a74add404586d5db4ed9bf8a8/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47881.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47881.c?ref=530a480063ae847a74add404586d5db4ed9bf8a8", "patch": "@@ -0,0 +1,24 @@\n+/* PR debug/47881 */\n+/* { dg-do compile } */\n+/* { dg-options \"-O -fcompare-debug -fno-dce -funroll-loops -fno-web\" } */\n+\n+extern int data[];\n+\n+int\n+foo (int *t, int *f, int n)\n+{\n+  int i = 0, a, b, c, d;\n+  while (data[*f] && n)\n+    n--;\n+  for (; i < n; i += 4)\n+    {\n+      a = data[*(f++) & 0x7f];\n+      c = data[*(f++) & 0x7f];\n+      c = data[*(f++) & 0x7f];\n+      d = data[*(f++) & 0x7f];\n+      if ((a & 0x80) || (b & 0x80) || (c & 0x80) || (d & 0x80))\n+\treturn 1;\n+      *(t++) = 16;\n+    }\n+  return 0;\n+}"}]}