{"sha": "1d27195cb61549bdaccb99f994c7224b1b4a47ad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQyNzE5NWNiNjE1NDliZGFjY2I5OWY5OTRjNzIyNGIxYjRhNDdhZA==", "commit": {"author": {"name": "Christian Cornelssen", "email": "ccorn@cs.tu-berlin.de", "date": "2003-01-09T08:03:46Z"}, "committer": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2003-01-09T08:03:46Z"}, "message": "Make-lang.in (ada.install-info, [...]): Prepend $(DESTDIR) to the destination directory in all (un)installation commands.\n\n2003-01-09  Christian Cornelssen  <ccorn@cs.tu-berlin.de>\n\n\t* Make-lang.in (ada.install-info, ada.install-common,\n\tada.uninstall): Prepend $(DESTDIR) to the destination\n\tdirectory in all (un)installation commands.\n\t* Makefile.in (install-gnatlib, install-rts): Ditto.\n\nFrom-SVN: r61078", "tree": {"sha": "935e38243b99bd3709260394919e1613bfacac01", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/935e38243b99bd3709260394919e1613bfacac01"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d27195cb61549bdaccb99f994c7224b1b4a47ad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d27195cb61549bdaccb99f994c7224b1b4a47ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d27195cb61549bdaccb99f994c7224b1b4a47ad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d27195cb61549bdaccb99f994c7224b1b4a47ad/comments", "author": null, "committer": null, "parents": [{"sha": "cc8e84c9750d0a397a73c9375c53b17ef60c5f18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc8e84c9750d0a397a73c9375c53b17ef60c5f18", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc8e84c9750d0a397a73c9375c53b17ef60c5f18"}], "stats": {"total": 343, "additions": 175, "deletions": 168}, "files": [{"sha": "6b435f5ddd1a7d83b51d014d5cf28de74033cbbd", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d27195cb61549bdaccb99f994c7224b1b4a47ad/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d27195cb61549bdaccb99f994c7224b1b4a47ad/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=1d27195cb61549bdaccb99f994c7224b1b4a47ad", "patch": "@@ -1,3 +1,10 @@\n+2003-01-09  Christian Cornelssen  <ccorn@cs.tu-berlin.de>\n+\n+\t* Make-lang.in (ada.install-info, ada.install-common,\n+\tada.uninstall): Prepend $(DESTDIR) to the destination\n+\tdirectory in all (un)installation commands.\n+\t* Makefile.in (install-gnatlib, install-rts): Ditto.\n+\n 2002-12-28  Joseph S. Myers  <jsm@polyomino.org.uk>\n \n \t* gnat_rm.texi, gnat_ug.texi: Use @copying."}, {"sha": "c63f95b2e81b153cbab6cf00e58aec36dfc68a9e", "filename": "gcc/ada/Make-lang.in", "status": "modified", "additions": 148, "deletions": 148, "changes": 296, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d27195cb61549bdaccb99f994c7224b1b4a47ad/gcc%2Fada%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d27195cb61549bdaccb99f994c7224b1b4a47ad/gcc%2Fada%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMake-lang.in?ref=1d27195cb61549bdaccb99f994c7224b1b4a47ad", "patch": "@@ -394,30 +394,30 @@ ada.info: $(srcdir)/ada/gnat_ug_vms.info $(srcdir)/ada/gnat_ug_wnt.info \\\n \t$(srcdir)/ada/gnat_rm.info $(srcdir)/ada/gnat-style.info\n \n ada.install-info:\n-\t-rm -f $(infodir)/gnat_ug_*.info*\n-\t-rm -f $(infodir)/gnat_rm.info* \n-\t-rm -f $(infodir)/gnat-style.info* \n+\t-rm -f $(DESTDIR)$(infodir)/gnat_ug_*.info*\n+\t-rm -f $(DESTDIR)$(infodir)/gnat_rm.info* \n+\t-rm -f $(DESTDIR)$(infodir)/gnat-style.info* \n \tif [ -f $(srcdir)/ada/gnat_ug_unx.info ]; then \\\n \t  for f in $(srcdir)/ada/gnat_ug_*.info* \\\n \t\t$(srcdir)/ada/gnat_rm.info* \\\n \t\t$(srcdir)/ada/gnat-style.info*; do \\\n \t    realfile=`echo $$f | sed -e 's|.*/\\([^/]*\\)$$|\\1|'`; \\\n-\t    $(INSTALL_DATA) $$f $(infodir)/$$realfile; \\\n+\t    $(INSTALL_DATA) $$f $(DESTDIR)$(infodir)/$$realfile; \\\n \t  done; \\\n \telse true; fi\n \t-if $(SHELL) -c 'install-info --version' >/dev/null 2>&1; then \\\n-\t  if [ -f $(infodir)/dir ] ; then \\\n+\t  if [ -f $(DESTDIR)$(infodir)/dir ] ; then \\\n \t    for f in gnat_ug_vms.info gnat_ug_wnt.info gnat_ug_unx.info \\\n \t\tgnat_ug_vxw.info gnat_rm.info gnat-style.info; do \\\n-\t\tif [ -f $(infodir)/$$f ]; then \\\n-\t\t  install-info --dir-file=$(infodir)/dir $(infodir)/$$f; \\\n+\t\tif [ -f $(DESTDIR)$(infodir)/$$f ]; then \\\n+\t\t  install-info --dir-file=$(DESTDIR)$(infodir)/dir $(DESTDIR)$(infodir)/$$f; \\\n \t\telse true; fi; \\\n \t    done; \\\n \t  else true; fi; \\\n \telse true; fi;\n-\t-chmod a-x $(infodir)/gnat_ug_vms.info* $(infodir)/gnat_ug_wnt.info*\n-\t-chmod a-x $(infodir)/gnat_ug_unx.info* $(infodir)/gnat_ug_vxw.info*\n-\t-chmod a-x $(infodir)/gnat_rm.info* $(infodir)/gnat-style.info*\n+\t-chmod a-x $(DESTDIR)$(infodir)/gnat_ug_vms.info* $(DESTDIR)$(infodir)/gnat_ug_wnt.info*\n+\t-chmod a-x $(DESTDIR)$(infodir)/gnat_ug_unx.info* $(DESTDIR)$(infodir)/gnat_ug_vxw.info*\n+\t-chmod a-x $(DESTDIR)$(infodir)/gnat_rm.info* $(DESTDIR)$(infodir)/gnat-style.info*\n \n ada/gnat_ug_unx.dvi : $(srcdir)/ada/gnat_ug_unx.texi \\\n \t$(srcdir)/doc/include/fdl.texi $(srcdir)/doc/include/gcc-common.texi\n@@ -469,217 +469,217 @@ ada.install-common:\n \t then \\\n \t  if [ -f gnatbind-cross$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnatbind$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatbind-cross$(exeext) $(bindir)/$(target_alias)-gnatbind$(exeext); \\\n-\t    if [ -d $(tooldir)/bin/. ] ; then \\\n-\t      rm -f $(tooldir)/bin/gnatbind$(exeext); \\\n-\t      $(INSTALL_PROGRAM) gnatbind-cross$(exeext) $(tooldir)/bin/gnatbind$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatbind$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatbind-cross$(exeext) $(DESTDIR)$(bindir)/$(target_alias)-gnatbind$(exeext); \\\n+\t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n+\t      rm -f $(DESTDIR)$(tooldir)/bin/gnatbind$(exeext); \\\n+\t      $(INSTALL_PROGRAM) gnatbind-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatbind$(exeext); \\\n             fi; \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnatbind$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatbind$(exeext) $(bindir)/gnatbind$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatbind$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatbind$(exeext) $(DESTDIR)$(bindir)/gnatbind$(exeext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatbl-cross$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnatbl$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatbl-cross$(exeext) $(bindir)/$(target_alias)-gnatbl$(exeext); \\\n-\t    if [ -d $(tooldir)/bin/. ] ; then \\\n-\t       rm -f $(tooldir)/bin/gnatbl$(exeext); \\\n-\t       $(INSTALL_PROGRAM) gnatbl-cross$(exeext) $(tooldir)/bin/gnatbl$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatbl$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatbl-cross$(exeext) $(DESTDIR)$(bindir)/$(target_alias)-gnatbl$(exeext); \\\n+\t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n+\t       rm -f $(DESTDIR)$(tooldir)/bin/gnatbl$(exeext); \\\n+\t       $(INSTALL_PROGRAM) gnatbl-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatbl$(exeext); \\\n             fi; \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnatbl$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatbl$(exeext) $(bindir)/gnatbl$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatbl$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatbl$(exeext) $(DESTDIR)$(bindir)/gnatbl$(exeext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatchop-cross$(shext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnatchop$(shext); \\\n-\t    $(INSTALL_PROGRAM) $(srcdir)/ada/gnatchop$(shext) $(bindir)/$(target_alias)-gnatchop$(shext); \\\n-\t    if [ -d $(tooldir)/bin/. ] ; then \\\n-\t       rm -f $(tooldir)/bin/gnatchop$(shext); \\\n-\t       $(INSTALL_PROGRAM) gnatchop$(shext) $(tooldir)/bin/gnatchop$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatchop$(shext); \\\n+\t    $(INSTALL_PROGRAM) $(srcdir)/ada/gnatchop$(shext) $(DESTDIR)$(bindir)/$(target_alias)-gnatchop$(shext); \\\n+\t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n+\t       rm -f $(DESTDIR)$(tooldir)/bin/gnatchop$(shext); \\\n+\t       $(INSTALL_PROGRAM) gnatchop$(shext) $(DESTDIR)$(tooldir)/bin/gnatchop$(exeext); \\\n             fi; \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnatchop$(shext); \\\n-\t    $(INSTALL_PROGRAM) $(srcdir)/ada/gnatchop$(shext) $(bindir)/gnatchop$(shext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatchop$(shext); \\\n+\t    $(INSTALL_PROGRAM) $(srcdir)/ada/gnatchop$(shext) $(DESTDIR)$(bindir)/gnatchop$(shext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatchop-cross$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnatchop$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatchop-cross$(exeext) $(bindir)/$(target_alias)-gnatchop$(exeext); \\\n-\t    if [ -d $(tooldir)/bin/. ] ; then \\\n-\t       rm -f $(tooldir)/bin/gnatchop$(exeext); \\\n-\t       $(INSTALL_PROGRAM) gnatchop-cross$(exeext) $(tooldir)/bin/gnatchop$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatchop$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatchop-cross$(exeext) $(DESTDIR)$(bindir)/$(target_alias)-gnatchop$(exeext); \\\n+\t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n+\t       rm -f $(DESTDIR)$(tooldir)/bin/gnatchop$(exeext); \\\n+\t       $(INSTALL_PROGRAM) gnatchop-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatchop$(exeext); \\\n             fi; \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnatchop$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatchop$(exeext) $(bindir)/gnatchop$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatchop$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatchop$(exeext) $(DESTDIR)$(bindir)/gnatchop$(exeext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnat-cross$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnat$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnat-cross$(exeext) $(bindir)/$(target_alias)-gnat$(exeext); \\\n-\t    if [ -d $(tooldir)/bin/. ] ; then \\\n-\t       rm -f $(tooldir)/bin/gnat$(exeext); \\\n-\t       $(INSTALL_PROGRAM) gnat-cross$(exeext) $(tooldir)/bin/gnat$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnat$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnat-cross$(exeext) $(DESTDIR)$(bindir)/$(target_alias)-gnat$(exeext); \\\n+\t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n+\t       rm -f $(DESTDIR)$(tooldir)/bin/gnat$(exeext); \\\n+\t       $(INSTALL_PROGRAM) gnat-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnat$(exeext); \\\n             fi; \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnat$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnat$(exeext) $(bindir)/gnat$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnat$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnat$(exeext) $(DESTDIR)$(bindir)/gnat$(exeext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatkr-cross$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnatkr$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatkr-cross$(exeext) $(bindir)/$(target_alias)-gnatkr$(exeext); \\\n-\t    if [ -d $(tooldir)/bin/. ] ; then \\\n-\t       rm -f $(tooldir)/bin/gnatkr$(exeext); \\\n-\t       $(INSTALL_PROGRAM) gnatkr-cross$(exeext) $(tooldir)/bin/gnatkr$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatkr$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatkr-cross$(exeext) $(DESTDIR)$(bindir)/$(target_alias)-gnatkr$(exeext); \\\n+\t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n+\t       rm -f $(DESTDIR)$(tooldir)/bin/gnatkr$(exeext); \\\n+\t       $(INSTALL_PROGRAM) gnatkr-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatkr$(exeext); \\\n             fi; \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnatkr$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatkr$(exeext) $(bindir)/gnatkr$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatkr$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatkr$(exeext) $(DESTDIR)$(bindir)/gnatkr$(exeext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatlink-cross$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnatlink$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatlink-cross$(exeext) $(bindir)/$(target_alias)-gnatlink$(exeext); \\\n-\t    if [ -d $(tooldir)/bin/. ] ; then \\\n-\t       rm -f $(tooldir)/bin/gnatlink$(exeext); \\\n-\t       $(INSTALL_PROGRAM) gnatlink-cross$(exeext) $(tooldir)/bin/gnatlink$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatlink$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatlink-cross$(exeext) $(DESTDIR)$(bindir)/$(target_alias)-gnatlink$(exeext); \\\n+\t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n+\t       rm -f $(DESTDIR)$(tooldir)/bin/gnatlink$(exeext); \\\n+\t       $(INSTALL_PROGRAM) gnatlink-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatlink$(exeext); \\\n             fi; \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnatlink$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatlink$(exeext) $(bindir)/gnatlink$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatlink$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatlink$(exeext) $(DESTDIR)$(bindir)/gnatlink$(exeext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatls-cross$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnatls$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatls-cross$(exeext) $(bindir)/$(target_alias)-gnatls$(exeext); \\\n-\t    if [ -d $(tooldir)/bin/. ] ; then \\\n-\t       rm -f $(tooldir)/bin/gnatls$(exeext); \\\n-\t       $(INSTALL_PROGRAM) gnatls-cross$(exeext) $(tooldir)/bin/gnatls$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatls$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatls-cross$(exeext) $(DESTDIR)$(bindir)/$(target_alias)-gnatls$(exeext); \\\n+\t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n+\t       rm -f $(DESTDIR)$(tooldir)/bin/gnatls$(exeext); \\\n+\t       $(INSTALL_PROGRAM) gnatls-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatls$(exeext); \\\n             fi; \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnatls$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatls$(exeext) $(bindir)/gnatls$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatls$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatls$(exeext) $(DESTDIR)$(bindir)/gnatls$(exeext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatmake-cross$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnatmake$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatmake-cross$(exeext) $(bindir)/$(target_alias)-gnatmake$(exeext); \\\n-\t    if [ -d $(tooldir)/bin/. ] ; then \\\n-\t       rm -f $(tooldir)/bin/gnatmake$(exeext); \\\n-\t       $(INSTALL_PROGRAM) gnatmake-cross$(exeext) $(tooldir)/bin/gnatmake$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatmake$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatmake-cross$(exeext) $(DESTDIR)$(bindir)/$(target_alias)-gnatmake$(exeext); \\\n+\t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n+\t       rm -f $(DESTDIR)$(tooldir)/bin/gnatmake$(exeext); \\\n+\t       $(INSTALL_PROGRAM) gnatmake-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatmake$(exeext); \\\n             fi; \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnatmake$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatmake$(exeext) $(bindir)/gnatmake$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatmake$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatmake$(exeext) $(DESTDIR)$(bindir)/gnatmake$(exeext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatmem-cross$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnatmem$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatmem-cross$(exeext) $(bindir)/$(target_alias)-gnatmem$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatmem$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatmem-cross$(exeext) $(DESTDIR)$(bindir)/$(target_alias)-gnatmem$(exeext); \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnatmem$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatmem$(exeext) $(bindir)/gnatmem$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatmem$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatmem$(exeext) $(DESTDIR)$(bindir)/gnatmem$(exeext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatname-cross$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnatname$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatname-cross$(exeext) $(bindir)/$(target_alias)-gnatname$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatname$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatname-cross$(exeext) $(DESTDIR)$(bindir)/$(target_alias)-gnatname$(exeext); \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnatname$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatname$(exeext) $(bindir)/gnatname$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatname$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatname$(exeext) $(DESTDIR)$(bindir)/gnatname$(exeext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatprep-cross$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnatprep$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatprep-cross$(exeext) $(bindir)/$(target_alias)-gnatprep$(exeext); \\\n-\t    if [ -d $(tooldir)/bin/. ] ; then \\\n-\t       rm -f $(tooldir)/bin/gnatprep$(exeext); \\\n-\t       $(INSTALL_PROGRAM) gnatprep-cross$(exeext) $(tooldir)/bin/gnatprep$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatprep$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatprep-cross$(exeext) $(DESTDIR)$(bindir)/$(target_alias)-gnatprep$(exeext); \\\n+\t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n+\t       rm -f $(DESTDIR)$(tooldir)/bin/gnatprep$(exeext); \\\n+\t       $(INSTALL_PROGRAM) gnatprep-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatprep$(exeext); \\\n             fi; \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnatprep$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatprep$(exeext) $(bindir)/gnatprep$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatprep$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatprep$(exeext) $(DESTDIR)$(bindir)/gnatprep$(exeext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatpsta-cross$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnatpsta$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatpsta-cross$(exeext) $(bindir)/$(target_alias)-gnatpsta$(exeext); \\\n-\t    if [ -d $(tooldir)/bin/. ] ; then \\\n-\t       rm -f $(tooldir)/bin/gnatpsta$(exeext); \\\n-\t       $(INSTALL_PROGRAM) gnatpsta-cross$(exeext) $(tooldir)/bin/gnatpsta$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatpsta$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatpsta-cross$(exeext) $(DESTDIR)$(bindir)/$(target_alias)-gnatpsta$(exeext); \\\n+\t    if [ -d $(DESTDIR)$(tooldir)/bin/. ] ; then \\\n+\t       rm -f $(DESTDIR)$(tooldir)/bin/gnatpsta$(exeext); \\\n+\t       $(INSTALL_PROGRAM) gnatpsta-cross$(exeext) $(DESTDIR)$(tooldir)/bin/gnatpsta$(exeext); \\\n             fi; \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnatpsta$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatpsta$(exeext) $(bindir)/gnatpsta$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatpsta$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatpsta$(exeext) $(DESTDIR)$(bindir)/gnatpsta$(exeext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatxref-cross$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnatxref$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatxref-cross$(exeext) $(bindir)/$(target_alias)-gnatxref$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatxref$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatxref-cross$(exeext) $(DESTDIR)$(bindir)/$(target_alias)-gnatxref$(exeext); \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnatxref$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatxref$(exeext) $(bindir)/gnatxref$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatxref$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatxref$(exeext) $(DESTDIR)$(bindir)/gnatxref$(exeext); \\\n \t  fi ; \\\n     fi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatfind-cross$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/$(target_alias)-gnatfind$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatfind-cross$(exeext) $(bindir)/$(target_alias)-gnatfind$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatfind$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatfind-cross$(exeext) $(DESTDIR)$(bindir)/$(target_alias)-gnatfind$(exeext); \\\n \t  else \\\n-\t    $(RM) $(bindir)/gnatfind$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatfind$(exeext) $(bindir)/gnatfind$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatfind$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatfind$(exeext) $(DESTDIR)$(bindir)/gnatfind$(exeext); \\\n \t  fi ; \\\n \tfi\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n \t  if [ -f gnatchop$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/gnatchop$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatchop$(exeext) $(bindir)/gnatchop$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatchop$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatchop$(exeext) $(DESTDIR)$(bindir)/gnatchop$(exeext); \\\n \t  fi ; \\\n #\n # Gnatlbr is only used on VMS.\n@@ -688,17 +688,17 @@ ada.install-common:\n \tthen \\\n \t  if [ -f gnatlbr$(exeext) ] ; \\\n \t  then \\\n-\t    $(RM) $(bindir)/gnatlbr$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatlbr$(exeext) $(bindir)/gnatlbr$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatlbr$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatlbr$(exeext) $(DESTDIR)$(bindir)/gnatlbr$(exeext); \\\n \t  fi ; \\\n \tfi\n #\n # Gnatdll is only use on Windows\n #\n \t-if [ -f gnat1$(exeext) ] ; \\\n \tthen \\\n-\t    $(RM) $(bindir)/gnatdll$(exeext); \\\n-\t    $(INSTALL_PROGRAM) gnatdll$(exeext) $(bindir)/gnatdll$(exeext); \\\n+\t    $(RM) $(DESTDIR)$(bindir)/gnatdll$(exeext); \\\n+\t    $(INSTALL_PROGRAM) gnatdll$(exeext) $(DESTDIR)$(bindir)/gnatdll$(exeext); \\\n \tfi\n #\n # Finally, install the library\n@@ -715,46 +715,46 @@ ada.install-info:\n ada.install-man:\n \n ada.uninstall:\n-\t-$(RM) $(bindir)/gnatbind$(exeext)\n-\t-$(RM) $(bindir)/gnatbl$(exeext)\n-\t-$(RM) $(bindir)/gnatchop$(exeext)\n-\t-$(RM) $(bindir)/gnat$(exeext)\n-\t-$(RM) $(bindir)/gnatdll$(exeext)\n-\t-$(RM) $(bindir)/gnatkr$(exeext)\n-\t-$(RM) $(bindir)/gnatlink$(exeext)\n-\t-$(RM) $(bindir)/gnatls$(exeext)\n-\t-$(RM) $(bindir)/gnatmake$(exeext)\n-\t-$(RM) $(bindir)/gnatmem$(exeext)\n-\t-$(RM) $(bindir)/gnatname$(exeext)\n-\t-$(RM) $(bindir)/gnatprep$(exeext)\n-\t-$(RM) $(bindir)/gnatpsta$(exeext)\n-\t-$(RM) $(bindir)/$(target_alias)-gnatbind$(exeext)\n-\t-$(RM) $(bindir)/$(target_alias)-gnatbl$(exeext)\n-\t-$(RM) $(bindir)/$(target_alias)-gnatchop$(exeext)\n-\t-$(RM) $(bindir)/$(target_alias)-gnat$(exeext)\n-\t-$(RM) $(bindir)/$(target_alias)-gnatkr(exeext)\n-\t-$(RM) $(bindir)/$(target_alias)-gnatlink$(exeext)\n-\t-$(RM) $(bindir)/$(target_alias)-gnatls$(exeext)\n-\t-$(RM) $(bindir)/$(target_alias)-gnatmake$(exeext)\n-\t-$(RM) $(bindir)/$(target_alias)-gnatmem$(exeext)\n-\t-$(RM) $(bindir)/$(target_alias)-gnatname$(exeext)\n-\t-$(RM) $(bindir)/$(target_alias)-gnatprep$(exeext)\n-\t-$(RM) $(bindir)/$(target_alias)-gnatpsta$(exeext)\n-\t-$(RM) $(tooldir)/bin/gnatbind$(exeext)\n-\t-$(RM) $(tooldir)/bin/gnatbl$(exeext)\n-\t-$(RM) $(tooldir)/bin/gnatchop$(exeext)\n-\t-$(RM) $(tooldir)/bin/gnat$(exeext)\n-\t-$(RM) $(tooldir)/bin/gnatdll$(exeext)\n-\t-$(RM) $(tooldir)/bin/gnatkr$(exeext)\n-\t-$(RM) $(tooldir)/bin/gnatlink$(exeext)\n-\t-$(RM) $(tooldir)/bin/gnatls$(exeext)\n-\t-$(RM) $(tooldir)/bin/gnatmake$(exeext)\n-\t-$(RM) $(tooldir)/bin/gnatmem$(exeext)\n-\t-$(RM) $(tooldir)/bin/gnatname$(exeext)\n-\t-$(RM) $(tooldir)/bin/gnatprep$(exeext)\n-\t-$(RM) $(tooldir)/bin/gnatpsta$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatbind$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatbl$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatchop$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnat$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatdll$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatkr$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatlink$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatls$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatmake$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatmem$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatname$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatprep$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatpsta$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatbind$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatbl$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatchop$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnat$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatkr(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatlink$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatls$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatmake$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatmem$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatname$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatprep$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/$(target_alias)-gnatpsta$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatbind$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatbl$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatchop$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnat$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatdll$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatkr$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatlink$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatls$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatmake$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatmem$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatname$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatprep$(exeext)\n+\t-$(RM) $(DESTDIR)$(tooldir)/bin/gnatpsta$(exeext)\n # Gnatlbr and Gnatchop are only used on VMS\n-\t-$(RM) $(bindir)/gnatlbr$(exeext) $(bindir)/gnatchop$(exeext)\n+\t-$(RM) $(DESTDIR)$(bindir)/gnatlbr$(exeext) $(DESTDIR)$(bindir)/gnatchop$(exeext)\n \n # Clean hooks:\n # A lot of the ancillary files are deleted by the main makefile."}, {"sha": "88e75c9d743166634465eb8ac6cc0aef0c7a34e1", "filename": "gcc/ada/Makefile.in", "status": "modified", "additions": 20, "deletions": 20, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d27195cb61549bdaccb99f994c7224b1b4a47ad/gcc%2Fada%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d27195cb61549bdaccb99f994c7224b1b4a47ad/gcc%2Fada%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMakefile.in?ref=1d27195cb61549bdaccb99f994c7224b1b4a47ad", "patch": "@@ -1711,38 +1711,38 @@ install-gnatlib: ../stamp-gnatlib\n #\tCreate the directory before deleting it, in case the directory is\n #\ta list of directories (as it may be on VMS). This ensures we are\n #\tdeleting the right one.\n-\t-$(MKDIR) $(ADA_RTL_OBJ_DIR)\n-\t-$(MKDIR) $(ADA_INCLUDE_DIR)\n-\t$(RMDIR) $(ADA_RTL_OBJ_DIR)\n-\t$(RMDIR) $(ADA_INCLUDE_DIR)\n-\t-$(MKDIR) $(ADA_RTL_OBJ_DIR)\n-\t-$(MKDIR) $(ADA_INCLUDE_DIR)\n-\t-$(INSTALL_DATA) ada/rts/Makefile.adalib $(ADA_RTL_OBJ_DIR)\n+\t-$(MKDIR) $(DESTDIR)$(ADA_RTL_OBJ_DIR)\n+\t-$(MKDIR) $(DESTDIR)$(ADA_INCLUDE_DIR)\n+\t$(RMDIR) $(DESTDIR)$(ADA_RTL_OBJ_DIR)\n+\t$(RMDIR) $(DESTDIR)$(ADA_INCLUDE_DIR)\n+\t-$(MKDIR) $(DESTDIR)$(ADA_RTL_OBJ_DIR)\n+\t-$(MKDIR) $(DESTDIR)$(ADA_INCLUDE_DIR)\n+\t-$(INSTALL_DATA) ada/rts/Makefile.adalib $(DESTDIR)$(ADA_RTL_OBJ_DIR)\n \tfor file in ada/rts/*.ali; do \\\n-\t    $(INSTALL_DATA) $$file $(ADA_RTL_OBJ_DIR); \\\n+\t    $(INSTALL_DATA) $$file $(DESTDIR)$(ADA_RTL_OBJ_DIR); \\\n \tdone\n \t-for file in ada/rts/*$(arext);do \\\n-\t    $(INSTALL_DATA) $$file $(ADA_RTL_OBJ_DIR); \\\n+\t    $(INSTALL_DATA) $$file $(DESTDIR)$(ADA_RTL_OBJ_DIR); \\\n \tdone\n ifeq ($(strip $(filter-out alpha% dec vms% openvms% alphavms%,$(targ))),)\n \t-for file in ada/rts/lib*$(soext);do \\\n-\t    $(INSTALL_DATA) $$file $(ADA_RTL_OBJ_DIR); \\\n+\t    $(INSTALL_DATA) $$file $(DESTDIR)$(ADA_RTL_OBJ_DIR); \\\n \tdone\n else\n \t-for file in ada/rts/lib*-**$(soext);do \\\n-\t    $(INSTALL_DATA) $$file $(ADA_RTL_OBJ_DIR); \\\n+\t    $(INSTALL_DATA) $$file $(DESTDIR)$(ADA_RTL_OBJ_DIR); \\\n \tdone\n endif\n-\t-$(LN_S) $(ADA_RTL_OBJ_DIR)/libgnat-*$(soext) \\\n-\t       $(ADA_RTL_OBJ_DIR)/libgnat$(soext)\n-\t-$(LN_S) $(ADA_RTL_OBJ_DIR)/libgnarl-*$(soext) \\\n-\t       $(ADA_RTL_OBJ_DIR)/libgnarl$(soext)\n+\t-( cd $(DESTDIR)$(ADA_RTL_OBJ_DIR) && \\\n+\t  $(LN_S) libgnat-*$(soext) libgnat$(soext) )\n+\t-( cd $(DESTDIR)$(ADA_RTL_OBJ_DIR) && \\\n+\t  $(LN_S) libgnarl-*$(soext) libgnarl$(soext) )\n # This copy must be done preserving the date on the original file.\n \tfor file in ada/rts/*.adb ada/rts/*.ads; do \\\n-\t    $(INSTALL_DATA_DATE) $$file $(ADA_INCLUDE_DIR); \\\n+\t    $(INSTALL_DATA_DATE) $$file $(DESTDIR)$(ADA_INCLUDE_DIR); \\\n \tdone\n-\tcd $(ADA_INCLUDE_DIR); $(CHMOD) a-wx *.adb\n-\tcd $(ADA_INCLUDE_DIR); $(CHMOD) a-wx *.ads\n+\tcd $(DESTDIR)$(ADA_INCLUDE_DIR); $(CHMOD) a-wx *.adb\n+\tcd $(DESTDIR)$(ADA_INCLUDE_DIR); $(CHMOD) a-wx *.ads\n \n ../stamp-gnatlib2:\n \t$(RM) rts/s-*.ali\n@@ -1795,7 +1795,7 @@ gnatlib: ../stamp-gnatlib1 ../stamp-gnatlib2\n \t$(MAKE) -C rts CC=\"../../xgcc -B../../\" \\\n \t        INCLUDES=\"$(INCLUDES_FOR_SUBDIR) -I./../..\" \\\n                 CFLAGS=\"$(GNATLIBCFLAGS_FOR_C)\" \\\n-\t\tsrcdir=$(fsrcdir) \\\n+\t\tsrcdir=$(fsrcdir) VPATH=$(fsrcdir) \\\n \t        -f ../Makefile $(LIBGNAT_OBJS) prefix.o\n \t$(MAKE) -C rts CC=\"../../xgcc -B../../\" \\\n \t        ADA_INCLUDES=\"$(ADA_INCLUDES_FOR_SUBDIR)\" \\\n@@ -1854,7 +1854,7 @@ prepare-rts:\n         endif\n \n install-rts: force\n-\t$(CP) -r rts-$(RTS_NAME) $(libsubdir)/\n+\t$(CP) -r rts-$(RTS_NAME) $(DESTDIR)$(libsubdir)/\n \n rts-none: force\n \t$(MAKE) $(FLAGS_TO_PASS) prepare-rts \\"}]}