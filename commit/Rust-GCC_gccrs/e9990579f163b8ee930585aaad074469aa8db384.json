{"sha": "e9990579f163b8ee930585aaad074469aa8db384", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTk5OTA1NzlmMTYzYjhlZTkzMDU4NWFhYWQwNzQ0NjlhYThkYjM4NA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-05-16T22:35:31Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-05-16T22:35:31Z"}, "message": "(fix_argv): Removed call to free.\n\nChanged WINNT to _WIN32.\n\nFrom-SVN: r9731", "tree": {"sha": "924f99d8c825d579e23e38d7659a2ea5fcf40c49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/924f99d8c825d579e23e38d7659a2ea5fcf40c49"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e9990579f163b8ee930585aaad074469aa8db384", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9990579f163b8ee930585aaad074469aa8db384", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e9990579f163b8ee930585aaad074469aa8db384", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9990579f163b8ee930585aaad074469aa8db384/comments", "author": null, "committer": null, "parents": [{"sha": "6518a809e91345c38b805d0b1f4edd3b269382c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6518a809e91345c38b805d0b1f4edd3b269382c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6518a809e91345c38b805d0b1f4edd3b269382c8"}], "stats": {"total": 15, "additions": 7, "deletions": 8}, "files": [{"sha": "3f0c490f67d1231e373f1e3a81095e442f85be3f", "filename": "gcc/gcc.c", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e9990579f163b8ee930585aaad074469aa8db384/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e9990579f163b8ee930585aaad074469aa8db384/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=e9990579f163b8ee930585aaad074469aa8db384", "patch": "@@ -36,7 +36,7 @@ compilation is specified by a string called a \"spec\".  */\n #include <sys/stat.h>\n #include <errno.h>\n \n-#ifndef WINNT\n+#ifndef _WIN32\n #include <sys/file.h>   /* May get R_OK, etc. on some systems.  */\n #else\n #include <process.h>\n@@ -2012,7 +2012,7 @@ pexecute (search_flag, program, argv, not_last)\n \n #endif\n \n-#if !defined(__MSDOS__) && !defined(OS2) && !defined(WINNT)\n+#if !defined(__MSDOS__) && !defined(OS2) && !defined(_WIN32)\n \n static int\n pexecute (search_flag, program, argv, not_last)\n@@ -2102,11 +2102,11 @@ pexecute (search_flag, program, argv, not_last)\n     }\n }\n \n-#endif /* not __MSDOS__ and not OS2 and not WINNT */\n+#endif /* not __MSDOS__ and not OS2 and not _WIN32 */\n \n-#if defined(OS2) || defined(WINNT)\n+#if defined(OS2) || defined(_WIN32)\n \n-#ifdef WINNT\n+#ifdef _WIN32\n \n /* This is a kludge to get around the Microsoft C spawn functions' propensity\n    to remove the outermost set of double quotes from all arguments.  */\n@@ -2133,7 +2133,6 @@ fix_argv (argvec)\n               newtemp [j] = '\\\\';\n               strncpy (&newtemp [j+1], &temp [j], len-j);\n               newtemp [len+1] = 0;\n-              free (temp);\n               temp = newtemp;\n               len++;\n               j++;\n@@ -2163,7 +2162,7 @@ pexecute (search_flag, program, argv, not_last)\n {\n   return (search_flag ? spawnv : spawnvp) (1, program, FIX_ARGV (argv));\n }\n-#endif /* OS2 or WINNT */\n+#endif /* OS2 or _WIN32 */\n \n \f\n /* Execute the command specified by the arguments on the current line of spec.\n@@ -2287,7 +2286,7 @@ execute ()\n #ifdef __MSDOS__\n         status = pid = commands[i].pid;\n #else\n-#ifdef WINNT\n+#ifdef _WIN32\n \tpid = cwait (&status, commands[i].pid, WAIT_CHILD);\n #else\n \tpid = wait (&status);"}]}