{"sha": "afb52ee70158e214291ccebba1e3da777c3e3267", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWZiNTJlZTcwMTU4ZTIxNDI5MWNjZWJiYTFlM2RhNzc3YzNlMzI2Nw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-02-25T23:32:13Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-02-25T23:32:13Z"}, "message": "(substitute_in_type, case REAL_TYPE): Allow TYPE_{MIN,MAX}_VALUE to be\nunassigned.\n\nFrom-SVN: r6626", "tree": {"sha": "33644245828af0043d5686efe5dbba1f67f42a57", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/33644245828af0043d5686efe5dbba1f67f42a57"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/afb52ee70158e214291ccebba1e3da777c3e3267", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afb52ee70158e214291ccebba1e3da777c3e3267", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afb52ee70158e214291ccebba1e3da777c3e3267", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afb52ee70158e214291ccebba1e3da777c3e3267/comments", "author": null, "committer": null, "parents": [{"sha": "da4c17179b3fcd19b1c9b87067f9a640de85b592", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da4c17179b3fcd19b1c9b87067f9a640de85b592", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da4c17179b3fcd19b1c9b87067f9a640de85b592"}], "stats": {"total": 15, "additions": 10, "deletions": 5}, "files": [{"sha": "8d2df27b783ddaa97d76016079bd4e6870a91ff9", "filename": "gcc/tree.c", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afb52ee70158e214291ccebba1e3da777c3e3267/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afb52ee70158e214291ccebba1e3da777c3e3267/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=afb52ee70158e214291ccebba1e3da777c3e3267", "patch": "@@ -2117,14 +2117,19 @@ substitute_in_type (t, f, r)\n       return t;\n \n     case REAL_TYPE:\n-      if ((TREE_CODE (TYPE_MIN_VALUE (t)) != INTEGER_CST\n+      if ((TYPE_MIN_VALUE (t) != 0\n+\t   && TREE_CODE (TYPE_MIN_VALUE (t)) != REAL_CST\n \t   && contains_placeholder_p (TYPE_MIN_VALUE (t)))\n-\t  || (TREE_CODE (TYPE_MAX_VALUE (t)) != INTEGER_CST\n+\t  || (TYPE_MAX_VALUE (t) != 0\n+\t      && TREE_CODE (TYPE_MAX_VALUE (t)) != REAL_CST\n \t      && contains_placeholder_p (TYPE_MAX_VALUE (t))))\n \t{\n-\t  t = build_type_copy (t);\n-\t  TYPE_MIN_VALUE (t) = substitute_in_expr (TYPE_MIN_VALUE (t), f, r);\n-\t  TYPE_MAX_VALUE (t) = substitute_in_expr (TYPE_MAX_VALUE (t), f, r);\n+\t  t = copy_type (t);\n+\n+\t  if (TYPE_MIN_VALUE (t))\n+\t    TYPE_MIN_VALUE (t) = substitute_in_expr (TYPE_MIN_VALUE (t), f, r);\n+\t  if (TYPE_MAX_VALUE (t))\n+\t    TYPE_MAX_VALUE (t) = substitute_in_expr (TYPE_MAX_VALUE (t), f, r);\n \t}\n       return t;\n "}]}