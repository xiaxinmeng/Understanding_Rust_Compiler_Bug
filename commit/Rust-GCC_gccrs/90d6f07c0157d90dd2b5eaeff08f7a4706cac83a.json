{"sha": "90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTBkNmYwN2MwMTU3ZDkwZGQyYjVlYWVmZjA4ZjdhNDcwNmNhYzgzYQ==", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2020-04-22T13:48:59Z"}, "committer": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2020-04-22T13:56:51Z"}, "message": "testsuite: [arm/mve] Use dg-add-options arm_v8_1m_mve in MVE tests\n\nSeveral ARM/MVE tests can be compiled even if the toolchain does not\nsupport -mfloat-abi=hard (softfp is OK).\n\nUse dg-add-options arm_v8_1m_mve or arm_v8_1m_mve_fp instead of using\ndg-additional-options.\n\n2020-04-22  Christophe Lyon  <christophe.lyon@linaro.org>\n\n\tgcc/testsuite/\n\t* gcc.target/arm/mve/intrinsics/mve_vector_float.c: Use\n\tarm_v8_1m_mve_fp.\n\t* gcc.target/arm/mve/intrinsics/mve_vector_float1.c: Likewise.\n\t* gcc.target/arm/mve/intrinsics/mve_vector_float2.c: Likewise.\n\t* gcc.target/arm/mve/intrinsics/mve_vector_int.c: Use\n\tarm_v8_1m_mve.\n\t* gcc.target/arm/mve/intrinsics/mve_vector_int1.c: Likewise.\n\t* gcc.target/arm/mve/intrinsics/mve_vector_int2.c: Likewise.\n\t* gcc.target/arm/mve/intrinsics/mve_vector_uint.c: Likewise.\n\t* gcc.target/arm/mve/intrinsics/mve_vector_uint1.c: Likewise.\n\t* gcc.target/arm/mve/intrinsics/mve_vector_uint2.c: Likewise.", "tree": {"sha": "c093a52ac1cd2ce17c42308dc31d5507dbe57e07", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c093a52ac1cd2ce17c42308dc31d5507dbe57e07"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/comments", "author": null, "committer": null, "parents": [{"sha": "bdeca63ce7f6d915d2a22a638a19dc2b92934794", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdeca63ce7f6d915d2a22a638a19dc2b92934794", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bdeca63ce7f6d915d2a22a638a19dc2b92934794"}], "stats": {"total": 32, "additions": 23, "deletions": 9}, "files": [{"sha": "512fc951a72f9b7f22cfd099971658cf43c4cdb0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "patch": "@@ -1,3 +1,17 @@\n+2020-04-22  Christophe Lyon  <christophe.lyon@linaro.org>\n+\n+        * gcc.target/arm/mve/intrinsics/mve_vector_float.c: Use\n+        arm_v8_1m_mve_fp.\n+        * gcc.target/arm/mve/intrinsics/mve_vector_float1.c: Likewise.\n+        * gcc.target/arm/mve/intrinsics/mve_vector_float2.c: Likewise.\n+        * gcc.target/arm/mve/intrinsics/mve_vector_int.c: Use\n+        arm_v8_1m_mve.\n+        * gcc.target/arm/mve/intrinsics/mve_vector_int1.c: Likewise.\n+        * gcc.target/arm/mve/intrinsics/mve_vector_int2.c: Likewise.\n+        * gcc.target/arm/mve/intrinsics/mve_vector_uint.c: Likewise.\n+        * gcc.target/arm/mve/intrinsics/mve_vector_uint1.c: Likewise.\n+        * gcc.target/arm/mve/intrinsics/mve_vector_uint2.c: Likewise.\n+\n 2020-04-22  Christophe Lyon  <christophe.lyon@linaro.org>\n \n         * gcc.target/arm/mve/intrinsics/mve_move_gpr_to_gpr.c: Remove"}, {"sha": "6519b81a0d5dc7a9c04ef232f3ee5bb04a97aaa5", "filename": "gcc/testsuite/gcc.target/arm/mve/intrinsics/mve_vector_float.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_float.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_float.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_float.c?ref=90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "patch": "@@ -1,6 +1,6 @@\n /* { dg-require-effective-target arm_v8_1m_mve_fp_ok } */\n+/* { dg-add-options arm_v8_1m_mve_fp } */\n /* { dg-skip-if \"Incompatible float ABI\" { *-*-* } { \"-mfloat-abi=soft\" } {\"\"} } */\n-/* { dg-additional-options \"-march=armv8.1-m.main+mve.fp -mfpu=auto -mfloat-abi=hard -mthumb --save-temps\" } */\n \n #include \"arm_mve.h\"\n "}, {"sha": "855e3b8845ffe0040d5550c15f30cf0b7695c12c", "filename": "gcc/testsuite/gcc.target/arm/mve/intrinsics/mve_vector_float1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_float1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_float1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_float1.c?ref=90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "patch": "@@ -1,6 +1,6 @@\n /* { dg-require-effective-target arm_v8_1m_mve_fp_ok } */\n+/* { dg-add-options arm_v8_1m_mve_fp } */\n /* { dg-skip-if \"Incompatible float ABI\" { *-*-* } { \"-mfloat-abi=soft\" } {\"\"} } */\n-/* { dg-additional-options \"-march=armv8.1-m.main+mve.fp -mfpu=auto -mfloat-abi=hard -mthumb --save-temps\" } */\n \n #include \"arm_mve.h\"\n "}, {"sha": "e3cf8f8207d603243eae22be9a90bbb1e8a73a58", "filename": "gcc/testsuite/gcc.target/arm/mve/intrinsics/mve_vector_float2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_float2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_float2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_float2.c?ref=90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "patch": "@@ -1,6 +1,6 @@\n /* { dg-require-effective-target arm_v8_1m_mve_fp_ok } */\n+/* { dg-add-options arm_v8_1m_mve_fp } */\n /* { dg-skip-if \"Incompatible float ABI\" { *-*-* } { \"-mfloat-abi=soft\" } {\"\"} } */\n-/* { dg-additional-options \"-march=armv8.1-m.main+mve.fp -mfpu=auto -mfloat-abi=hard -mthumb --save-temps\" } */\n \n #include \"arm_mve.h\"\n "}, {"sha": "e70cbc12b1a65be9e110c9aa73effb2c3ea22f71", "filename": "gcc/testsuite/gcc.target/arm/mve/intrinsics/mve_vector_int.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_int.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_int.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_int.c?ref=90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "patch": "@@ -1,6 +1,6 @@\n /* { dg-require-effective-target arm_v8_1m_mve_ok } */\n+/* { dg-add-options arm_v8_1m_mve } */\n /* { dg-skip-if \"Incompatible float ABI\" { *-*-* } { \"-mfloat-abi=soft\" } {\"\"} } */\n-/* { dg-additional-options \"-march=armv8.1-m.main+mve -mfpu=auto -mfloat-abi=hard -mthumb --save-temps\" } */\n \n #include \"arm_mve.h\"\n "}, {"sha": "b13d0a81286feaa6e31f97996cc71e6880e7fd97", "filename": "gcc/testsuite/gcc.target/arm/mve/intrinsics/mve_vector_int1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_int1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_int1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_int1.c?ref=90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "patch": "@@ -1,6 +1,6 @@\n /* { dg-require-effective-target arm_v8_1m_mve_ok } */\n+/* { dg-add-options arm_v8_1m_mve } */\n /* { dg-skip-if \"Incompatible float ABI\" { *-*-* } { \"-mfloat-abi=soft\" } {\"\"} } */\n-/* { dg-additional-options \"-march=armv8.1-m.main+mve -mfpu=auto -mfloat-abi=hard -mthumb --save-temps\" } */\n \n #include \"arm_mve.h\"\n "}, {"sha": "04403ee49387f60924817d432914936cac5f5c32", "filename": "gcc/testsuite/gcc.target/arm/mve/intrinsics/mve_vector_int2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_int2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_int2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_int2.c?ref=90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "patch": "@@ -1,6 +1,6 @@\n /* { dg-require-effective-target arm_v8_1m_mve_ok } */\n+/* { dg-add-options arm_v8_1m_mve } */\n /* { dg-skip-if \"Incompatible float ABI\" { *-*-* } { \"-mfloat-abi=soft\" } {\"\"} } */\n-/* { dg-additional-options \"-march=armv8.1-m.main+mve -mfpu=auto -mfloat-abi=hard -mthumb --save-temps\" } */\n \n #include \"arm_mve.h\"\n "}, {"sha": "0c4e763626e12bbe3352c7ecb3d4b325abe033e8", "filename": "gcc/testsuite/gcc.target/arm/mve/intrinsics/mve_vector_uint.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_uint.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_uint.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_uint.c?ref=90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "patch": "@@ -1,6 +1,6 @@\n /* { dg-require-effective-target arm_v8_1m_mve_ok } */\n+/* { dg-add-options arm_v8_1m_mve } */\n /* { dg-skip-if \"Incompatible float ABI\" { *-*-* } { \"-mfloat-abi=soft\" } {\"\"} } */\n-/* { dg-additional-options \"-march=armv8.1-m.main+mve -mfpu=auto -mfloat-abi=hard -mthumb --save-temps\" } */\n \n #include \"arm_mve.h\"\n "}, {"sha": "fce69eb276ddb53446e01f88fa7756cb2a38a9f4", "filename": "gcc/testsuite/gcc.target/arm/mve/intrinsics/mve_vector_uint1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_uint1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_uint1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_uint1.c?ref=90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "patch": "@@ -1,6 +1,6 @@\n /* { dg-require-effective-target arm_v8_1m_mve_ok } */\n+/* { dg-add-options arm_v8_1m_mve } */\n /* { dg-skip-if \"Incompatible float ABI\" { *-*-* } { \"-mfloat-abi=soft\" } {\"\"} } */\n-/* { dg-additional-options \"-march=armv8.1-m.main+mve -mfpu=auto -mfloat-abi=hard -mthumb --save-temps\" } */\n \n #include \"arm_mve.h\"\n "}, {"sha": "e0d6dcbe4bcedd65f700c70fd92ff2bb2c56ec4c", "filename": "gcc/testsuite/gcc.target/arm/mve/intrinsics/mve_vector_uint2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_uint2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_uint2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fmve%2Fintrinsics%2Fmve_vector_uint2.c?ref=90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "patch": "@@ -1,6 +1,6 @@\n /* { dg-require-effective-target arm_v8_1m_mve_ok } */\n+/* { dg-add-options arm_v8_1m_mve } */\n /* { dg-skip-if \"Incompatible float ABI\" { *-*-* } { \"-mfloat-abi=soft\" } {\"\"} } */\n-/* { dg-additional-options \"-march=armv8.1-m.main+mve -mfpu=auto -mfloat-abi=hard -mthumb --save-temps\" } */\n \n #include \"arm_mve.h\"\n "}]}