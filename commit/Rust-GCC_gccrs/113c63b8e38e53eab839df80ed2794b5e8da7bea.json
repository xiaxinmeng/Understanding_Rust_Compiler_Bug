{"sha": "113c63b8e38e53eab839df80ed2794b5e8da7bea", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTEzYzYzYjhlMzhlNTNlYWI4MzlkZjgwZWQyNzk0YjVlOGRhN2JlYQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2008-04-01T08:51:25Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2008-04-01T08:51:25Z"}, "message": "function.c (free_after_compilation): Free epilogue_delay_list.\n\n\t* function.c (free_after_compilation): Free epilogue_delay_list.\n\t(prepare_function_start): Assert that previous compilation was freed.\n\nFrom-SVN: r133787", "tree": {"sha": "cc3ccdd3a00f2832ad67a780b50f807922ee350f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cc3ccdd3a00f2832ad67a780b50f807922ee350f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/113c63b8e38e53eab839df80ed2794b5e8da7bea", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/113c63b8e38e53eab839df80ed2794b5e8da7bea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/113c63b8e38e53eab839df80ed2794b5e8da7bea", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/113c63b8e38e53eab839df80ed2794b5e8da7bea/comments", "author": null, "committer": null, "parents": [{"sha": "ec24c3a3c9ff0c79ee840f39abab63bc11aec115", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec24c3a3c9ff0c79ee840f39abab63bc11aec115", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec24c3a3c9ff0c79ee840f39abab63bc11aec115"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "abed43e4c475aa3fd87d13c5d1bbbc6802822272", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/113c63b8e38e53eab839df80ed2794b5e8da7bea/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/113c63b8e38e53eab839df80ed2794b5e8da7bea/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=113c63b8e38e53eab839df80ed2794b5e8da7bea", "patch": "@@ -1,3 +1,8 @@\n+2008-04-01  Jan Hubicka  <jh@suse.cz>\n+\n+\t* function.c (free_after_compilation): Free epilogue_delay_list.\n+\t(prepare_function_start): Assert that previous compilation was freed.\n+\n 2008-04-01  Jan Hubicka  <jh@suse.cz>\n \t    Jim Wilson  <wilson@tuliptree.org>\n \t    Andreas Tobler <andreast@gcc.gnu.org>"}, {"sha": "5ca83b1857b7fbfae36efb3af770031cdde575e0", "filename": "gcc/function.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/113c63b8e38e53eab839df80ed2794b5e8da7bea/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/113c63b8e38e53eab839df80ed2794b5e8da7bea/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=113c63b8e38e53eab839df80ed2794b5e8da7bea", "patch": "@@ -313,7 +313,8 @@ free_after_compilation (struct function *f)\n   VEC_free (int, heap, prologue);\n   VEC_free (int, heap, epilogue);\n   VEC_free (int, heap, sibcall_epilogue);\n-  free (rtl.emit.regno_pointer_align);\n+  if (rtl.emit.regno_pointer_align)\n+    free (rtl.emit.regno_pointer_align);\n \n   memset (&rtl, 0, sizeof (rtl));\n   f->eh = NULL;\n@@ -323,6 +324,7 @@ free_after_compilation (struct function *f)\n   f->arg_offset_rtx = NULL;\n   f->return_rtx = NULL;\n   f->internal_arg_pointer = NULL;\n+  f->epilogue_delay_list = NULL;\n }\n \f\n /* Return size needed for stack frame based on slots so far allocated.\n@@ -3935,6 +3937,7 @@ push_struct_function (tree fndecl)\n static void\n prepare_function_start (void)\n {\n+  gcc_assert (!rtl.emit.x_last_insn);\n   init_emit ();\n   init_varasm_status ();\n   init_expr ();"}]}