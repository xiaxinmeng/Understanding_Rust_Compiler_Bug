{"sha": "698ef65e2fee6c848f3b6ae0bf4a099c811e0022", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njk4ZWY2NWUyZmVlNmM4NDhmM2I2YWUwYmY0YTA5OWM4MTFlMDAyMg==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2012-12-05T09:59:08Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2012-12-05T09:59:08Z"}, "message": "re PR tree-optimization/50222 (ICE with -O{1,2} -funswitch-loops -ftree-loop-distribution)\n\n2012-12-05  Richard Biener  <rguenther@suse.de>\n\n\tPR tree-optimization/50222\n\t* gcc.dg/torture/pr50222.c: New testcase.\n\nFrom-SVN: r194188", "tree": {"sha": "0b7fb7fe0eea47d5762c263242130d5663512258", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0b7fb7fe0eea47d5762c263242130d5663512258"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/698ef65e2fee6c848f3b6ae0bf4a099c811e0022", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/698ef65e2fee6c848f3b6ae0bf4a099c811e0022", "html_url": "https://github.com/Rust-GCC/gccrs/commit/698ef65e2fee6c848f3b6ae0bf4a099c811e0022", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/698ef65e2fee6c848f3b6ae0bf4a099c811e0022/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "68fbd81bf093b2c14f94666153ca6428ac237880", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68fbd81bf093b2c14f94666153ca6428ac237880", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68fbd81bf093b2c14f94666153ca6428ac237880"}], "stats": {"total": 36, "additions": 36, "deletions": 0}, "files": [{"sha": "b04fee3909d34b47e6f74e8d92e588fe82c288c6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/698ef65e2fee6c848f3b6ae0bf4a099c811e0022/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/698ef65e2fee6c848f3b6ae0bf4a099c811e0022/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=698ef65e2fee6c848f3b6ae0bf4a099c811e0022", "patch": "@@ -1,3 +1,8 @@\n+2012-12-05  Richard Biener  <rguenther@suse.de>\n+\n+\tPR tree-optimization/50222\n+\t* gcc.dg/torture/pr50222.c: New testcase.\n+\n 2012-12-05  Richard Biener  <rguenther@suse.de>\n \n \tPR lto/55525"}, {"sha": "f534d8960be00083697dca6c2dc8e299e0c241ce", "filename": "gcc/testsuite/gcc.dg/torture/pr50222.c", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/698ef65e2fee6c848f3b6ae0bf4a099c811e0022/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr50222.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/698ef65e2fee6c848f3b6ae0bf4a099c811e0022/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr50222.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr50222.c?ref=698ef65e2fee6c848f3b6ae0bf4a099c811e0022", "patch": "@@ -0,0 +1,31 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-funswitch-loops -ftree-loop-distribution\" } */\n+\n+typedef struct AVProgram {\n+    void *priv_data;\n+    unsigned int nb_streams;\n+} AVFormatContext;\n+typedef struct {\n+    unsigned short flags;\n+    unsigned char stream_id;\n+} FrameCode;\n+typedef struct {\n+    FrameCode frame_code[256];\n+} NUTContext;\n+void build_frame_code(AVFormatContext *s, int stream_id,\n+\t\t      int is_audio, int pred_count)\n+{\n+  NUTContext *nut = s->priv_data;\n+  int keyframe_0_esc = s->nb_streams > 2;\n+  int start2 = 1 + 253*stream_id / s->nb_streams;\n+  int key_frame;\n+  for(key_frame=0; key_frame<2; key_frame++)\n+    {\n+      FrameCode *ft;\n+      if (is_audio && keyframe_0_esc && key_frame==0)\n+\tcontinue;\n+      ft= &nut->frame_code[start2];\n+      ft->flags|= 3;\n+      ft->stream_id= stream_id;\n+    }\n+}"}]}