{"sha": "2ef543e47016ce97fabb14dc3cba52f86e8f4a16", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmVmNTQzZTQ3MDE2Y2U5N2ZhYmIxNGRjM2NiYTUyZjg2ZThmNGExNg==", "commit": {"author": {"name": "Venkataramanan Kumar", "email": "venkataramanan.kumar@amd.com", "date": "2015-10-30T13:20:42Z"}, "committer": {"name": "Venkataramanan Kumar", "email": "vekumar@gcc.gnu.org", "date": "2015-10-30T13:20:42Z"}, "message": "libgcc changes for AMD znver1.\n\n2015-10-30  Venkataramanan Kumar  <venkataramanan.kumar@amd.com>\n\n\t* config/i386/i386.c (get_builtin_code_for_version): Set priority\n\tfor PROCESSOR_ZNVER1.\n\t(enum processor_model): Add M_AMDFAM17H_znver1.\n\t(struct arch_names_table): Likewise.\n\t* doc/extend.texi: ADD znver1.\n\n2015-10-30  Venkataramanan Kumar  <venkataramanan.kumar@amd.com>\n\n\t* config/i386/cpuinfo.c (enum processor_types): Add AMDFAM17H.\n\t(processor_subtypes): Add znver1.\n\t(get_amd_cpu): Detect znver1.\n\nFrom-SVN: r229575", "tree": {"sha": "298eff63d77d888024ef4e7571a1247a4a0fcfb5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/298eff63d77d888024ef4e7571a1247a4a0fcfb5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2ef543e47016ce97fabb14dc3cba52f86e8f4a16", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ef543e47016ce97fabb14dc3cba52f86e8f4a16", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ef543e47016ce97fabb14dc3cba52f86e8f4a16", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ef543e47016ce97fabb14dc3cba52f86e8f4a16/comments", "author": null, "committer": null, "parents": [{"sha": "7524f419ae7935594e7ec85daf7cdf736a835b04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7524f419ae7935594e7ec85daf7cdf736a835b04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7524f419ae7935594e7ec85daf7cdf736a835b04"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "e6b8b27bc6f7de2f4f3961b0e88514ec78e76b39", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ef543e47016ce97fabb14dc3cba52f86e8f4a16/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ef543e47016ce97fabb14dc3cba52f86e8f4a16/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2ef543e47016ce97fabb14dc3cba52f86e8f4a16", "patch": "@@ -1,3 +1,11 @@\n+2015-10-30  Venkataramanan Kumar  <venkataramanan.kumar@amd.com>\n+\n+\t* config/i386/i386.c (get_builtin_code_for_version): Set priority\n+\tfor PROCESSOR_ZNVER1.\n+\t(enum processor_model): Add M_AMDFAM17H_znver1.\n+\t(struct arch_names_table): Likewise.\n+\t* doc/extend.texi: ADD znver1.\n+\n 2015-10-30  Richard Biener  <rguenther@suse.de>\n \n \t* gimple-fold.c (fold_gimple_assign): Do not dispatch to"}, {"sha": "1e6c8a3537fe3575a65f1ca29d192f415a2e16e9", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ef543e47016ce97fabb14dc3cba52f86e8f4a16/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ef543e47016ce97fabb14dc3cba52f86e8f4a16/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=2ef543e47016ce97fabb14dc3cba52f86e8f4a16", "patch": "@@ -35898,6 +35898,10 @@ get_builtin_code_for_version (tree decl, tree *predicate_list)\n \t      arg_str = \"bdver4\";\n \t      priority = P_PROC_AVX2;\n \t      break;\n+\t    case PROCESSOR_ZNVER1:\n+\t      arg_str = \"znver1\";\n+\t      priority = P_PROC_AVX2;\n+\t      break;\n \t    }\n \t}\n \n@@ -36808,6 +36812,7 @@ fold_builtin_cpu (tree fndecl, tree *args)\n     M_AMDFAM15H_BDVER2,\n     M_AMDFAM15H_BDVER3,\n     M_AMDFAM15H_BDVER4,\n+    M_AMDFAM17H_ZNVER1,\n     M_INTEL_COREI7_IVYBRIDGE,\n     M_INTEL_COREI7_HASWELL,\n     M_INTEL_COREI7_BROADWELL,\n@@ -36850,6 +36855,7 @@ fold_builtin_cpu (tree fndecl, tree *args)\n       {\"bdver3\", M_AMDFAM15H_BDVER3},\n       {\"bdver4\", M_AMDFAM15H_BDVER4},\n       {\"btver2\", M_AMD_BTVER2},\n+      {\"znver1\", M_AMDFAM17H_ZNVER1},\n     };\n \n   static struct _isa_names_table"}, {"sha": "16fde70515ad3c2b26d59b2d6719bd2ce3d71b40", "filename": "gcc/doc/extend.texi", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ef543e47016ce97fabb14dc3cba52f86e8f4a16/gcc%2Fdoc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ef543e47016ce97fabb14dc3cba52f86e8f4a16/gcc%2Fdoc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fextend.texi?ref=2ef543e47016ce97fabb14dc3cba52f86e8f4a16", "patch": "@@ -17016,6 +17016,9 @@ AMD Family 15h Bulldozer version 4.\n \n @item btver2\n AMD Family 16h CPU.\n+\n+@item znver1\n+AMD Family 17h CPU.\n @end table\n \n Here is an example:"}, {"sha": "d964b2438795d4ae9aa39399bb0fb582151067d5", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ef543e47016ce97fabb14dc3cba52f86e8f4a16/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ef543e47016ce97fabb14dc3cba52f86e8f4a16/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=2ef543e47016ce97fabb14dc3cba52f86e8f4a16", "patch": "@@ -1,3 +1,9 @@\n+2015-10-30  Venkataramanan Kumar  <venkataramanan.kumar@amd.com>\n+\n+\t* config/i386/cpuinfo.c (enum processor_types): Add AMDFAM17H.\n+\t(processor_subtypes): Add znver1.\n+\t(get_amd_cpu): Detect znver1.\n+\n 2015-10-29  Christophe Lyon  <christophe.lyon@linaro.org>\n \n \t* config.host (arm*-*-eabi*, arm*-*-symbianelf*, arm*-*-rtems*):"}, {"sha": "b0ebfcf7fc79334face24092ef4172862955ff95", "filename": "libgcc/config/i386/cpuinfo.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ef543e47016ce97fabb14dc3cba52f86e8f4a16/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ef543e47016ce97fabb14dc3cba52f86e8f4a16/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c?ref=2ef543e47016ce97fabb14dc3cba52f86e8f4a16", "patch": "@@ -59,6 +59,7 @@ enum processor_types\n   INTEL_KNL,\n   AMD_BTVER1,\n   AMD_BTVER2,  \n+  AMDFAM17H,\n   CPU_TYPE_MAX\n };\n \n@@ -74,6 +75,7 @@ enum processor_subtypes\n   AMDFAM15H_BDVER2,\n   AMDFAM15H_BDVER3,\n   AMDFAM15H_BDVER4,\n+  AMDFAM17H_ZNVER1,\n   INTEL_COREI7_IVYBRIDGE,\n   INTEL_COREI7_HASWELL,\n   INTEL_COREI7_BROADWELL,\n@@ -177,6 +179,12 @@ get_amd_cpu (unsigned int family, unsigned int model)\n     case 0x16:\n       __cpu_model.__cpu_type = AMD_BTVER2;\n       break;\n+    case 0x17:\n+      __cpu_model.__cpu_type = AMDFAM17H;\n+      /* AMD family 17h version 1.  */\n+      if (model <= 0x1f)\n+\t__cpu_model.__cpu_subtype = AMDFAM17H_ZNVER1;\n+      break;\n     default:\n       break;\n     }"}]}