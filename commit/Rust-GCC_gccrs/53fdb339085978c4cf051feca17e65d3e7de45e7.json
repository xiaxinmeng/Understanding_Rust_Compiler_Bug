{"sha": "53fdb339085978c4cf051feca17e65d3e7de45e7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTNmZGIzMzkwODU5NzhjNGNmMDUxZmVjYTE3ZTY1ZDNlN2RlNDVlNw==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2006-08-22T22:57:53Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2006-08-22T22:57:53Z"}, "message": "random.tcc (subtract_with_carry_01<>:: seed(_Gen&, false_type)): Fix _M_carry initialization.\n\n2006-08-22  Paolo Carlini  <pcarlini@suse.de>\n\n\t* include/tr1/random.tcc (subtract_with_carry_01<>::\n      \tseed(_Gen&, false_type)): Fix _M_carry initialization.\n\t\n\t* testsuite/tr1/5_numerical_facilities/random/\n\tsubtract_with_carry/cons/default.cc: Qualify 1 as 1UL.\n\t* testsuite/tr1/5_numerical_facilities/random/\n\tsubtract_with_carry/cons/gen1.cc: Likewise.\n\nFrom-SVN: r116334", "tree": {"sha": "ade2726bfd9742ea1d0e6f215b5e2f8f3327f311", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ade2726bfd9742ea1d0e6f215b5e2f8f3327f311"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/53fdb339085978c4cf051feca17e65d3e7de45e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53fdb339085978c4cf051feca17e65d3e7de45e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53fdb339085978c4cf051feca17e65d3e7de45e7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53fdb339085978c4cf051feca17e65d3e7de45e7/comments", "author": null, "committer": null, "parents": [{"sha": "a25ce4dbf97245d64ec5f32787eebee6beafec76", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a25ce4dbf97245d64ec5f32787eebee6beafec76", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a25ce4dbf97245d64ec5f32787eebee6beafec76"}], "stats": {"total": 24, "additions": 21, "deletions": 3}, "files": [{"sha": "988334718afa1d44155e8d474d40f9860e06d978", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53fdb339085978c4cf051feca17e65d3e7de45e7/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53fdb339085978c4cf051feca17e65d3e7de45e7/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=53fdb339085978c4cf051feca17e65d3e7de45e7", "patch": "@@ -1,3 +1,13 @@\n+2006-08-22  Paolo Carlini  <pcarlini@suse.de>\n+\n+\t* include/tr1/random.tcc (subtract_with_carry_01<>::\n+      \tseed(_Gen&, false_type)): Fix _M_carry initialization.\n+\t\n+\t* testsuite/tr1/5_numerical_facilities/random/\n+\tsubtract_with_carry/cons/default.cc: Qualify 1 as 1UL.\n+\t* testsuite/tr1/5_numerical_facilities/random/\n+\tsubtract_with_carry/cons/gen1.cc: Likewise.\n+\n 2006-08-22  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/tr1/random (class subtract_with_carry_01<>): Add."}, {"sha": "cbeb57d82d33bd22f2b771fbf4ceb98c766c9404", "filename": "libstdc++-v3/include/tr1/random.tcc", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53fdb339085978c4cf051feca17e65d3e7de45e7/libstdc%2B%2B-v3%2Finclude%2Ftr1%2Frandom.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53fdb339085978c4cf051feca17e65d3e7de45e7/libstdc%2B%2B-v3%2Finclude%2Ftr1%2Frandom.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Ftr1%2Frandom.tcc?ref=53fdb339085978c4cf051feca17e65d3e7de45e7", "patch": "@@ -484,7 +484,15 @@ _GLIBCXX_BEGIN_NAMESPACE(tr1)\n \t    _M_x[__i][__n - 1] = __mod<_UInt32Type, 1, 0,\n \t      _Shift<_UInt32Type, __w % 32>::__value>(__gen());\n \t  }\n-\t_M_carry = (_M_x[long_lag - 1][0] == 0) ? 1 : 0;\n+\n+\t_M_carry = 1;\n+\tfor (int __j = 0; __j < __n; ++__j)\n+\t  if (_M_x[long_lag - 1][__j] != 0)\n+\t    {\n+\t      _M_carry = 0;\n+\t      break;\n+\t    }\n+\n \t_M_p = 0;\n \n \t// Initialize the array holding the negative powers of 2."}, {"sha": "b87871d48d394237e331cb8e29b150114346054c", "filename": "libstdc++-v3/testsuite/tr1/5_numerical_facilities/random/subtract_with_carry/cons/default.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53fdb339085978c4cf051feca17e65d3e7de45e7/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F5_numerical_facilities%2Frandom%2Fsubtract_with_carry%2Fcons%2Fdefault.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53fdb339085978c4cf051feca17e65d3e7de45e7/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F5_numerical_facilities%2Frandom%2Fsubtract_with_carry%2Fcons%2Fdefault.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F5_numerical_facilities%2Frandom%2Fsubtract_with_carry%2Fcons%2Fdefault.cc?ref=53fdb339085978c4cf051feca17e65d3e7de45e7", "patch": "@@ -32,7 +32,7 @@ test01()\n \n   subtract_with_carry<unsigned long, (1UL << 24), 10, 24> x;\n   VERIFY( x.min() == 0 );\n-  VERIFY( x.max() == ((1<<24)-1) );\n+  VERIFY( x.max() == ((1UL << 24) - 1) );\n   VERIFY( x() == 15039276 );\n }\n "}, {"sha": "509144563c3a29bf8d9d2e84d44b89a6619792c9", "filename": "libstdc++-v3/testsuite/tr1/5_numerical_facilities/random/subtract_with_carry/cons/gen1.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53fdb339085978c4cf051feca17e65d3e7de45e7/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F5_numerical_facilities%2Frandom%2Fsubtract_with_carry%2Fcons%2Fgen1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53fdb339085978c4cf051feca17e65d3e7de45e7/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F5_numerical_facilities%2Frandom%2Fsubtract_with_carry%2Fcons%2Fgen1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F5_numerical_facilities%2Frandom%2Fsubtract_with_carry%2Fcons%2Fgen1.cc?ref=53fdb339085978c4cf051feca17e65d3e7de45e7", "patch": "@@ -40,7 +40,7 @@ test01()\n \n   subtract_with_carry<unsigned long, (1UL << 24), 10, 24> x(gen);\n   VERIFY( x.min() == 0 );\n-  VERIFY( x.max() == ((1 << 24) - 1) );\n+  VERIFY( x.max() == ((1UL << 24) - 1) );\n }\n \n int main()"}]}