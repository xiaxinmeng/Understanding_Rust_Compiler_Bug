{"sha": "4fe56329e05e3e77c424929fdb102f2df075f74a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGZlNTYzMjllMDVlM2U3N2M0MjQ5MjlmZGIxMDJmMmRmMDc1Zjc0YQ==", "commit": {"author": {"name": "Yannick Moy", "email": "moy@adacore.com", "date": "2019-09-19T08:14:13Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2019-09-19T08:14:13Z"}, "message": "[Ada] Use declared type for deciding on SPARK pointer rules\n\nA constant of pointer type is considered as mutable in SPARK, according\nto SPARK RM 3.10, but this should be based on the declared type of the\nconstant instead of its underlying type.\n\nThere is no impact on compilation hence no test.\n\n2019-09-19  Yannick Moy  <moy@adacore.com>\n\ngcc/ada/\n\n\t* sem_prag.adb (Analyze_Depends_In_Decl_Part): Simplify previous\n\ttest.\n\nFrom-SVN: r275950", "tree": {"sha": "55142059c873bd5820d3d5044dc773e62e0a1fa3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/55142059c873bd5820d3d5044dc773e62e0a1fa3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4fe56329e05e3e77c424929fdb102f2df075f74a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fe56329e05e3e77c424929fdb102f2df075f74a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4fe56329e05e3e77c424929fdb102f2df075f74a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fe56329e05e3e77c424929fdb102f2df075f74a/comments", "author": {"login": "yannickmoy", "id": 859440, "node_id": "MDQ6VXNlcjg1OTQ0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/859440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yannickmoy", "html_url": "https://github.com/yannickmoy", "followers_url": "https://api.github.com/users/yannickmoy/followers", "following_url": "https://api.github.com/users/yannickmoy/following{/other_user}", "gists_url": "https://api.github.com/users/yannickmoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/yannickmoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yannickmoy/subscriptions", "organizations_url": "https://api.github.com/users/yannickmoy/orgs", "repos_url": "https://api.github.com/users/yannickmoy/repos", "events_url": "https://api.github.com/users/yannickmoy/events{/privacy}", "received_events_url": "https://api.github.com/users/yannickmoy/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "46fa6b050e81504aab992d58b693aa81dd45eeb9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46fa6b050e81504aab992d58b693aa81dd45eeb9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46fa6b050e81504aab992d58b693aa81dd45eeb9"}], "stats": {"total": 13, "additions": 6, "deletions": 7}, "files": [{"sha": "54e48af3b1dc3de6c065deee246c7f5d23b3a308", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fe56329e05e3e77c424929fdb102f2df075f74a/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fe56329e05e3e77c424929fdb102f2df075f74a/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=4fe56329e05e3e77c424929fdb102f2df075f74a", "patch": "@@ -1,3 +1,8 @@\n+2019-09-19  Yannick Moy  <moy@adacore.com>\n+\n+\t* sem_prag.adb (Analyze_Depends_In_Decl_Part): Simplify previous\n+\ttest.\n+\n 2019-09-19  Ed Schonberg  <schonberg@adacore.com>\n \n \t* sem_ch7.adb (Install_Parent_Private_Declarations): If a"}, {"sha": "b54604d5426a2be2a94d3442e1ee1b4d65ea8f99", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4fe56329e05e3e77c424929fdb102f2df075f74a/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4fe56329e05e3e77c424929fdb102f2df075f74a/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=4fe56329e05e3e77c424929fdb102f2df075f74a", "patch": "@@ -1272,13 +1272,7 @@ package body Sem_Prag is\n             if Ekind_In (Item_Id, E_Constant,\n                                   E_Generic_In_Parameter,\n                                   E_In_Parameter)\n-\n-              --  If Item_Id is of a private type whose completion has not been\n-              --  analyzed yet, its Underlying_Type is empty and we handle it\n-              --  as a constant.\n-\n-              and then Present (Underlying_Type (Etype (Item_Id)))\n-              and then Is_Access_Type (Underlying_Type (Etype (Item_Id)))\n+              and then Is_Access_Type (Etype (Item_Id))\n             then\n                Adjusted_Kind := E_Variable;\n             end if;"}]}