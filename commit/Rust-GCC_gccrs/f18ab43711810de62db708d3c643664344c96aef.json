{"sha": "f18ab43711810de62db708d3c643664344c96aef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjE4YWI0MzcxMTgxMGRlNjJkYjcwOGQzYzY0MzY2NDM0NGM5NmFlZg==", "commit": {"author": {"name": "David Mosberger", "email": "davidm@hpl.hp.com", "date": "2003-03-27T18:13:59Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2003-03-27T18:13:59Z"}, "message": "unwind-libunwind.c (uw_frame_state_for): Adjust for libunwind v0.9 API change...\n\n        * unwind-libunwind.c (uw_frame_state_for): Adjust for libunwind\n        v0.9 API change: replace read of UNW_REG_HANDLER with\n        unw_get_proc_info().\n        (_Unwind_GetLanguageSpecificData): Replace read of UNW_REG_LSDA\n        with unw_get_proc_info().\n        (_Unwind_GetRegionStart): Replace UNW_REG_PROC_START with\n        unw_get_proc_info().\n\nFrom-SVN: r64927", "tree": {"sha": "a0fc8074588a26af6b31dc681446f6de94c21748", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a0fc8074588a26af6b31dc681446f6de94c21748"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f18ab43711810de62db708d3c643664344c96aef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f18ab43711810de62db708d3c643664344c96aef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f18ab43711810de62db708d3c643664344c96aef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f18ab43711810de62db708d3c643664344c96aef/comments", "author": null, "committer": null, "parents": [{"sha": "eaff4b90a0d00119fdc97e9eed6617fe9b2f2a65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eaff4b90a0d00119fdc97e9eed6617fe9b2f2a65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eaff4b90a0d00119fdc97e9eed6617fe9b2f2a65"}], "stats": {"total": 28, "additions": 19, "deletions": 9}, "files": [{"sha": "76947581cefd9b6fc8216609bb48cd0e6931c037", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f18ab43711810de62db708d3c643664344c96aef/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f18ab43711810de62db708d3c643664344c96aef/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f18ab43711810de62db708d3c643664344c96aef", "patch": "@@ -1,3 +1,13 @@\n+2003-03-27  David Mosberger  <davidm@hpl.hp.com>\n+\n+        * unwind-libunwind.c (uw_frame_state_for): Adjust for libunwind\n+        v0.9 API change: replace read of UNW_REG_HANDLER with\n+        unw_get_proc_info().\n+        (_Unwind_GetLanguageSpecificData): Replace read of UNW_REG_LSDA\n+        with unw_get_proc_info().\n+        (_Unwind_GetRegionStart): Replace UNW_REG_PROC_START with\n+        unw_get_proc_info().\n+\n 2003-03-27  Vladimir Makarov  <vmakarov@redhat.com>\n \n \t* config/rs6000/8540.md: Use presence_set instead of absence_set."}, {"sha": "8ed052453506c5884d6596466214346ad987015a", "filename": "gcc/unwind-libunwind.c", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f18ab43711810de62db708d3c643664344c96aef/gcc%2Funwind-libunwind.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f18ab43711810de62db708d3c643664344c96aef/gcc%2Funwind-libunwind.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funwind-libunwind.c?ref=f18ab43711810de62db708d3c643664344c96aef", "patch": "@@ -51,13 +51,13 @@ struct _Unwind_Context {\n static _Unwind_Reason_Code\n uw_frame_state_for (struct _Unwind_Context *context, _Unwind_FrameState *fs)\n {\n-  unw_word_t handler;\n+  unw_proc_info_t pi;\n \n   if (unw_step (&context->cursor) <= 0)\n     return _URC_END_OF_STACK;\n \n-  unw_get_reg (&context->cursor, UNW_REG_HANDLER, &handler);\n-  fs->personality = (_Unwind_Personality_Fn) handler;\n+  unw_get_proc_info(&context->cursor, &pi);\n+  fs->personality = (_Unwind_Personality_Fn) pi.handler;\n \n   return _URC_NO_REASON;\n }\n@@ -137,19 +137,19 @@ _Unwind_SetIP (struct _Unwind_Context *context, _Unwind_Ptr val)\n void *\n _Unwind_GetLanguageSpecificData (struct _Unwind_Context *context)\n {\n-  unw_word_t ret;\n+  unw_proc_info_t pi;\n \n-  unw_get_reg (&context->cursor, UNW_REG_LSDA, &ret);\n-  return (void *) ret;\n+  unw_get_proc_info(&context->cursor, &pi);\n+  return (void *) pi.lsda;\n }\n \n _Unwind_Ptr\n _Unwind_GetRegionStart (struct _Unwind_Context *context)\n {\n-  unw_word_t ret;\n+  unw_proc_info_t pi;\n \n-  unw_get_reg (&context->cursor, UNW_REG_PROC_START, &ret);\n-  return (_Unwind_Ptr) ret;\n+  unw_get_proc_info(&context->cursor, &pi);\n+  return (_Unwind_Ptr) pi.start_ip;\n }\n \n #include \"unwind.inc\""}]}