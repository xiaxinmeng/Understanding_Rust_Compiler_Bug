{"sha": "b7ca376ae90189fa089aef474e2d0bde0d9aca87", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjdjYTM3NmFlOTAxODlmYTA4OWFlZjQ3NGUyZDBiZGUwZDlhY2E4Nw==", "commit": {"author": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2019-03-25T11:48:36Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2019-03-25T11:48:36Z"}, "message": "re PR libfortran/79540 (FAIL: gfortran.dg/fmt_fw_d.f90   -O0  execution test)\n\n\tPR libgfortran/79540\n\t* io/write_float.def (build_float_string): Don't copy digits when\n\tndigits is negative.\n\nFrom-SVN: r269911", "tree": {"sha": "2c5faa78b99ca3964c50ff3d1eaeb2d9c166c790", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2c5faa78b99ca3964c50ff3d1eaeb2d9c166c790"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b7ca376ae90189fa089aef474e2d0bde0d9aca87", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7ca376ae90189fa089aef474e2d0bde0d9aca87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7ca376ae90189fa089aef474e2d0bde0d9aca87", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7ca376ae90189fa089aef474e2d0bde0d9aca87/comments", "author": null, "committer": null, "parents": [{"sha": "a260f369382876ca5575316b9a761057225e2ff0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a260f369382876ca5575316b9a761057225e2ff0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a260f369382876ca5575316b9a761057225e2ff0"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "7e741b3b502353293ae144b8914a1c61dbd879a9", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7ca376ae90189fa089aef474e2d0bde0d9aca87/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7ca376ae90189fa089aef474e2d0bde0d9aca87/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=b7ca376ae90189fa089aef474e2d0bde0d9aca87", "patch": "@@ -1,3 +1,9 @@\n+2019-03-25  John David Anglin  <danglin@gcc.gnu.org>\n+\n+\tPR libgfortran/79540\n+\t* io/write_float.def (build_float_string): Don't copy digits when\n+\tndigits is negative.\n+\n 2019-03-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR libgfortran/89593"}, {"sha": "c63db4e77ef6076a7f5b9721431642d4a8b5ebb8", "filename": "libgfortran/io/write_float.def", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7ca376ae90189fa089aef474e2d0bde0d9aca87/libgfortran%2Fio%2Fwrite_float.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7ca376ae90189fa089aef474e2d0bde0d9aca87/libgfortran%2Fio%2Fwrite_float.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fwrite_float.def?ref=b7ca376ae90189fa089aef474e2d0bde0d9aca87", "patch": "@@ -620,14 +620,15 @@ build_float_string (st_parameter_dt *dtp, const fnode *f, char *buffer,\n     }\n \n   /* Set digits after the decimal point, padding with zeros.  */\n-  if (nafter > 0)\n+  if (ndigits >= 0 && nafter > 0)\n     {\n       if (nafter > ndigits)\n \ti = ndigits;\n       else\n \ti = nafter;\n \n-      memcpy (put, digits, i);\n+      if (i > 0)\n+\tmemcpy (put, digits, i);\n       while (i < nafter)\n \tput[i++] = '0';\n "}]}