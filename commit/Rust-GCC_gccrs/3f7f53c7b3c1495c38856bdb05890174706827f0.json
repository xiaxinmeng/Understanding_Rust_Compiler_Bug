{"sha": "3f7f53c7b3c1495c38856bdb05890174706827f0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2Y3ZjUzYzdiM2MxNDk1YzM4ODU2YmRiMDU4OTAxNzQ3MDY4MjdmMA==", "commit": {"author": {"name": "Steve Ellcey", "email": "sje@cup.hp.com", "date": "2006-02-02T00:13:39Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2006-02-02T00:13:39Z"}, "message": "re PR middle-end/24901 (Misaligned data in fold_checksum_tree (--enable-checking=all))\n\n\tPR middle-end/24901\n\t* fold-const.c (fold_checksum_tree): Change type of buf.\n\nFrom-SVN: r110487", "tree": {"sha": "a0b19fe3d46d2575cdc15be4eee119ab20f05f34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a0b19fe3d46d2575cdc15be4eee119ab20f05f34"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3f7f53c7b3c1495c38856bdb05890174706827f0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f7f53c7b3c1495c38856bdb05890174706827f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f7f53c7b3c1495c38856bdb05890174706827f0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f7f53c7b3c1495c38856bdb05890174706827f0/comments", "author": null, "committer": null, "parents": [{"sha": "65b4c3370fbfb06b33e313763afdf28715402bfa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65b4c3370fbfb06b33e313763afdf28715402bfa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65b4c3370fbfb06b33e313763afdf28715402bfa"}], "stats": {"total": 15, "additions": 10, "deletions": 5}, "files": [{"sha": "a4d94fe1d296132e8da12de34a0f2cfb18970658", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f7f53c7b3c1495c38856bdb05890174706827f0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f7f53c7b3c1495c38856bdb05890174706827f0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3f7f53c7b3c1495c38856bdb05890174706827f0", "patch": "@@ -1,3 +1,8 @@\n+2006-02-01  Steve Ellcey  <sje@cup.hp.com>\n+\n+\tPR middle-end/24901\n+\t* fold-const.c (fold_checksum_tree): Change type of buf.\n+\n 2006-02-01  Bernd Schmidt  <bernd.schmidt@analog.com>\n \n \t* reload.c (push_secondary_reload): Initialize t_icode."}, {"sha": "242a0ff54bb027ebf1d4fef5ee95dacbb6f4f820", "filename": "gcc/fold-const.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3f7f53c7b3c1495c38856bdb05890174706827f0/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3f7f53c7b3c1495c38856bdb05890174706827f0/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=3f7f53c7b3c1495c38856bdb05890174706827f0", "patch": "@@ -10476,7 +10476,7 @@ fold_checksum_tree (tree expr, struct md5_ctx *ctx, htab_t ht)\n {\n   void **slot;\n   enum tree_code code;\n-  char buf[sizeof (struct tree_function_decl)];\n+  struct tree_function_decl buf;\n   int i, len;\n   \n recursive_label:\n@@ -10495,8 +10495,8 @@ fold_checksum_tree (tree expr, struct md5_ctx *ctx, htab_t ht)\n       && DECL_ASSEMBLER_NAME_SET_P (expr))\n     {\n       /* Allow DECL_ASSEMBLER_NAME to be modified.  */\n-      memcpy (buf, expr, tree_size (expr));\n-      expr = (tree) buf;\n+      memcpy ((char *) &buf, expr, tree_size (expr));\n+      expr = (tree) &buf;\n       SET_DECL_ASSEMBLER_NAME (expr, NULL);\n     }\n   else if (TREE_CODE_CLASS (code) == tcc_type\n@@ -10505,8 +10505,8 @@ fold_checksum_tree (tree expr, struct md5_ctx *ctx, htab_t ht)\n \t       || TYPE_CONTAINS_PLACEHOLDER_INTERNAL (expr)))\n     {\n       /* Allow these fields to be modified.  */\n-      memcpy (buf, expr, tree_size (expr));\n-      expr = (tree) buf;\n+      memcpy ((char *) &buf, expr, tree_size (expr));\n+      expr = (tree) &buf;\n       TYPE_CONTAINS_PLACEHOLDER_INTERNAL (expr) = 0;\n       TYPE_POINTER_TO (expr) = NULL;\n       TYPE_REFERENCE_TO (expr) = NULL;"}]}