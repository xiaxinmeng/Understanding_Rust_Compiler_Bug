{"sha": "4ed054aee9a315bedf05697c3ef3c37043d12fad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGVkMDU0YWVlOWEzMTViZWRmMDU2OTdjM2VmM2MzNzA0M2QxMmZhZA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-09-15T23:12:03Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-09-15T23:12:03Z"}, "message": "compiler: Report init dependency errors with builtin functions.\n\n    \n    Fixes golang/go#12319.\n    \n    Reviewed-on: https://go-review.googlesource.com/13931\n\nFrom-SVN: r227813", "tree": {"sha": "f7c33e6474f324106342885a4cadf4647f3fdc54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f7c33e6474f324106342885a4cadf4647f3fdc54"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4ed054aee9a315bedf05697c3ef3c37043d12fad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ed054aee9a315bedf05697c3ef3c37043d12fad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ed054aee9a315bedf05697c3ef3c37043d12fad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ed054aee9a315bedf05697c3ef3c37043d12fad/comments", "author": null, "committer": null, "parents": [{"sha": "a2bf11d16a01ced5d2bd0500a6896627b7bed076", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2bf11d16a01ced5d2bd0500a6896627b7bed076", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2bf11d16a01ced5d2bd0500a6896627b7bed076"}], "stats": {"total": 14, "additions": 8, "deletions": 6}, "files": [{"sha": "bcaabac4b9cf85aa85ec26f5eef9a028a36ea836", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ed054aee9a315bedf05697c3ef3c37043d12fad/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ed054aee9a315bedf05697c3ef3c37043d12fad/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=4ed054aee9a315bedf05697c3ef3c37043d12fad", "patch": "@@ -1,4 +1,4 @@\n-eac8b31fec761c8da0606a70ae0547ff0b12e8db\n+01a574c1b2bb244be764b6a18aab980ca0aef43c\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "1c329b83050c5d52c494f401852f2f89791a2cc2", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ed054aee9a315bedf05697c3ef3c37043d12fad/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ed054aee9a315bedf05697c3ef3c37043d12fad/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=4ed054aee9a315bedf05697c3ef3c37043d12fad", "patch": "@@ -6885,11 +6885,6 @@ Builtin_call_expression::do_flatten(Gogo*, Named_object*,\n                                     Statement_inserter* inserter)\n {\n   Location loc = this->location();\n-  if (this->is_erroneous_call())\n-    {\n-      go_assert(saw_errors());\n-      return Expression::make_error(loc);\n-    }\n \n   switch (this->code_)\n     {\n@@ -8064,6 +8059,13 @@ Builtin_call_expression::do_get_backend(Translate_context* context)\n {\n   Gogo* gogo = context->gogo();\n   Location location = this->location();\n+\n+  if (this->is_erroneous_call())\n+    {\n+      go_assert(saw_errors());\n+      return gogo->backend()->error_expression();\n+    }\n+\n   switch (this->code_)\n     {\n     case BUILTIN_INVALID:"}]}