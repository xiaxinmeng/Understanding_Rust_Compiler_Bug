{"sha": "3d489bc712a95777f917e16ae38a8e78935d6f11", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2Q0ODliYzcxMmE5NTc3N2Y5MTdlMTZhZTM4YThlNzg5MzVkNmYxMQ==", "commit": {"author": {"name": "Maxim Kuvyrkov", "email": "maxim@codesourcery.com", "date": "2010-07-27T19:36:31Z"}, "committer": {"name": "Maxim Kuvyrkov", "email": "mkuvyrkov@gcc.gnu.org", "date": "2010-07-27T19:36:31Z"}, "message": "* gcse.c (hoist_code): Generate new pseudo for every new set insn.\n\nFrom-SVN: r162591", "tree": {"sha": "7ca50581c77bd37d8f8718282819457b794be6dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7ca50581c77bd37d8f8718282819457b794be6dc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3d489bc712a95777f917e16ae38a8e78935d6f11", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d489bc712a95777f917e16ae38a8e78935d6f11", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d489bc712a95777f917e16ae38a8e78935d6f11", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d489bc712a95777f917e16ae38a8e78935d6f11/comments", "author": null, "committer": null, "parents": [{"sha": "ce4c0015a16e1126844f5feaa57bcdf0aebdcb30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce4c0015a16e1126844f5feaa57bcdf0aebdcb30", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce4c0015a16e1126844f5feaa57bcdf0aebdcb30"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "36c9a1b571ec71e487b8450820ad31e1966d43d7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d489bc712a95777f917e16ae38a8e78935d6f11/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d489bc712a95777f917e16ae38a8e78935d6f11/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3d489bc712a95777f917e16ae38a8e78935d6f11", "patch": "@@ -1,3 +1,7 @@\n+2010-07-27  Maxim Kuvyrkov  <maxim@codesourcery.com>\n+\n+\t* gcse.c (hoist_code): Generate new pseudo for every new set insn.\n+\n 2010-07-27  Maxim Kuvyrkov  <maxim@codesourcery.com>\n \n \tPR rtl-optimization/40956"}, {"sha": "812cc0a888d7c93149f6aebe63961bd476ea207c", "filename": "gcc/gcse.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d489bc712a95777f917e16ae38a8e78935d6f11/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d489bc712a95777f917e16ae38a8e78935d6f11/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=3d489bc712a95777f917e16ae38a8e78935d6f11", "patch": "@@ -4581,8 +4581,12 @@ hoist_code (void)\n \n \t\t      /* Create a pseudo-reg to store the result of reaching\n \t\t\t expressions into.  Get the mode for the new pseudo\n-\t\t\t from the mode of the original destination pseudo.  */\n-\t\t      if (expr->reaching_reg == NULL)\n+\t\t\t from the mode of the original destination pseudo.\n+\n+\t\t\t It is important to use new pseudos whenever we\n+\t\t\t emit a set.  This will allow reload to use\n+\t\t\t rematerialization for such registers.  */\n+\t\t      if (!insn_inserted_p)\n \t\t\texpr->reaching_reg\n \t\t\t  = gen_reg_rtx_and_attrs (SET_DEST (set));\n "}]}