{"sha": "aefa45d35ddc22d8ab2a720874854d2c07882027", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWVmYTQ1ZDM1ZGRjMjJkOGFiMmE3MjA4NzQ4NTRkMmMwNzg4MjAyNw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "2000-10-08T23:20:18Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-10-08T23:20:18Z"}, "message": "Makefile.in (libgcc.mk): Pass SHLIB_EXT, not SHLIB_LIBS.\n\n        * Makefile.in (libgcc.mk): Pass SHLIB_EXT, not SHLIB_LIBS.\n        * configure.in (sparc*-*-solaris*): Use t-slibgcc{,-sld}.\n        * mklibgcc.in: Consider SHLIB_LINK the entire shlib build command.\n        Use SHLIB_EXT.\n\n        * config/t-linux (SHLIB_EXT): New.\n        (SHLIB_LINK): Use the entire build command, with substitutions.\n        (SHLIB_LIBS): Remove.\n        * config/alpha/t-osf4: Likewise.\n        * config/mips/t-iris6: Likewise.\n        * config/sparc/t-sol2: Likewise, but move shlib stuff...\n        * config/sparc/t-slibgcc-sld: ...here.\n        * config/sparc/t-slibgcc: New file.\n\nFrom-SVN: r36792", "tree": {"sha": "d14e895aa0f643740cf9f9a9fc9ac99f2e746d48", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d14e895aa0f643740cf9f9a9fc9ac99f2e746d48"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aefa45d35ddc22d8ab2a720874854d2c07882027", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aefa45d35ddc22d8ab2a720874854d2c07882027", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aefa45d35ddc22d8ab2a720874854d2c07882027", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aefa45d35ddc22d8ab2a720874854d2c07882027/comments", "author": null, "committer": null, "parents": [{"sha": "b15ad712574a975b0ba2a333bff74db3f19c17d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b15ad712574a975b0ba2a333bff74db3f19c17d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b15ad712574a975b0ba2a333bff74db3f19c17d4"}], "stats": {"total": 306, "additions": 185, "deletions": 121}, "files": [{"sha": "9ee1ee39e17e6ff1ce6589fd5758c683ad3a3168", "filename": "gcc/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=aefa45d35ddc22d8ab2a720874854d2c07882027", "patch": "@@ -1,3 +1,19 @@\n+2000-10-08  Richard Henderson  <rth@cygnus.com>\n+\n+\t* Makefile.in (libgcc.mk): Pass SHLIB_EXT, not SHLIB_LIBS.\n+\t* configure.in (sparc*-*-solaris*): Use t-slibgcc{,-sld}.\n+\t* mklibgcc.in: Consider SHLIB_LINK the entire shlib build command.\n+\tUse SHLIB_EXT.\n+\n+\t* config/t-linux (SHLIB_EXT): New.\n+\t(SHLIB_LINK): Use the entire build command, with substitutions.\n+\t(SHLIB_LIBS): Remove.\n+\t* config/alpha/t-osf4: Likewise.\n+\t* config/mips/t-iris6: Likewise.\n+\t* config/sparc/t-sol2: Likewise, but move shlib stuff...\n+\t* config/sparc/t-slibgcc-sld: ...here.\n+\t* config/sparc/t-slibgcc: New file.\n+\n 2000-10-08  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* tm.texi (INTMAX_TYPE, UINTMAX_TYPE): Define."}, {"sha": "5761af7f3bb618c088296e11f46b0fcb08e618db", "filename": "gcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=aefa45d35ddc22d8ab2a720874854d2c07882027", "patch": "@@ -980,7 +980,7 @@ libgcc.mk: config.status Makefile mklibgcc $(LIB2ADD) xgcc$(exeext)\n \tMULTILIBS=`$(GCC_FOR_TARGET) --print-multi-lib` \\\n \tEXTRA_MULTILIB_PARTS='$(EXTRA_MULTILIB_PARTS)' \\\n \tSHLIB_LINK='$(SHLIB_LINK)' \\\n-\tSHLIB_LIBS='$(SHLIB_LIBS)' \\\n+\tSHLIB_EXT='$(SHLIB_EXT)' \\\n \tSHLIB_MULTILIB='$(SHLIB_MULTILIB)' \\\n \tSHLIB_MKMAP='$(SHLIB_MKMAP)' \\\n \tSHLIB_MAPFILES='$(SHLIB_MAPFILES)' \\"}, {"sha": "3bc97bab4935cff9fc6b8dae8c0a0e931a6cdbe1", "filename": "gcc/config/alpha/t-osf4", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfig%2Falpha%2Ft-osf4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfig%2Falpha%2Ft-osf4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Ft-osf4?ref=aefa45d35ddc22d8ab2a720874854d2c07882027", "patch": "@@ -5,6 +5,7 @@ CRTSTUFF_T_CFLAGS_S = -fPIC\n TARGET_LIBGCC2_CFLAGS = -fPIC\n \n # Build a shared libgcc library.\n+SHLIB_EXT = .so\n SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n-\t-Wl,-msym -Wl,-set_version,gcc.3 -Wl,-soname,@shlib_base_name@.so.0\n-SHLIB_LIBS = -lc\n+\t-Wl,-msym -Wl,-set_version,gcc.0 -Wl,-soname,@shlib_base_name@.so.0 \\\n+\t-o @shlib_base_name@.so @multilib_flags@ @shlib_objs@ -lc"}, {"sha": "879c841eef1d48a328307d513d5d043333e8b4eb", "filename": "gcc/config/mips/t-iris6", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfig%2Fmips%2Ft-iris6", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfig%2Fmips%2Ft-iris6", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-iris6?ref=aefa45d35ddc22d8ab2a720874854d2c07882027", "patch": "@@ -20,12 +20,13 @@ EXTRA_MULTILIB_PARTS=crtbegin.o crtend.o\n CRTSTUFF_T_CFLAGS=-g1\n \n # Build a shared libgcc library.\n+SHLIB_EXT = .so\n SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n-        -Wl,-soname,@shlib_base_name@.so.0\n+        -Wl,-soname,@shlib_base_name@.so.0 \\\n+\t-o @shlib_base_name@.so @multilib_flags@ @shlib_objs@ -lc\n # ??? Irix 6.5 seems to eat the option fine (if we somehow remove the\n # -hidden_symbol option, which is documented to be ignored in conjunction\n # with -exports_file), but fails to actually hide any symbols.\n-# -Wl,-exports_file,libgcc.map\n-SHLIB_LIBS = -lc\n+# -Wl,-exports_file,@shlib_map_file@\n SHLIB_MKMAP = $(srcdir)/mkmap-flat.awk\n SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver "}, {"sha": "ffeebcbcdce1ec379ab96aa6fd40b8ea6b4e9f82", "filename": "gcc/config/sparc/t-slibgcc", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfig%2Fsparc%2Ft-slibgcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfig%2Fsparc%2Ft-slibgcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ft-slibgcc?ref=aefa45d35ddc22d8ab2a720874854d2c07882027", "patch": "@@ -0,0 +1,9 @@\n+# Build a shared libgcc library with the GNU linker.\n+\n+SHLIB_EXT = .so\n+SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n+\t-Wl,--soname=@shlib_base_name@.so.0 \\\n+\t-Wl,--version-script=@shlib_map_file@ \\\n+\t-o @shlib_base_name@.so @multilib_flags@ @shlib_objs@ -lc\n+SHLIB_MKMAP = $(srcdir)/mkmap-symver.awk\n+SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver"}, {"sha": "0c182ab19bb8667544f64ef6328565f76eee26bb", "filename": "gcc/config/sparc/t-slibgcc-sld", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfig%2Fsparc%2Ft-slibgcc-sld", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfig%2Fsparc%2Ft-slibgcc-sld", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ft-slibgcc-sld?ref=aefa45d35ddc22d8ab2a720874854d2c07882027", "patch": "@@ -0,0 +1,9 @@\n+# Build a shared libgcc library with the Solaris linker.\n+\n+SHLIB_EXT = .so\n+SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n+\t-Wl,-h,@shlib_base_name@.so.0 -Wl,-z,text -Wl,-z,defs \\\n+\t-Wl,-M,@shlib_map_file@ -o @shlib_base_name@.so \\\n+\t@multilib_flags@ @shlib_objs@ -lc\n+SHLIB_MKMAP = $(srcdir)/mkmap-symver.awk\n+SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver"}, {"sha": "a9b6ee1479392a71dc01cbe72080da63dc5b2ad4", "filename": "gcc/config/sparc/t-sol2", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfig%2Fsparc%2Ft-sol2", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfig%2Fsparc%2Ft-sol2", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ft-sol2?ref=aefa45d35ddc22d8ab2a720874854d2c07882027", "patch": "@@ -28,11 +28,3 @@ $(T)gcrt1.o: $(srcdir)/config/sparc/sol2-c1.asm $(GCC_PASSES)\n \n CRTSTUFF_T_CFLAGS = -fPIC\n TARGET_LIBGCC2_CFLAGS = -fPIC\n-\n-# Build a shared libgcc library.\n-SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n-\t-Wl,-h,@shlib_base_name@.so.0 -Wl,-z,text -Wl,-z,defs \\\n-\t-Wl,-M,libgcc.map\n-SHLIB_LIBS = -lc\n-SHLIB_MKMAP = $(srcdir)/mkmap-symver.awk\n-SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver"}, {"sha": "b66cf56e663d3afdccdd4c58227544c56ad41e2b", "filename": "gcc/config/t-linux", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfig%2Ft-linux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfig%2Ft-linux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-linux?ref=aefa45d35ddc22d8ab2a720874854d2c07882027", "patch": "@@ -9,10 +9,11 @@ CRTSTUFF_T_CFLAGS_S = -fPIC\n # Compile libgcc2.a with pic.\n TARGET_LIBGCC2_CFLAGS = -fPIC\n # Build a shared libgcc library.\n+SHLIB_EXT = .so\n SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n \t-Wl,--soname=@shlib_base_name@.so.0 \\\n-\t-Wl,--version-script=libgcc.map\n-SHLIB_LIBS = -lc\n+\t-Wl,--version-script=@shlib_map_file@ \\\n+\t-o @shlib_base_name@.so @multilib_flags@ @shlib_objs@ -lc\n SHLIB_MKMAP = $(srcdir)/mkmap-symver.awk\n SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver $(srcdir)/config/libgcc-glibc.ver\n "}, {"sha": "40c5880c3b097c6a9fce9ee225ee15ec9589bd0d", "filename": "gcc/configure", "status": "modified", "additions": 107, "deletions": 92, "changes": 199, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=aefa45d35ddc22d8ab2a720874854d2c07882027", "patch": "@@ -6493,6 +6493,11 @@ for machine in $build $host $target; do\n \t\txm_file=\"sparc/xm-sysv4-64.h sparc/xm-sol2.h\"\n \t\txm_defines=\"USG POSIX\"\n \t\ttmake_file=\"sparc/t-sol2 sparc/t-sol2-64\"\n+\t\tif test x$gnu_ld = xyes; then\n+\t\t\ttmake_file=\"$tmake_file sparc/t-slibgcc\"\n+\t\telse\n+\t\t\ttmake_file=\"$tmake_file sparc/t-slibgcc-sld\"\n+\t\tfi\n \t\txmake_file=sparc/x-sysv4\n \t\textra_parts=\"crt1.o crti.o crtn.o gcrt1.o crtbegin.o crtend.o\"\n \t\tfloat_format=none\n@@ -6515,6 +6520,11 @@ for machine in $build $host $target; do\n                 xm_defines=\"USG POSIX\"\n                 tm_file=\"sparc/sol2.h sparc/hal.h\"\n                 tmake_file=\"sparc/t-halos sparc/t-sol2\"\n+\t\tif test x$gnu_ld = xyes; then\n+\t\t\ttmake_file=\"$tmake_file sparc/t-slibgcc\"\n+\t\telse\n+\t\t\ttmake_file=\"$tmake_file sparc/t-slibgcc-sld\"\n+\t\tfi\n                 xmake_file=sparc/x-sysv4\n                 extra_parts=\"crt1.o crti.o crtn.o gmon.o crtbegin.o crtend.o\"\n                 case $machine in\n@@ -6537,6 +6547,11 @@ for machine in $build $host $target; do\n \t\txm_file=\"sparc/xm-sysv4.h sparc/xm-sol2.h\"\n \t\txm_defines=\"USG POSIX\"\n \t\ttmake_file=sparc/t-sol2\n+\t\tif test x$gnu_ld = xyes; then\n+\t\t\ttmake_file=\"$tmake_file sparc/t-slibgcc\"\n+\t\telse\n+\t\t\ttmake_file=\"$tmake_file sparc/t-slibgcc-sld\"\n+\t\tfi\n \t\txmake_file=sparc/x-sysv4\n \t\textra_parts=\"crt1.o crti.o crtn.o gcrt1.o gmon.o crtbegin.o crtend.o\"\n # At the moment, 32-to-64 cross compilation doesn't work.\n@@ -7185,15 +7200,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:7189: checking for strerror in -lcposix\" >&5\n+echo \"configure:7204: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7197 \"configure\"\n+#line 7212 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7204,7 +7219,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:7208: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7223: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7227,12 +7242,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:7231: checking for working const\" >&5\n+echo \"configure:7246: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7236 \"configure\"\n+#line 7251 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -7281,7 +7296,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7285: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7300: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -7302,12 +7317,12 @@ EOF\n fi\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:7306: checking for off_t\" >&5\n+echo \"configure:7321: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7311 \"configure\"\n+#line 7326 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -7335,12 +7350,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:7339: checking for size_t\" >&5\n+echo \"configure:7354: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7344 \"configure\"\n+#line 7359 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -7370,19 +7385,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7374: checking for working alloca.h\" >&5\n+echo \"configure:7389: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7379 \"configure\"\n+#line 7394 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:7386: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7401: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -7403,12 +7418,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:7407: checking for alloca\" >&5\n+echo \"configure:7422: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7412 \"configure\"\n+#line 7427 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -7436,7 +7451,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:7440: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7455: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -7468,12 +7483,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:7472: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:7487: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7477 \"configure\"\n+#line 7492 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -7498,12 +7513,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7502: checking for $ac_func\" >&5\n+echo \"configure:7517: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7507 \"configure\"\n+#line 7522 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7526,7 +7541,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7530: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7545: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7553,15 +7568,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:7557: checking stack direction for C alloca\" >&5\n+echo \"configure:7572: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7565 \"configure\"\n+#line 7580 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -7580,7 +7595,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:7584: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:7599: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -7607,17 +7622,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7611: checking for $ac_hdr\" >&5\n+echo \"configure:7626: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7616 \"configure\"\n+#line 7631 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7621: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7636: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7647,12 +7662,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7651: checking for $ac_func\" >&5\n+echo \"configure:7666: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7656 \"configure\"\n+#line 7671 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7675,7 +7690,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7679: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7694: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7704,12 +7719,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7708: checking for $ac_func\" >&5\n+echo \"configure:7723: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7713 \"configure\"\n+#line 7728 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7732,7 +7747,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7736: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7751: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7766,19 +7781,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:7770: checking for LC_MESSAGES\" >&5\n+echo \"configure:7785: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7775 \"configure\"\n+#line 7790 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:7782: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7797: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -7799,7 +7814,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7803: checking whether NLS is requested\" >&5\n+echo \"configure:7818: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -7819,7 +7834,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7823: checking whether included gettext is requested\" >&5\n+echo \"configure:7838: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -7838,17 +7853,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7842: checking for libintl.h\" >&5\n+echo \"configure:7857: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7847 \"configure\"\n+#line 7862 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7852: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7867: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7865,19 +7880,19 @@ fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:7869: checking for gettext in libc\" >&5\n+echo \"configure:7884: checking for gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7874 \"configure\"\n+#line 7889 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n int main() {\n return (int) gettext (\"\")\n ; return 0; }\n EOF\n-if { (eval echo configure:7881: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7896: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gettext_libc=yes\n else\n@@ -7893,15 +7908,15 @@ echo \"$ac_t\"\"$gt_cv_func_gettext_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for bindtextdomain in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7897: checking for bindtextdomain in -lintl\" >&5\n+echo \"configure:7912: checking for bindtextdomain in -lintl\" >&5\n ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7905 \"configure\"\n+#line 7920 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7912,7 +7927,7 @@ int main() {\n bindtextdomain()\n ; return 0; }\n EOF\n-if { (eval echo configure:7916: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7931: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7928,20 +7943,20 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7932: checking for gettext in libintl\" >&5\n+echo \"configure:7947: checking for gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   echo $ac_n \"checking for gettext in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7937: checking for gettext in -lintl\" >&5\n+echo \"configure:7952: checking for gettext in -lintl\" >&5\n ac_lib_var=`echo intl'_'gettext | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7945 \"configure\"\n+#line 7960 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7952,7 +7967,7 @@ int main() {\n gettext()\n ; return 0; }\n EOF\n-if { (eval echo configure:7956: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7971: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7991,7 +8006,7 @@ EOF\n \t      # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7995: checking for $ac_word\" >&5\n+echo \"configure:8010: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8025,12 +8040,12 @@ fi\n \t\tfor ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:8029: checking for $ac_func\" >&5\n+echo \"configure:8044: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8034 \"configure\"\n+#line 8049 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -8053,7 +8068,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:8057: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8072: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -8080,7 +8095,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8084: checking for $ac_word\" >&5\n+echo \"configure:8099: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8116,7 +8131,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8120: checking for $ac_word\" >&5\n+echo \"configure:8135: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8148,15 +8163,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 8152 \"configure\"\n+#line 8167 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:8160: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8175: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -8179,7 +8194,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:8183: checking whether catgets can be used\" >&5\n+echo \"configure:8198: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -8192,22 +8207,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:8196: checking for main in -li\" >&5\n+echo \"configure:8211: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 8204 \"configure\"\n+#line 8219 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:8211: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8226: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -8235,12 +8250,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:8239: checking for catgets\" >&5\n+echo \"configure:8254: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8244 \"configure\"\n+#line 8259 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -8263,7 +8278,7 @@ catgets();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:8267: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8282: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -8285,7 +8300,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8289: checking for $ac_word\" >&5\n+echo \"configure:8304: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8321,7 +8336,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8325: checking for $ac_word\" >&5\n+echo \"configure:8340: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8358,7 +8373,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8362: checking for $ac_word\" >&5\n+echo \"configure:8377: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8397,7 +8412,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8401: checking for $ac_word\" >&5\n+echo \"configure:8416: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8455,7 +8470,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8459: checking for $ac_word\" >&5\n+echo \"configure:8474: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8489,7 +8504,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8493: checking for $ac_word\" >&5\n+echo \"configure:8508: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8529,7 +8544,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8533: checking for $ac_word\" >&5\n+echo \"configure:8548: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8624,7 +8639,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:8628: checking for catalogs to be installed\" >&5\n+echo \"configure:8643: checking for catalogs to be installed\" >&5\n        if test \"x$LINGUAS\" = \"x\"; then\n \t LINGUAS=$ALL_LINGUAS\n        else\n@@ -8656,17 +8671,17 @@ echo \"configure:8628: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8660: checking for linux/version.h\" >&5\n+echo \"configure:8675: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8665 \"configure\"\n+#line 8680 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:8670: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:8685: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8741,7 +8756,7 @@ fi\n \n \n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:8745: checking whether windows registry support is requested\" >&5\n+echo \"configure:8760: checking whether windows registry support is requested\" >&5\n if test x$enable_win32_registry != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -8770,7 +8785,7 @@ esac\n \n if test x$enable_win32_registry != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:8774: checking registry key on windows hosts\" >&5\n+echo \"configure:8789: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -8964,7 +8979,7 @@ fi\n \n # Figure out what assembler we will be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:8968: checking what assembler to use\" >&5\n+echo \"configure:8983: checking what assembler to use\" >&5\n gcc_cv_as=\n gcc_cv_gas_major_version=\n gcc_cv_gas_minor_version=\n@@ -9049,7 +9064,7 @@ fi\n \n # Figure out what nm we will be using.\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:9053: checking what nm to use\" >&5\n+echo \"configure:9068: checking what nm to use\" >&5\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n elif test x$host = x$target; then\n@@ -9060,7 +9075,7 @@ echo \"$ac_t\"\"$gcc_cv_nm\" 1>&6\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:9064: checking assembler alignment features\" >&5\n+echo \"configure:9079: checking assembler alignment features\" >&5\n gcc_cv_as_alignment_features=\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n \t# Gas version 2.6 and later support for .balign and .p2align.\n@@ -9108,7 +9123,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:9112: checking assembler subsection support\" >&5\n+echo \"configure:9127: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -9148,7 +9163,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:9152: checking assembler weak support\" >&5\n+echo \"configure:9167: checking assembler weak support\" >&5\n gcc_cv_as_weak=\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 2 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -9171,7 +9186,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:9175: checking assembler hidden support\" >&5\n+echo \"configure:9190: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 10 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -9197,7 +9212,7 @@ echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:9201: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:9216: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -9225,7 +9240,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler supports -relax\"\"... $ac_c\" 1>&6\n-echo \"configure:9229: checking assembler supports -relax\" >&5\n+echo \"configure:9244: checking assembler supports -relax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_relax_opt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -9255,7 +9270,7 @@ EOF\n     case \"$tm_file\" in\n     *64*)\n \techo $ac_n \"checking for 64 bit support in assembler ($gcc_cv_as)\"\"... $ac_c\" 1>&6\n-echo \"configure:9259: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n+echo \"configure:9274: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_flags64'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -9300,7 +9315,7 @@ EOF\n \n     if test \"x$gcc_cv_as_flags64\" != xno; then\n \techo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:9304: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:9319: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -9339,7 +9354,7 @@ EOF\n \n   i[34567]86-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:9343: checking assembler instructions\" >&5\n+echo \"configure:9358: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n       if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -9489,7 +9504,7 @@ fi\n \n # Build a new-libstdc++ system (ie libstdc++-v3)\n echo $ac_n \"checking for libstdc++ to install\"\"... $ac_c\" 1>&6\n-echo \"configure:9493: checking for libstdc++ to install\" >&5\n+echo \"configure:9508: checking for libstdc++ to install\" >&5\n # Check whether --enable-libstdcxx-v3 or --disable-libstdcxx-v3 was given.\n if test \"${enable_libstdcxx_v3+set}\" = set; then\n   enableval=\"$enable_libstdcxx_v3\"\n@@ -9513,7 +9528,7 @@ EOF\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:9517: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:9532: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "ff55d73e53ea0dc569127132b2309bc69aee2d0a", "filename": "gcc/configure.in", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=aefa45d35ddc22d8ab2a720874854d2c07882027", "patch": "@@ -3486,6 +3486,11 @@ changequote([,])dnl\n \t\txm_file=\"sparc/xm-sysv4-64.h sparc/xm-sol2.h\"\n \t\txm_defines=\"USG POSIX\"\n \t\ttmake_file=\"sparc/t-sol2 sparc/t-sol2-64\"\n+\t\tif test x$gnu_ld = xyes; then\n+\t\t\ttmake_file=\"$tmake_file sparc/t-slibgcc\"\n+\t\telse\n+\t\t\ttmake_file=\"$tmake_file sparc/t-slibgcc-sld\"\n+\t\tfi\n \t\txmake_file=sparc/x-sysv4\n \t\textra_parts=\"crt1.o crti.o crtn.o gcrt1.o crtbegin.o crtend.o\"\n \t\tfloat_format=none\n@@ -3508,6 +3513,11 @@ changequote([,])dnl\n                 xm_defines=\"USG POSIX\"\n                 tm_file=\"sparc/sol2.h sparc/hal.h\"\n                 tmake_file=\"sparc/t-halos sparc/t-sol2\"\n+\t\tif test x$gnu_ld = xyes; then\n+\t\t\ttmake_file=\"$tmake_file sparc/t-slibgcc\"\n+\t\telse\n+\t\t\ttmake_file=\"$tmake_file sparc/t-slibgcc-sld\"\n+\t\tfi\n                 xmake_file=sparc/x-sysv4\n                 extra_parts=\"crt1.o crti.o crtn.o gmon.o crtbegin.o crtend.o\"\n                 case $machine in\n@@ -3532,6 +3542,11 @@ changequote([,])dnl\n \t\txm_file=\"sparc/xm-sysv4.h sparc/xm-sol2.h\"\n \t\txm_defines=\"USG POSIX\"\n \t\ttmake_file=sparc/t-sol2\n+\t\tif test x$gnu_ld = xyes; then\n+\t\t\ttmake_file=\"$tmake_file sparc/t-slibgcc\"\n+\t\telse\n+\t\t\ttmake_file=\"$tmake_file sparc/t-slibgcc-sld\"\n+\t\tfi\n \t\txmake_file=sparc/x-sysv4\n \t\textra_parts=\"crt1.o crti.o crtn.o gcrt1.o gmon.o crtbegin.o crtend.o\"\n # At the moment, 32-to-64 cross compilation doesn't work."}, {"sha": "6e7b061946e5bed25a6620b3bd9d1ad30216dd03", "filename": "gcc/mklibgcc.in", "status": "modified", "additions": 18, "deletions": 13, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fmklibgcc.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aefa45d35ddc22d8ab2a720874854d2c07882027/gcc%2Fmklibgcc.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmklibgcc.in?ref=aefa45d35ddc22d8ab2a720874854d2c07882027", "patch": "@@ -23,8 +23,8 @@\n # LIBGCC\n # MULTILIBS\n # EXTRA_MULTILIB_PARTS\n+# SHLIB_EXT\n # SHLIB_LINK\n-# SHLIB_LIBS\n # SHLIB_MULTILIB\n # SHLIB_MKMAP\n # SHLIB_MAPFILES\n@@ -286,12 +286,12 @@ for ml in $MULTILIBS; do\n \n   if [ \"$SHLIB_LINK\" -a \"$SHLIB_MKMAP\" -a -z \"$mapfile\" ]; then\n     mapfile=\"libgcc.map\"\n-    shlib_deps=\"$shlib_deps $mapfile\"\n     echo \"\"\n     echo \"${mapfile}: $SHLIB_MKMAP $SHLIB_MAPFILES $libgcc_objs\"\n     echo '\t{ $(NM_FOR_TARGET) -pg'\" $libgcc_objs; echo %%; cat $SHLIB_MAPFILES; } | \"'$(AWK)'\" -f $SHLIB_MKMAP > \"'tmp-$@'\n     echo '\tmv tmp-$@ $@'\n   fi\n+  shlib_deps=\"$shlib_deps $mapfile\"\n \n   # Depend on EXTRA_MULTILIB_PARTS, since that's where crtbegin/end\n   # usually are put in a true multilib situation.\n@@ -315,13 +315,23 @@ for ml in $MULTILIBS; do\n \tshlib_base_name=libgcc_s_`echo $dir | sed s,/,_,g`\n       fi\n       echo \"\"\n-      echo \"${dir}/${shlib_base_name}.so: $shlib_deps\"\n-      echo \"\t$SHLIB_LINK $flags -o ${shlib_base_name}.so $libgcc_objs $SHLIB_LIBS\" | sed \"s/@shlib_base_name@/$shlib_base_name/g\"\n+      echo \"${dir}/${shlib_base_name}${SHLIB_EXT}: $shlib_deps\"\n+      echo \"\t$SHLIB_LINK\" \\\n+\t | sed -e \"s%@multilib_flags@%$flags%g\" \\\n+\t       -e \"s%@multilib_dir@%$dir%g\" \\\n+\t       -e \"s%@shlib_objs@%$libgcc_objs%g\" \\\n+\t       -e \"s%@shlib_base_name@%$shlib_base_name%g\" \\\n+\t       -e \"s%@shlib_map_file@%$mapfile%g\"\n     elif [ \"$SHLIB_MULTILIB\" = \"$dir\" ]; then\n       shlib_base_name=\"libgcc_s\";\n       echo \"\"\n-      echo \"${shlib_base_name}.so: $shlib_deps\"\n-      echo \"\t$SHLIB_LINK $flags -o ${shlib_base_name}.so $libgcc_objs $SHLIB_LIBS\" | sed \"s/@shlib_base_name@/$shlib_base_name/g\"\n+      echo \"${shlib_base_name}${SHLIB_EXT}: $shlib_deps\"\n+      echo \"\t$SHLIB_LINK\" \\\n+\t | sed -e \"s%@multilib_flags@%$flags%g\" \\\n+\t       -e \"s%@multilib_dir@%$dir%g\" \\\n+\t       -e \"s%@shlib_objs@%$libgcc_objs%g\" \\\n+\t       -e \"s%@shlib_base_name@%$shlib_base_name%g\" \\\n+\t       -e \"s%@shlib_map_file@%$mapfile%g\"\n     fi\n   fi\n done\n@@ -359,15 +369,10 @@ for ml in $MULTILIBS; do\n       else\n \tsuff=_`echo $dir | sed s,/,_,g`\n       fi\n-      all=\"$all ${dir}/libgcc_s${suff}.so\"\n+      all=\"$all ${dir}/libgcc_s${suff}${SHLIB_EXT}\"\n     elif [ \"$SHLIB_MULTILIB\" = \"$dir\" ]; then\n-      all=\"$all libgcc_s.so\"\n+      all=\"$all libgcc_s${SHLIB_EXT}\"\n     fi\n-      if [ \"$dir\" = \".\" ]; then\n-\tsuff=\"\";\n-      else\n-\tsuff=_`echo $dir | sed s,/,_,g`\n-      fi\n   fi\n done\n "}]}