{"sha": "d85087f6a06fa0514a80c2382a73af6d0ed1eef8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDg1MDg3ZjZhMDZmYTA1MTRhODBjMjM4MmE3M2FmNmQwZWQxZWVmOA==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2011-11-07T01:14:33Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2011-11-07T01:14:33Z"}, "message": "re PR target/30282 (Optimization flag -O1 -fschedule-insns2 cause red zone to be used when there is none)\n\n\tPR target/30282\n\t* config/rs6000/rs6000.c (rs6000_emit_stack_reset): Always emit\n\tblockage for ABI_V4.\n\nFrom-SVN: r181056", "tree": {"sha": "1e386a349ef90287f0902f3f7194d39b95ae8d12", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1e386a349ef90287f0902f3f7194d39b95ae8d12"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d85087f6a06fa0514a80c2382a73af6d0ed1eef8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d85087f6a06fa0514a80c2382a73af6d0ed1eef8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d85087f6a06fa0514a80c2382a73af6d0ed1eef8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d85087f6a06fa0514a80c2382a73af6d0ed1eef8/comments", "author": null, "committer": null, "parents": [{"sha": "c5219bb0ec9cfa10d6d59f13145e4c9206aa4b08", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5219bb0ec9cfa10d6d59f13145e4c9206aa4b08", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5219bb0ec9cfa10d6d59f13145e4c9206aa4b08"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "b3a5be131f1ebe19334eafc0404929ab07a91405", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d85087f6a06fa0514a80c2382a73af6d0ed1eef8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d85087f6a06fa0514a80c2382a73af6d0ed1eef8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d85087f6a06fa0514a80c2382a73af6d0ed1eef8", "patch": "@@ -1,3 +1,9 @@\n+2011-11-07  Alan Modra  <amodra@gmail.com>\n+\n+\tPR target/30282\n+\t* config/rs6000/rs6000.c (rs6000_emit_stack_reset): Always emit\n+\tblockage for ABI_V4.\n+\n 2011-11-06  Dave Korn  <dave.korn.cygwin@gmail.com>\n \n \t* config/i386/cygwin.h (LIBGCJ_SONAME): Updated to match recent\n@@ -147,7 +153,7 @@\n \t* optabs.c (expand_sync_operation, expand_sync_fetch_operation): Remove.\n \t(expand_sync_lock_test_and_set): Remove.\n \t(expand_atomic_load, expand_atomic_store): New.\n-\t(expand_atomic_exchange): New. \n+\t(expand_atomic_exchange): New.\n \t(expand_atomic_compare_and_swap): New.  Implements\n \tatomic_compare_exchange via compare and swap.\n \t(struct atomic_op_functions): Opcode table struct for fetch ops.\n@@ -5806,7 +5812,7 @@\n \n \t* hwint.h (HOST_WIDE_INT_PRINT_HEX_PURE): Add.\n \t* lto-streamer.c (lto_get_section_name): Remove crc32_string.\n- \tHandle numerical random seed.\n+\tHandle numerical random seed.\n \t* lto-streamer.h (lto_file_decl_data): Change id to\n \tunsigned HOST_WIDE_INT.\n \t* toplev.c (random_seed): Add."}, {"sha": "aa04fdd73bfef141e91843643cceae8fe90b4f80", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d85087f6a06fa0514a80c2382a73af6d0ed1eef8/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d85087f6a06fa0514a80c2382a73af6d0ed1eef8/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=d85087f6a06fa0514a80c2382a73af6d0ed1eef8", "patch": "@@ -19661,7 +19661,7 @@ rs6000_emit_stack_reset (rs6000_stack_t *info,\n {\n   /* This blockage is needed so that sched doesn't decide to move\n      the sp change before the register restores.  */\n-  if (frame_reg_rtx != sp_reg_rtx\n+  if (DEFAULT_ABI == ABI_V4\n       || (TARGET_SPE_ABI\n \t  && info->spe_64bit_regs_used != 0\n \t  && info->first_gp_reg_save != 32))"}]}