{"sha": "89418a92574448338464cb3503942a29a10e3eb8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODk0MThhOTI1NzQ0NDgzMzg0NjRjYjM1MDM5NDJhMjlhMTBlM2ViOA==", "commit": {"author": {"name": "Brendan Kehoe", "email": "brendan@gcc.gnu.org", "date": "1996-12-12T00:30:15Z"}, "committer": {"name": "Brendan Kehoe", "email": "brendan@gcc.gnu.org", "date": "1996-12-12T00:30:15Z"}, "message": "toplev.c (rest_of_compilation): Make sure that the unwinder RTL is saved.\n\n\t* toplev.c (rest_of_compilation): Make sure that the unwinder RTL\n\tis saved.\n\nFrom-SVN: r13289", "tree": {"sha": "bf4891714e3c1fe5897e68333ffd2765ff6128d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bf4891714e3c1fe5897e68333ffd2765ff6128d6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/89418a92574448338464cb3503942a29a10e3eb8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89418a92574448338464cb3503942a29a10e3eb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89418a92574448338464cb3503942a29a10e3eb8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89418a92574448338464cb3503942a29a10e3eb8/comments", "author": null, "committer": null, "parents": [{"sha": "664041e68bccafd2a1983f8416b43f95843ec4d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/664041e68bccafd2a1983f8416b43f95843ec4d3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/664041e68bccafd2a1983f8416b43f95843ec4d3"}], "stats": {"total": 19, "additions": 11, "deletions": 8}, "files": [{"sha": "a0cfb4de5e21c359f8db13e3a2184efe5bb7e127", "filename": "gcc/toplev.c", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89418a92574448338464cb3503942a29a10e3eb8/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89418a92574448338464cb3503942a29a10e3eb8/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=89418a92574448338464cb3503942a29a10e3eb8", "patch": "@@ -2954,12 +2954,9 @@ rest_of_compilation (decl)\n       goto exit_rest_of_compilation;\n     }\n \n-  /* From now on, allocate rtl in current_obstack, not in saveable_obstack.\n-     Note that that may have been done above, in save_for_inline_copying.\n-     The call to resume_temporary_allocation near the end of this function\n-     goes back to the usual state of affairs.  */\n-\n-  rtl_in_current_obstack ();\n+  /* Add an unwinder for exception handling, if needed.\n+     This must be done before we finalize PIC code.  */\n+  emit_unwinder ();\n \n #ifdef FINALIZE_PIC\n   /* If we are doing position-independent code generation, now\n@@ -2970,8 +2967,14 @@ rest_of_compilation (decl)\n     FINALIZE_PIC;\n #endif\n \n-  /* Add an unwinder for exception handling, if needed.  */\n-  emit_unwinder ();\n+  /* From now on, allocate rtl in current_obstack, not in saveable_obstack.\n+     Note that that may have been done above, in save_for_inline_copying.\n+     The call to resume_temporary_allocation near the end of this function\n+     goes back to the usual state of affairs.  This must be done after\n+     we've built up any unwinders for exception handling, and done\n+     the FINALIZE_PIC work, if necessary.  */\n+\n+  rtl_in_current_obstack ();\n \n   insns = get_insns ();\n "}]}