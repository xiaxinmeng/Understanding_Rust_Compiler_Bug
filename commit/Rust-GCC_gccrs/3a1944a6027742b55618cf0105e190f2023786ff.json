{"sha": "3a1944a6027742b55618cf0105e190f2023786ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2ExOTQ0YTYwMjc3NDJiNTU2MThjZjAxMDVlMTkwZjIwMjM3ODZmZg==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2003-02-16T19:40:11Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2003-02-16T19:40:11Z"}, "message": "arm.c (arm_reload_in_hi): Ensure that the scratch register does not overlap the final result register.\n\n* arm.c (arm_reload_in_hi): Ensure that the scratch register does\nnot overlap the final result register.\n\nFrom-SVN: r62981", "tree": {"sha": "216fe3a2ed69ac9451b3ce3f76b4e73a77d9957e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/216fe3a2ed69ac9451b3ce3f76b4e73a77d9957e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3a1944a6027742b55618cf0105e190f2023786ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a1944a6027742b55618cf0105e190f2023786ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a1944a6027742b55618cf0105e190f2023786ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a1944a6027742b55618cf0105e190f2023786ff/comments", "author": null, "committer": null, "parents": [{"sha": "97a6e368a615e1f299ac31e79b00a2a4d337ea27", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97a6e368a615e1f299ac31e79b00a2a4d337ea27", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97a6e368a615e1f299ac31e79b00a2a4d337ea27"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "79562ba52acb67ee299c94428a7f2daaf3f82f53", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a1944a6027742b55618cf0105e190f2023786ff/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a1944a6027742b55618cf0105e190f2023786ff/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3a1944a6027742b55618cf0105e190f2023786ff", "patch": "@@ -1,3 +1,8 @@\n+2003-02-16 Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* arm.c (arm_reload_in_hi): Ensure that the scratch register does\n+\tnot overlap the final result register.\n+\n 2003-02-16 Arend Bayer <arend.bayer@web.de>\n \t   Richard Henderson  <rth@redhat.com>\n "}, {"sha": "0847c97ae9d5c726978977f9756385c6537f1633", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a1944a6027742b55618cf0105e190f2023786ff/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a1944a6027742b55618cf0105e190f2023786ff/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=3a1944a6027742b55618cf0105e190f2023786ff", "patch": "@@ -5845,7 +5845,14 @@ arm_reload_in_hi (operands)\n \t}\n     }\n \n-  scratch = gen_rtx_REG (SImode, REGNO (operands[2]));\n+  /* Operands[2] may overlap operands[0] (though it won't overlap\n+     operands[1]), that's why we asked for a DImode reg -- so we can\n+     use the bit that does not overlap.  */\n+  if (REGNO (operands[2]) == REGNO (operands[0]))\n+    scratch = gen_rtx_REG (SImode, REGNO (operands[2]) + 1);\n+  else\n+    scratch = gen_rtx_REG (SImode, REGNO (operands[2]));\n+\n   emit_insn (gen_zero_extendqisi2 (scratch,\n \t\t\t\t   gen_rtx_MEM (QImode,\n \t\t\t\t\t\tplus_constant (base,"}]}