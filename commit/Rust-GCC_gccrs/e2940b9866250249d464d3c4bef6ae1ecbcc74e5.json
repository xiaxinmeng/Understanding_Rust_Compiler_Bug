{"sha": "e2940b9866250249d464d3c4bef6ae1ecbcc74e5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTI5NDBiOTg2NjI1MDI0OWQ0NjRkM2M0YmVmNmFlMWVjYmNjNzRlNQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2017-01-01T23:31:53Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2017-01-01T23:31:53Z"}, "message": "re PR ipa/77674 (ICE in binds_to_current_def_p with -fkeep-inline-functions)\n\n\n\tPR middle-end/77674\n\t* symtab.c (symtab_node::binds_to_current_def_p): Fix handling of\n\ttransparent aliases.\n\n\tPR middle-end/77674\n\t* g++.dg/torture/pr77674.C: New testcase.\n\nFrom-SVN: r243997", "tree": {"sha": "542aae0715cf7464cfdd0d4bca7550402fe7bf6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/542aae0715cf7464cfdd0d4bca7550402fe7bf6f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e2940b9866250249d464d3c4bef6ae1ecbcc74e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2940b9866250249d464d3c4bef6ae1ecbcc74e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2940b9866250249d464d3c4bef6ae1ecbcc74e5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2940b9866250249d464d3c4bef6ae1ecbcc74e5/comments", "author": null, "committer": null, "parents": [{"sha": "613be1c85d462313bcecd471a3b17802a4aaab7e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/613be1c85d462313bcecd471a3b17802a4aaab7e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/613be1c85d462313bcecd471a3b17802a4aaab7e"}], "stats": {"total": 31, "additions": 29, "deletions": 2}, "files": [{"sha": "e6e6dfd807ce2d127d537aef0d7eaf58192283ed", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2940b9866250249d464d3c4bef6ae1ecbcc74e5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2940b9866250249d464d3c4bef6ae1ecbcc74e5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e2940b9866250249d464d3c4bef6ae1ecbcc74e5", "patch": "@@ -1,3 +1,9 @@\n+2017-01-01  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR middle-end/77674\n+\t* symtab.c (symtab_node::binds_to_current_def_p): Fix handling of\n+\ttransparent aliases.\n+\n 2017-01-01  Jan Hubicka  <hubicka@ucw.cz>\n \n \tPR middle-end/77484"}, {"sha": "de87b5eebf26cf2fe7d65e56c14da221b32bb1e0", "filename": "gcc/symtab.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2940b9866250249d464d3c4bef6ae1ecbcc74e5/gcc%2Fsymtab.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2940b9866250249d464d3c4bef6ae1ecbcc74e5/gcc%2Fsymtab.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsymtab.c?ref=e2940b9866250249d464d3c4bef6ae1ecbcc74e5", "patch": "@@ -2214,6 +2214,9 @@ symtab_node::binds_to_current_def_p (symtab_node *ref)\n {\n   if (!definition)\n     return false;\n+  if (transparent_alias)\n+    return definition\n+\t   && get_alias_target()->binds_to_current_def_p (ref);\n   if (decl_binds_to_current_def_p (decl))\n     return true;\n \n@@ -2225,8 +2228,6 @@ symtab_node::binds_to_current_def_p (symtab_node *ref)\n   if (DECL_EXTERNAL (decl))\n     return false;\n \n-  if (!externally_visible)\n-    debug ();\n   gcc_assert (externally_visible);\n \n   if (ref)"}, {"sha": "f1d43c23b45f58da3fb0ea80ad330ca4238ce0da", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2940b9866250249d464d3c4bef6ae1ecbcc74e5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2940b9866250249d464d3c4bef6ae1ecbcc74e5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e2940b9866250249d464d3c4bef6ae1ecbcc74e5", "patch": "@@ -1,3 +1,8 @@\n+2017-01-01  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR middle-end/77674\n+\t* g++.dg/torture/pr77674.C: New testcase.\n+\n 2017-01-01  Jakub Jelinek  <jakub@redhat.com>\n \n \tUpdate copyright years."}, {"sha": "f933174317e47537313f5238295ab3e81f6e412e", "filename": "gcc/testsuite/g++.dg/torture/pr77674.C", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2940b9866250249d464d3c4bef6ae1ecbcc74e5/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr77674.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2940b9866250249d464d3c4bef6ae1ecbcc74e5/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr77674.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr77674.C?ref=e2940b9866250249d464d3c4bef6ae1ecbcc74e5", "patch": "@@ -0,0 +1,15 @@\n+// { dg-do compile }\n+typedef struct { } __fsid_t;\n+typedef unsigned long int pthread_t;\n+extern \"C\" {\n+  extern __inline __attribute__ ((__gnu_inline__)) int pthread_equal (pthread_t __thread1, pthread_t __thread2) throw ()   {\n+  }\n+}\n+typedef pthread_t __gthread_t;\n+static __typeof (pthread_equal)      __gthrw_pthread_equal __attribute__ ((__weakref__ (\"pthread_equal\")));\n+\n+static inline int __gthread_equal (__gthread_t __t1, __gthread_t __t2)\n+{\n+  return __gthrw_pthread_equal (__t1, __t2);\n+}\n+"}]}