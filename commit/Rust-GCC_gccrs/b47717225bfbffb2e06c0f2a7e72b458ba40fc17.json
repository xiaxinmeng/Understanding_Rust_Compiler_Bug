{"sha": "b47717225bfbffb2e06c0f2a7e72b458ba40fc17", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjQ3NzE3MjI1YmZiZmZiMmUwNmMwZjJhN2U3MmI0NThiYTQwZmMxNw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2015-06-02T09:47:02Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2015-06-02T09:47:02Z"}, "message": "gimplify.c (gimplify_modify_expr): Do not create a DECL_DEBUG_EXPR if the target doesn't belong to the current...\n\n\t* gimplify.c (gimplify_modify_expr): Do not create a DECL_DEBUG_EXPR if\n\tthe target doesn't belong to the current function.\n\nFrom-SVN: r224019", "tree": {"sha": "c009a29e58892337c44ffe37ae1b46fd9e9f6802", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c009a29e58892337c44ffe37ae1b46fd9e9f6802"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b47717225bfbffb2e06c0f2a7e72b458ba40fc17", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b47717225bfbffb2e06c0f2a7e72b458ba40fc17", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b47717225bfbffb2e06c0f2a7e72b458ba40fc17", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b47717225bfbffb2e06c0f2a7e72b458ba40fc17/comments", "author": null, "committer": null, "parents": [{"sha": "6903dd4fb91f9be3e316cf1e6844ff0e15bde10d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6903dd4fb91f9be3e316cf1e6844ff0e15bde10d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6903dd4fb91f9be3e316cf1e6844ff0e15bde10d"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "ac791c4bf5d7304872c191bdf72de20ab0d11f97", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b47717225bfbffb2e06c0f2a7e72b458ba40fc17/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b47717225bfbffb2e06c0f2a7e72b458ba40fc17/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b47717225bfbffb2e06c0f2a7e72b458ba40fc17", "patch": "@@ -1,3 +1,8 @@\n+2015-06-02  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gimplify.c (gimplify_modify_expr): Do not create a DECL_DEBUG_EXPR if\n+\tthe target doesn't belong to the current function.\n+\n 2015-06-02  Marek Polacek  <polacek@redhat.com>\n \n \tPR middle-end/66345"}, {"sha": "721afd1c86de6bc5efdba91a17dbe91ff10682d3", "filename": "gcc/gimplify.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b47717225bfbffb2e06c0f2a7e72b458ba40fc17/gcc%2Fgimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b47717225bfbffb2e06c0f2a7e72b458ba40fc17/gcc%2Fgimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimplify.c?ref=b47717225bfbffb2e06c0f2a7e72b458ba40fc17", "patch": "@@ -4707,12 +4707,14 @@ gimplify_modify_expr (tree *expr_p, gimple_seq *pre_p, gimple_seq *post_p,\n     return gimplify_modify_expr_complex_part (expr_p, pre_p, want_value);\n \n   /* Try to alleviate the effects of the gimplification creating artificial\n-     temporaries (see for example is_gimple_reg_rhs) on the debug info.  */\n+     temporaries (see for example is_gimple_reg_rhs) on the debug info, but\n+     make sure not to create DECL_DEBUG_EXPR links across functions.  */\n   if (!gimplify_ctxp->into_ssa\n       && TREE_CODE (*from_p) == VAR_DECL\n       && DECL_IGNORED_P (*from_p)\n       && DECL_P (*to_p)\n-      && !DECL_IGNORED_P (*to_p))\n+      && !DECL_IGNORED_P (*to_p)\n+      && decl_function_context (*to_p) == current_function_decl)\n     {\n       if (!DECL_NAME (*from_p) && DECL_NAME (*to_p))\n \tDECL_NAME (*from_p)"}, {"sha": "9f93db005cd616b169d56f14a760c5afa89ae7fe", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b47717225bfbffb2e06c0f2a7e72b458ba40fc17/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b47717225bfbffb2e06c0f2a7e72b458ba40fc17/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b47717225bfbffb2e06c0f2a7e72b458ba40fc17", "patch": "@@ -1,3 +1,7 @@\n+2015-06-02  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc.dg/vect/vec-scal-opt.c: Adjust regexp.\n+\n 2015-06-02  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* gcc.dg/vect/vect-outer-simd-1.c: Remove cleanup-tree-dump directive."}, {"sha": "64f628adf138aa64764b6575ca086c87d9cb5529", "filename": "gcc/testsuite/gcc.dg/vect/vec-scal-opt.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b47717225bfbffb2e06c0f2a7e72b458ba40fc17/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvec-scal-opt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b47717225bfbffb2e06c0f2a7e72b458ba40fc17/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvec-scal-opt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvec-scal-opt.c?ref=b47717225bfbffb2e06c0f2a7e72b458ba40fc17", "patch": "@@ -19,4 +19,4 @@ int main (int argc, char *argv[]) {\n    return vidx(short, r1, 0);\n }\n \n-/* { dg-final { scan-tree-dump-times \">> k.\\[0-9_\\]*\" 1 \"veclower21\" } } */\n+/* { dg-final { scan-tree-dump-times \">> _\\[0-9\\]*\" 1 \"veclower21\" } } */"}]}