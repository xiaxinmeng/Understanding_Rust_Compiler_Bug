{"sha": "806bf4137dfb55d775e8e1b9040f69ac557a44ad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODA2YmY0MTM3ZGZiNTVkNzc1ZThlMWI5MDQwZjY5YWM1NTdhNDRhZA==", "commit": {"author": {"name": "John David Anglin", "email": "dave@hiauly1.hia.nrc.ca", "date": "2002-05-31T04:00:42Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2002-05-31T04:00:42Z"}, "message": "config.gcc (tm_file): Prefix pa/pa-700.h to tm_file list for PA1.0 architecture and pa/pa-7100.h for...\n\n2002-05-30  John David Anglin  <dave@hiauly1.hia.nrc.ca>\n\n\t* config.gcc (tm_file): Prefix pa/pa-700.h to tm_file list for PA1.0\n\tarchitecture and pa/pa-7100.h for PA1.1 architecture, respectively.\n\t* pa/pa.c (override_options): Use TARGET_SCHED_DEFAULT to select\n\tdefault scheduling model.\n\t* pa/pa.h (TARGET_SCHED_DEFAULT): Define if not defined to \"8000\".\n\t* pa/pa-700.h (TARGET_SCHED_DEFAULT): New file for \"700\" scheduling.\n\t* pa/pa-7100.h (TARGET_SCHED_DEFAULT): New file for \"7100\" scheduling.\n\t* doc/install.texi (hppa*-*-*): Document default scheduling.\n\nFrom-SVN: r54085", "tree": {"sha": "bb0d1e3b8a7c38edbb257144df3c362c8961998c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bb0d1e3b8a7c38edbb257144df3c362c8961998c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/806bf4137dfb55d775e8e1b9040f69ac557a44ad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/806bf4137dfb55d775e8e1b9040f69ac557a44ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/806bf4137dfb55d775e8e1b9040f69ac557a44ad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/806bf4137dfb55d775e8e1b9040f69ac557a44ad/comments", "author": null, "committer": null, "parents": [{"sha": "6d8d2bbc830adfe13a15aa234f43953cbfdf0b80", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d8d2bbc830adfe13a15aa234f43953cbfdf0b80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d8d2bbc830adfe13a15aa234f43953cbfdf0b80"}], "stats": {"total": 109, "additions": 97, "deletions": 12}, "files": [{"sha": "075dc00bb4cda2bcc7ef6bb0fa098f167fead2a3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/806bf4137dfb55d775e8e1b9040f69ac557a44ad/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/806bf4137dfb55d775e8e1b9040f69ac557a44ad/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=806bf4137dfb55d775e8e1b9040f69ac557a44ad", "patch": "@@ -1,3 +1,14 @@\n+2002-05-30  John David Anglin  <dave@hiauly1.hia.nrc.ca>\n+\n+\t* config.gcc (tm_file): Prefix pa/pa-700.h to tm_file list for PA1.0\n+\tarchitecture and pa/pa-7100.h for PA1.1 architecture, respectively.\n+\t* pa/pa.c (override_options): Use TARGET_SCHED_DEFAULT to select\n+\tdefault scheduling model.\n+\t* pa/pa.h (TARGET_SCHED_DEFAULT): Define if not defined to \"8000\".\n+\t* pa/pa-700.h (TARGET_SCHED_DEFAULT): New file for \"700\" scheduling.\n+\t* pa/pa-7100.h (TARGET_SCHED_DEFAULT): New file for \"7100\" scheduling.\n+\t* doc/install.texi (hppa*-*-*): Document default scheduling.\n+\n 2002-05-30  John David Anglin  <dave@hiauly1.hia.nrc.ca>\n \n \t* pa.c (following_call): Check TARGET_JUMP_IN_DELAY."}, {"sha": "f84a425a141e7ecbda5b32d57bd0629800a57ded", "filename": "gcc/config.gcc", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/806bf4137dfb55d775e8e1b9040f69ac557a44ad/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/806bf4137dfb55d775e8e1b9040f69ac557a44ad/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=806bf4137dfb55d775e8e1b9040f69ac557a44ad", "patch": "@@ -2805,6 +2805,14 @@ hppa*-*-* | parisc*-*-*)\n \tthen\n \t\ttarget_cpu_default2=\"MASK_GAS|MASK_JUMP_IN_DELAY\"\n \tfi\n+\tcase $machine in\n+\t\thppa1.0* | parisc1.0*)\n+\t\t\ttm_file=\"pa/pa-700.h ${tm_file}\"\n+\t\t\t;;\n+\t\thppa1.1* | parisc1.1*)\n+\t\t\ttm_file=\"pa/pa-7100.h ${tm_file}\"\n+\t\t\t;;\n+\tesac\n \t;;\n \n mips*-*-ecoff* | mips*-*-elf*)"}, {"sha": "3529a299e963d4e190bff8498fa6f3467ca14c4c", "filename": "gcc/config/pa/pa-700.h", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/806bf4137dfb55d775e8e1b9040f69ac557a44ad/gcc%2Fconfig%2Fpa%2Fpa-700.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/806bf4137dfb55d775e8e1b9040f69ac557a44ad/gcc%2Fconfig%2Fpa%2Fpa-700.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa-700.h?ref=806bf4137dfb55d775e8e1b9040f69ac557a44ad", "patch": "@@ -0,0 +1,24 @@\n+/* Definitions of target machine for GNU compiler, for HPs using the\n+   PA700 scheduling model.\n+   Copyright (C) 2002 Free Software Foundation, Inc.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#ifndef TARGET_SCHED_DEFAULT\n+#define TARGET_SCHED_DEFAULT \"700\"\n+#endif"}, {"sha": "7f450a41659c6a83c5346b165261c1a09ed52644", "filename": "gcc/config/pa/pa-7100.h", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/806bf4137dfb55d775e8e1b9040f69ac557a44ad/gcc%2Fconfig%2Fpa%2Fpa-7100.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/806bf4137dfb55d775e8e1b9040f69ac557a44ad/gcc%2Fconfig%2Fpa%2Fpa-7100.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa-7100.h?ref=806bf4137dfb55d775e8e1b9040f69ac557a44ad", "patch": "@@ -0,0 +1,24 @@\n+/* Definitions of target machine for GNU compiler, for HPs using the\n+   PA7100 scheduling model.\n+   Copyright (C) 2002 Free Software Foundation, Inc.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#ifndef TARGET_SCHED_DEFAULT\n+#define TARGET_SCHED_DEFAULT \"7100\"\n+#endif"}, {"sha": "449c278b1019d57772a46408603fde0b07ee7781", "filename": "gcc/config/pa/pa.c", "status": "modified", "additions": 13, "deletions": 12, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/806bf4137dfb55d775e8e1b9040f69ac557a44ad/gcc%2Fconfig%2Fpa%2Fpa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/806bf4137dfb55d775e8e1b9040f69ac557a44ad/gcc%2Fconfig%2Fpa%2Fpa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.c?ref=806bf4137dfb55d775e8e1b9040f69ac557a44ad", "patch": "@@ -197,38 +197,39 @@ struct gcc_target targetm = TARGET_INITIALIZER;\n void\n override_options ()\n {\n-  /* Default to 8000 scheduling.  */\n-  if (pa_cpu_string && ! strcmp (pa_cpu_string, \"7100\"))\n+  if (pa_cpu_string == NULL)\n+    pa_cpu_string = TARGET_SCHED_DEFAULT;\n+\n+  if (! strcmp (pa_cpu_string, \"8000\"))\n+    {\n+      pa_cpu_string = \"8000\";\n+      pa_cpu = PROCESSOR_8000;\n+    }\n+  else if (! strcmp (pa_cpu_string, \"7100\"))\n     {\n       pa_cpu_string = \"7100\";\n       pa_cpu = PROCESSOR_7100;\n     }\n-  else if (pa_cpu_string && ! strcmp (pa_cpu_string, \"700\"))\n+  else if (! strcmp (pa_cpu_string, \"700\"))\n     {\n       pa_cpu_string = \"700\";\n       pa_cpu = PROCESSOR_700;\n     }\n-  else if (pa_cpu_string && ! strcmp (pa_cpu_string, \"7100LC\"))\n+  else if (! strcmp (pa_cpu_string, \"7100LC\"))\n     {\n       pa_cpu_string = \"7100LC\";\n       pa_cpu = PROCESSOR_7100LC;\n     }\n-  else if (pa_cpu_string && ! strcmp (pa_cpu_string, \"7200\"))\n+  else if (! strcmp (pa_cpu_string, \"7200\"))\n     {\n       pa_cpu_string = \"7200\";\n       pa_cpu = PROCESSOR_7200;\n     }\n-  else if (pa_cpu_string && ! strcmp (pa_cpu_string, \"7300\"))\n+  else if (! strcmp (pa_cpu_string, \"7300\"))\n     {\n       pa_cpu_string = \"7300\";\n       pa_cpu = PROCESSOR_7300;\n     }\n-  else if (pa_cpu_string == NULL\n-\t   || ! strcmp (pa_cpu_string, \"8000\"))\n-    {\n-      pa_cpu_string = \"8000\";\n-      pa_cpu = PROCESSOR_8000;\n-    }\n   else\n     {\n       warning (\"unknown -mschedule= option (%s).\\nValid options are 700, 7100, 7100LC, 7200, 7300, and 8000\\n\", pa_cpu_string);"}, {"sha": "c2a6f584e1b89734ae9533ed670aeb01789b5c7a", "filename": "gcc/config/pa/pa.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/806bf4137dfb55d775e8e1b9040f69ac557a44ad/gcc%2Fconfig%2Fpa%2Fpa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/806bf4137dfb55d775e8e1b9040f69ac557a44ad/gcc%2Fconfig%2Fpa%2Fpa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.h?ref=806bf4137dfb55d775e8e1b9040f69ac557a44ad", "patch": "@@ -208,6 +208,10 @@ extern int target_flags;\n #define TARGET_CPU_DEFAULT 0\n #endif\n \n+#ifndef TARGET_SCHED_DEFAULT\n+#define TARGET_SCHED_DEFAULT \"8000\"\n+#endif\n+\n #define TARGET_OPTIONS\t\t\t\\\n {\t\t\t\t\t\\\n   { \"schedule=\",\t&pa_cpu_string, \"Specify CPU for scheduling purposes\" },\\"}, {"sha": "4aac3e18e3d705342aea262d8be6c6ed090b9c86", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/806bf4137dfb55d775e8e1b9040f69ac557a44ad/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/806bf4137dfb55d775e8e1b9040f69ac557a44ad/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=806bf4137dfb55d775e8e1b9040f69ac557a44ad", "patch": "@@ -1997,6 +1997,19 @@ If you wish to use pa-risc 2.0 architecture support, you must use either\n the HP assembler, gas/binutils 2.11 or a recent\n @uref{ftp://sources.redhat.com/pub/binutils/snapshots,,snapshot of gas}.\n \n+There are three default scheduling models for instructions.  They\n+are PROCESSOR_700, PROCESSOR_7100 and PROCESSOR_8000.  They are selected\n+based on the the pa-risc architecture specified for the target machine\n+when configuring.  PROCESSOR_8000 is the default model.  PROCESSOR_700\n+and PROCESSOR_7100 are selected by specifying either @samp{hppa1.0} or\n+@samp{hppa1.1}, respectively.\n+\n+The PROCESSOR_8000 model is not well suited to older processors.  Thus,\n+it is important to completely specify the machine architecture when\n+configuring if you want a model other than PROCESSOR_8000.  The macro\n+TARGET_SCHED_DEFAULT can be defined in BOOT_CFLAGS if a different\n+default scheduling model is desired.\n+\n More specific information to @samp{hppa*-hp-hpux*} targets follows.\n \n @html"}]}