{"sha": "7dfa657b5bae61a458721d079320fb82401ed58b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2RmYTY1N2I1YmFlNjFhNDU4NzIxZDA3OTMyMGZiODI0MDFlZDU4Yg==", "commit": {"author": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2017-02-19T14:13:53Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2017-02-19T14:13:53Z"}, "message": "PR c++/69523 make -Wliteral-suffix control warning\n\ngcc:\n\n\tPR c++/69523\n\t* doc/invoke.texi (C++ Dialect Options) [-Wliteral-suffix]: Update\n\tdescription.\n\ngcc/cp:\n\n2017-02-19  Eric Fiselier  <eric@efcs.ca>\n\t    Jonathan Wakely  <jwakely@redhat.com>\n\n\tPR c++/69523\n\t* parser.c (cp_parser_unqualified_id): Use OPT_Wliteral_suffix to\n\tcontrol warning about literal suffix identifiers without a leading\n\tunderscore.\n\ngcc/testsuite:\n\n2017-02-19  Eric Fiselier  <eric@efcs.ca>\n\t    Jonathan Wakely  <jwakely@redhat.com>\n\n\tPR c++/69523\n\t* g++.dg/cpp0x/Wliteral-suffix2.C: New test.\n\nFrom-SVN: r245574", "tree": {"sha": "63b66797d444b78821a16bdf2a2bbcb21ad89939", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/63b66797d444b78821a16bdf2a2bbcb21ad89939"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7dfa657b5bae61a458721d079320fb82401ed58b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7dfa657b5bae61a458721d079320fb82401ed58b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7dfa657b5bae61a458721d079320fb82401ed58b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7dfa657b5bae61a458721d079320fb82401ed58b/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ff7da2b6cf045cd8a3c12dadb79133b76fe15d11", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff7da2b6cf045cd8a3c12dadb79133b76fe15d11", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff7da2b6cf045cd8a3c12dadb79133b76fe15d11"}], "stats": {"total": 41, "additions": 39, "deletions": 2}, "files": [{"sha": "d404f8f3e4834c3a72777ed9fddb36e052d28b29", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7dfa657b5bae61a458721d079320fb82401ed58b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7dfa657b5bae61a458721d079320fb82401ed58b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7dfa657b5bae61a458721d079320fb82401ed58b", "patch": "@@ -1,3 +1,9 @@\n+2017-02-19  Jonathan Wakely  <jwakely@redhat.com>\n+\n+\tPR c++/69523\n+\t* doc/invoke.texi (C++ Dialect Options) [-Wliteral-suffix]: Update\n+\tdescription.\n+\n 2017-02-19  Prathamesh Kulkarni  <prathamesh.kulkarni@linaro.org>\n \n \t* gimple-pretty-print.c (dump_ternary_rhs): Adjust gimple dump format"}, {"sha": "d0803bfa433b86f0d025d6888e1135b4df21a0c5", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7dfa657b5bae61a458721d079320fb82401ed58b/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7dfa657b5bae61a458721d079320fb82401ed58b/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=7dfa657b5bae61a458721d079320fb82401ed58b", "patch": "@@ -1,3 +1,11 @@\n+2017-02-19  Eric Fiselier  <eric@efcs.ca>\n+\t    Jonathan Wakely  <jwakely@redhat.com>\n+\n+\tPR c++/69523\n+\t* parser.c (cp_parser_unqualified_id): Use OPT_Wliteral_suffix to\n+\tcontrol warning about literal suffix identifiers without a leading\n+\tunderscore.\n+\n 2017-02-17  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/79508 - lookup error with member template"}, {"sha": "feeafcec6ad21c37b4e86db5b3b4fb07d14792d0", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7dfa657b5bae61a458721d079320fb82401ed58b/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7dfa657b5bae61a458721d079320fb82401ed58b/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=7dfa657b5bae61a458721d079320fb82401ed58b", "patch": "@@ -5812,8 +5812,9 @@ cp_parser_unqualified_id (cp_parser* parser,\n \t      const char *name = UDLIT_OP_SUFFIX (id);\n \t      if (name[0] != '_' && !in_system_header_at (input_location)\n \t\t  && declarator_p)\n-\t\twarning (0, \"literal operator suffixes not preceded by %<_%>\"\n-\t\t\t    \" are reserved for future standardization\");\n+\t\twarning (OPT_Wliteral_suffix,\n+\t\t\t \"literal operator suffixes not preceded by %<_%>\"\n+\t\t\t \" are reserved for future standardization\");\n \t    }\n \n \t  return id;"}, {"sha": "6e219dab4d326669870d33414be877f295b085b1", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7dfa657b5bae61a458721d079320fb82401ed58b/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7dfa657b5bae61a458721d079320fb82401ed58b/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=7dfa657b5bae61a458721d079320fb82401ed58b", "patch": "@@ -2852,6 +2852,11 @@ int main() @{\n \n In this case, @code{PRId64} is treated as a separate preprocessing token.\n \n+Additionally, warn when a user-defined literal operator is declared with\n+a literal suffix identifier that doesn't begin with an underscore. Literal\n+suffix identifiers that don't begin with an underscore are reserved for\n+future standardization.\n+\n This warning is enabled by default.\n \n @item -Wlto-type-mismatch"}, {"sha": "c98d77481c6e4258985d67afb9502f271444281a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7dfa657b5bae61a458721d079320fb82401ed58b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7dfa657b5bae61a458721d079320fb82401ed58b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7dfa657b5bae61a458721d079320fb82401ed58b", "patch": "@@ -1,3 +1,9 @@\n+2017-02-19  Eric Fiselier  <eric@efcs.ca>\n+\t    Jonathan Wakely  <jwakely@redhat.com>\n+\n+\tPR c++/69523\n+\t* g++.dg/cpp0x/Wliteral-suffix2.C: New test.\n+\n 2017-02-19  Prathamesh Kulkarni  <prathamesh.kulkarni@linaro.org>\n \n \t* gcc.dg/gimplefe-26.c: New test."}, {"sha": "129947d86b312110f831e830a8551e886656d87b", "filename": "gcc/testsuite/g++.dg/cpp0x/Wliteral-suffix2.C", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7dfa657b5bae61a458721d079320fb82401ed58b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2FWliteral-suffix2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7dfa657b5bae61a458721d079320fb82401ed58b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2FWliteral-suffix2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2FWliteral-suffix2.C?ref=7dfa657b5bae61a458721d079320fb82401ed58b", "patch": "@@ -0,0 +1,11 @@\n+// { dg-do compile { target c++11 } }\n+// { dg-options \"-Wno-literal-suffix\" }\n+\n+// Test user-defined literals.\n+// Test \"-Wno-literal-suffix\" suppresses warnings on declaration without\n+// leading underscore.\n+\n+long double operator\"\" nounder(long double); // { dg-bogus \"\" }\n+\n+template<char...>\n+  int operator\"\" nounder(); // { dg-bogus \"\" }"}]}