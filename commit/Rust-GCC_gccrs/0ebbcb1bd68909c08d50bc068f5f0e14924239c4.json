{"sha": "0ebbcb1bd68909c08d50bc068f5f0e14924239c4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGViYmNiMWJkNjg5MDljMDhkNTBiYzA2OGY1ZjBlMTQ5MjQyMzljNA==", "commit": {"author": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2001-06-25T19:26:25Z"}, "committer": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2001-06-25T19:26:25Z"}, "message": "update_version: Add command-line argument capability...\n\n2001-06-25  Phil Edwards  <pme@sources.redhat.com>\n\n\t* update_version:  Add command-line argument capability, also\n\tbump version for libstdc++-v3, and exit with the return code from\n\tthe cvs commit.\n\t* crontab:  Call update_version with arguments instead of\n\tcalling update_branch_version.\n\t* update_branch_version:  Remove.\n\nFrom-SVN: r43555", "tree": {"sha": "8fb8beea514ea5d5f617195bad8e4901b2b79d33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8fb8beea514ea5d5f617195bad8e4901b2b79d33"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0ebbcb1bd68909c08d50bc068f5f0e14924239c4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ebbcb1bd68909c08d50bc068f5f0e14924239c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ebbcb1bd68909c08d50bc068f5f0e14924239c4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ebbcb1bd68909c08d50bc068f5f0e14924239c4/comments", "author": null, "committer": null, "parents": [{"sha": "46eee914d6362cdd2bbb88310a382b65d1acfe85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46eee914d6362cdd2bbb88310a382b65d1acfe85", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46eee914d6362cdd2bbb88310a382b65d1acfe85"}], "stats": {"total": 62, "additions": 29, "deletions": 33}, "files": [{"sha": "9c07464a7bc67e15c76feb4dc5834622c98774e3", "filename": "maintainer-scripts/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ebbcb1bd68909c08d50bc068f5f0e14924239c4/maintainer-scripts%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ebbcb1bd68909c08d50bc068f5f0e14924239c4/maintainer-scripts%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2FChangeLog?ref=0ebbcb1bd68909c08d50bc068f5f0e14924239c4", "patch": "@@ -1,3 +1,12 @@\n+2001-06-25  Phil Edwards  <pme@sources.redhat.com>\n+\n+\t* update_version:  Add command-line argument capability, also\n+\tbump version for libstdc++-v3, and exit with the return code from\n+\tthe cvs commit.\n+\t* crontab:  Call update_version with arguments instead of\n+\tcalling update_branch_version.\n+\t* update_branch_version:  Remove.\n+\n 2001-06-08  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \n \t* update_web_docs: Only update the install documentation for the "}, {"sha": "8b1b9ef36b8d756305d320560e23d60439152661", "filename": "maintainer-scripts/crontab", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ebbcb1bd68909c08d50bc068f5f0e14924239c4/maintainer-scripts%2Fcrontab", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ebbcb1bd68909c08d50bc068f5f0e14924239c4/maintainer-scripts%2Fcrontab", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fcrontab?ref=0ebbcb1bd68909c08d50bc068f5f0e14924239c4", "patch": "@@ -1,4 +1,4 @@\n 16 0 * * * sh /home/gccadmin/scripts/update_version\n-16 0 * * * sh /home/gccadmin/scripts/update_branch_version\n+16 0 * * * sh /home/gccadmin/scripts/update_version -rgcc-3_0-branch\n 50 0 * * * sh /home/gccadmin/scripts/update_web_docs\n 55 0 * * * sh /home/gccadmin/scripts/update_web_docs_libstdcxx"}, {"sha": "88b05643793327ea1062fc4078e744f60ecc4d1e", "filename": "maintainer-scripts/update_branch_version", "status": "removed", "additions": 0, "deletions": 28, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46eee914d6362cdd2bbb88310a382b65d1acfe85/maintainer-scripts%2Fupdate_branch_version", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46eee914d6362cdd2bbb88310a382b65d1acfe85/maintainer-scripts%2Fupdate_branch_version", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fupdate_branch_version?ref=46eee914d6362cdd2bbb88310a382b65d1acfe85", "patch": "@@ -1,28 +0,0 @@\n-#!/bin/sh \n-\n-# Run this from /tmp.\n-CVSROOT=/cvs/gcc\n-export CVSROOT\n-BRANCH=gcc-3_0-branch\n-export BRANCH\n-/bin/rm -rf /tmp/$$\n-/bin/mkdir /tmp/$$\n-cd /tmp/$$\n-\n-CURR_DATE=`/bin/date +\"%Y%m%d\"`\n-\n-FILES=\"gcc/gcc/version.c gcc/gcc/f/version.c gcc/libf2c/libF77/Version.c gcc/libf2c/libI77/Version.c gcc/libf2c/libU77/Version.c\"\n-\n-/usr/local/bin/cvs co -r$BRANCH $FILES\n-\n-for file in $FILES; do\n-\n-  OLD_VERSION=`/bin/cat $file`\n-  /bin/sed -e \"s/\\(.*\\\"[^ ]*\\) [0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]/\\1 ${CURR_DATE}/\" >${file} <<HERE\n-$OLD_VERSION\n-HERE\n-done\n-\n-/usr/local/bin/cvs commit -m \"Bump dates.\" $FILES\n-\n-/bin/rm -rf /tmp/$$"}, {"sha": "cd3c5e6ea1879d89d60d6ae68a1a3e36175b0589", "filename": "maintainer-scripts/update_version", "status": "modified", "additions": 19, "deletions": 4, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ebbcb1bd68909c08d50bc068f5f0e14924239c4/maintainer-scripts%2Fupdate_version", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ebbcb1bd68909c08d50bc068f5f0e14924239c4/maintainer-scripts%2Fupdate_version", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fupdate_version?ref=0ebbcb1bd68909c08d50bc068f5f0e14924239c4", "patch": "@@ -7,20 +7,35 @@ export CVSROOT\n /bin/mkdir /tmp/$$\n cd /tmp/$$\n \n+# ARGS is passed to 'cvs co'\n+ARGS=\"$*\"\n CURR_DATE=`/bin/date +\"%Y%m%d\"`\n \n-FILES=\"gcc/gcc/version.c gcc/gcc/f/version.c gcc/libf2c/libF77/Version.c gcc/libf2c/libI77/Version.c gcc/libf2c/libU77/Version.c\"\n+# version is contained within a char*\n+textstring_FILES=\"gcc/gcc/version.c gcc/gcc/f/version.c gcc/libf2c/libF77/Version.c gcc/libf2c/libI77/Version.c gcc/libf2c/libU77/Version.c\"\n \n-/usr/local/bin/cvs co $FILES\n+# version is contained within a #define\n+cppdefine_FILES=\"gcc/libstdc++-v3/include/bits/c++config\"\n \n-for file in $FILES; do\n+/usr/local/bin/cvs co $ARGS $textstring_FILES $cppdefine_FILES\n \n+for file in $textstring_FILES; do\n   OLD_VERSION=`/bin/cat $file`\n   /bin/sed -e \"s/\\(.*\\\"[^ ]*\\) [0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]/\\1 ${CURR_DATE}/\" >${file} <<HERE\n $OLD_VERSION\n HERE\n done\n \n-/usr/local/bin/cvs commit -m \"Daily bump.\" $FILES\n+for file in $cppdefine_FILES; do\n+  OLD_VERSION=`/bin/cat $file`\n+  /bin/sed -e \"s/\\(#.*\\) [0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]/\\1 ${CURR_DATE}/\" >${file} <<HERE\n+$OLD_VERSION\n+HERE\n+done\n+\n+/usr/local/bin/cvs commit -m \"Daily bump.\" $textstring_FILES $cppdefine_FILES\n+commit_results=$?\n \n /bin/rm -rf /tmp/$$\n+exit $commit_results\n+"}]}