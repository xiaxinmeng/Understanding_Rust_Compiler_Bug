{"sha": "cfa82f4d034b0905dbdbe321d606a374065c6d43", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2ZhODJmNGQwMzRiMDkwNWRiZGJlMzIxZDYwNmEzNzQwNjVjNmQ0Mw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-10-05T21:32:09Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-10-05T21:32:09Z"}, "message": "* gnu/gcj/convert/natIconv.cc (init): Terminate buffer.\n\nFrom-SVN: r36733", "tree": {"sha": "0e75e88b2abe83308c5b43aa2f6b201ae3a4e63c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e75e88b2abe83308c5b43aa2f6b201ae3a4e63c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cfa82f4d034b0905dbdbe321d606a374065c6d43", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfa82f4d034b0905dbdbe321d606a374065c6d43", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cfa82f4d034b0905dbdbe321d606a374065c6d43", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfa82f4d034b0905dbdbe321d606a374065c6d43/comments", "author": null, "committer": null, "parents": [{"sha": "61a77fea4a8fd6dec08a11fc26574c146a7903e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61a77fea4a8fd6dec08a11fc26574c146a7903e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61a77fea4a8fd6dec08a11fc26574c146a7903e5"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "d568149475e5eca08bccd14c17bfeaa7603a31e8", "filename": "libjava/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cfa82f4d034b0905dbdbe321d606a374065c6d43/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cfa82f4d034b0905dbdbe321d606a374065c6d43/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=cfa82f4d034b0905dbdbe321d606a374065c6d43", "patch": "@@ -1,3 +1,7 @@\n+2000-10-05  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* gnu/gcj/convert/natIconv.cc (init): Terminate buffer.\n+\n 2000-10-02  Bryce McKinlay  <bryce@albatross.co.nz>\n \n \t* prims.cc (_Jv_argv, _Jv_argc): New fields."}, {"sha": "061779c02b8b7010d7a4233d60da353cd11657a3", "filename": "libjava/gnu/gcj/convert/natIconv.cc", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cfa82f4d034b0905dbdbe321d606a374065c6d43/libjava%2Fgnu%2Fgcj%2Fconvert%2FnatIconv.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cfa82f4d034b0905dbdbe321d606a374065c6d43/libjava%2Fgnu%2Fgcj%2Fconvert%2FnatIconv.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fgcj%2Fconvert%2FnatIconv.cc?ref=cfa82f4d034b0905dbdbe321d606a374065c6d43", "patch": "@@ -38,8 +38,9 @@ gnu::gcj::convert::Input_iconv::init (jstring encoding)\n {\n #ifdef HAVE_ICONV\n   jsize len = _Jv_GetStringUTFLength (encoding);\n-  char buffer[len];\n+  char buffer[len + 1];\n   _Jv_GetStringUTFRegion (encoding, 0, len, buffer);\n+  buffer[len] = '\\0';\n \n   iconv_t h = iconv_open (\"UCS-2\", buffer);\n   if (h == (iconv_t) -1)\n@@ -97,8 +98,9 @@ gnu::gcj::convert::Output_iconv::init (jstring encoding)\n {\n #ifdef HAVE_ICONV\n   jsize len = _Jv_GetStringUTFLength (encoding);\n-  char buffer[len];\n+  char buffer[len + 1];\n   _Jv_GetStringUTFRegion (encoding, 0, len, buffer);\n+  buffer[len] = '\\0';\n \n   iconv_t h = iconv_open (buffer, \"UCS-2\");\n   if (h == (iconv_t) -1)"}]}