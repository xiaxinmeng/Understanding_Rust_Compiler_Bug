{"sha": "a239d460519a9d8a4b7c973a3d9f3f356faf3e15", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTIzOWQ0NjA1MTlhOWQ4YTRiN2M5NzNhM2Q5ZjNmMzU2ZmFmM2UxNQ==", "commit": {"author": {"name": "Jocelyn Mayer", "email": "l_indien@magic.fr", "date": "2016-06-23T18:06:43Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2016-06-23T18:06:43Z"}, "message": "driver-i386.c (host_detect_local_cpu): Set PROCESSOR_PENTIUMPRO for signature_CENTAUR_ebx family >= 9.\n\n\t* config/i386/driver-i386.c (host_detect_local_cpu): Set\n\tPROCESSOR_PENTIUMPRO for signature_CENTAUR_ebx family >= 9.\n\t<case PROCESSOR_PENTIMUMPRO>: Pass c7 or nehemiah for\n\tsignature_CENTAUR_ebx.\n\nFrom-SVN: r237741", "tree": {"sha": "2cddf38d560ad619793fd6892dd87d065a0022b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2cddf38d560ad619793fd6892dd87d065a0022b7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a239d460519a9d8a4b7c973a3d9f3f356faf3e15", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a239d460519a9d8a4b7c973a3d9f3f356faf3e15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a239d460519a9d8a4b7c973a3d9f3f356faf3e15", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a239d460519a9d8a4b7c973a3d9f3f356faf3e15/comments", "author": null, "committer": null, "parents": [{"sha": "f6d1b868c179eb6ad51dcab054a59d1fa1f6fa9f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6d1b868c179eb6ad51dcab054a59d1fa1f6fa9f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6d1b868c179eb6ad51dcab054a59d1fa1f6fa9f"}], "stats": {"total": 30, "additions": 23, "deletions": 7}, "files": [{"sha": "1a526b7ca9ed4905d439a2e595a8902267e32fa6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a239d460519a9d8a4b7c973a3d9f3f356faf3e15/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a239d460519a9d8a4b7c973a3d9f3f356faf3e15/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a239d460519a9d8a4b7c973a3d9f3f356faf3e15", "patch": "@@ -1,3 +1,10 @@\n+2016-06-23  Jocelyn Mayer  <l_indien@magic.fr>\n+\n+\t* config/i386/driver-i386.c (host_detect_local_cpu): Set\n+\tPROCESSOR_PENTIUMPRO for signature_CENTAUR_ebx family >= 9.\n+\t<case PROCESSOR_PENTIMUMPRO>: Pass c7 or nehemiah for\n+\tsignature_CENTAUR_ebx.\n+\n 2016-06-23  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR target/66232"}, {"sha": "22a8f2861aee8ea2e692153aa5f8d623fe07650e", "filename": "gcc/config/i386/driver-i386.c", "status": "modified", "additions": 16, "deletions": 7, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a239d460519a9d8a4b7c973a3d9f3f356faf3e15/gcc%2Fconfig%2Fi386%2Fdriver-i386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a239d460519a9d8a4b7c973a3d9f3f356faf3e15/gcc%2Fconfig%2Fi386%2Fdriver-i386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fdriver-i386.c?ref=a239d460519a9d8a4b7c973a3d9f3f356faf3e15", "patch": "@@ -653,10 +653,7 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n \tcase 6:\n \t  if (has_longmode)\n \t    processor = PROCESSOR_K8;\n-\t  else if (model > 9)\n-\t    /* Use the default detection procedure.  */\n-\t    ;\n-\t  else if (model == 9)\n+\t  else if (model >= 9)\n \t    processor = PROCESSOR_PENTIUMPRO;\n \t  else if (model >= 6)\n \t    processor = PROCESSOR_I486;\n@@ -818,15 +815,27 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n \t\t   as all the CPUs below are 32-bit only.  */\n \t\tcpu = \"x86-64\";\n \t      else if (has_sse3)\n-\t\t/* It is Core Duo.  */\n-\t\tcpu = \"pentium-m\";\n+\t\t{\n+\t\t  if (vendor == signature_CENTAUR_ebx)\n+\t\t    /* C7 / Eden \"Esther\" */\n+\t\t    cpu = \"c7\";\n+\t\t  else\n+\t\t    /* It is Core Duo.  */\n+\t\t    cpu = \"pentium-m\";\n+\t\t}\n \t      else if (has_sse2)\n \t\t/* It is Pentium M.  */\n \t\tcpu = \"pentium-m\";\n \t      else if (has_sse)\n \t\t{\n \t\t  if (vendor == signature_CENTAUR_ebx)\n-\t\t    cpu = \"c3-2\";\n+\t\t    {\n+\t\t      if (model >= 9)\n+\t\t\t/* Eden \"Nehemiah\" */\n+\t\t\tcpu = \"nehemiah\";\n+\t\t      else\n+\t\t\tcpu = \"c3-2\";\n+\t\t    }\n \t\t  else\n \t\t    /* It is Pentium III.  */\n \t\t    cpu = \"pentium3\";"}]}