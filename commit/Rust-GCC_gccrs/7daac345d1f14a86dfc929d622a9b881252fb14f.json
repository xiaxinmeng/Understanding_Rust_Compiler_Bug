{"sha": "7daac345d1f14a86dfc929d622a9b881252fb14f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2RhYWMzNDVkMWYxNGE4NmRmYzkyOWQ2MjJhOWI4ODEyNTJmYjE0Zg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2012-02-14T09:16:01Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2012-02-14T09:16:01Z"}, "message": "re PR tree-optimization/52210 (vect_model_simple_cost: reading uninitialised memory)\n\n\tPR tree-optimization/52210\n\t* tree-vect-slp.c (vect_get_and_check_slp_defs): Call\n\tvect_model_simple_cost with two entry vect_def_type array instead\n\tof an address of dt.\n\n\t* gcc.dg/pr52210.c: New test.\n\nFrom-SVN: r184201", "tree": {"sha": "c88f974ee0771104a6fb20895d87c4ff1ea6da45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c88f974ee0771104a6fb20895d87c4ff1ea6da45"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7daac345d1f14a86dfc929d622a9b881252fb14f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7daac345d1f14a86dfc929d622a9b881252fb14f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7daac345d1f14a86dfc929d622a9b881252fb14f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7daac345d1f14a86dfc929d622a9b881252fb14f/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "837487be7baafd715566395ef75b0e0f16868e7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/837487be7baafd715566395ef75b0e0f16868e7b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/837487be7baafd715566395ef75b0e0f16868e7b"}], "stats": {"total": 37, "additions": 33, "deletions": 4}, "files": [{"sha": "863952c343e9b11c94088aae2eb01f14b36e0f5d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7daac345d1f14a86dfc929d622a9b881252fb14f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7daac345d1f14a86dfc929d622a9b881252fb14f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7daac345d1f14a86dfc929d622a9b881252fb14f", "patch": "@@ -1,3 +1,10 @@\n+2012-02-14  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR tree-optimization/52210\n+\t* tree-vect-slp.c (vect_get_and_check_slp_defs): Call\n+\tvect_model_simple_cost with two entry vect_def_type array instead\n+\tof an address of dt.\n+\n 2012-02-14  Richard Guenther  <rguenther@suse.de>\n \n \tPR lto/52178"}, {"sha": "09662d837436d45c781c8822236eeb0829181f8b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7daac345d1f14a86dfc929d622a9b881252fb14f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7daac345d1f14a86dfc929d622a9b881252fb14f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7daac345d1f14a86dfc929d622a9b881252fb14f", "patch": "@@ -1,3 +1,8 @@\n+2012-02-14  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR tree-optimization/52210\n+\t* gcc.dg/pr52210.c: New test.\n+\n 2012-02-14  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/39055"}, {"sha": "c7ebeb60870723da4ffda7a4200641d27903e62c", "filename": "gcc/testsuite/gcc.dg/pr52210.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7daac345d1f14a86dfc929d622a9b881252fb14f/gcc%2Ftestsuite%2Fgcc.dg%2Fpr52210.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7daac345d1f14a86dfc929d622a9b881252fb14f/gcc%2Ftestsuite%2Fgcc.dg%2Fpr52210.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr52210.c?ref=7daac345d1f14a86dfc929d622a9b881252fb14f", "patch": "@@ -0,0 +1,12 @@\n+/* PR tree-optimization/52210 */\n+/* { dg-do compile } */\n+/* { dg-options \"-O3\" } */\n+\n+void\n+foo (long *x, long y, long z)\n+{\n+  long a = x[0];\n+  long b = x[1];\n+  x[0] = a & ~y;\n+  x[1] = b & ~z;\n+}"}, {"sha": "f21abb38bbf97647d126e3917d953b5e85a2f5c3", "filename": "gcc/tree-vect-slp.c", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7daac345d1f14a86dfc929d622a9b881252fb14f/gcc%2Ftree-vect-slp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7daac345d1f14a86dfc929d622a9b881252fb14f/gcc%2Ftree-vect-slp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-slp.c?ref=7daac345d1f14a86dfc929d622a9b881252fb14f", "patch": "@@ -321,10 +321,15 @@ vect_get_and_check_slp_defs (loop_vec_info loop_vinfo, bb_vec_info bb_vinfo,\n                 vect_model_store_cost (stmt_info, ncopies_for_cost, false,\n                                         dt, slp_node);\n \t      else\n-\t        /* Not memory operation (we don't call this function for\n-\t\t   loads).  */\n-\t\tvect_model_simple_cost (stmt_info, ncopies_for_cost, &dt,\n-\t\t\t\t\tslp_node);\n+\t\t{\n+\t\t  enum vect_def_type dts[2];\n+\t\t  dts[0] = dt;\n+\t\t  dts[1] = vect_uninitialized_def;\n+\t\t  /* Not memory operation (we don't call this function for\n+\t\t     loads).  */\n+\t\t  vect_model_simple_cost (stmt_info, ncopies_for_cost, dts,\n+\t\t\t\t\t  slp_node);\n+\t\t}\n \t    }\n \t}\n       else"}]}