{"sha": "9eb9177211dea7f3077b6fc6b56ad0bea812e485", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWViOTE3NzIxMWRlYTdmMzA3N2I2ZmM2YjU2YWQwYmVhODEyZTQ4NQ==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1993-10-07T18:40:43Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1993-10-07T18:40:43Z"}, "message": "(install-dir): Fix typo.\n\n(install-common): Remove obsolete comment.\n(install-common): Install native g++ only if not cross.\n\nFrom-SVN: r5658", "tree": {"sha": "773e2ef36e0ffcf217f855debee701b7e4e1bd0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/773e2ef36e0ffcf217f855debee701b7e4e1bd0b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9eb9177211dea7f3077b6fc6b56ad0bea812e485", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9eb9177211dea7f3077b6fc6b56ad0bea812e485", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9eb9177211dea7f3077b6fc6b56ad0bea812e485", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9eb9177211dea7f3077b6fc6b56ad0bea812e485/comments", "author": null, "committer": null, "parents": [{"sha": "888aa7a977cde28abe81a0b0714683950bbefab2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/888aa7a977cde28abe81a0b0714683950bbefab2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/888aa7a977cde28abe81a0b0714683950bbefab2"}], "stats": {"total": 18, "additions": 8, "deletions": 10}, "files": [{"sha": "9f411411a3340bed16425d6522db91b495aa78d3", "filename": "gcc/Makefile.in", "status": "modified", "additions": 8, "deletions": 10, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9eb9177211dea7f3077b6fc6b56ad0bea812e485/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9eb9177211dea7f3077b6fc6b56ad0bea812e485/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=9eb9177211dea7f3077b6fc6b56ad0bea812e485", "patch": "@@ -1741,7 +1741,7 @@ install-float-h-cross:\n install-dir:\n \t-if [ -d $(libdir) ] ; then true ; else mkdir $(libdir) ; fi\n \t-if [ -d $(libdir)/gcc-lib ] ; then true ; else mkdir $(libdir)/gcc-lib ; fi\n-# This dir isn't curretly searched by cpp.\n+# This dir isn't currently searched by cpp.\n #\t-if [ -d $(libdir)/gcc-lib/include ] ; then true ; else mkdir $(libdir)/gcc-lib/include ; fi\n \t-if [ -d $(libdir)/gcc-lib/$(target) ] ; then true ; else mkdir $(libdir)/gcc-lib/$(target) ; fi\n \t-if [ -d $(libdir)/gcc-lib/$(target)/$(version) ] ; then true ; else mkdir $(libdir)/gcc-lib/$(target)/$(version) ; fi\n@@ -1759,8 +1759,6 @@ install-dir:\n \t-if [ -d $(mandir) ] ; then true ; else mkdir $(mandir) ; fi\n \n # Install the compiler executables built during cross compilation.\n-# Deps on  $(srcdir)/g++ $(srcdir)/c++  would be natural here,\n-# but the latter would get confused with the target `c++'.\n install-common: native install-dir xgcc g++ $(EXTRA_PARTS)\n \tfor file in $(COMPILERS); do \\\n \t  if [ -f $$file ] ; then \\\n@@ -1802,6 +1800,13 @@ install-common: native install-dir xgcc g++ $(EXTRA_PARTS)\n \t  rm -f $(bindir)/$(target)-gcc-1; \\\n \t  ln $(bindir)/gcc $(bindir)/$(target)-gcc-1; \\\n \t  mv $(bindir)/$(target)-gcc-1 $(bindir)/$(target)-gcc; \\\n+\t  -if [ -f cc1plus ] ; then \\\n+\t    rm -f $(bindir)/g++; \\\n+\t    $(INSTALL_PROGRAM) g++ $(bindir)/g++; \\\n+\t    chmod a+x $(bindir)/g++; \\\n+\t    rm -f $(bindir)/c++; \\\n+\t    ln $(bindir)/g++ $(bindir)/c++; \\\n+\t  fi\n \tfi\n # Install protoize if it was compiled.\n \t-if [ -f protoize ]; \\\n@@ -1814,13 +1819,6 @@ install-common: native install-dir xgcc g++ $(EXTRA_PARTS)\n \t    $(INSTALL_DATA) SYSCALLS.c.X $(libsubdir)/SYSCALLS.c.X; \\\n \t    chmod a-x $(libsubdir)/SYSCALLS.c.X; \\\n \tfi\n-\t-if [ -f cc1plus ] ; then \\\n-\t    rm -f $(bindir)/g++; \\\n-\t    $(INSTALL_PROGRAM) g++ $(bindir)/g++; \\\n-\t    chmod a+x $(bindir)/g++; \\\n-\t    rm -f $(bindir)/c++; \\\n-\t    ln $(bindir)/g++ $(bindir)/c++; \\\n-\tfi\n \t-rm -f $(libsubdir)/cpp\n \t$(INSTALL_PROGRAM) cpp $(libsubdir)/cpp\n "}]}