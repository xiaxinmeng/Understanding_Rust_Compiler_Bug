{"sha": "77153e9cc1b19d5102169d7e9ab65e1845e52676", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzcxNTNlOWNjMWIxOWQ1MTAyMTY5ZDdlOWFiNjVlMTg0NWU1MjY3Ng==", "commit": {"author": {"name": "Andrew Macleod", "email": "amacleod@gcc.gnu.org", "date": "1998-03-16T12:52:33Z"}, "committer": {"name": "Andrew Macleod", "email": "amacleod@gcc.gnu.org", "date": "1998-03-16T12:52:33Z"}, "message": "sparc.md: Add calls to 'in_same_eh_region' in 4 peepholes involving calls and...\n\n\t* config/sparc/sparc.md: Add calls to 'in_same_eh_region' in 4\n\tpeepholes involving calls and unconditional branches.\n\nFrom-SVN: r18627", "tree": {"sha": "f512a22f0572961717ff3da3b9fe8cab40adc6bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f512a22f0572961717ff3da3b9fe8cab40adc6bc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/77153e9cc1b19d5102169d7e9ab65e1845e52676", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77153e9cc1b19d5102169d7e9ab65e1845e52676", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77153e9cc1b19d5102169d7e9ab65e1845e52676", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77153e9cc1b19d5102169d7e9ab65e1845e52676/comments", "author": null, "committer": null, "parents": [{"sha": "41fe085f07f5d4302e05fa39ac47a61fd19cb766", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41fe085f07f5d4302e05fa39ac47a61fd19cb766", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41fe085f07f5d4302e05fa39ac47a61fd19cb766"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "13c2f0e73004ea5665f293e43d2ef805dca54e0c", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77153e9cc1b19d5102169d7e9ab65e1845e52676/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77153e9cc1b19d5102169d7e9ab65e1845e52676/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=77153e9cc1b19d5102169d7e9ab65e1845e52676", "patch": "@@ -6337,15 +6337,15 @@\n \t\t\t (match_operand 2 \"\" \"\")))\n \t      (clobber (reg:SI 15))])\n    (set (pc) (label_ref (match_operand 3 \"\" \"\")))]\n-  \"short_branch (INSN_UID (insn), INSN_UID (operands[3]))\"\n+  \"short_branch (INSN_UID (insn), INSN_UID (operands[3])) && in_same_eh_region (insn, operands[3]) && in_same_eh_region (insn, ins1)\"\n   \"call %a1,%2\\;add %%o7,(%l3-.-4),%%o7\")\n \n (define_peephole\n   [(parallel [(call (mem:SI (match_operand:SI 0 \"call_operand_address\" \"ps\"))\n \t\t    (match_operand 1 \"\" \"\"))\n \t      (clobber (reg:SI 15))])\n    (set (pc) (label_ref (match_operand 2 \"\" \"\")))]\n-  \"short_branch (INSN_UID (insn), INSN_UID (operands[2]))\"\n+  \"short_branch (INSN_UID (insn), INSN_UID (operands[2])) && in_same_eh_region (insn, operands[2]) && in_same_eh_region (insn, ins1)\"\n   \"call %a0,%1\\;add %%o7,(%l2-.-4),%%o7\")\n \n (define_peephole\n@@ -6354,15 +6354,15 @@\n \t\t\t (match_operand 2 \"\" \"\")))\n \t      (clobber (reg:DI 15))])\n    (set (pc) (label_ref (match_operand 3 \"\" \"\")))]\n-  \"TARGET_ARCH64 && short_branch (INSN_UID (insn), INSN_UID (operands[3]))\"\n+  \"TARGET_ARCH64 && short_branch (INSN_UID (insn), INSN_UID (operands[3])) && in_same_eh_region (insn, operands[3]) && in_same_eh_region (insn, ins1)\"\n   \"call %a1,%2\\;add %%o7,(%l3-.-4),%%o7\")\n \n (define_peephole\n   [(parallel [(call (mem:SI (match_operand:DI 0 \"call_operand_address\" \"ps\"))\n \t\t    (match_operand 1 \"\" \"\"))\n \t      (clobber (reg:DI 15))])\n    (set (pc) (label_ref (match_operand 2 \"\" \"\")))]\n-  \"TARGET_ARCH64 && short_branch (INSN_UID (insn), INSN_UID (operands[2]))\"\n+  \"TARGET_ARCH64 && short_branch (INSN_UID (insn), INSN_UID (operands[2])) && in_same_eh_region (insn, operands[2]) && in_same_eh_region (insn, ins1)\"\n   \"call %a0,%1\\;add %%o7,(%l2-.-4),%%o7\")\n \n ;; Other miscellaneous peepholes."}]}