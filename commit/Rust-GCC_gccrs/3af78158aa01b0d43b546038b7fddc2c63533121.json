{"sha": "3af78158aa01b0d43b546038b7fddc2c63533121", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2FmNzgxNThhYTAxYjBkNDNiNTQ2MDM4YjdmZGRjMmM2MzUzMzEyMQ==", "commit": {"author": {"name": "Doug Rupp", "email": "rupp@adacore.com", "date": "2014-02-25T16:16:27Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-02-25T16:16:27Z"}, "message": "2014-02-25  Doug Rupp  <rupp@adacore.com>\n        \n\t* gcc-interface/Makefile.in (arm-linux):\n\t(EH_MECHANISM): Use ARM unwinder (-arm)\n\t(LIBGNAT_TARGET_PAIRS: Override defaults with a-exexpr-gcc.adb and\n\ts-excmac-arm.ads.\n\t(EXTRA_LIBGNAT_OBJS): Add raise-gcc.o\n\t(EXTRA_GNATRTL_NONTASKING_OBJS): Add g-cppexc.o s-excmac.o.\n\t(arm-wrs-vxworks): Add EH_MECHANISM=-gcc for kernel mode.\n\t(EXTRA_LIBGNAT_OBJS): Add sigtramp-armvxw.o\n\tAdd dependencies for sigtramp-armvxw.o.\n\nFrom-SVN: r208150", "tree": {"sha": "e881a0047dbc3a1c1a9a1bbc17d576a3dffa1e91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e881a0047dbc3a1c1a9a1bbc17d576a3dffa1e91"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3af78158aa01b0d43b546038b7fddc2c63533121", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3af78158aa01b0d43b546038b7fddc2c63533121", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3af78158aa01b0d43b546038b7fddc2c63533121", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3af78158aa01b0d43b546038b7fddc2c63533121/comments", "author": {"login": "Cementitious", "id": 115579865, "node_id": "U_kgDOBuOb2Q", "avatar_url": "https://avatars.githubusercontent.com/u/115579865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cementitious", "html_url": "https://github.com/Cementitious", "followers_url": "https://api.github.com/users/Cementitious/followers", "following_url": "https://api.github.com/users/Cementitious/following{/other_user}", "gists_url": "https://api.github.com/users/Cementitious/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cementitious/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cementitious/subscriptions", "organizations_url": "https://api.github.com/users/Cementitious/orgs", "repos_url": "https://api.github.com/users/Cementitious/repos", "events_url": "https://api.github.com/users/Cementitious/events{/privacy}", "received_events_url": "https://api.github.com/users/Cementitious/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2749b01b7d6a211769ecf573da8e4c16f266f04c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2749b01b7d6a211769ecf573da8e4c16f266f04c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2749b01b7d6a211769ecf573da8e4c16f266f04c"}], "stats": {"total": 30, "additions": 27, "deletions": 3}, "files": [{"sha": "3e8cbda0b08aa7483df94ec63f540bcb0ca14cfd", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3af78158aa01b0d43b546038b7fddc2c63533121/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3af78158aa01b0d43b546038b7fddc2c63533121/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=3af78158aa01b0d43b546038b7fddc2c63533121", "patch": "@@ -1,3 +1,15 @@\n+2014-02-25  Doug Rupp  <rupp@adacore.com>\n+\n+\t* gcc-interface/Makefile.in (arm-linux):\n+\t(EH_MECHANISM): Use ARM unwinder (-arm)\n+\t(LIBGNAT_TARGET_PAIRS: Override defaults with a-exexpr-gcc.adb and\n+\ts-excmac-arm.ads.\n+\t(EXTRA_LIBGNAT_OBJS): Add raise-gcc.o\n+\t(EXTRA_GNATRTL_NONTASKING_OBJS): Add g-cppexc.o s-excmac.o.\n+\t(arm-wrs-vxworks): Add EH_MECHANISM=-gcc for kernel mode.\n+\t(EXTRA_LIBGNAT_OBJS): Add sigtramp-armvxw.o\n+\tAdd dependencies for sigtramp-armvxw.o.\n+\n 2014-02-25  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/trans.c (Pragma_to_gnu): Deal with Warning_As_Error."}, {"sha": "e353d89efcdec108b6a0dd41eec04a245e202d27", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 15, "deletions": 3, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3af78158aa01b0d43b546038b7fddc2c63533121/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3af78158aa01b0d43b546038b7fddc2c63533121/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=3af78158aa01b0d43b546038b7fddc2c63533121", "patch": "@@ -970,23 +970,29 @@ ifeq ($(strip $(filter-out arm% coff wrs vx%,$(target_cpu) $(target_vendor) $(ta\n     EXTRA_LIBGNAT_OBJS+=affinity.o\n   else\n     ifeq ($(strip $(filter-out kernel-smp,$(THREAD_KIND))),)\n+      EH_MECHANISM=-gcc\n+\n       LIBGNAT_TARGET_PAIRS += \\\n       s-mudido.adb<s-mudido-affinity.adb \\\n       s-tpopsp.adb<s-tpopsp-vxworks-tls.adb \\\n       s-vxwext.ads<s-vxwext-kernel.ads \\\n       s-vxwext.adb<s-vxwext-kernel-smp.adb \\\n       system.ads<system-vxworks-arm.ads\n \n-      EXTRA_LIBGNAT_OBJS+=affinity.o\n+      EXTRA_LIBGNAT_OBJS+=affinity.o sigtramp-armvxw.o\n     else\n       LIBGNAT_TARGET_PAIRS += \\\n       s-tpopsp.adb<s-tpopsp-vxworks.adb \\\n       system.ads<system-vxworks-arm.ads\n \n       ifeq ($(strip $(filter-out kernel,$(THREAD_KIND))),)\n+        EH_MECHANISM=-gcc\n+\n         LIBGNAT_TARGET_PAIRS += \\\n         s-vxwext.ads<s-vxwext-kernel.ads \\\n         s-vxwext.adb<s-vxwext-kernel.adb\n+\n+        EXTRA_LIBGNAT_OBJS+=sigtramp-armvxw.o\n       endif\n     endif\n   endif\n@@ -1952,19 +1958,24 @@ ifeq ($(strip $(filter-out arm% linux-gnueabi%,$(target_cpu) $(target_os))),)\n   s-tpopsp.adb<s-tpopsp-posix-foreign.adb\n \n   ifeq ($(strip $(filter-out arm%b,$(target_cpu))),)\n+    EH_MECHANISM=\n     LIBGNAT_TARGET_PAIRS += \\\n     system.ads<system-linux-armeb.ads\n   else\n+    EH_MECHANISM=-arm\n     LIBGNAT_TARGET_PAIRS += \\\n-    system.ads<system-linux-armel.ads\n+    system.ads<system-linux-armel.ads \\\n+    a-exexpr.adb<a-exexpr-gcc.adb \\\n+    s-excmac.ads<s-excmac-arm.ads\n   endif\n \n   TOOLS_TARGET_PAIRS =  \\\n     mlib-tgt-specific.adb<mlib-tgt-specific-linux.adb \\\n     indepsw.adb<indepsw-gnu.adb\n \n   EXTRA_GNATRTL_TASKING_OBJS=s-linux.o\n-  EH_MECHANISM=\n+  EXTRA_LIBGNAT_OBJS+=raise-gcc.o\n+  EXTRA_GNATRTL_NONTASKING_OBJS+=g-cppexc.o s-excmac.o\n   THREADSLIB = -lpthread\n   GNATLIB_SHARED = gnatlib-shared-dual\n   GMEM_LIB = gmemlib\n@@ -3051,6 +3062,7 @@ mkdir.o   : mkdir.c\n socket.o  : socket.c gsocket.h\n sysdep.o  : sysdep.c\n raise.o   : raise.c raise.h\n+sigtramp-armvxw.o : sigtramp-armvxw.c sigtramp.h\n sigtramp-ppcvxw.o : sigtramp-ppcvxw.c sigtramp.h\n terminals.o : terminals.c\n vx_stack_info.o : vx_stack_info.c"}]}