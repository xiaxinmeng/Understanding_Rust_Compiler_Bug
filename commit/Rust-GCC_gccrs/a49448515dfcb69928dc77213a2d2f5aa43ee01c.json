{"sha": "a49448515dfcb69928dc77213a2d2f5aa43ee01c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTQ5NDQ4NTE1ZGZjYjY5OTI4ZGM3NzIxM2EyZDJmNWFhNDNlZTAxYw==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2015-09-21T14:41:10Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2015-09-21T14:41:10Z"}, "message": "* config/spu/spu.c (spu_expand_insv): Avoid undefined behavior.\n\nFrom-SVN: r227974", "tree": {"sha": "bb1e7bf207e138049df90e8d0f09b0c4eba48da1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bb1e7bf207e138049df90e8d0f09b0c4eba48da1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a49448515dfcb69928dc77213a2d2f5aa43ee01c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a49448515dfcb69928dc77213a2d2f5aa43ee01c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a49448515dfcb69928dc77213a2d2f5aa43ee01c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a49448515dfcb69928dc77213a2d2f5aa43ee01c/comments", "author": null, "committer": null, "parents": [{"sha": "b1e251ec9ec0260943485793446bfe249eaae290", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1e251ec9ec0260943485793446bfe249eaae290", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1e251ec9ec0260943485793446bfe249eaae290"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "c25888aa09bb2c0e834c1da1f1ab9db141d41855", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a49448515dfcb69928dc77213a2d2f5aa43ee01c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a49448515dfcb69928dc77213a2d2f5aa43ee01c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a49448515dfcb69928dc77213a2d2f5aa43ee01c", "patch": "@@ -1,3 +1,7 @@\n+2015-09-21  Ulrich Weigand  <Ulrich.Weigand@de.ibm.com>\n+\n+\t* config/spu/spu.c (spu_expand_insv): Avoid undefined behavior.\n+\n 2015-09-21  Richard Biener  <rguenther@suse.de>\n \n \t* passes.c (rest_of_decl_compilation): Do not call"}, {"sha": "482145377daf38e9e002615842335c04a572b673", "filename": "gcc/config/spu/spu.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a49448515dfcb69928dc77213a2d2f5aa43ee01c/gcc%2Fconfig%2Fspu%2Fspu.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a49448515dfcb69928dc77213a2d2f5aa43ee01c/gcc%2Fconfig%2Fspu%2Fspu.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fspu%2Fspu.c?ref=a49448515dfcb69928dc77213a2d2f5aa43ee01c", "patch": "@@ -472,7 +472,7 @@ spu_expand_insv (rtx ops[])\n {\n   HOST_WIDE_INT width = INTVAL (ops[1]);\n   HOST_WIDE_INT start = INTVAL (ops[2]);\n-  HOST_WIDE_INT maskbits;\n+  unsigned HOST_WIDE_INT maskbits;\n   machine_mode dst_mode;\n   rtx dst = ops[0], src = ops[3];\n   int dst_size;\n@@ -527,15 +527,15 @@ spu_expand_insv (rtx ops[])\n   switch (dst_size)\n     {\n     case 32:\n-      maskbits = (-1ll << (32 - width - start));\n+      maskbits = (~(unsigned HOST_WIDE_INT)0 << (32 - width - start));\n       if (start)\n-\tmaskbits += (1ll << (32 - start));\n+\tmaskbits += ((unsigned HOST_WIDE_INT)1 << (32 - start));\n       emit_move_insn (mask, GEN_INT (maskbits));\n       break;\n     case 64:\n-      maskbits = (-1ll << (64 - width - start));\n+      maskbits = (~(unsigned HOST_WIDE_INT)0 << (64 - width - start));\n       if (start)\n-\tmaskbits += (1ll << (64 - start));\n+\tmaskbits += ((unsigned HOST_WIDE_INT)1 << (64 - start));\n       emit_move_insn (mask, GEN_INT (maskbits));\n       break;\n     case 128:"}]}