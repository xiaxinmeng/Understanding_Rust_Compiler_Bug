{"sha": "e5e447966658e7be35927f8ba65b20933b052b26", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTVlNDQ3OTY2NjU4ZTdiZTM1OTI3ZjhiYTY1YjIwOTMzYjA1MmIyNg==", "commit": {"author": {"name": "Jie Zhang", "email": "jie.zhang@analog.com", "date": "2009-09-15T09:10:51Z"}, "committer": {"name": "Jie Zhang", "email": "jiez@gcc.gnu.org", "date": "2009-09-15T09:10:51Z"}, "message": "bfin.c (length_for_loop): Use NONDEBUG_INSN_P instead of INSN_P.\n\n\t* config/bfin/bfin.c (length_for_loop): Use NONDEBUG_INSN_P\n\tinstead of INSN_P.\n\t(bfin_optimize_loop): Likewise.\n\t(bfin_gen_bundles): Likewise.\n\t(workaround_speculation): Likewise.\n\t(find_load): Return NULL_RTX for debug_insn.\n\nFrom-SVN: r151712", "tree": {"sha": "d84883b4de6d619422bcf600178ddd58f2dd29e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d84883b4de6d619422bcf600178ddd58f2dd29e4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e5e447966658e7be35927f8ba65b20933b052b26", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5e447966658e7be35927f8ba65b20933b052b26", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5e447966658e7be35927f8ba65b20933b052b26", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5e447966658e7be35927f8ba65b20933b052b26/comments", "author": {"login": "jiez-adi", "id": 103514486, "node_id": "U_kgDOBiuBdg", "avatar_url": "https://avatars.githubusercontent.com/u/103514486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiez-adi", "html_url": "https://github.com/jiez-adi", "followers_url": "https://api.github.com/users/jiez-adi/followers", "following_url": "https://api.github.com/users/jiez-adi/following{/other_user}", "gists_url": "https://api.github.com/users/jiez-adi/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiez-adi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiez-adi/subscriptions", "organizations_url": "https://api.github.com/users/jiez-adi/orgs", "repos_url": "https://api.github.com/users/jiez-adi/repos", "events_url": "https://api.github.com/users/jiez-adi/events{/privacy}", "received_events_url": "https://api.github.com/users/jiez-adi/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6dac2e8ef755d3e6ed06bdf9fabb799cadcd17cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6dac2e8ef755d3e6ed06bdf9fabb799cadcd17cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6dac2e8ef755d3e6ed06bdf9fabb799cadcd17cd"}], "stats": {"total": 21, "additions": 16, "deletions": 5}, "files": [{"sha": "1b36f26cabde2ad21d8bd2c89e4359636feda91c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e5e447966658e7be35927f8ba65b20933b052b26/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e5e447966658e7be35927f8ba65b20933b052b26/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e5e447966658e7be35927f8ba65b20933b052b26", "patch": "@@ -1,3 +1,12 @@\n+2009-09-15  Jie Zhang  <jie.zhang@analog.com>\n+\n+\t* config/bfin/bfin.c (length_for_loop): Use NONDEBUG_INSN_P\n+\tinstead of INSN_P.\n+\t(bfin_optimize_loop): Likewise.\n+\t(bfin_gen_bundles): Likewise.\n+\t(workaround_speculation): Likewise.\n+\t(find_load): Return NULL_RTX for debug_insn.\n+\n 2009-09-15  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/alpha/alpha.md (smaxsf3): Disable for IEEE mode."}, {"sha": "92aaf5770c4231e0daf45bc6e195cade97eeca01", "filename": "gcc/config/bfin/bfin.c", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e5e447966658e7be35927f8ba65b20933b052b26/gcc%2Fconfig%2Fbfin%2Fbfin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e5e447966658e7be35927f8ba65b20933b052b26/gcc%2Fconfig%2Fbfin%2Fbfin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fbfin.c?ref=e5e447966658e7be35927f8ba65b20933b052b26", "patch": "@@ -3836,7 +3836,7 @@ length_for_loop (rtx insn)\n \tlength = 4;\n     }\n \n-  if (INSN_P (insn))\n+  if (NONDEBUG_INSN_P (insn))\n     length += get_attr_length (insn);\n \n   return length;\n@@ -4073,7 +4073,7 @@ bfin_optimize_loop (loop_info loop)\n     {\n       for (; last_insn != BB_HEAD (bb);\n \t   last_insn = find_prev_insn_start (last_insn))\n-\tif (INSN_P (last_insn))\n+\tif (NONDEBUG_INSN_P (last_insn))\n \t  break;\n \n       if (last_insn != BB_HEAD (bb))\n@@ -4837,7 +4837,7 @@ bfin_gen_bundles (void)\n \t  int at_end;\n \t  rtx delete_this = NULL_RTX;\n \n-\t  if (INSN_P (insn))\n+\t  if (NONDEBUG_INSN_P (insn))\n \t    {\n \t      enum attr_type type = get_attr_type (insn);\n \n@@ -5091,6 +5091,8 @@ trapping_loads_p (rtx insn, int np_reg, bool after_np_branch)\n static rtx\n find_load (rtx insn)\n {\n+  if (!NONDEBUG_INSN_P (insn))\n+    return NULL_RTX;\n   if (get_attr_type (insn) == TYPE_MCLD)\n     return insn;\n   if (GET_MODE (insn) != SImode)\n@@ -5211,7 +5213,7 @@ workaround_speculation (void)\n \t      delay_needed = 3;\n \t    }\n \t}\n-      else if (INSN_P (insn))\n+      else if (NONDEBUG_INSN_P (insn))\n \t{\n \t  rtx load_insn = find_load (insn);\n \t  enum attr_type type = type_for_anomaly (insn);\n@@ -5324,7 +5326,7 @@ workaround_speculation (void)\n \t\t  || GET_CODE (pat) == ADDR_DIFF_VEC || asm_noperands (pat) >= 0)\n \t\tcontinue;\n \n-\t      if (INSN_P (target))\n+\t      if (NONDEBUG_INSN_P (target))\n \t\t{\n \t\t  rtx load_insn = find_load (target);\n \t\t  enum attr_type type = type_for_anomaly (target);"}]}