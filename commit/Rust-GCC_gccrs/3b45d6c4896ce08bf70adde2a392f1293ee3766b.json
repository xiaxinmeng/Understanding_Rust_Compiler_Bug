{"sha": "3b45d6c4896ce08bf70adde2a392f1293ee3766b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2I0NWQ2YzQ4OTZjZTA4YmY3MGFkZGUyYTM5MmYxMjkzZWUzNzY2Yg==", "commit": {"author": {"name": "Brooks Moses", "email": "brooks.moses@codesourcery.com", "date": "2007-05-28T20:53:09Z"}, "committer": {"name": "Brooks Moses", "email": "brooks@gcc.gnu.org", "date": "2007-05-28T20:53:09Z"}, "message": "PR 31972/fortran\n\nPR 31972/fortran\n* target-memory.c (gfc_target_expr_size): Add handling\nfor size of BT_HOLLERITH variables.\n* check.c (gfc_check_transfer): Reject BT_HOLLERITH\nvariables in MOLD argument of TRANSFER.\n\nFrom-SVN: r125141", "tree": {"sha": "363cf8a953f0ea97bb498a2f0ce39e2e5647b378", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/363cf8a953f0ea97bb498a2f0ce39e2e5647b378"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3b45d6c4896ce08bf70adde2a392f1293ee3766b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b45d6c4896ce08bf70adde2a392f1293ee3766b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b45d6c4896ce08bf70adde2a392f1293ee3766b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b45d6c4896ce08bf70adde2a392f1293ee3766b/comments", "author": null, "committer": null, "parents": [{"sha": "3613c7abfa4392fd47d5078eb2261ad763772d2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3613c7abfa4392fd47d5078eb2261ad763772d2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3613c7abfa4392fd47d5078eb2261ad763772d2e"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "001e66e5339c0c3a3fc21edd2afd387c8f63103b", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b45d6c4896ce08bf70adde2a392f1293ee3766b/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b45d6c4896ce08bf70adde2a392f1293ee3766b/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=3b45d6c4896ce08bf70adde2a392f1293ee3766b", "patch": "@@ -1,3 +1,11 @@\n+2007-05-28  Brooks Moses  <brooks.moses@codesourcery.com>\n+\n+\tPR 31972/fortran\n+\t* target-memory.c (gfc_target_expr_size): Add handling\n+\tfor size of BT_HOLLERITH variables.\n+\t* check.c (gfc_check_transfer): Reject BT_HOLLERITH\n+\tvariables in MOLD argument of TRANSFER.\n+\n 2007-05-28  Brooks Moses  <brooks.moses@codesourcery.com>\n \n \t* gfortran.h (gfc_expr): Remove from_H, add \"representation\""}, {"sha": "e229002671422aefba04f99f6ac5c9b55ae45d78", "filename": "gcc/fortran/check.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b45d6c4896ce08bf70adde2a392f1293ee3766b/gcc%2Ffortran%2Fcheck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b45d6c4896ce08bf70adde2a392f1293ee3766b/gcc%2Ffortran%2Fcheck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fcheck.c?ref=3b45d6c4896ce08bf70adde2a392f1293ee3766b", "patch": "@@ -2601,6 +2601,13 @@ try\n gfc_check_transfer (gfc_expr *source ATTRIBUTE_UNUSED,\n \t\t    gfc_expr *mold ATTRIBUTE_UNUSED, gfc_expr *size)\n {\n+  if (mold->ts.type == BT_HOLLERITH)\n+    {\n+      gfc_error (\"'MOLD' argument of 'TRANSFER' intrinsic at %L must not be %s\",\n+\t\t &mold->where, gfc_basic_typename (BT_HOLLERITH));\n+      return FAILURE;\n+    }\n+\n   if (size != NULL)\n     {\n       if (type_check (size, 2, BT_INTEGER) == FAILURE)"}, {"sha": "e23574417bd186405d6bb8f3b1767e07d638e816", "filename": "gcc/fortran/target-memory.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b45d6c4896ce08bf70adde2a392f1293ee3766b/gcc%2Ffortran%2Ftarget-memory.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b45d6c4896ce08bf70adde2a392f1293ee3766b/gcc%2Ffortran%2Ftarget-memory.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftarget-memory.c?ref=3b45d6c4896ce08bf70adde2a392f1293ee3766b", "patch": "@@ -102,6 +102,8 @@ gfc_target_expr_size (gfc_expr *e)\n       return size_logical (e->ts.kind);\n     case BT_CHARACTER:\n       return size_character (e->value.character.length);\n+    case BT_HOLLERITH:\n+      return e->representation.length;\n     case BT_DERIVED:\n       type = gfc_typenode_for_spec (&e->ts);\n       return int_size_in_bytes (type);"}]}