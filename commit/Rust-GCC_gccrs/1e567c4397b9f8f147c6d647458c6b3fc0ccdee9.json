{"sha": "1e567c4397b9f8f147c6d647458c6b3fc0ccdee9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWU1NjdjNDM5N2I5ZjhmMTQ3YzZkNjQ3NDU4YzZiM2ZjMGNjZGVlOQ==", "commit": {"author": {"name": "Thomas Fitzsimmons", "email": "fitzsim@redhat.com", "date": "2004-02-02T02:18:33Z"}, "committer": {"name": "Thomas Fitzsimmons", "email": "fitzsim@gcc.gnu.org", "date": "2004-02-02T02:18:33Z"}, "message": "configure.in: Add pkgconfig check for glib and gthread.\n\n2004-02-01  Thomas Fitzsimmons  <fitzsim@redhat.com>\n\n\t* configure.in: Add pkgconfig check for glib and gthread.\n\t* configure: Regenerate.\n\nFrom-SVN: r77093", "tree": {"sha": "5bb1f3e8f1b9ed02b70efc983fa4ef6227f484fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5bb1f3e8f1b9ed02b70efc983fa4ef6227f484fd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1e567c4397b9f8f147c6d647458c6b3fc0ccdee9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e567c4397b9f8f147c6d647458c6b3fc0ccdee9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e567c4397b9f8f147c6d647458c6b3fc0ccdee9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e567c4397b9f8f147c6d647458c6b3fc0ccdee9/comments", "author": null, "committer": null, "parents": [{"sha": "9febc4e8def2dbed004c56126ccd6218ffb6fd38", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9febc4e8def2dbed004c56126ccd6218ffb6fd38", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9febc4e8def2dbed004c56126ccd6218ffb6fd38"}], "stats": {"total": 267, "additions": 185, "deletions": 82}, "files": [{"sha": "454b7486a70d56f1a45561a3e12851768646d5c9", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e567c4397b9f8f147c6d647458c6b3fc0ccdee9/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e567c4397b9f8f147c6d647458c6b3fc0ccdee9/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=1e567c4397b9f8f147c6d647458c6b3fc0ccdee9", "patch": "@@ -1,3 +1,8 @@\n+2004-02-01  Thomas Fitzsimmons  <fitzsim@redhat.com>\n+\n+\t* configure.in: Add pkgconfig check for glib and gthread.\n+\t* configure: Regenerate.\n+\n 2004-02-01  Michael Koch  <konqueror@gmx.de>\n \n \t* include/jvm.h (MAYBE_UNUSED): New macro tp mark probably unused"}, {"sha": "01e34ea0c6374418b03c2af0dc1078e3db88e59d", "filename": "libjava/configure", "status": "modified", "additions": 176, "deletions": 82, "changes": 258, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e567c4397b9f8f147c6d647458c6b3fc0ccdee9/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e567c4397b9f8f147c6d647458c6b3fc0ccdee9/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=1e567c4397b9f8f147c6d647458c6b3fc0ccdee9", "patch": "@@ -1630,7 +1630,7 @@ else\n   if { (eval echo configure:1631: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n-      *.$ac_ext | *.c | *.o | *.obj) ;;\n+      *.c | *.o | *.obj) ;;\n       *) ac_cv_exeext=`echo $file | sed -e s/conftest//` ;;\n       esac\n     done\n@@ -6919,6 +6919,98 @@ fi\n \n   fi\n \n+  if test \"$PKG_CONFIG\" = \"no\" ; then\n+     echo \"*** The pkg-config script could not be found. Make sure it is\"\n+     echo \"*** in your path, or set the PKG_CONFIG environment variable\"\n+     echo \"*** to the full path to pkg-config.\"\n+     echo \"*** Or see http://www.freedesktop.org/software/pkgconfig to get pkg-config.\"\n+  else\n+     PKG_CONFIG_MIN_VERSION=0.9.0\n+     if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then\n+        echo $ac_n \"checking for glib-2.0 >= 2.2 gthread-2.0 >= 2.2\"\"... $ac_c\" 1>&6\n+echo \"configure:6932: checking for glib-2.0 >= 2.2 gthread-2.0 >= 2.2\" >&5\n+\n+        if $PKG_CONFIG --exists \"glib-2.0 >= 2.2 gthread-2.0 >= 2.2\" ; then\n+            echo \"$ac_t\"\"yes\" 1>&6\n+            succeeded=yes\n+\n+            echo $ac_n \"checking GLIB_CFLAGS\"\"... $ac_c\" 1>&6\n+echo \"configure:6939: checking GLIB_CFLAGS\" >&5\n+            GLIB_CFLAGS=`$PKG_CONFIG --cflags \"glib-2.0 >= 2.2 gthread-2.0 >= 2.2\"`\n+            echo \"$ac_t\"\"$GLIB_CFLAGS\" 1>&6\n+\n+            echo $ac_n \"checking GLIB_LIBS\"\"... $ac_c\" 1>&6\n+echo \"configure:6944: checking GLIB_LIBS\" >&5\n+            GLIB_LIBS=`$PKG_CONFIG --libs \"glib-2.0 >= 2.2 gthread-2.0 >= 2.2\"`\n+            echo \"$ac_t\"\"$GLIB_LIBS\" 1>&6\n+        else\n+            GLIB_CFLAGS=\"\"\n+            GLIB_LIBS=\"\"\n+            ## If we have a custom action on failure, don't print errors, but \n+            ## do set a variable so people can do so.\n+            GLIB_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"glib-2.0 >= 2.2 gthread-2.0 >= 2.2\"`\n+            echo $GLIB_PKG_ERRORS\n+        fi\n+\n+        \n+        \n+     else\n+        echo \"*** Your version of pkg-config is too old. You need version $PKG_CONFIG_MIN_VERSION or newer.\"\n+        echo \"*** See http://www.freedesktop.org/software/pkgconfig\"\n+     fi\n+  fi\n+\n+  if test $succeeded = yes; then\n+     :\n+  else\n+     { echo \"configure: error: Library requirements (glib-2.0 >= 2.2 gthread-2.0 >= 2.2) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" 1>&2; exit 1; }\n+  fi\n+\n+      \n+      \n+\n+      \n+  succeeded=no\n+\n+  if test -z \"$PKG_CONFIG\"; then\n+    # Extract the first word of \"pkg-config\", so it can be a program name with args.\n+set dummy pkg-config; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:6980: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_path_PKG_CONFIG'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  case \"$PKG_CONFIG\" in\n+  /*)\n+  ac_cv_path_PKG_CONFIG=\"$PKG_CONFIG\" # Let the user override the test with a path.\n+  ;;\n+  ?:/*)\t\t\t \n+  ac_cv_path_PKG_CONFIG=\"$PKG_CONFIG\" # Let the user override the test with a dos path.\n+  ;;\n+  *)\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do \n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_path_PKG_CONFIG=\"$ac_dir/$ac_word\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_path_PKG_CONFIG\" && ac_cv_path_PKG_CONFIG=\"no\"\n+  ;;\n+esac\n+fi\n+PKG_CONFIG=\"$ac_cv_path_PKG_CONFIG\"\n+if test -n \"$PKG_CONFIG\"; then\n+  echo \"$ac_t\"\"$PKG_CONFIG\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+  fi\n+\n   if test \"$PKG_CONFIG\" = \"no\" ; then\n      echo \"*** The pkg-config script could not be found. Make sure it is\"\n      echo \"*** in your path, or set the PKG_CONFIG environment variable\"\n@@ -6928,19 +7020,19 @@ fi\n      PKG_CONFIG_MIN_VERSION=0.9.0\n      if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then\n         echo $ac_n \"checking for libart-2.0 >= 2.1\"\"... $ac_c\" 1>&6\n-echo \"configure:6932: checking for libart-2.0 >= 2.1\" >&5\n+echo \"configure:7024: checking for libart-2.0 >= 2.1\" >&5\n \n         if $PKG_CONFIG --exists \"libart-2.0 >= 2.1\" ; then\n             echo \"$ac_t\"\"yes\" 1>&6\n             succeeded=yes\n \n             echo $ac_n \"checking LIBART_CFLAGS\"\"... $ac_c\" 1>&6\n-echo \"configure:6939: checking LIBART_CFLAGS\" >&5\n+echo \"configure:7031: checking LIBART_CFLAGS\" >&5\n             LIBART_CFLAGS=`$PKG_CONFIG --cflags \"libart-2.0 >= 2.1\"`\n             echo \"$ac_t\"\"$LIBART_CFLAGS\" 1>&6\n \n             echo $ac_n \"checking LIBART_LIBS\"\"... $ac_c\" 1>&6\n-echo \"configure:6944: checking LIBART_LIBS\" >&5\n+echo \"configure:7036: checking LIBART_LIBS\" >&5\n             LIBART_LIBS=`$PKG_CONFIG --libs \"libart-2.0 >= 2.1\"`\n             echo \"$ac_t\"\"$LIBART_LIBS\" 1>&6\n         else\n@@ -6974,22 +7066,22 @@ echo \"configure:6944: checking LIBART_LIBS\" >&5\n    # requires -ldl.\n    if test \"$GC\" = boehm; then\n       echo $ac_n \"checking for main in -ldl\"\"... $ac_c\" 1>&6\n-echo \"configure:6978: checking for main in -ldl\" >&5\n+echo \"configure:7070: checking for main in -ldl\" >&5\n ac_lib_var=`echo dl'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-ldl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6986 \"configure\"\n+#line 7078 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:6993: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7085: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7110,7 +7202,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}gcj\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}gcj; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7114: checking for $ac_word\" >&5\n+echo \"configure:7206: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GCJ'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7142,7 +7234,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"gcj\", so it can be a program name with args.\n set dummy gcj; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7146: checking for $ac_word\" >&5\n+echo \"configure:7238: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GCJ'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7204,13 +7296,13 @@ exec 5>>./config.log\n CPPFLAGS=$GCJ_SAVE_CPPFLAGS\n \n echo $ac_n \"checking size of void *\"\"... $ac_c\" 1>&6\n-echo \"configure:7208: checking size of void *\" >&5\n+echo \"configure:7300: checking size of void *\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_void_p'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 7214 \"configure\"\n+#line 7306 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -7220,7 +7312,7 @@ int main() {\n switch (0) case 0: case (sizeof (void *) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:7224: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7316: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_void_p=$ac_size\n else\n@@ -7333,17 +7425,17 @@ for ac_hdr in unistd.h bstring.h sys/time.h sys/types.h fcntl.h sys/ioctl.h sys/\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7337: checking for $ac_hdr\" >&5\n+echo \"configure:7429: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7342 \"configure\"\n+#line 7434 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7347: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7439: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7373,17 +7465,17 @@ for ac_hdr in dirent.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7377: checking for $ac_hdr\" >&5\n+echo \"configure:7469: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7382 \"configure\"\n+#line 7474 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7387: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7479: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7413,17 +7505,17 @@ for ac_hdr in inttypes.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7417: checking for $ac_hdr\" >&5\n+echo \"configure:7509: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7422 \"configure\"\n+#line 7514 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7427: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7519: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7459,12 +7551,12 @@ fi\n done\n \n echo $ac_n \"checking for sys/wait.h that is POSIX.1 compatible\"\"... $ac_c\" 1>&6\n-echo \"configure:7463: checking for sys/wait.h that is POSIX.1 compatible\" >&5\n+echo \"configure:7555: checking for sys/wait.h that is POSIX.1 compatible\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_sys_wait_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7468 \"configure\"\n+#line 7560 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/wait.h>\n@@ -7480,7 +7572,7 @@ wait (&s);\n s = WIFEXITED (s) ? WEXITSTATUS (s) : 1;\n ; return 0; }\n EOF\n-if { (eval echo configure:7484: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7576: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_sys_wait_h=yes\n else\n@@ -7502,20 +7594,20 @@ fi\n \n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:7506: checking for ANSI C header files\" >&5\n+echo \"configure:7598: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7511 \"configure\"\n+#line 7603 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7519: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7611: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7532,7 +7624,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 7536 \"configure\"\n+#line 7628 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -7550,7 +7642,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 7554 \"configure\"\n+#line 7646 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -7571,7 +7663,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7575 \"configure\"\n+#line 7667 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -7582,7 +7674,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:7586: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:7678: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -7606,12 +7698,12 @@ EOF\n fi\n \n echo $ac_n \"checking for ssize_t\"\"... $ac_c\" 1>&6\n-echo \"configure:7610: checking for ssize_t\" >&5\n+echo \"configure:7702: checking for ssize_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_ssize_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7615 \"configure\"\n+#line 7707 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -7640,9 +7732,9 @@ fi\n \n \n echo $ac_n \"checking for in_addr_t\"\"... $ac_c\" 1>&6\n-echo \"configure:7644: checking for in_addr_t\" >&5\n+echo \"configure:7736: checking for in_addr_t\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 7646 \"configure\"\n+#line 7738 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -7656,7 +7748,7 @@ int main() {\n in_addr_t foo;\n ; return 0; }\n EOF\n-if { (eval echo configure:7660: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7752: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_IN_ADDR_T 1\n@@ -7672,16 +7764,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking whether struct ip_mreq is in netinet/in.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7676: checking whether struct ip_mreq is in netinet/in.h\" >&5\n+echo \"configure:7768: checking whether struct ip_mreq is in netinet/in.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 7678 \"configure\"\n+#line 7770 \"configure\"\n #include \"confdefs.h\"\n #include <netinet/in.h>\n int main() {\n struct ip_mreq mreq;\n ; return 0; }\n EOF\n-if { (eval echo configure:7685: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7777: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_STRUCT_IP_MREQ 1\n@@ -7697,16 +7789,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking whether struct ipv6_mreq is in netinet/in.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7701: checking whether struct ipv6_mreq is in netinet/in.h\" >&5\n+echo \"configure:7793: checking whether struct ipv6_mreq is in netinet/in.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 7703 \"configure\"\n+#line 7795 \"configure\"\n #include \"confdefs.h\"\n #include <netinet/in.h>\n int main() {\n struct ipv6_mreq mreq6;\n ; return 0; }\n EOF\n-if { (eval echo configure:7710: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7802: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_STRUCT_IPV6_MREQ 1\n@@ -7722,16 +7814,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking whether struct sockaddr_in6 is in netinet/in.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7726: checking whether struct sockaddr_in6 is in netinet/in.h\" >&5\n+echo \"configure:7818: checking whether struct sockaddr_in6 is in netinet/in.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 7728 \"configure\"\n+#line 7820 \"configure\"\n #include \"confdefs.h\"\n #include <netinet/in.h>\n int main() {\n struct sockaddr_in6 addr6;\n ; return 0; }\n EOF\n-if { (eval echo configure:7735: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7827: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_INET6 1\n@@ -7747,9 +7839,9 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking for socklen_t in sys/socket.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7751: checking for socklen_t in sys/socket.h\" >&5\n+echo \"configure:7843: checking for socklen_t in sys/socket.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 7753 \"configure\"\n+#line 7845 \"configure\"\n #include \"confdefs.h\"\n #define _POSIX_PII_SOCKET\n #include <sys/types.h>\n@@ -7758,7 +7850,7 @@ int main() {\n socklen_t x = 5;\n ; return 0; }\n EOF\n-if { (eval echo configure:7762: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7854: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_SOCKLEN_T 1\n@@ -7774,16 +7866,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking for tm_gmtoff in struct tm\"\"... $ac_c\" 1>&6\n-echo \"configure:7778: checking for tm_gmtoff in struct tm\" >&5\n+echo \"configure:7870: checking for tm_gmtoff in struct tm\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 7780 \"configure\"\n+#line 7872 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n int main() {\n struct tm tim; tim.tm_gmtoff = 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:7787: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7879: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define STRUCT_TM_HAS_GMTOFF 1\n@@ -7796,16 +7888,16 @@ else\n   rm -rf conftest*\n   echo \"$ac_t\"\"no\" 1>&6\n    echo $ac_n \"checking for global timezone variable\"\"... $ac_c\" 1>&6\n-echo \"configure:7800: checking for global timezone variable\" >&5\n+echo \"configure:7892: checking for global timezone variable\" >&5\n                cat > conftest.$ac_ext <<EOF\n-#line 7802 \"configure\"\n+#line 7894 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n int main() {\n void i(){long z2 = 2*timezone;}\n ; return 0; }\n EOF\n-if { (eval echo configure:7809: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7901: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_TIMEZONE 1\n@@ -7818,16 +7910,16 @@ else\n   rm -rf conftest*\n   echo \"$ac_t\"\"no\" 1>&6\n        echo $ac_n \"checking for global _timezone variable\"\"... $ac_c\" 1>&6\n-echo \"configure:7822: checking for global _timezone variable\" >&5\n+echo \"configure:7914: checking for global _timezone variable\" >&5\n               cat > conftest.$ac_ext <<EOF\n-#line 7824 \"configure\"\n+#line 7916 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n int main() {\n long z2 = _timezone;\n ; return 0; }\n EOF\n-if { (eval echo configure:7831: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7923: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_UNDERSCORE_TIMEZONE 1\n@@ -7849,19 +7941,19 @@ rm -f conftest*\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7853: checking for working alloca.h\" >&5\n+echo \"configure:7945: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7858 \"configure\"\n+#line 7950 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:7865: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7957: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -7882,12 +7974,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:7886: checking for alloca\" >&5\n+echo \"configure:7978: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7891 \"configure\"\n+#line 7983 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -7915,7 +8007,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:7919: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8011: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -7947,12 +8039,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:7951: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:8043: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7956 \"configure\"\n+#line 8048 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -7977,12 +8069,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7981: checking for $ac_func\" >&5\n+echo \"configure:8073: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7986 \"configure\"\n+#line 8078 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -8005,7 +8097,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:8009: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8101: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -8032,15 +8124,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:8036: checking stack direction for C alloca\" >&5\n+echo \"configure:8128: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8044 \"configure\"\n+#line 8136 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -8059,7 +8151,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:8063: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:8155: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -8084,17 +8176,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:8088: checking for $ac_hdr\" >&5\n+echo \"configure:8180: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8093 \"configure\"\n+#line 8185 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:8098: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:8190: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8123,12 +8215,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:8127: checking for $ac_func\" >&5\n+echo \"configure:8219: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8132 \"configure\"\n+#line 8224 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -8151,7 +8243,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:8155: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8247: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -8176,15 +8268,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:8180: checking for working mmap\" >&5\n+echo \"configure:8272: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8188 \"configure\"\n+#line 8280 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -8324,7 +8416,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:8328: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:8420: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -8352,7 +8444,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8356: checking for $ac_word\" >&5\n+echo \"configure:8448: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_PERL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8704,6 +8796,8 @@ s%@gcc_version@%$gcc_version%g\n s%@LIBICONV@%$LIBICONV%g\n s%@GTK_CFLAGS@%$GTK_CFLAGS%g\n s%@GTK_LIBS@%$GTK_LIBS%g\n+s%@GLIB_CFLAGS@%$GLIB_CFLAGS%g\n+s%@GLIB_LIBS@%$GLIB_LIBS%g\n s%@LIBART_CFLAGS@%$LIBART_CFLAGS%g\n s%@LIBART_LIBS@%$LIBART_LIBS%g\n s%@GCJ@%$GCJ%g\n@@ -9138,7 +9232,7 @@ if test \"$no_recursion\" != yes; then\n       fi\n     fi\n \n-    cd \"$ac_popdir\"\n+    cd $ac_popdir\n   done\n fi\n "}, {"sha": "5b3f94122b88edea3c3aef856cbdb7585bdac22a", "filename": "libjava/configure.in", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e567c4397b9f8f147c6d647458c6b3fc0ccdee9/libjava%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e567c4397b9f8f147c6d647458c6b3fc0ccdee9/libjava%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.in?ref=1e567c4397b9f8f147c6d647458c6b3fc0ccdee9", "patch": "@@ -880,6 +880,10 @@ else\n       AC_SUBST(GTK_CFLAGS)\n       AC_SUBST(GTK_LIBS)\n \n+      PKG_CHECK_MODULES(GLIB, glib-2.0 >= 2.2 gthread-2.0 >= 2.2)\n+      AC_SUBST(GLIB_CFLAGS)\n+      AC_SUBST(GLIB_LIBS)\n+\n       PKG_CHECK_MODULES(LIBART, libart-2.0 >= 2.1)\n       AC_SUBST(LIBART_CFLAGS)\n       AC_SUBST(LIBART_LIBS)"}]}