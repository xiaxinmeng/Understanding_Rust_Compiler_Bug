{"sha": "ec760bea7f3bcc143d02cc1288f69969407eb26b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWM3NjBiZWE3ZjNiY2MxNDNkMDJjYzEyODhmNjk5Njk0MDdlYjI2Yg==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@redhat.com", "date": "2010-08-13T11:36:38Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "2010-08-13T11:36:38Z"}, "message": "argv.c (expandargv): Limit the number of times that response files are opened in order to prevent...\n\n        * argv.c (expandargv): Limit the number of times that response\n        files are opened in order to prevent infinite recursion.\n\nFrom-SVN: r163222", "tree": {"sha": "9deb5559b40c2d1f4edda2b6b8c4073edbe5ede0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9deb5559b40c2d1f4edda2b6b8c4073edbe5ede0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec760bea7f3bcc143d02cc1288f69969407eb26b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec760bea7f3bcc143d02cc1288f69969407eb26b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec760bea7f3bcc143d02cc1288f69969407eb26b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec760bea7f3bcc143d02cc1288f69969407eb26b/comments", "author": {"login": "nickclifton", "id": 31441682, "node_id": "MDQ6VXNlcjMxNDQxNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickclifton", "html_url": "https://github.com/nickclifton", "followers_url": "https://api.github.com/users/nickclifton/followers", "following_url": "https://api.github.com/users/nickclifton/following{/other_user}", "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions", "organizations_url": "https://api.github.com/users/nickclifton/orgs", "repos_url": "https://api.github.com/users/nickclifton/repos", "events_url": "https://api.github.com/users/nickclifton/events{/privacy}", "received_events_url": "https://api.github.com/users/nickclifton/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f5ca06e67847e071c6df8ca316afc042af8cb07d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5ca06e67847e071c6df8ca316afc042af8cb07d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5ca06e67847e071c6df8ca316afc042af8cb07d"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "f09042d59d628a4ee709403382eb63ef15a09940", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec760bea7f3bcc143d02cc1288f69969407eb26b/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec760bea7f3bcc143d02cc1288f69969407eb26b/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=ec760bea7f3bcc143d02cc1288f69969407eb26b", "patch": "@@ -1,3 +1,8 @@\n+2010-08-13  Nick Clifton  <nickc@redhat.com>\n+\n+\t* argv.c (expandargv): Limit the number of times that response\n+\tfiles are opened in order to prevent infinite recursion.\n+\n 2010-07-21  Pascal Obry  <obry@adacore.com>\n \n \t* make-temp-file.c (choose_tmpdir): Append a dot to P_tmpdir if needed."}, {"sha": "8476c8fda9e155b765e5262b1087c3bbb3a7cc05", "filename": "libiberty/argv.c", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec760bea7f3bcc143d02cc1288f69969407eb26b/libiberty%2Fargv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec760bea7f3bcc143d02cc1288f69969407eb26b/libiberty%2Fargv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fargv.c?ref=ec760bea7f3bcc143d02cc1288f69969407eb26b", "patch": "@@ -1,5 +1,5 @@\n /* Create and destroy argument vectors (argv's)\n-   Copyright (C) 1992, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1992, 2001, 2010 Free Software Foundation, Inc.\n    Written by Fred Fish @ Cygnus Support\n \n This file is part of the libiberty library.\n@@ -386,6 +386,9 @@ expandargv (int *argcp, char ***argvp)\n   int i = 0;\n   /* Non-zero if ***argvp has been dynamically allocated.  */\n   int argv_dynamic = 0;\n+  /* Limit the number of response files that we parse in order\n+     to prevent infinite recursion.  */\n+  unsigned int iteration_limit = 2000;\n   /* Loop over the arguments, handling response files.  We always skip\n      ARGVP[0], as that is the name of the program being run.  */\n   while (++i < *argcp)\n@@ -412,6 +415,12 @@ expandargv (int *argcp, char ***argvp)\n       filename = (*argvp)[i];\n       if (filename[0] != '@')\n \tcontinue;\n+      /* If we have iterated too many times then stop.  */\n+      if (-- iteration_limit == 0)\n+\t{\n+\t  fprintf (stderr, \"%s: error: too many @-files encountered\\n\", (*argvp)[0]);\n+\t  xexit (1);\n+\t}\n       /* Read the contents of the file.  */\n       f = fopen (++filename, \"r\");\n       if (!f)"}]}