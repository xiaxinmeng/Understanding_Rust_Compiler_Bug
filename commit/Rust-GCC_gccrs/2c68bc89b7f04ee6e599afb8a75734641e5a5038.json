{"sha": "2c68bc89b7f04ee6e599afb8a75734641e5a5038", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmM2OGJjODliN2YwNGVlNmU1OTlhZmI4YTc1NzM0NjQxZTVhNTAzOA==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargls@comcast.net", "date": "2008-09-06T15:11:29Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2008-09-06T15:11:29Z"}, "message": "re PR fortran/33229 (ICE with \"intrinsic\" plus calling a subroutine as function)\n\n2008-09-06  Steven G. Kargl  <kargls@comcast.net>\n\n        PR fortran/33229\n        * resolve.c (resolve_function): An intrinsic subroutine should\n        * not be\n        called as a function.\n\n2008-09-06  Steven G. Kargl  <kargls@comcast.net>\n\n        PR fortran/33229\n        * gfortran.dg/intrinsic_subroutine.f90: New test.\n\nFrom-SVN: r140061", "tree": {"sha": "67cb2668f719844643b9fcb87857334f0174cdfe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/67cb2668f719844643b9fcb87857334f0174cdfe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2c68bc89b7f04ee6e599afb8a75734641e5a5038", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c68bc89b7f04ee6e599afb8a75734641e5a5038", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c68bc89b7f04ee6e599afb8a75734641e5a5038", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c68bc89b7f04ee6e599afb8a75734641e5a5038/comments", "author": null, "committer": null, "parents": [{"sha": "9731c4a34803475968046006076f07d0fe5cd16c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9731c4a34803475968046006076f07d0fe5cd16c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9731c4a34803475968046006076f07d0fe5cd16c"}], "stats": {"total": 34, "additions": 31, "deletions": 3}, "files": [{"sha": "e3f2dcdfdc6a7275b49889b3ff6b5464d1b07786", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c68bc89b7f04ee6e599afb8a75734641e5a5038/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c68bc89b7f04ee6e599afb8a75734641e5a5038/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=2c68bc89b7f04ee6e599afb8a75734641e5a5038", "patch": "@@ -1,3 +1,9 @@\n+2008-09-06  Steven G. Kargl  <kargls@comcast.net>\n+\n+\tPR fortran/33229\n+\t* resolve.c (resolve_function): An intrinsic subroutine should not be\n+\tcalled as a function.\n+\n 2008-09-05  Daniel Kraft  <d@domob.eu>\n \n \tPR fortran/35837"}, {"sha": "485d33186d26a318cc3a1dceac2bc347793aea70", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c68bc89b7f04ee6e599afb8a75734641e5a5038/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c68bc89b7f04ee6e599afb8a75734641e5a5038/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=2c68bc89b7f04ee6e599afb8a75734641e5a5038", "patch": "@@ -2204,6 +2204,16 @@ resolve_function (gfc_expr *expr)\n   if (expr->symtree)\n     sym = expr->symtree->n.sym;\n \n+  if (sym && sym->attr.intrinsic\n+      && !gfc_find_function (sym->name)\n+      && gfc_find_subroutine (sym->name)\n+      && sym->attr.function)\n+    {\n+      gfc_error (\"Intrinsic subroutine '%s' used as \"\n+\t\t  \"a function at %L\", sym->name, &expr->where);\n+      return FAILURE;\n+    }\n+\n   if (sym && sym->attr.flavor == FL_VARIABLE)\n     {\n       gfc_error (\"'%s' at %L is not a function\", sym->name, &expr->where);"}, {"sha": "c09442521fa98c7681de0ecade1beb9e31292955", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c68bc89b7f04ee6e599afb8a75734641e5a5038/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c68bc89b7f04ee6e599afb8a75734641e5a5038/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2c68bc89b7f04ee6e599afb8a75734641e5a5038", "patch": "@@ -1,3 +1,8 @@\n+2008-09-06  Steven G. Kargl  <kargls@comcast.net>\n+\n+\tPR fortran/33229\n+\t* gfortran.dg/intrinsic_subroutine.f90: New test.\n+\n 2008-09-06  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \t* gcc.target/mips/mips.exp (dg-mips-options): Make\n@@ -26,8 +31,8 @@\n \n 2008-09-05  Douglas Gregor  <doug.gregor@gmail.com>\n \n-       PR c++/37342\n-       * g++.dg/other/canon-37342.C: New.\n+\tPR c++/37342\n+\t* g++.dg/other/canon-37342.C: New.\n \t\n 2008-09-05  Joseph Myers  <joseph@codesourcery.com>\n \n@@ -213,7 +218,7 @@\n 2008-09-02  Victor Kaplansky  <victork@il.ibm.com>\n \n \t* gcc.dg/fastmath-2.c: New.\n-    \n+\n 2008-09-02  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/37095"}, {"sha": "103ff3b71214097d8604a10ef59f4d8c5df88285", "filename": "gcc/testsuite/gfortran.dg/intrinsic_subroutine.f90", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c68bc89b7f04ee6e599afb8a75734641e5a5038/gcc%2Ftestsuite%2Fgfortran.dg%2Fintrinsic_subroutine.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c68bc89b7f04ee6e599afb8a75734641e5a5038/gcc%2Ftestsuite%2Fgfortran.dg%2Fintrinsic_subroutine.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fintrinsic_subroutine.f90?ref=2c68bc89b7f04ee6e599afb8a75734641e5a5038", "patch": "@@ -0,0 +1,7 @@\n+! { dg-do compile }\n+! PR 33229\n+implicit none\n+intrinsic cpu_time\n+real :: time\n+print *, CPU_TIME(TIME)  ! { dg-error \"Intrinsic subroutine\" }\n+end"}]}