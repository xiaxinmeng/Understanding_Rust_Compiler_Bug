{"sha": "9852c209be3c612f188355f21f111fe88b5e6528", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTg1MmMyMDliZTNjNjEyZjE4ODM1NWYyMWYxMTFmZTg4YjVlNjUyOA==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargls@comcast.net", "date": "2005-11-29T05:52:57Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2005-11-29T05:52:57Z"}, "message": "re PR fortran/25149 (Compiler dies on -std=f95)\n\n2005-11-28  Steven G. Kargl  <kargls@comcast.net>\n\n\tPR libgfortran/25149\n\t* intrinsics/abort.c: Add external abort_ to allow linking when \n\tinvoking -std=f95 in testsuite.\n\nFrom-SVN: r107655", "tree": {"sha": "dd684dd3187b33e51f20f0a214e685d20ba37167", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dd684dd3187b33e51f20f0a214e685d20ba37167"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9852c209be3c612f188355f21f111fe88b5e6528", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9852c209be3c612f188355f21f111fe88b5e6528", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9852c209be3c612f188355f21f111fe88b5e6528", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9852c209be3c612f188355f21f111fe88b5e6528/comments", "author": null, "committer": null, "parents": [{"sha": "000ba23d0465bedacdce9c33274da8b498c2222c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/000ba23d0465bedacdce9c33274da8b498c2222c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/000ba23d0465bedacdce9c33274da8b498c2222c"}], "stats": {"total": 31, "additions": 16, "deletions": 15}, "files": [{"sha": "d760b2f0d9847efb1bd4ac0d92f6e7243b052f58", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 4, "deletions": 15, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9852c209be3c612f188355f21f111fe88b5e6528/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9852c209be3c612f188355f21f111fe88b5e6528/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=9852c209be3c612f188355f21f111fe88b5e6528", "patch": "@@ -1,19 +1,8 @@\n-2005-11-28  Jakub Jelinek  <jakub@redhat.com>\n-\n-\tlibfortran/24991\n-\t* acinclude.m4 (LIBGFOR_CHECK_PRAGMA_WEAK): Rename to...\n-\t(LIBGFOR_GTHREAD_WEAK): ... this.  Define SUPPORTS_WEAK rather\n-\tthan HAVE_PRAGMA_WEAK.  Define GTHREAD_USE_WEAK to 0 on hosts\n-\tthat shouldn't use weak in gthr.h.\n-\t* configure.ac: Use LIBGFOR_GTHREAD_WEAK instead of\n-\tLIBGFOR_CHECK_PRAGMA_WEAK.\n-\t* config.h.in: Regenerated.\n-\t* configure: Regenerated.\n-\t* io/io.h (SUPPORTS_WEAK): Don't define here.\n+2005-11-28  Steven G. Kargl  <kargls@comcast.net>\n \n-\t* intrinsics/ftell.c (ftell, FTELL_SUB): Add unlock_unit call.\n-\t* intrinsics/fget.c (fgetc, fputs): Likewise.\n-\t* intrinsics/tty.c (ttynam): Likewise.\n+\tPR libgfortran/25149\n+\t* intrinsics/abort.c: Add external abort_ to allow linking when \n+\tinvoking -std=f95 in testsuite.\n \n 2005-11-27  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n "}, {"sha": "50876cb1f94a894cdd1c66ddc7538e7bf6c388e8", "filename": "libgfortran/intrinsics/abort.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9852c209be3c612f188355f21f111fe88b5e6528/libgfortran%2Fintrinsics%2Fabort.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9852c209be3c612f188355f21f111fe88b5e6528/libgfortran%2Fintrinsics%2Fabort.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Fabort.c?ref=9852c209be3c612f188355f21f111fe88b5e6528", "patch": "@@ -38,3 +38,15 @@ void PREFIX(abort) (void)\n   close_units ();\n   abort ();\n }\n+\n+/* abort() is needed for the testsuite when linking with -std=f95.  */\n+\n+extern void abort_ (void);\n+export_proto_np(abort_);\n+\n+void\n+abort_ (void)\n+{\n+  close_units ();\n+  abort ();\n+}"}]}