{"sha": "fd3f43e7a5cf39dcb1baff29957f9690a570c41e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmQzZjQzZTdhNWNmMzlkY2IxYmFmZjI5OTU3Zjk2OTBhNTcwYzQxZQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2001-01-10T15:30:59Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2001-01-10T15:30:59Z"}, "message": "class.c (duplicate_tag_error): Clear more flags.\n\ncp:\n\t* class.c (duplicate_tag_error): Clear more flags.\ntestsuite:\n\t* g++.old_deja/g++.other/crash39.C: New test.\n\nFrom-SVN: r38867", "tree": {"sha": "c51fd58fe9ec6d049d81aef90bf7214417c3c358", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c51fd58fe9ec6d049d81aef90bf7214417c3c358"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fd3f43e7a5cf39dcb1baff29957f9690a570c41e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd3f43e7a5cf39dcb1baff29957f9690a570c41e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd3f43e7a5cf39dcb1baff29957f9690a570c41e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd3f43e7a5cf39dcb1baff29957f9690a570c41e/comments", "author": null, "committer": null, "parents": [{"sha": "042b4c4e4d64f3eada18d9347b3c77bd6c01d002", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/042b4c4e4d64f3eada18d9347b3c77bd6c01d002", "html_url": "https://github.com/Rust-GCC/gccrs/commit/042b4c4e4d64f3eada18d9347b3c77bd6c01d002"}], "stats": {"total": 46, "additions": 46, "deletions": 0}, "files": [{"sha": "6146404b21e5f240977b382b9285c7aaa6aa15d0", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd3f43e7a5cf39dcb1baff29957f9690a570c41e/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd3f43e7a5cf39dcb1baff29957f9690a570c41e/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=fd3f43e7a5cf39dcb1baff29957f9690a570c41e", "patch": "@@ -1,3 +1,7 @@\n+2001-01-10  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* class.c (duplicate_tag_error): Clear more flags.\n+\n 2001-01-10  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* call.c (build_new_method_call): Use binfo_for_vbase."}, {"sha": "9079f97dda1b1b545eb20022b82c4b540b77fe7f", "filename": "gcc/cp/class.c", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd3f43e7a5cf39dcb1baff29957f9690a570c41e/gcc%2Fcp%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd3f43e7a5cf39dcb1baff29957f9690a570c41e/gcc%2Fcp%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fclass.c?ref=fd3f43e7a5cf39dcb1baff29957f9690a570c41e", "patch": "@@ -2374,6 +2374,26 @@ duplicate_tag_error (t)\n   TYPE_VFIELD (t) = NULL_TREE;\n   TYPE_CONTEXT (t) = NULL_TREE;\n   TYPE_NONCOPIED_PARTS (t) = NULL_TREE;\n+  \n+  TYPE_HAS_NONTRIVIAL_DESTRUCTOR (t) = 0;\n+  TYPE_HAS_CONSTRUCTOR (t) = 0;\n+  TYPE_HAS_DESTRUCTOR (t) = 0;\n+  TYPE_HAS_CONVERSION (t) = 0;\n+  TYPE_HAS_ASSIGN_REF (t) = 0;\n+  TYPE_HAS_CONST_ASSIGN_REF (t) = 0;\n+  TYPE_HAS_INIT_REF (t) = 0;\n+  TYPE_HAS_CONST_INIT_REF (t) = 0;\n+  TYPE_HAS_NEW_OPERATOR (t) = 0;\n+  TYPE_HAS_ARRAY_NEW_OPERATOR (t) = 0;\n+  TYPE_HAS_DEFAULT_CONSTRUCTOR (t) = 0;\n+  CLASSTYPE_HAS_MUTABLE (t) = 0;\n+  CLASSTYPE_NON_POD_P (t) = 0;\n+  CLASSTYPE_NEARLY_EMPTY_P (t) = 0;\n+  CLASSTYPE_NON_AGGREGATE (t) = 0;\n+  TYPE_HAS_REAL_ASSIGN_REF (t) = 0;\n+  TYPE_HAS_COMPLEX_ASSIGN_REF (t) = 0;\n+  TYPE_HAS_ABSTRACT_ASSIGN_REF (t) = 0;\n+  TYPE_HAS_COMPLEX_INIT_REF (t) = 0;\n }\n \n /* Make the BINFO's vtablehave N entries, including RTTI entries,"}, {"sha": "c4ae1e2f917064b6e1bf556f8fc910e83210ab8f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd3f43e7a5cf39dcb1baff29957f9690a570c41e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd3f43e7a5cf39dcb1baff29957f9690a570c41e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fd3f43e7a5cf39dcb1baff29957f9690a570c41e", "patch": "@@ -1,3 +1,7 @@\n+2001-01-10  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* g++.old_deja/g++.other/crash39.C: New test.\n+\n 2001-01-10  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* g++.old_deja/g++.other/vbase4.C: New test."}, {"sha": "0dbd395a1989838f39e0283c9c8e03dfd41e9411", "filename": "gcc/testsuite/g++.old-deja/g++.other/crash39.C", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd3f43e7a5cf39dcb1baff29957f9690a570c41e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash39.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd3f43e7a5cf39dcb1baff29957f9690a570c41e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash39.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash39.C?ref=fd3f43e7a5cf39dcb1baff29957f9690a570c41e", "patch": "@@ -0,0 +1,18 @@\n+// Build don't link:\n+\n+// Copyright (C) 2000 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 10 Jan 2001 <nathan@codesourcery.com>\n+\n+// Bug 595. We failed to clear out some things after seeing a duplicate\n+// struct definition. That caused us to become inconsistent.\n+\n+struct X\n+{\n+  ~X ();\n+};\n+struct S { X a; };  // ERROR - previous defn\n+struct S { X a; };  // ERROR - redefinition\n+\n+void c1(S s)\n+{\n+}"}]}