{"sha": "1271a76a07ea23917a755aa07737fc838051bb80", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTI3MWE3NmEwN2VhMjM5MTdhNzU1YWEwNzczN2ZjODM4MDUxYmI4MA==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1996-08-15T18:59:44Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1996-08-15T18:59:44Z"}, "message": "sys-protos.h (gethostid): Make return type `int' ifdef __alpha__.\n\n\t* sys-protos.h (gethostid): Make return type `int' ifdef __alpha__.\n\t* gen-protos.c: Delete support for SYS_PROTO_OVERRIDES.\n\t* alpha/alpha.h (SYS_PROTO_OVERRIDES): Delete.\n\nFrom-SVN: r12642", "tree": {"sha": "aeaea36bff4fe3b921c073ce5557a6a162e972d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aeaea36bff4fe3b921c073ce5557a6a162e972d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1271a76a07ea23917a755aa07737fc838051bb80", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1271a76a07ea23917a755aa07737fc838051bb80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1271a76a07ea23917a755aa07737fc838051bb80", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1271a76a07ea23917a755aa07737fc838051bb80/comments", "author": null, "committer": null, "parents": [{"sha": "3f8b69de79b62b2295851937aafbccf3f0fefefb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f8b69de79b62b2295851937aafbccf3f0fefefb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f8b69de79b62b2295851937aafbccf3f0fefefb"}], "stats": {"total": 40, "additions": 4, "deletions": 36}, "files": [{"sha": "1778a8e2c77241d8c185dcc6bde6be74101830aa", "filename": "gcc/config/alpha/alpha.h", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1271a76a07ea23917a755aa07737fc838051bb80/gcc%2Fconfig%2Falpha%2Falpha.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1271a76a07ea23917a755aa07737fc838051bb80/gcc%2Fconfig%2Falpha%2Falpha.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.h?ref=1271a76a07ea23917a755aa07737fc838051bb80", "patch": "@@ -2253,7 +2253,3 @@ do {\t\t\t\t\t\t\t\\\n #define HAS_INIT_SECTION\n #define LD_INIT_SWITCH \"-init\"\n #define LD_FINI_SWITCH \"-fini\"\n-\n-/* Define gethostid in unistd.h as returning an int, not a long.  */\n-#define SYS_PROTO_OVERRIDES \\\n-  \"extern int gethostid (void);\","}, {"sha": "0284c18ba4a566742bb471fede8b26c6be8609bb", "filename": "gcc/gen-protos.c", "status": "modified", "additions": 0, "deletions": 32, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1271a76a07ea23917a755aa07737fc838051bb80/gcc%2Fgen-protos.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1271a76a07ea23917a755aa07737fc838051bb80/gcc%2Fgen-protos.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgen-protos.c?ref=1271a76a07ea23917a755aa07737fc838051bb80", "patch": "@@ -25,15 +25,6 @@ Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */\n int verbose = 0;\n char *progname;\n \n-/* Table of prototypes that override sys-protos.h.  */\n-static char *overrides[] =\n-{\n-#ifdef SYS_PROTO_OVERRIDES\n-  SYS_PROTO_OVERRIDES\n-#endif\n-  0\n-};\n-\n #define HASH_SIZE 2503 /* a prime */\n int hash_tab[HASH_SIZE];\n int next_index;\n@@ -171,29 +162,6 @@ main (argc, argv)\n   fprintf (outf, \"  {\\\"\\\", \\\"\\\", \\\"\\\"},\\n\");\n   next_index = 1;\n   \n-  /* Output the overriding prototypes first so fix-header will use them\n-     in preference to the default ones.  */\n-  /* ??? Two copies of the prototype are output.  This doesn't cause any\n-     problems, but one might wish to avoid outputting the second one.  */\n-\n-  for (optr = overrides; *optr; ++optr)\n-    {\n-      /* Using sstring's here may be overkill but parse_fn_proto modifies\n-\t the input string.  */\n-      linebuf.ptr = linebuf.base;\n-      make_sstring_space (&linebuf, strlen (*optr) + 1);\n-      strcpy (linebuf.base, *optr);\n-      linebuf.ptr = linebuf.base + strlen (*optr);\n-\n-      if (! parse_fn_proto (linebuf.base, linebuf.ptr, &fn_decl))\n-\tcontinue;\n-\n-      add_hash (fn_decl.fname);\n-\n-      fprintf (outf, \"  {\\\"%s\\\", \\\"%s\\\", \\\"%s\\\"},\\n\",\n-\t       fn_decl.fname, fn_decl.rtype, fn_decl.params);\n-    }\n-\n   for (;;)\n     {\n       int c = skip_spaces (inf, ' ');"}, {"sha": "ab6e407e8f1bb8087d9671bb940d56d393685b68", "filename": "gcc/sys-protos.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1271a76a07ea23917a755aa07737fc838051bb80/gcc%2Fsys-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1271a76a07ea23917a755aa07737fc838051bb80/gcc%2Fsys-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsys-protos.h?ref=1271a76a07ea23917a755aa07737fc838051bb80", "patch": "@@ -449,7 +449,11 @@ extern int                    getgroups(int, gid_t *);\n extern struct hostent *       gethostbyaddr(/* ??? */);\n extern struct hostent *       gethostbyname(/* ??? */);\n extern struct hostent *       gethostent(/* ??? */);\n+#ifdef __alpha__\n+extern int                    gethostid(void);\n+#else\n extern long                   gethostid(void);\n+#endif\n extern int                    gethostname(char *, size_t);\n extern int                    getitimer(int, struct itimerval *);\n extern char *                 getlogin(void);"}]}