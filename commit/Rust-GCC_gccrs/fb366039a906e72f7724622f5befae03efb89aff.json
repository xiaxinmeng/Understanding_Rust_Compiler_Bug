{"sha": "fb366039a906e72f7724622f5befae03efb89aff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmIzNjYwMzlhOTA2ZTcyZjc3MjQ2MjJmNWJlZmFlMDNlZmI4OWFmZg==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2006-09-10T04:58:29Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2006-09-10T04:58:29Z"}, "message": "re PR fortran/28914 (Code inside loop hangs; outside loop runs normally; runs OK on other compilers)\n\n2006-09-09  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR fortran/28914\n\t* gfortran.dg/actual_array_constructor_3.f90: New test.\n\nFrom-SVN: r116809", "tree": {"sha": "744c6bba93c194064f3685f078de044c13e802b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/744c6bba93c194064f3685f078de044c13e802b9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fb366039a906e72f7724622f5befae03efb89aff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb366039a906e72f7724622f5befae03efb89aff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb366039a906e72f7724622f5befae03efb89aff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb366039a906e72f7724622f5befae03efb89aff/comments", "author": null, "committer": null, "parents": [{"sha": "bfa7a1e994988ef5827505e0e7540b810150f984", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfa7a1e994988ef5827505e0e7540b810150f984", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfa7a1e994988ef5827505e0e7540b810150f984"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "3d877ed4c4e36b1f81f815d1504dc35d6728f79d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb366039a906e72f7724622f5befae03efb89aff/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb366039a906e72f7724622f5befae03efb89aff/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fb366039a906e72f7724622f5befae03efb89aff", "patch": "@@ -1,3 +1,8 @@\n+2006-09-09  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/28914\n+\t* gfortran.dg/actual_array_constructor_3.f90: New test.\n+\n 2006-09-09  Paolo Bonzini  <bonzini@gnu.org>\n \n \tPR testsuite/26778"}, {"sha": "5b0d28a0d023022d9e61d00c68290089edf35fea", "filename": "gcc/testsuite/gfortran.dg/actual_array_constructor_3.f90", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb366039a906e72f7724622f5befae03efb89aff/gcc%2Ftestsuite%2Fgfortran.dg%2Factual_array_constructor_3.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb366039a906e72f7724622f5befae03efb89aff/gcc%2Ftestsuite%2Fgfortran.dg%2Factual_array_constructor_3.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Factual_array_constructor_3.f90?ref=fb366039a906e72f7724622f5befae03efb89aff", "patch": "@@ -0,0 +1,25 @@\n+! { dg-do run }\n+! Tests the fix for pr28914, in which array constructors using the loop\n+! variable within a do loop for the implied do loop of the constructor\n+! would result in a corrupted do loop counter.\n+!\n+! Based on the testscase by Ed Korkven <kornkven@arsc.edu>\n+!\n+program pr28914\n+  implicit none\n+  integer n, i\n+  parameter (n = 66000) ! Problem manifests for n > 65535\n+  double precision a(n), summation\n+\n+  summation = 0.0\n+  do i = 1, 1\n+    a = (/ (i, i = 1, n) /) ! This is legal and was broken\n+    a = sqrt(a)\n+    summation = SUM(a)\n+  enddo\n+  summation = abs(summation - 11303932.9138271_8)\n+  \n+  if (summation.gt.0.00001)   call abort()\n+end program pr28914\n+\n+"}]}