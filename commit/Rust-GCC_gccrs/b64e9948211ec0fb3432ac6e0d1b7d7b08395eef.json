{"sha": "b64e9948211ec0fb3432ac6e0d1b7d7b08395eef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjY0ZTk5NDgyMTFlYzBmYjM0MzJhYzZlMGQxYjdkN2IwODM5NWVlZg==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1995-03-21T02:44:26Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1995-03-21T02:44:26Z"}, "message": "(print_error_function):  New function hook.\n\n(default_print_error_function):  New function.  Default value\nof print_error_function.  Code moved here from report_error_function.\n(report_error_function):  Use print_error_function hook.\n\nFrom-SVN: r9215", "tree": {"sha": "6a2cc6244206f99114257d30aa9a543cf45cf23c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6a2cc6244206f99114257d30aa9a543cf45cf23c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b64e9948211ec0fb3432ac6e0d1b7d7b08395eef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b64e9948211ec0fb3432ac6e0d1b7d7b08395eef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b64e9948211ec0fb3432ac6e0d1b7d7b08395eef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b64e9948211ec0fb3432ac6e0d1b7d7b08395eef/comments", "author": null, "committer": null, "parents": [{"sha": "23f15b0c58c2efaad722345bbf3c5924a5b72b35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/23f15b0c58c2efaad722345bbf3c5924a5b72b35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/23f15b0c58c2efaad722345bbf3c5924a5b72b35"}], "stats": {"total": 38, "additions": 27, "deletions": 11}, "files": [{"sha": "e40f756c23dde8d193bfdd1eea46735bd73427a2", "filename": "gcc/toplev.c", "status": "modified", "additions": 27, "deletions": 11, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b64e9948211ec0fb3432ac6e0d1b7d7b08395eef/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b64e9948211ec0fb3432ac6e0d1b7d7b08395eef/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=b64e9948211ec0fb3432ac6e0d1b7d7b08395eef", "patch": "@@ -1141,21 +1141,13 @@ announce_function (decl)\n     }\n }\n \n-/* Prints out, if necessary, the name of the current function\n-   which caused an error.  Called from all error and warning functions.  */\n+/* The default function to print out name of current function that caused\n+   an error.  */\n \n void\n-report_error_function (file)\n+default_print_error_function (file)\n      char *file;\n {\n-  struct file_stack *p;\n-\n-  if (need_error_newline)\n-    {\n-      fprintf (stderr, \"\\n\");\n-      need_error_newline = 0;\n-    }\n-\n   if (last_error_function != current_function_decl)\n     {\n       char *kind = \"function\";\n@@ -1176,6 +1168,30 @@ report_error_function (file)\n \n       last_error_function = current_function_decl;\n     }\n+}\n+\n+/* Called by report_error_function to print out function name.\n+ * Default may be overridden by language front-ends. */\n+\n+void (*print_error_function) PROTO((char*)) = default_print_error_function;\n+\n+/* Prints out, if necessary, the name of the current function\n+  that caused an error.  Called from all error and warning functions.  */\n+\n+void\n+report_error_function (file)\n+     char *file;\n+{\n+  struct file_stack *p;\n+\n+  if (need_error_newline)\n+    {\n+      fprintf (stderr, \"\\n\");\n+      need_error_newline = 0;\n+    }\n+\n+  (*print_error_function) (file);\n+\n   if (input_file_stack && input_file_stack->next != 0\n       && input_file_stack_tick != last_error_tick)\n     {"}]}