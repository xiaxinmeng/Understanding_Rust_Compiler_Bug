{"sha": "4bd7c27025afa9f79d44b053a84ca96f110787b7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGJkN2MyNzAyNWFmYTlmNzlkNDRiMDUzYTg0Y2E5NmYxMTA3ODdiNw==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2002-04-29T08:47:31Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2002-04-29T08:47:31Z"}, "message": "re PR c++/5719 (Suspect gcc-3 to report wrong waring for 'T& T::operator+=( const T& )')\n\ncp:\n\tPR c++/5719\n\t* decl.c (grok_op_properties): Assignment ops don't have to return\n\tby value. operator% should.\ntestsuite:\n\t* g++.dg/warn/effc1.C: New test.\n\nFrom-SVN: r52888", "tree": {"sha": "0aab6258047fd6e01573703d7638d8a5955f1161", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0aab6258047fd6e01573703d7638d8a5955f1161"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4bd7c27025afa9f79d44b053a84ca96f110787b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bd7c27025afa9f79d44b053a84ca96f110787b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4bd7c27025afa9f79d44b053a84ca96f110787b7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bd7c27025afa9f79d44b053a84ca96f110787b7/comments", "author": null, "committer": null, "parents": [{"sha": "53e72ddf6b54cd6a92e28450a837b5579cc93704", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53e72ddf6b54cd6a92e28450a837b5579cc93704", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53e72ddf6b54cd6a92e28450a837b5579cc93704"}], "stats": {"total": 30, "additions": 29, "deletions": 1}, "files": [{"sha": "e076a34a443bba68125b72c74a1a0da097393dad", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4bd7c27025afa9f79d44b053a84ca96f110787b7/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4bd7c27025afa9f79d44b053a84ca96f110787b7/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=4bd7c27025afa9f79d44b053a84ca96f110787b7", "patch": "@@ -1,3 +1,9 @@\n+2002-04-29  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\tPR c++/5719\n+\t* decl.c (grok_op_properties): Assignment ops don't have to return \n+\tby value. operator% should.\n+\n 2002-04-28  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n \n \tPR c/6343"}, {"sha": "450bc3988a8093cbdb36efde8ee036a1f8c66398", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4bd7c27025afa9f79d44b053a84ca96f110787b7/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4bd7c27025afa9f79d44b053a84ca96f110787b7/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=4bd7c27025afa9f79d44b053a84ca96f110787b7", "patch": "@@ -12677,10 +12677,12 @@ grok_op_properties (decl, friendp)\n       /* Effective C++ rule 23.  */\n       if (warn_ecpp\n \t  && arity == 2\n+\t  && !DECL_ASSIGNMENT_OPERATOR_P (decl)\n \t  && (operator_code == PLUS_EXPR\n \t      || operator_code == MINUS_EXPR\n \t      || operator_code == TRUNC_DIV_EXPR\n-\t      || operator_code == MULT_EXPR)\n+\t      || operator_code == MULT_EXPR\n+\t      || operator_code == TRUNC_MOD_EXPR)\n \t  && TREE_CODE (TREE_TYPE (TREE_TYPE (decl))) == REFERENCE_TYPE)\n \twarning (\"`%D' should return by value\", decl);\n "}, {"sha": "0024a921211268fcef15a8bdc374a8a1ddc6d7de", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4bd7c27025afa9f79d44b053a84ca96f110787b7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4bd7c27025afa9f79d44b053a84ca96f110787b7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4bd7c27025afa9f79d44b053a84ca96f110787b7", "patch": "@@ -1,3 +1,7 @@\n+2002-04-29  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* g++.dg/warn/effc1.C: New test.\n+\n 2002-04-29  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* gcc.dg/cpp/if-cexp.c: Add a test."}, {"sha": "e90c5f7812f8904b05839f1109ee32c790e4eb70", "filename": "gcc/testsuite/g++.dg/warn/effc1.C", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4bd7c27025afa9f79d44b053a84ca96f110787b7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Feffc1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4bd7c27025afa9f79d44b053a84ca96f110787b7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Feffc1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Feffc1.C?ref=4bd7c27025afa9f79d44b053a84ca96f110787b7", "patch": "@@ -0,0 +1,16 @@\n+// { dg-options -Weffc++ }\n+// { dg-do compile }\n+\n+// Copyright (C) 2001 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 26 Apr 2002 <nathan@codesourcery.com>\n+\n+// Bug 5719 \n+\n+class A\n+{\n+  public:\n+  A & operator+=( int );\n+  A & operator+( int ); // { dg-warning \"`A& A::operator+(int)' should return by value\" \"\" }\n+  A operator+=( float );\n+  A operator+( float );\n+};"}]}