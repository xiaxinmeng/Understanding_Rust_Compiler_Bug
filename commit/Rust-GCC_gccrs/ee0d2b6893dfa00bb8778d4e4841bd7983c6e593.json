{"sha": "ee0d2b6893dfa00bb8778d4e4841bd7983c6e593", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWUwZDJiNjg5M2RmYTAwYmI4Nzc4ZDRlNDg0MWJkNzk4M2M2ZTU5Mw==", "commit": {"author": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2013-03-14T03:01:53Z"}, "committer": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2013-03-14T03:01:53Z"}, "message": "linux.h (TARGET_DEFAULT): Remove MASK_USERMODE.\n\n\t* config/sh/linux.h (TARGET_DEFAULT): Remove MASK_USERMODE.\n\t(SUBTARGET_OVERRIDE_OPTIONS): Set TARGET_USERMODE as default.\n\t* config/sh/netbsd-elf.h (TARGET_DEFAULT): Remove MASK_USERMODE.\n\t(SUBTARGET_OVERRIDE_OPTIONS): New.\n\nFrom-SVN: r196646", "tree": {"sha": "f59d4476cf6834e1ea696b8aa8536b97a4324165", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f59d4476cf6834e1ea696b8aa8536b97a4324165"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ee0d2b6893dfa00bb8778d4e4841bd7983c6e593", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee0d2b6893dfa00bb8778d4e4841bd7983c6e593", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee0d2b6893dfa00bb8778d4e4841bd7983c6e593", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee0d2b6893dfa00bb8778d4e4841bd7983c6e593/comments", "author": null, "committer": null, "parents": [{"sha": "2d9aba16b3fa7e7570926dac564e38007198892b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d9aba16b3fa7e7570926dac564e38007198892b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d9aba16b3fa7e7570926dac564e38007198892b"}], "stats": {"total": 25, "additions": 22, "deletions": 3}, "files": [{"sha": "cd69f0cf6a742c72fa7e6571a292c18701c5578c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee0d2b6893dfa00bb8778d4e4841bd7983c6e593/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee0d2b6893dfa00bb8778d4e4841bd7983c6e593/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ee0d2b6893dfa00bb8778d4e4841bd7983c6e593", "patch": "@@ -1,3 +1,10 @@\n+2013-03-14  Kaz Kojima  <kkojima@gcc.gnu.org>\n+\n+\t* config/sh/linux.h (TARGET_DEFAULT): Remove MASK_USERMODE.\n+\t(SUBTARGET_OVERRIDE_OPTIONS): Set TARGET_USERMODE as default.\n+\t* config/sh/netbsd-elf.h (TARGET_DEFAULT): Remove MASK_USERMODE.\n+\t(SUBTARGET_OVERRIDE_OPTIONS): New.\n+\n 2013-03-13  Oleg Endo  <olegendo@gcc.gnu.org>\n \n \tPR target/49880"}, {"sha": "9e8f32d06d1a4f6dea2b3e8920bae90541015489", "filename": "gcc/config/sh/linux.h", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee0d2b6893dfa00bb8778d4e4841bd7983c6e593/gcc%2Fconfig%2Fsh%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee0d2b6893dfa00bb8778d4e4841bd7983c6e593/gcc%2Fconfig%2Fsh%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Flinux.h?ref=ee0d2b6893dfa00bb8778d4e4841bd7983c6e593", "patch": "@@ -39,8 +39,7 @@ along with GCC; see the file COPYING3.  If not see\n \n #undef TARGET_DEFAULT\n #define TARGET_DEFAULT \\\n-  (TARGET_CPU_DEFAULT | MASK_USERMODE | TARGET_ENDIAN_DEFAULT \\\n-   | TARGET_OPT_DEFAULT)\n+  (TARGET_CPU_DEFAULT | TARGET_ENDIAN_DEFAULT | TARGET_OPT_DEFAULT)\n \n #define TARGET_ASM_FILE_END file_end_indicate_exec_stack\n \n@@ -146,5 +145,8 @@ along with GCC; see the file COPYING3.  If not see\n \t  else if (TARGET_SH1)\t\t\t\t\t\t\\\n \t    sh_atomic_model_str = \"soft-imask\";\t\t\t\t\\\n \t}\t\t\t\t\t\t\t\t\\\n+      /* Set -musermode if it hasn't been specified.  */\t\t\\\n+      if (global_options_set.x_TARGET_USERMODE == 0)\t\t\t\\\n+\tTARGET_USERMODE = true;\t\t\t\t\t\t\\\n     }\t\t\t\t\t\t\t\t\t\\\n   while (0)"}, {"sha": "807638a0f79dc3aca274fc099dad1217def9515f", "filename": "gcc/config/sh/netbsd-elf.h", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee0d2b6893dfa00bb8778d4e4841bd7983c6e593/gcc%2Fconfig%2Fsh%2Fnetbsd-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee0d2b6893dfa00bb8778d4e4841bd7983c6e593/gcc%2Fconfig%2Fsh%2Fnetbsd-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fnetbsd-elf.h?ref=ee0d2b6893dfa00bb8778d4e4841bd7983c6e593", "patch": "@@ -58,7 +58,7 @@ along with GCC; see the file COPYING3.  If not see\n \n #undef TARGET_DEFAULT\n #define TARGET_DEFAULT \\\n-  (TARGET_CPU_DEFAULT | MASK_USERMODE | TARGET_ENDIAN_DEFAULT)\n+  (TARGET_CPU_DEFAULT | TARGET_ENDIAN_DEFAULT)\n \n /* Define because we use the label and we do not need them.  */\n #define NO_PROFILE_COUNTERS 1\n@@ -94,3 +94,13 @@ while (0)\n #define SH_DIV_STRATEGY_DEFAULT SH_DIV_CALL2\n #undef SH_DIV_STR_FOR_SIZE\n #define SH_DIV_STR_FOR_SIZE \"call2\"\n+\n+#undef SUBTARGET_OVERRIDE_OPTIONS\n+#define SUBTARGET_OVERRIDE_OPTIONS\t\t\t\t\t\\\n+  do\t\t\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+      /* Set -musermode if it hasn't been specified.  */\t\t\\\n+      if (global_options_set.x_TARGET_USERMODE == 0)\t\t\t\\\n+\tTARGET_USERMODE = true;\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n+  while (0)"}]}