{"sha": "d47f75c469bcbcbb775a6acaaf274db1c61b3655", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDQ3Zjc1YzQ2OWJjYmNiYjc3NWE2YWNhYWYyNzRkYjFjNjFiMzY1NQ==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2003-02-22T15:39:16Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2003-02-22T15:39:16Z"}, "message": "configure.in: Check for sys/systemcfg.h and _system_configuration.\n\n\t* configure.in: Check for sys/systemcfg.h and\n\t_system_configuration.\n\t* physmem.c: Add support for AIX.  Tweek formatting as per\n\tupstream coreutils beta.\n\nFrom-SVN: r63287", "tree": {"sha": "37e0fbe96e286c2f526746e6bbe9b37fae875e21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/37e0fbe96e286c2f526746e6bbe9b37fae875e21"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d47f75c469bcbcbb775a6acaaf274db1c61b3655", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d47f75c469bcbcbb775a6acaaf274db1c61b3655", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d47f75c469bcbcbb775a6acaaf274db1c61b3655", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d47f75c469bcbcbb775a6acaaf274db1c61b3655/comments", "author": null, "committer": null, "parents": [{"sha": "170230b7235a9ed4345a770c2d9d2ec1ffed94b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/170230b7235a9ed4345a770c2d9d2ec1ffed94b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/170230b7235a9ed4345a770c2d9d2ec1ffed94b2"}], "stats": {"total": 155, "additions": 91, "deletions": 64}, "files": [{"sha": "a72af02d94c3c71a29e79367c553e5a0d7801575", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d47f75c469bcbcbb775a6acaaf274db1c61b3655/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d47f75c469bcbcbb775a6acaaf274db1c61b3655/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=d47f75c469bcbcbb775a6acaaf274db1c61b3655", "patch": "@@ -1,3 +1,10 @@\n+2003-02-22  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* configure.in: Check for sys/systemcfg.h and\n+\t_system_configuration.\n+\t* physmem.c: Add support for AIX.  Tweek formatting as per\n+\tupstream coreutils beta.\n+\n 2003-02-22  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \t    Richard Earnshaw  <rearnsha@arm.com>\n \t    Geoffrey Keating  <geoffk@apple.com>"}, {"sha": "f0e174696cb6e3f04d9d5e08ec1e9f7aeb64d20f", "filename": "libiberty/config.in", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d47f75c469bcbcbb775a6acaaf274db1c61b3655/libiberty%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d47f75c469bcbcbb775a6acaaf274db1c61b3655/libiberty%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfig.in?ref=d47f75c469bcbcbb775a6acaaf274db1c61b3655", "patch": "@@ -261,6 +261,9 @@\n /* Define if you have the <sys/sysmp.h> header file.  */\n #undef HAVE_SYS_SYSMP_H\n \n+/* Define if you have the <sys/systemcfg.h> header file.  */\n+#undef HAVE_SYS_SYSTEMCFG_H\n+\n /* Define if you have the <sys/table.h> header file.  */\n #undef HAVE_SYS_TABLE_H\n \n@@ -288,6 +291,9 @@\n /* Define if you have the sys_siglist variable. */\n #undef HAVE_SYS_SIGLIST\n \n+/* Define if you have the _system_configuration variable. */\n+#undef HAVE__SYSTEM_CONFIGURATION\n+\n /* Define to one of _getb67, GETB67, getb67 for Cray-2 and Cray-YMP\n    systems. This function is required for alloca.c support on those\n    systems. */"}, {"sha": "3f46ebfc38fb7190320748b14f604aa2a820707e", "filename": "libiberty/configure", "status": "modified", "additions": 57, "deletions": 53, "changes": 110, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d47f75c469bcbcbb775a6acaaf274db1c61b3655/libiberty%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d47f75c469bcbcbb775a6acaaf274db1c61b3655/libiberty%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure?ref=d47f75c469bcbcbb775a6acaaf274db1c61b3655", "patch": "@@ -1356,7 +1356,7 @@ else\n fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n-for ac_hdr in sys/file.h sys/param.h limits.h stdlib.h string.h unistd.h strings.h sys/time.h time.h sys/resource.h sys/stat.h sys/mman.h fcntl.h alloca.h sys/pstat.h sys/sysmp.h sys/sysinfo.h machine/hal_sysinfo.h sys/table.h sys/sysctl.h\n+for ac_hdr in sys/file.h sys/param.h limits.h stdlib.h string.h unistd.h strings.h sys/time.h time.h sys/resource.h sys/stat.h sys/mman.h fcntl.h alloca.h sys/pstat.h sys/sysmp.h sys/sysinfo.h machine/hal_sysinfo.h sys/table.h sys/sysctl.h sys/systemcfg.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n@@ -1735,7 +1735,7 @@ funcs=\"$funcs waitpid\"\n \n # Also in the old function.def file: alloca, vfork, getopt.\n \n-vars=\"sys_errlist sys_nerr sys_siglist\"\n+vars=\"sys_errlist sys_nerr sys_siglist _system_configuration\"\n \n checkfuncs=\"getrusage on_exit psignal strerror strsignal sysconf times sbrk gettimeofday\"\n checkfuncs=\"$checkfuncs realpath canonicalize_file_name pstat_getstatic pstat_getdynamic sysmp\"\n@@ -2249,6 +2249,10 @@ EOF\n \n   cat >> confdefs.h <<\\EOF\n #define HAVE_SYS_SIGLIST 1\n+EOF\n+\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE__SYSTEM_CONFIGURATION 1\n EOF\n \n fi\n@@ -2445,7 +2449,7 @@ if test -z \"${setobjs}\"; then\n   # We haven't set the list of objects yet.  Use the standard autoconf\n   # tests.  This will only work if the compiler works.\n   echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:2449: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:2453: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -2456,12 +2460,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 2460 \"configure\"\n+#line 2464 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:2465: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2469: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -2487,19 +2491,19 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:2491: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:2495: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n   for ac_func in $funcs\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2498: checking for $ac_func\" >&5\n+echo \"configure:2502: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2503 \"configure\"\n+#line 2507 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2522,7 +2526,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2526: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2530: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2549,12 +2553,12 @@ done\n \n \n   echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:2553: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:2557: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2558 \"configure\"\n+#line 2562 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -2579,12 +2583,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n   for ac_func in _getb67 GETB67 getb67; do\n     echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2583: checking for $ac_func\" >&5\n+echo \"configure:2587: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2588 \"configure\"\n+#line 2592 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2607,7 +2611,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2611: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2615: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2633,15 +2637,15 @@ fi\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:2637: checking stack direction for C alloca\" >&5\n+echo \"configure:2641: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2645 \"configure\"\n+#line 2649 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -2660,7 +2664,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:2664: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2668: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -2682,17 +2686,17 @@ EOF\n \n   ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2686: checking for vfork.h\" >&5\n+echo \"configure:2690: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2691 \"configure\"\n+#line 2695 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2696: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2700: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2717,18 +2721,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2721: checking for working vfork\" >&5\n+echo \"configure:2725: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2727: checking for vfork\" >&5\n+echo \"configure:2731: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2732 \"configure\"\n+#line 2736 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -2751,7 +2755,7 @@ vfork();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2755: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2759: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -2773,7 +2777,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2777 \"configure\"\n+#line 2781 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -2868,7 +2872,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:2872: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2876: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -2900,12 +2904,12 @@ fi\n     for ac_func in _doprnt\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2904: checking for $ac_func\" >&5\n+echo \"configure:2908: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2909 \"configure\"\n+#line 2913 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2928,7 +2932,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2932: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2936: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2958,12 +2962,12 @@ done\n     for ac_func in _doprnt\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2962: checking for $ac_func\" >&5\n+echo \"configure:2966: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2967 \"configure\"\n+#line 2971 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2986,7 +2990,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2990: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2994: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3014,19 +3018,19 @@ done\n \n   for v in $vars; do\n     echo $ac_n \"checking for $v\"\"... $ac_c\" 1>&6\n-echo \"configure:3018: checking for $v\" >&5\n+echo \"configure:3022: checking for $v\" >&5\n     if eval \"test \\\"`echo '$''{'libiberty_cv_var_$v'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3023 \"configure\"\n+#line 3027 \"configure\"\n #include \"confdefs.h\"\n int *p;\n int main() {\n extern int $v []; p = $v;\n ; return 0; }\n EOF\n-if { (eval echo configure:3030: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3034: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"libiberty_cv_var_$v=yes\"\n else\n@@ -3052,12 +3056,12 @@ EOF\n   for ac_func in $checkfuncs\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3056: checking for $ac_func\" >&5\n+echo \"configure:3060: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3061 \"configure\"\n+#line 3065 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3080,7 +3084,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3084: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3088: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3105,12 +3109,12 @@ fi\n done\n \n   echo $ac_n \"checking whether canonicalize_file_name must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:3109: checking whether canonicalize_file_name must be declared\" >&5\n+echo \"configure:3113: checking whether canonicalize_file_name must be declared\" >&5\n if eval \"test \\\"`echo '$''{'libiberty_cv_decl_needed_canonicalize_file_name'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3114 \"configure\"\n+#line 3118 \"configure\"\n #include \"confdefs.h\"\n \n #include \"confdefs.h\"\n@@ -3132,7 +3136,7 @@ int main() {\n char *(*pfn) = (char *(*)) canonicalize_file_name\n ; return 0; }\n EOF\n-if { (eval echo configure:3136: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3140: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   libiberty_cv_decl_needed_canonicalize_file_name=no\n else\n@@ -3168,17 +3172,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:3172: checking for $ac_hdr\" >&5\n+echo \"configure:3176: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3177 \"configure\"\n+#line 3181 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3182: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3186: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3207,12 +3211,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3211: checking for $ac_func\" >&5\n+echo \"configure:3215: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3216 \"configure\"\n+#line 3220 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3235,7 +3239,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3239: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3243: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3260,15 +3264,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:3264: checking for working mmap\" >&5\n+echo \"configure:3268: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3272 \"configure\"\n+#line 3276 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -3408,7 +3412,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:3412: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3416: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -3432,15 +3436,15 @@ fi\n \n \n echo $ac_n \"checking for working strncmp\"\"... $ac_c\" 1>&6\n-echo \"configure:3436: checking for working strncmp\" >&5\n+echo \"configure:3440: checking for working strncmp\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_strncmp_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_strncmp_works=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3444 \"configure\"\n+#line 3448 \"configure\"\n #include \"confdefs.h\"\n \n /* Test by Jim Wilson and Kaveh Ghazi.\n@@ -3504,7 +3508,7 @@ main ()\n }\n \n EOF\n-if { (eval echo configure:3508: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3512: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_strncmp_works=yes\n else"}, {"sha": "5b38660f10bc1d4e4141066c6c5923d20d6f26dd", "filename": "libiberty/configure.in", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d47f75c469bcbcbb775a6acaaf274db1c61b3655/libiberty%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d47f75c469bcbcbb775a6acaaf274db1c61b3655/libiberty%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure.in?ref=d47f75c469bcbcbb775a6acaaf274db1c61b3655", "patch": "@@ -142,7 +142,7 @@ AC_SUBST_FILE(host_makefile_frag)\n # It's OK to check for header files.  Although the compiler may not be\n # able to link anything, it had better be able to at least compile\n # something.\n-AC_CHECK_HEADERS(sys/file.h sys/param.h limits.h stdlib.h string.h unistd.h strings.h sys/time.h time.h sys/resource.h sys/stat.h sys/mman.h fcntl.h alloca.h sys/pstat.h sys/sysmp.h sys/sysinfo.h machine/hal_sysinfo.h sys/table.h sys/sysctl.h)\n+AC_CHECK_HEADERS(sys/file.h sys/param.h limits.h stdlib.h string.h unistd.h strings.h sys/time.h time.h sys/resource.h sys/stat.h sys/mman.h fcntl.h alloca.h sys/pstat.h sys/sysmp.h sys/sysinfo.h machine/hal_sysinfo.h sys/table.h sys/sysctl.h sys/systemcfg.h)\n AC_HEADER_SYS_WAIT\n AC_HEADER_TIME\n \n@@ -204,7 +204,7 @@ funcs=\"$funcs waitpid\"\n \n # Also in the old function.def file: alloca, vfork, getopt.\n \n-vars=\"sys_errlist sys_nerr sys_siglist\"\n+vars=\"sys_errlist sys_nerr sys_siglist _system_configuration\"\n \n checkfuncs=\"getrusage on_exit psignal strerror strsignal sysconf times sbrk gettimeofday\"\n checkfuncs=\"$checkfuncs realpath canonicalize_file_name pstat_getstatic pstat_getdynamic sysmp\"\n@@ -225,6 +225,7 @@ if test \"x\" = \"y\"; then\n   AC_DEFINE(HAVE_SYS_ERRLIST, 1, [Define if you have the sys_errlist variable.])\n   AC_DEFINE(HAVE_SYS_NERR,    1, [Define if you have the sys_nerr variable.])\n   AC_DEFINE(HAVE_SYS_SIGLIST, 1, [Define if you have the sys_siglist variable.])\n+  AC_DEFINE(HAVE__SYSTEM_CONFIGURATION, 1, [Define if you have the _system_configuration variable.])\n fi\n \n # For each of these functions, if the host does not provide the"}, {"sha": "80fdd7975e929acc27e446b8cffabb7ae0209875", "filename": "libiberty/physmem.c", "status": "modified", "additions": 18, "deletions": 9, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d47f75c469bcbcbb775a6acaaf274db1c61b3655/libiberty%2Fphysmem.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d47f75c469bcbcbb775a6acaaf274db1c61b3655/libiberty%2Fphysmem.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fphysmem.c?ref=d47f75c469bcbcbb775a6acaaf274db1c61b3655", "patch": "@@ -15,7 +15,7 @@\n    along with this program; if not, write to the Free Software Foundation,\n    Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */\n \n-/* Written by Paul Eggert and Jim Meyering.  */\n+/* Written by Paul Eggert.  */\n \n #if HAVE_CONFIG_H\n # include <config.h>\n@@ -30,26 +30,30 @@\n #endif\n \n #if HAVE_SYS_SYSMP_H\n-#include <sys/sysmp.h>\n+# include <sys/sysmp.h>\n #endif\n \n #if HAVE_SYS_SYSINFO_H && HAVE_MACHINE_HAL_SYSINFO_H\n-#  include <sys/sysinfo.h>\n-#  include <machine/hal_sysinfo.h>\n+# include <sys/sysinfo.h>\n+# include <machine/hal_sysinfo.h>\n #endif\n \n #if HAVE_SYS_TABLE_H\n-#  include <sys/table.h>\n+# include <sys/table.h>\n #endif\n \n #include <sys/types.h>\n \n #if HAVE_SYS_PARAM_H\n-#include <sys/param.h>\n+# include <sys/param.h>\n #endif\n \n #if HAVE_SYS_SYSCTL_H\n-#include <sys/sysctl.h>\n+# include <sys/sysctl.h>\n+#endif\n+\n+#if HAVE_SYS_SYSTEMCFG_H\n+# include <sys/systemcfg.h>\n #endif\n \n #include \"libiberty.h\"\n@@ -83,7 +87,7 @@ physmem_total ()\n #if HAVE_SYSMP && defined MP_SAGET && defined MPSA_RMINFO && defined _SC_PAGESIZE\n   { /* This works on irix6. */\n     struct rminfo realmem;\n-    if (sysmp(MP_SAGET, MPSA_RMINFO, &realmem, sizeof(realmem)) == 0)\n+    if (sysmp (MP_SAGET, MPSA_RMINFO, &realmem, sizeof realmem) == 0)\n       {\n \tdouble pagesize = sysconf (_SC_PAGESIZE);\n \tdouble pages = realmem.physmem;\n@@ -120,6 +124,11 @@ physmem_total ()\n   }\n #endif\n \n+#if HAVE__SYSTEM_CONFIGURATION\n+  /* This works on AIX.  */\n+  return _system_configuration.physmem;\n+#endif\n+\n   /* Return 0 if we can't determine the value.  */\n   return 0;\n }\n@@ -155,7 +164,7 @@ physmem_available ()\n #if HAVE_SYSMP && defined MP_SAGET && defined MPSA_RMINFO && defined _SC_PAGESIZE\n   { /* This works on irix6. */\n     struct rminfo realmem;\n-    if (sysmp(MP_SAGET, MPSA_RMINFO, &realmem, sizeof(realmem)) == 0)\n+    if (sysmp (MP_SAGET, MPSA_RMINFO, &realmem, sizeof realmem) == 0)\n       {\n \tdouble pagesize = sysconf (_SC_PAGESIZE);\n \tdouble pages = realmem.availrmem;"}]}