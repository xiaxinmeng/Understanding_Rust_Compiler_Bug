{"sha": "f67c2384cb78c7f241aa3e9ef10e06c916363f9a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjY3YzIzODRjYjc4YzdmMjQxYWEzZTllZjEwZTA2YzkxNjM2M2Y5YQ==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1998-12-30T23:14:25Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-12-30T23:14:25Z"}, "message": "reload1.c (reload_as_needed): Verify that the insn satisfies its constraints after replacing a register...\n\n        * reload1.c (reload_as_needed): Verify that the insn satisfies its\n        constraints after replacing a register address with an autoincrement\n        address for reload inheritance purposes.\n\nFrom-SVN: r24449", "tree": {"sha": "713dde59b8605269ed312043a8514901690d5d5c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/713dde59b8605269ed312043a8514901690d5d5c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f67c2384cb78c7f241aa3e9ef10e06c916363f9a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f67c2384cb78c7f241aa3e9ef10e06c916363f9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f67c2384cb78c7f241aa3e9ef10e06c916363f9a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f67c2384cb78c7f241aa3e9ef10e06c916363f9a/comments", "author": null, "committer": null, "parents": [{"sha": "f203c52060870af5098bbdc24cfc6f3a855dc057", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f203c52060870af5098bbdc24cfc6f3a855dc057", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f203c52060870af5098bbdc24cfc6f3a855dc057"}], "stats": {"total": 32, "additions": 29, "deletions": 3}, "files": [{"sha": "b5bdd3666b0c7170370d9dd4969a0ec12aa9186d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f67c2384cb78c7f241aa3e9ef10e06c916363f9a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f67c2384cb78c7f241aa3e9ef10e06c916363f9a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f67c2384cb78c7f241aa3e9ef10e06c916363f9a", "patch": "@@ -1,5 +1,9 @@\n Wed Dec 30 23:38:55 1998  Jeffrey A Law  (law@cygnus.com)\n \n+\t* reload1.c (reload_as_needed): Verify that the insn satisfies its\n+\tconstraints after replacing a register address with an autoincrement\n+\taddress for reload inheritance purposes.\n+\n \t* i386.md (doubleword shifts): Avoid namespace pollution.\n \n Wed Dec 30 23:00:28 1998  David O'Brien <obrien@NUXI.com>"}, {"sha": "3e5f898d5a7f3e374df40e4d89c495e493d9db20", "filename": "gcc/reload1.c", "status": "modified", "additions": 25, "deletions": 3, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f67c2384cb78c7f241aa3e9ef10e06c916363f9a/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f67c2384cb78c7f241aa3e9ef10e06c916363f9a/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=f67c2384cb78c7f241aa3e9ef10e06c916363f9a", "patch": "@@ -4333,9 +4333,31 @@ reload_as_needed (live_known)\n \t\t\t  if (! n)\n \t\t\t    continue;\n \t\t\t  if (n == 1)\n-\t\t\t    n = validate_replace_rtx (reload_reg,\n-\t\t\t\t\t\t      gen_rtx (code, mode,\n-\t\t\t\t\t\t\t       reload_reg), p);\n+\t\t\t    {\n+\t\t\t      n = validate_replace_rtx (reload_reg,\n+\t\t\t\t\t\t\tgen_rtx (code, mode,\n+\t\t\t\t\t\t\t\t reload_reg),\n+\t\t\t\t\t\t\tp);\n+\n+\t\t\t      /* We must also verify that the constraints\n+\t\t\t\t are met after the replacement.  */\n+\t\t\t      extract_insn (p);\n+\t\t\t      if (n)\n+\t\t\t\tn = constrain_operands (1);\n+\t\t\t      else\n+\t\t\t\tbreak;\n+\n+\t\t\t      /* If the constraints were not met, then\n+\t\t\t\t undo the replacement.  */\n+\t\t\t      if (!n)\n+\t\t\t\t{\n+\t\t\t\t  validate_replace_rtx (gen_rtx (code, mode,\n+\t\t\t\t\t\t\t\t reload_reg),\n+\t\t\t\t\t\t\treload_reg, p);\n+\t\t\t\t  break;\n+\t\t\t\t}\n+\t\t\t\t\n+\t\t\t    }\n \t\t\t  break;\n \t\t\t}\n \t\t      if (n == 1)"}]}