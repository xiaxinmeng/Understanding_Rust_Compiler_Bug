{"sha": "b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjNmNDhmZDRmNmVkZjI1ZmZjNDViOWZjNzYzMjQ4MTc2MGJmYjQxZQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-09-10T15:53:11Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-09-10T15:53:11Z"}, "message": "[multiple changes]\n\n2010-09-10  Robert Dewar  <dewar@adacore.com>\n\n\t* gnat_ugn.texi: Add documentation for -gnatw.s/S\n\t* sem_ch13.adb (Analyze_Attribute_Definition_Clause, case\n\tComponent_Size): Implement warning on overriden size clause.\n\t(Analyze_Record_Representation_Clause): Implement warning on overriden\n\tsize clause.\n\t* sem_warn.ads, sem_warn.adb (Warn_On_Overridden_Size): New flag\n\t(-gnatw.s/S).\n\t* ug_words: Add entries for -gnatw.s/S.\n\t* vms_data.ads, usage.adb: Add line for -gnatw.s/-gnatw.S.\n\t* gcc-interface/Make-lang.in: Update dependencies.\n\n2010-09-10  Vincent Celier  <celier@adacore.com>\n\n\t* prj-dect.adb (Parse_Package_Declaration): Allow a package to extend\n\ta package with the same name from an imported or extended project.\n\t* prj-proc.adb (Process_Declarative_Items): Process package extensions\n\n2010-09-10  Bob Duff  <duff@adacore.com>\n\n\t* exp_ch6.adb (Expand_Call): Do not perform a null_exclusion check on\n\t'out' parameters.\n\nFrom-SVN: r164194", "tree": {"sha": "328147e1724a97842405502ab99657c8998ff5cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/328147e1724a97842405502ab99657c8998ff5cc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/comments", "author": null, "committer": null, "parents": [{"sha": "bedbdfcfb63b3a05dc58326f424d5ab07f0d05ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bedbdfcfb63b3a05dc58326f424d5ab07f0d05ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bedbdfcfb63b3a05dc58326f424d5ab07f0d05ce"}], "stats": {"total": 405, "additions": 256, "deletions": 149}, "files": [{"sha": "e32c58406354d9617cbaffa1bca47b2cef7e3196", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "patch": "@@ -1,3 +1,27 @@\n+2010-09-10  Robert Dewar  <dewar@adacore.com>\n+\n+\t* gnat_ugn.texi: Add documentation for -gnatw.s/S\n+\t* sem_ch13.adb (Analyze_Attribute_Definition_Clause, case\n+\tComponent_Size): Implement warning on overriden size clause.\n+\t(Analyze_Record_Representation_Clause): Implement warning on overriden\n+\tsize clause.\n+\t* sem_warn.ads, sem_warn.adb (Warn_On_Overridden_Size): New flag\n+\t(-gnatw.s/S).\n+\t* ug_words: Add entries for -gnatw.s/S.\n+\t* vms_data.ads, usage.adb: Add line for -gnatw.s/-gnatw.S.\n+\t* gcc-interface/Make-lang.in: Update dependencies.\n+\n+2010-09-10  Vincent Celier  <celier@adacore.com>\n+\n+\t* prj-dect.adb (Parse_Package_Declaration): Allow a package to extend\n+\ta package with the same name from an imported or extended project.\n+\t* prj-proc.adb (Process_Declarative_Items): Process package extensions\n+\n+2010-09-10  Bob Duff  <duff@adacore.com>\n+\n+\t* exp_ch6.adb (Expand_Call): Do not perform a null_exclusion check on\n+\t'out' parameters.\n+\n 2010-09-10  Robert Dewar  <dewar@adacore.com>\n \n \t* sem.adb: Minor reformatting."}, {"sha": "eb30d804ee0b1ce97270202565ffb68ce63d1e8c", "filename": "gcc/ada/exp_ch6.adb", "status": "modified", "additions": 36, "deletions": 31, "changes": 67, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fexp_ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fexp_ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch6.adb?ref=b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "patch": "@@ -2330,17 +2330,22 @@ package body Exp_Ch6 is\n          end if;\n \n          --  Perform the check of 4.6(49) that prevents a null value from being\n-         --  passed as an actual to an access parameter. Note that the check is\n-         --  elided in the common cases of passing an access attribute or\n+         --  passed as an actual to an access parameter. Note that the check\n+         --  is elided in the common cases of passing an access attribute or\n          --  access parameter as an actual. Also, we currently don't enforce\n          --  this check for expander-generated actuals and when -gnatdj is set.\n \n          if Ada_Version >= Ada_05 then\n \n-            --  Ada 2005 (AI-231): Check null-excluding access types\n+            --  Ada 2005 (AI-231): Check null-excluding access types. Note that\n+            --  the intent of 6.4.1(13) is that null-exclusion checks should\n+            --  not be done for 'out' parameters, even though it refers only\n+            --  to constraint checks, and a null_exlusion is not a constraint.\n+            --  Note that AI05-0196-1 corrects this mistake in the RM.\n \n             if Is_Access_Type (Etype (Formal))\n               and then Can_Never_Be_Null (Etype (Formal))\n+              and then Ekind (Formal) /= E_Out_Parameter\n               and then Nkind (Prev) /= N_Raise_Constraint_Error\n               and then (Known_Null (Prev)\n                           or else not Can_Never_Be_Null (Etype (Prev)))\n@@ -2424,10 +2429,10 @@ package body Exp_Ch6 is\n          --  since this is a left side reference. We only do this for calls\n          --  from the source program since we assume that compiler generated\n          --  calls explicitly generate any required checks. We also need it\n-         --  only if we are doing standard validity checks, since clearly it\n-         --  is not needed if validity checks are off, and in subscript\n-         --  validity checking mode, all indexed components are checked with\n-         --  a call directly from Expand_N_Indexed_Component.\n+         --  only if we are doing standard validity checks, since clearly it is\n+         --  not needed if validity checks are off, and in subscript validity\n+         --  checking mode, all indexed components are checked with a call\n+         --  directly from Expand_N_Indexed_Component.\n \n          if Comes_From_Source (N)\n            and then Ekind (Formal) /= E_In_Parameter\n@@ -2593,20 +2598,20 @@ package body Exp_Ch6 is\n \n       --  Deals with Dispatch_Call if we still have a call, before expanding\n       --  extra actuals since this will be done on the re-analysis of the\n-      --  dispatching call. Note that we do not try to shorten the actual\n-      --  list for a dispatching call, it would not make sense to do so.\n-      --  Expansion of dispatching calls is suppressed when VM_Target, because\n-      --  the VM back-ends directly handle the generation of dispatching\n-      --  calls and would have to undo any expansion to an indirect call.\n+      --  dispatching call. Note that we do not try to shorten the actual list\n+      --  for a dispatching call, it would not make sense to do so. Expansion\n+      --  of dispatching calls is suppressed when VM_Target, because the VM\n+      --  back-ends directly handle the generation of dispatching calls and\n+      --  would have to undo any expansion to an indirect call.\n \n       if Nkind_In (N, N_Function_Call, N_Procedure_Call_Statement)\n         and then Present (Controlling_Argument (N))\n       then\n          if Tagged_Type_Expansion then\n             Expand_Dispatching_Call (N);\n \n-            --  The following return is worrisome. Is it really OK to\n-            --  skip all remaining processing in this procedure ???\n+            --  The following return is worrisome. Is it really OK to skip all\n+            --  remaining processing in this procedure ???\n \n             return;\n \n@@ -2624,8 +2629,8 @@ package body Exp_Ch6 is\n \n       --  Similarly, expand calls to RCI subprograms on which pragma\n       --  All_Calls_Remote applies. The rewriting will be reanalyzed\n-      --  later. Do this only when the call comes from source since we do\n-      --  not want such a rewriting to occur in expanded code.\n+      --  later. Do this only when the call comes from source since we\n+      --  do not want such a rewriting to occur in expanded code.\n \n       if Is_All_Remote_Call (N) then\n          Expand_All_Calls_Remote_Subprogram_Call (N);\n@@ -2650,15 +2655,15 @@ package body Exp_Ch6 is\n          end loop;\n       end if;\n \n-      --  At this point we have all the actuals, so this is the point at\n-      --  which the various expansion activities for actuals is carried out.\n+      --  At this point we have all the actuals, so this is the point at which\n+      --  the various expansion activities for actuals is carried out.\n \n       Expand_Actuals (N, Subp);\n \n-      --  If the subprogram is a renaming, or if it is inherited, replace it\n-      --  in the call with the name of the actual subprogram being called.\n-      --  If this is a dispatching call, the run-time decides what to call.\n-      --  The Alias attribute does not apply to entries.\n+      --  If the subprogram is a renaming, or if it is inherited, replace it in\n+      --  the call with the name of the actual subprogram being called. If this\n+      --  is a dispatching call, the run-time decides what to call. The Alias\n+      --  attribute does not apply to entries.\n \n       if Nkind (N) /= N_Entry_Call_Statement\n         and then No (Controlling_Argument (N))\n@@ -2827,10 +2832,10 @@ package body Exp_Ch6 is\n          if Is_Access_Protected_Subprogram_Type\n               (Base_Type (Etype (Prefix (Name (N)))))\n          then\n-            --  If this is a call through an access to protected operation,\n-            --  the prefix has the form (object'address, operation'access).\n-            --  Rewrite as a for other protected calls: the object is the\n-            --  first parameter of the list of actuals.\n+            --  If this is a call through an access to protected operation, the\n+            --  prefix has the form (object'address, operation'access). Rewrite\n+            --  as a for other protected calls: the object is the 1st parameter\n+            --  of the list of actuals.\n \n             declare\n                Call : Node_Id;\n@@ -2905,11 +2910,11 @@ package body Exp_Ch6 is\n \n       --  In the case where the intrinsic is to be processed by the back end,\n       --  the call to Expand_Intrinsic_Call will do nothing, which is fine,\n-      --  since the idea in this case is to pass the call unchanged.\n-      --  If the intrinsic is an inherited unchecked conversion, and the\n-      --  derived type is the target type of the conversion, we must retain\n-      --  it as the return type of the expression. Otherwise the expansion\n-      --  below, which uses the parent operation, will yield the wrong type.\n+      --  since the idea in this case is to pass the call unchanged. If the\n+      --  intrinsic is an inherited unchecked conversion, and the derived type\n+      --  is the target type of the conversion, we must retain it as the return\n+      --  type of the expression. Otherwise the expansion below, which uses the\n+      --  parent operation, will yield the wrong type.\n \n       if Is_Intrinsic_Subprogram (Subp) then\n          Expand_Intrinsic_Call (N, Subp);"}, {"sha": "427f808116363c62d377e9180643d343643792a7", "filename": "gcc/ada/gcc-interface/Make-lang.in", "status": "modified", "additions": 102, "deletions": 98, "changes": 200, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMake-lang.in?ref=b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "patch": "@@ -2431,18 +2431,18 @@ ada/freeze.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/sem_elab.ads ada/sem_elim.ads ada/sem_eval.ads ada/sem_intr.ads \\\n    ada/sem_mech.ads ada/sem_prag.ads ada/sem_res.ads ada/sem_res.adb \\\n    ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb ada/sem_warn.ads \\\n-   ada/sinfo.ads ada/sinfo.adb ada/sinput.ads ada/snames.ads ada/stand.ads \\\n-   ada/stringt.ads ada/style.ads ada/styleg.ads ada/styleg.adb \\\n-   ada/stylesw.ads ada/system.ads ada/s-crc32.ads ada/s-exctab.ads \\\n-   ada/s-exctab.adb ada/s-htable.ads ada/s-imenne.ads ada/s-memory.ads \\\n-   ada/s-os_lib.ads ada/s-parame.ads ada/s-rident.ads ada/s-secsta.ads \\\n-   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n-   ada/s-stoele.adb ada/s-string.ads ada/s-traent.ads ada/s-unstyp.ads \\\n-   ada/s-utf_32.ads ada/s-wchcon.ads ada/table.ads ada/table.adb \\\n-   ada/targparm.ads ada/tbuild.ads ada/tree_io.ads ada/ttypes.ads \\\n-   ada/types.ads ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n-   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/validsw.ads \\\n-   ada/widechar.ads \n+   ada/sinfo.ads ada/sinfo.adb ada/sinfo-cn.ads ada/sinput.ads \\\n+   ada/snames.ads ada/stand.ads ada/stringt.ads ada/style.ads \\\n+   ada/styleg.ads ada/styleg.adb ada/stylesw.ads ada/system.ads \\\n+   ada/s-crc32.ads ada/s-exctab.ads ada/s-exctab.adb ada/s-htable.ads \\\n+   ada/s-imenne.ads ada/s-memory.ads ada/s-os_lib.ads ada/s-parame.ads \\\n+   ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads \\\n+   ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb ada/s-string.ads \\\n+   ada/s-traent.ads ada/s-unstyp.ads ada/s-utf_32.ads ada/s-wchcon.ads \\\n+   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n+   ada/tree_io.ads ada/ttypes.ads ada/types.ads ada/uintp.ads \\\n+   ada/uintp.adb ada/uname.ads ada/unchconv.ads ada/unchdeal.ads \\\n+   ada/urealp.ads ada/validsw.ads ada/widechar.ads \n \n ada/frontend.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/a-uncdea.ads ada/alloc.ads ada/atree.ads ada/atree.adb \\\n@@ -3307,19 +3307,20 @@ ada/sem_attr.o : ada/ada.ads ada/a-charac.ads ada/a-chlat1.ads \\\n    ada/sem_elim.ads ada/sem_eval.ads ada/sem_eval.adb ada/sem_intr.ads \\\n    ada/sem_res.ads ada/sem_res.adb ada/sem_type.ads ada/sem_util.ads \\\n    ada/sem_util.adb ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb \\\n-   ada/sinput.ads ada/sinput.adb ada/snames.ads ada/snames.adb \\\n-   ada/sprint.ads ada/stand.ads ada/stringt.ads ada/stringt.adb \\\n-   ada/style.ads ada/styleg.ads ada/styleg.adb ada/stylesw.ads \\\n-   ada/system.ads ada/s-carun8.ads ada/s-crc32.ads ada/s-exctab.ads \\\n-   ada/s-exctab.adb ada/s-htable.ads ada/s-imenne.ads ada/s-memory.ads \\\n-   ada/s-os_lib.ads ada/s-parame.ads ada/s-rident.ads ada/s-secsta.ads \\\n-   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n-   ada/s-stoele.adb ada/s-string.ads ada/s-traent.ads ada/s-unstyp.ads \\\n-   ada/s-utf_32.ads ada/s-wchcon.ads ada/table.ads ada/table.adb \\\n-   ada/targparm.ads ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads \\\n-   ada/ttypef.ads ada/ttypes.ads ada/types.ads ada/types.adb ada/uintp.ads \\\n-   ada/uintp.adb ada/uname.ads ada/unchconv.ads ada/unchdeal.ads \\\n-   ada/urealp.ads ada/urealp.adb ada/validsw.ads ada/widechar.ads \n+   ada/sinfo-cn.ads ada/sinput.ads ada/sinput.adb ada/snames.ads \\\n+   ada/snames.adb ada/sprint.ads ada/stand.ads ada/stringt.ads \\\n+   ada/stringt.adb ada/style.ads ada/styleg.ads ada/styleg.adb \\\n+   ada/stylesw.ads ada/system.ads ada/s-carun8.ads ada/s-crc32.ads \\\n+   ada/s-exctab.ads ada/s-exctab.adb ada/s-htable.ads ada/s-imenne.ads \\\n+   ada/s-memory.ads ada/s-os_lib.ads ada/s-parame.ads ada/s-rident.ads \\\n+   ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads \\\n+   ada/s-stoele.ads ada/s-stoele.adb ada/s-string.ads ada/s-traent.ads \\\n+   ada/s-unstyp.ads ada/s-utf_32.ads ada/s-wchcon.ads ada/table.ads \\\n+   ada/table.adb ada/targparm.ads ada/tbuild.ads ada/tbuild.adb \\\n+   ada/tree_io.ads ada/ttypef.ads ada/ttypes.ads ada/types.ads \\\n+   ada/types.adb ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n+   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/urealp.adb \\\n+   ada/validsw.ads ada/widechar.ads \n \n ada/sem_aux.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/a-uncdea.ads ada/alloc.ads ada/atree.ads ada/atree.adb \\\n@@ -3558,17 +3559,18 @@ ada/sem_ch4.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/sem_dist.ads ada/sem_elab.ads ada/sem_elim.ads ada/sem_eval.ads \\\n    ada/sem_eval.adb ada/sem_intr.ads ada/sem_res.ads ada/sem_res.adb \\\n    ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb ada/sem_warn.ads \\\n-   ada/sinfo.ads ada/sinfo.adb ada/sinput.ads ada/snames.ads ada/stand.ads \\\n-   ada/stringt.ads ada/stringt.adb ada/style.ads ada/styleg.ads \\\n-   ada/styleg.adb ada/stylesw.ads ada/system.ads ada/s-crc32.ads \\\n-   ada/s-exctab.ads ada/s-htable.ads ada/s-imenne.ads ada/s-memory.ads \\\n-   ada/s-os_lib.ads ada/s-parame.ads ada/s-rident.ads ada/s-secsta.ads \\\n-   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n-   ada/s-stoele.adb ada/s-string.ads ada/s-traent.ads ada/s-unstyp.ads \\\n-   ada/s-utf_32.ads ada/s-wchcon.ads ada/table.ads ada/table.adb \\\n-   ada/targparm.ads ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads \\\n-   ada/ttypes.ads ada/types.ads ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n-   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/widechar.ads \n+   ada/sinfo.ads ada/sinfo.adb ada/sinfo-cn.ads ada/sinput.ads \\\n+   ada/snames.ads ada/stand.ads ada/stringt.ads ada/stringt.adb \\\n+   ada/style.ads ada/styleg.ads ada/styleg.adb ada/stylesw.ads \\\n+   ada/system.ads ada/s-crc32.ads ada/s-exctab.ads ada/s-htable.ads \\\n+   ada/s-imenne.ads ada/s-memory.ads ada/s-os_lib.ads ada/s-parame.ads \\\n+   ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads \\\n+   ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb ada/s-string.ads \\\n+   ada/s-traent.ads ada/s-unstyp.ads ada/s-utf_32.ads ada/s-wchcon.ads \\\n+   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n+   ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n+   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n+   ada/unchdeal.ads ada/urealp.ads ada/widechar.ads \n \n ada/sem_ch5.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/a-uncdea.ads ada/alloc.ads ada/atree.ads ada/atree.adb \\\n@@ -3591,18 +3593,18 @@ ada/sem_ch5.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/sem_elab.ads ada/sem_elim.ads ada/sem_eval.ads ada/sem_eval.adb \\\n    ada/sem_intr.ads ada/sem_res.ads ada/sem_res.adb ada/sem_type.ads \\\n    ada/sem_util.ads ada/sem_util.adb ada/sem_warn.ads ada/sem_warn.adb \\\n-   ada/sinfo.ads ada/sinfo.adb ada/sinput.ads ada/snames.ads \\\n-   ada/sprint.ads ada/stand.ads ada/stringt.ads ada/stringt.adb \\\n-   ada/style.ads ada/styleg.ads ada/styleg.adb ada/stylesw.ads \\\n-   ada/system.ads ada/s-crc32.ads ada/s-exctab.ads ada/s-htable.ads \\\n-   ada/s-imenne.ads ada/s-memory.ads ada/s-os_lib.ads ada/s-parame.ads \\\n-   ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads \\\n-   ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb ada/s-string.ads \\\n-   ada/s-traent.ads ada/s-unstyp.ads ada/s-utf_32.ads ada/s-wchcon.ads \\\n-   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n-   ada/tree_io.ads ada/ttypes.ads ada/types.ads ada/uintp.ads \\\n-   ada/uintp.adb ada/uname.ads ada/unchconv.ads ada/unchdeal.ads \\\n-   ada/urealp.ads ada/validsw.ads ada/widechar.ads \n+   ada/sinfo.ads ada/sinfo.adb ada/sinfo-cn.ads ada/sinput.ads \\\n+   ada/snames.ads ada/sprint.ads ada/stand.ads ada/stringt.ads \\\n+   ada/stringt.adb ada/style.ads ada/styleg.ads ada/styleg.adb \\\n+   ada/stylesw.ads ada/system.ads ada/s-crc32.ads ada/s-exctab.ads \\\n+   ada/s-htable.ads ada/s-imenne.ads ada/s-memory.ads ada/s-os_lib.ads \\\n+   ada/s-parame.ads ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads \\\n+   ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb \\\n+   ada/s-string.ads ada/s-traent.ads ada/s-unstyp.ads ada/s-utf_32.ads \\\n+   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n+   ada/tbuild.ads ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n+   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n+   ada/unchdeal.ads ada/urealp.ads ada/validsw.ads ada/widechar.ads \n \n ada/sem_ch6.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/a-uncdea.ads ada/alloc.ads ada/atree.ads ada/atree.adb \\\n@@ -3721,18 +3723,19 @@ ada/sem_ch9.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/sem_ch9.adb ada/sem_disp.ads ada/sem_dist.ads ada/sem_elab.ads \\\n    ada/sem_elim.ads ada/sem_eval.ads ada/sem_intr.ads ada/sem_res.ads \\\n    ada/sem_res.adb ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb \\\n-   ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb ada/sinput.ads \\\n-   ada/sinput.adb ada/snames.ads ada/sprint.ads ada/stand.ads \\\n-   ada/stringt.ads ada/style.ads ada/styleg.ads ada/styleg.adb \\\n-   ada/stylesw.ads ada/system.ads ada/s-crc32.ads ada/s-exctab.ads \\\n-   ada/s-htable.ads ada/s-imenne.ads ada/s-memory.ads ada/s-os_lib.ads \\\n-   ada/s-parame.ads ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads \\\n-   ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb \\\n-   ada/s-string.ads ada/s-traent.ads ada/s-unstyp.ads ada/s-utf_32.ads \\\n-   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n-   ada/tbuild.ads ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n-   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n-   ada/unchdeal.ads ada/urealp.ads ada/validsw.ads ada/widechar.ads \n+   ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb ada/sinfo-cn.ads \\\n+   ada/sinput.ads ada/sinput.adb ada/snames.ads ada/sprint.ads \\\n+   ada/stand.ads ada/stringt.ads ada/style.ads ada/styleg.ads \\\n+   ada/styleg.adb ada/stylesw.ads ada/system.ads ada/s-crc32.ads \\\n+   ada/s-exctab.ads ada/s-htable.ads ada/s-imenne.ads ada/s-memory.ads \\\n+   ada/s-os_lib.ads ada/s-parame.ads ada/s-rident.ads ada/s-secsta.ads \\\n+   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n+   ada/s-stoele.adb ada/s-string.ads ada/s-traent.ads ada/s-unstyp.ads \\\n+   ada/s-utf_32.ads ada/s-wchcon.ads ada/table.ads ada/table.adb \\\n+   ada/targparm.ads ada/tbuild.ads ada/tree_io.ads ada/ttypes.ads \\\n+   ada/types.ads ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n+   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/validsw.ads \\\n+   ada/widechar.ads \n \n ada/sem_disp.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/a-uncdea.ads ada/alloc.ads ada/atree.ads ada/atree.adb \\\n@@ -3847,18 +3850,19 @@ ada/sem_eval.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/sem_disp.ads ada/sem_dist.ads ada/sem_elab.ads ada/sem_elim.ads \\\n    ada/sem_eval.ads ada/sem_eval.adb ada/sem_intr.ads ada/sem_res.ads \\\n    ada/sem_res.adb ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb \\\n-   ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb ada/sinput.ads \\\n-   ada/snames.ads ada/stand.ads ada/stringt.ads ada/stringt.adb \\\n-   ada/style.ads ada/styleg.ads ada/styleg.adb ada/stylesw.ads \\\n-   ada/system.ads ada/s-crc32.ads ada/s-exctab.ads ada/s-htable.ads \\\n-   ada/s-imenne.ads ada/s-memory.ads ada/s-os_lib.ads ada/s-parame.ads \\\n-   ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads \\\n-   ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb ada/s-string.ads \\\n-   ada/s-traent.ads ada/s-unstyp.ads ada/s-utf_32.ads ada/s-wchcon.ads \\\n-   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n-   ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n-   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n-   ada/unchdeal.ads ada/urealp.ads ada/urealp.adb ada/widechar.ads \n+   ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb ada/sinfo-cn.ads \\\n+   ada/sinput.ads ada/snames.ads ada/stand.ads ada/stringt.ads \\\n+   ada/stringt.adb ada/style.ads ada/styleg.ads ada/styleg.adb \\\n+   ada/stylesw.ads ada/system.ads ada/s-crc32.ads ada/s-exctab.ads \\\n+   ada/s-htable.ads ada/s-imenne.ads ada/s-memory.ads ada/s-os_lib.ads \\\n+   ada/s-parame.ads ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads \\\n+   ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb \\\n+   ada/s-string.ads ada/s-traent.ads ada/s-unstyp.ads ada/s-utf_32.ads \\\n+   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n+   ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads \\\n+   ada/types.ads ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n+   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/urealp.adb \\\n+   ada/widechar.ads \n \n ada/sem_intr.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/a-uncdea.ads ada/alloc.ads ada/atree.ads ada/atree.adb \\\n@@ -3954,19 +3958,19 @@ ada/sem_res.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/sem_elab.ads ada/sem_elim.ads ada/sem_eval.ads ada/sem_eval.adb \\\n    ada/sem_intr.ads ada/sem_res.ads ada/sem_res.adb ada/sem_type.ads \\\n    ada/sem_util.ads ada/sem_util.adb ada/sem_warn.ads ada/sinfo.ads \\\n-   ada/sinfo.adb ada/sinput.ads ada/sinput.adb ada/snames.ads \\\n-   ada/sprint.ads ada/stand.ads ada/stringt.ads ada/stringt.adb \\\n-   ada/style.ads ada/styleg.ads ada/styleg.adb ada/stylesw.ads \\\n-   ada/system.ads ada/s-carun8.ads ada/s-crc32.ads ada/s-exctab.ads \\\n-   ada/s-htable.ads ada/s-imenne.ads ada/s-memory.ads ada/s-os_lib.ads \\\n-   ada/s-parame.ads ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads \\\n-   ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb \\\n-   ada/s-string.ads ada/s-traent.ads ada/s-unstyp.ads ada/s-utf_32.ads \\\n-   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n-   ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads \\\n-   ada/types.ads ada/types.adb ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n-   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/urealp.adb \\\n-   ada/validsw.ads ada/widechar.ads \n+   ada/sinfo.adb ada/sinfo-cn.ads ada/sinput.ads ada/sinput.adb \\\n+   ada/snames.ads ada/sprint.ads ada/stand.ads ada/stringt.ads \\\n+   ada/stringt.adb ada/style.ads ada/styleg.ads ada/styleg.adb \\\n+   ada/stylesw.ads ada/system.ads ada/s-carun8.ads ada/s-crc32.ads \\\n+   ada/s-exctab.ads ada/s-htable.ads ada/s-imenne.ads ada/s-memory.ads \\\n+   ada/s-os_lib.ads ada/s-parame.ads ada/s-rident.ads ada/s-secsta.ads \\\n+   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n+   ada/s-stoele.adb ada/s-string.ads ada/s-traent.ads ada/s-unstyp.ads \\\n+   ada/s-utf_32.ads ada/s-wchcon.ads ada/table.ads ada/table.adb \\\n+   ada/targparm.ads ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads \\\n+   ada/ttypes.ads ada/types.ads ada/types.adb ada/uintp.ads ada/uintp.adb \\\n+   ada/uname.ads ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads \\\n+   ada/urealp.adb ada/validsw.ads ada/widechar.ads \n \n ada/sem_scil.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/a-uncdea.ads ada/alloc.ads ada/atree.ads ada/atree.adb \\\n@@ -4142,19 +4146,19 @@ ada/sinput-l.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/casing.ads ada/csets.ads ada/debug.ads ada/einfo.ads \\\n    ada/err_vars.ads ada/errout.ads ada/erroutc.ads ada/fname.ads \\\n    ada/gnat.ads ada/g-dyntab.ads ada/g-dyntab.adb ada/g-hesorg.ads \\\n-   ada/hostparm.ads ada/interfac.ads ada/namet.ads ada/nlists.ads \\\n-   ada/nlists.adb ada/opt.ads ada/osint.ads ada/output.ads ada/prep.ads \\\n-   ada/prepcomp.ads ada/scans.ads ada/scn.ads ada/scng.ads ada/scng.adb \\\n-   ada/sinfo.ads ada/sinfo.adb ada/sinput.ads ada/sinput-l.ads \\\n-   ada/sinput-l.adb ada/snames.ads ada/stringt.ads ada/style.ads \\\n-   ada/styleg.ads ada/styleg.adb ada/stylesw.ads ada/system.ads \\\n-   ada/s-crc32.ads ada/s-crc32.adb ada/s-exctab.ads ada/s-imenne.ads \\\n-   ada/s-memory.ads ada/s-os_lib.ads ada/s-parame.ads ada/s-soflin.ads \\\n-   ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb \\\n-   ada/s-string.ads ada/s-traent.ads ada/s-unstyp.ads ada/s-utf_32.ads \\\n-   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/tree_io.ads \\\n-   ada/types.ads ada/uintp.ads ada/unchconv.ads ada/unchdeal.ads \\\n-   ada/urealp.ads ada/widechar.ads \n+   ada/hostparm.ads ada/interfac.ads ada/lib.ads ada/namet.ads \\\n+   ada/nlists.ads ada/nlists.adb ada/opt.ads ada/osint.ads ada/output.ads \\\n+   ada/prep.ads ada/prepcomp.ads ada/scans.ads ada/scn.ads ada/scng.ads \\\n+   ada/scng.adb ada/sinfo.ads ada/sinfo.adb ada/sinput.ads \\\n+   ada/sinput-l.ads ada/sinput-l.adb ada/snames.ads ada/stringt.ads \\\n+   ada/style.ads ada/styleg.ads ada/styleg.adb ada/stylesw.ads \\\n+   ada/system.ads ada/s-crc32.ads ada/s-crc32.adb ada/s-exctab.ads \\\n+   ada/s-imenne.ads ada/s-memory.ads ada/s-os_lib.ads ada/s-parame.ads \\\n+   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n+   ada/s-stoele.adb ada/s-string.ads ada/s-traent.ads ada/s-unstyp.ads \\\n+   ada/s-utf_32.ads ada/s-wchcon.ads ada/table.ads ada/table.adb \\\n+   ada/tree_io.ads ada/types.ads ada/uintp.ads ada/unchconv.ads \\\n+   ada/unchdeal.ads ada/urealp.ads ada/widechar.ads \n \n ada/sinput.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/a-uncdea.ads ada/alloc.ads ada/atree.ads ada/atree.adb \\"}, {"sha": "80086022476688dc301f29a0aa9cf05e2208aa0d", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "patch": "@@ -5582,6 +5582,25 @@ To suppress these back end warnings as well, use the switch @option{-w}\n in addition to @option{-gnatws}. Also this switch has no effect on the\n handling of style check messages.\n \n+@item -gnatw.s\n+@emph{Activate warnings on overridden size clauses.}\n+@cindex @option{-gnatw.s} (@command{gcc})\n+@cindex Record Representation (component sizes)\n+This switch activates warnings on component clauses in record\n+representation clauses where the length given overrides that\n+specified by an explicit size clause for the component type. A\n+warning is similarly given in the array case if a specified\n+component size overrides an explicit size clause for the array\n+component type.\n+Note that @option{-gnatwa} does not affect the setting of this warning option.\n+\n+@item -gnatw.S\n+@emph{Suppress warnings on overriddebn size clauses.}\n+@cindex @option{-gnatw.S} (@command{gcc})\n+This switch suppresses warnings on component clauses in record\n+representation clauses that override size clauses, and similar\n+warnings when an array component size overrides a size clause.\n+\n @item -gnatwt\n @emph{Activate warnings for tracking of deleted conditional code.}\n @cindex @option{-gnatwt} (@command{gcc})"}, {"sha": "51332d89daebdcc273164dbde214aa28ffa0e3fa", "filename": "gcc/ada/prj-dect.adb", "status": "modified", "additions": 14, "deletions": 4, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fprj-dect.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fprj-dect.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-dect.adb?ref=b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "patch": "@@ -1027,8 +1027,9 @@ package body Prj.Dect is\n       First_Attribute        : Attribute_Node_Id := Empty_Attribute;\n       Current_Package        : Package_Node_Id   := Empty_Package;\n       First_Declarative_Item : Project_Node_Id   := Empty_Node;\n-\n       Package_Location       : constant Source_Ptr := Token_Ptr;\n+      Renaming               : Boolean := False;\n+      Extending              : Boolean := False;\n \n    begin\n       Package_Declaration :=\n@@ -1149,13 +1150,20 @@ package body Prj.Dect is\n       end if;\n \n       if Token = Tok_Renames then\n+         Renaming := True;\n+      elsif Token = Tok_Extends then\n+         Extending := True;\n+      end if;\n+\n+      if Renaming or else Extending then\n          if Is_Config_File then\n             Error_Msg\n               (Flags,\n-               \"no package renames in configuration projects\", Token_Ptr);\n+               \"no package rename or extension in configuration projects\",\n+               Token_Ptr);\n          end if;\n \n-         --  Scan past \"renames\"\n+         --  Scan past \"renames\" or \"extends\"\n \n          Scan (In_Tree);\n \n@@ -1249,7 +1257,9 @@ package body Prj.Dect is\n                end if;\n             end if;\n          end if;\n+      end if;\n \n+      if Renaming then\n          Expect (Tok_Semicolon, \"`;`\");\n          Set_End_Of_Line (Package_Declaration);\n          Set_Previous_Line_Node (Package_Declaration);\n@@ -1305,7 +1315,7 @@ package body Prj.Dect is\n          Remove_Next_End_Node;\n \n       else\n-         Error_Msg (Flags, \"expected IS or RENAMES\", Token_Ptr);\n+         Error_Msg (Flags, \"expected IS\", Token_Ptr);\n       end if;\n \n    end Parse_Package_Declaration;"}, {"sha": "3cbb089ad0868dcc06505db70d5e08bb0bd73532", "filename": "gcc/ada/prj-proc.adb", "status": "modified", "additions": 16, "deletions": 15, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fprj-proc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fprj-proc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-proc.adb?ref=b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "patch": "@@ -1428,7 +1428,7 @@ package body Prj.Proc is\n \n                      if Present (Project_Of_Renamed_Package) then\n \n-                        --  Renamed package\n+                        --  Renamed or extending package\n \n                         declare\n                            Project_Name : constant Name_Id :=\n@@ -1466,8 +1466,6 @@ package body Prj.Proc is\n                               In_Tree    => In_Tree);\n                         end;\n \n-                     --  Standard package declaration, not renaming\n-\n                      else\n                         --  Set the default values of the attributes\n \n@@ -1482,19 +1480,22 @@ package body Prj.Proc is\n                                 (Current_Item, From_Project_Node_Tree)),\n                            Project_Level => False);\n \n-                        --  And process declarative items of the new package\n-\n-                        Process_Declarative_Items\n-                          (Project                => Project,\n-                           In_Tree                => In_Tree,\n-                           Flags                  => Flags,\n-                           From_Project_Node      => From_Project_Node,\n-                           From_Project_Node_Tree => From_Project_Node_Tree,\n-                           Pkg                    => New_Pkg,\n-                           Item                   =>\n-                             First_Declarative_Item_Of\n-                               (Current_Item, From_Project_Node_Tree));\n                      end if;\n+\n+                     --  Process declarative items (nothing to do when the\n+                     --  package is renaming, as the first declarative item is\n+                     --  null).\n+\n+                     Process_Declarative_Items\n+                       (Project                => Project,\n+                        In_Tree                => In_Tree,\n+                        Flags                  => Flags,\n+                        From_Project_Node      => From_Project_Node,\n+                        From_Project_Node_Tree => From_Project_Node_Tree,\n+                        Pkg                    => New_Pkg,\n+                        Item                   =>\n+                          First_Declarative_Item_Of\n+                            (Current_Item, From_Project_Node_Tree));\n                   end;\n                end if;\n "}, {"sha": "b3dd42cd548edcb806756ddfb375b5c21444eb2e", "filename": "gcc/ada/sem_ch13.adb", "status": "modified", "additions": 23, "deletions": 1, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fsem_ch13.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fsem_ch13.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch13.adb?ref=b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "patch": "@@ -1283,6 +1283,7 @@ package body Sem_Ch13 is\n \n          when Attribute_Component_Size => Component_Size_Case : declare\n             Csize    : constant Uint := Static_Integer (Expr);\n+            Ctyp     : Entity_Id;\n             Btype    : Entity_Id;\n             Biased   : Boolean;\n             New_Ctyp : Entity_Id;\n@@ -1295,13 +1296,14 @@ package body Sem_Ch13 is\n             end if;\n \n             Btype := Base_Type (U_Ent);\n+            Ctyp := Component_Type (Btype);\n \n             if Has_Component_Size_Clause (Btype) then\n                Error_Msg_N\n                  (\"component size clause for& previously given\", Nam);\n \n             elsif Csize /= No_Uint then\n-               Check_Size (Expr, Component_Type (Btype), Csize, Biased);\n+               Check_Size (Expr, Ctyp, Csize, Biased);\n \n                if Has_Aliased_Components (Btype)\n                  and then Csize < 32\n@@ -1367,6 +1369,17 @@ package body Sem_Ch13 is\n                   end if;\n                end if;\n \n+               --  Deal with warning on overridden size\n+\n+               if Warn_On_Overridden_Size\n+                 and then Has_Size_Clause (Ctyp)\n+                 and then RM_Size (Ctyp) /= Csize\n+               then\n+                  Error_Msg_NE\n+                    (\"?component size overrides size clause for&\",\n+                     N, Ctyp);\n+               end if;\n+\n                Set_Has_Component_Size_Clause (Btype, True);\n                Set_Has_Non_Standard_Rep      (Btype, True);\n             end if;\n@@ -2749,6 +2762,15 @@ package body Sem_Ch13 is\n                         Set_Normalized_First_Bit (Comp, Fbit mod SSU);\n                         Set_Normalized_Position  (Comp, Fbit / SSU);\n \n+                        if Warn_On_Overridden_Size\n+                          and then Has_Size_Clause (Etype (Comp))\n+                          and then RM_Size (Etype (Comp)) /= Esize (Comp)\n+                        then\n+                           Error_Msg_NE\n+                             (\"?component size overrides size clause for&\",\n+                              Component_Name (CC), Etype (Comp));\n+                        end if;\n+\n                         --  This information is also set in the corresponding\n                         --  component of the base type, found by accessing the\n                         --  Original_Record_Component link if it is present."}, {"sha": "d4a7145683f1b860e1c2e9894c836c2b050e29f5", "filename": "gcc/ada/sem_warn.adb", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fsem_warn.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fsem_warn.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_warn.adb?ref=b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "patch": "@@ -3085,6 +3085,7 @@ package body Sem_Warn is\n             Warn_On_Object_Renames_Function     := True;\n             Warn_On_Obsolescent_Feature         := True;\n             Warn_On_Overlap                     := True;\n+            Warn_On_Overridden_Size             := True;\n             Warn_On_Parameter_Order             := True;\n             Warn_On_Questionable_Missing_Parens := True;\n             Warn_On_Record_Holes                := True;\n@@ -3135,6 +3136,12 @@ package body Sem_Warn is\n          when 'R' =>\n             Warn_On_Object_Renames_Function     := False;\n \n+         when 's' =>\n+            Warn_On_Overridden_Size             := True;\n+\n+         when 'S' =>\n+            Warn_On_Overridden_Size             := False;\n+\n          when 'u' =>\n             Warn_On_Unordered_Enumeration_Type  := True;\n \n@@ -3268,6 +3275,7 @@ package body Sem_Warn is\n             Warn_On_Object_Renames_Function     := False;\n             Warn_On_Obsolescent_Feature         := False;\n             Warn_On_Overlap                     := False;\n+            Warn_On_Overridden_Size             := False;\n             Warn_On_Parameter_Order             := False;\n             Warn_On_Record_Holes                := False;\n             Warn_On_Questionable_Missing_Parens := False;"}, {"sha": "c7e3fd2022b8b20f3ed1f6b8f278c19670d6e1fc", "filename": "gcc/ada/sem_warn.ads", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fsem_warn.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fsem_warn.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_warn.ads?ref=b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "patch": "@@ -47,6 +47,12 @@ package Sem_Warn is\n    --  Warn when explicit record component clauses leave uncovered holes (gaps)\n    --  in a record layout. Off by default, set by -gnatw.h (but not -gnatwa).\n \n+   Warn_On_Overridden_Size : Boolean := False;\n+   --  Warn when explicit record component clause or array component_size\n+   --  clause specifies a size that overrides a size for the typen which was\n+   --  set with an explicit size clause. Off by default, set by -gnatw.sn (but\n+   --  not -gnatwa).\n+\n    ------------------------\n    -- Warnings Off Table --\n    ------------------------"}, {"sha": "e2da62c3efc07f9868597ddfa56e6978e9f8bda8", "filename": "gcc/ada/ug_words", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fug_words", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fug_words", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fug_words?ref=b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "patch": "@@ -161,6 +161,8 @@ gcc -c          ^ GNAT COMPILE\n -gnatwP         ^ /WARNINGS=NOINEFFECTIVE_INLINE\n -gnatw.p        ^ /WARNINGS=PARAMETER_ORDER\n -gnatw.P        ^ /WARNINGS=NO_PARAMETER_ORDER\n+-gnatw.h        ^ /WARNINGS=OVERRIDING_SIZE\n+-gnatw.H        ^ /WARNINGS=NOOVERRIDING_SIZE\n -gnatwq         ^ /WARNINGS=MISSING_PARENS\n -gnatwQ         ^ /WARNINGS=NOMISSING_PARENS\n -gnatwr         ^ /WARNINGS=REDUNDANT"}, {"sha": "6429a7d01b92f6233cd8cd617776d3a247a4617e", "filename": "gcc/ada/usage.adb", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fusage.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fusage.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fusage.adb?ref=b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "patch": "@@ -468,6 +468,8 @@ begin\n    Write_Line (\"        .r+  turn on warnings for object renaming function\");\n    Write_Line (\"        .R*  turn off warnings for object renaming function\");\n    Write_Line (\"        s    suppress all info/warnings\");\n+   Write_Line (\"        .s   turn on warnings for overridden size clause\");\n+   Write_Line (\"        .S*  turn off warnings for overridden size clause\");\n    Write_Line (\"        t    turn on warnings for tracking deleted code\");\n    Write_Line (\"        T*   turn off warnings for tracking deleted code\");\n    Write_Line (\"        u+   turn on warnings for unused entity\");"}, {"sha": "675e4f57f7dca7584b5cc14183d7bcf881b891ce", "filename": "gcc/ada/vms_data.ads", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fvms_data.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3f48fd4f6edf25ffc45b9fc7632481760bfb41e/gcc%2Fada%2Fvms_data.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fvms_data.ads?ref=b3f48fd4f6edf25ffc45b9fc7632481760bfb41e", "patch": "@@ -3011,6 +3011,10 @@ package VMS_Data is\n                                                \"-gnatw.R \"                 &\n                                             \"SUPPRESS \"                    &\n                                                \"-gnatws \"                  &\n+                                            \"OVERRIDING_SIZE \"             &\n+                                               \"-gnatw.s \"                 &\n+                                            \"NOOVERRIDING_SIZE \"           &\n+                                               \"-gnatw.S \"                 &\n                                             \"DELETED_CODE \"                &\n                                                \"-gnatwt \"                  &\n                                             \"NODELETED_CODE \"              &"}]}