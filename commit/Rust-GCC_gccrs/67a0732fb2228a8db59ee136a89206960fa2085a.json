{"sha": "67a0732fb2228a8db59ee136a89206960fa2085a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjdhMDczMmZiMjIyOGE4ZGI1OWVlMTM2YTg5MjA2OTYwZmEyMDg1YQ==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2012-06-29T13:56:40Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2012-06-29T13:56:40Z"}, "message": "system.h (IFCVT_EXTRA_FIELDS): Poison.\n\n\t* system.h (IFCVT_EXTRA_FIELDS): Poison.\n\t(IFCVT_INIT_EXTRA_FIELDS): Poison.\n\t* basic-block.h (struct ce_if_block): Remove IFCVT_EXTRA_FIELDS.\n\t* ifcvt.c (find_if_header): Use IFCVT_MACHDEP_INIT instead of\n\tIFCVT_INIT_EXTRA_FIELDS.\n\t* gengtype-parse.c (struct_field_seq): Remove obsolete comment.\n\t* config/frv/frv.h (IFCVT_INIT_EXTRA_FIELDS): Rename to\n\tIFCVT_MACHDEP_INIT.\n\t* config/frv/frv.c (frv_ifcvt_init_extra_fields): Rename to\n\tfrv_ifcvt_machdep_init.\n\t* doc/tm.texi.in (IFCVT_INIT_EXTRA_FIELDS, IFCVT_EXTRA_FIELDS):\n\tRemove documentation.\n\t(IFCVT_MACHDEP_INIT): Document.\n\t* doc/tm.texi: Regenerate.\n\nFrom-SVN: r189074", "tree": {"sha": "36c3751f3d21d3e17f422f895bf566b68a28fcfd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/36c3751f3d21d3e17f422f895bf566b68a28fcfd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/67a0732fb2228a8db59ee136a89206960fa2085a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67a0732fb2228a8db59ee136a89206960fa2085a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67a0732fb2228a8db59ee136a89206960fa2085a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67a0732fb2228a8db59ee136a89206960fa2085a/comments", "author": null, "committer": null, "parents": [{"sha": "a1ebcd97b84956788ffc7dcd0950785f9395ff19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1ebcd97b84956788ffc7dcd0950785f9395ff19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a1ebcd97b84956788ffc7dcd0950785f9395ff19"}], "stats": {"total": 68, "additions": 33, "deletions": 35}, "files": [{"sha": "82c968ca6f7e1841263c3a533e5f4da7319d6f53", "filename": "gcc/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=67a0732fb2228a8db59ee136a89206960fa2085a", "patch": "@@ -1,3 +1,20 @@\n+2012-06-29  Steven Bosscher  <steven@gcc.gnu.org>\n+\n+\t* system.h (IFCVT_EXTRA_FIELDS): Poison.\n+\t(IFCVT_INIT_EXTRA_FIELDS): Poison.\n+\t* basic-block.h (struct ce_if_block): Remove IFCVT_EXTRA_FIELDS.\n+\t* ifcvt.c (find_if_header): Use IFCVT_MACHDEP_INIT instead of\n+\tIFCVT_INIT_EXTRA_FIELDS.\n+\t* gengtype-parse.c (struct_field_seq): Remove obsolete comment.\n+\t* config/frv/frv.h (IFCVT_INIT_EXTRA_FIELDS): Rename to\n+\tIFCVT_MACHDEP_INIT.\n+\t* config/frv/frv.c (frv_ifcvt_init_extra_fields): Rename to\n+\tfrv_ifcvt_machdep_init.\n+\t* doc/tm.texi.in (IFCVT_INIT_EXTRA_FIELDS, IFCVT_EXTRA_FIELDS):\n+\tRemove documentation.\n+\t(IFCVT_MACHDEP_INIT): Document.\n+\t* doc/tm.texi: Regenerate.\n+\n 2012-06-29  Nick Clifton  <nickc@redhat.com>\n \n \t* config/lm32/lm32.c (lm32_compute_frame_size): Fix typo."}, {"sha": "348f150ab6dc8969e57c7a9369b2f638ea4041f3", "filename": "gcc/basic-block.h", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fbasic-block.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fbasic-block.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbasic-block.h?ref=67a0732fb2228a8db59ee136a89206960fa2085a", "patch": "@@ -498,11 +498,6 @@ typedef struct ce_if_block\n   int num_then_insns;\t\t\t/* # of insns in THEN block.  */\n   int num_else_insns;\t\t\t/* # of insns in ELSE block.  */\n   int pass;\t\t\t\t/* Pass number.  */\n-\n-#ifdef IFCVT_EXTRA_FIELDS\n-  IFCVT_EXTRA_FIELDS\t\t\t/* Any machine dependent fields.  */\n-#endif\n-\n } ce_if_block_t;\n \n /* This structure maintains an edge list vector.  */"}, {"sha": "a31cf8bd6a1cba10940df488ec2b38d2e95b3f47", "filename": "gcc/config/frv/frv.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fconfig%2Ffrv%2Ffrv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fconfig%2Ffrv%2Ffrv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffrv%2Ffrv.c?ref=67a0732fb2228a8db59ee136a89206960fa2085a", "patch": "@@ -5221,12 +5221,11 @@ frv_clear_registers_used (rtx *ptr, void *data)\n }\n \n \f\n-/* Initialize the extra fields provided by IFCVT_EXTRA_FIELDS.  */\n-\n-/* On the FR-V, we don't have any extra fields per se, but it is useful hook to\n+/* Initialize machine-specific if-conversion data.\n+   On the FR-V, we don't have any extra fields per se, but it is useful hook to\n    initialize the static storage.  */\n void\n-frv_ifcvt_init_extra_fields (ce_if_block_t *ce_info ATTRIBUTE_UNUSED)\n+frv_ifcvt_machdep_init (ce_if_block_t *ce_info ATTRIBUTE_UNUSED)\n {\n   frv_ifcvt.added_insns_list = NULL_RTX;\n   frv_ifcvt.cur_scratch_regs = 0;"}, {"sha": "b9fd3a90cf03ffb275b94d8bcd852e698a71765e", "filename": "gcc/config/frv/frv.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fconfig%2Ffrv%2Ffrv.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fconfig%2Ffrv%2Ffrv.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffrv%2Ffrv.h?ref=67a0732fb2228a8db59ee136a89206960fa2085a", "patch": "@@ -1975,8 +1975,8 @@ frv_ifcvt_modify_multiple_tests (CE_INFO, BB, &TRUE_EXPR, &FALSE_EXPR)\n    information CE_INFO.  */\n #define IFCVT_MODIFY_CANCEL(CE_INFO) frv_ifcvt_modify_cancel (CE_INFO)\n \n-/* Initialize the extra fields provided by IFCVT_EXTRA_FIELDS.  */\n-#define IFCVT_INIT_EXTRA_FIELDS(CE_INFO) frv_ifcvt_init_extra_fields (CE_INFO)\n+/* Initialize the machine-specific static data for if-conversion.  */\n+#define IFCVT_MACHDEP_INIT(CE_INFO) frv_ifcvt_machdep_init (CE_INFO)\n \n /* The definition of the following macro results in that the 2nd jump\n    optimization (after the 2nd insn scheduling) is minimal.  It is"}, {"sha": "282bc14833de00f3316305a3e1a6044a91da5c58", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 4, "deletions": 9, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=67a0732fb2228a8db59ee136a89206960fa2085a", "patch": "@@ -10871,15 +10871,10 @@ can be found in the @code{struct ce_if_block} structure that is pointed\n to by @var{ce_info}.\n @end defmac\n \n-@defmac IFCVT_INIT_EXTRA_FIELDS (@var{ce_info})\n-A C expression to initialize any extra fields in a @code{struct ce_if_block}\n-structure, which are defined by the @code{IFCVT_EXTRA_FIELDS} macro.\n-@end defmac\n-\n-@defmac IFCVT_EXTRA_FIELDS\n-If defined, it should expand to a set of field declarations that will be\n-added to the @code{struct ce_if_block} structure.  These should be initialized\n-by the @code{IFCVT_INIT_EXTRA_FIELDS} macro.\n+@defmac IFCVT_MACHDEP_INIT (@var{ce_info})\n+A C expression to initialize any machine specific data for if-conversion\n+of the if-block in the @code{struct ce_if_block} structure that is pointed\n+to by @var{ce_info}.\n @end defmac\n \n @deftypefn {Target Hook} void TARGET_MACHINE_DEPENDENT_REORG (void)"}, {"sha": "6f97b28147884f6b6b09983f169836ebf8849ff3", "filename": "gcc/doc/tm.texi.in", "status": "modified", "additions": 4, "deletions": 9, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fdoc%2Ftm.texi.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fdoc%2Ftm.texi.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi.in?ref=67a0732fb2228a8db59ee136a89206960fa2085a", "patch": "@@ -10745,15 +10745,10 @@ can be found in the @code{struct ce_if_block} structure that is pointed\n to by @var{ce_info}.\n @end defmac\n \n-@defmac IFCVT_INIT_EXTRA_FIELDS (@var{ce_info})\n-A C expression to initialize any extra fields in a @code{struct ce_if_block}\n-structure, which are defined by the @code{IFCVT_EXTRA_FIELDS} macro.\n-@end defmac\n-\n-@defmac IFCVT_EXTRA_FIELDS\n-If defined, it should expand to a set of field declarations that will be\n-added to the @code{struct ce_if_block} structure.  These should be initialized\n-by the @code{IFCVT_INIT_EXTRA_FIELDS} macro.\n+@defmac IFCVT_MACHDEP_INIT (@var{ce_info})\n+A C expression to initialize any machine specific data for if-conversion\n+of the if-block in the @code{struct ce_if_block} structure that is pointed\n+to by @var{ce_info}.\n @end defmac\n \n @hook TARGET_MACHINE_DEPENDENT_REORG"}, {"sha": "c0ad403d163afaf495035d04619c912c626bb33a", "filename": "gcc/gengtype-parse.c", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fgengtype-parse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fgengtype-parse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgengtype-parse.c?ref=67a0732fb2228a8db59ee136a89206960fa2085a", "patch": "@@ -662,9 +662,6 @@ struct_field_seq (void)\n   do\n     {\n       ty = type (&opts, true);\n-      /* Another piece of the IFCVT_EXTRA_FIELDS special case, see type().  */\n-      if (!ty && token () == '}')\n-\tbreak;\n \n       if (!ty || token () == ':')\n \t{"}, {"sha": "c1d4c9eb1e17d753bc6faa66b54a007d4bbccb97", "filename": "gcc/ifcvt.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fifcvt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fifcvt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fifcvt.c?ref=67a0732fb2228a8db59ee136a89206960fa2085a", "patch": "@@ -3255,8 +3255,8 @@ find_if_header (basic_block test_bb, int pass)\n   ce_info.else_bb = else_edge->dest;\n   ce_info.pass = pass;\n \n-#ifdef IFCVT_INIT_EXTRA_FIELDS\n-  IFCVT_INIT_EXTRA_FIELDS (&ce_info);\n+#ifdef IFCVT_MACHDEP_INIT\n+  IFCVT_MACHDEP_INIT (&ce_info);\n #endif\n \n   if (!reload_completed"}, {"sha": "d2e9e51bc0e396b542e4f5a1b092194956d1e8d5", "filename": "gcc/system.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67a0732fb2228a8db59ee136a89206960fa2085a/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=67a0732fb2228a8db59ee136a89206960fa2085a", "patch": "@@ -895,7 +895,7 @@ extern void fancy_abort (const char *, int, const char *) ATTRIBUTE_NORETURN;\n \tTARGET_ALIGN_ANON_BITFIELDS TARGET_NARROW_VOLATILE_BITFIELDS\t   \\\n \tIDENT_ASM_OP UNALIGNED_SHORT_ASM_OP UNALIGNED_INT_ASM_OP\t   \\\n \tUNALIGNED_LONG_ASM_OP UNALIGNED_DOUBLE_INT_ASM_OP\t\t   \\\n-\tUSE_COMMON_FOR_ONE_ONLY\n+\tUSE_COMMON_FOR_ONE_ONLY IFCVT_EXTRA_FIELDS IFCVT_INIT_EXTRA_FIELDS\n \n /* Hooks that are no longer used.  */\n  #pragma GCC poison LANG_HOOKS_FUNCTION_MARK LANG_HOOKS_FUNCTION_FREE\t\\"}]}