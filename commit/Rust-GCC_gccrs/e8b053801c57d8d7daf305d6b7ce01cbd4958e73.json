{"sha": "e8b053801c57d8d7daf305d6b7ce01cbd4958e73", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZThiMDUzODAxYzU3ZDhkN2RhZjMwNWQ2YjdjZTAxY2JkNDk1OGU3Mw==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2006-01-26T18:52:49Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2006-01-26T18:52:49Z"}, "message": "configure.in: Set with_gnu_as, with_gnu_ld, with_newlib earlier.\n\n2006-01-26  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* configure.in: Set with_gnu_as, with_gnu_ld, with_newlib earlier.\n\tSet md_exec_prefix.  Use ACX_CHECK_INSTALLED_TARGET_TOOL to find\n\tthe assembler, linker and binutils.\n\t* configure: Regenerate.\n\n2006-01-26  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* config/acx.m4 (NCN_STRICT_CHECK_TARGET_TOOLS): Test\n\t$with_build_time_tools.\n\t(ACX_PATH_SEP): New.\n\t(ACX_TOOL_DIRS): Move here from the gcc directory.\n\t(ACX_CHECK_INSTALLED_TARGET_TOOL): New.\n\t(GCC_TARGET_TOOL): Do not use a host tool if we found a target tool\n\twith a complete path in either $with_build_time_tools or $exec_prefix.\n\n2006-01-26  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* configure.ac: Expect target tools paths to be passed from the toplevel\n\tand wrap the detection into AS_SET_VAR_IF.  Extract side-effects out of\n\tAS_SET_VAR_IF.\n\t* acinclude.m4 (gcc_AC_TOOL_DIRS, gcc_AC_CHECK_TOOL): Remove.\n\nFrom-SVN: r110266", "tree": {"sha": "484b52fd96363ad918849a7497ef8337eed90672", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/484b52fd96363ad918849a7497ef8337eed90672"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e8b053801c57d8d7daf305d6b7ce01cbd4958e73", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8b053801c57d8d7daf305d6b7ce01cbd4958e73", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8b053801c57d8d7daf305d6b7ce01cbd4958e73", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f4e9414ef87ba277f02cf9d66d6f40304e877cb7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4e9414ef87ba277f02cf9d66d6f40304e877cb7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4e9414ef87ba277f02cf9d66d6f40304e877cb7"}], "stats": {"total": 4152, "additions": 2299, "deletions": 1853}, "files": [{"sha": "c788cc720cd08f68ea03cda23795479eb0e56621", "filename": "ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=e8b053801c57d8d7daf305d6b7ce01cbd4958e73", "patch": "@@ -1,3 +1,10 @@\n+2006-01-26  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\t* configure.in: Set with_gnu_as, with_gnu_ld, with_newlib earlier.\n+\tSet md_exec_prefix.  Use ACX_CHECK_INSTALLED_TARGET_TOOL to find\n+\tthe assembler, linker and binutils.\n+\t* configure: Regenerate.\n+\n 2006-01-22  Dirk Mueller  <dmueller@suse.de>\n \n \t* MAINTAINERS (Write After Approval): Add myself."}, {"sha": "b000a8062d71c4733f57e94c747b943863b502f6", "filename": "config/ChangeLog", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/config%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/config%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2FChangeLog?ref=e8b053801c57d8d7daf305d6b7ce01cbd4958e73", "patch": "@@ -1,4 +1,14 @@\n-2006-02-01  Paolo Bonzini  <bonzini@gnu.org>\n+2006-01-26  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\t* config/acx.m4 (NCN_STRICT_CHECK_TARGET_TOOLS): Test\n+\t$with_build_time_tools.\n+\t(ACX_PATH_SEP): New.\n+\t(ACX_TOOL_DIRS): Move here from the gcc directory.\n+\t(ACX_CHECK_INSTALLED_TARGET_TOOL): New.\n+\t(GCC_TARGET_TOOL): Do not use a host tool if we found a target tool\n+\twith a complete path in either $with_build_time_tools or $exec_prefix.\n+\n+2006-01-02  Paolo Bonzini  <bonzini@gnu.org>\n \n         PR target/25259\n         * stdint.m4: New."}, {"sha": "9f0dd1e00be5fc152cb1c9791976347372fdde23", "filename": "config/acx.m4", "status": "modified", "additions": 155, "deletions": 14, "changes": 169, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/config%2Facx.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/config%2Facx.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Facx.m4?ref=e8b053801c57d8d7daf305d6b7ce01cbd4958e73", "patch": "@@ -104,7 +104,7 @@ test -n \"$target_alias\" && ncn_target_tool_prefix=$target_alias-\n \n ####\n # NCN_STRICT_CHECK_TOOLS(variable, progs-to-check-for,[value-if-not-found],[path])\n-# Like plain AC_CHECK_TOOLS, but require prefix if build!=target.\n+# Like plain AC_CHECK_TOOLS, but require prefix if build!=host.\n \n AC_DEFUN([NCN_STRICT_CHECK_TOOLS],\n [AC_REQUIRE([_NCN_TOOL_PREFIXES]) []dnl\n@@ -135,17 +135,32 @@ fi\n \n AC_DEFUN([NCN_STRICT_CHECK_TARGET_TOOLS],\n [AC_REQUIRE([_NCN_TOOL_PREFIXES]) []dnl\n-for ncn_progname in $2; do\n-  if test -n \"$ncn_target_tool_prefix\"; then\n-    AC_CHECK_PROG([$1], [${ncn_target_tool_prefix}${ncn_progname}], \n-                  [${ncn_target_tool_prefix}${ncn_progname}], , [$4])\n-  fi\n-  if test -z \"$ac_cv_prog_$1\" && test $build = $target ; then\n-    AC_CHECK_PROG([$1], [${ncn_progname}], [${ncn_progname}], , [$4]) \n-  fi\n-  test -n \"$ac_cv_prog_$1\" && break\n-done\n+if test -n \"$with_build_time_tools\"; then\n+  for ncn_progname in $2; do\n+    AC_MSG_CHECKING([for ${ncn_progname} in $with_build_time_tools])\n+    if test -x $with_build_time_tools/$1; then\n+      ac_cv_prog_$1=$with_build_time_tools/$1\n+      AC_MSG_RESULT(yes)\n+      break\n+    else\n+      AC_MSG_RESULT(no)\n+    fi\n+  done\n+fi\n \n+if test -z \"$ac_cv_prog_$1\"; then\n+  for ncn_progname in $2; do\n+    if test -n \"$ncn_target_tool_prefix\"; then\n+      AC_CHECK_PROG([$1], [${ncn_target_tool_prefix}${ncn_progname}], \n+                    [${ncn_target_tool_prefix}${ncn_progname}], , [$4])\n+    fi\n+    if test -z \"$ac_cv_prog_$1\" && test $build = $target ; then\n+      AC_CHECK_PROG([$1], [${ncn_progname}], [${ncn_progname}], , [$4]) \n+    fi\n+    test -n \"$ac_cv_prog_$1\" && break\n+  done\n+fi\n+  \n if test -z \"$ac_cv_prog_$1\" ; then\n   ifelse([$3],[], [set dummy $2\n   if test $build = $target ; then\n@@ -155,6 +170,124 @@ if test -z \"$ac_cv_prog_$1\" ; then\n   fi], [$1=\"$3\"])\n fi\n ]) []dnl # NCN_STRICT_CHECK_TARGET_TOOLS\n+  \n+\n+# Backported from Autoconf 2.5x; can go away when and if\n+# we switch.  Put the OS path separator in $PATH_SEPARATOR.\n+AC_DEFUN([ACX_PATH_SEP], [\n+# The user is always right.\n+if test \"${PATH_SEPARATOR+set}\" != set; then\n+  echo \"#! /bin/sh\" >conf$$.sh\n+  echo  \"exit 0\"   >>conf$$.sh\n+  chmod +x conf$$.sh\n+  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n+    PATH_SEPARATOR=';'\n+  else\n+    PATH_SEPARATOR=: \n+  fi\n+  rm -f conf$$.sh\n+fi\n+])\n+\n+\n+AC_DEFUN([ACX_TOOL_DIRS], [\n+AC_REQUIRE([ACX_PATH_SEP])\n+if test \"x$exec_prefix\" = xNONE; then\n+        if test \"x$prefix\" = xNONE; then\n+                gcc_cv_tool_prefix=$ac_default_prefix\n+        else\n+                gcc_cv_tool_prefix=$prefix\n+        fi\n+else\n+        gcc_cv_tool_prefix=$exec_prefix\n+fi\n+\n+# If there is no compiler in the tree, use the PATH only.  In any\n+# case, if there is no compiler in the tree nobody should use\n+# AS_FOR_TARGET and LD_FOR_TARGET.\n+if test x$host = x$build && test -f $srcdir/gcc/BASE-VER; then\n+    gcc_version=`cat $srcdir/gcc/BASE-VER`\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_prefix/libexec/gcc/$target_noncanonical/$gcc_version$PATH_SEPARATOR\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$gcc_cv_tool_prefix/libexec/gcc/$target_noncanonical$PATH_SEPARATOR\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs/usr/lib/gcc/$target_noncanonical/$gcc_version$PATH_SEPARATOR\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs/usr/lib/gcc/$target_noncanonical$PATH_SEPARATOR\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$gcc_cv_tool_prefix/$target_noncanonical/bin/$target_noncanonical/$gcc_version$PATH_SEPARATOR\"\n+    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$gcc_cv_tool_prefix/$target_noncanonical/bin$PATH_SEPARATOR\"\n+else\n+    gcc_cv_tool_dirs=\n+fi\n+\n+if test x$build = x$target && test -n \"$md_exec_prefix\"; then\n+        gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$md_exec_prefix$PATH_SEPARATOR\"\n+fi\n+\n+]) []dnl # ACX_TOOL_DIRS\n+\n+# ACX_HAVE_GCC_FOR_TARGET\n+# Check if the variable GCC_FOR_TARGET really points to a GCC binary.\n+AC_DEFUN([ACX_HAVE_GCC_FOR_TARGET], [\n+cat > conftest.c << \\EOF\n+#ifdef __GNUC__\n+  gcc_yay;\n+#endif\n+EOF\n+if ($GCC_FOR_TARGET -E conftest.c | grep gcc_yay) > /dev/null 2>&1; then\n+  have_gcc_for_target=yes\n+else\n+  GCC_FOR_TARGET=${ncn_target_tool_prefix}gcc\n+  have_gcc_for_target=no\n+fi\n+rm conftest.c\n+])\n+\n+# ACX_CHECK_INSTALLED_TARGET_TOOL(VAR, PROG)\n+# Searching for installed target binutils.  We need to take extra care,\n+# else we may find the wrong assembler, linker, etc., and lose.\n+#\n+# First try --with-build-time-tools, if specified.\n+#\n+# For build != host, we ask the installed GCC for the name of the tool it\n+# uses, and accept it if it is an absolute path.  This is because the\n+# only good choice for a compiler is the same GCC version that is being\n+# installed (or we couldn't make target libraries), and we assume that\n+# on the host system we'll have not only the same GCC version, but also\n+# the same binutils version.\n+#\n+# For build == host, search the same directories that the installed\n+# compiler will search.  We used to do this for the assembler, linker,\n+# and nm only; for simplicity of configuration, however, we extend this\n+# criterion to tools (such as ar and ranlib) that are never invoked by\n+# the compiler, to avoid mismatches.\n+#\n+# Also note we have to check MD_EXEC_PREFIX before checking the user's path\n+# if build == target.  This makes the most sense only when bootstrapping,\n+# but we also do so when build != host.  In this case, we hope that the\n+# build and host systems will have similar contents of MD_EXEC_PREFIX.\n+#\n+# If we do not find a suitable binary, then try the user's path.\n+\n+AC_DEFUN([ACX_CHECK_INSTALLED_TARGET_TOOL], [\n+AC_REQUIRE([ACX_TOOL_DIRS])\n+AC_REQUIRE([ACX_HAVE_GCC_FOR_TARGET])\n+if test -z \"$ac_cv_path_$1\" ; then\n+  if test -n \"$with_build_time_tools\"; then\n+    AC_MSG_CHECKING([for ${ncn_target_tool_prefix}${ncn_progname} in $with_build_time_tools])\n+    $1=`cd $with_build_time_tools && pwd`/$1\n+    ac_cv_path_$1=[$]$1\n+    AC_MSG_RESULT([$ac_cv_path_$1])\n+  elif test $build != $host && test $have_gcc_for_target = yes; then\n+    $1=`$GCC_FOR_TARGET --print-prog-name=$2`\n+    test [$]$1=$2 && $1=\n+    ac_cv_path_$1=[$]$1\n+  fi\n+fi\n+if test -z \"$ac_cv_path_$1\" ; then\n+  AC_PATH_PROG([$1], [$2], [], [$gcc_cv_tool_dirs])\n+fi\n+if test -z \"$ac_cv_path_$1\" ; then\n+  NCN_STRICT_CHECK_TARGET_TOOLS([$1], [$2])\n+fi\n+]) []dnl # ACX_CHECK_INSTALLED_TARGET_TOOL\n \n ###\n # AC_PROG_CPP_WERROR\n@@ -300,8 +433,13 @@ dnl GCC_TARGET_TOOL(PROGRAM, TARGET-VAR, HOST-VAR, IN-TREE-TOOL, LANGUAGE)\n AC_DEFUN([GCC_TARGET_TOOL],\n [AC_MSG_CHECKING(where to find the target $1)\n if test \"x${build}\" != \"x${host}\" ; then\n-  # Canadian cross, just use what we found\n-  AC_MSG_RESULT(pre-installed)\n+  if expr \"x[$]$2\" : \"x/\" > /dev/null; then\n+    # We already found the complete path\n+    AC_MSG_RESULT(pre-installed in `dirname [$]$2`)\n+  else\n+    # Canadian cross, just use what we found\n+    AC_MSG_RESULT(pre-installed)\n+  fi\n else\n   ifelse([$4],,,\n   [ok=yes\n@@ -318,7 +456,10 @@ else\n     # An in-tree tool is available and we can use it\n     $2='$$r/$(HOST_SUBDIR)/$4'\n     AC_MSG_RESULT(just compiled)\n-  el])if test \"x$target\" = \"x$host\"; then\n+  el])if expr \"x[$]$2\" : \"x/\" > /dev/null; then\n+    # We already found the complete path\n+    AC_MSG_RESULT(pre-installed in `dirname [$]$2`)\n+  elif test \"x$target\" = \"x$host\"; then\n     # We can use an host tool\n     $2='$($3)'\n     AC_MSG_RESULT(host tool)"}, {"sha": "9b8e2b30fc35d2083b96b92dabcafcd017a32d44", "filename": "configure", "status": "modified", "additions": 1593, "deletions": 551, "changes": 2144, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=e8b053801c57d8d7daf305d6b7ce01cbd4958e73"}, {"sha": "eddb5d80a09dfe842ffdefae8ed8cc0283c8bd58", "filename": "configure.in", "status": "modified", "additions": 105, "deletions": 43, "changes": 148, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=e8b053801c57d8d7daf305d6b7ce01cbd4958e73", "patch": "@@ -1496,6 +1496,39 @@ if test x\"${with_libs}\" != x && test x\"${with_libs}\" != xno ; then\n   fi\n fi\n \n+# Set with_gnu_as and with_gnu_ld as appropriate.\n+#\n+# This is done by determining whether or not the appropriate directory\n+# is available, and by checking whether or not specific configurations\n+# have requested that this magic not happen.\n+# \n+# The command line options always override the explicit settings in \n+# configure.in, and the settings in configure.in override this magic.\n+#\n+# If the default for a toolchain is to use GNU as and ld, and you don't \n+# want to do that, then you should use the --without-gnu-as and\n+# --without-gnu-ld options for the configure script.\n+\n+if test x${use_gnu_as} = x &&\n+   echo \" ${configdirs} \" | grep \" gas \" > /dev/null 2>&1 ; then\n+  with_gnu_as=yes\n+  extra_host_args=\"$extra_host_args --with-gnu-as\"\n+fi\n+\n+if test x${use_gnu_ld} = x &&\n+   echo \" ${configdirs} \" | grep \" ld \" > /dev/null 2>&1 ; then\n+  with_gnu_ld=yes\n+  extra_host_args=\"$extra_host_args --with-gnu-ld\"\n+fi\n+\n+# If using newlib, add --with-newlib to the extra_host_args so that gcc/configure\n+# can detect this case.\n+\n+if test x${with_newlib} != xno && echo \" ${target_configdirs} \" | grep \" target-newlib \" > /dev/null 2>&1 ; then\n+  with_newlib=yes\n+  extra_host_args=\"$extra_host_args --with-newlib\"\n+fi\n+\n # Handle ${copy_dirs}\n set fnord ${copy_dirs}\n shift\n@@ -1527,6 +1560,55 @@ while test $# != 0 ; do\n   shift; shift\n done\n \n+# Determine a target-dependent exec_prefix that the installed\n+# gcc will search in.  Keep this list sorted by triplet, with\n+# the *-*-osname triplets last.\n+md_exec_prefix=\n+case \"${target}\" in\n+  alpha*-*-*vms*)\n+    md_exec_prefix=/gnu/lib/gcc-lib\n+    ;;\n+  i[34567]86-pc-msdosdjgpp*)\n+    md_exec_prefix=/dev/env/DJDIR/bin\n+    ;;\n+  i[34567]86-*-sco3.2v5*)\n+    if test $with_gnu_as = yes; then\n+      md_exec_prefix=/usr/gnu/bin\n+    else\n+      md_exec_prefix=/usr/ccs/bin/elf\n+    fi\n+    ;;\n+\n+  mn10300-*-* | \\\n+  powerpc-*-chorusos* | \\\n+  powerpc*-*-eabi* | \\\n+  powerpc*-*-sysv* | \\\n+  powerpc*-*-kaos* | \\\n+  s390x-ibm-tpf*)\n+    md_exec_prefix=/usr/ccs/bin\n+    ;;\n+  sparc64-*-elf*)\n+    ;;\n+  v850*-*-*)\n+    md_exec_prefix=/usr/ccs/bin\n+    ;;\n+  xtensa-*-elf*)\n+    ;;\n+\n+  *-*-beos* | \\\n+  *-*-elf* | \\\n+  *-*-hpux* | \\\n+  *-*-netware* | \\\n+  *-*-nto-qnx* | \\\n+  *-*-rtems* | \\\n+  *-*-solaris2* | \\\n+  *-*-sysv[45]* | \\\n+  *-*-vxworks* | \\\n+  *-wrs-windiss)\n+    md_exec_prefix=/usr/ccs/bin\n+    ;;\n+esac\n+\n extra_arflags_for_target=\n extra_nmflags_for_target=\n extra_ranlibflags_for_target=\n@@ -1584,39 +1666,6 @@ case \"${enable_target_optspace}:${target}\" in\n     ;;\n esac\n \n-# Set with_gnu_as and with_gnu_ld as appropriate.\n-#\n-# This is done by determining whether or not the appropriate directory\n-# is available, and by checking whether or not specific configurations\n-# have requested that this magic not happen.\n-# \n-# The command line options always override the explicit settings in \n-# configure.in, and the settings in configure.in override this magic.\n-#\n-# If the default for a toolchain is to use GNU as and ld, and you don't \n-# want to do that, then you should use the --without-gnu-as and\n-# --without-gnu-ld options for the configure script.\n-\n-if test x${use_gnu_as} = x &&\n-   echo \" ${configdirs} \" | grep \" gas \" > /dev/null 2>&1 ; then\n-  with_gnu_as=yes\n-  extra_host_args=\"$extra_host_args --with-gnu-as\"\n-fi\n-\n-if test x${use_gnu_ld} = x &&\n-   echo \" ${configdirs} \" | grep \" ld \" > /dev/null 2>&1 ; then\n-  with_gnu_ld=yes\n-  extra_host_args=\"$extra_host_args --with-gnu-ld\"\n-fi\n-\n-# If using newlib, add --with-newlib to the extra_host_args so that gcc/configure\n-# can detect this case.\n-\n-if test x${with_newlib} != xno && echo \" ${target_configdirs} \" | grep \" target-newlib \" > /dev/null 2>&1 ; then\n-  with_newlib=yes\n-  extra_host_args=\"$extra_host_args --with-newlib\"\n-fi\n-\n # Default to using --with-stabs for certain targets.\n if test x${with_stabs} = x ; then\n   case \"${target}\" in\n@@ -2201,21 +2250,34 @@ AC_SUBST(CFLAGS_FOR_BUILD)\n AC_SUBST(CXXFLAGS)\n \n # Target tools.\n-NCN_STRICT_CHECK_TARGET_TOOLS(AR_FOR_TARGET, ar)\n-NCN_STRICT_CHECK_TARGET_TOOLS(AS_FOR_TARGET, as)\n+AC_ARG_WITH([build-time-tools], \n+  [  --with-build-time-tools=path\n+                          use given path to find target tools during the build],\n+  [case x\"$withval\" in\n+     x/*) ;;\n+     *)\n+       with_build_time_tools=\n+       AC_MSG_WARN([argument to --with-build-time-tools must be an absolute path])\n+       ;;\n+   esac],\n+  [with_build_time_tools=])\n+\n NCN_STRICT_CHECK_TARGET_TOOLS(CC_FOR_TARGET, cc gcc)\n NCN_STRICT_CHECK_TARGET_TOOLS(CXX_FOR_TARGET, c++ g++ cxx gxx)\n-NCN_STRICT_CHECK_TARGET_TOOLS(DLLTOOL_FOR_TARGET, dlltool)\n NCN_STRICT_CHECK_TARGET_TOOLS(GCC_FOR_TARGET, gcc, ${CC_FOR_TARGET})\n NCN_STRICT_CHECK_TARGET_TOOLS(GCJ_FOR_TARGET, gcj)\n NCN_STRICT_CHECK_TARGET_TOOLS(GFORTRAN_FOR_TARGET, gfortran)\n-NCN_STRICT_CHECK_TARGET_TOOLS(LD_FOR_TARGET, ld)\n-NCN_STRICT_CHECK_TARGET_TOOLS(LIPO_FOR_TARGET, lipo)\n-NCN_STRICT_CHECK_TARGET_TOOLS(NM_FOR_TARGET, nm)\n-NCN_STRICT_CHECK_TARGET_TOOLS(OBJDUMP_FOR_TARGET, objdump)\n-NCN_STRICT_CHECK_TARGET_TOOLS(RANLIB_FOR_TARGET, ranlib, :)\n-NCN_STRICT_CHECK_TARGET_TOOLS(STRIP_FOR_TARGET, strip)\n-NCN_STRICT_CHECK_TARGET_TOOLS(WINDRES_FOR_TARGET, windres)\n+\n+ACX_CHECK_INSTALLED_TARGET_TOOL(AR_FOR_TARGET, ar)\n+ACX_CHECK_INSTALLED_TARGET_TOOL(AS_FOR_TARGET, as)\n+ACX_CHECK_INSTALLED_TARGET_TOOL(DLLTOOL_FOR_TARGET, dlltool)\n+ACX_CHECK_INSTALLED_TARGET_TOOL(LD_FOR_TARGET, ld)\n+ACX_CHECK_INSTALLED_TARGET_TOOL(LIPO_FOR_TARGET, lipo)\n+ACX_CHECK_INSTALLED_TARGET_TOOL(NM_FOR_TARGET, nm)\n+ACX_CHECK_INSTALLED_TARGET_TOOL(OBJDUMP_FOR_TARGET, objdump)\n+ACX_CHECK_INSTALLED_TARGET_TOOL(RANLIB_FOR_TARGET, ranlib, :)\n+ACX_CHECK_INSTALLED_TARGET_TOOL(STRIP_FOR_TARGET, strip)\n+ACX_CHECK_INSTALLED_TARGET_TOOL(WINDRES_FOR_TARGET, windres)\n \n RAW_CXX_FOR_TARGET=\"$CXX_FOR_TARGET\"\n "}, {"sha": "2e0f13783b0d6583c493751175cce0a2432338c4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e8b053801c57d8d7daf305d6b7ce01cbd4958e73", "patch": "@@ -1,3 +1,10 @@\n+2006-01-26  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\t* configure.ac: Expect target tools paths to be passed from the toplevel\n+\tand wrap the detection into AS_SET_VAR_IF.  Extract side-effects out of\n+\tAS_SET_VAR_IF.\n+\t* acinclude.m4 (gcc_AC_TOOL_DIRS, gcc_AC_CHECK_TOOL): Remove.\n+\n 2006-01-26  Alexandre Oliva  <aoliva@redhat.com>\n \n \tPR c/25892"}, {"sha": "ec1931ce398be43163526df839302e599ad63167", "filename": "gcc/acinclude.m4", "status": "modified", "additions": 0, "deletions": 87, "changes": 87, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/gcc%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/gcc%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Facinclude.m4?ref=e8b053801c57d8d7daf305d6b7ce01cbd4958e73", "patch": "@@ -506,94 +506,7 @@ m4_ifdef([GCC_TARGET_TEMPLATE($1)],[],[#ifndef USED_FOR_TARGET\n #endif\n ]))])\n \n-AC_DEFUN([gcc_AC_TOOL_DIRS], [\n-# When searching for the assembler or linker, search the same directories\n-# that the installed compiler will search.  Else we may find the wrong\n-# assembler or linker and lose.  If we do not find a suitable binary,\n-# then try the user's path.\n-#\n-# Also note we have to check MD_EXEC_PREFIX before checking the user's path.\n-if test \"x$exec_prefix\" = xNONE; then\n-\tif test \"x$prefix\" = xNONE; then\n-\t\tgcc_cv_tool_prefix=/usr/local\n-\telse\n-\t\tgcc_cv_tool_prefix=$prefix\n-\tfi\n-else\n-\tgcc_cv_tool_prefix=$exec_prefix\n-fi\n-\n-if test x$host = x$build; then\n-    gcc_cv_tool_dirs=\"$gcc_cv_tool_prefix/libexec/gcc/$target_noncanonical/$gcc_version\"\n-    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$gcc_cv_tool_prefix/libexec/gcc/$target_noncanonical\"\n-    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR/usr/lib/gcc/$target_noncanonical/$gcc_version\"\n-    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR/usr/lib/gcc/$target_noncanonical\"\n-    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$gcc_cv_tool_prefix/$target_noncanonical/bin/$target_noncanonical/$gcc_version\"\n-    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$gcc_cv_tool_prefix/$target_noncanonical/bin\"\n-else\n-    gcc_cv_tool_dirs=\n-fi\n-\n-if test x$build = x$target; then\n-    # Rummage through tm_files looking for MD_EXEC_PREFIX\n-    md_dirs=\n-    for f in ${tm_file_list}; do\n-\tif test -f $f; then\n-\t    if grep '^#[ \t]*undef[ \t]*MD_EXEC_PREFIX' $f > /dev/null; then\n-\t\tmd_dirs=\n-\t    fi\n-\t    md_dirs=\"$md_dirs \"`sed -n -e 's@^#[ \t]*define[ \t]*MD_EXEC_PREFIX[ \t]*\"\\(.*\\)/\"@\\1@p' < $f`\n-\tfi\n-    done\n-    for f in ${md_dirs}; do\n-        gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$f\"\n-    done\n-fi])\n-\n dnl Make sure that build_exeext is looked for\n AC_DEFUN([gcc_AC_BUILD_EXEEXT], [\n ac_executable_extensions=\"$build_exeext\"])\n \n-AC_DEFUN([gcc_AC_CHECK_TOOL], [\n-AC_REQUIRE([gcc_AC_TOOL_DIRS])\n-AC_REQUIRE([gcc_AC_BUILD_EXEEXT])\n-\n-dnl shut up useless \"checking for...\" messages\n-dnl we can still read them in config.log\n-exec AS_MESSAGE_FD([])>/dev/null\n-\n-# First try the environment variables.  Handle full paths or basenames.\n-if test \"x[$]$1\" = x && test -n \"[$]$4\"; then\n-\tAC_PATH_PROG($1, [$]$4)\n-fi\n-if test \"x[$]$1\" = x && test -n \"[$]$5\" && test x$host = x$target; then\n-\tAC_PATH_PROG($1, [$]$5)\n-fi\n-\n-if test \"x[$]$1\" = x; then\n-\t# The AC_PATH_PROGS macro doesn't work properly when its 4th argument\n-\t# is empty.\n-\tif test \"x$gcc_cv_tool_dirs\" = x; then\n-\t\t$1=\n-\telse\n-\t\tAC_PATH_PROGS($1, $2, , $gcc_cv_tool_dirs)\n-\tfi\n-fi\n-if test \"x[$]$1\" = x; then\n-\t# If the loop above did not find a tool, then use whatever\n-\t# one we can find in the users's path.  We are looking for a\n-\t# ${build} -> ${target} tool.\n-\tif test \"x$program_prefix\" != xNONE; then\n-\t\tdefault_tool_name=${program_prefix}$2\n-\telif test x$build != x$host && test x$build != x$target; then\n-\t\tdefault_tool_name=${target_noncanonical}-$2\n-\telse\n-\t\tdefault_tool_name=`echo $2 | sed \"${program_transform_name}\"`\n-\tfi\n-\tAC_PATH_PROGS($1, $default_tool_name,\n-\t\t$gcc_cv_tool_prefix/bin/$default_tool_name$build_exeext)\n-fi\n-test \"$silent\" != yes && exec AS_MESSAGE_FD([])>&1\n-\n-$3=\"[$]$1\"\n-AC_SUBST($3)])"}, {"sha": "7f357994d4f832d08b558bf1502d9d4abfece77f", "filename": "gcc/configure", "status": "modified", "additions": 347, "deletions": 1100, "changes": 1447, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=e8b053801c57d8d7daf305d6b7ce01cbd4958e73", "patch": "@@ -309,7 +309,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical build_subdir host_subdir target_subdir GENINSRC CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT NO_MINUS_C_MINUS_O OUTPUT_OPTION CPP EGREP strict1_warn warn_cflags WERROR nocommon_flag TREEBROWSER valgrind_path valgrind_path_defines valgrind_command coverage_flags enable_multilib enable_decimal_float enable_shared TARGET_SYSTEM_ROOT TARGET_SYSTEM_ROOT_DEFINE CROSS_SYSTEM_HEADER_DIR onestep SET_MAKE AWK LN_S LN RANLIB ac_ct_RANLIB ranlib_flags INSTALL INSTALL_PROGRAM INSTALL_DATA make_compare_target have_mktemp_command MAKEINFO BUILD_INFO GENERATED_MANPAGES FLEX BISON NM AR stage1_cflags COLLECT2_LIBS GNAT_LIBEXC LDEXP_LIB TARGET_GETGROUPS_T LIBICONV LTLIBICONV LIBICONV_DEP manext objext gthread_flags extra_modes_file extra_opt_files USE_NLS LIBINTL LIBINTL_DEP INCINTL XGETTEXT GMSGFMT POSUB CATALOGS host_cc_for_libada CROSS ALL SYSTEM_HEADER_DIR inhibit_libc CC_FOR_BUILD BUILD_CFLAGS STMP_FIXINC STMP_FIXPROTO collect2 gcc_cv_as ORIGINAL_AS_FOR_TARGET gcc_cv_ld ORIGINAL_LD_FOR_TARGET gcc_cv_nm ORIGINAL_NM_FOR_TARGET gcc_cv_objdump ORIGINAL_OBJDUMP_FOR_TARGET libgcc_visibility GGC zlibdir zlibinc MAINT gcc_tooldir dollar slibdir objdir subdirs srcdir all_boot_languages all_compilers all_gtfiles all_gtfiles_files_langs all_gtfiles_files_files all_lang_makefrags all_lang_makefiles all_languages all_stagestuff build_exeext build_install_headers_dir build_xm_file_list build_xm_include_list build_xm_defines check_languages cc_set_by_configure quoted_cc_set_by_configure cpp_install_dir xmake_file tmake_file extra_gcc_objs extra_headers_list extra_objs extra_parts extra_passes extra_programs float_h_file gcc_config_arguments gcc_gxx_include_dir libstdcxx_incdir host_exeext host_xm_file_list host_xm_include_list host_xm_defines out_host_hook_obj install lang_opt_files lang_specs_files lang_tree_files local_prefix md_file objc_boehm_gc out_file out_object_file stage_prefix_set_by_configure quoted_stage_prefix_set_by_configure thread_file tm_file_list tm_include_list tm_defines tm_p_file_list tm_p_include_list xm_file_list xm_include_list xm_defines c_target_objs cxx_target_objs target_cpu_default GMPLIBS GMPINC LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical build_subdir host_subdir target_subdir GENINSRC CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT NO_MINUS_C_MINUS_O OUTPUT_OPTION CPP EGREP strict1_warn warn_cflags WERROR nocommon_flag TREEBROWSER valgrind_path valgrind_path_defines valgrind_command coverage_flags enable_multilib enable_decimal_float enable_shared TARGET_SYSTEM_ROOT TARGET_SYSTEM_ROOT_DEFINE CROSS_SYSTEM_HEADER_DIR onestep SET_MAKE AWK LN_S LN RANLIB ac_ct_RANLIB ranlib_flags INSTALL INSTALL_PROGRAM INSTALL_DATA make_compare_target have_mktemp_command MAKEINFO BUILD_INFO GENERATED_MANPAGES FLEX BISON NM AR stage1_cflags COLLECT2_LIBS GNAT_LIBEXC LDEXP_LIB TARGET_GETGROUPS_T LIBICONV LTLIBICONV LIBICONV_DEP manext objext gthread_flags extra_modes_file extra_opt_files USE_NLS LIBINTL LIBINTL_DEP INCINTL XGETTEXT GMSGFMT POSUB CATALOGS host_cc_for_libada CROSS ALL SYSTEM_HEADER_DIR inhibit_libc CC_FOR_BUILD BUILD_CFLAGS STMP_FIXINC STMP_FIXPROTO collect2 gcc_cv_as ORIGINAL_AS_FOR_TARGET gcc_cv_ld ORIGINAL_LD_FOR_TARGET gcc_cv_nm ORIGINAL_NM_FOR_TARGET gcc_cv_objdump libgcc_visibility GGC zlibdir zlibinc MAINT gcc_tooldir dollar slibdir objdir subdirs srcdir all_boot_languages all_compilers all_gtfiles all_gtfiles_files_langs all_gtfiles_files_files all_lang_makefrags all_lang_makefiles all_languages all_stagestuff build_exeext build_install_headers_dir build_xm_file_list build_xm_include_list build_xm_defines check_languages cc_set_by_configure quoted_cc_set_by_configure cpp_install_dir xmake_file tmake_file extra_gcc_objs extra_headers_list extra_objs extra_parts extra_passes extra_programs float_h_file gcc_config_arguments gcc_gxx_include_dir libstdcxx_incdir host_exeext host_xm_file_list host_xm_include_list host_xm_defines out_host_hook_obj install lang_opt_files lang_specs_files lang_tree_files local_prefix md_file objc_boehm_gc out_file out_object_file stage_prefix_set_by_configure quoted_stage_prefix_set_by_configure thread_file tm_file_list tm_include_list tm_defines tm_p_file_list tm_p_include_list xm_file_list xm_include_list xm_defines c_target_objs cxx_target_objs target_cpu_default GMPLIBS GMPINC LIBOBJS LTLIBOBJS'\n ac_subst_files='language_hooks'\n \n # Initialize some variables set by options.\n@@ -1039,7 +1039,7 @@ esac\n     else\n       echo \"$as_me: WARNING: no configuration information is in $ac_dir\" >&2\n     fi\n-    cd $ac_popdir\n+    cd \"$ac_popdir\"\n   done\n fi\n \n@@ -2395,8 +2395,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -2454,8 +2453,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -2571,8 +2569,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -2626,8 +2623,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -2672,8 +2668,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -2717,8 +2712,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3140,8 +3134,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3233,8 +3226,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3404,8 +3396,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3470,8 +3461,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3533,8 +3523,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3574,8 +3563,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3631,8 +3619,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3672,8 +3659,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3737,8 +3723,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3769,10 +3754,8 @@ See \\`config.log' for more details.\" >&2;}\n esac\n else\n   if test \"$cross_compiling\" = yes; then\n-  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n-See \\`config.log' for more details.\" >&5\n-echo \"$as_me: error: cannot run test program while cross compiling\n-See \\`config.log' for more details.\" >&2;}\n+  { { echo \"$as_me:$LINENO: error: internal error: not reached in cross-compile\" >&5\n+echo \"$as_me: error: internal error: not reached in cross-compile\" >&2;}\n    { (exit 1); exit 1; }; }\n else\n   cat >conftest.$ac_ext <<_ACEOF\n@@ -3884,8 +3867,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3947,8 +3929,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3988,8 +3969,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4045,8 +4025,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4086,8 +4065,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4151,8 +4129,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4183,10 +4160,8 @@ See \\`config.log' for more details.\" >&2;}\n esac\n else\n   if test \"$cross_compiling\" = yes; then\n-  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n-See \\`config.log' for more details.\" >&5\n-echo \"$as_me: error: cannot run test program while cross compiling\n-See \\`config.log' for more details.\" >&2;}\n+  { { echo \"$as_me:$LINENO: error: internal error: not reached in cross-compile\" >&5\n+echo \"$as_me: error: internal error: not reached in cross-compile\" >&2;}\n    { (exit 1); exit 1; }; }\n else\n   cat >conftest.$ac_ext <<_ACEOF\n@@ -4298,8 +4273,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4361,8 +4335,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4402,8 +4375,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4459,8 +4431,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4500,8 +4471,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4565,8 +4535,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4597,10 +4566,8 @@ See \\`config.log' for more details.\" >&2;}\n esac\n else\n   if test \"$cross_compiling\" = yes; then\n-  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n-See \\`config.log' for more details.\" >&5\n-echo \"$as_me: error: cannot run test program while cross compiling\n-See \\`config.log' for more details.\" >&2;}\n+  { { echo \"$as_me:$LINENO: error: internal error: not reached in cross-compile\" >&5\n+echo \"$as_me: error: internal error: not reached in cross-compile\" >&2;}\n    { (exit 1); exit 1; }; }\n else\n   cat >conftest.$ac_ext <<_ACEOF\n@@ -4712,8 +4679,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4775,8 +4741,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4816,8 +4781,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4873,8 +4837,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4914,8 +4877,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4979,8 +4941,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5011,10 +4972,8 @@ See \\`config.log' for more details.\" >&2;}\n esac\n else\n   if test \"$cross_compiling\" = yes; then\n-  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n-See \\`config.log' for more details.\" >&5\n-echo \"$as_me: error: cannot run test program while cross compiling\n-See \\`config.log' for more details.\" >&2;}\n+  { { echo \"$as_me:$LINENO: error: internal error: not reached in cross-compile\" >&5\n+echo \"$as_me: error: internal error: not reached in cross-compile\" >&2;}\n    { (exit 1); exit 1; }; }\n else\n   cat >conftest.$ac_ext <<_ACEOF\n@@ -5126,8 +5085,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5188,8 +5146,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5251,8 +5208,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5292,8 +5248,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5349,8 +5304,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5390,8 +5344,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5455,8 +5408,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5487,10 +5439,8 @@ See \\`config.log' for more details.\" >&2;}\n esac\n else\n   if test \"$cross_compiling\" = yes; then\n-  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n-See \\`config.log' for more details.\" >&5\n-echo \"$as_me: error: cannot run test program while cross compiling\n-See \\`config.log' for more details.\" >&2;}\n+  { { echo \"$as_me:$LINENO: error: internal error: not reached in cross-compile\" >&5\n+echo \"$as_me: error: internal error: not reached in cross-compile\" >&2;}\n    { (exit 1); exit 1; }; }\n else\n   cat >conftest.$ac_ext <<_ACEOF\n@@ -5604,8 +5554,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5666,8 +5615,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5729,8 +5677,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5770,8 +5717,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5827,8 +5773,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5868,8 +5813,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5933,8 +5877,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5965,10 +5908,8 @@ See \\`config.log' for more details.\" >&2;}\n esac\n else\n   if test \"$cross_compiling\" = yes; then\n-  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n-See \\`config.log' for more details.\" >&5\n-echo \"$as_me: error: cannot run test program while cross compiling\n-See \\`config.log' for more details.\" >&2;}\n+  { { echo \"$as_me:$LINENO: error: internal error: not reached in cross-compile\" >&5\n+echo \"$as_me: error: internal error: not reached in cross-compile\" >&2;}\n    { (exit 1); exit 1; }; }\n else\n   cat >conftest.$ac_ext <<_ACEOF\n@@ -6085,8 +6026,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -6136,8 +6076,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -6194,8 +6133,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -6249,8 +6187,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -6495,8 +6432,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -7532,7 +7468,7 @@ if test \"${gcc_cv_prog_makeinfo_modern+set}\" = set; then\n else\n     ac_prog_version=`$MAKEINFO --version 2>&1 |\n                    sed -n 's/^.*GNU texinfo.* \\([0-9][0-9.]*\\).*$/\\1/p'`\n-  echo \"configure:7535: version of makeinfo is $ac_prog_version\" >&5\n+  echo \"configure:7471: version of makeinfo is $ac_prog_version\" >&5\n   case $ac_prog_version in\n     '')     gcc_cv_prog_makeinfo_modern=no;;\n     4.[4-9]*)\n@@ -7787,8 +7723,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -7858,8 +7793,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8024,8 +7958,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8086,8 +8019,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8157,8 +8089,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8433,8 +8364,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8507,8 +8437,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8550,8 +8479,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8608,8 +8536,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8772,8 +8699,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8847,8 +8773,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8902,8 +8827,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8981,8 +8905,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -9036,8 +8959,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -9105,8 +9027,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -9246,8 +9167,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -9368,8 +9288,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -9661,8 +9580,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -9779,8 +9697,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -9892,8 +9809,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -10051,8 +9967,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -10094,18 +10009,24 @@ else\n   ac_cv_func_fork_works=cross\n else\n   cat >conftest.$ac_ext <<_ACEOF\n-/* By Ruediger Kuhlmann. */\n-      #include <sys/types.h>\n-      #if HAVE_UNISTD_H\n-      # include <unistd.h>\n-      #endif\n-      /* Some systems only have a dummy stub for fork() */\n-      int main ()\n-      {\n-\tif (fork() < 0)\n-\t  exit (1);\n-\texit (0);\n-      }\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+$ac_includes_default\n+int\n+main ()\n+{\n+\n+\t  /* By Ruediger Kuhlmann. */\n+\t  if (fork() < 0)\n+\t    exit (1);\n+\t  exit (0);\n+\n+  ;\n+  return 0;\n+}\n _ACEOF\n rm -f conftest$ac_exeext\n if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n@@ -10924,8 +10845,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -10975,8 +10895,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11066,8 +10985,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11136,8 +11054,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11200,8 +11117,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11319,8 +11235,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11405,8 +11320,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11475,8 +11389,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11551,8 +11464,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11635,8 +11547,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11712,8 +11623,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11779,8 +11689,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11916,8 +11825,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -12226,8 +12134,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -12488,8 +12395,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -12543,8 +12449,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -12871,19 +12776,80 @@ esac\n # If build != host, and we aren't building gas in-tree, we identify a\n # build->target assembler and hope that it will have the same features\n # as the host->target assembler we'll be using.\n-in_tree_gas=no\n-gcc_cv_as=\n gcc_cv_gas_major_version=\n gcc_cv_gas_minor_version=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n+\n+if test \"${gcc_cv_as+set}\" = set; then\n+  :\n+else\n+\n if test -x \"$DEFAULT_ASSEMBLER\"; then\n \tgcc_cv_as=\"$DEFAULT_ASSEMBLER\"\n elif test -f $gcc_cv_as_gas_srcdir/configure.in \\\n      && test -f ../gas/Makefile \\\n      && test x$build = x$host; then\n+\tgcc_cv_as=../gas/as-new$build_exeext\n+elif test -x as$build_exeext; then\n+\t# Build using assembler in the current directory.\n+\tgcc_cv_as=./as$build_exeext\n+elif test -x $AS_FOR_TARGET; then\n+        gcc_cv_as=\"$AS_FOR_TARGET\"\n+else\n+        # Extract the first word of \"$AS_FOR_TARGET\", so it can be a program name with args.\n+set dummy $AS_FOR_TARGET; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_path_gcc_cv_as+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  case $gcc_cv_as in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_gcc_cv_as=\"$gcc_cv_as\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_gcc_cv_as=\"$as_dir/$ac_word$ac_exec_ext\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n+\n+  ;;\n+esac\n+fi\n+gcc_cv_as=$ac_cv_path_gcc_cv_as\n+\n+if test -n \"$gcc_cv_as\"; then\n+  echo \"$as_me:$LINENO: result: $gcc_cv_as\" >&5\n+echo \"${ECHO_T}$gcc_cv_as\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+fi\n+fi\n+\n+\n+ORIGINAL_AS_FOR_TARGET=$gcc_cv_as\n+\n+\n+echo \"$as_me:$LINENO: checking what assembler to use\" >&5\n+echo $ECHO_N \"checking what assembler to use... $ECHO_C\" >&6\n+if test \"$gcc_cv_as\" = ../gas/as-new$build_exeext; then\n   # Single tree build which includes gas.  We want to prefer it\n   # over whatever linker top-level may have detected, since\n   # we'll use what we're building after installation anyway.\n+  echo \"$as_me:$LINENO: result: newly built gas\" >&5\n+echo \"${ECHO_T}newly built gas\" >&6\n   in_tree_gas=yes\n   gcc_cv_as_bfd_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/bfd\n for f in $gcc_cv_as_bfd_srcdir/configure \\\n@@ -12905,80 +12871,57 @@ gcc_cv_gas_vers=`expr \\( \\( $gcc_cv_gas_major_version \\* 1000 \\) \\\n \t\t\t    + $gcc_cv_gas_minor_version \\) \\* 1000 \\\n \t\t\t    + $gcc_cv_gas_patch_version`\n \n-  gcc_cv_as=../gas/as-new$build_exeext\n   in_tree_gas_is_elf=no\n   if grep 'obj_format = elf' ../gas/Makefile > /dev/null \\\n      || (grep 'obj_format = multi' ../gas/Makefile \\\n          && grep 'extra_objects =.* obj-elf' ../gas/Makefile) > /dev/null\n   then\n     in_tree_gas_is_elf=yes\n   fi\n-elif test -x as$build_exeext; then\n-\t# Build using assembler in the current directory.\n-\tgcc_cv_as=./as$build_exeext\n+else\n+  echo \"$as_me:$LINENO: result: $gcc_cv_as\" >&5\n+echo \"${ECHO_T}$gcc_cv_as\" >&6\n+  in_tree_gas=no\n fi\n \n-\n-# When searching for the assembler or linker, search the same directories\n-# that the installed compiler will search.  Else we may find the wrong\n-# assembler or linker and lose.  If we do not find a suitable binary,\n-# then try the user's path.\n+# Identify the linker which will work hand-in-glove with the newly\n+# built GCC, so that we can examine its features.  This is the linker\n+# which will be driven by the driver program.\n #\n-# Also note we have to check MD_EXEC_PREFIX before checking the user's path.\n-if test \"x$exec_prefix\" = xNONE; then\n-\tif test \"x$prefix\" = xNONE; then\n-\t\tgcc_cv_tool_prefix=/usr/local\n-\telse\n-\t\tgcc_cv_tool_prefix=$prefix\n-\tfi\n-else\n-\tgcc_cv_tool_prefix=$exec_prefix\n-fi\n+# If build != host, and we aren't building gas in-tree, we identify a\n+# build->target linker and hope that it will have the same features\n+# as the host->target linker we'll be using.\n+gcc_cv_gld_major_version=\n+gcc_cv_gld_minor_version=\n+gcc_cv_ld_gld_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/ld\n+gcc_cv_ld_bfd_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/bfd\n \n-if test x$host = x$build; then\n-    gcc_cv_tool_dirs=\"$gcc_cv_tool_prefix/libexec/gcc/$target_noncanonical/$gcc_version\"\n-    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$gcc_cv_tool_prefix/libexec/gcc/$target_noncanonical\"\n-    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR/usr/lib/gcc/$target_noncanonical/$gcc_version\"\n-    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR/usr/lib/gcc/$target_noncanonical\"\n-    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$gcc_cv_tool_prefix/$target_noncanonical/bin/$target_noncanonical/$gcc_version\"\n-    gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$gcc_cv_tool_prefix/$target_noncanonical/bin\"\n+if test \"${gcc_cv_ld+set}\" = set; then\n+  :\n else\n-    gcc_cv_tool_dirs=\n-fi\n-\n-if test x$build = x$target; then\n-    # Rummage through tm_files looking for MD_EXEC_PREFIX\n-    md_dirs=\n-    for f in ${tm_file_list}; do\n-\tif test -f $f; then\n-\t    if grep '^#[ \t]*undef[ \t]*MD_EXEC_PREFIX' $f > /dev/null; then\n-\t\tmd_dirs=\n-\t    fi\n-\t    md_dirs=\"$md_dirs \"`sed -n -e 's@^#[ \t]*define[ \t]*MD_EXEC_PREFIX[ \t]*\"\\(.*\\)/\"@\\1@p' < $f`\n-\tfi\n-    done\n-    for f in ${md_dirs}; do\n-        gcc_cv_tool_dirs=\"$gcc_cv_tool_dirs$PATH_SEPARATOR$f\"\n-    done\n-fi\n-\n-\n-\n \n-exec 6>/dev/null\n-\n-# First try the environment variables.  Handle full paths or basenames.\n-if test \"x$gcc_cv_as\" = x && test -n \"$AS_FOR_TARGET\"; then\n-\t# Extract the first word of \"$AS_FOR_TARGET\", so it can be a program name with args.\n-set dummy $AS_FOR_TARGET; ac_word=$2\n+if test -x \"$DEFAULT_LINKER\"; then\n+\tgcc_cv_ld=\"$DEFAULT_LINKER\"\n+elif test -f $gcc_cv_ld_gld_srcdir/configure.in \\\n+     && test -f ../ld/Makefile \\\n+     && test x$build = x$host; then\n+\tgcc_cv_ld=../ld/ld-new$build_exeext\n+elif test -x collect-ld$build_exeext; then\n+\t# Build using linker in the current directory.\n+\tgcc_cv_ld=./collect-ld$build_exeext\n+elif test -x $LD_FOR_TARGET; then\n+        gcc_cv_ld=\"$LD_FOR_TARGET\"\n+else\n+        # Extract the first word of \"$LD_FOR_TARGET\", so it can be a program name with args.\n+set dummy $LD_FOR_TARGET; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_as+set}\" = set; then\n+if test \"${ac_cv_path_gcc_cv_ld+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $gcc_cv_as in\n+  case $gcc_cv_ld in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_as=\"$gcc_cv_as\" # Let the user override the test with a path.\n+  ac_cv_path_gcc_cv_ld=\"$gcc_cv_ld\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n@@ -12988,7 +12931,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_as=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_gcc_cv_ld=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -12998,28 +12941,77 @@ done\n   ;;\n esac\n fi\n-gcc_cv_as=$ac_cv_path_gcc_cv_as\n+gcc_cv_ld=$ac_cv_path_gcc_cv_ld\n \n-if test -n \"$gcc_cv_as\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_as\" >&5\n-echo \"${ECHO_T}$gcc_cv_as\" >&6\n+if test -n \"$gcc_cv_ld\"; then\n+  echo \"$as_me:$LINENO: result: $gcc_cv_ld\" >&5\n+echo \"${ECHO_T}$gcc_cv_ld\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n fi\n \n fi\n-if test \"x$gcc_cv_as\" = x && test -n \"$AS\" && test x$host = x$target; then\n-\t# Extract the first word of \"$AS\", so it can be a program name with args.\n-set dummy $AS; ac_word=$2\n+fi\n+\n+\n+ORIGINAL_LD_FOR_TARGET=$gcc_cv_ld\n+\n+\n+echo \"$as_me:$LINENO: checking what linker to use\" >&5\n+echo $ECHO_N \"checking what linker to use... $ECHO_C\" >&6\n+if test \"$gcc_cv_ld\" = ../ld/ld-new$build_exeext; then\n+\t# Single tree build which includes ld.  We want to prefer it\n+\t# over whatever linker top-level may have detected, since\n+\t# we'll use what we're building after installation anyway.\n+\techo \"$as_me:$LINENO: result: newly built ld\" >&5\n+echo \"${ECHO_T}newly built ld\" >&6\n+\tin_tree_ld=yes\n+\tin_tree_ld_is_elf=no\n+\tif (grep 'EMUL = .*elf' ../ld/Makefile \\\n+\t    || grep 'EMUL = .*linux' ../ld/Makefile \\\n+\t    || grep 'EMUL = .*lynx' ../ld/Makefile) > /dev/null; then\n+\t  in_tree_ld_is_elf=yes\n+\tfi\n+\tfor f in $gcc_cv_ld_bfd_srcdir/configure $gcc_cv_ld_gld_srcdir/configure $gcc_cv_ld_gld_srcdir/configure.in $gcc_cv_ld_gld_srcdir/Makefile.in\n+\tdo\n+\t\tgcc_cv_gld_version=`sed -n -e 's/^[ \t]*\\(VERSION=[0-9]*\\.[0-9]*.*\\)/\\1/p' < $f`\n+\t\tif test x$gcc_cv_gld_version != x; then\n+\t\t\tbreak\n+\t\tfi\n+\tdone\n+\tgcc_cv_gld_major_version=`expr \"$gcc_cv_gld_version\" : \"VERSION=\\([0-9]*\\)\"`\n+\tgcc_cv_gld_minor_version=`expr \"$gcc_cv_gld_version\" : \"VERSION=[0-9]*\\.\\([0-9]*\\)\"`\n+else\n+\techo \"$as_me:$LINENO: result: $gcc_cv_ld\" >&5\n+echo \"${ECHO_T}$gcc_cv_ld\" >&6\n+\tin_tree_ld=no\n+fi\n+\n+# Figure out what nm we will be using.\n+gcc_cv_binutils_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/binutils\n+if test \"${gcc_cv_nm+set}\" = set; then\n+  :\n+else\n+\n+if test -f $gcc_cv_binutils_srcdir/configure.in \\\n+     && test -f ../binutils/Makefile; then\n+\tgcc_cv_nm=../binutils/nm-new$build_exeext\n+elif test -x nm$build_exeext; then\n+\tgcc_cv_nm=./nm$build_exeext\n+elif test -x $NM_FOR_TARGET; then\n+        gcc_cv_nm=\"$NM_FOR_TARGET\"\n+else\n+        # Extract the first word of \"$NM_FOR_TARGET\", so it can be a program name with args.\n+set dummy $NM_FOR_TARGET; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_as+set}\" = set; then\n+if test \"${ac_cv_path_gcc_cv_nm+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $gcc_cv_as in\n+  case $gcc_cv_nm in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_as=\"$gcc_cv_as\" # Let the user override the test with a path.\n+  ac_cv_path_gcc_cv_nm=\"$gcc_cv_nm\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n@@ -13029,7 +13021,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_as=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_gcc_cv_nm=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -13039,46 +13031,70 @@ done\n   ;;\n esac\n fi\n-gcc_cv_as=$ac_cv_path_gcc_cv_as\n+gcc_cv_nm=$ac_cv_path_gcc_cv_nm\n \n-if test -n \"$gcc_cv_as\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_as\" >&5\n-echo \"${ECHO_T}$gcc_cv_as\" >&6\n+if test -n \"$gcc_cv_nm\"; then\n+  echo \"$as_me:$LINENO: result: $gcc_cv_nm\" >&5\n+echo \"${ECHO_T}$gcc_cv_nm\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n fi\n \n fi\n+fi\n \n-if test \"x$gcc_cv_as\" = x; then\n-\t# The AC_PATH_PROGS macro doesn't work properly when its 4th argument\n-\t# is empty.\n-\tif test \"x$gcc_cv_tool_dirs\" = x; then\n-\t\tgcc_cv_as=\n-\telse\n-\t\tfor ac_prog in as\n-do\n-  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n+\n+echo \"$as_me:$LINENO: checking what nm to use\" >&5\n+echo $ECHO_N \"checking what nm to use... $ECHO_C\" >&6\n+if test \"$gcc_cv_nm\" = ../binutils/nm-new$build_exeext; then\n+\t# Single tree build which includes binutils.\n+\techo \"$as_me:$LINENO: result: newly built nm\" >&5\n+echo \"${ECHO_T}newly built nm\" >&6\n+\tin_tree_nm=yes\n+else\n+\techo \"$as_me:$LINENO: result: $gcc_cv_nm\" >&5\n+echo \"${ECHO_T}$gcc_cv_nm\" >&6\n+\tin_tree_nm=no\n+fi\n+\n+ORIGINAL_NM_FOR_TARGET=$gcc_cv_nm\n+\n+\n+# Figure out what objdump we will be using.\n+if test \"${gcc_cv_objdump+set}\" = set; then\n+  :\n+else\n+\n+if test -f $gcc_cv_binutils_srcdir/configure.in \\\n+     && test -f ../binutils/Makefile; then\n+\t# Single tree build which includes binutils.\n+\tgcc_cv_objdump=../binutils/objdump$build_exeext\n+elif test -x objdump$build_exeext; then\n+\tgcc_cv_objdump=./objdump$build_exeext\n+elif test -x $OBJDUMP_FOR_TARGET; then\n+        gcc_cv_objdump=\"$OBJDUMP_FOR_TARGET\"\n+else\n+        # Extract the first word of \"$OBJDUMP_FOR_TARGET\", so it can be a program name with args.\n+set dummy $OBJDUMP_FOR_TARGET; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_as+set}\" = set; then\n+if test \"${ac_cv_path_gcc_cv_objdump+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $gcc_cv_as in\n+  case $gcc_cv_objdump in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_as=\"$gcc_cv_as\" # Let the user override the test with a path.\n+  ac_cv_path_gcc_cv_objdump=\"$gcc_cv_objdump\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $gcc_cv_tool_dirs\n+for as_dir in $PATH\n do\n   IFS=$as_save_IFS\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_as=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_gcc_cv_objdump=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -13088,802 +13104,33 @@ done\n   ;;\n esac\n fi\n-gcc_cv_as=$ac_cv_path_gcc_cv_as\n+gcc_cv_objdump=$ac_cv_path_gcc_cv_objdump\n \n-if test -n \"$gcc_cv_as\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_as\" >&5\n-echo \"${ECHO_T}$gcc_cv_as\" >&6\n+if test -n \"$gcc_cv_objdump\"; then\n+  echo \"$as_me:$LINENO: result: $gcc_cv_objdump\" >&5\n+echo \"${ECHO_T}$gcc_cv_objdump\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n fi\n \n-  test -n \"$gcc_cv_as\" && break\n-done\n+fi\n+fi\n \n-\tfi\n+\n+echo \"$as_me:$LINENO: checking what objdump to use\" >&5\n+echo $ECHO_N \"checking what objdump to use... $ECHO_C\" >&6\n+if test \"$gcc_cv_objdump\" = ../binutils/objdump$build_exeext; then\n+\t# Single tree build which includes binutils.\n+\techo \"$as_me:$LINENO: result: newly built objdump\" >&5\n+echo \"${ECHO_T}newly built objdump\" >&6\n+elif test x$gcc_cv_objdump = x; then\n+\techo \"$as_me:$LINENO: result: not found\" >&5\n+echo \"${ECHO_T}not found\" >&6\n+else\n+\techo \"$as_me:$LINENO: result: $gcc_cv_objdump\" >&5\n+echo \"${ECHO_T}$gcc_cv_objdump\" >&6\n fi\n-if test \"x$gcc_cv_as\" = x; then\n-\t# If the loop above did not find a tool, then use whatever\n-\t# one we can find in the users's path.  We are looking for a\n-\t# ${build} -> ${target} tool.\n-\tif test \"x$program_prefix\" != xNONE; then\n-\t\tdefault_tool_name=${program_prefix}as\n-\telif test x$build != x$host && test x$build != x$target; then\n-\t\tdefault_tool_name=${target_noncanonical}-as\n-\telse\n-\t\tdefault_tool_name=`echo as | sed \"${program_transform_name}\"`\n-\tfi\n-\tfor ac_prog in $default_tool_name\n-do\n-  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_as+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  case $gcc_cv_as in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_as=\"$gcc_cv_as\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_as=\"$as_dir/$ac_word$ac_exec_ext\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  ;;\n-esac\n-fi\n-gcc_cv_as=$ac_cv_path_gcc_cv_as\n-\n-if test -n \"$gcc_cv_as\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_as\" >&5\n-echo \"${ECHO_T}$gcc_cv_as\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n-\n-  test -n \"$gcc_cv_as\" && break\n-done\n-test -n \"$gcc_cv_as\" || gcc_cv_as=\"$gcc_cv_tool_prefix/bin/$default_tool_name$build_exeext\"\n-\n-fi\n-test \"$silent\" != yes && exec 6>&1\n-\n-ORIGINAL_AS_FOR_TARGET=\"$gcc_cv_as\"\n-\n-echo \"$as_me:$LINENO: checking what assembler to use\" >&5\n-echo $ECHO_N \"checking what assembler to use... $ECHO_C\" >&6\n-case $in_tree_gas in\n-  yes)\n-    echo \"$as_me:$LINENO: result: \\\"newly built gas\\\"\" >&5\n-echo \"${ECHO_T}\\\"newly built gas\\\"\" >&6\n-    ;;\n-  no)\n-    echo \"$as_me:$LINENO: result: $gcc_cv_as\" >&5\n-echo \"${ECHO_T}$gcc_cv_as\" >&6\n-    ;;\n-esac\n-\n-# Identify the linker which will work hand-in-glove with the newly\n-# built GCC, so that we can examine its features.  This is the linker\n-# which will be driven by the driver program.\n-#\n-# If build != host, and we aren't building gas in-tree, we identify a\n-# build->target linker and hope that it will have the same features\n-# as the host->target linker we'll be using.\n-in_tree_ld=no\n-gcc_cv_ld=\n-gcc_cv_gld_major_version=\n-gcc_cv_gld_minor_version=\n-gcc_cv_ld_gld_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/ld\n-gcc_cv_ld_bfd_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/bfd\n-if test -x \"$DEFAULT_LINKER\"; then\n-\tgcc_cv_ld=\"$DEFAULT_LINKER\"\n-elif test -f $gcc_cv_ld_gld_srcdir/configure.in \\\n-     && test -f ../ld/Makefile \\\n-     && test x$build = x$host; then\n-\t# Single tree build which includes ld.  We want to prefer it\n-\t# over whatever linker top-level may have detected, since\n-\t# we'll use what we're building after installation anyway.\n-\tin_tree_ld=yes\n-\tin_tree_ld_is_elf=no\n-\tif (grep 'EMUL = .*elf' ../ld/Makefile \\\n-\t    || grep 'EMUL = .*linux' ../ld/Makefile \\\n-\t    || grep 'EMUL = .*lynx' ../ld/Makefile) > /dev/null; then\n-\t  in_tree_ld_is_elf=yes\n-\tfi\n-\tfor f in $gcc_cv_ld_bfd_srcdir/configure $gcc_cv_ld_gld_srcdir/configure $gcc_cv_ld_gld_srcdir/configure.in $gcc_cv_ld_gld_srcdir/Makefile.in\n-\tdo\n-\t\tgcc_cv_gld_version=`sed -n -e 's/^[ \t]*\\(VERSION=[0-9]*\\.[0-9]*.*\\)/\\1/p' < $f`\n-\t\tif test x$gcc_cv_gld_version != x; then\n-\t\t\tbreak\n-\t\tfi\n-\tdone\n-\tgcc_cv_gld_major_version=`expr \"$gcc_cv_gld_version\" : \"VERSION=\\([0-9]*\\)\"`\n-\tgcc_cv_gld_minor_version=`expr \"$gcc_cv_gld_version\" : \"VERSION=[0-9]*\\.\\([0-9]*\\)\"`\n-\tgcc_cv_ld=../ld/ld-new$build_exeext\n-elif test -x collect-ld$build_exeext; then\n-\t# Build using linker in the current directory.\n-\tgcc_cv_ld=./collect-ld$build_exeext\n-fi\n-\n-\n-\n-\n-\n-exec 6>/dev/null\n-\n-# First try the environment variables.  Handle full paths or basenames.\n-if test \"x$gcc_cv_ld\" = x && test -n \"$LD_FOR_TARGET\"; then\n-\t# Extract the first word of \"$LD_FOR_TARGET\", so it can be a program name with args.\n-set dummy $LD_FOR_TARGET; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_ld+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  case $gcc_cv_ld in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_ld=\"$gcc_cv_ld\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_ld=\"$as_dir/$ac_word$ac_exec_ext\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  ;;\n-esac\n-fi\n-gcc_cv_ld=$ac_cv_path_gcc_cv_ld\n-\n-if test -n \"$gcc_cv_ld\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_ld\" >&5\n-echo \"${ECHO_T}$gcc_cv_ld\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n-\n-fi\n-if test \"x$gcc_cv_ld\" = x && test -n \"$LD\" && test x$host = x$target; then\n-\t# Extract the first word of \"$LD\", so it can be a program name with args.\n-set dummy $LD; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_ld+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  case $gcc_cv_ld in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_ld=\"$gcc_cv_ld\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_ld=\"$as_dir/$ac_word$ac_exec_ext\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  ;;\n-esac\n-fi\n-gcc_cv_ld=$ac_cv_path_gcc_cv_ld\n-\n-if test -n \"$gcc_cv_ld\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_ld\" >&5\n-echo \"${ECHO_T}$gcc_cv_ld\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n-\n-fi\n-\n-if test \"x$gcc_cv_ld\" = x; then\n-\t# The AC_PATH_PROGS macro doesn't work properly when its 4th argument\n-\t# is empty.\n-\tif test \"x$gcc_cv_tool_dirs\" = x; then\n-\t\tgcc_cv_ld=\n-\telse\n-\t\tfor ac_prog in ld\n-do\n-  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_ld+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  case $gcc_cv_ld in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_ld=\"$gcc_cv_ld\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $gcc_cv_tool_dirs\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_ld=\"$as_dir/$ac_word$ac_exec_ext\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  ;;\n-esac\n-fi\n-gcc_cv_ld=$ac_cv_path_gcc_cv_ld\n-\n-if test -n \"$gcc_cv_ld\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_ld\" >&5\n-echo \"${ECHO_T}$gcc_cv_ld\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n-\n-  test -n \"$gcc_cv_ld\" && break\n-done\n-\n-\tfi\n-fi\n-if test \"x$gcc_cv_ld\" = x; then\n-\t# If the loop above did not find a tool, then use whatever\n-\t# one we can find in the users's path.  We are looking for a\n-\t# ${build} -> ${target} tool.\n-\tif test \"x$program_prefix\" != xNONE; then\n-\t\tdefault_tool_name=${program_prefix}ld\n-\telif test x$build != x$host && test x$build != x$target; then\n-\t\tdefault_tool_name=${target_noncanonical}-ld\n-\telse\n-\t\tdefault_tool_name=`echo ld | sed \"${program_transform_name}\"`\n-\tfi\n-\tfor ac_prog in $default_tool_name\n-do\n-  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_ld+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  case $gcc_cv_ld in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_ld=\"$gcc_cv_ld\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_ld=\"$as_dir/$ac_word$ac_exec_ext\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  ;;\n-esac\n-fi\n-gcc_cv_ld=$ac_cv_path_gcc_cv_ld\n-\n-if test -n \"$gcc_cv_ld\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_ld\" >&5\n-echo \"${ECHO_T}$gcc_cv_ld\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n-\n-  test -n \"$gcc_cv_ld\" && break\n-done\n-test -n \"$gcc_cv_ld\" || gcc_cv_ld=\"$gcc_cv_tool_prefix/bin/$default_tool_name$build_exeext\"\n-\n-fi\n-test \"$silent\" != yes && exec 6>&1\n-\n-ORIGINAL_LD_FOR_TARGET=\"$gcc_cv_ld\"\n-\n-echo \"$as_me:$LINENO: checking what linker to use\" >&5\n-echo $ECHO_N \"checking what linker to use... $ECHO_C\" >&6\n-case $in_tree_ld in\n-  yes)\n-    echo \"$as_me:$LINENO: result: \\\"newly built ld\\\"\" >&5\n-echo \"${ECHO_T}\\\"newly built ld\\\"\" >&6\n-    ;;\n-  no)\n-    echo \"$as_me:$LINENO: result: $gcc_cv_ld\" >&5\n-echo \"${ECHO_T}$gcc_cv_ld\" >&6\n-    ;;\n-esac\n-\n-# Figure out what nm we will be using.\n-gcc_cv_binutils_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/binutils\n-in_tree_nm=no\n-gcc_cv_nm=\n-if test -f $gcc_cv_binutils_srcdir/configure.in \\\n-     && test -f ../binutils/Makefile; then\n-\t# Single tree build which includes binutils.\n-\tin_tree_nm=yes\n-\tgcc_cv_nm=../binutils/nm-new$build_exeext\n-elif test -x nm$build_exeext; then\n-\tgcc_cv_nm=./nm$build_exeext\n-fi\n-\n-\n-\n-\n-\n-exec 6>/dev/null\n-\n-# First try the environment variables.  Handle full paths or basenames.\n-if test \"x$gcc_cv_nm\" = x && test -n \"$NM_FOR_TARGET\"; then\n-\t# Extract the first word of \"$NM_FOR_TARGET\", so it can be a program name with args.\n-set dummy $NM_FOR_TARGET; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_nm+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  case $gcc_cv_nm in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_nm=\"$gcc_cv_nm\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_nm=\"$as_dir/$ac_word$ac_exec_ext\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  ;;\n-esac\n-fi\n-gcc_cv_nm=$ac_cv_path_gcc_cv_nm\n-\n-if test -n \"$gcc_cv_nm\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_nm\" >&5\n-echo \"${ECHO_T}$gcc_cv_nm\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n-\n-fi\n-if test \"x$gcc_cv_nm\" = x && test -n \"$NM\" && test x$host = x$target; then\n-\t# Extract the first word of \"$NM\", so it can be a program name with args.\n-set dummy $NM; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_nm+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  case $gcc_cv_nm in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_nm=\"$gcc_cv_nm\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_nm=\"$as_dir/$ac_word$ac_exec_ext\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  ;;\n-esac\n-fi\n-gcc_cv_nm=$ac_cv_path_gcc_cv_nm\n-\n-if test -n \"$gcc_cv_nm\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_nm\" >&5\n-echo \"${ECHO_T}$gcc_cv_nm\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n-\n-fi\n-\n-if test \"x$gcc_cv_nm\" = x; then\n-\t# The AC_PATH_PROGS macro doesn't work properly when its 4th argument\n-\t# is empty.\n-\tif test \"x$gcc_cv_tool_dirs\" = x; then\n-\t\tgcc_cv_nm=\n-\telse\n-\t\tfor ac_prog in nm\n-do\n-  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_nm+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  case $gcc_cv_nm in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_nm=\"$gcc_cv_nm\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $gcc_cv_tool_dirs\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_nm=\"$as_dir/$ac_word$ac_exec_ext\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  ;;\n-esac\n-fi\n-gcc_cv_nm=$ac_cv_path_gcc_cv_nm\n-\n-if test -n \"$gcc_cv_nm\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_nm\" >&5\n-echo \"${ECHO_T}$gcc_cv_nm\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n-\n-  test -n \"$gcc_cv_nm\" && break\n-done\n-\n-\tfi\n-fi\n-if test \"x$gcc_cv_nm\" = x; then\n-\t# If the loop above did not find a tool, then use whatever\n-\t# one we can find in the users's path.  We are looking for a\n-\t# ${build} -> ${target} tool.\n-\tif test \"x$program_prefix\" != xNONE; then\n-\t\tdefault_tool_name=${program_prefix}nm\n-\telif test x$build != x$host && test x$build != x$target; then\n-\t\tdefault_tool_name=${target_noncanonical}-nm\n-\telse\n-\t\tdefault_tool_name=`echo nm | sed \"${program_transform_name}\"`\n-\tfi\n-\tfor ac_prog in $default_tool_name\n-do\n-  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_nm+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  case $gcc_cv_nm in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_nm=\"$gcc_cv_nm\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_nm=\"$as_dir/$ac_word$ac_exec_ext\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  ;;\n-esac\n-fi\n-gcc_cv_nm=$ac_cv_path_gcc_cv_nm\n-\n-if test -n \"$gcc_cv_nm\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_nm\" >&5\n-echo \"${ECHO_T}$gcc_cv_nm\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n-\n-  test -n \"$gcc_cv_nm\" && break\n-done\n-test -n \"$gcc_cv_nm\" || gcc_cv_nm=\"$gcc_cv_tool_prefix/bin/$default_tool_name$build_exeext\"\n-\n-fi\n-test \"$silent\" != yes && exec 6>&1\n-\n-ORIGINAL_NM_FOR_TARGET=\"$gcc_cv_nm\"\n-\n-echo \"$as_me:$LINENO: checking what nm to use\" >&5\n-echo $ECHO_N \"checking what nm to use... $ECHO_C\" >&6\n-case $in_tree_nm in\n-  yes) echo \"$as_me:$LINENO: result: \\\"newly built nm\\\"\" >&5\n-echo \"${ECHO_T}\\\"newly built nm\\\"\" >&6 ;;\n-  no)  echo \"$as_me:$LINENO: result: $gcc_cv_nm\" >&5\n-echo \"${ECHO_T}$gcc_cv_nm\" >&6 ;;\n-esac\n-\n-# Figure out what objdump we will be using.\n-in_tree_objdump=no\n-gcc_cv_objdump=\n-if test -f $gcc_cv_binutils_srcdir/configure.in \\\n-     && test -f ../binutils/Makefile; then\n-\t# Single tree build which includes binutils.\n-\tin_tree_objdump=yes\n-\tgcc_cv_objdump=../binutils/objdump$build_exeext\n-elif test -x objdump$build_exeext; then\n-\tgcc_cv_objdump=./objdump$build_exeext\n-fi\n-\n-\n-\n-\n-\n-exec 6>/dev/null\n-\n-# First try the environment variables.  Handle full paths or basenames.\n-if test \"x$gcc_cv_objdump\" = x && test -n \"$OBJDUMP_FOR_TARGET\"; then\n-\t# Extract the first word of \"$OBJDUMP_FOR_TARGET\", so it can be a program name with args.\n-set dummy $OBJDUMP_FOR_TARGET; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_objdump+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  case $gcc_cv_objdump in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_objdump=\"$gcc_cv_objdump\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_objdump=\"$as_dir/$ac_word$ac_exec_ext\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  ;;\n-esac\n-fi\n-gcc_cv_objdump=$ac_cv_path_gcc_cv_objdump\n-\n-if test -n \"$gcc_cv_objdump\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_objdump\" >&5\n-echo \"${ECHO_T}$gcc_cv_objdump\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n-\n-fi\n-if test \"x$gcc_cv_objdump\" = x && test -n \"$OBJDUMP\" && test x$host = x$target; then\n-\t# Extract the first word of \"$OBJDUMP\", so it can be a program name with args.\n-set dummy $OBJDUMP; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_objdump+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  case $gcc_cv_objdump in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_objdump=\"$gcc_cv_objdump\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_objdump=\"$as_dir/$ac_word$ac_exec_ext\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  ;;\n-esac\n-fi\n-gcc_cv_objdump=$ac_cv_path_gcc_cv_objdump\n-\n-if test -n \"$gcc_cv_objdump\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_objdump\" >&5\n-echo \"${ECHO_T}$gcc_cv_objdump\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n-\n-fi\n-\n-if test \"x$gcc_cv_objdump\" = x; then\n-\t# The AC_PATH_PROGS macro doesn't work properly when its 4th argument\n-\t# is empty.\n-\tif test \"x$gcc_cv_tool_dirs\" = x; then\n-\t\tgcc_cv_objdump=\n-\telse\n-\t\tfor ac_prog in objdump\n-do\n-  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_objdump+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  case $gcc_cv_objdump in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_objdump=\"$gcc_cv_objdump\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $gcc_cv_tool_dirs\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_objdump=\"$as_dir/$ac_word$ac_exec_ext\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  ;;\n-esac\n-fi\n-gcc_cv_objdump=$ac_cv_path_gcc_cv_objdump\n-\n-if test -n \"$gcc_cv_objdump\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_objdump\" >&5\n-echo \"${ECHO_T}$gcc_cv_objdump\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n-\n-  test -n \"$gcc_cv_objdump\" && break\n-done\n-\n-\tfi\n-fi\n-if test \"x$gcc_cv_objdump\" = x; then\n-\t# If the loop above did not find a tool, then use whatever\n-\t# one we can find in the users's path.  We are looking for a\n-\t# ${build} -> ${target} tool.\n-\tif test \"x$program_prefix\" != xNONE; then\n-\t\tdefault_tool_name=${program_prefix}objdump\n-\telif test x$build != x$host && test x$build != x$target; then\n-\t\tdefault_tool_name=${target_noncanonical}-objdump\n-\telse\n-\t\tdefault_tool_name=`echo objdump | sed \"${program_transform_name}\"`\n-\tfi\n-\tfor ac_prog in $default_tool_name\n-do\n-  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_gcc_cv_objdump+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  case $gcc_cv_objdump in\n-  [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_gcc_cv_objdump=\"$gcc_cv_objdump\" # Let the user override the test with a path.\n-  ;;\n-  *)\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_gcc_cv_objdump=\"$as_dir/$ac_word$ac_exec_ext\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  ;;\n-esac\n-fi\n-gcc_cv_objdump=$ac_cv_path_gcc_cv_objdump\n-\n-if test -n \"$gcc_cv_objdump\"; then\n-  echo \"$as_me:$LINENO: result: $gcc_cv_objdump\" >&5\n-echo \"${ECHO_T}$gcc_cv_objdump\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n-\n-  test -n \"$gcc_cv_objdump\" && break\n-done\n-test -n \"$gcc_cv_objdump\" || gcc_cv_objdump=\"$gcc_cv_tool_prefix/bin/$default_tool_name$build_exeext\"\n-\n-fi\n-test \"$silent\" != yes && exec 6>&1\n-\n-ORIGINAL_OBJDUMP_FOR_TARGET=\"$gcc_cv_objdump\"\n-\n-echo \"$as_me:$LINENO: checking what objdump to use\" >&5\n-echo $ECHO_N \"checking what objdump to use... $ECHO_C\" >&6\n-case $in_tree_objdump in\n-  yes) echo \"$as_me:$LINENO: result: \\\"newly built objdump\\\"\" >&5\n-echo \"${ECHO_T}\\\"newly built objdump\\\"\" >&6 ;;\n-  no)  echo \"$as_me:$LINENO: result: $gcc_cv_objdump\" >&5\n-echo \"${ECHO_T}$gcc_cv_objdump\" >&6 ;;\n-esac\n \n # Figure out what assembler alignment features are present.\n echo \"$as_me:$LINENO: checking assembler for .balign and .p2align\" >&5\n@@ -17326,7 +16573,6 @@ s,@ORIGINAL_LD_FOR_TARGET@,$ORIGINAL_LD_FOR_TARGET,;t t\n s,@gcc_cv_nm@,$gcc_cv_nm,;t t\n s,@ORIGINAL_NM_FOR_TARGET@,$ORIGINAL_NM_FOR_TARGET,;t t\n s,@gcc_cv_objdump@,$gcc_cv_objdump,;t t\n-s,@ORIGINAL_OBJDUMP_FOR_TARGET@,$ORIGINAL_OBJDUMP_FOR_TARGET,;t t\n s,@libgcc_visibility@,$libgcc_visibility,;t t\n s,@GGC@,$GGC,;t t\n s,@zlibdir@,$zlibdir,;t t\n@@ -17564,11 +16810,6 @@ esac\n \n \n \n-  if test x\"$ac_file\" != x-; then\n-    { echo \"$as_me:$LINENO: creating $ac_file\" >&5\n-echo \"$as_me: creating $ac_file\" >&6;}\n-    rm -f \"$ac_file\"\n-  fi\n   # Let's still pretend it is `configure' which instantiates (i.e., don't\n   # use $as_me), people would be surprised to read:\n   #    /* config.h.  Generated by config.status.  */\n@@ -17607,6 +16848,12 @@ echo \"$as_me: error: cannot find input file: $f\" >&2;}\n \t fi;;\n       esac\n     done` || { (exit 1); exit 1; }\n+\n+  if test x\"$ac_file\" != x-; then\n+    { echo \"$as_me:$LINENO: creating $ac_file\" >&5\n+echo \"$as_me: creating $ac_file\" >&6;}\n+    rm -f \"$ac_file\"\n+  fi\n _ACEOF\n cat >>$CONFIG_STATUS <<_ACEOF\n   sed \"$ac_vpsub"}, {"sha": "03964d6f9fe67d18277344c3fbfb24238d982ae6", "filename": "gcc/configure.ac", "status": "modified", "additions": 74, "deletions": 57, "changes": 131, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8b053801c57d8d7daf305d6b7ce01cbd4958e73/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=e8b053801c57d8d7daf305d6b7ce01cbd4958e73", "patch": "@@ -1813,67 +1813,87 @@ esac\n # If build != host, and we aren't building gas in-tree, we identify a\n # build->target assembler and hope that it will have the same features\n # as the host->target assembler we'll be using.\n-in_tree_gas=no\n-gcc_cv_as=\n gcc_cv_gas_major_version=\n gcc_cv_gas_minor_version=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n+\n+m4_pattern_allow([AS_FOR_TARGET])dnl\n+AS_VAR_SET_IF(gcc_cv_as,, [\n if test -x \"$DEFAULT_ASSEMBLER\"; then\n \tgcc_cv_as=\"$DEFAULT_ASSEMBLER\"\n elif test -f $gcc_cv_as_gas_srcdir/configure.in \\\n      && test -f ../gas/Makefile \\\n      && test x$build = x$host; then\n+\tgcc_cv_as=../gas/as-new$build_exeext\n+elif test -x as$build_exeext; then\n+\t# Build using assembler in the current directory.\n+\tgcc_cv_as=./as$build_exeext\n+elif test -x $AS_FOR_TARGET; then\n+        gcc_cv_as=\"$AS_FOR_TARGET\"\n+else\n+        AC_PATH_PROG(gcc_cv_as, $AS_FOR_TARGET)\n+fi])\n+\n+ORIGINAL_AS_FOR_TARGET=$gcc_cv_as\n+AC_SUBST(ORIGINAL_AS_FOR_TARGET)\n+\n+AC_MSG_CHECKING(what assembler to use)\n+if test \"$gcc_cv_as\" = ../gas/as-new$build_exeext; then\n   # Single tree build which includes gas.  We want to prefer it\n   # over whatever linker top-level may have detected, since\n   # we'll use what we're building after installation anyway.\n+  AC_MSG_RESULT(newly built gas)\n   in_tree_gas=yes\n   _gcc_COMPUTE_GAS_VERSION\n-  gcc_cv_as=../gas/as-new$build_exeext\n   in_tree_gas_is_elf=no\n   if grep 'obj_format = elf' ../gas/Makefile > /dev/null \\\n      || (grep 'obj_format = multi' ../gas/Makefile \\\n          && grep 'extra_objects =.* obj-elf' ../gas/Makefile) > /dev/null\n   then\n     in_tree_gas_is_elf=yes\n   fi\n-m4_pattern_allow([AS_FOR_TARGET])dnl\n-elif test -x as$build_exeext; then\n-\t# Build using assembler in the current directory.\n-\tgcc_cv_as=./as$build_exeext\n+else\n+  AC_MSG_RESULT($gcc_cv_as)\n+  in_tree_gas=no\n fi\n \n-gcc_AC_CHECK_TOOL(gcc_cv_as, as, ORIGINAL_AS_FOR_TARGET, AS_FOR_TARGET, AS)\n-AC_MSG_CHECKING(what assembler to use)\n-case $in_tree_gas in\n-  yes)\n-    AC_MSG_RESULT(\"newly built gas\")\n-    ;;\n-  no)\n-    AC_MSG_RESULT($gcc_cv_as)\n-    ;;\n-esac\n-\n # Identify the linker which will work hand-in-glove with the newly\n # built GCC, so that we can examine its features.  This is the linker\n # which will be driven by the driver program.\n #\n # If build != host, and we aren't building gas in-tree, we identify a\n # build->target linker and hope that it will have the same features\n # as the host->target linker we'll be using.\n-in_tree_ld=no\n-gcc_cv_ld=\n gcc_cv_gld_major_version=\n gcc_cv_gld_minor_version=\n gcc_cv_ld_gld_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/ld\n gcc_cv_ld_bfd_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/bfd\n+\n+AS_VAR_SET_IF(gcc_cv_ld,, [\n if test -x \"$DEFAULT_LINKER\"; then\n \tgcc_cv_ld=\"$DEFAULT_LINKER\"\n elif test -f $gcc_cv_ld_gld_srcdir/configure.in \\\n      && test -f ../ld/Makefile \\\n      && test x$build = x$host; then\n+\tgcc_cv_ld=../ld/ld-new$build_exeext\n+elif test -x collect-ld$build_exeext; then\n+\t# Build using linker in the current directory.\n+\tgcc_cv_ld=./collect-ld$build_exeext\n+elif test -x $LD_FOR_TARGET; then\n+        gcc_cv_ld=\"$LD_FOR_TARGET\"\n+else\n+        AC_PATH_PROG(gcc_cv_ld, $LD_FOR_TARGET)\n+fi])\n+\n+ORIGINAL_LD_FOR_TARGET=$gcc_cv_ld\n+AC_SUBST(ORIGINAL_LD_FOR_TARGET)\n+\n+AC_MSG_CHECKING(what linker to use)\n+if test \"$gcc_cv_ld\" = ../ld/ld-new$build_exeext; then\n \t# Single tree build which includes ld.  We want to prefer it\n \t# over whatever linker top-level may have detected, since\n \t# we'll use what we're building after installation anyway.\n+\tAC_MSG_RESULT(newly built ld)\n \tin_tree_ld=yes\n \tin_tree_ld_is_elf=no\n \tif (grep 'EMUL = .*elf' ../ld/Makefile \\\n@@ -1885,71 +1905,68 @@ elif test -f $gcc_cv_ld_gld_srcdir/configure.in \\\n \tdo\n changequote(,)dnl\n \t\tgcc_cv_gld_version=`sed -n -e 's/^[ \t]*\\(VERSION=[0-9]*\\.[0-9]*.*\\)/\\1/p' < $f`\n-changequote([,])dnl\n \t\tif test x$gcc_cv_gld_version != x; then\n \t\t\tbreak\n \t\tfi\n \tdone\n-changequote(,)dnl\n \tgcc_cv_gld_major_version=`expr \"$gcc_cv_gld_version\" : \"VERSION=\\([0-9]*\\)\"`\n \tgcc_cv_gld_minor_version=`expr \"$gcc_cv_gld_version\" : \"VERSION=[0-9]*\\.\\([0-9]*\\)\"`\n changequote([,])dnl\n-\tgcc_cv_ld=../ld/ld-new$build_exeext\n-elif test -x collect-ld$build_exeext; then\n-\t# Build using linker in the current directory.\n-\tgcc_cv_ld=./collect-ld$build_exeext\n+else\n+\tAC_MSG_RESULT($gcc_cv_ld)\n+\tin_tree_ld=no\n fi\n \n-gcc_AC_CHECK_TOOL(gcc_cv_ld, ld, ORIGINAL_LD_FOR_TARGET, LD_FOR_TARGET, LD)\n-AC_MSG_CHECKING(what linker to use)\n-case $in_tree_ld in\n-  yes)\n-    AC_MSG_RESULT(\"newly built ld\")\n-    ;;\n-  no)\n-    AC_MSG_RESULT($gcc_cv_ld)\n-    ;;\n-esac\n-\n # Figure out what nm we will be using.\n gcc_cv_binutils_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/binutils\n-in_tree_nm=no\n-gcc_cv_nm=\n+AS_VAR_SET_IF(gcc_cv_nm,, [\n if test -f $gcc_cv_binutils_srcdir/configure.in \\\n      && test -f ../binutils/Makefile; then\n-\t# Single tree build which includes binutils.\n-\tin_tree_nm=yes\n \tgcc_cv_nm=../binutils/nm-new$build_exeext\n elif test -x nm$build_exeext; then\n \tgcc_cv_nm=./nm$build_exeext\n-fi\n+elif test -x $NM_FOR_TARGET; then\n+        gcc_cv_nm=\"$NM_FOR_TARGET\"\n+else\n+        AC_PATH_PROG(gcc_cv_nm, $NM_FOR_TARGET)\n+fi])\n \n-gcc_AC_CHECK_TOOL(gcc_cv_nm, nm, ORIGINAL_NM_FOR_TARGET, NM_FOR_TARGET, NM)\n AC_MSG_CHECKING(what nm to use)\n-case $in_tree_nm in\n-  yes) AC_MSG_RESULT(\"newly built nm\") ;;\n-  no)  AC_MSG_RESULT($gcc_cv_nm) ;;\n-esac\n+if test \"$gcc_cv_nm\" = ../binutils/nm-new$build_exeext; then\n+\t# Single tree build which includes binutils.\n+\tAC_MSG_RESULT(newly built nm)\n+\tin_tree_nm=yes\n+else\n+\tAC_MSG_RESULT($gcc_cv_nm)\n+\tin_tree_nm=no\n+fi\n+\n+ORIGINAL_NM_FOR_TARGET=$gcc_cv_nm\n+AC_SUBST(ORIGINAL_NM_FOR_TARGET)\n \n # Figure out what objdump we will be using.\n-in_tree_objdump=no\n-gcc_cv_objdump=\n+AS_VAR_SET_IF(gcc_cv_objdump,, [\n if test -f $gcc_cv_binutils_srcdir/configure.in \\\n      && test -f ../binutils/Makefile; then\n \t# Single tree build which includes binutils.\n-\tin_tree_objdump=yes\n \tgcc_cv_objdump=../binutils/objdump$build_exeext\n elif test -x objdump$build_exeext; then\n \tgcc_cv_objdump=./objdump$build_exeext\n-fi\n+elif test -x $OBJDUMP_FOR_TARGET; then\n+        gcc_cv_objdump=\"$OBJDUMP_FOR_TARGET\"\n+else\n+        AC_PATH_PROG(gcc_cv_objdump, $OBJDUMP_FOR_TARGET)\n+fi])\n \n-gcc_AC_CHECK_TOOL(gcc_cv_objdump, objdump, ORIGINAL_OBJDUMP_FOR_TARGET,\n-\t\t  OBJDUMP_FOR_TARGET, OBJDUMP)\n AC_MSG_CHECKING(what objdump to use)\n-case $in_tree_objdump in\n-  yes) AC_MSG_RESULT(\"newly built objdump\") ;;\n-  no)  AC_MSG_RESULT($gcc_cv_objdump) ;;\n-esac\n+if test \"$gcc_cv_objdump\" = ../binutils/objdump$build_exeext; then\n+\t# Single tree build which includes binutils.\n+\tAC_MSG_RESULT(newly built objdump)\n+elif test x$gcc_cv_objdump = x; then\n+\tAC_MSG_RESULT(not found)\n+else\n+\tAC_MSG_RESULT($gcc_cv_objdump)\n+fi\n \n # Figure out what assembler alignment features are present.\n gcc_GAS_CHECK_FEATURE([.balign and .p2align], gcc_cv_as_balign_and_p2align,"}]}