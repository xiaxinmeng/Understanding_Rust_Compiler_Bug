{"sha": "7684433709df94da85d1f0daf63c20dfea142b61", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzY4NDQzMzcwOWRmOTRkYTg1ZDFmMGRhZjYzYzIwZGZlYTE0MmI2MQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1998-01-19T10:09:47Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1998-01-19T10:09:47Z"}, "message": "configure.in: Add cpp stringify test.\n\n        * configure.in: Add cpp stringify test.\n        * acconfig.h (HAVE_CPP_STRINGIFY): New tag.\n        * gengenrtl.c: Use it.\n        * configure, config.in: Rebuild.\n\nFrom-SVN: r17419", "tree": {"sha": "49bdf1330aa7de84ebe1df88f845efb397db96ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/49bdf1330aa7de84ebe1df88f845efb397db96ce"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7684433709df94da85d1f0daf63c20dfea142b61", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7684433709df94da85d1f0daf63c20dfea142b61", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7684433709df94da85d1f0daf63c20dfea142b61", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7684433709df94da85d1f0daf63c20dfea142b61/comments", "author": null, "committer": null, "parents": [{"sha": "a3f800238166fa39d374e614828cd80e5d7b7de1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3f800238166fa39d374e614828cd80e5d7b7de1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3f800238166fa39d374e614828cd80e5d7b7de1"}], "stats": {"total": 208, "additions": 135, "deletions": 73}, "files": [{"sha": "20999240c27f3b120144c61214ba700a5289769b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7684433709df94da85d1f0daf63c20dfea142b61/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7684433709df94da85d1f0daf63c20dfea142b61/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7684433709df94da85d1f0daf63c20dfea142b61", "patch": "@@ -1,3 +1,10 @@\n+Mon Jan 19 10:11:52 1998  Richard Henderson  <rth@cygnus.com>\n+\n+\t* configure.in: Add cpp stringify test.\n+\t* acconfig.h (HAVE_CPP_STRINGIFY): New tag.\n+\t* gengenrtl.c: Use it.\n+\t* configure, config.in: Rebuild.\n+\n Mon Jan 19 09:43:15 1998  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n \n         * Makefile.in (genrtl.c genrtl.h): Add dummy command for GNU make."}, {"sha": "1a3c0d4d3d7fc9860078389f7f05c38b7cf30128", "filename": "gcc/acconfig.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7684433709df94da85d1f0daf63c20dfea142b61/gcc%2Facconfig.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7684433709df94da85d1f0daf63c20dfea142b61/gcc%2Facconfig.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Facconfig.h?ref=7684433709df94da85d1f0daf63c20dfea142b61", "patch": "@@ -1,3 +1,6 @@\n+/* Define if your cpp understands the stringify operator.  */\n+#undef HAVE_CPP_STRINGIFY\n+\n /* Define if you have a working <inttypes.h> header file.  */\n #undef HAVE_INTTYPES_H\n "}, {"sha": "1268b321ce7d422514cca333d257fc2de22e87ea", "filename": "gcc/config.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7684433709df94da85d1f0daf63c20dfea142b61/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7684433709df94da85d1f0daf63c20dfea142b61/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=7684433709df94da85d1f0daf63c20dfea142b61", "patch": "@@ -1,4 +1,7 @@\n /* config.in.  Generated automatically from configure.in by autoheader.  */\n+/* Define if your cpp understands the stringify operator.  */\n+#undef HAVE_CPP_STRINGIFY\n+\n /* Define if you have a working <inttypes.h> header file.  */\n #undef HAVE_INTTYPES_H\n "}, {"sha": "da2d9781ad9d736498e72c924177fa700c03b3fc", "filename": "gcc/configure", "status": "modified", "additions": 108, "deletions": 72, "changes": 180, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7684433709df94da85d1f0daf63c20dfea142b61/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7684433709df94da85d1f0daf63c20dfea142b61/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=7684433709df94da85d1f0daf63c20dfea142b61", "patch": "@@ -1790,23 +1790,59 @@ have_pthread_h=\n fi\n \n \n+# See if the system preprocessor understands the ANSI C preprocessor\n+# stringification operator.\n+echo $ac_n \"checking whether cpp understands the stringify operator\"\"... $ac_c\" 1>&6\n+echo \"configure:1797: checking whether cpp understands the stringify operator\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_c_have_stringify'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1802 \"configure\"\n+#include \"confdefs.h\"\n+\n+int main() {\n+#define S(x)   #x\n+char *test = S(foo);\n+; return 0; }\n+EOF\n+if { (eval echo configure:1810: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  gcc_cv_c_have_stringify=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  gcc_cv_c_have_stringify=no\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$gcc_cv_c_have_stringify\" 1>&6\n+if test $gcc_cv_c_have_stringify = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_CPP_STRINGIFY 1\n+EOF\n+\n+fi\n+\n # Use <inttypes.h> only if it exists,\n # doesn't clash with <sys/types.h>, and declares intmax_t.\n echo $ac_n \"checking for inttypes.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1797: checking for inttypes.h\" >&5\n+echo \"configure:1833: checking for inttypes.h\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1802 \"configure\"\n+#line 1838 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <inttypes.h>\n int main() {\n intmax_t i = -1;\n ; return 0; }\n EOF\n-if { (eval echo configure:1810: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1846: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<EOF\n #define HAVE_INTTYPES_H 1\n@@ -1827,12 +1863,12 @@ echo \"$ac_t\"\"$gcc_cv_header_inttypes_h\" 1>&6\n for ac_func in strtoul\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1831: checking for $ac_func\" >&5\n+echo \"configure:1867: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1836 \"configure\"\n+#line 1872 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1855,7 +1891,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1859: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1895: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1882,12 +1918,12 @@ done\n for ac_func in bsearch\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1886: checking for $ac_func\" >&5\n+echo \"configure:1922: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1891 \"configure\"\n+#line 1927 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1910,7 +1946,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1914: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1950: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1937,12 +1973,12 @@ done\n for ac_func in strerror\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1941: checking for $ac_func\" >&5\n+echo \"configure:1977: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1946 \"configure\"\n+#line 1982 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1965,7 +2001,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1969: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2005: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1992,12 +2028,12 @@ done\n for ac_func in putenv\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1996: checking for $ac_func\" >&5\n+echo \"configure:2032: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2001 \"configure\"\n+#line 2037 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2020,7 +2056,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2024: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2060: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2047,12 +2083,12 @@ done\n for ac_func in popen\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2051: checking for $ac_func\" >&5\n+echo \"configure:2087: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2056 \"configure\"\n+#line 2092 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2075,7 +2111,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2079: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2115: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2102,12 +2138,12 @@ done\n for ac_func in vprintf\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2106: checking for $ac_func\" >&5\n+echo \"configure:2142: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2111 \"configure\"\n+#line 2147 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2130,7 +2166,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2134: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2170: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2157,12 +2193,12 @@ done\n for ac_func in bcopy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2161: checking for $ac_func\" >&5\n+echo \"configure:2197: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2166 \"configure\"\n+#line 2202 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2185,7 +2221,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2189: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2225: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2212,12 +2248,12 @@ done\n for ac_func in bzero\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2216: checking for $ac_func\" >&5\n+echo \"configure:2252: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2221 \"configure\"\n+#line 2257 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2240,7 +2276,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2244: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2280: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2267,12 +2303,12 @@ done\n for ac_func in bcmp\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2271: checking for $ac_func\" >&5\n+echo \"configure:2307: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2276 \"configure\"\n+#line 2312 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2295,7 +2331,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2299: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2335: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2322,12 +2358,12 @@ done\n for ac_func in index\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2326: checking for $ac_func\" >&5\n+echo \"configure:2362: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2331 \"configure\"\n+#line 2367 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2350,7 +2386,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2354: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2390: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2377,12 +2413,12 @@ done\n for ac_func in rindex\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2381: checking for $ac_func\" >&5\n+echo \"configure:2417: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2386 \"configure\"\n+#line 2422 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2405,7 +2441,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2409: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2445: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2432,12 +2468,12 @@ done\n for ac_func in kill\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2436: checking for $ac_func\" >&5\n+echo \"configure:2472: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2441 \"configure\"\n+#line 2477 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2460,7 +2496,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2464: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2500: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2487,12 +2523,12 @@ done\n for ac_func in getrlimit\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2491: checking for $ac_func\" >&5\n+echo \"configure:2527: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2496 \"configure\"\n+#line 2532 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2515,7 +2551,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2519: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2555: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2542,12 +2578,12 @@ done\n for ac_func in setrlimit\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2546: checking for $ac_func\" >&5\n+echo \"configure:2582: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2551 \"configure\"\n+#line 2587 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2570,7 +2606,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2574: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2610: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2596,12 +2632,12 @@ done\n \n \n echo $ac_n \"checking whether malloc must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2600: checking whether malloc must be declared\" >&5\n+echo \"configure:2636: checking whether malloc must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_malloc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2605 \"configure\"\n+#line 2641 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2628,7 +2664,7 @@ int main() {\n char *(*pfn) = (char *(*)) malloc\n ; return 0; }\n EOF\n-if { (eval echo configure:2632: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2668: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_malloc=no\n else\n@@ -2650,12 +2686,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether realloc must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2654: checking whether realloc must be declared\" >&5\n+echo \"configure:2690: checking whether realloc must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_realloc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2659 \"configure\"\n+#line 2695 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2682,7 +2718,7 @@ int main() {\n char *(*pfn) = (char *(*)) realloc\n ; return 0; }\n EOF\n-if { (eval echo configure:2686: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2722: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_realloc=no\n else\n@@ -2704,12 +2740,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether calloc must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2708: checking whether calloc must be declared\" >&5\n+echo \"configure:2744: checking whether calloc must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_calloc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2713 \"configure\"\n+#line 2749 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2736,7 +2772,7 @@ int main() {\n char *(*pfn) = (char *(*)) calloc\n ; return 0; }\n EOF\n-if { (eval echo configure:2740: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2776: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_calloc=no\n else\n@@ -2758,12 +2794,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether free must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2762: checking whether free must be declared\" >&5\n+echo \"configure:2798: checking whether free must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_free'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2767 \"configure\"\n+#line 2803 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2790,7 +2826,7 @@ int main() {\n char *(*pfn) = (char *(*)) free\n ; return 0; }\n EOF\n-if { (eval echo configure:2794: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2830: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_free=no\n else\n@@ -2812,12 +2848,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether index must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2816: checking whether index must be declared\" >&5\n+echo \"configure:2852: checking whether index must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_index'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2821 \"configure\"\n+#line 2857 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2844,7 +2880,7 @@ int main() {\n char *(*pfn) = (char *(*)) index\n ; return 0; }\n EOF\n-if { (eval echo configure:2848: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2884: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_index=no\n else\n@@ -2866,12 +2902,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether rindex must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2870: checking whether rindex must be declared\" >&5\n+echo \"configure:2906: checking whether rindex must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_rindex'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2875 \"configure\"\n+#line 2911 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2898,7 +2934,7 @@ int main() {\n char *(*pfn) = (char *(*)) rindex\n ; return 0; }\n EOF\n-if { (eval echo configure:2902: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2938: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_rindex=no\n else\n@@ -2920,12 +2956,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether getenv must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2924: checking whether getenv must be declared\" >&5\n+echo \"configure:2960: checking whether getenv must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_getenv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2929 \"configure\"\n+#line 2965 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2952,7 +2988,7 @@ int main() {\n char *(*pfn) = (char *(*)) getenv\n ; return 0; }\n EOF\n-if { (eval echo configure:2956: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2992: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_getenv=no\n else\n@@ -2974,12 +3010,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether sbrk must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2978: checking whether sbrk must be declared\" >&5\n+echo \"configure:3014: checking whether sbrk must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_sbrk'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2983 \"configure\"\n+#line 3019 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -3006,7 +3042,7 @@ int main() {\n char *(*pfn) = (char *(*)) sbrk\n ; return 0; }\n EOF\n-if { (eval echo configure:3010: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3046: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_sbrk=no\n else\n@@ -3029,12 +3065,12 @@ fi\n \n \n echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3033: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n+echo \"configure:3069: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3038 \"configure\"\n+#line 3074 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -3046,7 +3082,7 @@ int main() {\n char *msg = *(sys_siglist + 1);\n ; return 0; }\n EOF\n-if { (eval echo configure:3050: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3086: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_decl_sys_siglist=yes\n else"}, {"sha": "def39625683ae9025dbd2113c42cb44805d29948", "filename": "gcc/configure.in", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7684433709df94da85d1f0daf63c20dfea142b61/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7684433709df94da85d1f0daf63c20dfea142b61/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=7684433709df94da85d1f0daf63c20dfea142b61", "patch": "@@ -151,6 +151,19 @@ AC_CHECK_HEADERS(limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h un\n AC_CHECK_HEADER(thread.h, [have_thread_h=yes], [have_thread_h=])\n AC_CHECK_HEADER(pthread.h, [have_pthread_h=yes], [have_pthread_h=])\n \n+# See if the system preprocessor understands the ANSI C preprocessor\n+# stringification operator.\n+AC_MSG_CHECKING(whether cpp understands the stringify operator)\n+AC_CACHE_VAL(gcc_cv_c_have_stringify,\n+[AC_TRY_COMPILE(,\n+[#define S(x)   #x\n+char *test = S(foo);],\n+gcc_cv_c_have_stringify=yes, gcc_cv_c_have_stringify=no)])\n+AC_MSG_RESULT($gcc_cv_c_have_stringify)\n+if test $gcc_cv_c_have_stringify = yes; then\n+  AC_DEFINE(HAVE_CPP_STRINGIFY)\n+fi\n+\n # Use <inttypes.h> only if it exists,\n # doesn't clash with <sys/types.h>, and declares intmax_t.\n AC_MSG_CHECKING(for inttypes.h)"}, {"sha": "56f0a2efe10798cb1151fdf46cfd29d555a72196", "filename": "gcc/gengenrtl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7684433709df94da85d1f0daf63c20dfea142b61/gcc%2Fgengenrtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7684433709df94da85d1f0daf63c20dfea142b61/gcc%2Fgengenrtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgengenrtl.c?ref=7684433709df94da85d1f0daf63c20dfea142b61", "patch": "@@ -35,7 +35,7 @@ struct rtx_definition\n   const char *enumname, *name, *format;\n };\n \n-#ifdef __STDC__\n+#if defined(HAVE_CPP_STRINGIFY) || (defined(__GNUC__) && defined(__STDC__))\n #define DEF_RTL_EXPR(ENUM, NAME, FORMAT, CLASS) { # ENUM, NAME, FORMAT },\n #else\n #define DEF_RTL_EXPR(ENUM, NAME, FORMAT, CLASS) { \"ENUM\", NAME, FORMAT },"}]}