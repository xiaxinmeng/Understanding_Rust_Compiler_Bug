{"sha": "de4984af13a0f7edab6466b76afde368e8bc19c8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGU0OTg0YWYxM2EwZjdlZGFiNjQ2NmI3NmFmZGUzNjhlOGJjMTljOA==", "commit": {"author": {"name": "Bryce McKinlay", "email": "bryce@waitaki.otago.ac.nz", "date": "2001-12-20T22:48:52Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2001-12-20T22:48:52Z"}, "message": "mangle.c (mangle_member_name): Don't special-case for NO_DOLLAR_IN_LABEL.\n\n\t* mangle.c (mangle_member_name): Don't special-case for\n\tNO_DOLLAR_IN_LABEL.\n\t* mangle_name.c (unicode_mangling_length): Likewise.\n\t(append_unicode_mangled_name): Likewise.\n\t* parse.y (make_nested_class_name): Remove dead NO_DOLLAR_IN_LABEL\n\tcode.\n\nFrom-SVN: r48220", "tree": {"sha": "5b788177e2e59cd37cb0fc331ac39ef2ef8a32ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5b788177e2e59cd37cb0fc331ac39ef2ef8a32ac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de4984af13a0f7edab6466b76afde368e8bc19c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de4984af13a0f7edab6466b76afde368e8bc19c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de4984af13a0f7edab6466b76afde368e8bc19c8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de4984af13a0f7edab6466b76afde368e8bc19c8/comments", "author": null, "committer": null, "parents": [{"sha": "08514ae4a561f2221fbc38047ded708ad49fb94b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08514ae4a561f2221fbc38047ded708ad49fb94b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08514ae4a561f2221fbc38047ded708ad49fb94b"}], "stats": {"total": 44, "additions": 14, "deletions": 30}, "files": [{"sha": "12a17fef4b9ed4f15b5f959197825affe77a4f77", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de4984af13a0f7edab6466b76afde368e8bc19c8/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de4984af13a0f7edab6466b76afde368e8bc19c8/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=de4984af13a0f7edab6466b76afde368e8bc19c8", "patch": "@@ -1,3 +1,12 @@\n+2001-12-20  Bryce McKinlay  <bryce@waitaki.otago.ac.nz>\n+\n+\t* mangle.c (mangle_member_name): Don't special-case for \n+\tNO_DOLLAR_IN_LABEL.\n+\t* mangle_name.c (unicode_mangling_length): Likewise.\n+\t(append_unicode_mangled_name): Likewise.\n+\t* parse.y (make_nested_class_name): Remove dead NO_DOLLAR_IN_LABEL\n+\tcode.\n+\n 2001-12-20  Bryce McKinlay  <bryce@waitaki.otago.ac.nz>\n \n \t* expr.c (build_java_array_length_access): Don't force null pointer"}, {"sha": "590a9ad514357ab872acaa1ed1049299aa73e3b5", "filename": "gcc/java/mangle.c", "status": "modified", "additions": 2, "deletions": 12, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de4984af13a0f7edab6466b76afde368e8bc19c8/gcc%2Fjava%2Fmangle.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de4984af13a0f7edab6466b76afde368e8bc19c8/gcc%2Fjava%2Fmangle.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fmangle.c?ref=de4984af13a0f7edab6466b76afde368e8bc19c8", "patch": "@@ -180,19 +180,9 @@ mangle_member_name (name)\n   append_gpp_mangled_name (IDENTIFIER_POINTER (name),\n \t\t\t   IDENTIFIER_LENGTH (name));\n \n-  /* If NAME happens to be a C++ keyword, add `$' or `.' or `_'. */\n+  /* If NAME happens to be a C++ keyword, add `$'. */\n   if (cxx_keyword_p (IDENTIFIER_POINTER (name), IDENTIFIER_LENGTH (name)))\n-    {\n-#ifndef NO_DOLLAR_IN_LABEL\n-      obstack_1grow (mangle_obstack, '$');\n-#else  /* NO_DOLLAR_IN_LABEL */\n-#ifndef NO_DOT_IN_LABEL\n-      obstack_1grow (mangle_obstack, '.');\n-#else  /* NO_DOT_IN_LABEL */\n-      obstack_1grow (mangle_obstack, '_');\n-#endif /* NO_DOT_IN_LABEL */\n-#endif /* NO_DOLLAR_IN_LABEL */\n-    }\n+    obstack_1grow (mangle_obstack, '$');\n }\n \n /* Append the mangled name of TYPE onto OBSTACK.  */"}, {"sha": "38b6ec61ab9d5c5ea4d3cbddae40989aaa0554cc", "filename": "gcc/java/mangle_name.c", "status": "modified", "additions": 3, "deletions": 12, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de4984af13a0f7edab6466b76afde368e8bc19c8/gcc%2Fjava%2Fmangle_name.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de4984af13a0f7edab6466b76afde368e8bc19c8/gcc%2Fjava%2Fmangle_name.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fmangle_name.c?ref=de4984af13a0f7edab6466b76afde368e8bc19c8", "patch": "@@ -72,8 +72,7 @@ append_gpp_mangled_name (name, len)\n /* Assuming (NAME, LEN) is a Utf8-encoded string, emit the string\n    appropriately mangled (with Unicode escapes) to MANGLE_OBSTACK.\n    Characters needing an escape are encoded `__UNN_' to `__UNNNN_', in\n-   which case `__U' will be mangled `__U_'. `$' is mangled `$' or\n-   __U24_ according to NO_DOLLAR_IN_LABEL.  */\n+   which case `__U' will be mangled `__U_'.  */\n \n static void\n append_unicode_mangled_name (name, len)\n@@ -87,11 +86,7 @@ append_unicode_mangled_name (name, len)\n     {\n       int ch = UTF8_GET(ptr, limit);\n \n-      if ((ISALNUM (ch) && ch != 'U')\n-#ifndef NO_DOLLAR_IN_LABEL\n-\t  || ch == '$'\n-#endif\n-\t  )\n+      if ((ISALNUM (ch) && ch != 'U') || ch == '$')\n \tobstack_1grow (mangle_obstack, ch);\n       /* Everything else needs encoding */\n       else\n@@ -148,11 +143,7 @@ unicode_mangling_length (name, len)\n \n       if (ch < 0)\n \terror (\"internal error - invalid Utf8 name\");\n-      if ((ISALNUM (ch) && ch != 'U')\n-#ifndef NO_DOLLAR_IN_LABEL\n-\t  || ch == '$'\n-#endif\n-\t  )\n+      if ((ISALNUM (ch) && ch != 'U') || ch == '$')\n \tnum_chars++;\n       /* Everything else needs encoding */\n       else"}, {"sha": "9203450fbcc2ff1e0036a2f3ed2a26d4c113c7f1", "filename": "gcc/java/parse.y", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de4984af13a0f7edab6466b76afde368e8bc19c8/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de4984af13a0f7edab6466b76afde368e8bc19c8/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=de4984af13a0f7edab6466b76afde368e8bc19c8", "patch": "@@ -3511,12 +3511,6 @@ make_nested_class_name (cpc_list)\n \t  TREE_PURPOSE (cpc_list) : DECL_NAME (TREE_VALUE (cpc_list)));\n   obstack_grow (&temporary_obstack,\n \t\tIDENTIFIER_POINTER (name), IDENTIFIER_LENGTH (name));\n-  /* Why is NO_DOLLAR_IN_LABEL defined? */\n-#if 0\n-#ifdef NO_DOLLAR_IN_LABEL\n-  internal_error (\"Can't use '$' as a separator for inner classes\");\n-#endif\n-#endif\n   obstack_1grow (&temporary_obstack, '$');\n }\n "}]}