{"sha": "aee42e2745064c7be6d2dcd360a70e64910fe309", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWVlNDJlMjc0NTA2NGM3YmU2ZDJkY2QzNjBhNzBlNjQ5MTBmZTMwOQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-01-18T11:23:11Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-01-18T11:23:11Z"}, "message": "(choose_temp_base, main): Fix \"off by one\" errors in sizes of\nallocated strings.\n\nFrom-SVN: r3261", "tree": {"sha": "4d0107eee2baff5ad715de629a8fa96832d2365a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d0107eee2baff5ad715de629a8fa96832d2365a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aee42e2745064c7be6d2dcd360a70e64910fe309", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aee42e2745064c7be6d2dcd360a70e64910fe309", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aee42e2745064c7be6d2dcd360a70e64910fe309", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aee42e2745064c7be6d2dcd360a70e64910fe309/comments", "author": null, "committer": null, "parents": [{"sha": "dd30a199df3a6d7cb56245989be379dcde9ab9e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd30a199df3a6d7cb56245989be379dcde9ab9e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd30a199df3a6d7cb56245989be379dcde9ab9e9"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "67304010cd9d3f721102886aa2d39e586f47659d", "filename": "gcc/collect2.c", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aee42e2745064c7be6d2dcd360a70e64910fe309/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aee42e2745064c7be6d2dcd360a70e64910fe309/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=aee42e2745064c7be6d2dcd360a70e64910fe309", "patch": "@@ -441,7 +441,7 @@ choose_temp_base ()\n     }\n \n   len = strlen (base);\n-  temp_filename = xmalloc (len + sizeof(\"/ccXXXXXX\"));\n+  temp_filename = xmalloc (len + sizeof(\"/ccXXXXXX\") + 1);\n   strcpy (temp_filename, base);\n   if (len > 0 && temp_filename[len-1] != '/')\n     temp_filename[len++] = '/';\n@@ -699,43 +699,43 @@ main (argc, argv)\n      qualify the program name with the target machine.  */\n \n   full_ld_suffix\n-    = xcalloc (strlen (ld_suffix) + strlen (target_machine) + 1, 1);\n+    = xcalloc (strlen (ld_suffix) + strlen (target_machine) + 2, 1);\n   strcpy (full_ld_suffix, ld_suffix);\n   strcat (full_ld_suffix, \"-\");\n   strcat (full_ld_suffix, target_machine);\n \n   full_real_ld_suffix\n-    = xcalloc (strlen (real_ld_suffix) + strlen (target_machine) + 1, 1);\n+    = xcalloc (strlen (real_ld_suffix) + strlen (target_machine) + 2, 1);\n   strcpy (full_real_ld_suffix, real_ld_suffix);\n   strcat (full_real_ld_suffix, \"-\");\n   strcat (full_real_ld_suffix, target_machine);\n \n   full_gld_suffix\n-    = xcalloc (strlen (gld_suffix) + strlen (target_machine) + 1, 1);\n+    = xcalloc (strlen (gld_suffix) + strlen (target_machine) + 2, 1);\n   strcpy (full_gld_suffix, gld_suffix);\n   strcat (full_gld_suffix, \"-\");\n   strcat (full_gld_suffix, target_machine);\n \n   full_nm_suffix\n-    = xcalloc (strlen (nm_suffix) + strlen (target_machine) + 1, 1);\n+    = xcalloc (strlen (nm_suffix) + strlen (target_machine) + 2, 1);\n   strcpy (full_nm_suffix, nm_suffix);\n   strcat (full_nm_suffix, \"-\");\n   strcat (full_nm_suffix, target_machine);\n \n   full_gnm_suffix\n-    = xcalloc (strlen (gnm_suffix) + strlen (target_machine) + 1, 1);\n+    = xcalloc (strlen (gnm_suffix) + strlen (target_machine) + 2, 1);\n   strcpy (full_gnm_suffix, gnm_suffix);\n   strcat (full_gnm_suffix, \"-\");\n   strcat (full_gnm_suffix, target_machine);\n \n   full_strip_suffix\n-    = xcalloc (strlen (strip_suffix) + strlen (target_machine) + 1, 1);\n+    = xcalloc (strlen (strip_suffix) + strlen (target_machine) + 2, 1);\n   strcpy (full_strip_suffix, strip_suffix);\n   strcat (full_strip_suffix, \"-\");\n   strcat (full_strip_suffix, target_machine);\n   \n   full_gstrip_suffix\n-    = xcalloc (strlen (gstrip_suffix) + strlen (target_machine) + 1, 1);\n+    = xcalloc (strlen (gstrip_suffix) + strlen (target_machine) + 2, 1);\n   strcpy (full_gstrip_suffix, gstrip_suffix);\n   strcat (full_gstrip_suffix, \"-\");\n   strcat (full_gstrip_suffix, target_machine);\n@@ -796,7 +796,7 @@ main (argc, argv)\n   if (c_file_name == 0)\n     {\n #ifdef CROSS_COMPILE\n-      c_file_name = xcalloc (strlen (\"gcc\") + strlen (target_machine) + 1, 1);\n+      c_file_name = xcalloc (sizeof (\"gcc-\") + strlen (target_machine) + 1, 1);\n       strcpy (c_file_name, \"gcc-\");\n       strcat (c_file_name, target_machine);\n #else"}]}