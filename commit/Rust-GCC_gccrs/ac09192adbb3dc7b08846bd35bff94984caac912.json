{"sha": "ac09192adbb3dc7b08846bd35bff94984caac912", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWMwOTE5MmFkYmIzZGM3YjA4ODQ2YmQzNWJmZjk0OTg0Y2FhYzkxMg==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "joern.rennecke@superh.com", "date": "2002-07-17T16:09:43Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2002-07-17T16:09:43Z"}, "message": "lib1funcs.asm (udivsi3_i4): Implement SHcompact version in SHmedia code.\n\n\t* lib1funcs.asm (udivsi3_i4): Implement SHcompact version in\n\tSHmedia code.\n\nFrom-SVN: r55533", "tree": {"sha": "1be1c25cee2d6c01288ce3124ba345ebc1a07ada", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1be1c25cee2d6c01288ce3124ba345ebc1a07ada"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ac09192adbb3dc7b08846bd35bff94984caac912", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac09192adbb3dc7b08846bd35bff94984caac912", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac09192adbb3dc7b08846bd35bff94984caac912", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac09192adbb3dc7b08846bd35bff94984caac912/comments", "author": null, "committer": null, "parents": [{"sha": "68cef009977f9e12217108240e1b44b080da46e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68cef009977f9e12217108240e1b44b080da46e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68cef009977f9e12217108240e1b44b080da46e8"}], "stats": {"total": 30, "additions": 23, "deletions": 7}, "files": [{"sha": "3efb6a15c8483d613532d86e36d64923a1b67c65", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac09192adbb3dc7b08846bd35bff94984caac912/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac09192adbb3dc7b08846bd35bff94984caac912/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ac09192adbb3dc7b08846bd35bff94984caac912", "patch": "@@ -1,4 +1,7 @@\n-Wed Jul 17 17:05:27 2002  J\"orn Rennecke <joern.rennecke@superh.com>\n+Wed Jul 17 17:08:06 2002  J\"orn Rennecke <joern.rennecke@superh.com>\n+\n+\t* lib1funcs.asm (udivsi3_i4): Implement SHcompact version in\n+\tSHmedia code.\n \n \t* sh.md (cmpgtudi_media): Remove spurious @.\n "}, {"sha": "c98208f7517269889dcd48b4067a233a1c089d86", "filename": "gcc/config/sh/lib1funcs.asm", "status": "modified", "additions": 19, "deletions": 6, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac09192adbb3dc7b08846bd35bff94984caac912/gcc%2Fconfig%2Fsh%2Flib1funcs.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac09192adbb3dc7b08846bd35bff94984caac912/gcc%2Fconfig%2Fsh%2Flib1funcs.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Flib1funcs.asm?ref=ac09192adbb3dc7b08846bd35bff94984caac912", "patch": "@@ -1217,13 +1217,27 @@ trivial:\n L1:\n \t.double 2147483648\n \n-#elif defined(__SH4_SINGLE__) || defined(__SH4_SINGLE_ONLY__) || (defined (__SH5__) && ! defined __SH4_NOFPU__)\n+#elif defined (__SH5__) && ! defined (__SH4_NOFPU__)\n+#if ! __SH5__ || __SH5__ == 32\n+!! args in r4 and r5, result in fpul, clobber r20, r21, dr0, fr33\n+\t.mode\tSHmedia\n+\t.global\tGLOBAL(udivsi3_i4)\n+GLOBAL(udivsi3_i4):\n+\taddz.l\tr4,r63,r20\n+\taddz.l\tr5,r63,r21\n+\tfmov.qd\tr20,dr0\n+\tfmov.qd\tr21,dr32\n+\tptabs\tr18,tr0\n+\tfloat.qd dr0,dr0\n+\tfloat.qd dr32,dr32\n+\tfdiv.d\tdr0,dr32,dr0\n+\tftrc.dq dr0,dr32\n+\tfmov.s fr33,fr32\n+\tblink tr0,r63\n+#endif /* ! __SH5__ || __SH5__ == 32 */\n+#elif defined(__SH4_SINGLE__) || defined(__SH4_SINGLE_ONLY__)\n !! args in r4 and r5, result in fpul, clobber r0, r1, r4, r5, dr0, dr2, dr4\n \n-#if ! __SH5__ || __SH5__ == 32\n-#if __SH5__\n-\t.mode\tSHcompact\n-#endif\n \t.global\tGLOBAL(udivsi3_i4)\n GLOBAL(udivsi3_i4):\n \tmov #1,r1\n@@ -1273,7 +1287,6 @@ L1:\n #endif\n \t.double 2147483648\n \n-#endif /* ! __SH5__ || __SH5__ == 32 */\n #endif /* ! __SH4__ */\n #endif\n "}]}