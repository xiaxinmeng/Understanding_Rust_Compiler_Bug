{"sha": "8ca82e0965810836f314b8578d888875fa8fafe3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGNhODJlMDk2NTgxMDgzNmYzMTRiODU3OGQ4ODg4NzVmYThmYWZlMw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2005-01-04T00:17:16Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2005-01-04T00:17:16Z"}, "message": "testsuite_hooks.cc: Update coypright and follow style guidelines.\n\n\t* testsuite/testsuite_hooks.cc: Update coypright and follow style\n\tguidelines.\n\t* testsuite/testsuite_hooks.h: Likewise.\n\t* testsuite/27_io/basic_filebuf/close/char/4879.cc: Use\n\tsemaphores, not sleep.\n\t* testsuite/27_io/basic_filebuf/close/char/9964.cc: Likewise.\n\t* testsuite/27_io/basic_filebuf/imbue/char/13171-2.cc: Likewise.\n\t* testsuite/27_io/basic_filebuf/imbue/char/13582-2.cc: Likewise.\n\t* testsuite/27_io/basic_filebuf/imbue/wchar_t/14975-2.cc:\n\tLikewise.\n\t* testsuite/27_io/basic_filebuf/open/char/9507.cc: Likewise.\n\t* testsuite/27_io/basic_filebuf/underflow/char/10097.cc: Likewise.\n\t* testsuite/27_io/objects/char/7.cc: Likewise.\n\t* testsuite/27_io/objects/char/9661-1.cc: Likewise.\n\t* testsuite/27_io/objects/wchar_t/7.cc: Likewise.\n\t* testsuite/27_io/objects/wchar_t/9661-1.cc: Likewise.\n\nFrom-SVN: r92877", "tree": {"sha": "cda026dfac59121ecc60169068abdda560ef2f7c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cda026dfac59121ecc60169068abdda560ef2f7c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8ca82e0965810836f314b8578d888875fa8fafe3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ca82e0965810836f314b8578d888875fa8fafe3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ca82e0965810836f314b8578d888875fa8fafe3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ca82e0965810836f314b8578d888875fa8fafe3/comments", "author": null, "committer": null, "parents": [{"sha": "85b7d88973b5032a985e459c781dfedf38de70ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85b7d88973b5032a985e459c781dfedf38de70ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85b7d88973b5032a985e459c781dfedf38de70ec"}], "stats": {"total": 76, "additions": 45, "deletions": 31}, "files": [{"sha": "453b1d00ff451e6d1e733159991f3ebf009d321c", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=8ca82e0965810836f314b8578d888875fa8fafe3", "patch": "@@ -1,5 +1,22 @@\n 2005-01-03  Mark Mitchell  <mark@codesourcery.com>\n \n+\t* testsuite/testsuite_hooks.cc: Update coypright and follow style\n+\tguidelines.\n+\t* testsuite/testsuite_hooks.h: Likewise.\n+\t* testsuite/27_io/basic_filebuf/close/char/4879.cc: Use\n+\tsemaphores, not sleep.\n+\t* testsuite/27_io/basic_filebuf/close/char/9964.cc: Likewise.\n+\t* testsuite/27_io/basic_filebuf/imbue/char/13171-2.cc: Likewise.\n+\t* testsuite/27_io/basic_filebuf/imbue/char/13582-2.cc: Likewise.\n+\t* testsuite/27_io/basic_filebuf/imbue/wchar_t/14975-2.cc:\n+\tLikewise.\n+\t* testsuite/27_io/basic_filebuf/open/char/9507.cc: Likewise.\n+\t* testsuite/27_io/basic_filebuf/underflow/char/10097.cc: Likewise.\n+\t* testsuite/27_io/objects/char/7.cc: Likewise.\n+\t* testsuite/27_io/objects/char/9661-1.cc: Likewise.\n+\t* testsuite/27_io/objects/wchar_t/7.cc: Likewise.\n+\t* testsuite/27_io/objects/wchar_t/9661-1.cc: Likewise.\n+\n \t* configure.ac: Check for sys/ipc.h and sys/sem.h. \n \t* config.h.in: Regenerated.\n \t* configure: Likewise."}, {"sha": "96033e5a658399dbeb1ccfb7fb999f524ea3d83a", "filename": "libstdc++-v3/testsuite/27_io/basic_filebuf/close/char/4879.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fclose%2Fchar%2F4879.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fclose%2Fchar%2F4879.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fclose%2Fchar%2F4879.cc?ref=8ca82e0965810836f314b8578d888875fa8fafe3", "patch": "@@ -1,4 +1,4 @@\n-// Copyright (C) 2001, 2002, 2003 Free Software Foundation, Inc.\n+// Copyright (C) 2001, 2002, 2003, 2005 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "d46184a705cf843141571f2d7a66bbe69f3a80b8", "filename": "libstdc++-v3/testsuite/27_io/basic_filebuf/close/char/9964.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fclose%2Fchar%2F9964.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fclose%2Fchar%2F9964.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fclose%2Fchar%2F9964.cc?ref=8ca82e0965810836f314b8578d888875fa8fafe3", "patch": "@@ -1,4 +1,4 @@\n-// Copyright (C) 2001, 2002, 2003 Free Software Foundation, Inc.\n+// Copyright (C) 2001, 2002, 2003, 2005 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "e62ed05b5e0743ec959d1cf5f0498aabb087b739", "filename": "libstdc++-v3/testsuite/27_io/basic_filebuf/imbue/char/13171-2.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fimbue%2Fchar%2F13171-2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fimbue%2Fchar%2F13171-2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fimbue%2Fchar%2F13171-2.cc?ref=8ca82e0965810836f314b8578d888875fa8fafe3", "patch": "@@ -1,4 +1,4 @@\n-// Copyright (C) 2003 Free Software Foundation, Inc.\n+// Copyright (C) 2003, 2005 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "79cd00a15b2de22f68397915dfc9b5a75428fb1e", "filename": "libstdc++-v3/testsuite/27_io/basic_filebuf/imbue/char/13582-2.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fimbue%2Fchar%2F13582-2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fimbue%2Fchar%2F13582-2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fimbue%2Fchar%2F13582-2.cc?ref=8ca82e0965810836f314b8578d888875fa8fafe3", "patch": "@@ -1,6 +1,6 @@\n // 2004-01-11  Petur Runolfsson  <peturr02@ru.is>\n \n-// Copyright (C) 2004 Free Software Foundation, Inc.\n+// Copyright (C) 2004, 2005 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "2e6f9ec414944c3adc19eb754dc46ac46dd8a3ab", "filename": "libstdc++-v3/testsuite/27_io/basic_filebuf/imbue/wchar_t/14975-2.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fimbue%2Fwchar_t%2F14975-2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fimbue%2Fwchar_t%2F14975-2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fimbue%2Fwchar_t%2F14975-2.cc?ref=8ca82e0965810836f314b8578d888875fa8fafe3", "patch": "@@ -1,6 +1,6 @@\n // 2004-04-16  Petur Runolfsson  <peturr02@ru.is>\n \n-// Copyright (C) 2004 Free Software Foundation, Inc.\n+// Copyright (C) 2004, 2005 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "775c72c1c6ab1041d8c0ac667946737d317327f7", "filename": "libstdc++-v3/testsuite/27_io/basic_filebuf/open/char/9507.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fopen%2Fchar%2F9507.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fopen%2Fchar%2F9507.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Fopen%2Fchar%2F9507.cc?ref=8ca82e0965810836f314b8578d888875fa8fafe3", "patch": "@@ -1,4 +1,4 @@\n-// Copyright (C) 2001, 2002, 2003 Free Software Foundation, Inc.\n+// Copyright (C) 2001, 2002, 2003, 2005 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "88ba371d1d9386259b4b150bf8cb8fb9c4f44c6c", "filename": "libstdc++-v3/testsuite/27_io/basic_filebuf/underflow/char/10097.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Funderflow%2Fchar%2F10097.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Funderflow%2Fchar%2F10097.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fbasic_filebuf%2Funderflow%2Fchar%2F10097.cc?ref=8ca82e0965810836f314b8578d888875fa8fafe3", "patch": "@@ -1,6 +1,6 @@\n // 2001-05-21 Benjamin Kosnik  <bkoz@redhat.com>\n \n-// Copyright (C) 2001, 2002, 2003 Free Software Foundation, Inc.\n+// Copyright (C) 2001, 2002, 2003, 2005 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "9650f7b26dfe5d0e1deec1f315639da02abd737e", "filename": "libstdc++-v3/testsuite/27_io/objects/char/7.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fobjects%2Fchar%2F7.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fobjects%2Fchar%2F7.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fobjects%2Fchar%2F7.cc?ref=8ca82e0965810836f314b8578d888875fa8fafe3", "patch": "@@ -1,6 +1,6 @@\n // 2003-04-26 Petur Runolfsson  <peturr02@ru.is>\n \n-// Copyright (C) 2003 Free Software Foundation, Inc.\n+// Copyright (C) 2003, 2005 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "51f2de1402d86917fdd0f9dcf79822892e9f988b", "filename": "libstdc++-v3/testsuite/27_io/objects/char/9661-1.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fobjects%2Fchar%2F9661-1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fobjects%2Fchar%2F9661-1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fobjects%2Fchar%2F9661-1.cc?ref=8ca82e0965810836f314b8578d888875fa8fafe3", "patch": "@@ -1,6 +1,6 @@\n // 2003-04-30  Petur Runolfsson <peturr02@ru.is>\n \n-// Copyright (C) 2003 Free Software Foundation, Inc.\n+// Copyright (C) 2003, 2005 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "f51b3de8d574c1529d0a69b1010874f5788d9fbc", "filename": "libstdc++-v3/testsuite/27_io/objects/wchar_t/7.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fobjects%2Fwchar_t%2F7.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fobjects%2Fwchar_t%2F7.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fobjects%2Fwchar_t%2F7.cc?ref=8ca82e0965810836f314b8578d888875fa8fafe3", "patch": "@@ -1,6 +1,6 @@\n // 2003-05-01 Petur Runolfsson  <peturr02@ru.is>\n \n-// Copyright (C) 2003 Free Software Foundation, Inc.\n+// Copyright (C) 2003, 2005 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "c9e848aaf61fba3d90ad4428ed98cf414465ddce", "filename": "libstdc++-v3/testsuite/27_io/objects/wchar_t/9661-1.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fobjects%2Fwchar_t%2F9661-1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fobjects%2Fwchar_t%2F9661-1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fobjects%2Fwchar_t%2F9661-1.cc?ref=8ca82e0965810836f314b8578d888875fa8fafe3", "patch": "@@ -1,6 +1,6 @@\n // 2003-04-30  Petur Runolfsson <peturr02@ru.is>\n \n-// Copyright (C) 2003 Free Software Foundation, Inc.\n+// Copyright (C) 2003, 2005 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "fba220968700c804e8e6e0d91feaf30092bb28b6", "filename": "libstdc++-v3/testsuite/testsuite_hooks.cc", "status": "modified", "additions": 14, "deletions": 17, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2Ftestsuite_hooks.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2Ftestsuite_hooks.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Ftestsuite_hooks.cc?ref=8ca82e0965810836f314b8578d888875fa8fafe3", "patch": "@@ -1,7 +1,7 @@\n // -*- C++ -*-\n // Utility subroutines for the C++ library testsuite. \n //\n-// Copyright (C) 2002, 2003, 2004 Free Software Foundation, Inc.\n+// Copyright (C) 2002, 2003, 2004, 2005 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -278,8 +278,7 @@ namespace __gnu_test\n   };\n #endif\n \n-  semaphore::semaphore ()\n-  {\n+  semaphore::semaphore() {\n #ifdef _GLIBCXX_SYSV_SEM\n     // Remeber the PID for the process that created the semaphore set\n     // so that only one process will destroy the set.\n@@ -295,42 +294,40 @@ namespace __gnu_test\n #endif\n \n     // Get a semaphore set with one semaphore.\n-    sem_set_ = semget (IPC_PRIVATE, 1, SEM_R | SEM_A);\n+    sem_set_ = semget(IPC_PRIVATE, 1, SEM_R | SEM_A);\n     if (sem_set_ == -1)\n       throw std::runtime_error (\"could not obtain semaphore set\");\n \n     // Initialize the semaphore.\n     union semun val;\n     val.val = 0;\n-    if (semctl (sem_set_, 0, SETVAL, val) == -1)\n-      throw std::runtime_error (\"could not initialize semaphore\");\n+    if (semctl(sem_set_, 0, SETVAL, val) == -1)\n+      throw std::runtime_error(\"could not initialize semaphore\");\n #else\n     // There are no semaphores on this system.  We have no way to mark\n     // a test as \"unsupported\" at runtime, so we just exit, pretending\n     // that the test passed.\n-    exit (0);\n+    exit(0);\n #endif\n   }\n \n-  semaphore::~semaphore ()\n-  {\n+  semaphore::~semaphore() {\n #ifdef _GLIBCXX_SYSV_SEM\n     union semun val;\n     // Destroy the semaphore set only in the process that created it. \n-    if (pid_ == getpid ())\n-      semctl (sem_set_, 0, IPC_RMID, val);\n+    if (pid_ == getpid())\n+      semctl(sem_set_, 0, IPC_RMID, val);\n #endif\n   }\n \n   void\n-  semaphore::signal ()\n-  {\n+  semaphore::signal() {\n #ifdef _GLIBCXX_SYSV_SEM\n     struct sembuf op[1] = {\n       { 0, 1, 0 }\n     };\n-    if (semop (sem_set_, op, 1) == -1)\n-      throw std::runtime_error (\"could not signal semaphore\");\n+    if (semop(sem_set_, op, 1) == -1)\n+      throw std::runtime_error(\"could not signal semaphore\");\n #endif\n   }\n \n@@ -340,8 +337,8 @@ namespace __gnu_test\n     struct sembuf op[1] = {\n       { 0, -1, SEM_UNDO }\n     };\n-    if (semop (sem_set_, op, 1) == -1)\n-      throw std::runtime_error (\"could not wait for semaphore\");\n+    if (semop(sem_set_, op, 1) == -1)\n+      throw std::runtime_error(\"could not wait for semaphore\");\n #endif    \n   }\n }; // namespace __gnu_test"}, {"sha": "1ce9c65b0dfacf9ba45c94d1a2d46d30309cace1", "filename": "libstdc++-v3/testsuite/testsuite_hooks.h", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2Ftestsuite_hooks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ca82e0965810836f314b8578d888875fa8fafe3/libstdc%2B%2B-v3%2Ftestsuite%2Ftestsuite_hooks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Ftestsuite_hooks.h?ref=8ca82e0965810836f314b8578d888875fa8fafe3", "patch": "@@ -387,17 +387,17 @@ namespace __gnu_test\n   public:\n     // Creates a binary semaphore.  The semaphore is initially in the\n     // unsignaled state. \n-    semaphore ();\n+    semaphore();\n \n     // Destroy the semaphore.\n     ~semaphore();\n \n     // Signal the semaphore.  If there are processes blocked in\n     // \"wait\", exactly one will be permitted to proceed.\n-    void signal ();\n+    void signal();\n \n     // Wait until the semaphore is signaled.\n-    void wait ();\n+    void wait();\n \n   private:\n     int sem_set_;"}]}