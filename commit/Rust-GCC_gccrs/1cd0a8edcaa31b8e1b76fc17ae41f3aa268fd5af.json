{"sha": "1cd0a8edcaa31b8e1b76fc17ae41f3aa268fd5af", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWNkMGE4ZWRjYWEzMWI4ZTFiNzZmYzE3YWU0MWYzYWEyNjhmZDVhZg==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@TechFak.Uni-Bielefeld.DE", "date": "1999-01-03T20:16:10Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-01-03T20:16:10Z"}, "message": "fixincludes (sys/utsname.h): Provide forward declaration of struct utsname on Ultrix V4.[35].\n\n        * fixincludes (sys/utsname.h): Provide forward declaration of\n        struct utsname on Ultrix V4.[35].\n\nFrom-SVN: r24470", "tree": {"sha": "1b424e2c298d6cbc419d27f08a056fbca992d6e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1b424e2c298d6cbc419d27f08a056fbca992d6e5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1cd0a8edcaa31b8e1b76fc17ae41f3aa268fd5af", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cd0a8edcaa31b8e1b76fc17ae41f3aa268fd5af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1cd0a8edcaa31b8e1b76fc17ae41f3aa268fd5af", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cd0a8edcaa31b8e1b76fc17ae41f3aa268fd5af/comments", "author": null, "committer": null, "parents": [{"sha": "eb78b99d9bcc7b52565b6b64a9861d868809ae25", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb78b99d9bcc7b52565b6b64a9861d868809ae25", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eb78b99d9bcc7b52565b6b64a9861d868809ae25"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "9321e7bf9ed5b917ed8504fb483c86e4d7ed6891", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cd0a8edcaa31b8e1b76fc17ae41f3aa268fd5af/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cd0a8edcaa31b8e1b76fc17ae41f3aa268fd5af/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1cd0a8edcaa31b8e1b76fc17ae41f3aa268fd5af", "patch": "@@ -1,5 +1,8 @@\n Sun Jan  3 21:01:04 1999  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \n+\t* fixincludes (sys/utsname.h): Provide forward declaration of\n+\tstruct utsname on Ultrix V4.[35].\n+\n \t* mips.md (div_trap): Use local labels instead of dot-relative\n \tbranches.\n "}, {"sha": "5943dc26518a9897fd2e4b08d54fc756ad1e101c", "filename": "gcc/fixincludes", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cd0a8edcaa31b8e1b76fc17ae41f3aa268fd5af/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cd0a8edcaa31b8e1b76fc17ae41f3aa268fd5af/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=1cd0a8edcaa31b8e1b76fc17ae41f3aa268fd5af", "patch": "@@ -1657,6 +1657,34 @@ if [ -r ${LIB}/$file ]; then\n   fi\n fi\n \n+# sys/utsname.h on Ultrix V4.[35] puts the declaration of uname before the\n+# definition of struct utsname, so the prototype (added by fixproto) causes\n+# havoc.\n+file=sys/utsname.h\n+if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n+  cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n+  chmod +w ${LIB}/$file 2>/dev/null\n+fi\n+\n+if [ -r ${LIB}/$file ] \\\n+  && grep 'ULTRIX' ${LIB}/$file >/dev/null; then\n+  echo Fixing $file, uname declaration\n+  sed -e '/^[ \t]*extern[ \t]*int[ \t]*uname();$/i\\\n+struct utsname;\n+'\\\n+    ${LIB}/$file > ${LIB}/${file}.sed\n+  rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n+  if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n+    rm -f ${LIB}/$file\n+  else\n+    # Find any include directives that use \"file\".\n+    for include in `egrep '^[       ]*#[    ]*include[      ]*\"[^/]' ${LIB}/$file | sed -e 's/^[    ]*#[    ]*include[      ]*\"\\([^\"]*\\)\".*$/\\1/'`; do\n+      dir=`echo $file | sed -e s'|/[^/]*$||'`\n+      required=\"$required ${INPUT} $dir/$include ${LIB}/$dir/$include\"\n+    done\n+  fi\n+fi\n+\n # sys/wait.h on AIX 3.2.5 puts the declaration of wait3 before the definition\n # of struct rusage, so the prototype (added by fixproto) causes havoc.\n file=sys/wait.h"}]}