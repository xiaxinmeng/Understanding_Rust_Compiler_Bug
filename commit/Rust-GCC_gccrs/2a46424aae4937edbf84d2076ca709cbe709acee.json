{"sha": "2a46424aae4937edbf84d2076ca709cbe709acee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmE0NjQyNGFhZTQ5MzdlZGJmODRkMjA3NmNhNzA5Y2JlNzA5YWNlZQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1993-05-05T18:12:35Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1993-05-05T18:12:35Z"}, "message": "Patches for IRIX 4.0.1\n\nFrom-SVN: r4337", "tree": {"sha": "623f1447ed770ada17d6fe77d398a98bfcbfddc5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/623f1447ed770ada17d6fe77d398a98bfcbfddc5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2a46424aae4937edbf84d2076ca709cbe709acee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a46424aae4937edbf84d2076ca709cbe709acee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a46424aae4937edbf84d2076ca709cbe709acee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a46424aae4937edbf84d2076ca709cbe709acee/comments", "author": null, "committer": null, "parents": [{"sha": "90a0448559cf57a0cc464b19646afa228b069a50", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90a0448559cf57a0cc464b19646afa228b069a50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90a0448559cf57a0cc464b19646afa228b069a50"}], "stats": {"total": 31, "additions": 30, "deletions": 1}, "files": [{"sha": "f1281e5cb78445f31be73bc75179dc1ac3bda346", "filename": "gcc/fixincludes", "status": "modified", "additions": 30, "deletions": 1, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a46424aae4937edbf84d2076ca709cbe709acee/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a46424aae4937edbf84d2076ca709cbe709acee/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=2a46424aae4937edbf84d2076ca709cbe709acee", "patch": "@@ -273,7 +273,7 @@ while [ $# != 0 ]; do\n \t  s%^\\([ \t]*#[ \t]*endif[ \t]*\\)\\([^/ \t].*\\)$%\\1/* \\2 */%\n \t  s%^\\([ \t]*#[ \t]*else[ \t]*\\)\\([^/ \t].*\\)$%\\1/* \\2 */%\n \t  /\\/\\/[^*]/\t\t\ts|//\\(.*\\)$|/*\\1*/|\n-\t  /[ \t]_IO[A-Z]*[ \t]*(/\ts/(\\(.\\),/('\\''\\1'\\'',/\n+\t  /[ \t]_IO[A-Z]*[ \t]*(/\ts/\\(_IO[A-Z]*[ \t]*(\\)\\(.\\),/\\1'\\''\\2'\\'',/\n \t  /[ \t]BSD43__IO[A-Z]*[ \t]*(/\ts/(\\(.\\),/('\\''\\1'\\'',/\n \t  /#define._IO/\t\t\ts/'\\''\\([cgx]\\)'\\''/\\1/g\n \t  /#define.BSD43__IO/\t\ts/'\\''\\([cgx]\\)'\\''/\\1/g\n@@ -817,6 +817,35 @@ if [ -r ${LIB}/$file ]; then\n   fi\n fi\n \n+# Fix line in IRIX 4.0.1 header file.  The sed script turns\n+# #define EM_CTRL\t\t(CUTIOC|0x1)\n+# into\n+# #define EM_CTRL\t\t(CUTIOC|0x'1')\n+file=sys/t3270reg.h\n+if [ -r ${LIB}/$file ]; then\n+  echo Fixing $file, overeager sed script\n+  sed -e \"s/0x'1'/0x1/\" ${LIB}/$file > ${LIB}/${file}.sed\n+  rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n+  if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n+    rm -f ${LIB}/$file\n+  fi\n+fi\n+\n+# Turning // comments into /* */ comments trashes this IRIX 4.0.1\n+# header file, which embeds // comments inside multi-line /* */\n+# comments.  If this looks like the IRIX header file, we refix it by\n+# just throwing away the // comments.\n+file=fam.h\n+if [ -r ${LIB}/$file ]; then\n+  if egrep indigo.esd ${LIB}/$file > /dev/null; then\n+    echo Fixing $file, overeager sed script\n+    rm ${LIB}/$file\n+    sed -e 's|//.*$||g' $file > ${LIB}/$file\n+    chmod +w ${LIB}/$file 2>/dev/null\n+    chmod a+r ${LIB}/$file 2>/dev/null\n+  fi\n+fi\n+\n # Fix non-ANSI memcpy declaration that conflicts with gcc's builtin\n # declaration on Sun OS 4.x.  We must only fix this on Sun OS 4.x, because\n # many other systems have similar text but correct versions of the file."}]}