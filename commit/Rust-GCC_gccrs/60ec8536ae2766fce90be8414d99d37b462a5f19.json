{"sha": "60ec8536ae2766fce90be8414d99d37b462a5f19", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjBlYzg1MzZhZTI3NjZmY2U5MGJlODQxNGQ5OWQzN2I0NjJhNWYxOQ==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1996-10-25T20:21:38Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1996-10-25T20:21:38Z"}, "message": "Fix build problems on cygwin/winnt\n\nFrom-SVN: r13031", "tree": {"sha": "49cb34ed3cccdd9422f1a5666ce31d697a34e24a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/49cb34ed3cccdd9422f1a5666ce31d697a34e24a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/60ec8536ae2766fce90be8414d99d37b462a5f19", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60ec8536ae2766fce90be8414d99d37b462a5f19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/60ec8536ae2766fce90be8414d99d37b462a5f19", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60ec8536ae2766fce90be8414d99d37b462a5f19/comments", "author": null, "committer": null, "parents": [{"sha": "5a9d82a6df29af137fb8677853eb9bd65ad147b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a9d82a6df29af137fb8677853eb9bd65ad147b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a9d82a6df29af137fb8677853eb9bd65ad147b3"}], "stats": {"total": 35, "additions": 8, "deletions": 27}, "files": [{"sha": "60bb62e5640db37faedba3e5a14cb57aa4d0b182", "filename": "gcc/config/rs6000/t-winnt", "status": "modified", "additions": 8, "deletions": 27, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60ec8536ae2766fce90be8414d99d37b462a5f19/gcc%2Fconfig%2Frs6000%2Ft-winnt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60ec8536ae2766fce90be8414d99d37b462a5f19/gcc%2Fconfig%2Frs6000%2Ft-winnt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-winnt?ref=60ec8536ae2766fce90be8414d99d37b462a5f19", "patch": "@@ -1,8 +1,9 @@\n # Do not build libgcc1.\n-LIBGCC = stmp-crt\n-INSTALL_LIBGCC = install-crt\n+LIBGCC1 = \n CROSS_LIBGCC1 =\n \n+EXTRA_PARTS = crti.o crtn.o\n+\n EXTRA_HEADERS = $(srcdir)/ginclude/ppc-asm.h\n \n # These are really part of libgcc1, but this will cause them to be\n@@ -29,28 +30,8 @@ crti.s: $(srcdir)/config/rs6000/nt-ci.asm\n crtn.s: $(srcdir)/config/rs6000/nt-cn.asm\n \tcat $(srcdir)/config/rs6000/nt-cn.asm >crtn.s\n \n-# Build multiple copies of crt{i,n}.o, one for each target switch.\n-stmp-crt: crti.s crtn.s $(GCC_PASSES) stmp-multilib config.status\n-\tfor i in `$(GCC_FOR_TARGET) --print-multi-lib`; do \\\n-\t  dir=`echo $$i | sed -e 's/;.*$$//'`; \\\n-\t  flags=`echo $$i | sed -e 's/^[^;]*;//' -e 's/@/ -/g'`; \\\n-\t  $(MAKE) GCC_FOR_TARGET=\"$(GCC_FOR_TARGET)\" \\\n-\t    LIBGCC2_CFLAGS=\"$(LIBGCC2_CFLAGS) $${flags}\" \\\n-\t    dir=\"$${dir}\" stmp-crt-sub; \\\n-\t  if [ $$? -eq 0 ] ; then true; else exit 1; fi; \\\n-\tdone\n-\ttouch stmp-crt\n-\n-# Subroutine of stmp-crt so make -n works.\n-stmp-crt-sub:\n-\t$(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -c -o $(dir)/crti.o crti.s\n-\t$(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -c -o $(dir)/crtn.o crtn.s\n-\n-# Install multiple versions of crt[in].o\n-install-crt: stmp-crt install-dir install-multilib\n-\tfor i in `$(GCC_FOR_TARGET) --print-multi-lib`; do \\\n-\t  dir=`echo $$i | sed -e 's/;.*$$//'`; \\\n-\t  rm -f $(libsubdir)/$${dir}/crt[in].o; \\\n-\t  $(INSTALL_DATA) $${dir}/crti.o $(libsubdir)/$${dir}/crti.o; \\\n-\t  $(INSTALL_DATA) $${dir}/crtn.o $(libsubdir)/$${dir}/crtn.o; \\\n-\tdone\n+crti.o: crti.s\n+\t$(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -c -o crti.o crti.s\n+\t\n+crtn.o: crtn.s\n+\t$(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -c -o crtn.o crtn.s"}]}