{"sha": "892c47451b30a6b02ff3051fdd7a200e7469d863", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODkyYzQ3NDUxYjMwYTZiMDJmZjMwNTFmZGQ3YTIwMGU3NDY5ZDg2Mw==", "commit": {"author": {"name": "Bernd Edlinger", "email": "edlinger@gcc.gnu.org", "date": "2014-01-06T16:34:52Z"}, "committer": {"name": "Bernd Edlinger", "email": "edlinger@gcc.gnu.org", "date": "2014-01-06T16:34:52Z"}, "message": "Reverted r205593\n2013-12-02  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n\n\tPR target/58115\n\t* function.c (invoke_set_current_function_hook): Call\n\ttargetm.set_current_function after setting this_fn_optabs.\n\nFrom-SVN: r206364", "tree": {"sha": "c82421f7e2d79f0a80eb8a745f677c11be71ce0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c82421f7e2d79f0a80eb8a745f677c11be71ce0a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/892c47451b30a6b02ff3051fdd7a200e7469d863", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/892c47451b30a6b02ff3051fdd7a200e7469d863", "html_url": "https://github.com/Rust-GCC/gccrs/commit/892c47451b30a6b02ff3051fdd7a200e7469d863", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/892c47451b30a6b02ff3051fdd7a200e7469d863/comments", "author": null, "committer": null, "parents": [{"sha": "328402a94ee4a453a040a59f103e6a9f0fd76904", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/328402a94ee4a453a040a59f103e6a9f0fd76904", "html_url": "https://github.com/Rust-GCC/gccrs/commit/328402a94ee4a453a040a59f103e6a9f0fd76904"}], "stats": {"total": 9, "additions": 1, "deletions": 8}, "files": [{"sha": "7cf3c9977528110593909104604d69ca58a19841", "filename": "gcc/ChangeLog-2013", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/892c47451b30a6b02ff3051fdd7a200e7469d863/gcc%2FChangeLog-2013", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/892c47451b30a6b02ff3051fdd7a200e7469d863/gcc%2FChangeLog-2013", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog-2013?ref=892c47451b30a6b02ff3051fdd7a200e7469d863", "patch": "@@ -3854,12 +3854,6 @@\n \ttargets like arm-none-eabi.\n \t* expr.c (expand_assignment): Handle normal fields like bit regions.\n \n-2013-12-02  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n-\n-\tPR target/58115\n-\t* function.c (invoke_set_current_function_hook): Call\n-\ttargetm.set_current_function after setting this_fn_optabs.\n-\n 2013-12-02  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/59139"}, {"sha": "b43e67f65ef6d19b38dad4ce72a4aba4a2e640fa", "filename": "gcc/function.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/892c47451b30a6b02ff3051fdd7a200e7469d863/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/892c47451b30a6b02ff3051fdd7a200e7469d863/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=892c47451b30a6b02ff3051fdd7a200e7469d863", "patch": "@@ -4405,6 +4405,7 @@ invoke_set_current_function_hook (tree fndecl)\n \t  cl_optimization_restore (&global_options, TREE_OPTIMIZATION (opts));\n \t}\n \n+      targetm.set_current_function (fndecl);\n       this_fn_optabs = this_target_optabs;\n \n       if (opts != optimization_default_node)\n@@ -4414,8 +4415,6 @@ invoke_set_current_function_hook (tree fndecl)\n \t    this_fn_optabs = (struct target_optabs *)\n \t      TREE_OPTIMIZATION_OPTABS (opts);\n \t}\n-\n-      targetm.set_current_function (fndecl);\n     }\n }\n "}]}