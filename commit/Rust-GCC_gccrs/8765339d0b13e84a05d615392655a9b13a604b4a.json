{"sha": "8765339d0b13e84a05d615392655a9b13a604b4a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODc2NTMzOWQwYjEzZTg0YTA1ZDYxNTM5MjY1NWE5YjEzYTYwNGI0YQ==", "commit": {"author": {"name": "Tobias Schl\u00fcter", "email": "tobias.schlueter@physik.uni-muenchen.de", "date": "2004-05-14T13:51:27Z"}, "committer": {"name": "Tobias Schl\u00fcter", "email": "tobi@gcc.gnu.org", "date": "2004-05-14T13:51:27Z"}, "message": "re PR fortran/15205 (NEAREST intrinsic returns wrong value in DOUBLE PRECISION)\n\nPR fortran/15205\n* iresolve.c (gfc_resolve_nearest): Add new function.\n* intrinsic.h: ... declare it here.\n* intrinsic.c (add_functions): ... add it as resolving function\nfor NEAREST.\n\nFrom-SVN: r81843", "tree": {"sha": "1a55820f124ad6214b64d327a41494b9f60afa76", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1a55820f124ad6214b64d327a41494b9f60afa76"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8765339d0b13e84a05d615392655a9b13a604b4a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8765339d0b13e84a05d615392655a9b13a604b4a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8765339d0b13e84a05d615392655a9b13a604b4a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8765339d0b13e84a05d615392655a9b13a604b4a/comments", "author": {"login": "TobiSchluter", "id": 11887541, "node_id": "MDQ6VXNlcjExODg3NTQx", "avatar_url": "https://avatars.githubusercontent.com/u/11887541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TobiSchluter", "html_url": "https://github.com/TobiSchluter", "followers_url": "https://api.github.com/users/TobiSchluter/followers", "following_url": "https://api.github.com/users/TobiSchluter/following{/other_user}", "gists_url": "https://api.github.com/users/TobiSchluter/gists{/gist_id}", "starred_url": "https://api.github.com/users/TobiSchluter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TobiSchluter/subscriptions", "organizations_url": "https://api.github.com/users/TobiSchluter/orgs", "repos_url": "https://api.github.com/users/TobiSchluter/repos", "events_url": "https://api.github.com/users/TobiSchluter/events{/privacy}", "received_events_url": "https://api.github.com/users/TobiSchluter/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TobiSchluter", "id": 11887541, "node_id": "MDQ6VXNlcjExODg3NTQx", "avatar_url": "https://avatars.githubusercontent.com/u/11887541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TobiSchluter", "html_url": "https://github.com/TobiSchluter", "followers_url": "https://api.github.com/users/TobiSchluter/followers", "following_url": "https://api.github.com/users/TobiSchluter/following{/other_user}", "gists_url": "https://api.github.com/users/TobiSchluter/gists{/gist_id}", "starred_url": "https://api.github.com/users/TobiSchluter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TobiSchluter/subscriptions", "organizations_url": "https://api.github.com/users/TobiSchluter/orgs", "repos_url": "https://api.github.com/users/TobiSchluter/repos", "events_url": "https://api.github.com/users/TobiSchluter/events{/privacy}", "received_events_url": "https://api.github.com/users/TobiSchluter/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9b089e0545b2b8f6455c91584714e5ab918dfac6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b089e0545b2b8f6455c91584714e5ab918dfac6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b089e0545b2b8f6455c91584714e5ab918dfac6"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "f5dd778b1ab69cb5bf4b1917a3ae67f17b2c62a8", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8765339d0b13e84a05d615392655a9b13a604b4a/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8765339d0b13e84a05d615392655a9b13a604b4a/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=8765339d0b13e84a05d615392655a9b13a604b4a", "patch": "@@ -1,3 +1,11 @@\n+2004-05-14  Tobias Schlueter  <tobias.schlueter@physik.uni-muenchen.de>\n+\n+\tPR fortran/15205\n+\t* iresolve.c (gfc_resolve_nearest): Add new function.\n+\t* intrinsic.h: ... declare it here.\n+\t* intrinsic.c (add_functions): ... add it as resolving function\n+\tfor NEAREST.\n+\t\n 2004-05-14  Tobias Schlueter  <tobias.schlueter@physik.uni-muenchen.de>\n \n         PR fortran/14066"}, {"sha": "c787e227a4eba68f64c83721ecd176ddbe5f666b", "filename": "gcc/fortran/intrinsic.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8765339d0b13e84a05d615392655a9b13a604b4a/gcc%2Ffortran%2Fintrinsic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8765339d0b13e84a05d615392655a9b13a604b4a/gcc%2Ffortran%2Fintrinsic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fintrinsic.c?ref=8765339d0b13e84a05d615392655a9b13a604b4a", "patch": "@@ -1301,7 +1301,7 @@ add_functions (void)\n   make_generic (\"modulo\", GFC_ISYM_MODULO);\n \n   add_sym_2 (\"nearest\", 1, 1, BT_REAL, dr,\n-\t     gfc_check_nearest, gfc_simplify_nearest, NULL,\n+\t     gfc_check_nearest, gfc_simplify_nearest, gfc_resolve_nearest,\n \t     x, BT_REAL, dr, 0, s, BT_REAL, dr, 0);\n \n   make_generic (\"nearest\", GFC_ISYM_NEAREST);"}, {"sha": "fa39a3e4234ca4455c8188cf4e3f81b664ac642e", "filename": "gcc/fortran/intrinsic.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8765339d0b13e84a05d615392655a9b13a604b4a/gcc%2Ffortran%2Fintrinsic.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8765339d0b13e84a05d615392655a9b13a604b4a/gcc%2Ffortran%2Fintrinsic.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fintrinsic.h?ref=8765339d0b13e84a05d615392655a9b13a604b4a", "patch": "@@ -270,6 +270,7 @@ void gfc_resolve_minloc (gfc_expr *, gfc_expr *, gfc_expr *, gfc_expr *);\n void gfc_resolve_minval (gfc_expr *, gfc_expr *, gfc_expr *, gfc_expr *);\n void gfc_resolve_mod (gfc_expr *, gfc_expr *, gfc_expr *);\n void gfc_resolve_modulo (gfc_expr *, gfc_expr *, gfc_expr *);\n+void gfc_resolve_nearest (gfc_expr *, gfc_expr *, gfc_expr *);\n void gfc_resolve_nint (gfc_expr *, gfc_expr *, gfc_expr *);\n void gfc_resolve_not (gfc_expr *, gfc_expr *);\n void gfc_resolve_pack (gfc_expr *, gfc_expr *, gfc_expr *, gfc_expr *);"}, {"sha": "e873f03f0dc834905eba7497a78d207377696b37", "filename": "gcc/fortran/iresolve.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8765339d0b13e84a05d615392655a9b13a604b4a/gcc%2Ffortran%2Firesolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8765339d0b13e84a05d615392655a9b13a604b4a/gcc%2Ffortran%2Firesolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Firesolve.c?ref=8765339d0b13e84a05d615392655a9b13a604b4a", "patch": "@@ -911,6 +911,16 @@ gfc_resolve_modulo (gfc_expr * f, gfc_expr * a,\n \t\t    a->ts.kind);\n }\n \n+void\n+gfc_resolve_nearest (gfc_expr * f, gfc_expr * a,\n+             gfc_expr *p ATTRIBUTE_UNUSED)\n+{\n+\n+  f->ts = a->ts;\n+  f->value.function.name =\n+    gfc_get_string (\"__nearest_%c%d\", gfc_type_letter (a->ts.type),\n+            a->ts.kind);\n+}\n \n void\n gfc_resolve_nint (gfc_expr * f, gfc_expr * a, gfc_expr * kind)"}]}