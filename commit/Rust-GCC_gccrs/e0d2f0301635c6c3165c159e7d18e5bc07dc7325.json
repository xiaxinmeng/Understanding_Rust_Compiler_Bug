{"sha": "e0d2f0301635c6c3165c159e7d18e5bc07dc7325", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTBkMmYwMzAxNjM1YzZjMzE2NWMxNTllN2QxOGU1YmMwN2RjNzMyNQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2011-12-21T20:56:30Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2011-12-21T20:56:30Z"}, "message": "i386.c (ix86_option_override_internal): Enable flag_ree also for 32bit targets.\n\n\t* config/i386/i386.c (ix86_option_override_internal): Enable flag_ree\n\talso for 32bit targets.\n\ntestsuite/ChangeLog:\n\n\t* gcc.dg/pr50038.c: Move to ...\n\t* gcc.target/i386/pr50038.c: ... here.  Test on all targets.\n\nFrom-SVN: r182605", "tree": {"sha": "84b3339651f66ca461c370ef179fb8a876a82aaf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/84b3339651f66ca461c370ef179fb8a876a82aaf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e0d2f0301635c6c3165c159e7d18e5bc07dc7325", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0d2f0301635c6c3165c159e7d18e5bc07dc7325", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0d2f0301635c6c3165c159e7d18e5bc07dc7325", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0d2f0301635c6c3165c159e7d18e5bc07dc7325/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "67d7405ef4b5ba99089eed94178c72f968a56ff8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67d7405ef4b5ba99089eed94178c72f968a56ff8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67d7405ef4b5ba99089eed94178c72f968a56ff8"}], "stats": {"total": 22, "additions": 17, "deletions": 5}, "files": [{"sha": "df3198885ba40157b381d1ef69712cbf5a2e45a7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0d2f0301635c6c3165c159e7d18e5bc07dc7325/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0d2f0301635c6c3165c159e7d18e5bc07dc7325/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e0d2f0301635c6c3165c159e7d18e5bc07dc7325", "patch": "@@ -1,3 +1,8 @@\n+2011-12-21  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* config/i386/i386.c (ix86_option_override_internal): Enable flag_ree\n+\talso for 32bit targets.\n+\n 2011-12-21  Richard Henderson  <rth@redhat.com>\n \n \tPR target/51552"}, {"sha": "af075242e3766ce36d86966042787bd8a45fec76", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0d2f0301635c6c3165c159e7d18e5bc07dc7325/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0d2f0301635c6c3165c159e7d18e5bc07dc7325/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=e0d2f0301635c6c3165c159e7d18e5bc07dc7325", "patch": "@@ -3445,12 +3445,14 @@ ix86_option_override_internal (bool main_args_p)\n #define USE_X86_64_FRAME_POINTER 0\n #endif\n \n+  /* Enable redundant extension instructions removal at -O2 and higher.  */\n+  if (optimize >= 2 && !global_options_set.x_flag_ree)\n+    flag_ree = 1;\n+\n   /* Set the default values for switches whose default depends on TARGET_64BIT\n      in case they weren't overwritten by command line options.  */\n   if (TARGET_64BIT)\n     {\n-      if (optimize > 1 && !global_options_set.x_flag_ree)\n-\tflag_ree = 1;\n       if (optimize >= 1 && !global_options_set.x_flag_omit_frame_pointer)\n \tflag_omit_frame_pointer = !USE_X86_64_FRAME_POINTER;\n       if (flag_asynchronous_unwind_tables == 2)"}, {"sha": "492a0c38cca123d0d0aea95cd83f85fb0818d154", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0d2f0301635c6c3165c159e7d18e5bc07dc7325/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0d2f0301635c6c3165c159e7d18e5bc07dc7325/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e0d2f0301635c6c3165c159e7d18e5bc07dc7325", "patch": "@@ -1,3 +1,8 @@\n+2011-12-21  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* gcc.dg/pr50038.c: Move to ...\n+\t* gcc.target/i386/pr50038.c: ... here.  Test on all targets.\n+\n 2011-12-21  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/51611"}, {"sha": "e111574c473a1a739610677c9591aeecca8ea87b", "filename": "gcc/testsuite/gcc.target/i386/pr50038.c", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0d2f0301635c6c3165c159e7d18e5bc07dc7325/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr50038.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0d2f0301635c6c3165c159e7d18e5bc07dc7325/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr50038.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr50038.c?ref=e0d2f0301635c6c3165c159e7d18e5bc07dc7325", "patch": "@@ -1,8 +1,8 @@\n /* PR target/50038 */\n-/* { dg-do compile { target x86_64-*-* } } */\n /* { dg-options \"-O2\" } */\n \n-void pr50038(int len, unsigned char *in, unsigned char *out)\n+void\n+test (int len, unsigned char *in, unsigned char *out)\n {\n   int i;\n   unsigned char xr, xg;\n@@ -11,7 +11,7 @@ void pr50038(int len, unsigned char *in, unsigned char *out)\n     {\n       xr = *in++;\n       xg = *in++;\n-      xy = (unsigned char) ((19595*xr + 38470*xg) >> 16);\n+      xy = (unsigned char) ((19595 * xr + 38470 * xg) >> 16);\n \n       *out++ = xy;\n     }", "previous_filename": "gcc/testsuite/gcc.dg/pr50038.c"}]}