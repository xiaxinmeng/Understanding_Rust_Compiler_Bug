{"sha": "b7df461601ff392dff0903b14d2032b78cd461e6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjdkZjQ2MTYwMWZmMzkyZGZmMDkwM2IxNGQyMDMyYjc4Y2Q0NjFlNg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2003-06-06T21:34:41Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2003-06-06T21:34:41Z"}, "message": "weak.exp: Simplify.\n\n\t* gcc.dg/weak/weak.exp: Simplify.\n\t* gcc.dg/weak/typeof-2.c: Use dg-require-weak.\n\t* gcc.dg/weak/weak-1.c: Likewise.\n\t* gcc.dg/weak/weak-2.c: Likewise.\n\t* gcc.dg/weak/weak-3.c: Likewise.\n\t* gcc.dg/weak/weak-4.c: Likewise.\n\t* gcc.dg/weak/weak-5.c: Likewise.\n\t* gcc.dg/weak/weak-6.c: Likewise.\n\t* gcc.dg/weak/weak-7.c: Likewise.\n\t* gcc.dg/weak/weak-8.c: Likewise.\n\t* gcc.dg/weak/weak-9.c: Likewise.\n\nFrom-SVN: r67571", "tree": {"sha": "da77dde4ab43f7d855f62261a74f21f174d6290a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/da77dde4ab43f7d855f62261a74f21f174d6290a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b7df461601ff392dff0903b14d2032b78cd461e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7df461601ff392dff0903b14d2032b78cd461e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7df461601ff392dff0903b14d2032b78cd461e6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7df461601ff392dff0903b14d2032b78cd461e6/comments", "author": null, "committer": null, "parents": [{"sha": "78cabff8bd87840ecc941ae40f19848b3082783e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78cabff8bd87840ecc941ae40f19848b3082783e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78cabff8bd87840ecc941ae40f19848b3082783e"}], "stats": {"total": 44, "additions": 29, "deletions": 15}, "files": [{"sha": "6afa7fb5e54a2781ccad867ddfa629a045c9e4c9", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b7df461601ff392dff0903b14d2032b78cd461e6", "patch": "@@ -1,3 +1,17 @@\n+2003-06-06  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* gcc.dg/weak/weak.exp: Simplify.\n+\t* gcc.dg/weak/typeof-2.c: Use dg-require-weak.\n+\t* gcc.dg/weak/weak-1.c: Likewise.\n+\t* gcc.dg/weak/weak-2.c: Likewise.\n+\t* gcc.dg/weak/weak-3.c: Likewise.\n+\t* gcc.dg/weak/weak-4.c: Likewise.\n+\t* gcc.dg/weak/weak-5.c: Likewise.\n+\t* gcc.dg/weak/weak-6.c: Likewise.\n+\t* gcc.dg/weak/weak-7.c: Likewise.\n+\t* gcc.dg/weak/weak-8.c: Likewise.\n+\t* gcc.dg/weak/weak-9.c: Likewise.\n+\n 2003-06-06  Richard Earnshaw  <rearnsha@arm.com>\n \n \tgcc.c-torture/execute/20030606-1.c: New."}, {"sha": "7e58bc8b9bb9a17c64b815ed8fac6b096d08856f", "filename": "gcc/testsuite/gcc.dg/weak/typeof-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Ftypeof-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Ftypeof-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Ftypeof-2.c?ref=b7df461601ff392dff0903b14d2032b78cd461e6", "patch": "@@ -1,5 +1,6 @@\n /* Test typeof with __asm redirection. */\n /* { dg-do compile } */\n+/* { dg-require-weak \"\" } */\n /* { dg-options \"-O2\" } */\n \n extern int foo1 (int x) __asm (\"baz1\");"}, {"sha": "078c3ef36151858b6275ba16471cc0256069abb0", "filename": "gcc/testsuite/gcc.dg/weak/weak-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-1.c?ref=b7df461601ff392dff0903b14d2032b78cd461e6", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do compile } */\n+/* { dg-require-weak \"\" } */\n /* { dg-options \"-fno-common\" } */\n \n /* { dg-final { scan-assembler \"weak\\[^ \\t\\]*\\[ \\t\\]_?a\" } } */"}, {"sha": "7f9cde5d0951e0d1fdcf0b172f3075b9e588c158", "filename": "gcc/testsuite/gcc.dg/weak/weak-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-2.c?ref=b7df461601ff392dff0903b14d2032b78cd461e6", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do compile } */\n+/* { dg-require-weak \"\" } */\n /* { dg-options \"-fno-common\" } */\n \n /* { dg-final { scan-assembler \"weak\\[^ \\t\\]*\\[ \\t\\]_?ffoo1a\" } } */"}, {"sha": "d13df69bb67cd1732f06f890c810f8e4a0063c05", "filename": "gcc/testsuite/gcc.dg/weak/weak-3.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-3.c?ref=b7df461601ff392dff0903b14d2032b78cd461e6", "patch": "@@ -1,3 +1,4 @@\n+/* { dg-require-weak \"\" } */\n /* { dg-do compile } */\n /* { dg-options \"-fno-common\" } */\n "}, {"sha": "622a1c6675eee63c38591a47091e39363425e1eb", "filename": "gcc/testsuite/gcc.dg/weak/weak-4.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-4.c?ref=b7df461601ff392dff0903b14d2032b78cd461e6", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do compile } */\n+/* { dg-require-weak \"\" } */\n /* { dg-options \"-fno-common\" } */\n \n /* { dg-final { scan-assembler \"weak\\[^ \\t\\]*\\[ \\t\\]_?vfoo1a\" } } */"}, {"sha": "d70f63304900cb943262a1f4fdbd612dd268d595", "filename": "gcc/testsuite/gcc.dg/weak/weak-5.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-5.c?ref=b7df461601ff392dff0903b14d2032b78cd461e6", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do compile } */\n+/* { dg-require-weak \"\" } */\n /* { dg-options \"-fno-common\" } */\n \n /* { dg-final { scan-assembler \"weak\\[^ \\t\\]*\\[ \\t\\]_?vfoo1a\" } } */"}, {"sha": "531c581dc262a1ad28921d31aa1b9c5ff3d98d45", "filename": "gcc/testsuite/gcc.dg/weak/weak-6.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-6.c?ref=b7df461601ff392dff0903b14d2032b78cd461e6", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do compile } */\n+/* { dg-require-weak \"\" } */\n \n extern void * foo (void);\n void * foo (void) { return (void *)foo; } /* { dg-error \"precede\" } */"}, {"sha": "bf2bbb9563529bea4e648ff60c1d2058fc1e79bb", "filename": "gcc/testsuite/gcc.dg/weak/weak-7.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-7.c?ref=b7df461601ff392dff0903b14d2032b78cd461e6", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do compile } */\n+/* { dg-require-weak \"\" } */\n \n extern void * foo (void);\n void * foo (void) { return (void *)foo; } /* { dg-error \"precede\" } */"}, {"sha": "3de2e1e2fa18c0c0bd45505c0d78e111e8d49c38", "filename": "gcc/testsuite/gcc.dg/weak/weak-8.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-8.c?ref=b7df461601ff392dff0903b14d2032b78cd461e6", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do assemble } */\n+/* { dg-require-weak \"\" } */\n \n __attribute__ ((weak)) int i;\n "}, {"sha": "29a4e650d2b3fc212f52fab5d1d5b86c3277649f", "filename": "gcc/testsuite/gcc.dg/weak/weak-9.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-9.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-9.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak-9.c?ref=b7df461601ff392dff0903b14d2032b78cd461e6", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do compile } */\n+/* { dg-require-weak \"\" } */\n /* { dg-options \"-fno-common\" } */\n \n /* { dg-final { scan-assembler \"weak\\[^ \\t\\]*\\[ \\t\\]_?f1\" } } */"}, {"sha": "8a53eecde7e2304b9c2768e3b587c3ab7f99ab37", "filename": "gcc/testsuite/gcc.dg/weak/weak.exp", "status": "modified", "additions": 5, "deletions": 15, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7df461601ff392dff0903b14d2032b78cd461e6/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fweak%2Fweak.exp?ref=b7df461601ff392dff0903b14d2032b78cd461e6", "patch": "@@ -1,4 +1,4 @@\n-#   Copyright (C) 1997 Free Software Foundation, Inc.\n+#   Copyright (C) 1997, 2003 Free Software Foundation, Inc.\n \n # This program is free software; you can redistribute it and/or modify\n # it under the terms of the GNU General Public License as published by\n@@ -25,17 +25,7 @@ if ![info exists DEFAULT_CFLAGS] then {\n     set DEFAULT_CFLAGS \" -ansi -pedantic-errors\"\n }\n \n-if { [ check_weak_available ] == 1 } {\n-\n-    dg-init\n-\n-    dg-runtest [lsort [glob -nocomplain $srcdir/$subdir/*.\\[cS\\]]] \\\n-\t\"\" $DEFAULT_CFLAGS\n-\n-    dg-finish\n-\n-} elseif { [ check_weak_available ] == 0 } {\n-    unsupported \"gcc.dg/weak\"\n-} else {\n-    unresolved \"gcc.dg/weak\"\n-}\n+dg-init\n+dg-runtest [lsort [glob -nocomplain $srcdir/$subdir/*.\\[cS\\]]] \\\n+    \"\" $DEFAULT_CFLAGS\n+dg-finish"}]}