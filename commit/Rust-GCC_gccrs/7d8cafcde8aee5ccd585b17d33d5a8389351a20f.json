{"sha": "7d8cafcde8aee5ccd585b17d33d5a8389351a20f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2Q4Y2FmY2RlOGFlZTVjY2Q1ODViMTdkMzNkNWE4Mzg5MzUxYTIwZg==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2010-07-21T02:02:42Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2010-07-21T02:02:42Z"}, "message": "appendix_contributing.xml: Update for new reality.\n\n2010-07-19  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* doc/xml/manual/appendix_contributing.xml: Update for new reality.\n\t* doc/Makefile.am (doc-xml): New default rule for XML output.\n\t(doc-xml-single-doxygen): Standardize output names.\n\t* doc/Makefile.in: Regenerate.\n\n\t* doc/doxygen/user.cfg.in: Tweak.\n\nFrom-SVN: r162361", "tree": {"sha": "65c1421cbda2d1523194bd77143ce5bcdb086cbb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/65c1421cbda2d1523194bd77143ce5bcdb086cbb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7d8cafcde8aee5ccd585b17d33d5a8389351a20f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d8cafcde8aee5ccd585b17d33d5a8389351a20f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d8cafcde8aee5ccd585b17d33d5a8389351a20f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d8cafcde8aee5ccd585b17d33d5a8389351a20f/comments", "author": null, "committer": null, "parents": [{"sha": "eb061dfbca5187f3ab5018bb0514e29221194f78", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb061dfbca5187f3ab5018bb0514e29221194f78", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eb061dfbca5187f3ab5018bb0514e29221194f78"}], "stats": {"total": 203, "additions": 161, "deletions": 42}, "files": [{"sha": "fd528b7f128b437e8bcea83c5238e16a1ff9ec96", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d8cafcde8aee5ccd585b17d33d5a8389351a20f/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d8cafcde8aee5ccd585b17d33d5a8389351a20f/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=7d8cafcde8aee5ccd585b17d33d5a8389351a20f", "patch": "@@ -1,3 +1,12 @@\n+2010-07-19  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* doc/xml/manual/appendix_contributing.xml: Update for new reality.\n+\t* doc/Makefile.am (doc-xml): New default rule for XML output.\n+\t(doc-xml-single-doxygen): Standardize output names.\n+\t* doc/Makefile.in: Regenerate.\n+\n+\t* doc/doxygen/user.cfg.in: Tweak.\n+\n 2010-07-20  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* libsupc++/unwind-cxx.h: Minor formatting / stylistic tweaks."}, {"sha": "79325caffa0f059b9b2b26636f165571e9d35cdb", "filename": "libstdc++-v3/doc/Makefile.am", "status": "modified", "additions": 17, "deletions": 10, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d8cafcde8aee5ccd585b17d33d5a8389351a20f/libstdc%2B%2B-v3%2Fdoc%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d8cafcde8aee5ccd585b17d33d5a8389351a20f/libstdc%2B%2B-v3%2Fdoc%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2FMakefile.am?ref=7d8cafcde8aee5ccd585b17d33d5a8389351a20f", "patch": "@@ -28,7 +28,7 @@ include $(top_srcdir)/fragment.am\n # The first is the doxygen markup in libstdc++ sources, which is a\n # reference to the API. And the second is the docbook markup in\n # doc/xml/.\n-# \n+#\n # A third and more obscure option deals with charting\n # performance tests, and should be considered experimental.\n \n@@ -38,23 +38,29 @@ include $(top_srcdir)/fragment.am\n # create, and then copy into toplevel directory with standardized names\n # and layouts.\n \n+# HTML\n+doc-html: doc-html-docbook doc-html-doxygen\n+\tcp -R ${docbook_outdir}/html ./libstdc++-manual.html\n+\tcp -R ${doxygen_outdir}/html ./libstdc++-api.html\n+\n # MAN\n doc-man: doc-man-doxygen\n \tcp -R ${doxygen_outdir}/man ./libstdc++-api.man\n \n # PDF\n doc-pdf: doc-pdf-docbook doc-pdf-doxygen\n-\tcp  ${docbook_outdir}/pdf/libstdc++-manual.pdf .\n+\tcp ${docbook_outdir}/pdf/libstdc++-manual.pdf .\n \tcp ${doxygen_outdir}/pdf/libstdc++-api.pdf .\n \n-# HTML\n-doc-html: doc-html-docbook doc-html-doxygen\n-\tcp -R ${docbook_outdir}/html ./libstdc++-manual.html\n-\tcp -R ${doxygen_outdir}/html ./libstdc++-api.html\n-\n # TEXINFO\n doc-texinfo: doc-texinfo-docbook\n \n+# XML\n+doc-xml: doc-xml-single-docbook doc-xml-single-doxygen\n+\tcp ${manual_xml} .\n+\tcp ${api_xml} .\n+\n+\n # Doxygen configuration\n # Assumes doxygen, graphviz (with dot), pdflatex installed\n doxygen_script=${top_srcdir}/scripts/run_doxygen\n@@ -78,10 +84,11 @@ doc-xml-doxygen:\n \t  ${SHELL} ${doxygen_script} \\\n \t  --host_alias=${host_alias} --mode=xml $${srcdir} $${builddir} NO)\n \n-doc-xml-single-doxygen:\n+api_xml = ${doxygen_outdir}/xml/libstdc++-api-single.xml\n+doc-xml-single-doxygen: doc-xml-doxygen\n \t@echo \"Generating doxygen xml single file...\"\n \t$(XSLTPROC) ${doxygen_outdir}/xml/combine.xslt \\\n-\t${doxygen_outdir}/xml/index.xml > ${doxygen_outdir}/xml/api-spine.xml;\n+\t${doxygen_outdir}/xml/index.xml > ${api_xml};\n \n doc-latex-doxygen:\n \t-(srcdir=`cd ${top_srcdir}; ${PWD_COMMAND}`; \\\n@@ -287,7 +294,7 @@ DB2TEXI_FLAGS = \\\n \t--encoding=utf-8//TRANSLIT \\\n \t--string-param output-file=\"libstdc++-manual\" \\\n \t--string-param directory-category=\"GNU C++ Library\" \\\n-\t--string-param explicit-node-names=true \n+\t--string-param explicit-node-names=true\n doc-texinfo-docbook: doc-xml-single-docbook ${docbook_outdir}/texinfo\n \t@echo \"Generating texinfo files...\"\n \tdb2x_docbook2texi $(DB2TEXI_FLAGS) ${manual_xml}"}, {"sha": "485aac4fba53679d2253ae4913b169161afce8ec", "filename": "libstdc++-v3/doc/Makefile.in", "status": "modified", "additions": 16, "deletions": 11, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d8cafcde8aee5ccd585b17d33d5a8389351a20f/libstdc%2B%2B-v3%2Fdoc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d8cafcde8aee5ccd585b17d33d5a8389351a20f/libstdc%2B%2B-v3%2Fdoc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2FMakefile.in?ref=7d8cafcde8aee5ccd585b17d33d5a8389351a20f", "patch": "@@ -267,6 +267,7 @@ AM_CPPFLAGS = $(GLIBCXX_INCLUDES)\n # Assumes doxygen, graphviz (with dot), pdflatex installed\n doxygen_script = ${top_srcdir}/scripts/run_doxygen\n doxygen_outdir = ${glibcxx_builddir}/doc/doxygen\n+api_xml = ${doxygen_outdir}/xml/libstdc++-api-single.xml\n \n # Chance of loooooonnggg creation time on this rule.  Iff this fails,\n # look at refman.log and see if TeX's memory is exhausted. Symptoms\n@@ -389,7 +390,7 @@ DB2TEXI_FLAGS = \\\n \t--encoding=utf-8//TRANSLIT \\\n \t--string-param output-file=\"libstdc++-manual\" \\\n \t--string-param directory-category=\"GNU C++ Library\" \\\n-\t--string-param explicit-node-names=true \n+\t--string-param explicit-node-names=true\n \n \n # Performance doc and graph configuration.\n@@ -560,7 +561,7 @@ uninstall-am:\n # The first is the doxygen markup in libstdc++ sources, which is a\n # reference to the API. And the second is the docbook markup in\n # doc/xml/.\n-# \n+#\n # A third and more obscure option deals with charting\n # performance tests, and should be considered experimental.\n \n@@ -570,23 +571,28 @@ uninstall-am:\n # create, and then copy into toplevel directory with standardized names\n # and layouts.\n \n+# HTML\n+doc-html: doc-html-docbook doc-html-doxygen\n+\tcp -R ${docbook_outdir}/html ./libstdc++-manual.html\n+\tcp -R ${doxygen_outdir}/html ./libstdc++-api.html\n+\n # MAN\n doc-man: doc-man-doxygen\n \tcp -R ${doxygen_outdir}/man ./libstdc++-api.man\n \n # PDF\n doc-pdf: doc-pdf-docbook doc-pdf-doxygen\n-\tcp  ${docbook_outdir}/pdf/libstdc++-manual.pdf .\n+\tcp ${docbook_outdir}/pdf/libstdc++-manual.pdf .\n \tcp ${doxygen_outdir}/pdf/libstdc++-api.pdf .\n \n-# HTML\n-doc-html: doc-html-docbook doc-html-doxygen\n-\tcp -R ${docbook_outdir}/html ./libstdc++-manual.html\n-\tcp -R ${doxygen_outdir}/html ./libstdc++-api.html\n-\n # TEXINFO\n doc-texinfo: doc-texinfo-docbook\n \n+# XML\n+doc-xml: doc-xml-single-docbook doc-xml-single-doxygen\n+\tcp ${manual_xml} .\n+\tcp ${api_xml} .\n+\n doc-html-doxygen:\n \t-(srcdir=`cd ${top_srcdir}; ${PWD_COMMAND}`; \\\n \t  builddir=`cd ..; ${PWD_COMMAND}`; \\\n@@ -604,11 +610,10 @@ doc-xml-doxygen:\n \t  builddir=`cd ..; ${PWD_COMMAND}`; \\\n \t  ${SHELL} ${doxygen_script} \\\n \t  --host_alias=${host_alias} --mode=xml $${srcdir} $${builddir} NO)\n-\n-doc-xml-single-doxygen:\n+doc-xml-single-doxygen: doc-xml-doxygen\n \t@echo \"Generating doxygen xml single file...\"\n \t$(XSLTPROC) ${doxygen_outdir}/xml/combine.xslt \\\n-\t${doxygen_outdir}/xml/index.xml > ${doxygen_outdir}/xml/api-spine.xml;\n+\t${doxygen_outdir}/xml/index.xml > ${api_xml};\n \n doc-latex-doxygen:\n \t-(srcdir=`cd ${top_srcdir}; ${PWD_COMMAND}`; \\"}, {"sha": "c9e86a51884fef339e7c45640aa69e5eaeeffd78", "filename": "libstdc++-v3/doc/doxygen/user.cfg.in", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d8cafcde8aee5ccd585b17d33d5a8389351a20f/libstdc%2B%2B-v3%2Fdoc%2Fdoxygen%2Fuser.cfg.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d8cafcde8aee5ccd585b17d33d5a8389351a20f/libstdc%2B%2B-v3%2Fdoc%2Fdoxygen%2Fuser.cfg.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fdoxygen%2Fuser.cfg.in?ref=7d8cafcde8aee5ccd585b17d33d5a8389351a20f", "patch": "@@ -247,7 +247,7 @@ SIP_SUPPORT            = NO\n # setting a simple type. If this is not the case, or you want to show the\n # methods anyway, you should set this option to NO.\n \n-IDL_PROPERTY_SUPPORT   = YES\n+IDL_PROPERTY_SUPPORT   = NO\n \n # If member grouping is used in the documentation and the DISTRIBUTE_GROUP_DOC\n # tag is set to YES, then doxygen will reuse the documentation of the first\n@@ -1035,17 +1035,18 @@ DOCSET_FEEDNAME        = \"Doxygen generated docs\"\n # reverse domain-name style string, e.g. com.mycompany.MyDocSet. Doxygen\n # will append .docset to the name.\n \n-DOCSET_BUNDLE_ID       = org.doxygen.Project\n+DOCSET_BUNDLE_ID       = org.gnu.libstdc++\n \n-# When GENERATE_PUBLISHER_ID tag specifies a string that should uniquely identify\n-# the documentation publisher. This should be a reverse domain-name style\n-# string, e.g. com.mycompany.MyDocSet.documentation.\n+# When GENERATE_PUBLISHER_ID tag specifies a string that should\n+# uniquely identify the documentation publisher. This should be a\n+# reverse domain-name style string,\n+# e.g. com.mycompany.MyDocSet.documentation.\n \n-DOCSET_PUBLISHER_ID    = org.doxygen.Publisher\n+DOCSET_PUBLISHER_ID    = org.fsf\n \n # The GENERATE_PUBLISHER_NAME tag identifies the documentation publisher.\n \n-DOCSET_PUBLISHER_NAME  = Publisher\n+DOCSET_PUBLISHER_NAME  = libstdc++\n \n # If the GENERATE_HTMLHELP tag is set to YES, additional index files\n # will be generated that can be used as input for tools like the"}, {"sha": "a9d32814df04ac52175097f77866378a7dbb5baa", "filename": "libstdc++-v3/doc/xml/manual/appendix_contributing.xml", "status": "modified", "additions": 111, "deletions": 14, "changes": 125, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d8cafcde8aee5ccd585b17d33d5a8389351a20f/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fappendix_contributing.xml", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d8cafcde8aee5ccd585b17d33d5a8389351a20f/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fappendix_contributing.xml", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fappendix_contributing.xml?ref=7d8cafcde8aee5ccd585b17d33d5a8389351a20f", "patch": "@@ -974,7 +974,15 @@ indicate a place that may require attention for multi-thread safety.\n       <title>Generating the Doxygen Files</title>\n       <para>\n \tThe following Makefile rules run Doxygen to generate HTML\n-\tdocs, XML docs, PDF docs, and the man pages.\n+\tdocs, XML docs, XML docs as a single file, PDF docs, and the man pages.\n+      </para>\n+\n+      <para>\n+\tGenerated files are output into separate sub directores of\n+\t<filename class=\"directory\">doc/doxygen/</filename> in the\n+\tbuild directory, based on the output format. For instance, the\n+\tHTML docs will be in <filename\n+\tclass=\"directory\">doc/doxygen/html</filename>.\n       </para>\n \n       <para>\n@@ -985,6 +993,10 @@ indicate a place that may require attention for multi-thread safety.\n       <screen><userinput>make doc-xml-doxygen</userinput></screen>\n       </para>\n \n+      <para>\n+      <screen><userinput>make doc-xml-single-doxygen</userinput></screen>\n+      </para>\n+\n       <para>\n       <screen><userinput>make doc-pdf-doxygen</userinput></screen>\n       </para>\n@@ -1236,21 +1248,28 @@ indicate a place that may require attention for multi-thread safety.\n       </para>\n \n       <para>\n-\tFor PDF output, something that transforms valid XML to PDF is\n-\trequired. Possible solutions include \n-\t<ulink url=\"http://dblatex.sourceforge.net\">dblatex</ulink>, \n-\t<command>xmlto</command>, or <command>prince</command>. Other\n-\toptions are listed on the DocBook\n-\tweb <ulink url=\"http://wiki.docbook.org/topic/DocBookPublishingTools\">pages</ulink>. Please\n+\tFor PDF output, something that transforms valid Docbook XML to PDF is\n+\trequired. Possible solutions include <ulink\n+\turl=\"http://dblatex.sourceforge.net\">dblatex</ulink>,\n+\t<command>xmlto</command>, or <command>prince</command>. Of\n+\tthese, <command>dblatex</command> is the default. Other\n+\toptions are listed on the DocBook web <ulink\n+\turl=\"http://wiki.docbook.org/topic/DocBookPublishingTools\">pages</ulink>. Please\n \tconsult the <email>libstdc++@gcc.gnu.org</email> list when\n \tpreparing printed manuals for current best practice and\n \tsuggestions.\n       </para>\n \n       <para>\n-\tMake sure that the XML documentation and markup is valid for\n-\tany change. This can be done easily, with the validation rules\n-\tin the <filename>Makefile</filename>, which is equivalent to doing:\n+\tFor Texinfo output, something that transforms valid Docbook\n+\tXML to Texinfo is required. The default choice is <ulink\n+\turl=\"http://docbook2x.sourceforge.net/\">docbook2X</ulink>.\n+      </para>\n+\n+      <para>\n+\tPlease make sure that the XML documentation and markup is valid for\n+\tany change. This can be done easily, with the validation rule\n+\tdetailed below, which is equivalent to doing:\n       </para>\n \n \t<screen>\n@@ -1270,6 +1289,14 @@ xmllint --noout --valid <filename>xml/index.xml</filename>\n \tdocument.\n       </para>\n \n+      <para>\n+\tGenerated files are output into separate sub directores of\n+\t<filename class=\"directory\">doc/docbook/</filename> in the\n+\tbuild directory, based on the output format. For instance, the\n+\tHTML docs will be in <filename\n+\tclass=\"directory\">doc/docbook/html</filename>.\n+      </para>\n+\n       <para>\n       <screen><userinput>make doc-html-docbook</userinput></screen>\n       </para>\n@@ -1524,20 +1551,90 @@ xmllint --noout --valid <filename>xml/index.xml</filename>\n \n       <para>\n \tThe following Makefile rules are defaults, and are usually\n-\taliased to variable rules.\n+\taliased to more detailed rules. They are shortcuts for\n+\tgenerating HTML, PDF, Texinfo, XML, or man files and then collecting\n+\tthe generated files into the build directory's doc directory.\n+      </para>\n+\n+<variablelist>\n+\n+<varlistentry><term>\n+      <emphasis>make doc-html</emphasis>\n+    </term>\n+<listitem>\n+      <para>\n+\tGenerates multi-page HTML documentation in the following directories:\n+      </para>\n+      <para>\n+\t<filename class=\"directory\">doc/libstdc++-api.html</filename>\n+      </para>\n+      <para>\n+\t<filename class=\"directory\">doc/libstdc++-manual.html</filename>\n       </para>\n+</listitem>\n+</varlistentry>\n \n+<varlistentry><term>\n+      <emphasis>make doc-man</emphasis>\n+    </term>\n+<listitem>\n+      <para>\n+\tGenerates man pages in the following directory:\n+      </para>\n       <para>\n-      <screen><userinput>make doc-html</userinput></screen>\n+\t<filename class=\"directory\">doc/libstdc++-api.man</filename>\n       </para>\n+</listitem>\n+</varlistentry>\n \n+<varlistentry><term>\n+      <emphasis>make doc-pdf</emphasis>\n+    </term>\n+<listitem>\n+      <para>\n+\tGenerates indexed PDF documentation in the following files:\n+      </para>\n       <para>\n-      <screen><userinput>make doc-man</userinput></screen>\n+\t<filename>doc/libstdc++-api.pdf</filename>\n       </para>\n+      <para>\n+\t<filename>doc/libstdc++-manual.pdf</filename>\n+      </para>\n+</listitem>\n+</varlistentry>\n \n+<varlistentry><term>\n+      <emphasis>make doc-texinfo</emphasis>\n+    </term>\n+<listitem>\n       <para>\n-      <screen><userinput>make doc-pdf</userinput></screen>\n+\tGenerates Texinfo documentation in the following files:\n       </para>\n+      <para>\n+\t<filename>doc/libstdc++-manual.texinfo</filename>\n+      </para>\n+</listitem>\n+</varlistentry>\n+\n+<varlistentry><term>\n+      <emphasis>make doc-xml</emphasis>\n+    </term>\n+<listitem>\n+      <para>\n+\tGenerates single-file XML documentation in the following files:\n+      </para>\n+      <para>\n+\t<filename>doc/libstdc++-api.xml</filename>\n+      </para>\n+      <para>\n+\t<filename>doc/libstdc++-manual.xml</filename>\n+      </para>\n+</listitem>\n+</varlistentry>\n+\n+</variablelist>\n+\n+\n   </sect3>\n   </sect2>\n </sect1>"}]}