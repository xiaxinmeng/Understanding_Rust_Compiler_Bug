{"sha": "34902e16e2c936b883135f7b472402de4240caec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQ5MDJlMTZlMmM5MzZiODgzMTM1ZjdiNDcyNDAyZGU0MjQwY2FlYw==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2002-07-11T21:12:47Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2002-07-11T21:12:47Z"}, "message": "re PR c++/7279 (NRV related miscompilation)\n\n        PR c++/7279\n        * tree.c (cp_copy_res_decl_for_inlining): Also copy\n        TREE_ADDRESSABLE.\n\nFrom-SVN: r55405", "tree": {"sha": "8fc1ea9763fbaeea31f2f5e83c7048975353b6ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8fc1ea9763fbaeea31f2f5e83c7048975353b6ed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/34902e16e2c936b883135f7b472402de4240caec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34902e16e2c936b883135f7b472402de4240caec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/34902e16e2c936b883135f7b472402de4240caec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34902e16e2c936b883135f7b472402de4240caec/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "25c25947019a3e4628e8b382d7e1b00d9482d717", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25c25947019a3e4628e8b382d7e1b00d9482d717", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25c25947019a3e4628e8b382d7e1b00d9482d717"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "24b9267a1960752f5da68899d53dcbb9cbfe18a5", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34902e16e2c936b883135f7b472402de4240caec/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34902e16e2c936b883135f7b472402de4240caec/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=34902e16e2c936b883135f7b472402de4240caec", "patch": "@@ -1,3 +1,9 @@\n+2002-07-11  Jason Merrill  <jason@redhat.com>\n+\n+\tPR c++/7279\n+\t* tree.c (cp_copy_res_decl_for_inlining): Also copy\n+\tTREE_ADDRESSABLE.\n+\n 2002-07-10  Graham Stott  <graham.stott@btinternet.com>\n \n \t* pt.c (template_parm_this_level_p, push_template_decl_real):"}, {"sha": "b6e70ceface8e1aed2cd5957caf07c41e77294a4", "filename": "gcc/cp/tree.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34902e16e2c936b883135f7b472402de4240caec/gcc%2Fcp%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34902e16e2c936b883135f7b472402de4240caec/gcc%2Fcp%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftree.c?ref=34902e16e2c936b883135f7b472402de4240caec", "patch": "@@ -2292,7 +2292,11 @@ cp_copy_res_decl_for_inlining (result, fn, caller, decl_map_,\n \t  DECL_SOURCE_FILE (var) = DECL_SOURCE_FILE (nrv);\n \t  DECL_SOURCE_LINE (var) = DECL_SOURCE_LINE (nrv);\n \t  DECL_ABSTRACT_ORIGIN (var) = DECL_ORIGIN (nrv);\n+\t  /* Don't lose initialization info.  */\n \t  DECL_INITIAL (var) = DECL_INITIAL (nrv);\n+\t  /* Don't forget that it needs to go in the stack.  */\n+\t  TREE_ADDRESSABLE (var) = TREE_ADDRESSABLE (nrv);\n+\n \t  splay_tree_insert (decl_map,\n \t\t\t     (splay_tree_key) nrv,\n \t\t\t     (splay_tree_value) var);"}]}