{"sha": "1509bddad22c4f2e5c003c7a8845ba64fe367699", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTUwOWJkZGFkMjJjNGYyZTVjMDAzYzdhODg0NWJhNjRmZTM2NzY5OQ==", "commit": {"author": {"name": "Balaji V. Iyer", "email": "balaji.v.iyer@intel.com", "date": "2013-06-07T22:16:24Z"}, "committer": {"name": "Balaji V. Iyer", "email": "bviyer@gcc.gnu.org", "date": "2013-06-07T22:16:24Z"}, "message": "re PR middle-end/57541 ([Cilkplus]: internal compiler error: in gimplify_expr, at gimplify.c:7809)\n\nFixed PR 57541.\ngcc/c/ChangeLog\n2013-06-07  Balaji V. Iyer  <balaji.v.iyer@intel.com>\n        * c-array-notation.c (expand_array_notation_exprs): Added\n        ARRAY_NOTATION_REF case.\n\ngcc/testsuite/ChangeLog\n2013-06-07  Balaji V. Iyer  <balaji.v.iyer@intel.com>\n\n        PR middle-end/57541\n        * c-c++-common/cilk-plus/AN/pr57541.c: New test case.\n\nFrom-SVN: r199837", "tree": {"sha": "a280811b021c9ee416d3b6a275ee4b0d32bdb3fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a280811b021c9ee416d3b6a275ee4b0d32bdb3fd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1509bddad22c4f2e5c003c7a8845ba64fe367699", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1509bddad22c4f2e5c003c7a8845ba64fe367699", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1509bddad22c4f2e5c003c7a8845ba64fe367699", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1509bddad22c4f2e5c003c7a8845ba64fe367699/comments", "author": null, "committer": null, "parents": [{"sha": "88ac60d35f84f3067f64c5e76c2e13798b7da00e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88ac60d35f84f3067f64c5e76c2e13798b7da00e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88ac60d35f84f3067f64c5e76c2e13798b7da00e"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "5fbb31f8aca1dfc768ad4a965aac09123fbe016e", "filename": "gcc/c/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1509bddad22c4f2e5c003c7a8845ba64fe367699/gcc%2Fc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1509bddad22c4f2e5c003c7a8845ba64fe367699/gcc%2Fc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2FChangeLog?ref=1509bddad22c4f2e5c003c7a8845ba64fe367699", "patch": "@@ -1,3 +1,8 @@\n+2013-06-07  Balaji V. Iyer  <balaji.v.iyer@intel.com>\n+\n+\t* c-array-notation.c (expand_array_notation_exprs): Added\n+\tARRAY_NOTATION_REF case.\n+\t\n 2013-06-07  Balaji V. Iyer  <balaji.v.iyer@intel.com>\n \n \t* c-array-notation.c (length_mismatch_in_expr_p): Moved this"}, {"sha": "b1040da0cc771c4f40052503e9ac1ac450ceb004", "filename": "gcc/c/c-array-notation.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1509bddad22c4f2e5c003c7a8845ba64fe367699/gcc%2Fc%2Fc-array-notation.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1509bddad22c4f2e5c003c7a8845ba64fe367699/gcc%2Fc%2Fc-array-notation.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2Fc-array-notation.c?ref=1509bddad22c4f2e5c003c7a8845ba64fe367699", "patch": "@@ -2317,6 +2317,14 @@ expand_array_notation_exprs (tree t)\n     case RETURN_EXPR:\n       if (contains_array_notation_expr (t))\n \tt = fix_return_expr (t);\n+      return t;\n+    case ARRAY_NOTATION_REF:\n+      /* IF we are here, then we are dealing with cases like this:\n+\t A[:];\n+\t A[x:y:z];\n+\t A[x:y];\n+\t Replace those with just void zero node.  */\n+      t = void_zero_node;\n     default:\n       return t;\n     }"}, {"sha": "55a3ce6d1acb109a9ba9ff53a8bb3a0dd8268b9d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1509bddad22c4f2e5c003c7a8845ba64fe367699/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1509bddad22c4f2e5c003c7a8845ba64fe367699/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1509bddad22c4f2e5c003c7a8845ba64fe367699", "patch": "@@ -1,3 +1,8 @@\n+2013-06-07  Balaji V. Iyer  <balaji.v.iyer@intel.com>\n+\n+\tPR middle-end/57541\n+\t* c-c++-common/cilk-plus/AN/pr57541.c: New test case.\n+\n 2013-06-07  Jan Hubicka  <jh@suse.cz>\n \n \t* gcc.dg/tree-ssa/attr-alias.c: Remove brackets in template."}, {"sha": "cabdb2376e61a8d583a78ecfa953d97a25f8de9b", "filename": "gcc/testsuite/c-c++-common/cilk-plus/AN/pr57541.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1509bddad22c4f2e5c003c7a8845ba64fe367699/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FAN%2Fpr57541.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1509bddad22c4f2e5c003c7a8845ba64fe367699/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FAN%2Fpr57541.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcilk-plus%2FAN%2Fpr57541.c?ref=1509bddad22c4f2e5c003c7a8845ba64fe367699", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-fcilkplus\" } */\n+\n+int A[10];\n+\n+int main () {\n+  char c = (char)N; /* { dg-error \"undeclared\" } */\n+  short s = (short)N;\n+  long l = (long)N;\n+  A[l:s:c];\n+}\n+\n+/* { dg-message \"note: each\" \"defined\" { target *-*-* }  7 } */\n+"}]}