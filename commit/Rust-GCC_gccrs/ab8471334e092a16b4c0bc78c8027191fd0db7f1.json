{"sha": "ab8471334e092a16b4c0bc78c8027191fd0db7f1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWI4NDcxMzM0ZTA5MmExNmI0YzBiYzc4YzgwMjcxOTFmZDBkYjdmMQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-04-16T15:52:26Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-04-16T15:52:26Z"}, "message": "re PR libgcj/6081 (libjava make install fails: Arg list too long)\n\n\tFix for PR libgcj/6081:\n\t* Makefile.in: Rebuilt.\n\t* Makefile.am (install-data-local): Use GNU make trick to avoid\n\tshell limit.\n\nFrom-SVN: r52370", "tree": {"sha": "a553b04ba6534c0fe8e96ce72c548a6a5a59f599", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a553b04ba6534c0fe8e96ce72c548a6a5a59f599"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ab8471334e092a16b4c0bc78c8027191fd0db7f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab8471334e092a16b4c0bc78c8027191fd0db7f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab8471334e092a16b4c0bc78c8027191fd0db7f1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab8471334e092a16b4c0bc78c8027191fd0db7f1/comments", "author": null, "committer": null, "parents": [{"sha": "6344da6f57393a5df75f5738343afc30d1f9ea23", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6344da6f57393a5df75f5738343afc30d1f9ea23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6344da6f57393a5df75f5738343afc30d1f9ea23"}], "stats": {"total": 98, "additions": 63, "deletions": 35}, "files": [{"sha": "6fd80b111062ccb413aa72f970672fff2ae7a701", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab8471334e092a16b4c0bc78c8027191fd0db7f1/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab8471334e092a16b4c0bc78c8027191fd0db7f1/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=ab8471334e092a16b4c0bc78c8027191fd0db7f1", "patch": "@@ -1,3 +1,10 @@\n+2002-04-16  Tom Tromey  <tromey@redhat.com>\n+\n+\tFix for PR libgcj/6081:\n+\t* Makefile.in: Rebuilt.\n+\t* Makefile.am (install-data-local): Use GNU make trick to avoid\n+\tshell limit.\n+\n 2002-04-16  Adam King <aking@dreammechanics.com>\n \t    Tom Tromey  <tromey@redhat.com>\n "}, {"sha": "3caec30f672baa7f7d1ffd1251df77142e73ab49", "filename": "libjava/Makefile.am", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab8471334e092a16b4c0bc78c8027191fd0db7f1/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab8471334e092a16b4c0bc78c8027191fd0db7f1/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=ab8471334e092a16b4c0bc78c8027191fd0db7f1", "patch": "@@ -349,13 +349,17 @@ $(extra_headers):\n ## hand.\n install-data-local:\n \t$(PRE_INSTALL)\n-\t@for f in $(nat_headers) $(extra_headers); do \\\n+## We use a GNU make trick here so that we don't go over the command\n+## length limit of some shells.\n+\t@: $(shell echo Creating list of headers to install...) $(shell rm -f tmp-ilist || :) $(shell touch tmp-ilist) $(foreach hdr,$(nat_headers) $(extra_headers),$(shell echo $(hdr) >> tmp-ilist))\n+\t@cat tmp-ilist | while read f; do \\\n \t  d=\"`echo $$f | sed -e 's,/[^/]*$$,,'`\"; \\\n \t  $(mkinstalldirs) $(DESTDIR)$(includedir)/$$d; \\\n \t  if test -f $(srcdir)/$$f; then p=$(srcdir)/$$f; else p=$$f; fi; \\\n \t  echo \" $(INSTALL_DATA) $$p $(DESTDIR)$(includedir)/$$f\"; \\\n \t  $(INSTALL_DATA) $$p $(DESTDIR)$(includedir)/$$f; \\\n \tdone\n+\t-@rm -f tmp-ilist\n ## FIXME: the obvious approach using lib_DATA doesn't work with\n ## automake 1.4.\n \t$(mkinstalldirs) $(DESTDIR)$(secdir)"}, {"sha": "15c7677d26c601f4d708cbf728b62e066fde7b1f", "filename": "libjava/Makefile.in", "status": "modified", "additions": 39, "deletions": 22, "changes": 61, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab8471334e092a16b4c0bc78c8027191fd0db7f1/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab8471334e092a16b4c0bc78c8027191fd0db7f1/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=ab8471334e092a16b4c0bc78c8027191fd0db7f1", "patch": "@@ -1,6 +1,6 @@\n-# Makefile.in generated automatically by automake 1.4-p5 from Makefile.am\n+# Makefile.in generated automatically by automake 1.4 from Makefile.am\n \n-# Copyright (C) 1994, 1995-8, 1999, 2001 Free Software Foundation, Inc.\n+# Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -129,13 +129,19 @@ mkinstalldirs = @mkinstalldirs@\n tool_include_dir = @tool_include_dir@\n \n AUTOMAKE_OPTIONS = foreign\n-@TESTSUBDIR_TRUE@SUBDIRS = @TESTSUBDIR_TRUE@$(DIRLTDL) testsuite gcj include\n-@TESTSUBDIR_FALSE@SUBDIRS = @TESTSUBDIR_FALSE@$(DIRLTDL) gcj include\n-@USE_LIBDIR_TRUE@toolexeclibdir = @USE_LIBDIR_TRUE@$(libdir)$(MULTISUBDIR)\n-@USE_LIBDIR_FALSE@toolexeclibdir = @USE_LIBDIR_FALSE@$(toolexecdir)/lib$(MULTISUBDIR)\n-@USE_LIBDIR_FALSE@toolexecdir = @USE_LIBDIR_FALSE@$(exec_prefix)/$(target_alias)\n-@XLIB_AWT_TRUE@cond_x_ltlibrary = @XLIB_AWT_TRUE@libgcjx.la\n-@XLIB_AWT_FALSE@cond_x_ltlibrary = \n+@TESTSUBDIR_TRUE@SUBDIRS = \\\n+@TESTSUBDIR_TRUE@$(DIRLTDL) testsuite gcj include\n+@TESTSUBDIR_FALSE@SUBDIRS = \\\n+@TESTSUBDIR_FALSE@$(DIRLTDL) gcj include\n+@USE_LIBDIR_TRUE@toolexeclibdir = \\\n+@USE_LIBDIR_TRUE@$(libdir)$(MULTISUBDIR)\n+@USE_LIBDIR_FALSE@toolexeclibdir = \\\n+@USE_LIBDIR_FALSE@$(toolexecdir)/lib$(MULTISUBDIR)\n+@USE_LIBDIR_FALSE@toolexecdir = \\\n+@USE_LIBDIR_FALSE@$(exec_prefix)/$(target_alias)\n+@XLIB_AWT_TRUE@cond_x_ltlibrary = \\\n+@XLIB_AWT_TRUE@libgcjx.la\n+@XLIB_AWT_FALSE@cond_x_ltlibrary = \\\n \n toolexeclib_LTLIBRARIES = libgcj.la $(cond_x_ltlibrary)\n toolexeclib_DATA = libgcj.spec\n@@ -145,14 +151,20 @@ jar_DATA = libgcj-@gcc_version@.jar\n \n secdir = $(libdir)/security\n \n-@NATIVE_TRUE@bin_PROGRAMS = @NATIVE_TRUE@jv-convert gij rmic rmiregistry\n+@NATIVE_TRUE@bin_PROGRAMS = \\\n+@NATIVE_TRUE@jv-convert gij rmic rmiregistry\n \n bin_SCRIPTS = addr2name.awk\n-@CANADIAN_TRUE@@NULL_TARGET_TRUE@ZIP = @CANADIAN_TRUE@@NULL_TARGET_TRUE@$(MULTIBUILDTOP)../$(COMPPATH)/fastjar/jar$(EXEEXT)\n-@CANADIAN_TRUE@@NULL_TARGET_FALSE@ZIP = @CANADIAN_TRUE@@NULL_TARGET_FALSE@jar\n-@CANADIAN_FALSE@ZIP = @CANADIAN_FALSE@$(MULTIBUILDTOP)../$(COMPPATH)/fastjar/jar$(EXEEXT)\n-@CANADIAN_TRUE@GCJH = @CANADIAN_TRUE@gcjh\n-@CANADIAN_FALSE@GCJH = @CANADIAN_FALSE@$(MULTIBUILDTOP)../$(COMPPATH)/gcc/gcjh$(EXEEXT)\n+@CANADIAN_TRUE@@NULL_TARGET_TRUE@ZIP = \\\n+@CANADIAN_TRUE@@NULL_TARGET_TRUE@$(MULTIBUILDTOP)../$(COMPPATH)/fastjar/jar$(EXEEXT)\n+@CANADIAN_TRUE@@NULL_TARGET_FALSE@ZIP = \\\n+@CANADIAN_TRUE@@NULL_TARGET_FALSE@jar\n+@CANADIAN_FALSE@ZIP = \\\n+@CANADIAN_FALSE@$(MULTIBUILDTOP)../$(COMPPATH)/fastjar/jar$(EXEEXT)\n+@CANADIAN_TRUE@GCJH = \\\n+@CANADIAN_TRUE@gcjh\n+@CANADIAN_FALSE@GCJH = \\\n+@CANADIAN_FALSE@$(MULTIBUILDTOP)../$(COMPPATH)/gcc/gcjh$(EXEEXT)\n \n GCJ_WITH_FLAGS = $(GCJ) --encoding=UTF-8\n \n@@ -172,8 +184,10 @@ AM_CXXFLAGS = -fno-rtti -fnon-call-exceptions \\\n \t@LIBGCJ_CXXFLAGS@ @X_CFLAGS@ $(WARNINGS) -D_GNU_SOURCE \\\n \t-DPREFIX=\"\\\"$(prefix)\\\"\"\n \n-@USING_GCC_TRUE@AM_CFLAGS = @USING_GCC_TRUE@@LIBGCJ_CFLAGS@ $(WARNINGS)\n-@USING_GCC_FALSE@AM_CFLAGS = @USING_GCC_FALSE@@LIBGCJ_CFLAGS@\n+@USING_GCC_TRUE@AM_CFLAGS = \\\n+@USING_GCC_TRUE@@LIBGCJ_CFLAGS@ $(WARNINGS)\n+@USING_GCC_FALSE@AM_CFLAGS = \\\n+@USING_GCC_FALSE@@LIBGCJ_CFLAGS@\n \n JCFLAGS = -g\n JC1FLAGS = @LIBGCJ_JAVAFLAGS@ $(GCJFLAGS)\n@@ -248,7 +262,8 @@ extra_headers = java/lang/Object.h java/lang/Class.h\n \n NM = nm\n \n-@NATIVE_TRUE@@MAINTAINER_MODE_TRUE@noinst_PROGRAMS = @NATIVE_TRUE@@MAINTAINER_MODE_TRUE@gen-from-JIS\n+@NATIVE_TRUE@@MAINTAINER_MODE_TRUE@noinst_PROGRAMS = \\\n+@NATIVE_TRUE@@MAINTAINER_MODE_TRUE@gen-from-JIS\n \n CONVERT_DIR = gnu/gcj/convert\n \n@@ -1730,7 +1745,7 @@ libgcj-test.spec.in libgcj.spec.in\n \n DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)\n \n-TAR = gtar\n+TAR = tar\n GZIP_ENV = --best\n DIST_SUBDIRS =  @DIRLTDL@ testsuite gcj include @DIRLTDL@ gcj include\n DEP_FILES =  .deps/$(srcdir)/$(CONVERT_DIR)/gen-from-JIS.P \\\n@@ -2932,7 +2947,7 @@ maintainer-clean-recursive:\n \tdot_seen=no; \\\n \trev=''; list='$(SUBDIRS)'; for subdir in $$list; do \\\n \t  rev=\"$$subdir $$rev\"; \\\n-\t  test \"$$subdir\" != \".\" || dot_seen=yes; \\\n+\t  test \"$$subdir\" = \".\" && dot_seen=yes; \\\n \tdone; \\\n \ttest \"$$dot_seen\" = \"no\" && rev=\". $$rev\"; \\\n \ttarget=`echo $@ | sed s/-recursive//`; \\\n@@ -3031,7 +3046,7 @@ distdir: $(DISTFILES)\n \t@for file in $(DISTFILES); do \\\n \t  d=$(srcdir); \\\n \t  if test -d $$d/$$file; then \\\n-\t    cp -pr $$d/$$file $(distdir)/$$file; \\\n+\t    cp -pr $$/$$file $(distdir)/$$file; \\\n \t  else \\\n \t    test -f $(distdir)/$$file \\\n \t    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \\\n@@ -3346,13 +3361,15 @@ $(extra_headers):\n \n install-data-local:\n \t$(PRE_INSTALL)\n-\t@for f in $(nat_headers) $(extra_headers); do \\\n+\t@: $(shell echo Creating list of headers to install...) $(shell rm -f tmp-ilist || :) $(shell touch tmp-ilist) $(foreach hdr,$(nat_headers) $(extra_headers),$(shell echo $(hdr) >> tmp-ilist))\n+\t@cat tmp-ilist | while read f; do \\\n \t  d=\"`echo $$f | sed -e 's,/[^/]*$$,,'`\"; \\\n \t  $(mkinstalldirs) $(DESTDIR)$(includedir)/$$d; \\\n \t  if test -f $(srcdir)/$$f; then p=$(srcdir)/$$f; else p=$$f; fi; \\\n \t  echo \" $(INSTALL_DATA) $$p $(DESTDIR)$(includedir)/$$f\"; \\\n \t  $(INSTALL_DATA) $$p $(DESTDIR)$(includedir)/$$f; \\\n \tdone\n+\t-@rm -f tmp-ilist\n \t$(mkinstalldirs) $(DESTDIR)$(secdir)\n \t@for f in classpath.security libgcj.security; do \\\n \t  echo \" $(INSTALL_DATA) $(srcdir)/java/security/$$f $(DESTDIR)$(secdir)/$$f\"; \\"}, {"sha": "9260947c7a81cfe528c8ce3deed3fd60ee766e98", "filename": "libjava/gcj/Makefile.in", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab8471334e092a16b4c0bc78c8027191fd0db7f1/libjava%2Fgcj%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab8471334e092a16b4c0bc78c8027191fd0db7f1/libjava%2Fgcj%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgcj%2FMakefile.in?ref=ab8471334e092a16b4c0bc78c8027191fd0db7f1", "patch": "@@ -1,6 +1,6 @@\n-# Makefile.in generated automatically by automake 1.4-p5 from Makefile.am\n+# Makefile.in generated automatically by automake 1.4 from Makefile.am\n \n-# Copyright (C) 1994, 1995-8, 1999, 2001 Free Software Foundation, Inc.\n+# Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -146,7 +146,7 @@ DIST_COMMON =  ./stamp-h2.in Makefile.am Makefile.in libgcj-config.h.in\n \n DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)\n \n-TAR = gtar\n+TAR = tar\n GZIP_ENV = --best\n all: all-redirect\n .SUFFIXES:\n@@ -258,7 +258,7 @@ distdir: $(DISTFILES)\n \t@for file in $(DISTFILES); do \\\n \t  d=$(srcdir); \\\n \t  if test -d $$d/$$file; then \\\n-\t    cp -pr $$d/$$file $(distdir)/$$file; \\\n+\t    cp -pr $$/$$file $(distdir)/$$file; \\\n \t  else \\\n \t    test -f $(distdir)/$$file \\\n \t    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \\"}, {"sha": "1d38fcdb4d3971b532267d1f49acbffe8cb25ddd", "filename": "libjava/include/Makefile.in", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab8471334e092a16b4c0bc78c8027191fd0db7f1/libjava%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab8471334e092a16b4c0bc78c8027191fd0db7f1/libjava%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2FMakefile.in?ref=ab8471334e092a16b4c0bc78c8027191fd0db7f1", "patch": "@@ -1,6 +1,6 @@\n-# Makefile.in generated automatically by automake 1.4-p5 from Makefile.am\n+# Makefile.in generated automatically by automake 1.4 from Makefile.am\n \n-# Copyright (C) 1994, 1995-8, 1999, 2001 Free Software Foundation, Inc.\n+# Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -142,7 +142,7 @@ DIST_COMMON =  ./stamp-h1.in Makefile.am Makefile.in config.h.in\n \n DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)\n \n-TAR = gtar\n+TAR = tar\n GZIP_ENV = --best\n all: all-redirect\n .SUFFIXES:\n@@ -239,7 +239,7 @@ distdir: $(DISTFILES)\n \t@for file in $(DISTFILES); do \\\n \t  d=$(srcdir); \\\n \t  if test -d $$d/$$file; then \\\n-\t    cp -pr $$d/$$file $(distdir)/$$file; \\\n+\t    cp -pr $$/$$file $(distdir)/$$file; \\\n \t  else \\\n \t    test -f $(distdir)/$$file \\\n \t    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \\"}, {"sha": "4a7781bec25c64eeea3d92cbdc31bc2cb17c9cfb", "filename": "libjava/testsuite/Makefile.in", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab8471334e092a16b4c0bc78c8027191fd0db7f1/libjava%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab8471334e092a16b4c0bc78c8027191fd0db7f1/libjava%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FMakefile.in?ref=ab8471334e092a16b4c0bc78c8027191fd0db7f1", "patch": "@@ -1,6 +1,6 @@\n-# Makefile.in generated automatically by automake 1.4-p5 from Makefile.am\n+# Makefile.in generated automatically by automake 1.4 from Makefile.am\n \n-# Copyright (C) 1994, 1995-8, 1999, 2001 Free Software Foundation, Inc.\n+# Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -151,7 +151,7 @@ DIST_COMMON =  ChangeLog Makefile.am Makefile.in\n \n DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)\n \n-TAR = gtar\n+TAR = tar\n GZIP_ENV = --best\n all: all-redirect\n .SUFFIXES:\n@@ -179,7 +179,7 @@ distdir: $(DISTFILES)\n \t@for file in $(DISTFILES); do \\\n \t  d=$(srcdir); \\\n \t  if test -d $$d/$$file; then \\\n-\t    cp -pr $$d/$$file $(distdir)/$$file; \\\n+\t    cp -pr $$/$$file $(distdir)/$$file; \\\n \t  else \\\n \t    test -f $(distdir)/$$file \\\n \t    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \\"}]}