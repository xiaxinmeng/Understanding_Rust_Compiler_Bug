{"sha": "e77da14a5383b3ed50a9313545b709cf52261cca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTc3ZGExNGE1MzgzYjNlZDUwYTkzMTM1NDViNzA5Y2Y1MjI2MWNjYQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2013-07-30T22:38:52Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2013-07-30T22:38:52Z"}, "message": "re PR c++/57673 (pack sizeof ... groups ellipsis with preceding expression)\n\n/cp\n2013-07-30  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/57673\n\t* parser.c (cp_parser_cache_defarg): In an NSDMI don't stop when\n\ttoken->type == CPP_ELLIPSIS.\n\n/testsuite\n2013-07-30  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/57673\n\t* g++.dg/cpp0x/nsdmi-sizeof.C: New.\n\nFrom-SVN: r201354", "tree": {"sha": "164b3d0643a8c28043947032d5a8bff6f04a7f48", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/164b3d0643a8c28043947032d5a8bff6f04a7f48"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e77da14a5383b3ed50a9313545b709cf52261cca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e77da14a5383b3ed50a9313545b709cf52261cca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e77da14a5383b3ed50a9313545b709cf52261cca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e77da14a5383b3ed50a9313545b709cf52261cca/comments", "author": null, "committer": null, "parents": [{"sha": "df4f7bb8db9cb08afaa2afc2aea122adb92efb8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df4f7bb8db9cb08afaa2afc2aea122adb92efb8d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df4f7bb8db9cb08afaa2afc2aea122adb92efb8d"}], "stats": {"total": 22, "additions": 21, "deletions": 1}, "files": [{"sha": "cc2cc541c676df601b6c5f8ce7b96cf9b6339126", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e77da14a5383b3ed50a9313545b709cf52261cca/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e77da14a5383b3ed50a9313545b709cf52261cca/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=e77da14a5383b3ed50a9313545b709cf52261cca", "patch": "@@ -1,3 +1,9 @@\n+2013-07-30  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/57673\n+\t* parser.c (cp_parser_cache_defarg): In an NSDMI don't stop when\n+\ttoken->type == CPP_ELLIPSIS.\n+\n 2013-07-30  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/57947"}, {"sha": "7f4ad1c7dbaf64a5f01a16eaa9d384b877fde1e4", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e77da14a5383b3ed50a9313545b709cf52261cca/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e77da14a5383b3ed50a9313545b709cf52261cca/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=e77da14a5383b3ed50a9313545b709cf52261cca", "patch": "@@ -24145,7 +24145,9 @@ cp_parser_cache_defarg (cp_parser *parser, bool nsdmi)\n \tcase CPP_SEMICOLON:\n \tcase CPP_CLOSE_BRACE:\n \tcase CPP_CLOSE_SQUARE:\n-\t  if (depth == 0)\n+\t  if (depth == 0\n+\t      /* Handle correctly int n = sizeof ... ( p );  */\n+\t      && !(nsdmi && token->type == CPP_ELLIPSIS))\n \t    done = true;\n \t  /* Update DEPTH, if necessary.  */\n \t  else if (token->type == CPP_CLOSE_PAREN"}, {"sha": "905518d168d92da7b9c9b678a6350ed3ad7d8af9", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e77da14a5383b3ed50a9313545b709cf52261cca/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e77da14a5383b3ed50a9313545b709cf52261cca/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e77da14a5383b3ed50a9313545b709cf52261cca", "patch": "@@ -1,3 +1,8 @@\n+2013-07-30  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/57673\n+\t* g++.dg/cpp0x/nsdmi-sizeof.C: New.\n+\n 2013-07-30  Steve Ellcey  <sellcey@mips.com>\n \n \t* gcc.target/mips/code-readable-1.c: Increase switch size."}, {"sha": "fac979b668d7d5fac421b9fd5da887625e345a75", "filename": "gcc/testsuite/g++.dg/cpp0x/nsdmi-sizeof.C", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e77da14a5383b3ed50a9313545b709cf52261cca/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnsdmi-sizeof.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e77da14a5383b3ed50a9313545b709cf52261cca/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnsdmi-sizeof.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnsdmi-sizeof.C?ref=e77da14a5383b3ed50a9313545b709cf52261cca", "patch": "@@ -0,0 +1,7 @@\n+// PR c++/57673\n+// { dg-do compile { target c++11 } }\n+\n+template< int ... p >\n+struct d {\n+  int n = sizeof ... ( p );\n+};"}]}