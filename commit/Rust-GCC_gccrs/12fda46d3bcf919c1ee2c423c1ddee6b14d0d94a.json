{"sha": "12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTJmZGE0NmQzYmNmOTE5YzFlZTJjNDIzYzFkZGVlNmIxNGQwZDk0YQ==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2008-12-23T16:21:32Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2008-12-23T16:21:32Z"}, "message": "[multiple changes]\n\n2008-12-23  Andrew Pinski  <pinski@gmail.com>\n\n        PR middle-end/38590\n        * fold-const.c (fold_binary): Call fold_convert on arguments to\n        fold_build2 for negative divide optimization.\n\n2008-12-23  Andrew Pinski  <pinskia@gmail.com>\n\n        PR middle-end/38590\n        * gcc.c-torture/compile/pr38590-1.c: New testcase.\n        * gcc.c-torture/compile/pr38590-2.c: New testcase.\n\nFrom-SVN: r142906", "tree": {"sha": "919a9fe2e9f195264bf7c794d82fbfc334d65c11", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/919a9fe2e9f195264bf7c794d82fbfc334d65c11"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a/comments", "author": null, "committer": null, "parents": [{"sha": "f05d0fc14890e21fda270b46d6344cac934f409d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f05d0fc14890e21fda270b46d6344cac934f409d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f05d0fc14890e21fda270b46d6344cac934f409d"}], "stats": {"total": 31, "additions": 28, "deletions": 3}, "files": [{"sha": "1c45c7b1b004332980e70ce125bbd0ee8c8cfe16", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a", "patch": "@@ -1,3 +1,9 @@\n+2008-12-23  Andrew Pinski  <pinski@gmail.com>\n+\n+\tPR middle-end/38590\n+\t* fold-const.c (fold_binary): Call fold_convert on arguments to\n+\tfold_build2 for negative divide optimization.\n+\n 2008-12-23  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/31150"}, {"sha": "74a0a87d3cc29e040a6291e9da180905c334f26b", "filename": "gcc/fold-const.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a", "patch": "@@ -11678,7 +11678,7 @@ fold_binary (enum tree_code code, tree type, tree op0, tree op1)\n \t\t\t\t   WARN_STRICT_OVERFLOW_MISC);\n \t  return fold_build2 (code, type,\n \t\t\t      fold_convert (type, TREE_OPERAND (arg0, 0)),\n-\t\t\t      negate_expr (arg1));\n+\t\t\t      fold_convert (type, negate_expr (arg1)));\n \t}\n       if ((!INTEGRAL_TYPE_P (type) || TYPE_OVERFLOW_UNDEFINED (type))\n \t  && TREE_CODE (arg1) == NEGATE_EXPR\n@@ -11689,8 +11689,9 @@ fold_binary (enum tree_code code, tree type, tree op0, tree op1)\n \t\t\t\t    \"when distributing negation across \"\n \t\t\t\t    \"division\"),\n \t\t\t\t   WARN_STRICT_OVERFLOW_MISC);\n-\t  return fold_build2 (code, type, negate_expr (arg0),\n-\t\t\t      TREE_OPERAND (arg1, 0));\n+\t  return fold_build2 (code, type,\n+\t\t\t      fold_convert (type, negate_expr (arg0)),\n+\t\t\t      fold_convert (type, TREE_OPERAND (arg1, 0)));\n \t}\n \n       /* If arg0 is a multiple of arg1, then rewrite to the fastest div"}, {"sha": "f3e065b20602b704252200ece704a651e87ec658", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a", "patch": "@@ -1,3 +1,9 @@\n+2008-12-23  Andrew Pinski  <pinskia@gmail.com>\n+\n+\tPR middle-end/38590\n+\t* gcc.c-torture/compile/pr38590-1.c: New testcase.\n+\t* gcc.c-torture/compile/pr38590-2.c: New testcase.\n+\n 2008-12-18  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/31150"}, {"sha": "87976546e7bb0b01acd5e81b2b2533bdbe1569d0", "filename": "gcc/testsuite/gcc.c-torture/compile/pr38590-1.c", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr38590-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr38590-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr38590-1.c?ref=12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a", "patch": "@@ -0,0 +1,6 @@\n+\n+int func_75 (int p_76) \n+{\n+  return (1 / (int) -(unsigned int)p_76);\n+}\n+"}, {"sha": "076359d749b0cda3a4b6f8c4bed31262ece7f827", "filename": "gcc/testsuite/gcc.c-torture/compile/pr38590-2.c", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr38590-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr38590-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr38590-2.c?ref=12fda46d3bcf919c1ee2c423c1ddee6b14d0d94a", "patch": "@@ -0,0 +1,6 @@\n+\n+int func_75 (int p_76) \n+{\n+  return (1 / (int) -(unsigned int)p_76) ? 1 : p_76;\n+}\n+"}]}