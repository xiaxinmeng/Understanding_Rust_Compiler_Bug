{"sha": "d269eb53b15547297d21c9499744084a1c042b06", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDI2OWViNTNiMTU1NDcyOTdkMjFjOTQ5OTc0NDA4NGExYzA0MmIwNg==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1999-11-02T06:39:04Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-11-02T06:39:04Z"}, "message": "unroll.c (unroll_loop): Allocate memory for MAP using xcalloc.\n\n        * unroll.c (unroll_loop): Allocate memory for MAP using xcalloc.\n        Remove explicit zero initializations of entries within MAP.\n\nFrom-SVN: r30337", "tree": {"sha": "77412dd1786b7ff924ffc8a94d7acc85e60fa888", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/77412dd1786b7ff924ffc8a94d7acc85e60fa888"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d269eb53b15547297d21c9499744084a1c042b06", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d269eb53b15547297d21c9499744084a1c042b06", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d269eb53b15547297d21c9499744084a1c042b06", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d269eb53b15547297d21c9499744084a1c042b06/comments", "author": null, "committer": null, "parents": [{"sha": "f6d204868afdac29dd604ab9ea246e4a507629d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6d204868afdac29dd604ab9ea246e4a507629d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6d204868afdac29dd604ab9ea246e4a507629d1"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "88e54139554b74930b1502665b4cf08658c92761", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d269eb53b15547297d21c9499744084a1c042b06/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d269eb53b15547297d21c9499744084a1c042b06/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d269eb53b15547297d21c9499744084a1c042b06", "patch": "@@ -1,3 +1,8 @@\n+Mon Nov  1 23:37:38 1999  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* unroll.c (unroll_loop): Allocate memory for MAP using xcalloc.\n+\tRemove explicit zero initializations of entries within MAP.\n+\n Mon Nov  1 18:09:14 1999  Richard Henderson  <rth@cygnus.com>\n \n \t* reg-stack.c (convert_regs_1): Handle EH edges specially."}, {"sha": "feda6e272dadcb046125bb79831d478f1cf032a9", "filename": "gcc/unroll.c", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d269eb53b15547297d21c9499744084a1c042b06/gcc%2Funroll.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d269eb53b15547297d21c9499744084a1c042b06/gcc%2Funroll.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funroll.c?ref=d269eb53b15547297d21c9499744084a1c042b06", "patch": "@@ -682,10 +682,11 @@ unroll_loop (loop_end, insn_count, loop_start, end_insert_before,\n   max_labelno = max_label_num ();\n   max_insnno = get_max_uid ();\n \n-  map = (struct inline_remap *) xmalloc (sizeof (struct inline_remap));\n+  /* Various paths through the unroll code may reach the \"egress\" label\n+     without initializing fields within the map structure.\n \n-  map->integrating = 0;\n-  map->const_equiv_varray = 0;\n+     To be safe, we use xcalloc to zero the memory.  */\n+  map = (struct inline_remap *) xcalloc (1, sizeof (struct inline_remap));\n \n   /* Allocate the label map.  */\n \n@@ -695,8 +696,6 @@ unroll_loop (loop_end, insn_count, loop_start, end_insert_before,\n \n       local_label = (char *) xcalloc (max_labelno, sizeof (char));\n     }\n-  else\n-    map->label_map = 0;\n \n   /* Search the loop and mark all local labels, i.e. the ones which have to\n      be distinct labels when copied.  For all labels which might be"}]}