{"sha": "cd9b76514e47cb923c0b187c35a51e92dbf80126", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2Q5Yjc2NTE0ZTQ3Y2I5MjNjMGIxODdjMzVhNTFlOTJkYmY4MDEyNg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@libertysurf.fr", "date": "2004-03-16T18:42:23Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2004-03-16T18:42:23Z"}, "message": "compat.exp (skip_list): New global variable.\n\n\t* lib/compat.exp (skip_list): New global variable.\n\tUse it to hold the user defined COMPAT_SKIPS list if any.\n\t(compat-obj): Add the members of skip_list to optall.\n\nFrom-SVN: r79540", "tree": {"sha": "10c110b4ae3582797e68b60a5d099adabde81aaf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/10c110b4ae3582797e68b60a5d099adabde81aaf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cd9b76514e47cb923c0b187c35a51e92dbf80126", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd9b76514e47cb923c0b187c35a51e92dbf80126", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd9b76514e47cb923c0b187c35a51e92dbf80126", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd9b76514e47cb923c0b187c35a51e92dbf80126/comments", "author": {"login": "ebotcazou", "id": 48091907, "node_id": "MDQ6VXNlcjQ4MDkxOTA3", "avatar_url": "https://avatars.githubusercontent.com/u/48091907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebotcazou", "html_url": "https://github.com/ebotcazou", "followers_url": "https://api.github.com/users/ebotcazou/followers", "following_url": "https://api.github.com/users/ebotcazou/following{/other_user}", "gists_url": "https://api.github.com/users/ebotcazou/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebotcazou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebotcazou/subscriptions", "organizations_url": "https://api.github.com/users/ebotcazou/orgs", "repos_url": "https://api.github.com/users/ebotcazou/repos", "events_url": "https://api.github.com/users/ebotcazou/events{/privacy}", "received_events_url": "https://api.github.com/users/ebotcazou/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "65e8d2e0e17c7c80703d647f7c3643ba23a2d646", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65e8d2e0e17c7c80703d647f7c3643ba23a2d646", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65e8d2e0e17c7c80703d647f7c3643ba23a2d646"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "847bf1d537a6450dc5875947f028cd12ea54c29f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd9b76514e47cb923c0b187c35a51e92dbf80126/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd9b76514e47cb923c0b187c35a51e92dbf80126/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=cd9b76514e47cb923c0b187c35a51e92dbf80126", "patch": "@@ -1,3 +1,9 @@\n+2004-03-16  Eric Botcazou  <ebotcazou@libertysurf.fr>\n+\n+\t* lib/compat.exp (skip_list): New global variable.\n+\tUse it to hold the user defined COMPAT_SKIPS list if any.\n+\t(compat-obj): Add the members of skip_list to optall.\n+\n 2004-03-16  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \t* gcc.dg/compat/union-by-value-1_main.c,"}, {"sha": "0a7cfec0b0ead946d5824c421f230abb1d19cae2", "filename": "gcc/testsuite/lib/compat.exp", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd9b76514e47cb923c0b187c35a51e92dbf80126/gcc%2Ftestsuite%2Flib%2Fcompat.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd9b76514e47cb923c0b187c35a51e92dbf80126/gcc%2Ftestsuite%2Flib%2Fcompat.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fcompat.exp?ref=cd9b76514e47cb923c0b187c35a51e92dbf80126", "patch": "@@ -49,6 +49,21 @@ if ![info exists COMPAT_OPTIONS] {\n \n set option_list $COMPAT_OPTIONS\n \n+# Subsets of tests can be selectively disabled by members of this list:\n+#  - ATTRIBUTE: disable all tests using the __attribute__ extension,\n+#  - COMPLEX_INT: disable all tests using the complex integral types extension,\n+#  - VA: disable all tests using the variable number of arguments feature,\n+#  - ZERO_ARRAY: disable all tests using the zero-sized arrays extension.\n+# The default skip lists can be overriden by\n+# COMPAT_SKIPS=\"[list {skip_1}...{skip_n}]\"\n+# where skip_i are skip identifiers.  You can put this in the environment\n+# before site.exp is written or add it to site.exp directly.\n+if ![info exists COMPAT_SKIPS] {\n+    set COMPAT_SKIPS [list {}]\n+}\n+\n+set skip_list $COMPAT_SKIPS\n+\n load_lib dg.exp\n load_lib gcc-dg.exp\n \n@@ -66,6 +81,14 @@ proc compat-obj { source dest optall optfile optstr xfaildata } {\n     global testcase\n     global tool\n     global compiler_conditional_xfail_data\n+    global skip_list\n+\n+    # Add the skip specifiers.\n+    foreach skip $skip_list {\n+\tif { ![string match $skip \"\"] } {\n+\t    lappend optall \"-DSKIP_$skip\"\n+\t}\n+    }\n \n     # Set up the options for compiling this file.\n     set options \"\""}]}