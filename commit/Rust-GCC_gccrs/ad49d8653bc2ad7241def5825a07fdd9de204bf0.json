{"sha": "ad49d8653bc2ad7241def5825a07fdd9de204bf0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWQ0OWQ4NjUzYmMyYWQ3MjQxZGVmNTgyNWEwN2ZkZDlkZTIwNGJmMA==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2004-12-20T04:01:20Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2004-12-20T04:01:20Z"}, "message": "re PR bootstrap/19072 (--disable-static bootstrap failure)\n\n2004-12-19  H.J. Lu  <hongjiu.lu@intel.com>\n\n\tPR bootstrap/19072\n\t* Makefile.in (enable_shared): New substitute.\n\t(LTTARGETLIB): New.\n\t(PREFIXTARGETLIB): New.\n\t(LTTESTLIB): New.\n\t(PREFIXTESTLIB): New.\n\t(CCLD): New.\n\t(LINK): New.\n\t($(TARGETLIB)): Use $(LINK) to create libraries and create\n\ttargets by hand.\n\t($(TESTLIB)): Likewise.\n\t(mostlyclean): Don't remove .libs. Remove the libtool object\n\tdirectory.\n\n\t* config.table (enable_shared): Removed.\n\n\t* configure.ac (enable_static): Set to yes.\n\t(AC_PROG_LIBTOOL): Removed.\n\t(AM_DISABLE_SHARED): Uncommented.\n\t(AM_PROG_LIBTOOL): Likewise.\n\t(LIBOBJS): Add `./' to avoid VPATH.\n\t(LTLIBOBJS): Likewise.\n\t(enable_shared): Substitute.\n\t* configure: Regenerated.\n\nFrom-SVN: r92406", "tree": {"sha": "493054be8e82cf0ab4256b3e63449e6dd366c8bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/493054be8e82cf0ab4256b3e63449e6dd366c8bf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ad49d8653bc2ad7241def5825a07fdd9de204bf0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad49d8653bc2ad7241def5825a07fdd9de204bf0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad49d8653bc2ad7241def5825a07fdd9de204bf0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad49d8653bc2ad7241def5825a07fdd9de204bf0/comments", "author": null, "committer": null, "parents": [{"sha": "6efa2c7134708e1554460a84280aa5a7272ba990", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6efa2c7134708e1554460a84280aa5a7272ba990", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6efa2c7134708e1554460a84280aa5a7272ba990"}], "stats": {"total": 2567, "additions": 1319, "deletions": 1248}, "files": [{"sha": "0194e5bbd0554b92e2266941c3c6d897c60251e7", "filename": "libiberty/Makefile.in", "status": "modified", "additions": 40, "deletions": 11, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad49d8653bc2ad7241def5825a07fdd9de204bf0/libiberty%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad49d8653bc2ad7241def5825a07fdd9de204bf0/libiberty%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FMakefile.in?ref=ad49d8653bc2ad7241def5825a07fdd9de204bf0", "patch": "@@ -31,6 +31,8 @@ srcdir = @srcdir@\n \n top_builddir = .\n \n+enable_shared = @enable_shared@\n+\n prefix = @prefix@\n \n exec_prefix = @exec_prefix@\n@@ -70,7 +72,11 @@ PICFLAG =\n MAKEOVERRIDES =\n \n TARGETLIB = ./libiberty.a\n+LTTARGETLIB = ./libiberty.la\n+PREFIXTARGETLIB= ./libiberty\n TESTLIB = ./testlib.a\n+LTTESTLIB = ./testlib.la\n+PREFIXTESTLIB = ./testlib\n \n LIBOBJS = @LIBOBJS@\n LTLIBOBJS = @LTLIBOBJS@\n@@ -121,6 +127,8 @@ INCDIR=$(srcdir)/$(MULTISRCTOP)../include\n \n COMPILE.c = $(CC) -c @DEFS@ $(LIBCFLAGS) -I. -I$(INCDIR) $(HDEFINES) @ac_libiberty_warn_cflags@\n LTCOMPILE = $(LIBTOOL) --mode=compile $(COMPILE.c)\n+CCLD = $(CC)\n+LINK = $(LIBTOOL) --mode=link $(CCLD) $(CFLAGS)\n \n # Just to make sure we don't use a built-in rule with VPATH\n .c.o:\n@@ -259,13 +267,25 @@ INSTALLED_HEADERS =                                                     \\\n \t$(INCDIR)/splay-tree.h                                          \\\n \t$(INCDIR)/ternary.h\n \n+# FIXME: Libtool has to be used to create static and shared libraries\n+# if it is used to compile object files. Since libiberty doesn't really\n+# build shared library, we have to create the libraries we need by hand\n+# and remove those created by libtool.\n $(TARGETLIB): $(REQUIRED_LTOFILES) $(EXTRA_LTOFILES) $(LTLIBOBJS)\n-\t-rm -f $(TARGETLIB) .libs/$(TARGETLIB)\n-\t$(AR) $(AR_FLAGS) $(TARGETLIB) \\\n-\t  $(REQUIRED_OFILES) $(EXTRA_OFILES) $(LIBOBJS)\n-\t$(RANLIB) $(TARGETLIB)\n-\tif [ -d .libs ]; then \\\n-\t  cd .libs; \\\n+\tlibtooldir=`$(LIBTOOL) --config | sed -n -e 's/^objdir=//p'`; \\\n+\trm -f $(TARGETLIB) $$libtooldir/$(TARGETLIB) pic/$(TARGETLIB) \\\n+\t  || true; \\\n+\t$(LINK) -o $(LTTARGETLIB) -rpath $(libdir) \\\n+\t  $(REQUIRED_LTOFILES) $(EXTRA_LTOFILES) $(LTLIBOBJS); \\\n+\tif [ -f $$libtooldir/$(TARGETLIB) ]; then \\\n+\t  cp $$libtooldir/$(TARGETLIB) $(TARGETLIB).tmp; \\\n+\t  $(RANLIB) $(TARGETLIB).tmp; \\\n+\t  $(SHELL) $(srcdir)/../move-if-change \\\n+\t    $(TARGETLIB).tmp $(TARGETLIB); \\\n+\telse true; fi; \\\n+\trm -f $(LTTARGETLIB) $$libtooldir/$(PREFIXTARGETLIB)*; \\\n+\tif [ x$(enable_shared) = xyes ]; then \\\n+\t  cd $$libtooldir; \\\n \t  $(AR) $(AR_FLAGS) $(TARGETLIB) \\\n \t    $(REQUIRED_OFILES) $(EXTRA_OFILES) $(LIBOBJS); \\\n \t  $(RANLIB) $(TARGETLIB); \\\n@@ -276,10 +296,17 @@ $(TARGETLIB): $(REQUIRED_LTOFILES) $(EXTRA_LTOFILES) $(LTLIBOBJS)\n \telse true; fi\n \n $(TESTLIB): $(REQUIRED_LTOFILES) $(CONFIGURED_LTOFILES)\n-\t-rm -f $(TESTLIB)\n-\t$(AR) $(AR_FLAGS) $(TESTLIB) \\\n-\t  $(REQUIRED_OFILES) $(CONFIGURED_OFILES)\n-\t$(RANLIB) $(TESTLIB)\n+\tlibtooldir=`$(LIBTOOL) --config | sed -n -e 's/^objdir=//p'`; \\\n+\trm -f $(TESTLIB) $$libtooldir/$(TESTLIB) || true; \\\n+\t$(LINK) -o $(LTTESTLIB) -rpath $(libdir) \\\n+\t  $(REQUIRED_LTOFILES) $(CONFIGURED_LTOFILES); \\\n+\tif [ -f $$libtooldir/$(TESTLIB) ]; then \\\n+\t  cp $$libtooldir/$(TESTLIB) $(TESTLIB).tmp; \\\n+\t  $(RANLIB) $(TESTLIB).tmp; \\\n+\t  $(SHELL) $(srcdir)/../move-if-change \\\n+\t    $(TESTLIB).tmp $(TESTLIB); \\\n+\telse true; fi; \\\n+\trm -f $(LTTESTLIB) $$libtooldir/$(PREFIXTESTLIB)*\n \n info: libiberty.info info-subdir\n install-info: install-info-subdir\n@@ -402,7 +429,9 @@ maint-deps :\n # Cleaning has to be done carefully to ensure that we don't clean our SUBDIRS\n # multiple times, hence our explicit recursion with an empty SUBDIRS.\n mostlyclean: mostlyclean-subdir\n-\t-rm -rf *.o *.lo pic .libs core errs \\#* *.E a.out\n+\t-libtooldir=`$(LIBTOOL) --config | sed -n -e 's/^objdir=//p'`; \\\n+\t  rm -f $$libtooldir\n+\t-rm -rf *.o *.lo pic core errs \\#* *.E a.out\n \t-rm -f needed.awk needed2.awk errors dummy needed-list config.h stamp-*\n \t-rm -f $(CONFIG_H) $(NEEDED_LIST)\n \t-rm -f libiberty.aux libiberty.cp libiberty.cps libiberty.fn libiberty.ky"}, {"sha": "f1f3fdf55c8669a4ede46362540d1770dbf5391d", "filename": "libiberty/config.table", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad49d8653bc2ad7241def5825a07fdd9de204bf0/libiberty%2Fconfig.table", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad49d8653bc2ad7241def5825a07fdd9de204bf0/libiberty%2Fconfig.table", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfig.table?ref=ad49d8653bc2ad7241def5825a07fdd9de204bf0", "patch": "@@ -30,12 +30,5 @@ for frag in ${frags}; do\n   fi\n done\n \n-# record if we want to build shared libs.\n-if [ \"${shared}\" = \"yes\" ]; then\n-  echo enable_shared = yes >> temp-frag\n-else\n-  echo enable_shared = no >> temp-frag\n-fi\n-\n frag=xhost-mkfrag\n ${CONFIG_SHELL-/bin/sh} ${libiberty_topdir}/move-if-change temp-frag xhost-mkfrag"}, {"sha": "3d35e67904666a3e2255559e8b81b3cf9751b852", "filename": "libiberty/configure", "status": "modified", "additions": 1250, "deletions": 1224, "changes": 2474, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad49d8653bc2ad7241def5825a07fdd9de204bf0/libiberty%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad49d8653bc2ad7241def5825a07fdd9de204bf0/libiberty%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure?ref=ad49d8653bc2ad7241def5825a07fdd9de204bf0", "patch": "@@ -309,7 +309,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS libiberty_topdir MAINT NOTMAINT MAKEINFO BUILD_INFO PERL HAVE_PERL build build_cpu build_vendor build_os host host_cpu host_vendor host_os AR ac_ct_AR RANLIB ac_ct_RANLIB CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT CPP LN_S STRIP ac_ct_STRIP LIBTOOL ac_libiberty_warn_cflags INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA EGREP LIBOBJS CHECK target_header_dir pexecute ltpexecute INSTALL_DEST LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS libiberty_topdir MAINT NOTMAINT MAKEINFO BUILD_INFO PERL HAVE_PERL build build_cpu build_vendor build_os host host_cpu host_vendor host_os AR ac_ct_AR RANLIB ac_ct_RANLIB CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT CPP ac_libiberty_warn_cflags LN_S STRIP ac_ct_STRIP LIBTOOL INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA EGREP LIBOBJS CHECK target_header_dir pexecute ltpexecute INSTALL_DEST enable_shared LTLIBOBJS'\n ac_subst_files='host_makefile_frag'\n \n # Initialize some variables set by options.\n@@ -847,7 +847,7 @@ Optional Features:\n   --enable-maintainer-mode\n                           enable make rules and dependencies not useful\n                           (and sometimes confusing) to the casual installer\n-  --enable-shared=PKGS  build shared libraries default=yes\n+  --enable-shared=PKGS  build shared libraries default=no\n   --enable-static=PKGS  build static libraries default=yes\n   --enable-fast-install=PKGS  optimize for fast installation default=yes\n   --disable-libtool-lock  avoid locking (might break parallel builds)\n@@ -1311,6 +1311,9 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n+\n+# FIXME: libiberty doesn't support --disable-static\n+enable_static=yes\n \n # This works around the fact that libtool configuration may change LD\n # for this particular configuration, but some shells, instead of\n@@ -2935,1287 +2938,1277 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n ac_c_preproc_warn_flag=yes\n \n-# Check whether --enable-shared or --disable-shared was given.\n-if test \"${enable_shared+set}\" = set; then\n-  enableval=\"$enable_shared\"\n-  p=${PACKAGE-default}\n-case $enableval in\n-yes) enable_shared=yes ;;\n-no) enable_shared=no ;;\n-*)\n-  enable_shared=no\n-  # Look at the argument we got.  We use all the common list separators.\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n-  for pkg in $enableval; do\n-    if test \"X$pkg\" = \"X$p\"; then\n-      enable_shared=yes\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-  ;;\n-esac\n-else\n-  enable_shared=yes\n-fi;\n-# Check whether --enable-static or --disable-static was given.\n-if test \"${enable_static+set}\" = set; then\n-  enableval=\"$enable_static\"\n-  p=${PACKAGE-default}\n-case $enableval in\n-yes) enable_static=yes ;;\n-no) enable_static=no ;;\n-*)\n-  enable_static=no\n-  # Look at the argument we got.  We use all the common list separators.\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n-  for pkg in $enableval; do\n-    if test \"X$pkg\" = \"X$p\"; then\n-      enable_static=yes\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-  ;;\n-esac\n-else\n-  enable_static=yes\n-fi;\n-# Check whether --enable-fast-install or --disable-fast-install was given.\n-if test \"${enable_fast_install+set}\" = set; then\n-  enableval=\"$enable_fast_install\"\n-  p=${PACKAGE-default}\n-case $enableval in\n-yes) enable_fast_install=yes ;;\n-no) enable_fast_install=no ;;\n-*)\n-  enable_fast_install=no\n-  # Look at the argument we got.  We use all the common list separators.\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n-  for pkg in $enableval; do\n-    if test \"X$pkg\" = \"X$p\"; then\n-      enable_fast_install=yes\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-  ;;\n-esac\n-else\n-  enable_fast_install=yes\n-fi;\n-\n-# Check whether --with-gnu-ld or --without-gnu-ld was given.\n-if test \"${with_gnu_ld+set}\" = set; then\n-  withval=\"$with_gnu_ld\"\n-  test \"$withval\" = no || with_gnu_ld=yes\n-else\n-  with_gnu_ld=no\n-fi;\n-ac_prog=ld\n-if test \"$GCC\" = yes; then\n-  # Check if gcc -print-prog-name=ld gives a path.\n-  echo \"$as_me:$LINENO: checking for ld used by GCC\" >&5\n-echo $ECHO_N \"checking for ld used by GCC... $ECHO_C\" >&6\n-  case $host in\n-  *-*-mingw*)\n-    # gcc leaves a trailing carriage return which upsets mingw\n-    ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\\015'` ;;\n-  *)\n-    ac_prog=`($CC -print-prog-name=ld) 2>&5` ;;\n-  esac\n-  case $ac_prog in\n-    # Accept absolute paths.\n-    [\\\\/]* | [A-Za-z]:[\\\\/]*)\n-      re_direlt='/[^/][^/]*/\\.\\./'\n-      # Canonicalize the path of ld\n-      ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n-      while echo $ac_prog | grep \"$re_direlt\" > /dev/null 2>&1; do\n-\tac_prog=`echo $ac_prog| sed \"s%$re_direlt%/%\"`\n-      done\n-      test -z \"$LD\" && LD=\"$ac_prog\"\n-      ;;\n-  \"\")\n-    # If it fails, then pretend we aren't using GCC.\n-    ac_prog=ld\n-    ;;\n-  *)\n-    # If it is relative, then search for the first ld in PATH.\n-    with_gnu_ld=unknown\n-    ;;\n-  esac\n-elif test \"$with_gnu_ld\" = yes; then\n-  echo \"$as_me:$LINENO: checking for GNU ld\" >&5\n-echo $ECHO_N \"checking for GNU ld... $ECHO_C\" >&6\n-else\n-  echo \"$as_me:$LINENO: checking for non-GNU ld\" >&5\n-echo $ECHO_N \"checking for non-GNU ld... $ECHO_C\" >&6\n+if test x$GCC = xyes; then\n+  ac_libiberty_warn_cflags='-W -Wall -Wtraditional -pedantic'\n fi\n-if test \"${lt_cv_path_LD+set}\" = set; then\n+\n+\n+\n+echo \"$as_me:$LINENO: checking for an ANSI C-conforming const\" >&5\n+echo $ECHO_N \"checking for an ANSI C-conforming const... $ECHO_C\" >&6\n+if test \"${ac_cv_c_const+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  if test -z \"$LD\"; then\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n-  for ac_dir in $PATH; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n-      lt_cv_path_LD=\"$ac_dir/$ac_prog\"\n-      # Check to see if the program is GNU ld.  I'd rather use --version,\n-      # but apparently some GNU ld's only accept -v.\n-      # Break only if it was the GNU/non-GNU ld that we prefer.\n-      if \"$lt_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n-\ttest \"$with_gnu_ld\" != no && break\n-      else\n-\ttest \"$with_gnu_ld\" != yes && break\n-      fi\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+/* FIXME: Include the comments suggested by Paul. */\n+#ifndef __cplusplus\n+  /* Ultrix mips cc rejects this.  */\n+  typedef int charset[2];\n+  const charset x;\n+  /* SunOS 4.1.1 cc rejects this.  */\n+  char const *const *ccp;\n+  char **p;\n+  /* NEC SVR4.0.2 mips cc rejects this.  */\n+  struct point {int x, y;};\n+  static struct point const zero = {0,0};\n+  /* AIX XL C 1.02.0.0 rejects this.\n+     It does not let you subtract one const X* pointer from another in\n+     an arm of an if-expression whose if-part is not a constant\n+     expression */\n+  const char *g = \"string\";\n+  ccp = &g + (g ? g-g : 0);\n+  /* HPUX 7.0 cc rejects these. */\n+  ++ccp;\n+  p = (char**) ccp;\n+  ccp = (char const *const *) p;\n+  { /* SCO 3.2v4 cc rejects this.  */\n+    char *t;\n+    char const *s = 0 ? (char *) 0 : (char const *) 0;\n+\n+    *t++ = 0;\n+  }\n+  { /* Someone thinks the Sun supposedly-ANSI compiler will reject this.  */\n+    int x[] = {25, 17};\n+    const int *foo = &x[0];\n+    ++foo;\n+  }\n+  { /* Sun SC1.0 ANSI compiler rejects this -- but not the above. */\n+    typedef const int *iptr;\n+    iptr p = 0;\n+    ++p;\n+  }\n+  { /* AIX XL C 1.02.0.0 rejects this saying\n+       \"k.c\", line 2.27: 1506-025 (S) Operand must be a modifiable lvalue. */\n+    struct s { int j; const int *ap[3]; };\n+    struct s *b; b->j = 5;\n+  }\n+  { /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */\n+    const int foo = 10;\n+  }\n+#endif\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_cv_c_const=yes\n else\n-  lt_cv_path_LD=\"$LD\" # Let the user override the test with a path.\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_cv_c_const=no\n fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n fi\n+echo \"$as_me:$LINENO: result: $ac_cv_c_const\" >&5\n+echo \"${ECHO_T}$ac_cv_c_const\" >&6\n+if test $ac_cv_c_const = no; then\n+\n+cat >>confdefs.h <<\\_ACEOF\n+#define const\n+_ACEOF\n \n-LD=\"$lt_cv_path_LD\"\n-if test -n \"$LD\"; then\n-  echo \"$as_me:$LINENO: result: $LD\" >&5\n-echo \"${ECHO_T}$LD\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n fi\n-test -z \"$LD\" && { { echo \"$as_me:$LINENO: error: no acceptable ld found in \\$PATH\" >&5\n-echo \"$as_me: error: no acceptable ld found in \\$PATH\" >&2;}\n-   { (exit 1); exit 1; }; }\n-echo \"$as_me:$LINENO: checking if the linker ($LD) is GNU ld\" >&5\n-echo $ECHO_N \"checking if the linker ($LD) is GNU ld... $ECHO_C\" >&6\n-if test \"${lt_cv_prog_gnu_ld+set}\" = set; then\n+\n+echo \"$as_me:$LINENO: checking for inline\" >&5\n+echo $ECHO_N \"checking for inline... $ECHO_C\" >&6\n+if test \"${ac_cv_c_inline+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  # I'd rather use --version here, but apparently some GNU ld's only accept -v.\n-if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n-  lt_cv_prog_gnu_ld=yes\n-else\n-  lt_cv_prog_gnu_ld=no\n-fi\n-fi\n-echo \"$as_me:$LINENO: result: $lt_cv_prog_gnu_ld\" >&5\n-echo \"${ECHO_T}$lt_cv_prog_gnu_ld\" >&6\n-with_gnu_ld=$lt_cv_prog_gnu_ld\n-\n+  ac_cv_c_inline=no\n+for ac_kw in inline __inline__ __inline; do\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#ifndef __cplusplus\n+typedef int foo_t;\n+static $ac_kw foo_t static_foo () {return 0; }\n+$ac_kw foo_t foo () {return 0; }\n+#endif\n \n-echo \"$as_me:$LINENO: checking for $LD option to reload object files\" >&5\n-echo $ECHO_N \"checking for $LD option to reload object files... $ECHO_C\" >&6\n-if test \"${lt_cv_ld_reload_flag+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_cv_c_inline=$ac_kw; break\n else\n-  lt_cv_ld_reload_flag='-r'\n-fi\n-echo \"$as_me:$LINENO: result: $lt_cv_ld_reload_flag\" >&5\n-echo \"${ECHO_T}$lt_cv_ld_reload_flag\" >&6\n-reload_flag=$lt_cv_ld_reload_flag\n-test -n \"$reload_flag\" && reload_flag=\" $reload_flag\"\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n \n-echo \"$as_me:$LINENO: checking for BSD-compatible nm\" >&5\n-echo $ECHO_N \"checking for BSD-compatible nm... $ECHO_C\" >&6\n-if test \"${lt_cv_path_NM+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  if test -n \"$NM\"; then\n-  # Let the user override the test.\n-  lt_cv_path_NM=\"$NM\"\n-else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n-  for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    tmp_nm=$ac_dir/${ac_tool_prefix}nm\n-    if test -f $tmp_nm || test -f $tmp_nm$ac_exeext ; then\n-      # Check to see if the nm accepts a BSD-compat flag.\n-      # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n-      #   nm: unknown option \"B\" ignored\n-      # Tru64's nm complains that /dev/null is an invalid object file\n-      if ($tmp_nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep '(/dev/null|Invalid file or object type)' >/dev/null; then\n-\tlt_cv_path_NM=\"$tmp_nm -B\"\n-\tbreak\n-      elif ($tmp_nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n-\tlt_cv_path_NM=\"$tmp_nm -p\"\n-\tbreak\n-      else\n-\tlt_cv_path_NM=${lt_cv_path_NM=\"$tmp_nm\"} # keep the first match, but\n-\tcontinue # so that we can try to find one that supports BSD flags\n-      fi\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-  test -z \"$lt_cv_path_NM\" && lt_cv_path_NM=nm\n fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+done\n+\n fi\n+echo \"$as_me:$LINENO: result: $ac_cv_c_inline\" >&5\n+echo \"${ECHO_T}$ac_cv_c_inline\" >&6\n \n-NM=\"$lt_cv_path_NM\"\n-echo \"$as_me:$LINENO: result: $NM\" >&5\n-echo \"${ECHO_T}$NM\" >&6\n \n-echo \"$as_me:$LINENO: checking whether ln -s works\" >&5\n-echo $ECHO_N \"checking whether ln -s works... $ECHO_C\" >&6\n-LN_S=$as_ln_s\n-if test \"$LN_S\" = \"ln -s\"; then\n-  echo \"$as_me:$LINENO: result: yes\" >&5\n-echo \"${ECHO_T}yes\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no, using $LN_S\" >&5\n-echo \"${ECHO_T}no, using $LN_S\" >&6\n-fi\n+case $ac_cv_c_inline in\n+  inline | yes) ;;\n+  *)\n+    case $ac_cv_c_inline in\n+      no) ac_val=;;\n+      *) ac_val=$ac_cv_c_inline;;\n+    esac\n+    cat >>confdefs.h <<_ACEOF\n+#ifndef __cplusplus\n+#define inline $ac_val\n+#endif\n+_ACEOF\n+    ;;\n+esac\n \n-echo \"$as_me:$LINENO: checking how to recognise dependant libraries\" >&5\n-echo $ECHO_N \"checking how to recognise dependant libraries... $ECHO_C\" >&6\n-if test \"${lt_cv_deplibs_check_method+set}\" = set; then\n+echo \"$as_me:$LINENO: checking whether byte ordering is bigendian\" >&5\n+echo $ECHO_N \"checking whether byte ordering is bigendian... $ECHO_C\" >&6\n+if test \"${ac_cv_c_bigendian+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  lt_cv_file_magic_cmd='$MAGIC_CMD'\n-lt_cv_file_magic_test_file=\n-lt_cv_deplibs_check_method='unknown'\n-# Need to set the preceding variable on all platforms that support\n-# interlibrary dependencies.\n-# 'none' -- dependencies not supported.\n-# `unknown' -- same as none, but documents that we really don't know.\n-# 'pass_all' -- all dependencies passed with no checks.\n-# 'test_compile' -- check by making test program.\n-# 'file_magic [regex]' -- check by looking for files in library path\n-# which responds to the $file_magic_cmd with a given egrep regex.\n-# If you have `file' or equivalent on your system and you're not sure\n-# whether `pass_all' will *always* work, you probably want this one.\n-\n-case $host_os in\n-aix*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-beos*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-bsdi4*)\n-  lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'\n-  lt_cv_file_magic_cmd='/usr/bin/file -L'\n-  lt_cv_file_magic_test_file=/shlib/libc.so\n-  ;;\n-\n-cygwin* | mingw* |pw32*)\n-  lt_cv_deplibs_check_method='file_magic file format pei*-i386(.*architecture: i386)?'\n-  lt_cv_file_magic_cmd='$OBJDUMP -f'\n-  ;;\n-\n-darwin* | rhapsody*)\n-  # this will be overwritten by pass_all, but leave it in just in case\n-  lt_cv_deplibs_check_method='file_magic Mach-O dynamically linked shared library'\n-  lt_cv_file_magic_cmd='/usr/bin/file -L'\n-  case \"$host_os\" in\n-  rhapsody* | darwin1.012)\n-    lt_cv_file_magic_test_file='/System/Library/Frameworks/System.framework/System'\n-    ;;\n-  *) # Darwin 1.3 on\n-    lt_cv_file_magic_test_file='/usr/lib/libSystem.dylib'\n-    ;;\n-  esac\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n+  ac_cv_c_bigendian=unknown\n+# See if sys/param.h defines the BYTE_ORDER macro.\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <sys/types.h>\n+#include <sys/param.h>\n+int\n+main ()\n+{\n \n-freebsd* | kfreebsd*-gnu)\n-  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then\n-    case $host_cpu in\n-    i*86 )\n-      # Not sure whether the presence of OpenBSD here was a mistake.\n-      # Let's accept both of them until this is cleared up.\n-      lt_cv_deplibs_check_method='file_magic (FreeBSD|OpenBSD)/i[3-9]86 (compact )?demand paged shared library'\n-      lt_cv_file_magic_cmd=/usr/bin/file\n-      lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`\n-      ;;\n-    esac\n-  else\n-    lt_cv_deplibs_check_method=pass_all\n-  fi\n-  ;;\n+#if !BYTE_ORDER || !BIG_ENDIAN || !LITTLE_ENDIAN\n+ bogus endian macros\n+#endif\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  # It does; now see whether it defined to BIG_ENDIAN or not.\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <sys/types.h>\n+#include <sys/param.h>\n+int\n+main ()\n+{\n \n-gnu*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n+#if BYTE_ORDER != BIG_ENDIAN\n+ not big endian\n+#endif\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_cv_c_bigendian=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n \n-hpux10.20*|hpux11*)\n-  case $host_cpu in\n-  hppa*)\n-    lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|PA-RISC[0-9].[0-9]) shared library'\n-    lt_cv_file_magic_cmd=/usr/bin/file\n-    lt_cv_file_magic_test_file=/usr/lib/libc.sl\n-    ;;\n-  ia64*)\n-    lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|ELF-[0-9][0-9]) shared object file - IA64'\n-    lt_cv_file_magic_cmd=/usr/bin/file\n-    lt_cv_file_magic_test_file=/usr/lib/hpux32/libc.so\n-    ;;\n-  esac\n-  ;;\n+ac_cv_c_bigendian=no\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n \n-irix5* | irix6*)\n-  case $host_os in\n-  irix5*)\n-    # this will be overridden with pass_all, but let us keep it just in case\n-    lt_cv_deplibs_check_method=\"file_magic ELF 32-bit MSB dynamic lib MIPS - version 1\"\n-    ;;\n-  *)\n-    case $LD in\n-    *-32|*\"-32 \") libmagic=32-bit;;\n-    *-n32|*\"-n32 \") libmagic=N32;;\n-    *-64|*\"-64 \") libmagic=64-bit;;\n-    *) libmagic=never-match;;\n-    esac\n-    # this will be overridden with pass_all, but let us keep it just in case\n-    lt_cv_deplibs_check_method=\"file_magic ELF ${libmagic} MSB mips-[1234] dynamic lib MIPS - version 1\"\n-    ;;\n-  esac\n-  lt_cv_file_magic_test_file=`echo /lib${libsuff}/libc.so*`\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+if test $ac_cv_c_bigendian = unknown; then\n+if test \"$cross_compiling\" = yes; then\n+   echo $ac_n \"cross-compiling... \" 2>&6\n+else\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+main () {\n+  /* Are we little or big endian?  From Harbison&Steele.  */\n+  union\n+  {\n+    long l;\n+    char c[sizeof (long)];\n+  } u;\n+  u.l = 1;\n+  exit (u.c[sizeof (long) - 1] == 1);\n+}\n+_ACEOF\n+rm -f conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_cv_c_bigendian=no\n+else\n+  echo \"$as_me: program exited with status $ac_status\" >&5\n+echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n \n-# This must be Linux ELF.\n-linux-gnu*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n+( exit $ac_status )\n+ac_cv_c_bigendian=yes\n+fi\n+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+fi\n+fi\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_c_bigendian\" >&5\n+echo \"${ECHO_T}$ac_cv_c_bigendian\" >&6\n+if test $ac_cv_c_bigendian = unknown; then\n+echo \"$as_me:$LINENO: checking to probe for byte ordering\" >&5\n+echo $ECHO_N \"checking to probe for byte ordering... $ECHO_C\" >&6\n \n-netbsd* | knetbsd*-gnu)\n-  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then\n-    lt_cv_deplibs_check_method='match_pattern /lib[^/\\.]+\\.so\\.[0-9]+\\.[0-9]+$'\n-  else\n-    lt_cv_deplibs_check_method='match_pattern /lib[^/\\.]+\\.so$'\n+cat >conftest.c <<EOF\n+short ascii_mm[] = { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };\n+short ascii_ii[] = { 0x694C, 0x5454, 0x656C, 0x6E45, 0x6944, 0x6E61, 0 };\n+void _ascii() { char* s = (char*) ascii_mm; s = (char*) ascii_ii; }\n+short ebcdic_ii[] = { 0x89D3, 0xE3E3, 0x8593, 0x95C5, 0x89C4, 0x9581, 0 };\n+short ebcdic_mm[] = { 0xC2C9, 0xC785, 0x95C4, 0x8981, 0x95E2, 0xA8E2, 0 };\n+void _ebcdic() { char* s = (char*) ebcdic_mm; s = (char*) ebcdic_ii; }\n+int main() { _ascii (); _ebcdic (); return 0; }\n+EOF\n+ if test -f conftest.c ; then\n+     if ${CC-cc} ${CFLAGS} -c conftest.c -o conftest.o && test -f conftest.o ; then\n+        if test `grep -l BIGenDianSyS conftest.o` ; then\n+           echo $ac_n ' big endian probe OK, ' 1>&6\n+           ac_cv_c_bigendian=yes\n+        fi\n+        if test `grep -l LiTTleEnDian conftest.o` ; then\n+           echo $ac_n ' little endian probe OK, ' 1>&6\n+           if test $ac_cv_c_bigendian = yes ; then\n+            ac_cv_c_bigendian=unknown;\n+           else\n+            ac_cv_c_bigendian=no\n+           fi\n+        fi\n+        echo $ac_n 'guessing bigendian ...  ' >&6\n+     fi\n   fi\n-  ;;\n-\n-newsos6)\n-  lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (executable|dynamic lib)'\n-  lt_cv_file_magic_cmd=/usr/bin/file\n-  lt_cv_file_magic_test_file=/usr/lib/libnls.so\n-  ;;\n-\n-osf3* | osf4* | osf5*)\n-  # this will be overridden with pass_all, but let us keep it just in case\n-  lt_cv_deplibs_check_method='file_magic COFF format alpha shared library'\n-  lt_cv_file_magic_test_file=/shlib/libc.so\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-sco3.2v5*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n+echo \"$as_me:$LINENO: result: $ac_cv_c_bigendian\" >&5\n+echo \"${ECHO_T}$ac_cv_c_bigendian\" >&6\n+fi\n+if test $ac_cv_c_bigendian = yes; then\n \n-solaris*)\n-  lt_cv_deplibs_check_method=pass_all\n-  lt_cv_file_magic_test_file=/lib/libc.so\n-  ;;\n+cat >>confdefs.h <<\\_ACEOF\n+#define WORDS_BIGENDIAN 1\n+_ACEOF\n \n-sysv5uw[78]* | sysv4*uw2*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n \n-sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)\n-  case $host_vendor in\n-  ncr)\n-    lt_cv_deplibs_check_method=pass_all\n-    ;;\n-  motorola)\n-    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib) M[0-9][0-9]* Version [0-9]'\n-    lt_cv_file_magic_test_file=`echo /usr/lib/libc.so*`\n-    ;;\n-  esac\n-  ;;\n-esac\n+cat >>confdefs.h <<\\_ACEOF\n+#define HOST_WORDS_BIG_ENDIAN 1\n+_ACEOF\n \n+  BYTEORDER=4321\n+else\n+  BYTEORDER=1234\n fi\n-echo \"$as_me:$LINENO: result: $lt_cv_deplibs_check_method\" >&5\n-echo \"${ECHO_T}$lt_cv_deplibs_check_method\" >&6\n-file_magic_cmd=$lt_cv_file_magic_cmd\n-deplibs_check_method=$lt_cv_deplibs_check_method\n-\n-\n \n+cat >>confdefs.h <<_ACEOF\n+#define BYTEORDER $BYTEORDER\n+_ACEOF\n \n+if test $ac_cv_c_bigendian = unknown; then\n+  { { echo \"$as_me:$LINENO: error: unknown endianess - sorry, please pre-set ac_cv_c_bigendian\" >&5\n+echo \"$as_me: error: unknown endianess - sorry, please pre-set ac_cv_c_bigendian\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n \n-# Autoconf 2.13's AC_OBJEXT and AC_EXEEXT macros only works for C compilers!\n \n-# Only perform the check for file, if the check method requires it\n-case $deplibs_check_method in\n-file_magic*)\n-  if test \"$file_magic_cmd\" = '$MAGIC_CMD'; then\n-    echo \"$as_me:$LINENO: checking for ${ac_tool_prefix}file\" >&5\n-echo $ECHO_N \"checking for ${ac_tool_prefix}file... $ECHO_C\" >&6\n-if test \"${lt_cv_path_MAGIC_CMD+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  case $MAGIC_CMD in\n-  /*)\n-  lt_cv_path_MAGIC_CMD=\"$MAGIC_CMD\" # Let the user override the test with a path.\n-  ;;\n-  ?:/*)\n-  lt_cv_path_MAGIC_CMD=\"$MAGIC_CMD\" # Let the user override the test with a dos path.\n+# Check whether --enable-shared or --disable-shared was given.\n+if test \"${enable_shared+set}\" = set; then\n+  enableval=\"$enable_shared\"\n+  p=${PACKAGE-default}\n+case $enableval in\n+yes) enable_shared=yes ;;\n+no) enable_shared=no ;;\n+*)\n+  enable_shared=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_shared=yes\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n   ;;\n-  *)\n-  ac_save_MAGIC_CMD=\"$MAGIC_CMD\"\n-  IFS=\"${IFS=   }\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"/usr/bin:$PATH\"\n-  for ac_dir in $ac_dummy; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/${ac_tool_prefix}file; then\n-      lt_cv_path_MAGIC_CMD=\"$ac_dir/${ac_tool_prefix}file\"\n-      if test -n \"$file_magic_test_file\"; then\n-\tcase $deplibs_check_method in\n-\t\"file_magic \"*)\n-\t  file_magic_regex=\"`expr \\\"$deplibs_check_method\\\" : \\\"file_magic \\(.*\\)\\\"`\"\n-\t  MAGIC_CMD=\"$lt_cv_path_MAGIC_CMD\"\n-\t  if eval $file_magic_cmd \\$file_magic_test_file 2> /dev/null |\n-\t    egrep \"$file_magic_regex\" > /dev/null; then\n-\t    :\n-\t  else\n-\t    cat <<EOF 1>&2\n-\n-*** Warning: the command libtool uses to detect shared libraries,\n-*** $file_magic_cmd, produces output that libtool cannot recognize.\n-*** The result is that libtool may fail to recognize shared libraries\n-*** as such.  This will affect the creation of libtool libraries that\n-*** depend on shared libraries, but programs linked with such libtool\n-*** libraries will work regardless of this problem.  Nevertheless, you\n-*** may want to report the problem to your system manager and/or to\n-*** bug-libtool@gnu.org\n+esac\n+else\n+  enable_shared=no\n+fi;\n \n-EOF\n-\t  fi ;;\n-\tesac\n-      fi\n-      break\n+# Check whether --enable-static or --disable-static was given.\n+if test \"${enable_static+set}\" = set; then\n+  enableval=\"$enable_static\"\n+  p=${PACKAGE-default}\n+case $enableval in\n+yes) enable_static=yes ;;\n+no) enable_static=no ;;\n+*)\n+  enable_static=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_static=yes\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n-  MAGIC_CMD=\"$ac_save_MAGIC_CMD\"\n   ;;\n esac\n-fi\n-\n-MAGIC_CMD=\"$lt_cv_path_MAGIC_CMD\"\n-if test -n \"$MAGIC_CMD\"; then\n-  echo \"$as_me:$LINENO: result: $MAGIC_CMD\" >&5\n-echo \"${ECHO_T}$MAGIC_CMD\" >&6\n else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n+  enable_static=yes\n+fi;\n+# Check whether --enable-fast-install or --disable-fast-install was given.\n+if test \"${enable_fast_install+set}\" = set; then\n+  enableval=\"$enable_fast_install\"\n+  p=${PACKAGE-default}\n+case $enableval in\n+yes) enable_fast_install=yes ;;\n+no) enable_fast_install=no ;;\n+*)\n+  enable_fast_install=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_fast_install=yes\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  ;;\n+esac\n+else\n+  enable_fast_install=yes\n+fi;\n \n-if test -z \"$lt_cv_path_MAGIC_CMD\"; then\n-  if test -n \"$ac_tool_prefix\"; then\n-    echo \"$as_me:$LINENO: checking for file\" >&5\n-echo $ECHO_N \"checking for file... $ECHO_C\" >&6\n-if test \"${lt_cv_path_MAGIC_CMD+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+# Check whether --with-gnu-ld or --without-gnu-ld was given.\n+if test \"${with_gnu_ld+set}\" = set; then\n+  withval=\"$with_gnu_ld\"\n+  test \"$withval\" = no || with_gnu_ld=yes\n else\n-  case $MAGIC_CMD in\n-  /*)\n-  lt_cv_path_MAGIC_CMD=\"$MAGIC_CMD\" # Let the user override the test with a path.\n-  ;;\n-  ?:/*)\n-  lt_cv_path_MAGIC_CMD=\"$MAGIC_CMD\" # Let the user override the test with a dos path.\n-  ;;\n+  with_gnu_ld=no\n+fi;\n+ac_prog=ld\n+if test \"$GCC\" = yes; then\n+  # Check if gcc -print-prog-name=ld gives a path.\n+  echo \"$as_me:$LINENO: checking for ld used by GCC\" >&5\n+echo $ECHO_N \"checking for ld used by GCC... $ECHO_C\" >&6\n+  case $host in\n+  *-*-mingw*)\n+    # gcc leaves a trailing carriage return which upsets mingw\n+    ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\\015'` ;;\n   *)\n-  ac_save_MAGIC_CMD=\"$MAGIC_CMD\"\n-  IFS=\"${IFS=   }\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"/usr/bin:$PATH\"\n-  for ac_dir in $ac_dummy; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/file; then\n-      lt_cv_path_MAGIC_CMD=\"$ac_dir/file\"\n-      if test -n \"$file_magic_test_file\"; then\n-\tcase $deplibs_check_method in\n-\t\"file_magic \"*)\n-\t  file_magic_regex=\"`expr \\\"$deplibs_check_method\\\" : \\\"file_magic \\(.*\\)\\\"`\"\n-\t  MAGIC_CMD=\"$lt_cv_path_MAGIC_CMD\"\n-\t  if eval $file_magic_cmd \\$file_magic_test_file 2> /dev/null |\n-\t    egrep \"$file_magic_regex\" > /dev/null; then\n-\t    :\n-\t  else\n-\t    cat <<EOF 1>&2\n-\n-*** Warning: the command libtool uses to detect shared libraries,\n-*** $file_magic_cmd, produces output that libtool cannot recognize.\n-*** The result is that libtool may fail to recognize shared libraries\n-*** as such.  This will affect the creation of libtool libraries that\n-*** depend on shared libraries, but programs linked with such libtool\n-*** libraries will work regardless of this problem.  Nevertheless, you\n-*** may want to report the problem to your system manager and/or to\n-*** bug-libtool@gnu.org\n-\n-EOF\n-\t  fi ;;\n-\tesac\n+    ac_prog=`($CC -print-prog-name=ld) 2>&5` ;;\n+  esac\n+  case $ac_prog in\n+    # Accept absolute paths.\n+    [\\\\/]* | [A-Za-z]:[\\\\/]*)\n+      re_direlt='/[^/][^/]*/\\.\\./'\n+      # Canonicalize the path of ld\n+      ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n+      while echo $ac_prog | grep \"$re_direlt\" > /dev/null 2>&1; do\n+\tac_prog=`echo $ac_prog| sed \"s%$re_direlt%/%\"`\n+      done\n+      test -z \"$LD\" && LD=\"$ac_prog\"\n+      ;;\n+  \"\")\n+    # If it fails, then pretend we aren't using GCC.\n+    ac_prog=ld\n+    ;;\n+  *)\n+    # If it is relative, then search for the first ld in PATH.\n+    with_gnu_ld=unknown\n+    ;;\n+  esac\n+elif test \"$with_gnu_ld\" = yes; then\n+  echo \"$as_me:$LINENO: checking for GNU ld\" >&5\n+echo $ECHO_N \"checking for GNU ld... $ECHO_C\" >&6\n+else\n+  echo \"$as_me:$LINENO: checking for non-GNU ld\" >&5\n+echo $ECHO_N \"checking for non-GNU ld... $ECHO_C\" >&6\n+fi\n+if test \"${lt_cv_path_LD+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test -z \"$LD\"; then\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n+  for ac_dir in $PATH; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n+      lt_cv_path_LD=\"$ac_dir/$ac_prog\"\n+      # Check to see if the program is GNU ld.  I'd rather use --version,\n+      # but apparently some GNU ld's only accept -v.\n+      # Break only if it was the GNU/non-GNU ld that we prefer.\n+      if \"$lt_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n+\ttest \"$with_gnu_ld\" != no && break\n+      else\n+\ttest \"$with_gnu_ld\" != yes && break\n       fi\n-      break\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n-  MAGIC_CMD=\"$ac_save_MAGIC_CMD\"\n-  ;;\n-esac\n-fi\n-\n-MAGIC_CMD=\"$lt_cv_path_MAGIC_CMD\"\n-if test -n \"$MAGIC_CMD\"; then\n-  echo \"$as_me:$LINENO: result: $MAGIC_CMD\" >&5\n-echo \"${ECHO_T}$MAGIC_CMD\" >&6\n else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n+  lt_cv_path_LD=\"$LD\" # Let the user override the test with a path.\n fi\n-\n-  else\n-    MAGIC_CMD=:\n-  fi\n fi\n \n-  fi\n-  ;;\n-esac\n-\n-if test -n \"$ac_tool_prefix\"; then\n-  # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_prog_RANLIB+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  if test -n \"$RANLIB\"; then\n-  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_RANLIB=\"${ac_tool_prefix}ranlib\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-fi\n-fi\n-RANLIB=$ac_cv_prog_RANLIB\n-if test -n \"$RANLIB\"; then\n-  echo \"$as_me:$LINENO: result: $RANLIB\" >&5\n-echo \"${ECHO_T}$RANLIB\" >&6\n+LD=\"$lt_cv_path_LD\"\n+if test -n \"$LD\"; then\n+  echo \"$as_me:$LINENO: result: $LD\" >&5\n+echo \"${ECHO_T}$LD\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n fi\n-\n-fi\n-if test -z \"$ac_cv_prog_RANLIB\"; then\n-  ac_ct_RANLIB=$RANLIB\n-  # Extract the first word of \"ranlib\", so it can be a program name with args.\n-set dummy ranlib; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_prog_ac_ct_RANLIB+set}\" = set; then\n+test -z \"$LD\" && { { echo \"$as_me:$LINENO: error: no acceptable ld found in \\$PATH\" >&5\n+echo \"$as_me: error: no acceptable ld found in \\$PATH\" >&2;}\n+   { (exit 1); exit 1; }; }\n+echo \"$as_me:$LINENO: checking if the linker ($LD) is GNU ld\" >&5\n+echo $ECHO_N \"checking if the linker ($LD) is GNU ld... $ECHO_C\" >&6\n+if test \"${lt_cv_prog_gnu_ld+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  if test -n \"$ac_ct_RANLIB\"; then\n-  ac_cv_prog_ac_ct_RANLIB=\"$ac_ct_RANLIB\" # Let the user override the test.\n+  # I'd rather use --version here, but apparently some GNU ld's only accept -v.\n+if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n+  lt_cv_prog_gnu_ld=yes\n else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_ac_ct_RANLIB=\"ranlib\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  test -z \"$ac_cv_prog_ac_ct_RANLIB\" && ac_cv_prog_ac_ct_RANLIB=\":\"\n-fi\n+  lt_cv_prog_gnu_ld=no\n fi\n-ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB\n-if test -n \"$ac_ct_RANLIB\"; then\n-  echo \"$as_me:$LINENO: result: $ac_ct_RANLIB\" >&5\n-echo \"${ECHO_T}$ac_ct_RANLIB\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n fi\n+echo \"$as_me:$LINENO: result: $lt_cv_prog_gnu_ld\" >&5\n+echo \"${ECHO_T}$lt_cv_prog_gnu_ld\" >&6\n+with_gnu_ld=$lt_cv_prog_gnu_ld\n \n-  RANLIB=$ac_ct_RANLIB\n-else\n-  RANLIB=\"$ac_cv_prog_RANLIB\"\n-fi\n \n-if test -n \"$ac_tool_prefix\"; then\n-  # Extract the first word of \"${ac_tool_prefix}strip\", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}strip; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_prog_STRIP+set}\" = set; then\n+echo \"$as_me:$LINENO: checking for $LD option to reload object files\" >&5\n+echo $ECHO_N \"checking for $LD option to reload object files... $ECHO_C\" >&6\n+if test \"${lt_cv_ld_reload_flag+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  if test -n \"$STRIP\"; then\n-  ac_cv_prog_STRIP=\"$STRIP\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_STRIP=\"${ac_tool_prefix}strip\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-fi\n-fi\n-STRIP=$ac_cv_prog_STRIP\n-if test -n \"$STRIP\"; then\n-  echo \"$as_me:$LINENO: result: $STRIP\" >&5\n-echo \"${ECHO_T}$STRIP\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n+  lt_cv_ld_reload_flag='-r'\n fi\n+echo \"$as_me:$LINENO: result: $lt_cv_ld_reload_flag\" >&5\n+echo \"${ECHO_T}$lt_cv_ld_reload_flag\" >&6\n+reload_flag=$lt_cv_ld_reload_flag\n+test -n \"$reload_flag\" && reload_flag=\" $reload_flag\"\n \n-fi\n-if test -z \"$ac_cv_prog_STRIP\"; then\n-  ac_ct_STRIP=$STRIP\n-  # Extract the first word of \"strip\", so it can be a program name with args.\n-set dummy strip; ac_word=$2\n-echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n-echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_prog_ac_ct_STRIP+set}\" = set; then\n+echo \"$as_me:$LINENO: checking for BSD-compatible nm\" >&5\n+echo $ECHO_N \"checking for BSD-compatible nm... $ECHO_C\" >&6\n+if test \"${lt_cv_path_NM+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  if test -n \"$ac_ct_STRIP\"; then\n-  ac_cv_prog_ac_ct_STRIP=\"$ac_ct_STRIP\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-  for ac_exec_ext in '' $ac_executable_extensions; do\n-  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_ac_ct_STRIP=\"strip\"\n-    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-done\n-\n-  test -z \"$ac_cv_prog_ac_ct_STRIP\" && ac_cv_prog_ac_ct_STRIP=\":\"\n-fi\n-fi\n-ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP\n-if test -n \"$ac_ct_STRIP\"; then\n-  echo \"$as_me:$LINENO: result: $ac_ct_STRIP\" >&5\n-echo \"${ECHO_T}$ac_ct_STRIP\" >&6\n+  if test -n \"$NM\"; then\n+  # Let the user override the test.\n+  lt_cv_path_NM=\"$NM\"\n else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n+  for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    tmp_nm=$ac_dir/${ac_tool_prefix}nm\n+    if test -f $tmp_nm || test -f $tmp_nm$ac_exeext ; then\n+      # Check to see if the nm accepts a BSD-compat flag.\n+      # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n+      #   nm: unknown option \"B\" ignored\n+      # Tru64's nm complains that /dev/null is an invalid object file\n+      if ($tmp_nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep '(/dev/null|Invalid file or object type)' >/dev/null; then\n+\tlt_cv_path_NM=\"$tmp_nm -B\"\n+\tbreak\n+      elif ($tmp_nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n+\tlt_cv_path_NM=\"$tmp_nm -p\"\n+\tbreak\n+      else\n+\tlt_cv_path_NM=${lt_cv_path_NM=\"$tmp_nm\"} # keep the first match, but\n+\tcontinue # so that we can try to find one that supports BSD flags\n+      fi\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$lt_cv_path_NM\" && lt_cv_path_NM=nm\n fi\n-\n-  STRIP=$ac_ct_STRIP\n-else\n-  STRIP=\"$ac_cv_prog_STRIP\"\n fi\n \n+NM=\"$lt_cv_path_NM\"\n+echo \"$as_me:$LINENO: result: $NM\" >&5\n+echo \"${ECHO_T}$NM\" >&6\n \n-# Check for any special flags to pass to ltconfig.\n-libtool_flags=\"--cache-file=$cache_file\"\n-test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n-test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n-test \"$enable_fast_install\" = no && libtool_flags=\"$libtool_flags --disable-fast-install\"\n-test \"$GCC\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n-test \"$lt_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n-\n+echo \"$as_me:$LINENO: checking whether ln -s works\" >&5\n+echo $ECHO_N \"checking whether ln -s works... $ECHO_C\" >&6\n+LN_S=$as_ln_s\n+if test \"$LN_S\" = \"ln -s\"; then\n+  echo \"$as_me:$LINENO: result: yes\" >&5\n+echo \"${ECHO_T}yes\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no, using $LN_S\" >&5\n+echo \"${ECHO_T}no, using $LN_S\" >&6\n+fi\n \n-# Check whether --enable-libtool-lock or --disable-libtool-lock was given.\n-if test \"${enable_libtool_lock+set}\" = set; then\n-  enableval=\"$enable_libtool_lock\"\n+echo \"$as_me:$LINENO: checking how to recognise dependant libraries\" >&5\n+echo $ECHO_N \"checking how to recognise dependant libraries... $ECHO_C\" >&6\n+if test \"${lt_cv_deplibs_check_method+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  lt_cv_file_magic_cmd='$MAGIC_CMD'\n+lt_cv_file_magic_test_file=\n+lt_cv_deplibs_check_method='unknown'\n+# Need to set the preceding variable on all platforms that support\n+# interlibrary dependencies.\n+# 'none' -- dependencies not supported.\n+# `unknown' -- same as none, but documents that we really don't know.\n+# 'pass_all' -- all dependencies passed with no checks.\n+# 'test_compile' -- check by making test program.\n+# 'file_magic [regex]' -- check by looking for files in library path\n+# which responds to the $file_magic_cmd with a given egrep regex.\n+# If you have `file' or equivalent on your system and you're not sure\n+# whether `pass_all' will *always* work, you probably want this one.\n \n-fi;\n-test \"x$enable_libtool_lock\" = xno && libtool_flags=\"$libtool_flags --disable-lock\"\n-test x\"$silent\" = xyes && libtool_flags=\"$libtool_flags --silent\"\n+case $host_os in\n+aix*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n \n+beos*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n \n-# Check whether --with-pic or --without-pic was given.\n-if test \"${with_pic+set}\" = set; then\n-  withval=\"$with_pic\"\n-  pic_mode=\"$withval\"\n-else\n-  pic_mode=default\n-fi;\n-test x\"$pic_mode\" = xyes && libtool_flags=\"$libtool_flags --prefer-pic\"\n-test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n+bsdi4*)\n+  lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'\n+  lt_cv_file_magic_cmd='/usr/bin/file -L'\n+  lt_cv_file_magic_test_file=/shlib/libc.so\n+  ;;\n \n-# Some flags need to be propagated to the compiler or linker for good\n-# libtool support.\n-case $host in\n-*-*-irix6*)\n-  # Find out which ABI we are using.\n-  echo '#line 3673 \"configure\"' > conftest.$ac_ext\n-  if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; then\n-   if test \"$lt_cv_prog_gnu_ld\" = yes; then\n-    case `/usr/bin/file conftest.$ac_objext` in\n-    *32-bit*)\n-      LD=\"${LD-ld} -melf32bsmip\"\n-      ;;\n-    *N32*)\n-      LD=\"${LD-ld} -melf32bmipn32\"\n-      ;;\n-    *64-bit*)\n-      LD=\"${LD-ld} -melf64bmip\"\n-      ;;\n-    esac\n-   else\n-    case `/usr/bin/file conftest.$ac_objext` in\n-    *32-bit*)\n-      LD=\"${LD-ld} -32\"\n-      ;;\n-    *N32*)\n-      LD=\"${LD-ld} -n32\"\n-      ;;\n-    *64-bit*)\n-      LD=\"${LD-ld} -64\"\n-      ;;\n-    esac\n-   fi\n-  fi\n-  rm -rf conftest*\n+cygwin* | mingw* |pw32*)\n+  lt_cv_deplibs_check_method='file_magic file format pei*-i386(.*architecture: i386)?'\n+  lt_cv_file_magic_cmd='$OBJDUMP -f'\n   ;;\n \n-ia64-*-hpux*)\n-  # Find out which ABI we are using.\n-  echo 'int i;' > conftest.$ac_ext\n-  if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; then\n-    case \"`/usr/bin/file conftest.o`\" in\n-    *ELF-32*)\n-      HPUX_IA64_MODE=\"32\"\n-      ;;\n-    *ELF-64*)\n-      HPUX_IA64_MODE=\"64\"\n-      ;;\n-    esac\n-  fi\n-  rm -rf conftest*\n+darwin* | rhapsody*)\n+  # this will be overwritten by pass_all, but leave it in just in case\n+  lt_cv_deplibs_check_method='file_magic Mach-O dynamically linked shared library'\n+  lt_cv_file_magic_cmd='/usr/bin/file -L'\n+  case \"$host_os\" in\n+  rhapsody* | darwin1.012)\n+    lt_cv_file_magic_test_file='/System/Library/Frameworks/System.framework/System'\n+    ;;\n+  *) # Darwin 1.3 on\n+    lt_cv_file_magic_test_file='/usr/lib/libSystem.dylib'\n+    ;;\n+  esac\n+  lt_cv_deplibs_check_method=pass_all\n   ;;\n \n-x86_64-*linux*|ppc*-*linux*|powerpc*-*linux*|s390*-*linux*|sparc*-*linux*)\n-  # Find out which ABI we are using.\n-  echo 'int i;' > conftest.$ac_ext\n-  if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; then\n-    case \"`/usr/bin/file conftest.o`\" in\n-    *32-bit*)\n-      case $host in\n-        x86_64-*linux*)\n-          LD=\"${LD-ld} -m elf_i386\"\n-          ;;\n-        ppc64-*linux*|powerpc64-*linux*)\n-          LD=\"${LD-ld} -m elf32ppclinux\"\n-          ;;\n-        s390x-*linux*)\n-          LD=\"${LD-ld} -m elf_s390\"\n-          ;;\n-        sparc64-*linux*)\n-          LD=\"${LD-ld} -m elf32_sparc\"\n-          ;;\n-      esac\n-      ;;\n-    *64-bit*)\n-      case $host in\n-        x86_64-*linux*)\n-          LD=\"${LD-ld} -m elf_x86_64\"\n-          ;;\n-        ppc*-*linux*|powerpc*-*linux*)\n-          LD=\"${LD-ld} -m elf64ppc\"\n-          ;;\n-        s390*-*linux*)\n-          LD=\"${LD-ld} -m elf64_s390\"\n-          ;;\n-        sparc*-*linux*)\n-          LD=\"${LD-ld} -m elf64_sparc\"\n-          ;;\n-      esac\n+freebsd* | kfreebsd*-gnu)\n+  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then\n+    case $host_cpu in\n+    i*86 )\n+      # Not sure whether the presence of OpenBSD here was a mistake.\n+      # Let's accept both of them until this is cleared up.\n+      lt_cv_deplibs_check_method='file_magic (FreeBSD|OpenBSD)/i[3-9]86 (compact )?demand paged shared library'\n+      lt_cv_file_magic_cmd=/usr/bin/file\n+      lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`\n       ;;\n     esac\n+  else\n+    lt_cv_deplibs_check_method=pass_all\n   fi\n-  rm -rf conftest*\n   ;;\n \n-*-*-sco3.2v5*)\n-  # On SCO OpenServer 5, we need -belf to get full-featured binaries.\n-  SAVE_CFLAGS=\"$CFLAGS\"\n-  CFLAGS=\"$CFLAGS -belf\"\n-  echo \"$as_me:$LINENO: checking whether the C compiler needs -belf\" >&5\n-echo $ECHO_N \"checking whether the C compiler needs -belf... $ECHO_C\" >&6\n-if test \"${lt_cv_cc_needs_belf+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-\n-\n-     ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n-     if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n+gnu*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n \n-int\n-main ()\n-{\n+hpux10.20*|hpux11*)\n+  case $host_cpu in\n+  hppa*)\n+    lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|PA-RISC[0-9].[0-9]) shared library'\n+    lt_cv_file_magic_cmd=/usr/bin/file\n+    lt_cv_file_magic_test_file=/usr/lib/libc.sl\n+    ;;\n+  ia64*)\n+    lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|ELF-[0-9][0-9]) shared object file - IA64'\n+    lt_cv_file_magic_cmd=/usr/bin/file\n+    lt_cv_file_magic_test_file=/usr/lib/hpux32/libc.so\n+    ;;\n+  esac\n+  ;;\n \n-  ;\n-  return 0;\n-}\n-_ACEOF\n-rm -f conftest.$ac_objext conftest$ac_exeext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n-  (eval $ac_link) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest$ac_exeext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  lt_cv_cc_needs_belf=yes\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n+irix5* | irix6*)\n+  case $host_os in\n+  irix5*)\n+    # this will be overridden with pass_all, but let us keep it just in case\n+    lt_cv_deplibs_check_method=\"file_magic ELF 32-bit MSB dynamic lib MIPS - version 1\"\n+    ;;\n+  *)\n+    case $LD in\n+    *-32|*\"-32 \") libmagic=32-bit;;\n+    *-n32|*\"-n32 \") libmagic=N32;;\n+    *-64|*\"-64 \") libmagic=64-bit;;\n+    *) libmagic=never-match;;\n+    esac\n+    # this will be overridden with pass_all, but let us keep it just in case\n+    lt_cv_deplibs_check_method=\"file_magic ELF ${libmagic} MSB mips-[1234] dynamic lib MIPS - version 1\"\n+    ;;\n+  esac\n+  lt_cv_file_magic_test_file=`echo /lib${libsuff}/libc.so*`\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n \n-lt_cv_cc_needs_belf=no\n-fi\n-rm -f conftest.err conftest.$ac_objext \\\n-      conftest$ac_exeext conftest.$ac_ext\n-     ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n+# This must be Linux ELF.\n+linux-gnu*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n \n-fi\n-echo \"$as_me:$LINENO: result: $lt_cv_cc_needs_belf\" >&5\n-echo \"${ECHO_T}$lt_cv_cc_needs_belf\" >&6\n-  if test x\"$lt_cv_cc_needs_belf\" != x\"yes\"; then\n-    # this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf\n-    CFLAGS=\"$SAVE_CFLAGS\"\n+netbsd* | knetbsd*-gnu)\n+  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then\n+    lt_cv_deplibs_check_method='match_pattern /lib[^/\\.]+\\.so\\.[0-9]+\\.[0-9]+$'\n+  else\n+    lt_cv_deplibs_check_method='match_pattern /lib[^/\\.]+\\.so$'\n   fi\n   ;;\n \n+newsos6)\n+  lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (executable|dynamic lib)'\n+  lt_cv_file_magic_cmd=/usr/bin/file\n+  lt_cv_file_magic_test_file=/usr/lib/libnls.so\n+  ;;\n \n-esac\n+osf3* | osf4* | osf5*)\n+  # this will be overridden with pass_all, but let us keep it just in case\n+  lt_cv_deplibs_check_method='file_magic COFF format alpha shared library'\n+  lt_cv_file_magic_test_file=/shlib/libc.so\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n \n+sco3.2v5*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n \n-# Save cache, so that ltconfig can load it\n-cat >confcache <<\\_ACEOF\n-# This file is a shell script that caches the results of configure\n-# tests run on this system so they can be shared between configure\n-# scripts and configure runs, see configure's option --config-cache.\n-# It is not useful on other systems.  If it contains results you don't\n-# want to keep, you may remove or edit it.\n-#\n-# config.status only pays attention to the cache file if you give it\n-# the --recheck option to rerun configure.\n-#\n-# `ac_cv_env_foo' variables (set or unset) will be overridden when\n-# loading this file, other *unset* `ac_cv_foo' will be assigned the\n-# following values.\n+solaris*)\n+  lt_cv_deplibs_check_method=pass_all\n+  lt_cv_file_magic_test_file=/lib/libc.so\n+  ;;\n \n-_ACEOF\n+sysv5uw[78]* | sysv4*uw2*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n+\n+sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)\n+  case $host_vendor in\n+  ncr)\n+    lt_cv_deplibs_check_method=pass_all\n+    ;;\n+  motorola)\n+    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib) M[0-9][0-9]* Version [0-9]'\n+    lt_cv_file_magic_test_file=`echo /usr/lib/libc.so*`\n+    ;;\n+  esac\n+  ;;\n+esac\n \n-# The following way of writing the cache mishandles newlines in values,\n-# but we know of no workaround that is simple, portable, and efficient.\n-# So, don't put newlines in cache variables' values.\n-# Ultrix sh set writes to stderr and can't be redirected directly,\n-# and sets the high bit in the cache file unless we assign to the vars.\n-{\n-  (set) 2>&1 |\n-    case `(ac_space=' '; set | grep ac_space) 2>&1` in\n-    *ac_space=\\ *)\n-      # `set' does not quote correctly, so add quotes (double-quote\n-      # substitution turns \\\\\\\\ into \\\\, and sed turns \\\\ into \\).\n-      sed -n \\\n-\t\"s/'/'\\\\\\\\''/g;\n-\t  s/^\\\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\\\)=\\\\(.*\\\\)/\\\\1='\\\\2'/p\"\n-      ;;\n-    *)\n-      # `set' quotes correctly as required by POSIX, so do not add quotes.\n-      sed -n \\\n-\t\"s/^\\\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\\\)=\\\\(.*\\\\)/\\\\1=\\\\2/p\"\n-      ;;\n-    esac;\n-} |\n-  sed '\n-     t clear\n-     : clear\n-     s/^\\([^=]*\\)=\\(.*[{}].*\\)$/test \"${\\1+set}\" = set || &/\n-     t end\n-     /^ac_cv_env/!s/^\\([^=]*\\)=\\(.*\\)$/\\1=${\\1=\\2}/\n-     : end' >>confcache\n-if diff $cache_file confcache >/dev/null 2>&1; then :; else\n-  if test -w $cache_file; then\n-    test \"x$cache_file\" != \"x/dev/null\" && echo \"updating cache $cache_file\"\n-    cat confcache >$cache_file\n-  else\n-    echo \"not updating unwritable cache $cache_file\"\n-  fi\n fi\n-rm -f confcache\n+echo \"$as_me:$LINENO: result: $lt_cv_deplibs_check_method\" >&5\n+echo \"${ECHO_T}$lt_cv_deplibs_check_method\" >&6\n+file_magic_cmd=$lt_cv_file_magic_cmd\n+deplibs_check_method=$lt_cv_deplibs_check_method\n \n-# Actually configure libtool.  ac_aux_dir is where install-sh is found.\n-AR=\"$AR\" LTCC=\"$CC\" CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n-MAGIC_CMD=\"$MAGIC_CMD\" LD=\"$LD\" LDFLAGS=\"$LDFLAGS\" LIBS=\"$LIBS\" \\\n-LN_S=\"$LN_S\" NM=\"$NM\" RANLIB=\"$RANLIB\" STRIP=\"$STRIP\" \\\n-AS=\"$AS\" DLLTOOL=\"$DLLTOOL\" OBJDUMP=\"$OBJDUMP\" \\\n-objext=\"$OBJEXT\" exeext=\"$EXEEXT\" reload_flag=\"$reload_flag\" \\\n-deplibs_check_method=\"$deplibs_check_method\" file_magic_cmd=\"$file_magic_cmd\" \\\n-${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n-$libtool_flags --no-verify --build=\"$build\" $ac_aux_dir/ltmain.sh $host \\\n-|| { { echo \"$as_me:$LINENO: error: libtool configure failed\" >&5\n-echo \"$as_me: error: libtool configure failed\" >&2;}\n-   { (exit 1); exit 1; }; }\n \n-# Reload cache, that may have been modified by ltconfig\n-if test -r \"$cache_file\"; then\n-  # Some versions of bash will fail to source /dev/null (special\n-  # files actually), so we avoid doing that.\n-  if test -f \"$cache_file\"; then\n-    { echo \"$as_me:$LINENO: loading cache $cache_file\" >&5\n-echo \"$as_me: loading cache $cache_file\" >&6;}\n-    case $cache_file in\n-      [\\\\/]* | ?:[\\\\/]* ) . $cache_file;;\n-      *)                      . ./$cache_file;;\n-    esac\n-  fi\n+\n+\n+# Autoconf 2.13's AC_OBJEXT and AC_EXEEXT macros only works for C compilers!\n+\n+# Only perform the check for file, if the check method requires it\n+case $deplibs_check_method in\n+file_magic*)\n+  if test \"$file_magic_cmd\" = '$MAGIC_CMD'; then\n+    echo \"$as_me:$LINENO: checking for ${ac_tool_prefix}file\" >&5\n+echo $ECHO_N \"checking for ${ac_tool_prefix}file... $ECHO_C\" >&6\n+if test \"${lt_cv_path_MAGIC_CMD+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  { echo \"$as_me:$LINENO: creating cache $cache_file\" >&5\n-echo \"$as_me: creating cache $cache_file\" >&6;}\n-  >$cache_file\n+  case $MAGIC_CMD in\n+  /*)\n+  lt_cv_path_MAGIC_CMD=\"$MAGIC_CMD\" # Let the user override the test with a path.\n+  ;;\n+  ?:/*)\n+  lt_cv_path_MAGIC_CMD=\"$MAGIC_CMD\" # Let the user override the test with a dos path.\n+  ;;\n+  *)\n+  ac_save_MAGIC_CMD=\"$MAGIC_CMD\"\n+  IFS=\"${IFS=   }\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"/usr/bin:$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/${ac_tool_prefix}file; then\n+      lt_cv_path_MAGIC_CMD=\"$ac_dir/${ac_tool_prefix}file\"\n+      if test -n \"$file_magic_test_file\"; then\n+\tcase $deplibs_check_method in\n+\t\"file_magic \"*)\n+\t  file_magic_regex=\"`expr \\\"$deplibs_check_method\\\" : \\\"file_magic \\(.*\\)\\\"`\"\n+\t  MAGIC_CMD=\"$lt_cv_path_MAGIC_CMD\"\n+\t  if eval $file_magic_cmd \\$file_magic_test_file 2> /dev/null |\n+\t    egrep \"$file_magic_regex\" > /dev/null; then\n+\t    :\n+\t  else\n+\t    cat <<EOF 1>&2\n+\n+*** Warning: the command libtool uses to detect shared libraries,\n+*** $file_magic_cmd, produces output that libtool cannot recognize.\n+*** The result is that libtool may fail to recognize shared libraries\n+*** as such.  This will affect the creation of libtool libraries that\n+*** depend on shared libraries, but programs linked with such libtool\n+*** libraries will work regardless of this problem.  Nevertheless, you\n+*** may want to report the problem to your system manager and/or to\n+*** bug-libtool@gnu.org\n+\n+EOF\n+\t  fi ;;\n+\tesac\n+      fi\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  MAGIC_CMD=\"$ac_save_MAGIC_CMD\"\n+  ;;\n+esac\n fi\n \n+MAGIC_CMD=\"$lt_cv_path_MAGIC_CMD\"\n+if test -n \"$MAGIC_CMD\"; then\n+  echo \"$as_me:$LINENO: result: $MAGIC_CMD\" >&5\n+echo \"${ECHO_T}$MAGIC_CMD\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n \n-# This can be used to rebuild libtool when needed\n-LIBTOOL_DEPS=\"$ac_aux_dir/ltconfig $ac_aux_dir/ltmain.sh $ac_aux_dir/ltcf-c.sh\"\n+if test -z \"$lt_cv_path_MAGIC_CMD\"; then\n+  if test -n \"$ac_tool_prefix\"; then\n+    echo \"$as_me:$LINENO: checking for file\" >&5\n+echo $ECHO_N \"checking for file... $ECHO_C\" >&6\n+if test \"${lt_cv_path_MAGIC_CMD+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  case $MAGIC_CMD in\n+  /*)\n+  lt_cv_path_MAGIC_CMD=\"$MAGIC_CMD\" # Let the user override the test with a path.\n+  ;;\n+  ?:/*)\n+  lt_cv_path_MAGIC_CMD=\"$MAGIC_CMD\" # Let the user override the test with a dos path.\n+  ;;\n+  *)\n+  ac_save_MAGIC_CMD=\"$MAGIC_CMD\"\n+  IFS=\"${IFS=   }\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"/usr/bin:$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/file; then\n+      lt_cv_path_MAGIC_CMD=\"$ac_dir/file\"\n+      if test -n \"$file_magic_test_file\"; then\n+\tcase $deplibs_check_method in\n+\t\"file_magic \"*)\n+\t  file_magic_regex=\"`expr \\\"$deplibs_check_method\\\" : \\\"file_magic \\(.*\\)\\\"`\"\n+\t  MAGIC_CMD=\"$lt_cv_path_MAGIC_CMD\"\n+\t  if eval $file_magic_cmd \\$file_magic_test_file 2> /dev/null |\n+\t    egrep \"$file_magic_regex\" > /dev/null; then\n+\t    :\n+\t  else\n+\t    cat <<EOF 1>&2\n \n-# Always use our own libtool.\n-LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n+*** Warning: the command libtool uses to detect shared libraries,\n+*** $file_magic_cmd, produces output that libtool cannot recognize.\n+*** The result is that libtool may fail to recognize shared libraries\n+*** as such.  This will affect the creation of libtool libraries that\n+*** depend on shared libraries, but programs linked with such libtool\n+*** libraries will work regardless of this problem.  Nevertheless, you\n+*** may want to report the problem to your system manager and/or to\n+*** bug-libtool@gnu.org\n \n-# Redirect the config.log output again, so that the ltconfig log is not\n-# clobbered by the next message.\n-exec 5>>./config.log\n+EOF\n+\t  fi ;;\n+\tesac\n+      fi\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  MAGIC_CMD=\"$ac_save_MAGIC_CMD\"\n+  ;;\n+esac\n+fi\n \n+MAGIC_CMD=\"$lt_cv_path_MAGIC_CMD\"\n+if test -n \"$MAGIC_CMD\"; then\n+  echo \"$as_me:$LINENO: result: $MAGIC_CMD\" >&5\n+echo \"${ECHO_T}$MAGIC_CMD\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n \n+  else\n+    MAGIC_CMD=:\n+  fi\n+fi\n \n+  fi\n+  ;;\n+esac\n \n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_prog_RANLIB+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test -n \"$RANLIB\"; then\n+  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_RANLIB=\"${ac_tool_prefix}ranlib\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n \n+fi\n+fi\n+RANLIB=$ac_cv_prog_RANLIB\n+if test -n \"$RANLIB\"; then\n+  echo \"$as_me:$LINENO: result: $RANLIB\" >&5\n+echo \"${ECHO_T}$RANLIB\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n \n+fi\n+if test -z \"$ac_cv_prog_RANLIB\"; then\n+  ac_ct_RANLIB=$RANLIB\n+  # Extract the first word of \"ranlib\", so it can be a program name with args.\n+set dummy ranlib; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_prog_ac_ct_RANLIB+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test -n \"$ac_ct_RANLIB\"; then\n+  ac_cv_prog_ac_ct_RANLIB=\"$ac_ct_RANLIB\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_ac_ct_RANLIB=\"ranlib\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n \n-if test x$GCC = xyes; then\n-  ac_libiberty_warn_cflags='-W -Wall -Wtraditional -pedantic'\n+  test -z \"$ac_cv_prog_ac_ct_RANLIB\" && ac_cv_prog_ac_ct_RANLIB=\":\"\n+fi\n+fi\n+ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB\n+if test -n \"$ac_ct_RANLIB\"; then\n+  echo \"$as_me:$LINENO: result: $ac_ct_RANLIB\" >&5\n+echo \"${ECHO_T}$ac_ct_RANLIB\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n fi\n \n+  RANLIB=$ac_ct_RANLIB\n+else\n+  RANLIB=\"$ac_cv_prog_RANLIB\"\n+fi\n \n-echo \"$as_me:$LINENO: checking for an ANSI C-conforming const\" >&5\n-echo $ECHO_N \"checking for an ANSI C-conforming const... $ECHO_C\" >&6\n-if test \"${ac_cv_c_const+set}\" = set; then\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"${ac_tool_prefix}strip\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}strip; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_prog_STRIP+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-/* FIXME: Include the comments suggested by Paul. */\n-#ifndef __cplusplus\n-  /* Ultrix mips cc rejects this.  */\n-  typedef int charset[2];\n-  const charset x;\n-  /* SunOS 4.1.1 cc rejects this.  */\n-  char const *const *ccp;\n-  char **p;\n-  /* NEC SVR4.0.2 mips cc rejects this.  */\n-  struct point {int x, y;};\n-  static struct point const zero = {0,0};\n-  /* AIX XL C 1.02.0.0 rejects this.\n-     It does not let you subtract one const X* pointer from another in\n-     an arm of an if-expression whose if-part is not a constant\n-     expression */\n-  const char *g = \"string\";\n-  ccp = &g + (g ? g-g : 0);\n-  /* HPUX 7.0 cc rejects these. */\n-  ++ccp;\n-  p = (char**) ccp;\n-  ccp = (char const *const *) p;\n-  { /* SCO 3.2v4 cc rejects this.  */\n-    char *t;\n-    char const *s = 0 ? (char *) 0 : (char const *) 0;\n+  if test -n \"$STRIP\"; then\n+  ac_cv_prog_STRIP=\"$STRIP\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_STRIP=\"${ac_tool_prefix}strip\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n \n-    *t++ = 0;\n-  }\n-  { /* Someone thinks the Sun supposedly-ANSI compiler will reject this.  */\n-    int x[] = {25, 17};\n-    const int *foo = &x[0];\n-    ++foo;\n-  }\n-  { /* Sun SC1.0 ANSI compiler rejects this -- but not the above. */\n-    typedef const int *iptr;\n-    iptr p = 0;\n-    ++p;\n-  }\n-  { /* AIX XL C 1.02.0.0 rejects this saying\n-       \"k.c\", line 2.27: 1506-025 (S) Operand must be a modifiable lvalue. */\n-    struct s { int j; const int *ap[3]; };\n-    struct s *b; b->j = 5;\n-  }\n-  { /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */\n-    const int foo = 10;\n-  }\n-#endif\n+fi\n+fi\n+STRIP=$ac_cv_prog_STRIP\n+if test -n \"$STRIP\"; then\n+  echo \"$as_me:$LINENO: result: $STRIP\" >&5\n+echo \"${ECHO_T}$STRIP\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n \n-  ;\n-  return 0;\n-}\n-_ACEOF\n-rm -f conftest.$ac_objext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest.$ac_objext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  ac_cv_c_const=yes\n+fi\n+if test -z \"$ac_cv_prog_STRIP\"; then\n+  ac_ct_STRIP=$STRIP\n+  # Extract the first word of \"strip\", so it can be a program name with args.\n+set dummy strip; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_prog_ac_ct_STRIP+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n+  if test -n \"$ac_ct_STRIP\"; then\n+  ac_cv_prog_ac_ct_STRIP=\"$ac_ct_STRIP\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_ac_ct_STRIP=\"strip\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n \n-ac_cv_c_const=no\n+  test -z \"$ac_cv_prog_ac_ct_STRIP\" && ac_cv_prog_ac_ct_STRIP=\":\"\n fi\n-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n fi\n-echo \"$as_me:$LINENO: result: $ac_cv_c_const\" >&5\n-echo \"${ECHO_T}$ac_cv_c_const\" >&6\n-if test $ac_cv_c_const = no; then\n-\n-cat >>confdefs.h <<\\_ACEOF\n-#define const\n-_ACEOF\n-\n+ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP\n+if test -n \"$ac_ct_STRIP\"; then\n+  echo \"$as_me:$LINENO: result: $ac_ct_STRIP\" >&5\n+echo \"${ECHO_T}$ac_ct_STRIP\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n fi\n \n-echo \"$as_me:$LINENO: checking for inline\" >&5\n-echo $ECHO_N \"checking for inline... $ECHO_C\" >&6\n-if test \"${ac_cv_c_inline+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+  STRIP=$ac_ct_STRIP\n else\n-  ac_cv_c_inline=no\n-for ac_kw in inline __inline__ __inline; do\n-  cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-#ifndef __cplusplus\n-typedef int foo_t;\n-static $ac_kw foo_t static_foo () {return 0; }\n-$ac_kw foo_t foo () {return 0; }\n-#endif\n+  STRIP=\"$ac_cv_prog_STRIP\"\n+fi\n \n-_ACEOF\n-rm -f conftest.$ac_objext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest.$ac_objext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  ac_cv_c_inline=$ac_kw; break\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n \n-fi\n-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n-done\n+# Check for any special flags to pass to ltconfig.\n+libtool_flags=\"--cache-file=$cache_file\"\n+test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n+test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n+test \"$enable_fast_install\" = no && libtool_flags=\"$libtool_flags --disable-fast-install\"\n+test \"$GCC\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n+test \"$lt_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n \n-fi\n-echo \"$as_me:$LINENO: result: $ac_cv_c_inline\" >&5\n-echo \"${ECHO_T}$ac_cv_c_inline\" >&6\n \n+# Check whether --enable-libtool-lock or --disable-libtool-lock was given.\n+if test \"${enable_libtool_lock+set}\" = set; then\n+  enableval=\"$enable_libtool_lock\"\n \n-case $ac_cv_c_inline in\n-  inline | yes) ;;\n-  *)\n-    case $ac_cv_c_inline in\n-      no) ac_val=;;\n-      *) ac_val=$ac_cv_c_inline;;\n-    esac\n-    cat >>confdefs.h <<_ACEOF\n-#ifndef __cplusplus\n-#define inline $ac_val\n-#endif\n-_ACEOF\n-    ;;\n-esac\n+fi;\n+test \"x$enable_libtool_lock\" = xno && libtool_flags=\"$libtool_flags --disable-lock\"\n+test x\"$silent\" = xyes && libtool_flags=\"$libtool_flags --silent\"\n \n-echo \"$as_me:$LINENO: checking whether byte ordering is bigendian\" >&5\n-echo $ECHO_N \"checking whether byte ordering is bigendian... $ECHO_C\" >&6\n-if test \"${ac_cv_c_bigendian+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+\n+# Check whether --with-pic or --without-pic was given.\n+if test \"${with_pic+set}\" = set; then\n+  withval=\"$with_pic\"\n+  pic_mode=\"$withval\"\n else\n-  ac_cv_c_bigendian=unknown\n-# See if sys/param.h defines the BYTE_ORDER macro.\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-#include <sys/types.h>\n-#include <sys/param.h>\n-int\n-main ()\n-{\n+  pic_mode=default\n+fi;\n+test x\"$pic_mode\" = xyes && libtool_flags=\"$libtool_flags --prefer-pic\"\n+test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n \n-#if !BYTE_ORDER || !BIG_ENDIAN || !LITTLE_ENDIAN\n- bogus endian macros\n-#endif\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-rm -f conftest.$ac_objext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>conftest.er1\n+# Some flags need to be propagated to the compiler or linker for good\n+# libtool support.\n+case $host in\n+*-*-irix6*)\n+  # Find out which ABI we are using.\n+  echo '#line 4071 \"configure\"' > conftest.$ac_ext\n+  if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>&5\n   ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n+  (exit $ac_status); }; then\n+   if test \"$lt_cv_prog_gnu_ld\" = yes; then\n+    case `/usr/bin/file conftest.$ac_objext` in\n+    *32-bit*)\n+      LD=\"${LD-ld} -melf32bsmip\"\n+      ;;\n+    *N32*)\n+      LD=\"${LD-ld} -melf32bmipn32\"\n+      ;;\n+    *64-bit*)\n+      LD=\"${LD-ld} -melf64bmip\"\n+      ;;\n+    esac\n+   else\n+    case `/usr/bin/file conftest.$ac_objext` in\n+    *32-bit*)\n+      LD=\"${LD-ld} -32\"\n+      ;;\n+    *N32*)\n+      LD=\"${LD-ld} -n32\"\n+      ;;\n+    *64-bit*)\n+      LD=\"${LD-ld} -64\"\n+      ;;\n+    esac\n+   fi\n+  fi\n+  rm -rf conftest*\n+  ;;\n+\n+ia64-*-hpux*)\n+  # Find out which ABI we are using.\n+  echo 'int i;' > conftest.$ac_ext\n+  if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest.$ac_objext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n+  (exit $ac_status); }; then\n+    case \"`/usr/bin/file conftest.o`\" in\n+    *ELF-32*)\n+      HPUX_IA64_MODE=\"32\"\n+      ;;\n+    *ELF-64*)\n+      HPUX_IA64_MODE=\"64\"\n+      ;;\n+    esac\n+  fi\n+  rm -rf conftest*\n+  ;;\n+\n+x86_64-*linux*|ppc*-*linux*|powerpc*-*linux*|s390*-*linux*|sparc*-*linux*)\n+  # Find out which ABI we are using.\n+  echo 'int i;' > conftest.$ac_ext\n+  if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  # It does; now see whether it defined to BIG_ENDIAN or not.\n+  (exit $ac_status); }; then\n+    case \"`/usr/bin/file conftest.o`\" in\n+    *32-bit*)\n+      case $host in\n+        x86_64-*linux*)\n+          LD=\"${LD-ld} -m elf_i386\"\n+          ;;\n+        ppc64-*linux*|powerpc64-*linux*)\n+          LD=\"${LD-ld} -m elf32ppclinux\"\n+          ;;\n+        s390x-*linux*)\n+          LD=\"${LD-ld} -m elf_s390\"\n+          ;;\n+        sparc64-*linux*)\n+          LD=\"${LD-ld} -m elf32_sparc\"\n+          ;;\n+      esac\n+      ;;\n+    *64-bit*)\n+      case $host in\n+        x86_64-*linux*)\n+          LD=\"${LD-ld} -m elf_x86_64\"\n+          ;;\n+        ppc*-*linux*|powerpc*-*linux*)\n+          LD=\"${LD-ld} -m elf64ppc\"\n+          ;;\n+        s390*-*linux*)\n+          LD=\"${LD-ld} -m elf64_s390\"\n+          ;;\n+        sparc*-*linux*)\n+          LD=\"${LD-ld} -m elf64_sparc\"\n+          ;;\n+      esac\n+      ;;\n+    esac\n+  fi\n+  rm -rf conftest*\n+  ;;\n+\n+*-*-sco3.2v5*)\n+  # On SCO OpenServer 5, we need -belf to get full-featured binaries.\n+  SAVE_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\"$CFLAGS -belf\"\n+  echo \"$as_me:$LINENO: checking whether the C compiler needs -belf\" >&5\n+echo $ECHO_N \"checking whether the C compiler needs -belf... $ECHO_C\" >&6\n+if test \"${lt_cv_cc_needs_belf+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+\n+\n+     ac_ext=c\n+ac_cpp='$CPP $CPPFLAGS'\n+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_c_compiler_gnu\n+\n+     if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n cat >>conftest.$ac_ext <<_ACEOF\n /* end confdefs.h.  */\n-#include <sys/types.h>\n-#include <sys/param.h>\n+\n int\n main ()\n {\n \n-#if BYTE_ORDER != BIG_ENDIAN\n- not big endian\n-#endif\n   ;\n   return 0;\n }\n _ACEOF\n-rm -f conftest.$ac_objext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>conftest.er1\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n   ac_status=$?\n   grep -v '^ *+' conftest.er1 >conftest.err\n   rm -f conftest.er1\n@@ -4229,131 +4222,140 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest.$ac_objext'\n+\t { ac_try='test -s conftest$ac_exeext'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; }; then\n-  ac_cv_c_bigendian=yes\n+  lt_cv_cc_needs_belf=yes\n else\n   echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5\n \n-ac_cv_c_bigendian=no\n+lt_cv_cc_needs_belf=no\n fi\n-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+     ac_ext=c\n+ac_cpp='$CPP $CPPFLAGS'\n+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n fi\n-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n-if test $ac_cv_c_bigendian = unknown; then\n-if test \"$cross_compiling\" = yes; then\n-   echo $ac_n \"cross-compiling... \" 2>&6\n-else\n-  cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-main () {\n-  /* Are we little or big endian?  From Harbison&Steele.  */\n-  union\n-  {\n-    long l;\n-    char c[sizeof (long)];\n-  } u;\n-  u.l = 1;\n-  exit (u.c[sizeof (long) - 1] == 1);\n-}\n+echo \"$as_me:$LINENO: result: $lt_cv_cc_needs_belf\" >&5\n+echo \"${ECHO_T}$lt_cv_cc_needs_belf\" >&6\n+  if test x\"$lt_cv_cc_needs_belf\" != x\"yes\"; then\n+    # this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf\n+    CFLAGS=\"$SAVE_CFLAGS\"\n+  fi\n+  ;;\n+\n+\n+esac\n+\n+\n+# Save cache, so that ltconfig can load it\n+cat >confcache <<\\_ACEOF\n+# This file is a shell script that caches the results of configure\n+# tests run on this system so they can be shared between configure\n+# scripts and configure runs, see configure's option --config-cache.\n+# It is not useful on other systems.  If it contains results you don't\n+# want to keep, you may remove or edit it.\n+#\n+# config.status only pays attention to the cache file if you give it\n+# the --recheck option to rerun configure.\n+#\n+# `ac_cv_env_foo' variables (set or unset) will be overridden when\n+# loading this file, other *unset* `ac_cv_foo' will be assigned the\n+# following values.\n+\n _ACEOF\n-rm -f conftest$ac_exeext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n-  (eval $ac_link) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  ac_cv_c_bigendian=no\n-else\n-  echo \"$as_me: program exited with status $ac_status\" >&5\n-echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n \n-( exit $ac_status )\n-ac_cv_c_bigendian=yes\n-fi\n-rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n-fi\n-fi\n+# The following way of writing the cache mishandles newlines in values,\n+# but we know of no workaround that is simple, portable, and efficient.\n+# So, don't put newlines in cache variables' values.\n+# Ultrix sh set writes to stderr and can't be redirected directly,\n+# and sets the high bit in the cache file unless we assign to the vars.\n+{\n+  (set) 2>&1 |\n+    case `(ac_space=' '; set | grep ac_space) 2>&1` in\n+    *ac_space=\\ *)\n+      # `set' does not quote correctly, so add quotes (double-quote\n+      # substitution turns \\\\\\\\ into \\\\, and sed turns \\\\ into \\).\n+      sed -n \\\n+\t\"s/'/'\\\\\\\\''/g;\n+\t  s/^\\\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\\\)=\\\\(.*\\\\)/\\\\1='\\\\2'/p\"\n+      ;;\n+    *)\n+      # `set' quotes correctly as required by POSIX, so do not add quotes.\n+      sed -n \\\n+\t\"s/^\\\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\\\)=\\\\(.*\\\\)/\\\\1=\\\\2/p\"\n+      ;;\n+    esac;\n+} |\n+  sed '\n+     t clear\n+     : clear\n+     s/^\\([^=]*\\)=\\(.*[{}].*\\)$/test \"${\\1+set}\" = set || &/\n+     t end\n+     /^ac_cv_env/!s/^\\([^=]*\\)=\\(.*\\)$/\\1=${\\1=\\2}/\n+     : end' >>confcache\n+if diff $cache_file confcache >/dev/null 2>&1; then :; else\n+  if test -w $cache_file; then\n+    test \"x$cache_file\" != \"x/dev/null\" && echo \"updating cache $cache_file\"\n+    cat confcache >$cache_file\n+  else\n+    echo \"not updating unwritable cache $cache_file\"\n+  fi\n fi\n-echo \"$as_me:$LINENO: result: $ac_cv_c_bigendian\" >&5\n-echo \"${ECHO_T}$ac_cv_c_bigendian\" >&6\n-if test $ac_cv_c_bigendian = unknown; then\n-echo \"$as_me:$LINENO: checking to probe for byte ordering\" >&5\n-echo $ECHO_N \"checking to probe for byte ordering... $ECHO_C\" >&6\n+rm -f confcache\n \n-cat >conftest.c <<EOF\n-short ascii_mm[] = { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };\n-short ascii_ii[] = { 0x694C, 0x5454, 0x656C, 0x6E45, 0x6944, 0x6E61, 0 };\n-void _ascii() { char* s = (char*) ascii_mm; s = (char*) ascii_ii; }\n-short ebcdic_ii[] = { 0x89D3, 0xE3E3, 0x8593, 0x95C5, 0x89C4, 0x9581, 0 };\n-short ebcdic_mm[] = { 0xC2C9, 0xC785, 0x95C4, 0x8981, 0x95E2, 0xA8E2, 0 };\n-void _ebcdic() { char* s = (char*) ebcdic_mm; s = (char*) ebcdic_ii; }\n-int main() { _ascii (); _ebcdic (); return 0; }\n-EOF\n- if test -f conftest.c ; then\n-     if ${CC-cc} ${CFLAGS} -c conftest.c -o conftest.o && test -f conftest.o ; then\n-        if test `grep -l BIGenDianSyS conftest.o` ; then\n-           echo $ac_n ' big endian probe OK, ' 1>&6\n-           ac_cv_c_bigendian=yes\n-        fi\n-        if test `grep -l LiTTleEnDian conftest.o` ; then\n-           echo $ac_n ' little endian probe OK, ' 1>&6\n-           if test $ac_cv_c_bigendian = yes ; then\n-            ac_cv_c_bigendian=unknown;\n-           else\n-            ac_cv_c_bigendian=no\n-           fi\n-        fi\n-        echo $ac_n 'guessing bigendian ...  ' >&6\n-     fi\n+# Actually configure libtool.  ac_aux_dir is where install-sh is found.\n+AR=\"$AR\" LTCC=\"$CC\" CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n+MAGIC_CMD=\"$MAGIC_CMD\" LD=\"$LD\" LDFLAGS=\"$LDFLAGS\" LIBS=\"$LIBS\" \\\n+LN_S=\"$LN_S\" NM=\"$NM\" RANLIB=\"$RANLIB\" STRIP=\"$STRIP\" \\\n+AS=\"$AS\" DLLTOOL=\"$DLLTOOL\" OBJDUMP=\"$OBJDUMP\" \\\n+objext=\"$OBJEXT\" exeext=\"$EXEEXT\" reload_flag=\"$reload_flag\" \\\n+deplibs_check_method=\"$deplibs_check_method\" file_magic_cmd=\"$file_magic_cmd\" \\\n+${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n+$libtool_flags --no-verify --build=\"$build\" $ac_aux_dir/ltmain.sh $host \\\n+|| { { echo \"$as_me:$LINENO: error: libtool configure failed\" >&5\n+echo \"$as_me: error: libtool configure failed\" >&2;}\n+   { (exit 1); exit 1; }; }\n+\n+# Reload cache, that may have been modified by ltconfig\n+if test -r \"$cache_file\"; then\n+  # Some versions of bash will fail to source /dev/null (special\n+  # files actually), so we avoid doing that.\n+  if test -f \"$cache_file\"; then\n+    { echo \"$as_me:$LINENO: loading cache $cache_file\" >&5\n+echo \"$as_me: loading cache $cache_file\" >&6;}\n+    case $cache_file in\n+      [\\\\/]* | ?:[\\\\/]* ) . $cache_file;;\n+      *)                      . ./$cache_file;;\n+    esac\n   fi\n-echo \"$as_me:$LINENO: result: $ac_cv_c_bigendian\" >&5\n-echo \"${ECHO_T}$ac_cv_c_bigendian\" >&6\n+else\n+  { echo \"$as_me:$LINENO: creating cache $cache_file\" >&5\n+echo \"$as_me: creating cache $cache_file\" >&6;}\n+  >$cache_file\n fi\n-if test $ac_cv_c_bigendian = yes; then\n \n-cat >>confdefs.h <<\\_ACEOF\n-#define WORDS_BIGENDIAN 1\n-_ACEOF\n \n+# This can be used to rebuild libtool when needed\n+LIBTOOL_DEPS=\"$ac_aux_dir/ltconfig $ac_aux_dir/ltmain.sh $ac_aux_dir/ltcf-c.sh\"\n \n-cat >>confdefs.h <<\\_ACEOF\n-#define HOST_WORDS_BIG_ENDIAN 1\n-_ACEOF\n+# Always use our own libtool.\n+LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n+\n+# Redirect the config.log output again, so that the ltconfig log is not\n+# clobbered by the next message.\n+exec 5>>./config.log\n \n-  BYTEORDER=4321\n-else\n-  BYTEORDER=1234\n-fi\n \n-cat >>confdefs.h <<_ACEOF\n-#define BYTEORDER $BYTEORDER\n-_ACEOF\n \n-if test $ac_cv_c_bigendian = unknown; then\n-  { { echo \"$as_me:$LINENO: error: unknown endianess - sorry, please pre-set ac_cv_c_bigendian\" >&5\n-echo \"$as_me: error: unknown endianess - sorry, please pre-set ac_cv_c_bigendian\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n \n \n \n@@ -8107,6 +8109,29 @@ else\n fi\n \n \n+# Add `./' to avoid VPATH.\n+\n+L=\"\"\n+for l in x $LIBOBJS; do\n+  case $l in\n+    x) ;;\n+    *) L=\"$L ./$l\" ;;\n+  esac\n+done\n+LIBOBJS=\"$L\"\n+\n+\n+L=\"\"\n+for l in x $LTLIBOBJS; do\n+  case $l in\n+    x) ;;\n+    *) L=\"$L ./$l\" ;;\n+  esac\n+done\n+LTLIBOBJS=\"$L\"\n+\n+\n+\n # We need multilib support, but only if configuring for the target.\n                     ac_config_files=\"$ac_config_files Makefile testsuite/Makefile\"\n \n@@ -8772,11 +8797,11 @@ s,@ac_ct_CC@,$ac_ct_CC,;t t\n s,@EXEEXT@,$EXEEXT,;t t\n s,@OBJEXT@,$OBJEXT,;t t\n s,@CPP@,$CPP,;t t\n+s,@ac_libiberty_warn_cflags@,$ac_libiberty_warn_cflags,;t t\n s,@LN_S@,$LN_S,;t t\n s,@STRIP@,$STRIP,;t t\n s,@ac_ct_STRIP@,$ac_ct_STRIP,;t t\n s,@LIBTOOL@,$LIBTOOL,;t t\n-s,@ac_libiberty_warn_cflags@,$ac_libiberty_warn_cflags,;t t\n s,@INSTALL_PROGRAM@,$INSTALL_PROGRAM,;t t\n s,@INSTALL_SCRIPT@,$INSTALL_SCRIPT,;t t\n s,@INSTALL_DATA@,$INSTALL_DATA,;t t\n@@ -8787,6 +8812,7 @@ s,@target_header_dir@,$target_header_dir,;t t\n s,@pexecute@,$pexecute,;t t\n s,@ltpexecute@,$ltpexecute,;t t\n s,@INSTALL_DEST@,$INSTALL_DEST,;t t\n+s,@enable_shared@,$enable_shared,;t t\n s,@LTLIBOBJS@,$LTLIBOBJS,;t t\n /@host_makefile_frag@/r $host_makefile_frag\n s,@host_makefile_frag@,,;t t"}, {"sha": "012bbfc262cd192db6ef06b1add0eebbe8a7146a", "filename": "libiberty/configure.ac", "status": "modified", "additions": 29, "deletions": 6, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad49d8653bc2ad7241def5825a07fdd9de204bf0/libiberty%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad49d8653bc2ad7241def5825a07fdd9de204bf0/libiberty%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure.ac?ref=ad49d8653bc2ad7241def5825a07fdd9de204bf0", "patch": "@@ -4,6 +4,9 @@ AC_PREREQ(2.59)\n AC_INIT\n AC_CONFIG_SRCDIR([xmalloc.c])\n \n+# FIXME: libiberty doesn't support --disable-static\n+enable_static=yes\n+\n # This works around the fact that libtool configuration may change LD\n # for this particular configuration, but some shells, instead of\n # keeping the changes in LD private, export them just because LD is\n@@ -113,8 +116,6 @@ GCC_NO_EXECUTABLES\n AC_PROG_CC\n AC_PROG_CPP_WERROR\n \n-AC_PROG_LIBTOOL\n-\n if test x$GCC = xyes; then\n   ac_libiberty_warn_cflags='-W -Wall -Wtraditional -pedantic'\n fi\n@@ -124,13 +125,11 @@ AC_C_CONST\n AC_C_INLINE\n AC_C_BIGENDIAN_CROSS\n \n-dnl When we start using libtool:\n dnl Default to a non shared library.  This may be overridden by the\n dnl configure option --enable-shared.\n-dnl AM_DISABLE_SHARED\n+AM_DISABLE_SHARED\n \n-dnl When we start using libtool:\n-dnl AM_PROG_LIBTOOL\n+AM_PROG_LIBTOOL\n \n dnl When we start using automake:\n dnl AM_CONFIG_HEADER(config.h:config.in)\n@@ -529,6 +528,30 @@ else\n fi\n AC_SUBST(INSTALL_DEST)\n \n+# Add `./' to avoid VPATH.\n+m4_pattern_allow(LIBOBJS)\n+L=\"\"\n+for l in x $LIBOBJS; do\n+  case $l in\n+    x) ;;\n+    *) L=\"$L ./$l\" ;;\n+  esac\n+done\n+LIBOBJS=\"$L\"\n+\n+m4_pattern_allow(LTLIBOBJS)\n+L=\"\"\n+for l in x $LTLIBOBJS; do\n+  case $l in\n+    x) ;;\n+    *) L=\"$L ./$l\" ;;\n+  esac\n+done\n+LTLIBOBJS=\"$L\"\n+\n+dnl Delete it when we start creating shared library with libtool.\n+AC_SUBST(enable_shared)\n+\n # We need multilib support, but only if configuring for the target.\n AC_CONFIG_FILES([Makefile testsuite/Makefile])\n AC_CONFIG_COMMANDS([default],"}]}