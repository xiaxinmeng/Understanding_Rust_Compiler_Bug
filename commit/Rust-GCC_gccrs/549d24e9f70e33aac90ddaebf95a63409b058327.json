{"sha": "549d24e9f70e33aac90ddaebf95a63409b058327", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTQ5ZDI0ZTlmNzBlMzNhYWM5MGRkYWViZjk1YTYzNDA5YjA1ODMyNw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2017-10-06T13:37:20Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-10-06T13:37:20Z"}, "message": "ztest.c (test_large): Pass unsigned long *, not size_t *, to zlib uncompress function.\n\n\t* ztest.c (test_large): Pass unsigned long *, not size_t *, to\n\tzlib uncompress function.\n\nFrom-SVN: r253491", "tree": {"sha": "d9785a84ea32807eb6622002b93674895e97b388", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d9785a84ea32807eb6622002b93674895e97b388"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/549d24e9f70e33aac90ddaebf95a63409b058327", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/549d24e9f70e33aac90ddaebf95a63409b058327", "html_url": "https://github.com/Rust-GCC/gccrs/commit/549d24e9f70e33aac90ddaebf95a63409b058327", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/549d24e9f70e33aac90ddaebf95a63409b058327/comments", "author": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d155a264dfe562806dd2d44aca7e272594a3e92e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d155a264dfe562806dd2d44aca7e272594a3e92e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d155a264dfe562806dd2d44aca7e272594a3e92e"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "5540530ef4fd5af4bd9c7c300bc3c08ebf1566da", "filename": "libbacktrace/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/549d24e9f70e33aac90ddaebf95a63409b058327/libbacktrace%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/549d24e9f70e33aac90ddaebf95a63409b058327/libbacktrace%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FChangeLog?ref=549d24e9f70e33aac90ddaebf95a63409b058327", "patch": "@@ -1,3 +1,8 @@\n+2017-10-06  Ian Lance Taylor  <iant@golang.org>\n+\n+\t* ztest.c (test_large): Pass unsigned long *, not size_t *, to\n+\tzlib uncompress function.\n+\n 2017-10-05  Ian Lance Taylor  <iant@golang.org>\n \n \t* elf.c (elf_zlib_fetch): Change pval argument to uint64_t *."}, {"sha": "9ce4b21fcd1b98c88d1858d03494846b101ad88f", "filename": "libbacktrace/ztest.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/549d24e9f70e33aac90ddaebf95a63409b058327/libbacktrace%2Fztest.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/549d24e9f70e33aac90ddaebf95a63409b058327/libbacktrace%2Fztest.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fztest.c?ref=549d24e9f70e33aac90ddaebf95a63409b058327", "patch": "@@ -369,6 +369,8 @@ test_large (struct backtrace_state *state)\n \n   for (i = 0; i < trials; ++i)\n     {\n+      unsigned long uncompress_sizearg;\n+\n       cid = ZLIB_CLOCK_GETTIME_ARG;\n       if (clock_gettime (cid, &ts1) < 0)\n \t{\n@@ -406,7 +408,8 @@ test_large (struct backtrace_state *state)\n \t  return;\n \t}\n \n-      r = uncompress (uncompressed_buf, &uncompressed_bufsize,\n+      uncompress_sizearg = uncompressed_bufsize;\n+      r = uncompress (uncompressed_buf, &uncompress_sizearg,\n \t\t      compressed_buf + 12, compressed_bufsize - 12);\n \n       if (clock_gettime (cid, &ts2) < 0)"}]}