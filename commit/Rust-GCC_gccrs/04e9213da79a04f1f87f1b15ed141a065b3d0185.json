{"sha": "04e9213da79a04f1f87f1b15ed141a065b3d0185", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDRlOTIxM2RhNzlhMDRmMWY4N2YxYjE1ZWQxNDFhMDY1YjNkMDE4NQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-11-20T10:46:08Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-11-20T10:46:08Z"}, "message": "[multiple changes]\n\n2014-11-20  Eric Botcazou  <ebotcazou@adacore.com>\n\n\t* inline.adb (Analyze_Inlined_Bodies): Iterate between loading\n\tof the inlined bodies and instantiation of the generic bodies\n\tuntil no more bodies need to be loaded.\n\n2014-11-20  Vincent Celier  <celier@adacore.com>\n\n\t* prj.adb, prj.ads, prj-conf.adb: Minor change of procedure name:\n\tUpdate_Ignore_Missing_With becomes Set_Ignore_Missing_With.\n\nFrom-SVN: r217831", "tree": {"sha": "e66f1a9b36e9aec397c157cffafca6655be5b276", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e66f1a9b36e9aec397c157cffafca6655be5b276"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/04e9213da79a04f1f87f1b15ed141a065b3d0185", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04e9213da79a04f1f87f1b15ed141a065b3d0185", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04e9213da79a04f1f87f1b15ed141a065b3d0185", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04e9213da79a04f1f87f1b15ed141a065b3d0185/comments", "author": null, "committer": null, "parents": [{"sha": "8a23b1006359c176dcc6cfd0a6a7cabcf58687c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a23b1006359c176dcc6cfd0a6a7cabcf58687c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a23b1006359c176dcc6cfd0a6a7cabcf58687c7"}], "stats": {"total": 54, "additions": 36, "deletions": 18}, "files": [{"sha": "610203b6066b45ee2ff6ee1a85d47528ae42c3eb", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04e9213da79a04f1f87f1b15ed141a065b3d0185/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04e9213da79a04f1f87f1b15ed141a065b3d0185/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=04e9213da79a04f1f87f1b15ed141a065b3d0185", "patch": "@@ -1,3 +1,14 @@\n+2014-11-20  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* inline.adb (Analyze_Inlined_Bodies): Iterate between loading\n+\tof the inlined bodies and instantiation of the generic bodies\n+\tuntil no more bodies need to be loaded.\n+\n+2014-11-20  Vincent Celier  <celier@adacore.com>\n+\n+\t* prj.adb, prj.ads, prj-conf.adb: Minor change of procedure name:\n+\tUpdate_Ignore_Missing_With becomes Set_Ignore_Missing_With.\n+\n 2014-11-20  Robert Dewar  <dewar@adacore.com>\n \n \t* exp_ch7.adb, sem_ch5.adb, sem_ch7.adb, sem_util.adb,"}, {"sha": "13d0f918b366f515b53c8a9939d6ca1ff407c0b4", "filename": "gcc/ada/inline.adb", "status": "modified", "additions": 12, "deletions": 7, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04e9213da79a04f1f87f1b15ed141a065b3d0185/gcc%2Fada%2Finline.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04e9213da79a04f1f87f1b15ed141a065b3d0185/gcc%2Fada%2Finline.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Finline.adb?ref=04e9213da79a04f1f87f1b15ed141a065b3d0185", "patch": "@@ -774,15 +774,20 @@ package body Inline is\n             end if;\n \n             J := J + 1;\n-         end loop;\n \n-         --  The analysis of required bodies may have produced additional\n-         --  generic instantiations. To obtain further inlining, we perform\n-         --  another round of generic body instantiations. Establishing a\n-         --  fully recursive loop between inlining and generic instantiations\n-         --  is unlikely to yield more than this one additional pass.\n+            if J > Inlined_Bodies.Last then\n+\n+               --  The analysis of required bodies may have produced additional\n+               --  generic instantiations. To obtain further inlining, we need\n+               --  to perform another round of generic body instantiations.\n+\n+               Instantiate_Bodies;\n \n-         Instantiate_Bodies;\n+               --  Symmetrically, the instantiation of required generic bodies\n+               --  may have caused additional bodies to be inlined. To obtain\n+               --  further inlining, we keep looping over the inlined bodies.\n+            end if;\n+         end loop;\n \n          --  The list of inlined subprograms is an overestimate, because it\n          --  includes inlined functions called from functions that are compiled"}, {"sha": "84c3dd64aae936c86b7076e1716607efaa333e34", "filename": "gcc/ada/prj-conf.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04e9213da79a04f1f87f1b15ed141a065b3d0185/gcc%2Fada%2Fprj-conf.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04e9213da79a04f1f87f1b15ed141a065b3d0185/gcc%2Fada%2Fprj-conf.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-conf.adb?ref=04e9213da79a04f1f87f1b15ed141a065b3d0185", "patch": "@@ -1630,7 +1630,7 @@ package body Prj.Conf is\n \n       --  Start with ignoring missing withed projects\n \n-      Update_Ignore_Missing_With (Env.Flags, True);\n+      Set_Ignore_Missing_With (Env.Flags, True);\n \n       --  Note: If in fact the config file is automatically generated, then\n       --  Automatically_Generated will be set to True after invocation of\n@@ -1751,7 +1751,7 @@ package body Prj.Conf is\n       --  update the project path and try again.\n \n       if Main_Project /= No_Project and then Config_Try_Again then\n-         Update_Ignore_Missing_With (Env.Flags, False);\n+         Set_Ignore_Missing_With (Env.Flags, False);\n \n          if Config_File_Path /= null then\n             Conf_File_Name := new String'(Config_File_Path.all);"}, {"sha": "b696e2a7f485c4e883e5e67e696aae444bbb3875", "filename": "gcc/ada/prj.adb", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04e9213da79a04f1f87f1b15ed141a065b3d0185/gcc%2Fada%2Fprj.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04e9213da79a04f1f87f1b15ed141a065b3d0185/gcc%2Fada%2Fprj.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.adb?ref=04e9213da79a04f1f87f1b15ed141a065b3d0185", "patch": "@@ -2147,16 +2147,17 @@ package body Prj is\n         (Root_Project, Root_Tree, Project_Context'(False, False));\n    end For_Project_And_Aggregated_Context;\n \n-   --------------------------------\n-   -- Update_Ignore_Missing_With --\n-   --------------------------------\n+   -----------------------------\n+   -- Set_Ignore_Missing_With --\n+   -----------------------------\n \n-   procedure Update_Ignore_Missing_With\n-     (Flags : in out Processing_Flags; Value : Boolean)\n+   procedure Set_Ignore_Missing_With\n+     (Flags : in out Processing_Flags;\n+      Value : Boolean)\n    is\n    begin\n       Flags.Ignore_Missing_With := Value;\n-   end Update_Ignore_Missing_With;\n+   end Set_Ignore_Missing_With;\n \n --  Package initialization for Prj\n "}, {"sha": "6266a0ad012a6b483a2c5855e5593d89f39beffa", "filename": "gcc/ada/prj.ads", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04e9213da79a04f1f87f1b15ed141a065b3d0185/gcc%2Fada%2Fprj.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04e9213da79a04f1f87f1b15ed141a065b3d0185/gcc%2Fada%2Fprj.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.ads?ref=04e9213da79a04f1f87f1b15ed141a065b3d0185", "patch": "@@ -1893,9 +1893,10 @@ package Prj is\n    --       * user project also includes a \"with\" that can only be resolved\n    --         once we have found the gnatls\n \n-   procedure Update_Ignore_Missing_With\n-     (Flags : in out Processing_Flags; Value : Boolean);\n-   --  Update the value of component Ignore_Missing_With in Flags with Value\n+   procedure Set_Ignore_Missing_With\n+     (Flags : in out Processing_Flags;\n+      Value : Boolean);\n+   --  Set the value of component Ignore_Missing_With in Flags to Value\n \n    Gprbuild_Flags   : constant Processing_Flags;\n    Gprinstall_Flags : constant Processing_Flags;"}]}