{"sha": "b7a95a1acfbc0f69c4d09406a3b039ab5867a420", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjdhOTVhMWFjZmJjMGY2OWM0ZDA5NDA2YTNiMDM5YWI1ODY3YTQyMA==", "commit": {"author": {"name": "Wei Mi", "email": "wmi@gcc.gnu.org", "date": "2014-08-20T16:52:03Z"}, "committer": {"name": "Wei Mi", "email": "wmi@gcc.gnu.org", "date": "2014-08-20T16:52:03Z"}, "message": "Miss to \"svn add\" test files in r214233 before commit.\n\nFrom-SVN: r214234", "tree": {"sha": "f67f15e7fbff310f01977c1ef3e56a1a3c3c941a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f67f15e7fbff310f01977c1ef3e56a1a3c3c941a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b7a95a1acfbc0f69c4d09406a3b039ab5867a420", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7a95a1acfbc0f69c4d09406a3b039ab5867a420", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7a95a1acfbc0f69c4d09406a3b039ab5867a420", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7a95a1acfbc0f69c4d09406a3b039ab5867a420/comments", "author": null, "committer": null, "parents": [{"sha": "58041fe6cf11a9b95a79e6bf694fe37e33d41e6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58041fe6cf11a9b95a79e6bf694fe37e33d41e6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58041fe6cf11a9b95a79e6bf694fe37e33d41e6f"}], "stats": {"total": 133, "additions": 133, "deletions": 0}, "files": [{"sha": "a430830cbed8235c07c43001be41230a2ac1c581", "filename": "gcc/testsuite/gcc.dg/lto/pr60449_0.c", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7a95a1acfbc0f69c4d09406a3b039ab5867a420/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr60449_0.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7a95a1acfbc0f69c4d09406a3b039ab5867a420/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr60449_0.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr60449_0.c?ref=b7a95a1acfbc0f69c4d09406a3b039ab5867a420", "patch": "@@ -0,0 +1,30 @@\n+/* { dg-lto-do link } */\n+\n+extern int printf (const char *__restrict __format, ...);\n+typedef long int __time_t;\n+typedef long int __suseconds_t;\n+\n+struct timeval\n+  {\n+    __time_t tv_sec;\n+    __suseconds_t tv_usec;\n+  };\n+\n+struct timezone\n+  {\n+    int tz_minuteswest;\n+    int tz_dsttime;\n+  };\n+typedef struct timezone *__restrict __timezone_ptr_t;\n+\n+extern int gettimeofday (struct timeval *__restrict __tv, __timezone_ptr_t __tz);\n+\n+int bar (void)\n+{\n+  struct timeval tv;\n+  struct timezone tz;\n+\n+  gettimeofday (&tv, &tz);\n+  printf (\"This is from bar %i\\n\", tz.tz_dsttime);\n+  return 5;\n+}"}, {"sha": "ddc25296d8ab7cf8a6c74ba88158d09af7b1e9b3", "filename": "gcc/testsuite/gcc.dg/lto/pr60449_1.c", "status": "added", "additions": 76, "deletions": 0, "changes": 76, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7a95a1acfbc0f69c4d09406a3b039ab5867a420/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr60449_1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7a95a1acfbc0f69c4d09406a3b039ab5867a420/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr60449_1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr60449_1.c?ref=b7a95a1acfbc0f69c4d09406a3b039ab5867a420", "patch": "@@ -0,0 +1,76 @@\n+extern int printf (const char *__restrict __format, ...);\n+typedef long int __time_t;\n+typedef long int __suseconds_t;\n+struct timeval\n+  {\n+    __time_t tv_sec;\n+    __suseconds_t tv_usec;\n+  };\n+struct timezone\n+  {\n+    int tz_minuteswest;\n+    int tz_dsttime;\n+  };\n+typedef struct timezone *__restrict __timezone_ptr_t;\n+extern int gettimeofday (struct timeval *__restrict __tv,\n+    __timezone_ptr_t __tz) __attribute__ ((__nothrow__ , __leaf__)) __attribute__ ((__nonnull__ (1)));\n+\n+typedef long int __jmp_buf[8];\n+typedef struct\n+  {\n+    unsigned long int __val[(1024 / (8 * sizeof (unsigned long int)))];\n+  } __sigset_t;\n+struct __jmp_buf_tag\n+  {\n+    __jmp_buf __jmpbuf;\n+    int __mask_was_saved;\n+    __sigset_t __saved_mask;\n+  };\n+typedef struct __jmp_buf_tag jmp_buf[1];\n+\n+extern int setjmp (jmp_buf __env) __attribute__ ((__nothrow__));\n+extern void longjmp (struct __jmp_buf_tag __env[1], int __val)\n+     __attribute__ ((__nothrow__)) __attribute__ ((__noreturn__));\n+\n+extern int bar (void);\n+\n+int __attribute__ ((noinline, noclone))\n+get_input (void)\n+{\n+  return 0;\n+}\n+\n+static jmp_buf buf;\n+\n+int foo (void)\n+{\n+  if (get_input ())\n+    longjmp(buf, 1);\n+  return 0;\n+}\n+\n+volatile int z;\n+\n+\n+int main (void)\n+{\n+  struct timeval tv;\n+  struct timezone tz;\n+\n+  bar();\n+  if (setjmp (buf))\n+    return 1;\n+\n+  if (!get_input ())\n+    {\n+      gettimeofday (&tv, &tz);\n+      z = 0;\n+      printf (\"This is from main %i\\n\", tz.tz_dsttime);\n+    }\n+\n+  foo ();\n+  bar ();\n+  bar ();\n+\n+  return 0;\n+}"}, {"sha": "8768c546bdaa7b13ad3875230ca58b96ffd82524", "filename": "gcc/testsuite/gcc.dg/pr61776.c", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7a95a1acfbc0f69c4d09406a3b039ab5867a420/gcc%2Ftestsuite%2Fgcc.dg%2Fpr61776.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7a95a1acfbc0f69c4d09406a3b039ab5867a420/gcc%2Ftestsuite%2Fgcc.dg%2Fpr61776.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr61776.c?ref=b7a95a1acfbc0f69c4d09406a3b039ab5867a420", "patch": "@@ -0,0 +1,27 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fprofile-generate\" } */\n+\n+#include <setjmp.h>\n+\n+int cond1, cond2;\n+\n+int goo() __attribute__((noinline));\n+\n+int goo() {\n+ if (cond1)\n+   return 1;\n+ else\n+   return 2;\n+}\n+\n+jmp_buf env;\n+int foo() {\n+ int a;\n+\n+ setjmp(env);\n+ if (cond2)\n+   a = goo();\n+ else\n+   a = 3;\n+ return a;\n+}"}]}