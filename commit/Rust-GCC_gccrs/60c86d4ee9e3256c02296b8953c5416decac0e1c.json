{"sha": "60c86d4ee9e3256c02296b8953c5416decac0e1c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjBjODZkNGVlOWUzMjU2YzAyMjk2Yjg5NTNjNTQxNmRlY2FjMGUxYw==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2002-06-10T22:29:14Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2002-06-10T22:29:14Z"}, "message": "simplify-rtx.c (simplify_replace_rtx): Allow replacement of matching registers.\n\n\n\t* simplify-rtx.c (simplify_replace_rtx): Allow replacement\n\tof matching registers.\n\nFrom-SVN: r54476", "tree": {"sha": "5ded05ecd777bb0523f06bcb3e23afc6d34e4d19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5ded05ecd777bb0523f06bcb3e23afc6d34e4d19"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/60c86d4ee9e3256c02296b8953c5416decac0e1c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60c86d4ee9e3256c02296b8953c5416decac0e1c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/60c86d4ee9e3256c02296b8953c5416decac0e1c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60c86d4ee9e3256c02296b8953c5416decac0e1c/comments", "author": null, "committer": null, "parents": [{"sha": "9543a9d2d4a1b40161b14b389c7b4f2c1208ec06", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9543a9d2d4a1b40161b14b389c7b4f2c1208ec06", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9543a9d2d4a1b40161b14b389c7b4f2c1208ec06"}], "stats": {"total": 22, "additions": 16, "deletions": 6}, "files": [{"sha": "8d45988d53747390a2faad97ebefb610256921a5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60c86d4ee9e3256c02296b8953c5416decac0e1c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60c86d4ee9e3256c02296b8953c5416decac0e1c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=60c86d4ee9e3256c02296b8953c5416decac0e1c", "patch": "@@ -1,3 +1,8 @@\n+2002-06-10  Roger Sayle  <roger@eyesopen.com>\n+\n+\t* simplify-rtx.c (simplify_replace_rtx): Allow replacement\n+\tof matching registers.\n+\n 2002-06-10  Roger Sayle  <roger@eyesopen.com>\n \n \t* toplev.c (rest_of_compilation): Disable early if-conversion pass."}, {"sha": "5a4509c602cd25b524b87f64f89c4a9404e00926", "filename": "gcc/simplify-rtx.c", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60c86d4ee9e3256c02296b8953c5416decac0e1c/gcc%2Fsimplify-rtx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60c86d4ee9e3256c02296b8953c5416decac0e1c/gcc%2Fsimplify-rtx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsimplify-rtx.c?ref=60c86d4ee9e3256c02296b8953c5416decac0e1c", "patch": "@@ -349,14 +349,19 @@ simplify_replace_rtx (x, old, new)\n \t}\n       return x;\n \n-    default:\n-      if (GET_CODE (x) == MEM)\n-\treturn\n-\t  replace_equiv_address_nv (x,\n-\t\t\t\t    simplify_replace_rtx (XEXP (x, 0),\n-\t\t\t\t\t\t\t  old, new));\n+    case 'o':\n+      if (code == MEM)\n+\treturn replace_equiv_address_nv (x,\n+\t\t\t\t\t simplify_replace_rtx (XEXP (x, 0),\n+\t\t\t\t\t\t\t       old, new));\n+\n+      if (REG_P (x) && REG_P (old) && REGNO (x) == REGNO (old))\n+\treturn new;\n \n       return x;\n+\n+    default:\n+      return x;\n     }\n   return x;\n }"}]}