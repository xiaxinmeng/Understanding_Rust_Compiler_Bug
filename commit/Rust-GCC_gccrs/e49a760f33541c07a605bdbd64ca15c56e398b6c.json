{"sha": "e49a760f33541c07a605bdbd64ca15c56e398b6c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTQ5YTc2MGYzMzU0MWMwN2E2MDViZGJkNjRjYTE1YzU2ZTM5OGI2Yw==", "commit": {"author": {"name": "Andrew Pinski", "email": "andrew.pinski@caviumnetworks.com", "date": "2010-03-19T22:52:41Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2010-03-19T22:52:41Z"}, "message": "re PR c/43211 (ICE with incomplete type in function argument)\n\n2010-03-19  Andrew Pinski  <andrew_pinski@caviumnetworks.com>\n\n        PR C/43211\n        * c-decl.c (grokparms): Set arg_types to NULL_TREE if there was an error.\n\n2010-03-19  Andrew Pinski  <andrew_pinski@caviumnetworks.com>\n\n        PR C/43211\n        * gcc.dg/pr43211.c: New test.\n        * gcc.dg/pr18809-1.c: Don't expect an error when calling foo.\n\nFrom-SVN: r157585", "tree": {"sha": "e9656d534c50302597e79125c358500a49c47f8f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e9656d534c50302597e79125c358500a49c47f8f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e49a760f33541c07a605bdbd64ca15c56e398b6c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e49a760f33541c07a605bdbd64ca15c56e398b6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e49a760f33541c07a605bdbd64ca15c56e398b6c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e49a760f33541c07a605bdbd64ca15c56e398b6c/comments", "author": null, "committer": null, "parents": [{"sha": "fdb2c6841da6ea02699c79ae63d80ffef3b140e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fdb2c6841da6ea02699c79ae63d80ffef3b140e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fdb2c6841da6ea02699c79ae63d80ffef3b140e8"}], "stats": {"total": 30, "additions": 29, "deletions": 1}, "files": [{"sha": "8684997b9e260a1c9e2ce265bde36c89c06bc8e4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e49a760f33541c07a605bdbd64ca15c56e398b6c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e49a760f33541c07a605bdbd64ca15c56e398b6c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e49a760f33541c07a605bdbd64ca15c56e398b6c", "patch": "@@ -1,3 +1,8 @@\n+2010-03-19  Andrew Pinski  <andrew_pinski@caviumnetworks.com>\n+\n+\tPR C/43211\n+\t* c-decl.c (grokparms): Set arg_types to NULL_TREE if there was an error.\n+\n 2010-03-19  Bernd Schmidt  <bernd.schmidt@codesourcery.com>\n \n \tPR rtl-optimization/42258"}, {"sha": "fed04dca9e98e9d2b9f15bafc12103c82b5c0628", "filename": "gcc/c-decl.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e49a760f33541c07a605bdbd64ca15c56e398b6c/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e49a760f33541c07a605bdbd64ca15c56e398b6c/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=e49a760f33541c07a605bdbd64ca15c56e398b6c", "patch": "@@ -6118,6 +6118,7 @@ grokparms (struct c_arg_info *arg_info, bool funcdef_flag)\n \n \t\t  TREE_VALUE (typelt) = error_mark_node;\n \t\t  TREE_TYPE (parm) = error_mark_node;\n+\t\t  arg_types = NULL_TREE;\n \t\t}\n \t      else if (VOID_TYPE_P (type))\n \t\t{\n@@ -6138,6 +6139,7 @@ grokparms (struct c_arg_info *arg_info, bool funcdef_flag)\n \t      error (errmsg);\n \t      TREE_VALUE (typelt) = error_mark_node;\n \t      TREE_TYPE (parm) = error_mark_node;\n+\t      arg_types = NULL_TREE;\n \t    }\n \n \t  if (DECL_NAME (parm) && TREE_USED (parm))"}, {"sha": "8e5ca1fe14e51882a464161717e50f79f02989be", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e49a760f33541c07a605bdbd64ca15c56e398b6c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e49a760f33541c07a605bdbd64ca15c56e398b6c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e49a760f33541c07a605bdbd64ca15c56e398b6c", "patch": "@@ -1,3 +1,9 @@\n+2010-03-19  Andrew Pinski  <andrew_pinski@caviumnetworks.com>\n+\n+\tPR C/43211\n+\t* gcc.dg/pr43211.c: New test.\n+\t* gcc.dg/pr18809-1.c: Don't expect an error when calling foo.\n+\n 2010-03-19  Bernd Schmidt  <bernd.schmidt@codesourcery.com>\n \n \tPR rtl-optimization/42258"}, {"sha": "3b6e8cc1852de09a8310ee78c81c66f989b3f837", "filename": "gcc/testsuite/gcc.dg/pr18809-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e49a760f33541c07a605bdbd64ca15c56e398b6c/gcc%2Ftestsuite%2Fgcc.dg%2Fpr18809-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e49a760f33541c07a605bdbd64ca15c56e398b6c/gcc%2Ftestsuite%2Fgcc.dg%2Fpr18809-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr18809-1.c?ref=e49a760f33541c07a605bdbd64ca15c56e398b6c", "patch": "@@ -7,4 +7,4 @@ void foo(enum E e) {}   /* { dg-error \"forward ref\" \"forward\" } */\n \t\t\t/* { dg-warning \"declared\" \"declared\" { target *-*-* } 6 } */\n \t\t\t/* { dg-warning \"scope\" \"scope\" { target *-*-* } 6 } */\n \t\t\t/* { dg-error \"incomplete\" \"incomplete\" { target *-*-* } 6 } */\n-void bar() { foo(0); }  /* { dg-error \"formal\" } */\n+void bar() { foo(0); }"}, {"sha": "1549619ed16267c8859270e810135749d14ec87a", "filename": "gcc/testsuite/gcc.dg/pr43211.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e49a760f33541c07a605bdbd64ca15c56e398b6c/gcc%2Ftestsuite%2Fgcc.dg%2Fpr43211.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e49a760f33541c07a605bdbd64ca15c56e398b6c/gcc%2Ftestsuite%2Fgcc.dg%2Fpr43211.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr43211.c?ref=e49a760f33541c07a605bdbd64ca15c56e398b6c", "patch": "@@ -0,0 +1,15 @@\n+/* { dg-do compile } */\n+\n+struct T;\n+\n+struct S {\n+  void (*bar)(struct S);\n+};\n+\n+void bar(struct T t) {} /* { dg-error \"\" }  */\n+\n+void foo(struct S *s)\n+{\n+  s->bar = bar;\n+}\n+"}]}