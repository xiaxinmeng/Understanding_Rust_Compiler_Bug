{"sha": "5e4a80e8a80584741b1e5dd73b936b15862e9171", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWU0YTgwZThhODA1ODQ3NDFiMWU1ZGQ3M2I5MzZiMTU4NjJlOTE3MQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2017-11-28T18:21:10Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2017-11-28T18:21:10Z"}, "message": "* gimple-ssa-evrp-analyze.c\n\t(evrp_range_analyzer::record_ranges_from_phis): Only use SCEV to\n\trefine ranges if scev_initialized_p returns true.\n\t* vr-values.c (vr_values::extract_range_from_phi_node): Likewise.\n\nFrom-SVN: r255211", "tree": {"sha": "37c7440f9d1975696e190e877a50d4226e024b0c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/37c7440f9d1975696e190e877a50d4226e024b0c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5e4a80e8a80584741b1e5dd73b936b15862e9171", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e4a80e8a80584741b1e5dd73b936b15862e9171", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e4a80e8a80584741b1e5dd73b936b15862e9171", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e4a80e8a80584741b1e5dd73b936b15862e9171/comments", "author": null, "committer": null, "parents": [{"sha": "196860441ef4bc4bf91de37a66c733dd49031be9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/196860441ef4bc4bf91de37a66c733dd49031be9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/196860441ef4bc4bf91de37a66c733dd49031be9"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "cc548d7d7e3faf2531e603eb9a62f6c936052166", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e4a80e8a80584741b1e5dd73b936b15862e9171/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e4a80e8a80584741b1e5dd73b936b15862e9171/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5e4a80e8a80584741b1e5dd73b936b15862e9171", "patch": "@@ -1,3 +1,10 @@\n+2017-11-28  Jeff Law  <law@redhat.com>\n+\n+\t* gimple-ssa-evrp-analyze.c\n+\t(evrp_range_analyzer::record_ranges_from_phis): Only use SCEV to\n+\trefine ranges if scev_initialized_p returns true.\n+\t* vr-values.c (vr_values::extract_range_from_phi_node): Likewise.\n+\n 2017-11-28  Julia Koval  <julia.koval@intel.com>\n \n \t* config/i386/avx512vbmi2intrin.h (_mm512_shrdi_epi16,"}, {"sha": "551b1d6b5295f5d95ac7d4f0ff3bd9f234e3ef65", "filename": "gcc/gimple-ssa-evrp-analyze.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e4a80e8a80584741b1e5dd73b936b15862e9171/gcc%2Fgimple-ssa-evrp-analyze.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e4a80e8a80584741b1e5dd73b936b15862e9171/gcc%2Fgimple-ssa-evrp-analyze.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-ssa-evrp-analyze.c?ref=5e4a80e8a80584741b1e5dd73b936b15862e9171", "patch": "@@ -246,7 +246,8 @@ evrp_range_analyzer::record_ranges_from_phis (basic_block bb)\n \t     to use VARYING for them.  But we can still resort to\n \t     SCEV for loop header PHIs.  */\n \t  struct loop *l;\n-\t  if (interesting\n+\t  if (scev_initialized_p ()\n+\t      && interesting\n \t      && (l = loop_containing_stmt (phi))\n \t      && l->header == gimple_bb (phi))\n \t  vr_values->adjust_range_with_scev (&vr_result, l, phi, lhs);"}, {"sha": "9352e120d9d1772222d26378233e66bc32db9e22", "filename": "gcc/vr-values.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e4a80e8a80584741b1e5dd73b936b15862e9171/gcc%2Fvr-values.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e4a80e8a80584741b1e5dd73b936b15862e9171/gcc%2Fvr-values.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvr-values.c?ref=5e4a80e8a80584741b1e5dd73b936b15862e9171", "patch": "@@ -2935,7 +2935,8 @@ vr_values::extract_range_from_phi_node (gphi *phi, value_range *vr_result)\n      scev_check can be reached from two paths, one is a fall through from above\n      \"varying\" label, the other is direct goto from code block which tries to\n      avoid infinite simulation.  */\n-  if ((l = loop_containing_stmt (phi))\n+  if (scev_initialized_p ()\n+      && (l = loop_containing_stmt (phi))\n       && l->header == gimple_bb (phi))\n     adjust_range_with_scev (vr_result, l, phi, lhs);\n "}]}