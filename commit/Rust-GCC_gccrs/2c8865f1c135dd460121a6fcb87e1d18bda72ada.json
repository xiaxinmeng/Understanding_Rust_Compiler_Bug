{"sha": "2c8865f1c135dd460121a6fcb87e1d18bda72ada", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmM4ODY1ZjFjMTM1ZGQ0NjAxMjFhNmZjYjg3ZTFkMThiZGE3MmFkYQ==", "commit": {"author": {"name": "Nathan Froyd", "email": "froydnj@codesourcery.com", "date": "2010-10-11T21:50:58Z"}, "committer": {"name": "Nathan Froyd", "email": "froydnj@gcc.gnu.org", "date": "2010-10-11T21:50:58Z"}, "message": "recog.c (nonmemory_operand): Call immediate_operand for CONSTANT_P operands.\n\n\t* recog.c (nonmemory_operand): Call immediate_operand for\n\tCONSTANT_P operands.\n\nFrom-SVN: r165334", "tree": {"sha": "081a17eceadb29be485dc2d40f8f4b59059f4305", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/081a17eceadb29be485dc2d40f8f4b59059f4305"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2c8865f1c135dd460121a6fcb87e1d18bda72ada", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c8865f1c135dd460121a6fcb87e1d18bda72ada", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c8865f1c135dd460121a6fcb87e1d18bda72ada", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c8865f1c135dd460121a6fcb87e1d18bda72ada/comments", "author": null, "committer": null, "parents": [{"sha": "63835102f4bfc417c7d09ad7c79ef468d2ac8d69", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63835102f4bfc417c7d09ad7c79ef468d2ac8d69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/63835102f4bfc417c7d09ad7c79ef468d2ac8d69"}], "stats": {"total": 24, "additions": 6, "deletions": 18}, "files": [{"sha": "fa11af79ee8ea6cbe3ab5fcc34d4645c6c4a31e5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8865f1c135dd460121a6fcb87e1d18bda72ada/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8865f1c135dd460121a6fcb87e1d18bda72ada/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2c8865f1c135dd460121a6fcb87e1d18bda72ada", "patch": "@@ -1,3 +1,8 @@\n+2010-10-11  Nathan Froyd  <froydnj@codesourcery.com>\n+\n+\t* recog.c (nonmemory_operand): Call immediate_operand for\n+\tCONSTANT_P operands.\n+\n 2010-10-11  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/i386.md (movmem<mode>): Macroize expander from"}, {"sha": "e16a85cc4ea240aea727d34291b3c6a76371288c", "filename": "gcc/recog.c", "status": "modified", "additions": 1, "deletions": 18, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8865f1c135dd460121a6fcb87e1d18bda72ada/gcc%2Frecog.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8865f1c135dd460121a6fcb87e1d18bda72ada/gcc%2Frecog.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frecog.c?ref=2c8865f1c135dd460121a6fcb87e1d18bda72ada", "patch": "@@ -1158,24 +1158,7 @@ int\n nonmemory_operand (rtx op, enum machine_mode mode)\n {\n   if (CONSTANT_P (op))\n-    {\n-      /* Don't accept CONST_INT or anything similar\n-\t if the caller wants something floating.  */\n-      if (GET_MODE (op) == VOIDmode && mode != VOIDmode\n-\t  && GET_MODE_CLASS (mode) != MODE_INT\n-\t  && GET_MODE_CLASS (mode) != MODE_PARTIAL_INT)\n-\treturn 0;\n-\n-      if (CONST_INT_P (op)\n-\t  && mode != VOIDmode\n-\t  && trunc_int_for_mode (INTVAL (op), mode) != INTVAL (op))\n-\treturn 0;\n-\n-      return ((GET_MODE (op) == VOIDmode || GET_MODE (op) == mode\n-\t       || mode == VOIDmode)\n-\t      && (! flag_pic || LEGITIMATE_PIC_OPERAND_P (op))\n-\t      && LEGITIMATE_CONSTANT_P (op));\n-    }\n+    return immediate_operand (op, mode);\n \n   if (GET_MODE (op) != mode && mode != VOIDmode)\n     return 0;"}]}