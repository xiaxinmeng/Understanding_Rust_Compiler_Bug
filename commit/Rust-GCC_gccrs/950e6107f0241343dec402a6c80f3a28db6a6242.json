{"sha": "950e6107f0241343dec402a6c80f3a28db6a6242", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTUwZTYxMDdmMDI0MTM0M2RlYzQwMmE2YzgwZjNhMjhkYjZhNjI0Mg==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2013-09-20T21:04:09Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2013-09-20T21:04:09Z"}, "message": "re PR c++/58481 (Internal compiler error when passing argument packs to base class method inside a lambda)\n\n/cp\n2013-09-20  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/58481\n\t* pt.c (tsubst_copy): Use current_nonlambda_class_type to\n\tcall tsubst_baselink.\n\n/testsuite\n2013-09-20  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/58481\n\t* g++.dg/cpp0x/lambda/lambda-this17.C: New.\n\nFrom-SVN: r202797", "tree": {"sha": "154b18d2738785309be0fc42e1f93a3baaccb69d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/154b18d2738785309be0fc42e1f93a3baaccb69d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/950e6107f0241343dec402a6c80f3a28db6a6242", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/950e6107f0241343dec402a6c80f3a28db6a6242", "html_url": "https://github.com/Rust-GCC/gccrs/commit/950e6107f0241343dec402a6c80f3a28db6a6242", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/950e6107f0241343dec402a6c80f3a28db6a6242/comments", "author": null, "committer": null, "parents": [{"sha": "7691132c9150044474afd3634f69a48bd558ea42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7691132c9150044474afd3634f69a48bd558ea42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7691132c9150044474afd3634f69a48bd558ea42"}], "stats": {"total": 35, "additions": 34, "deletions": 1}, "files": [{"sha": "a542ab1ffa3cfa08d9e5ca51143aa12494cc6045", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/950e6107f0241343dec402a6c80f3a28db6a6242/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/950e6107f0241343dec402a6c80f3a28db6a6242/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=950e6107f0241343dec402a6c80f3a28db6a6242", "patch": "@@ -1,3 +1,9 @@\n+2013-09-20  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/58481\n+\t* pt.c (tsubst_copy): Use current_nonlambda_class_type to\n+\tcall tsubst_baselink.\n+\n 2013-09-18  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/58457"}, {"sha": "b330b78cbc84512610bc899ea101efba6497d555", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/950e6107f0241343dec402a6c80f3a28db6a6242/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/950e6107f0241343dec402a6c80f3a28db6a6242/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=950e6107f0241343dec402a6c80f3a28db6a6242", "patch": "@@ -12434,7 +12434,8 @@ tsubst_copy (tree t, tree args, tsubst_flags_t complain, tree in_decl)\n       return t;\n \n     case BASELINK:\n-      return tsubst_baselink (t, current_class_type, args, complain, in_decl);\n+      return tsubst_baselink (t, current_nonlambda_class_type (),\n+\t\t\t      args, complain, in_decl);\n \n     case TEMPLATE_DECL:\n       if (DECL_TEMPLATE_TEMPLATE_PARM_P (t))"}, {"sha": "2fc781a3e37b4b6462c365f95daaa4a98ea5d650", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/950e6107f0241343dec402a6c80f3a28db6a6242/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/950e6107f0241343dec402a6c80f3a28db6a6242/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=950e6107f0241343dec402a6c80f3a28db6a6242", "patch": "@@ -1,3 +1,8 @@\n+2013-09-20  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/58481\n+\t* g++.dg/cpp0x/lambda/lambda-this17.C: New.\n+\n 2013-09-20  Jan-Benedict Glaw  <jbglaw@lug-owl.de>\n \n \tPR target/56875"}, {"sha": "2386e6b1eb8273272000b8878113ad43171e9a70", "filename": "gcc/testsuite/g++.dg/cpp0x/lambda/lambda-this17.C", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/950e6107f0241343dec402a6c80f3a28db6a6242/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-this17.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/950e6107f0241343dec402a6c80f3a28db6a6242/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-this17.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Flambda%2Flambda-this17.C?ref=950e6107f0241343dec402a6c80f3a28db6a6242", "patch": "@@ -0,0 +1,21 @@\n+// PR c++/58481\n+// { dg-require-effective-target c++11 }\n+\n+struct Test {\n+  template<typename... Args> inline void triggerTest (Args&&... fargs) { } \n+};\n+\n+struct TestPickled : Test {  \n+  template<typename... Args> void triggerTest (Args&&... fargs) { \n+    [=](Args... as) {\n+      Test::triggerTest (as...);\n+    } ();\t\t\n+  }\n+};\n+\n+int main()\n+{\n+  TestPickled test;\n+  test.triggerTest ();\n+  return 0;\n+}"}]}