{"sha": "36e5f4d4f34dc06bddd1b8047727a1aa9db61a21", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzZlNWY0ZDRmMzRkYzA2YmRkZDFiODA0NzcyN2ExYWE5ZGI2MWEyMQ==", "commit": {"author": {"name": "Olivier Hainque", "email": "hainque@adacore.com", "date": "2019-11-14T16:00:55Z"}, "committer": {"name": "Olivier Hainque", "email": "hainque@gcc.gnu.org", "date": "2019-11-14T16:00:55Z"}, "message": "Update the libgcc support for VxWorks AE/653\n\n2019-11-12  Olivier Hainque  <hainque@adacore.com>\n\n\tlibgcc/\n\n        * config/t-gthr-vxworksae: New file, add all the gthr-vxworks\n        sources except the cxx0x support to LIB2ADDEH.  We don't support\n        cxx0x on AE/653.\n        * config/t-vxworksae: New file.\n\n        * config.host: Handle *-*-vxworksae: Add the two aforementioned\n\tMakefile fragment files at their expected position in the tmake_file\n\tlist, in accordance with what is done for other VxWorks variants.\n\nFrom-SVN: r278250", "tree": {"sha": "378ee77d0f35d2225d73966c1efb7900a21fac72", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/378ee77d0f35d2225d73966c1efb7900a21fac72"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/36e5f4d4f34dc06bddd1b8047727a1aa9db61a21", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36e5f4d4f34dc06bddd1b8047727a1aa9db61a21", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36e5f4d4f34dc06bddd1b8047727a1aa9db61a21", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36e5f4d4f34dc06bddd1b8047727a1aa9db61a21/comments", "author": {"login": "hainque", "id": 18735142, "node_id": "MDQ6VXNlcjE4NzM1MTQy", "avatar_url": "https://avatars.githubusercontent.com/u/18735142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hainque", "html_url": "https://github.com/hainque", "followers_url": "https://api.github.com/users/hainque/followers", "following_url": "https://api.github.com/users/hainque/following{/other_user}", "gists_url": "https://api.github.com/users/hainque/gists{/gist_id}", "starred_url": "https://api.github.com/users/hainque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hainque/subscriptions", "organizations_url": "https://api.github.com/users/hainque/orgs", "repos_url": "https://api.github.com/users/hainque/repos", "events_url": "https://api.github.com/users/hainque/events{/privacy}", "received_events_url": "https://api.github.com/users/hainque/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "806dd0472f56fd8fc410f106660b1ad2c7505bd7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/806dd0472f56fd8fc410f106660b1ad2c7505bd7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/806dd0472f56fd8fc410f106660b1ad2c7505bd7"}], "stats": {"total": 40, "additions": 40, "deletions": 0}, "files": [{"sha": "ccd72ea417dd156e453a9a372687d8796a4d478c", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36e5f4d4f34dc06bddd1b8047727a1aa9db61a21/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36e5f4d4f34dc06bddd1b8047727a1aa9db61a21/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=36e5f4d4f34dc06bddd1b8047727a1aa9db61a21", "patch": "@@ -1,3 +1,13 @@\n+2019-11-12  Olivier Hainque  <hainque@adacore.com>\n+\n+\t* config/t-gthr-vxworksae: New file, add all the gthr-vxworks\n+\tsources except the cxx0x support to LIB2ADDEH.  We don't support\n+\tcxx0x on AE/653.\n+\t* config/t-vxworksae: New file.\n+\t* config.host: Handle *-*-vxworksae: Add the two aforementioned\n+\tMakefile fragment files at their expected position in the tmake_file\n+\tlist, in accordance with what is done for other VxWorks variants.\n+\n 2019-11-12  Corentin Gay  <gay@adacore.com>\n \t    Jerome Lambourg  <lambourg@adacore.com>\n \t    Olivier Hainque  <hainque@adacore.com>"}, {"sha": "4950303044653ddd5a42cc6e235cd4451493c393", "filename": "libgcc/config.host", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36e5f4d4f34dc06bddd1b8047727a1aa9db61a21/libgcc%2Fconfig.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36e5f4d4f34dc06bddd1b8047727a1aa9db61a21/libgcc%2Fconfig.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig.host?ref=36e5f4d4f34dc06bddd1b8047727a1aa9db61a21", "patch": "@@ -321,6 +321,9 @@ case ${host} in\n *-*-vxworks7*)\n   tmake_file=t-vxworks7\n   ;;\n+*-*-vxworksae*)\n+  tmake_file=t-vxworksae\n+  ;;\n *-*-vxworks*)\n   tmake_file=t-vxworks\n   ;;\n@@ -1520,6 +1523,9 @@ esac\n case ${target_thread_file} in\n vxworks)\n \tcase ${host} in\n+\t*-*-vxworksae)\n+\t\ttmake_file=\"${tmake_file} t-gthr-vxworksae\"\n+\t\t;;\n \t*-*-vxworks*)\n \t\ttmake_file=\"${tmake_file} t-gthr-vxworks\"\n \t\t;;"}, {"sha": "1471298afd376597a94271b2eea193a1a0cb2bfa", "filename": "libgcc/config/t-gthr-vxworksae", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36e5f4d4f34dc06bddd1b8047727a1aa9db61a21/libgcc%2Fconfig%2Ft-gthr-vxworksae", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36e5f4d4f34dc06bddd1b8047727a1aa9db61a21/libgcc%2Fconfig%2Ft-gthr-vxworksae", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Ft-gthr-vxworksae?ref=36e5f4d4f34dc06bddd1b8047727a1aa9db61a21", "patch": "@@ -0,0 +1,7 @@\n+# Extra libgcc2 modules used by gthr-vxworks.h functions. We don't\n+# support the C++ threads on vx653.\n+\n+LIB2ADDEH += $(srcdir)/config/gthr-vxworks.c\\\n+\t     $(srcdir)/config/gthr-vxworks-cond.c\\\n+\t     $(srcdir)/config/gthr-vxworks-tls.c\n+"}, {"sha": "f5003abd1046e3d47733b45f25c897b6b0ad199b", "filename": "libgcc/config/t-vxworksae", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36e5f4d4f34dc06bddd1b8047727a1aa9db61a21/libgcc%2Fconfig%2Ft-vxworksae", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36e5f4d4f34dc06bddd1b8047727a1aa9db61a21/libgcc%2Fconfig%2Ft-vxworksae", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Ft-vxworksae?ref=36e5f4d4f34dc06bddd1b8047727a1aa9db61a21", "patch": "@@ -0,0 +1,17 @@\n+# Don't build libgcc.a with debug info\n+LIBGCC2_DEBUG_CFLAGS =\n+\n+# We do not have access to the cache library when building a vThreads\n+# application.\n+\n+# This ensures that the correct target headers are used; some VxWorks\n+# system headers have names that collide with GCC's internal (host)\n+# headers, e.g. regs.h. Make sure the local libgcc headers still\n+# prevail (e.g. unwind.h), and that gcc provided header files intended\n+# to be user visible eventually are visible as well.\n+LIBGCC2_INCLUDES = -nostdinc -I. \\\n+  -I$(MULTIBUILDTOP)../../gcc/include \\\n+  `case \"/$(MULTIDIR)\" in \\\n+     */mvthreads*) echo -I$(WIND_BASE)/target/vThreads/h -I$(WIND_BASE)/target/val/h -I$(WIND_BASE)/target/h/wrn/coreip ;; \\\n+     *) echo -I$(WIND_BASE)/target/h -I$(WIND_BASE)/target/h/wrn/coreip ;; \\\n+   esac`"}]}