{"sha": "32810ba3df092f3890cb115a162a82afec947966", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzI4MTBiYTNkZjA5MmYzODkwY2IxMTVhMTYyYTgyYWZlYzk0Nzk2Ng==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2002-03-10T21:10:21Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2002-03-10T21:10:21Z"}, "message": "re PR preprocessor/5899 (-M disables -dM)\n\n\tPR preprocessor/5899\n\t* cppinit.c (init_dependency_output): Don't ignore -dM etc.\n\nFrom-SVN: r50545", "tree": {"sha": "509adfec9084d01a3ea73805d5209f71e8940bbd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/509adfec9084d01a3ea73805d5209f71e8940bbd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/32810ba3df092f3890cb115a162a82afec947966", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32810ba3df092f3890cb115a162a82afec947966", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32810ba3df092f3890cb115a162a82afec947966", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32810ba3df092f3890cb115a162a82afec947966/comments", "author": null, "committer": null, "parents": [{"sha": "f90c544c3c709e86f1195e307627954637d68092", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f90c544c3c709e86f1195e307627954637d68092", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f90c544c3c709e86f1195e307627954637d68092"}], "stats": {"total": 15, "additions": 9, "deletions": 6}, "files": [{"sha": "6d98f862c778c9ff07185fae8f651c9dcd6c5648", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32810ba3df092f3890cb115a162a82afec947966/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32810ba3df092f3890cb115a162a82afec947966/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=32810ba3df092f3890cb115a162a82afec947966", "patch": "@@ -1,3 +1,8 @@\n+2002-03-10  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\tPR preprocessor/5899\n+\t* cppinit.c (init_dependency_output): Don't ignore -dM etc.\n+\t\n 2002-03-10  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* mbchar.c (JIS_state_table, JIS_action_table): Const-ify."}, {"sha": "7c7f782eaae894878e0213cecb5c40698e588e9d", "filename": "gcc/cppinit.c", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32810ba3df092f3890cb115a162a82afec947966/gcc%2Fcppinit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32810ba3df092f3890cb115a162a82afec947966/gcc%2Fcppinit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcppinit.c?ref=32810ba3df092f3890cb115a162a82afec947966", "patch": "@@ -1881,15 +1881,13 @@ init_dependency_output (pfile)\n       CPP_OPTION (pfile, print_deps_append) = 1;\n     }\n   else if (CPP_OPTION (pfile, deps_file) == 0)\n-    /* If -M or -MM was seen, default output to wherever was specified\n-       with -o.  out_fname is non-NULL here.  */\n+    /* If -M or -MM was seen without -MF, default output to wherever\n+       was specified with -o.  out_fname is non-NULL here.  */\n     CPP_OPTION (pfile, deps_file) = CPP_OPTION (pfile, out_fname);\n \n-  /* When doing dependencies, we should suppress all output, including\n-     -dM, -dI etc.  */\n+  /* When doing dependencies, suppress normal preprocessed output.\n+     Still do -dM, -dI etc. as e.g. glibc depends on this.  */\n   CPP_OPTION (pfile, no_output) = 1;\n-  CPP_OPTION (pfile, dump_macros) = 0;\n-  CPP_OPTION (pfile, dump_includes) = 0;\n }\n \n /* Handle --help output.  */"}]}