{"sha": "63579539f1ba8e2985327e52965906f09d6f0e36", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjM1Nzk1MzlmMWJhOGUyOTg1MzI3ZTUyOTY1OTA2ZjA5ZDZmMGUzNg==", "commit": {"author": {"name": "Dale Johannesen", "email": "dalej@apple.com", "date": "2005-03-30T20:21:37Z"}, "committer": {"name": "Dale Johannesen", "email": "dalej@gcc.gnu.org", "date": "2005-03-30T20:21:37Z"}, "message": "re PR middle-end/19225 (g++.dg/eh/omit-frame-pointer2.C fails with -fpic/-fPIC on i686-pc-linux-gnu)\n\n2005-03-30  Dale Johannesen  <dalej@apple.com>\n\n        PR middle-end/19225\n        * calls.c (expand_call):  Flush pending deferrals before\n        throwing call.\n\nFrom-SVN: r97277", "tree": {"sha": "dd64ef4e28c90879ca44da928504b00c70604195", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dd64ef4e28c90879ca44da928504b00c70604195"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/63579539f1ba8e2985327e52965906f09d6f0e36", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63579539f1ba8e2985327e52965906f09d6f0e36", "html_url": "https://github.com/Rust-GCC/gccrs/commit/63579539f1ba8e2985327e52965906f09d6f0e36", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63579539f1ba8e2985327e52965906f09d6f0e36/comments", "author": null, "committer": null, "parents": [{"sha": "86472dc31700e9fc684a27fcee2dc743c9d1216f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86472dc31700e9fc684a27fcee2dc743c9d1216f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86472dc31700e9fc684a27fcee2dc743c9d1216f"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "1d20452dc322a6246445af38dc3eae348c26451f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63579539f1ba8e2985327e52965906f09d6f0e36/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63579539f1ba8e2985327e52965906f09d6f0e36/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=63579539f1ba8e2985327e52965906f09d6f0e36", "patch": "@@ -1,3 +1,9 @@\n+2005-03-30  Dale Johannesen  <dalej@apple.com>\n+\n+\tPR middle-end/19225\n+\t* calls.c (expand_call):  Flush pending deferrals before\n+\tthrowing call.\n+\n 2005-03-30  Joseph S. Myers  <joseph@codesourcery.com>\n \n \tPR c/772"}, {"sha": "3eb16c023d10f0be416196e189702e76936fb815", "filename": "gcc/calls.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63579539f1ba8e2985327e52965906f09d6f0e36/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63579539f1ba8e2985327e52965906f09d6f0e36/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=63579539f1ba8e2985327e52965906f09d6f0e36", "patch": "@@ -2261,10 +2261,14 @@ expand_call (tree exp, rtx target, int ignore)\n \t Also, do all pending adjustments now if there is any chance\n \t this might be a call to alloca or if we are expanding a sibling\n \t call sequence or if we are calling a function that is to return\n-\t with stack pointer depressed.  */\n+\t with stack pointer depressed.\n+\t Also do the adjustments before a throwing call, otherwise\n+\t exception handling can fail; PR 19225. */\n       if (pending_stack_adjust >= 32\n \t  || (pending_stack_adjust > 0\n \t      && (flags & (ECF_MAY_BE_ALLOCA | ECF_SP_DEPRESSED)))\n+\t  || (pending_stack_adjust > 0\n+\t      && flag_exceptions && !(flags & ECF_NOTHROW))\n \t  || pass == 0)\n \tdo_pending_stack_adjust ();\n "}]}