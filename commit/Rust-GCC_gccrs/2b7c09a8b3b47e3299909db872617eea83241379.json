{"sha": "2b7c09a8b3b47e3299909db872617eea83241379", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmI3YzA5YThiM2I0N2UzMjk5OTA5ZGI4NzI2MTdlZWE4MzI0MTM3OQ==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2009-11-25T05:05:22Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2009-11-25T05:05:22Z"}, "message": "graphite-poly.c (pbb_number_of_iterations_at_time): Cleanup comments.\n\n2009-10-14  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* graphite-poly.c (pbb_number_of_iterations_at_time): Cleanup comments.\n\nFrom-SVN: r154584", "tree": {"sha": "8db7d9ae1c6f08eb6707ccc4a7b96a65d0d932f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8db7d9ae1c6f08eb6707ccc4a7b96a65d0d932f8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2b7c09a8b3b47e3299909db872617eea83241379", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b7c09a8b3b47e3299909db872617eea83241379", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b7c09a8b3b47e3299909db872617eea83241379", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b7c09a8b3b47e3299909db872617eea83241379/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b0c7a278f4dace6d23ee0285be16a8d46d7789b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0c7a278f4dace6d23ee0285be16a8d46d7789b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0c7a278f4dace6d23ee0285be16a8d46d7789b9"}], "stats": {"total": 30, "additions": 21, "deletions": 9}, "files": [{"sha": "0f0565675ab1c3c641cd28433f2d3802a5d4a168", "filename": "gcc/ChangeLog.graphite", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b7c09a8b3b47e3299909db872617eea83241379/gcc%2FChangeLog.graphite", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b7c09a8b3b47e3299909db872617eea83241379/gcc%2FChangeLog.graphite", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog.graphite?ref=2b7c09a8b3b47e3299909db872617eea83241379", "patch": "@@ -1,3 +1,7 @@\n+2009-10-14  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-poly.c (pbb_number_of_iterations_at_time): Cleanup comments.\n+\n 2009-10-14  Konrad Trifunovic  <konrad.trifunovic@gmail.com>\n \t    Sebastian Pop  <sebastian.pop@amd.com>\n "}, {"sha": "543a19313e5b2a04483ee78ae4f20fb25f7a1247", "filename": "gcc/graphite-poly.c", "status": "modified", "additions": 17, "deletions": 9, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b7c09a8b3b47e3299909db872617eea83241379/gcc%2Fgraphite-poly.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b7c09a8b3b47e3299909db872617eea83241379/gcc%2Fgraphite-poly.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-poly.c?ref=2b7c09a8b3b47e3299909db872617eea83241379", "patch": "@@ -790,28 +790,36 @@ pbb_number_of_iterations_at_time (poly_bb_p pbb,\n   ppl_Linear_Expression_t le;\n   ppl_dimension_type dim;\n \n-  value_set_si (niter, -1);\n-\n   /* Takes together domain and scattering polyhedrons, and composes\n      them into the bigger polyhedron that has the following format:\n-     t0..t_{n-1} | l0..l_{nlcl-1} | i0..i_{niter-1} | g0..g_{nparm-1}.\n-     t0..t_{n-1} are time dimensions (scattering dimensions)\n-     l0..l_{nclc-1} are local variables in scattering function\n-     i0..i_{niter-1} are original iteration variables\n-     g0..g_{nparam-1} are global parameters.  */\n \n+     t0..t_{n-1} | l0..l_{nlcl-1} | i0..i_{niter-1} | g0..g_{nparm-1}\n+\n+     where\n+     | t0..t_{n-1} are time dimensions (scattering dimensions)\n+     | l0..l_{nclc-1} are local variables in scattering function\n+     | i0..i_{niter-1} are original iteration variables\n+     | g0..g_{nparam-1} are global parameters.  */\n+\n+  ppl_new_Pointset_Powerset_C_Polyhedron_from_C_Polyhedron (&sctr,\n+      PBB_TRANSFORMED_SCATTERING (pbb));\n+\n+  /* Extend the iteration domain with the scattering dimensions:\n+     0..0 | 0..0 | i0..i_{niter-1} | g0..g_{nparm-1}.   */\n   ppl_new_Pointset_Powerset_C_Polyhedron_from_Pointset_Powerset_C_Polyhedron\n     (&ext_domain, PBB_DOMAIN (pbb));\n   ppl_insert_dimensions_pointset (ext_domain, 0,\n                                   pbb_nb_scattering_transform (pbb)\n                                   + pbb_nb_local_vars (pbb));\n-  ppl_new_Pointset_Powerset_C_Polyhedron_from_C_Polyhedron (&sctr,\n-      PBB_TRANSFORMED_SCATTERING (pbb));\n+\n+  /* Add to sctr the extended domain.  */\n   ppl_Pointset_Powerset_C_Polyhedron_intersection_assign (sctr, ext_domain);\n \n+  /* Extract the number of iterations.  */\n   ppl_Pointset_Powerset_C_Polyhedron_space_dimension (sctr, &dim);\n   ppl_new_Linear_Expression_with_dimension (&le, dim);\n   ppl_set_coef (le, time_depth, 1);\n+  value_set_si (niter, -1);\n   ppl_max_for_le_pointset (sctr, le, niter);\n \n   ppl_delete_Linear_Expression (le);"}]}