{"sha": "e0d75375e722d868b1544fe69b3cb2f7b35ce434", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTBkNzUzNzVlNzIyZDg2OGIxNTQ0ZmU2OWIzY2IyZjdiMzVjZTQzNA==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@cygnus.com", "date": "1998-07-29T14:11:16Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "1998-07-29T14:11:16Z"}, "message": "remove earlyclobber constraint from extendqisi2_insn\n\nFrom-SVN: r21471", "tree": {"sha": "f34d4167c0c8ebad49df2756bc19ddcdfc5ee4c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f34d4167c0c8ebad49df2756bc19ddcdfc5ee4c9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e0d75375e722d868b1544fe69b3cb2f7b35ce434", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0d75375e722d868b1544fe69b3cb2f7b35ce434", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0d75375e722d868b1544fe69b3cb2f7b35ce434", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0d75375e722d868b1544fe69b3cb2f7b35ce434/comments", "author": null, "committer": null, "parents": [{"sha": "53fdbb3b3697b6688745bcb2628eb1873f46cec0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53fdbb3b3697b6688745bcb2628eb1873f46cec0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53fdbb3b3697b6688745bcb2628eb1873f46cec0"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "0b87938f408e85d36f1d6a00247d959b9c81847b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0d75375e722d868b1544fe69b3cb2f7b35ce434/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0d75375e722d868b1544fe69b3cb2f7b35ce434/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e0d75375e722d868b1544fe69b3cb2f7b35ce434", "patch": "@@ -1,3 +1,8 @@\n+Wed Jul 29 11:47:10 1998  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* config/arm/thumb.md (extendqisi2_insn): Remove earlyclobber\n+\tconstraint from second alternative.\n+\n Tue Jul 28 23:29:04 1998  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* configure.in: Fix --without/--disable cases for local-prefix, "}, {"sha": "0369bb1c6b01a960bbfe540dea29afed35e015d2", "filename": "gcc/config/arm/thumb.md", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0d75375e722d868b1544fe69b3cb2f7b35ce434/gcc%2Fconfig%2Farm%2Fthumb.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0d75375e722d868b1544fe69b3cb2f7b35ce434/gcc%2Fconfig%2Farm%2Fthumb.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fthumb.md?ref=e0d75375e722d868b1544fe69b3cb2f7b35ce434", "patch": "@@ -470,7 +470,7 @@\n \")\n \n (define_insn \"*extendqisi2_insn\"\n-  [(set (match_operand:SI 0 \"register_operand\" \"=l,&l\")\n+  [(set (match_operand:SI 0 \"register_operand\" \"=l,l\")\n \t(sign_extend:SI (match_operand:QI 1 \"memory_operand\" \"V,m\")))]\n   \"\"\n   \"*\n@@ -484,16 +484,21 @@\n     {\n       ops[1] = XEXP (XEXP (operands[1], 0), 0);\n       ops[2] = XEXP (XEXP (operands[1], 0), 1);\n+      output_asm_insn (\\\"ldrsb\\\\t%0, [%1, %2]\\\", ops);\n+    }\n+  else if (REGNO (operands[0]) == REGNO (XEXP (operands[1], 0)))\n+    {\n+      output_asm_insn (\\\"ldrb\\\\t%0, [%0, #0]\\;lsl\\\\t%0, %0, #24\\;asr\\\\t%0, %0, #24\\\", ops);\n     }\n   else\n     {\n       ops[1] = XEXP (operands[1], 0);\n       ops[2] = const0_rtx;\n+      output_asm_insn (\\\"mov\\\\t%0, %2\\;ldrsb\\\\t%0, [%1, %0]\\\", ops);\n     }\n-  output_asm_insn (\\\"mov\\\\t%0, %2\\;ldrsb\\\\t%0, [%1, %0]\\\", ops);\n   return \\\"\\\";\n }\"\n-[(set_attr \"length\" \"2,4\")])\n+[(set_attr \"length\" \"2,6\")])\n \n ;; We don't really have extzv, but defining this using shifts helps\n ;; to reduce register pressure later on."}]}