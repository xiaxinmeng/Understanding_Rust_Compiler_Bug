{"sha": "408bed3c38b41e0dbe71dac8a3e54b04b46e0557", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDA4YmVkM2MzOGI0MWUwZGJlNzFkYWM4YTNlNTRiMDRiNDZlMDU1Nw==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@nildram.co.uk", "date": "2007-05-22T19:41:10Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2007-05-22T19:41:10Z"}, "message": "mode-switching.c (reg_dies): Change type of second argument to \"HARD_REG_SET *\".\n\ngcc/\n\t* mode-switching.c (reg_dies): Change type of second argument to\n\t\"HARD_REG_SET *\".\n\t(optimize_mode_switching): Update accordingly.\n\nFrom-SVN: r124955", "tree": {"sha": "06192d0d08eccbb2b355b3e2e5ce211460c105fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/06192d0d08eccbb2b355b3e2e5ce211460c105fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/408bed3c38b41e0dbe71dac8a3e54b04b46e0557", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/408bed3c38b41e0dbe71dac8a3e54b04b46e0557", "html_url": "https://github.com/Rust-GCC/gccrs/commit/408bed3c38b41e0dbe71dac8a3e54b04b46e0557", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/408bed3c38b41e0dbe71dac8a3e54b04b46e0557/comments", "author": null, "committer": null, "parents": [{"sha": "56b138aed218de6e61416f2615424800ff7a0d18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56b138aed218de6e61416f2615424800ff7a0d18", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56b138aed218de6e61416f2615424800ff7a0d18"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "e69d30c41770cef8dd9a496e52eab260cb30afdf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/408bed3c38b41e0dbe71dac8a3e54b04b46e0557/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/408bed3c38b41e0dbe71dac8a3e54b04b46e0557/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=408bed3c38b41e0dbe71dac8a3e54b04b46e0557", "patch": "@@ -1,3 +1,9 @@\n+2007-05-22  Richard Sandiford  <rsandifo@nildram.co.uk>\n+\n+\t* mode-switching.c (reg_dies): Change type of second argument to\n+\t\"HARD_REG_SET *\".\n+\t(optimize_mode_switching): Update accordingly.\n+\n 2007-05-22  Richard Sandiford  <richard@codesourcery.com>\n \n \t* hard-reg-set.h (GO_IF_HARD_REG_SUBSET, GO_IF_HARD_REG_EQUAL): Delete"}, {"sha": "1d4a751eb637cfae0dccd548cab077fab0fd6ee5", "filename": "gcc/mode-switching.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/408bed3c38b41e0dbe71dac8a3e54b04b46e0557/gcc%2Fmode-switching.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/408bed3c38b41e0dbe71dac8a3e54b04b46e0557/gcc%2Fmode-switching.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmode-switching.c?ref=408bed3c38b41e0dbe71dac8a3e54b04b46e0557", "patch": "@@ -92,7 +92,7 @@ static sbitmap *comp;\n \n static struct seginfo * new_seginfo (int, rtx, int, HARD_REG_SET);\n static void add_seginfo (struct bb_info *, struct seginfo *);\n-static void reg_dies (rtx, HARD_REG_SET);\n+static void reg_dies (rtx, HARD_REG_SET *);\n static void reg_becomes_live (rtx, rtx, void *);\n static void make_preds_opaque (basic_block, int);\n \f\n@@ -160,7 +160,7 @@ make_preds_opaque (basic_block b, int j)\n /* Record in LIVE that register REG died.  */\n \n static void\n-reg_dies (rtx reg, HARD_REG_SET live)\n+reg_dies (rtx reg, HARD_REG_SET *live)\n {\n   int regno, nregs;\n \n@@ -171,7 +171,7 @@ reg_dies (rtx reg, HARD_REG_SET live)\n   if (regno < FIRST_PSEUDO_REGISTER)\n     for (nregs = hard_regno_nregs[regno][GET_MODE (reg)] - 1; nregs >= 0;\n \t nregs--)\n-      CLEAR_HARD_REG_BIT (live, regno + nregs);\n+      CLEAR_HARD_REG_BIT (*live, regno + nregs);\n }\n \n /* Record in LIVE that register REG became live.\n@@ -500,12 +500,12 @@ optimize_mode_switching (void)\n \t\t  /* Update LIVE_NOW.  */\n \t\t  for (link = REG_NOTES (insn); link; link = XEXP (link, 1))\n \t\t    if (REG_NOTE_KIND (link) == REG_DEAD)\n-\t\t      reg_dies (XEXP (link, 0), live_now);\n+\t\t      reg_dies (XEXP (link, 0), &live_now);\n \n \t\t  note_stores (PATTERN (insn), reg_becomes_live, &live_now);\n \t\t  for (link = REG_NOTES (insn); link; link = XEXP (link, 1))\n \t\t    if (REG_NOTE_KIND (link) == REG_UNUSED)\n-\t\t      reg_dies (XEXP (link, 0), live_now);\n+\t\t      reg_dies (XEXP (link, 0), &live_now);\n \t\t}\n \t    }\n "}]}