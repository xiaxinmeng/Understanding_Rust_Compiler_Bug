{"sha": "46f87aa3e06d9db97f21e25af4be91efc3176000", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDZmODdhYTNlMDZkOWRiOTdmMjFlMjVhZjRiZTkxZWZjMzE3NjAwMA==", "commit": {"author": {"name": "Georg-Johann Lay", "email": "avr@gjlay.de", "date": "2016-12-02T09:05:56Z"}, "committer": {"name": "Georg-Johann Lay", "email": "gjl@gcc.gnu.org", "date": "2016-12-02T09:05:56Z"}, "message": "invoke.texi (AVR Options): Point to absdata.\n\n\t* doc/invoke.texi (AVR Options) [-mabsdata]: Point to absdata.\n\t* doc/extend.texi (AVR Variable Attributes) [progmem]: Hint\n\tabout linker description to avoid progmem altogether.\n\t[absdata]: Point to -mabsdata option.\n\nFrom-SVN: r243170", "tree": {"sha": "83dabbbaea31d05a57cdba2ac8a3481dd2cd6613", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/83dabbbaea31d05a57cdba2ac8a3481dd2cd6613"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/46f87aa3e06d9db97f21e25af4be91efc3176000", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46f87aa3e06d9db97f21e25af4be91efc3176000", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46f87aa3e06d9db97f21e25af4be91efc3176000", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46f87aa3e06d9db97f21e25af4be91efc3176000/comments", "author": null, "committer": {"login": "sprintersb", "id": 8905355, "node_id": "MDQ6VXNlcjg5MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/8905355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sprintersb", "html_url": "https://github.com/sprintersb", "followers_url": "https://api.github.com/users/sprintersb/followers", "following_url": "https://api.github.com/users/sprintersb/following{/other_user}", "gists_url": "https://api.github.com/users/sprintersb/gists{/gist_id}", "starred_url": "https://api.github.com/users/sprintersb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sprintersb/subscriptions", "organizations_url": "https://api.github.com/users/sprintersb/orgs", "repos_url": "https://api.github.com/users/sprintersb/repos", "events_url": "https://api.github.com/users/sprintersb/events{/privacy}", "received_events_url": "https://api.github.com/users/sprintersb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "60ebe8ce1d029cbff8ef80c967f98ba43d746f3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60ebe8ce1d029cbff8ef80c967f98ba43d746f3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/60ebe8ce1d029cbff8ef80c967f98ba43d746f3b"}], "stats": {"total": 36, "additions": 35, "deletions": 1}, "files": [{"sha": "d50f546f9fafc592d087df42644e879d597d2493", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46f87aa3e06d9db97f21e25af4be91efc3176000/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46f87aa3e06d9db97f21e25af4be91efc3176000/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=46f87aa3e06d9db97f21e25af4be91efc3176000", "patch": "@@ -1,3 +1,10 @@\n+2016-12-02  Georg-Johann Lay  <avr@gjlay.de>\n+\n+\t* doc/invoke.texi (AVR Options) [-mabsdata]: Point to absdata.\n+\t* doc/extend.texi (AVR Variable Attributes) [progmem]: Hint\n+\tabout linker description to avoid progmem altogether.\n+\t[absdata]: Point to -mabsdata option.\n+\n 2016-12-02  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR rtl-optimization/78547"}, {"sha": "c40e289c966502ccc6582a5ae17cee02fc6eed84", "filename": "gcc/doc/extend.texi", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46f87aa3e06d9db97f21e25af4be91efc3176000/gcc%2Fdoc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46f87aa3e06d9db97f21e25af4be91efc3176000/gcc%2Fdoc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fextend.texi?ref=46f87aa3e06d9db97f21e25af4be91efc3176000", "patch": "@@ -5929,6 +5929,30 @@ int read_var (int i)\n @}\n @end smallexample\n \n+Please notice that on these devices, there is no need for @code{progmem}\n+at all.  Just use an appropriate linker description file like outlined below.\n+\n+@smallexample\n+  .text :\n+  @{ ...\n+  @} > text\n+  /* Leave .rodata in flash and add an offset of 0x4000 to all\n+     addresses so that respective objects can be accessed by LD\n+     instructions and open coded C/C++.  This means there is no\n+     need for progmem in the source and no overhead by read-only\n+     data in RAM.  */\n+  .rodata ADDR(.text) + SIZEOF (.text) + 0x4000 :\n+  @{\n+    *(.rodata)\n+    *(.rodata*)\n+    *(.gnu.linkonce.r*)\n+  @} AT> text\n+  /* No more need to put .rodata into .data:\n+     Removed all .rodata entries from .data.  */\n+  .data :\n+  @{ ...\n+@end smallexample\n+\n @end table\n \n @item io\n@@ -6001,6 +6025,8 @@ warning like\n \n @end itemize\n \n+See also the @option{-mabsdata} @ref{AVR Options,command-line option}.\n+\n @end table\n \n @node Blackfin Variable Attributes"}, {"sha": "fd549ec11c7ee87d89080e0136317885eb050264", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46f87aa3e06d9db97f21e25af4be91efc3176000/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46f87aa3e06d9db97f21e25af4be91efc3176000/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=46f87aa3e06d9db97f21e25af4be91efc3176000", "patch": "@@ -15402,7 +15402,8 @@ GCC supports the following AVR devices and ISAs:\n \n Assume that all data in static storage can be accessed by LDS / STS\n instructions.  This option has only an effect on reduced Tiny devices like\n-ATtiny40.\n+ATtiny40.  See also the @code{absdata}\n+@ref{AVR Variable Attributes,variable attribute}.\n \n @item -maccumulate-args\n @opindex maccumulate-args"}]}