{"sha": "2daddc8e15c4cded89cf6090626ca87bfd8083ae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmRhZGRjOGUxNWM0Y2RlZDg5Y2Y2MDkwNjI2Y2E4N2JmZDgwODNhZQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2007-11-14T01:06:13Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2007-11-14T01:06:13Z"}, "message": "re PR fortran/33162 (INTRINSIC functions as ACTUAL argument)\n\n2007-11-13  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR fortran/33162\n\t*gfortran.dg/proc_decl_1.f90: Update.\n\t*gfortran.dg/proc_decl_7.f90: New test.\n\t*gfortran.dg/proc_decl_8.f90: New test.\n\t*gfortran.dg/proc_decl_9.f90: New test.\n\t*gfortran.dg/proc_decl_10.f90: New test.\n\nFrom-SVN: r130169", "tree": {"sha": "96d4060a6231544b92254f76b4f4c9949cd5ad34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96d4060a6231544b92254f76b4f4c9949cd5ad34"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2daddc8e15c4cded89cf6090626ca87bfd8083ae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2daddc8e15c4cded89cf6090626ca87bfd8083ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2daddc8e15c4cded89cf6090626ca87bfd8083ae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2daddc8e15c4cded89cf6090626ca87bfd8083ae/comments", "author": null, "committer": null, "parents": [{"sha": "6cc309c9234d18f69b2c70ec0220becf3b0f58f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6cc309c9234d18f69b2c70ec0220becf3b0f58f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6cc309c9234d18f69b2c70ec0220becf3b0f58f5"}], "stats": {"total": 103, "additions": 102, "deletions": 1}, "files": [{"sha": "a016d231734c82ec8408347ddbe38572b48a0935", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2daddc8e15c4cded89cf6090626ca87bfd8083ae/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2daddc8e15c4cded89cf6090626ca87bfd8083ae/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2daddc8e15c4cded89cf6090626ca87bfd8083ae", "patch": "@@ -1,3 +1,12 @@\n+2007-11-13  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/33162\n+\t*gfortran.dg/proc_decl_1.f90: Update.\n+\t*gfortran.dg/proc_decl_7.f90: New test.\n+\t*gfortran.dg/proc_decl_8.f90: New test.\n+\t*gfortran.dg/proc_decl_9.f90: New test.\n+\t*gfortran.dg/proc_decl_10.f90: New test.\n+\n 2007-11-13  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/34080"}, {"sha": "c01f7c6101e0b106ad9ebbbe3c23fd62e5a45cb2", "filename": "gcc/testsuite/gfortran.dg/proc_decl_1.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2daddc8e15c4cded89cf6090626ca87bfd8083ae/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2daddc8e15c4cded89cf6090626ca87bfd8083ae/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_1.f90?ref=2daddc8e15c4cded89cf6090626ca87bfd8083ae", "patch": "@@ -37,7 +37,7 @@ subroutine z2(a)\n   procedure(), allocatable:: b  ! { dg-error \"PROCEDURE attribute conflicts with ALLOCATABLE attribute\" }\n   procedure(), save:: c  ! { dg-error \"PROCEDURE attribute conflicts with SAVE attribute\" }\n \n-  procedure(dcos) :: my1  ! { dg-error \"PROCEDURE statement at .1. not yet implemented\" }\n+  procedure(dcos) :: my1\n   procedure(amax0) :: my2  ! { dg-error \"not allowed in PROCEDURE statement\" }\n \n   procedure(),pointer:: ptr  ! { dg-error \"not yet implemented\" }"}, {"sha": "88fd6d8a793a15e809eea5619494e14986951ad3", "filename": "gcc/testsuite/gfortran.dg/proc_decl_10.f90", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2daddc8e15c4cded89cf6090626ca87bfd8083ae/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_10.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2daddc8e15c4cded89cf6090626ca87bfd8083ae/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_10.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_10.f90?ref=2daddc8e15c4cded89cf6090626ca87bfd8083ae", "patch": "@@ -0,0 +1,32 @@\n+! { dg-do compile }\n+! PR33162 INTRINSIC functions as ACTUAL argument\n+! Test case adapted from PR by Jerry DeLisle <jvdelisle@gcc.gnu.org>\n+module m\n+implicit none\n+  interface\n+    double precision function my1(x)\n+      double precision, intent(in) :: x\n+    end function my1\n+  end interface\n+  interface\n+    real(kind=4) function my2(x)\n+      real, intent(in) :: x\n+    end function my2\n+  end interface\n+  interface\n+    real function  my3(x, y)\n+      real, intent(in) :: x, y\n+    end function my3\n+  end interface\n+end module\n+\n+program test\n+use m\n+implicit none\n+procedure(dcos):: my1 ! { dg-error \"Cannot change attributes\" }\n+procedure(cos) :: my2 ! { dg-error \"Cannot change attributes\" }\n+procedure(dprod) :: my3 ! { dg-error \"Cannot change attributes\" }\n+\n+end program test\n+\n+! { dg-final { cleanup-modules \"m\" } }"}, {"sha": "79f413754c1619b09cea3594ff328fc4460cda84", "filename": "gcc/testsuite/gfortran.dg/proc_decl_7.f90", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2daddc8e15c4cded89cf6090626ca87bfd8083ae/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_7.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2daddc8e15c4cded89cf6090626ca87bfd8083ae/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_7.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_7.f90?ref=2daddc8e15c4cded89cf6090626ca87bfd8083ae", "patch": "@@ -0,0 +1,21 @@\n+! { dg-do compile }\n+! PR33162 INTRINSIC functions as ACTUAL argument\n+! Test case adapted from PR by Jerry DeLisle <jvdelisle@gcc.gnu.org>\n+module m\n+implicit none\n+contains\n+  subroutine sub(a)\n+    interface\n+      function a()\n+        real :: a\n+      end function a\n+    end interface\n+    print *, a()\n+  end subroutine sub\n+end module m\n+use m\n+implicit none\n+intrinsic cos\n+call sub(cos) ! { dg-error \"Type/rank mismatch in argument\" }\n+end\n+! { dg-final { cleanup-modules \"m\" } }"}, {"sha": "67c1ddb0ee62fb2bb6efeda1ca84464c1fe4cb06", "filename": "gcc/testsuite/gfortran.dg/proc_decl_8.f90", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2daddc8e15c4cded89cf6090626ca87bfd8083ae/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_8.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2daddc8e15c4cded89cf6090626ca87bfd8083ae/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_8.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_8.f90?ref=2daddc8e15c4cded89cf6090626ca87bfd8083ae", "patch": "@@ -0,0 +1,25 @@\n+! { dg-do compile }\n+! PR33162 INTRINSIC functions as ACTUAL argument\n+! Test case adapted from PR by Jerry DeLisle <jvdelisle@gcc.gnu.org>\n+module m\n+implicit none\n+contains\n+  subroutine sub(a)\n+    interface\n+      function a(x)\n+        real :: a, x\n+        intent(in) :: x\n+      end function a\n+    end interface\n+    print *, a(4.0)\n+  end subroutine sub\n+\n+end module m\n+\n+use m\n+implicit none\n+EXTERNAL foo  ! interface is undefined\n+procedure(cos) :: foo ! { dg-error \"Duplicate EXTERNAL attribute specified\" }\n+call sub(foo)         ! { dg-error \"Type/rank mismatch in argument\" }\n+end\n+! { dg-final { cleanup-modules \"m\" } }"}, {"sha": "08faee931e629b8a2423cbb4f5c4b71027ef512c", "filename": "gcc/testsuite/gfortran.dg/proc_decl_9.f90", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2daddc8e15c4cded89cf6090626ca87bfd8083ae/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_9.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2daddc8e15c4cded89cf6090626ca87bfd8083ae/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_9.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_9.f90?ref=2daddc8e15c4cded89cf6090626ca87bfd8083ae", "patch": "@@ -0,0 +1,14 @@\n+! { dg-do run }\n+! PR33162 INTRINSIC functions as ACTUAL argument\n+! Test case adapted from PR by Jerry DeLisle <jvdelisle@gcc.gnu.org>\n+real function t(x)\n+  real ::x\n+  t = x\n+end function\n+\n+program p\n+  implicit none\n+  intrinsic sin\n+  procedure(sin):: t\n+  if (t(1.0) /= 1.0) call abort\n+end program"}]}