{"sha": "3807773bc4d2bb307d4404c35264dfe0db7302cf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzgwNzc3M2JjNGQyYmIzMDdkNDQwNGMzNTI2NGRmZTBkYjczMDJjZg==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1996-08-13T20:51:55Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1996-08-13T20:51:55Z"}, "message": "Build fewer multilibs\n\nFrom-SVN: r12632", "tree": {"sha": "af77e84e2724bbf271d47c71ecf516a79bdf36ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/af77e84e2724bbf271d47c71ecf516a79bdf36ef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3807773bc4d2bb307d4404c35264dfe0db7302cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3807773bc4d2bb307d4404c35264dfe0db7302cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3807773bc4d2bb307d4404c35264dfe0db7302cf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3807773bc4d2bb307d4404c35264dfe0db7302cf/comments", "author": null, "committer": null, "parents": [{"sha": "d59c4c8e37035e9d540ea7b471e48a654968e57d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d59c4c8e37035e9d540ea7b471e48a654968e57d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d59c4c8e37035e9d540ea7b471e48a654968e57d"}], "stats": {"total": 56, "additions": 34, "deletions": 22}, "files": [{"sha": "1c225ea35dcc19fae4f06c51f4495db912403ae8", "filename": "gcc/config/rs6000/eabi.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Feabi.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Feabi.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Feabi.h?ref=3807773bc4d2bb307d4404c35264dfe0db7302cf", "patch": "@@ -37,4 +37,4 @@ Boston, MA 02111-1307, USA.  */\n   \"-DPPC -D__embedded__ -Asystem(embedded) -Acpu(powerpc) -Amachine(powerpc)\"\n \n #undef\tMULTILIB_DEFAULTS\n-#define\tMULTILIB_DEFAULTS { \"mbig\", \"mbig-endian\", \"mcall-sysv-eabi\", \"mno-sdata\" }\n+#define\tMULTILIB_DEFAULTS { \"mbig\", \"mcall-sysv\" }"}, {"sha": "5cfd890a03e417ced54c5834fbb8f31d4f964604", "filename": "gcc/config/rs6000/eabiaix.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Feabiaix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Feabiaix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Feabiaix.h?ref=3807773bc4d2bb307d4404c35264dfe0db7302cf", "patch": "@@ -38,4 +38,4 @@ Boston, MA 02111-1307, USA.  */\n    `MULTILIB_OPTIONS' are set by default.  *Note Target Fragment::.  */\n \n #undef\tMULTILIB_DEFAULTS\n-#define\tMULTILIB_DEFAULTS { \"mbig\", \"mbig-endian\", \"mcall-aix\", \"mno-sdata\" }\n+#define\tMULTILIB_DEFAULTS { \"mbig\", \"mcall-aix\" }"}, {"sha": "78dc7bc89c4b496e540ec12f0d5701bd3bf748b5", "filename": "gcc/config/rs6000/eabile.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Feabile.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Feabile.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Feabile.h?ref=3807773bc4d2bb307d4404c35264dfe0db7302cf", "patch": "@@ -43,4 +43,4 @@ Boston, MA 02111-1307, USA.  */\n    `MULTILIB_OPTIONS' are set by default.  *Note Target Fragment::.  */\n \n #undef\tMULTILIB_DEFAULTS\n-#define\tMULTILIB_DEFAULTS { \"mlittle\", \"mlittle-endian\", \"mcall-sysv-eabi\", \"mno-sdata\" }\n+#define\tMULTILIB_DEFAULTS { \"mlittle\", \"mcall-sysv\" }"}, {"sha": "7540f62dd6b8736618f7453dad9cd045d674b07e", "filename": "gcc/config/rs6000/linux.h", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Flinux.h?ref=3807773bc4d2bb307d4404c35264dfe0db7302cf", "patch": "@@ -46,3 +46,15 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n #undef TARGET_VERSION\n #define TARGET_VERSION fprintf (stderr, \" (PowerPC Linux)\");\n+\n+/* Define this macro as a C expression for the initializer of an\n+   array of string to tell the driver program which options are\n+   defaults for this target and thus do not need to be handled\n+   specially when using `MULTILIB_OPTIONS'.\n+\n+   Do not define this macro if `MULTILIB_OPTIONS' is not defined in\n+   the target makefile fragment or if none of the options listed in\n+   `MULTILIB_OPTIONS' are set by default.  *Note Target Fragment::.  */\n+\n+#undef\tMULTILIB_DEFAULTS\n+#define\tMULTILIB_DEFAULTS { \"mbig\", \"mcall-linux\" }"}, {"sha": "6c8981e6762c747a03b7d5574b31e87aac02df8f", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=3807773bc4d2bb307d4404c35264dfe0db7302cf", "patch": "@@ -4135,9 +4135,9 @@ output_toc (file, x, labelno)\n      a TOC reference to an unknown section.  Thus, for vtables only,\n      we emit the TOC reference to reference the symbol and not the\n      section.  */\n-  if (!strncmp (\"_vt.\", real_name, 4))\n+  if (!strncmp (\"_vt.\", name, 4))\n     {\n-      RS6000_OUTPUT_BASENAME (file, real_name);\n+      RS6000_OUTPUT_BASENAME (file, name);\n       if (offset < 0)\n \tfprintf (file, \"%d\", offset);\n       else if (offset > 0)\n@@ -4974,7 +4974,7 @@ handle_mac_pragma (finput, t)\n   int retval = 0;\n   register char *pname;\n   char pbuf[200];\n-  int c, psize;\n+  int c, psize = 0;\n \n   if (TREE_CODE (t) != IDENTIFIER_NODE)\n     return 0;"}, {"sha": "00c90f1e0429bbbf5e36d6141c87c30847b4e2d9", "filename": "gcc/config/rs6000/sol2.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Fsol2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Fsol2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsol2.h?ref=3807773bc4d2bb307d4404c35264dfe0db7302cf", "patch": "@@ -164,4 +164,4 @@ while (0)\n    `MULTILIB_OPTIONS' are set by default.  *Note Target Fragment::.  */\n \n #undef\tMULTILIB_DEFAULTS\n-#define\tMULTILIB_DEFAULTS { \"mlittle\", \"mlittle-endian\", \"mcall-solaris\", \"mno-sdata\" }\n+#define\tMULTILIB_DEFAULTS { \"mlittle\", \"mcall-solaris\" }"}, {"sha": "940da5a4823d41a3d1687ad478b5384cb0c79033", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=3807773bc4d2bb307d4404c35264dfe0db7302cf", "patch": "@@ -1347,4 +1347,4 @@ do {\t\t\t\t\t\t\t\t\t\\\n    `MULTILIB_OPTIONS' are set by default.  *Note Target Fragment::.  */\n \n #undef\tMULTILIB_DEFAULTS\n-#define\tMULTILIB_DEFAULTS { \"mbig\", \"mbig-endian\", \"mcall-sysv-noeabi\", \"mno-sdata\" }\n+#define\tMULTILIB_DEFAULTS { \"mbig\", \"mcall-sysv\" }"}, {"sha": "0cf2ec4901911e4fd93d1cc8d1e3c5d08b7e7eef", "filename": "gcc/config/rs6000/sysv4le.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Fsysv4le.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Fsysv4le.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4le.h?ref=3807773bc4d2bb307d4404c35264dfe0db7302cf", "patch": "@@ -43,4 +43,4 @@ Boston, MA 02111-1307, USA.  */\n    `MULTILIB_OPTIONS' are set by default.  *Note Target Fragment::.  */\n \n #undef\tMULTILIB_DEFAULTS\n-#define\tMULTILIB_DEFAULTS { \"mlittle\", \"mlittle-endian\", \"mcall-sysv-noeabi\", \"mno-sdata\" }\n+#define\tMULTILIB_DEFAULTS { \"mlittle\", \"mcall-sysv\" }"}, {"sha": "3256de50592e1238c7c3733e8ccd7c940c96a855", "filename": "gcc/config/rs6000/t-ppcgas", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Ft-ppcgas", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3807773bc4d2bb307d4404c35264dfe0db7302cf/gcc%2Fconfig%2Frs6000%2Ft-ppcgas", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-ppcgas?ref=3807773bc4d2bb307d4404c35264dfe0db7302cf", "patch": "@@ -24,30 +24,30 @@ eabi-ctors.c: $(srcdir)/config/rs6000/eabi-ctors.c\n # Build libgcc.a with different options.\n \n MULTILIB_OPTIONS\t= msoft-float \\\n-\t\t\t  mrelocatable-lib \\\n \t\t\t  mlittle/mbig \\\n-\t\t\t  mcall-sysv-noeabi/mcall-sysv-eabi/mcall-aix\n+\t\t\t  mcall-sysv/mcall-aix/mcall-solaris/mcall-linux\n \n MULTILIB_DIRNAMES\t= nof \\\n-\t\t\t  rel \\\n \t\t\t  le be \\\n-\t\t\t  cs ce ca\n+\t\t\t  cs ca sol lin\n \n MULTILIB_MATCHES\t= mlittle=mlittle-endian \\\n-\t\t\t  mlittle=mcall-solaris \\\n \t\t\t  mbig=mbig-endian \\\n \t\t\t  mbig=mcall-linux \\\n \t\t\t  msoft-float=mcpu?403 \\\n \t\t\t  msoft-float=mcpu?821 \\\n \t\t\t  msoft-float=mcpu?860 \\\n-\t\t\t  mcall-sysv-noeabi=mcall-linux \\\n-\t\t\t  mcall-sysv-eabi=meabi \\\n-\t\t\t  mcall-sysv-noeabi=mno-eabi \\\n-\t\t\t  mcall-sysv-noeabi=mcall-solaris \\\n-\t\t\t  mrelocatable-lib=mrelocatable \\\n-\t\t\t  mrelocatable-lib=fpic \\\n-\t\t\t  mrelocatable-lib=fPIC \\\n-\t\t\t  mrelocatable-lib=shared\n+\t\t\t  mcall-sysv=mcall-solaris \\\n+\t\t\t  mcall-sysv=mcall-sysv-eabi \\\n+\t\t\t  mcall-sysv=mcall-sysv-noeabi\n+\n+MULTILIB_EXTRA_OPTS\t= mrelocatable-lib mno-eabi\n+MULTILIB_EXCEPTIONS\t= *mbig/*mcall-solaris* \\\n+\t\t\t  *mlittle/*mcall-solaris* \\\n+\t\t\t  *msoft-float/*mcall-solaris* \\\n+\t\t\t  *mbig/*mcall-linux* \\\n+\t\t\t  *mlittle/*mcall-linux* \\\n+\t\t\t  *msoft-float/*mcall-linux*\n \n LIBGCC = stmp-multilib stmp-crt\n INSTALL_LIBGCC = install-multilib install-crt"}]}