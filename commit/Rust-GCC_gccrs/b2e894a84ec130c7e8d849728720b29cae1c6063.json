{"sha": "b2e894a84ec130c7e8d849728720b29cae1c6063", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjJlODk0YTg0ZWMxMzBjN2U4ZDg0OTcyODcyMGIyOWNhZTFjNjA2Mw==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@linaro.org", "date": "2018-01-03T07:17:57Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2018-01-03T07:17:57Z"}, "message": "poly_int: set_inc_state\n\nThis trivial patch makes auto-inc-dec.c:set_inc_state take a poly_int64.\n\n2018-01-03  Richard Sandiford  <richard.sandiford@linaro.org>\n\t    Alan Hayward  <alan.hayward@arm.com>\n\t    David Sherwood  <david.sherwood@arm.com>\n\ngcc/\n\t* auto-inc-dec.c (set_inc_state): Take the mode size as a poly_int64\n\trather than an int.\n\nCo-Authored-By: Alan Hayward <alan.hayward@arm.com>\nCo-Authored-By: David Sherwood <david.sherwood@arm.com>\n\nFrom-SVN: r256153", "tree": {"sha": "7c2733dc1286e2cdd8fc7e68d42069e0ce1514d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7c2733dc1286e2cdd8fc7e68d42069e0ce1514d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b2e894a84ec130c7e8d849728720b29cae1c6063", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2e894a84ec130c7e8d849728720b29cae1c6063", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2e894a84ec130c7e8d849728720b29cae1c6063", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2e894a84ec130c7e8d849728720b29cae1c6063/comments", "author": null, "committer": null, "parents": [{"sha": "f3ff49007a5cebef6e082abc5778875692792cb6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3ff49007a5cebef6e082abc5778875692792cb6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3ff49007a5cebef6e082abc5778875692792cb6"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "660d354e49abf1cd1d1b9a4677b415ed9bb69f82", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2e894a84ec130c7e8d849728720b29cae1c6063/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2e894a84ec130c7e8d849728720b29cae1c6063/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b2e894a84ec130c7e8d849728720b29cae1c6063", "patch": "@@ -1,3 +1,10 @@\n+2018-01-03  Richard Sandiford  <richard.sandiford@linaro.org>\n+\t    Alan Hayward  <alan.hayward@arm.com>\n+\t    David Sherwood  <david.sherwood@arm.com>\n+\n+\t* auto-inc-dec.c (set_inc_state): Take the mode size as a poly_int64\n+\trather than an int.\n+\n 2018-01-03  Richard Sandiford  <richard.sandiford@linaro.org>\n \t    Alan Hayward  <alan.hayward@arm.com>\n \t    David Sherwood  <david.sherwood@arm.com>"}, {"sha": "93d97f0cd52f4fd1ad136082053b39ad7170e23c", "filename": "gcc/auto-inc-dec.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2e894a84ec130c7e8d849728720b29cae1c6063/gcc%2Fauto-inc-dec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2e894a84ec130c7e8d849728720b29cae1c6063/gcc%2Fauto-inc-dec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fauto-inc-dec.c?ref=b2e894a84ec130c7e8d849728720b29cae1c6063", "patch": "@@ -152,14 +152,14 @@ enum gen_form\n static rtx mem_tmp;\n \n static enum inc_state\n-set_inc_state (HOST_WIDE_INT val, int size)\n+set_inc_state (HOST_WIDE_INT val, poly_int64 size)\n {\n   if (val == 0)\n     return INC_ZERO;\n   if (val < 0)\n-    return (val == -size) ? INC_NEG_SIZE : INC_NEG_ANY;\n+    return known_eq (val, -size) ? INC_NEG_SIZE : INC_NEG_ANY;\n   else\n-    return (val == size) ? INC_POS_SIZE : INC_POS_ANY;\n+    return known_eq (val, size) ? INC_POS_SIZE : INC_POS_ANY;\n }\n \n /* The DECISION_TABLE that describes what form, if any, the increment"}]}