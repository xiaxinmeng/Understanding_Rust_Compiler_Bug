{"sha": "4a3d0b10a2b64ff78a6448240afe89c2b8d68076", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGEzZDBiMTBhMmI2NGZmNzhhNjQ0ODI0MGFmZTg5YzJiOGQ2ODA3Ng==", "commit": {"author": {"name": "Andreas Tobler", "email": "andreast@fgznet.ch", "date": "2012-11-14T15:55:50Z"}, "committer": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2012-11-14T15:55:50Z"}, "message": "i386.c (ix86_get_function_versions_dispatcher): Guard variables with ASM_OUTPUT_TYPE_DIRECTIVE and HAVE_GNU_INDIRECT_FUNCTION...\n\n2012-11-14  Andreas Tobler  <andreast@fgznet.ch>\n\n\t* config/i386/i386.c (ix86_get_function_versions_dispatcher): Guard\n\tvariables with ASM_OUTPUT_TYPE_DIRECTIVE and\n\tHAVE_GNU_INDIRECT_FUNCTION where needed.\n\nFrom-SVN: r193501", "tree": {"sha": "468942cfa2314e0333ccc78a4829bf86b48974d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/468942cfa2314e0333ccc78a4829bf86b48974d8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4a3d0b10a2b64ff78a6448240afe89c2b8d68076", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a3d0b10a2b64ff78a6448240afe89c2b8d68076", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a3d0b10a2b64ff78a6448240afe89c2b8d68076", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a3d0b10a2b64ff78a6448240afe89c2b8d68076/comments", "author": null, "committer": null, "parents": [{"sha": "4a56a7be3d2cfca5cc74e75dc4b4365d8f1fbcc5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a56a7be3d2cfca5cc74e75dc4b4365d8f1fbcc5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a56a7be3d2cfca5cc74e75dc4b4365d8f1fbcc5"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "94b12008aa29372b9c39d611df9db1ed8685a20f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a3d0b10a2b64ff78a6448240afe89c2b8d68076/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a3d0b10a2b64ff78a6448240afe89c2b8d68076/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4a3d0b10a2b64ff78a6448240afe89c2b8d68076", "patch": "@@ -1,3 +1,9 @@\n+2012-11-14  Andreas Tobler  <andreast@fgznet.ch>\n+\n+\t* config/i386/i386.c (ix86_get_function_versions_dispatcher): Guard\n+\tvariables with ASM_OUTPUT_TYPE_DIRECTIVE and\n+\tHAVE_GNU_INDIRECT_FUNCTION where needed.\n+\n 2012-11-13  Ian Lance Taylor  <iant@google.com>\n \n \t* common.opt (fPIC, fPIE, fpic, fpie): Create a Negative loop such"}, {"sha": "eee2b93771d05fcca517d4b5a3402a22002ecc03", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a3d0b10a2b64ff78a6448240afe89c2b8d68076/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a3d0b10a2b64ff78a6448240afe89c2b8d68076/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=4a3d0b10a2b64ff78a6448240afe89c2b8d68076", "patch": "@@ -28907,12 +28907,15 @@ ix86_get_function_versions_dispatcher (void *decl)\n   struct cgraph_node *node = NULL;\n   struct cgraph_node *default_node = NULL;\n   struct cgraph_function_version_info *node_v = NULL;\n-  struct cgraph_function_version_info *it_v = NULL;\n   struct cgraph_function_version_info *first_v = NULL;\n \n   tree dispatch_decl = NULL;\n+\n+#if defined (ASM_OUTPUT_TYPE_DIRECTIVE) && HAVE_GNU_INDIRECT_FUNCTION\n+  struct cgraph_function_version_info *it_v = NULL;\n   struct cgraph_node *dispatcher_node = NULL;\n   struct cgraph_function_version_info *dispatcher_version_info = NULL;\n+#endif\n \n   struct cgraph_function_version_info *default_version_info = NULL;\n  "}]}