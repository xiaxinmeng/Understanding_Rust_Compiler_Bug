{"sha": "2cd229dec8d6716938de5052479d059d306969da", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmNkMjI5ZGVjOGQ2NzE2OTM4ZGU1MDUyNDc5ZDA1OWQzMDY5NjlkYQ==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-08-25T15:42:49Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-08-25T21:28:46Z"}, "message": "libstdc++: Remove __gnu_cxx::rope::erase(size_type) [PR102048]\n\nThis function claims to remove a single character at index p, but it\nactually removes p+1 characters beginning at p. So r.erase(0) removes\nthe first character, but r.erase(1) removes the second and third, and\nr.erase(2) removes the second, third and fourth. This is not a useful\nAPI.\n\nThe overload is present in the SGI STL <stl_rope.h> header that we\nimported, but it isn't documented in the API reference. The erase\noverloads that are documented are:\n\nerase(const iterator& p)\nerase(const iterator& f, const iterator& l)\nerase(size_type i, size_type n);\n\nHaving an erase(size_type p) overload that erases a single character (as\nthe comment says it does) might be useful, but would be inconsistent\nwith std::basic_string::erase(size_type p = 0, size_type n = npos),\nwhich erases from p to the end of the string when called with a single\nargument.\n\nSince the function isn't part of the documented API, doesn't do what it\nclaims to do (or anything useful) and \"fixing\" it would leave it\ninconsistent with basic_string, I'm just removing that overload.\n\nlibstdc++-v3/ChangeLog:\n\n\tPR libstdc++/102048\n\t* include/ext/rope (rope::erase(size_type)): Remove broken\n\tfunction.", "tree": {"sha": "a3dbfe9728bb93c6cfdb3145b4c0df459f427061", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a3dbfe9728bb93c6cfdb3145b4c0df459f427061"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2cd229dec8d6716938de5052479d059d306969da", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cd229dec8d6716938de5052479d059d306969da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2cd229dec8d6716938de5052479d059d306969da", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cd229dec8d6716938de5052479d059d306969da/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "971df602e0a798fe9c805c3105f4ac80d638a12b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/971df602e0a798fe9c805c3105f4ac80d638a12b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/971df602e0a798fe9c805c3105f4ac80d638a12b"}], "stats": {"total": 5, "additions": 0, "deletions": 5}, "files": [{"sha": "d4406a942b6008c3d9b77121331bb15ce1f23038", "filename": "libstdc++-v3/include/ext/rope", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cd229dec8d6716938de5052479d059d306969da/libstdc%2B%2B-v3%2Finclude%2Fext%2Frope", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cd229dec8d6716938de5052479d059d306969da/libstdc%2B%2B-v3%2Finclude%2Fext%2Frope", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fext%2Frope?ref=2cd229dec8d6716938de5052479d059d306969da", "patch": "@@ -2401,11 +2401,6 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \tthis->_M_tree_ptr = __result;\n       }\n \n-      // Erase, single character\n-      void\n-      erase(size_type __p)\n-      { erase(__p, __p + 1); }\n-\n       // Insert, iterator variants.\n       iterator\n       insert(const iterator& __p, const rope& __r)"}]}