{"sha": "c1c455a71d130dcbf413f0c9451bcc8287d24b41", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzFjNDU1YTcxZDEzMGRjYmY0MTNmMGM5NDUxYmNjODI4N2QyNGI0MQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-06-24T16:09:29Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-06-24T16:09:29Z"}, "message": "builtins.c (expand_builtin_expect_jump): Disable if the expression can't be re-evaluated.\n\n        * builtins.c (expand_builtin_expect_jump): Disable if the\n        expression can't be re-evaluated.\n\nFrom-SVN: r43543", "tree": {"sha": "072c952c07efd8ca1810f95ac5c40173d17818a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/072c952c07efd8ca1810f95ac5c40173d17818a7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c1c455a71d130dcbf413f0c9451bcc8287d24b41", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1c455a71d130dcbf413f0c9451bcc8287d24b41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1c455a71d130dcbf413f0c9451bcc8287d24b41", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1c455a71d130dcbf413f0c9451bcc8287d24b41/comments", "author": null, "committer": null, "parents": [{"sha": "7b8b8ade895d4483a53f1bb6ca6eba893d38e9ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b8b8ade895d4483a53f1bb6ca6eba893d38e9ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b8b8ade895d4483a53f1bb6ca6eba893d38e9ef"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "ded2942bc1ff2d81bbb9371f599fab672a1854c8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1c455a71d130dcbf413f0c9451bcc8287d24b41/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1c455a71d130dcbf413f0c9451bcc8287d24b41/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c1c455a71d130dcbf413f0c9451bcc8287d24b41", "patch": "@@ -1,3 +1,8 @@\n+2001-06-24  Richard Henderson  <rth@redhat.com>\n+\n+\t* builtins.c (expand_builtin_expect_jump): Disable if the\n+\texpression can't be re-evaluated.\n+\n 2001-06-24  Nick Clifton  <nickc@cambridge.redhat.com>\n \n \t* config/arm/arm.c (arm_compute_save_reg_mask): For FIQ interrupt"}, {"sha": "4fc329f93d33b1c67772ad44cb7bcd04b6d094ee", "filename": "gcc/builtins.c", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1c455a71d130dcbf413f0c9451bcc8287d24b41/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1c455a71d130dcbf413f0c9451bcc8287d24b41/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=c1c455a71d130dcbf413f0c9451bcc8287d24b41", "patch": "@@ -3304,6 +3304,22 @@ expand_builtin_expect_jump (exp, if_false_label, if_true_label)\n       int j;\n       int num_jumps = 0;\n \n+      /* If we fail to locate an appropriate conditional jump, we'll\n+\t fall back to normal evaluation.  Ensure that the expression\n+\t can be re-evaluated.  */\n+      switch (unsafe_for_reeval (arg0))\n+\t{\n+\tcase 0: /* Safe.  */\n+\t  break;\n+\n+\tcase 1: /* Mildly unsafe.  */\n+\t  arg0 = unsave_expr (arg0);\n+\t  break;\n+\n+\tcase 2: /* Wildly unsafe.  */\n+\t  return NULL_RTX;\n+\t}\n+\n       /* Expand the jump insns.  */\n       start_sequence ();\n       do_jump (arg0, if_false_label, if_true_label);"}]}