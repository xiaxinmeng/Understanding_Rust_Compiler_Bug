{"sha": "63d96a955940981de3a4bdf2645080068d10faa1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjNkOTZhOTU1OTQwOTgxZGUzYTRiZGYyNjQ1MDgwMDY4ZDEwZmFhMQ==", "commit": {"author": {"name": "Gavin Koch", "email": "gavin@cygnus.com", "date": "1997-12-18T14:48:19Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-12-18T14:48:19Z"}, "message": "dwarf2out.c (dwarf2out_frame_debug): Handle adjustments of the frame pointer in the prologue.\n\n/\n        * dwarf2out.c (dwarf2out_frame_debug): Handle adjustments of the\n        frame pointer in the prologue.\n\nFrom-SVN: r17131", "tree": {"sha": "1189a2de98605c2f275fd0a8b03e156036477996", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1189a2de98605c2f275fd0a8b03e156036477996"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/63d96a955940981de3a4bdf2645080068d10faa1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63d96a955940981de3a4bdf2645080068d10faa1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/63d96a955940981de3a4bdf2645080068d10faa1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63d96a955940981de3a4bdf2645080068d10faa1/comments", "author": null, "committer": null, "parents": [{"sha": "913b5d5489c6c62f1e422a085979cdeaef8cc935", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/913b5d5489c6c62f1e422a085979cdeaef8cc935", "html_url": "https://github.com/Rust-GCC/gccrs/commit/913b5d5489c6c62f1e422a085979cdeaef8cc935"}], "stats": {"total": 33, "additions": 33, "deletions": 0}, "files": [{"sha": "d321e9f0f3a20725e774e9cb960b95c568d5e39d", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63d96a955940981de3a4bdf2645080068d10faa1/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63d96a955940981de3a4bdf2645080068d10faa1/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=63d96a955940981de3a4bdf2645080068d10faa1", "patch": "@@ -1221,6 +1221,39 @@ dwarf2out_frame_debug (insn)\n \t      if (cfa_store_reg == STACK_POINTER_REGNUM)\n \t\tcfa_store_offset += offset;\n \t    }\n+          else if (dest == hard_frame_pointer_rtx)\n+            {\n+              /* Either setting the FP from an offset of the SP,\n+                 or adjusting the FP */\n+\t      if (! frame_pointer_needed\n+\t\t  || REGNO (dest) != HARD_FRAME_POINTER_REGNUM)\n+\t\tabort ();\n+\n+              if (XEXP (src, 0) == stack_pointer_rtx\n+                  && GET_CODE (XEXP (src, 1)) == CONST_INT)\n+                {\n+\t\t  if (cfa_reg != STACK_POINTER_REGNUM)\n+\t\t    abort ();\n+                  offset = INTVAL (XEXP (src, 1));\n+                  if (GET_CODE (src) == PLUS)\n+                    offset = -offset;\n+                  cfa_offset += offset;\n+                  cfa_reg = HARD_FRAME_POINTER_REGNUM;\n+                }\n+              else if (XEXP (src, 0) == hard_frame_pointer_rtx\n+                       && GET_CODE (XEXP (src, 1)) == CONST_INT)\n+                {\n+\t\t  if (cfa_reg != HARD_FRAME_POINTER_REGNUM)\n+\t\t    abort ();\n+                  offset = INTVAL (XEXP (src, 1));\n+                  if (GET_CODE (src) == PLUS)\n+                    offset = -offset;\n+                  cfa_offset += offset;\n+                }\n+\n+              else \n+                abort();\n+            }\n \t  else\n \t    {\n \t      if (GET_CODE (src) != PLUS"}]}