{"sha": "bd0b34a882a1b4d92cf8945ccc3968819f57892b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmQwYjM0YTg4MmExYjRkOTJjZjg5NDVjY2MzOTY4ODE5ZjU3ODkyYg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2005-02-12T20:02:35Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2005-02-12T20:02:35Z"}, "message": "utils.c (gnat_type_for_mode): Return NULL for COMPLEX modes...\n\n        * utils.c (gnat_type_for_mode): Return NULL for COMPLEX modes;\n        validate SCALAR_INT_MODE_P before calling gnat_type_for_size.\n\nFrom-SVN: r94946", "tree": {"sha": "ebbf8903535c62ebe1aecaccf0b5bd2043c98eb6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ebbf8903535c62ebe1aecaccf0b5bd2043c98eb6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bd0b34a882a1b4d92cf8945ccc3968819f57892b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd0b34a882a1b4d92cf8945ccc3968819f57892b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd0b34a882a1b4d92cf8945ccc3968819f57892b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd0b34a882a1b4d92cf8945ccc3968819f57892b/comments", "author": null, "committer": null, "parents": [{"sha": "c202a7f94fbc1219edcdfcc35d14064ad04232b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c202a7f94fbc1219edcdfcc35d14064ad04232b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c202a7f94fbc1219edcdfcc35d14064ad04232b3"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "eb7fd064a7aaff08cd46b32f8f6469b7366fe5fd", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd0b34a882a1b4d92cf8945ccc3968819f57892b/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd0b34a882a1b4d92cf8945ccc3968819f57892b/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=bd0b34a882a1b4d92cf8945ccc3968819f57892b", "patch": "@@ -1,3 +1,8 @@\n+2005-02-12  Richard Henderson  <rth@redhat.com>\n+\n+\t* utils.c (gnat_type_for_mode): Return NULL for COMPLEX modes;\n+\tvalidate SCALAR_INT_MODE_P before calling gnat_type_for_size.\n+\n 2005-02-10  Andreas Jaeger  <aj@suse.de>\n \n \t* init.c (__gnat_initialize): Mark parameter as unused."}, {"sha": "0ba7381b9045f0bd9df624c009efb24a765795a1", "filename": "gcc/ada/utils.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd0b34a882a1b4d92cf8945ccc3968819f57892b/gcc%2Fada%2Futils.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd0b34a882a1b4d92cf8945ccc3968819f57892b/gcc%2Fada%2Futils.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Futils.c?ref=bd0b34a882a1b4d92cf8945ccc3968819f57892b", "patch": "@@ -1828,10 +1828,14 @@ gnat_type_for_mode (enum machine_mode mode, int unsignedp)\n     return NULL_TREE;\n   else if (mode == VOIDmode)\n     return void_type_node;\n-  else if (GET_MODE_CLASS (mode) == MODE_FLOAT)\n+  else if (COMPLEX_MODE_P (mode))\n+    return NULL_TREE;\n+  else if (SCALAR_FLOAT_MODE_P (mode))\n     return float_type_for_precision (GET_MODE_PRECISION (mode), mode);\n-  else\n+  else if (SCALAR_INT_MODE_P (mode))\n     return gnat_type_for_size (GET_MODE_BITSIZE (mode), unsignedp);\n+  else\n+    gcc_unreachable ();\n }\n \n /* Return the unsigned version of a TYPE_NODE, a scalar type.  */"}]}