{"sha": "f846e0de9b4d71d063dd1e40e15e1493f449e22a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Zjg0NmUwZGU5YjRkNzFkMDYzZGQxZTQwZTE1ZTE0OTNmNDQ5ZTIyYQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2000-12-07T19:29:24Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-12-07T19:29:24Z"}, "message": "flow.c (calculate_global_regs_live): Force the stack pointer live after reload as well.\n\n        * flow.c (calculate_global_regs_live): Force the stack pointer live\n        after reload as well.\n\nFrom-SVN: r38114", "tree": {"sha": "cc4ec45ec1dee3c48375ac480cc97d74cf044ea9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cc4ec45ec1dee3c48375ac480cc97d74cf044ea9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f846e0de9b4d71d063dd1e40e15e1493f449e22a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f846e0de9b4d71d063dd1e40e15e1493f449e22a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f846e0de9b4d71d063dd1e40e15e1493f449e22a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f846e0de9b4d71d063dd1e40e15e1493f449e22a/comments", "author": null, "committer": null, "parents": [{"sha": "83c4781c639708b9b1671c736ffcbb2c58584479", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83c4781c639708b9b1671c736ffcbb2c58584479", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83c4781c639708b9b1671c736ffcbb2c58584479"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "a82ff39004b5401d04b3915a6a95f2c90a36cedf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f846e0de9b4d71d063dd1e40e15e1493f449e22a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f846e0de9b4d71d063dd1e40e15e1493f449e22a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f846e0de9b4d71d063dd1e40e15e1493f449e22a", "patch": "@@ -1,3 +1,8 @@\n+2000-12-07  Richard Henderson  <rth@redhat.com>\n+\n+\t* flow.c (calculate_global_regs_live): Force the stack pointer live\n+\tafter reload as well.\n+\n 2000-12-07  Bruce Korb  <bkorb@gnu.org>\n \n \t* fixinc/Makefile.*(exeext): the variables are exeext, the"}, {"sha": "92b500290793c8369106b7e6147ad9e6a695bfb4", "filename": "gcc/flow.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f846e0de9b4d71d063dd1e40e15e1493f449e22a/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f846e0de9b4d71d063dd1e40e15e1493f449e22a/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=f846e0de9b4d71d063dd1e40e15e1493f449e22a", "patch": "@@ -3368,14 +3368,14 @@ calculate_global_regs_live (blocks_in, blocks_out, flags)\n \t  IOR_REG_SET (new_live_at_end, sb->global_live_at_start);\n \t}\n \n+      /* The all-important stack pointer must always be live.  */\n+      SET_REGNO_REG_SET (new_live_at_end, STACK_POINTER_REGNUM);\n+\n       /* Before reload, there are a few registers that must be forced\n \t live everywhere -- which might not already be the case for \n \t blocks within infinite loops.  */\n       if (! reload_completed)\n \t{\n-\t  /* The all-important stack pointer.  */\n-\t  SET_REGNO_REG_SET (new_live_at_end, STACK_POINTER_REGNUM);\n-\n \t  /* Any reference to any pseudo before reload is a potential\n \t     reference of the frame pointer.  */\n \t  SET_REGNO_REG_SET (new_live_at_end, FRAME_POINTER_REGNUM);"}]}