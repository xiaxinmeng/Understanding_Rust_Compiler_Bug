{"sha": "2371eaecd58c8f0a6243591c174ed0c8c92d199a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjM3MWVhZWNkNThjOGYwYTYyNDM1OTFjMTc0ZWQwYzhjOTJkMTk5YQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2012-07-10T08:24:28Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2012-07-10T08:24:28Z"}, "message": "rs6000: Rename patterns for vec_widen_<s>mult_even/odd_<mode>\n\n        * config/rs6000/altivec.md (vec_widen_umult_even_v16qi): Rename\n        from altivec_vmuleub.\n        (vec_widen_smult_even_v16qi): Rename from altivec_vmulesb.\n        (vec_widen_umult_even_v8hi): Rename from altivec_vmuleuh.\n        (vec_widen_smult_even_v8hi): Rename from altivec_vmulesh.\n        (vec_widen_umult_odd_v16qi): Rename from altivec_vmuloub.\n        (vec_widen_smult_odd_v16qi): Rename from altivec_vmulosb.\n        (vec_widen_umult_odd_v8hi): Rename from altivec_vmulouh.\n        (vec_widen_smult_odd_v8hi): Rename from altivec_vmulosh.\n        * config/rs6000/rs6000-builtin.def: Update pattern names to match.\n\nFrom-SVN: r189405", "tree": {"sha": "867bf4b035b8a78818d311d12b0004e7d42bb936", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/867bf4b035b8a78818d311d12b0004e7d42bb936"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2371eaecd58c8f0a6243591c174ed0c8c92d199a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2371eaecd58c8f0a6243591c174ed0c8c92d199a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2371eaecd58c8f0a6243591c174ed0c8c92d199a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2371eaecd58c8f0a6243591c174ed0c8c92d199a/comments", "author": null, "committer": null, "parents": [{"sha": "c6b37fab7b8d0e54cdc893076767bfd44556def5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6b37fab7b8d0e54cdc893076767bfd44556def5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c6b37fab7b8d0e54cdc893076767bfd44556def5"}], "stats": {"total": 89, "additions": 50, "deletions": 39}, "files": [{"sha": "91c7eed402c80126d0961d29928232b3c3bee68b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2371eaecd58c8f0a6243591c174ed0c8c92d199a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2371eaecd58c8f0a6243591c174ed0c8c92d199a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2371eaecd58c8f0a6243591c174ed0c8c92d199a", "patch": "@@ -1,5 +1,16 @@\n 2012-07-10  Richard Henderson  <rth@redhat.com>\n \n+\t* config/rs6000/altivec.md (vec_widen_umult_even_v16qi): Rename\n+\tfrom altivec_vmuleub.\n+\t(vec_widen_smult_even_v16qi): Rename from altivec_vmulesb.\n+\t(vec_widen_umult_even_v8hi): Rename from altivec_vmuleuh.\n+\t(vec_widen_smult_even_v8hi): Rename from altivec_vmulesh.\n+\t(vec_widen_umult_odd_v16qi): Rename from altivec_vmuloub.\n+\t(vec_widen_smult_odd_v16qi): Rename from altivec_vmulosb.\n+\t(vec_widen_umult_odd_v8hi): Rename from altivec_vmulouh.\n+\t(vec_widen_smult_odd_v8hi): Rename from altivec_vmulosh.\n+\t* config/rs6000/rs6000-builtin.def: Update pattern names to match.\n+\n \t* config/i386/sse.md (vec_widen_umult_even_v8si): Rename from\n \tavx2_umulv4siv4di3.\n \t(vec_widen_umult_even_v4si): Rename from sse2_umulv2siv2di3."}, {"sha": "8c168c85daf9373d6139e3f7b200b988ce07f7d2", "filename": "gcc/config/rs6000/altivec.md", "status": "modified", "additions": 27, "deletions": 27, "changes": 54, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2371eaecd58c8f0a6243591c174ed0c8c92d199a/gcc%2Fconfig%2Frs6000%2Faltivec.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2371eaecd58c8f0a6243591c174ed0c8c92d199a/gcc%2Fconfig%2Frs6000%2Faltivec.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Faltivec.md?ref=2371eaecd58c8f0a6243591c174ed0c8c92d199a", "patch": "@@ -643,7 +643,7 @@\n    convert_move (small_swap, swap, 0);\n  \n    low_product = gen_reg_rtx (V4SImode);\n-   emit_insn (gen_altivec_vmulouh (low_product, one, two));\n+   emit_insn (gen_vec_widen_umult_odd_v8hi (low_product, one, two));\n  \n    high_product = gen_reg_rtx (V4SImode);\n    emit_insn (gen_altivec_vmsumuhm (high_product, one, small_swap, zero));\n@@ -667,8 +667,8 @@\n    rtx high = gen_reg_rtx (V4SImode);\n    rtx low = gen_reg_rtx (V4SImode);\n \n-   emit_insn (gen_altivec_vmulesh (even, operands[1], operands[2]));\n-   emit_insn (gen_altivec_vmulosh (odd, operands[1], operands[2]));\n+   emit_insn (gen_vec_widen_smult_even_v8hi (even, operands[1], operands[2]));\n+   emit_insn (gen_vec_widen_smult_odd_v8hi (odd, operands[1], operands[2]));\n \n    emit_insn (gen_altivec_vmrghw (high, even, odd));\n    emit_insn (gen_altivec_vmrglw (low, even, odd));\n@@ -936,7 +936,7 @@\n   \"vmrglw %0,%1,%2\"\n   [(set_attr \"type\" \"vecperm\")])\n \n-(define_insn \"altivec_vmuleub\"\n+(define_insn \"vec_widen_umult_even_v16qi\"\n   [(set (match_operand:V8HI 0 \"register_operand\" \"=v\")\n         (unspec:V8HI [(match_operand:V16QI 1 \"register_operand\" \"v\")\n                       (match_operand:V16QI 2 \"register_operand\" \"v\")]\n@@ -945,7 +945,7 @@\n   \"vmuleub %0,%1,%2\"\n   [(set_attr \"type\" \"veccomplex\")])\n \n-(define_insn \"altivec_vmulesb\"\n+(define_insn \"vec_widen_smult_even_v16qi\"\n   [(set (match_operand:V8HI 0 \"register_operand\" \"=v\")\n         (unspec:V8HI [(match_operand:V16QI 1 \"register_operand\" \"v\")\n                       (match_operand:V16QI 2 \"register_operand\" \"v\")]\n@@ -954,7 +954,7 @@\n   \"vmulesb %0,%1,%2\"\n   [(set_attr \"type\" \"veccomplex\")])\n \n-(define_insn \"altivec_vmuleuh\"\n+(define_insn \"vec_widen_umult_even_v8hi\"\n   [(set (match_operand:V4SI 0 \"register_operand\" \"=v\")\n         (unspec:V4SI [(match_operand:V8HI 1 \"register_operand\" \"v\")\n                       (match_operand:V8HI 2 \"register_operand\" \"v\")]\n@@ -963,7 +963,7 @@\n   \"vmuleuh %0,%1,%2\"\n   [(set_attr \"type\" \"veccomplex\")])\n \n-(define_insn \"altivec_vmulesh\"\n+(define_insn \"vec_widen_smult_even_v8hi\"\n   [(set (match_operand:V4SI 0 \"register_operand\" \"=v\")\n         (unspec:V4SI [(match_operand:V8HI 1 \"register_operand\" \"v\")\n                       (match_operand:V8HI 2 \"register_operand\" \"v\")]\n@@ -972,7 +972,7 @@\n   \"vmulesh %0,%1,%2\"\n   [(set_attr \"type\" \"veccomplex\")])\n \n-(define_insn \"altivec_vmuloub\"\n+(define_insn \"vec_widen_umult_odd_v16qi\"\n   [(set (match_operand:V8HI 0 \"register_operand\" \"=v\")\n         (unspec:V8HI [(match_operand:V16QI 1 \"register_operand\" \"v\")\n                       (match_operand:V16QI 2 \"register_operand\" \"v\")]\n@@ -981,7 +981,7 @@\n   \"vmuloub %0,%1,%2\"\n   [(set_attr \"type\" \"veccomplex\")])\n \n-(define_insn \"altivec_vmulosb\"\n+(define_insn \"vec_widen_smult_odd_v16qi\"\n   [(set (match_operand:V8HI 0 \"register_operand\" \"=v\")\n         (unspec:V8HI [(match_operand:V16QI 1 \"register_operand\" \"v\")\n                       (match_operand:V16QI 2 \"register_operand\" \"v\")]\n@@ -990,7 +990,7 @@\n   \"vmulosb %0,%1,%2\"\n   [(set_attr \"type\" \"veccomplex\")])\n \n-(define_insn \"altivec_vmulouh\"\n+(define_insn \"vec_widen_umult_odd_v8hi\"\n   [(set (match_operand:V4SI 0 \"register_operand\" \"=v\")\n         (unspec:V4SI [(match_operand:V8HI 1 \"register_operand\" \"v\")\n                       (match_operand:V8HI 2 \"register_operand\" \"v\")]\n@@ -999,7 +999,7 @@\n   \"vmulouh %0,%1,%2\"\n   [(set_attr \"type\" \"veccomplex\")])\n \n-(define_insn \"altivec_vmulosh\"\n+(define_insn \"vec_widen_smult_odd_v8hi\"\n   [(set (match_operand:V4SI 0 \"register_operand\" \"=v\")\n         (unspec:V4SI [(match_operand:V8HI 1 \"register_operand\" \"v\")\n                       (match_operand:V8HI 2 \"register_operand\" \"v\")]\n@@ -2175,8 +2175,8 @@\n   rtx ve = gen_reg_rtx (V8HImode);\n   rtx vo = gen_reg_rtx (V8HImode);\n   \n-  emit_insn (gen_altivec_vmuleub (ve, operands[1], operands[2]));\n-  emit_insn (gen_altivec_vmuloub (vo, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_umult_even_v16qi (ve, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_umult_odd_v16qi (vo, operands[1], operands[2]));\n   emit_insn (gen_altivec_vmrghh (operands[0], ve, vo));\n   DONE;\n }\")\n@@ -2192,8 +2192,8 @@\n   rtx ve = gen_reg_rtx (V8HImode);\n   rtx vo = gen_reg_rtx (V8HImode);\n   \n-  emit_insn (gen_altivec_vmuleub (ve, operands[1], operands[2]));\n-  emit_insn (gen_altivec_vmuloub (vo, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_umult_even_v16qi (ve, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_umult_odd_v16qi (vo, operands[1], operands[2]));\n   emit_insn (gen_altivec_vmrglh (operands[0], ve, vo));\n   DONE;\n }\")\n@@ -2209,8 +2209,8 @@\n   rtx ve = gen_reg_rtx (V8HImode);\n   rtx vo = gen_reg_rtx (V8HImode);\n   \n-  emit_insn (gen_altivec_vmulesb (ve, operands[1], operands[2]));\n-  emit_insn (gen_altivec_vmulosb (vo, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_smult_even_v16qi (ve, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_smult_odd_v16qi (vo, operands[1], operands[2]));\n   emit_insn (gen_altivec_vmrghh (operands[0], ve, vo));\n   DONE;\n }\")\n@@ -2226,8 +2226,8 @@\n   rtx ve = gen_reg_rtx (V8HImode);\n   rtx vo = gen_reg_rtx (V8HImode);\n   \n-  emit_insn (gen_altivec_vmulesb (ve, operands[1], operands[2]));\n-  emit_insn (gen_altivec_vmulosb (vo, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_smult_even_v16qi (ve, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_smult_odd_v16qi (vo, operands[1], operands[2]));\n   emit_insn (gen_altivec_vmrglh (operands[0], ve, vo));\n   DONE;\n }\")\n@@ -2243,8 +2243,8 @@\n   rtx ve = gen_reg_rtx (V4SImode);\n   rtx vo = gen_reg_rtx (V4SImode);\n   \n-  emit_insn (gen_altivec_vmuleuh (ve, operands[1], operands[2]));\n-  emit_insn (gen_altivec_vmulouh (vo, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_umult_even_v8hi (ve, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_umult_odd_v8hi (vo, operands[1], operands[2]));\n   emit_insn (gen_altivec_vmrghw (operands[0], ve, vo));\n   DONE;\n }\")\n@@ -2260,8 +2260,8 @@\n   rtx ve = gen_reg_rtx (V4SImode);\n   rtx vo = gen_reg_rtx (V4SImode);\n   \n-  emit_insn (gen_altivec_vmuleuh (ve, operands[1], operands[2]));\n-  emit_insn (gen_altivec_vmulouh (vo, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_umult_even_v8hi (ve, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_umult_odd_v8hi (vo, operands[1], operands[2]));\n   emit_insn (gen_altivec_vmrglw (operands[0], ve, vo));\n   DONE;\n }\")\n@@ -2277,8 +2277,8 @@\n   rtx ve = gen_reg_rtx (V4SImode);\n   rtx vo = gen_reg_rtx (V4SImode);\n   \n-  emit_insn (gen_altivec_vmulesh (ve, operands[1], operands[2]));\n-  emit_insn (gen_altivec_vmulosh (vo, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_smult_even_v8hi (ve, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_smult_odd_v8hi (vo, operands[1], operands[2]));\n   emit_insn (gen_altivec_vmrghw (operands[0], ve, vo));\n   DONE;\n }\")\n@@ -2294,8 +2294,8 @@\n   rtx ve = gen_reg_rtx (V4SImode);\n   rtx vo = gen_reg_rtx (V4SImode);\n   \n-  emit_insn (gen_altivec_vmulesh (ve, operands[1], operands[2]));\n-  emit_insn (gen_altivec_vmulosh (vo, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_smult_even_v8hi (ve, operands[1], operands[2]));\n+  emit_insn (gen_vec_widen_smult_odd_v8hi (vo, operands[1], operands[2]));\n   emit_insn (gen_altivec_vmrglw (operands[0], ve, vo));\n   DONE;\n }\")"}, {"sha": "8ef4b050aa0a1a4997b6dc2eb96f5822158f78c0", "filename": "gcc/config/rs6000/rs6000-builtin.def", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2371eaecd58c8f0a6243591c174ed0c8c92d199a/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2371eaecd58c8f0a6243591c174ed0c8c92d199a/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.def?ref=2371eaecd58c8f0a6243591c174ed0c8c92d199a", "patch": "@@ -503,18 +503,18 @@ BU_ALTIVEC_2 (VMINSH,\t      \"vminsh\",\t\tCONST,\tsminv8hi3)\n BU_ALTIVEC_2 (VMINUW,\t      \"vminuw\",\t\tCONST,\tuminv4si3)\n BU_ALTIVEC_2 (VMINSW,\t      \"vminsw\",\t\tCONST,\tsminv4si3)\n BU_ALTIVEC_2 (VMINFP,\t      \"vminfp\",\t\tCONST,\tsminv4sf3)\n-BU_ALTIVEC_2 (VMULEUB,\t      \"vmuleub\",\tCONST,\taltivec_vmuleub)\n-BU_ALTIVEC_2 (VMULEUB_UNS,    \"vmuleub_uns\",\tCONST,\taltivec_vmuleub)\n-BU_ALTIVEC_2 (VMULESB,\t      \"vmulesb\",\tCONST,\taltivec_vmulesb)\n-BU_ALTIVEC_2 (VMULEUH,\t      \"vmuleuh\",\tCONST,\taltivec_vmuleuh)\n-BU_ALTIVEC_2 (VMULEUH_UNS,    \"vmuleuh_uns\",\tCONST,\taltivec_vmuleuh)\n-BU_ALTIVEC_2 (VMULESH,\t      \"vmulesh\",\tCONST,\taltivec_vmulesh)\n-BU_ALTIVEC_2 (VMULOUB,\t      \"vmuloub\",\tCONST,\taltivec_vmuloub)\n-BU_ALTIVEC_2 (VMULOUB_UNS,    \"vmuloub_uns\",\tCONST,\taltivec_vmuloub)\n-BU_ALTIVEC_2 (VMULOSB,\t      \"vmulosb\",\tCONST,\taltivec_vmulosb)\n-BU_ALTIVEC_2 (VMULOUH,\t      \"vmulouh\",\tCONST,\taltivec_vmulouh)\n-BU_ALTIVEC_2 (VMULOUH_UNS,    \"vmulouh_uns\",\tCONST,\taltivec_vmulouh)\n-BU_ALTIVEC_2 (VMULOSH,\t      \"vmulosh\",\tCONST,\taltivec_vmulosh)\n+BU_ALTIVEC_2 (VMULEUB,\t      \"vmuleub\",\tCONST,\tvec_widen_umult_even_v16qi)\n+BU_ALTIVEC_2 (VMULEUB_UNS,    \"vmuleub_uns\",\tCONST,\tvec_widen_umult_even_v16qi)\n+BU_ALTIVEC_2 (VMULESB,\t      \"vmulesb\",\tCONST,\tvec_widen_smult_even_v16qi)\n+BU_ALTIVEC_2 (VMULEUH,\t      \"vmuleuh\",\tCONST,\tvec_widen_umult_even_v8hi)\n+BU_ALTIVEC_2 (VMULEUH_UNS,    \"vmuleuh_uns\",\tCONST,\tvec_widen_umult_even_v8hi)\n+BU_ALTIVEC_2 (VMULESH,\t      \"vmulesh\",\tCONST,\tvec_widen_smult_even_v8hi)\n+BU_ALTIVEC_2 (VMULOUB,\t      \"vmuloub\",\tCONST,\tvec_widen_umult_odd_v16qi)\n+BU_ALTIVEC_2 (VMULOUB_UNS,    \"vmuloub_uns\",\tCONST,\tvec_widen_umult_odd_v16qi)\n+BU_ALTIVEC_2 (VMULOSB,\t      \"vmulosb\",\tCONST,\tvec_widen_smult_odd_v16qi)\n+BU_ALTIVEC_2 (VMULOUH,\t      \"vmulouh\",\tCONST,\tvec_widen_umult_odd_v8hi)\n+BU_ALTIVEC_2 (VMULOUH_UNS,    \"vmulouh_uns\",\tCONST,\tvec_widen_umult_odd_v8hi)\n+BU_ALTIVEC_2 (VMULOSH,\t      \"vmulosh\",\tCONST,\tvec_widen_smult_odd_v8hi)\n BU_ALTIVEC_2 (VNOR,\t      \"vnor\",\t\tCONST,\tnorv4si3)\n BU_ALTIVEC_2 (VOR,\t      \"vor\",\t\tCONST,\tiorv4si3)\n BU_ALTIVEC_2 (VPKUHUM,\t      \"vpkuhum\",\tCONST,\taltivec_vpkuhum)"}]}