{"sha": "01b02b11de52b69b3755883975b1cc8d183a5891", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDFiMDJiMTFkZTUyYjY5YjM3NTU4ODM5NzViMWNjOGQxODNhNTg5MQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "1999-05-07T18:44:38Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "1999-05-07T18:44:38Z"}, "message": "acconfig.h (GCJVERSION): New undef.\n\n\t* acconfig.h (GCJVERSION): New undef.\n\t* java/lang/natSystem.cc (init_properties): Define java.version,\n\tjava.class.version, os.name, os.arch, os.version.\n\tInclude <sys/utsname.h> if required.\n\t* configure: Rebuilt.\n\t* configure.in: Compute and define GCJVERSION.\n\t* java/lang/natSystem.cc (default_file_encoding): Now static.\n\nFrom-SVN: r26830", "tree": {"sha": "3c7e678010bc865faccba1f6bca2abae141985a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3c7e678010bc865faccba1f6bca2abae141985a4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/01b02b11de52b69b3755883975b1cc8d183a5891", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01b02b11de52b69b3755883975b1cc8d183a5891", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01b02b11de52b69b3755883975b1cc8d183a5891", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01b02b11de52b69b3755883975b1cc8d183a5891/comments", "author": null, "committer": null, "parents": [{"sha": "c59c5e9a6508d3a72fe058126482083ad2e5ceeb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c59c5e9a6508d3a72fe058126482083ad2e5ceeb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c59c5e9a6508d3a72fe058126482083ad2e5ceeb"}], "stats": {"total": 1251, "additions": 1017, "deletions": 234}, "files": [{"sha": "25ebb0f6b936c5e49fd15734911eedfb069c4e76", "filename": "libjava/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=01b02b11de52b69b3755883975b1cc8d183a5891", "patch": "@@ -1,5 +1,14 @@\n 1999-05-07  Tom Tromey  <tromey@cygnus.com>\n \n+\t* acconfig.h (GCJVERSION): New undef.\n+\t* java/lang/natSystem.cc (init_properties): Define java.version,\n+\tjava.class.version, os.name, os.arch, os.version.\n+\tInclude <sys/utsname.h> if required.\n+\t* configure: Rebuilt.\n+\t* configure.in: Compute and define GCJVERSION.\n+\n+\t* java/lang/natSystem.cc (default_file_encoding): Now static.\n+\n \t* java/lang/natCharacter.cc (isLowerCase): Use a binary search.\n \n \t* libtool-version: New file."}, {"sha": "85310eacc142a70d44d158542705ac939ec10ff6", "filename": "libjava/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=01b02b11de52b69b3755883975b1cc8d183a5891", "patch": "@@ -92,6 +92,7 @@ THREADDEPS = @THREADDEPS@\n THREADINCS = @THREADINCS@\n THREADLIBS = @THREADLIBS@\n THREADOBJS = @THREADOBJS@\n+USE_SYMBOL_UNDERSCORE = @USE_SYMBOL_UNDERSCORE@\n VERSION = @VERSION@\n here = @here@\n libgcj_basedir = @libgcj_basedir@"}, {"sha": "9e98b769f2e8d3db28166589fbff305620038ecc", "filename": "libjava/acconfig.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2Facconfig.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2Facconfig.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Facconfig.h?ref=01b02b11de52b69b3755883975b1cc8d183a5891", "patch": "@@ -76,6 +76,9 @@\n /* Define if global `timezone' exists.  */\n #undef HAVE_TIMEZONE\n \n+/* Define to version of GCJ in use.  */\n+#undef GCJVERSION\n+\n /* Define if you have the appropriate function.  */\n #undef HAVE_ACCESS\n #undef HAVE_STAT"}, {"sha": "8215fc7a9da894aa740cdebf2d3e68c50eb3b395", "filename": "libjava/aclocal.m4", "status": "modified", "additions": 413, "deletions": 60, "changes": 473, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Faclocal.m4?ref=01b02b11de52b69b3755883975b1cc8d183a5891", "patch": "@@ -316,26 +316,58 @@ done<<>>dnl>>)\n changequote([,]))])\n \n \n-# serial 25 AM_PROG_LIBTOOL\n-AC_DEFUN(AM_PROG_LIBTOOL,\n-[AC_REQUIRE([AM_ENABLE_SHARED])dnl\n-AC_REQUIRE([AM_ENABLE_STATIC])dnl\n+# serial 35 AC_PROG_LIBTOOL\n+AC_DEFUN(AC_PROG_LIBTOOL,\n+[AC_REQUIRE([AC_LIBTOOL_SETUP])dnl\n+\n+# Save cache, so that ltconfig can load it\n+AC_CACHE_SAVE\n+\n+# Actually configure libtool.  ac_aux_dir is where install-sh is found.\n+CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n+LD=\"$LD\" NM=\"$NM\" RANLIB=\"$RANLIB\" LN_S=\"$LN_S\" \\\n+DLLTOOL=\"$DLLTOOL\" AS=\"$AS\" \\\n+${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n+$libtool_flags --no-verify $ac_aux_dir/ltmain.sh $host \\\n+|| AC_MSG_ERROR([libtool configure failed])\n+\n+# Reload cache, that may have been modified by ltconfig\n+AC_CACHE_LOAD\n+\n+# This can be used to rebuild libtool when needed\n+LIBTOOL_DEPS=\"$ac_aux_dir/ltconfig $ac_aux_dir/ltmain.sh\"\n+\n+# Always use our own libtool.\n+LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n+AC_SUBST(LIBTOOL)dnl\n+\n+# Redirect the config.log output again, so that the ltconfig log is not\n+# clobbered by the next message.\n+exec 5>>./config.log\n+])\n+\n+AC_DEFUN(AC_LIBTOOL_SETUP,\n+[AC_PREREQ(2.13)dnl\n+AC_REQUIRE([AC_ENABLE_SHARED])dnl\n+AC_REQUIRE([AC_ENABLE_STATIC])dnl\n+AC_REQUIRE([AC_ENABLE_FAST_INSTALL])dnl\n AC_REQUIRE([AC_CANONICAL_HOST])dnl\n AC_REQUIRE([AC_CANONICAL_BUILD])dnl\n AC_REQUIRE([AC_PROG_RANLIB])dnl\n AC_REQUIRE([AC_PROG_CC])dnl\n-AC_REQUIRE([AM_PROG_LD])dnl\n-AC_REQUIRE([AM_PROG_NM])dnl\n+AC_REQUIRE([AC_PROG_LD])dnl\n+AC_REQUIRE([AC_PROG_NM])dnl\n+AC_REQUIRE([AC_SYS_NM_PARSE])dnl\n+AC_REQUIRE([AC_SYS_SYMBOL_UNDERSCORE])dnl\n AC_REQUIRE([AC_PROG_LN_S])dnl\n dnl\n-# Always use our own libtool.\n-LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n-AC_SUBST(LIBTOOL)dnl\n \n # Check for any special flags to pass to ltconfig.\n-libtool_flags=\n+libtool_flags=\"--cache-file=$cache_file\"\n test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n+test \"$enable_fast_install\" = no && libtool_flags=\"$libtool_flags --disable-fast-install\"\n+test \"$lt_dlopen\" = yes && libtool_flags=\"$libtool_flags --enable-dlopen\"\n test \"$silent\" = yes && libtool_flags=\"$libtool_flags --silent\"\n test \"$ac_cv_prog_gcc\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n test \"$ac_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n@@ -364,37 +396,46 @@ case \"$host\" in\n \n *-*-sco3.2v5*)\n   # On SCO OpenServer 5, we need -belf to get full-featured binaries.\n+  SAVE_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS -belf\"\n+  AC_CACHE_CHECK([whether the C compiler needs -belf], lt_cv_cc_needs_belf,\n+    [AC_TRY_LINK([],[],[lt_cv_cc_needs_belf=yes],[lt_cv_cc_needs_belf=no])])\n+  if test x\"$lt_cv_cc_needs_belf\" != x\"yes\"; then\n+    # this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf\n+    CFLAGS=\"$SAVE_CFLAGS\"\n+  fi\n   ;;\n \n-*-*-cygwin32*)\n-  AM_SYS_LIBTOOL_CYGWIN32\n+*-*-cygwin*)\n+  AC_SYS_LIBTOOL_CYGWIN\n   ;;\n \n esac\n \n-# Actually configure libtool.  ac_aux_dir is where install-sh is found.\n-CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n-LD=\"$LD\" NM=\"$NM\" RANLIB=\"$RANLIB\" LN_S=\"$LN_S\" \\\n-DLLTOOL=\"$DLLTOOL\" AS=\"$AS\" \\\n-${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n-$libtool_flags --no-verify $ac_aux_dir/ltmain.sh $host \\\n-|| AC_MSG_ERROR([libtool configure failed])\n+# enable the --disable-libtool-lock switch\n \n-# Redirect the config.log output again, so that the ltconfig log is not\n-# clobbered by the next message.\n-exec 5>>./config.log\n+AC_ARG_ENABLE(libtool-lock,\n+[  --disable-libtool-lock  force libtool not to do file locking],\n+need_locks=$enableval,\n+need_locks=yes)\n+\n+if test x\"$need_locks\" = xno; then\n+  libtool_flags=\"$libtool_flags --disable-lock\"\n+fi\n ])\n \n-# AM_ENABLE_SHARED - implement the --enable-shared flag\n-# Usage: AM_ENABLE_SHARED[(DEFAULT)]\n+# AC_LIBTOOL_DLOPEN - check for dlopen support\n+AC_DEFUN(AC_LIBTOOL_DLOPEN, [lt_dlopen=yes])\n+\n+# AC_ENABLE_SHARED - implement the --enable-shared flag\n+# Usage: AC_ENABLE_SHARED[(DEFAULT)]\n #   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n #   `yes'.\n-AC_DEFUN(AM_ENABLE_SHARED,\n-[define([AM_ENABLE_SHARED_DEFAULT], ifelse($1, no, no, yes))dnl\n+AC_DEFUN(AC_ENABLE_SHARED,\n+[define([AC_ENABLE_SHARED_DEFAULT], ifelse($1, no, no, yes))dnl\n AC_ARG_ENABLE(shared,\n changequote(<<, >>)dnl\n-<<  --enable-shared[=PKGS]  build shared libraries [default=>>AM_ENABLE_SHARED_DEFAULT],\n+<<  --enable-shared[=PKGS]  build shared libraries [default=>>AC_ENABLE_SHARED_DEFAULT],\n changequote([, ])dnl\n [p=${PACKAGE-default}\n case \"$enableval\" in\n@@ -412,26 +453,22 @@ no) enable_shared=no ;;\n   IFS=\"$ac_save_ifs\"\n   ;;\n esac],\n-enable_shared=AM_ENABLE_SHARED_DEFAULT)dnl\n+enable_shared=AC_ENABLE_SHARED_DEFAULT)dnl\n ])\n \n-# AM_DISABLE_SHARED - set the default shared flag to --disable-shared\n-AC_DEFUN(AM_DISABLE_SHARED,\n-[AM_ENABLE_SHARED(no)])\n-\n-# AM_DISABLE_STATIC - set the default static flag to --disable-static\n-AC_DEFUN(AM_DISABLE_STATIC,\n-[AM_ENABLE_STATIC(no)])\n+# AC_DISABLE_SHARED - set the default shared flag to --disable-shared\n+AC_DEFUN(AC_DISABLE_SHARED,\n+[AC_ENABLE_SHARED(no)])\n \n-# AM_ENABLE_STATIC - implement the --enable-static flag\n-# Usage: AM_ENABLE_STATIC[(DEFAULT)]\n+# AC_ENABLE_STATIC - implement the --enable-static flag\n+# Usage: AC_ENABLE_STATIC[(DEFAULT)]\n #   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n #   `yes'.\n-AC_DEFUN(AM_ENABLE_STATIC,\n-[define([AM_ENABLE_STATIC_DEFAULT], ifelse($1, no, no, yes))dnl\n+AC_DEFUN(AC_ENABLE_STATIC,\n+[define([AC_ENABLE_STATIC_DEFAULT], ifelse($1, no, no, yes))dnl\n AC_ARG_ENABLE(static,\n changequote(<<, >>)dnl\n-<<  --enable-static[=PKGS]  build static libraries [default=>>AM_ENABLE_STATIC_DEFAULT],\n+<<  --enable-static[=PKGS]  build static libraries [default=>>AC_ENABLE_STATIC_DEFAULT],\n changequote([, ])dnl\n [p=${PACKAGE-default}\n case \"$enableval\" in\n@@ -449,28 +486,74 @@ no) enable_static=no ;;\n   IFS=\"$ac_save_ifs\"\n   ;;\n esac],\n-enable_static=AM_ENABLE_STATIC_DEFAULT)dnl\n+enable_static=AC_ENABLE_STATIC_DEFAULT)dnl\n ])\n \n+# AC_DISABLE_STATIC - set the default static flag to --disable-static\n+AC_DEFUN(AC_DISABLE_STATIC,\n+[AC_ENABLE_STATIC(no)])\n \n-# AM_PROG_LD - find the path to the GNU or non-GNU linker\n-AC_DEFUN(AM_PROG_LD,\n+\n+# AC_ENABLE_FAST_INSTALL - implement the --enable-fast-install flag\n+# Usage: AC_ENABLE_FAST_INSTALL[(DEFAULT)]\n+#   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n+#   `yes'.\n+AC_DEFUN(AC_ENABLE_FAST_INSTALL,\n+[define([AC_ENABLE_FAST_INSTALL_DEFAULT], ifelse($1, no, no, yes))dnl\n+AC_ARG_ENABLE(fast-install,\n+changequote(<<, >>)dnl\n+<<  --enable-fast-install[=PKGS]  optimize for fast installation [default=>>AC_ENABLE_FAST_INSTALL_DEFAULT],\n+changequote([, ])dnl\n+[p=${PACKAGE-default}\n+case \"$enableval\" in\n+yes) enable_fast_install=yes ;;\n+no) enable_fast_install=no ;;\n+*)\n+  enable_fast_install=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_fast_install=yes\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  ;;\n+esac],\n+enable_fast_install=AC_ENABLE_FAST_INSTALL_DEFAULT)dnl\n+])\n+\n+# AC_ENABLE_FAST_INSTALL - set the default to --disable-fast-install\n+AC_DEFUN(AC_DISABLE_FAST_INSTALL,\n+[AC_ENABLE_FAST_INSTALL(no)])\n+\n+\n+# AC_PROG_LD - find the path to the GNU or non-GNU linker\n+AC_DEFUN(AC_PROG_LD,\n [AC_ARG_WITH(gnu-ld,\n [  --with-gnu-ld           assume the C compiler uses GNU ld [default=no]],\n test \"$withval\" = no || with_gnu_ld=yes, with_gnu_ld=no)\n-AC_REQUIRE([AC_PROG_CC])\n+AC_REQUIRE([AC_PROG_CC])dnl\n+AC_REQUIRE([AC_CANONICAL_HOST])dnl\n+AC_REQUIRE([AC_CANONICAL_BUILD])dnl\n ac_prog=ld\n if test \"$ac_cv_prog_gcc\" = yes; then\n   # Check if gcc -print-prog-name=ld gives a path.\n   AC_MSG_CHECKING([for ld used by GCC])\n   ac_prog=`($CC -print-prog-name=ld) 2>&5`\n   case \"$ac_prog\" in\n-  # Accept absolute paths.\n+    # Accept absolute paths.\n changequote(,)dnl\n-  /* | [A-Za-z]:\\\\*)\n+    /* | [A-Za-z]:[\\\\/]*)\n+      re_direlt='/[^/][^/]*/\\.\\./'\n changequote([,])dnl\n-    test -z \"$LD\" && LD=\"$ac_prog\"\n-    ;;\n+      # Canonicalize the path of ld\n+      ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n+      while echo $ac_prog | grep \"$re_direlt\" > /dev/null 2>&1; do\n+\tac_prog=`echo $ac_prog| sed \"s%$re_direlt%/%\"`\n+      done\n+      test -z \"$LD\" && LD=\"$ac_prog\"\n+      ;;\n   \"\")\n     # If it fails, then pretend we aren't using GCC.\n     ac_prog=ld\n@@ -498,7 +581,7 @@ AC_CACHE_VAL(ac_cv_path_LD,\n       if \"$ac_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n \ttest \"$with_gnu_ld\" != no && break\n       else\n-        test \"$with_gnu_ld\" != yes && break\n+\ttest \"$with_gnu_ld\" != yes && break\n       fi\n     fi\n   done\n@@ -514,10 +597,10 @@ else\n fi\n test -z \"$LD\" && AC_MSG_ERROR([no acceptable ld found in \\$PATH])\n AC_SUBST(LD)\n-AM_PROG_LD_GNU\n+AC_PROG_LD_GNU\n ])\n \n-AC_DEFUN(AM_PROG_LD_GNU,\n+AC_DEFUN(AC_PROG_LD_GNU,\n [AC_CACHE_CHECK([if the linker ($LD) is GNU ld], ac_cv_prog_gnu_ld,\n [# I'd rather use --version here, but apparently some GNU ld's only accept -v.\n if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n@@ -527,29 +610,31 @@ else\n fi])\n ])\n \n-# AM_PROG_NM - find the path to a BSD-compatible name lister\n-AC_DEFUN(AM_PROG_NM,\n+# AC_PROG_NM - find the path to a BSD-compatible name lister\n+AC_DEFUN(AC_PROG_NM,\n [AC_MSG_CHECKING([for BSD-compatible nm])\n AC_CACHE_VAL(ac_cv_path_NM,\n [if test -n \"$NM\"; then\n   # Let the user override the test.\n   ac_cv_path_NM=\"$NM\"\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-  for ac_dir in /usr/ucb /usr/ccs/bin $PATH /bin; do\n+  for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/nm; then\n       # Check to see if the nm accepts a BSD-compat flag.\n       # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n       #   nm: unknown option \"B\" ignored\n       if ($ac_dir/nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n-        ac_cv_path_NM=\"$ac_dir/nm -B\"\n+\tac_cv_path_NM=\"$ac_dir/nm -B\"\n+\tbreak\n       elif ($ac_dir/nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n-        ac_cv_path_NM=\"$ac_dir/nm -p\"\n+\tac_cv_path_NM=\"$ac_dir/nm -p\"\n+\tbreak\n       else\n-        ac_cv_path_NM=\"$ac_dir/nm\"\n+\tac_cv_path_NM=${ac_cv_path_NM=\"$ac_dir/nm\"} # keep the first match, but\n+\tcontinue # so that we can try to find one that supports BSD flags\n       fi\n-      break\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n@@ -560,9 +645,277 @@ AC_MSG_RESULT([$NM])\n AC_SUBST(NM)\n ])\n \n-# AM_SYS_LIBTOOL_CYGWIN32 - find tools needed on cygwin32\n-AC_DEFUN(AM_SYS_LIBTOOL_CYGWIN32,\n+# AC_SYS_NM_PARSE - Check for command to grab the raw symbol name followed\n+# by C symbol name from nm.\n+AC_DEFUN(AC_SYS_NM_PARSE,\n+[AC_REQUIRE([AC_CANONICAL_HOST])dnl\n+AC_REQUIRE([AC_PROG_NM])dnl\n+# Check for command to grab the raw symbol name followed by C symbol from nm.\n+AC_MSG_CHECKING([command to parse $NM output])\n+AC_CACHE_VAL(ac_cv_sys_global_symbol_pipe,\n+[# These are sane defaults that work on at least a few old systems.\n+# {They come from Ultrix.  What could be older than Ultrix?!! ;)}\n+\n+changequote(,)dnl\n+# Character class describing NM global symbol codes.\n+ac_symcode='[BCDEGRST]'\n+\n+# Regexp to match symbols that can be accessed directly from C.\n+ac_sympat='\\([_A-Za-z][_A-Za-z0-9]*\\)'\n+\n+# Transform the above into a raw symbol and a C symbol.\n+ac_symxfrm='\\1 \\2\\3 \\3'\n+\n+# Transform an extracted symbol line into a proper C declaration\n+ac_global_symbol_to_cdecl=\"sed -n -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n+\n+# Define system-specific variables.\n+case \"$host_os\" in\n+aix*)\n+  ac_symcode='[BCDT]'\n+  ;;\n+cygwin* | mingw*)\n+  ac_symcode='[ABCDGISTW]'\n+  ;;\n+hpux*)\n+  ac_global_symbol_to_cdecl=\"sed -n -e 's/^T .* \\(.*\\)$/extern char \\1();/p' -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n+  ;;\n+irix*)\n+  ac_symcode='[BCDEGRST]'\n+  ;;\n+solaris*)\n+  ac_symcode='[BDT]'\n+  ;;\n+esac\n+\n+# If we're using GNU nm, then use its standard symbol codes.\n+if $NM -V 2>&1 | egrep '(GNU|with BFD)' > /dev/null; then\n+  ac_symcode='[ABCDGISTW]'\n+fi\n+changequote([,])dnl\n+\n+# Try without a prefix undercore, then with it.\n+for ac_symprfx in \"\" \"_\"; do\n+\n+  ac_cv_sys_global_symbol_pipe=\"sed -n -e 's/^.*[ \t]\\($ac_symcode\\)[ \t][ \t]*\\($ac_symprfx\\)$ac_sympat$/$ac_symxfrm/p'\"\n+\n+  # Check to see that the pipe works correctly.\n+  ac_pipe_works=no\n+  rm -f conftest.$ac_ext\n+  cat > conftest.$ac_ext <<EOF\n+#ifdef __cplusplus\n+extern \"C\" {\n+#endif\n+char nm_test_var;\n+void nm_test_func(){}\n+#ifdef __cplusplus\n+}\n+#endif\n+int main(){nm_test_var='a';nm_test_func;return 0;}\n+EOF\n+\n+  if AC_TRY_EVAL(ac_compile); then\n+    # Now try to grab the symbols.\n+    ac_nlist=conftest.nm\n+  \n+    if AC_TRY_EVAL(NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) && test -s \"$ac_nlist\"; then\n+\n+      # Try sorting and uniquifying the output.\n+      if sort \"$ac_nlist\" | uniq > \"$ac_nlist\"T; then\n+\tmv -f \"$ac_nlist\"T \"$ac_nlist\"\n+      else\n+\trm -f \"$ac_nlist\"T\n+      fi\n+\n+      # Make sure that we snagged all the symbols we need.\n+      if egrep ' nm_test_var$' \"$ac_nlist\" >/dev/null; then\n+\tif egrep ' nm_test_func$' \"$ac_nlist\" >/dev/null; then\n+\t  cat <<EOF > conftest.c\n+#ifdef __cplusplus\n+extern \"C\" {\n+#endif\n+\n+EOF\n+\t  # Now generate the symbol file.\n+\t  eval \"$ac_global_symbol_to_cdecl\"' < \"$ac_nlist\" >> conftest.c'\n+\n+\t  cat <<EOF >> conftest.c\n+#if defined (__STDC__) && __STDC__\n+# define lt_ptr_t void *\n+#else\n+# define lt_ptr_t char *\n+# define const\n+#endif\n+\n+/* The mapping between symbol names and symbols. */\n+const struct {\n+  const char *name;\n+  lt_ptr_t address;\n+}\n+changequote(,)dnl\n+lt_preloaded_symbols[] =\n+changequote([,])dnl\n+{\n+EOF\n+\tsed 's/^. \\(.*\\) \\(.*\\)$/  {\"\\2\", (lt_ptr_t) \\&\\2},/' < \"$ac_nlist\" >> conftest.c\n+\tcat <<\\EOF >> conftest.c\n+  {0, (lt_ptr_t) 0}\n+};\n+\n+#ifdef __cplusplus\n+}\n+#endif\n+EOF\n+\t  # Now try linking the two files.\n+\t  mv conftest.$ac_objext conftestm.$ac_objext\n+\t  ac_save_LIBS=\"$LIBS\"\n+\t  ac_save_CFLAGS=\"$CFLAGS\"\n+\t  LIBS=\"conftestm.$ac_objext\"\n+\t  CFLAGS=\"$CFLAGS$no_builtin_flag\"\n+\t  if AC_TRY_EVAL(ac_link) && test -s conftest; then\n+\t    ac_pipe_works=yes\n+\t  else\n+\t    echo \"configure: failed program was:\" >&AC_FD_CC\n+\t    cat conftest.c >&AC_FD_CC\n+\t  fi\n+\t  LIBS=\"$ac_save_LIBS\"\n+\t  CFLAGS=\"$ac_save_CFLAGS\"\n+\telse\n+\t  echo \"cannot find nm_test_func in $ac_nlist\" >&AC_FD_CC\n+\tfi\n+      else\n+\techo \"cannot find nm_test_var in $ac_nlist\" >&AC_FD_CC\n+      fi\n+    else\n+      echo \"cannot run $ac_cv_sys_global_symbol_pipe\" >&AC_FD_CC\n+    fi\n+  else\n+    echo \"$progname: failed program was:\" >&AC_FD_CC\n+    cat conftest.c >&AC_FD_CC\n+  fi\n+  rm -rf conftest*\n+\n+  # Do not use the global_symbol_pipe unless it works.\n+  if test \"$ac_pipe_works\" = yes; then\n+    if test x\"$ac_symprfx\" = x\"_\"; then\n+      ac_cv_sys_symbol_underscore=yes\n+    else\n+      ac_cv_sys_symbol_underscore=no\n+    fi\n+    break\n+  else\n+    ac_cv_sys_global_symbol_pipe=\n+  fi\n+done\n+])\n+\n+ac_result=yes\n+if test -z \"$ac_cv_sys_global_symbol_pipe\"; then\n+   ac_result=no\n+fi\n+AC_MSG_RESULT($ac_result)\n+])\n+\n+# AC_SYS_LIBTOOL_CYGWIN - find tools needed on cygwin\n+AC_DEFUN(AC_SYS_LIBTOOL_CYGWIN,\n [AC_CHECK_TOOL(DLLTOOL, dlltool, false)\n AC_CHECK_TOOL(AS, as, false)\n ])\n \n+# AC_SYS_SYMBOL_UNDERSCORE - does the compiler prefix global symbols\n+#                            with an underscore?\n+AC_DEFUN(AC_SYS_SYMBOL_UNDERSCORE,\n+[AC_REQUIRE([AC_PROG_NM])dnl\n+AC_REQUIRE([AC_SYS_NM_PARSE])dnl\n+AC_MSG_CHECKING([for _ prefix in compiled symbols])\n+AC_CACHE_VAL(ac_cv_sys_symbol_underscore,\n+[ac_cv_sys_symbol_underscore=no\n+cat > conftest.$ac_ext <<EOF\n+void nm_test_func(){}\n+int main(){nm_test_func;return 0;}\n+EOF\n+if AC_TRY_EVAL(ac_compile); then\n+  # Now try to grab the symbols.\n+  ac_nlist=conftest.nm\n+  if AC_TRY_EVAL(NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) && test -s \"$ac_nlist\"; then\n+    # See whether the symbols have a leading underscore.\n+    if egrep '^. _nm_test_func' \"$ac_nlist\" >/dev/null; then\n+      ac_cv_sys_symbol_underscore=yes\n+    else\n+      if egrep '^. nm_test_func ' \"$ac_nlist\" >/dev/null; then\n+\t:\n+      else\n+\techo \"configure: cannot find nm_test_func in $ac_nlist\" >&AC_FD_CC\n+      fi\n+    fi\n+  else\n+    echo \"configure: cannot run $ac_cv_sys_global_symbol_pipe\" >&AC_FD_CC\n+  fi\n+else\n+  echo \"configure: failed program was:\" >&AC_FD_CC\n+  cat conftest.c >&AC_FD_CC\n+fi\n+rm -rf conftest*\n+])\n+AC_MSG_RESULT($ac_cv_sys_symbol_underscore)\n+USE_SYMBOL_UNDERSCORE=${ac_cv_sys_symbol_underscore=no}\n+AC_SUBST(USE_SYMBOL_UNDERSCORE)dnl\n+])\n+\n+# AC_CHECK_LIBM - check for math library\n+AC_DEFUN(AC_CHECK_LIBM, [\n+AC_CHECK_LIB(mw, _mwvalidcheckl)\n+AC_CHECK_LIB(m, cos)\n+])\n+\n+# AC_LIBLTDL_CONVENIENCE[(dir)] - sets LIBLTDL to the link flags for\n+# the libltdl convenience library, adds --enable-ltdl-convenience to\n+# the configure arguments.  Note that LIBLTDL is not AC_SUBSTed, nor\n+# is AC_CONFIG_SUBDIRS called.  If DIR is not provided, it is assumed\n+# to be `${top_builddir}/libltdl'.  Make sure you start DIR with\n+# '${top_builddir}/' (note the single quotes!) if your package is not\n+# flat, and, if you're not using automake, define top_builddir as\n+# appropriate in the Makefiles.\n+AC_DEFUN(AC_LIBLTDL_CONVENIENCE, [\n+  case \"$enable_ltdl_convenience\" in\n+  no) AC_MSG_ERROR([this package needs a convenience libltdl]) ;;\n+  \"\") enable_ltdl_convenience=yes\n+      ac_configure_args=\"$ac_configure_args --enable-ltdl-convenience\" ;;\n+  esac\n+  LIBLTDL=ifelse($#,1,$1,['${top_builddir}/libltdl'])/libltdlc.la\n+])\n+\n+# AC_LIBLTDL_INSTALLABLE[(dir)] - sets LIBLTDL to the link flags for\n+# the libltdl installable library, and adds --enable-ltdl-install to\n+# the configure arguments.  Note that LIBLTDL is not AC_SUBSTed, nor\n+# is AC_CONFIG_SUBDIRS called.  If DIR is not provided, it is assumed\n+# to be `${top_builddir}/libltdl'.  Make sure you start DIR with\n+# '${top_builddir}/' (note the single quotes!) if your package is not\n+# flat, and, if you're not using automake, define top_builddir as\n+# appropriate in the Makefiles.\n+# In the future, this macro may have to be called after AC_PROG_LIBTOOL.\n+AC_DEFUN(AC_LIBLTDL_INSTALLABLE, [\n+  AC_CHECK_LIB(ltdl, main, LIBLTDL=\"-lltdl\", [\n+    case \"$enable_ltdl_install\" in\n+    no) AC_MSG_WARN([libltdl not installed, but installation disabled]) ;;\n+    \"\") enable_ltdl_install=yes\n+        ac_configure_args=\"$ac_configure_args --enable-ltdl-install\" ;;\n+    esac\n+  ])\n+  if test x\"$enable_ltdl_install\" != x\"no\"; then\n+    LIBLTDL=ifelse($#,1,$1,['${top_builddir}/libltdl'])/libltdl.la\n+  fi\n+])\n+\n+dnl old names\n+AC_DEFUN(AM_PROG_LIBTOOL, [indir([AC_PROG_LIBTOOL])])dnl\n+AC_DEFUN(AM_ENABLE_SHARED, [indir([AC_ENABLE_SHARED], $@)])dnl\n+AC_DEFUN(AM_ENABLE_STATIC, [indir([AC_ENABLE_STATIC], $@)])dnl\n+AC_DEFUN(AM_DISABLE_SHARED, [indir([AC_DISABLE_SHARED], $@)])dnl\n+AC_DEFUN(AM_DISABLE_STATIC, [indir([AC_DISABLE_STATIC], $@)])dnl\n+AC_DEFUN(AM_PROG_LD, [indir([AC_PROG_LD])])dnl\n+AC_DEFUN(AM_PROG_NM, [indir([AC_PROG_NM])])dnl\n+AC_DEFUN(AM_SYS_NM_PARSE, [indir([AC_SYS_NM_PARSE])])dnl\n+AC_DEFUN(AM_SYS_SYMBOL_UNDERSCORE, [indir([AC_SYS_SYMBOL_UNDERSCORE])])dnl\n+AC_DEFUN(AM_SYS_LIBTOOL_CYGWIN, [indir([AC_SYS_LIBTOOL_CYGWIN])])dnl\n+"}, {"sha": "66633d99fd6c78734932f28feefe7cd5a040a516", "filename": "libjava/configure", "status": "modified", "additions": 539, "deletions": 165, "changes": 704, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=01b02b11de52b69b3755883975b1cc8d183a5891", "patch": "@@ -24,8 +24,12 @@ ac_help=\"$ac_help\n   --enable-shared[=PKGS]  build shared libraries [default=yes]\"\n ac_help=\"$ac_help\n   --enable-static[=PKGS]  build static libraries [default=yes]\"\n+ac_help=\"$ac_help\n+  --enable-fast-install[=PKGS]  optimize for fast installation [default=yes]\"\n ac_help=\"$ac_help\n   --with-gnu-ld           assume the C compiler uses GNU ld [default=no]\"\n+ac_help=\"$ac_help\n+  --disable-libtool-lock  force libtool not to do file locking\"\n ac_help=\"$ac_help\n   --enable-fast-character          Prefer speed over size for Character\"\n ac_help=\"$ac_help\n@@ -595,7 +599,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:599: checking host system type\" >&5\n+echo \"configure:603: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -616,7 +620,7 @@ host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:620: checking target system type\" >&5\n+echo \"configure:624: checking target system type\" >&5\n \n target_alias=$target\n case \"$target_alias\" in\n@@ -634,7 +638,7 @@ target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$target\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:638: checking build system type\" >&5\n+echo \"configure:642: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -682,7 +686,7 @@ fi\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:686: checking for a BSD compatible install\" >&5\n+echo \"configure:690: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -735,7 +739,7 @@ test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n echo $ac_n \"checking whether build environment is sane\"\"... $ac_c\" 1>&6\n-echo \"configure:739: checking whether build environment is sane\" >&5\n+echo \"configure:743: checking whether build environment is sane\" >&5\n # Just in case\n sleep 1\n echo timestamp > conftestfile\n@@ -792,7 +796,7 @@ test \"$program_suffix\" != NONE &&\n test \"$program_transform_name\" = \"\" && program_transform_name=\"s,x,x,\"\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:796: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:800: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -825,12 +829,12 @@ else\n fi\n \n echo $ac_n \"checking for Cygwin environment\"\"... $ac_c\" 1>&6\n-echo \"configure:829: checking for Cygwin environment\" >&5\n+echo \"configure:833: checking for Cygwin environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_cygwin'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 834 \"configure\"\n+#line 838 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -841,7 +845,7 @@ int main() {\n return __CYGWIN__;\n ; return 0; }\n EOF\n-if { (eval echo configure:845: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:849: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_cygwin=yes\n else\n@@ -858,19 +862,19 @@ echo \"$ac_t\"\"$ac_cv_cygwin\" 1>&6\n CYGWIN=\n test \"$ac_cv_cygwin\" = yes && CYGWIN=yes\n echo $ac_n \"checking for mingw32 environment\"\"... $ac_c\" 1>&6\n-echo \"configure:862: checking for mingw32 environment\" >&5\n+echo \"configure:866: checking for mingw32 environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_mingw32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 867 \"configure\"\n+#line 871 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n return __MINGW32__;\n ; return 0; }\n EOF\n-if { (eval echo configure:874: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:878: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_mingw32=yes\n else\n@@ -918,7 +922,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:922: checking host system type\" >&5\n+echo \"configure:926: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -959,7 +963,7 @@ EOF\n \n missing_dir=`cd $ac_aux_dir && pwd`\n echo $ac_n \"checking for working aclocal\"\"... $ac_c\" 1>&6\n-echo \"configure:963: checking for working aclocal\" >&5\n+echo \"configure:967: checking for working aclocal\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -972,7 +976,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoconf\"\"... $ac_c\" 1>&6\n-echo \"configure:976: checking for working autoconf\" >&5\n+echo \"configure:980: checking for working autoconf\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -985,7 +989,7 @@ else\n fi\n \n echo $ac_n \"checking for working automake\"\"... $ac_c\" 1>&6\n-echo \"configure:989: checking for working automake\" >&5\n+echo \"configure:993: checking for working automake\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -998,7 +1002,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoheader\"\"... $ac_c\" 1>&6\n-echo \"configure:1002: checking for working autoheader\" >&5\n+echo \"configure:1006: checking for working autoheader\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -1011,7 +1015,7 @@ else\n fi\n \n echo $ac_n \"checking for working makeinfo\"\"... $ac_c\" 1>&6\n-echo \"configure:1015: checking for working makeinfo\" >&5\n+echo \"configure:1019: checking for working makeinfo\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -1036,7 +1040,7 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1040: checking for $ac_word\" >&5\n+echo \"configure:1044: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1066,7 +1070,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1070: checking for $ac_word\" >&5\n+echo \"configure:1074: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1115,7 +1119,7 @@ fi\n fi\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1119: checking whether we are using GNU C\" >&5\n+echo \"configure:1123: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1124,7 +1128,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1128: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1132: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1139,7 +1143,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1143: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1147: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1175,7 +1179,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1179: checking for $ac_word\" >&5\n+echo \"configure:1183: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CXX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1208,7 +1212,7 @@ test -n \"$CXX\" || CXX=\"gcc\"\n test -z \"$CXX\" && { echo \"configure: error: no acceptable c++ found in \\$PATH\" 1>&2; exit 1; }\n \n echo $ac_n \"checking whether we are using GNU C++\"\"... $ac_c\" 1>&6\n-echo \"configure:1212: checking whether we are using GNU C++\" >&5\n+echo \"configure:1216: checking whether we are using GNU C++\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gxx'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1217,7 +1221,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CXX-g++} -E conftest.C'; { (eval echo configure:1221: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CXX-g++} -E conftest.C'; { (eval echo configure:1225: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gxx=yes\n else\n   ac_cv_prog_gxx=no\n@@ -1232,7 +1236,7 @@ if test $ac_cv_prog_gxx = yes; then\n   ac_save_CXXFLAGS=\"$CXXFLAGS\"\n   CXXFLAGS=\n   echo $ac_n \"checking whether ${CXX-g++} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1236: checking whether ${CXX-g++} accepts -g\" >&5\n+echo \"configure:1240: checking whether ${CXX-g++} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cxx_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1265,7 +1269,7 @@ fi\n # LIBGCJ_CONFIGURE, which doesn't work because that means that it will\n # be run before AC_CANONICAL_HOST.\n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1269: checking build system type\" >&5\n+echo \"configure:1273: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -1286,7 +1290,7 @@ echo \"$ac_t\"\"$build\" 1>&6\n # Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1290: checking for $ac_word\" >&5\n+echo \"configure:1294: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1318,7 +1322,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1322: checking for $ac_word\" >&5\n+echo \"configure:1326: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1350,7 +1354,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1354: checking for $ac_word\" >&5\n+echo \"configure:1358: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1382,7 +1386,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1386: checking for $ac_word\" >&5\n+echo \"configure:1390: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1427,7 +1431,7 @@ fi\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1431: checking for a BSD compatible install\" >&5\n+echo \"configure:1435: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1481,7 +1485,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:1485: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:1489: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -1515,7 +1519,7 @@ if false; then\n   \n \n echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:1519: checking for executable suffix\" >&5\n+echo \"configure:1523: checking for executable suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1525,7 +1529,7 @@ else\n   rm -f conftest*\n   echo 'int main () { return 0; }' > conftest.$ac_ext\n   ac_cv_exeext=\n-  if { (eval echo configure:1529: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+  if { (eval echo configure:1533: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n       *.c | *.o | *.obj | *.ilk | *.pdb) ;;\n@@ -1621,10 +1625,33 @@ else\n   enable_static=yes\n fi\n \n+# Check whether --enable-fast-install or --disable-fast-install was given.\n+if test \"${enable_fast_install+set}\" = set; then\n+  enableval=\"$enable_fast_install\"\n+  p=${PACKAGE-default}\n+case \"$enableval\" in\n+yes) enable_fast_install=yes ;;\n+no) enable_fast_install=no ;;\n+*)\n+  enable_fast_install=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_fast_install=yes\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  ;;\n+esac\n+else\n+  enable_fast_install=yes\n+fi\n+\n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1628: checking for $ac_word\" >&5\n+echo \"configure:1655: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1654,7 +1681,7 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1658: checking for $ac_word\" >&5\n+echo \"configure:1685: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1684,7 +1711,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1688: checking for $ac_word\" >&5\n+echo \"configure:1715: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1735,7 +1762,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1739: checking for $ac_word\" >&5\n+echo \"configure:1766: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1767,7 +1794,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:1771: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1798: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -1778,12 +1805,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 1782 \"configure\"\n+#line 1809 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:1787: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1814: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -1809,12 +1836,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:1813: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:1840: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1818: checking whether we are using GNU C\" >&5\n+echo \"configure:1845: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1823,7 +1850,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1827: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1854: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1842,7 +1869,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1846: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1873: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1881,18 +1908,23 @@ else\n   with_gnu_ld=no\n fi\n \n-\n ac_prog=ld\n if test \"$ac_cv_prog_gcc\" = yes; then\n   # Check if gcc -print-prog-name=ld gives a path.\n   echo $ac_n \"checking for ld used by GCC\"\"... $ac_c\" 1>&6\n-echo \"configure:1890: checking for ld used by GCC\" >&5\n+echo \"configure:1916: checking for ld used by GCC\" >&5\n   ac_prog=`($CC -print-prog-name=ld) 2>&5`\n   case \"$ac_prog\" in\n-  # Accept absolute paths.\n-  /* | [A-Za-z]:\\\\*)\n-    test -z \"$LD\" && LD=\"$ac_prog\"\n-    ;;\n+    # Accept absolute paths.\n+    /* | [A-Za-z]:[\\\\/]*)\n+      re_direlt='/[^/][^/]*/\\.\\./'\n+      # Canonicalize the path of ld\n+      ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n+      while echo $ac_prog | grep \"$re_direlt\" > /dev/null 2>&1; do\n+\tac_prog=`echo $ac_prog| sed \"s%$re_direlt%/%\"`\n+      done\n+      test -z \"$LD\" && LD=\"$ac_prog\"\n+      ;;\n   \"\")\n     # If it fails, then pretend we aren't using GCC.\n     ac_prog=ld\n@@ -1904,10 +1936,10 @@ echo \"configure:1890: checking for ld used by GCC\" >&5\n   esac\n elif test \"$with_gnu_ld\" = yes; then\n   echo $ac_n \"checking for GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1908: checking for GNU ld\" >&5\n+echo \"configure:1940: checking for GNU ld\" >&5\n else\n   echo $ac_n \"checking for non-GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1911: checking for non-GNU ld\" >&5\n+echo \"configure:1943: checking for non-GNU ld\" >&5\n fi\n if eval \"test \\\"`echo '$''{'ac_cv_path_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1924,7 +1956,7 @@ else\n       if \"$ac_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n \ttest \"$with_gnu_ld\" != no && break\n       else\n-        test \"$with_gnu_ld\" != yes && break\n+\ttest \"$with_gnu_ld\" != yes && break\n       fi\n     fi\n   done\n@@ -1943,7 +1975,7 @@ fi\n test -z \"$LD\" && { echo \"configure: error: no acceptable ld found in \\$PATH\" 1>&2; exit 1; }\n \n echo $ac_n \"checking if the linker ($LD) is GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1947: checking if the linker ($LD) is GNU ld\" >&5\n+echo \"configure:1979: checking if the linker ($LD) is GNU ld\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gnu_ld'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1959,7 +1991,7 @@ echo \"$ac_t\"\"$ac_cv_prog_gnu_ld\" 1>&6\n \n \n echo $ac_n \"checking for BSD-compatible nm\"\"... $ac_c\" 1>&6\n-echo \"configure:1963: checking for BSD-compatible nm\" >&5\n+echo \"configure:1995: checking for BSD-compatible nm\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1968,20 +2000,22 @@ else\n   ac_cv_path_NM=\"$NM\"\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-  for ac_dir in /usr/ucb /usr/ccs/bin $PATH /bin; do\n+  for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/nm; then\n       # Check to see if the nm accepts a BSD-compat flag.\n       # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n       #   nm: unknown option \"B\" ignored\n       if ($ac_dir/nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n-        ac_cv_path_NM=\"$ac_dir/nm -B\"\n+\tac_cv_path_NM=\"$ac_dir/nm -B\"\n+\tbreak\n       elif ($ac_dir/nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n-        ac_cv_path_NM=\"$ac_dir/nm -p\"\n+\tac_cv_path_NM=\"$ac_dir/nm -p\"\n+\tbreak\n       else\n-        ac_cv_path_NM=\"$ac_dir/nm\"\n+\tac_cv_path_NM=${ac_cv_path_NM=\"$ac_dir/nm\"} # keep the first match, but\n+\tcontinue # so that we can try to find one that supports BSD flags\n       fi\n-      break\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n@@ -1993,8 +2027,212 @@ NM=\"$ac_cv_path_NM\"\n echo \"$ac_t\"\"$NM\" 1>&6\n \n \n+# Check for command to grab the raw symbol name followed by C symbol from nm.\n+echo $ac_n \"checking command to parse $NM output\"\"... $ac_c\" 1>&6\n+echo \"configure:2033: checking command to parse $NM output\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_sys_global_symbol_pipe'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  # These are sane defaults that work on at least a few old systems.\n+# {They come from Ultrix.  What could be older than Ultrix?!! ;)}\n+\n+# Character class describing NM global symbol codes.\n+ac_symcode='[BCDEGRST]'\n+\n+# Regexp to match symbols that can be accessed directly from C.\n+ac_sympat='\\([_A-Za-z][_A-Za-z0-9]*\\)'\n+\n+# Transform the above into a raw symbol and a C symbol.\n+ac_symxfrm='\\1 \\2\\3 \\3'\n+\n+# Transform an extracted symbol line into a proper C declaration\n+ac_global_symbol_to_cdecl=\"sed -n -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n+\n+# Define system-specific variables.\n+case \"$host_os\" in\n+aix*)\n+  ac_symcode='[BCDT]'\n+  ;;\n+cygwin* | mingw*)\n+  ac_symcode='[ABCDGISTW]'\n+  ;;\n+hpux*)\n+  ac_global_symbol_to_cdecl=\"sed -n -e 's/^T .* \\(.*\\)$/extern char \\1();/p' -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n+  ;;\n+irix*)\n+  ac_symcode='[BCDEGRST]'\n+  ;;\n+solaris*)\n+  ac_symcode='[BDT]'\n+  ;;\n+esac\n+\n+# If we're using GNU nm, then use its standard symbol codes.\n+if $NM -V 2>&1 | egrep '(GNU|with BFD)' > /dev/null; then\n+  ac_symcode='[ABCDGISTW]'\n+fi\n+\n+# Try without a prefix undercore, then with it.\n+for ac_symprfx in \"\" \"_\"; do\n+\n+  ac_cv_sys_global_symbol_pipe=\"sed -n -e 's/^.* \t\\($ac_symcode\\) \t \t*\\($ac_symprfx\\)$ac_sympat$/$ac_symxfrm/p'\"\n+\n+  # Check to see that the pipe works correctly.\n+  ac_pipe_works=no\n+  rm -f conftest.$ac_ext\n+  cat > conftest.$ac_ext <<EOF\n+#ifdef __cplusplus\n+extern \"C\" {\n+#endif\n+char nm_test_var;\n+void nm_test_func(){}\n+#ifdef __cplusplus\n+}\n+#endif\n+int main(){nm_test_var='a';nm_test_func;return 0;}\n+EOF\n+\n+  if { (eval echo configure:2096: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+    # Now try to grab the symbols.\n+    ac_nlist=conftest.nm\n+  \n+    if { (eval echo configure:2100: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n+\n+      # Try sorting and uniquifying the output.\n+      if sort \"$ac_nlist\" | uniq > \"$ac_nlist\"T; then\n+\tmv -f \"$ac_nlist\"T \"$ac_nlist\"\n+      else\n+\trm -f \"$ac_nlist\"T\n+      fi\n+\n+      # Make sure that we snagged all the symbols we need.\n+      if egrep ' nm_test_var$' \"$ac_nlist\" >/dev/null; then\n+\tif egrep ' nm_test_func$' \"$ac_nlist\" >/dev/null; then\n+\t  cat <<EOF > conftest.c\n+#ifdef __cplusplus\n+extern \"C\" {\n+#endif\n+\n+EOF\n+\t  # Now generate the symbol file.\n+\t  eval \"$ac_global_symbol_to_cdecl\"' < \"$ac_nlist\" >> conftest.c'\n+\n+\t  cat <<EOF >> conftest.c\n+#if defined (__STDC__) && __STDC__\n+# define lt_ptr_t void *\n+#else\n+# define lt_ptr_t char *\n+# define const\n+#endif\n+\n+/* The mapping between symbol names and symbols. */\n+const struct {\n+  const char *name;\n+  lt_ptr_t address;\n+}\n+lt_preloaded_symbols[] =\n+{\n+EOF\n+\tsed 's/^. \\(.*\\) \\(.*\\)$/  {\"\\2\", (lt_ptr_t) \\&\\2},/' < \"$ac_nlist\" >> conftest.c\n+\tcat <<\\EOF >> conftest.c\n+  {0, (lt_ptr_t) 0}\n+};\n+\n+#ifdef __cplusplus\n+}\n+#endif\n+EOF\n+\t  # Now try linking the two files.\n+\t  mv conftest.$ac_objext conftestm.$ac_objext\n+\t  ac_save_LIBS=\"$LIBS\"\n+\t  ac_save_CFLAGS=\"$CFLAGS\"\n+\t  LIBS=\"conftestm.$ac_objext\"\n+\t  CFLAGS=\"$CFLAGS$no_builtin_flag\"\n+\t  if { (eval echo configure:2152: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+\t    ac_pipe_works=yes\n+\t  else\n+\t    echo \"configure: failed program was:\" >&5\n+\t    cat conftest.c >&5\n+\t  fi\n+\t  LIBS=\"$ac_save_LIBS\"\n+\t  CFLAGS=\"$ac_save_CFLAGS\"\n+\telse\n+\t  echo \"cannot find nm_test_func in $ac_nlist\" >&5\n+\tfi\n+      else\n+\techo \"cannot find nm_test_var in $ac_nlist\" >&5\n+      fi\n+    else\n+      echo \"cannot run $ac_cv_sys_global_symbol_pipe\" >&5\n+    fi\n+  else\n+    echo \"$progname: failed program was:\" >&5\n+    cat conftest.c >&5\n+  fi\n+  rm -rf conftest*\n+\n+  # Do not use the global_symbol_pipe unless it works.\n+  if test \"$ac_pipe_works\" = yes; then\n+    if test x\"$ac_symprfx\" = x\"_\"; then\n+      ac_cv_sys_symbol_underscore=yes\n+    else\n+      ac_cv_sys_symbol_underscore=no\n+    fi\n+    break\n+  else\n+    ac_cv_sys_global_symbol_pipe=\n+  fi\n+done\n+\n+fi\n+\n+\n+ac_result=yes\n+if test -z \"$ac_cv_sys_global_symbol_pipe\"; then\n+   ac_result=no\n+fi\n+echo \"$ac_t\"\"$ac_result\" 1>&6\n+\n+echo $ac_n \"checking for _ prefix in compiled symbols\"\"... $ac_c\" 1>&6\n+echo \"configure:2198: checking for _ prefix in compiled symbols\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_sys_symbol_underscore'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  ac_cv_sys_symbol_underscore=no\n+cat > conftest.$ac_ext <<EOF\n+void nm_test_func(){}\n+int main(){nm_test_func;return 0;}\n+EOF\n+if { (eval echo configure:2207: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  # Now try to grab the symbols.\n+  ac_nlist=conftest.nm\n+  if { (eval echo configure:2210: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n+    # See whether the symbols have a leading underscore.\n+    if egrep '^. _nm_test_func' \"$ac_nlist\" >/dev/null; then\n+      ac_cv_sys_symbol_underscore=yes\n+    else\n+      if egrep '^. nm_test_func ' \"$ac_nlist\" >/dev/null; then\n+\t:\n+      else\n+\techo \"configure: cannot find nm_test_func in $ac_nlist\" >&5\n+      fi\n+    fi\n+  else\n+    echo \"configure: cannot run $ac_cv_sys_global_symbol_pipe\" >&5\n+  fi\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.c >&5\n+fi\n+rm -rf conftest*\n+\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_sys_symbol_underscore\" 1>&6\n+USE_SYMBOL_UNDERSCORE=${ac_cv_sys_symbol_underscore=no}\n+\n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1998: checking whether ln -s works\" >&5\n+echo \"configure:2236: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2014,13 +2252,13 @@ else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n-# Always use our own libtool.\n-LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n \n # Check for any special flags to pass to ltconfig.\n-libtool_flags=\n+libtool_flags=\"--cache-file=$cache_file\"\n test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n+test \"$enable_fast_install\" = no && libtool_flags=\"$libtool_flags --disable-fast-install\"\n+test \"$lt_dlopen\" = yes && libtool_flags=\"$libtool_flags --enable-dlopen\"\n test \"$silent\" = yes && libtool_flags=\"$libtool_flags --silent\"\n test \"$ac_cv_prog_gcc\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n test \"$ac_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n@@ -2030,8 +2268,8 @@ test \"$ac_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n case \"$host\" in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 2034 \"configure\"' > conftest.$ac_ext\n-  if { (eval echo configure:2035: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  echo '#line 2272 \"configure\"' > conftest.$ac_ext\n+  if { (eval echo configure:2273: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n     case \"`/usr/bin/file conftest.o`\" in\n     *32-bit*)\n       LD=\"${LD-ld} -32\"\n@@ -2049,14 +2287,45 @@ case \"$host\" in\n \n *-*-sco3.2v5*)\n   # On SCO OpenServer 5, we need -belf to get full-featured binaries.\n+  SAVE_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS -belf\"\n+  echo $ac_n \"checking whether the C compiler needs -belf\"\"... $ac_c\" 1>&6\n+echo \"configure:2294: checking whether the C compiler needs -belf\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_cc_needs_belf'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2299 \"configure\"\n+#include \"confdefs.h\"\n+\n+int main() {\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:2306: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  lt_cv_cc_needs_belf=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  lt_cv_cc_needs_belf=no\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$lt_cv_cc_needs_belf\" 1>&6\n+  if test x\"$lt_cv_cc_needs_belf\" != x\"yes\"; then\n+    # this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf\n+    CFLAGS=\"$SAVE_CFLAGS\"\n+  fi\n   ;;\n \n-*-*-cygwin32*)\n+*-*-cygwin*)\n   # Extract the first word of \"${ac_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2060: checking for $ac_word\" >&5\n+echo \"configure:2329: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2088,7 +2357,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2092: checking for $ac_word\" >&5\n+echo \"configure:2361: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2123,7 +2392,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2127: checking for $ac_word\" >&5\n+echo \"configure:2396: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2155,7 +2424,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2159: checking for $ac_word\" >&5\n+echo \"configure:2428: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2192,6 +2461,71 @@ fi\n \n esac\n \n+# enable the --disable-libtool-lock switch\n+\n+# Check whether --enable-libtool-lock or --disable-libtool-lock was given.\n+if test \"${enable_libtool_lock+set}\" = set; then\n+  enableval=\"$enable_libtool_lock\"\n+  need_locks=$enableval\n+else\n+  need_locks=yes\n+fi\n+\n+\n+if test x\"$need_locks\" = xno; then\n+  libtool_flags=\"$libtool_flags --disable-lock\"\n+fi\n+\n+\n+# Save cache, so that ltconfig can load it\n+cat > confcache <<\\EOF\n+# This file is a shell script that caches the results of configure\n+# tests run on this system so they can be shared between configure\n+# scripts and configure runs.  It is not useful on other systems.\n+# If it contains results you don't want to keep, you may remove or edit it.\n+#\n+# By default, configure uses ./config.cache as the cache file,\n+# creating it if it does not exist already.  You can give configure\n+# the --cache-file=FILE option to use a different cache file; that is\n+# what configure does when it calls configure scripts in\n+# subdirectories, so they share the cache.\n+# Giving --cache-file=/dev/null disables caching, for debugging configure.\n+# config.status only pays attention to the cache file if you give it the\n+# --recheck option to rerun configure.\n+#\n+EOF\n+# The following way of writing the cache mishandles newlines in values,\n+# but we know of no workaround that is simple, portable, and efficient.\n+# So, don't put newlines in cache variables' values.\n+# Ultrix sh set writes to stderr and can't be redirected directly,\n+# and sets the high bit in the cache file unless we assign to the vars.\n+(set) 2>&1 |\n+  case `(ac_space=' '; set | grep ac_space) 2>&1` in\n+  *ac_space=\\ *)\n+    # `set' does not quote correctly, so add quotes (double-quote substitution\n+    # turns \\\\\\\\ into \\\\, and sed turns \\\\ into \\).\n+    sed -n \\\n+      -e \"s/'/'\\\\\\\\''/g\" \\\n+      -e \"s/^\\\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\\\)=\\\\(.*\\\\)/\\\\1=\\${\\\\1='\\\\2'}/p\"\n+    ;;\n+  *)\n+    # `set' quotes correctly as required by POSIX, so do not add quotes.\n+    sed -n -e 's/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=${\\1=\\2}/p'\n+    ;;\n+  esac >> confcache\n+if cmp -s $cache_file confcache; then\n+  :\n+else\n+  if test -w $cache_file; then\n+    echo \"updating cache $cache_file\"\n+    cat confcache > $cache_file\n+  else\n+    echo \"not updating unwritable cache $cache_file\"\n+  fi\n+fi\n+rm -f confcache\n+\n+\n # Actually configure libtool.  ac_aux_dir is where install-sh is found.\n CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n LD=\"$LD\" NM=\"$NM\" RANLIB=\"$RANLIB\" LN_S=\"$LN_S\" \\\n@@ -2200,6 +2534,22 @@ ${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n $libtool_flags --no-verify $ac_aux_dir/ltmain.sh $host \\\n || { echo \"configure: error: libtool configure failed\" 1>&2; exit 1; }\n \n+# Reload cache, that may have been modified by ltconfig\n+if test -r \"$cache_file\"; then\n+  echo \"loading cache $cache_file\"\n+  . $cache_file\n+else\n+  echo \"creating cache $cache_file\"\n+  > $cache_file\n+fi\n+\n+\n+# This can be used to rebuild libtool when needed\n+LIBTOOL_DEPS=\"$ac_aux_dir/ltconfig $ac_aux_dir/ltmain.sh\"\n+\n+# Always use our own libtool.\n+LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n+\n # Redirect the config.log output again, so that the ltconfig log is not\n # clobbered by the next message.\n exec 5>>./config.log\n@@ -2270,7 +2620,7 @@ EOF\n esac\n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:2274: checking how to run the C preprocessor\" >&5\n+echo \"configure:2624: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -2285,13 +2635,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 2289 \"configure\"\n+#line 2639 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2295: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2645: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2302,13 +2652,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2306 \"configure\"\n+#line 2656 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2312: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2662: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2319,13 +2669,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2323 \"configure\"\n+#line 2673 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2329: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2679: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2350,7 +2700,7 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n cat > conftest.$ac_ext <<EOF\n-#line 2354 \"configure\"\n+#line 2704 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n EOF\n@@ -2365,7 +2715,7 @@ fi\n rm -f conftest*\n \n cat > conftest.$ac_ext <<EOF\n-#line 2369 \"configure\"\n+#line 2719 \"configure\"\n #include \"confdefs.h\"\n #include <sys/config.h>\n EOF\n@@ -2381,7 +2731,7 @@ rm -f conftest*\n \n \n cat > conftest.$ac_ext <<EOF\n-#line 2385 \"configure\"\n+#line 2735 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n EOF\n@@ -2396,7 +2746,7 @@ fi\n rm -f conftest*\n \n cat > conftest.$ac_ext <<EOF\n-#line 2400 \"configure\"\n+#line 2750 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n EOF\n@@ -2416,7 +2766,7 @@ test -d java/io || mkdir java/io\n \n \n echo $ac_n \"checking for garbage collector to use\"\"... $ac_c\" 1>&6\n-echo \"configure:2420: checking for garbage collector to use\" >&5\n+echo \"configure:2770: checking for garbage collector to use\" >&5\n # Check whether --enable-java-gc or --disable-java-gc was given.\n if test \"${enable_java_gc+set}\" = set; then\n   enableval=\"$enable_java_gc\"\n@@ -2461,7 +2811,7 @@ esac\n \n \n echo $ac_n \"checking for threads package to use\"\"... $ac_c\" 1>&6\n-echo \"configure:2465: checking for threads package to use\" >&5\n+echo \"configure:2815: checking for threads package to use\" >&5\n # Check whether --enable-threads or --disable-threads was given.\n if test \"${enable_threads+set}\" = set; then\n   enableval=\"$enable_threads\"\n@@ -2635,19 +2985,22 @@ EOF\n    if test \"$build\" != \"$with_cross_host\"; then\n       CANADIAN=yes\n       EH_COMMON_INCLUDE=\n+      GCJ=\"${target_alias}/gcj\"\n+   else\n+      GCJ=\n    fi\n else\n    # Some POSIX thread systems don't have pthread_mutexattr_settype.\n    # E.g., Solaris.\n    for ac_func in strerror ioctl select open fsync sleep\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2646: checking for $ac_func\" >&5\n+echo \"configure:2999: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2651 \"configure\"\n+#line 3004 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2670,7 +3023,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2674: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3027: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2697,12 +3050,12 @@ done\n    for ac_func in ctime_r ctime\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2701: checking for $ac_func\" >&5\n+echo \"configure:3054: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2706 \"configure\"\n+#line 3059 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2725,7 +3078,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2729: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3082: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2752,12 +3105,12 @@ done\n    for ac_func in gmtime_r localtime_r readdir_r getpwuid_r\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2756: checking for $ac_func\" >&5\n+echo \"configure:3109: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2761 \"configure\"\n+#line 3114 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2780,7 +3133,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2784: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3137: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2807,12 +3160,12 @@ done\n    for ac_func in access stat mkdir rename rmdir unlink realpath\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2811: checking for $ac_func\" >&5\n+echo \"configure:3164: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2816 \"configure\"\n+#line 3169 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2835,7 +3188,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2839: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3192: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2862,12 +3215,12 @@ done\n    for ac_func in inet_aton inet_addr\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2866: checking for $ac_func\" >&5\n+echo \"configure:3219: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2871 \"configure\"\n+#line 3224 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2890,7 +3243,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2894: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3247: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2917,12 +3270,12 @@ done\n    for ac_func in inet_pton uname\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2921: checking for $ac_func\" >&5\n+echo \"configure:3274: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2926 \"configure\"\n+#line 3279 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2945,7 +3298,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2949: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3302: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2973,12 +3326,12 @@ done\n    for ac_func in gethostbyname_r\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2977: checking for $ac_func\" >&5\n+echo \"configure:3330: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2982 \"configure\"\n+#line 3335 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3001,7 +3354,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3005: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3358: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3028,7 +3381,7 @@ EOF\n      # We look for the one that returns `int'.\n      # Hopefully this check is robust enough.\n      cat > conftest.$ac_ext <<EOF\n-#line 3032 \"configure\"\n+#line 3385 \"configure\"\n #include \"confdefs.h\"\n #include <netdb.h>\n EOF\n@@ -3052,12 +3405,12 @@ done\n    for ac_func in gethostbyaddr_r\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3056: checking for $ac_func\" >&5\n+echo \"configure:3409: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3061 \"configure\"\n+#line 3414 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3080,7 +3433,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3084: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3437: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3107,7 +3460,7 @@ EOF\n      # We look for the one that returns `int'.\n      # Hopefully this check is robust enough.\n      cat > conftest.$ac_ext <<EOF\n-#line 3111 \"configure\"\n+#line 3464 \"configure\"\n #include \"confdefs.h\"\n #include <netdb.h>\n EOF\n@@ -3131,12 +3484,12 @@ done\n    for ac_func in gethostname\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3135: checking for $ac_func\" >&5\n+echo \"configure:3488: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3140 \"configure\"\n+#line 3493 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3159,7 +3512,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3163: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3516: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3183,7 +3536,7 @@ EOF\n EOF\n \n      cat > conftest.$ac_ext <<EOF\n-#line 3187 \"configure\"\n+#line 3540 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n EOF\n@@ -3210,12 +3563,12 @@ done\n    for ac_func in pthread_mutexattr_settype pthread_mutexattr_setkind_np sched_yield\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3214: checking for $ac_func\" >&5\n+echo \"configure:3567: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3219 \"configure\"\n+#line 3572 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3238,7 +3591,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3242: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3595: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3269,12 +3622,12 @@ done\n    for ac_func in gettimeofday time ftime\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3273: checking for $ac_func\" >&5\n+echo \"configure:3626: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3278 \"configure\"\n+#line 3631 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3297,7 +3650,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3301: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3654: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3330,12 +3683,12 @@ done\n    for ac_func in memmove\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3334: checking for $ac_func\" >&5\n+echo \"configure:3687: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3339 \"configure\"\n+#line 3692 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3358,7 +3711,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3362: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3715: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3391,12 +3744,12 @@ done\n    for ac_func in memcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3395: checking for $ac_func\" >&5\n+echo \"configure:3748: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3400 \"configure\"\n+#line 3753 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3419,7 +3772,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3423: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3776: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3447,10 +3800,13 @@ done\n       { echo \"configure: error: memcpy is required\" 1>&2; exit 1; }\n    fi\n \n-   test -d \"$libgcj_basedir/../gcc/java\" || {\n+   if test -d \"$libgcj_basedir/../gcc/java\"; then\n+      GCJ=\n+   else\n       CANADIAN=yes\n       NULL_TARGET=yes\n-   }\n+      GCJ=gcj\n+   fi\n fi\n \n \n@@ -3482,24 +3838,41 @@ else\n fi\n \n \n+# Determine gcj version number.\n+if test \"$GCJ\" = \"\"; then\n+   if test -z \"${with_multisubdir}\"; then\n+      builddotdot=.\n+   else\n+      builddotdot=`echo ${with_multisubdir} | sed -e 's:^/^/*:..:g'`\n+   fi\n+   dir=\"`cd ${builddotdot}/../../gcc && pwd`\"\n+   GCJ=\"$dir/gcj -B$dir/\"\n+fi\n+\n+gcjvers=\"`$GCJ -v 2>&1 | sed -n 's/^.*version \\([^ ]*\\).*$/\\1/p'`\"\n+\n+cat >> confdefs.h <<EOF\n+#define GCJVERSION \"$gcjvers\"\n+EOF\n+\n \n \n \n for ac_hdr in unistd.h sys/time.h sys/types.h fcntl.h sys/ioctl.h sys/filio.h sys/stat.h sys/select.h sys/socket.h netinet/in.h arpa/inet.h netdb.h pwd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:3493: checking for $ac_hdr\" >&5\n+echo \"configure:3866: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3498 \"configure\"\n+#line 3871 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3503: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3876: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3529,17 +3902,17 @@ for ac_hdr in dirent.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:3533: checking for $ac_hdr\" >&5\n+echo \"configure:3906: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3538 \"configure\"\n+#line 3911 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3543: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3916: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3567,16 +3940,16 @@ done\n \n \n echo $ac_n \"checking whether struct sockaddr_in6 is in netinet/in.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3571: checking whether struct sockaddr_in6 is in netinet/in.h\" >&5\n+echo \"configure:3944: checking whether struct sockaddr_in6 is in netinet/in.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 3573 \"configure\"\n+#line 3946 \"configure\"\n #include \"confdefs.h\"\n #include <netinet/in.h>\n int main() {\n struct sockaddr_in6 addr6;\n ; return 0; }\n EOF\n-if { (eval echo configure:3580: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3953: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_INET6 1\n@@ -3592,16 +3965,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking for socklen_t in sys/socket.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3596: checking for socklen_t in sys/socket.h\" >&5\n+echo \"configure:3969: checking for socklen_t in sys/socket.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 3598 \"configure\"\n+#line 3971 \"configure\"\n #include \"confdefs.h\"\n #include <sys/socket.h>\n int main() {\n socklen_t x = 5;\n ; return 0; }\n EOF\n-if { (eval echo configure:3605: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3978: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_SOCKLEN_T 1\n@@ -3617,16 +3990,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking for tm_gmtoff in struct tm\"\"... $ac_c\" 1>&6\n-echo \"configure:3621: checking for tm_gmtoff in struct tm\" >&5\n+echo \"configure:3994: checking for tm_gmtoff in struct tm\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 3623 \"configure\"\n+#line 3996 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n int main() {\n struct tm tim; tim.tm_gmtoff = 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:3630: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4003: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define STRUCT_TM_HAS_GMTOFF 1\n@@ -3639,16 +4012,16 @@ else\n   rm -rf conftest*\n   echo \"$ac_t\"\"no\" 1>&6\n    echo $ac_n \"checking for global timezone variable\"\"... $ac_c\" 1>&6\n-echo \"configure:3643: checking for global timezone variable\" >&5\n+echo \"configure:4016: checking for global timezone variable\" >&5\n             cat > conftest.$ac_ext <<EOF\n-#line 3645 \"configure\"\n+#line 4018 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n int main() {\n long z2 = timezone;\n ; return 0; }\n EOF\n-if { (eval echo configure:3652: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4025: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_TIMEZONE 1\n@@ -3668,19 +4041,19 @@ rm -f conftest*\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3672: checking for working alloca.h\" >&5\n+echo \"configure:4045: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3677 \"configure\"\n+#line 4050 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:3684: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4057: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -3701,12 +4074,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:3705: checking for alloca\" >&5\n+echo \"configure:4078: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3710 \"configure\"\n+#line 4083 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -3734,7 +4107,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:3738: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4111: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -3766,12 +4139,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:3770: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:4143: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3775 \"configure\"\n+#line 4148 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -3796,12 +4169,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3800: checking for $ac_func\" >&5\n+echo \"configure:4173: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3805 \"configure\"\n+#line 4178 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3824,7 +4197,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3828: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4201: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3851,15 +4224,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:3855: checking stack direction for C alloca\" >&5\n+echo \"configure:4228: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3863 \"configure\"\n+#line 4236 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -3878,7 +4251,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:3882: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4255: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -3905,7 +4278,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3909: checking for $ac_word\" >&5\n+echo \"configure:4282: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_PERL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4133,9 +4506,10 @@ s%@LIBGCJ_CXXFLAGS@%$LIBGCJ_CXXFLAGS%g\n s%@LIBGCJ_JAVAFLAGS@%$LIBGCJ_JAVAFLAGS%g\n s%@LD@%$LD%g\n s%@NM@%$NM%g\n+s%@USE_SYMBOL_UNDERSCORE@%$USE_SYMBOL_UNDERSCORE%g\n s%@LN_S@%$LN_S%g\n-s%@LIBTOOL@%$LIBTOOL%g\n s%@DLLTOOL@%$DLLTOOL%g\n+s%@LIBTOOL@%$LIBTOOL%g\n s%@COMPPATH@%$COMPPATH%g\n s%@TESTSUBDIR_TRUE@%$TESTSUBDIR_TRUE%g\n s%@TESTSUBDIR_FALSE@%$TESTSUBDIR_FALSE%g"}, {"sha": "7877ec1bc782234df9597300ad6aa8f53c6fff8c", "filename": "libjava/configure.in", "status": "modified", "additions": 23, "deletions": 3, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.in?ref=01b02b11de52b69b3755883975b1cc8d183a5891", "patch": "@@ -255,6 +255,9 @@ if test -n \"${with_cross_host}\"; then\n    if test \"$build\" != \"$with_cross_host\"; then\n       CANADIAN=yes\n       EH_COMMON_INCLUDE=\n+      GCJ=\"${target_alias}/gcj\"\n+   else\n+      GCJ=\n    fi\n else\n    # Some POSIX thread systems don't have pthread_mutexattr_settype.\n@@ -314,18 +317,35 @@ else\n       AC_MSG_ERROR([memcpy is required])\n    fi\n \n-   test -d \"$libgcj_basedir/../gcc/java\" || {\n+   if test -d \"$libgcj_basedir/../gcc/java\"; then\n+      GCJ=\n+   else\n       CANADIAN=yes\n       NULL_TARGET=yes\n-   }\n+      GCJ=gcj\n+   fi\n fi\n \n AM_CONDITIONAL(CANADIAN, test \"$CANADIAN\" = yes)\n AM_CONDITIONAL(NULL_TARGET, test \"$NULL_TARGET\" = yes)\n AM_CONDITIONAL(NATIVE, test \"$CANADIAN\" = no || test \"$NULL_TARGET\" = yes)\n-\n AC_SUBST(EH_COMMON_INCLUDE)\n \n+# Determine gcj version number.\n+if test \"$GCJ\" = \"\"; then\n+   if test -z \"${with_multisubdir}\"; then\n+      builddotdot=.\n+   else\n+      builddotdot=`echo ${with_multisubdir} | sed -e 's:[^/][^/]*:..:g'`\n+   fi\n+   dir=\"`cd ${builddotdot}/../../gcc && pwd`\"\n+   GCJ=\"$dir/gcj -B$dir/\"\n+fi\n+changequote(<<,>>)\n+gcjvers=\"`$GCJ -v 2>&1 | sed -n 's/^.*version \\([^ ]*\\).*$/\\1/p'`\"\n+changequote([,])\n+AC_DEFINE_UNQUOTED(GCJVERSION, \"$gcjvers\")\n+\n AC_SUBST(AM_RUNTESTFLAGS)\n \n dnl We check for sys/filio.h because Solaris 2.5 defines FIONREAD there."}, {"sha": "c4acd69299f61e1db3bf0ba9a46f267df525871d", "filename": "libjava/include/config.h.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2Finclude%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2Finclude%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fconfig.h.in?ref=01b02b11de52b69b3755883975b1cc8d183a5891", "patch": "@@ -88,6 +88,9 @@\n /* Define if global `timezone' exists.  */\n #undef HAVE_TIMEZONE\n \n+/* Define to version of GCJ in use.  */\n+#undef GCJVERSION\n+\n /* Define if you have the appropriate function.  */\n #undef HAVE_ACCESS\n #undef HAVE_STAT"}, {"sha": "7e2de312b92523d41d6d97ac74338f4208a09619", "filename": "libjava/java/lang/natSystem.cc", "status": "modified", "additions": 25, "deletions": 6, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2Fjava%2Flang%2FnatSystem.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2Fjava%2Flang%2FnatSystem.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatSystem.cc?ref=01b02b11de52b69b3755883975b1cc8d183a5891", "patch": "@@ -34,6 +34,10 @@ details.  */\n #endif\n #include <errno.h>\n \n+#ifdef HAVE_UNAME\n+#include <sys/utsname.h>\n+#endif\n+\n #include <cni.h>\n #include <jvm.h>\n #include <java/lang/System.h>\n@@ -220,7 +224,7 @@ java::lang::System::identityHashCode (jobject obj)\n #ifndef DEFAULT_FILE_ENCODING\n #define DEFAULT_FILE_ENCODING \"8859_1\"\n #endif\n-char *default_file_encoding = DEFAULT_FILE_ENCODING;\n+static char *default_file_encoding = DEFAULT_FILE_ENCODING;\n \n void\n java::lang::System::init_properties (void)\n@@ -237,16 +241,15 @@ java::lang::System::init_properties (void)\n   // A convenience define.\n #define SET(Prop,Val) \\\n \tproperties->put(JvNewStringLatin1 (Prop), JvNewStringLatin1 (Val))\n-  SET (\"java.version\", \"FIXME\");\n+  SET (\"java.version\", VERSION);\n   SET (\"java.vendor\", \"Cygnus Solutions\");\n   SET (\"java.vendor.url\", \"http://www.cygnus.com/\");\n+  SET (\"java.class.version\", GCJVERSION);\n+  // FIXME: how to set these given location-independence?\n   // SET (\"java.home\", \"FIXME\");\n-  // SET (\"java.class.version\", \"FIXME\");\n   // SET (\"java.class.path\", \"FIXME\");\n-  SET (\"os.name\", \"FIXME\");\n-  SET (\"os.arch\", \"FIXME\");\n-  SET (\"os.version\", \"FIXME\");\n   SET (\"file.encoding\", default_file_encoding);\n+\n #ifdef WIN32\n   SET (\"file.separator\", \"\\\\\");\n   SET (\"path.separator\", \";\");\n@@ -258,6 +261,22 @@ java::lang::System::init_properties (void)\n   SET (\"line.separator\", \"\\n\");\n #endif\n \n+#ifdef HAVE_UNAME\n+  struct utsname u;\n+  if (! uname (&u))\n+    {\n+      SET (\"os.name\", u.sysname);\n+      SET (\"os.arch\", u.machine);\n+      SET (\"os.version\", u.release);\n+    }\n+  else\n+    {\n+      SET (\"os.name\", \"unknown\");\n+      SET (\"os.arch\", \"unknown\");\n+      SET (\"os.version\", \"unknown\");\n+    }\n+#endif /* HAVE_UNAME */\n+\n #ifdef HAVE_PWD_H\n   uid_t user_id = getuid ();\n   struct passwd *pwd_entry;"}, {"sha": "b900123087ede5ec3065448ad51e3d4bfa444f29", "filename": "libjava/testsuite/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01b02b11de52b69b3755883975b1cc8d183a5891/libjava%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FMakefile.in?ref=01b02b11de52b69b3755883975b1cc8d183a5891", "patch": "@@ -94,6 +94,7 @@ THREADDEPS = @THREADDEPS@\n THREADINCS = @THREADINCS@\n THREADLIBS = @THREADLIBS@\n THREADOBJS = @THREADOBJS@\n+USE_SYMBOL_UNDERSCORE = @USE_SYMBOL_UNDERSCORE@\n VERSION = @VERSION@\n here = @here@\n libgcj_basedir = @libgcj_basedir@"}]}