{"sha": "4e2199ab6834ed326b7a479e5381baed0255c72b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGUyMTk5YWI2ODM0ZWQzMjZiN2E0NzllNTM4MWJhZWQwMjU1YzcyYg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2009-01-14T17:54:07Z"}, "committer": {"name": "Nathan Froyd", "email": "froydnj@gcc.gnu.org", "date": "2009-01-14T17:54:07Z"}, "message": "vect-105.c: Prevent compiler from hoisting abort out of loop.\n\n\t* gcc.dg/vect/vect-105.c: Prevent compiler from hoisting abort\n\tout of loop.\n\nFrom-SVN: r143378", "tree": {"sha": "a0df01ed0152c1baa793d547f4b70450e0fbb2f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a0df01ed0152c1baa793d547f4b70450e0fbb2f6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4e2199ab6834ed326b7a479e5381baed0255c72b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e2199ab6834ed326b7a479e5381baed0255c72b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e2199ab6834ed326b7a479e5381baed0255c72b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e2199ab6834ed326b7a479e5381baed0255c72b/comments", "author": null, "committer": null, "parents": [{"sha": "5321dace269bedb0c7fc9ce3d18afa2257cf6099", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5321dace269bedb0c7fc9ce3d18afa2257cf6099", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5321dace269bedb0c7fc9ce3d18afa2257cf6099"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "57e8d9c8e6798b7e4e73981d82e206574e5a9ab2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e2199ab6834ed326b7a479e5381baed0255c72b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e2199ab6834ed326b7a479e5381baed0255c72b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4e2199ab6834ed326b7a479e5381baed0255c72b", "patch": "@@ -1,3 +1,8 @@\n+2009-01-14  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* gcc.dg/vect/vect-105.c: Prevent compiler from hoisting abort\n+\tout of loop.\n+\n 2009-01-14  Richard Guenther  <rguenther@suse.de>\n \n \tPR tree-optimization/38826"}, {"sha": "bbf42af897ffa24319972f39e2b94c76d8ae06c3", "filename": "gcc/testsuite/gcc.dg/vect/vect-105.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e2199ab6834ed326b7a479e5381baed0255c72b/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-105.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e2199ab6834ed326b7a479e5381baed0255c72b/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-105.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-105.c?ref=4e2199ab6834ed326b7a479e5381baed0255c72b", "patch": "@@ -16,6 +16,8 @@ static int a[N][N] = {{1,2,3,11},{4,5,6,12},{7,8,9,13},{34,45,67,83}};\n static int b[N][N] = {{17,28,15,23},{0,2,3,24},{4,31,82,25},{29,31,432,256}};\n static int c[N][N] = {{1,2,3,11},{4,9,13,34},{45,67,83,13},{34,45,67,83}};\n \n+volatile int y;\n+\n __attribute__ ((noinline))\n int main1 (int x) {\n   int i,j;\n@@ -28,7 +30,9 @@ int main1 (int x) {\n      {\n        p->a[i][j] = a[i][j];\n        p->b[i][j] = b[i][j];\n-       if (x == 135)\n+       /* Because Y is volatile, the compiler cannot move this check out\n+\t  of the loop.  */\n+       if (y)\n \t abort (); /* to avoid vectorization  */\n      }\n    }"}]}