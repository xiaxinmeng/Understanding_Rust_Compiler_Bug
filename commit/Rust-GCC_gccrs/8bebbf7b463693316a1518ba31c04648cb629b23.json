{"sha": "8bebbf7b463693316a1518ba31c04648cb629b23", "node_id": "C_kwDOANBUbNoAKDhiZWJiZjdiNDYzNjkzMzE2YTE1MThiYTMxYzA0NjQ4Y2I2MjliMjM", "commit": {"author": {"name": "Ronan Desplanques", "email": "desplanques@adacore.com", "date": "2022-11-09T12:32:05Z"}, "committer": {"name": "Marc Poulhi\u00e8s", "email": "poulhies@adacore.com", "date": "2022-11-21T10:10:31Z"}, "message": "ada: Tweak error messages on misplaced with keywords\n\nBefore this patch, with clauses placed in declarative sections were\ninterpreted by the compiler as incorrect aspect specifications, which\nled to confusing error messages.\n\nThis patch makes it so more syntax errors involving the with keyword\nare diagnosed as intended with clauses instead of aspect\nspecifications.\n\ngcc/ada/\n\n\t* par-ch3.adb (P_Declarative_Item): Tweak handling of with keyword.", "tree": {"sha": "29016d8872d939b61e42526103afac78a92a3eff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/29016d8872d939b61e42526103afac78a92a3eff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8bebbf7b463693316a1518ba31c04648cb629b23", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8bebbf7b463693316a1518ba31c04648cb629b23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8bebbf7b463693316a1518ba31c04648cb629b23", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8bebbf7b463693316a1518ba31c04648cb629b23/comments", "author": {"login": "ronan-d", "id": 14870758, "node_id": "MDQ6VXNlcjE0ODcwNzU4", "avatar_url": "https://avatars.githubusercontent.com/u/14870758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronan-d", "html_url": "https://github.com/ronan-d", "followers_url": "https://api.github.com/users/ronan-d/followers", "following_url": "https://api.github.com/users/ronan-d/following{/other_user}", "gists_url": "https://api.github.com/users/ronan-d/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronan-d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronan-d/subscriptions", "organizations_url": "https://api.github.com/users/ronan-d/orgs", "repos_url": "https://api.github.com/users/ronan-d/repos", "events_url": "https://api.github.com/users/ronan-d/events{/privacy}", "received_events_url": "https://api.github.com/users/ronan-d/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dkm", "id": 87603, "node_id": "MDQ6VXNlcjg3NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/87603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkm", "html_url": "https://github.com/dkm", "followers_url": "https://api.github.com/users/dkm/followers", "following_url": "https://api.github.com/users/dkm/following{/other_user}", "gists_url": "https://api.github.com/users/dkm/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkm/subscriptions", "organizations_url": "https://api.github.com/users/dkm/orgs", "repos_url": "https://api.github.com/users/dkm/repos", "events_url": "https://api.github.com/users/dkm/events{/privacy}", "received_events_url": "https://api.github.com/users/dkm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ec8ec09f9414be871e322fecf4ebf53e3687bd22", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec8ec09f9414be871e322fecf4ebf53e3687bd22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec8ec09f9414be871e322fecf4ebf53e3687bd22"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "483f96d041f11583c64d1c6f3b084b20fad5c6cc", "filename": "gcc/ada/par-ch3.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8bebbf7b463693316a1518ba31c04648cb629b23/gcc%2Fada%2Fpar-ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8bebbf7b463693316a1518ba31c04648cb629b23/gcc%2Fada%2Fpar-ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar-ch3.adb?ref=8bebbf7b463693316a1518ba31c04648cb629b23", "patch": "@@ -4682,7 +4682,7 @@ package body Ch3 is\n          when Tok_With =>\n             Check_Bad_Layout;\n \n-            if Aspect_Specifications_Present then\n+            if Aspect_Specifications_Present (Strict => True) then\n \n                --  If we are after a semicolon, complain that it was ignored.\n                --  But we don't really ignore it, since we dump the aspects,"}]}