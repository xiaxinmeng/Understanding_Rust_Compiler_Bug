{"sha": "b47750fee3f5e555c9e7cfdaa9a5f8e97aed9327", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjQ3NzUwZmVlM2Y1ZTU1NWM5ZTdjZmRhYTlhNWY4ZTk3YWVkOTMyNw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-01-28T00:11:23Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-01-28T00:11:23Z"}, "message": "mksysinfo: Add #defines for Solaris.\n\nFrom-SVN: r169345", "tree": {"sha": "e556d9efac8830063bb2c5d686ff91bf69678944", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e556d9efac8830063bb2c5d686ff91bf69678944"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b47750fee3f5e555c9e7cfdaa9a5f8e97aed9327", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b47750fee3f5e555c9e7cfdaa9a5f8e97aed9327", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b47750fee3f5e555c9e7cfdaa9a5f8e97aed9327", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b47750fee3f5e555c9e7cfdaa9a5f8e97aed9327/comments", "author": null, "committer": null, "parents": [{"sha": "b91b9ad43e67a984fef611ec9d5df0bfb226f35b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b91b9ad43e67a984fef611ec9d5df0bfb226f35b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b91b9ad43e67a984fef611ec9d5df0bfb226f35b"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "63b3680d50007d64e654fa6e8bf79185748faf56", "filename": "libgo/mksysinfo.sh", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b47750fee3f5e555c9e7cfdaa9a5f8e97aed9327/libgo%2Fmksysinfo.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b47750fee3f5e555c9e7cfdaa9a5f8e97aed9327/libgo%2Fmksysinfo.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fmksysinfo.sh?ref=b47750fee3f5e555c9e7cfdaa9a5f8e97aed9327", "patch": "@@ -24,6 +24,14 @@ set -e\n rm -f sysinfo.c\n cat > sysinfo.c <<EOF\n #include \"config.h\"\n+\n+#define _GNU_SOURCE\n+#if defined(__sun__) && defined(__svr4__)\n+/* Needed by Solaris header files.  */\n+#define _XOPEN_SOURCE 600\n+#define _EXTENSIONS_\n+#endif\n+\n #include <sys/types.h>\n #include <dirent.h>\n #include <errno.h>\n@@ -56,7 +64,7 @@ cat > sysinfo.c <<EOF\n #include <unistd.h>\n EOF\n \n-${CC} -D_GNU_SOURCE -fdump-go-spec=gen-sysinfo.go -S -o sysinfo.s sysinfo.c\n+${CC} -fdump-go-spec=gen-sysinfo.go -S -o sysinfo.s sysinfo.c\n \n echo 'package syscall' > ${OUT}\n "}]}