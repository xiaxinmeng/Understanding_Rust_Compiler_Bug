{"sha": "3a24b26591ef6a0f19901ddc4fd7931c9297b899", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2EyNGIyNjU5MWVmNmEwZjE5OTAxZGRjNGZkNzkzMWM5Mjk3Yjg5OQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-12-12T20:42:24Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-12-12T20:42:24Z"}, "message": "compiler: Tweak untyped nil error message.\n\nFrom-SVN: r205941", "tree": {"sha": "6fbecceb197151003eaf6012adaf0892a7041e14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6fbecceb197151003eaf6012adaf0892a7041e14"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3a24b26591ef6a0f19901ddc4fd7931c9297b899", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a24b26591ef6a0f19901ddc4fd7931c9297b899", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a24b26591ef6a0f19901ddc4fd7931c9297b899", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a24b26591ef6a0f19901ddc4fd7931c9297b899/comments", "author": null, "committer": null, "parents": [{"sha": "1635eab367caf9615b4156090fbcd4251fd46e32", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1635eab367caf9615b4156090fbcd4251fd46e32", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1635eab367caf9615b4156090fbcd4251fd46e32"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "a5a056b12eddd7e30bf4c4471f43c931df36a43f", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a24b26591ef6a0f19901ddc4fd7931c9297b899/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a24b26591ef6a0f19901ddc4fd7931c9297b899/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=3a24b26591ef6a0f19901ddc4fd7931c9297b899", "patch": "@@ -7310,7 +7310,11 @@ Builtin_call_expression::do_lower(Gogo* gogo, Named_object* function,\n \tType* slice_type = args->front()->type();\n \tif (!slice_type->is_slice_type())\n \t  {\n-\t    error_at(args->front()->location(), \"argument 1 must be a slice\");\n+\t    if (slice_type->is_nil_type())\n+\t      error_at(args->front()->location(), \"use of untyped nil\");\n+\t    else\n+\t      error_at(args->front()->location(),\n+\t\t       \"argument 1 must be a slice\");\n \t    this->set_is_error();\n \t    return this;\n \t  }\n@@ -8008,7 +8012,10 @@ Builtin_call_expression::do_type()\n \tconst Expression_list* args = this->args();\n \tif (args == NULL || args->empty())\n \t  return Type::make_error_type();\n-\treturn args->front()->type();\n+\tType *ret = args->front()->type();\n+\tif (!ret->is_slice_type())\n+\t  return Type::make_error_type();\n+\treturn ret;\n       }\n \n     case BUILTIN_REAL:"}]}