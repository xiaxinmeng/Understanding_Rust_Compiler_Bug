{"sha": "f097ff235052e19a371d24da32ba2741681d443b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjA5N2ZmMjM1MDUyZTE5YTM3MWQyNGRhMzJiYTI3NDE2ODFkNDQzYg==", "commit": {"author": {"name": "Jim Wilson", "email": "jimw@sifive.com", "date": "2017-11-09T18:03:52Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2017-11-09T18:03:52Z"}, "message": "Remove obsolete ECOFF support.\n\n\t* collect2.c (OBJECT_FORMAT_COFF): Remove EXTENDED_COFF support.\n\t(scan_prog_file): Likewise.\n\nFrom-SVN: r254603", "tree": {"sha": "a7bf0d9f6d057858a3cccdca3b534d96024d2d6d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a7bf0d9f6d057858a3cccdca3b534d96024d2d6d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f097ff235052e19a371d24da32ba2741681d443b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f097ff235052e19a371d24da32ba2741681d443b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f097ff235052e19a371d24da32ba2741681d443b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f097ff235052e19a371d24da32ba2741681d443b/comments", "author": null, "committer": null, "parents": [{"sha": "370df3ce7c4e01db1a62b2c639aa2391073cf498", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/370df3ce7c4e01db1a62b2c639aa2391073cf498", "html_url": "https://github.com/Rust-GCC/gccrs/commit/370df3ce7c4e01db1a62b2c639aa2391073cf498"}], "stats": {"total": 24, "additions": 5, "deletions": 19}, "files": [{"sha": "b5106cfc93ec739a05e7e80bca2a4940d896e2ee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f097ff235052e19a371d24da32ba2741681d443b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f097ff235052e19a371d24da32ba2741681d443b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f097ff235052e19a371d24da32ba2741681d443b", "patch": "@@ -1,3 +1,8 @@\n+2017-11-09  Jim Wilson  <jimw@sifive.com>\n+\n+\t* collect2.c (OBJECT_FORMAT_COFF): Remove EXTENDED_COFF support.\n+\t(scan_prog_file): Likewise.\n+\n 2017-11-09  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* bb-reorder.c (max_entry_frequency): Remove."}, {"sha": "d25b75697c0c0ec96f14e087d84ceb1afc672b0f", "filename": "gcc/collect2.c", "status": "modified", "additions": 0, "deletions": 19, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f097ff235052e19a371d24da32ba2741681d443b/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f097ff235052e19a371d24da32ba2741681d443b/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=f097ff235052e19a371d24da32ba2741681d443b", "patch": "@@ -2641,17 +2641,6 @@ scan_libraries (const char *prog_name)\n \n #ifdef OBJECT_FORMAT_COFF\n \n-#if defined (EXTENDED_COFF)\n-\n-#   define GCC_SYMBOLS(X)\t(SYMHEADER (X).isymMax + SYMHEADER (X).iextMax)\n-#   define GCC_SYMENT\t\tSYMR\n-#   define GCC_OK_SYMBOL(X)\t((X).st == stProc || (X).st == stGlobal)\n-#   define GCC_SYMINC(X)\t(1)\n-#   define GCC_SYMZERO(X)\t(SYMHEADER (X).isymMax)\n-#   define GCC_CHECK_HDR(X)\t(PSYMTAB (X) != 0)\n-\n-#else\n-\n #   define GCC_SYMBOLS(X)\t(HEADER (ldptr).f_nsyms)\n #   define GCC_SYMENT\t\tSYMENT\n #   if defined (C_WEAKEXT)\n@@ -2690,8 +2679,6 @@ scan_libraries (const char *prog_name)\n       && !(HEADER (X).f_flags & F_LOADONLY))\n #endif\n \n-#endif\n-\n #ifdef COLLECT_EXPORT_LIST\n /* Array of standard AIX libraries which should not\n    be scanned for ctors/dtors.  */\n@@ -2920,16 +2907,10 @@ scan_prog_file (const char *prog_name, scanpass which_pass,\n \t\t\t}\n \n \t\t      if (debug)\n-#if !defined(EXTENDED_COFF)\n \t\t\tfprintf (stderr, \"\\tsec=%d class=%d type=%s%o %s\\n\",\n \t\t\t\t symbol.n_scnum, symbol.n_sclass,\n \t\t\t\t (symbol.n_type ? \"0\" : \"\"), symbol.n_type,\n \t\t\t\t name);\n-#else\n-\t\t\tfprintf (stderr,\n-\t\t\t\t \"\\tiss = %5d, value = %5ld, index = %5d, name = %s\\n\",\n-\t\t\t\t symbol.iss, (long) symbol.value, symbol.index, name);\n-#endif\n \t\t    }\n \t\t}\n \t    }"}]}