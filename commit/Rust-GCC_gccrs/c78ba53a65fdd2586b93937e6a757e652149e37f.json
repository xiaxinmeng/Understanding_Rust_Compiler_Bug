{"sha": "c78ba53a65fdd2586b93937e6a757e652149e37f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzc4YmE1M2E2NWZkZDI1ODZiOTM5MzdlNmE3NTdlNjUyMTQ5ZTM3Zg==", "commit": {"author": {"name": "Rask Ingemann Lambertsen", "email": "rask@sygehus.dk", "date": "2006-11-15T13:16:41Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2006-11-15T13:16:41Z"}, "message": "combine.c (likely_spilled_retval_1): Fix masking operation.\n\n2006-11-15  Rask Ingemann Lambertsen <rask@sygehus.dk>\n\t    J\"orn Rennecke <joern.rennecke@st.com>\n\n\t* combine.c (likely_spilled_retval_1): Fix masking operation.\n\t(likely_spilled_retval_p): Use proper pattern for call to\n\tlikely_spilled_retval_1.\n\nCo-Authored-By: J\"orn Rennecke <joern.rennecke@st.com>\n\nFrom-SVN: r118855", "tree": {"sha": "6f16d2e835736ab38f9954de751e2dcfd3b78e74", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6f16d2e835736ab38f9954de751e2dcfd3b78e74"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c78ba53a65fdd2586b93937e6a757e652149e37f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c78ba53a65fdd2586b93937e6a757e652149e37f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c78ba53a65fdd2586b93937e6a757e652149e37f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c78ba53a65fdd2586b93937e6a757e652149e37f/comments", "author": null, "committer": null, "parents": [{"sha": "6b97a4396460b02c90e9166776361322ee783424", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b97a4396460b02c90e9166776361322ee783424", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b97a4396460b02c90e9166776361322ee783424"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "9ebae9c2910e145f0d8db92ed402022458384893", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c78ba53a65fdd2586b93937e6a757e652149e37f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c78ba53a65fdd2586b93937e6a757e652149e37f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c78ba53a65fdd2586b93937e6a757e652149e37f", "patch": "@@ -1,3 +1,10 @@\n+2006-11-15  Rask Ingemann Lambertsen <rask@sygehus.dk>\n+\t    J\"orn Rennecke <joern.rennecke@st.com>\n+\n+\t* combine.c (likely_spilled_retval_1): Fix masking operation.\n+\t(likely_spilled_retval_p): Use proper pattern for call to\n+\tlikely_spilled_retval_1.\n+\n 2006-11-15  Bernd Schmidt  <bernd.schmidt@analog.com>\n \n \t* tree-ssa-loop-ivopts.c (determine_iv_costs): Fix formatting."}, {"sha": "7f75f9d6c4d9e34034982ca63a7bf4dd0b160eee", "filename": "gcc/combine.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c78ba53a65fdd2586b93937e6a757e652149e37f/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c78ba53a65fdd2586b93937e6a757e652149e37f/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=c78ba53a65fdd2586b93937e6a757e652149e37f", "patch": "@@ -1659,7 +1659,7 @@ likely_spilled_retval_1 (rtx x, rtx set, void *data)\n     new_mask >>= info->regno - regno;\n   else\n     new_mask <<= regno - info->regno;\n-  info->mask &= new_mask;\n+  info->mask &= ~new_mask;\n }\n \n /* Return nonzero iff part of the return value is live during INSN, and\n@@ -1695,7 +1695,8 @@ likely_spilled_retval_p (rtx insn)\n   info.nregs = nregs;\n   info.mask = mask;\n   for (p = PREV_INSN (use); info.mask && p != insn; p = PREV_INSN (p))\n-    note_stores (PATTERN (insn), likely_spilled_retval_1, &info);\n+    if (INSN_P (p))\n+      note_stores (PATTERN (p), likely_spilled_retval_1, &info);\n   mask = info.mask;\n \n   /* Check if any of the (probably) live return value registers is"}]}