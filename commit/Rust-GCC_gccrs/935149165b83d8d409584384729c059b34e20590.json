{"sha": "935149165b83d8d409584384729c059b34e20590", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTM1MTQ5MTY1YjgzZDhkNDA5NTg0Mzg0NzI5YzA1OWIzNGUyMDU5MA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-12-20T01:53:11Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-12-20T01:53:11Z"}, "message": "(mark_set_1): For multi-reg hard register, clear all\nreg_next_use entries.\n\nFrom-SVN: r8670", "tree": {"sha": "3e6ab93a42ed6931678d9e070f4fb62d10f05b22", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3e6ab93a42ed6931678d9e070f4fb62d10f05b22"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/935149165b83d8d409584384729c059b34e20590", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/935149165b83d8d409584384729c059b34e20590", "html_url": "https://github.com/Rust-GCC/gccrs/commit/935149165b83d8d409584384729c059b34e20590", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/935149165b83d8d409584384729c059b34e20590/comments", "author": null, "committer": null, "parents": [{"sha": "bff3fc417e1cf2f06de047ed02282bc988cd8370", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bff3fc417e1cf2f06de047ed02282bc988cd8370", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bff3fc417e1cf2f06de047ed02282bc988cd8370"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "c53ddd9ef271e2b5439ac8f6822d92709c770227", "filename": "gcc/flow.c", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/935149165b83d8d409584384729c059b34e20590/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/935149165b83d8d409584384729c059b34e20590/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=935149165b83d8d409584384729c059b34e20590", "patch": "@@ -2019,9 +2019,6 @@ mark_set_1 (needed, dead, x, insn, significant)\n \t  register rtx y = reg_next_use[regno];\n \t  register int blocknum = BLOCK_NUM (insn);\n \n-\t  /* The next use is no longer \"next\", since a store intervenes.  */\n-\t  reg_next_use[regno] = 0;\n-\n \t  /* If this is a hard reg, record this function uses the reg.  */\n \n \t  if (regno < FIRST_PSEUDO_REGISTER)\n@@ -2031,12 +2028,20 @@ mark_set_1 (needed, dead, x, insn, significant)\n \n \t      for (i = regno; i < endregno; i++)\n \t\t{\n+\t\t  /* The next use is no longer \"next\", since a store\n+\t\t     intervenes.  */\n+\t\t  reg_next_use[i] = 0;\n+\n \t\t  regs_ever_live[i] = 1;\n \t\t  reg_n_sets[i]++;\n \t\t}\n \t    }\n \t  else\n \t    {\n+\t      /* The next use is no longer \"next\", since a store\n+\t\t intervenes.  */\n+\t      reg_next_use[regno] = 0;\n+\n \t      /* Keep track of which basic blocks each reg appears in.  */\n \n \t      if (reg_basic_block[regno] == REG_BLOCK_UNKNOWN)"}]}