{"sha": "2307e3723810fd0cc01af9e7082227140f6f9895", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjMwN2UzNzIzODEwZmQwY2MwMWFmOWU3MDgyMjI3MTQwZjZmOTg5NQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-09-20T20:11:36Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-09-20T20:11:36Z"}, "message": "basic-block.h (compute_bb_for_insn): Declare.\n\n        * basic-block.h (compute_bb_for_insn): Declare.\n        * flow.c (compute_bb_for_insn): Export.  Don't accept the varray\n        to use; set size of basic_block_for_insn directly.\n        (find_basic_blocks): Update.\n\nFrom-SVN: r29530", "tree": {"sha": "1f7b81cddf0d338e59b35537c6441f3a9f803583", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1f7b81cddf0d338e59b35537c6441f3a9f803583"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2307e3723810fd0cc01af9e7082227140f6f9895", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2307e3723810fd0cc01af9e7082227140f6f9895", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2307e3723810fd0cc01af9e7082227140f6f9895", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2307e3723810fd0cc01af9e7082227140f6f9895/comments", "author": null, "committer": null, "parents": [{"sha": "8801244b4fad8cee4a8f2b343d23ba26560118e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8801244b4fad8cee4a8f2b343d23ba26560118e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8801244b4fad8cee4a8f2b343d23ba26560118e6"}], "stats": {"total": 21, "additions": 14, "deletions": 7}, "files": [{"sha": "1797612f55a254ea5b828523a104dfb130108c25", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2307e3723810fd0cc01af9e7082227140f6f9895/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2307e3723810fd0cc01af9e7082227140f6f9895/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2307e3723810fd0cc01af9e7082227140f6f9895", "patch": "@@ -1,3 +1,10 @@\n+Mon Sep 20 12:59:16 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* basic-block.h (compute_bb_for_insn): Declare.\n+\t* flow.c (compute_bb_for_insn): Export.  Don't accept the varray\n+\tto use; set size of basic_block_for_insn directly.\n+\t(find_basic_blocks): Update.\n+\n Mon Sep 20 15:11:54 1999  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* flow.c (verify_flow_info): Fix typo, \"abort;\" -> \"abort ();\"."}, {"sha": "06ef7cf452ce06c38bd2c9e1579379ad4c7e9da7", "filename": "gcc/basic-block.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2307e3723810fd0cc01af9e7082227140f6f9895/gcc%2Fbasic-block.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2307e3723810fd0cc01af9e7082227140f6f9895/gcc%2Fbasic-block.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbasic-block.h?ref=2307e3723810fd0cc01af9e7082227140f6f9895", "patch": "@@ -233,6 +233,7 @@ extern varray_type basic_block_for_insn;\n #define BLOCK_FOR_INSN(INSN)  VARRAY_BB (basic_block_for_insn, INSN_UID (INSN))\n #define BLOCK_NUM(INSN)\t      (BLOCK_FOR_INSN (INSN)->index + 0)\n \n+extern void compute_bb_for_insn\t\tPROTO ((int));\n extern void set_block_for_insn\t\tPROTO ((rtx, basic_block));\n \n extern void dump_bb_data\t\tPROTO ((FILE *, int_list_ptr *,"}, {"sha": "988ccc75e8b52c068ea8936e0a41b54461d919f8", "filename": "gcc/flow.c", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2307e3723810fd0cc01af9e7082227140f6f9895/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2307e3723810fd0cc01af9e7082227140f6f9895/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=2307e3723810fd0cc01af9e7082227140f6f9895", "patch": "@@ -276,7 +276,6 @@ static bitmap uid_volatile;\n static int count_basic_blocks\t\tPROTO((rtx));\n static rtx find_basic_blocks_1\t\tPROTO((rtx, rtx*));\n static void create_basic_block\t\tPROTO((int, rtx, rtx, rtx));\n-static void compute_bb_for_insn\t\tPROTO((varray_type, int));\n static void clear_edges\t\t\tPROTO((void));\n static void make_edges\t\t\tPROTO((rtx, rtx*));\n static void make_edge\t\t\tPROTO((basic_block, basic_block, int));\n@@ -404,8 +403,7 @@ find_basic_blocks (f, nregs, file, do_cleanup)\n   max_uid += max_uid / 10;\n #endif\n \n-  VARRAY_BB_INIT (basic_block_for_insn, max_uid, \"basic_block_for_insn\");\n-  compute_bb_for_insn (basic_block_for_insn, max_uid);\n+  compute_bb_for_insn (max_uid);\n \n   /* Discover the edges of our cfg.  */\n \n@@ -804,13 +802,14 @@ create_basic_block (index, head, end, bb_note)\n /* Records the basic block struct in BB_FOR_INSN, for every instruction\n    indexed by INSN_UID.  MAX is the size of the array.  */\n \n-static void\n-compute_bb_for_insn (bb_for_insn, max)\n-     varray_type bb_for_insn;\n+void\n+compute_bb_for_insn (max)\n      int max;\n {\n   int i;\n \n+  VARRAY_BB_INIT (basic_block_for_insn, max, \"basic_block_for_insn\");\n+\n   for (i = 0; i < n_basic_blocks; ++i)\n     {\n       basic_block bb = BASIC_BLOCK (i);\n@@ -822,7 +821,7 @@ compute_bb_for_insn (bb_for_insn, max)\n \t{\n \t  int uid = INSN_UID (insn);\n \t  if (uid < max)\n-\t    VARRAY_BB (bb_for_insn, uid) = bb;\n+\t    VARRAY_BB (basic_block_for_insn, uid) = bb;\n \t  if (insn == end)\n \t    break;\n \t  insn = NEXT_INSN (insn);"}]}