{"sha": "79b51cd7d8d2fed42734c83ad00e26aa0cc751b4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzliNTFjZDdkOGQyZmVkNDI3MzRjODNhZDAwZTI2YWEwY2M3NTFiNA==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@redhat.com", "date": "2002-03-09T19:14:15Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2002-03-09T19:14:15Z"}, "message": "In gcc/:\n\n\t* config/rs6000/sysv4.h (BIGGEST_ALIGNMENT): Don't define.\nIn gcc/testsuite/:\n\t* gcc.dg/ppc-ldstruct.c: New test.\n\nFrom-SVN: r50503", "tree": {"sha": "ca560adc0c5a676c0cb720610a33ef657b7af559", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca560adc0c5a676c0cb720610a33ef657b7af559"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/79b51cd7d8d2fed42734c83ad00e26aa0cc751b4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79b51cd7d8d2fed42734c83ad00e26aa0cc751b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79b51cd7d8d2fed42734c83ad00e26aa0cc751b4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79b51cd7d8d2fed42734c83ad00e26aa0cc751b4/comments", "author": null, "committer": null, "parents": [{"sha": "32c1620024756f8695f6e1d909b05e3b9873b55f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32c1620024756f8695f6e1d909b05e3b9873b55f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32c1620024756f8695f6e1d909b05e3b9873b55f"}], "stats": {"total": 35, "additions": 27, "deletions": 8}, "files": [{"sha": "4e86ffc3b5647a251e5446c1f31fe1bd0693a1ce", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79b51cd7d8d2fed42734c83ad00e26aa0cc751b4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79b51cd7d8d2fed42734c83ad00e26aa0cc751b4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=79b51cd7d8d2fed42734c83ad00e26aa0cc751b4", "patch": "@@ -1,3 +1,7 @@\n+2002-03-09  Geoffrey Keating  <geoffk@redhat.com>\n+\n+\t* config/rs6000/sysv4.h (BIGGEST_ALIGNMENT): Don't define.\n+\n 2002-03-09  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/5877"}, {"sha": "6b5f48a12ec8ab0836031c07e758a4c9cb7d71c5", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79b51cd7d8d2fed42734c83ad00e26aa0cc751b4/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79b51cd7d8d2fed42734c83ad00e26aa0cc751b4/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=79b51cd7d8d2fed42734c83ad00e26aa0cc751b4", "patch": "@@ -383,14 +383,6 @@ do {\t\t\t\t\t\t\t\t\t\\\n /* Real stack boundary as mandated by the appropriate ABI.  */\n #define ABI_STACK_BOUNDARY ((TARGET_EABI && !TARGET_ALTIVEC_ABI) ? 64 : 128)\n \n-/* No data type wants to be aligned rounder than this.  */\n-/* FIXME: This should be keyed off of TARGET_ALTIVEC_ABI instead but\n-   TARGET_ALTIVEC_ABI uses rs6000_altivec_abi which is only defined in\n-   rs6000.c.  Consequently, genconstants will fail to link because it\n-   uses rtl.c which uses BIGGEST_ALIGNMENT.  */\n-#undef\tBIGGEST_ALIGNMENT\n-#define BIGGEST_ALIGNMENT ((TARGET_EABI && !TARGET_ALTIVEC) ? 64 : 128)\n-\n /* An expression for the alignment of a structure field FIELD if the\n    alignment computed in the usual way is COMPUTED.  */\n #define ADJUST_FIELD_ALIGN(FIELD, COMPUTED)\t\t\t\t      \\"}, {"sha": "5fef1185b73c0b5cf36ae523e10d802bcad368ae", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79b51cd7d8d2fed42734c83ad00e26aa0cc751b4/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79b51cd7d8d2fed42734c83ad00e26aa0cc751b4/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=79b51cd7d8d2fed42734c83ad00e26aa0cc751b4", "patch": "@@ -1,3 +1,7 @@\n+2002-03-09  Geoffrey Keating  <geoffk@redhat.com>\n+\n+\t* gcc.dg/ppc-ldstruct.c: New test.\n+\n 2002-03-09  Jakub Jelinek  <jakub@redhat.com>\n \n \t* gcc.c-torture/execute/va-arg-22.c: New test."}, {"sha": "e3912d52826a65e070a6424bb9a6c88be4e168f5", "filename": "gcc/testsuite/gcc.dg/ppc-ldstruct.c", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79b51cd7d8d2fed42734c83ad00e26aa0cc751b4/gcc%2Ftestsuite%2Fgcc.dg%2Fppc-ldstruct.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79b51cd7d8d2fed42734c83ad00e26aa0cc751b4/gcc%2Ftestsuite%2Fgcc.dg%2Fppc-ldstruct.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fppc-ldstruct.c?ref=79b51cd7d8d2fed42734c83ad00e26aa0cc751b4", "patch": "@@ -0,0 +1,19 @@\n+/* { dg-do run { target powerpc*-*-eabi* powerpc*-*-elf* powerpc*-*-linux* } } */\n+/* { dg-options \"-O -mlong-double-128\" } */\n+\n+/* SVR4 and EABI both specify that 'long double' is aligned to a 128-bit\n+   boundary in structures.  */\n+\n+struct {\n+  int x;\n+  long double d;\n+} s;\n+\n+int main(void)\n+{\n+  if (sizeof (s) != 32)\n+    abort ();\n+  if ((char *)&s.d - (char *)&s != 16)\n+    abort ();\n+  exit (0);\n+}"}]}