{"sha": "c785204735b2cace9a676969de0967105a06438d", "node_id": "C_kwDOANBUbNoAKGM3ODUyMDQ3MzViMmNhY2U5YTY3Njk2OWRlMDk2NzEwNWEwNjQzOGQ", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2022-07-01T15:40:18Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2022-07-06T17:51:38Z"}, "message": "d: Build the D sources in the front-end with -fno-exceptions\n\nThe D front-end does not use exceptions, but it still requires RTTI for\nsome lowerings of convenience language features.  Enforce it with by\nbuilding with `-fno-exceptions'.\n\ngcc/d/ChangeLog:\n\n\t* Make-lang.in (NOEXCEPTION_DFLAGS): Define.\n\t(ALL_DFLAGS): Add NO_EXCEPTION_DFLAGS.", "tree": {"sha": "5d2b4821933fa932a08ae24e0ed52c0b2e726105", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5d2b4821933fa932a08ae24e0ed52c0b2e726105"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c785204735b2cace9a676969de0967105a06438d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c785204735b2cace9a676969de0967105a06438d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c785204735b2cace9a676969de0967105a06438d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c785204735b2cace9a676969de0967105a06438d/comments", "author": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "acb696b792eeab92167f516b5236ed9242e62deb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acb696b792eeab92167f516b5236ed9242e62deb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/acb696b792eeab92167f516b5236ed9242e62deb"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "6f9b2e5c26a140e2468babe48073a200ac1bd606", "filename": "gcc/d/Make-lang.in", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c785204735b2cace9a676969de0967105a06438d/gcc%2Fd%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c785204735b2cace9a676969de0967105a06438d/gcc%2Fd%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fd%2FMake-lang.in?ref=c785204735b2cace9a676969de0967105a06438d", "patch": "@@ -57,8 +57,12 @@ CHECKING_DFLAGS =\n endif\n WARN_DFLAGS = -Wall -Wdeprecated $(NOCOMMON_FLAG)\n \n+# D front-end doesn't use exceptions, but it does require RTTI.\n+NOEXCEPTION_DFLAGS = $(filter-out -fno-rtti, $(NOEXCEPTION_FLAGS))\n+\n ALL_DFLAGS = $(DFLAGS-$@) $(GDCFLAGS) -fversion=IN_GCC $(CHECKING_DFLAGS) \\\n-\t$(PICFLAG) $(ALIASING_FLAGS) $(COVERAGE_FLAGS) $(WARN_DFLAGS)\n+\t$(PICFLAG) $(ALIASING_FLAGS) $(NOEXCEPTION_DFLAGS) $(COVERAGE_FLAGS) \\\n+\t$(WARN_DFLAGS)\n \n DCOMPILE.base = $(GDC) $(NO_PIE_CFLAGS) -c $(ALL_DFLAGS) -o $@\n DCOMPILE = $(DCOMPILE.base) -MT $@ -MMD -MP -MF $(@D)/$(DEPDIR)/$(*F).TPo"}]}