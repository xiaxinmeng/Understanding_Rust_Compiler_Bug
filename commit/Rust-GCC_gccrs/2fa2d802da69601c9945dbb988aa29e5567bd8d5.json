{"sha": "2fa2d802da69601c9945dbb988aa29e5567bd8d5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmZhMmQ4MDJkYTY5NjAxYzk5NDVkYmI5ODhhYTI5ZTU1NjdiZDhkNQ==", "commit": {"author": {"name": "Dorit Naishlos", "email": "dorit@il.ibm.com", "date": "2004-11-22T13:41:57Z"}, "committer": {"name": "Dorit Nuzman", "email": "dorit@gcc.gnu.org", "date": "2004-11-22T13:41:57Z"}, "message": "re PR tree-optimization/18544 (ICE with -ftree-vectorize)\n\n\tPR tree-opt/18544\n        * tree-vectorizer.c (vect_analyze_data_refs): Fail if memtag not found.\n\nFrom-SVN: r91011", "tree": {"sha": "ebe95a30cedf7676f2ce0a09da0fd04aa5d65946", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ebe95a30cedf7676f2ce0a09da0fd04aa5d65946"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2fa2d802da69601c9945dbb988aa29e5567bd8d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fa2d802da69601c9945dbb988aa29e5567bd8d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2fa2d802da69601c9945dbb988aa29e5567bd8d5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fa2d802da69601c9945dbb988aa29e5567bd8d5/comments", "author": null, "committer": null, "parents": [{"sha": "b94d4fe027fdcba6d1ffb48fb9b07e3b11de2670", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b94d4fe027fdcba6d1ffb48fb9b07e3b11de2670", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b94d4fe027fdcba6d1ffb48fb9b07e3b11de2670"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "a1666ee1e1c4430e8f6f8a17f4459284b6e502ff", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2fa2d802da69601c9945dbb988aa29e5567bd8d5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2fa2d802da69601c9945dbb988aa29e5567bd8d5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2fa2d802da69601c9945dbb988aa29e5567bd8d5", "patch": "@@ -1,3 +1,8 @@\n+2004-11-22  Dorit Naishlos  <dorit@il.ibm.com>\n+\n+\tPR tree-opt/18544\n+\t* tree-vectorizer.c (vect_analyze_data_refs): Fail if memtag not found.\n+\n 2004-11-22 Kazuhiro Inaoka <inaoka.kazuhiro@renesas.com>\n \n \t* config.gcc: Use t-slibgcc-elf to build libgcc_s.so on"}, {"sha": "61c22e82594452b24a57efd992d3b6dd9311e2e9", "filename": "gcc/tree-vectorizer.c", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2fa2d802da69601c9945dbb988aa29e5567bd8d5/gcc%2Ftree-vectorizer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2fa2d802da69601c9945dbb988aa29e5567bd8d5/gcc%2Ftree-vectorizer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vectorizer.c?ref=2fa2d802da69601c9945dbb988aa29e5567bd8d5", "patch": "@@ -5057,10 +5057,15 @@ vect_analyze_data_refs (loop_vec_info loop_vinfo)\n \t\tcase ARRAY_REF:\n \t\t  dr = analyze_array (stmt, TREE_OPERAND (symbl, 0), \n \t\t\t\t      DR_IS_READ(dr));\n-\t\t  STMT_VINFO_MEMTAG (stmt_info) = \n-\t\t     vect_get_base_and_bit_offset (dr, DR_BASE_NAME (dr), NULL_TREE,\n-\t\t\t\t\t\t   loop_vinfo, &offset, \n-\t\t\t\t\t\t   &base_aligned_p);\n+\t\t  tag = vect_get_base_and_bit_offset (dr, DR_BASE_NAME (dr), \n+\t\t\t   NULL_TREE, loop_vinfo, &offset, &base_aligned_p);\n+\t\t  if (!tag)\n+\t\t    {\n+\t\t      if (vect_debug_stats (loop) || vect_debug_details (loop))\n+\t\t\tfprintf (dump_file, \"not vectorized: no memtag for ref.\");\n+\t\t      return false;\n+\t\t    }\n+\t\t  STMT_VINFO_MEMTAG (stmt_info) = tag; \n \t\t  break;\n \t\t  \n \t\tcase VAR_DECL: "}]}