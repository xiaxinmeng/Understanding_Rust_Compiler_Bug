{"sha": "ccb265d66e333378076c8be0bb0a64392c54aa38", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2NiMjY1ZDY2ZTMzMzM3ODA3NmM4YmUwYmIwYTY0MzkyYzU0YWEzOA==", "commit": {"author": {"name": "Mikael Pettersson", "email": "mikpe@it.uu.se", "date": "2010-02-18T03:28:52Z"}, "committer": {"name": "David S. Miller", "email": "davem@gcc.gnu.org", "date": "2010-02-18T03:28:52Z"}, "message": "gas.h: New file.\n\n2010-02-17  Mikael Pettersson  <mikpe@it.uu.se>\n\n\t* config/sparc/gas.h: New file.  Restore\n\tTARGET_ASM_NAMED_SECTION to its ELF default.\n\t* config/sparc/sysv4.h (TARGET_ASM_NAMED_SECTION): Do not\n\tcheck !HAVE_GNU_AS.\n\t* config/sparc/sparc.c (sparc_elf_asm_named_section):\n\tLikewise.  Add ATTRIBUTE_UNUSED to prototype.\n\t* config.gcc (sparc*-*-linux*): Include sparc/gas.h\n\tafter sparc/sysv4.h.\n\nFrom-SVN: r156854", "tree": {"sha": "ba7254e12dd46dbf6dfae249faf298c5d74f1356", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba7254e12dd46dbf6dfae249faf298c5d74f1356"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ccb265d66e333378076c8be0bb0a64392c54aa38", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccb265d66e333378076c8be0bb0a64392c54aa38", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ccb265d66e333378076c8be0bb0a64392c54aa38", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccb265d66e333378076c8be0bb0a64392c54aa38/comments", "author": null, "committer": null, "parents": [{"sha": "c226be28436ade27e1802fad1f67a18ab140744e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c226be28436ade27e1802fad1f67a18ab140744e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c226be28436ade27e1802fad1f67a18ab140744e"}], "stats": {"total": 30, "additions": 23, "deletions": 7}, "files": [{"sha": "42d4a23e8a565d678531e1efad4d4f178284cba5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccb265d66e333378076c8be0bb0a64392c54aa38/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccb265d66e333378076c8be0bb0a64392c54aa38/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ccb265d66e333378076c8be0bb0a64392c54aa38", "patch": "@@ -1,3 +1,14 @@\n+2010-02-17  Mikael Pettersson  <mikpe@it.uu.se>\n+\n+\t* config/sparc/gas.h: New file.  Restore\n+\tTARGET_ASM_NAMED_SECTION to its ELF default.\n+\t* config/sparc/sysv4.h (TARGET_ASM_NAMED_SECTION): Do not\n+\tcheck !HAVE_GNU_AS.\n+\t* config/sparc/sparc.c (sparc_elf_asm_named_section):\n+\tLikewise.  Add ATTRIBUTE_UNUSED to prototype.\n+\t* config.gcc (sparc*-*-linux*): Include sparc/gas.h\n+\tafter sparc/sysv4.h.\n+\n 2010-02-17  Dave Korn  <dave.korn.cygwin@gmail.com>\n \n \t* config/i386/mingw32.h (LIBGCJ_SONAME): Fix cut'n'pasto in DLL name."}, {"sha": "06b3daa7c2e83453fd808e90c1b0463073ee9521", "filename": "gcc/config.gcc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccb265d66e333378076c8be0bb0a64392c54aa38/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccb265d66e333378076c8be0bb0a64392c54aa38/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=ccb265d66e333378076c8be0bb0a64392c54aa38", "patch": "@@ -2354,7 +2354,7 @@ sparc-*-elf*)\n \textra_parts=\"crti.o crtn.o crtbegin.o crtend.o\"\n \t;;\n sparc-*-linux*)\t\t# SPARC's running GNU/Linux, libc6\n-\ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h linux.h glibc-stdint.h\"\n+\ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sparc/gas.h linux.h glibc-stdint.h\"\n \textra_options=\"${extra_options} sparc/long-double-switch.opt\"\n \ttmake_file=\"${tmake_file} sparc/t-linux\"\n \tif test x$enable_targets = xall; then\n@@ -2474,7 +2474,7 @@ sparc64-*-freebsd*|ultrasparc-*-freebsd*)\n \tesac\n \t;;\n sparc64-*-linux*)\t\t# 64-bit SPARC's running GNU/Linux\n-\ttm_file=\"sparc/biarch64.h ${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h linux.h glibc-stdint.h sparc/linux64.h\"\n+\ttm_file=\"sparc/biarch64.h ${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sparc/gas.h linux.h glibc-stdint.h sparc/linux64.h\"\n \textra_options=\"${extra_options} sparc/long-double-switch.opt\"\n \ttmake_file=\"${tmake_file} sparc/t-linux sparc/t-linux64 sparc/t-crtfm\"\n \t;;"}, {"sha": "e3779293532d6cd4acfc9a796288879209da3942", "filename": "gcc/config/sparc/gas.h", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccb265d66e333378076c8be0bb0a64392c54aa38/gcc%2Fconfig%2Fsparc%2Fgas.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccb265d66e333378076c8be0bb0a64392c54aa38/gcc%2Fconfig%2Fsparc%2Fgas.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fgas.h?ref=ccb265d66e333378076c8be0bb0a64392c54aa38", "patch": "@@ -0,0 +1,6 @@\n+/* Definitions of target machine for GCC, for SPARC\n+   using the GNU assembler.  */\n+\n+/* Switch into a generic section.  */\n+#undef TARGET_ASM_NAMED_SECTION\n+#define TARGET_ASM_NAMED_SECTION  default_elf_asm_named_section"}, {"sha": "f366f78aaa92fbf845898ce176ef414775b0ac64", "filename": "gcc/config/sparc/sparc.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccb265d66e333378076c8be0bb0a64392c54aa38/gcc%2Fconfig%2Fsparc%2Fsparc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccb265d66e333378076c8be0bb0a64392c54aa38/gcc%2Fconfig%2Fsparc%2Fsparc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.c?ref=ccb265d66e333378076c8be0bb0a64392c54aa38", "patch": "@@ -368,8 +368,9 @@ static int save_or_restore_regs (int, int, rtx, int, int);\n static void emit_save_or_restore_regs (int);\n static void sparc_asm_function_prologue (FILE *, HOST_WIDE_INT);\n static void sparc_asm_function_epilogue (FILE *, HOST_WIDE_INT);\n-#if defined (OBJECT_FORMAT_ELF) && !HAVE_GNU_AS\n-static void sparc_elf_asm_named_section (const char *, unsigned int, tree);\n+#if defined (OBJECT_FORMAT_ELF)\n+static void sparc_elf_asm_named_section (const char *, unsigned int, tree)\n+    ATTRIBUTE_UNUSED;\n #endif\n \n static int sparc_adjust_cost (rtx, rtx, rtx, int);\n@@ -7986,7 +7987,7 @@ sparc_profile_hook (int labelno)\n     }\n }\n \f\n-#if defined (OBJECT_FORMAT_ELF) && !HAVE_GNU_AS\n+#if defined (OBJECT_FORMAT_ELF)\n static void\n sparc_elf_asm_named_section (const char *name, unsigned int flags,\n \t\t\t     tree decl ATTRIBUTE_UNUSED)"}, {"sha": "7620711d3b6b4a34ba3be3312140831b27729696", "filename": "gcc/config/sparc/sysv4.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccb265d66e333378076c8be0bb0a64392c54aa38/gcc%2Fconfig%2Fsparc%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccb265d66e333378076c8be0bb0a64392c54aa38/gcc%2Fconfig%2Fsparc%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsysv4.h?ref=ccb265d66e333378076c8be0bb0a64392c54aa38", "patch": "@@ -127,11 +127,9 @@ do { ASM_OUTPUT_ALIGN ((FILE), Pmode == SImode ? 2 : 3);\t\t\\\n #undef DTORS_SECTION_ASM_OP\n #define DTORS_SECTION_ASM_OP    \"\\t.section\\t\\\".dtors\\\",#alloc,#write\"\n \n-#if !HAVE_GNU_AS\n /* Switch into a generic section.  */\n #undef TARGET_ASM_NAMED_SECTION\n #define TARGET_ASM_NAMED_SECTION  sparc_elf_asm_named_section\n-#endif\n \n #undef ASM_OUTPUT_ALIGNED_BSS\n #define ASM_OUTPUT_ALIGNED_BSS(FILE, DECL, NAME, SIZE, ALIGN) \\"}]}