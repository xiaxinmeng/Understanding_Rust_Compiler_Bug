{"sha": "bdbba3c27ea90684291579efcf27d9f346bd1db7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmRiYmEzYzI3ZWE5MDY4NDI5MTU3OWVmY2YyN2Q5ZjM0NmJkMWRiNw==", "commit": {"author": {"name": "Steve Ellcey", "email": "sje@cup.hp.com", "date": "2006-11-09T23:48:55Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2006-11-09T23:48:55Z"}, "message": "ia64.c (ia64_hpux_init_libfuncs): Use HP-UX millicode routines for integer division.\n\n\t* config/ia64/ia64.c (ia64_hpux_init_libfuncs):  Use HP-UX millicode\n\troutines for integer division.\n\nFrom-SVN: r118632", "tree": {"sha": "62e6282ea4f8a36429c6218e0a201ef1c09565eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/62e6282ea4f8a36429c6218e0a201ef1c09565eb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bdbba3c27ea90684291579efcf27d9f346bd1db7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdbba3c27ea90684291579efcf27d9f346bd1db7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bdbba3c27ea90684291579efcf27d9f346bd1db7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdbba3c27ea90684291579efcf27d9f346bd1db7/comments", "author": null, "committer": null, "parents": [{"sha": "012019922e6fed9b526e0c9cc34ec15250b73939", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/012019922e6fed9b526e0c9cc34ec15250b73939", "html_url": "https://github.com/Rust-GCC/gccrs/commit/012019922e6fed9b526e0c9cc34ec15250b73939"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "36750a002e425517b6e9452c84e0ee08280f264e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdbba3c27ea90684291579efcf27d9f346bd1db7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdbba3c27ea90684291579efcf27d9f346bd1db7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bdbba3c27ea90684291579efcf27d9f346bd1db7", "patch": "@@ -1,3 +1,8 @@\n+2006-11-09  Steve Ellcey  <sje@cup.hp.com>\n+\n+\t* config/ia64/ia64.c (ia64_hpux_init_libfuncs):  Use HP-UX millicode\n+\troutines for integer division.\n+\n 2006-11-09  Daniel Jacobowitz  <dan@codesourcery.com>\n \n \t* config/arm/t-linux (LIBGCC2_DEBUG_CFLAGS): Delete."}, {"sha": "2867e6ff34fb156381079aea4dbeddb83207216c", "filename": "gcc/config/ia64/ia64.c", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdbba3c27ea90684291579efcf27d9f346bd1db7/gcc%2Fconfig%2Fia64%2Fia64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdbba3c27ea90684291579efcf27d9f346bd1db7/gcc%2Fconfig%2Fia64%2Fia64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.c?ref=bdbba3c27ea90684291579efcf27d9f346bd1db7", "patch": "@@ -9272,6 +9272,22 @@ ia64_hpux_init_libfuncs (void)\n {\n   ia64_init_libfuncs ();\n \n+  /* The HP SI millicode division and mod functions expect DI arguments.\n+     By turning them off completely we avoid using both libgcc and the\n+     non-standard millicode routines and use the HP DI millicode routines\n+     instead.  */\n+\n+  set_optab_libfunc (sdiv_optab, SImode, 0);\n+  set_optab_libfunc (udiv_optab, SImode, 0);\n+  set_optab_libfunc (smod_optab, SImode, 0);\n+  set_optab_libfunc (umod_optab, SImode, 0);\n+\n+  set_optab_libfunc (sdiv_optab, DImode, \"__milli_divI\");\n+  set_optab_libfunc (udiv_optab, DImode, \"__milli_divU\");\n+  set_optab_libfunc (smod_optab, DImode, \"__milli_remI\");\n+  set_optab_libfunc (umod_optab, DImode, \"__milli_remU\");\n+\n+  /* HP-UX libc has TF min/max/abs routines in it.  */\n   set_optab_libfunc (smin_optab, TFmode, \"_U_Qfmin\");\n   set_optab_libfunc (smax_optab, TFmode, \"_U_Qfmax\");\n   set_optab_libfunc (abs_optab, TFmode, \"_U_Qfabs\");"}]}