{"sha": "e23afa25113fb191e560862dc5f910eafe9f0d9b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTIzYWZhMjUxMTNmYjE5MWU1NjA4NjJkYzVmOTEwZWFmZTlmMGQ5Yg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@markmitchell.com", "date": "1998-05-29T14:19:11Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1998-05-29T14:19:11Z"}, "message": "decl.c (grokdeclarator): Don't complain about in-class initialization of static consts if...\n\n\t* decl.c (grokdeclarator): Don't complain about in-class\n\tinitialization of static consts if we don't really know the type\n\tof the variable.\n\nFrom-SVN: r20139", "tree": {"sha": "2126e62126c844cfb208d2e591d905fcbc043a8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2126e62126c844cfb208d2e591d905fcbc043a8d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e23afa25113fb191e560862dc5f910eafe9f0d9b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e23afa25113fb191e560862dc5f910eafe9f0d9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e23afa25113fb191e560862dc5f910eafe9f0d9b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e23afa25113fb191e560862dc5f910eafe9f0d9b/comments", "author": null, "committer": null, "parents": [{"sha": "2879ca2a89e81ec127e2accb87bd3884a78d6ad4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2879ca2a89e81ec127e2accb87bd3884a78d6ad4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2879ca2a89e81ec127e2accb87bd3884a78d6ad4"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "47725b2c7e13edb7263175037f4b51f552967ec2", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e23afa25113fb191e560862dc5f910eafe9f0d9b/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e23afa25113fb191e560862dc5f910eafe9f0d9b/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=e23afa25113fb191e560862dc5f910eafe9f0d9b", "patch": "@@ -1,3 +1,9 @@\n+1998-05-29  Mark Mitchell  <mark@markmitchell.com>\n+\n+\t* decl.c (grokdeclarator): Don't complain about in-class\n+\tinitialization of static consts if we don't really know the type\n+\tof the variable.\n+\n 1998-05-29  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* cp-tree.h (DECL_DESTRUCTOR_P): New macro."}, {"sha": "e0d0119ee69a11172516b467cb62e842e0016a71", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e23afa25113fb191e560862dc5f910eafe9f0d9b/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e23afa25113fb191e560862dc5f910eafe9f0d9b/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=e23afa25113fb191e560862dc5f910eafe9f0d9b", "patch": "@@ -10003,7 +10003,8 @@ grokdeclarator (declarator, declspecs, decl_context, initialized, attrlist)\n \t\t  cp_error (\"ANSI C++ forbids in-class initialization of non-const static member `%D'\",\n \t\t\t    declarator);\n \t\t\n-\t\tif (pedantic && ! INTEGRAL_TYPE_P (type))\n+\t\tif (pedantic && ! INTEGRAL_TYPE_P (type) \n+\t\t    && !uses_template_parms (type))\n \t\t  cp_pedwarn (\"ANSI C++ forbids initialization of member constant `%D' of non-integral type `%T'\", declarator, type);\n \t      }\n "}, {"sha": "2ff3221543722c96c7ae0a01bcecf26790d6d933", "filename": "gcc/testsuite/g++.old-deja/g++.pt/static4.C", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e23afa25113fb191e560862dc5f910eafe9f0d9b/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fstatic4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e23afa25113fb191e560862dc5f910eafe9f0d9b/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fstatic4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fstatic4.C?ref=e23afa25113fb191e560862dc5f910eafe9f0d9b", "patch": "@@ -0,0 +1,8 @@\n+// Build don't link:\n+\n+template <class T>\n+struct S\n+{\n+  static const T t = 3;\n+};\n+"}]}