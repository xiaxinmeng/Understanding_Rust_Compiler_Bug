{"sha": "5e92fddad7719f2f2cdf55f73222c4978af38f35", "node_id": "C_kwDOANBUbNoAKDVlOTJmZGRhZDc3MTlmMmYyY2RmNTVmNzMyMjJjNDk3OGFmMzhmMzU", "commit": {"author": {"name": "Maciej W. Rozycki", "email": "macro@embecosm.com", "date": "2022-02-08T12:14:58Z"}, "committer": {"name": "Maciej W. Rozycki", "email": "macro@embecosm.com", "date": "2022-02-08T12:14:58Z"}, "message": "doc: RISC-V: Document the `-misa-spec=' option\n\nWe have recently updated the default for the `-misa-spec=' option, yet\nwe still have not documented it nor its `--with-isa-spec=' counterpart\nin the GCC manuals.  Fix that.\n\n\tgcc/\n\t* doc/install.texi (Configuration): Document `--with-isa-spec='\n\tRISC-V option.\n\t* doc/invoke.texi (Option Summary): List `-misa-spec=' RISC-V\n\toption.\n\t(RISC-V Options): Document it.", "tree": {"sha": "6da4d71dbb0866510e5e779da21cbf4df6b5c19a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6da4d71dbb0866510e5e779da21cbf4df6b5c19a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5e92fddad7719f2f2cdf55f73222c4978af38f35", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e92fddad7719f2f2cdf55f73222c4978af38f35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e92fddad7719f2f2cdf55f73222c4978af38f35", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e92fddad7719f2f2cdf55f73222c4978af38f35/comments", "author": {"login": "maciej-w-rozycki", "id": 117297942, "node_id": "U_kgDOBv3TFg", "avatar_url": "https://avatars.githubusercontent.com/u/117297942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maciej-w-rozycki", "html_url": "https://github.com/maciej-w-rozycki", "followers_url": "https://api.github.com/users/maciej-w-rozycki/followers", "following_url": "https://api.github.com/users/maciej-w-rozycki/following{/other_user}", "gists_url": "https://api.github.com/users/maciej-w-rozycki/gists{/gist_id}", "starred_url": "https://api.github.com/users/maciej-w-rozycki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maciej-w-rozycki/subscriptions", "organizations_url": "https://api.github.com/users/maciej-w-rozycki/orgs", "repos_url": "https://api.github.com/users/maciej-w-rozycki/repos", "events_url": "https://api.github.com/users/maciej-w-rozycki/events{/privacy}", "received_events_url": "https://api.github.com/users/maciej-w-rozycki/received_events", "type": "User", "site_admin": false}, "committer": {"login": "maciej-w-rozycki", "id": 117297942, "node_id": "U_kgDOBv3TFg", "avatar_url": "https://avatars.githubusercontent.com/u/117297942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maciej-w-rozycki", "html_url": "https://github.com/maciej-w-rozycki", "followers_url": "https://api.github.com/users/maciej-w-rozycki/followers", "following_url": "https://api.github.com/users/maciej-w-rozycki/following{/other_user}", "gists_url": "https://api.github.com/users/maciej-w-rozycki/gists{/gist_id}", "starred_url": "https://api.github.com/users/maciej-w-rozycki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maciej-w-rozycki/subscriptions", "organizations_url": "https://api.github.com/users/maciej-w-rozycki/orgs", "repos_url": "https://api.github.com/users/maciej-w-rozycki/repos", "events_url": "https://api.github.com/users/maciej-w-rozycki/events{/privacy}", "received_events_url": "https://api.github.com/users/maciej-w-rozycki/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3faeba72cf93bdbf0b42d6b1b65fd4f0794f9d2a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3faeba72cf93bdbf0b42d6b1b65fd4f0794f9d2a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3faeba72cf93bdbf0b42d6b1b65fd4f0794f9d2a"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "93eae1f258282fa3cc2530cbe4f49be8fd713b98", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e92fddad7719f2f2cdf55f73222c4978af38f35/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e92fddad7719f2f2cdf55f73222c4978af38f35/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=5e92fddad7719f2f2cdf55f73222c4978af38f35", "patch": "@@ -1594,6 +1594,20 @@ On certain targets this option sets the default stack clash protection guard\n size as a power of two in bytes.  On AArch64 @var{size} is required to be either\n 12 (4KB) or 16 (64KB).\n \n+@item --with-isa-spec=@var{ISA-spec-string}\n+On RISC-V targets specify the default version of the RISC-V Unprivileged\n+(formerly User-Level) ISA specification to produce code conforming to.\n+The possibilities for @var{ISA-spec-string} are:\n+@table @code\n+@item 2.2\n+Produce code conforming to version 2.2.\n+@item 20190608\n+Produce code conforming to version 20190608.\n+@item 20191213\n+Produce code conforming to version 20191213.\n+@end table\n+In the absence of this configuration option the default version is 20191213.\n+\n @item --enable-__cxa_atexit\n Define if you want to use __cxa_atexit, rather than atexit, to\n register C++ destructors for local statics and global objects."}, {"sha": "ac97247c2baca4fe00a4e93b0fbcd086a78daefe", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5e92fddad7719f2f2cdf55f73222c4978af38f35/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5e92fddad7719f2f2cdf55f73222c4978af38f35/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=5e92fddad7719f2f2cdf55f73222c4978af38f35", "patch": "@@ -1184,6 +1184,7 @@ See RS/6000 and PowerPC Options.\n -mabi=@var{ABI-string} @gol\n -mfdiv  -mno-fdiv @gol\n -mdiv  -mno-div @gol\n+-misa-spec=@var{ISA-spec-string} @gol\n -march=@var{ISA-string} @gol\n -mtune=@var{processor-string} @gol\n -mpreferred-stack-boundary=@var{num} @gol\n@@ -27633,6 +27634,22 @@ Do or don't use hardware instructions for integer division.  This requires the\n M extension.  The default is to use them if the specified architecture has\n these instructions.\n \n+@item -misa-spec=@var{ISA-spec-string}\n+@opindex misa-spec\n+Specify the version of the RISC-V Unprivileged (formerly User-Level)\n+ISA specification to produce code conforming to.  The possibilities\n+for @var{ISA-spec-string} are:\n+@table @code\n+@item 2.2\n+Produce code conforming to version 2.2.\n+@item 20190608\n+Produce code conforming to version 20190608.\n+@item 20191213\n+Produce code conforming to version 20191213.\n+@end table\n+The default is @option{-misa-spec=20191213} unless GCC has been configured\n+with @option{--with-isa-spec=} specifying a different default version.\n+\n @item -march=@var{ISA-string}\n @opindex march\n Generate code for given RISC-V ISA (e.g.@: @samp{rv64im}).  ISA strings must be"}]}