{"sha": "c67d36d0d71914f0b74f2962f9dbf9844cbd02e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzY3ZDM2ZDBkNzE5MTRmMGI3NGYyOTYyZjlkYmY5ODQ0Y2JkMDJlOA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2003-07-27T16:51:14Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2003-07-27T16:51:14Z"}, "message": "parser.c (cp_parser_type_parameter): Reformat.\n\n\t* parser.c (cp_parser_type_parameter): Reformat.\n\t(cp_parser_parameter_declaration): Deprecate default args where\n\tnot allowed.\n\nFrom-SVN: r69852", "tree": {"sha": "3b7cf8b87ccdf2b785ad5e2ce88efc2427f5ce53", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3b7cf8b87ccdf2b785ad5e2ce88efc2427f5ce53"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c67d36d0d71914f0b74f2962f9dbf9844cbd02e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c67d36d0d71914f0b74f2962f9dbf9844cbd02e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c67d36d0d71914f0b74f2962f9dbf9844cbd02e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c67d36d0d71914f0b74f2962f9dbf9844cbd02e8/comments", "author": null, "committer": null, "parents": [{"sha": "cc33095ccf077e836c7b061ed260ddd24375e708", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc33095ccf077e836c7b061ed260ddd24375e708", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc33095ccf077e836c7b061ed260ddd24375e708"}], "stats": {"total": 22, "additions": 15, "deletions": 7}, "files": [{"sha": "ad86f1aa5e02f7ba0fc61977917362c15b062e05", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c67d36d0d71914f0b74f2962f9dbf9844cbd02e8/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c67d36d0d71914f0b74f2962f9dbf9844cbd02e8/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c67d36d0d71914f0b74f2962f9dbf9844cbd02e8", "patch": "@@ -1,3 +1,9 @@\n+2003-07-27  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* parser.c (cp_parser_type_parameter): Reformat.\n+\t(cp_parser_parameter_declaration): Deprecate default args where\n+\tnot allowed.\n+\n 2003-07-26  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* cfns.h: Rebuilt."}, {"sha": "003b4fe87397d62814a46bae4104d6ef6575bf00", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c67d36d0d71914f0b74f2962f9dbf9844cbd02e8/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c67d36d0d71914f0b74f2962f9dbf9844cbd02e8/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=c67d36d0d71914f0b74f2962f9dbf9844cbd02e8", "patch": "@@ -7305,8 +7305,7 @@ cp_parser_type_parameter (cp_parser* parser)\n \n \t/* Create the combined representation of the parameter and the\n \t   default argument.  */\n-\tparameter = build_tree_list (default_argument, \n-\t\t\t\t     parameter);\n+\tparameter = build_tree_list (default_argument, parameter);\n       }\n       break;\n \n@@ -7365,8 +7364,7 @@ cp_parser_type_parameter (cp_parser* parser)\n \n \t/* Create the combined representation of the parameter and the\n \t   default argument.  */\n-\tparameter =  build_tree_list (default_argument, \n-\t\t\t\t      parameter);\n+\tparameter =  build_tree_list (default_argument, parameter);\n       }\n       break;\n \n@@ -10498,9 +10496,13 @@ cp_parser_parameter_declaration (cp_parser *parser,\n \t}\n       if (!parser->default_arg_ok_p)\n \t{\n-\t  pedwarn (\"default arguments are only permitted on functions\");\n-\t  if (flag_pedantic_errors)\n-\t    default_argument = NULL_TREE;\n+\t  if (!flag_pedantic_errors)\n+\t    warning (\"deprecated use of default argument for parameter of non-function\");\n+\t  else\n+\t    {\n+\t      error (\"default arguments are only permitted for function parameters\");\n+\t      default_argument = NULL_TREE;\n+\t    }\n \t}\n     }\n   else"}]}