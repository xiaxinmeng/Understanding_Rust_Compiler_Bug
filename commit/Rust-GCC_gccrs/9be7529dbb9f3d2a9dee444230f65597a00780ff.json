{"sha": "9be7529dbb9f3d2a9dee444230f65597a00780ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWJlNzUyOWRiYjlmM2QyYTlkZWU0NDQyMzBmNjU1OTdhMDA3ODBmZg==", "commit": {"author": {"name": "Jeff Sturm", "email": "jsturm@one-point.com", "date": "2001-07-03T23:44:07Z"}, "committer": {"name": "Jeff Sturm", "email": "jsturm@gcc.gnu.org", "date": "2001-07-03T23:44:07Z"}, "message": "parse.y (fix_constructors): Test if a CALL_EXPR invokes `this'.\n\n\t* java/parse.y (fix_constructors): Test if a CALL_EXPR invokes\n\t`this'.  If so, don't build instance initializers.\n\nFrom-SVN: r43743", "tree": {"sha": "349600e331227c75b50d39540f2068ebdcd7d248", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/349600e331227c75b50d39540f2068ebdcd7d248"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9be7529dbb9f3d2a9dee444230f65597a00780ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9be7529dbb9f3d2a9dee444230f65597a00780ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9be7529dbb9f3d2a9dee444230f65597a00780ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9be7529dbb9f3d2a9dee444230f65597a00780ff/comments", "author": null, "committer": null, "parents": [{"sha": "1abd48ad23759d5b372e0e540f02247e35246bae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1abd48ad23759d5b372e0e540f02247e35246bae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1abd48ad23759d5b372e0e540f02247e35246bae"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "54277b1785493f13739c058a37b6bad321579151", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9be7529dbb9f3d2a9dee444230f65597a00780ff/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9be7529dbb9f3d2a9dee444230f65597a00780ff/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=9be7529dbb9f3d2a9dee444230f65597a00780ff", "patch": "@@ -1,3 +1,8 @@\n+2001-07-03  Jeff Sturm  <jsturm@one-point.com>\n+\n+\t* parse.y (fix_constructors): Test if a CALL_EXPR invokes\n+\t`this'.  If so, don't build instance initializers.\n+\n 2001-06-28  Gabriel Dos Reis  <gdr@codesourcery.com>\n \n \t* lang.c: #include diagnostic.h"}, {"sha": "ac062ad1cbb1b6185cde50299b0928c11da45454", "filename": "gcc/java/parse.y", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9be7529dbb9f3d2a9dee444230f65597a00780ff/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9be7529dbb9f3d2a9dee444230f65597a00780ff/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=9be7529dbb9f3d2a9dee444230f65597a00780ff", "patch": "@@ -8558,6 +8558,7 @@ fix_constructors (mdecl)\n   else \n     {\n       int found = 0;\n+      int invokes_this = 0;\n       tree found_call = NULL_TREE;\n       tree main_block = BLOCK_EXPR_BODY (body);\n       tree ii;\t\t\t/* Instance Initializer */\n@@ -8567,6 +8568,8 @@ fix_constructors (mdecl)\n \t  {\n \t  case CALL_EXPR:\n \t    found = CALL_EXPLICIT_CONSTRUCTOR_P (body);\n+\t    if (CALL_THIS_CONSTRUCTOR_P (body))\n+\t      invokes_this = 1;\n \t    body = NULL_TREE;\n \t    break;\n \t  case COMPOUND_EXPR:\n@@ -8601,7 +8604,7 @@ fix_constructors (mdecl)\n \t}\n       \n       /* Insert the instance initializer block right after. */\n-      if ((ii = build_instance_initializer (mdecl)))\n+      if (!invokes_this && (ii = build_instance_initializer (mdecl)))\n \tcompound = add_stmt_to_compound (compound, NULL_TREE, ii);\n \n       /* Fix the constructor main block if we're adding extra stmts */"}]}