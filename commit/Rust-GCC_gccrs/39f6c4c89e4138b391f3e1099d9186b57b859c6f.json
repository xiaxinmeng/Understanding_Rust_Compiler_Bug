{"sha": "39f6c4c89e4138b391f3e1099d9186b57b859c6f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzlmNmM0Yzg5ZTQxMzhiMzkxZjNlMTA5OWQ5MTg2YjU3Yjg1OWM2Zg==", "commit": {"author": {"name": "Krister Walfridsson", "email": "cato@df.lth.se", "date": "2003-04-24T18:35:45Z"}, "committer": {"name": "Krister Walfridsson", "email": "kristerw@gcc.gnu.org", "date": "2003-04-24T18:35:45Z"}, "message": "configure.in: Check whether mbstowcs works.\n\n2003-04-24  Krister Walfridsson  <cato@df.lth.se>\n\n        * configure.in: Check whether mbstowcs works.\n        * configure, config.in: Regenerate.\n        * intl.c: Use HAVE_WORKING_MBSTOWCS.\n\nFrom-SVN: r66045", "tree": {"sha": "198911fb1922f9f9eee060bc9c3ca96b58e95957", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/198911fb1922f9f9eee060bc9c3ca96b58e95957"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/39f6c4c89e4138b391f3e1099d9186b57b859c6f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39f6c4c89e4138b391f3e1099d9186b57b859c6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39f6c4c89e4138b391f3e1099d9186b57b859c6f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39f6c4c89e4138b391f3e1099d9186b57b859c6f/comments", "author": null, "committer": null, "parents": [{"sha": "bcea76b65d860c0eeb74cdef3342b9b921bd11c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bcea76b65d860c0eeb74cdef3342b9b921bd11c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bcea76b65d860c0eeb74cdef3342b9b921bd11c0"}], "stats": {"total": 432, "additions": 251, "deletions": 181}, "files": [{"sha": "c6f151ebe3164396f27b7685867195ca2fc91ff3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39f6c4c89e4138b391f3e1099d9186b57b859c6f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39f6c4c89e4138b391f3e1099d9186b57b859c6f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=39f6c4c89e4138b391f3e1099d9186b57b859c6f", "patch": "@@ -1,3 +1,9 @@\n+2003-04-24  Krister Walfridsson  <cato@df.lth.se>\n+\n+\t* configure.in: Check whether mbstowcs works.\n+\t* configure, config.in: Regenerate.\n+\t* intl.c: Use HAVE_WORKING_MBSTOWCS.\n+\n 2003-04-24  H.J. Lu <hjl@gnu.org>\n \n \t* config/ia64/ia64.c (ia64_init_builtins): Add si_ftype_pdi_di_di"}, {"sha": "ccaad9ee7b09d0787a94a45611345e17ab44379a", "filename": "gcc/config.in", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39f6c4c89e4138b391f3e1099d9186b57b859c6f/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39f6c4c89e4138b391f3e1099d9186b57b859c6f/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=39f6c4c89e4138b391f3e1099d9186b57b859c6f", "patch": "@@ -397,6 +397,10 @@\n /* Define if you have a working <inttypes.h> header file. */\n #undef HAVE_INTTYPES_H\n \n+/* Define this macro if mbstowcs does not crash when its\n+   first argument is NULL. */\n+#undef HAVE_WORKING_MBSTOWCS\n+\n /* Define if printf supports %p. */\n #undef HAVE_PRINTF_PTR\n "}, {"sha": "915f5523bf6c3f5794590281f496eb21103c8417", "filename": "gcc/configure", "status": "modified", "additions": 222, "deletions": 180, "changes": 402, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39f6c4c89e4138b391f3e1099d9186b57b859c6f/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39f6c4c89e4138b391f3e1099d9186b57b859c6f/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=39f6c4c89e4138b391f3e1099d9186b57b859c6f", "patch": "@@ -3770,13 +3770,55 @@ fi\n done\n \n \n+if test x$ac_cv_func_mbstowcs = xyes; then\n+  echo $ac_n \"checking whether mbstowcs works\"\"... $ac_c\" 1>&6\n+echo \"configure:3776: checking whether mbstowcs works\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_func_mbstowcs_works'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+      if test \"$cross_compiling\" = yes; then\n+  gcc_cv_func_mbstowcs_works=yes\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 3784 \"configure\"\n+#include \"confdefs.h\"\n+#include <stdlib.h>\n+int main()\n+{\n+  mbstowcs(0, \"\", 0);\n+  return 0;\n+}\n+EOF\n+if { (eval echo configure:3793: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+then\n+  gcc_cv_func_mbstowcs_works=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -fr conftest*\n+  gcc_cv_func_mbstowcs_works=no\n+fi\n+rm -fr conftest*\n+fi\n+\n+fi\n+\n+echo \"$ac_t\"\"$gcc_cv_func_mbstowcs_works\" 1>&6\n+  if test x$gcc_cv_func_mbstowcs_works = xyes; then\n+    cat >> confdefs.h <<\\EOF\n+#define HAVE_WORKING_MBSTOWCS 1\n+EOF\n+\n+  fi\n+fi\n+\n echo $ac_n \"checking for ssize_t\"\"... $ac_c\" 1>&6\n-echo \"configure:3775: checking for ssize_t\" >&5\n+echo \"configure:3817: checking for ssize_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_ssize_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3780 \"configure\"\n+#line 3822 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -3807,12 +3849,12 @@ fi\n # Try to determine the array type of the second argument of getgroups\n # for the target system (int or gid_t).\n echo $ac_n \"checking for uid_t in sys/types.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3811: checking for uid_t in sys/types.h\" >&5\n+echo \"configure:3853: checking for uid_t in sys/types.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_uid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3816 \"configure\"\n+#line 3858 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n EOF\n@@ -3841,15 +3883,15 @@ EOF\n fi\n \n echo $ac_n \"checking type of array argument to getgroups\"\"... $ac_c\" 1>&6\n-echo \"configure:3845: checking type of array argument to getgroups\" >&5\n+echo \"configure:3887: checking type of array argument to getgroups\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_getgroups'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_type_getgroups=cross\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3853 \"configure\"\n+#line 3895 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Rendell for this test.  */\n@@ -3874,7 +3916,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:3878: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3920: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n     ac_cv_type_getgroups=gid_t\n else\n@@ -3888,7 +3930,7 @@ fi\n \n if test $ac_cv_type_getgroups = cross; then\n         cat > conftest.$ac_ext <<EOF\n-#line 3892 \"configure\"\n+#line 3934 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n EOF\n@@ -3929,15 +3971,15 @@ fi\n \n \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:3933: checking whether the printf functions support %p\" >&5\n+echo \"configure:3975: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3941 \"configure\"\n+#line 3983 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -3950,7 +3992,7 @@ int main()\n   return (p != q);\n }\n EOF\n-if { (eval echo configure:3954: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3996: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -3988,12 +4030,12 @@ case \"${host}\" in\n   ;;\n esac\n echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:3992: checking for pid_t\" >&5\n+echo \"configure:4034: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3997 \"configure\"\n+#line 4039 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -4022,17 +4064,17 @@ fi\n \n ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:4026: checking for vfork.h\" >&5\n+echo \"configure:4068: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4031 \"configure\"\n+#line 4073 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:4036: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:4078: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -4057,18 +4099,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:4061: checking for working vfork\" >&5\n+echo \"configure:4103: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:4067: checking for vfork\" >&5\n+echo \"configure:4109: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4072 \"configure\"\n+#line 4114 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -4091,7 +4133,7 @@ vfork();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4095: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4137: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -4113,7 +4155,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4117 \"configure\"\n+#line 4159 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -4208,7 +4250,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:4212: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4254: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -4233,12 +4275,12 @@ fi\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:4237: checking for $ac_func\" >&5\n+echo \"configure:4279: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4242 \"configure\"\n+#line 4284 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -4261,7 +4303,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4265: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4307: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4532,7 +4574,7 @@ main ()\n EOF\n \n echo $ac_n \"checking for working mmap from /dev/zero\"\"... $ac_c\" 1>&6\n-echo \"configure:4536: checking for working mmap from /dev/zero\" >&5\n+echo \"configure:4578: checking for working mmap from /dev/zero\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_dev_zero'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4547,11 +4589,11 @@ else\n   esac\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4551 \"configure\"\n+#line 4593 \"configure\"\n #include \"confdefs.h\"\n #include \"ct-mmap.inc\"\n EOF\n-if { (eval echo configure:4555: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4597: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_dev_zero=yes\n else\n@@ -4578,7 +4620,7 @@ EOF\n fi\n \n echo $ac_n \"checking for working mmap with MAP_ANON(YMOUS)\"\"... $ac_c\" 1>&6\n-echo \"configure:4582: checking for working mmap with MAP_ANON(YMOUS)\" >&5\n+echo \"configure:4624: checking for working mmap with MAP_ANON(YMOUS)\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_anon'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4591,12 +4633,12 @@ else\n   esac\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4595 \"configure\"\n+#line 4637 \"configure\"\n #include \"confdefs.h\"\n #define USE_MAP_ANON\n #include \"ct-mmap.inc\"\n EOF\n-if { (eval echo configure:4600: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4642: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_anon=yes\n else\n@@ -4624,7 +4666,7 @@ fi\n rm -f ct-mmap.inc\n \n echo $ac_n \"checking for working mmap of a file\"\"... $ac_c\" 1>&6\n-echo \"configure:4628: checking for working mmap of a file\" >&5\n+echo \"configure:4670: checking for working mmap of a file\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_file'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4642,7 +4684,7 @@ if test \"$cross_compiling\" = yes; then\n   esac\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4646 \"configure\"\n+#line 4688 \"configure\"\n #include \"confdefs.h\"\n \n /* Test by Zack Weinberg.  Modified from MMAP_ANYWHERE test by\n@@ -4679,7 +4721,7 @@ int main()\n   exit(0);\n }\n EOF\n-if { (eval echo configure:4683: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4725: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_file=yes\n else\n@@ -4718,15 +4760,15 @@ fi\n \n \n   echo $ac_n \"checking for iconv\"\"... $ac_c\" 1>&6\n-echo \"configure:4722: checking for iconv\" >&5\n+echo \"configure:4764: checking for iconv\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_func_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n     am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n     am_cv_lib_iconv=no\n     cat > conftest.$ac_ext <<EOF\n-#line 4730 \"configure\"\n+#line 4772 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -4736,7 +4778,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n        iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:4740: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4782: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_func_iconv=yes\n else\n@@ -4748,7 +4790,7 @@ rm -f conftest*\n       am_save_LIBS=\"$LIBS\"\n       LIBS=\"$LIBS $am_cv_libiconv_ldpath -liconv\"\n       cat > conftest.$ac_ext <<EOF\n-#line 4752 \"configure\"\n+#line 4794 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -4758,7 +4800,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n          iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:4762: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4804: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_lib_iconv=yes\n         am_cv_func_iconv=yes\n@@ -4779,13 +4821,13 @@ echo \"$ac_t\"\"$am_cv_func_iconv\" 1>&6\n EOF\n \n     echo $ac_n \"checking for iconv declaration\"\"... $ac_c\" 1>&6\n-echo \"configure:4783: checking for iconv declaration\" >&5\n+echo \"configure:4825: checking for iconv declaration\" >&5\n     if eval \"test \\\"`echo '$''{'am_cv_proto_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n       cat > conftest.$ac_ext <<EOF\n-#line 4789 \"configure\"\n+#line 4831 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdlib.h>\n@@ -4804,7 +4846,7 @@ int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4808: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4850: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   am_cv_proto_iconv_arg1=\"\"\n else\n@@ -4842,12 +4884,12 @@ for ac_func in getenv atol sbrk abort atof getcwd getwd \\\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:4846: checking whether $ac_func is declared\" >&5\n+echo \"configure:4888: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4851 \"configure\"\n+#line 4893 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -4861,7 +4903,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:4865: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4907: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -4963,12 +5005,12 @@ for ac_func in getrlimit setrlimit getrusage\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:4967: checking whether $ac_func is declared\" >&5\n+echo \"configure:5009: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4972 \"configure\"\n+#line 5014 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -4986,7 +5028,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:4990: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5032: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -5025,7 +5067,7 @@ fi\n \n \n cat > conftest.$ac_ext <<EOF\n-#line 5029 \"configure\"\n+#line 5071 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -5038,7 +5080,7 @@ int main() {\n rlim_t l = 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:5042: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5084: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   :\n else\n   echo \"configure: failed program was:\" >&5\n@@ -5055,12 +5097,12 @@ for ac_func in ldgetname\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:5059: checking whether $ac_func is declared\" >&5\n+echo \"configure:5101: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5064 \"configure\"\n+#line 5106 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -5078,7 +5120,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:5082: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5124: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -5114,12 +5156,12 @@ for ac_func in times\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:5118: checking whether $ac_func is declared\" >&5\n+echo \"configure:5160: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5123 \"configure\"\n+#line 5165 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -5137,7 +5179,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:5141: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5183: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -5171,13 +5213,13 @@ fi\n \n # More time-related stuff.\n echo $ac_n \"checking for struct tms\"\"... $ac_c\" 1>&6\n-echo \"configure:5175: checking for struct tms\" >&5\n+echo \"configure:5217: checking for struct tms\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_tms'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n cat > conftest.$ac_ext <<EOF\n-#line 5181 \"configure\"\n+#line 5223 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -5190,7 +5232,7 @@ int main() {\n struct tms tms;\n ; return 0; }\n EOF\n-if { (eval echo configure:5194: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5236: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_tms=yes\n else\n@@ -5213,13 +5255,13 @@ fi\n # use gcc_cv_* here because this doesn't match the behavior of AC_CHECK_TYPE.\n # revisit after autoconf 2.50.\n echo $ac_n \"checking for clock_t\"\"... $ac_c\" 1>&6\n-echo \"configure:5217: checking for clock_t\" >&5\n+echo \"configure:5259: checking for clock_t\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_type_clock_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n cat > conftest.$ac_ext <<EOF\n-#line 5223 \"configure\"\n+#line 5265 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -5229,7 +5271,7 @@ int main() {\n clock_t x;\n ; return 0; }\n EOF\n-if { (eval echo configure:5233: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5275: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_type_clock_t=yes\n else\n@@ -5250,12 +5292,12 @@ EOF\n fi\n \n echo $ac_n \"checking for uchar\"\"... $ac_c\" 1>&6\n-echo \"configure:5254: checking for uchar\" >&5\n+echo \"configure:5296: checking for uchar\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_type_uchar'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5259 \"configure\"\n+#line 5301 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -5266,7 +5308,7 @@ if ((uchar *)0) return 0;\n  if (sizeof(uchar)) return 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:5270: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5312: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_type_uchar=yes\n else\n@@ -5296,23 +5338,23 @@ if test \"${enable_initfini_array+set}\" = set; then\n else\n   \n echo $ac_n \"checking for .preinit_array/.init_array/.fini_array support\"\"... $ac_c\" 1>&6\n-echo \"configure:5300: checking for .preinit_array/.init_array/.fini_array support\" >&5\n+echo \"configure:5342: checking for .preinit_array/.init_array/.fini_array support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_initfini_array'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n     if test \"$cross_compiling\" = yes; then\n   gcc_cv_initfini_array=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5308 \"configure\"\n+#line 5350 \"configure\"\n #include \"confdefs.h\"\n \n static int x = -1;\n int main (void) { return x; }\n int foo (void) { x = 0; }\n int (*fp) (void) __attribute__ ((section (\".init_array\"))) = foo;\n EOF\n-if { (eval echo configure:5316: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:5358: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_initfini_array=yes\n else\n@@ -5340,12 +5382,12 @@ fi\n \n # mkdir takes a single argument on some systems. \n echo $ac_n \"checking if mkdir takes one argument\"\"... $ac_c\" 1>&6\n-echo \"configure:5344: checking if mkdir takes one argument\" >&5\n+echo \"configure:5386: checking if mkdir takes one argument\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_mkdir_takes_one_arg'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5349 \"configure\"\n+#line 5391 \"configure\"\n #include \"confdefs.h\"\n \n #include <sys/types.h>\n@@ -5362,7 +5404,7 @@ int main() {\n mkdir (\"foo\", 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:5366: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5408: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_mkdir_takes_one_arg=no\n else\n@@ -5402,22 +5444,22 @@ fi\n \n \n echo $ac_n \"checking for main in -lunwind\"\"... $ac_c\" 1>&6\n-echo \"configure:5406: checking for main in -lunwind\" >&5\n+echo \"configure:5448: checking for main in -lunwind\" >&5\n ac_lib_var=`echo unwind'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lunwind  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5414 \"configure\"\n+#line 5456 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:5421: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5463: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -5714,14 +5756,14 @@ fi\n \n             \n echo $ac_n \"checking for library containing strerror\"\"... $ac_c\" 1>&6\n-echo \"configure:5718: checking for library containing strerror\" >&5\n+echo \"configure:5760: checking for library containing strerror\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_strerror'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_strerror=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 5725 \"configure\"\n+#line 5767 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5732,7 +5774,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:5736: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5778: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_strerror=\"none required\"\n else\n@@ -5743,7 +5785,7 @@ rm -f conftest*\n test \"$ac_cv_search_strerror\" = \"no\" && for i in cposix; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5747 \"configure\"\n+#line 5789 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5754,7 +5796,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:5758: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5800: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_strerror=\"-l$i\"\n break\n@@ -5777,12 +5819,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:5781: checking for working const\" >&5\n+echo \"configure:5823: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5786 \"configure\"\n+#line 5828 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -5831,7 +5873,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5835: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5877: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -5852,12 +5894,12 @@ EOF\n fi\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:5856: checking for off_t\" >&5\n+echo \"configure:5898: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5861 \"configure\"\n+#line 5903 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -5885,12 +5927,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:5889: checking for size_t\" >&5\n+echo \"configure:5931: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5894 \"configure\"\n+#line 5936 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -5920,19 +5962,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:5924: checking for working alloca.h\" >&5\n+echo \"configure:5966: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5929 \"configure\"\n+#line 5971 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:5936: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5978: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -5953,12 +5995,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:5957: checking for alloca\" >&5\n+echo \"configure:5999: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5962 \"configure\"\n+#line 6004 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -5986,7 +6028,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:5990: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6032: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -6018,12 +6060,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:6022: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:6064: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6027 \"configure\"\n+#line 6069 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -6048,12 +6090,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6052: checking for $ac_func\" >&5\n+echo \"configure:6094: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6057 \"configure\"\n+#line 6099 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6076,7 +6118,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6080: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6122: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6103,15 +6145,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6107: checking stack direction for C alloca\" >&5\n+echo \"configure:6149: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6115 \"configure\"\n+#line 6157 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -6130,7 +6172,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:6134: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:6176: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -6153,12 +6195,12 @@ fi\n \n \n     echo $ac_n \"checking whether we are using the GNU C Library 2.1 or newer\"\"... $ac_c\" 1>&6\n-echo \"configure:6157: checking whether we are using the GNU C Library 2.1 or newer\" >&5\n+echo \"configure:6199: checking whether we are using the GNU C Library 2.1 or newer\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_gnu_library_2_1'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6162 \"configure\"\n+#line 6204 \"configure\"\n #include \"confdefs.h\"\n \n #include <features.h>\n@@ -6194,17 +6236,17 @@ stdlib.h string.h unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:6198: checking for $ac_hdr\" >&5\n+echo \"configure:6240: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6203 \"configure\"\n+#line 6245 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6208: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6250: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6235,12 +6277,12 @@ getgid getuid mempcpy munmap putenv setenv setlocale stpcpy strchr strcasecmp \\\n strdup strtoul tsearch __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6239: checking for $ac_func\" >&5\n+echo \"configure:6281: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6244 \"configure\"\n+#line 6286 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6263,7 +6305,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6267: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6309: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6304,15 +6346,15 @@ fi\n \n \n   echo $ac_n \"checking for iconv\"\"... $ac_c\" 1>&6\n-echo \"configure:6308: checking for iconv\" >&5\n+echo \"configure:6350: checking for iconv\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_func_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n     am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n     am_cv_lib_iconv=no\n     cat > conftest.$ac_ext <<EOF\n-#line 6316 \"configure\"\n+#line 6358 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -6322,7 +6364,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n        iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:6326: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6368: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_func_iconv=yes\n else\n@@ -6334,7 +6376,7 @@ rm -f conftest*\n       am_save_LIBS=\"$LIBS\"\n       LIBS=\"$LIBS $am_cv_libiconv_ldpath -liconv\"\n       cat > conftest.$ac_ext <<EOF\n-#line 6338 \"configure\"\n+#line 6380 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -6344,7 +6386,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n          iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:6348: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6390: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_lib_iconv=yes\n         am_cv_func_iconv=yes\n@@ -6365,13 +6407,13 @@ echo \"$ac_t\"\"$am_cv_func_iconv\" 1>&6\n EOF\n \n     echo $ac_n \"checking for iconv declaration\"\"... $ac_c\" 1>&6\n-echo \"configure:6369: checking for iconv declaration\" >&5\n+echo \"configure:6411: checking for iconv declaration\" >&5\n     if eval \"test \\\"`echo '$''{'am_cv_proto_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n       cat > conftest.$ac_ext <<EOF\n-#line 6375 \"configure\"\n+#line 6417 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdlib.h>\n@@ -6390,7 +6432,7 @@ int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6394: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6436: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   am_cv_proto_iconv_arg1=\"\"\n else\n@@ -6419,19 +6461,19 @@ EOF\n \n    \n   echo $ac_n \"checking for nl_langinfo and CODESET\"\"... $ac_c\" 1>&6\n-echo \"configure:6423: checking for nl_langinfo and CODESET\" >&5\n+echo \"configure:6465: checking for nl_langinfo and CODESET\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_langinfo_codeset'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6428 \"configure\"\n+#line 6470 \"configure\"\n #include \"confdefs.h\"\n #include <langinfo.h>\n int main() {\n char* cs = nl_langinfo(CODESET);\n ; return 0; }\n EOF\n-if { (eval echo configure:6435: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6477: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_langinfo_codeset=yes\n else\n@@ -6454,19 +6496,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:6458: checking for LC_MESSAGES\" >&5\n+echo \"configure:6500: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6463 \"configure\"\n+#line 6505 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:6470: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6512: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -6487,7 +6529,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6491: checking whether NLS is requested\" >&5\n+echo \"configure:6533: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -6510,7 +6552,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6514: checking whether included gettext is requested\" >&5\n+echo \"configure:6556: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -6530,17 +6572,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6534: checking for libintl.h\" >&5\n+echo \"configure:6576: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6539 \"configure\"\n+#line 6581 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6544: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6586: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6561,12 +6603,12 @@ if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n EOF\n \n            echo $ac_n \"checking for GNU gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:6565: checking for GNU gettext in libc\" >&5\n+echo \"configure:6607: checking for GNU gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gnugettext1_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6570 \"configure\"\n+#line 6612 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n extern int _nl_msg_cat_cntr;\n@@ -6575,7 +6617,7 @@ bindtextdomain (\"\", \"\");\n return (int) gettext (\"\") + _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:6579: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6621: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gnugettext1_libc=yes\n else\n@@ -6591,14 +6633,14 @@ echo \"$ac_t\"\"$gt_cv_func_gnugettext1_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gnugettext1_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for GNU gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:6595: checking for GNU gettext in libintl\" >&5\n+echo \"configure:6637: checking for GNU gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gnugettext1_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gt_save_LIBS=\"$LIBS\"\n \t\tLIBS=\"$LIBS -lintl $LIBICONV\"\n \t\tcat > conftest.$ac_ext <<EOF\n-#line 6602 \"configure\"\n+#line 6644 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n extern int _nl_msg_cat_cntr;\n@@ -6607,7 +6649,7 @@ bindtextdomain (\"\", \"\");\n return (int) gettext (\"\") + _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:6611: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6653: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gnugettext1_libintl=yes\n else\n@@ -6640,12 +6682,12 @@ EOF\n \t     for ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6644: checking for $ac_func\" >&5\n+echo \"configure:6686: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6649 \"configure\"\n+#line 6691 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6668,7 +6710,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6672: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6714: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6697,7 +6739,7 @@ done\n \t     \t     # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6701: checking for $ac_word\" >&5\n+echo \"configure:6743: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6731,7 +6773,7 @@ fi\n \t     # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6735: checking for $ac_word\" >&5\n+echo \"configure:6777: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6768,7 +6810,7 @@ fi\n \t     \t     # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6772: checking for $ac_word\" >&5\n+echo \"configure:6814: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6818,7 +6860,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6822: checking for $ac_word\" >&5\n+echo \"configure:6864: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6852,7 +6894,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6856: checking for $ac_word\" >&5\n+echo \"configure:6898: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6888,7 +6930,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6892: checking for $ac_word\" >&5\n+echo \"configure:6934: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6960,7 +7002,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6964: checking for $ac_word\" >&5\n+echo \"configure:7006: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_INTLBISON'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6993,7 +7035,7 @@ done\n       ac_verc_fail=yes\n     else\n             echo $ac_n \"checking version of bison\"\"... $ac_c\" 1>&6\n-echo \"configure:6997: checking version of bison\" >&5\n+echo \"configure:7039: checking version of bison\" >&5\n       ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \\([0-9]*\\.[0-9.]*\\).*$/\\1/p'`\n       case $ac_prog_version in\n         '') ac_prog_version=\"v. ?.??, bad\"; ac_verc_fail=yes;;\n@@ -7038,7 +7080,7 @@ EOF\n \n          if test \"x$CATOBJEXT\" != x; then\n      echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:7042: checking for catalogs to be installed\" >&5\n+echo \"configure:7084: checking for catalogs to be installed\" >&5\n      # Look for .po and .gmo files in the source directory.\n      CATALOGS=\n      XLINGUAS=\n@@ -7096,7 +7138,7 @@ fi\n case $host_os in\n \twin32 | pe | cygwin* | mingw32* | uwin*)\n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7100: checking whether windows registry support is requested\" >&5\n+echo \"configure:7142: checking whether windows registry support is requested\" >&5\n if test \"x$enable_win32_registry\" != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -7105,14 +7147,14 @@ EOF\n   echo \"$ac_t\"\"yes\" 1>&6\n   \n echo $ac_n \"checking for library containing RegOpenKeyExA\"\"... $ac_c\" 1>&6\n-echo \"configure:7109: checking for library containing RegOpenKeyExA\" >&5\n+echo \"configure:7151: checking for library containing RegOpenKeyExA\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_RegOpenKeyExA'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_RegOpenKeyExA=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 7116 \"configure\"\n+#line 7158 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7123,7 +7165,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:7127: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7169: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"none required\"\n else\n@@ -7134,7 +7176,7 @@ rm -f conftest*\n test \"$ac_cv_search_RegOpenKeyExA\" = \"no\" && for i in advapi32; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7138 \"configure\"\n+#line 7180 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7145,7 +7187,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:7149: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7191: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"-l$i\"\n break\n@@ -7187,7 +7229,7 @@ esac\n \n if test \"x$enable_win32_registry\" != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:7191: checking registry key on windows hosts\" >&5\n+echo \"configure:7233: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -7396,7 +7438,7 @@ esac\n # build->target assembler and hope that it will have the same features\n # as the host->target assembler we'll be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7400: checking what assembler to use\" >&5\n+echo \"configure:7442: checking what assembler to use\" >&5\n in_tree_gas=no\n gcc_cv_as=\n gcc_cv_gas_major_version=\n@@ -7507,7 +7549,7 @@ esac\n # build->target linker and hope that it will have the same features\n # as the host->target linker we'll be using.\n echo $ac_n \"checking what linker to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7511: checking what linker to use\" >&5\n+echo \"configure:7553: checking what linker to use\" >&5\n in_tree_ld=no\n gcc_cv_ld=\n gcc_cv_gld_major_version=\n@@ -7610,7 +7652,7 @@ esac\n # Figure out what nm we will be using.\n gcc_cv_binutils_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/binutils\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7614: checking what nm to use\" >&5\n+echo \"configure:7656: checking what nm to use\" >&5\n in_tree_nm=no\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n@@ -7633,7 +7675,7 @@ esac\n \n # Figure out what objdump we will be using.\n echo $ac_n \"checking what objdump to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7637: checking what objdump to use\" >&5\n+echo \"configure:7679: checking what objdump to use\" >&5\n in_tree_objdump=no\n if test -x objdump$host_exeext; then\n \tgcc_cv_objdump=./objdump$host_exeext\n@@ -7658,7 +7700,7 @@ esac\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:7662: checking assembler alignment features\" >&5\n+echo \"configure:7704: checking assembler alignment features\" >&5\n gcc_cv_as_alignment_features=none\n if test $in_tree_gas = yes; then\n   # Gas version 2.6 and later support for .balign and .p2align.\n@@ -7719,7 +7761,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:7723: checking assembler subsection support\" >&5\n+echo \"configure:7765: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -7768,7 +7810,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:7772: checking assembler weak support\" >&5\n+echo \"configure:7814: checking assembler weak support\" >&5\n gcc_cv_as_weak=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -7798,7 +7840,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:7802: checking assembler hidden support\" >&5\n+echo \"configure:7844: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -7879,7 +7921,7 @@ esac\n \n \n echo $ac_n \"checking assembler leb128 support\"\"... $ac_c\" 1>&6\n-echo \"configure:7883: checking assembler leb128 support\" >&5\n+echo \"configure:7925: checking assembler leb128 support\" >&5\n gcc_cv_as_leb128=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -7933,7 +7975,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_leb128\" 1>&6\n \n echo $ac_n \"checking assembler eh_frame optimization\"\"... $ac_c\" 1>&6\n-echo \"configure:7937: checking assembler eh_frame optimization\" >&5\n+echo \"configure:7979: checking assembler eh_frame optimization\" >&5\n gcc_cv_as_eh_frame=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8023,7 +8065,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_eh_frame\" 1>&6\n \n echo $ac_n \"checking assembler section merging support\"\"... $ac_c\" 1>&6\n-echo \"configure:8027: checking assembler section merging support\" >&5\n+echo \"configure:8069: checking assembler section merging support\" >&5\n gcc_cv_as_shf_merge=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8055,7 +8097,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_shf_merge\" 1>&6\n \n echo $ac_n \"checking assembler thread-local storage support\"\"... $ac_c\" 1>&6\n-echo \"configure:8059: checking assembler thread-local storage support\" >&5\n+echo \"configure:8101: checking assembler thread-local storage support\" >&5\n gcc_cv_as_tls=no\n conftest_s=\n tls_first_major=\n@@ -8202,7 +8244,7 @@ case \"$target\" in\n   # All TARGET_ABI_OSF targets.\n   alpha*-*-osf* | alpha*-*-linux* | alpha*-*-*bsd*)\n     echo $ac_n \"checking assembler supports explicit relocations\"\"... $ac_c\" 1>&6\n-echo \"configure:8206: checking assembler supports explicit relocations\" >&5\n+echo \"configure:8248: checking assembler supports explicit relocations\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8255,7 +8297,7 @@ EOF\n     ;;\n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:8259: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:8301: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8283,7 +8325,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler supports -relax\"\"... $ac_c\" 1>&6\n-echo \"configure:8287: checking assembler supports -relax\" >&5\n+echo \"configure:8329: checking assembler supports -relax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_relax_opt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8311,7 +8353,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler and linker support unaligned pc related relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:8315: checking assembler and linker support unaligned pc related relocs\" >&5\n+echo \"configure:8357: checking assembler and linker support unaligned pc related relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8338,7 +8380,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler and linker support unaligned pc related relocs against hidden symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:8342: checking assembler and linker support unaligned pc related relocs against hidden symbols\" >&5\n+echo \"configure:8384: checking assembler and linker support unaligned pc related relocs against hidden symbols\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8378,7 +8420,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:8382: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:8424: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8417,7 +8459,7 @@ EOF\n \n   i[34567]86-*-* | x86_64-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:8421: checking assembler instructions\" >&5\n+echo \"configure:8463: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test $in_tree_gas = yes ; then \n        if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8451,7 +8493,7 @@ EOF\n     echo \"$ac_t\"\"$gcc_cv_as_instructions\" 1>&6\n \n     echo $ac_n \"checking assembler GOTOFF in data directives\"\"... $ac_c\" 1>&6\n-echo \"configure:8455: checking assembler GOTOFF in data directives\" >&5\n+echo \"configure:8497: checking assembler GOTOFF in data directives\" >&5\n     gcc_cv_as_gotoff_in_data=no\n     if test $in_tree_gas = yes ; then\n        if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8485,7 +8527,7 @@ EOF\n \n   ia64*-*-*)\n     echo $ac_n \"checking assembler supports ltoffx and ldxmov\"\"... $ac_c\" 1>&6\n-echo \"configure:8489: checking assembler supports ltoffx and ldxmov\" >&5\n+echo \"configure:8531: checking assembler supports ltoffx and ldxmov\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ltoffx_ldxmov_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8530,7 +8572,7 @@ EOF\n esac\n \n echo $ac_n \"checking assembler dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:8534: checking assembler dwarf2 debug_line support\" >&5\n+echo \"configure:8576: checking assembler dwarf2 debug_line support\" >&5\n gcc_cv_as_dwarf2_debug_line=no\n # ??? Not all targets support dwarf2 debug_line, even within a version\n # of gas.  Moreover, we need to emit a valid instruction to trigger any\n@@ -8592,7 +8634,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_dwarf2_debug_line\" 1>&6\n \n echo $ac_n \"checking assembler --gdwarf2 support\"\"... $ac_c\" 1>&6\n-echo \"configure:8596: checking assembler --gdwarf2 support\" >&5\n+echo \"configure:8638: checking assembler --gdwarf2 support\" >&5\n gcc_cv_as_gdwarf2_flag=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8626,7 +8668,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_gdwarf2_flag\" 1>&6\n \n echo $ac_n \"checking assembler --gstabs support\"\"... $ac_c\" 1>&6\n-echo \"configure:8630: checking assembler --gstabs support\" >&5\n+echo \"configure:8672: checking assembler --gstabs support\" >&5\n gcc_cv_as_gstabs_flag=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8659,7 +8701,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_gstabs_flag\" 1>&6\n \n echo $ac_n \"checking linker read-only and read-write section mixing\"\"... $ac_c\" 1>&6\n-echo \"configure:8663: checking linker read-only and read-write section mixing\" >&5\n+echo \"configure:8705: checking linker read-only and read-write section mixing\" >&5\n gcc_cv_ld_ro_rw_mix=unknown\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 10 -o \"$gcc_cv_gld_major_version\" -gt 2 && grep 'EMUL = elf' ../ld/Makefile > /dev/null; then\n@@ -8697,7 +8739,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_ro_rw_mix\" 1>&6\n \n echo $ac_n \"checking linker PT_GNU_EH_FRAME support\"\"... $ac_c\" 1>&6\n-echo \"configure:8701: checking linker PT_GNU_EH_FRAME support\" >&5\n+echo \"configure:8743: checking linker PT_GNU_EH_FRAME support\" >&5\n gcc_cv_ld_eh_frame_hdr=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 12 -o \"$gcc_cv_gld_major_version\" -gt 2 && grep 'EMUL = elf' ../ld/Makefile > /dev/null; then\n@@ -8721,7 +8763,7 @@ echo \"$ac_t\"\"$gcc_cv_ld_eh_frame_hdr\" 1>&6\n case \"$target\" in\n   mips*-*-*)\n     echo $ac_n \"checking whether libgloss uses STARTUP directives consistently\"\"... $ac_c\" 1>&6\n-echo \"configure:8725: checking whether libgloss uses STARTUP directives consistently\" >&5\n+echo \"configure:8767: checking whether libgloss uses STARTUP directives consistently\" >&5\n     gcc_cv_mips_libgloss_startup=no\n     gcc_cv_libgloss_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/libgloss\n     if test \"x$exec_prefix\" = xNONE; then\n@@ -8926,7 +8968,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:8930: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:8972: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "fefc7a1555e46fbbda926e806c0408c9c18521c6", "filename": "gcc/configure.in", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39f6c4c89e4138b391f3e1099d9186b57b859c6f/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39f6c4c89e4138b391f3e1099d9186b57b859c6f/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=39f6c4c89e4138b391f3e1099d9186b57b859c6f", "patch": "@@ -789,6 +789,24 @@ AC_CHECK_FUNCS(times clock dup2 kill getrlimit setrlimit atoll atoq \\\n \tfwrite_unlocked fprintf_unlocked getrusage nl_langinfo lstat \\\n         scandir alphasort gettimeofday mbstowcs wcswidth)\n \n+if test x$ac_cv_func_mbstowcs = xyes; then\n+  AC_CACHE_CHECK(whether mbstowcs works, gcc_cv_func_mbstowcs_works,\n+[    AC_TRY_RUN([#include <stdlib.h>\n+int main()\n+{\n+  mbstowcs(0, \"\", 0);\n+  return 0;\n+}],\n+    gcc_cv_func_mbstowcs_works=yes,\n+    gcc_cv_func_mbstowcs_works=no,\n+    gcc_cv_func_mbstowcs_works=yes)])\n+  if test x$gcc_cv_func_mbstowcs_works = xyes; then\n+    AC_DEFINE(HAVE_WORKING_MBSTOWCS, 1,\n+  [Define this macro if mbstowcs does not crash when its\n+   first argument is NULL.])\n+  fi\n+fi\n+\n AC_CHECK_TYPE(ssize_t, int)\n \n # Try to determine the array type of the second argument of getgroups"}, {"sha": "3bda5cef7de5c39177ec8431f5d7541a61907cb9", "filename": "gcc/intl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39f6c4c89e4138b391f3e1099d9186b57b859c6f/gcc%2Fintl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39f6c4c89e4138b391f3e1099d9186b57b859c6f/gcc%2Fintl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintl.c?ref=39f6c4c89e4138b391f3e1099d9186b57b859c6f", "patch": "@@ -45,7 +45,7 @@ gcc_init_libintl ()\n   (void) textdomain (\"gcc\");\n }\n \n-#if defined HAVE_WCHAR_H && defined HAVE_MBSTOWCS && defined HAVE_WCSWIDTH\n+#if defined HAVE_WCHAR_H && defined HAVE_WORKING_MBSTOWCS && defined HAVE_WCSWIDTH\n #include <wchar.h>\n \n /* Returns the width in columns of MSGSTR, which came from gettext."}]}