{"sha": "4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGQyYWI5ZTM2YjEwZDQzNTFjZmZlN2FlMWZkNDc3ZjRiMWFhYmY5Mg==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2010-05-14T20:18:34Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2010-05-14T20:18:34Z"}, "message": "re PR tree-optimization/44119 (error: SSA name in freelist but still referenced)\n\n2010-05-14  Richard Guenther  <rguenther@suse.de>\n\n\tPR tree-optimization/44119\n\t* tree-ssa-pre.c (eliminate): Properly mark replacement of\n\ta PHI node necessary.\n\n\t* gcc.c-torture/compile/pr44119.c: New testcase.\n\nFrom-SVN: r159412", "tree": {"sha": "3987bfabfa6a62defbc460cffd508dc3fdc78201", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3987bfabfa6a62defbc460cffd508dc3fdc78201"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9e87b842277446911e7e980241bad0d4b3e24f94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e87b842277446911e7e980241bad0d4b3e24f94", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e87b842277446911e7e980241bad0d4b3e24f94"}], "stats": {"total": 61, "additions": 61, "deletions": 0}, "files": [{"sha": "a0df089891ee9b29ffab5a7fb2ddaba823d79b09", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92", "patch": "@@ -1,3 +1,9 @@\n+2010-05-14  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR tree-optimization/44119\n+\t* tree-ssa-pre.c (eliminate): Properly mark replacement of\n+\ta PHI node necessary.\n+\n 2010-05-14  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* tree.h (TREE_ADDRESSABLE): Remove bogus usage for FIELD_DECL."}, {"sha": "b96b9a315a567c68768b6995fb7595d49c2880b0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92", "patch": "@@ -1,3 +1,8 @@\n+2010-05-14  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR tree-optimization/44119\n+\t* gcc.c-torture/compile/pr44119.c: New testcase.\n+\n 2010-05-14  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/44127"}, {"sha": "ef6ca4533fce39e9a359c95b5abd43e0101bf82f", "filename": "gcc/testsuite/gcc.c-torture/compile/pr44119.c", "status": "added", "additions": 46, "deletions": 0, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr44119.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr44119.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr44119.c?ref=4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92", "patch": "@@ -0,0 +1,46 @@\n+typedef signed char int8_t;\n+typedef short int int16_t;\n+typedef int int32_t;\n+typedef unsigned int uint32_t;\n+static int8_t\n+safe_mul_func_int16_t_s_s (int16_t si1, int8_t si2)\n+{\n+  return si1 && si2 && si1 > +si2 || si1 && si2 && si2 < +si1 || si1 && si2\n+    && si1 < +si2 || si1 && si2 && si1 && si2 < +si1 ? : si1 * si2;\n+}\n+\n+struct S0\n+{\n+};\n+int32_t g_72[7][4][1];\n+int32_t *g_184 = &g_72[1][2][0];\n+int32_t **g_224 = &g_184;\n+struct S0 g_244 = {\n+};\n+\n+int8_t *\n+func_96 (int8_t p_97, uint32_t p_98, uint32_t p_99)\n+{\n+  struct S0 *l_243 = &g_244;\n+  int i;\n+  for (i = 0; i < 1; p_98 = 1)\n+    {\n+      int32_t *l_202[3];\n+      int i;\n+      for (i = 0; i < 1; i++)\n+        l_202[i] = &g_72[2][2][0];\n+      if (safe_mul_func_int16_t_s_s (0xCAF0, **g_224))\n+        {\n+          if (p_98 && &l_243)\n+            {\n+            }\n+          else\n+            *g_224 = l_202[0];\n+          for (0;; 1)\n+            {\n+            }\n+        }\n+    }\n+  return 0;\n+}\n+"}, {"sha": "816aeb6af6ff5d48ff0f0cf95ac35ee50a864f45", "filename": "gcc/tree-ssa-pre.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92/gcc%2Ftree-ssa-pre.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92/gcc%2Ftree-ssa-pre.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-pre.c?ref=4d2ab9e36b10d4351cffe7ae1fd477f4b1aabf92", "patch": "@@ -4347,6 +4347,10 @@ eliminate (void)\n \n \t  remove_phi_node (&gsi, false);\n \n+\t  if (!bitmap_bit_p (inserted_exprs, SSA_NAME_VERSION (res))\n+\t      && TREE_CODE (sprime) == SSA_NAME)\n+\t    gimple_set_plf (SSA_NAME_DEF_STMT (sprime), NECESSARY, true);\n+\n \t  if (!useless_type_conversion_p (TREE_TYPE (res), TREE_TYPE (sprime)))\n \t    sprime = fold_convert (TREE_TYPE (res), sprime);\n \t  stmt = gimple_build_assign (res, sprime);"}]}