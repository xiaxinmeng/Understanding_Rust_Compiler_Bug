{"sha": "87138d8d59f45e4d537f081fedbe5ad19948b9b4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODcxMzhkOGQ1OWY0NWU0ZDUzN2YwODFmZWRiZTVhZDE5OTQ4YjliNA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2009-09-22T15:14:04Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2009-09-22T15:14:04Z"}, "message": "mep.h (INITIALIZE_TRAMPOLINE): Remove.\n\n\t* config/mep/mep.h (INITIALIZE_TRAMPOLINE): Remove.\n\t* config/mep/mep.c (TARGET_TRAMPOLINE_INIT): New.\n\t(mep_trampoline_init): Rename from mep_init_trampoline; make static;\n\tupdate for hook parameters.\n\t* config/mep/mep-protos.h (mep_init_trampoline): Remove.\n\nFrom-SVN: r152000", "tree": {"sha": "64effb3fb9e63d1e50df7819a073b4a2bc8811c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/64effb3fb9e63d1e50df7819a073b4a2bc8811c0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87138d8d59f45e4d537f081fedbe5ad19948b9b4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87138d8d59f45e4d537f081fedbe5ad19948b9b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87138d8d59f45e4d537f081fedbe5ad19948b9b4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87138d8d59f45e4d537f081fedbe5ad19948b9b4/comments", "author": null, "committer": null, "parents": [{"sha": "71e0af3ce5714c6cefa9e160eb37f35bd5fdad72", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71e0af3ce5714c6cefa9e160eb37f35bd5fdad72", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71e0af3ce5714c6cefa9e160eb37f35bd5fdad72"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "14de92a75d9e291f3fc9da0c72c97927c9822ce5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87138d8d59f45e4d537f081fedbe5ad19948b9b4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87138d8d59f45e4d537f081fedbe5ad19948b9b4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=87138d8d59f45e4d537f081fedbe5ad19948b9b4", "patch": "@@ -149,6 +149,12 @@\n \tto mcore_asm_trampoline_template.\n \t(INITIALIZE_TRAMPOLINE): Move code to mcore_trampoline_init.\n \n+\t* config/mep/mep.h (INITIALIZE_TRAMPOLINE): Remove.\n+\t* config/mep/mep.c (TARGET_TRAMPOLINE_INIT): New.\n+\t(mep_trampoline_init): Rename from mep_init_trampoline; make static;\n+\tupdate for hook parameters.\n+\t* config/mep/mep-protos.h (mep_init_trampoline): Remove.\n+\n 2009-09-22  Jakub Jelinek  <jakub@redhat.com>\n \n \t* config/rs6000/rs6000.c (bdesc_2arg): Fix CODE_FOR_vector_gt* codes"}, {"sha": "82be465ad04a14a57f1ec88052cc2838e08d08ad", "filename": "gcc/config/mep/mep-protos.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87138d8d59f45e4d537f081fedbe5ad19948b9b4/gcc%2Fconfig%2Fmep%2Fmep-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87138d8d59f45e4d537f081fedbe5ad19948b9b4/gcc%2Fconfig%2Fmep%2Fmep-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmep%2Fmep-protos.h?ref=87138d8d59f45e4d537f081fedbe5ad19948b9b4", "patch": "@@ -89,7 +89,6 @@ extern void mep_file_cleanups (void);\n extern const char *mep_strip_name_encoding (const char *);\n extern void mep_output_aligned_common (FILE *, tree, const char *,\n \t\t\t\t       int, int, int);\n-extern void mep_init_trampoline (rtx, rtx, rtx);\n extern void mep_emit_doloop (rtx *, int);\n extern bool mep_vliw_function_p (tree);\n extern bool mep_store_data_bypass_p (rtx, rtx);"}, {"sha": "dcf536259fa2bc9b0749283beba7b0bc0b968931", "filename": "gcc/config/mep/mep.c", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87138d8d59f45e4d537f081fedbe5ad19948b9b4/gcc%2Fconfig%2Fmep%2Fmep.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87138d8d59f45e4d537f081fedbe5ad19948b9b4/gcc%2Fconfig%2Fmep%2Fmep.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmep%2Fmep.c?ref=87138d8d59f45e4d537f081fedbe5ad19948b9b4", "patch": "@@ -229,6 +229,7 @@ static tree mep_build_builtin_va_list (void);\n static void mep_expand_va_start (tree, rtx);\n static tree mep_gimplify_va_arg_expr (tree, tree, tree *, tree *);\n static bool mep_can_eliminate (const int, const int);\n+static void mep_trampoline_init (rtx, tree, rtx);\n \f\n /* Initialize the GCC target structure.  */\n \n@@ -300,8 +301,10 @@ static bool mep_can_eliminate (const int, const int);\n #define TARGET_EXPAND_BUILTIN_VA_START\tmep_expand_va_start\n #undef\tTARGET_GIMPLIFY_VA_ARG_EXPR\n #define\tTARGET_GIMPLIFY_VA_ARG_EXPR\tmep_gimplify_va_arg_expr\n-#undef TARGET_CAN_ELIMINATE\n+#undef  TARGET_CAN_ELIMINATE\n #define TARGET_CAN_ELIMINATE            mep_can_eliminate\n+#undef  TARGET_TRAMPOLINE_INIT\n+#define TARGET_TRAMPOLINE_INIT\t\tmep_trampoline_init\n \n struct gcc_target targetm = TARGET_INITIALIZER;\n \f\n@@ -4922,9 +4925,12 @@ mep_output_aligned_common (FILE *stream, tree decl, const char *name,\n \n /* Trampolines.  */\n \n-void\n-mep_init_trampoline (rtx addr, rtx fnaddr, rtx static_chain)\n+static void\n+mep_trampoline_init (rtx m_tramp, tree fndecl, rtx static_chain)\n {\n+  rtx addr = XEXP (m_tramp, 0);\n+  rtx fnaddr = XEXP (DECL_RTL (fndecl), 0);\n+\n   emit_library_call (gen_rtx_SYMBOL_REF (Pmode, \"__mep_trampoline_helper\"),\n \t\t     LCT_NORMAL, VOIDmode, 3,\n \t\t     addr, Pmode,"}, {"sha": "8b00a444ce271278da29e4a0172e1bae1fa41ae8", "filename": "gcc/config/mep/mep.h", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87138d8d59f45e4d537f081fedbe5ad19948b9b4/gcc%2Fconfig%2Fmep%2Fmep.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87138d8d59f45e4d537f081fedbe5ad19948b9b4/gcc%2Fconfig%2Fmep%2Fmep.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmep%2Fmep.h?ref=87138d8d59f45e4d537f081fedbe5ad19948b9b4", "patch": "@@ -565,10 +565,6 @@ typedef struct\n    run-time also.  */\n \n #define TRAMPOLINE_SIZE 20\n-\n-#define INITIALIZE_TRAMPOLINE(ADDR, FNADDR, STATIC_CHAIN) \\\n-\tmep_init_trampoline (ADDR, FNADDR, STATIC_CHAIN)\n-\n \f\n \n #define CONSTANT_ADDRESS_P(X) CONSTANT_P (X)"}]}