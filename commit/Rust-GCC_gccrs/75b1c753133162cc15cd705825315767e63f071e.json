{"sha": "75b1c753133162cc15cd705825315767e63f071e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzViMWM3NTMxMzMxNjJjYzE1Y2Q3MDU4MjUzMTU3NjdlNjNmMDcxZQ==", "commit": {"author": {"name": "Maxim Kuvyrkov", "email": "maxim.kuvyrkov@linaro.org", "date": "2019-08-29T15:24:37Z"}, "committer": {"name": "Maxim Kuvyrkov", "email": "maxim.kuvyrkov@linaro.org", "date": "2021-08-17T10:05:20Z"}, "message": "Add missing entry for rank_for_schedule stats.\n\n\t* haifa-sched.c (enum rfs_decision, rfs_str): Add RFS_AUTOPREF.\n\t(rank_for_schedule): Use it.", "tree": {"sha": "28b3d55d85d630395e15be3dfb147eb65c27b1b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/28b3d55d85d630395e15be3dfb147eb65c27b1b0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/75b1c753133162cc15cd705825315767e63f071e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75b1c753133162cc15cd705825315767e63f071e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75b1c753133162cc15cd705825315767e63f071e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75b1c753133162cc15cd705825315767e63f071e/comments", "author": {"login": "maxim-kuvyrkov", "id": 12545699, "node_id": "MDQ6VXNlcjEyNTQ1Njk5", "avatar_url": "https://avatars.githubusercontent.com/u/12545699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxim-kuvyrkov", "html_url": "https://github.com/maxim-kuvyrkov", "followers_url": "https://api.github.com/users/maxim-kuvyrkov/followers", "following_url": "https://api.github.com/users/maxim-kuvyrkov/following{/other_user}", "gists_url": "https://api.github.com/users/maxim-kuvyrkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxim-kuvyrkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxim-kuvyrkov/subscriptions", "organizations_url": "https://api.github.com/users/maxim-kuvyrkov/orgs", "repos_url": "https://api.github.com/users/maxim-kuvyrkov/repos", "events_url": "https://api.github.com/users/maxim-kuvyrkov/events{/privacy}", "received_events_url": "https://api.github.com/users/maxim-kuvyrkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "maxim-kuvyrkov", "id": 12545699, "node_id": "MDQ6VXNlcjEyNTQ1Njk5", "avatar_url": "https://avatars.githubusercontent.com/u/12545699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxim-kuvyrkov", "html_url": "https://github.com/maxim-kuvyrkov", "followers_url": "https://api.github.com/users/maxim-kuvyrkov/followers", "following_url": "https://api.github.com/users/maxim-kuvyrkov/following{/other_user}", "gists_url": "https://api.github.com/users/maxim-kuvyrkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxim-kuvyrkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxim-kuvyrkov/subscriptions", "organizations_url": "https://api.github.com/users/maxim-kuvyrkov/orgs", "repos_url": "https://api.github.com/users/maxim-kuvyrkov/repos", "events_url": "https://api.github.com/users/maxim-kuvyrkov/events{/privacy}", "received_events_url": "https://api.github.com/users/maxim-kuvyrkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6d527883072ce96a33169036fca7740172223b52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d527883072ce96a33169036fca7740172223b52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d527883072ce96a33169036fca7740172223b52"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "dac27fd7c29c845824094e3b34d540d05a1c66dc", "filename": "gcc/haifa-sched.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75b1c753133162cc15cd705825315767e63f071e/gcc%2Fhaifa-sched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75b1c753133162cc15cd705825315767e63f071e/gcc%2Fhaifa-sched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhaifa-sched.c?ref=75b1c753133162cc15cd705825315767e63f071e", "patch": "@@ -2538,15 +2538,15 @@ model_set_excess_costs (rtx_insn **insns, int count)\n enum rfs_decision {\n   RFS_LIVE_RANGE_SHRINK1, RFS_LIVE_RANGE_SHRINK2,\n   RFS_SCHED_GROUP, RFS_PRESSURE_DELAY, RFS_PRESSURE_TICK,\n-  RFS_FEEDS_BACKTRACK_INSN, RFS_PRIORITY, RFS_SPECULATION,\n+  RFS_FEEDS_BACKTRACK_INSN, RFS_PRIORITY, RFS_AUTOPREF, RFS_SPECULATION,\n   RFS_SCHED_RANK, RFS_LAST_INSN, RFS_PRESSURE_INDEX,\n   RFS_DEP_COUNT, RFS_TIE, RFS_FUSION, RFS_COST, RFS_N };\n \n /* Corresponding strings for print outs.  */\n static const char *rfs_str[RFS_N] = {\n   \"RFS_LIVE_RANGE_SHRINK1\", \"RFS_LIVE_RANGE_SHRINK2\",\n   \"RFS_SCHED_GROUP\", \"RFS_PRESSURE_DELAY\", \"RFS_PRESSURE_TICK\",\n-  \"RFS_FEEDS_BACKTRACK_INSN\", \"RFS_PRIORITY\", \"RFS_SPECULATION\",\n+  \"RFS_FEEDS_BACKTRACK_INSN\", \"RFS_PRIORITY\", \"RFS_AUTOPREF\", \"RFS_SPECULATION\",\n   \"RFS_SCHED_RANK\", \"RFS_LAST_INSN\", \"RFS_PRESSURE_INDEX\",\n   \"RFS_DEP_COUNT\", \"RFS_TIE\", \"RFS_FUSION\", \"RFS_COST\" };\n \n@@ -2715,7 +2715,7 @@ rank_for_schedule (const void *x, const void *y)\n     {\n       int autopref = autopref_rank_for_schedule (tmp, tmp2);\n       if (autopref != 0)\n-\treturn autopref;\n+\treturn rfs_result (RFS_AUTOPREF, autopref, tmp, tmp2);\n     }\n \n   /* Prefer speculative insn with greater dependencies weakness.  */"}]}