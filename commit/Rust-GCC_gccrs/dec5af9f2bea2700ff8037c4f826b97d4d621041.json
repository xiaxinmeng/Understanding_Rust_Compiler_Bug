{"sha": "dec5af9f2bea2700ff8037c4f826b97d4d621041", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGVjNWFmOWYyYmVhMjcwMGZmODAzN2M0ZjgyNmI5N2Q0ZDYyMTA0MQ==", "commit": {"author": {"name": "Carl Love", "email": "cel@us.ibm.com", "date": "2018-02-16T18:36:55Z"}, "committer": {"name": "Carl Love", "email": "carll@gcc.gnu.org", "date": "2018-02-16T18:36:55Z"}, "message": "rs6000-builtin.def: Add BU_P8V_VSX_2 macro definition.\n\ngcc/ChangeLog:\n\n2018-02-16  Carl Love  <cel@us.ibm.com>\n\n\t* config/rs6000/rs6000-builtin.def: Add BU_P8V_VSX_2 macro definition.\n\tChange FLOAT2 expansions from BU_VSX_2 to BU_P8V_VSX_2 and\n\tfrom BU_VSX_OVERLOAD_2 to BU_P8V_OVERLOAD_2.\n\t* config/rs6000/rs6000-c.c: Changed macro VSX_BUILTIN_VEC_FLOAT2\n\texpansion to P8V_BUILTIN_VEC_FLOAT2.\n\nFrom-SVN: r257752", "tree": {"sha": "9f0dbbec4269cdcc264f818d86ee2c25110b3bfc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9f0dbbec4269cdcc264f818d86ee2c25110b3bfc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dec5af9f2bea2700ff8037c4f826b97d4d621041", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dec5af9f2bea2700ff8037c4f826b97d4d621041", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dec5af9f2bea2700ff8037c4f826b97d4d621041", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dec5af9f2bea2700ff8037c4f826b97d4d621041/comments", "author": {"login": "carlelove", "id": 86435705, "node_id": "MDQ6VXNlcjg2NDM1NzA1", "avatar_url": "https://avatars.githubusercontent.com/u/86435705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlelove", "html_url": "https://github.com/carlelove", "followers_url": "https://api.github.com/users/carlelove/followers", "following_url": "https://api.github.com/users/carlelove/following{/other_user}", "gists_url": "https://api.github.com/users/carlelove/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlelove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlelove/subscriptions", "organizations_url": "https://api.github.com/users/carlelove/orgs", "repos_url": "https://api.github.com/users/carlelove/repos", "events_url": "https://api.github.com/users/carlelove/events{/privacy}", "received_events_url": "https://api.github.com/users/carlelove/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "16ba97b9eb8b1db41b9aa1fdaae764653698cf26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16ba97b9eb8b1db41b9aa1fdaae764653698cf26", "html_url": "https://github.com/Rust-GCC/gccrs/commit/16ba97b9eb8b1db41b9aa1fdaae764653698cf26"}], "stats": {"total": 34, "additions": 26, "deletions": 8}, "files": [{"sha": "5bf27188e92781bdd7a5f1ffd05e528d9f1eef0a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dec5af9f2bea2700ff8037c4f826b97d4d621041/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dec5af9f2bea2700ff8037c4f826b97d4d621041/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dec5af9f2bea2700ff8037c4f826b97d4d621041", "patch": "@@ -1,3 +1,11 @@\n+2018-02-16  Carl Love  <cel@us.ibm.com>\n+\n+\t* config/rs6000/rs6000-builtin.def: Add BU_P8V_VSX_2 macro definition.\n+\tChange FLOAT2 expansions from BU_VSX_2 to BU_P8V_VSX_2 and\n+\tfrom BU_VSX_OVERLOAD_2 to BU_P8V_OVERLOAD_2.\n+\t* config/rs6000/rs6000-c.c: Changed macro VSX_BUILTIN_VEC_FLOAT2\n+\texpansion to P8V_BUILTIN_VEC_FLOAT2.\n+\n 2018-02-16  Vladimir Makarov  <vmakarov@redhat.com>\n \n \tPR rtl-optimization/70023"}, {"sha": "3ffad948f7d8ac54e1fa6921ba80d110a443ed0e", "filename": "gcc/config/rs6000/rs6000-builtin.def", "status": "modified", "additions": 15, "deletions": 5, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dec5af9f2bea2700ff8037c4f826b97d4d621041/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dec5af9f2bea2700ff8037c4f826b97d4d621041/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.def?ref=dec5af9f2bea2700ff8037c4f826b97d4d621041", "patch": "@@ -403,6 +403,14 @@\n \t\t     | RS6000_BTC_UNARY),\t\t\t\t\\\n \t\t    CODE_FOR_ ## ICODE)\t\t\t/* ICODE */\n \n+#define BU_P8V_VSX_2(ENUM, NAME, ATTR, ICODE)\t\t\t\t\\\n+  RS6000_BUILTIN_2 (P8V_BUILTIN_ ## ENUM,\t\t/* ENUM */\t\\\n+\t\t    \"__builtin_vsx_\" NAME,\t\t/* NAME */\t\\\n+\t\t    RS6000_BTM_P8_VECTOR,\t\t/* MASK */\t\\\n+\t\t    (RS6000_BTC_ ## ATTR\t\t/* ATTR */\t\\\n+\t\t     | RS6000_BTC_BINARY),\t\t\t\t\\\n+\t\t    CODE_FOR_ ## ICODE)\t\t\t/* ICODE */\n+\n #define BU_P8V_OVERLOAD_1(ENUM, NAME)\t\t\t\t\t\\\n   RS6000_BUILTIN_1 (P8V_BUILTIN_VEC_ ## ENUM,\t\t/* ENUM */\t\\\n \t\t    \"__builtin_vec_\" NAME,\t\t/* NAME */\t\\\n@@ -1659,9 +1667,6 @@ BU_VSX_2 (CMPLE_U16QI,        \"cmple_u16qi\",    CONST,  vector_ngtuv16qi)\n BU_VSX_2 (CMPLE_U8HI,         \"cmple_u8hi\",     CONST,  vector_ngtuv8hi)\n BU_VSX_2 (CMPLE_U4SI,         \"cmple_u4si\",     CONST,  vector_ngtuv4si)\n BU_VSX_2 (CMPLE_U2DI,         \"cmple_u2di\",     CONST,  vector_ngtuv2di)\n-BU_VSX_2 (FLOAT2_V2DF,        \"float2_v2df\",    CONST,  float2_v2df)\n-BU_VSX_2 (FLOAT2_V2DI,        \"float2_v2di\",    CONST,  float2_v2di)\n-BU_VSX_2 (UNS_FLOAT2_V2DI,    \"uns_float2_v2di\",    CONST,  uns_float2_v2di)\n \n BU_VSX_2 (VEC_VSIGNED2_V2DF,      \"vsigned2_v2df\",    CONST,  vsigned2_v2df)\n BU_VSX_2 (VEC_VUNSIGNED2_V2DF,    \"vunsigned2_v2df\",  CONST,  vunsigned2_v2df)\n@@ -1856,8 +1861,6 @@ BU_VSX_OVERLOAD_2 (XXMRGHW,  \"xxmrghw\")\n BU_VSX_OVERLOAD_2 (XXMRGLW,  \"xxmrglw\")\n BU_VSX_OVERLOAD_2 (XXSPLTD,  \"xxspltd\")\n BU_VSX_OVERLOAD_2 (XXSPLTW,  \"xxspltw\")\n-BU_VSX_OVERLOAD_2 (FLOAT2,   \"float2\")\n-BU_VSX_OVERLOAD_2 (UNS_FLOAT2,   \"uns_float2\")\n BU_VSX_OVERLOAD_2 (VSIGNED2,     \"vsigned2\")\n BU_VSX_OVERLOAD_2 (VUNSIGNED2,   \"vunsigned2\")\n \n@@ -1910,6 +1913,11 @@ BU_P8V_VSX_1 (REVB_V16QI,     \"revb_v16qi\",\tCONST,\trevb_v16qi)\n BU_P8V_VSX_1 (REVB_V2DF,      \"revb_v2df\",\tCONST,\trevb_v2df)\n BU_P8V_VSX_1 (REVB_V4SF,      \"revb_v4sf\",\tCONST,\trevb_v4sf)\n \n+/* 2 argument VSX instructions added in ISA 2.07.  */\n+BU_P8V_VSX_2 (FLOAT2_V2DF,        \"float2_v2df\",\tCONST,  float2_v2df)\n+BU_P8V_VSX_2 (FLOAT2_V2DI,        \"float2_v2di\",\tCONST,  float2_v2di)\n+BU_P8V_VSX_2 (UNS_FLOAT2_V2DI,    \"uns_float2_v2di\",    CONST,  uns_float2_v2di)\n+\n /* 1 argument altivec instructions added in ISA 2.07.  */\n BU_P8V_AV_1 (ABS_V2DI,\t      \"abs_v2di\",\tCONST,\tabsv2di2)\n BU_P8V_AV_1 (VUPKHSW,\t      \"vupkhsw\",\tCONST,\taltivec_vupkhsw)\n@@ -2052,6 +2060,8 @@ BU_P8V_OVERLOAD_2 (VSRD,\t\"vsrd\")\n BU_P8V_OVERLOAD_2 (VSUBCUQ,\t\"vsubcuq\")\n BU_P8V_OVERLOAD_2 (VSUBUDM,\t\"vsubudm\")\n BU_P8V_OVERLOAD_2 (VSUBUQM,\t\"vsubuqm\")\n+BU_P8V_OVERLOAD_2 (FLOAT2,   \"float2\")\n+BU_P8V_OVERLOAD_2 (UNS_FLOAT2,   \"uns_float2\")\n \n /* ISA 2.07 vector overloaded 3 argument functions.  */\n BU_P8V_OVERLOAD_3 (VADDECUQ,\t\"vaddecuq\")"}, {"sha": "4b6bf5325bde385e07dce43784380c99f625c200", "filename": "gcc/config/rs6000/rs6000-c.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dec5af9f2bea2700ff8037c4f826b97d4d621041/gcc%2Fconfig%2Frs6000%2Frs6000-c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dec5af9f2bea2700ff8037c4f826b97d4d621041/gcc%2Fconfig%2Frs6000%2Frs6000-c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-c.c?ref=dec5af9f2bea2700ff8037c4f826b97d4d621041", "patch": "@@ -1542,11 +1542,11 @@ const struct altivec_builtin_types altivec_overloaded_builtins[] = {\n     RS6000_BTI_V4SF, RS6000_BTI_V4SI, 0, 0 },\n   { VSX_BUILTIN_VEC_FLOAT, VSX_BUILTIN_XVCVUXWSP_V4SF,\n     RS6000_BTI_V4SF, RS6000_BTI_unsigned_V4SI, 0, 0 },\n-  { VSX_BUILTIN_VEC_FLOAT2, VSX_BUILTIN_FLOAT2_V2DF,\n+  { P8V_BUILTIN_VEC_FLOAT2, P8V_BUILTIN_FLOAT2_V2DF,\n     RS6000_BTI_V4SF, RS6000_BTI_V2DF, RS6000_BTI_V2DF, 0 },\n-  { VSX_BUILTIN_VEC_FLOAT2, VSX_BUILTIN_FLOAT2_V2DI,\n+  { P8V_BUILTIN_VEC_FLOAT2, P8V_BUILTIN_FLOAT2_V2DI,\n     RS6000_BTI_V4SF, RS6000_BTI_V2DI, RS6000_BTI_V2DI, 0 },\n-  { VSX_BUILTIN_VEC_FLOAT2, VSX_BUILTIN_UNS_FLOAT2_V2DI,\n+  { P8V_BUILTIN_VEC_FLOAT2, P8V_BUILTIN_UNS_FLOAT2_V2DI,\n     RS6000_BTI_V4SF, RS6000_BTI_unsigned_V2DI,\n     RS6000_BTI_unsigned_V2DI, 0 },\n   { VSX_BUILTIN_VEC_FLOATE, VSX_BUILTIN_FLOATE_V2DF,"}]}