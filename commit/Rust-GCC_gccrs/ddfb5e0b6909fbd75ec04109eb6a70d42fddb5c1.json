{"sha": "ddfb5e0b6909fbd75ec04109eb6a70d42fddb5c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGRmYjVlMGI2OTA5ZmJkNzVlYzA0MTA5ZWI2YTcwZDQyZmRkYjVjMQ==", "commit": {"author": {"name": "Adam King", "email": "aking@dreammechanics.com", "date": "2002-04-15T03:11:12Z"}, "committer": {"name": "Mark Wielaard", "email": "mark@gcc.gnu.org", "date": "2002-04-15T03:11:12Z"}, "message": "natDouble.cc (parseDouble): Allow a number to end with the f/F/d/D modifiers.\n\n2002-04-13  Adam King <aking@dreammechanics.com>\n\n        * java/lang/natDouble.cc (parseDouble): Allow a number to end with\n        the f/F/d/D modifiers.\n\nFrom-SVN: r52308", "tree": {"sha": "ec2497cf8a67322b3c689962467ef766b234c381", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ec2497cf8a67322b3c689962467ef766b234c381"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ddfb5e0b6909fbd75ec04109eb6a70d42fddb5c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddfb5e0b6909fbd75ec04109eb6a70d42fddb5c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ddfb5e0b6909fbd75ec04109eb6a70d42fddb5c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddfb5e0b6909fbd75ec04109eb6a70d42fddb5c1/comments", "author": null, "committer": null, "parents": [{"sha": "bd6bec6be2be7b11880547fecd9df1c6fcb3fbdb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd6bec6be2be7b11880547fecd9df1c6fcb3fbdb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd6bec6be2be7b11880547fecd9df1c6fcb3fbdb"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "611da763eb6cc2f0f3fd78c1a011997e74c1e41d", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddfb5e0b6909fbd75ec04109eb6a70d42fddb5c1/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddfb5e0b6909fbd75ec04109eb6a70d42fddb5c1/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=ddfb5e0b6909fbd75ec04109eb6a70d42fddb5c1", "patch": "@@ -1,3 +1,8 @@\n+2002-04-13  Adam King <aking@dreammechanics.com>\n+\n+\t* java/lang/natDouble.cc (parseDouble): Allow a number to end with\n+\tthe f/F/d/D modifiers.\n+\n 2002-04-12  Anthony Green  <green@redhat.com>\n \n \t* Makefile.am (jardir, jar_DATA): Define (for libgcj.jar)."}, {"sha": "329795d3e217a1d2889e24acc1e07240caaec8d6", "filename": "libjava/java/lang/natDouble.cc", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddfb5e0b6909fbd75ec04109eb6a70d42fddb5c1/libjava%2Fjava%2Flang%2FnatDouble.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddfb5e0b6909fbd75ec04109eb6a70d42fddb5c1/libjava%2Fjava%2Flang%2FnatDouble.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatDouble.cc?ref=ddfb5e0b6909fbd75ec04109eb6a70d42fddb5c1", "patch": "@@ -161,9 +161,19 @@ jdouble\n java::lang::Double::parseDouble(jstring str)\n {\n   int length = str->length();\n+\n   while (length > 0\n \t && Character::isWhitespace(str->charAt(length - 1)))\n     length--;\n+\n+  // The String could end with a f/F/d/D which is valid but we don't need.\n+  if (length > 0)\n+    {\n+      jchar last = str->charAt(length-1);\n+      if (last == 'f' || last == 'F' || last == 'd' || last == 'D')\n+\tlength--;\n+    }\n+\n   jsize start = 0;\n   while (length > 0\n \t && Character::isWhitespace(str->charAt(start)))\n@@ -184,7 +194,7 @@ java::lang::Double::parseDouble(jstring str)\n       if (endptr == data + blength)\n \treturn val;\n     }\n-  throw new NumberFormatException;\n+  throw new NumberFormatException(str);\n }\n \n void"}]}