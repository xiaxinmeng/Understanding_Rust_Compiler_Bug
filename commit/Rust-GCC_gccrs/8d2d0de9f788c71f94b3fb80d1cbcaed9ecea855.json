{"sha": "8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGQyZDBkZTlmNzg4YzcxZjk0YjNmYjgwZDFjYmNhZWQ5ZWNlYTg1NQ==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@arm.com", "date": "2017-08-14T11:46:03Z"}, "committer": {"name": "Bin Cheng", "email": "amker@gcc.gnu.org", "date": "2017-08-14T11:46:03Z"}, "message": "re PR tree-optimization/81799 (ICE on valid code at -O3: verify_gimple failed)\n\n\tPR tree-optimization/81799\n\t* tree-loop-distribution.c (version_loop_by_alias_check): Force\n\tcond_expr to simple gimple operand.\n\n\tgcc/testsuite\n\t* gcc.dg/tree-ssa/pr81799.c: New.\n\nFrom-SVN: r251088", "tree": {"sha": "eee33e12bf3d0bc6867e237365c1d550d60ec0b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eee33e12bf3d0bc6867e237365c1d550d60ec0b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855/comments", "author": null, "committer": null, "parents": [{"sha": "5316dd1b63913e390fb2a5d7b335aeacd9da3001", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5316dd1b63913e390fb2a5d7b335aeacd9da3001", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5316dd1b63913e390fb2a5d7b335aeacd9da3001"}], "stats": {"total": 38, "additions": 37, "deletions": 1}, "files": [{"sha": "a380b40450b24495c4387370e437287607a23b74", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855", "patch": "@@ -1,3 +1,9 @@\n+2017-08-14  Bin Cheng  <bin.cheng@arm.com>\n+\n+\tPR tree-optimization/81799\n+\t* tree-loop-distribution.c (version_loop_by_alias_check): Force\n+\tcond_expr to simple gimple operand.\n+\n 2017-08-14  Wilco Dijkstra  <wdijkstr@arm.com>\n \n \tPR middle-end/46932"}, {"sha": "9309b483517aba8ca65b20382aa3071d21a3edde", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855", "patch": "@@ -1,3 +1,8 @@\n+2017-08-14  Bin Cheng  <bin.cheng@arm.com>\n+\n+\tPR tree-optimization/81799\n+\t* gcc.dg/tree-ssa/pr81799.c: New.\n+\n 2017-08-14  Wilco Dijkstra  <wdijkstr@arm.com>\n \n \tPR middle-end/46932"}, {"sha": "543ae94fbf61cb26b17f93021830731060569e34", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr81799.c", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr81799.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr81799.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr81799.c?ref=8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855", "patch": "@@ -0,0 +1,25 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O3\" } */\n+\n+int printf (const char *, ...);\n+\n+int a, c[1], d, e, **f;\n+\n+void fn1 (int h)\n+{\n+  int *i = 0;\n+  for (d = 0; d < 1; d++)\n+    {\n+      if (d)\n+        continue;\n+      for (; e; e++)\n+        {\n+          a = c[*i];\n+          if (h)\n+            printf (\"0\");\n+        }\n+      return;\n+    }\n+  f = &i;\n+}\n+"}, {"sha": "b1b293419b008fad5f9f7303450e2b5f12dc03b0", "filename": "gcc/tree-loop-distribution.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855/gcc%2Ftree-loop-distribution.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855/gcc%2Ftree-loop-distribution.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-loop-distribution.c?ref=8d2d0de9f788c71f94b3fb80d1cbcaed9ecea855", "patch": "@@ -2263,7 +2263,7 @@ version_loop_by_alias_check (struct loop *loop, vec<ddr_p> *alias_ddrs)\n   compute_alias_check_pairs (loop, alias_ddrs, &comp_alias_pairs);\n   create_runtime_alias_checks (loop, &comp_alias_pairs, &cond_expr);\n   cond_expr = force_gimple_operand_1 (cond_expr, &cond_stmts,\n-\t\t\t\t      is_gimple_condexpr, NULL_TREE);\n+\t\t\t\t      is_gimple_val, NULL_TREE);\n \n   /* Depend on vectorizer to fold IFN_LOOP_DIST_ALIAS.  */\n   if (flag_tree_loop_vectorize)"}]}