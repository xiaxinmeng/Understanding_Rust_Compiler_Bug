{"sha": "a1596edc4b46231e18e86e225fb19ecb0a1437e1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTE1OTZlZGM0YjQ2MjMxZTE4ZTg2ZTIyNWZiMTllY2IwYTE0MzdlMQ==", "commit": {"author": {"name": "Sebastian Pop", "email": "pop@cri.ensmp.fr", "date": "2005-08-21T10:48:23Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2005-08-21T10:48:23Z"}, "message": "re PR tree-optimization/23434 (ICE: Segmentation fault compiling gsl1.5 at -O2)\n\n\tPR tree-optimization/23434\n        * tree-ssa-loop-niter.c (proved_non_wrapping_p): Give up when\n        the iteration bound is not an INTEGER_CST.\n\nFrom-SVN: r103315", "tree": {"sha": "e7c1b97bd3fb20b67e45a396257d670957faddf4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e7c1b97bd3fb20b67e45a396257d670957faddf4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a1596edc4b46231e18e86e225fb19ecb0a1437e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1596edc4b46231e18e86e225fb19ecb0a1437e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a1596edc4b46231e18e86e225fb19ecb0a1437e1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1596edc4b46231e18e86e225fb19ecb0a1437e1/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "429268fc04441a4a6e31bc9e3c303a8f355f7c43", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/429268fc04441a4a6e31bc9e3c303a8f355f7c43", "html_url": "https://github.com/Rust-GCC/gccrs/commit/429268fc04441a4a6e31bc9e3c303a8f355f7c43"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "6e2b4d8ed70235c21c8c8e561394fc8c929c1df9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1596edc4b46231e18e86e225fb19ecb0a1437e1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1596edc4b46231e18e86e225fb19ecb0a1437e1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a1596edc4b46231e18e86e225fb19ecb0a1437e1", "patch": "@@ -1,3 +1,9 @@\n+2005-08-21  Sebastian Pop  <pop@cri.ensmp.fr>\n+\n+\tPR tree-optimization/23434\n+        * tree-ssa-loop-niter.c (proved_non_wrapping_p): Give up when\n+        the iteration bound is not an INTEGER_CST.\n+\n 2005-08-21  Dorit Nuzman  <dorit@il.ibm.com>\n \n \t* tree-vect-transform.c (get_initial_def_for_reduction): Set"}, {"sha": "a21b955666e6e0fb78e9d9919cca74bbf11f760a", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr23434.c", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1596edc4b46231e18e86e225fb19ecb0a1437e1/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr23434.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1596edc4b46231e18e86e225fb19ecb0a1437e1/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr23434.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr23434.c?ref=a1596edc4b46231e18e86e225fb19ecb0a1437e1", "patch": "@@ -0,0 +1,19 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2\" } */\n+\n+cblas_csyr2k (int N, void *A, int lda, float *B, int ldb, float *C, int k)\n+{\n+  int i, j;\n+  for (;; k ++)\n+    {\n+      for (i = 0; i < N; i ++)\n+\t{\n+\t  float t = ((float * ) A) [i];\n+\t  for (j = i; j < N; j ++)\n+\t    {\n+\t      C [i + j] = B [ldb] * ((float *) A) [k];\n+\t      C [lda] = 0 ;\n+\t    }\n+\t}\n+    }\n+}"}, {"sha": "a8e4737633d5fb97011af96b87fd6801f9ee76cc", "filename": "gcc/tree-ssa-loop-niter.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1596edc4b46231e18e86e225fb19ecb0a1437e1/gcc%2Ftree-ssa-loop-niter.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1596edc4b46231e18e86e225fb19ecb0a1437e1/gcc%2Ftree-ssa-loop-niter.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-niter.c?ref=a1596edc4b46231e18e86e225fb19ecb0a1437e1", "patch": "@@ -1653,6 +1653,10 @@ proved_non_wrapping_p (tree at_stmt,\n   else\n     valid_niter = fold_convert (TREE_TYPE (bound), valid_niter);\n \n+  /* Give up if BOUND was not folded to an INTEGER_CST, as in PR23434.  */\n+  if (TREE_CODE (bound) != INTEGER_CST)\n+    return false;\n+\n   /* After the statement niter_bound->at_stmt we know that anything is\n      executed at most BOUND times.  */\n   if (at_stmt && stmt_dominates_stmt_p (niter_bound->at_stmt, at_stmt))"}]}