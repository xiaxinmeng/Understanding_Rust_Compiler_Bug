{"sha": "290986ede68c7fb27f1ec54c63aa7c2398601444", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjkwOTg2ZWRlNjhjN2ZiMjdmMWVjNTRjNjNhYTdjMjM5ODYwMTQ0NA==", "commit": {"author": {"name": "Geert Bosch", "email": "bosch@gcc.gnu.org", "date": "2001-12-11T21:49:34Z"}, "committer": {"name": "Geert Bosch", "email": "bosch@gcc.gnu.org", "date": "2001-12-11T21:49:34Z"}, "message": "gnatcmd.adb: Changed /COMPILE_ONLY to /ACTIONS=COMPILE Changed /BIND_ONLY to /ACTIONS=BIND...\n\n\t* gnatcmd.adb:\n\tChanged /COMPILE_ONLY to /ACTIONS=COMPILE\n\tChanged /BIND_ONLY to /ACTIONS=BIND\n\tChanged /LINK_ONLY to /ACTIONS=LINK\n\n\t* sem_ch8.adb (Find_Selected_Component): improved search for a\n\tcandidate package in case of error.\n\n\t* sem_ch12.adb (Inline_Instance_Body): place head of use_clause\n\tchain back on scope stack before reinstalling use clauses.\n\n\t* exp_ch5.adb (Expand_N_If_Statement): if Constant_Condition_Warnings\n\tis enabled, do not kill the code for the condition, to preserve\n\twarning.\n\nFrom-SVN: r47895", "tree": {"sha": "8cc7939c95106e6f70eed7984957142b676ad999", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8cc7939c95106e6f70eed7984957142b676ad999"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/290986ede68c7fb27f1ec54c63aa7c2398601444", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/290986ede68c7fb27f1ec54c63aa7c2398601444", "html_url": "https://github.com/Rust-GCC/gccrs/commit/290986ede68c7fb27f1ec54c63aa7c2398601444", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/290986ede68c7fb27f1ec54c63aa7c2398601444/comments", "author": null, "committer": null, "parents": [{"sha": "84157f5101464652f4bdf73291f1f824935c7ef8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84157f5101464652f4bdf73291f1f824935c7ef8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84157f5101464652f4bdf73291f1f824935c7ef8"}], "stats": {"total": 56, "additions": 40, "deletions": 16}, "files": [{"sha": "5a24178347a49d05f10ac53faa4f12ee95cdf26a", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/290986ede68c7fb27f1ec54c63aa7c2398601444/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/290986ede68c7fb27f1ec54c63aa7c2398601444/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=290986ede68c7fb27f1ec54c63aa7c2398601444", "patch": "@@ -1,3 +1,22 @@\n+2001-12-11  Vincent Celier <celier@gnat.com>\n+\n+\t* gnatcmd.adb:\n+\tChanged /COMPILE_ONLY to /ACTIONS=COMPILE\n+\tChanged /BIND_ONLY to /ACTIONS=BIND\n+\tChanged /LINK_ONLY to /ACTIONS=LINK\n+\t\n+2001-12-11  Ed Schonberg  <schonber@gnat.com>\n+\n+\t* sem_ch8.adb (Find_Selected_Component): improved search for a\n+\tcandidate package in case of error.\n+\t\n+\t* sem_ch12.adb (Inline_Instance_Body): place head of use_clause\n+\tchain back on scope stack before reinstalling use clauses.\n+\t\n+\t* exp_ch5.adb (Expand_N_If_Statement): if Constant_Condition_Warnings\n+\tis enabled, do not kill the code for the condition, to preserve\n+\twarning.\n+\n 2001-12-11  Robert Dewar <dewar@gnat.com>\n \n \t* checks.adb (Insert_Valid_Check): Apply validity check to expression "}, {"sha": "b6b23d0d18fa3290657498cdb3390bae0d0e0349", "filename": "gcc/ada/exp_ch5.adb", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/290986ede68c7fb27f1ec54c63aa7c2398601444/gcc%2Fada%2Fexp_ch5.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/290986ede68c7fb27f1ec54c63aa7c2398601444/gcc%2Fada%2Fexp_ch5.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch5.adb?ref=290986ede68c7fb27f1ec54c63aa7c2398601444", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                            $Revision: 1.216 $\n+--                            $Revision$\n --                                                                          --\n --          Copyright (C) 1992-2001, Free Software Foundation, Inc.         --\n --                                                                          --\n@@ -1895,7 +1895,10 @@ package body Exp_Ch5 is\n          --  the Then statements\n \n          else\n-            Kill_Dead_Code (Condition (N));\n+            if not Constant_Condition_Warnings then\n+               Kill_Dead_Code (Condition (N));\n+            end if;\n+\n             Kill_Dead_Code (Then_Statements (N));\n \n             --  If there are no elsif statements, then we simply replace"}, {"sha": "bf98c69c7e7dc4bc87d7a1c66960812c0f6b189f", "filename": "gcc/ada/gnatcmd.adb", "status": "modified", "additions": 9, "deletions": 12, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/290986ede68c7fb27f1ec54c63aa7c2398601444/gcc%2Fada%2Fgnatcmd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/290986ede68c7fb27f1ec54c63aa7c2398601444/gcc%2Fada%2Fgnatcmd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatcmd.adb?ref=290986ede68c7fb27f1ec54c63aa7c2398601444", "patch": "@@ -1011,18 +1011,20 @@ procedure GNATCmd is\n    -- Switches for GNAT MAKE --\n    ----------------------------\n \n+   S_Make_Actions : aliased constant S := \"/ACTIONS=\"                      &\n+                                            \"COMPILE \"                     &\n+                                              \"-c \"                        &\n+                                            \"BIND \"                        &\n+                                              \"-b \"                        &\n+                                            \"LINK \"                        &\n+                                              \"-l \";\n+\n    S_Make_All     : aliased constant S := \"/ALL_FILES \"                    &\n                                             \"-a\";\n \n-   S_Make_Bind_Only : aliased constant S := \"/BIND_ONLY \"                  &\n-                                            \"-b\";\n-\n    S_Make_Bind    : aliased constant S := \"/BINDER_QUALIFIERS=?\"           &\n                                             \"-bargs BIND\";\n \n-   S_Make_Compile_Only : aliased constant S := \"/COMPILE_ONLY \"            &\n-                                            \"-c\";\n-\n    S_Make_Comp    : aliased constant S := \"/COMPILER_QUALIFIERS=?\"         &\n                                             \"-cargs COMPILE\";\n \n@@ -1056,9 +1058,6 @@ procedure GNATCmd is\n    S_Make_Link    : aliased constant S := \"/LINKER_QUALIFIERS=?\"           &\n                                             \"-largs LINK\";\n \n-   S_Make_Link_Only : aliased constant S := \"/LINK_ONLY \"                  &\n-                                            \"-l\";\n-\n    S_Make_Minimal : aliased constant S := \"/MINIMAL_RECOMPILATION \"        &\n                                            \"-m\";\n \n@@ -1099,11 +1098,10 @@ procedure GNATCmd is\n                                             \"-v\";\n \n    Make_Switches : aliased constant Switches := (\n+     S_Make_Actions 'Access,\n      S_Make_All     'Access,\n      S_Make_Bind    'Access,\n-     S_Make_Bind_Only'Access,\n      S_Make_Comp    'Access,\n-     S_Make_Compile_Only'Access,\n      S_Make_Cond    'Access,\n      S_Make_Cont    'Access,\n      S_Make_Current 'Access,\n@@ -1115,7 +1113,6 @@ procedure GNATCmd is\n      S_Make_Inplace 'Access,\n      S_Make_Library 'Access,\n      S_Make_Link    'Access,\n-     S_Make_Link_Only'Access,\n      S_Make_Minimal 'Access,\n      S_Make_Nolink  'Access,\n      S_Make_Nostinc 'Access,"}, {"sha": "2f821b1c72b468d8edc084cd6285dfc03f754337", "filename": "gcc/ada/sem_ch12.adb", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/290986ede68c7fb27f1ec54c63aa7c2398601444/gcc%2Fada%2Fsem_ch12.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/290986ede68c7fb27f1ec54c63aa7c2398601444/gcc%2Fada%2Fsem_ch12.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch12.adb?ref=290986ede68c7fb27f1ec54c63aa7c2398601444", "patch": "@@ -2812,6 +2812,8 @@ package body Sem_Ch12 is\n          end if;\n \n          for J in reverse 1 .. Num_Scopes loop\n+            Scope_Stack.Table (Scope_Stack.Last - J + 1).First_Use_Clause :=\n+              Use_Clauses (J);\n             Install_Use_Clauses (Use_Clauses (J));\n          end  loop;\n "}, {"sha": "7e24ef65b9a05da2f612c3df425473034375a0ae", "filename": "gcc/ada/sem_ch8.adb", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/290986ede68c7fb27f1ec54c63aa7c2398601444/gcc%2Fada%2Fsem_ch8.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/290986ede68c7fb27f1ec54c63aa7c2398601444/gcc%2Fada%2Fsem_ch8.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch8.adb?ref=290986ede68c7fb27f1ec54c63aa7c2398601444", "patch": "@@ -3687,9 +3687,12 @@ package body Sem_Ch8 is\n                then\n \n                   --  Prefix may mention a package that is hidden by a local\n-                  --  declaration: let the user know.\n+                  --  declaration: let the user know. Scan the full homonym\n+                  --  chain, the candidate package may be anywhere on it.\n \n-                  if Present (Homonym (P_Name)) then\n+                  if Present (Homonym (Current_Entity (P_Name))) then\n+\n+                     P_Name := Current_Entity (P_Name);\n \n                      while Present (P_Name) loop\n                         exit when Ekind (P_Name) = E_Package;"}]}