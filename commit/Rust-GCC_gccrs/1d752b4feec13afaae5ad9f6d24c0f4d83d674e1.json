{"sha": "1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQ3NTJiNGZlZWMxM2FmYWFlNWFkOWY2ZDI0YzBmNGQ4M2Q2NzRlMQ==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2016-12-08T13:25:03Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2016-12-08T13:25:03Z"}, "message": "Delete std::swap for debug mode array\n\n\t* include/debug/array (swap): Add deleted overload.\n\t* include/bits/stl_pair.h (swap): Remove redundant inline keyword\n\tfrom deleted overload.\n\t* include/bits/unique_ptr.h (swap): Likewise.\n\t* include/std/array (swap): Likewise.\n\t* include/std/optional (swap): Likewise.\n\t* include/std/tuple (swap): Likewise.\n\t* include/std/variant (swap): Likewise.\n\t* testsuite/23_containers/array/tuple_interface/get_debug_neg.cc:\n\tAdjust dg-error line numbers.\n\t* testsuite/23_containers/array/tuple_interface/get_neg.cc: Likewise.\n\t* testsuite/23_containers/array/tuple_interface/\n\ttuple_element_debug_neg.cc: Likewise.\n\t* testsuite/23_containers/array/tuple_interface/tuple_element_neg.cc:\n\tLikewise.\n\nFrom-SVN: r243437", "tree": {"sha": "be71cbbb3d66fb3ba7a56976042e5f6d51a82a6d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/be71cbbb3d66fb3ba7a56976042e5f6d51a82a6d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eae0b895e0f4dce0601e27cc7c54c89be3c480b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eae0b895e0f4dce0601e27cc7c54c89be3c480b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eae0b895e0f4dce0601e27cc7c54c89be3c480b9"}], "stats": {"total": 48, "additions": 34, "deletions": 14}, "files": [{"sha": "084f0d78a7df0eebb8a91b69530e420d49709604", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "patch": "@@ -1,5 +1,21 @@\n 2016-12-08  Jonathan Wakely  <jwakely@redhat.com>\n \n+\t* include/debug/array (swap): Add deleted overload.\n+\t* include/bits/stl_pair.h (swap): Remove redundant inline keyword\n+\tfrom deleted overload.\n+\t* include/bits/unique_ptr.h (swap): Likewise.\n+\t* include/std/array (swap): Likewise.\n+\t* include/std/optional (swap): Likewise.\n+\t* include/std/tuple (swap): Likewise.\n+\t* include/std/variant (swap): Likewise.\n+\t* testsuite/23_containers/array/tuple_interface/get_debug_neg.cc:\n+\tAdjust dg-error line numbers.\n+\t* testsuite/23_containers/array/tuple_interface/get_neg.cc: Likewise.\n+\t* testsuite/23_containers/array/tuple_interface/\n+\ttuple_element_debug_neg.cc: Likewise.\n+\t* testsuite/23_containers/array/tuple_interface/tuple_element_neg.cc:\n+\tLikewise.\n+\n \tPR libstdc++/71856\n \t* doc/xml/manual/using.xml: Document macro.\n \t* include/bits/c++config [_GLIBCXX_DEBUG || _GLIBCXX_PARALLEL]"}, {"sha": "01c71345bb239ba7ca5b3260d408cc3575971b3a", "filename": "libstdc++-v3/include/bits/stl_pair.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_pair.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_pair.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_pair.h?ref=1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "patch": "@@ -481,7 +481,6 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \n #if __cplusplus > 201402L || !defined(__STRICT_ANSI__) // c++1z or gnu++11\n   template<typename _T1, typename _T2>\n-    inline\n     typename enable_if<!__and_<__is_swappable<_T1>,\n \t\t\t       __is_swappable<_T2>>::value>::type\n     swap(pair<_T1, _T2>&, pair<_T1, _T2>&) = delete;"}, {"sha": "56e6ec0b2c77c78477f5157485f28ddff2da38da", "filename": "libstdc++-v3/include/bits/unique_ptr.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Finclude%2Fbits%2Funique_ptr.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Finclude%2Fbits%2Funique_ptr.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Funique_ptr.h?ref=1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "patch": "@@ -652,7 +652,6 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \n #if __cplusplus > 201402L || !defined(__STRICT_ANSI__) // c++1z or gnu++11\n   template<typename _Tp, typename _Dp>\n-    inline\n     typename enable_if<!__is_swappable<_Dp>::value>::type\n     swap(unique_ptr<_Tp, _Dp>&,\n \t unique_ptr<_Tp, _Dp>&) = delete;"}, {"sha": "63e680897dac658375f53acb02c6de919eeb0f62", "filename": "libstdc++-v3/include/debug/array", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Farray", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Farray", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Farray?ref=1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "patch": "@@ -260,6 +260,14 @@ namespace __debug\n     { return !(__one < __two); }\n \n   // Specialized algorithms.\n+\n+#if __cplusplus > 201402L || !defined(__STRICT_ANSI__) // c++1z or gnu++11\n+  template<typename _Tp, size_t _Nm>\n+    typename enable_if<\n+      !_GLIBCXX_STD_C::__array_traits<_Tp, _Nm>::_Is_swappable::value>::type\n+    swap(array<_Tp, _Nm>&, array<_Tp, _Nm>&) = delete;\n+#endif\n+\n   template<typename _Tp, std::size_t _Nm>\n     inline void\n     swap(array<_Tp, _Nm>& __one, array<_Tp, _Nm>& __two)"}, {"sha": "f5028c98994a5812c31605abbeeec1730ea785c6", "filename": "libstdc++-v3/include/std/array", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Finclude%2Fstd%2Farray", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Finclude%2Fstd%2Farray", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Farray?ref=1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "patch": "@@ -290,7 +290,6 @@ _GLIBCXX_BEGIN_NAMESPACE_CONTAINER\n \n #if __cplusplus > 201402L || !defined(__STRICT_ANSI__) // c++1z or gnu++11\n   template<typename _Tp, std::size_t _Nm>\n-    inline\n     typename enable_if<\n       !_GLIBCXX_STD_C::__array_traits<_Tp, _Nm>::_Is_swappable::value>::type\n     swap(array<_Tp, _Nm>&, array<_Tp, _Nm>&) = delete;"}, {"sha": "3d69e104199d0f6d47bfc5fa5baabcec66968ead", "filename": "libstdc++-v3/include/std/optional", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Finclude%2Fstd%2Foptional", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Finclude%2Fstd%2Foptional", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Foptional?ref=1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "patch": "@@ -930,7 +930,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n     { __lhs.swap(__rhs); }\n \n   template<typename _Tp>\n-    inline enable_if_t<!(is_move_constructible_v<_Tp> && is_swappable_v<_Tp>)>\n+    enable_if_t<!(is_move_constructible_v<_Tp> && is_swappable_v<_Tp>)>\n     swap(optional<_Tp>&, optional<_Tp>&) = delete;\n \n   template<typename _Tp>"}, {"sha": "13e0bf8e3cf518ed2b1e20adaa514f680fa55643", "filename": "libstdc++-v3/include/std/tuple", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftuple", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftuple", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftuple?ref=1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "patch": "@@ -1588,7 +1588,6 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \n #if __cplusplus > 201402L || !defined(__STRICT_ANSI__) // c++1z or gnu++11\n   template<typename... _Elements>\n-    inline\n     typename enable_if<!__and_<__is_swappable<_Elements>...>::value>::type\n     swap(tuple<_Elements...>&, tuple<_Elements...>&) = delete;\n #endif"}, {"sha": "822674ffbecf30ed4a85660763aba3fe82db8324", "filename": "libstdc++-v3/include/std/variant", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fvariant", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fvariant", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fvariant?ref=1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "patch": "@@ -865,8 +865,8 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n     { __lhs.swap(__rhs); }\n \n   template<typename... _Types>\n-    inline enable_if_t<!__and_<is_move_constructible<_Types>...,\n-\t\t\t       is_swappable<_Types>...>::value>\n+    enable_if_t<!__and_<is_move_constructible<_Types>...,\n+\t\t\tis_swappable<_Types>...>::value>\n     swap(variant<_Types...>&, variant<_Types...>&) = delete;\n \n   class bad_variant_access : public exception"}, {"sha": "16761d31aa88f8576d3413b5d8ea29103bab5991", "filename": "libstdc++-v3/testsuite/23_containers/array/tuple_interface/get_debug_neg.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Fget_debug_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Fget_debug_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Fget_debug_neg.cc?ref=1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "patch": "@@ -27,6 +27,6 @@ int n1 = std::get<1>(a);\n int n2 = std::get<1>(std::move(a));\n int n3 = std::get<1>(ca);\n \n-// { dg-error \"static assertion failed\" \"\" { target *-*-* } 273 }\n-// { dg-error \"static assertion failed\" \"\" { target *-*-* } 282 }\n+// { dg-error \"static assertion failed\" \"\" { target *-*-* } 281 }\n // { dg-error \"static assertion failed\" \"\" { target *-*-* } 290 }\n+// { dg-error \"static assertion failed\" \"\" { target *-*-* } 298 }"}, {"sha": "69d638b7c5ef79fccce624131a5cd989feadb541", "filename": "libstdc++-v3/testsuite/23_containers/array/tuple_interface/get_neg.cc", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Fget_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Fget_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Fget_neg.cc?ref=1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "patch": "@@ -27,6 +27,6 @@ int n1 = std::get<1>(a);\n int n2 = std::get<1>(std::move(a));\n int n3 = std::get<1>(ca);\n \n-// { dg-error \"static assertion failed\" \"\" { target *-*-* } 303 }\n-// { dg-error \"static assertion failed\" \"\" { target *-*-* } 312 }\n-// { dg-error \"static assertion failed\" \"\" { target *-*-* } 320 }\n+// { dg-error \"static assertion failed\" \"\" { target *-*-* } 302 }\n+// { dg-error \"static assertion failed\" \"\" { target *-*-* } 311 }\n+// { dg-error \"static assertion failed\" \"\" { target *-*-* } 319 }"}, {"sha": "1f3a5edc07e3631faefdb7ba5142004ca9eab8a9", "filename": "libstdc++-v3/testsuite/23_containers/array/tuple_interface/tuple_element_debug_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_element_debug_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_element_debug_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_element_debug_neg.cc?ref=1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "patch": "@@ -22,4 +22,4 @@\n \n typedef std::tuple_element<1, std::array<int, 1>>::type type;\n \n-// { dg-error \"static assertion failed\" \"\" { target *-*-* } 308 }\n+// { dg-error \"static assertion failed\" \"\" { target *-*-* } 316 }"}, {"sha": "016c7478f2110e67bc1e27709eb99543e1868043", "filename": "libstdc++-v3/testsuite/23_containers/array/tuple_interface/tuple_element_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_element_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d752b4feec13afaae5ad9f6d24c0f4d83d674e1/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_element_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_element_neg.cc?ref=1d752b4feec13afaae5ad9f6d24c0f4d83d674e1", "patch": "@@ -22,4 +22,4 @@\n \n typedef std::tuple_element<1, std::array<int, 1>>::type type;\n \n-// { dg-error \"static assertion failed\" \"\" { target *-*-* } 351 }\n+// { dg-error \"static assertion failed\" \"\" { target *-*-* } 350 }"}]}