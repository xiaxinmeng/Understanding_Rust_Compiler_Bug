{"sha": "54473ca70df610235a987eac0a8966e0cbca4f81", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTQ0NzNjYTcwZGY2MTAyMzVhOTg3ZWFjMGE4OTY2ZTBjYmNhNGY4MQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl@gnu.org", "date": "1998-08-15T20:47:16Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1998-08-15T20:47:16Z"}, "message": "alpha.h (ASM_OUTPUT_MI_THUNK): Handle aggregated return type.\n\nSat Aug 15 20:22:33 1998  H.J. Lu  (hjl@gnu.org)\n        * config/alpha/alpha.h (ASM_OUTPUT_MI_THUNK): Handle aggregated\n        return type.\n        * config/alpha/win-nt.h (ASM_OUTPUT_MI_THUNK): Likewise.\n\nFrom-SVN: r21751", "tree": {"sha": "04066b6c28c512c3cc869c21aa681794012f24f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/04066b6c28c512c3cc869c21aa681794012f24f7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/54473ca70df610235a987eac0a8966e0cbca4f81", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54473ca70df610235a987eac0a8966e0cbca4f81", "html_url": "https://github.com/Rust-GCC/gccrs/commit/54473ca70df610235a987eac0a8966e0cbca4f81", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54473ca70df610235a987eac0a8966e0cbca4f81/comments", "author": null, "committer": null, "parents": [{"sha": "67111044cec25f185fce120b66c9968c3dd6e1b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67111044cec25f185fce120b66c9968c3dd6e1b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67111044cec25f185fce120b66c9968c3dd6e1b1"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "030e35ba5fbe66e7282abfe2c0113def988cf476", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54473ca70df610235a987eac0a8966e0cbca4f81/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54473ca70df610235a987eac0a8966e0cbca4f81/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=54473ca70df610235a987eac0a8966e0cbca4f81", "patch": "@@ -1,3 +1,9 @@\n+Sat Aug 15 20:22:33 1998  H.J. Lu  (hjl@gnu.org)\n+\n+\t* config/alpha/alpha.h (ASM_OUTPUT_MI_THUNK): Handle aggregated\n+\treturn type.\n+\t* config/alpha/win-nt.h (ASM_OUTPUT_MI_THUNK): Likewise.\n+\n Sat Aug 15 08:39:49 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>\n \n \t* config/sparc/sparc.md (movsi_lo_sum_pic_label_reg): Remove"}, {"sha": "4e99683fbbd6dcdb0c5708a760fd249050e1a07d", "filename": "gcc/config/alpha/alpha.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54473ca70df610235a987eac0a8966e0cbca4f81/gcc%2Fconfig%2Falpha%2Falpha.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54473ca70df610235a987eac0a8966e0cbca4f81/gcc%2Fconfig%2Falpha%2Falpha.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.h?ref=54473ca70df610235a987eac0a8966e0cbca4f81", "patch": "@@ -2145,12 +2145,14 @@ literal_section ()\t\t\t\t\t\t\\\n #define ASM_OUTPUT_MI_THUNK(FILE, THUNK_FNDECL, DELTA, FUNCTION)\t\\\n do {\t\t\t\t\t\t\t\t\t\\\n   char *fn_name = XSTR (XEXP (DECL_RTL (FUNCTION), 0), 0);\t\t\\\n+  int reg;\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n   /* Mark end of prologue.  */\t\t\t\t\t\t\\\n   output_end_prologue (FILE);\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n   /* Rely on the assembler to macro expand a large delta.  */\t\t\\\n-  fprintf (FILE, \"\\tlda $16,%ld($16)\\n\", (long)(DELTA));\t\t\\\n+  reg = aggregate_value_p (TREE_TYPE (TREE_TYPE (FUNCTION))) ? 17 : 16;\t\\\n+  fprintf (FILE, \"\\tlda $%d,%ld($%d)\\n\", reg, (long)(DELTA), reg);\t\\\n \t\t\t\t\t\t\t\t\t\\\n   if (current_file_function_operand (XEXP (DECL_RTL (FUNCTION), 0)))\t\\\n     {\t\t\t\t\t\t\t\t\t\\"}, {"sha": "a3aa27519b67877eab6c650429da139107f2bade", "filename": "gcc/config/alpha/win-nt.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54473ca70df610235a987eac0a8966e0cbca4f81/gcc%2Fconfig%2Falpha%2Fwin-nt.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54473ca70df610235a987eac0a8966e0cbca4f81/gcc%2Fconfig%2Falpha%2Fwin-nt.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fwin-nt.h?ref=54473ca70df610235a987eac0a8966e0cbca4f81", "patch": "@@ -111,12 +111,14 @@ Boston, MA 02111-1307, USA.  */\n #define ASM_OUTPUT_MI_THUNK(FILE, THUNK_FNDECL, DELTA, FUNCTION)\t\\\n do {\t\t\t\t\t\t\t\t\t\\\n   char *op, *fn_name = XSTR (XEXP (DECL_RTL (FUNCTION), 0), 0);\t\t\\\n+  int reg;\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n   /* Mark end of prologue.  */\t\t\t\t\t\t\\\n   output_end_prologue (FILE);\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n   /* Rely on the assembler to macro expand a large delta.  */\t\t\\\n-  fprintf (FILE, \"\\tlda $16,%ld($16)\\n\", (long)(DELTA));\t\t\\\n+  reg = aggregate_value_p (TREE_TYPE (TREE_TYPE (FUNCTION))) ? 17 : 16; \\\n+  fprintf (FILE, \"\\tlda $%d,%ld($%d)\\n\", reg, (long)(DELTA), reg);      \\       \n \t\t\t\t\t\t\t\t\t\\\n   op = \"jsr\";\t\t\t\t\t\t\t\t\\\n   if (current_file_function_operand (XEXP (DECL_RTL (FUNCTION), 0)))\t\\"}]}