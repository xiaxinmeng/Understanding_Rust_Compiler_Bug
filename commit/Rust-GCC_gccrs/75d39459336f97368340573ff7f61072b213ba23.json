{"sha": "75d39459336f97368340573ff7f61072b213ba23", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzVkMzk0NTkzMzZmOTczNjgzNDA1NzNmZjdmNjEwNzJiMjEzYmEyMw==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@mhpcc.edu", "date": "1999-01-24T17:20:07Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1999-01-24T17:20:07Z"}, "message": "Fix problems found by David Edelsohn I caused\n\nFrom-SVN: r24851", "tree": {"sha": "7c3854f0c10fab04b5bf4b72cc20d5f5aa68e41e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7c3854f0c10fab04b5bf4b72cc20d5f5aa68e41e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/75d39459336f97368340573ff7f61072b213ba23", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75d39459336f97368340573ff7f61072b213ba23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75d39459336f97368340573ff7f61072b213ba23", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75d39459336f97368340573ff7f61072b213ba23/comments", "author": null, "committer": null, "parents": [{"sha": "081cc1f74447392d403231039335839f4b2c92a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/081cc1f74447392d403231039335839f4b2c92a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/081cc1f74447392d403231039335839f4b2c92a5"}], "stats": {"total": 44, "additions": 28, "deletions": 16}, "files": [{"sha": "369fc8a266d603b5efaef3b859f67e54d1e96c9a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75d39459336f97368340573ff7f61072b213ba23/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75d39459336f97368340573ff7f61072b213ba23/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=75d39459336f97368340573ff7f61072b213ba23", "patch": "@@ -1,7 +1,15 @@\n+Sun Jan 24 20:13:45 1999  David Edelsohn  <edelsohn@mhpcc.edu>\n+\n+\t* rs6000.md (left shift + set cr patterns): Add missing '#' to\n+\tsplit patterns.\n+\t(move register + set cr pattern): Ditto.\n+\t* rs6000.md (movdi, !TARGET_POWERPC64 splitters): Add back in\n+\tJan. 15th patch, inadvertently deleted.\n+\n Sun Jan 24 08:07:59 1999  Jeffrey A Law  (law@cygnus.com)\n \n-        * stmt.c (stmt_loop_nest_empty): New function.\n-        * tree.h (stmt_loop_nest_empty): Declare it.\n+\t* stmt.c (stmt_loop_nest_empty): New function.\n+\t* tree.h (stmt_loop_nest_empty): Declare it.\n \t* rtl.def (CALL_PLACEHOLDER): New rtx code.\n \n Sun Jan 24 21:24:43 1999  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>"}, {"sha": "03969a737145d0dd3729f9b88bff7d33556dbf2d", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 18, "deletions": 14, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75d39459336f97368340573ff7f61072b213ba23/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75d39459336f97368340573ff7f61072b213ba23/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=75d39459336f97368340573ff7f61072b213ba23", "patch": "@@ -4265,7 +4265,9 @@\n \t (const_int 0)))\n    (clobber (match_scratch:SI 4 \"=r,r\"))]\n   \"includes_lshift_p (operands[2], operands[3])\"\n-  \"{rlinm.|rlwinm.} %4,%1,%h2,%m3,%M3\"\n+  \"@\n+  {rlinm.|rlwinm.} %4,%1,%h2,%m3,%M3\n+  #\"\n   [(set_attr \"type\" \"delayed_compare\")])\n \n (define_split\n@@ -4296,7 +4298,9 @@\n    (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r,r\")\n \t(and:SI (ashift:SI (match_dup 1) (match_dup 2)) (match_dup 3)))]\n   \"includes_lshift_p (operands[2], operands[3])\"\n-  \"{rlinm.|rlwinm.} %0,%1,%h2,%m3,%M3\"\n+  \"@\n+  {rlinm.|rlwinm.} %0,%1,%h2,%m3,%M3\n+  #\"\n   [(set_attr \"type\" \"delayed_compare\")])\n \n (define_split\n@@ -8405,7 +8409,9 @@\n \t\t    (const_int 0)))\n    (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r,r\") (match_dup 1))]\n   \"\"\n-  \"mr. %0,%1\"\n+  \"@\n+  mr. %0,%1\n+  #\"\n   [(set_attr \"type\" \"compare\")])\n \n (define_split\n@@ -8992,13 +8998,18 @@\n {\n   operands[2] = gen_rtx_SUBREG (SImode, operands[0], WORDS_BIG_ENDIAN == 0);\n   operands[3] = gen_rtx_SUBREG (SImode, operands[0], WORDS_BIG_ENDIAN != 0);\n+#if HOST_BITS_PER_WIDE_INT == 32\n   operands[4] = (INTVAL (operands[1]) & 0x80000000) ? constm1_rtx : const0_rtx;\n+#else\n+  operands[4] = (HOST_WIDE_INT) INTVAL (operands[1]) >> 32;\n+  operands[1] = INTVAL (operands[1]) & 0xffffffff;\n+#endif\n }\")\n \n (define_split\n   [(set (match_operand:DI 0 \"gpc_reg_operand\" \"\")\n \t(match_operand:DI 1 \"const_double_operand\" \"\"))]\n-  \"! TARGET_POWERPC64 && reload_completed\"\n+  \"HOST_BITS_PER_WIDE_INT == 32 && ! TARGET_POWERPC64 && reload_completed\"\n   [(set (match_dup 2) (match_dup 4))\n    (set (match_dup 3) (match_dup 5))]\n   \"\n@@ -9170,16 +9181,9 @@\n \t\t    (const_int 0)))\n    (set (match_operand:DI 0 \"gpc_reg_operand\" \"=r,r\") (match_dup 1))]\n   \"TARGET_POWERPC64\"\n-  \"mr. %0,%1\"\n-  [(set_attr \"type\" \"compare\")])\n-\n-(define_insn \"\"\n-  [(set (match_operand:CC 2 \"cc_reg_operand\" \"=x,?y\")\n-\t(compare:CC (match_operand:DI 1 \"gpc_reg_operand\" \"r,r\")\n-\t\t    (const_int 0)))\n-   (set (match_operand:DI 0 \"gpc_reg_operand\" \"=r,r\") (match_dup 1))]\n-  \"\"\n-  \"mr. %0,%1\"\n+  \"@\n+  mr. %0,%1\n+  #\"\n   [(set_attr \"type\" \"compare\")])\n \n (define_split"}]}