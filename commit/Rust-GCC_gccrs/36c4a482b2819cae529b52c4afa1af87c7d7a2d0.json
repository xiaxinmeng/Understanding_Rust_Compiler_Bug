{"sha": "36c4a482b2819cae529b52c4afa1af87c7d7a2d0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzZjNGE0ODJiMjgxOWNhZTUyOWI1MmM0YWZhMWFmODdjN2Q3YTJkMA==", "commit": {"author": {"name": "Nathan Froyd", "email": "froydnj@codesourcery.com", "date": "2010-06-02T11:40:13Z"}, "committer": {"name": "Nathan Froyd", "email": "froydnj@gcc.gnu.org", "date": "2010-06-02T11:40:13Z"}, "message": "tree-vect-slp.c (vect_create_mask_and_perm): Use gimple_build_call instead of gimple_build_call_vec.\n\n\t* tree-vect-slp.c (vect_create_mask_and_perm): Use gimple_build_call\n\tinstead of gimple_build_call_vec.  Delete unnecessary local variable.\n\nFrom-SVN: r160147", "tree": {"sha": "3aed8fdcb14488690e2a85d6a21ccf034928e67d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3aed8fdcb14488690e2a85d6a21ccf034928e67d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/36c4a482b2819cae529b52c4afa1af87c7d7a2d0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36c4a482b2819cae529b52c4afa1af87c7d7a2d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36c4a482b2819cae529b52c4afa1af87c7d7a2d0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36c4a482b2819cae529b52c4afa1af87c7d7a2d0/comments", "author": null, "committer": null, "parents": [{"sha": "69baf0a35d6590201e5a20987bdfb965ae9ac2f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69baf0a35d6590201e5a20987bdfb965ae9ac2f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69baf0a35d6590201e5a20987bdfb965ae9ac2f4"}], "stats": {"total": 16, "additions": 7, "deletions": 9}, "files": [{"sha": "10bf38dff67f2d02858cca58155fa6cb6a0c69d1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36c4a482b2819cae529b52c4afa1af87c7d7a2d0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36c4a482b2819cae529b52c4afa1af87c7d7a2d0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=36c4a482b2819cae529b52c4afa1af87c7d7a2d0", "patch": "@@ -1,3 +1,8 @@\n+2010-06-02  Nathan Froyd  <froydnj@codesourcery.com>\n+\n+\t* tree-vect-slp.c (vect_create_mask_and_perm): Use gimple_build_call\n+\tinstead of gimple_build_call_vec.  Delete unnecessary local variable.\n+\n 2010-06-02  Steven Bosscher  <steven@gcc.gnu.org>\n \n \t* gimplify.c (gimplify_body): Revert \"Do not initialize RTL profiling\""}, {"sha": "9dd284dbd3cfa6ccf9256a62690014d180e48bd2", "filename": "gcc/tree-vect-slp.c", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36c4a482b2819cae529b52c4afa1af87c7d7a2d0/gcc%2Ftree-vect-slp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36c4a482b2819cae529b52c4afa1af87c7d7a2d0/gcc%2Ftree-vect-slp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-slp.c?ref=36c4a482b2819cae529b52c4afa1af87c7d7a2d0", "patch": "@@ -1924,7 +1924,6 @@ vect_create_mask_and_perm (gimple stmt, gimple next_scalar_stmt,\n   stmt_vec_info next_stmt_info;\n   int i, stride;\n   tree first_vec, second_vec, data_ref;\n-  VEC (tree, heap) *params = NULL;\n \n   stride = SLP_TREE_NUMBER_OF_VEC_STMTS (node) / ncopies;\n \n@@ -1940,15 +1939,9 @@ vect_create_mask_and_perm (gimple stmt, gimple next_scalar_stmt,\n       first_vec = VEC_index (tree, dr_chain, first_vec_indx);\n       second_vec = VEC_index (tree, dr_chain, second_vec_indx);\n \n-      /* Build argument list for the vectorized call.  */\n-      VEC_free (tree, heap, params);\n-      params = VEC_alloc (tree, heap, 3);\n-      VEC_quick_push (tree, params, first_vec);\n-      VEC_quick_push (tree, params, second_vec);\n-      VEC_quick_push (tree, params, mask);\n-\n       /* Generate the permute statement.  */\n-      perm_stmt = gimple_build_call_vec (builtin_decl, params);\n+      perm_stmt = gimple_build_call (builtin_decl,\n+\t\t\t\t     3, first_vec, second_vec, mask);\n       data_ref = make_ssa_name (perm_dest, perm_stmt);\n       gimple_call_set_lhs (perm_stmt, data_ref);\n       vect_finish_stmt_generation (stmt, perm_stmt, gsi);"}]}