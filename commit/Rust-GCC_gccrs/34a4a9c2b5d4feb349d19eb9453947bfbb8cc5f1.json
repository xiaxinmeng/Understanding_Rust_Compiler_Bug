{"sha": "34a4a9c2b5d4feb349d19eb9453947bfbb8cc5f1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzRhNGE5YzJiNWQ0ZmViMzQ5ZDE5ZWI5NDUzOTQ3YmZiYjhjYzVmMQ==", "commit": {"author": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2019-06-06T19:02:54Z"}, "committer": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2019-06-06T19:02:54Z"}, "message": "Darwin, PowerPC, libgcc - Ensure unwinder is built with altivec enabled.\n\nWhen libgcc is built on Darwin, it is usually built for the earliest potential\ntarget (Darwin8, 10.4).  Build for that revision default to assuming that the\nprocessor might be G3 (without vector ops) and there is an outlined function\nused for save/restore that checks whether the processor is G3 or G4+ at run-\ntime.  However, the unwinder itself needs to be built with the assumption of\nvector usage so that the relevant outlined functions are called.\n\n2019-06-06  Iain Sandoe  <iain@sandoe.co.uk>\n\n\t* config/rs6000/t-darwin: Ensure that the unwinder is built with\n\taltivec enabled.\n\nFrom-SVN: r272017", "tree": {"sha": "e79ed7aef43a80755f12da9652e9ec26c7c62a33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e79ed7aef43a80755f12da9652e9ec26c7c62a33"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/34a4a9c2b5d4feb349d19eb9453947bfbb8cc5f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34a4a9c2b5d4feb349d19eb9453947bfbb8cc5f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/34a4a9c2b5d4feb349d19eb9453947bfbb8cc5f1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34a4a9c2b5d4feb349d19eb9453947bfbb8cc5f1/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2172277702e81ae21c2f914889c6b41f282011d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2172277702e81ae21c2f914889c6b41f282011d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2172277702e81ae21c2f914889c6b41f282011d9"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "2eb3f27155ad458ece013ba60fd2c2f0f962356a", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34a4a9c2b5d4feb349d19eb9453947bfbb8cc5f1/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34a4a9c2b5d4feb349d19eb9453947bfbb8cc5f1/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=34a4a9c2b5d4feb349d19eb9453947bfbb8cc5f1", "patch": "@@ -1,3 +1,8 @@\n+2019-06-06  Iain Sandoe  <iain@sandoe.co.uk>\n+\n+\t* config/rs6000/t-darwin: Ensure that the unwinder is built with\n+\taltivec enabled.\n+\n 2019-06-06  Jozef Lawrynowicz  <jozef.l@mittosystems.com>\n \n \t* config/msp430/slli.S (__mspabi_slli_n): Put function in its own"}, {"sha": "61da0bdf13a700f7ebf130fc23f97e310a1cd12d", "filename": "libgcc/config/rs6000/t-darwin", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34a4a9c2b5d4feb349d19eb9453947bfbb8cc5f1/libgcc%2Fconfig%2Frs6000%2Ft-darwin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34a4a9c2b5d4feb349d19eb9453947bfbb8cc5f1/libgcc%2Fconfig%2Frs6000%2Ft-darwin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Frs6000%2Ft-darwin?ref=34a4a9c2b5d4feb349d19eb9453947bfbb8cc5f1", "patch": "@@ -20,4 +20,7 @@ LIB2ADD_ST = \\\n # earlier OSX versions.\n HOST_LIBGCC2_CFLAGS += -Wa,-force_cpusubtype_ALL -mmacosx-version-min=10.4\n \n+unwind-dw2_s.o: HOST_LIBGCC2_CFLAGS += -maltivec\n+unwind-dw2.o: HOST_LIBGCC2_CFLAGS += -maltivec\n+\n LIB2ADDEH += $(srcdir)/config/rs6000/darwin-fallback.c"}]}