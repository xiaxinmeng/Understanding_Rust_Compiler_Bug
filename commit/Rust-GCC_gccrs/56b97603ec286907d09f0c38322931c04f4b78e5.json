{"sha": "56b97603ec286907d09f0c38322931c04f4b78e5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTZiOTc2MDNlYzI4NjkwN2QwOWYwYzM4MzIyOTMxYzA0ZjRiNzhlNQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2018-06-21T17:02:13Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2018-06-21T17:02:13Z"}, "message": "except.c (finish_eh_generation): Commit edge insertions only after the EH edges have been redirected from...\n\n\t* except.c (finish_eh_generation): Commit edge insertions only after\n\tthe EH edges have been redirected from post-landing to landing pads.\n\nFrom-SVN: r261855", "tree": {"sha": "e00a513589e7faabb86c571c71a736bfc745cd48", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e00a513589e7faabb86c571c71a736bfc745cd48"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/56b97603ec286907d09f0c38322931c04f4b78e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56b97603ec286907d09f0c38322931c04f4b78e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56b97603ec286907d09f0c38322931c04f4b78e5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56b97603ec286907d09f0c38322931c04f4b78e5/comments", "author": null, "committer": null, "parents": [{"sha": "575b192558435f0128e6f71afb95d002cdef835e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/575b192558435f0128e6f71afb95d002cdef835e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/575b192558435f0128e6f71afb95d002cdef835e"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "d8e1361f8ad7068fcb2b708074f65ba158264dfe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b97603ec286907d09f0c38322931c04f4b78e5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b97603ec286907d09f0c38322931c04f4b78e5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=56b97603ec286907d09f0c38322931c04f4b78e5", "patch": "@@ -1,3 +1,8 @@\n+2018-06-21  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* except.c (finish_eh_generation): Commit edge insertions only after\n+\tthe EH edges have been redirected from post-landing to landing pads.\n+\n 2018-06-21  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* tree-nested.c (get_frame_type): Use create_tmp_var_raw instead of"}, {"sha": "84666d9041ea7a0c055dd2371ba7119da2af98e5", "filename": "gcc/except.c", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b97603ec286907d09f0c38322931c04f4b78e5/gcc%2Fexcept.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b97603ec286907d09f0c38322931c04f4b78e5/gcc%2Fexcept.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexcept.c?ref=56b97603ec286907d09f0c38322931c04f4b78e5", "patch": "@@ -1510,12 +1510,8 @@ finish_eh_generation (void)\n     sjlj_build_landing_pads ();\n   else\n     dw2_build_landing_pads ();\n-  break_superblocks ();\n \n-  if (targetm_common.except_unwind_info (&global_options) == UI_SJLJ\n-      /* Kludge for Alpha (see alpha_gp_save_rtx).  */\n-      || single_succ_edge (ENTRY_BLOCK_PTR_FOR_FN (cfun))->insns.r)\n-    commit_edge_insertions ();\n+  break_superblocks ();\n \n   /* Redirect all EH edges from the post_landing_pad to the landing pad.  */\n   FOR_EACH_BB_FN (bb, cfun)\n@@ -1546,6 +1542,11 @@ finish_eh_generation (void)\n \t\t       : EDGE_ABNORMAL);\n \t}\n     }\n+\n+  if (targetm_common.except_unwind_info (&global_options) == UI_SJLJ\n+      /* Kludge for Alpha (see alpha_gp_save_rtx).  */\n+      || single_succ_edge (ENTRY_BLOCK_PTR_FOR_FN (cfun))->insns.r)\n+    commit_edge_insertions ();\n }\n \f\n /* This section handles removing dead code for flow.  */"}]}