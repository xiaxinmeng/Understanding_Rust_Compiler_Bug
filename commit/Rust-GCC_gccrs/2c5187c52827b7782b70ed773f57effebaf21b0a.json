{"sha": "2c5187c52827b7782b70ed773f57effebaf21b0a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmM1MTg3YzUyODI3Yjc3ODJiNzBlZDc3M2Y1N2VmZmViYWYyMWIwYQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2001-12-16T22:53:02Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2001-12-16T22:53:02Z"}, "message": "re PR java/5088 (Can't create a java.lang.Object from CNI)\n\n\t* mangle.c (mangle_method_decl): Never emit `C2' constructor.\n\tFixes PR java/5088.\n\nFrom-SVN: r48083", "tree": {"sha": "a8cf5999e61c77efb260c24ac9bfdd228156e8e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a8cf5999e61c77efb260c24ac9bfdd228156e8e8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2c5187c52827b7782b70ed773f57effebaf21b0a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c5187c52827b7782b70ed773f57effebaf21b0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c5187c52827b7782b70ed773f57effebaf21b0a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c5187c52827b7782b70ed773f57effebaf21b0a/comments", "author": null, "committer": null, "parents": [{"sha": "04942eac9b0d10067418038e746428703d17035c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04942eac9b0d10067418038e746428703d17035c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04942eac9b0d10067418038e746428703d17035c"}], "stats": {"total": 16, "additions": 7, "deletions": 9}, "files": [{"sha": "de41901c303cc253f7265e2815a93354326ee4b9", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c5187c52827b7782b70ed773f57effebaf21b0a/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c5187c52827b7782b70ed773f57effebaf21b0a/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=2c5187c52827b7782b70ed773f57effebaf21b0a", "patch": "@@ -1,3 +1,8 @@\n+2001-12-16  Tom Tromey  <tromey@redhat.com>\n+\n+\t* mangle.c (mangle_method_decl): Never emit `C2' constructor.\n+\tFixes PR java/5088.\n+\n 2001-12-16  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* ChangeLog, Make-lang.in, class.c, expr.c, gcj.texi, java-tree.h,"}, {"sha": "d055c9cc433c9746866258a3f66f87333dc0919b", "filename": "gcc/java/mangle.c", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c5187c52827b7782b70ed773f57effebaf21b0a/gcc%2Fjava%2Fmangle.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c5187c52827b7782b70ed773f57effebaf21b0a/gcc%2Fjava%2Fmangle.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fmangle.c?ref=2c5187c52827b7782b70ed773f57effebaf21b0a", "patch": "@@ -142,20 +142,13 @@ mangle_method_decl (mdecl)\n   /* Mangle the name of the type that contains mdecl */\n   mangle_record_type (DECL_CONTEXT (mdecl), /* for_pointer = */ 0);\n \n-  /* Mangle the function name. There three cases\n-       - mdecl is java.lang.Object.Object(), use `C2' for its name\n-         (denotes a base object constructor.)\n+  /* Mangle the function name.  There are two cases:\n        - mdecl is a constructor, use `C1' for its name, (denotes a\n          complete object constructor.)\n        - mdecl is not a constructor, standard mangling is performed.\n      We terminate the mangled function name with a `E'. */\n   if (ID_INIT_P (method_name))\n-    {\n-      if (DECL_CONTEXT (mdecl) == object_type_node)\n-\tobstack_grow (mangle_obstack, \"C2\", 2);\n-      else\n-\tobstack_grow (mangle_obstack, \"C1\", 2);\n-    }\n+    obstack_grow (mangle_obstack, \"C1\", 2);\n   else\n     mangle_member_name (method_name);\n   obstack_1grow (mangle_obstack, 'E');"}]}