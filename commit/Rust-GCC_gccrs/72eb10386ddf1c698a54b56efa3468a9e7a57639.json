{"sha": "72eb10386ddf1c698a54b56efa3468a9e7a57639", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzJlYjEwMzg2ZGRmMWM2OThhNTRiNTZlZmEzNDY4YTllN2E1NzYzOQ==", "commit": {"author": {"name": "Bruno Haible", "email": "bruno@linuix.mathematik.uni-karlsruhe.de", "date": "1997-11-21T20:51:30Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1997-11-21T20:51:30Z"}, "message": "* stmt.c (expand_end_bindings): Allow jump into block with cleanups.\n\nFrom-SVN: r16654", "tree": {"sha": "8c7af87a8c34fa5ccd349a47f8240ea2d2cc4952", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8c7af87a8c34fa5ccd349a47f8240ea2d2cc4952"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/72eb10386ddf1c698a54b56efa3468a9e7a57639", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72eb10386ddf1c698a54b56efa3468a9e7a57639", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72eb10386ddf1c698a54b56efa3468a9e7a57639", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72eb10386ddf1c698a54b56efa3468a9e7a57639/comments", "author": null, "committer": null, "parents": [{"sha": "6c20b7e97e520789f6fcd11f3b6326394fbc1697", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c20b7e97e520789f6fcd11f3b6326394fbc1697", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c20b7e97e520789f6fcd11f3b6326394fbc1697"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "06d0b70b80805cf5193ad3e15c91438de68e7f73", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72eb10386ddf1c698a54b56efa3468a9e7a57639/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72eb10386ddf1c698a54b56efa3468a9e7a57639/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=72eb10386ddf1c698a54b56efa3468a9e7a57639", "patch": "@@ -1,3 +1,7 @@\n+Fri Nov 21 12:49:56 1997  Bruno Haible  <bruno@linuix.mathematik.uni-karlsruhe.de>\n+\n+\t* stmt.c (expand_end_bindings): Allow jump into block with cleanups.\n+\n Fri Nov 21 12:18:51 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* except.h: Add outer_context_label_stack."}, {"sha": "a99da39346f178d7c378a4d9f37c1ce04fa0ba68", "filename": "gcc/stmt.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72eb10386ddf1c698a54b56efa3468a9e7a57639/gcc%2Fstmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72eb10386ddf1c698a54b56efa3468a9e7a57639/gcc%2Fstmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstmt.c?ref=72eb10386ddf1c698a54b56efa3468a9e7a57639", "patch": "@@ -3411,10 +3411,10 @@ expand_end_bindings (vars, mark_ends, dont_jump_in)\n       emit_label (afterward);\n     }\n \n-  /* Don't allow jumping into a block that has cleanups or a stack level.  */\n+  /* Don't allow jumping into a block that has a stack level.\n+     Cleanups are allowed, though.  */\n   if (dont_jump_in\n-      || thisblock->data.block.stack_level != 0\n-      || thisblock->data.block.cleanups != 0)\n+      || thisblock->data.block.stack_level != 0)\n     {\n       struct label_chain *chain;\n \n@@ -3425,7 +3425,7 @@ expand_end_bindings (vars, mark_ends, dont_jump_in)\n \t  DECL_TOO_LATE (chain->label) = 1;\n \t  /* If any goto without a fixup came to this label,\n \t     that must be an error, because gotos without fixups\n-\t     come from outside all saved stack-levels and all cleanups.  */\n+\t     come from outside all saved stack-levels.  */\n \t  if (TREE_ADDRESSABLE (chain->label))\n \t    error_with_decl (chain->label,\n \t\t\t     \"label `%s' used before containing binding contour\");"}]}