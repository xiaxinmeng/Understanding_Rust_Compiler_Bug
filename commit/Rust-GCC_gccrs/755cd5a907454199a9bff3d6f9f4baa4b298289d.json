{"sha": "755cd5a907454199a9bff3d6f9f4baa4b298289d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzU1Y2Q1YTkwNzQ1NDE5OWE5YmZmM2Q2ZjlmNGJhYTRiMjk4Mjg5ZA==", "commit": {"author": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2015-12-14T16:13:33Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@gcc.gnu.org", "date": "2015-12-14T16:13:33Z"}, "message": "rs6000: Fix a mistake in cstore_si_as_di (PR68865, PR68879)\n\nconvert_move does not know how to zero-extend a constant integer to the\ntarget mode -- simply because it does not know the source mode.  As a\nresult, 32-bit SImode with the high bit set would be effectively sign-\nextended instead of zero-extended.\n\nThis patch fixes it.\n\n\n\tPR target/68865\n\tPR target/68879\n\t* config/rs6000/rs6000.md (cstore_si_as_di): Force all operands\n\tinto registers.\n\nFrom-SVN: r231621", "tree": {"sha": "862dce9eccdf0578a95c89ab3e4f0eeaf5a5ecaf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/862dce9eccdf0578a95c89ab3e4f0eeaf5a5ecaf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/755cd5a907454199a9bff3d6f9f4baa4b298289d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/755cd5a907454199a9bff3d6f9f4baa4b298289d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/755cd5a907454199a9bff3d6f9f4baa4b298289d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/755cd5a907454199a9bff3d6f9f4baa4b298289d/comments", "author": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "150cf34781103ff73f2c930777cb514882f73ef2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/150cf34781103ff73f2c930777cb514882f73ef2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/150cf34781103ff73f2c930777cb514882f73ef2"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "14efd7a35b0f8a50474e90e13efd57e23ca99999", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/755cd5a907454199a9bff3d6f9f4baa4b298289d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/755cd5a907454199a9bff3d6f9f4baa4b298289d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=755cd5a907454199a9bff3d6f9f4baa4b298289d", "patch": "@@ -1,3 +1,10 @@\n+2015-12-14  Segher Boessenkool  <segher@kernel.crashing.org>\n+\n+\tPR target/68865\n+\tPR target/68879\n+\t* config/rs6000/rs6000.md (cstore_si_as_di): Force all operands\n+\tinto registers.\n+\n 2015-12-14  Richard Biener  <rguenther@suse.de>\n \n \tRevert accidentially applied"}, {"sha": "35685a92e1a21ff26674f1b8a7deaa458ae52e58", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/755cd5a907454199a9bff3d6f9f4baa4b298289d/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/755cd5a907454199a9bff3d6f9f4baa4b298289d/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=755cd5a907454199a9bff3d6f9f4baa4b298289d", "patch": "@@ -10631,6 +10631,8 @@\n   int uns_flag = unsigned_comparison_operator (operands[1], VOIDmode) ? 1 : 0;\n   enum rtx_code cond_code = signed_condition (GET_CODE (operands[1]));\n \n+  operands[2] = force_reg (SImode, operands[2]);\n+  operands[3] = force_reg (SImode, operands[3]);\n   rtx op1 = gen_reg_rtx (DImode);\n   rtx op2 = gen_reg_rtx (DImode);\n   convert_move (op1, operands[2], uns_flag);"}]}