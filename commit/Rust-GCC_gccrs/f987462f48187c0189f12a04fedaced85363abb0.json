{"sha": "f987462f48187c0189f12a04fedaced85363abb0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Zjk4NzQ2MmY0ODE4N2MwMTg5ZjEyYTA0ZmVkYWNlZDg1MzYzYWJiMA==", "commit": {"author": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1994-10-20T21:52:05Z"}, "committer": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1994-10-20T21:52:05Z"}, "message": "(LINK_SPEC): Pass -shared through; don't pass -init __main if -shared.\n\n(LINK_SPEC): Pass -shared through; don't\n        pass -init __main if -shared.\n        (STARTFILE_SPEC): Wrap startfiles in %{!shared:}.\n        (INIT_NAME_FORMAT): Define.\n        (FINI_NAME_FORMAT): Define.\n\nFrom-SVN: r8326", "tree": {"sha": "e269072c7efdd7061c42e4fdbdb85ffbd6da98c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e269072c7efdd7061c42e4fdbdb85ffbd6da98c8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f987462f48187c0189f12a04fedaced85363abb0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f987462f48187c0189f12a04fedaced85363abb0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f987462f48187c0189f12a04fedaced85363abb0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f987462f48187c0189f12a04fedaced85363abb0/comments", "author": null, "committer": null, "parents": [{"sha": "d1e04478b06cd50f9cbfb342a517f1fea5903ebb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1e04478b06cd50f9cbfb342a517f1fea5903ebb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1e04478b06cd50f9cbfb342a517f1fea5903ebb"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "c7d20f6909c3b39995e343bc4eae5c91c0ca78c2", "filename": "gcc/config/alpha/alpha.h", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f987462f48187c0189f12a04fedaced85363abb0/gcc%2Fconfig%2Falpha%2Falpha.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f987462f48187c0189f12a04fedaced85363abb0/gcc%2Fconfig%2Falpha%2Falpha.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.h?ref=f987462f48187c0189f12a04fedaced85363abb0", "patch": "@@ -48,14 +48,15 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n #define LIB_SPEC \"%{p:-lprof1} %{pg:-lprof2} -lc\"\n \n-/* Pass \"-G 8\" to ld because Alpha's CC does.  Pass -O3 if we are optimizing,\n-   -O1 if we are not.  Pass -non_shared or -call_shared as appropriate.  */\n+/* Pass \"-G 8\" to ld because Alpha's CC does.  Pass -O3 if we are\n+   optimizing, -O1 if we are not.  Pass -shared, -non_shared or\n+   -call_shared as appropriate.  */\n #define LINK_SPEC  \\\n-  \"-G 8 %{O*:-O3} %{!O*:-O1} %{static:-non_shared} %{!static:-call_shared} \\\n-   -init __main\"\n+  \"-G 8 %{O*:-O3} %{!O*:-O1} %{!shared:-init __main} %{static:-non_shared} \\\n+   %{!static:%{shared:-shared} %{!shared:-call_shared}}\"\n \n #define STARTFILE_SPEC  \\\n-  \"%{pg:mcrt0.o%s}%{!pg:%{p:mcrt0.o%s}%{!p:crt0.o%s}}\"\n+  \"%{!shared:%{pg:mcrt0.o%s}%{!pg:%{p:mcrt0.o%s}%{!p:crt0.o%s}}}\"\n \n /* Print subsidiary information on the compiler version in use.  */\n #define TARGET_VERSION\n@@ -2021,3 +2022,5 @@ do {\t\t\t\t\t\t\t\\\n \n /* The linker will stick __main into the .init section.  */\n #define HAS_INIT_SECTION\n+#define INIT_NAME_FORMAT \"__init_%s\"\n+#define FINI_NAME_FORMAT \"__fini_%s\""}]}