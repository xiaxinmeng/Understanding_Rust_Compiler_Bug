{"sha": "3ce5ca7546a3772a770a7456d9575b3d10c0380e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2NlNWNhNzU0NmEzNzcyYTc3MGE3NDU2ZDk1NzViM2QxMGMwMzgwZQ==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2010-10-05T10:14:50Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-10-05T10:14:50Z"}, "message": "exp_ch3.adb, [...]: Minor code reorganization.\n\n2010-10-05  Robert Dewar  <dewar@adacore.com>\n\n\t* exp_ch3.adb, exp_ch5.adb, exp_disp.adb, exp_dist.adb, gnatlink.adb,\n\tmakeutl.adb, par-ch6.adb, prj-dect.adb, prj-env.adb, prj-env.ads,\n\tprj-ext.adb, prj-nmsc.adb, prj-part.adb, prj-pp.ads: Minor code\n\treorganization.\n\tMinor reformatting.\n\nFrom-SVN: r164979", "tree": {"sha": "ba7fd118079ee940543d3f23197253b06e5567f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba7fd118079ee940543d3f23197253b06e5567f7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3ce5ca7546a3772a770a7456d9575b3d10c0380e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ce5ca7546a3772a770a7456d9575b3d10c0380e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ce5ca7546a3772a770a7456d9575b3d10c0380e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ce5ca7546a3772a770a7456d9575b3d10c0380e/comments", "author": null, "committer": null, "parents": [{"sha": "96d2756f41a4a5f90fa8c302e38be5e35761d14b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96d2756f41a4a5f90fa8c302e38be5e35761d14b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96d2756f41a4a5f90fa8c302e38be5e35761d14b"}], "stats": {"total": 154, "additions": 86, "deletions": 68}, "files": [{"sha": "2dee69e3a92491e1a64101a8721d20183d8112a6", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -1,3 +1,11 @@\n+2010-10-05  Robert Dewar  <dewar@adacore.com>\n+\n+\t* exp_ch3.adb, exp_ch5.adb, exp_disp.adb, exp_dist.adb, gnatlink.adb,\n+\tmakeutl.adb, par-ch6.adb, prj-dect.adb, prj-env.adb, prj-env.ads,\n+\tprj-ext.adb, prj-nmsc.adb, prj-part.adb, prj-pp.ads: Minor code\n+\treorganization.\n+\tMinor reformatting.\n+\n 2010-10-05  Ed Schonberg  <schonberg@adacore.com>\n \n \t* sem_res.adb (Check_Parameterless_Call): If the prefix of 'Address is"}, {"sha": "a304c4b14cd2de464d5c901d35252f08a8d5484d", "filename": "gcc/ada/exp_ch3.adb", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fexp_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fexp_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch3.adb?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -4892,8 +4892,8 @@ package body Exp_Ch3 is\n                   --            Ityp!(Displace (Temp'Address, I'Tag)).all;\n \n                   else\n-                     --  Generate the equivalent record type and update\n-                     --  the subtype indication to reference it\n+                     --  Generate the equivalent record type and update the\n+                     --  subtype indication to reference it.\n \n                      Expand_Subtype_From_Expr\n                        (N             => N,\n@@ -4928,7 +4928,7 @@ package body Exp_Ch3 is\n                          Expression => New_Expr));\n \n                      --  Dynamically reference the tag associated with the\n-                     --  interface\n+                     --  interface.\n \n                      Tag_Comp :=\n                        Make_Function_Call (Loc,\n@@ -4945,7 +4945,7 @@ package body Exp_Ch3 is\n                   Rewrite (N,\n                     Make_Object_Renaming_Declaration (Loc,\n                       Defining_Identifier => Make_Temporary (Loc, 'D'),\n-                      Subtype_Mark => New_Occurrence_Of (Typ, Loc),\n+                      Subtype_Mark        => New_Occurrence_Of (Typ, Loc),\n                       Name => Convert_Tag_To_Interface (Typ, Tag_Comp)));\n \n                   Analyze (N, Suppress => All_Checks);"}, {"sha": "9c1c96cef00ad7291bc2e19d0c1ad1deb920b1e7", "filename": "gcc/ada/exp_ch5.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fexp_ch5.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fexp_ch5.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch5.adb?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -1358,15 +1358,15 @@ package body Exp_Ch5 is\n             else\n                Expr :=\n                  Make_Selected_Component (Loc,\n-                   Prefix => Duplicate_Subexpr (Rhs),\n+                   Prefix        => Duplicate_Subexpr (Rhs),\n                    Selector_Name => New_Occurrence_Of (C, Loc));\n             end if;\n \n             A :=\n               Make_Assignment_Statement (Loc,\n                 Name =>\n                   Make_Selected_Component (Loc,\n-                    Prefix => Duplicate_Subexpr (Lhs),\n+                    Prefix        => Duplicate_Subexpr (Lhs),\n                     Selector_Name =>\n                       New_Occurrence_Of (Find_Component (L_Typ, C), Loc)),\n                 Expression => Expr);"}, {"sha": "b5a464286a303b9cb7af9309b7070bcc5b03df06", "filename": "gcc/ada/exp_disp.adb", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fexp_disp.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fexp_disp.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_disp.adb?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -481,11 +481,11 @@ package body Exp_Disp is\n         and then Is_Interface (Typ)\n         and then\n           ((Nkind (Expr) = N_Selected_Component\n-              and then Is_Tag (Entity (Selector_Name (Expr))))\n+             and then Is_Tag (Entity (Selector_Name (Expr))))\n            or else\n            (Nkind (Expr) = N_Function_Call\n-              and then RTE_Available (RE_Displace)\n-              and then Entity (Name (Expr)) = RTE (RE_Displace))));\n+             and then RTE_Available (RE_Displace)\n+             and then Entity (Name (Expr)) = RTE (RE_Displace))));\n \n       Anon_Type := Create_Itype (E_Anonymous_Access_Type, Expr);\n       Set_Directly_Designated_Type (Anon_Type, Typ);\n@@ -8023,7 +8023,7 @@ package body Exp_Disp is\n             Write_Int (Int (Alias (Prim)));\n \n             --  If the DTC_Entity attribute is already set we can also output\n-            --  the name of the interface covered by this primitive (if any)\n+            --  the name of the interface covered by this primitive (if any).\n \n             if Present (DTC_Entity (Alias (Prim)))\n               and then Is_Interface (Scope (DTC_Entity (Alias (Prim))))"}, {"sha": "36b8c2da92cdcf1b7ba6d8771eb338440ffad51b", "filename": "gcc/ada/exp_dist.adb", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fexp_dist.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fexp_dist.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_dist.adb?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -11044,7 +11044,6 @@ package body Exp_Dist is\n             begin\n                if Is_Tagged_Type (Typ) and then not Is_Frozen (Typ) then\n                   null;\n-\n                else\n                   Serial := Increment_Serial_Number;\n                end if;"}, {"sha": "bd41b34a66991c47fba73c88dbb3e35f1a4b4be6", "filename": "gcc/ada/gnatlink.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fgnatlink.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fgnatlink.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatlink.adb?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -2001,6 +2001,7 @@ begin\n             for J in reverse Linker_Options.First .. Linker_Options.Last loop\n \n                --  Remove flags that are not accepted\n+\n                if Linker_Options.Table (J)'Length = 0\n                  or else Linker_Options.Table (J) (1 .. 2) = \"-l\"\n                  or else Linker_Options.Table (J) (1 .. 3) = \"-Wl\""}, {"sha": "f72e613bc50ee90dbf3b69dfc8dbaffb52453939", "filename": "gcc/ada/makeutl.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fmakeutl.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fmakeutl.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmakeutl.adb?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -38,7 +38,7 @@ with Tempdir;\n \n with Ada.Command_Line;  use Ada.Command_Line;\n \n-with GNAT.Case_Util; use GNAT.Case_Util;\n+with GNAT.Case_Util;            use GNAT.Case_Util;\n with GNAT.Directory_Operations; use GNAT.Directory_Operations;\n with GNAT.HTable;\n "}, {"sha": "3632110601d54ca781e9c5f7483ead6e2bc96148", "filename": "gcc/ada/par-ch6.adb", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fpar-ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fpar-ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar-ch6.adb?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -224,8 +224,10 @@ package body Ch6 is\n          --  case is for subunits.\n \n          if Pf_Flags /= Pf_Decl_Gins_Pbod_Rnam_Stub\n-           and then Pf_Flags /= Pf_Decl_Pbod\n-           and then Pf_Flags /= Pf_Pbod\n+              and then\n+            Pf_Flags /= Pf_Decl_Pbod\n+              and then\n+            Pf_Flags /= Pf_Pbod\n          then\n             Error_Msg_SC (\"overriding indicator not allowed here!\");\n \n@@ -374,11 +376,12 @@ package body Ch6 is\n          end if;\n \n       else\n-         --  Skip extra parenthesis at end of formal part, and if\n-         --  function scan result subtype.\n+         --  Skip extra parenthesis at end of formal part\n \n          Ignore (Tok_Right_Paren);\n \n+         --  For function, scan result subtype\n+\n          if Func then\n             TF_Return;\n "}, {"sha": "70f72d963b12e644fe2a1ecfa5f7522a1a882e30", "filename": "gcc/ada/prj-dect.adb", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fprj-dect.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fprj-dect.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-dect.adb?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -179,7 +179,8 @@ package body Prj.Dect is\n    procedure Rename_Obsolescent_Attributes\n      (In_Tree         : Project_Node_Tree_Ref;\n       Attribute       : Project_Node_Id;\n-      Current_Package : Project_Node_Id) is\n+      Current_Package : Project_Node_Id)\n+   is\n    begin\n       if Present (Current_Package)\n         and then Expression_Kind_Of (Current_Package, In_Tree) /= Ignored\n@@ -214,7 +215,7 @@ package body Prj.Dect is\n       Flags           : Processing_Flags)\n    is\n       Qualif : constant Project_Qualifier :=\n-        Project_Qualifier_Of (Project, In_Tree);\n+                 Project_Qualifier_Of (Project, In_Tree);\n       Name   : constant Name_Id := Name_Of (Current_Package, In_Tree);\n    begin\n       if Qualif = Aggregate\n@@ -239,8 +240,9 @@ package body Prj.Dect is\n       Flags           : Processing_Flags)\n    is\n       Qualif : constant Project_Qualifier :=\n-        Project_Qualifier_Of (Project, In_Tree);\n+                 Project_Qualifier_Of (Project, In_Tree);\n       Name   : constant Name_Id := Name_Of (Attribute, In_Tree);\n+\n    begin\n       case Qualif is\n          when Aggregate =>\n@@ -308,6 +310,7 @@ package body Prj.Dect is\n \n       procedure Process_Attribute_Name is\n          Ignore : Boolean;\n+\n       begin\n          Attribute_Name := Token_Name;\n          Set_Name_Of (Attribute, In_Tree, To => Attribute_Name);"}, {"sha": "f6ae34ca15818be4f2f4efe708b824fb636348b4", "filename": "gcc/ada/prj-env.adb", "status": "modified", "additions": 13, "deletions": 9, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fprj-env.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fprj-env.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-env.adb?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -24,16 +24,17 @@\n ------------------------------------------------------------------------------\n \n with Fmap;\n-with GNAT.Directory_Operations; use GNAT.Directory_Operations;\n with Hostparm;\n-with Makeutl;                   use Makeutl;\n+with Makeutl;  use Makeutl;\n with Opt;\n-with Osint;                     use Osint;\n-with Output;                    use Output;\n-with Prj.Com;                   use Prj.Com;\n+with Osint;    use Osint;\n+with Output;   use Output;\n+with Prj.Com;  use Prj.Com;\n with Sdefault;\n with Tempdir;\n \n+with GNAT.Directory_Operations; use GNAT.Directory_Operations;\n+\n package body Prj.Env is\n \n    Buffer_Initial : constant := 1_000;\n@@ -110,9 +111,10 @@ package body Prj.Env is\n    --  Project that itself is not extended.\n \n    procedure Initialize_Project_Path\n-     (Self : in out Project_Search_Path; Target_Name : String);\n-   --  Initialize Current_Project_Path.\n-   --  Does nothing if the path has already been initialized properly\n+     (Self        : in out Project_Search_Path;\n+      Target_Name : String);\n+   --  Initialize Current_Project_Path. Does nothing if the path has already\n+   --  been initialized properly.\n \n    ----------------------\n    -- Ada_Include_Path --\n@@ -1780,7 +1782,8 @@ package body Prj.Env is\n    -----------------------------\n \n    procedure Initialize_Project_Path\n-     (Self : in out Project_Search_Path; Target_Name : String)\n+     (Self        : in out Project_Search_Path;\n+      Target_Name : String)\n    is\n       Add_Default_Dir : Boolean := True;\n       First           : Positive;\n@@ -1801,6 +1804,7 @@ package body Prj.Env is\n \n    begin\n       --  If already initialized, nothing else to do\n+\n       if Self.Path /= null\n         and then Self.Path (Self.Path'First) /= '#'\n       then"}, {"sha": "99ae6cee7b8b3c7e24e7d07500de720b3b81c771", "filename": "gcc/ada/prj-env.ads", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fprj-env.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fprj-env.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-env.ads?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -145,9 +145,9 @@ package Prj.Env is\n      (Project : Project_Id;\n       In_Tree : Project_Tree_Ref);\n    --  Iterate through all the source directories of a project, including those\n-   --  of imported or modified projects.\n-   --  Only returns those directories that potentially contain Ada sources (ie\n-   --  ignore projects that have no Ada sources\n+   --  of imported or modified projects. Only returns those directories that\n+   --  potentially contain Ada sources (ie ignore projects that have no Ada\n+   --  sources\n \n    generic\n       with procedure Action (Path : String);\n@@ -170,11 +170,10 @@ package Prj.Env is\n    procedure Add_Directories\n      (Self : in out Project_Search_Path;\n       Path : String);\n-   --  Add one or more directories to the path.\n-   --  Directories added with this procedure are added in order after the\n-   --  current directory and before the path given by the environment variable\n-   --  GPR_PROJECT_PATH. A value of \"-\" will remove the default project\n-   --  directory from the project path.\n+   --  Add one or more directories to the path. Directories added with this\n+   --  procedure are added in order after the current directory and before the\n+   --  path given by the environment variable GPR_PROJECT_PATH. A value of \"-\"\n+   --  will remove the default project directory from the project path.\n    --\n    --  Calls to this subprogram must be performed before the first call to\n    --  Find_Project below, or PATH will be added at the end of the search\n@@ -199,13 +198,14 @@ package Prj.Env is\n       Directory          : String;\n       Path               : out Namet.Path_Name_Type);\n    --  Search for a the project with the given name either in Directory (which\n-   --  often will be the directory contain the project we are currently\n-   --  parsing and which we found a reference to another project), or in the\n-   --  project path. Extra_Project_Path contains additional directories to\n-   --  search.\n+   --  often will be the directory contain the project we are currently parsing\n+   --  and which we found a reference to another project), or in the project\n+   --  path. Extra_Project_Path contains additional directories to search.\n+   --\n    --  Project_File_Name can optionally contain directories, and the extension\n    --  (.gpr) for the file name is optional.\n-   --  Returns No_Name if no such project was found.\n+   --\n+   --  Returns No_Name if no such project was found\n \n private\n    package Projects_Paths is new GNAT.Dynamic_HTables.Simple_HTable"}, {"sha": "9c7458e95d48a80e55fe48541f56ea7958428c3a", "filename": "gcc/ada/prj-ext.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fprj-ext.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fprj-ext.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-ext.adb?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -23,8 +23,8 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with Osint;         use Osint;\n-with Prj.Tree;      use Prj.Tree;\n+with Osint;    use Osint;\n+with Prj.Tree; use Prj.Tree;\n \n package body Prj.Ext is\n "}, {"sha": "ae0c882da68bdc66909c49f057c320452b942d78", "filename": "gcc/ada/prj-nmsc.adb", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fprj-nmsc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fprj-nmsc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-nmsc.adb?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -23,11 +23,6 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with GNAT.Case_Util;             use GNAT.Case_Util;\n-with GNAT.Directory_Operations;  use GNAT.Directory_Operations;\n-with GNAT.Dynamic_HTables;\n-with GNAT.Table;\n-\n with Err_Vars; use Err_Vars;\n with Opt;      use Opt;\n with Osint;    use Osint;\n@@ -45,6 +40,11 @@ with Ada.Strings;                use Ada.Strings;\n with Ada.Strings.Fixed;          use Ada.Strings.Fixed;\n with Ada.Strings.Maps.Constants; use Ada.Strings.Maps.Constants;\n \n+with GNAT.Case_Util;            use GNAT.Case_Util;\n+with GNAT.Directory_Operations; use GNAT.Directory_Operations;\n+with GNAT.Dynamic_HTables;\n+with GNAT.Table;\n+\n package body Prj.Nmsc is\n \n    No_Continuation_String : aliased String := \"\";\n@@ -4909,7 +4909,7 @@ package body Prj.Nmsc is\n \n       Languages : constant Variable_Value :=\n                       Prj.Util.Value_Of\n-          (Name_Languages, Project.Decl.Attributes, Data.Tree);\n+                        (Name_Languages, Project.Decl.Attributes, Data.Tree);\n \n       Remove_Source_Dirs : Boolean := False;\n "}, {"sha": "9fb5a06c86c5d8f31e7e5d8c187235cf1d6ddbca", "filename": "gcc/ada/prj-part.adb", "status": "modified", "additions": 17, "deletions": 17, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fprj-part.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fprj-part.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-part.adb?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -509,8 +509,10 @@ package body Prj.Part is\n \n       exception\n          when Types.Unrecoverable_Error =>\n+\n             --  Unrecoverable_Error is raised when a line is too long.\n             --  A meaningful error message will be displayed later.\n+\n             Project := Empty_Node;\n       end;\n \n@@ -535,7 +537,7 @@ package body Prj.Part is\n \n          declare\n             Declaration : constant Project_Node_Id :=\n-              Project_Declaration_Of (Project, In_Tree);\n+                            Project_Declaration_Of (Project, In_Tree);\n          begin\n             Look_For_Virtual_Projects_For\n               (Extended_Project_Of (Declaration, In_Tree), In_Tree,\n@@ -544,9 +546,9 @@ package body Prj.Part is\n \n          --  Now, check the projects directly imported by the main project.\n          --  Remove from the potentially virtual any project extended by one\n-         --  of these imported projects. For non extending imported\n-         --  projects, check that they do not belong to the project tree of\n-         --  the project being \"extended-all\" by the main project.\n+         --  of these imported projects. For non extending imported projects,\n+         --  check that they do not belong to the project tree of the project\n+         --  being \"extended-all\" by the main project.\n \n          declare\n             With_Clause : Project_Node_Id;\n@@ -930,11 +932,12 @@ package body Prj.Part is\n       In_Tree : Project_Node_Tree_Ref;\n       Project : Project_Node_Id)\n    is\n-      With_Clause, Imported : Project_Node_Id;\n+      With_Clause : Project_Node_Id;\n+      Imported    : Project_Node_Id;\n+\n    begin\n       if not Is_Extending_All (Project, In_Tree) then\n          With_Clause := First_With_Clause_Of (Project, In_Tree);\n-\n          while Present (With_Clause) loop\n             Imported := Project_Node_Of (With_Clause, In_Tree);\n \n@@ -1174,7 +1177,7 @@ package body Prj.Part is\n       end;\n \n       if Has_Circular_Dependencies\n-        (Flags, Normed_Path_Name, Canonical_Path_Name)\n+           (Flags, Normed_Path_Name, Canonical_Path_Name)\n       then\n          Project := Empty_Node;\n          return;\n@@ -1641,18 +1644,17 @@ package body Prj.Part is\n          Name_Len := Name_Len - 1;\n       end loop;\n \n-      --  If a dot was found, check if the parent project is imported\n-      --  or extended.\n+      --  If a dot was found, check if parent project is imported or extended\n \n       if Name_Len > 0 then\n          Name_Len := Name_Len - 1;\n \n          declare\n-            Parent_Name  : constant Name_Id := Name_Find;\n-            Parent_Found : Boolean := False;\n-            Parent_Node  : Project_Node_Id := Empty_Node;\n-            With_Clause  : Project_Node_Id :=\n-                             First_With_Clause_Of (Project, In_Tree);\n+            Parent_Name   : constant Name_Id := Name_Find;\n+            Parent_Found  : Boolean := False;\n+            Parent_Node   : Project_Node_Id := Empty_Node;\n+            With_Clause   : Project_Node_Id :=\n+                              First_With_Clause_Of (Project, In_Tree);\n             Imp_Proj_Name : Name_Id;\n \n          begin\n@@ -1670,9 +1672,7 @@ package body Prj.Part is\n             Imported_Loop :\n             while not Parent_Found and then Present (With_Clause) loop\n                Parent_Node := Project_Node_Of (With_Clause, In_Tree);\n-\n-               Extension_Loop :\n-               while Present (Parent_Node) loop\n+               Extension_Loop : while Present (Parent_Node) loop\n                   Imp_Proj_Name := Name_Of (Parent_Node, In_Tree);\n                   Parent_Found := Imp_Proj_Name = Parent_Name;\n                   exit Imported_Loop when Parent_Found;"}, {"sha": "f47e0582b3535733a1cad2828b8fd2331db3f711", "filename": "gcc/ada/prj-pp.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fprj-pp.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ce5ca7546a3772a770a7456d9575b3d10c0380e/gcc%2Fada%2Fprj-pp.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-pp.ads?ref=3ce5ca7546a3772a770a7456d9575b3d10c0380e", "patch": "@@ -61,7 +61,7 @@ package Prj.PP is\n    --  Output a project file, using either the default output routines, or the\n    --  ones specified by W_Char, W_Eol and W_Str.\n    --\n-   --  Increment is the number of spaces for each indentation level.\n+   --  Increment is the number of spaces for each indentation level\n    --\n    --  W_Char, W_Eol and W_Str can be used to change the default output\n    --  procedures. The default values force the output to Standard_Output.\n@@ -82,7 +82,7 @@ package Prj.PP is\n    --  Id is used to compute the display name of the project including its\n    --  proper casing.\n    --\n-   --  Max_Line_Length is the maximum line length in the project file.\n+   --  Max_Line_Length is the maximum line length in the project file\n \n private\n "}]}