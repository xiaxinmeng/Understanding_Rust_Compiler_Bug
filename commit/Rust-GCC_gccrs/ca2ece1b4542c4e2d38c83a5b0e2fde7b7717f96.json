{"sha": "ca2ece1b4542c4e2d38c83a5b0e2fde7b7717f96", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2EyZWNlMWI0NTQyYzRlMmQzOGM4M2E1YjBlMmZkZTdiNzcxN2Y5Ng==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-11-10T15:26:10Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-11-10T15:26:10Z"}, "message": "[_ANSI_H_]: When undefing at the end, test _STDDEF_H, not __need_ptrdiff_t.\n\n[__need_ptrdiff_t]: Don't undef _SIZE_T_ or _WCHAR_T_.\n\nFrom-SVN: r2735", "tree": {"sha": "5d238bc6f1c0bda04c3113f4a0cd80ca9c93c9b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5d238bc6f1c0bda04c3113f4a0cd80ca9c93c9b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca2ece1b4542c4e2d38c83a5b0e2fde7b7717f96", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca2ece1b4542c4e2d38c83a5b0e2fde7b7717f96", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca2ece1b4542c4e2d38c83a5b0e2fde7b7717f96", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca2ece1b4542c4e2d38c83a5b0e2fde7b7717f96/comments", "author": null, "committer": null, "parents": [{"sha": "a29b481b12d1b42808bb46e5b327e63e48ed7ffd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a29b481b12d1b42808bb46e5b327e63e48ed7ffd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a29b481b12d1b42808bb46e5b327e63e48ed7ffd"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "774462cdbc25c9b02bab3e90d6b5f52eed66148e", "filename": "gcc/ginclude/stddef.h", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca2ece1b4542c4e2d38c83a5b0e2fde7b7717f96/gcc%2Fginclude%2Fstddef.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca2ece1b4542c4e2d38c83a5b0e2fde7b7717f96/gcc%2Fginclude%2Fstddef.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fstddef.h?ref=ca2ece1b4542c4e2d38c83a5b0e2fde7b7717f96", "patch": "@@ -20,7 +20,7 @@\n /* On 4.3bsd-net2, make sure ansi.h is included, so we have\n    one less case to deal with in the following.  */\n #if defined (__BSD_NET2__) || defined (____386BSD____)\n-#include <machines/ansi.h>\n+#include <machine/ansi.h>\n #endif\n \n /* In 4.3bsd-net2, machine/ansi.h defines these symbols, which are\n@@ -35,9 +35,11 @@\n #ifndef _WCHAR_T_\n #define _WCHAR_T\n #endif\n-#undef _SIZE_T_\n #undef _PTRDIFF_T_\n+#ifndef __need_ptrdiff_t\n+#undef _SIZE_T_\n #undef _WCHAR_T_\n+#endif\n #endif /* _ANSI_H_ */\n \n /* In case nobody has defined these types, but we aren't running under\n@@ -168,9 +170,12 @@ typedef __WCHAR_TYPE__ wchar_t;\n     header files do that.  */\n #ifdef _ANSI_H_\n #undef _PTRDIFF_T_\n+#ifndef _STDDEF_H /* This is a kludge.  The case where this happens\n+\t\t     is when obstack.h wants just ptrdiff_t.  */\n #undef _SIZE_T_\n #undef _WCHAR_T_\n #endif\n+#endif\n \n #endif /* __sys_stdtypes_h */\n "}]}