{"sha": "8f9504ee00116df86107aecd247f7cf0729ba97e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGY5NTA0ZWUwMDExNmRmODYxMDdhZWNkMjQ3ZjdjZjA3MjliYTk3ZQ==", "commit": {"author": {"name": "Janis Johnson", "email": "janis187@us.ibm.com", "date": "2007-03-27T23:05:42Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2007-03-27T23:05:42Z"}, "message": "func-vararg-mixed.c: Add optional debugging output.\n\n\t* gcc.dg/dfp/func-vararg-mixed.c: Add optional debugging output.\n\t* gcc.dg/dfp/func-vararg-dfp.c: Ditto.\n\nFrom-SVN: r123276", "tree": {"sha": "d2b8f0c3a60cdec1e756e3bb0b13d00d2a23dabc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d2b8f0c3a60cdec1e756e3bb0b13d00d2a23dabc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8f9504ee00116df86107aecd247f7cf0729ba97e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f9504ee00116df86107aecd247f7cf0729ba97e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f9504ee00116df86107aecd247f7cf0729ba97e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f9504ee00116df86107aecd247f7cf0729ba97e/comments", "author": null, "committer": null, "parents": [{"sha": "814735584bdd49576500e2f191ee37b34224268d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/814735584bdd49576500e2f191ee37b34224268d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/814735584bdd49576500e2f191ee37b34224268d"}], "stats": {"total": 76, "additions": 51, "deletions": 25}, "files": [{"sha": "26dbf5e29d256befcf8e2aee9f3f5eba224bc672", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f9504ee00116df86107aecd247f7cf0729ba97e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f9504ee00116df86107aecd247f7cf0729ba97e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8f9504ee00116df86107aecd247f7cf0729ba97e", "patch": "@@ -1,5 +1,8 @@\n 2007-03-27  Janis Johnson  <janis187@us.ibm.com>\n \n+\t* gcc.dg/dfp/func-vararg-mixed.c: Add optional debugging output.\n+\t* gcc.dg/dfp/func-vararg-dfp.c: Ditto.\n+\n \t* gcc.dg/dfp/operandor-conf.c: Call init, fix typo.\t\n \n \t* lib/compat.exp (compat-execute): Fix processing of file names."}, {"sha": "3159a6fdfb3737406b96952cb76c9f594f538ea3", "filename": "gcc/testsuite/gcc.dg/dfp/func-vararg-dfp.c", "status": "modified", "additions": 30, "deletions": 19, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f9504ee00116df86107aecd247f7cf0729ba97e/gcc%2Ftestsuite%2Fgcc.dg%2Fdfp%2Ffunc-vararg-dfp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f9504ee00116df86107aecd247f7cf0729ba97e/gcc%2Ftestsuite%2Fgcc.dg%2Fdfp%2Ffunc-vararg-dfp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdfp%2Ffunc-vararg-dfp.c?ref=8f9504ee00116df86107aecd247f7cf0729ba97e", "patch": "@@ -6,6 +6,16 @@\n #include <stdarg.h>\n \n extern void abort (void);\n+static int failcnt = 0;\n+                                                                                \n+/* Support compiling the test to report individual failures; default is\n+   to abort as soon as a check fails.  */\n+#ifdef DBG\n+#include <stdio.h>\n+#define FAILURE { printf (\"failed at line %d\\n\", __LINE__); failcnt++; }\n+#else\n+#define FAILURE abort ();\n+#endif\n \n static _Decimal32\n vararg32 (unsigned arg, ...)\n@@ -54,45 +64,46 @@ int main()\n {\n   /* _Decimal32 variants.  */\n   if (vararg32 (0, 0.0df, 1.0df, 2.0df, 3.0df, 4.0df, 5.0df) != 0.0df)\n-    abort ();\n+    FAILURE\n   if (vararg32 (1, 0.0df, 1.0df, 2.0df, 3.0df, 4.0df, 5.0df) != 1.0df)\n-    abort ();\n+    FAILURE\n   if (vararg32 (2, 0.0df, 1.0df, 2.0df, 3.0df, 4.0df, 5.0df) != 2.0df)\n-    abort ();\n+    FAILURE\n   if (vararg32 (3, 0.0df, 1.0df, 2.0df, 3.0df, 4.0df, 5.0df) != 3.0df)\n-    abort ();\n+    FAILURE\n   if (vararg32 (4, 0.0df, 1.0df, 2.0df, 3.0df, 4.0df, 5.0df) != 4.0df)\n-    abort ();\n+    FAILURE\n   if (vararg32 (5, 0.0df, 1.0df, 2.0df, 3.0df, 4.0df, 5.0df) != 5.0df)\n-    abort ();\n+    FAILURE\n \n   /* _Decimal64 variants.  */\n   if (vararg64 (0, 0.0dd, 1.0dd, 2.0dd, 3.0dd, 4.0dd, 5.0dd) != 0.0dd)\n-    abort ();\n+    FAILURE\n   if (vararg64 (1, 0.0dd, 1.0dd, 2.0dd, 3.0dd, 4.0dd, 5.0dd) != 1.0dd)\n-    abort ();\n+    FAILURE\n   if (vararg64 (2, 0.0dd, 1.0dd, 2.0dd, 3.0dd, 4.0dd, 5.0dd) != 2.0dd)\n-    abort ();\n+    FAILURE\n   if (vararg64 (3, 0.0dd, 1.0dd, 2.0dd, 3.0dd, 4.0dd, 5.0dd) != 3.0dd)\n-    abort ();\n+    FAILURE\n   if (vararg64 (4, 0.0dd, 1.0dd, 2.0dd, 3.0dd, 4.0dd, 5.0dd) != 4.0dd)\n-    abort ();\n+    FAILURE\n   if (vararg64 (5, 0.0dd, 1.0dd, 2.0dd, 3.0dd, 4.0dd, 5.0dd) != 5.0dd)\n-    abort ();\n+    FAILURE\n \n   /* _Decimal128 variants.  */\n   if (vararg128 (0, 0.0dl, 1.0dl, 2.0dl, 3.0dl, 4.0dl, 5.0dl) != 0.0dl)\n-    abort ();\n+    FAILURE\n   if (vararg128 (1, 0.0dl, 1.0dl, 2.0dl, 3.0dl, 4.0dl, 5.0dl) != 1.0dl)\n-    abort ();\n+    FAILURE\n   if (vararg128 (2, 0.0dl, 1.0dl, 2.0dl, 3.0dl, 4.0dl, 5.0dl) != 2.0dl)\n-    abort ();\n+    FAILURE\n   if (vararg128 (3, 0.0dl, 1.0dl, 2.0dl, 3.0dl, 4.0dl, 5.0dl) != 3.0dl)\n-    abort ();\n+    FAILURE\n   if (vararg128 (4, 0.0dl, 1.0dl, 2.0dl, 3.0dl, 4.0dl, 5.0dl) != 4.0dl)\n-    abort ();\n+    FAILURE\n   if (vararg128 (5, 0.0dl, 1.0dl, 2.0dl, 3.0dl, 4.0dl, 5.0dl) != 5.0dl)\n-    abort ();\n+    FAILURE\n \n-  return 0;\n+  if (failcnt != 0)\n+    abort ();\n }"}, {"sha": "b5a5be45d7e5b414764f44445aefa85c0c4bb35b", "filename": "gcc/testsuite/gcc.dg/dfp/func-vararg-mixed.c", "status": "modified", "additions": 18, "deletions": 6, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f9504ee00116df86107aecd247f7cf0729ba97e/gcc%2Ftestsuite%2Fgcc.dg%2Fdfp%2Ffunc-vararg-mixed.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f9504ee00116df86107aecd247f7cf0729ba97e/gcc%2Ftestsuite%2Fgcc.dg%2Fdfp%2Ffunc-vararg-mixed.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdfp%2Ffunc-vararg-mixed.c?ref=8f9504ee00116df86107aecd247f7cf0729ba97e", "patch": "@@ -7,6 +7,16 @@\n #include <stdarg.h>\n \n extern void abort (void);\n+static int failcnt = 0;\n+                                                                                \n+/* Support compiling the test to report individual failures; default is\n+   to abort as soon as a check fails.  */\n+#ifdef DBG\n+#include <stdio.h>\n+#define FAILURE { printf (\"failed at line %d\\n\", __LINE__); failcnt++; }\n+#else\n+#define FAILURE abort ();\n+#endif\n \n /* Supposing the list of varying number of arguments is:\n    unsigned int, _Decimal128, double, _Decimal32, _Decimal64.  */\n@@ -95,11 +105,13 @@ vararg_double (unsigned arg, ...)\n int\n main ()\n {\n-  if (vararg_d32 (3, 0, 1.0dl, 2.0, 3.0df, 4.0dd) != 3.0df) abort ();\n-  if (vararg_d64 (4, 0, 1.0dl, 2.0, 3.0df, 4.0dd) != 4.0dd) abort ();\n-  if (vararg_d128 (1, 0, 1.0dl, 2.0, 3.0df, 4.0dd) != 1.0dl) abort ();\n-  if (vararg_int (0, 0, 1.0dl, 2.0, 3.0df, 4.0dd) != 0) abort ();\n-  if (vararg_double (2, 0, 1.0dl, 2.0, 3.0df, 4.0dd) != 2.0) abort ();\n-\n+  if (vararg_d32 (3, 0, 1.0dl, 2.0, 3.0df, 4.0dd) != 3.0df) FAILURE\n+  if (vararg_d64 (4, 0, 1.0dl, 2.0, 3.0df, 4.0dd) != 4.0dd) FAILURE\n+  if (vararg_d128 (1, 0, 1.0dl, 2.0, 3.0df, 4.0dd) != 1.0dl) FAILURE\n+  if (vararg_int (0, 0, 1.0dl, 2.0, 3.0df, 4.0dd) != 0) FAILURE\n+  if (vararg_double (2, 0, 1.0dl, 2.0, 3.0df, 4.0dd) != 2.0) FAILURE\n+\n+  if (failcnt != 0)\n+    abort ();\n   return 0;\n }"}]}