{"sha": "4c399c87ef6c1ad926fc039b89dff307119f7856", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGMzOTljODdlZjZjMWFkOTI2ZmMwMzliODlkZmYzMDcxMTlmNzg1Ng==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2001-06-08T19:09:04Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2001-06-08T19:09:04Z"}, "message": "re PR libgcj/3059 (System doesn't set java.home property)\n\n\tFix for PR libgcj/3059:\n\t* java/lang/natSystem.cc (init_properties): Define `java.home'.\n\t* Makefile.in: Rebuilt.\n\t* Makefile.am (AM_CXXFLAGS): Define PREFIX.\n\nFrom-SVN: r43040", "tree": {"sha": "3f63a3fe6e9b6e23f73ea21de01dbf07bc50a5aa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3f63a3fe6e9b6e23f73ea21de01dbf07bc50a5aa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4c399c87ef6c1ad926fc039b89dff307119f7856", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c399c87ef6c1ad926fc039b89dff307119f7856", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c399c87ef6c1ad926fc039b89dff307119f7856", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c399c87ef6c1ad926fc039b89dff307119f7856/comments", "author": null, "committer": null, "parents": [{"sha": "acb5223fb5a7fb8cd6ea3cc12c6b25b6c6d5c920", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acb5223fb5a7fb8cd6ea3cc12c6b25b6c6d5c920", "html_url": "https://github.com/Rust-GCC/gccrs/commit/acb5223fb5a7fb8cd6ea3cc12c6b25b6c6d5c920"}], "stats": {"total": 20, "additions": 16, "deletions": 4}, "files": [{"sha": "07fc050631f40638fa3a9e8f5e974db03fad164f", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c399c87ef6c1ad926fc039b89dff307119f7856/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c399c87ef6c1ad926fc039b89dff307119f7856/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=4c399c87ef6c1ad926fc039b89dff307119f7856", "patch": "@@ -1,3 +1,10 @@\n+2001-06-07  Tom Tromey  <tromey@redhat.com>\n+\n+\tFix for PR libgcj/3059:\n+\t* java/lang/natSystem.cc (init_properties): Define `java.home'.\n+\t* Makefile.in: Rebuilt.\n+\t* Makefile.am (AM_CXXFLAGS): Define PREFIX.\n+\n 2001-06-07  Tom Tromey  <tromey@redhat.com>\n \n \tFor PR bootstrap/3075:"}, {"sha": "b2cefc9cc31348d2810f9cbd2e12343236600d70", "filename": "libjava/Makefile.am", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c399c87ef6c1ad926fc039b89dff307119f7856/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c399c87ef6c1ad926fc039b89dff307119f7856/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=4c399c87ef6c1ad926fc039b89dff307119f7856", "patch": "@@ -90,7 +90,8 @@ WARNINGS = -W -Wall\n AM_CXXFLAGS = -fno-rtti -fnon-call-exceptions \\\n ## Some systems don't allow `$' in identifiers by default, so we force it.\n \t-fdollars-in-identifiers \\\n-\t@LIBGCJ_CXXFLAGS@ @X_CFLAGS@ $(WARNINGS) -D_GNU_SOURCE\n+\t@LIBGCJ_CXXFLAGS@ @X_CFLAGS@ $(WARNINGS) -D_GNU_SOURCE \\\n+\t-DPREFIX=\"\\\"$(prefix)\\\"\"\n if USING_GCC\n AM_CFLAGS = @LIBGCJ_CFLAGS@ $(WARNINGS)\n else"}, {"sha": "b64b68ca2ce52e0c170be055e6ed62154810c9b6", "filename": "libjava/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c399c87ef6c1ad926fc039b89dff307119f7856/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c399c87ef6c1ad926fc039b89dff307119f7856/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=4c399c87ef6c1ad926fc039b89dff307119f7856", "patch": "@@ -169,7 +169,8 @@ GCC_UNWIND_INCLUDE = @GCC_UNWIND_INCLUDE@\n WARNINGS = -W -Wall\n AM_CXXFLAGS = -fno-rtti -fnon-call-exceptions \\\n \t-fdollars-in-identifiers \\\n-\t@LIBGCJ_CXXFLAGS@ @X_CFLAGS@ $(WARNINGS) -D_GNU_SOURCE\n+\t@LIBGCJ_CXXFLAGS@ @X_CFLAGS@ $(WARNINGS) -D_GNU_SOURCE \\\n+\t-DPREFIX=\"\\\"$(prefix)\\\"\"\n \n @USING_GCC_TRUE@AM_CFLAGS = \\\n @USING_GCC_TRUE@@LIBGCJ_CFLAGS@ $(WARNINGS)"}, {"sha": "7fff337b8aeab18bb9b2780ff8e5dbaf0f4fa288", "filename": "libjava/java/lang/natSystem.cc", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c399c87ef6c1ad926fc039b89dff307119f7856/libjava%2Fjava%2Flang%2FnatSystem.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c399c87ef6c1ad926fc039b89dff307119f7856/libjava%2Fjava%2Flang%2FnatSystem.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatSystem.cc?ref=4c399c87ef6c1ad926fc039b89dff307119f7856", "patch": "@@ -320,8 +320,11 @@ java::lang::System::init_properties (void)\n   SET (\"java.specification.name\", \"Java(tm) Language Specification\");\n   SET (\"java.specification.vendor\", \"Sun Microsystems Inc.\");\n \n-  // FIXME: how to set this given location-independence?\n-  // SET (\"java.home\", \"FIXME\");\n+  // This definition is rather arbitrary: we choose $(prefix).  In\n+  // part we do this because most people specify only --prefix and\n+  // nothing else when installing gcj.  Plus, people are free to\n+  // redefine `java.home' with `-D' if necessary.\n+  SET (\"java.home\", PREFIX);\n   \n   SET (\"file.encoding\", default_file_encoding);\n "}]}