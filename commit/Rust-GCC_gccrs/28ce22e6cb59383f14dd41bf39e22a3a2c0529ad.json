{"sha": "28ce22e6cb59383f14dd41bf39e22a3a2c0529ad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjhjZTIyZTZjYjU5MzgzZjE0ZGQ0MWJmMzllMjJhM2EyYzA1MjlhZA==", "commit": {"author": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2016-11-05T10:35:23Z"}, "committer": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2016-11-05T10:35:23Z"}, "message": "re PR fortran/69495 (unused-label warning does not tell which flag triggered it)\n\n2016-11-05  Janus Weil  <janus@gcc.gnu.org>\n\t    Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n\n\tPR fortran/69495\n\t* invoke.texi: Mention -Wpedantic as an alias of -pedantic.\n\t* check.c (gfc_check_transfer): Mention responsible flag in warning\n\tmessage.\n\t* frontend-passes.c (do_warn_function_elimination): Ditto.\n\t* resolve.c (resolve_elemental_actual): Ditto.\n\t(resolve_operator): Ditto.\n\t(warn_unused_fortran_label): Ditto.\n\t* trans-common.c (translate_common): Ditto.\n\n\n2016-11-05  Janus Weil  <janus@gcc.gnu.org>\n\t    Dominique d'Humieres  <dominiq@lps.ens.fr>\n\n\tPR fortran/69495\n\t* gfortran.dg/elemental_optional_args_6.f90: Use -Wpedantic flag.\n\nCo-Authored-By: Dominique d'Humieres <dominiq@lps.ens.fr>\nCo-Authored-By: Manuel L\u00f3pez-Ib\u00e1\u00f1ez <manu@gcc.gnu.org>\n\nFrom-SVN: r241870", "tree": {"sha": "e9eccca344b97eaf720d26bc2b0d8174d8f680d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e9eccca344b97eaf720d26bc2b0d8174d8f680d6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/comments", "author": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d233ee5f50926d58da601e4f8633d98632ced3d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d233ee5f50926d58da601e4f8633d98632ced3d2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d233ee5f50926d58da601e4f8633d98632ced3d2"}], "stats": {"total": 50, "additions": 39, "deletions": 11}, "files": [{"sha": "10aaff86c64bedcb89641f637f1fb230e9e3748f", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=28ce22e6cb59383f14dd41bf39e22a3a2c0529ad", "patch": "@@ -1,3 +1,16 @@\n+2016-11-05  Janus Weil  <janus@gcc.gnu.org>\n+\t    Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n+\n+\tPR fortran/69495\n+\t* invoke.texi: Mention -Wpedantic as an alias of -pedantic.\n+\t* check.c (gfc_check_transfer): Mention responsible flag in warning\n+\tmessage.\n+\t* frontend-passes.c (do_warn_function_elimination): Ditto.\n+\t* resolve.c (resolve_elemental_actual): Ditto.\n+\t(resolve_operator): Ditto.\n+\t(warn_unused_fortran_label): Ditto.\n+\t* trans-common.c (translate_common): Ditto.\n+\n 2016-11-05  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/67564"}, {"sha": "5057d4999fd7e35bf9cdbfa3959911f742ed10e6", "filename": "gcc/fortran/check.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ffortran%2Fcheck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ffortran%2Fcheck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fcheck.c?ref=28ce22e6cb59383f14dd41bf39e22a3a2c0529ad", "patch": "@@ -5187,7 +5187,8 @@ gfc_check_transfer (gfc_expr *source, gfc_expr *mold, gfc_expr *size)\n     return true;\n \n   if (source_size < result_size)\n-    gfc_warning (0, \"Intrinsic TRANSFER at %L has partly undefined result: \"\n+    gfc_warning (OPT_Wsurprising,\n+\t\t \"Intrinsic TRANSFER at %L has partly undefined result: \"\n \t\t \"source size %ld < result size %ld\", &source->where,\n \t\t (long) source_size, (long) result_size);\n "}, {"sha": "1ad797b579cdea34136f488ca51ca483d1221b16", "filename": "gcc/fortran/frontend-passes.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ffortran%2Ffrontend-passes.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ffortran%2Ffrontend-passes.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ffrontend-passes.c?ref=28ce22e6cb59383f14dd41bf39e22a3a2c0529ad", "patch": "@@ -747,10 +747,12 @@ do_warn_function_elimination (gfc_expr *e)\n   if (e->expr_type != EXPR_FUNCTION)\n     return;\n   if (e->value.function.esym)\n-    gfc_warning (0, \"Removing call to function %qs at %L\",\n+    gfc_warning (OPT_Wfunction_elimination,\n+\t\t \"Removing call to function %qs at %L\",\n \t\t e->value.function.esym->name, &(e->where));\n   else if (e->value.function.isym)\n-    gfc_warning (0, \"Removing call to function %qs at %L\",\n+    gfc_warning (OPT_Wfunction_elimination,\n+\t\t \"Removing call to function %qs at %L\",\n \t\t e->value.function.isym->name, &(e->where));\n }\n /* Callback function for the code walker for doing common function"}, {"sha": "39a0232f71a52fd266fbd1a1699c895873b2029b", "filename": "gcc/fortran/invoke.texi", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ffortran%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ffortran%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finvoke.texi?ref=28ce22e6cb59383f14dd41bf39e22a3a2c0529ad", "patch": "@@ -749,8 +749,10 @@ Check the code for syntax errors, but do not actually compile it.  This\n will generate module files for each module present in the code, but no\n other output file.\n \n-@item -pedantic\n+@item -Wpedantic\n+@itemx -pedantic\n @opindex @code{pedantic}\n+@opindex @code{Wpedantic}\n Issue warnings for uses of extensions to Fortran 95.\n @option{-pedantic} also applies to C-language constructs where they\n occur in GNU Fortran source files, such as use of @samp{\\e} in a"}, {"sha": "4e245cff5b2daf5954c0f734a7a1fc164943e468", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=28ce22e6cb59383f14dd41bf39e22a3a2c0529ad", "patch": "@@ -2140,7 +2140,8 @@ resolve_elemental_actual (gfc_expr *expr, gfc_code *c)\n \t  && (set_by_optional || arg->expr->rank != rank)\n \t  && !(isym && isym->id == GFC_ISYM_CONVERSION))\n \t{\n-\t  gfc_warning (0, \"%qs at %L is an array and OPTIONAL; IF IT IS \"\n+\t  gfc_warning (OPT_Wpedantic,\n+\t\t       \"%qs at %L is an array and OPTIONAL; IF IT IS \"\n \t\t       \"MISSING, it cannot be the actual argument of an \"\n \t\t       \"ELEMENTAL procedure unless there is a non-optional \"\n \t\t       \"argument with the same rank (12.4.1.5)\",\n@@ -3811,7 +3812,8 @@ resolve_operator (gfc_expr *e)\n \t\t  else\n \t\t    msg = \"Inequality comparison for %s at %L\";\n \n-\t\t  gfc_warning (0, msg, gfc_typename (&op1->ts), &op1->where);\n+\t\t  gfc_warning (OPT_Wcompare_reals, msg,\n+\t\t\t       gfc_typename (&op1->ts), &op1->where);\n \t\t}\n \t    }\n \n@@ -15393,12 +15395,13 @@ warn_unused_fortran_label (gfc_st_label *label)\n   switch (label->referenced)\n     {\n     case ST_LABEL_UNKNOWN:\n-      gfc_warning (0, \"Label %d at %L defined but not used\", label->value,\n-\t\t   &label->where);\n+      gfc_warning (OPT_Wunused_label, \"Label %d at %L defined but not used\",\n+\t\t   label->value, &label->where);\n       break;\n \n     case ST_LABEL_BAD_TARGET:\n-      gfc_warning (0, \"Label %d at %L defined but cannot be used\",\n+      gfc_warning (OPT_Wunused_label,\n+\t\t   \"Label %d at %L defined but cannot be used\",\n \t\t   label->value, &label->where);\n       break;\n "}, {"sha": "0c030584b68afbdc35713019d4237bdf80fb564c", "filename": "gcc/fortran/trans-common.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ffortran%2Ftrans-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ffortran%2Ftrans-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-common.c?ref=28ce22e6cb59383f14dd41bf39e22a3a2c0529ad", "patch": "@@ -1149,13 +1149,13 @@ translate_common (gfc_common_head *common, gfc_symbol *var_list)\n \t      if (warn_align_commons)\n \t\t{\n \t\t  if (strcmp (common->name, BLANK_COMMON_NAME))\n-\t\t    gfc_warning (0,\n+\t\t    gfc_warning (OPT_Walign_commons,\n \t\t\t\t \"Padding of %d bytes required before %qs in \"\n \t\t\t\t \"COMMON %qs at %L; reorder elements or use \"\n \t\t\t\t \"-fno-align-commons\", (int)offset,\n \t\t\t\t s->sym->name, common->name, &common->where);\n \t\t  else\n-\t\t    gfc_warning (0,\n+\t\t    gfc_warning (OPT_Walign_commons,\n \t\t\t\t \"Padding of %d bytes required before %qs in \"\n \t\t\t\t \"COMMON at %L; reorder elements or use \"\n \t\t\t\t \"-fno-align-commons\", (int)offset,"}, {"sha": "7d3537dc690c509d782d0084976062449a1d7ce0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=28ce22e6cb59383f14dd41bf39e22a3a2c0529ad", "patch": "@@ -1,3 +1,9 @@\n+2016-11-05  Janus Weil  <janus@gcc.gnu.org>\n+\t    Dominique d'Humieres  <dominiq@lps.ens.fr>\n+\n+\tPR fortran/69495\n+\t* gfortran.dg/elemental_optional_args_6.f90: Use -Wpedantic flag.\n+\n 2016-11-05  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/67564"}, {"sha": "2dece646dde3c5f35738bf7cca4c6346609f53e7", "filename": "gcc/testsuite/gfortran.dg/elemental_optional_args_6.f90", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ftestsuite%2Fgfortran.dg%2Felemental_optional_args_6.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28ce22e6cb59383f14dd41bf39e22a3a2c0529ad/gcc%2Ftestsuite%2Fgfortran.dg%2Felemental_optional_args_6.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Felemental_optional_args_6.f90?ref=28ce22e6cb59383f14dd41bf39e22a3a2c0529ad", "patch": "@@ -1,4 +1,5 @@\n ! { dg-do run }\n+! { dg-options \"-Wpedantic\" }\n !\n ! PR fortran/53692\n !"}]}