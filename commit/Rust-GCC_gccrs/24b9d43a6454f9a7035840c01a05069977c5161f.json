{"sha": "24b9d43a6454f9a7035840c01a05069977c5161f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjRiOWQ0M2E2NDU0ZjlhNzAzNTg0MGMwMWEwNTA2OTk3N2M1MTYxZg==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2001-10-09T06:16:25Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2001-10-09T06:16:25Z"}, "message": "cmdlne-C.c: Update.\n\n\t* gcc.dg/cpp/cmdlne-C.c: Update.\n\t* gcc.dg/cpp/cmdlne-C2.c: New.\n\nFrom-SVN: r46115", "tree": {"sha": "3bee3698189d7fcfe492949998a97d781ebdc619", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3bee3698189d7fcfe492949998a97d781ebdc619"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/24b9d43a6454f9a7035840c01a05069977c5161f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24b9d43a6454f9a7035840c01a05069977c5161f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24b9d43a6454f9a7035840c01a05069977c5161f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24b9d43a6454f9a7035840c01a05069977c5161f/comments", "author": null, "committer": null, "parents": [{"sha": "4fe9b91c45b7b0ba4b02069f821e64fd572ce950", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fe9b91c45b7b0ba4b02069f821e64fd572ce950", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4fe9b91c45b7b0ba4b02069f821e64fd572ce950"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "612dd2f757742b96aca0b98da968e247b9a1260e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24b9d43a6454f9a7035840c01a05069977c5161f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24b9d43a6454f9a7035840c01a05069977c5161f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=24b9d43a6454f9a7035840c01a05069977c5161f", "patch": "@@ -1,3 +1,8 @@\n+2001-10-09  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\t* gcc.dg/cpp/cmdlne-C.c: Update.\n+\t* gcc.dg/cpp/cmdlne-C2.c: New.\n+\n 2001-10-08  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n \n \t* gcc.c-torture/execute/20011008-3.c: New."}, {"sha": "2dafec253ecb429a5b90864e5ce2d661a43aa1fa", "filename": "gcc/testsuite/gcc.dg/cpp/cmdlne-C.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24b9d43a6454f9a7035840c01a05069977c5161f/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcmdlne-C.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24b9d43a6454f9a7035840c01a05069977c5161f/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcmdlne-C.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcmdlne-C.c?ref=24b9d43a6454f9a7035840c01a05069977c5161f", "patch": "@@ -29,3 +29,9 @@ fun_like (foo, bar)\n \n /* Check OK to redefine fun_like without comments in the params.  */\n #define fun_like(x, y)/**/\n+\n+/* Check comments in macros in directives are OK.  */\n+#define ZERO 0 /* A trailing comment.  */\n+\n+#if ZERO\n+#endif"}, {"sha": "13f5a0953b86d47a171a269144426bbab1514e72", "filename": "gcc/testsuite/gcc.dg/cpp/cmdlne-C2.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24b9d43a6454f9a7035840c01a05069977c5161f/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcmdlne-C2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24b9d43a6454f9a7035840c01a05069977c5161f/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcmdlne-C2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcmdlne-C2.c?ref=24b9d43a6454f9a7035840c01a05069977c5161f", "patch": "@@ -0,0 +1,21 @@\n+/* Copyright (C) 2000, 2001 Free Software Foundation, Inc.  */\n+\n+/* { dg-do preprocess } */\n+/* { dg-options \"-C\" } */\n+\n+/* This tests that C++ comments are either dropped, or converted to C\n+   comments in macro expansions.  The + in the regexp stops it from\n+   matching itself 8-)\n+\n+   Neil Booth, 9 Oct 2001.  */\n+\n+#define ZERO 0 // A comment\n+\n+ZERO:\n+\n+/*\n+   { dg-final { if ![file exists cmdlne-C2.i] { return }                  } }\n+   { dg-final { if { [grep cmdlne-C2.i \"c+omment:\"] == \"\" } { return }    } }\n+   { dg-final { fail \"cmdlne-C2.i: C++ comments in macros with -C\"        } }\n+*/\n+"}]}