{"sha": "fa9b5c6be7d76d589878994f6affb15b73739dda", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmE5YjVjNmJlN2Q3NmQ1ODk4Nzg5OTRmNmFmZmIxNWI3MzczOWRkYQ==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2001-11-26T21:43:48Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2001-11-26T21:43:48Z"}, "message": "rs6000.c (output_mi_thunk): Handle minimal-toc and call correct function on AIX.\n\n        * rs6000.c (output_mi_thunk): Handle minimal-toc and call\n        correct function on AIX.\n\nFrom-SVN: r47355", "tree": {"sha": "68626a5e8a6245dc2e0e4b72b93ec5020ada606f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/68626a5e8a6245dc2e0e4b72b93ec5020ada606f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fa9b5c6be7d76d589878994f6affb15b73739dda", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa9b5c6be7d76d589878994f6affb15b73739dda", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa9b5c6be7d76d589878994f6affb15b73739dda", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa9b5c6be7d76d589878994f6affb15b73739dda/comments", "author": null, "committer": null, "parents": [{"sha": "97e620cf89a1cdb7768f3c9a150531364f3520b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97e620cf89a1cdb7768f3c9a150531364f3520b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97e620cf89a1cdb7768f3c9a150531364f3520b4"}], "stats": {"total": 21, "additions": 14, "deletions": 7}, "files": [{"sha": "665e70622ba68a85c7a7cadc18c0447d9a84fc9a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa9b5c6be7d76d589878994f6affb15b73739dda/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa9b5c6be7d76d589878994f6affb15b73739dda/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fa9b5c6be7d76d589878994f6affb15b73739dda", "patch": "@@ -1,3 +1,8 @@\n+2001-11-26  David Edelsohn  <edelsohn@gnu.org>\n+\n+\t* rs6000.c (output_mi_thunk): Handle minimal-toc and call\n+\tcorrect function on AIX.\n+\n 2001-11-26  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* toplev.c (process_options): Don't force"}, {"sha": "b2ff972a714b17881cdfe4af70548074ca8e36a5", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa9b5c6be7d76d589878994f6affb15b73739dda/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa9b5c6be7d76d589878994f6affb15b73739dda/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=fa9b5c6be7d76d589878994f6affb15b73739dda", "patch": "@@ -8173,13 +8173,15 @@ output_mi_thunk (file, thunk_fndecl, delta, function)\n \t  ASM_OUTPUT_INTERNAL_LABEL (file, \"Lthunk\", labelno);\n \t  labelno++;\n \n-\t  /* Note, MINIMAL_TOC doesn't make sense in the case of a\n-\t     thunk, since there will be only one TOC entry for this\n-\t     function.  */\n-\t  fputs (\"\\t.tc\\t\", file);\n-\t  assemble_name (file, buf);\n-\t  fputs (\"[TC],\", file);\n-\t  assemble_name (file, buf);\n+\t  if (TARGET_MINIMAL_TOC)\n+\t    fputs (TARGET_32BIT ? \"\\t.long \" : DOUBLE_INT_ASM_OP, file);\n+\t  else\n+\t    {\n+\t      fputs (\"\\t.tc \", file);\n+\t      assemble_name (file, fname);\n+\t      fputs (\"[TC],\", file);\n+\t    }\n+\t  assemble_name (file, fname);\n \t  putc ('\\n', file);\n \t  text_section ();\n \t  asm_fprintf (file, (TARGET_32BIT) ? \"\\t{l|lwz} %s,\" : \"\\tld %s,\", r12);"}]}