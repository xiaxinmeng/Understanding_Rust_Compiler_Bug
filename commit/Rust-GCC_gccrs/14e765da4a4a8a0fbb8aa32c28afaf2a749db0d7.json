{"sha": "14e765da4a4a8a0fbb8aa32c28afaf2a749db0d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTRlNzY1ZGE0YTRhOGEwZmJiOGFhMzJjMjhhZmFmMmE3NDlkYjBkNw==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2007-01-11T23:14:51Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2007-01-11T23:14:51Z"}, "message": "c-common.c (vector_types_convertible_p): Treat opaque types as always convertible if they have the same size...\n\n\t* c-common.c (vector_types_convertible_p): Treat opaque types as\n\talways convertible if they have the same size, but not otherwise.\n\nFrom-SVN: r120688", "tree": {"sha": "221bc5a9b3635c0b6f184d2c7ccd0df3f1b8904f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/221bc5a9b3635c0b6f184d2c7ccd0df3f1b8904f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14e765da4a4a8a0fbb8aa32c28afaf2a749db0d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14e765da4a4a8a0fbb8aa32c28afaf2a749db0d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14e765da4a4a8a0fbb8aa32c28afaf2a749db0d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14e765da4a4a8a0fbb8aa32c28afaf2a749db0d7/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6e63e240606beba28ae7b2714c059323d96896d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e63e240606beba28ae7b2714c059323d96896d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e63e240606beba28ae7b2714c059323d96896d5"}], "stats": {"total": 25, "additions": 17, "deletions": 8}, "files": [{"sha": "1e737e784b0a08da8e702d9ce3197aff8ad66c0f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14e765da4a4a8a0fbb8aa32c28afaf2a749db0d7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14e765da4a4a8a0fbb8aa32c28afaf2a749db0d7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=14e765da4a4a8a0fbb8aa32c28afaf2a749db0d7", "patch": "@@ -1,3 +1,8 @@\n+2007-01-11  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* c-common.c (vector_types_convertible_p): Treat opaque types as\n+\talways convertible if they have the same size, but not otherwise.\n+\n 2007-01-11  Steven Bosscher  <steven@gcc.gnu.org>\n \n \t* ifcvt.c (struct noce_if_info): Add comments to the fields."}, {"sha": "217228df7943aea1eb4a0f189060a85f62901f5f", "filename": "gcc/c-common.c", "status": "modified", "additions": 12, "deletions": 8, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14e765da4a4a8a0fbb8aa32c28afaf2a749db0d7/gcc%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14e765da4a4a8a0fbb8aa32c28afaf2a749db0d7/gcc%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.c?ref=14e765da4a4a8a0fbb8aa32c28afaf2a749db0d7", "patch": "@@ -1091,14 +1091,18 @@ bool\n vector_types_convertible_p (tree t1, tree t2, bool emit_lax_note)\n {\n   static bool emitted_lax_note = false;\n-  bool convertible_lax =\n-    targetm.vector_opaque_p (t1)\n-    || targetm.vector_opaque_p (t2)\n-    || (tree_int_cst_equal (TYPE_SIZE (t1), TYPE_SIZE (t2))\n-        && (TREE_CODE (TREE_TYPE (t1)) != REAL_TYPE ||\n-           TYPE_PRECISION (t1) == TYPE_PRECISION (t2))\n-       && INTEGRAL_TYPE_P (TREE_TYPE (t1))\n-          == INTEGRAL_TYPE_P (TREE_TYPE (t2)));\n+  bool convertible_lax;\n+\n+  if ((targetm.vector_opaque_p (t1) || targetm.vector_opaque_p (t2))\n+      && tree_int_cst_equal (TYPE_SIZE (t1), TYPE_SIZE (t2)))\n+    return true;\n+\n+  convertible_lax =\n+    (tree_int_cst_equal (TYPE_SIZE (t1), TYPE_SIZE (t2))\n+     && (TREE_CODE (TREE_TYPE (t1)) != REAL_TYPE ||\n+\t TYPE_PRECISION (t1) == TYPE_PRECISION (t2))\n+     && (INTEGRAL_TYPE_P (TREE_TYPE (t1))\n+\t == INTEGRAL_TYPE_P (TREE_TYPE (t2))));\n \n   if (!convertible_lax || flag_lax_vector_conversions)\n     return convertible_lax;"}]}