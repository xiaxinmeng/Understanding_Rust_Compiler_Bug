{"sha": "89d7f003d32b1ce78b154f42335ee97685245b0f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODlkN2YwMDNkMzJiMWNlNzhiMTU0ZjQyMzM1ZWU5NzY4NTI0NWIwZg==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2000-06-08T08:30:28Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2000-06-08T08:30:28Z"}, "message": "frame.c (end_fde_sort): Remove extraneous erratic array test.\n\n\t* frame.c (end_fde_sort): Remove extraneous erratic array test.\n\n\t* frame.c (start_fde_sort): Don't malloc (0).\n\nFrom-SVN: r34452", "tree": {"sha": "bdea4eba48a082d99bdb2d830d19c8b50a655152", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bdea4eba48a082d99bdb2d830d19c8b50a655152"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/89d7f003d32b1ce78b154f42335ee97685245b0f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89d7f003d32b1ce78b154f42335ee97685245b0f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89d7f003d32b1ce78b154f42335ee97685245b0f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89d7f003d32b1ce78b154f42335ee97685245b0f/comments", "author": null, "committer": null, "parents": [{"sha": "68c8e13efda181c139c48170058e8477fca68c6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68c8e13efda181c139c48170058e8477fca68c6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68c8e13efda181c139c48170058e8477fca68c6c"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "51e6599575d7f729f9986c0104de345a264f99d4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89d7f003d32b1ce78b154f42335ee97685245b0f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89d7f003d32b1ce78b154f42335ee97685245b0f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=89d7f003d32b1ce78b154f42335ee97685245b0f", "patch": "@@ -1,3 +1,11 @@\n+2000-06-08  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* frame.c (end_fde_sort): Remove extraneous erratic array test.\n+\n+2000-06-08  Denis Perchine <dyp@perchine.com>\n+\n+\t* frame.c (start_fde_sort): Don't malloc (0).\n+\n 2000-06-07  Zack Weinberg  <zack@wolery.cumb.org>\n \n \t* c-decl.c (pushdecl): Do not call COMPLETE_TYPE_P on"}, {"sha": "399df577ff0042dfe0a4a0b9f51b39d8d663fd85", "filename": "gcc/frame.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89d7f003d32b1ce78b154f42335ee97685245b0f/gcc%2Fframe.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89d7f003d32b1ce78b154f42335ee97685245b0f/gcc%2Fframe.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fframe.c?ref=89d7f003d32b1ce78b154f42335ee97685245b0f", "patch": "@@ -59,7 +59,7 @@ typedef struct fde_accumulator\n static inline int\n start_fde_sort (fde_accumulator *accu, size_t count)\n {\n-  accu->linear.array = (fde **) malloc (sizeof (fde *) * count);\n+  accu->linear.array = count ? (fde **) malloc (sizeof (fde *) * count) : NULL;\n   accu->erratic.array = accu->linear.array ?\n       (fde **) malloc (sizeof (fde *) * count) : NULL;\n   accu->linear.count = 0;\n@@ -230,8 +230,7 @@ end_fde_sort (fde_accumulator *accu, size_t count)\n \tabort ();\n       frame_heapsort (&accu->erratic);\n       fde_merge (&accu->linear, &accu->erratic);\n-      if (accu->erratic.array)\n-        free (accu->erratic.array);\n+      free (accu->erratic.array);\n     }\n   else\n     {"}]}