{"sha": "8f0303e751226c85f3556bda0d19091ceef61a6a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGYwMzAzZTc1MTIyNmM4NWYzNTU2YmRhMGQxOTA5MWNlZWY2MWE2YQ==", "commit": {"author": {"name": "Ed Schonberg", "email": "schonberg@adacore.com", "date": "2018-10-09T15:05:34Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2018-10-09T15:05:34Z"}, "message": "[Ada] Reset Is_True_Constant on entites used as OUT/IN OUT actuals\n\n2018-10-09  Ed Schonberg  <schonberg@adacore.com>\n\ngcc/ada/\n\n\t* exp_ch6.adb (Add_Call_By_Copy_Node,\n\tAdd_Simple_Call_By_Copy_Node, Expand_Call_Helper): Reset\n\tIs_True_Constant on entities used as Out or In_Out parameters in\n\tcalls.\n\nFrom-SVN: r264968", "tree": {"sha": "5e730ab18e1216728e70bf5df0e22ce5d514a261", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5e730ab18e1216728e70bf5df0e22ce5d514a261"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8f0303e751226c85f3556bda0d19091ceef61a6a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f0303e751226c85f3556bda0d19091ceef61a6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f0303e751226c85f3556bda0d19091ceef61a6a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f0303e751226c85f3556bda0d19091ceef61a6a/comments", "author": {"login": "Edschonberg", "id": 6352375, "node_id": "MDQ6VXNlcjYzNTIzNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/6352375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Edschonberg", "html_url": "https://github.com/Edschonberg", "followers_url": "https://api.github.com/users/Edschonberg/followers", "following_url": "https://api.github.com/users/Edschonberg/following{/other_user}", "gists_url": "https://api.github.com/users/Edschonberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/Edschonberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Edschonberg/subscriptions", "organizations_url": "https://api.github.com/users/Edschonberg/orgs", "repos_url": "https://api.github.com/users/Edschonberg/repos", "events_url": "https://api.github.com/users/Edschonberg/events{/privacy}", "received_events_url": "https://api.github.com/users/Edschonberg/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "73efc7ff4c07b08d8c8ab5e5deeb00d5586878e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73efc7ff4c07b08d8c8ab5e5deeb00d5586878e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73efc7ff4c07b08d8c8ab5e5deeb00d5586878e3"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "70702933f24d1ec78d3004e70976f0bab8728351", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f0303e751226c85f3556bda0d19091ceef61a6a/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f0303e751226c85f3556bda0d19091ceef61a6a/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=8f0303e751226c85f3556bda0d19091ceef61a6a", "patch": "@@ -1,3 +1,10 @@\n+2018-10-09  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* exp_ch6.adb (Add_Call_By_Copy_Node,\n+\tAdd_Simple_Call_By_Copy_Node, Expand_Call_Helper): Reset\n+\tIs_True_Constant on entities used as Out or In_Out parameters in\n+\tcalls.\n+\n 2018-10-09  Ed Schonberg  <schonberg@adacore.com>\n \n \t* exp_unst.adb (Unnest_Subprogram): Do not load System to obtain"}, {"sha": "2988f77e3cb6485cc26abeba13bf542c7cc38e5b", "filename": "gcc/ada/exp_ch6.adb", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f0303e751226c85f3556bda0d19091ceef61a6a/gcc%2Fada%2Fexp_ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f0303e751226c85f3556bda0d19091ceef61a6a/gcc%2Fada%2Fexp_ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch6.adb?ref=8f0303e751226c85f3556bda0d19091ceef61a6a", "patch": "@@ -1442,6 +1442,7 @@ package body Exp_Ch6 is\n \n             Kill_Current_Values (Temp);\n             Set_Is_Known_Valid (Temp, False);\n+            Set_Is_True_Constant (Temp, False);\n \n             --  If type conversion, use reverse conversion on exit\n \n@@ -1653,6 +1654,7 @@ package body Exp_Ch6 is\n          if Ekind (Formal) /= E_In_Parameter then\n             Lhs := Outcod;\n             Rhs := New_Occurrence_Of (Temp, Loc);\n+            Set_Is_True_Constant (Temp, False);\n \n             --  Deal with conversion\n \n@@ -3431,6 +3433,7 @@ package body Exp_Ch6 is\n                   Kill_Current_Values (Ent);\n                   Set_Last_Assignment (Ent, Sav);\n                   Set_Is_Known_Valid (Ent, False);\n+                  Set_Is_True_Constant (Ent, False);\n \n                --  For all other cases, just kill the current values\n "}]}