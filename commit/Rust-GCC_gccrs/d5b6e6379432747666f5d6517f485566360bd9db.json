{"sha": "d5b6e6379432747666f5d6517f485566360bd9db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDViNmU2Mzc5NDMyNzQ3NjY2ZjVkNjUxN2Y0ODU1NjYzNjBiZDlkYg==", "commit": {"author": {"name": "Paul Brook", "email": "paul@codesourcery.com", "date": "2006-01-20T23:23:03Z"}, "committer": {"name": "Paul Brook", "email": "pbrook@gcc.gnu.org", "date": "2006-01-20T23:23:03Z"}, "message": "[multiple changes]\n\n2006-01-20  Paul Brook  <paul@codesourcery.com>\n\n\tMerge from csl-arm-branch.\n\t2005-09-21  Kazu Hirata  <kazu@codesourcery.com>\n\t* config/arm/arm.md (movdi): Force operands[1] to a register\n\tif we have a non-register source.\n\t(*arm_movdi, *movdf_soft_insn): Require that one of the\n\toperands be a register.\n\t* config/arm/iwmmxt.md (*iwmmxt_arm_movdi): Likewise.\n\t* config/arm/vfp.md (*arm_movdi_vfp, *movdf_vfp): Likewise.\n\nFrom-SVN: r110048", "tree": {"sha": "ff0a211ad4b96788f9cfdf7f0a671026b72872ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff0a211ad4b96788f9cfdf7f0a671026b72872ce"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d5b6e6379432747666f5d6517f485566360bd9db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5b6e6379432747666f5d6517f485566360bd9db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5b6e6379432747666f5d6517f485566360bd9db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5b6e6379432747666f5d6517f485566360bd9db/comments", "author": null, "committer": null, "parents": [{"sha": "974c2c56f4aa3ae4458f6f46fc8fa5f4de8d476b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/974c2c56f4aa3ae4458f6f46fc8fa5f4de8d476b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/974c2c56f4aa3ae4458f6f46fc8fa5f4de8d476b"}], "stats": {"total": 41, "additions": 29, "deletions": 12}, "files": [{"sha": "cf357d59954471585eec438f4c778851486ec629", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5b6e6379432747666f5d6517f485566360bd9db/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5b6e6379432747666f5d6517f485566360bd9db/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d5b6e6379432747666f5d6517f485566360bd9db", "patch": "@@ -1,3 +1,14 @@\n+2006-01-20  Paul Brook  <paul@codesourcery.com>\n+\n+\tMerge from csl-arm-branch.\n+\t2005-09-21  Kazu Hirata  <kazu@codesourcery.com>\n+\t* config/arm/arm.md (movdi): Force operands[1] to a register\n+\tif we have a non-register source.\n+\t(*arm_movdi, *movdf_soft_insn): Require that one of the\n+\toperands be a register.\n+\t* config/arm/iwmmxt.md (*iwmmxt_arm_movdi): Likewise.\n+\t* config/arm/vfp.md (*arm_movdi_vfp, *movdf_vfp): Likewise.\n+\n 2006-01-20  DJ Delorie  <dj@redhat.com>\n \n \t* varasm.c (initialize_constant_valid_p): Allow pointers"}, {"sha": "a3a75568cdac88c873d310d513e263445c54b833", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5b6e6379432747666f5d6517f485566360bd9db/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5b6e6379432747666f5d6517f485566360bd9db/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=d5b6e6379432747666f5d6517f485566360bd9db", "patch": "@@ -4092,13 +4092,10 @@\n \t(match_operand:DI 1 \"general_operand\" \"\"))]\n   \"TARGET_EITHER\"\n   \"\n-  if (TARGET_THUMB)\n+  if (!no_new_pseudos)\n     {\n-      if (!no_new_pseudos)\n-        {\n-          if (GET_CODE (operands[0]) != REG)\n-\t    operands[1] = force_reg (DImode, operands[1]);\n-        }\n+      if (GET_CODE (operands[0]) != REG)\n+\toperands[1] = force_reg (DImode, operands[1]);\n     }\n   \"\n )\n@@ -4107,8 +4104,10 @@\n   [(set (match_operand:DI 0 \"nonimmediate_di_operand\" \"=r, r, r, r, m\")\n \t(match_operand:DI 1 \"di_operand\"              \"rDa,Db,Dc,mi,r\"))]\n   \"TARGET_ARM\n-  && !(TARGET_HARD_FLOAT && (TARGET_MAVERICK || TARGET_VFP))\n-  && !TARGET_IWMMXT\"\n+   && !(TARGET_HARD_FLOAT && (TARGET_MAVERICK || TARGET_VFP))\n+   && !TARGET_IWMMXT\n+   && (   register_operand (operands[0], DImode)\n+       || register_operand (operands[1], DImode))\"\n   \"*\n   switch (which_alternative)\n     {\n@@ -5272,7 +5271,8 @@\n   [(set (match_operand:DF 0 \"nonimmediate_soft_df_operand\" \"=r,r,r,r,m\")\n \t(match_operand:DF 1 \"soft_df_operand\" \"rDa,Db,Dc,mF,r\"))]\n   \"TARGET_ARM && TARGET_SOFT_FLOAT\n-  \"\n+   && (   register_operand (operands[0], DFmode)\n+       || register_operand (operands[1], DFmode))\"\n   \"*\n   switch (which_alternative)\n     {"}, {"sha": "380d4b954555c80248bf172112c61f505d7fff8b", "filename": "gcc/config/arm/iwmmxt.md", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5b6e6379432747666f5d6517f485566360bd9db/gcc%2Fconfig%2Farm%2Fiwmmxt.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5b6e6379432747666f5d6517f485566360bd9db/gcc%2Fconfig%2Farm%2Fiwmmxt.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fiwmmxt.md?ref=d5b6e6379432747666f5d6517f485566360bd9db", "patch": "@@ -66,7 +66,9 @@\n (define_insn \"*iwmmxt_arm_movdi\"\n   [(set (match_operand:DI 0 \"nonimmediate_di_operand\" \"=r, r, m,y,y,yr,y,yrUy\")\n \t(match_operand:DI 1 \"di_operand\"              \"rIK,mi,r,y,yr,y,yrUy,y\"))]\n-  \"TARGET_REALLY_IWMMXT\"\n+  \"TARGET_REALLY_IWMMXT\n+   && (   register_operand (operands[0], DImode)\n+       || register_operand (operands[1], DImode))\"\n   \"*\n {\n   switch (which_alternative)"}, {"sha": "c85f58cf88b2740af60339576e263f5d942ba515", "filename": "gcc/config/arm/vfp.md", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5b6e6379432747666f5d6517f485566360bd9db/gcc%2Fconfig%2Farm%2Fvfp.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5b6e6379432747666f5d6517f485566360bd9db/gcc%2Fconfig%2Farm%2Fvfp.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fvfp.md?ref=d5b6e6379432747666f5d6517f485566360bd9db", "patch": "@@ -148,7 +148,9 @@\n (define_insn \"*arm_movdi_vfp\"\n   [(set (match_operand:DI 0 \"nonimmediate_di_operand\" \"=r, r,m,w,r,w,w, Uv\")\n \t(match_operand:DI 1 \"di_operand\"              \"rIK,mi,r,r,w,w,Uvi,w\"))]\n-  \"TARGET_ARM && TARGET_HARD_FLOAT && TARGET_VFP\"\n+  \"TARGET_ARM && TARGET_HARD_FLOAT && TARGET_VFP\n+   && (   register_operand (operands[0], DImode)\n+       || register_operand (operands[1], DImode))\"\n   \"*\n   switch (which_alternative)\n     {\n@@ -207,7 +209,9 @@\n (define_insn \"*movdf_vfp\"\n   [(set (match_operand:DF 0 \"nonimmediate_soft_df_operand\" \"=w,r,r, m,w  ,Uv,w,r\")\n \t(match_operand:DF 1 \"soft_df_operand\"\t\t   \" r,w,mF,r,UvF,w, w,r\"))]\n-  \"TARGET_ARM && TARGET_HARD_FLOAT && TARGET_VFP\"\n+  \"TARGET_ARM && TARGET_HARD_FLOAT && TARGET_VFP\n+   && (   register_operand (operands[0], DFmode)\n+       || register_operand (operands[1], DFmode))\"\n   \"*\n   {\n     switch (which_alternative)"}]}