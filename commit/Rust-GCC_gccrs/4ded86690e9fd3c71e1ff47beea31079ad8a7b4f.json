{"sha": "4ded86690e9fd3c71e1ff47beea31079ad8a7b4f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGRlZDg2NjkwZTlmZDNjNzFlMWZmNDdiZWVhMzEwNzlhZDhhN2I0Zg==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@linux.vnet.ibm.com", "date": "2017-06-21T21:08:40Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2017-06-21T21:08:40Z"}, "message": "re PR target/80510 (Optimize Power7/power8 Altivec load/stores)\n\n2017-06-21  Michael Meissner  <meissner@linux.vnet.ibm.com>\n\n\tPR target/80510\n\t* gcc.target/powerpc/pr80510-1.c: Restrict test to 64-bit until\n\t32-bit support is added.  Change ITYPE size to 64-bit integer.\n\t* gcc.target/powerpc/pr80510-2.c: Likewise.\n\nFrom-SVN: r249470", "tree": {"sha": "db486df00c7369163b2fa40b02af77456d04dea5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/db486df00c7369163b2fa40b02af77456d04dea5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4ded86690e9fd3c71e1ff47beea31079ad8a7b4f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ded86690e9fd3c71e1ff47beea31079ad8a7b4f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ded86690e9fd3c71e1ff47beea31079ad8a7b4f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ded86690e9fd3c71e1ff47beea31079ad8a7b4f/comments", "author": null, "committer": null, "parents": [{"sha": "ac135a731d319ec86562f7ff4a42453df3078836", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac135a731d319ec86562f7ff4a42453df3078836", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac135a731d319ec86562f7ff4a42453df3078836"}], "stats": {"total": 23, "additions": 17, "deletions": 6}, "files": [{"sha": "fa14c61eed5509382785194e58b995deb944e5df", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ded86690e9fd3c71e1ff47beea31079ad8a7b4f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ded86690e9fd3c71e1ff47beea31079ad8a7b4f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4ded86690e9fd3c71e1ff47beea31079ad8a7b4f", "patch": "@@ -1,3 +1,10 @@\n+2017-06-21  Michael Meissner  <meissner@linux.vnet.ibm.com>\n+\n+\tPR target/80510\n+\t* gcc.target/powerpc/pr80510-1.c: Restrict test to 64-bit until\n+\t32-bit support is added.  Change ITYPE size to 64-bit integer.\n+\t* gcc.target/powerpc/pr80510-2.c: Likewise.\n+\n 2017-06-21  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/81154"}, {"sha": "d832e927b9f0caaf49ba150a5dd8f71507903faa", "filename": "gcc/testsuite/gcc.target/powerpc/pr80510-1.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ded86690e9fd3c71e1ff47beea31079ad8a7b4f/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr80510-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ded86690e9fd3c71e1ff47beea31079ad8a7b4f/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr80510-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr80510-1.c?ref=4ded86690e9fd3c71e1ff47beea31079ad8a7b4f", "patch": "@@ -1,12 +1,14 @@\n-/* { dg-do compile { target { powerpc*-*-* } } } */\n+/* { dg-do compile { target { powerpc*-*-* && lp64 } } } */\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-require-effective-target powerpc_vsx_ok } */\n /* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } */\n /* { dg-options \"-mcpu=power7 -O2\" } */\n \n /* Make sure that STXSDX is generated for double scalars in Altivec registers\n    on power7 instead of moving the value to a FPR register and doing a X-FORM\n-   store.  */\n+   store.\n+\n+   32-bit currently does not have support for STXSDX in the mov{df,dd} patterns.  */\n \n #ifndef TYPE\n #define TYPE double\n@@ -21,7 +23,7 @@\n #endif\n \n #ifndef ITYPE\n-#define ITYPE long\n+#define ITYPE __INT64_TYPE__\n #endif\n \n #ifdef DO_CALL"}, {"sha": "83a186bedc824daab41c0eddc776093a6b06d110", "filename": "gcc/testsuite/gcc.target/powerpc/pr80510-2.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ded86690e9fd3c71e1ff47beea31079ad8a7b4f/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr80510-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ded86690e9fd3c71e1ff47beea31079ad8a7b4f/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr80510-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr80510-2.c?ref=4ded86690e9fd3c71e1ff47beea31079ad8a7b4f", "patch": "@@ -1,12 +1,14 @@\n-/* { dg-do compile { target { powerpc*-*-* } } } */\n+/* { dg-do compile { target { powerpc*-*-* && lp64 } } } */\n /* { dg-skip-if \"\" { powerpc*-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n /* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power8\" } } */\n /* { dg-options \"-mcpu=power8 -O2\" } */\n \n /* Make sure that STXSSPX is generated for float scalars in Altivec registers\n    on power7 instead of moving the value to a FPR register and doing a X-FORM\n-   store.  */\n+   store.\n+\n+   32-bit currently does not have support for STXSSPX in the mov{sf,sd} patterns.  */\n \n #ifndef TYPE\n #define TYPE float\n@@ -21,7 +23,7 @@\n #endif\n \n #ifndef ITYPE\n-#define ITYPE long\n+#define ITYPE __INT64_TYPE__\n #endif\n \n #ifdef DO_CALL"}]}