{"sha": "3a3dd865127b059efd2c5503a57b5ac4d8232543", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2EzZGQ4NjUxMjdiMDU5ZWZkMmM1NTAzYTU3YjVhYzRkODIzMjU0Mw==", "commit": {"author": {"name": "Razya Ladelsky", "email": "razya@gcc.gnu.org", "date": "2005-10-12T09:31:34Z"}, "committer": {"name": "Razya Ladelsky", "email": "razya@gcc.gnu.org", "date": "2005-10-12T09:31:34Z"}, "message": "ipa-1.c: New test.\n\n        * gcc.dg/ipa/ipa-1.c: New test.\n        * gcc.dg/ipa/ipa-2.c: New test.\n        * gcc.dg/ipa/ipa-3.c: New test.\n        * gcc.dg/ipa/ipa-4.c: New test.\n        * gcc.dg/ipa/ipa-5.c: New test.\n        * gcc.dg/ipa/ipa.exp: New file.\n\nFrom-SVN: r105291", "tree": {"sha": "169f2c279de8f1a95d76be3671402ac5ce92f302", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/169f2c279de8f1a95d76be3671402ac5ce92f302"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3a3dd865127b059efd2c5503a57b5ac4d8232543", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a3dd865127b059efd2c5503a57b5ac4d8232543", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a3dd865127b059efd2c5503a57b5ac4d8232543", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a3dd865127b059efd2c5503a57b5ac4d8232543/comments", "author": null, "committer": null, "parents": [{"sha": "e2953e417a68f09fbe9aebc96e3a31aff6ef35dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2953e417a68f09fbe9aebc96e3a31aff6ef35dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2953e417a68f09fbe9aebc96e3a31aff6ef35dc"}], "stats": {"total": 168, "additions": 168, "deletions": 0}, "files": [{"sha": "d8f737a380c039adb6745f16da30289a127b5c47", "filename": "gcc/testsuite/gcc.dg/ipa/ipa-1.c", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a3dd865127b059efd2c5503a57b5ac4d8232543/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a3dd865127b059efd2c5503a57b5ac4d8232543/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-1.c?ref=3a3dd865127b059efd2c5503a57b5ac4d8232543", "patch": "@@ -0,0 +1,28 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O3 -fipa-cp -fdump-ipa-cp\"  } */\n+\n+#include <stdio.h>\n+int g (int b, int c)\n+{\n+  printf (\"%d %d\\n\", b, c);\n+}\n+int f (int a)\n+{\n+  /* Second parameter of g gets different values.  */\n+  if (a > 0)\n+    g (a, 3);\n+  else\n+    g (a, 5); \t\n+}\n+int main ()\n+{\n+  f (7);\n+  return 0;\t\n+}\n+\n+\n+/* { dg-final { scan-ipa-dump-times \"versioned function\" 2 \"cp\"  } } */\n+/* { dg-final { scan-ipa-dump-times \"propagating const\" 2 \"cp\"  } } */\n+/* { dg-final { cleanup-ipa-dump \"cp\" } } */\n+\n+"}, {"sha": "e614b595119b5ba7659837e2744cb3713c7a80c4", "filename": "gcc/testsuite/gcc.dg/ipa/ipa-2.c", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a3dd865127b059efd2c5503a57b5ac4d8232543/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a3dd865127b059efd2c5503a57b5ac4d8232543/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-2.c?ref=3a3dd865127b059efd2c5503a57b5ac4d8232543", "patch": "@@ -0,0 +1,24 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O3 -fipa-cp -fdump-ipa-cp\"  } */\n+\n+#include <stdio.h>\n+int g (int b, int c)\n+{\n+  printf (\"%d %d\\n\", b, c);\n+}\n+int f (int a)\n+{\n+  /* a is modified.  */\n+  if (a++ > 0)\n+    g (a, 3);\n+}\n+int main ()\n+{\n+  f (7);\n+  return 0;\t\n+}\n+\n+\n+/* { dg-final { scan-ipa-dump-times \"versioned function\" 2 \"cp\"  } } */\n+/* { dg-final { scan-ipa-dump-times \"propagating const\" 2 \"cp\"  } } */\n+/* { dg-final { cleanup-ipa-dump \"cp\" } } */"}, {"sha": "b4bf394b4e03aa95db346366e29cbfea430cbff4", "filename": "gcc/testsuite/gcc.dg/ipa/ipa-3.c", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a3dd865127b059efd2c5503a57b5ac4d8232543/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a3dd865127b059efd2c5503a57b5ac4d8232543/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-3.c?ref=3a3dd865127b059efd2c5503a57b5ac4d8232543", "patch": "@@ -0,0 +1,28 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O3 -fipa-cp -fdump-ipa-cp\"  } */\n+\n+\n+/* Double constants.  */\n+\n+#include <stdio.h>\n+int g (double b, double c)\n+{\n+  return (int)(b+c);  \n+}\n+int f (double a)\n+{\n+  if (a > 0)\n+    g (a, 3.1);\n+  else\n+    g (a, 3.1); \t\n+}\n+int main ()\n+{\n+  f (7.44);\n+  return 0;\t\n+}\n+\n+\n+/* { dg-final { scan-ipa-dump-times \"versioned function\" 2 \"cp\"  } } */\n+/* { dg-final { scan-ipa-dump-times \"propagating const\" 3 \"cp\"  } } */\n+/* { dg-final { cleanup-ipa-dump \"cp\" } } */"}, {"sha": "edb15a81b8bfb33f0a893e3df88b3db11fc50462", "filename": "gcc/testsuite/gcc.dg/ipa/ipa-4.c", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a3dd865127b059efd2c5503a57b5ac4d8232543/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a3dd865127b059efd2c5503a57b5ac4d8232543/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-4.c?ref=3a3dd865127b059efd2c5503a57b5ac4d8232543", "patch": "@@ -0,0 +1,27 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O3 -fipa-cp -fdump-ipa-cp\"  } */\n+\n+#include <stdio.h>\n+int g (int b, int c)\n+{\n+  printf (\"%d %d\\n\", b, c);\n+}\n+int f (int a)\n+{\n+  /* First and second parameter of g gets different values.  */ \n+     \n+  if (a > 0)\n+    g (a, 3);\n+  else\n+    g (a+1, 5); \t\n+}\n+int main ()\n+{\n+  f (7);\n+  return 0;\t\n+}\n+\n+\n+/* { dg-final { scan-ipa-dump-times \"versioned function\" 1 \"cp\"  } } */\n+/* { dg-final { scan-ipa-dump-times \"propagating const\" 1 \"cp\"  } } */\n+/* { dg-final { cleanup-ipa-dump \"cp\" } } */"}, {"sha": "efb08da30042cf3a70dfd8d40f717aa679cd5e9c", "filename": "gcc/testsuite/gcc.dg/ipa/ipa-5.c", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a3dd865127b059efd2c5503a57b5ac4d8232543/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a3dd865127b059efd2c5503a57b5ac4d8232543/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-5.c?ref=3a3dd865127b059efd2c5503a57b5ac4d8232543", "patch": "@@ -0,0 +1,26 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O3 -fipa-cp -fdump-ipa-cp\"  } */\n+\n+/* Float & short constants.  */\n+\n+#include <stdio.h>\n+int g (float b, short c)\n+{\n+  return c + (int)b;\n+}\n+int f (float a)\n+{\n+  /* a is modified.  */\n+  if (a++ > 0)\n+    g (a, 3);\n+}\n+int main ()\n+{\n+  f (7.6);\n+  return 0;\t\n+}\n+\n+\n+/* { dg-final { scan-ipa-dump-times \"versioned function\" 2 \"cp\"  } } */\n+/* { dg-final { scan-ipa-dump-times \"propagating const\" 2 \"cp\"  } } */\n+/* { dg-final { cleanup-ipa-dump \"cp\" } } */"}, {"sha": "d95b938215b1a8a11a7867f320d4aa987f5abd80", "filename": "gcc/testsuite/gcc.dg/ipa/ipa.exp", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a3dd865127b059efd2c5503a57b5ac4d8232543/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a3dd865127b059efd2c5503a57b5ac4d8232543/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa.exp?ref=3a3dd865127b059efd2c5503a57b5ac4d8232543", "patch": "@@ -0,0 +1,35 @@\n+# Copyright (C) 1997, 2004 Free Software Foundation, Inc.\n+\n+# This program is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 2 of the License, or\n+# (at your option) any later version.\n+# \n+# This program is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+# \n+# You should have received a copy of the GNU General Public License\n+# along with this program; if not, write to the Free Software\n+# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.  \n+\n+# GCC testsuite that uses the `dg.exp' driver.\n+\n+# Load support procs.\n+load_lib gcc-dg.exp\n+\n+# If a testcase doesn't have special options, use these.\n+global DEFAULT_CFLAGS\n+if ![info exists DEFAULT_CFLAGS] then {\n+    set DEFAULT_CFLAGS \" -ansi -pedantic-errors\"\n+}\n+\n+# Initialize `dg'.\n+dg-init\n+\n+# Main loop.\n+dg-runtest [lsort [glob -nocomplain $srcdir/$subdir/*.\\[cS\\]]] \"\" $DEFAULT_CFLAGS\n+\n+# All done.\n+dg-finish"}]}