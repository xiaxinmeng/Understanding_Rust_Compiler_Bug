{"sha": "7ff37ffa0865c4c7c5610009916d66927d14c258", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2ZmMzdmZmEwODY1YzRjN2M1NjEwMDA5OTE2ZDY2OTI3ZDE0YzI1OA==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2013-01-18T10:57:58Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2013-01-18T10:57:58Z"}, "message": "re PR libmudflap/53359 (undefined reference to `__gnu_cxx::__numeric_traits_integer<int>::__min')\n\nPR libmudflap/53359\n* tree-mudflap.c (mudflap_finish_file): Skip deferred decls\nnot found in the symtab.\n\nFrom-SVN: r195290", "tree": {"sha": "81e9ccfc327c31e42b2fe6f6932003e7cdd0ee28", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/81e9ccfc327c31e42b2fe6f6932003e7cdd0ee28"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7ff37ffa0865c4c7c5610009916d66927d14c258", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ff37ffa0865c4c7c5610009916d66927d14c258", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ff37ffa0865c4c7c5610009916d66927d14c258", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ff37ffa0865c4c7c5610009916d66927d14c258/comments", "author": null, "committer": null, "parents": [{"sha": "3aa035178c7bdfa0929bbb9f19ba0e8a9257cd1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3aa035178c7bdfa0929bbb9f19ba0e8a9257cd1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3aa035178c7bdfa0929bbb9f19ba0e8a9257cd1e"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "9763bca179dbaf0ed5158229c8fe2656a244ab62", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ff37ffa0865c4c7c5610009916d66927d14c258/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ff37ffa0865c4c7c5610009916d66927d14c258/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7ff37ffa0865c4c7c5610009916d66927d14c258", "patch": "@@ -1,3 +1,9 @@\n+2013-01-18  Alexandre Oliva <aoliva@redhat.com>\n+\n+\tPR libmudflap/53359\n+\t* tree-mudflap.c (mudflap_finish_file): Skip deferred decls\n+\tnot found in the symtab.\n+\n 2013-01-18  Alexandre Oliva <aoliva@redhat.com>\n \n \tPR rtl-optimization/55547"}, {"sha": "b250bfefadb33aa3cea75c99e26940544baaccfd", "filename": "gcc/tree-mudflap.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ff37ffa0865c4c7c5610009916d66927d14c258/gcc%2Ftree-mudflap.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ff37ffa0865c4c7c5610009916d66927d14c258/gcc%2Ftree-mudflap.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-mudflap.c?ref=7ff37ffa0865c4c7c5610009916d66927d14c258", "patch": "@@ -1334,6 +1334,16 @@ mudflap_finish_file (void)\n           if (! TREE_PUBLIC (obj) && ! TREE_ADDRESSABLE (obj))\n             continue;\n \n+\t  /* If we're neither emitting nor referencing the symbol,\n+\t     don't register it.  We have to register external symbols\n+\t     if they happen to be in other files not compiled with\n+\t     mudflap (say system libraries), and we must not register\n+\t     internal symbols that we don't emit or they'll become\n+\t     dangling references or force symbols to be emitted that\n+\t     didn't have to.  */\n+\t  if (!symtab_get_node (obj))\n+\t    continue;\n+\n           if (! COMPLETE_TYPE_P (TREE_TYPE (obj)))\n             {\n               warning (OPT_Wmudflap,"}]}