{"sha": "e6a4aefce8e47a7d3ba781066a1410ebfa963e59", "node_id": "C_kwDOANBUbNoAKGU2YTRhZWZjZThlNDdhN2QzYmE3ODEwNjZhMTQxMGViZmE5NjNlNTk", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@arm.com", "date": "2021-10-13T09:16:35Z"}, "committer": {"name": "Christophe Lyon", "email": "christophe.lyon@foss.st.com", "date": "2022-02-22T15:55:08Z"}, "message": "arm: Convert remaining MVE vcmp builtins to predicate qualifiers\n\nThis is mostly a mechanical change, only tested by the intrinsics\nexpansion tests.\n\nMost of the work of this patch series was carried out while I was\nworking at STMicroelectronics as a Linaro assignee.\n\n2022-02-22  Christophe Lyon  <christophe.lyon@arm.com>\n\n\tgcc/\n\tPR target/100757\n\tPR target/101325\n\t* config/arm/arm-builtins.cc (BINOP_UNONE_NONE_NONE_QUALIFIERS):\n\tDelete.\n\t(TERNOP_UNONE_NONE_NONE_UNONE_QUALIFIERS): Change to ...\n\t(TERNOP_PRED_NONE_NONE_PRED_QUALIFIERS): ... this.\n\t(TERNOP_PRED_UNONE_UNONE_PRED_QUALIFIERS): New.\n\t* config/arm/arm_mve_builtins.def (vcmp*q_n_, vcmp*q_m_f): Use new\n\tpredicated qualifiers.\n\t* config/arm/mve.md (mve_vcmp<mve_cmp_op>q_n_<mode>)\n\t(mve_vcmp*q_m_f<mode>): Use MVE_VPRED instead of HI.", "tree": {"sha": "6b72bb37fd4039d6361e50e4d64c29bbf89fd6ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b72bb37fd4039d6361e50e4d64c29bbf89fd6ba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e6a4aefce8e47a7d3ba781066a1410ebfa963e59", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6a4aefce8e47a7d3ba781066a1410ebfa963e59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6a4aefce8e47a7d3ba781066a1410ebfa963e59", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6a4aefce8e47a7d3ba781066a1410ebfa963e59/comments", "author": null, "committer": null, "parents": [{"sha": "df0e57c2c032cea0f77f2e68231c035f282b26d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df0e57c2c032cea0f77f2e68231c035f282b26d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df0e57c2c032cea0f77f2e68231c035f282b26d6"}], "stats": {"total": 289, "additions": 145, "deletions": 144}, "files": [{"sha": "02411c61098289d4a6bf34ef14fc1416e2773fe7", "filename": "gcc/config/arm/arm-builtins.cc", "status": "modified", "additions": 11, "deletions": 10, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6a4aefce8e47a7d3ba781066a1410ebfa963e59/gcc%2Fconfig%2Farm%2Farm-builtins.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6a4aefce8e47a7d3ba781066a1410ebfa963e59/gcc%2Fconfig%2Farm%2Farm-builtins.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm-builtins.cc?ref=e6a4aefce8e47a7d3ba781066a1410ebfa963e59", "patch": "@@ -438,12 +438,6 @@ arm_binop_none_none_unone_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n #define BINOP_NONE_NONE_UNONE_QUALIFIERS \\\n   (arm_binop_none_none_unone_qualifiers)\n \n-static enum arm_type_qualifiers\n-arm_binop_unone_none_none_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n-  = { qualifier_unsigned, qualifier_none, qualifier_none };\n-#define BINOP_UNONE_NONE_NONE_QUALIFIERS \\\n-  (arm_binop_unone_none_none_qualifiers)\n-\n static enum arm_type_qualifiers\n arm_binop_pred_none_none_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n   = { qualifier_predicate, qualifier_none, qualifier_none };\n@@ -504,10 +498,10 @@ arm_ternop_unone_unone_imm_unone_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n   (arm_ternop_unone_unone_imm_unone_qualifiers)\n \n static enum arm_type_qualifiers\n-arm_ternop_unone_none_none_unone_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n-  = { qualifier_unsigned, qualifier_none, qualifier_none, qualifier_unsigned };\n-#define TERNOP_UNONE_NONE_NONE_UNONE_QUALIFIERS \\\n-  (arm_ternop_unone_none_none_unone_qualifiers)\n+arm_ternop_pred_none_none_pred_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n+  = { qualifier_predicate, qualifier_none, qualifier_none, qualifier_predicate };\n+#define TERNOP_PRED_NONE_NONE_PRED_QUALIFIERS \\\n+  (arm_ternop_pred_none_none_pred_qualifiers)\n \n static enum arm_type_qualifiers\n arm_ternop_none_none_none_imm_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n@@ -553,6 +547,13 @@ arm_ternop_unone_unone_unone_pred_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n #define TERNOP_UNONE_UNONE_UNONE_PRED_QUALIFIERS \\\n   (arm_ternop_unone_unone_unone_pred_qualifiers)\n \n+static enum arm_type_qualifiers\n+arm_ternop_pred_unone_unone_pred_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n+  = { qualifier_predicate, qualifier_unsigned, qualifier_unsigned,\n+    qualifier_predicate };\n+#define TERNOP_PRED_UNONE_UNONE_PRED_QUALIFIERS \\\n+  (arm_ternop_pred_unone_unone_pred_qualifiers)\n+\n static enum arm_type_qualifiers\n arm_ternop_none_none_none_none_qualifiers[SIMD_MAX_BUILTIN_ARGS]\n   = { qualifier_none, qualifier_none, qualifier_none, qualifier_none };"}, {"sha": "b7ebbcab87f716d095f6ad6490b8b0b70594e4e2", "filename": "gcc/config/arm/arm_mve_builtins.def", "status": "modified", "additions": 46, "deletions": 46, "changes": 92, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6a4aefce8e47a7d3ba781066a1410ebfa963e59/gcc%2Fconfig%2Farm%2Farm_mve_builtins.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6a4aefce8e47a7d3ba781066a1410ebfa963e59/gcc%2Fconfig%2Farm%2Farm_mve_builtins.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm_mve_builtins.def?ref=e6a4aefce8e47a7d3ba781066a1410ebfa963e59", "patch": "@@ -118,9 +118,9 @@ VAR3 (BINOP_UNONE_UNONE_UNONE, vhaddq_u, v16qi, v8hi, v4si)\n VAR3 (BINOP_UNONE_UNONE_UNONE, vhaddq_n_u, v16qi, v8hi, v4si)\n VAR3 (BINOP_UNONE_UNONE_UNONE, veorq_u, v16qi, v8hi, v4si)\n VAR3 (BINOP_PRED_UNONE_UNONE, vcmphiq_, v16qi, v8hi, v4si)\n-VAR3 (BINOP_UNONE_UNONE_UNONE, vcmphiq_n_, v16qi, v8hi, v4si)\n+VAR3 (BINOP_PRED_UNONE_UNONE, vcmphiq_n_, v16qi, v8hi, v4si)\n VAR3 (BINOP_PRED_UNONE_UNONE, vcmpcsq_, v16qi, v8hi, v4si)\n-VAR3 (BINOP_UNONE_UNONE_UNONE, vcmpcsq_n_, v16qi, v8hi, v4si)\n+VAR3 (BINOP_PRED_UNONE_UNONE, vcmpcsq_n_, v16qi, v8hi, v4si)\n VAR3 (BINOP_UNONE_UNONE_UNONE, vbicq_u, v16qi, v8hi, v4si)\n VAR3 (BINOP_UNONE_UNONE_UNONE, vandq_u, v16qi, v8hi, v4si)\n VAR3 (BINOP_UNONE_UNONE_UNONE, vaddvq_p_u, v16qi, v8hi, v4si)\n@@ -142,17 +142,17 @@ VAR3 (BINOP_UNONE_UNONE_NONE, vbrsrq_n_u, v16qi, v8hi, v4si)\n VAR3 (BINOP_UNONE_UNONE_IMM, vshlq_n_u, v16qi, v8hi, v4si)\n VAR3 (BINOP_UNONE_UNONE_IMM, vrshrq_n_u, v16qi, v8hi, v4si)\n VAR3 (BINOP_UNONE_UNONE_IMM, vqshlq_n_u, v16qi, v8hi, v4si)\n-VAR3 (BINOP_UNONE_NONE_NONE, vcmpneq_n_, v16qi, v8hi, v4si)\n+VAR3 (BINOP_PRED_NONE_NONE, vcmpneq_n_, v16qi, v8hi, v4si)\n VAR3 (BINOP_PRED_NONE_NONE, vcmpltq_, v16qi, v8hi, v4si)\n-VAR3 (BINOP_UNONE_NONE_NONE, vcmpltq_n_, v16qi, v8hi, v4si)\n+VAR3 (BINOP_PRED_NONE_NONE, vcmpltq_n_, v16qi, v8hi, v4si)\n VAR3 (BINOP_PRED_NONE_NONE, vcmpleq_, v16qi, v8hi, v4si)\n-VAR3 (BINOP_UNONE_NONE_NONE, vcmpleq_n_, v16qi, v8hi, v4si)\n+VAR3 (BINOP_PRED_NONE_NONE, vcmpleq_n_, v16qi, v8hi, v4si)\n VAR3 (BINOP_PRED_NONE_NONE, vcmpgtq_, v16qi, v8hi, v4si)\n-VAR3 (BINOP_UNONE_NONE_NONE, vcmpgtq_n_, v16qi, v8hi, v4si)\n+VAR3 (BINOP_PRED_NONE_NONE, vcmpgtq_n_, v16qi, v8hi, v4si)\n VAR3 (BINOP_PRED_NONE_NONE, vcmpgeq_, v16qi, v8hi, v4si)\n-VAR3 (BINOP_UNONE_NONE_NONE, vcmpgeq_n_, v16qi, v8hi, v4si)\n+VAR3 (BINOP_PRED_NONE_NONE, vcmpgeq_n_, v16qi, v8hi, v4si)\n VAR3 (BINOP_PRED_NONE_NONE, vcmpeqq_, v16qi, v8hi, v4si)\n-VAR3 (BINOP_UNONE_NONE_NONE, vcmpeqq_n_, v16qi, v8hi, v4si)\n+VAR3 (BINOP_PRED_NONE_NONE, vcmpeqq_n_, v16qi, v8hi, v4si)\n VAR3 (BINOP_UNONE_NONE_IMM, vqshluq_n_s, v16qi, v8hi, v4si)\n VAR3 (BINOP_NONE_NONE_UNONE, vaddvq_p_s, v16qi, v8hi, v4si)\n VAR3 (BINOP_NONE_NONE_NONE, vsubq_s, v16qi, v8hi, v4si)\n@@ -218,17 +218,17 @@ VAR2 (BINOP_UNONE_UNONE_IMM, vshlltq_n_u, v16qi, v8hi)\n VAR2 (BINOP_UNONE_UNONE_IMM, vshllbq_n_u, v16qi, v8hi)\n VAR2 (BINOP_UNONE_UNONE_IMM, vorrq_n_u, v8hi, v4si)\n VAR2 (BINOP_UNONE_UNONE_IMM, vbicq_n_u, v8hi, v4si)\n-VAR2 (BINOP_UNONE_NONE_NONE, vcmpneq_n_f, v8hf, v4sf)\n+VAR2 (BINOP_PRED_NONE_NONE, vcmpneq_n_f, v8hf, v4sf)\n VAR2 (BINOP_PRED_NONE_NONE, vcmpneq_f, v8hf, v4sf)\n-VAR2 (BINOP_UNONE_NONE_NONE, vcmpltq_n_f, v8hf, v4sf)\n+VAR2 (BINOP_PRED_NONE_NONE, vcmpltq_n_f, v8hf, v4sf)\n VAR2 (BINOP_PRED_NONE_NONE, vcmpltq_f, v8hf, v4sf)\n-VAR2 (BINOP_UNONE_NONE_NONE, vcmpleq_n_f, v8hf, v4sf)\n+VAR2 (BINOP_PRED_NONE_NONE, vcmpleq_n_f, v8hf, v4sf)\n VAR2 (BINOP_PRED_NONE_NONE, vcmpleq_f, v8hf, v4sf)\n-VAR2 (BINOP_UNONE_NONE_NONE, vcmpgtq_n_f, v8hf, v4sf)\n+VAR2 (BINOP_PRED_NONE_NONE, vcmpgtq_n_f, v8hf, v4sf)\n VAR2 (BINOP_PRED_NONE_NONE, vcmpgtq_f, v8hf, v4sf)\n-VAR2 (BINOP_UNONE_NONE_NONE, vcmpgeq_n_f, v8hf, v4sf)\n+VAR2 (BINOP_PRED_NONE_NONE, vcmpgeq_n_f, v8hf, v4sf)\n VAR2 (BINOP_PRED_NONE_NONE, vcmpgeq_f, v8hf, v4sf)\n-VAR2 (BINOP_UNONE_NONE_NONE, vcmpeqq_n_f, v8hf, v4sf)\n+VAR2 (BINOP_PRED_NONE_NONE, vcmpeqq_n_f, v8hf, v4sf)\n VAR2 (BINOP_PRED_NONE_NONE, vcmpeqq_f, v8hf, v4sf)\n VAR2 (BINOP_NONE_NONE_NONE, vsubq_f, v8hf, v4sf)\n VAR2 (BINOP_NONE_NONE_NONE, vqmovntq_s, v8hi, v4si)\n@@ -285,7 +285,7 @@ VAR1 (TERNOP_NONE_NONE_NONE_NONE, vrmlaldavhaq_s, v4si)\n VAR1 (TERNOP_UNONE_UNONE_UNONE_UNONE, vrmlaldavhaq_u, v4si)\n VAR2 (TERNOP_NONE_NONE_UNONE_UNONE, vcvtq_m_to_f_u, v8hf, v4sf)\n VAR2 (TERNOP_NONE_NONE_NONE_UNONE, vcvtq_m_to_f_s, v8hf, v4sf)\n-VAR2 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpeqq_m_f, v8hf, v4sf)\n+VAR2 (TERNOP_PRED_NONE_NONE_PRED, vcmpeqq_m_f, v8hf, v4sf)\n VAR3 (TERNOP_UNONE_NONE_UNONE_IMM, vshlcq_carry_s, v16qi, v8hi, v4si)\n VAR3 (TERNOP_UNONE_UNONE_UNONE_IMM, vshlcq_carry_u, v16qi, v8hi, v4si)\n VAR2 (TERNOP_UNONE_UNONE_NONE_IMM, vqrshrunbq_n_s, v8hi, v4si)\n@@ -306,14 +306,14 @@ VAR3 (TERNOP_UNONE_UNONE_UNONE_UNONE, vmladavaq_u, v16qi, v8hi, v4si)\n VAR3 (TERNOP_UNONE_UNONE_UNONE_UNONE, vminvq_p_u, v16qi, v8hi, v4si)\n VAR3 (TERNOP_UNONE_UNONE_UNONE_UNONE, vmaxvq_p_u, v16qi, v8hi, v4si)\n VAR3 (TERNOP_UNONE_UNONE_UNONE_UNONE, vdupq_m_n_u, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_UNONE_UNONE_UNONE, vcmpneq_m_u, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_UNONE_UNONE_UNONE, vcmpneq_m_n_u, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_UNONE_UNONE_UNONE, vcmphiq_m_u, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_UNONE_UNONE_UNONE, vcmphiq_m_n_u, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_UNONE_UNONE_UNONE, vcmpeqq_m_u, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_UNONE_UNONE_UNONE, vcmpeqq_m_n_u, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_UNONE_UNONE_UNONE, vcmpcsq_m_u, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_UNONE_UNONE_UNONE, vcmpcsq_m_n_u, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_UNONE_UNONE_PRED, vcmpneq_m_u, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_UNONE_UNONE_PRED, vcmpneq_m_n_u, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_UNONE_UNONE_PRED, vcmphiq_m_u, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_UNONE_UNONE_PRED, vcmphiq_m_n_u, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_UNONE_UNONE_PRED, vcmpeqq_m_u, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_UNONE_UNONE_PRED, vcmpeqq_m_n_u, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_UNONE_UNONE_PRED, vcmpcsq_m_u, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_UNONE_UNONE_PRED, vcmpcsq_m_n_u, v16qi, v8hi, v4si)\n VAR3 (TERNOP_UNONE_UNONE_UNONE_UNONE, vclzq_m_u, v16qi, v8hi, v4si)\n VAR3 (TERNOP_UNONE_UNONE_UNONE_UNONE, vaddvaq_p_u, v16qi, v8hi, v4si)\n VAR3 (TERNOP_UNONE_UNONE_UNONE_IMM, vsriq_n_u, v16qi, v8hi, v4si)\n@@ -326,18 +326,18 @@ VAR3 (TERNOP_UNONE_UNONE_NONE_UNONE, vminavq_p_s, v16qi, v8hi, v4si)\n VAR3 (TERNOP_UNONE_UNONE_NONE_UNONE, vminaq_m_s, v16qi, v8hi, v4si)\n VAR3 (TERNOP_UNONE_UNONE_NONE_UNONE, vmaxavq_p_s, v16qi, v8hi, v4si)\n VAR3 (TERNOP_UNONE_UNONE_NONE_UNONE, vmaxaq_m_s, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpneq_m_s, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpneq_m_n_s, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpltq_m_s, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpltq_m_n_s, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpleq_m_s, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpleq_m_n_s, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpgtq_m_s, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpgtq_m_n_s, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpgeq_m_s, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpgeq_m_n_s, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpeqq_m_s, v16qi, v8hi, v4si)\n-VAR3 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpeqq_m_n_s, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_NONE_NONE_PRED, vcmpneq_m_s, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_NONE_NONE_PRED, vcmpneq_m_n_s, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_NONE_NONE_PRED, vcmpltq_m_s, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_NONE_NONE_PRED, vcmpltq_m_n_s, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_NONE_NONE_PRED, vcmpleq_m_s, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_NONE_NONE_PRED, vcmpleq_m_n_s, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_NONE_NONE_PRED, vcmpgtq_m_s, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_NONE_NONE_PRED, vcmpgtq_m_n_s, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_NONE_NONE_PRED, vcmpgeq_m_s, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_NONE_NONE_PRED, vcmpgeq_m_n_s, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_NONE_NONE_PRED, vcmpeqq_m_s, v16qi, v8hi, v4si)\n+VAR3 (TERNOP_PRED_NONE_NONE_PRED, vcmpeqq_m_n_s, v16qi, v8hi, v4si)\n VAR3 (TERNOP_NONE_NONE_NONE_UNONE, vshlq_m_r_s, v16qi, v8hi, v4si)\n VAR3 (TERNOP_NONE_NONE_NONE_UNONE, vrshlq_m_n_s, v16qi, v8hi, v4si)\n VAR3 (TERNOP_NONE_NONE_NONE_UNONE, vrev64q_m_s, v16qi, v8hi, v4si)\n@@ -405,17 +405,17 @@ VAR2 (TERNOP_UNONE_UNONE_NONE_IMM, vqshrunbq_n_s, v8hi, v4si)\n VAR2 (TERNOP_UNONE_UNONE_NONE_IMM, vqrshruntq_n_s, v8hi, v4si)\n VAR2 (TERNOP_UNONE_UNONE_IMM_UNONE, vorrq_m_n_u, v8hi, v4si)\n VAR2 (TERNOP_UNONE_UNONE_IMM_UNONE, vmvnq_m_n_u, v8hi, v4si)\n-VAR2 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpneq_m_n_f, v8hf, v4sf)\n-VAR2 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpneq_m_f, v8hf, v4sf)\n-VAR2 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpltq_m_n_f, v8hf, v4sf)\n-VAR2 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpltq_m_f, v8hf, v4sf)\n-VAR2 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpleq_m_n_f, v8hf, v4sf)\n-VAR2 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpleq_m_f, v8hf, v4sf)\n-VAR2 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpgtq_m_n_f, v8hf, v4sf)\n-VAR2 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpgtq_m_f, v8hf, v4sf)\n-VAR2 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpgeq_m_n_f, v8hf, v4sf)\n-VAR2 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpgeq_m_f, v8hf, v4sf)\n-VAR2 (TERNOP_UNONE_NONE_NONE_UNONE, vcmpeqq_m_n_f, v8hf, v4sf)\n+VAR2 (TERNOP_PRED_NONE_NONE_PRED, vcmpneq_m_n_f, v8hf, v4sf)\n+VAR2 (TERNOP_PRED_NONE_NONE_PRED, vcmpneq_m_f, v8hf, v4sf)\n+VAR2 (TERNOP_PRED_NONE_NONE_PRED, vcmpltq_m_n_f, v8hf, v4sf)\n+VAR2 (TERNOP_PRED_NONE_NONE_PRED, vcmpltq_m_f, v8hf, v4sf)\n+VAR2 (TERNOP_PRED_NONE_NONE_PRED, vcmpleq_m_n_f, v8hf, v4sf)\n+VAR2 (TERNOP_PRED_NONE_NONE_PRED, vcmpleq_m_f, v8hf, v4sf)\n+VAR2 (TERNOP_PRED_NONE_NONE_PRED, vcmpgtq_m_n_f, v8hf, v4sf)\n+VAR2 (TERNOP_PRED_NONE_NONE_PRED, vcmpgtq_m_f, v8hf, v4sf)\n+VAR2 (TERNOP_PRED_NONE_NONE_PRED, vcmpgeq_m_n_f, v8hf, v4sf)\n+VAR2 (TERNOP_PRED_NONE_NONE_PRED, vcmpgeq_m_f, v8hf, v4sf)\n+VAR2 (TERNOP_PRED_NONE_NONE_PRED, vcmpeqq_m_n_f, v8hf, v4sf)\n VAR2 (TERNOP_NONE_NONE_NONE_UNONE, vrndxq_m_f, v8hf, v4sf)\n VAR2 (TERNOP_NONE_NONE_NONE_UNONE, vrndq_m_f, v8hf, v4sf)\n VAR2 (TERNOP_NONE_NONE_NONE_UNONE, vrndpq_m_f, v8hf, v4sf)"}, {"sha": "12f05b35f6a9996774f942967aa9949003d1117f", "filename": "gcc/config/arm/mve.md", "status": "modified", "additions": 88, "deletions": 88, "changes": 176, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6a4aefce8e47a7d3ba781066a1410ebfa963e59/gcc%2Fconfig%2Farm%2Fmve.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6a4aefce8e47a7d3ba781066a1410ebfa963e59/gcc%2Fconfig%2Farm%2Fmve.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fmve.md?ref=e6a4aefce8e47a7d3ba781066a1410ebfa963e59", "patch": "@@ -853,8 +853,8 @@\n ;;\n (define_insn \"mve_vcmp<mve_cmp_op>q_n_<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(MVE_COMPARISONS:HI (match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(MVE_COMPARISONS:<MVE_VPRED> (match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t    (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -1943,8 +1943,8 @@\n ;;\n (define_insn \"@mve_vcmp<mve_cmp_op>q_n_f<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(MVE_FP_COMPARISONS:HI (match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(MVE_FP_COMPARISONS:<MVE_VPRED> (match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n \t\t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")))\n   ]\n   \"TARGET_HAVE_MVE && TARGET_HAVE_MVE_FLOAT\"\n@@ -2593,10 +2593,10 @@\n ;;\n (define_insn \"mve_vcmpeqq_m_f<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n \t\t    (match_operand:MVE_0 2 \"s_register_operand\" \"w\")\n-\t\t    (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t    (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPEQQ_M_F))\n   ]\n   \"TARGET_HAVE_MVE && TARGET_HAVE_MVE_FLOAT\"\n@@ -2809,10 +2809,10 @@\n ;;\n (define_insn \"mve_vcmpcsq_m_n_u<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPCSQ_M_N_U))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -2825,10 +2825,10 @@\n ;;\n (define_insn \"mve_vcmpcsq_m_u<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:MVE_2 2 \"s_register_operand\" \"w\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPCSQ_M_U))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -2841,10 +2841,10 @@\n ;;\n (define_insn \"mve_vcmpeqq_m_n_<supf><mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPEQQ_M_N))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -2857,10 +2857,10 @@\n ;;\n (define_insn \"mve_vcmpeqq_m_<supf><mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:MVE_2 2 \"s_register_operand\" \"w\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPEQQ_M))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -2873,10 +2873,10 @@\n ;;\n (define_insn \"mve_vcmpgeq_m_n_s<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPGEQ_M_N_S))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -2889,10 +2889,10 @@\n ;;\n (define_insn \"mve_vcmpgeq_m_s<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:MVE_2 2 \"s_register_operand\" \"w\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPGEQ_M_S))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -2905,10 +2905,10 @@\n ;;\n (define_insn \"mve_vcmpgtq_m_n_s<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPGTQ_M_N_S))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -2921,10 +2921,10 @@\n ;;\n (define_insn \"mve_vcmpgtq_m_s<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:MVE_2 2 \"s_register_operand\" \"w\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPGTQ_M_S))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -2937,10 +2937,10 @@\n ;;\n (define_insn \"mve_vcmphiq_m_n_u<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPHIQ_M_N_U))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -2953,10 +2953,10 @@\n ;;\n (define_insn \"mve_vcmphiq_m_u<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:MVE_2 2 \"s_register_operand\" \"w\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPHIQ_M_U))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -2969,10 +2969,10 @@\n ;;\n (define_insn \"mve_vcmpleq_m_n_s<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPLEQ_M_N_S))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -2985,10 +2985,10 @@\n ;;\n (define_insn \"mve_vcmpleq_m_s<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:MVE_2 2 \"s_register_operand\" \"w\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPLEQ_M_S))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -3001,10 +3001,10 @@\n ;;\n (define_insn \"mve_vcmpltq_m_n_s<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPLTQ_M_N_S))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -3017,10 +3017,10 @@\n ;;\n (define_insn \"mve_vcmpltq_m_s<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:MVE_2 2 \"s_register_operand\" \"w\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPLTQ_M_S))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -3033,10 +3033,10 @@\n ;;\n (define_insn \"mve_vcmpneq_m_n_<supf><mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPNEQ_M_N))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -3049,10 +3049,10 @@\n ;;\n (define_insn \"mve_vcmpneq_m_<supf><mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_2 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:MVE_2 2 \"s_register_operand\" \"w\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPNEQ_M))\n   ]\n   \"TARGET_HAVE_MVE\"\n@@ -3770,10 +3770,10 @@\n ;;\n (define_insn \"mve_vcmpeqq_m_n_f<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPEQQ_M_N_F))\n   ]\n   \"TARGET_HAVE_MVE && TARGET_HAVE_MVE_FLOAT\"\n@@ -3786,10 +3786,10 @@\n ;;\n (define_insn \"mve_vcmpgeq_m_f<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:MVE_0 2 \"s_register_operand\" \"w\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPGEQ_M_F))\n   ]\n   \"TARGET_HAVE_MVE && TARGET_HAVE_MVE_FLOAT\"\n@@ -3802,10 +3802,10 @@\n ;;\n (define_insn \"mve_vcmpgeq_m_n_f<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPGEQ_M_N_F))\n   ]\n   \"TARGET_HAVE_MVE && TARGET_HAVE_MVE_FLOAT\"\n@@ -3818,10 +3818,10 @@\n ;;\n (define_insn \"mve_vcmpgtq_m_f<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:MVE_0 2 \"s_register_operand\" \"w\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPGTQ_M_F))\n   ]\n   \"TARGET_HAVE_MVE && TARGET_HAVE_MVE_FLOAT\"\n@@ -3834,10 +3834,10 @@\n ;;\n (define_insn \"mve_vcmpgtq_m_n_f<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPGTQ_M_N_F))\n   ]\n   \"TARGET_HAVE_MVE && TARGET_HAVE_MVE_FLOAT\"\n@@ -3850,10 +3850,10 @@\n ;;\n (define_insn \"mve_vcmpleq_m_f<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:MVE_0 2 \"s_register_operand\" \"w\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPLEQ_M_F))\n   ]\n   \"TARGET_HAVE_MVE && TARGET_HAVE_MVE_FLOAT\"\n@@ -3866,10 +3866,10 @@\n ;;\n (define_insn \"mve_vcmpleq_m_n_f<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPLEQ_M_N_F))\n   ]\n   \"TARGET_HAVE_MVE && TARGET_HAVE_MVE_FLOAT\"\n@@ -3882,10 +3882,10 @@\n ;;\n (define_insn \"mve_vcmpltq_m_f<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:MVE_0 2 \"s_register_operand\" \"w\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPLTQ_M_F))\n   ]\n   \"TARGET_HAVE_MVE && TARGET_HAVE_MVE_FLOAT\"\n@@ -3898,10 +3898,10 @@\n ;;\n (define_insn \"mve_vcmpltq_m_n_f<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPLTQ_M_N_F))\n   ]\n   \"TARGET_HAVE_MVE && TARGET_HAVE_MVE_FLOAT\"\n@@ -3914,10 +3914,10 @@\n ;;\n (define_insn \"mve_vcmpneq_m_f<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:MVE_0 2 \"s_register_operand\" \"w\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPNEQ_M_F))\n   ]\n   \"TARGET_HAVE_MVE && TARGET_HAVE_MVE_FLOAT\"\n@@ -3930,10 +3930,10 @@\n ;;\n (define_insn \"mve_vcmpneq_m_n_f<mode>\"\n   [\n-   (set (match_operand:HI 0 \"vpr_register_operand\" \"=Up\")\n-\t(unspec:HI [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n+   (set (match_operand:<MVE_VPRED> 0 \"vpr_register_operand\" \"=Up\")\n+\t(unspec:<MVE_VPRED> [(match_operand:MVE_0 1 \"s_register_operand\" \"w\")\n \t\t       (match_operand:<V_elem> 2 \"s_register_operand\" \"r\")\n-\t\t       (match_operand:HI 3 \"vpr_register_operand\" \"Up\")]\n+\t\t       (match_operand:<MVE_VPRED> 3 \"vpr_register_operand\" \"Up\")]\n \t VCMPNEQ_M_N_F))\n   ]\n   \"TARGET_HAVE_MVE && TARGET_HAVE_MVE_FLOAT\""}]}