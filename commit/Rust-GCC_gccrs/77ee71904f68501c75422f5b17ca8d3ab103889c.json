{"sha": "77ee71904f68501c75422f5b17ca8d3ab103889c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzdlZTcxOTA0ZjY4NTAxYzc1NDIyZjViMTdjYThkM2FiMTAzODg5Yw==", "commit": {"author": {"name": "Simon Baldwin", "email": "simonb@google.com", "date": "2012-08-24T14:58:06Z"}, "committer": {"name": "Simon Baldwin", "email": "simonb@gcc.gnu.org", "date": "2012-08-24T14:58:06Z"}, "message": "dwarf2out.c (gen_producer_string): Omit command line switch if CL_NO_DWARF_RECORD flag set.\n\n\ngcc/ChangeLog\n\t* dwarf2out.c (gen_producer_string): Omit command line switch if\n\tCL_NO_DWARF_RECORD flag set.\n\t* opts.h (CL_NO_DWARF_RECORD): New.\n\t* opt-functions.awk (switch_flags): Add NoDWARFRecord.\n\t* doc/options.texi: Document NoDWARFRecord option flag.\n\ngcc/fortran/ChangeLog\n\t* lang.opt (-cpp=): Mark flag NoDWARFRecord.\n\nFrom-SVN: r190648", "tree": {"sha": "2944d36fc19bbe79e44c100cd2be738c317da3ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2944d36fc19bbe79e44c100cd2be738c317da3ba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/77ee71904f68501c75422f5b17ca8d3ab103889c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77ee71904f68501c75422f5b17ca8d3ab103889c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77ee71904f68501c75422f5b17ca8d3ab103889c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77ee71904f68501c75422f5b17ca8d3ab103889c/comments", "author": null, "committer": null, "parents": [{"sha": "a9b94d0dd9c112c922d84b6cd171a06a2bbff5ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9b94d0dd9c112c922d84b6cd171a06a2bbff5ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9b94d0dd9c112c922d84b6cd171a06a2bbff5ec"}], "stats": {"total": 23, "additions": 22, "deletions": 1}, "files": [{"sha": "9569688ba10852c911cdc9d308f039a1c6698ee0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77ee71904f68501c75422f5b17ca8d3ab103889c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77ee71904f68501c75422f5b17ca8d3ab103889c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=77ee71904f68501c75422f5b17ca8d3ab103889c", "patch": "@@ -1,3 +1,11 @@\n+2012-08-24  Simon Baldwin  <simonb@google.com>\n+\n+\t* dwarf2out.c (gen_producer_string): Omit command line switch if\n+\tCL_NO_DWARF_RECORD flag set.\n+\t* opts.h (CL_NO_DWARF_RECORD): New.\n+\t* opt-functions.awk (switch_flags): Add NoDWARFRecord.\n+\t* doc/options.texi: Document NoDWARFRecord option flag.\n+\n 2012-08-24  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR debug/52857"}, {"sha": "9c004c8cd3f8fadfadc936ef77c6ba83bc816d35", "filename": "gcc/doc/options.texi", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77ee71904f68501c75422f5b17ca8d3ab103889c/gcc%2Fdoc%2Foptions.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77ee71904f68501c75422f5b17ca8d3ab103889c/gcc%2Fdoc%2Foptions.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Foptions.texi?ref=77ee71904f68501c75422f5b17ca8d3ab103889c", "patch": "@@ -468,4 +468,8 @@ of @option{-@var{opt}}, if not explicitly set. It is possible to\n specify several different languages.  Each @var{language} must have\n been declared by an earlier @code{Language} record.  @xref{Option file\n format}.\n+\n+@item NoDWARFRecord\n+The option is omitted from the producer string written by\n+@option{-grecord-gcc-switches}.\n @end table"}, {"sha": "a87eaf2bd7dd4f59ea937846476075d2d480ce64", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77ee71904f68501c75422f5b17ca8d3ab103889c/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77ee71904f68501c75422f5b17ca8d3ab103889c/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=77ee71904f68501c75422f5b17ca8d3ab103889c", "patch": "@@ -18142,6 +18142,9 @@ gen_producer_string (void)\n \t/* Ignore these.  */\n \tcontinue;\n       default:\n+        if (cl_options[save_decoded_options[j].opt_index].flags\n+\t    & CL_NO_DWARF_RECORD)\n+\t  continue;\n         gcc_checking_assert (save_decoded_options[j].canonical_option[0][0]\n \t\t\t     == '-');\n         switch (save_decoded_options[j].canonical_option[0][1])"}, {"sha": "f67e501f4200408aa88eeaaefe211ccf913a6580", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77ee71904f68501c75422f5b17ca8d3ab103889c/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77ee71904f68501c75422f5b17ca8d3ab103889c/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=77ee71904f68501c75422f5b17ca8d3ab103889c", "patch": "@@ -1,3 +1,7 @@\n+2012-08-24  Simon Baldwin  <simonb@google.com>\n+\n+\t* lang.opt (-cpp=): Mark flag NoDWARFRecord.\n+\n 2012-08-23  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/54350"}, {"sha": "8a633464c4c63a903e0aaffdb24106ae6b7bbd64", "filename": "gcc/fortran/lang.opt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77ee71904f68501c75422f5b17ca8d3ab103889c/gcc%2Ffortran%2Flang.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77ee71904f68501c75422f5b17ca8d3ab103889c/gcc%2Ffortran%2Flang.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Flang.opt?ref=77ee71904f68501c75422f5b17ca8d3ab103889c", "patch": "@@ -295,7 +295,7 @@ Fortran Negative(nocpp)\n Enable preprocessing\n \n cpp=\n-Fortran Joined Negative(nocpp) Undocumented\n+Fortran Joined Negative(nocpp) Undocumented NoDWARFRecord\n ; Internal option generated by specs from -cpp.\n \n nocpp"}, {"sha": "8b025b2cf32f428198bacc6be228a088d0f18075", "filename": "gcc/opt-functions.awk", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77ee71904f68501c75422f5b17ca8d3ab103889c/gcc%2Fopt-functions.awk", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77ee71904f68501c75422f5b17ca8d3ab103889c/gcc%2Fopt-functions.awk", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopt-functions.awk?ref=77ee71904f68501c75422f5b17ca8d3ab103889c", "patch": "@@ -103,6 +103,7 @@ function switch_flags (flags)\n \t  test_flag(\"JoinedOrMissing\", flags, \" | CL_JOINED\") \\\n \t  test_flag(\"Separate\", flags, \" | CL_SEPARATE\") \\\n \t  test_flag(\"Undocumented\", flags,  \" | CL_UNDOCUMENTED\") \\\n+\t  test_flag(\"NoDWARFRecord\", flags,  \" | CL_NO_DWARF_RECORD\") \\\n \t  test_flag(\"Warning\", flags,  \" | CL_WARNING\") \\\n \t  test_flag(\"Optimization\", flags,  \" | CL_OPTIMIZATION\")\n \tsub( \"^0 \\\\| \", \"\", result )"}, {"sha": "a9336af74bcb657e7d834ab554cb2caedb4ea16e", "filename": "gcc/opts.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77ee71904f68501c75422f5b17ca8d3ab103889c/gcc%2Fopts.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77ee71904f68501c75422f5b17ca8d3ab103889c/gcc%2Fopts.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopts.h?ref=77ee71904f68501c75422f5b17ca8d3ab103889c", "patch": "@@ -145,6 +145,7 @@ extern const unsigned int cl_lang_count;\n #define CL_JOINED\t\t(1U << 22) /* If takes joined argument.  */\n #define CL_SEPARATE\t\t(1U << 23) /* If takes a separate argument.  */\n #define CL_UNDOCUMENTED\t\t(1U << 24) /* Do not output with --help.  */\n+#define CL_NO_DWARF_RECORD\t(1U << 25) /* Do not add to producer string.  */\n \n /* Flags for an enumerated option argument.  */\n #define CL_ENUM_CANONICAL\t(1 << 0) /* Canonical for this value.  */"}]}