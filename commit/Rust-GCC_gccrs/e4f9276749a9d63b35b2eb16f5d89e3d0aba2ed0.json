{"sha": "e4f9276749a9d63b35b2eb16f5d89e3d0aba2ed0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTRmOTI3Njc0OWE5ZDYzYjM1YjJlYjE2ZjVkODllM2QwYWJhMmVkMA==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2012-07-18T17:38:37Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2012-07-18T17:38:37Z"}, "message": "Check and skip 67h address size prefix for x32\n\n\tPR libjava/53973\n\t* include/x86_64-signal.h (CHECK_67H_PREFIX): New.\n\t(HANDLE_DIVIDE_OVERFLOW): Check and and skip 67h address size\n\tprefix if CHECK_67H_PREFIX is 1.  Use ULL suffix for 64-bit\n\tinteger.\n\nFrom-SVN: r189621", "tree": {"sha": "ebd27b2664b14d776b14efd6fa5e0f6bb6c259d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ebd27b2664b14d776b14efd6fa5e0f6bb6c259d6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e4f9276749a9d63b35b2eb16f5d89e3d0aba2ed0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4f9276749a9d63b35b2eb16f5d89e3d0aba2ed0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4f9276749a9d63b35b2eb16f5d89e3d0aba2ed0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4f9276749a9d63b35b2eb16f5d89e3d0aba2ed0/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9df3cfeac2ace6252fc0ee9a09af59e52fb66c8e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9df3cfeac2ace6252fc0ee9a09af59e52fb66c8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9df3cfeac2ace6252fc0ee9a09af59e52fb66c8e"}], "stats": {"total": 22, "additions": 20, "deletions": 2}, "files": [{"sha": "1d5570daed356bb6c3e8d75b2e29d390737c1a35", "filename": "libjava/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4f9276749a9d63b35b2eb16f5d89e3d0aba2ed0/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4f9276749a9d63b35b2eb16f5d89e3d0aba2ed0/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=e4f9276749a9d63b35b2eb16f5d89e3d0aba2ed0", "patch": "@@ -1,3 +1,11 @@\n+2012-07-18  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR libjava/53973\n+\t* include/x86_64-signal.h (CHECK_67H_PREFIX): New.\n+\t(HANDLE_DIVIDE_OVERFLOW): Check and and skip 67h address size\n+\tprefix if CHECK_67H_PREFIX is 1.  Use ULL suffix for 64-bit\n+\tinteger.\n+\n 2012-06-20  David Edelsohn  <dje.gcc@gmail.com>\n \t    Alan Modra  <amodra@gmail.com>\n "}, {"sha": "84907c3c3a399dfe300be2ebb8c920afc84feb0d", "filename": "libjava/include/x86_64-signal.h", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4f9276749a9d63b35b2eb16f5d89e3d0aba2ed0/libjava%2Finclude%2Fx86_64-signal.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4f9276749a9d63b35b2eb16f5d89e3d0aba2ed0/libjava%2Finclude%2Fx86_64-signal.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fx86_64-signal.h?ref=e4f9276749a9d63b35b2eb16f5d89e3d0aba2ed0", "patch": "@@ -21,6 +21,12 @@ details.  */\n #define HANDLE_SEGV 1\n #define HANDLE_FPE 1\n \n+#ifdef __ILP32__\n+# define CHECK_67H_PREFIX 1\n+#else\n+# define CHECK_67H_PREFIX 0\n+#endif\n+\n #define SIGNAL_HANDLER(_name)\t\t\t\t\t\\\n static void _Jv_##_name (int, siginfo_t *,\t\t\t\\\n \t\t\t void *_p __attribute__ ((__unused__)))\n@@ -47,6 +53,10 @@ do\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n   bool _is_64_bit = false;\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n+  /* Check and skip 67h address size prefix if needed.  */\t\t\\\n+  if (CHECK_67H_PREFIX && _rip[0] == 0x67)\t\t\t\t\\\n+    _rip++;\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\t\\\n   if ((_rip[0] & 0xf0) == 0x40)  /* REX byte present.  */\t\t\\\n     {\t\t\t\t\t\t\t\t\t\\\n       unsigned char _rex = _rip[0] & 0x0f;\t\t\t\t\\\n@@ -64,10 +74,10 @@ do\t\t\t\t\t\t\t\t\t\\\n \t{\t\t\t\t\t\t\t\t\\\n \t  if (_is_64_bit)\t\t\t\t\t\t\\\n \t    _min_value_dividend =\t\t\t\t\t\\\n-\t      _gregs[REG_RAX] == (greg_t)0x8000000000000000UL;\t\t\\\n+\t      _gregs[REG_RAX] == (greg_t)0x8000000000000000ULL;\t\t\\\n \t  else\t\t\t\t\t\t\t\t\\\n \t    _min_value_dividend =\t\t\t\t\t\\\n-\t      (_gregs[REG_RAX] & 0xffffffff) == (greg_t)0x80000000UL;\t\\\n+\t      (_gregs[REG_RAX] & 0xffffffff) == (greg_t)0x80000000ULL;\t\\\n \t}\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n       if (_min_value_dividend)\t\t\t\t\t\t\\"}]}