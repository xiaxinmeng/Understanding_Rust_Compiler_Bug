{"sha": "66b804be219715e7855a4e4f4091fa2d3cb588ef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjZiODA0YmUyMTk3MTVlNzg1NWE0ZTRmNDA5MWZhMmQzY2I1ODhlZg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-11-12T15:24:51Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-11-12T15:24:51Z"}, "message": "(comparison): Don't emit invalid optimization for (set (reg) (comparison)) and...\n\n(comparison): Don't emit invalid optimization\nfor (set (reg) (comparison)) and (set (reg) (neg (comparison)))\nwhen comparison is LT.\n\nFrom-SVN: r6075", "tree": {"sha": "52959e2b3d80d771f2d9ecb98bca1065535941fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/52959e2b3d80d771f2d9ecb98bca1065535941fd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/66b804be219715e7855a4e4f4091fa2d3cb588ef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66b804be219715e7855a4e4f4091fa2d3cb588ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/66b804be219715e7855a4e4f4091fa2d3cb588ef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66b804be219715e7855a4e4f4091fa2d3cb588ef/comments", "author": null, "committer": null, "parents": [{"sha": "0e84b55633a9e926ca9d572057943cc9c3a70761", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e84b55633a9e926ca9d572057943cc9c3a70761", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e84b55633a9e926ca9d572057943cc9c3a70761"}], "stats": {"total": 22, "additions": 4, "deletions": 18}, "files": [{"sha": "8b2cd62965bb72dacd6b404e4277a56a42fbbd4b", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 4, "deletions": 18, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66b804be219715e7855a4e4f4091fa2d3cb588ef/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66b804be219715e7855a4e4f4091fa2d3cb588ef/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=66b804be219715e7855a4e4f4091fa2d3cb588ef", "patch": "@@ -4229,17 +4229,8 @@\n    (clobber (reg 24))]\n   \"\"\n   \"*\n-  if (GET_CODE (operands[1]) == LT)\n-    {\n-      if (operands[3] == const0_rtx)\n-\treturn arm_output_asm_insn (\\\"mov\\\\t%0, %2, lsr #31\\\", operands);\n-      if (GET_CODE (operands[3]) == CONST_INT\n-\t  && !const_ok_for_arm (INTVAL (operands[3])))\n-\tarm_output_asm_insn (\\\"add\\\\t%0, %2, #%n3\\\", operands);\n-      else\n-        arm_output_asm_insn (\\\"sub\\\\t%0, %2, %3\\\", operands);\n-      return arm_output_asm_insn (\\\"mov\\\\t%0, %0, lsr #31\\\", operands);\n-    }\n+  if (GET_CODE (operands[1]) == LT && operands[3] == const0_rtx)\n+    return arm_output_asm_insn (\\\"mov\\\\t%0, %2, lsr #31\\\", operands);\n   if (GET_CODE (operands[1]) == GE && operands[3] == const0_rtx)\n     {\n       arm_output_asm_insn (\\\"mvn\\\\t%0, %2\\\", operands);\n@@ -4647,13 +4638,8 @@\n    (clobber (reg 24))]\n   \"\"\n   \"*\n-  if (GET_CODE (operands[3]) == LT)\n-    {\n-      if (operands[3] == const0_rtx)\n-\treturn arm_output_asm_insn (\\\"mov\\\\t%0, %1, asr #31\\\", operands);\n-      arm_output_asm_insn (\\\"sub\\\\t%0, %1, %2\\\", operands);\n-      return arm_output_asm_insn (\\\"mov\\\\t%0, %0, asr #31\\\", operands);\n-    }\n+  if (GET_CODE (operands[3]) == LT && operands[3] == const0_rtx)\n+    return arm_output_asm_insn (\\\"mov\\\\t%0, %1, asr #31\\\", operands);\n   if (GET_CODE (operands[3]) == NE)\n     {\n       arm_output_asm_insn (\\\"subs\\\\t%0, %1, %2\\\", operands);"}]}