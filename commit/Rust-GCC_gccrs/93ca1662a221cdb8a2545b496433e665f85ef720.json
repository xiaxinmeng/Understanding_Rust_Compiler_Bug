{"sha": "93ca1662a221cdb8a2545b496433e665f85ef720", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTNjYTE2NjJhMjIxY2RiOGEyNTQ1YjQ5NjQzM2U2NjVmODVlZjcyMA==", "commit": {"author": {"name": "Niibe Yutaka", "email": "gniibe@m17n.org", "date": "2000-09-07T04:38:34Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2000-09-07T04:38:34Z"}, "message": "configure.in (sh-*-linux*): Added.\n\n* configure.in (sh-*-linux*): Added.\n* configure: Rebuilt.\n* config/sh/t-linux: New file.\n* config/sh/sh.h (USERMODE_BIT): Define.\n(TARGET_USERMODE): Likewise.\n(TARGET_SWITCHES): New switches for the bits above.\n(INITIALIZE_TRAMPOLINE): Call __ic_invalidate in USERMODE.\n* config/sh/linux.h: New file.\n* config/sh/lib1funcs.asm (GLOBAL): Don't prefix symbols with\nunderscore on linux.\n(L_sdivsi3, L_udivsi3): Define for linux.\n(L_ic_invalidate): Define.\n* invoke.texi (SH Options): Document -musermode.\n\nFrom-SVN: r36227", "tree": {"sha": "fa27438a1c94ce52d7c3c3a81bffb4ee14c9a76b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fa27438a1c94ce52d7c3c3a81bffb4ee14c9a76b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/93ca1662a221cdb8a2545b496433e665f85ef720", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93ca1662a221cdb8a2545b496433e665f85ef720", "html_url": "https://github.com/Rust-GCC/gccrs/commit/93ca1662a221cdb8a2545b496433e665f85ef720", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93ca1662a221cdb8a2545b496433e665f85ef720/comments", "author": null, "committer": null, "parents": [{"sha": "4979c2a9f3865740220144296e6921a076efb809", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4979c2a9f3865740220144296e6921a076efb809", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4979c2a9f3865740220144296e6921a076efb809"}], "stats": {"total": 368, "additions": 275, "deletions": 93}, "files": [{"sha": "fcf31dba503dad80343da9217850fd98dfa2b0c6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=93ca1662a221cdb8a2545b496433e665f85ef720", "patch": "@@ -1,3 +1,19 @@\n+2000-09-07  Niibe Yutaka  <gniibe@m17n.org>, Kaz Kojima  <kkojima@rr.iij4u.or.jp>, Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* configure.in (sh-*-linux*): Added.\n+\t* configure: Rebuilt.\n+\t* config/sh/t-linux: New file.\n+\t* config/sh/sh.h (USERMODE_BIT): Define.\n+\t(TARGET_USERMODE): Likewise.\n+\t(TARGET_SWITCHES): New switches for the bits above.\n+\t(INITIALIZE_TRAMPOLINE): Call __ic_invalidate in USERMODE.\n+\t* config/sh/linux.h: New file.\n+\t* config/sh/lib1funcs.asm (GLOBAL): Don't prefix symbols with\n+\tunderscore on linux.\n+\t(L_sdivsi3, L_udivsi3): Define for linux.\n+\t(L_ic_invalidate): Define.\n+\t* invoke.texi (SH Options): Document -musermode.\n+\n 2000-09-07  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* config/sh/sh.h (OVERRIDE_OPTIONS): Don't disable function"}, {"sha": "5fc90e2492161aee4e0f05aa4e1ef81e3c1951b7", "filename": "gcc/config/sh/lib1funcs.asm", "status": "modified", "additions": 28, "deletions": 2, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2Fconfig%2Fsh%2Flib1funcs.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2Fconfig%2Fsh%2Flib1funcs.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Flib1funcs.asm?ref=93ca1662a221cdb8a2545b496433e665f85ef720", "patch": "@@ -42,6 +42,10 @@ Boston, MA 02111-1307, USA.  */\n #define LOCAL(X) L_##X\n #endif\n \n+#ifdef __linux__\n+#define GLOBAL(X) __##X\n+#endif\n+\n #ifndef GLOBAL\n #define GLOBAL(X) ___##X\n #endif\n@@ -903,7 +907,7 @@ GLOBAL(sdivsi3_i4):\n #ifdef L_sdivsi3\n /* __SH4_SINGLE_ONLY__ keeps this part for link compatibility with\n    sh3e code.  */\n-#if ! defined(__SH4__) && ! defined (__SH4_SINGLE__)\n+#if (! defined(__SH4__) && ! defined (__SH4_SINGLE__)) || defined (__linux__)\n !!\n !! Steve Chamberlain\n !! sac@cygnus.com\n@@ -1105,7 +1109,7 @@ L1:\n #ifdef L_udivsi3\n /* __SH4_SINGLE_ONLY__ keeps this part for link compatibility with\n    sh3e code.  */\n-#if ! defined(__SH4__) && ! defined (__SH4_SINGLE__)\n+#if (! defined(__SH4__) && ! defined (__SH4_SINGLE__)) || defined (__linux__)\n !!\n !! Steve Chamberlain\n !! sac@cygnus.com\n@@ -1207,3 +1211,25 @@ LOCAL(set_fpscr_L1):\n #endif /* ELF */\n #endif /* SH3E / SH4 */\n #endif /* L_set_fpscr */\n+#ifdef L_ic_invalidate\n+#if defined(__SH4_SINGLE__) || defined(__SH4__) || defined(__SH4_SINGLE_ONLY__)\n+\t.global GLOBAL(ic_invalidate)\n+GLOBAL(ic_invalidate):\n+\tocbwb\t@r4\n+\tmova\t0f,r0\n+\tmov.w\t1f,r1\n+\tsub\tr0,r4\n+\tand\tr1,r4\n+\tadd\t#4,r4\n+\tbraf\tr4\n+\tnop\n+1:\n+\t.short\t0x1fe0\n+\tnop\n+0:\n+\t.rept\t2048\n+\trts\n+\tnop\n+\t.endr\n+#endif /* SH4 */\n+#endif /* L_ic_invalidate */"}, {"sha": "07de9152368960e8cfe7597b8659f2481de33dda", "filename": "gcc/config/sh/linux.h", "status": "added", "additions": 90, "deletions": 0, "changes": 90, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2Fconfig%2Fsh%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2Fconfig%2Fsh%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Flinux.h?ref=93ca1662a221cdb8a2545b496433e665f85ef720", "patch": "@@ -0,0 +1,90 @@\n+/* Definitions for SH running Linux-based GNU systems using ELF\n+   Copyright (C) 1999, 2000 Free Software Foundation, Inc.\n+   Contributed by Kazumoto Kojima <kkojima@rr.iij4u.or.jp>\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with this program; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+/* Run-time Target Specification.  */\n+#undef TARGET_VERSION\n+#define TARGET_VERSION  fputs (\" (SH GNU/Linux with ELF)\", stderr);\n+\n+/* Return to the original ELF way.  */\n+#undef USER_LABEL_PREFIX\n+#define USER_LABEL_PREFIX \"\"\n+\n+#undef SIZE_TYPE\n+#define SIZE_TYPE \"unsigned int\"\n+ \n+#undef PTRDIFF_TYPE\n+#define PTRDIFF_TYPE \"int\"\n+  \n+#undef WCHAR_TYPE\n+#define WCHAR_TYPE \"long int\"\n+   \n+#undef WCHAR_TYPE_SIZE\n+#define WCHAR_TYPE_SIZE BITS_PER_WORD\n+\n+#undef CPP_SPEC\n+#define CPP_SPEC \\\n+  \"%{mb:-D__BIG_ENDIAN__} \\\n+   %{!mb:-D__LITTLE_ENDIAN__} \\\n+   %{m3e:-D__SH3E__} \\\n+   %{m4:-D__SH4__} \\\n+   %{!m3e:%{!m4:-D__SH3__ -D__sh3__}} \\\n+   %{fPIC:-D__PIC__ -D__pic__} \\\n+   %{fpic:-D__PIC__ -D__pic__} \\\n+   %{posix:-D_POSIX_SOURCE} \\\n+   %{pthread:-D_REENTRANT -D_PTHREADS}\"\n+\n+#undef CPP_PREDEFINES\n+#define CPP_PREDEFINES \"-D__ELF__ -Dunix -D__sh__ -Dlinux -Asystem(posix)\"\n+\n+#undef ASM_SPEC\n+#define ASM_SPEC  \"%{!mb:-little} %{mrelax:-relax}\"\n+\n+#undef CC1_SPEC\n+#define CC1_SPEC \\\n+  \"-musermode %{!mb:-ml} %{!m3e:%{!m4:-m3}}\"\n+\n+#undef CC1PLUS_SPEC\n+#define CC1PLUS_SPEC \\\n+  \"-musermode %{!mb:-ml} %{!m3e:%{!m4:-m3}}\"\n+\n+#undef LINK_SPEC\n+#define LINK_SPEC \\\n+  \"%{!mb:-m shlelf_linux} %{mrelax:-relax} \\\n+   %{shared:-shared} \\\n+   %{!static: \\\n+     %{rdynamic:-export-dynamic} \\\n+     %{!dynamic-linker:-dynamic-linker /lib/ld.so.1} \\\n+     %{!rpath:-rpath /lib}} \\\n+   %{static:-static}\"\n+\n+#undef LIB_SPEC\n+#define LIB_SPEC \\\n+  \"%{shared: -lc} \\\n+   %{!shared: %{pthread:-lthread} \\\n+     %{profile:-lc_p} %{!profile: -lc}}\"\n+\n+#undef STARTFILE_SPEC\n+#define STARTFILE_SPEC \\\n+  \"%{!shared: \\\n+     %{pg:gcrt1.o%s} %{!pg:%{p:gcrt1.o%s} \\\n+\t\t       %{!p:%{profile:gcrt1.o%s} \\\n+\t\t\t %{!profile:crt1.o%s}}}} \\\n+   crti.o%s %{!shared:crtbegin.o%s} %{shared:crtbeginS.o%s}\""}, {"sha": "78efca5d1a3b23373bbcd4c0153433ced935e722", "filename": "gcc/config/sh/sh.h", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2Fconfig%2Fsh%2Fsh.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2Fconfig%2Fsh%2Fsh.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.h?ref=93ca1662a221cdb8a2545b496433e665f85ef720", "patch": "@@ -109,6 +109,7 @@ extern int target_flags;\n #define SPACE_BIT \t(1<<13)\n #define BIGTABLE_BIT  \t(1<<14)\n #define RELAX_BIT\t(1<<15)\n+#define USERMODE_BIT\t(1<<16)\n #define HITACHI_BIT     (1<<22)\n #define NOMACSAVE_BIT   (1<<23)\n #define PREFERGOT_BIT\t(1<<24)\n@@ -184,6 +185,9 @@ extern int target_flags;\n /* Nonzero if generating code for a little endian SH.  */\n #define TARGET_LITTLE_ENDIAN     (target_flags & LITTLE_ENDIAN_BIT)\n \n+/* Nonzero if we should do everything in userland.  */\n+#define TARGET_USERMODE\t\t(target_flags & USERMODE_BIT)\n+\n /* Nonzero if we should prefer @GOT calls when generating PIC.  */\n #define TARGET_PREFERGOT\t(target_flags & PREFERGOT_BIT)\n \n@@ -210,6 +214,7 @@ extern int target_flags;\n   {\"prefergot\",\tPREFERGOT_BIT},\t\t\t\\\n   {\"relax\",\tRELAX_BIT},\t\t\t\\\n   {\"space\", \tSPACE_BIT},\t\t\t\\\n+  {\"usermode\",\tUSERMODE_BIT},\t\t\t\\\n   SUBTARGET_SWITCHES                            \\\n   {\"\",   \tTARGET_DEFAULT} \t\t\\\n }\n@@ -1201,6 +1206,13 @@ extern int current_function_anonymous_args;\n   emit_move_insn (gen_rtx_MEM (SImode, plus_constant ((TRAMP), 12)),\t\\\n \t\t  (FNADDR));\t\t\t\t\t\t\\\n   if (TARGET_HARVARD)\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+      if (TARGET_USERMODE)\t\t\t\t\t\t\\\n+\temit_library_call (gen_rtx_SYMBOL_REF (Pmode, \"__ic_invalidate\"),\\\n+\t\t\t   0, VOIDmode, 1, (TRAMP), SImode);\t\t\\\n+      else\t\t\t\t\t\t\t\t\\\n+\temit_insn (gen_ic_invalidate_line (TRAMP));\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n     emit_insn (gen_ic_invalidate_line (TRAMP));\t\t\t\t\\\n }\n "}, {"sha": "c7fe9e9d8e31d4c5023bfa486098e1afbc5dc2b3", "filename": "gcc/config/sh/t-linux", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2Fconfig%2Fsh%2Ft-linux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2Fconfig%2Fsh%2Ft-linux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Ft-linux?ref=93ca1662a221cdb8a2545b496433e665f85ef720", "patch": "@@ -0,0 +1,11 @@\n+TARGET_LIBGCC2_CFLAGS = -fpic\n+LIBGCC1 = libgcc1-asm.a\n+LIB1ASMFUNCS = _ashiftrt _ashiftrt_n _ashiftlt _lshiftrt _movstr \\\n+  _movstr_i4 _mulsi3 _sdivsi3 _sdivsi3_i4 _udivsi3 _udivsi3_i4 _set_fpscr \\\n+  _ic_invalidate\n+\n+MULTILIB_OPTIONS= mb m3e/m4\n+MULTILIB_DIRNAMES= \n+MULTILIB_MATCHES = \n+\n+EXTRA_MULTILIB_PARTS= crtbegin.o crtend.o crtbeginS.o crtendS.o"}, {"sha": "4d922d5c448cb4805d30390109c1c5792aa23b3d", "filename": "gcc/configure", "status": "modified", "additions": 101, "deletions": 91, "changes": 192, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=93ca1662a221cdb8a2545b496433e665f85ef720", "patch": "@@ -1529,7 +1529,7 @@ esac\n \n \n # Find some useful tools\n-for ac_prog in mawk gawk nawk awk\n+for ac_prog in gawk mawk nawk awk\n do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n@@ -6324,6 +6324,16 @@ for machine in $build $host $target; do\n \t\ttm_file=\"sh/sh.h sh/rtems.h\"\n \t\tfloat_format=sh\n \t\t;;\n+\tsh-*-linux*)\n+\t\ttm_file=\"sh/sh.h sh/elf.h sh/linux.h\"\n+\t\ttmake_file=\"sh/t-sh sh/t-elf sh/t-linux\"\n+\t\txmake_file=x-linux\n+\t\tgas=yes gnu_ld=yes\n+ \t\tif test x$enable_threads = xyes; then\n+ \t\t\tthread_file='posix'\n+ \t\tfi\n+\t\tfloat_format=sh\n+\t\t;;\n \tsh-*-*)\n \t\tfloat_format=sh\n \t\t;;\n@@ -7121,15 +7131,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:7125: checking for strerror in -lcposix\" >&5\n+echo \"configure:7135: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7133 \"configure\"\n+#line 7143 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7140,7 +7150,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:7144: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7154: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7163,12 +7173,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:7167: checking for working const\" >&5\n+echo \"configure:7177: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7172 \"configure\"\n+#line 7182 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -7217,7 +7227,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7221: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:7231: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -7238,12 +7248,12 @@ EOF\n fi\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:7242: checking for off_t\" >&5\n+echo \"configure:7252: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7247 \"configure\"\n+#line 7257 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -7271,12 +7281,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:7275: checking for size_t\" >&5\n+echo \"configure:7285: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7280 \"configure\"\n+#line 7290 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -7306,19 +7316,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7310: checking for working alloca.h\" >&5\n+echo \"configure:7320: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7315 \"configure\"\n+#line 7325 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:7322: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7332: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -7339,12 +7349,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:7343: checking for alloca\" >&5\n+echo \"configure:7353: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7348 \"configure\"\n+#line 7358 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -7372,7 +7382,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:7376: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7386: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -7404,12 +7414,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:7408: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:7418: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7413 \"configure\"\n+#line 7423 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -7434,12 +7444,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7438: checking for $ac_func\" >&5\n+echo \"configure:7448: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7443 \"configure\"\n+#line 7453 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7462,7 +7472,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7466: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7476: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7489,15 +7499,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:7493: checking stack direction for C alloca\" >&5\n+echo \"configure:7503: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7501 \"configure\"\n+#line 7511 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -7516,7 +7526,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:7520: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:7530: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -7543,17 +7553,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7547: checking for $ac_hdr\" >&5\n+echo \"configure:7557: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7552 \"configure\"\n+#line 7562 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7557: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7567: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7583,12 +7593,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7587: checking for $ac_func\" >&5\n+echo \"configure:7597: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7592 \"configure\"\n+#line 7602 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7611,7 +7621,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7615: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7625: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7640,12 +7650,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7644: checking for $ac_func\" >&5\n+echo \"configure:7654: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7649 \"configure\"\n+#line 7659 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7668,7 +7678,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7672: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7682: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7702,19 +7712,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:7706: checking for LC_MESSAGES\" >&5\n+echo \"configure:7716: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7711 \"configure\"\n+#line 7721 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:7718: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7728: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -7735,7 +7745,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7739: checking whether NLS is requested\" >&5\n+echo \"configure:7749: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -7755,7 +7765,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7759: checking whether included gettext is requested\" >&5\n+echo \"configure:7769: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -7774,17 +7784,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7778: checking for libintl.h\" >&5\n+echo \"configure:7788: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7783 \"configure\"\n+#line 7793 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7788: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7798: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7801,19 +7811,19 @@ fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:7805: checking for gettext in libc\" >&5\n+echo \"configure:7815: checking for gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7810 \"configure\"\n+#line 7820 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n int main() {\n return (int) gettext (\"\")\n ; return 0; }\n EOF\n-if { (eval echo configure:7817: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7827: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gettext_libc=yes\n else\n@@ -7829,15 +7839,15 @@ echo \"$ac_t\"\"$gt_cv_func_gettext_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for bindtextdomain in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7833: checking for bindtextdomain in -lintl\" >&5\n+echo \"configure:7843: checking for bindtextdomain in -lintl\" >&5\n ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7841 \"configure\"\n+#line 7851 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7848,7 +7858,7 @@ int main() {\n bindtextdomain()\n ; return 0; }\n EOF\n-if { (eval echo configure:7852: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7862: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7864,20 +7874,20 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7868: checking for gettext in libintl\" >&5\n+echo \"configure:7878: checking for gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   echo $ac_n \"checking for gettext in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7873: checking for gettext in -lintl\" >&5\n+echo \"configure:7883: checking for gettext in -lintl\" >&5\n ac_lib_var=`echo intl'_'gettext | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7881 \"configure\"\n+#line 7891 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7888,7 +7898,7 @@ int main() {\n gettext()\n ; return 0; }\n EOF\n-if { (eval echo configure:7892: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7902: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7927,7 +7937,7 @@ EOF\n \t      # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7931: checking for $ac_word\" >&5\n+echo \"configure:7941: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7961,12 +7971,12 @@ fi\n \t\tfor ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7965: checking for $ac_func\" >&5\n+echo \"configure:7975: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7970 \"configure\"\n+#line 7980 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7989,7 +7999,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7993: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8003: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -8016,7 +8026,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8020: checking for $ac_word\" >&5\n+echo \"configure:8030: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8052,7 +8062,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8056: checking for $ac_word\" >&5\n+echo \"configure:8066: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8084,15 +8094,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 8088 \"configure\"\n+#line 8098 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:8096: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8106: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -8115,7 +8125,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:8119: checking whether catgets can be used\" >&5\n+echo \"configure:8129: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -8128,22 +8138,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:8132: checking for main in -li\" >&5\n+echo \"configure:8142: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 8140 \"configure\"\n+#line 8150 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:8147: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8157: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -8171,12 +8181,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:8175: checking for catgets\" >&5\n+echo \"configure:8185: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8180 \"configure\"\n+#line 8190 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -8199,7 +8209,7 @@ catgets();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:8203: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:8213: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -8221,7 +8231,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8225: checking for $ac_word\" >&5\n+echo \"configure:8235: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8257,7 +8267,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8261: checking for $ac_word\" >&5\n+echo \"configure:8271: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8294,7 +8304,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8298: checking for $ac_word\" >&5\n+echo \"configure:8308: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8333,7 +8343,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8337: checking for $ac_word\" >&5\n+echo \"configure:8347: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8391,7 +8401,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8395: checking for $ac_word\" >&5\n+echo \"configure:8405: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8425,7 +8435,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8429: checking for $ac_word\" >&5\n+echo \"configure:8439: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8465,7 +8475,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8469: checking for $ac_word\" >&5\n+echo \"configure:8479: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8560,7 +8570,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:8564: checking for catalogs to be installed\" >&5\n+echo \"configure:8574: checking for catalogs to be installed\" >&5\n        if test \"x$LINGUAS\" = \"x\"; then\n \t LINGUAS=$ALL_LINGUAS\n        else\n@@ -8592,17 +8602,17 @@ echo \"configure:8564: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8596: checking for linux/version.h\" >&5\n+echo \"configure:8606: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8601 \"configure\"\n+#line 8611 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:8606: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:8616: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8677,7 +8687,7 @@ fi\n \n \n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:8681: checking whether windows registry support is requested\" >&5\n+echo \"configure:8691: checking whether windows registry support is requested\" >&5\n if test x$enable_win32_registry != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -8706,7 +8716,7 @@ esac\n \n if test x$enable_win32_registry != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:8710: checking registry key on windows hosts\" >&5\n+echo \"configure:8720: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -8900,7 +8910,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:8904: checking assembler alignment features\" >&5\n+echo \"configure:8914: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -9021,7 +9031,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:9025: checking assembler subsection support\" >&5\n+echo \"configure:9035: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -9061,7 +9071,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:9065: checking assembler weak support\" >&5\n+echo \"configure:9075: checking assembler weak support\" >&5\n gcc_cv_as_weak=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .weak\n@@ -9078,7 +9088,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:9082: checking assembler hidden support\" >&5\n+echo \"configure:9092: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .hidden\n@@ -9098,7 +9108,7 @@ echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:9102: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:9112: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -9126,7 +9136,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler supports -relax\"\"... $ac_c\" 1>&6\n-echo \"configure:9130: checking assembler supports -relax\" >&5\n+echo \"configure:9140: checking assembler supports -relax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_relax_opt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -9156,7 +9166,7 @@ EOF\n     case \"$tm_file\" in\n     *64*)\n \techo $ac_n \"checking for 64 bit support in assembler ($gcc_cv_as)\"\"... $ac_c\" 1>&6\n-echo \"configure:9160: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n+echo \"configure:9170: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_flags64'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -9201,7 +9211,7 @@ EOF\n \n     if test \"x$gcc_cv_as_flags64\" != xno; then\n \techo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:9205: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:9215: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -9240,7 +9250,7 @@ EOF\n \n   i[34567]86-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:9244: checking assembler instructions\" >&5\n+echo \"configure:9254: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_as != x; then\n \tset \"filds fists\" \"filds mem; fists mem\"\n@@ -9384,7 +9394,7 @@ fi\n \n # Build a new-libstdc++ system (ie libstdc++-v3)\n echo $ac_n \"checking for libstdc++ to install\"\"... $ac_c\" 1>&6\n-echo \"configure:9388: checking for libstdc++ to install\" >&5\n+echo \"configure:9398: checking for libstdc++ to install\" >&5\n # Check whether --enable-libstdcxx-v3 or --disable-libstdcxx-v3 was given.\n if test \"${enable_libstdcxx_v3+set}\" = set; then\n   enableval=\"$enable_libstdcxx_v3\"\n@@ -9408,7 +9418,7 @@ EOF\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:9412: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:9422: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "165c295da8acc21e49de95e9a8c8be595149c8cd", "filename": "gcc/configure.in", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=93ca1662a221cdb8a2545b496433e665f85ef720", "patch": "@@ -3358,6 +3358,16 @@ changequote([,])dnl\n \t\ttm_file=\"sh/sh.h sh/rtems.h\"\n \t\tfloat_format=sh\n \t\t;;\n+\tsh-*-linux*)\n+\t\ttm_file=\"sh/sh.h sh/elf.h sh/linux.h\"\n+\t\ttmake_file=\"sh/t-sh sh/t-elf sh/t-linux\"\n+\t\txmake_file=x-linux\n+\t\tgas=yes gnu_ld=yes\n+ \t\tif test x$enable_threads = xyes; then\n+ \t\t\tthread_file='posix'\n+ \t\tfi\n+\t\tfloat_format=sh\n+\t\t;;\n \tsh-*-*)\n \t\tfloat_format=sh\n \t\t;;"}, {"sha": "885978fa6a0116748ff0d07d49a956077b067a3f", "filename": "gcc/invoke.texi", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93ca1662a221cdb8a2545b496433e665f85ef720/gcc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Finvoke.texi?ref=93ca1662a221cdb8a2545b496433e665f85ef720", "patch": "@@ -419,6 +419,7 @@ in the following sections.\n -mbigtable  -mfmovd  -mhitachi  -mnomacsave\n -misize  -mpadstruct  -mspace\n -mprefergot\n+-musermode\n \n @emph{System V Options}\n -Qy  -Qn  -YP,@var{paths}  -Ym,@var{dir}\n@@ -6722,6 +6723,12 @@ Optimize for space instead of speed.  Implied by @code{-Os}.\n @item -mprefergot\n When generating position-independent code, emit function calls using\n the Global Offset Table instead of the Procedure Linkage Table.\n+\n+@item -musermode\n+Generate a library function call to invalidate instruction cache\n+entries, after fixing up a trampoline.  This library function call\n+doesn't assume it can write to the whole memory address space.  This\n+is the default when the target is @code{sh-*-linux*}.\n @end table\n \n @node System V Options"}]}