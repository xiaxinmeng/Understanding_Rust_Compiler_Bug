{"sha": "2cd5026f9dddb8018e9ec435a2a61bb2390cdf98", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmNkNTAyNmY5ZGRkYjgwMThlOWVjNDM1YTJhNjFiYjIzOTBjZGY5OA==", "commit": {"author": {"name": "Gerald Pfeifer", "email": "pfeifer@dbai.tuwien.ac.at", "date": "2003-07-08T09:54:24Z"}, "committer": {"name": "Gerald Pfeifer", "email": "gerald@gcc.gnu.org", "date": "2003-07-08T09:54:24Z"}, "message": "gcc_release: Move handling of complex modes directly after switch handling.\n\n\t* gcc_release: Move handling of complex modes directly after\n\tswitch handling.\n\t(TAG): Include the branch name as part of snapshot CVS tags.\n\nFrom-SVN: r69082", "tree": {"sha": "ba719d783e4f2e31711520717853fdd4b8359f97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba719d783e4f2e31711520717853fdd4b8359f97"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2cd5026f9dddb8018e9ec435a2a61bb2390cdf98", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cd5026f9dddb8018e9ec435a2a61bb2390cdf98", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2cd5026f9dddb8018e9ec435a2a61bb2390cdf98", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cd5026f9dddb8018e9ec435a2a61bb2390cdf98/comments", "author": null, "committer": null, "parents": [{"sha": "8df63efa77a00e164cf9a72379d338fcd21d92ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8df63efa77a00e164cf9a72379d338fcd21d92ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8df63efa77a00e164cf9a72379d338fcd21d92ca"}], "stats": {"total": 46, "additions": 26, "deletions": 20}, "files": [{"sha": "19a51122f49d1c000eed276b1f93463ad79e8134", "filename": "maintainer-scripts/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cd5026f9dddb8018e9ec435a2a61bb2390cdf98/maintainer-scripts%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cd5026f9dddb8018e9ec435a2a61bb2390cdf98/maintainer-scripts%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2FChangeLog?ref=2cd5026f9dddb8018e9ec435a2a61bb2390cdf98", "patch": "@@ -1,3 +1,9 @@\n+2003-07-08  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n+\n+\t* gcc_release: Move handling of complex modes directly after\n+\tswitch handling.\n+\t(TAG): Include the branch name as part of snapshot CVS tags.\n+\n 2003-07-04  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \n \t* gcc_release: Execute gcc.gnu.org-only operations which are"}, {"sha": "1dd3c9ff336db8ed680529dafcfd65afbf8871e2", "filename": "maintainer-scripts/gcc_release", "status": "modified", "additions": 20, "deletions": 20, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cd5026f9dddb8018e9ec435a2a61bb2390cdf98/maintainer-scripts%2Fgcc_release", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cd5026f9dddb8018e9ec435a2a61bb2390cdf98/maintainer-scripts%2Fgcc_release", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fgcc_release?ref=2cd5026f9dddb8018e9ec435a2a61bb2390cdf98", "patch": "@@ -520,6 +520,25 @@ while getopts \"d:fr:u:t:p:sl\" ARG; do\n done\n shift `expr ${OPTIND} - 1`\n \n+# Handle the major modes.\n+while [ $# -ne 0 ]; do\n+    case $1 in\n+    diffs)    MODE_DIFFS=1;;\n+    gzip)     MODE_GZIP=1;;\n+    sources)  MODE_SOURCES=1;;\n+    tarfiles) MODE_TARFILES=1;;\n+    upload)   MODE_UPLOAD=1;;\n+    all)      MODE_SOURCES=1; MODE_TARFILES=1; MODE_DIFFS=1; MODE_UPLOAD=1;\n+              if [ $SNAPSHOT -ne 1 ]; then\n+                # Only for releases and pre-releases.\n+                MODE_GZIP=1;\n+              fi\n+              ;;\n+    *)        error \"Unknown mode $1\";;\n+    esac\n+    shift\n+done\n+\n # Perform consistency checking.\n if [ ${LOCAL} -eq 0 ] && [ -z ${CVS_USERNAME} ]; then\n   error \"No username specified\"\n@@ -567,7 +586,7 @@ else\n   BRANCH=\"3.3\"\n   CVSBRANCH=gcc-3_3-branch\n   FTP_PATH=\"${FTP_PATH}/snapshots/${BRANCH}-${LONG_DATE}\"\n-  TAG=gcc_ss_${DATE}\n+  TAG=gcc-ss-`echo ${BRANCH} | tr '.' '_'`-${DATE}\n \n   # Building locally on gcc.gnu.org, we know what the last snapshot date\n   # was.\n@@ -609,25 +628,6 @@ export CVSROOT\n TZ=\"UTC0\"\n export TZ\n \n-# Handle the major modes.\n-while [ $# -ne 0 ]; do\n-    case $1 in\n-    diffs)    MODE_DIFFS=1;;\n-    gzip)     MODE_GZIP=1;;\n-    sources)  MODE_SOURCES=1;;\n-    tarfiles) MODE_TARFILES=1;;\n-    upload)   MODE_UPLOAD=1;;\n-    all)      MODE_SOURCES=1; MODE_TARFILES=1; MODE_DIFFS=1; MODE_UPLOAD=1;\n-              if [ $SNAPSHOT -ne 1 ]; then\n-                # Only for releases and pre-releases.\n-                MODE_GZIP=1;\n-              fi\n-              ;;\n-    *)        error \"Unknown mode $1\";;\n-    esac\n-    shift\n-done\n-\n # Build the source directory.\n \n if [ $MODE_SOURCES -ne 0 ]; then"}]}