{"sha": "f468efc59ba95f1e51f2537928caa71f130400ce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjQ2OGVmYzU5YmE5NWYxZTUxZjI1Mzc5MjhjYWE3MWYxMzA0MDBjZQ==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@arm.com", "date": "2015-09-15T02:12:47Z"}, "committer": {"name": "Bin Cheng", "email": "amker@gcc.gnu.org", "date": "2015-09-15T02:12:47Z"}, "message": "tree-ssa-loop-ivopts.c (get_shiftadd_cost): Strip unnecessary type conversion in op1.\n\n\n\t* tree-ssa-loop-ivopts.c (get_shiftadd_cost): Strip\n\tunnecessary type conversion in op1.\n\nFrom-SVN: r227776", "tree": {"sha": "a85653b47673daf35c951a786e15ed78c7a232d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a85653b47673daf35c951a786e15ed78c7a232d1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f468efc59ba95f1e51f2537928caa71f130400ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f468efc59ba95f1e51f2537928caa71f130400ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f468efc59ba95f1e51f2537928caa71f130400ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f468efc59ba95f1e51f2537928caa71f130400ce/comments", "author": null, "committer": null, "parents": [{"sha": "23997c53b8f7696d6ba484913835b19287f96f82", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/23997c53b8f7696d6ba484913835b19287f96f82", "html_url": "https://github.com/Rust-GCC/gccrs/commit/23997c53b8f7696d6ba484913835b19287f96f82"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "16862d057cb6ba860b7e37690d9f9edefeef2c3d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f468efc59ba95f1e51f2537928caa71f130400ce/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f468efc59ba95f1e51f2537928caa71f130400ce/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f468efc59ba95f1e51f2537928caa71f130400ce", "patch": "@@ -1,3 +1,8 @@\n+2015-09-15  Bin Cheng  <bin.cheng@arm.com>\n+\n+\t* tree-ssa-loop-ivopts.c (get_shiftadd_cost): Strip\n+\tunnecessary type conversion in op1.\n+\n 2015-09-14  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \t* shrink-wrap.c (requires_stack_frame_p): Fix formatting."}, {"sha": "ae14e8b798143fb25e6aa6b5a070d45d33b7e902", "filename": "gcc/tree-ssa-loop-ivopts.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f468efc59ba95f1e51f2537928caa71f130400ce/gcc%2Ftree-ssa-loop-ivopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f468efc59ba95f1e51f2537928caa71f130400ce/gcc%2Ftree-ssa-loop-ivopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-ivopts.c?ref=f468efc59ba95f1e51f2537928caa71f130400ce", "patch": "@@ -3889,6 +3889,7 @@ get_shiftadd_cost (tree expr, machine_mode mode, comp_cost cost0,\n   if (!(m >= 0 && m < maxm))\n     return false;\n \n+  STRIP_NOPS (op1);\n   mult_in_op1 = operand_equal_p (op1, mult, 0);\n \n   as_cost = add_cost (speed, mode) + shift_cost (speed, mode, m);"}]}