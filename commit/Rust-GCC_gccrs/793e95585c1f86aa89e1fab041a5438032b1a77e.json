{"sha": "793e95585c1f86aa89e1fab041a5438032b1a77e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzkzZTk1NTg1YzFmODZhYTg5ZTFmYWIwNDFhNTQzODAzMmIxYTc3ZQ==", "commit": {"author": {"name": "Per Bothner", "email": "per@bothner.com", "date": "2001-09-29T18:22:05Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "2001-09-29T18:22:05Z"}, "message": "cppdefault.c (cpp_include_defaults): Also search PREFIX_INCLUDE_DIR.\n\n\n\t* cppdefault.c (cpp_include_defaults):  Also search PREFIX_INCLUDE_DIR.\n\t* Makefile.in (includedir):  Rename to local_includedir.\n\t(includedir):  Define as $(prefix)/include.\n\t* config.in (PREFIX_INCLUDE_DIR):  New variable.\n\t* configure.in (PREFIX_INCLUDE_DIR):  Test for new variable.\n\nFrom-SVN: r45884", "tree": {"sha": "4d2a111087922db4e2d3a161f724d700753b2f5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d2a111087922db4e2d3a161f724d700753b2f5a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/793e95585c1f86aa89e1fab041a5438032b1a77e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/793e95585c1f86aa89e1fab041a5438032b1a77e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/793e95585c1f86aa89e1fab041a5438032b1a77e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/793e95585c1f86aa89e1fab041a5438032b1a77e/comments", "author": {"login": "PerBothner", "id": 10293361, "node_id": "MDQ6VXNlcjEwMjkzMzYx", "avatar_url": "https://avatars.githubusercontent.com/u/10293361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PerBothner", "html_url": "https://github.com/PerBothner", "followers_url": "https://api.github.com/users/PerBothner/followers", "following_url": "https://api.github.com/users/PerBothner/following{/other_user}", "gists_url": "https://api.github.com/users/PerBothner/gists{/gist_id}", "starred_url": "https://api.github.com/users/PerBothner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PerBothner/subscriptions", "organizations_url": "https://api.github.com/users/PerBothner/orgs", "repos_url": "https://api.github.com/users/PerBothner/repos", "events_url": "https://api.github.com/users/PerBothner/events{/privacy}", "received_events_url": "https://api.github.com/users/PerBothner/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d15a5c7ca14991ad98aa0ed071a2368c5c3a1a76", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d15a5c7ca14991ad98aa0ed071a2368c5c3a1a76", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d15a5c7ca14991ad98aa0ed071a2368c5c3a1a76"}], "stats": {"total": 33, "additions": 29, "deletions": 4}, "files": [{"sha": "15c1e610be0a5588e188378b7d01adb7e5fecf64", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/793e95585c1f86aa89e1fab041a5438032b1a77e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/793e95585c1f86aa89e1fab041a5438032b1a77e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=793e95585c1f86aa89e1fab041a5438032b1a77e", "patch": "@@ -1,3 +1,11 @@\n+2001-09-29  Per Bothner  <per@bothner.com>\n+\n+\t* cppdefault.c (cpp_include_defaults):  Also search PREFIX_INCLUDE_DIR.\n+\t* Makefile.in (includedir):  Rename to local_includedir.\n+\t(includedir):  Define as $(prefix)/include.\n+\t* config.in (PREFIX_INCLUDE_DIR):  New variable.\n+\t* configure.in (PREFIX_INCLUDE_DIR):  Test for new variable.\n+\n 2001-09-29  Bernd Schmidt  <bernds@redhat.com>\n \n \t* config/i386/i386.c (init_mmx_sse_builtins): Fix type of storelps and"}, {"sha": "ff2c58fab3e3e3b8fd9cc79c6ff95f9d56245eac", "filename": "gcc/Makefile.in", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/793e95585c1f86aa89e1fab041a5438032b1a77e/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/793e95585c1f86aa89e1fab041a5438032b1a77e/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=793e95585c1f86aa89e1fab041a5438032b1a77e", "patch": "@@ -306,7 +306,8 @@ build_tooldir = $(exec_prefix)/$(target_alias)\n # Directory in which the compiler finds target-independent g++ includes.\n gcc_gxx_include_dir = @gcc_gxx_include_dir@\n # Directory to search for site-specific includes.\n-includedir = $(local_prefix)/include\n+local_includedir = $(local_prefix)/include\n+includedir = $(prefix)/include\n # where the info files go\n infodir = @infodir@\n # Where cpp should go besides $prefix/bin if necessary\n@@ -1983,7 +1984,7 @@ PREPROCESSOR_DEFINES = \\\n   -DGPLUSPLUS_INCLUDE_DIR=\\\"$(gcc_gxx_include_dir)\\\" \\\n   -DGPLUSPLUS_TOOL_INCLUDE_DIR=\\\"$(gcc_gxx_include_dir)/$(target_alias)\\\" \\\n   -DGPLUSPLUS_BACKWARD_INCLUDE_DIR=\\\"$(gcc_gxx_include_dir)/backward\\\" \\\n-  -DLOCAL_INCLUDE_DIR=\\\"$(includedir)\\\" \\\n+  -DLOCAL_INCLUDE_DIR=\\\"$(local_includedir)\\\" \\\n   -DCROSS_INCLUDE_DIR=\\\"$(gcc_tooldir)/sys-include\\\" \\\n   -DTOOL_INCLUDE_DIR=\\\"$(gcc_tooldir)/include\\\"\n "}, {"sha": "cc912ab3b43330fff826df3befdf06460a583380", "filename": "gcc/config.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/793e95585c1f86aa89e1fab041a5438032b1a77e/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/793e95585c1f86aa89e1fab041a5438032b1a77e/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=793e95585c1f86aa89e1fab041a5438032b1a77e", "patch": "@@ -509,6 +509,8 @@\n /* Define 0/1 to force the choice for exception handling model. */\n #undef CONFIG_SJLJ_EXCEPTIONS\n \n+/* Define if cpp should also search $prefix/include. */\n+#undef PREFIX_INCLUDE_DIR\n \n /* Bison unconditionally undefines `const' if neither `__STDC__' nor\n    __cplusplus are defined.  That's a problem since we use `const' in"}, {"sha": "8996049dc8997e4165390f025105bf12742ed799", "filename": "gcc/configure", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/793e95585c1f86aa89e1fab041a5438032b1a77e/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/793e95585c1f86aa89e1fab041a5438032b1a77e/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=793e95585c1f86aa89e1fab041a5438032b1a77e", "patch": "@@ -2057,7 +2057,7 @@ EOF\n fi\n \n # Find some useful tools\n-for ac_prog in mawk gawk nawk awk\n+for ac_prog in gawk mawk nawk awk\n do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n@@ -7426,6 +7426,13 @@ EOF\n fi\n echo \"$ac_t\"\"$gcc_cv_as_dwarf2_debug_line\" 1>&6\n \n+if test \"$prefix\" != \"/usr\" && test \"$prefix\" != \"/usr/local\" ; then\n+  cat >> confdefs.h <<EOF\n+#define PREFIX_INCLUDE_DIR \"$prefix/include\"\n+EOF\n+\n+fi\n+\n # Figure out what language subdirectories are present.\n # Look if the user specified --enable-languages=\"...\"; if not, use\n # the environment variable $LANGUAGES if defined. $LANGUAGES might\n@@ -7556,7 +7563,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:7560: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:7567: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "384aaaa7424e80c709e46b55e9bcb80228981cf9", "filename": "gcc/configure.in", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/793e95585c1f86aa89e1fab041a5438032b1a77e/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/793e95585c1f86aa89e1fab041a5438032b1a77e/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=793e95585c1f86aa89e1fab041a5438032b1a77e", "patch": "@@ -1696,6 +1696,10 @@ if test x\"$gcc_cv_as_dwarf2_debug_line\" = xyes; then\n fi\n AC_MSG_RESULT($gcc_cv_as_dwarf2_debug_line)\n \n+if test \"$prefix\" != \"/usr\" && test \"$prefix\" != \"/usr/local\" ; then\n+  AC_DEFINE_UNQUOTED(PREFIX_INCLUDE_DIR, \"$prefix/include\")\n+fi\n+\n # Figure out what language subdirectories are present.\n # Look if the user specified --enable-languages=\"...\"; if not, use\n # the environment variable $LANGUAGES if defined. $LANGUAGES might"}, {"sha": "81ee564ec7eec1af59ed6b538c20a3d457c835ae", "filename": "gcc/cppdefault.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/793e95585c1f86aa89e1fab041a5438032b1a77e/gcc%2Fcppdefault.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/793e95585c1f86aa89e1fab041a5438032b1a77e/gcc%2Fcppdefault.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcppdefault.c?ref=793e95585c1f86aa89e1fab041a5438032b1a77e", "patch": "@@ -47,6 +47,9 @@ const struct default_include cpp_include_defaults[]\n     /* /usr/local/include comes before the fixincluded header files.  */\n     { LOCAL_INCLUDE_DIR, 0, 0, 1 },\n #endif\n+#ifdef PREFIX_INCLUDE_DIR\n+    { PREFIX_INCLUDE_DIR, 0, 0, 1 },\n+#endif\n #ifdef GCC_INCLUDE_DIR\n     /* This is the dir for fixincludes and for gcc's private headers.  */\n     { GCC_INCLUDE_DIR, \"GCC\", 0, 0 },"}]}