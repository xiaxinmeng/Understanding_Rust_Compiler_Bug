{"sha": "74e12783a3dbd31f56a44678ad9af5a14f0bbf1a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzRlMTI3ODNhM2RiZDMxZjU2YTQ0Njc4YWQ5YWY1YTE0ZjBiYmYxYQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2009-12-07T22:42:10Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2009-12-07T22:42:10Z"}, "message": "re PR debug/42299 (another verify_ssa failure with -g -O2)\n\n\tPR debug/42299\n\tPR debug/42166\n\t* tree-ssa.c (insert_debug_temp_for_var_def): Skip propagation\n\tfor ssa names already registered for update.\n\nFrom-SVN: r155063", "tree": {"sha": "ef92971896306579f7a3026e1bfb42c3c9d31d32", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ef92971896306579f7a3026e1bfb42c3c9d31d32"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/74e12783a3dbd31f56a44678ad9af5a14f0bbf1a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74e12783a3dbd31f56a44678ad9af5a14f0bbf1a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74e12783a3dbd31f56a44678ad9af5a14f0bbf1a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74e12783a3dbd31f56a44678ad9af5a14f0bbf1a/comments", "author": null, "committer": null, "parents": [{"sha": "aec4e50c21eced5ee903b7350b71170fa58262e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aec4e50c21eced5ee903b7350b71170fa58262e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aec4e50c21eced5ee903b7350b71170fa58262e4"}], "stats": {"total": 60, "additions": 57, "deletions": 3}, "files": [{"sha": "a10b2880f954108acbfa538de851a52d9ca30c9f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74e12783a3dbd31f56a44678ad9af5a14f0bbf1a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74e12783a3dbd31f56a44678ad9af5a14f0bbf1a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=74e12783a3dbd31f56a44678ad9af5a14f0bbf1a", "patch": "@@ -1,3 +1,10 @@\n+2009-12-07  Richard Henderson  <rth@redhat.com>\n+\n+\tPR debug/42299\n+\tPR debug/42166\n+\t* tree-ssa.c (insert_debug_temp_for_var_def): Skip propagation\n+\tfor ssa names already registered for update.\n+\n 2009-12-07  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR debug/42244"}, {"sha": "5a9199f274a337e9eba9d4c8c19886a92867ee63", "filename": "gcc/testsuite/gcc.c-torture/compile/pr42299.c", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74e12783a3dbd31f56a44678ad9af5a14f0bbf1a/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr42299.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74e12783a3dbd31f56a44678ad9af5a14f0bbf1a/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr42299.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr42299.c?ref=74e12783a3dbd31f56a44678ad9af5a14f0bbf1a", "patch": "@@ -0,0 +1,23 @@\n+/* { dg-options \"-g\" } */\n+\n+static int\n+foo (int x, int y)\n+{\n+  if (y)\n+    goto lab;\n+  if (x)\n+    y = 0;\n+  if (y)\n+    goto lab;\n+  y = 0;\n+lab:\n+  return y;\n+}\n+\n+void\n+baz (int x, int y)\n+{\n+  y = foo (x, y);\n+  if (y != 0)\n+    bar ();\n+}"}, {"sha": "5b978153a45b50857f809ed60a9f87e77981be45", "filename": "gcc/testsuite/gfortran.dg/pr42166.f90", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74e12783a3dbd31f56a44678ad9af5a14f0bbf1a/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr42166.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74e12783a3dbd31f56a44678ad9af5a14f0bbf1a/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr42166.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr42166.f90?ref=74e12783a3dbd31f56a44678ad9af5a14f0bbf1a", "patch": "@@ -0,0 +1,20 @@\n+! { dg-options \"-O2 -g\" }\n+\n+MODULE powell\n+  INTEGER, PARAMETER :: dp=8\n+CONTAINS\n+  SUBROUTINE newuob (n,  bmat,  ndim,  d,  vlag,  w, npt)\n+    REAL(dp), DIMENSION(ndim, *), INTENT(inout) :: bmat\n+    REAL(dp), DIMENSION(*), INTENT(inout)    :: d, vlag, w\n+    REAL(dp) :: sum\n+    INTEGER, INTENT(in) :: npt\n+    DO j=1,n\n+       jp=npt+j\n+       DO k=1,n\n+          sum=sum+bmat(jp,k)*d(k)\n+       END DO\n+       vlag(jp)=sum\n+    END DO\n+  END SUBROUTINE newuob\n+END MODULE powell\n+"}, {"sha": "9947e57fa9f4b8660b1e2b409180fa04ac296584", "filename": "gcc/tree-ssa.c", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74e12783a3dbd31f56a44678ad9af5a14f0bbf1a/gcc%2Ftree-ssa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74e12783a3dbd31f56a44678ad9af5a14f0bbf1a/gcc%2Ftree-ssa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa.c?ref=74e12783a3dbd31f56a44678ad9af5a14f0bbf1a", "patch": "@@ -312,9 +312,13 @@ insert_debug_temp_for_var_def (gimple_stmt_iterator *gsi, tree var)\n   if (!MAY_HAVE_DEBUG_STMTS)\n     return;\n \n-  /* First of all, check whether there are debug stmts that reference\n-     this variable and, if there are, decide whether we should use a\n-     debug temp.  */\n+  /* If this name has already been registered for replacement, do nothing\n+     as anything that uses this name isn't in SSA form.  */\n+  if (name_registered_for_update_p (var))\n+    return;\n+\n+  /* Check whether there are debug stmts that reference this variable and,\n+     if there are, decide whether we should use a debug temp.  */\n   FOR_EACH_IMM_USE_FAST (use_p, imm_iter, var)\n     {\n       stmt = USE_STMT (use_p);"}]}