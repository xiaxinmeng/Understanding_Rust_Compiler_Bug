{"sha": "1f98d85ed9fa40cffc0fb11341024dd7dd1f49db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWY5OGQ4NWVkOWZhNDBjZmZjMGZiMTEzNDEwMjRkZDdkZDFmNDlkYg==", "commit": {"author": {"name": "Wolfgang Bangerth", "email": "wolfgang.bangerth@iwr.uni-heidelberg.de", "date": "2001-05-17T01:27:32Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2001-05-17T01:27:32Z"}, "message": "fix broken mutex initializer\n\nCo-Authored-By: Bruce Korb <bkorb@gnu.org>\n\nFrom-SVN: r42185", "tree": {"sha": "d2e1174025e0a9d4e7be3b8b0d2922193583518d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d2e1174025e0a9d4e7be3b8b0d2922193583518d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f98d85ed9fa40cffc0fb11341024dd7dd1f49db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f98d85ed9fa40cffc0fb11341024dd7dd1f49db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f98d85ed9fa40cffc0fb11341024dd7dd1f49db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f98d85ed9fa40cffc0fb11341024dd7dd1f49db/comments", "author": null, "committer": null, "parents": [{"sha": "a3e991f29855a3d949802c7e18aa09604e9ed191", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3e991f29855a3d949802c7e18aa09604e9ed191", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3e991f29855a3d949802c7e18aa09604e9ed191"}], "stats": {"total": 158, "additions": 112, "deletions": 46}, "files": [{"sha": "9a7bc72cbabe057b49c9979f9ace1c2fcfe2b801", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f98d85ed9fa40cffc0fb11341024dd7dd1f49db/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f98d85ed9fa40cffc0fb11341024dd7dd1f49db/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1f98d85ed9fa40cffc0fb11341024dd7dd1f49db", "patch": "@@ -1,3 +1,9 @@\n+2001-05-16  Wolfgang Bangerth <wolfgang.bangerth@iwr.uni-heidelberg.de>\n+\tBruce Korb <bkorb@gnu.org>\n+\n+\t* fixinc/inclhack.def(solaris27_mutex_init):  Fix broken mutex\n+\tinitializer\n+\n 2001-05-16  Zack Weinberg  <zackw@stanford.edu>\n \n \t* i386.md: Add two peepholes to clean up code generated by"}, {"sha": "939e11106ce68e6f98d631c08a89e741da42f546", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 88, "deletions": 46, "changes": 134, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f98d85ed9fa40cffc0fb11341024dd7dd1f49db/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f98d85ed9fa40cffc0fb11341024dd7dd1f49db/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=1f98d85ed9fa40cffc0fb11341024dd7dd1f49db", "patch": "@@ -5,7 +5,7 @@\n  * files which are fixed to work correctly with ANSI C and placed in a\n  * directory that GNU C will search.\n  *\n- * This file contains 137 fixup descriptions.\n+ * This file contains 138 fixup descriptions.\n  *\n  * See README for more information.\n  *\n@@ -3847,11 +3847,48 @@ static const char* apzSco_UtimePatch[] = {\n     \"(const char *, const struct utimbuf *);\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Solaris27_Mutex_Init fix\n+ */\n+#define SOLARIS27_MUTEX_INIT_FIXIDX      94\n+tSCC zSolaris27_Mutex_InitName[] =\n+     \"solaris27_mutex_init\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zSolaris27_Mutex_InitList[] =\n+  \"|pthread.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzSolaris27_Mutex_InitMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zSolaris27_Mutex_InitSelect0[] =\n+       \"@\\\\(#\\\\)pthread.h[ \\t]+1.26[ \\t]+98/04/12 SMI\";\n+\n+#define    SOLARIS27_MUTEX_INIT_TEST_CT  1\n+static tTestDesc aSolaris27_Mutex_InitTests[] = {\n+  { TT_EGREP,    zSolaris27_Mutex_InitSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Solaris27_Mutex_Init\n+ */\n+static const char* apzSolaris27_Mutex_InitPatch[] = {\n+    \"format\",\n+    \"%1, {0}}\",\n+    \"(define[ \\t]+PTHREAD_MUTEX_INITIALIZER.*),[ \\t]*0}$\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Statsswtch fix\n  */\n-#define STATSSWTCH_FIXIDX                94\n+#define STATSSWTCH_FIXIDX                95\n tSCC zStatsswtchName[] =\n      \"statsswtch\";\n \n@@ -3887,7 +3924,7 @@ static const char* apzStatsswtchPatch[] = {\n  *\n  *  Description of Stdio_Stdarg_H fix\n  */\n-#define STDIO_STDARG_H_FIXIDX            95\n+#define STDIO_STDARG_H_FIXIDX            96\n tSCC zStdio_Stdarg_HName[] =\n      \"stdio_stdarg_h\";\n \n@@ -3924,7 +3961,7 @@ static const char* apzStdio_Stdarg_HPatch[] = {\n  *\n  *  Description of Stdio_Va_List fix\n  */\n-#define STDIO_VA_LIST_FIXIDX             96\n+#define STDIO_VA_LIST_FIXIDX             97\n tSCC zStdio_Va_ListName[] =\n      \"stdio_va_list\";\n \n@@ -3969,7 +4006,7 @@ s@_Va_LIST@_VA_LIST@\",\n  *\n  *  Description of Struct_File fix\n  */\n-#define STRUCT_FILE_FIXIDX               97\n+#define STRUCT_FILE_FIXIDX               98\n tSCC zStruct_FileName[] =\n      \"struct_file\";\n \n@@ -4006,7 +4043,7 @@ static const char* apzStruct_FilePatch[] = {\n  *\n  *  Description of Struct_Sockaddr fix\n  */\n-#define STRUCT_SOCKADDR_FIXIDX           98\n+#define STRUCT_SOCKADDR_FIXIDX           99\n tSCC zStruct_SockaddrName[] =\n      \"struct_sockaddr\";\n \n@@ -4050,7 +4087,7 @@ static const char* apzStruct_SockaddrPatch[] = {\n  *\n  *  Description of Sun_Auth_Proto fix\n  */\n-#define SUN_AUTH_PROTO_FIXIDX            99\n+#define SUN_AUTH_PROTO_FIXIDX            100\n tSCC zSun_Auth_ProtoName[] =\n      \"sun_auth_proto\";\n \n@@ -4091,7 +4128,7 @@ static const char* apzSun_Auth_ProtoPatch[] = {\n  *\n  *  Description of Sun_Bogus_Ifdef fix\n  */\n-#define SUN_BOGUS_IFDEF_FIXIDX           100\n+#define SUN_BOGUS_IFDEF_FIXIDX           101\n tSCC zSun_Bogus_IfdefName[] =\n      \"sun_bogus_ifdef\";\n \n@@ -4127,7 +4164,7 @@ static const char* apzSun_Bogus_IfdefPatch[] = {\n  *\n  *  Description of Sun_Catmacro fix\n  */\n-#define SUN_CATMACRO_FIXIDX              101\n+#define SUN_CATMACRO_FIXIDX              102\n tSCC zSun_CatmacroName[] =\n      \"sun_catmacro\";\n \n@@ -4167,7 +4204,7 @@ static const char* apzSun_CatmacroPatch[] = {\n  *\n  *  Description of Sun_Malloc fix\n  */\n-#define SUN_MALLOC_FIXIDX                102\n+#define SUN_MALLOC_FIXIDX                103\n tSCC zSun_MallocName[] =\n      \"sun_malloc\";\n \n@@ -4198,7 +4235,7 @@ static const char* apzSun_MallocPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Rusers_Semi fix\n  */\n-#define SUN_RUSERS_SEMI_FIXIDX           103\n+#define SUN_RUSERS_SEMI_FIXIDX           104\n tSCC zSun_Rusers_SemiName[] =\n      \"sun_rusers_semi\";\n \n@@ -4233,7 +4270,7 @@ static const char* apzSun_Rusers_SemiPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Signal fix\n  */\n-#define SUN_SIGNAL_FIXIDX                104\n+#define SUN_SIGNAL_FIXIDX                105\n tSCC zSun_SignalName[] =\n      \"sun_signal\";\n \n@@ -4273,7 +4310,7 @@ void\\t(*signal(...))(...);\\n\\\n  *\n  *  Description of Sunos_Matherr_Decl fix\n  */\n-#define SUNOS_MATHERR_DECL_FIXIDX        105\n+#define SUNOS_MATHERR_DECL_FIXIDX        106\n tSCC zSunos_Matherr_DeclName[] =\n      \"sunos_matherr_decl\";\n \n@@ -4316,7 +4353,7 @@ static const char* apzSunos_Matherr_DeclPatch[] = {\n  *\n  *  Description of Sunos_Strlen fix\n  */\n-#define SUNOS_STRLEN_FIXIDX              106\n+#define SUNOS_STRLEN_FIXIDX              107\n tSCC zSunos_StrlenName[] =\n      \"sunos_strlen\";\n \n@@ -4352,7 +4389,7 @@ static const char* apzSunos_StrlenPatch[] = {\n  *\n  *  Description of Svr4__P fix\n  */\n-#define SVR4__P_FIXIDX                   107\n+#define SVR4__P_FIXIDX                   108\n tSCC zSvr4__PName[] =\n      \"svr4__p\";\n \n@@ -4390,7 +4427,7 @@ static const char* apzSvr4__PPatch[] = {\n  *\n  *  Description of Svr4_Getcwd fix\n  */\n-#define SVR4_GETCWD_FIXIDX               108\n+#define SVR4_GETCWD_FIXIDX               109\n tSCC zSvr4_GetcwdName[] =\n      \"svr4_getcwd\";\n \n@@ -4426,7 +4463,7 @@ static const char* apzSvr4_GetcwdPatch[] = {\n  *\n  *  Description of Svr4_Profil fix\n  */\n-#define SVR4_PROFIL_FIXIDX               109\n+#define SVR4_PROFIL_FIXIDX               110\n tSCC zSvr4_ProfilName[] =\n      \"svr4_profil\";\n \n@@ -4462,7 +4499,7 @@ static const char* apzSvr4_ProfilPatch[] = {\n  *\n  *  Description of Gnu_Types fix\n  */\n-#define GNU_TYPES_FIXIDX                 110\n+#define GNU_TYPES_FIXIDX                 111\n tSCC zGnu_TypesName[] =\n      \"gnu_types\";\n \n@@ -4504,7 +4541,7 @@ static const char* apzGnu_TypesPatch[] = {\n  *\n  *  Description of Sysv68_String fix\n  */\n-#define SYSV68_STRING_FIXIDX             111\n+#define SYSV68_STRING_FIXIDX             112\n tSCC zSysv68_StringName[] =\n      \"sysv68_string\";\n \n@@ -4541,7 +4578,7 @@ extern unsigned int\\\\\\n\\\n  *\n  *  Description of Sysz_Stdlib_For_Sun fix\n  */\n-#define SYSZ_STDLIB_FOR_SUN_FIXIDX       112\n+#define SYSZ_STDLIB_FOR_SUN_FIXIDX       113\n tSCC zSysz_Stdlib_For_SunName[] =\n      \"sysz_stdlib_for_sun\";\n \n@@ -4577,7 +4614,7 @@ static const char* apzSysz_Stdlib_For_SunPatch[] = {\n  *\n  *  Description of Tinfo_Cplusplus fix\n  */\n-#define TINFO_CPLUSPLUS_FIXIDX           113\n+#define TINFO_CPLUSPLUS_FIXIDX           114\n tSCC zTinfo_CplusplusName[] =\n      \"tinfo_cplusplus\";\n \n@@ -4613,7 +4650,7 @@ static const char* apzTinfo_CplusplusPatch[] = {\n  *\n  *  Description of Ultrix_Atof_Param fix\n  */\n-#define ULTRIX_ATOF_PARAM_FIXIDX         114\n+#define ULTRIX_ATOF_PARAM_FIXIDX         115\n tSCC zUltrix_Atof_ParamName[] =\n      \"ultrix_atof_param\";\n \n@@ -4649,7 +4686,7 @@ static const char* apzUltrix_Atof_ParamPatch[] = {\n  *\n  *  Description of Ultrix_Const fix\n  */\n-#define ULTRIX_CONST_FIXIDX              115\n+#define ULTRIX_CONST_FIXIDX              116\n tSCC zUltrix_ConstName[] =\n      \"ultrix_const\";\n \n@@ -4686,7 +4723,7 @@ static const char* apzUltrix_ConstPatch[] = {\n  *\n  *  Description of Ultrix_Const2 fix\n  */\n-#define ULTRIX_CONST2_FIXIDX             116\n+#define ULTRIX_CONST2_FIXIDX             117\n tSCC zUltrix_Const2Name[] =\n      \"ultrix_const2\";\n \n@@ -4723,7 +4760,7 @@ static const char* apzUltrix_Const2Patch[] = {\n  *\n  *  Description of Ultrix_Fix_Fixproto fix\n  */\n-#define ULTRIX_FIX_FIXPROTO_FIXIDX       117\n+#define ULTRIX_FIX_FIXPROTO_FIXIDX       118\n tSCC zUltrix_Fix_FixprotoName[] =\n      \"ultrix_fix_fixproto\";\n \n@@ -4761,7 +4798,7 @@ static const char* apzUltrix_Fix_FixprotoPatch[] = {\n  *\n  *  Description of Ultrix_Ifdef fix\n  */\n-#define ULTRIX_IFDEF_FIXIDX              118\n+#define ULTRIX_IFDEF_FIXIDX              119\n tSCC zUltrix_IfdefName[] =\n      \"ultrix_ifdef\";\n \n@@ -4797,7 +4834,7 @@ static const char* apzUltrix_IfdefPatch[] = {\n  *\n  *  Description of Ultrix_Math_Ifdef fix\n  */\n-#define ULTRIX_MATH_IFDEF_FIXIDX         119\n+#define ULTRIX_MATH_IFDEF_FIXIDX         120\n tSCC zUltrix_Math_IfdefName[] =\n      \"ultrix_math_ifdef\";\n \n@@ -4833,7 +4870,7 @@ static const char* apzUltrix_Math_IfdefPatch[] = {\n  *\n  *  Description of Ultrix_Nested_Ioctl fix\n  */\n-#define ULTRIX_NESTED_IOCTL_FIXIDX       120\n+#define ULTRIX_NESTED_IOCTL_FIXIDX       121\n tSCC zUltrix_Nested_IoctlName[] =\n      \"ultrix_nested_ioctl\";\n \n@@ -4868,7 +4905,7 @@ static const char* apzUltrix_Nested_IoctlPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Nested_Svc fix\n  */\n-#define ULTRIX_NESTED_SVC_FIXIDX         121\n+#define ULTRIX_NESTED_SVC_FIXIDX         122\n tSCC zUltrix_Nested_SvcName[] =\n      \"ultrix_nested_svc\";\n \n@@ -4903,7 +4940,7 @@ static const char* apzUltrix_Nested_SvcPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Stat fix\n  */\n-#define ULTRIX_STAT_FIXIDX               122\n+#define ULTRIX_STAT_FIXIDX               123\n tSCC zUltrix_StatName[] =\n      \"ultrix_stat\";\n \n@@ -4944,7 +4981,7 @@ static const char* apzUltrix_StatPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Static fix\n  */\n-#define ULTRIX_STATIC_FIXIDX             123\n+#define ULTRIX_STATIC_FIXIDX             124\n tSCC zUltrix_StaticName[] =\n      \"ultrix_static\";\n \n@@ -4981,7 +5018,7 @@ static const char* apzUltrix_StaticPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Strings fix\n  */\n-#define ULTRIX_STRINGS_FIXIDX            124\n+#define ULTRIX_STRINGS_FIXIDX            125\n tSCC zUltrix_StringsName[] =\n      \"ultrix_strings\";\n \n@@ -5016,7 +5053,7 @@ static const char* apzUltrix_StringsPatch[] = {\n  *\n  *  Description of Undefine_Null fix\n  */\n-#define UNDEFINE_NULL_FIXIDX             125\n+#define UNDEFINE_NULL_FIXIDX             126\n tSCC zUndefine_NullName[] =\n      \"undefine_null\";\n \n@@ -5062,7 +5099,7 @@ static const char* apzUndefine_NullPatch[] = {\n  *\n  *  Description of Uw7_Byteorder_Fix fix\n  */\n-#define UW7_BYTEORDER_FIX_FIXIDX         126\n+#define UW7_BYTEORDER_FIX_FIXIDX         127\n tSCC zUw7_Byteorder_FixName[] =\n      \"uw7_byteorder_fix\";\n \n@@ -5113,7 +5150,7 @@ static const char* apzUw7_Byteorder_FixPatch[] = {\n  *\n  *  Description of Va_I960_Macro fix\n  */\n-#define VA_I960_MACRO_FIXIDX             127\n+#define VA_I960_MACRO_FIXIDX             128\n tSCC zVa_I960_MacroName[] =\n      \"va_i960_macro\";\n \n@@ -5149,7 +5186,7 @@ static const char* apzVa_I960_MacroPatch[] = {\n  *\n  *  Description of Void_Null fix\n  */\n-#define VOID_NULL_FIXIDX                 128\n+#define VOID_NULL_FIXIDX                 129\n tSCC zVoid_NullName[] =\n      \"void_null\";\n \n@@ -5185,7 +5222,7 @@ static const char* apzVoid_NullPatch[] = {\n  *\n  *  Description of Vxworks_Gcc_Problem fix\n  */\n-#define VXWORKS_GCC_PROBLEM_FIXIDX       129\n+#define VXWORKS_GCC_PROBLEM_FIXIDX       130\n tSCC zVxworks_Gcc_ProblemName[] =\n      \"vxworks_gcc_problem\";\n \n@@ -5235,7 +5272,7 @@ static const char* apzVxworks_Gcc_ProblemPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Needs_Vxtypes fix\n  */\n-#define VXWORKS_NEEDS_VXTYPES_FIXIDX     130\n+#define VXWORKS_NEEDS_VXTYPES_FIXIDX     131\n tSCC zVxworks_Needs_VxtypesName[] =\n      \"vxworks_needs_vxtypes\";\n \n@@ -5271,7 +5308,7 @@ static const char* apzVxworks_Needs_VxtypesPatch[] = {\n  *\n  *  Description of Vxworks_Needs_Vxworks fix\n  */\n-#define VXWORKS_NEEDS_VXWORKS_FIXIDX     131\n+#define VXWORKS_NEEDS_VXWORKS_FIXIDX     132\n tSCC zVxworks_Needs_VxworksName[] =\n      \"vxworks_needs_vxworks\";\n \n@@ -5320,7 +5357,7 @@ static const char* apzVxworks_Needs_VxworksPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Time fix\n  */\n-#define VXWORKS_TIME_FIXIDX              132\n+#define VXWORKS_TIME_FIXIDX              133\n tSCC zVxworks_TimeName[] =\n      \"vxworks_time\";\n \n@@ -5371,7 +5408,7 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\n\\\n  *\n  *  Description of X11_Class fix\n  */\n-#define X11_CLASS_FIXIDX                 133\n+#define X11_CLASS_FIXIDX                 134\n tSCC zX11_ClassName[] =\n      \"x11_class\";\n \n@@ -5418,7 +5455,7 @@ static const char* apzX11_ClassPatch[] = {\n  *\n  *  Description of X11_Class_Usage fix\n  */\n-#define X11_CLASS_USAGE_FIXIDX           134\n+#define X11_CLASS_USAGE_FIXIDX           135\n tSCC zX11_Class_UsageName[] =\n      \"x11_class_usage\";\n \n@@ -5461,7 +5498,7 @@ static const char* apzX11_Class_UsagePatch[] = {\n  *\n  *  Description of X11_New fix\n  */\n-#define X11_NEW_FIXIDX                   135\n+#define X11_NEW_FIXIDX                   136\n tSCC zX11_NewName[] =\n      \"x11_new\";\n \n@@ -5502,7 +5539,7 @@ static const char* apzX11_NewPatch[] = { \"sed\",\n  *\n  *  Description of X11_Sprintf fix\n  */\n-#define X11_SPRINTF_FIXIDX               136\n+#define X11_SPRINTF_FIXIDX               137\n tSCC zX11_SprintfName[] =\n      \"x11_sprintf\";\n \n@@ -5541,9 +5578,9 @@ static const char* apzX11_SprintfPatch[] = {\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          144\n+#define REGEX_COUNT          145\n #define MACH_LIST_SIZE_LIMIT 279\n-#define FIX_COUNT            137\n+#define FIX_COUNT            138\n \n tFixDesc fixDescList[ FIX_COUNT ] = {\n   {  zAaa_Ki_IfaceName,    zAaa_Ki_IfaceList,\n@@ -6016,6 +6053,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      SCO_UTIME_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSco_UtimeTests,   apzSco_UtimePatch, 0 },\n \n+  {  zSolaris27_Mutex_InitName,    zSolaris27_Mutex_InitList,\n+     apzSolaris27_Mutex_InitMachs,\n+     SOLARIS27_MUTEX_INIT_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aSolaris27_Mutex_InitTests,   apzSolaris27_Mutex_InitPatch, 0 },\n+\n   {  zStatsswtchName,    zStatsswtchList,\n      apzStatsswtchMachs,\n      STATSSWTCH_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,"}, {"sha": "01ecb12df7c15e71f217eaff8522b70b0b8abd91", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f98d85ed9fa40cffc0fb11341024dd7dd1f49db/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f98d85ed9fa40cffc0fb11341024dd7dd1f49db/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=1f98d85ed9fa40cffc0fb11341024dd7dd1f49db", "patch": "@@ -2043,6 +2043,24 @@ fix = {\n };\n \n \n+/*\n+ * Sun Solaris 2.7 defines PTHREAD_MUTEX_INITIALIZER with a trailing\n+ * \"0\" for the last field of the pthread_mutex_t structure, which is\n+ * of type upad64_t, which itself is typedef'd to int64_t, but with\n+ * __STDC__ defined (e.g. by -ansi) it is a union. So change the\n+ * initializer to \"{0}\" instead\n+ */\n+fix = {\n+  hackname = solaris27_mutex_init;\n+  select = '@\\(#\\)pthread.h' \"[ \\t]+1.26[ \\t]+98/04/12 SMI\";\n+  files = pthread.h;\n+  c_fix = format;\n+  c_fix_arg = \"%1, {0}}\";\n+  c_fix_arg = \"(define[ \\t]+PTHREAD_MUTEX_INITIALIZER.*),[ \\t]*0}$\";\n+  test_text = \"#define PTHREAD_MUTEX_INITIALIZER {{{0},0}, {{{0}}}, 0}\";\n+};\n+\n+\n /*\n  *  Sony NEWSOS 5.0 does not support the complete ANSI C standard.\n  */"}]}