{"sha": "0d198936b908bcf4aa4138ae86774955c9db6854", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGQxOTg5MzZiOTA4YmNmNGFhNDEzOGFlODY3NzQ5NTVjOWRiNjg1NA==", "commit": {"author": {"name": "Cary Coutant", "email": "ccoutant@google.com", "date": "2012-10-25T18:30:27Z"}, "committer": {"name": "Cary Coutant", "email": "ccoutant@gcc.gnu.org", "date": "2012-10-25T18:30:27Z"}, "message": "re PR debug/55063 (Thousands of failures in the libstdc++-v3 tests after revision 192739)\n\ngcc/\n\tPR debug/55063\n\t* dwarf2out.c (prune_unused_types_prune): Check whether DIE is\n\talready a declaration.\n\nFrom-SVN: r192820", "tree": {"sha": "86f6fb6f16bcd909036bf0ab88506329d348163f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/86f6fb6f16bcd909036bf0ab88506329d348163f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0d198936b908bcf4aa4138ae86774955c9db6854", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d198936b908bcf4aa4138ae86774955c9db6854", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d198936b908bcf4aa4138ae86774955c9db6854", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d198936b908bcf4aa4138ae86774955c9db6854/comments", "author": null, "committer": null, "parents": [{"sha": "f99a463f8a9051c295259de984927e64a481f3b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f99a463f8a9051c295259de984927e64a481f3b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f99a463f8a9051c295259de984927e64a481f3b4"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "f2670109491a493f38768e86d9d2ce179e3e553c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d198936b908bcf4aa4138ae86774955c9db6854/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d198936b908bcf4aa4138ae86774955c9db6854/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0d198936b908bcf4aa4138ae86774955c9db6854", "patch": "@@ -1,3 +1,9 @@\n+2012-10-25  Cary Coutant  <ccoutant@google.com>\n+\n+\tPR debug/55063\n+\t* dwarf2out.c (prune_unused_types_prune): Check whether DIE is\n+\talready a declaration.\n+\n 2012-10-25  Vladimir Makarov  <vmakarov@redhat.com>\n \n \t* lra-assigns.c (assign_by_spills): Add non-reload pseudos"}, {"sha": "6442edd85f98b6a6a16ad6bbf9f3dc9e59e0b1e2", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d198936b908bcf4aa4138ae86774955c9db6854/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d198936b908bcf4aa4138ae86774955c9db6854/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=0d198936b908bcf4aa4138ae86774955c9db6854", "patch": "@@ -21259,7 +21259,8 @@ prune_unused_types_prune (dw_die_ref die)\n   /* If we pruned children, and this is a class, mark it as a \n      declaration to inform debuggers that this is not a complete\n      class definition.  */\n-  if (pruned && die->die_mark == 1 && class_scope_p (die))\n+  if (pruned && die->die_mark == 1 && class_scope_p (die)\n+      && ! is_declaration_die (die))\n     add_AT_flag (die, DW_AT_declaration, 1);\n }\n "}]}