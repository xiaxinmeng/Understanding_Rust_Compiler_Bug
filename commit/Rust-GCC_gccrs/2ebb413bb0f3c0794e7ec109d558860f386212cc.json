{"sha": "2ebb413bb0f3c0794e7ec109d558860f386212cc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmViYjQxM2JiMGYzYzA3OTRlN2VjMTA5ZDU1ODg2MGYzODYyMTJjYw==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2018-03-02T07:42:58Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2018-03-02T07:42:58Z"}, "message": "re PR target/82005 (Early lto debug not implemented on Darwin)\n\n2018-03-02  Richard Biener  <rguenther@suse.de>\n\n\tPR target/82005\n\t* config/darwin.c (saved_debug_info_level): New static global.\n\t(darwin_asm_lto_start): Disable debug info generation for LTO out.\n\t(darwin_asm_lto_end): Restore debug info generation settings.\n\nFrom-SVN: r258123", "tree": {"sha": "7c68c7f466fafdbded86bfd9373a73f2d7e504cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7c68c7f466fafdbded86bfd9373a73f2d7e504cd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2ebb413bb0f3c0794e7ec109d558860f386212cc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ebb413bb0f3c0794e7ec109d558860f386212cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ebb413bb0f3c0794e7ec109d558860f386212cc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ebb413bb0f3c0794e7ec109d558860f386212cc/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e688c1ddef2462da3b0dc86e0ecdab87c77a6829", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e688c1ddef2462da3b0dc86e0ecdab87c77a6829", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e688c1ddef2462da3b0dc86e0ecdab87c77a6829"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "1b06b3e793c3820767f3bb29662293117e59ac07", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ebb413bb0f3c0794e7ec109d558860f386212cc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ebb413bb0f3c0794e7ec109d558860f386212cc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2ebb413bb0f3c0794e7ec109d558860f386212cc", "patch": "@@ -1,3 +1,10 @@\n+2018-03-02  Richard Biener  <rguenther@suse.de>\n+\n+\tPR target/82005\n+\t* config/darwin.c (saved_debug_info_level): New static global.\n+\t(darwin_asm_lto_start): Disable debug info generation for LTO out.\n+\t(darwin_asm_lto_end): Restore debug info generation settings.\n+\n 2018-03-01  Martin Liska  <mliska@suse.cz>\n \n \tPR sanitizer/82484"}, {"sha": "3a08aea07be048cd2e40ebddbfbe77ee255c31c2", "filename": "gcc/config/darwin.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ebb413bb0f3c0794e7ec109d558860f386212cc/gcc%2Fconfig%2Fdarwin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ebb413bb0f3c0794e7ec109d558860f386212cc/gcc%2Fconfig%2Fdarwin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.c?ref=2ebb413bb0f3c0794e7ec109d558860f386212cc", "patch": "@@ -1933,6 +1933,7 @@ static GTY (()) vec<darwin_lto_section_e, va_gc> *lto_section_names;\n    in darwin_end_file.  */\n static FILE *lto_asm_out_file, *saved_asm_out_file;\n static char *lto_asm_out_name;\n+static enum debug_info_levels saved_debug_info_level;\n \n /* Prepare asm_out_file for LTO output.  For darwin, this means hiding\n    asm_out_file and switching to an alternative output file.  */\n@@ -1941,6 +1942,8 @@ darwin_asm_lto_start (void)\n {\n   gcc_assert (! saved_asm_out_file);\n   saved_asm_out_file = asm_out_file;\n+  saved_debug_info_level = debug_info_level;\n+  debug_info_level = DINFO_LEVEL_NONE;\n   if (! lto_asm_out_name)\n     lto_asm_out_name = make_temp_file (\".lto.s\");\n   lto_asm_out_file = fopen (lto_asm_out_name, \"a\");\n@@ -1959,6 +1962,7 @@ darwin_asm_lto_end (void)\n   fclose (lto_asm_out_file);\n   asm_out_file = saved_asm_out_file;\n   saved_asm_out_file = NULL;\n+  debug_info_level = saved_debug_info_level;\n }\n \n static void"}]}