{"sha": "8e2c6e7b426b6c9c13076208b2e176d4aa1432f1", "node_id": "C_kwDOANBUbNoAKDhlMmM2ZTdiNDI2YjZjOWMxMzA3NjIwOGIyZTE3NmQ0YWExNDMyZjE", "commit": {"author": {"name": "Tobias Burnus", "email": "tobias@codesourcery.com", "date": "2023-01-18T22:31:41Z"}, "committer": {"name": "Tobias Burnus", "email": "tobias@codesourcery.com", "date": "2023-01-18T22:31:41Z"}, "message": "libfortran: Fix execute_command_line for Windows\n\nOn Windows, 'system' is called - that fails with -1 if the command\ninterpreter could not be started; on POSIX systems, if the child\nprocess could not be started by the shell, exit(127)/_exit(127) is\ncalled/returned. On Windows, cmd.exe (and also the PowerShell) return\nerrorlevel 9009.\n\nlibgfortran/ChangeLog:\n\n\t* intrinsics/execute_command_line.c (execute_command_line): On\n\tWindows, regard system()'s return value of 9009 as EXEC_INVALIDCOMMAND.", "tree": {"sha": "895eb89bcced2c39e53532507b1ed4a1302a9a27", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/895eb89bcced2c39e53532507b1ed4a1302a9a27"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8e2c6e7b426b6c9c13076208b2e176d4aa1432f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e2c6e7b426b6c9c13076208b2e176d4aa1432f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e2c6e7b426b6c9c13076208b2e176d4aa1432f1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e2c6e7b426b6c9c13076208b2e176d4aa1432f1/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0f85ae6591c92b161693073c0931c7ca1d5d0c5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f85ae6591c92b161693073c0931c7ca1d5d0c5a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f85ae6591c92b161693073c0931c7ca1d5d0c5a"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "0d1688400c283cfe226efb3fa8b0aba35b3e651e", "filename": "libgfortran/intrinsics/execute_command_line.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e2c6e7b426b6c9c13076208b2e176d4aa1432f1/libgfortran%2Fintrinsics%2Fexecute_command_line.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e2c6e7b426b6c9c13076208b2e176d4aa1432f1/libgfortran%2Fintrinsics%2Fexecute_command_line.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Fexecute_command_line.c?ref=8e2c6e7b426b6c9c13076208b2e176d4aa1432f1", "patch": "@@ -144,6 +144,11 @@ execute_command_line (const char *command, bool wait, int *exitstat,\n #if defined(WEXITSTATUS) && defined(WIFEXITED)\n \t       || (WIFEXITED(res) && WEXITSTATUS(res) == 127)\n \t       || (WIFEXITED(res) && WEXITSTATUS(res) == 126)\n+#endif\n+#ifdef __MINGW32__\n+\t\t  /* cmd.exe sets the errorlevel to 9009,\n+\t\t     if the command could not be executed.  */\n+\t\t|| res == 9009\n #endif\n \t       )\n \t/* Shell return codes 126 and 127 mean that the command line could"}]}