{"sha": "eb2de0c09d794650494cdca09b5613fbf374fb86", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWIyZGUwYzA5ZDc5NDY1MDQ5NGNkY2EwOWI1NjEzZmJmMzc0ZmI4Ng==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2005-06-18T15:07:28Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2005-06-18T15:07:28Z"}, "message": "c-decl.c (locate_old_decl): Add format attribute.\n\n\t* c-decl.c (locate_old_decl): Add format attribute.\n\t(implicit_decl_warning): Likewise.\n\ncp:\n\t* call.c (convert_like_real): Add format attribute.\n\t* typeck.c (check_for_casting_away_constness,\n\tbuild_static_cast_1): Likewise.\n\t* typeck2.c (readonly_error, cxx_incomplete_type_diagnostic):\n\tLikewise.\n\nFrom-SVN: r101158", "tree": {"sha": "66a8d3455877c4ffc86ef5c9f01e5b1e382b51f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/66a8d3455877c4ffc86ef5c9f01e5b1e382b51f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eb2de0c09d794650494cdca09b5613fbf374fb86", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb2de0c09d794650494cdca09b5613fbf374fb86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eb2de0c09d794650494cdca09b5613fbf374fb86", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb2de0c09d794650494cdca09b5613fbf374fb86/comments", "author": null, "committer": null, "parents": [{"sha": "2c8b10961fa33abb06d8acebffa4ac3eaec82086", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c8b10961fa33abb06d8acebffa4ac3eaec82086", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c8b10961fa33abb06d8acebffa4ac3eaec82086"}], "stats": {"total": 27, "additions": 19, "deletions": 8}, "files": [{"sha": "8aab0c70591689922c63e4a3f9e2d61e7cee4dcf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb2de0c09d794650494cdca09b5613fbf374fb86/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb2de0c09d794650494cdca09b5613fbf374fb86/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=eb2de0c09d794650494cdca09b5613fbf374fb86", "patch": "@@ -1,5 +1,8 @@\n 2005-06-18  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n+\t* c-decl.c (locate_old_decl): Add format attribute.\n+\t(implicit_decl_warning): Likewise.\n+\n \t* diagnostic.h (verbatim): Move ...\n \t* toplev.h (verbatim): ... here.  Add ATTRIBUTE_GCC_DIAG.\n \t* pretty-print.h (pp_verbatim): Add ATTRIBUTE_GCC_PPDIAG."}, {"sha": "8f50b17d1eddaa4bd1aeeba6e78fd84157ef1711", "filename": "gcc/c-decl.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb2de0c09d794650494cdca09b5613fbf374fb86/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb2de0c09d794650494cdca09b5613fbf374fb86/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=eb2de0c09d794650494cdca09b5613fbf374fb86", "patch": "@@ -1126,7 +1126,7 @@ validate_proto_after_old_defn (tree newdecl, tree newtype, tree oldtype)\n    first in a pair of mismatched declarations, using the diagnostic\n    function DIAG.  */\n static void\n-locate_old_decl (tree decl, void (*diag)(const char *, ...))\n+locate_old_decl (tree decl, void (*diag)(const char *, ...) ATTRIBUTE_GCC_CDIAG(1,2))\n {\n   if (TREE_CODE (decl) == FUNCTION_DECL && DECL_BUILT_IN (decl))\n     ;\n@@ -2283,7 +2283,7 @@ pushdecl_top_level (tree x)\n static void\n implicit_decl_warning (tree id, tree olddecl)\n {\n-  void (*diag) (const char *, ...);\n+  void (*diag) (const char *, ...) ATTRIBUTE_GCC_CDIAG(1,2);\n   switch (mesg_implicit_function_declaration)\n     {\n     case 0: return;"}, {"sha": "7fbbef0b2ceff8f976dc79fe3805760445ea6eb8", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb2de0c09d794650494cdca09b5613fbf374fb86/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb2de0c09d794650494cdca09b5613fbf374fb86/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=eb2de0c09d794650494cdca09b5613fbf374fb86", "patch": "@@ -1,3 +1,11 @@\n+2005-06-18  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* call.c (convert_like_real): Add format attribute.\n+\t* typeck.c (check_for_casting_away_constness,\n+\tbuild_static_cast_1): Likewise.\n+\t* typeck2.c (readonly_error, cxx_incomplete_type_diagnostic):\n+\tLikewise.\n+\n 2005-06-17  Geoffrey Keating  <geoffk@apple.com>\n \n \tPR c++/17413"}, {"sha": "d3daadb8c363f890f8382aa58a208f7777d089c6", "filename": "gcc/cp/call.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb2de0c09d794650494cdca09b5613fbf374fb86/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb2de0c09d794650494cdca09b5613fbf374fb86/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=eb2de0c09d794650494cdca09b5613fbf374fb86", "patch": "@@ -4122,7 +4122,7 @@ convert_like_real (conversion *convs, tree expr, tree fn, int argnum,\n \t\t   bool c_cast_p)\n {\n   tree totype = convs->type;\n-  void (*diagnostic_fn)(const char *, ...);\n+  void (*diagnostic_fn)(const char *, ...) ATTRIBUTE_GCC_CXXDIAG(1,2);\n \n   if (convs->bad_p\n       && convs->kind != ck_user"}, {"sha": "ca455271a48d0de018611e61a610fd40c897b775", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb2de0c09d794650494cdca09b5613fbf374fb86/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb2de0c09d794650494cdca09b5613fbf374fb86/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=eb2de0c09d794650494cdca09b5613fbf374fb86", "patch": "@@ -4467,7 +4467,7 @@ build_compound_expr (tree lhs, tree rhs)\n \n static void\n check_for_casting_away_constness (tree src_type, tree dest_type,\n-\t\t\t\t  void (*diag_fn)(const char *, ...),\n+\t\t\t\t  void (*diag_fn)(const char *, ...) ATTRIBUTE_GCC_CXXDIAG(1,2),\n \t\t\t\t  const char *description)\n {\n   if (diag_fn && casts_away_constness (src_type, dest_type))\n@@ -4521,7 +4521,7 @@ build_static_cast_1 (tree type, tree expr, bool c_cast_p,\n   tree intype;\n   tree result;\n   tree orig;\n-  void (*diag_fn)(const char*, ...);\n+  void (*diag_fn)(const char*, ...) ATTRIBUTE_GCC_CXXDIAG(1,2);\n   const char *desc;\n \n   /* Assume the cast is valid.  */"}, {"sha": "f5cbfe5ab19e5bc28cb5c76d43bcbc7088bbe322", "filename": "gcc/cp/typeck2.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb2de0c09d794650494cdca09b5613fbf374fb86/gcc%2Fcp%2Ftypeck2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb2de0c09d794650494cdca09b5613fbf374fb86/gcc%2Fcp%2Ftypeck2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck2.c?ref=eb2de0c09d794650494cdca09b5613fbf374fb86", "patch": "@@ -74,7 +74,7 @@ void\n readonly_error (tree arg, const char* string, int soft)\n {\n   const char *fmt;\n-  void (*fn) (const char *, ...);\n+  void (*fn) (const char *, ...) ATTRIBUTE_GCC_CXXDIAG(1,2);\n \n   if (soft)\n     fn = pedwarn;\n@@ -347,8 +347,8 @@ void\n cxx_incomplete_type_diagnostic (tree value, tree type, int diag_type)\n {\n   int decl = 0;\n-  void (*p_msg) (const char *, ...);\n-  void (*p_msg_at) (const char *, ...);\n+  void (*p_msg) (const char *, ...) ATTRIBUTE_GCC_CXXDIAG(1,2);\n+  void (*p_msg_at) (const char *, ...) ATTRIBUTE_GCC_CXXDIAG(1,2);\n \n   if (diag_type == 1)\n     {"}]}