{"sha": "c76f4e8ef47f7d4fea47af7a39edf1aae00ac977", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzc2ZjRlOGVmNDdmN2Q0ZmVhNDdhZjdhMzllZGYxYWFlMDBhYzk3Nw==", "commit": {"author": {"name": "Joseph Myers", "email": "jsm@polyomino.org.uk", "date": "2003-11-08T22:42:00Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2003-11-08T22:42:00Z"}, "message": "re PR c/3190 (-Wformat-y2k doesn't belong to -Wall - it's hard to avoid)\n\n\tPR c/3190\n\tPR c/8714\n\t* c-format.c (set_Wformat): Do not enable -Wformat-y2k by default.\n\t* invoke.texi: Update.\n\ntestsuite:\n\tPR c/3190\n\tPR c/8714\n\t* gcc.dg/format/c90-strftime-1.c, gcc.dg/format/c90-strftime-2.c,\n\tgcc.dg/format/c99-strftime-1.c, gcc.dg/format/ext3.c,\n\tgcc.dg/format/no-y2k-1.c: Update.\n\nFrom-SVN: r73378", "tree": {"sha": "df325b6a6238adce3bba6e07586901745bcd5ec3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df325b6a6238adce3bba6e07586901745bcd5ec3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "41d3a0c3d88fc5e7ca705b436f08c5689a05d996", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41d3a0c3d88fc5e7ca705b436f08c5689a05d996", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41d3a0c3d88fc5e7ca705b436f08c5689a05d996"}], "stats": {"total": 41, "additions": 28, "deletions": 13}, "files": [{"sha": "d045a70d9cc1c47903fec9d0b641012ded49e07d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c76f4e8ef47f7d4fea47af7a39edf1aae00ac977", "patch": "@@ -1,3 +1,10 @@\n+2003-11-08  Joseph S. Myers  <jsm@polyomino.org.uk>\n+\n+\tPR c/3190\n+\tPR c/8714\n+\t* c-format.c (set_Wformat): Do not enable -Wformat-y2k by default.\n+\t* invoke.texi: Update.\n+\n 2003-11-08  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n \n \tPR optimization/12630"}, {"sha": "269be1795dbe30d1321fa6fbd766e2a6d481a439", "filename": "gcc/c-format.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Fc-format.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Fc-format.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-format.c?ref=c76f4e8ef47f7d4fea47af7a39edf1aae00ac977", "patch": "@@ -37,13 +37,13 @@ void\n set_Wformat (int setting)\n {\n   warn_format = setting;\n-  warn_format_y2k = setting;\n   warn_format_extra_args = setting;\n   warn_format_zero_length = setting;\n   if (setting != 1)\n     {\n       warn_format_nonliteral = setting;\n       warn_format_security = setting;\n+      warn_format_y2k = setting;\n     }\n   /* Make sure not to disable -Wnonnull if -Wformat=0 is specified.  */\n   if (setting)"}, {"sha": "a1c2d0b03f764c176b31a51e161b86305ded9ec2", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=c76f4e8ef47f7d4fea47af7a39edf1aae00ac977", "patch": "@@ -218,7 +218,7 @@ in the following sections.\n -Werror  -Werror-implicit-function-declaration @gol\n -Wfloat-equal  -Wformat  -Wformat=2 @gol\n -Wno-format-extra-args -Wformat-nonliteral @gol\n--Wformat-security  -Wno-format-y2k @gol\n+-Wformat-security  -Wformat-y2k @gol\n -Wimplicit  -Wimplicit-function-declaration  -Wimplicit-int @gol\n -Wimport  -Wno-import  -Winit-self  -Winline @gol\n -Wno-invalid-offsetof  -Winvalid-pch @gol\n@@ -2125,14 +2125,14 @@ Since @option{-Wformat} also checks for null format arguments for\n several functions, @option{-Wformat} also implies @option{-Wnonnull}.\n \n @option{-Wformat} is included in @option{-Wall}.  For more control over some\n-aspects of format checking, the options @option{-Wno-format-y2k},\n+aspects of format checking, the options @option{-Wformat-y2k},\n @option{-Wno-format-extra-args}, @option{-Wno-format-zero-length},\n @option{-Wformat-nonliteral}, @option{-Wformat-security}, and\n @option{-Wformat=2} are available, but are not included in @option{-Wall}.\n \n-@item -Wno-format-y2k\n-@opindex Wno-format-y2k\n-If @option{-Wformat} is specified, do not warn about @code{strftime}\n+@item -Wformat-y2k\n+@opindex Wformat-y2k\n+If @option{-Wformat} is specified, also warn about @code{strftime}\n formats which may yield only a two-digit year.\n \n @item -Wno-format-extra-args\n@@ -2176,7 +2176,7 @@ included in @option{-Wformat-nonliteral}.)\n @opindex Wformat=2\n Enable @option{-Wformat} plus format checks not included in\n @option{-Wformat}.  Currently equivalent to @samp{-Wformat\n--Wformat-nonliteral -Wformat-security}.\n+-Wformat-nonliteral -Wformat-security -Wformat-y2k}.\n \n @item -Wnonnull\n @opindex Wnonnull"}, {"sha": "587bfdd7b9e372ca88b23de49f3e1d9f89fd9ead", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c76f4e8ef47f7d4fea47af7a39edf1aae00ac977", "patch": "@@ -1,3 +1,11 @@\n+2003-11-08  Joseph S. Myers  <jsm@polyomino.org.uk>\n+\n+\tPR c/3190\n+\tPR c/8714\n+\t* gcc.dg/format/c90-strftime-1.c, gcc.dg/format/c90-strftime-2.c,\n+\tgcc.dg/format/c99-strftime-1.c, gcc.dg/format/ext3.c,\n+\tgcc.dg/format/no-y2k-1.c: Update.\n+\n 2003-11-08  Roger Sayle  <roger@eyesopen.com>\n \n \tPR optimization/10467"}, {"sha": "1739f7b75eedbc78085379068f3cfda561a1fa6c", "filename": "gcc/testsuite/gcc.dg/format/c90-strftime-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fc90-strftime-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fc90-strftime-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fc90-strftime-1.c?ref=c76f4e8ef47f7d4fea47af7a39edf1aae00ac977", "patch": "@@ -1,7 +1,7 @@\n /* Test for strftime formats.  Formats using C90 features.  */\n /* Origin: Joseph Myers <jsm28@cam.ac.uk> */\n /* { dg-do compile } */\n-/* { dg-options \"-std=iso9899:1990 -pedantic -Wformat\" } */\n+/* { dg-options \"-std=iso9899:1990 -pedantic -Wformat -Wformat-y2k\" } */\n \n #include \"format.h\"\n "}, {"sha": "8b8398ed930d76d11f25815af811821dc7735a4a", "filename": "gcc/testsuite/gcc.dg/format/c90-strftime-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fc90-strftime-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fc90-strftime-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fc90-strftime-2.c?ref=c76f4e8ef47f7d4fea47af7a39edf1aae00ac977", "patch": "@@ -2,7 +2,7 @@\n    pedantic C90 mode.  */\n /* Origin: Joseph Myers <jsm28@cam.ac.uk> */\n /* { dg-do compile } */\n-/* { dg-options \"-std=iso9899:1990 -pedantic -Wformat\" } */\n+/* { dg-options \"-std=iso9899:1990 -pedantic -Wformat -Wformat-y2k\" } */\n \n #include \"format.h\"\n "}, {"sha": "1730738df42e19d91d5b1836f43707939cada760", "filename": "gcc/testsuite/gcc.dg/format/c99-strftime-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fc99-strftime-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fc99-strftime-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fc99-strftime-1.c?ref=c76f4e8ef47f7d4fea47af7a39edf1aae00ac977", "patch": "@@ -1,7 +1,7 @@\n /* Test for strftime formats.  Formats using C99 features.  */\n /* Origin: Joseph Myers <jsm28@cam.ac.uk> */\n /* { dg-do compile } */\n-/* { dg-options \"-std=iso9899:1999 -pedantic -Wformat\" } */\n+/* { dg-options \"-std=iso9899:1999 -pedantic -Wformat -Wformat-y2k\" } */\n \n #include \"format.h\"\n "}, {"sha": "937e11212f761aefdc3d6560f27f4b954d0e81bb", "filename": "gcc/testsuite/gcc.dg/format/ext-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fext-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fext-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fext-3.c?ref=c76f4e8ef47f7d4fea47af7a39edf1aae00ac977", "patch": "@@ -3,7 +3,7 @@\n */\n /* Origin: Joseph Myers <jsm28@cam.ac.uk> */\n /* { dg-do compile } */\n-/* { dg-options \"-std=gnu99 -Wformat\" } */\n+/* { dg-options \"-std=gnu99 -Wformat -Wformat-y2k\" } */\n \n #include \"format.h\"\n "}, {"sha": "4dfd5a04ebdff61d2fd16679535dbe87694389b3", "filename": "gcc/testsuite/gcc.dg/format/no-y2k-1.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fno-y2k-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c76f4e8ef47f7d4fea47af7a39edf1aae00ac977/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fno-y2k-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fno-y2k-1.c?ref=c76f4e8ef47f7d4fea47af7a39edf1aae00ac977", "patch": "@@ -1,7 +1,7 @@\n-/* Test for warnings for Y2K problems being disabled by -Wno-format-y2k.  */\n+/* Test for warnings for Y2K problems not being on by default.  */\n /* Origin: Joseph Myers <jsm28@cam.ac.uk> */\n /* { dg-do compile } */\n-/* { dg-options \"-std=gnu99 -Wformat -Wno-format-y2k\" } */\n+/* { dg-options \"-std=gnu99 -Wformat\" } */\n \n #include \"format.h\"\n "}]}