{"sha": "50312b2ff0e52bcbc8e8ff3bec3b229608c289f4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTAzMTJiMmZmMGU1MmJjYmM4ZThmZjNiZWMzYjIyOTYwOGMyODlmNA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-12-04T01:35:53Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-12-04T01:35:53Z"}, "message": "runtime: Use pthread_sigmask instead of sigprocmask.\n\nFrom-SVN: r205652", "tree": {"sha": "40e137bd17d666555f65975199da69548e154609", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/40e137bd17d666555f65975199da69548e154609"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/50312b2ff0e52bcbc8e8ff3bec3b229608c289f4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50312b2ff0e52bcbc8e8ff3bec3b229608c289f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50312b2ff0e52bcbc8e8ff3bec3b229608c289f4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50312b2ff0e52bcbc8e8ff3bec3b229608c289f4/comments", "author": null, "committer": null, "parents": [{"sha": "4924840463062d1ef13633b8bb864042c5c08c4b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4924840463062d1ef13633b8bb864042c5c08c4b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4924840463062d1ef13633b8bb864042c5c08c4b"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "1624122dace8c193a697c33b6a08ecb07f4cd1aa", "filename": "libgo/runtime/go-signal.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50312b2ff0e52bcbc8e8ff3bec3b229608c289f4/libgo%2Fruntime%2Fgo-signal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50312b2ff0e52bcbc8e8ff3bec3b229608c289f4/libgo%2Fruntime%2Fgo-signal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fgo-signal.c?ref=50312b2ff0e52bcbc8e8ff3bec3b229608c289f4", "patch": "@@ -252,7 +252,7 @@ sig_panic_leadin (int sig)\n   /* The signal handler blocked signals; unblock them.  */\n   i = sigfillset (&clear);\n   __go_assert (i == 0);\n-  i = sigprocmask (SIG_UNBLOCK, &clear, NULL);\n+  i = pthread_sigmask (SIG_UNBLOCK, &clear, NULL);\n   __go_assert (i == 0);\n }\n "}, {"sha": "19afee3cd7ae07a93c5b965b3b218b6a136d319f", "filename": "libgo/runtime/proc.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50312b2ff0e52bcbc8e8ff3bec3b229608c289f4/libgo%2Fruntime%2Fproc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50312b2ff0e52bcbc8e8ff3bec3b229608c289f4/libgo%2Fruntime%2Fproc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fproc.c?ref=50312b2ff0e52bcbc8e8ff3bec3b229608c289f4", "patch": "@@ -208,9 +208,9 @@ runtime_newosproc(M *mp)\n #endif\n \n \tsigemptyset(&old);\n-\tsigprocmask(SIG_BLOCK, &clear, &old);\n+\tpthread_sigmask(SIG_BLOCK, &clear, &old);\n \tret = pthread_create(&tid, &attr, runtime_mstart, mp);\n-\tsigprocmask(SIG_SETMASK, &old, nil);\n+\tpthread_sigmask(SIG_SETMASK, &old, nil);\n \n \tif (ret != 0)\n \t\truntime_throw(\"pthread_create\");"}, {"sha": "8fbc916fcfab4ced7c03b569004c84212ce4ab64", "filename": "libgo/runtime/runtime.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50312b2ff0e52bcbc8e8ff3bec3b229608c289f4/libgo%2Fruntime%2Fruntime.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50312b2ff0e52bcbc8e8ff3bec3b229608c289f4/libgo%2Fruntime%2Fruntime.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fruntime.c?ref=50312b2ff0e52bcbc8e8ff3bec3b229608c289f4", "patch": "@@ -256,7 +256,7 @@ runtime_minit(void)\n \truntime_signalstack(m->gsignalstack, m->gsignalstacksize);\n \tif (sigemptyset(&sigs) != 0)\n \t\truntime_throw(\"sigemptyset\");\n-\tsigprocmask(SIG_SETMASK, &sigs, nil);\n+\tpthread_sigmask(SIG_SETMASK, &sigs, nil);\n }\n \n // Called from dropm to undo the effect of an minit."}]}