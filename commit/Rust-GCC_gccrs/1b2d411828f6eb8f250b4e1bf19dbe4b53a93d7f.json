{"sha": "1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWIyZDQxMTgyOGY2ZWI4ZjI1MGI0ZTFiZjE5ZGJlNGI1M2E5M2Q3Zg==", "commit": {"author": {"name": "Jack Howarth", "email": "howarth@bromo.med.uc.edu", "date": "2010-08-13T17:06:42Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2010-08-13T17:06:42Z"}, "message": "Enable -fomit-frame-pointer on darwin which support dwarf2.\n\n2010-08-13  Jack Howarth <howarth@bromo.med.uc.edu>\n\n\t* gcc/configure.ac: Enable -fomit-frame-pointer on darwin\n\twhich support dwarf2.\n\t* config/i386/i386.c (override_options): Same.\n\nFrom-SVN: r163227", "tree": {"sha": "0fd79808a5c0a607152a42ba6de3e0608db97b04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0fd79808a5c0a607152a42ba6de3e0608db97b04"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f/comments", "author": null, "committer": null, "parents": [{"sha": "7d74619b737aeb949c011a743cd3935b17f0f719", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d74619b737aeb949c011a743cd3935b17f0f719", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d74619b737aeb949c011a743cd3935b17f0f719"}], "stats": {"total": 27, "additions": 16, "deletions": 11}, "files": [{"sha": "a7d7cb93c4a91f742e8c0c03a4cc18504907f331", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f", "patch": "@@ -1,3 +1,9 @@\n+2010-08-13  Jack Howarth <howarth@bromo.med.uc.edu>\n+\n+\t* gcc/configure.ac: Enable -fomit-frame-pointer on darwin\n+\twhich support dwarf2.\n+\t* config/i386/i386.c (override_options): Same.\n+\n 2010-08-13  Jie Zhang  <jie@codesourcery.com>\n \n \t* config/arm/arm.md (cstoredf4): Only valid when"}, {"sha": "b925122a32c60dd7773212306fde68f062ce5201", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f", "patch": "@@ -3276,9 +3276,8 @@ override_options (bool main_args_p)\n     {\n       if (flag_zee == 2)\n         flag_zee = 1;\n-      /* Mach-O doesn't support omitting the frame pointer for now.  */\n       if (flag_omit_frame_pointer == 2)\n-\tflag_omit_frame_pointer = (TARGET_MACHO ? 0 : 1);\n+\tflag_omit_frame_pointer = 1;\n       if (flag_asynchronous_unwind_tables == 2)\n \tflag_asynchronous_unwind_tables = 1;\n       if (flag_pcc_struct_return == 2)\n@@ -3288,10 +3287,8 @@ override_options (bool main_args_p)\n     {\n       if (flag_zee == 2)\n         flag_zee = 0;\n-      /* Mach-O doesn't support omitting the frame pointer for now.  */\n       if (flag_omit_frame_pointer == 2)\n-\tflag_omit_frame_pointer =\n-\t  (TARGET_MACHO ? 0 : !(USE_IX86_FRAME_POINTER || optimize_size));\n+\tflag_omit_frame_pointer = !(USE_IX86_FRAME_POINTER || optimize_size);\n       if (flag_asynchronous_unwind_tables == 2)\n \tflag_asynchronous_unwind_tables = !USE_IX86_FRAME_POINTER;\n       if (flag_pcc_struct_return == 2)"}, {"sha": "c7a457a1b985110cc3ee54168a1ee78879441694", "filename": "gcc/configure", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f", "patch": "@@ -10716,8 +10716,9 @@ if test \"${enable_frame_pointer+set}\" = set; then :\n else\n \n case $target_os in\n-linux*)\n-  # Enable -fomit-frame-pointer by default for Linux.\n+linux* | darwin[8912]*)\n+  # Enable -fomit-frame-pointer by default for Linux and Darwin with\n+  # DWARF2.\n   enable_frame_pointer=no\n   ;;\n *)\n@@ -17129,7 +17130,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 17132 \"configure\"\n+#line 17133 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -17235,7 +17236,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 17238 \"configure\"\n+#line 17239 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H"}, {"sha": "1fcb87a2e2d1266e047ff63c66d26f3a0cc75b02", "filename": "gcc/configure.ac", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=1b2d411828f6eb8f250b4e1bf19dbe4b53a93d7f", "patch": "@@ -1584,8 +1584,9 @@ AC_ARG_ENABLE(frame-pointer,\n [  --enable-frame-pointer  enable -fno-omit-frame-pointer by default for 32bit x86], [],\n [\n case $target_os in\n-linux*)\n-  # Enable -fomit-frame-pointer by default for Linux.\n+linux* | darwin[[8912]]*)\n+  # Enable -fomit-frame-pointer by default for Linux and Darwin with\n+  # DWARF2.\n   enable_frame_pointer=no\n   ;;\n *)"}]}