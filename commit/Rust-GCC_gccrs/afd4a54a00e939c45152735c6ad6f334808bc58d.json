{"sha": "afd4a54a00e939c45152735c6ad6f334808bc58d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWZkNGE1NGEwMGU5MzljNDUxNTI3MzVjNmFkNmYzMzQ4MDhiYzU4ZA==", "commit": {"author": {"name": "Gary Benson", "email": "gbenson@redhat.com", "date": "2006-10-05T09:32:57Z"}, "committer": {"name": "Gary Benson", "email": "gary@gcc.gnu.org", "date": "2006-10-05T09:32:57Z"}, "message": "2006-10-05  Gary Benson  <gbenson@redhat.com>\n\n\t* java/net/SocketPermission.java\n\t(processHostport): Cope with IPv6 addresses with a\n\tone-digit first component.\n\nFrom-SVN: r117454", "tree": {"sha": "ba7f76167114b1b65938637a4371a9ad32ae6163", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba7f76167114b1b65938637a4371a9ad32ae6163"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/afd4a54a00e939c45152735c6ad6f334808bc58d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afd4a54a00e939c45152735c6ad6f334808bc58d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afd4a54a00e939c45152735c6ad6f334808bc58d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afd4a54a00e939c45152735c6ad6f334808bc58d/comments", "author": null, "committer": null, "parents": [{"sha": "7251a8d1c56502f42a6ef72e6a5ee9bde004a112", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7251a8d1c56502f42a6ef72e6a5ee9bde004a112", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7251a8d1c56502f42a6ef72e6a5ee9bde004a112"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "56d1cb91144da9ba4c78de714916bb37fff984b2", "filename": "libjava/classpath/ChangeLog.gcj", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afd4a54a00e939c45152735c6ad6f334808bc58d/libjava%2Fclasspath%2FChangeLog.gcj", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afd4a54a00e939c45152735c6ad6f334808bc58d/libjava%2Fclasspath%2FChangeLog.gcj", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog.gcj?ref=afd4a54a00e939c45152735c6ad6f334808bc58d", "patch": "@@ -1,3 +1,9 @@\n+2006-10-05  Gary Benson  <gbenson@redhat.com>\n+\n+\t* java/net/SocketPermission.java\n+\t(processHostport): Cope with IPv6 addresses with a\n+\tone-digit first component.\n+\n 2006-09-25  Tom Tromey  <tromey@redhat.com>\n \n \t* native/jni/gconf-peer/Makefile.in: Rebuilt."}, {"sha": "64885438aed51b5df6c6542ec216106c789617f9", "filename": "libjava/classpath/java/net/SocketPermission.java", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afd4a54a00e939c45152735c6ad6f334808bc58d/libjava%2Fclasspath%2Fjava%2Fnet%2FSocketPermission.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afd4a54a00e939c45152735c6ad6f334808bc58d/libjava%2Fclasspath%2Fjava%2Fnet%2FSocketPermission.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnet%2FSocketPermission.java?ref=afd4a54a00e939c45152735c6ad6f334808bc58d", "patch": "@@ -193,16 +193,19 @@ private static String processHostport(String hostport)\n     if (hostport.charAt(0) == '[')\n       return hostport;\n \n-    int colons = 0, last_colon = 0;\n+    int colons = 0;\n+    boolean colon_allowed = true;\n     for (int i = 0; i < hostport.length(); i++)\n       {\n \tif (hostport.charAt(i) == ':')\n \t  {\n-\t    if (i - last_colon == 1)\n+\t    if (!colon_allowed)\n \t      throw new IllegalArgumentException(\"Ambiguous hostport part\");\n \t    colons++;\n-\t    last_colon = i;\n+\t    colon_allowed = false;\n \t  }\n+\telse\n+\t  colon_allowed = true;\n       }\n \n     switch (colons)\n@@ -218,6 +221,7 @@ private static String processHostport(String hostport)\n \n       case 8:\n \t// an IPv6 address with ports\n+\tint last_colon = hostport.lastIndexOf(':');\n \treturn \"[\" + hostport.substring(0, last_colon) + \"]\"\n \t  + hostport.substring(last_colon);\n "}]}