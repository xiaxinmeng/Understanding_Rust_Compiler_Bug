{"sha": "c6c73c51ca12bd7672d17726416dd95519e15747", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzZjNzNjNTFjYTEyYmQ3NjcyZDE3NzI2NDE2ZGQ5NTUxOWUxNTc0Nw==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2010-06-25T19:01:04Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2010-06-25T19:01:04Z"}, "message": "parse.c (next_free, next_fixed): Allow \";\" as first character.\n\n2010-06-25  Tobias Burnus  <burnus@net-b.de>\n\n        * parse.c (next_free, next_fixed): Allow \";\" as first character.\n\n2010-06-25  Tobias Burnus  <burnus@net-b.de>\n\n        * gfortran.dg/semicolon_fixed.f: Update.\n        * gfortran.dg/semicolon_fixed_2.f: New.\n        * gfortran.dg/semicolon_free_2.f90: New.\n        * gfortran.dg/semicolon_free.f90: Update.\n\nFrom-SVN: r161405", "tree": {"sha": "219f02c65a2d3d51c0c49468db6604dc929faedd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/219f02c65a2d3d51c0c49468db6604dc929faedd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c6c73c51ca12bd7672d17726416dd95519e15747", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6c73c51ca12bd7672d17726416dd95519e15747", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c6c73c51ca12bd7672d17726416dd95519e15747", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6c73c51ca12bd7672d17726416dd95519e15747/comments", "author": null, "committer": null, "parents": [{"sha": "8e7745dce20f0cf618b50afab811955e37a7da10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e7745dce20f0cf618b50afab811955e37a7da10", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e7745dce20f0cf618b50afab811955e37a7da10"}], "stats": {"total": 54, "additions": 48, "deletions": 6}, "files": [{"sha": "b635aec7e61303813d5405c7a332c0b2d1f7a6aa", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6c73c51ca12bd7672d17726416dd95519e15747/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6c73c51ca12bd7672d17726416dd95519e15747/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=c6c73c51ca12bd7672d17726416dd95519e15747", "patch": "@@ -1,3 +1,7 @@\n+2010-06-25  Tobias Burnus  <burnus@net-b.de>\n+\n+\t* parse.c (next_free, next_fixed): Allow \";\" as first character.\n+\n 2010-06-24  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/44614"}, {"sha": "50f795723ebcfb8ec41ecc6266d13a1be75a2869", "filename": "gcc/fortran/parse.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6c73c51ca12bd7672d17726416dd95519e15747/gcc%2Ffortran%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6c73c51ca12bd7672d17726416dd95519e15747/gcc%2Ffortran%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fparse.c?ref=c6c73c51ca12bd7672d17726416dd95519e15747", "patch": "@@ -717,7 +717,9 @@ next_free (void)\n  \n   if (at_bol && c == ';')\n     {\n-      gfc_error_now (\"Semicolon at %C needs to be preceded by statement\");\n+      if (!(gfc_option.allow_std & GFC_STD_F2008))\n+\tgfc_error_now (\"Fortran 2008: Semicolon at %C without preceding \"\n+\t\t       \"statement\");\n       gfc_next_ascii_char (); /* Eat up the semicolon.  */\n       return ST_NONE;\n     }\n@@ -853,7 +855,11 @@ next_fixed (void)\n \n   if (c == ';')\n     {\n-      gfc_error_now (\"Semicolon at %C needs to be preceded by statement\");\n+      if (digit_flag)\n+\tgfc_error_now (\"Semicolon at %C needs to be preceded by statement\");\n+      else if (!(gfc_option.allow_std & GFC_STD_F2008))\n+\tgfc_error_now (\"Fortran 2008: Semicolon at %C without preceding \"\n+\t\t       \"statement\");\n       return ST_NONE;\n     }\n "}, {"sha": "85cb46b90e10f4f5fbca026c0537fe0ed3c654f3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6c73c51ca12bd7672d17726416dd95519e15747/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6c73c51ca12bd7672d17726416dd95519e15747/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c6c73c51ca12bd7672d17726416dd95519e15747", "patch": "@@ -1,3 +1,10 @@\n+2010-06-25  Tobias Burnus  <burnus@net-b.de>\n+\n+\t* gfortran.dg/semicolon_fixed.f: Update.\n+\t* gfortran.dg/semicolon_fixed_2.f: New.\n+\t* gfortran.dg/semicolon_free_2.f90: New.\n+\t* gfortran.dg/semicolon_free.f90: Update.\n+\n 2010-06-25  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR fortran/44448\n@@ -57,7 +64,7 @@\n \n 2010-06-24  Andi Kleen  <ak@linux.intel.com>\n \n-        * c-c++-common/warn-omitted-condop.c: New.\n+\t* c-c++-common/warn-omitted-condop.c: New.\n \n 2010-06-24  Tobias Burnus  <burnus@net-b.de>\n "}, {"sha": "162976411f033567119a43faf1ffd29d52576078", "filename": "gcc/testsuite/gfortran.dg/semicolon_fixed.f", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6c73c51ca12bd7672d17726416dd95519e15747/gcc%2Ftestsuite%2Fgfortran.dg%2Fsemicolon_fixed.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6c73c51ca12bd7672d17726416dd95519e15747/gcc%2Ftestsuite%2Fgfortran.dg%2Fsemicolon_fixed.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fsemicolon_fixed.f?ref=c6c73c51ca12bd7672d17726416dd95519e15747", "patch": "@@ -1,9 +1,11 @@\n ! { dg-do compile }\n-! PR 19259 Semicolon cannot start a line\n+! { dg-do options \"-std=f2003\" }\n+!\n+! PR 19259 Semicolon cannot start a line (in F2003)\n       x=1; y=1;\n       x=2;;\n       x=3;\n-      ;                         ! { dg-error \"Semicolon at\" }\n-      ;;                        ! { dg-error \"Semicolon at\" }\n+      ;                         ! { dg-error \"Fortran 2008: Semicolon at\" }\n+      ;;                        ! { dg-error \"Fortran 2008: Semicolon at\" }\n  900  ;                         ! { dg-error \"Semicolon at\" }\n       end"}, {"sha": "d4f3862c15aceffbd09374a1412d66321174944f", "filename": "gcc/testsuite/gfortran.dg/semicolon_fixed_2.f", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6c73c51ca12bd7672d17726416dd95519e15747/gcc%2Ftestsuite%2Fgfortran.dg%2Fsemicolon_fixed_2.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6c73c51ca12bd7672d17726416dd95519e15747/gcc%2Ftestsuite%2Fgfortran.dg%2Fsemicolon_fixed_2.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fsemicolon_fixed_2.f?ref=c6c73c51ca12bd7672d17726416dd95519e15747", "patch": "@@ -0,0 +1,12 @@\n+! { dg-do compile }\n+! { dg-do options \"-std=f2008\" }\n+\n+! PR 19259 Semicolon cannot start a line\n+! but it F2008 it can!\n+      x=1; y=1;\n+      x=2;;\n+      x=3;\n+      ;                         ! OK\n+      ;;                        ! OK\n+ 900  ;                         ! { dg-error \"Semicolon at\" }\n+      end"}, {"sha": "4d05d83f86bf32da283cbd33b862dcbef106584c", "filename": "gcc/testsuite/gfortran.dg/semicolon_free.f90", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6c73c51ca12bd7672d17726416dd95519e15747/gcc%2Ftestsuite%2Fgfortran.dg%2Fsemicolon_free.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6c73c51ca12bd7672d17726416dd95519e15747/gcc%2Ftestsuite%2Fgfortran.dg%2Fsemicolon_free.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fsemicolon_free.f90?ref=c6c73c51ca12bd7672d17726416dd95519e15747", "patch": "@@ -1,4 +1,5 @@\n ! { dg-do compile }\n+! { dg-options \"-std=f2003\" }\n ! PR 19259 Semicolon cannot start a line\n x=1; y=1;\n x=2;;"}, {"sha": "2fae26e16075cee17b1f66b6b75229c03861cf36", "filename": "gcc/testsuite/gfortran.dg/semicolon_free_2.f90", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6c73c51ca12bd7672d17726416dd95519e15747/gcc%2Ftestsuite%2Fgfortran.dg%2Fsemicolon_free_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6c73c51ca12bd7672d17726416dd95519e15747/gcc%2Ftestsuite%2Fgfortran.dg%2Fsemicolon_free_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fsemicolon_free_2.f90?ref=c6c73c51ca12bd7672d17726416dd95519e15747", "patch": "@@ -0,0 +1,10 @@\n+! { dg-do compile }\n+! { dg-options \"-std=f2008\" }\n+! PR 19259 Semicolon cannot start a line\n+x=1; y=1;\n+x=2;;\n+x=3;\n+ ; ! OK\n+;; ! OK\n+111 ; ! { dg-error \"Semicolon at\" }\n+end"}]}