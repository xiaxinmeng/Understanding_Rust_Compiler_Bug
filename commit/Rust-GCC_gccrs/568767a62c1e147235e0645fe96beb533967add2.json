{"sha": "568767a62c1e147235e0645fe96beb533967add2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTY4NzY3YTYyYzFlMTQ3MjM1ZTA2NDVmZTk2YmViNTMzOTY3YWRkMg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-09-18T18:54:36Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-09-18T18:54:36Z"}, "message": "c-pragma.c (mark_align_stack): New.\n\n        * c-pragma.c (mark_align_stack): New.\n        (init_pragma): New.\n        * c-pragma.h (init_pragma): Declare it.\n        * c-lex.c (init_parse): Call it.\n\nFrom-SVN: r29502", "tree": {"sha": "873184a4e65c4fe3544f6b4689d5bacb6ebed1d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/873184a4e65c4fe3544f6b4689d5bacb6ebed1d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/568767a62c1e147235e0645fe96beb533967add2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/568767a62c1e147235e0645fe96beb533967add2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/568767a62c1e147235e0645fe96beb533967add2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/568767a62c1e147235e0645fe96beb533967add2/comments", "author": null, "committer": null, "parents": [{"sha": "4a8021dcbd74197687a44a47e590580851eaf831", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a8021dcbd74197687a44a47e590580851eaf831", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a8021dcbd74197687a44a47e590580851eaf831"}], "stats": {"total": 35, "additions": 35, "deletions": 0}, "files": [{"sha": "c17bf4e4866e62bdf7a948482d457f4cbf696274", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/568767a62c1e147235e0645fe96beb533967add2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/568767a62c1e147235e0645fe96beb533967add2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=568767a62c1e147235e0645fe96beb533967add2", "patch": "@@ -1,3 +1,10 @@\n+Sat Sep 18 11:52:43 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* c-pragma.c (mark_align_stack): New.\n+\t(init_pragma): New.\n+\t* c-pragma.h (init_pragma): Declare it.\n+\t* c-lex.c (init_parse): Call it.\n+\n Sat Sep 18 15:20:38 1999  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>\n \n \t* configure.in: Pick up thread library on Solaris/x86 just"}, {"sha": "bd171abe248382265ec8514e5f2ab49c9eedab42", "filename": "gcc/c-lex.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/568767a62c1e147235e0645fe96beb533967add2/gcc%2Fc-lex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/568767a62c1e147235e0645fe96beb533967add2/gcc%2Fc-lex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-lex.c?ref=568767a62c1e147235e0645fe96beb533967add2", "patch": "@@ -254,6 +254,7 @@ init_parse (filename)\n #endif\n \n   init_lex ();\n+  init_pragma ();\n \n   return filename;\n }"}, {"sha": "ba0c83673908d3fcd4792067bbc4031deaa31a60", "filename": "gcc/c-pragma.c", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/568767a62c1e147235e0645fe96beb533967add2/gcc%2Fc-pragma.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/568767a62c1e147235e0645fe96beb533967add2/gcc%2Fc-pragma.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-pragma.c?ref=568767a62c1e147235e0645fe96beb533967add2", "patch": "@@ -512,3 +512,27 @@ handle_pragma_token (string, token)\n   return 1;\n }\n #endif /* HANDLE_GENERIC_PRAGMAS */\n+\f\n+#ifdef HANDLE_PRAGMA_PACK_PUSH_POP\n+static void\n+mark_align_stack (p)\n+    void *p;\n+{\n+  align_stack *a = (align_stack *) p;\n+\n+  while (a)\n+    {\n+      ggc_mark_tree (a->id);\n+      a = a->prev;\n+    }\n+}\n+#endif\n+\n+void\n+init_pragma ()\n+{\n+#ifdef HANDLE_PRAGMA_PACK_PUSH_POP\n+  ggc_add_root (&alignment_stack, 1, sizeof(alignment_stack),\n+\t\tmark_align_stack);\n+#endif\n+}"}, {"sha": "0fbf77cb2ac5dace307b00a545e67212637f7884", "filename": "gcc/c-pragma.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/568767a62c1e147235e0645fe96beb533967add2/gcc%2Fc-pragma.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/568767a62c1e147235e0645fe96beb533967add2/gcc%2Fc-pragma.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-pragma.h?ref=568767a62c1e147235e0645fe96beb533967add2", "patch": "@@ -98,4 +98,7 @@ enum pragma_state\n extern int handle_pragma_token PROTO((const char *, tree));\n \n #endif /* HANDLE_GENERIC_PRAGMAS */\n+\n+extern void init_pragma PROTO((void));\n+\n #endif /* _C_PRAGMA_H */"}]}