{"sha": "52529158ea7d7b80ea578218c9a03d8ff6f3b0d1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTI1MjkxNThlYTdkN2I4MGVhNTc4MjE4YzlhMDNkOGZmNmYzYjBkMQ==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1996-01-22T23:40:12Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1996-01-22T23:40:12Z"}, "message": "cppexp.c (cpp_parse_expr): Set HAVE_VALUE flag for unary minus, even if skip_evaluation is true.\n\n* cppexp.c (cpp_parse_expr):  Set HAVE_VALUE flag for unary\nminus, even if skip_evaluation is true.\n\nFrom-SVN: r11085", "tree": {"sha": "4c610bc58db5e76780f98f3717af42208fbd3b73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4c610bc58db5e76780f98f3717af42208fbd3b73"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/52529158ea7d7b80ea578218c9a03d8ff6f3b0d1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52529158ea7d7b80ea578218c9a03d8ff6f3b0d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52529158ea7d7b80ea578218c9a03d8ff6f3b0d1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52529158ea7d7b80ea578218c9a03d8ff6f3b0d1/comments", "author": null, "committer": null, "parents": [{"sha": "de5529c85d637022659a8581f854ae81230f069a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de5529c85d637022659a8581f854ae81230f069a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de5529c85d637022659a8581f854ae81230f069a"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "043098a43dfbdf7e9b8cc9b70e23adf68256e5c9", "filename": "gcc/cppexp.c", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52529158ea7d7b80ea578218c9a03d8ff6f3b0d1/gcc%2Fcppexp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52529158ea7d7b80ea578218c9a03d8ff6f3b0d1/gcc%2Fcppexp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcppexp.c?ref=52529158ea7d7b80ea578218c9a03d8ff6f3b0d1", "patch": "@@ -279,7 +279,7 @@ static struct token tokentab2[] = {\n \n struct operation\n cpp_lex (pfile)\n-cpp_reader *pfile;\n+     cpp_reader *pfile;\n {\n   register int c;\n   register int namelen;\n@@ -793,11 +793,10 @@ cpp_parse_expr (pfile)\n \t\t}\n \t      break;\n \t    case '-':\n-\t      if (skip_evaluation) ;\t/* do nothing */\n-\t      else if (!(top->flags & HAVE_VALUE))\n+\t      if (!(top->flags & HAVE_VALUE))\n \t\t{ /* Unary '-' */\n \t\t  top->value = - v2;\n-\t\t  if ((top->value & v2) < 0 && ! unsigned2)\n+\t\t  if (!skip_evaluation && (top->value & v2) < 0 && !unsigned2)\n \t\t    integer_overflow (pfile);\n \t\t  top->unsignedp = unsigned2;\n \t\t  top->flags |= HAVE_VALUE;\n@@ -806,7 +805,7 @@ cpp_parse_expr (pfile)\n \t\t{ /* Binary '-' */\n \t\t  top->value = v1 - v2;\n \t\t  top->unsignedp = unsigned1 || unsigned2;\n-\t\t  if (! top->unsignedp\n+\t\t  if (! top->unsignedp && ! skip_evaluation\n \t\t      && ! possible_sum_sign (top->value, v2, v1))\n \t\t    integer_overflow (pfile);\n \t\t}"}]}