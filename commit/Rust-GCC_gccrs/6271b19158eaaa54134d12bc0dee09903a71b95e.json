{"sha": "6271b19158eaaa54134d12bc0dee09903a71b95e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjI3MWIxOTE1OGVhYWE1NDEzNGQxMmJjMGRlZTA5OTAzYTcxYjk1ZQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1998-12-08T10:26:36Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1998-12-08T10:26:36Z"}, "message": "c-decl.c (flag_isoc9x): Default off.\n\n        * c-decl.c (flag_isoc9x): Default off.\n        (c_decode_option): Kill -std=gnu, add -std=gnu89 and -std=gnu9x.\n        * cccp.c (print_help, main): Likewise.\n        * gcc.c (default_compilers): Update for -std=gnu*.\n\nFrom-SVN: r24186", "tree": {"sha": "30264eb9cb9687ecf230e615a5c6e5c4b0f3a722", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/30264eb9cb9687ecf230e615a5c6e5c4b0f3a722"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6271b19158eaaa54134d12bc0dee09903a71b95e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6271b19158eaaa54134d12bc0dee09903a71b95e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6271b19158eaaa54134d12bc0dee09903a71b95e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6271b19158eaaa54134d12bc0dee09903a71b95e/comments", "author": null, "committer": null, "parents": [{"sha": "f454109fab84bbf19dfdaed3a415f5902398aa2c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f454109fab84bbf19dfdaed3a415f5902398aa2c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f454109fab84bbf19dfdaed3a415f5902398aa2c"}], "stats": {"total": 49, "additions": 33, "deletions": 16}, "files": [{"sha": "97a53607fd3456b57ab93dd230393fd91e5004bb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6271b19158eaaa54134d12bc0dee09903a71b95e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6271b19158eaaa54134d12bc0dee09903a71b95e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6271b19158eaaa54134d12bc0dee09903a71b95e", "patch": "@@ -1,3 +1,10 @@\n+Tue Dec  8 10:23:52 1998  Richard Henderson  <rth@cygnus.com>\n+\n+\t* c-decl.c (flag_isoc9x): Default off.\n+\t(c_decode_option): Kill -std=gnu, add -std=gnu89 and -std=gnu9x.\n+\t* cccp.c (print_help, main): Likewise.\n+\t* gcc.c (default_compilers): Update for -std=gnu*.\n+\n Tue Dec  8 01:14:46 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* Makefile.in (DEMANGLE_H): Change location to shared demangle.h."}, {"sha": "7e10ab4b5a70b202c84f0564b33e1c41b7cf5ed3", "filename": "gcc/c-decl.c", "status": "modified", "additions": 12, "deletions": 3, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6271b19158eaaa54134d12bc0dee09903a71b95e/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6271b19158eaaa54134d12bc0dee09903a71b95e/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=6271b19158eaaa54134d12bc0dee09903a71b95e", "patch": "@@ -470,7 +470,7 @@ int flag_traditional;\n \n /* Nonzero means use the ISO C9x dialect of C.  */\n \n-int flag_isoc9x = 1;\n+int flag_isoc9x = 0;\n \n /* Nonzero means that we have builtin functions, and main is an int */\n \n@@ -657,11 +657,12 @@ c_decode_option (argc, argv)\n       /* Select the appropriate language standard.  We currently\n \t recognize:\n \t -std=iso9899:1990\tsame as -ansi\n-\t -std=gnu\t\tdefault\n \t -std=iso9899:199409\tISO C as modified in amend. 1\n \t -std=iso9899:199x\tISO C 9x\n \t -std=c89\t\tsame as -std=iso9899:1990\n \t -std=c9x\t\tsame as -std=iso9899:199x\n+\t -std=gnu89\t\tdefault, iso9899:1990 + gnu extensions\n+\t -std=gnu9x\t\tiso9899:199x + gnu extensions\n       */\n       const char *argstart = &p[5];\n \n@@ -689,7 +690,15 @@ c_decode_option (argc, argv)\n \t  flag_no_nonansi_builtin = 1;\n \t  flag_isoc9x = 1;\n \t}\n-      else if (!strcmp (argstart, \"gnu\"))\n+      else if (!strcmp (argstart, \"gnu89\"))\n+\t{\n+\t  flag_traditional = 0;\n+\t  flag_writable_strings = 0;\n+\t  flag_no_asm = 0;\n+\t  flag_no_nonansi_builtin = 0;\n+\t  flag_isoc9x = 0;\n+\t}\n+      else if (!strcmp (argstart, \"gnu9x\"))\n \t{\n \t  flag_traditional = 0;\n \t  flag_writable_strings = 0;"}, {"sha": "8cbb1214ffdee6dcac815ca0cc905c2be48836ba", "filename": "gcc/cccp.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6271b19158eaaa54134d12bc0dee09903a71b95e/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6271b19158eaaa54134d12bc0dee09903a71b95e/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=6271b19158eaaa54134d12bc0dee09903a71b95e", "patch": "@@ -1176,7 +1176,7 @@ print_help ()\n   printf (\"  -lang-asm                 Assume that the input sources are in assembler\\n\");\n   printf (\"  -lang-chill               Assume that the input sources are in Chill\\n\");\n   printf (\"  -std=<std name>           Specify the conformance standard; one of:\\n\");\n-  printf (\"                            gnu, c89, c9x, iso9899:1990,\\n\");\n+  printf (\"                            gnu89, gnu9x, c89, c9x, iso9899:1990,\\n\");\n   printf (\"                            iso9899:199409, iso9899:199x\\n\");\n   printf (\"  -+                        Allow parsing of C++ style features\\n\");\n   printf (\"  -w                        Inhibit warning messages\\n\");\n@@ -1498,11 +1498,12 @@ main (argc, argv)\n       case 's':\n \tif (!strcmp (argv[i], \"-std=iso9899:1990\")\n \t    || !strcmp (argv[i], \"-std=iso9899:199409\")\n-\t    || !strcmp (argv[i], \"-std=c89\"))\n+\t    || !strcmp (argv[i], \"-std=c89\")\n+\t    || !strcmp (argv[i], \"-std=gnu89\"))\n \t  cplusplus = 0, cplusplus_comments = 0, c89 = 1, c9x = 0, objc = 0;\n         else if (!strcmp (argv[i], \"-std=iso9899:199x\")\n \t\t || !strcmp (argv[i], \"-std=c9x\")\n-\t\t || !strcmp (argv[i], \"-std=gnu\"))\n+\t\t || !strcmp (argv[i], \"-std=gnu9x\"))\n \t  cplusplus = 0, cplusplus_comments = 1, c89 = 0, c9x = 1, objc = 0;\n \tbreak;\n "}, {"sha": "259d01ec6e08f4cfdd760a4052d9d69cfe9478e3", "filename": "gcc/gcc.c", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6271b19158eaaa54134d12bc0dee09903a71b95e/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6271b19158eaaa54134d12bc0dee09903a71b95e/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=6271b19158eaaa54134d12bc0dee09903a71b95e", "patch": "@@ -586,8 +586,8 @@ static struct compiler default_compilers[] =\n \t%{C:%{!E:%eGNU C does not support -C without using -E}}\\\n \t%{M} %{MM} %{MD:-MD %b.d} %{MMD:-MMD %b.d} %{MG}\\\n         -undef -D__GNUC__=%v1 -D__GNUC_MINOR__=%v2\\\n-\t%{ansi|std=*:%{!std=gnu:-trigraphs -D__STRICT_ANSI__}}\\\n-\t%{!undef:%{!ansi:%{!std=*:%p}%{std=gnu:%p}} %P} %{trigraphs}\\\n+\t%{ansi|std=*:%{!std=gnu*:-trigraphs -D__STRICT_ANSI__}}\\\n+\t%{!undef:%{!ansi:%{!std=*:%p}%{std=gnu*:%p}} %P} %{trigraphs}\\\n         %c %{Os:-D__OPTIMIZE_SIZE__} %{O*:%{!O0:-D__OPTIMIZE__}}\\\n         %{traditional} %{ftraditional:-traditional}\\\n         %{traditional-cpp:-traditional}\\\n@@ -599,8 +599,8 @@ static struct compiler default_compilers[] =\n                   %{!Q:-quiet} -dumpbase %b.c %{d*} %{m*} %{a*}\\\n                   %{MD:-MD %b.d} %{MMD:-MMD %b.d} %{MG}\\\n                   -undef -D__GNUC__=%v1 -D__GNUC_MINOR__=%v2\\\n-\t\t  %{ansi|std=*:%{!std=gnu:-trigraphs -D__STRICT_ANSI__}}\\\n-\t\t  %{!undef:%{!ansi:%{!std=*:%p}%{std=gnu:%p}} %P} %{trigraphs}\\\n+\t\t  %{ansi|std=*:%{!std=gnu*:-trigraphs -D__STRICT_ANSI__}}\\\n+\t\t  %{!undef:%{!ansi:%{!std=*:%p}%{std=gnu*:%p}} %P} %{trigraphs}\\\n                   %c %{Os:-D__OPTIMIZE_SIZE__} %{O*:%{!O0:-D__OPTIMIZE__}}\\\n                   %{H} %C %{D*} %{U*} %{i*} %Z\\\n                   %{ftraditional:-traditional}\\\n@@ -621,8 +621,8 @@ static struct compiler default_compilers[] =\n \t%{C:%{!E:%eGNU C does not support -C without using -E}}\\\n \t%{M} %{MM} %{MD:-MD %b.d} %{MMD:-MMD %b.d} %{MG}\\\n         -undef -D__GNUC__=%v1 -D__GNUC_MINOR__=%v2\\\n-\t%{ansi|std=*:%{!std=gnu:-trigraphs -D__STRICT_ANSI__}}\\\n-\t%{!undef:%{!ansi:%{!std=*:%p}%{std=gnu:%p}} %P} %{trigraphs}\\\n+\t%{ansi|std=*:%{!std=gnu*:-trigraphs -D__STRICT_ANSI__}}\\\n+\t%{!undef:%{!ansi:%{!std=*:%p}%{std=gnu*:%p}} %P} %{trigraphs}\\\n         %c %{Os:-D__OPTIMIZE_SIZE__} %{O*:%{!O0:-D__OPTIMIZE__}}\\\n         %{traditional} %{ftraditional:-traditional}\\\n         %{traditional-cpp:-traditional}\\\n@@ -648,8 +648,8 @@ static struct compiler default_compilers[] =\n \t%{C:%{!E:%eGNU C does not support -C without using -E}}\\\n \t%{M} %{MM} %{MD:-MD %b.d} %{MMD:-MMD %b.d} %{MG}\\\n         -undef -D__GNUC__=%v1 -D__GNUC_MINOR__=%v2\\\n-\t%{ansi|std=*:%{!std=gnu:-trigraphs -D__STRICT_ANSI__}}\\\n-\t%{!undef:%{!ansi:%{!std=*:%p}%{std=gnu:%p}} %P} %{trigraphs}\\\n+\t%{ansi|std=*:%{!std=gnu*:-trigraphs -D__STRICT_ANSI__}}\\\n+\t%{!undef:%{!ansi:%{!std=*:%p}%{std=gnu*:%p}} %P} %{trigraphs}\\\n         %c %{Os:-D__OPTIMIZE_SIZE__} %{O*:%{!O0:-D__OPTIMIZE__}}\\\n         %{traditional} %{ftraditional:-traditional}\\\n         %{traditional-cpp:-traditional}\\\n@@ -664,8 +664,8 @@ static struct compiler default_compilers[] =\n \t%{C:%{!E:%eGNU C does not support -C without using -E}}\\\n \t %{M} %{MM} %{MD:-MD %b.d} %{MMD:-MMD %b.d} %{MG}\\\n         -undef -D__GNUC__=%v1 -D__GNUC_MINOR__=%v2\\\n-\t%{std=*:%{!std=gnu:-trigraphs -D__STRICT_ANSI__}}\\\n-\t%{!undef:%{!std=*:%p}%{std=gnu:%p} %P} %{trigraphs}\\\n+\t%{std=*:%{!std=gnu*:-trigraphs -D__STRICT_ANSI__}}\\\n+\t%{!undef:%{!std=*:%p}%{std=gnu*:%p} %P} %{trigraphs}\\\n         %c %{Os:-D__OPTIMIZE_SIZE__} %{O*:%{!O0:-D__OPTIMIZE__}}\\\n         %{traditional} %{ftraditional:-traditional}\\\n         %{traditional-cpp:-traditional}\\"}]}