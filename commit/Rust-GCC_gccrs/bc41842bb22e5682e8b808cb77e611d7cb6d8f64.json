{"sha": "bc41842bb22e5682e8b808cb77e611d7cb6d8f64", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmM0MTg0MmJiMjJlNTY4MmU4YjgwOGNiNzdlNjExZDdjYjZkOGY2NA==", "commit": {"author": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2004-02-29T14:07:44Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2004-02-29T14:07:44Z"}, "message": "[multiple changes]\n\n2004-02-29  Waldek Hebisch  <hebisch@math.uni.wroc.pl>\n\n\tPR middle-end/14203\n\t* function.c (uninitialized_vars_warning): Use DECL_RTL_SET_P\n\tinstead of testing whether DECL_RTL is not NULL.\n\n2004-02-29  Roger Sayle  <roger@eyesopen.com>\n\n\tPR middle-end/14203\n\t* g++.dg/warn/Wunused-6.C: New test case.\n\nFrom-SVN: r78648", "tree": {"sha": "357716b9392e3994c718f459d97bc805a5894b34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/357716b9392e3994c718f459d97bc805a5894b34"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bc41842bb22e5682e8b808cb77e611d7cb6d8f64", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc41842bb22e5682e8b808cb77e611d7cb6d8f64", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bc41842bb22e5682e8b808cb77e611d7cb6d8f64", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc41842bb22e5682e8b808cb77e611d7cb6d8f64/comments", "author": null, "committer": null, "parents": [{"sha": "8b425082620f9718aa9ac08fe3145c44eb8cad94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b425082620f9718aa9ac08fe3145c44eb8cad94", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b425082620f9718aa9ac08fe3145c44eb8cad94"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "dae31a0922e3d5af5821882b0c8ac15756da19d7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc41842bb22e5682e8b808cb77e611d7cb6d8f64/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc41842bb22e5682e8b808cb77e611d7cb6d8f64/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bc41842bb22e5682e8b808cb77e611d7cb6d8f64", "patch": "@@ -1,3 +1,9 @@\n+2004-02-29  Waldek Hebisch  <hebisch@math.uni.wroc.pl>\n+\n+\tPR middle-end/14203\n+\t* function.c (uninitialized_vars_warning): Use DECL_RTL_SET_P\n+\tinstead of testing whether DECL_RTL is not NULL.\n+\n 2004-02-28  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/sh/sh.c: Fix formatting."}, {"sha": "623f78cc4cd54531a44490b5035b4aeaf64d71f5", "filename": "gcc/function.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc41842bb22e5682e8b808cb77e611d7cb6d8f64/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc41842bb22e5682e8b808cb77e611d7cb6d8f64/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=bc41842bb22e5682e8b808cb77e611d7cb6d8f64", "patch": "@@ -5702,7 +5702,7 @@ uninitialized_vars_warning (tree block)\n \t     flow.c that the entire aggregate was initialized.\n \t     Unions are troublesome because members may be shorter.  */\n \t  && ! AGGREGATE_TYPE_P (TREE_TYPE (decl))\n-\t  && DECL_RTL (decl) != 0\n+\t  && DECL_RTL_SET_P (decl)\n \t  && GET_CODE (DECL_RTL (decl)) == REG\n \t  /* Global optimizations can make it difficult to determine if a\n \t     particular variable has been initialized.  However, a VAR_DECL\n@@ -5717,7 +5717,7 @@ uninitialized_vars_warning (tree block)\n \t\t decl, decl);\n       if (extra_warnings\n \t  && TREE_CODE (decl) == VAR_DECL\n-\t  && DECL_RTL (decl) != 0\n+\t  && DECL_RTL_SET_P (decl)\n \t  && GET_CODE (DECL_RTL (decl)) == REG\n \t  && regno_clobbered_at_setjmp (REGNO (DECL_RTL (decl))))\n \twarning (\"%Jvariable '%D' might be clobbered by `longjmp' or `vfork'\","}, {"sha": "1b768d0273318d41b399aadbd7d317f81895471d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc41842bb22e5682e8b808cb77e611d7cb6d8f64/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc41842bb22e5682e8b808cb77e611d7cb6d8f64/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bc41842bb22e5682e8b808cb77e611d7cb6d8f64", "patch": "@@ -1,3 +1,8 @@\n+2004-02-29  Roger Sayle  <roger@eyesopen.com>\n+\n+\tPR middle-end/14203\n+\t* g++.dg/warn/Wunused-6.C: New test case.\n+\n 2004-02-28  Richard Earnshaw  <rearnsha@arm.com>\n \n \t* lib/g++.exp (g++_link_flags): Don't crash if LD_LIBRARY_PATH is"}, {"sha": "58a3f642bc34dfc7dbcd9d7f1498fb4af8c6c21c", "filename": "gcc/testsuite/g++.dg/warn/Wunused-6.C", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc41842bb22e5682e8b808cb77e611d7cb6d8f64/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2FWunused-6.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc41842bb22e5682e8b808cb77e611d7cb6d8f64/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2FWunused-6.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2FWunused-6.C?ref=bc41842bb22e5682e8b808cb77e611d7cb6d8f64", "patch": "@@ -0,0 +1,11 @@\n+/* PR middle-end/14203 */\n+/* { dg-do compile } */\n+/* { dg-options \"-Wall\" } */\n+\n+void foo()\n+{\n+  if (false)\n+    if (int i=0)  // { dg-warning \"unused\" \"\" }\n+      int j=0;    // { dg-warning \"unused\" \"\" }\n+}\n+"}]}