{"sha": "8714cbc5c7ebd974538feca6bef64f6578d316e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODcxNGNiYzVjN2ViZDk3NDUzOGZlY2E2YmVmNjRmNjU3OGQzMTZlOA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2014-08-20T02:03:56Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2014-08-20T02:03:56Z"}, "message": "re PR tree-optimization/62091 (ice in before_dom_children)\n\n\tPR tree-optimization/62091\n\t* g++.dg/ipa/devirt-39.C: New.\n\nFrom-SVN: r214209", "tree": {"sha": "87231b5ea52c244ea336396a228a83023ff93db3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/87231b5ea52c244ea336396a228a83023ff93db3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8714cbc5c7ebd974538feca6bef64f6578d316e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8714cbc5c7ebd974538feca6bef64f6578d316e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8714cbc5c7ebd974538feca6bef64f6578d316e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8714cbc5c7ebd974538feca6bef64f6578d316e8/comments", "author": null, "committer": null, "parents": [{"sha": "7351b44f2526105f11683511a658b5c3be521c4e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7351b44f2526105f11683511a658b5c3be521c4e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7351b44f2526105f11683511a658b5c3be521c4e"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "050b1d3055185bbddb9b6ea5b7cd1e2a7abd4d83", "filename": "gcc/testsuite/g++.dg/ipa/devirt-39.C", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8714cbc5c7ebd974538feca6bef64f6578d316e8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fdevirt-39.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8714cbc5c7ebd974538feca6bef64f6578d316e8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fdevirt-39.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fdevirt-39.C?ref=8714cbc5c7ebd974538feca6bef64f6578d316e8", "patch": "@@ -0,0 +1,29 @@\n+// PR c++/61214\n+/* { dg-options \"-O2 -fdump-tree-optimized\"  } */\n+\n+struct Base\n+{\n+  virtual ~Base();\n+  virtual Base* clone() {\n+    return 0;\n+  }\n+};\n+\n+struct Foo : Base\n+{\n+  virtual ~Foo();\n+  virtual Base* clone() {\n+    return new Foo();\n+  }\n+};\n+\n+int main()\n+{\n+  Base* f = new Foo();\n+  f->clone();\n+  return 0;\n+}\n+\n+/* { dg-final { scan-tree-dump-not \"OBJ_TYPE_REF\" \"optimized\"  } } */\n+/* { dg-final { scan-assembler-not \"_ZN3Foo5cloneEv\" } } */\n+/* { dg-final { cleanup-tree-dump \"optimized\" } } */"}]}