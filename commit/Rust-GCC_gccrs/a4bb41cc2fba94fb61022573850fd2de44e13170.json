{"sha": "a4bb41cc2fba94fb61022573850fd2de44e13170", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTRiYjQxY2MyZmJhOTRmYjYxMDIyNTczODUwZmQyZGU0NGUxMzE3MA==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2004-01-27T02:59:35Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2004-01-27T02:59:35Z"}, "message": "h8300.c (h8300_tiny_constant_address_p): Use a switch statement instead of a chain of if statements.\n\n\t* config/h8300/h8300.c (h8300_tiny_constant_address_p): Use a\n\tswitch statement instead of a chain of if statements.\n\nFrom-SVN: r76689", "tree": {"sha": "8ba13af01a12bed167b4e1db0667ac89ff45589c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ba13af01a12bed167b4e1db0667ac89ff45589c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a4bb41cc2fba94fb61022573850fd2de44e13170", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4bb41cc2fba94fb61022573850fd2de44e13170", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a4bb41cc2fba94fb61022573850fd2de44e13170", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4bb41cc2fba94fb61022573850fd2de44e13170/comments", "author": null, "committer": null, "parents": [{"sha": "ffcec5c8324a55d5d0a3e80c08abfcee7b24df87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffcec5c8324a55d5d0a3e80c08abfcee7b24df87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ffcec5c8324a55d5d0a3e80c08abfcee7b24df87"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "b9e9d5711498e3a3a7f4e06b120f29ca007a6373", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4bb41cc2fba94fb61022573850fd2de44e13170/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4bb41cc2fba94fb61022573850fd2de44e13170/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a4bb41cc2fba94fb61022573850fd2de44e13170", "patch": "@@ -1,3 +1,8 @@\n+2004-01-26  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* config/h8300/h8300.c (h8300_tiny_constant_address_p): Accept\n+\tconstant addresses in the normal mode.\n+\n 2004-01-26  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* system.h (CHAR_BITFIELD): Delete."}, {"sha": "7f027b2ed86ee28457472a4fa27ad4b461f5a132", "filename": "gcc/config/h8300/h8300.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4bb41cc2fba94fb61022573850fd2de44e13170/gcc%2Fconfig%2Fh8300%2Fh8300.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4bb41cc2fba94fb61022573850fd2de44e13170/gcc%2Fconfig%2Fh8300%2Fh8300.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.c?ref=a4bb41cc2fba94fb61022573850fd2de44e13170", "patch": "@@ -4437,8 +4437,11 @@ h8300_tiny_constant_address_p (rtx x)\n   switch (GET_CODE (x))\n     {\n     case SYMBOL_REF:\n-      /* We accept symbols declared with tiny_data.  */\n-      return (SYMBOL_REF_FLAGS (x) & SYMBOL_FLAG_TINY_DATA) != 0;\n+      /* In the normal mode, any symbol fits in the 16-bit absolute\n+\t address range.  We also accept symbols declared with\n+\t tiny_data.  */\n+      return (TARGET_NORMAL_MODE\n+\t      || (SYMBOL_REF_FLAGS (x) & SYMBOL_FLAG_TINY_DATA) != 0);\n \n     case CONST_INT:\n       addr = INTVAL (x);\n@@ -4448,6 +4451,9 @@ h8300_tiny_constant_address_p (rtx x)\n \t      || (TARGET_H8300S\n \t\t  && (IN_RANGE (addr, s1, s2) || IN_RANGE (addr, s3, s4))));\n \n+    case CONST:\n+      return TARGET_NORMAL_MODE;\n+\n     default:\n       return 0;\n     }"}]}