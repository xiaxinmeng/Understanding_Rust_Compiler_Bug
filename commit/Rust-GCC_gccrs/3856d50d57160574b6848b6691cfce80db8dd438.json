{"sha": "3856d50d57160574b6848b6691cfce80db8dd438", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzg1NmQ1MGQ1NzE2MDU3NGI2ODQ4YjY2OTFjZmNlODBkYjhkZDQzOA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2015-11-21T08:24:13Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2015-11-21T08:24:13Z"}, "message": "re PR debug/66432 (libgomp.c/appendix-a/a.29.1.c -O2 -g: type mismatch between an SSA_NAME and its symbol)\n\n\tPR debug/66432\n\t* tree-inline.c (copy_debug_stmt): If\n\tgimple_debug_source_bind_get_value is DECL_ORIGIN of a PARM_DECL\n\tin decl_debug_args, don't call remap_gimple_op_r on it.\n\n\t* gcc.dg/debug/pr66432.c: New test.\n\nFrom-SVN: r230702", "tree": {"sha": "42bc6c290411588a59e520cb9ff7360e274fcf45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/42bc6c290411588a59e520cb9ff7360e274fcf45"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3856d50d57160574b6848b6691cfce80db8dd438", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3856d50d57160574b6848b6691cfce80db8dd438", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3856d50d57160574b6848b6691cfce80db8dd438", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3856d50d57160574b6848b6691cfce80db8dd438/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3b58931386d0a48e613b694424aa5d1668e5e647", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b58931386d0a48e613b694424aa5d1668e5e647", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b58931386d0a48e613b694424aa5d1668e5e647"}], "stats": {"total": 38, "additions": 35, "deletions": 3}, "files": [{"sha": "9bc928f1cf0994380cd7da763a9b237b32b8a2dc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3856d50d57160574b6848b6691cfce80db8dd438/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3856d50d57160574b6848b6691cfce80db8dd438/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3856d50d57160574b6848b6691cfce80db8dd438", "patch": "@@ -1,3 +1,10 @@\n+2015-11-21  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR debug/66432\n+\t* tree-inline.c (copy_debug_stmt): If\n+\tgimple_debug_source_bind_get_value is DECL_ORIGIN of a PARM_DECL\n+\tin decl_debug_args, don't call remap_gimple_op_r on it.\n+\n 2015-11-07  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* ipa-icf.c (sem_item::add_type): Do not look for TYPE_CANONICAL;"}, {"sha": "8eaa6574829687cac89f7905d47b0d7da576277c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3856d50d57160574b6848b6691cfce80db8dd438/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3856d50d57160574b6848b6691cfce80db8dd438/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3856d50d57160574b6848b6691cfce80db8dd438", "patch": "@@ -1,3 +1,8 @@\n+2015-11-21  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR debug/66432\n+\t* gcc.dg/debug/pr66432.c: New test.\n+\n 2015-11-20  Ian Lance Taylor  <iant@google.com>\n \n \tPR go/66406"}, {"sha": "cf36799f3aaacde5af0eb276d0b00d7f74e54c72", "filename": "gcc/testsuite/gcc.dg/debug/pr66432.c", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3856d50d57160574b6848b6691cfce80db8dd438/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fpr66432.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3856d50d57160574b6848b6691cfce80db8dd438/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fpr66432.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fpr66432.c?ref=3856d50d57160574b6848b6691cfce80db8dd438", "patch": "@@ -0,0 +1,19 @@\n+/* PR debug/66432 */\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -g\" } */\n+\n+extern void baz (const char *, const char *) __attribute__ ((__noreturn__));\n+\n+void\n+foo (int x, int y[x][x])\n+{\n+  if (x < 2)\n+    baz (\"\", \"\");\n+}\n+\n+void\n+bar (void)\n+{\n+  int z[2][2] = { { 1, 2 }, { 3, 4 } };\n+  foo (2, z);\n+}"}, {"sha": "ebab1898fad4ab1d751830a3b2248a8ea376b731", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3856d50d57160574b6848b6691cfce80db8dd438/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3856d50d57160574b6848b6691cfce80db8dd438/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=3856d50d57160574b6848b6691cfce80db8dd438", "patch": "@@ -2864,8 +2864,6 @@ copy_debug_stmt (gdebug *stmt, copy_body_data *id)\n   else if (gimple_debug_source_bind_p (stmt))\n     {\n       gimple_debug_source_bind_set_var (stmt, t);\n-      walk_tree (gimple_debug_source_bind_get_value_ptr (stmt),\n-\t\t remap_gimple_op_r, &wi, NULL);\n       /* When inlining and source bind refers to one of the optimized\n \t away parameters, change the source bind into normal debug bind\n \t referring to the corresponding DEBUG_EXPR_DECL that should have\n@@ -2889,7 +2887,10 @@ copy_debug_stmt (gdebug *stmt, copy_body_data *id)\n \t\t    break;\n \t\t  }\n \t    }\n-\t}      \n+\t}\n+      if (gimple_debug_source_bind_p (stmt))\n+\twalk_tree (gimple_debug_source_bind_get_value_ptr (stmt),\n+\t\t   remap_gimple_op_r, &wi, NULL);\n     }\n \n   processing_debug_stmt = 0;"}]}