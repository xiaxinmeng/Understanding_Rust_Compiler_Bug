{"sha": "cf5c6c8d3188c8e422a0baa1059adc457795b075", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2Y1YzZjOGQzMTg4YzhlNDIyYTBiYWExMDU5YWRjNDU3Nzk1YjA3NQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2004-11-09T12:49:20Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2004-11-09T12:49:20Z"}, "message": "locale_facets.tcc (time_get<>::do_get_weekday, [...]): Absolutely avoid dereferencing end iterators.\n\n2004-11-09  Paolo Carlini  <pcarlini@suse.de>\n\n\t* include/bits/locale_facets.tcc (time_get<>::do_get_weekday,\n\ttime_get<>::do_get_monthname): Absolutely avoid dereferencing\n\tend iterators.\n\n\t* include/bits/locale_facets.tcc (time_get<>::_M_extract_name):\n\tMinor tweak.\n\nFrom-SVN: r90341", "tree": {"sha": "e371e0fec1359af2d0f574677dbc34f831d2602e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e371e0fec1359af2d0f574677dbc34f831d2602e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cf5c6c8d3188c8e422a0baa1059adc457795b075", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf5c6c8d3188c8e422a0baa1059adc457795b075", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf5c6c8d3188c8e422a0baa1059adc457795b075", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf5c6c8d3188c8e422a0baa1059adc457795b075/comments", "author": null, "committer": null, "parents": [{"sha": "37d060a3abc5836a0207dd6968ebadf9c79abdc2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37d060a3abc5836a0207dd6968ebadf9c79abdc2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37d060a3abc5836a0207dd6968ebadf9c79abdc2"}], "stats": {"total": 28, "additions": 18, "deletions": 10}, "files": [{"sha": "3cace9cc94a08ef6b1fa5f1230bac491f9409e8f", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf5c6c8d3188c8e422a0baa1059adc457795b075/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf5c6c8d3188c8e422a0baa1059adc457795b075/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=cf5c6c8d3188c8e422a0baa1059adc457795b075", "patch": "@@ -1,3 +1,12 @@\n+2004-11-09  Paolo Carlini  <pcarlini@suse.de>\n+\n+\t* include/bits/locale_facets.tcc (time_get<>::do_get_weekday,\n+\ttime_get<>::do_get_monthname): Absolutely avoid dereferencing\n+\tend iterators.\n+\n+\t* include/bits/locale_facets.tcc (time_get<>::_M_extract_name):\n+\tMinor tweak.\t\n+\n 2004-11-08  Benjamin Kosnik  <bkoz@redhat.com>\n \t    Doug Gregor  <dgregor@cs.indiana.edu>\n "}, {"sha": "821697807e305d5b67ef9e83e095a64efb031238", "filename": "libstdc++-v3/include/bits/locale_facets.tcc", "status": "modified", "additions": 9, "deletions": 10, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf5c6c8d3188c8e422a0baa1059adc457795b075/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf5c6c8d3188c8e422a0baa1059adc457795b075/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc?ref=cf5c6c8d3188c8e422a0baa1059adc457795b075", "patch": "@@ -2043,8 +2043,7 @@ namespace std\n \t  for (size_t __i2 = 1; __i2 < __nmatches; ++__i2)\n \t    __minlen = std::min(__minlen,\n \t\t\t      __traits_type::length(__names[__matches[__i2]]));\n-\t  ++__pos;\n-\t  ++__beg;\n+\t  ++__beg, ++__pos;\n \t  if (__pos < __minlen && __beg != __end)\n \t    for (size_t __i3 = 0; __i3 < __nmatches;)\n \t      {\n@@ -2061,8 +2060,7 @@ namespace std\n       if (__nmatches == 1)\n \t{\n \t  // Make sure found name is completely extracted.\n-\t  ++__pos;\n-\t  ++__beg;\n+\t  ++__beg, ++__pos;\n \t  __name = __names[__matches[0]];\n \t  const size_t __len = __traits_type::length(__name);\n \t  while (__pos < __len && __beg != __end && __name[__pos] == *__beg)\n@@ -2135,7 +2133,7 @@ namespace std\n       // __days array with the same index points to a day, and that\n       // day's abbreviated form.\n       // NB: Also assumes that an abbreviated name is a subset of the name.\n-      if (!__err)\n+      if (!__err && __beg != __end)\n \t{\n \t  size_t __pos = __traits_type::length(__days[__tmpwday]);\n \t  __tp._M_days(__days);\n@@ -2150,9 +2148,10 @@ namespace std\n \t      if (__len != __pos)\n \t\t__err |= ios_base::failbit;\n \t    }\n-\t  if (!__err)\n-\t    __tm->tm_wday = __tmpwday;\n \t}\n+      if (!__err)\n+\t__tm->tm_wday = __tmpwday;\n+      \n       if (__beg == __end)\n \t__err |= ios_base::eofbit;\n       return __beg;\n@@ -2180,7 +2179,7 @@ namespace std\n       // __months array with the same index points to a month, and that\n       // month's abbreviated form.\n       // NB: Also assumes that an abbreviated name is a subset of the name.\n-      if (!__err)\n+      if (!__err && __beg != __end)\n \t{\n \t  size_t __pos = __traits_type::length(__months[__tmpmon]);\n \t  __tp._M_months(__months);\n@@ -2195,9 +2194,9 @@ namespace std\n \t      if (__len != __pos)\n \t\t__err |= ios_base::failbit;\n \t    }\n-\t  if (!__err)\n-\t    __tm->tm_mon = __tmpmon;\n \t}\n+      if (!__err)\n+\t__tm->tm_mon = __tmpmon;\n \n       if (__beg == __end)\n \t__err |= ios_base::eofbit;"}]}