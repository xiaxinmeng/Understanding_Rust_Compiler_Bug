{"sha": "762c279900efedc1407c3c38d98601ddbff575ae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzYyYzI3OTkwMGVmZWRjMTQwN2MzYzM4ZDk4NjAxZGRiZmY1NzVhZQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-03-09T06:37:27Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-03-09T06:37:27Z"}, "message": "compiler: Correct handling of sink receiver.\n\nFrom-SVN: r185127", "tree": {"sha": "922a7743155df167291a1d98f94848408de944ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/922a7743155df167291a1d98f94848408de944ea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/762c279900efedc1407c3c38d98601ddbff575ae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/762c279900efedc1407c3c38d98601ddbff575ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/762c279900efedc1407c3c38d98601ddbff575ae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/762c279900efedc1407c3c38d98601ddbff575ae/comments", "author": null, "committer": null, "parents": [{"sha": "896977b38f006cd69ace34097d1d2ee7e4cfa096", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/896977b38f006cd69ace34097d1d2ee7e4cfa096", "html_url": "https://github.com/Rust-GCC/gccrs/commit/896977b38f006cd69ace34097d1d2ee7e4cfa096"}], "stats": {"total": 5, "additions": 2, "deletions": 3}, "files": [{"sha": "5fe5aead9c0aad556894fa4c4c9e3840195891d2", "filename": "gcc/go/gofrontend/gogo.cc", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/762c279900efedc1407c3c38d98601ddbff575ae/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/762c279900efedc1407c3c38d98601ddbff575ae/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.cc?ref=762c279900efedc1407c3c38d98601ddbff575ae", "patch": "@@ -628,7 +628,7 @@ Gogo::start_function(const std::string& name, Function_type* type,\n       Variable* this_param = new Variable(receiver->type(), NULL, false,\n \t\t\t\t\t  true, true, location);\n       std::string rname = receiver->name();\n-      if (rname.empty())\n+      if (rname.empty() || Gogo::is_sink_name(rname))\n \t{\n \t  // We need to give receivers a name since they wind up in\n \t  // DECL_ARGUMENTS.  FIXME.\n@@ -638,8 +638,7 @@ Gogo::start_function(const std::string& name, Function_type* type,\n \t  ++count;\n \t  rname = buf;\n \t}\n-      if (!Gogo::is_sink_name(rname))\n-\tblock->bindings()->add_variable(rname, NULL, this_param);\n+      block->bindings()->add_variable(rname, NULL, this_param);\n     }\n \n   const Typed_identifier_list* parameters = type->parameters();"}]}