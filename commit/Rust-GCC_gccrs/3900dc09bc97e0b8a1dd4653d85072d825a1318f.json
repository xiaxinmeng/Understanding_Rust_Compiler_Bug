{"sha": "3900dc09bc97e0b8a1dd4653d85072d825a1318f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzkwMGRjMDliYzk3ZTBiOGExZGQ0NjUzZDg1MDcyZDgyNWExMzE4Zg==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1999-03-11T12:44:27Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1999-03-11T12:44:27Z"}, "message": "reload.1c (delete_address_reloads_1): Check for reloads of CURRENT_INSN even if it sets DST.\n\n\t* reload.1c (delete_address_reloads_1):  Check for reloads of\n\tCURRENT_INSN even if it sets DST.\n\nFrom-SVN: r25701", "tree": {"sha": "d5dc2078a5126e9a870d54fbbf5d300d3dc82247", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d5dc2078a5126e9a870d54fbbf5d300d3dc82247"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3900dc09bc97e0b8a1dd4653d85072d825a1318f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3900dc09bc97e0b8a1dd4653d85072d825a1318f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3900dc09bc97e0b8a1dd4653d85072d825a1318f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3900dc09bc97e0b8a1dd4653d85072d825a1318f/comments", "author": null, "committer": null, "parents": [{"sha": "8b790721e4e1a1692efd6e526a92c2b617a6f2a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b790721e4e1a1692efd6e526a92c2b617a6f2a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b790721e4e1a1692efd6e526a92c2b617a6f2a2"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "1b1aa77ca2e9cd9a70356573c16fc1bbcfdd86b1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3900dc09bc97e0b8a1dd4653d85072d825a1318f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3900dc09bc97e0b8a1dd4653d85072d825a1318f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3900dc09bc97e0b8a1dd4653d85072d825a1318f", "patch": "@@ -1,3 +1,8 @@\n+Thu Mar 11 20:37:59 1999  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* reload.1c (delete_address_reloads_1):  Check for reloads of\n+\tCURRENT_INSN even if it sets DST.\n+\n Thu Mar 11 10:29:50 1999  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* dwarf2out.c (add_AT_lbl_offset): Rename from add_AT_section_offset."}, {"sha": "9d13325746470066288d1a1d4809157b6d7c021b", "filename": "gcc/reload1.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3900dc09bc97e0b8a1dd4653d85072d825a1318f/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3900dc09bc97e0b8a1dd4653d85072d825a1318f/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=3900dc09bc97e0b8a1dd4653d85072d825a1318f", "patch": "@@ -8135,10 +8135,9 @@ delete_address_reloads_1 (dead_insn, x, current_insn)\n \t    }\n \t  if (GET_CODE (i2) == JUMP_INSN)\n \t    break;\n-\t  if (reg_set_p (dst, PATTERN (i2)))\n-\t    break;\n \t  /* If DST is still live at CURRENT_INSN, check if it is used for\n-\t     any reload.  */\n+\t     any reload.  Note that even if CURRENT_INSN sets DST, we still\n+\t     have to check the reloads.  */\n \t  if (i2 == current_insn)\n \t    {\n \t      for (j = n_reloads - 1; j >= 0; j--)\n@@ -8151,6 +8150,8 @@ delete_address_reloads_1 (dead_insn, x, current_insn)\n \t\t spill_hard_reg.  There is no easy way to tell this, so we\n \t\t have to scan till the end of the basic block.  */\n \t    }\n+\t  if (reg_set_p (dst, PATTERN (i2)))\n+\t    break;\n \t}\n     }\n   delete_address_reloads_1 (prev, SET_SRC (set), current_insn);"}]}