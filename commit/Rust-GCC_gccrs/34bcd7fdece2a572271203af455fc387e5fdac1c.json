{"sha": "34bcd7fdece2a572271203af455fc387e5fdac1c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzRiY2Q3ZmRlY2UyYTU3MjI3MTIwM2FmNDU1ZmMzODdlNWZkYWMxYw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-01-16T18:39:45Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-01-16T18:39:45Z"}, "message": "(LINKER_ENDIAN_SPEC): Define.\n\n(LINK_SPEC): Add linker_endian_spec.\n(EXTRA_SPECS): Add linker_endian_spec.\n\nFrom-SVN: r13498", "tree": {"sha": "a3a38ae5544f9f6ccaa35cf8396c07866e24cd75", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a3a38ae5544f9f6ccaa35cf8396c07866e24cd75"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/34bcd7fdece2a572271203af455fc387e5fdac1c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34bcd7fdece2a572271203af455fc387e5fdac1c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/34bcd7fdece2a572271203af455fc387e5fdac1c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34bcd7fdece2a572271203af455fc387e5fdac1c/comments", "author": null, "committer": null, "parents": [{"sha": "9e5e9ebad5f4ee8daae8f9098f09c31f0f5c1cd5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e5e9ebad5f4ee8daae8f9098f09c31f0f5c1cd5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e5e9ebad5f4ee8daae8f9098f09c31f0f5c1cd5"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "7505a75482652a56bb59905a27165ff80c7583c4", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 16, "deletions": 1, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34bcd7fdece2a572271203af455fc387e5fdac1c/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34bcd7fdece2a572271203af455fc387e5fdac1c/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=34bcd7fdece2a572271203af455fc387e5fdac1c", "patch": "@@ -452,6 +452,19 @@ extern void\t\ttext_section ();\n #endif\n #endif\n \n+/* We must pass -EL to the linker by default for little endian embedded\n+   targets using linker scripts with a OUTPUT_FORMAT line.  Otherwise, the\n+   linker will default to using big-endian output files.  The OUTPUT_FORMAT\n+   line must be in the linker script, otherwise -EB/-EL will not work.  */\n+\n+#ifndef LINKER_ENDIAN_SPEC\n+#if TARGET_ENDIAN_DEFAULT == 0\n+#define LINKER_ENDIAN_SPEC \"%{!EB:%{!meb:-EL}}\"\n+#else\n+#define LINKER_ENDIAN_SPEC \"\"\n+#endif\n+#endif\n+\n /* This macro is similar to `TARGET_SWITCHES' but defines names of\n    command options that have values.  Its definition is an\n    initializer with a subgrouping for each command option.\n@@ -740,7 +753,8 @@ while (0)\n #ifndef LINK_SPEC\n #define LINK_SPEC \"\\\n %{G*} %{EB} %{EL} %{mips1} %{mips2} %{mips3} %{mips4} \\\n-%{bestGnum} %{shared} %{non_shared}\"\n+%{bestGnum} %{shared} %{non_shared} \\\n+%(linker_endian_spec)\"\n #endif\t/* LINK_SPEC defined */\n \n /* Specs for the compiler proper */\n@@ -823,6 +837,7 @@ while (0)\n   { \"subtarget_asm_optimizing_spec\", SUBTARGET_ASM_OPTIMIZING_SPEC },\t\\\n   { \"subtarget_asm_debugging_spec\", SUBTARGET_ASM_DEBUGGING_SPEC },\t\\\n   { \"subtarget_asm_spec\", SUBTARGET_ASM_SPEC },\t\t\t\t\\\n+  { \"linker_endian_spec\", LINKER_ENDIAN_SPEC },\t\t\t\t\\\n   SUBTARGET_EXTRA_SPECS\n \n #ifndef SUBTARGET_EXTRA_SPECS"}]}