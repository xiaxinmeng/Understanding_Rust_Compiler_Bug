{"sha": "d3c300d23886c539beb3460c8a6e9db099dca114", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDNjMzAwZDIzODg2YzUzOWJlYjM0NjBjOGE2ZTlkYjA5OWRjYTExNA==", "commit": {"author": {"name": "Dale Johannesen", "email": "dalej@apple.com", "date": "2003-01-03T23:09:33Z"}, "committer": {"name": "Dale Johannesen", "email": "dalej@gcc.gnu.org", "date": "2003-01-03T23:09:33Z"}, "message": "darwin.h: (EXTRA_SECTIONS): Add machopic_symbol_stub1, machopic_picsymbol_stub1.\n\n2003-01-03  Dale Johannesen  <dalej@apple.com>\n\n        * config/darwin.h:  (EXTRA_SECTIONS):  Add machopic_symbol_stub1,\n          machopic_picsymbol_stub1.\n          (EXTRA_SECTION_FUNCTIONS):  Ditto.\n        * rs6000/rs6000.c:  Update copyright.\n          (machopic_output_stub):  Use them.  Remove an insn from stub code.\n\nFrom-SVN: r60858", "tree": {"sha": "ea412386f065629da1f0d218d4c9fcf2b75778e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea412386f065629da1f0d218d4c9fcf2b75778e4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d3c300d23886c539beb3460c8a6e9db099dca114", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3c300d23886c539beb3460c8a6e9db099dca114", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3c300d23886c539beb3460c8a6e9db099dca114", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3c300d23886c539beb3460c8a6e9db099dca114/comments", "author": null, "committer": null, "parents": [{"sha": "c75c7793f5862a1a8b5e4b164f0801da8452e7fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c75c7793f5862a1a8b5e4b164f0801da8452e7fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c75c7793f5862a1a8b5e4b164f0801da8452e7fd"}], "stats": {"total": 27, "additions": 21, "deletions": 6}, "files": [{"sha": "70c15568c7403ce5e9612ccfa97926542202a95e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3c300d23886c539beb3460c8a6e9db099dca114/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3c300d23886c539beb3460c8a6e9db099dca114/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d3c300d23886c539beb3460c8a6e9db099dca114", "patch": "@@ -1,3 +1,11 @@\n+2003-01-03  Dale Johannesen  <dalej@apple.com>\n+\n+\t* config/darwin.h:  (EXTRA_SECTIONS):  Add machopic_symbol_stub1,\n+\t  machopic_picsymbol_stub1.\n+\t  (EXTRA_SECTION_FUNCTIONS):  Ditto.\n+\t* rs6000/rs6000.c:  Update copyright.\n+\t  (machopic_output_stub):  Use them.  Remove an insn from stub code.\n+\n 2003-01-02  Jason Merrill  <jason@redhat.com>\n \n \t* fold-const.c (fold) [COND_EXPR]: Avoid NOP_EXPRs better."}, {"sha": "bebd741fce7bbde57d478a2e2d65217c266bbb66", "filename": "gcc/config/darwin.h", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3c300d23886c539beb3460c8a6e9db099dca114/gcc%2Fconfig%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3c300d23886c539beb3460c8a6e9db099dca114/gcc%2Fconfig%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.h?ref=d3c300d23886c539beb3460c8a6e9db099dca114", "patch": "@@ -510,7 +510,9 @@ FUNCTION ()\t\t\t\t\t\t\t\t\\\n   in_machopic_nl_symbol_ptr,\t\t\t\t\\\n   in_machopic_lazy_symbol_ptr,\t\t\t\t\\\n   in_machopic_symbol_stub,\t\t\t\t\\\n+  in_machopic_symbol_stub1,\t\t\t\t\\\n   in_machopic_picsymbol_stub,\t\t\t\t\\\n+  in_machopic_picsymbol_stub1,\t\t\t\t\\\n   in_darwin_exception, in_darwin_eh_frame,\t\t\\\n   num_sections\n \n@@ -614,9 +616,15 @@ SECTION_FUNCTION (machopic_nl_symbol_ptr_section,\t\\\n SECTION_FUNCTION (machopic_symbol_stub_section,\t\t\\\n \t\tin_machopic_symbol_stub,\t\t\\\n \t\t\".symbol_stub\", 0)      \t\t\\\n+SECTION_FUNCTION (machopic_symbol_stub1_section,\t\\\n+\t\tin_machopic_symbol_stub1,\t\t\\\n+\t\t\".section __TEXT,__symbol_stub1,symbol_stubs,pure_instructions,16\", 0)\\\n SECTION_FUNCTION (machopic_picsymbol_stub_section,\t\\\n \t\tin_machopic_picsymbol_stub,\t\t\\\n \t\t\".picsymbol_stub\", 0)      \t\t\\\n+SECTION_FUNCTION (machopic_picsymbol_stub1_section,\t\\\n+\t\tin_machopic_picsymbol_stub1,\t\t\\\n+\t\t\".section __TEXT,__picsymbolstub1,symbol_stubs,pure_instructions,32\", 0)\\\n SECTION_FUNCTION (darwin_exception_section,\t\t\\\n \t\tin_darwin_exception,\t\t\t\\\n \t\t\".section __DATA,__gcc_except_tab\", 0)\t\\"}, {"sha": "a31b862b85c59fc0b4947913d77eba0800819d8b", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3c300d23886c539beb3460c8a6e9db099dca114/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3c300d23886c539beb3460c8a6e9db099dca114/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=d3c300d23886c539beb3460c8a6e9db099dca114", "patch": "@@ -1,6 +1,6 @@\n /* Subroutines used for code generation on IBM RS/6000.\n    Copyright (C) 1991, 1993, 1994, 1995, 1996, 1997, 1998, 1999, \n-   2000, 2001, 2002 Free Software Foundation, Inc.\n+   2000, 2001, 2002, 2003 Free Software Foundation, Inc.\n    Contributed by Richard Kenner (kenner@vlsi1.ultra.nyu.edu)\n \n This file is part of GNU CC.\n@@ -12978,9 +12978,10 @@ machopic_output_stub (file, symb, stub)\n   GEN_LOCAL_LABEL_FOR_SYMBOL (local_label_0, symb, length, 0);\n \n   if (flag_pic == 2)\n-    machopic_picsymbol_stub_section ();\n+    machopic_picsymbol_stub1_section ();\n   else\n-    machopic_symbol_stub_section ();\n+    machopic_symbol_stub1_section ();\n+  fprintf (file, \"\\t.align 2\\n\");\n \n   fprintf (file, \"%s:\\n\", stub);\n   fprintf (file, \"\\t.indirect_symbol %s\\n\", symbol_name);\n@@ -12993,11 +12994,9 @@ machopic_output_stub (file, symb, stub)\n       fprintf (file, \"\\taddis r11,r11,ha16(%s-%s)\\n\",\n \t       lazy_ptr_name, local_label_0);\n       fprintf (file, \"\\tmtlr r0\\n\");\n-      fprintf (file, \"\\tlwz r12,lo16(%s-%s)(r11)\\n\",\n+      fprintf (file, \"\\tlwzu r12,lo16(%s-%s)(r11)\\n\",\n \t       lazy_ptr_name, local_label_0);\n       fprintf (file, \"\\tmtctr r12\\n\");\n-      fprintf (file, \"\\taddi r11,r11,lo16(%s-%s)\\n\",\n-\t       lazy_ptr_name, local_label_0);\n       fprintf (file, \"\\tbctr\\n\");\n     }\n   else"}]}