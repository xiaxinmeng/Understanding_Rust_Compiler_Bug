{"sha": "c8e18a2bc7a88b90f4ebe497d02ec18e82798bef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzhlMThhMmJjN2E4OGI5MGY0ZWJlNDk3ZDAyZWMxOGU4Mjc5OGJlZg==", "commit": {"author": {"name": "Tom Wood", "email": "wood@gnu.org", "date": "1992-08-25T20:19:49Z"}, "committer": {"name": "Tom Wood", "email": "wood@gnu.org", "date": "1992-08-25T20:19:49Z"}, "message": "(define_function_unit): Change meaning to ISSUE-DELAY.\n\nFrom-SVN: r1946", "tree": {"sha": "3da2848e8f1b9db8eb30ac68ab63f2304c79e5b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3da2848e8f1b9db8eb30ac68ab63f2304c79e5b4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8e18a2bc7a88b90f4ebe497d02ec18e82798bef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8e18a2bc7a88b90f4ebe497d02ec18e82798bef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8e18a2bc7a88b90f4ebe497d02ec18e82798bef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8e18a2bc7a88b90f4ebe497d02ec18e82798bef/comments", "author": null, "committer": null, "parents": [{"sha": "f6601f3af4096b593a7f010b17737b97747b9a46", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6601f3af4096b593a7f010b17737b97747b9a46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6601f3af4096b593a7f010b17737b97747b9a46"}], "stats": {"total": 103, "additions": 53, "deletions": 50}, "files": [{"sha": "8f73924734139fd797e61941adfff1fb9db63886", "filename": "gcc/config/a29k/a29k.md", "status": "modified", "additions": 10, "deletions": 7, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8e18a2bc7a88b90f4ebe497d02ec18e82798bef/gcc%2Fconfig%2Fa29k%2Fa29k.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8e18a2bc7a88b90f4ebe497d02ec18e82798bef/gcc%2Fconfig%2Fa29k%2Fa29k.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fa29k%2Fa29k.md?ref=c8e18a2bc7a88b90f4ebe497d02ec18e82798bef", "patch": "@@ -47,8 +47,11 @@\n   [(eq_attr \"in_delay_slot\" \"yes\") (nil) (nil)])\n \n ;; Define the function unit usages.  We first define memory as a unit.\n-(define_function_unit \"memory\" 1 2 (eq_attr \"type\" \"load\") 6 11)\n-(define_function_unit \"memory\" 1 2 (eq_attr \"type\" \"store\") 1 0)\n+(define_function_unit \"memory\" 1 0 (eq_attr \"type\" \"load\") 6 5\n+  [(eq_attr \"type\" \"load\")])\n+(define_function_unit \"memory\" 1 0 (eq_attr \"type\" \"load\") 6 6\n+  [(eq_attr \"type\" \"store\")])\n+(define_function_unit \"memory\" 1 0 (eq_attr \"type\" \"store\") 1 0)\n \n ;; Now define the function units for the floating-point support.  Most\n ;; units are pipelined and can accept an input every cycle.\n@@ -59,14 +62,14 @@\n ;; floating-point rounder.  It isn't clear how to represent this.\n \n (define_function_unit \"multiplier\" 1 0 (eq_attr \"type\" \"fmul\") 3 0)\n-(define_function_unit \"multiplier\" 1 0 (eq_attr \"type\" \"dmul\") 6 8)\n-(define_function_unit \"multiplier\" 1 0 (eq_attr \"type\" \"fam\") 6 8)\n-(define_function_unit \"multiplier\" 1 0 (eq_attr \"type\" \"dam\") 9 8)\n+(define_function_unit \"multiplier\" 1 0 (eq_attr \"type\" \"dmul\") 6 4)\n+(define_function_unit \"multiplier\" 1 0 (eq_attr \"type\" \"fam\") 6 0)\n+(define_function_unit \"multiplier\" 1 0 (eq_attr \"type\" \"dam\") 9 4)\n \n (define_function_unit \"adder\" 1 0 (eq_attr \"type\" \"fadd,fam,dam\") 3 0)\n \n-(define_function_unit \"divider\" 1 1 (eq_attr \"type\" \"fdiv\") 11 20)\n-(define_function_unit \"divider\" 1 1 (eq_attr \"type\" \"ddiv\") 18 34)\n+(define_function_unit \"divider\" 1 0 (eq_attr \"type\" \"fdiv\") 11 10)\n+(define_function_unit \"divider\" 1 0 (eq_attr \"type\" \"ddiv\") 18 17)\n \f\n ;; ADD\n (define_insn \"addsi3\""}, {"sha": "d1c241702ce060ef7740fd286d4076d6d5177ddc", "filename": "gcc/config/i960/i960.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8e18a2bc7a88b90f4ebe497d02ec18e82798bef/gcc%2Fconfig%2Fi960%2Fi960.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8e18a2bc7a88b90f4ebe497d02ec18e82798bef/gcc%2Fconfig%2Fi960%2Fi960.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi960%2Fi960.md?ref=c8e18a2bc7a88b90f4ebe497d02ec18e82798bef", "patch": "@@ -48,7 +48,7 @@\n    (set_attr \"type\" \"multi\")])\n \n ;; (define_function_unit {name} {num-units} {n-users} {test}\n-;;                       {ready-delay} {busy-delay} [{conflict-list}])\n+;;                       {ready-delay} {issue-delay} [{conflict-list}])\n \n ;; The integer ALU\n (define_function_unit \"alu\" 2 0 (eq_attr \"type\" \"arith,compare,move,address\") 1 0)"}, {"sha": "9bb8ae727899dc766e46ad7862a80ffe10a6ac16", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 41, "deletions": 41, "changes": 82, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8e18a2bc7a88b90f4ebe497d02ec18e82798bef/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8e18a2bc7a88b90f4ebe497d02ec18e82798bef/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=c8e18a2bc7a88b90f4ebe497d02ec18e82798bef", "patch": "@@ -123,7 +123,7 @@\n ;; .........................\n \n ; (define_function_unit NAME MULTIPLICITY SIMULTANEITY\n-;\t\t\tTEST READY-DELAY BUSY-DELAY [CONFLICT-LIST])\n+;\t\t\tTEST READY-DELAY ISSUE-DELAY [CONFLICT-LIST])\n \n ;; Make the default case (PROCESSOR_DEFAULT) handle the worst case\n \n@@ -144,125 +144,125 @@\n \n (define_function_unit \"imuldiv\"  1 1\n   (and (eq_attr \"type\" \"imul\") (eq_attr \"cpu\" \"!r3000,r4000\"))\n-  17 34)\n+  17 0)\n \n (define_function_unit \"imuldiv\"  1 1\n   (and (eq_attr \"type\" \"imul\") (eq_attr \"cpu\" \"r3000\"))\n-  12 24)\n+  12 0)\n \n (define_function_unit \"imuldiv\" 1 1\n   (and (eq_attr \"type\" \"imul\") (eq_attr \"cpu\" \"r4000\"))\n-  10 20)\n+  10 0)\n \n (define_function_unit \"imuldiv\"  1 1\n   (and (eq_attr \"type\" \"idiv\") (eq_attr \"cpu\" \"!r3000,r4000\"))\n-  38 76)\n+  38 0)\n \n (define_function_unit \"imuldiv\"  1 1\n   (and (eq_attr \"type\" \"idiv\") (eq_attr \"cpu\" \"r3000\"))\n-  35 70)\n+  35 0)\n \n (define_function_unit \"imuldiv\" 1 1\n   (and (eq_attr \"type\" \"idiv\") (eq_attr \"cpu\" \"r4000\"))\n-  69 138)\n+  69 0)\n \n (define_function_unit \"adder\" 1 1\n   (and (eq_attr \"type\" \"fadd\") (eq_attr \"cpu\" \"!r3000,r6000\"))\n-  4 8)\n+  4 0)\n \n (define_function_unit \"adder\" 1 1\n   (and (eq_attr \"type\" \"fadd\") (eq_attr \"cpu\" \"r3000\"))\n-  2 4)\n+  2 0)\n \n (define_function_unit \"adder\" 1 1\n   (and (eq_attr \"type\" \"fadd\") (eq_attr \"cpu\" \"r6000\"))\n-  3 6)\n+  3 0)\n \n (define_function_unit \"adder\" 1 1\n   (and (eq_attr \"type\" \"fabs,fneg\") (eq_attr \"cpu\" \"!r3000\"))\n-  2 4)\n+  2 0)\n \n (define_function_unit \"adder\" 1 1\n   (and (eq_attr \"type\" \"fabs,fneg\") (eq_attr \"cpu\" \"r3000\"))\n-  1 2)\n+  1 0)\n \n (define_function_unit \"mult\" 1 1\n   (and (eq_attr \"type\" \"fmul\") (and (eq_attr \"mode\" \"SF\") (eq_attr \"cpu\" \"!r3000,r6000\")))\n-  7 14)\n+  7 0)\n \n (define_function_unit \"mult\" 1 1\n   (and (eq_attr \"type\" \"fmul\") (and (eq_attr \"mode\" \"SF\") (eq_attr \"cpu\" \"r3000\")))\n-  4 8)\n+  4 0)\n \n (define_function_unit \"mult\" 1 1\n   (and (eq_attr \"type\" \"fmul\") (and (eq_attr \"mode\" \"SF\") (eq_attr \"cpu\" \"r6000\")))\n-  5 10)\n+  5 0)\n \n (define_function_unit \"mult\" 1 1\n   (and (eq_attr \"type\" \"fmul\") (and (eq_attr \"mode\" \"DF\") (eq_attr \"cpu\" \"!r3000,r6000\")))\n-  8 16)\n+  8 0)\n \n (define_function_unit \"mult\" 1 1\n   (and (eq_attr \"type\" \"fmul\") (and (eq_attr \"mode\" \"DF\") (eq_attr \"cpu\" \"r3000\")))\n-  5 10)\n+  5 0)\n \n (define_function_unit \"mult\" 1 1\n   (and (eq_attr \"type\" \"fmul\") (and (eq_attr \"mode\" \"DF\") (eq_attr \"cpu\" \"r6000\")))\n-  6 12)\n+  6 0)\n \n (define_function_unit \"divide\" 1 1\n   (and (eq_attr \"type\" \"fdiv\") (and (eq_attr \"mode\" \"SF\") (eq_attr \"cpu\" \"!r3000,r6000\")))\n-  23 46)\n+  23 0)\n \n (define_function_unit \"divide\" 1 1\n   (and (eq_attr \"type\" \"fdiv\") (and (eq_attr \"mode\" \"SF\") (eq_attr \"cpu\" \"r3000\")))\n-  12 24)\n+  12 0)\n \n (define_function_unit \"divide\" 1 1\n   (and (eq_attr \"type\" \"fdiv\") (and (eq_attr \"mode\" \"SF\") (eq_attr \"cpu\" \"r6000\")))\n-  15 30)\n+  15 0)\n \n (define_function_unit \"divide\" 1 1\n   (and (eq_attr \"type\" \"fdiv\") (and (eq_attr \"mode\" \"DF\") (eq_attr \"cpu\" \"!r3000,r6000\")))\n-  36 72)\n+  36 0)\n \n (define_function_unit \"divide\" 1 1\n   (and (eq_attr \"type\" \"fdiv\") (and (eq_attr \"mode\" \"DF\") (eq_attr \"cpu\" \"r3000\")))\n-  19 34)\n+  19 0)\n \n (define_function_unit \"divide\" 1 1\n   (and (eq_attr \"type\" \"fdiv\") (and (eq_attr \"mode\" \"DF\") (eq_attr \"cpu\" \"r6000\")))\n-  16 32)\n+  16 0)\n \n-(define_function_unit \"divide\" 1 1 (and (eq_attr \"type\" \"fsqrt\") (eq_attr \"mode\" \"SF\"))  54 108)\n-(define_function_unit \"divide\" 1 1 (and (eq_attr \"type\" \"fsqrt\") (eq_attr \"mode\" \"DF\")) 112 224)\n+(define_function_unit \"divide\" 1 1 (and (eq_attr \"type\" \"fsqrt\") (eq_attr \"mode\" \"SF\"))  54 0)\n+(define_function_unit \"divide\" 1 1 (and (eq_attr \"type\" \"fsqrt\") (eq_attr \"mode\" \"DF\")) 112 0)\n \n \f\n ;; The following functional units do not use the cpu type, and use\n ;; much less memory in genattrtab.c.\n \n-;; (define_function_unit \"memory\"   1 0 (eq_attr \"type\" \"load\")                                3   0)\n-;; (define_function_unit \"memory\"   1 0 (eq_attr \"type\" \"store\")                               1   0)\n+;; (define_function_unit \"memory\"   1 0 (eq_attr \"type\" \"load\")                                3 0)\n+;; (define_function_unit \"memory\"   1 0 (eq_attr \"type\" \"store\")                               1 0)\n ;;       \n-;; (define_function_unit \"fp_comp\"  1 0 (eq_attr \"type\" \"fcmp\")                                2   0)\n+;; (define_function_unit \"fp_comp\"  1 0 (eq_attr \"type\" \"fcmp\")                                2 0)\n ;;       \n-;; (define_function_unit \"transfer\" 1 0 (eq_attr \"type\" \"xfer\")                                2   0)\n-;; (define_function_unit \"transfer\" 1 0 (eq_attr \"type\" \"hilo\")                                3   0)\n+;; (define_function_unit \"transfer\" 1 0 (eq_attr \"type\" \"xfer\")                                2 0)\n+;; (define_function_unit \"transfer\" 1 0 (eq_attr \"type\" \"hilo\")                                3 0)\n ;;   \n-;; (define_function_unit \"imuldiv\"  1 1 (eq_attr \"type\" \"imul\")                               17  34)\n-;; (define_function_unit \"imuldiv\"  1 1 (eq_attr \"type\" \"idiv\")                               38  76)\n+;; (define_function_unit \"imuldiv\"  1 1 (eq_attr \"type\" \"imul\")                               17 0)\n+;; (define_function_unit \"imuldiv\"  1 1 (eq_attr \"type\" \"idiv\")                               38 0)\n ;;   \n-;; (define_function_unit \"adder\"    1 1 (eq_attr \"type\" \"fadd\")                                4   8)\n-;; (define_function_unit \"adder\"    1 1 (eq_attr \"type\" \"fabs,fneg\")                           2   4)\n+;; (define_function_unit \"adder\"    1 1 (eq_attr \"type\" \"fadd\")                                4 0)\n+;; (define_function_unit \"adder\"    1 1 (eq_attr \"type\" \"fabs,fneg\")                           2 0)\n ;;   \n-;; (define_function_unit \"mult\"     1 1 (and (eq_attr \"type\" \"fmul\") (eq_attr \"mode\" \"SF\"))    7  14)\n-;; (define_function_unit \"mult\"     1 1 (and (eq_attr \"type\" \"fmul\") (eq_attr \"mode\" \"DF\"))    8  16)\n+;; (define_function_unit \"mult\"     1 1 (and (eq_attr \"type\" \"fmul\") (eq_attr \"mode\" \"SF\"))    7 0)\n+;; (define_function_unit \"mult\"     1 1 (and (eq_attr \"type\" \"fmul\") (eq_attr \"mode\" \"DF\"))    8 0)\n ;;   \n-;; (define_function_unit \"divide\"   1 1 (and (eq_attr \"type\" \"fdiv\") (eq_attr \"mode\" \"SF\"))   23  46)\n-;; (define_function_unit \"divide\"   1 1 (and (eq_attr \"type\" \"fdiv\") (eq_attr \"mode\" \"DF\"))   36  72)\n+;; (define_function_unit \"divide\"   1 1 (and (eq_attr \"type\" \"fdiv\") (eq_attr \"mode\" \"SF\"))   23 0)\n+;; (define_function_unit \"divide\"   1 1 (and (eq_attr \"type\" \"fdiv\") (eq_attr \"mode\" \"DF\"))   36 0)\n ;; \n-;; (define_function_unit \"sqrt\"     1 1 (and (eq_attr \"type\" \"fsqrt\") (eq_attr \"mode\" \"SF\"))  54 108)\n-;; (define_function_unit \"sqrt\"     1 1 (and (eq_attr \"type\" \"fsqrt\") (eq_attr \"mode\" \"DF\")) 112 224)\n+;; (define_function_unit \"sqrt\"     1 1 (and (eq_attr \"type\" \"fsqrt\") (eq_attr \"mode\" \"SF\"))  54 0)\n+;; (define_function_unit \"sqrt\"     1 1 (and (eq_attr \"type\" \"fsqrt\") (eq_attr \"mode\" \"DF\")) 112 0)\n \n \f\n ;;"}, {"sha": "bfa7c66fdb83dc1563b597e9604871cdab85ac99", "filename": "gcc/config/pa/pa.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8e18a2bc7a88b90f4ebe497d02ec18e82798bef/gcc%2Fconfig%2Fpa%2Fpa.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8e18a2bc7a88b90f4ebe497d02ec18e82798bef/gcc%2Fconfig%2Fpa%2Fpa.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.md?ref=c8e18a2bc7a88b90f4ebe497d02ec18e82798bef", "patch": "@@ -94,7 +94,7 @@\n ;; constraints shouldn't hurt.\n \n ;; (define_function_unit {name} {num-units} {n-users} {test}\n-;;                       {ready-delay} {busy-delay} [{conflict-list}])\n+;;                       {ready-delay} {issue-delay} [{conflict-list}])\n \n ;; The integer ALU.\n ;; (Noted only for documentation; units that take one cycle do not need to"}]}