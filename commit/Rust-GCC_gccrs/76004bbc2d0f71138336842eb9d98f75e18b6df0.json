{"sha": "76004bbc2d0f71138336842eb9d98f75e18b6df0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzYwMDRiYmMyZDBmNzExMzgzMzY4NDJlYjlkOThmNzVlMThiNmRmMA==", "commit": {"author": {"name": "Marek Polacek", "email": "polacek@redhat.com", "date": "2013-12-02T16:08:47Z"}, "committer": {"name": "Marek Polacek", "email": "mpolacek@gcc.gnu.org", "date": "2013-12-02T16:08:47Z"}, "message": "vla-1.c: Split the tests into individual functions.\n\n2013-12-02  Marek Polacek  <polacek@redhat.com>\n\ntestsuite/\n\t* c-c++-common/ubsan/vla-1.c: Split the tests into individual\n\tfunctions.\n\nFrom-SVN: r205590", "tree": {"sha": "03b3f3d65b7e8858075e5237b064d8e7af2943f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/03b3f3d65b7e8858075e5237b064d8e7af2943f5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/76004bbc2d0f71138336842eb9d98f75e18b6df0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76004bbc2d0f71138336842eb9d98f75e18b6df0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/76004bbc2d0f71138336842eb9d98f75e18b6df0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76004bbc2d0f71138336842eb9d98f75e18b6df0/comments", "author": {"login": "mpolacek", "id": 10496300, "node_id": "MDQ6VXNlcjEwNDk2MzAw", "avatar_url": "https://avatars.githubusercontent.com/u/10496300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpolacek", "html_url": "https://github.com/mpolacek", "followers_url": "https://api.github.com/users/mpolacek/followers", "following_url": "https://api.github.com/users/mpolacek/following{/other_user}", "gists_url": "https://api.github.com/users/mpolacek/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpolacek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpolacek/subscriptions", "organizations_url": "https://api.github.com/users/mpolacek/orgs", "repos_url": "https://api.github.com/users/mpolacek/repos", "events_url": "https://api.github.com/users/mpolacek/events{/privacy}", "received_events_url": "https://api.github.com/users/mpolacek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "100f09a564fb1abe4c8d4712048c473c1fbaf248", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/100f09a564fb1abe4c8d4712048c473c1fbaf248", "html_url": "https://github.com/Rust-GCC/gccrs/commit/100f09a564fb1abe4c8d4712048c473c1fbaf248"}], "stats": {"total": 102, "additions": 89, "deletions": 13}, "files": [{"sha": "9c7be13551c654941fa213b1288c33c1d45430f6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76004bbc2d0f71138336842eb9d98f75e18b6df0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76004bbc2d0f71138336842eb9d98f75e18b6df0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=76004bbc2d0f71138336842eb9d98f75e18b6df0", "patch": "@@ -1,3 +1,8 @@\n+2013-12-02  Marek Polacek  <polacek@redhat.com>\n+\n+\t* c-c++-common/ubsan/vla-1.c: Split the tests into individual\n+\tfunctions.\n+\n 2013-12-02  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/59139"}, {"sha": "ca538ed8693027df445057ec49b2bad07ec95cb5", "filename": "gcc/testsuite/c-c++-common/ubsan/vla-1.c", "status": "modified", "additions": 84, "deletions": 13, "changes": 97, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76004bbc2d0f71138336842eb9d98f75e18b6df0/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fubsan%2Fvla-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76004bbc2d0f71138336842eb9d98f75e18b6df0/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fubsan%2Fvla-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fubsan%2Fvla-1.c?ref=76004bbc2d0f71138336842eb9d98f75e18b6df0", "patch": "@@ -1,33 +1,104 @@\n /* { dg-do run } */\n /* { dg-options \"-fsanitize=vla-bound -Wall -Wno-unused-variable\" } */\n \n-static int\n+typedef long int V;\n+int x = -1;\n+double di = -3.2;\n+V v = -6;\n+\n+static int __attribute__ ((noinline, noclone))\n bar (void)\n {\n-  return -42;\n+  return -4;\n }\n \n-typedef long int V;\n-int\n-main (void)\n+static void __attribute__ ((noinline, noclone))\n+fn1 (void)\n {\n-  int x = -1;\n-  double di = -3.2;\n-  V v = -666;\n-\n   int a[x];\n-  int aa[x][x];\n-  int aaa[x][x][x];\n+}\n+\n+static void __attribute__ ((noinline, noclone))\n+fn2 (void)\n+{\n+  int a[x][x];\n+}\n+\n+static void __attribute__ ((noinline, noclone))\n+fn3 (void)\n+{\n+  int a[x][x][x];\n+}\n+\n+static void __attribute__ ((noinline, noclone))\n+fn4 (void)\n+{\n   int b[x - 4];\n+}\n+\n+static void __attribute__ ((noinline, noclone))\n+fn5 (void)\n+{\n   int c[(int) di];\n+}\n+\n+static void __attribute__ ((noinline, noclone))\n+fn6 (void)\n+{\n   int d[1 + x];\n+}\n+\n+static void __attribute__ ((noinline, noclone))\n+fn7 (void)\n+{\n   int e[1 ? x : -1];\n+}\n+\n+static void __attribute__ ((noinline, noclone))\n+fn8 (void)\n+{\n   int f[++x];\n+}\n+\n+static void __attribute__ ((noinline, noclone))\n+fn9 (void)\n+{\n   int g[(signed char) --x];\n+}\n+\n+static void __attribute__ ((noinline, noclone))\n+fn10 (void)\n+{\n   int h[(++x, --x, x)];\n+}\n+\n+static void __attribute__ ((noinline, noclone))\n+fn11 (void)\n+{\n   int i[v];\n+}\n+\n+static void __attribute__ ((noinline, noclone))\n+fn12 (void)\n+{\n   int j[bar ()];\n+}\n \n+int\n+main (void)\n+{\n+  fn1 ();\n+  fn2 ();\n+  fn3 ();\n+  fn4 ();\n+  fn5 ();\n+  fn6 ();\n+  fn7 ();\n+  fn8 ();\n+  fn9 ();\n+  fn10 ();\n+  fn11 ();\n+  fn12 ();\n   return 0;\n }\n \n@@ -44,5 +115,5 @@ main (void)\n /* { dg-output \"\\[^\\n\\r]*variable length array bound evaluates to non-positive value 0(\\n|\\r\\n|\\r)\" } */\n /* { dg-output \"\\[^\\n\\r]*variable length array bound evaluates to non-positive value -1(\\n|\\r\\n|\\r)\" } */\n /* { dg-output \"\\[^\\n\\r]*variable length array bound evaluates to non-positive value -1(\\n|\\r\\n|\\r)\" } */\n-/* { dg-output \"\\[^\\n\\r]*variable length array bound evaluates to non-positive value -666(\\n|\\r\\n|\\r)\" } */\n-/* { dg-output \"\\[^\\n\\r]*variable length array bound evaluates to non-positive value -42(\\n|\\r\\n|\\r)\" } */\n+/* { dg-output \"\\[^\\n\\r]*variable length array bound evaluates to non-positive value -6(\\n|\\r\\n|\\r)\" } */\n+/* { dg-output \"\\[^\\n\\r]*variable length array bound evaluates to non-positive value -4(\\n|\\r\\n|\\r)\" } */"}]}