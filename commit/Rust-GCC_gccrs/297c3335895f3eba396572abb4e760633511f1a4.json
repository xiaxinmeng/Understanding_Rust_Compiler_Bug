{"sha": "297c3335895f3eba396572abb4e760633511f1a4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjk3YzMzMzU4OTVmM2ViYTM5NjU3MmFiYjRlNzYwNjMzNTExZjFhNA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-10-16T07:08:27Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-10-16T07:08:27Z"}, "message": "gcse.c (hash_expr_1): Add in MEM_ALIAS_SET.\n\n        * gcse.c (hash_expr_1): Add in MEM_ALIAS_SET.\n        (expr_equiv_p): Reject memories with different alias sets.\n\nFrom-SVN: r30039", "tree": {"sha": "11ca77ca6bc811b3f8eff3dc3e8be39a71fabd57", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/11ca77ca6bc811b3f8eff3dc3e8be39a71fabd57"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/297c3335895f3eba396572abb4e760633511f1a4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/297c3335895f3eba396572abb4e760633511f1a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/297c3335895f3eba396572abb4e760633511f1a4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/297c3335895f3eba396572abb4e760633511f1a4/comments", "author": null, "committer": null, "parents": [{"sha": "9329983a8f6d7085d84e8bc8cbe1e759534845da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9329983a8f6d7085d84e8bc8cbe1e759534845da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9329983a8f6d7085d84e8bc8cbe1e759534845da"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "fdae41bc012d0104be467d686d0b7175d4ac8ec2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/297c3335895f3eba396572abb4e760633511f1a4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/297c3335895f3eba396572abb4e760633511f1a4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=297c3335895f3eba396572abb4e760633511f1a4", "patch": "@@ -1,3 +1,8 @@\n+Sat Oct 16 00:07:01 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* gcse.c (hash_expr_1): Add in MEM_ALIAS_SET.\n+\t(expr_equiv_p): Reject memories with different alias sets.\n+\n Fri Oct 15 15:17:29 1999  Greg McGary  <gkm@gnu.org>\n \n \t* flags.h (flag_bounds_check, flag_bounded_pointers): New extern decls."}, {"sha": "f43f3823c42f6724973c3d574a8bbb897b07606d", "filename": "gcc/gcse.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/297c3335895f3eba396572abb4e760633511f1a4/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/297c3335895f3eba396572abb4e760633511f1a4/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=297c3335895f3eba396572abb4e760633511f1a4", "patch": "@@ -1446,6 +1446,7 @@ hash_expr_1 (x, mode, do_not_record_p)\n \t  return 0;\n \t}\n       hash += (unsigned) MEM;\n+      hash += MEM_ALIAS_SET (x);\n       x = XEXP (x, 0);\n       goto repeat;\n \n@@ -1578,6 +1579,14 @@ expr_equiv_p (x, y)\n     case REG:\n       return REGNO (x) == REGNO (y);\n \n+    case MEM:\n+      /* Can't merge two expressions in different alias sets, since we can\n+\t decide that the expression is transparent in a block when it isn't,\n+\t due to it being set with the different alias set.  */\n+      if (MEM_ALIAS_SET (x) != MEM_ALIAS_SET (y))\n+\treturn 0;\n+      break;\n+\n     /*  For commutative operations, check both orders.  */\n     case PLUS:\n     case MULT:"}]}