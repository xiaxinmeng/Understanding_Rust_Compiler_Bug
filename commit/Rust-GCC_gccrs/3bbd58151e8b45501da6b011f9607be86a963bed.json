{"sha": "3bbd58151e8b45501da6b011f9607be86a963bed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2JiZDU4MTUxZThiNDU1MDFkYTZiMDExZjk2MDdiZTg2YTk2M2JlZA==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2014-08-21T20:57:56Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2014-08-21T20:57:56Z"}, "message": "cfgbuild.c: Use rtx_insn\n\ngcc/\n2014-08-21  David Malcolm  <dmalcolm@redhat.com>\n\n\t* cfgbuild.c (make_edges): Strengthen local \"insn\" from rtx to\n\trtx_insn *.\n\t(purge_dead_tablejump_edges): Likewise.\n\t(find_bb_boundaries): Likewise for locals \"insn\", \"end\",\n\t\"flow_transfer_insn\".\n\nFrom-SVN: r214291", "tree": {"sha": "aa627ed098bff5e105bb610673c5aedd8358c973", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aa627ed098bff5e105bb610673c5aedd8358c973"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3bbd58151e8b45501da6b011f9607be86a963bed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3bbd58151e8b45501da6b011f9607be86a963bed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3bbd58151e8b45501da6b011f9607be86a963bed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3bbd58151e8b45501da6b011f9607be86a963bed/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "44b9179ffcf9d049bd1b038fc813703708045555", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44b9179ffcf9d049bd1b038fc813703708045555", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44b9179ffcf9d049bd1b038fc813703708045555"}], "stats": {"total": 22, "additions": 16, "deletions": 6}, "files": [{"sha": "374d7187997ab57c2cd77cf7fdc271ed429be666", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3bbd58151e8b45501da6b011f9607be86a963bed/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3bbd58151e8b45501da6b011f9607be86a963bed/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3bbd58151e8b45501da6b011f9607be86a963bed", "patch": "@@ -1,3 +1,11 @@\n+2014-08-21  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* cfgbuild.c (make_edges): Strengthen local \"insn\" from rtx to\n+\trtx_insn *.\n+\t(purge_dead_tablejump_edges): Likewise.\n+\t(find_bb_boundaries): Likewise for locals \"insn\", \"end\",\n+\t\"flow_transfer_insn\".\n+\n 2014-08-21  David Malcolm  <dmalcolm@redhat.com>\n \n \t* caller-save.c (save_call_clobbered_regs): Strengthen locals"}, {"sha": "8bbf32598920adbc0fb4f4eb99d0c20629d6f2d5", "filename": "gcc/cfgbuild.c", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3bbd58151e8b45501da6b011f9607be86a963bed/gcc%2Fcfgbuild.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3bbd58151e8b45501da6b011f9607be86a963bed/gcc%2Fcfgbuild.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgbuild.c?ref=3bbd58151e8b45501da6b011f9607be86a963bed", "patch": "@@ -218,7 +218,8 @@ make_edges (basic_block min, basic_block max, int update_p)\n \n   FOR_BB_BETWEEN (bb, min, max->next_bb, next_bb)\n     {\n-      rtx insn, x;\n+      rtx_insn *insn;\n+      rtx x;\n       enum rtx_code code;\n       edge e;\n       edge_iterator ei;\n@@ -399,7 +400,8 @@ mark_tablejump_edge (rtx label)\n static void\n purge_dead_tablejump_edges (basic_block bb, rtx table)\n {\n-  rtx insn = BB_END (bb), tmp;\n+  rtx_insn *insn = BB_END (bb);\n+  rtx tmp;\n   rtvec vec;\n   int j;\n   edge_iterator ei;\n@@ -443,10 +445,10 @@ static void\n find_bb_boundaries (basic_block bb)\n {\n   basic_block orig_bb = bb;\n-  rtx insn = BB_HEAD (bb);\n-  rtx end = BB_END (bb), x;\n+  rtx_insn *insn = BB_HEAD (bb);\n+  rtx_insn *end = BB_END (bb), *x;\n   rtx_jump_table_data *table;\n-  rtx flow_transfer_insn = NULL_RTX;\n+  rtx_insn *flow_transfer_insn = NULL;\n   edge fallthru = NULL;\n \n   if (insn == BB_END (bb))\n@@ -480,7 +482,7 @@ find_bb_boundaries (basic_block bb)\n \n \t  bb = fallthru->dest;\n \t  remove_edge (fallthru);\n-\t  flow_transfer_insn = NULL_RTX;\n+\t  flow_transfer_insn = NULL;\n \t  if (code == CODE_LABEL && LABEL_ALT_ENTRY_P (insn))\n \t    make_edge (ENTRY_BLOCK_PTR_FOR_FN (cfun), bb, 0);\n \t}"}]}