{"sha": "ca081cc8daedb96f611909ab0351546b327e9957", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2EwODFjYzhkYWVkYjk2ZjYxMTkwOWFiMDM1MTU0NmIzMjdlOTk1Nw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2013-09-22T21:57:39Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2013-09-22T21:57:39Z"}, "message": "gimplify.c (gimplify_asm_expr): Reset the TREE_CHAIN of clobbers to NULL_TREE before pushing them onto the vector.\n\n\t* gimplify.c (gimplify_asm_expr): Reset the TREE_CHAIN of clobbers to\n\tNULL_TREE before pushing them onto the vector.  Likewise for labels.\n\nFrom-SVN: r202819", "tree": {"sha": "fbbc9ef0803d049e20bb2941a4a18497a72da342", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fbbc9ef0803d049e20bb2941a4a18497a72da342"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca081cc8daedb96f611909ab0351546b327e9957", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca081cc8daedb96f611909ab0351546b327e9957", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca081cc8daedb96f611909ab0351546b327e9957", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca081cc8daedb96f611909ab0351546b327e9957/comments", "author": null, "committer": null, "parents": [{"sha": "9779c871afc648329500747748c70b59b47abdf7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9779c871afc648329500747748c70b59b47abdf7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9779c871afc648329500747748c70b59b47abdf7"}], "stats": {"total": 23, "additions": 19, "deletions": 4}, "files": [{"sha": "211dfb70ac50c6fba5a718cc955d7a856026e4de", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca081cc8daedb96f611909ab0351546b327e9957/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca081cc8daedb96f611909ab0351546b327e9957/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ca081cc8daedb96f611909ab0351546b327e9957", "patch": "@@ -1,3 +1,8 @@\n+2013-09-22  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gimplify.c (gimplify_asm_expr): Reset the TREE_CHAIN of clobbers to\n+\tNULL_TREE before pushing them onto the vector.  Likewise for labels.\n+\n 2013-09-21  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* config/ia64/predicates.md (ia64_cbranch_operator): Accept unordered"}, {"sha": "86bda77692ffac5e6c9243de881ab5ac3109a7ba", "filename": "gcc/gimplify.c", "status": "modified", "additions": 14, "deletions": 4, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca081cc8daedb96f611909ab0351546b327e9957/gcc%2Fgimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca081cc8daedb96f611909ab0351546b327e9957/gcc%2Fgimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimplify.c?ref=ca081cc8daedb96f611909ab0351546b327e9957", "patch": "@@ -5419,11 +5419,21 @@ gimplify_asm_expr (tree *expr_p, gimple_seq *pre_p, gimple_seq *post_p)\n       vec_safe_push (inputs, link);\n     }\n \n-  for (link = ASM_CLOBBERS (expr); link; ++i, link = TREE_CHAIN (link))\n-    vec_safe_push (clobbers, link);\n+  link_next = NULL_TREE;\n+  for (link = ASM_CLOBBERS (expr); link; ++i, link = link_next)\n+    {\n+      link_next = TREE_CHAIN (link);\n+      TREE_CHAIN (link) = NULL_TREE;\n+      vec_safe_push (clobbers, link);\n+    }\n \n-  for (link = ASM_LABELS (expr); link; ++i, link = TREE_CHAIN (link))\n-    vec_safe_push (labels, link);\n+  link_next = NULL_TREE;\n+  for (link = ASM_LABELS (expr); link; ++i, link = link_next)\n+    {\n+      link_next = TREE_CHAIN (link);\n+      TREE_CHAIN (link) = NULL_TREE;\n+      vec_safe_push (labels, link);\n+    }\n \n   /* Do not add ASMs with errors to the gimple IL stream.  */\n   if (ret != GS_ERROR)"}]}