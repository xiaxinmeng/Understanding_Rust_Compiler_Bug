{"sha": "28bbc9678774d275d38ef23ee82bd96aab2f2864", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjhiYmM5Njc4Nzc0ZDI3NWQzOGVmMjNlZTgyYmQ5NmFhYjJmMjg2NA==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernd.schmidt@analog.com", "date": "2007-11-27T12:22:18Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2007-11-27T12:22:18Z"}, "message": "elf.h (SUBTARGET_DRIVER_SELF_SPECS): New macro.\n\n\t* config/bfin/elf.h (SUBTARGET_DRIVER_SELF_SPECS): New macro.\n\t* doc/invoke.texi (Blackfin Options): Document the effects.\n\nFrom-SVN: r130464", "tree": {"sha": "08a58e49642e400ca058bf6e45d04ea97a303787", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/08a58e49642e400ca058bf6e45d04ea97a303787"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/28bbc9678774d275d38ef23ee82bd96aab2f2864", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28bbc9678774d275d38ef23ee82bd96aab2f2864", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28bbc9678774d275d38ef23ee82bd96aab2f2864", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28bbc9678774d275d38ef23ee82bd96aab2f2864/comments", "author": null, "committer": null, "parents": [{"sha": "ce41114b00a852a221f93a0a18c8ad03a426ee79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce41114b00a852a221f93a0a18c8ad03a426ee79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce41114b00a852a221f93a0a18c8ad03a426ee79"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "0916b1c7d9256cceb356a6b31af260e2cf5c571a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28bbc9678774d275d38ef23ee82bd96aab2f2864/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28bbc9678774d275d38ef23ee82bd96aab2f2864/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=28bbc9678774d275d38ef23ee82bd96aab2f2864", "patch": "@@ -1,3 +1,8 @@\n+2007-11-27  Bernd Schmidt  <bernd.schmidt@analog.com>\n+\n+\t* config/bfin/elf.h (SUBTARGET_DRIVER_SELF_SPECS): New macro.\n+\t* doc/invoke.texi (Blackfin Options): Document the effects.\n+\n 2007-11-27  Ben Elliston  <bje@au.ibm.com>\n \n \t* config/rs6000/sysv4.opt (m32): Add Negative(m64)."}, {"sha": "89f91308edacf6b8a76ff56b7982ab1bbdaf9a23", "filename": "gcc/config/bfin/elf.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28bbc9678774d275d38ef23ee82bd96aab2f2864/gcc%2Fconfig%2Fbfin%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28bbc9678774d275d38ef23ee82bd96aab2f2864/gcc%2Fconfig%2Fbfin%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Felf.h?ref=28bbc9678774d275d38ef23ee82bd96aab2f2864", "patch": "@@ -30,4 +30,8 @@ asm (\"P3 = [SP + 20];\\n\\tcall \" USER_LABEL_PREFIX #FUNC \";\"); \\\n asm (TEXT_SECTION_ASM_OP);\n #endif\n \n+#undef SUBTARGET_DRIVER_SELF_SPECS\n+#define SUBTARGET_DRIVER_SELF_SPECS \\\n+     \"%{mfdpic:-msim} %{mid-shared-library:-msim}\"\n+\n #define NO_IMPLICIT_EXTERN_C"}, {"sha": "9fe5fde0f29cd8e110959cad29593cca0cf37a43", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28bbc9678774d275d38ef23ee82bd96aab2f2864/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28bbc9678774d275d38ef23ee82bd96aab2f2864/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=28bbc9678774d275d38ef23ee82bd96aab2f2864", "patch": "@@ -8668,6 +8668,8 @@ provided by libgloss to be linked in if @option{-msim} is not given.\n Specifies that the program will be run on the simulator.  This causes\n the simulator BSP provided by libgloss to be linked in.  This option\n has effect only for @samp{bfin-elf} toolchain.\n+Certain other options, such as @option{-mid-shared-library} and\n+@option{-mfdpic}, imply @option{-msim}.\n \n @item -momit-leaf-frame-pointer\n @opindex momit-leaf-frame-pointer\n@@ -8717,6 +8719,7 @@ uClinux kernel.\n Generate code that supports shared libraries via the library ID method.\n This allows for execute in place and shared libraries in an environment\n without virtual memory management.  This option implies @option{-fPIC}.\n+With a @samp{bfin-elf} target, this option implies @option{-msim}.\n \n @item -mno-id-shared-library\n @opindex mno-id-shared-library\n@@ -9642,6 +9645,7 @@ implies @option{-fPIE}.  With @option{-fpic} or @option{-fpie}, it\n assumes GOT entries and small data are within a 12-bit range from the\n GOT base address; with @option{-fPIC} or @option{-fPIE}, GOT offsets\n are computed with 32 bits.\n+With a @samp{bfin-elf} target, this option implies @option{-msim}.\n \n @item -minline-plt\n @opindex minline-plt"}]}