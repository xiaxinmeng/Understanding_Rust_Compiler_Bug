{"sha": "e1061681b93e842d8317043e1accf3491a37d1f7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTEwNjE2ODFiOTNlODQyZDgzMTcwNDNlMWFjY2YzNDkxYTM3ZDFmNw==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-03-11T02:26:36Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-03-11T02:26:36Z"}, "message": "re PR libfortran/43320 (200.sixtrack fails setup)\n\n2010-03-10  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/43320\n\tPR libfortran/43265\n\t* gfortran.dg/read_eof_6.f: New test\n\t* gfortran.dg/read_x_eof.f90: Update test.\n\t* gfortran.dg/read_x_past.f: Update test.\n\nFrom-SVN: r157378", "tree": {"sha": "0dde9f08973d8622322ab999466060db1374efea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0dde9f08973d8622322ab999466060db1374efea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e1061681b93e842d8317043e1accf3491a37d1f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1061681b93e842d8317043e1accf3491a37d1f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1061681b93e842d8317043e1accf3491a37d1f7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1061681b93e842d8317043e1accf3491a37d1f7/comments", "author": null, "committer": null, "parents": [{"sha": "b7137299f1070a262d927bc850823202e6014566", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7137299f1070a262d927bc850823202e6014566", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7137299f1070a262d927bc850823202e6014566"}], "stats": {"total": 42, "additions": 42, "deletions": 0}, "files": [{"sha": "75a85ee7b72b2b480dc9e393b38a62d7810b8df2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1061681b93e842d8317043e1accf3491a37d1f7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1061681b93e842d8317043e1accf3491a37d1f7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e1061681b93e842d8317043e1accf3491a37d1f7", "patch": "@@ -1,3 +1,11 @@\n+2010-03-10  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/43320\n+\tPR libfortran/43265\n+\t* gfortran.dg/read_eof_6.f: New test\n+\t* gfortran.dg/read_x_eof.f90: Update test.\n+\t* gfortran.dg/read_x_past.f: Update test.\n+\n 2010-03-10  Jan Hubicka   <jh@suse.cz>\n \n \t* gcc.dg/compile/pr43288.c: New test."}, {"sha": "d4077481bda81950fe9b413765bf87b7e1110afc", "filename": "gcc/testsuite/gfortran.dg/read_eof_6.f", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1061681b93e842d8317043e1accf3491a37d1f7/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_eof_6.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1061681b93e842d8317043e1accf3491a37d1f7/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_eof_6.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_eof_6.f?ref=e1061681b93e842d8317043e1accf3491a37d1f7", "patch": "@@ -0,0 +1,7 @@\n+! { dg-do run }\n+! PR43320 Missing EOF on read from empty file.\n+      open(8,status='scratch',form='formatted')  ! Create empty file\n+      read(8,'(a80)', end=123)  ! Reading from an empty file should be an EOF\n+      call abort\n+123   continue\n+      end"}, {"sha": "f79f78522a7a854b4cbd958258341ae1c8248e1b", "filename": "gcc/testsuite/gfortran.dg/read_x_eof.f90", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1061681b93e842d8317043e1accf3491a37d1f7/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_x_eof.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1061681b93e842d8317043e1accf3491a37d1f7/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_x_eof.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_x_eof.f90?ref=e1061681b93e842d8317043e1accf3491a37d1f7", "patch": "@@ -0,0 +1,16 @@\n+! { dg-do run }\n+! PR43265 No EOF condition if reading with '(x)' from an empty file\n+! Test case from the reporter.\n+program pr43265\n+implicit none\n+integer::i\n+open(23,status=\"scratch\")\n+write(23,'(a)') \"Line 1\"\n+write(23,'(a)') \"Line 2\"\n+write(23,'(a)') \"Line 3\"\n+rewind(23)\n+do i=1,10\n+  read(23,'(1x)',end=12)\n+enddo\n+12 if (i.ne.4) call abort\n+end"}, {"sha": "eee68d387319df4193a018db90344a28d4c1e51c", "filename": "gcc/testsuite/gfortran.dg/read_x_past.f", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1061681b93e842d8317043e1accf3491a37d1f7/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_x_past.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1061681b93e842d8317043e1accf3491a37d1f7/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_x_past.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_x_past.f?ref=e1061681b93e842d8317043e1accf3491a37d1f7", "patch": "@@ -2,6 +2,7 @@\n ! { dg-options -w }\n ! PR 26661 : Test reading X's past file end with no LF or CR.\n ! PR 26880 : Tests that rewind clears the gfc_unit read_bad flag.\n+! PR 43265 : Tests that no error occurs with or without X at end.\n ! Contributed by Jerry DeLisle <jvdelisle@gcc.gnu.org>.\n       implicit none\n       character(3) a(4)\n@@ -10,8 +11,18 @@\n  10   format(A,$)  ! This is not pedantic\n       write(10,10)' abc def ghi jkl'\n       rewind(10)\n+\n+      a = \"\"\n       read(10,20)(a(i),i=1,4)\n       if (a(4).ne.\"jkl\") call abort()\n+\n+      rewind(10)\n+\n+      a = \"\"\n+      read(10,30)(a(i),i=1,4)\n+      if (a(4).ne.\"jkl\") call abort()\n+\n  20   format(1x,a3,1x,a3,1x,a3,1x,a3,10x)\n+ 30   format(1x,a3,1x,a3,1x,a3,1x,a3)\n       close(10)\n       end"}]}