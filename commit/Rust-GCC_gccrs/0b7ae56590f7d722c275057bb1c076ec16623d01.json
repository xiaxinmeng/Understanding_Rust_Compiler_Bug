{"sha": "0b7ae56590f7d722c275057bb1c076ec16623d01", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGI3YWU1NjU5MGY3ZDcyMmMyNzUwNTdiYjFjMDc2ZWMxNjYyM2QwMQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-05-28T20:27:45Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-05-28T20:27:45Z"}, "message": "i386.c (ix86_compute_frame_layout): Do not add bottom alignment for leaf functions.\n\n        * config/i386/i386.c (ix86_compute_frame_layout): Do not add\n        bottom alignment for leaf functions.\n\nFrom-SVN: r53965", "tree": {"sha": "9ee0a47e45ceb034f0cc3cfa471a997423d3eae0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9ee0a47e45ceb034f0cc3cfa471a997423d3eae0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0b7ae56590f7d722c275057bb1c076ec16623d01", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b7ae56590f7d722c275057bb1c076ec16623d01", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b7ae56590f7d722c275057bb1c076ec16623d01", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b7ae56590f7d722c275057bb1c076ec16623d01/comments", "author": null, "committer": null, "parents": [{"sha": "16069d69ac053449065e5f74b121120b44d7f97b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16069d69ac053449065e5f74b121120b44d7f97b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/16069d69ac053449065e5f74b121120b44d7f97b"}], "stats": {"total": 19, "additions": 14, "deletions": 5}, "files": [{"sha": "54e828f86071e21cd1f77380365a00379ca21f66", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7ae56590f7d722c275057bb1c076ec16623d01/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7ae56590f7d722c275057bb1c076ec16623d01/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0b7ae56590f7d722c275057bb1c076ec16623d01", "patch": "@@ -1,3 +1,8 @@\n+2002-05-28  Richard Henderson  <rth@redhat.com>\n+\n+\t* config/i386/i386.c (ix86_compute_frame_layout): Do not add\n+\tbottom alignment for leaf functions.\n+\n 2002-05-28  Zack Weinberg  <zack@codesourcery.com>\n \n \t* config/pa/milli32.S, config/pa/lib1funcs.asm,"}, {"sha": "39831af4745795a51c81a14da6fd2a7a9465d7b0", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7ae56590f7d722c275057bb1c076ec16623d01/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7ae56590f7d722c275057bb1c076ec16623d01/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=0b7ae56590f7d722c275057bb1c076ec16623d01", "patch": "@@ -4138,18 +4138,22 @@ ix86_compute_frame_layout (frame)\n \n   offset += size;\n \n-  /* Add outgoing arguments area.  */\n-  if (ACCUMULATE_OUTGOING_ARGS)\n+  /* Add outgoing arguments area.  Can be skipped if we eliminated\n+     all the function calls as dead code.  */\n+  if (ACCUMULATE_OUTGOING_ARGS && !current_function_is_leaf)\n     {\n       offset += current_function_outgoing_args_size;\n       frame->outgoing_arguments_size = current_function_outgoing_args_size;\n     }\n   else\n     frame->outgoing_arguments_size = 0;\n \n-  /* Align stack boundary.  */\n-  frame->padding2 = ((offset + preferred_alignment - 1)\n-\t\t     & -preferred_alignment) - offset;\n+  /* Align stack boundary.  Only needed if we're calling another function.  */\n+  if (!current_function_is_leaf)\n+    frame->padding2 = ((offset + preferred_alignment - 1)\n+\t\t       & -preferred_alignment) - offset;\n+  else\n+    frame->padding2 = 0;\n \n   offset += frame->padding2;\n "}]}