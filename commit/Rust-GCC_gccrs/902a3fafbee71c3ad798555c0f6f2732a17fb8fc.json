{"sha": "902a3fafbee71c3ad798555c0f6f2732a17fb8fc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTAyYTNmYWZiZWU3MWMzYWQ3OTg1NTVjMGY2ZjI3MzJhMTdmYjhmYw==", "commit": {"author": {"name": "Andreas Krebbel", "email": "Andreas.Krebbel@de.ibm.com", "date": "2013-07-23T07:20:52Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2013-07-23T07:20:52Z"}, "message": "linux-unwind.h: Use the proper dwarf to hard reg mapping for FPRs when...\n\n2013-07-23  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n\n\t* config/s390/linux-unwind.h: Use the proper dwarf to hard reg\n\tmapping for FPRs when creating the fallback framestate.\n\nFrom-SVN: r201156", "tree": {"sha": "096e6f760e02e2f9ccab0cdd8e6ba149d4784f2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/096e6f760e02e2f9ccab0cdd8e6ba149d4784f2b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/902a3fafbee71c3ad798555c0f6f2732a17fb8fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/902a3fafbee71c3ad798555c0f6f2732a17fb8fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/902a3fafbee71c3ad798555c0f6f2732a17fb8fc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/902a3fafbee71c3ad798555c0f6f2732a17fb8fc/comments", "author": null, "committer": null, "parents": [{"sha": "5f9ae7f2d6fa96a0107bbfc9e8d7cd3727fcf2d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f9ae7f2d6fa96a0107bbfc9e8d7cd3727fcf2d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f9ae7f2d6fa96a0107bbfc9e8d7cd3727fcf2d0"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "78700d7a15c8ddadf42d6a847f4567fa28930cb9", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/902a3fafbee71c3ad798555c0f6f2732a17fb8fc/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/902a3fafbee71c3ad798555c0f6f2732a17fb8fc/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=902a3fafbee71c3ad798555c0f6f2732a17fb8fc", "patch": "@@ -1,3 +1,8 @@\n+2013-07-23  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n+\n+\t* config/s390/linux-unwind.h: Use the proper dwarf to hard reg\n+\tmapping for FPRs when creating the fallback framestate.\n+\n 2013-07-19  Georg-Johann Lay  <avr@gjlay.de>\n \n \tPR target/57516"}, {"sha": "686091697072775f821b5580a263e17f1ba63df4", "filename": "libgcc/config/s390/linux-unwind.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/902a3fafbee71c3ad798555c0f6f2732a17fb8fc/libgcc%2Fconfig%2Fs390%2Flinux-unwind.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/902a3fafbee71c3ad798555c0f6f2732a17fb8fc/libgcc%2Fconfig%2Fs390%2Flinux-unwind.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fs390%2Flinux-unwind.h?ref=902a3fafbee71c3ad798555c0f6f2732a17fb8fc", "patch": "@@ -31,6 +31,8 @@ static _Unwind_Reason_Code\n s390_fallback_frame_state (struct _Unwind_Context *context,\n \t\t\t   _Unwind_FrameState *fs)\n {\n+  static const unsigned char dwarf_to_fpr_map[16] =\n+    { 0, 2, 4, 6, 1, 3, 5, 7, 8, 10, 12, 14, 9, 11, 13, 15 };\n   unsigned char *pc = context->ra;\n   long new_cfa;\n   int i;\n@@ -112,7 +114,7 @@ s390_fallback_frame_state (struct _Unwind_Context *context,\n     {\n       fs->regs.reg[16+i].how = REG_SAVED_OFFSET;\n       fs->regs.reg[16+i].loc.offset =\n-\t(long)&regs->fprs[i] - new_cfa;\n+\t(long)&regs->fprs[dwarf_to_fpr_map[i]] - new_cfa;\n     }\n \n   /* Load return addr from PSW into dummy register 32.  */"}]}