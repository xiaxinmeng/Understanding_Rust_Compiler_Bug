{"sha": "7c47a3bea6f270a6e0a778eb1acd5f76e863213f", "node_id": "C_kwDOANBUbNoAKDdjNDdhM2JlYTZmMjcwYTZlMGE3NzhlYjFhY2Q1Zjc2ZTg2MzIxM2Y", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2023-01-25T11:24:32Z"}, "committer": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2023-01-25T11:24:32Z"}, "message": "aarch64: Update sizeless tests\n\nThe sizeless-*.c tests contained (deliberately) invalid constructors\nthat had two errors.  The first error now suppresses the second error,\nbut the second error was the main focus of the test.  This patch\ntherefore rewrites it into a different form.\n\ngcc/testsuite/\n\t* gcc.target/aarch64/sve/acle/general-c/sizeless-1.c: Avoid\n\t\"initializer element is not constant\" error.\n\t* gcc.target/aarch64/sve/acle/general-c/sizeless-2.c: Likewise.", "tree": {"sha": "05745ce876696f104cbaf4d55beb0f1d06530232", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/05745ce876696f104cbaf4d55beb0f1d06530232"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7c47a3bea6f270a6e0a778eb1acd5f76e863213f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c47a3bea6f270a6e0a778eb1acd5f76e863213f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c47a3bea6f270a6e0a778eb1acd5f76e863213f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c47a3bea6f270a6e0a778eb1acd5f76e863213f/comments", "author": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "27b2eb6b35bb1cc28fd67e0437ff2e8422df2ab0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27b2eb6b35bb1cc28fd67e0437ff2e8422df2ab0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27b2eb6b35bb1cc28fd67e0437ff2e8422df2ab0"}], "stats": {"total": 6, "additions": 2, "deletions": 4}, "files": [{"sha": "01cfd14f873a0e042e002975b8409b075f3d9b31", "filename": "gcc/testsuite/gcc.target/aarch64/sve/acle/general-c/sizeless-1.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c47a3bea6f270a6e0a778eb1acd5f76e863213f/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fsve%2Facle%2Fgeneral-c%2Fsizeless-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c47a3bea6f270a6e0a778eb1acd5f76e863213f/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fsve%2Facle%2Fgeneral-c%2Fsizeless-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fsve%2Facle%2Fgeneral-c%2Fsizeless-1.c?ref=7c47a3bea6f270a6e0a778eb1acd5f76e863213f", "patch": "@@ -30,8 +30,7 @@ union union1 {\n /* Pointers to sizeless types.  */\n \n svint8_t *global_sve_sc_ptr;\n-svint8_t *invalid_sve_sc_ptr = &(svint8_t) { *global_sve_sc_ptr }; /* { dg-error {initializer element is not constant} } */\n-  /* { dg-error {SVE type 'svint8_t' does not have a fixed size} \"2nd line\" { target *-*-* } .-1 } */\n+svint8_t *invalid_sve_sc_ptr = &(svint8_t) {};  /* { dg-error {SVE type 'svint8_t' does not have a fixed size} } */\n \n /* Sizeless arguments and return values.  */\n "}, {"sha": "613b9c478780fae977cf3687c11cb22276e9cd8a", "filename": "gcc/testsuite/gcc.target/aarch64/sve/acle/general-c/sizeless-2.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c47a3bea6f270a6e0a778eb1acd5f76e863213f/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fsve%2Facle%2Fgeneral-c%2Fsizeless-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c47a3bea6f270a6e0a778eb1acd5f76e863213f/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fsve%2Facle%2Fgeneral-c%2Fsizeless-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fsve%2Facle%2Fgeneral-c%2Fsizeless-2.c?ref=7c47a3bea6f270a6e0a778eb1acd5f76e863213f", "patch": "@@ -30,8 +30,7 @@ union union1 {\n /* Pointers to sizeless types.  */\n \n svint8_t *global_sve_sc_ptr;\n-svint8_t *invalid_sve_sc_ptr = &(svint8_t) { *global_sve_sc_ptr }; /* { dg-error {initializer element is not constant} } */\n-  /* { dg-error {SVE type 'svint8_t' does not have a fixed size} \"2nd line\" { target *-*-* } .-1 } */\n+svint8_t *invalid_sve_sc_ptr = &(svint8_t) {}; /* { dg-error {SVE type 'svint8_t' does not have a fixed size} } */\n \n /* Sizeless arguments and return values.  */\n "}]}