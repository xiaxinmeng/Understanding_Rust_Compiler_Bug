{"sha": "c0aefbbe26379c16797a84130f4e890a3748c691", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzBhZWZiYmUyNjM3OWMxNjc5N2E4NDEzMGY0ZTg5MGEzNzQ4YzY5MQ==", "commit": {"author": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2010-12-08T23:32:27Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2010-12-08T23:32:27Z"}, "message": "gcc/config.gcc (with_cpu): Default i[34567]86-*-darwin* and x86_64-*-darwin* to with_cpu:-core2.\n\n2010-12-08  Iain Sandoe <iains@gcc.gnu.org>\n\n\tgcc/config.gcc (with_cpu): Default i[34567]86-*-darwin* and\n\tx86_64-*-darwin* to with_cpu:-core2.\n\tgcc/config/i386/mmx.md (*mov<mode>_internal_rex64): Replace movq\n\twith movd for darwin assembler.\n\tgcc/config/i386/sse.md (*vec_concatv2di_rex64_sse4_1): Ditto.\n\t(*vec_concatv2di_rex64_sse): Ditto.\n\nFrom-SVN: r167611", "tree": {"sha": "f46767b5f405074e85eeec7b571a49fd692a0d92", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f46767b5f405074e85eeec7b571a49fd692a0d92"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c0aefbbe26379c16797a84130f4e890a3748c691", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0aefbbe26379c16797a84130f4e890a3748c691", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c0aefbbe26379c16797a84130f4e890a3748c691", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0aefbbe26379c16797a84130f4e890a3748c691/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7c35d89dca9e7c867d51e0bda2d0b98b2e147c86", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c35d89dca9e7c867d51e0bda2d0b98b2e147c86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c35d89dca9e7c867d51e0bda2d0b98b2e147c86"}], "stats": {"total": 27, "additions": 16, "deletions": 11}, "files": [{"sha": "60becc53dbdeb5b7b112a5b9da20c8c6949a403b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0aefbbe26379c16797a84130f4e890a3748c691/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0aefbbe26379c16797a84130f4e890a3748c691/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c0aefbbe26379c16797a84130f4e890a3748c691", "patch": "@@ -1,3 +1,12 @@\n+2010-12-08  Iain Sandoe <iains@gcc.gnu.org>\n+\n+\tgcc/config.gcc (with_cpu): Default i[34567]86-*-darwin* and\n+\tx86_64-*-darwin* to with_cpu:-core2.\n+\tgcc/config/i386/mmx.md (*mov<mode>_internal_rex64): Replace movq\n+\twith movd for darwin assembler.\n+\tgcc/config/i386/sse.md (*vec_concatv2di_rex64_sse4_1): Ditto.\n+\t(*vec_concatv2di_rex64_sse): Ditto.\n+\n 2010-12-08  Richard Guenther  <rguenther@suse.de>\n \t    Sebastian Pop  <sebastian.pop@amd.com>\n "}, {"sha": "12377e651b0acb94a1d30c1b95728839aa31b2e5", "filename": "gcc/config.gcc", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0aefbbe26379c16797a84130f4e890a3748c691/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0aefbbe26379c16797a84130f4e890a3748c691/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=c0aefbbe26379c16797a84130f4e890a3748c691", "patch": "@@ -1165,16 +1165,12 @@ hppa[12]*-*-hpux11*)\n i[34567]86-*-darwin*)\n \tneed_64bit_hwint=yes\n \tneed_64bit_isa=yes\n-\n-\t# This is so that '.../configure && make' doesn't fail due to\n-\t# config.guess deciding that the configuration is i386-*-darwin* and\n-\t# then this file using that to set --with-cpu=i386 which has no -m64\n-\t# support.\n-\twith_cpu=${with_cpu:-generic}\n+\t# Baseline choice for a machine that allows m64 support.\n+\twith_cpu=${with_cpu:-core2}\n \ttmake_file=\"${tmake_file} t-slibgcc-darwin i386/t-crtpc i386/t-crtfm\"\n \t;;\n x86_64-*-darwin*)\n-\twith_cpu=${with_cpu:-generic}\n+\twith_cpu=${with_cpu:-core2}\n \ttmake_file=\"${tmake_file} ${cpu_type}/t-darwin64 t-slibgcc-darwin i386/t-crtpc i386/t-crtfm\"\n \ttm_file=\"${tm_file} ${cpu_type}/darwin64.h\"\n \t;;"}, {"sha": "0be63d00a63aafd76fe529629df73edce656ceac", "filename": "gcc/config/i386/mmx.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0aefbbe26379c16797a84130f4e890a3748c691/gcc%2Fconfig%2Fi386%2Fmmx.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0aefbbe26379c16797a84130f4e890a3748c691/gcc%2Fconfig%2Fi386%2Fmmx.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fmmx.md?ref=c0aefbbe26379c16797a84130f4e890a3748c691", "patch": "@@ -82,8 +82,8 @@\n     %vpxor\\t%0, %d0\n     %vmovq\\t{%1, %0|%0, %1}\n     %vmovq\\t{%1, %0|%0, %1}\n-    %vmovq\\t{%1, %0|%0, %1}\n-    %vmovq\\t{%1, %0|%0, %1}\"\n+    %vmovd\\t{%1, %0|%0, %1}\n+    %vmovd\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"imov,imov,mmx,mmxmov,mmxmov,mmxmov,ssecvt,ssecvt,sselog1,ssemov,ssemov,ssemov,ssemov\")\n    (set_attr \"unit\" \"*,*,*,*,*,*,mmx,mmx,*,*,*,*,*\")\n    (set_attr \"prefix_rep\" \"*,*,*,*,*,*,1,1,*,1,*,*,*\")"}, {"sha": "e13308c0de4d03276288ae159690515d36ae9052", "filename": "gcc/config/i386/sse.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0aefbbe26379c16797a84130f4e890a3748c691/gcc%2Fconfig%2Fi386%2Fsse.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0aefbbe26379c16797a84130f4e890a3748c691/gcc%2Fconfig%2Fi386%2Fsse.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsse.md?ref=c0aefbbe26379c16797a84130f4e890a3748c691", "patch": "@@ -7719,7 +7719,7 @@\n   \"@\n    pinsrq\\t{$0x1, %2, %0|%0, %2, 0x1}\n    movq\\t{%1, %0|%0, %1}\n-   movq\\t{%1, %0|%0, %1}\n+   movd\\t{%1, %0|%0, %1}\n    movq2dq\\t{%1, %0|%0, %1}\n    punpcklqdq\\t{%2, %0|%0, %2}\n    movlhps\\t{%2, %0|%0, %2}\n@@ -7738,7 +7738,7 @@\n   \"TARGET_64BIT && TARGET_SSE\"\n   \"@\n    movq\\t{%1, %0|%0, %1}\n-   movq\\t{%1, %0|%0, %1}\n+   movd\\t{%1, %0|%0, %1}\n    movq2dq\\t{%1, %0|%0, %1}\n    punpcklqdq\\t{%2, %0|%0, %2}\n    movlhps\\t{%2, %0|%0, %2}"}]}