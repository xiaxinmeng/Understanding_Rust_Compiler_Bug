{"sha": "f675afa4eeac9910a2c085a95aa04d6d9f2fd8d6", "node_id": "C_kwDOANBUbNoAKGY2NzVhZmE0ZWVhYzk5MTBhMmMwODVhOTVhYTA0ZDZkOWYyZmQ4ZDY", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2022-08-10T13:45:22Z"}, "committer": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2022-08-10T14:38:41Z"}, "message": "tree-optimization/106513 - fix mistake in bswap symbolic number shifts\n\nThis fixes a mistake in typing a local variable in the symbolic\nshift routine.\n\n\tPR tree-optimization/106513\n\t* gimple-ssa-store-merging.cc (do_shift_rotate): Use uint64_t\n\tfor head_marker.\n\n\t* gcc.dg/torture/pr106513.c: New testcase.", "tree": {"sha": "7c0370d11e5f03e310bc30d2a18ce3a5d934afdc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7c0370d11e5f03e310bc30d2a18ce3a5d934afdc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f675afa4eeac9910a2c085a95aa04d6d9f2fd8d6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f675afa4eeac9910a2c085a95aa04d6d9f2fd8d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f675afa4eeac9910a2c085a95aa04d6d9f2fd8d6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f675afa4eeac9910a2c085a95aa04d6d9f2fd8d6/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fed766af32ed6cd371016cc24e931131e19b4eb1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fed766af32ed6cd371016cc24e931131e19b4eb1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fed766af32ed6cd371016cc24e931131e19b4eb1"}], "stats": {"total": 28, "additions": 27, "deletions": 1}, "files": [{"sha": "b80b8eac4444d4bf580d5eb52c1fca4f431305b5", "filename": "gcc/gimple-ssa-store-merging.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f675afa4eeac9910a2c085a95aa04d6d9f2fd8d6/gcc%2Fgimple-ssa-store-merging.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f675afa4eeac9910a2c085a95aa04d6d9f2fd8d6/gcc%2Fgimple-ssa-store-merging.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-ssa-store-merging.cc?ref=f675afa4eeac9910a2c085a95aa04d6d9f2fd8d6", "patch": "@@ -263,7 +263,7 @@ do_shift_rotate (enum tree_code code,\n \t\t int count)\n {\n   int i, size = TYPE_PRECISION (n->type) / BITS_PER_UNIT;\n-  unsigned head_marker;\n+  uint64_t head_marker;\n \n   if (count < 0\n       || count >= TYPE_PRECISION (n->type)"}, {"sha": "aa4f4d513d7524761da16fd3c713425b27edfe6b", "filename": "gcc/testsuite/gcc.dg/torture/pr106513.c", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f675afa4eeac9910a2c085a95aa04d6d9f2fd8d6/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr106513.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f675afa4eeac9910a2c085a95aa04d6d9f2fd8d6/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr106513.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr106513.c?ref=f675afa4eeac9910a2c085a95aa04d6d9f2fd8d6", "patch": "@@ -0,0 +1,26 @@\n+/* { dg-do run } */\n+\n+typedef __INT64_TYPE__ int64_t;\n+\n+__attribute__((noinline)) int64_t\n+swap64 (int64_t n)\n+{\n+  return (((n & (((int64_t) 0xff) )) << 56) |\n+          ((n & (((int64_t) 0xff) << 8)) << 40) |\n+          ((n & (((int64_t) 0xff) << 16)) << 24) |\n+          ((n & (((int64_t) 0xff) << 24)) << 8) |\n+          ((n & (((int64_t) 0xff) << 32)) >> 8) |\n+          ((n & (((int64_t) 0xff) << 40)) >> 24) |\n+          ((n & (((int64_t) 0xff) << 48)) >> 40) |\n+          ((n & ((int64_t)(0xffull << 56))) >> 56));\n+}\n+\n+int main (void)\n+{\n+  volatile int64_t n = 0x8000000000000000ll;\n+\n+  if (swap64(n) != 0xffffffffffffff80ll)\n+    __builtin_abort ();\n+\n+  return 0;\n+}"}]}