{"sha": "e263bc93119f503c0864339471d021231a2efae6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTI2M2JjOTMxMTlmNTAzYzA4NjQzMzk0NzFkMDIxMjMxYTJlZmFlNg==", "commit": {"author": {"name": "Terry Laurenzo", "email": "tlaurenzo@gmail.com", "date": "2005-11-08T00:21:21Z"}, "committer": {"name": "Terry Laurenzo", "email": "tlaurenzo@gcc.gnu.org", "date": "2005-11-08T00:21:21Z"}, "message": "Removed decompilation for non-ELF targets.\n\nFrom-SVN: r106628", "tree": {"sha": "30bba45e6c90ec08dcafa0e8a956685f6b8eddd0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/30bba45e6c90ec08dcafa0e8a956685f6b8eddd0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e263bc93119f503c0864339471d021231a2efae6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e263bc93119f503c0864339471d021231a2efae6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e263bc93119f503c0864339471d021231a2efae6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e263bc93119f503c0864339471d021231a2efae6/comments", "author": null, "committer": null, "parents": [{"sha": "9ed5f107bbf64553931fd141c8682b8acbbc19ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ed5f107bbf64553931fd141c8682b8acbbc19ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ed5f107bbf64553931fd141c8682b8acbbc19ba"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "bb614b5f87211f1f5f0da934a6738477eec39833", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e263bc93119f503c0864339471d021231a2efae6/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e263bc93119f503c0864339471d021231a2efae6/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=e263bc93119f503c0864339471d021231a2efae6", "patch": "@@ -1,3 +1,9 @@\n+2005-11-07   Terry Laurenzo   <tlaurenzo@gmail.com>\n+\n+\t* gjavah.c (HANDLE_CODE_ATTRIBUTE): Only define for ELF Object\n+\tformats.\n+\t* gjavah.c (decompile_method): Add ATTRIBUTE_UNUSED\n+\n 2005-10-12  Nathan Sidwell  <nathan@codesourcery.com>\n \t    Wil Mahan <wmahan@gmail.com>\n "}, {"sha": "02fd7799bfe814094745b9ee106afdbf44a3e42a", "filename": "gcc/java/gjavah.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e263bc93119f503c0864339471d021231a2efae6/gcc%2Fjava%2Fgjavah.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e263bc93119f503c0864339471d021231a2efae6/gcc%2Fjava%2Fgjavah.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fgjavah.c?ref=e263bc93119f503c0864339471d021231a2efae6", "patch": "@@ -145,7 +145,7 @@ static void print_method_info (FILE*, JCF*, int, int, JCF_u2);\n static void print_c_decl (FILE*, JCF*, int, int, int, const char *, int);\n static void print_stub_or_jni (FILE*, JCF*, int, int, int, const char *, int);\n static void print_full_cxx_name (FILE*, JCF*, int, int, int, const char *, int);\n-static void decompile_method (FILE*, JCF*, int);\n+static void decompile_method (FILE*, JCF*, int) ATTRIBUTE_UNUSED;\n static void add_class_decl (FILE*, JCF*, JCF_u2);\n \n static void print_name (FILE *, JCF *, int);\n@@ -250,8 +250,14 @@ static int is_first_data_member = 0;\n       }\t\t\t\t\t\t\t\t\t\\\n   }\n \n+/* Only include byte-code decompilation optimizations for ELF targets\n+   since the generated headers are only known to work with ELF weak\n+   symbol semnatics. Specifically, these optimizations are known to\n+   not work on PE-COFF and possibly others.  */\n+#ifdef OBJECT_FORMAT_ELF\n #define HANDLE_CODE_ATTRIBUTE(MAX_STACK, MAX_LOCALS, CODE_LENGTH)\t\\\n   if (out && method_declared) decompile_method (out, jcf, CODE_LENGTH);\n+#endif\n \n static int decompiled = 0;\n #define HANDLE_END_METHOD()\t\t\t\t\\"}]}