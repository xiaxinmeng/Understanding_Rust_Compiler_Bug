{"sha": "fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmIzNDBjM2M3ZjIzYjUxZTcxYzU0YTkyYjlmNmQ1YzdlMDBkNjA0NA==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2010-06-04T14:01:22Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2010-06-04T14:01:22Z"}, "message": "check_jni_methods.sh.in: Don't use diff -U.\n\n\tlibjava/classpath:\n\t* scripts/check_jni_methods.sh.in: Don't use diff -U.\n\tAdapt grep regex, ignore file and problem message.\n\n\tcontrib:\n\t* test_summary: Don't use diff -u.\n\tAdapt egrep regex.\n\nFrom-SVN: r160264", "tree": {"sha": "e58f12302bd24ab6edf6ea15ae3242e5b272abc0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e58f12302bd24ab6edf6ea15ae3242e5b272abc0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f251709af54dc788d21dd2c6a7d7e74d7167acef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f251709af54dc788d21dd2c6a7d7e74d7167acef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f251709af54dc788d21dd2c6a7d7e74d7167acef"}], "stats": {"total": 28, "additions": 19, "deletions": 9}, "files": [{"sha": "f03daf82766b6a6e47b7102faafab3eb77ee7017", "filename": "contrib/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044", "patch": "@@ -1,3 +1,8 @@\n+2010-06-04  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* test_summary: Don't use diff -u.\n+\tAdapt egrep regex.\n+\n 2010-06-02  Andrew Haley  <aph@redhat.com>\n \n \t* download_prerequisites: New script."}, {"sha": "5fc49f52bda7a7ab0eedef0e9f6f96924b69f4bd", "filename": "contrib/test_summary", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044/contrib%2Ftest_summary", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044/contrib%2Ftest_summary", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Ftest_summary?ref=fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044", "patch": "@@ -1,6 +1,6 @@\n #! /bin/sh\n \n-# (C) 1998, 1999, 2000, 2002, 2003, 2004, 2007, 2009\n+# (C) 1998, 1999, 2000, 2002, 2003, 2004, 2007, 2009, 2010\n # Free Software Foundation\n # Originally by Alexandre Oliva <oliva@dcc.unicamp.br>\n \n@@ -75,9 +75,9 @@ for file in $files; do\n     [ -f $file ] &&\n     anyfile=true &&\n     { $anychange ||\n-      anychange=`diff -u $file.sent $file 2>/dev/null |\n+      anychange=`diff $file.sent $file 2>/dev/null |\n \tif test ! -f $file.sent ||\n-\t   egrep '^[-+](XPASS|FAIL)' >/dev/null; then\n+\t   egrep '^[<>] (XPASS|FAIL)' >/dev/null; then\n \t    echo true\n \telse\n \t    echo false"}, {"sha": "b7a9a4c92cdba19c517fcb9721510896c3741ff7", "filename": "libjava/classpath/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044/libjava%2Fclasspath%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044/libjava%2Fclasspath%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog?ref=fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044", "patch": "@@ -1,3 +1,8 @@\n+2010-06-04  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* scripts/check_jni_methods.sh.in: Don't use diff -U.\n+\tAdapt grep regex, ignore file and problem message.\n+\n 2010-06-03  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \t* configure: Regenerate."}, {"sha": "facf34b345bce976c450632a219b970866d7e8bb", "filename": "libjava/classpath/scripts/check_jni_methods.sh.in", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044/libjava%2Fclasspath%2Fscripts%2Fcheck_jni_methods.sh.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044/libjava%2Fclasspath%2Fscripts%2Fcheck_jni_methods.sh.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fscripts%2Fcheck_jni_methods.sh.in?ref=fb340c3c7f23b51e71c54a92b9f6d5c7e00d6044", "patch": "@@ -36,23 +36,23 @@ rm $TMPFILE3\n \n # Write temporary ignore file.\n cat > $TMPFILE3 << EOF\n--Java_gnu_java_awt_peer_gtk_GtkMenuComponentPeer_dispose\n--Java_java_lang_VMSystem_arraycopy\n--Java_java_lang_VMSystem_identityHashCode\n+< Java_gnu_java_awt_peer_gtk_GtkMenuComponentPeer_dispose\n+< Java_java_lang_VMSystem_arraycopy\n+< Java_java_lang_VMSystem_identityHashCode\n EOF\n \n # Compare again silently.\n # Use fgrep and direct the output to /dev/null for compatibility with older\n # grep instead of using the non portable -q.\n-if diff -U 0 $TMPFILE $TMPFILE2 | grep '^[+-]Java' | \\\n+if diff $TMPFILE $TMPFILE2 | grep '^[<>] Java' | \\\n     fgrep -v -f $TMPFILE3 > /dev/null;\n then\n   PROBLEM=1\n   echo \"Found a problem with the JNI methods declared and implemented.\"\n-  echo \"(-) missing in implementation, (+) missing in header files\"\n+  echo \"(<) missing in implementation, (>) missing in header files\"\n \n   # Compare the found method lists.\n-  diff -U 0 $TMPFILE $TMPFILE2  | grep '^[+-]Java' | fgrep -v -f $TMPFILE3\n+  diff $TMPFILE $TMPFILE2  | grep '^[<>] Java' | fgrep -v -f $TMPFILE3\n fi\n \n # Cleanup."}]}