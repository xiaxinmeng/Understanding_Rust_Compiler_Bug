{"sha": "76ca5f401d53091221b634f4e9774bc03dc8ffbe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzZjYTVmNDAxZDUzMDkxMjIxYjYzNGY0ZTk3NzRiYzAzZGM4ZmZiZQ==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@linux.vnet.ibm.com", "date": "2017-03-15T00:25:10Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2017-03-15T00:25:10Z"}, "message": "re PR target/79947 (ICE in rs6000_emit_swsqrt at gcc/config/rs6000/rs6000.c:37570)\n\n[gcc]\n2017-03-14  Michael Meissner  <meissner@linux.vnet.ibm.com>\n\n\tPR target/79947\n\t* config/rs6000/rs6000.h (TARGET_FRSQRTES): Add check for\n\t-mpowerpc-gfxopt.\n\n[gcc/testsuite]\n2017-03-14  Michael Meissner  <meissner@linux.vnet.ibm.com>\n\n\tPR target/79947\n\t* gcc.target/powerpc/pr79947.c: New test.\n\nFrom-SVN: r246150", "tree": {"sha": "629d35bf99cd879092f0cf4af9afb2a0d633d69b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/629d35bf99cd879092f0cf4af9afb2a0d633d69b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/76ca5f401d53091221b634f4e9774bc03dc8ffbe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76ca5f401d53091221b634f4e9774bc03dc8ffbe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/76ca5f401d53091221b634f4e9774bc03dc8ffbe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76ca5f401d53091221b634f4e9774bc03dc8ffbe/comments", "author": null, "committer": null, "parents": [{"sha": "568c347cda340293255ecb72a68fb6828af200a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/568c347cda340293255ecb72a68fb6828af200a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/568c347cda340293255ecb72a68fb6828af200a7"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "77e6f8c0b68f42af9aaa41d286fbba68bf3993a8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76ca5f401d53091221b634f4e9774bc03dc8ffbe/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76ca5f401d53091221b634f4e9774bc03dc8ffbe/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=76ca5f401d53091221b634f4e9774bc03dc8ffbe", "patch": "@@ -1,3 +1,9 @@\n+2017-03-14  Michael Meissner  <meissner@linux.vnet.ibm.com>\n+\n+\tPR target/79947\n+\t* config/rs6000/rs6000.h (TARGET_FRSQRTES): Add check for\n+\t-mpowerpc-gfxopt.\n+\n 2017-03-14  Martin Sebor  <msebor@redhat.com>\n \n \tPR middle-end/80020"}, {"sha": "da6fd522f9dbcdcdad29d33576a3299a10762058", "filename": "gcc/config/rs6000/rs6000.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76ca5f401d53091221b634f4e9774bc03dc8ffbe/gcc%2Fconfig%2Frs6000%2Frs6000.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76ca5f401d53091221b634f4e9774bc03dc8ffbe/gcc%2Fconfig%2Frs6000%2Frs6000.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.h?ref=76ca5f401d53091221b634f4e9774bc03dc8ffbe", "patch": "@@ -752,7 +752,8 @@ extern int rs6000_vector_align[];\n \t\t\t && (TARGET_POPCNTB || VECTOR_UNIT_VSX_P (DFmode)))\n \n #define TARGET_FRSQRTES\t(TARGET_HARD_FLOAT && TARGET_POPCNTB \\\n-\t\t\t && TARGET_FPRS && TARGET_SINGLE_FLOAT)\n+\t\t\t && TARGET_PPC_GFXOPT && TARGET_FPRS \\\n+\t\t\t && TARGET_SINGLE_FLOAT)\n \n #define TARGET_FRSQRTE\t(TARGET_HARD_FLOAT && TARGET_FPRS \\\n \t\t\t && TARGET_DOUBLE_FLOAT \\"}, {"sha": "f1ba337149bb80a58be82557f456e74bd8515e01", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76ca5f401d53091221b634f4e9774bc03dc8ffbe/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76ca5f401d53091221b634f4e9774bc03dc8ffbe/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=76ca5f401d53091221b634f4e9774bc03dc8ffbe", "patch": "@@ -1,3 +1,8 @@\n+2017-03-14  Michael Meissner  <meissner@linux.vnet.ibm.com>\n+\n+\tPR target/79947\n+\t* gcc.target/powerpc/pr79947.c: New test.\n+\n 2017-03-14  Martin Sebor  <msebor@redhat.com>\n \n \tPR middle-end/80020"}, {"sha": "970e8c0ca892d1ec89801de621d740f126032121", "filename": "gcc/testsuite/gcc.target/powerpc/pr79947.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76ca5f401d53091221b634f4e9774bc03dc8ffbe/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr79947.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76ca5f401d53091221b634f4e9774bc03dc8ffbe/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr79947.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr79947.c?ref=76ca5f401d53091221b634f4e9774bc03dc8ffbe", "patch": "@@ -0,0 +1,12 @@\n+/* { dg-do compile { target { powerpc*-*-* } } } */\n+/* { dg-options \"-Ofast -mno-powerpc-gfxopt -mcmpb -mno-vsx\" } */\n+\n+/* PR 79949: Compiler segmentation fault due to not having conditional move\n+   support for the target if the -mno-powerpc-gfxopt option is used.  */\n+\n+float a, b;\n+void\n+c ()\n+{\n+  a = __builtin_sqrtf (b);\n+}"}]}