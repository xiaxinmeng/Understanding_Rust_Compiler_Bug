{"sha": "43bb47c23689bc82b37b416d8be30d9cade3ca9f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDNiYjQ3YzIzNjg5YmM4MmIzN2I0MTZkOGJlMzBkOWNhZGUzY2E5Zg==", "commit": {"author": {"name": "Daniel Jacobowitz", "email": "drow@mvista.com", "date": "2003-09-21T19:32:22Z"}, "committer": {"name": "Daniel Jacobowitz", "email": "drow@gcc.gnu.org", "date": "2003-09-21T19:32:22Z"}, "message": "configure.in: Pass a computed --program-transform-name to subconfigures.\n\n\t* configure.in: Pass a computed --program-transform-name\n\tto subconfigures.\n\t* configure: Regenerated.\n\nFrom-SVN: r71630", "tree": {"sha": "6d90d472ee09e7748e43addb7223e2979b78eb36", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6d90d472ee09e7748e43addb7223e2979b78eb36"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/43bb47c23689bc82b37b416d8be30d9cade3ca9f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43bb47c23689bc82b37b416d8be30d9cade3ca9f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/43bb47c23689bc82b37b416d8be30d9cade3ca9f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43bb47c23689bc82b37b416d8be30d9cade3ca9f/comments", "author": null, "committer": null, "parents": [{"sha": "df351d76cb65c452b543f69d929092e183dced22", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df351d76cb65c452b543f69d929092e183dced22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df351d76cb65c452b543f69d929092e183dced22"}], "stats": {"total": 126, "additions": 91, "deletions": 35}, "files": [{"sha": "f1b1b5b7fd1dd5a8eb67c8cef7eab80c93e2ab95", "filename": "ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43bb47c23689bc82b37b416d8be30d9cade3ca9f/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43bb47c23689bc82b37b416d8be30d9cade3ca9f/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=43bb47c23689bc82b37b416d8be30d9cade3ca9f", "patch": "@@ -1,3 +1,9 @@\n+2003-09-21  Daniel Jacobowitz  <drow@mvista.com>\n+\n+\t* configure.in: Pass a computed --program-transform-name\n+\tto subconfigures.\n+\t* configure: Regenerated.\n+\n 2003-09-20  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* Makefile.tpl: Don't pass down obsolete ENQUIRE variable."}, {"sha": "1c4da1021ae7f087d9429808dea2086faa4c2046", "filename": "configure", "status": "modified", "additions": 59, "deletions": 34, "changes": 93, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43bb47c23689bc82b37b416d8be30d9cade3ca9f/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43bb47c23689bc82b37b416d8be30d9cade3ca9f/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=43bb47c23689bc82b37b416d8be30d9cade3ca9f", "patch": "@@ -2510,19 +2510,30 @@ serialization_dependencies=serdep.tmp\n \n # Base args.  Strip norecursion, cache-file, srcdir, host, build,\n # target and nonopt.  These are the ones we might not want to pass\n-# down to subconfigures.  These will be expanded by make, so quote '$'.\n+# down to subconfigures.  Also strip program-prefix, program-suffix,\n+# and program-transform-name, so that we can pass down a consistent\n+# program-transform-name.  If autoconf has put single quotes around\n+# any of these arguments (because they contain shell metacharacters)\n+# then this will fail; in practice this only happens for\n+# --program-transform-name, so be sure to override --program-transform-name\n+# at the end of the argument list.\n+# These will be expanded by make, so quote '$'.\n cat <<\\EOF_SED > conftestsed\n s/ --no[^ ]* / /\n s/ --c[a-z-]*[= ][^ ]* / /\n s/ --sr[a-z-]*[= ][^ ]* / /\n s/ --ho[a-z-]*[= ][^ ]* / /\n s/ --bu[a-z-]*[= ][^ ]* / /\n s/ --t[a-z-]*[= ][^ ]* / /\n+s/ --program-[pst][a-z-]*[= ][^ ]* / /\n s/ -cache-file[= ][^ ]* / /\n s/ -srcdir[= ][^ ]* / /\n s/ -host[= ][^ ]* / /\n s/ -build[= ][^ ]* / /\n s/ -target[= ][^ ]* / /\n+s/ -program-prefix[= ][^ ]* / /\n+s/ -program-suffix[= ][^ ]* / /\n+s/ -program-transform-name[= ][^ ]* / /\n s/ [^' -][^ ]* / /\n s/^ *//;s/ *$//\n s,\\$,$$,g\n@@ -2533,6 +2544,20 @@ EOF_SED\n baseargs=`cat conftestsed.out`\n rm -f conftestsed conftestsed.out\n \n+# Add in --program-transform-name, after --program-prefix and\n+# --program-suffix have been applied to it.  Autoconf has already\n+# doubled dollar signs and backslashes in program_transform_name; we want\n+# the backslashes un-doubled, and then the entire thing wrapped in single\n+# quotes, because this will be expanded first by make and then by the shell. \n+# Also, because we want to override the logic in subdir configure scripts to\n+# choose program_transform_name, replace any s,x,x, with s,y,y,.\n+sed -e \"s,\\\\\\\\\\\\\\\\,\\\\\\\\,g; s,','\\\\\\\\'',g; s/s,x,x,/s,y,y,/\" <<EOF_SED > conftestsed.out\n+${program_transform_name}\n+EOF_SED\n+gcc_transform_name=`cat conftestsed.out`\n+rm -f conftestsed.out\n+baseargs=\"$baseargs --program-transform-name='${gcc_transform_name}'\"\n+\n # For the build-side libraries, we just need to pretend we're native,\n # and not use the same cache file.  Multilibs are neither needed nor\n # desired.\n@@ -2782,7 +2807,7 @@ test -n \"$target_alias\" && ncn_target_tool_prefix=$target_alias-\n   # Extract the first word of \"${ncn_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2786: checking for $ac_word\" >&5\n+echo \"configure:2811: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2815,7 +2840,7 @@ if test -z \"$ac_cv_prog_AR\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2819: checking for $ac_word\" >&5\n+echo \"configure:2844: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2854,7 +2879,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2858: checking for $ac_word\" >&5\n+echo \"configure:2883: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2887,7 +2912,7 @@ if test -z \"$ac_cv_prog_AS\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2891: checking for $ac_word\" >&5\n+echo \"configure:2916: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2926,7 +2951,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2930: checking for $ac_word\" >&5\n+echo \"configure:2955: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2959,7 +2984,7 @@ if test -z \"$ac_cv_prog_DLLTOOL\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2963: checking for $ac_word\" >&5\n+echo \"configure:2988: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2998,7 +3023,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3002: checking for $ac_word\" >&5\n+echo \"configure:3027: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3031,7 +3056,7 @@ if test -z \"$ac_cv_prog_LD\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3035: checking for $ac_word\" >&5\n+echo \"configure:3060: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3070,7 +3095,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3074: checking for $ac_word\" >&5\n+echo \"configure:3099: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3103,7 +3128,7 @@ if test -z \"$ac_cv_prog_NM\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3107: checking for $ac_word\" >&5\n+echo \"configure:3132: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3142,7 +3167,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3146: checking for $ac_word\" >&5\n+echo \"configure:3171: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3175,7 +3200,7 @@ if test -z \"$ac_cv_prog_RANLIB\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3179: checking for $ac_word\" >&5\n+echo \"configure:3204: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3214,7 +3239,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3218: checking for $ac_word\" >&5\n+echo \"configure:3243: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3247,7 +3272,7 @@ if test -z \"$ac_cv_prog_WINDRES\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3251: checking for $ac_word\" >&5\n+echo \"configure:3276: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3286,7 +3311,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objcopy\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3290: checking for $ac_word\" >&5\n+echo \"configure:3315: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3319,7 +3344,7 @@ if test -z \"$ac_cv_prog_OBJCOPY\" ; then\n     # Extract the first word of \"objcopy\", so it can be a program name with args.\n set dummy objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3323: checking for $ac_word\" >&5\n+echo \"configure:3348: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3358,7 +3383,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objdump\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3362: checking for $ac_word\" >&5\n+echo \"configure:3387: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3391,7 +3416,7 @@ if test -z \"$ac_cv_prog_OBJDUMP\" ; then\n     # Extract the first word of \"objdump\", so it can be a program name with args.\n set dummy objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3395: checking for $ac_word\" >&5\n+echo \"configure:3420: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3439,7 +3464,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3443: checking for $ac_word\" >&5\n+echo \"configure:3468: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3472,7 +3497,7 @@ if test -z \"$ac_cv_prog_AR_FOR_TARGET\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3476: checking for $ac_word\" >&5\n+echo \"configure:3501: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3511,7 +3536,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3515: checking for $ac_word\" >&5\n+echo \"configure:3540: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3544,7 +3569,7 @@ if test -z \"$ac_cv_prog_AS_FOR_TARGET\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3548: checking for $ac_word\" >&5\n+echo \"configure:3573: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3583,7 +3608,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3587: checking for $ac_word\" >&5\n+echo \"configure:3612: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3616,7 +3641,7 @@ if test -z \"$ac_cv_prog_DLLTOOL_FOR_TARGET\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3620: checking for $ac_word\" >&5\n+echo \"configure:3645: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3655,7 +3680,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3659: checking for $ac_word\" >&5\n+echo \"configure:3684: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3688,7 +3713,7 @@ if test -z \"$ac_cv_prog_LD_FOR_TARGET\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3692: checking for $ac_word\" >&5\n+echo \"configure:3717: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3727,7 +3752,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3731: checking for $ac_word\" >&5\n+echo \"configure:3756: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3760,7 +3785,7 @@ if test -z \"$ac_cv_prog_NM_FOR_TARGET\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3764: checking for $ac_word\" >&5\n+echo \"configure:3789: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3799,7 +3824,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3803: checking for $ac_word\" >&5\n+echo \"configure:3828: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3832,7 +3857,7 @@ if test -z \"$ac_cv_prog_RANLIB_FOR_TARGET\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3836: checking for $ac_word\" >&5\n+echo \"configure:3861: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3871,7 +3896,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3875: checking for $ac_word\" >&5\n+echo \"configure:3900: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3904,7 +3929,7 @@ if test -z \"$ac_cv_prog_WINDRES_FOR_TARGET\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3908: checking for $ac_word\" >&5\n+echo \"configure:3933: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3971,7 +3996,7 @@ RANLIB_FOR_TARGET=${RANLIB_FOR_TARGET}${extra_ranlibflags_for_target}\n NM_FOR_TARGET=${NM_FOR_TARGET}${extra_nmflags_for_target}\n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:3975: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:4000: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "3d30f62b792229302801cd60b6af3fd15ecab919", "filename": "configure.in", "status": "modified", "additions": 26, "deletions": 1, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43bb47c23689bc82b37b416d8be30d9cade3ca9f/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43bb47c23689bc82b37b416d8be30d9cade3ca9f/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=43bb47c23689bc82b37b416d8be30d9cade3ca9f", "patch": "@@ -1760,19 +1760,30 @@ AC_SUBST_FILE(serialization_dependencies)\n \n # Base args.  Strip norecursion, cache-file, srcdir, host, build,\n # target and nonopt.  These are the ones we might not want to pass\n-# down to subconfigures.  These will be expanded by make, so quote '$'.\n+# down to subconfigures.  Also strip program-prefix, program-suffix,\n+# and program-transform-name, so that we can pass down a consistent\n+# program-transform-name.  If autoconf has put single quotes around\n+# any of these arguments (because they contain shell metacharacters)\n+# then this will fail; in practice this only happens for\n+# --program-transform-name, so be sure to override --program-transform-name\n+# at the end of the argument list.\n+# These will be expanded by make, so quote '$'.\n cat <<\\EOF_SED > conftestsed\n s/ --no[[^ ]]* / /\n s/ --c[[a-z-]]*[[= ]][[^ ]]* / /\n s/ --sr[[a-z-]]*[[= ]][[^ ]]* / /\n s/ --ho[[a-z-]]*[[= ]][[^ ]]* / /\n s/ --bu[[a-z-]]*[[= ]][[^ ]]* / /\n s/ --t[[a-z-]]*[[= ]][[^ ]]* / /\n+s/ --program-[[pst]][[a-z-]]*[[= ]][[^ ]]* / /\n s/ -cache-file[[= ]][[^ ]]* / /\n s/ -srcdir[[= ]][[^ ]]* / /\n s/ -host[[= ]][[^ ]]* / /\n s/ -build[[= ]][[^ ]]* / /\n s/ -target[[= ]][[^ ]]* / /\n+s/ -program-prefix[[= ]][[^ ]]* / /\n+s/ -program-suffix[[= ]][[^ ]]* / /\n+s/ -program-transform-name[[= ]][[^ ]]* / /\n s/ [[^' -][^ ]*] / /\n s/^ *//;s/ *$//\n s,\\$,$$,g\n@@ -1783,6 +1794,20 @@ EOF_SED\n baseargs=`cat conftestsed.out`\n rm -f conftestsed conftestsed.out\n \n+# Add in --program-transform-name, after --program-prefix and\n+# --program-suffix have been applied to it.  Autoconf has already\n+# doubled dollar signs and backslashes in program_transform_name; we want\n+# the backslashes un-doubled, and then the entire thing wrapped in single\n+# quotes, because this will be expanded first by make and then by the shell. \n+# Also, because we want to override the logic in subdir configure scripts to\n+# choose program_transform_name, replace any s,x,x, with s,y,y,.\n+sed -e \"s,\\\\\\\\\\\\\\\\,\\\\\\\\,g; s,','\\\\\\\\'',g; s/s,x,x,/s,y,y,/\" <<EOF_SED > conftestsed.out\n+${program_transform_name}\n+EOF_SED\n+gcc_transform_name=`cat conftestsed.out`\n+rm -f conftestsed.out\n+baseargs=\"$baseargs --program-transform-name='${gcc_transform_name}'\"\n+\n # For the build-side libraries, we just need to pretend we're native,\n # and not use the same cache file.  Multilibs are neither needed nor\n # desired."}]}