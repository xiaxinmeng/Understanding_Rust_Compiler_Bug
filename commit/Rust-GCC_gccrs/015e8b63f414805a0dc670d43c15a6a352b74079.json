{"sha": "015e8b63f414805a0dc670d43c15a6a352b74079", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDE1ZThiNjNmNDE0ODA1YTBkYzY3MGQ0M2MxNWE2YTM1MmI3NDA3OQ==", "commit": {"author": {"name": "David S. Miller", "email": "davem@davemloft.net", "date": "2011-10-31T22:09:12Z"}, "committer": {"name": "David S. Miller", "email": "davem@gcc.gnu.org", "date": "2011-10-31T22:09:12Z"}, "message": "Allow zero operand in sparc VIS3 cmask patterns.\n\n\t* config/sparc/sparc.md (cmask patterns): Allow zero operand.\n\nFrom-SVN: r180715", "tree": {"sha": "20743cedf11c57f39d75ea4d895b57a83ff5de3f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/20743cedf11c57f39d75ea4d895b57a83ff5de3f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/015e8b63f414805a0dc670d43c15a6a352b74079", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/015e8b63f414805a0dc670d43c15a6a352b74079", "html_url": "https://github.com/Rust-GCC/gccrs/commit/015e8b63f414805a0dc670d43c15a6a352b74079", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/015e8b63f414805a0dc670d43c15a6a352b74079/comments", "author": {"login": "davem330", "id": 1053866, "node_id": "MDQ6VXNlcjEwNTM4NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1053866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davem330", "html_url": "https://github.com/davem330", "followers_url": "https://api.github.com/users/davem330/followers", "following_url": "https://api.github.com/users/davem330/following{/other_user}", "gists_url": "https://api.github.com/users/davem330/gists{/gist_id}", "starred_url": "https://api.github.com/users/davem330/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davem330/subscriptions", "organizations_url": "https://api.github.com/users/davem330/orgs", "repos_url": "https://api.github.com/users/davem330/repos", "events_url": "https://api.github.com/users/davem330/events{/privacy}", "received_events_url": "https://api.github.com/users/davem330/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7e547d7b317e52d0fbf4270aadcf47862d5faf73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e547d7b317e52d0fbf4270aadcf47862d5faf73", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e547d7b317e52d0fbf4270aadcf47862d5faf73"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "ebf8cdc0e588b9b0d1a0754b01417ddb628c7e4c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/015e8b63f414805a0dc670d43c15a6a352b74079/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/015e8b63f414805a0dc670d43c15a6a352b74079/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=015e8b63f414805a0dc670d43c15a6a352b74079", "patch": "@@ -1,5 +1,7 @@\n 2011-10-31  David S. Miller  <davem@davemloft.net>\n \n+\t* config/sparc/sparc.md (cmask patterns): Allow zero operand.\n+\n \t* dwarf2out.c (cached_next_real_insn): New.\n \t(dwarf2out_end_epilogue): Set it to NULL_RTX.\n \t(dwarf2out_var_location): Remove cached_next_real_insn local static."}, {"sha": "fbd1a8719217bea0c29f54acd170a28331d734c0", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/015e8b63f414805a0dc670d43c15a6a352b74079/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/015e8b63f414805a0dc670d43c15a6a352b74079/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=015e8b63f414805a0dc670d43c15a6a352b74079", "patch": "@@ -8452,23 +8452,23 @@\n ;; Conditional moves are possible via fcmpX --> cmaskX -> bshuffle\n (define_insn \"cmask8<P:mode>_vis\"\n   [(set (reg:DI GSR_REG)\n-        (unspec:DI [(match_operand:P 0 \"register_operand\" \"r\")\n+        (unspec:DI [(match_operand:P 0 \"register_or_zero_operand\" \"rJ\")\n \t            (reg:DI GSR_REG)]\n                    UNSPEC_CMASK8))]\n   \"TARGET_VIS3\"\n   \"cmask8\\t%r0\")\n \n (define_insn \"cmask16<P:mode>_vis\"\n   [(set (reg:DI GSR_REG)\n-        (unspec:DI [(match_operand:P 0 \"register_operand\" \"r\")\n+        (unspec:DI [(match_operand:P 0 \"register_or_zero_operand\" \"rJ\")\n \t            (reg:DI GSR_REG)]\n                    UNSPEC_CMASK16))]\n   \"TARGET_VIS3\"\n   \"cmask16\\t%r0\")\n \n (define_insn \"cmask32<P:mode>_vis\"\n   [(set (reg:DI GSR_REG)\n-        (unspec:DI [(match_operand:P 0 \"register_operand\" \"r\")\n+        (unspec:DI [(match_operand:P 0 \"register_or_zero_operand\" \"rJ\")\n \t            (reg:DI GSR_REG)]\n                    UNSPEC_CMASK32))]\n   \"TARGET_VIS3\""}]}