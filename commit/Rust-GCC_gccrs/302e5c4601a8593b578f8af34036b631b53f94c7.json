{"sha": "302e5c4601a8593b578f8af34036b631b53f94c7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzAyZTVjNDYwMWE4NTkzYjU3OGY4YWYzNDAzNmI2MzFiNTNmOTRjNw==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2000-03-13T11:12:13Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2000-03-13T11:12:13Z"}, "message": "* g++.old-deja/g++.warn/inline.C: New test.\n\nFrom-SVN: r32504", "tree": {"sha": "d425e3aac901749537f51be8b6de34df85a620e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d425e3aac901749537f51be8b6de34df85a620e4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/302e5c4601a8593b578f8af34036b631b53f94c7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/302e5c4601a8593b578f8af34036b631b53f94c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/302e5c4601a8593b578f8af34036b631b53f94c7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/302e5c4601a8593b578f8af34036b631b53f94c7/comments", "author": null, "committer": null, "parents": [{"sha": "9328904cdf4c4f74be2b74f23b959df0b51c7b40", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9328904cdf4c4f74be2b74f23b959df0b51c7b40", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9328904cdf4c4f74be2b74f23b959df0b51c7b40"}], "stats": {"total": 73, "additions": 73, "deletions": 0}, "files": [{"sha": "ace87e8952fc4f4363a85ef0f15a735eb41e3993", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/302e5c4601a8593b578f8af34036b631b53f94c7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/302e5c4601a8593b578f8af34036b631b53f94c7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=302e5c4601a8593b578f8af34036b631b53f94c7", "patch": "@@ -1,3 +1,7 @@\n+2000-03-13  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* g++.old-deja/g++.warn/inline.C: New test.\n+\n 2000-03-08  Jason Merrill  <jason@casey.cygnus.com>\n \n \t* lib/g++.exp (g++_init): Don't put { } around -fmessage-length=0."}, {"sha": "f18f1a088e0fa6e33be9bb40a78dde86d6e25532", "filename": "gcc/testsuite/g++.old-deja/g++.warn/inline.C", "status": "added", "additions": 69, "deletions": 0, "changes": 69, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/302e5c4601a8593b578f8af34036b631b53f94c7/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.warn%2Finline.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/302e5c4601a8593b578f8af34036b631b53f94c7/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.warn%2Finline.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.warn%2Finline.C?ref=302e5c4601a8593b578f8af34036b631b53f94c7", "patch": "@@ -0,0 +1,69 @@\n+// Build don't link:\n+// Special g++ Options: -ansi -pedantic-errors -Winline -O1\n+\n+// Copyright (C) 2000 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 9 Mar 2000 <nathan@codesourcery.com>\n+\n+// derived from a bug report by Benjamin Kosnik <bkoz@cygnus.com>\n+\n+// __FUNCTION__ was erroneously causing us to issue a `cannot inline'\n+// diagnostic, even though we'd (a) inlined it, (b) been forced to issue an\n+// out of line body by taking it's address, (c) not used __FUNCTION__.\n+\n+inline void wibble ()\n+{}\n+\n+inline void wobble ()\n+{}                          // gets bogus error - cannot inline\n+\n+void bar (void (*)());\n+\n+void bar1 ()\n+{\n+  wibble ();                // can be inlined\n+  void (*ptr) () = wobble;  // force out of line issue\n+  \n+  bar (ptr);                // make sure we make use of it\n+}\n+\n+struct B\n+{\n+  void mwibble ()\n+  {};\n+  void mwobble ()\n+  {};                       // gets bogus error - cannot inline\n+  \n+  static void swibble ()\n+  {};\n+  static void swobble ()\n+  {};                       // gets bogus error - cannot inline\n+};\n+\n+void bar (void (B::*)());\n+\n+void bar2 ()\n+{\n+  B::swibble ();                  // can be inlined\n+  void (*ptr) () = &B::swobble;   // force out of line issue\n+  \n+  bar (ptr);                      // make sure we make use of it\n+}\n+\n+void bar3 (B *b)\n+{\n+  b->mwibble ();                    // can be inlined\n+  void (B::*ptr) () = &B::mwobble;  // force out of line issue\n+  \n+  bar (ptr);                        // make sure we make use of it\n+}\n+\n+struct C\n+{\n+  virtual void vwobble ()\n+  {};                               // gets bogus error - cannot inline\n+};\n+\n+void bar4 ()\n+{\n+  C c;                              // force issue of C's vtable etc\n+}"}]}