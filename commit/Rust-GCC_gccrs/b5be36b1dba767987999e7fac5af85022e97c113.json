{"sha": "b5be36b1dba767987999e7fac5af85022e97c113", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjViZTM2YjFkYmE3Njc5ODc5OTllN2ZhYzVhZjg1MDIyZTk3YzExMw==", "commit": {"author": {"name": "Ilya Enkovich", "email": "enkovich.gnu@gmail.com", "date": "2015-12-03T10:35:41Z"}, "committer": {"name": "Ilya Enkovich", "email": "ienkovich@gcc.gnu.org", "date": "2015-12-03T10:35:41Z"}, "message": "cfgexpand.c (expand_gimple_stmt_1): Return statement with DECL as return value is allowed to have NULL bounds.\n\ngcc/\n\n\t* cfgexpand.c (expand_gimple_stmt_1): Return statement with\n\tDECL as return value is allowed to have NULL bounds.\n\nFrom-SVN: r231224", "tree": {"sha": "c7114aa4d50f9a8b3704b6a52cdb2e8bf4005ac7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c7114aa4d50f9a8b3704b6a52cdb2e8bf4005ac7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5be36b1dba767987999e7fac5af85022e97c113", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5be36b1dba767987999e7fac5af85022e97c113", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5be36b1dba767987999e7fac5af85022e97c113", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5be36b1dba767987999e7fac5af85022e97c113/comments", "author": null, "committer": null, "parents": [{"sha": "71819f4573a345d493f874c3573427d2b9596706", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71819f4573a345d493f874c3573427d2b9596706", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71819f4573a345d493f874c3573427d2b9596706"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "c576908d996c771c6dbcdcc8b637762a9425d52f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5be36b1dba767987999e7fac5af85022e97c113/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5be36b1dba767987999e7fac5af85022e97c113/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b5be36b1dba767987999e7fac5af85022e97c113", "patch": "@@ -1,3 +1,8 @@\n+2015-12-03  Ilya Enkovich  <enkovich.gnu@gmail.com>\n+\n+\t* cfgexpand.c (expand_gimple_stmt_1): Return statement with\n+\tDECL as return value is allowed to have NULL bounds.\n+\n 2015-12-03  Tom de Vries  <tom@codesourcery.com>\n \n \t* graphite-isl-ast-to-gimple.c (binary_op_to_tree)"}, {"sha": "2c3b23d62447fc253ae912b8733dc7d4356f429d", "filename": "gcc/cfgexpand.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5be36b1dba767987999e7fac5af85022e97c113/gcc%2Fcfgexpand.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5be36b1dba767987999e7fac5af85022e97c113/gcc%2Fcfgexpand.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgexpand.c?ref=b5be36b1dba767987999e7fac5af85022e97c113", "patch": "@@ -3534,6 +3534,12 @@ expand_gimple_stmt_1 (gimple *stmt)\n \t  {\n \t    tree result = DECL_RESULT (current_function_decl);\n \n+\t    /* Mark we have return statement with missing bounds.  */\n+\t    if (!bnd\n+\t\t&& chkp_function_instrumented_p (cfun->decl)\n+\t\t&& !DECL_P (op0))\n+\t      bnd = error_mark_node;\n+\n \t    /* If we are not returning the current function's RESULT_DECL,\n \t       build an assignment to it.  */\n \t    if (op0 != result)\n@@ -3550,9 +3556,6 @@ expand_gimple_stmt_1 (gimple *stmt)\n \t\top0 = build2 (MODIFY_EXPR, TREE_TYPE (result),\n \t\t\t      result, op0);\n \t      }\n-\t    /* Mark we have return statement with missing bounds.  */\n-\t    if (!bnd && chkp_function_instrumented_p (cfun->decl))\n-\t      bnd = error_mark_node;\n \t  }\n \n \tif (!op0)"}]}