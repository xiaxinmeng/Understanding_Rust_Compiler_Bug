{"sha": "d360fd186232a2f9b9bf9745b05dabb547e61b0e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDM2MGZkMTg2MjMyYTJmOWI5YmY5NzQ1YjA1ZGFiYjU0N2U2MWIwZQ==", "commit": {"author": {"name": "David O'Brien", "email": "obrien@FreeBSD.org", "date": "2002-04-12T01:18:38Z"}, "committer": {"name": "David O'Brien", "email": "obrien@gcc.gnu.org", "date": "2002-04-12T01:18:38Z"}, "message": "freebsd.h (NO_IMPLICIT_EXTERN_C, [...]): Give value.\n\n2002-04-11  David O'Brien  <obrien@FreeBSD.org>\n\t* config/freebsd.h (NO_IMPLICIT_EXTERN_C, SCCS_DIRECTIVE): Give value.\n\t(DEFAULT_PCC_STRUCT_RETURN) Do not redefine.\n\t(USER_LABEL_PREFIX, HANDLE_SYSV_PRAGMA, IDENT_ASM_OP,\n\tDWARF2_DEBUGGING_INFO, DBX_DEBUGGING_INFO, PREFERRED_DEBUGGING_TYPE):\n\telfos.h and dbxelf.h values are fine now.\n\t* config/i386/freebsd.h, config/alpha/freebsd.h\n\t(DEFAULT_PCC_STRUCT_RETURN): Define to 0.\n\nApproved by:  Richard Henderson <rth@redhat.com>\n              Message-ID: <20020411175216.B11442@redhat.com>\n\nFrom-SVN: r52194", "tree": {"sha": "2675b600b9e20208e6780c3b8ac573d50d3fe4ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2675b600b9e20208e6780c3b8ac573d50d3fe4ab"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d360fd186232a2f9b9bf9745b05dabb547e61b0e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d360fd186232a2f9b9bf9745b05dabb547e61b0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d360fd186232a2f9b9bf9745b05dabb547e61b0e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d360fd186232a2f9b9bf9745b05dabb547e61b0e/comments", "author": null, "committer": null, "parents": [{"sha": "605dc89b0e2bc3f4f3459aea84ab5d77a2511465", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/605dc89b0e2bc3f4f3459aea84ab5d77a2511465", "html_url": "https://github.com/Rust-GCC/gccrs/commit/605dc89b0e2bc3f4f3459aea84ab5d77a2511465"}], "stats": {"total": 68, "additions": 26, "deletions": 42}, "files": [{"sha": "9e4131f1cb8406944cc5d35d858fccbf38c1c5fd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d360fd186232a2f9b9bf9745b05dabb547e61b0e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d360fd186232a2f9b9bf9745b05dabb547e61b0e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d360fd186232a2f9b9bf9745b05dabb547e61b0e", "patch": "@@ -1,3 +1,13 @@\n+2002-04-11  David O'Brien  <obrien@FreeBSD.org>\n+\n+\t* config/freebsd.h (NO_IMPLICIT_EXTERN_C, SCCS_DIRECTIVE): Give value.\n+\t(DEFAULT_PCC_STRUCT_RETURN) Do not redefine.\n+\t(USER_LABEL_PREFIX, HANDLE_SYSV_PRAGMA, IDENT_ASM_OP,\n+\tDWARF2_DEBUGGING_INFO, DBX_DEBUGGING_INFO, PREFERRED_DEBUGGING_TYPE):\n+\telfos.h and dbxelf.h values are fine now.\n+\t* config/i386/freebsd.h, config/alpha/freebsd.h\n+\t(DEFAULT_PCC_STRUCT_RETURN): Define to 0.\n+\n 2002-04-11  David O'Brien  <obrien@FreeBSD.org>\n \n \t* config/ia64/aix.h (CPP_PREDEFINES): Do not define _LP64/__LP64__"}, {"sha": "a8ace30c1801fe8467dfb7603d92a784a94b0cb3", "filename": "gcc/config/alpha/freebsd.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d360fd186232a2f9b9bf9745b05dabb547e61b0e/gcc%2Fconfig%2Falpha%2Ffreebsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d360fd186232a2f9b9bf9745b05dabb547e61b0e/gcc%2Fconfig%2Falpha%2Ffreebsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Ffreebsd.h?ref=d360fd186232a2f9b9bf9745b05dabb547e61b0e", "patch": "@@ -78,3 +78,9 @@ Boston, MA 02111-1307, USA.  */\n \n #undef  DBX_CONTIN_CHAR\n #define DBX_CONTIN_CHAR\t'?'\n+\n+/* Don't default to pcc-struct-return, we want to retain compatibility with\n+   older FreeBSD releases AND pcc-struct-return may not be reentrant.  */\n+\n+#undef  DEFAULT_PCC_STRUCT_RETURN\n+#define DEFAULT_PCC_STRUCT_RETURN 0"}, {"sha": "9dafc3fed324b4796c2f9b5c2e0043914f5f1d7d", "filename": "gcc/config/freebsd.h", "status": "modified", "additions": 2, "deletions": 42, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d360fd186232a2f9b9bf9745b05dabb547e61b0e/gcc%2Fconfig%2Ffreebsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d360fd186232a2f9b9bf9745b05dabb547e61b0e/gcc%2Fconfig%2Ffreebsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffreebsd.h?ref=d360fd186232a2f9b9bf9745b05dabb547e61b0e", "patch": "@@ -61,11 +61,11 @@ Boston, MA 02111-1307, USA.  */\n \n /* Don't assume anything about the header files.  */\n #undef  NO_IMPLICIT_EXTERN_C\n-#define NO_IMPLICIT_EXTERN_C\n+#define NO_IMPLICIT_EXTERN_C\t1\n \n /* Allow #sccs in preprocessor.  */\n #undef  SCCS_DIRECTIVE\n-#define SCCS_DIRECTIVE\n+#define SCCS_DIRECTIVE\t1\n \n /* Make gcc agree with FreeBSD's standard headers (<machine/ansi.h>, etc...)  */\n \n@@ -77,13 +77,6 @@ Boston, MA 02111-1307, USA.  */\n \n /* Code generation parameters.  */\n \n-/* Don't default to pcc-struct-return, because gcc is the only compiler, and\n-   we want to retain compatibility with older gcc versions\n-   (even though the SVR4 ABI for the i386 says that records and unions are\n-   returned in memory).  */\n-#undef  DEFAULT_PCC_STRUCT_RETURN\n-#define DEFAULT_PCC_STRUCT_RETURN 0\n-\n /* Use periods rather than dollar signs in special g++ assembler names.\n    This ensures the configuration knows our system correctly so we can link\n    with libraries compiled with the native cc.  */\n@@ -93,36 +86,3 @@ Boston, MA 02111-1307, USA.  */\n    This enables the test coverage code to use file locking when exiting a\n    program, which avoids race conditions if the program has forked.  */\n #define TARGET_HAS_F_SETLKW\n-\n-/* The prefix to add to user-visible assembler symbols.\n-   For System V Release 4 & ELF the convention is *not* to prepend a leading\n-   underscore onto user-level symbol names. Some CPU files such as\n-   config/sparc/sparc.h set this wrong for ELF.  */\n-\n-#undef  USER_LABEL_PREFIX\n-#define USER_LABEL_PREFIX \"\"\n-\n-/* Handle #pragma weak and #pragma pack.  */\n-#undef  HANDLE_SYSV_PRAGMA\n-#define HANDLE_SYSV_PRAGMA\n-\n-/************************[  Assembler stuff  ]********************************/\n-\n-#undef  IDENT_ASM_OP\n-#define IDENT_ASM_OP \"\\t.ident\\t\"\n-\n-/************************[  Debugger stuff  ]*********************************/\n-\n-/* All ELF targets can support DWARF-2.  */\n-#undef  DWARF2_DEBUGGING_INFO\n-#define DWARF2_DEBUGGING_INFO\n-\n-/* This is BSD, so we want the DBX format.  */\n-#undef  DBX_DEBUGGING_INFO\n-#define DBX_DEBUGGING_INFO\n-\n-/* Even though this is BSD, ELF and the GNU tools operates better with dwarf2\n-   than stabs.  Since we don't have any native tools to be compatible with,\n-   defaulting to dwarf2 is OK.  */\n-#undef  PREFERRED_DEBUGGING_TYPE\n-#define PREFERRED_DEBUGGING_TYPE DWARF2_DEBUG"}, {"sha": "f209a151cf4d401b3a871bbcac85bd0b93649a7f", "filename": "gcc/config/i386/freebsd.h", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d360fd186232a2f9b9bf9745b05dabb547e61b0e/gcc%2Fconfig%2Fi386%2Ffreebsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d360fd186232a2f9b9bf9745b05dabb547e61b0e/gcc%2Fconfig%2Fi386%2Ffreebsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ffreebsd.h?ref=d360fd186232a2f9b9bf9745b05dabb547e61b0e", "patch": "@@ -130,3 +130,11 @@ Boston, MA 02111-1307, USA.  */\n     else fprintf ((FILE), \"\\t.p2align %d,,%d\\n\", (LOG), (MAX_SKIP));\t\\\n   }\n #endif\n+\n+/* Don't default to pcc-struct-return, we want to retain compatibility with\n+   older gcc versions AND pcc-struct-return is nonreentrant.\n+   (even though the SVR4 ABI for the i386 says that records and unions are\n+   returned in memory).  */\n+\n+#undef  DEFAULT_PCC_STRUCT_RETURN\n+#define DEFAULT_PCC_STRUCT_RETURN 0"}]}