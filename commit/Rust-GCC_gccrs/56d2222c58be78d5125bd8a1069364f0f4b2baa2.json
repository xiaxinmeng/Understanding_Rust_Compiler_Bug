{"sha": "56d2222c58be78d5125bd8a1069364f0f4b2baa2", "node_id": "C_kwDOANBUbNoAKDU2ZDIyMjJjNThiZTc4ZDUxMjViZDhhMTA2OTM2NGYwZjRiMmJhYTI", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-11-10T14:04:07Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-11-11T04:00:58Z"}, "message": "libstdc++: Fix test that uses C++17 variable template in C++14\n\nThis test fails if run with -std=gnu++14 because it should be using\nis_convertible instead of is_convertible_v.\n\nlibstdc++-v3/ChangeLog:\n\n\t* testsuite/experimental/propagate_const/observers/107525.cc:\n\tUse type trait instead of C++17 variable template.", "tree": {"sha": "6cbce515301eed02ebdd67cbbd871d9e581e1d36", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6cbce515301eed02ebdd67cbbd871d9e581e1d36"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/56d2222c58be78d5125bd8a1069364f0f4b2baa2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56d2222c58be78d5125bd8a1069364f0f4b2baa2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56d2222c58be78d5125bd8a1069364f0f4b2baa2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56d2222c58be78d5125bd8a1069364f0f4b2baa2/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b3ac43a3c05744d62a963d656bed782fc867ad79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3ac43a3c05744d62a963d656bed782fc867ad79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3ac43a3c05744d62a963d656bed782fc867ad79"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "37e970c3af45e6e36abeba793328fc4d3ce7233f", "filename": "libstdc++-v3/testsuite/experimental/propagate_const/observers/107525.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56d2222c58be78d5125bd8a1069364f0f4b2baa2/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fpropagate_const%2Fobservers%2F107525.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56d2222c58be78d5125bd8a1069364f0f4b2baa2/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fpropagate_const%2Fobservers%2F107525.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fpropagate_const%2Fobservers%2F107525.cc?ref=56d2222c58be78d5125bd8a1069364f0f4b2baa2", "patch": "@@ -32,10 +32,10 @@ test_const_conversion()\n     operator const int*() const = delete;\n   };\n \n-  static_assert(!std::is_convertible_v<const X, const int*>,\n+  static_assert(!std::is_convertible<const X, const int*>::value,\n \t\t\"Cannot convert const X to const int*\");\n   // So should not be able to convert const propagate_const<X> to const int*.\n-  static_assert(!std::is_convertible_v<const propagate_const<X>, const int*>,\n+  static_assert(!std::is_convertible<const propagate_const<X>, const int*>::value,\n \t\t\"So should not be able to convert const propagate_const<X> to \"\n \t\t\"const int* (although this is not what LFTSv3 says)\");\n }"}]}