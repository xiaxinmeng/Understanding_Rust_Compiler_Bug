{"sha": "2a2794f7be141f318d216fc9cb16181383deacf5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmEyNzk0ZjdiZTE0MWYzMThkMjE2ZmM5Y2IxNjE4MTM4M2RlYWNmNQ==", "commit": {"author": {"name": "Alexey Merzlyakov", "email": "alexey.merzlyakov@samsung.com", "date": "2014-05-16T13:16:33Z"}, "committer": {"name": "Alexey Merzlyakov", "email": "merzlyakovao@gcc.gnu.org", "date": "2014-05-16T13:16:33Z"}, "message": "re PR libstdc++/60758 (Infinite backtrace in  __cxa_end_cleanup)\n\n2014-05-16  Alexey Merzlyakov  <alexey.merzlyakov@samsung.com>\n\n\tPR libstdc++/60758\n\t* libsupc++/eh_arm.cc (__cxa_end_cleanup): Change r4 to lr in save/restore\n\tand add unwind directives.\n\nFrom-SVN: r210515", "tree": {"sha": "31231d2e265a1a944d68c15930d108117e482bf2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/31231d2e265a1a944d68c15930d108117e482bf2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2a2794f7be141f318d216fc9cb16181383deacf5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a2794f7be141f318d216fc9cb16181383deacf5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a2794f7be141f318d216fc9cb16181383deacf5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a2794f7be141f318d216fc9cb16181383deacf5/comments", "author": {"login": "AlexeyMerzlyakov", "id": 60094858, "node_id": "MDQ6VXNlcjYwMDk0ODU4", "avatar_url": "https://avatars.githubusercontent.com/u/60094858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexeyMerzlyakov", "html_url": "https://github.com/AlexeyMerzlyakov", "followers_url": "https://api.github.com/users/AlexeyMerzlyakov/followers", "following_url": "https://api.github.com/users/AlexeyMerzlyakov/following{/other_user}", "gists_url": "https://api.github.com/users/AlexeyMerzlyakov/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexeyMerzlyakov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexeyMerzlyakov/subscriptions", "organizations_url": "https://api.github.com/users/AlexeyMerzlyakov/orgs", "repos_url": "https://api.github.com/users/AlexeyMerzlyakov/repos", "events_url": "https://api.github.com/users/AlexeyMerzlyakov/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexeyMerzlyakov/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "52264dbf66412429f6967c304ccf81a9c3ffeed5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52264dbf66412429f6967c304ccf81a9c3ffeed5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52264dbf66412429f6967c304ccf81a9c3ffeed5"}], "stats": {"total": 22, "additions": 17, "deletions": 5}, "files": [{"sha": "1e7d84e98e8c20257da3b810d84fbb8095fb4b7d", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a2794f7be141f318d216fc9cb16181383deacf5/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a2794f7be141f318d216fc9cb16181383deacf5/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=2a2794f7be141f318d216fc9cb16181383deacf5", "patch": "@@ -1,3 +1,9 @@\n+2014-05-16  Alexey Merzlyakov  <alexey.merzlyakov@samsung.com>\n+\n+\tPR libstdc++/60758\n+\t* libsupc++/eh_arm.cc (__cxa_end_cleanup): Change r4 to lr in save/restore\n+\tand add unwind directives.\n+\n 2014-05-16  Jonathan Wakely  <jwakely@redhat.com>\n \n \t* include/bits/parse_numbers.h (__parse_int::_Number_help): Check for"}, {"sha": "6a45af5afb10e358a3843e3918239e99d4c72958", "filename": "libstdc++-v3/libsupc++/eh_arm.cc", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a2794f7be141f318d216fc9cb16181383deacf5/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Feh_arm.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a2794f7be141f318d216fc9cb16181383deacf5/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Feh_arm.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Feh_arm.cc?ref=2a2794f7be141f318d216fc9cb16181383deacf5", "patch": "@@ -199,27 +199,33 @@ asm (\".global __cxa_end_cleanup\\n\"\n \"\tnop\t\t5\\n\");\n #else\n // Assembly wrapper to call __gnu_end_cleanup without clobbering r1-r3.\n-// Also push r4 to preserve stack alignment.\n+// Also push lr to preserve stack alignment and to allow backtracing.\n #ifdef __thumb__\n asm (\"  .pushsection .text.__cxa_end_cleanup\\n\"\n \"\t.global __cxa_end_cleanup\\n\"\n \"\t.type __cxa_end_cleanup, \\\"function\\\"\\n\"\n \"\t.thumb_func\\n\"\n \"__cxa_end_cleanup:\\n\"\n-\"\tpush\\t{r1, r2, r3, r4}\\n\"\n+\"\t.fnstart\\n\"\n+\"\tpush\\t{r1, r2, r3, lr}\\n\"\n+\"\t.save\\t{r1, r2, r3, lr}\\n\"\n \"\tbl\\t__gnu_end_cleanup\\n\"\n-\"\tpop\\t{r1, r2, r3, r4}\\n\"\n+\"\tpop\\t{r1, r2, r3, lr}\\n\"\n \"\tbl\\t_Unwind_Resume @ Never returns\\n\"\n+\"\t.fnend\\n\"\n \"\t.popsection\\n\");\n #else\n asm (\"  .pushsection .text.__cxa_end_cleanup\\n\"\n \"\t.global __cxa_end_cleanup\\n\"\n \"\t.type __cxa_end_cleanup, \\\"function\\\"\\n\"\n \"__cxa_end_cleanup:\\n\"\n-\"\tstmfd\\tsp!, {r1, r2, r3, r4}\\n\"\n+\"\t.fnstart\\n\"\n+\"\tstmfd\\tsp!, {r1, r2, r3, lr}\\n\"\n+\"\t.save\\t{r1, r2, r3, lr}\\n\"\n \"\tbl\\t__gnu_end_cleanup\\n\"\n-\"\tldmfd\\tsp!, {r1, r2, r3, r4}\\n\"\n+\"\tldmfd\\tsp!, {r1, r2, r3, lr}\\n\"\n \"\tbl\\t_Unwind_Resume @ Never returns\\n\"\n+\"\t.fnend\\n\"\n \"\t.popsection\\n\");\n #endif\n #endif"}]}