{"sha": "aee48ef856de3b97ef0c7335389a72180711d931", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWVlNDhlZjg1NmRlM2I5N2VmMGM3MzM1Mzg5YTcyMTgwNzExZDkzMQ==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1999-03-16T16:25:12Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1999-03-16T16:25:12Z"}, "message": "parse.y (java_complete_lhs): Call force_evaluation_order after patch_newarray.\n\n \n\t* parse.y (java_complete_lhs):  Call force_evaluation_order\n\tafter patch_newarray.\n\t(patch_binop):  Don't call fold if there are side effects.\n\nFrom-SVN: r25806", "tree": {"sha": "08a34130f31dbd9cf682925a3ddda8eabe6290d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/08a34130f31dbd9cf682925a3ddda8eabe6290d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aee48ef856de3b97ef0c7335389a72180711d931", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aee48ef856de3b97ef0c7335389a72180711d931", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aee48ef856de3b97ef0c7335389a72180711d931", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aee48ef856de3b97ef0c7335389a72180711d931/comments", "author": null, "committer": null, "parents": [{"sha": "774018b9868eca23fea9594582fa6305a68d882e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/774018b9868eca23fea9594582fa6305a68d882e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/774018b9868eca23fea9594582fa6305a68d882e"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "81f5cb0f331ab222abce152a02a0558500316ee4", "filename": "gcc/java/parse.y", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aee48ef856de3b97ef0c7335389a72180711d931/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aee48ef856de3b97ef0c7335389a72180711d931/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=aee48ef856de3b97ef0c7335389a72180711d931", "patch": "@@ -7889,7 +7889,8 @@ java_complete_lhs (node)\n       /* They complete the array creation expression, if no errors\n          were found. */\n       CAN_COMPLETE_NORMALLY (node) = 1;\n-      return (flag ? error_mark_node : patch_newarray (node));\n+      return (flag ? error_mark_node\n+\t      : force_evaluation_order (patch_newarray (node)));\n \n     case NEW_CLASS_EXPR:\n     case CALL_EXPR:\n@@ -9268,7 +9269,10 @@ patch_binop (node, wfl_op1, wfl_op2)\n   TREE_TYPE (node) = prom_type;\n   TREE_SIDE_EFFECTS (node) = TREE_SIDE_EFFECTS (op1) | TREE_SIDE_EFFECTS (op2);\n   \n-  return fold (node);\n+  /* fold does not respect side-effect order as required for Java but not C. */\n+  if (! TREE_SIDE_EFFECTS (node))\n+    node = fold (node);\n+  return node;\n }\n \n /* Concatenate the STRING_CST CSTE and STRING. When AFTER is a non"}]}