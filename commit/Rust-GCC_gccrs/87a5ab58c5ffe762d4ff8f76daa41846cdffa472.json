{"sha": "87a5ab58c5ffe762d4ff8f76daa41846cdffa472", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdhNWFiNThjNWZmZTc2MmQ0ZmY4Zjc2ZGFhNDE4NDZjZGZmYTQ3Mg==", "commit": {"author": {"name": "Steve Ellcey", "email": "sellcey@imgtec.com", "date": "2016-01-29T16:29:58Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2016-01-29T16:29:58Z"}, "message": "re PR target/65604 (MIPS -fno-delayed-branch generates incorrect code with -mcheck-zero-division)\n\n\tPR target/65604\n\t* config/mips/mips.c (mips_output_division): Check flag_delayed_branch.\n\nFrom-SVN: r232985", "tree": {"sha": "4fefacfdaa6161f57d1093c48115fde5a6358e55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4fefacfdaa6161f57d1093c48115fde5a6358e55"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87a5ab58c5ffe762d4ff8f76daa41846cdffa472", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87a5ab58c5ffe762d4ff8f76daa41846cdffa472", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87a5ab58c5ffe762d4ff8f76daa41846cdffa472", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87a5ab58c5ffe762d4ff8f76daa41846cdffa472/comments", "author": null, "committer": null, "parents": [{"sha": "33e89989f63ba5148362ecbdaed7d6c62e74e8ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33e89989f63ba5148362ecbdaed7d6c62e74e8ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33e89989f63ba5148362ecbdaed7d6c62e74e8ea"}], "stats": {"total": 19, "additions": 16, "deletions": 3}, "files": [{"sha": "2450e4fca91bb28f0d567cd72c1edea9790efc9a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87a5ab58c5ffe762d4ff8f76daa41846cdffa472/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87a5ab58c5ffe762d4ff8f76daa41846cdffa472/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=87a5ab58c5ffe762d4ff8f76daa41846cdffa472", "patch": "@@ -1,3 +1,8 @@\n+2016-01-29  Steve Ellcey  <sellcey@imgtec.com>\n+\n+\tPR target/65604\n+\t* config/mips/mips.c (mips_output_division): Check flag_delayed_branch.\n+\n 2016-01-29  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/69551"}, {"sha": "9ec2dcb8f86d81f50bd1b32ea13bfed35f6c9ffc", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87a5ab58c5ffe762d4ff8f76daa41846cdffa472/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87a5ab58c5ffe762d4ff8f76daa41846cdffa472/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=87a5ab58c5ffe762d4ff8f76daa41846cdffa472", "patch": "@@ -13712,9 +13712,17 @@ mips_output_division (const char *division, rtx *operands)\n \t}\n       else\n \t{\n-\t  output_asm_insn (\"%(bne\\t%2,%.,1f\", operands);\n-\t  output_asm_insn (s, operands);\n-\t  s = \"break\\t7%)\\n1:\";\n+\t  if (flag_delayed_branch)\n+\t    {\n+\t      output_asm_insn (\"%(bne\\t%2,%.,1f\", operands);\n+\t      output_asm_insn (s, operands);\n+\t      s = \"break\\t7%)\\n1:\";\n+\t    }\n+\t  else\n+\t    {\n+\t      output_asm_insn (s, operands);\n+\t      s = \"bne\\t%2,%.,1f\\n\\tnop\\n\\tbreak\\t7\\n1:\";\n+\t    }\n \t}\n     }\n   return s;"}]}