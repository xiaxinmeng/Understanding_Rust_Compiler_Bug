{"sha": "e42efef59003a43c21f31430a75cc52bd5a1e451", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTQyZWZlZjU5MDAzYTQzYzIxZjMxNDMwYTc1Y2M1MmJkNWExZTQ1MQ==", "commit": {"author": {"name": "Michael Hayes", "email": "m.hayes@elec.canterbury.ac.nz", "date": "1999-02-08T14:58:08Z"}, "committer": {"name": "Michael Hayes", "email": "m.hayes@gcc.gnu.org", "date": "1999-02-08T14:58:08Z"}, "message": "c4x.md (*movhi_stik): New pattern.\n\n\t* config/c4x/c4x.md (*movhi_stik): New pattern.\n\t(movhi): Allow some immediate constants to be directly\n\tstored in memory.\n\nFrom-SVN: r25091", "tree": {"sha": "7566b02cde2284cadfa984a20819e2da61c429f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7566b02cde2284cadfa984a20819e2da61c429f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e42efef59003a43c21f31430a75cc52bd5a1e451", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e42efef59003a43c21f31430a75cc52bd5a1e451", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e42efef59003a43c21f31430a75cc52bd5a1e451", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e42efef59003a43c21f31430a75cc52bd5a1e451/comments", "author": null, "committer": null, "parents": [{"sha": "b2e9a2fdc876ea464044c9e2338313cff1a4a679", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2e9a2fdc876ea464044c9e2338313cff1a4a679", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2e9a2fdc876ea464044c9e2338313cff1a4a679"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "48267988587b7345c684f0f4e9513acd2c837a80", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e42efef59003a43c21f31430a75cc52bd5a1e451/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e42efef59003a43c21f31430a75cc52bd5a1e451/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e42efef59003a43c21f31430a75cc52bd5a1e451", "patch": "@@ -1,3 +1,9 @@\n+Tue Feb  9 11:55:04 1999  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>\n+\n+\t* config/c4x/c4x.md (*movhi_stik): New pattern.\n+\t(movhi): Allow some immediate constants to be directly\n+\tstored in memory.\n+\n Tue Feb  9 11:34:15 1999  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>\n \n \t* config/c4x/c4x.md (all call patterns): Add constraints \"Ur\"."}, {"sha": "d49b4116cce4ccf083ee0047ff2152026c5fd067", "filename": "gcc/config/c4x/c4x.md", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e42efef59003a43c21f31430a75cc52bd5a1e451/gcc%2Fconfig%2Fc4x%2Fc4x.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e42efef59003a43c21f31430a75cc52bd5a1e451/gcc%2Fconfig%2Fc4x%2Fc4x.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fc4x%2Fc4x.md?ref=e42efef59003a43c21f31430a75cc52bd5a1e451", "patch": "@@ -5370,6 +5370,13 @@\n ; TWO OPERAND LONG LONG INSTRUCTIONS\n ;\n \n+(define_insn \"*movhi_stik\"\n+  [(set (match_operand:HI 0 \"memory_operand\" \"=m\")\n+        (match_operand:HI 1 \"stik_const_operand\" \"K\"))]\n+  \"! TARGET_C3X\"\n+  \"#\"\n+  [(set_attr \"type\" \"multi\")])\n+\n ; We could load some constants using define_splits for the C30\n ; in the large memory model---these would emit shift and or insns.\n (define_expand \"movhi\"\n@@ -5395,7 +5402,9 @@\n   [(set (match_operand:HI 0 \"src_operand\" \"\")\n \t(match_operand:HI 1 \"src_operand\" \"\"))]\n   \"reload_completed\n-   && (reg_operand (operands[0], HImode) || reg_operand (operands[1], HImode))\"\n+   && (reg_operand (operands[0], HImode)\n+       || reg_operand (operands[1], HImode)\n+       || stik_const_operand (operands[1], HImode))\"\n   [(set (match_dup 2) (match_dup 3))\n    (set (match_dup 4) (match_dup 5))]\n   \"operands[2] = c4x_operand_subword (operands[0], 0, 1, HImode);"}]}