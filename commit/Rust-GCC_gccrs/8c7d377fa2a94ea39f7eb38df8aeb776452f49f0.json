{"sha": "8c7d377fa2a94ea39f7eb38df8aeb776452f49f0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGM3ZDM3N2ZhMmE5NGVhMzlmN2ViMzhkZjhhZWI3NzY0NTJmNDlmMA==", "commit": {"author": {"name": "John David Anglin", "email": "dave.anglin@nrc-cnrc.gc.ca", "date": "2003-04-20T17:18:03Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2003-04-20T17:18:03Z"}, "message": "pa.md (movccfp): New expander.\n\n\tPR/8705\n\t* pa.md (movccfp): New expander.\n\t(setccfp0, setccfp1): Rename to movccfp0 and movccfp1, respectively.\n\tReverse fcmp conditions.\n\nFrom-SVN: r65858", "tree": {"sha": "8e1f0c3bde297f8da203b6c82596d2aecaa2eb83", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8e1f0c3bde297f8da203b6c82596d2aecaa2eb83"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8c7d377fa2a94ea39f7eb38df8aeb776452f49f0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c7d377fa2a94ea39f7eb38df8aeb776452f49f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c7d377fa2a94ea39f7eb38df8aeb776452f49f0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c7d377fa2a94ea39f7eb38df8aeb776452f49f0/comments", "author": null, "committer": null, "parents": [{"sha": "5e77a357679635fe15bd3c4e4c904c6f40f81a13", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e77a357679635fe15bd3c4e4c904c6f40f81a13", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e77a357679635fe15bd3c4e4c904c6f40f81a13"}], "stats": {"total": 31, "additions": 26, "deletions": 5}, "files": [{"sha": "f2167841c800bfa2aa9f599ca867238684ed0fcf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c7d377fa2a94ea39f7eb38df8aeb776452f49f0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c7d377fa2a94ea39f7eb38df8aeb776452f49f0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8c7d377fa2a94ea39f7eb38df8aeb776452f49f0", "patch": "@@ -1,3 +1,10 @@\n+2003-04-20  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n+\n+\tPR/8705\n+\t* pa.md (movccfp): New expander.\n+\t(setccfp0, setccfp1): Rename to movccfp0 and movccfp1, respectively.\n+\tReverse fcmp conditions.\n+\n 2003-04-20  Marek Michalkiewicz  <marekm@amelek.gda.pl>\n \n \t* config/avr/avr.md (*cmpqi_sign_extend): Handle negative values"}, {"sha": "523b971fd1919b0bfeb2ad812918047d7e224417", "filename": "gcc/config/pa/pa.md", "status": "modified", "additions": 19, "deletions": 5, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c7d377fa2a94ea39f7eb38df8aeb776452f49f0/gcc%2Fconfig%2Fpa%2Fpa.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c7d377fa2a94ea39f7eb38df8aeb776452f49f0/gcc%2Fconfig%2Fpa%2Fpa.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.md?ref=8c7d377fa2a94ea39f7eb38df8aeb776452f49f0", "patch": "@@ -625,23 +625,37 @@\n   [(set_attr \"length\" \"4\")\n    (set_attr \"type\" \"fpcc\")])\n \n-;; The following two patterns are optimization placeholders.  In almost\n+;; Provide a means to emit the movccfp0 and movccfp1 optimization\n+;; placeholders.  This is necessary in rare situations when a\n+;; placeholder is re-emitted (see PR 8705).\n+\n+(define_expand \"movccfp\"\n+  [(set (reg:CCFP 0)\n+\t(match_operand 0 \"const_int_operand\" \"\"))]\n+  \"! TARGET_SOFT_FLOAT\"\n+  \"\n+{\n+  if ((unsigned HOST_WIDE_INT) INTVAL (operands[0]) > 1)\n+    FAIL;\n+}\")\n+\n+;; The following patterns are optimization placeholders.  In almost\n ;; all cases, the user of the condition code will be simplified and the\n ;; original condition code setting insn should be eliminated.\n \n-(define_insn \"*setccfp0\"\n+(define_insn \"*movccfp0\"\n   [(set (reg:CCFP 0)\n \t(const_int 0))]\n   \"! TARGET_SOFT_FLOAT\"\n-  \"fcmp,dbl,!= %%fr0,%%fr0\"\n+  \"fcmp,dbl,= %%fr0,%%fr0\"\n   [(set_attr \"length\" \"4\")\n    (set_attr \"type\" \"fpcc\")])\n \n-(define_insn \"*setccfp1\"\n+(define_insn \"*movccfp1\"\n   [(set (reg:CCFP 0)\n \t(const_int 1))]\n   \"! TARGET_SOFT_FLOAT\"\n-  \"fcmp,dbl,= %%fr0,%%fr0\"\n+  \"fcmp,dbl,!= %%fr0,%%fr0\"\n   [(set_attr \"length\" \"4\")\n    (set_attr \"type\" \"fpcc\")])\n "}]}