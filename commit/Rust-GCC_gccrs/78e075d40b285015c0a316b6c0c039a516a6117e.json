{"sha": "78e075d40b285015c0a316b6c0c039a516a6117e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzhlMDc1ZDQwYjI4NTAxNWMwYTMxNmI2YzBjMDM5YTUxNmE2MTE3ZQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2007-02-07T13:35:17Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2007-02-07T13:35:17Z"}, "message": "[multiple changes]\n\n2007-02-07  Bruno Haible  <bruno@clisp.org>\n\nconfig/\n\tPR libgomp/28468\n\t* config/tls.m4 (GCC_CHECK_TLS): Also check whether the libc supports\n\tTLS via __thread.\n\n2007-02-07  Jakub Jelinek  <jakub@redhat.com>\n\n{libgomp,libstdc++-v3,libmudflap,libjava}/\n\tPR libgomp/28468\n\t* configure: Regenerate.\n\nFrom-SVN: r121689", "tree": {"sha": "b334f7a9f1a796592dd1322e2906ebb380c4656f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b334f7a9f1a796592dd1322e2906ebb380c4656f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/78e075d40b285015c0a316b6c0c039a516a6117e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78e075d40b285015c0a316b6c0c039a516a6117e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78e075d40b285015c0a316b6c0c039a516a6117e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78e075d40b285015c0a316b6c0c039a516a6117e/comments", "author": null, "committer": null, "parents": [{"sha": "e02a048f461136c26abbde5e609db372b0b692d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e02a048f461136c26abbde5e609db372b0b692d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e02a048f461136c26abbde5e609db372b0b692d6"}], "stats": {"total": 601, "additions": 589, "deletions": 12}, "files": [{"sha": "c4f5ded49a10887742a704404e200fb7c8f0d2fb", "filename": "config/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78e075d40b285015c0a316b6c0c039a516a6117e/config%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78e075d40b285015c0a316b6c0c039a516a6117e/config%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2FChangeLog?ref=78e075d40b285015c0a316b6c0c039a516a6117e", "patch": "@@ -1,3 +1,9 @@\n+2007-02-07  Bruno Haible  <bruno@clisp.org>\n+\n+\tPR libgomp/28468\n+\t* config/tls.m4 (GCC_CHECK_TLS): Also check whether the libc supports\n+\tTLS via __thread.\n+\n 2007-01-31  Daniel Franke <franke.daniel@gmail.com>\n \n \tPR libgomp/30546"}, {"sha": "c8f3ff0a373340d84afa2a76476de919c3cc11e3", "filename": "config/tls.m4", "status": "modified", "additions": 55, "deletions": 4, "changes": 59, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78e075d40b285015c0a316b6c0c039a516a6117e/config%2Ftls.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78e075d40b285015c0a316b6c0c039a516a6117e/config%2Ftls.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Ftls.m4?ref=78e075d40b285015c0a316b6c0c039a516a6117e", "patch": "@@ -7,16 +7,67 @@ AC_DEFUN([GCC_CHECK_TLS], [\n       [dnl If the test case passed with dynamic linking, try again with\n        dnl static linking, but only if static linking is supported (not\n        dnl on Solaris 10).  This fails with some older Red Hat releases.\n-      save_LDFLAGS=\"$LDFLAGS\"\n+      chktls_save_LDFLAGS=\"$LDFLAGS\"\n       LDFLAGS=\"-static $LDFLAGS\"\n       AC_LINK_IFELSE([int main() { return 0; }],\n \tAC_RUN_IFELSE([__thread int a; int b; int main() { return a = b; }],\n \t\t      [have_tls=yes], [have_tls=no],[]),\n \t[have_tls=yes])\n-      LDFLAGS=\"$save_LDFLAGS\"],\n+      LDFLAGS=\"$chktls_save_LDFLAGS\"\n+      if test $have_tls = yes; then\n+\tdnl So far, the binutils and the compiler support TLS.\n+\tdnl Also check whether the libc supports TLS, i.e. whether a variable\n+\tdnl with __thread linkage has a different address in different threads.\n+\tdnl First, find the thread_CFLAGS necessary for linking a program that\n+\tdnl calls pthread_create.\n+\tchktls_save_CFLAGS=\"$CFLAGS\"\n+\tthread_CFLAGS=failed\n+\tfor flag in '' '-pthread' '-lpthread'; do\n+\t  CFLAGS=\"$flag $chktls_save_CFLAGS\"\n+\t  AC_LINK_IFELSE(\n+\t    [AC_LANG_PROGRAM(\n+\t       [#include <pthread.h>\n+\t\tvoid *g(void *d) { return NULL; }],\n+\t       [pthread_t t; pthread_create(&t,NULL,g,NULL);])],\n+\t    [thread_CFLAGS=\"$flag\"])\n+\t  if test \"X$thread_CFLAGS\" != Xfailed; then\n+\t    break\n+\t  fi\n+\tdone\n+\tCFLAGS=\"$chktls_save_CFLAGS\"\n+\tif test \"X$thread_CFLAGS\" != Xfailed; then\n+\t  CFLAGS=\"$thread_CFLAGS $chktls_save_CFLAGS\"\n+\t  AC_RUN_IFELSE(\n+\t    [AC_LANG_PROGRAM(\n+\t       [#include <pthread.h>\n+\t\t__thread int a;\n+\t\tstatic int *a_in_other_thread;\n+\t\tstatic void *\n+\t\tthread_func (void *arg)\n+\t\t{\n+\t\t  a_in_other_thread = &a;\n+\t\t  return (void *)0;\n+\t\t}],\n+\t       [pthread_t thread;\n+\t\tvoid *thread_retval;\n+\t\tint *a_in_main_thread;\n+\t\tif (pthread_create (&thread, (pthread_attr_t *)0,\n+\t\t\t\t    thread_func, (void *)0))\n+\t\t  return 0;\n+\t\ta_in_main_thread = &a;\n+\t\tif (pthread_join (thread, &thread_retval))\n+\t\t  return 0;\n+\t\treturn (a_in_other_thread == a_in_main_thread);])],\n+\t     [have_tls=yes], [have_tls=no], [])\n+\t  CFLAGS=\"$chktls_save_CFLAGS\"\n+\tfi\n+      fi],\n       [have_tls=no],\n-      [AC_LINK_IFELSE([__thread int a; int b; int main() { return a = b; }],\n-\t[have_tls=yes], [have_tls=no])]\n+      [dnl This is the cross-compiling case. Assume libc supports TLS if the\n+       dnl binutils and the compiler do.\n+       AC_LINK_IFELSE([__thread int a; int b; int main() { return a = b; }],\n+\t\t      [have_tls=yes], [have_tls=no])\n+      ]\n     )])\n   if test \"$enable_tls $have_tls\" = \"yes yes\"; then\n     AC_DEFINE(HAVE_TLS, 1,"}, {"sha": "a47f2caa1b315a902be7b3a09a7505848daed6cf", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78e075d40b285015c0a316b6c0c039a516a6117e/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78e075d40b285015c0a316b6c0c039a516a6117e/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=78e075d40b285015c0a316b6c0c039a516a6117e", "patch": "@@ -1,5 +1,8 @@\n 2007-02-07  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR libgomp/28486\n+\t* configure: Regenerate.\n+\n \tPR c++/30703\n \t* testsuite/libgomp.c++/pr30703.C: New test.\n "}, {"sha": "68d4c3842cf595079470033d933833722a336c7f", "filename": "libgomp/configure", "status": "modified", "additions": 128, "deletions": 2, "changes": 130, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78e075d40b285015c0a316b6c0c039a516a6117e/libgomp%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78e075d40b285015c0a316b6c0c039a516a6117e/libgomp%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure?ref=78e075d40b285015c0a316b6c0c039a516a6117e", "patch": "@@ -3530,6 +3530,10 @@ else\n                       *)   gcc_cv_prog_makeinfo_modern=no;;\n                     esac\n \n+                    if test $gcc_cv_prog_makeinfo_modern = no; then\n+                      MAKEINFO=\"${CONFIG_SHELL-/bin/sh} $ac_aux_dir/missing makeinfo\"\n+                    fi\n+\n fi\n echo \"$as_me:$LINENO: result: $gcc_cv_prog_makeinfo_modern\" >&5\n echo \"${ECHO_T}$gcc_cv_prog_makeinfo_modern\" >&6\n@@ -8999,7 +9003,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; }; then\n-                      save_LDFLAGS=\"$LDFLAGS\"\n+                      chktls_save_LDFLAGS=\"$LDFLAGS\"\n       LDFLAGS=\"-static $LDFLAGS\"\n       cat >conftest.$ac_ext <<_ACEOF\n int main() { return 0; }\n@@ -9066,7 +9070,129 @@ have_tls=yes\n fi\n rm -f conftest.err conftest.$ac_objext \\\n       conftest$ac_exeext conftest.$ac_ext\n-      LDFLAGS=\"$save_LDFLAGS\"\n+      LDFLAGS=\"$chktls_save_LDFLAGS\"\n+      if test $have_tls = yes; then\n+\t\t\t\t\t\tchktls_save_CFLAGS=\"$CFLAGS\"\n+\tthread_CFLAGS=failed\n+\tfor flag in '' '-pthread' '-lpthread'; do\n+\t  CFLAGS=\"$flag $chktls_save_CFLAGS\"\n+\t  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <pthread.h>\n+\t\tvoid *g(void *d) { return NULL; }\n+int\n+main ()\n+{\n+pthread_t t; pthread_create(&t,NULL,g,NULL);\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  thread_CFLAGS=\"$flag\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\t  if test \"X$thread_CFLAGS\" != Xfailed; then\n+\t    break\n+\t  fi\n+\tdone\n+\tCFLAGS=\"$chktls_save_CFLAGS\"\n+\tif test \"X$thread_CFLAGS\" != Xfailed; then\n+\t  CFLAGS=\"$thread_CFLAGS $chktls_save_CFLAGS\"\n+\t  if test \"$cross_compiling\" = yes; then\n+  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&5\n+echo \"$as_me: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+else\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <pthread.h>\n+\t\t__thread int a;\n+\t\tstatic int *a_in_other_thread;\n+\t\tstatic void *\n+\t\tthread_func (void *arg)\n+\t\t{\n+\t\t  a_in_other_thread = &a;\n+\t\t  return (void *)0;\n+\t\t}\n+int\n+main ()\n+{\n+pthread_t thread;\n+\t\tvoid *thread_retval;\n+\t\tint *a_in_main_thread;\n+\t\tif (pthread_create (&thread, (pthread_attr_t *)0,\n+\t\t\t\t    thread_func, (void *)0))\n+\t\t  return 0;\n+\t\ta_in_main_thread = &a;\n+\t\tif (pthread_join (thread, &thread_retval))\n+\t\t  return 0;\n+\t\treturn (a_in_other_thread == a_in_main_thread);\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  have_tls=yes\n+else\n+  echo \"$as_me: program exited with status $ac_status\" >&5\n+echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+( exit $ac_status )\n+have_tls=no\n+fi\n+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+fi\n+\t  CFLAGS=\"$chktls_save_CFLAGS\"\n+\tfi\n+      fi\n else\n   echo \"$as_me: program exited with status $ac_status\" >&5\n echo \"$as_me: failed program was:\" >&5"}, {"sha": "cc6a25fcd7d749d6603991ece8eef8ae0e0da166", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78e075d40b285015c0a316b6c0c039a516a6117e/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78e075d40b285015c0a316b6c0c039a516a6117e/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=78e075d40b285015c0a316b6c0c039a516a6117e", "patch": "@@ -1,3 +1,8 @@\n+2007-02-07  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR libgomp/28468\n+\t* configure: Regenerate.\n+\n 2007-02-06  Andrew Haley  <aph@redhat.com>\n \n \t* scripts/makemake.tcl (emit_bc_rule): Set the source filename."}, {"sha": "fa86960b3481318b1dd975c48cabd9d43060cbf3", "filename": "libjava/configure", "status": "modified", "additions": 129, "deletions": 2, "changes": 131, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78e075d40b285015c0a316b6c0c039a516a6117e/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78e075d40b285015c0a316b6c0c039a516a6117e/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=78e075d40b285015c0a316b6c0c039a516a6117e", "patch": "@@ -16870,7 +16870,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; }; then\n-                      save_LDFLAGS=\"$LDFLAGS\"\n+                      chktls_save_LDFLAGS=\"$LDFLAGS\"\n       LDFLAGS=\"-static $LDFLAGS\"\n       if test x$gcc_no_link = xyes; then\n   { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n@@ -16942,7 +16942,134 @@ have_tls=yes\n fi\n rm -f conftest.err conftest.$ac_objext \\\n       conftest$ac_exeext conftest.$ac_ext\n-      LDFLAGS=\"$save_LDFLAGS\"\n+      LDFLAGS=\"$chktls_save_LDFLAGS\"\n+      if test $have_tls = yes; then\n+\t\t\t\t\t\tchktls_save_CFLAGS=\"$CFLAGS\"\n+\tthread_CFLAGS=failed\n+\tfor flag in '' '-pthread' '-lpthread'; do\n+\t  CFLAGS=\"$flag $chktls_save_CFLAGS\"\n+\t  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <pthread.h>\n+\t\tvoid *g(void *d) { return NULL; }\n+int\n+main ()\n+{\n+pthread_t t; pthread_create(&t,NULL,g,NULL);\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  thread_CFLAGS=\"$flag\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\t  if test \"X$thread_CFLAGS\" != Xfailed; then\n+\t    break\n+\t  fi\n+\tdone\n+\tCFLAGS=\"$chktls_save_CFLAGS\"\n+\tif test \"X$thread_CFLAGS\" != Xfailed; then\n+\t  CFLAGS=\"$thread_CFLAGS $chktls_save_CFLAGS\"\n+\t  if test \"$cross_compiling\" = yes; then\n+  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&5\n+echo \"$as_me: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+else\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <pthread.h>\n+\t\t__thread int a;\n+\t\tstatic int *a_in_other_thread;\n+\t\tstatic void *\n+\t\tthread_func (void *arg)\n+\t\t{\n+\t\t  a_in_other_thread = &a;\n+\t\t  return (void *)0;\n+\t\t}\n+int\n+main ()\n+{\n+pthread_t thread;\n+\t\tvoid *thread_retval;\n+\t\tint *a_in_main_thread;\n+\t\tif (pthread_create (&thread, (pthread_attr_t *)0,\n+\t\t\t\t    thread_func, (void *)0))\n+\t\t  return 0;\n+\t\ta_in_main_thread = &a;\n+\t\tif (pthread_join (thread, &thread_retval))\n+\t\t  return 0;\n+\t\treturn (a_in_other_thread == a_in_main_thread);\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  have_tls=yes\n+else\n+  echo \"$as_me: program exited with status $ac_status\" >&5\n+echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+( exit $ac_status )\n+have_tls=no\n+fi\n+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+fi\n+\t  CFLAGS=\"$chktls_save_CFLAGS\"\n+\tfi\n+      fi\n else\n   echo \"$as_me: program exited with status $ac_status\" >&5\n echo \"$as_me: failed program was:\" >&5"}, {"sha": "80096e8c8595aba9db67d5980bd21ae337c4a9a2", "filename": "libmudflap/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78e075d40b285015c0a316b6c0c039a516a6117e/libmudflap%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78e075d40b285015c0a316b6c0c039a516a6117e/libmudflap%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmudflap%2FChangeLog?ref=78e075d40b285015c0a316b6c0c039a516a6117e", "patch": "@@ -1,3 +1,8 @@\n+2007-02-07  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR libgomp/28468\n+\t* configure: Regenerate.\n+\n 2006-12-04  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \t* configure: Regenerate."}, {"sha": "e1019e7a93981aac7b66ccb149c6bb9377ca5e59", "filename": "libmudflap/configure", "status": "modified", "additions": 124, "deletions": 2, "changes": 126, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78e075d40b285015c0a316b6c0c039a516a6117e/libmudflap%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78e075d40b285015c0a316b6c0c039a516a6117e/libmudflap%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmudflap%2Fconfigure?ref=78e075d40b285015c0a316b6c0c039a516a6117e", "patch": "@@ -7183,7 +7183,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; }; then\n-                      save_LDFLAGS=\"$LDFLAGS\"\n+                      chktls_save_LDFLAGS=\"$LDFLAGS\"\n       LDFLAGS=\"-static $LDFLAGS\"\n       cat >conftest.$ac_ext <<_ACEOF\n int main() { return 0; }\n@@ -7250,7 +7250,129 @@ have_tls=yes\n fi\n rm -f conftest.err conftest.$ac_objext \\\n       conftest$ac_exeext conftest.$ac_ext\n-      LDFLAGS=\"$save_LDFLAGS\"\n+      LDFLAGS=\"$chktls_save_LDFLAGS\"\n+      if test $have_tls = yes; then\n+\t\t\t\t\t\tchktls_save_CFLAGS=\"$CFLAGS\"\n+\tthread_CFLAGS=failed\n+\tfor flag in '' '-pthread' '-lpthread'; do\n+\t  CFLAGS=\"$flag $chktls_save_CFLAGS\"\n+\t  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <pthread.h>\n+\t\tvoid *g(void *d) { return NULL; }\n+int\n+main ()\n+{\n+pthread_t t; pthread_create(&t,NULL,g,NULL);\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  thread_CFLAGS=\"$flag\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\t  if test \"X$thread_CFLAGS\" != Xfailed; then\n+\t    break\n+\t  fi\n+\tdone\n+\tCFLAGS=\"$chktls_save_CFLAGS\"\n+\tif test \"X$thread_CFLAGS\" != Xfailed; then\n+\t  CFLAGS=\"$thread_CFLAGS $chktls_save_CFLAGS\"\n+\t  if test \"$cross_compiling\" = yes; then\n+  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&5\n+echo \"$as_me: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+else\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <pthread.h>\n+\t\t__thread int a;\n+\t\tstatic int *a_in_other_thread;\n+\t\tstatic void *\n+\t\tthread_func (void *arg)\n+\t\t{\n+\t\t  a_in_other_thread = &a;\n+\t\t  return (void *)0;\n+\t\t}\n+int\n+main ()\n+{\n+pthread_t thread;\n+\t\tvoid *thread_retval;\n+\t\tint *a_in_main_thread;\n+\t\tif (pthread_create (&thread, (pthread_attr_t *)0,\n+\t\t\t\t    thread_func, (void *)0))\n+\t\t  return 0;\n+\t\ta_in_main_thread = &a;\n+\t\tif (pthread_join (thread, &thread_retval))\n+\t\t  return 0;\n+\t\treturn (a_in_other_thread == a_in_main_thread);\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  have_tls=yes\n+else\n+  echo \"$as_me: program exited with status $ac_status\" >&5\n+echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+( exit $ac_status )\n+have_tls=no\n+fi\n+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+fi\n+\t  CFLAGS=\"$chktls_save_CFLAGS\"\n+\tfi\n+      fi\n else\n   echo \"$as_me: program exited with status $ac_status\" >&5\n echo \"$as_me: failed program was:\" >&5"}, {"sha": "1610a6079eb59c814f93894e54fc7853da5fda6f", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78e075d40b285015c0a316b6c0c039a516a6117e/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78e075d40b285015c0a316b6c0c039a516a6117e/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=78e075d40b285015c0a316b6c0c039a516a6117e", "patch": "@@ -1,3 +1,8 @@\n+2007-02-07  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR libgomp/28468\n+\t* configure: Regenerate.\n+\n 2007-02-07  Hans-Peter Nilsson  <hp@axis.com>\n \n \tPR testsuite/28870"}, {"sha": "2c57d447f4d5efa93a9a41cb42dcaa4f3b16274d", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 129, "deletions": 2, "changes": 131, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78e075d40b285015c0a316b6c0c039a516a6117e/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78e075d40b285015c0a316b6c0c039a516a6117e/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=78e075d40b285015c0a316b6c0c039a516a6117e", "patch": "@@ -31620,7 +31620,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; }; then\n-                      save_LDFLAGS=\"$LDFLAGS\"\n+                      chktls_save_LDFLAGS=\"$LDFLAGS\"\n       LDFLAGS=\"-static $LDFLAGS\"\n       if test x$gcc_no_link = xyes; then\n   { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n@@ -31692,7 +31692,134 @@ have_tls=yes\n fi\n rm -f conftest.err conftest.$ac_objext \\\n       conftest$ac_exeext conftest.$ac_ext\n-      LDFLAGS=\"$save_LDFLAGS\"\n+      LDFLAGS=\"$chktls_save_LDFLAGS\"\n+      if test $have_tls = yes; then\n+\t\t\t\t\t\tchktls_save_CFLAGS=\"$CFLAGS\"\n+\tthread_CFLAGS=failed\n+\tfor flag in '' '-pthread' '-lpthread'; do\n+\t  CFLAGS=\"$flag $chktls_save_CFLAGS\"\n+\t  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <pthread.h>\n+\t\tvoid *g(void *d) { return NULL; }\n+int\n+main ()\n+{\n+pthread_t t; pthread_create(&t,NULL,g,NULL);\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  thread_CFLAGS=\"$flag\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\t  if test \"X$thread_CFLAGS\" != Xfailed; then\n+\t    break\n+\t  fi\n+\tdone\n+\tCFLAGS=\"$chktls_save_CFLAGS\"\n+\tif test \"X$thread_CFLAGS\" != Xfailed; then\n+\t  CFLAGS=\"$thread_CFLAGS $chktls_save_CFLAGS\"\n+\t  if test \"$cross_compiling\" = yes; then\n+  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&5\n+echo \"$as_me: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+else\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <pthread.h>\n+\t\t__thread int a;\n+\t\tstatic int *a_in_other_thread;\n+\t\tstatic void *\n+\t\tthread_func (void *arg)\n+\t\t{\n+\t\t  a_in_other_thread = &a;\n+\t\t  return (void *)0;\n+\t\t}\n+int\n+main ()\n+{\n+pthread_t thread;\n+\t\tvoid *thread_retval;\n+\t\tint *a_in_main_thread;\n+\t\tif (pthread_create (&thread, (pthread_attr_t *)0,\n+\t\t\t\t    thread_func, (void *)0))\n+\t\t  return 0;\n+\t\ta_in_main_thread = &a;\n+\t\tif (pthread_join (thread, &thread_retval))\n+\t\t  return 0;\n+\t\treturn (a_in_other_thread == a_in_main_thread);\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  have_tls=yes\n+else\n+  echo \"$as_me: program exited with status $ac_status\" >&5\n+echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+( exit $ac_status )\n+have_tls=no\n+fi\n+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+fi\n+\t  CFLAGS=\"$chktls_save_CFLAGS\"\n+\tfi\n+      fi\n else\n   echo \"$as_me: program exited with status $ac_status\" >&5\n echo \"$as_me: failed program was:\" >&5"}]}