{"sha": "c40cb38da99301e146582374b22c6caf49dc5314", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzQwY2IzOGRhOTkzMDFlMTQ2NTgyMzc0YjIyYzZjYWY0OWRjNTMxNA==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2005-10-06T12:43:17Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2005-10-06T12:43:17Z"}, "message": "re PR target/23783 (gcc.c-torture/compile/calls.c triggers an ICE)\n\n\tPR target/23783\n\t* arm.md (call): If the address isn't a SYMBOL_REF or a register,\n\tthen force it into a register.\n\t(call_value): Likewise.\n\nFrom-SVN: r105032", "tree": {"sha": "f50a15d21faa6dfda2ba4518c4cf04734b475613", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f50a15d21faa6dfda2ba4518c4cf04734b475613"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c40cb38da99301e146582374b22c6caf49dc5314", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c40cb38da99301e146582374b22c6caf49dc5314", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c40cb38da99301e146582374b22c6caf49dc5314", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c40cb38da99301e146582374b22c6caf49dc5314/comments", "author": null, "committer": null, "parents": [{"sha": "5872662b0b0cc334e777f97950c422d906925abc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5872662b0b0cc334e777f97950c422d906925abc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5872662b0b0cc334e777f97950c422d906925abc"}], "stats": {"total": 19, "additions": 15, "deletions": 4}, "files": [{"sha": "702ad28f7b7e49c3e577f00286f8ffed81e2ff04", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c40cb38da99301e146582374b22c6caf49dc5314/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c40cb38da99301e146582374b22c6caf49dc5314/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c40cb38da99301e146582374b22c6caf49dc5314", "patch": "@@ -1,3 +1,10 @@\n+2005-10-06  Richard Earnshaw  <richard.earnshaw@arm.com>\n+\n+\tPR target/23783\n+\t* arm.md (call): If the address isn't a SYMBOL_REF or a register,\n+\tthen force it into a register.\n+\t(call_value): Likewise.\n+\n 2005-10-06  Richard Henderson  <rth@redhat.com>\n \n \tPR 24049"}, {"sha": "76eb12b5fad51a037df79a529e4f7b3eff61cc0c", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c40cb38da99301e146582374b22c6caf49dc5314/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c40cb38da99301e146582374b22c6caf49dc5314/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=c40cb38da99301e146582374b22c6caf49dc5314", "patch": "@@ -7455,8 +7455,10 @@\n        invoked it.  */\n     callee  = XEXP (operands[0], 0);\n     \n-    if (GET_CODE (callee) != REG\n-       && arm_is_longcall_p (operands[0], INTVAL (operands[2]), 0))\n+    if ((GET_CODE (callee) == SYMBOL_REF\n+\t && arm_is_longcall_p (operands[0], INTVAL (operands[2]), 0))\n+\t|| (GET_CODE (callee) != SYMBOL_REF\n+\t    && GET_CODE (callee) != REG))\n       XEXP (operands[0], 0) = force_reg (Pmode, callee);\n   }\"\n )\n@@ -7545,8 +7547,10 @@\n       operands[3] = const0_rtx;\n       \n     /* See the comment in define_expand \\\"call\\\".  */\n-    if (GET_CODE (callee) != REG\n-\t&& arm_is_longcall_p (operands[1], INTVAL (operands[3]), 0))\n+    if ((GET_CODE (callee) == SYMBOL_REF\n+\t && arm_is_longcall_p (operands[1], INTVAL (operands[3]), 0))\n+\t|| (GET_CODE (callee) != SYMBOL_REF\n+\t    && GET_CODE (callee) != REG))\n       XEXP (operands[1], 0) = force_reg (Pmode, callee);\n   }\"\n )"}]}