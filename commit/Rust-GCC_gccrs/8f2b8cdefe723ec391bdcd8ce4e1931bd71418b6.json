{"sha": "8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGYyYjhjZGVmZTcyM2VjMzkxYmRjZDhjZTRlMTkzMWJkNzE0MThiNg==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2011-08-06T14:50:05Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2011-08-06T14:50:05Z"}, "message": "Add testcases for PRs 47727/47372/47715.\n\n2011-08-06  H.J. Lu  <hongjiu.lu@intel.com>\n\n\tPR middle-end/47727\n\t* gcc.dg/pr47727.c: New.\n\n\tPR target/47372\n\t* gcc.dg/pr47372-1.c: New.\n\t* gcc.dg/pr47372-2.c: Likewise.\n\n\tPR target/47715\n\t* gcc.dg/tls/pr47715-5.c: New.\n\nFrom-SVN: r177513", "tree": {"sha": "ad27e76f44aa0719461204554210e68193b8c6ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad27e76f44aa0719461204554210e68193b8c6ab"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7ac1b8a01eb777ddc4e7985a7b68523a6fb5d824", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ac1b8a01eb777ddc4e7985a7b68523a6fb5d824", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ac1b8a01eb777ddc4e7985a7b68523a6fb5d824"}], "stats": {"total": 62, "additions": 62, "deletions": 0}, "files": [{"sha": "94f6f081b0cb94b40ea3499c2b047ce922c46ad1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6", "patch": "@@ -1,3 +1,12 @@\n+2011-08-06  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR middle-end/47727\n+\t* gcc.dg/pr47727.c: New.\n+\n+\tPR target/47372\n+\t* gcc.dg/pr47372-1.c: New.\n+\t* gcc.dg/pr47372-2.c: Likewise.\n+\n 2011-08-06  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR middle-end/47449\n@@ -17,6 +26,7 @@\n \t* gcc.dg/tls/pr47715-2.c: Likewise.\n \t* gcc.dg/tls/pr47715-3.c: Likewise.\n \t* gcc.dg/tls/pr47715-4.c: Likewise.\n+\t* gcc.dg/tls/pr47715-5.c: Likewise.\n \n 2011-08-06  Nicola Pero  <nicola.pero@meta-innovation.com>\n "}, {"sha": "a2e5c5b4141ef8e2da0324270cab27dacb47c581", "filename": "gcc/testsuite/gcc.dg/pr47372-1.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47372-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47372-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47372-1.c?ref=8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6", "patch": "@@ -0,0 +1,12 @@\n+/* { dg-do compile } */\n+/* { dg-require-effective-target fpic } */\n+/* { dg-options \"-O2 -fPIC -g\" } */\n+\n+typedef struct FILE FILE;\n+int _fwalk(int (*)(FILE *));\n+int __sflush(FILE *);\n+int\n+fflush(FILE *fp)\n+{\n+  return (_fwalk(__sflush));\n+}"}, {"sha": "8addcdc5ee325edbb4c4733221e812983bf905b6", "filename": "gcc/testsuite/gcc.dg/pr47372-2.c", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47372-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47372-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47372-2.c?ref=8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6", "patch": "@@ -0,0 +1,17 @@\n+/* { dg-do compile } */\n+/* { dg-require-effective-target fpic } */\n+/* { dg-options \"-O2 -fPIC -g\" } */\n+\n+typedef unsigned short ush;\n+typedef ush Pos;\n+extern ush prev[];\n+void fill_window( unsigned more, unsigned m)\n+{\n+    unsigned n;\n+    for (n = 0; n < (unsigned)(1<<15); n++) {\n+      (prev+0x8000)[n] = (Pos)(m >= 0x8000 ? m-0x8000 : 0);\n+    }\n+    for (n = 0; n < 0x8000; n++) {\n+      prev[n] = (Pos)(m >= 0x8000 ? m-0x8000 : 0);\n+    }\n+}"}, {"sha": "1ce7c360117480f438a6faa57c3a3358b0dde5ea", "filename": "gcc/testsuite/gcc.dg/pr47727.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47727.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47727.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47727.c?ref=8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6", "patch": "@@ -0,0 +1,12 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2\" } */\n+\n+typedef void (*func_ptr) (void);\n+static func_ptr __CTOR_END__[1] = { (func_ptr) 0 };\n+static void __attribute__((used))\n+__do_global_ctors_aux (void)\n+{\n+  func_ptr *p;\n+  for (p = __CTOR_END__ - 1; *p != (func_ptr) -1; p--)\n+    (*p) ();\n+}"}, {"sha": "ca3410df7398e7ef9f664c8002b6954f2e160450", "filename": "gcc/testsuite/gcc.dg/tls/pr47715-5.c", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Fpr47715-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Fpr47715-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Fpr47715-5.c?ref=8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6", "patch": "@@ -0,0 +1,11 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2\" } */\n+/* { dg-require-effective-target tls } */\n+\n+extern __thread int __libc_errno __attribute__ ((tls_model (\"initial-exec\")));\n+;\n+int *\n+__errno_location (void)\n+{\n+  return &__libc_errno;\n+}"}]}