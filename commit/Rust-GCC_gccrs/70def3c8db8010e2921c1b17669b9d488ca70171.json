{"sha": "70def3c8db8010e2921c1b17669b9d488ca70171", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzBkZWYzYzhkYjgwMTBlMjkyMWMxYjE3NjY5YjlkNDg4Y2E3MDE3MQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2007-02-14T19:31:58Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "2007-02-14T19:31:58Z"}, "message": "TimeZone.java (getDateParams): Negate dayOfWeek.\n\n2007-02-14  Jakub Jelinek  <jakub@redhat.com>\n\tAndrew Haley  <aph@redhat.com>\n\n\t* java/util/TimeZone.java (getDateParams): Negate dayOfWeek.\n\n\nCo-Authored-By: Andrew Haley <aph@redhat.com>\n\nFrom-SVN: r121955", "tree": {"sha": "cfe6e7ce2fc559adce3f4a0e03903eff1b6cba27", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cfe6e7ce2fc559adce3f4a0e03903eff1b6cba27"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/70def3c8db8010e2921c1b17669b9d488ca70171", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70def3c8db8010e2921c1b17669b9d488ca70171", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70def3c8db8010e2921c1b17669b9d488ca70171", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70def3c8db8010e2921c1b17669b9d488ca70171/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "029f45bdc15fe9c0b6fdafe5b2aa973c62c6eaf1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/029f45bdc15fe9c0b6fdafe5b2aa973c62c6eaf1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/029f45bdc15fe9c0b6fdafe5b2aa973c62c6eaf1"}], "stats": {"total": 29, "additions": 23, "deletions": 6}, "files": [{"sha": "85fa74c0b8c0f00dec6980722eabb0d4c194f325", "filename": "libjava/classpath/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70def3c8db8010e2921c1b17669b9d488ca70171/libjava%2Fclasspath%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70def3c8db8010e2921c1b17669b9d488ca70171/libjava%2Fclasspath%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog?ref=70def3c8db8010e2921c1b17669b9d488ca70171", "patch": "@@ -1,3 +1,8 @@\n+2007-02-14  Jakub Jelinek  <jakub@redhat.com>\n+\tAndrew Haley  <aph@redhat.com>\n+\n+\t* java/util/TimeZone.java (getDateParams): Negate dayOfWeek.\n+\n 2007-02-09  Tom Tromey  <tromey@redhat.com>\n \n \tPR libgcj/30647:"}, {"sha": "a253561b0467424110e6f3bb1126927a89f7350d", "filename": "libjava/classpath/java/util/TimeZone.java", "status": "modified", "additions": 18, "deletions": 6, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70def3c8db8010e2921c1b17669b9d488ca70171/libjava%2Fclasspath%2Fjava%2Futil%2FTimeZone.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70def3c8db8010e2921c1b17669b9d488ca70171/libjava%2Fclasspath%2Fjava%2Futil%2FTimeZone.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Futil%2FTimeZone.java?ref=70def3c8db8010e2921c1b17669b9d488ca70171", "patch": "@@ -1090,18 +1090,30 @@ private static int[] getDateParams(String date)\n \tint day;\n \n \t// Month, week of month, day of week\n+\n+\t// \"Mm.w.d\".  d is between 0 (Sunday) and 6.  Week w is\n+\t// between 1 and 5; Week 1 is the first week in which day d\n+\t// occurs and Week 5 specifies the last d day in the month.\n+\t// Month m is between 1 and 12.\n+\n \tmonth = Integer.parseInt(date.substring(1, date.indexOf('.')));\n \tint week = Integer.parseInt(date.substring(date.indexOf('.') + 1,\n \t                                           date.lastIndexOf('.')));\n \tint dayOfWeek = Integer.parseInt(date.substring(date.lastIndexOf('.')\n \t                                                + 1));\n-\tif (week == 5)\n-\t  day = -1; // last day of month is -1 in java, 5 in TZ\n-\telse\n-\t  // first day of week starting on or after.\n-\t  day = (week - 1) * 7 + 1;\n-\n \tdayOfWeek++; // Java day of week is one-based, Sunday is first day.\n+\n+ \tif (week == 5)\n+ \t  day = -1; // last day of month is -1 in java, 5 in TZ\n+ \telse\n+\t  {\n+\t    // First day of week starting on or after.  For example,\n+\t    // to specify the second Sunday of April, set month to\n+\t    // APRIL, day-of-month to 8, and day-of-week to -SUNDAY.\n+\t    day = (week - 1) * 7 + 1;\n+\t    dayOfWeek = -dayOfWeek;\n+\t  }\n+\n \tmonth--; // Java month is zero-based.\n \treturn new int[] { month, day, dayOfWeek };\n       }"}]}