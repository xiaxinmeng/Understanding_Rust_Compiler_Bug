{"sha": "2598ee6d90f1472899438cc29d6ebb6e45dea578", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjU5OGVlNmQ5MGYxNDcyODk5NDM4Y2MyOWQ2ZWJiNmU0NWRlYTU3OA==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2011-08-04T10:22:27Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-08-04T10:22:27Z"}, "message": "bindgen.adb, [...]: Minor reformatting\n\n2011-08-04  Robert Dewar  <dewar@adacore.com>\n\n\t* bindgen.adb, einfo.adb, sem_ch12.adb, s-tasren.adb, sem_res.adb,\n\tmakeutl.adb, prj-nmsc.adb, opt.ads, prj-env.adb: Minor reformatting\n\t* gcc-interface/Make-lang.in: Update dependencies.\n\nFrom-SVN: r177356", "tree": {"sha": "53713048f3bd48d7b7052238968d51352b800cdd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/53713048f3bd48d7b7052238968d51352b800cdd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2598ee6d90f1472899438cc29d6ebb6e45dea578", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2598ee6d90f1472899438cc29d6ebb6e45dea578", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2598ee6d90f1472899438cc29d6ebb6e45dea578", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2598ee6d90f1472899438cc29d6ebb6e45dea578/comments", "author": null, "committer": null, "parents": [{"sha": "c2db4b320dc594f7f5724c712fec7612e1744918", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2db4b320dc594f7f5724c712fec7612e1744918", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2db4b320dc594f7f5724c712fec7612e1744918"}], "stats": {"total": 323, "additions": 184, "deletions": 139}, "files": [{"sha": "5415435b92b7ad51bc55a815c0436ae0131a7f43", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=2598ee6d90f1472899438cc29d6ebb6e45dea578", "patch": "@@ -1,3 +1,9 @@\n+2011-08-04  Robert Dewar  <dewar@adacore.com>\n+\n+\t* bindgen.adb, einfo.adb, sem_ch12.adb, s-tasren.adb, sem_res.adb,\n+\tmakeutl.adb, prj-nmsc.adb, opt.ads, prj-env.adb: Minor reformatting\n+\t* gcc-interface/Make-lang.in: Update dependencies.\n+\n 2011-08-04  Arnaud Charlet  <charlet@adacore.com>\n \n \t* prj-env.adb: Remove local debug traces."}, {"sha": "893ff131a68c4e290dc656389d097bdc6bd58cde", "filename": "gcc/ada/bindgen.adb", "status": "modified", "additions": 15, "deletions": 4, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fbindgen.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fbindgen.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindgen.adb?ref=2598ee6d90f1472899438cc29d6ebb6e45dea578", "patch": "@@ -2219,20 +2219,26 @@ package body Bindgen is\n          WBI (\"      Break_Start;\");\n \n          if CodePeer_Mode then\n-            --  Bypass Ada_Main_Program; its Import pragma confuses CodePeer.\n+\n+            --  Bypass Ada_Main_Program, its Import pragma confuses CodePeer\n+\n             Get_Name_String (Units.Table (First_Unit_Entry).Uname);\n+\n             declare\n                Callee_Name : String renames Name_Buffer (1 .. Name_Len - 2);\n-               --  strip trailing \"%b\"\n+               --  Strip trailing \"%b\"\n+\n             begin\n                if ALIs.Table (ALIs.First).Main_Program = Proc then\n                   WBI (\"      \" & Callee_Name & \";\");\n                else\n                   WBI (\"      Result := \" & Callee_Name & \";\");\n                end if;\n             end;\n+\n          elsif ALIs.Table (ALIs.First).Main_Program = Proc then\n             WBI (\"      Ada_Main_Program;\");\n+\n          else\n             WBI (\"      Result := Ada_Main_Program;\");\n          end if;\n@@ -3076,10 +3082,14 @@ package body Bindgen is\n       end if;\n \n       if CodePeer_Mode then\n-         --  For CodePeer, main program is not called via an Import pragma.\n+\n+         --  For CodePeer, main program is not called via an Import pragma\n+\n          Get_Name_String (Units.Table (First_Unit_Entry).Uname);\n+\n+         --  Note: trailing \"%b\" is stripped.\n+\n          WBI (\"with \" & Name_Buffer (1 .. Name_Len - 2) & \";\");\n-         --  strip trailing \"%b\"\n       end if;\n \n       WBI (\"\");\n@@ -3088,6 +3098,7 @@ package body Bindgen is\n       WBI (\"\");\n \n       --  Generate externals for elaboration entities\n+\n       Gen_Elab_Externals_Ada;\n \n       if not Suppress_Standard_Library_On_Target then"}, {"sha": "54f7c87acdb7ed21f04521313b55c179383f201a", "filename": "gcc/ada/einfo.adb", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Feinfo.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Feinfo.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feinfo.adb?ref=2598ee6d90f1472899438cc29d6ebb6e45dea578", "patch": "@@ -409,7 +409,6 @@ package body Einfo is\n    --    Is_Compilation_Unit             Flag149\n    --    Has_Pragma_Elaborate_Body       Flag150\n \n-   --    (unused)                        Flag151\n    --    Entry_Accepted                  Flag152\n    --    Is_Obsolescent                  Flag153\n    --    Has_Per_Object_Constraint       Flag154\n@@ -519,9 +518,11 @@ package body Einfo is\n    --    Is_Safe_To_Reevaluate           Flag249\n    --    Has_Predicates                  Flag250\n \n-   --    (unused)                        Flag251\n    --    Is_Processed_Transient          Flag252\n    --    Is_Postcondition_Proc           Flag253\n+\n+   --    (unused)                        Flag151\n+   --    (unused)                        Flag251\n    --    (unused)                        Flag254\n \n    -----------------------"}, {"sha": "d7af952dffa11a1d1b9bb7e54114a7210bf47e06", "filename": "gcc/ada/gcc-interface/Make-lang.in", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMake-lang.in?ref=2598ee6d90f1472899438cc29d6ebb6e45dea578", "patch": "@@ -1301,8 +1301,9 @@ ada/alfa.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/aspects.ads ada/atree.ads ada/atree.adb ada/casing.ads \\\n    ada/debug.ads ada/einfo.ads ada/gnat.ads ada/g-htable.ads \\\n    ada/g-table.ads ada/g-table.adb ada/hostparm.ads ada/interfac.ads \\\n-   ada/namet.ads ada/namet.adb ada/nlists.ads ada/nlists.adb ada/opt.ads \\\n-   ada/output.ads ada/output.adb ada/put_alfa.ads ada/put_alfa.adb \\\n+   ada/namet.ads ada/namet.adb ada/nlists.ads ada/nlists.adb \\\n+   ada/nmake.ads ada/opt.ads ada/output.ads ada/output.adb \\\n+   ada/put_alfa.ads ada/put_alfa.adb ada/sem_util.ads \\\n    ada/sinfo.ads ada/sinfo.adb ada/sinput.ads ada/snames.ads \\\n    ada/system.ads ada/s-exctab.ads ada/s-htable.ads ada/s-imenne.ads \\\n    ada/s-memory.ads ada/s-os_lib.ads ada/s-parame.ads ada/s-secsta.ads \\\n@@ -3322,10 +3323,10 @@ ada/put_alfa.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads \n \n ada/put_scos.o : ada/ada.ads ada/a-unccon.ads ada/gnat.ads ada/g-table.ads \\\n-   ada/g-table.adb ada/put_scos.ads ada/put_scos.adb ada/scos.ads \\\n-   ada/scos.adb ada/system.ads ada/s-exctab.ads ada/s-memory.ads \\\n-   ada/s-stalib.ads ada/s-unstyp.ads ada/types.ads ada/unchconv.ads \\\n-   ada/unchdeal.ads \n+   ada/g-table.adb ada/par_sco.ads ada/put_scos.ads ada/put_scos.adb \\\n+   ada/scos.ads ada/scos.adb ada/system.ads ada/s-exctab.ads \\\n+   ada/s-memory.ads ada/s-stalib.ads ada/s-unstyp.ads ada/types.ads \\\n+   ada/unchconv.ads ada/unchdeal.ads \n \n ada/repinfo.o : ada/ada.ads ada/a-except.ads ada/a-unccon.ads \\\n    ada/a-uncdea.ads ada/alloc.ads ada/aspects.ads ada/atree.ads \\"}, {"sha": "319f0f9ce433285029e5140061723e6847341d45", "filename": "gcc/ada/makeutl.adb", "status": "modified", "additions": 89, "deletions": 65, "changes": 154, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fmakeutl.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fmakeutl.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmakeutl.adb?ref=2598ee6d90f1472899438cc29d6ebb6e45dea578", "patch": "@@ -239,6 +239,7 @@ package body Makeutl is\n             Unit_Name := SD.Subunit_Name;\n \n             if Unit_Name = No_Name then\n+\n                --  Check if this source file has been replaced by a source with\n                --  a different file name.\n \n@@ -902,10 +903,11 @@ package body Makeutl is\n          if Source.Language.Config.Dependency_Kind /= None then\n             declare\n                Dep_Path : constant String :=\n-                 Normalize_Pathname\n-                   (Name          => Get_Name_String (Source.Dep_Name),\n-                    Resolve_Links => Opt.Follow_Links_For_Files,\n-                    Directory     => Obj_Dir);\n+                            Normalize_Pathname\n+                              (Name          =>\n+                                 Get_Name_String (Source.Dep_Name),\n+                               Resolve_Links => Opt.Follow_Links_For_Files,\n+                               Directory     => Obj_Dir);\n             begin\n                Source.Dep_Path := Create_Name (Dep_Path);\n                Source.Dep_TS   := Osint.Unknown_Attributes;\n@@ -974,9 +976,9 @@ package body Makeutl is\n                 (Source.Object, Source.Language.Config.Dependency_Kind);\n          end if;\n \n-         --  Find the object file for that source. It could be either in\n-         --  the current project or in an extended project (it might actually\n-         --  not exist yet in the ultimate extending project, but if not found\n+         --  Find the object file for that source. It could be either in the\n+         --  current project or in an extended project (it might actually not\n+         --  exist yet in the ultimate extending project, but if not found\n          --  elsewhere that's where we'll expect to find it).\n \n          Obj_Proj := Source.Project;\n@@ -1000,7 +1002,7 @@ package body Makeutl is\n                --  For specs, we do not check object files if there is a body.\n                --  This saves a system call. On the other hand, we do need to\n                --  know the object_path, in case the user has passed the .ads\n-               --  on the command line to compile the spec only\n+               --  on the command line to compile the spec only.\n \n                if Source.Kind /= Spec\n                  or else Source.Unit = No_Unit_Index\n@@ -1147,8 +1149,8 @@ package body Makeutl is\n               In_Package              => Linker_Package,\n               Shared                  => In_Tree.Shared);\n \n-         --  If attribute is present, add the project with\n-         --  the attribute to table Linker_Opts.\n+         --  If attribute is present, add the project with the attribute to\n+         --  table Linker_Opts.\n \n          if Options /= Nil_Variable_Value then\n             Linker_Opts.Increment_Last;\n@@ -1259,6 +1261,7 @@ package body Makeutl is\n          if Tree /= null then\n             Builder_Data (Tree).Number_Of_Mains :=\n               Builder_Data (Tree).Number_Of_Mains + 1;\n+\n          else\n             Mains.Count_Of_Mains_With_No_Tree :=\n               Mains.Count_Of_Mains_With_No_Tree + 1;\n@@ -1295,9 +1298,10 @@ package body Makeutl is\n          is\n             Iter : Source_Iterator;\n             Src  : Prj.Source_Id;\n+\n          begin\n             Debug_Output\n-              (\"Found multi-unit source file in project\", Source.Project.Name);\n+              (\"found multi-unit source file in project\", Source.Project.Name);\n \n             Iter := For_Each_Source\n               (In_Tree => Tree, Project => Source.Project);\n@@ -1310,7 +1314,7 @@ package body Makeutl is\n                then\n                   if Src.File = Source.File then\n                      Debug_Output\n-                       (\"Add main in project, index=\" & Src.Index'Img);\n+                       (\"add main in project, index=\" & Src.Index'Img);\n                   end if;\n \n                   Names.Increment_Last;\n@@ -1335,7 +1339,8 @@ package body Makeutl is\n          -----------------\n \n          procedure Do_Complete\n-           (Project : Project_Id; Tree : Project_Tree_Ref) is\n+           (Project : Project_Id; Tree : Project_Tree_Ref)\n+         is\n          begin\n             if Mains.Number_Of_Mains (Tree) > 0\n               or else Mains.Count_Of_Mains_With_No_Tree > 0\n@@ -1346,13 +1351,14 @@ package body Makeutl is\n \n                for J in reverse Names.First .. Names.Last loop\n                   declare\n-                     File       : Main_Info := Names.Table (J);\n-                     Main_Id    : File_Name_Type := File.File;\n-                     Main       : constant String := Get_Name_String (Main_Id);\n-                     Source     : Prj.Source_Id := No_Source;\n-                     Suffix     : File_Name_Type;\n-                     Iter       : Source_Iterator;\n-                     Is_Absolute : Boolean := False;\n+                     File        : Main_Info       := Names.Table (J);\n+                     Main_Id     : File_Name_Type  := File.File;\n+                     Main        : constant String :=\n+                                     Get_Name_String (Main_Id);\n+                     Source      : Prj.Source_Id   := No_Source;\n+                     Is_Absolute : Boolean         := False;\n+                     Suffix      : File_Name_Type;\n+                     Iter        : Source_Iterator;\n \n                   begin\n                      if Base_Name (Main) /= Main then\n@@ -1370,6 +1376,7 @@ package body Makeutl is\n                      --  If no project or tree was specified for the main, it\n                      --  came from the command line. In this case, it needs to\n                      --  belong to the root project.\n+\n                      --  Note that the assignments below will not modify inside\n                      --  the table itself.\n \n@@ -1384,16 +1391,15 @@ package body Makeutl is\n                      if File.Source = null then\n                         if Current_Verbosity = High then\n                            Debug_Output\n-                             (\"Search for main \"\"\" & Main\n+                             (\"search for main \"\"\" & Main\n                               & '\"' & File.Index'Img & \" in \"\n                               & Get_Name_String (Debug_Name (File.Tree))\n                               & \", project\", Project.Name);\n                         end if;\n \n-                        --  First, look for the main as specified.\n-                        --  We need to search for the base name though, and\n-                        --  if needed check later that we found the correct\n-                        --  file.\n+                        --  First, look for the main as specified. We need to\n+                        --  search for the base name though, and if needed\n+                        --  check later that we found the correct file.\n \n                         Source := Find_Source\n                           (In_Tree   => File.Tree,\n@@ -1402,13 +1408,16 @@ package body Makeutl is\n                            Index     => File.Index);\n \n                         if Source = No_Source then\n+\n                            --  Now look for the main with a body suffix\n \n                            declare\n                               --  Main already has a canonical casing\n+\n                               Main : constant String :=\n                                 Get_Name_String (Main_Id);\n                               Project : Project_Id;\n+\n                            begin\n                               Project := File.Project;\n                               while Source = No_Source\n@@ -1452,18 +1461,19 @@ package body Makeutl is\n                                 File.File\n                               then\n                                  Debug_Output\n-                                   (\"Found a non-matching file\",\n+                                   (\"found a non-matching file\",\n                                     Name_Id (Source.Path.Display_Name));\n                                  Source := No_Source;\n                               end if;\n                            end if;\n                         end if;\n \n                         if Source /= No_Source then\n+\n                            --  If we have found a multi-unit source file but\n                            --  did not specify an index initially, we'll need\n                            --  to compile all the units from the same source\n-                           --  file\n+                           --  file.\n \n                            if Source.Index /= 0\n                              and then File.Index = 0\n@@ -1474,24 +1484,24 @@ package body Makeutl is\n                            --  Now update the original Main, otherwise it will\n                            --  be reported as not found.\n \n-                           Debug_Output (\"Found main in project\",\n-                                         Source.Project.Name);\n+                           Debug_Output\n+                             (\"found main in project\", Source.Project.Name);\n                            Names.Table (J).File    := Source.File;\n                            Names.Table (J).Project := File.Project;\n \n                            if Names.Table (J).Tree = null then\n                               Names.Table (J).Tree := File.Tree;\n \n                               Builder_Data (File.Tree).Number_Of_Mains :=\n-                                Builder_Data (File.Tree).Number_Of_Mains\n-                                + 1;\n+                                Builder_Data (File.Tree).Number_Of_Mains + 1;\n                               Mains.Count_Of_Mains_With_No_Tree :=\n                                 Mains.Count_Of_Mains_With_No_Tree - 1;\n                            end if;\n \n                            Names.Table (J).Source  := Source;\n \n                         elsif File.Location /= No_Location then\n+\n                            --  If the main is declared in package Builder of\n                            --  the main project, report an error. If the main\n                            --  is on the command line, it may be a main from\n@@ -1551,7 +1561,8 @@ package body Makeutl is\n          Project_Tree : Project_Tree_Ref)\n       is\n          procedure Add_Mains_From_Project\n-           (Project : Project_Id; Tree    : Project_Tree_Ref);\n+           (Project : Project_Id;\n+            Tree    : Project_Tree_Ref);\n          --  Add the main units from this project into Mains.\n          --  This takes into account the aggregated projects\n \n@@ -1565,15 +1576,18 @@ package body Makeutl is\n          is\n             List    : String_List_Id;\n             Element : String_Element;\n+\n          begin\n             if Number_Of_Mains (Tree) = 0\n               and then Mains.Count_Of_Mains_With_No_Tree = 0\n             then\n-               Debug_Output (\"Add_Mains_From_Project\", Project.Name);\n+               Debug_Output (\"add_Mains_From_Project\", Project.Name);\n                List := Project.Mains;\n+\n                if List /= Prj.Nil_String then\n-                  --  The attribute Main is not an empty list.\n-                  --  Get the mains in the list\n+\n+                  --  The attribute Main is not an empty list. Get the mains in\n+                  --  the list.\n \n                   while List /= Prj.Nil_String loop\n                      Element := Tree.Shared.String_Elements.Table (List);\n@@ -1962,10 +1976,10 @@ package body Makeutl is\n          Index       : Int := 0) return Boolean;\n       --  Returns True if the unit was previously marked\n \n-      Q_Processed           : Natural := 0;\n-      Q_Initialized         : Boolean := False;\n+      Q_Processed   : Natural := 0;\n+      Q_Initialized : Boolean := False;\n \n-      Q_First               : Natural := 1;\n+      Q_First : Natural := 1;\n       --  Points to the first valid element in the queue\n \n       One_Queue_Per_Obj_Dir : Boolean := False;\n@@ -1995,12 +2009,14 @@ package body Makeutl is\n                if S.Id.In_The_Queue then\n                   return True;\n                end if;\n+\n                S.Id.In_The_Queue := True;\n \n             when Format_Gnatmake =>\n                if Is_Marked (S.File, S.Index) then\n                   return True;\n                end if;\n+\n                Mark (S.File, Index => S.Index);\n          end case;\n \n@@ -2065,7 +2081,8 @@ package body Makeutl is\n \n       function Is_Marked\n         (Source_File : File_Name_Type;\n-         Index       : Int := 0) return Boolean is\n+         Index       : Int := 0) return Boolean\n+      is\n       begin\n          return Marks.Get (K => (File => Source_File, Index => Index));\n       end Is_Marked;\n@@ -2182,8 +2199,7 @@ package body Makeutl is\n       function Insert_No_Roots (Source  : Source_Info) return Boolean is\n       begin\n          pragma Assert\n-           (Source.Format = Format_Gnatmake\n-            or else Source.Id /= No_Source);\n+           (Source.Format = Format_Gnatmake or else Source.Id /= No_Source);\n \n          --  Only insert in the Q if it is not already done, to avoid\n          --  simultaneous compilations if -jnnn is used.\n@@ -2223,7 +2239,8 @@ package body Makeutl is\n       ------------\n \n       function Insert\n-        (Source  : Source_Info; With_Roots : Boolean := False) return Boolean\n+        (Source     : Source_Info;\n+         With_Roots : Boolean := False) return Boolean\n       is\n          Root_Arr     : Array_Element_Id;\n          Roots        : Variable_Value;\n@@ -2234,19 +2251,22 @@ package body Makeutl is\n          Root_Pattern : Regexp;\n          Root_Found   : Boolean;\n          Roots_Found  : Boolean;\n-         Dummy        : Boolean;\n          Root_Source  : Prj.Source_Id;\n          Iter         : Source_Iterator;\n+\n+         Dummy : Boolean;\n          pragma Unreferenced (Dummy);\n \n       begin\n          if not Insert_No_Roots (Source) then\n+\n             --  Was already in the queue\n+\n             return False;\n          end if;\n \n          if With_Roots and then Source.Format = Format_Gprbuild then\n-            Debug_Output (\"Looking for roots of\", Name_Id (Source.Id.File));\n+            Debug_Output (\"looking for roots of\", Name_Id (Source.Id.File));\n \n             Root_Arr :=\n               Prj.Util.Value_Of\n@@ -2305,10 +2325,10 @@ package body Makeutl is\n                   Pat_Root := False;\n \n                   for J in 1 .. Name_Len loop\n-                     if Name_Buffer (J) not in 'a' .. 'z'\n-                       and then Name_Buffer (J) not in '0' .. '9'\n-                       and then Name_Buffer (J) /= '_'\n-                       and then Name_Buffer (J) /= '.'\n+                     if Name_Buffer (J) not in 'a' .. 'z' and then\n+                        Name_Buffer (J) not in '0' .. '9' and then\n+                        Name_Buffer (J) /= '_'            and then\n+                        Name_Buffer (J) /= '.'\n                      then\n                         Pat_Root := True;\n                         exit;\n@@ -2349,7 +2369,7 @@ package body Makeutl is\n                      else\n                         Root_Found :=\n                           Root_Source.Unit /= No_Unit_Index\n-                          and then Root_Source.Unit.Name = Unit_Name;\n+                            and then Root_Source.Unit.Name = Unit_Name;\n                      end if;\n \n                      if Root_Found then\n@@ -2420,7 +2440,8 @@ package body Makeutl is\n       ------------\n \n       procedure Insert\n-        (Source  : Source_Info; With_Roots : Boolean := False)\n+        (Source     : Source_Info;\n+         With_Roots : Boolean := False)\n       is\n          Discard : Boolean;\n          pragma Unreferenced (Discard);\n@@ -2530,8 +2551,8 @@ package body Makeutl is\n          procedure Do_Insert (Project : Project_Id; Tree : Project_Tree_Ref);\n          procedure Do_Insert (Project : Project_Id; Tree : Project_Tree_Ref) is\n             Unit_Based : constant Boolean :=\n-              Unique_Compile\n-              or else not Builder_Data (Tree).Closure_Needed;\n+                           Unique_Compile\n+                             or else not Builder_Data (Tree).Closure_Needed;\n             --  When Unit_Based is True, put in the queue all compilable\n             --  sources including the unit based (Ada) one. When Unit_Based is\n             --  False, put the Ada sources only when they are in a library\n@@ -2564,20 +2585,20 @@ package body Makeutl is\n                    (not Source.Project.Externally_Built\n                     or else\n                       (Is_Extending (Project, Source.Project)\n-                       and then not Project.Externally_Built))\n+                        and then not Project.Externally_Built))\n                  and then Source.Kind /= Sep\n                  and then Source.Path /= No_Path_Information\n                then\n                   if Source.Kind = Impl\n                     or else (Source.Unit /= No_Unit_Index\n                              and then Source.Kind = Spec\n                              and then (Other_Part (Source) = No_Source\n-                                       or else\n-                                         Other_Part (Source).Locally_Removed))\n+                                        or else\n+                                          Other_Part (Source).Locally_Removed))\n                   then\n                      if (Unit_Based\n-                         or else Source.Unit = No_Unit_Index\n-                         or else Source.Project.Library)\n+                          or else Source.Unit = No_Unit_Index\n+                          or else Source.Project.Library)\n                        and then not Is_Subunit (Source)\n                      then\n                         Queue.Insert\n@@ -2627,9 +2648,9 @@ package body Makeutl is\n \n                if Sfile /= No_File then\n                   Afile := ALI.Withs.Table (K).Afile;\n-                  Src_Id := Source_Files_Htable.Get\n-                    (Project_Tree.Source_Files_HT, Sfile);\n \n+                  Src_Id := Source_Files_Htable.Get\n+                              (Project_Tree.Source_Files_HT, Sfile);\n                   while Src_Id /= No_Source loop\n                      Initialize_Source_Record (Src_Id);\n \n@@ -2667,10 +2688,10 @@ package body Makeutl is\n                   --  If Excluding_Shared_SALs is True, do not insert in the\n                   --  queue the sources of a shared Stand-Alone Library.\n \n-                  if Src_Id /= No_Source and then\n-                    (not Excluding_Shared_SALs or else\n-                       not Src_Id.Project.Standalone_Library or else\n-                         Src_Id.Project.Library_Kind = Static)\n+                  if Src_Id /= No_Source\n+                    and then (not Excluding_Shared_SALs\n+                               or else not Src_Id.Project.Standalone_Library\n+                               or else Src_Id.Project.Library_Kind = Static)\n                   then\n                      Queue.Insert\n                        (Source => (Format => Format_Gprbuild,\n@@ -2692,6 +2713,7 @@ package body Makeutl is\n         (Binding_Data_Record, Binding_Data);\n \n       TmpB, Binding : Binding_Data := Data.Binding;\n+\n    begin\n       while Binding /= null loop\n          TmpB := Binding.Next;\n@@ -2744,6 +2766,7 @@ package body Makeutl is\n \n       begin\n          if Option_Unique_Compile then\n+\n             --  If -u or -U is specified on the command line, disregard any -c,\n             --  -b or -l switch: only perform compilation.\n \n@@ -2757,11 +2780,11 @@ package body Makeutl is\n             Data.Need_Compilation := All_Phases or Option_Compile_Only;\n             Data.Need_Binding     := All_Phases or Option_Bind_Only;\n             Data.Need_Linking     := (All_Phases or Option_Link_Only)\n-              and then Has_Mains;\n+                                       and Has_Mains;\n          end if;\n \n          if Current_Verbosity = High then\n-            Debug_Output (\"Compilation phases: \"\n+            Debug_Output (\"compilation phases: \"\n                           & \" compile=\" & Data.Need_Compilation'Img\n                           & \" bind=\" & Data.Need_Binding'Img\n                           & \" link=\" & Data.Need_Linking'Img\n@@ -2772,6 +2795,7 @@ package body Makeutl is\n       end Do_Compute;\n \n       procedure Compute_All is new For_Project_And_Aggregated (Do_Compute);\n+\n    begin\n       Compute_All (Root_Project, Tree);\n    end Compute_Compilation_Phases;"}, {"sha": "0eb44ec7aab85432ecf10dd19b97791ea73ae717", "filename": "gcc/ada/opt.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fopt.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fopt.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fopt.ads?ref=2598ee6d90f1472899438cc29d6ebb6e45dea578", "patch": "@@ -328,7 +328,7 @@ package Opt is\n    --  of withing a package and using none of the entities in the package.\n \n    CodePeer_Mode : Boolean := False;\n-   --  GNAT\n+   --  GNAT, GNATBIND\n    --  Enable full CodePeer mode (SCIL generation, disable switches that\n    --  interact badly with it, etc...).\n "}, {"sha": "100e178305b87a0dae7a85e2fcf08ef11583a830", "filename": "gcc/ada/prj-env.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fprj-env.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fprj-env.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-env.adb?ref=2598ee6d90f1472899438cc29d6ebb6e45dea578", "patch": "@@ -476,7 +476,7 @@ package body Prj.Env is\n       File_Name : Path_Name_Type  := No_Path;\n       File      : File_Descriptor := Invalid_FD;\n \n-      Current_Naming  : Naming_Id;\n+      Current_Naming : Naming_Id;\n \n       procedure Check\n         (Project : Project_Id;"}, {"sha": "e5bc2b3196b88bdbaeaa1a83fc91519ee242a7f0", "filename": "gcc/ada/prj-nmsc.adb", "status": "modified", "additions": 49, "deletions": 49, "changes": 98, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fprj-nmsc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fprj-nmsc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-nmsc.adb?ref=2598ee6d90f1472899438cc29d6ebb6e45dea578", "patch": "@@ -599,8 +599,8 @@ package body Prj.Nmsc is\n          end if;\n \n          return Filename'Length >= Suf'Length + Min_Prefix_Length\n-           and then Filename\n-             (Filename'Last - Suf'Length + 1 .. Filename'Last) = Suf;\n+           and then\n+             Filename (Filename'Last - Suf'Length + 1 .. Filename'Last) = Suf;\n       end;\n    end Suffix_Matches;\n \n@@ -789,7 +789,7 @@ package body Prj.Nmsc is\n \n       if Current_Verbosity = High then\n          Debug_Indent;\n-         Write_Str (\"Adding source File: \");\n+         Write_Str (\"adding source File: \");\n          Write_Str (Get_Name_String (Display_File));\n \n          if Index /= 0 then\n@@ -947,7 +947,7 @@ package body Prj.Nmsc is\n \n       begin\n          if Path.Name /= Project.Path.Name then\n-            Debug_Output (\"Aggregates: \", Name_Id (Path.Display_Name));\n+            Debug_Output (\"aggregates: \", Name_Id (Path.Display_Name));\n \n             --  For usual \"with\" statement, this phase will have been done when\n             --  parsing the project itself. However, for aggregate projects, we\n@@ -965,7 +965,7 @@ package body Prj.Nmsc is\n             Add_Aggregated_Project (Project, Path => Path.Name);\n \n          else\n-            Debug_Output (\"Pattern returned the aggregate itself, ignored\");\n+            Debug_Output (\"pattern returned the aggregate itself, ignored\");\n          end if;\n       end Found_Project_File;\n \n@@ -1064,7 +1064,7 @@ package body Prj.Nmsc is\n       Prj_Data : Project_Processing_Data;\n \n    begin\n-      Debug_Increase_Indent (\"Check\", Project.Name);\n+      Debug_Increase_Indent (\"check\", Project.Name);\n \n       Initialize (Prj_Data, Project);\n \n@@ -1105,7 +1105,7 @@ package body Prj.Nmsc is\n \n       Free (Prj_Data);\n \n-      Debug_Decrease_Indent (\"Done Check\");\n+      Debug_Decrease_Indent (\"done check\");\n    end Check;\n \n    --------------------\n@@ -2709,9 +2709,9 @@ package body Prj.Nmsc is\n       end if;\n \n       if Project.Externally_Built then\n-         Debug_Output (\"Project is externally built\");\n+         Debug_Output (\"project is externally built\");\n       else\n-         Debug_Output (\"Project is not externally built\");\n+         Debug_Output (\"project is not externally built\");\n       end if;\n    end Check_If_Externally_Built;\n \n@@ -3519,7 +3519,7 @@ package body Prj.Nmsc is\n \n             if Lang = null then\n                Debug_Output\n-                 (\"Ignoring spec naming data (lang. not in project): \",\n+                 (\"ignoring spec naming data (lang. not in project): \",\n                   Lang_Name);\n \n             else\n@@ -3542,7 +3542,7 @@ package body Prj.Nmsc is\n \n             if Lang = null then\n                Debug_Output\n-                 (\"Ignoring impl naming data (lang. not in project): \",\n+                 (\"ignoring impl naming data (lang. not in project): \",\n                   Lang_Name);\n             else\n                Value := Shared.Array_Elements.Table (Impls).Value;\n@@ -3570,10 +3570,10 @@ package body Prj.Nmsc is\n         and then Project.Qualifier /= Configuration\n       then\n          Naming := Shared.Packages.Table (Naming_Id);\n-         Debug_Increase_Indent (\"Checking package Naming for \", Project.Name);\n+         Debug_Increase_Indent (\"checking package Naming for \", Project.Name);\n          Initialize_Naming_Data;\n          Check_Naming;\n-         Debug_Decrease_Indent (\"Done checking package naming\");\n+         Debug_Decrease_Indent (\"done checking package naming\");\n       end if;\n    end Check_Package_Naming;\n \n@@ -3761,7 +3761,7 @@ package body Prj.Nmsc is\n            and then Project.Library_Name = No_Name\n          then\n             Debug_Indent;\n-            Write_Line (\"No library name\");\n+            Write_Line (\"no library name\");\n          end if;\n \n       else\n@@ -3779,7 +3779,7 @@ package body Prj.Nmsc is\n          pragma Assert (Lib_Dir.Kind = Single);\n \n          if not Library_Directory_Present then\n-            Debug_Output (\"No library directory\");\n+            Debug_Output (\"no library directory\");\n \n          else\n             --  Find path name (unless inherited), check that it is a directory\n@@ -3972,7 +3972,7 @@ package body Prj.Nmsc is\n \n          else\n             if Lib_ALI_Dir.Value = Empty_String then\n-               Debug_Output (\"No library ALI directory specified\");\n+               Debug_Output (\"no library ALI directory specified\");\n                Project.Library_ALI_Dir := Project.Library_Dir;\n \n             else\n@@ -4108,7 +4108,7 @@ package body Prj.Nmsc is\n             pragma Assert (Lib_Version.Kind = Single);\n \n             if Lib_Version.Value = Empty_String then\n-               Debug_Output (\"No library version specified\");\n+               Debug_Output (\"no library version specified\");\n \n             else\n                Project.Lib_Internal_Name := Lib_Version.Value;\n@@ -4117,7 +4117,7 @@ package body Prj.Nmsc is\n             pragma Assert (The_Lib_Kind.Kind = Single);\n \n             if The_Lib_Kind.Value = Empty_String then\n-               Debug_Output (\"No library kind specified\");\n+               Debug_Output (\"no library kind specified\");\n \n             else\n                Get_Name_String (The_Lib_Kind.Value);\n@@ -4202,7 +4202,7 @@ package body Prj.Nmsc is\n             end if;\n \n             if Project.Library then\n-               Debug_Output (\"This is a library project file\");\n+               Debug_Output (\"this is a library project file\");\n \n                Check_Library (Project.Extends, Extends => True);\n \n@@ -5082,7 +5082,7 @@ package body Prj.Nmsc is\n          --  The directory is in the list if List is not Nil_String\n \n          if not Remove_Source_Dirs and then List = Nil_String then\n-            Debug_Output (\"Adding source dir=\", Name_Id (Path.Display_Name));\n+            Debug_Output (\"adding source dir=\", Name_Id (Path.Display_Name));\n \n             String_Element_Table.Increment_Last (Shared.String_Elements);\n             Element :=\n@@ -5159,7 +5159,7 @@ package body Prj.Nmsc is\n    --  Start of processing for Get_Directories\n \n    begin\n-      Debug_Output (\"Starting to look for directories\");\n+      Debug_Output (\"starting to look for directories\");\n \n       --  Set the object directory to its default which may be nil, if there\n       --  is no sources in the project.\n@@ -5230,7 +5230,7 @@ package body Prj.Nmsc is\n \n       if Current_Verbosity = High then\n          if Project.Object_Directory = No_Path_Information then\n-            Debug_Output (\"No object directory\");\n+            Debug_Output (\"no object directory\");\n          else\n             Write_Attr\n               (\"Object directory\",\n@@ -5278,17 +5278,17 @@ package body Prj.Nmsc is\n \n       if Current_Verbosity = High then\n          if Project.Exec_Directory = No_Path_Information then\n-            Debug_Output (\"No exec directory\");\n+            Debug_Output (\"no exec directory\");\n          else\n             Debug_Output\n-              (\"Exec directory: \",\n+              (\"exec directory: \",\n                Name_Id (Project.Exec_Directory.Display_Name));\n          end if;\n       end if;\n \n       --  Look for the source directories\n \n-      Debug_Output (\"Starting to look for source directories\");\n+      Debug_Output (\"starting to look for source directories\");\n \n       pragma Assert (Source_Dirs.Kind = List, \"Source_Dirs is not a list\");\n \n@@ -5348,7 +5348,7 @@ package body Prj.Nmsc is\n             Resolve_Links   => Opt.Follow_Links_For_Dirs);\n       end if;\n \n-      Debug_Output (\"Putting source directories in canonical cases\");\n+      Debug_Output (\"putting source directories in canonical cases\");\n \n       declare\n          Current : String_List_Id := Project.Source_Dirs;\n@@ -5439,7 +5439,7 @@ package body Prj.Nmsc is\n \n    begin\n       if Current_Verbosity = High then\n-         Debug_Output (\"Opening \"\"\" & Path & '\"');\n+         Debug_Output (\"opening \"\"\" & Path & '\"');\n       end if;\n \n       --  Open the file\n@@ -5547,7 +5547,7 @@ package body Prj.Nmsc is\n       end if;\n \n       if Naming.Dot_Replacement = No_File then\n-         Debug_Output (\"No dot_replacement specified\");\n+         Debug_Output (\"no dot_replacement specified\");\n          return;\n       end if;\n \n@@ -5593,7 +5593,7 @@ package body Prj.Nmsc is\n                   if Is_Letter (Filename (J))\n                     and then not Is_Lower (Filename (J))\n                   then\n-                     Debug_Output (\"Invalid casing\");\n+                     Debug_Output (\"invalid casing\");\n                      return;\n                   end if;\n                end loop;\n@@ -5603,7 +5603,7 @@ package body Prj.Nmsc is\n                   if Is_Letter (Filename (J))\n                     and then not Is_Upper (Filename (J))\n                   then\n-                     Debug_Output (\"Invalid casing\");\n+                     Debug_Output (\"invalid casing\");\n                      return;\n                   end if;\n                end loop;\n@@ -5624,7 +5624,7 @@ package body Prj.Nmsc is\n          if Dot_Repl /= \".\" then\n             for Index in Filename'First .. Last loop\n                if Filename (Index) = '.' then\n-                  Debug_Output (\"Invalid name, contains dot\");\n+                  Debug_Output (\"invalid name, contains dot\");\n                   return;\n                end if;\n             end loop;\n@@ -6385,7 +6385,7 @@ package body Prj.Nmsc is\n \n                               if Current_Verbosity = High then\n                                  Debug_Output\n-                                   (\"Setting full path for \"\n+                                   (\"setting full path for \"\n                                     & Get_Name_String (Source.File)\n                                     & \" at\" & Source.Index'Img\n                                     & \" to \"\n@@ -6551,11 +6551,11 @@ package body Prj.Nmsc is\n             Language := Tmp_Lang;\n \n             Debug_Output\n-              (\"Implementation of language \", Display_Language_Name);\n+              (\"implementation of language \", Display_Language_Name);\n \n          elsif Suffix_Matches (Filename, Config.Naming_Data.Spec_Suffix) then\n             Debug_Output\n-              (\"Header of language \", Display_Language_Name);\n+              (\"header of language \", Display_Language_Name);\n \n             if Header_File then\n                Alternate_Languages := new Language_List_Element'\n@@ -6585,7 +6585,7 @@ package body Prj.Nmsc is\n       while Tmp_Lang /= No_Language_Index loop\n          if Current_Verbosity = High then\n             Debug_Output\n-              (\"Testing language \"\n+              (\"testing language \"\n                & Get_Name_String (Tmp_Lang.Name)\n                & \" Header_File=\" & Header_File'Img);\n          end if;\n@@ -6656,7 +6656,7 @@ package body Prj.Nmsc is\n       if Current_Verbosity = High\n         and then Source.File /= No_File\n       then\n-         Debug_Output (\"Override kind for \"\n+         Debug_Output (\"override kind for \"\n                        & Get_Name_String (Source.File)\n                        & \" idx=\" & Source.Index'Img\n                        & \" kind=\" & Source.Kind'Img);\n@@ -6698,7 +6698,7 @@ package body Prj.Nmsc is\n    begin\n       if Current_Verbosity = High then\n          Debug_Increase_Indent\n-           (\"Checking file (rank=\" & Source_Dir_Rank'Img & \")\",\n+           (\"checking file (rank=\" & Source_Dir_Rank'Img & \")\",\n             Name_Id (Display_Path));\n       end if;\n \n@@ -6928,7 +6928,7 @@ package body Prj.Nmsc is\n          Success : Boolean := False;\n \n       begin\n-         Debug_Output (\"Looking for subdirs of \", Name_Id (Path.Display_Name));\n+         Debug_Output (\"looking for subdirs of \", Name_Id (Path.Display_Name));\n \n          if Recursive_Dirs.Get (Visited, Path.Name) then\n             return Success;\n@@ -7121,7 +7121,7 @@ package body Prj.Nmsc is\n             end if;\n          end if;\n \n-         Debug_Decrease_Indent (\"Done Find_Pattern\");\n+         Debug_Decrease_Indent (\"done Find_Pattern\");\n       end Find_Pattern;\n \n       --  Local variables\n@@ -7165,7 +7165,7 @@ package body Prj.Nmsc is\n       Display_File_Name : File_Name_Type;\n \n    begin\n-      Debug_Increase_Indent (\"Looking for sources of\", Project.Project.Name);\n+      Debug_Increase_Indent (\"looking for sources of\", Project.Project.Name);\n \n       --  Loop through subdirectories\n \n@@ -7271,7 +7271,7 @@ package body Prj.Nmsc is\n                                    (Project.Excluded, File_Name, FF);\n \n                                  Debug_Output\n-                                   (\"Excluded source \",\n+                                   (\"excluded source \",\n                                     Name_Id (Display_File_Name));\n \n                                  --  Will mark the file as removed, but we\n@@ -7306,7 +7306,7 @@ package body Prj.Nmsc is\n \n                      else\n                         if Current_Verbosity = High then\n-                           Debug_Output (\"Ignore \" & Name (1 .. Last));\n+                           Debug_Output (\"ignore \" & Name (1 .. Last));\n                         end if;\n                      end if;\n                   end loop;\n@@ -7325,7 +7325,7 @@ package body Prj.Nmsc is\n          Src_Dir_Rank := Num_Nod.Next;\n       end loop;\n \n-      Debug_Decrease_Indent (\"end Looking for sources.\");\n+      Debug_Decrease_Indent (\"end looking for sources.\");\n    end Search_Directories;\n \n    ----------------------------\n@@ -7358,7 +7358,7 @@ package body Prj.Nmsc is\n          end if;\n \n          Debug_Output\n-           (\"Naming exception: adding source file to source_Names: \",\n+           (\"naming exception: adding source file to source_Names: \",\n             Name_Id (Source.File));\n \n          Source_Names_Htable.Set\n@@ -7547,7 +7547,7 @@ package body Prj.Nmsc is\n \n                      if Current_Verbosity = High then\n                         Debug_Indent;\n-                        Write_Str (\"Removing file \");\n+                        Write_Str (\"removing file \");\n                         Write_Line\n                           (Get_Name_String (Excluded.File)\n                            & \" \" & Get_Name_String (Source.Project.Name));\n@@ -7819,7 +7819,7 @@ package body Prj.Nmsc is\n       The_Directory : constant String := Get_Name_String (Directory);\n \n    begin\n-      Debug_Output (\"Path_Name_Of file_name=\", Name_Id (File_Name));\n+      Debug_Output (\"Path_Name_Of file name=\", Name_Id (File_Name));\n       Debug_Output (\"Path_Name_Of directory=\", Name_Id (Directory));\n       Get_Name_String (File_Name);\n       Result :=\n@@ -7853,7 +7853,7 @@ package body Prj.Nmsc is\n    begin\n       if Current_Verbosity = High then\n          Debug_Indent;\n-         Write_Str (\"Removing source \");\n+         Write_Str (\"removing source \");\n          Write_Str (Get_Name_String (Id.File));\n \n          if Id.Index /= 0 then\n@@ -7957,7 +7957,7 @@ package body Prj.Nmsc is\n \n    begin\n       if Project.Source_Dirs = Nil_String then\n-         Debug_Output (\"No source dirs\");\n+         Debug_Output (\"no Source_Dirs\");\n       else\n          Debug_Increase_Indent (\"Source_Dirs:\");\n \n@@ -8006,7 +8006,7 @@ package body Prj.Nmsc is\n          Prj.Nmsc.Check (Project, Data);\n \n          if Current_Verbosity = High then\n-            Debug_Decrease_Indent (\"Done Processing_Naming_Scheme\");\n+            Debug_Decrease_Indent (\"done Processing_Naming_Scheme\");\n          end if;\n       end Recursive_Check;\n "}, {"sha": "8c604c90a7933bb5185848982fc8cd7b26b794f2", "filename": "gcc/ada/s-tasren.adb", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fs-tasren.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fs-tasren.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-tasren.adb?ref=2598ee6d90f1472899438cc29d6ebb6e45dea578", "patch": "@@ -1101,17 +1101,17 @@ package body System.Tasking.Rendezvous is\n \n       --  We rely that the call is off-queue for protection, that the caller\n       --  will not exit the Entry_Caller_Sleep, and so will not reuse the call\n-      --  record for another call.\n-      --  We rely on the Caller's lock for call State mod's.\n+      --  record for another call. We rely on the Caller's lock for call State\n+      --  mod's.\n \n       --  If Acceptor.Terminate_Alternative is True, we need to lock Parent and\n-      --  Acceptor, in that order; otherwise, we only need a lock on\n-      --  Acceptor. However, we can't check Acceptor.Terminate_Alternative\n-      --  until Acceptor is locked. Therefore, we need to lock both. Attempts\n-      --  to avoid locking Parent tend to result in race conditions. It would\n-      --  work to unlock Parent immediately upon finding\n-      --  Acceptor.Terminate_Alternative to be False, but that violates the\n-      --  rule of properly nested locking (see System.Tasking).\n+      --  Acceptor, in that order; otherwise, we only need a lock on Acceptor.\n+      --  However, we can't check Acceptor.Terminate_Alternative until Acceptor\n+      --  is locked. Therefore, we need to lock both. Attempts to avoid locking\n+      --  Parent tend to result in race conditions. It would work to unlock\n+      --  Parent immediately upon finding Acceptor.Terminate_Alternative to be\n+      --  False, but that violates the rule of properly nested locking (see\n+      --  System.Tasking).\n \n       STPO.Write_Lock (Parent);\n       STPO.Write_Lock (Acceptor);"}, {"sha": "7de09670fb62389b5c97578c9c5df519afb72410", "filename": "gcc/ada/sem_ch12.adb", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fsem_ch12.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fsem_ch12.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch12.adb?ref=2598ee6d90f1472899438cc29d6ebb6e45dea578", "patch": "@@ -6919,6 +6919,7 @@ package body Sem_Ch12 is\n       --  simplified. ???\n \n       Inst := Package_Instantiation (A);\n+\n       if Present (Inst) then\n          if Nkind (Inst) = N_Package_Instantiation then\n             return Inst;\n@@ -7138,8 +7139,8 @@ package body Sem_Ch12 is\n             --  that we produce all the instance bodies we will need.\n \n             if (Is_Entity_Name (Nam) and then Chars (Nam) = Chars (E))\n-              or else (Nkind (Nam) = N_Selected_Component\n-                        and then Chars (Selector_Name (Nam)) = Chars (E))\n+                 or else (Nkind (Nam) = N_Selected_Component\n+                           and then Chars (Selector_Name (Nam)) = Chars (E))\n             then\n                return True;\n             end if;"}, {"sha": "bd7eaa22cccb5b8b3f6da7719fd7356f231001fe", "filename": "gcc/ada/sem_res.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fsem_res.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2598ee6d90f1472899438cc29d6ebb6e45dea578/gcc%2Fada%2Fsem_res.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_res.adb?ref=2598ee6d90f1472899438cc29d6ebb6e45dea578", "patch": "@@ -7248,6 +7248,7 @@ package body Sem_Res is\n          declare\n             Left_Typ  : constant Node_Id := Etype (Left_Opnd (N));\n             Right_Typ : constant Node_Id := Etype (Right_Opnd (N));\n+\n          begin\n             --  Protect call to Matching_Static_Array_Bounds to avoid costly\n             --  operation if not needed."}]}