{"sha": "b8473c9a2b8f27b6882b54d012e466e244445733", "node_id": "C_kwDOANBUbNoAKGI4NDczYzlhMmI4ZjI3YjY4ODJiNTRkMDEyZTQ2NmUyNDQ0NDU3MzM", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-10-05T11:58:57Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-10-05T13:09:11Z"}, "message": "libtdc++: Regenerate Makefile.in after freestanding header changes\n\nlibstdc++-v3/ChangeLog:\n\n\t* include/Makefile.in: Regenerate.", "tree": {"sha": "2614c6cc07a3943a28100bca756df2c4a2acf4d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2614c6cc07a3943a28100bca756df2c4a2acf4d8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b8473c9a2b8f27b6882b54d012e466e244445733", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8473c9a2b8f27b6882b54d012e466e244445733", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8473c9a2b8f27b6882b54d012e466e244445733", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8473c9a2b8f27b6882b54d012e466e244445733/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0afa9dfb8fb3302db7f104add5654436927dcb56", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0afa9dfb8fb3302db7f104add5654436927dcb56", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0afa9dfb8fb3302db7f104add5654436927dcb56"}], "stats": {"total": 101, "additions": 49, "deletions": 52}, "files": [{"sha": "9d6075511f7d525c37bf8fd69d9277af3d545df8", "filename": "libstdc++-v3/include/Makefile.in", "status": "modified", "additions": 49, "deletions": 52, "changes": 101, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b8473c9a2b8f27b6882b54d012e466e244445733/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b8473c9a2b8f27b6882b54d012e466e244445733/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2FMakefile.in?ref=b8473c9a2b8f27b6882b54d012e466e244445733", "patch": "@@ -380,13 +380,6 @@ WARN_CXXFLAGS = \\\n # -I/-D flags to pass when compiling.\n AM_CPPFLAGS = $(GLIBCXX_INCLUDES) $(CPPFLAGS)\n \n-# Regarding *_freestanding:\n-# For including files in freestanding, create a new _freestanding variable, and\n-# split *_headers across an ``if GLIBCXX_HOSTED'', then update install-headers\n-# to account for the new directory/set being added.\n-# If such a variable exists, simply add to either *_headers or *_freestanding,\n-# as appropriate.\n-\n # Standard C++ includes.\n std_srcdir = ${glibcxx_srcdir}/include/std\n std_builddir = .\n@@ -395,20 +388,25 @@ std_freestanding = \\\n \t${std_srcdir}/array \\\n \t${std_srcdir}/atomic \\\n \t${std_srcdir}/bit \\\n+\t${std_srcdir}/bitset \\\n \t${std_srcdir}/concepts \\\n \t${std_srcdir}/coroutine \\\n+\t${std_srcdir}/expected \\\n \t${std_srcdir}/functional \\\n \t${std_srcdir}/iterator \\\n \t${std_srcdir}/limits \\\n \t${std_srcdir}/memory \\\n \t${std_srcdir}/numbers \\\n+\t${std_srcdir}/numeric \\\n \t${std_srcdir}/optional \\\n \t${std_srcdir}/ranges \\\n \t${std_srcdir}/ratio \\\n+\t${std_srcdir}/scoped_allocator \\\n \t${std_srcdir}/source_location \\\n \t${std_srcdir}/span \\\n \t${std_srcdir}/tuple \\\n \t${std_srcdir}/type_traits \\\n+\t${std_srcdir}/typeindex \\\n \t${std_srcdir}/utility \\\n \t${std_srcdir}/variant \\\n \t${std_srcdir}/version\n@@ -418,15 +416,13 @@ std_freestanding = \\\n @GLIBCXX_HOSTED_TRUE@\t${std_freestanding} \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/any \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/barrier \\\n-@GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/bitset \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/charconv \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/chrono \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/codecvt \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/complex \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/condition_variable \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/deque \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/execution \\\n-@GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/expected \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/filesystem \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/forward_list \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/fstream \\\n@@ -442,12 +438,10 @@ std_freestanding = \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/map \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/memory_resource \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/mutex \\\n-@GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/numeric \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/ostream \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/queue \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/random \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/regex \\\n-@GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/scoped_allocator \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/semaphore \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/set \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/shared_mutex \\\n@@ -463,7 +457,6 @@ std_freestanding = \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/string_view \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/system_error \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/thread \\\n-@GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/typeindex \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/unordered_map \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/unordered_set \\\n @GLIBCXX_HOSTED_TRUE@\t${std_srcdir}/valarray \\\n@@ -478,6 +471,7 @@ bits_freestanding = \\\n \t${bits_srcdir}/alloc_traits.h \\\n \t${bits_srcdir}/atomic_base.h \\\n \t${bits_srcdir}/c++0x_warning.h \\\n+\t${bits_srcdir}/boost_concept_check.h \\\n \t${bits_srcdir}/concept_check.h \\\n \t${bits_srcdir}/cpp_type_traits.h \\\n \t${bits_srcdir}/enable_special_members.h \\\n@@ -506,6 +500,7 @@ bits_freestanding = \\\n \t${bits_srcdir}/stl_iterator.h \\\n \t${bits_srcdir}/stl_iterator_base_funcs.h \\\n \t${bits_srcdir}/stl_iterator_base_types.h \\\n+\t${bits_srcdir}/stl_numeric.h \\\n \t${bits_srcdir}/stl_heap.h \\\n \t${bits_srcdir}/stl_pair.h \\\n \t${bits_srcdir}/stl_raw_storage_iter.h \\\n@@ -528,7 +523,6 @@ bits_freestanding = \\\n @GLIBCXX_HOSTED_TRUE@\t${bits_srcdir}/basic_ios.tcc \\\n @GLIBCXX_HOSTED_TRUE@\t${bits_srcdir}/basic_string.h \\\n @GLIBCXX_HOSTED_TRUE@\t${bits_srcdir}/basic_string.tcc \\\n-@GLIBCXX_HOSTED_TRUE@\t${bits_srcdir}/boost_concept_check.h \\\n @GLIBCXX_HOSTED_TRUE@\t${bits_srcdir}/char_traits.h \\\n @GLIBCXX_HOSTED_TRUE@\t${bits_srcdir}/charconv.h \\\n @GLIBCXX_HOSTED_TRUE@\t${bits_srcdir}/chrono.h \\\n@@ -601,7 +595,6 @@ bits_freestanding = \\\n @GLIBCXX_HOSTED_TRUE@\t${bits_srcdir}/stl_map.h \\\n @GLIBCXX_HOSTED_TRUE@\t${bits_srcdir}/stl_multimap.h \\\n @GLIBCXX_HOSTED_TRUE@\t${bits_srcdir}/stl_multiset.h \\\n-@GLIBCXX_HOSTED_TRUE@\t${bits_srcdir}/stl_numeric.h \\\n @GLIBCXX_HOSTED_TRUE@\t${bits_srcdir}/stl_queue.h \\\n @GLIBCXX_HOSTED_TRUE@\t${bits_srcdir}/stl_relops.h \\\n @GLIBCXX_HOSTED_TRUE@\t${bits_srcdir}/stl_set.h \\\n@@ -974,49 +967,53 @@ pb_headers7 = \\\n \n ext_srcdir = ${glibcxx_srcdir}/include/ext\n ext_builddir = ./ext\n-ext_headers = \\\n-\t${ext_srcdir}/algorithm \\\n+ext_freestanding = \\\n \t${ext_srcdir}/aligned_buffer.h \\\n \t${ext_srcdir}/alloc_traits.h \\\n \t${ext_srcdir}/atomicity.h \\\n-\t${ext_srcdir}/bitmap_allocator.h \\\n \t${ext_srcdir}/cast.h \\\n-\t${ext_srcdir}/cmath \\\n-\t${ext_srcdir}/codecvt_specializations.h \\\n \t${ext_srcdir}/concurrence.h \\\n-\t${ext_srcdir}/debug_allocator.h \\\n-\t${ext_srcdir}/enc_filebuf.h \\\n-\t${ext_srcdir}/extptr_allocator.h \\\n-\t${ext_srcdir}/functional \\\n-\t${ext_srcdir}/iterator \\\n-\t${ext_srcdir}/malloc_allocator.h \\\n-\t${ext_srcdir}/memory \\\n-\t${ext_srcdir}/mt_allocator.h \\\n-\t${ext_srcdir}/new_allocator.h \\\n-\t${ext_srcdir}/numeric \\\n \t${ext_srcdir}/numeric_traits.h \\\n-\t${ext_srcdir}/pod_char_traits.h \\\n+\t${ext_srcdir}/iterator \\\n \t${ext_srcdir}/pointer.h \\\n-\t${ext_srcdir}/pool_allocator.h \\\n-\t${ext_srcdir}/random \\\n-\t${ext_srcdir}/random.tcc \\\n-\t${ext_srcdir}/rb_tree \\\n-\t${ext_srcdir}/rc_string_base.h \\\n-\t${ext_srcdir}/rope \\\n-\t${ext_srcdir}/ropeimpl.h \\\n-\t${ext_srcdir}/slist \\\n-\t${ext_srcdir}/sso_string_base.h \\\n-\t${ext_srcdir}/stdio_filebuf.h \\\n-\t${ext_srcdir}/stdio_sync_filebuf.h \\\n-\t${ext_srcdir}/string_conversions.h \\\n-\t${ext_srcdir}/throw_allocator.h \\\n-\t${ext_srcdir}/typelist.h \\\n \t${ext_srcdir}/type_traits.h \\\n-\t${ext_srcdir}/vstring_fwd.h \\\n-\t${ext_srcdir}/vstring.h \\\n-\t${ext_srcdir}/vstring.tcc \\\n-\t${ext_srcdir}/vstring_util.h \\\n-\t${ext_compat_headers}\n+\t${ext_srcdir}/typelist.h\n+\n+@GLIBCXX_HOSTED_FALSE@ext_headers = ${ext_freestanding}\n+@GLIBCXX_HOSTED_TRUE@ext_headers = \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_freestanding} \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/algorithm \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/bitmap_allocator.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/cmath \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/codecvt_specializations.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/debug_allocator.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/enc_filebuf.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/extptr_allocator.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/functional \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/malloc_allocator.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/memory \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/mt_allocator.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/new_allocator.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/numeric \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/pod_char_traits.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/pool_allocator.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/random \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/random.tcc \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/rb_tree \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/rc_string_base.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/rope \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/ropeimpl.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/slist \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/sso_string_base.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/stdio_filebuf.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/stdio_sync_filebuf.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/string_conversions.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/throw_allocator.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/vstring_fwd.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/vstring.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/vstring.tcc \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_srcdir}/vstring_util.h \\\n+@GLIBCXX_HOSTED_TRUE@\t${ext_compat_headers}\n \n ext_compat_headers = \\\n \t${backward_srcdir}/hash_set \\\n@@ -1945,9 +1942,6 @@ install-headers:\n \t$(mkinstalldirs) $(DESTDIR)${gxx_include_dir}/${backward_builddir}\n \tfor file in ${backward_headers}; do \\\n \t  $(INSTALL_DATA) $${file} $(DESTDIR)${gxx_include_dir}/${backward_builddir}; done\n-\t$(mkinstalldirs) $(DESTDIR)${gxx_include_dir}/${ext_builddir}\n-\tfor file in ${ext_headers}; do \\\n-\t  $(INSTALL_DATA) $${file} $(DESTDIR)${gxx_include_dir}/${ext_builddir}; done\n \t$(mkinstalldirs) $(DESTDIR)${gxx_include_dir}/${std_builddir}\n \tfor file in ${std_headers}; do \\\n \t  $(INSTALL_DATA) $${file} $(DESTDIR)${gxx_include_dir}/${std_builddir}; done\n@@ -1962,6 +1956,9 @@ install-headers:\n \t$(mkinstalldirs) $(DESTDIR)${gxx_include_dir}/${c_base_builddir}\n \tfor file in ${c_base_headers}; do \\\n \t  $(INSTALL_DATA) $${file} $(DESTDIR)${gxx_include_dir}/${c_base_builddir}; done\n+\t$(mkinstalldirs) $(DESTDIR)${gxx_include_dir}/${ext_builddir}\n+\tfor file in ${ext_headers}; do \\\n+\t  $(INSTALL_DATA) $${file} $(DESTDIR)${gxx_include_dir}/${ext_builddir}; done\n @GLIBCXX_HOSTED_TRUE@\tfor dir in ${pb_subdirs}; do \\\n @GLIBCXX_HOSTED_TRUE@\t  $(mkinstalldirs) $(DESTDIR)${gxx_include_dir}/$${dir} ; done\n @GLIBCXX_HOSTED_TRUE@\tfor file in ${pb_headers1}; do \\"}]}