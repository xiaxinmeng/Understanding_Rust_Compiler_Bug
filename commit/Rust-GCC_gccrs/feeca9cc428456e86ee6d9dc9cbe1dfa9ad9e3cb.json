{"sha": "feeca9cc428456e86ee6d9dc9cbe1dfa9ad9e3cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmVlY2E5Y2M0Mjg0NTZlODZlZTZkOWRjOWNiZTFkZmE5YWQ5ZTNjYg==", "commit": {"author": {"name": "Kai Tietz", "email": "ktietz@redhat.com", "date": "2015-02-25T16:44:26Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2015-02-25T16:44:26Z"}, "message": "re PR target/64212 (ICE [in noninterposable_alias, at symtab.c:1706])\n\n\tPR target/64212\n\t* symtab.c (symtab::make_decl_local): Set DECL_IMPORT_P explicit to 0.\n\t(symtab::noninterposable_alias): Likewise.\n\nFrom-SVN: r220982", "tree": {"sha": "99476968eddea788dbf863836c9aecc2d01a279d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/99476968eddea788dbf863836c9aecc2d01a279d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/feeca9cc428456e86ee6d9dc9cbe1dfa9ad9e3cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/feeca9cc428456e86ee6d9dc9cbe1dfa9ad9e3cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/feeca9cc428456e86ee6d9dc9cbe1dfa9ad9e3cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/feeca9cc428456e86ee6d9dc9cbe1dfa9ad9e3cb/comments", "author": null, "committer": null, "parents": [{"sha": "387dd1b20d2e65ffa0b8b7f29f3a776a5cf05ee9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/387dd1b20d2e65ffa0b8b7f29f3a776a5cf05ee9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/387dd1b20d2e65ffa0b8b7f29f3a776a5cf05ee9"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "c9270c80d151656866c6e59eb21355614fb0c42b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/feeca9cc428456e86ee6d9dc9cbe1dfa9ad9e3cb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/feeca9cc428456e86ee6d9dc9cbe1dfa9ad9e3cb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=feeca9cc428456e86ee6d9dc9cbe1dfa9ad9e3cb", "patch": "@@ -1,3 +1,9 @@\n+2015-02-25  Kai Tietz  <ktietz@redhat.com>\n+\n+\tPR target/64212\n+\t* symtab.c (symtab::make_decl_local): Set DECL_IMPORT_P explicit to 0.\n+\t(symtab::noninterposable_alias): Likewise.\n+\n 2015-02-25  Ilya Enkovich  <ilya.enkovich@intel.com>\n \n \tPR target/65167"}, {"sha": "957457b25e5a79f31164766d419e8e1dacf1f9c6", "filename": "gcc/symtab.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/feeca9cc428456e86ee6d9dc9cbe1dfa9ad9e3cb/gcc%2Fsymtab.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/feeca9cc428456e86ee6d9dc9cbe1dfa9ad9e3cb/gcc%2Fsymtab.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsymtab.c?ref=feeca9cc428456e86ee6d9dc9cbe1dfa9ad9e3cb", "patch": "@@ -1165,6 +1165,7 @@ symtab_node::make_decl_local (void)\n   DECL_VISIBILITY_SPECIFIED (decl) = 0;\n   DECL_VISIBILITY (decl) = VISIBILITY_DEFAULT;\n   TREE_PUBLIC (decl) = 0;\n+  DECL_DLLIMPORT_P (decl) = 0;\n   if (!DECL_RTL_SET_P (decl))\n     return;\n \n@@ -1534,7 +1535,6 @@ symtab_node::noninterposable_alias (symtab_node *node, void *data)\n \t\t != flags_from_decl_or_type (fn->decl))\n \t  || DECL_ATTRIBUTES (node->decl) != DECL_ATTRIBUTES (fn->decl))\n \treturn false;\n-\n       *(symtab_node **)data = node;\n       return true;\n     }\n@@ -1566,6 +1566,7 @@ symtab_node::noninterposable_alias (void)\n \n   /* Otherwise create a new one.  */\n   new_decl = copy_node (node->decl);\n+  DECL_DLLIMPORT_P (new_decl) = 0;\n   DECL_NAME (new_decl) = clone_function_name (node->decl, \"localalias\");\n   if (TREE_CODE (new_decl) == FUNCTION_DECL)\n     DECL_STRUCT_FUNCTION (new_decl) = NULL;"}]}