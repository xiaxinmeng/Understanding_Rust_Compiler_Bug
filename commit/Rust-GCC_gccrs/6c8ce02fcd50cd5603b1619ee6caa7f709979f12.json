{"sha": "6c8ce02fcd50cd5603b1619ee6caa7f709979f12", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmM4Y2UwMmZjZDUwY2Q1NjAzYjE2MTllZTZjYWE3ZjcwOTk3OWYxMg==", "commit": {"author": {"name": "Marcus Meissner", "email": "meissner@suse.de", "date": "2002-06-01T00:48:21Z"}, "committer": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2002-06-01T00:48:21Z"}, "message": "stl_bvector.h: Use UL suffix for unsigned longs.\n\n2002-05-31  Marcus Meissner  <meissner@suse.de>\n\n\t* include/bits/stl_bvector.h:  Use UL suffix for unsigned longs.\n\t* testsuite/23_containers/vector_bool.cc (test02):  New test.\n\nFrom-SVN: r54128", "tree": {"sha": "3463f5cdade6477c666690f72199ae3be32993f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3463f5cdade6477c666690f72199ae3be32993f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6c8ce02fcd50cd5603b1619ee6caa7f709979f12", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c8ce02fcd50cd5603b1619ee6caa7f709979f12", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c8ce02fcd50cd5603b1619ee6caa7f709979f12", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c8ce02fcd50cd5603b1619ee6caa7f709979f12/comments", "author": {"login": "msmeissn", "id": 1862900, "node_id": "MDQ6VXNlcjE4NjI5MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1862900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msmeissn", "html_url": "https://github.com/msmeissn", "followers_url": "https://api.github.com/users/msmeissn/followers", "following_url": "https://api.github.com/users/msmeissn/following{/other_user}", "gists_url": "https://api.github.com/users/msmeissn/gists{/gist_id}", "starred_url": "https://api.github.com/users/msmeissn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msmeissn/subscriptions", "organizations_url": "https://api.github.com/users/msmeissn/orgs", "repos_url": "https://api.github.com/users/msmeissn/repos", "events_url": "https://api.github.com/users/msmeissn/events{/privacy}", "received_events_url": "https://api.github.com/users/msmeissn/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6f9b006de010523b6186de10c00b1f0c366cb6c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f9b006de010523b6186de10c00b1f0c366cb6c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f9b006de010523b6186de10c00b1f0c366cb6c0"}], "stats": {"total": 33, "additions": 31, "deletions": 2}, "files": [{"sha": "6d097ff98c4f8cdaff64a666c093d826687f2b71", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c8ce02fcd50cd5603b1619ee6caa7f709979f12/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c8ce02fcd50cd5603b1619ee6caa7f709979f12/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=6c8ce02fcd50cd5603b1619ee6caa7f709979f12", "patch": "@@ -1,3 +1,8 @@\n+2002-05-31  Marcus Meissner  <meissner@suse.de>\n+\n+\t* include/bits/stl_bvector.h:  Use UL suffix for unsigned longs.\n+\t* testsuite/23_containers/vector_bool.cc (test02):  New test.\n+\n 2002-05-30\tMarc Espie <espie@openbsd.org>\n \t* configure.in:  Always check for sys/types.h\n \t* configure:  Regenerate."}, {"sha": "e48ad7d63fdafd636ab1ca67916304ee3011ffe7", "filename": "libstdc++-v3/include/bits/stl_bvector.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c8ce02fcd50cd5603b1619ee6caa7f709979f12/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_bvector.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c8ce02fcd50cd5603b1619ee6caa7f709979f12/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_bvector.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_bvector.h?ref=6c8ce02fcd50cd5603b1619ee6caa7f709979f12", "patch": "@@ -166,7 +166,7 @@ struct _Bit_iterator : public _Bit_iterator_base\n   _Bit_iterator(_Bit_type * __x, unsigned int __y) \n     : _Bit_iterator_base(__x, __y) {}\n \n-  reference operator*() const { return reference(_M_p, 1U << _M_offset); }\n+  reference operator*() const { return reference(_M_p, 1UL << _M_offset); }\n   iterator& operator++() {\n     _M_bump_up();\n     return *this;\n@@ -223,7 +223,7 @@ struct _Bit_const_iterator : public _Bit_iterator_base\n     : _Bit_iterator_base(__x._M_p, __x._M_offset) {}\n \n   const_reference operator*() const {\n-    return _Bit_reference(_M_p, 1U << _M_offset);\n+    return _Bit_reference(_M_p, 1UL << _M_offset);\n   }\n   const_iterator& operator++() {\n     _M_bump_up();"}, {"sha": "17d63d1f8543a270eff7984bdb1c960af8c2ced8", "filename": "libstdc++-v3/testsuite/23_containers/vector_bool.cc", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c8ce02fcd50cd5603b1619ee6caa7f709979f12/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_bool.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c8ce02fcd50cd5603b1619ee6caa7f709979f12/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_bool.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_bool.cc?ref=6c8ce02fcd50cd5603b1619ee6caa7f709979f12", "patch": "@@ -29,8 +29,32 @@ void test01()\n   ++i;\n }\n \n+// libstdc++/6886\n+void test02()\n+{\n+  typedef std::vector<bool>  bvec;\n+  int  i, num = 0;\n+  bvec v;\n+\n+  v.resize(66);\n+\n+  for (i = 0 ; i < 66 ; ++i)\n+    v[i] = 0;\n+\n+  v[1]    = 1;\n+  v[33]   = 1;\n+  v[49]   = 1;\n+  v[65]   = 1;\n+\n+  for (bvec::iterator j = v.begin() ; j != v.end() ; j++)\n+    if (bool(*j)) ++num;\n+\n+  VERIFY( num == 4 );\n+}\n+\n int main()\n {\n   test01();\n+  test02();\n   return 0;\n }"}]}