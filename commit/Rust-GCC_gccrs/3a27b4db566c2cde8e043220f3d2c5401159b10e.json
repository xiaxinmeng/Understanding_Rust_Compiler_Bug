{"sha": "3a27b4db566c2cde8e043220f3d2c5401159b10e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2EyN2I0ZGI1NjZjMmNkZThlMDQzMjIwZjNkMmM1NDAxMTU5YjEwZQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2016-02-19T22:13:29Z"}, "committer": {"name": "Bernd Edlinger", "email": "edlinger@gcc.gnu.org", "date": "2016-02-19T22:13:29Z"}, "message": "Make-lang.in: Invoke gperf with -L C++.\n\n2016-02-19  Jakub Jelinek  <jakub@redhat.com>\n            Bernd Edlinger  <bernd.edlinger@hotmail.de>\n\n        * Make-lang.in: Invoke gperf with -L C++.\n        * cfns.gperf: Remove prototypes for hash and libc_name_p\n        inlines.\n        * cfns.h: Regenerated.\n        * except.c (nothrow_libfn_p): Adjust.\n\nCo-Authored-By: Bernd Edlinger <bernd.edlinger@hotmail.de>\n\nFrom-SVN: r233572", "tree": {"sha": "aad5fd751640b7db60e215dcaf2f898a0f65157e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aad5fd751640b7db60e215dcaf2f898a0f65157e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3a27b4db566c2cde8e043220f3d2c5401159b10e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a27b4db566c2cde8e043220f3d2c5401159b10e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a27b4db566c2cde8e043220f3d2c5401159b10e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a27b4db566c2cde8e043220f3d2c5401159b10e/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "871b3f473a4bca51d05c1682efb5017385ec9e9e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/871b3f473a4bca51d05c1682efb5017385ec9e9e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/871b3f473a4bca51d05c1682efb5017385ec9e9e"}], "stats": {"total": 65, "additions": 28, "deletions": 37}, "files": [{"sha": "571c4168bd29e49164e22207d98766d3b8d00685", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a27b4db566c2cde8e043220f3d2c5401159b10e/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a27b4db566c2cde8e043220f3d2c5401159b10e/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=3a27b4db566c2cde8e043220f3d2c5401159b10e", "patch": "@@ -1,3 +1,12 @@\n+2016-02-19  Jakub Jelinek  <jakub@redhat.com>\n+\t    Bernd Edlinger  <bernd.edlinger@hotmail.de>\n+\n+\t* Make-lang.in: Invoke gperf with -L C++.\n+\t* cfns.gperf: Remove prototypes for hash and libc_name_p\n+\tinlines.\n+\t* cfns.h: Regenerated.\n+\t* except.c (nothrow_libfn_p): Adjust.\n+\n 2016-02-19  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/69850"}, {"sha": "2286c64a8fb430f57a02eed1c4c61c04e77d4503", "filename": "gcc/cp/Make-lang.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a27b4db566c2cde8e043220f3d2c5401159b10e/gcc%2Fcp%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a27b4db566c2cde8e043220f3d2c5401159b10e/gcc%2Fcp%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FMake-lang.in?ref=3a27b4db566c2cde8e043220f3d2c5401159b10e", "patch": "@@ -112,7 +112,7 @@ else\n # deleting the $(srcdir)/cp/cfns.h file.\n $(srcdir)/cp/cfns.h:\n endif\n-\tgperf -o -C -E -k '1-6,$$' -j1 -D -N 'libc_name_p' -L ANSI-C \\\n+\tgperf -o -C -E -k '1-6,$$' -j1 -D -N 'libc_name_p' -L C++ \\\n \t\t$(srcdir)/cp/cfns.gperf --output-file $(srcdir)/cp/cfns.h\n \n #\f"}, {"sha": "8d7f015bf16eb49c885ebd18fc0fac5f179fe34d", "filename": "gcc/cp/cfns.gperf", "status": "modified", "additions": 2, "deletions": 8, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a27b4db566c2cde8e043220f3d2c5401159b10e/gcc%2Fcp%2Fcfns.gperf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a27b4db566c2cde8e043220f3d2c5401159b10e/gcc%2Fcp%2Fcfns.gperf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcfns.gperf?ref=3a27b4db566c2cde8e043220f3d2c5401159b10e", "patch": "@@ -1,3 +1,5 @@\n+%language=C++\n+%define class-name libc_name\n %{\n /* Copyright (C) 2000-2016 Free Software Foundation, Inc.\n \n@@ -16,14 +18,6 @@ for more details.\n You should have received a copy of the GNU General Public License\n along with GCC; see the file COPYING3.  If not see\n <http://www.gnu.org/licenses/>.  */\n-#ifdef __GNUC__\n-__inline\n-#endif\n-static unsigned int hash (const char *, unsigned int);\n-#ifdef __GNUC__\n-__inline\n-#endif\n-const char * libc_name_p (const char *, unsigned int);\n %}\n %%\n # The standard C library functions, for feeding to gperf; the result is used"}, {"sha": "9a372496ca56e7f0feb705db6d70d181c9f4c09a", "filename": "gcc/cp/cfns.h", "status": "modified", "additions": 14, "deletions": 27, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a27b4db566c2cde8e043220f3d2c5401159b10e/gcc%2Fcp%2Fcfns.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a27b4db566c2cde8e043220f3d2c5401159b10e/gcc%2Fcp%2Fcfns.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcfns.h?ref=3a27b4db566c2cde8e043220f3d2c5401159b10e", "patch": "@@ -1,5 +1,5 @@\n-/* ANSI-C code produced by gperf version 3.0.3 */\n-/* Command-line: gperf -o -C -E -k '1-6,$' -j1 -D -N libc_name_p -L ANSI-C cfns.gperf  */\n+/* C++ code produced by gperf version 3.0.4 */\n+/* Command-line: gperf -o -C -E -k '1-6,$' -j1 -D -N libc_name_p -L C++ --output-file cfns.h cfns.gperf  */\n \n #if !((' ' == 32) && ('!' == 33) && ('\"' == 34) && ('#' == 35) \\\n       && ('%' == 37) && ('&' == 38) && ('\\'' == 39) && ('(' == 40) \\\n@@ -28,7 +28,7 @@\n #error \"gperf generated tables don't work with this execution character set. Please report a bug to <bug-gnu-gperf@gnu.org>.\"\n #endif\n \n-#line 1 \"cfns.gperf\"\n+#line 3 \"cfns.gperf\"\n \n /* Copyright (C) 2000-2016 Free Software Foundation, Inc.\n \n@@ -47,25 +47,18 @@ for more details.\n You should have received a copy of the GNU General Public License\n along with GCC; see the file COPYING3.  If not see\n <http://www.gnu.org/licenses/>.  */\n-#ifdef __GNUC__\n-__inline\n-#endif\n-static unsigned int hash (const char *, unsigned int);\n-#ifdef __GNUC__\n-__inline\n-#endif\n-const char * libc_name_p (const char *, unsigned int);\n /* maximum key range = 391, duplicates = 0 */\n \n-#ifdef __GNUC__\n-__inline\n-#else\n-#ifdef __cplusplus\n-inline\n-#endif\n-#endif\n-static unsigned int\n-hash (register const char *str, register unsigned int len)\n+class libc_name\n+{\n+private:\n+  static inline unsigned int hash (const char *str, unsigned int len);\n+public:\n+  static const char *libc_name_p (const char *str, unsigned int len);\n+};\n+\n+inline unsigned int\n+libc_name::hash (register const char *str, register unsigned int len)\n {\n   static const unsigned short asso_values[] =\n     {\n@@ -122,14 +115,8 @@ hash (register const char *str, register unsigned int len)\n   return hval + asso_values[(unsigned char)str[len - 1]];\n }\n \n-#ifdef __GNUC__\n-__inline\n-#ifdef __GNUC_STDC_INLINE__\n-__attribute__ ((__gnu_inline__))\n-#endif\n-#endif\n const char *\n-libc_name_p (register const char *str, register unsigned int len)\n+libc_name::libc_name_p (register const char *str, register unsigned int len)\n {\n   enum\n     {"}, {"sha": "53367100de9cfb922ba03328cf9f358879130a52", "filename": "gcc/cp/except.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a27b4db566c2cde8e043220f3d2c5401159b10e/gcc%2Fcp%2Fexcept.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a27b4db566c2cde8e043220f3d2c5401159b10e/gcc%2Fcp%2Fexcept.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fexcept.c?ref=3a27b4db566c2cde8e043220f3d2c5401159b10e", "patch": "@@ -1040,7 +1040,8 @@ nothrow_libfn_p (const_tree fn)\n      unless the system headers are playing rename tricks, and if\n      they are, we don't want to be confused by them.  */\n   id = DECL_NAME (fn);\n-  return !!libc_name_p (IDENTIFIER_POINTER (id), IDENTIFIER_LENGTH (id));\n+  return !!libc_name::libc_name_p (IDENTIFIER_POINTER (id),\n+\t\t\t\t   IDENTIFIER_LENGTH (id));\n }\n \n /* Returns nonzero if an exception of type FROM will be caught by a"}]}