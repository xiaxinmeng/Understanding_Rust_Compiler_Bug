{"sha": "49e921be33fb9766ab0de2519719cea732fd0f72", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDllOTIxYmUzM2ZiOTc2NmFiMGRlMjUxOTcxOWNlYTczMmZkMGY3Mg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@dcc.unicamp.br", "date": "1998-08-14T10:09:42Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gcc.gnu.org", "date": "1998-08-14T10:09:42Z"}, "message": "test_installed: new script for testing already-installed\n\n\t* test_installed: new script for testing already-installed\n \tgcc/g++/g77\n\nFrom-SVN: r21728", "tree": {"sha": "4260be5640d91f495952afa8afdb3860e5e6615d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4260be5640d91f495952afa8afdb3860e5e6615d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/49e921be33fb9766ab0de2519719cea732fd0f72", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49e921be33fb9766ab0de2519719cea732fd0f72", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49e921be33fb9766ab0de2519719cea732fd0f72", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49e921be33fb9766ab0de2519719cea732fd0f72/comments", "author": null, "committer": null, "parents": [{"sha": "75bffa71533f8d49216da15be5d50353cd7be874", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75bffa71533f8d49216da15be5d50353cd7be874", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75bffa71533f8d49216da15be5d50353cd7be874"}], "stats": {"total": 119, "additions": 119, "deletions": 0}, "files": [{"sha": "b7abdf169585eeb13997b7133a7908cb130f47c0", "filename": "contrib/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49e921be33fb9766ab0de2519719cea732fd0f72/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49e921be33fb9766ab0de2519719cea732fd0f72/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=49e921be33fb9766ab0de2519719cea732fd0f72", "patch": "@@ -1,3 +1,8 @@\n+1998-08-14  Alexandre Oliva  <oliva@dcc.unicamp.br>\n+\n+\t* test_installed: new script for testing already-installed\n+ \tgcc/g++/g77\n+\n Wed Aug 12 19:59:36 1998  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \n \t* egcs_update: Assigned copyright to FSF."}, {"sha": "e7814d280f2930816dce263ce03f1de9835df2e0", "filename": "contrib/test_installed", "status": "added", "additions": 114, "deletions": 0, "changes": 114, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49e921be33fb9766ab0de2519719cea732fd0f72/contrib%2Ftest_installed", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49e921be33fb9766ab0de2519719cea732fd0f72/contrib%2Ftest_installed", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Ftest_installed?ref=49e921be33fb9766ab0de2519719cea732fd0f72", "patch": "@@ -0,0 +1,114 @@\n+#! /bin/sh\n+\n+# (C) 1998 Free Software Foundation\n+# Originally by Alexandre Oliva <oliva@dcc.unicamp.br>\n+\n+# This script is Free Software, and it can be copied, distributed and\n+# modified as defined in the GNU General Public License.  A copy of\n+# its license can be downloaded from http://www.gnu.org/copyleft/gpl.html\n+\n+# This scripts assumes it lives in the contrib directory of the egcs\n+# source tree, so it will find the testsuite tree from its location.\n+# If you move it elsewhere, or want to use another testsuite tree, you\n+# can override the defaults with --srcdir=/some/dir/egcs or\n+# --testsuite=/some/dir/egcs/gcc/testsuite.  If you specify\n+# --testsuite, --srcdir will be ignored; otherwise, `/gcc/testsuite'\n+# will be appended to the srcdir.\n+\n+# You may specify where the binaries to be tested should be picked up\n+# from.  If you specify --prefix=/some/dir, gcc, g++ and g77 will be\n+# looked for at /some/dir/bin.  Each one may be overridden by\n+# specifying --with-gcc=/pathname/to/gcc, --with-g++=/pathname/to/g++\n+# and --with-g77=/pathname/to/g77.  If you specify --without-gcc,\n+# --without-g++ or --without-g77, the test for the specified program\n+# will be skipped.  By default, gcc, g++ and g77 will be searched in\n+# the PATH.\n+\n+# An additional argument may specify --tmpdir=/some/dir; by default,\n+# temporaries will be stored in the current directory, where the log\n+# files will be stored.\n+\n+# The script will interpret arguments until it finds one it does not\n+# understand.  The remaining ones will be passed to `runtest'.  A\n+# double-dash can be used to explicitly separate the arguments to\n+# `test_installed' from the ones to `runtest'.\n+\n+# This script should be run in an empty directory; it will refuse to\n+# run if it finds a file named site.exp in the current directory.\n+\n+\n+if test -f site.exp; then\n+    echo site.exp already exists >&2\n+    exit 1\n+fi\n+\n+while true; do\n+  case \"$1\" in\n+  --with-testsuite=*) testsuite=`echo \"$1\" | sed 's/[^=]*=//'`; shift;;\n+  --srcdir=*) srcdir=`echo \"$1\" | sed 's/[^=]*=//'`; shift;;\n+\n+  --prefix=*) prefix=`echo \"$1\" | sed 's/[^=]*=//'`; shift;;\n+  --with-gcc=*) GCC_UNDER_TEST=`echo \"$1\" | sed 's/[^=]*=//'`; shift;;\n+  --with-g++=*) GXX_UNDER_TEST=`echo \"$1\" | sed 's/[^=]*=//'`; shift;;\n+  --with-g77=*) G77_UNDER_TEST=`echo \"$1\" | sed 's/[^=]*=//'`; shift;;\n+  --without-gcc) GCC_UNDER_TEST=no; shift;;\n+  --without-g++) GXX_UNDER_TEST=no; shift;;\n+  --without-g77) G77_UNDER_TEST=no; shift;;\n+\n+  --tmpdir=*) tmpdir=`echo \"$1\" | sed 's/[^=]*=//'`; shift;;\n+\n+  --help) cat <<\\EOF\n+Runs the testsuite for an installed version of gcc/g++/g77\n+Copyright (C) 1998  Free Software Foundation\n+by Alexandre Oliva <oliva@dcc.unicamp.br>\n+\n+Supported arguments:\n+\n+--help                        prints this page\n+\n+--with-testsuite=/some/dir/gcc/testsuite   specify the testsuite directory\n+--srcdir=/some/dir            same as --with-testsuite=/some/dir/gcc/testsuite\n+                              [deduced from shell-script pathname]\n+\n+--prefix=/some/dir            use gcc, g++ and g77 from /some/dir/bin [PATH]\n+--with-gcc=/some/dir/bin/gcc  use specified gcc program [gcc]\n+--with-g++=/some/dir/bin/g++  use specified g++ program [g++]\n+--with-g77=/some/dir/bin/g77  use specified g77 program [g77]\n+--without-gcc                 do not run gcc testsuite\n+--without-g++                 do not run g++ testsuite\n+--without-g77                 do not run g77 testsuite\n+\n+--tmpdir=/some/dir            create temporaries and leave failed programs\n+                              at specified directory [.]\n+\n+--   end of argument list; following arguments are passed to runtest\n+EOF\n+    exit\n+  ;;\n+  \n+  --) shift; break;;\n+  *) break;;\n+  esac\n+done\n+  \n+if test x\"${testsuite+set}\" != x\"set\" && test x\"${srcdir+set}\" != x\"set\"; then\n+  file=$0\n+  while [ -h $file ]; do\n+    file=`ls -l $file | sed s/'.* -> '//`\n+  done\n+  srcdir=`CDPATH=. && cd \\`echo \"$file\" | sed 's,/*[^/]*$,,;s,^$,.,'\\`/.. >/dev/null && pwd`\n+fi\n+\n+cat >site.exp <<EOF\n+set tmpdir \"${tmpdir-`pwd`}\"\n+set srcdir \"${testsuite-${srcdir}/gcc/testsuite}\"\n+set GCC_UNDER_TEST \"${GCC_UNDER_TEST-${prefix}${prefix+/bin/}gcc}\"\n+set GXX_UNDER_TEST \"${GXX_UNDER_TEST-${prefix}${prefix+/bin/}g++}\"\n+set G77_UNDER_TEST \"${G77_UNDER_TEST-${prefix}${prefix+/bin/}g77}\"\n+EOF\n+\n+test x\"${GCC_UNDER_TEST}\" = x\"no\" || runtest --tool gcc ${1+\"$@\"}\n+test x\"${GXX_UNDER_TEST}\" = x\"no\" || runtest --tool g++ ${1+\"$@\"}\n+test x\"${G77_UNDER_TEST}\" = x\"no\" || runtest --tool g77 ${1+\"$@\"}\n+\n+exit 0"}]}