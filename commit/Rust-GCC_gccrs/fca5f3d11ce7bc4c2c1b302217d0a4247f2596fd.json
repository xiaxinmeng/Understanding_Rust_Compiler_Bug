{"sha": "fca5f3d11ce7bc4c2c1b302217d0a4247f2596fd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmNhNWYzZDExY2U3YmM0YzJjMWIzMDIyMTdkMGE0MjQ3ZjI1OTZmZA==", "commit": {"author": {"name": "Michael Matz", "email": "matz@suse.de", "date": "2009-04-27T11:15:53Z"}, "committer": {"name": "Michael Matz", "email": "matz@gcc.gnu.org", "date": "2009-04-27T11:15:53Z"}, "message": "tree-into-ssa.c (regs_to_rename, [...]): Remove.\n\n        * tree-into-ssa.c (regs_to_rename, mem_syms_to_rename): Remove.\n        (init_update_ssa, delete_update_ssa, update_ssa): Remove references\n        to above.\n\nFrom-SVN: r146830", "tree": {"sha": "41562aaa49744321ae6679be811ad6823b381f72", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/41562aaa49744321ae6679be811ad6823b381f72"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fca5f3d11ce7bc4c2c1b302217d0a4247f2596fd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fca5f3d11ce7bc4c2c1b302217d0a4247f2596fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fca5f3d11ce7bc4c2c1b302217d0a4247f2596fd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fca5f3d11ce7bc4c2c1b302217d0a4247f2596fd/comments", "author": {"login": "susematz", "id": 4117296, "node_id": "MDQ6VXNlcjQxMTcyOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/4117296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/susematz", "html_url": "https://github.com/susematz", "followers_url": "https://api.github.com/users/susematz/followers", "following_url": "https://api.github.com/users/susematz/following{/other_user}", "gists_url": "https://api.github.com/users/susematz/gists{/gist_id}", "starred_url": "https://api.github.com/users/susematz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/susematz/subscriptions", "organizations_url": "https://api.github.com/users/susematz/orgs", "repos_url": "https://api.github.com/users/susematz/repos", "events_url": "https://api.github.com/users/susematz/events{/privacy}", "received_events_url": "https://api.github.com/users/susematz/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a1fa3e7944ede1594585dae81c016842c192a7ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1fa3e7944ede1594585dae81c016842c192a7ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a1fa3e7944ede1594585dae81c016842c192a7ae"}], "stats": {"total": 38, "additions": 6, "deletions": 32}, "files": [{"sha": "c04bd05d882c5e850af2129fbbe4c0a3f5f10645", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fca5f3d11ce7bc4c2c1b302217d0a4247f2596fd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fca5f3d11ce7bc4c2c1b302217d0a4247f2596fd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fca5f3d11ce7bc4c2c1b302217d0a4247f2596fd", "patch": "@@ -1,3 +1,9 @@\n+2009-04-27  Michael Matz  <matz@suse.de>\n+\n+\t* tree-into-ssa.c (regs_to_rename, mem_syms_to_rename): Remove.\n+\t(init_update_ssa, delete_update_ssa, update_ssa): Remove references\n+\tto above.\n+\n 2009-04-27  Richard Sandiford  <rdsandiford@googlemail.com>\n             Eric Botcazou  <ebotcazou@adacore.com>\n "}, {"sha": "d1f0ff7820eeee8f712e7ab042184f9a9a9d63ef", "filename": "gcc/tree-into-ssa.c", "status": "modified", "additions": 0, "deletions": 32, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fca5f3d11ce7bc4c2c1b302217d0a4247f2596fd/gcc%2Ftree-into-ssa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fca5f3d11ce7bc4c2c1b302217d0a4247f2596fd/gcc%2Ftree-into-ssa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-into-ssa.c?ref=fca5f3d11ce7bc4c2c1b302217d0a4247f2596fd", "patch": "@@ -113,14 +113,6 @@ static sbitmap old_ssa_names;\n static sbitmap new_ssa_names;\n \n \n-/* Subset of SYMS_TO_RENAME.  Contains all the GIMPLE register symbols\n-   that have been marked for renaming.  */\n-static bitmap regs_to_rename;\n-\n-/* Subset of SYMS_TO_RENAME.  Contains all the memory symbols\n-   that have been marked for renaming.  */\n-static bitmap mem_syms_to_rename;\n-\n /* Set of SSA names that have been marked to be released after they\n    were registered in the replacement table.  They will be finally\n    released after we finish updating the SSA web.  */\n@@ -2635,8 +2627,6 @@ init_update_ssa (struct function *fn)\n   sbitmap_zero (new_ssa_names);\n \n   repl_tbl = htab_create (20, repl_map_hash, repl_map_eq, repl_map_free);\n-  regs_to_rename = BITMAP_ALLOC (NULL);\n-  mem_syms_to_rename = BITMAP_ALLOC (NULL);\n   names_to_release = NULL;\n   memset (&update_ssa_stats, 0, sizeof (update_ssa_stats));\n   update_ssa_stats.virtual_symbols = BITMAP_ALLOC (NULL);\n@@ -2662,8 +2652,6 @@ delete_update_ssa (void)\n   repl_tbl = NULL;\n \n   bitmap_clear (SYMS_TO_RENAME (update_ssa_initialized_fn));\n-  BITMAP_FREE (regs_to_rename);\n-  BITMAP_FREE (mem_syms_to_rename);\n   BITMAP_FREE (update_ssa_stats.virtual_symbols);\n \n   if (names_to_release)\n@@ -3152,26 +3140,6 @@ update_ssa (unsigned update_flags)\n   if (insert_phi_p && switch_virtuals_to_full_rewrite_p ())\n     switch_virtuals_to_full_rewrite ();\n \n-  /* If there are symbols to rename, identify those symbols that are\n-     GIMPLE registers into the set REGS_TO_RENAME and those that are\n-     memory symbols into the set MEM_SYMS_TO_RENAME.  */\n-  if (!bitmap_empty_p (SYMS_TO_RENAME (cfun)))\n-    {\n-      unsigned i;\n-      bitmap_iterator bi;\n-\n-      EXECUTE_IF_SET_IN_BITMAP (SYMS_TO_RENAME (cfun), 0, i, bi)\n-\t{\n-\t  tree sym = referenced_var (i);\n-\t  if (is_gimple_reg (sym))\n-\t    bitmap_set_bit (regs_to_rename, i);\n-\t}\n-\n-      /* Memory symbols are those not in REGS_TO_RENAME.  */\n-      bitmap_and_compl (mem_syms_to_rename,\n-\t\t\tSYMS_TO_RENAME (cfun), regs_to_rename);\n-    }\n-\n   /* If there are names defined in the replacement table, prepare\n      definition and use sites for all the names in NEW_SSA_NAMES and\n      OLD_SSA_NAMES.  */"}]}