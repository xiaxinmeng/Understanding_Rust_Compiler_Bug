{"sha": "54951c63e9a9b4c9519a8d7361d32c0766a6ee50", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTQ5NTFjNjNlOWE5YjRjOTUxOWE4ZDczNjFkMzJjMDc2NmE2ZWU1MA==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2016-06-09T17:04:13Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2016-06-09T17:04:13Z"}, "message": "config-list.mk: add GCC_SRC_DIR\n\ncontrib/ChangeLog:\n\t* config-list.mk (GCC_SRC_DIR): New variable.\n\t(make-log-dir): Use GCC_SRC_DIR.\n\t($(LIST)): Likewise.\n\nFrom-SVN: r237269", "tree": {"sha": "cf978c48c1395fda8e65b8b9de427c5f858aa49d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cf978c48c1395fda8e65b8b9de427c5f858aa49d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/54951c63e9a9b4c9519a8d7361d32c0766a6ee50", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54951c63e9a9b4c9519a8d7361d32c0766a6ee50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/54951c63e9a9b4c9519a8d7361d32c0766a6ee50", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54951c63e9a9b4c9519a8d7361d32c0766a6ee50/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e01b4e16930ba0183bff94c88bce20501af8bbe4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e01b4e16930ba0183bff94c88bce20501af8bbe4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e01b4e16930ba0183bff94c88bce20501af8bbe4"}], "stats": {"total": 39, "additions": 32, "deletions": 7}, "files": [{"sha": "02711fd1eafb2906d840f6472070f5043de7e871", "filename": "contrib/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54951c63e9a9b4c9519a8d7361d32c0766a6ee50/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54951c63e9a9b4c9519a8d7361d32c0766a6ee50/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=54951c63e9a9b4c9519a8d7361d32c0766a6ee50", "patch": "@@ -1,3 +1,9 @@\n+2016-06-09  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* config-list.mk (GCC_SRC_DIR): New variable.\n+\t(make-log-dir): Use GCC_SRC_DIR.\n+\t($(LIST)): Likewise.\n+\n 2016-06-09  Martin Liska  <mliska@suse.cz>\n \n \t* analyze_brprob_spec.py: New file."}, {"sha": "4a31173579caccf89afd186b401b028e40141cf2", "filename": "contrib/config-list.mk", "status": "modified", "additions": 26, "deletions": 7, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54951c63e9a9b4c9519a8d7361d32c0766a6ee50/contrib%2Fconfig-list.mk", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54951c63e9a9b4c9519a8d7361d32c0766a6ee50/contrib%2Fconfig-list.mk", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fconfig-list.mk?ref=54951c63e9a9b4c9519a8d7361d32c0766a6ee50", "patch": "@@ -3,13 +3,32 @@ host_options='--with-mpc=/opt/cfarm/mpc' # gcc10\n TEST=all-gcc\n # Make sure you have a recent enough gcc (with ada support) in your path so\n # that --enable-werror-always will work.\n-# To use, create a sibling directory to the gcc sources and cd into this.\n+# To use, create a build directory with plenty of free disk space - a build of\n+# all configurations can take 450GB.\n+# By default, this file assumes the build directory is in a sibling directory\n+# to the gcc sources, but you can override GCC_SRC_DIR to specify where to\n+# find them.  GCC_SRC_DIR is used in the directory below the build directory,\n+# hence the two \"..\" in the default value; if overriding it, it's easiest to\n+# supply an absolute path.\n+GCC_SRC_DIR=../../gcc\n+\n # Use -j / -l make arguments and nice to assure a smooth resource-efficient\n # load on the build machine, e.g. for 24 cores:\n # svn co svn://gcc.gnu.org/svn/gcc/branches/foo-branch gcc\n # mkdir multi-mk; cd multi-mk\n # nohup nice make -j25 -l36 -f ../gcc/contrib/config-list.mk > make.out 2>&1 &\n #\n+# Alternatively, if building against an existing gcc source tree:\n+#\n+#   cd /somewhere/with/plenty/of/disk/space\n+#   mkdir multi-mk; cd multi-mk\n+#   nohup nice make \\\n+#     -j25 -l36 \\\n+#     -f /path/to/contrib/config-list.mk \\\n+#     GCC_SRC_DIR=/path/to/gcc/source/tree \\\n+#     > make.out 2>&1 &\n+#\n+\n # v850e1-elf is rejected by config.sub\n LIST = aarch64-elf aarch64-linux-gnu aarch64-rtems \\\n   alpha-linux-gnu alpha-freebsd6 alpha-netbsd alpha-openbsd \\\n@@ -91,17 +110,17 @@ show:\n \n empty=\n \n-#Check for the presence of the MAINTAINERS file to make sure we are in a\n-#suitable current working directory.\n-make-log-dir: ../gcc/MAINTAINERS\n-\tmkdir log\n+#Check for the presence of the MAINTAINERS file to make sure we've located\n+#the gcc sources.\n+make-log-dir: $(GCC_SRC_DIR)/MAINTAINERS\n+\t-mkdir log\n \n $(LIST): make-log-dir\n \t-mkdir $@\n \t(\t\t\t\t\t\t\t\t\t\t\t\\\n \t\tcd $@ &&\t\t\t\t\t\t\t\t\t\\\n \t\tTGT=`echo $@ | awk 'BEGIN { FS = \"OPT\" }; { print $$1 }'` &&\t\t\t\\\n-\t\tTGT=`../../gcc/config.sub $$TGT` &&\t\t\t\t\t\t\\\n+\t\tTGT=`$(GCC_SRC_DIR)/config.sub $$TGT` &&\t\t\t\t\t\\\n \t\tcase $$TGT in\t\t\t\t\t\t\t\t\t\\\n \t\t\t*-*-darwin* | *-*-cygwin* | *-*-mingw* | *-*-aix*)\t\t\t\\\n \t\t\t\tADDITIONAL_LANGUAGES=\"\";\t\t\t\t\t\\\n@@ -110,7 +129,7 @@ $(LIST): make-log-dir\n \t\t\t\tADDITIONAL_LANGUAGES=\",go\";\t\t\t\t\t\\\n \t\t\t\t;;\t\t\t\t\t\t\t\t\\\n \t\tesac &&\t\t\t\t\t\t\t\t\t\t\\\n-\t\t../../gcc/configure\t\t\t\t\t\t\t\t\\\n+\t\t$(GCC_SRC_DIR)/configure\t\t\t\t\t\t\t\\\n \t\t\t--target=$(subst SCRIPTS,`pwd`/../scripts/,$(subst OPT,$(empty) -,$@))\t\\\n \t\t\t--enable-werror-always ${host_options}\t\t\t\t\t\\\n \t\t\t--enable-languages=all,ada$$ADDITIONAL_LANGUAGES;\t\t\t\\"}]}