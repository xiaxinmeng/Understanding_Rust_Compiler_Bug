{"sha": "bd603506f6e92d29abc1f975ad7d356907ba25c2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmQ2MDM1MDZmNmU5MmQyOWFiYzFmOTc1YWQ3ZDM1NjkwN2JhMjVjMg==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2011-09-02T09:57:21Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-09-02T09:57:21Z"}, "message": "sem_prag.adb, [...]: Minor reformatting.\n\n2011-09-02  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_prag.adb, sem_util.adb, sem_ch6.adb, prj-nmsc.adb,\n\texp_ch3.adb: Minor reformatting.\n\nFrom-SVN: r178459", "tree": {"sha": "cb4fcdb075f83aa2a462081acf370e10e71fdde3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cb4fcdb075f83aa2a462081acf370e10e71fdde3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bd603506f6e92d29abc1f975ad7d356907ba25c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd603506f6e92d29abc1f975ad7d356907ba25c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd603506f6e92d29abc1f975ad7d356907ba25c2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd603506f6e92d29abc1f975ad7d356907ba25c2/comments", "author": null, "committer": null, "parents": [{"sha": "24a120ac01802ac3e7cd0d5682ac12c81c3f8f0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24a120ac01802ac3e7cd0d5682ac12c81c3f8f0f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24a120ac01802ac3e7cd0d5682ac12c81c3f8f0f"}], "stats": {"total": 26, "additions": 18, "deletions": 8}, "files": [{"sha": "91b2ebf4aa9dce5b91a60860fa634a37d4fb4e22", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd603506f6e92d29abc1f975ad7d356907ba25c2/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd603506f6e92d29abc1f975ad7d356907ba25c2/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=bd603506f6e92d29abc1f975ad7d356907ba25c2", "patch": "@@ -1,3 +1,8 @@\n+2011-09-02  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_prag.adb, sem_util.adb, sem_ch6.adb, prj-nmsc.adb,\n+\texp_ch3.adb: Minor reformatting.\n+\n 2011-09-02  Vincent Celier  <celier@adacore.com>\n \n \t* prj-conf.adb (Add_Default_GNAT_Naming_Scheme): Declare \"gcc\""}, {"sha": "4b5b26febd31fcde90d1410ffd7365e84c9c5da8", "filename": "gcc/ada/exp_ch3.adb", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd603506f6e92d29abc1f975ad7d356907ba25c2/gcc%2Fada%2Fexp_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd603506f6e92d29abc1f975ad7d356907ba25c2/gcc%2Fada%2Fexp_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch3.adb?ref=bd603506f6e92d29abc1f975ad7d356907ba25c2", "patch": "@@ -4982,7 +4982,7 @@ package body Exp_Ch3 is\n                         Insert_Action (N,\n                           Make_Object_Declaration (Loc,\n                             Defining_Identifier => Obj_Id,\n-                            Object_Definition =>\n+                            Object_Definition   =>\n                               New_Occurrence_Of\n                                 (Etype (Object_Definition (N)), Loc),\n                             Expression => New_Expr));\n@@ -4992,14 +4992,13 @@ package body Exp_Ch3 is\n                      --  has been previously expanded into a temporary object.\n \n                      else pragma Assert (not Comes_From_Source (Expr_Q));\n-\n                         Insert_Action (N,\n                           Make_Object_Renaming_Declaration (Loc,\n                             Defining_Identifier => Obj_Id,\n-                            Subtype_Mark =>\n+                            Subtype_Mark        =>\n                               New_Occurrence_Of\n                                 (Etype (Object_Definition (N)), Loc),\n-                            Name =>\n+                            Name                =>\n                               Unchecked_Convert_To\n                                 (Etype (Object_Definition (N)), New_Expr)));\n                      end if;"}, {"sha": "bf6f4cbf39e0f8acba37d4092e3b2e73e3f26427", "filename": "gcc/ada/prj-nmsc.adb", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd603506f6e92d29abc1f975ad7d356907ba25c2/gcc%2Fada%2Fprj-nmsc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd603506f6e92d29abc1f975ad7d356907ba25c2/gcc%2Fada%2Fprj-nmsc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-nmsc.adb?ref=bd603506f6e92d29abc1f975ad7d356907ba25c2", "patch": "@@ -6769,7 +6769,6 @@ package body Prj.Nmsc is\n       if Source.Unit /= null then\n          if Source.Kind = Spec then\n             Source.Unit.File_Names (Spec) := Source;\n-\n          else\n             Source.Unit.File_Names (Impl) := Source;\n          end if;"}, {"sha": "32c2dbbe9c308a12f6b966c95b87da41835f4833", "filename": "gcc/ada/sem_ch6.adb", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd603506f6e92d29abc1f975ad7d356907ba25c2/gcc%2Fada%2Fsem_ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd603506f6e92d29abc1f975ad7d356907ba25c2/gcc%2Fada%2Fsem_ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch6.adb?ref=bd603506f6e92d29abc1f975ad7d356907ba25c2", "patch": "@@ -4956,7 +4956,7 @@ package body Sem_Ch6 is\n                  (\"subprogram & overrides inherited operation #\", Spec, Subp);\n             end if;\n \n-         --  Special-case to fix a GNAT oddity:  Limited_Controlled is declared\n+         --  Special-case to fix a GNAT oddity: Limited_Controlled is declared\n          --  as an extension of Root_Controlled, and thus has a useless Adjust\n          --  operation. This operation should not be inherited by other limited\n          --  controlled types. An explicit Adjust for them is not overriding.\n@@ -4965,8 +4965,9 @@ package body Sem_Ch6 is\n            and then Chars (Overridden_Subp) = Name_Adjust\n            and then Is_Limited_Type (Etype (First_Formal (Subp)))\n            and then Present (Alias (Overridden_Subp))\n-           and then Is_Predefined_File_Name\n-             (Unit_File_Name (Get_Source_Unit (Alias (Overridden_Subp))))\n+           and then\n+             Is_Predefined_File_Name\n+               (Unit_File_Name (Get_Source_Unit (Alias (Overridden_Subp))))\n          then\n             Error_Msg_NE (\"subprogram & is not overriding\", Spec, Subp);\n "}, {"sha": "c3b5dc89242509a8538317e6aee114c613a93e58", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd603506f6e92d29abc1f975ad7d356907ba25c2/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd603506f6e92d29abc1f975ad7d356907ba25c2/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=bd603506f6e92d29abc1f975ad7d356907ba25c2", "patch": "@@ -262,6 +262,11 @@ package body Sem_Prag is\n       Preanalyze_Spec_Expression\n         (Get_Pragma_Arg (Arg1), Standard_Boolean);\n \n+      --  For a class-wide condition, a reference to a controlling formal must\n+      --  be interpreted as having the class-wide type (or an access to such)\n+      --  so that the inherited condition can be properly applied to any\n+      --  overriding operation (see ARM12 6.6.1 (7)).\n+\n       if Class_Present (N) then\n          declare\n             T   : constant Entity_Id := Find_Dispatching_Type (S);"}, {"sha": "848643c61d302939e3914bd88a01a640af6d85b2", "filename": "gcc/ada/sem_util.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd603506f6e92d29abc1f975ad7d356907ba25c2/gcc%2Fada%2Fsem_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd603506f6e92d29abc1f975ad7d356907ba25c2/gcc%2Fada%2Fsem_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_util.adb?ref=bd603506f6e92d29abc1f975ad7d356907ba25c2", "patch": "@@ -12747,6 +12747,7 @@ package body Sem_Util is\n       then\n          return Get_Name_String (Name_Standard) & \"__\" &\n            Get_Name_String (Chars (E));\n+\n       elsif Ekind (E) = E_Enumeration_Literal then\n          return Unique_Name (Etype (E)) & \"__\" & Get_Name_String (Chars (E));\n "}]}