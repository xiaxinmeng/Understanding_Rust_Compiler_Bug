{"sha": "693a9117d0f26a4a7ee07783ac3971641429b03b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjkzYTkxMTdkMGYyNmE0YTdlZTA3NzgzYWMzOTcxNjQxNDI5YjAzYg==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2016-05-04T16:42:12Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2016-05-04T16:42:12Z"}, "message": "tree-inline.c (expand_call_inline): Fix path dealing with making lhs of call statement undefined.\n\n\t* tree-inline.c (expand_call_inline): Fix path dealing with\n\tmaking lhs of call statement undefined.\n\nFrom-SVN: r235889", "tree": {"sha": "317c3feee65692b99ede95d089dd1bdd554cfe19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/317c3feee65692b99ede95d089dd1bdd554cfe19"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/693a9117d0f26a4a7ee07783ac3971641429b03b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/693a9117d0f26a4a7ee07783ac3971641429b03b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/693a9117d0f26a4a7ee07783ac3971641429b03b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/693a9117d0f26a4a7ee07783ac3971641429b03b/comments", "author": null, "committer": null, "parents": [{"sha": "6b715bf6d991249181ce532442fa5513e137f708", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b715bf6d991249181ce532442fa5513e137f708", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b715bf6d991249181ce532442fa5513e137f708"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "92da7b52538710b3fbe6d125779c38d5dac5f93d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/693a9117d0f26a4a7ee07783ac3971641429b03b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/693a9117d0f26a4a7ee07783ac3971641429b03b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=693a9117d0f26a4a7ee07783ac3971641429b03b", "patch": "@@ -1,3 +1,8 @@\n+2016-05-04  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* tree-inline.c (expand_call_inline): Fix path dealing with\n+\tmaking lhs of call statement undefined.\n+\n 2016-05-04  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* cgraph.c (cgraph_node::call_for_symbol_thunks_and_aliases):"}, {"sha": "da233b29c4f49b9714826d0afb9ac0c90b0d4dbd", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/693a9117d0f26a4a7ee07783ac3971641429b03b/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/693a9117d0f26a4a7ee07783ac3971641429b03b/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=693a9117d0f26a4a7ee07783ac3971641429b03b", "patch": "@@ -4708,7 +4708,7 @@ expand_call_inline (basic_block bb, gimple *stmt, copy_body_data *id)\n \t{\n \t  tree name = gimple_call_lhs (stmt);\n \t  tree var = SSA_NAME_VAR (name);\n-\t  tree def = ssa_default_def (cfun, var);\n+\t  tree def = var ? ssa_default_def (cfun, var) : NULL;\n \n \t  if (def)\n \t    {\n@@ -4719,6 +4719,11 @@ expand_call_inline (basic_block bb, gimple *stmt, copy_body_data *id)\n \t    }\n \t  else\n \t    {\n+\t      if (!var)\n+\t\t{\n+\t\t  tree var = create_tmp_reg_fn (cfun, TREE_TYPE (name), NULL);\n+\t\t  SET_SSA_NAME_VAR_OR_IDENTIFIER (name, var);\n+\t\t}\n \t      /* Otherwise make this variable undefined.  */\n \t      gsi_remove (&stmt_gsi, true);\n \t      set_ssa_default_def (cfun, var, name);"}]}