{"sha": "74e55d0f8f791d71aa4ac10215126e74277177d1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzRlNTVkMGY4Zjc5MWQ3MWFhNGFjMTAyMTUxMjZlNzQyNzcxNzdkMQ==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2006-07-23T20:14:44Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2006-07-23T20:14:44Z"}, "message": "re PR target/28247 (libstdc++ cannot be build with Solaris threads)\n\n\n\tPR target/28247\n\t* gthr-solaris.h: Prototype __gthrw forms of thr_self, mutex_init and\n\tmutex_destroy even when !_LIBOOBJC.  Remove duplicate prototype of\n\tthe __gthrw form of thr_keycreate.\n\t(__gthread_key_delete): Silence the unused argument warning.\n\nFrom-SVN: r115686", "tree": {"sha": "ed26ed5af6f849ef8b96d7e4bd4a0f12d4f4338b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed26ed5af6f849ef8b96d7e4bd4a0f12d4f4338b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/74e55d0f8f791d71aa4ac10215126e74277177d1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74e55d0f8f791d71aa4ac10215126e74277177d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74e55d0f8f791d71aa4ac10215126e74277177d1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74e55d0f8f791d71aa4ac10215126e74277177d1/comments", "author": null, "committer": null, "parents": [{"sha": "d88259d140c0f82745f460e659b0266fa3eb67f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d88259d140c0f82745f460e659b0266fa3eb67f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d88259d140c0f82745f460e659b0266fa3eb67f7"}], "stats": {"total": 27, "additions": 21, "deletions": 6}, "files": [{"sha": "995e399933493e57743a73949f7befc0926e83f6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74e55d0f8f791d71aa4ac10215126e74277177d1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74e55d0f8f791d71aa4ac10215126e74277177d1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=74e55d0f8f791d71aa4ac10215126e74277177d1", "patch": "@@ -1,3 +1,11 @@\n+2006-07-23  Roger Sayle  <roger@eyesopen.com>\n+\n+\tPR target/28247\n+\t* gthr-solaris.h: Prototype __gthrw forms of thr_self, mutex_init and\n+\tmutex_destroy even when !_LIBOOBJC.  Remove duplicate prototype of\n+\tthe __gthrw form of thr_keycreate.\n+\t(__gthread_key_delete): Silence the unused argument warning.\n+\n 2006-07-23  Steven Bosscher  <steven@gcc.gnu.org>\n \n \tPR debug/25468"}, {"sha": "5665ecdb4b6232d06bc9f338696120084a77d1b8", "filename": "gcc/gthr-solaris.h", "status": "modified", "additions": 13, "deletions": 6, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74e55d0f8f791d71aa4ac10215126e74277177d1/gcc%2Fgthr-solaris.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74e55d0f8f791d71aa4ac10215126e74277177d1/gcc%2Fgthr-solaris.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgthr-solaris.h?ref=74e55d0f8f791d71aa4ac10215126e74277177d1", "patch": "@@ -1,6 +1,6 @@\n /* Threads compatibility routines for libgcc2 and libobjc.  */\n /* Compile this one with gcc.  */\n-/* Copyright (C) 1997, 1999, 2000, 2004, 2005\n+/* Copyright (C) 1997, 1999, 2000, 2004, 2005, 2006\n    Free Software Foundation, Inc.\n \n This file is part of GCC.\n@@ -39,6 +39,12 @@ Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA\n #include <thread.h>\n #include <errno.h>\n \n+#ifdef __cplusplus\n+#define UNUSED(x)\n+#else\n+#define UNUSED(x) x __attribute__((unused))\n+#endif\n+\n typedef thread_key_t __gthread_key_t;\n typedef struct {\n   mutex_t mutex;\n@@ -69,16 +75,17 @@ __gthrw(thr_keycreate)\n __gthrw(thr_getspecific)\n __gthrw(thr_setspecific)\n __gthrw(thr_create)\n+__gthrw(thr_self)\n \n+__gthrw(mutex_init)\n+__gthrw(mutex_destroy)\n __gthrw(mutex_lock)\n __gthrw(mutex_trylock)\n __gthrw(mutex_unlock)\n \n #ifdef _LIBOBJC\n __gthrw(thr_exit)\n-__gthrw(thr_keycreate)\n __gthrw(thr_getprio)\n-__gthrw(thr_self)\n __gthrw(thr_setprio)\n __gthrw(thr_yield)\n \n@@ -88,8 +95,6 @@ __gthrw(cond_wait)\n __gthrw(cond_broadcast)\n __gthrw(cond_signal)\n \n-__gthrw(mutex_init)\n-__gthrw(mutex_destroy)\n #endif\n \n #if SUPPORTS_WEAK && GTHREAD_USE_WEAK\n@@ -434,7 +439,7 @@ __gthread_key_create (__gthread_key_t *key, void (*dtor) (void *))\n }\n \n static inline int\n-__gthread_key_delete (__gthread_key_t key)\n+__gthread_key_delete (__gthread_key_t UNUSED (key))\n {\n   /* Not possible.  */\n   return -1;\n@@ -544,4 +549,6 @@ __gthread_recursive_mutex_unlock (__gthread_recursive_mutex_t *mutex)\n \n #endif /* _LIBOBJC */\n \n+#undef UNUSED\n+\n #endif /* ! GCC_GTHR_SOLARIS_H */"}]}