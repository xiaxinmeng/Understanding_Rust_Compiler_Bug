{"sha": "c2e846b539bb932d7f68f7e6b3e401c361cc3bf3", "node_id": "C_kwDOANBUbNoAKGMyZTg0NmI1MzliYjkzMmQ3ZjY4ZjdlNmIzZTQwMWMzNjFjYzNiZjM", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2021-06-18T09:45:02Z"}, "committer": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2022-05-04T18:45:15Z"}, "message": "c++: use %D more\n\nThere's no reason to call cxx_printable_name_translate here instead of using\n%D in the format string.\n\ngcc/cp/ChangeLog:\n\n\t* error.cc (cp_print_error_function): Use %qD.\n\t(function_category): Use %qD.", "tree": {"sha": "4969052cdefac15959e20764c39fe0abc3a577fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4969052cdefac15959e20764c39fe0abc3a577fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c2e846b539bb932d7f68f7e6b3e401c361cc3bf3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2e846b539bb932d7f68f7e6b3e401c361cc3bf3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2e846b539bb932d7f68f7e6b3e401c361cc3bf3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2e846b539bb932d7f68f7e6b3e401c361cc3bf3/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4a2061610726becfa5158e418c69800f5634b4c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a2061610726becfa5158e418c69800f5634b4c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a2061610726becfa5158e418c69800f5634b4c1"}], "stats": {"total": 29, "additions": 15, "deletions": 14}, "files": [{"sha": "2e9dd2c6abd4e7d1c7dd177cf9fc32635c49e31e", "filename": "gcc/cp/error.cc", "status": "modified", "additions": 15, "deletions": 14, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2e846b539bb932d7f68f7e6b3e401c361cc3bf3/gcc%2Fcp%2Ferror.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2e846b539bb932d7f68f7e6b3e401c361cc3bf3/gcc%2Fcp%2Ferror.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ferror.cc?ref=c2e846b539bb932d7f68f7e6b3e401c361cc3bf3", "patch": "@@ -3543,7 +3543,7 @@ cp_print_error_function (diagnostic_context *context,\n \t    fndecl = current_function_decl;\n \n \t  pp_printf (context->printer, function_category (fndecl),\n-\t\t     cxx_printable_name_translate (fndecl, 2));\n+\t\t     fndecl);\n \n \t  while (abstract_origin)\n \t    {\n@@ -3587,19 +3587,19 @@ cp_print_error_function (diagnostic_context *context,\n \t\t    {\n \t\t      if (context->show_column && s.column != 0)\n \t\t\tpp_printf (context->printer,\n-\t\t\t\t   _(\"    inlined from %qs at %r%s:%d:%d%R\"),\n-\t\t\t\t   cxx_printable_name_translate (fndecl, 2),\n+\t\t\t\t   _(\"    inlined from %qD at %r%s:%d:%d%R\"),\n+\t\t\t\t   fndecl,\n \t\t\t\t   \"locus\", s.file, s.line, s.column);\n \t\t      else\n \t\t\tpp_printf (context->printer,\n-\t\t\t\t   _(\"    inlined from %qs at %r%s:%d%R\"),\n-\t\t\t\t   cxx_printable_name_translate (fndecl, 2),\n+\t\t\t\t   _(\"    inlined from %qD at %r%s:%d%R\"),\n+\t\t\t\t   fndecl,\n \t\t\t\t   \"locus\", s.file, s.line);\n \n \t\t    }\n \t\t  else\n-\t\t    pp_printf (context->printer, _(\"    inlined from %qs\"),\n-\t\t\t       cxx_printable_name_translate (fndecl, 2));\n+\t\t    pp_printf (context->printer, _(\"    inlined from %qD\"),\n+\t\t\t       fndecl);\n \t\t}\n \t    }\n \t  pp_character (context->printer, ':');\n@@ -3613,7 +3613,8 @@ cp_print_error_function (diagnostic_context *context,\n }\n \n /* Returns a description of FUNCTION using standard terminology.  The\n-   result is a format string of the form \"In CATEGORY %qs\".  */\n+   result is a format string of the form \"In CATEGORY %qD\".  */\n+\n static const char *\n function_category (tree fn)\n {\n@@ -3624,20 +3625,20 @@ function_category (tree fn)\n       && DECL_FUNCTION_MEMBER_P (fn))\n     {\n       if (DECL_STATIC_FUNCTION_P (fn))\n-\treturn _(\"In static member function %qs\");\n+\treturn _(\"In static member function %qD\");\n       else if (DECL_COPY_CONSTRUCTOR_P (fn))\n-\treturn _(\"In copy constructor %qs\");\n+\treturn _(\"In copy constructor %qD\");\n       else if (DECL_CONSTRUCTOR_P (fn))\n-\treturn _(\"In constructor %qs\");\n+\treturn _(\"In constructor %qD\");\n       else if (DECL_DESTRUCTOR_P (fn))\n-\treturn _(\"In destructor %qs\");\n+\treturn _(\"In destructor %qD\");\n       else if (LAMBDA_FUNCTION_P (fn))\n \treturn _(\"In lambda function\");\n       else\n-\treturn _(\"In member function %qs\");\n+\treturn _(\"In member function %qD\");\n     }\n   else\n-    return _(\"In function %qs\");\n+    return _(\"In function %qD\");\n }\n \n /* Disable warnings about missing quoting in GCC diagnostics for"}]}