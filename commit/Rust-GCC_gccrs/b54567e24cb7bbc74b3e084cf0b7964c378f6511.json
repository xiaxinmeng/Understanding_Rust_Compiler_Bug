{"sha": "b54567e24cb7bbc74b3e084cf0b7964c378f6511", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjU0NTY3ZTI0Y2I3YmJjNzRiM2UwODRjZjBiNzk2NGMzNzhmNjUxMQ==", "commit": {"author": {"name": "Roman Zippel", "email": "zippel@linux-m68k.org", "date": "2004-09-02T23:55:09Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-09-02T23:55:09Z"}, "message": "* combine.c (distribute_notes): Don't add REG_LABEL to jump insn.\n\nFrom-SVN: r87002", "tree": {"sha": "bdf6f59108893b04239fa020b9262e283a07cae7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bdf6f59108893b04239fa020b9262e283a07cae7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b54567e24cb7bbc74b3e084cf0b7964c378f6511", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b54567e24cb7bbc74b3e084cf0b7964c378f6511", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b54567e24cb7bbc74b3e084cf0b7964c378f6511", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b54567e24cb7bbc74b3e084cf0b7964c378f6511/comments", "author": null, "committer": null, "parents": [{"sha": "5906d0133520f77a2220aa61abe2ad428ac09e8f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5906d0133520f77a2220aa61abe2ad428ac09e8f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5906d0133520f77a2220aa61abe2ad428ac09e8f"}], "stats": {"total": 24, "additions": 16, "deletions": 8}, "files": [{"sha": "758a33ac9b979e9dd0824ba5bf027d4d95720af2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b54567e24cb7bbc74b3e084cf0b7964c378f6511/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b54567e24cb7bbc74b3e084cf0b7964c378f6511/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b54567e24cb7bbc74b3e084cf0b7964c378f6511", "patch": "@@ -1,3 +1,7 @@\n+2004-09-02  Roman Zippel  <zippel@linux-m68k.org>\n+ \n+\t* combine.c (distribute_notes): Don't add REG_LABEL to jump insn.\n+\n 2004-09-02  Eric Christopher  <echristo@redhat.com>\n \n \t* builtins.c (expand_builtin_cabs): Delete."}, {"sha": "be1a08c2d66f9d649f639aae8542cba3c0d61a2e", "filename": "gcc/combine.c", "status": "modified", "additions": 12, "deletions": 8, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b54567e24cb7bbc74b3e084cf0b7964c378f6511/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b54567e24cb7bbc74b3e084cf0b7964c378f6511/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=b54567e24cb7bbc74b3e084cf0b7964c378f6511", "patch": "@@ -11839,21 +11839,25 @@ distribute_notes (rtx notes, rtx from_insn, rtx i3, rtx i2)\n \t\tplace = i2;\n \t    }\n \n-\t  /* Don't attach REG_LABEL note to a JUMP_INSN which has\n-\t     JUMP_LABEL already.  Instead, decrement LABEL_NUSES.  */\n-\t  if (place && JUMP_P (place) && JUMP_LABEL (place))\n+\t  /* Don't attach REG_LABEL note to a JUMP_INSN.  Add\n+\t     a JUMP_LABEL instead or decrement LABEL_NUSES.  */\n+\t  if (place && JUMP_P (place))\n \t    {\n-\t      if (JUMP_LABEL (place) != XEXP (note, 0))\n+\t      if (!JUMP_LABEL (place))\n+\t\tJUMP_LABEL (place) = XEXP (note, 0);\n+\t      else if (JUMP_LABEL (place) != XEXP (note, 0))\n \t\tabort ();\n-\t      if (LABEL_P (JUMP_LABEL (place)))\n+\t      else if (LABEL_P (JUMP_LABEL (place)))\n \t\tLABEL_NUSES (JUMP_LABEL (place))--;\n \t      place = 0;\n \t    }\n-\t  if (place2 && JUMP_P (place2) && JUMP_LABEL (place2))\n+\t  if (place2 && JUMP_P (place2))\n \t    {\n-\t      if (JUMP_LABEL (place2) != XEXP (note, 0))\n+\t      if (!JUMP_LABEL (place2))\n+\t\tJUMP_LABEL (place2) = XEXP (note, 0);\n+\t      else if (JUMP_LABEL (place2) != XEXP (note, 0))\n \t\tabort ();\n-\t      if (LABEL_P (JUMP_LABEL (place2)))\n+\t      else if (LABEL_P (JUMP_LABEL (place2)))\n \t\tLABEL_NUSES (JUMP_LABEL (place2))--;\n \t      place2 = 0;\n \t    }"}]}