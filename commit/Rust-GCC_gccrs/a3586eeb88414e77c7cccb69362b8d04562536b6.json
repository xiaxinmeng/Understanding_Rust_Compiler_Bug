{"sha": "a3586eeb88414e77c7cccb69362b8d04562536b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTM1ODZlZWI4ODQxNGU3N2M3Y2NjYjY5MzYyYjhkMDQ1NjI1MzZiNg==", "commit": {"author": {"name": "Tobias Burnus", "email": "tobias@codesourcery.com", "date": "2020-03-23T11:25:37Z"}, "committer": {"name": "Tobias Burnus", "email": "tobias@codesourcery.com", "date": "2020-03-23T11:25:37Z"}, "message": "AMDGCN offloading \u2013 use amdgcn-amdhsa\n\n\tgcc/\n\t* doc/install.texi (amdgcn-*-amdhsa): Renamed\n\tfrom amdgcn-unknown-amdhsa; change\n\tamdgcn-unknown-amdhsa to amdgcn-amdhsa.\n\n\tgcc/testsuite/\n\t* lib/target-supports.exp (check_effective_target_offload_gcn):\n\tCheck for -foffload=amdgcn-amdhsa not ...=amdgcn-unknown-amdhsa.", "tree": {"sha": "76ab7e68cf073b3f09d779c8ec3ac8fdbccde653", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/76ab7e68cf073b3f09d779c8ec3ac8fdbccde653"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a3586eeb88414e77c7cccb69362b8d04562536b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3586eeb88414e77c7cccb69362b8d04562536b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3586eeb88414e77c7cccb69362b8d04562536b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3586eeb88414e77c7cccb69362b8d04562536b6/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "26b3e568a60e9fd851efb436531752a5e49e6419", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26b3e568a60e9fd851efb436531752a5e49e6419", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26b3e568a60e9fd851efb436531752a5e49e6419"}], "stats": {"total": 29, "additions": 20, "deletions": 9}, "files": [{"sha": "234afeeb005f11d220883cd1ad074384179a71e6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3586eeb88414e77c7cccb69362b8d04562536b6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3586eeb88414e77c7cccb69362b8d04562536b6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a3586eeb88414e77c7cccb69362b8d04562536b6", "patch": "@@ -1,3 +1,9 @@\n+2020-03-23  Tobias Burnus  <tobias@codesourcery.com>\n+\n+\t* doc/install.texi (amdgcn-*-amdhsa): Renamed\n+\tfrom amdgcn-unknown-amdhsa; change\n+\tamdgcn-unknown-amdhsa to amdgcn-amdhsa.\n+\n 2020-03-23  Richard Biener  <rguenther@suse.de>\n \n \tPR ipa/94245"}, {"sha": "559610802be33421ed87e19c2778f6910ea20fe4", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3586eeb88414e77c7cccb69362b8d04562536b6/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3586eeb88414e77c7cccb69362b8d04562536b6/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=a3586eeb88414e77c7cccb69362b8d04562536b6", "patch": "@@ -3572,22 +3572,22 @@ This is a synonym for @samp{x86_64-*-solaris2*}.\n @html\n <hr />\n @end html\n-@anchor{amdgcn-unknown-amdhsa}\n-@heading amdgcn-unknown-amdhsa\n+@anchor{amdgcn-x-amdhsa}\n+@heading amdgcn-*-amdhsa\n AMD GCN GPU target.\n \n Instead of GNU Binutils, you will need to install LLVM 6, or later, and copy\n-@file{bin/llvm-mc} to @file{amdgcn-unknown-amdhsa/bin/as},\n-@file{bin/lld} to @file{amdgcn-unknown-amdhsa/bin/ld},\n-@file{bin/llvm-nm} to @file{amdgcn-unknown-amdhsa/bin/nm}, and\n-@file{bin/llvm-ar} to both @file{bin/amdgcn-unknown-amdhsa-ar} and\n-@file{bin/amdgcn-unknown-amdhsa-ranlib}.\n+@file{bin/llvm-mc} to @file{amdgcn-amdhsa/bin/as},\n+@file{bin/lld} to @file{amdgcn-amdhsa/bin/ld},\n+@file{bin/llvm-nm} to @file{amdgcn-amdhsa/bin/nm}, and\n+@file{bin/llvm-ar} to both @file{bin/amdgcn-amdhsa-ar} and\n+@file{bin/amdgcn-amdhsa-ranlib}.\n \n Use Newlib (2019-01-16, or newer).\n \n To run the binaries, install the HSA Runtime from the\n @uref{https://rocm.github.io,,ROCm Platform}, and use\n-@file{libexec/gcc/amdhsa-unknown-amdhsa/@var{version}/gcn-run} to launch them\n+@file{libexec/gcc/amdhsa-amdhsa/@var{version}/gcn-run} to launch them\n on the GPU.\n \n @html"}, {"sha": "558a8c622dff04d3c2820d3aaacb3364149ecd11", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3586eeb88414e77c7cccb69362b8d04562536b6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3586eeb88414e77c7cccb69362b8d04562536b6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a3586eeb88414e77c7cccb69362b8d04562536b6", "patch": "@@ -1,3 +1,8 @@\n+2020-03-23  Tobias Burnus  <tobias@codesourcery.com>\n+\n+\t* lib/target-supports.exp (check_effective_target_offload_gcn):\n+\tCheck for -foffload=amdgcn-amdhsa not ...=amdgcn-unknown-amdhsa.\n+\n 2020-03-22  Iain Buclaw  <ibuclaw@gdcproject.org>\n \n \tPR d/93038"}, {"sha": "58919a31a009f8202d746a654093d32de1bdf987", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3586eeb88414e77c7cccb69362b8d04562536b6/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3586eeb88414e77c7cccb69362b8d04562536b6/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=a3586eeb88414e77c7cccb69362b8d04562536b6", "patch": "@@ -9562,7 +9562,7 @@ proc check_effective_target_offload_hsa { } {\n proc check_effective_target_offload_gcn { } {\n     return [check_no_compiler_messages offload_gcn assembly {\n \tint main () {return 0;}\n-    } \"-foffload=amdgcn-unknown-amdhsa\" ]\n+    } \"-foffload=amdgcn-amdhsa\" ]\n }\n \n # Return 1 if the target support -fprofile-update=atomic"}]}