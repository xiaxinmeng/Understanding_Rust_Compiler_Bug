{"sha": "b5870beeee4a54ffbbc0d7fa75ffe74c6804b09e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjU4NzBiZWVlZTRhNTRmZmJiYzBkN2ZhNzVmZmU3NGM2ODA0YjA5ZQ==", "commit": {"author": {"name": "Aldy Hernandez", "email": "aldyh@gcc.gnu.org", "date": "2005-02-02T21:55:32Z"}, "committer": {"name": "Aldy Hernandez", "email": "aldyh@gcc.gnu.org", "date": "2005-02-02T21:55:32Z"}, "message": "rs6000.c (rs6000_spe_function_arg): Multi-reg arguments go on the stack.\n\n\t* config/rs6000/rs6000.c (rs6000_spe_function_arg): Multi-reg\n\targuments go on the stack.  Do not put complex doubles in odd/even\n\tpairs.\n\nFrom-SVN: r94617", "tree": {"sha": "3dc39e65d74e62e3e7f92a5aa0b31c606c092e21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3dc39e65d74e62e3e7f92a5aa0b31c606c092e21"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5870beeee4a54ffbbc0d7fa75ffe74c6804b09e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5870beeee4a54ffbbc0d7fa75ffe74c6804b09e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5870beeee4a54ffbbc0d7fa75ffe74c6804b09e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5870beeee4a54ffbbc0d7fa75ffe74c6804b09e/comments", "author": null, "committer": null, "parents": [{"sha": "cf676baa3c17d4d427002e1766756f98398c9a29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf676baa3c17d4d427002e1766756f98398c9a29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf676baa3c17d4d427002e1766756f98398c9a29"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "4406f1b10ec94d5112b01c038ad1207e7a1ee66f", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5870beeee4a54ffbbc0d7fa75ffe74c6804b09e/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5870beeee4a54ffbbc0d7fa75ffe74c6804b09e/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=b5870beeee4a54ffbbc0d7fa75ffe74c6804b09e", "patch": "@@ -5170,11 +5170,14 @@ rs6000_spe_function_arg (CUMULATIVE_ARGS *cum, enum machine_mode mode,\n      are passed and returned in a pair of GPRs for ABI compatibility.  */\n   if (TARGET_E500_DOUBLE && (mode == DFmode || mode == DCmode))\n     {\n+      int n_words = rs6000_arg_size (mode, type);\n+\n       /* Doubles go in an odd/even register pair (r5/r6, etc).  */\n-      gregno += (1 - gregno) & 1;\n+      if (mode == DFmode)\n+\tgregno += (1 - gregno) & 1;\n \n-      /* We do not split between registers and stack.  */\n-      if (gregno + 1 > GP_ARG_MAX_REG)\n+      /* Multi-reg args are not split between registers and stack.  */\n+      if (gregno + n_words - 1 > GP_ARG_MAX_REG)\n \treturn NULL_RTX;\n \n       return spe_build_register_parallel (mode, gregno);"}]}