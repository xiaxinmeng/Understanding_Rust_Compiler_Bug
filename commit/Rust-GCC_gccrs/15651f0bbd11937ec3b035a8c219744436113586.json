{"sha": "15651f0bbd11937ec3b035a8c219744436113586", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTU2NTFmMGJiZDExOTM3ZWMzYjAzNWE4YzIxOTc0NDQzNjExMzU4Ng==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2009-09-20T20:05:00Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2009-09-20T20:05:00Z"}, "message": "re PR tree-optimization/40642 (ICE with -fprofile-generate)\n\n2009-09-20  Andrew Pinski  <pinskia@gcc.gnu.org>\n\n        PR middle-end/40642\n        * g++.dg/torture/pr40642.C: New testcase.\n\nFrom-SVN: r151907", "tree": {"sha": "ee735cfa14ff6a5dc80e37e189c52b79327d6946", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ee735cfa14ff6a5dc80e37e189c52b79327d6946"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/15651f0bbd11937ec3b035a8c219744436113586", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15651f0bbd11937ec3b035a8c219744436113586", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15651f0bbd11937ec3b035a8c219744436113586", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15651f0bbd11937ec3b035a8c219744436113586/comments", "author": null, "committer": null, "parents": [{"sha": "1dbb24a3f3bddb4d6934c9bf36311ecd2e608660", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1dbb24a3f3bddb4d6934c9bf36311ecd2e608660", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1dbb24a3f3bddb4d6934c9bf36311ecd2e608660"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "5dd2a729c1f1c9658d85d5abaa41a756d1596a81", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15651f0bbd11937ec3b035a8c219744436113586/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15651f0bbd11937ec3b035a8c219744436113586/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=15651f0bbd11937ec3b035a8c219744436113586", "patch": "@@ -1,3 +1,8 @@\n+2009-09-20  Andrew Pinski  <pinskia@gcc.gnu.org>\n+\n+\tPR middle-end/40642\n+\t* g++.dg/torture/pr40642.C: New testcase.\n+\n 2009-09-20  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* gcc.dg/torture/builtin-math-7.c: Update for testing Annex G"}, {"sha": "3f545a89037e046aeff7cc119680cab5db7ec552", "filename": "gcc/testsuite/g++.dg/torture/pr40642.C", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15651f0bbd11937ec3b035a8c219744436113586/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr40642.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15651f0bbd11937ec3b035a8c219744436113586/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr40642.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr40642.C?ref=15651f0bbd11937ec3b035a8c219744436113586", "patch": "@@ -0,0 +1,26 @@\n+// { dg-do compile }\n+// { dg-options \"-fprofile-generate\" }\n+\n+// GCC used to ICE with some EH edge missing.\n+\n+inline void* operator new(__SIZE_TYPE__, void* p) throw() { return p; }\n+inline void operator delete (void*, void*) throw() { }\n+\n+template<typename T> void foo(void* p, T t)\n+{\n+  new(p) T(t);\n+}\n+\n+void bar();\n+\n+template<typename T> struct A\n+{\n+  T* p;\n+\n+  A() { try { foo(p, T()); } catch(...) {} }\n+\n+  A(const A&) { try { bar(); } catch(...) { throw; } }\n+};\n+\n+A<A<int> > a;\n+"}]}