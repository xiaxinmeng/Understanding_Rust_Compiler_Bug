{"sha": "3e720c9601e26585c386c983084fdc2926902936", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2U3MjBjOTYwMWUyNjU4NWMzODZjOTgzMDg0ZmRjMjkyNjkwMjkzNg==", "commit": {"author": {"name": "Hristian Kirtchev", "email": "kirtchev@adacore.com", "date": "2017-09-06T09:31:46Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2017-09-06T09:31:46Z"}, "message": "exp_util.adb, [...]: Minor reformatting.\n\n2017-09-06  Hristian Kirtchev  <kirtchev@adacore.com>\n\n\t* exp_util.adb, einfo.adb, sem_attr.adb, exp_ch4.adb, gnatls.adb,\n\texp_ch3.adb, xoscons.adb: Minor reformatting.\n\nFrom-SVN: r251758", "tree": {"sha": "3c64ea77f5ea643df0973229e1dd0eb9f80eca78", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3c64ea77f5ea643df0973229e1dd0eb9f80eca78"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3e720c9601e26585c386c983084fdc2926902936", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e720c9601e26585c386c983084fdc2926902936", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e720c9601e26585c386c983084fdc2926902936", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e720c9601e26585c386c983084fdc2926902936/comments", "author": {"login": "kirtchev-adacore", "id": 60669983, "node_id": "MDQ6VXNlcjYwNjY5OTgz", "avatar_url": "https://avatars.githubusercontent.com/u/60669983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kirtchev-adacore", "html_url": "https://github.com/kirtchev-adacore", "followers_url": "https://api.github.com/users/kirtchev-adacore/followers", "following_url": "https://api.github.com/users/kirtchev-adacore/following{/other_user}", "gists_url": "https://api.github.com/users/kirtchev-adacore/gists{/gist_id}", "starred_url": "https://api.github.com/users/kirtchev-adacore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kirtchev-adacore/subscriptions", "organizations_url": "https://api.github.com/users/kirtchev-adacore/orgs", "repos_url": "https://api.github.com/users/kirtchev-adacore/repos", "events_url": "https://api.github.com/users/kirtchev-adacore/events{/privacy}", "received_events_url": "https://api.github.com/users/kirtchev-adacore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f8159014019f2aa3b3e53970732d087dd93fc432", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8159014019f2aa3b3e53970732d087dd93fc432", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8159014019f2aa3b3e53970732d087dd93fc432"}], "stats": {"total": 84, "additions": 49, "deletions": 35}, "files": [{"sha": "1695362fac4a6ae3f0ae0074746a03ef6269c3a4", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=3e720c9601e26585c386c983084fdc2926902936", "patch": "@@ -1,3 +1,8 @@\n+2017-09-06  Hristian Kirtchev  <kirtchev@adacore.com>\n+\n+\t* exp_util.adb, einfo.adb, sem_attr.adb, exp_ch4.adb, gnatls.adb,\n+\texp_ch3.adb, xoscons.adb: Minor reformatting.\n+\n 2017-09-06  Raphael Amiard  <amiard@adacore.com>\n \n \t* a-chtgop.ads, a-chtgop.adb: Add versions of First and Next with"}, {"sha": "25af42e838d6b693f6a79e56c4935963cb985958", "filename": "gcc/ada/einfo.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2Feinfo.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2Feinfo.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feinfo.adb?ref=3e720c9601e26585c386c983084fdc2926902936", "patch": "@@ -7132,7 +7132,7 @@ package body Einfo is\n       loop\n          if Nkind_In (P, N_Selected_Component, N_Expanded_Name)\n            or else (Nkind (P) = N_Defining_Program_Unit_Name\n-                    and then Is_Child_Unit (Id))\n+                     and then Is_Child_Unit (Id))\n          then\n             P := Parent (P);\n          else"}, {"sha": "d76aa71184a64d6cf3f3de672f87d365100d4e6a", "filename": "gcc/ada/exp_ch3.adb", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2Fexp_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2Fexp_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch3.adb?ref=3e720c9601e26585c386c983084fdc2926902936", "patch": "@@ -7556,12 +7556,12 @@ package body Exp_Ch3 is\n \n       --  Do not generate invariant procedure within other assertion\n       --  subprograms, which may involve local declarations of local\n-      --  subtypes to which these checks don't apply.\n+      --  subtypes to which these checks do not apply.\n \n       elsif Has_Invariants (Def_Id) then\n          if Within_Internal_Subprogram\n-          or else (Ekind (Current_Scope) = E_Function\n-                    and then Is_Predicate_Function (Current_Scope))\n+           or else (Ekind (Current_Scope) = E_Function\n+                     and then Is_Predicate_Function (Current_Scope))\n          then\n             null;\n          else"}, {"sha": "bda0efef86a7a759ad17dd07c3b63b1167ea97fb", "filename": "gcc/ada/exp_ch4.adb", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2Fexp_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2Fexp_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch4.adb?ref=3e720c9601e26585c386c983084fdc2926902936", "patch": "@@ -4061,6 +4061,7 @@ package body Exp_Ch4 is\n                 New_Copy_Tree (Right_Opnd (N))));\n             Set_Left_Opnd (Mod_Expr,\n               Unchecked_Convert_To (Standard_Integer, Op_Expr));\n+\n          else\n             Set_Left_Opnd (Op_Expr,\n               Unchecked_Convert_To (Standard_Integer,\n@@ -4157,6 +4158,7 @@ package body Exp_Ch4 is\n             Expand_Modular_Subtraction;\n \n          when N_Op_Minus =>\n+\n             --  Expand -expr into (0 - expr)\n \n             Rewrite (N,"}, {"sha": "bcdd92af93f3819d59dfa34acd560e6bc1e6df43", "filename": "gcc/ada/exp_util.adb", "status": "modified", "additions": 10, "deletions": 11, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2Fexp_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2Fexp_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_util.adb?ref=3e720c9601e26585c386c983084fdc2926902936", "patch": "@@ -823,6 +823,7 @@ package body Exp_Util is\n                Flag_Id   : constant Entity_Id := Make_Temporary (Loc, 'F');\n                Flag_Expr : Node_Id;\n                Param     : Node_Id;\n+               Pref      : Node_Id;\n                Temp      : Node_Id;\n \n             begin\n@@ -877,19 +878,17 @@ package body Exp_Util is\n                   --  in the code that follows.\n \n                   else\n-                     if\n-                       Nkind (Parent (Temp)) = N_Unchecked_Type_Conversion\n+                     Pref := Temp;\n+\n+                     if Nkind (Parent (Pref)) = N_Unchecked_Type_Conversion\n                      then\n-                        Param :=\n-                          Make_Attribute_Reference (Loc,\n-                            Prefix         => Relocate_Node (Parent (Temp)),\n-                            Attribute_Name => Name_Tag);\n-                     else\n-                        Param :=\n-                          Make_Attribute_Reference (Loc,\n-                            Prefix         => Relocate_Node (Temp),\n-                            Attribute_Name => Name_Tag);\n+                        Pref := Parent (Pref);\n                      end if;\n+\n+                     Param :=\n+                       Make_Attribute_Reference (Loc,\n+                         Prefix         => Relocate_Node (Pref),\n+                         Attribute_Name => Name_Tag);\n                   end if;\n \n                   --  Generate:"}, {"sha": "fe62b7b71d791b37e15dbff19cbaeff306f6ad59", "filename": "gcc/ada/gnatls.adb", "status": "modified", "additions": 18, "deletions": 12, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2Fgnatls.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2Fgnatls.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatls.adb?ref=3e720c9601e26585c386c983084fdc2926902936", "patch": "@@ -1232,7 +1232,7 @@ procedure Gnatls is\n \n       Uninitialized_Prefix : constant String := '#' & Path_Separator;\n       --  Prefix to indicate that the project path has not been initialized\n-      --  yet. Must be two characters long\n+      --  yet. Must be two characters long.\n \n       ---------------------\n       -- Add_Directories --\n@@ -1244,6 +1244,7 @@ procedure Gnatls is\n          Prepend : Boolean := False)\n       is\n          Tmp : String_Access;\n+\n       begin\n          if Self = null then\n             Self := new String'(Uninitialized_Prefix & Path);\n@@ -1256,7 +1257,6 @@ procedure Gnatls is\n             end if;\n             Free (Tmp);\n          end if;\n-\n       end Add_Directories;\n \n       -------------------------------------\n@@ -1306,6 +1306,7 @@ procedure Gnatls is\n                 else\n                   (1 => Directory_Separator));\n             --  Note: Target_Name has a trailing / when it comes from Sdefault\n+\n          begin\n             Add_Str_To_Name_Buffer\n               (Path_Separator & Prefix.all & Target_Name & Extra_Sep & Suffix);\n@@ -1315,15 +1316,15 @@ procedure Gnatls is\n \n       begin\n          if Self /= null\n-            and then (Self'Length = 0\n+           and then (Self'Length = 0\n                       or else Self (Self'First) /= '#')\n          then\n             return;\n          end if;\n \n          --  The current directory is always first in the search path. Since\n-         --  the Project_Path currently starts with '#:' as a sign that it\n-         --  isn't initialized, we simply replace '#' with '.'\n+         --  the Project_Path currently starts with '#:' as a sign that it is\n+         --  not initialized, we simply replace '#' with '.'\n \n          if Self = null then\n             Self := new String'('.' & Path_Separator);\n@@ -1342,12 +1343,12 @@ procedure Gnatls is\n          Ada_Prj_Path      := Getenv (Ada_Project_Path);\n \n          if Gpr_Prj_Path_File.all /= \"\" then\n-\n             FD := Open_Read (Gpr_Prj_Path_File.all, GNAT.OS_Lib.Text);\n \n             if FD = Invalid_FD then\n-               Osint.Fail (\"warning: could not read project path file \"\"\" &\n-                           Gpr_Prj_Path_File.all & \"\"\"\");\n+               Osint.Fail\n+                 (\"warning: could not read project path file \"\"\"\n+                  & Gpr_Prj_Path_File.all & \"\"\"\");\n             end if;\n \n             Len := Integer (File_Length (FD));\n@@ -1448,8 +1449,7 @@ procedure Gnatls is\n                Add_Default_Dir := False;\n \n                for J in Last + 1 .. Name_Len loop\n-                  Name_Buffer (J - 2) :=\n-                    Name_Buffer (J);\n+                  Name_Buffer (J - 2) := Name_Buffer (J);\n                end loop;\n \n                Name_Len := Name_Len - 2;\n@@ -1515,11 +1515,13 @@ procedure Gnatls is\n                      if Base_Name (Runtime_Name) = Runtime_Name then\n \n                         --  $prefix/$target/$runtime/lib/gnat\n+\n                         Add_Target\n                           (Runtime_Name & Directory_Separator &\n                            \"lib\" & Directory_Separator & \"gnat\");\n \n                         --  $prefix/$target/$runtime/share/gpr\n+\n                         Add_Target\n                           (Runtime_Name & Directory_Separator &\n                              \"share\" & Directory_Separator & \"gpr\");\n@@ -1529,22 +1531,26 @@ procedure Gnatls is\n                           new String'(Normalize_Pathname (Runtime_Name));\n \n                         --  $runtime_dir/lib/gnat\n+\n                         Add_Str_To_Name_Buffer\n                           (Path_Separator & Runtime.all & Directory_Separator &\n                            \"lib\" & Directory_Separator & \"gnat\");\n \n                         --  $runtime_dir/share/gpr\n+\n                         Add_Str_To_Name_Buffer\n                           (Path_Separator & Runtime.all & Directory_Separator &\n                            \"share\" & Directory_Separator & \"gpr\");\n                      end if;\n                   end if;\n \n                   --  $prefix/$target/lib/gnat\n+\n                   Add_Target\n                     (\"lib\" & Directory_Separator & \"gnat\");\n \n                   --  $prefix/$target/share/gpr\n+\n                   Add_Target\n                     (\"share\" & Directory_Separator & \"gpr\");\n                end if;\n@@ -1589,8 +1595,8 @@ procedure Gnatls is\n             end if;\n \n          else\n-            --  Because we don't want to resolve symbolic links, we cannot\n-            --  use Locate_Regular_File. So, we try each possible path\n+            --  Because we do not want to resolve symbolic links, we cannot\n+            --  use Locate_Regular_File. Instead we try each possible path\n             --  successively.\n \n             First := Self'First;"}, {"sha": "18107fc2e5ed8b7c67526c16604c710bab59bdd3", "filename": "gcc/ada/sem_attr.adb", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2Fsem_attr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2Fsem_attr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_attr.adb?ref=3e720c9601e26585c386c983084fdc2926902936", "patch": "@@ -3763,21 +3763,23 @@ package body Sem_Attr is\n       --------------\n \n       when Attribute_Enum_Rep =>\n+\n          --  T'Enum_Rep (X) case\n \n          if Present (E1) then\n             Check_E1;\n             Check_Discrete_Type;\n             Resolve (E1, P_Base_Type);\n \n-         --  X'Enum_Rep case.  X must be an object or enumeration literal, and\n+         --  X'Enum_Rep case. X must be an object or enumeration literal, and\n          --  it must be of a discrete type.\n \n-         elsif not ((Is_Object_Reference (P)\n-                       or else (Is_Entity_Name (P)\n-                                  and then Ekind (Entity (P)) =\n-                                             E_Enumeration_Literal))\n-                    and then Is_Discrete_Type (Etype (P)))\n+         elsif not\n+           ((Is_Object_Reference (P)\n+               or else\n+                 (Is_Entity_Name (P)\n+                    and then Ekind (Entity (P)) = E_Enumeration_Literal))\n+             and then Is_Discrete_Type (Etype (P)))\n          then\n             Error_Attr_P (\"prefix of % attribute must be discrete object\");\n          end if;"}, {"sha": "d1e4b249f08de53ad57ad6f71fb55d0e5392fe37", "filename": "gcc/ada/xoscons.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2Fxoscons.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e720c9601e26585c386c983084fdc2926902936/gcc%2Fada%2Fxoscons.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fxoscons.adb?ref=3e720c9601e26585c386c983084fdc2926902936", "patch": "@@ -152,8 +152,8 @@ procedure XOSCons is\n    --  True if S contains Tmpl_Name, possibly with different casing\n \n    function Spaces (Count : Integer) return String;\n-   --  If Count is positive, return a string of Count spaces, else return an\n-   --  empty string.\n+   --  If Count is positive, return a string of Count spaces, else return\n+   --  an empty string.\n \n    ---------\n    -- \">\" --"}]}