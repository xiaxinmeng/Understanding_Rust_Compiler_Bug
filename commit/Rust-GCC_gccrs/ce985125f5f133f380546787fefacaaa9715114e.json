{"sha": "ce985125f5f133f380546787fefacaaa9715114e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2U5ODUxMjVmNWYxMzNmMzgwNTQ2Nzg3ZmVmYWNhYWE5NzE1MTE0ZQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2003-01-07T11:56:25Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2003-01-07T11:56:25Z"}, "message": "test_summary (configflags): Compute correctly with both autoconfiscated and Cygnus-style top-level.\n\n* test_summary (configflags): Compute correctly with both\nautoconfiscated and Cygnus-style top-level.\n\nFrom-SVN: r60991", "tree": {"sha": "f1eb3af16f1ca5afde4722dc81b10c47b84617a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f1eb3af16f1ca5afde4722dc81b10c47b84617a2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce985125f5f133f380546787fefacaaa9715114e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce985125f5f133f380546787fefacaaa9715114e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce985125f5f133f380546787fefacaaa9715114e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce985125f5f133f380546787fefacaaa9715114e/comments", "author": null, "committer": null, "parents": [{"sha": "83282119ef1d93e17a49f27a7cc5814aabc7c35c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83282119ef1d93e17a49f27a7cc5814aabc7c35c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83282119ef1d93e17a49f27a7cc5814aabc7c35c"}], "stats": {"total": 20, "additions": 14, "deletions": 6}, "files": [{"sha": "50d3405a81cc14182f47d128540dbf60cded65e8", "filename": "contrib/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce985125f5f133f380546787fefacaaa9715114e/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce985125f5f133f380546787fefacaaa9715114e/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=ce985125f5f133f380546787fefacaaa9715114e", "patch": "@@ -1,3 +1,8 @@\n+2003-01-07  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* test_summary (configflags): Compute correctly with both\n+\tautoconfiscated and Cygnus-style top-level.\n+\n 2003-01-03  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* gcc_update (files_and_dependencies): Add gcc/cp/cfns.h depends"}, {"sha": "377f9e5df0dbc1715fe13262a261fd9be4078215", "filename": "contrib/test_summary", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce985125f5f133f380546787fefacaaa9715114e/contrib%2Ftest_summary", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce985125f5f133f380546787fefacaaa9715114e/contrib%2Ftest_summary", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Ftest_summary?ref=ce985125f5f133f380546787fefacaaa9715114e", "patch": "@@ -94,16 +94,19 @@ BEGIN {\n   print \"cat <<'\"'\"'EOF'\"'\"' |\";\n '${prepend_logs+\"  system(\\\"cat $prepend_logs\\\"); \"}'\n }\n-$1 ~ /\\/configure$/ {\n-    srcdir = $1;\n-    gsub(/\\/configure$/, \"\", srcdir);\n+$0 ~ /^(|# )[^ ]*\\/configure / {\n+    configflags = $0 \" \";\n+    gsub(/^# /, \"\", configflags);\n+    srcdir = configflags;\n+    gsub(/\\/configure .*/, \"\", srcdir);\n     printf \"LAST_UPDATED: \";\n     system(\"tail -1 \" srcdir \"/LAST_UPDATED\");\n     print \"\";\n \n-    $1 = \"configure flags:\"; configflags = $0;\n-    gsub(/--with-gcc-version-trigger=[^ ]* /, \"\", configflags);\n-    gsub(/ --norecursion/, \"\", configflags)\n+    gsub(/^[^ ]*\\/configure /, \"configure flags: \", configflags);\n+    gsub(/ --with-gcc-version-trigger=[^ ]* /, \" \", configflags);\n+    gsub(/ --norecursion /, \" \", configflags);\n+    gsub(/ $/, \"\", configflags);\n }\n /^Running target / { print \"\"; print; }\n /^Target / { if (host != \"\") next; else host = $3; }"}]}