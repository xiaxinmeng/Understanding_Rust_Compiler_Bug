{"sha": "aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWExMmFiMmU5M2I2ZmQ3YzBjNTI5MjUwNGIwYmJlMmRkMzA0ZTVlZA==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2020-04-22T21:54:34Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2020-04-22T21:54:34Z"}, "message": "libstdc++: Update value of __cpp_lib_jthread macro\n\n\t* include/std/condition_variable (__cpp_lib_jthread): Remove\n\tredundant definition.\n\t* include/std/stop_token (__cpp_lib_jthread): Update macro value to\n\tindicate P1869R1 support.\n\t* include/std/version (__cpp_lib_jthread): Update value.\n\t* testsuite/30_threads/condition_variable_any/stop_token/1.cc: Check\n\tfor updated macro value.\n\t* testsuite/30_threads/condition_variable_any/stop_token/2.cc:\n\tLikewise.\n\t* testsuite/30_threads/jthread/1.cc: Likewise.\n\t* testsuite/30_threads/jthread/2.cc: Likewise.\n\t* testsuite/30_threads/stop_token/1.cc: Likewise.\n\t* testsuite/30_threads/stop_token/2.cc: Likewise.", "tree": {"sha": "a084f64664f0d9aac7d2929363322eaec52568b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a084f64664f0d9aac7d2929363322eaec52568b8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "72d0ef73d2cd46bda2f28e1866d637cfe8edb208", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72d0ef73d2cd46bda2f28e1866d637cfe8edb208", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72d0ef73d2cd46bda2f28e1866d637cfe8edb208"}], "stats": {"total": 33, "additions": 23, "deletions": 10}, "files": [{"sha": "dc0b1eecfb07b7a2b84867f733a7d544cd07d864", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed", "patch": "@@ -1,5 +1,19 @@\n 2020-04-22  Jonathan Wakely  <jwakely@redhat.com>\n \n+\t* include/std/condition_variable (__cpp_lib_jthread): Remove\n+\tredundant definition.\n+\t* include/std/stop_token (__cpp_lib_jthread): Update macro value to\n+\tindicate P1869R1 support.\n+\t* include/std/version (__cpp_lib_jthread): Update value.\n+\t* testsuite/30_threads/condition_variable_any/stop_token/1.cc: Check\n+\tfor updated macro value.\n+\t* testsuite/30_threads/condition_variable_any/stop_token/2.cc:\n+\tLikewise.\n+\t* testsuite/30_threads/jthread/1.cc: Likewise.\n+\t* testsuite/30_threads/jthread/2.cc: Likewise.\n+\t* testsuite/30_threads/stop_token/1.cc: Likewise.\n+\t* testsuite/30_threads/stop_token/2.cc: Likewise.\n+\n \t* testsuite/21_strings/basic_string/erasure.cc: Check for\n \t__cpp_lib_erase_if macro.\n \t* testsuite/23_containers/deque/erasure.cc: Add header name to #error"}, {"sha": "2db9dff6c31a442491f51da580b8e7aa8860fc51", "filename": "libstdc++-v3/include/std/condition_variable", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fcondition_variable", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fcondition_variable", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fcondition_variable?ref=aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed", "patch": "@@ -47,8 +47,7 @@\n #include <bits/cxxabi_forced.h>\n \n #if __cplusplus > 201703L\n-#define __cpp_lib_jthread 201907L\n-#include <stop_token>\n+# include <stop_token>\n #endif\n \n #if defined(_GLIBCXX_HAS_GTHREADS)"}, {"sha": "847d12f7454e6ef0d7c415d1c07c4d5783f02448", "filename": "libstdc++-v3/include/std/stop_token", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fstop_token", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fstop_token", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fstop_token?ref=aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed", "patch": "@@ -34,7 +34,7 @@\n #include <atomic>\n \n #ifdef _GLIBCXX_HAS_GTHREADS\n-# define __cpp_lib_jthread 201907L\n+# define __cpp_lib_jthread 201911L\n # include <bits/gthr.h>\n # if __has_include(<semaphore>)\n #  include <semaphore>"}, {"sha": "dafb09f982a69e411dc820919df4a88043f2b0c2", "filename": "libstdc++-v3/include/std/version", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fversion", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fversion", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fversion?ref=aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed", "patch": "@@ -191,7 +191,7 @@\n #define __cpp_lib_erase_if 202002L\n #define __cpp_lib_interpolate 201902L\n #ifdef _GLIBCXX_HAS_GTHREADS\n-# define __cpp_lib_jthread 201907L\n+# define __cpp_lib_jthread 201911L\n #endif\n #define __cpp_lib_list_remove_return_type 201806L\n #define __cpp_lib_math_constants 201907L"}, {"sha": "5b71cfb979f6bfd7b69c1b8befd0cd1a7fcdb032", "filename": "libstdc++-v3/testsuite/30_threads/condition_variable_any/stop_token/1.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fcondition_variable_any%2Fstop_token%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fcondition_variable_any%2Fstop_token%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fcondition_variable_any%2Fstop_token%2F1.cc?ref=aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed", "patch": "@@ -22,6 +22,6 @@\n \n #ifndef __cpp_lib_jthread\n # error \"Feature-test macro for jthread missing in <condition_variable>\"\n-#elif __cpp_lib_jthread != 201907L\n+#elif __cpp_lib_jthread != 201911L\n # error \"Feature-test macro for jthread has wrong value in <condition_variable>\"\n #endif"}, {"sha": "0f017e439961cb6fd6cdf69848736e1e994303f7", "filename": "libstdc++-v3/testsuite/30_threads/condition_variable_any/stop_token/2.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fcondition_variable_any%2Fstop_token%2F2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fcondition_variable_any%2Fstop_token%2F2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fcondition_variable_any%2Fstop_token%2F2.cc?ref=aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed", "patch": "@@ -22,6 +22,6 @@\n \n #ifndef __cpp_lib_jthread\n # error \"Feature-test macro for jthread missing in <version>\"\n-#elif __cpp_lib_jthread != 201907L\n+#elif __cpp_lib_jthread != 201911L\n # error \"Feature-test macro for jthread has wrong value in <version>\"\n #endif"}, {"sha": "d7c0a836b8b51c9e2765c4f6904dafff49af35aa", "filename": "libstdc++-v3/testsuite/30_threads/jthread/1.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fjthread%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fjthread%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fjthread%2F1.cc?ref=aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed", "patch": "@@ -23,6 +23,6 @@\n \n #ifndef __cpp_lib_jthread\n # error \"Feature-test macro for jthread missing in <thread>\"\n-#elif __cpp_lib_jthread != 201907L\n+#elif __cpp_lib_jthread != 201911L\n # error \"Feature-test macro for jthread has wrong value in <thread>\"\n #endif"}, {"sha": "4c196c3fe92f82aa436ef82608b00d723eaa40ac", "filename": "libstdc++-v3/testsuite/30_threads/jthread/2.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fjthread%2F2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fjthread%2F2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fjthread%2F2.cc?ref=aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed", "patch": "@@ -23,6 +23,6 @@\n \n #ifndef __cpp_lib_jthread\n # error \"Feature-test macro for jthread missing in <version>\"\n-#elif __cpp_lib_jthread != 201907L\n+#elif __cpp_lib_jthread != 201911L\n # error \"Feature-test macro for jthread has wrong value in <version>\"\n #endif"}, {"sha": "fffff3740c575aa0dc66ebc8afbea9ed2717ac49", "filename": "libstdc++-v3/testsuite/30_threads/stop_token/1.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fstop_token%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fstop_token%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fstop_token%2F1.cc?ref=aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed", "patch": "@@ -22,6 +22,6 @@\n \n #ifndef __cpp_lib_jthread\n # error \"Feature-test macro for jthread missing in <stop_token>\"\n-#elif __cpp_lib_jthread != 201907L\n+#elif __cpp_lib_jthread != 201911L\n # error \"Feature-test macro for jthread has wrong value in <stop_token>\"\n #endif"}, {"sha": "0f017e439961cb6fd6cdf69848736e1e994303f7", "filename": "libstdc++-v3/testsuite/30_threads/stop_token/2.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fstop_token%2F2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fstop_token%2F2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fstop_token%2F2.cc?ref=aa12ab2e93b6fd7c0c5292504b0bbe2dd304e5ed", "patch": "@@ -22,6 +22,6 @@\n \n #ifndef __cpp_lib_jthread\n # error \"Feature-test macro for jthread missing in <version>\"\n-#elif __cpp_lib_jthread != 201907L\n+#elif __cpp_lib_jthread != 201911L\n # error \"Feature-test macro for jthread has wrong value in <version>\"\n #endif"}]}