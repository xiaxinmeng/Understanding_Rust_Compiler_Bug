{"sha": "6e683090d100409a80657cbeb7f741f4f94bfab7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmU2ODMwOTBkMTAwNDA5YTgwNjU3Y2JlYjdmNzQxZjRmOTRiZmFiNw==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2002-06-07T21:32:57Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2002-06-07T21:32:57Z"}, "message": "test for PR 6950\n\nFrom-SVN: r54350", "tree": {"sha": "a2dcdb8f0f24840ab9e2ab2b4f2c958a105e571d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a2dcdb8f0f24840ab9e2ab2b4f2c958a105e571d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6e683090d100409a80657cbeb7f741f4f94bfab7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e683090d100409a80657cbeb7f741f4f94bfab7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e683090d100409a80657cbeb7f741f4f94bfab7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e683090d100409a80657cbeb7f741f4f94bfab7/comments", "author": null, "committer": null, "parents": [{"sha": "ce5c872270e0ffe64308b6544004b0a832cd7d1f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce5c872270e0ffe64308b6544004b0a832cd7d1f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce5c872270e0ffe64308b6544004b0a832cd7d1f"}], "stats": {"total": 40, "additions": 40, "deletions": 0}, "files": [{"sha": "afad78d8cb0dd722ee072dbbade5246a3c23bb9c", "filename": "gcc/testsuite/gcc.dg/20020607-1.c", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e683090d100409a80657cbeb7f741f4f94bfab7/gcc%2Ftestsuite%2Fgcc.dg%2F20020607-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e683090d100409a80657cbeb7f741f4f94bfab7/gcc%2Ftestsuite%2Fgcc.dg%2F20020607-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20020607-1.c?ref=6e683090d100409a80657cbeb7f741f4f94bfab7", "patch": "@@ -0,0 +1,40 @@\n+/* PR middle-end/6950\n+   gcc 3.0.4 mistakenly set lhs.low to 0 at the beginning of the num_eq\n+   expansion; it should use a temporary.\n+/* { dg-do run } */\n+\n+typedef struct cpp_num cpp_num;\n+struct cpp_num\n+{\n+  long high;\n+  long low;\n+  char overflow;\n+};\n+\n+#define num_eq(num1, num2) (num1.low == num2.low && num1.high == num2.high)\n+\n+static cpp_num\n+num_equality_op (lhs, rhs)\n+     cpp_num lhs, rhs;\n+{\n+  lhs.low = num_eq (lhs, rhs);\n+  lhs.high = 0;\n+  lhs.overflow = 0;\n+  return lhs;\n+}\n+\n+int main()\n+{\n+  cpp_num a = { 1, 2 };\n+  cpp_num b = { 3, 4 };\n+\n+  cpp_num result = num_equality_op (a, b);\n+  if (result.low)\n+    return 1;\n+\n+  result = num_equality_op (a, a);\n+  if (!result.low)\n+    return 2;\n+\n+  return 0;\n+}"}]}