{"sha": "ce9d4c6d80126b0d4549e80ddd92bfab017d22f4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2U5ZDRjNmQ4MDEyNmIwZDQ1NDllODBkZGQ5MmJmYWIwMTdkMjJmNA==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1999-03-22T13:11:31Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1999-03-22T13:11:31Z"}, "message": "rtl.h (shallow_copy_rtx): Declare.\n\n\t* rtl.h (shallow_copy_rtx): Declare.\n\t* rtl.c (shallow_copy_rtx): New function.\n\t* reload.c (find_reloads_toplev): Use shallow_copy_rtx instead of\n\tcopy_rtx.\n\nFrom-SVN: r25897", "tree": {"sha": "3dc71ee0033d2efbf9c8a4e8c88dd81a231e3a57", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3dc71ee0033d2efbf9c8a4e8c88dd81a231e3a57"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce9d4c6d80126b0d4549e80ddd92bfab017d22f4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce9d4c6d80126b0d4549e80ddd92bfab017d22f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce9d4c6d80126b0d4549e80ddd92bfab017d22f4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce9d4c6d80126b0d4549e80ddd92bfab017d22f4/comments", "author": null, "committer": null, "parents": [{"sha": "d3c29f99efaa2162cc444dc66c8c488f31dfa88d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3c29f99efaa2162cc444dc66c8c488f31dfa88d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3c29f99efaa2162cc444dc66c8c488f31dfa88d"}], "stats": {"total": 32, "additions": 31, "deletions": 1}, "files": [{"sha": "b44745a34146c59ffdc8a9e1fee5166215e32271", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce9d4c6d80126b0d4549e80ddd92bfab017d22f4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce9d4c6d80126b0d4549e80ddd92bfab017d22f4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ce9d4c6d80126b0d4549e80ddd92bfab017d22f4", "patch": "@@ -1,3 +1,10 @@\n+Mon Mar 22 21:08:59 1999  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* rtl.h (shallow_copy_rtx): Declare.\n+\t* rtl.c (shallow_copy_rtx): New function.\n+\t* reload.c (find_reloads_toplev): Use shallow_copy_rtx instead of\n+\tcopy_rtx.\n+\n Mon Mar 22 10:44:33 1999  Vladimir Makarov  <vmakarov@tofu.to.cygnus.com>\n \n \t* config/h8300/h8300.md (adjust_length): New attribute."}, {"sha": "a68f2efa661b6de13b1b01da3152d325c91179f6", "filename": "gcc/reload.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce9d4c6d80126b0d4549e80ddd92bfab017d22f4/gcc%2Freload.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce9d4c6d80126b0d4549e80ddd92bfab017d22f4/gcc%2Freload.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload.c?ref=ce9d4c6d80126b0d4549e80ddd92bfab017d22f4", "patch": "@@ -4517,7 +4517,7 @@ find_reloads_toplev (x, opnum, type, ind_levels, is_set_dest, insn)\n \t     not to do the change.  */\n \t  if (new_part != XEXP (x, i) && ! CONSTANT_P (new_part) && ! copied)\n \t    {\n-\t      x = copy_rtx (x);\n+\t      x = shallow_copy_rtx (x);\n \t      copied = 1;\n \t    }\n \t  XEXP (x, i) = new_part;"}, {"sha": "6b04bcd82d5da4d60f98b419d6a01f19ea5f31be", "filename": "gcc/rtl.c", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce9d4c6d80126b0d4549e80ddd92bfab017d22f4/gcc%2Frtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce9d4c6d80126b0d4549e80ddd92bfab017d22f4/gcc%2Frtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl.c?ref=ce9d4c6d80126b0d4549e80ddd92bfab017d22f4", "patch": "@@ -488,6 +488,28 @@ copy_most_rtx (orig, may_share)\n     }\n   return copy;\n }\n+\n+/* Create a new copy of an rtx.  Only copy just one level.  */\n+rtx\n+shallow_copy_rtx (orig)\n+     rtx orig;\n+{\n+  register int i;\n+  register char *format_ptr;\n+  register RTX_CODE code = GET_CODE (orig);\n+  register rtx copy = rtx_alloc (code);\n+\n+  PUT_MODE (copy, GET_MODE (orig));\n+  copy->in_struct = orig->in_struct;\n+  copy->volatil = orig->volatil;\n+  copy->unchanging = orig->unchanging;\n+  copy->integrated = orig->integrated;\n+\n+  for (i = 0; i < GET_RTX_LENGTH (code); i++)\n+    copy->fld[i] = orig->fld[i];\n+\n+  return copy;\n+}\n \f\n /* Subroutines of read_rtx.  */\n "}, {"sha": "c1bd86ed8e406e12b7175b5fca35f47ba55a7d35", "filename": "gcc/rtl.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce9d4c6d80126b0d4549e80ddd92bfab017d22f4/gcc%2Frtl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce9d4c6d80126b0d4549e80ddd92bfab017d22f4/gcc%2Frtl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl.h?ref=ce9d4c6d80126b0d4549e80ddd92bfab017d22f4", "patch": "@@ -889,6 +889,7 @@ extern rtvec rtvec_alloc\t\tPROTO((int));\n extern rtx copy_rtx\t\t\tPROTO((rtx));\n extern rtx copy_rtx_if_shared\t\tPROTO((rtx));\n extern rtx copy_most_rtx\t\tPROTO((rtx, rtx));\n+extern rtx shallow_copy_rtx\t\tPROTO((rtx));\n extern rtvec gen_rtvec_v\t\tPROTO((int, rtx *));\n extern rtvec gen_rtvec_vv\t\tPROTO((int, rtunion *));\n extern rtx gen_reg_rtx\t\t\tPROTO((enum machine_mode));"}]}