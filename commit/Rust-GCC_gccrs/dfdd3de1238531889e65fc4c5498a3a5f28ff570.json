{"sha": "dfdd3de1238531889e65fc4c5498a3a5f28ff570", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGZkZDNkZTEyMzg1MzE4ODllNjVmYzRjNTQ5OGEzYTVmMjhmZjU3MA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2019-10-10T15:24:38Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2019-10-10T15:24:38Z"}, "message": "[Ada] Fix awkward placement of freeze node for actual subtype\n\n2019-10-10  Eric Botcazou  <ebotcazou@adacore.com>\n\ngcc/ada/\n\n\t* sem_ch6.adb (Set_Actual_Subtypes): Put the freeze node of the\n\tactual subtype after its declaration when the type of the formal\n\thas a predicate.\n\nFrom-SVN: r276828", "tree": {"sha": "b295ef1b31d93d98e07348986e0b442bdc77ea08", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b295ef1b31d93d98e07348986e0b442bdc77ea08"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dfdd3de1238531889e65fc4c5498a3a5f28ff570", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dfdd3de1238531889e65fc4c5498a3a5f28ff570", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dfdd3de1238531889e65fc4c5498a3a5f28ff570", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dfdd3de1238531889e65fc4c5498a3a5f28ff570/comments", "author": null, "committer": null, "parents": [{"sha": "ab9e20840f3ae9c5fe731851c6a384cd4f01f844", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab9e20840f3ae9c5fe731851c6a384cd4f01f844", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab9e20840f3ae9c5fe731851c6a384cd4f01f844"}], "stats": {"total": 15, "additions": 4, "deletions": 11}, "files": [{"sha": "449c0ab8d969c98ded5b3fb3d556b1674ad7c1b1", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 3, "deletions": 10, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dfdd3de1238531889e65fc4c5498a3a5f28ff570/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dfdd3de1238531889e65fc4c5498a3a5f28ff570/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=dfdd3de1238531889e65fc4c5498a3a5f28ff570", "patch": "@@ -1,12 +1,5 @@\n 2019-10-10  Eric Botcazou  <ebotcazou@adacore.com>\n \n-\t* sem_ch13.adb (Adjust_Record_For_Reverse_Bit_Order): Do not use\n-\tthe Esize of the component to compute its layout, but only the\n-\tComponent_Clause.  Do not issue a warning for the _Tag\n-\tcomponent.  Also set the Esize of the component at the end of\n-\tthe layout.\n-\t(Analyze_Record_Representation_Clause): Remove Hbit local\n-\tvariable.  Lay out the Original_Record_Component only if it's\n-\tdistinct from the component.\n-\t(Check_Record_Representation_Clause): Fix off-by-one bug for the\n-\tLast_Bit of the artificial clause built for the _Tag component.\n\\ No newline at end of file\n+\t* sem_ch6.adb (Set_Actual_Subtypes): Put the freeze node of the\n+\tactual subtype after its declaration when the type of the formal\n+\thas a predicate.\n\\ No newline at end of file"}, {"sha": "b96a5fda8f8ce0553611030502633a837a23d0d2", "filename": "gcc/ada/sem_ch6.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dfdd3de1238531889e65fc4c5498a3a5f28ff570/gcc%2Fada%2Fsem_ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dfdd3de1238531889e65fc4c5498a3a5f28ff570/gcc%2Fada%2Fsem_ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch6.adb?ref=dfdd3de1238531889e65fc4c5498a3a5f28ff570", "patch": "@@ -12038,7 +12038,7 @@ package body Sem_Ch6 is\n             --  predicate may come from an explicit aspect of be inherited.\n \n             elsif Has_Predicates (T) then\n-               Insert_List_Before_And_Analyze (Decl,\n+               Insert_List_After_And_Analyze (Decl,\n                  Freeze_Entity (Defining_Identifier (Decl), N));\n             end if;\n "}]}