{"sha": "dc9ed76ab65c4fbb0c571c7f8031c7e56125b2b1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGM5ZWQ3NmFiNjVjNGZiYjBjNTcxYzdmODAzMWM3ZTU2MTI1YjJiMQ==", "commit": {"author": {"name": "Doug Evans", "email": "dje@sebabeach.org", "date": "2003-06-13T06:20:12Z"}, "committer": {"name": "Doug Evans", "email": "devans@gcc.gnu.org", "date": "2003-06-13T06:20:12Z"}, "message": "back out previous patch, instead do\n\nback out previous patch, instead do\n\t* config/m32r/initfini.c (__CTOR_LIST__,__DTOR_LIST__): Attribute used.\n\t(__do_global_ctors,__do_global_dtors): Ditto.\n\nFrom-SVN: r67886", "tree": {"sha": "8fca9cbca92c0172cfd2c146410c90e4c6d7a1af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8fca9cbca92c0172cfd2c146410c90e4c6d7a1af"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dc9ed76ab65c4fbb0c571c7f8031c7e56125b2b1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc9ed76ab65c4fbb0c571c7f8031c7e56125b2b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc9ed76ab65c4fbb0c571c7f8031c7e56125b2b1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc9ed76ab65c4fbb0c571c7f8031c7e56125b2b1/comments", "author": null, "committer": null, "parents": [{"sha": "ee4336ea817d3e6f91c0d2b33dc92bc8227538a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee4336ea817d3e6f91c0d2b33dc92bc8227538a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee4336ea817d3e6f91c0d2b33dc92bc8227538a8"}], "stats": {"total": 35, "additions": 17, "deletions": 18}, "files": [{"sha": "8ad93fefe2c0bd7b96fea538dea58fb4a37a73ff", "filename": "gcc/ChangeLog", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dc9ed76ab65c4fbb0c571c7f8031c7e56125b2b1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dc9ed76ab65c4fbb0c571c7f8031c7e56125b2b1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dc9ed76ab65c4fbb0c571c7f8031c7e56125b2b1", "patch": "@@ -8,8 +8,7 @@\n 2003-06-13  Doug Evans  <dje@sebabeach.org>\n \n \tRemove some build warnings.\n-\t* config/m32r/initfini.c (__CTOR_LIST__,__DTOR_LIST__): No longer\n-\tstatic.\n+\t* config/m32r/initfini.c (__CTOR_LIST__,__DTOR_LIST__): Attribute used.\n \t(__do_global_ctors,__do_global_dtors): Ditto.\n \n 2003-06-12  Richard Henderson  <rth@redhat.com>"}, {"sha": "5cbf8e16f1d917ed2f2cc2553f2b985862171c7e", "filename": "gcc/config/m32r/initfini.c", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dc9ed76ab65c4fbb0c571c7f8031c7e56125b2b1/gcc%2Fconfig%2Fm32r%2Finitfini.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dc9ed76ab65c4fbb0c571c7f8031c7e56125b2b1/gcc%2Fconfig%2Fm32r%2Finitfini.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32r%2Finitfini.c?ref=dc9ed76ab65c4fbb0c571c7f8031c7e56125b2b1", "patch": "@@ -46,12 +46,12 @@ typedef void (*func_ptr) (void);\n    refer to only the __CTOR_END__ symbol in crtfini.o and the __DTOR_LIST__\n    symbol in crtinit.o, where they are defined.  */\n \n-func_ptr __CTOR_LIST__[1]\n-  __attribute__ ((section (\".ctors\")))\n+static func_ptr __CTOR_LIST__[1]\n+  __attribute__ ((used, section (\".ctors\")))\n      = { (func_ptr) (-1) };\n \n-func_ptr __DTOR_LIST__[1]\n-  __attribute__ ((section (\".dtors\")))\n+static func_ptr __DTOR_LIST__[1]\n+  __attribute__ ((used, section (\".dtors\")))\n      = { (func_ptr) (-1) };\n \n /* Run all the global destructors on exit from the program.  */\n@@ -68,11 +68,11 @@ func_ptr __DTOR_LIST__[1]\n    refers to one particular associated `__DTOR_LIST__' which belongs to the\n    same particular root executable or shared library file.  */\n \n-void __do_global_dtors (void)\n-asm (\"__do_global_dtors\") __attribute__ ((section (\".text\")));\n+static void __do_global_dtors (void)\n+asm (\"__do_global_dtors\") __attribute__ ((used, section (\".text\")));\n \n-void\n-__do_global_dtors (void)\n+static void\n+__do_global_dtors ()\n {\n   func_ptr *p;\n \n@@ -122,22 +122,22 @@ __fini:\\n\\\n    last, these words naturally end up at the very ends of the two lists\n    contained in these two sections.  */\n \n-func_ptr __CTOR_END__[1]\n-  __attribute__ ((section (\".ctors\")))\n+static func_ptr __CTOR_END__[1]\n+  __attribute__ ((used, section (\".ctors\")))\n      = { (func_ptr) 0 };\n \n-func_ptr __DTOR_END__[1]\n-  __attribute__ ((section (\".dtors\")))\n+static func_ptr __DTOR_END__[1]\n+  __attribute__ ((used, section (\".dtors\")))\n      = { (func_ptr) 0 };\n \n /* Run all global constructors for the program.\n    Note that they are run in reverse order.  */\n \n-void __do_global_ctors (void)\n-asm (\"__do_global_ctors\") __attribute__ ((section (\".text\")));\n+static void __do_global_ctors (void)\n+asm (\"__do_global_ctors\") __attribute__ ((used, section (\".text\")));\n \n-void\n-__do_global_ctors (void)\n+static void\n+__do_global_ctors ()\n {\n   func_ptr *p;\n "}]}