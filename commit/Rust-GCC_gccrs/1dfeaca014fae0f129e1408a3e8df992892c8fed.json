{"sha": "1dfeaca014fae0f129e1408a3e8df992892c8fed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWRmZWFjYTAxNGZhZTBmMTI5ZTE0MDhhM2U4ZGY5OTI4OTJjOGZlZA==", "commit": {"author": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2020-12-30T16:56:12Z"}, "committer": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2021-01-02T19:56:19Z"}, "message": "Darwin, Simplify headers 0/5 : Move spec for Darwin 10 unwind stub [NFC].\n\nThe darwinN.h headers were (presumably) introduced to allow specs to be\nadjusted when there was no mmacosx-version-min handling, or that was\nconsidered unreliable.\n\nWe have version-specific specs for the values that have configuration\ndata, and the version is set in the driver (so may be considered\nreliably present).\n\nSome of the 'darwinN.h' content has become dead code, and the reminder\nis either conditionalised on version information (or is setting values\nused as fall-backs in cross-compilations).\n\nWith the changes needed for Darwin20 / macOS 11 the 'darwnN.h' headers\nare now too unwieldy to be useful - so this series moves the relevant\nspecs definitons to the common 'darwin.h' header and then finally uses\nthe config.gcc script to supply the fall-back defaults for cross-\ncompilations.\n\nWe can then delete all but the main header, since the darwinN.h are\nunused.\n\nThis change moves a spec from darwin10.h to the main darwin.h\ntarget header.\n\ngcc/ChangeLog:\n\n\t* config/darwin10.h (LINK_GCC_C_SEQUENCE_SPEC): Move the spec\n\tfor the Darwin10 unwinder stub from here ...\n\t* config/darwin.h (LINK_COMMAND_SPEC_A): ... to here.", "tree": {"sha": "fad67a5f705be530a4913a9a614da3c1d0bb28fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fad67a5f705be530a4913a9a614da3c1d0bb28fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1dfeaca014fae0f129e1408a3e8df992892c8fed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1dfeaca014fae0f129e1408a3e8df992892c8fed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1dfeaca014fae0f129e1408a3e8df992892c8fed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1dfeaca014fae0f129e1408a3e8df992892c8fed/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b2cee5e1e89c8f939bc36fe9756befcb93d96982", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2cee5e1e89c8f939bc36fe9756befcb93d96982", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2cee5e1e89c8f939bc36fe9756befcb93d96982"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "a3b439487e8f90a5f469c1e6caa6ff0d61b349ea", "filename": "gcc/config/darwin.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dfeaca014fae0f129e1408a3e8df992892c8fed/gcc%2Fconfig%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dfeaca014fae0f129e1408a3e8df992892c8fed/gcc%2Fconfig%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.h?ref=1dfeaca014fae0f129e1408a3e8df992892c8fed", "patch": "@@ -230,6 +230,7 @@ extern GTY(()) int darwin_ms_struct;\n       %{%:sanitize(address): -lasan } \\\n       %{%:sanitize(undefined): -lubsan } \\\n       %(link_ssp) \\\n+      %:version-compare(>< 10.6 10.7 mmacosx-version-min= -ld10-uwfef.o) \\\n       %(link_gcc_c_sequence) \\\n     }}}\\\n     %{!nostdlib:%{!r:%{!nostartfiles:%E}}} %{T*} %{F*} \"\\"}, {"sha": "f1395954453c54fd9e782ad8ceda79579594a359", "filename": "gcc/config/darwin10.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dfeaca014fae0f129e1408a3e8df992892c8fed/gcc%2Fconfig%2Fdarwin10.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dfeaca014fae0f129e1408a3e8df992892c8fed/gcc%2Fconfig%2Fdarwin10.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin10.h?ref=1dfeaca014fae0f129e1408a3e8df992892c8fed", "patch": "@@ -24,7 +24,6 @@ along with GCC; see the file COPYING3.  If not see\n #define LINK_GCC_C_SEQUENCE_SPEC \\\n \"%{!static:%{!static-libgcc: \\\n     %:version-compare(>= 10.6 mmacosx-version-min= -lSystem) } } \\\n- %{!nostdlib:%:version-compare(>< 10.6 10.7 mmacosx-version-min= -ld10-uwfef.o)} \\\n   %G %{!nolibc:%L}\"\n \n #undef DEF_MIN_OSX_VERSION"}]}