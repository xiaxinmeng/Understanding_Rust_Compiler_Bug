{"sha": "3019bbaeb3c0156d6e9ca646850a99054963301a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzAxOWJiYWViM2MwMTU2ZDZlOWNhNjQ2ODUwYTk5MDU0OTYzMzAxYQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-09-27T13:16:22Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-09-27T13:16:22Z"}, "message": "mksysinfo: Fix for systems that don't define TIOCSCTTY.\n\nFrom Rainer Orth.\n\nFrom-SVN: r179269", "tree": {"sha": "58257e9d73cd408fbfc539a5a762ba0fd0e89e6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58257e9d73cd408fbfc539a5a762ba0fd0e89e6c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3019bbaeb3c0156d6e9ca646850a99054963301a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3019bbaeb3c0156d6e9ca646850a99054963301a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3019bbaeb3c0156d6e9ca646850a99054963301a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3019bbaeb3c0156d6e9ca646850a99054963301a/comments", "author": null, "committer": null, "parents": [{"sha": "0578e4172d07f7aeb5de476d57e74f6812596ad1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0578e4172d07f7aeb5de476d57e74f6812596ad1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0578e4172d07f7aeb5de476d57e74f6812596ad1"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "85dd33c65d093de9332f85750cbc316873bd0fa3", "filename": "libgo/mksysinfo.sh", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3019bbaeb3c0156d6e9ca646850a99054963301a/libgo%2Fmksysinfo.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3019bbaeb3c0156d6e9ca646850a99054963301a/libgo%2Fmksysinfo.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fmksysinfo.sh?ref=3019bbaeb3c0156d6e9ca646850a99054963301a", "patch": "@@ -499,6 +499,14 @@ grep '^type _passwd ' gen-sysinfo.go | \\\n grep '^const _TIOC' gen-sysinfo.go | \\\n     sed -e 's/^\\(const \\)_\\(TIOC[^= ]*\\)\\(.*\\)$/\\1\\2 = _\\2/' >> ${OUT}\n \n+# ioctl constants.  Might fall back to 0 if TIOCNXCL is missing, too, but\n+# needs handling in syscalls.exec.go.\n+if ! grep '^const _TIOCSCTTY ' gen-sysinfo.go >/dev/null 2>&1; then\n+  if grep '^const _TIOCNXCL ' gen-sysinfo.go >/dev/null 2>&1; then\n+    echo \"const TIOCSCTTY = TIOCNXCL\" >> ${OUT}\n+  fi\n+fi\n+\n # The nlmsghdr struct.\n grep '^type _nlmsghdr ' gen-sysinfo.go | \\\n     sed -e 's/_nlmsghdr/NlMsghdr/' \\"}]}