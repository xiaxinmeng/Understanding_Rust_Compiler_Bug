{"sha": "5c20e429775e6b72b42a3c7b3c3be77f535d4bb6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWMyMGU0Mjk3NzVlNmI3MmI0MmEzYzdiM2MzYmU3N2Y1MzVkNGJiNg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2017-10-14T08:34:11Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2017-10-14T08:34:11Z"}, "message": "re PR rtl-optimization/81423 (Wrong code at -O2)\n\n\tPR rtl-optimization/81423\n\t* gcc.c-torture/execute/pr81423.c (foo): Add missing cast.  Change L\n\tsuffixes to LL.\n\t(main): Punt if either long long isn't 64-bit or int isn't 32-bit.\n\nFrom-SVN: r253749", "tree": {"sha": "637e59c2b47a60b2a46615698414db955b33a82d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/637e59c2b47a60b2a46615698414db955b33a82d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5c20e429775e6b72b42a3c7b3c3be77f535d4bb6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c20e429775e6b72b42a3c7b3c3be77f535d4bb6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c20e429775e6b72b42a3c7b3c3be77f535d4bb6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c20e429775e6b72b42a3c7b3c3be77f535d4bb6/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a0bf6cf784e56448d81d144f83eaaf90a9fe83b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0bf6cf784e56448d81d144f83eaaf90a9fe83b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0bf6cf784e56448d81d144f83eaaf90a9fe83b7"}], "stats": {"total": 22, "additions": 16, "deletions": 6}, "files": [{"sha": "c48f8a6f676478be713d4a6f051f7d27c1c069fd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c20e429775e6b72b42a3c7b3c3be77f535d4bb6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c20e429775e6b72b42a3c7b3c3be77f535d4bb6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5c20e429775e6b72b42a3c7b3c3be77f535d4bb6", "patch": "@@ -1,3 +1,10 @@\n+2017-10-14  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR rtl-optimization/81423\n+\t* gcc.c-torture/execute/pr81423.c (foo): Add missing cast.  Change L\n+\tsuffixes to LL.\n+\t(main): Punt if either long long isn't 64-bit or int isn't 32-bit.\n+\n 2017-10-13  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR sanitizer/82353"}, {"sha": "be7413be334aacd4e70c328a5df7cc935d4de601", "filename": "gcc/testsuite/gcc.c-torture/execute/pr81423.c", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c20e429775e6b72b42a3c7b3c3be77f535d4bb6/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr81423.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c20e429775e6b72b42a3c7b3c3be77f535d4bb6/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr81423.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr81423.c?ref=5c20e429775e6b72b42a3c7b3c3be77f535d4bb6", "patch": "@@ -1,3 +1,5 @@\n+/* PR rtl-optimization/81423 */\n+\n extern void abort (void);\n \n unsigned long long int ll = 0;\n@@ -10,11 +12,11 @@ foo (void)\n {\n   ll = -5597998501375493990LL;\n \n-  ll = (5677365550390624949L - ll) - (ull1 > 0);\n+  ll = (unsigned int) (5677365550390624949LL - ll) - (ull1 > 0);\n   unsigned long long int ull3;\n   ull3 = (unsigned int)\n-    (2067854353L <<\n-     (((ll + -2129105131L) ^ 10280750144413668236ULL) -\n+    (2067854353LL <<\n+     (((ll + -2129105131LL) ^ 10280750144413668236ULL) -\n       10280750143997242009ULL)) >> ((2873442921854271231ULL | ull2)\n \t\t\t\t    - 12098357307243495419ULL);\n \n@@ -24,9 +26,10 @@ foo (void)\n int\n main (void)\n {\n-  /* We need a long long of exactly 64 bits for this test.  */\n-  ll--;\n-  if (ll != 0xffffffffffffffffULL)\n+  /* We need a long long of exactly 64 bits and int of exactly 32 bits\n+     for this test.  */\n+  if (__SIZEOF_LONG_LONG__ * __CHAR_BIT__ != 64\n+      || __SIZEOF_INT__ * __CHAR_BIT__ != 32)\n     return 0;\n \n   ull3 = foo ();"}]}