{"sha": "ae246f7f1d75e04185a7e566bf21cbf6149a3b29", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWUyNDZmN2YxZDc1ZTA0MTg1YTdlNTY2YmYyMWNiZjYxNDlhM2IyOQ==", "commit": {"author": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2013-12-17T18:05:32Z"}, "committer": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2013-12-17T18:05:32Z"}, "message": "affinity-1.c: Remove alloca.h inlcude.\n\n2013-12-17  Andreas Tobler  <andreast@gcc.gnu.org>\n\n    * testsuite/libgomp.c/affinity-1.c: Remove alloca.h inlcude. Replace\n    alloca () with __builtin_alloca ().\n    * testsuite/libgomp.c/icv-2.c: Add FreeBSD coverage.\n    * testsuite/libgomp.c/lock-3.c: Likewise.\n    * testsuite/libgomp.c/pr48591.c: Likewise.\n\nFrom-SVN: r206063", "tree": {"sha": "bfbf2da5b77b598bea390ae89a84931fd2ed62a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bfbf2da5b77b598bea390ae89a84931fd2ed62a0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae246f7f1d75e04185a7e566bf21cbf6149a3b29", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae246f7f1d75e04185a7e566bf21cbf6149a3b29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae246f7f1d75e04185a7e566bf21cbf6149a3b29", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae246f7f1d75e04185a7e566bf21cbf6149a3b29/comments", "author": null, "committer": null, "parents": [{"sha": "5a2075280a0143ea1f126e5cd2e3fe4d82064592", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a2075280a0143ea1f126e5cd2e3fe4d82064592", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a2075280a0143ea1f126e5cd2e3fe4d82064592"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "60f1572e09bc9720d5180aacf1388f0a0de45e2b", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae246f7f1d75e04185a7e566bf21cbf6149a3b29/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae246f7f1d75e04185a7e566bf21cbf6149a3b29/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=ae246f7f1d75e04185a7e566bf21cbf6149a3b29", "patch": "@@ -1,3 +1,11 @@\n+2013-12-17  Andreas Tobler  <andreast@gcc.gnu.org>\n+\n+\t* testsuite/libgomp.c/affinity-1.c: Remove alloca.h inlcude. Replace\n+\talloca () with __builtin_alloca ().\n+\t* testsuite/libgomp.c/icv-2.c: Add FreeBSD coverage.\n+\t* testsuite/libgomp.c/lock-3.c: Likewise.\n+\t* testsuite/libgomp.c/pr48591.c: Likewise.\n+\n 2013-12-17  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR testsuite/59534"}, {"sha": "a07928ccac81450361c2e4fed2f2967ab96db873", "filename": "libgomp/testsuite/libgomp.c/affinity-1.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae246f7f1d75e04185a7e566bf21cbf6149a3b29/libgomp%2Ftestsuite%2Flibgomp.c%2Faffinity-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae246f7f1d75e04185a7e566bf21cbf6149a3b29/libgomp%2Ftestsuite%2Flibgomp.c%2Faffinity-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Faffinity-1.c?ref=ae246f7f1d75e04185a7e566bf21cbf6149a3b29", "patch": "@@ -23,7 +23,6 @@\n #define _GNU_SOURCE\n #endif\n #include \"config.h\"\n-#include <alloca.h>\n #include <omp.h>\n #include <stdio.h>\n #include <stdlib.h>\n@@ -117,7 +116,7 @@ print_affinity (struct place p)\n \t    size = sizeof (cpu_set_t);\n \t}\n     }\n-  cpu_set_t *cpusetp = (cpu_set_t *) alloca (size);\n+  cpu_set_t *cpusetp = (cpu_set_t *) __builtin_alloca (size);\n   if (pthread_getaffinity_np (pthread_self (), size, cpusetp) == 0)\n     {\n       unsigned long i, len, max = 8 * size;"}, {"sha": "da005ea1c311e2352a49cf8a38a001bd82a02f3a", "filename": "libgomp/testsuite/libgomp.c/icv-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae246f7f1d75e04185a7e566bf21cbf6149a3b29/libgomp%2Ftestsuite%2Flibgomp.c%2Ficv-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae246f7f1d75e04185a7e566bf21cbf6149a3b29/libgomp%2Ftestsuite%2Flibgomp.c%2Ficv-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Ficv-2.c?ref=ae246f7f1d75e04185a7e566bf21cbf6149a3b29", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-do run { target *-*-linux* *-*-gnu* } } */\n+/* { dg-do run { target *-*-linux* *-*-gnu* *-*-freebsd* } } */\n \n #ifndef _GNU_SOURCE\n #define _GNU_SOURCE 1"}, {"sha": "b3c7e074b1edb29efca213456718fc187d9637a6", "filename": "libgomp/testsuite/libgomp.c/lock-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae246f7f1d75e04185a7e566bf21cbf6149a3b29/libgomp%2Ftestsuite%2Flibgomp.c%2Flock-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae246f7f1d75e04185a7e566bf21cbf6149a3b29/libgomp%2Ftestsuite%2Flibgomp.c%2Flock-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Flock-3.c?ref=ae246f7f1d75e04185a7e566bf21cbf6149a3b29", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-do run { target *-*-linux* *-*-gnu* } } */\n+/* { dg-do run { target *-*-linux* *-*-gnu* *-*-freebsd* } } */\n \n #ifndef _GNU_SOURCE\n #define _GNU_SOURCE 1"}, {"sha": "8df97f1554b63fd386aea9ccf32833f219367b58", "filename": "libgomp/testsuite/libgomp.c/pr48591.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae246f7f1d75e04185a7e566bf21cbf6149a3b29/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr48591.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae246f7f1d75e04185a7e566bf21cbf6149a3b29/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr48591.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr48591.c?ref=ae246f7f1d75e04185a7e566bf21cbf6149a3b29", "patch": "@@ -1,5 +1,5 @@\n /* PR middle-end/48591 */\n-/* { dg-do run { target i?86-*-linux* i?86-*-gnu* x86_64-*-linux* ia64-*-linux* } } */\n+/* { dg-do run { target i?86-*-linux* i?86-*-gnu* x86_64-*-linux* ia64-*-linux* x86_64-*-freebsd* } } */\n /* { dg-options \"-fopenmp\" } */\n \n extern void abort (void);"}]}