{"sha": "f9d4d3cf937b5a94d461a51799018dfb33262650", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjlkNGQzY2Y5MzdiNWE5NGQ0NjFhNTE3OTkwMThkZmIzMzI2MjY1MA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2018-12-11T15:03:29Z"}, "committer": {"name": "Olivier Hainque", "email": "hainque@gcc.gnu.org", "date": "2018-12-11T15:03:29Z"}, "message": "Fix stack offsets and alloca alignments on ppc-vxworks\n\n\t* config/rs6000/vxworks.h (RS6000_STARTING_FRAME_OFFSET): Define,\n\taccounting for STACK_BOUNDARY 128 regardless of TARGET_ALTIVEC/VSX.\n\t(STACK_DYNAMIC_OFFSET): Likewise.\n\nFrom-SVN: r267024", "tree": {"sha": "ca0e23df3d60b8b13277c05133a80e7c6c2f5501", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca0e23df3d60b8b13277c05133a80e7c6c2f5501"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f9d4d3cf937b5a94d461a51799018dfb33262650", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9d4d3cf937b5a94d461a51799018dfb33262650", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9d4d3cf937b5a94d461a51799018dfb33262650", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9d4d3cf937b5a94d461a51799018dfb33262650/comments", "author": null, "committer": null, "parents": [{"sha": "61d1d9a664851d5004d8238c996d0f42768c0562", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61d1d9a664851d5004d8238c996d0f42768c0562", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61d1d9a664851d5004d8238c996d0f42768c0562"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "99ba8bdd7fa0a677f5260c8e4d4a38ab0e88b7d3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9d4d3cf937b5a94d461a51799018dfb33262650/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9d4d3cf937b5a94d461a51799018dfb33262650/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f9d4d3cf937b5a94d461a51799018dfb33262650", "patch": "@@ -1,3 +1,9 @@\n+2018-12-11  Eric Botcazou  <botcazou@adacore.com>\n+\n+\t* config/rs6000/vxworks.h (RS6000_STARTING_FRAME_OFFSET): Define,\n+\taccounting for STACK_BOUNDARY 128.\n+\t(STACK_DYNAMIC_OFFSET): Likewise.\n+\n 2018-12-11  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/88425"}, {"sha": "49686433b87ed2a5ae0b730ee60fea44f9a7d81b", "filename": "gcc/config/rs6000/vxworks.h", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9d4d3cf937b5a94d461a51799018dfb33262650/gcc%2Fconfig%2Frs6000%2Fvxworks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9d4d3cf937b5a94d461a51799018dfb33262650/gcc%2Fconfig%2Frs6000%2Fvxworks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fvxworks.h?ref=f9d4d3cf937b5a94d461a51799018dfb33262650", "patch": "@@ -116,7 +116,7 @@ VXWORKS_ADDITIONAL_CPP_SPEC\n #undef SDATA_DEFAULT_SIZE\n #define SDATA_DEFAULT_SIZE (TARGET_VXWORKS_RTP ? 8 : 0)\n \n-/* Enforce 16bytes alignment for the stack pointer, to permit general\n+/* Enforce 16-byte alignment for the stack pointer, to permit general\n    compliance with e.g. Altivec instructions requirements.  Make sure\n    this isn't overruled by the EABI constraints.  */\n \n@@ -128,6 +128,17 @@ VXWORKS_ADDITIONAL_CPP_SPEC\n \n #undef  ABI_STACK_BOUNDARY\n \n+#undef RS6000_STARTING_FRAME_OFFSET\n+#define RS6000_STARTING_FRAME_OFFSET\t\t\t\t\t\\\n+  (cfun->calls_alloca\t\t\t\t\t\t\t\\\n+   ? RS6000_ALIGN (crtl->outgoing_args_size + RS6000_SAVE_AREA, 16)\t\\\n+   : (RS6000_ALIGN (crtl->outgoing_args_size, 16) + RS6000_SAVE_AREA))\n+\n+#undef STACK_DYNAMIC_OFFSET\n+#define STACK_DYNAMIC_OFFSET(FUNDECL)\t\t\t\t\t\\\n+   RS6000_ALIGN (crtl->outgoing_args_size.to_constant ()\t\t\\\n+\t\t + STACK_POINTER_OFFSET, 16)\n+\n #undef SUBSUBTARGET_OVERRIDE_OPTIONS\n #define SUBSUBTARGET_OVERRIDE_OPTIONS\t\t\\\n   do {\t\t\t\t\t\t\\"}]}