{"sha": "cc33095ccf077e836c7b061ed260ddd24375e708", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2MzMzA5NWNjZjA3N2U4MzZjN2IwNjFlZDI2MGRkZDI0Mzc1ZTcwOA==", "commit": {"author": {"name": "Ranjit Mathew", "email": "rmathew@hotmail.com", "date": "2003-07-27T04:13:03Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2003-07-27T04:13:03Z"}, "message": "Win32Process.java (ConcreteProcess): Surround a command line element with quotes if it contains an embedded space or tab.\n\n2003-07-26  Ranjit Mathew  <rmathew@hotmail.com>\n\n\t* java/lang/Win32Process.java (ConcreteProcess): Surround\n\ta command line element with quotes if it contains an\n\tembedded space or tab.\n\t* java/lang/natWin32Process.cc (startProcess): Do not\n\tsurround command line elements with quotes here.\n\nFrom-SVN: r69844", "tree": {"sha": "bcf68eb7a3659ea68a523d0edc5f76427f845169", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bcf68eb7a3659ea68a523d0edc5f76427f845169"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cc33095ccf077e836c7b061ed260ddd24375e708", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc33095ccf077e836c7b061ed260ddd24375e708", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc33095ccf077e836c7b061ed260ddd24375e708", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc33095ccf077e836c7b061ed260ddd24375e708/comments", "author": null, "committer": null, "parents": [{"sha": "6eb085352b0953ba74345c6c01f6018536d836b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6eb085352b0953ba74345c6c01f6018536d836b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6eb085352b0953ba74345c6c01f6018536d836b0"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "dc4cef06cca836b11795db162a671153a867d055", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc33095ccf077e836c7b061ed260ddd24375e708/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc33095ccf077e836c7b061ed260ddd24375e708/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=cc33095ccf077e836c7b061ed260ddd24375e708", "patch": "@@ -1,5 +1,11 @@\n 2003-07-26  Ranjit Mathew  <rmathew@hotmail.com>\n \n+\t* java/lang/Win32Process.java (ConcreteProcess): Surround\n+\ta command line element with quotes if it contains an\n+\tembedded space or tab.\n+\t* java/lang/natWin32Process.cc (startProcess): Do not\n+\tsurround command line elements with quotes here.\n+\n \t* configure.host: Use -fcheck-references and \n \t-fuse-divide-subroutine for MinGW until we fix\n \twin32_exception_handler( ) in win32.cc w.r.t. Win32 "}, {"sha": "7a5872705b8bff403649ad3808c22902089444d3", "filename": "libjava/java/lang/Win32Process.java", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc33095ccf077e836c7b061ed260ddd24375e708/libjava%2Fjava%2Flang%2FWin32Process.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc33095ccf077e836c7b061ed260ddd24375e708/libjava%2Fjava%2Flang%2FWin32Process.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FWin32Process.java?ref=cc33095ccf077e836c7b061ed260ddd24375e708", "patch": "@@ -67,6 +67,14 @@ public ConcreteProcess (String[] progarray,\n                           File dir)\n     throws IOException\n   {\n+    for (int i = 0; i < progarray.length; i++)\n+      {\n+        String s = progarray[i];\n+\n+        if ( (s.indexOf (' ') >= 0) || (s.indexOf ('\\t') >= 0))\n+          progarray[i] = \"\\\"\" + s + \"\\\"\";\n+      }\n+\n     startProcess (progarray, envp, dir);\n   }\n "}, {"sha": "710753ec2153c0a42c08c64b849af3b1983afa23", "filename": "libjava/java/lang/natWin32Process.cc", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc33095ccf077e836c7b061ed260ddd24375e708/libjava%2Fjava%2Flang%2FnatWin32Process.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc33095ccf077e836c7b061ed260ddd24375e708/libjava%2Fjava%2Flang%2FnatWin32Process.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatWin32Process.cc?ref=cc33095ccf077e836c7b061ed260ddd24375e708", "patch": "@@ -136,7 +136,7 @@ java::lang::ConcreteProcess::startProcess (jstringArray progarray,\n   int cmdLineLen = 0;\n \n   for (int i = 0; i < progarray->length; ++i)\n-    cmdLineLen += (_Jv_GetStringUTFLength (elts[i]) + 3);\n+    cmdLineLen += (_Jv_GetStringUTFLength (elts[i]) + 1);\n \n   char *cmdLine = (char *) _Jv_Malloc (cmdLineLen + 1);\n   char *cmdLineCurPos = cmdLine;\n@@ -145,11 +145,9 @@ java::lang::ConcreteProcess::startProcess (jstringArray progarray,\n     {\n       if (i > 0)\n         *cmdLineCurPos++ = ' ';\n-      *cmdLineCurPos++ = '\\\"';\n       jsize s = _Jv_GetStringUTFLength (elts[i]);\n       _Jv_GetStringUTFRegion (elts[i], 0, s, cmdLineCurPos);\n       cmdLineCurPos += s;\n-      *cmdLineCurPos++ = '\\\"';\n     }\n   *cmdLineCurPos = '\\0';\n "}]}