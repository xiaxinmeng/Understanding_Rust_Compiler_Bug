{"sha": "c829a8884b52b57f9e4adea3078016ed338ecfa9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzgyOWE4ODg0YjUyYjU3ZjllNGFkZWEzMDc4MDE2ZWQzMzhlY2ZhOQ==", "commit": {"author": {"name": "Ralf Wildenhues", "email": "Ralf.Wildenhues@gmx.de", "date": "2009-09-27T06:49:33Z"}, "committer": {"name": "Ralf Wildenhues", "email": "rwild@gcc.gnu.org", "date": "2009-09-27T06:49:33Z"}, "message": "Fix library dependencies for -Wl,--as-needed.\n\ngcc/:\n\tPR bootstrap/40928\n\t* configure.ac: Use $LIBS for '-ldl', not $LDFLAGS.\n\t* configure: Regenerate.\n\nlibjava/:\n\tPR libgcj/38298\n\t* Makefile.am (libgcj_tools_la_LIBADD): Add '-lm'.\n\t* Makefile.in: Regenerate.\n\nFrom-SVN: r152215", "tree": {"sha": "447040d312e28c4aba6b8805f1c6913013244950", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/447040d312e28c4aba6b8805f1c6913013244950"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c829a8884b52b57f9e4adea3078016ed338ecfa9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c829a8884b52b57f9e4adea3078016ed338ecfa9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c829a8884b52b57f9e4adea3078016ed338ecfa9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c829a8884b52b57f9e4adea3078016ed338ecfa9/comments", "author": null, "committer": null, "parents": [{"sha": "5bfbb7f7357b6e176030379b474bdbff87157f2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bfbb7f7357b6e176030379b474bdbff87157f2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5bfbb7f7357b6e176030379b474bdbff87157f2e"}], "stats": {"total": 20, "additions": 16, "deletions": 4}, "files": [{"sha": "ccad7ca44326a34666096279ca7f3d899d052ef0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c829a8884b52b57f9e4adea3078016ed338ecfa9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c829a8884b52b57f9e4adea3078016ed338ecfa9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c829a8884b52b57f9e4adea3078016ed338ecfa9", "patch": "@@ -1,3 +1,9 @@\n+2009-09-27  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\tPR bootstrap/40928\n+\t* configure.ac: Use $LIBS for '-ldl', not $LDFLAGS.\n+\t* configure: Regenerate.\n+\n 2009-09-26  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* doc/install.texi: Update minimum MPC version to 0.7."}, {"sha": "dbd10a5ef2bccc4ed1486c2f9e920125f1582959", "filename": "gcc/configure", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c829a8884b52b57f9e4adea3078016ed338ecfa9/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c829a8884b52b57f9e4adea3078016ed338ecfa9/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=c829a8884b52b57f9e4adea3078016ed338ecfa9", "patch": "@@ -24952,7 +24952,7 @@ rm -f core conftest.err conftest.$ac_objext \\\n   fi\n \n   # Check -ldl\n-  LDFLAGS=\"$LDFLAGS -ldl\"\n+  LIBS=\"$LIBS -ldl\"\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for -ldl\" >&5\n $as_echo_n \"checking for -ldl... \" >&6; }\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext"}, {"sha": "96b3b5db56e32e6d56098649fa836f503df7bb61", "filename": "gcc/configure.ac", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c829a8884b52b57f9e4adea3078016ed338ecfa9/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c829a8884b52b57f9e4adea3078016ed338ecfa9/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=c829a8884b52b57f9e4adea3078016ed338ecfa9", "patch": "@@ -4228,7 +4228,7 @@ if test x\"$enable_plugin\" = x\"yes\"; then\n   fi\n \n   # Check -ldl\n-  LDFLAGS=\"$LDFLAGS -ldl\"\n+  LIBS=\"$LIBS -ldl\"\n   AC_MSG_CHECKING([for -ldl])\n   AC_TRY_LINK(\n     [#include <dlfcn.h>],"}, {"sha": "0a6c90260d54f00d5a065c2b086c3d60b3d288f3", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c829a8884b52b57f9e4adea3078016ed338ecfa9/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c829a8884b52b57f9e4adea3078016ed338ecfa9/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=c829a8884b52b57f9e4adea3078016ed338ecfa9", "patch": "@@ -1,3 +1,9 @@\n+2009-09-27  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\tPR libgcj/38298\n+\t* Makefile.am (libgcj_tools_la_LIBADD): Add '-lm'.\n+\t* Makefile.in: Regenerate.\n+\n 2009-09-22  Dave Korn  <dave.korn.cygwin@gmail.com>\n \n \t* configure.host (enable_libgcj_sublibs_default): New variable,"}, {"sha": "ad4fca2b6a814abcfc0ec7436a4c7d4481e0cf7d", "filename": "libjava/Makefile.am", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c829a8884b52b57f9e4adea3078016ed338ecfa9/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c829a8884b52b57f9e4adea3078016ed338ecfa9/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=c829a8884b52b57f9e4adea3078016ed338ecfa9", "patch": "@@ -496,7 +496,7 @@ libgcj_tools_la_GCJFLAGS = $(AM_GCJFLAGS) -findirect-dispatch \\\n libgcj_tools_la_LDFLAGS = -rpath $(toolexeclibdir) \\\n  -version-info `grep -v '^\\#' $(srcdir)/libtool-version` \\\n  $(LIBGCJ_LD_SYMBOLIC_FUNCTIONS) -no-undefined -bindir $(bindir)\n-libgcj_tools_la_LIBADD = libgcj.la\n+libgcj_tools_la_LIBADD = libgcj.la -lm\n libgcj_tools_la_DEPENDENCIES = libgcj.la libgcj.spec\n if BUILD_SUBLIBS\n libgcj_tools_la_DEPENDENCIES += libgcj-noncore.la"}, {"sha": "8c093738e347e3bfdb6842a34b2112b89f7c7ea5", "filename": "libjava/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c829a8884b52b57f9e4adea3078016ed338ecfa9/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c829a8884b52b57f9e4adea3078016ed338ecfa9/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=c829a8884b52b57f9e4adea3078016ed338ecfa9", "patch": "@@ -1187,7 +1187,7 @@ libgcj_tools_la_LDFLAGS = -rpath $(toolexeclibdir) \\\n  -version-info `grep -v '^\\#' $(srcdir)/libtool-version` \\\n  $(LIBGCJ_LD_SYMBOLIC_FUNCTIONS) -no-undefined -bindir $(bindir)\n \n-libgcj_tools_la_LIBADD = libgcj.la\n+libgcj_tools_la_LIBADD = libgcj.la -lm\n libgcj_tools_la_DEPENDENCIES = libgcj.la libgcj.spec $(am__append_22)\n libgcj_tools_la_LINK = $(LIBLINK) $(libgcj_tools_la_LDFLAGS)\n libjvm_la_SOURCES = jni-libjvm.cc"}]}