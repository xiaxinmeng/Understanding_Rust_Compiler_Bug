{"sha": "2272b24c41fcf6948c636946d8caf17d752b4a99", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI3MmIyNGM0MWZjZjY5NDhjNjM2OTQ2ZDhjYWYxN2Q3NTJiNGE5OQ==", "commit": {"author": {"name": "Steven Bosscher", "email": "stevenb.gcc@gmail.com", "date": "2007-11-10T14:54:39Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2007-11-10T14:54:39Z"}, "message": "gcse.c (CUID_INSN): Remove.\n\n2007-11-10  Steven Bosscher  <stevenb.gcc@gmail.com>\n\n\t* gcse.c (CUID_INSN): Remove.\n\t(cuid_insn): Ditto.\n\t(alloc_gcse_mem): Don't allocate cuid_insn.\n\t(free_gcse_mem): Don't free cuid_insn.\n\nFrom-SVN: r130071", "tree": {"sha": "f9a442172c86c08ed6a49234576fa03de3f932ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f9a442172c86c08ed6a49234576fa03de3f932ea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2272b24c41fcf6948c636946d8caf17d752b4a99", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2272b24c41fcf6948c636946d8caf17d752b4a99", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2272b24c41fcf6948c636946d8caf17d752b4a99", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2272b24c41fcf6948c636946d8caf17d752b4a99/comments", "author": null, "committer": null, "parents": [{"sha": "78e4746337d87401a818d0179597e19fab620ee0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78e4746337d87401a818d0179597e19fab620ee0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78e4746337d87401a818d0179597e19fab620ee0"}], "stats": {"total": 22, "additions": 7, "deletions": 15}, "files": [{"sha": "0d0f62beb1e591927bbeeecee9b0ba0ebb8c22fd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2272b24c41fcf6948c636946d8caf17d752b4a99/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2272b24c41fcf6948c636946d8caf17d752b4a99/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2272b24c41fcf6948c636946d8caf17d752b4a99", "patch": "@@ -1,3 +1,10 @@\n+2007-11-10  Steven Bosscher  <stevenb.gcc@gmail.com>\n+\n+\t* gcse.c (CUID_INSN): Remove.\n+\t(cuid_insn): Ditto.\n+\t(alloc_gcse_mem): Don't allocate cuid_insn.\n+\t(free_gcse_mem): Don't free cuid_insn.\n+\n 2007-11-10  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR fortran/34020"}, {"sha": "21d3da451854b5f4fb1934a44b7d64537550ec92", "filename": "gcc/gcse.c", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2272b24c41fcf6948c636946d8caf17d752b4a99/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2272b24c41fcf6948c636946d8caf17d752b4a99/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=2272b24c41fcf6948c636946d8caf17d752b4a99", "patch": "@@ -380,12 +380,6 @@ static int max_uid;\n /* Number of cuids.  */\n static int max_cuid;\n \n-/* Mapping of cuids to insns.  */\n-static rtx *cuid_insn;\n-\n-/* Get insn from cuid.  */\n-#define CUID_INSN(CUID) (cuid_insn[CUID])\n-\n /* Maximum register number in function prior to doing gcse + 1.\n    Registers created during this pass have regno >= max_gcse_regno.\n    This is named with \"gcse\" to not collide with global of same name.  */\n@@ -942,15 +936,7 @@ alloc_gcse_mem (void)\n \t  uid_cuid[INSN_UID (insn)] = i;\n       }\n \n-  /* Create a table mapping cuids to insns.  */\n-\n   max_cuid = i;\n-  cuid_insn = gcalloc (max_cuid + 1, sizeof (rtx));\n-  i = 0;\n-  FOR_EACH_BB (bb)\n-    FOR_BB_INSNS (bb, insn)\n-      if (INSN_P (insn))\n-\tCUID_INSN (i++) = insn;\n \n   /* Allocate vars to track sets of regs.  */\n   reg_set_bitmap = BITMAP_ALLOC (NULL);\n@@ -971,7 +957,6 @@ static void\n free_gcse_mem (void)\n {\n   free (uid_cuid);\n-  free (cuid_insn);\n \n   BITMAP_FREE (reg_set_bitmap);\n "}]}