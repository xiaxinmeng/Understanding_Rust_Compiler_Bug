{"sha": "d236f595e8fac9678388240b04c1ae25082f1d2a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDIzNmY1OTVlOGZhYzk2NzgzODgyNDBiMDRjMWFlMjUwODJmMWQyYQ==", "commit": {"author": {"name": "Nathan Froyd", "email": "froydnj@codesourcery.com", "date": "2007-08-02T14:40:36Z"}, "committer": {"name": "Nathan Froyd", "email": "froydnj@gcc.gnu.org", "date": "2007-08-02T14:40:36Z"}, "message": "re PR middle-end/25445 (-fpic/-fPIC failure in gcc.dg/tree-ssa/wholeprogram-1.c)\n\n\tPR middle-end/25445\n\t* varasm.c (default_binds_local_p_1): Consult flag_whole_program\n\tif we are compiling with -fPIC.\n\nFrom-SVN: r127162", "tree": {"sha": "81ad9b4f59b57ae504e1556172d8f381f97ca840", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/81ad9b4f59b57ae504e1556172d8f381f97ca840"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d236f595e8fac9678388240b04c1ae25082f1d2a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d236f595e8fac9678388240b04c1ae25082f1d2a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d236f595e8fac9678388240b04c1ae25082f1d2a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d236f595e8fac9678388240b04c1ae25082f1d2a/comments", "author": null, "committer": null, "parents": [{"sha": "0d37d3a73da98416d2020880ca8f2ec47b5a9c96", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d37d3a73da98416d2020880ca8f2ec47b5a9c96", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d37d3a73da98416d2020880ca8f2ec47b5a9c96"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "e712c821949e94afeeffef9db07e4b5bb322f928", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d236f595e8fac9678388240b04c1ae25082f1d2a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d236f595e8fac9678388240b04c1ae25082f1d2a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d236f595e8fac9678388240b04c1ae25082f1d2a", "patch": "@@ -1,3 +1,9 @@\n+2007-08-02  Nathan Froyd  <froydnj@codesourcery.com>\n+\n+\tPR middle-end/25445\n+\t* varasm.c (default_binds_local_p_1): Consult flag_whole_program\n+\tif we are compiling with -fPIC.\n+\n 2007-08-02  Sandra Loosemore  <sandra@codesourcery.com>\n \t    Nigel Stephens  <nigel@mips.com>\n "}, {"sha": "b2b68cd96a9ea647efd9547669e7734271ef3a40", "filename": "gcc/varasm.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d236f595e8fac9678388240b04c1ae25082f1d2a/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d236f595e8fac9678388240b04c1ae25082f1d2a/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=d236f595e8fac9678388240b04c1ae25082f1d2a", "patch": "@@ -6198,9 +6198,10 @@ default_binds_local_p_1 (tree exp, int shlib)\n   else if (DECL_WEAK (exp))\n     local_p = false;\n   /* If PIC, then assume that any global name can be overridden by\n-     symbols resolved from other modules.  */\n+     symbols resolved from other modules, unless we are compiling with\n+     -fwhole-program, which assumes that names are local.  */\n   else if (shlib)\n-    local_p = false;\n+    local_p = flag_whole_program;\n   /* Uninitialized COMMON variable may be unified with symbols\n      resolved from other modules.  */\n   else if (DECL_COMMON (exp)"}]}