{"sha": "821c7947bfd6787fdaaba8dca2f9468661666dcc", "node_id": "C_kwDOANBUbNoAKDgyMWM3OTQ3YmZkNjc4N2ZkYWFiYThkY2EyZjk0Njg2NjE2NjZkY2M", "commit": {"author": {"name": "Arthur Cohen", "email": "arthur.cohen@embecosm.com", "date": "2022-04-26T08:03:41Z"}, "committer": {"name": "Arthur Cohen", "email": "arthur.cohen@embecosm.com", "date": "2022-04-28T13:16:10Z"}, "message": "ast: resolve: Add SimplePathSeg -> CanonicalPath resolver", "tree": {"sha": "d4d06b839e12b46d91cf731a5bba1e52803b09dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d4d06b839e12b46d91cf731a5bba1e52803b09dd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/821c7947bfd6787fdaaba8dca2f9468661666dcc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/821c7947bfd6787fdaaba8dca2f9468661666dcc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/821c7947bfd6787fdaaba8dca2f9468661666dcc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/821c7947bfd6787fdaaba8dca2f9468661666dcc/comments", "author": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0b91defe9422d1f0931b46beff4d22e7b4e37fd8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b91defe9422d1f0931b46beff4d22e7b4e37fd8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b91defe9422d1f0931b46beff4d22e7b4e37fd8"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "fb8982a780fde574faf0e36939d7a03f6f1b8627", "filename": "gcc/rust/ast/rust-ast.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/821c7947bfd6787fdaaba8dca2f9468661666dcc/gcc%2Frust%2Fast%2Frust-ast.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/821c7947bfd6787fdaaba8dca2f9468661666dcc/gcc%2Frust%2Fast%2Frust-ast.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fast%2Frust-ast.h?ref=821c7947bfd6787fdaaba8dca2f9468661666dcc", "patch": "@@ -349,6 +349,7 @@ class SimplePathSegment : public PathSegment\n \n   Location get_locus () const { return locus; }\n   NodeId get_node_id () const { return node_id; }\n+  const std::string &get_segment_name () const { return segment_name; }\n \n   // TODO: visitor pattern?\n };"}, {"sha": "60793d331abc0284cc0372314a5ba252f4f3b016", "filename": "gcc/rust/resolve/rust-ast-resolve-path.h", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/821c7947bfd6787fdaaba8dca2f9468661666dcc/gcc%2Frust%2Fresolve%2Frust-ast-resolve-path.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/821c7947bfd6787fdaaba8dca2f9468661666dcc/gcc%2Frust%2Fresolve%2Frust-ast-resolve-path.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fresolve%2Frust-ast-resolve-path.h?ref=821c7947bfd6787fdaaba8dca2f9468661666dcc", "patch": "@@ -37,12 +37,23 @@ class ResolvePath : public ResolverBase\n \n   void resolve_path (AST::PathInExpression *expr);\n   void resolve_path (AST::QualifiedPathInExpression *expr);\n+  void resolve_path (AST::SimplePath *expr);\n \n   void resolve_segments (CanonicalPath prefix, size_t offs,\n \t\t\t std::vector<AST::PathExprSegment> &segs,\n \t\t\t NodeId expr_node_id, Location expr_locus);\n };\n \n+class ResolveSimplePathSegmentToCanonicalPath\n+{\n+public:\n+  static CanonicalPath resolve (AST::SimplePathSegment &seg)\n+  {\n+    // FIXME: Since this is so simple, maybe it can simply be a tiny function?\n+    return CanonicalPath::new_seg (seg.get_node_id (), seg.get_segment_name ());\n+  }\n+};\n+\n } // namespace Resolver\n } // namespace Rust\n "}]}