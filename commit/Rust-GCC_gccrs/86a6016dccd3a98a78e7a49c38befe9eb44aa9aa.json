{"sha": "86a6016dccd3a98a78e7a49c38befe9eb44aa9aa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODZhNjAxNmRjY2QzYTk4YTc4ZTdhNDljMzhiZWZlOWViNDRhYTlhYQ==", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2013-10-11T10:42:42Z"}, "committer": {"name": "Thomas Schwinge", "email": "tschwinge@gcc.gnu.org", "date": "2013-10-11T10:42:42Z"}, "message": "_OPENMP pre-processor checks, openmp_version Fortran instrinsic checks.\n\n\tgcc/testsuite/\n\t* c-c++-common/cpp/openmp-define-1.c: New file.\n\t* c-c++-common/cpp/openmp-define-2.c: Likewise.\n\t* c-c++-common/cpp/openmp-define-3.c: Likewise.\n\t* gfortran.dg/openmp-define-1.f90: Likewise.\n\t* gfortran.dg/openmp-define-2.f90: Likewise.\n\t* gfortran.dg/openmp-define-3.f90: Likewise.\n\tlibgomp/\n\t* testsuite/libgomp.fortran/openmp_version-1.f: New file.\n\t* testsuite/libgomp.fortran/openmp_version-2.f90: Likewise.\n\nFrom-SVN: r203417", "tree": {"sha": "76800cf7cacf652b47f85093b30a109ada721de6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/76800cf7cacf652b47f85093b30a109ada721de6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1e723fd75eb5db69c87a96af2ff09278e72e4976", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e723fd75eb5db69c87a96af2ff09278e72e4976", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e723fd75eb5db69c87a96af2ff09278e72e4976"}], "stats": {"total": 77, "additions": 77, "deletions": 0}, "files": [{"sha": "f182ad704b5524d6d61252456b4b4264b361afb4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=86a6016dccd3a98a78e7a49c38befe9eb44aa9aa", "patch": "@@ -1,5 +1,12 @@\n 2013-10-11  Thomas Schwinge  <thomas@codesourcery.com>\n \n+\t* c-c++-common/cpp/openmp-define-1.c: New file.\n+\t* c-c++-common/cpp/openmp-define-2.c: Likewise.\n+\t* c-c++-common/cpp/openmp-define-3.c: Likewise.\n+\t* gfortran.dg/openmp-define-1.f90: Likewise.\n+\t* gfortran.dg/openmp-define-2.f90: Likewise.\n+\t* gfortran.dg/openmp-define-3.f90: Likewise.\n+\n \t* g++.dg/gomp/gomp.exp: Recurse into subdirectories when looking\n \tfor test source files.\n \t* gcc.dg/gomp/gomp.exp: Likewise."}, {"sha": "0e7943aa0b451ebb549f88dd8d0b2cf511026d04", "filename": "gcc/testsuite/c-c++-common/cpp/openmp-define-1.c", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fopenmp-define-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fopenmp-define-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fopenmp-define-1.c?ref=86a6016dccd3a98a78e7a49c38befe9eb44aa9aa", "patch": "@@ -0,0 +1,6 @@\n+/* { dg-require-effective-target fopenmp } */\n+/* { dg-do preprocess } */\n+\n+#ifdef _OPENMP\n+# error _OPENMP defined\n+#endif"}, {"sha": "f7777892fe6998ad7f0aedd74e47a8cfa0a5e9c5", "filename": "gcc/testsuite/c-c++-common/cpp/openmp-define-2.c", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fopenmp-define-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fopenmp-define-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fopenmp-define-2.c?ref=86a6016dccd3a98a78e7a49c38befe9eb44aa9aa", "patch": "@@ -0,0 +1,7 @@\n+/* { dg-require-effective-target fopenmp } */\n+/* { dg-options \"-fno-openmp\" } */\n+/* { dg-do preprocess } */\n+\n+#ifdef _OPENMP\n+# error _OPENMP defined\n+#endif"}, {"sha": "601a1c3623e24eb919c500012984b5b322d95267", "filename": "gcc/testsuite/c-c++-common/cpp/openmp-define-3.c", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fopenmp-define-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fopenmp-define-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fcpp%2Fopenmp-define-3.c?ref=86a6016dccd3a98a78e7a49c38befe9eb44aa9aa", "patch": "@@ -0,0 +1,11 @@\n+/* { dg-require-effective-target fopenmp } */\n+/* { dg-options \"-fopenmp\" } */\n+/* { dg-do preprocess } */\n+\n+#ifndef _OPENMP\n+# error _OPENMP not defined\n+#endif\n+\n+#if _OPENMP != 201307\n+# error _OPENMP defined to wrong value\n+#endif"}, {"sha": "d4ef1d1eafb1e14a2dd4d3fb15653ac201d0e107", "filename": "gcc/testsuite/gfortran.dg/openmp-define-1.f90", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/gcc%2Ftestsuite%2Fgfortran.dg%2Fopenmp-define-1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/gcc%2Ftestsuite%2Fgfortran.dg%2Fopenmp-define-1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fopenmp-define-1.f90?ref=86a6016dccd3a98a78e7a49c38befe9eb44aa9aa", "patch": "@@ -0,0 +1,7 @@\n+! { dg-require-effective-target fopenmp }\n+! { dg-options \"-cpp\" }\n+! { dg-do preprocess }\n+\n+#ifdef _OPENMP\n+# error _OPENMP defined\n+#endif"}, {"sha": "651dae77f6f77d98084e84c6c56434cdd7947430", "filename": "gcc/testsuite/gfortran.dg/openmp-define-2.f90", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/gcc%2Ftestsuite%2Fgfortran.dg%2Fopenmp-define-2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/gcc%2Ftestsuite%2Fgfortran.dg%2Fopenmp-define-2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fopenmp-define-2.f90?ref=86a6016dccd3a98a78e7a49c38befe9eb44aa9aa", "patch": "@@ -0,0 +1,7 @@\n+! { dg-require-effective-target fopenmp }\n+! { dg-options \"-cpp -fno-openmp\" }\n+! { dg-do preprocess }\n+\n+#ifdef _OPENMP\n+# error _OPENMP defined\n+#endif"}, {"sha": "dfc45b1d1e10a79dedb030186f2fb6199fc71611", "filename": "gcc/testsuite/gfortran.dg/openmp-define-3.f90", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/gcc%2Ftestsuite%2Fgfortran.dg%2Fopenmp-define-3.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/gcc%2Ftestsuite%2Fgfortran.dg%2Fopenmp-define-3.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fopenmp-define-3.f90?ref=86a6016dccd3a98a78e7a49c38befe9eb44aa9aa", "patch": "@@ -0,0 +1,11 @@\n+! { dg-require-effective-target fopenmp }\n+! { dg-options \"-cpp -fopenmp\" }\n+! { dg-do preprocess }\n+\n+#ifndef _OPENMP\n+# error _OPENMP not defined\n+#endif\n+\n+#if _OPENMP != 201107\n+# error _OPENMP defined to wrong value\n+#endif"}, {"sha": "01df81d796644b015f6d2712c899251c5b8eed9d", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=86a6016dccd3a98a78e7a49c38befe9eb44aa9aa", "patch": "@@ -1,5 +1,8 @@\n 2013-10-11  Thomas Schwinge  <thomas@codesourcery.com>\n \n+\t* testsuite/libgomp.fortran/openmp_version-1.f: New file.\n+\t* testsuite/libgomp.fortran/openmp_version-2.f90: Likewise.\n+\n \t* omp.h.in: Don't touch the user's namespace.\n \n 2013-10-11  Jakub Jelinek  <jakub@redhat.com>"}, {"sha": "aaa888189b1eb1f7d9de1ee684d448a734cb3cae", "filename": "libgomp/testsuite/libgomp.fortran/openmp_version-1.f", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fopenmp_version-1.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fopenmp_version-1.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fopenmp_version-1.f?ref=86a6016dccd3a98a78e7a49c38befe9eb44aa9aa", "patch": "@@ -0,0 +1,9 @@\n+! { dg-do run }\n+\n+      program main\n+      implicit none\n+      include \"omp_lib.h\"\n+\n+      if (openmp_version .ne. 201107) call abort;\n+\n+      end program main"}, {"sha": "b2d1d261f27df12488c21351fdf8a89b29701275", "filename": "libgomp/testsuite/libgomp.fortran/openmp_version-2.f90", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fopenmp_version-2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86a6016dccd3a98a78e7a49c38befe9eb44aa9aa/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fopenmp_version-2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fopenmp_version-2.f90?ref=86a6016dccd3a98a78e7a49c38befe9eb44aa9aa", "patch": "@@ -0,0 +1,9 @@\n+! { dg-do run }\n+\n+program main\n+  use omp_lib\n+  implicit none\n+\n+  if (openmp_version .ne. 201107) call abort;\n+\n+end program main"}]}