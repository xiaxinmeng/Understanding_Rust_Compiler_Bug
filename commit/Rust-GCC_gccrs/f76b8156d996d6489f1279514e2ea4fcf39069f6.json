{"sha": "f76b8156d996d6489f1279514e2ea4fcf39069f6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Zjc2YjgxNTZkOTk2ZDY0ODlmMTI3OTUxNGUyZWE0ZmNmMzkwNjlmNg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-04-22T22:19:47Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-04-22T22:19:47Z"}, "message": "(gen_variable_dir): Add test for DW_AT_declaration to the old_die if statement, and delete assertion for it.\n\n(gen_variable_dir):  Add test for DW_AT_declaration to\nthe old_die if statement, and delete assertion for it.\n(decl_ultimate_origin): Remove last change.\n\nFrom-SVN: r13956", "tree": {"sha": "dfb47016797c8d34bff77af2a5ebf3f0c05cf2b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dfb47016797c8d34bff77af2a5ebf3f0c05cf2b7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f76b8156d996d6489f1279514e2ea4fcf39069f6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f76b8156d996d6489f1279514e2ea4fcf39069f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f76b8156d996d6489f1279514e2ea4fcf39069f6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f76b8156d996d6489f1279514e2ea4fcf39069f6/comments", "author": null, "committer": null, "parents": [{"sha": "6c0870b8965075ed5cef38bc90a6992febec95a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c0870b8965075ed5cef38bc90a6992febec95a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c0870b8965075ed5cef38bc90a6992febec95a5"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "c30785f110098b76fee8e0bb8bf73ea351c909ed", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f76b8156d996d6489f1279514e2ea4fcf39069f6/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f76b8156d996d6489f1279514e2ea4fcf39069f6/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=f76b8156d996d6489f1279514e2ea4fcf39069f6", "patch": "@@ -1998,7 +1998,7 @@ decl_ultimate_origin (decl)\n {\n   register tree immediate_origin = DECL_ABSTRACT_ORIGIN (decl);\n \n-  if (immediate_origin == NULL_TREE || immediate_origin == decl)\n+  if (immediate_origin == NULL_TREE)\n     return NULL_TREE;\n   else\n     {\n@@ -7453,9 +7453,15 @@ gen_variable_die (decl, context_die)\n \n   if (origin != NULL)\n     add_abstract_origin_attribute (var_die, origin);\n-  else if (old_die && TREE_STATIC (decl))\n-    {\n-      assert (get_AT_flag (old_die, DW_AT_declaration) == 1);\n+  /* Loop unrolling can create multiple blocks that refer to the same\n+     static variable, so we must test for the DW_AT_declaration flag.  */\n+  /* ??? Loop unrolling/reorder_blocks should perhaps be rewritten to\n+     copy decls and set the DECL_ABSTRACT flag on them instead of\n+     sharing them.  */\n+  else if (old_die && TREE_STATIC (decl)\n+ \t   && get_AT_flag (old_die, DW_AT_declaration) == 1)\n+    {\n+      /* ??? This is an instantiation of a C++ class level static.  */\n       add_AT_die_ref (var_die, DW_AT_specification, old_die);\n       if (DECL_NAME (decl))\n \t{"}]}