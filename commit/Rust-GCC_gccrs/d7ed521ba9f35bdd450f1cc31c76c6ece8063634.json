{"sha": "d7ed521ba9f35bdd450f1cc31c76c6ece8063634", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDdlZDUyMWJhOWYzNWJkZDQ1MGYxY2MzMWM3NmM2ZWNlODA2MzYzNA==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2004-04-15T08:27:29Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2004-04-15T08:27:29Z"}, "message": "locale.cc (locale::operator==): When _M_impl == __rhs._M_impl avoid constructing unnecessarily this->name().\n\n2004-04-15  Paolo Carlini  <pcarlini@suse.de>\n\n\t* src/locale.cc (locale::operator==): When _M_impl == __rhs._M_impl\n\tavoid constructing unnecessarily this->name().\n\nFrom-SVN: r80714", "tree": {"sha": "3c6f89fc78b1ddd44683e6a2d0f25326e1d6af5b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3c6f89fc78b1ddd44683e6a2d0f25326e1d6af5b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d7ed521ba9f35bdd450f1cc31c76c6ece8063634", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7ed521ba9f35bdd450f1cc31c76c6ece8063634", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d7ed521ba9f35bdd450f1cc31c76c6ece8063634", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7ed521ba9f35bdd450f1cc31c76c6ece8063634/comments", "author": null, "committer": null, "parents": [{"sha": "ea7b98d0c3db88f34b78693a82909c73c50b0162", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea7b98d0c3db88f34b78693a82909c73c50b0162", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea7b98d0c3db88f34b78693a82909c73c50b0162"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "491f75d7d0cd54fa98ea20ee2b989506ceafb4da", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7ed521ba9f35bdd450f1cc31c76c6ece8063634/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7ed521ba9f35bdd450f1cc31c76c6ece8063634/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=d7ed521ba9f35bdd450f1cc31c76c6ece8063634", "patch": "@@ -1,3 +1,8 @@\n+2004-04-15  Paolo Carlini  <pcarlini@suse.de>\n+\n+\t* src/locale.cc (locale::operator==): When _M_impl == __rhs._M_impl\n+\tavoid constructing unnecessarily this->name().\n+\n 2004-04-14  Zack Weinberg  <zack@codesourcery.com>\n \n \t* testsuite/Makefile.am: Add definition of AM_CXXFLAGS."}, {"sha": "0ed2dbb8820be16d9059ba728edff257efa10d99", "filename": "libstdc++-v3/src/locale.cc", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7ed521ba9f35bdd450f1cc31c76c6ece8063634/libstdc%2B%2B-v3%2Fsrc%2Flocale.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7ed521ba9f35bdd450f1cc31c76c6ece8063634/libstdc%2B%2B-v3%2Fsrc%2Flocale.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Flocale.cc?ref=d7ed521ba9f35bdd450f1cc31c76c6ece8063634", "patch": "@@ -70,9 +70,16 @@ namespace std\n   bool\n   locale::operator==(const locale& __rhs) const throw()\n   {\n-    string __name = this->name();\n-    return (_M_impl == __rhs._M_impl \n-\t    || (__name != \"*\" && __name == __rhs.name()));\n+    bool __ret = false;\n+    if (_M_impl == __rhs._M_impl)\n+      __ret = true;\n+    else\n+      {\n+\tconst string __name = this->name();\n+\tif (__name != \"*\" && __name == __rhs.name())\n+\t  __ret = true;\n+      }\n+    return __ret;\n   }\n \n   const locale&"}]}