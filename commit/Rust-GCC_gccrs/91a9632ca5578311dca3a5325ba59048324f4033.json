{"sha": "91a9632ca5578311dca3a5325ba59048324f4033", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTFhOTYzMmNhNTU3ODMxMWRjYTNhNTMyNWJhNTkwNDgzMjRmNDAzMw==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2008-10-11T12:09:23Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2008-10-11T12:09:23Z"}, "message": "re PR fortran/37794 (Fortran module overloading regression)\n\n2008-10-11  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/37794\n\t* module.c (check_for_ambiguous): Remove redundant code.\n\n2008-10-11  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/37794\n\t* gfortran.dg/used_types_24.f90: New test.\n\nFrom-SVN: r141057", "tree": {"sha": "1d6b1db831a3a302f7892a85e50dd19845795cea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d6b1db831a3a302f7892a85e50dd19845795cea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/91a9632ca5578311dca3a5325ba59048324f4033", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91a9632ca5578311dca3a5325ba59048324f4033", "html_url": "https://github.com/Rust-GCC/gccrs/commit/91a9632ca5578311dca3a5325ba59048324f4033", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91a9632ca5578311dca3a5325ba59048324f4033/comments", "author": null, "committer": null, "parents": [{"sha": "506a7bc8995f0ca9357eca2ff7cdeb857612e283", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/506a7bc8995f0ca9357eca2ff7cdeb857612e283", "html_url": "https://github.com/Rust-GCC/gccrs/commit/506a7bc8995f0ca9357eca2ff7cdeb857612e283"}], "stats": {"total": 50, "additions": 43, "deletions": 7}, "files": [{"sha": "9393dae8a26d9512ff6ca717182132c86d3bc565", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91a9632ca5578311dca3a5325ba59048324f4033/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91a9632ca5578311dca3a5325ba59048324f4033/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=91a9632ca5578311dca3a5325ba59048324f4033", "patch": "@@ -1,3 +1,8 @@\n+2008-10-11  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/37794\n+\t* module.c (check_for_ambiguous): Remove redundant code.\n+\n 2008-10-09  Daniel Kraft  <d@domob.eu>\n \n \tPR fortran/35723"}, {"sha": "b9c99fe8f350eeb00a8e67f37187b7cb74827008", "filename": "gcc/fortran/module.c", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91a9632ca5578311dca3a5325ba59048324f4033/gcc%2Ffortran%2Fmodule.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91a9632ca5578311dca3a5325ba59048324f4033/gcc%2Ffortran%2Fmodule.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fmodule.c?ref=91a9632ca5578311dca3a5325ba59048324f4033", "patch": "@@ -3960,13 +3960,6 @@ check_for_ambiguous (gfc_symbol *st_sym, pointer_info *info)\n   if (st_sym == rsym)\n     return false;\n \n-  /* Identical derived types are not ambiguous and will be rolled up\n-     later.  */\n-  if (st_sym->attr.flavor == FL_DERIVED\n-\t&& rsym->attr.flavor == FL_DERIVED\n-\t&& gfc_compare_derived_types (st_sym, rsym))\n-    return false;\n-\n   /* If the existing symbol is generic from a different module and\n      the new symbol is generic there can be no ambiguity.  */\n   if (st_sym->attr.generic"}, {"sha": "5a31ae33e19402cc1fd3256fc9ac2d361b827724", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91a9632ca5578311dca3a5325ba59048324f4033/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91a9632ca5578311dca3a5325ba59048324f4033/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=91a9632ca5578311dca3a5325ba59048324f4033", "patch": "@@ -1,3 +1,8 @@\n+2008-10-11  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/37794\n+\t* gfortran.dg/used_types_24.f90: New test.\n+\n 2008-10-11  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/35760"}, {"sha": "44d2f5ec1992087a7134f9bf9609156bca3fa5d5", "filename": "gcc/testsuite/gfortran.dg/used_types_24.f90", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91a9632ca5578311dca3a5325ba59048324f4033/gcc%2Ftestsuite%2Fgfortran.dg%2Fused_types_24.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91a9632ca5578311dca3a5325ba59048324f4033/gcc%2Ftestsuite%2Fgfortran.dg%2Fused_types_24.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fused_types_24.f90?ref=91a9632ca5578311dca3a5325ba59048324f4033", "patch": "@@ -0,0 +1,33 @@\n+! { dg-do compile }\n+! Tests the fix for PR37794 a regression where a bit of redundant code caused an ICE.\n+!\n+! Contributed by Jonathan Hogg  <J.Hogg@rl.ac.uk>\n+!\n+module m1\n+  implicit none\n+\n+  type of01_data_private\n+    real :: foo\n+  end type of01_data_private\n+\n+  type of01_data\n+    type (of01_data_private) :: private\n+  end type of01_data\n+end module m1\n+\n+module m2\n+  implicit none\n+\n+  type of01_data_private\n+    integer :: youngest\n+  end type of01_data_private\n+end module m2\n+\n+module test_mod\n+  use m1, of01_rdata => of01_data\n+  use m2, of01_idata => of01_data ! { dg-error \"not found in module\" }\n+\n+  implicit none\n+end module test_mod\n+\n+! { dg-final { cleanup-modules \"m1 m2 test_mod\" } }"}]}