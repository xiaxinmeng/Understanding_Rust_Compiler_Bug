{"sha": "21822c903b999d3e8f28d94d9c7ca00325ae90f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjE4MjJjOTAzYjk5OWQzZThmMjhkOTRkOWM3Y2EwMDMyNWFlOTBmMg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-01-11T23:37:05Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-01-11T23:37:05Z"}, "message": "Change libgo testsuite format to be more like DejaGNU.\n\nFrom-SVN: r168685", "tree": {"sha": "72dcbf25a43fb994391d3c79c252e6303f8ea14f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/72dcbf25a43fb994391d3c79c252e6303f8ea14f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/21822c903b999d3e8f28d94d9c7ca00325ae90f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21822c903b999d3e8f28d94d9c7ca00325ae90f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21822c903b999d3e8f28d94d9c7ca00325ae90f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21822c903b999d3e8f28d94d9c7ca00325ae90f2/comments", "author": null, "committer": null, "parents": [{"sha": "2e7e3e1de169a5599f9f895a8d5e2347b4cf3c14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e7e3e1de169a5599f9f895a8d5e2347b4cf3c14", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e7e3e1de169a5599f9f895a8d5e2347b4cf3c14"}], "stats": {"total": 24, "additions": 14, "deletions": 10}, "files": [{"sha": "f5bb774e63cff0a3ad9c0a61f024e259cf63ca48", "filename": "libgo/Makefile.am", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21822c903b999d3e8f28d94d9c7ca00325ae90f2/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21822c903b999d3e8f28d94d9c7ca00325ae90f2/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=21822c903b999d3e8f28d94d9c7ca00325ae90f2", "patch": "@@ -1316,13 +1316,15 @@ CHECK = \\\n \tMAKE=\"$(MAKE)\"; \\\n \texport MAKE; \\\n \trm -f $@-log; \\\n-\techo -n \"$(@D) \" >$@-log 2>&1; \\\n \tprefix=`if test \"$(@D)\" = \"regexp\"; then echo regexp-test; else dirname $(@D); fi`; \\\n \ttest \"$${prefix}\" != \".\" || prefix=\"$(@D)\"; \\\n-\t$(srcdir)/testsuite/gotest --dejagnu=$(use_dejagnu) --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --prefix=\"libgo_$${prefix}\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" >>$@-log 2>&1; \\\n-\tx=$$?; \\\n-\tcat $@-log; \\\n-\texit $$x\n+\tif $(srcdir)/testsuite/gotest --dejagnu=$(use_dejagnu) --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --prefix=\"libgo_$${prefix}\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" >>$@-log 2>&1; then \\\n+\t  echo \"PASS: $(@D)\"; \\\n+\telse \\\n+\t  echo \"FAIL: $(@D)\"; \\\n+\t  cat $@-log; \\\n+\t  exit 1; \\\n+\tfi\n \n # Build all packages before checking any.\n CHECK_DEPS = libgo.la libgobegin.a \\"}, {"sha": "64a5f9a09ecb737c68c49970ecf74202949490b9", "filename": "libgo/Makefile.in", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21822c903b999d3e8f28d94d9c7ca00325ae90f2/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21822c903b999d3e8f28d94d9c7ca00325ae90f2/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=21822c903b999d3e8f28d94d9c7ca00325ae90f2", "patch": "@@ -1604,13 +1604,15 @@ CHECK = \\\n \tMAKE=\"$(MAKE)\"; \\\n \texport MAKE; \\\n \trm -f $@-log; \\\n-\techo -n \"$(@D) \" >$@-log 2>&1; \\\n \tprefix=`if test \"$(@D)\" = \"regexp\"; then echo regexp-test; else dirname $(@D); fi`; \\\n \ttest \"$${prefix}\" != \".\" || prefix=\"$(@D)\"; \\\n-\t$(srcdir)/testsuite/gotest --dejagnu=$(use_dejagnu) --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --prefix=\"libgo_$${prefix}\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" >>$@-log 2>&1; \\\n-\tx=$$?; \\\n-\tcat $@-log; \\\n-\texit $$x\n+\tif $(srcdir)/testsuite/gotest --dejagnu=$(use_dejagnu) --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --prefix=\"libgo_$${prefix}\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" >>$@-log 2>&1; then \\\n+\t  echo \"PASS: $(@D)\"; \\\n+\telse \\\n+\t  echo \"FAIL: $(@D)\"; \\\n+\t  cat $@-log; \\\n+\t  exit 1; \\\n+\tfi\n \n \n # Build all packages before checking any."}]}