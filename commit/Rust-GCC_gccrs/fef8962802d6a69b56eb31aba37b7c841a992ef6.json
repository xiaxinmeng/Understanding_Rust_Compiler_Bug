{"sha": "fef8962802d6a69b56eb31aba37b7c841a992ef6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmVmODk2MjgwMmQ2YTY5YjU2ZWIzMWFiYTM3YjdjODQxYTk5MmVmNg==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-18T15:17:29Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-18T15:17:29Z"}, "message": "re PR fortran/50420 ([Coarray] lcobound doesn't accept coarray subcomponents)\n\n\tPR fortran/50420\n\t* trans.c (gfc_build_array_ref): If type is not an array, check that\n\tthere is nothing to do, and do nothing.\n\nFrom-SVN: r180152", "tree": {"sha": "8be28509d40dae1897e69d8ad9ae23b70edfa848", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8be28509d40dae1897e69d8ad9ae23b70edfa848"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fef8962802d6a69b56eb31aba37b7c841a992ef6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fef8962802d6a69b56eb31aba37b7c841a992ef6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fef8962802d6a69b56eb31aba37b7c841a992ef6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fef8962802d6a69b56eb31aba37b7c841a992ef6/comments", "author": null, "committer": null, "parents": [{"sha": "49b804d0ea34e091ad19dfbb4d3d04c7a0112f0e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49b804d0ea34e091ad19dfbb4d3d04c7a0112f0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49b804d0ea34e091ad19dfbb4d3d04c7a0112f0e"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "f7a793f056cfa7f32624b09c0905daa88c8d20de", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fef8962802d6a69b56eb31aba37b7c841a992ef6/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fef8962802d6a69b56eb31aba37b7c841a992ef6/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=fef8962802d6a69b56eb31aba37b7c841a992ef6", "patch": "@@ -1,3 +1,9 @@\n+2011-10-18  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\tPR fortran/50420\n+\t* trans.c (gfc_build_array_ref): If type is not an array, check that\n+\tthere is nothing to do, and do nothing.\n+\n 2011-10-18  Mikael Morin  <mikael@gcc.gnu.org>\n \n \tPR fortran/50420"}, {"sha": "88bd389c545661b417c9c9cc3f9c9831c240db72", "filename": "gcc/fortran/trans.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fef8962802d6a69b56eb31aba37b7c841a992ef6/gcc%2Ffortran%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fef8962802d6a69b56eb31aba37b7c841a992ef6/gcc%2Ffortran%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans.c?ref=fef8962802d6a69b56eb31aba37b7c841a992ef6", "patch": "@@ -323,7 +323,14 @@ gfc_build_array_ref (tree base, tree offset, tree decl)\n       return fold_convert (TYPE_MAIN_VARIANT (type), base);\n     }\n \n-  gcc_assert (TREE_CODE (type) == ARRAY_TYPE);\n+  /* Scalar coarray, there is nothing to do.  */\n+  if (TREE_CODE (type) != ARRAY_TYPE)\n+    {\n+      gcc_assert (decl == NULL_TREE);\n+      gcc_assert (integer_zerop (offset));\n+      return base;\n+    }\n+\n   type = TREE_TYPE (type);\n \n   if (DECL_P (base))"}]}