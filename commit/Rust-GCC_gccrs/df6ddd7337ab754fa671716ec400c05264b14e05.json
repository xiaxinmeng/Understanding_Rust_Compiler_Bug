{"sha": "df6ddd7337ab754fa671716ec400c05264b14e05", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGY2ZGRkNzMzN2FiNzU0ZmE2NzE3MTZlYzQwMGMwNTI2NGIxNGUwNQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-12-10T22:04:20Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-12-10T22:04:20Z"}, "message": "(choose_temp_base): Don't dump core if TMPDIR is empty.\n\nFrom-SVN: r13263", "tree": {"sha": "f9752a18c8b1cbfe444824650f2bfb620535dd4b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f9752a18c8b1cbfe444824650f2bfb620535dd4b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/df6ddd7337ab754fa671716ec400c05264b14e05", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df6ddd7337ab754fa671716ec400c05264b14e05", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df6ddd7337ab754fa671716ec400c05264b14e05", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df6ddd7337ab754fa671716ec400c05264b14e05/comments", "author": null, "committer": null, "parents": [{"sha": "bd8c4b14b51412daa1eaeeb11b9742cd395d5cda", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd8c4b14b51412daa1eaeeb11b9742cd395d5cda", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd8c4b14b51412daa1eaeeb11b9742cd395d5cda"}], "stats": {"total": 5, "additions": 2, "deletions": 3}, "files": [{"sha": "798de4822a58cf4ee4251d8116998e4cbf171318", "filename": "gcc/choose-temp.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/df6ddd7337ab754fa671716ec400c05264b14e05/gcc%2Fchoose-temp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/df6ddd7337ab754fa671716ec400c05264b14e05/gcc%2Fchoose-temp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fchoose-temp.c?ref=df6ddd7337ab754fa671716ec400c05264b14e05", "patch": "@@ -125,14 +125,13 @@ choose_temp_base ()\n #endif\n \n   len = strlen (base);\n-  if (len == 0)\n-    abort ();\n   temp_filename = xmalloc (len + 1 /*DIR_SEPARATOR*/\n \t\t\t   + strlen (TEMP_FILE) + 1);\n   strcpy (temp_filename, base);\n \n #ifndef MPW\n-  if (temp_filename[len-1] != '/'\n+  if (len != 0\n+      && temp_filename[len-1] != '/'\n       && temp_filename[len-1] != DIR_SEPARATOR)\n     temp_filename[len++] = DIR_SEPARATOR;\n #else /* MPW */"}]}