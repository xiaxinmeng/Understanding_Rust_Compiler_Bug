{"sha": "bebb1f203463eaff5b988e04461d7c63a89f185f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmViYjFmMjAzNDYzZWFmZjViOTg4ZTA0NDYxZDdjNjNhODlmMTg1Zg==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2010-07-23T18:44:16Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2010-07-23T18:44:16Z"}, "message": "Require OSXSAVE for AVX support.\n\n2010-07-23  H.J. Lu  <hongjiu.lu@intel.com>\n\n\t* gcc.target/i386/aes-avx-check.h (main): Require OSXSAVE for\n\tAVX support.\n\t* gcc.target/i386/pclmul-avx-check.h (main): Likewise.\n\t* gcc.target/x86_64/abi/avx/avx-check.h (main): Likewise.\n\nFrom-SVN: r162480", "tree": {"sha": "a085925800d88563db76ddc6e92b68c58c7ee098", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a085925800d88563db76ddc6e92b68c58c7ee098"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bebb1f203463eaff5b988e04461d7c63a89f185f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bebb1f203463eaff5b988e04461d7c63a89f185f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bebb1f203463eaff5b988e04461d7c63a89f185f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bebb1f203463eaff5b988e04461d7c63a89f185f/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9b91e43610f57cf94497ae45c4e424d68c7371f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b91e43610f57cf94497ae45c4e424d68c7371f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b91e43610f57cf94497ae45c4e424d68c7371f0"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "f6a20dc290ab76b5799c30f99b5d7d9533e1cff5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bebb1f203463eaff5b988e04461d7c63a89f185f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bebb1f203463eaff5b988e04461d7c63a89f185f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bebb1f203463eaff5b988e04461d7c63a89f185f", "patch": "@@ -1,3 +1,10 @@\n+2010-07-23  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* gcc.target/i386/aes-avx-check.h (main): Require OSXSAVE for\n+\tAVX support.\n+\t* gcc.target/i386/pclmul-avx-check.h (main): Likewise.\n+\t* gcc.target/x86_64/abi/avx/avx-check.h (main): Likewise.\n+\n 2010-07-23  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* lib/target-supports.exp (add_options_for_tls): New proc."}, {"sha": "36a038ea341c7d901ddfbdaa2cd4498a01fa9fee", "filename": "gcc/testsuite/gcc.target/i386/aes-avx-check.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bebb1f203463eaff5b988e04461d7c63a89f185f/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Faes-avx-check.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bebb1f203463eaff5b988e04461d7c63a89f185f/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Faes-avx-check.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Faes-avx-check.h?ref=bebb1f203463eaff5b988e04461d7c63a89f185f", "patch": "@@ -22,7 +22,8 @@ main ()\n     return 0;\n \n   /* Run AES + AVX test only if host has AES + AVX support.  */\n-  if ((ecx & (bit_AVX | bit_AES)) == (bit_AVX | bit_AES))\n+  if ((ecx & (bit_AVX | bit_OSXSAVE | bit_AES))\n+      == (bit_AVX | bit_OSXSAVE | bit_AES))\n     {\n       do_test ();\n #ifdef DEBUG"}, {"sha": "750e25c5069cdd0eed031084c37ebf8d3ca91dd4", "filename": "gcc/testsuite/gcc.target/i386/pclmul-avx-check.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bebb1f203463eaff5b988e04461d7c63a89f185f/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpclmul-avx-check.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bebb1f203463eaff5b988e04461d7c63a89f185f/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpclmul-avx-check.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpclmul-avx-check.h?ref=bebb1f203463eaff5b988e04461d7c63a89f185f", "patch": "@@ -22,7 +22,8 @@ main ()\n     return 0;\n \n   /* Run PCLMUL + AVX test only if host has PCLMUL + AVX support.  */\n-  if ((ecx & (bit_AVX | bit_PCLMUL)) == (bit_AVX | bit_PCLMUL))\n+  if ((ecx & (bit_AVX | bit_OSXSAVE | bit_PCLMUL))\n+      == (bit_AVX | bit_OSXSAVE | bit_PCLMUL))\n     {\n       do_test ();\n #ifdef DEBUG"}, {"sha": "e66a27e9afdda24682a86e826ee12fe39e6b5ab4", "filename": "gcc/testsuite/gcc.target/x86_64/abi/avx/avx-check.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bebb1f203463eaff5b988e04461d7c63a89f185f/gcc%2Ftestsuite%2Fgcc.target%2Fx86_64%2Fabi%2Favx%2Favx-check.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bebb1f203463eaff5b988e04461d7c63a89f185f/gcc%2Ftestsuite%2Fgcc.target%2Fx86_64%2Fabi%2Favx%2Favx-check.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fx86_64%2Fabi%2Favx%2Favx-check.h?ref=bebb1f203463eaff5b988e04461d7c63a89f185f", "patch": "@@ -12,7 +12,7 @@ main ()\n     return 0;\n \n   /* Run AVX test only if host has AVX support.  */\n-  if (ecx & bit_AVX)\n+  if ((ecx & (bit_AVX | bit_OSXSAVE)) == (bit_AVX | bit_OSXSAVE))\n     {\n       avx_test ();\n #ifdef DEBUG"}]}