{"sha": "ac4f7ad92fa88dab7f72bbb2ba0a8a0b544e40fa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWM0ZjdhZDkyZmE4OGRhYjdmNzJiYmIyYmEwYThhMGI1NDRlNDBmYQ==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@redhat.com", "date": "2001-11-05T21:04:07Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2001-11-05T21:04:07Z"}, "message": "rs6000.c (rs6000_select_section): Handle CONSTRUCTORs too.\n\n\t* config/rs6000/rs6000.c (rs6000_select_section): Handle\n\tCONSTRUCTORs too.\n\nFrom-SVN: r46792", "tree": {"sha": "092384d97ed2994d4265b609acca2b75f5217a41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/092384d97ed2994d4265b609acca2b75f5217a41"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ac4f7ad92fa88dab7f72bbb2ba0a8a0b544e40fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac4f7ad92fa88dab7f72bbb2ba0a8a0b544e40fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac4f7ad92fa88dab7f72bbb2ba0a8a0b544e40fa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac4f7ad92fa88dab7f72bbb2ba0a8a0b544e40fa/comments", "author": null, "committer": null, "parents": [{"sha": "e529bd42ef74c83959a86799d866be203c8669b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e529bd42ef74c83959a86799d866be203c8669b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e529bd42ef74c83959a86799d866be203c8669b7"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "06d054243a46c222623b0ece2c2c8a6ba425b56d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac4f7ad92fa88dab7f72bbb2ba0a8a0b544e40fa/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac4f7ad92fa88dab7f72bbb2ba0a8a0b544e40fa/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ac4f7ad92fa88dab7f72bbb2ba0a8a0b544e40fa", "patch": "@@ -1,3 +1,8 @@\n+2001-11-05  Geoffrey Keating  <geoffk@redhat.com>\n+\n+\t* config/rs6000/rs6000.c (rs6000_select_section): Handle\n+\tCONSTRUCTORs too.\n+\n 2001-11-05  Nick Clifton  <nickc@cambridge.redhat.com>\n \n \t* config/arm/arm.c (arm_return_in_memory): Cope with"}, {"sha": "6be9db72a9595395072313313749bd3d622567dc", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac4f7ad92fa88dab7f72bbb2ba0a8a0b544e40fa/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac4f7ad92fa88dab7f72bbb2ba0a8a0b544e40fa/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=ac4f7ad92fa88dab7f72bbb2ba0a8a0b544e40fa", "patch": "@@ -8311,6 +8311,11 @@ rs6000_select_section (decl, reloc)\n \t\t&& DECL_INITIAL (decl)\n \t\t&& DECL_INITIAL (decl) != error_mark_node\n \t\t&& TREE_CONSTANT (DECL_INITIAL (decl)));\n+  else if (TREE_CODE (decl) == CONSTRUCTOR)\n+    readonly = (! (flag_pic && reloc)\n+\t\t&& TREE_READONLY (decl)\n+\t\t&& ! TREE_SIDE_EFFECTS (decl)\n+\t\t&& TREE_CONSTANT (DECL_INITIAL (decl)));\n   else\n     readonly = 1;\n   if (needs_sdata && rs6000_sdata != SDATA_EABI)"}]}