{"sha": "a9335ba2445a4c0a10ed9288b8c712c46a2c8da4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTkzMzViYTI0NDVhNGMwYTEwZWQ5Mjg4YjhjNzEyYzQ2YTJjOGRhNA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2013-11-13T17:34:29Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2013-11-13T17:34:29Z"}, "message": "passes.c (execute_todo): Don't call do_per_function if flags are zero.\n\n\t* passes.c (execute_todo): Don't call do_per_function if\n\tflags are zero.\n\t(execute_one_ipa_transform_pass, execute_one_pass): Don't call\n\texecute_function_dump if dump_file is NULL.\n\nFrom-SVN: r204751", "tree": {"sha": "90da25b32228f253357c6d763abe067c27070dab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/90da25b32228f253357c6d763abe067c27070dab"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a9335ba2445a4c0a10ed9288b8c712c46a2c8da4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9335ba2445a4c0a10ed9288b8c712c46a2c8da4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9335ba2445a4c0a10ed9288b8c712c46a2c8da4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9335ba2445a4c0a10ed9288b8c712c46a2c8da4/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b62c62f4b017b1b3bab47e2b928c795a15e66a0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b62c62f4b017b1b3bab47e2b928c795a15e66a0f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b62c62f4b017b1b3bab47e2b928c795a15e66a0f"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "8903f7ce59990672a150dfebbc86d3e992c7cf1d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9335ba2445a4c0a10ed9288b8c712c46a2c8da4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9335ba2445a4c0a10ed9288b8c712c46a2c8da4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a9335ba2445a4c0a10ed9288b8c712c46a2c8da4", "patch": "@@ -1,3 +1,10 @@\n+2013-11-13  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* passes.c (execute_todo): Don't call do_per_function if\n+\tflags are zero.\n+\t(execute_one_ipa_transform_pass, execute_one_pass): Don't call\n+\texecute_function_dump if dump_file is NULL.\n+\n 2013-11-13  Martin Jambor  <mjambor@suse.cz>\n \n \t* cgraph.c (cgraph_get_create_node): Do what"}, {"sha": "f45ed0aed1c6bbeca7737bac4b7a063088565e71", "filename": "gcc/passes.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9335ba2445a4c0a10ed9288b8c712c46a2c8da4/gcc%2Fpasses.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9335ba2445a4c0a10ed9288b8c712c46a2c8da4/gcc%2Fpasses.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpasses.c?ref=a9335ba2445a4c0a10ed9288b8c712c46a2c8da4", "patch": "@@ -1875,7 +1875,8 @@ execute_todo (unsigned int flags)\n \n   statistics_fini_pass ();\n \n-  do_per_function (execute_function_todo, (void *)(size_t) flags);\n+  if (flags)\n+    do_per_function (execute_function_todo, (void *)(size_t) flags);\n \n   /* Always remove functions just as before inlining: IPA passes might be\n      interested to see bodies of extern inline functions that are not inlined\n@@ -2065,7 +2066,8 @@ execute_one_ipa_transform_pass (struct cgraph_node *node,\n   if (profile_report && cfun && (cfun->curr_properties & PROP_cfg))\n     check_profile_consistency (pass->static_pass_number, 1, true);\n \n-  do_per_function (execute_function_dump, NULL);\n+  if (dump_file)\n+    do_per_function (execute_function_dump, NULL);\n   pass_fini_dump_file (pass);\n \n   current_pass = NULL;\n@@ -2231,7 +2233,8 @@ execute_one_pass (struct opt_pass *pass)\n     check_profile_consistency (pass->static_pass_number, 1, true);\n \n   verify_interpass_invariants ();\n-  do_per_function (execute_function_dump, NULL);\n+  if (dump_file)\n+    do_per_function (execute_function_dump, NULL);\n   if (pass->type == IPA_PASS)\n     {\n       struct cgraph_node *node;"}]}