{"sha": "e0a0c2f4c6b7db9634f7cdd8b8516bac156d12d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTBhMGMyZjRjNmI3ZGI5NjM0ZjdjZGQ4Yjg1MTZiYWMxNTZkMTJkNw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-01-23T19:49:53Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-01-23T19:49:53Z"}, "message": "re PR go/64595 (go programs abort when debug info is stripped)\n\n\tPR go/64595\nruntime: Don't crash in runtime_callers if no debug info available.\n\nFrom-SVN: r220057", "tree": {"sha": "f9ef8b5a2ae9b307b150ef491af9362f3dc59ced", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f9ef8b5a2ae9b307b150ef491af9362f3dc59ced"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e0a0c2f4c6b7db9634f7cdd8b8516bac156d12d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0a0c2f4c6b7db9634f7cdd8b8516bac156d12d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0a0c2f4c6b7db9634f7cdd8b8516bac156d12d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0a0c2f4c6b7db9634f7cdd8b8516bac156d12d7/comments", "author": null, "committer": null, "parents": [{"sha": "7bbf973451f7e74bcdc93475aa57dff0010a4e42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7bbf973451f7e74bcdc93475aa57dff0010a4e42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7bbf973451f7e74bcdc93475aa57dff0010a4e42"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "34a21188e3a89d4c21f4463aa3bc907991eb7314", "filename": "libgo/runtime/go-callers.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0a0c2f4c6b7db9634f7cdd8b8516bac156d12d7/libgo%2Fruntime%2Fgo-callers.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0a0c2f4c6b7db9634f7cdd8b8516bac156d12d7/libgo%2Fruntime%2Fgo-callers.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fgo-callers.c?ref=e0a0c2f4c6b7db9634f7cdd8b8516bac156d12d7", "patch": "@@ -129,6 +129,11 @@ static void\n error_callback (void *data __attribute__ ((unused)),\n \t\tconst char *msg, int errnum)\n {\n+  if (errnum == -1)\n+    {\n+      /* No debug info available.  Carry on as best we can.  */\n+      return;\n+    }\n   if (errnum != 0)\n     runtime_printf (\"%s errno %d\\n\", msg, errnum);\n   runtime_throw (msg);"}]}