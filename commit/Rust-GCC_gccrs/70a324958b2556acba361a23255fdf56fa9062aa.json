{"sha": "70a324958b2556acba361a23255fdf56fa9062aa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzBhMzI0OTU4YjI1NTZhY2JhMzYxYTIzMjU1ZmRmNTZmYTkwNjJhYQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2001-03-21T17:54:00Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2001-03-21T17:54:00Z"}, "message": "* recog.c (push_operand): Recognize new format of push instructions.\n\nFrom-SVN: r40694", "tree": {"sha": "cf0f93281d4d071af62f33d97703370da8a6005d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cf0f93281d4d071af62f33d97703370da8a6005d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/70a324958b2556acba361a23255fdf56fa9062aa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70a324958b2556acba361a23255fdf56fa9062aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70a324958b2556acba361a23255fdf56fa9062aa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70a324958b2556acba361a23255fdf56fa9062aa/comments", "author": null, "committer": null, "parents": [{"sha": "5db60c46d06cdb6276d257d9ea895a4facb3e718", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5db60c46d06cdb6276d257d9ea895a4facb3e718", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5db60c46d06cdb6276d257d9ea895a4facb3e718"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "15dabb0840539e116e5f9400f44dd481a7866aa2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70a324958b2556acba361a23255fdf56fa9062aa/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70a324958b2556acba361a23255fdf56fa9062aa/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=70a324958b2556acba361a23255fdf56fa9062aa", "patch": "@@ -1,3 +1,7 @@\n+Wed Mar 21 18:51:19 CET 2001  Jan Hubicka  <jh@suse.cz>\n+\n+\t* recog.c (push_operand): Recognize new format of push instructions.\n+\n Wed Mar 21 10:53:57 CET 2001  Jan Hubicka  <jh@suse.cz>\n \n \t* i386.md (pushqi1): New."}, {"sha": "195d3f4c2c91ddd06cf43895de5cb6f484d5d7fb", "filename": "gcc/recog.c", "status": "modified", "additions": 20, "deletions": 2, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70a324958b2556acba361a23255fdf56fa9062aa/gcc%2Frecog.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70a324958b2556acba361a23255fdf56fa9062aa/gcc%2Frecog.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frecog.c?ref=70a324958b2556acba361a23255fdf56fa9062aa", "patch": "@@ -1358,8 +1358,26 @@ push_operand (op, mode)\n \n   op = XEXP (op, 0);\n \n-  if (GET_CODE (op) != STACK_PUSH_CODE)\n-    return 0;\n+  if (PUSH_ROUNDING (GET_MODE_SIZE (mode)) == GET_MODE_SIZE (mode))\n+    {\n+      if (GET_CODE (op) != STACK_PUSH_CODE)\n+\treturn 0;\n+    }\n+  else\n+    {\n+      int rounded_size = PUSH_ROUNDING (GET_MODE_SIZE (mode));\n+      if (GET_CODE (op) != PRE_MODIFY\n+\t  || GET_CODE (XEXP (op, 1)) != PLUS\n+\t  || XEXP (XEXP (op, 1), 0) != XEXP (op, 0)\n+\t  || GET_CODE (XEXP (XEXP (op, 1), 1)) != CONST_INT\n+#ifdef STACK_GROWS_DOWNWARD\n+\t  || INTVAL (XEXP (XEXP (op, 1), 1)) != -rounded_size\n+#else\n+\t  || INTVAL (XEXP (XEXP (op, 1), 1)) != rounded_size\n+#endif\n+\t  )\n+\treturn 0;\n+    }\n \n   return XEXP (op, 0) == stack_pointer_rtx;\n }"}]}