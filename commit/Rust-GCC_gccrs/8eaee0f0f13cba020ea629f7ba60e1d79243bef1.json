{"sha": "8eaee0f0f13cba020ea629f7ba60e1d79243bef1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGVhZWUwZjBmMTNjYmEwMjBlYTYyOWY3YmE2MGUxZDc5MjQzYmVmMQ==", "commit": {"author": {"name": "Mark Kettenis", "email": "kettenis@openbsd.org", "date": "2012-10-05T23:35:55Z"}, "committer": {"name": "Gerald Pfeifer", "email": "gerald@gcc.gnu.org", "date": "2012-10-05T23:35:55Z"}, "message": "config.host (*-*-openbsd*): Add t-eh-dw2-dip to tmake_file.\n\n\t* config.host (*-*-openbsd*): Add t-eh-dw2-dip to tmake_file.\n\t* unwind-dw2-fde-dip.c: Don't include <elf.h> on OpenBSD.\n\t(USE_PT_GNU_EH_FRAME): Define for OpenBSD.\n\t(ElfW): Likewise.\n\nFrom-SVN: r192148", "tree": {"sha": "240ae56afd2e9fe2d09086d087498ae315bf31a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/240ae56afd2e9fe2d09086d087498ae315bf31a4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8eaee0f0f13cba020ea629f7ba60e1d79243bef1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8eaee0f0f13cba020ea629f7ba60e1d79243bef1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8eaee0f0f13cba020ea629f7ba60e1d79243bef1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8eaee0f0f13cba020ea629f7ba60e1d79243bef1/comments", "author": {"login": "kettenis", "id": 19817229, "node_id": "MDQ6VXNlcjE5ODE3MjI5", "avatar_url": "https://avatars.githubusercontent.com/u/19817229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kettenis", "html_url": "https://github.com/kettenis", "followers_url": "https://api.github.com/users/kettenis/followers", "following_url": "https://api.github.com/users/kettenis/following{/other_user}", "gists_url": "https://api.github.com/users/kettenis/gists{/gist_id}", "starred_url": "https://api.github.com/users/kettenis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kettenis/subscriptions", "organizations_url": "https://api.github.com/users/kettenis/orgs", "repos_url": "https://api.github.com/users/kettenis/repos", "events_url": "https://api.github.com/users/kettenis/events{/privacy}", "received_events_url": "https://api.github.com/users/kettenis/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d2edfb151d3fa8dcc5516aaa3cfb99e53d5aaadf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2edfb151d3fa8dcc5516aaa3cfb99e53d5aaadf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2edfb151d3fa8dcc5516aaa3cfb99e53d5aaadf"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "0b6f592eb2fcd04e7a16556ce65906678eb1d983", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8eaee0f0f13cba020ea629f7ba60e1d79243bef1/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8eaee0f0f13cba020ea629f7ba60e1d79243bef1/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=8eaee0f0f13cba020ea629f7ba60e1d79243bef1", "patch": "@@ -1,3 +1,10 @@\n+2012-10-06  Mark Kettenis  <kettenis@openbsd.org>\n+\n+\t* config.host (*-*-openbsd*): Add t-eh-dw2-dip to tmake_file.\n+\t* unwind-dw2-fde-dip.c: Don't include <elf.h> on OpenBSD.\n+\t(USE_PT_GNU_EH_FRAME): Define for OpenBSD.\n+\t(ElfW): Likewise.\n+\n 2012-10-05  Jonathan Wakely  <jwakely.gcc@gmail.com>\n \n \tPR other/53889"}, {"sha": "763f6c3a252223e149eb9b995679f455051bfe7a", "filename": "libgcc/config.host", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8eaee0f0f13cba020ea629f7ba60e1d79243bef1/libgcc%2Fconfig.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8eaee0f0f13cba020ea629f7ba60e1d79243bef1/libgcc%2Fconfig.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig.host?ref=8eaee0f0f13cba020ea629f7ba60e1d79243bef1", "patch": "@@ -213,7 +213,7 @@ case ${host} in\n   esac\n   ;;\n *-*-openbsd*)\n-  tmake_file=\"$tmake_file t-crtstuff-pic t-libgcc-pic\"\n+  tmake_file=\"$tmake_file t-crtstuff-pic t-libgcc-pic t-eh-dw2-dip\"\n   case ${target_thread_file} in\n     posix)\n       tmake_file=\"$tmake_file t-openbsd-thread\""}, {"sha": "2ce3af80b15de380fcf0bfe76187dd3258d51f28", "filename": "libgcc/unwind-dw2-fde-dip.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8eaee0f0f13cba020ea629f7ba60e1d79243bef1/libgcc%2Funwind-dw2-fde-dip.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8eaee0f0f13cba020ea629f7ba60e1d79243bef1/libgcc%2Funwind-dw2-fde-dip.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Funwind-dw2-fde-dip.c?ref=8eaee0f0f13cba020ea629f7ba60e1d79243bef1", "patch": "@@ -33,7 +33,7 @@\n \n #include \"tconfig.h\"\n #include \"tsystem.h\"\n-#ifndef inhibit_libc\n+#if !defined(inhibit_libc) && !defined(__OpenBSD__)\n #include <elf.h>\t\t/* Get DT_CONFIG.  */\n #endif\n #include \"coretypes.h\"\n@@ -64,6 +64,12 @@\n # define USE_PT_GNU_EH_FRAME\n #endif\n \n+#if !defined(inhibit_libc) && defined(HAVE_LD_EH_FRAME_HDR) \\\n+    && defined(__OpenBSD__)\n+# define ElfW(type) Elf_##type\n+# define USE_PT_GNU_EH_FRAME\n+#endif\n+\n #if !defined(inhibit_libc) && defined(HAVE_LD_EH_FRAME_HDR) \\\n     && defined(TARGET_DL_ITERATE_PHDR) \\\n     && defined(__sun__) && defined(__svr4__)"}]}