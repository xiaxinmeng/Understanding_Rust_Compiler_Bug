{"sha": "7537fc907c7f1137ae49a7012cba15db6e8ddcff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzUzN2ZjOTA3YzdmMTEzN2FlNDlhNzAxMmNiYTE1ZGI2ZThkZGNmZg==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2004-02-11T08:06:00Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2004-02-11T08:06:00Z"}, "message": "emit-rtl.c (mark_label_nuses): Check that a LABEL_REF refers to a label before updating its usage count.\n\n\t* emit-rtl.c (mark_label_nuses): Check that a LABEL_REF refers to\n\ta label before updating its usage count.\n\nFrom-SVN: r77640", "tree": {"sha": "d1f60b73da8dde3f4fbac340dfb7ca77c8ac537b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1f60b73da8dde3f4fbac340dfb7ca77c8ac537b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7537fc907c7f1137ae49a7012cba15db6e8ddcff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7537fc907c7f1137ae49a7012cba15db6e8ddcff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7537fc907c7f1137ae49a7012cba15db6e8ddcff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7537fc907c7f1137ae49a7012cba15db6e8ddcff/comments", "author": null, "committer": null, "parents": [{"sha": "d318a8ba745d64680809e3189f968edf4962c4a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d318a8ba745d64680809e3189f968edf4962c4a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d318a8ba745d64680809e3189f968edf4962c4a2"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "6a6d6857dbef62cafb49a4a17b8c1d8cb3dec89c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7537fc907c7f1137ae49a7012cba15db6e8ddcff/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7537fc907c7f1137ae49a7012cba15db6e8ddcff/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7537fc907c7f1137ae49a7012cba15db6e8ddcff", "patch": "@@ -1,3 +1,8 @@\n+2004-02-11  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* emit-rtl.c (mark_label_nuses): Check that a LABEL_REF refers to\n+\ta label before updating its usage count.\n+\n 2004-02-10  Matt Kraai  <kraai@alumni.cmu.edu>\n \n         * doc/install.texi: Remove extra cd."}, {"sha": "722d697f4c2d0f897102665098f0d9b8e91c35b5", "filename": "gcc/emit-rtl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7537fc907c7f1137ae49a7012cba15db6e8ddcff/gcc%2Femit-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7537fc907c7f1137ae49a7012cba15db6e8ddcff/gcc%2Femit-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Femit-rtl.c?ref=7537fc907c7f1137ae49a7012cba15db6e8ddcff", "patch": "@@ -3133,7 +3133,7 @@ mark_label_nuses (rtx x)\n   const char *fmt;\n \n   code = GET_CODE (x);\n-  if (code == LABEL_REF)\n+  if (code == LABEL_REF && LABEL_P (XEXP (x, 0)))\n     LABEL_NUSES (XEXP (x, 0))++;\n \n   fmt = GET_RTX_FORMAT (code);"}]}