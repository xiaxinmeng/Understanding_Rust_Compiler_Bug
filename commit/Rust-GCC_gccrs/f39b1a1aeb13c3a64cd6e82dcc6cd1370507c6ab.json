{"sha": "f39b1a1aeb13c3a64cd6e82dcc6cd1370507c6ab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjM5YjFhMWFlYjEzYzNhNjRjZDZlODJkY2M2Y2QxMzcwNTA3YzZhYg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2012-10-30T23:47:35Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2012-10-30T23:47:35Z"}, "message": "re PR debug/54551 (DF resets some DEBUG_INSNs unnecessarily)\n\nPR debug/54551\nPR debug/54693\n* valtrack.c (dead_debug_promote_uses): Assert-check that\nglobal used bit was clear and initialize entry\nunconditionally.\n\nFrom-SVN: r193003", "tree": {"sha": "2cf3bf61ec807a72cafd507a6f1f6f49285fc57e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2cf3bf61ec807a72cafd507a6f1f6f49285fc57e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f39b1a1aeb13c3a64cd6e82dcc6cd1370507c6ab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f39b1a1aeb13c3a64cd6e82dcc6cd1370507c6ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f39b1a1aeb13c3a64cd6e82dcc6cd1370507c6ab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f39b1a1aeb13c3a64cd6e82dcc6cd1370507c6ab/comments", "author": null, "committer": null, "parents": [{"sha": "3e55d79be9ae74905c89ef4f948b26ba9e1c604c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e55d79be9ae74905c89ef4f948b26ba9e1c604c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e55d79be9ae74905c89ef4f948b26ba9e1c604c"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "4896022a1aa542dabcacbe336081c7d6e2334faf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f39b1a1aeb13c3a64cd6e82dcc6cd1370507c6ab/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f39b1a1aeb13c3a64cd6e82dcc6cd1370507c6ab/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f39b1a1aeb13c3a64cd6e82dcc6cd1370507c6ab", "patch": "@@ -1,3 +1,11 @@\n+2012-10-30  Alexandre Oliva <aoliva@redhat.com>\n+\n+\tPR debug/54551\n+\tPR debug/54693\n+\t* valtrack.c (dead_debug_promote_uses): Assert-check that\n+\tglobal used bit was clear and initialize entry\n+\tunconditionally.\n+\n 2012-10-30  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* cse.c (hash_rtx_cb): Replace RTX_UNCHANGING_P with MEM_READONLY_P in"}, {"sha": "5eefabd2aed104448a2ff2f346368b6aacfbee6f", "filename": "gcc/valtrack.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f39b1a1aeb13c3a64cd6e82dcc6cd1370507c6ab/gcc%2Fvaltrack.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f39b1a1aeb13c3a64cd6e82dcc6cd1370507c6ab/gcc%2Fvaltrack.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvaltrack.c?ref=f39b1a1aeb13c3a64cd6e82dcc6cd1370507c6ab", "patch": "@@ -380,9 +380,11 @@ dead_debug_promote_uses (struct dead_debug_local *debug)\n       if (!debug->global->used)\n \tdebug->global->used = BITMAP_ALLOC (NULL);\n \n-      if (bitmap_set_bit (debug->global->used, REGNO (reg)))\n-\tentry = dead_debug_global_insert (debug->global, reg,\n-\t\t\t\t\t  make_debug_expr_from_rtl (reg));\n+      bool added = bitmap_set_bit (debug->global->used, REGNO (reg));\n+      gcc_checking_assert (added);\n+\n+      entry = dead_debug_global_insert (debug->global, reg,\n+\t\t\t\t\tmake_debug_expr_from_rtl (reg));\n \n       gcc_checking_assert (entry->dtemp);\n "}]}