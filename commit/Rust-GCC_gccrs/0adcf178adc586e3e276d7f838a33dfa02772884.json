{"sha": "0adcf178adc586e3e276d7f838a33dfa02772884", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGFkY2YxNzhhZGM1ODZlM2UyNzZkN2Y4MzhhMzNkZmEwMjc3Mjg4NA==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@TechFak.Uni-Bielefeld.DE", "date": "2009-05-25T12:12:08Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2009-05-25T12:12:08Z"}, "message": "re PR bootstrap/40027 (i686-pc-solaris2.10 bootstrap fails using Sun ld)\n\n\tPR bootstrap/40027\n\t* config/i386/i386.c (USE_HIDDEN_LINKONCE): Only define if missing.\n\t* config/i386/sol2.h [!TARGET_GNU_LD] (USE_HIDDEN_LINKONCE): Define.\n\nFrom-SVN: r147845", "tree": {"sha": "a4d68ff2f1498778f481033eae2e8955769d4686", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a4d68ff2f1498778f481033eae2e8955769d4686"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0adcf178adc586e3e276d7f838a33dfa02772884", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0adcf178adc586e3e276d7f838a33dfa02772884", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0adcf178adc586e3e276d7f838a33dfa02772884", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0adcf178adc586e3e276d7f838a33dfa02772884/comments", "author": null, "committer": null, "parents": [{"sha": "12aaf609641ef0592f2f3265852ad5a9aa1f1f0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12aaf609641ef0592f2f3265852ad5a9aa1f1f0f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12aaf609641ef0592f2f3265852ad5a9aa1f1f0f"}], "stats": {"total": 24, "additions": 19, "deletions": 5}, "files": [{"sha": "cbcd386e06bb2b4a3c8a8fd1d019dcef6c7b162f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0adcf178adc586e3e276d7f838a33dfa02772884/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0adcf178adc586e3e276d7f838a33dfa02772884/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0adcf178adc586e3e276d7f838a33dfa02772884", "patch": "@@ -1,3 +1,9 @@\n+2009-05-25  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n+\n+\tPR bootstrap/40027\n+\t* config/i386/i386.c (USE_HIDDEN_LINKONCE): Only define if missing.\n+\t* config/i386/sol2.h [!TARGET_GNU_LD] (USE_HIDDEN_LINKONCE): Define.\n+\n 2009-05-25  Ira Rosen  <irar@il.ibm.com>\n \n \tPR tree-optimization/40238"}, {"sha": "55ec1d921cb5dccbca95017c5537098dd4d625bf", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0adcf178adc586e3e276d7f838a33dfa02772884/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0adcf178adc586e3e276d7f838a33dfa02772884/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=0adcf178adc586e3e276d7f838a33dfa02772884", "patch": "@@ -7433,10 +7433,12 @@ ix86_setup_frame_addresses (void)\n   cfun->machine->accesses_prev_frame = 1;\n }\n \f\n-#if (defined(HAVE_GAS_HIDDEN) && (SUPPORTS_ONE_ONLY - 0)) || TARGET_MACHO\n-# define USE_HIDDEN_LINKONCE 1\n-#else\n-# define USE_HIDDEN_LINKONCE 0\n+#ifndef USE_HIDDEN_LINKONCE\n+# if (defined(HAVE_GAS_HIDDEN) && (SUPPORTS_ONE_ONLY - 0)) || TARGET_MACHO\n+#  define USE_HIDDEN_LINKONCE 1\n+# else\n+#  define USE_HIDDEN_LINKONCE 0\n+# endif\n #endif\n \n static int pic_labels_used;"}, {"sha": "4c2dfe975cf5c88f4f11788ceae23d9a6d8bb7c0", "filename": "gcc/config/i386/sol2.h", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0adcf178adc586e3e276d7f838a33dfa02772884/gcc%2Fconfig%2Fi386%2Fsol2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0adcf178adc586e3e276d7f838a33dfa02772884/gcc%2Fconfig%2Fi386%2Fsol2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsol2.h?ref=0adcf178adc586e3e276d7f838a33dfa02772884", "patch": "@@ -1,6 +1,6 @@\n /* Target definitions for GCC for Intel 80386 running Solaris 2\n    Copyright (C) 1993, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,\n-   2004, 2007, 2008 Free Software Foundation, Inc.\n+   2004, 2007, 2008, 2009 Free Software Foundation, Inc.\n    Contributed by Fred Fish (fnf@cygnus.com).\n \n This file is part of GCC.\n@@ -112,3 +112,9 @@ along with GCC; see the file COPYING3.  If not see\n /* We do not need NT_VERSION notes.  */\n #undef X86_FILE_START_VERSION_DIRECTIVE\n #define X86_FILE_START_VERSION_DIRECTIVE false\n+\n+/* Only recent versions of Solaris 11 ld properly support hidden .gnu.linkonce\n+   sections, so don't use them.  */\n+#ifndef TARGET_GNU_LD\n+#define USE_HIDDEN_LINKONCE 0\n+#endif"}]}