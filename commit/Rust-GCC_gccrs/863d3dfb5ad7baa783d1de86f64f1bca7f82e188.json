{"sha": "863d3dfb5ad7baa783d1de86f64f1bca7f82e188", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODYzZDNkZmI1YWQ3YmFhNzgzZDFkZTg2ZjY0ZjFiY2E3ZjgyZTE4OA==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2003-07-26T07:16:48Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2003-07-26T07:16:48Z"}, "message": "* c-decl.c (c_static_assembler_name): Remove TREE_STATIC test.\n\nFrom-SVN: r69808", "tree": {"sha": "b3bf0d048fbd12ea60b34a75e618b0d35a21869d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b3bf0d048fbd12ea60b34a75e618b0d35a21869d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/863d3dfb5ad7baa783d1de86f64f1bca7f82e188", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/863d3dfb5ad7baa783d1de86f64f1bca7f82e188", "html_url": "https://github.com/Rust-GCC/gccrs/commit/863d3dfb5ad7baa783d1de86f64f1bca7f82e188", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/863d3dfb5ad7baa783d1de86f64f1bca7f82e188/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "49f60a1a01b7526ca317f18dd0ed87f9ff781f3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49f60a1a01b7526ca317f18dd0ed87f9ff781f3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49f60a1a01b7526ca317f18dd0ed87f9ff781f3b"}], "stats": {"total": 33, "additions": 32, "deletions": 1}, "files": [{"sha": "fa369f4df13241ddd1fd469a1f0dfa12280ce56e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/863d3dfb5ad7baa783d1de86f64f1bca7f82e188/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/863d3dfb5ad7baa783d1de86f64f1bca7f82e188/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=863d3dfb5ad7baa783d1de86f64f1bca7f82e188", "patch": "@@ -1,3 +1,7 @@\n+2003-07-25  Geoffrey Keating  <geoffk@apple.com>\n+\n+\t* c-decl.c (c_static_assembler_name): Remove TREE_STATIC test.\n+\n 2003-07-25  Aldy Hernandez  <aldyh@redhat.com>\n \n \t* config/rs6000/rs6000.c (is_ev64_opaque_type): Only check pointer"}, {"sha": "20222a56c58941022435cd1e331b445da76facac", "filename": "gcc/c-decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/863d3dfb5ad7baa783d1de86f64f1bca7f82e188/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/863d3dfb5ad7baa783d1de86f64f1bca7f82e188/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=863d3dfb5ad7baa783d1de86f64f1bca7f82e188", "patch": "@@ -6790,7 +6790,7 @@ void\n c_static_assembler_name (tree decl)\n {\n   if (num_in_fnames == 1\n-      && TREE_STATIC (decl) && !TREE_PUBLIC (decl) && DECL_CONTEXT (decl)\n+      && !TREE_PUBLIC (decl) && DECL_CONTEXT (decl)\n       && TREE_CODE (DECL_CONTEXT (decl)) == TRANSLATION_UNIT_DECL)\n     SET_DECL_ASSEMBLER_NAME (decl, DECL_NAME (decl));\n   else"}, {"sha": "2f0e153cdf5b3bf83b7f83bff02db7bcd7ac6054", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/863d3dfb5ad7baa783d1de86f64f1bca7f82e188/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/863d3dfb5ad7baa783d1de86f64f1bca7f82e188/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=863d3dfb5ad7baa783d1de86f64f1bca7f82e188", "patch": "@@ -1,3 +1,7 @@\n+2003-07-25  Geoffrey Keating  <geoffk@apple.com>\n+\n+\t* gcc.dg/intermod-1.c: New test.\n+\n 2003-07-25  Nathan Sidwell  <nathan@codesourcery.com>\n \n \tPR c++/11617"}, {"sha": "296adf976cb0440f23008daad56ce9c9d5ca8e8f", "filename": "gcc/testsuite/gcc.dg/intermod-1.c", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/863d3dfb5ad7baa783d1de86f64f1bca7f82e188/gcc%2Ftestsuite%2Fgcc.dg%2Fintermod-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/863d3dfb5ad7baa783d1de86f64f1bca7f82e188/gcc%2Ftestsuite%2Fgcc.dg%2Fintermod-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fintermod-1.c?ref=863d3dfb5ad7baa783d1de86f64f1bca7f82e188", "patch": "@@ -0,0 +1,23 @@\n+/* { dg-do compile } */\n+/* { dg-final { scan-assembler-not {foo[1-9]\\.} } } */\n+\n+/* Check that we don't get .0 suffixes on static variables when not using\n+   intermodule analysis.  */\n+\n+static int foo1;\n+static int foo2 = 1;\n+\n+static void foo5(void) {  }\n+static void foo6(void);\n+static void foo6(void) { }\n+static void foo7(void);\n+void foo7(void) { }\n+\n+void foo9(void) \n+{\n+  foo1 = 2;\n+  foo2 = 3;\n+  foo5();\n+  foo6();\n+  foo7();\n+}"}]}