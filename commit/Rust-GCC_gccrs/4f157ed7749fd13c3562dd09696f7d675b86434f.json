{"sha": "4f157ed7749fd13c3562dd09696f7d675b86434f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGYxNTdlZDc3NDlmZDEzYzM1NjJkZDA5Njk2ZjdkNjc1Yjg2NDM0Zg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2020-05-11T23:23:44Z"}, "committer": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2020-05-12T00:27:46Z"}, "message": "syscall: append to environment in tests, don't clobber it\n\nThis is a partial backport of https://golang.org/cl/233318.\nIt's only a partial backport because part of the change was\nalready applied to libgo in CL 193497 as part of the update\nto the Go 1.13beta1 release.\n\nFixes PR go/95061\n\nReviewed-on: https://go-review.googlesource.com/c/gofrontend/+/233359", "tree": {"sha": "8210b525b3773e6d9debf626e550d81beccdcef3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8210b525b3773e6d9debf626e550d81beccdcef3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f157ed7749fd13c3562dd09696f7d675b86434f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f157ed7749fd13c3562dd09696f7d675b86434f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f157ed7749fd13c3562dd09696f7d675b86434f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f157ed7749fd13c3562dd09696f7d675b86434f/comments", "author": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b58c5e0c73424586b881cc5926c7b6fd9c7151f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b58c5e0c73424586b881cc5926c7b6fd9c7151f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b58c5e0c73424586b881cc5926c7b6fd9c7151f0"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "939ba7c892933cb635dd66e70992ad0e4273d13b", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f157ed7749fd13c3562dd09696f7d675b86434f/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f157ed7749fd13c3562dd09696f7d675b86434f/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=4f157ed7749fd13c3562dd09696f7d675b86434f", "patch": "@@ -1,4 +1,4 @@\n-41019d50ae519328dd3cf200815a2a2b0b64674e\n+8645632618262d1661ece0c9e6fe9e04c6e3a878\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "c12df4cf5c7c04fb00c239271ed70e4b2108a8e4", "filename": "libgo/go/syscall/syscall_linux_test.go", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f157ed7749fd13c3562dd09696f7d675b86434f/libgo%2Fgo%2Fsyscall%2Fsyscall_linux_test.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f157ed7749fd13c3562dd09696f7d675b86434f/libgo%2Fgo%2Fsyscall%2Fsyscall_linux_test.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fsyscall%2Fsyscall_linux_test.go?ref=4f157ed7749fd13c3562dd09696f7d675b86434f", "patch": "@@ -187,7 +187,7 @@ func TestLinuxDeathSignal(t *testing.T) {\n \t}\n \n \tcmd := exec.Command(tmpBinary)\n-\tcmd.Env = []string{\"GO_DEATHSIG_PARENT=1\"}\n+\tcmd.Env = append(os.Environ(), \"GO_DEATHSIG_PARENT=1\")\n \tchldStdin, err := cmd.StdinPipe()\n \tif err != nil {\n \t\tt.Fatalf(\"failed to create new stdin pipe: %v\", err)\n@@ -225,7 +225,10 @@ func TestLinuxDeathSignal(t *testing.T) {\n \n func deathSignalParent() {\n \tcmd := exec.Command(os.Args[0])\n-\tcmd.Env = []string{\"GO_DEATHSIG_CHILD=1\"}\n+\tcmd.Env = append(os.Environ(),\n+\t\t\"GO_DEATHSIG_PARENT=\",\n+\t\t\"GO_DEATHSIG_CHILD=1\",\n+\t)\n \tcmd.Stdin = os.Stdin\n \tcmd.Stdout = os.Stdout\n \tattrs := syscall.SysProcAttr{\n@@ -360,7 +363,7 @@ func TestSyscallNoError(t *testing.T) {\n \t}\n \n \tcmd := exec.Command(tmpBinary)\n-\tcmd.Env = []string{\"GO_SYSCALL_NOERROR=1\"}\n+\tcmd.Env = append(os.Environ(), \"GO_SYSCALL_NOERROR=1\")\n \n \tout, err := cmd.CombinedOutput()\n \tif err != nil {"}]}