{"sha": "f4615940b171c449a0e799195dbd28041f677f35", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjQ2MTU5NDBiMTcxYzQ0OWEwZTc5OTE5NWRiZDI4MDQxZjY3N2YzNQ==", "commit": {"author": {"name": "Peter Bergner", "email": "bergner@vnet.ibm.com", "date": "2017-12-13T21:20:51Z"}, "committer": {"name": "Peter Bergner", "email": "bergner@gcc.gnu.org", "date": "2017-12-13T21:20:51Z"}, "message": "ppc-auxv.h (PPC_FEATURE2_HTM_NO_SUSPEND): New define.\n\ngcc/\n\t* config/rs6000/ppc-auxv.h (PPC_FEATURE2_HTM_NO_SUSPEND): New define.\n\t* config/rs6000/rs6000.c (cpu_supports_info): Use it.\n\ngcc/testsuite/\n\t* gcc.target/powerpc/cpu-builtin-1.c (htm-no-suspend): Add test.\n\nFrom-SVN: r255614", "tree": {"sha": "799827528c71edfdef72e19078283643afecce98", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/799827528c71edfdef72e19078283643afecce98"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f4615940b171c449a0e799195dbd28041f677f35", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4615940b171c449a0e799195dbd28041f677f35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4615940b171c449a0e799195dbd28041f677f35", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4615940b171c449a0e799195dbd28041f677f35/comments", "author": {"login": "peter-bergner", "id": 17504345, "node_id": "MDQ6VXNlcjE3NTA0MzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/17504345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peter-bergner", "html_url": "https://github.com/peter-bergner", "followers_url": "https://api.github.com/users/peter-bergner/followers", "following_url": "https://api.github.com/users/peter-bergner/following{/other_user}", "gists_url": "https://api.github.com/users/peter-bergner/gists{/gist_id}", "starred_url": "https://api.github.com/users/peter-bergner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peter-bergner/subscriptions", "organizations_url": "https://api.github.com/users/peter-bergner/orgs", "repos_url": "https://api.github.com/users/peter-bergner/repos", "events_url": "https://api.github.com/users/peter-bergner/events{/privacy}", "received_events_url": "https://api.github.com/users/peter-bergner/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ae51fb47811a9d5a3cfbb67677dae0eababc263d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae51fb47811a9d5a3cfbb67677dae0eababc263d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae51fb47811a9d5a3cfbb67677dae0eababc263d"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "c47696cd8a03661006f77ead9e81da9136a060b1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4615940b171c449a0e799195dbd28041f677f35/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4615940b171c449a0e799195dbd28041f677f35/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f4615940b171c449a0e799195dbd28041f677f35", "patch": "@@ -1,3 +1,8 @@\n+2017-12-13  Peter Bergner  <bergner@vnet.ibm.com>\n+\n+\t* config/rs6000/ppc-auxv.h (PPC_FEATURE2_HTM_NO_SUSPEND): New define.\n+\t* config/rs6000/rs6000.c (cpu_supports_info): Use it.\n+\n 2017-12-13  Alexandre Oliva <aoliva@redhat.com>\n \n \tPR bootstrap/83396"}, {"sha": "0bd3bc4332f72ea2bc5fa8c3c045a64aa0486f12", "filename": "gcc/config/rs6000/ppc-auxv.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4615940b171c449a0e799195dbd28041f677f35/gcc%2Fconfig%2Frs6000%2Fppc-auxv.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4615940b171c449a0e799195dbd28041f677f35/gcc%2Fconfig%2Frs6000%2Fppc-auxv.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fppc-auxv.h?ref=f4615940b171c449a0e799195dbd28041f677f35", "patch": "@@ -91,6 +91,7 @@\n #define PPC_FEATURE2_HAS_IEEE128    0x00400000\n #define PPC_FEATURE2_DARN           0x00200000\n #define PPC_FEATURE2_SCV            0x00100000\n+#define PPC_FEATURE2_HTM_NO_SUSPEND 0x00080000\n \n \n /* Thread Control Block (TCB) offsets of the AT_PLATFORM, AT_HWCAP and"}, {"sha": "995ae0482fb35bda9d45494432b8b2f29c7acee1", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4615940b171c449a0e799195dbd28041f677f35/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4615940b171c449a0e799195dbd28041f677f35/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=f4615940b171c449a0e799195dbd28041f677f35", "patch": "@@ -388,6 +388,7 @@ static const struct\n   { \"ebb\",\t\tPPC_FEATURE2_HAS_EBB,\t\t1 },\n   { \"htm\",\t\tPPC_FEATURE2_HAS_HTM,\t\t1 },\n   { \"htm-nosc\",\t\tPPC_FEATURE2_HTM_NOSC,\t\t1 },\n+  { \"htm-no-suspend\",\tPPC_FEATURE2_HTM_NO_SUSPEND,\t1 },\n   { \"isel\",\t\tPPC_FEATURE2_HAS_ISEL,\t\t1 },\n   { \"tar\",\t\tPPC_FEATURE2_HAS_TAR,\t\t1 },\n   { \"vcrypto\",\t\tPPC_FEATURE2_HAS_VEC_CRYPTO,\t1 },"}, {"sha": "4529bcaa185427a0d8248bded779d71ef2b8663a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4615940b171c449a0e799195dbd28041f677f35/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4615940b171c449a0e799195dbd28041f677f35/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f4615940b171c449a0e799195dbd28041f677f35", "patch": "@@ -1,3 +1,7 @@\n+2017-12-13  Peter Bergner  <bergner@vnet.ibm.com>\n+\n+\t* gcc.target/powerpc/cpu-builtin-1.c (htm-no-suspend): Add test.\n+\n 2017-12-13  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/81061"}, {"sha": "960e7fb4f5f035ceabc58dc48ce5dee5873e4fcd", "filename": "gcc/testsuite/gcc.target/powerpc/cpu-builtin-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4615940b171c449a0e799195dbd28041f677f35/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fcpu-builtin-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4615940b171c449a0e799195dbd28041f677f35/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fcpu-builtin-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fcpu-builtin-1.c?ref=f4615940b171c449a0e799195dbd28041f677f35", "patch": "@@ -73,6 +73,7 @@ use_cpu_supports_builtins (unsigned int *p)\n   p[37] = __builtin_cpu_supports (\"vsx\");\n   p[38] = __builtin_cpu_supports (\"darn\");\n   p[39] = __builtin_cpu_supports (\"scv\");\n+  p[40] = __builtin_cpu_supports (\"htm-no-suspend\");\n #else\n   p[0] = 0;\n #endif"}]}