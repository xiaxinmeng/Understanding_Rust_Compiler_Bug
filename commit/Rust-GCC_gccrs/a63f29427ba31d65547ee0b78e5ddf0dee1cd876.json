{"sha": "a63f29427ba31d65547ee0b78e5ddf0dee1cd876", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTYzZjI5NDI3YmEzMWQ2NTU0N2VlMGI3OGU1ZGRmMGRlZTFjZDg3Ng==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2008-09-13T22:32:57Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2008-09-13T22:32:57Z"}, "message": "cgraph.c: Include value-prof.h\n\n\n\t* cgraph.c: Include value-prof.h\n\t* Makefile.in (cgraph.o): Add value-prof.h dependency.\n\nFrom-SVN: r140350", "tree": {"sha": "8b3e4d65bc6ae237194b00c2ae61bcc3c8658bd5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8b3e4d65bc6ae237194b00c2ae61bcc3c8658bd5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a63f29427ba31d65547ee0b78e5ddf0dee1cd876", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a63f29427ba31d65547ee0b78e5ddf0dee1cd876", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a63f29427ba31d65547ee0b78e5ddf0dee1cd876", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a63f29427ba31d65547ee0b78e5ddf0dee1cd876/comments", "author": null, "committer": null, "parents": [{"sha": "71ba42faebfafc76c0650774a66df6efa07683bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71ba42faebfafc76c0650774a66df6efa07683bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71ba42faebfafc76c0650774a66df6efa07683bb"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "7f6649ec21a6edd1bb407d3bb5fba9850d5c990a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a63f29427ba31d65547ee0b78e5ddf0dee1cd876/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a63f29427ba31d65547ee0b78e5ddf0dee1cd876/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a63f29427ba31d65547ee0b78e5ddf0dee1cd876", "patch": "@@ -1,3 +1,8 @@\n+2008-09-13  Jan Hubicka  <jh@suse.cz>\n+\n+\t* cgraph.c: Include value-prof.h\n+\t* Makefile.in (cgraph.o): Add value-prof.h dependency.\n+\n 2008-09-13  Jan Hubicka  <jh@suse.cz>\n \n \tPR middle-end/32581"}, {"sha": "b75c678ba577ddc2b9d08f95f912a493ebd77ae3", "filename": "gcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a63f29427ba31d65547ee0b78e5ddf0dee1cd876/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a63f29427ba31d65547ee0b78e5ddf0dee1cd876/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=a63f29427ba31d65547ee0b78e5ddf0dee1cd876", "patch": "@@ -2586,7 +2586,7 @@ simplify-rtx.o : simplify-rtx.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) \\\n cgraph.o : cgraph.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) $(TREE_H) \\\n    langhooks.h $(TOPLEV_H) $(FLAGS_H) $(GGC_H) $(TARGET_H) $(CGRAPH_H) \\\n    gt-cgraph.h output.h intl.h $(BASIC_BLOCK_H) debug.h $(HASHTAB_H) \\\n-   $(TREE_INLINE_H) $(VARRAY_H) $(TREE_DUMP_H) $(TREE_FLOW_H)\n+   $(TREE_INLINE_H) $(VARRAY_H) $(TREE_DUMP_H) $(TREE_FLOW_H) value-prof.h\n cgraphunit.o : cgraphunit.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) \\\n    $(TREE_H) langhooks.h $(TREE_INLINE_H) $(TOPLEV_H) $(FLAGS_H) $(GGC_H) \\\n    $(TARGET_H) $(CGRAPH_H) intl.h pointer-set.h $(FUNCTION_H) $(GIMPLE_H) \\"}, {"sha": "90359a46b1fdb13c5cf8b92512eab1724044b7b1", "filename": "gcc/cgraph.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a63f29427ba31d65547ee0b78e5ddf0dee1cd876/gcc%2Fcgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a63f29427ba31d65547ee0b78e5ddf0dee1cd876/gcc%2Fcgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraph.c?ref=a63f29427ba31d65547ee0b78e5ddf0dee1cd876", "patch": "@@ -84,6 +84,7 @@ The callgraph:\n #include \"gimple.h\"\n #include \"tree-dump.h\"\n #include \"tree-flow.h\"\n+#include \"value-prof.h\"\n \n static void cgraph_node_remove_callers (struct cgraph_node *node);\n static inline void cgraph_edge_remove_caller (struct cgraph_edge *e);\n@@ -906,6 +907,9 @@ cgraph_release_function_body (struct cgraph_node *node)\n \t  gcc_assert (dom_computed[1] == DOM_NONE);\n \t  clear_edges ();\n \t}\n+      if (cfun->value_histograms)\n+\tfree_histograms ();\n+      gcc_assert (!current_loops);\n       pop_cfun();\n       gimple_set_body (node->decl, NULL);\n       VEC_free (ipa_opt_pass, heap,"}]}