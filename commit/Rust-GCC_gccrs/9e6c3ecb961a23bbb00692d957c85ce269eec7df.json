{"sha": "9e6c3ecb961a23bbb00692d957c85ce269eec7df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWU2YzNlY2I5NjFhMjNiYmIwMDY5MmQ5NTdjODVjZTI2OWVlYzdkZg==", "commit": {"author": {"name": "Andreas Tobler", "email": "a.tobler@schweiz.ch", "date": "2003-11-20T15:19:09Z"}, "committer": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2003-11-20T15:19:09Z"}, "message": "libffi-dg.exp: Make the -lgcc_s conditional.\n\n2003-11-20  Andreas Tobler  <a.tobler@schweiz.ch>\n\n\t* testsuite/lib/libffi-dg.exp: Make the -lgcc_s conditional.\n\nFrom-SVN: r73763", "tree": {"sha": "12fca61af673e3642c2d3cf09a1cfb874a9e0c3d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12fca61af673e3642c2d3cf09a1cfb874a9e0c3d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9e6c3ecb961a23bbb00692d957c85ce269eec7df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e6c3ecb961a23bbb00692d957c85ce269eec7df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e6c3ecb961a23bbb00692d957c85ce269eec7df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e6c3ecb961a23bbb00692d957c85ce269eec7df/comments", "author": null, "committer": null, "parents": [{"sha": "a72d4945d39e4386f107787cfd78e8d681f53c14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a72d4945d39e4386f107787cfd78e8d681f53c14", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a72d4945d39e4386f107787cfd78e8d681f53c14"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "97d43ccd36d914f21b1373a5df93039c4b1542ec", "filename": "libffi/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e6c3ecb961a23bbb00692d957c85ce269eec7df/libffi%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e6c3ecb961a23bbb00692d957c85ce269eec7df/libffi%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FChangeLog?ref=9e6c3ecb961a23bbb00692d957c85ce269eec7df", "patch": "@@ -1,3 +1,7 @@\n+2003-11-20  Andreas Tobler  <a.tobler@schweiz.ch>\n+\n+\t* testsuite/lib/libffi-dg.exp: Make the -lgcc_s conditional.\n+\n 2003-11-19  Andreas Tobler  <a.tobler@schweiz.ch>\n \n \t* testsuite/lib/libffi-dg.exp: Add DYLD_LIBRARY_PATH for darwin."}, {"sha": "87e285af893f69c037b718a799d26b054a2e8601", "filename": "libffi/testsuite/lib/libffi-dg.exp", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e6c3ecb961a23bbb00692d957c85ce269eec7df/libffi%2Ftestsuite%2Flib%2Flibffi-dg.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e6c3ecb961a23bbb00692d957c85ce269eec7df/libffi%2Ftestsuite%2Flib%2Flibffi-dg.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Ftestsuite%2Flib%2Flibffi-dg.exp?ref=9e6c3ecb961a23bbb00692d957c85ce269eec7df", "patch": "@@ -164,7 +164,12 @@ proc libffi_target_compile { source dest type options } {\n     # search for ffi_mips.h in srcdir, too\n     lappend options \"additional_flags=-I${libffi_include} -I${srcdir}/../include\"\n     lappend options \"additional_flags=${libffi_link_flags}\"\n-    lappend options \"libs= -lffi -lgcc_s\"\n+\n+    if { [string match \"powerpc-*-darwin*\" $target_triplet] } {\n+\tlappend options \"libs= -lgcc_s\"\n+    }\n+\n+    lappend options \"libs= -lffi\"\n \n     verbose \"options: $options\"\n     return [target_compile $source $dest $type $options]"}]}