{"sha": "ccc39d9e97ce24623aefae2097bff791e01619d9", "node_id": "C_kwDOANBUbNoAKGNjYzM5ZDllOTdjZTI0NjIzYWVmYWUyMDk3YmZmNzkxZTAxNjE5ZDk", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2022-07-04T19:20:36Z"}, "committer": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2022-07-06T00:08:02Z"}, "message": "compiler: better error message for unknown package name\n\nFixes golang/go#51237\n\nReviewed-on: https://go-review.googlesource.com/c/gofrontend/+/415994", "tree": {"sha": "b4b5e4a4333769a7424f4d84107490a6fd9b966f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b4b5e4a4333769a7424f4d84107490a6fd9b966f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ccc39d9e97ce24623aefae2097bff791e01619d9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccc39d9e97ce24623aefae2097bff791e01619d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ccc39d9e97ce24623aefae2097bff791e01619d9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccc39d9e97ce24623aefae2097bff791e01619d9/comments", "author": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bd2d0aab4d259fe579db294467c366b7737f3488", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd2d0aab4d259fe579db294467c366b7737f3488", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd2d0aab4d259fe579db294467c366b7737f3488"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "461e2fdf271548220fa305c024834059da5750fc", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccc39d9e97ce24623aefae2097bff791e01619d9/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccc39d9e97ce24623aefae2097bff791e01619d9/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=ccc39d9e97ce24623aefae2097bff791e01619d9", "patch": "@@ -1,4 +1,4 @@\n-6479d5976c5d848ec6f5843041275723a00006b0\n+a209dca9ec918535977dcab99fd9bb60986ffacd\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "c93d82bba39590421d577c9a969b3a1ad5ef9292", "filename": "gcc/go/gofrontend/parse.cc", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccc39d9e97ce24623aefae2097bff791e01619d9/gcc%2Fgo%2Fgofrontend%2Fparse.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccc39d9e97ce24623aefae2097bff791e01619d9/gcc%2Fgo%2Fgofrontend%2Fparse.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fparse.cc?ref=ccc39d9e97ce24623aefae2097bff791e01619d9", "patch": "@@ -191,7 +191,11 @@ Parse::qualified_ident(std::string* pname, Named_object** ppackage)\n   Named_object* package = this->gogo_->lookup(name, NULL);\n   if (package == NULL || !package->is_package())\n     {\n-      go_error_at(this->location(), \"expected package\");\n+      if (package == NULL)\n+\tgo_error_at(this->location(), \"reference to undefined name %qs\",\n+\t\t    Gogo::message_name(name).c_str());\n+      else\n+\tgo_error_at(this->location(), \"expected package\");\n       // We expect . IDENTIFIER; skip both.\n       if (this->advance_token()->is_identifier())\n \tthis->advance_token();"}, {"sha": "aecc67678ac28159d2265a68b0d4e553fe34fcf7", "filename": "gcc/testsuite/go.test/test/fixedbugs/issue27938.go", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccc39d9e97ce24623aefae2097bff791e01619d9/gcc%2Ftestsuite%2Fgo.test%2Ftest%2Ffixedbugs%2Fissue27938.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccc39d9e97ce24623aefae2097bff791e01619d9/gcc%2Ftestsuite%2Fgo.test%2Ftest%2Ffixedbugs%2Fissue27938.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgo.test%2Ftest%2Ffixedbugs%2Fissue27938.go?ref=ccc39d9e97ce24623aefae2097bff791e01619d9", "patch": "@@ -11,13 +11,13 @@\n package p\n \n type _ struct {\n-\tF sync.Mutex // ERROR \"undefined: sync|expected package\"\n+\tF sync.Mutex // ERROR \"undefined: sync|expected package|reference to undefined name\"\n }\n \n type _ struct {\n-\tsync.Mutex // ERROR \"undefined: sync|expected package\"\n+\tsync.Mutex // ERROR \"undefined: sync|expected package|reference to undefined name\"\n }\n \n type _ interface {\n-\tsync.Mutex // ERROR \"undefined: sync|expected package|expected signature or type name\"\n+\tsync.Mutex // ERROR \"undefined: sync|expected package|expected signature or type name|reference to undefined name\"\n }"}]}