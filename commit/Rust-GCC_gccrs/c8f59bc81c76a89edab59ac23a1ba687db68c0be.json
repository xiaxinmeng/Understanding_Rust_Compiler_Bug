{"sha": "c8f59bc81c76a89edab59ac23a1ba687db68c0be", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzhmNTliYzgxYzc2YTg5ZWRhYjU5YWMyM2ExYmE2ODdkYjY4YzBiZQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2009-11-12T19:13:17Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2009-11-12T19:13:17Z"}, "message": "ipa.c (function_and_variable_visibility): Fix my accidentail commit and clear DECL_COMMON on localized declarations.\n\n\n\t* ipa.c (function_and_variable_visibility): Fix my accidentail commit and\n\tclear DECL_COMMON on localized declarations.\n\nFrom-SVN: r154128", "tree": {"sha": "aec7b4f0687b6dd2fc79b1cc5a7b6f4f237fc438", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aec7b4f0687b6dd2fc79b1cc5a7b6f4f237fc438"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8f59bc81c76a89edab59ac23a1ba687db68c0be", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8f59bc81c76a89edab59ac23a1ba687db68c0be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8f59bc81c76a89edab59ac23a1ba687db68c0be", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8f59bc81c76a89edab59ac23a1ba687db68c0be/comments", "author": null, "committer": null, "parents": [{"sha": "0ccb5970edae43bb32a90e48c5c25da551fd113c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ccb5970edae43bb32a90e48c5c25da551fd113c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ccb5970edae43bb32a90e48c5c25da551fd113c"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "3c7b84bbb1431b71d9f547992b8231a6ab6ab5ea", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f59bc81c76a89edab59ac23a1ba687db68c0be/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f59bc81c76a89edab59ac23a1ba687db68c0be/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c8f59bc81c76a89edab59ac23a1ba687db68c0be", "patch": "@@ -1,3 +1,8 @@\n+2009-11-12  Jan Hubicka  <jh@suse.cz>\n+\n+\t* ipa.c (function_and_variable_visibility): Fix my accidentail commit and\n+\tclear DECL_COMMON on localized declarations.\n+\n 2009-11-12  Bernd Schmidt  <bernd.schmidt@analog.com>\n \n \tPR rtl-opt/38582"}, {"sha": "dd0b76c4fbefbdb8fd6f4733a3d86d7ef5ef605a", "filename": "gcc/ipa.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f59bc81c76a89edab59ac23a1ba687db68c0be/gcc%2Fipa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f59bc81c76a89edab59ac23a1ba687db68c0be/gcc%2Fipa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa.c?ref=c8f59bc81c76a89edab59ac23a1ba687db68c0be", "patch": "@@ -318,8 +318,8 @@ function_and_variable_visibility (bool whole_program)\n     {\n       if (!vnode->finalized)\n         continue;\n-      gcc_assert ((!DECL_WEAK (vnode->decl) && !DECL_COMMON (vnode->decl) && !DECL_COMDAT (vnode->decl))\n-      \t\t  || TREE_PUBLIC (vnode->decl) || DECL_EXTERNAL (node->decl));\n+      gcc_assert ((!DECL_WEAK (vnode->decl) && !DECL_COMMON (vnode->decl))\n+      \t\t  || TREE_PUBLIC (vnode->decl) || DECL_EXTERNAL (vnode->decl));\n       if (vnode->needed\n \t  && (DECL_COMDAT (vnode->decl) || TREE_PUBLIC (vnode->decl))\n \t  && (!whole_program\n@@ -337,6 +337,7 @@ function_and_variable_visibility (bool whole_program)\n \t{\n \t  gcc_assert (whole_program || !TREE_PUBLIC (vnode->decl));\n \t  TREE_PUBLIC (vnode->decl) = 0;\n+\t  DECL_COMMON (vnode->decl) = 0;\n \t}\n      gcc_assert (TREE_STATIC (vnode->decl));\n     }"}]}