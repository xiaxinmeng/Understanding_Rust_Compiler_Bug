{"sha": "c62df15d283f035d5b1644f74493db2933f2a8cb", "node_id": "C_kwDOANBUbNoAKGM2MmRmMTVkMjgzZjAzNWQ1YjE2NDRmNzQ0OTNkYjI5MzNmMmE4Y2I", "commit": {"author": {"name": "Sandra Loosemore", "email": "sandra@codesourcery.com", "date": "2023-03-11T00:40:42Z"}, "committer": {"name": "Sandra Loosemore", "email": "sandra@codesourcery.com", "date": "2023-03-11T01:13:34Z"}, "message": "Docs: Update documentation of Texinfo versions for building manuals.\n\nThere has been recent discussion on updating the minimum required\nversion of Texinfo from the current version 4.7.  This patch does not\ndo that, but it suggests that people use a more recent version to get\nbetter output.  It also removes some other references to Texinfo 4.7\nand fixes some related bit-rot in the installation manual.  (Nobody\nreally wants to print the GCC manual any more, and the GCC web site\nis a better place to get prebuilt manuals than the FSF store.)\n\ngcc/ChangeLog:\n\t* doc/install.texi (Prerequisites): Suggest using newer versions\n\tof Texinfo.\n\t(Final install): Clean up and modernize discussion of how to\n\tbuild or obtain the GCC manuals.\n\t* doc/install.texi2html: Update comment to point to the PR instead\n\tof \"makeinfo 4.7 brokenness\" (it's not specific to that version).", "tree": {"sha": "b105a299f00635bb8cbd326713a43b78488e98f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b105a299f00635bb8cbd326713a43b78488e98f6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c62df15d283f035d5b1644f74493db2933f2a8cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c62df15d283f035d5b1644f74493db2933f2a8cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c62df15d283f035d5b1644f74493db2933f2a8cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c62df15d283f035d5b1644f74493db2933f2a8cb/comments", "author": {"login": "SandraLoosemore", "id": 104087111, "node_id": "U_kgDOBjQ-Rw", "avatar_url": "https://avatars.githubusercontent.com/u/104087111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SandraLoosemore", "html_url": "https://github.com/SandraLoosemore", "followers_url": "https://api.github.com/users/SandraLoosemore/followers", "following_url": "https://api.github.com/users/SandraLoosemore/following{/other_user}", "gists_url": "https://api.github.com/users/SandraLoosemore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SandraLoosemore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SandraLoosemore/subscriptions", "organizations_url": "https://api.github.com/users/SandraLoosemore/orgs", "repos_url": "https://api.github.com/users/SandraLoosemore/repos", "events_url": "https://api.github.com/users/SandraLoosemore/events{/privacy}", "received_events_url": "https://api.github.com/users/SandraLoosemore/received_events", "type": "User", "site_admin": false}, "committer": {"login": "SandraLoosemore", "id": 104087111, "node_id": "U_kgDOBjQ-Rw", "avatar_url": "https://avatars.githubusercontent.com/u/104087111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SandraLoosemore", "html_url": "https://github.com/SandraLoosemore", "followers_url": "https://api.github.com/users/SandraLoosemore/followers", "following_url": "https://api.github.com/users/SandraLoosemore/following{/other_user}", "gists_url": "https://api.github.com/users/SandraLoosemore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SandraLoosemore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SandraLoosemore/subscriptions", "organizations_url": "https://api.github.com/users/SandraLoosemore/orgs", "repos_url": "https://api.github.com/users/SandraLoosemore/repos", "events_url": "https://api.github.com/users/SandraLoosemore/events{/privacy}", "received_events_url": "https://api.github.com/users/SandraLoosemore/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c80654412b57b35620478cb139debe615ddbf8de", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c80654412b57b35620478cb139debe615ddbf8de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c80654412b57b35620478cb139debe615ddbf8de"}], "stats": {"total": 61, "additions": 39, "deletions": 22}, "files": [{"sha": "63fc949b4479919ff8cf288baaec33aed83b22fc", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 38, "deletions": 21, "changes": 59, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c62df15d283f035d5b1644f74493db2933f2a8cb/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c62df15d283f035d5b1644f74493db2933f2a8cb/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=c62df15d283f035d5b1644f74493db2933f2a8cb", "patch": "@@ -543,13 +543,21 @@ They are included in releases.\n Necessary for running @command{makeinfo} when modifying @file{*.texi}\n files to test your changes.\n \n-Necessary for running @command{make dvi} or @command{make pdf} to\n-create printable documentation in DVI or PDF format.  Texinfo version\n+Necessary for running @command{make dvi}, @command{make pdf},\n+or @command{make html} to create formatted documentation.  Texinfo version\n 4.8 or later is required for @command{make pdf}.\n \n-Necessary to build GCC documentation during development because the\n-generated output files are not included in the repository.  They are\n-included in releases.\n+Necessary to build GCC documentation in info format during development\n+because the generated output files are not included in the repository.\n+(They are included in release tarballs.)\n+\n+Note that the minimum requirement is for a very old version of\n+Texinfo, but recent versions of Texinfo produce better-quality output,\n+especially for HTML format.  The version of Texinfo packaged with any\n+current operating system distribution is likely to be adequate for\n+building the documentation without error, but you may still want to\n+install a newer release to get the best appearance and usability of\n+the generated manuals.\n \n @item @TeX{} (any working version)\n \n@@ -3429,6 +3437,31 @@ You can install stripped programs and libraries with\n make install-strip\n @end smallexample\n \n+By default, only the man pages and info-format GCC documentation\n+are built and installed.  If you want to generate the GCC manuals in\n+other formats, use commands like\n+\n+@smallexample\n+make dvi\n+make pdf\n+make html\n+@end smallexample\n+\n+@noindent\n+to build the manuals in the corresponding formats, and\n+\n+@smallexample\n+make install-dvi\n+make install-pdf\n+make install-html\n+@end smallexample\n+\n+@noindent\n+to install them.\n+Alternatively, there are prebuilt online versions of the manuals for\n+released versions of GCC on\n+@uref{https://gcc.gnu.org/onlinedocs/,,the GCC web site}.\n+\n If you are bootstrapping a released version of GCC then please\n quickly review the build status page for your release, available from\n @uref{https://gcc.gnu.org/buildstat.html}.\n@@ -3494,22 +3527,6 @@ incomplete or out of date.  Send a note to\n If you find a bug, please report it following the\n @uref{../bugs/,,bug reporting guidelines}.\n \n-If you want to print the GCC manuals, do @samp{cd @var{objdir}; make\n-dvi}.  You will need to have @command{texi2dvi} (version at least 4.7)\n-and @TeX{} installed.  This creates a number of @file{.dvi} files in\n-subdirectories of @file{@var{objdir}}; these may be converted for\n-printing with programs such as @command{dvips}.  Alternately, by using\n-@samp{make pdf} in place of @samp{make dvi}, you can create documentation\n-in the form of @file{.pdf} files; this requires @command{texi2pdf}, which\n-is included with Texinfo version 4.8 and later.  You can also\n-@uref{https://shop.fsf.org/,,buy printed manuals from the\n-Free Software Foundation}, though such manuals may not be for the most\n-recent version of GCC@.\n-\n-If you would like to generate online HTML documentation, do @samp{cd\n-@var{objdir}; make html} and HTML will be generated for the gcc manuals in\n-@file{@var{objdir}/gcc/HTML}.\n-\n @html\n <hr />\n <p>"}, {"sha": "54e27fedde35f6634d178efa9a57209e069dd7ae", "filename": "gcc/doc/install.texi2html", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c62df15d283f035d5b1644f74493db2933f2a8cb/gcc%2Fdoc%2Finstall.texi2html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c62df15d283f035d5b1644f74493db2933f2a8cb/gcc%2Fdoc%2Finstall.texi2html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi2html?ref=c62df15d283f035d5b1644f74493db2933f2a8cb", "patch": "@@ -53,7 +53,7 @@ do\n     define=`echo $x | sed -e 's/\\.//g'`\n     echo \"define = $define\"\n     $MAKEINFO --no-number-sections -I $SOURCEDIR -I $SOURCEDIR/include -I $DESTDIR $SOURCEDIR/install.texi --html --no-split -D$define -o$DESTDIR/temp.html\n-    # Use sed to work around makeinfo 4.7 brokenness.\n+    # Use sed to work around PR web/88578.\n     sed -e 's/_002d/-/g' -e 's/_002a/*/g' $DESTDIR/temp.html > $DESTDIR/$x\n     rm $DESTDIR/temp.html\n done"}]}