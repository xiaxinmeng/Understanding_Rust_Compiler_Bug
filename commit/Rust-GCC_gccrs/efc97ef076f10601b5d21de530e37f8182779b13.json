{"sha": "efc97ef076f10601b5d21de530e37f8182779b13", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWZjOTdlZjA3NmYxMDYwMWI1ZDIxZGU1MzBlMzdmODE4Mjc3OWIxMw==", "commit": {"author": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "1998-11-16T15:00:10Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "1998-11-16T15:00:10Z"}, "message": "rs6000.c (output_mi_thunk): Improve test for local branch.\n\n\t* rs6000.c (output_mi_thunk): Improve test for local branch.\n\t* rs6000.c (output_mi_thunk): Correct test for aggregate values.\n\nFrom-SVN: r23676", "tree": {"sha": "f01b7cf46194ed282a696c877b259b45909dded1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f01b7cf46194ed282a696c877b259b45909dded1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/efc97ef076f10601b5d21de530e37f8182779b13", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efc97ef076f10601b5d21de530e37f8182779b13", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efc97ef076f10601b5d21de530e37f8182779b13", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efc97ef076f10601b5d21de530e37f8182779b13/comments", "author": null, "committer": null, "parents": [{"sha": "dfe96118e51d6ac4c64cc198719c540c0c30b601", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dfe96118e51d6ac4c64cc198719c540c0c30b601", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dfe96118e51d6ac4c64cc198719c540c0c30b601"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "e895e957d4b07aad34f5160cde4ea4a6080bcfbd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efc97ef076f10601b5d21de530e37f8182779b13/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efc97ef076f10601b5d21de530e37f8182779b13/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=efc97ef076f10601b5d21de530e37f8182779b13", "patch": "@@ -1,3 +1,11 @@\n+Mon Nov 16 17:56:07 1998  David Edelsohn  <edelsohn@mhpcc.edu>\n+\n+\t* rs6000.c (output_mi_thunk): Improve test for local branch.\n+\n+Mon Nov 16 17:56:07 1998  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n+\n+\t* rs6000.c (output_mi_thunk): Correct test for aggregate values.\n+\n Mon Nov 16 21:02:52 1998  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n \t* reload1.c (reload_reg_free_before_p): Delete.\n@@ -5350,7 +5358,7 @@ Sun Aug 16 01:53:21 1998  Richard Henderson  <rth@cygnus.com>\n \t* reload.c (find_equiv_reg): Reject equivalences separated\n \tby a volatile instruction.\n \n-Sun Aug 16 00:21:44 1998 Franz Sirl <Franz.Sirl-kernel@lauterbach.com> \n+Sun Aug 16 00:21:44 1998 Franz Sirl <Franz.Sirl-kernel@lauterbach.com>\n \n         * rs6000/linux.h (CPP_OS_DEFAULT_SPEC): Define.\n "}, {"sha": "6f96bf1eacf062995c9a94277a81dfe5299aa1a7", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efc97ef076f10601b5d21de530e37f8182779b13/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efc97ef076f10601b5d21de530e37f8182779b13/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=efc97ef076f10601b5d21de530e37f8182779b13", "patch": "@@ -4474,7 +4474,7 @@ output_mi_thunk (file, thunk_fndecl, delta, function)\n      int delta;\n      tree function;\n {\n-  char *this_reg = reg_names[ aggregate_value_p (TREE_TYPE (function)) ? 3 : 4 ];\n+  char *this_reg = reg_names[ aggregate_value_p (TREE_TYPE (TREE_TYPE (function))) ? 4 : 3 ];\n   char *r0\t = reg_names[0];\n   char *sp\t = reg_names[1];\n   char *toc\t = reg_names[2];\n@@ -4559,7 +4559,7 @@ output_mi_thunk (file, thunk_fndecl, delta, function)\n   fprintf (file, \"\\n\");\n \n #else\n-  if (TREE_ASM_WRITTEN (function)\n+  if (current_file_function_operand (XEXP (DECL_RTL (function), 0))\n       && !lookup_attribute (\"longcall\", TYPE_ATTRIBUTES (TREE_TYPE (function))))\n     {\n       fprintf (file, \"\\tb %s\", prefix);"}]}