{"sha": "c61e40d377de73443f80d44900c024459b3631e1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzYxZTQwZDM3N2RlNzM0NDNmODBkNDQ5MDBjMDI0NDU5YjM2MzFlMQ==", "commit": {"author": {"name": "Pat Haugen", "email": "pthaugen@us.ibm.com", "date": "2011-05-26T15:09:31Z"}, "committer": {"name": "Pat Haugen", "email": "pthaugen@gcc.gnu.org", "date": "2011-05-26T15:09:31Z"}, "message": "rs6000.c (rs6000_register_move_cost): Make LR/CTR moves expensive on Power7 also.\n\n        * config/rs6000/rs6000.c (rs6000_register_move_cost): Make LR/CTR\n        moves expensive on Power7 also.\n\nFrom-SVN: r174292", "tree": {"sha": "ed809276f5736314802585e6f75ad48d7c4ca416", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed809276f5736314802585e6f75ad48d7c4ca416"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c61e40d377de73443f80d44900c024459b3631e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c61e40d377de73443f80d44900c024459b3631e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c61e40d377de73443f80d44900c024459b3631e1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c61e40d377de73443f80d44900c024459b3631e1/comments", "author": null, "committer": null, "parents": [{"sha": "1f498652b20a31721e404371e6a0cfa339752bce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f498652b20a31721e404371e6a0cfa339752bce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f498652b20a31721e404371e6a0cfa339752bce"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "e72b14439e0c5e51e2696cd47fcfff77a1e0394f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c61e40d377de73443f80d44900c024459b3631e1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c61e40d377de73443f80d44900c024459b3631e1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c61e40d377de73443f80d44900c024459b3631e1", "patch": "@@ -1,3 +1,8 @@\n+2011-05-26  Pat Haugen <pthaugen@us.ibm.com>\n+\n+\t* config/rs6000/rs6000.c (rs6000_register_move_cost): Make LR/CTR\n+\tmoves expensive on Power7 also.\n+\n 2011-05-26  Richard Guenther  <rguenther@suse.de>\n \n \t* fold-const.c (fold_unary_loc): Remove bogus code."}, {"sha": "d6a12fdbe09efc69f259be33c0322af16d1eabdb", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c61e40d377de73443f80d44900c024459b3631e1/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c61e40d377de73443f80d44900c024459b3631e1/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=c61e40d377de73443f80d44900c024459b3631e1", "patch": "@@ -26444,9 +26444,10 @@ rs6000_register_move_cost (enum machine_mode mode,\n       else if (from == CR_REGS)\n \tret = 4;\n \n-      /* Power6 has slower LR/CTR moves so make them more expensive than\n-\t memory in order to bias spills to memory .*/\n-      else if (rs6000_cpu == PROCESSOR_POWER6\n+      /* For those processors that have slow LR/CTR moves, make them more\n+         expensive than memory in order to bias spills to memory .*/\n+      else if ((rs6000_cpu == PROCESSOR_POWER6\n+\t\t|| rs6000_cpu == PROCESSOR_POWER7)\n \t       && reg_classes_intersect_p (from, LINK_OR_CTR_REGS))\n         ret = 6 * hard_regno_nregs[0][mode];\n "}]}