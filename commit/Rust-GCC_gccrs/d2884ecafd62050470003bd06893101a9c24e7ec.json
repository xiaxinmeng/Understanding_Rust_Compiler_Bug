{"sha": "d2884ecafd62050470003bd06893101a9c24e7ec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDI4ODRlY2FmZDYyMDUwNDcwMDAzYmQwNjg5MzEwMWE5YzI0ZTdlYw==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2017-07-13T12:38:32Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2017-07-13T12:38:32Z"}, "message": "revert previous premature commit\n\nFrom-SVN: r250181", "tree": {"sha": "d6f6c0838ec98a14a3ad91631514a657f7e97485", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d6f6c0838ec98a14a3ad91631514a657f7e97485"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d2884ecafd62050470003bd06893101a9c24e7ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2884ecafd62050470003bd06893101a9c24e7ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2884ecafd62050470003bd06893101a9c24e7ec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2884ecafd62050470003bd06893101a9c24e7ec/comments", "author": null, "committer": null, "parents": [{"sha": "de0e7b1fab41af63788f7e9042f000153a8e4117", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de0e7b1fab41af63788f7e9042f000153a8e4117", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de0e7b1fab41af63788f7e9042f000153a8e4117"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "8dd5e673838728537b1fa408150ac5d63e531df0", "filename": "libcc1/libcp1plugin.cc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2884ecafd62050470003bd06893101a9c24e7ec/libcc1%2Flibcp1plugin.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2884ecafd62050470003bd06893101a9c24e7ec/libcc1%2Flibcp1plugin.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcc1%2Flibcp1plugin.cc?ref=d2884ecafd62050470003bd06893101a9c24e7ec", "patch": "@@ -1556,7 +1556,7 @@ plugin_build_decl (cc1_plugin::connection *self,\n \n   if ((ctor || dtor)\n       /* Don't crash after a duplicate declaration of a cdtor.  */\n-      && TYPE_FIELDS (current_class_type) == decl)\n+      && TYPE_METHODS (current_class_type) == decl)\n     {\n       /* ctors and dtors clones are chained after DECL.\n \t However, we create the clones before TYPE_METHODS is\n@@ -1568,9 +1568,9 @@ plugin_build_decl (cc1_plugin::connection *self,\n       tree save = DECL_CHAIN (decl);\n       DECL_CHAIN (decl) = NULL_TREE;\n       clone_function_decl (decl, /*update_methods=*/true);\n-      gcc_assert (TYPE_FIELDS (current_class_type) == decl);\n-      TYPE_FIELDS (current_class_type)\n-\t= nreverse (TYPE_FIELDS (current_class_type));\n+      gcc_assert (TYPE_METHODS (current_class_type) == decl);\n+      TYPE_METHODS (current_class_type)\n+\t= nreverse (TYPE_METHODS (current_class_type));\n       DECL_CHAIN (decl) = save;\n     }\n "}]}