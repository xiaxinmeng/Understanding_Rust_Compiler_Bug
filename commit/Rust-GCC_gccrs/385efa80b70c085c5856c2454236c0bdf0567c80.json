{"sha": "385efa80b70c085c5856c2454236c0bdf0567c80", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzg1ZWZhODBiNzBjMDg1YzU4NTZjMjQ1NDIzNmMwYmRmMDU2N2M4MA==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2004-10-22T17:59:50Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2004-10-22T17:59:50Z"}, "message": "tree-cfg.c (thread_jumps_from_bb): Speed up by extracting edge information when...\n\n\t* tree-cfg.c (thread_jumps_from_bb): Speed up by extracting\n\tedge information when we commit ourselves to threading a\n\tparticular jump.\n\nFrom-SVN: r89462", "tree": {"sha": "0852828a4b7b9d8a04d2366874e06d56e7a833aa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0852828a4b7b9d8a04d2366874e06d56e7a833aa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/385efa80b70c085c5856c2454236c0bdf0567c80", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/385efa80b70c085c5856c2454236c0bdf0567c80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/385efa80b70c085c5856c2454236c0bdf0567c80", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/385efa80b70c085c5856c2454236c0bdf0567c80/comments", "author": null, "committer": null, "parents": [{"sha": "afc3f3960382425780dd949a987d2f2e6fda1878", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afc3f3960382425780dd949a987d2f2e6fda1878", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afc3f3960382425780dd949a987d2f2e6fda1878"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "34abac14f7fd9f791ac8d712c14286c46b9d2900", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/385efa80b70c085c5856c2454236c0bdf0567c80/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/385efa80b70c085c5856c2454236c0bdf0567c80/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=385efa80b70c085c5856c2454236c0bdf0567c80", "patch": "@@ -1,3 +1,9 @@\n+2004-10-22  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* tree-cfg.c (thread_jumps_from_bb): Speed up by extracting\n+\tedge information when we commit ourselves to threading a\n+\tparticular jump.\n+\n 2004-10-22  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* tree-cfg.c (thread_jumps): Speed up by putting basic blocks"}, {"sha": "bdcabf3a58a06cd57884e26bf8ff36a0a58aa40f", "filename": "gcc/tree-cfg.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/385efa80b70c085c5856c2454236c0bdf0567c80/gcc%2Ftree-cfg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/385efa80b70c085c5856c2454236c0bdf0567c80/gcc%2Ftree-cfg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-cfg.c?ref=385efa80b70c085c5856c2454236c0bdf0567c80", "patch": "@@ -3788,9 +3788,6 @@ thread_jumps_from_bb (basic_block bb)\n \t  continue;\n \t}\n \n-      count = e->count;\n-      freq = EDGE_FREQUENCY (e);\n-\n       /* Now walk through as many forwarder blocks as possible to find\n \t the ultimate destination we want to thread our jump to.  */\n       last = EDGE_SUCC (e->dest, 0);\n@@ -3839,6 +3836,8 @@ thread_jumps_from_bb (basic_block bb)\n \n       /* Perform the redirection.  */\n       retval = true;\n+      count = e->count;\n+      freq = EDGE_FREQUENCY (e);\n       old_dest = e->dest;\n       e = redirect_edge_and_branch (e, dest);\n "}]}