{"sha": "633e5fbb241ea135f8f35b1c13152b2415aac81e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjMzZTVmYmIyNDFlYTEzNWY4ZjM1YjFjMTMxNTJiMjQxNWFhYzgxZQ==", "commit": {"author": {"name": "Trevor Saunders", "email": "tsaunders@mozilla.com", "date": "2014-07-21T07:45:45Z"}, "committer": {"name": "Yury Gribov", "email": "ygribov@gcc.gnu.org", "date": "2014-07-21T07:45:45Z"}, "message": "mklog: Run mklog as a filter.\n\ncontrib/\n2014-07-21  Trevor Saunders  <tsaunders@mozilla.com>\n\t    Yury Gribov  <y.gribov@samsung.com>\n\n\t* mklog: Run mklog as a filter.\n\nCo-Authored-By: Yury Gribov <y.gribov@samsung.com>\n\nFrom-SVN: r212884", "tree": {"sha": "92d09cf415668caca723f4dd4086d5d092d81873", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/92d09cf415668caca723f4dd4086d5d092d81873"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/633e5fbb241ea135f8f35b1c13152b2415aac81e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/633e5fbb241ea135f8f35b1c13152b2415aac81e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/633e5fbb241ea135f8f35b1c13152b2415aac81e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/633e5fbb241ea135f8f35b1c13152b2415aac81e/comments", "author": null, "committer": null, "parents": [{"sha": "863aa163a0dd338c392485f72e32e95ee516f2e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/863aa163a0dd338c392485f72e32e95ee516f2e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/863aa163a0dd338c392485f72e32e95ee516f2e8"}], "stats": {"total": 26, "additions": 14, "deletions": 12}, "files": [{"sha": "8060536ad294f1b9a563cf73d32b77cb75c62034", "filename": "contrib/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/633e5fbb241ea135f8f35b1c13152b2415aac81e/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/633e5fbb241ea135f8f35b1c13152b2415aac81e/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=633e5fbb241ea135f8f35b1c13152b2415aac81e", "patch": "@@ -1,6 +1,11 @@\n 2014-07-21  Trevor Saunders  <tsaunders@mozilla.com>\n+\t    Yury Gribov  <y.gribov@samsung.com>\n \n-\tmklog: Read name and email from git config when available.\n+\t* mklog: Run mklog as a filter.\n+\n+2014-07-21  Trevor Saunders  <tsaunders@mozilla.com>\n+\n+\t* mklog: Read name and email from git config when available.\n \n 2014-06-28  Richard Biener  <rguenther@suse.de>\n "}, {"sha": "cdc64551d5f9412d4225215fae851ea1fa7282ff", "filename": "contrib/mklog", "status": "modified", "additions": 8, "deletions": 11, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/633e5fbb241ea135f8f35b1c13152b2415aac81e/contrib%2Fmklog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/633e5fbb241ea135f8f35b1c13152b2415aac81e/contrib%2Fmklog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fmklog?ref=633e5fbb241ea135f8f35b1c13152b2415aac81e", "patch": "@@ -59,9 +59,13 @@ if (-d .git) {\n #-----------------------------------------------------------------------------\n if ($#ARGV != 0) {\n     $prog = `basename $0`; chop ($prog);\n-    print \"usage: $prog file.diff\\n\\n\";\n-    print \"Adds a ChangeLog template to the start of file.diff\\n\";\n-    print \"It assumes that file.diff has been created with -up or -cp.\\n\";\n+    print <<EOF;\n+usage: $prog file.diff\n+\n+Generate ChangeLog template for file.diff.\n+It assumes that patch has been created with -up or -cp.\n+When file.diff is -, read standard input.\n+EOF\n     exit 1;\n }\n \n@@ -270,15 +274,8 @@ foreach (@diff_lines) {\n # functions.\n $cl_entries{$clname} .= $change_msg ? \"$change_msg\\n\" : \":\\n\";\n \n-$temp = `mktemp /tmp/$basename.XXXXXX` || exit 1; chop ($temp);\n-open (CLFILE, \">$temp\") or die \"Could not open file $temp for writing\";\n-\n foreach my $clname (keys %cl_entries) {\n-\tprint CLFILE \"$clname:\\n\\n$hdrline\\n\\n$cl_entries{$clname}\\n\";\n+\tprint \"$clname:\\n\\n$hdrline\\n\\n$cl_entries{$clname}\\n\";\n }\n \n-# Concatenate the ChangeLog template and the original .diff file.\n-system (\"cat $diff >>$temp && mv $temp $diff\") == 0\n-    or die \"Could not add the ChangeLog entry to $diff\";\n-\n exit 0;"}]}