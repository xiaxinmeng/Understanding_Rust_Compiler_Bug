{"sha": "2d2e70543133b6b86f35f8533aaf1b76ad2d4b11", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmQyZTcwNTQzMTMzYjZiODZmMzVmODUzM2FhZjFiNzZhZDJkNGIxMQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-11-28T04:42:28Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-11-28T04:42:28Z"}, "message": "Grr.  Used the wrong patchfile last time.\n\nFrom-SVN: r16816", "tree": {"sha": "629aeffd7c9049856a9cc8d450a260b9d69d62f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/629aeffd7c9049856a9cc8d450a260b9d69d62f7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2d2e70543133b6b86f35f8533aaf1b76ad2d4b11", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d2e70543133b6b86f35f8533aaf1b76ad2d4b11", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d2e70543133b6b86f35f8533aaf1b76ad2d4b11", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d2e70543133b6b86f35f8533aaf1b76ad2d4b11/comments", "author": null, "committer": null, "parents": [{"sha": "586a5f993abceb8ea62bdd39f2e0875ee11baace", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/586a5f993abceb8ea62bdd39f2e0875ee11baace", "html_url": "https://github.com/Rust-GCC/gccrs/commit/586a5f993abceb8ea62bdd39f2e0875ee11baace"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "8311566e9c82f14222c4d6e2a4d34f16f5a04da7", "filename": "gcc/flow.c", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d2e70543133b6b86f35f8533aaf1b76ad2d4b11/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d2e70543133b6b86f35f8533aaf1b76ad2d4b11/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=2d2e70543133b6b86f35f8533aaf1b76ad2d4b11", "patch": "@@ -574,7 +574,11 @@ find_basic_blocks (f, nonlocal_label_list)\n \t\t\t   associated insns aren't marked dead, so we make\n \t\t\t   the block in question live and create an edge from\n \t\t\t   this insn to the label.  This is not strictly\n-\t\t\t   correct, but it is close enough for now.  */\n+\t\t\t   correct, but it is close enough for now.\n+\n+\t\t\t   We also need to mark the CODE_LABEL as reaching\n+\t\t\t   its exception handler for nested exceptions to\n+\t\t\t   to work.  */\n \t\t\tfor (note = REG_NOTES (insn);\n \t\t\t     note;\n \t\t\t     note = XEXP (note, 1))\n@@ -586,6 +590,14 @@ find_basic_blocks (f, nonlocal_label_list)\n \t\t\t\tmark_label_ref (gen_rtx (LABEL_REF,\n \t\t\t\t\t\t\t VOIDmode, x),\n \t\t\t\t\t\tinsn, 0);\n+\n+\t\t\t\t/* If the CODE_LABEL has an active exception\n+\t\t\t\t   handler, then make an edge to the exception\n+\t\t\t\t   handler from this insn.  */\n+\t\t\t\tif (active_eh_handler[INSN_UID (x)])\n+\t\t\t\t  mark_label_ref (gen_rtx (LABEL_REF, VOIDmode,\n+\t\t\t\t\t\t\t   active_eh_handler[INSN_UID (x)]),\n+\t\t\t\t\t\t  insn, 0);\n \t\t\t      }\n \t\t\t  }\n "}]}