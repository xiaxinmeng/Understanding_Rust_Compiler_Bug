{"sha": "52880d11ce08fc59999823524667a7f135e7dbac", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTI4ODBkMTFjZTA4ZmM1OTk5OTgyMzUyNDY2N2E3ZjEzNWU3ZGJhYw==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2013-02-09T09:49:49Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2013-02-09T09:49:49Z"}, "message": "re PR fortran/55362 (ICE with size() on character pointer)\n\n2013-02-09  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/55362\n\t* check.c (array_check): It is an error if a procedure is\n\tpassed.\n\n2013-02-09  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/55362\n\t* gfortran.dg/intrinsic_size_4.f90 : New test.\n\nFrom-SVN: r195915", "tree": {"sha": "1eff89f0fe9ef46f3f6294a4a5a54bf040ab4708", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1eff89f0fe9ef46f3f6294a4a5a54bf040ab4708"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/52880d11ce08fc59999823524667a7f135e7dbac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52880d11ce08fc59999823524667a7f135e7dbac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52880d11ce08fc59999823524667a7f135e7dbac", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52880d11ce08fc59999823524667a7f135e7dbac/comments", "author": null, "committer": null, "parents": [{"sha": "59ac9a555ea3a6fde282e135a7dc7546a6e06b5f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59ac9a555ea3a6fde282e135a7dc7546a6e06b5f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59ac9a555ea3a6fde282e135a7dc7546a6e06b5f"}], "stats": {"total": 33, "additions": 31, "deletions": 2}, "files": [{"sha": "52b610dab03fb6552a6f435b21f87f584417e8ce", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52880d11ce08fc59999823524667a7f135e7dbac/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52880d11ce08fc59999823524667a7f135e7dbac/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=52880d11ce08fc59999823524667a7f135e7dbac", "patch": "@@ -1,3 +1,9 @@\n+2013-02-09  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/55362\n+\t* check.c (array_check): It is an error if a procedure is\n+\tpassed.\n+\n 2013-02-08  Mikael Morin  <mikael@gcc.gnu.org>\n \n \tPR fortran/54107\n@@ -8,7 +14,7 @@\n \n 2013-02-07  Tobias Burnus  <burnus@net-b.de>\n \n-\tPR fortran/54339 \n+\tPR fortran/54339\n \t* gfortran.texi (Standards): Mention TS29113.\n \t(Varying Length Character): Mention deferred-length\n \tstrings."}, {"sha": "0e71b9506f86246824d9b7569247efe639051942", "filename": "gcc/fortran/check.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52880d11ce08fc59999823524667a7f135e7dbac/gcc%2Ffortran%2Fcheck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52880d11ce08fc59999823524667a7f135e7dbac/gcc%2Ffortran%2Fcheck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fcheck.c?ref=52880d11ce08fc59999823524667a7f135e7dbac", "patch": "@@ -256,7 +256,7 @@ array_check (gfc_expr *e, int n)\n       return SUCCESS;\n     }\n \n-  if (e->rank != 0)\n+  if (e->rank != 0 && e->ts.type != BT_PROCEDURE)\n     return SUCCESS;\n \n   gfc_error (\"'%s' argument of '%s' intrinsic at %L must be an array\","}, {"sha": "69d7a15d2adebcde9d9ca984b28a02abb38fc652", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52880d11ce08fc59999823524667a7f135e7dbac/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52880d11ce08fc59999823524667a7f135e7dbac/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=52880d11ce08fc59999823524667a7f135e7dbac", "patch": "@@ -1,3 +1,8 @@\n+2013-02-09  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/55362\n+\t* gfortran.dg/intrinsic_size_4.f90 : New test.\n+\n 2013-02-09  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/56256"}, {"sha": "6d8e1c0b587e7a14825066c2bfa537aa0ee05fc2", "filename": "gcc/testsuite/gfortran.dg/intrinsic_size_4.f90", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52880d11ce08fc59999823524667a7f135e7dbac/gcc%2Ftestsuite%2Fgfortran.dg%2Fintrinsic_size_4.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52880d11ce08fc59999823524667a7f135e7dbac/gcc%2Ftestsuite%2Fgfortran.dg%2Fintrinsic_size_4.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fintrinsic_size_4.f90?ref=52880d11ce08fc59999823524667a7f135e7dbac", "patch": "@@ -0,0 +1,18 @@\n+! { dg-do compile }\n+! Test the fix for PR55362; the error below was missed and an ICE ensued.\n+!\n+! ! Contributed by Dominique d'Humieres  <dominiq@lps.ens.fr>\n+!\n+program ice_test\n+  implicit none\n+  write(*,*) 'message: ', &\n+             size(Error_Msg),Error_Msg()     ! { dg-error \"must be an array\" }\n+  write(*,*) 'message: ', &\n+             size(Error_Msg ()),Error_Msg()  ! OK of course\n+contains\n+  function Error_Msg() result(ErrorMsg)\n+    character, dimension(:), pointer :: ErrorMsg\n+    character, dimension(1), target :: str = '!'\n+    ErrorMsg => str\n+  end function Error_Msg\n+end program ice_test"}]}