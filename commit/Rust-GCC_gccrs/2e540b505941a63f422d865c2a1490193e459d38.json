{"sha": "2e540b505941a63f422d865c2a1490193e459d38", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmU1NDBiNTA1OTQxYTYzZjQyMmQ4NjVjMmExNDkwMTkzZTQ1OWQzOA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-03-28T22:31:02Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-03-28T22:31:02Z"}, "message": "compiler: fix null-dereference on invalid len() arg.\n\nThis patch fixes an ICE caused by syntax errors in arguments\nto unary built-in functions like len().\n\nUpdates issue 7.\n\nFrom R\u00e9my Oudompheng.\n\nFrom-SVN: r185935", "tree": {"sha": "3266a54e30ca2d8cf212885010822276f35f6a08", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3266a54e30ca2d8cf212885010822276f35f6a08"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2e540b505941a63f422d865c2a1490193e459d38", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e540b505941a63f422d865c2a1490193e459d38", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e540b505941a63f422d865c2a1490193e459d38", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e540b505941a63f422d865c2a1490193e459d38/comments", "author": null, "committer": null, "parents": [{"sha": "1fbb888cfc96cf90eb15a772d278ee6c9ddfc64e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fbb888cfc96cf90eb15a772d278ee6c9ddfc64e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1fbb888cfc96cf90eb15a772d278ee6c9ddfc64e"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "13c7de37835ce1d56c00aa5c7346d26b313d719c", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e540b505941a63f422d865c2a1490193e459d38/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e540b505941a63f422d865c2a1490193e459d38/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=2e540b505941a63f422d865c2a1490193e459d38", "patch": "@@ -6609,7 +6609,7 @@ Builtin_call_expression::do_lower(Gogo* gogo, Named_object* function,\n       if (this->code_ == BUILTIN_LEN || this->code_ == BUILTIN_CAP)\n \t{\n \t  Expression* arg = this->one_arg();\n-\t  if (!arg->is_constant())\n+\t  if (arg != NULL && !arg->is_constant())\n \t    {\n \t      Find_call_expression find_call;\n \t      Expression::traverse(&arg, &find_call);\n@@ -6929,7 +6929,7 @@ Expression*\n Builtin_call_expression::one_arg() const\n {\n   const Expression_list* args = this->args();\n-  if (args->size() != 1)\n+  if (args == NULL || args->size() != 1)\n     return NULL;\n   return args->front();\n }"}]}