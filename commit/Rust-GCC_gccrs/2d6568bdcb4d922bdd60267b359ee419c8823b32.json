{"sha": "2d6568bdcb4d922bdd60267b359ee419c8823b32", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmQ2NTY4YmRjYjRkOTIyYmRkNjAyNjdiMzU5ZWU0MTljODgyM2IzMg==", "commit": {"author": {"name": "Jim Wilson", "email": "jim.wilson@linaro.org", "date": "2017-03-18T05:37:52Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2017-03-18T05:37:52Z"}, "message": "Fix aarch64 bootstrap compare failure.\n\n\tgcc/\n\t* combine.c (try_combine): Delete redundant i1 test.  Call\n\tprev_nonnote_nondebug_insn instead of prev_nonnote_insn.\n\nFrom-SVN: r246253", "tree": {"sha": "6e2349e7d0095ab851073fde6d039a0022c248a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6e2349e7d0095ab851073fde6d039a0022c248a0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2d6568bdcb4d922bdd60267b359ee419c8823b32", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d6568bdcb4d922bdd60267b359ee419c8823b32", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d6568bdcb4d922bdd60267b359ee419c8823b32", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d6568bdcb4d922bdd60267b359ee419c8823b32/comments", "author": null, "committer": null, "parents": [{"sha": "a2bb5257223680bdf2f5e7f7ac4d71ea73264b37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2bb5257223680bdf2f5e7f7ac4d71ea73264b37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2bb5257223680bdf2f5e7f7ac4d71ea73264b37"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "8b4aa584c3d479b7f2fa6aa7112573544a828114", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d6568bdcb4d922bdd60267b359ee419c8823b32/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d6568bdcb4d922bdd60267b359ee419c8823b32/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2d6568bdcb4d922bdd60267b359ee419c8823b32", "patch": "@@ -1,3 +1,8 @@\n+2017-03-17  Jim Wilson  <jim.wilson@linaro.org>\n+\n+\t* combine.c (try_combine): Delete redundant i1 test.  Call\n+\tprev_nonnote_nondebug_insn instead of prev_nonnote_insn.\n+\n 2017-03-17  Palmer Dabbelt  <palmer@dabbelt.com\n \n \t* doc/install.texi (Specific) <riscv32-*-elf>: Add riscv32-*-elf,"}, {"sha": "463737f9773eab8f851ddb71198757f35071c950", "filename": "gcc/combine.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d6568bdcb4d922bdd60267b359ee419c8823b32/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d6568bdcb4d922bdd60267b359ee419c8823b32/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=2d6568bdcb4d922bdd60267b359ee419c8823b32", "patch": "@@ -2806,9 +2806,8 @@ try_combine (rtx_insn *i3, rtx_insn *i2, rtx_insn *i1, rtx_insn *i0,\n \tbitmap_set_bit (links_regset, ll->regno);\n       FOR_EACH_LOG_LINK (ll, i2)\n \tbitmap_set_bit (links_regset, ll->regno);\n-      if (i1)\n-\tFOR_EACH_LOG_LINK (ll, i1)\n-\t  bitmap_set_bit (links_regset, ll->regno);\n+      FOR_EACH_LOG_LINK (ll, i1)\n+\tbitmap_set_bit (links_regset, ll->regno);\n       if (i0)\n \tFOR_EACH_LOG_LINK (ll, i0)\n \t  bitmap_set_bit (links_regset, ll->regno);\n@@ -4142,7 +4141,7 @@ try_combine (rtx_insn *i3, rtx_insn *i2, rtx_insn *i1, rtx_insn *i0,\n \t   multi-word registers.  Later, when fixing up LOG_LINKS, we\n \t   deal with the case where a pseudo use moved.  */\n \tif (!bitmap_empty_p (new_regs_in_i2)\n-\t    && prev_nonnote_insn (i3) != i2\n+\t    && prev_nonnote_nondebug_insn (i3) != i2\n \t    && bitmap_first_set_bit (new_regs_in_i2) < FIRST_PSEUDO_REGISTER)\n \t  {\n \t    undo_all ();"}]}