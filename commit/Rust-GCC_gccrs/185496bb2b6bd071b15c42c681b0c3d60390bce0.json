{"sha": "185496bb2b6bd071b15c42c681b0c3d60390bce0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTg1NDk2YmIyYjZiZDA3MWIxNWM0MmM2ODFiMGMzZDYwMzkwYmNlMA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-07-28T13:39:56Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-07-28T13:39:56Z"}, "message": "(DO_GLOBAL_DTORS_BODY): Use an asm statement to keep the optimizer\nfrom deleting an assignment that it is dead.\n\nFrom-SVN: r10187", "tree": {"sha": "3dd6c2d62ee80100a567b6c1fd2b3224f21f482e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3dd6c2d62ee80100a567b6c1fd2b3224f21f482e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/185496bb2b6bd071b15c42c681b0c3d60390bce0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/185496bb2b6bd071b15c42c681b0c3d60390bce0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/185496bb2b6bd071b15c42c681b0c3d60390bce0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/185496bb2b6bd071b15c42c681b0c3d60390bce0/comments", "author": null, "committer": null, "parents": [{"sha": "ba11c17994a5aba402252e4a7d0e5c91cad0aea9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba11c17994a5aba402252e4a7d0e5c91cad0aea9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba11c17994a5aba402252e4a7d0e5c91cad0aea9"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "485dbbce1a889d2f839cf72c97505f38ab9cb9ac", "filename": "gcc/config/pa/pa.h", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/185496bb2b6bd071b15c42c681b0c3d60390bce0/gcc%2Fconfig%2Fpa%2Fpa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/185496bb2b6bd071b15c42c681b0c3d60390bce0/gcc%2Fconfig%2Fpa%2Fpa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.h?ref=185496bb2b6bd071b15c42c681b0c3d60390bce0", "patch": "@@ -2190,13 +2190,17 @@ extern void hppa_encode_label ();\n #endif\n \n /* We want __gcc_plt_call to appear in every program built by\n-   gcc, so we make a reference to it out of __main.  */\n+   gcc, so we make a reference to it out of __main.\n+   We use the asm statement to fool the optimizer into not\n+   removing the dead (but important) initialization of\n+   REFERENCE.  */\n+\n #define DO_GLOBAL_DTORS_BODY \\\n do { \\\n   extern void __gcc_plt_call (); \\\n   void (*reference)() = &__gcc_plt_call; \\\n   func_ptr *p; \\\n+  __asm__ (\"\" : : \"r\" (reference)); \\\n   for (p = __DTOR_LIST__ + 1; *p; ) \\\n     (*p++) (); \\\n } while (0)\n-"}]}