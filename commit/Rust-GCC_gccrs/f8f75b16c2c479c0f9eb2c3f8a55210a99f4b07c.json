{"sha": "f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjhmNzViMTZjMmM0NzljMGY5ZWIyYzNmOGE1NTIxMGE5OWY0YjA3Yw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2012-01-05T20:47:16Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2012-01-05T20:47:16Z"}, "message": "re PR debug/51762 (ICE in maybe_record_trace_start, at dwarf2cfi.c:2231)\n\n\tPR debug/51762\n\t* calls.c (emit_call_1): For noreturn calls force a REG_ARGS_SIZE\n\tnote when !ACCUMULATE_OUTGOING_ARGS.\n\n\t* gcc.dg/pr51762.c: New test.\n\nFrom-SVN: r182924", "tree": {"sha": "9bec1abf57ab342191f47a5f4dedef16189d8eb7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9bec1abf57ab342191f47a5f4dedef16189d8eb7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "629c2cca17ff1c931a89011abdbd3ef4761aecb6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/629c2cca17ff1c931a89011abdbd3ef4761aecb6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/629c2cca17ff1c931a89011abdbd3ef4761aecb6"}], "stats": {"total": 35, "additions": 34, "deletions": 1}, "files": [{"sha": "e63604ffcf9bef4c68f9a5bea15f5a9cb4af3788", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c", "patch": "@@ -1,3 +1,9 @@\n+2012-01-05  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR debug/51762\n+\t* calls.c (emit_call_1): For noreturn calls force a REG_ARGS_SIZE\n+\tnote when !ACCUMULATE_OUTGOING_ARGS.\n+\n 2012-01-05  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* tree-vrp.c (extract_range_from_binary_expr_1): Remove duplicated"}, {"sha": "943ab093c0fc09ad6a80c88233a06d47856ac860", "filename": "gcc/calls.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c", "patch": "@@ -1,7 +1,7 @@\n /* Convert function calls to rtl insns, for GNU C compiler.\n    Copyright (C) 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,\n    1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,\n-   2011 Free Software Foundation, Inc.\n+   2011, 2012 Free Software Foundation, Inc.\n \n This file is part of GCC.\n \n@@ -445,6 +445,11 @@ emit_call_1 (rtx funexp, tree fntree ATTRIBUTE_UNUSED, tree fndecl ATTRIBUTE_UNU\n       if (SUPPORTS_STACK_ALIGNMENT)\n         crtl->need_drap = true;\n     }\n+  /* For noreturn calls when not accumulating outgoing args force\n+     REG_ARGS_SIZE note to prevent crossjumping of calls with different\n+     args sizes.  */\n+  else if (!ACCUMULATE_OUTGOING_ARGS && (ecf_flags & ECF_NORETURN) != 0)\n+    add_reg_note (call_insn, REG_ARGS_SIZE, GEN_INT (stack_pointer_delta));\n \n   if (!ACCUMULATE_OUTGOING_ARGS)\n     {"}, {"sha": "6db75695305f48982050a3f66332c99ed327a5d0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c", "patch": "@@ -1,5 +1,8 @@\n 2012-01-05  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR debug/51762\n+\t* gcc.dg/pr51762.c: New test.\n+\n \tPR rtl-optimization/51767\n \t* gcc.c-torture/compile/pr51767.c: New test.\n "}, {"sha": "9c59f338c7e36a1b2ba9e342b1cadccd9f45616c", "filename": "gcc/testsuite/gcc.dg/pr51762.c", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c/gcc%2Ftestsuite%2Fgcc.dg%2Fpr51762.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c/gcc%2Ftestsuite%2Fgcc.dg%2Fpr51762.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr51762.c?ref=f8f75b16c2c479c0f9eb2c3f8a55210a99f4b07c", "patch": "@@ -0,0 +1,19 @@\n+/* PR debug/51762 */\n+/* { dg-do compile } */\n+/* { dg-options \"-g -Os -fomit-frame-pointer -fno-asynchronous-unwind-tables\" } */\n+\n+void noret (void) __attribute__ ((noreturn));\n+int bar (void);\n+void baz (const char *);\n+static int v = -1;\n+\n+void\n+foo (void)\n+{\n+  if (bar () && v == -1)\n+    {\n+      baz (\"baz\");\n+      noret ();\n+    }\n+  noret ();\n+}"}]}