{"sha": "edbaf6a24d220fe50ec0bbb245952bf9a19a3561", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWRiYWY2YTI0ZDIyMGZlNTBlYzBiYmIyNDU5NTJiZjlhMTlhMzU2MQ==", "commit": {"author": {"name": "John David Anglin", "email": "dave.anglin@nrc-cnrc.gc.ca", "date": "2006-05-17T15:35:36Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2006-05-17T15:35:36Z"}, "message": "unwind-dw2.c: Add declarations for uw_update_context and uw_frame_state_for.\n\n\t* unwind-dw2.c: Add declarations for uw_update_context and\n\tuw_frame_state_for.\n\t* pa/hpux-unwind.h (pa_fallback_frame_state): When an export stub is\n\tdetected, advance frame state and context once to skip over stub.\n\nFrom-SVN: r113865", "tree": {"sha": "c07bef3c2aa765203944beda977592a8bcc0237f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c07bef3c2aa765203944beda977592a8bcc0237f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/edbaf6a24d220fe50ec0bbb245952bf9a19a3561", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edbaf6a24d220fe50ec0bbb245952bf9a19a3561", "html_url": "https://github.com/Rust-GCC/gccrs/commit/edbaf6a24d220fe50ec0bbb245952bf9a19a3561", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edbaf6a24d220fe50ec0bbb245952bf9a19a3561/comments", "author": null, "committer": null, "parents": [{"sha": "9e6fb77dba8c47d6b6e8792900ab507d60e0bcc1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e6fb77dba8c47d6b6e8792900ab507d60e0bcc1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e6fb77dba8c47d6b6e8792900ab507d60e0bcc1"}], "stats": {"total": 23, "additions": 21, "deletions": 2}, "files": [{"sha": "d71b1b4c2768b5a781862d0615c3c4adf2019811", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edbaf6a24d220fe50ec0bbb245952bf9a19a3561/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edbaf6a24d220fe50ec0bbb245952bf9a19a3561/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=edbaf6a24d220fe50ec0bbb245952bf9a19a3561", "patch": "@@ -1,3 +1,10 @@\n+2006-05-17  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n+\n+\t* unwind-dw2.c: Add declarations for uw_update_context and\n+\tuw_frame_state_for.\n+\t* pa/hpux-unwind.h (pa_fallback_frame_state): When an export stub is\n+\tdetected, advance frame state and context once to skip over stub.\n+\n 2006-05-17  Sebastian Pop  <pop@cri.ensmp.fr>\n \n \tPR middle-end/20256"}, {"sha": "d52149889e3998a5db62ec77fdcf82eff28341f4", "filename": "gcc/config/pa/hpux-unwind.h", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edbaf6a24d220fe50ec0bbb245952bf9a19a3561/gcc%2Fconfig%2Fpa%2Fhpux-unwind.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edbaf6a24d220fe50ec0bbb245952bf9a19a3561/gcc%2Fconfig%2Fpa%2Fhpux-unwind.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fhpux-unwind.h?ref=edbaf6a24d220fe50ec0bbb245952bf9a19a3561", "patch": "@@ -155,7 +155,11 @@ pa_fallback_frame_state (struct _Unwind_Context *context,\n       fs->regs.reg[0].how = REG_SAVED_OFFSET;\n       fs->regs.reg[0].loc.offset = -24;\n \n-      return _URC_NO_REASON;\n+      /* Update context to describe the stub frame.  */\n+      uw_update_context (context, fs);\n+\n+      /* Set up fs to describe the FDE for the caller of this stub.  */\n+      return uw_frame_state_for (context, fs);\n     }\n   /* Check if the return address points to a relocation stub.  */\n   else if (!TARGET_64BIT\n@@ -171,7 +175,11 @@ pa_fallback_frame_state (struct _Unwind_Context *context,\n       fs->regs.reg[0].how = REG_SAVED_OFFSET;\n       fs->regs.reg[0].loc.offset = -8;\n \n-      return _URC_NO_REASON;\n+      /* Update context to describe the stub frame.  */\n+      uw_update_context (context, fs);\n+\n+      /* Set up fs to describe the FDE for the caller of this stub.  */\n+      return uw_frame_state_for (context, fs);\n     }\n \n   /* Check if the return address is an export stub as signal handlers"}, {"sha": "d205122263ddcd53dc9432ed4b5e1d76bc0275ee", "filename": "gcc/unwind-dw2.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edbaf6a24d220fe50ec0bbb245952bf9a19a3561/gcc%2Funwind-dw2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edbaf6a24d220fe50ec0bbb245952bf9a19a3561/gcc%2Funwind-dw2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funwind-dw2.c?ref=edbaf6a24d220fe50ec0bbb245952bf9a19a3561", "patch": "@@ -92,6 +92,10 @@ union unaligned\n   signed s8 __attribute__ ((mode (DI)));\n } __attribute__ ((packed));\n \n+static void uw_update_context (struct _Unwind_Context *, _Unwind_FrameState *);\n+static _Unwind_Reason_Code uw_frame_state_for (struct _Unwind_Context *,\n+\t\t\t\t\t       _Unwind_FrameState *);\n+\n static inline void *\n read_pointer (const void *p) { const union unaligned *up = p; return up->p; }\n "}]}