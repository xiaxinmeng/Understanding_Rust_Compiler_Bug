{"sha": "0ae2f0ff0cca93692af6cb48c385648488007a66", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGFlMmYwZmYwY2NhOTM2OTJhZjZjYjQ4YzM4NTY0ODQ4ODAwN2E2Ng==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-14T04:37:09Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-14T04:37:09Z"}, "message": "(sys/stream.h, sys/strsubr.h): Delete spurious `extern'\nin various structure definitions.\n\nFrom-SVN: r2452", "tree": {"sha": "5a2d862dfbc42108c0e51535b764c12dcacbed21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a2d862dfbc42108c0e51535b764c12dcacbed21"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0ae2f0ff0cca93692af6cb48c385648488007a66", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ae2f0ff0cca93692af6cb48c385648488007a66", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ae2f0ff0cca93692af6cb48c385648488007a66", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ae2f0ff0cca93692af6cb48c385648488007a66/comments", "author": null, "committer": null, "parents": [{"sha": "cf99a7342ba1ddd483d19eaacc85d7ab12205258", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf99a7342ba1ddd483d19eaacc85d7ab12205258", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf99a7342ba1ddd483d19eaacc85d7ab12205258"}], "stats": {"total": 51, "additions": 51, "deletions": 0}, "files": [{"sha": "003750630203c6459126a3ffd8be65464a69e6e9", "filename": "gcc/fixinc.svr4", "status": "modified", "additions": 51, "deletions": 0, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ae2f0ff0cca93692af6cb48c385648488007a66/gcc%2Ffixinc.svr4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ae2f0ff0cca93692af6cb48c385648488007a66/gcc%2Ffixinc.svr4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.svr4?ref=0ae2f0ff0cca93692af6cb48c385648488007a66", "patch": "@@ -862,6 +862,57 @@ if [ \\! -z \"$file_to_fix\" ]; then\n   fi\n fi\n \n+# Remove useless extern keyword from struct forward declarations in\n+# <sys/stream.h> and <sys/strsubr.h>\n+\n+file=sys/stream.h\n+base=`basename $file`\n+if [ -r ${LIB}/$file ]; then\n+  file_to_fix=${LIB}/$file\n+else\n+  if [ -r ${INPUT}/$file ]; then\n+    file_to_fix=${INPUT}/$file\n+  else\n+    file_to_fix=\"\"\n+  fi\n+fi\n+if [ \\! -z \"$file_to_fix\" ]; then\n+  echo Checking $file_to_fix\n+  sed -e 's/extern struct \\(stdata\\|strevent\\);/struct \\1;/' $file_to_fix > /tmp/$base \n+  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n+    echo No change needed in $file_to_fix\n+  else\n+    echo Fixed $file_to_fix\n+    rm -f ${LIB}/$file\n+    cp /tmp/$base ${LIB}/$file\n+  fi\n+  rm -f /tmp/$base\n+fi\n+\n+file=sys/strsubr.h\n+base=`basename $file`\n+if [ -r ${LIB}/$file ]; then\n+  file_to_fix=${LIB}/$file\n+else\n+  if [ -r ${INPUT}/$file ]; then\n+    file_to_fix=${INPUT}/$file\n+  else\n+    file_to_fix=\"\"\n+  fi\n+fi\n+if [ \\! -z \"$file_to_fix\" ]; then\n+  echo Checking $file_to_fix\n+  sed -e 's/extern struct \\(strbuf\\|uio\\|thread\\|proc\\);/struct \\1;/' $file_to_fix > /tmp/$base \n+  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n+    echo No change needed in $file_to_fix\n+  else\n+    echo Fixed $file_to_fix\n+    rm -f ${LIB}/$file\n+    cp /tmp/$base ${LIB}/$file\n+  fi\n+  rm -f /tmp/$base\n+fi\n+\n # Convert functions to prototype form, and fix arg names in <sys/stat.h>.\n \n file=sys/stat.h"}]}