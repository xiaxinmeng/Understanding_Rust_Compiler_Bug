{"sha": "ca0f22208fdcfd30565f0163fdeab273af69456b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2EwZjIyMjA4ZmRjZmQzMDU2NWYwMTYzZmRlYWIyNzNhZjY5NDU2Yg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1997-10-26T16:13:10Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-10-26T16:13:10Z"}, "message": "expr.c (get_inner_reference): Remove the array bias after converting the index to Pmode.\n\n        * expr.c (get_inner_reference): Remove the array bias after\n        converting the index to Pmode.\n\nFrom-SVN: r16178", "tree": {"sha": "d8c0ea63a4e3fb849109a7d77cd00ed7efb531dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d8c0ea63a4e3fb849109a7d77cd00ed7efb531dd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca0f22208fdcfd30565f0163fdeab273af69456b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca0f22208fdcfd30565f0163fdeab273af69456b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca0f22208fdcfd30565f0163fdeab273af69456b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca0f22208fdcfd30565f0163fdeab273af69456b/comments", "author": null, "committer": null, "parents": [{"sha": "a6f7ba1798530b13d702814433761bf392e84796", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6f7ba1798530b13d702814433761bf392e84796", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6f7ba1798530b13d702814433761bf392e84796"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "80d231e2f13ce5385f4be4dfb2860ff6c8cdc791", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca0f22208fdcfd30565f0163fdeab273af69456b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca0f22208fdcfd30565f0163fdeab273af69456b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ca0f22208fdcfd30565f0163fdeab273af69456b", "patch": "@@ -1,3 +1,8 @@\n+Sun Oct 26 09:15:15 1997  Richard Henderson  <rth@cygnus.com>\n+\n+\t* expr.c (get_inner_reference): Remove the array bias after \n+\tconverting the index to Pmode.\n+\n Sat Oct 25 12:20:58 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* mn10300.h (TARGET_SWITCHES): Add -mmult-bug and -mno-mult-bug."}, {"sha": "920ffbc2461650850f151730ef3a5ec00c30ec9e", "filename": "gcc/expr.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca0f22208fdcfd30565f0163fdeab273af69456b/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca0f22208fdcfd30565f0163fdeab273af69456b/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=ca0f22208fdcfd30565f0163fdeab273af69456b", "patch": "@@ -4345,16 +4345,16 @@ get_inner_reference (exp, pbitsize, pbitpos, poffset, pmode,\n \t    = domain ? TYPE_MIN_VALUE (domain) : integer_zero_node;\n \t  tree index_type = TREE_TYPE (index);\n \n-\t  if (! integer_zerop (low_bound))\n-\t    index = fold (build (MINUS_EXPR, index_type, index, low_bound));\n-\n \t  if (TYPE_PRECISION (index_type) != TYPE_PRECISION (sizetype))\n \t    {\n \t      index = convert (type_for_size (TYPE_PRECISION (sizetype), 0),\n \t\t\t       index);\n \t      index_type = TREE_TYPE (index);\n \t    }\n \n+\t  if (! integer_zerop (low_bound))\n+\t    index = fold (build (MINUS_EXPR, index_type, index, low_bound));\n+\n \t  index = fold (build (MULT_EXPR, index_type, index,\n \t\t\t       convert (index_type,\n \t\t\t\t\tTYPE_SIZE (TREE_TYPE (exp)))));"}]}