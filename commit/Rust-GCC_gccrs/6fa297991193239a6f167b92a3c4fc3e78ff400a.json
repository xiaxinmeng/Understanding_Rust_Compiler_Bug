{"sha": "6fa297991193239a6f167b92a3c4fc3e78ff400a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmZhMjk3OTkxMTkzMjM5YTZmMTY3YjkyYTNjNGZjM2U3OGZmNDAwYQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-09-20T22:06:20Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-09-20T22:06:20Z"}, "message": "Fix calling make with slice whose element type is size zero.\n\nFrom-SVN: r179019", "tree": {"sha": "0424d8c034746d7c3964719c36411377a3a8166e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0424d8c034746d7c3964719c36411377a3a8166e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6fa297991193239a6f167b92a3c4fc3e78ff400a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6fa297991193239a6f167b92a3c4fc3e78ff400a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6fa297991193239a6f167b92a3c4fc3e78ff400a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6fa297991193239a6f167b92a3c4fc3e78ff400a/comments", "author": null, "committer": null, "parents": [{"sha": "6675c41604f61f041d894413b2daabe177fa57a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6675c41604f61f041d894413b2daabe177fa57a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6675c41604f61f041d894413b2daabe177fa57a9"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "d0e8369c1f6c99ead51f2fa397677ac1ac5a10f2", "filename": "libgo/runtime/go-make-slice.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6fa297991193239a6f167b92a3c4fc3e78ff400a/libgo%2Fruntime%2Fgo-make-slice.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6fa297991193239a6f167b92a3c4fc3e78ff400a/libgo%2Fruntime%2Fgo-make-slice.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fgo-make-slice.c?ref=6fa297991193239a6f167b92a3c4fc3e78ff400a", "patch": "@@ -35,7 +35,8 @@ __go_make_slice2 (const struct __go_type_descriptor *td, uintptr_t len,\n   icap = (int) cap;\n   if (cap < len\n       || (uintptr_t) icap != cap\n-      || cap > (uintptr_t) -1U / std->__element_type->__size)\n+      || (std->__element_type->__size > 0\n+\t  && cap > (uintptr_t) -1U / std->__element_type->__size))\n     __go_panic_msg (\"makeslice: cap out of range\");\n \n   ret.__count = ilen;"}]}