{"sha": "ce7623ba183fe4554d73b353214439ae73834b4d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2U3NjIzYmExODNmZTQ1NTRkNzNiMzUzMjE0NDM5YWU3MzgzNGI0ZA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2015-06-30T11:05:11Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2015-06-30T11:05:11Z"}, "message": "leon.md (leon_load): Enable for all LEON variants if -mfix-ut699 is not specified.\n\n\t* config/sparc/leon.md (leon_load): Enable for all LEON variants if\n\t-mfix-ut699 is not specified.\n\t(leon3_load): Rename into...\n\t(ut699_load): ...this.  Enable for all LEON variants if -mfix-ut699\n\tis specified.\n\nFrom-SVN: r225173", "tree": {"sha": "abe7c4b4f9ce8dcd4418fab8bb6e68ff0bdf7f0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/abe7c4b4f9ce8dcd4418fab8bb6e68ff0bdf7f0d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce7623ba183fe4554d73b353214439ae73834b4d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce7623ba183fe4554d73b353214439ae73834b4d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce7623ba183fe4554d73b353214439ae73834b4d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce7623ba183fe4554d73b353214439ae73834b4d/comments", "author": null, "committer": null, "parents": [{"sha": "8a36714a1b9855a1a0d99fe162947258c7ecd674", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a36714a1b9855a1a0d99fe162947258c7ecd674", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a36714a1b9855a1a0d99fe162947258c7ecd674"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "6a36140057e2aa2aca2368d2a7cf3e62a3b7bd38", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce7623ba183fe4554d73b353214439ae73834b4d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce7623ba183fe4554d73b353214439ae73834b4d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ce7623ba183fe4554d73b353214439ae73834b4d", "patch": "@@ -1,3 +1,11 @@\n+2015-06-30  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* config/sparc/leon.md (leon_load): Enable for all LEON variants if\n+\t-mfix-ut699 is not specified.\n+\t(leon3_load): Rename into...\n+\t(ut699_load): ...this.  Enable for all LEON variants if -mfix-ut699\n+\tis specified.\n+\n 2015-06-30  Marek Polacek  <polacek@redhat.com>\n \n \t* fold-const.c (fold_binary_loc): Move ~X | X folding ..."}, {"sha": "c579e394b58d4baaa85d4749194de22c3bdcee51", "filename": "gcc/config/sparc/leon.md", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce7623ba183fe4554d73b353214439ae73834b4d/gcc%2Fconfig%2Fsparc%2Fleon.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce7623ba183fe4554d73b353214439ae73834b4d/gcc%2Fconfig%2Fsparc%2Fleon.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fleon.md?ref=ce7623ba183fe4554d73b353214439ae73834b4d", "patch": "@@ -24,12 +24,14 @@\n (define_cpu_unit \"leon_memory\" \"leon\")\n \n (define_insn_reservation \"leon_load\" 1\n-  (and (eq_attr \"cpu\" \"leon\") (eq_attr \"type\" \"load,sload\"))\n+  (and (eq_attr \"cpu\" \"leon,leon3,leon3v7\")\n+       (and (eq_attr \"fix_ut699\" \"false\") (eq_attr \"type\" \"load,sload\")))\n   \"leon_memory\")\n \n ;; Use a double reservation to work around the load pipeline hazard on UT699.\n-(define_insn_reservation \"leon3_load\" 1\n-  (and (eq_attr \"cpu\" \"leon3,leon3v7\") (eq_attr \"type\" \"load,sload\"))\n+(define_insn_reservation \"ut699_load\" 1\n+  (and (eq_attr \"cpu\" \"leon,leon3,leon3v7\")\n+       (and (eq_attr \"fix_ut699\" \"true\") (eq_attr \"type\" \"load,sload\")))\n   \"leon_memory*2\")\n \n (define_insn_reservation \"leon_store\" 2"}]}