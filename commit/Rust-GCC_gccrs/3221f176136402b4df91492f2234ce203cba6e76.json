{"sha": "3221f176136402b4df91492f2234ce203cba6e76", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzIyMWYxNzYxMzY0MDJiNGRmOTE0OTJmMjIzNGNlMjAzY2JhNmU3Ng==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1994-09-20T16:22:36Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1994-09-20T16:22:36Z"}, "message": "Handle a symlink to root/* from a subdirectory of a symlink to root/*\n\nFrom-SVN: r8097", "tree": {"sha": "7517d98805d69b554f70e7d51e17ed93979929ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7517d98805d69b554f70e7d51e17ed93979929ee"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3221f176136402b4df91492f2234ce203cba6e76", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3221f176136402b4df91492f2234ce203cba6e76", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3221f176136402b4df91492f2234ce203cba6e76", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3221f176136402b4df91492f2234ce203cba6e76/comments", "author": null, "committer": null, "parents": [{"sha": "84555e5df4b9af4be38ac9c9b037abecde70821c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84555e5df4b9af4be38ac9c9b037abecde70821c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84555e5df4b9af4be38ac9c9b037abecde70821c"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "eba13afa2a87267c71946ae859a4ecfe0091628d", "filename": "gcc/fixincludes", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3221f176136402b4df91492f2234ce203cba6e76/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3221f176136402b4df91492f2234ce203cba6e76/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=3221f176136402b4df91492f2234ce203cba6e76", "patch": "@@ -198,9 +198,12 @@ if $LINKS; then\n \t\t;;\n \t    esac\n           done\n+\t  # Get the path from ${LIB} to $file, accounting for symlinks.\n+\t  parent=`echo \"$file\" | sed -e 's@/[^/]*$@@'`\n+\t  libabs=`cd ${LIB}; ${PWDCMD}`\n+\t  file2=`cd ${LIB}; cd $parent; ${PWDCMD} | sed -e \"s@^${libabs}@@\"`\n \t  # DOTS is the relative path from ${LIB}/$file's dir back to ${LIB}.\n-\t  dots=`echo \"$file\" |\n-\t    sed -e 's@^./@@' -e 's@/./@/@g' -e 's@[^/][^/]*@..@g' -e 's@..$@@'`\n+\t  dots=`echo \"$file2\" | sed -e 's@/[^/]*@../@g'`\n \t  rm -fr ${LIB}/$file > /dev/null 2>&1\n \t  ln -s ${dots}root$x ${LIB}/$file > /dev/null 2>&1\n \t  treetops=\"$treetops $x ${LIB}/root$x\""}]}