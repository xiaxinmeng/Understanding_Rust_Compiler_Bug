{"sha": "7b95e2a837bd2a1998223d900f71c9269870791e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2I5NWUyYTgzN2JkMmExOTk4MjIzZDkwMGY3MWM5MjY5ODcwNzkxZQ==", "commit": {"author": {"name": "Feng Wang", "email": "fengwang@nudt.edu.cn", "date": "2006-07-11T04:09:40Z"}, "committer": {"name": "Feng Wang", "email": "fengwang@gcc.gnu.org", "date": "2006-07-11T04:09:40Z"}, "message": "re PR fortran/28213 (ICE: Hollerith constant)\n\n2006-07-11  Feng Wang  <fengwang@nudt.edu.cn>\n\n        PR fortran/28213\n        * gfortran.dg/hollerith4.f90: Test hollerith constants used in I/O\n        list.\n\n2006-07-11  Feng Wang  <fengwang@nudt.edu.cn>\n\n        PR fortran/28213\n        * trans-io.c (ransfer_expr): Deal with Hollerith constants used in\n        I/O list.\n\nFrom-SVN: r115326", "tree": {"sha": "fa6737d047ee502674a0356051fd021ec1d664a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fa6737d047ee502674a0356051fd021ec1d664a9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b95e2a837bd2a1998223d900f71c9269870791e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b95e2a837bd2a1998223d900f71c9269870791e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b95e2a837bd2a1998223d900f71c9269870791e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b95e2a837bd2a1998223d900f71c9269870791e/comments", "author": null, "committer": null, "parents": [{"sha": "fb49f596ba1d71463d82929c8d542aa598343c75", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb49f596ba1d71463d82929c8d542aa598343c75", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb49f596ba1d71463d82929c8d542aa598343c75"}], "stats": {"total": 34, "additions": 28, "deletions": 6}, "files": [{"sha": "87cfa487f992d9605835013d42580051e79b2c66", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b95e2a837bd2a1998223d900f71c9269870791e/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b95e2a837bd2a1998223d900f71c9269870791e/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=7b95e2a837bd2a1998223d900f71c9269870791e", "patch": "@@ -1,3 +1,9 @@\n+2006-07-11  Feng Wang  <fengwang@nudt.edu.cn>\n+\n+\tPR fortran/28213\n+\t* trans-io.c (ransfer_expr): Deal with Hollerith constants used in\n+\tI/O list.\n+\n 2006-07-07  Kazu Hirata  <kazu@codesourcery.com>\n \n \t* intrinsic.texi: Fix typos."}, {"sha": "70b93682d7f48d3a0905298f66ed0d61028a41c5", "filename": "gcc/fortran/trans-io.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b95e2a837bd2a1998223d900f71c9269870791e/gcc%2Ffortran%2Ftrans-io.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b95e2a837bd2a1998223d900f71c9269870791e/gcc%2Ffortran%2Ftrans-io.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-io.c?ref=7b95e2a837bd2a1998223d900f71c9269870791e", "patch": "@@ -1700,6 +1700,7 @@ transfer_expr (gfc_se * se, gfc_typespec * ts, tree addr_expr)\n       break;\n \n     case BT_CHARACTER:\n+    case BT_HOLLERITH:\n       if (se->string_length)\n \targ2 = se->string_length;\n       else"}, {"sha": "54af3356681530f42baa5d6daa498b3c3c2c264e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b95e2a837bd2a1998223d900f71c9269870791e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b95e2a837bd2a1998223d900f71c9269870791e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7b95e2a837bd2a1998223d900f71c9269870791e", "patch": "@@ -1,3 +1,9 @@\n+2006-07-11  Feng Wang  <fengwang@nudt.edu.cn>\n+\n+\tPR fortran/28213\n+\t* gfortran.dg/hollerith4.f90: Test hollerith constants used in I/O\n+\tlist.\n+\n 2006-07-07  Lee Millward  <lee.millward@gmail.com>\n \n \tPR c++/27820"}, {"sha": "bd2b411f3b1fb0b3f510bb89171221cffb4dc063", "filename": "gcc/testsuite/gfortran.dg/hollerith4.f90", "status": "modified", "additions": 15, "deletions": 6, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b95e2a837bd2a1998223d900f71c9269870791e/gcc%2Ftestsuite%2Fgfortran.dg%2Fhollerith4.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b95e2a837bd2a1998223d900f71c9269870791e/gcc%2Ftestsuite%2Fgfortran.dg%2Fhollerith4.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fhollerith4.f90?ref=7b95e2a837bd2a1998223d900f71c9269870791e", "patch": "@@ -1,5 +1,6 @@\n ! { dg-do run }\n-! Test Hollerith constant assigned to allocatable array\n+! Test Hollerith constants assigned to allocatable array\n+! and used in I/O list.\n \n integer, allocatable :: c (:,:)\n character (len = 20) ch\n@@ -14,16 +15,24 @@\n if (ch .ne. \"Hell\") call abort()\n write (ch, c (1,2)) 'Hello'\n if (ch .ne. \"Hello\") call abort()\n-end\n \n-! { dg-warning \"Hollerith constant\" \"const\" { target *-*-* } 8 }\n-! { dg-warning \"Conversion\" \"conversion\" { target *-*-* } 8 }\n+write (ch, *) 5Hhello\n+if (ch .ne. \" hello\") call abort()\n+write (ch, \"(A5)\") 5Hhello\n+if (ch .ne. \"hello\") call abort()\n+\n+end\n \n ! { dg-warning \"Hollerith constant\" \"const\" { target *-*-* } 9 }\n ! { dg-warning \"Conversion\" \"conversion\" { target *-*-* } 9 }\n \n-! { dg-warning \"Non-character in FORMAT tag\" \"\" { target *-*-* } 13 }\n+! { dg-warning \"Hollerith constant\" \"const\" { target *-*-* } 10 }\n+! { dg-warning \"Conversion\" \"conversion\" { target *-*-* } 10 }\n+\n+! { dg-warning \"Non-character in FORMAT tag\" \"\" { target *-*-* } 14 }\n \n-! { dg-warning \"Non-character in FORMAT tag\" \"\" { target *-*-* } 15 }\n+! { dg-warning \"Non-character in FORMAT tag\" \"\" { target *-*-* } 16 }\n \n+! { dg-warning \"Hollerith constant\" \"const\" { target *-*-* } 19 }\n+! { dg-warning \"Hollerith constant\" \"const\" { target *-*-* } 21 }\n "}]}