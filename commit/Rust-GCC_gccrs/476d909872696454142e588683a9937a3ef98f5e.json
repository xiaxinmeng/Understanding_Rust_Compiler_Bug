{"sha": "476d909872696454142e588683a9937a3ef98f5e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDc2ZDkwOTg3MjY5NjQ1NDE0MmU1ODg2ODNhOTkzN2EzZWY5OGY1ZQ==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2003-02-06T01:47:56Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2003-02-06T01:47:56Z"}, "message": "Makefile.in (host_hook_obj): New.\n\n\t* Makefile.in (host_hook_obj): New.\n\t(OBJS): Add $(host_hook_obj).\n\t(host_default.o): New rule.\n\t* config.gcc (host_hook_obj): New, default to host-default.o.\n\t(powerpc-*-darwin*): Use host-darwin.o.\n\t(out_host_hook_obj): New.\n\t* configure: Regenerate.\n\t* configure.in: Print information about out_host_hook_obj, substitute\n\tinto output files.\n\t* host-default.c: New file.\n\t* hosthooks.h: New file.\n\t* toplev.c (general_init): Call host_hooks.extra_signals.\n\t* config/rs6000/host-darwin.c: New file.\n\t* config/rs6000/x-darwin: New file.\n\t* doc/hostconfig.texi: Add documentation for new host hook.\n\tRearrange existing documentation.\n\nFrom-SVN: r62470", "tree": {"sha": "2afad0ecf8b6e8b262fccd46b90578858d21ab7a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2afad0ecf8b6e8b262fccd46b90578858d21ab7a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/476d909872696454142e588683a9937a3ef98f5e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/476d909872696454142e588683a9937a3ef98f5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/476d909872696454142e588683a9937a3ef98f5e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/476d909872696454142e588683a9937a3ef98f5e/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "dbdd348907c8d5481bf6bcf29387dfd405c49572", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbdd348907c8d5481bf6bcf29387dfd405c49572", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dbdd348907c8d5481bf6bcf29387dfd405c49572"}], "stats": {"total": 628, "additions": 471, "deletions": 157}, "files": [{"sha": "aabea405b334b9c227ef2403bb590e12c93e69de", "filename": "gcc/ChangeLog", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/476d909872696454142e588683a9937a3ef98f5e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/476d909872696454142e588683a9937a3ef98f5e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=476d909872696454142e588683a9937a3ef98f5e", "patch": "@@ -1,3 +1,22 @@\n+2003-02-05  Geoffrey Keating  <geoffk@apple.com>\n+\n+\t* Makefile.in (host_hook_obj): New.\n+\t(OBJS): Add $(host_hook_obj).\n+\t(host_default.o): New rule.\n+\t* config.gcc (host_hook_obj): New, default to host-default.o.\n+\t(powerpc-*-darwin*): Use host-darwin.o.\n+\t(out_host_hook_obj): New.\n+\t* configure: Regenerate.\n+\t* configure.in: Print information about out_host_hook_obj, substitute\n+\tinto output files.\n+\t* host-default.c: New file.\n+\t* hosthooks.h: New file.\n+\t* toplev.c (general_init): Call host_hooks.extra_signals.\n+\t* config/rs6000/host-darwin.c: New file.\n+\t* config/rs6000/x-darwin: New file.\n+\t* doc/hostconfig.texi: Add documentation for new host hook.\n+\tRearrange existing documentation.\n+\n 2003-02-05  Roger Sayle  <roger@eyesopen.com>\n \n \t* dwarf2out.c (mem_loc_descriptor): Replace ASM_SIMPLIFY_DWARF_ADDR"}, {"sha": "33745f9dcb28155dc9cd0604f92c1ee420f46935", "filename": "gcc/Makefile.in", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/476d909872696454142e588683a9937a3ef98f5e/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/476d909872696454142e588683a9937a3ef98f5e/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=476d909872696454142e588683a9937a3ef98f5e", "patch": "@@ -315,6 +315,7 @@ target_cpu_default=@target_cpu_default@\n GCC_THREAD_FILE=@thread_file@\n OBJC_BOEHM_GC=@objc_boehm_gc@\n GTHREAD_FLAGS=@gthread_flags@\n+host_hook_obj=@out_host_hook_obj@\n # Be prepared for gcc2 merges.\n gcc_version=@gcc_version@\n gcc_version_trigger=@gcc_version_trigger@\n@@ -784,7 +785,8 @@ OBJS = alias.o bb-reorder.o bitmap.o builtins.o caller-save.o calls.o\t   \\\n  sibcall.o simplify-rtx.o ssa.o ssa-ccp.o ssa-dce.o stmt.o\t\t   \\\n  stor-layout.o stringpool.o timevar.o toplev.o tracer.o tree.o tree-dump.o \\\n  tree-inline.o unroll.o varasm.o varray.o version.o vmsdbgout.o xcoffout.o \\\n- alloc-pool.o et-forest.o $(GGC) $(out_object_file) $(EXTRA_OBJS)\n+ alloc-pool.o et-forest.o\t\t\t\t\t\t   \\\n+ $(GGC) $(out_object_file) $(EXTRA_OBJS) $(host_hook_obj)\n \n BACKEND = main.o libbackend.a\n \n@@ -1428,12 +1430,15 @@ toplev.o : toplev.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) $(TREE_H) $(RTL_\n    dwarf2out.h sdbout.h dbxout.h $(EXPR_H) hard-reg-set.h $(BASIC_BLOCK_H) \\\n    graph.h $(LOOP_H) except.h $(REGS_H) $(TIMEVAR_H) $(lang_options_files) \\\n    ssa.h $(PARAMS_H) $(TM_P_H) reload.h dwarf2asm.h $(TARGET_H) \\\n-   langhooks.h insn-flags.h options.h cfglayout.h real.h cfgloop.h\n+   langhooks.h insn-flags.h options.h cfglayout.h real.h cfgloop.h hosthooks.h\n \t$(CC) $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \\\n \t  -DTARGET_NAME=\\\"$(target_alias)\\\" \\\n \t  -c $(srcdir)/toplev.c $(OUTPUT_OPTION)\n main.o : main.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) toplev.h\n \n+host-default.o : host-default.c $(CONFIG_H) $(SYSTEM_H) coretypes.h \\\n+\thosthooks.h hosthooks-def.h\n+\n rtl-error.o: rtl-error.c $(SYSTEM_H) coretypes.h $(TM_H) $(RTL_H) $(INSN_ATTR_H) \\\n    insn-config.h input.h toplev.h intl.h diagnostic.h $(CONFIG_H)\n "}, {"sha": "1afbefa1bd8a5177e1a8e971200c8b7e1789e56e", "filename": "gcc/config.gcc", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=476d909872696454142e588683a9937a3ef98f5e", "patch": "@@ -99,6 +99,8 @@\n #  host_extra_gcc_objs\tList of extra host-dependent objects that should\n #\t\t\tbe linked into the gcc driver.\n #\n+#  out_host_hook_obj\tAn object file that provides the host hooks.\n+#\n #  c_target_objs\tList of extra target-dependent objects that be\n #\t\t\tlinked into the C compiler only.\n #\n@@ -169,6 +171,8 @@\n #\t\t\tthe compiler proper when this system is a host,\n #\t\t\tfor host_extra_objs.\n #\n+#  host_hook_obj\tAn object file that provides the host hooks.\n+#\n #  install_headers_dir\tMakefile-target for how the header file directory\n #\t\t\tis installed, when this system is a build system,\n #\t\t\tfor build_install_headers_dir.\n@@ -194,6 +198,7 @@ extra_host_objs=\n extra_gcc_objs=\n c_target_objs=\n cxx_target_objs=\n+host_hook_obj=host-default.o\n tm_defines=\n xm_defines=\n # Set this to force installation and use of collect2.\n@@ -1980,6 +1985,9 @@ powerpc-*-darwin*)\n \textra_headers=altivec.h\n \t# override ppc default\n \tneed_64bit_hwint=\n+\t# powerpc-darwin host support.\n+\thost_hook_obj=host-darwin.o\n+\txmake_file=rs6000/x-darwin\n \t;;\n powerpc*-*-freebsd*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h ${fbsd_tm_file} rs6000/sysv4.h rs6000/freebsd.h\"\n@@ -2956,6 +2964,7 @@ else\n \t\thost_extra_gcc_objs=$extra_gcc_objs\n \t\thost_extra_objs=$extra_host_objs\n \t\thost_exeext=$exeext\n+\t\tout_host_hook_obj=$host_hook_obj\n \t\tpass2done=yes\n \tfi\n fi"}, {"sha": "874d691cf3c9796a337189e834f2461c523df6cd", "filename": "gcc/config/rs6000/host-darwin.c", "status": "added", "additions": 137, "deletions": 0, "changes": 137, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fconfig%2Frs6000%2Fhost-darwin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fconfig%2Frs6000%2Fhost-darwin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fhost-darwin.c?ref=476d909872696454142e588683a9937a3ef98f5e", "patch": "@@ -0,0 +1,137 @@\n+/* Darwin/powerpc host-specific hook definitions.\n+   Copyright (C) 2003 Free Software Foundation, Inc.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify it under\n+the terms of the GNU General Public License as published by the Free\n+Software Foundation; either version 2, or (at your option) any later\n+version.\n+\n+GCC is distributed in the hope that it will be useful, but WITHOUT ANY\n+WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING.  If not, write to the Free\n+Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n+02111-1307, USA.  */\n+\n+\n+#include \"config.h\"\n+#include \"system.h\"\n+#include \"coretypes.h\"\n+#include <signal.h>\n+#include <sys/ucontext.h>\n+#include \"hosthooks.h\"\n+#include \"hosthooks-def.h\"\n+#include \"toplev.h\"\n+\n+static void segv_crash_handler PARAMS ((int));\n+static void segv_handler PARAMS ((int, siginfo_t *, void *));\n+static void darwin_rs6000_extra_signals PARAMS ((void));\n+\n+/* No prototype for this, filed as Radar 3150910.  */\n+extern int sigaltstack(const stack_t *, stack_t *);\n+\n+#undef HOST_HOOKS_EXTRA_SIGNALS\n+#define HOST_HOOKS_EXTRA_SIGNALS darwin_rs6000_extra_signals\n+\n+/* On Darwin/powerpc, a stack fault can be detected as a SIGSEGV that\n+   faulted on an instruction that's either\n+   or\n+   stwux %r1,xxx,%r1\n+*/\n+\n+static void\n+segv_crash_handler (sig)\n+     int sig ATTRIBUTE_UNUSED;\n+{\n+  internal_error (\"Segmentation Fault (code)\");\n+}\n+\n+static void\n+segv_handler (sig, sip, scp)\n+     int sig ATTRIBUTE_UNUSED;\n+     siginfo_t *sip ATTRIBUTE_UNUSED;\n+     void *scp;\n+{\n+  ucontext_t *uc = (ucontext_t *)scp;\n+  unsigned faulting_insn;\n+\n+  /* The fault might have happened when trying to run some instruction, in\n+     which case the next line will segfault _again_.  Handle this case.  */\n+  signal (SIGSEGV, segv_crash_handler);\n+\n+  faulting_insn = *(unsigned *)uc->uc_mcontext->ss.srr0;\n+\n+  /* Note that this only has to work for GCC, so we don't have to deal\n+     with all the possible cases (GCC has no AltiVec code, for\n+     instance).  It's complicated because Darwin allows stores to\n+     below the stack pointer, and the prologue code takes advantage of\n+     this.  */\n+\n+  if ((faulting_insn & 0xFFFF8000) == 0x94218000  /* stwu %r1, -xxx(%r1) */\n+      || (faulting_insn & 0xFFFF03FF) == 0x7C21016E /* stwux %r1, xxx, %r1 */\n+      || (faulting_insn & 0xFC1F8000) == 0x90018000 /* stw xxx, -yyy(%r1) */\n+      || (faulting_insn & 0xFC1F8000) == 0xD8018000 /* stfd xxx, -yyy(%r1) */\n+      || (faulting_insn & 0xFC1F8000) == 0xBC018000 /* stmw xxx, -yyy(%r1) */)\n+    {\n+      char *shell_name;\n+      \n+      fnotice (stderr, \"Out of stack space.\\n\");\n+      shell_name = getenv (\"SHELL\");\n+      if (shell_name != NULL)\n+\tshell_name = strrchr (shell_name, '/');\n+      if (shell_name != NULL)\n+\t{\n+\t  static const char * shell_commands[][2] = {\n+\t    { \"sh\", \"ulimit -S -s unlimited\" },\n+\t    { \"bash\", \"ulimit -S -s unlimited\" },\n+\t    { \"tcsh\", \"limit stacksize unlimited\" },\n+\t    { \"csh\", \"limit stacksize unlimited\" },\n+\t    /* zsh doesn't have \"unlimited\", this will work under the\n+\t       default configuration.  */\n+\t    { \"zsh\", \"limit stacksize 32m\" }\n+\t  };\n+\t  size_t i;\n+\t  \n+\t  for (i = 0; i < ARRAY_SIZE (shell_commands); i++)\n+\t    if (strcmp (shell_commands[i][0], shell_name + 1) == 0)\n+\t      {\n+\t\tfnotice (stderr, \n+\t\t\t \"Try running `%s' in the shell to raise its limit.\\n\",\n+\t\t\t shell_commands[i][1]);\n+\t      }\n+\t}\n+      \n+      exit (FATAL_EXIT_CODE);\n+    }\n+\n+  fprintf (stderr, \"[address=%08lx pc=%08x]\\n\", \n+\t   uc->uc_mcontext->es.dar, uc->uc_mcontext->ss.srr0);\n+  internal_error (\"Segmentation Fault\");\n+  exit (FATAL_EXIT_CODE);\n+}\n+\n+static void\n+darwin_rs6000_extra_signals ()\n+{\n+  struct sigaction sact;\n+  stack_t sigstk;\n+\n+  sigstk.ss_sp = xmalloc (SIGSTKSZ);\n+  sigstk.ss_size = SIGSTKSZ;\n+  sigstk.ss_flags = 0;\n+  if (sigaltstack (&sigstk, NULL) < 0)\n+    fatal_io_error (\"While setting up signal stack\");\n+\n+  sigemptyset(&sact.sa_mask);\n+  sact.sa_flags = SA_ONSTACK | SA_SIGINFO;\n+  sact.sa_sigaction = segv_handler;\n+  if (sigaction (SIGSEGV, &sact, 0) < 0) \n+    fatal_io_error (\"While setting up signal handler\");\n+}\n+\n+const struct host_hooks host_hooks = HOST_HOOKS_INITIALIZER;"}, {"sha": "6738d45b13b50c5410ee6a4d54d132f8b9329cf4", "filename": "gcc/config/rs6000/x-darwin", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fconfig%2Frs6000%2Fx-darwin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fconfig%2Frs6000%2Fx-darwin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fx-darwin?ref=476d909872696454142e588683a9937a3ef98f5e", "patch": "@@ -0,0 +1,4 @@\n+host-darwin.o : $(srcdir)/config/rs6000/host-darwin.c $(CONFIG_H) $(SYSTEM_H) \\\n+  coretypes.h hosthooks.h hosthooks-def.h toplev.h\n+\t$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \\\n+\t\t$(srcdir)/config/rs6000/host-darwin.c"}, {"sha": "18a99d372e3d9e3f993734a41b30c114112a5c9e", "filename": "gcc/configure", "status": "modified", "additions": 108, "deletions": 105, "changes": 213, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=476d909872696454142e588683a9937a3ef98f5e", "patch": "@@ -5490,6 +5490,7 @@ else\n \t\techo \"\t$srcdir/config/$f\"\n \tdone\n fi\n+echo \"Using ${out_host_hook_obj} for host machine hooks.\"\n \n if test \"$host_xm_file\" != \"$build_xm_file\"; then\n \tcount=a\n@@ -5631,14 +5632,14 @@ fi\n \n             \n echo $ac_n \"checking for library containing strerror\"\"... $ac_c\" 1>&6\n-echo \"configure:5635: checking for library containing strerror\" >&5\n+echo \"configure:5636: checking for library containing strerror\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_strerror'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_strerror=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 5642 \"configure\"\n+#line 5643 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5649,7 +5650,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:5653: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5654: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_strerror=\"none required\"\n else\n@@ -5660,7 +5661,7 @@ rm -f conftest*\n test \"$ac_cv_search_strerror\" = \"no\" && for i in cposix; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5664 \"configure\"\n+#line 5665 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5671,7 +5672,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:5675: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5676: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_strerror=\"-l$i\"\n break\n@@ -5694,12 +5695,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:5698: checking for working const\" >&5\n+echo \"configure:5699: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5703 \"configure\"\n+#line 5704 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -5748,7 +5749,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5752: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5753: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -5769,12 +5770,12 @@ EOF\n fi\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:5773: checking for off_t\" >&5\n+echo \"configure:5774: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5778 \"configure\"\n+#line 5779 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -5802,12 +5803,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:5806: checking for size_t\" >&5\n+echo \"configure:5807: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5811 \"configure\"\n+#line 5812 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -5837,19 +5838,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:5841: checking for working alloca.h\" >&5\n+echo \"configure:5842: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5846 \"configure\"\n+#line 5847 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:5853: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5854: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -5870,12 +5871,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:5874: checking for alloca\" >&5\n+echo \"configure:5875: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5879 \"configure\"\n+#line 5880 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -5903,7 +5904,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:5907: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5908: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -5935,12 +5936,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:5939: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:5940: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5944 \"configure\"\n+#line 5945 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -5965,12 +5966,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:5969: checking for $ac_func\" >&5\n+echo \"configure:5970: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5974 \"configure\"\n+#line 5975 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -5993,7 +5994,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5997: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5998: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6020,15 +6021,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6024: checking stack direction for C alloca\" >&5\n+echo \"configure:6025: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6032 \"configure\"\n+#line 6033 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -6047,7 +6048,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:6051: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:6052: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -6070,12 +6071,12 @@ fi\n \n \n     echo $ac_n \"checking whether we are using the GNU C Library 2.1 or newer\"\"... $ac_c\" 1>&6\n-echo \"configure:6074: checking whether we are using the GNU C Library 2.1 or newer\" >&5\n+echo \"configure:6075: checking whether we are using the GNU C Library 2.1 or newer\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_gnu_library_2_1'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6079 \"configure\"\n+#line 6080 \"configure\"\n #include \"confdefs.h\"\n \n #include <features.h>\n@@ -6111,17 +6112,17 @@ stdlib.h string.h unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:6115: checking for $ac_hdr\" >&5\n+echo \"configure:6116: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6120 \"configure\"\n+#line 6121 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6125: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6126: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6152,12 +6153,12 @@ getgid getuid mempcpy munmap putenv setenv setlocale stpcpy strchr strcasecmp \\\n strdup strtoul tsearch __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6156: checking for $ac_func\" >&5\n+echo \"configure:6157: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6161 \"configure\"\n+#line 6162 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6180,7 +6181,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6184: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6185: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6221,15 +6222,15 @@ fi\n \n \n   echo $ac_n \"checking for iconv\"\"... $ac_c\" 1>&6\n-echo \"configure:6225: checking for iconv\" >&5\n+echo \"configure:6226: checking for iconv\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_func_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n     am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n     am_cv_lib_iconv=no\n     cat > conftest.$ac_ext <<EOF\n-#line 6233 \"configure\"\n+#line 6234 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -6239,7 +6240,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n        iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:6243: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6244: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_func_iconv=yes\n else\n@@ -6251,7 +6252,7 @@ rm -f conftest*\n       am_save_LIBS=\"$LIBS\"\n       LIBS=\"$LIBS $am_cv_libiconv_ldpath -liconv\"\n       cat > conftest.$ac_ext <<EOF\n-#line 6255 \"configure\"\n+#line 6256 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -6261,7 +6262,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n          iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:6265: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6266: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_lib_iconv=yes\n         am_cv_func_iconv=yes\n@@ -6282,13 +6283,13 @@ echo \"$ac_t\"\"$am_cv_func_iconv\" 1>&6\n EOF\n \n     echo $ac_n \"checking for iconv declaration\"\"... $ac_c\" 1>&6\n-echo \"configure:6286: checking for iconv declaration\" >&5\n+echo \"configure:6287: checking for iconv declaration\" >&5\n     if eval \"test \\\"`echo '$''{'am_cv_proto_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n       cat > conftest.$ac_ext <<EOF\n-#line 6292 \"configure\"\n+#line 6293 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdlib.h>\n@@ -6307,7 +6308,7 @@ int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6311: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6312: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   am_cv_proto_iconv_arg1=\"\"\n else\n@@ -6336,19 +6337,19 @@ EOF\n \n    \n   echo $ac_n \"checking for nl_langinfo and CODESET\"\"... $ac_c\" 1>&6\n-echo \"configure:6340: checking for nl_langinfo and CODESET\" >&5\n+echo \"configure:6341: checking for nl_langinfo and CODESET\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_langinfo_codeset'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6345 \"configure\"\n+#line 6346 \"configure\"\n #include \"confdefs.h\"\n #include <langinfo.h>\n int main() {\n char* cs = nl_langinfo(CODESET);\n ; return 0; }\n EOF\n-if { (eval echo configure:6352: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6353: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_langinfo_codeset=yes\n else\n@@ -6371,19 +6372,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:6375: checking for LC_MESSAGES\" >&5\n+echo \"configure:6376: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6380 \"configure\"\n+#line 6381 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:6387: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6388: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -6404,7 +6405,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6408: checking whether NLS is requested\" >&5\n+echo \"configure:6409: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -6427,7 +6428,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6431: checking whether included gettext is requested\" >&5\n+echo \"configure:6432: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -6447,17 +6448,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6451: checking for libintl.h\" >&5\n+echo \"configure:6452: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6456 \"configure\"\n+#line 6457 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6461: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6462: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6478,12 +6479,12 @@ if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n EOF\n \n            echo $ac_n \"checking for GNU gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:6482: checking for GNU gettext in libc\" >&5\n+echo \"configure:6483: checking for GNU gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gnugettext1_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6487 \"configure\"\n+#line 6488 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n extern int _nl_msg_cat_cntr;\n@@ -6492,7 +6493,7 @@ bindtextdomain (\"\", \"\");\n return (int) gettext (\"\") + _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:6496: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6497: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gnugettext1_libc=yes\n else\n@@ -6508,14 +6509,14 @@ echo \"$ac_t\"\"$gt_cv_func_gnugettext1_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gnugettext1_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for GNU gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:6512: checking for GNU gettext in libintl\" >&5\n+echo \"configure:6513: checking for GNU gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gnugettext1_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gt_save_LIBS=\"$LIBS\"\n \t\tLIBS=\"$LIBS -lintl $LIBICONV\"\n \t\tcat > conftest.$ac_ext <<EOF\n-#line 6519 \"configure\"\n+#line 6520 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n extern int _nl_msg_cat_cntr;\n@@ -6524,7 +6525,7 @@ bindtextdomain (\"\", \"\");\n return (int) gettext (\"\") + _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:6528: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6529: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gnugettext1_libintl=yes\n else\n@@ -6557,12 +6558,12 @@ EOF\n \t     for ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6561: checking for $ac_func\" >&5\n+echo \"configure:6562: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6566 \"configure\"\n+#line 6567 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6585,7 +6586,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6589: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6590: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6614,7 +6615,7 @@ done\n \t     \t     # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6618: checking for $ac_word\" >&5\n+echo \"configure:6619: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6648,7 +6649,7 @@ fi\n \t     # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6652: checking for $ac_word\" >&5\n+echo \"configure:6653: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6685,7 +6686,7 @@ fi\n \t     \t     # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6689: checking for $ac_word\" >&5\n+echo \"configure:6690: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6735,7 +6736,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6739: checking for $ac_word\" >&5\n+echo \"configure:6740: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6769,7 +6770,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6773: checking for $ac_word\" >&5\n+echo \"configure:6774: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6805,7 +6806,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6809: checking for $ac_word\" >&5\n+echo \"configure:6810: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6877,7 +6878,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6881: checking for $ac_word\" >&5\n+echo \"configure:6882: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_INTLBISON'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6910,7 +6911,7 @@ done\n       ac_verc_fail=yes\n     else\n             echo $ac_n \"checking version of bison\"\"... $ac_c\" 1>&6\n-echo \"configure:6914: checking version of bison\" >&5\n+echo \"configure:6915: checking version of bison\" >&5\n       ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \\([0-9]*\\.[0-9.]*\\).*$/\\1/p'`\n       case $ac_prog_version in\n         '') ac_prog_version=\"v. ?.??, bad\"; ac_verc_fail=yes;;\n@@ -6955,7 +6956,7 @@ EOF\n \n          if test \"x$CATOBJEXT\" != x; then\n      echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:6959: checking for catalogs to be installed\" >&5\n+echo \"configure:6960: checking for catalogs to be installed\" >&5\n      # Look for .po and .gmo files in the source directory.\n      CATALOGS=\n      XLINGUAS=\n@@ -7013,7 +7014,7 @@ fi\n case $host_os in\n \twin32 | pe | cygwin* | mingw32* | uwin*)\n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7017: checking whether windows registry support is requested\" >&5\n+echo \"configure:7018: checking whether windows registry support is requested\" >&5\n if test \"x$enable_win32_registry\" != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -7022,14 +7023,14 @@ EOF\n   echo \"$ac_t\"\"yes\" 1>&6\n   \n echo $ac_n \"checking for library containing RegOpenKeyExA\"\"... $ac_c\" 1>&6\n-echo \"configure:7026: checking for library containing RegOpenKeyExA\" >&5\n+echo \"configure:7027: checking for library containing RegOpenKeyExA\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_RegOpenKeyExA'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_RegOpenKeyExA=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 7033 \"configure\"\n+#line 7034 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7040,7 +7041,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:7044: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7045: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"none required\"\n else\n@@ -7051,7 +7052,7 @@ rm -f conftest*\n test \"$ac_cv_search_RegOpenKeyExA\" = \"no\" && for i in advapi32; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7055 \"configure\"\n+#line 7056 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7062,7 +7063,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:7066: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7067: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"-l$i\"\n break\n@@ -7104,7 +7105,7 @@ esac\n \n if test \"x$enable_win32_registry\" != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:7108: checking registry key on windows hosts\" >&5\n+echo \"configure:7109: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -7317,7 +7318,7 @@ fi\n \n # Figure out what assembler we will be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7321: checking what assembler to use\" >&5\n+echo \"configure:7322: checking what assembler to use\" >&5\n gcc_cv_as=\n gcc_cv_gas_major_version=\n gcc_cv_gas_minor_version=\n@@ -7411,7 +7412,7 @@ fi\n \n # Figure out what linker we will be using.\n echo $ac_n \"checking what linker to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7415: checking what linker to use\" >&5\n+echo \"configure:7416: checking what linker to use\" >&5\n gcc_cv_ld=\n gcc_cv_gld_major_version=\n gcc_cv_gld_minor_version=\n@@ -7504,7 +7505,7 @@ fi\n \n # Figure out what nm we will be using.\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7508: checking what nm to use\" >&5\n+echo \"configure:7509: checking what nm to use\" >&5\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n elif test \"x$program_prefix\" != xNONE; then\n@@ -7516,7 +7517,7 @@ echo \"$ac_t\"\"$gcc_cv_nm\" 1>&6\n \n # Figure out what objdump we will be using.\n echo $ac_n \"checking what objdump to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7520: checking what objdump to use\" >&5\n+echo \"configure:7521: checking what objdump to use\" >&5\n if test -x objdump$host_exeext; then\n \tgcc_cv_objdump=./objdump$host_exeext\n elif test \"x$program_prefix\" != xNONE; then\n@@ -7528,7 +7529,7 @@ echo \"$ac_t\"\"$gcc_cv_objdump\" 1>&6\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:7532: checking assembler alignment features\" >&5\n+echo \"configure:7533: checking assembler alignment features\" >&5\n gcc_cv_as_alignment_features=none\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n \t# Gas version 2.6 and later support for .balign and .p2align.\n@@ -7576,7 +7577,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:7580: checking assembler subsection support\" >&5\n+echo \"configure:7581: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7616,7 +7617,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:7620: checking assembler weak support\" >&5\n+echo \"configure:7621: checking assembler weak support\" >&5\n gcc_cv_as_weak=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 2 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -7639,7 +7640,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:7643: checking assembler hidden support\" >&5\n+echo \"configure:7644: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2\t\\\n@@ -7715,7 +7716,7 @@ esac\n \n \n echo $ac_n \"checking assembler leb128 support\"\"... $ac_c\" 1>&6\n-echo \"configure:7719: checking assembler leb128 support\" >&5\n+echo \"configure:7720: checking assembler leb128 support\" >&5\n gcc_cv_as_leb128=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 11 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7760,7 +7761,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_leb128\" 1>&6\n \n echo $ac_n \"checking assembler eh_frame optimization\"\"... $ac_c\" 1>&6\n-echo \"configure:7764: checking assembler eh_frame optimization\" >&5\n+echo \"configure:7765: checking assembler eh_frame optimization\" >&5\n gcc_cv_as_eh_frame=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 12 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7841,7 +7842,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_eh_frame\" 1>&6\n \n echo $ac_n \"checking assembler section merging support\"\"... $ac_c\" 1>&6\n-echo \"configure:7845: checking assembler section merging support\" >&5\n+echo \"configure:7846: checking assembler section merging support\" >&5\n gcc_cv_as_shf_merge=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 12 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7864,7 +7865,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_shf_merge\" 1>&6\n \n echo $ac_n \"checking assembler thread-local storage support\"\"... $ac_c\" 1>&6\n-echo \"configure:7868: checking assembler thread-local storage support\" >&5\n+echo \"configure:7869: checking assembler thread-local storage support\" >&5\n gcc_cv_as_tls=no\n conftest_s=\n tls_first_major=\n@@ -8007,7 +8008,7 @@ case \"$target\" in\n   # All TARGET_ABI_OSF targets.\n   alpha*-*-osf* | alpha*-*-linux* | alpha*-*-*bsd*)\n     echo $ac_n \"checking assembler supports explicit relocations\"\"... $ac_c\" 1>&6\n-echo \"configure:8011: checking assembler supports explicit relocations\" >&5\n+echo \"configure:8012: checking assembler supports explicit relocations\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8057,7 +8058,7 @@ EOF\n     ;;\n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:8061: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:8062: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8085,7 +8086,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler supports -relax\"\"... $ac_c\" 1>&6\n-echo \"configure:8089: checking assembler supports -relax\" >&5\n+echo \"configure:8090: checking assembler supports -relax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_relax_opt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8113,7 +8114,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler and linker support unaligned pc related relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:8117: checking assembler and linker support unaligned pc related relocs\" >&5\n+echo \"configure:8118: checking assembler and linker support unaligned pc related relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8140,7 +8141,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler and linker support unaligned pc related relocs against hidden symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:8144: checking assembler and linker support unaligned pc related relocs against hidden symbols\" >&5\n+echo \"configure:8145: checking assembler and linker support unaligned pc related relocs against hidden symbols\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8180,7 +8181,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:8184: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:8185: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8219,7 +8220,7 @@ EOF\n \n   i[34567]86-*-* | x86_64-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:8223: checking assembler instructions\" >&5\n+echo \"configure:8224: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n       if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -8246,7 +8247,7 @@ EOF\n     echo \"$ac_t\"\"$gcc_cv_as_instructions\" 1>&6\n \n     echo $ac_n \"checking assembler GOTOFF in data directives\"\"... $ac_c\" 1>&6\n-echo \"configure:8250: checking assembler GOTOFF in data directives\" >&5\n+echo \"configure:8251: checking assembler GOTOFF in data directives\" >&5\n     gcc_cv_as_gotoff_in_data=no\n     if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x\n     then\n@@ -8276,7 +8277,7 @@ EOF\n esac\n \n echo $ac_n \"checking assembler dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:8280: checking assembler dwarf2 debug_line support\" >&5\n+echo \"configure:8281: checking assembler dwarf2 debug_line support\" >&5\n gcc_cv_as_dwarf2_debug_line=no\n # ??? Not all targets support dwarf2 debug_line, even within a version\n # of gas.  Moreover, we need to emit a valid instruction to trigger any\n@@ -8333,7 +8334,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_dwarf2_debug_line\" 1>&6\n \n echo $ac_n \"checking assembler --gdwarf2 support\"\"... $ac_c\" 1>&6\n-echo \"configure:8337: checking assembler --gdwarf2 support\" >&5\n+echo \"configure:8338: checking assembler --gdwarf2 support\" >&5\n gcc_cv_as_gdwarf2_flag=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x;\n then\n@@ -8362,7 +8363,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_gdwarf2_flag\" 1>&6\n \n echo $ac_n \"checking assembler --gstabs support\"\"... $ac_c\" 1>&6\n-echo \"configure:8366: checking assembler --gstabs support\" >&5\n+echo \"configure:8367: checking assembler --gstabs support\" >&5\n gcc_cv_as_gstabs_flag=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x;\n then\n@@ -8390,7 +8391,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_gstabs_flag\" 1>&6\n \n echo $ac_n \"checking linker read-only and read-write section mixing\"\"... $ac_c\" 1>&6\n-echo \"configure:8394: checking linker read-only and read-write section mixing\" >&5\n+echo \"configure:8395: checking linker read-only and read-write section mixing\" >&5\n gcc_cv_ld_ro_rw_mix=unknown\n if test x$gcc_cv_gld_major_version != x -a x$gcc_cv_gld_minor_version != x; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 10 -o \"$gcc_cv_gld_major_version\" -gt 2 && grep 'EMUL = elf' ../ld/Makefile > /dev/null; then\n@@ -8428,7 +8429,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_ro_rw_mix\" 1>&6\n \n echo $ac_n \"checking linker PT_GNU_EH_FRAME support\"\"... $ac_c\" 1>&6\n-echo \"configure:8432: checking linker PT_GNU_EH_FRAME support\" >&5\n+echo \"configure:8433: checking linker PT_GNU_EH_FRAME support\" >&5\n gcc_cv_ld_eh_frame_hdr=no\n if test x$gcc_cv_gld_major_version != x -a x$gcc_cv_gld_minor_version != x; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 12 -o \"$gcc_cv_gld_major_version\" -gt 2 && grep 'EMUL = elf' ../ld/Makefile > /dev/null; then\n@@ -8452,7 +8453,7 @@ echo \"$ac_t\"\"$gcc_cv_ld_eh_frame_hdr\" 1>&6\n case \"$target\" in\n   mips*-*-*)\n     echo $ac_n \"checking whether libgloss uses STARTUP directives consistently\"\"... $ac_c\" 1>&6\n-echo \"configure:8456: checking whether libgloss uses STARTUP directives consistently\" >&5\n+echo \"configure:8457: checking whether libgloss uses STARTUP directives consistently\" >&5\n     gcc_cv_mips_libgloss_startup=no\n     gcc_cv_libgloss_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/libgloss\n     if test \"x$exec_prefix\" = xNONE; then\n@@ -8656,7 +8657,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:8660: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:8661: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -8967,6 +8968,7 @@ ${CONFIG_SHELL-/bin/sh} $srcdir/configure.frag $srcdir \"$subdirs\" \"$dep_host_xma\n \n \n \n+\n \n \n # Echo that links are built\n@@ -9277,6 +9279,7 @@ s%@host_extra_gcc_objs@%$host_extra_gcc_objs%g\n s%@host_xm_file_list@%$host_xm_file_list%g\n s%@host_xm_file@%$host_xm_file%g\n s%@host_xm_defines@%$host_xm_defines%g\n+s%@out_host_hook_obj@%$out_host_hook_obj%g\n s%@install@%$install%g\n s%@lang_options_files@%$lang_options_files%g\n s%@lang_specs_files@%$lang_specs_files%g"}, {"sha": "7376eee34489e0016f19a5e47425fa10e694ac1f", "filename": "gcc/configure.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=476d909872696454142e588683a9937a3ef98f5e", "patch": "@@ -956,6 +956,7 @@ else\n \t\techo \"\t$srcdir/config/$f\"\n \tdone\n fi\n+echo \"Using ${out_host_hook_obj} for host machine hooks.\"\n \n if test \"$host_xm_file\" != \"$build_xm_file\"; then\n \tcount=a\n@@ -2858,6 +2859,7 @@ AC_SUBST(host_extra_gcc_objs)\n AC_SUBST(host_xm_file_list)\n AC_SUBST(host_xm_file)\n AC_SUBST(host_xm_defines)\n+AC_SUBST(out_host_hook_obj)\n AC_SUBST(install)\n AC_SUBST(lang_options_files)\n AC_SUBST(lang_specs_files)"}, {"sha": "c13d364924ddccd9c33b70957dfbf35d4875cf78", "filename": "gcc/doc/hostconfig.texi", "status": "modified", "additions": 86, "deletions": 50, "changes": 136, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fdoc%2Fhostconfig.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fdoc%2Fhostconfig.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fhostconfig.texi?ref=476d909872696454142e588683a9937a3ef98f5e", "patch": "@@ -1,51 +1,60 @@\n-@c Copyright (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,\n-@c 1999, 2000, 2001, 2002 Free Software Foundation, Inc.\n+@c Copyright (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,\n+@c 2000, 2001, 2002, 2003 Free Software Foundation, Inc.\n @c This is part of the GCC manual.\n-@c For copying conditions, see the file gcc.texi.\n+@c For copying conditions, see the file gccint.texi.\n \n @node Host Config\n-@chapter Host Configuration Headers\n+@chapter Host Configuration\n+@cindex host configuration\n+\n+Most details about the machine and system on which the compiler is\n+actually running are detected by the @command{configure} script.  Some\n+things are impossible for @command{configure} to detect; these are\n+described in two ways, either by macros defined in a file named\n+@file{xm-@var{machine}.h} or by hook functions in the file specified\n+by the @var{out_host_hook_obj} variable in @file{config.gcc}.  (The\n+intention is that very few hosts will need a header file but nearly\n+every fully supported host will need to override some hooks.)\n+\n+If you need to define only a few macros, and they have simple\n+definitions, consider using the @code{xm_defines} variable in your\n+@file{config.gcc} entry instead of creating a host configuration\n+header.  @xref{System Config}.\n+\n+@menu\n+* Host Common::\t\tThings every host probably needs implemented.\n+* Filesystem::          Your host can't have the letter `a' in filenames?\n+* Host Misc::         \tRare configuration options for hosts.\n+@end menu\n+\n+@node Host Common\n+@section Host Common\n+@cindex host hooks\n+@cindex host functions\n+\n+Some things are just not portable, even between similar operating systems,\n+and are too difficult for autoconf to detect.  They get implemented using\n+hook functions in the file specified by the @var{host_hook_obj}\n+variable in @file{config.gcc}.\n+\n+@deftypefn {Host Hook} void HOST_HOOKS_EXTRA_SIGNALS (void)\n+This host hook is used to set up handling for extra signals.  The most\n+common thing to do in this hook is to detect stack overflow.\n+@end deftypefn\n+\n+@node Filesystem\n+@section Host Filesystem\n @cindex configuration file\n @cindex @file{xm-@var{machine}.h}\n \n-Host configuration headers contain macro definitions that describe the\n-machine and system on which the compiler is running.  They are usually\n-unnecessary.  Most of the things GCC needs to know about the host\n-system can be deduced by the @command{configure} script.\n-\n-If your host does need a special configuration header, it should be\n-named @file{xm-@var{machine}.h}, where @var{machine} is a short mnemonic\n-for the machine.  Here are some macros which this header can define.\n+GCC supports some filesystems that are very different to standard Unix\n+filesystems.  These macros, defined in @file{xm-@var{machine}.h},\n+let you choose.\n \n @ftable @code\n @item VMS\n Define this macro if the host system is VMS@.\n \n-@item FATAL_EXIT_CODE\n-A C expression for the status code to be returned when the compiler\n-exits after serious errors.  The default is the system-provided macro\n-@samp{EXIT_FAILURE}, or @samp{1} if the system doesn't define that\n-macro.  Define this macro only if these defaults are incorrect.\n-\n-@item SUCCESS_EXIT_CODE\n-A C expression for the status code to be returned when the compiler\n-exits without serious errors.  (Warnings are not serious errors.)  The\n-default is the system-provided macro @samp{EXIT_SUCCESS}, or @samp{0} if\n-the system doesn't define that macro.  Define this macro only if these\n-defaults are incorrect.\n-\n-@item USE_C_ALLOCA\n-Define this macro if GCC should use the C implementation of @code{alloca}\n-provided by @file{libiberty.a}.  This only affects how some parts of the\n-compiler itself allocate memory.  It does not change code generation.\n-\n-When GCC is built with a compiler other than itself, the C @code{alloca}\n-is always used.  This is because most other implementations have serious\n-bugs.  You should define this macro only on a system where no\n-stack-based @code{alloca} can possibly work.  For instance, if a system\n-has a small limit on the size of the stack, GCC's builtin @code{alloca}\n-will not work reliably.\n-\n @item HAVE_DOS_BASED_FILE_SYSTEM\n Define this macro if the host file system obeys the semantics defined by\n MS-DOS instead of Unix.  DOS file systems are case insensitive, file\n@@ -86,14 +95,6 @@ you do not define this macro, GCC will use @samp{/dev/null} as the bit\n bucket.  If the host does not support a bit bucket, define this macro to\n an invalid filename.\n \n-@item COLLECT2_HOST_INITIALIZATION\n-If defined, a C statement (sans semicolon) that performs host-dependent\n-initialization when @code{collect2} is being initialized.\n-\n-@item GCC_DRIVER_HOST_INITIALIZATION\n-If defined, a C statement (sans semicolon) that performs host-dependent\n-initialization when a compilation driver is being initialized.\n-\n @item UPDATE_PATH_HOST_CANONICALIZE (@var{path})\n If defined, a C statement (sans semicolon) that performs host-dependent\n canonicalization when a path used in a compilation driver or\n@@ -112,6 +113,46 @@ unique to each dump file kind, e.g. @samp{rtl}.\n \n If you do not define this macro, GCC will use @samp{.%02d.}.  You should\n define this macro if using the default will create an invalid file name.\n+@end ftable\n+\n+@node Host Misc\n+@section Host Misc\n+@cindex configuration file\n+@cindex @file{xm-@var{machine}.h}\n+\n+@ftable @code\n+@item FATAL_EXIT_CODE\n+A C expression for the status code to be returned when the compiler\n+exits after serious errors.  The default is the system-provided macro\n+@samp{EXIT_FAILURE}, or @samp{1} if the system doesn't define that\n+macro.  Define this macro only if these defaults are incorrect.\n+\n+@item SUCCESS_EXIT_CODE\n+A C expression for the status code to be returned when the compiler\n+exits without serious errors.  (Warnings are not serious errors.)  The\n+default is the system-provided macro @samp{EXIT_SUCCESS}, or @samp{0} if\n+the system doesn't define that macro.  Define this macro only if these\n+defaults are incorrect.\n+\n+@item USE_C_ALLOCA\n+Define this macro if GCC should use the C implementation of @code{alloca}\n+provided by @file{libiberty.a}.  This only affects how some parts of the\n+compiler itself allocate memory.  It does not change code generation.\n+\n+When GCC is built with a compiler other than itself, the C @code{alloca}\n+is always used.  This is because most other implementations have serious\n+bugs.  You should define this macro only on a system where no\n+stack-based @code{alloca} can possibly work.  For instance, if a system\n+has a small limit on the size of the stack, GCC's builtin @code{alloca}\n+will not work reliably.\n+\n+@item COLLECT2_HOST_INITIALIZATION\n+If defined, a C statement (sans semicolon) that performs host-dependent\n+initialization when @code{collect2} is being initialized.\n+\n+@item GCC_DRIVER_HOST_INITIALIZATION\n+If defined, a C statement (sans semicolon) that performs host-dependent\n+initialization when a compilation driver is being initialized.\n \n @item SMALL_ARG_MAX\n Define this macro if the host system has a small limit on the total\n@@ -123,8 +164,3 @@ In addition, if @command{configure} generates an incorrect definition of\n any of the macros in @file{auto-host.h}, you can override that\n definition in a host configuration header.  If you need to do this,\n first see if it is possible to fix @command{configure}.\n-\n-If you need to define only a few of these macros, and they have simple\n-definitions, consider using the @code{xm_defines} variable in your\n-@file{config.gcc} entry instead of creating a host configuration header.\n-@xref{System Config}."}, {"sha": "b38d13aa0f9d099b080f63b0a97eb9548c9e7f27", "filename": "gcc/host-default.c", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fhost-default.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fhost-default.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhost-default.c?ref=476d909872696454142e588683a9937a3ef98f5e", "patch": "@@ -0,0 +1,28 @@\n+/* Default host-specific hook definitions.\n+   Copyright (C) 2003 Free Software Foundation, Inc.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify it under\n+the terms of the GNU General Public License as published by the Free\n+Software Foundation; either version 2, or (at your option) any later\n+version.\n+\n+GCC is distributed in the hope that it will be useful, but WITHOUT ANY\n+WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING.  If not, write to the Free\n+Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n+02111-1307, USA.  */\n+\n+\n+#include \"config.h\"\n+#include \"system.h\"\n+#include \"coretypes.h\"\n+#include \"hosthooks.h\"\n+#include \"hosthooks-def.h\"\n+\n+const struct host_hooks host_hooks = HOST_HOOKS_INITIALIZER;"}, {"sha": "488e3ea2e977b2c2ac59805c28762f3e24d89a54", "filename": "gcc/hosthooks-def.h", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fhosthooks-def.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fhosthooks-def.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhosthooks-def.h?ref=476d909872696454142e588683a9937a3ef98f5e", "patch": "@@ -0,0 +1,33 @@\n+/* Default macros to initialize the lang_hooks data structure.\n+   Copyright 2003 Free Software Foundation, Inc.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#ifndef GCC_HOST_HOOKS_DEF_H\n+#define GCC_HOST_HOOKS_DEF_H\n+\n+#include \"hooks.h\"\n+\n+#define HOST_HOOKS_EXTRA_SIGNALS hook_void_void\n+\n+/* The structure is defined in hosthooks.h.  */\n+#define HOST_HOOKS_INITIALIZER {\t\t\\\n+  HOST_HOOKS_EXTRA_SIGNALS\t\t\t\\\n+}\n+\n+#endif /* GCC_HOST_HOOKS_DEF_H */"}, {"sha": "92b9e5d6e32c1397ac1b8d0e98b9922d9af8d440", "filename": "gcc/hosthooks.h", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fhosthooks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/476d909872696454142e588683a9937a3ef98f5e/gcc%2Fhosthooks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhosthooks.h?ref=476d909872696454142e588683a9937a3ef98f5e", "patch": "@@ -0,0 +1,34 @@\n+/* The host_hooks data structure.\n+   Copyright 2003 Free Software Foundation, Inc.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#ifndef GCC_HOST_HOOKS_H\n+#define GCC_HOST_HOOKS_H\n+\n+struct host_hooks \n+{\n+  void (*extra_signals) PARAMS((void));\n+\n+  /* Whenever you add entries here, make sure you adjust hosthooks-def.h.  */\n+};\n+\n+/* Each host provides its own.  */\n+extern const struct host_hooks host_hooks;\n+\n+#endif /* GCC_LANG_HOOKS_H */"}, {"sha": "7b49110d92576b73b4d82b60ac99f02d5fa99e8f", "filename": "gcc/toplev.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/476d909872696454142e588683a9937a3ef98f5e/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/476d909872696454142e588683a9937a3ef98f5e/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=476d909872696454142e588683a9937a3ef98f5e", "patch": "@@ -74,6 +74,7 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #include \"langhooks.h\"\n #include \"cfglayout.h\"\n #include \"cfgloop.h\"\n+#include \"hosthooks.h\"\n \n #if defined (DWARF2_UNWIND_INFO) || defined (DWARF2_DEBUGGING_INFO)\n #include \"dwarf2out.h\"\n@@ -4759,6 +4760,9 @@ general_init (argv0)\n   signal (SIGFPE, crash_signal);\n #endif\n \n+  /* Other host-specific signal setup.  */\n+  (*host_hooks.extra_signals)();\n+\n   /* Initialize the diagnostics reporting machinery, so option parsing\n      can give warnings and errors.  */\n   diagnostic_initialize (global_dc);"}]}