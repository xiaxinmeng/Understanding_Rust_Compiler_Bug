{"sha": "68a12ef35b38746594c034a71d74dd6d68b775c0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjhhMTJlZjM1YjM4NzQ2NTk0YzAzNGE3MWQ3NGRkNmQ2OGI3NzVjMA==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2012-07-03T07:24:10Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2012-07-03T07:24:10Z"}, "message": "xmmintrin.h (_mm_sfence): Use __builtin_ia32_pause.\n\ngcc/\n\n2012-07-03  Uros Bizjak  <ubizjak@gmail.com>\n\n\t* config/i386/xmmintrin.h (_mm_sfence): Use __builtin_ia32_pause.\n\nlibgomp/\n\n2012-07-03  Uros Bizjak  <ubizjak@gmail.com>\n\n\t* config/linux/x86/futex.h (cpu_relax): Use __builtin_ia32_pause.\n\t* testsuite/libgomp.c/sort-1.c (busy_wait): Ditto.\n\nlibitm/\n\n2012-07-03  Uros Bizjak  <ubizjak@gmail.com>\n\n\t* config/x86/target.h (cpu_relax): Use __builtin_ia32_pause.\n\nFrom-SVN: r189194", "tree": {"sha": "8849e6d14281c455d4dfeb286d419086995bcc7f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8849e6d14281c455d4dfeb286d419086995bcc7f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/68a12ef35b38746594c034a71d74dd6d68b775c0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68a12ef35b38746594c034a71d74dd6d68b775c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68a12ef35b38746594c034a71d74dd6d68b775c0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68a12ef35b38746594c034a71d74dd6d68b775c0/comments", "author": null, "committer": null, "parents": [{"sha": "43283548c184deca6ba9df2f31fe38e9a12738f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43283548c184deca6ba9df2f31fe38e9a12738f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/43283548c184deca6ba9df2f31fe38e9a12738f2"}], "stats": {"total": 27, "additions": 20, "deletions": 7}, "files": [{"sha": "8f0d5ecaae562fd19fee64f665353bc4af6051df", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68a12ef35b38746594c034a71d74dd6d68b775c0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68a12ef35b38746594c034a71d74dd6d68b775c0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=68a12ef35b38746594c034a71d74dd6d68b775c0", "patch": "@@ -1,3 +1,7 @@\n+2012-07-03  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* config/i386/xmmintrin.h (_mm_sfence): Use __builtin_ia32_pause.\n+\n 2012-07-03  Roland McGrath  <mcgrathr@google.com>\n \n \t* configure.ac (HAVE_AS_IX86_REP_LOCK_PREFIX): Also require that the"}, {"sha": "b3a8c3e1cda038ea1d2ec0663174229650240442", "filename": "gcc/config/i386/xmmintrin.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68a12ef35b38746594c034a71d74dd6d68b775c0/gcc%2Fconfig%2Fi386%2Fxmmintrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68a12ef35b38746594c034a71d74dd6d68b775c0/gcc%2Fconfig%2Fi386%2Fxmmintrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fxmmintrin.h?ref=68a12ef35b38746594c034a71d74dd6d68b775c0", "patch": "@@ -1225,7 +1225,7 @@ _mm_sfence (void)\n extern __inline void __attribute__((__gnu_inline__, __always_inline__, __artificial__))\n _mm_pause (void)\n {\n-  __asm__ __volatile__ (\"rep; nop\" : : );\n+  __builtin_ia32_pause ();\n }\n \n /* Transpose the 4x4 matrix composed of row[0-3].  */"}, {"sha": "0b0266c33ea1f14eeec2647873593dee1fe1366b", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68a12ef35b38746594c034a71d74dd6d68b775c0/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68a12ef35b38746594c034a71d74dd6d68b775c0/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=68a12ef35b38746594c034a71d74dd6d68b775c0", "patch": "@@ -1,7 +1,12 @@\n+2012-07-03  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* config/linux/x86/futex.h (cpu_relax): Use __builtin_ia32_pause.\n+\t* testsuite/libgomp.c/sort-1.c (busy_wait): Ditto.\n+\n 2012-07-02  Richard Guenther  <rguenther@suse.de>\n-\tMichael Matz  <matz@suse.de>\n-\tTobias Grosser <tobias@grosser.es>\n-\tSebastian Pop <sebpop@gmail.com>\n+\t    Michael Matz  <matz@suse.de>\n+\t    Tobias Grosser <tobias@grosser.es>\n+\t    Sebastian Pop <sebpop@gmail.com>\n \n \t* testsuite/libgomp.graphite/force-parallel-4.c: Adjust.\n \t* testsuite/libgomp.graphite/force-parallel-5.c: Likewise."}, {"sha": "8e87de1ef7d86aabf3208376fa1831ab660cf64c", "filename": "libgomp/config/linux/x86/futex.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68a12ef35b38746594c034a71d74dd6d68b775c0/libgomp%2Fconfig%2Flinux%2Fx86%2Ffutex.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68a12ef35b38746594c034a71d74dd6d68b775c0/libgomp%2Fconfig%2Flinux%2Fx86%2Ffutex.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfig%2Flinux%2Fx86%2Ffutex.h?ref=68a12ef35b38746594c034a71d74dd6d68b775c0", "patch": "@@ -143,5 +143,5 @@ futex_wake (int *addr, int count)\n static inline void\n cpu_relax (void)\n {\n-  __asm volatile (\"rep; nop\" : : : \"memory\");\n+  __builtin_ia32_pause ();\n }"}, {"sha": "3743065543e141265c8406e44b30651cb6579c06", "filename": "libgomp/testsuite/libgomp.c/sort-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68a12ef35b38746594c034a71d74dd6d68b775c0/libgomp%2Ftestsuite%2Flibgomp.c%2Fsort-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68a12ef35b38746594c034a71d74dd6d68b775c0/libgomp%2Ftestsuite%2Flibgomp.c%2Fsort-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fsort-1.c?ref=68a12ef35b38746594c034a71d74dd6d68b775c0", "patch": "@@ -100,7 +100,7 @@ static inline void\n busy_wait (void)\n {\n #if defined __i386__ || defined __x86_64__\n-  __asm volatile (\"rep; nop\" : : : \"memory\");\n+  __builtin_ia32_pause ();\n #elif defined __ia64__\n   __asm volatile (\"hint @pause\" : : : \"memory\");\n #elif defined __sparc__ && (defined __arch64__ || defined __sparc_v9__)"}, {"sha": "2d10d5e8f9703f7b0594f1f294a73b63cc385bca", "filename": "libitm/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68a12ef35b38746594c034a71d74dd6d68b775c0/libitm%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68a12ef35b38746594c034a71d74dd6d68b775c0/libitm%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libitm%2FChangeLog?ref=68a12ef35b38746594c034a71d74dd6d68b775c0", "patch": "@@ -1,3 +1,7 @@\n+2012-07-31  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* config/x86/target.h (cpu_relax): Use __builtin_ia32_pause.\n+\n 2012-05-21  Patrick Marlier  <patrick.marlier@gmail.com>\n \n \t* eh_cpp.cc: Fix __cxa_end_catch declaration."}, {"sha": "73b6585ae7055902c0c4be89040d02e2ae090353", "filename": "libitm/config/x86/target.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68a12ef35b38746594c034a71d74dd6d68b775c0/libitm%2Fconfig%2Fx86%2Ftarget.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68a12ef35b38746594c034a71d74dd6d68b775c0/libitm%2Fconfig%2Fx86%2Ftarget.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libitm%2Fconfig%2Fx86%2Ftarget.h?ref=68a12ef35b38746594c034a71d74dd6d68b775c0", "patch": "@@ -63,7 +63,7 @@ typedef struct gtm_jmpbuf\n static inline void\n cpu_relax (void)\n {\n-  __asm volatile (\"rep; nop\" : : : \"memory\");\n+  __builtin_ia32_pause ();\n }\n \n } // namespace GTM"}]}