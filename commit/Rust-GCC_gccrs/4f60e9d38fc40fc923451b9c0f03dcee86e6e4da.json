{"sha": "4f60e9d38fc40fc923451b9c0f03dcee86e6e4da", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGY2MGU5ZDM4ZmM0MGZjOTIzNDUxYjljMGYwM2RjZWU4NmU2ZTRkYQ==", "commit": {"author": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2012-09-18T21:13:45Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@gcc.gnu.org", "date": "2012-09-18T21:13:45Z"}, "message": "rs6000.md (sminsi3, [...]): Delete.\n\n2012-09-18  Segher Boessenkool  <segher@kernel.crashing.org>\n\ngcc/\n\t* config/rs6000/rs6000.md (sminsi3, smaxsi3, uminsi3, umaxsi3):\n\tDelete.\n\t(abssi2, abs<mode>2_isel, nabs<mode>2_isel, abssi2_nopower,\n\tnabs_nopower): Delete.\n\t(absdi2, absdi2_internal, nabsdi2): Delete.\n\t(smindi3, smaxdi3, umindi3, umaxdi3): Delete.\n\nFrom-SVN: r191450", "tree": {"sha": "08a5ad13ee048f09dba5fbab8a5ea8a8f6a4c097", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/08a5ad13ee048f09dba5fbab8a5ea8a8f6a4c097"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f60e9d38fc40fc923451b9c0f03dcee86e6e4da", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f60e9d38fc40fc923451b9c0f03dcee86e6e4da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f60e9d38fc40fc923451b9c0f03dcee86e6e4da", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f60e9d38fc40fc923451b9c0f03dcee86e6e4da/comments", "author": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "65c247eefcd2d2768e672e9b28eb6d7abb483b6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65c247eefcd2d2768e672e9b28eb6d7abb483b6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65c247eefcd2d2768e672e9b28eb6d7abb483b6c"}], "stats": {"total": 239, "additions": 9, "deletions": 230}, "files": [{"sha": "d8c0e23c013d64b0dea7b0e6363f8e0d40975f25", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f60e9d38fc40fc923451b9c0f03dcee86e6e4da/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f60e9d38fc40fc923451b9c0f03dcee86e6e4da/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4f60e9d38fc40fc923451b9c0f03dcee86e6e4da", "patch": "@@ -1,3 +1,12 @@\n+2012-09-18  Segher Boessenkool  <segher@kernel.crashing.org>\n+\n+\t* config/rs6000/rs6000.md (sminsi3, smaxsi3, uminsi3, umaxsi3):\n+\tDelete.\n+\t(abssi2, abs<mode>2_isel, nabs<mode>2_isel, abssi2_nopower,\n+\tnabs_nopower): Delete.\n+\t(absdi2, absdi2_internal, nabsdi2): Delete.\n+\t(smindi3, smaxdi3, umindi3, umaxdi3): Delete.\n+\n 2012-09-18  Georg-Johann Lay  <avr@gjlay.de>\n \n \t* config/avr/avr.md: Tidy up empty \"\".  Fix C code indentation."}, {"sha": "2f3795b512b8e3dd8789d59fb58937a2369973c4", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 0, "deletions": 230, "changes": 230, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f60e9d38fc40fc923451b9c0f03dcee86e6e4da/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f60e9d38fc40fc923451b9c0f03dcee86e6e4da/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=4f60e9d38fc40fc923451b9c0f03dcee86e6e4da", "patch": "@@ -1796,154 +1796,6 @@\n     }\n }\")\n \n-(define_expand \"sminsi3\"\n-  [(set (match_dup 3)\n-\t(if_then_else:SI (gt:SI (match_operand:SI 1 \"gpc_reg_operand\" \"\")\n-\t\t\t\t(match_operand:SI 2 \"reg_or_short_operand\" \"\"))\n-\t\t\t (const_int 0)\n-\t\t\t (minus:SI (match_dup 2) (match_dup 1))))\n-   (set (match_operand:SI 0 \"gpc_reg_operand\" \"\")\n-\t(minus:SI (match_dup 2) (match_dup 3)))]\n-  \"TARGET_ISEL\"\n-  \"\n-{\n-  operands[2] = force_reg (SImode, operands[2]);\n-  rs6000_emit_minmax (operands[0], SMIN, operands[1], operands[2]);\n-  DONE;\n-}\")\n-\n-(define_expand \"smaxsi3\"\n-  [(set (match_dup 3)\n-\t(if_then_else:SI (gt:SI (match_operand:SI 1 \"gpc_reg_operand\" \"\")\n-\t\t\t\t(match_operand:SI 2 \"reg_or_short_operand\" \"\"))\n-\t\t\t (const_int 0)\n-\t\t\t (minus:SI (match_dup 2) (match_dup 1))))\n-   (set (match_operand:SI 0 \"gpc_reg_operand\" \"\")\n-\t(plus:SI (match_dup 3) (match_dup 1)))]\n-  \"TARGET_ISEL\"\n-  \"\n-{\n-  operands[2] = force_reg (SImode, operands[2]);\n-  rs6000_emit_minmax (operands[0], SMAX, operands[1], operands[2]);\n-  DONE;\n-}\")\n-\n-(define_expand \"uminsi3\"\n-  [(set (match_dup 3) (xor:SI (match_operand:SI 1 \"gpc_reg_operand\" \"\")\n-\t\t\t      (match_dup 5)))\n-   (set (match_dup 4) (xor:SI (match_operand:SI 2 \"gpc_reg_operand\" \"\")\n-\t\t\t      (match_dup 5)))\n-   (set (match_dup 3) (if_then_else:SI (gt (match_dup 3) (match_dup 4))\n-\t\t\t\t       (const_int 0)\n-\t\t\t\t       (minus:SI (match_dup 4) (match_dup 3))))\n-   (set (match_operand:SI 0 \"gpc_reg_operand\" \"\")\n-\t(minus:SI (match_dup 2) (match_dup 3)))]\n-  \"TARGET_ISEL\"\n-  \"\n-{\n-  rs6000_emit_minmax (operands[0], UMIN, operands[1], operands[2]);\n-  DONE;\n-}\")\n-\n-(define_expand \"umaxsi3\"\n-  [(set (match_dup 3) (xor:SI (match_operand:SI 1 \"gpc_reg_operand\" \"\")\n-\t\t\t      (match_dup 5)))\n-   (set (match_dup 4) (xor:SI (match_operand:SI 2 \"gpc_reg_operand\" \"\")\n-\t\t\t      (match_dup 5)))\n-   (set (match_dup 3) (if_then_else:SI (gt (match_dup 3) (match_dup 4))\n-\t\t\t\t       (const_int 0)\n-\t\t\t\t       (minus:SI (match_dup 4) (match_dup 3))))\n-   (set (match_operand:SI 0 \"gpc_reg_operand\" \"\")\n-\t(plus:SI (match_dup 3) (match_dup 1)))]\n-  \"TARGET_ISEL\"\n-  \"\n-{\n-  rs6000_emit_minmax (operands[0], UMAX, operands[1], operands[2]);\n-  DONE;\n-}\")\n-\n-;; We don't need abs with condition code because such comparisons should\n-;; never be done.\n-(define_expand \"abssi2\"\n-  [(set (match_operand:SI 0 \"gpc_reg_operand\" \"\")\n-\t(abs:SI (match_operand:SI 1 \"gpc_reg_operand\" \"\")))]\n-  \"\"\n-  \"\n-{\n-  if (TARGET_ISEL)\n-    {\n-      emit_insn (gen_abssi2_isel (operands[0], operands[1]));\n-      DONE;\n-    }\n-  else\n-    {\n-      emit_insn (gen_abssi2_nopower (operands[0], operands[1]));\n-      DONE;\n-    }\n-}\")\n-\n-(define_insn_and_split \"abs<mode>2_isel\"\n-  [(set (match_operand:GPR 0 \"gpc_reg_operand\" \"=r\")\n-        (abs:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"b\")))\n-   (clobber (match_scratch:GPR 2 \"=&b\"))\n-   (clobber (match_scratch:CC 3 \"=y\"))]\n-  \"TARGET_ISEL\"\n-  \"#\"\n-  \"&& reload_completed\"\n-  [(set (match_dup 2) (neg:GPR (match_dup 1)))\n-   (set (match_dup 3)\n-\t(compare:CC (match_dup 1)\n-\t\t    (const_int 0)))\n-   (set (match_dup 0)\n-\t(if_then_else:GPR (lt (match_dup 3)\n-\t\t\t      (const_int 0))\n-\t\t\t  (match_dup 2)\n-\t\t\t  (match_dup 1)))]\n-  \"\")\n-\n-(define_insn_and_split \"nabs<mode>2_isel\"\n-  [(set (match_operand:GPR 0 \"gpc_reg_operand\" \"=r\")\n-        (neg:GPR (abs:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"b\"))))\n-   (clobber (match_scratch:GPR 2 \"=&b\"))\n-   (clobber (match_scratch:CC 3 \"=y\"))]\n-  \"TARGET_ISEL\"\n-  \"#\"\n-  \"&& reload_completed\"\n-  [(set (match_dup 2) (neg:GPR (match_dup 1)))\n-   (set (match_dup 3)\n-\t(compare:CC (match_dup 1)\n-\t\t    (const_int 0)))\n-   (set (match_dup 0)\n-\t(if_then_else:GPR (lt (match_dup 3)\n-\t\t\t      (const_int 0))\n-\t\t\t  (match_dup 1)\n-\t\t\t  (match_dup 2)))]\n-  \"\")\n-\n-(define_insn_and_split \"abssi2_nopower\"\n-  [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=&r,r\")\n-        (abs:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,0\")))\n-   (clobber (match_scratch:SI 2 \"=&r,&r\"))]\n-  \"! TARGET_ISEL\"\n-  \"#\"\n-  \"&& reload_completed\"\n-  [(set (match_dup 2) (ashiftrt:SI (match_dup 1) (const_int 31)))\n-   (set (match_dup 0) (xor:SI (match_dup 2) (match_dup 1)))\n-   (set (match_dup 0) (minus:SI (match_dup 0) (match_dup 2)))]\n-  \"\")\n-\n-(define_insn_and_split \"*nabs_nopower\"\n-  [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=&r,r\")\n-        (neg:SI (abs:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,0\"))))\n-   (clobber (match_scratch:SI 2 \"=&r,&r\"))]\n-  \"\"\n-  \"#\"\n-  \"&& reload_completed\"\n-  [(set (match_dup 2) (ashiftrt:SI (match_dup 1) (const_int 31)))\n-   (set (match_dup 0) (xor:SI (match_dup 2) (match_dup 1)))\n-   (set (match_dup 0) (minus:SI (match_dup 2) (match_dup 0)))]\n-  \"\")\n-\n (define_expand \"neg<mode>2\"\n   [(set (match_operand:SDI 0 \"gpc_reg_operand\" \"\")\n \t(neg:SDI (match_operand:SDI 1 \"gpc_reg_operand\" \"\")))]\n@@ -6374,43 +6226,6 @@\n \f\n ;; PowerPC64 DImode operations.\n \n-(define_expand \"absdi2\"\n-  [(set (match_operand:DI 0 \"gpc_reg_operand\" \"\")\n-\t(abs:DI (match_operand:DI 1 \"gpc_reg_operand\" \"\")))]\n-  \"TARGET_POWERPC64\"\n-  \"\n-{\n-  if (TARGET_ISEL)\n-    emit_insn (gen_absdi2_isel (operands[0], operands[1]));\n-  else\n-    emit_insn (gen_absdi2_internal (operands[0], operands[1]));\n-  DONE;\n-}\")\n-\n-(define_insn_and_split \"absdi2_internal\"\n-  [(set (match_operand:DI 0 \"gpc_reg_operand\" \"=&r,r\")\n-        (abs:DI (match_operand:DI 1 \"gpc_reg_operand\" \"r,0\")))\n-   (clobber (match_scratch:DI 2 \"=&r,&r\"))]\n-  \"TARGET_POWERPC64 && !TARGET_ISEL\"\n-  \"#\"\n-  \"&& reload_completed\"\n-  [(set (match_dup 2) (ashiftrt:DI (match_dup 1) (const_int 63)))\n-   (set (match_dup 0) (xor:DI (match_dup 2) (match_dup 1)))\n-   (set (match_dup 0) (minus:DI (match_dup 0) (match_dup 2)))]\n-  \"\")\n-\n-(define_insn_and_split \"*nabsdi2\"\n-  [(set (match_operand:DI 0 \"gpc_reg_operand\" \"=&r,r\")\n-        (neg:DI (abs:DI (match_operand:DI 1 \"gpc_reg_operand\" \"r,0\"))))\n-   (clobber (match_scratch:DI 2 \"=&r,&r\"))]\n-  \"TARGET_POWERPC64 && !TARGET_ISEL\"\n-  \"#\"\n-  \"&& reload_completed\"\n-  [(set (match_dup 2) (ashiftrt:DI (match_dup 1) (const_int 63)))\n-   (set (match_dup 0) (xor:DI (match_dup 2) (match_dup 1)))\n-   (set (match_dup 0) (minus:DI (match_dup 2) (match_dup 0)))]\n-  \"\")\n-\n (define_insn \"muldi3\"\n   [(set (match_operand:DI 0 \"gpc_reg_operand\" \"=r,r\")\n         (mult:DI (match_operand:DI 1 \"gpc_reg_operand\" \"%r,r\")\n@@ -7785,51 +7600,6 @@\n \t(compare:CC (match_dup 0)\n \t\t    (const_int 0)))]\n   \"\")\n-\n-(define_expand \"smindi3\"\n-  [(match_operand:DI 0 \"gpc_reg_operand\" \"\")\n-   (match_operand:DI 1 \"gpc_reg_operand\" \"\")\n-   (match_operand:DI 2 \"gpc_reg_operand\" \"\")]\n-  \"TARGET_ISEL64\"\n-  \"\n-{\n-  rs6000_emit_minmax (operands[0], SMIN, operands[1], operands[2]);\n-  DONE;\n-}\")\n-\n-(define_expand \"smaxdi3\"\n-  [(match_operand:DI 0 \"gpc_reg_operand\" \"\")\n-   (match_operand:DI 1 \"gpc_reg_operand\" \"\")\n-   (match_operand:DI 2 \"gpc_reg_operand\" \"\")]\n-  \"TARGET_ISEL64\"\n-  \"\n-{\n-  rs6000_emit_minmax (operands[0], SMAX, operands[1], operands[2]);\n-  DONE;\n-}\")\n-\n-(define_expand \"umindi3\"\n-  [(match_operand:DI 0 \"gpc_reg_operand\" \"\")\n-   (match_operand:DI 1 \"gpc_reg_operand\" \"\")\n-   (match_operand:DI 2 \"gpc_reg_operand\" \"\")]\n-  \"TARGET_ISEL64\"\n-  \"\n-{\n-  rs6000_emit_minmax (operands[0], UMIN, operands[1], operands[2]);\n-  DONE;\n-}\")\n-\n-(define_expand \"umaxdi3\"\n-  [(match_operand:DI 0 \"gpc_reg_operand\" \"\")\n-   (match_operand:DI 1 \"gpc_reg_operand\" \"\")\n-   (match_operand:DI 2 \"gpc_reg_operand\" \"\")]\n-  \"TARGET_ISEL64\"\n-  \"\n-{\n-  rs6000_emit_minmax (operands[0], UMAX, operands[1], operands[2]);\n-  DONE;\n-}\")\n-\n \f\n ;; Now define ways of moving data around.\n "}]}