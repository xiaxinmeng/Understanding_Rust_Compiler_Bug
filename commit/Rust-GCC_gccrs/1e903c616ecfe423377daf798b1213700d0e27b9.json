{"sha": "1e903c616ecfe423377daf798b1213700d0e27b9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWU5MDNjNjE2ZWNmZTQyMzM3N2RhZjc5OGIxMjEzNzAwZDBlMjdiOQ==", "commit": {"author": {"name": "Michael Hayes", "email": "m.hayes@elec.canterbury.ac.nz", "date": "2004-01-26T00:12:05Z"}, "committer": {"name": "Michael Hayes", "email": "m.hayes@gcc.gnu.org", "date": "2004-01-26T00:12:05Z"}, "message": "c4x.c (c4x_check_legit_addr): Rename to c4x_legitimate_address_p.\n\n\t* config/c4x/c4x.c (c4x_check_legit_addr): Rename to\n\tc4x_legitimate_address_p.  Fix post_modify check.\n\t* config/c4x/c4x-protos.h (c4x_check_legit_addr): Adjust.\n\t* config/c4x/c4x.h (c4x_check_legit_addr): Adjust.\n\nFrom-SVN: r76601", "tree": {"sha": "9ab955841db9be37f272aff1a1029b3ce276f9aa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9ab955841db9be37f272aff1a1029b3ce276f9aa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1e903c616ecfe423377daf798b1213700d0e27b9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e903c616ecfe423377daf798b1213700d0e27b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e903c616ecfe423377daf798b1213700d0e27b9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e903c616ecfe423377daf798b1213700d0e27b9/comments", "author": null, "committer": null, "parents": [{"sha": "3f12cd9b3cfa9d4011eda8a9b469107a59ffe6e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f12cd9b3cfa9d4011eda8a9b469107a59ffe6e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f12cd9b3cfa9d4011eda8a9b469107a59ffe6e0"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "ef3ac21dd678cebb3a4d6af5320d4ed9798ea55e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e903c616ecfe423377daf798b1213700d0e27b9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e903c616ecfe423377daf798b1213700d0e27b9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1e903c616ecfe423377daf798b1213700d0e27b9", "patch": "@@ -1,3 +1,10 @@\n+2004-01-26  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>\n+\n+\t* config/c4x/c4x.c (c4x_check_legit_addr): Rename to\n+\tc4x_legitimate_address_p.  Fix post_modify check.\n+\t* config/c4x/c4x-protos.h (c4x_check_legit_addr): Adjust.\n+\t* config/c4x/c4x.h (c4x_check_legit_addr): Adjust.\n+\t\n 2004-01-25  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/pa/pa-protos.h: Remove the prototype for\n@@ -27,7 +34,7 @@\n \t(PROMOTE_PROTOTYPES): Remove.\n \n 2004-01-26  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>\n- \n+\t\n         * config/c4x/c4x.h (LEGITIMIZE_RELOAD_ADDRESS):  Handle symref.\n  \n 2003-04-25  Chris Demetriou  <cgd@broadcom.com>"}, {"sha": "19ee2d733ed64d2efb665c041f29eb83a86cef10", "filename": "gcc/config/c4x/c4x-protos.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e903c616ecfe423377daf798b1213700d0e27b9/gcc%2Fconfig%2Fc4x%2Fc4x-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e903c616ecfe423377daf798b1213700d0e27b9/gcc%2Fconfig%2Fc4x%2Fc4x-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fc4x%2Fc4x-protos.h?ref=1e903c616ecfe423377daf798b1213700d0e27b9", "patch": "@@ -68,7 +68,7 @@ extern void c4x_init_builtins (void);\n #ifdef RTX_CODE\n extern struct rtx_def *c4x_gen_compare_reg (enum rtx_code, rtx, rtx);\n \n-extern int c4x_check_legit_addr (enum machine_mode, rtx, int);\n+extern int c4x_legitimate_address_p (enum machine_mode, rtx, int);\n \n extern int c4x_hard_regno_mode_ok (unsigned int, enum machine_mode);\n "}, {"sha": "2c46ec1341e0f99c7bcc52b3021f3dbe3fb50f64", "filename": "gcc/config/c4x/c4x.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e903c616ecfe423377daf798b1213700d0e27b9/gcc%2Fconfig%2Fc4x%2Fc4x.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e903c616ecfe423377daf798b1213700d0e27b9/gcc%2Fconfig%2Fc4x%2Fc4x.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fc4x%2Fc4x.c?ref=1e903c616ecfe423377daf798b1213700d0e27b9", "patch": "@@ -1432,7 +1432,7 @@ c4x_emit_libcall_mulhi (rtx libcall, enum rtx_code code,\n \n \n int\n-c4x_check_legit_addr (enum machine_mode mode, rtx addr, int strict)\n+c4x_legitimate_address_p (enum machine_mode mode, rtx addr, int strict)\n {\n   rtx base = NULL_RTX;\t\t/* Base register (AR0-AR7).  */\n   rtx indx = NULL_RTX;\t\t/* Index register (IR0,IR1).  */\n@@ -1471,7 +1471,9 @@ c4x_check_legit_addr (enum machine_mode mode, rtx addr, int strict)\n \t    || (GET_CODE (op1) != PLUS && GET_CODE (op1) != MINUS))\n \t  return 0;\n \tbase = XEXP (op1, 0);\n-\tif (base != op0)\n+\tif (! REG_P (base))\n+\t    return 0;\n+\tif (REGNO (base) != REGNO (op0))\n \t  return 0;\n \tif (REG_P (XEXP (op1, 1)))\n \t  indx = XEXP (op1, 1);"}, {"sha": "8ee98a47cc3ff0f31bf01a8a788b3317d67495f7", "filename": "gcc/config/c4x/c4x.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e903c616ecfe423377daf798b1213700d0e27b9/gcc%2Fconfig%2Fc4x%2Fc4x.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e903c616ecfe423377daf798b1213700d0e27b9/gcc%2Fconfig%2Fc4x%2Fc4x.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fc4x%2Fc4x.h?ref=1e903c616ecfe423377daf798b1213700d0e27b9", "patch": "@@ -1259,7 +1259,7 @@ CUMULATIVE_ARGS;\n \n #define GO_IF_LEGITIMATE_ADDRESS(MODE, X, ADDR)\t\t\t\t\\\n {\t\t\t\t\t\t\t\t\t\\\n-  if (c4x_check_legit_addr (MODE, X, 0))\t\t\t\t\\\n+  if (c4x_legitimate_address_p (MODE, X, 0))\t\t\t\t\\\n     goto ADDR;\t\t\t\t\t\t\t\t\\\n }\n \n@@ -1275,7 +1275,7 @@ CUMULATIVE_ARGS;\n \n #define GO_IF_LEGITIMATE_ADDRESS(MODE, X, ADDR)\t\t\t\t\\\n {\t\t\t\t\t\t\t\t\t\\\n-  if (c4x_check_legit_addr (MODE, X, 1))\t\t\t\t\\\n+  if (c4x_legitimate_address_p (MODE, X, 1))\t\t\t\t\\\n     goto ADDR;\t\t\t\t\t\t\t\t\\\n }\n "}]}