{"sha": "16967aff7a209389283280a17ef08f2fe206fed3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTY5NjdhZmY3YTIwOTM4OTI4MzI4MGExN2VmMDhmMmZlMjA2ZmVkMw==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2017-03-09T13:20:50Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2017-03-09T13:20:50Z"}, "message": "re PR target/79971 (ICE in const_binop, at fold-const.c:1554 on ARM target with saturated integers)\n\n2017-03-09  Richard Biener  <rguenther@suse.de>\n\n\tPR middle-end/79971\n\t* gimple-expr.c (useless_type_conversion_p): Preserve\n\tTYPE_SATURATING for fixed-point types.\n\n\t* gcc.dg/fixed-point/pr79971.c: New testcase.\n\nFrom-SVN: r246002", "tree": {"sha": "0fb1cda8b2c5fab8da11d73209f3aefa3d5399b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0fb1cda8b2c5fab8da11d73209f3aefa3d5399b4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/16967aff7a209389283280a17ef08f2fe206fed3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16967aff7a209389283280a17ef08f2fe206fed3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/16967aff7a209389283280a17ef08f2fe206fed3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16967aff7a209389283280a17ef08f2fe206fed3/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "26d7dc48b628d0fa16f2a1660b23602821c748f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26d7dc48b628d0fa16f2a1660b23602821c748f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26d7dc48b628d0fa16f2a1660b23602821c748f9"}], "stats": {"total": 27, "additions": 26, "deletions": 1}, "files": [{"sha": "7eab04210668c9f58cc64ac853902cd501877118", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16967aff7a209389283280a17ef08f2fe206fed3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16967aff7a209389283280a17ef08f2fe206fed3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=16967aff7a209389283280a17ef08f2fe206fed3", "patch": "@@ -1,3 +1,9 @@\n+2017-03-09  Richard Biener  <rguenther@suse.de>\n+\n+\tPR middle-end/79971\n+\t* gimple-expr.c (useless_type_conversion_p): Preserve\n+\tTYPE_SATURATING for fixed-point types.\n+\n 2017-03-09  Richard Biener  <rguenther@suse.de>\n \n \tPR ipa/79970"}, {"sha": "9d8034c31921976cb2bcca5738d2b481ce74442f", "filename": "gcc/gimple-expr.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16967aff7a209389283280a17ef08f2fe206fed3/gcc%2Fgimple-expr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16967aff7a209389283280a17ef08f2fe206fed3/gcc%2Fgimple-expr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-expr.c?ref=16967aff7a209389283280a17ef08f2fe206fed3", "patch": "@@ -124,7 +124,7 @@ useless_type_conversion_p (tree outer_type, tree inner_type)\n   /* Fixed point types with the same mode are compatible.  */\n   else if (FIXED_POINT_TYPE_P (inner_type)\n \t   && FIXED_POINT_TYPE_P (outer_type))\n-    return true;\n+    return TYPE_SATURATING (inner_type) == TYPE_SATURATING (outer_type);\n \n   /* We need to take special care recursing to pointed-to types.  */\n   else if (POINTER_TYPE_P (inner_type)"}, {"sha": "3e7e15760b7219d8c7f2b7b8d84eab7fcdbb7bb7", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16967aff7a209389283280a17ef08f2fe206fed3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16967aff7a209389283280a17ef08f2fe206fed3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=16967aff7a209389283280a17ef08f2fe206fed3", "patch": "@@ -1,3 +1,8 @@\n+2017-03-09  Richard Biener  <rguenther@suse.de>\n+\n+\tPR middle-end/79971\n+\t* gcc.dg/fixed-point/pr79971.c: New testcase.\n+\n 2017-03-09  Richard Biener  <rguenther@suse.de>\n \n \tPR ipa/79970"}, {"sha": "cccea1f5dc8467d62353a5ba1848fcf0ddf88e94", "filename": "gcc/testsuite/gcc.dg/fixed-point/pr79971.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16967aff7a209389283280a17ef08f2fe206fed3/gcc%2Ftestsuite%2Fgcc.dg%2Ffixed-point%2Fpr79971.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16967aff7a209389283280a17ef08f2fe206fed3/gcc%2Ftestsuite%2Fgcc.dg%2Ffixed-point%2Fpr79971.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ffixed-point%2Fpr79971.c?ref=16967aff7a209389283280a17ef08f2fe206fed3", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O3\" } */\n+\n+void\n+a ()\n+{\n+  unsigned _Accum b;\n+  for (b = 0.1; b; b += 0.1uk)\n+    {\n+      _Sat unsigned _Accum b;\n+      for (b = 0; b <= 0.8; b = 0.1)\n+\t;\n+    }\n+}"}]}