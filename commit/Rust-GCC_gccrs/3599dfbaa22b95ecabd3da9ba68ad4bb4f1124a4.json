{"sha": "3599dfbaa22b95ecabd3da9ba68ad4bb4f1124a4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzU5OWRmYmFhMjJiOTVlY2FiZDNkYTliYTY4YWQ0YmI0ZjExMjRhNA==", "commit": {"author": {"name": "Andrew Burgess", "email": "andrew.burgess@embecosm.com", "date": "2019-10-16T21:01:25Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2019-10-16T21:01:25Z"}, "message": "RISC-V: Include more registers in SIBCALL_REGS.\n\nThis finishes the part 1 of 2 patch submitted by Andrew Burgess on Aug 19.\nThis adds the argument registers but not t0 (aka x5) to SIBCALL_REGS.  It\nalso adds the missing riscv_regno_to_class change.\n\nTested with cross riscv32-elf and riscv64-linux toolchain build and check.\nThere were no regressions.  I see about a 0.01% code size reduction for the\nC and libstdc++ libraries.\n\n\tgcc/\n\t* config/riscv/riscv.h (REG_CLASS_CONTENTS): Add argument passing\n\tregs to SIBCALL_REGS.\n\t* config/riscv/riscv.c (riscv_regno_to_class): Change argument\n\tpassing regs to SIBCALL_REGS.\n\nCo-Authored-By: Jim Wilson <jimw@sifive.com>\n\nFrom-SVN: r277082", "tree": {"sha": "42d8c7d19e6372a7740e691f200a2dc3d658af37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/42d8c7d19e6372a7740e691f200a2dc3d658af37"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3599dfbaa22b95ecabd3da9ba68ad4bb4f1124a4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3599dfbaa22b95ecabd3da9ba68ad4bb4f1124a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3599dfbaa22b95ecabd3da9ba68ad4bb4f1124a4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3599dfbaa22b95ecabd3da9ba68ad4bb4f1124a4/comments", "author": {"login": "T-J-Teru", "id": 475372, "node_id": "MDQ6VXNlcjQ3NTM3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/T-J-Teru", "html_url": "https://github.com/T-J-Teru", "followers_url": "https://api.github.com/users/T-J-Teru/followers", "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}", "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}", "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions", "organizations_url": "https://api.github.com/users/T-J-Teru/orgs", "repos_url": "https://api.github.com/users/T-J-Teru/repos", "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}", "received_events_url": "https://api.github.com/users/T-J-Teru/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2fcb55d11f4167b966151057c121d0a47914c5c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fcb55d11f4167b966151057c121d0a47914c5c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2fcb55d11f4167b966151057c121d0a47914c5c8"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "5c56e0abfb910732c219f6e61f0903303ee97407", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3599dfbaa22b95ecabd3da9ba68ad4bb4f1124a4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3599dfbaa22b95ecabd3da9ba68ad4bb4f1124a4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3599dfbaa22b95ecabd3da9ba68ad4bb4f1124a4", "patch": "@@ -1,3 +1,11 @@\n+2019-10-16  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\t    Jim Wilson  <jimw@sifive.com>\n+\n+\t* config/riscv/riscv.h (REG_CLASS_CONTENTS): Add argument passing\n+\tregs to SIBCALL_REGS.\n+\t* config/riscv/riscv.c (riscv_regno_to_class): Change argument\n+\tpassing regs to SIBCALL_REGS.\n+\n 2019-10-16  Martin Sebor  <msebor@redhat.com>\n \n \tPR tree-optimization/83821"}, {"sha": "77a3ad94aa8e57fada289eeb3d328bf9784b3104", "filename": "gcc/config/riscv/riscv.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3599dfbaa22b95ecabd3da9ba68ad4bb4f1124a4/gcc%2Fconfig%2Friscv%2Friscv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3599dfbaa22b95ecabd3da9ba68ad4bb4f1124a4/gcc%2Fconfig%2Friscv%2Friscv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Friscv%2Friscv.c?ref=3599dfbaa22b95ecabd3da9ba68ad4bb4f1124a4", "patch": "@@ -256,9 +256,9 @@ enum riscv_microarchitecture_type riscv_microarchitecture;\n const enum reg_class riscv_regno_to_class[FIRST_PSEUDO_REGISTER] = {\n   GR_REGS,\tGR_REGS,\tGR_REGS,\tGR_REGS,\n   GR_REGS,\tGR_REGS,\tSIBCALL_REGS,\tSIBCALL_REGS,\n-  JALR_REGS,\tJALR_REGS,\tJALR_REGS,\tJALR_REGS,\n-  JALR_REGS,\tJALR_REGS,\tJALR_REGS,\tJALR_REGS,\n-  JALR_REGS,\tJALR_REGS, \tJALR_REGS,\tJALR_REGS,\n+  JALR_REGS,\tJALR_REGS,\tSIBCALL_REGS,\tSIBCALL_REGS,\n+  SIBCALL_REGS,\tSIBCALL_REGS,\tSIBCALL_REGS,\tSIBCALL_REGS,\n+  SIBCALL_REGS,\tSIBCALL_REGS,\tJALR_REGS,\tJALR_REGS,\n   JALR_REGS,\tJALR_REGS,\tJALR_REGS,\tJALR_REGS,\n   JALR_REGS,\tJALR_REGS,\tJALR_REGS,\tJALR_REGS,\n   SIBCALL_REGS,\tSIBCALL_REGS,\tSIBCALL_REGS,\tSIBCALL_REGS,"}, {"sha": "246494663f64870a2e09c120660153d1130606b5", "filename": "gcc/config/riscv/riscv.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3599dfbaa22b95ecabd3da9ba68ad4bb4f1124a4/gcc%2Fconfig%2Friscv%2Friscv.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3599dfbaa22b95ecabd3da9ba68ad4bb4f1124a4/gcc%2Fconfig%2Friscv%2Friscv.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Friscv%2Friscv.h?ref=3599dfbaa22b95ecabd3da9ba68ad4bb4f1124a4", "patch": "@@ -400,7 +400,7 @@ enum reg_class\n #define REG_CLASS_CONTENTS\t\t\t\t\t\t\\\n {\t\t\t\t\t\t\t\t\t\\\n   { 0x00000000, 0x00000000, 0x00000000 },\t/* NO_REGS */\t\t\\\n-  { 0xf00000c0, 0x00000000, 0x00000000 },\t/* SIBCALL_REGS */\t\\\n+  { 0xf003fcc0, 0x00000000, 0x00000000 },\t/* SIBCALL_REGS */\t\\\n   { 0xffffffc0, 0x00000000, 0x00000000 },\t/* JALR_REGS */\t\t\\\n   { 0xffffffff, 0x00000000, 0x00000000 },\t/* GR_REGS */\t\t\\\n   { 0x00000000, 0xffffffff, 0x00000000 },\t/* FP_REGS */\t\t\\"}]}