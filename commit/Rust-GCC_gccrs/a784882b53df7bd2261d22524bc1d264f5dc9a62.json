{"sha": "a784882b53df7bd2261d22524bc1d264f5dc9a62", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTc4NDg4MmI1M2RmN2JkMjI2MWQyMjUyNGJjMWQyNjRmNWRjOWE2Mg==", "commit": {"author": {"name": "Richard Earnshaw", "email": "erich@gnu.org", "date": "1994-10-01T10:58:44Z"}, "committer": {"name": "Richard Earnshaw", "email": "erich@gnu.org", "date": "1994-10-01T10:58:44Z"}, "message": "(shadow_label): Emit an error if the label is already\ndeclared at this label scope.\n\nFrom-SVN: r8191", "tree": {"sha": "e72045f9580f85523762244d156df73fc64a89fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e72045f9580f85523762244d156df73fc64a89fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a784882b53df7bd2261d22524bc1d264f5dc9a62", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a784882b53df7bd2261d22524bc1d264f5dc9a62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a784882b53df7bd2261d22524bc1d264f5dc9a62", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a784882b53df7bd2261d22524bc1d264f5dc9a62/comments", "author": null, "committer": null, "parents": [{"sha": "b5eda7762d76faa97e4d54092ad5f1c5c0d64e55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5eda7762d76faa97e4d54092ad5f1c5c0d64e55", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5eda7762d76faa97e4d54092ad5f1c5c0d64e55"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "fa16ad7c4a3ea607d7988e06a4404e8ebe14c94e", "filename": "gcc/c-decl.c", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a784882b53df7bd2261d22524bc1d264f5dc9a62/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a784882b53df7bd2261d22524bc1d264f5dc9a62/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=a784882b53df7bd2261d22524bc1d264f5dc9a62", "patch": "@@ -2440,6 +2440,21 @@ shadow_label (name)\n \n   if (decl != 0)\n     {\n+      register tree dup;\n+\n+      /* Check to make sure that the label hasn't already been declared\n+\t at this label scope */\n+      for (dup = named_labels; dup; dup = TREE_CHAIN (dup))\n+\tif (TREE_VALUE (dup) == decl)\n+\t  {\n+\t    error (\"duplicate label declaration `%s'\", \n+\t\t   IDENTIFIER_POINTER (name));\n+\t    error_with_decl (TREE_VALUE (dup),\n+\t\t\t     \"this is a previous declaration\");\n+\t    /* Just use the previous declaration.  */\n+\t    return lookup_label (name);\n+\t  }\n+\n       shadowed_labels = tree_cons (NULL_TREE, decl, shadowed_labels);\n       IDENTIFIER_LABEL_VALUE (name) = decl = 0;\n     }"}]}