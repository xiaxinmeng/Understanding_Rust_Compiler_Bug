{"sha": "2a611178d5a983c09fe176db336b986cbaa4d8a3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmE2MTExNzhkNWE5ODNjMDlmZTE3NmRiMzM2Yjk4NmNiYWE0ZDhhMw==", "commit": {"author": {"name": "Aditya Kumar", "email": "aditya.k7@samsung.com", "date": "2015-08-24T20:53:51Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2015-08-24T20:53:51Z"}, "message": "Specify the type of scop->region\n\nChanging the type of scop::region from void* to sese, as this is\nthe only type assigned to scop::region for now. No functional changes intended.\nPasses regtest and bootstrap.\n\ngcc/ChangeLog:\n\n2015-08-17  Aditya Kumar  <aditya.k7@samsung.com>\n\n        * graphite-poly.c: Change type of region from void* to sese.\n        * graphite-poly.h (struct scop): Changing the type of scop::region\n\tfrom void* to sese. Change accessor macro accordingly.\n        * graphite-sese-to-poly.c (extract_affine_chrec): Use accessor macro.\n\nFrom-SVN: r227151", "tree": {"sha": "f8791bfa2a9ac668087bc7a4113f4eb5a27ee617", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f8791bfa2a9ac668087bc7a4113f4eb5a27ee617"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2a611178d5a983c09fe176db336b986cbaa4d8a3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a611178d5a983c09fe176db336b986cbaa4d8a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a611178d5a983c09fe176db336b986cbaa4d8a3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a611178d5a983c09fe176db336b986cbaa4d8a3/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9ead801e4deaf9e460b1226ec5f07710e8cb6078", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ead801e4deaf9e460b1226ec5f07710e8cb6078", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ead801e4deaf9e460b1226ec5f07710e8cb6078"}], "stats": {"total": 19, "additions": 13, "deletions": 6}, "files": [{"sha": "84679e6499fbd73ccbb528aa02becdb2a04a72b5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a611178d5a983c09fe176db336b986cbaa4d8a3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a611178d5a983c09fe176db336b986cbaa4d8a3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2a611178d5a983c09fe176db336b986cbaa4d8a3", "patch": "@@ -1,3 +1,10 @@\n+2015-08-24  Aditya Kumar  <aditya.k7@samsung.com>\n+\n+\t* graphite-poly.c: Change type of region from void* to sese.\n+\t* graphite-poly.h (struct scop): Changing the type of scop::region\n+\tfrom void* to sese. Change accessor macro accordingly.\n+\t* graphite-sese-to-poly.c (extract_affine_chrec): Use accessor macro.\n+\n 2015-08-24  Aditya Kumar  <aditya.k7@samsung.com>\n \n \t* graphite-scop-detection.c (stmt_simple_for_scop_p):"}, {"sha": "78b5d121fa2536ce91c37b7525bd80563b040f20", "filename": "gcc/graphite-poly.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a611178d5a983c09fe176db336b986cbaa4d8a3/gcc%2Fgraphite-poly.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a611178d5a983c09fe176db336b986cbaa4d8a3/gcc%2Fgraphite-poly.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-poly.c?ref=2a611178d5a983c09fe176db336b986cbaa4d8a3", "patch": "@@ -422,7 +422,7 @@ debug_pdr (poly_dr_p pdr, int verbosity)\n /* Creates a new SCOP containing REGION.  */\n \n scop_p\n-new_scop (void *region)\n+new_scop (sese region)\n {\n   scop_p scop = XNEW (struct scop);\n "}, {"sha": "4ca5d1f8694e2647dd97123febf6d07dc3894df4", "filename": "gcc/graphite-poly.h", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a611178d5a983c09fe176db336b986cbaa4d8a3/gcc%2Fgraphite-poly.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a611178d5a983c09fe176db336b986cbaa4d8a3/gcc%2Fgraphite-poly.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-poly.h?ref=2a611178d5a983c09fe176db336b986cbaa4d8a3", "patch": "@@ -1345,7 +1345,7 @@ lst_remove_all_before_excluding_pbb (lst_p loop, poly_bb_p pbb, bool before)\n struct scop\n {\n   /* A SCOP is defined as a SESE region.  */\n-  void *region;\n+  sese region;\n \n   /* Number of parameters in SCoP.  */\n   graphite_dim_t nb_params;\n@@ -1390,14 +1390,14 @@ struct scop\n };\n \n #define SCOP_BBS(S) (S->bbs)\n-#define SCOP_REGION(S) ((sese) S->region)\n+#define SCOP_REGION(S) (S->region)\n #define SCOP_CONTEXT(S) (NULL)\n #define SCOP_ORIGINAL_SCHEDULE(S) (S->original_schedule)\n #define SCOP_TRANSFORMED_SCHEDULE(S) (S->transformed_schedule)\n #define SCOP_SAVED_SCHEDULE(S) (S->saved_schedule)\n #define POLY_SCOP_P(S) (S->poly_scop_p)\n \n-extern scop_p new_scop (void *);\n+extern scop_p new_scop (sese);\n extern void free_scop (scop_p);\n extern void free_scops (vec<scop_p> );\n extern void print_generated_program (FILE *, scop_p);\n@@ -1414,7 +1414,7 @@ extern bool graphite_legal_transform (scop_p);\n /* Set the region of SCOP to REGION.  */\n \n static inline void\n-scop_set_region (scop_p scop, void *region)\n+scop_set_region (scop_p scop, sese region)\n {\n   scop->region = region;\n }"}, {"sha": "0c97eba51902bfcf2eacf256fdb4253087f78818", "filename": "gcc/graphite-sese-to-poly.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a611178d5a983c09fe176db336b986cbaa4d8a3/gcc%2Fgraphite-sese-to-poly.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a611178d5a983c09fe176db336b986cbaa4d8a3/gcc%2Fgraphite-sese-to-poly.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-sese-to-poly.c?ref=2a611178d5a983c09fe176db336b986cbaa4d8a3", "patch": "@@ -604,7 +604,7 @@ extract_affine_chrec (scop_p s, tree e, __isl_take isl_space *space)\n   isl_pw_aff *lhs = extract_affine (s, CHREC_LEFT (e), isl_space_copy (space));\n   isl_pw_aff *rhs = extract_affine (s, CHREC_RIGHT (e), isl_space_copy (space));\n   isl_local_space *ls = isl_local_space_from_space (space);\n-  unsigned pos = sese_loop_depth ((sese) s->region, get_chrec_loop (e)) - 1;\n+  unsigned pos = sese_loop_depth (SCOP_REGION (s), get_chrec_loop (e)) - 1;\n   isl_aff *loop = isl_aff_set_coefficient_si\n     (isl_aff_zero_on_domain (ls), isl_dim_in, pos, 1);\n   isl_pw_aff *l = isl_pw_aff_from_aff (loop);"}]}