{"sha": "73cb28d7d09c925b39ee120308f5a3db3e0f9b30", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzNjYjI4ZDdkMDljOTI1YjM5ZWUxMjAzMDhmNWEzZGIzZTBmOWIzMA==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@the-meissners.org", "date": "2011-12-02T17:18:51Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2011-12-02T17:18:51Z"}, "message": "re PR target/51390 (Builtin changes on November 29th, broke recip-5.c)\n\nPR 51390\n\nFrom-SVN: r181930", "tree": {"sha": "9da8f9185f3e5ea4e85eaf154940deec0fbb3667", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9da8f9185f3e5ea4e85eaf154940deec0fbb3667"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/73cb28d7d09c925b39ee120308f5a3db3e0f9b30", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73cb28d7d09c925b39ee120308f5a3db3e0f9b30", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73cb28d7d09c925b39ee120308f5a3db3e0f9b30", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73cb28d7d09c925b39ee120308f5a3db3e0f9b30/comments", "author": null, "committer": null, "parents": [{"sha": "5f2e30efbeb6f361e414de35e7ae9ec5165ff009", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f2e30efbeb6f361e414de35e7ae9ec5165ff009", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f2e30efbeb6f361e414de35e7ae9ec5165ff009"}], "stats": {"total": 15, "additions": 10, "deletions": 5}, "files": [{"sha": "d44c0366e6b243f9926fc2f085fda068ebf4b628", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73cb28d7d09c925b39ee120308f5a3db3e0f9b30/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73cb28d7d09c925b39ee120308f5a3db3e0f9b30/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=73cb28d7d09c925b39ee120308f5a3db3e0f9b30", "patch": "@@ -1,3 +1,11 @@\n+2011-12-02  Michael Meissner  <meissner@the-meissners.org>\n+\n+\tPR target/51390\n+\t* config/rs6000/rs6000.c (def_builtin): Use the correct field to\n+\tfigure out the function's attributes.\n+\t(struct builtin_description): Mark mask field as const since we no\n+\tlonger need to modify it for SPE and PAIRED builtins.\n+\n 2011-12-02  Joseph Myers  <joseph@codesourcery.com>\n \n \tRevert:"}, {"sha": "4c6d64242a8d6266ea5b929c4e18d838deebd896", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73cb28d7d09c925b39ee120308f5a3db3e0f9b30/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73cb28d7d09c925b39ee120308f5a3db3e0f9b30/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=73cb28d7d09c925b39ee120308f5a3db3e0f9b30", "patch": "@@ -215,10 +215,7 @@ static GTY(()) section *toc_section;\n \n struct builtin_description\n {\n-  /* mask is not const because we're going to alter it below.  This\n-     nonsense will go away when we rewrite the -march infrastructure\n-     to give us more target flag bits.  */\n-  unsigned int mask;\n+  const unsigned int mask;\n   const enum insn_code icode;\n   const char *const name;\n   const enum rs6000_builtins code;\n@@ -9394,7 +9391,7 @@ static void\n def_builtin (const char *name, tree type, enum rs6000_builtins code)\n {\n   tree t;\n-  unsigned classify = rs6000_builtin_info[(int)code].mask;\n+  unsigned classify = rs6000_builtin_info[(int)code].attr;\n   const char *attr_string = \"\";\n \n   gcc_assert (name != NULL);"}]}