{"sha": "634c5bcafabedcd635e64e224973681ad2afc7b9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjM0YzViY2FmYWJlZGNkNjM1ZTY0ZTIyNDk3MzY4MWFkMmFmYzdiOQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2019-12-17T15:57:25Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2019-12-17T15:57:25Z"}, "message": "symtab.c (symtab_node::get_partitioning_class): Aliases of external symbols are external.\n\n\t* symtab.c (symtab_node::get_partitioning_class): Aliases of external\n\tsymbols are external.\n\nFrom-SVN: r279464", "tree": {"sha": "c2ca5712a829520daf1a99dc5c1988e2495ccb7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c2ca5712a829520daf1a99dc5c1988e2495ccb7b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/634c5bcafabedcd635e64e224973681ad2afc7b9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/634c5bcafabedcd635e64e224973681ad2afc7b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/634c5bcafabedcd635e64e224973681ad2afc7b9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/634c5bcafabedcd635e64e224973681ad2afc7b9/comments", "author": null, "committer": null, "parents": [{"sha": "e24f6408df1e4c5e8c09785d7b488c492dfb68b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e24f6408df1e4c5e8c09785d7b488c492dfb68b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e24f6408df1e4c5e8c09785d7b488c492dfb68b3"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "e5702ae06124a6ed5da7d3b057d9c7a6d0d8d0fa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/634c5bcafabedcd635e64e224973681ad2afc7b9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/634c5bcafabedcd635e64e224973681ad2afc7b9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=634c5bcafabedcd635e64e224973681ad2afc7b9", "patch": "@@ -1,3 +1,8 @@\n+2019-12-17  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* symtab.c (symtab_node::get_partitioning_class): Aliases of external\n+\tsymbols are external.\n+\n 2019-12-17  Christophe Lyon  <christophe.lyon@linaro.org>\n \n \t* config/arm/arm-protos.h (thumb1_gen_const_int): Add new prototype."}, {"sha": "10b8ed1d178baa2cd0a93f12362fe85578b3e619", "filename": "gcc/symtab.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/634c5bcafabedcd635e64e224973681ad2afc7b9/gcc%2Fsymtab.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/634c5bcafabedcd635e64e224973681ad2afc7b9/gcc%2Fsymtab.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsymtab.c?ref=634c5bcafabedcd635e64e224973681ad2afc7b9", "patch": "@@ -1952,6 +1952,11 @@ symtab_node::get_partitioning_class (void)\n   if (DECL_EXTERNAL (decl))\n     return SYMBOL_EXTERNAL;\n \n+  /* Even static aliases of external functions as external.  Those can happen\n+     when COMDAT got resolved to non-IL implementation.  */\n+  if (alias && DECL_EXTERNAL (ultimate_alias_target ()->decl))\n+    return SYMBOL_EXTERNAL;\n+\n   if (varpool_node *vnode = dyn_cast <varpool_node *> (this))\n     {\n       if (alias && definition && !ultimate_alias_target ()->definition)"}]}