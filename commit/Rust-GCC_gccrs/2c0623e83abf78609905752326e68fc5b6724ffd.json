{"sha": "2c0623e83abf78609905752326e68fc5b6724ffd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmMwNjIzZTgzYWJmNzg2MDk5MDU3NTIzMjZlNjhmYzViNjcyNGZmZA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-03-30T20:34:11Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-03-30T20:34:11Z"}, "message": "(form_sum): Use mode of inputs when making new PLUS.\n\nFrom-SVN: r3928", "tree": {"sha": "454b54193c5c9af6750bcc75b294377a9ff5d6be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/454b54193c5c9af6750bcc75b294377a9ff5d6be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2c0623e83abf78609905752326e68fc5b6724ffd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c0623e83abf78609905752326e68fc5b6724ffd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c0623e83abf78609905752326e68fc5b6724ffd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c0623e83abf78609905752326e68fc5b6724ffd/comments", "author": null, "committer": null, "parents": [{"sha": "118bdbf8fa2e169eea9824b321291ad68139d0e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/118bdbf8fa2e169eea9824b321291ad68139d0e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/118bdbf8fa2e169eea9824b321291ad68139d0e0"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "2053591b1a2f56b5605a22ad2ac5a275131c672b", "filename": "gcc/reload.c", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c0623e83abf78609905752326e68fc5b6724ffd/gcc%2Freload.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c0623e83abf78609905752326e68fc5b6724ffd/gcc%2Freload.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload.c?ref=2c0623e83abf78609905752326e68fc5b6724ffd", "patch": "@@ -4138,6 +4138,13 @@ form_sum (x, y)\n      rtx x, y;\n {\n   rtx tem;\n+  enum machine_mode mode = GET_MODE (x);\n+\n+  if (mode == VOIDmode)\n+    mode = GET_MODE (y);\n+\n+  if (mode == VOIDmode)\n+    mode = Pmode;\n \n   if (GET_CODE (x) == CONST_INT)\n     return plus_constant (y, INTVAL (x));\n@@ -4163,10 +4170,10 @@ form_sum (x, y)\n       if (GET_CODE (y) == CONST)\n \ty = XEXP (y, 0);\n \n-      return gen_rtx (CONST, VOIDmode, gen_rtx (PLUS, Pmode, x, y));\n+      return gen_rtx (CONST, VOIDmode, gen_rtx (PLUS, mode, x, y));\n     }\n \n-  return gen_rtx (PLUS, Pmode, x, y);\n+  return gen_rtx (PLUS, mode, x, y);\n }\n \f\n /* If ADDR is a sum containing a pseudo register that should be"}]}