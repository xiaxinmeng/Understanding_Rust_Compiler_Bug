{"sha": "4d6efa25acb70ad2de63e3dd567786ecd7739c67", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGQ2ZWZhMjVhY2I3MGFkMmRlNjNlM2RkNTY3Nzg2ZWNkNzczOWM2Nw==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1997-11-07T03:37:39Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1997-11-07T03:37:39Z"}, "message": "decl2.c (finish_file): Remove redundant code.\n\n\t* decl2.c (finish_file): Remove redundant code.\n\t* method.c (emit_thunk): Don't let the backend defer generic thunks.\n\nFrom-SVN: r16353", "tree": {"sha": "70eecbf6db02538bf39b7016c511abd7d190b06e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/70eecbf6db02538bf39b7016c511abd7d190b06e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4d6efa25acb70ad2de63e3dd567786ecd7739c67", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d6efa25acb70ad2de63e3dd567786ecd7739c67", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d6efa25acb70ad2de63e3dd567786ecd7739c67", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d6efa25acb70ad2de63e3dd567786ecd7739c67/comments", "author": null, "committer": null, "parents": [{"sha": "55e0182bdb5f11c5277a05aca2fc33775e7faee4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55e0182bdb5f11c5277a05aca2fc33775e7faee4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55e0182bdb5f11c5277a05aca2fc33775e7faee4"}], "stats": {"total": 18, "additions": 12, "deletions": 6}, "files": [{"sha": "8ae7e39e13917142a76befeadf9b03cc029b4c74", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d6efa25acb70ad2de63e3dd567786ecd7739c67/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d6efa25acb70ad2de63e3dd567786ecd7739c67/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=4d6efa25acb70ad2de63e3dd567786ecd7739c67", "patch": "@@ -1,3 +1,8 @@\n+Thu Nov  6 11:28:14 1997  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* decl2.c (finish_file): Remove redundant code.\n+\t* method.c (emit_thunk): Don't let the backend defer generic thunks.\n+\n Wed Nov  5 23:52:50 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* except.c (call_eh_info): Split out..."}, {"sha": "2ca75dbbd9b00ae39f2fbca04cf94c50e0730c81", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d6efa25acb70ad2de63e3dd567786ecd7739c67/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d6efa25acb70ad2de63e3dd567786ecd7739c67/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=4d6efa25acb70ad2de63e3dd567786ecd7739c67", "patch": "@@ -3260,12 +3260,6 @@ finish_file ()\n \t\t  {\n \t\t    DECL_EXTERNAL (decl) = 0;\n \t\t    reconsider = 1;\n-\t\t    /* We can't inline this function after it's been\n-                       emitted, so just disable inlining.  We want a\n-                       variant of output_inline_function that doesn't\n-                       prevent subsequent integration...  */\n-\t\t    flag_no_inline = 1;\n-\t\t    temporary_allocation ();\n \t\t    output_inline_function (decl);\n \t\t    permanent_allocation (1);\n \t\t  }"}, {"sha": "0e407fe1ab8c88ab1432490baedcec2b3e8c009d", "filename": "gcc/cp/method.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d6efa25acb70ad2de63e3dd567786ecd7739c67/gcc%2Fcp%2Fmethod.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d6efa25acb70ad2de63e3dd567786ecd7739c67/gcc%2Fcp%2Fmethod.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fmethod.c?ref=4d6efa25acb70ad2de63e3dd567786ecd7739c67", "patch": "@@ -1927,6 +1927,13 @@ emit_thunk (thunk_fndecl)\n     c_expand_return (t);\n \n     finish_function (lineno, 0, 0);\n+\n+    /* Don't let the backend defer this function.  */\n+    if (DECL_DEFER_OUTPUT (thunk_fndecl))\n+      {\n+\toutput_inline_function (thunk_fndecl);\n+\tpermanent_allocation (1);\n+      }\n #endif /* ASM_OUTPUT_MI_THUNK */\n   }\n "}]}