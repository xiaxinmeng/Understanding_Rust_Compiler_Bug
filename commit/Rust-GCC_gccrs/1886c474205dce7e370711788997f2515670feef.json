{"sha": "1886c474205dce7e370711788997f2515670feef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTg4NmM0NzQyMDVkY2U3ZTM3MDcxMTc4ODk5N2YyNTE1NjcwZmVlZg==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2002-12-01T05:43:14Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2002-12-01T05:43:14Z"}, "message": "i\t* configure.in: Don't put ${tm_file} into host_xm_file,\n\n\tbuild_xm_file, or xm_file.  Do put tm-preds.h into tm_p_file.\n\tTake location of tm-preds.h into account when calculating\n\ttm_p_file_list.\n\t* configure: Regenerate.\n\t* mkconfig.sh: No need for separate TM_DEFINES and XM_DEFINES\n\targuments.  Do not provide rtx, rtvec, tree, or GTY here.\n\tRemove special case code for tm_p.h and *config.h; add new\n\tspecial case code for tm.h and tconfig.h. Clean up a bit.\n\n\t* Makefile.in (tm_file, tm_file_list): New variables set from\n\t@-substitutions.\n\t(GCONFIG_H): Deleted.\n\t(GTM_H, TM_H): New.\n\t(CONFIG_H): Is now just config.h $(host_xm_file_list).\n\t(TM_P_H): Move up with the other mkconfig.sh-generated\n\theaders; don't mention tm-preds.h explicitly.\n\t(tm.h, cs-tm.h): New rule.\n\t(cs-config.h, cs-hconfig.h, cs-tconfig.h, cs-tm_p.h): Adjust\n\tinvocations of mkconfig.sh for changes to that program.\n\t(mostlyclean): Delete print-rtl1.c.\n\t(clean): Delete tm.h.\n\t* Makefile.in, ada/Make-lang.in, cp/Make-lang.in,\n\tf/Make-lang.in, java/Make-lang.in, objc/Make-lang.in,\n\ttreelang/Make-lang.in: Update dependencies for the files\n\tlisted below.\n\t* mklibgcc.in:  Add 'coretypes.h $(TM_H)' to libgcc2_c_dep.\n\n\t* coretypes.h: New file.\n\t* system.h: #define malloc to xmalloc and realloc to xrealloc\n\twhen FLEX_SCANNER or YYBISON is defined, independent of the\n\tvalue of GCC_VERSION.\n\t* alias.c, attribs.c, bb-reorder.c, bitmap.c, builtins.c,\n\tc-aux-info.c, c-common.c, c-convert.c, c-decl.c, c-dump.c,\n\tc-errors.c, c-format.c, c-lang.c, c-lex.c, c-objc-common.c,\n\tc-opts.c, c-parse.in, c-pragma.c, c-pretty-print.c,\n\tc-semantics.c, c-typeck.c, caller-save.c, calls.c, cfg.c,\n\tcfganal.c, cfgbuild.c, cfgcleanup.c, cfglayout.c, cfgloop.c,\n\tcfgrtl.c, collect2.c, combine.c, conflict.c, convert.c,\n\tcppdefault.c, cpperror.c, cppexp.c, cppfiles.c, cpphash.c,\n\tcppinit.c, cpplex.c, cpplib.c, cppmacro.c, cppmain.c,\n\tcppspec.c, cpptrad.c, crtstuff.c, cse.c, cselib.c, dbxout.c,\n\tdebug.c, df.c, diagnostic.c, doloop.c, dominance.c,\n\tdummy-conditions.c, dwarf2asm.c, dwarf2out.c, dwarfout.c,\n\temit-rtl.c, errors.c, et-forest.c, except.c, explow.c,\n\texpmed.c, expr.c, final.c, fix-header.c, flow.c, fold-const.c,\n\tfunction.c, gcc.c, gccspec.c, gcov-dump.c, gcov-iov.c, gcov.c,\n\tgcse.c, gen-protos.c, genattr.c, genattrtab.c, genautomata.c,\n\tgencheck.c, gencodes.c, genconditions.c, genconfig.c,\n\tgenconstants.c, genemit.c, genextract.c, genflags.c,\n\tgengenrtl.c, gengtype-lex.l, gengtype-yacc.y, gengtype.c,\n\tgenopinit.c, genoutput.c, genpeep.c, genpreds.c, genrecog.c,\n\tgensupport.c, ggc-common.c, ggc-none.c, ggc-page.c,\n\tggc-simple.c, global.c, graph.c, haifa-sched.c, hashtable.c,\n\thooks.c, ifcvt.c, integrate.c, intl.c, jump.c, langhooks.c,\n\tlcm.c, libgcc2.c, line-map.c, lists.c, local-alloc.c, loop.c,\n\tmain.c, mbchar.c, mips-tdump.c, mips-tfile.c, mkdeps.c,\n\toptabs.c, params.c, predict.c, prefix.c, print-rtl.c,\n\tprint-tree.c, profile.c, protoize.c, ra-build.c,\n\tra-colorize.c, ra-debug.c, ra-rewrite.c, ra.c, read-rtl.c,\n\treal.c, recog.c, reg-stack.c, regclass.c, regmove.c,\n\tregrename.c, reload.c, reload1.c, reorg.c, resource.c,\n\trtl-error.c, rtl.c, rtlanal.c, sbitmap.c, scan-decls.c,\n\tscan.c, sched-deps.c, sched-ebb.c, sched-rgn.c, sched-vis.c,\n\tsdbout.c, sibcall.c, simplify-rtx.c, ssa-ccp.c, ssa-dce.c,\n\tssa.c, stmt.c, stor-layout.c, stringpool.c, timevar.c,\n\ttlink.c, toplev.c, tracer.c, tree-dump.c, tree-inline.c,\n\ttree.c, unroll.c, varasm.c, varray.c, varray.h, vmsdbgout.c,\n\txcoffout.c, config/darwin-c.c, config/darwin.c,\n\tconfig/fp-bit.c, config/alpha/alpha.c, config/alpha/vms-cc.c,\n\tconfig/alpha/vms-ld.c, config/arc/arc.c, config/arm/arm.c,\n\tconfig/arm/pe.c, config/avr/avr.c, config/c4x/c4x-c.c,\n\tconfig/c4x/c4x.c, config/cris/cris.c, config/d30v/d30v.c,\n\tconfig/dsp16xx/dsp16xx.c, config/fr30/fr30.c,\n\tconfig/frv/frv.c, config/h8300/h8300.c, config/i370/i370-c.c,\n\tconfig/i370/i370.c, config/i386/i386.c, config/i386/winnt.c,\n\tconfig/i960/i960-c.c, config/i960/i960.c,\n\tconfig/ia64/ia64-c.c, config/ia64/ia64.c, config/ip2k/ip2k.c,\n\tconfig/m32r/m32r.c, config/m68hc11/m68hc11.c,\n\tconfig/m68k/m68k.c, config/m88k/m88k.c, config/mcore/mcore.c,\n\tconfig/mips/irix6-libc-compat.c, config/mips/mips.c,\n\tconfig/mmix/mmix.c, config/mn10200/mn10200.c,\n\tconfig/mn10300/mn10300.c, config/ns32k/ns32k.c,\n\tconfig/pa/pa.c, config/pdp11/pdp11.c, config/romp/romp.c,\n\tconfig/rs6000/rs6000-c.c, config/rs6000/rs6000.c,\n\tconfig/s390/s390.c, config/sh/sh.c, config/sparc/gmon-sol2.c,\n\tconfig/sparc/sparc.c, config/stormy16/stormy16.c,\n\tconfig/v850/v850-c.c, config/v850/v850.c, config/vax/vax.c,\n\tconfig/xtensa/xtensa.c, objc/objc-act.c, objc/objc-lang.c:\n\tInclude coretypes.h and tm.h.\n\n\t* genattrtab.c, genconditions.c, genemit.c, genextract.c,\n\tgengenrtl.c, gengtype.c, genopinit.c, genoutput.c, genpeep.c,\n\tgenrecog.c: Include coretypes.h and tm.h from the file\n\tgenerated by this program.\n\n\t* unwind-dw2-fde-darwin.c, unwind-dw2-fde-glibc.c,\n\tunwind-dw2-fde.c, unwind-dw2.c, unwind-sjlj.c: Include\n\tcoretypes.h and tm.h, and tsystem.h when not already included.\n\tNo need to include stddef.h nor stdlib.h.\n\n\t* ada/cuintp.c, ada/decl.c, ada/deftarg.c, ada/misc.c,\n\tada/targtyps.c, ada/trans.c, ada/utils.c, ada/utils2.c:\n\tInclude coretypes.h and tm.h, and system.h when not already\n\tincluded.\n\n\t* cp/call.c, cp/class.c, cp/cp-lang.c, cp/cvt.c, cp/cxxfilt.c,\n\tcp/decl.c, cp/decl2.c, cp/dump.c, cp/error.c, cp/except.c,\n\tcp/expr.c, cp/friend.c, cp/g++spec.c, cp/init.c, cp/lex.c,\n\tcp/mangle.c, cp/method.c, cp/optimize.c, cp/parse.y, cp/pt.c,\n\tcp/ptree.c, cp/repo.c, cp/rtti.c, cp/search.c, cp/semantics.c,\n\tcp/spew.c, cp/tree.c, cp/typeck.c, cp/typeck2.c:\n\tInclude coretypes.h and tm.h.\n\n\t* f/proj.h, f/ansify.c, f/g77spec.c, f/intdoc.c:\n\tInclude coretypes.h and tm.h.\n\n\t* fixinc/fixlib.h: Include coretypes.h and tm.h.  Do not\n\tinclude auto-host.h or ansidecl.h/\n\t* fixinc/server.h: Do not include stdio.h, unistd.h, or fixlib.h.\n\t* fixinc/procopen.c: Include server.h after fixlib.h.  Do not\n\tinclude auto-host.h, ansidecl.h, or system.h.\n\t* fixinc/server.c: Likewise.  Also, do not include signal.h,\n\tand do not redefine volatile.\n\n\t* java/boehm.c, java/buffer.c, java/builtins.c,\n\tjava/check-init.c, java/class.c, java/constants.c,\n\tjava/decl.c, java/except.c, java/expr.c, java/gjavah.c,\n\tjava/jcf-depend.c, java/jcf-dump.c, java/jcf-io.c,\n\tjava/jcf-parse.c, java/jcf-path.c, java/jcf-write.c,\n\tjava/jv-scan.c, java/jvgenmain.c, java/jvspec.c, java/lang.c,\n\tjava/mangle.c, java/mangle_name.c, java/parse-scan.y,\n\tjava/parse.y, java/typeck.c, java/verify.c, java/xref.c,\n\tjava/zextract.c: Include coretypes.h and tm.h.\n\n\t* treelang/lex.l: Move \"%{\" below copyright notice; get rid of\n\t\"/*\" embedded in comment.  Do not #undef IN_GCC; do not\n\tinclude stdio.h, memory.h, or ansidecl.h; do not include\n\tconfig.h twice.  Do include coretypes.h and tm.h.\n\t* treelang/parse.y: Do not #undef IN_GCC, provide bogus\n\tdefinitions of tree and rtx typedefs, or include stdio.h,\n\tstdlib.h, string.h, or ansidecl.h. Do include coretypes.h and\n\ttm.h.\n\t* treelang/tree1.c: Do not include ansidecl.h, stdlib.h,\n\tunistd.h, ctype.h, stdarg.h, string.h, or stdio.h.  Do include\n\tcoretypes.h and tm.h.\n\t* treelang/treetree.c: Do not include stdlib.h, unistd.h,\n\tsafe-ctype.h, errno.h. stdarg.h, limits.h, string.h, fcntl.h,\n\tgetopt.h. stdio.h, or ansidecl.h.  Do include coretypes.h and\n\ttm.h.\n\n[[Split portion of a mixed commit.]]\n\nFrom-SVN: r59673.2", "tree": {"sha": "530588593427e7f3a1b8daee9520a710ff27a41b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/530588593427e7f3a1b8daee9520a710ff27a41b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1886c474205dce7e370711788997f2515670feef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1886c474205dce7e370711788997f2515670feef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1886c474205dce7e370711788997f2515670feef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1886c474205dce7e370711788997f2515670feef/comments", "author": null, "committer": null, "parents": [{"sha": "328de7c2f1018e5553f48760aa0b89bbc28d4c8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/328de7c2f1018e5553f48760aa0b89bbc28d4c8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/328de7c2f1018e5553f48760aa0b89bbc28d4c8b"}], "stats": {"total": 63, "additions": 61, "deletions": 2}, "files": [{"sha": "985c1cfd65b04608eddd3f2daec9fec1eaf843a1", "filename": "gcc/coretypes.h", "status": "added", "additions": 58, "deletions": 0, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1886c474205dce7e370711788997f2515670feef/gcc%2Fcoretypes.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1886c474205dce7e370711788997f2515670feef/gcc%2Fcoretypes.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcoretypes.h?ref=1886c474205dce7e370711788997f2515670feef", "patch": "@@ -0,0 +1,58 @@\n+/* GCC core type declarations.\n+   Copyright (C) 2002 Free Software Foundation, Inc.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify it under\n+the terms of the GNU General Public License as published by the Free\n+Software Foundation; either version 2, or (at your option) any later\n+version.\n+\n+GCC is distributed in the hope that it will be useful, but WITHOUT ANY\n+WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING.  If not, write to the Free\n+Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n+02111-1307, USA.  */\n+\n+/* Provide forward declarations of core types which are referred to by\n+   most of the compiler.  This allows header files to use these types\n+   (e.g. in function prototypes) without concern for whether the full\n+   definitions are visible.  Some other declarations that need to be\n+   universally visible are here, too.\n+\n+   In the context of tconfig.h, most of these have special definitions\n+   which prevent them from being used except in further type\n+   declarations.  This is a kludge; the right thing is to avoid\n+   including the \"tm.h\" header set in the context of tconfig.h, but\n+   we're not there yet.  */\n+\n+#ifndef GCC_CORETYPES_H\n+#define GCC_CORETYPES_H\n+\n+#define GTY(x)  /* nothing - marker for gengtype */\n+\n+#ifndef USED_FOR_TARGET\n+\n+struct rtx_def;\n+typedef struct rtx_def *rtx;\n+struct rtvec_def;\n+typedef struct rtvec_def *rtvec;\n+union tree_node;\n+typedef union tree_node *tree;\n+\n+#else\n+\n+struct _dont_use_rtx_here_;\n+struct _dont_use_rtvec_here_;\n+union _dont_use_tree_here_;\n+#define rtx struct _dont_use_rtx_here_ *\n+#define rtvec struct _dont_use_rtvec_here *\n+#define tree union _dont_use_tree_here_ *\n+\n+#endif\n+\n+#endif /* coretypes.h */"}, {"sha": "d7350e55f5347a8f03bd1e2c1f095594aa5aebe7", "filename": "gcc/unwind-dw2-fde-darwin.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1886c474205dce7e370711788997f2515670feef/gcc%2Funwind-dw2-fde-darwin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1886c474205dce7e370711788997f2515670feef/gcc%2Funwind-dw2-fde-darwin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funwind-dw2-fde-darwin.c?ref=1886c474205dce7e370711788997f2515670feef", "patch": "@@ -27,8 +27,9 @@\n /* Locate the FDE entry for a given address, using Darwin's keymgr support.  */\n \n #include \"tconfig.h\"\n-#include <string.h>\n-#include <stdlib.h>\n+#include \"tsystem.h\"\n+#include \"coretypes.h\"\n+#include \"tm.h\"\n #include \"dwarf2.h\"\n #include \"unwind.h\"\n #define NO_BASE_OF_ENCODED_VALUE"}]}