{"sha": "9ddb384381f34ef13cf665266a86687f63a9f29d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWRkYjM4NDM4MWYzNGVmMTNjZjY2NTI2NmE4NjY4N2Y2M2E5ZjI5ZA==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2015-03-28T14:25:29Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2015-03-28T14:25:29Z"}, "message": "re PR fortran/65596 (NAMELIST bug with f2003: reads too far)\n\n2015-03-28 Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libgfortran/65596\n\t* gfortran.dg/namelist_86.f90: New test.\n\nFrom-SVN: r221756", "tree": {"sha": "c45fb630d394b9593ae104a0d50733604eeb08c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c45fb630d394b9593ae104a0d50733604eeb08c4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9ddb384381f34ef13cf665266a86687f63a9f29d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ddb384381f34ef13cf665266a86687f63a9f29d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ddb384381f34ef13cf665266a86687f63a9f29d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ddb384381f34ef13cf665266a86687f63a9f29d/comments", "author": null, "committer": null, "parents": [{"sha": "d520fea881d6d6dc2b57e126651ec4711a3d0faa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d520fea881d6d6dc2b57e126651ec4711a3d0faa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d520fea881d6d6dc2b57e126651ec4711a3d0faa"}], "stats": {"total": 54, "additions": 54, "deletions": 0}, "files": [{"sha": "8f489ee335433b8193548106b654ebd5cc9026a6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ddb384381f34ef13cf665266a86687f63a9f29d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ddb384381f34ef13cf665266a86687f63a9f29d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9ddb384381f34ef13cf665266a86687f63a9f29d", "patch": "@@ -1,3 +1,8 @@\n+2015-03-28 Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libgfortran/65596\n+\t* gfortran.dg/namelist_86.f90: New test.\n+\n 2015-03-28  Andre Vehreschild  <vehre@gmx.de>\n \n \t* gfortran.dg/unlimited_polymorphic_24.f03: Fixing copyright"}, {"sha": "88d90d2cf9ff27c4fcba13d953e7931503469e9e", "filename": "gcc/testsuite/gfortran.dg/namelist_86.f90", "status": "added", "additions": 49, "deletions": 0, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ddb384381f34ef13cf665266a86687f63a9f29d/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_86.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ddb384381f34ef13cf665266a86687f63a9f29d/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_86.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_86.f90?ref=9ddb384381f34ef13cf665266a86687f63a9f29d", "patch": "@@ -0,0 +1,49 @@\n+! { dg-do run }\n+! { dg-options \"-std=f2003 -fall-intrinsics\" }\n+! PR65596 Namelist reads too far.\n+integer ,parameter :: CL=80\n+integer ,parameter :: AL=4\n+\n+character(CL) :: mode\n+character(CL) :: cats(AL)\n+character(CL) :: dogs(AL)\n+character(CL) :: rslt(AL)\n+integer       :: ierr, k\n+\n+namelist / theList / cats, dogs, mode\n+\n+open(27,status=\"scratch\")\n+\n+write(27,'(A)')  \"&theList\"\n+write(27,'(A)')  \" mode      = 'on'\"\n+write(27,'(A)')  \" dogs      = 'Rover',\"\n+write(27,'(A)')  \"             'Spot'\"\n+write(27,'(A)')  \" cats      = 'Fluffy',\"\n+write(27,'(A)')  \"             'Hairball'\"\n+write(27,'(A)') \"/\"\n+rewind(27)\n+\n+mode    = 'off'\n+cats(:) = '________'\n+dogs(:) = '________'\n+\n+read (27, nml=theList, iostat=ierr)\n+\n+if (ierr .ne. 0) call abort\n+\n+rslt = ['Rover   ','Spot    ','________','________']\n+if (any(dogs.ne.rslt)) call abort\n+\n+rslt = ['Fluffy  ','Hairball','________','________']\n+if (any(cats.ne.rslt)) call abort\n+\n+close(27)\n+\n+contains\n+\n+subroutine abort()\n+  close(27)\n+  stop 500\n+end subroutine abort\n+\n+end"}]}