{"sha": "79e9ebdc7db0be1cd866c3ab3d219053b46835d8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzllOWViZGM3ZGIwYmUxY2Q4NjZjM2FiM2QyMTkwNTNiNDY4MzVkOA==", "commit": {"author": {"name": "Bob Wilson", "email": "bob.wilson@acm.org", "date": "2004-03-18T18:13:20Z"}, "committer": {"name": "Bob Wilson", "email": "bwilson@gcc.gnu.org", "date": "2004-03-18T18:13:20Z"}, "message": "xtensa.c (current_function_arg_words): Delete.\n\n\t* config/xtensa/xtensa.c (current_function_arg_words): Delete.\n\t(xtensa_builtin_saveregs): Use current_function_args_info.arg_words.\n\t(xtensa_va_start): Remove assignment to current_function_arg_words.\n\nFrom-SVN: r79632", "tree": {"sha": "589c08da5e20ce3aa785e399b5cecf193b676580", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/589c08da5e20ce3aa785e399b5cecf193b676580"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/79e9ebdc7db0be1cd866c3ab3d219053b46835d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79e9ebdc7db0be1cd866c3ab3d219053b46835d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79e9ebdc7db0be1cd866c3ab3d219053b46835d8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79e9ebdc7db0be1cd866c3ab3d219053b46835d8/comments", "author": null, "committer": null, "parents": [{"sha": "b73acedaa1f191c88844b98fa989917bfb890c8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b73acedaa1f191c88844b98fa989917bfb890c8c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b73acedaa1f191c88844b98fa989917bfb890c8c"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "d55df0aeae13a4194c722b4cf5b736c480fb28fa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e9ebdc7db0be1cd866c3ab3d219053b46835d8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e9ebdc7db0be1cd866c3ab3d219053b46835d8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=79e9ebdc7db0be1cd866c3ab3d219053b46835d8", "patch": "@@ -1,3 +1,9 @@\n+2004-03-18  Bob Wilson  <bob.wilson@acm.org>\n+\n+\t* config/xtensa/xtensa.c (current_function_arg_words): Delete.\n+\t(xtensa_builtin_saveregs): Use current_function_args_info.arg_words.\n+\t(xtensa_va_start): Remove assignment to current_function_arg_words.\n+\n 2004-03-18  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* alias.c (record_set): Detect the case where a register is assigned"}, {"sha": "6c059ff69990a3ce3479f69e68b34a00d86a314a", "filename": "gcc/config/xtensa/xtensa.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e9ebdc7db0be1cd866c3ab3d219053b46835d8/gcc%2Fconfig%2Fxtensa%2Fxtensa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e9ebdc7db0be1cd866c3ab3d219053b46835d8/gcc%2Fconfig%2Fxtensa%2Fxtensa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Fxtensa.c?ref=79e9ebdc7db0be1cd866c3ab3d219053b46835d8", "patch": "@@ -212,7 +212,6 @@ static bool xtensa_rtx_costs (rtx, int, int, int *);\n static tree xtensa_build_builtin_va_list (void);\n static bool xtensa_return_in_memory (tree, tree);\n \n-static int current_function_arg_words;\n static const int reg_nonleaf_alloc_order[FIRST_PSEUDO_REGISTER] =\n   REG_ALLOC_ORDER;\n \f\n@@ -2392,7 +2391,7 @@ static rtx\n xtensa_builtin_saveregs (void)\n {\n   rtx gp_regs, dest;\n-  int arg_words = current_function_arg_words;\n+  int arg_words = current_function_args_info.arg_words;\n   int gp_left = MAX_ARGS_IN_REGISTERS - arg_words;\n \n   if (gp_left <= 0)\n@@ -2438,7 +2437,6 @@ xtensa_va_start (tree valist, rtx nextarg ATTRIBUTE_UNUSED)\n   ndx = build (COMPONENT_REF, TREE_TYPE (f_ndx), valist, f_ndx);\n \n   /* Call __builtin_saveregs; save the result in __va_reg */\n-  current_function_arg_words = arg_words;\n   u = make_tree (ptr_type_node, expand_builtin_saveregs ());\n   t = build (MODIFY_EXPR, ptr_type_node, reg, u);\n   TREE_SIDE_EFFECTS (t) = 1;"}]}