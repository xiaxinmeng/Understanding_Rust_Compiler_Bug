{"sha": "a4626a7b3ed64eac59c7905c5d2f997ffd1bedb2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTQ2MjZhN2IzZWQ2NGVhYzU5Yzc5MDVjNWQyZjk5N2ZmZDFiZWRiMg==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2019-10-02T02:35:14Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2019-10-02T02:35:14Z"}, "message": "re PR libfortran/91593 (Implicit enum conversions in libgfortran/io/transfer.c)\n\n2019-10-01  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/91593\n\t* io/read.c (read_decimal): Cast constant to size_t to turn off\n\ta bogus warning.\n\t* io/write.c (btoa_big): Use memset in lieu of setting the null\n\tbyte in a string buffer to turn off a bogus warning.\n\nFrom-SVN: r276439", "tree": {"sha": "a38be292d73ae8293780c9d009dc121ba0b13c10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a38be292d73ae8293780c9d009dc121ba0b13c10"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a4626a7b3ed64eac59c7905c5d2f997ffd1bedb2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4626a7b3ed64eac59c7905c5d2f997ffd1bedb2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a4626a7b3ed64eac59c7905c5d2f997ffd1bedb2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4626a7b3ed64eac59c7905c5d2f997ffd1bedb2/comments", "author": null, "committer": null, "parents": [{"sha": "8dc7a6f2a59b252cb756bd1f450558a4850cb6d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8dc7a6f2a59b252cb756bd1f450558a4850cb6d2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8dc7a6f2a59b252cb756bd1f450558a4850cb6d2"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "3f69e567ef7701dc3482c3d03d1a0352955f9795", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4626a7b3ed64eac59c7905c5d2f997ffd1bedb2/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4626a7b3ed64eac59c7905c5d2f997ffd1bedb2/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=a4626a7b3ed64eac59c7905c5d2f997ffd1bedb2", "patch": "@@ -1,3 +1,11 @@\n+2019-10-01  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/91593\n+\t* io/read.c (read_decimal): Cast constant to size_t to turn off\n+\ta bogus warning.\n+\t* io/write.c (btoa_big): Use memset in lieu of setting the null\n+\tbyte in a string buffer to turn off a bogus warning.\n+\n 2019-09-28  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR libfortran/91593"}, {"sha": "4a77e4384b75043937ac28b537e45f7376a7dac9", "filename": "libgfortran/io/read.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4626a7b3ed64eac59c7905c5d2f997ffd1bedb2/libgfortran%2Fio%2Fread.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4626a7b3ed64eac59c7905c5d2f997ffd1bedb2/libgfortran%2Fio%2Fread.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fread.c?ref=a4626a7b3ed64eac59c7905c5d2f997ffd1bedb2", "patch": "@@ -638,7 +638,7 @@ read_decimal (st_parameter_dt *dtp, const fnode *f, char *dest, int length)\n   /* This is a legacy extension, and the frontend will only allow such cases\n    * through when -fdec-format-defaults is passed.\n    */\n-  if (w == DEFAULT_WIDTH)\n+  if (w == (size_t) DEFAULT_WIDTH)\n     w = default_width_for_integer (length);\n \n   p = read_block_form (dtp, &w);"}, {"sha": "eacd1f79715a88a595a22175a43aee0eeb1f0a68", "filename": "libgfortran/io/write.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4626a7b3ed64eac59c7905c5d2f997ffd1bedb2/libgfortran%2Fio%2Fwrite.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4626a7b3ed64eac59c7905c5d2f997ffd1bedb2/libgfortran%2Fio%2Fwrite.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fwrite.c?ref=a4626a7b3ed64eac59c7905c5d2f997ffd1bedb2", "patch": "@@ -1048,8 +1048,6 @@ btoa_big (const char *s, char *buffer, int len, GFC_UINTEGER_LARGEST *n)\n \t}\n     }\n \n-  *q = '\\0';\n-\n   if (*n == 0)\n     return \"0\";\n \n@@ -1207,6 +1205,9 @@ write_b (st_parameter_dt *dtp, const fnode *f, const char *source, int len)\n   char itoa_buf[GFC_BTOA_BUF_SIZE];\n   GFC_UINTEGER_LARGEST n = 0;\n \n+  /* Ensure we end up with a null terminated string.  */\n+  memset(itoa_buf, '\\0', GFC_BTOA_BUF_SIZE);\n+\n   if (len > (int) sizeof (GFC_UINTEGER_LARGEST))\n     {\n       p = btoa_big (source, itoa_buf, len, &n);"}]}