{"sha": "6f311316194c0494cc43c16be10b434ca562a8df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmYzMTEzMTYxOTRjMDQ5NGNjNDNjMTZiZTEwYjQzNGNhNTYyYThkZg==", "commit": {"author": {"name": "Ed Schonberg", "email": "schonber@gnat.com", "date": "2001-10-26T00:47:09Z"}, "committer": {"name": "Geert Bosch", "email": "bosch@gcc.gnu.org", "date": "2001-10-26T00:47:09Z"}, "message": "sem_res.adb (Resolve_Call): if the call is actually an indexing operation on the result of a parameterless...\n\n\t* sem_res.adb (Resolve_Call): if the call is actually an indexing\n        operation on the result of a parameterless call, perform elaboration\n        check after the node has been properly rewritten.\n\n\t* sem_ch12.adb (Copy_Generic_Node): after the proper body has been\n        inlined within the generic tree, the defining identifier is not a\n        compilation_unit.\n\nFrom-SVN: r46510", "tree": {"sha": "462c2d3c04ef8d1af6b4bfa9dae21d294b940467", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/462c2d3c04ef8d1af6b4bfa9dae21d294b940467"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6f311316194c0494cc43c16be10b434ca562a8df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f311316194c0494cc43c16be10b434ca562a8df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f311316194c0494cc43c16be10b434ca562a8df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f311316194c0494cc43c16be10b434ca562a8df/comments", "author": null, "committer": null, "parents": [{"sha": "17be0cdf52730f68542fbca09480dcde990b92b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17be0cdf52730f68542fbca09480dcde990b92b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17be0cdf52730f68542fbca09480dcde990b92b8"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "4e0ae19b12010b7cb4dc2c3d9723367c920d7b8c", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f311316194c0494cc43c16be10b434ca562a8df/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f311316194c0494cc43c16be10b434ca562a8df/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=6f311316194c0494cc43c16be10b434ca562a8df", "patch": "@@ -1,3 +1,13 @@\n+2001-10-25  Ed Schonberg <schonber@gnat.com>\n+\n+\t* sem_res.adb (Resolve_Call): if the call is actually an indexing \n+        operation on the result of a parameterless call, perform elaboration \n+        check after the node has been properly rewritten.\n+\t\n+\t* sem_ch12.adb (Copy_Generic_Node): after the proper body has been \n+        inlined within the generic tree, the defining identifier is not a \n+        compilation_unit.\n+\n 2001-10-25  Ed Schonberg <schonber@gnat.com>\n \n \t* sem_res.adb (Resolve): special-case resolution of Null in an "}, {"sha": "4d372d68a758bce848aa486f24415f40cfd7e0ae", "filename": "gcc/ada/sem_ch12.adb", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f311316194c0494cc43c16be10b434ca562a8df/gcc%2Fada%2Fsem_ch12.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f311316194c0494cc43c16be10b434ca562a8df/gcc%2Fada%2Fsem_ch12.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch12.adb?ref=6f311316194c0494cc43c16be10b434ca562a8df", "patch": "@@ -4499,9 +4499,10 @@ package body Sem_Ch12 is\n                     Empty, Instantiating => False);\n \n                --  Now place the original proper body in the original\n-               --  generic unit.\n+               --  generic unit. This is a body, not a compilation unit.\n \n                Rewrite (N, Proper_Body (Unit (Subunit)));\n+               Set_Is_Compilation_Unit (Defining_Entity (N), False);\n                Set_Was_Originally_Stub (N);\n \n                --  Finally replace the body of the subunit with its copy,"}, {"sha": "bf1a7152ac1757d6bc40de5657966992d442cfbe", "filename": "gcc/ada/sem_res.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f311316194c0494cc43c16be10b434ca562a8df/gcc%2Fada%2Fsem_res.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f311316194c0494cc43c16be10b434ca562a8df/gcc%2Fada%2Fsem_res.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_res.adb?ref=6f311316194c0494cc43c16be10b434ca562a8df", "patch": "@@ -3130,7 +3130,6 @@ package body Sem_Res is\n             Index_Node : Node_Id;\n \n          begin\n-            Check_Elab_Call (N);\n \n             if Component_Type (Etype (Nam)) /= Any_Type then\n                Index_Node :=\n@@ -3147,6 +3146,7 @@ package body Sem_Res is\n                Set_Etype (Prefix (N), Etype (Nam));\n                Set_Etype (N, Typ);\n                Resolve_Indexed_Component (N, Typ);\n+               Check_Elab_Call (Prefix (N));\n             end if;\n \n             return;"}]}