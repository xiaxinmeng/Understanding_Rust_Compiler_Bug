{"sha": "91a6dcd14915181b4bce51cd44b56a3e9f9d35d8", "node_id": "C_kwDOANBUbNoAKDkxYTZkY2QxNDkxNTE4MWI0YmNlNTFjZDQ0YjU2YTNlOWY5ZDM1ZDg", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2022-04-06T10:15:28Z"}, "committer": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2022-05-11T12:25:58Z"}, "message": "libgomp GCN plugin: Clean up always-empty 'PLUGIN_GCN_CPPFLAGS', 'PLUGIN_GCN_LDFLAGS'\n\nAfter recent commit d6adba307508c75f1ccb2121eb1a43c9ab1d4056\n\"libgomp GCN plugin: Clean up unused references to system-provided HSA Runtime\nlibrary\", these aren't set anymore.\n\n\tlibgomp/\n\t* plugin/Makefrag.am (libgomp_plugin_gcn_la_CPPFLAGS): Don't\n\tconsider 'PLUGIN_GCN_CPPFLAGS'.\n\t(libgomp_plugin_gcn_la_LDFLAGS): Don't consider\n\t'PLUGIN_GCN_LDFLAGS'.\n\t* plugin/configfrag.ac (PLUGIN_GCN_CPPFLAGS, PLUGIN_GCN_LDFLAGS):\n\tRemove.\n\t* Makefile.in: Regenerate.\n\t* configure: Likewise.\n\t* testsuite/Makefile.in: Likewise.", "tree": {"sha": "b741c18e7793cc8232a7a103e5b7447028e363e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b741c18e7793cc8232a7a103e5b7447028e363e9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/91a6dcd14915181b4bce51cd44b56a3e9f9d35d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91a6dcd14915181b4bce51cd44b56a3e9f9d35d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/91a6dcd14915181b4bce51cd44b56a3e9f9d35d8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91a6dcd14915181b4bce51cd44b56a3e9f9d35d8/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d6adba307508c75f1ccb2121eb1a43c9ab1d4056", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6adba307508c75f1ccb2121eb1a43c9ab1d4056", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d6adba307508c75f1ccb2121eb1a43c9ab1d4056"}], "stats": {"total": 29, "additions": 7, "deletions": 22}, "files": [{"sha": "1c2ac5695ab3e50608fd8695d993b9c210ab1cb7", "filename": "libgomp/Makefile.in", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91a6dcd14915181b4bce51cd44b56a3e9f9d35d8/libgomp%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91a6dcd14915181b4bce51cd44b56a3e9f9d35d8/libgomp%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FMakefile.in?ref=91a6dcd14915181b4bce51cd44b56a3e9f9d35d8", "patch": "@@ -434,8 +434,6 @@ PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n PERL = @PERL@\n PLUGIN_GCN = @PLUGIN_GCN@\n-PLUGIN_GCN_CPPFLAGS = @PLUGIN_GCN_CPPFLAGS@\n-PLUGIN_GCN_LDFLAGS = @PLUGIN_GCN_LDFLAGS@\n PLUGIN_GCN_LIBS = @PLUGIN_GCN_LIBS@\n PLUGIN_NVPTX = @PLUGIN_NVPTX@\n PLUGIN_NVPTX_CPPFLAGS = @PLUGIN_NVPTX_CPPFLAGS@\n@@ -574,12 +572,12 @@ libgomp_la_SOURCES = alloc.c atomic.c barrier.c critical.c env.c \\\n # AMD GCN plugin\n @PLUGIN_GCN_TRUE@libgomp_plugin_gcn_version_info = -version-info $(libtool_VERSION)\n @PLUGIN_GCN_TRUE@libgomp_plugin_gcn_la_SOURCES = plugin/plugin-gcn.c\n-@PLUGIN_GCN_TRUE@libgomp_plugin_gcn_la_CPPFLAGS = $(AM_CPPFLAGS) $(PLUGIN_GCN_CPPFLAGS) \\\n+@PLUGIN_GCN_TRUE@libgomp_plugin_gcn_la_CPPFLAGS = $(AM_CPPFLAGS) \\\n @PLUGIN_GCN_TRUE@\t-D_GNU_SOURCE\n \n-@PLUGIN_GCN_TRUE@libgomp_plugin_gcn_la_LDFLAGS =  \\\n-@PLUGIN_GCN_TRUE@\t$(libgomp_plugin_gcn_version_info) \\\n-@PLUGIN_GCN_TRUE@\t$(lt_host_flags) $(PLUGIN_GCN_LDFLAGS)\n+@PLUGIN_GCN_TRUE@libgomp_plugin_gcn_la_LDFLAGS = $(libgomp_plugin_gcn_version_info) \\\n+@PLUGIN_GCN_TRUE@\t$(lt_host_flags)\n+\n @PLUGIN_GCN_TRUE@libgomp_plugin_gcn_la_LIBADD = libgomp.la $(PLUGIN_GCN_LIBS)\n @PLUGIN_GCN_TRUE@libgomp_plugin_gcn_la_LIBTOOLFLAGS = --tag=disable-static\n nodist_noinst_HEADERS = libgomp_f.h"}, {"sha": "e735e4c5f2a38da056a6d8f1cd4399ef4f63a20b", "filename": "libgomp/configure", "status": "modified", "additions": 2, "deletions": 8, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91a6dcd14915181b4bce51cd44b56a3e9f9d35d8/libgomp%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91a6dcd14915181b4bce51cd44b56a3e9f9d35d8/libgomp%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure?ref=91a6dcd14915181b4bce51cd44b56a3e9f9d35d8", "patch": "@@ -674,8 +674,6 @@ offload_additional_options\n offload_targets\n offload_plugins\n PLUGIN_GCN_LIBS\n-PLUGIN_GCN_LDFLAGS\n-PLUGIN_GCN_CPPFLAGS\n PLUGIN_GCN\n HSA_RUNTIME_LIB\n HSA_RUNTIME_INCLUDE\n@@ -11431,7 +11429,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11434 \"configure\"\n+#line 11432 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11537,7 +11535,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11540 \"configure\"\n+#line 11538 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -15275,14 +15273,10 @@ if test \"x$with_hsa_runtime_lib\" != x; then\n fi\n \n PLUGIN_GCN=0\n-PLUGIN_GCN_CPPFLAGS=\n-PLUGIN_GCN_LDFLAGS=\n PLUGIN_GCN_LIBS=\n \n \n \n-\n-\n # Parse '--enable-offload-targets', figure out the corresponding libgomp\n # plugins, and configure to find the corresponding offload compilers.\n # 'offload_plugins' and 'offload_targets' will be populated in the same order."}, {"sha": "11929d4ff293137e3ef887ee6b877b80ffd5d70b", "filename": "libgomp/plugin/Makefrag.am", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91a6dcd14915181b4bce51cd44b56a3e9f9d35d8/libgomp%2Fplugin%2FMakefrag.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91a6dcd14915181b4bce51cd44b56a3e9f9d35d8/libgomp%2Fplugin%2FMakefrag.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fplugin%2FMakefrag.am?ref=91a6dcd14915181b4bce51cd44b56a3e9f9d35d8", "patch": "@@ -44,11 +44,10 @@ if PLUGIN_GCN\n libgomp_plugin_gcn_version_info = -version-info $(libtool_VERSION)\n toolexeclib_LTLIBRARIES += libgomp-plugin-gcn.la\n libgomp_plugin_gcn_la_SOURCES = plugin/plugin-gcn.c\n-libgomp_plugin_gcn_la_CPPFLAGS = $(AM_CPPFLAGS) $(PLUGIN_GCN_CPPFLAGS) \\\n+libgomp_plugin_gcn_la_CPPFLAGS = $(AM_CPPFLAGS) \\\n \t-D_GNU_SOURCE\n libgomp_plugin_gcn_la_LDFLAGS = $(libgomp_plugin_gcn_version_info) \\\n \t$(lt_host_flags)\n-libgomp_plugin_gcn_la_LDFLAGS += $(PLUGIN_GCN_LDFLAGS)\n libgomp_plugin_gcn_la_LIBADD = libgomp.la $(PLUGIN_GCN_LIBS)\n libgomp_plugin_gcn_la_LIBTOOLFLAGS = --tag=disable-static\n endif"}, {"sha": "94d357f9a26acb6eee995e278e1b8993df3d9d05", "filename": "libgomp/plugin/configfrag.ac", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91a6dcd14915181b4bce51cd44b56a3e9f9d35d8/libgomp%2Fplugin%2Fconfigfrag.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91a6dcd14915181b4bce51cd44b56a3e9f9d35d8/libgomp%2Fplugin%2Fconfigfrag.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fplugin%2Fconfigfrag.ac?ref=91a6dcd14915181b4bce51cd44b56a3e9f9d35d8", "patch": "@@ -121,12 +121,8 @@ if test \"x$with_hsa_runtime_lib\" != x; then\n fi\n \n PLUGIN_GCN=0\n-PLUGIN_GCN_CPPFLAGS=\n-PLUGIN_GCN_LDFLAGS=\n PLUGIN_GCN_LIBS=\n AC_SUBST(PLUGIN_GCN)\n-AC_SUBST(PLUGIN_GCN_CPPFLAGS)\n-AC_SUBST(PLUGIN_GCN_LDFLAGS)\n AC_SUBST(PLUGIN_GCN_LIBS)\n \n # Parse '--enable-offload-targets', figure out the corresponding libgomp"}, {"sha": "f0c7da6860166f21ef75a0b6d08dcd529e0e1ae6", "filename": "libgomp/testsuite/Makefile.in", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91a6dcd14915181b4bce51cd44b56a3e9f9d35d8/libgomp%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91a6dcd14915181b4bce51cd44b56a3e9f9d35d8/libgomp%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2FMakefile.in?ref=91a6dcd14915181b4bce51cd44b56a3e9f9d35d8", "patch": "@@ -212,8 +212,6 @@ PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n PERL = @PERL@\n PLUGIN_GCN = @PLUGIN_GCN@\n-PLUGIN_GCN_CPPFLAGS = @PLUGIN_GCN_CPPFLAGS@\n-PLUGIN_GCN_LDFLAGS = @PLUGIN_GCN_LDFLAGS@\n PLUGIN_GCN_LIBS = @PLUGIN_GCN_LIBS@\n PLUGIN_NVPTX = @PLUGIN_NVPTX@\n PLUGIN_NVPTX_CPPFLAGS = @PLUGIN_NVPTX_CPPFLAGS@"}]}