{"sha": "9a082684dfe6a5473f7f0bc4ec7373c01153aff7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWEwODI2ODRkZmU2YTU0NzNmN2YwYmM0ZWM3MzczYzAxMTUzYWZmNw==", "commit": {"author": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2010-07-02T08:56:04Z"}, "committer": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2010-07-02T08:56:04Z"}, "message": "fix darwin8 bootstrap issue\n\n       * compare-debug (Darwin): Remove '-x' flag from ld-based object\n       stripping.  Add a comment as to why we do it this way.\n\nFrom-SVN: r161686", "tree": {"sha": "99a69350225adc7b80254507044b8c4d1993a624", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/99a69350225adc7b80254507044b8c4d1993a624"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9a082684dfe6a5473f7f0bc4ec7373c01153aff7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a082684dfe6a5473f7f0bc4ec7373c01153aff7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a082684dfe6a5473f7f0bc4ec7373c01153aff7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a082684dfe6a5473f7f0bc4ec7373c01153aff7/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "25db7f5997685fb3bbcb007fefc128801cd83c8e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25db7f5997685fb3bbcb007fefc128801cd83c8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25db7f5997685fb3bbcb007fefc128801cd83c8e"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "414e31e8ca6f8b9466614ce724babe97b8b9ce2b", "filename": "contrib/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a082684dfe6a5473f7f0bc4ec7373c01153aff7/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a082684dfe6a5473f7f0bc4ec7373c01153aff7/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=9a082684dfe6a5473f7f0bc4ec7373c01153aff7", "patch": "@@ -1,3 +1,8 @@\n+2010-07-02  Iain Sandoe  <iains@gcc.gnu.org>\n+\n+       * compare-debug (Darwin): Remove '-x' flag from ld-based object\n+       stripping.  Add a comment as to why we do it this way.\n+\n 2010-06-20  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* compare-debug: Drop LTO sections."}, {"sha": "ea68b437db02441a6289cc0db4a01241adf2ae30", "filename": "contrib/compare-debug", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a082684dfe6a5473f7f0bc4ec7373c01153aff7/contrib%2Fcompare-debug", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a082684dfe6a5473f7f0bc4ec7373c01153aff7/contrib%2Fcompare-debug", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fcompare-debug?ref=9a082684dfe6a5473f7f0bc4ec7373c01153aff7", "patch": "@@ -59,8 +59,10 @@ trap 'rm -f \"$1.$suf1\" \"$2.$suf2\"' 0 1 2 15\n \n case `uname -s` in\n Darwin)\n-  ld -S -x -r -no_uuid \"$1\" -o \"$1.$suf1\"\n-  ld -S -x -r -no_uuid \"$2\" -o \"$2.$suf2\"\n+  # The strip command on darwin does not remove all debug info.\n+  # Fortunately, we can use ld to do it instead.\n+  ld -S -r -no_uuid \"$1\" -o \"$1.$suf1\"\n+  ld -S -r -no_uuid \"$2\" -o \"$2.$suf2\"\n   ;;\n *)\n   cp \"$1\" \"$1.$suf1\""}]}