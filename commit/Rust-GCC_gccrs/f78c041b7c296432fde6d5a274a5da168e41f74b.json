{"sha": "f78c041b7c296432fde6d5a274a5da168e41f74b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Zjc4YzA0MWI3YzI5NjQzMmZkZTZkNWEyNzRhNWRhMTY4ZTQxZjc0Yg==", "commit": {"author": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2000-04-11T04:35:22Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2000-04-11T04:35:22Z"}, "message": "- Replace reference to newppc-branch ChangeLog with detailed entries.\n\nFrom-SVN: r33070", "tree": {"sha": "aeaf8ce33d4de7081ee4487cce24dd1a4b150c63", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aeaf8ce33d4de7081ee4487cce24dd1a4b150c63"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f78c041b7c296432fde6d5a274a5da168e41f74b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f78c041b7c296432fde6d5a274a5da168e41f74b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f78c041b7c296432fde6d5a274a5da168e41f74b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f78c041b7c296432fde6d5a274a5da168e41f74b/comments", "author": null, "committer": null, "parents": [{"sha": "e59512633b9f456412454edb22b5333c70c3314f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e59512633b9f456412454edb22b5333c70c3314f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e59512633b9f456412454edb22b5333c70c3314f"}], "stats": {"total": 697, "additions": 692, "deletions": 5}, "files": [{"sha": "23625fed67530f0ef90fd798eeae348d11dac4d6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 692, "deletions": 5, "changes": 697, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f78c041b7c296432fde6d5a274a5da168e41f74b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f78c041b7c296432fde6d5a274a5da168e41f74b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f78c041b7c296432fde6d5a274a5da168e41f74b", "patch": "@@ -2917,12 +2917,699 @@ Thu Mar 16 02:14:16 2000  Hans-Peter Nilsson  <hp@bitrange.com>\n \n 2000-03-15  Geoff Keating  <geoffk@cygnus.com>\n \n-\tSee the ChangeLog on the branch for more details.\n+\tMerge changes from newppc-branch onto trunk.\n+\n+\t2000-03-15  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.c (toc_hash_table): Update for new hash table functions.\n+\t(toc_hash_function): Likewise.\n+\t(toc_hash_eq): Likewise.\n+\t(toc_hash_mark_entry): Likewise.\n+\t(toc_hash_mark_table): Likewise.\n+\t(output_toc): Likewise.\n+\t(rs6000_add_gc_roots): Likewise.\n+\n+\t2000-03-15  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>\n+\n+\t* t-aix43 (AR_FOR_TARGET): Deleted.  Moved `-X32_64'...\n+\t(AR_FLAGS_FOR_TARGET): here.  New macro.\n+\n+\t2000-03-05  Clinton Popetz  <cpopetz@cygnus.com>\n+\n+\t* config/rs6000/rs6000.c (rs6000_fpmem_offset, rs6000_fpmem_size,\n+\tfpmem_operand) Delete.\n+\t(xer_operand) New.\n+\t(rs6000_reg_names, alt_reg_names): Change fpmem to xer.\n+\t(machine_function): Remove fpmem_size, fpmem_offset, save_toc_p.\n+\t(rs6000_save_machine_status, rs6000_restore_machine_status, \n+\trs6000_init_expanders, rs6000_stack_info, debug_stack_info): Remove \n+\treferences to above variables.\n+\t(gpc_reg_operand): Use XER_REGNO_P instead of FPMEM_REGNO_P.\n+\t* config/rs6000/rs6000.h (REG_ALLOC_ORDER, REGISTER_NAMES,\n+\tDEBUG_REGISTER_NAMES): Chagne fpmem to xer.\n+\t(FPMEM_REGNO_P, FPMEM_REGNUM): Delete.\n+\t(XER_REGNO_P, XER_REGNO): New.\n+\t(rs6000_stack): Remove fpmem_p, fpmem_offset, fpmem_size.\n+\t(PREDICATE_CODES): Change fpmem_operand to xer_operand.\n+\t(HARD_REGNO_NREGS, HARD_REGNO_MODE_OK): Change FPMEM_REGNO_P to \n+\tXER_REGNO_P.\n+\t(reg_class, REG_CLASS_NAMES, REG_CLASS_CONTENTS, REGNO_REG_CLASS,\n+\tREG_CLASS_FROM_LETTER, CLASS_MAX_NREGS): Change FPMEM_REGS to XER_REGS,\t\tand remove FLOAT_OR_FPMEM_REGS.\n+\t(CLASS_CANNOT_CHANGE_SIZE): Change to FLOAT_REGS.\n \t\n-\t* configure.in: Merge in changes from newppc-branch.\n-\t* configure: Regenerate.\n-\t* config/rs6000/*: Merge in changes from newppc-branch.\n-\tAlso correct copyright notices.\n+\t2000-02-29  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n+\n+\t* aix.h (FP_SAVE_INLINE, ASM_OUTPUT_INTERNAL_LABEL_PREFIX,\n+\tTEXT_SECTION_ASM_OP, DATA_SECTION_ASM_OP): Move here...\n+\t* rs6000.h: from here.\n+\n+\t* rs6000-protos.h (rs6000_select_section): Provide prototype.\n+\t(rs6000_select_rtx_section): Likewise.\n+\t(rs6000_encode_section_info): Likewise.\n+\t(sdata_section): Likewise.\n+\t(sdata2_section): Likewise.\n+\t(sbss_section): Likewise.\n+\t* sysv4.h (rs6000_select_section): Delete prototype.\n+\t(rs6000_select_rtx_section): Likewise.\n+\t(rs6000_encode_section_info): Likewise.\n+\t(sdata_section): Likewise.\n+\t(sdata2_section): Likewise.\n+\t(sbss_section): Likewise.\n+\t(REG_SAVE_AREA): Delete definition duplicated in rs6000.h.\n+\n+\t* sysv4.h: Delete various unnecessary #undef's and put a comment\n+\ton the remaining ones.\n+\tChange various comments according to coding standard.\n+\n+\t2000-02-29  Clinton Popetz  <cpopetz@cygnus.com>\n+\n+\t* config/rs6000/rs6000.h (MQ_REGNO, CR0_REGNO, CR1_REGNO, CR2_REGNO, \n+\tCR3_REGNO, CR4_REGNO, MAX_CR_REGNO): Define.\n+\t(CR0_REGNO_P) Remove.\n+\t* config/rs6000/rs6000.c (gpc_reg_operand, and64_operand, and_operand, \n+\tsetup_incoming_varargs, mtcrf_operation, print_operand, \n+\trs6000_stack_info, rs6000_emit_prologue, rs6000_emit_epilogue): \n+\tUse the above macros.\n+\n+\t2000-02-24  Clinton Popetz  <cpopetz@cygnus.com>\n+\n+\t* config/rs6000/rs6000.md: Added a new alternative for each\n+\tpattern that had a 'x' alternative but no 'y' alternative.\n+\tAdded a new split for each of the above patterns.\n+\n+\t2000-02-18  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* aix41.h (ASM_CPU_SPEC): Delete.\n+\t(CPP_CPU_SPEC): Delete.\n+\n+\t* aix.h (RS6000_OUTPUT_BASENAME): Define.\n+\t(ASM_OUTPUT_LABEL): Define.\n+\t(ASM_GLOBALIZE_LABEL): Define.\n+\t(STRIP_NAME_ENCODING): Define.\n+\t* rs6000.h (RS6000_OUTPUT_BASENAME): Don't define.\n+\t(STRIP_NAME_ENCODING): Don't define.\n+\t(ASM_OUTPUT_LABEL): Don't define.\n+\t(ASM_GLOBALIZE_LABEL): Don't define.\n+\t* sysv4.h (ASM_DECLARE_FUNCTION_NAME): Use assemble_name to output\n+\tnames, and ASM_OUTPUT_LABEL to output labels, rather than\n+\tasm_fprintf.\n+\t(ASM_OUTPUT_LABEL): Define.\n+\t(ASM_OUTPUT_INT): Use assemble_name.\n+\t(ASM_OUTPUT_DWARF_ADDR): Use assemble_name.\n+\t(STRIP_NAME_ENCODING): Don't undefine first.\n+\t(RS6000_OUTPUT_BASENAME): Make equivalent to assemble_name for\n+\tELF.\n+\t(ASM_OUTPUT_LABELREF): Don't prepend underscores to labels\n+\tspecified with 'asm' even with -fleading-underscore.\n+\t* rs6000.c (print_operand): Use assemble_name when !TARGET_AIX.\n+\t(output_epilog): Likewise.\n+\t(output_toc): Likewise. \n+\t* tramp.asm: Handle -fleading-underscore correctly.\n+\n+\t* rs6000.md (builtin_setjmp_receiver): Also run for -fPIC and\n+\t-mminimal-toc.\n+\t(nonlocal_goto_receiver): Delete.\n+\t* rs6000.h (DONT_ACCESS_GBLS_AFTER_EPILOGUE): Delete.\n+\n+\t* rs6000.h (ASM_OUTPUT_DEF): Don't define.\n+\t(SET_ASM_OP): Define.\n+\t* sysv4.h (ASM_OUTPUT_DEF): Don't undefine.\n+\n+\t* rs6000.h (ASM_OUTPUT_ADDR_VEC_ELT): Don't define.\n+\t(ASM_LONG): Define.\n+\n+\t* rs6000.c (rs6000_dll_import_ref): Delete, not used.\n+\t* rs6000-protos.h (rs6000_dll_import_ref): Delete.\n+\n+\t* rs6000.h: Add 'u' to more constants.\n+\n+\t2000-02-18  David Edelsohn  <edelsohn@gnu.org>\n+\n+\t* rs6000.md (mfcr+shift): Delete PowerPC64 version.\n+\n+\t2000-02-15  David Edelsohn  <edelsohn@gnu.org>\n+\n+\t* rs6000.c (reg_or_u_cint_operand): New function.\n+\t(logical_operand): Handle 64-bit hosts.\n+\t(logical_u_operand): New function.\n+\t(non_logical_cint_operand): Handle 64-bit hosts.\n+\t(non_logical_u_cint_operand): New function.\n+\t* rs6000.h (DATA_SECTION_ASM_OP): Add tab.\n+\t(PREDICATE_CODES): Define new functions.\n+\t* rs6000-protos.h: Declare new functions.\n+\t* rs6000.md (iordi3, xordi3): Constant int must be unsigned 32-bits.\n+\t(movdi_64): Bracket code intended for 64-bit hosts.  Create\n+\tCONST_DOUBLE for 32-bit values.\n+\t(scc insns): Generate DImode compares.\n+\t(mfcr insns): Create DImode versions.\n+\t(sge matchers): New patterns.\n+\t\n+\t2000-02-15  Gabriel Paubert  <paubert@iram.es>\n+\n+\t* rs6000.md: Correct instructions length attributes and\n+\tconstraints on unsigned compare instructions.\n+\t(*ne0): Disable for PowerPC64.\n+\n+\t2000-02-11  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.c (output_function_profiler): Use .long for a 32-bit\n+\tquantity, fix profile1.C test failure under -fPIC.\n+\n+\t* rs6000.c: Add 'u' to many constants to suppress warnings.\n+\t(constant_pool_expr_1): Make static.\n+\t(rs6000_emit_eh_toc_restore): Remove unused 'r2'.\n+\t* rs6000.h: Add 'u' to many constants to suppress warnings.\n+\n+\t* rs6000.c (rs6000_emit_load_toc_table): Use LCTOC..1 under AIX\n+\tfor the start of the TOC, instead of LCTOC..0.\n+\t* aix.h (toc_section): Use LCTOC..1 under AIX for the start\n+\tof the TOC.\n+\t* rs6000.md (load_toc_aix_si): Use LCTOC..1.\n+\t(load_toc_aix_di): Use LCTOC..1.\n+\n+\t* rs6000.h (LEGITIMIZE_ADDRESS): Turn into a function.\n+\t* rs6000.c (rs6000_legitimize_address): New function from\n+\tLEGITIMIZE_ADDRESS.  Only use create_TOC_reference on\n+\tsymbols in the constant pool that really are TOC references.\n+\t(print_operand_address): For ELF, write TOC offsets under\n+\t-fPIC as subtractions in the insn.\n+\t(output_toc): For ELF, define symbols in TOC as normal labels,\n+\tto match RTL.\n+\t(create_TOC_reference): Use gen_rtx_PLUS rather than gen_rtx.\n+\t* rs6000-protos.h (rs6000_legitimize_address): Prototype.\n+\t(create_TOC_reference): Prototype only when RTX_CODE is defined.\n+\t* rs6000.md (movsi): Only use create_TOC_reference on\n+\tsymbols in the constant pool that really are TOC references.\n+\n+\t* rs6000.h (MACHINE_DEPENDENT_REORG): Don't define.\n+\t* rs6000.c (rs6000_reorg): Delete.\n+\t* rs6000-protos.h (rs6000_reorg): Delete.\n+\n+\t2000-02-09  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.h (INCOMING_RETURN_ADDR_RTX): New macro.\n+\n+\t* aix.h (SETUP_FRAME_ADDRESSES): Define.\n+\t* rs6000.c [TARGET_AIX] (insn_after_throw): New static variable.\n+\t[TARGET_AIX] (rs6000_aix_emit_builtin_unwind_init): New function.\n+\t[TARGET_AIX] (rs6000_emit_eh_toc_restore): New function.\n+\t* rs6000-protos.h: Prototype rs6000_emit_eh_toc_restore,\n+\trs6000_aix_emit_builtin_unwind_init.\n+\t* rs6000.md (eh_epilogue) [TARGET_AIX]: Call \n+\trs6000_emit_eh_toc_restore on AIX.\n+\t(return_eh_si): Use r2.\n+\t(return_eh_di): Use r2.\n+\n+\t* aix43.h: Turn on HAS_INIT_SECTION and LD_INIT_SWITCH,\n+\tsince we're breaking binary compatibility anyway.\n+\n+\t2000-02-09  Clinton Popetz  <cpopetz@cygnus.com>\n+\n+\t* config/rs6000/rs6000-protos.h: (get_TOC_alias_set, uses_TOC,\n+\tconstant_pool_expr_p): Declare them.\n+\t(constant_pool_expr_p): Declare it.\n+\t* config/rs6000/rs6000.c (toc_label_name): Define.\n+\t(rs6000_override_options): Set toc_label_name.\n+\t(input_operand): Allow any TOC_RELATIVE_EXPR_P.\n+\t(get_TOC_alias_set, constant_pool_expr_p, constant_pool_expr_1,\n+\tuses_TOC): New functions.\n+\t(print_operand): Delete old '*' case.\n+\t(print_operand_address): Use LEGITIMATE_CONSTANT_POOL_ADDRESS_P,\n+\tand strip off rtl for TOC before calling output_addr_const.\n+\t(rs6000_emit_load_toc_table): Use toc_label_name.\n+\t* config/rs6000/rs6000.h (TARGET_SWITCHES): Make msched-prolog\n+\tthe default.\n+\t(LEGITIMATE_CONSTANT_POOL_BASE_P): Delete.\n+\t(CONSTANT_POOL_EXPR_P, TOC_RELATIVE_EXPR_P): New macros.\n+\t(LEGITIMATE_CONSTANT_POOL_ADDRESS_P): Use CONSTANT_POOL_EXPR_P.\n+\t(LEGITIMIZE_ADDRESS, LEGITIMIZE_RELOAD_ADDRESS): Turn symbol_refs\n+\tinto explicit TOC_REGISTER offsets.\n+\t(TOC_REGISTER): New macro.\n+\t* config/rs6000/rs6000.md (movsi, movdi): Emit rtl under \n+\tTARGET_TOC to reference TOC_REGISTER.\n+\t(load_toc_v4_PIC_1b): Add 4 to offset for toc reload.\n+\t* config/rs6000/sysv4.h (ASM_DECLARE_FUNCTION_NAME): Call  \n+\tuses_TOC before emitting label references.\n+\n+\t2000-02-05  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.md (stack_tie): Fix warning.\n+\n+\t* eabi-ctors.c: Use 'asm' names for the start/end variables,\n+\tto handle -fleading-underscore.\n+\t* sysv4.h (ASM_DECLARE_FUNCTION_NAME): Use asm_fprintf and %U.\n+\t(USER_LABEL_PREFIX): New macro.\n+\t(ASM_OUTPUT_INTERNAL_LABEL_PREFIX): Use asm_fprintf and %L.\n+\t(ASM_OUTPUT_LABELREF): Use asm_fprintf and %U.\n+\t* t-ppccomm (MULTILIB_MATCHES_SYSV): Note that call-sysv and\n+\tcall-linux can use the same multilibs.\n+\t* t-ppcgas (MULTILIB_OPTIONS): Don't need to have separate call-sysv\n+\tand call-linux multilibs.  Do multilib with -fleading-underscore.\n+\t(MULTILIB_DIRNAMES): Follow MULTILIB_OPTIONS change.\n+\t(MULTILIB_EXCEPTIONS): Remove call-linux exceptions.  Add restrictions\n+\tto call-aix.\n+\n+\t* sysv4.h (CPP_SYSV_SPEC): Define _SOFT_FLOAT for all those CPUs that\n+\thave MASK_SOFT_FLOAT set.\n+\t(CPP_FLOAT_DEFAULT_SPEC): New macro.\n+\t(SUBTARGET_EXTRA_SPECS): Set `cpp_float_default' to the value of\n+\tCPP_FLOAT_DEFAULT_SPEC.\n+\n+\t* rs6000.c (ccr_bit): Add some consistency checks and a variable 'reg'.\n+\t* rs6000.md: Whitespace change.\n+\t* sysv4.h (LINK_TARGET_SPEC): Whitespace change.\n+\t* sysv4le.h (LINK_TARGET_SPEC): Whitespace change.\n+\n+\t2000-02-05  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.md (eh_epilogue): New expander.\n+\t(eh_reg_restore): New expand/split/insn combination.\n+\t(return_eh_si): New insn.\n+\t(return_eh_di): New insn.\n+\n+\t* eabi-ci.asm: Put a label at the start of the .eh_frame section.\n+\t* eabi-cn.asm: Put a zero at the end of the .eh_frame section.\n+\t* eabi-ctors.c (__do_global_ctors): Register this object's\n+\tframe.  Clean up.  Call atexit() after the constructors.\n+\t(__do_global_dtors): Deregister this object's frame.  Clean up.\n+\tAllow for recursive calls to exit().\n+\t* rs6000.c (fixuplabelno): New variable.\n+\t* sysv4.h (ASM_OUTPUT_INT): Don't do .fixup if not\n+\tTARGET_RELOCATABLE, it slows down exec() under linux.\n+\t(ASM_OUTPUT_DWARF_ADDR): Do .fixup if TARGET_RELOCATABLE.\n+\n+\t* aix.h (ASM_OUTPUT_DWARF_ADDR_VAR): New macro.\n+\t(ASM_OUTPUT_DWARF_DELTA_VAR): New macro.\n+\t(ASM_OUTPUT_DWARF_DELTA2): New macro.\n+\t(ASM_OUTPUT_DWARF_DELTA4): New macro.\n+\t(ASM_OUTPUT_DWARF_ADDR_DELTA): New macro.\n+\t(ASM_OUTPUT_DWARF_ADDR): New macro.\n+\t(ASM_OUTPUT_DWARF_DATA4): New macro.\n+\t(ASM_OUTPUT_DWARF_DATA2): New macro.\n+\t(ASM_OUTPUT_DWARF_OFFSET4): New macro.\n+\t(ASM_OUTPUT_DWARF_OFFSET): New macro.\n+\t(UNALIGNED_INT_ASM_OP): New macro, fake definition.\n+\n+\t2000-02-03  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.c (rs6000_sr_alias_set): New variable.\n+\t(rs6000_override_options): Initialise rs6000_sr_alias_set.\n+\t(rs6000_emit_stack_tie): New function.\n+\t(rs6000_emit_allocate_stack): Specify RTX_FRAME_RELATED_P\n+\tin a way that dwarf2out can understand.\n+\t(rs6000_frame_related): New function.\n+\t(rs6000_emit_prologue): Use rs6000_sr_alias_set.  Specify\n+\tRTX_FRAME_RELATED_P in a way that dwarf2out can understand.\n+\tUse rs6000_emit_stack_tie when needed.\n+\t(rs6000_emit_epilogue): Use rs6000_sr_alias_set.  Don't set\n+\tRTX_FRAME_RELATED_P.  Use rs6000_emit_stack_tie when needed.\n+\t* rs6000.md (stack_tie): New insn.\n+\t(return_internal_si): Allow return value to be in the count\n+\tregister.\n+\t(return_internal_di): Likewise.\n+\n+\t* rs6000.c (output_mi_thunk): Remove unused variable `sp'.\n+\n+\t2000-02-03  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* sysv4.h (LOCAL_LABEL_PREFIX): Define, for the use of dbxelf.h.\n+\n+\t2000-01-31  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.h (ASM_OUTPUT_DEF_FROM_DECLS): New macro.\n+\n+\t* rs6000.md (stmw): Use the right POWER opcode.\n+\t(lmw): Likewise.\n+\n+\t2000-01-31  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* rs6000-protos.h: New file.\n+\n+\t* rs6000.c: Include tm_p.h.  Fix compile time warnings.\n+\t\n+\t* rs6000.h: Move prototypes to rs6000-protos.h.  Fix compile time\n+\twarnings.\n+\t\n+\t* sysv4.h: Likewise.\n+\n+\t2000-01-28  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* ../../configure.in: Delete powerpcle-*-winnt*\n+\tand powerpcle-*-pe|powerpcle-*-cygwin*.\n+\t* ../../configure: Regenerated.\n+\t* cygwin.h: Delete.\n+\t* rs6000.h (OBJECT_WINDOWS_NT): Delete.\n+\t(TARGET_WINDOWS_NT): Delete.\n+\t(ABI_NT): Delete.\n+\t(CALL_NT_DLLIMPORT): Delete.\n+\tDelete NT-specific code.\n+\t* rs6000.md, rs6000.c, sysv4.h: Delete NT-specific code.\n+\t* win-nt.h: Delete.\n+\t* t-winnt: Delete.\n+\t* nt-ci.asm: Delete.\n+\t* nt-cn.asm: Delete.\n+\t* ntstack.asm: Delete.\n+\n+\t2000-01-27  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n+\n+\t* rs6000.h (SELECT_RTX_SECTION): Move to aix.h.\n+\t(ASM_FILE_START): Likewise.\n+\t(ASM_DECLARE_FUNCTION_NAME): Likewise.\n+\t(ASM_OUTPUT_LABELREF): Likewise.\n+\t(ASM_OUTPUT_SKIP): Likewise.\n+\t(ASM_OUTPUT_INTERNAL_LABEL): Likewise.\n+\t(ASM_GENERATE_INTERNAL_LABEL): Likewise.\n+\t(ASM_OUTPUT_CASE_LABEL): Likewise.\n+\t(ASM_OUTPUT_ALIGNED_COMMON): Likewise.\n+\t(ASM_OUTPUT_ASCII): Likewise.\n+\n+\t2000-01-27  Clinton Popetz  <cpopetz@cygnus.com>\n+\n+        * rs6000.c (rs6000_emit_load_toc_table): Use \"LCG\" and\n+        reload_toc_labelno for non-prologue TOC reloads.  Also, don't\n+        increment rs6000_pic_labelno here.\n+        (rs6000_emit_prologue): Pass TRUE to rs6000_emit_load_toc_table,\n+        and increment rs6000_pic_labelno here.\n+\n+\t2000-01-24  Geoffrey Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.md (fctiwz): Use (set (reg) (unspec:DI [(fix:SI ...)]))\n+\trather than (set (subreg:SI (reg)) (fix:SI ...)) so that register\n+\tallocation knows (reg) is dead before the insn.\n+\n+\t2000-01-21  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.md (movsi_to_cr): Correct typo in output template.\n+\n+\t2000-01-19  Geoffrey Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.c (rs6000_pic_labelno): Always define.\n+\t(rs6000_pic_func_labelno): Delete.\n+\t(lmw_operation): Check for a zero base register,\n+\twhich doesn't mean what we want.\n+\t(stmw_operation): New function.\n+\t(print_operand): Define new 'l' modifier.\n+\t(rs6000_stack_info): We must save all 64 bits of the registers\n+\tif TARGET_POWERPC64.\n+\t(rs6000_output_load_toc_table): Delete.\n+\t(rs6000_emit_load_toc_table): New function.\n+\t(rs6000_allocate_stack_space): Delete.\n+\t(rs6000_emit_allocate_stack): New function.\n+\t(rs6000_emit_prologue): New function.\n+\t(output_prolog): Use rs6000_emit_prologue.\n+\t(rs6000_emit_epilogue): Change a few variable names to be\n+\tmore accurate.  Restore all 64 bits of the registers if\n+\tTARGET_POWERPC64.  Only restore the FP registers which were used\n+\tif they are being saved/restored one-at-a-time.\n+\t(output_mi_thunk): Delete inefficient code generation.\n+\t(output_function_profiler): Don't use rs6000_output_load_toc_table.\n+\t* rs6000.h: Declare rs6000_emit_load_toc_table,\n+\trs6000_allocate_stack_space, stmw_operation.  Don't declare\n+\trs6000_output_load_toc_table.\n+\t* rs6000.md (elf_high): Allow register 0, but discourage it\n+\theavily.\n+\t(elf_low): Support loading into register 0.\n+\t(load_toc_aix_si): New pattern.\n+\t(load_toc_aix_di): New pattern.\n+\t(load_toc_v4_pic_si): New pattern.\n+\t(load_toc_v4_pic_di): New pattern.\n+\t(load_toc_v4_PIC_1): New pattern.\n+\t(load_toc_v4_PIC_1b): New pattern.\n+\t(load_toc_v4_PIC_2): New pattern.\n+\t(builtin_setjmp_receiver): Use rs6000_emit_load_toc_table.\n+\t(nonlocal_goto_receiver): Use rs6000_emit_load_toc_table.\n+\t(prologue): New expander.\n+\t(movesi_from_cr): New pattern.\n+\t(stmw): New pattern.\n+\t(save_fpregs_si): New pattern.\n+\t(save_fpregs_di): New pattern.\n+\n+\t2000-01-19  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.md (movsi): Don't use force_reg when no_new_pseudos.\n+\t(movdi): Likewise.\n+\t(movhi): Likewise.\n+\t(movqi): Likewise.\n+\n+\t2000-01-19  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.md (movsi_got): 'unspec 8' returns a SImode result,\n+\tat present.\n+\t(movsi_got_internal): Likewise.\n+\t(movsi_got_internal+1): Likewise.\n+\t(set_sp): 'unspec 7' does a SImode clobber.\n+\n+\t2000-01-19  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.md (floatsidf2): Don't use the fpmem \"register\", just\n+\tallocate a stack temporary.\n+\t(floatsidf2_internal): Likewise.\n+\t(floatsidf2_internal+1): Likewise.  Don't do bizzare hacks\n+\twith unspec.\n+\t(floatunssidf2): Don't use the fpmem \"register\", just\n+\tallocate a stack temporary.\n+\t(floatunssidf2_internal): Likewise.\n+\t(floatunssidf2_internal+1): Likewise.  Don't do bizzare hacks\n+\twith unspec.\n+\t(floatsidf2_loadaddr): Delete.\n+\t(floatsidf2_store1): Delete.\n+\t(floatsidf2_store2): Delete.\n+\t(floatsidf2_load): Delete.\n+\t(fix_truncdfsi2): Don't use the fpmem \"register\", just\n+\tallocate a stack temporary.\n+\t(fix_truncdfsi2_internal_si): Delete.\n+\t(fix_truncdfsi2_internal_di): Delete.\n+\t(fix_truncdfsi2_internal): New insn.\n+\t(fix_truncdfsi2_internal+1): Don't use the fpmem \"register\".\n+\t(fix_truncdfsi2_store): Delete.\n+\t(fix_truncdfsi2_load): Delete.\n+\t(fctiwz): Produce gen_fctiwz.\n+\n+\t2000-01-19  Geoffrey Keating  <geoffk@cygnus.com>\n+\n+\t* eabi.h (INVOKE__main): Define.\n+\t* rs6000.c (rs6000_stack_info): Don't handle call to NAME__MAIN\n+\tspecially.\n+\t(rs6000_emit_prologue): Likewise.\n+\t* rs6000.h (struct rs6000_stack): Don't keep track of whether\n+\tthis is the main program.\n+\n+\t2000-01-19  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.c (rs6000_va_arg): Delete some unused variables.\n+\n+\t2000-01-19  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.c (rs6000_va_arg): On AIX, padding for small arguments\n+\tgoes after the argument.\n+\n+\t2000-01-12  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.md: Document 'unspec' values used.\n+\t(epilogue): New expander.\n+\t(movesi_to_cr_one): New expander.\n+\t(movesi_to_cr and following): New pattern.\n+\t(lmw): New pattern.\n+\t(return_internal_si): New pattern.\n+\t(return_internal_di): New pattern.\n+\t(return_and_restore_fpregs_si): New pattern.\n+\t(return_and_restore_fpregs_di): New pattern.\n+\t* rs6000.h: Declare new functions.\n+\t* rs6000.c (rs6000_stack_info): Use current_function_is_leaf\n+\trather than rs6000_calls_p.\n+\t(rs6000_makes_calls): Delete.\n+\t(lmw_operation): New function.\n+\t(mtcrf_operation): New function.\n+\t(rs6000_emit_epilogue): New function.\n+\t(output_epilog): Call rs6000_emit_epilogue and final if\n+\t!TARGET_SCHED_PROLOG, instead of writing text unconditionally.\n+\n+\t2000-01-12  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* aix43.h (SUBSUBTARGET_SWITCHES): Document switches.\n+\t* aix41.h (SUBSUBTARGET_SWITCHES): Document switches.\n+\t* aix.h (SUBTARGET_SWITCHES): Document switches.\n+\t* rs6000.h: (TARGET_SWITCHES): Don't print options twice.  Make\n+\tsched-prolog and sched-epilog the same.  Document all the\n+\tswitches.\n+\t(TARGET_OPTIONS): No longer allow -mdebug-.\n+\n+\t2000-01-12  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.h (ASM_FILE_END): Move to aix.h.\n+\t(EXTRA_SECTIONS): Move to aix.h.\n+\t(READONLY_DATA_SECTION): Move to aix.h.\n+\t(EXTRA_SECTION_FUNCTIONS): Move to aix.h.\n+\t(SELECT_SECTION): Move to aix.h.\n+\t(JUMP_TABLES_IN_TEXT_SECTION): Move to aix.h.\n+\t(INT_REGNO_P): Use symbolic name for ARG_POINTER_REGNUM.\n+\t(LINK_REGISTER_REGNUM): New definition.\n+\t(RETURN_ADDR_RTX): Use symbolic name for LINK_REGISTER_REGNUM.\n+\t(SLOW_UNALIGNED_ACCESS): Define in a way suitable for both\n+\tAIX and SVR4.\n+\t* sysv4.h: Delete the code between the inclusion of rs6000.h\n+\tand svr4.h.\n+\t(DWARF_DEBUGGING_INFO): Don't define, it's defined in elfos.h.\n+\t(FP_ARG_MAX_REG): Move generic definition to rs6000.h.\n+\t(RS6000_REG_SAVE): Move generic definition to rs6000.h.\n+\t(RS6000_SAVE_AREA): Move generic definition to rs6000.h.\n+\t* rs6000.md (floatsidf2_loadaddr): The first arg here is Pmode.\n+\t(fix_truncdfsi2_internal): Rename to fix_truncdfsi2_internal_si.\n+\t(fix_truncdfsi2_internal_di): New pattern.\n+\t(fix_truncdfsi2_store): The second arg here is Pmode too.\n+\t(fix_truncdfsi2_load): The second arg here is Pmode too.\n+\t(tablejumpdi): Now that switch tables hold only SImode values,\n+\tgcc needs to know how to add them to the pc which is DImode.\n+\t* rs6000.c (rs6000_stack_info): Use symbolic name for \n+\tLINK_REGISTER_REGNUM.\n+\t(output_mi_thunk) [!TARGET_ELF]: Don't define sp, it's not used.\n+\t(output_toc): Delete unused variables s1 and s2.\n+\t(output_ascii): Use fputs not fprintf on a variable string.\n+\n+\t2000-01-07  David Edelsohn  <edelsohn@gnu.org>\n+\n+        * rs6000.c (processor_target_table): Add power3 as alias for 630.\n+        * aix43.h: Revert Aug 2 change.\n+        (HAS_INIT_SECTION): Define, not visible yet.\n+        (LD_INIT_SWITCH): Define, not visible yet.\n+        * t-aix43 (MULTILIB_OPTIONS): Revert Aug 2 change.\n+\n+\t2000-01-04  Joel Sherrill (joel@OARcorp.com>\n+\n+        * config/rs6000/rtems.h: Include config/rtems.h.\n+\n+\t2000-01-04  David Edelsohn  <edelsohn@gnu.org>\n+\n+        * rs6000.h (HANDLE_PRAGMA_PACK): Define.\n+        (SLOW_UNALIGNED_ACCESS): Define.\n+        (CASE_VECTOR_MODE): Always use 32-bit offsets.\n+        (ASM_FILE_END): Generate 64-bit symbol in 64-bit mode.\n+        (EXTRA_SECTOIN_FUNCTIONS): Indent .csect pseudo-op.\n+        (toc_section): Likewise and .toc pseudo-op.\n+        (ASM_DECLARE_FUNCTION): Likewise.  Align text more strictly in\n+        64-bit mode.\n+        (TEXT_SECTION_ASM_OP): Likewise.\n+        (ASM_OUTPUT_ADD_VEC_ELT, ASM_OUTPUT_ADDR_DIFF_ELT): Always use\n+        32-bit offsets.\n+\n+\t1999-12-17  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* config/rs6000/rs6000.h (TARGET_POWERPC64): Make sure\n+\tUNITS_PER_WORD and BITS_PER_WORD are compile time constants when\n+\tcompiling libgcc2.\n+\t\n+\t2000-01-06  Franz Sirl <Franz.Sirl-kernel@lauterbach.com>\n+\n+\t* rs6000.h: Move more stuff from here...\n+\t* aix.h: to here.\n+\t* sysv4.h: Cleanup accordingly.\n+\t* netware.h: Likewise\n+\n+\t2000-01-05  Franz Sirl <Franz.Sirl-kernel@lauterbach.com>\n+\n+        * rs6000.h: Continue cleanup.\n+\t* aix.h: Likewise.\n+\t* lynx.h: Likewise.\n+\t* netware.h: Likewise.\n+\t* sol2.h: Likewise.\n+\t* sysv4.h: Likewise.\n+\t* win-nt.h: Likewise.\n+\n+\t* rs6000.h (TARGET_SWITCHES): Add descriptions.\n+\t(TARGET_OPTIONS): Likewise.\n+\n+\t* sysv4.h (SUBTARGET_SWITCHES): Add descriptions.\n+\t(SUBTARGET_OPTIONS): Likewise.\n+\n+\t* rs6000.md: Fix compile time warnings.\n+\n+\t2000-01-04  Geoff Keating  <geoffk@cygnus.com>\n+\n+\tvxworks patches from the Cygnus tree originally by\n+\tMichael Meissner <meissner@cygnus.com> and Vladimir Makarov\n+\t<vmakarov@cygnus.com>.\n+\t* sysv4.h (SUBTARGET_SWITCHES): Add vxworks.\n+\t(ENDFILE_SPEC): Likewise.\n+\t(LIB_VXWORKS_SPEC): New macro.\n+\t(STARTFILE_VXWORKS_SPEC): New macro.\n+\t(ENDFILE_VXWORKS_SPEC): New macro.\n+\t(LINK_START_VXWORKS_SPEC): New macro.\n+\t(LINK_OS_VXWORKS_SPEC): New macro.\n+\t(CPP_OS_VXWORKS_SPEC): New macro.\n+\t(SUBTARGET_EXTRA_SPECS): Add all the vxworks specs.\n+\t* vxppc.h: Rewrite to use proper configuration method.\n+\t* vxppcle.h: New file.\n+\t* ../../configure.in: Add powerpcle-wrs-vxworks*.\n+\t* ../../configure: Rebuilt.\n+\n+\t2000-01-04  Geoff Keating  <geoffk@cygnus.com>\n+\n+\tLots of changes to rs6000.h, sysv4.h, aix.h,\n+\taix31.h, aix3newas.h, aix41.h, aix43.h, beos.h,\n+\twith the aim that rs6000.h is the first header\n+\tincluded and the others override it.\n+\t* aix.h: New file.\n+\n+\t* x-aix41-gld: Remove.  \n+\t* x-aix43: Remove.\n+\t* x-aix41: Remove target-specific switches, and don't specify\n+\t-Wl,-bbigtoc as we don't need it any more.\n+\t* ../../configure.in: Use x-aix41 for ppc AIX 4.1 and above.\n+\tUse t-aix43 for AIX 4.3 and above.\n+\t* ../../configure: Regenerated.\n+\n+\t* rs6000.h (TARGET_SWITCHES): Add some initial prolog-scheduling\n+\toptions, that don't do anything yet.\n+\t(MASK_SCHED_PROLOG): New macro.\n+\t(MASK_SCHED_EPILOG): New macro.\n+\t(TARGET_SCHED_PROLOG): New macro.\n+\t(TARGET_SCHED_EPILOG): New macro.\n+\n+\t2000-01-04  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.c: Correct comment, the `minimal' TOCs are actually\n+\tone per translation unit, not one per function.\n+\t(output_toc): Also do duplicate constant elimination\n+\tfor per-translation-unit TOCs.\n+\n+\t* rs6000.md (nonlocal_goto_receiver): Put it back as before.  Add\n+\ta comment explaining _exactly_ when this pattern gets used.\n+\t(builtin_setjmp_receiver): New pattern for better clarity.\n+\t(init_v4_pic): Move it into a section dealing with TOC registers.\n+\n+\t1999-12-30  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.c (toc_hash_table): New variable.\n+\t(rs6000_hash_constant): New function.\n+\t(toc_hash_function): New function.\n+\t(toc_hash_eq): New function.\n+\t(toc_hash_mark_entry): New function.\n+\t(toc_hash_mark_table): New function.\n+\t(output_toc): Don't output duplicate TOC entries in\n+\ta single file.\n+\t(rs6000_add_gc_roots): Add the hash table as a GC root.\n+\t* t-aix43: Move AR_FOR_TARGET and CLIB here from x-aix43,\n+\twhere they clearly shouldn't be.  This may need to be fixed\n+\tlater when there is a GNU ar for AIX.\n+\t* x-aix43: Don't define CLIB or AR_FOR_TARGET.\n+\tDon't define BOOT_LDFLAGS as it is now not necessary.\n+\n+\t1999-12-29  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* rs6000.c (rs6000_build_va_list): Use 'char *' rather than 'void *'\n+\tfor va_list on AIX.  Use unsigned_char_type_node rather than\n+\tconstructing our own version on svr4.\n+\n+\t1999-12-17  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* tramp.asm (__trampoline_size): Delete CYGNUS LOCAL comment,\n+\tsince patently it's not.\n+\n+\t1999-12-08  Geoff Keating  <geoffk@cygnus.com>\n+\n+\t* config/rs6000/rs6000.md (nonlocal_goto_receiver): Turn into\n+\tdefine_expand/define_insn pair, and handle restore of the\n+\tSVR4 -fpic register.\n \n Wed Mar 15 15:43:38 2000  Jeffrey A Law  (law@cygnus.com)\n "}]}