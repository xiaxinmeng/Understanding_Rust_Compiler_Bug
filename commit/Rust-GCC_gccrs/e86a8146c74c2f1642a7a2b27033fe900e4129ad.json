{"sha": "e86a8146c74c2f1642a7a2b27033fe900e4129ad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTg2YTgxNDZjNzRjMmYxNjQyYTdhMmIyNzAzM2ZlOTAwZTQxMjlhZA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2013-10-25T08:55:19Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2013-10-25T08:55:19Z"}, "message": "recog.c (search_ofs): New static variable moved from...\n\n\t* recog.c (search_ofs): New static variable moved from...\n\t(peep2_find_free_register): ...here.\n\t(peephole2_optimize): Initialize it.\n\nFrom-SVN: r204050", "tree": {"sha": "b2938ef38b0b9ed4c43649b1ac0bf1366031c394", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b2938ef38b0b9ed4c43649b1ac0bf1366031c394"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e86a8146c74c2f1642a7a2b27033fe900e4129ad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e86a8146c74c2f1642a7a2b27033fe900e4129ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e86a8146c74c2f1642a7a2b27033fe900e4129ad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e86a8146c74c2f1642a7a2b27033fe900e4129ad/comments", "author": null, "committer": null, "parents": [{"sha": "24ebcbc8671987fdfe931bf2fb0dd11a71f750d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24ebcbc8671987fdfe931bf2fb0dd11a71f750d3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24ebcbc8671987fdfe931bf2fb0dd11a71f750d3"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "d18f98804494d16af96e230cb8c4bd4eb4150e2a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e86a8146c74c2f1642a7a2b27033fe900e4129ad/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e86a8146c74c2f1642a7a2b27033fe900e4129ad/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e86a8146c74c2f1642a7a2b27033fe900e4129ad", "patch": "@@ -1,7 +1,12 @@\n+2013-10-25  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* recog.c (search_ofs): New static variable moved from...\n+\t(peep2_find_free_register): ...here.\n+\t(peephole2_optimize): Initialize it.\n+\n 2013-10-25  Tobias Burnus  <burnus@net-b.de>\n \n-\t* doc/invoke.texi (fopenmp): Change supported OpenMP version\n-\tto 4.0.\n+\t* doc/invoke.texi (fopenmp): Change supported OpenMP version to 4.0.\n \n 2013-10-25  Uros Bizjak  <ubizjak@gmail.com>\n "}, {"sha": "14a1e7af09311e22c60783510550a1279b0993c6", "filename": "gcc/recog.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e86a8146c74c2f1642a7a2b27033fe900e4129ad/gcc%2Frecog.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e86a8146c74c2f1642a7a2b27033fe900e4129ad/gcc%2Frecog.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frecog.c?ref=e86a8146c74c2f1642a7a2b27033fe900e4129ad", "patch": "@@ -3069,6 +3069,9 @@ peep2_reg_dead_p (int ofs, rtx reg)\n   return 1;\n }\n \n+/* Regno offset to be used in the register search.  */\n+static int search_ofs;\n+\n /* Try to find a hard register of mode MODE, matching the register class in\n    CLASS_STR, which is available at the beginning of insn CURRENT_INSN and\n    remains available until the end of LAST_INSN.  LAST_INSN may be NULL_RTX,\n@@ -3084,7 +3087,6 @@ rtx\n peep2_find_free_register (int from, int to, const char *class_str,\n \t\t\t  enum machine_mode mode, HARD_REG_SET *reg_set)\n {\n-  static int search_ofs;\n   enum reg_class cl;\n   HARD_REG_SET live;\n   df_ref *def_rec;\n@@ -3549,6 +3551,7 @@ peephole2_optimize (void)\n   /* Initialize the regsets we're going to use.  */\n   for (i = 0; i < MAX_INSNS_PER_PEEP2 + 1; ++i)\n     peep2_insn_data[i].live_before = BITMAP_ALLOC (&reg_obstack);\n+  search_ofs = 0;\n   live = BITMAP_ALLOC (&reg_obstack);\n \n   FOR_EACH_BB_REVERSE (bb)"}]}