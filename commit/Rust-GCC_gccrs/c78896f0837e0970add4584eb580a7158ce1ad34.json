{"sha": "c78896f0837e0970add4584eb580a7158ce1ad34", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzc4ODk2ZjA4MzdlMDk3MGFkZDQ1ODRlYjU4MGE3MTU4Y2UxYWQzNA==", "commit": {"author": {"name": "Loren J. Rittle", "email": "ljrittle@acm.org", "date": "1999-08-17T18:32:32Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "1999-08-17T18:32:32Z"}, "message": "Do not trash single-line C-style comments\n\nFrom-SVN: r28735", "tree": {"sha": "d1c9ea2a8f647a76d8a86b4dec5b5a39401c00bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1c9ea2a8f647a76d8a86b4dec5b5a39401c00bc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c78896f0837e0970add4584eb580a7158ce1ad34", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c78896f0837e0970add4584eb580a7158ce1ad34", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c78896f0837e0970add4584eb580a7158ce1ad34", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c78896f0837e0970add4584eb580a7158ce1ad34/comments", "author": null, "committer": null, "parents": [{"sha": "6baa5e292175f8f91e4c53f288babe0c27e27bc6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6baa5e292175f8f91e4c53f288babe0c27e27bc6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6baa5e292175f8f91e4c53f288babe0c27e27bc6"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "c2b03a255c49f3875e4c06e2735561de0ae9b747", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c78896f0837e0970add4584eb580a7158ce1ad34/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c78896f0837e0970add4584eb580a7158ce1ad34/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c78896f0837e0970add4584eb580a7158ce1ad34", "patch": "@@ -1,3 +1,8 @@\n+Tue Aug 17 01:40:54 1999  Loren Rittle  <ljrittle@acm.org>\n+\n+\t* fixinc/inclhack.def (no_double_slash): Do not trash single-line\n+\tC-style comments.  Do not lose the character before double slash.\n+\n Mon Aug 16 18:08:22 EDT 1999  Andrew MacLeod  <amacleod@cygnus.com>\n \n \t* basic-block.h (struct edge_list): Stucture to maintain a vector"}, {"sha": "83d66919f0b4c0c939ee9e0a7f0fbac1e3b67bcf", "filename": "gcc/fixinc/fixincl.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c78896f0837e0970add4584eb580a7158ce1ad34/gcc%2Ffixinc%2Ffixincl.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c78896f0837e0970add4584eb580a7158ce1ad34/gcc%2Ffixinc%2Ffixincl.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.sh?ref=c78896f0837e0970add4584eb580a7158ce1ad34", "patch": "@@ -6,7 +6,7 @@\n # files which are fixed to work correctly with ANSI C and placed in a\n # directory that GNU C will search.\n #\n-# This script contains 105 fixup scripts.\n+# This script contains 106 fixup scripts.\n #\n # See README-fixinc for more information.\n #"}, {"sha": "d17614b98594a8516688cbde384df9505dedc3d1", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c78896f0837e0970add4584eb580a7158ce1ad34/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c78896f0837e0970add4584eb580a7158ce1ad34/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=c78896f0837e0970add4584eb580a7158ce1ad34", "patch": "@@ -709,7 +709,8 @@ tTestDesc aNo_Double_SlashTests[] = {\n  */\n const char* apzNo_Double_SlashPatch[] = { \"sed\",\n     \"-e\", \"s,^//.*$,,\",\n-    \"-e\", \"s,[^:]//[^\\\"].*$,,\",\n+    \"-e\", \"s,\\\\(/\\\\*.*\\\\)//\\\\(.*\\\\*/\\\\),\\\\1/ /\\\\2,g\",\n+    \"-e\", \"s,\\\\([^:]\\\\)//[^\\\"].*$,\\\\1,\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *"}, {"sha": "fbdc737a8555a033a9a793b6005c7c074870482f", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c78896f0837e0970add4584eb580a7158ce1ad34/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c78896f0837e0970add4584eb580a7158ce1ad34/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=c78896f0837e0970add4584eb580a7158ce1ad34", "patch": "@@ -432,12 +432,14 @@ fix = {\n     /*\n      *  Test that the file-to-fix does not from a C++ directory\n      *  Also, only accept double slashes that are not part of URL's\n+     *  and do not appear to be within a single-line C-style comment\n      *  and are not the end of a quoted string.\n      */\n     test   = ' -z \"`echo ${file} | egrep \\'(CC|cxx|\\+\\+)/\\'`\"';\n     select = '(^|[^:])//[^\"*]';\n     sed    = 's,^//.*$,,';\n-    sed    = 's,[^:]//[^\"].*$,,';\n+    sed    = 's,\\(/\\*.*\\)//\\(.*\\*/\\),\\1/ /\\2,g';\n+    sed    = 's,\\([^:]\\)//[^\"].*$,\\1,';\n };\n \n "}, {"sha": "457fc9702c85aeb8f2d477f37fb0a43abd1ca673", "filename": "gcc/fixinc/inclhack.sh", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c78896f0837e0970add4584eb580a7158ce1ad34/gcc%2Ffixinc%2Finclhack.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c78896f0837e0970add4584eb580a7158ce1ad34/gcc%2Ffixinc%2Finclhack.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.sh?ref=c78896f0837e0970add4584eb580a7158ce1ad34", "patch": "@@ -844,7 +844,8 @@ _EOF_\n     else infile=${DESTFILE} ; fi \n \n     sed -e 's,^//.*$,,' \\\n-        -e 's,[^:]//[^\"].*$,,' \\\n+        -e 's,\\(/\\*.*\\)//\\(.*\\*/\\),\\1/ /\\2,g' \\\n+        -e 's,\\([^:]\\)//[^\"].*$,\\1,' \\\n           < $infile > ${DESTDIR}/fixinc.tmp\n     rm -f ${DESTFILE}\n     mv -f ${DESTDIR}/fixinc.tmp ${DESTFILE}"}]}