{"sha": "c8266dd238bf96738d2b2cb05b1d271492d61a6b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzgyNjZkZDIzOGJmOTY3MzhkMmIyY2IwNWIxZDI3MTQ5MmQ2MWE2Yg==", "commit": {"author": {"name": "Kresten Krab Thorup", "email": "krab@gcc.gnu.org", "date": "1993-05-05T13:51:43Z"}, "committer": {"name": "Kresten Krab Thorup", "email": "krab@gcc.gnu.org", "date": "1993-05-05T13:51:43Z"}, "message": "(-shouldNotImplement:): New method\n\n(-shouldNotImplement:): New method\n(-free): assign [FREED class] to isa when freeing\n\nFrom-SVN: r4332", "tree": {"sha": "0ddbd0e641e0b4a9f86a3a60febf01099f968e83", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0ddbd0e641e0b4a9f86a3a60febf01099f968e83"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8266dd238bf96738d2b2cb05b1d271492d61a6b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8266dd238bf96738d2b2cb05b1d271492d61a6b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8266dd238bf96738d2b2cb05b1d271492d61a6b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8266dd238bf96738d2b2cb05b1d271492d61a6b/comments", "author": null, "committer": null, "parents": [{"sha": "27f581c390ebb6141dffda7cb55c979fa76032a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27f581c390ebb6141dffda7cb55c979fa76032a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27f581c390ebb6141dffda7cb55c979fa76032a0"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "e6c90ec1a3f3a7d7d170c8c2127ffcc3866d9b9f", "filename": "gcc/objc/Object.m", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8266dd238bf96738d2b2cb05b1d271492d61a6b/gcc%2Fobjc%2FObject.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8266dd238bf96738d2b2cb05b1d271492d61a6b/gcc%2Fobjc%2FObject.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2FObject.m?ref=c8266dd238bf96738d2b2cb05b1d271492d61a6b", "patch": "@@ -27,6 +27,8 @@\n #include \"objc/Protocol.h\"\n #include \"objc/objc-api.h\"\n \n+@class FREED;\n+\n #include \"gstdarg.h\"\n extern void (*_objc_error)(id object, const char *format, va_list);\n \n@@ -58,6 +60,10 @@ @implementation Object\n \n - free\n {\n+  static Class* freedClass = 0;\n+  if (!freedClass)\n+    freedClass = [FREED class];\n+  isa = freedClass;\n   return object_dispose(self);\n }\n \n@@ -293,6 +299,11 @@ - (Class*)transmuteClassTo:(Class*)aClassObject\n                      object_get_class_name(self), sel_get_name(aSel)];\n }\n \n+- shouldNotImplement\n+{\n+  return [self error:\"should not implement %s\", sel_get_name(aSel)];\n+}\n+\n - error:(const char *)aString, ...\n {\n #define FMT \"error: %s (%s)\\n%s\\n\""}]}