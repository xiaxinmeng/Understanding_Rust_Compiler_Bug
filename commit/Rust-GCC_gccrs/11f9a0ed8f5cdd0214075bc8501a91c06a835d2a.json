{"sha": "11f9a0ed8f5cdd0214075bc8501a91c06a835d2a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTFmOWEwZWQ4ZjVjZGQwMjE0MDc1YmM4NTAxYTkxYzA2YTgzNWQyYQ==", "commit": {"author": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2003-10-25T17:43:13Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2003-10-25T17:43:13Z"}, "message": "snprintf alphabetically precedes uint\n\nFrom-SVN: r72928", "tree": {"sha": "1850a9e037b81193d4b4d75438d690aa1160fc96", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1850a9e037b81193d4b4d75438d690aa1160fc96"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/11f9a0ed8f5cdd0214075bc8501a91c06a835d2a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11f9a0ed8f5cdd0214075bc8501a91c06a835d2a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11f9a0ed8f5cdd0214075bc8501a91c06a835d2a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11f9a0ed8f5cdd0214075bc8501a91c06a835d2a/comments", "author": null, "committer": null, "parents": [{"sha": "bd18496b13ccdc78ab2ee5778583aa04af36308b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd18496b13ccdc78ab2ee5778583aa04af36308b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd18496b13ccdc78ab2ee5778583aa04af36308b"}], "stats": {"total": 124, "additions": 62, "deletions": 62}, "files": [{"sha": "08e29593334e51e850066f1833141030ecfa3225", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 43, "deletions": 43, "changes": 86, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11f9a0ed8f5cdd0214075bc8501a91c06a835d2a/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11f9a0ed8f5cdd0214075bc8501a91c06a835d2a/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=11f9a0ed8f5cdd0214075bc8501a91c06a835d2a", "patch": "@@ -2,11 +2,11 @@\n  * \n  * DO NOT EDIT THIS FILE   (fixincl.x)\n  * \n- * It has been AutoGen-ed  Wednesday October 22, 2003 at 10:23:00 PM UTC\n+ * It has been AutoGen-ed  Saturday October 25, 2003 at 10:36:26 AM PDT\n  * From the definitions    inclhack.def\n  * and the template file   fixincl\n  */\n-/* DO NOT CVS-MERGE THIS FILE, EITHER Wed Oct 22 22:23:00 UTC 2003\n+/* DO NOT CVS-MERGE THIS FILE, EITHER Sat Oct 25 10:36:26 PDT 2003\n  *\n  * You must regenerate it.  Use the ./genfixes script.\n  *\n@@ -2068,6 +2068,41 @@ static const char* apzHpux11_Size_TPatch[] = {\n     \"_hpux_size_t\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Hpux11_Snprintf fix\n+ */\n+tSCC zHpux11_SnprintfName[] =\n+     \"hpux11_snprintf\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zHpux11_SnprintfList[] =\n+  \"|stdio.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzHpux11_SnprintfMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zHpux11_SnprintfSelect0[] =\n+       \"(extern int snprintf *\\\\(char *\\\\*, *(|__|_hpux_)size_t,) *(char *\\\\*, *\\\\.\\\\.\\\\.\\\\);)\";\n+\n+#define    HPUX11_SNPRINTF_TEST_CT  1\n+static tTestDesc aHpux11_SnprintfTests[] = {\n+  { TT_EGREP,    zHpux11_SnprintfSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Hpux11_Snprintf\n+ */\n+static const char* apzHpux11_SnprintfPatch[] = {\n+    \"format\",\n+    \"%1 const %3\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Hpux11_Uint32_C fix\n@@ -2138,41 +2173,6 @@ static const char* apzHpux11_VsnprintfPatch[] = {\n     \"%1 __va_list);\",\n     (char*)NULL };\n \n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Hpux11_Snprintf fix\n- */\n-tSCC zHpux11_SnprintfName[] =\n-     \"hpux11_snprintf\";\n-\n-/*\n- *  File name selection pattern\n- */\n-tSCC zHpux11_SnprintfList[] =\n-  \"|stdio.h|\";\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzHpux11_SnprintfMachs (const char**)NULL\n-\n-/*\n- *  content selection pattern - do fix if pattern found\n- */\n-tSCC zHpux11_SnprintfSelect0[] =\n-       \"(extern int snprintf *\\\\(char *\\\\*, *(|__|_hpux_)size_t,) *(char *\\\\*, *\\\\.\\\\.\\\\.\\\\);)\";\n-\n-#define    HPUX11_SNPRINTF_TEST_CT  1\n-static tTestDesc aHpux11_SnprintfTests[] = {\n-  { TT_EGREP,    zHpux11_SnprintfSelect0, (regex_t*)NULL }, };\n-\n-/*\n- *  Fix Command Arguments for Hpux11_Snprintf\n- */\n-static const char* apzHpux11_SnprintfPatch[] = {\n-    \"format\",\n-    \"%1 const %3\",\n-    (char*)NULL };\n-\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Hpux8_Bogus_Inlines fix\n@@ -6435,9 +6435,9 @@ typedef enum {\n     HPUX11_ABS_FIXIDX,\n     HPUX11_FABSF_FIXIDX,\n     HPUX11_SIZE_T_FIXIDX,\n+    HPUX11_SNPRINTF_FIXIDX,\n     HPUX11_UINT32_C_FIXIDX,\n     HPUX11_VSNPRINTF_FIXIDX,\n-    HPUX11_SNPRINTF_FIXIDX,\n     HPUX8_BOGUS_INLINES_FIXIDX,\n     HPUX_CTYPE_MACROS_FIXIDX,\n     HPUX_LONG_DOUBLE_FIXIDX,\n@@ -6791,6 +6791,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      HPUX11_SIZE_T_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aHpux11_Size_TTests,   apzHpux11_Size_TPatch, 0 },\n \n+  {  zHpux11_SnprintfName,    zHpux11_SnprintfList,\n+     apzHpux11_SnprintfMachs,\n+     HPUX11_SNPRINTF_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aHpux11_SnprintfTests,   apzHpux11_SnprintfPatch, 0 },\n+\n   {  zHpux11_Uint32_CName,    zHpux11_Uint32_CList,\n      apzHpux11_Uint32_CMachs,\n      HPUX11_UINT32_C_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n@@ -6801,11 +6806,6 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      HPUX11_VSNPRINTF_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aHpux11_VsnprintfTests,   apzHpux11_VsnprintfPatch, 0 },\n \n-  {  zHpux11_SnprintfName,    zHpux11_SnprintfList,\n-     apzHpux11_SnprintfMachs,\n-     HPUX11_SNPRINTF_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n-     aHpux11_SnprintfTests,   apzHpux11_SnprintfPatch, 0 },\n-\n   {  zHpux8_Bogus_InlinesName,    zHpux8_Bogus_InlinesList,\n      apzHpux8_Bogus_InlinesMachs,\n      HPUX8_BOGUS_INLINES_TEST_CT, FD_MACH_ONLY,"}, {"sha": "432d0166512b95206e339844fab65f54204e1ea9", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 19, "deletions": 19, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11f9a0ed8f5cdd0214075bc8501a91c06a835d2a/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11f9a0ed8f5cdd0214075bc8501a91c06a835d2a/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=11f9a0ed8f5cdd0214075bc8501a91c06a835d2a", "patch": "@@ -1210,6 +1210,25 @@ fix = {\n };\n \n \n+/*\n+ *  Fix hpux 11.00 broken snprintf declaration\n+ *  (third argument is char *, needs to be const char * to prevent\n+ *  spurious warnings with -Wwrite-strings or in C++).\n+ */\n+fix = {\n+    hackname = hpux11_snprintf;\n+    files    = stdio.h;\n+    select   = '(extern int snprintf *\\(char *\\*, *(|__|_hpux_)size_t,)'\n+                                    ' *(char *\\*, *\\.\\.\\.\\);)';\n+    c_fix     = format;\n+    c_fix_arg = '%1 const %3';\n+\n+    test_text = \"extern int snprintf(char *, size_t, char *, ...);\\n\"\n+                \"extern int snprintf(char *, __size_t, char *, ...);\\n\"\n+                \"extern int snprintf(char *, _hpux_size_t, char *, ...);\";\n+};\n+\n+\n /*\n  * In inttypes.h on HPUX 11, the use of __CONCAT__ in the definition\n  * of UINT32_C has undefined behavior according to ISO/ANSI:\n@@ -1254,25 +1273,6 @@ fix = {\n };\n \n \n-/*\n- *  Fix hpux 11.00 broken snprintf declaration\n- *  (third argument is char *, needs to be const char * to prevent\n- *  spurious warnings with -Wwrite-strings or in C++).\n- */\n-fix = {\n-    hackname = hpux11_snprintf;\n-    files    = stdio.h;\n-    select   = '(extern int snprintf *\\(char *\\*, *(|__|_hpux_)size_t,)'\n-                                    ' *(char *\\*, *\\.\\.\\.\\);)';\n-    c_fix     = format;\n-    c_fix_arg = '%1 const %3';\n-\n-    test_text = \"extern int snprintf(char *, size_t, char *, ...);\\n\"\n-                \"extern int snprintf(char *, __size_t, char *, ...);\\n\"\n-                \"extern int snprintf(char *, _hpux_size_t, char *, ...);\";\n-};\n-\n-\n /*\n  *  get rid of bogus inline definitions in HP-UX 8.0\n  */"}]}