{"sha": "26aed92305eabb36c383c9178e01a3e0a7d1e830", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjZhZWQ5MjMwNWVhYmIzNmMzODNjOTE3OGUwMWEzZTBhN2QxZTgzMA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2004-09-29T19:51:17Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2004-09-29T19:51:17Z"}, "message": "re PR libgcj/17715 (.properties files missing from libgcj-4.0.0.jar)\n\n\tPR libgcj/17715:\n\t* Makefile.in: Rebuilt.\n\t* Makefile.am (libgcj-@gcc_version@.jar): Include properties\n\tfiles.\n\t(all_property_files): New macro.\n\nFrom-SVN: r88300", "tree": {"sha": "dccddba1f8118a813d8c2084101ef4057b82aadd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dccddba1f8118a813d8c2084101ef4057b82aadd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/26aed92305eabb36c383c9178e01a3e0a7d1e830", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26aed92305eabb36c383c9178e01a3e0a7d1e830", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26aed92305eabb36c383c9178e01a3e0a7d1e830", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26aed92305eabb36c383c9178e01a3e0a7d1e830/comments", "author": null, "committer": null, "parents": [{"sha": "3e6688a77f7b7279b5f11407e19280c772e6236d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e6688a77f7b7279b5f11407e19280c772e6236d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e6688a77f7b7279b5f11407e19280c772e6236d"}], "stats": {"total": 64, "additions": 50, "deletions": 14}, "files": [{"sha": "f9ec617033689cc3f97ab36f461832fa8254a17b", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26aed92305eabb36c383c9178e01a3e0a7d1e830/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26aed92305eabb36c383c9178e01a3e0a7d1e830/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=26aed92305eabb36c383c9178e01a3e0a7d1e830", "patch": "@@ -1,5 +1,11 @@\n 2004-09-29  Tom Tromey  <tromey@redhat.com>\n \n+\tPR libgcj/17715:\n+\t* Makefile.in: Rebuilt.\n+\t* Makefile.am (libgcj-@gcc_version@.jar): Include properties\n+\tfiles.\n+\t(all_property_files): New macro.\n+\n \t* Makefile.in: Rebuilt.\n \t* Makefile.am (ordinary_java_source_files): Re-sorted.\n \t(libgcj.la): Moved to old location near lib-gnu-awt-xlib.la."}, {"sha": "1e0e9c078702ff6f1886b2f65d73b50d558a1bbb", "filename": "libjava/Makefile.am", "status": "modified", "additions": 24, "deletions": 7, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26aed92305eabb36c383c9178e01a3e0a7d1e830/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26aed92305eabb36c383c9178e01a3e0a7d1e830/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=26aed92305eabb36c383c9178e01a3e0a7d1e830", "patch": "@@ -469,6 +469,9 @@ all_java_source_files = \\\n \n all_java_class_files = $(all_java_source_files:.java=.class)\n \n+all_property_files = $(property_files) $(jgss_property_files) \\\n+    java/util/logging/logging.properties\n+\n ## Build property files into the library.\n property_files = \\\n gnu/regexp/MessagesBundle.properties \\\n@@ -498,9 +501,16 @@ libgcj-@gcc_version@.jar: $(all_java_source_files)\n \t@: $(call write_entries_to_file,$?,libgcj.sourcelist)\n \t$(JAVAC) $(JCFLAGS) -classpath '' -bootclasspath $(here):$(srcdir) -d $(here) @libgcj.sourcelist\n ## Note that we explicitly want to include directory information.\n-\tfind java gnu javax org -type d -o -type f -name '*.class' | \\\n-\t  sed -e '/\\/\\./d' -e '/\\/xlib/d' | \\\n-\t  $(ZIP) cfM0E@ $@\n+\t(find java gnu javax org -type d -o -type f -name '*.class'; \\\n+## Ugly code to avoid \"echo -C\".  Must separate each entry by a newline\n+## Gross but easy.\n+\tfor file in $(all_property_files); do \\\n+\t  echo \"x-C\" | sed -e 's/^.//'; \\\n+\t  echo $(srcdir); \\\n+\t  echo $$file; \\\n+\tdone) | \\\n+\t  sed -e '/\\/xlib/d' -e '/\\/\\.libs/d' -e '/\\/\\.deps/d' | \\\n+\t  $(ZIP) -cfM0E@ $@\n \n # This next rule seems backward, but reflects the fact\n # that 1) all classfiles are compiled in one go when the\n@@ -516,12 +526,19 @@ else # !ONESTEP\n .java.class:\n \t$(JAVAC) $(JCFLAGS) -classpath '' -bootclasspath $(here):$(srcdir) -d $(here) $<\n \n-libgcj-@gcc_version@.jar: $(all_java_class_files)\n+libgcj-@gcc_version@.jar: $(all_java_class_files) $(all_property_files)\n \t-@rm -f libgcj-@gcc_version@.jar\n ## Note that we explicitly want to include directory information.\n-\tfind java gnu javax org -type d -o -type f -name '*.class' | \\\n-\t  sed -e '/\\/\\./d' -e '/\\/xlib/d' | \\\n-\t  $(ZIP) cfM0E@ $@\n+\t(find java gnu javax org -type d -o -type f -name '*.class'; \\\n+## Ugly code to avoid \"echo -C\".  Must separate each entry by a newline\n+## Gross but easy.\n+\tfor file in $(all_property_files); do \\\n+\t  echo \"x-C\" | sed -e 's/^.//'; \\\n+\t  echo $(srcdir); \\\n+\t  echo $$file; \\\n+\tdone) | \\\n+\t  sed -e '/\\/xlib/d' -e '/\\/\\.libs/d' -e '/\\/\\.deps/d' | \\\n+\t  $(ZIP) -cfM0E@ $@\n \n endif\n "}, {"sha": "678acdcb493998fc2f9ad32a7d041c1063a36518", "filename": "libjava/Makefile.in", "status": "modified", "additions": 20, "deletions": 7, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26aed92305eabb36c383c9178e01a3e0a7d1e830/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26aed92305eabb36c383c9178e01a3e0a7d1e830/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=26aed92305eabb36c383c9178e01a3e0a7d1e830", "patch": "@@ -4671,6 +4671,9 @@ all_java_source_files = \\\n     $(xlib_java_source_files)\n \n all_java_class_files = $(all_java_source_files:.java=.class)\n+all_property_files = $(property_files) $(jgss_property_files) \\\n+    java/util/logging/logging.properties\n+\n property_files = \\\n gnu/regexp/MessagesBundle.properties \\\n gnu/regexp/MessagesBundle_fr.properties\n@@ -23159,9 +23162,14 @@ $(lib_gnu_java_awt_peer_gtk_la_OBJECTS): $(lib_gnu_java_awt_peer_gtk_la_DEPENDEN\n @ONESTEP_TRUE@\t@echo Compiling Java sourcefiles...\n @ONESTEP_TRUE@\t@: $(call write_entries_to_file,$?,libgcj.sourcelist)\n @ONESTEP_TRUE@\t$(JAVAC) $(JCFLAGS) -classpath '' -bootclasspath $(here):$(srcdir) -d $(here) @libgcj.sourcelist\n-@ONESTEP_TRUE@\tfind java gnu javax org -type d -o -type f -name '*.class' | \\\n-@ONESTEP_TRUE@\t  sed -e '/\\/\\./d' -e '/\\/xlib/d' | \\\n-@ONESTEP_TRUE@\t  $(ZIP) cfM0E@ $@\n+@ONESTEP_TRUE@\t(find java gnu javax org -type d -o -type f -name '*.class'; \\\n+@ONESTEP_TRUE@\tfor file in $(all_property_files); do \\\n+@ONESTEP_TRUE@\t  echo \"x-C\" | sed -e 's/^.//'; \\\n+@ONESTEP_TRUE@\t  echo $(srcdir); \\\n+@ONESTEP_TRUE@\t  echo $$file; \\\n+@ONESTEP_TRUE@\tdone) | \\\n+@ONESTEP_TRUE@\t  sed -e '/\\/xlib/d' -e '/\\/\\.libs/d' -e '/\\/\\.deps/d' | \\\n+@ONESTEP_TRUE@\t  $(ZIP) -cfM0E@ $@\n \n # This next rule seems backward, but reflects the fact\n # that 1) all classfiles are compiled in one go when the\n@@ -23175,11 +23183,16 @@ $(lib_gnu_java_awt_peer_gtk_la_OBJECTS): $(lib_gnu_java_awt_peer_gtk_la_DEPENDEN\n @ONESTEP_FALSE@.java.class:\n @ONESTEP_FALSE@\t$(JAVAC) $(JCFLAGS) -classpath '' -bootclasspath $(here):$(srcdir) -d $(here) $<\n \n-@ONESTEP_FALSE@libgcj-@gcc_version@.jar: $(all_java_class_files)\n+@ONESTEP_FALSE@libgcj-@gcc_version@.jar: $(all_java_class_files) $(all_property_files)\n @ONESTEP_FALSE@\t-@rm -f libgcj-@gcc_version@.jar\n-@ONESTEP_FALSE@\tfind java gnu javax org -type d -o -type f -name '*.class' | \\\n-@ONESTEP_FALSE@\t  sed -e '/\\/\\./d' -e '/\\/xlib/d' | \\\n-@ONESTEP_FALSE@\t  $(ZIP) cfM0E@ $@\n+@ONESTEP_FALSE@\t(find java gnu javax org -type d -o -type f -name '*.class'; \\\n+@ONESTEP_FALSE@\tfor file in $(all_property_files); do \\\n+@ONESTEP_FALSE@\t  echo \"x-C\" | sed -e 's/^.//'; \\\n+@ONESTEP_FALSE@\t  echo $(srcdir); \\\n+@ONESTEP_FALSE@\t  echo $$file; \\\n+@ONESTEP_FALSE@\tdone) | \\\n+@ONESTEP_FALSE@\t  sed -e '/\\/xlib/d' -e '/\\/\\.libs/d' -e '/\\/\\.deps/d' | \\\n+@ONESTEP_FALSE@\t  $(ZIP) -cfM0E@ $@\n \n mostlyclean-local:\n \tfind . -name '*.lo' -print | xargs $(LIBTOOL) rm -f"}]}