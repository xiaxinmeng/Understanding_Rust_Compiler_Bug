{"sha": "0b93d3b68572cc36423a864d26eb74321eb2c4af", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGI5M2QzYjY4NTcyY2MzNjQyM2E4NjRkMjZlYjc0MzIxZWIyYzRhZg==", "commit": {"author": {"name": "Ramana Radhakrishnan", "email": "ramana.radhakrishnan@arm.com", "date": "2013-07-25T09:40:11Z"}, "committer": {"name": "Ramana Radhakrishnan", "email": "ramana@gcc.gnu.org", "date": "2013-07-25T09:40:11Z"}, "message": "Fix PR target/57731 PR target/57837\n\n2013-07-25  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n\n\tPR target/19599\n\tPR target/57731\n\tPR target/57837\n\t* config/arm/arm.md (\"*sibcall_value_insn): Replace use of\n\tSs with US. Adjust output for v5 and v4t.\n\t(*sibcall_value_insn): Likewise and loosen predicate on\n\toperand0.\n\t* config/arm/constraints.md (\"Ss\"): Rename to US.\n\nFrom-SVN: r201240", "tree": {"sha": "96b8625fb3b5d3dd8f607b53998c565ff0b52629", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96b8625fb3b5d3dd8f607b53998c565ff0b52629"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0b93d3b68572cc36423a864d26eb74321eb2c4af", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b93d3b68572cc36423a864d26eb74321eb2c4af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b93d3b68572cc36423a864d26eb74321eb2c4af", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b93d3b68572cc36423a864d26eb74321eb2c4af/comments", "author": null, "committer": null, "parents": [{"sha": "67b1d0046b856e95b9c2086be14d1af0d91d8f90", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67b1d0046b856e95b9c2086be14d1af0d91d8f90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67b1d0046b856e95b9c2086be14d1af0d91d8f90"}], "stats": {"total": 34, "additions": 23, "deletions": 11}, "files": [{"sha": "87f1deb4c3f4742e78ec274a1853a426c47caffa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b93d3b68572cc36423a864d26eb74321eb2c4af/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b93d3b68572cc36423a864d26eb74321eb2c4af/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0b93d3b68572cc36423a864d26eb74321eb2c4af", "patch": "@@ -1,3 +1,14 @@\n+2013-07-25  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n+\n+\tPR target/19599\n+\tPR target/57731\n+\tPR target/57748\n+\t* config/arm/arm.md (\"*sibcall_value_insn): Replace use of\n+\tSs with US. Adjust output for v5 and v4t.\n+\t(*sibcall_value_insn): Likewise and loosen predicate on\n+\toperand0.\n+\t* config/arm/constraints.md (\"Ss\"): Rename to US.\n+\n 2013-07-25  Terry Guo  <terry.guo@arm.com>\n \n \t* config/arm/arm.c (thumb1_size_rtx_costs): Assign proper cost for"}, {"sha": "185037438d8ec1a5406020a466ba9c059e4333b4", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b93d3b68572cc36423a864d26eb74321eb2c4af/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b93d3b68572cc36423a864d26eb74321eb2c4af/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=0b93d3b68572cc36423a864d26eb74321eb2c4af", "patch": "@@ -9619,7 +9619,7 @@\n )\n \n (define_insn \"*sibcall_insn\"\n- [(call (mem:SI (match_operand:SI 0 \"call_insn_operand\" \"Cs,Ss\"))\n+ [(call (mem:SI (match_operand:SI 0 \"call_insn_operand\" \"Cs, US\"))\n \t(match_operand 1 \"\" \"\"))\n   (return)\n   (use (match_operand 2 \"\" \"\"))]\n@@ -9630,7 +9630,7 @@\n   else\n     {\n       if (arm_arch5 || arm_arch4t)\n-\treturn \\\" bx\\\\t%0\\\\t%@ indirect register sibling call\\\";\n+\treturn \\\" bx%?\\\\t%0\\\\t%@ indirect register sibling call\\\";\n       else\n \treturn \\\"mov%?\\\\t%|pc, %0\\\\t%@ indirect register sibling call\\\";\n     }\n@@ -9639,8 +9639,8 @@\n )\n \n (define_insn \"*sibcall_value_insn\"\n- [(set (match_operand 0 \"s_register_operand\" \"\")\n-       (call (mem:SI (match_operand:SI 1 \"call_insn_operand\" \"Cs,Ss\"))\n+ [(set (match_operand 0 \"\" \"\")\n+       (call (mem:SI (match_operand:SI 1 \"call_insn_operand\" \"Cs,US\"))\n \t     (match_operand 2 \"\" \"\")))\n   (return)\n   (use (match_operand 3 \"\" \"\"))]\n@@ -9651,7 +9651,7 @@\n   else\n     {\n       if (arm_arch5 || arm_arch4t)\n-\treturn \\\"bx\\\\t%1\\\";\n+\treturn \\\"bx%?\\\\t%1\\\";\n       else\n \treturn \\\"mov%?\\\\t%|pc, %1\\\\t@ indirect sibling call \\\";\n     }"}, {"sha": "e2a3099e041ce52d5a5a9d423cd68e74ace3a53e", "filename": "gcc/config/arm/constraints.md", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b93d3b68572cc36423a864d26eb74321eb2c4af/gcc%2Fconfig%2Farm%2Fconstraints.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b93d3b68572cc36423a864d26eb74321eb2c4af/gcc%2Fconfig%2Farm%2Fconstraints.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fconstraints.md?ref=0b93d3b68572cc36423a864d26eb74321eb2c4af", "patch": "@@ -21,7 +21,7 @@\n ;; The following register constraints have been used:\n ;; - in ARM/Thumb-2 state: t, w, x, y, z\n ;; - in Thumb state: h, b\n-;; - in both states: l, c, k, q\n+;; - in both states: l, c, k, q, US\n ;; In ARM state, 'l' is an alias for 'r'\n ;; 'f' and 'v' were previously used for FPA and MAVERICK registers.\n \n@@ -417,15 +417,16 @@\n \t\t\t\t\t\t   0)\n \t\t   && GET_CODE (XEXP (op, 0)) != POST_INC\")))\n \n+(define_constraint \"US\"\n+ \"@internal\n+  US is a symbol reference.\"\n+ (match_code \"symbol_ref\")\n+)\n+\n ;; We used to have constraint letters for S and R in ARM state, but\n ;; all uses of these now appear to have been removed.\n \n ;; Additionally, we used to have a Q constraint in Thumb state, but\n ;; this wasn't really a valid memory constraint.  Again, all uses of\n ;; this now seem to have been removed.\n \n-(define_constraint \"Ss\"\n- \"@internal\n-  Ss is a symbol reference.\"\n- (match_code \"symbol_ref\")\n-)"}]}