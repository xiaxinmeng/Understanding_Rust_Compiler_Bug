{"sha": "c68cac900ab4ccaf6b1a31168bc9a302ebc46428", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzY4Y2FjOTAwYWI0Y2NhZjZiMWEzMTE2OGJjOWEzMDJlYmM0NjQyOA==", "commit": {"author": {"name": "Martin Sebor", "email": "msebor@redhat.com", "date": "2021-07-08T22:02:01Z"}, "committer": {"name": "Martin Sebor", "email": "msebor@redhat.com", "date": "2021-07-08T22:03:19Z"}, "message": "Avoid including <new> to make cross-compiler testing easy.\n\ngcc/testsuite/ChangeLog:\n\n\t* g++.dg/warn/Warray-bounds-11.C: Avoid including <new>.\n\t* g++.dg/warn/Warray-bounds-13.C: Same.", "tree": {"sha": "7928a49d90b92a758a1a745a529d9236b9bff46d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7928a49d90b92a758a1a745a529d9236b9bff46d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c68cac900ab4ccaf6b1a31168bc9a302ebc46428", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c68cac900ab4ccaf6b1a31168bc9a302ebc46428", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c68cac900ab4ccaf6b1a31168bc9a302ebc46428", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c68cac900ab4ccaf6b1a31168bc9a302ebc46428/comments", "author": {"login": "msebor", "id": 381149, "node_id": "MDQ6VXNlcjM4MTE0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/381149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msebor", "html_url": "https://github.com/msebor", "followers_url": "https://api.github.com/users/msebor/followers", "following_url": "https://api.github.com/users/msebor/following{/other_user}", "gists_url": "https://api.github.com/users/msebor/gists{/gist_id}", "starred_url": "https://api.github.com/users/msebor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msebor/subscriptions", "organizations_url": "https://api.github.com/users/msebor/orgs", "repos_url": "https://api.github.com/users/msebor/repos", "events_url": "https://api.github.com/users/msebor/events{/privacy}", "received_events_url": "https://api.github.com/users/msebor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "msebor", "id": 381149, "node_id": "MDQ6VXNlcjM4MTE0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/381149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msebor", "html_url": "https://github.com/msebor", "followers_url": "https://api.github.com/users/msebor/followers", "following_url": "https://api.github.com/users/msebor/following{/other_user}", "gists_url": "https://api.github.com/users/msebor/gists{/gist_id}", "starred_url": "https://api.github.com/users/msebor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msebor/subscriptions", "organizations_url": "https://api.github.com/users/msebor/orgs", "repos_url": "https://api.github.com/users/msebor/repos", "events_url": "https://api.github.com/users/msebor/events{/privacy}", "received_events_url": "https://api.github.com/users/msebor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dee00bf6894be0cabb8f263c993357a6f8444f8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dee00bf6894be0cabb8f263c993357a6f8444f8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dee00bf6894be0cabb8f263c993357a6f8444f8b"}], "stats": {"total": 38, "additions": 36, "deletions": 2}, "files": [{"sha": "9670898770fae45c5d5e1153df5840331febd191", "filename": "gcc/testsuite/g++.dg/warn/Warray-bounds-11.C", "status": "modified", "additions": 18, "deletions": 1, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c68cac900ab4ccaf6b1a31168bc9a302ebc46428/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2FWarray-bounds-11.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c68cac900ab4ccaf6b1a31168bc9a302ebc46428/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2FWarray-bounds-11.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2FWarray-bounds-11.C?ref=c68cac900ab4ccaf6b1a31168bc9a302ebc46428", "patch": "@@ -4,7 +4,24 @@\n    { dg-do compile }\n    { dg-options \"-O2 -Wall -Warray-bounds -ftrack-macro-expansion=0\" } */\n \n-#include <new>\n+#if 0\n+// Avoid including <new> to make cross-compiler testing easy.\n+// #include <new>\n+#else\n+namespace std {\n+\n+typedef __SIZE_TYPE__ size_t;\n+struct nothrow_t { };\n+extern const nothrow_t nothrow;\n+\n+}\n+\n+void* operator new (std::size_t, const std::nothrow_t &) throw ()\n+  __attribute__  ((__alloc_size__ (1), __malloc__));\n+void* operator new[] (std::size_t, const std::nothrow_t &) throw ()\n+    __attribute__  ((__alloc_size__ (1), __malloc__));\n+\n+#endif\n \n typedef __INT32_TYPE__ int32_t;\n "}, {"sha": "449324a315d0f91cdbeda1effea2526744d9a03c", "filename": "gcc/testsuite/g++.dg/warn/Warray-bounds-13.C", "status": "modified", "additions": 18, "deletions": 1, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c68cac900ab4ccaf6b1a31168bc9a302ebc46428/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2FWarray-bounds-13.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c68cac900ab4ccaf6b1a31168bc9a302ebc46428/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2FWarray-bounds-13.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2FWarray-bounds-13.C?ref=c68cac900ab4ccaf6b1a31168bc9a302ebc46428", "patch": "@@ -4,7 +4,24 @@\n    { dg-do compile }\n    { dg-options \"-O2 -Wall -Warray-bounds -ftrack-macro-expansion=0\" } */\n \n-#include <new>\n+#if 0\n+// Avoid including <new> to make cross-compiler testing easy.\n+// #include <new>\n+#else\n+namespace std {\n+\n+typedef __SIZE_TYPE__ size_t;\n+struct nothrow_t { };\n+extern const nothrow_t nothrow;\n+\n+}\n+\n+void* operator new (std::size_t, const std::nothrow_t &) throw ()\n+  __attribute__  ((__alloc_size__ (1), __malloc__));\n+void* operator new[] (std::size_t, const std::nothrow_t &) throw ()\n+    __attribute__  ((__alloc_size__ (1), __malloc__));\n+\n+#endif\n \n typedef __INT32_TYPE__ int32_t;\n "}]}