{"sha": "7160dd0c8210b565631b5e99aef0c2e04a7fec55", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzE2MGRkMGM4MjEwYjU2NTYzMWI1ZTk5YWVmMGMyZTA0YTdmZWM1NQ==", "commit": {"author": {"name": "Charles Hannum", "email": "mycroft@gnu.org", "date": "1992-05-21T08:06:43Z"}, "committer": {"name": "Charles Hannum", "email": "mycroft@gnu.org", "date": "1992-05-21T08:06:43Z"}, "message": "entered into RCS\n\nFrom-SVN: r1036", "tree": {"sha": "9a6054aa6c3ac2a93a2a450fb9dee0559bc21a6d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a6054aa6c3ac2a93a2a450fb9dee0559bc21a6d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7160dd0c8210b565631b5e99aef0c2e04a7fec55", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7160dd0c8210b565631b5e99aef0c2e04a7fec55", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7160dd0c8210b565631b5e99aef0c2e04a7fec55", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7160dd0c8210b565631b5e99aef0c2e04a7fec55/comments", "author": null, "committer": null, "parents": [{"sha": "21331ed739748896c7b3156c56c1b878598cd29f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21331ed739748896c7b3156c56c1b878598cd29f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21331ed739748896c7b3156c56c1b878598cd29f"}], "stats": {"total": 15, "additions": 8, "deletions": 7}, "files": [{"sha": "61b0da1d3bd556412f2049c210cf3304e2b02cec", "filename": "gcc/config/svr3.h", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7160dd0c8210b565631b5e99aef0c2e04a7fec55/gcc%2Fconfig%2Fsvr3.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7160dd0c8210b565631b5e99aef0c2e04a7fec55/gcc%2Fconfig%2Fsvr3.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsvr3.h?ref=7160dd0c8210b565631b5e99aef0c2e04a7fec55", "patch": "@@ -165,25 +165,27 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.\n    PREFIX is the class of label and NUM is the number within the class.\n \n    For most svr3 systems, the convention is that any symbol which begins\n-   with a period is not put into the linker symbol table by the assembler.\n-*/\n+   with a period is not put into the linker symbol table by the assembler.  */\n \n #undef ASM_OUTPUT_INTERNAL_LABEL\n #define ASM_OUTPUT_INTERNAL_LABEL(FILE,PREFIX,NUM)\t\\\n-  fprintf (FILE, \".%s%d:\\n\", PREFIX, NUM)\n+  asm_fprintf (FILE, \"%0L%s%d:\\n\", PREFIX, NUM)\n \n /* This is how to store into the string LABEL\n    the symbol_ref name of an internal numbered label where\n    PREFIX is the class of label and NUM is the number within the class.\n    This is suitable for output with `assemble_name'.\n \n    For most svr3 systems, the convention is that any symbol which begins\n-   with a period is not put into the linker symbol table by the assembler.\n-*/\n+   with a period is not put into the linker symbol table by the assembler.  */\n \n #undef ASM_GENERATE_INTERNAL_LABEL\n #define ASM_GENERATE_INTERNAL_LABEL(LABEL,PREFIX,NUM)\t\\\n-  sprintf (LABEL, \".%s%d\", PREFIX, NUM)\n+  sprintf (LABEL, \"*%s%s%d\", LOCAL_LABEL_PREFIX, PREFIX, NUM)\n+\n+/* We want local labels to start with period if made with asm_fprintf.  */\n+#undef LOCAL_LABEL_PREFIX\n+#define LOCAL_LABEL_PREFIX \".\"\n \n /* Support const sections and the ctors and dtors sections for g++.\n    Note that there appears to be two different ways to support const\n@@ -237,7 +239,6 @@ do {\t\t\t\t\t\t\t\t\\\n   func_ptr *p, *beg = alloca (0);\t\t\t\t\\\n   for (p = beg; *p; )\t\t\t\t\t\t\\\n     (*p++) ();\t\t\t\t\t\t\t\\\n-#endif\t\t\t\t\t\t\t\t\\\n } while (0)\n \n #endif /* STACK_GROWS_DOWNWARD */"}]}