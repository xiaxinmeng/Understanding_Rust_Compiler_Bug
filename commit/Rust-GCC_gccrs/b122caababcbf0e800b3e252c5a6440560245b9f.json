{"sha": "b122caababcbf0e800b3e252c5a6440560245b9f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjEyMmNhYWJhYmNiZjBlODAwYjNlMjUyYzVhNjQ0MDU2MDI0NWI5Zg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1999-08-27T03:41:45Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1999-08-27T03:41:45Z"}, "message": "Fix aranges corruption for non-mips 64 bit targets.\n\n\t* dwarf2out.c (output_aranges): Check DWARF_OFFSET_SIZE not PTR_SIZE\n\twhen emitting alignment padding.  Emit padding byte of 0 instead of 4.\n\nFrom-SVN: r28913", "tree": {"sha": "a35c1fb8e21a037a901b6249f51776495a364547", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a35c1fb8e21a037a901b6249f51776495a364547"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b122caababcbf0e800b3e252c5a6440560245b9f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b122caababcbf0e800b3e252c5a6440560245b9f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b122caababcbf0e800b3e252c5a6440560245b9f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b122caababcbf0e800b3e252c5a6440560245b9f/comments", "author": null, "committer": null, "parents": [{"sha": "a4efc7d79895f74d3a9f7a6f28ab76b97b2ee816", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4efc7d79895f74d3a9f7a6f28ab76b97b2ee816", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a4efc7d79895f74d3a9f7a6f28ab76b97b2ee816"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "050e2f1d53e1fd1eff40f556b845398ddff3568c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b122caababcbf0e800b3e252c5a6440560245b9f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b122caababcbf0e800b3e252c5a6440560245b9f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b122caababcbf0e800b3e252c5a6440560245b9f", "patch": "@@ -1,3 +1,8 @@\n+Thu Aug 26 20:36:30 1999  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* dwarf2out.c (output_aranges): Check DWARF_OFFSET_SIZE not PTR_SIZE\n+\twhen emitting alignment padding.  Emit padding byte of 0 instead of 4.\n+\n Thu Aug 26 18:11:20 1999  Mark Mitchell  <mark@codesourcery.com>\n \n \t* tree.c (array_type_nelts): Don't create RTL_EXPRs from"}, {"sha": "88ddac8d8c31c8509eb1a0dff9412e3eb5ad7402", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b122caababcbf0e800b3e252c5a6440560245b9f/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b122caababcbf0e800b3e252c5a6440560245b9f/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=b122caababcbf0e800b3e252c5a6440560245b9f", "patch": "@@ -5682,8 +5682,14 @@ output_aranges ()\n \t     ASM_COMMENT_START);\n \n   fputc ('\\n', asm_out_file);\n-  ASM_OUTPUT_DWARF_DATA4 (asm_out_file, 4);\n-  if (PTR_SIZE == 8)\n+  /* We need to align to twice the pointer size here.\n+     If DWARF_OFFSET_SIZE == 4, then we have emitted 12 bytes, and need 4\n+     bytes of padding to align for either 4 or 8 byte pointers.  */\n+  ASM_OUTPUT_DWARF_DATA4 (asm_out_file, 0);\n+  /* If DWARF_OFFSET_SIZE == 8, then we have emitted 20 bytes, and need 12\n+     bytes of padding to align for 8 byte pointers.  We have already emitted\n+     4 bytes of padding, so emit 8 more here.  */\n+  if (DWARF_OFFSET_SIZE == 8)\n     fprintf (asm_out_file, \",0,0\");\n \n   if (flag_debug_asm)"}]}