{"sha": "3453b6aa30c11a7c86cc91197f7ee97bc49cb273", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQ1M2I2YWEzMGMxMWE3Yzg2Y2M5MTE5N2Y3ZWU5N2JjNDljYjI3Mw==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2018-02-23T18:57:41Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2018-02-23T18:57:41Z"}, "message": "re PR fortran/84346 (Statement functions should not accept keywords)\n\n2018-02-23  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/84346\n\t* interface.c (compare_actual_formal): Issue error if keyword is\n\tused in a statement function.\n\n2018-02-23  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/84346\n\t* gfortran.dg/statement_function_1.f90: Update test.\n\nFrom-SVN: r257942", "tree": {"sha": "f8e230476c8c74a7386dac604624b9f30d235704", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f8e230476c8c74a7386dac604624b9f30d235704"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3453b6aa30c11a7c86cc91197f7ee97bc49cb273", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3453b6aa30c11a7c86cc91197f7ee97bc49cb273", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3453b6aa30c11a7c86cc91197f7ee97bc49cb273", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3453b6aa30c11a7c86cc91197f7ee97bc49cb273/comments", "author": null, "committer": null, "parents": [{"sha": "55ebc31f3d521e66059e6f83b9884a0ae8d941ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55ebc31f3d521e66059e6f83b9884a0ae8d941ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55ebc31f3d521e66059e6f83b9884a0ae8d941ab"}], "stats": {"total": 24, "additions": 19, "deletions": 5}, "files": [{"sha": "da2c445ec15d8070ce5b3453a827d767bd686dc9", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3453b6aa30c11a7c86cc91197f7ee97bc49cb273/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3453b6aa30c11a7c86cc91197f7ee97bc49cb273/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=3453b6aa30c11a7c86cc91197f7ee97bc49cb273", "patch": "@@ -1,3 +1,9 @@\n+2018-02-23  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/84346\n+\t* interface.c (compare_actual_formal): Issue error if keyword is\n+\tused in a statement function.\n+\n 2018-02-23  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR fortran/84506"}, {"sha": "cb326e55c7550876227c3a53b681ec44c038d640", "filename": "gcc/fortran/interface.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3453b6aa30c11a7c86cc91197f7ee97bc49cb273/gcc%2Ffortran%2Finterface.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3453b6aa30c11a7c86cc91197f7ee97bc49cb273/gcc%2Ffortran%2Finterface.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finterface.c?ref=3453b6aa30c11a7c86cc91197f7ee97bc49cb273", "patch": "@@ -2865,6 +2865,13 @@ compare_actual_formal (gfc_actual_arglist **ap, gfc_formal_arglist *formal,\n \n   for (a = actual; a; a = a->next, f = f->next)\n     {\n+      if (a->name != NULL && in_statement_function)\n+\t{\n+\t  gfc_error (\"Keyword argument %qs at %L is invalid in \"\n+\t\t     \"a statement function\", a->name, &a->expr->where);\n+\t  return false;\n+\t}\n+\n       /* Look for keywords but ignore g77 extensions like %VAL.  */\n       if (a->name != NULL && a->name[0] != '%')\n \t{"}, {"sha": "2ec3d4058000dfc202991fdfd25a235fcc9fbde7", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3453b6aa30c11a7c86cc91197f7ee97bc49cb273/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3453b6aa30c11a7c86cc91197f7ee97bc49cb273/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3453b6aa30c11a7c86cc91197f7ee97bc49cb273", "patch": "@@ -1,3 +1,8 @@\n+2018-02-23  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/84346\n+\t* gfortran.dg/statement_function_1.f90: Update test.\n+\n 2018-02-23  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR fortran/84506"}, {"sha": "e717725e67e74289bc1403ef1ebd315a52adf38d", "filename": "gcc/testsuite/gfortran.dg/statement_function_1.f90", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3453b6aa30c11a7c86cc91197f7ee97bc49cb273/gcc%2Ftestsuite%2Fgfortran.dg%2Fstatement_function_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3453b6aa30c11a7c86cc91197f7ee97bc49cb273/gcc%2Ftestsuite%2Fgfortran.dg%2Fstatement_function_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fstatement_function_1.f90?ref=3453b6aa30c11a7c86cc91197f7ee97bc49cb273", "patch": "@@ -19,10 +19,6 @@ subroutine step(hh, h, s, w)\n       qofs(s, i) = i * s\n       i = 42\n       w = qofs(hh, i)\n-!\n-! The following line should cause an error, because keywords are not\n-! allowed in a function with an implicit interface.\n-!\n-      w = qofs(i = i, s = hh)\n+      w = qofs(i = i, s = hh) ! { dg-error \"invalid in a statement function\" }\n       end subroutine step\n ! { dg-prune-output \" Obsolescent feature\" }"}]}