{"sha": "de2aa20e758bdc2b520855b9a4dc1b344fb51b18", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGUyYWEyMGU3NThiZGMyYjUyMDg1NWI5YTRkYzFiMzQ0ZmI1MWIxOA==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2009-08-06T18:15:19Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2009-08-06T18:15:19Z"}, "message": "abitest.h: Allow the test function to have a PCS attribute.\n\n\t* gcc.target/arm/abitest.h: Allow the test function to have a PCS\n\tattribute.\n\t* gcc.target/arm/vfp1[567].c: New tests.\n\nFrom-SVN: r150536", "tree": {"sha": "2b35799259ef89f70a7bd4870daca506c1aee8d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2b35799259ef89f70a7bd4870daca506c1aee8d1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de2aa20e758bdc2b520855b9a4dc1b344fb51b18", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de2aa20e758bdc2b520855b9a4dc1b344fb51b18", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de2aa20e758bdc2b520855b9a4dc1b344fb51b18", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de2aa20e758bdc2b520855b9a4dc1b344fb51b18/comments", "author": null, "committer": null, "parents": [{"sha": "ca9fe9972e1a755970766a821631c8c303d9f63f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca9fe9972e1a755970766a821631c8c303d9f63f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca9fe9972e1a755970766a821631c8c303d9f63f"}], "stats": {"total": 78, "additions": 75, "deletions": 3}, "files": [{"sha": "0dc1b9dc5439b09f97df72b1ff1d33edc2dea299", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de2aa20e758bdc2b520855b9a4dc1b344fb51b18/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de2aa20e758bdc2b520855b9a4dc1b344fb51b18/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=de2aa20e758bdc2b520855b9a4dc1b344fb51b18", "patch": "@@ -1,9 +1,15 @@\n-2009-08-05  Jason Merrill  <jason@redhat.com>\n+2009-08-06  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* gcc.target/arm/abitest.h: Allow the test function to have a PCS\n+\tattribute.\n+\t* gcc.target/arm/vfp1[567].c: New tests.\n+\n+2009-08-06  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/40948\n \t* g++.dg/ext/complit12.C: Expand.\n \n-2009-08-05  Richard Earnshaw  <rearnsha@arm.com>\n+2009-08-06  Richard Earnshaw  <rearnsha@arm.com>\n \n \tMerge ARM/hard_vfp_branch to trunk.\n "}, {"sha": "7b7d0e24fac0e07537e42cb36fc9c1449027a4c0", "filename": "gcc/testsuite/gcc.target/arm/aapcs/abitest.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de2aa20e758bdc2b520855b9a4dc1b344fb51b18/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Faapcs%2Fabitest.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de2aa20e758bdc2b520855b9a4dc1b344fb51b18/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Faapcs%2Fabitest.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Faapcs%2Fabitest.h?ref=de2aa20e758bdc2b520855b9a4dc1b344fb51b18", "patch": "@@ -93,9 +93,13 @@ void testfunc(char* stack)\n #define MYFUNCTYPE void\n #endif\n \n+#ifndef PCSATTR\n+#define PCSATTR\n+#endif\n+\n MYFUNCTYPE myfunc(\n #include TESTFILE\n-);\n+) PCSATTR;\n \n #undef LAST_ARG\n #undef ARG"}, {"sha": "d5a75b5b8ffa2709c99084bad61c5cace03df753", "filename": "gcc/testsuite/gcc.target/arm/aapcs/vfp15.c", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de2aa20e758bdc2b520855b9a4dc1b344fb51b18/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Faapcs%2Fvfp15.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de2aa20e758bdc2b520855b9a4dc1b344fb51b18/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Faapcs%2Fvfp15.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Faapcs%2Fvfp15.c?ref=de2aa20e758bdc2b520855b9a4dc1b344fb51b18", "patch": "@@ -0,0 +1,20 @@\n+/* Test AAPCS layout (VFP variant) */\n+\n+/* { dg-do run { target arm*-*-eabi* } } */\n+/* { dg-require-effective-target arm_hard_vfp_ok } */\n+/* { dg-require-effective-target arm32 } */\n+/* { dg-options \"-O -mfpu=vfp -mfloat-abi=hard\" } */\n+\n+#ifndef IN_FRAMEWORK\n+#define VFP\n+#define TESTFILE \"vfp15.c\"\n+\n+#define PCSATTR __attribute__((pcs(\"aapcs\")))\n+\n+#include \"abitest.h\"\n+#else\n+  ARG(double, 1.0, R0)\n+  ARG(double, 2.0, R2)\n+  ARG(double, 3.0, STACK)\n+  LAST_ARG(double, 4.0, STACK+8)\n+#endif"}, {"sha": "9815994ef8b7894e0984d8af01592f3ace58a7f9", "filename": "gcc/testsuite/gcc.target/arm/aapcs/vfp16.c", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de2aa20e758bdc2b520855b9a4dc1b344fb51b18/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Faapcs%2Fvfp16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de2aa20e758bdc2b520855b9a4dc1b344fb51b18/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Faapcs%2Fvfp16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Faapcs%2Fvfp16.c?ref=de2aa20e758bdc2b520855b9a4dc1b344fb51b18", "patch": "@@ -0,0 +1,22 @@\n+/* Test AAPCS layout (VFP variant) */\n+\n+/* { dg-do run { target arm*-*-eabi* } } */\n+/* { dg-require-effective-target arm_hard_vfp_ok } */\n+/* { dg-require-effective-target arm32 } */\n+/* { dg-options \"-O -mfpu=vfp -mfloat-abi=hard\" } */\n+\n+#ifndef IN_FRAMEWORK\n+#define VFP\n+#define TESTFILE \"vfp16.c\"\n+\n+#define PCSATTR __attribute__((pcs(\"aapcs\")))\n+\n+#include \"abitest.h\"\n+#else\n+  ARG(float, 1.0f, R0)\n+  ARG(float, 2.0f, R1)\n+  ARG(float, 3.0f, R2)\n+  ARG(float, 4.0f, R3)\n+  ARG(float, 5.0f, STACK)\n+  LAST_ARG(float, 5.0f, STACK+4)\n+#endif"}, {"sha": "d02160c860b87f11b36b5a5bf21f221659499d06", "filename": "gcc/testsuite/gcc.target/arm/aapcs/vfp17.c", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de2aa20e758bdc2b520855b9a4dc1b344fb51b18/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Faapcs%2Fvfp17.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de2aa20e758bdc2b520855b9a4dc1b344fb51b18/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Faapcs%2Fvfp17.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Faapcs%2Fvfp17.c?ref=de2aa20e758bdc2b520855b9a4dc1b344fb51b18", "patch": "@@ -0,0 +1,20 @@\n+/* Test AAPCS layout (VFP variant) */\n+\n+/* { dg-do run { target arm*-*-eabi* } } */\n+/* { dg-require-effective-target arm_hard_vfp_ok } */\n+/* { dg-require-effective-target arm32 } */\n+/* { dg-options \"-O -mfpu=vfp -mfloat-abi=hard\" } */\n+\n+#ifndef IN_FRAMEWORK\n+#define VFP\n+#define TESTFILE \"vfp17.c\"\n+\n+#define PCSATTR __attribute__((pcs(\"aapcs\")))\n+\n+#include \"abitest.h\"\n+#else\n+  ARG(float, 1.0f, R0)\n+  ARG(double, 2.0, R2)\n+  ARG(float, 3.0f, STACK)\n+  LAST_ARG(double, 4.0, STACK+8)\n+#endif"}]}