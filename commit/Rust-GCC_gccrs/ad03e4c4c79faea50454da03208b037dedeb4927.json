{"sha": "ad03e4c4c79faea50454da03208b037dedeb4927", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWQwM2U0YzRjNzlmYWVhNTA0NTRkYTAzMjA4YjAzN2RlZGViNDkyNw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-10-22T00:09:41Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-10-22T00:09:41Z"}, "message": "paranoia.cc (real_c_float::image): Accomodate size of real_internal format.\n\n        * paranoia.cc (real_c_float::image): Accomodate size of\n        real_internal format.\n        (main): Unbuffer stdio.  Add real_internal format.\n        (floor_log2_wide): New.\n\nFrom-SVN: r58395", "tree": {"sha": "89ed00a5d9c2cef42696dffda1d771baa825c5b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/89ed00a5d9c2cef42696dffda1d771baa825c5b3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ad03e4c4c79faea50454da03208b037dedeb4927", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad03e4c4c79faea50454da03208b037dedeb4927", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad03e4c4c79faea50454da03208b037dedeb4927", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad03e4c4c79faea50454da03208b037dedeb4927/comments", "author": null, "committer": null, "parents": [{"sha": "f8eef883323f1cf0b1e442bb285a51216e41ddd6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8eef883323f1cf0b1e442bb285a51216e41ddd6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8eef883323f1cf0b1e442bb285a51216e41ddd6"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "a8adeb3439a9a36000f969af0d1ff783e20946f8", "filename": "contrib/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad03e4c4c79faea50454da03208b037dedeb4927/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad03e4c4c79faea50454da03208b037dedeb4927/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=ad03e4c4c79faea50454da03208b037dedeb4927", "patch": "@@ -1,3 +1,10 @@\n+2002-10-21  Richard Henderson  <rth@redhat.com>\n+\n+\t* paranoia.cc (real_c_float::image): Accomodate size of\n+\treal_internal format.\n+\t(main): Unbuffer stdio.  Add real_internal format.\n+\t(floor_log2_wide): New.\n+\n 2002-10-16  Richard Henderson  <rth@redhat.com>\n \n \t* paranoia.cc (ENUM_BITFIELD): New."}, {"sha": "694d3d4509b33b77501cd959ed4fb7a971cb4133", "filename": "contrib/paranoia.cc", "status": "modified", "additions": 18, "deletions": 1, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad03e4c4c79faea50454da03208b037dedeb4927/contrib%2Fparanoia.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad03e4c4c79faea50454da03208b037dedeb4927/contrib%2Fparanoia.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fparanoia.cc?ref=ad03e4c4c79faea50454da03208b037dedeb4927", "patch": "@@ -195,7 +195,10 @@ class real_c_float\n   static const enum machine_mode MODE = SFmode;\n \n  private:\n-  long image[128 / 32];\n+  static const int external_max = 128 / 32;\n+  static const int internal_max\n+    = (sizeof (REAL_VALUE_TYPE) + sizeof (long) + 1) / sizeof (long);\n+  long image[external_max < internal_max ? internal_max : external_max];\n \n   void from_long(long);\n   void from_str(const char *);\n@@ -2607,6 +2610,9 @@ Paranoia<FLOAT>::notify (const char *s)\n \n int main(int ac, char **av)\n {\n+  setbuf(stdout, NULL);\n+  setbuf(stderr, NULL);\n+\n   while (1)\n     switch (getopt (ac, av, \"pvg:fdl\"))\n       {\n@@ -2639,6 +2645,7 @@ int main(int ac, char **av)\n \t    F(i370_double),\n \t    F(c4x_single),\n \t    F(c4x_extended),\n+\t    F(real_internal),\n #undef F\n \t  };\n \n@@ -2697,3 +2704,13 @@ fancy_abort ()\n }\n \n int target_flags = 0;\n+\n+extern \"C\" int\n+floor_log2_wide (unsigned HOST_WIDE_INT x)\n+{\n+  int log = -1;\n+  while (x != 0)\n+    log++,\n+    x >>= 1;\n+  return log;\n+}"}]}