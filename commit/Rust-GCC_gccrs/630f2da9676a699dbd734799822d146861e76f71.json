{"sha": "630f2da9676a699dbd734799822d146861e76f71", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjMwZjJkYTk2NzZhNjk5ZGJkNzM0Nzk5ODIyZDE0Njg2MWU3NmY3MQ==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2018-10-16T12:27:52Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2018-10-16T12:27:52Z"}, "message": "Introduce dg-add-options net_ts\n\n\t* testsuite/lib/dg-options.exp (add_options_for_net_ts): New proc.\n\t* testsuite/experimental/net/internet/address/v4/comparisons.cc:\n\tAdd dg-add-options net_ts.\n\t* testsuite/experimental/net/internet/address/v4/cons.cc: Likewise.\n\t* testsuite/experimental/net/internet/address/v4/creation.cc: Likewise.\n\t* testsuite/experimental/net/internet/address/v4/members.cc: Likewise.\n\t* testsuite/experimental/net/internet/resolver/base.cc: Likewise.\n\t* testsuite/experimental/net/internet/resolver/ops/lookup.cc: Likewise.\n\t* testsuite/experimental/net/internet/resolver/ops/reverse.cc: Likewise.\n\nFrom-SVN: r265192", "tree": {"sha": "49c8b92ea0e6732172d2e200aa90f07663150395", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/49c8b92ea0e6732172d2e200aa90f07663150395"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/630f2da9676a699dbd734799822d146861e76f71", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/630f2da9676a699dbd734799822d146861e76f71", "html_url": "https://github.com/Rust-GCC/gccrs/commit/630f2da9676a699dbd734799822d146861e76f71", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/630f2da9676a699dbd734799822d146861e76f71/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b57d432bdd7d16e552c24ef80777eb27ecb1f973", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b57d432bdd7d16e552c24ef80777eb27ecb1f973", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b57d432bdd7d16e552c24ef80777eb27ecb1f973"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "08bb1e8a3445002e549bfc9999011e6078d54629", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=630f2da9676a699dbd734799822d146861e76f71", "patch": "@@ -1,3 +1,15 @@\n+2018-10-16  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* testsuite/lib/dg-options.exp (add_options_for_net_ts): New proc.\n+\t* testsuite/experimental/net/internet/address/v4/comparisons.cc:\n+\tAdd dg-add-options net_ts.\n+\t* testsuite/experimental/net/internet/address/v4/cons.cc: Likewise.\n+\t* testsuite/experimental/net/internet/address/v4/creation.cc: Likewise.\n+\t* testsuite/experimental/net/internet/address/v4/members.cc: Likewise.\n+\t* testsuite/experimental/net/internet/resolver/base.cc: Likewise.\n+\t* testsuite/experimental/net/internet/resolver/ops/lookup.cc: Likewise.\n+\t* testsuite/experimental/net/internet/resolver/ops/reverse.cc: Likewise.\n+\n 2018-10-16  Jonathan Wakely  <jwakely@redhat.com>\n \n \t* testsuite/20_util/duration/literals/range_neg.cc: Adjust pruned"}, {"sha": "8046e97071d54b9deea6bae6d5d8edf683097a9a", "filename": "libstdc++-v3/testsuite/experimental/net/internet/address/v4/comparisons.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Faddress%2Fv4%2Fcomparisons.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Faddress%2Fv4%2Fcomparisons.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Faddress%2Fv4%2Fcomparisons.cc?ref=630f2da9676a699dbd734799822d146861e76f71", "patch": "@@ -16,6 +16,7 @@\n // <http://www.gnu.org/licenses/>.\n \n // { dg-options \"-std=gnu++14\" }\n+// { dg-add-options net_ts }\n \n #include <experimental/internet>\n #include <testsuite_hooks.h>"}, {"sha": "27c208d51cbf5656c19a61583ec6518521abd054", "filename": "libstdc++-v3/testsuite/experimental/net/internet/address/v4/cons.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Faddress%2Fv4%2Fcons.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Faddress%2Fv4%2Fcons.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Faddress%2Fv4%2Fcons.cc?ref=630f2da9676a699dbd734799822d146861e76f71", "patch": "@@ -16,6 +16,7 @@\n // <http://www.gnu.org/licenses/>.\n \n // { dg-options \"-std=gnu++14\" }\n+// { dg-add-options net_ts }\n \n #include <experimental/internet>\n #include <testsuite_hooks.h>"}, {"sha": "5d139dd5659041328734708fdf58c4f1f7006662", "filename": "libstdc++-v3/testsuite/experimental/net/internet/address/v4/creation.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Faddress%2Fv4%2Fcreation.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Faddress%2Fv4%2Fcreation.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Faddress%2Fv4%2Fcreation.cc?ref=630f2da9676a699dbd734799822d146861e76f71", "patch": "@@ -16,6 +16,7 @@\n // <http://www.gnu.org/licenses/>.\n \n // { dg-options \"-std=gnu++14\" }\n+// { dg-add-options net_ts }\n \n #include <experimental/internet>\n #include <testsuite_hooks.h>"}, {"sha": "2036a5866717f8cf46337f6dfaea8304a8e23ac9", "filename": "libstdc++-v3/testsuite/experimental/net/internet/address/v4/members.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Faddress%2Fv4%2Fmembers.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Faddress%2Fv4%2Fmembers.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Faddress%2Fv4%2Fmembers.cc?ref=630f2da9676a699dbd734799822d146861e76f71", "patch": "@@ -16,6 +16,7 @@\n // <http://www.gnu.org/licenses/>.\n \n // { dg-options \"-std=gnu++14\" }\n+// { dg-add-options net_ts }\n \n #include <experimental/internet>\n #include <testsuite_hooks.h>"}, {"sha": "e67c476ca9dcd558795c47716a4ecb97b7ce873b", "filename": "libstdc++-v3/testsuite/experimental/net/internet/resolver/base.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Fresolver%2Fbase.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Fresolver%2Fbase.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Fresolver%2Fbase.cc?ref=630f2da9676a699dbd734799822d146861e76f71", "patch": "@@ -16,6 +16,7 @@\n // <http://www.gnu.org/licenses/>.\n \n // { dg-options \"-std=gnu++14\" }\n+// { dg-add-options net_ts }\n \n #include <experimental/internet>\n #include <testsuite_hooks.h>"}, {"sha": "d8560758c5592abf9c2793bd3ca741701d04785e", "filename": "libstdc++-v3/testsuite/experimental/net/internet/resolver/ops/lookup.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Fresolver%2Fops%2Flookup.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Fresolver%2Fops%2Flookup.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Fresolver%2Fops%2Flookup.cc?ref=630f2da9676a699dbd734799822d146861e76f71", "patch": "@@ -16,6 +16,7 @@\n // <http://www.gnu.org/licenses/>.\n \n // { dg-options \"-std=gnu++14\" }\n+// { dg-add-options net_ts }\n \n #include <experimental/internet>\n #include <testsuite_hooks.h>"}, {"sha": "6b58f584b8c4475b35dcce04e21487c885376a45", "filename": "libstdc++-v3/testsuite/experimental/net/internet/resolver/ops/reverse.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Fresolver%2Fops%2Freverse.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Fresolver%2Fops%2Freverse.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fnet%2Finternet%2Fresolver%2Fops%2Freverse.cc?ref=630f2da9676a699dbd734799822d146861e76f71", "patch": "@@ -16,6 +16,7 @@\n // <http://www.gnu.org/licenses/>.\n \n // { dg-options \"-std=gnu++14\" }\n+// { dg-add-options net_ts }\n \n #include <experimental/internet>\n #include <testsuite_hooks.h>"}, {"sha": "f73ce06960aacf83e8c19524f175f45fe410c377", "filename": "libstdc++-v3/testsuite/lib/dg-options.exp", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Fdg-options.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/630f2da9676a699dbd734799822d146861e76f71/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Fdg-options.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Fdg-options.exp?ref=630f2da9676a699dbd734799822d146861e76f71", "patch": "@@ -246,6 +246,17 @@ proc add_options_for_no_pch { flags } {\n     return \"-D__GLIBCXX__=99999999\"\n }\n \n+# Add to FLAGS all the target-specific flags needed for networking.\n+\n+proc add_options_for_net_ts { flags } {\n+    # Before they were integrated into libc in Solaris 11.4, Solaris needs\n+    # libsocket and libnsl for networking applications.\n+    if { [istarget *-*-solaris2*] } {\n+\treturn \"$flags -lsocket -lnsl\"\n+    }\n+    return $flags\n+}\n+\n # Like dg-options, but adds to the default options rather than replacing them.\n \n proc dg-additional-options { args } {"}]}