{"sha": "f5963e617044e79f7658c82ebc9acdccdc56d57b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjU5NjNlNjE3MDQ0ZTc5Zjc2NThjODJlYmM5YWNkY2NkYzU2ZDU3Yg==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-05-05T23:18:02Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-05-05T23:18:02Z"}, "message": "* Check in merge from gcc2.  See ChangeLog.12 for details.\n\nFrom-SVN: r19553", "tree": {"sha": "017db6c8be411c52ab98093e94dcce3c7ca3f029", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/017db6c8be411c52ab98093e94dcce3c7ca3f029"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f5963e617044e79f7658c82ebc9acdccdc56d57b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5963e617044e79f7658c82ebc9acdccdc56d57b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5963e617044e79f7658c82ebc9acdccdc56d57b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5963e617044e79f7658c82ebc9acdccdc56d57b/comments", "author": null, "committer": null, "parents": [{"sha": "9d1bcb4667cf94ae02b3b3015694a55175be9c9f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d1bcb4667cf94ae02b3b3015694a55175be9c9f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d1bcb4667cf94ae02b3b3015694a55175be9c9f"}], "stats": {"total": 5802, "additions": 3362, "deletions": 2440}, "files": [{"sha": "8cabe0c44f3d8dc7ede507398f6352a3b3c93d2b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,3 +1,7 @@\n+Wed May  6 00:09:36 1998  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* Check in merge from gcc2.  See ChangeLog.12 for details.\n+\n Tue May  5 14:33:49 1998  Jim Wilson  <wilson@cygnus.com>\n \n \t* c-common.c (scan_char_table): Separate 's' and 'c'.  'c' does not"}, {"sha": "ecb291925080d730da799ae5afb01517f2441578", "filename": "gcc/ChangeLog.12", "status": "modified", "additions": 233, "deletions": 7, "changes": 240, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2FChangeLog.12", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2FChangeLog.12", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog.12?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,5 +1,234 @@\n+Sat May  2 20:39:22 1998  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* fold-const.c (fold): When commutting COND_EXPR and binary operation,\n+\tavoid quadratic behavior if have nested COND_EXPRs.\n+\n+Tue Apr 28 17:30:05 1998  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* mips.h (HOST_WIDE_INT): Define if not already.\n+\t(compute_frame_size, mips_debugger_offset): Return HOST_WIDE_INT.\n+\t(DEBUGGER_{AUTO,ARG}_OFFSET): Cast second arg to HOST_WIDE_INT.\n+\t* /mips.c (mips_debugger_offset): Now returns HOST_WIDE_INT.\n+\tLikewise for internal variable frame_size.\n+\n+\t* final.c (alter_subreg): Make new SUBREG if reload replacement\n+\tscheduled inside it.\n+\n+\t* dwarf2out.c (add_bound_info, case SAVE_EXPR): Pass \n+\tSAVE_EXPR_RTL address through fix_lexical_addr.\n+\n+Mon Apr 27 18:57:18 1998  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* mips/sni-svr4.h (CPP_PREDEFINES): Add -Dsinix and -DSNI.\n+\n+Mon Apr 20 14:48:29 1998  Michael Meissner  <meissner@cygnus.com>\n+\n+\t* rs6000.md (mov{sf,df} define_splits): When splitting move of\n+\tconstant to int reg, don't split  insns that do simple AND and OR\n+\toperations; just split each word and let normal movsi define split\n+\thandle it further.\n+\n+Sun Apr 19 20:21:19 1998  Michael P. Hayes  <michaelh@ongaonga.chch.cri.nz>\n+\n+\t* real.h (C4X_FLOAT_FORMAT): New macro.\n+\t* real.c (c4xtoe, etoc4x, toc4x): New functions.\n+\n+Sun Apr 19 20:17:32 1998  Niklas Hallqvist  <niklas@petra.appli.se>\n+\n+\t* m68k.c (notice_update_cc): Use modified_in_p to check for update.\n+\n+Sun Apr 19 18:48:07 1998  K. Richard Pixley  <rich@kyoto.noir.com>\n+\n+\t* fixincludes: Discard empty C++ comments.\n+\tSpecial case more files with C++ comments nested in C comments.\n+\n+Sun Apr 19 18:30:11 1998  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n+\n+\t* m68k.md ({add,sub}di3): Optimize for constant operand.\n+\n+Sun Apr 19 18:27:11 1998  Alan Modra <alan@spri.levels.unisa.edu.au>\n+\n+\t* i386.c (output_387_binary_op): Swap operands when popping if result\n+\tis st(0).\n+\n+Sun Apr 19 17:58:01 1998  Peter Jeremy  <peter.jeremy@alcatel.com.au>\n+\n+\t* expr.c (do_jump_by_parts_equality_rtx): Now public.\n+\t* expmed.c (do_cmp_and_jump): New function.\n+\t(expand_divmod): Use do_cmp_and_jmp instead of emit_cmp_insn and\n+\temit_jump_insn.\n+\n+Sun Apr 19 07:48:37 1998  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* c-typeck.c (build_c_cast): Check underlying type when seeing\n+\tif discarding const or volatile.\n+\n+\t* c-decl.c (pushdecl): Avoid duplicate warning about implicit redecl.\n+\n+\t* configure.in (stab.h): Check for it.\n+\t(i386-*-vsta): Include xm-i386.h too.\n+\t* dbxout.c (stab.h): Include based on autoconf results.\n+\t* vax/xm-vms.h (NO_STAB_H): Deleted.\n+\t* alpha/xm-vms.h, xm-mips.h, i386/xm-mingw32.h, i386/go32.h: Likewise.\n+\t* i386/xm-cygwin32.h: Likewise.\n+\t* i386/xm-vsta.h (NO_STAB_H): Likewise.\n+\t(i386/xm-i386.h): No longer include.\n+\n+\t* mips.c: Cleanups and reformatting throughout.\n+\t({expand,output}_block_move): Use HOST_WIDE_INT for sizes.\n+\t(mips_debugger_offset, compute_frame_size): Likewise.\n+\t(save_restore_insns, mips_expand_{pro,epi}logue): Likewise.\n+\t(siginfo): Deleted.\n+\t(override_options): Don't set up to call it; don't call setvbuf.\n+\n+Mon Apr 13 06:40:17 1998  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* configure.in (sparc-*-vxsim*): Include xm-siglist.h and\n+\tdefine USG and POSIX.\n+\n+Sun Apr 12 21:59:27 1998  Jeffrey A. Law  <law@cygnus.com>\n+\n+\t* calls.c (expand_call): Fix typo in STRICT_ARGUMENT_NAMING.\n+\n+Sun Apr 12 21:42:23 1998  D. Karthikeyan  <karthik@cdotd.ernet.in>\n+\n+\t* m68k.h (TARGET_SWITCHES): Add missing comma.\n+\n+Sun Apr 12 21:33:33 1998  Eric Valette  <valette@crf.canon.fr>\n+\n+\t* configure.in (i[34567]86-*-rtemself*): New configuration.\n+\t* i386/rtemself.h: New file.\n+\n+Sun Apr 12 21:08:28 1998  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* loop.c (loop_optimize): Reset max_uid_for_loop after\n+\tfind_and_verify_loops call.\n+\t(strength_reduce): In auto_inc_opt code, verify v->insn has valid\n+\tINSN_LUID.\n+\n+Sun Apr 12 20:54:59 1998  Richard Earnshaw (rearnsha@arm.com)\n+\n+\t* configure.in (sparc-*-solaris2*): Add xm-siglist.h to xm_file.\n+\tAdd USG and POSIX to xm_defines.\n+\n+Sun Apr 12 20:47:37 1998  Pat Rankin  <rankin@eql.caltech.edu>\n+\n+\t* cccp.c (eprint_string): New function.\n+\t(do_elif, do_else, verror): Use it instead of fwrite(,,,stderr).\n+\t(error_from_errno, vwarning): Likewise.\n+\t({verror,vwarning,pedwarn}_with_line): Likewise.\n+\t(pedwarn_with_file_and_line, print_containing_files): Likewise.\n+\n+Sun Apr 12 20:40:44 1998  Richard Henderson  <rth@dot.cygnus.com>\n+\n+\t* configure.in (alpha*-*-linux-gnu*): Add alpha/t-crtbe.\n+\tAdd crt{begin,end}.o in extra_parts and delete crt{begin,end}S.o.o\n+\t* alpha/t-crtbe, alpha/crt{begin,end}.asm: New files.\n+\t\n+\t* alpha.h (PRINT_OPERAND_PUNCT_VALID_P): Accept '(' for s/sv/svi.\n+\t* alpha.c (print_operand): Handle it.\n+\t* alpha.md (fix_trunc[ds]fdi2): Use it.  Add earlyclobber pattern\n+\tfor ALPHA_TP_INSN.\n+\n+Sun Apr 12 13:09:46 1998  Scott Christley  <scottc@net-community.com>\n+\n+\t* objc/encoding.c (objc_sizeof_type, _C_VOID): New case.\n+\n+Sun Apr 12 13:04:55 1998  Nikolay Yatsenko  (nikolay@osf.org)\n+\n+\t* configure.in (i[34567]86-*-osf1*): New entry.\n+\t* i386/osf1-c[in].asm: New files for OSF/1.\n+\t* i386/osf1elf{,gdb}.h, i386/[xt]-osf1elf, i386/xm-osf1elf.h: Likewise.\n+\n+Sun Apr 12 10:03:51 1998  Noel Cragg  <noel@red-bean.com>\n+\n+\t* fixincludes: Remove specification of parameters when renaming\n+\tfunctions in Alpha DEC Unix include files.\n+\n+Sun Apr 12 07:33:46 1998  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* mips.c (large_int): Use HOST_WIDE_INT, not int.\n+\t(print_operand): Use HOST_WIDE_INT_PRINT_* macros.\n+\n+\t* toplev.c (main): Sort order of handling of -d letters.\n+\tUse `F' instead of `D' for addressof_dump.\n+\n+\t* libgcc2.c (_eh_compat): Deleted.\n+\t* Makefile.in (LIB2FUNCS): Delete _eh_compat.\n+\n+\t* configure.in (alpha*-*-linux-gnu*): Don't include alpha/xm-linux.h.\n+\n+\t* c-common.c (check_format_info): Properly test for nested pointers.\n+\n+\t* pa.md (casesi0): Add missing mode for operand 0.\n+\n+\t* function.c (purge_addressof_1, case MEM): If BLKmode, put ADDRESSOF\n+\tinto stack.\n+\n+\t* c-parse.in (label): Give warning if pedantic and label not integral.\n+\n+\t* c-decl.c (grokdeclarator): Don't warn about return type if in\n+\tsystem header.\n+\n+\t* reload.c (reload_nongroup): New variable.\n+\t(push{_secondary,}_reload): Initialize it.\n+\t(find_reloads): Compute it.\n+\t(debug_reload): Print it.\n+\t* reload.h (reload_nongroup): Declare.\n+\t* reload1.c (reload): Use reload_nongroup instead of local computation.\n+\tCheck caller_save_spill_class against any nongroup reloads.\n+\t(reloads_conflict): No longer static.\n+\n+Sun Apr 12 05:52:18 1998  John David Anglin  <dave@hiauly1.hia.nrc.ca>\n+\n+\t* vax.md (call patterns): Operand 1 is always a CONST_INT.\n+\n+Sat Apr 11 16:01:11 1998  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* convert.c (convert_to_{pointer,integer,real,complex}): Use switch.\n+\tAdd missing integer-like types.\n+\tSimplify return of zero in error case.\n+\t(convert_to_pointer): Remove dubious abort.\n+\t(convert_to_integer, case POINTER_TYPE): Make recursive call.\n+\t(convert_to_integer, case COND_EXPR): Always convert arms.\n+\t* tree.c (type_precision): Deleted.\n+\n+\t* cccp.c (do_warning): Give pedantic warning if -pedantic and not\n+\tin system file.\n+\t* cpplib.c (do_warning): Likewise.\n+\n+\t* function.c (target_temp_slot_level): Define here.\n+\t(push_temp_slots_for_target, {get,set}_target_temp_slot_level): New.\n+\t* stmt.c (target_temp_slot_level): Don't define here.\n+\t* expr.h (temp_slot_level): New declaration.\n+\n+Fri Apr 10 16:35:48 1998  Paul Eggert  <eggert@twinsun.com>\n+\n+\t* c-common.c (decl_attributes): Support strftime format checking.\n+\t(record_function_format, {check,init_function}_format_info): Likewise.\n+\t(enum format_type): New type.\n+\t(record_function_format): Now static; takes value of type\n+\tenum format_type instead of int.\n+\t(time_char_table): New constant.\n+\t(struct function_format_info): format_type member renamed from is_scan.\n+\t(check_format_info): Use `warning' rather than sprintf followed by\n+\t`warning', to avoid mishandling `%' in warnings.\n+\tChange a `pedwarn' to `warning'.\n+\t* c-tree.h (record_function_format): Remove decl.\n+\n+Thu Apr  2 17:34:27 1998  Manfred Hollstein  <manfred@s-direktnet.de>\n+\n+\t* regclass.c (memory_move_secondary_cost): Protect uses of\n+\tSECONDARY_{INPUT,OUTPUT}_RELOAD_CLASS with #ifdef tests.\n+\n+Thu Apr  2 07:06:57 1998  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n+\n+\t* m68k.c (standard_68881_constant_p): Don't use fmovecr on 68060.\n+\n Thu Apr  2 06:19:25 1998  Ken Raeburn  <raeburn@cygnus.com>\n \n+\t* Makefile.in (version.c): Put \"cvs log\" output in build directory.\n+\n \t* reload.h (MEMORY_MOVE_COST): Define here if not already defined.\n \t(memory_move_secondary_cost): Declare.\n \t* regclass.c (MEMORY_MOVE_COST): Don't define default here.\n@@ -23,27 +252,24 @@ Mon Mar 30 13:56:30 1998  Jim Wilson  <wilson@cygnus.com>\n \n Wed Mar 25 16:09:01 1998  Michael Meissner  <meissner@cygnus.com>\n \n-\t* rs6000.h (FUNCTION_ARG_PADDING): Cast result to be enum\n-\tdirection.\n+\t* rs6000.h (FUNCTION_ARG_PADDING): Cast result to be enum direction.\n \t(function_arg_padding): Declare.\n \n \t* rs6000.c: Include stdlib.h if we have it.\n-\t(function_arg_padding): Change return type to int, cast enum's to\n-\tint.\n+\t(function_arg_padding): Change return type to int, cast enum's to int.\n \n \t(From Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>)\n \t* rs6000.c (rs6000_override_options): Change type of `i', `j' and\n \t`ptt_size' from int to size_t.\n \t(rs6000_file_start): Likewise for `i'.\n \t(rs6000_replace_regno): Add default case in enumeration switch.\n \t(output_epilog): Remove unused variable `i'.\n-\t(rs6000_longcall_ref): Remove unused variables `len', `p', `reg1'\n-\tand `reg2'.\n+\t(rs6000_longcall_ref): Remove unused variables `len', `p', `reg[12]'.\n  \n \t* rs6000.h (ADDITIONAL_REGISTER_NAMES): Add missing braces around\n \tinitializer.\n \t(get_issue_rate, non_logical_cint_operand): Add prototype.\n-\t(rs6000_output_load_toc_table): Ditto.\n+\t(rs6000_output_load_toc_table): Likewise.\n  \n \t* rs6000.md (udivmodsi4): Add explicit braces to avoid ambiguous\n \t`else'."}, {"sha": "e5ef980123adfae9641ef05b23550f17c0bb73dd", "filename": "gcc/c-common.c", "status": "modified", "additions": 9, "deletions": 17, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -670,7 +670,7 @@ decl_attributes (node, attributes, prefix_attributes)\n \t\t\t \"argument format specified for non-function `%s'\");\n \t\tcontinue;\n \t      }\n-\n+\t\n \t    if (TREE_CODE (format_type_id) != IDENTIFIER_NODE)\n \t      {\n \t\terror (\"unrecognized format specifier\");\n@@ -679,7 +679,7 @@ decl_attributes (node, attributes, prefix_attributes)\n \t    else\n \t      {\n \t\tchar *p = IDENTIFIER_POINTER (format_type_id);\n-\n+\t\t\n \t\tif (!strcmp (p, \"printf\") || !strcmp (p, \"__printf__\"))\n \t\t  format_type = printf_format_type;\n \t\telse if (!strcmp (p, \"scanf\") || !strcmp (p, \"__scanf__\"))\n@@ -1529,7 +1529,7 @@ check_format_info (info, params)\n \t  else if (*format_chars == 'q' || *format_chars == 'L')\n \t    {\n \t      length_char = *format_chars++;\n-\t      if (pedantic && length_char == 'q')\n+\t      if (pedantic)\n \t\twarning (\"ANSI C does not support the `%c' length modifier\",\n \t\t\t length_char);\n \t    }\n@@ -1541,13 +1541,6 @@ check_format_info (info, params)\n \t    }\n \t  else\n \t    length_char = 0;\n-\t  if (length_char == 'h' && *format_chars == 'h')\n-\t    {\n-\t      length_char = 'H', format_chars++;\n-\t      /* FIXME: Is allowed in ISO C 9x.  */\n-\t      if (pedantic)\n-\t\twarning (\"ANSI C does not support the `hh' length modifier\");\n-\t    }\n \t  if (length_char == 'l' && *format_chars == 'l')\n \t    {\n \t      length_char = 'q', format_chars++;\n@@ -1667,10 +1660,10 @@ check_format_info (info, params)\n \t}\n       if (info->format_type == strftime_format_type)\n \tcontinue;\n-      integral_format = (format_char == 'd' || format_char == 'i'\n-\t\t\t || format_char == 'o' || format_char == 'u'\n-\t\t\t || format_char == 'x' || format_char == 'X');\n-      if (precise && index (flag_chars, '0') != 0 && integral_format)\n+      if (precise && index (flag_chars, '0') != 0\n+\t  && (format_char == 'd' || format_char == 'i'\n+\t      || format_char == 'o' || format_char == 'u'\n+\t      || format_char == 'x' || format_char == 'x'))\n \twarning (\"`0' flag ignored with precision specifier and `%c' format\",\n \t\t format_char);\n       switch (length_char)\n@@ -1683,8 +1676,7 @@ check_format_info (info, params)\n \tcase 'L': wanted_type = fci->bigllen ? *(fci->bigllen) : 0; break;\n \tcase 'Z': wanted_type = fci->zlen ? *fci->zlen : 0; break;\n \t}\n-      if (wanted_type == 0\n-\t  || (pedantic && length_char == 'L' && integral_format))\n+      if (wanted_type == 0)\n \twarning (\"use of `%c' length character with `%c' type character\",\n \t\t length_char, format_char);\n \n@@ -1723,7 +1715,7 @@ check_format_info (info, params)\n \t    {\n \t      cur_type = TREE_TYPE (cur_type);\n \n-\t      if (TREE_CODE (cur_param) == ADDR_EXPR)\n+\t      if (cur_param != 0 && TREE_CODE (cur_param) == ADDR_EXPR)\n \t\tcur_param = TREE_OPERAND (cur_param, 0);\n \t      else\n \t\tcur_param = 0;"}, {"sha": "125aa01ad708c7efb51ff2b66c8a14cdbea99252", "filename": "gcc/c-decl.c", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -2088,6 +2088,7 @@ pushdecl (x)\n \t     DECL_SOURCE_LINE (IDENTIFIER_IMPLICIT_DECL (name)),\n \t     \"previous declaration of `%s'\",\n \t     IDENTIFIER_POINTER (name));\n+\t  TREE_THIS_VOLATILE (name) = 1;\n \t}\n \n       if (t != 0 && duplicate_decls (x, t, different_binding_level))\n@@ -2291,8 +2292,11 @@ pushdecl (x)\n \t      else if (TREE_CODE (x) == TYPE_DECL)\n \t\t;\n \t      else if (IDENTIFIER_IMPLICIT_DECL (name))\n-\t\tpedwarn (\"`%s' was declared implicitly `extern' and later `static'\",\n-\t\t\t IDENTIFIER_POINTER (name));\n+\t\t{\n+\t\t  if (! TREE_THIS_VOLATILE (name))\n+\t\t    pedwarn (\"`%s' was declared implicitly `extern' and later `static'\",\n+\t\t\t     IDENTIFIER_POINTER (name));\n+\t\t}\n \t      else\n \t\tpedwarn (\"`%s' was declared `extern' and later `static'\",\n \t\t\t IDENTIFIER_POINTER (name));\n@@ -4402,9 +4406,10 @@ grokdeclarator (declarator, declspecs, decl_context, initialized)\n \n   if (type == 0)\n     {\n-      if (! (specbits & ((1 << (int) RID_LONG) | (1 << (int) RID_SHORT)\n-\t\t\t | (1 << (int) RID_SIGNED)\n-\t\t\t | (1 << (int) RID_UNSIGNED))))\n+      if ((! (specbits & ((1 << (int) RID_LONG) | (1 << (int) RID_SHORT)\n+\t\t\t  | (1 << (int) RID_SIGNED)\n+\t\t\t  | (1 << (int) RID_UNSIGNED))))\n+\t  && ! (in_system_header && ! allocation_temporary_p ()))\n \t{\n \t  /* C9x will probably require a diagnostic here.\n \t     For now, issue a warning if -Wreturn-type and this is a function,"}, {"sha": "2db1a04598e8fb44dc80fe222c198efbcbe62a00", "filename": "gcc/c-parse.c", "status": "modified", "additions": 373, "deletions": 367, "changes": 740, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fc-parse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fc-parse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parse.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -93,10 +93,10 @@ char *language_string = \"GNU C\";\n /* Cause the `yydebug' variable to be defined.  */\n #define YYDEBUG 1\n \n-#line 93 \"c-parse.y\"\n+#line 86 \"c-parse.y\"\n typedef union {long itype; tree ttype; enum tree_code code;\n \tchar *filename; int lineno; int ends_in_label; } YYSTYPE;\n-#line 209 \"c-parse.y\"\n+#line 202 \"c-parse.y\"\n \n /* Number of statements (loosely speaking) and compound statements \n    seen so far.  */\n@@ -352,46 +352,46 @@ static const short yyrhs[] = {    -1,\n \n #if YYDEBUG != 0\n static const short yyrline[] = { 0,\n-   238,   243,   257,   259,   259,   260,   262,   264,   265,   273,\n-   277,   288,   293,   298,   300,   302,   303,   304,   309,   316,\n-   318,   323,   328,   334,   336,   341,   346,   352,   354,   359,\n-   366,   368,   371,   373,   375,   377,   379,   381,   383,   387,\n-   391,   394,   397,   400,   404,   406,   409,   412,   416,   444,\n-   450,   453,   456,   459,   461,   465,   469,   473,   475,   478,\n-   482,   509,   511,   513,   515,   517,   519,   521,   523,   525,\n-   527,   529,   531,   533,   535,   539,   541,   545,   547,   550,\n-   554,   556,   563,   566,   569,   575,   674,   675,   677,   683,\n-   685,   699,   722,   724,   726,   730,   736,   738,   743,   745,\n-   750,   752,   753,   763,   768,   770,   771,   772,   779,   785,\n-   790,   793,   801,   806,   808,   809,   810,   817,   828,   832,\n-   838,   843,   848,   853,   855,   857,   866,   869,   873,   875,\n-   877,   882,   886,   889,   893,   896,   898,   910,   913,   915,\n-   917,   921,   925,   927,   930,   943,   946,   950,   952,   960,\n-   961,   962,   966,   968,   974,   975,   976,   979,   981,   984,\n-   986,   989,   992,   998,  1005,  1007,  1014,  1021,  1024,  1031,\n-  1034,  1038,  1041,  1045,  1050,  1053,  1057,  1060,  1062,  1064,\n-  1066,  1073,  1075,  1076,  1077,  1082,  1084,  1089,  1097,  1102,\n-  1106,  1109,  1111,  1116,  1119,  1121,  1123,  1127,  1130,  1130,\n-  1133,  1133,  1136,  1136,  1139,  1139,  1142,  1144,  1155,  1163,\n-  1167,  1178,  1186,  1193,  1195,  1200,  1203,  1208,  1210,  1212,\n-  1219,  1221,  1229,  1235,  1237,  1239,  1246,  1248,  1254,  1260,\n-  1262,  1264,  1266,  1273,  1275,  1278,  1283,  1285,  1289,  1291,\n-  1293,  1295,  1299,  1301,  1304,  1307,  1310,  1313,  1317,  1319,\n-  1322,  1324,  1328,  1331,  1336,  1338,  1340,  1354,  1361,  1366,\n-  1372,  1377,  1379,  1384,  1386,  1390,  1394,  1398,  1408,  1410,\n-  1415,  1420,  1423,  1427,  1430,  1434,  1437,  1440,  1443,  1447,\n-  1450,  1454,  1458,  1460,  1462,  1464,  1466,  1468,  1470,  1472,\n-  1482,  1490,  1492,  1494,  1498,  1500,  1503,  1506,  1517,  1519,\n-  1524,  1526,  1529,  1543,  1546,  1549,  1551,  1553,  1561,  1569,\n-  1580,  1585,  1588,  1602,  1611,  1615,  1619,  1623,  1629,  1633,\n-  1638,  1641,  1646,  1649,  1650,  1667,  1672,  1675,  1687,  1689,\n-  1699,  1709,  1710,  1718,  1721,  1733,  1737,  1754,  1764,  1773,\n-  1778,  1783,  1788,  1792,  1796,  1807,  1814,  1821,  1828,  1839,\n-  1845,  1848,  1853,  1876,  1910,  1935,  1966,  1981,  1992,  1996,\n-  2000,  2003,  2008,  2010,  2013,  2015,  2019,  2024,  2027,  2033,\n-  2038,  2043,  2045,  2054,  2055,  2061,  2063,  2073,  2075,  2079,\n-  2082,  2088,  2098,  2107,  2116,  2126,  2140,  2145,  2150,  2152,\n-  2161,  2164,  2169,  2172,  2176\n+   231,   236,   250,   252,   252,   253,   255,   257,   258,   266,\n+   270,   281,   286,   291,   293,   295,   296,   297,   302,   309,\n+   311,   316,   321,   327,   329,   334,   339,   345,   347,   352,\n+   359,   361,   364,   366,   368,   370,   372,   374,   376,   380,\n+   384,   387,   390,   393,   397,   399,   402,   405,   409,   437,\n+   443,   446,   449,   452,   454,   458,   462,   466,   468,   471,\n+   475,   502,   504,   506,   508,   510,   512,   514,   516,   518,\n+   520,   522,   524,   526,   528,   532,   534,   538,   540,   543,\n+   547,   549,   556,   559,   562,   568,   667,   668,   670,   676,\n+   678,   692,   715,   717,   719,   723,   729,   731,   736,   738,\n+   743,   745,   746,   756,   761,   763,   764,   765,   772,   778,\n+   783,   786,   794,   799,   801,   802,   803,   810,   821,   825,\n+   831,   836,   841,   846,   848,   850,   859,   862,   866,   868,\n+   870,   875,   879,   882,   886,   889,   891,   903,   906,   908,\n+   910,   914,   918,   920,   923,   936,   939,   943,   945,   953,\n+   954,   955,   959,   961,   967,   968,   969,   972,   974,   977,\n+   979,   982,   985,   991,   998,  1000,  1007,  1014,  1017,  1024,\n+  1027,  1031,  1034,  1038,  1043,  1046,  1050,  1053,  1055,  1057,\n+  1059,  1066,  1068,  1069,  1070,  1075,  1077,  1082,  1090,  1095,\n+  1099,  1102,  1104,  1109,  1112,  1114,  1116,  1120,  1123,  1123,\n+  1126,  1126,  1129,  1129,  1132,  1132,  1135,  1137,  1148,  1156,\n+  1160,  1171,  1179,  1186,  1188,  1193,  1196,  1201,  1203,  1205,\n+  1212,  1214,  1222,  1228,  1230,  1232,  1239,  1241,  1247,  1253,\n+  1255,  1257,  1259,  1266,  1268,  1271,  1276,  1278,  1282,  1284,\n+  1286,  1288,  1292,  1294,  1297,  1300,  1303,  1306,  1310,  1312,\n+  1315,  1317,  1321,  1324,  1329,  1331,  1333,  1347,  1354,  1359,\n+  1365,  1370,  1372,  1377,  1379,  1383,  1387,  1391,  1401,  1403,\n+  1408,  1413,  1416,  1420,  1423,  1427,  1430,  1433,  1436,  1440,\n+  1443,  1447,  1451,  1453,  1455,  1457,  1459,  1461,  1463,  1465,\n+  1475,  1483,  1485,  1487,  1491,  1493,  1496,  1499,  1510,  1512,\n+  1517,  1519,  1522,  1536,  1539,  1542,  1544,  1546,  1554,  1562,\n+  1573,  1578,  1581,  1595,  1604,  1608,  1612,  1616,  1622,  1626,\n+  1631,  1634,  1639,  1642,  1643,  1660,  1665,  1668,  1680,  1682,\n+  1692,  1702,  1703,  1711,  1714,  1726,  1730,  1747,  1757,  1766,\n+  1771,  1776,  1781,  1785,  1789,  1800,  1807,  1814,  1821,  1832,\n+  1838,  1841,  1846,  1869,  1903,  1934,  1965,  1980,  1991,  1995,\n+  1999,  2002,  2007,  2009,  2012,  2014,  2018,  2023,  2026,  2032,\n+  2037,  2042,  2044,  2053,  2054,  2060,  2062,  2072,  2074,  2078,\n+  2081,  2087,  2097,  2106,  2115,  2125,  2139,  2144,  2149,  2151,\n+  2160,  2163,  2168,  2171,  2175\n };\n #endif\n \n@@ -1162,7 +1162,7 @@ static const short yycheck[] = {    40,\n     48,    49,    50,    51,    52\n };\n /* -*-C-*-  Note some compilers choke on comments on `#line' lines.  */\n-#line 3 \"/usr/cygnus/latest-940103/share/bison.simple\"\n+#line 3 \"/usr/share/bison.simple\"\n \n /* Skeleton output parser for bison,\n    Copyright (C) 1984, 1989, 1990 Free Software Foundation, Inc.\n@@ -1355,7 +1355,7 @@ __yy_memcpy (char *to, char *from, int count)\n #endif\n #endif\n \f\n-#line 196 \"/usr/cygnus/latest-940103/share/bison.simple\"\n+#line 196 \"/usr/share/bison.simple\"\n \n /* The user can define YYPARSE_PARAM as the name of an argument to be passed\n    into yyparse.  The argument should have type void *.\n@@ -1660,14 +1660,14 @@ yyparse(YYPARSE_PARAM_ARG)\n   switch (yyn) {\n \n case 1:\n-#line 239 \"c-parse.y\"\n+#line 232 \"c-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids an empty source file\");\n \t\t  finish_file ();\n \t\t;\n     break;}\n case 2:\n-#line 244 \"c-parse.y\"\n+#line 237 \"c-parse.y\"\n {\n \t\t  /* In case there were missing closebraces,\n \t\t     get us back to the global binding level.  */\n@@ -1677,15 +1677,15 @@ case 2:\n \t\t;\n     break;}\n case 3:\n-#line 258 \"c-parse.y\"\n+#line 251 \"c-parse.y\"\n {yyval.ttype = NULL_TREE; ;\n     break;}\n case 5:\n-#line 259 \"c-parse.y\"\n+#line 252 \"c-parse.y\"\n {yyval.ttype = NULL_TREE; ;\n     break;}\n case 9:\n-#line 266 \"c-parse.y\"\n+#line 259 \"c-parse.y\"\n { STRIP_NOPS (yyvsp[-2].ttype);\n \t\t  if ((TREE_CODE (yyvsp[-2].ttype) == ADDR_EXPR\n \t\t       && TREE_CODE (TREE_OPERAND (yyvsp[-2].ttype, 0)) == STRING_CST)\n@@ -1695,11 +1695,11 @@ case 9:\n \t\t    error (\"argument of `asm' is not a constant string\"); ;\n     break;}\n case 10:\n-#line 274 \"c-parse.y\"\n+#line 267 \"c-parse.y\"\n { pedantic = yyvsp[-1].itype; ;\n     break;}\n case 11:\n-#line 279 \"c-parse.y\"\n+#line 272 \"c-parse.y\"\n { if (pedantic)\n \t\t    error (\"ANSI C forbids data definition with no type or storage class\");\n \t\t  else if (!flag_traditional)\n@@ -1711,170 +1711,170 @@ case 11:\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 12:\n-#line 289 \"c-parse.y\"\n+#line 282 \"c-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 13:\n-#line 294 \"c-parse.y\"\n+#line 287 \"c-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype);  ;\n     break;}\n case 14:\n-#line 299 \"c-parse.y\"\n+#line 292 \"c-parse.y\"\n { pedwarn (\"empty declaration\"); ;\n     break;}\n case 15:\n-#line 301 \"c-parse.y\"\n+#line 294 \"c-parse.y\"\n { shadow_tag (yyvsp[-1].ttype); ;\n     break;}\n case 18:\n-#line 305 \"c-parse.y\"\n+#line 298 \"c-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C does not allow extra `;' outside of a function\"); ;\n     break;}\n case 19:\n-#line 311 \"c-parse.y\"\n+#line 304 \"c-parse.y\"\n { if (! start_function (current_declspecs, yyvsp[0].ttype,\n \t\t\t\t\tprefix_attributes, NULL_TREE, 0))\n \t\t    YYERROR1;\n \t\t  reinit_parse_for_function (); ;\n     break;}\n case 20:\n-#line 316 \"c-parse.y\"\n+#line 309 \"c-parse.y\"\n { store_parm_decls (); ;\n     break;}\n case 21:\n-#line 318 \"c-parse.y\"\n+#line 311 \"c-parse.y\"\n { finish_function (0); \n \t\t  current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-5].itype); ;\n     break;}\n case 22:\n-#line 324 \"c-parse.y\"\n+#line 317 \"c-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 23:\n-#line 329 \"c-parse.y\"\n+#line 322 \"c-parse.y\"\n { if (! start_function (current_declspecs, yyvsp[0].ttype,\n \t\t\t\t\tprefix_attributes, NULL_TREE, 0))\n \t\t    YYERROR1;\n \t\t  reinit_parse_for_function (); ;\n     break;}\n case 24:\n-#line 334 \"c-parse.y\"\n+#line 327 \"c-parse.y\"\n { store_parm_decls (); ;\n     break;}\n case 25:\n-#line 336 \"c-parse.y\"\n+#line 329 \"c-parse.y\"\n { finish_function (0); \n \t\t  current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-5].itype); ;\n     break;}\n case 26:\n-#line 342 \"c-parse.y\"\n+#line 335 \"c-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 27:\n-#line 347 \"c-parse.y\"\n+#line 340 \"c-parse.y\"\n { if (! start_function (NULL_TREE, yyvsp[0].ttype,\n \t\t\t\t\tprefix_attributes, NULL_TREE, 0))\n \t\t    YYERROR1;\n \t\t  reinit_parse_for_function (); ;\n     break;}\n case 28:\n-#line 352 \"c-parse.y\"\n+#line 345 \"c-parse.y\"\n { store_parm_decls (); ;\n     break;}\n case 29:\n-#line 354 \"c-parse.y\"\n+#line 347 \"c-parse.y\"\n { finish_function (0); \n \t\t  current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-5].itype); ;\n     break;}\n case 30:\n-#line 360 \"c-parse.y\"\n+#line 353 \"c-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 33:\n-#line 372 \"c-parse.y\"\n+#line 365 \"c-parse.y\"\n { yyval.code = ADDR_EXPR; ;\n     break;}\n case 34:\n-#line 374 \"c-parse.y\"\n+#line 367 \"c-parse.y\"\n { yyval.code = NEGATE_EXPR; ;\n     break;}\n case 35:\n-#line 376 \"c-parse.y\"\n+#line 369 \"c-parse.y\"\n { yyval.code = CONVERT_EXPR; ;\n     break;}\n case 36:\n-#line 378 \"c-parse.y\"\n+#line 371 \"c-parse.y\"\n { yyval.code = PREINCREMENT_EXPR; ;\n     break;}\n case 37:\n-#line 380 \"c-parse.y\"\n+#line 373 \"c-parse.y\"\n { yyval.code = PREDECREMENT_EXPR; ;\n     break;}\n case 38:\n-#line 382 \"c-parse.y\"\n+#line 375 \"c-parse.y\"\n { yyval.code = BIT_NOT_EXPR; ;\n     break;}\n case 39:\n-#line 384 \"c-parse.y\"\n+#line 377 \"c-parse.y\"\n { yyval.code = TRUTH_NOT_EXPR; ;\n     break;}\n case 40:\n-#line 388 \"c-parse.y\"\n+#line 381 \"c-parse.y\"\n { yyval.ttype = build_compound_expr (yyvsp[0].ttype); ;\n     break;}\n case 41:\n-#line 393 \"c-parse.y\"\n+#line 386 \"c-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 43:\n-#line 399 \"c-parse.y\"\n+#line 392 \"c-parse.y\"\n { yyval.ttype = build_tree_list (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 44:\n-#line 401 \"c-parse.y\"\n+#line 394 \"c-parse.y\"\n { chainon (yyvsp[-2].ttype, build_tree_list (NULL_TREE, yyvsp[0].ttype)); ;\n     break;}\n case 46:\n-#line 407 \"c-parse.y\"\n+#line 400 \"c-parse.y\"\n { yyval.ttype = build_indirect_ref (yyvsp[0].ttype, \"unary *\"); ;\n     break;}\n case 47:\n-#line 410 \"c-parse.y\"\n+#line 403 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  pedantic = yyvsp[-1].itype; ;\n     break;}\n case 48:\n-#line 413 \"c-parse.y\"\n+#line 406 \"c-parse.y\"\n { yyval.ttype = build_unary_op (yyvsp[-1].code, yyvsp[0].ttype, 0);\n \t\t  overflow_warning (yyval.ttype); ;\n     break;}\n case 49:\n-#line 417 \"c-parse.y\"\n+#line 410 \"c-parse.y\"\n { tree label = lookup_label (yyvsp[0].ttype);\n \t\t  if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids `&&'\");\n@@ -1889,57 +1889,57 @@ case 49:\n \t\t;\n     break;}\n case 50:\n-#line 445 \"c-parse.y\"\n+#line 438 \"c-parse.y\"\n { skip_evaluation--;\n \t\t  if (TREE_CODE (yyvsp[0].ttype) == COMPONENT_REF\n \t\t      && DECL_C_BIT_FIELD (TREE_OPERAND (yyvsp[0].ttype, 1)))\n \t\t    error (\"`sizeof' applied to a bit-field\");\n \t\t  yyval.ttype = c_sizeof (TREE_TYPE (yyvsp[0].ttype)); ;\n     break;}\n case 51:\n-#line 451 \"c-parse.y\"\n+#line 444 \"c-parse.y\"\n { skip_evaluation--;\n \t\t  yyval.ttype = c_sizeof (groktypename (yyvsp[-1].ttype)); ;\n     break;}\n case 52:\n-#line 454 \"c-parse.y\"\n+#line 447 \"c-parse.y\"\n { skip_evaluation--;\n \t\t  yyval.ttype = c_alignof_expr (yyvsp[0].ttype); ;\n     break;}\n case 53:\n-#line 457 \"c-parse.y\"\n+#line 450 \"c-parse.y\"\n { skip_evaluation--;\n \t\t  yyval.ttype = c_alignof (groktypename (yyvsp[-1].ttype)); ;\n     break;}\n case 54:\n-#line 460 \"c-parse.y\"\n+#line 453 \"c-parse.y\"\n { yyval.ttype = build_unary_op (REALPART_EXPR, yyvsp[0].ttype, 0); ;\n     break;}\n case 55:\n-#line 462 \"c-parse.y\"\n+#line 455 \"c-parse.y\"\n { yyval.ttype = build_unary_op (IMAGPART_EXPR, yyvsp[0].ttype, 0); ;\n     break;}\n case 56:\n-#line 466 \"c-parse.y\"\n+#line 459 \"c-parse.y\"\n { skip_evaluation++; ;\n     break;}\n case 57:\n-#line 470 \"c-parse.y\"\n+#line 463 \"c-parse.y\"\n { skip_evaluation++; ;\n     break;}\n case 59:\n-#line 476 \"c-parse.y\"\n+#line 469 \"c-parse.y\"\n { tree type = groktypename (yyvsp[-2].ttype);\n \t\t  yyval.ttype = build_c_cast (type, yyvsp[0].ttype); ;\n     break;}\n case 60:\n-#line 479 \"c-parse.y\"\n+#line 472 \"c-parse.y\"\n { start_init (NULL_TREE, NULL, 0);\n \t\t  yyvsp[-2].ttype = groktypename (yyvsp[-2].ttype);\n \t\t  really_start_incremental_init (yyvsp[-2].ttype); ;\n     break;}\n case 61:\n-#line 483 \"c-parse.y\"\n+#line 476 \"c-parse.y\"\n { char *name;\n \t\t  tree result = pop_init_level (0);\n \t\t  tree type = yyvsp[-5].ttype;\n@@ -1966,90 +1966,90 @@ case 61:\n \t\t;\n     break;}\n case 63:\n-#line 512 \"c-parse.y\"\n+#line 505 \"c-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 64:\n-#line 514 \"c-parse.y\"\n+#line 507 \"c-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 65:\n-#line 516 \"c-parse.y\"\n+#line 509 \"c-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 66:\n-#line 518 \"c-parse.y\"\n+#line 511 \"c-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 67:\n-#line 520 \"c-parse.y\"\n+#line 513 \"c-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 68:\n-#line 522 \"c-parse.y\"\n+#line 515 \"c-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 69:\n-#line 524 \"c-parse.y\"\n+#line 517 \"c-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 70:\n-#line 526 \"c-parse.y\"\n+#line 519 \"c-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 71:\n-#line 528 \"c-parse.y\"\n+#line 521 \"c-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 72:\n-#line 530 \"c-parse.y\"\n+#line 523 \"c-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 73:\n-#line 532 \"c-parse.y\"\n+#line 525 \"c-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 74:\n-#line 534 \"c-parse.y\"\n+#line 527 \"c-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 75:\n-#line 536 \"c-parse.y\"\n+#line 529 \"c-parse.y\"\n { yyvsp[-1].ttype = truthvalue_conversion (default_conversion (yyvsp[-1].ttype));\n \t\t  skip_evaluation += yyvsp[-1].ttype == boolean_false_node; ;\n     break;}\n case 76:\n-#line 539 \"c-parse.y\"\n+#line 532 \"c-parse.y\"\n { skip_evaluation -= yyvsp[-3].ttype == boolean_false_node;\n \t\t  yyval.ttype = parser_build_binary_op (TRUTH_ANDIF_EXPR, yyvsp[-3].ttype, yyvsp[0].ttype); ;\n     break;}\n case 77:\n-#line 542 \"c-parse.y\"\n+#line 535 \"c-parse.y\"\n { yyvsp[-1].ttype = truthvalue_conversion (default_conversion (yyvsp[-1].ttype));\n \t\t  skip_evaluation += yyvsp[-1].ttype == boolean_true_node; ;\n     break;}\n case 78:\n-#line 545 \"c-parse.y\"\n+#line 538 \"c-parse.y\"\n { skip_evaluation -= yyvsp[-3].ttype == boolean_true_node;\n \t\t  yyval.ttype = parser_build_binary_op (TRUTH_ORIF_EXPR, yyvsp[-3].ttype, yyvsp[0].ttype); ;\n     break;}\n case 79:\n-#line 548 \"c-parse.y\"\n+#line 541 \"c-parse.y\"\n { yyvsp[-1].ttype = truthvalue_conversion (default_conversion (yyvsp[-1].ttype));\n \t\t  skip_evaluation += yyvsp[-1].ttype == boolean_false_node; ;\n     break;}\n case 80:\n-#line 551 \"c-parse.y\"\n+#line 544 \"c-parse.y\"\n { skip_evaluation += ((yyvsp[-4].ttype == boolean_true_node)\n \t\t\t\t      - (yyvsp[-4].ttype == boolean_false_node)); ;\n     break;}\n case 81:\n-#line 554 \"c-parse.y\"\n+#line 547 \"c-parse.y\"\n { skip_evaluation -= yyvsp[-6].ttype == boolean_true_node;\n \t\t  yyval.ttype = build_conditional_expr (yyvsp[-6].ttype, yyvsp[-3].ttype, yyvsp[0].ttype); ;\n     break;}\n case 82:\n-#line 557 \"c-parse.y\"\n+#line 550 \"c-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids omitting the middle term of a ?: expression\");\n \t\t  /* Make sure first operand is calculated only once.  */\n@@ -2058,23 +2058,23 @@ case 82:\n \t\t  skip_evaluation += yyvsp[-1].ttype == boolean_true_node; ;\n     break;}\n case 83:\n-#line 564 \"c-parse.y\"\n+#line 557 \"c-parse.y\"\n { skip_evaluation -= yyvsp[-4].ttype == boolean_true_node;\n \t\t  yyval.ttype = build_conditional_expr (yyvsp[-4].ttype, yyvsp[-3].ttype, yyvsp[0].ttype); ;\n     break;}\n case 84:\n-#line 567 \"c-parse.y\"\n+#line 560 \"c-parse.y\"\n { yyval.ttype = build_modify_expr (yyvsp[-2].ttype, NOP_EXPR, yyvsp[0].ttype);\n \t\t  C_SET_EXP_ORIGINAL_CODE (yyval.ttype, MODIFY_EXPR); ;\n     break;}\n case 85:\n-#line 570 \"c-parse.y\"\n+#line 563 \"c-parse.y\"\n { yyval.ttype = build_modify_expr (yyvsp[-2].ttype, yyvsp[-1].code, yyvsp[0].ttype);\n \t\t  /* This inhibits warnings in truthvalue_conversion.  */\n \t\t  C_SET_EXP_ORIGINAL_CODE (yyval.ttype, ERROR_MARK); ;\n     break;}\n case 86:\n-#line 577 \"c-parse.y\"\n+#line 570 \"c-parse.y\"\n {\n \t\t  yyval.ttype = lastiddecl;\n \t\t  if (!yyval.ttype || yyval.ttype == error_mark_node)\n@@ -2174,23 +2174,23 @@ case 86:\n \t\t;\n     break;}\n case 88:\n-#line 676 \"c-parse.y\"\n+#line 669 \"c-parse.y\"\n { yyval.ttype = combine_strings (yyvsp[0].ttype); ;\n     break;}\n case 89:\n-#line 678 \"c-parse.y\"\n+#line 671 \"c-parse.y\"\n { char class = TREE_CODE_CLASS (TREE_CODE (yyvsp[-1].ttype));\n \t\t  if (class == 'e' || class == '1'\n \t\t      || class == '2' || class == '<')\n \t\t    C_SET_EXP_ORIGINAL_CODE (yyvsp[-1].ttype, ERROR_MARK);\n \t\t  yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 90:\n-#line 684 \"c-parse.y\"\n+#line 677 \"c-parse.y\"\n { yyval.ttype = error_mark_node; ;\n     break;}\n case 91:\n-#line 686 \"c-parse.y\"\n+#line 679 \"c-parse.y\"\n { if (current_function_decl == 0)\n \t\t    {\n \t\t      error (\"braced-group within expression allowed only inside a function\");\n@@ -2206,7 +2206,7 @@ case 91:\n \t\t  yyval.ttype = expand_start_stmt_expr (); ;\n     break;}\n case 92:\n-#line 700 \"c-parse.y\"\n+#line 693 \"c-parse.y\"\n { tree rtl_exp;\n \t\t  if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids braced-groups within expressions\");\n@@ -2231,78 +2231,78 @@ case 92:\n \t\t;\n     break;}\n case 93:\n-#line 723 \"c-parse.y\"\n+#line 716 \"c-parse.y\"\n { yyval.ttype = build_function_call (yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 94:\n-#line 725 \"c-parse.y\"\n+#line 718 \"c-parse.y\"\n { yyval.ttype = build_array_ref (yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 95:\n-#line 727 \"c-parse.y\"\n+#line 720 \"c-parse.y\"\n {\n \t\t    yyval.ttype = build_component_ref (yyvsp[-2].ttype, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 96:\n-#line 731 \"c-parse.y\"\n+#line 724 \"c-parse.y\"\n {\n                   tree expr = build_indirect_ref (yyvsp[-2].ttype, \"->\");\n \n                     yyval.ttype = build_component_ref (expr, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 97:\n-#line 737 \"c-parse.y\"\n+#line 730 \"c-parse.y\"\n { yyval.ttype = build_unary_op (POSTINCREMENT_EXPR, yyvsp[-1].ttype, 0); ;\n     break;}\n case 98:\n-#line 739 \"c-parse.y\"\n+#line 732 \"c-parse.y\"\n { yyval.ttype = build_unary_op (POSTDECREMENT_EXPR, yyvsp[-1].ttype, 0); ;\n     break;}\n case 100:\n-#line 746 \"c-parse.y\"\n+#line 739 \"c-parse.y\"\n { yyval.ttype = chainon (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 103:\n-#line 755 \"c-parse.y\"\n+#line 748 \"c-parse.y\"\n { c_mark_varargs ();\n \t\t  if (pedantic)\n \t\t    pedwarn (\"ANSI C does not permit use of `varargs.h'\"); ;\n     break;}\n case 104:\n-#line 765 \"c-parse.y\"\n+#line 758 \"c-parse.y\"\n { ;\n     break;}\n case 109:\n-#line 781 \"c-parse.y\"\n+#line 774 \"c-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 110:\n-#line 786 \"c-parse.y\"\n+#line 779 \"c-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\t\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 111:\n-#line 791 \"c-parse.y\"\n+#line 784 \"c-parse.y\"\n { shadow_tag_warned (yyvsp[-1].ttype, 1);\n \t\t  pedwarn (\"empty declaration\"); ;\n     break;}\n case 112:\n-#line 794 \"c-parse.y\"\n+#line 787 \"c-parse.y\"\n { pedwarn (\"empty declaration\"); ;\n     break;}\n case 113:\n-#line 803 \"c-parse.y\"\n+#line 796 \"c-parse.y\"\n { ;\n     break;}\n case 118:\n-#line 818 \"c-parse.y\"\n+#line 811 \"c-parse.y\"\n { yyval.itype = suspend_momentary ();\n \t\t  pending_xref_error ();\n \t\t  declspec_stack = tree_cons (prefix_attributes,\n@@ -2312,270 +2312,270 @@ case 118:\n \t\t\t\t     &current_declspecs, &prefix_attributes); ;\n     break;}\n case 119:\n-#line 829 \"c-parse.y\"\n+#line 822 \"c-parse.y\"\n { prefix_attributes = chainon (prefix_attributes, yyvsp[0].ttype); ;\n     break;}\n case 120:\n-#line 834 \"c-parse.y\"\n+#line 827 \"c-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 121:\n-#line 839 \"c-parse.y\"\n+#line 832 \"c-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 122:\n-#line 844 \"c-parse.y\"\n+#line 837 \"c-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-1].itype); ;\n     break;}\n case 123:\n-#line 849 \"c-parse.y\"\n+#line 842 \"c-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-1].itype); ;\n     break;}\n case 124:\n-#line 854 \"c-parse.y\"\n+#line 847 \"c-parse.y\"\n { shadow_tag (yyvsp[-1].ttype); ;\n     break;}\n case 125:\n-#line 856 \"c-parse.y\"\n+#line 849 \"c-parse.y\"\n { pedwarn (\"empty declaration\"); ;\n     break;}\n case 126:\n-#line 858 \"c-parse.y\"\n+#line 851 \"c-parse.y\"\n { pedantic = yyvsp[-1].itype; ;\n     break;}\n case 127:\n-#line 868 \"c-parse.y\"\n+#line 861 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 128:\n-#line 870 \"c-parse.y\"\n+#line 863 \"c-parse.y\"\n { yyval.ttype = chainon (yyvsp[0].ttype, tree_cons (NULL_TREE, yyvsp[-1].ttype, yyvsp[-2].ttype)); ;\n     break;}\n case 129:\n-#line 874 \"c-parse.y\"\n+#line 867 \"c-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 130:\n-#line 876 \"c-parse.y\"\n+#line 869 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 131:\n-#line 878 \"c-parse.y\"\n+#line 871 \"c-parse.y\"\n { if (extra_warnings)\n \t\t    warning (\"`%s' is not at beginning of declaration\",\n \t\t\t     IDENTIFIER_POINTER (yyvsp[0].ttype));\n \t\t  yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 132:\n-#line 883 \"c-parse.y\"\n+#line 876 \"c-parse.y\"\n { yyval.ttype = tree_cons (yyvsp[0].ttype, NULL_TREE, yyvsp[-1].ttype); ;\n     break;}\n case 133:\n-#line 888 \"c-parse.y\"\n+#line 881 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 134:\n-#line 890 \"c-parse.y\"\n+#line 883 \"c-parse.y\"\n { yyval.ttype = chainon (yyvsp[0].ttype, tree_cons (NULL_TREE, yyvsp[-1].ttype, yyvsp[-2].ttype)); ;\n     break;}\n case 135:\n-#line 895 \"c-parse.y\"\n+#line 888 \"c-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 136:\n-#line 897 \"c-parse.y\"\n+#line 890 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 137:\n-#line 899 \"c-parse.y\"\n+#line 892 \"c-parse.y\"\n { if (extra_warnings)\n \t\t    warning (\"`%s' is not at beginning of declaration\",\n \t\t\t     IDENTIFIER_POINTER (yyvsp[0].ttype));\n \t\t  yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 138:\n-#line 912 \"c-parse.y\"\n+#line 905 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 139:\n-#line 914 \"c-parse.y\"\n+#line 907 \"c-parse.y\"\n { yyval.ttype = tree_cons (yyvsp[0].ttype, NULL_TREE, NULL_TREE); ;\n     break;}\n case 140:\n-#line 916 \"c-parse.y\"\n+#line 909 \"c-parse.y\"\n { yyval.ttype = chainon (yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 141:\n-#line 918 \"c-parse.y\"\n+#line 911 \"c-parse.y\"\n { yyval.ttype = tree_cons (yyvsp[0].ttype, NULL_TREE, yyvsp[-1].ttype); ;\n     break;}\n case 142:\n-#line 923 \"c-parse.y\"\n+#line 916 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, NULL_TREE);\n \t\t  TREE_STATIC (yyval.ttype) = 1; ;\n     break;}\n case 143:\n-#line 926 \"c-parse.y\"\n+#line 919 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 144:\n-#line 928 \"c-parse.y\"\n+#line 921 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype);\n \t\t  TREE_STATIC (yyval.ttype) = 1; ;\n     break;}\n case 145:\n-#line 931 \"c-parse.y\"\n+#line 924 \"c-parse.y\"\n { if (extra_warnings && TREE_STATIC (yyvsp[-1].ttype))\n \t\t    warning (\"`%s' is not at beginning of declaration\",\n \t\t\t     IDENTIFIER_POINTER (yyvsp[0].ttype));\n \t\t  yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype);\n \t\t  TREE_STATIC (yyval.ttype) = TREE_STATIC (yyvsp[-1].ttype); ;\n     break;}\n case 146:\n-#line 945 \"c-parse.y\"\n+#line 938 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 147:\n-#line 947 \"c-parse.y\"\n+#line 940 \"c-parse.y\"\n { yyval.ttype = chainon (yyvsp[0].ttype, tree_cons (NULL_TREE, yyvsp[-1].ttype, yyvsp[-2].ttype)); ;\n     break;}\n case 148:\n-#line 951 \"c-parse.y\"\n+#line 944 \"c-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 149:\n-#line 953 \"c-parse.y\"\n+#line 946 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 152:\n-#line 963 \"c-parse.y\"\n+#line 956 \"c-parse.y\"\n { /* For a typedef name, record the meaning, not the name.\n \t\t     In case of `foo foo, bar;'.  */\n \t\t  yyval.ttype = lookup_name (yyvsp[0].ttype); ;\n     break;}\n case 153:\n-#line 967 \"c-parse.y\"\n+#line 960 \"c-parse.y\"\n { yyval.ttype = TREE_TYPE (yyvsp[-1].ttype); ;\n     break;}\n case 154:\n-#line 969 \"c-parse.y\"\n+#line 962 \"c-parse.y\"\n { yyval.ttype = groktypename (yyvsp[-1].ttype); ;\n     break;}\n case 162:\n-#line 991 \"c-parse.y\"\n+#line 984 \"c-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 163:\n-#line 993 \"c-parse.y\"\n+#line 986 \"c-parse.y\"\n { if (TREE_CHAIN (yyvsp[-1].ttype)) yyvsp[-1].ttype = combine_strings (yyvsp[-1].ttype);\n \t\t  yyval.ttype = yyvsp[-1].ttype;\n \t\t;\n     break;}\n case 164:\n-#line 1000 \"c-parse.y\"\n+#line 993 \"c-parse.y\"\n { yyval.ttype = start_decl (yyvsp[-3].ttype, current_declspecs, 1,\n \t\t\t\t\t  yyvsp[-1].ttype, prefix_attributes);\n \t\t  start_init (yyval.ttype, yyvsp[-2].ttype, global_bindings_p ()); ;\n     break;}\n case 165:\n-#line 1005 \"c-parse.y\"\n+#line 998 \"c-parse.y\"\n { finish_init ();\n \t\t  finish_decl (yyvsp[-1].ttype, yyvsp[0].ttype, yyvsp[-4].ttype); ;\n     break;}\n case 166:\n-#line 1008 \"c-parse.y\"\n+#line 1001 \"c-parse.y\"\n { tree d = start_decl (yyvsp[-2].ttype, current_declspecs, 0,\n \t\t\t\t       yyvsp[0].ttype, prefix_attributes);\n \t\t  finish_decl (d, NULL_TREE, yyvsp[-1].ttype); \n                 ;\n     break;}\n case 167:\n-#line 1016 \"c-parse.y\"\n+#line 1009 \"c-parse.y\"\n { yyval.ttype = start_decl (yyvsp[-3].ttype, current_declspecs, 1,\n \t\t\t\t\t  yyvsp[-1].ttype, prefix_attributes);\n \t\t  start_init (yyval.ttype, yyvsp[-2].ttype, global_bindings_p ()); ;\n     break;}\n case 168:\n-#line 1021 \"c-parse.y\"\n+#line 1014 \"c-parse.y\"\n { finish_init ();\n \t\t  decl_attributes (yyvsp[-1].ttype, yyvsp[-3].ttype, prefix_attributes);\n \t\t  finish_decl (yyvsp[-1].ttype, yyvsp[0].ttype, yyvsp[-4].ttype); ;\n     break;}\n case 169:\n-#line 1025 \"c-parse.y\"\n+#line 1018 \"c-parse.y\"\n { tree d = start_decl (yyvsp[-2].ttype, current_declspecs, 0,\n \t\t\t\t       yyvsp[0].ttype, prefix_attributes);\n \t\t  finish_decl (d, NULL_TREE, yyvsp[-1].ttype); ;\n     break;}\n case 170:\n-#line 1033 \"c-parse.y\"\n+#line 1026 \"c-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 171:\n-#line 1035 \"c-parse.y\"\n+#line 1028 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 172:\n-#line 1040 \"c-parse.y\"\n+#line 1033 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 173:\n-#line 1042 \"c-parse.y\"\n+#line 1035 \"c-parse.y\"\n { yyval.ttype = chainon (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 174:\n-#line 1047 \"c-parse.y\"\n+#line 1040 \"c-parse.y\"\n { yyval.ttype = yyvsp[-2].ttype; ;\n     break;}\n case 175:\n-#line 1052 \"c-parse.y\"\n+#line 1045 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 176:\n-#line 1054 \"c-parse.y\"\n+#line 1047 \"c-parse.y\"\n { yyval.ttype = chainon (yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 177:\n-#line 1059 \"c-parse.y\"\n+#line 1052 \"c-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 178:\n-#line 1061 \"c-parse.y\"\n+#line 1054 \"c-parse.y\"\n { yyval.ttype = build_tree_list (yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 179:\n-#line 1063 \"c-parse.y\"\n+#line 1056 \"c-parse.y\"\n { yyval.ttype = build_tree_list (yyvsp[-3].ttype, build_tree_list (NULL_TREE, yyvsp[-1].ttype)); ;\n     break;}\n case 180:\n-#line 1065 \"c-parse.y\"\n+#line 1058 \"c-parse.y\"\n { yyval.ttype = build_tree_list (yyvsp[-5].ttype, tree_cons (NULL_TREE, yyvsp[-3].ttype, yyvsp[-1].ttype)); ;\n     break;}\n case 181:\n-#line 1067 \"c-parse.y\"\n+#line 1060 \"c-parse.y\"\n { yyval.ttype = build_tree_list (yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 187:\n-#line 1085 \"c-parse.y\"\n+#line 1078 \"c-parse.y\"\n { really_start_incremental_init (NULL_TREE);\n \t\t  /* Note that the call to clear_momentary\n \t\t     is in process_init_element.  */\n \t\t  push_momentary (); ;\n     break;}\n case 188:\n-#line 1090 \"c-parse.y\"\n+#line 1083 \"c-parse.y\"\n { yyval.ttype = pop_init_level (0);\n \t\t  if (yyval.ttype == error_mark_node\n \t\t      && ! (yychar == STRING || yychar == CONSTANT))\n@@ -2584,48 +2584,48 @@ case 188:\n \t\t    pop_momentary_nofree (); ;\n     break;}\n case 189:\n-#line 1098 \"c-parse.y\"\n+#line 1091 \"c-parse.y\"\n { yyval.ttype = error_mark_node; ;\n     break;}\n case 190:\n-#line 1104 \"c-parse.y\"\n+#line 1097 \"c-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids empty initializer braces\"); ;\n     break;}\n case 194:\n-#line 1118 \"c-parse.y\"\n+#line 1111 \"c-parse.y\"\n { process_init_element (yyvsp[0].ttype); ;\n     break;}\n case 195:\n-#line 1120 \"c-parse.y\"\n+#line 1113 \"c-parse.y\"\n { push_init_level (0); ;\n     break;}\n case 196:\n-#line 1122 \"c-parse.y\"\n+#line 1115 \"c-parse.y\"\n { process_init_element (pop_init_level (0)); ;\n     break;}\n case 198:\n-#line 1128 \"c-parse.y\"\n+#line 1121 \"c-parse.y\"\n { set_init_index (yyvsp[-4].ttype, yyvsp[-2].ttype); ;\n     break;}\n case 200:\n-#line 1131 \"c-parse.y\"\n+#line 1124 \"c-parse.y\"\n { set_init_index (yyvsp[-2].ttype, NULL_TREE); ;\n     break;}\n case 202:\n-#line 1134 \"c-parse.y\"\n+#line 1127 \"c-parse.y\"\n { set_init_index (yyvsp[-1].ttype, NULL_TREE); ;\n     break;}\n case 204:\n-#line 1137 \"c-parse.y\"\n+#line 1130 \"c-parse.y\"\n { set_init_label (yyvsp[-1].ttype); ;\n     break;}\n case 206:\n-#line 1140 \"c-parse.y\"\n+#line 1133 \"c-parse.y\"\n { set_init_label (yyvsp[-1].ttype); ;\n     break;}\n case 208:\n-#line 1146 \"c-parse.y\"\n+#line 1139 \"c-parse.y\"\n { push_c_function_context ();\n \t\t  if (! start_function (current_declspecs, yyvsp[0].ttype,\n \t\t\t\t\tprefix_attributes, NULL_TREE, 1))\n@@ -2636,16 +2636,16 @@ case 208:\n \t\t  reinit_parse_for_function (); ;\n     break;}\n case 209:\n-#line 1155 \"c-parse.y\"\n+#line 1148 \"c-parse.y\"\n { store_parm_decls (); ;\n     break;}\n case 210:\n-#line 1163 \"c-parse.y\"\n+#line 1156 \"c-parse.y\"\n { finish_function (1);\n \t\t  pop_c_function_context (); ;\n     break;}\n case 211:\n-#line 1169 \"c-parse.y\"\n+#line 1162 \"c-parse.y\"\n { push_c_function_context ();\n \t\t  if (! start_function (current_declspecs, yyvsp[0].ttype,\n \t\t\t\t\tprefix_attributes, NULL_TREE, 1))\n@@ -2656,328 +2656,328 @@ case 211:\n \t\t  reinit_parse_for_function (); ;\n     break;}\n case 212:\n-#line 1178 \"c-parse.y\"\n+#line 1171 \"c-parse.y\"\n { store_parm_decls (); ;\n     break;}\n case 213:\n-#line 1186 \"c-parse.y\"\n+#line 1179 \"c-parse.y\"\n { finish_function (1);\n \t\t  pop_c_function_context (); ;\n     break;}\n case 216:\n-#line 1202 \"c-parse.y\"\n+#line 1195 \"c-parse.y\"\n { yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 217:\n-#line 1204 \"c-parse.y\"\n+#line 1197 \"c-parse.y\"\n { yyval.ttype = build_nt (CALL_EXPR, yyvsp[-2].ttype, yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 218:\n-#line 1209 \"c-parse.y\"\n+#line 1202 \"c-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 219:\n-#line 1211 \"c-parse.y\"\n+#line 1204 \"c-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-2].ttype, NULL_TREE); ;\n     break;}\n case 220:\n-#line 1213 \"c-parse.y\"\n+#line 1206 \"c-parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 221:\n-#line 1220 \"c-parse.y\"\n+#line 1213 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 223:\n-#line 1231 \"c-parse.y\"\n+#line 1224 \"c-parse.y\"\n { yyval.ttype = build_nt (CALL_EXPR, yyvsp[-2].ttype, yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 224:\n-#line 1236 \"c-parse.y\"\n+#line 1229 \"c-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 225:\n-#line 1238 \"c-parse.y\"\n+#line 1231 \"c-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-2].ttype, NULL_TREE); ;\n     break;}\n case 226:\n-#line 1240 \"c-parse.y\"\n+#line 1233 \"c-parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 227:\n-#line 1247 \"c-parse.y\"\n+#line 1240 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 229:\n-#line 1256 \"c-parse.y\"\n+#line 1249 \"c-parse.y\"\n { yyval.ttype = build_nt (CALL_EXPR, yyvsp[-2].ttype, yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 230:\n-#line 1261 \"c-parse.y\"\n+#line 1254 \"c-parse.y\"\n { yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 231:\n-#line 1263 \"c-parse.y\"\n+#line 1256 \"c-parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 232:\n-#line 1265 \"c-parse.y\"\n+#line 1258 \"c-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 233:\n-#line 1267 \"c-parse.y\"\n+#line 1260 \"c-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-2].ttype, NULL_TREE); ;\n     break;}\n case 234:\n-#line 1274 \"c-parse.y\"\n+#line 1267 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 236:\n-#line 1280 \"c-parse.y\"\n+#line 1273 \"c-parse.y\"\n { yyval.ttype = start_struct (RECORD_TYPE, yyvsp[-1].ttype);\n \t\t  /* Start scope of tag before parsing components.  */\n \t\t;\n     break;}\n case 237:\n-#line 1284 \"c-parse.y\"\n+#line 1277 \"c-parse.y\"\n { yyval.ttype = finish_struct (yyvsp[-3].ttype, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 238:\n-#line 1286 \"c-parse.y\"\n+#line 1279 \"c-parse.y\"\n { yyval.ttype = finish_struct (start_struct (RECORD_TYPE, NULL_TREE),\n \t\t\t\t      yyvsp[-2].ttype, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 239:\n-#line 1290 \"c-parse.y\"\n+#line 1283 \"c-parse.y\"\n { yyval.ttype = xref_tag (RECORD_TYPE, yyvsp[0].ttype); ;\n     break;}\n case 240:\n-#line 1292 \"c-parse.y\"\n+#line 1285 \"c-parse.y\"\n { yyval.ttype = start_struct (UNION_TYPE, yyvsp[-1].ttype); ;\n     break;}\n case 241:\n-#line 1294 \"c-parse.y\"\n+#line 1287 \"c-parse.y\"\n { yyval.ttype = finish_struct (yyvsp[-3].ttype, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 242:\n-#line 1296 \"c-parse.y\"\n+#line 1289 \"c-parse.y\"\n { yyval.ttype = finish_struct (start_struct (UNION_TYPE, NULL_TREE),\n \t\t\t\t      yyvsp[-2].ttype, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 243:\n-#line 1300 \"c-parse.y\"\n+#line 1293 \"c-parse.y\"\n { yyval.ttype = xref_tag (UNION_TYPE, yyvsp[0].ttype); ;\n     break;}\n case 244:\n-#line 1302 \"c-parse.y\"\n+#line 1295 \"c-parse.y\"\n { yyvsp[0].itype = suspend_momentary ();\n \t\t  yyval.ttype = start_enum (yyvsp[-1].ttype); ;\n     break;}\n case 245:\n-#line 1305 \"c-parse.y\"\n+#line 1298 \"c-parse.y\"\n { yyval.ttype = finish_enum (yyvsp[-4].ttype, nreverse (yyvsp[-3].ttype), yyvsp[0].ttype);\n \t\t  resume_momentary (yyvsp[-5].itype); ;\n     break;}\n case 246:\n-#line 1308 \"c-parse.y\"\n+#line 1301 \"c-parse.y\"\n { yyvsp[0].itype = suspend_momentary ();\n \t\t  yyval.ttype = start_enum (NULL_TREE); ;\n     break;}\n case 247:\n-#line 1311 \"c-parse.y\"\n+#line 1304 \"c-parse.y\"\n { yyval.ttype = finish_enum (yyvsp[-4].ttype, nreverse (yyvsp[-3].ttype), yyvsp[0].ttype);\n \t\t  resume_momentary (yyvsp[-5].itype); ;\n     break;}\n case 248:\n-#line 1314 \"c-parse.y\"\n+#line 1307 \"c-parse.y\"\n { yyval.ttype = xref_tag (ENUMERAL_TYPE, yyvsp[0].ttype); ;\n     break;}\n case 252:\n-#line 1325 \"c-parse.y\"\n+#line 1318 \"c-parse.y\"\n { if (pedantic) pedwarn (\"comma at end of enumerator list\"); ;\n     break;}\n case 253:\n-#line 1330 \"c-parse.y\"\n+#line 1323 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 254:\n-#line 1332 \"c-parse.y\"\n+#line 1325 \"c-parse.y\"\n { yyval.ttype = chainon (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  pedwarn (\"no semicolon at end of struct or union\"); ;\n     break;}\n case 255:\n-#line 1337 \"c-parse.y\"\n+#line 1330 \"c-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 256:\n-#line 1339 \"c-parse.y\"\n+#line 1332 \"c-parse.y\"\n { yyval.ttype = chainon (yyvsp[-2].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 257:\n-#line 1341 \"c-parse.y\"\n+#line 1334 \"c-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"extra semicolon in struct or union specified\"); ;\n     break;}\n case 258:\n-#line 1356 \"c-parse.y\"\n+#line 1349 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-1].itype); ;\n     break;}\n case 259:\n-#line 1362 \"c-parse.y\"\n+#line 1355 \"c-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids member declarations with no members\");\n \t\t  shadow_tag(yyvsp[0].ttype);\n \t\t  yyval.ttype = NULL_TREE; ;\n     break;}\n case 260:\n-#line 1367 \"c-parse.y\"\n+#line 1360 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-1].itype); ;\n     break;}\n case 261:\n-#line 1373 \"c-parse.y\"\n+#line 1366 \"c-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids member declarations with no members\");\n \t\t  shadow_tag(yyvsp[0].ttype);\n \t\t  yyval.ttype = NULL_TREE; ;\n     break;}\n case 262:\n-#line 1378 \"c-parse.y\"\n+#line 1371 \"c-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 263:\n-#line 1380 \"c-parse.y\"\n+#line 1373 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  pedantic = yyvsp[-1].itype; ;\n     break;}\n case 265:\n-#line 1387 \"c-parse.y\"\n+#line 1380 \"c-parse.y\"\n { yyval.ttype = chainon (yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 266:\n-#line 1392 \"c-parse.y\"\n+#line 1385 \"c-parse.y\"\n { yyval.ttype = grokfield (yyvsp[-3].filename, yyvsp[-2].lineno, yyvsp[-1].ttype, current_declspecs, NULL_TREE);\n \t\t  decl_attributes (yyval.ttype, yyvsp[0].ttype, prefix_attributes); ;\n     break;}\n case 267:\n-#line 1396 \"c-parse.y\"\n+#line 1389 \"c-parse.y\"\n { yyval.ttype = grokfield (yyvsp[-5].filename, yyvsp[-4].lineno, yyvsp[-3].ttype, current_declspecs, yyvsp[-1].ttype);\n \t\t  decl_attributes (yyval.ttype, yyvsp[0].ttype, prefix_attributes); ;\n     break;}\n case 268:\n-#line 1399 \"c-parse.y\"\n+#line 1392 \"c-parse.y\"\n { yyval.ttype = grokfield (yyvsp[-4].filename, yyvsp[-3].lineno, NULL_TREE, current_declspecs, yyvsp[-1].ttype);\n \t\t  decl_attributes (yyval.ttype, yyvsp[0].ttype, prefix_attributes); ;\n     break;}\n case 270:\n-#line 1411 \"c-parse.y\"\n+#line 1404 \"c-parse.y\"\n { if (yyvsp[-2].ttype == error_mark_node)\n \t\t    yyval.ttype = yyvsp[-2].ttype;\n \t\t  else\n \t\t    yyval.ttype = chainon (yyvsp[0].ttype, yyvsp[-2].ttype); ;\n     break;}\n case 271:\n-#line 1416 \"c-parse.y\"\n+#line 1409 \"c-parse.y\"\n { yyval.ttype = error_mark_node; ;\n     break;}\n case 272:\n-#line 1422 \"c-parse.y\"\n+#line 1415 \"c-parse.y\"\n { yyval.ttype = build_enumerator (yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 273:\n-#line 1424 \"c-parse.y\"\n+#line 1417 \"c-parse.y\"\n { yyval.ttype = build_enumerator (yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 274:\n-#line 1429 \"c-parse.y\"\n+#line 1422 \"c-parse.y\"\n { yyval.ttype = build_tree_list (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 275:\n-#line 1431 \"c-parse.y\"\n+#line 1424 \"c-parse.y\"\n { yyval.ttype = build_tree_list (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 276:\n-#line 1436 \"c-parse.y\"\n+#line 1429 \"c-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 278:\n-#line 1442 \"c-parse.y\"\n+#line 1435 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 279:\n-#line 1444 \"c-parse.y\"\n+#line 1437 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 280:\n-#line 1449 \"c-parse.y\"\n+#line 1442 \"c-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 281:\n-#line 1451 \"c-parse.y\"\n+#line 1444 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 282:\n-#line 1456 \"c-parse.y\"\n+#line 1449 \"c-parse.y\"\n { yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 283:\n-#line 1459 \"c-parse.y\"\n+#line 1452 \"c-parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 284:\n-#line 1461 \"c-parse.y\"\n+#line 1454 \"c-parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 285:\n-#line 1463 \"c-parse.y\"\n+#line 1456 \"c-parse.y\"\n { yyval.ttype = build_nt (CALL_EXPR, yyvsp[-2].ttype, yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 286:\n-#line 1465 \"c-parse.y\"\n+#line 1458 \"c-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 287:\n-#line 1467 \"c-parse.y\"\n+#line 1460 \"c-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-2].ttype, NULL_TREE); ;\n     break;}\n case 288:\n-#line 1469 \"c-parse.y\"\n+#line 1462 \"c-parse.y\"\n { yyval.ttype = build_nt (CALL_EXPR, NULL_TREE, yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 289:\n-#line 1471 \"c-parse.y\"\n+#line 1464 \"c-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, NULL_TREE, yyvsp[-1].ttype); ;\n     break;}\n case 290:\n-#line 1473 \"c-parse.y\"\n+#line 1466 \"c-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, NULL_TREE, NULL_TREE); ;\n     break;}\n case 291:\n-#line 1484 \"c-parse.y\"\n+#line 1477 \"c-parse.y\"\n {\n \t\t  if (pedantic && yyvsp[0].ends_in_label)\n \t\t    pedwarn (\"ANSI C forbids label at end of compound statement\");\n \t\t;\n     break;}\n case 293:\n-#line 1493 \"c-parse.y\"\n+#line 1486 \"c-parse.y\"\n { yyval.ends_in_label = yyvsp[0].ends_in_label; ;\n     break;}\n case 294:\n-#line 1495 \"c-parse.y\"\n+#line 1488 \"c-parse.y\"\n { yyval.ends_in_label = 0; ;\n     break;}\n case 298:\n-#line 1507 \"c-parse.y\"\n+#line 1500 \"c-parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  pushlevel (0);\n \t\t  clear_last_expr ();\n@@ -2986,12 +2986,12 @@ case 298:\n \t\t;\n     break;}\n case 300:\n-#line 1520 \"c-parse.y\"\n+#line 1513 \"c-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids label declarations\"); ;\n     break;}\n case 303:\n-#line 1531 \"c-parse.y\"\n+#line 1524 \"c-parse.y\"\n { tree link;\n \t\t  for (link = yyvsp[-1].ttype; link; link = TREE_CHAIN (link))\n \t\t    {\n@@ -3002,19 +3002,19 @@ case 303:\n \t\t;\n     break;}\n case 304:\n-#line 1545 \"c-parse.y\"\n+#line 1538 \"c-parse.y\"\n {;\n     break;}\n case 306:\n-#line 1549 \"c-parse.y\"\n+#line 1542 \"c-parse.y\"\n { compstmt_count++; ;\n     break;}\n case 307:\n-#line 1552 \"c-parse.y\"\n+#line 1545 \"c-parse.y\"\n { yyval.ttype = convert (void_type_node, integer_zero_node); ;\n     break;}\n case 308:\n-#line 1554 \"c-parse.y\"\n+#line 1547 \"c-parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  expand_end_bindings (getdecls (), 1, 0);\n \t\t  yyval.ttype = poplevel (1, 1, 0);\n@@ -3024,7 +3024,7 @@ case 308:\n \t\t    pop_momentary (); ;\n     break;}\n case 309:\n-#line 1562 \"c-parse.y\"\n+#line 1555 \"c-parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  expand_end_bindings (getdecls (), kept_level_p (), 0);\n \t\t  yyval.ttype = poplevel (kept_level_p (), 0, 0);\n@@ -3034,7 +3034,7 @@ case 309:\n \t\t    pop_momentary (); ;\n     break;}\n case 310:\n-#line 1570 \"c-parse.y\"\n+#line 1563 \"c-parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  expand_end_bindings (getdecls (), kept_level_p (), 0);\n \t\t  yyval.ttype = poplevel (kept_level_p (), 0, 0);\n@@ -3044,7 +3044,7 @@ case 310:\n \t\t    pop_momentary (); ;\n     break;}\n case 313:\n-#line 1590 \"c-parse.y\"\n+#line 1583 \"c-parse.y\"\n { emit_line_note (yyvsp[-5].filename, yyvsp[-4].lineno);\n \t\t  c_expand_start_cond (truthvalue_conversion (yyvsp[-1].ttype), 0, \n \t\t\t\t       compstmt_count);\n@@ -3054,7 +3054,7 @@ case 313:\n \t\t  position_after_white_space (); ;\n     break;}\n case 314:\n-#line 1604 \"c-parse.y\"\n+#line 1597 \"c-parse.y\"\n { stmt_count++;\n \t\t  compstmt_count++;\n \t\t  emit_line_note (yyvsp[-2].filename, yyvsp[-1].lineno);\n@@ -3064,43 +3064,43 @@ case 314:\n \t\t  position_after_white_space (); ;\n     break;}\n case 315:\n-#line 1612 \"c-parse.y\"\n+#line 1605 \"c-parse.y\"\n { expand_loop_continue_here (); ;\n     break;}\n case 316:\n-#line 1616 \"c-parse.y\"\n+#line 1609 \"c-parse.y\"\n { yyval.filename = input_filename; ;\n     break;}\n case 317:\n-#line 1620 \"c-parse.y\"\n+#line 1613 \"c-parse.y\"\n { yyval.lineno = lineno; ;\n     break;}\n case 318:\n-#line 1625 \"c-parse.y\"\n+#line 1618 \"c-parse.y\"\n { ;\n     break;}\n case 319:\n-#line 1630 \"c-parse.y\"\n+#line 1623 \"c-parse.y\"\n { ;\n     break;}\n case 320:\n-#line 1635 \"c-parse.y\"\n+#line 1628 \"c-parse.y\"\n { yyval.ends_in_label = yyvsp[0].ends_in_label; ;\n     break;}\n case 321:\n-#line 1640 \"c-parse.y\"\n+#line 1633 \"c-parse.y\"\n { yyval.ends_in_label = 0; ;\n     break;}\n case 322:\n-#line 1642 \"c-parse.y\"\n+#line 1635 \"c-parse.y\"\n { yyval.ends_in_label = 1; ;\n     break;}\n case 323:\n-#line 1648 \"c-parse.y\"\n+#line 1641 \"c-parse.y\"\n { stmt_count++; ;\n     break;}\n case 325:\n-#line 1651 \"c-parse.y\"\n+#line 1644 \"c-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-3].filename, yyvsp[-2].lineno);\n /* It appears that this should not be done--that a non-lvalue array\n@@ -3119,19 +3119,19 @@ case 325:\n \t\t  clear_momentary (); ;\n     break;}\n case 326:\n-#line 1668 \"c-parse.y\"\n+#line 1661 \"c-parse.y\"\n { c_expand_start_else ();\n \t\t  yyvsp[-1].itype = stmt_count;\n \t\t  position_after_white_space (); ;\n     break;}\n case 327:\n-#line 1672 \"c-parse.y\"\n+#line 1665 \"c-parse.y\"\n { c_expand_end_cond ();\n \t\t  if (extra_warnings && stmt_count == yyvsp[-3].itype)\n \t\t    warning (\"empty body in an else-statement\"); ;\n     break;}\n case 328:\n-#line 1676 \"c-parse.y\"\n+#line 1669 \"c-parse.y\"\n { c_expand_end_cond ();\n \t\t  /* This warning is here instead of in simple_if, because we\n \t\t     do not want a warning if an empty if is followed by an\n@@ -3142,11 +3142,11 @@ case 328:\n \t\t\t\t\t\t\"empty body in an if-statement\"); ;\n     break;}\n case 329:\n-#line 1688 \"c-parse.y\"\n+#line 1681 \"c-parse.y\"\n { c_expand_end_cond (); ;\n     break;}\n case 330:\n-#line 1690 \"c-parse.y\"\n+#line 1683 \"c-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-2].filename, yyvsp[-1].lineno);\n \t\t  /* The emit_nop used to come before emit_line_note,\n@@ -3158,7 +3158,7 @@ case 330:\n \t\t  emit_nop (); ;\n     break;}\n case 331:\n-#line 1700 \"c-parse.y\"\n+#line 1693 \"c-parse.y\"\n { /* Don't start the loop till we have succeeded\n \t\t     in parsing the end test.  This is to make sure\n \t\t     that we end every loop we start.  */\n@@ -3169,24 +3169,24 @@ case 331:\n \t\t  position_after_white_space (); ;\n     break;}\n case 332:\n-#line 1709 \"c-parse.y\"\n+#line 1702 \"c-parse.y\"\n { expand_end_loop (); ;\n     break;}\n case 333:\n-#line 1712 \"c-parse.y\"\n+#line 1705 \"c-parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  expand_exit_loop_if_false (NULL_PTR,\n \t\t\t\t\t     truthvalue_conversion (yyvsp[-2].ttype));\n \t\t  expand_end_loop ();\n \t\t  clear_momentary (); ;\n     break;}\n case 334:\n-#line 1719 \"c-parse.y\"\n+#line 1712 \"c-parse.y\"\n { expand_end_loop ();\n \t\t  clear_momentary (); ;\n     break;}\n case 335:\n-#line 1723 \"c-parse.y\"\n+#line 1716 \"c-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-5].filename, yyvsp[-4].lineno);\n \t\t  /* See comment in `while' alternative, above.  */\n@@ -3199,12 +3199,12 @@ case 335:\n \t\t;\n     break;}\n case 336:\n-#line 1735 \"c-parse.y\"\n+#line 1728 \"c-parse.y\"\n { yyvsp[0].lineno = lineno;\n \t\t  yyval.filename = input_filename; ;\n     break;}\n case 337:\n-#line 1738 \"c-parse.y\"\n+#line 1731 \"c-parse.y\"\n { \n \t\t  /* Start the loop.  Doing this after parsing\n \t\t     all the expressions ensures we will end the loop.  */\n@@ -3222,7 +3222,7 @@ case 337:\n \t\t  position_after_white_space (); ;\n     break;}\n case 338:\n-#line 1754 \"c-parse.y\"\n+#line 1747 \"c-parse.y\"\n { /* Emit the increment expression, with a line number.  */\n \t\t  emit_line_note (yyvsp[-4].filename, yyvsp[-5].lineno);\n \t\t  expand_loop_continue_here ();\n@@ -3235,7 +3235,7 @@ case 338:\n \t\t  expand_end_loop (); ;\n     break;}\n case 339:\n-#line 1765 \"c-parse.y\"\n+#line 1758 \"c-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-5].filename, yyvsp[-4].lineno);\n \t\t  c_expand_start_case (yyvsp[-1].ttype);\n@@ -3245,41 +3245,41 @@ case 339:\n \t\t  position_after_white_space (); ;\n     break;}\n case 340:\n-#line 1773 \"c-parse.y\"\n+#line 1766 \"c-parse.y\"\n { expand_end_case (yyvsp[-3].ttype);\n \t\t  if (yychar == CONSTANT || yychar == STRING)\n \t\t    pop_momentary_nofree ();\n \t\t  else\n \t\t    pop_momentary (); ;\n     break;}\n case 341:\n-#line 1779 \"c-parse.y\"\n+#line 1772 \"c-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-3].filename, yyvsp[-2].lineno);\n \t\t  if ( ! expand_exit_something ())\n \t\t    error (\"break statement not within loop or switch\"); ;\n     break;}\n case 342:\n-#line 1784 \"c-parse.y\"\n+#line 1777 \"c-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-3].filename, yyvsp[-2].lineno);\n \t\t  if (! expand_continue_loop (NULL_PTR))\n \t\t    error (\"continue statement not within a loop\"); ;\n     break;}\n case 343:\n-#line 1789 \"c-parse.y\"\n+#line 1782 \"c-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-3].filename, yyvsp[-2].lineno);\n \t\t  c_expand_return (NULL_TREE); ;\n     break;}\n case 344:\n-#line 1793 \"c-parse.y\"\n+#line 1786 \"c-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-4].filename, yyvsp[-3].lineno);\n \t\t  c_expand_return (yyvsp[-1].ttype); ;\n     break;}\n case 345:\n-#line 1797 \"c-parse.y\"\n+#line 1790 \"c-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-7].filename, yyvsp[-6].lineno);\n \t\t  STRIP_NOPS (yyvsp[-2].ttype);\n@@ -3291,31 +3291,31 @@ case 345:\n \t\t    error (\"argument of `asm' is not a constant string\"); ;\n     break;}\n case 346:\n-#line 1808 \"c-parse.y\"\n+#line 1801 \"c-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-9].filename, yyvsp[-8].lineno);\n \t\t  c_expand_asm_operands (yyvsp[-4].ttype, yyvsp[-2].ttype, NULL_TREE, NULL_TREE,\n \t\t\t\t\t yyvsp[-6].ttype == ridpointers[(int)RID_VOLATILE],\n \t\t\t\t\t input_filename, lineno); ;\n     break;}\n case 347:\n-#line 1815 \"c-parse.y\"\n+#line 1808 \"c-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-11].filename, yyvsp[-10].lineno);\n \t\t  c_expand_asm_operands (yyvsp[-6].ttype, yyvsp[-4].ttype, yyvsp[-2].ttype, NULL_TREE,\n \t\t\t\t\t yyvsp[-8].ttype == ridpointers[(int)RID_VOLATILE],\n \t\t\t\t\t input_filename, lineno); ;\n     break;}\n case 348:\n-#line 1823 \"c-parse.y\"\n+#line 1816 \"c-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-13].filename, yyvsp[-12].lineno);\n \t\t  c_expand_asm_operands (yyvsp[-8].ttype, yyvsp[-6].ttype, yyvsp[-4].ttype, yyvsp[-2].ttype,\n \t\t\t\t\t yyvsp[-10].ttype == ridpointers[(int)RID_VOLATILE],\n \t\t\t\t\t input_filename, lineno); ;\n     break;}\n case 349:\n-#line 1829 \"c-parse.y\"\n+#line 1822 \"c-parse.y\"\n { tree decl;\n \t\t  stmt_count++;\n \t\t  emit_line_note (yyvsp[-4].filename, yyvsp[-3].lineno);\n@@ -3328,15 +3328,15 @@ case 349:\n \t\t;\n     break;}\n case 350:\n-#line 1840 \"c-parse.y\"\n+#line 1833 \"c-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids `goto *expr;'\");\n \t\t  stmt_count++;\n \t\t  emit_line_note (yyvsp[-5].filename, yyvsp[-4].lineno);\n \t\t  expand_computed_goto (convert (ptr_type_node, yyvsp[-1].ttype)); ;\n     break;}\n case 353:\n-#line 1855 \"c-parse.y\"\n+#line 1848 \"c-parse.y\"\n {\n \t    /* The value returned by this action is  */\n \t    /*      1 if everything is OK */ \n@@ -3359,14 +3359,14 @@ case 353:\n \t  ;\n     break;}\n case 354:\n-#line 1876 \"c-parse.y\"\n+#line 1869 \"c-parse.y\"\n {\n \t    if (yyvsp[-1].itype)\n \t      iterator_for_loop_end (yyvsp[-3].ttype);\n \t  ;\n     break;}\n case 355:\n-#line 1911 \"c-parse.y\"\n+#line 1904 \"c-parse.y\"\n { register tree value = check_case_value (yyvsp[-1].ttype);\n \t\t  register tree label\n \t\t    = build_decl (LABEL_DECL, NULL_TREE, NULL_TREE);\n@@ -3376,8 +3376,14 @@ case 355:\n \t\t  if (value != error_mark_node)\n \t\t    {\n \t\t      tree duplicate;\n-\t\t      int success = pushcase (value, convert_and_check,\n-\t\t\t\t\t      label, &duplicate);\n+\t\t      int success;\n+\n+\t\t      if (pedantic && ! INTEGRAL_TYPE_P (TREE_TYPE (value)))\n+\t\t\tpedwarn (\"label must have integral type in ANSI C\");\n+\n+\t\t      success = pushcase (value, convert_and_check,\n+\t\t\t\t\t  label, &duplicate);\n+\n \t\t      if (success == 1)\n \t\t\terror (\"case label not within a switch statement\");\n \t\t      else if (success == 2)\n@@ -3393,7 +3399,7 @@ case 355:\n \t\t  position_after_white_space (); ;\n     break;}\n case 356:\n-#line 1936 \"c-parse.y\"\n+#line 1935 \"c-parse.y\"\n { register tree value1 = check_case_value (yyvsp[-3].ttype);\n \t\t  register tree value2 = check_case_value (yyvsp[-1].ttype);\n \t\t  register tree label\n@@ -3426,7 +3432,7 @@ case 356:\n \t\t  position_after_white_space (); ;\n     break;}\n case 357:\n-#line 1967 \"c-parse.y\"\n+#line 1966 \"c-parse.y\"\n {\n \t\t  tree duplicate;\n \t\t  register tree label\n@@ -3443,7 +3449,7 @@ case 357:\n \t\t  position_after_white_space (); ;\n     break;}\n case 358:\n-#line 1982 \"c-parse.y\"\n+#line 1981 \"c-parse.y\"\n { tree label = define_label (input_filename, lineno, yyvsp[-1].ttype);\n \t\t  stmt_count++;\n \t\t  emit_nop ();\n@@ -3452,52 +3458,52 @@ case 358:\n \t\t  position_after_white_space (); ;\n     break;}\n case 359:\n-#line 1994 \"c-parse.y\"\n+#line 1993 \"c-parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  yyval.ttype = NULL_TREE; ;\n     break;}\n case 360:\n-#line 1997 \"c-parse.y\"\n+#line 1996 \"c-parse.y\"\n { emit_line_note (input_filename, lineno); ;\n     break;}\n case 361:\n-#line 2002 \"c-parse.y\"\n+#line 2001 \"c-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 363:\n-#line 2009 \"c-parse.y\"\n+#line 2008 \"c-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 366:\n-#line 2016 \"c-parse.y\"\n+#line 2015 \"c-parse.y\"\n { yyval.ttype = chainon (yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 367:\n-#line 2021 \"c-parse.y\"\n+#line 2020 \"c-parse.y\"\n { yyval.ttype = build_tree_list (yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 368:\n-#line 2026 \"c-parse.y\"\n+#line 2025 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, combine_strings (yyvsp[0].ttype), NULL_TREE); ;\n     break;}\n case 369:\n-#line 2028 \"c-parse.y\"\n+#line 2027 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, combine_strings (yyvsp[0].ttype), yyvsp[-2].ttype); ;\n     break;}\n case 370:\n-#line 2034 \"c-parse.y\"\n+#line 2033 \"c-parse.y\"\n { pushlevel (0);\n \t\t  clear_parm_order ();\n \t\t  declare_parm_level (0); ;\n     break;}\n case 371:\n-#line 2038 \"c-parse.y\"\n+#line 2037 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  parmlist_tags_warning ();\n \t\t  poplevel (0, 0, 0); ;\n     break;}\n case 373:\n-#line 2046 \"c-parse.y\"\n+#line 2045 \"c-parse.y\"\n { tree parm;\n \t\t  if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids forward parameter declarations\");\n@@ -3507,19 +3513,19 @@ case 373:\n \t\t  clear_parm_order (); ;\n     break;}\n case 374:\n-#line 2054 \"c-parse.y\"\n+#line 2053 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 375:\n-#line 2056 \"c-parse.y\"\n+#line 2055 \"c-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, NULL_TREE, NULL_TREE); ;\n     break;}\n case 376:\n-#line 2062 \"c-parse.y\"\n+#line 2061 \"c-parse.y\"\n { yyval.ttype = get_parm_info (0); ;\n     break;}\n case 377:\n-#line 2064 \"c-parse.y\"\n+#line 2063 \"c-parse.y\"\n { yyval.ttype = get_parm_info (0);\n \t\t  /* Gcc used to allow this as an extension.  However, it does\n \t\t     not work for all targets, and thus has been disabled.\n@@ -3531,23 +3537,23 @@ case 377:\n \t\t;\n     break;}\n case 378:\n-#line 2074 \"c-parse.y\"\n+#line 2073 \"c-parse.y\"\n { yyval.ttype = get_parm_info (1); ;\n     break;}\n case 379:\n-#line 2076 \"c-parse.y\"\n+#line 2075 \"c-parse.y\"\n { yyval.ttype = get_parm_info (0); ;\n     break;}\n case 380:\n-#line 2081 \"c-parse.y\"\n+#line 2080 \"c-parse.y\"\n { push_parm_decl (yyvsp[0].ttype); ;\n     break;}\n case 381:\n-#line 2083 \"c-parse.y\"\n+#line 2082 \"c-parse.y\"\n { push_parm_decl (yyvsp[0].ttype); ;\n     break;}\n case 382:\n-#line 2090 \"c-parse.y\"\n+#line 2089 \"c-parse.y\"\n { yyval.ttype = build_tree_list (build_tree_list (current_declspecs,\n \t\t\t\t\t\t\t yyvsp[-1].ttype),\n \t\t\t\t\tbuild_tree_list (prefix_attributes,\n@@ -3558,7 +3564,7 @@ case 382:\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 383:\n-#line 2099 \"c-parse.y\"\n+#line 2098 \"c-parse.y\"\n { yyval.ttype = build_tree_list (build_tree_list (current_declspecs,\n \t\t\t\t\t\t\t yyvsp[-1].ttype),\n \t\t\t\t\tbuild_tree_list (prefix_attributes,\n@@ -3569,7 +3575,7 @@ case 383:\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 384:\n-#line 2108 \"c-parse.y\"\n+#line 2107 \"c-parse.y\"\n { yyval.ttype = build_tree_list (build_tree_list (current_declspecs,\n \t\t\t\t\t\t\t yyvsp[-1].ttype),\n \t\t\t\t\tbuild_tree_list (prefix_attributes,\n@@ -3580,7 +3586,7 @@ case 384:\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 385:\n-#line 2117 \"c-parse.y\"\n+#line 2116 \"c-parse.y\"\n { yyval.ttype = build_tree_list (build_tree_list (current_declspecs,\n \t\t\t\t\t\t\t yyvsp[-1].ttype),\n \t\t\t\t\tbuild_tree_list (prefix_attributes,\n@@ -3591,7 +3597,7 @@ case 385:\n \t\t  resume_momentary (yyvsp[-2].itype);  ;\n     break;}\n case 386:\n-#line 2127 \"c-parse.y\"\n+#line 2126 \"c-parse.y\"\n { yyval.ttype = build_tree_list (build_tree_list (current_declspecs,\n \t\t\t\t\t\t\t yyvsp[-1].ttype),\n \t\t\t\t\tbuild_tree_list (prefix_attributes,\n@@ -3602,49 +3608,49 @@ case 386:\n \t\t  resume_momentary (yyvsp[-2].itype);  ;\n     break;}\n case 387:\n-#line 2141 \"c-parse.y\"\n+#line 2140 \"c-parse.y\"\n { pushlevel (0);\n \t\t  clear_parm_order ();\n \t\t  declare_parm_level (1); ;\n     break;}\n case 388:\n-#line 2145 \"c-parse.y\"\n+#line 2144 \"c-parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  parmlist_tags_warning ();\n \t\t  poplevel (0, 0, 0); ;\n     break;}\n case 390:\n-#line 2153 \"c-parse.y\"\n+#line 2152 \"c-parse.y\"\n { tree t;\n \t\t  for (t = yyvsp[-1].ttype; t; t = TREE_CHAIN (t))\n \t\t    if (TREE_VALUE (t) == NULL_TREE)\n \t\t      error (\"`...' in old-style identifier list\");\n \t\t  yyval.ttype = tree_cons (NULL_TREE, NULL_TREE, yyvsp[-1].ttype); ;\n     break;}\n case 391:\n-#line 2163 \"c-parse.y\"\n+#line 2162 \"c-parse.y\"\n { yyval.ttype = build_tree_list (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 392:\n-#line 2165 \"c-parse.y\"\n+#line 2164 \"c-parse.y\"\n { yyval.ttype = chainon (yyvsp[-2].ttype, build_tree_list (NULL_TREE, yyvsp[0].ttype)); ;\n     break;}\n case 393:\n-#line 2171 \"c-parse.y\"\n+#line 2170 \"c-parse.y\"\n { yyval.ttype = build_tree_list (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 394:\n-#line 2173 \"c-parse.y\"\n+#line 2172 \"c-parse.y\"\n { yyval.ttype = chainon (yyvsp[-2].ttype, build_tree_list (NULL_TREE, yyvsp[0].ttype)); ;\n     break;}\n case 395:\n-#line 2178 \"c-parse.y\"\n+#line 2177 \"c-parse.y\"\n { yyval.itype = pedantic;\n \t\t  pedantic = 0; ;\n     break;}\n }\n    /* the action file gets copied in in place of this dollarsign */\n-#line 498 \"/usr/cygnus/latest-940103/share/bison.simple\"\n+#line 498 \"/usr/share/bison.simple\"\n \f\n   yyvsp -= yylen;\n   yyssp -= yylen;\n@@ -3840,5 +3846,5 @@ case 395:\n   yystate = yyn;\n   goto yynewstate;\n }\n-#line 2182 \"c-parse.y\"\n+#line 2181 \"c-parse.y\"\n "}, {"sha": "b3b4dc2a97567f27f8a9eda4b2d20d98b519203a", "filename": "gcc/c-parse.in", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fc-parse.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fc-parse.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parse.in?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -2101,8 +2101,14 @@ label:\t  CASE expr_no_commas ':'\n \t\t  if (value != error_mark_node)\n \t\t    {\n \t\t      tree duplicate;\n-\t\t      int success = pushcase (value, convert_and_check,\n-\t\t\t\t\t      label, &duplicate);\n+\t\t      int success;\n+\n+\t\t      if (pedantic && ! INTEGRAL_TYPE_P (TREE_TYPE (value)))\n+\t\t\tpedwarn (\"label must have integral type in ANSI C\");\n+\n+\t\t      success = pushcase (value, convert_and_check,\n+\t\t\t\t\t  label, &duplicate);\n+\n \t\t      if (success == 1)\n \t\t\terror (\"case label not within a switch statement\");\n \t\t      else if (success == 2)"}, {"sha": "4f0b1afe97cb76e135638d342204c6ccdba4ec92", "filename": "gcc/c-parse.y", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fc-parse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fc-parse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parse.y?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1910,8 +1910,14 @@ label:\t  CASE expr_no_commas ':'\n \t\t  if (value != error_mark_node)\n \t\t    {\n \t\t      tree duplicate;\n-\t\t      int success = pushcase (value, convert_and_check,\n-\t\t\t\t\t      label, &duplicate);\n+\t\t      int success;\n+\n+\t\t      if (pedantic && ! INTEGRAL_TYPE_P (TREE_TYPE (value)))\n+\t\t\tpedwarn (\"label must have integral type in ANSI C\");\n+\n+\t\t      success = pushcase (value, convert_and_check,\n+\t\t\t\t\t  label, &duplicate);\n+\n \t\t      if (success == 1)\n \t\t\terror (\"case label not within a switch statement\");\n \t\t      else if (success == 2)"}, {"sha": "69e8e929f72493335fb8fdd9e29b1bf96bdbaf6a", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 11, "deletions": 4, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -3770,11 +3770,18 @@ build_c_cast (type, expr)\n \t  && TREE_CODE (type) == POINTER_TYPE\n \t  && TREE_CODE (otype) == POINTER_TYPE)\n \t{\n-\t  if (TYPE_VOLATILE (TREE_TYPE (otype))\n-\t      && ! TYPE_VOLATILE (TREE_TYPE (type)))\n+\t  /* Go to the innermost object being pointed to.  */\n+\t  tree in_type = type;\n+\t  tree in_otype = otype;\n+\n+\t  while (TREE_CODE (in_type) == POINTER_TYPE)\n+\t    in_type = TREE_TYPE (in_type);\n+\t  while (TREE_CODE (in_otype) == POINTER_TYPE)\n+\t    in_otype = TREE_TYPE (in_otype);\n+\t    \n+\t  if (TYPE_VOLATILE (in_otype) && ! TYPE_VOLATILE (in_type))\n \t    pedwarn (\"cast discards `volatile' from pointer target type\");\n-\t  if (TYPE_READONLY (TREE_TYPE (otype))\n-\t      && ! TYPE_READONLY (TREE_TYPE (type)))\n+\t  if (TYPE_READONLY (in_otype) && ! TYPE_READONLY (in_type))\n \t    pedwarn (\"cast discards `const' from pointer target type\");\n \t}\n "}, {"sha": "ed4d5c6495acd8dce589baec4206be5c92818f1b", "filename": "gcc/cccp.c", "status": "modified", "additions": 42, "deletions": 17, "changes": 59, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -933,6 +933,7 @@ static int ignore_srcdir;\n \f\n static int safe_read PROTO((int, char *, int));\n static void safe_write PROTO((int, char *, int));\n+static void eprint_string PROTO((char *, size_t));\n \n int main PROTO((int, char **));\n \n@@ -1146,6 +1147,34 @@ safe_write (desc, ptr, len)\n     len -= written;\n   }\n }\n+\n+/* Print a string to stderr, with extra handling in case it contains\n+   embedded NUL characters.  Any present are written as is.\n+\n+   Using fwrite for this purpose produces undesireable results on VMS\n+   when stderr happens to be a record oriented file, such as a batch log\n+   file, rather than a stream oriented one.  */\n+\n+static void\n+eprint_string (string, length)\n+     char *string;\n+     size_t length;\n+{\n+  size_t segment_length;\n+\n+  do {\n+    fprintf(stderr, \"%s\", string);\n+    length -= (segment_length = strlen(string));\n+    if (length > 0)\n+      {\n+\tfputc('\\0', stderr);\n+\tlength -= 1;\n+\t/* Advance past the portion which has already been printed.  */\n+\tstring += segment_length + 1;\n+      }\n+  } while (length > 0);\n+}\n+\n \f\n int\n main (argc, argv)\n@@ -6804,6 +6833,10 @@ do_warning (buf, limit, op, keyword)\n   bcopy ((char *) buf, (char *) copy, length);\n   copy[length] = 0;\n   SKIP_WHITE_SPACE (copy);\n+\n+  if (pedantic && !instack[indepth].system_header_p)\n+    pedwarn (\"ANSI C does not allow `#warning'\");\n+\n   /* Use `pedwarn' not `warning', because #warning isn't in the C Standard;\n      if -pedantic-errors is given, #warning should cause an error.  */\n   pedwarn (\"#warning %s\", copy);\n@@ -6990,8 +7023,7 @@ do_elif (buf, limit, op, keyword)\n \t     && !bcmp (if_stack->fname, ip->nominal_fname,\n \t\t       if_stack->fname_len))) {\n \tfprintf (stderr, \", file \");\n-\tfwrite (if_stack->fname, sizeof if_stack->fname[0],\n-\t\tif_stack->fname_len, stderr);\n+\teprint_string (if_stack->fname, if_stack->fname_len);\n       }\n       fprintf (stderr, \")\\n\");\n     }\n@@ -7533,8 +7565,7 @@ do_else (buf, limit, op, keyword)\n \t     && !bcmp (if_stack->fname, ip->nominal_fname,\n \t\t       if_stack->fname_len))) {\n \tfprintf (stderr, \", file \");\n-\tfwrite (if_stack->fname, sizeof if_stack->fname[0],\n-\t\tif_stack->fname_len, stderr);\n+\teprint_string (if_stack->fname, if_stack->fname_len);\n       }\n       fprintf (stderr, \")\\n\");\n     }\n@@ -8879,8 +8910,7 @@ verror (msg, args)\n     }\n \n   if (ip != NULL) {\n-    fwrite (ip->nominal_fname, sizeof ip->nominal_fname[0],\n-\t    ip->nominal_fname_len, stderr);\n+    eprint_string (ip->nominal_fname, ip->nominal_fname_len);\n     fprintf (stderr, \":%d: \", ip->lineno);\n   }\n   vfprintf (stderr, msg, args);\n@@ -8907,8 +8937,7 @@ error_from_errno (name)\n     }\n \n   if (ip != NULL) {\n-    fwrite (ip->nominal_fname, sizeof ip->nominal_fname[0],\n-\t    ip->nominal_fname_len, stderr);\n+    eprint_string (ip->nominal_fname, ip->nominal_fname_len);\n     fprintf (stderr, \":%d: \", ip->lineno);\n   }\n \n@@ -8953,8 +8982,7 @@ vwarning (msg, args)\n     }\n \n   if (ip != NULL) {\n-    fwrite (ip->nominal_fname, sizeof ip->nominal_fname[0],\n-\t    ip->nominal_fname_len, stderr);\n+    eprint_string (ip->nominal_fname, ip->nominal_fname_len);\n     fprintf (stderr, \":%d: \", ip->lineno);\n   }\n   fprintf (stderr, \"warning: \");\n@@ -8996,8 +9024,7 @@ verror_with_line (line, msg, args)\n     }\n \n   if (ip != NULL) {\n-    fwrite (ip->nominal_fname, sizeof ip->nominal_fname[0],\n-\t    ip->nominal_fname_len, stderr);\n+    eprint_string (ip->nominal_fname, ip->nominal_fname_len);\n     fprintf (stderr, \":%d: \", line);\n   }\n   vfprintf (stderr, msg, args);\n@@ -9045,8 +9072,7 @@ vwarning_with_line (line, msg, args)\n     }\n \n   if (ip != NULL) {\n-    fwrite (ip->nominal_fname, sizeof ip->nominal_fname[0],\n-\t    ip->nominal_fname_len, stderr);\n+    eprint_string (ip->nominal_fname, ip->nominal_fname_len);\n     fprintf (stderr, line ? \":%d: \" : \": \", line);\n   }\n   fprintf (stderr, \"warning: \");\n@@ -9109,7 +9135,7 @@ pedwarn_with_file_and_line (file, file_len, line, PRINTF_ALIST (msg))\n   if (!pedantic_errors && inhibit_warnings)\n     return;\n   if (file) {\n-    fwrite (file, sizeof file[0], file_len, stderr);\n+    eprint_string (file, file_len);\n     fprintf (stderr, \":%d: \", line);\n   }\n   if (pedantic_errors)\n@@ -9159,8 +9185,7 @@ print_containing_files ()\n       }\n \n       fprintf (stderr, \" from \");\n-      fwrite (ip->nominal_fname, sizeof ip->nominal_fname[0],\n-\t      ip->nominal_fname_len, stderr);\n+      eprint_string (ip->nominal_fname, ip->nominal_fname_len);\n       fprintf (stderr, \":%d\", ip->lineno);\n     }\n   if (! first)"}, {"sha": "06879ebe492296e01ad226c088982eb8eb502f2e", "filename": "gcc/config.in", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -92,12 +92,12 @@\n /* Define if you have the rindex function.  */\n #undef HAVE_RINDEX\n \n-/* Define if you have the strchr function.  */\n-#undef HAVE_STRCHR\n-\n /* Define if you have the setrlimit function.  */\n #undef HAVE_SETRLIMIT\n \n+/* Define if you have the strchr function.  */\n+#undef HAVE_STRCHR\n+\n /* Define if you have the strerror function.  */\n #undef HAVE_STRERROR\n \n@@ -119,6 +119,9 @@\n /* Define if you have the <limits.h> header file.  */\n #undef HAVE_LIMITS_H\n \n+/* Define if you have the <stab.h> header file.  */\n+#undef HAVE_STAB_H\n+\n /* Define if you have the <stddef.h> header file.  */\n #undef HAVE_STDDEF_H\n "}, {"sha": "e49f6943e5d7ed414f736f2cc4a2877d07453cda", "filename": "gcc/config/1750a/1750a.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2F1750a%2F1750a.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2F1750a%2F1750a.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2F1750a%2F1750a.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,5 +1,5 @@\n /* Definitions of target machine for GNU compiler.\n-   Copyright (C) 1994, 1995, 1996, 1997 Free Software Foundation, Inc.\n+   Copyright (C) 1994, 1995, 1996, 1997, 1998 Free Software Foundation, Inc.\n    Contributed by O.M.Kellogg, DASA (oliver.kellogg@space.otn.dasa.de)\n \n This file is part of GNU CC."}, {"sha": "c3e61747b42fe3d2073f9e6e49c4ffdfb91c7df5", "filename": "gcc/config/a29k/a29k.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fa29k%2Fa29k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fa29k%2Fa29k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fa29k%2Fa29k.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,5 +1,5 @@\n /* Definitions of target machine for GNU compiler, for AMD Am29000 CPU.\n-   Copyright (C) 1988, 90-96, 1997 Free Software Foundation, Inc.\n+   Copyright (C) 1988, 90-97, 1998 Free Software Foundation, Inc.\n    Contributed by Richard Kenner (kenner@nyu.edu)\n \n This file is part of GNU CC."}, {"sha": "472a225672be5839d8eb0e34749e87d1a5222258", "filename": "gcc/config/alpha/xm-vms.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Falpha%2Fxm-vms.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Falpha%2Fxm-vms.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fxm-vms.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -71,7 +71,6 @@ Boston, MA 02111-1307, USA.  */\n #define HAVE_ATOLL\n \n #define NO_SYS_PARAMS_H\t\t/* Don't have <sys/params.h> */\n-#define NO_STAB_H\t\t/* Don't have <stab.h> */\n #define USE_C_ALLOCA\t\t/* Using alloca.c */\n \n #define HAVE_FCNTL_H 1"}, {"sha": "0ddc91afb8919052e6daea0ef11ff360b040baf1", "filename": "gcc/config/arc/arc.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Farc%2Farc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Farc%2Farc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Farc.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,5 +1,5 @@\n /* Definitions of target machine for GNU compiler, Argonaut ARC cpu.\n-   Copyright (C) 1994, 1995, 1997 Free Software Foundation, Inc.\n+   Copyright (C) 1994, 1995, 1997, 1998 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n "}, {"sha": "ee4b140ba2f5e28fe5265bb0e5ac790db16ddb0b", "filename": "gcc/config/dsp16xx/dsp16xx.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fdsp16xx%2Fdsp16xx.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fdsp16xx%2Fdsp16xx.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdsp16xx%2Fdsp16xx.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1556,7 +1556,7 @@ extern struct dsp16xx_frame_info current_frame_info;\n \n /* A C expression for the cost of moving data of mode MODE between\n    a register and memory. A value of 2 is the default. */\n-#define MEMORY_MOVE_COST(MODE,CLASS,IN_P)                        \\\n+#define MEMORY_MOVE_COST(MODE,CLASS,IN)                          \\\n   (GET_MODE_CLASS(MODE) == MODE_INT && MODE == QImode ? 12       \\\n    : 16)\n "}, {"sha": "b1b8ab802d03ca7b662b2dce0bf1c5f40247e8ab", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 13, "deletions": 4, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,5 +1,5 @@\n /* Subroutines for insn-output.c for Intel X86.\n-   Copyright (C) 1988, 92, 94-97, 1998 Free Software Foundation, Inc.\n+   Copyright (C) 1988, 92, 94, 95, 96, 97, 1998 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -3876,7 +3876,10 @@ output_387_binary_op (insn, operands)\n \t}\n \n       if (find_regno_note (insn, REG_DEAD, REGNO (operands[2])))\n-\treturn strcat (buf, AS2 (p,%2,%0));\n+\tif (STACK_TOP_P (operands[0]))\n+\t  return strcat (buf, AS2 (p,%0,%2));\n+\telse\n+\t  return strcat (buf, AS2 (p,%2,%0));\n \n       if (STACK_TOP_P (operands[0]))\n \treturn strcat (buf, AS2C (%y2,%0));\n@@ -3907,10 +3910,16 @@ output_387_binary_op (insn, operands)\n \tabort ();\n \n       if (find_regno_note (insn, REG_DEAD, REGNO (operands[2])))\n-\treturn strcat (buf, AS2 (rp,%2,%0));\n+\tif (STACK_TOP_P (operands[0]))\n+\t  return strcat (buf, AS2 (p,%0,%2));\n+\telse\n+\t  return strcat (buf, AS2 (rp,%2,%0));\n \n       if (find_regno_note (insn, REG_DEAD, REGNO (operands[1])))\n-\treturn strcat (buf, AS2 (p,%1,%0));\n+\tif (STACK_TOP_P (operands[0]))\n+\t  return strcat (buf, AS2 (rp,%0,%1));\n+\telse\n+\t  return strcat (buf, AS2 (p,%1,%0));\n \n       if (STACK_TOP_P (operands[0]))\n \t{"}, {"sha": "521a65309912189217cc445c18064035b5191121", "filename": "gcc/config/i386/xm-cygwin32.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fi386%2Fxm-cygwin32.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fi386%2Fxm-cygwin32.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fxm-cygwin32.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -19,7 +19,6 @@ along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA. */\n \n-#define NO_STAB_H\n #define EXECUTABLE_SUFFIX \".exe\"\n #define NO_SYS_SIGLIST 1\n #define HAVE_BCOPY 1"}, {"sha": "d818142d9e52da40c75a1894befe7ac1071bb0d2", "filename": "gcc/config/i386/xm-mingw32.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fi386%2Fxm-mingw32.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fi386%2Fxm-mingw32.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fxm-mingw32.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -19,8 +19,6 @@ along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA. */\n \n-#define NO_STAB_H\n-\n #ifndef USG\n #define USG 1\n #endif"}, {"sha": "e5dfc20ebe326c848fda5aeb7e9f894fe4f23cfe", "filename": "gcc/config/m32r/m32r.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fm32r%2Fm32r.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fm32r%2Fm32r.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32r%2Fm32r.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1286,7 +1286,7 @@ do {\t\t\t\t\t\\\n /* Compute the cost of moving data between registers and memory.  */\n /* Memory is 3 times as expensive as registers.\n    ??? Is that the right way to look at it?  */\n-#define MEMORY_MOVE_COST(MODE,CLASS,IN_P) \\\n+#define MEMORY_MOVE_COST(MODE,CLASS,IN) \\\n (GET_MODE_SIZE (MODE) <= UNITS_PER_WORD ? 6 : 12)\n \n /* The cost of a branch insn.  */"}, {"sha": "164cf6bc223569573247efca662f390d199426a0", "filename": "gcc/config/m68k/m68k.c", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fm68k%2Fm68k.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fm68k%2Fm68k.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,5 +1,5 @@\n /* Subroutines for insn-output.c for Motorola 68000 family.\n-   Copyright (C) 1987, 93-97, 1998 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 93, 94, 95, 96, 97, 1998 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -2194,11 +2194,9 @@ notice_update_cc (exp, insn)\n \t}\n       else if (ADDRESS_REG_P (SET_DEST (exp)))\n \t{\n-\t  if (cc_status.value1\n-\t      && reg_overlap_mentioned_p (SET_DEST (exp), cc_status.value1))\n+\t  if (cc_status.value1 && modified_in_p (cc_status.value1, insn))\n \t    cc_status.value1 = 0;\n-\t  if (cc_status.value2\n-\t      && reg_overlap_mentioned_p (SET_DEST (exp), cc_status.value2))\n+\t  if (cc_status.value2 && modified_in_p (cc_status.value2, insn))\n \t    cc_status.value2 = 0; \n \t}\n       else if (!FP_REG_P (SET_DEST (exp))\n@@ -2415,7 +2413,7 @@ standard_68881_constant_p (x)\n #endif\n \n   /* fmovecr must be emulated on the 68040 and 68060, so it shouldn't be\n-     used at all. */\n+     used at all on those chips. */\n   if (TARGET_68040 || TARGET_68060)\n     return 0;\n "}, {"sha": "623e3ce197912a6eb2dbda8b69c09233147b344e", "filename": "gcc/config/m68k/m68k.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fm68k%2Fm68k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fm68k%2Fm68k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -150,7 +150,7 @@ extern int target_flags;\n     { \"sky\", -(MASK_FPA|MASK_68040_ONLY|MASK_68881)},\t\t\t\\\n     { \"sky\", MASK_SKY},\t\t\t\t\t\t\t\\\n     { \"nosky\", - MASK_SKY},\t\t\t\t\t\t\\\n-    { \"68881\" - (MASK_FPA|MASK_SKY)},\t\t\t\t\t\\\n+    { \"68881\", - (MASK_FPA|MASK_SKY)},\t\t\t\t\t\\\n     { \"68881\", MASK_68881},\t\t\t\t\t\t\\\n     { \"soft-float\", - (MASK_FPA|MASK_SKY|MASK_68040_ONLY|MASK_68881)},\t\\\n     { \"68020-40\", -(MASK_5200|MASK_68060)},\t\t\t\t\\"}, {"sha": "a687641e4b79eca2c6230ba4be5ffff6a382f9a5", "filename": "gcc/config/m88k/m88k.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fm88k%2Fm88k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fm88k%2Fm88k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm88k%2Fm88k.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,6 +1,6 @@\n /* Definitions of target machine for GNU compiler for\n    Motorola m88100 in an 88open OCS/BCS environment.\n-   Copyright (C) 1988, 92, 93, 94, 95, 96, 97, 1998 Free Software Foundation, Inc.\n+   Copyright (C) 1988, 92-97, 1998 Free Software Foundation, Inc.\n    Contributed by Michael Tiemann (tiemann@cygnus.com).\n    Currently maintained by (gcc@dg-rtp.dg.com)\n "}, {"sha": "89c214c72021e8a44a7d226197e5aeb0b66eadc1", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 832, "deletions": 894, "changes": 1726, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b"}, {"sha": "29f7c78bc9dc70327c4e9f43cca89243df35d681", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 23, "deletions": 7, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -157,13 +157,28 @@ extern struct rtx_def *embedded_pic_fnaddr_rtx;\t/* function address */\n extern int mips_string_length;\t\t/* length of strings for mips16 */\n extern struct rtx_def *mips16_gp_pseudo_rtx; /* psuedo reg holding $gp */\n \n-/* Functions within mips.c that we reference.  */\n+/* Functions within mips.c that we reference.  Some of these return  type\n+   HOST_WIDE_INT, so define that here.  This is a copy of code in machmode.h.\n+\n+   ??? It would be good to try to put this as common code someplace.  */\n+\n+#ifndef HOST_BITS_PER_WIDE_INT\n+\n+#if HOST_BITS_PER_LONG > HOST_BITS_PER_INT\n+#define HOST_BITS_PER_WIDE_INT HOST_BITS_PER_LONG\n+#define HOST_WIDE_INT long\n+#else\n+#define HOST_BITS_PER_WIDE_INT HOST_BITS_PER_INT\n+#define HOST_WIDE_INT int\n+#endif\n+\n+#endif\n \n extern void\t\tabort_with_insn ();\n extern int\t\tarith32_operand ();\n extern int\t\tarith_operand ();\n extern int\t\tcmp_op ();\n-extern long\t\tcompute_frame_size ();\n+extern HOST_WIDE_INT\tcompute_frame_size ();\n extern int\t\tconst_float_1_operand ();\n extern void\t\texpand_block_move ();\n extern int\t\tequality_op ();\n@@ -186,7 +201,7 @@ extern void\t\tmips_asm_file_start ();\n extern int\t\tmips_can_use_return_insn ();\n extern int\t\tmips_const_double_ok ();\n extern void\t\tmips_count_memory_refs ();\n-extern int\t\tmips_debugger_offset ();\n+extern HOST_WIDE_INT\tmips_debugger_offset ();\n extern void\t\tmips_declare_object ();\n extern int\t\tmips_epilogue_delay_slots ();\n extern void\t\tmips_expand_epilogue ();\n@@ -211,7 +226,7 @@ extern int\t\tsimple_epilogue_p ();\n extern int\t\tsimple_memory_operand ();\n extern int\t\tdouble_memory_operand ();\n extern int\t\tsmall_int ();\n-extern void\t\ttrace();\n+extern void\t\ttrace ();\n extern int\t\tuns_arith_operand ();\n extern struct rtx_def *\tembedded_pic_offset ();\n extern void\t\tmips_order_regs_for_local_alloc ();\n@@ -1196,9 +1211,10 @@ do {\t\t\t\t\t\t\t\\\n    the frame pointer to be the stack pointer after the initial\n    adjustment.  */\n \n-#define DEBUGGER_AUTO_OFFSET(X)\t\tmips_debugger_offset (X, 0)\n-#define DEBUGGER_ARG_OFFSET(OFFSET, X)\tmips_debugger_offset (X, OFFSET)\n-\n+#define DEBUGGER_AUTO_OFFSET(X)  \\\n+  mips_debugger_offset (X, (HOST_WIDE_INT) 0)\n+#define DEBUGGER_ARG_OFFSET(OFFSET, X)  \\\n+  mips_debugger_offset (X, (HOST_WIDE_INT) OFFSET)\n \n /* Tell collect that the object format is ECOFF */\n #ifndef OBJECT_FORMAT_ROSE"}, {"sha": "ad49d7f4837855934c997ed94a56134e3a21394c", "filename": "gcc/config/mips/xm-mips.h", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fmips%2Fxm-mips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fmips%2Fxm-mips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fxm-mips.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -74,10 +74,3 @@ extern char * alloca ();\n #define STACK_DIRECTION\t-1\n #endif\n #endif /* not MIPS_OVERRIDE_ALLOCA */\n-\n-/* Say if we have vprintf.  BSD Mips targets probably don't have vfprintf.  */\n-#if defined(__OSF1__) || defined(__OSF__) || defined(__osf__) || defined(bsd4_4)\n-\n-#else\n-#define NO_STAB_H\t\t/* mips doesn't typically have stab.h */\n-#endif"}, {"sha": "f1fb4bce19f077cb6d6a6a933edabcafec2ec95d", "filename": "gcc/config/pa/pa.md", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fpa%2Fpa.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fpa%2Fpa.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.md?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,5 +1,5 @@\n ;;- Machine description for HP PA-RISC architecture for GNU C compiler\n-;;   Copyright (C) 1992, 93 - 97, 1998 Free Software Foundation, Inc.\n+;;   Copyright (C) 1992, 93-97, 1998 Free Software Foundation, Inc.\n ;;   Contributed by the Center for Software Science at the University\n ;;   of Utah.\n \n@@ -4038,7 +4038,8 @@\n \n (define_insn \"casesi0\"\n   [(set (pc) (plus:SI\n-\t       (mem:SI (plus:SI (pc) (match_operand 0 \"register_operand\" \"r\")))\n+\t       (mem:SI (plus:SI (pc)\n+\t\t\t\t(match_operand:SI 0 \"register_operand\" \"r\")))\n \t       (label_ref (match_operand 1 \"\" \"\"))))]\n   \"\"\n   \"blr %0,0\\;nop\""}, {"sha": "4ca4668929d05251d53c6e4f4996ab25c2e3a54b", "filename": "gcc/config/vax/vax.md", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fvax%2Fvax.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fvax%2Fvax.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvax%2Fvax.md?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1842,12 +1842,12 @@\n ;; is when it is a constant, SImode (for addl2) is the proper mode.\n (define_insn \"call_pop\"\n   [(call (match_operand:QI 0 \"memory_operand\" \"m\")\n-\t (match_operand:SI 1 \"general_operand\" \"g\"))\n+\t (match_operand:SI 1 \"const_int_operand\" \"n\"))\n    (set (reg:SI 14) (plus:SI (reg:SI 14)\n \t\t\t     (match_operand:SI 3 \"immediate_operand\" \"i\")))]\n   \"\"\n   \"*\n-  if (GET_CODE (operands[1]) != CONST_INT || INTVAL (operands[1]) > 255 * 4)\n+  if (INTVAL (operands[1]) > 255 * 4)\n     /* Vax `calls' really uses only one byte of #args, so pop explicitly.  */\n     return \\\"calls $0,%0\\;addl2 %1,sp\\\";\n   operands[1] = GEN_INT ((INTVAL (operands[1]) + 3)/ 4);\n@@ -1857,12 +1857,12 @@\n (define_insn \"call_value_pop\"\n   [(set (match_operand 0 \"\" \"=g\")\n \t(call (match_operand:QI 1 \"memory_operand\" \"m\")\n-\t      (match_operand:SI 2 \"general_operand\" \"g\")))\n+\t      (match_operand:SI 2 \"const_int_operand\" \"n\")))\n    (set (reg:SI 14) (plus:SI (reg:SI 14)\n \t\t\t     (match_operand:SI 4 \"immediate_operand\" \"i\")))]\n   \"\"\n   \"*\n-  if (GET_CODE (operands[2]) != CONST_INT || INTVAL (operands[2]) > 255 * 4)\n+  if (INTVAL (operands[2]) > 255 * 4)\n     /* Vax `calls' really uses only one byte of #args, so pop explicitly.  */\n     return \\\"calls $0,%1\\;addl2 %2,sp\\\";\n   operands[2] = GEN_INT ((INTVAL (operands[2]) + 3)/ 4);\n@@ -1873,11 +1873,11 @@\n ;; operands.  In that case, combine may simplify the adjustment of sp.\n (define_insn \"\"\n   [(call (match_operand:QI 0 \"memory_operand\" \"m\")\n-\t (match_operand:SI 1 \"general_operand\" \"g\"))\n+\t (match_operand:SI 1 \"const_int_operand\" \"n\"))\n    (set (reg:SI 14) (reg:SI 14))]\n   \"\"\n   \"*\n-  if (GET_CODE (operands[1]) != CONST_INT || INTVAL (operands[1]) > 255 * 4)\n+  if (INTVAL (operands[1]) > 255 * 4)\n     /* Vax `calls' really uses only one byte of #args, so pop explicitly.  */\n     return \\\"calls $0,%0\\;addl2 %1,sp\\\";\n   operands[1] = GEN_INT ((INTVAL (operands[1]) + 3)/ 4);\n@@ -1887,11 +1887,11 @@\n (define_insn \"\"\n   [(set (match_operand 0 \"\" \"=g\")\n \t(call (match_operand:QI 1 \"memory_operand\" \"m\")\n-\t      (match_operand:SI 2 \"general_operand\" \"g\")))\n+\t      (match_operand:SI 2 \"const_int_operand\" \"n\")))\n    (set (reg:SI 14) (reg:SI 14))]\n   \"\"\n   \"*\n-  if (GET_CODE (operands[2]) != CONST_INT || INTVAL (operands[2]) > 255 * 4)\n+  if (INTVAL (operands[2]) > 255 * 4)\n     /* Vax `calls' really uses only one byte of #args, so pop explicitly.  */\n     return \\\"calls $0,%1\\;addl2 %2,sp\\\";\n   operands[2] = GEN_INT ((INTVAL (operands[2]) + 3)/ 4);"}, {"sha": "5d01aeb23ee46a837d05b40f4423d8b95d8fee71", "filename": "gcc/config/vax/xm-vms.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fvax%2Fxm-vms.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfig%2Fvax%2Fxm-vms.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvax%2Fxm-vms.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -134,10 +134,11 @@ Boston, MA 02111-1307, USA.  */\n #define HAVE_VPRINTF\n \f\n #if defined(VAXC) || defined(__DECC)\n+\n /* Customizations/kludges for building with DEC's VAX C compiler\n    rather than GCC.  */\n+\n #define NO_SYS_PARAMS_H\t\t/* don't have <sys/params.h> */\n-#define NO_STAB_H\t\t/* don't have <stab.h> */\n #define USE_C_ALLOCA\t\t/* using alloca.c */\n #define QSORT_WORKAROUND\t/* do not use VAXCRTL's qsort */\n "}, {"sha": "bbf2f230b908174ea234cfbc30d51ee145e0b326", "filename": "gcc/configure", "status": "modified", "additions": 101, "deletions": 78, "changes": 179, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,7 +1,7 @@\n #! /bin/sh\n \n # Guess values for system-dependent variables and create Makefiles.\n-# Generated automatically using autoconf version 2.12 \n+# Generated automatically using autoconf version 2.12.1 \n # Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.\n #\n # This configure script is free software; the Free Software Foundation\n@@ -73,6 +73,7 @@ mandir='${prefix}/man'\n # Initialize some other variables.\n subdirs=\n MFLAGS= MAKEFLAGS=\n+SHELL=${CONFIG_SHELL-/bin/sh}\n # Maximum number of lines to put in a shell here document.\n ac_max_here_lines=12\n \n@@ -356,7 +357,7 @@ EOF\n     verbose=yes ;;\n \n   -version | --version | --versio | --versi | --vers)\n-    echo \"configure generated by autoconf version 2.12\"\n+    echo \"configure generated by autoconf version 2.12.1\"\n     exit 0 ;;\n \n   -with-* | --with-*)\n@@ -728,33 +729,33 @@ esac\n \n \n # Make sure we can run config.sub.\n-if $ac_config_sub sun4 >/dev/null 2>&1; then :\n+if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :\n else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:737: checking host system type\" >&5\n+echo \"configure:738: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n NONE)\n   case $nonopt in\n   NONE)\n-    if host_alias=`$ac_config_guess`; then :\n+    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :\n     else { echo \"configure: error: can not guess host type; you must specify one\" 1>&2; exit 1; }\n     fi ;;\n   *) host_alias=$nonopt ;;\n   esac ;;\n esac\n \n-host=`$ac_config_sub $host_alias`\n+host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`\n host_cpu=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:758: checking target system type\" >&5\n+echo \"configure:759: checking target system type\" >&5\n \n target_alias=$target\n case \"$target_alias\" in\n@@ -765,14 +766,14 @@ NONE)\n   esac ;;\n esac\n \n-target=`$ac_config_sub $target_alias`\n+target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`\n target_cpu=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n target_vendor=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$target\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:776: checking build system type\" >&5\n+echo \"configure:777: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -783,7 +784,7 @@ NONE)\n   esac ;;\n esac\n \n-build=`$ac_config_sub $build_alias`\n+build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n@@ -799,7 +800,7 @@ test \"$host_alias\" != \"$target_alias\" &&\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:803: checking for $ac_word\" >&5\n+echo \"configure:804: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -828,7 +829,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:832: checking for $ac_word\" >&5\n+echo \"configure:833: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -876,7 +877,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:880: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:881: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -886,11 +887,11 @@ ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS\n cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext <<EOF\n-#line 890 \"configure\"\n+#line 891 \"configure\"\n #include \"confdefs.h\"\n main(){return(0);}\n EOF\n-if { (eval echo configure:894: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:895: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -910,12 +911,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:914: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:915: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:919: checking whether we are using GNU C\" >&5\n+echo \"configure:920: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -924,7 +925,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:928: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:929: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -939,7 +940,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:943: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:944: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -967,7 +968,7 @@ else\n fi\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:971: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:972: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1000,7 +1001,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1004: checking for $ac_word\" >&5\n+echo \"configure:1005: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AWK'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1031,7 +1032,7 @@ done\n # Extract the first word of \"flex\", so it can be a program name with args.\n set dummy flex; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1035: checking for $ac_word\" >&5\n+echo \"configure:1036: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1064,15 +1065,15 @@ then\n   *) ac_lib=l ;;\n   esac\n   echo $ac_n \"checking for yywrap in -l$ac_lib\"\"... $ac_c\" 1>&6\n-echo \"configure:1068: checking for yywrap in -l$ac_lib\" >&5\n+echo \"configure:1069: checking for yywrap in -l$ac_lib\" >&5\n ac_lib_var=`echo $ac_lib'_'yywrap | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-l$ac_lib  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1076 \"configure\"\n+#line 1077 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1083,7 +1084,7 @@ int main() {\n yywrap()\n ; return 0; }\n EOF\n-if { (eval echo configure:1087: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1088: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1106,7 +1107,7 @@ fi\n fi\n \n echo $ac_n \"checking whether ln works\"\"... $ac_c\" 1>&6\n-echo \"configure:1110: checking whether ln works\" >&5\n+echo \"configure:1111: checking whether ln works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1138,7 +1139,7 @@ else\n fi\n \n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1142: checking whether ln -s works\" >&5\n+echo \"configure:1143: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1172,7 +1173,7 @@ fi\n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1176: checking for $ac_word\" >&5\n+echo \"configure:1177: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1203,7 +1204,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1207: checking for $ac_word\" >&5\n+echo \"configure:1208: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_YACC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1243,7 +1244,7 @@ test -n \"$YACC\" || YACC=\"yacc\"\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1247: checking for a BSD compatible install\" >&5\n+echo \"configure:1248: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1294,7 +1295,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1298: checking how to run the C preprocessor\" >&5\n+echo \"configure:1299: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -1309,13 +1310,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 1313 \"configure\"\n+#line 1314 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1319: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1320: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -1326,13 +1327,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1330 \"configure\"\n+#line 1331 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1336: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1337: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -1355,20 +1356,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:1359: checking for ANSI C header files\" >&5\n+echo \"configure:1360: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1364 \"configure\"\n+#line 1365 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1372: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1373: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1385,7 +1386,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1389 \"configure\"\n+#line 1390 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -1403,7 +1404,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1407 \"configure\"\n+#line 1408 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -1424,7 +1425,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1428 \"configure\"\n+#line 1429 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -1435,7 +1436,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:1439: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1440: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -1459,12 +1460,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether time.h and sys/time.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:1463: checking whether time.h and sys/time.h may both be included\" >&5\n+echo \"configure:1464: checking whether time.h and sys/time.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_time'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1468 \"configure\"\n+#line 1469 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/time.h>\n@@ -1473,7 +1474,7 @@ int main() {\n struct tm *tp;\n ; return 0; }\n EOF\n-if { (eval echo configure:1477: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1478: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_time=yes\n else\n@@ -1493,21 +1494,21 @@ EOF\n \n fi\n \n-for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h unistd.h sys/file.h sys/time.h sys/resource.h sys/param.h sys/times.h varargs.h sys/varargs.h wait.h sys/wait.h\n+for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h unistd.h stab.h sys/file.h sys/time.h sys/resource.h sys/param.h sys/times.h varargs.h sys/varargs.h wait.h sys/wait.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1501: checking for $ac_hdr\" >&5\n+echo \"configure:1502: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1506 \"configure\"\n+#line 1507 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1511: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1512: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1537,17 +1538,17 @@ done\n # Check for thread headers.\n ac_safe=`echo \"thread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for thread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1541: checking for thread.h\" >&5\n+echo \"configure:1542: checking for thread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1546 \"configure\"\n+#line 1547 \"configure\"\n #include \"confdefs.h\"\n #include <thread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1551: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1552: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1571,17 +1572,17 @@ fi\n \n ac_safe=`echo \"pthread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for pthread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1575: checking for pthread.h\" >&5\n+echo \"configure:1576: checking for pthread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1580 \"configure\"\n+#line 1581 \"configure\"\n #include \"confdefs.h\"\n #include <pthread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1585: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1586: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1607,20 +1608,20 @@ fi\n # See if the system preprocessor understands the ANSI C preprocessor\n # stringification operator.\n echo $ac_n \"checking whether cpp understands the stringify operator\"\"... $ac_c\" 1>&6\n-echo \"configure:1611: checking whether cpp understands the stringify operator\" >&5\n+echo \"configure:1612: checking whether cpp understands the stringify operator\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_have_stringify'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1616 \"configure\"\n+#line 1617 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n #define S(x)   #x\n char *test = S(foo);\n ; return 0; }\n EOF\n-if { (eval echo configure:1624: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1625: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_have_stringify=yes\n else\n@@ -1643,20 +1644,20 @@ fi\n # Use <inttypes.h> only if it exists,\n # doesn't clash with <sys/types.h>, and declares intmax_t.\n echo $ac_n \"checking for inttypes.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1647: checking for inttypes.h\" >&5\n+echo \"configure:1648: checking for inttypes.h\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1652 \"configure\"\n+#line 1653 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <inttypes.h>\n int main() {\n intmax_t i = -1;\n ; return 0; }\n EOF\n-if { (eval echo configure:1660: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1661: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<EOF\n #define HAVE_INTTYPES_H 1\n@@ -1678,12 +1679,12 @@ for ac_func in strtoul bsearch strerror putenv popen vprintf bcopy bzero bcmp \\\n \tindex rindex strchr strrchr kill getrlimit setrlimit atoll atoq sysconf\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1682: checking for $ac_func\" >&5\n+echo \"configure:1683: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1687 \"configure\"\n+#line 1688 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1706,7 +1707,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1710: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1711: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1732,15 +1733,15 @@ done\n \n \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:1736: checking whether the printf functions support %p\" >&5\n+echo \"configure:1737: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1744 \"configure\"\n+#line 1745 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -1753,7 +1754,7 @@ main()\n   exit (p != q);\n }\n EOF\n-if { (eval echo configure:1757: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1758: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -1781,12 +1782,12 @@ for ac_func in malloc realloc calloc free bcopy bzero bcmp \\\n \tindex rindex getenv atol sbrk abort\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:1785: checking whether $ac_func must be declared\" >&5\n+echo \"configure:1786: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1790 \"configure\"\n+#line 1791 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -1813,7 +1814,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:1817: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1818: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -1840,12 +1841,12 @@ done\n \n \n echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1844: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n+echo \"configure:1845: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1849 \"configure\"\n+#line 1850 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -1857,7 +1858,7 @@ int main() {\n char *msg = *(sys_siglist + 1);\n ; return 0; }\n EOF\n-if { (eval echo configure:1861: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1862: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_decl_sys_siglist=yes\n else\n@@ -2043,7 +2044,7 @@ for machine in $build $host $target; do\n  \t\tfi\n \t\t;;\n \talpha*-*-linux-gnu*)\n-\t\ttm_file=\"${tm_file} alpha/elf.h alpha/linux-elf.h alpha/linux.h\"\n+\t\ttm_file=\"${tm_file} alpha/linux.h alpha/elf.h\"\n \t\txm_defines=USE_BFD\n \t\ttarget_cpu_default=\"MASK_GAS\"\n \t\ttmake_file=\"t-linux alpha/t-linux alpha/t-crtbe\"\n@@ -2629,6 +2630,11 @@ for machine in $build $host $target; do\n \t\ttm_file=i386/go32-rtems.h\n \t\ttmake_file=\"i386/t-go32 t-rtems\"\n \t\t;;\n+\ti[34567]86-*-rtemself*)\n+\t\tcpu_type=i386\n+\t\ttm_file=i386/rtemself.h\n+\t\ttmake_file=\"i386/t-i386bare t-rtems\"\n+\t\t;;\n \ti[34567]86-*-rtems*)\n \t\tcpu_type=i386\n \t\ttm_file=i386/rtems.h\n@@ -2725,6 +2731,21 @@ for machine in $build $host $target; do\n \t\txmake_file=x-svr4\n \t\textra_parts=\"crtbegin.o crtend.o\"\n \t\t;;\n+\ti[34567]86-*-osf1*)\t\t# Intel 80386's running OSF/1 1.3+\n+\t\tcpu_type=i386\n+\t\txm_file=\"${xm_file} xm-svr4.h i386/xm-sysv4.h i386/xm-osf1elf.h\"\n+\t\txm_defines=\"USE_C_ALLOCA SMALL_ARG_MAX\"\n+\t\tfixincludes=Makefile.in #Don't do it on OSF/1\n+\t\tif [ x$stabs = xyes ]\n+\t\tthen\n+\t\t\ttm_file=i386/osf1elfgdb.h\n+\t\telse\n+\t\t\ttm_file=i386/osf1elf.h\n+\t\tfi\n+\t\ttmake_file=i386/t-osf1elf\n+\t\txmake_file=i386/x-osf1elf\n+\t\textra_parts=\"crti.o crtn.o crtbegin.o crtend.o\"\n+\t\t;;\n \ti[34567]86-*-sysv*)\t\t# Intel 80386's running system V\n \t\txm_defines=\"USG SVR3\"\n \t\txmake_file=i386/x-sysv3\n@@ -2747,7 +2768,7 @@ for machine in $build $host $target; do\n \t\tfi\n \t\t;;\n \ti386-*-vsta)\t\t\t# Intel 80386's running VSTa kernel\n-\t\txm_file=i386/xm-vsta.h\n+\t\txm_file=\"${xm_file} i386/xm-vsta.h\"\n \t\ttm_file=i386/vsta.h\n \t\ttmake_file=i386/t-vsta\n \t\txmake_file=i386/x-vsta\n@@ -4236,7 +4257,8 @@ for machine in $build $host $target; do\n \t\textra_parts=\"crtbegin.o crtend.o\"\n \t\t;;\n \tsparc-*-vxsim*)\n-\t\txm_file=\"sparc/xm-sysv4.h sparc/xm-sol2.h\"\n+\t\txm_file=\"xm-siglist.h sparc/xm-sysv4.h sparc/xm-sol2.h\"\n+\t\txm_defines=\"USG POSIX\"\n \t\ttm_file=sparc/vxsim.h\n \t\ttmake_file=sparc/t-vxsparc\n \t\txmake_file=sparc/x-sysv4\n@@ -5160,7 +5182,7 @@ EOF\n # Ultrix sh set writes to stderr and can't be redirected directly,\n # and sets the high bit in the cache file unless we assign to the vars.\n (set) 2>&1 |\n-  case `(ac_space=' '; set) 2>&1` in\n+  case `(ac_space=' '; set) 2>&1 | grep ac_space` in\n   *ac_space=\\ *)\n     # `set' does not quote correctly, so add quotes (double-quote substitution\n     # turns \\\\\\\\ into \\\\, and sed turns \\\\ into \\).\n@@ -5227,7 +5249,7 @@ do\n     echo \"running \\${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion\"\n     exec \\${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;\n   -version | --version | --versio | --versi | --vers | --ver | --ve | --v)\n-    echo \"$CONFIG_STATUS generated by autoconf version 2.12\"\n+    echo \"$CONFIG_STATUS generated by autoconf version 2.12.1\"\n     exit 0 ;;\n   -help | --help | --hel | --he | --h)\n     echo \"\\$ac_cs_usage\"; exit 0 ;;\n@@ -5246,6 +5268,7 @@ sed 's/%@/@@/; s/@%/@@/; s/%g\\$/@g/; /@g\\$/s/[\\\\\\\\&%]/\\\\\\\\&/g;\n  s/@@/%@/; s/@@/@%/; s/@g\\$/%g/' > conftest.subs <<\\\\CEOF\n $ac_vpsub\n $extrasub\n+s%@SHELL@%$SHELL%g\n s%@CFLAGS@%$CFLAGS%g\n s%@CPPFLAGS@%$CPPFLAGS%g\n s%@CXXFLAGS@%$CXXFLAGS%g"}, {"sha": "a0befb68b0139592410bdec8635cb2f728cfdb06", "filename": "gcc/configure.in", "status": "modified", "additions": 25, "deletions": 4, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -148,7 +148,7 @@ EGCS_PROG_INSTALL\n \n AC_HEADER_STDC\n AC_HEADER_TIME\n-AC_CHECK_HEADERS(limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h unistd.h sys/file.h sys/time.h sys/resource.h sys/param.h sys/times.h varargs.h sys/varargs.h wait.h sys/wait.h)\n+AC_CHECK_HEADERS(limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h unistd.h stab.h sys/file.h sys/time.h sys/resource.h sys/param.h sys/times.h varargs.h sys/varargs.h wait.h sys/wait.h)\n \n # Check for thread headers.\n AC_CHECK_HEADER(thread.h, [have_thread_h=yes], [have_thread_h=])\n@@ -355,7 +355,7 @@ for machine in $build $host $target; do\n  \t\tfi\n \t\t;;\n \talpha*-*-linux-gnu*)\n-\t\ttm_file=\"${tm_file} alpha/elf.h alpha/linux-elf.h alpha/linux.h\"\n+\t\ttm_file=\"${tm_file} alpha/linux.h alpha/elf.h\"\n \t\txm_defines=USE_BFD\n \t\ttarget_cpu_default=\"MASK_GAS\"\n \t\ttmake_file=\"t-linux alpha/t-linux alpha/t-crtbe\"\n@@ -941,6 +941,11 @@ for machine in $build $host $target; do\n \t\ttm_file=i386/go32-rtems.h\n \t\ttmake_file=\"i386/t-go32 t-rtems\"\n \t\t;;\n+\ti[[34567]]86-*-rtemself*)\n+\t\tcpu_type=i386\n+\t\ttm_file=i386/rtemself.h\n+\t\ttmake_file=\"i386/t-i386bare t-rtems\"\n+\t\t;;\n \ti[[34567]]86-*-rtems*)\n \t\tcpu_type=i386\n \t\ttm_file=i386/rtems.h\n@@ -1037,6 +1042,21 @@ for machine in $build $host $target; do\n \t\txmake_file=x-svr4\n \t\textra_parts=\"crtbegin.o crtend.o\"\n \t\t;;\n+\ti[[34567]]86-*-osf1*)\t\t# Intel 80386's running OSF/1 1.3+\n+\t\tcpu_type=i386\n+\t\txm_file=\"${xm_file} xm-svr4.h i386/xm-sysv4.h i386/xm-osf1elf.h\"\n+\t\txm_defines=\"USE_C_ALLOCA SMALL_ARG_MAX\"\n+\t\tfixincludes=Makefile.in #Don't do it on OSF/1\n+\t\tif [[ x$stabs = xyes ]]\n+\t\tthen\n+\t\t\ttm_file=i386/osf1elfgdb.h\n+\t\telse\n+\t\t\ttm_file=i386/osf1elf.h\n+\t\tfi\n+\t\ttmake_file=i386/t-osf1elf\n+\t\txmake_file=i386/x-osf1elf\n+\t\textra_parts=\"crti.o crtn.o crtbegin.o crtend.o\"\n+\t\t;;\n \ti[[34567]]86-*-sysv*)\t\t# Intel 80386's running system V\n \t\txm_defines=\"USG SVR3\"\n \t\txmake_file=i386/x-sysv3\n@@ -1059,7 +1079,7 @@ for machine in $build $host $target; do\n \t\tfi\n \t\t;;\n \ti386-*-vsta)\t\t\t# Intel 80386's running VSTa kernel\n-\t\txm_file=i386/xm-vsta.h\n+\t\txm_file=\"${xm_file} i386/xm-vsta.h\"\n \t\ttm_file=i386/vsta.h\n \t\ttmake_file=i386/t-vsta\n \t\txmake_file=i386/x-vsta\n@@ -2548,7 +2568,8 @@ for machine in $build $host $target; do\n \t\textra_parts=\"crtbegin.o crtend.o\"\n \t\t;;\n \tsparc-*-vxsim*)\n-\t\txm_file=\"sparc/xm-sysv4.h sparc/xm-sol2.h\"\n+\t\txm_file=\"xm-siglist.h sparc/xm-sysv4.h sparc/xm-sol2.h\"\n+\t\txm_defines=\"USG POSIX\"\n \t\ttm_file=sparc/vxsim.h\n \t\ttmake_file=sparc/t-vxsparc\n \t\txmake_file=sparc/x-sysv4"}, {"sha": "8bfe4627c652012d5059ea4fb956af3f2c2a7707", "filename": "gcc/convert.c", "status": "modified", "additions": 121, "deletions": 161, "changes": 282, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconvert.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fconvert.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconvert.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,5 +1,5 @@\n /* Utility routines for data type conversion for GNU C.\n-   Copyright (C) 1987, 88, 91, 92, 94, 95, 1997 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 88, 91-95, 97, 1998 Free Software Foundation, Inc.\n \n This file is part of GNU C.\n \n@@ -36,39 +36,34 @@ tree\n convert_to_pointer (type, expr)\n      tree type, expr;\n {\n-  register tree intype = TREE_TYPE (expr);\n-  register enum tree_code form = TREE_CODE (intype);\n-  \n   if (integer_zerop (expr))\n     {\n       expr = build_int_2 (0, 0);\n       TREE_TYPE (expr) = type;\n       return expr;\n     }\n \n-  if (form == POINTER_TYPE || form == REFERENCE_TYPE)\n-    return build1 (NOP_EXPR, type, expr);\n-\n-\n-  if (form == INTEGER_TYPE || form == ENUMERAL_TYPE)\n+  switch (TREE_CODE (TREE_TYPE (expr)))\n     {\n-      if (type_precision (intype) == POINTER_SIZE)\n+    case POINTER_TYPE:\n+    case REFERENCE_TYPE:\n+      return build1 (NOP_EXPR, type, expr);\n+\n+    case INTEGER_TYPE:\n+    case ENUMERAL_TYPE:\n+    case BOOLEAN_TYPE:\n+    case CHAR_TYPE:\n+      if (TYPE_PRECISION (TREE_TYPE (expr)) == POINTER_SIZE)\n \treturn build1 (CONVERT_EXPR, type, expr);\n-      expr = convert (type_for_size (POINTER_SIZE, 0), expr);\n-      /* Modes may be different but sizes should be the same.  */\n-      if (GET_MODE_SIZE (TYPE_MODE (TREE_TYPE (expr)))\n-\t  != GET_MODE_SIZE (TYPE_MODE (type)))\n-\t/* There is supposed to be some integral type\n-\t   that is the same width as a pointer.  */\n-\tabort ();\n-      return convert_to_pointer (type, expr);\n-    }\n \n-  error (\"cannot convert to a pointer type\");\n+      return\n+\tconvert_to_pointer (type,\n+\t\t\t    convert (type_for_size (POINTER_SIZE, 0), expr));\n \n-  expr = build_int_2 (0, 0);\n-  TREE_TYPE (expr) = type;\n-  return expr;\n+    default:\n+      error (\"cannot convert to a pointer type\");\n+      return convert_to_pointer (type, integer_zero_node);\n+    }\n }\n \n /* Convert EXPR to some floating-point type TYPE.\n@@ -80,30 +75,32 @@ tree\n convert_to_real (type, expr)\n      tree type, expr;\n {\n-  register enum tree_code form = TREE_CODE (TREE_TYPE (expr));\n-\n-  if (form == REAL_TYPE)\n-    return build1 (flag_float_store ? CONVERT_EXPR : NOP_EXPR,\n-\t\t   type, expr);\n-\n-  if (INTEGRAL_TYPE_P (TREE_TYPE (expr)))\n-    return build1 (FLOAT_EXPR, type, expr);\n-\n-  if (form == COMPLEX_TYPE)\n-    return convert (type, fold (build1 (REALPART_EXPR,\n-\t\t\t\t\tTREE_TYPE (TREE_TYPE (expr)), expr)));\n-\n-  if (form == POINTER_TYPE || form == REFERENCE_TYPE)\n-    error (\"pointer value used where a floating point value was expected\");\n-  else\n-    error (\"aggregate value used where a float was expected\");\n-\n-  {\n-    register tree tem = make_node (REAL_CST);\n-    TREE_TYPE (tem) = type;\n-    TREE_REAL_CST (tem) = REAL_VALUE_ATOF (\"0.0\", TYPE_MODE (type));\n-    return tem;\n-  }\n+  switch (TREE_CODE (TREE_TYPE (expr)))\n+    {\n+    case REAL_TYPE:\n+      return build1 (flag_float_store ? CONVERT_EXPR : NOP_EXPR,\n+\t\t     type, expr);\n+\n+    case INTEGER_TYPE:\n+    case ENUMERAL_TYPE:\n+    case BOOLEAN_TYPE:\n+    case CHAR_TYPE:\n+      return build1 (FLOAT_EXPR, type, expr);\n+\n+    case COMPLEX_TYPE:\n+      return convert (type,\n+\t\t      fold (build1 (REALPART_EXPR,\n+\t\t\t\t    TREE_TYPE (TREE_TYPE (expr)), expr)));\n+\n+    case POINTER_TYPE:\n+    case REFERENCE_TYPE:\n+      error (\"pointer value used where a floating point value was expected\");\n+      return convert_to_real (type, integer_zero_node);\n+\n+    default:\n+      error (\"aggregate value used where a float was expected\");\n+      return convert_to_real (type, integer_zero_node);\n+    }\n }\n \n /* Convert EXPR to some integer (or enum) type TYPE.\n@@ -118,41 +115,38 @@ tree\n convert_to_integer (type, expr)\n      tree type, expr;\n {\n-  register tree intype = TREE_TYPE (expr);\n-  register enum tree_code form = TREE_CODE (intype);\n+  enum tree_code ex_form = TREE_CODE (expr);\n+  tree intype = TREE_TYPE (expr);\n+  int inprec = TYPE_PRECISION (intype);\n+  int outprec = TYPE_PRECISION (type);\n \n-  if (form == POINTER_TYPE || form == REFERENCE_TYPE)\n+  switch (TREE_CODE (intype))\n     {\n+    case POINTER_TYPE:\n+    case REFERENCE_TYPE:\n       if (integer_zerop (expr))\n \texpr = integer_zero_node;\n       else\n \texpr = fold (build1 (CONVERT_EXPR,\n \t\t\t     type_for_size (POINTER_SIZE, 0), expr));\n-      intype = TREE_TYPE (expr);\n-      form = TREE_CODE (intype);\n-      if (intype == type)\n-\treturn expr;\n-    }\n \n-  if (form == INTEGER_TYPE || form == ENUMERAL_TYPE\n-      || form == BOOLEAN_TYPE || form == CHAR_TYPE)\n-    {\n-      register unsigned outprec = TYPE_PRECISION (type);\n-      register unsigned inprec = TYPE_PRECISION (intype);\n-      register enum tree_code ex_form = TREE_CODE (expr);\n+      return convert_to_integer (type, expr);\n \n-      /* If we are widening the type, put in an explicit conversion.\n-\t Similarly if we are not changing the width.  However, if this is\n-\t a logical operation that just returns 0 or 1, we can change the\n-\t type of the expression.  For logical operations, we must\n-\t also change the types of the operands to maintain type\n+    case INTEGER_TYPE:\n+    case ENUMERAL_TYPE:\n+    case BOOLEAN_TYPE:\n+    case CHAR_TYPE:\n+      /* If this is a logical operation, which just returns 0 or 1, we can\n+\t change the type of the expression.  For some logical operations,\n+\t we must also change the types of the operands to maintain type\n \t correctness.  */\n \n       if (TREE_CODE_CLASS (ex_form) == '<')\n \t{\n \t  TREE_TYPE (expr) = type;\n \t  return expr;\n \t}\n+\n       else if (ex_form == TRUTH_AND_EXPR || ex_form == TRUTH_ANDIF_EXPR\n \t       || ex_form == TRUTH_OR_EXPR || ex_form == TRUTH_ORIF_EXPR\n \t       || ex_form == TRUTH_XOR_EXPR)\n@@ -162,12 +156,18 @@ convert_to_integer (type, expr)\n \t  TREE_TYPE (expr) = type;\n \t  return expr;\n \t}\n+\n       else if (ex_form == TRUTH_NOT_EXPR)\n \t{\n \t  TREE_OPERAND (expr, 0) = convert (type, TREE_OPERAND (expr, 0));\n \t  TREE_TYPE (expr) = type;\n \t  return expr;\n \t}\n+\n+      /* If we are widening the type, put in an explicit conversion.\n+\t Similarly if we are not changing the width.  After this, we know\n+\t we are truncating EXPR.  */\n+\n       else if (outprec >= inprec)\n \treturn build1 (NOP_EXPR, type, expr);\n \n@@ -352,74 +352,30 @@ convert_to_integer (type, expr)\n \t  return convert (type, get_unwidened (TREE_OPERAND (expr, 0), type));\n \n \tcase COND_EXPR:\n-\t  /* Can treat the two alternative values like the operands\n-\t     of an arithmetic expression.  */\n-\t  {\n-\t    tree arg1 = get_unwidened (TREE_OPERAND (expr, 1), type);\n-\t    tree arg2 = get_unwidened (TREE_OPERAND (expr, 2), type);\n-\n-\t    if (outprec >= BITS_PER_WORD\n-\t\t|| TRULY_NOOP_TRUNCATION (outprec, inprec)\n-\t\t|| inprec > TYPE_PRECISION (TREE_TYPE (arg1))\n-\t\t|| inprec > TYPE_PRECISION (TREE_TYPE (arg2)))\n-\t      {\n-\t\t/* Do the arithmetic in type TYPEX,\n-\t\t   then convert result to TYPE.  */\n-\t\tregister tree typex = type;\n-\n-\t\t/* Can't do arithmetic in enumeral types\n-\t\t   so use an integer type that will hold the values.  */\n-\t\tif (TREE_CODE (typex) == ENUMERAL_TYPE)\n-\t\t  typex = type_for_size (TYPE_PRECISION (typex),\n-\t\t\t\t\t TREE_UNSIGNED (typex));\n-\n-\t\t/* But now perhaps TYPEX is as wide as INPREC.\n-\t\t   In that case, do nothing special here.\n-\t\t   (Otherwise would recurse infinitely in convert.  */\n-\t\tif (TYPE_PRECISION (typex) != inprec)\n-\t\t  {\n-\t\t    /* Don't do unsigned arithmetic where signed was wanted,\n-\t\t       or vice versa.  */\n-\t\t    typex = (TREE_UNSIGNED (TREE_TYPE (expr))\n-\t\t\t     ? unsigned_type (typex) : signed_type (typex));\n-\t\t    return convert (type,\n-\t\t\t\t    fold (build (COND_EXPR, typex,\n-\t\t\t\t\t\t TREE_OPERAND (expr, 0),\n-\t\t\t\t\t\t convert (typex, arg1),\n-\t\t\t\t\t\t convert (typex, arg2))));\n-\t\t  }\n-\t\telse\n-\t\t  /* It is sometimes worthwhile\n-\t\t     to push the narrowing down through the conditional.  */\n-\t\t  return fold (build (COND_EXPR, type,\n-\t\t\t\t      TREE_OPERAND (expr, 0),\n-\t\t\t\t      convert (type, TREE_OPERAND (expr, 1)), \n-\t\t\t\t      convert (type, TREE_OPERAND (expr, 2))));\n-\t      }\n-\t  }\n-\t  break;\n+\t  /* It is sometimes worthwhile to push the narrowing down through\n+\t     the conditional and never loses.  */\n+\t  return fold (build (COND_EXPR, type, TREE_OPERAND (expr, 0),\n+\t\t\t      convert (type, TREE_OPERAND (expr, 1)), \n+\t\t\t      convert (type, TREE_OPERAND (expr, 2))));\n \n \tdefault:\n \t  break;\n \t}\n \n       return build1 (NOP_EXPR, type, expr);\n-    }\n \n-  if (form == REAL_TYPE)\n-    return build1 (FIX_TRUNC_EXPR, type, expr);\n+    case REAL_TYPE:\n+      return build1 (FIX_TRUNC_EXPR, type, expr);\n \n-  if (form == COMPLEX_TYPE)\n-    return convert (type, fold (build1 (REALPART_EXPR,\n-\t\t\t\t\tTREE_TYPE (TREE_TYPE (expr)), expr)));\n+    case COMPLEX_TYPE:\n+      return convert (type,\n+\t\t      fold (build1 (REALPART_EXPR,\n+\t\t\t\t    TREE_TYPE (TREE_TYPE (expr)), expr)));\n \n-  error (\"aggregate value used where an integer was expected\");\n-\n-  {\n-    register tree tem = build_int_2 (0, 0);\n-    TREE_TYPE (tem) = type;\n-    return tem;\n-  }\n+    default:\n+      error (\"aggregate value used where an integer was expected\");\n+      return convert (type, integer_zero_node);\n+    }\n }\n \n /* Convert EXPR to the complex type TYPE in the usual ways.  */\n@@ -428,48 +384,52 @@ tree\n convert_to_complex (type, expr)\n      tree type, expr;\n {\n-  register enum tree_code form = TREE_CODE (TREE_TYPE (expr));\n   tree subtype = TREE_TYPE (type);\n   \n-  if (form == REAL_TYPE || form == INTEGER_TYPE || form == ENUMERAL_TYPE)\n+  switch (TREE_CODE (TREE_TYPE (expr)))\n     {\n-      expr = convert (subtype, expr);\n-      return build (COMPLEX_EXPR, type, expr,\n+    case REAL_TYPE:\n+    case INTEGER_TYPE:\n+    case ENUMERAL_TYPE:\n+    case BOOLEAN_TYPE:\n+    case CHAR_TYPE:\n+      return build (COMPLEX_EXPR, type, convert (subtype, expr),\n \t\t    convert (subtype, integer_zero_node));\n-    }\n \n-  if (form == COMPLEX_TYPE)\n-    {\n-      tree elt_type = TREE_TYPE (TREE_TYPE (expr));\n-      if (TYPE_MAIN_VARIANT (elt_type) == TYPE_MAIN_VARIANT (subtype))\n-\treturn expr;\n-      else if (TREE_CODE (expr) == COMPLEX_EXPR)\n-\treturn fold (build (COMPLEX_EXPR,\n-\t\t\t    type,\n-\t\t\t    convert (subtype, TREE_OPERAND (expr, 0)),\n-\t\t\t    convert (subtype, TREE_OPERAND (expr, 1))));\n-      else\n-\t{\n-\t  expr = save_expr (expr);\n+    case COMPLEX_TYPE:\n+      {\n+\ttree elt_type = TREE_TYPE (TREE_TYPE (expr));\n+\n+\tif (TYPE_MAIN_VARIANT (elt_type) == TYPE_MAIN_VARIANT (subtype))\n+\t  return expr;\n+\telse if (TREE_CODE (expr) == COMPLEX_EXPR)\n \t  return fold (build (COMPLEX_EXPR,\n \t\t\t      type,\n-\t\t\t      convert (subtype,\n-\t\t\t\t       fold (build1 (REALPART_EXPR,\n-\t\t\t\t\t\t     TREE_TYPE (TREE_TYPE (expr)),\n-\t\t\t\t\t\t     expr))),\n-\t\t\t      convert (subtype,\n-\t\t\t\t       fold (build1 (IMAGPART_EXPR,\n-\t\t\t\t\t\t     TREE_TYPE (TREE_TYPE (expr)),\n-\t\t\t\t\t\t     expr)))));\n-\t}\n-    }\n+\t\t\t      convert (subtype, TREE_OPERAND (expr, 0)),\n+\t\t\t      convert (subtype, TREE_OPERAND (expr, 1))));\n+\telse\n+\t  {\n+\t    expr = save_expr (expr);\n+\t    return\n+\t      fold (build (COMPLEX_EXPR,\n+\t\t\t   type, convert (subtype,\n+\t\t\t\t\t  fold (build1 (REALPART_EXPR,\n+\t\t\t\t\t\t\tTREE_TYPE (TREE_TYPE (expr)),\n+\t\t\t\t\t\t\texpr))),\n+\t\t\t   convert (subtype,\n+\t\t\t\t    fold (build1 (IMAGPART_EXPR,\n+\t\t\t\t\t\t  TREE_TYPE (TREE_TYPE (expr)),\n+\t\t\t\t\t\t  expr)))));\n+\t  }\n+      }\n \n-  if (form == POINTER_TYPE || form == REFERENCE_TYPE)\n-    error (\"pointer value used where a complex was expected\");\n-  else\n-    error (\"aggregate value used where a complex was expected\");\n-  \n-  return build (COMPLEX_EXPR, type,\n-\t\tconvert (subtype, integer_zero_node),\n-\t\tconvert (subtype, integer_zero_node));\n+    case POINTER_TYPE:\n+    case REFERENCE_TYPE:\n+      error (\"pointer value used where a complex was expected\");\n+      return convert_to_complex (type, integer_zero_node);\n+\n+    default:\n+      error (\"aggregate value used where a complex was expected\");\n+      return convert_to_complex (type, integer_zero_node);\n+    }\n }"}, {"sha": "eb5c2619da90097a64a59c2f8839ee2aaa7d732b", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -255,6 +255,10 @@ Wed Apr 15 13:20:06 1998  John Carr  <jfc@mit.edu>\n \t* errfn.c: Rework to avoid problems when HOST_WIDE_INT is longer\n \tthan a pointer.\n \n+Sun Apr 12 22:31:19 1998  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* cvt.c (cp_convert_to_pointer): Use TYPE_PRECISION.\n+\n Fri Apr 10 12:16:49 1998  Benjamin Kosnik  <bkoz@loony.cygnus.com>\n \n \t* decl.c (duplicate_decls): Don't warn for redundant decls if"}, {"sha": "836b8ad72580112da72249b3c7330d93cafd2cc4", "filename": "gcc/cp/cvt.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fcp%2Fcvt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fcp%2Fcvt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcvt.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,5 +1,5 @@\n /* Language-level data type conversion for GNU C++.\n-   Copyright (C) 1987, 88, 92, 93, 94, 95, 1996 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 88, 92-96, 1998 Free Software Foundation, Inc.\n    Hacked by Michael Tiemann (tiemann@cygnus.com)\n \n This file is part of GNU CC.\n@@ -242,7 +242,7 @@ cp_convert_to_pointer (type, expr)\n \n   if (INTEGRAL_CODE_P (form))\n     {\n-      if (type_precision (intype) == POINTER_SIZE)\n+      if (TYPE_PRECISION (intype) == POINTER_SIZE)\n \treturn build1 (CONVERT_EXPR, type, expr);\n       expr = cp_convert (type_for_size (POINTER_SIZE, 0), expr);\n       /* Modes may be different but sizes should be the same.  */"}, {"sha": "183837c36654fc04c6e3f0fea75c97c8ea0cc967", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,5 +1,5 @@\n /* Build expressions with type checking for C++ compiler.\n-   Copyright (C) 1987, 88, 89, 92-96, 1997 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 88, 89, 92-97, 1998 Free Software Foundation, Inc.\n    Hacked by Michael Tiemann (tiemann@cygnus.com)\n \n This file is part of GNU CC."}, {"sha": "3d1fd92c2c512f6e21331345de673c5dcdef4cf4", "filename": "gcc/cpplib.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fcpplib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fcpplib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpplib.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -3880,6 +3880,10 @@ do_warning (pfile, keyword, buf, limit)\n   bcopy (buf, copy, length);\n   copy[length] = 0;\n   SKIP_WHITE_SPACE (copy);\n+\n+  if (CPP_PEDANTIC (pfile) && !CPP_BUFFER (pfile)->system_header_p)\n+    cpp_pedwarn (\"ANSI C does not allow `#warning'\");\n+\n   /* Use `pedwarn' not `warning', because #warning isn't in the C Standard;\n      if -pedantic-errors is given, #warning should cause an error.  */\n   cpp_pedwarn (pfile, \"#warning %s\", copy);"}, {"sha": "eed81f59e2a31cfe92e3d77bfa447515c2827dfb", "filename": "gcc/dbxout.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fdbxout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fdbxout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdbxout.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -161,16 +161,18 @@ char *getpwd ();\n #define FORCE_TEXT\n #endif\n \n-#if defined (USG) || defined (NO_STAB_H) || defined (CROSS_COMPILE)\n-#include \"gstab.h\"  /* If doing DBX on sysV, use our own stab.h.  */\n+/* If there is a system stabs.h, use it.  Otherwise, use our own.  */\n+\n+#ifndef HAVE_STABS_H\n+#include \"gstab.h\"\n #else\n-#include <stab.h>  /* On BSD, use the system's stab.h.  */\n+#include <stab.h>\n \n /* This is a GNU extension we need to reference in this file.  */\n #ifndef N_CATCH\n #define N_CATCH 0x54\n #endif\n-#endif /* not USG */\n+#endif\n \n #ifdef __GNU_STAB__\n #define STAB_CODE_TYPE enum __stab_debug_code"}, {"sha": "ab2fab79d48137f48389cb005471e249ca4c1c17", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -7174,10 +7174,22 @@ add_bound_info (subrange_die, bound_attr, bound)\n \t{\n \t  register dw_die_ref ctx = lookup_decl_die (current_function_decl);\n \t  register dw_die_ref decl_die = new_die (DW_TAG_variable, ctx);\n+\t  register rtx loc = SAVE_EXPR_RTL (bound);\n+\n+\t  /* If the RTL for the SAVE_EXPR is memory, handle the case where\n+\t     it references an outer function's frame.  */\n+\n+\t  if (GET_CODE (loc) == MEM)\n+\t    {\n+\t      rtx new_addr = fix_lexical_addr (XEXP (loc, 0), bound);\n+\n+\t      if (XEXP (loc, 0) != new_addr)\n+\t\tloc = gen_rtx (MEM, GET_MODE (loc), new_addr);\n+\t    }\n+\n \t  add_AT_flag (decl_die, DW_AT_artificial, 1);\n \t  add_type_attribute (decl_die, TREE_TYPE (bound), 1, 0, ctx);\n-\t  add_AT_location_description (decl_die, DW_AT_location,\n-\t\t\t\t       SAVE_EXPR_RTL (bound));\n+\t  add_AT_location_description (decl_die, DW_AT_location, loc);\n \t  add_AT_die_ref (subrange_die, bound_attr, decl_die);\n \t}\n "}, {"sha": "70c00441fe975022c19875253fc3026484889bbf", "filename": "gcc/expmed.c", "status": "modified", "additions": 98, "deletions": 47, "changes": 145, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fexpmed.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fexpmed.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpmed.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -41,6 +41,8 @@ static rtx mask_rtx\t\t\tPROTO((enum machine_mode, int,\n static rtx lshift_value\t\t\tPROTO((enum machine_mode, rtx,\n \t\t\t\t\t       int, int));\n static rtx extract_split_bit_field\tPROTO((rtx, int, int, int, int));\n+static void do_cmp_and_jump\t\tPROTO((rtx, rtx, enum rtx_code,\n+\t\t\t\t\t       enum machine_mode, rtx));\n \n #define CEIL(x,y) (((x) + (y) - 1) / (y))\n \n@@ -3057,9 +3059,8 @@ expand_divmod (rem_flag, code, mode, op0, op1, target, unsignedp)\n \t\t\trtx t1;\n \n \t\t\tt1 = copy_to_mode_reg (compute_mode, op0);\n-\t\t\temit_cmp_insn (t1, const0_rtx, GE, \n-\t\t\t\t       NULL_RTX, compute_mode, 0, 0);\n-\t\t\temit_jump_insn (gen_bge (label));\n+\t\t\tdo_cmp_and_jump (t1, const0_rtx, GE,\n+\t\t\t\t\t compute_mode, label);\n \t\t\texpand_inc (t1, GEN_INT (abs_d - 1));\n \t\t\temit_label (label);\n \t\t\tquotient = expand_shift (RSHIFT_EXPR, compute_mode, t1,\n@@ -3286,13 +3287,10 @@ expand_divmod (rem_flag, code, mode, op0, op1, target, unsignedp)\n \t       Save that for later.  */\n \t    rtx tem;\n \t    rtx label = gen_label_rtx ();\n-\t    emit_cmp_insn (remainder, const0_rtx, EQ, NULL_RTX,\n-\t\t\t   compute_mode, 0, 0);\n-\t    emit_jump_insn (gen_beq (label));\n+\t    do_cmp_and_jump (remainder, const0_rtx, EQ, compute_mode, label);\n \t    tem = expand_binop (compute_mode, xor_optab, op0, op1,\n \t\t\t\tNULL_RTX, 0, OPTAB_WIDEN);\n-\t    emit_cmp_insn (tem, const0_rtx, GE, NULL_RTX, compute_mode, 0, 0);\n-\t    emit_jump_insn (gen_bge (label));\n+\t    do_cmp_and_jump (tem, const0_rtx, GE, compute_mode, label);\n \t    expand_dec (quotient, const1_rtx);\n \t    expand_inc (remainder, op1);\n \t    emit_label (label);\n@@ -3313,11 +3311,8 @@ expand_divmod (rem_flag, code, mode, op0, op1, target, unsignedp)\n \t  label3 = gen_label_rtx ();\n \t  label4 = gen_label_rtx ();\n \t  label5 = gen_label_rtx ();\n-\t  emit_cmp_insn (op1, const0_rtx, LT, NULL_RTX, compute_mode, 0, 0);\n-\t  emit_jump_insn (gen_blt (label2));\n-\t  emit_cmp_insn (adjusted_op0, const0_rtx, LT, NULL_RTX,\n-\t\t\t compute_mode, 0, 0);\n-\t  emit_jump_insn (gen_blt (label1));\n+\t  do_cmp_and_jump (op1, const0_rtx, LT, compute_mode, label2);\n+\t  do_cmp_and_jump (adjusted_op0, const0_rtx, LT, compute_mode, label1);\n \t  tem = expand_binop (compute_mode, sdiv_optab, adjusted_op0, op1,\n \t\t\t      quotient, 0, OPTAB_LIB_WIDEN);\n \t  if (tem != quotient)\n@@ -3329,9 +3324,7 @@ expand_divmod (rem_flag, code, mode, op0, op1, target, unsignedp)\n \t  emit_jump_insn (gen_jump (label4));\n \t  emit_barrier ();\n \t  emit_label (label2);\n-\t  emit_cmp_insn (adjusted_op0, const0_rtx, GT, NULL_RTX,\n-\t\t\t compute_mode, 0, 0);\n-\t  emit_jump_insn (gen_bgt (label3));\n+\t  do_cmp_and_jump (adjusted_op0, const0_rtx, GT, compute_mode, label3);\n \t  tem = expand_binop (compute_mode, sdiv_optab, adjusted_op0, op1,\n \t\t\t      quotient, 0, OPTAB_LIB_WIDEN);\n \t  if (tem != quotient)\n@@ -3371,9 +3364,7 @@ expand_divmod (rem_flag, code, mode, op0, op1, target, unsignedp)\n \t\t  {\n \t\t    rtx lab;\n \t\t    lab = gen_label_rtx ();\n-\t\t    emit_cmp_insn (t2, const0_rtx, EQ, NULL_RTX,\n-\t\t\t\t   compute_mode, 0, 0);\n-\t\t    emit_jump_insn (gen_beq (lab));\n+\t\t    do_cmp_and_jump (t2, const0_rtx, EQ, compute_mode, lab);\n \t\t    expand_inc (t1, const1_rtx);\n \t\t    emit_label (lab);\n \t\t    quotient = t1;\n@@ -3412,9 +3403,8 @@ expand_divmod (rem_flag, code, mode, op0, op1, target, unsignedp)\n \t\t/* This could be computed with a branch-less sequence.\n \t\t   Save that for later.  */\n \t\trtx label = gen_label_rtx ();\n-\t\temit_cmp_insn (remainder, const0_rtx, EQ, NULL_RTX,\n-\t\t\t       compute_mode, 0, 0);\n-\t\temit_jump_insn (gen_beq (label));\n+\t\tdo_cmp_and_jump (remainder, const0_rtx, EQ,\n+\t\t\t\t compute_mode, label);\n \t\texpand_inc (quotient, const1_rtx);\n \t\texpand_dec (remainder, op1);\n \t\temit_label (label);\n@@ -3431,9 +3421,8 @@ expand_divmod (rem_flag, code, mode, op0, op1, target, unsignedp)\n \t      adjusted_op0 = copy_to_mode_reg (compute_mode, op0);\n \t      label1 = gen_label_rtx ();\n \t      label2 = gen_label_rtx ();\n-\t      emit_cmp_insn (adjusted_op0, const0_rtx, NE, NULL_RTX,\n-\t\t\t     compute_mode, 0, 0);\n-\t      emit_jump_insn (gen_bne (label1));\n+\t      do_cmp_and_jump (adjusted_op0, const0_rtx, NE,\n+\t\t\t       compute_mode, label1);\n \t      emit_move_insn  (quotient, const0_rtx);\n \t      emit_jump_insn (gen_jump (label2));\n \t      emit_barrier ();\n@@ -3473,9 +3462,7 @@ expand_divmod (rem_flag, code, mode, op0, op1, target, unsignedp)\n \t\t  {\n \t\t    rtx lab;\n \t\t    lab = gen_label_rtx ();\n-\t\t    emit_cmp_insn (t2, const0_rtx, EQ, NULL_RTX,\n-\t\t\t\t   compute_mode, 0, 0);\n-\t\t    emit_jump_insn (gen_beq (lab));\n+\t\t    do_cmp_and_jump (t2, const0_rtx, EQ, compute_mode, lab);\n \t\t    expand_inc (t1, const1_rtx);\n \t\t    emit_label (lab);\n \t\t    quotient = t1;\n@@ -3514,14 +3501,11 @@ expand_divmod (rem_flag, code, mode, op0, op1, target, unsignedp)\n \t\t   Save that for later.  */\n \t\trtx tem;\n \t\trtx label = gen_label_rtx ();\n-\t\temit_cmp_insn (remainder, const0_rtx, EQ, NULL_RTX,\n-\t\t\t       compute_mode, 0, 0);\n-\t\temit_jump_insn (gen_beq (label));\n+\t\tdo_cmp_and_jump (remainder, const0_rtx, EQ,\n+\t\t\t\t compute_mode, label);\n \t\ttem = expand_binop (compute_mode, xor_optab, op0, op1,\n \t\t\t\t    NULL_RTX, 0, OPTAB_WIDEN);\n-\t\temit_cmp_insn (tem, const0_rtx, LT, NULL_RTX,\n-\t\t\t       compute_mode, 0, 0);\n-\t\temit_jump_insn (gen_blt (label));\n+\t\tdo_cmp_and_jump (tem, const0_rtx, LT, compute_mode, label);\n \t\texpand_inc (quotient, const1_rtx);\n \t\texpand_dec (remainder, op1);\n \t\temit_label (label);\n@@ -3542,12 +3526,9 @@ expand_divmod (rem_flag, code, mode, op0, op1, target, unsignedp)\n \t      label3 = gen_label_rtx ();\n \t      label4 = gen_label_rtx ();\n \t      label5 = gen_label_rtx ();\n-\t      emit_cmp_insn (op1, const0_rtx, LT, NULL_RTX,\n-\t\t\t     compute_mode, 0, 0);\n-\t      emit_jump_insn (gen_blt (label2));\n-\t      emit_cmp_insn (adjusted_op0, const0_rtx, GT, NULL_RTX,\n-\t\t\t     compute_mode, 0, 0);\n-\t      emit_jump_insn (gen_bgt (label1));\n+\t      do_cmp_and_jump (op1, const0_rtx, LT, compute_mode, label2);\n+\t      do_cmp_and_jump (adjusted_op0, const0_rtx, GT,\n+\t\t\t       compute_mode, label1);\n \t      tem = expand_binop (compute_mode, sdiv_optab, adjusted_op0, op1,\n \t\t\t\t  quotient, 0, OPTAB_LIB_WIDEN);\n \t      if (tem != quotient)\n@@ -3559,9 +3540,8 @@ expand_divmod (rem_flag, code, mode, op0, op1, target, unsignedp)\n \t      emit_jump_insn (gen_jump (label4));\n \t      emit_barrier ();\n \t      emit_label (label2);\n-\t      emit_cmp_insn (adjusted_op0, const0_rtx, LT, NULL_RTX,\n-\t\t\t     compute_mode, 0, 0);\n-\t      emit_jump_insn (gen_blt (label3));\n+\t      do_cmp_and_jump (adjusted_op0, const0_rtx, LT,\n+\t\t\t       compute_mode, label3);\n \t      tem = expand_binop (compute_mode, sdiv_optab, adjusted_op0, op1,\n \t\t\t\t  quotient, 0, OPTAB_LIB_WIDEN);\n \t      if (tem != quotient)\n@@ -3628,8 +3608,7 @@ expand_divmod (rem_flag, code, mode, op0, op1, target, unsignedp)\n \t    tem = plus_constant (op1, -1);\n \t    tem = expand_shift (RSHIFT_EXPR, compute_mode, tem,\n \t\t\t\tbuild_int_2 (1, 0), NULL_RTX, 1);\n-\t    emit_cmp_insn (remainder, tem, LEU, NULL_RTX, compute_mode, 0, 0);\n-\t    emit_jump_insn (gen_bleu (label));\n+\t    do_cmp_and_jump (remainder, tem, LEU, compute_mode, label);\n \t    expand_inc (quotient, const1_rtx);\n \t    expand_dec (remainder, op1);\n \t    emit_label (label);\n@@ -3654,8 +3633,7 @@ expand_divmod (rem_flag, code, mode, op0, op1, target, unsignedp)\n \t    abs_op1 = expand_abs (compute_mode, op1, NULL_RTX, 0, 0);\n \t    tem = expand_shift (LSHIFT_EXPR, compute_mode, abs_rem,\n \t\t\t\tbuild_int_2 (1, 0), NULL_RTX, 1);\n-\t    emit_cmp_insn (tem, abs_op1, LTU, NULL_RTX, compute_mode, 0, 0);\n-\t    emit_jump_insn (gen_bltu (label));\n+\t    do_cmp_and_jump (tem, abs_op1, LTU, compute_mode, label);\n \t    tem = expand_binop (compute_mode, xor_optab, op0, op1,\n \t\t\t\tNULL_RTX, 0, OPTAB_WIDEN);\n \t    mask = expand_shift (RSHIFT_EXPR, compute_mode, tem,\n@@ -4360,3 +4338,76 @@ emit_store_flag_force (target, code, op0, op1, mode, unsignedp, normalizep)\n \n   return target;\n }\n+\f\n+/* Perform possibly multi-word comparison and conditional jump to LABEL\n+   if ARG1 OP ARG2 true where ARG1 and ARG2 are of mode MODE\n+\n+   The algorithm is based on the code in expr.c:do_jump.\n+\n+   Note that this does not perform a general comparison.  Only variants\n+   generated within expmed.c are correctly handled, others abort (but could\n+   be handled if needed).  */\n+\n+static void\n+do_cmp_and_jump (arg1, arg2, op, mode, label)\n+     rtx arg1, arg2, label;\n+    enum rtx_code op;\n+    enum machine_mode mode;\n+{\n+  /* If this mode is an integer too wide to compare properly,\n+     compare word by word.  Rely on cse to optimize constant cases.  */\n+\n+  if (GET_MODE_CLASS (mode) == MODE_INT && !can_compare_p (mode))\n+    {\n+      rtx label2 = gen_label_rtx ();\n+\n+      switch (op)\n+\t{\n+\tcase LTU:\n+\t  do_jump_by_parts_greater_rtx (mode, 1, arg2, arg1, label2, label);\n+\t  break;\n+\n+\tcase LEU:\n+\t  do_jump_by_parts_greater_rtx (mode, 1, arg1, arg2, label, label2);\n+\t  break;\n+\n+\tcase LT:\n+\t  do_jump_by_parts_greater_rtx (mode, 0, arg2, arg1, label2, label);\n+\t  break;\n+\n+\tcase GT:\n+\t  do_jump_by_parts_greater_rtx (mode, 0, arg1, arg2, label2, label);\n+\t  break;\n+\n+\tcase GE:\n+\t  do_jump_by_parts_greater_rtx (mode, 0, arg2, arg1, label, label2);\n+\t  break;\n+\n+\t  /* do_jump_by_parts_equality_rtx compares with zero.  Luckily\n+\t     that's the only equality operations we do */\n+\tcase EQ:\n+\t  if (arg2 != const0_rtx || mode != GET_MODE(arg1))\n+\t    abort();\n+\t  do_jump_by_parts_equality_rtx (arg1, label2, label);\n+\t  break;\n+\n+\tcase NE:\n+\t  if (arg2 != const0_rtx || mode != GET_MODE(arg1))\n+\t    abort();\n+\t  do_jump_by_parts_equality_rtx (arg1, label, label2);\n+\t  break;\n+\n+\tdefault:\n+\t  abort();\n+\t}\n+\n+      emit_label (label2);\n+    }\n+  else\n+    {\n+      emit_cmp_insn(arg1, arg2, op, NULL_RTX, mode, 0, 0);\n+      if (bcc_gen_fctn[(int) op] == 0)\n+\tabort ();\n+      emit_jump_insn ((*bcc_gen_fctn[(int) op]) (label));\n+    }\n+}"}, {"sha": "16310e6ba78d5d6273da9c40b474cf9327f2d0b3", "filename": "gcc/expr.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -192,7 +192,7 @@ static void preexpand_calls\tPROTO((tree));\n static void do_jump_by_parts_greater PROTO((tree, int, rtx, rtx));\n void do_jump_by_parts_greater_rtx PROTO((enum machine_mode, int, rtx, rtx, rtx, rtx));\n static void do_jump_by_parts_equality PROTO((tree, rtx, rtx));\n-static void do_jump_by_parts_equality_rtx PROTO((rtx, rtx, rtx));\n+void do_jump_by_parts_equality_rtx PROTO((rtx, rtx, rtx));\n static void do_jump_for_compare\tPROTO((rtx, rtx, rtx));\n static rtx compare\t\tPROTO((tree, enum rtx_code, enum rtx_code));\n static rtx do_store_flag\tPROTO((tree, rtx, enum machine_mode, int));\n@@ -10246,7 +10246,7 @@ do_jump_by_parts_equality (exp, if_false_label, if_true_label)\n    We assume that OP0 has an integer mode that is too wide\n    for the available compare insns.  */\n \n-static void\n+void\n do_jump_by_parts_equality_rtx (op0, if_false_label, if_true_label)\n      rtx op0;\n      rtx if_false_label, if_true_label;"}, {"sha": "963a014c81ea5fb2c320f65253ac91c3dca94c19", "filename": "gcc/expr.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fexpr.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fexpr.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -131,6 +131,10 @@ extern int pending_stack_adjust;\n    until no longer needed.  CLEANUP_POINT_EXPRs define the lifetime\n    of TARGET_EXPRs.  */\n extern int target_temp_slot_level;\n+\n+/* Current level for normal temporaries.  */\n+\n+extern int temp_slot_level;\n \f\n #ifdef TREE_CODE /* Don't lose if tree.h not included.  */\n /* Structure to record the size of a sequence of arguments"}, {"sha": "2647bbe08f5f39704914ac2f133a6801cfe30ff5", "filename": "gcc/final.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ffinal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ffinal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffinal.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -2902,9 +2902,15 @@ alter_subreg (x)\n      register rtx x;\n {\n   register rtx y = SUBREG_REG (x);\n+\n   if (GET_CODE (y) == SUBREG)\n     y = alter_subreg (y);\n \n+  /* If reload is operating, we may be replacing inside this SUBREG.\n+     Check for that and make a new one if so.  */\n+  if (reload_in_progress && find_replacement (&SUBREG_REG (x)) != 0)\n+    x = copy_rtx (x);\n+\n   if (GET_CODE (y) == REG)\n     {\n       /* If the word size is larger than the size of this register,"}, {"sha": "b795a940aaf5fa19aebc5344acde156c7fa0019e", "filename": "gcc/fixincludes", "status": "modified", "additions": 74, "deletions": 1, "changes": 75, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -411,6 +411,37 @@ typedef __SIZE_TYPE__ size_t;\\\n   fi\n done\n \n+# Fix #defines under Alpha OSF/1:\n+# The following files contain '#pragma extern_prefix \"_FOO\"' followed by\n+# a '#define something(x,y,z) _FOOsomething(x,y,z)'.  The intent of these\n+# statements is to reduce namespace pollution.  While these macros work\n+# properly in most cases, they don't allow you to take a pointer to the\n+# \"something\" being modified.  To get around this limitation, change these\n+# statements to be of the form '#define something _FOOsomething'.\n+for file in libgen.h dirent.h ftw.h grp.h ndbm.h pthread.h pwd.h signal.h standards.h stdlib.h string.h stropts.h time.h unistd.h\n+do\n+  if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n+    cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n+    chmod +w ${LIB}/$file 2>/dev/null\n+    chmod a+r ${LIB}/$file 2>/dev/null\n+  fi\n+\n+  if [ -r ${LIB}/$file ]; then\n+    echo Fixing $file extern_prefix\n+    sed -e 's/^[ \t]*#[ \t]*define[ \t]*\\([^(]*\\)\\(([^)]*)\\)[ \t]*\\(_.\\)\\1\\2[ \t]*$/#define \\1 \\3\\1/' ${LIB}/$file > ${LIB}/${file}.sed\n+    rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n+    if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n+      rm ${LIB}/$file\n+    else\n+      # Find any include directives that use \"file\".\n+      for include in `egrep '^[       ]*#[    ]*include[      ]*\"[^/]' ${LIB}/$file | sed -e 's/^[    ]*#[    ]*include[      ]*\"\\([^\"]*\\)\".*$/\\1/'`; do\n+\tdir=`echo $file | sed -e s'|/[^/]*$||'`\n+\trequired=\"$required ${INPUT} $dir/$include ${LIB}/$dir/$include\"\n+      done\n+    fi\n+  fi\n+done\n+ \n # Fix one other error in this file: a mismatched quote not inside a C comment.\n file=sundev/vuid_event.h\n if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n@@ -1135,7 +1166,7 @@ if [ -r ${LIB}/$file ]; then\n   fi\n fi\n \n-# And also with the HP-UX 10 sys/pci.h file\n+# And also with the HP-UX 10 and HP-UX 11 sys/pci.h file\n file=sys/pci.h\n if [ -r ${LIB}/$file ]; then\n   if egrep 'System Private Structures' ${LIB}/$file > /dev/null; then\n@@ -1147,6 +1178,48 @@ if [ -r ${LIB}/$file ]; then\n   fi\n fi\n \n+# And also with a few more HP-UX 11 headers which are only broken\n+# after they are \"fixed\".\n+file=sys/ki_iface.h\n+if [ -r ${LIB}/$file ]; then\n+  if egrep 'These definitions are for HP Internal developers' ${LIB}/$file > /dev/null; then\n+    echo Fixing $file, overeager sed script\n+    rm ${LIB}/$file\n+  fi\n+fi\n+\n+file=sys/ki.h\n+if [ -r ${LIB}/$file ]; then\n+  if egrep '11.00 HP-UX LP64' ${LIB}/$file > /dev/null; then\n+    echo Fixing $file, overeager sed script\n+    rm ${LIB}/$file\n+  fi\n+fi\n+\n+file=sys/ki_calls.h\n+if [ -r ${LIB}/$file ]; then\n+  if egrep 'KI_MAX_PROCS is an arbitrary number' ${LIB}/$file > /dev/null; then\n+    echo Fixing $file, overeager sed script\n+    rm ${LIB}/$file\n+  fi\n+fi\n+\n+file=sys/ki_defs.h\n+if [ -r ${LIB}/$file ] ; then\n+  if egrep 'Kernel Instrumentation Definitions' ${LIB}/$file > /dev/null; then\n+    echo Fixing $file, overeager sed script\n+    rm ${LIB}/$file\n+  fi\n+fi\n+\n+file=sys/time.h\n+if [ -r ${LIB}/$file ] ; then\n+  if egrep 'For CASPEC, look in' ${LIB}/$file > /dev/null; then\n+    echo Fixing $file, overeager sed script\n+    rm ${LIB}/$file\n+  fi\n+fi\n+\n # Some IRIX header files contains the string \"//\"\n for file in elf_abi.h elf.h; do\n   if [ -r ${LIB}/$file ]; then"}, {"sha": "c36f37834affc2492472ae53ec231b021c85c762", "filename": "gcc/fold-const.c", "status": "modified", "additions": 40, "deletions": 22, "changes": 62, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -3923,6 +3923,7 @@ fold (expr)\n \t       && (! TREE_SIDE_EFFECTS (arg0) || current_function_decl != 0))\n \t{\n \t  tree test, true_value, false_value;\n+\t  tree lhs = 0, rhs = 0;\n \n \t  if (TREE_CODE (arg1) == COND_EXPR)\n \t    {\n@@ -3945,26 +3946,37 @@ fold (expr)\n \t     to make this SAVE_EXPR.  Since we do this optimization\n \t     primarily to see if we do end up with constant and this\n \t     SAVE_EXPR interferes with later optimizations, suppressing\n-\t     it when we can is important.  */\n+\t     it when we can is important.\n \n-\t  if (TREE_CODE (arg0) != SAVE_EXPR\n+\t     If we are not in a function, we can't make a SAVE_EXPR, so don't\n+\t     try to do so.  Don't try to see if the result is a constant\n+\t     if an arm is a COND_EXPR since we get exponential behavior\n+\t     in that case.  */\n+\n+\t  if (TREE_CODE (arg0) != SAVE_EXPR && ! TREE_CONSTANT (arg0)\n+\t      && current_function_decl != 0\n \t      && ((TREE_CODE (arg0) != VAR_DECL\n \t\t   && TREE_CODE (arg0) != PARM_DECL)\n \t\t  || TREE_SIDE_EFFECTS (arg0)))\n \t    {\n-\t      tree lhs = fold (build (code, type, arg0, true_value));\n-\t      tree rhs = fold (build (code, type, arg0, false_value));\n+\t      if (TREE_CODE (true_value) != COND_EXPR)\n+\t\tlhs = fold (build (code, type, arg0, true_value));\n \n-\t      if (TREE_CONSTANT (lhs) || TREE_CONSTANT (rhs))\n-\t\treturn fold (build (COND_EXPR, type, test, lhs, rhs));\n+\t      if (TREE_CODE (false_value) != COND_EXPR)\n+\t\trhs = fold (build (code, type, arg0, false_value));\n \n-\t      if (current_function_decl != 0)\n-\t\targ0 = save_expr (arg0);\n+\t      if ((lhs == 0 || ! TREE_CONSTANT (lhs))\n+\t\t  && (rhs == 0 || !TREE_CONSTANT (rhs)))\n+\t\targ0 = save_expr (arg0), lhs = rhs = 0;\n \t    }\n \n-\t  test = fold (build (COND_EXPR, type, test,\n-\t\t\t      fold (build (code, type, arg0, true_value)),\n-\t\t\t      fold (build (code, type, arg0, false_value))));\n+\t  if (lhs == 0)\n+\t    lhs = fold (build (code, type, arg0, true_value));\n+\t  if (rhs == 0)\n+\t    rhs = fold (build (code, type, arg0, false_value));\n+\n+\t  test = fold (build (COND_EXPR, type, test, lhs, rhs));\n+\n \t  if (TREE_CODE (arg0) == SAVE_EXPR)\n \t    return build (COMPOUND_EXPR, type,\n \t\t\t  convert (void_type_node, arg0),\n@@ -3982,6 +3994,7 @@ fold (expr)\n \t       && (! TREE_SIDE_EFFECTS (arg1) || current_function_decl != 0))\n \t{\n \t  tree test, true_value, false_value;\n+\t  tree lhs = 0, rhs = 0;\n \n \t  if (TREE_CODE (arg0) == COND_EXPR)\n \t    {\n@@ -3997,25 +4010,30 @@ fold (expr)\n \t      false_value = convert (testtype, integer_zero_node);\n \t    }\n \n-\t  if (TREE_CODE (arg1) != SAVE_EXPR\n+\t  if (TREE_CODE (arg1) != SAVE_EXPR && ! TREE_CONSTANT (arg0)\n+\t      && current_function_decl != 0\n \t      && ((TREE_CODE (arg1) != VAR_DECL\n \t\t   && TREE_CODE (arg1) != PARM_DECL)\n \t\t  || TREE_SIDE_EFFECTS (arg1)))\n \t    {\n-\t      tree lhs = fold (build (code, type, true_value, arg1));\n-\t      tree rhs = fold (build (code, type, false_value, arg1));\n+\t      if (TREE_CODE (true_value) != COND_EXPR)\n+\t\tlhs = fold (build (code, type, true_value, arg1));\n \n-\t      if (TREE_CONSTANT (lhs) || TREE_CONSTANT (rhs)\n-\t\t  || TREE_CONSTANT (arg1))\n-\t\treturn fold (build (COND_EXPR, type, test, lhs, rhs));\n+\t      if (TREE_CODE (false_value) != COND_EXPR)\n+\t\trhs = fold (build (code, type, false_value, arg1));\n \n-\t      if (current_function_decl != 0)\n-\t\targ1 = save_expr (arg1);\n+\t      if ((lhs == 0 || ! TREE_CONSTANT (lhs))\n+\t\t  && (rhs == 0 || !TREE_CONSTANT (rhs)))\n+\t\targ1 = save_expr (arg1), lhs = rhs = 0;\n \t    }\n \n-\t  test = fold (build (COND_EXPR, type, test,\n-\t\t\t      fold (build (code, type, true_value, arg1)),\n-\t\t\t      fold (build (code, type, false_value, arg1))));\n+\t  if (lhs == 0)\n+\t    lhs = fold (build (code, type, true_value, arg1));\n+\n+\t  if (rhs == 0)\n+\t    rhs = fold (build (code, type, false_value, arg1));\n+\n+\t  test = fold (build (COND_EXPR, type, test, lhs, rhs));\n \t  if (TREE_CODE (arg1) == SAVE_EXPR)\n \t    return build (COMPOUND_EXPR, type,\n \t\t\t  convert (void_type_node, arg1),"}, {"sha": "44cee08aa683817b6b5778b10a3e1251ad18ae97", "filename": "gcc/function.c", "status": "modified", "additions": 35, "deletions": 1, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -390,6 +390,12 @@ int temp_slot_level;\n /* Current nesting level for variables in a block.  */\n \n int var_temp_slot_level;\n+\n+/* When temporaries are created by TARGET_EXPRs, they are created at\n+   this level of temp_slot_level, so that they can remain allocated\n+   until no longer needed.  CLEANUP_POINT_EXPRs define the lifetime\n+   of TARGET_EXPRs.  */\n+int target_temp_slot_level;\n \f\n /* This structure is used to record MEMs or pseudos used to replace VAR, any\n    SUBREGs of VAR, and any MEMs containing VAR as an address.  We need to\n@@ -1290,6 +1296,33 @@ push_temp_slots_for_block ()\n   var_temp_slot_level = temp_slot_level;\n }\n \n+/* Likewise, but save the new level as the place to allocate temporaries\n+   for TARGET_EXPRs.  */\n+\n+void\n+push_temp_slots_for_target ()\n+{\n+  push_temp_slots ();\n+\n+  target_temp_slot_level = temp_slot_level;\n+}\n+\n+/* Set and get the value of target_temp_slot_level.  The only\n+   permitted use of these functions is to save and restore this value.  */\n+\n+int\n+get_target_temp_slot_level ()\n+{\n+  return target_temp_slot_level;\n+}\n+\n+void\n+set_target_temp_slot_level (level)\n+     int level;\n+{\n+  target_temp_slot_level = level;\n+}\n+\n /* Pop a temporary nesting level.  All slots in use in the current level\n    are freed.  */\n \n@@ -2785,7 +2818,8 @@ purge_addressof_1 (loc, insn, force)\n       if (GET_CODE (sub) == MEM)\n \tsub = gen_rtx_MEM (GET_MODE (x), copy_rtx (XEXP (sub, 0)));\n \n-      if (GET_CODE (sub) == REG && MEM_VOLATILE_P (x))\n+      if (GET_CODE (sub) == REG\n+\t  && (MEM_VOLATILE_P (x) || GET_MODE (x) == BLKmode))\n \t{\n \t  put_addressof_into_stack (XEXP (x, 0));\n \t  return;"}, {"sha": "e0584aafc6ed065fddedb275e2be8ce80324f410", "filename": "gcc/gcc.texi", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fgcc.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fgcc.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.texi?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -3734,12 +3734,6 @@ no effect.  As soon as all of the machine descriptions are\n modified to have the appropriate number of arguments, this macro\n will be removed.\n \n-@findex NO_STAB_H\n-@item NO_STAB_H\n-Define this if your system does not have the include file\n-@file{stab.h}.  If @samp{USG} is defined, @samp{NO_STAB_H} is\n-assumed.\n-\n @findex PATH_SEPARATOR\n @item PATH_SEPARATOR\n Define this macro to be a C character constant representing the"}, {"sha": "a9a101f3c1bcc85e2054e75634031a924c46e2e9", "filename": "gcc/getopt.c", "status": "modified", "additions": 42, "deletions": 37, "changes": 79, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fgetopt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fgetopt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgetopt.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,13 +1,13 @@\n /* Getopt for GNU.\n    NOTE: getopt is now part of the C library, so if you don't know what\n-   \"Keep this file name-space clean\" means, talk to roland@gnu.ai.mit.edu\n+   \"Keep this file name-space clean\" means, talk to drepper@gnu.org\n    before changing it!\n \n-   Copyright (C) 1987, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97\n+   Copyright (C) 1987, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98\n    \tFree Software Foundation, Inc.\n \n    NOTE: The canonical source of this file is maintained with the GNU C Library.\n-   Bugs can be reported to bug-glibc@prep.ai.mit.edu.\n+   Bugs can be reported to bug-glibc@gnu.org.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU General Public License as published by the\n@@ -27,19 +27,19 @@\n /* This tells Alpha OSF/1 not to define a getopt prototype in <stdio.h>.\n    Ditto for AIX 3.2 and <stdlib.h>.  */\n #ifndef _NO_PROTO\n-#define _NO_PROTO\n+# define _NO_PROTO\n #endif\n \n #ifdef HAVE_CONFIG_H\n-#include <config.h>\n+# include <config.h>\n #endif\n \n-#if !defined (__STDC__) || !__STDC__\n+#if !defined __STDC__ || !__STDC__\n /* This is a separate conditional since some stdc systems\n    reject `defined (const)'.  */\n-#ifndef const\n-#define const\n-#endif\n+# ifndef const\n+#  define const\n+# endif\n #endif\n \n #include <stdio.h>\n@@ -53,11 +53,11 @@\n    it is simpler to just do this in the source for each such file.  */\n \n #define GETOPT_INTERFACE_VERSION 2\n-#if !defined (_LIBC) && defined (__GLIBC__) && __GLIBC__ >= 2\n-#include <gnu-versions.h>\n-#if _GNU_GETOPT_INTERFACE_VERSION == GETOPT_INTERFACE_VERSION\n-#define ELIDE_CODE\n-#endif\n+#if !defined _LIBC && defined __GLIBC__ && __GLIBC__ >= 2\n+# include <gnu-versions.h>\n+# if _GNU_GETOPT_INTERFACE_VERSION == GETOPT_INTERFACE_VERSION\n+#  define ELIDE_CODE\n+# endif\n #endif\n \n #ifndef ELIDE_CODE\n@@ -68,26 +68,26 @@\n #ifdef\t__GNU_LIBRARY__\n /* Don't include stdlib.h for non-GNU C libraries because some of them\n    contain conflicting prototypes for getopt.  */\n-#include <stdlib.h>\n-#include <unistd.h>\n+# include <stdlib.h>\n+# include <unistd.h>\n #endif\t/* GNU C library.  */\n \n #ifdef VMS\n-#include <unixlib.h>\n-#if HAVE_STRING_H - 0\n-#include <string.h>\n-#endif\n+# include <unixlib.h>\n+# if HAVE_STRING_H - 0\n+#  include <string.h>\n+# endif\n #endif\n \n #ifndef _\n /* This is for other GNU distributions with internationalized messages.\n    When compiling libc, the _ macro is predefined.  */\n-#ifdef HAVE_LIBINTL_H\n-# include <libintl.h>\n-# define _(msgid)\tgettext (msgid)\n-#else\n-# define _(msgid)\t(msgid)\n-#endif\n+# ifdef HAVE_LIBINTL_H\n+#  include <libintl.h>\n+#  define _(msgid)\tgettext (msgid)\n+# else\n+#  define _(msgid)\t(msgid)\n+# endif\n #endif\n \n /* This version of `getopt' appears to the caller like standard Unix `getopt'\n@@ -197,14 +197,19 @@ static char *posixly_correct;\n    because there are many ways it can cause trouble.\n    On some systems, it contains special magic macros that don't work\n    in GCC.  */\n-#include <string.h>\n-#define\tmy_index\tstrchr\n+# include <string.h>\n+# define my_index\tstrchr\n #else\n \n /* Avoid depending on library functions or files\n    whose names are inconsistent.  */\n \n-char *getenv ();\n+#ifndef getenv\n+extern char *getenv ();\n+#endif\n+#ifndef strncmp\n+extern int strncmp ();\n+#endif\n \n static char *\n my_index (str, chr)\n@@ -225,11 +230,11 @@ my_index (str, chr)\n #ifdef __GNUC__\n /* Note that Motorola Delta 68k R3V7 comes with GCC but not stddef.h.\n    That was relevant to code that was here before.  */\n-#if !defined (__STDC__) || !__STDC__\n+# if (!defined __STDC__ || !__STDC__) && !defined strlen\n /* gcc with -traditional declares the built-in strlen to return int,\n    and has done so at least since version 2.4.5. -- rms.  */\n extern int strlen (const char *);\n-#endif /* not __STDC__ */\n+# endif /* not __STDC__ */\n #endif /* __GNUC__ */\n \n #endif /* not __GNU_LIBRARY__ */\n@@ -292,7 +297,7 @@ text_set_element (__libc_subinit, store_args_and_env);\n    `first_nonopt' and `last_nonopt' are relocated so that they describe\n    the new indices of the non-options in ARGV after they are moved.  */\n \n-#if defined (__STDC__) && __STDC__\n+#if defined __STDC__ && __STDC__\n static void exchange (char **);\n #endif\n \n@@ -378,7 +383,7 @@ exchange (argv)\n \n /* Initialize the internal data when the first call is made.  */\n \n-#if defined (__STDC__) && __STDC__\n+#if defined __STDC__ && __STDC__\n static const char *_getopt_initialize (int, char *const *, const char *);\n #endif\n static const char *\n@@ -527,11 +532,11 @@ _getopt_internal (argc, argv, optstring, longopts, longind, long_only)\n      from the shell indicating it is not an option.  The later information\n      is only used when the used in the GNU libc.  */\n #ifdef _LIBC\n-#define NONOPTION_P (argv[optind][0] != '-' || argv[optind][1] == '\\0'\t      \\\n-\t\t     || (optind < nonoption_flags_len\t\t\t      \\\n-\t\t\t && __getopt_nonoption_flags[optind] == '1'))\n+# define NONOPTION_P (argv[optind][0] != '-' || argv[optind][1] == '\\0'\t      \\\n+\t\t      || (optind < nonoption_flags_len\t\t\t      \\\n+\t\t\t  && __getopt_nonoption_flags[optind] == '1'))\n #else\n-#define NONOPTION_P (argv[optind][0] != '-' || argv[optind][1] == '\\0')\n+# define NONOPTION_P (argv[optind][0] != '-' || argv[optind][1] == '\\0')\n #endif\n \n   if (nextchar == NULL || *nextchar == '\\0')"}, {"sha": "fb30719a8602a3b800bc55af73c39ab64ce4c6f6", "filename": "gcc/getopt.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fgetopt.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fgetopt.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgetopt.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -2,7 +2,7 @@\n    Copyright (C) 1989,90,91,92,93,94,96,97 Free Software Foundation, Inc.\n \n    NOTE: The canonical source of this file is maintained with the GNU C Library.\n-   Bugs can be reported to bug-glibc@prep.ai.mit.edu.\n+   Bugs can be reported to bug-glibc@gnu.org.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU General Public License as published by the"}, {"sha": "ff257374c335af5847a1a611e1e2cda2ff3caaca", "filename": "gcc/getopt1.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fgetopt1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fgetopt1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgetopt1.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,8 +1,9 @@\n /* getopt_long and getopt_long_only entry points for GNU getopt.\n-   Copyright (C) 1987,88,89,90,91,92,93,94,96,97 Free Software Foundation, Inc.\n+   Copyright (C) 1987,88,89,90,91,92,93,94,96,97,98\n+     Free Software Foundation, Inc.\n \n    NOTE: The canonical source of this file is maintained with the GNU C Library.\n-   Bugs can be reported to bug-glibc@prep.ai.mit.edu.\n+   Bugs can be reported to bug-glibc@gnu.org.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU General Public License as published by the\n@@ -25,7 +26,7 @@\n \n #include \"getopt.h\"\n \n-#if !defined (__STDC__) || !__STDC__\n+#if !defined __STDC__ || !__STDC__\n /* This is a separate conditional since some stdc systems\n    reject `defined (const)'.  */\n #ifndef const\n@@ -44,7 +45,7 @@\n    it is simpler to just do this in the source for each such file.  */\n \n #define GETOPT_INTERFACE_VERSION 2\n-#if !defined (_LIBC) && defined (__GLIBC__) && __GLIBC__ >= 2\n+#if !defined _LIBC && defined __GLIBC__ && __GLIBC__ >= 2\n #include <gnu-versions.h>\n #if _GNU_GETOPT_INTERFACE_VERSION == GETOPT_INTERFACE_VERSION\n #define ELIDE_CODE"}, {"sha": "dc48c4205074eceb3c47117a882f0572b287d21b", "filename": "gcc/install.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Finstall.texi?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -74,7 +74,7 @@ see @ref{Cross-Compiler}.)\n Here is an example:\n \n @smallexample\n-./configure --build=sparc-sun-sunos4.1\n+./configure --host=sparc-sun-sunos4.1\n @end smallexample\n \n A configuration name may be canonical or it may be more or less"}, {"sha": "894ffe7c3fc50ab1c93801199f539514fd361ad0", "filename": "gcc/invoke.texi", "status": "modified", "additions": 21, "deletions": 3, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Finvoke.texi?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -119,7 +119,8 @@ in the following sections.\n -Wcast-align  -Wcast-qual  -Wchar-subscript  -Wcomment\n -Wconversion  -Werror  -Wformat\n -Wid-clash-@var{len}  -Wimplicit -Wimplicit-int \n--Wimplicit-function-declarations -Wimport  -Winline\n+-Wimplicit-function-declaration  -Wimport\n+-Werror-implicit-function-declaration  -Winline\n -Wlarger-than-@var{len}  -Wmain  -Wmissing-declarations\n -Wmissing-prototypes  -Wnested-externs  -Wno-import  \n -Wold-style-cast  -Woverloaded-virtual  -Wparentheses\n@@ -1269,8 +1270,10 @@ specified.\n @item -Wimplicit-int\n Warn when a declaration does not specify a type.\n \n-@item -Wimplicit-function-declarations\n-Warn whenever a function is used before being declared.\n+@item -Wimplicit-function-declaration\n+@itemx -Werror-implicit-function-declaration\n+Give a warning (or error) whenever a function is used before being\n+declared.\n \n @item -Wimplicit\n Same as @samp{-Wimplicit-int} and @samp{-Wimplicit-function-}@*\n@@ -1963,6 +1966,21 @@ Dump after instruction combination, to the file @file{@var{file}.combine}.\n @item d\n Dump after delayed branch scheduling, to @file{@var{file}.dbr}.\n @item D\n+Dump all macro definitions, at the end of preprocessing, in addition to\n+normal output.\n+@item y\n+Dump debugging information during parsing, to standard error.\n+@item r\n+Dump after RTL generation, to @file{@var{file}.rtl}.\n+@item x\n+Just generate RTL for a function instead of compiling it.  Usually used\n+with @samp{r}.\n+@item j\n+Dump after first jump optimization, to @file{@var{file}.jump}.\n+@item s\n+Dump after CSE (including the jump optimization that sometimes\n+follows CSE), to @file{@var{file}.cse}.\n+@item F\n Dump after purging ADDRESSOF, to @file{@var{file}.addressof}.\n @item f\n Dump after flow analysis, to @file{@var{file}.flow}."}, {"sha": "8a913deb85192348e7be1a2e947240e3990562a8", "filename": "gcc/libgcc2.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Flibgcc2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Flibgcc2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flibgcc2.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -3682,7 +3682,6 @@ __throw ()\n #endif /* DWARF2_UNWIND_INFO */\n \n #endif /* L_eh */\n-\n \f\n #ifdef L_pure\n #ifndef inhibit_libc"}, {"sha": "51e554d2965e2bd23e826648e15f12b0d85a8ba8", "filename": "gcc/loop.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Floop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Floop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -480,6 +480,8 @@ loop_optimize (f, dumpfile, unroll_p)\n   /* See if we went too far.  */\n   if (get_max_uid () > max_uid_for_loop)\n     abort ();\n+  /* Now reset it to the actual size we need.  See above.  */\n+  max_uid_for_loop = get_max_uid () + 1;\n \n   /* Compute the mapping from uids to luids.\n      LUIDs are numbers assigned to insns, like uids,\n@@ -4115,7 +4117,8 @@ strength_reduce (scan_start, end, loop_top, insn_count,\n \t\t  /* We don't handle reversed biv's because bl->biv->insn\n \t\t     does not have a valid INSN_LUID.  */\n \t\t  && ! bl->reversed\n-\t\t  && v->always_executed && ! v->maybe_multiple)\n+\t\t  && v->always_executed && ! v->maybe_multiple\n+\t\t  && INSN_UID (v->insn) < max_uid_for_loop)\n \t\t{\n \t\t  /* If other giv's have been combined with this one, then\n \t\t     this will work only if all uses of the other giv's occur"}, {"sha": "2fcff2f0a188ee858e1a5207d0da8395bfc3c7f8", "filename": "gcc/md.texi", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fmd.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fmd.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmd.texi?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,4 +1,4 @@\n-@c Copyright (C) 1988,89,92,93,94,96 Free Software Foundation, Inc.\n+@c Copyright (C) 1988, 89, 92, 93, 94, 96, 1998 Free Software Foundation, Inc.\n @c This is part of the GCC manual.\n @c For copying conditions, see the file gcc.texi.\n \n@@ -2184,8 +2184,8 @@ The above discussion also applies to the @samp{mov@var{mode}cc} and\n @item @samp{call}\n Subroutine call instruction returning no value.  Operand 0 is the\n function to call; operand 1 is the number of bytes of arguments pushed\n-(in mode @code{SImode}, except it is normally a @code{const_int});\n-operand 2 is the number of registers used as operands.\n+as a @code{const_int}; operand 2 is the number of registers used as\n+operands.\n \n On most machines, operand 2 is not actually stored into the RTL\n pattern.  It is supplied for the sake of some RISC machines which need"}, {"sha": "6d76eefafcfb523c58eabb6257188883036af550", "filename": "gcc/objc/objc-parse.c", "status": "modified", "additions": 504, "deletions": 498, "changes": 1002, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fobjc%2Fobjc-parse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fobjc%2Fobjc-parse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-parse.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -94,10 +94,10 @@ char *language_string = \"GNU Obj-C\";\n /* Cause the `yydebug' variable to be defined.  */\n #define YYDEBUG 1\n \n-#line 71 \"objc-parse.y\"\n+#line 64 \"objc-parse.y\"\n typedef union {long itype; tree ttype; enum tree_code code;\n \tchar *filename; int lineno; int ends_in_label; } YYSTYPE;\n-#line 198 \"objc-parse.y\"\n+#line 191 \"objc-parse.y\"\n \n /* Number of statements (loosely speaking) and compound statements \n    seen so far.  */\n@@ -426,62 +426,62 @@ static const short yyrhs[] = {    -1,\n \n #if YYDEBUG != 0\n static const short yyrline[] = { 0,\n-   238,   243,   257,   259,   259,   260,   262,   264,   265,   266,\n-   274,   278,   289,   294,   299,   301,   303,   304,   305,   310,\n-   317,   319,   324,   329,   335,   337,   342,   347,   353,   355,\n-   360,   367,   369,   370,   371,   374,   376,   378,   380,   382,\n-   384,   386,   390,   394,   397,   400,   403,   407,   409,   412,\n-   415,   419,   447,   453,   456,   459,   462,   464,   468,   472,\n-   476,   478,   481,   485,   512,   514,   516,   518,   520,   522,\n-   524,   526,   528,   530,   532,   534,   536,   538,   542,   544,\n-   548,   550,   553,   557,   559,   566,   569,   572,   578,   738,\n-   739,   741,   747,   749,   763,   786,   788,   790,   802,   816,\n-   818,   820,   822,   824,   826,   828,   833,   835,   841,   843,\n-   847,   849,   850,   860,   865,   867,   868,   869,   876,   882,\n-   887,   890,   898,   903,   905,   906,   907,   914,   925,   929,\n-   935,   940,   945,   950,   952,   954,   963,   966,   970,   972,\n-   974,   979,   983,   986,   990,   993,   995,  1007,  1010,  1012,\n-  1014,  1018,  1022,  1024,  1027,  1040,  1043,  1047,  1049,  1057,\n-  1058,  1059,  1063,  1065,  1070,  1072,  1074,  1080,  1081,  1082,\n-  1085,  1087,  1090,  1092,  1095,  1098,  1104,  1111,  1113,  1120,\n-  1127,  1130,  1137,  1140,  1144,  1147,  1151,  1156,  1159,  1163,\n-  1166,  1168,  1170,  1172,  1179,  1181,  1182,  1183,  1188,  1190,\n-  1195,  1203,  1208,  1212,  1215,  1217,  1222,  1225,  1227,  1229,\n-  1233,  1236,  1236,  1239,  1241,  1252,  1260,  1264,  1275,  1283,\n-  1290,  1292,  1297,  1300,  1305,  1307,  1309,  1316,  1318,  1319,\n-  1327,  1333,  1335,  1337,  1344,  1346,  1352,  1358,  1360,  1362,\n-  1364,  1371,  1373,  1376,  1381,  1383,  1387,  1389,  1391,  1393,\n-  1397,  1399,  1402,  1405,  1408,  1411,  1415,  1417,  1420,  1422,\n-  1426,  1429,  1434,  1436,  1438,  1442,  1466,  1473,  1478,  1484,\n-  1489,  1491,  1496,  1498,  1502,  1506,  1510,  1520,  1522,  1527,\n-  1532,  1535,  1539,  1542,  1546,  1549,  1552,  1555,  1559,  1562,\n-  1566,  1570,  1572,  1574,  1576,  1578,  1580,  1582,  1584,  1594,\n-  1602,  1604,  1606,  1610,  1612,  1615,  1618,  1631,  1633,  1638,\n-  1640,  1643,  1657,  1660,  1663,  1665,  1667,  1675,  1683,  1694,\n-  1699,  1702,  1716,  1725,  1729,  1733,  1737,  1743,  1747,  1752,\n-  1755,  1760,  1763,  1764,  1781,  1786,  1789,  1801,  1803,  1813,\n-  1823,  1824,  1832,  1835,  1847,  1851,  1868,  1878,  1887,  1892,\n-  1897,  1902,  1906,  1910,  1921,  1928,  1935,  1942,  1953,  1959,\n-  1962,  1967,  1990,  2024,  2049,  2080,  2095,  2106,  2110,  2114,\n-  2117,  2122,  2124,  2127,  2129,  2133,  2138,  2141,  2147,  2152,\n-  2157,  2159,  2168,  2169,  2175,  2177,  2187,  2189,  2193,  2196,\n-  2202,  2212,  2221,  2230,  2240,  2254,  2259,  2264,  2266,  2275,\n-  2278,  2283,  2286,  2290,  2298,  2300,  2301,  2302,  2303,  2304,\n-  2318,  2321,  2325,  2331,  2337,  2344,  2349,  2355,  2362,  2368,\n-  2374,  2379,  2385,  2392,  2398,  2404,  2410,  2418,  2424,  2430,\n-  2438,  2445,  2451,  2460,  2467,  2475,  2480,  2483,  2493,  2495,\n-  2498,  2500,  2501,  2504,  2509,  2510,  2527,  2534,  2540,  2544,\n-  2547,  2548,  2551,  2559,  2565,  2574,  2584,  2591,  2595,  2600,\n-  2609,  2616,  2620,  2630,  2632,  2633,  2635,  2637,  2638,  2639,\n-  2640,  2642,  2644,  2647,  2655,  2662,  2662,  2669,  2675,  2677,\n-  2683,  2688,  2693,  2702,  2704,  2710,  2712,  2715,  2717,  2718,\n-  2719,  2722,  2728,  2730,  2734,  2737,  2744,  2750,  2755,  2762,\n-  2767,  2772,  2777,  2784,  2788,  2791,  2797,  2799,  2800,  2801,\n-  2804,  2806,  2807,  2808,  2809,  2810,  2811,  2812,  2813,  2814,\n-  2815,  2816,  2817,  2818,  2819,  2820,  2821,  2822,  2823,  2824,\n-  2824,  2827,  2833,  2838,  2843,  2849,  2851,  2854,  2856,  2863,\n-  2875,  2880,  2886,  2888,  2894,  2898,  2899,  2905,  2907,  2910,\n-  2912,  2918,  2923,  2929,  2936,  2945\n+   231,   236,   250,   252,   252,   253,   255,   257,   258,   259,\n+   267,   271,   282,   287,   292,   294,   296,   297,   298,   303,\n+   310,   312,   317,   322,   328,   330,   335,   340,   346,   348,\n+   353,   360,   362,   363,   364,   367,   369,   371,   373,   375,\n+   377,   379,   383,   387,   390,   393,   396,   400,   402,   405,\n+   408,   412,   440,   446,   449,   452,   455,   457,   461,   465,\n+   469,   471,   474,   478,   505,   507,   509,   511,   513,   515,\n+   517,   519,   521,   523,   525,   527,   529,   531,   535,   537,\n+   541,   543,   546,   550,   552,   559,   562,   565,   571,   731,\n+   732,   734,   740,   742,   756,   779,   781,   783,   795,   809,\n+   811,   813,   815,   817,   819,   821,   826,   828,   834,   836,\n+   840,   842,   843,   853,   858,   860,   861,   862,   869,   875,\n+   880,   883,   891,   896,   898,   899,   900,   907,   918,   922,\n+   928,   933,   938,   943,   945,   947,   956,   959,   963,   965,\n+   967,   972,   976,   979,   983,   986,   988,  1000,  1003,  1005,\n+  1007,  1011,  1015,  1017,  1020,  1033,  1036,  1040,  1042,  1050,\n+  1051,  1052,  1056,  1058,  1063,  1065,  1067,  1073,  1074,  1075,\n+  1078,  1080,  1083,  1085,  1088,  1091,  1097,  1104,  1106,  1113,\n+  1120,  1123,  1130,  1133,  1137,  1140,  1144,  1149,  1152,  1156,\n+  1159,  1161,  1163,  1165,  1172,  1174,  1175,  1176,  1181,  1183,\n+  1188,  1196,  1201,  1205,  1208,  1210,  1215,  1218,  1220,  1222,\n+  1226,  1229,  1229,  1232,  1234,  1245,  1253,  1257,  1268,  1276,\n+  1283,  1285,  1290,  1293,  1298,  1300,  1302,  1309,  1311,  1312,\n+  1320,  1326,  1328,  1330,  1337,  1339,  1345,  1351,  1353,  1355,\n+  1357,  1364,  1366,  1369,  1374,  1376,  1380,  1382,  1384,  1386,\n+  1390,  1392,  1395,  1398,  1401,  1404,  1408,  1410,  1413,  1415,\n+  1419,  1422,  1427,  1429,  1431,  1435,  1459,  1466,  1471,  1477,\n+  1482,  1484,  1489,  1491,  1495,  1499,  1503,  1513,  1515,  1520,\n+  1525,  1528,  1532,  1535,  1539,  1542,  1545,  1548,  1552,  1555,\n+  1559,  1563,  1565,  1567,  1569,  1571,  1573,  1575,  1577,  1587,\n+  1595,  1597,  1599,  1603,  1605,  1608,  1611,  1624,  1626,  1631,\n+  1633,  1636,  1650,  1653,  1656,  1658,  1660,  1668,  1676,  1687,\n+  1692,  1695,  1709,  1718,  1722,  1726,  1730,  1736,  1740,  1745,\n+  1748,  1753,  1756,  1757,  1774,  1779,  1782,  1794,  1796,  1806,\n+  1816,  1817,  1825,  1828,  1840,  1844,  1861,  1871,  1880,  1885,\n+  1890,  1895,  1899,  1903,  1914,  1921,  1928,  1935,  1946,  1952,\n+  1955,  1960,  1983,  2017,  2048,  2079,  2094,  2105,  2109,  2113,\n+  2116,  2121,  2123,  2126,  2128,  2132,  2137,  2140,  2146,  2151,\n+  2156,  2158,  2167,  2168,  2174,  2176,  2186,  2188,  2192,  2195,\n+  2201,  2211,  2220,  2229,  2239,  2253,  2258,  2263,  2265,  2274,\n+  2277,  2282,  2285,  2289,  2297,  2299,  2300,  2301,  2302,  2303,\n+  2317,  2320,  2324,  2330,  2336,  2343,  2348,  2354,  2361,  2367,\n+  2373,  2378,  2384,  2391,  2397,  2403,  2409,  2417,  2423,  2429,\n+  2437,  2444,  2450,  2459,  2466,  2474,  2479,  2482,  2492,  2494,\n+  2497,  2499,  2500,  2503,  2508,  2509,  2526,  2533,  2539,  2543,\n+  2546,  2547,  2550,  2558,  2564,  2573,  2583,  2590,  2594,  2599,\n+  2608,  2615,  2619,  2629,  2631,  2632,  2634,  2636,  2637,  2638,\n+  2639,  2641,  2643,  2646,  2654,  2661,  2661,  2668,  2674,  2676,\n+  2682,  2687,  2692,  2701,  2703,  2709,  2711,  2714,  2716,  2717,\n+  2718,  2721,  2727,  2729,  2733,  2736,  2743,  2749,  2754,  2761,\n+  2766,  2771,  2776,  2783,  2787,  2790,  2796,  2798,  2799,  2800,\n+  2803,  2805,  2806,  2807,  2808,  2809,  2810,  2811,  2812,  2813,\n+  2814,  2815,  2816,  2817,  2818,  2819,  2820,  2821,  2822,  2823,\n+  2823,  2826,  2832,  2837,  2842,  2848,  2850,  2853,  2855,  2862,\n+  2874,  2879,  2885,  2887,  2893,  2897,  2898,  2904,  2906,  2909,\n+  2911,  2917,  2922,  2928,  2935,  2944\n };\n #endif\n \n@@ -1631,7 +1631,7 @@ static const short yycheck[] = {     9,\n     48,    49,    50,    51,    52\n };\n /* -*-C-*-  Note some compilers choke on comments on `#line' lines.  */\n-#line 3 \"/usr/cygnus/progressive-97r2/share/bison.simple\"\n+#line 3 \"/usr/share/bison.simple\"\n \n /* Skeleton output parser for bison,\n    Copyright (C) 1984, 1989, 1990 Free Software Foundation, Inc.\n@@ -1824,7 +1824,7 @@ __yy_memcpy (char *to, char *from, int count)\n #endif\n #endif\n \f\n-#line 196 \"/usr/cygnus/progressive-97r2/share/bison.simple\"\n+#line 196 \"/usr/share/bison.simple\"\n \n /* The user can define YYPARSE_PARAM as the name of an argument to be passed\n    into yyparse.  The argument should have type void *.\n@@ -2129,14 +2129,14 @@ yyparse(YYPARSE_PARAM_ARG)\n   switch (yyn) {\n \n case 1:\n-#line 239 \"objc-parse.y\"\n+#line 232 \"objc-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids an empty source file\");\n \t\t  finish_file ();\n \t\t;\n     break;}\n case 2:\n-#line 244 \"objc-parse.y\"\n+#line 237 \"objc-parse.y\"\n {\n \t\t  /* In case there were missing closebraces,\n \t\t     get us back to the global binding level.  */\n@@ -2146,15 +2146,15 @@ case 2:\n \t\t;\n     break;}\n case 3:\n-#line 258 \"objc-parse.y\"\n+#line 251 \"objc-parse.y\"\n {yyval.ttype = NULL_TREE; ;\n     break;}\n case 5:\n-#line 259 \"objc-parse.y\"\n+#line 252 \"objc-parse.y\"\n {yyval.ttype = NULL_TREE; ;\n     break;}\n case 10:\n-#line 267 \"objc-parse.y\"\n+#line 260 \"objc-parse.y\"\n { STRIP_NOPS (yyvsp[-2].ttype);\n \t\t  if ((TREE_CODE (yyvsp[-2].ttype) == ADDR_EXPR\n \t\t       && TREE_CODE (TREE_OPERAND (yyvsp[-2].ttype, 0)) == STRING_CST)\n@@ -2164,11 +2164,11 @@ case 10:\n \t\t    error (\"argument of `asm' is not a constant string\"); ;\n     break;}\n case 11:\n-#line 275 \"objc-parse.y\"\n+#line 268 \"objc-parse.y\"\n { pedantic = yyvsp[-1].itype; ;\n     break;}\n case 12:\n-#line 280 \"objc-parse.y\"\n+#line 273 \"objc-parse.y\"\n { if (pedantic)\n \t\t    error (\"ANSI C forbids data definition with no type or storage class\");\n \t\t  else if (!flag_traditional)\n@@ -2180,170 +2180,170 @@ case 12:\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 13:\n-#line 290 \"objc-parse.y\"\n+#line 283 \"objc-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 14:\n-#line 295 \"objc-parse.y\"\n+#line 288 \"objc-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype);  ;\n     break;}\n case 15:\n-#line 300 \"objc-parse.y\"\n+#line 293 \"objc-parse.y\"\n { pedwarn (\"empty declaration\"); ;\n     break;}\n case 16:\n-#line 302 \"objc-parse.y\"\n+#line 295 \"objc-parse.y\"\n { shadow_tag (yyvsp[-1].ttype); ;\n     break;}\n case 19:\n-#line 306 \"objc-parse.y\"\n+#line 299 \"objc-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C does not allow extra `;' outside of a function\"); ;\n     break;}\n case 20:\n-#line 312 \"objc-parse.y\"\n+#line 305 \"objc-parse.y\"\n { if (! start_function (current_declspecs, yyvsp[0].ttype,\n \t\t\t\t\tprefix_attributes, NULL_TREE, 0))\n \t\t    YYERROR1;\n \t\t  reinit_parse_for_function (); ;\n     break;}\n case 21:\n-#line 317 \"objc-parse.y\"\n+#line 310 \"objc-parse.y\"\n { store_parm_decls (); ;\n     break;}\n case 22:\n-#line 319 \"objc-parse.y\"\n+#line 312 \"objc-parse.y\"\n { finish_function (0); \n \t\t  current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-5].itype); ;\n     break;}\n case 23:\n-#line 325 \"objc-parse.y\"\n+#line 318 \"objc-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 24:\n-#line 330 \"objc-parse.y\"\n+#line 323 \"objc-parse.y\"\n { if (! start_function (current_declspecs, yyvsp[0].ttype,\n \t\t\t\t\tprefix_attributes, NULL_TREE, 0))\n \t\t    YYERROR1;\n \t\t  reinit_parse_for_function (); ;\n     break;}\n case 25:\n-#line 335 \"objc-parse.y\"\n+#line 328 \"objc-parse.y\"\n { store_parm_decls (); ;\n     break;}\n case 26:\n-#line 337 \"objc-parse.y\"\n+#line 330 \"objc-parse.y\"\n { finish_function (0); \n \t\t  current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-5].itype); ;\n     break;}\n case 27:\n-#line 343 \"objc-parse.y\"\n+#line 336 \"objc-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 28:\n-#line 348 \"objc-parse.y\"\n+#line 341 \"objc-parse.y\"\n { if (! start_function (NULL_TREE, yyvsp[0].ttype,\n \t\t\t\t\tprefix_attributes, NULL_TREE, 0))\n \t\t    YYERROR1;\n \t\t  reinit_parse_for_function (); ;\n     break;}\n case 29:\n-#line 353 \"objc-parse.y\"\n+#line 346 \"objc-parse.y\"\n { store_parm_decls (); ;\n     break;}\n case 30:\n-#line 355 \"objc-parse.y\"\n+#line 348 \"objc-parse.y\"\n { finish_function (0); \n \t\t  current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-5].itype); ;\n     break;}\n case 31:\n-#line 361 \"objc-parse.y\"\n+#line 354 \"objc-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 36:\n-#line 375 \"objc-parse.y\"\n+#line 368 \"objc-parse.y\"\n { yyval.code = ADDR_EXPR; ;\n     break;}\n case 37:\n-#line 377 \"objc-parse.y\"\n+#line 370 \"objc-parse.y\"\n { yyval.code = NEGATE_EXPR; ;\n     break;}\n case 38:\n-#line 379 \"objc-parse.y\"\n+#line 372 \"objc-parse.y\"\n { yyval.code = CONVERT_EXPR; ;\n     break;}\n case 39:\n-#line 381 \"objc-parse.y\"\n+#line 374 \"objc-parse.y\"\n { yyval.code = PREINCREMENT_EXPR; ;\n     break;}\n case 40:\n-#line 383 \"objc-parse.y\"\n+#line 376 \"objc-parse.y\"\n { yyval.code = PREDECREMENT_EXPR; ;\n     break;}\n case 41:\n-#line 385 \"objc-parse.y\"\n+#line 378 \"objc-parse.y\"\n { yyval.code = BIT_NOT_EXPR; ;\n     break;}\n case 42:\n-#line 387 \"objc-parse.y\"\n+#line 380 \"objc-parse.y\"\n { yyval.code = TRUTH_NOT_EXPR; ;\n     break;}\n case 43:\n-#line 391 \"objc-parse.y\"\n+#line 384 \"objc-parse.y\"\n { yyval.ttype = build_compound_expr (yyvsp[0].ttype); ;\n     break;}\n case 44:\n-#line 396 \"objc-parse.y\"\n+#line 389 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 46:\n-#line 402 \"objc-parse.y\"\n+#line 395 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 47:\n-#line 404 \"objc-parse.y\"\n+#line 397 \"objc-parse.y\"\n { chainon (yyvsp[-2].ttype, build_tree_list (NULL_TREE, yyvsp[0].ttype)); ;\n     break;}\n case 49:\n-#line 410 \"objc-parse.y\"\n+#line 403 \"objc-parse.y\"\n { yyval.ttype = build_indirect_ref (yyvsp[0].ttype, \"unary *\"); ;\n     break;}\n case 50:\n-#line 413 \"objc-parse.y\"\n+#line 406 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  pedantic = yyvsp[-1].itype; ;\n     break;}\n case 51:\n-#line 416 \"objc-parse.y\"\n+#line 409 \"objc-parse.y\"\n { yyval.ttype = build_unary_op (yyvsp[-1].code, yyvsp[0].ttype, 0);\n \t\t  overflow_warning (yyval.ttype); ;\n     break;}\n case 52:\n-#line 420 \"objc-parse.y\"\n+#line 413 \"objc-parse.y\"\n { tree label = lookup_label (yyvsp[0].ttype);\n \t\t  if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids `&&'\");\n@@ -2358,57 +2358,57 @@ case 52:\n \t\t;\n     break;}\n case 53:\n-#line 448 \"objc-parse.y\"\n+#line 441 \"objc-parse.y\"\n { skip_evaluation--;\n \t\t  if (TREE_CODE (yyvsp[0].ttype) == COMPONENT_REF\n \t\t      && DECL_C_BIT_FIELD (TREE_OPERAND (yyvsp[0].ttype, 1)))\n \t\t    error (\"`sizeof' applied to a bit-field\");\n \t\t  yyval.ttype = c_sizeof (TREE_TYPE (yyvsp[0].ttype)); ;\n     break;}\n case 54:\n-#line 454 \"objc-parse.y\"\n+#line 447 \"objc-parse.y\"\n { skip_evaluation--;\n \t\t  yyval.ttype = c_sizeof (groktypename (yyvsp[-1].ttype)); ;\n     break;}\n case 55:\n-#line 457 \"objc-parse.y\"\n+#line 450 \"objc-parse.y\"\n { skip_evaluation--;\n \t\t  yyval.ttype = c_alignof_expr (yyvsp[0].ttype); ;\n     break;}\n case 56:\n-#line 460 \"objc-parse.y\"\n+#line 453 \"objc-parse.y\"\n { skip_evaluation--;\n \t\t  yyval.ttype = c_alignof (groktypename (yyvsp[-1].ttype)); ;\n     break;}\n case 57:\n-#line 463 \"objc-parse.y\"\n+#line 456 \"objc-parse.y\"\n { yyval.ttype = build_unary_op (REALPART_EXPR, yyvsp[0].ttype, 0); ;\n     break;}\n case 58:\n-#line 465 \"objc-parse.y\"\n+#line 458 \"objc-parse.y\"\n { yyval.ttype = build_unary_op (IMAGPART_EXPR, yyvsp[0].ttype, 0); ;\n     break;}\n case 59:\n-#line 469 \"objc-parse.y\"\n+#line 462 \"objc-parse.y\"\n { skip_evaluation++; ;\n     break;}\n case 60:\n-#line 473 \"objc-parse.y\"\n+#line 466 \"objc-parse.y\"\n { skip_evaluation++; ;\n     break;}\n case 62:\n-#line 479 \"objc-parse.y\"\n+#line 472 \"objc-parse.y\"\n { tree type = groktypename (yyvsp[-2].ttype);\n \t\t  yyval.ttype = build_c_cast (type, yyvsp[0].ttype); ;\n     break;}\n case 63:\n-#line 482 \"objc-parse.y\"\n+#line 475 \"objc-parse.y\"\n { start_init (NULL_TREE, NULL, 0);\n \t\t  yyvsp[-2].ttype = groktypename (yyvsp[-2].ttype);\n \t\t  really_start_incremental_init (yyvsp[-2].ttype); ;\n     break;}\n case 64:\n-#line 486 \"objc-parse.y\"\n+#line 479 \"objc-parse.y\"\n { char *name;\n \t\t  tree result = pop_init_level (0);\n \t\t  tree type = yyvsp[-5].ttype;\n@@ -2435,90 +2435,90 @@ case 64:\n \t\t;\n     break;}\n case 66:\n-#line 515 \"objc-parse.y\"\n+#line 508 \"objc-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 67:\n-#line 517 \"objc-parse.y\"\n+#line 510 \"objc-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 68:\n-#line 519 \"objc-parse.y\"\n+#line 512 \"objc-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 69:\n-#line 521 \"objc-parse.y\"\n+#line 514 \"objc-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 70:\n-#line 523 \"objc-parse.y\"\n+#line 516 \"objc-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 71:\n-#line 525 \"objc-parse.y\"\n+#line 518 \"objc-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 72:\n-#line 527 \"objc-parse.y\"\n+#line 520 \"objc-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 73:\n-#line 529 \"objc-parse.y\"\n+#line 522 \"objc-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 74:\n-#line 531 \"objc-parse.y\"\n+#line 524 \"objc-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 75:\n-#line 533 \"objc-parse.y\"\n+#line 526 \"objc-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 76:\n-#line 535 \"objc-parse.y\"\n+#line 528 \"objc-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 77:\n-#line 537 \"objc-parse.y\"\n+#line 530 \"objc-parse.y\"\n { yyval.ttype = parser_build_binary_op (yyvsp[-1].code, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 78:\n-#line 539 \"objc-parse.y\"\n+#line 532 \"objc-parse.y\"\n { yyvsp[-1].ttype = truthvalue_conversion (default_conversion (yyvsp[-1].ttype));\n \t\t  skip_evaluation += yyvsp[-1].ttype == boolean_false_node; ;\n     break;}\n case 79:\n-#line 542 \"objc-parse.y\"\n+#line 535 \"objc-parse.y\"\n { skip_evaluation -= yyvsp[-3].ttype == boolean_false_node;\n \t\t  yyval.ttype = parser_build_binary_op (TRUTH_ANDIF_EXPR, yyvsp[-3].ttype, yyvsp[0].ttype); ;\n     break;}\n case 80:\n-#line 545 \"objc-parse.y\"\n+#line 538 \"objc-parse.y\"\n { yyvsp[-1].ttype = truthvalue_conversion (default_conversion (yyvsp[-1].ttype));\n \t\t  skip_evaluation += yyvsp[-1].ttype == boolean_true_node; ;\n     break;}\n case 81:\n-#line 548 \"objc-parse.y\"\n+#line 541 \"objc-parse.y\"\n { skip_evaluation -= yyvsp[-3].ttype == boolean_true_node;\n \t\t  yyval.ttype = parser_build_binary_op (TRUTH_ORIF_EXPR, yyvsp[-3].ttype, yyvsp[0].ttype); ;\n     break;}\n case 82:\n-#line 551 \"objc-parse.y\"\n+#line 544 \"objc-parse.y\"\n { yyvsp[-1].ttype = truthvalue_conversion (default_conversion (yyvsp[-1].ttype));\n \t\t  skip_evaluation += yyvsp[-1].ttype == boolean_false_node; ;\n     break;}\n case 83:\n-#line 554 \"objc-parse.y\"\n+#line 547 \"objc-parse.y\"\n { skip_evaluation += ((yyvsp[-4].ttype == boolean_true_node)\n \t\t\t\t      - (yyvsp[-4].ttype == boolean_false_node)); ;\n     break;}\n case 84:\n-#line 557 \"objc-parse.y\"\n+#line 550 \"objc-parse.y\"\n { skip_evaluation -= yyvsp[-6].ttype == boolean_true_node;\n \t\t  yyval.ttype = build_conditional_expr (yyvsp[-6].ttype, yyvsp[-3].ttype, yyvsp[0].ttype); ;\n     break;}\n case 85:\n-#line 560 \"objc-parse.y\"\n+#line 553 \"objc-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids omitting the middle term of a ?: expression\");\n \t\t  /* Make sure first operand is calculated only once.  */\n@@ -2527,23 +2527,23 @@ case 85:\n \t\t  skip_evaluation += yyvsp[-1].ttype == boolean_true_node; ;\n     break;}\n case 86:\n-#line 567 \"objc-parse.y\"\n+#line 560 \"objc-parse.y\"\n { skip_evaluation -= yyvsp[-4].ttype == boolean_true_node;\n \t\t  yyval.ttype = build_conditional_expr (yyvsp[-4].ttype, yyvsp[-3].ttype, yyvsp[0].ttype); ;\n     break;}\n case 87:\n-#line 570 \"objc-parse.y\"\n+#line 563 \"objc-parse.y\"\n { yyval.ttype = build_modify_expr (yyvsp[-2].ttype, NOP_EXPR, yyvsp[0].ttype);\n \t\t  C_SET_EXP_ORIGINAL_CODE (yyval.ttype, MODIFY_EXPR); ;\n     break;}\n case 88:\n-#line 573 \"objc-parse.y\"\n+#line 566 \"objc-parse.y\"\n { yyval.ttype = build_modify_expr (yyvsp[-2].ttype, yyvsp[-1].code, yyvsp[0].ttype);\n \t\t  /* This inhibits warnings in truthvalue_conversion.  */\n \t\t  C_SET_EXP_ORIGINAL_CODE (yyval.ttype, ERROR_MARK); ;\n     break;}\n case 89:\n-#line 580 \"objc-parse.y\"\n+#line 573 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = lastiddecl;\n \t\t  if (!yyval.ttype || yyval.ttype == error_mark_node)\n@@ -2704,23 +2704,23 @@ case 89:\n \t\t;\n     break;}\n case 91:\n-#line 740 \"objc-parse.y\"\n+#line 733 \"objc-parse.y\"\n { yyval.ttype = combine_strings (yyvsp[0].ttype); ;\n     break;}\n case 92:\n-#line 742 \"objc-parse.y\"\n+#line 735 \"objc-parse.y\"\n { char class = TREE_CODE_CLASS (TREE_CODE (yyvsp[-1].ttype));\n \t\t  if (class == 'e' || class == '1'\n \t\t      || class == '2' || class == '<')\n \t\t    C_SET_EXP_ORIGINAL_CODE (yyvsp[-1].ttype, ERROR_MARK);\n \t\t  yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 93:\n-#line 748 \"objc-parse.y\"\n+#line 741 \"objc-parse.y\"\n { yyval.ttype = error_mark_node; ;\n     break;}\n case 94:\n-#line 750 \"objc-parse.y\"\n+#line 743 \"objc-parse.y\"\n { if (current_function_decl == 0)\n \t\t    {\n \t\t      error (\"braced-group within expression allowed only inside a function\");\n@@ -2736,7 +2736,7 @@ case 94:\n \t\t  yyval.ttype = expand_start_stmt_expr (); ;\n     break;}\n case 95:\n-#line 764 \"objc-parse.y\"\n+#line 757 \"objc-parse.y\"\n { tree rtl_exp;\n \t\t  if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids braced-groups within expressions\");\n@@ -2761,15 +2761,15 @@ case 95:\n \t\t;\n     break;}\n case 96:\n-#line 787 \"objc-parse.y\"\n+#line 780 \"objc-parse.y\"\n { yyval.ttype = build_function_call (yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 97:\n-#line 789 \"objc-parse.y\"\n+#line 782 \"objc-parse.y\"\n { yyval.ttype = build_array_ref (yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 98:\n-#line 791 \"objc-parse.y\"\n+#line 784 \"objc-parse.y\"\n {\n                   if (doing_objc_thang)\n                     {\n@@ -2783,7 +2783,7 @@ case 98:\n \t\t;\n     break;}\n case 99:\n-#line 803 \"objc-parse.y\"\n+#line 796 \"objc-parse.y\"\n {\n                   tree expr = build_indirect_ref (yyvsp[-2].ttype, \"->\");\n \n@@ -2799,80 +2799,80 @@ case 99:\n \t\t;\n     break;}\n case 100:\n-#line 817 \"objc-parse.y\"\n+#line 810 \"objc-parse.y\"\n { yyval.ttype = build_unary_op (POSTINCREMENT_EXPR, yyvsp[-1].ttype, 0); ;\n     break;}\n case 101:\n-#line 819 \"objc-parse.y\"\n+#line 812 \"objc-parse.y\"\n { yyval.ttype = build_unary_op (POSTDECREMENT_EXPR, yyvsp[-1].ttype, 0); ;\n     break;}\n case 102:\n-#line 821 \"objc-parse.y\"\n+#line 814 \"objc-parse.y\"\n { yyval.ttype = build_message_expr (yyvsp[0].ttype); ;\n     break;}\n case 103:\n-#line 823 \"objc-parse.y\"\n+#line 816 \"objc-parse.y\"\n { yyval.ttype = build_selector_expr (yyvsp[0].ttype); ;\n     break;}\n case 104:\n-#line 825 \"objc-parse.y\"\n+#line 818 \"objc-parse.y\"\n { yyval.ttype = build_protocol_expr (yyvsp[0].ttype); ;\n     break;}\n case 105:\n-#line 827 \"objc-parse.y\"\n+#line 820 \"objc-parse.y\"\n { yyval.ttype = build_encode_expr (yyvsp[0].ttype); ;\n     break;}\n case 106:\n-#line 829 \"objc-parse.y\"\n+#line 822 \"objc-parse.y\"\n { yyval.ttype = build_objc_string_object (yyvsp[0].ttype); ;\n     break;}\n case 108:\n-#line 836 \"objc-parse.y\"\n+#line 829 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 110:\n-#line 844 \"objc-parse.y\"\n+#line 837 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 113:\n-#line 852 \"objc-parse.y\"\n+#line 845 \"objc-parse.y\"\n { c_mark_varargs ();\n \t\t  if (pedantic)\n \t\t    pedwarn (\"ANSI C does not permit use of `varargs.h'\"); ;\n     break;}\n case 114:\n-#line 862 \"objc-parse.y\"\n+#line 855 \"objc-parse.y\"\n { ;\n     break;}\n case 119:\n-#line 878 \"objc-parse.y\"\n+#line 871 \"objc-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 120:\n-#line 883 \"objc-parse.y\"\n+#line 876 \"objc-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\t\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 121:\n-#line 888 \"objc-parse.y\"\n+#line 881 \"objc-parse.y\"\n { shadow_tag_warned (yyvsp[-1].ttype, 1);\n \t\t  pedwarn (\"empty declaration\"); ;\n     break;}\n case 122:\n-#line 891 \"objc-parse.y\"\n+#line 884 \"objc-parse.y\"\n { pedwarn (\"empty declaration\"); ;\n     break;}\n case 123:\n-#line 900 \"objc-parse.y\"\n+#line 893 \"objc-parse.y\"\n { ;\n     break;}\n case 128:\n-#line 915 \"objc-parse.y\"\n+#line 908 \"objc-parse.y\"\n { yyval.itype = suspend_momentary ();\n \t\t  pending_xref_error ();\n \t\t  declspec_stack = tree_cons (prefix_attributes,\n@@ -2882,282 +2882,282 @@ case 128:\n \t\t\t\t     &current_declspecs, &prefix_attributes); ;\n     break;}\n case 129:\n-#line 926 \"objc-parse.y\"\n+#line 919 \"objc-parse.y\"\n { prefix_attributes = chainon (prefix_attributes, yyvsp[0].ttype); ;\n     break;}\n case 130:\n-#line 931 \"objc-parse.y\"\n+#line 924 \"objc-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 131:\n-#line 936 \"objc-parse.y\"\n+#line 929 \"objc-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 132:\n-#line 941 \"objc-parse.y\"\n+#line 934 \"objc-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-1].itype); ;\n     break;}\n case 133:\n-#line 946 \"objc-parse.y\"\n+#line 939 \"objc-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-1].itype); ;\n     break;}\n case 134:\n-#line 951 \"objc-parse.y\"\n+#line 944 \"objc-parse.y\"\n { shadow_tag (yyvsp[-1].ttype); ;\n     break;}\n case 135:\n-#line 953 \"objc-parse.y\"\n+#line 946 \"objc-parse.y\"\n { pedwarn (\"empty declaration\"); ;\n     break;}\n case 136:\n-#line 955 \"objc-parse.y\"\n+#line 948 \"objc-parse.y\"\n { pedantic = yyvsp[-1].itype; ;\n     break;}\n case 137:\n-#line 965 \"objc-parse.y\"\n+#line 958 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 138:\n-#line 967 \"objc-parse.y\"\n+#line 960 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[0].ttype, tree_cons (NULL_TREE, yyvsp[-1].ttype, yyvsp[-2].ttype)); ;\n     break;}\n case 139:\n-#line 971 \"objc-parse.y\"\n+#line 964 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 140:\n-#line 973 \"objc-parse.y\"\n+#line 966 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 141:\n-#line 975 \"objc-parse.y\"\n+#line 968 \"objc-parse.y\"\n { if (extra_warnings)\n \t\t    warning (\"`%s' is not at beginning of declaration\",\n \t\t\t     IDENTIFIER_POINTER (yyvsp[0].ttype));\n \t\t  yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 142:\n-#line 980 \"objc-parse.y\"\n+#line 973 \"objc-parse.y\"\n { yyval.ttype = tree_cons (yyvsp[0].ttype, NULL_TREE, yyvsp[-1].ttype); ;\n     break;}\n case 143:\n-#line 985 \"objc-parse.y\"\n+#line 978 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 144:\n-#line 987 \"objc-parse.y\"\n+#line 980 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[0].ttype, tree_cons (NULL_TREE, yyvsp[-1].ttype, yyvsp[-2].ttype)); ;\n     break;}\n case 145:\n-#line 992 \"objc-parse.y\"\n+#line 985 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 146:\n-#line 994 \"objc-parse.y\"\n+#line 987 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 147:\n-#line 996 \"objc-parse.y\"\n+#line 989 \"objc-parse.y\"\n { if (extra_warnings)\n \t\t    warning (\"`%s' is not at beginning of declaration\",\n \t\t\t     IDENTIFIER_POINTER (yyvsp[0].ttype));\n \t\t  yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 148:\n-#line 1009 \"objc-parse.y\"\n+#line 1002 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 149:\n-#line 1011 \"objc-parse.y\"\n+#line 1004 \"objc-parse.y\"\n { yyval.ttype = tree_cons (yyvsp[0].ttype, NULL_TREE, NULL_TREE); ;\n     break;}\n case 150:\n-#line 1013 \"objc-parse.y\"\n+#line 1006 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 151:\n-#line 1015 \"objc-parse.y\"\n+#line 1008 \"objc-parse.y\"\n { yyval.ttype = tree_cons (yyvsp[0].ttype, NULL_TREE, yyvsp[-1].ttype); ;\n     break;}\n case 152:\n-#line 1020 \"objc-parse.y\"\n+#line 1013 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, NULL_TREE);\n \t\t  TREE_STATIC (yyval.ttype) = 1; ;\n     break;}\n case 153:\n-#line 1023 \"objc-parse.y\"\n+#line 1016 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 154:\n-#line 1025 \"objc-parse.y\"\n+#line 1018 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype);\n \t\t  TREE_STATIC (yyval.ttype) = 1; ;\n     break;}\n case 155:\n-#line 1028 \"objc-parse.y\"\n+#line 1021 \"objc-parse.y\"\n { if (extra_warnings && TREE_STATIC (yyvsp[-1].ttype))\n \t\t    warning (\"`%s' is not at beginning of declaration\",\n \t\t\t     IDENTIFIER_POINTER (yyvsp[0].ttype));\n \t\t  yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype);\n \t\t  TREE_STATIC (yyval.ttype) = TREE_STATIC (yyvsp[-1].ttype); ;\n     break;}\n case 156:\n-#line 1042 \"objc-parse.y\"\n+#line 1035 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 157:\n-#line 1044 \"objc-parse.y\"\n+#line 1037 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[0].ttype, tree_cons (NULL_TREE, yyvsp[-1].ttype, yyvsp[-2].ttype)); ;\n     break;}\n case 158:\n-#line 1048 \"objc-parse.y\"\n+#line 1041 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 159:\n-#line 1050 \"objc-parse.y\"\n+#line 1043 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 162:\n-#line 1060 \"objc-parse.y\"\n+#line 1053 \"objc-parse.y\"\n { /* For a typedef name, record the meaning, not the name.\n \t\t     In case of `foo foo, bar;'.  */\n \t\t  yyval.ttype = lookup_name (yyvsp[0].ttype); ;\n     break;}\n case 163:\n-#line 1064 \"objc-parse.y\"\n+#line 1057 \"objc-parse.y\"\n { yyval.ttype = get_static_reference (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 164:\n-#line 1066 \"objc-parse.y\"\n+#line 1059 \"objc-parse.y\"\n { yyval.ttype = get_object_reference (yyvsp[0].ttype); ;\n     break;}\n case 165:\n-#line 1071 \"objc-parse.y\"\n+#line 1064 \"objc-parse.y\"\n { yyval.ttype = get_object_reference (yyvsp[0].ttype); ;\n     break;}\n case 166:\n-#line 1073 \"objc-parse.y\"\n+#line 1066 \"objc-parse.y\"\n { yyval.ttype = TREE_TYPE (yyvsp[-1].ttype); ;\n     break;}\n case 167:\n-#line 1075 \"objc-parse.y\"\n+#line 1068 \"objc-parse.y\"\n { yyval.ttype = groktypename (yyvsp[-1].ttype); ;\n     break;}\n case 175:\n-#line 1097 \"objc-parse.y\"\n+#line 1090 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 176:\n-#line 1099 \"objc-parse.y\"\n+#line 1092 \"objc-parse.y\"\n { if (TREE_CHAIN (yyvsp[-1].ttype)) yyvsp[-1].ttype = combine_strings (yyvsp[-1].ttype);\n \t\t  yyval.ttype = yyvsp[-1].ttype;\n \t\t;\n     break;}\n case 177:\n-#line 1106 \"objc-parse.y\"\n+#line 1099 \"objc-parse.y\"\n { yyval.ttype = start_decl (yyvsp[-3].ttype, current_declspecs, 1,\n \t\t\t\t\t  yyvsp[-1].ttype, prefix_attributes);\n \t\t  start_init (yyval.ttype, yyvsp[-2].ttype, global_bindings_p ()); ;\n     break;}\n case 178:\n-#line 1111 \"objc-parse.y\"\n+#line 1104 \"objc-parse.y\"\n { finish_init ();\n \t\t  finish_decl (yyvsp[-1].ttype, yyvsp[0].ttype, yyvsp[-4].ttype); ;\n     break;}\n case 179:\n-#line 1114 \"objc-parse.y\"\n+#line 1107 \"objc-parse.y\"\n { tree d = start_decl (yyvsp[-2].ttype, current_declspecs, 0,\n \t\t\t\t       yyvsp[0].ttype, prefix_attributes);\n \t\t  finish_decl (d, NULL_TREE, yyvsp[-1].ttype); \n                 ;\n     break;}\n case 180:\n-#line 1122 \"objc-parse.y\"\n+#line 1115 \"objc-parse.y\"\n { yyval.ttype = start_decl (yyvsp[-3].ttype, current_declspecs, 1,\n \t\t\t\t\t  yyvsp[-1].ttype, prefix_attributes);\n \t\t  start_init (yyval.ttype, yyvsp[-2].ttype, global_bindings_p ()); ;\n     break;}\n case 181:\n-#line 1127 \"objc-parse.y\"\n+#line 1120 \"objc-parse.y\"\n { finish_init ();\n \t\t  decl_attributes (yyvsp[-1].ttype, yyvsp[-3].ttype, prefix_attributes);\n \t\t  finish_decl (yyvsp[-1].ttype, yyvsp[0].ttype, yyvsp[-4].ttype); ;\n     break;}\n case 182:\n-#line 1131 \"objc-parse.y\"\n+#line 1124 \"objc-parse.y\"\n { tree d = start_decl (yyvsp[-2].ttype, current_declspecs, 0,\n \t\t\t\t       yyvsp[0].ttype, prefix_attributes);\n \t\t  finish_decl (d, NULL_TREE, yyvsp[-1].ttype); ;\n     break;}\n case 183:\n-#line 1139 \"objc-parse.y\"\n+#line 1132 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 184:\n-#line 1141 \"objc-parse.y\"\n+#line 1134 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 185:\n-#line 1146 \"objc-parse.y\"\n+#line 1139 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 186:\n-#line 1148 \"objc-parse.y\"\n+#line 1141 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 187:\n-#line 1153 \"objc-parse.y\"\n+#line 1146 \"objc-parse.y\"\n { yyval.ttype = yyvsp[-2].ttype; ;\n     break;}\n case 188:\n-#line 1158 \"objc-parse.y\"\n+#line 1151 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 189:\n-#line 1160 \"objc-parse.y\"\n+#line 1153 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 190:\n-#line 1165 \"objc-parse.y\"\n+#line 1158 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 191:\n-#line 1167 \"objc-parse.y\"\n+#line 1160 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 192:\n-#line 1169 \"objc-parse.y\"\n+#line 1162 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (yyvsp[-3].ttype, build_tree_list (NULL_TREE, yyvsp[-1].ttype)); ;\n     break;}\n case 193:\n-#line 1171 \"objc-parse.y\"\n+#line 1164 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (yyvsp[-5].ttype, tree_cons (NULL_TREE, yyvsp[-3].ttype, yyvsp[-1].ttype)); ;\n     break;}\n case 194:\n-#line 1173 \"objc-parse.y\"\n+#line 1166 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 200:\n-#line 1191 \"objc-parse.y\"\n+#line 1184 \"objc-parse.y\"\n { really_start_incremental_init (NULL_TREE);\n \t\t  /* Note that the call to clear_momentary\n \t\t     is in process_init_element.  */\n \t\t  push_momentary (); ;\n     break;}\n case 201:\n-#line 1196 \"objc-parse.y\"\n+#line 1189 \"objc-parse.y\"\n { yyval.ttype = pop_init_level (0);\n \t\t  if (yyval.ttype == error_mark_node\n \t\t      && ! (yychar == STRING || yychar == CONSTANT))\n@@ -3166,36 +3166,36 @@ case 201:\n \t\t    pop_momentary_nofree (); ;\n     break;}\n case 202:\n-#line 1204 \"objc-parse.y\"\n+#line 1197 \"objc-parse.y\"\n { yyval.ttype = error_mark_node; ;\n     break;}\n case 203:\n-#line 1210 \"objc-parse.y\"\n+#line 1203 \"objc-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids empty initializer braces\"); ;\n     break;}\n case 207:\n-#line 1224 \"objc-parse.y\"\n+#line 1217 \"objc-parse.y\"\n { process_init_element (yyvsp[0].ttype); ;\n     break;}\n case 208:\n-#line 1226 \"objc-parse.y\"\n+#line 1219 \"objc-parse.y\"\n { push_init_level (0); ;\n     break;}\n case 209:\n-#line 1228 \"objc-parse.y\"\n+#line 1221 \"objc-parse.y\"\n { process_init_element (pop_init_level (0)); ;\n     break;}\n case 211:\n-#line 1234 \"objc-parse.y\"\n+#line 1227 \"objc-parse.y\"\n { set_init_label (yyvsp[-1].ttype); ;\n     break;}\n case 213:\n-#line 1237 \"objc-parse.y\"\n+#line 1230 \"objc-parse.y\"\n { set_init_label (yyvsp[-1].ttype); ;\n     break;}\n case 215:\n-#line 1243 \"objc-parse.y\"\n+#line 1236 \"objc-parse.y\"\n { push_c_function_context ();\n \t\t  if (! start_function (current_declspecs, yyvsp[0].ttype,\n \t\t\t\t\tprefix_attributes, NULL_TREE, 1))\n@@ -3206,16 +3206,16 @@ case 215:\n \t\t  reinit_parse_for_function (); ;\n     break;}\n case 216:\n-#line 1252 \"objc-parse.y\"\n+#line 1245 \"objc-parse.y\"\n { store_parm_decls (); ;\n     break;}\n case 217:\n-#line 1260 \"objc-parse.y\"\n+#line 1253 \"objc-parse.y\"\n { finish_function (1);\n \t\t  pop_c_function_context (); ;\n     break;}\n case 218:\n-#line 1266 \"objc-parse.y\"\n+#line 1259 \"objc-parse.y\"\n { push_c_function_context ();\n \t\t  if (! start_function (current_declspecs, yyvsp[0].ttype,\n \t\t\t\t\tprefix_attributes, NULL_TREE, 1))\n@@ -3226,172 +3226,172 @@ case 218:\n \t\t  reinit_parse_for_function (); ;\n     break;}\n case 219:\n-#line 1275 \"objc-parse.y\"\n+#line 1268 \"objc-parse.y\"\n { store_parm_decls (); ;\n     break;}\n case 220:\n-#line 1283 \"objc-parse.y\"\n+#line 1276 \"objc-parse.y\"\n { finish_function (1);\n \t\t  pop_c_function_context (); ;\n     break;}\n case 223:\n-#line 1299 \"objc-parse.y\"\n+#line 1292 \"objc-parse.y\"\n { yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 224:\n-#line 1301 \"objc-parse.y\"\n+#line 1294 \"objc-parse.y\"\n { yyval.ttype = build_nt (CALL_EXPR, yyvsp[-2].ttype, yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 225:\n-#line 1306 \"objc-parse.y\"\n+#line 1299 \"objc-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 226:\n-#line 1308 \"objc-parse.y\"\n+#line 1301 \"objc-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-2].ttype, NULL_TREE); ;\n     break;}\n case 227:\n-#line 1310 \"objc-parse.y\"\n+#line 1303 \"objc-parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 228:\n-#line 1317 \"objc-parse.y\"\n+#line 1310 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 231:\n-#line 1329 \"objc-parse.y\"\n+#line 1322 \"objc-parse.y\"\n { yyval.ttype = build_nt (CALL_EXPR, yyvsp[-2].ttype, yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 232:\n-#line 1334 \"objc-parse.y\"\n+#line 1327 \"objc-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 233:\n-#line 1336 \"objc-parse.y\"\n+#line 1329 \"objc-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-2].ttype, NULL_TREE); ;\n     break;}\n case 234:\n-#line 1338 \"objc-parse.y\"\n+#line 1331 \"objc-parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 235:\n-#line 1345 \"objc-parse.y\"\n+#line 1338 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 237:\n-#line 1354 \"objc-parse.y\"\n+#line 1347 \"objc-parse.y\"\n { yyval.ttype = build_nt (CALL_EXPR, yyvsp[-2].ttype, yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 238:\n-#line 1359 \"objc-parse.y\"\n+#line 1352 \"objc-parse.y\"\n { yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 239:\n-#line 1361 \"objc-parse.y\"\n+#line 1354 \"objc-parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 240:\n-#line 1363 \"objc-parse.y\"\n+#line 1356 \"objc-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 241:\n-#line 1365 \"objc-parse.y\"\n+#line 1358 \"objc-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-2].ttype, NULL_TREE); ;\n     break;}\n case 242:\n-#line 1372 \"objc-parse.y\"\n+#line 1365 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 244:\n-#line 1378 \"objc-parse.y\"\n+#line 1371 \"objc-parse.y\"\n { yyval.ttype = start_struct (RECORD_TYPE, yyvsp[-1].ttype);\n \t\t  /* Start scope of tag before parsing components.  */\n \t\t;\n     break;}\n case 245:\n-#line 1382 \"objc-parse.y\"\n+#line 1375 \"objc-parse.y\"\n { yyval.ttype = finish_struct (yyvsp[-3].ttype, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 246:\n-#line 1384 \"objc-parse.y\"\n+#line 1377 \"objc-parse.y\"\n { yyval.ttype = finish_struct (start_struct (RECORD_TYPE, NULL_TREE),\n \t\t\t\t      yyvsp[-2].ttype, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 247:\n-#line 1388 \"objc-parse.y\"\n+#line 1381 \"objc-parse.y\"\n { yyval.ttype = xref_tag (RECORD_TYPE, yyvsp[0].ttype); ;\n     break;}\n case 248:\n-#line 1390 \"objc-parse.y\"\n+#line 1383 \"objc-parse.y\"\n { yyval.ttype = start_struct (UNION_TYPE, yyvsp[-1].ttype); ;\n     break;}\n case 249:\n-#line 1392 \"objc-parse.y\"\n+#line 1385 \"objc-parse.y\"\n { yyval.ttype = finish_struct (yyvsp[-3].ttype, yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 250:\n-#line 1394 \"objc-parse.y\"\n+#line 1387 \"objc-parse.y\"\n { yyval.ttype = finish_struct (start_struct (UNION_TYPE, NULL_TREE),\n \t\t\t\t      yyvsp[-2].ttype, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 251:\n-#line 1398 \"objc-parse.y\"\n+#line 1391 \"objc-parse.y\"\n { yyval.ttype = xref_tag (UNION_TYPE, yyvsp[0].ttype); ;\n     break;}\n case 252:\n-#line 1400 \"objc-parse.y\"\n+#line 1393 \"objc-parse.y\"\n { yyvsp[0].itype = suspend_momentary ();\n \t\t  yyval.ttype = start_enum (yyvsp[-1].ttype); ;\n     break;}\n case 253:\n-#line 1403 \"objc-parse.y\"\n+#line 1396 \"objc-parse.y\"\n { yyval.ttype = finish_enum (yyvsp[-4].ttype, nreverse (yyvsp[-3].ttype), yyvsp[0].ttype);\n \t\t  resume_momentary (yyvsp[-5].itype); ;\n     break;}\n case 254:\n-#line 1406 \"objc-parse.y\"\n+#line 1399 \"objc-parse.y\"\n { yyvsp[0].itype = suspend_momentary ();\n \t\t  yyval.ttype = start_enum (NULL_TREE); ;\n     break;}\n case 255:\n-#line 1409 \"objc-parse.y\"\n+#line 1402 \"objc-parse.y\"\n { yyval.ttype = finish_enum (yyvsp[-4].ttype, nreverse (yyvsp[-3].ttype), yyvsp[0].ttype);\n \t\t  resume_momentary (yyvsp[-5].itype); ;\n     break;}\n case 256:\n-#line 1412 \"objc-parse.y\"\n+#line 1405 \"objc-parse.y\"\n { yyval.ttype = xref_tag (ENUMERAL_TYPE, yyvsp[0].ttype); ;\n     break;}\n case 260:\n-#line 1423 \"objc-parse.y\"\n+#line 1416 \"objc-parse.y\"\n { if (pedantic) pedwarn (\"comma at end of enumerator list\"); ;\n     break;}\n case 261:\n-#line 1428 \"objc-parse.y\"\n+#line 1421 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 262:\n-#line 1430 \"objc-parse.y\"\n+#line 1423 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t  pedwarn (\"no semicolon at end of struct or union\"); ;\n     break;}\n case 263:\n-#line 1435 \"objc-parse.y\"\n+#line 1428 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 264:\n-#line 1437 \"objc-parse.y\"\n+#line 1430 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[-2].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 265:\n-#line 1439 \"objc-parse.y\"\n+#line 1432 \"objc-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"extra semicolon in struct or union specified\"); ;\n     break;}\n case 266:\n-#line 1443 \"objc-parse.y\"\n+#line 1436 \"objc-parse.y\"\n {\n \t\t  tree interface = lookup_interface (yyvsp[-1].ttype);\n \n@@ -3406,163 +3406,163 @@ case 266:\n \t\t;\n     break;}\n case 267:\n-#line 1468 \"objc-parse.y\"\n+#line 1461 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-1].itype); ;\n     break;}\n case 268:\n-#line 1474 \"objc-parse.y\"\n+#line 1467 \"objc-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids member declarations with no members\");\n \t\t  shadow_tag(yyvsp[0].ttype);\n \t\t  yyval.ttype = NULL_TREE; ;\n     break;}\n case 269:\n-#line 1479 \"objc-parse.y\"\n+#line 1472 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-1].itype); ;\n     break;}\n case 270:\n-#line 1485 \"objc-parse.y\"\n+#line 1478 \"objc-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids member declarations with no members\");\n \t\t  shadow_tag(yyvsp[0].ttype);\n \t\t  yyval.ttype = NULL_TREE; ;\n     break;}\n case 271:\n-#line 1490 \"objc-parse.y\"\n+#line 1483 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 272:\n-#line 1492 \"objc-parse.y\"\n+#line 1485 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  pedantic = yyvsp[-1].itype; ;\n     break;}\n case 274:\n-#line 1499 \"objc-parse.y\"\n+#line 1492 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 275:\n-#line 1504 \"objc-parse.y\"\n+#line 1497 \"objc-parse.y\"\n { yyval.ttype = grokfield (yyvsp[-3].filename, yyvsp[-2].lineno, yyvsp[-1].ttype, current_declspecs, NULL_TREE);\n \t\t  decl_attributes (yyval.ttype, yyvsp[0].ttype, prefix_attributes); ;\n     break;}\n case 276:\n-#line 1508 \"objc-parse.y\"\n+#line 1501 \"objc-parse.y\"\n { yyval.ttype = grokfield (yyvsp[-5].filename, yyvsp[-4].lineno, yyvsp[-3].ttype, current_declspecs, yyvsp[-1].ttype);\n \t\t  decl_attributes (yyval.ttype, yyvsp[0].ttype, prefix_attributes); ;\n     break;}\n case 277:\n-#line 1511 \"objc-parse.y\"\n+#line 1504 \"objc-parse.y\"\n { yyval.ttype = grokfield (yyvsp[-4].filename, yyvsp[-3].lineno, NULL_TREE, current_declspecs, yyvsp[-1].ttype);\n \t\t  decl_attributes (yyval.ttype, yyvsp[0].ttype, prefix_attributes); ;\n     break;}\n case 279:\n-#line 1523 \"objc-parse.y\"\n+#line 1516 \"objc-parse.y\"\n { if (yyvsp[-2].ttype == error_mark_node)\n \t\t    yyval.ttype = yyvsp[-2].ttype;\n \t\t  else\n \t\t    yyval.ttype = chainon (yyvsp[0].ttype, yyvsp[-2].ttype); ;\n     break;}\n case 280:\n-#line 1528 \"objc-parse.y\"\n+#line 1521 \"objc-parse.y\"\n { yyval.ttype = error_mark_node; ;\n     break;}\n case 281:\n-#line 1534 \"objc-parse.y\"\n+#line 1527 \"objc-parse.y\"\n { yyval.ttype = build_enumerator (yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 282:\n-#line 1536 \"objc-parse.y\"\n+#line 1529 \"objc-parse.y\"\n { yyval.ttype = build_enumerator (yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 283:\n-#line 1541 \"objc-parse.y\"\n+#line 1534 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 284:\n-#line 1543 \"objc-parse.y\"\n+#line 1536 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 285:\n-#line 1548 \"objc-parse.y\"\n+#line 1541 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 287:\n-#line 1554 \"objc-parse.y\"\n+#line 1547 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 288:\n-#line 1556 \"objc-parse.y\"\n+#line 1549 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 289:\n-#line 1561 \"objc-parse.y\"\n+#line 1554 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 290:\n-#line 1563 \"objc-parse.y\"\n+#line 1556 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, yyvsp[0].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 291:\n-#line 1568 \"objc-parse.y\"\n+#line 1561 \"objc-parse.y\"\n { yyval.ttype = yyvsp[-1].ttype; ;\n     break;}\n case 292:\n-#line 1571 \"objc-parse.y\"\n+#line 1564 \"objc-parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[-1].ttype, yyvsp[0].ttype); ;\n     break;}\n case 293:\n-#line 1573 \"objc-parse.y\"\n+#line 1566 \"objc-parse.y\"\n { yyval.ttype = make_pointer_declarator (yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 294:\n-#line 1575 \"objc-parse.y\"\n+#line 1568 \"objc-parse.y\"\n { yyval.ttype = build_nt (CALL_EXPR, yyvsp[-2].ttype, yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 295:\n-#line 1577 \"objc-parse.y\"\n+#line 1570 \"objc-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 296:\n-#line 1579 \"objc-parse.y\"\n+#line 1572 \"objc-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, yyvsp[-2].ttype, NULL_TREE); ;\n     break;}\n case 297:\n-#line 1581 \"objc-parse.y\"\n+#line 1574 \"objc-parse.y\"\n { yyval.ttype = build_nt (CALL_EXPR, NULL_TREE, yyvsp[0].ttype, NULL_TREE); ;\n     break;}\n case 298:\n-#line 1583 \"objc-parse.y\"\n+#line 1576 \"objc-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, NULL_TREE, yyvsp[-1].ttype); ;\n     break;}\n case 299:\n-#line 1585 \"objc-parse.y\"\n+#line 1578 \"objc-parse.y\"\n { yyval.ttype = build_nt (ARRAY_REF, NULL_TREE, NULL_TREE); ;\n     break;}\n case 300:\n-#line 1596 \"objc-parse.y\"\n+#line 1589 \"objc-parse.y\"\n {\n \t\t  if (pedantic && yyvsp[0].ends_in_label)\n \t\t    pedwarn (\"ANSI C forbids label at end of compound statement\");\n \t\t;\n     break;}\n case 302:\n-#line 1605 \"objc-parse.y\"\n+#line 1598 \"objc-parse.y\"\n { yyval.ends_in_label = yyvsp[0].ends_in_label; ;\n     break;}\n case 303:\n-#line 1607 \"objc-parse.y\"\n+#line 1600 \"objc-parse.y\"\n { yyval.ends_in_label = 0; ;\n     break;}\n case 307:\n-#line 1619 \"objc-parse.y\"\n+#line 1612 \"objc-parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  pushlevel (0);\n \t\t  clear_last_expr ();\n@@ -3573,12 +3573,12 @@ case 307:\n \t\t;\n     break;}\n case 309:\n-#line 1634 \"objc-parse.y\"\n+#line 1627 \"objc-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids label declarations\"); ;\n     break;}\n case 312:\n-#line 1645 \"objc-parse.y\"\n+#line 1638 \"objc-parse.y\"\n { tree link;\n \t\t  for (link = yyvsp[-1].ttype; link; link = TREE_CHAIN (link))\n \t\t    {\n@@ -3589,19 +3589,19 @@ case 312:\n \t\t;\n     break;}\n case 313:\n-#line 1659 \"objc-parse.y\"\n+#line 1652 \"objc-parse.y\"\n {;\n     break;}\n case 315:\n-#line 1663 \"objc-parse.y\"\n+#line 1656 \"objc-parse.y\"\n { compstmt_count++; ;\n     break;}\n case 316:\n-#line 1666 \"objc-parse.y\"\n+#line 1659 \"objc-parse.y\"\n { yyval.ttype = convert (void_type_node, integer_zero_node); ;\n     break;}\n case 317:\n-#line 1668 \"objc-parse.y\"\n+#line 1661 \"objc-parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  expand_end_bindings (getdecls (), 1, 0);\n \t\t  yyval.ttype = poplevel (1, 1, 0);\n@@ -3611,7 +3611,7 @@ case 317:\n \t\t    pop_momentary (); ;\n     break;}\n case 318:\n-#line 1676 \"objc-parse.y\"\n+#line 1669 \"objc-parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  expand_end_bindings (getdecls (), kept_level_p (), 0);\n \t\t  yyval.ttype = poplevel (kept_level_p (), 0, 0);\n@@ -3621,7 +3621,7 @@ case 318:\n \t\t    pop_momentary (); ;\n     break;}\n case 319:\n-#line 1684 \"objc-parse.y\"\n+#line 1677 \"objc-parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  expand_end_bindings (getdecls (), kept_level_p (), 0);\n \t\t  yyval.ttype = poplevel (kept_level_p (), 0, 0);\n@@ -3631,7 +3631,7 @@ case 319:\n \t\t    pop_momentary (); ;\n     break;}\n case 322:\n-#line 1704 \"objc-parse.y\"\n+#line 1697 \"objc-parse.y\"\n { emit_line_note (yyvsp[-5].filename, yyvsp[-4].lineno);\n \t\t  c_expand_start_cond (truthvalue_conversion (yyvsp[-1].ttype), 0, \n \t\t\t\t       compstmt_count);\n@@ -3641,7 +3641,7 @@ case 322:\n \t\t  position_after_white_space (); ;\n     break;}\n case 323:\n-#line 1718 \"objc-parse.y\"\n+#line 1711 \"objc-parse.y\"\n { stmt_count++;\n \t\t  compstmt_count++;\n \t\t  emit_line_note (yyvsp[-2].filename, yyvsp[-1].lineno);\n@@ -3651,43 +3651,43 @@ case 323:\n \t\t  position_after_white_space (); ;\n     break;}\n case 324:\n-#line 1726 \"objc-parse.y\"\n+#line 1719 \"objc-parse.y\"\n { expand_loop_continue_here (); ;\n     break;}\n case 325:\n-#line 1730 \"objc-parse.y\"\n+#line 1723 \"objc-parse.y\"\n { yyval.filename = input_filename; ;\n     break;}\n case 326:\n-#line 1734 \"objc-parse.y\"\n+#line 1727 \"objc-parse.y\"\n { yyval.lineno = lineno; ;\n     break;}\n case 327:\n-#line 1739 \"objc-parse.y\"\n+#line 1732 \"objc-parse.y\"\n { ;\n     break;}\n case 328:\n-#line 1744 \"objc-parse.y\"\n+#line 1737 \"objc-parse.y\"\n { ;\n     break;}\n case 329:\n-#line 1749 \"objc-parse.y\"\n+#line 1742 \"objc-parse.y\"\n { yyval.ends_in_label = yyvsp[0].ends_in_label; ;\n     break;}\n case 330:\n-#line 1754 \"objc-parse.y\"\n+#line 1747 \"objc-parse.y\"\n { yyval.ends_in_label = 0; ;\n     break;}\n case 331:\n-#line 1756 \"objc-parse.y\"\n+#line 1749 \"objc-parse.y\"\n { yyval.ends_in_label = 1; ;\n     break;}\n case 332:\n-#line 1762 \"objc-parse.y\"\n+#line 1755 \"objc-parse.y\"\n { stmt_count++; ;\n     break;}\n case 334:\n-#line 1765 \"objc-parse.y\"\n+#line 1758 \"objc-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-3].filename, yyvsp[-2].lineno);\n /* It appears that this should not be done--that a non-lvalue array\n@@ -3706,19 +3706,19 @@ case 334:\n \t\t  clear_momentary (); ;\n     break;}\n case 335:\n-#line 1782 \"objc-parse.y\"\n+#line 1775 \"objc-parse.y\"\n { c_expand_start_else ();\n \t\t  yyvsp[-1].itype = stmt_count;\n \t\t  position_after_white_space (); ;\n     break;}\n case 336:\n-#line 1786 \"objc-parse.y\"\n+#line 1779 \"objc-parse.y\"\n { c_expand_end_cond ();\n \t\t  if (extra_warnings && stmt_count == yyvsp[-3].itype)\n \t\t    warning (\"empty body in an else-statement\"); ;\n     break;}\n case 337:\n-#line 1790 \"objc-parse.y\"\n+#line 1783 \"objc-parse.y\"\n { c_expand_end_cond ();\n \t\t  /* This warning is here instead of in simple_if, because we\n \t\t     do not want a warning if an empty if is followed by an\n@@ -3729,11 +3729,11 @@ case 337:\n \t\t\t\t\t\t\"empty body in an if-statement\"); ;\n     break;}\n case 338:\n-#line 1802 \"objc-parse.y\"\n+#line 1795 \"objc-parse.y\"\n { c_expand_end_cond (); ;\n     break;}\n case 339:\n-#line 1804 \"objc-parse.y\"\n+#line 1797 \"objc-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-2].filename, yyvsp[-1].lineno);\n \t\t  /* The emit_nop used to come before emit_line_note,\n@@ -3745,7 +3745,7 @@ case 339:\n \t\t  emit_nop (); ;\n     break;}\n case 340:\n-#line 1814 \"objc-parse.y\"\n+#line 1807 \"objc-parse.y\"\n { /* Don't start the loop till we have succeeded\n \t\t     in parsing the end test.  This is to make sure\n \t\t     that we end every loop we start.  */\n@@ -3756,24 +3756,24 @@ case 340:\n \t\t  position_after_white_space (); ;\n     break;}\n case 341:\n-#line 1823 \"objc-parse.y\"\n+#line 1816 \"objc-parse.y\"\n { expand_end_loop (); ;\n     break;}\n case 342:\n-#line 1826 \"objc-parse.y\"\n+#line 1819 \"objc-parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  expand_exit_loop_if_false (NULL_PTR,\n \t\t\t\t\t     truthvalue_conversion (yyvsp[-2].ttype));\n \t\t  expand_end_loop ();\n \t\t  clear_momentary (); ;\n     break;}\n case 343:\n-#line 1833 \"objc-parse.y\"\n+#line 1826 \"objc-parse.y\"\n { expand_end_loop ();\n \t\t  clear_momentary (); ;\n     break;}\n case 344:\n-#line 1837 \"objc-parse.y\"\n+#line 1830 \"objc-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-5].filename, yyvsp[-4].lineno);\n \t\t  /* See comment in `while' alternative, above.  */\n@@ -3786,12 +3786,12 @@ case 344:\n \t\t;\n     break;}\n case 345:\n-#line 1849 \"objc-parse.y\"\n+#line 1842 \"objc-parse.y\"\n { yyvsp[0].lineno = lineno;\n \t\t  yyval.filename = input_filename; ;\n     break;}\n case 346:\n-#line 1852 \"objc-parse.y\"\n+#line 1845 \"objc-parse.y\"\n { \n \t\t  /* Start the loop.  Doing this after parsing\n \t\t     all the expressions ensures we will end the loop.  */\n@@ -3809,7 +3809,7 @@ case 346:\n \t\t  position_after_white_space (); ;\n     break;}\n case 347:\n-#line 1868 \"objc-parse.y\"\n+#line 1861 \"objc-parse.y\"\n { /* Emit the increment expression, with a line number.  */\n \t\t  emit_line_note (yyvsp[-4].filename, yyvsp[-5].lineno);\n \t\t  expand_loop_continue_here ();\n@@ -3822,7 +3822,7 @@ case 347:\n \t\t  expand_end_loop (); ;\n     break;}\n case 348:\n-#line 1879 \"objc-parse.y\"\n+#line 1872 \"objc-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-5].filename, yyvsp[-4].lineno);\n \t\t  c_expand_start_case (yyvsp[-1].ttype);\n@@ -3832,41 +3832,41 @@ case 348:\n \t\t  position_after_white_space (); ;\n     break;}\n case 349:\n-#line 1887 \"objc-parse.y\"\n+#line 1880 \"objc-parse.y\"\n { expand_end_case (yyvsp[-3].ttype);\n \t\t  if (yychar == CONSTANT || yychar == STRING)\n \t\t    pop_momentary_nofree ();\n \t\t  else\n \t\t    pop_momentary (); ;\n     break;}\n case 350:\n-#line 1893 \"objc-parse.y\"\n+#line 1886 \"objc-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-3].filename, yyvsp[-2].lineno);\n \t\t  if ( ! expand_exit_something ())\n \t\t    error (\"break statement not within loop or switch\"); ;\n     break;}\n case 351:\n-#line 1898 \"objc-parse.y\"\n+#line 1891 \"objc-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-3].filename, yyvsp[-2].lineno);\n \t\t  if (! expand_continue_loop (NULL_PTR))\n \t\t    error (\"continue statement not within a loop\"); ;\n     break;}\n case 352:\n-#line 1903 \"objc-parse.y\"\n+#line 1896 \"objc-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-3].filename, yyvsp[-2].lineno);\n \t\t  c_expand_return (NULL_TREE); ;\n     break;}\n case 353:\n-#line 1907 \"objc-parse.y\"\n+#line 1900 \"objc-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-4].filename, yyvsp[-3].lineno);\n \t\t  c_expand_return (yyvsp[-1].ttype); ;\n     break;}\n case 354:\n-#line 1911 \"objc-parse.y\"\n+#line 1904 \"objc-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-7].filename, yyvsp[-6].lineno);\n \t\t  STRIP_NOPS (yyvsp[-2].ttype);\n@@ -3878,31 +3878,31 @@ case 354:\n \t\t    error (\"argument of `asm' is not a constant string\"); ;\n     break;}\n case 355:\n-#line 1922 \"objc-parse.y\"\n+#line 1915 \"objc-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-9].filename, yyvsp[-8].lineno);\n \t\t  c_expand_asm_operands (yyvsp[-4].ttype, yyvsp[-2].ttype, NULL_TREE, NULL_TREE,\n \t\t\t\t\t yyvsp[-6].ttype == ridpointers[(int)RID_VOLATILE],\n \t\t\t\t\t input_filename, lineno); ;\n     break;}\n case 356:\n-#line 1929 \"objc-parse.y\"\n+#line 1922 \"objc-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-11].filename, yyvsp[-10].lineno);\n \t\t  c_expand_asm_operands (yyvsp[-6].ttype, yyvsp[-4].ttype, yyvsp[-2].ttype, NULL_TREE,\n \t\t\t\t\t yyvsp[-8].ttype == ridpointers[(int)RID_VOLATILE],\n \t\t\t\t\t input_filename, lineno); ;\n     break;}\n case 357:\n-#line 1937 \"objc-parse.y\"\n+#line 1930 \"objc-parse.y\"\n { stmt_count++;\n \t\t  emit_line_note (yyvsp[-13].filename, yyvsp[-12].lineno);\n \t\t  c_expand_asm_operands (yyvsp[-8].ttype, yyvsp[-6].ttype, yyvsp[-4].ttype, yyvsp[-2].ttype,\n \t\t\t\t\t yyvsp[-10].ttype == ridpointers[(int)RID_VOLATILE],\n \t\t\t\t\t input_filename, lineno); ;\n     break;}\n case 358:\n-#line 1943 \"objc-parse.y\"\n+#line 1936 \"objc-parse.y\"\n { tree decl;\n \t\t  stmt_count++;\n \t\t  emit_line_note (yyvsp[-4].filename, yyvsp[-3].lineno);\n@@ -3915,15 +3915,15 @@ case 358:\n \t\t;\n     break;}\n case 359:\n-#line 1954 \"objc-parse.y\"\n+#line 1947 \"objc-parse.y\"\n { if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids `goto *expr;'\");\n \t\t  stmt_count++;\n \t\t  emit_line_note (yyvsp[-5].filename, yyvsp[-4].lineno);\n \t\t  expand_computed_goto (convert (ptr_type_node, yyvsp[-1].ttype)); ;\n     break;}\n case 362:\n-#line 1969 \"objc-parse.y\"\n+#line 1962 \"objc-parse.y\"\n {\n \t    /* The value returned by this action is  */\n \t    /*      1 if everything is OK */ \n@@ -3946,14 +3946,14 @@ case 362:\n \t  ;\n     break;}\n case 363:\n-#line 1990 \"objc-parse.y\"\n+#line 1983 \"objc-parse.y\"\n {\n \t    if (yyvsp[-1].itype)\n \t      iterator_for_loop_end (yyvsp[-3].ttype);\n \t  ;\n     break;}\n case 364:\n-#line 2025 \"objc-parse.y\"\n+#line 2018 \"objc-parse.y\"\n { register tree value = check_case_value (yyvsp[-1].ttype);\n \t\t  register tree label\n \t\t    = build_decl (LABEL_DECL, NULL_TREE, NULL_TREE);\n@@ -3963,8 +3963,14 @@ case 364:\n \t\t  if (value != error_mark_node)\n \t\t    {\n \t\t      tree duplicate;\n-\t\t      int success = pushcase (value, convert_and_check,\n-\t\t\t\t\t      label, &duplicate);\n+\t\t      int success;\n+\n+\t\t      if (pedantic && ! INTEGRAL_TYPE_P (TREE_TYPE (value)))\n+\t\t\tpedwarn (\"label must have integral type in ANSI C\");\n+\n+\t\t      success = pushcase (value, convert_and_check,\n+\t\t\t\t\t  label, &duplicate);\n+\n \t\t      if (success == 1)\n \t\t\terror (\"case label not within a switch statement\");\n \t\t      else if (success == 2)\n@@ -3980,7 +3986,7 @@ case 364:\n \t\t  position_after_white_space (); ;\n     break;}\n case 365:\n-#line 2050 \"objc-parse.y\"\n+#line 2049 \"objc-parse.y\"\n { register tree value1 = check_case_value (yyvsp[-3].ttype);\n \t\t  register tree value2 = check_case_value (yyvsp[-1].ttype);\n \t\t  register tree label\n@@ -4013,7 +4019,7 @@ case 365:\n \t\t  position_after_white_space (); ;\n     break;}\n case 366:\n-#line 2081 \"objc-parse.y\"\n+#line 2080 \"objc-parse.y\"\n {\n \t\t  tree duplicate;\n \t\t  register tree label\n@@ -4030,7 +4036,7 @@ case 366:\n \t\t  position_after_white_space (); ;\n     break;}\n case 367:\n-#line 2096 \"objc-parse.y\"\n+#line 2095 \"objc-parse.y\"\n { tree label = define_label (input_filename, lineno, yyvsp[-1].ttype);\n \t\t  stmt_count++;\n \t\t  emit_nop ();\n@@ -4039,52 +4045,52 @@ case 367:\n \t\t  position_after_white_space (); ;\n     break;}\n case 368:\n-#line 2108 \"objc-parse.y\"\n+#line 2107 \"objc-parse.y\"\n { emit_line_note (input_filename, lineno);\n \t\t  yyval.ttype = NULL_TREE; ;\n     break;}\n case 369:\n-#line 2111 \"objc-parse.y\"\n+#line 2110 \"objc-parse.y\"\n { emit_line_note (input_filename, lineno); ;\n     break;}\n case 370:\n-#line 2116 \"objc-parse.y\"\n+#line 2115 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 372:\n-#line 2123 \"objc-parse.y\"\n+#line 2122 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 375:\n-#line 2130 \"objc-parse.y\"\n+#line 2129 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[-2].ttype, yyvsp[0].ttype); ;\n     break;}\n case 376:\n-#line 2135 \"objc-parse.y\"\n+#line 2134 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (yyvsp[-3].ttype, yyvsp[-1].ttype); ;\n     break;}\n case 377:\n-#line 2140 \"objc-parse.y\"\n+#line 2139 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, combine_strings (yyvsp[0].ttype), NULL_TREE); ;\n     break;}\n case 378:\n-#line 2142 \"objc-parse.y\"\n+#line 2141 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, combine_strings (yyvsp[0].ttype), yyvsp[-2].ttype); ;\n     break;}\n case 379:\n-#line 2148 \"objc-parse.y\"\n+#line 2147 \"objc-parse.y\"\n { pushlevel (0);\n \t\t  clear_parm_order ();\n \t\t  declare_parm_level (0); ;\n     break;}\n case 380:\n-#line 2152 \"objc-parse.y\"\n+#line 2151 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  parmlist_tags_warning ();\n \t\t  poplevel (0, 0, 0); ;\n     break;}\n case 382:\n-#line 2160 \"objc-parse.y\"\n+#line 2159 \"objc-parse.y\"\n { tree parm;\n \t\t  if (pedantic)\n \t\t    pedwarn (\"ANSI C forbids forward parameter declarations\");\n@@ -4094,19 +4100,19 @@ case 382:\n \t\t  clear_parm_order (); ;\n     break;}\n case 383:\n-#line 2168 \"objc-parse.y\"\n+#line 2167 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype; ;\n     break;}\n case 384:\n-#line 2170 \"objc-parse.y\"\n+#line 2169 \"objc-parse.y\"\n { yyval.ttype = tree_cons (NULL_TREE, NULL_TREE, NULL_TREE); ;\n     break;}\n case 385:\n-#line 2176 \"objc-parse.y\"\n+#line 2175 \"objc-parse.y\"\n { yyval.ttype = get_parm_info (0); ;\n     break;}\n case 386:\n-#line 2178 \"objc-parse.y\"\n+#line 2177 \"objc-parse.y\"\n { yyval.ttype = get_parm_info (0);\n \t\t  /* Gcc used to allow this as an extension.  However, it does\n \t\t     not work for all targets, and thus has been disabled.\n@@ -4118,23 +4124,23 @@ case 386:\n \t\t;\n     break;}\n case 387:\n-#line 2188 \"objc-parse.y\"\n+#line 2187 \"objc-parse.y\"\n { yyval.ttype = get_parm_info (1); ;\n     break;}\n case 388:\n-#line 2190 \"objc-parse.y\"\n+#line 2189 \"objc-parse.y\"\n { yyval.ttype = get_parm_info (0); ;\n     break;}\n case 389:\n-#line 2195 \"objc-parse.y\"\n+#line 2194 \"objc-parse.y\"\n { push_parm_decl (yyvsp[0].ttype); ;\n     break;}\n case 390:\n-#line 2197 \"objc-parse.y\"\n+#line 2196 \"objc-parse.y\"\n { push_parm_decl (yyvsp[0].ttype); ;\n     break;}\n case 391:\n-#line 2204 \"objc-parse.y\"\n+#line 2203 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (build_tree_list (current_declspecs,\n \t\t\t\t\t\t\t yyvsp[-1].ttype),\n \t\t\t\t\tbuild_tree_list (prefix_attributes,\n@@ -4145,7 +4151,7 @@ case 391:\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 392:\n-#line 2213 \"objc-parse.y\"\n+#line 2212 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (build_tree_list (current_declspecs,\n \t\t\t\t\t\t\t yyvsp[-1].ttype),\n \t\t\t\t\tbuild_tree_list (prefix_attributes,\n@@ -4156,7 +4162,7 @@ case 392:\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 393:\n-#line 2222 \"objc-parse.y\"\n+#line 2221 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (build_tree_list (current_declspecs,\n \t\t\t\t\t\t\t yyvsp[-1].ttype),\n \t\t\t\t\tbuild_tree_list (prefix_attributes,\n@@ -4167,7 +4173,7 @@ case 393:\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 394:\n-#line 2231 \"objc-parse.y\"\n+#line 2230 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (build_tree_list (current_declspecs,\n \t\t\t\t\t\t\t yyvsp[-1].ttype),\n \t\t\t\t\tbuild_tree_list (prefix_attributes,\n@@ -4178,7 +4184,7 @@ case 394:\n \t\t  resume_momentary (yyvsp[-2].itype);  ;\n     break;}\n case 395:\n-#line 2241 \"objc-parse.y\"\n+#line 2240 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (build_tree_list (current_declspecs,\n \t\t\t\t\t\t\t yyvsp[-1].ttype),\n \t\t\t\t\tbuild_tree_list (prefix_attributes,\n@@ -4189,48 +4195,48 @@ case 395:\n \t\t  resume_momentary (yyvsp[-2].itype);  ;\n     break;}\n case 396:\n-#line 2255 \"objc-parse.y\"\n+#line 2254 \"objc-parse.y\"\n { pushlevel (0);\n \t\t  clear_parm_order ();\n \t\t  declare_parm_level (1); ;\n     break;}\n case 397:\n-#line 2259 \"objc-parse.y\"\n+#line 2258 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  parmlist_tags_warning ();\n \t\t  poplevel (0, 0, 0); ;\n     break;}\n case 399:\n-#line 2267 \"objc-parse.y\"\n+#line 2266 \"objc-parse.y\"\n { tree t;\n \t\t  for (t = yyvsp[-1].ttype; t; t = TREE_CHAIN (t))\n \t\t    if (TREE_VALUE (t) == NULL_TREE)\n \t\t      error (\"`...' in old-style identifier list\");\n \t\t  yyval.ttype = tree_cons (NULL_TREE, NULL_TREE, yyvsp[-1].ttype); ;\n     break;}\n case 400:\n-#line 2277 \"objc-parse.y\"\n+#line 2276 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 401:\n-#line 2279 \"objc-parse.y\"\n+#line 2278 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[-2].ttype, build_tree_list (NULL_TREE, yyvsp[0].ttype)); ;\n     break;}\n case 402:\n-#line 2285 \"objc-parse.y\"\n+#line 2284 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 403:\n-#line 2287 \"objc-parse.y\"\n+#line 2286 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[-2].ttype, build_tree_list (NULL_TREE, yyvsp[0].ttype)); ;\n     break;}\n case 404:\n-#line 2292 \"objc-parse.y\"\n+#line 2291 \"objc-parse.y\"\n { yyval.itype = pedantic;\n \t\t  pedantic = 0; ;\n     break;}\n case 410:\n-#line 2305 \"objc-parse.y\"\n+#line 2304 \"objc-parse.y\"\n {\n \t\t  if (objc_implementation_context)\n                     {\n@@ -4243,114 +4249,114 @@ case 410:\n \t\t;\n     break;}\n case 411:\n-#line 2320 \"objc-parse.y\"\n+#line 2319 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (NULL_TREE, yyvsp[0].ttype); ;\n     break;}\n case 412:\n-#line 2322 \"objc-parse.y\"\n+#line 2321 \"objc-parse.y\"\n { yyval.ttype = chainon (yyvsp[-2].ttype, build_tree_list (NULL_TREE, yyvsp[0].ttype)); ;\n     break;}\n case 413:\n-#line 2327 \"objc-parse.y\"\n+#line 2326 \"objc-parse.y\"\n {\n \t\t  objc_declare_class (yyvsp[-1].ttype);\n \t\t;\n     break;}\n case 414:\n-#line 2333 \"objc-parse.y\"\n+#line 2332 \"objc-parse.y\"\n {\n \t\t  objc_declare_alias (yyvsp[-2].ttype, yyvsp[-1].ttype);\n \t\t;\n     break;}\n case 415:\n-#line 2339 \"objc-parse.y\"\n+#line 2338 \"objc-parse.y\"\n {\n \t\t  objc_interface_context = objc_ivar_context\n \t\t    = start_class (CLASS_INTERFACE_TYPE, yyvsp[-2].ttype, NULL_TREE, yyvsp[-1].ttype);\n                   objc_public_flag = 0;\n \t\t;\n     break;}\n case 416:\n-#line 2345 \"objc-parse.y\"\n+#line 2344 \"objc-parse.y\"\n {\n                   continue_class (objc_interface_context);\n \t\t;\n     break;}\n case 417:\n-#line 2350 \"objc-parse.y\"\n+#line 2349 \"objc-parse.y\"\n {\n \t\t  finish_class (objc_interface_context);\n \t\t  objc_interface_context = NULL_TREE;\n \t\t;\n     break;}\n case 418:\n-#line 2356 \"objc-parse.y\"\n+#line 2355 \"objc-parse.y\"\n {\n \t\t  objc_interface_context\n \t\t    = start_class (CLASS_INTERFACE_TYPE, yyvsp[-1].ttype, NULL_TREE, yyvsp[0].ttype);\n                   continue_class (objc_interface_context);\n \t\t;\n     break;}\n case 419:\n-#line 2363 \"objc-parse.y\"\n+#line 2362 \"objc-parse.y\"\n {\n \t\t  finish_class (objc_interface_context);\n \t\t  objc_interface_context = NULL_TREE;\n \t\t;\n     break;}\n case 420:\n-#line 2369 \"objc-parse.y\"\n+#line 2368 \"objc-parse.y\"\n {\n \t\t  objc_interface_context = objc_ivar_context\n \t\t    = start_class (CLASS_INTERFACE_TYPE, yyvsp[-4].ttype, yyvsp[-2].ttype, yyvsp[-1].ttype);\n                   objc_public_flag = 0;\n \t\t;\n     break;}\n case 421:\n-#line 2375 \"objc-parse.y\"\n+#line 2374 \"objc-parse.y\"\n {\n                   continue_class (objc_interface_context);\n \t\t;\n     break;}\n case 422:\n-#line 2380 \"objc-parse.y\"\n+#line 2379 \"objc-parse.y\"\n {\n \t\t  finish_class (objc_interface_context);\n \t\t  objc_interface_context = NULL_TREE;\n \t\t;\n     break;}\n case 423:\n-#line 2386 \"objc-parse.y\"\n+#line 2385 \"objc-parse.y\"\n {\n \t\t  objc_interface_context\n \t\t    = start_class (CLASS_INTERFACE_TYPE, yyvsp[-3].ttype, yyvsp[-1].ttype, yyvsp[0].ttype);\n                   continue_class (objc_interface_context);\n \t\t;\n     break;}\n case 424:\n-#line 2393 \"objc-parse.y\"\n+#line 2392 \"objc-parse.y\"\n {\n \t\t  finish_class (objc_interface_context);\n \t\t  objc_interface_context = NULL_TREE;\n \t\t;\n     break;}\n case 425:\n-#line 2399 \"objc-parse.y\"\n+#line 2398 \"objc-parse.y\"\n {\n \t\t  objc_implementation_context = objc_ivar_context\n \t\t    = start_class (CLASS_IMPLEMENTATION_TYPE, yyvsp[-1].ttype, NULL_TREE, NULL_TREE);\n                   objc_public_flag = 0;\n \t\t;\n     break;}\n case 426:\n-#line 2405 \"objc-parse.y\"\n+#line 2404 \"objc-parse.y\"\n {\n                   objc_ivar_chain\n \t\t    = continue_class (objc_implementation_context);\n \t\t;\n     break;}\n case 427:\n-#line 2411 \"objc-parse.y\"\n+#line 2410 \"objc-parse.y\"\n {\n \t\t  objc_implementation_context\n \t\t    = start_class (CLASS_IMPLEMENTATION_TYPE, yyvsp[0].ttype, NULL_TREE, NULL_TREE);\n@@ -4359,22 +4365,22 @@ case 427:\n \t\t;\n     break;}\n case 428:\n-#line 2419 \"objc-parse.y\"\n+#line 2418 \"objc-parse.y\"\n {\n \t\t  objc_implementation_context = objc_ivar_context\n \t\t    = start_class (CLASS_IMPLEMENTATION_TYPE, yyvsp[-3].ttype, yyvsp[-1].ttype, NULL_TREE);\n                   objc_public_flag = 0;\n \t\t;\n     break;}\n case 429:\n-#line 2425 \"objc-parse.y\"\n+#line 2424 \"objc-parse.y\"\n {\n                   objc_ivar_chain\n \t\t    = continue_class (objc_implementation_context);\n \t\t;\n     break;}\n case 430:\n-#line 2431 \"objc-parse.y\"\n+#line 2430 \"objc-parse.y\"\n {\n \t\t  objc_implementation_context\n \t\t    = start_class (CLASS_IMPLEMENTATION_TYPE, yyvsp[-2].ttype, yyvsp[0].ttype, NULL_TREE);\n@@ -4383,22 +4389,22 @@ case 430:\n \t\t;\n     break;}\n case 431:\n-#line 2439 \"objc-parse.y\"\n+#line 2438 \"objc-parse.y\"\n {\n \t\t  objc_interface_context\n \t\t    = start_class (CATEGORY_INTERFACE_TYPE, yyvsp[-4].ttype, yyvsp[-2].ttype, yyvsp[0].ttype);\n                   continue_class (objc_interface_context);\n \t\t;\n     break;}\n case 432:\n-#line 2446 \"objc-parse.y\"\n+#line 2445 \"objc-parse.y\"\n {\n \t\t  finish_class (objc_interface_context);\n \t\t  objc_interface_context = NULL_TREE;\n \t\t;\n     break;}\n case 433:\n-#line 2452 \"objc-parse.y\"\n+#line 2451 \"objc-parse.y\"\n {\n \t\t  objc_implementation_context\n \t\t    = start_class (CATEGORY_IMPLEMENTATION_TYPE, yyvsp[-3].ttype, yyvsp[-1].ttype, NULL_TREE);\n@@ -4407,29 +4413,29 @@ case 433:\n \t\t;\n     break;}\n case 434:\n-#line 2462 \"objc-parse.y\"\n+#line 2461 \"objc-parse.y\"\n {\n \t\t  remember_protocol_qualifiers ();\n \t\t  objc_interface_context\n \t\t    = start_protocol(PROTOCOL_INTERFACE_TYPE, yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 435:\n-#line 2468 \"objc-parse.y\"\n+#line 2467 \"objc-parse.y\"\n {\n \t\t  forget_protocol_qualifiers();\n \t\t  finish_protocol(objc_interface_context);\n \t\t  objc_interface_context = NULL_TREE;\n \t\t;\n     break;}\n case 436:\n-#line 2477 \"objc-parse.y\"\n+#line 2476 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = NULL_TREE;\n \t\t;\n     break;}\n case 438:\n-#line 2485 \"objc-parse.y\"\n+#line 2484 \"objc-parse.y\"\n {\n \t\t  if (yyvsp[-2].code == LT_EXPR && yyvsp[0].code == GT_EXPR)\n \t\t    yyval.ttype = yyvsp[-1].ttype;\n@@ -4438,56 +4444,56 @@ case 438:\n \t\t;\n     break;}\n case 441:\n-#line 2499 \"objc-parse.y\"\n+#line 2498 \"objc-parse.y\"\n { objc_public_flag = 2; ;\n     break;}\n case 442:\n-#line 2500 \"objc-parse.y\"\n+#line 2499 \"objc-parse.y\"\n { objc_public_flag = 0; ;\n     break;}\n case 443:\n-#line 2501 \"objc-parse.y\"\n+#line 2500 \"objc-parse.y\"\n { objc_public_flag = 1; ;\n     break;}\n case 444:\n-#line 2506 \"objc-parse.y\"\n+#line 2505 \"objc-parse.y\"\n {\n                   yyval.ttype = NULL_TREE;\n                 ;\n     break;}\n case 446:\n-#line 2511 \"objc-parse.y\"\n+#line 2510 \"objc-parse.y\"\n {\n                   if (pedantic)\n \t\t    pedwarn (\"extra semicolon in struct or union specified\");\n                 ;\n     break;}\n case 447:\n-#line 2529 \"objc-parse.y\"\n+#line 2528 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-1].itype); ;\n     break;}\n case 448:\n-#line 2535 \"objc-parse.y\"\n+#line 2534 \"objc-parse.y\"\n { yyval.ttype = yyvsp[0].ttype;\n \t\t  current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-1].itype); ;\n     break;}\n case 449:\n-#line 2541 \"objc-parse.y\"\n+#line 2540 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 450:\n-#line 2546 \"objc-parse.y\"\n+#line 2545 \"objc-parse.y\"\n { yyval.ttype = NULL_TREE; ;\n     break;}\n case 453:\n-#line 2553 \"objc-parse.y\"\n+#line 2552 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = add_instance_variable (objc_ivar_context,\n \t\t\t\t\t      objc_public_flag,\n@@ -4496,15 +4502,15 @@ case 453:\n                 ;\n     break;}\n case 454:\n-#line 2560 \"objc-parse.y\"\n+#line 2559 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = add_instance_variable (objc_ivar_context,\n \t\t\t\t\t      objc_public_flag,\n \t\t\t\t\t      yyvsp[-2].ttype, current_declspecs, yyvsp[0].ttype);\n                 ;\n     break;}\n case 455:\n-#line 2566 \"objc-parse.y\"\n+#line 2565 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = add_instance_variable (objc_ivar_context,\n \t\t\t\t\t      objc_public_flag,\n@@ -4513,7 +4519,7 @@ case 455:\n                 ;\n     break;}\n case 456:\n-#line 2576 \"objc-parse.y\"\n+#line 2575 \"objc-parse.y\"\n {\n \t\t  remember_protocol_qualifiers ();\n \t\t  if (objc_implementation_context)\n@@ -4523,7 +4529,7 @@ case 456:\n \t\t;\n     break;}\n case 457:\n-#line 2584 \"objc-parse.y\"\n+#line 2583 \"objc-parse.y\"\n {\n \t\t  forget_protocol_qualifiers ();\n \t\t  add_class_method (objc_implementation_context, yyvsp[0].ttype);\n@@ -4532,20 +4538,20 @@ case 457:\n \t\t;\n     break;}\n case 458:\n-#line 2591 \"objc-parse.y\"\n+#line 2590 \"objc-parse.y\"\n {\n \t\t  continue_method_def ();\n \t\t;\n     break;}\n case 459:\n-#line 2595 \"objc-parse.y\"\n+#line 2594 \"objc-parse.y\"\n {\n \t\t  finish_method_def ();\n \t\t  objc_method_context = NULL_TREE;\n \t\t;\n     break;}\n case 460:\n-#line 2601 \"objc-parse.y\"\n+#line 2600 \"objc-parse.y\"\n {\n \t\t  remember_protocol_qualifiers ();\n \t\t  if (objc_implementation_context)\n@@ -4555,7 +4561,7 @@ case 460:\n \t\t;\n     break;}\n case 461:\n-#line 2609 \"objc-parse.y\"\n+#line 2608 \"objc-parse.y\"\n {\n \t\t  forget_protocol_qualifiers ();\n \t\t  add_instance_method (objc_implementation_context, yyvsp[0].ttype);\n@@ -4564,267 +4570,267 @@ case 461:\n \t\t;\n     break;}\n case 462:\n-#line 2616 \"objc-parse.y\"\n+#line 2615 \"objc-parse.y\"\n {\n \t\t  continue_method_def ();\n \t\t;\n     break;}\n case 463:\n-#line 2620 \"objc-parse.y\"\n+#line 2619 \"objc-parse.y\"\n {\n \t\t  finish_method_def ();\n \t\t  objc_method_context = NULL_TREE;\n \t\t;\n     break;}\n case 465:\n-#line 2632 \"objc-parse.y\"\n+#line 2631 \"objc-parse.y\"\n {yyval.ttype = NULL_TREE; ;\n     break;}\n case 470:\n-#line 2639 \"objc-parse.y\"\n+#line 2638 \"objc-parse.y\"\n {yyval.ttype = NULL_TREE; ;\n     break;}\n case 474:\n-#line 2649 \"objc-parse.y\"\n+#line 2648 \"objc-parse.y\"\n {\n \t\t  /* Remember protocol qualifiers in prototypes.  */\n \t\t  remember_protocol_qualifiers ();\n \t\t  objc_inherit_code = CLASS_METHOD_DECL;\n \t\t;\n     break;}\n case 475:\n-#line 2655 \"objc-parse.y\"\n+#line 2654 \"objc-parse.y\"\n {\n \t\t  /* Forget protocol qualifiers here.  */\n \t\t  forget_protocol_qualifiers ();\n \t\t  add_class_method (objc_interface_context, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 477:\n-#line 2663 \"objc-parse.y\"\n+#line 2662 \"objc-parse.y\"\n {\n \t\t  /* Remember protocol qualifiers in prototypes.  */\n \t\t  remember_protocol_qualifiers ();\n \t\t  objc_inherit_code = INSTANCE_METHOD_DECL;\n \t\t;\n     break;}\n case 478:\n-#line 2669 \"objc-parse.y\"\n+#line 2668 \"objc-parse.y\"\n {\n \t\t  /* Forget protocol qualifiers here.  */\n \t\t  forget_protocol_qualifiers ();\n \t\t  add_instance_method (objc_interface_context, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 480:\n-#line 2679 \"objc-parse.y\"\n+#line 2678 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = build_method_decl (objc_inherit_code, yyvsp[-2].ttype, yyvsp[0].ttype, NULL_TREE);\n \t\t;\n     break;}\n case 481:\n-#line 2684 \"objc-parse.y\"\n+#line 2683 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = build_method_decl (objc_inherit_code, NULL_TREE, yyvsp[0].ttype, NULL_TREE);\n \t\t;\n     break;}\n case 482:\n-#line 2689 \"objc-parse.y\"\n+#line 2688 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = build_method_decl (objc_inherit_code, yyvsp[-3].ttype, yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 483:\n-#line 2694 \"objc-parse.y\"\n+#line 2693 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = build_method_decl (objc_inherit_code, NULL_TREE, yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 492:\n-#line 2724 \"objc-parse.y\"\n+#line 2723 \"objc-parse.y\"\n { current_declspecs = TREE_VALUE (declspec_stack);\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary (yyvsp[-2].itype); ;\n     break;}\n case 493:\n-#line 2729 \"objc-parse.y\"\n+#line 2728 \"objc-parse.y\"\n { shadow_tag (yyvsp[-1].ttype); ;\n     break;}\n case 494:\n-#line 2731 \"objc-parse.y\"\n+#line 2730 \"objc-parse.y\"\n { pedwarn (\"empty declaration\"); ;\n     break;}\n case 495:\n-#line 2736 \"objc-parse.y\"\n+#line 2735 \"objc-parse.y\"\n { push_parm_decl (yyvsp[0].ttype); ;\n     break;}\n case 496:\n-#line 2738 \"objc-parse.y\"\n+#line 2737 \"objc-parse.y\"\n { push_parm_decl (yyvsp[0].ttype); ;\n     break;}\n case 497:\n-#line 2746 \"objc-parse.y\"\n+#line 2745 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (build_tree_list (current_declspecs,\n \t\t\t\t\t\t\t yyvsp[-1].ttype),\n \t\t\t\t\tbuild_tree_list (prefix_attributes,\n \t\t\t\t\t\t\t yyvsp[0].ttype)); ;\n     break;}\n case 498:\n-#line 2751 \"objc-parse.y\"\n+#line 2750 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (build_tree_list (current_declspecs,\n \t\t\t\t\t\t\t yyvsp[-1].ttype),\n \t\t\t\t\tbuild_tree_list (prefix_attributes,\n \t\t\t\t\t\t\t yyvsp[0].ttype)); ;\n     break;}\n case 499:\n-#line 2756 \"objc-parse.y\"\n+#line 2755 \"objc-parse.y\"\n { yyval.ttype = build_tree_list (build_tree_list (current_declspecs,\n \t\t\t\t\t\t\t yyvsp[-1].ttype),\n \t\t\t\t\tbuild_tree_list (prefix_attributes,\n \t\t\t\t\t\t\t yyvsp[0].ttype)); ;\n     break;}\n case 500:\n-#line 2764 \"objc-parse.y\"\n+#line 2763 \"objc-parse.y\"\n {\n \t    \t  yyval.ttype = NULL_TREE;\n \t\t;\n     break;}\n case 501:\n-#line 2768 \"objc-parse.y\"\n+#line 2767 \"objc-parse.y\"\n {\n \t\t  /* oh what a kludge! */\n \t\t  yyval.ttype = (tree)1;\n \t\t;\n     break;}\n case 502:\n-#line 2773 \"objc-parse.y\"\n+#line 2772 \"objc-parse.y\"\n {\n \t\t  pushlevel (0);\n \t\t;\n     break;}\n case 503:\n-#line 2777 \"objc-parse.y\"\n+#line 2776 \"objc-parse.y\"\n {\n \t  \t  /* returns a tree list node generated by get_parm_info */\n \t\t  yyval.ttype = yyvsp[0].ttype;\n \t\t  poplevel (0, 0, 0);\n \t\t;\n     break;}\n case 506:\n-#line 2792 \"objc-parse.y\"\n+#line 2791 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = chainon (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 511:\n-#line 2805 \"objc-parse.y\"\n+#line 2804 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 512:\n-#line 2806 \"objc-parse.y\"\n+#line 2805 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 513:\n-#line 2807 \"objc-parse.y\"\n+#line 2806 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 514:\n-#line 2808 \"objc-parse.y\"\n+#line 2807 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 515:\n-#line 2809 \"objc-parse.y\"\n+#line 2808 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 516:\n-#line 2810 \"objc-parse.y\"\n+#line 2809 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 517:\n-#line 2811 \"objc-parse.y\"\n+#line 2810 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 518:\n-#line 2812 \"objc-parse.y\"\n+#line 2811 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 519:\n-#line 2813 \"objc-parse.y\"\n+#line 2812 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 520:\n-#line 2814 \"objc-parse.y\"\n+#line 2813 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 521:\n-#line 2815 \"objc-parse.y\"\n+#line 2814 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 522:\n-#line 2816 \"objc-parse.y\"\n+#line 2815 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 523:\n-#line 2817 \"objc-parse.y\"\n+#line 2816 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 524:\n-#line 2818 \"objc-parse.y\"\n+#line 2817 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 525:\n-#line 2819 \"objc-parse.y\"\n+#line 2818 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 526:\n-#line 2820 \"objc-parse.y\"\n+#line 2819 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 527:\n-#line 2821 \"objc-parse.y\"\n+#line 2820 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 528:\n-#line 2822 \"objc-parse.y\"\n+#line 2821 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 529:\n-#line 2823 \"objc-parse.y\"\n+#line 2822 \"objc-parse.y\"\n { yyval.ttype = get_identifier (token_buffer); ;\n     break;}\n case 532:\n-#line 2829 \"objc-parse.y\"\n+#line 2828 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = build_keyword_decl (yyvsp[-5].ttype, yyvsp[-2].ttype, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 533:\n-#line 2834 \"objc-parse.y\"\n+#line 2833 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = build_keyword_decl (yyvsp[-2].ttype, NULL_TREE, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 534:\n-#line 2839 \"objc-parse.y\"\n+#line 2838 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = build_keyword_decl (NULL_TREE, yyvsp[-2].ttype, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 535:\n-#line 2844 \"objc-parse.y\"\n+#line 2843 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = build_keyword_decl (NULL_TREE, NULL_TREE, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 539:\n-#line 2857 \"objc-parse.y\"\n+#line 2856 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = chainon (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 540:\n-#line 2865 \"objc-parse.y\"\n+#line 2864 \"objc-parse.y\"\n {\n \t\t  if (TREE_CHAIN (yyvsp[0].ttype) == NULL_TREE)\n \t\t    /* just return the expr., remove a level of indirection */\n@@ -4835,76 +4841,76 @@ case 540:\n \t\t;\n     break;}\n case 541:\n-#line 2877 \"objc-parse.y\"\n+#line 2876 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = build_tree_list (yyvsp[-2].ttype, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 542:\n-#line 2881 \"objc-parse.y\"\n+#line 2880 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = build_tree_list (NULL_TREE, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 544:\n-#line 2889 \"objc-parse.y\"\n+#line 2888 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = get_class_reference (yyvsp[0].ttype);\n \t\t;\n     break;}\n case 545:\n-#line 2896 \"objc-parse.y\"\n+#line 2895 \"objc-parse.y\"\n { objc_receiver_context = 1; ;\n     break;}\n case 546:\n-#line 2898 \"objc-parse.y\"\n+#line 2897 \"objc-parse.y\"\n { objc_receiver_context = 0; ;\n     break;}\n case 547:\n-#line 2900 \"objc-parse.y\"\n+#line 2899 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = build_tree_list (yyvsp[-3].ttype, yyvsp[-1].ttype);\n \t\t;\n     break;}\n case 551:\n-#line 2913 \"objc-parse.y\"\n+#line 2912 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = chainon (yyvsp[-1].ttype, yyvsp[0].ttype);\n \t\t;\n     break;}\n case 552:\n-#line 2920 \"objc-parse.y\"\n+#line 2919 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = build_tree_list (yyvsp[-1].ttype, NULL_TREE);\n \t\t;\n     break;}\n case 553:\n-#line 2924 \"objc-parse.y\"\n+#line 2923 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = build_tree_list (NULL_TREE, NULL_TREE);\n \t\t;\n     break;}\n case 554:\n-#line 2931 \"objc-parse.y\"\n+#line 2930 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = yyvsp[-1].ttype;\n \t\t;\n     break;}\n case 555:\n-#line 2938 \"objc-parse.y\"\n+#line 2937 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = yyvsp[-1].ttype;\n \t\t;\n     break;}\n case 556:\n-#line 2947 \"objc-parse.y\"\n+#line 2946 \"objc-parse.y\"\n {\n \t\t  yyval.ttype = groktypename (yyvsp[-1].ttype);\n \t\t;\n     break;}\n }\n    /* the action file gets copied in in place of this dollarsign */\n-#line 498 \"/usr/cygnus/progressive-97r2/share/bison.simple\"\n+#line 498 \"/usr/share/bison.simple\"\n \f\n   yyvsp -= yylen;\n   yyssp -= yylen;\n@@ -5100,5 +5106,5 @@ case 556:\n   yystate = yyn;\n   goto yynewstate;\n }\n-#line 2952 \"objc-parse.y\"\n+#line 2951 \"objc-parse.y\"\n "}, {"sha": "0d93c465086c6e3971ee944acf3c6e246098c07f", "filename": "gcc/objc/objc-parse.y", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fobjc%2Fobjc-parse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fobjc%2Fobjc-parse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-parse.y?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -2024,8 +2024,14 @@ label:\t  CASE expr_no_commas ':'\n \t\t  if (value != error_mark_node)\n \t\t    {\n \t\t      tree duplicate;\n-\t\t      int success = pushcase (value, convert_and_check,\n-\t\t\t\t\t      label, &duplicate);\n+\t\t      int success;\n+\n+\t\t      if (pedantic && ! INTEGRAL_TYPE_P (TREE_TYPE (value)))\n+\t\t\tpedwarn (\"label must have integral type in ANSI C\");\n+\n+\t\t      success = pushcase (value, convert_and_check,\n+\t\t\t\t\t  label, &duplicate);\n+\n \t\t      if (success == 1)\n \t\t\terror (\"case label not within a switch statement\");\n \t\t      else if (success == 2)"}, {"sha": "bc318b37790eeb1cde7bdcde56fe383c60a9a310", "filename": "gcc/obstack.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fobstack.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fobstack.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobstack.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -3,7 +3,7 @@\n \n \n    NOTE: The canonical source of this file is maintained with the GNU C Library.\n-   Bugs can be reported to bug-glibc@prep.ai.mit.edu.\n+   Bugs can be reported to bug-glibc@gnu.org.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU General Public License as published by the"}, {"sha": "38e96777660d5bbdafa108ae60def43e5221b750", "filename": "gcc/obstack.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fobstack.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fobstack.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobstack.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -3,7 +3,7 @@\n \n \n    NOTE: The canonical source of this file is maintained with the GNU C Library.\n-   Bugs can be reported to bug-glibc@prep.ai.mit.edu.\n+   Bugs can be reported to bug-glibc@gnu.org.\n \n    This program is free software; you can redistribute it and/or modify it\n    under the terms of the GNU General Public License as published by the"}, {"sha": "713c0bef5b8a0b2c21b43509d8a66df30d1c80af", "filename": "gcc/real.c", "status": "modified", "additions": 383, "deletions": 24, "changes": 407, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Freal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Freal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freal.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,6 +1,6 @@\n /* real.c - implementation of REAL_ARITHMETIC, REAL_VALUE_ATOF,\n    and support for XFmode IEEE extended real floating point arithmetic.\n-   Copyright (C) 1993, 1994, 1995, 1996, 1997 Free Software Foundation, Inc.\n+   Copyright (C) 1993, 94, 95, 96, 97, 1998 Free Software Foundation, Inc.\n    Contributed by Stephen L. Moshier (moshier@world.std.com).\n \n This file is part of GNU CC.\n@@ -112,13 +112,18 @@ netlib.att.com: netlib/cephes.   */\n /* IBM System/370 style */\n #define IBM 1\n #else /* it's also not an IBM */\n+#if TARGET_FLOAT_FORMAT == C4X_FLOAT_FORMAT\n+/* TMS320C3x/C4x style */\n+#define C4X 1\n+#else /* it's also not a C4X */\n #if TARGET_FLOAT_FORMAT == IEEE_FLOAT_FORMAT\n #define IEEE\n #else /* it's not IEEE either */\n /* UNKnown arithmetic.  We don't support this and can't go on.  */\n unknown arithmetic type\n #define UNK 1\n #endif /* not IEEE */\n+#endif /* not C4X */\n #endif /* not IBM */\n #endif /* not VAX */\n \n@@ -153,7 +158,7 @@ unknown arithmetic type\n \n /* Define INFINITY for support of infinity.\n    Define NANS for support of Not-a-Number's (NaN's).  */\n-#if !defined(DEC) && !defined(IBM)\n+#if !defined(DEC) && !defined(IBM) && !defined(C4X)\n #define INFINITY\n #define NANS\n #endif\n@@ -288,7 +293,7 @@ do {\t\t\t\t\t\t\t\t\\\n \n #endif /* not REAL_ARITHMETIC */\n #endif /* not TFmode */\n-#endif /* no XFmode */\n+#endif /* not XFmode */\n \n \n /* Number of 16 bit words in internal format */\n@@ -418,6 +423,14 @@ static void etoibm\tPROTO((unsigned EMUSHORT *, unsigned EMUSHORT *,\n static void toibm\tPROTO((unsigned EMUSHORT *, unsigned EMUSHORT *,\n \t\t\t       enum machine_mode));\n #endif\n+#ifdef C4X\n+static void c4xtoe\tPROTO((unsigned EMUSHORT *, unsigned EMUSHORT *,\n+ \t\t\t       enum machine_mode));\n+static void etoc4x\tPROTO((unsigned EMUSHORT *, unsigned EMUSHORT *,\n+ \t\t\t       enum machine_mode));\n+static void toc4x\tPROTO((unsigned EMUSHORT *, unsigned EMUSHORT *,\n+ \t\t\t       enum machine_mode));\n+#endif\n static void make_nan\tPROTO((unsigned EMUSHORT *, int, enum machine_mode));\n #if 0\n static void uditoe\tPROTO((unsigned EMUSHORT *, unsigned EMUSHORT *));\n@@ -443,7 +456,6 @@ endian (e, x, mode)\n     {\n       switch (mode)\n \t{\n-\n \tcase TFmode:\n \t  /* Swap halfwords in the fourth long.  */\n \t  th = (unsigned long) e[6] & 0xffff;\n@@ -452,7 +464,6 @@ endian (e, x, mode)\n \t  x[3] = (long) t;\n \n \tcase XFmode:\n-\n \t  /* Swap halfwords in the third long.  */\n \t  th = (unsigned long) e[4] & 0xffff;\n \t  t = (unsigned long) e[5] & 0xffff;\n@@ -461,18 +472,16 @@ endian (e, x, mode)\n \t  /* fall into the double case */\n \n \tcase DFmode:\n-\n-\t  /* swap halfwords in the second word */\n+\t  /* Swap halfwords in the second word.  */\n \t  th = (unsigned long) e[2] & 0xffff;\n \t  t = (unsigned long) e[3] & 0xffff;\n \t  t |= th << 16;\n \t  x[1] = (long) t;\n \t  /* fall into the float case */\n \n-\tcase HFmode:\n \tcase SFmode:\n-\n-\t  /* swap halfwords in the first word */\n+\tcase HFmode:\n+\t  /* Swap halfwords in the first word.  */\n \t  th = (unsigned long) e[0] & 0xffff;\n \t  t = (unsigned long) e[1] & 0xffff;\n \t  t |= th << 16;\n@@ -489,17 +498,14 @@ endian (e, x, mode)\n \n       switch (mode)\n \t{\n-\n \tcase TFmode:\n-\n \t  /* Pack the fourth long.  */\n \t  th = (unsigned long) e[7] & 0xffff;\n \t  t = (unsigned long) e[6] & 0xffff;\n \t  t |= th << 16;\n \t  x[3] = (long) t;\n \n \tcase XFmode:\n-\n \t  /* Pack the third long.\n \t     Each element of the input REAL_VALUE_TYPE array has 16 useful bits\n \t     in it.  */\n@@ -510,18 +516,16 @@ endian (e, x, mode)\n \t  /* fall into the double case */\n \n \tcase DFmode:\n-\n-\t  /* pack the second long */\n+\t  /* Pack the second long */\n \t  th = (unsigned long) e[3] & 0xffff;\n \t  t = (unsigned long) e[2] & 0xffff;\n \t  t |= th << 16;\n \t  x[1] = (long) t;\n \t  /* fall into the float case */\n \n-\tcase HFmode:\n \tcase SFmode:\n-\n-\t  /* pack the first long */\n+\tcase HFmode:\n+\t  /* Pack the first long */\n \t  th = (unsigned long) e[1] & 0xffff;\n \t  t = (unsigned long) e[0] & 0xffff;\n \t  t |= th << 16;\n@@ -678,18 +682,22 @@ ereal_atof (s, t)\n       asctoe24 (s, tem);\n       e24toe (tem, e);\n       break;\n+\n     case DFmode:\n       asctoe53 (s, tem);\n       e53toe (tem, e);\n       break;\n+\n     case XFmode:\n       asctoe64 (s, tem);\n       e64toe (tem, e);\n       break;\n+\n     case TFmode:\n       asctoe113 (s, tem);\n       e113toe (tem, e);\n       break;\n+\n     default:\n       asctoe (s, e);\n     }\n@@ -1027,8 +1035,8 @@ real_value_truncate (mode, arg)\n       e53toe (t, t);\n       break;\n \n-    case HFmode:\n     case SFmode:\n+    case HFmode:\n       etoe24 (e, t);\n       e24toe (t, t);\n       break;\n@@ -2460,20 +2468,23 @@ emdnorm (s, lost, subflg, exp, rcntrl)\n \t  re = rw - 1;\n \t  rebit = 1;\n \t  break;\n+\n \tcase 113:\n \t  rw = 10;\n \t  rmsk = 0x7fff;\n \t  rmbit = 0x4000;\n \t  rebit = 0x8000;\n \t  re = rw;\n \t  break;\n+\n \tcase 64:\n \t  rw = 7;\n \t  rmsk = 0xffff;\n \t  rmbit = 0x8000;\n \t  re = rw - 1;\n \t  rebit = 1;\n \t  break;\n+\n \t  /* For DEC or IBM arithmetic */\n \tcase 56:\n \t  rw = 6;\n@@ -2482,13 +2493,24 @@ emdnorm (s, lost, subflg, exp, rcntrl)\n \t  rebit = 0x100;\n \t  re = rw;\n \t  break;\n+\n \tcase 53:\n \t  rw = 6;\n \t  rmsk = 0x7ff;\n \t  rmbit = 0x0400;\n \t  rebit = 0x800;\n \t  re = rw;\n \t  break;\n+\n+\t  /* For C4x arithmetic */\n+\tcase 32:\n+\t  rw = 5;\n+\t  rmsk = 0xffff;\n+\t  rmbit = 0x8000;\n+\t  rebit = 1;\n+\t  re = rw - 1;\n+\t  break;\n+\n \tcase 24:\n \t  rw = 4;\n \t  rmsk = 0xff;\n@@ -2984,6 +3006,11 @@ e53toe (pe, y)\n \n   ibmtoe (pe, y, DFmode);\n \n+#else\n+#ifdef C4X\n+\n+  c4xtoe (pe, y, HFmode);\n+\n #else\n   register unsigned EMUSHORT r;\n   register unsigned EMUSHORT *e, *p;\n@@ -3060,13 +3087,15 @@ e53toe (pe, y)\n #endif\n   eshift (yy, -5);\n   if (denorm)\n-    {\t\t\t\t/* if zero exponent, then normalize the significand */\n+    {\t\t\t\n+\t/* If zero exponent, then normalize the significand.  */\n       if ((k = enormlz (yy)) > NBITS)\n \tecleazs (yy);\n       else\n \tyy[E] -= (unsigned EMUSHORT) (k - 1);\n     }\n   emovo (yy, y);\n+#endif /* not C4X */\n #endif /* not IBM */\n #endif /* not DEC */\n }\n@@ -3289,6 +3318,13 @@ e24toe (pe, y)\n   ibmtoe (pe, y, SFmode);\n \n #else\n+\n+#ifdef C4X\n+\n+  c4xtoe (pe, y, QFmode);\n+\n+#else\n+\n   register unsigned EMUSHORT r;\n   register unsigned EMUSHORT *e, *p;\n   unsigned EMUSHORT yy[NI];\n@@ -3370,6 +3406,7 @@ e24toe (pe, y)\n \tyy[E] -= (unsigned EMUSHORT) (k - 1);\n     }\n   emovo (yy, y);\n+#endif /* not C4X */\n #endif /* not IBM */\n }\n \n@@ -3654,7 +3691,28 @@ toe53 (x, y)\n   toibm (x, y, DFmode);\n }\n \n-#else  /* it's neither DEC nor IBM */\n+#else /* it's neither DEC nor IBM */\n+#ifdef C4X\n+/* Convert e-type X to C4X-format double E.  */\n+\n+static void \n+etoe53 (x, e)\n+     unsigned EMUSHORT *x, *e;\n+{\n+  etoc4x (x, e, HFmode);\n+}\n+\n+/* Convert exploded e-type X, that has already been rounded to\n+   56-bit precision, to IBM 370 double Y.  */\n+\n+static void \n+toe53 (x, y)\n+     unsigned EMUSHORT *x, *y;\n+{\n+  toc4x (x, y, HFmode);\n+}\n+\n+#else  /* it's neither DEC nor IBM nor C4X */\n \n /* Convert e-type X to IEEE double E.  */\n \n@@ -3778,6 +3836,7 @@ toe53 (x, y)\n     }\n }\n \n+#endif /* not C4X */\n #endif /* not IBM */\n #endif /* not DEC */\n \n@@ -3806,6 +3865,29 @@ toe24 (x, y)\n }\n \n #else\n+\n+#ifdef C4X\n+/* Convert e-type X to C4X float E.  */\n+\n+static void \n+etoe24 (x, e)\n+     unsigned EMUSHORT *x, *e;\n+{\n+  etoc4x (x, e, QFmode);\n+}\n+\n+/* Convert exploded e-type X, that has already been rounded to\n+   float precision, to IBM 370 float Y.  */\n+\n+static void \n+toe24 (x, y)\n+     unsigned EMUSHORT *x, *y;\n+{\n+  toc4x (x, y, QFmode);\n+}\n+\n+#else\n+\n /* Convert e-type X to IEEE float E.  DEC float is the same as IEEE float.  */\n \n static void \n@@ -3931,6 +4013,7 @@ toe24 (x, y)\n     }\n #endif\n }\n+#endif  /* not C4X */\n #endif  /* not IBM */\n \n /* Compare two e type numbers. \n@@ -4878,9 +4961,13 @@ asctoe53 (s, y)\n {\n #if defined(DEC) || defined(IBM)\n   asctoeg (s, y, 56);\n+#else\n+#if defined(C4X)\n+  asctoeg (s, y, 32);\n #else\n   asctoeg (s, y, 53);\n #endif\n+#endif\n }\n \n \n@@ -5188,13 +5275,18 @@ asctoeg (ss, y, oprec)\n   /* Round and convert directly to the destination type */\n   if (oprec == 53)\n     lexp -= EXONE - 0x3ff;\n+#ifdef C4X\n+  else if (oprec == 24 || oprec == 32)\n+    lexp -= (EXONE - 0x7f);\n+#else\n #ifdef IBM\n   else if (oprec == 24 || oprec == 56)\n     lexp -= EXONE - (0x41 << 2);\n #else\n   else if (oprec == 24)\n     lexp -= EXONE - 0177;\n-#endif\n+#endif /* IBM */\n+#endif /* C4X */\n #ifdef DEC\n   else if (oprec == 56)\n     lexp -= EXONE - 0201;\n@@ -5218,6 +5310,12 @@ asctoeg (ss, y, oprec)\n       toibm (yy, y, DFmode);\n       break;\n #endif\n+#ifdef C4X\n+    case 32:\n+      toc4x (yy, y, HFmode);\n+      break;\n+#endif\n+\n     case 53:\n       toe53 (yy, y);\n       break;\n@@ -5709,6 +5807,254 @@ toibm (x, y, mode)\n }\n #endif /* IBM */\n \n+\n+#ifdef C4X\n+/* Convert C4X single/double precision to e type.  */\n+\n+static void \n+c4xtoe (d, e, mode)\n+     unsigned EMUSHORT *d;\n+     unsigned EMUSHORT *e;\n+     enum machine_mode mode;\n+{\n+  unsigned EMUSHORT y[NI];\n+  int r;\n+  int rndsav;\n+  int isnegative;\n+  int size;\n+  int i;\n+  int carry;\n+\n+  /* Short-circuit the zero case. */\n+  if ((d[0] == 0x8000)\n+      && (d[1] == 0x0000)\n+      && ((mode == QFmode) || ((d[2] == 0x0000) && (d[3] == 0x0000))))\n+    {\n+      e[0] = 0;\n+      e[1] = 0;\n+      e[2] = 0;\n+      e[3] = 0;\n+      e[4] = 0;\n+      e[5] = 0;\n+      return;\n+    }\n+\n+  ecleaz (y);\t\t\t/* start with a zero */\n+  r = d[0];\t\t\t/* get sign/exponent part */\n+  if (r & (unsigned int) 0x0080)\n+  {\n+     y[0] = 0xffff;\t\t/* fill in our sign */\n+     isnegative = TRUE;\n+  }\n+  else\n+  {\n+     isnegative = FALSE;\n+  }\n+     \n+  r >>= 8;\t\t\t/* Shift exponent word down 8 bits.  */\n+  if (r & 0x80)\t\t\t/* Make the exponent negative if it is. */\n+  {\n+     r = r | (~0 & ~0xff);\n+  }\n+\n+  if (isnegative)\n+  {\n+     /* Now do the high order mantissa.  We don't \"or\" on the high bit\n+\tbecause it is 2 (not 1) and is handled a little differently\n+\tbelow.  */\n+     y[M] = d[0] & 0x7f;\t\n+\n+     y[M+1] = d[1];\n+     if (mode != QFmode)\t/* There are only 2 words in QFmode.  */\n+     {\n+\ty[M+2] = d[2];\t\t/* Fill in the rest of our mantissa.  */\n+\ty[M+3] = d[3];\n+\tsize = 4;\n+     }\n+     else\n+     {\n+\tsize = 2;\n+     }\n+     eshift(y, -8);\n+\n+     /* Now do the two's complement on the data.  */\n+\n+     carry = 1;\t/* Initially add 1 for the two's complement. */\n+     for (i=size + M; i > M; i--)\n+     {\n+\tif (carry && (y[i] == 0x0000))\n+\t{\n+\t   /* We overflowed into the next word, carry is the same.  */\n+\t   y[i] = carry ? 0x0000 : 0xffff;\n+\t}\n+\telse\n+\t{\n+\t   /* No overflow, just invert and add carry.  */\n+\t   y[i] = ((~y[i]) + carry) & 0xffff;\n+\t   carry = 0;\n+\t}\n+     }\n+\n+     if (carry)\n+     {\n+\teshift(y, -1);\n+\ty[M+1] |= 0x8000;\n+\tr++;\n+     }\n+     y[1] = r + EXONE;\n+  }\n+  else\n+  {\n+    /* Add our e type exponent offset to form our exponent.  */\n+     r += EXONE;\n+     y[1] = r;\t\t\t\n+\n+     /* Now do the high order mantissa strip off the exponent and sign\n+\tbits and add the high 1 bit.  */\n+     y[M] = d[0] & 0x7f | 0x80;\t\n+\n+     y[M+1] = d[1];\n+     if (mode != QFmode)\t/* There are only 2 words in QFmode.  */\n+     {\n+\ty[M+2] = d[2];\t\t/* Fill in the rest of our mantissa.  */\n+\ty[M+3] = d[3];\n+     }\n+     eshift(y, -8);\n+  }\n+\n+  emovo (y, e);\n+}\n+\n+\n+/* Convert e type to C4X single/double precision.  */\n+\n+static void \n+etoc4x (x, d, mode)\n+     unsigned EMUSHORT *x, *d;\n+     enum machine_mode mode;\n+{\n+  unsigned EMUSHORT xi[NI];\n+  EMULONG exp;\n+  int rndsav;\n+\n+  emovi (x, xi);\n+\n+  /* Adjust exponent for offsets. */\n+  exp = (EMULONG) xi[E] - (EXONE - 0x7f);\n+\n+  /* Round off to nearest or even. */\n+  rndsav = rndprc;\n+  rndprc = mode == QFmode ? 24 : 32;\n+  emdnorm (xi, 0, 0, exp, 64);\n+  rndprc = rndsav;\n+  toc4x (xi, d, mode);\n+}\n+\n+static void \n+toc4x (x, y, mode)\n+     unsigned EMUSHORT *x, *y;\n+     enum machine_mode mode;\n+{\n+  int i;\n+  int r;\n+  int v;\n+  int carry;\n+  \n+  /* Short-circuit the zero case */\n+  if ((x[0] == 0)\t/* Zero exponent and sign */\n+      && (x[1] == 0)\n+      && (x[M] == 0)\t/* The rest is for zero mantissa */\n+      && (x[M+1] == 0)\n+      /* Only check for double if necessary */\n+      && ((mode == QFmode) || ((x[M+2] == 0) && (x[M+3] == 0))))\n+    {\n+      /* We have a zero.  Put it into the output and return. */\n+      *y++ = 0x8000;\n+      *y++ = 0x0000;\n+      if (mode != QFmode)\n+        {\n+          *y++ = 0x0000;\n+          *y++ = 0x0000;\n+        }\n+      return;\n+    }\n+  \n+  *y = 0;\n+  \n+  /* Negative number require a two's complement conversion of the\n+     mantissa. */\n+  if (x[0])\n+    {\n+      *y = 0x0080;\n+      \n+      i = ((int) x[1]) - 0x7f;\n+      \n+      /* Now add 1 to the inverted data to do the two's complement. */\n+      if (mode != QFmode)\n+\tv = 4 + M;\n+      else\n+\tv = 2 + M;\n+      carry = 1;\n+      while (v > M)\n+\t{\n+\t  if (x[v] == 0x0000)\n+\t    {\n+\t      x[v] = carry ? 0x0000 : 0xffff;\n+\t    }\n+\t  else\n+\t    {\n+\t      x[v] = ((~x[v]) + carry) & 0xffff;\n+\t      carry = 0;\n+\t    }\n+\t  v--;\n+\t}\n+      \n+      /* The following is a special case.  The C4X negative float requires\n+\t a zero in the high bit (because the format is (2 - x) x 2^m), so\n+\t if a one is in that bit, we have to shift left one to get rid\n+\t of it.  This only occurs if the number is -1 x 2^m. */\n+      if (x[M+1] & 0x8000)\n+\t{\n+\t  /* This is the case of -1 x 2^m, we have to rid ourselves of the\n+\t     high sign bit and shift the exponent. */\n+\t  eshift(x, 1);\n+\t  i--;\n+\t}\n+    }\n+  else\n+    {\n+      i = ((int) x[1]) - 0x7f;\n+    }\n+\n+  if ((i < -128) || (i > 127))\n+    {\n+      y[0] |= 0xff7f;\n+      y[1] = 0xffff;\n+      if (mode != QFmode)\n+\t{\n+\t  y[2] = 0xffff;\n+\t  y[3] = 0xffff;\n+\t}\n+#ifdef ERANGE\n+      errno = ERANGE;\n+#endif\n+      return;\n+    }\n+  \n+  y[0] |= ((i & 0xff) << 8);\n+  \n+  eshift (x, 8);\n+  \n+  y[0] |= x[M] & 0x7f;\n+  y[1] = x[M + 1];\n+  if (mode != QFmode)\n+    {\n+      y[2] = x[M + 2];\n+      y[3] = x[M + 3];\n+    }\n+}\n+#endif /* C4X */\n+\n /* Output a binary NaN bit pattern in the target machine's format.  */\n \n /* If special NaN bit patterns are required, define them in tm.h\n@@ -5766,37 +6112,41 @@ make_nan (nan, sign, mode)\n     {\n /* Possibly the `reserved operand' patterns on a VAX can be\n    used like NaN's, but probably not in the same way as IEEE.  */\n-#if !defined(DEC) && !defined(IBM)\n+#if !defined(DEC) && !defined(IBM) && !defined(C4X)\n     case TFmode:\n       n = 8;\n       if (REAL_WORDS_BIG_ENDIAN)\n \tp = TFbignan;\n       else\n \tp = TFlittlenan;\n       break;\n+\n     case XFmode:\n       n = 6;\n       if (REAL_WORDS_BIG_ENDIAN)\n \tp = XFbignan;\n       else\n \tp = XFlittlenan;\n       break;\n+\n     case DFmode:\n       n = 4;\n       if (REAL_WORDS_BIG_ENDIAN)\n \tp = DFbignan;\n       else\n \tp = DFlittlenan;\n       break;\n-    case HFmode:\n+\n     case SFmode:\n+    case HFmode:\n       n = 2;\n       if (REAL_WORDS_BIG_ENDIAN)\n \tp = SFbignan;\n       else\n \tp = SFlittlenan;\n       break;\n #endif\n+\n     default:\n       abort ();\n     }\n@@ -6349,6 +6699,11 @@ significand_size (mode)\n switch (GET_MODE_BITSIZE (mode))\n   {\n   case 32:\n+ \n+#if TARGET_FLOAT_FORMAT == C4X_FLOAT_FORMAT\n+    return 56;\n+#endif\n+\n     return 24;\n \n   case 64:\n@@ -6360,10 +6715,14 @@ switch (GET_MODE_BITSIZE (mode))\n #else\n #if TARGET_FLOAT_FORMAT == VAX_FLOAT_FORMAT\n     return 56;\n+#else\n+#if TARGET_FLOAT_FORMAT == C4X_FLOAT_FORMAT\n+    return 56;\n #else\n     abort ();\n #endif\n #endif\n+#endif\n #endif\n \n   case 96:"}, {"sha": "848ef184f2f72fc53dc1b66a1d307761da7f8241", "filename": "gcc/real.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Freal.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Freal.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freal.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -26,6 +26,7 @@ Boston, MA 02111-1307, USA.  */\n #define IEEE_FLOAT_FORMAT 1\n #define VAX_FLOAT_FORMAT 2\n #define IBM_FLOAT_FORMAT 3\n+#define C4X_FLOAT_FORMAT 4\n \n /* Default to IEEE float if not specified.  Nearly all machines use it.  */\n "}, {"sha": "80936971b6945a3883805ce60ab209abb76d4900", "filename": "gcc/reload.c", "status": "modified", "additions": 71, "deletions": 0, "changes": 71, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Freload.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Freload.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -128,6 +128,8 @@ a register with any other reload.  */\n    reload_optional\t  char, nonzero for an optional reload.\n \t\t\t   Optional reloads are ignored unless the\n \t\t\t   value is already sitting in a register.\n+   reload_nongroup\t  char, nonzero when a reload must use a register\n+\t\t\t   not already allocated to a group.\n    reload_inc\t\t  int, positive amount to increment or decrement by if\n \t\t\t   reload_in is a PRE_DEC, PRE_INC, POST_DEC, POST_INC.\n \t\t\t   Ignored otherwise (don't assume it is zero).\n@@ -175,6 +177,7 @@ enum machine_mode reload_inmode[MAX_RELOADS];\n enum machine_mode reload_outmode[MAX_RELOADS];\n rtx reload_reg_rtx[MAX_RELOADS];\n char reload_optional[MAX_RELOADS];\n+char reload_nongroup[MAX_RELOADS];\n int reload_inc[MAX_RELOADS];\n rtx reload_in_reg[MAX_RELOADS];\n char reload_nocombine[MAX_RELOADS];\n@@ -527,6 +530,7 @@ push_secondary_reload (in_p, x, opnum, optional, reload_class, reload_mode,\n \t  reload_outmode[t_reload] = ! in_p ? t_mode : VOIDmode;\n \t  reload_reg_rtx[t_reload] = 0;\n \t  reload_optional[t_reload] = optional;\n+\t  reload_nongroup[t_reload] = 0;\n \t  reload_inc[t_reload] = 0;\n \t  /* Maybe we could combine these, but it seems too tricky.  */\n \t  reload_nocombine[t_reload] = 1;\n@@ -595,6 +599,7 @@ push_secondary_reload (in_p, x, opnum, optional, reload_class, reload_mode,\n       reload_outmode[s_reload] = ! in_p ? mode : VOIDmode;\n       reload_reg_rtx[s_reload] = 0;\n       reload_optional[s_reload] = optional;\n+      reload_nongroup[s_reload] = 0;\n       reload_inc[s_reload] = 0;\n       /* Maybe we could combine these, but it seems too tricky.  */\n       reload_nocombine[s_reload] = 1;\n@@ -1271,6 +1276,7 @@ push_reload (in, out, inloc, outloc, class,\n       reload_outmode[i] = outmode;\n       reload_reg_rtx[i] = 0;\n       reload_optional[i] = optional;\n+      reload_nongroup[i] = 0;\n       reload_inc[i] = 0;\n       reload_nocombine[i] = 0;\n       reload_in_reg[i] = inloc ? *inloc : 0;\n@@ -2315,6 +2321,7 @@ find_reloads (insn, replace, ind_levels, live_known, reload_reg_p)\n   int goal_alternative_swapped;\n   int best;\n   int commutative;\n+  int changed;\n   char operands_match[MAX_RECOG_OPERANDS][MAX_RECOG_OPERANDS];\n   rtx substed_operand[MAX_RECOG_OPERANDS];\n   rtx body = PATTERN (insn);\n@@ -3970,6 +3977,67 @@ find_reloads (insn, replace, ind_levels, live_known, reload_reg_p)\n \t    reload_in[j] = 0;\n \t  }\n \n+  /* Set which reloads must use registers not used in any group.  Start\n+     with those that conflict with a group and then include ones that\n+     conflict with ones that are already known to conflict with a group.  */\n+\n+  changed = 0;\n+  for (i = 0; i < n_reloads; i++)\n+    {\n+      enum machine_mode mode = reload_inmode[i];\n+      enum reg_class class = reload_reg_class[i];\n+      int size;\n+\n+      if (GET_MODE_SIZE (reload_outmode[i]) > GET_MODE_SIZE (mode))\n+\tmode = reload_outmode[i];\n+      size = CLASS_MAX_NREGS (class, mode);\n+\n+      if (size == 1)\n+\tfor (j = 0; j < n_reloads; j++)\n+\t  if ((CLASS_MAX_NREGS (reload_reg_class[j],\n+\t\t\t\t(GET_MODE_SIZE (reload_outmode[j])\n+\t\t\t\t > GET_MODE_SIZE (reload_inmode[j]))\n+\t\t\t\t? reload_outmode[j] : reload_inmode[j])\n+\t       > 1)\n+\t      && !reload_optional[j]\n+\t      && (reload_in[j] != 0 || reload_out[j] != 0\n+\t\t  || reload_secondary_p[j])\n+\t      && reloads_conflict (i, j)\n+\t      && reg_classes_intersect_p (class, reload_reg_class[j]))\n+\t    {\n+\t      reload_nongroup[i] = 1;\n+\t      changed = 1;\n+\t      break;\n+\t    }\n+    }\n+\n+  while (changed)\n+    {\n+      changed = 0;\n+\n+      for (i = 0; i < n_reloads; i++)\n+\t{\n+\t  enum machine_mode mode = reload_inmode[i];\n+\t  enum reg_class class = reload_reg_class[i];\n+\t  int size;\n+\n+\t  if (GET_MODE_SIZE (reload_outmode[i]) > GET_MODE_SIZE (mode))\n+\t    mode = reload_outmode[i];\n+\t  size = CLASS_MAX_NREGS (class, mode);\n+\n+\t  if (! reload_nongroup[i] && size == 1)\n+\t    for (j = 0; j < n_reloads; j++)\n+\t      if (reload_nongroup[j]\n+\t\t  && reloads_conflict (i, j)\n+\t\t  && reg_classes_intersect_p (class, reload_reg_class[j]))\n+\t\t{\n+\t\t  reload_nongroup[i] = 1;\n+\t\t  changed = 1;\n+\t\t  break;\n+\t\t}\n+\t}\n+    }\n+\n #else /* no REGISTER_CONSTRAINTS */\n   int noperands;\n   int insn_code_number;\n@@ -6277,6 +6345,9 @@ debug_reload_to_stream (f)\n       if (reload_optional[r])\n \tfprintf (f, \", optional\");\n \n+      if (reload_nongroup[r])\n+\tfprintf (stderr, \", nongroup\");\n+\n       if (reload_inc[r] != 0)\n \tfprintf (f, \", inc by %d\", reload_inc[r]);\n "}, {"sha": "3ca2e98b61a66b8aa5e1aa9474f26afea0e59197", "filename": "gcc/reload.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Freload.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Freload.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload.h?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,5 +1,5 @@\n /* Communication between reload.c and reload1.c.\n-   Copyright (C) 1987, 91-95, 1997, 1998 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 91-95, 97, 1998 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -59,6 +59,7 @@ extern enum reg_class reload_reg_class[MAX_RELOADS];\n extern enum machine_mode reload_inmode[MAX_RELOADS];\n extern enum machine_mode reload_outmode[MAX_RELOADS];\n extern char reload_optional[MAX_RELOADS];\n+extern char reload_nongroup[MAX_RELOADS];\n extern int reload_inc[MAX_RELOADS];\n extern int reload_opnum[MAX_RELOADS];\n extern int reload_secondary_p[MAX_RELOADS];"}, {"sha": "c9ebee9f89df7ea667ad41902a83a6cc457672f8", "filename": "gcc/reload1.c", "status": "modified", "additions": 15, "deletions": 41, "changes": 56, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1,5 +1,5 @@\n /* Reload pseudo regs into hard regs for insns that require hard regs.\n-   Copyright (C) 1987, 88, 89, 92-7 1998 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 88, 89, 92-97, 1998 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -378,7 +378,6 @@ static void clear_reload_reg_in_use\tPROTO((int, int, enum reload_type,\n static int reload_reg_free_p\t\tPROTO((int, int, enum reload_type));\n static int reload_reg_free_before_p\tPROTO((int, int, enum reload_type));\n static int reload_reg_reaches_end_p\tPROTO((int, int, enum reload_type));\n-static int reloads_conflict \t\tPROTO((int, int));\n static int allocate_reload_reg\t\tPROTO((int, rtx, int, int));\n static void choose_reload_regs\t\tPROTO((rtx, rtx));\n static void merge_assigned_reloads\tPROTO((rtx));\n@@ -1165,7 +1164,6 @@ reload (first, global, dumpfile)\n \t\t  enum reg_class class = reload_reg_class[i];\n \t\t  int size;\n \t\t  enum machine_mode mode;\n-\t\t  int nongroup_need;\n \t\t  struct needs *this_needs;\n \n \t\t  /* Don't count the dummy reloads, for which one of the\n@@ -1193,31 +1191,6 @@ reload (first, global, dumpfile)\n \t\t    mode = reload_outmode[i];\n \t\t  size = CLASS_MAX_NREGS (class, mode);\n \n-\t\t  /* If this class doesn't want a group, determine if we have\n-\t\t     a nongroup need or a regular need.  We have a nongroup\n-\t\t     need if this reload conflicts with a group reload whose\n-\t\t     class intersects with this reload's class.  */\n-\n-\t\t  nongroup_need = 0;\n-\t\t  if (size == 1)\n-\t\t    for (j = 0; j < n_reloads; j++)\n-\t\t      if ((CLASS_MAX_NREGS (reload_reg_class[j],\n-\t\t\t\t\t    (GET_MODE_SIZE (reload_outmode[j])\n-\t\t\t\t\t     > GET_MODE_SIZE (reload_inmode[j]))\n-\t\t\t\t\t    ? reload_outmode[j]\n-\t\t\t\t\t    : reload_inmode[j])\n-\t\t\t   > 1)\n-\t\t\t  && (!reload_optional[j])\n-\t\t\t  && (reload_in[j] != 0 || reload_out[j] != 0\n-\t\t\t      || reload_secondary_p[j])\n-\t\t\t  && reloads_conflict (i, j)\n-\t\t\t  && reg_classes_intersect_p (class,\n-\t\t\t\t\t\t      reload_reg_class[j]))\n-\t\t\t{\n-\t\t\t  nongroup_need = 1;\n-\t\t\t  break;\n-\t\t\t}\n-\n \t\t  /* Decide which time-of-use to count this reload for.  */\n \t\t  switch (reload_when_needed[i])\n \t\t    {\n@@ -1295,10 +1268,10 @@ reload (first, global, dumpfile)\n \t\t    }\n \t\t  else if (size == 1)\n \t\t    {\n-\t\t      this_needs->regs[nongroup_need][(int) class] += 1;\n+\t\t      this_needs->regs[reload_nongroup[i]][(int) class] += 1;\n \t\t      p = reg_class_superclasses[(int) class];\n \t\t      while (*p != LIM_REG_CLASSES)\n-\t\t\tthis_needs->regs[nongroup_need][(int) *p++] += 1;\n+\t\t\tthis_needs->regs[reload_nongroup[i]][(int) *p++] += 1;\n \t\t    }\n \t\t  else\n \t\t    abort ();\n@@ -1406,20 +1379,21 @@ reload (first, global, dumpfile)\n \t      if (GET_CODE (insn) == CALL_INSN\n \t\t  && caller_save_spill_class != NO_REGS)\n \t\t{\n-\t\t  /* See if this register would conflict with any reload\n-\t\t     that needs a group.  */\n+\t\t  /* See if this register would conflict with any reload that\n+\t\t     needs a group or any reload that needs a nongroup.  */\n \t\t  int nongroup_need = 0;\n \t\t  int *caller_save_needs;\n \n \t\t  for (j = 0; j < n_reloads; j++)\n-\t\t    if ((CLASS_MAX_NREGS (reload_reg_class[j],\n-\t\t\t\t\t  (GET_MODE_SIZE (reload_outmode[j])\n-\t\t\t\t\t   > GET_MODE_SIZE (reload_inmode[j]))\n-\t\t\t\t\t  ? reload_outmode[j]\n-\t\t\t\t\t  : reload_inmode[j])\n-\t\t\t > 1)\n-\t\t\t&& reg_classes_intersect_p (caller_save_spill_class,\n-\t\t\t\t\t\t    reload_reg_class[j]))\n+\t\t    if (reg_classes_intersect_p (caller_save_spill_class,\n+\t\t\t\t\t\t reload_reg_class[j])\n+\t\t\t&& ((CLASS_MAX_NREGS\n+\t\t\t     (reload_reg_class[j],\n+\t\t\t      (GET_MODE_SIZE (reload_outmode[j])\n+\t\t\t       > GET_MODE_SIZE (reload_inmode[j]))\n+\t\t\t      ? reload_outmode[j] : reload_inmode[j])\n+\t\t\t     > 1)\n+\t\t\t    || reload_nongroup[j]))\n \t\t      {\n \t\t\tnongroup_need = 1;\n \t\t\tbreak;\n@@ -4910,7 +4884,7 @@ reload_reg_reaches_end_p (regno, opnum, type)\n \n    This function uses the same algorithm as reload_reg_free_p above.  */\n \n-static int\n+int\n reloads_conflict (r1, r2)\n      int r1, r2;\n {"}, {"sha": "58c292e6ce7650cb5770d224e19ba2078a8da1bc", "filename": "gcc/stmt.c", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fstmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fstmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstmt.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -125,11 +125,6 @@ extern rtx arg_pointer_save_area;\n \n /* Chain of all RTL_EXPRs that have insns in them.  */\n extern tree rtl_expr_chain;\n-\n-/* Stack allocation level in which temporaries for TARGET_EXPRs live.  */\n-extern int target_temp_slot_level;\n-\n-extern int temp_slot_level;\n \f\n /* Functions and data structures for expanding case statements.  */\n "}, {"sha": "44ea22c38aeb60fb0106252ec05d17eaec00485c", "filename": "gcc/texinfo.tex", "status": "modified", "additions": 146, "deletions": 84, "changes": 230, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ftexinfo.tex", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ftexinfo.tex", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftexinfo.tex?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -25,8 +25,12 @@\n %\n % Please try the latest version of texinfo.tex before submitting bug\n % reports; you can get the latest version from:\n-% ftp://ftp.cs.umb.edu/pub/tex/texinfo.tex\n % /home/gd/gnu/doc/texinfo.tex on the GNU machines.\n+% ftp://ftp.gnu.org/pub/gnu/texinfo.tex\n+% (and all GNU mirrors)\n+% ftp://tug.org/tex/texinfo.tex\n+% ftp://ctan.org/macros/texinfo/texinfo.tex\n+% (and all CTAN mirrors, finger ctan@tug.org for a list).\n % \n % Send bug reports to bug-texinfo@gnu.org.\n % Please include a precise test case in each bug report,\n@@ -35,6 +39,18 @@\n % Texinfo macros (with @macro) are *not* supported by texinfo.tex.  You\n % have to run makeinfo -E to expand macros first; the texi2dvi script\n % does this.\n+% \n+% To process a Texinfo manual with TeX, it's most reliable to use the\n+% texi2dvi shell script that comes with the distribution.  For simple\n+% manuals, you can get away with:\n+%   tex foo.texi\n+%   texindex foo.??\n+%   tex foo.texi\n+%   tex foo.texi\n+%   dvips foo.dvi -o # or whatever, to process the dvi file.\n+% The extra runs of TeX get the cross-reference information correct.\n+% Sometimes one run after texindex suffices, and sometimes you need more\n+% than two; texi2dvi does it as many times as necessary.\n \n \n % Make it possible to create a .fmt file just by loading this file:\n@@ -70,17 +86,9 @@\n \\let\\ptexstar=\\*\n \\let\\ptext=\\t\n \n-% Be sure we're in horizontal mode when doing a tie, since we make space\n-% equivalent to this in @example-like environments. Otherwise, a space\n-% at the beginning of a line will start with \\penalty -- and\n-% since \\penalty is valid in vertical mode, we'd end up putting the\n-% penalty on the vertical list instead of in the new paragraph.\n-{\\catcode`@ = 11\n- % Avoid using \\@M directly, because that causes trouble\n- % if the definition is written into an index file.\n- \\global\\let\\tiepenalty = \\@M\n- \\gdef\\tie{\\leavevmode\\penalty\\tiepenalty\\ }\n-}\n+% We never want plain's outer \\+ definition in Texinfo.\n+% For @tex, we can use \\tabalign.\n+\\let\\+ = \\relax\n \n \n \\message{Basics,}\n@@ -90,18 +98,20 @@\n % starts a new line in the output.\n \\newlinechar = `^^J\n \n-% Set up fixed words for English.\n-\\ifx\\putwordChapter\\undefined{\\gdef\\putwordChapter{Chapter}}\\fi%\n-\\def\\putwordInfo{Info}%\n-\\ifx\\putwordSee\\undefined{\\gdef\\putwordSee{See}}\\fi%\n-\\ifx\\putwordsee\\undefined{\\gdef\\putwordsee{see}}\\fi%\n-\\ifx\\putwordfile\\undefined{\\gdef\\putwordfile{file}}\\fi%\n-\\ifx\\putwordpage\\undefined{\\gdef\\putwordpage{page}}\\fi%\n-\\ifx\\putwordsection\\undefined{\\gdef\\putwordsection{section}}\\fi%\n-\\ifx\\putwordSection\\undefined{\\gdef\\putwordSection{Section}}\\fi%\n-\\ifx\\putwordTableofContents\\undefined{\\gdef\\putwordTableofContents{Table of Contents}}\\fi%\n-\\ifx\\putwordShortContents\\undefined{\\gdef\\putwordShortContents{Short Contents}}\\fi%\n-\\ifx\\putwordAppendix\\undefined{\\gdef\\putwordAppendix{Appendix}}\\fi%\n+% Set up fixed words for English if not already set.\n+\\ifx\\putwordAppendix\\undefined \\gdef\\putwordAppendix{Appendix}\\fi\n+\\ifx\\putwordChapter\\undefined  \\gdef\\putwordChapter{Chapter}\\fi\n+\\ifx\\putwordfile\\undefined     \\gdef\\putwordfile{file}\\fi\n+\\ifx\\putwordInfo\\undefined     \\gdef\\putwordfile{Info}\\fi\n+\\ifx\\putwordMethodon\\undefined \\gdef\\putwordMethodon{Method on}\\fi\n+\\ifx\\putwordon\\undefined       \\gdef\\putwordon{on}\\fi\n+\\ifx\\putwordpage\\undefined     \\gdef\\putwordpage{page}\\fi\n+\\ifx\\putwordsection\\undefined  \\gdef\\putwordsection{section}\\fi\n+\\ifx\\putwordSection\\undefined  \\gdef\\putwordSection{Section}\\fi\n+\\ifx\\putwordsee\\undefined      \\gdef\\putwordsee{see}\\fi\n+\\ifx\\putwordSee\\undefined      \\gdef\\putwordSee{See}\\fi\n+\\ifx\\putwordShortContents\\undefined  \\gdef\\putwordShortContents{Short Contents}\\fi\n+\\ifx\\putwordTableofContents\\undefined\\gdef\\putwordTableofContents{Table of Contents}\\fi\n \n % Ignore a token.\n %\n@@ -393,7 +403,7 @@\n \n % @@ prints an @\n % Kludge this until the fonts are right (grr).\n-\\def\\@{{\\tt \\char '100}}\n+\\def\\@{{\\tt\\char64}}\n \n % This is turned off because it was never documented\n % and you can use @w{...} around a quote to suppress ligatures.\n@@ -403,8 +413,8 @@\n %\\def\\'{{'}}\n \n % Used to generate quoted braces.\n-\\def\\mylbrace {{\\tt \\char '173}}\n-\\def\\myrbrace {{\\tt \\char '175}}\n+\\def\\mylbrace {{\\tt\\char123}}\n+\\def\\myrbrace {{\\tt\\char125}}\n \\let\\{=\\mylbrace\n \\let\\}=\\myrbrace\n \\begingroup\n@@ -441,6 +451,18 @@\n   \\fi\\fi\n }\n \n+% Be sure we're in horizontal mode when doing a tie, since we make space\n+% equivalent to this in @example-like environments. Otherwise, a space\n+% at the beginning of a line will start with \\penalty -- and\n+% since \\penalty is valid in vertical mode, we'd end up putting the\n+% penalty on the vertical list instead of in the new paragraph.\n+{\\catcode`@ = 11\n+ % Avoid using \\@M directly, because that causes trouble\n+ % if the definition is written into an index file.\n+ \\global\\let\\tiepenalty = \\@M\n+ \\gdef\\tie{\\leavevmode\\penalty\\tiepenalty\\ }\n+}\n+\n % @: forces normal size whitespace following.\n \\def\\:{\\spacefactor=1000 }\n \n@@ -772,6 +794,7 @@\n % Also ignore @macro ... @end macro.  The user must run texi2dvi,\n % which runs makeinfo to do macro expansion.  Ignore @unmacro, too.\n \\def\\macro{\\doignore{macro}}\n+\\def\\macrocsname{macro}\n \\let\\unmacro = \\comment\n \n \n@@ -786,7 +809,9 @@\n   \\ignoresections\n   %\n   % Define a command to swallow text until we reach `@end #1'.\n-  \\long\\def\\doignoretext##1\\end #1{\\enddoignore}%\n+  % This @ is a catcode 12 token (that is the normal catcode of @ in\n+  % this texinfo.tex file).  We change the catcode of @ below to match.\n+  \\long\\def\\doignoretext##1@end #1{\\enddoignore}%\n   %\n   % Make sure that spaces turn into tokens that match what \\doignoretext wants.\n   \\catcode32 = 10\n@@ -795,6 +820,22 @@\n   \\catcode`\\{ = 9\n   \\catcode`\\} = 9\n   %\n+  % We must not have @c interpreted as a control sequence.\n+  \\catcode`\\@ = 12\n+  %\n+  % Make the letter c a comment character so that the rest of the line\n+  % will be ignored. This way, the document can have (for example)\n+  %   @c @end ifinfo\n+  % and the @end ifinfo will be properly ignored.\n+  % (We've just changed @ to catcode 12.)\n+  % \n+  % But we can't do this if #1 is `macro', since that actually contains a c.\n+  % Happily, none of the other conditionals have the letter `c' in their names!\n+  \\def\\temp{#1}%\n+  \\ifx\\temp\\macrocsname \\else\n+    \\catcode`\\c = 14\n+  \\fi\n+  %\n   % And now expand that command.\n   \\doignoretext\n }\n@@ -1702,18 +1743,6 @@\n \n \n \\message{tables,}\n-\n-% @tabs -- simple alignment\n-\n-% These don't work.  For one thing, \\+ is defined as outer.\n-% So these macros cannot even be defined.\n-\n-%\\def\\tabs{\\parsearg\\tabszzz}\n-%\\def\\tabszzz #1{\\settabs\\+#1\\cr}\n-%\\def\\tabline{\\parsearg\\tablinezzz}\n-%\\def\\tablinezzz #1{\\+#1\\cr}\n-%\\def\\&{&}\n-\n % Tables -- @table, @ftable, @vtable, @item(x), @kitem(x), @xitem(x).\n \n % default indentation of table text\n@@ -2260,20 +2289,24 @@\n \n % @synindex foo bar    makes index foo feed into index bar.\n % Do this instead of @defindex foo if you don't want it as a separate index.\n-\\def\\synindex #1 #2 {%\n-\\expandafter\\let\\expandafter\\synindexfoo\\expandafter=\\csname#2indfile\\endcsname\n-\\expandafter\\let\\csname#1indfile\\endcsname=\\synindexfoo\n-\\expandafter\\xdef\\csname#1index\\endcsname{%     % Define \\xxxindex\n-\\noexpand\\doindex {#2}}%\n+% The \\closeout helps reduce unnecessary open files; the limit on the\n+% Acorn RISC OS is a mere 16 files.\n+\\def\\synindex#1 #2 {%\n+  \\expandafter\\let\\expandafter\\synindexfoo\\expandafter=\\csname#2indfile\\endcsname\n+  \\expandafter\\closeout\\csname#1indfile\\endcsname\n+  \\expandafter\\let\\csname#1indfile\\endcsname=\\synindexfoo\n+  \\expandafter\\xdef\\csname#1index\\endcsname{% define \\xxxindex\n+    \\noexpand\\doindex{#2}}%\n }\n \n % @syncodeindex foo bar   similar, but put all entries made for index foo\n % inside @code.\n-\\def\\syncodeindex #1 #2 {%\n-\\expandafter\\let\\expandafter\\synindexfoo\\expandafter=\\csname#2indfile\\endcsname\n-\\expandafter\\let\\csname#1indfile\\endcsname=\\synindexfoo\n-\\expandafter\\xdef\\csname#1index\\endcsname{%     % Define \\xxxindex\n-\\noexpand\\docodeindex {#2}}%\n+\\def\\syncodeindex#1 #2 {%\n+  \\expandafter\\let\\expandafter\\synindexfoo\\expandafter=\\csname#2indfile\\endcsname\n+  \\expandafter\\closeout\\csname#1indfile\\endcsname\n+  \\expandafter\\let\\csname#1indfile\\endcsname=\\synindexfoo\n+  \\expandafter\\xdef\\csname#1index\\endcsname{% define \\xxxindex\n+    \\noexpand\\docodeindex{#2}}%\n }\n \n % Define \\doindex, the driver for all \\fooindex macros.\n@@ -2294,6 +2327,7 @@\n \\def\\singlecodeindexer #1{\\doind{\\indexname}{\\code{#1}}}\n \n \\def\\indexdummies{%\n+\\def\\ { }%\n % Take care of the plain tex accent commands.\n \\def\\\"{\\realbackslash \"}%\n \\def\\`{\\realbackslash `}%\n@@ -3553,6 +3587,7 @@\n   \\let\\!=\\ptexexclam\n   \\let\\i=\\ptexi\n   \\let\\{=\\ptexlbrace\n+  \\let\\+=\\tabalign\n   \\let\\}=\\ptexrbrace\n   \\let\\*=\\ptexstar\n   \\let\\t=\\ptext\n@@ -3604,8 +3639,8 @@\n % \\nonarrowing is a flag.  If \"set\", @lisp etc don't narrow margins.\n \\let\\nonarrowing=\\relax\n \n-%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\n-% \\cartouche: draw rectangle w/rounded corners around argument\n+% @cartouche ... @end cartouche: draw rectangle w/rounded corners around\n+% environment contents.\n \\font\\circle=lcircle10\n \\newdimen\\circthick\n \\newdimen\\cartouter\\newdimen\\cartinner\n@@ -3632,9 +3667,9 @@\n         \\cartinner=\\hsize \\advance\\cartinner by-\\lskip\n                           \\advance\\cartinner by-\\rskip\n         \\cartouter=\\hsize\n-        \\advance\\cartouter by 18pt % allow for 3pt kerns on either\n+        \\advance\\cartouter by 18.4pt % allow for 3pt kerns on either\n %                                    side, and for 6pt waste from\n-%                                    each corner char\n+%                                    each corner char, and rule thickness\n         \\normbskip=\\baselineskip \\normpskip=\\parskip \\normlskip=\\lineskip\n         % Flag to tell @lisp, etc., not to narrow margin.\n         \\let\\nonarrowing=\\comment\n@@ -3892,7 +3927,12 @@\n \\catcode 61=\\active % 61 is `='\n \\obeylines\\activeparens\\spacesplit#3}\n \n-\\def\\defmethparsebody #1#2#3#4 {\\begingroup\\inENV %\n+% #1 is the \\E... control sequence to end the definition (which we define).\n+% #2 is the \\...x control sequence for consecutive fns (which we define).\n+% #3 is the control sequence to call to resume processing.\n+% #4, delimited by the space, is the class name.\n+% \n+\\def\\defmethparsebody#1#2#3#4 {\\begingroup\\inENV %\n \\medbreak %\n % Define the end token that this defining construct specifies\n % so that it will exit this group.\n@@ -3903,6 +3943,19 @@\n \\exdentamount=\\defbodyindent\n \\begingroup\\obeylines\\activeparens\\spacesplit{#3{#4}}}\n \n+% @deftypemethod has an extra argument that nothing else does.  Sigh.\n+% \n+\\def\\deftypemethparsebody#1#2#3#4 #5 {\\begingroup\\inENV %\n+\\medbreak %\n+% Define the end token that this defining construct specifies\n+% so that it will exit this group.\n+\\def#1{\\endgraf\\endgroup\\medbreak}%\n+\\def#2##1 {\\begingroup\\obeylines\\activeparens\\spacesplit{#3{##1}}}%\n+\\parindent=0in\n+\\advance\\leftskip by \\defbodyindent \\advance \\rightskip by \\defbodyindent\n+\\exdentamount=\\defbodyindent\n+\\begingroup\\obeylines\\activeparens\\spacesplit{#3{#4}{#5}}}\n+\n \\def\\defopparsebody #1#2#3#4#5 {\\begingroup\\inENV %\n \\medbreak %\n % Define the end token that this defining construct specifies\n@@ -4124,35 +4177,42 @@\n \n % @defmethod, and so on\n \n-% @defop {Funny Method} foo-class frobnicate argument\n+% @defop CATEGORY CLASS OPERATION ARG...\n \n \\def\\defop #1 {\\def\\defoptype{#1}%\n \\defopparsebody\\Edefop\\defopx\\defopheader\\defoptype}\n \n \\def\\defopheader #1#2#3{%\n-\\dosubind {fn}{\\code{#2}}{on #1}% Make entry in function index\n+\\dosubind {fn}{\\code{#2}}{\\putwordon\\ #1}% Make entry in function index\n \\begingroup\\defname {#2}{\\defoptype{} on #1}%\n \\defunargs {#3}\\endgroup %\n }\n \n-% @deftypemethod foo-class return-type foo-method args\n+% @deftypemethod CLASS RETURN-TYPE METHOD ARG...\n %\n \\def\\deftypemethod{%\n-  \\defmethparsebody\\Edeftypemethod\\deftypemethodx\\deftypemethodheader}\n+  \\deftypemethparsebody\\Edeftypemethod\\deftypemethodx\\deftypemethodheader}\n %\n % #1 is the class name, #2 the data type, #3 the method name, #4 the args.\n \\def\\deftypemethodheader#1#2#3#4{%\n-  \\deftypefnheaderx{Method on #1}{#2}#3 #4\\relax\n+  \\dosubind{fn}{\\code{#3}}{\\putwordon\\ \\code{#1}}% entry in function index\n+  \\begingroup\n+    \\defname{\\defheaderxcond#2\\relax$$$#3}{\\putwordMethodon\\ \\code{#1}}%\n+    \\deftypefunargs{#4}%\n+  \\endgroup\n }\n \n % @defmethod == @defop Method\n-\n+%\n \\def\\defmethod{\\defmethparsebody\\Edefmethod\\defmethodx\\defmethodheader}\n-\n-\\def\\defmethodheader #1#2#3{%\n-\\dosubind {fn}{\\code{#2}}{on #1}% entry in function index\n-\\begingroup\\defname {#2}{Method on #1}%\n-\\defunargs {#3}\\endgroup %\n+%\n+% #1 is the class name, #2 the method name, #3 the args.\n+\\def\\defmethodheader#1#2#3{%\n+  \\dosubind{fn}{\\code{#2}}{\\putwordon\\ \\code{#1}}% entry in function index\n+  \\begingroup\n+    \\defname{#2}{\\putwordMethodon\\ \\code{#1}}%\n+    \\defunargs{#3}%\n+  \\endgroup\n }\n \n % @defcv {Class Option} foo-class foo-flag\n@@ -4270,18 +4330,17 @@\n \n \n \\message{cross reference,}\n-% Define cross-reference macros\n-\\newwrite \\auxfile\n+\\newwrite\\auxfile\n \n-\\newif\\ifhavexrefs  % True if xref values are known.\n+\\newif\\ifhavexrefs    % True if xref values are known.\n \\newif\\ifwarnedxrefs  % True if we warned once that they aren't known.\n \n-% @inforef is simple.\n+% @inforef is relatively simple.\n \\def\\inforef #1{\\inforefzzz #1,,,,**}\n \\def\\inforefzzz #1,#2,#3,#4**{\\putwordSee{} \\putwordInfo{} \\putwordfile{} \\file{\\ignorespaces #3{}},\n   node \\samp{\\ignorespaces#1{}}}\n \n-% \\setref{foo} defines a cross-reference point named foo.\n+% @setref{foo} defines a cross-reference point named foo.\n \n \\def\\setref#1{%\n \\dosetq{#1-title}{Ytitle}%\n@@ -4349,19 +4408,23 @@\n     % into the usual \\leavevmode...\\vrule stuff for purposes of\n     % printing. So we \\turnoffactive for the \\refx-snt, back on for the\n     % printing, back off for the \\refx-pg.\n-    {\\turnoffactive \\refx{#1-snt}{}}%\n+    {\\normalturnoffactive \\refx{#1-snt}{}}%\n     \\space [\\printednodename],\\space\n     \\turnoffactive \\putwordpage\\tie\\refx{#1-pg}{}%\n   \\fi\n \\endgroup}\n \n % \\dosetq is the interface for calls from other macros\n \n-% Use \\turnoffactive so that punctuation chars such as underscore\n-% work in node names.\n-\\def\\dosetq #1#2{{\\let\\folio=0 \\turnoffactive\n-\\edef\\next{\\write\\auxfile{\\internalsetq {#1}{#2}}}%\n-\\next}}\n+% Use \\normalturnoffactive so that punctuation chars such as underscore\n+% and backslash work in node names.  (\\turnoffactive doesn't do \\.)\n+\\def\\dosetq#1#2{%\n+  {\\let\\folio=0\n+   \\normalturnoffactive\n+   \\edef\\next{\\write\\auxfile{\\internalsetq{#1}{#2}}}%\n+   \\next\n+  }%\n+}\n \n % \\internalsetq {foo}{page} expands into\n % CHARACTERS 'xrdef {foo}{...expansion of \\Ypage...}\n@@ -4492,8 +4555,7 @@\n   \\catcode`\\$=\\other\n   \\catcode`\\#=\\other\n   \\catcode`\\&=\\other\n-  % `\\+ does not work, so use 43.\n-  \\catcode43=\\other\n+  \\catcode`+=\\other % avoid \\+ for paranoia even though we've turned it off\n   % Make the characters 128-255 be printing characters\n   {%\n     \\count 1=128\n@@ -4864,10 +4926,10 @@\n % use math or other variants that look better in normal text.\n \n \\catcode`\\\"=\\active\n-\\def\\activedoublequote{{\\tt \\char '042}}\n+\\def\\activedoublequote{{\\tt\\char34}}\n \\let\"=\\activedoublequote\n \\catcode`\\~=\\active\n-\\def~{{\\tt \\char '176}}\n+\\def~{{\\tt\\char126}}\n \\chardef\\hat=`\\^\n \\catcode`\\^=\\active\n \\def^{{\\tt \\hat}}\n@@ -4878,7 +4940,7 @@\n \\def\\_{\\leavevmode \\kern.06em \\vbox{\\hrule width.3em height.1ex}}\n \n \\catcode`\\|=\\active\n-\\def|{{\\tt \\char '174}}\n+\\def|{{\\tt\\char124}}\n \\chardef \\less=`\\<\n \\catcode`\\<=\\active\n \\def<{{\\tt \\less}}\n@@ -4965,8 +5027,8 @@\n @gdef@fixbackslash{@ifx\\@eatinput @let\\ = @normalbackslash @fi\n   @catcode`+=@active @catcode`@_=@active}\n \n-%% These look ok in all fonts, so just make them not special.  The @rm below\n-%% makes sure that the current font starts out as the newly loaded cmr10\n+% These look ok in all fonts, so just make them not special.  The @rm below\n+% makes sure that the current font starts out as the newly loaded cmr10\n @catcode`@$=@other @catcode`@%=@other @catcode`@&=@other @catcode`@#=@other\n \n @textfonts"}, {"sha": "6130cada84835e7a56f3b78a7134a1e3e0d34319", "filename": "gcc/tm.texi", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftm.texi?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -705,8 +705,8 @@ you must define @code{POINTERS_EXTEND_UNSIGNED}.\n @findex POINTERS_EXTEND_UNSIGNED\n @item POINTERS_EXTEND_UNSIGNED\n A C expression whose value is nonzero if pointers that need to be\n-extended from being @code{POINTER_SIZE} bits wide to @code{Pmode}\n-are sign-extended and zero if they are zero-extended.\n+extended from being @code{POINTER_SIZE} bits wide to @code{Pmode} are to\n+be zero-extended and zero if they are to be sign-extended.\n \n You need not define this macro if the @code{POINTER_SIZE} is equal\n to the width of @code{Pmode}."}, {"sha": "ef1bbad58544af5e39d04e9c652da7d58b706390", "filename": "gcc/toplev.c", "status": "modified", "additions": 17, "deletions": 17, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -3888,14 +3888,12 @@ main (argc, argv, envp)\n \t\t    mach_dep_reorg_dump = 1;\n #endif\n \t\t    break;\n+\t\t  case 'A':\n+\t\t    flag_debug_asm = 1;\n+\t\t    break;\n \t\t  case 'b':\n \t\t    branch_prob_dump = 1;\n \t\t    break;\n-#ifdef STACK_REGS\t\t    \n-\t\t  case 'k':\n-\t\t    stack_reg_dump = 1;\n-\t\t    break;\n-#endif\n \t\t  case 'c':\n \t\t    combine_dump = 1;\n \t\t    break;\n@@ -3907,18 +3905,23 @@ main (argc, argv, envp)\n \t\t  case 'f':\n \t\t    flow_dump = 1;\n \t\t    break;\n+\t\t  case 'F':\n+\t\t    addressof_dump = 1;\n+\t\t    break;\n \t\t  case 'g':\n \t\t    global_reg_dump = 1;\n \t\t    break;\n \t\t  case 'j':\n \t\t    jump_opt_dump = 1;\n \t\t    break;\n-\t\t  case 'D':\n-\t\t    addressof_dump = 1;\n-\t\t    break;\n \t\t  case 'J':\n \t\t    jump2_opt_dump = 1;\n \t\t    break;\n+#ifdef STACK_REGS\t\t    \n+\t\t  case 'k':\n+\t\t    stack_reg_dump = 1;\n+\t\t    break;\n+#endif\n \t\t  case 'l':\n \t\t    local_reg_dump = 1;\n \t\t    break;\n@@ -3939,30 +3942,27 @@ main (argc, argv, envp)\n \t\t  case 'r':\n \t\t    rtl_dump = 1;\n \t\t    break;\n+\t\t  case 'R':\n+\t\t    sched2_dump = 1;\n+\t\t    break;\n \t\t  case 's':\n \t\t    cse_dump = 1;\n \t\t    break;\n+\t\t  case 'S':\n+\t\t    sched_dump = 1;\n+\t\t    break;\n \t\t  case 't':\n \t\t    cse2_dump = 1;\n \t\t    break;\n \t\t  case 'N':\n \t\t    regmove_dump = 1;\n \t\t    break;\n-\t\t  case 'S':\n-\t\t    sched_dump = 1;\n-\t\t    break;\n-\t\t  case 'R':\n-\t\t    sched2_dump = 1;\n-\t\t    break;\n \t\t  case 'y':\n \t\t    set_yydebug (1);\n \t\t    break;\n \t\t  case 'x':\n \t\t    rtl_dump_and_exit = 1;\n \t\t    break;\n-\t\t  case 'A':\n-\t\t    flag_debug_asm = 1;\n-\t\t    break;\n \t\t  default:\n \t\t    warning (\"unrecognised gcc debugging option: %c\", p[-1]);\n \t\t    break;"}, {"sha": "cc68d600b7154588547f446cebbde1ce2a3b8672", "filename": "gcc/tree.c", "status": "modified", "additions": 0, "deletions": 17, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -4428,8 +4428,6 @@ get_unwidened (op, for_type)\n      tree for_type;\n {\n   /* Set UNS initially if converting OP to FOR_TYPE is a zero-extension.  */\n-  /* TYPE_PRECISION is safe in place of type_precision since\n-     pointer types are not allowed.  */\n   register tree type = TREE_TYPE (op);\n   register unsigned final_prec\n     = TYPE_PRECISION (for_type != 0 ? for_type : type);\n@@ -4595,21 +4593,6 @@ get_narrower (op, unsignedp_ptr)\n   return win;\n }\n \f\n-/* Return the precision of a type, for arithmetic purposes.\n-   Supports all types on which arithmetic is possible\n-   (including pointer types).\n-   It's not clear yet what will be right for complex types.  */\n-\n-int\n-type_precision (type)\n-     register tree type;\n-{\n-  return ((TREE_CODE (type) == INTEGER_TYPE\n-\t   || TREE_CODE (type) == ENUMERAL_TYPE\n-\t   || TREE_CODE (type) == REAL_TYPE)\n-\t  ? TYPE_PRECISION (type) : POINTER_SIZE);\n-}\n-\n /* Nonzero if integer constant C has a value that is permissible\n    for type TYPE (an INTEGER_TYPE).  */\n "}, {"sha": "d20bbafcf48fc9927d679dc3c822b7a28a009941", "filename": "gcc/version.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fversion.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5963e617044e79f7658c82ebc9acdccdc56d57b/gcc%2Fversion.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fversion.c?ref=f5963e617044e79f7658c82ebc9acdccdc56d57b", "patch": "@@ -1 +1 @@\n-char *version_string = \"egcs-2.91.26 19980502 (gcc2 ss-980401 experimental)\";\n+char *version_string = \"egcs-2.91.27 19980502 (gcc2 ss-980502 experimental)\";"}]}