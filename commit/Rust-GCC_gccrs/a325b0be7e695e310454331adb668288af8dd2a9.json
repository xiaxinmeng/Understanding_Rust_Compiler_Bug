{"sha": "a325b0be7e695e310454331adb668288af8dd2a9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTMyNWIwYmU3ZTY5NWUzMTA0NTQzMzFhZGI2NjgyODhhZjhkZDJhOQ==", "commit": {"author": {"name": "Josh Conner", "email": "jconner@apple.com", "date": "2005-09-14T21:34:37Z"}, "committer": {"name": "Josh Conner", "email": "jconner@gcc.gnu.org", "date": "2005-09-14T21:34:37Z"}, "message": "re PR tree-optimization/23584 (ipa-pure-const pass ignores dereferencing a volatile pointer type)\n\n    PR middle-end/23584\n    * gcc.dg/pr23584.c: New test.\n\nFrom-SVN: r104284", "tree": {"sha": "c02eb0c829ecf7fa0d1b548fec3df701eb63324f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c02eb0c829ecf7fa0d1b548fec3df701eb63324f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a325b0be7e695e310454331adb668288af8dd2a9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a325b0be7e695e310454331adb668288af8dd2a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a325b0be7e695e310454331adb668288af8dd2a9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a325b0be7e695e310454331adb668288af8dd2a9/comments", "author": null, "committer": null, "parents": [{"sha": "c5e04c908b580a3e1174e289358904382b8f3ad4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5e04c908b580a3e1174e289358904382b8f3ad4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5e04c908b580a3e1174e289358904382b8f3ad4"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "c74bd24dbedd62bcf34531c727d2c50724d04cb3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a325b0be7e695e310454331adb668288af8dd2a9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a325b0be7e695e310454331adb668288af8dd2a9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a325b0be7e695e310454331adb668288af8dd2a9", "patch": "@@ -1,3 +1,8 @@\n+2005-09-14  Josh Conner  <jconner@apple.com>\n+\n+\tPR middle-end/23584\n+\t* gcc.dg/pr23584.c: New test.\n+\n 2005-09-14  Jerry DeLisle  <jvdelisle@verizon.net>\n \n \tPR fortran/21875 Internal Unit Array I/O, NIST"}, {"sha": "691a11956badc82909a3653bd391e8489a628d6b", "filename": "gcc/testsuite/gcc.dg/pr23584.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a325b0be7e695e310454331adb668288af8dd2a9/gcc%2Ftestsuite%2Fgcc.dg%2Fpr23584.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a325b0be7e695e310454331adb668288af8dd2a9/gcc%2Ftestsuite%2Fgcc.dg%2Fpr23584.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr23584.c?ref=a325b0be7e695e310454331adb668288af8dd2a9", "patch": "@@ -0,0 +1,21 @@\n+/* Regression test for PR middle-end/23584 */\n+/* Verify that dereferencing an absolute address inside of a function\n+   makes that function impure.  */\n+\n+/* { dg-do compile } */\n+/* { dg-options \"-O1 -fdump-ipa-pure-const\" } */\n+\n+int test1 (void)\n+{\n+  return * (volatile int *) 0x1234;\n+}\n+\n+int test2 (void)\n+{\n+  int local = * (volatile int *) 0x1234;\n+  return local;\n+}\n+\n+/* { dg-final { scan-ipa-dump-not \"found to be pure: test1\" \"pure-const\" } } */\n+/* { dg-final { scan-ipa-dump-not \"found to be pure: test2\" \"pure-const\" } } */\n+/* { dg-final { cleanup-ipa-dump \"pure-const\" } } */"}]}