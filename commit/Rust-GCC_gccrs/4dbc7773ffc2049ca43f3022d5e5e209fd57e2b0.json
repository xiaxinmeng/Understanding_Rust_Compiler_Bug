{"sha": "4dbc7773ffc2049ca43f3022d5e5e209fd57e2b0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGRiYzc3NzNmZmMyMDQ5Y2E0M2YzMDIyZDVlNWUyMDlmZDU3ZTJiMA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1993-08-06T20:45:36Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1993-08-06T20:45:36Z"}, "message": "Permit relative path for standard_startfile_prefix\n\nFrom-SVN: r5091", "tree": {"sha": "a98cd57da7d550820e50fb5c31555a0b70b7e2f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a98cd57da7d550820e50fb5c31555a0b70b7e2f0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4dbc7773ffc2049ca43f3022d5e5e209fd57e2b0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4dbc7773ffc2049ca43f3022d5e5e209fd57e2b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4dbc7773ffc2049ca43f3022d5e5e209fd57e2b0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4dbc7773ffc2049ca43f3022d5e5e209fd57e2b0/comments", "author": null, "committer": null, "parents": [{"sha": "bf0263690ed399fb2844b6c3e079828c9c31b5f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf0263690ed399fb2844b6c3e079828c9c31b5f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf0263690ed399fb2844b6c3e079828c9c31b5f2"}], "stats": {"total": 24, "additions": 22, "deletions": 2}, "files": [{"sha": "2d2f5197ec05365e3b712eb3347df7131a7e0480", "filename": "gcc/gcc.c", "status": "modified", "additions": 22, "deletions": 2, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4dbc7773ffc2049ca43f3022d5e5e209fd57e2b0/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4dbc7773ffc2049ca43f3022d5e5e209fd57e2b0/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=4dbc7773ffc2049ca43f3022d5e5e209fd57e2b0", "patch": "@@ -3718,8 +3718,28 @@ main (argc, argv)\n       add_prefix (&startfile_prefix, md_startfile_prefix_1, 0, 0, NULL_PTR);\n #endif\n \n-      add_prefix (&startfile_prefix, standard_startfile_prefix, 0, 0,\n-\t\t  NULL_PTR);\n+      /* If standard_startfile_prefix is relative, base it on\n+\t standard_exec_prefix.  This lets us move the installed tree\n+\t as a unit.  If GCC_EXEC_PREFIX is defined, base\n+\t standard_startfile_prefix on that as well.  */\n+      if (*standard_startfile_prefix == '/')\n+\tadd_prefix (&startfile_prefix, standard_startfile_prefix, 0, 0,\n+\t\t    NULL_PTR);\n+      else\n+\t{\n+\t  if (gcc_exec_prefix)\n+\t    add_prefix (&startfile_prefix,\n+\t\t\tconcat (gcc_exec_prefix,\n+\t\t\t\tmachine_suffix,\n+\t\t\t\tstandard_startfile_prefix),\n+\t\t\t0, 0, NULL_PTR);\n+\t  add_prefix (&startfile_prefix,\n+\t\t      concat (standard_exec_prefix,\n+\t\t\t      machine_suffix,\n+\t\t\t      standard_startfile_prefix),\n+\t\t      0, 0, NULL_PTR);\n+\t}\t\t       \n+\n       add_prefix (&startfile_prefix, standard_startfile_prefix_1, 0, 0,\n \t\t  NULL_PTR);\n       add_prefix (&startfile_prefix, standard_startfile_prefix_2, 0, 0,"}]}