{"sha": "87a2e7a8a5adda2f12d3b4fa47122dd0a7831138", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdhMmU3YThhNWFkZGEyZjEyZDNiNGZhNDcxMjJkZDBhNzgzMTEzOA==", "commit": {"author": {"name": "Daniel Berlin", "email": "dan@cgsoftware.com", "date": "2001-10-31T03:01:17Z"}, "committer": {"name": "Daniel Berlin", "email": "dberlin@gcc.gnu.org", "date": "2001-10-31T03:01:17Z"}, "message": "bitmap.c (bitmap_element_free): Don't forget to update head->indx when we update head->current.\n\n2001-10-30  Daniel Berlin  <dan@cgsoftware.com>\n\n\t* bitmap.c (bitmap_element_free): Don't forget to update head->indx\n\twhen we update head->current.\n\nFrom-SVN: r46669", "tree": {"sha": "34c98264abab39b8f7ee99086154c5118ff169f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/34c98264abab39b8f7ee99086154c5118ff169f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87a2e7a8a5adda2f12d3b4fa47122dd0a7831138", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87a2e7a8a5adda2f12d3b4fa47122dd0a7831138", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87a2e7a8a5adda2f12d3b4fa47122dd0a7831138", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87a2e7a8a5adda2f12d3b4fa47122dd0a7831138/comments", "author": null, "committer": null, "parents": [{"sha": "ec3fd6be49164d13e2cc5ee40b73120c6badeff6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec3fd6be49164d13e2cc5ee40b73120c6badeff6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec3fd6be49164d13e2cc5ee40b73120c6badeff6"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "0f2c0b5b838538da9d66b746b005a8eff3115658", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87a2e7a8a5adda2f12d3b4fa47122dd0a7831138/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87a2e7a8a5adda2f12d3b4fa47122dd0a7831138/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=87a2e7a8a5adda2f12d3b4fa47122dd0a7831138", "patch": "@@ -1,3 +1,8 @@\n+2001-10-30  Daniel Berlin  <dan@cgsoftware.com>\n+\n+\t* bitmap.c (bitmap_element_free): Don't forget to update head->indx\n+\twhen we update head->current.\n+\n 2001-10-30  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* tree.c (id_string_size): Remove."}, {"sha": "b735d1409d0b276069e077ac6e84d1f11eb7f7fb", "filename": "gcc/bitmap.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87a2e7a8a5adda2f12d3b4fa47122dd0a7831138/gcc%2Fbitmap.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87a2e7a8a5adda2f12d3b4fa47122dd0a7831138/gcc%2Fbitmap.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbitmap.c?ref=87a2e7a8a5adda2f12d3b4fa47122dd0a7831138", "patch": "@@ -70,7 +70,11 @@ bitmap_element_free (head, elt)\n   /* Since the first thing we try is to insert before current,\n      make current the next entry in preference to the previous.  */\n   if (head->current == elt)\n-    head->current = next != 0 ? next : prev;\n+    {\n+      head->current = next != 0 ? next : prev;\n+      if (head->current)\n+\thead->indx = head->current->indx;\n+    }\n \n   elt->next = bitmap_free;\n   bitmap_free = elt;"}]}