{"sha": "fe4c6b8feb39f8c112122fd7d06a5434a3b05b43", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmU0YzZiOGZlYjM5ZjhjMTEyMTIyZmQ3ZDA2YTU0MzRhM2IwNWI0Mw==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2004-12-15T10:25:14Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2004-12-15T10:25:14Z"}, "message": "re PR c++/18981 (ICE in cp_parser_lookup_name)\n\ncp:\n\tPR c++/18981\n\t* parser.c (cp_parser_lookup_name): Remove unneeded TYPENAME_TYPE\n\tflag setting.\ntestsuite:\n\tPR 18981\n\t* g++.dg/template/typename9.C: New test.\n\nFrom-SVN: r92184", "tree": {"sha": "634899c48dadf1b193340cf2a250daeaa259e311", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/634899c48dadf1b193340cf2a250daeaa259e311"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fe4c6b8feb39f8c112122fd7d06a5434a3b05b43", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe4c6b8feb39f8c112122fd7d06a5434a3b05b43", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe4c6b8feb39f8c112122fd7d06a5434a3b05b43", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe4c6b8feb39f8c112122fd7d06a5434a3b05b43/comments", "author": null, "committer": null, "parents": [{"sha": "eef5d0d1b9f1d3159383c54b513a9633356dbcbc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eef5d0d1b9f1d3159383c54b513a9633356dbcbc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eef5d0d1b9f1d3159383c54b513a9633356dbcbc"}], "stats": {"total": 30, "additions": 26, "deletions": 4}, "files": [{"sha": "a879f4ee2cbdb402b9f35ff3510810e53974c940", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe4c6b8feb39f8c112122fd7d06a5434a3b05b43/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe4c6b8feb39f8c112122fd7d06a5434a3b05b43/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=fe4c6b8feb39f8c112122fd7d06a5434a3b05b43", "patch": "@@ -1,3 +1,9 @@\n+2004-12-15  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\tPR c++/18981\n+\t* parser.c (cp_parser_lookup_name): Remove unneeded TYPENAME_TYPE\n+\tflag setting.\n+\n 2004-12-14  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/18738"}, {"sha": "dc650d42dab2866f1eaa28d42eb402e566e90680", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe4c6b8feb39f8c112122fd7d06a5434a3b05b43/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe4c6b8feb39f8c112122fd7d06a5434a3b05b43/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=fe4c6b8feb39f8c112122fd7d06a5434a3b05b43", "patch": "@@ -14190,10 +14190,6 @@ cp_parser_lookup_name (cp_parser *parser, tree name,\n \t\t is dependent.  */\n \t      type = make_typename_type (parser->scope, name, tag_type,\n \t\t\t\t\t /*complain=*/1);\n-\t      if (tag_type == enum_type)\n-\t\tTYPENAME_IS_ENUM_P (type) = 1;\n-\t      else if (tag_type != typename_type)\n-\t\tTYPENAME_IS_CLASS_P (type) = 1;\n \t      decl = TYPE_NAME (type);\n \t    }\n \t  else if (is_template)"}, {"sha": "98a3af8c26060abd523ed2f2f930239c9dbc13c4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe4c6b8feb39f8c112122fd7d06a5434a3b05b43/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe4c6b8feb39f8c112122fd7d06a5434a3b05b43/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fe4c6b8feb39f8c112122fd7d06a5434a3b05b43", "patch": "@@ -1,3 +1,8 @@\n+2004-12-15  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\tPR 18981\n+\t* g++.dg/template/typename9.C: New test.\n+\n 2004-12-14  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/18738"}, {"sha": "5f6fb96bc2a1973de2922ea70741bf4442df5fdf", "filename": "gcc/testsuite/g++.dg/template/typename9.C", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe4c6b8feb39f8c112122fd7d06a5434a3b05b43/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Ftypename9.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe4c6b8feb39f8c112122fd7d06a5434a3b05b43/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Ftypename9.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Ftypename9.C?ref=fe4c6b8feb39f8c112122fd7d06a5434a3b05b43", "patch": "@@ -0,0 +1,15 @@\n+// { dg-do compile }\n+\n+// Copyright (C) 2004 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 14 Dec 2004 <nathan@codesourcery.com>\n+\n+// PR 18981. ICE\n+// Origin:  Andreas Schwab <schwab@suse.de>\n+\n+template <class T> \n+struct tree { \n+  struct iterator; \n+  struct sibling_iterator { \n+    friend struct tree<T>::iterator; \n+  }; \n+}; "}]}