{"sha": "9eb659e0031658e61110e433f37b22188a1a6bcc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWViNjU5ZTAwMzE2NThlNjExMTBlNDMzZjM3YjIyMTg4YTFhNmJjYw==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2015-06-22T15:09:22Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2015-06-22T15:09:22Z"}, "message": "locale_conv.h (__do_str_codecvt): Handle empty range.\n\n\t* include/bits/locale_conv.h (__do_str_codecvt): Handle empty range.\n\t(wstring_convert): Move into __cxx11 namespace.\n\t(wbuffer_convert(streambuf*, _Codecvt*, state_type)): Fix exception\n\tmessage.\n\nFrom-SVN: r224737", "tree": {"sha": "4c733b0c0e0eedd1fbcf50e1a05b7775d73f855a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4c733b0c0e0eedd1fbcf50e1a05b7775d73f855a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9eb659e0031658e61110e433f37b22188a1a6bcc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9eb659e0031658e61110e433f37b22188a1a6bcc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9eb659e0031658e61110e433f37b22188a1a6bcc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9eb659e0031658e61110e433f37b22188a1a6bcc/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4db6c2f585053daef2fc24a72518030a85d05e1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4db6c2f585053daef2fc24a72518030a85d05e1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4db6c2f585053daef2fc24a72518030a85d05e1e"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "1e2fda0cf5a8706f09c87762c8c15f7ac6ee93e5", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9eb659e0031658e61110e433f37b22188a1a6bcc/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9eb659e0031658e61110e433f37b22188a1a6bcc/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=9eb659e0031658e61110e433f37b22188a1a6bcc", "patch": "@@ -1,5 +1,10 @@\n 2015-06-22  Jonathan Wakely  <jwakely@redhat.com>\n \n+\t* include/bits/locale_conv.h (__do_str_codecvt): Handle empty range.\n+\t(wstring_convert): Move into __cxx11 namespace.\n+\t(wbuffer_convert(streambuf*, _Codecvt*, state_type)): Fix exception\n+\tmessage.\n+\n \tPR libstdc++/64657\n \t* include/bits/stl_uninitialized.h\n \t(__uninitialized_copy::__uninit_copy): Cast expression to void."}, {"sha": "fd99499b8f6bc5755f26820e08338ef2bf5fe86c", "filename": "libstdc++-v3/include/bits/locale_conv.h", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9eb659e0031658e61110e433f37b22188a1a6bcc/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_conv.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9eb659e0031658e61110e433f37b22188a1a6bcc/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_conv.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_conv.h?ref=9eb659e0031658e61110e433f37b22188a1a6bcc", "patch": "@@ -58,6 +58,12 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \t\t     _OutStr& __outstr, const _Codecvt& __cvt, _State& __state,\n \t\t     size_t& __count, _Fn __fn)\n     {\n+      if (__first == __last)\n+\t{\n+\t  __outstr.clear();\n+\t  return true;\n+\t}\n+\n       size_t __outchars = 0;\n       auto __next = __first;\n       const auto __maxlen = __cvt.max_length() + 1;\n@@ -150,6 +156,8 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       return __str_codecvt_out(__first, __last, __outstr, __cvt, __state, __n);\n     }\n \n+_GLIBCXX_BEGIN_NAMESPACE_CXX11\n+\n   /// String conversions\n   template<typename _Codecvt, typename _Elem = wchar_t,\n \t   typename _Wide_alloc = allocator<_Elem>,\n@@ -301,6 +309,8 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       bool\t\t\t_M_with_strings = false;\n     };\n \n+_GLIBCXX_END_NAMESPACE_CXX11\n+\n   /// Buffer conversions\n   template<typename _Codecvt, typename _Elem = wchar_t,\n \t   typename _Tr = char_traits<_Elem>>\n@@ -325,7 +335,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       : _M_buf(__bytebuf), _M_cvt(__pcvt), _M_state(__state)\n       {\n \tif (!_M_cvt)\n-\t  __throw_logic_error(\"wstring_convert\");\n+\t  __throw_logic_error(\"wbuffer_convert\");\n \n \t_M_always_noconv = _M_cvt->always_noconv();\n "}]}