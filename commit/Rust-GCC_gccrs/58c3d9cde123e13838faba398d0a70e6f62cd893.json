{"sha": "58c3d9cde123e13838faba398d0a70e6f62cd893", "node_id": "C_kwDOANBUbNoAKDU4YzNkOWNkZTEyM2UxMzgzOGZhYmEzOThkMGE3MGU2ZjYyY2Q4OTM", "commit": {"author": {"name": "Sebastian Huber", "email": "sebastian.huber@embedded-brains.de", "date": "2022-11-21T06:49:15Z"}, "committer": {"name": "Sebastian Huber", "email": "sebastian.huber@embedded-brains.de", "date": "2022-11-21T19:39:14Z"}, "message": "Allow subtarget customization of CC1_SPEC\n\ngcc/ChangeLog:\n\n\t* gcc.cc (SUBTARGET_CC1_SPEC): Define if not defined.\n\t(cc1_spec): Append SUBTARGET_CC1_SPEC.", "tree": {"sha": "eca9bdeabe78dde6bd4827258a34692436339a56", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eca9bdeabe78dde6bd4827258a34692436339a56"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/58c3d9cde123e13838faba398d0a70e6f62cd893", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58c3d9cde123e13838faba398d0a70e6f62cd893", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58c3d9cde123e13838faba398d0a70e6f62cd893", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58c3d9cde123e13838faba398d0a70e6f62cd893/comments", "author": {"login": "sebhub", "id": 932056, "node_id": "MDQ6VXNlcjkzMjA1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/932056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebhub", "html_url": "https://github.com/sebhub", "followers_url": "https://api.github.com/users/sebhub/followers", "following_url": "https://api.github.com/users/sebhub/following{/other_user}", "gists_url": "https://api.github.com/users/sebhub/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebhub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebhub/subscriptions", "organizations_url": "https://api.github.com/users/sebhub/orgs", "repos_url": "https://api.github.com/users/sebhub/repos", "events_url": "https://api.github.com/users/sebhub/events{/privacy}", "received_events_url": "https://api.github.com/users/sebhub/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sebhub", "id": 932056, "node_id": "MDQ6VXNlcjkzMjA1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/932056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebhub", "html_url": "https://github.com/sebhub", "followers_url": "https://api.github.com/users/sebhub/followers", "following_url": "https://api.github.com/users/sebhub/following{/other_user}", "gists_url": "https://api.github.com/users/sebhub/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebhub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebhub/subscriptions", "organizations_url": "https://api.github.com/users/sebhub/orgs", "repos_url": "https://api.github.com/users/sebhub/repos", "events_url": "https://api.github.com/users/sebhub/events{/privacy}", "received_events_url": "https://api.github.com/users/sebhub/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cbd05ca5ab1231d70d07e1ffbe64c1b7338bf1d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbd05ca5ab1231d70d07e1ffbe64c1b7338bf1d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cbd05ca5ab1231d70d07e1ffbe64c1b7338bf1d6"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "ca1c9e27a9461dd8545f76ac7c5ea4c3de5ca78e", "filename": "gcc/gcc.cc", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58c3d9cde123e13838faba398d0a70e6f62cd893/gcc%2Fgcc.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58c3d9cde123e13838faba398d0a70e6f62cd893/gcc%2Fgcc.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.cc?ref=58c3d9cde123e13838faba398d0a70e6f62cd893", "patch": "@@ -706,6 +706,13 @@ proper position among the other output files.  */\n #define CPP_SPEC \"\"\n #endif\n \n+/* Subtargets can define SUBTARGET_CC1_SPEC to provide extra args to cc1 and\n+   cc1plus or extra switch-translations.  The SUBTARGET_CC1_SPEC is appended\n+   to CC1_SPEC in the initialization of cc1_spec.  */\n+#ifndef SUBTARGET_CC1_SPEC\n+#define SUBTARGET_CC1_SPEC \"\"\n+#endif\n+\n /* config.h can define CC1_SPEC to provide extra args to cc1 and cc1plus\n    or extra switch-translations.  */\n #ifndef CC1_SPEC\n@@ -1174,7 +1181,7 @@ proper position among the other output files.  */\n static const char *asm_debug = ASM_DEBUG_SPEC;\n static const char *asm_debug_option = ASM_DEBUG_OPTION_SPEC;\n static const char *cpp_spec = CPP_SPEC;\n-static const char *cc1_spec = CC1_SPEC;\n+static const char *cc1_spec = CC1_SPEC SUBTARGET_CC1_SPEC;\n static const char *cc1plus_spec = CC1PLUS_SPEC;\n static const char *link_gcc_c_sequence_spec = LINK_GCC_C_SEQUENCE_SPEC;\n static const char *link_ssp_spec = LINK_SSP_SPEC;"}]}