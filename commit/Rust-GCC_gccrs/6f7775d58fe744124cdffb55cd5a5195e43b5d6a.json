{"sha": "6f7775d58fe744124cdffb55cd5a5195e43b5d6a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmY3Nzc1ZDU4ZmU3NDQxMjRjZGZmYjU1Y2Q1YTUxOTVlNDNiNWQ2YQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1995-04-04T21:16:40Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1995-04-04T21:16:40Z"}, "message": "reorg.c (fill_simple_delay_slots): Don't use a JUMP_INSN a the target of another JUMP_INSN to fill a delay slot.\n\n\t* reorg.c (fill_simple_delay_slots): Don't use a JUMP_INSN\n\ta the target of another JUMP_INSN to fill a delay slot.\n\nFrom-SVN: r9312", "tree": {"sha": "da02dea3c1b5dc2fb88cf7d54e345a183fef2e73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/da02dea3c1b5dc2fb88cf7d54e345a183fef2e73"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6f7775d58fe744124cdffb55cd5a5195e43b5d6a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f7775d58fe744124cdffb55cd5a5195e43b5d6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f7775d58fe744124cdffb55cd5a5195e43b5d6a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f7775d58fe744124cdffb55cd5a5195e43b5d6a/comments", "author": null, "committer": null, "parents": [{"sha": "b19b4a787d30cce8e4b12e7e521ea642e680fa9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b19b4a787d30cce8e4b12e7e521ea642e680fa9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b19b4a787d30cce8e4b12e7e521ea642e680fa9d"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "f4667ca094e09094a1548ffcbbd87c813e4021a2", "filename": "gcc/reorg.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f7775d58fe744124cdffb55cd5a5195e43b5d6a/gcc%2Freorg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f7775d58fe744124cdffb55cd5a5195e43b5d6a/gcc%2Freorg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freorg.c?ref=6f7775d58fe744124cdffb55cd5a5195e43b5d6a", "patch": "@@ -3103,7 +3103,9 @@ fill_simple_delay_slots (first, non_jumps_p)\n \n \t  /* If there are slots left to fill and our search was stopped by an\n \t     unconditional branch, try the insn at the branch target.  We can\n-\t     redirect the branch if it works.  */\n+\t     redirect the branch if it works. \n+\n+\t     Don't do this if the insn at the branch target is a branch.  */\n \t  if (slots_to_fill != slots_filled\n \t      && trial\n \t      && GET_CODE (trial) == JUMP_INSN\n@@ -3112,6 +3114,7 @@ fill_simple_delay_slots (first, non_jumps_p)\n \t      && (next_trial = next_active_insn (JUMP_LABEL (trial))) != 0\n \t      && ! (GET_CODE (next_trial) == INSN\n \t\t    && GET_CODE (PATTERN (next_trial)) == SEQUENCE)\n+\t      && GET_CODE (next_trial) != JUMP_INSN\n \t      && ! insn_references_resource_p (next_trial, &set, 1)\n \t      && ! insn_sets_resource_p (next_trial, &set, 1)\n \t      && ! insn_sets_resource_p (next_trial, &needed, 1)"}]}