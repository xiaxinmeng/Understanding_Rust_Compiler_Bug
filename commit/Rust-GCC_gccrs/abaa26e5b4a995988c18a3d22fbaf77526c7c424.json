{"sha": "abaa26e5b4a995988c18a3d22fbaf77526c7c424", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWJhYTI2ZTViNGE5OTU5ODhjMThhM2QyMmZiYWY3NzUyNmM3YzQyNA==", "commit": {"author": {"name": "Richard Earnshaw", "email": "erich@gnu.org", "date": "1993-10-10T16:46:52Z"}, "committer": {"name": "Richard Earnshaw", "email": "erich@gnu.org", "date": "1993-10-10T16:46:52Z"}, "message": "(const_ok_for_arm): cast constants to unsigned HOST_WIDE_INT.\n\n(output_prologue): Sanity check the finite state machine.\n(output_epilogue): Delete unused variable.\n(final_prescan_insn): Always clear arm_target_insn when FSM goes to\nstate 0.\n\nFrom-SVN: r5711", "tree": {"sha": "76b1c8e1c3f6441a8318f9e78b35784e133478bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/76b1c8e1c3f6441a8318f9e78b35784e133478bf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/abaa26e5b4a995988c18a3d22fbaf77526c7c424", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abaa26e5b4a995988c18a3d22fbaf77526c7c424", "html_url": "https://github.com/Rust-GCC/gccrs/commit/abaa26e5b4a995988c18a3d22fbaf77526c7c424", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abaa26e5b4a995988c18a3d22fbaf77526c7c424/comments", "author": null, "committer": null, "parents": [{"sha": "26563586437d27f43544bb2feb7ed0486621f796", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26563586437d27f43544bb2feb7ed0486621f796", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26563586437d27f43544bb2feb7ed0486621f796"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "8f77c7789ab6809719e267150e49108784f31d0d", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 12, "deletions": 3, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abaa26e5b4a995988c18a3d22fbaf77526c7c424/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abaa26e5b4a995988c18a3d22fbaf77526c7c424/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=abaa26e5b4a995988c18a3d22fbaf77526c7c424", "patch": "@@ -142,9 +142,11 @@ const_ok_for_arm (i)\n \n   do\n     {\n-      if ((i & mask & 0xffffffffu) == 0)\n+      if ((i & mask & (unsigned HOST_WIDE_INT) 0xffffffff) == 0)\n         return(TRUE);\n-      mask = (mask << 2) | ((mask & 0xffffffffu) >> (32 - 2)) | ~0xffffffffu;\n+      mask =\n+\t  (mask << 2) | ((mask & (unsigned HOST_WIDE_INT) 0xffffffff)\n+\t\t\t >> (32 - 2)) | ~((unsigned HOST_WIDE_INT) 0xffffffff);\n     } while (mask != ~0xFF);\n \n   return (FALSE);\n@@ -1727,6 +1729,9 @@ output_prologue (f, frame_size)\n      they were passed there.  */\n   int store_arg_regs = 0;\n \n+  if (arm_ccfsm_state || arm_target_insn)\n+    abort ();\t\t\t\t\t/* Sanity check */\n+  \n   return_used_this_function = 0;\n   lr_save_eliminated = 0;\n   \n@@ -1833,7 +1838,7 @@ output_epilogue (f, frame_size)\n      FILE *f;\n      int frame_size;\n {\n-  int reg, live_regs_mask = 0, code_size = 0, fp_needed = 0;\n+  int reg, live_regs_mask = 0, code_size = 0;\n   /* If we need this then it will always be at lesat this much */\n   int floats_offset = 24;\n   rtx operands[3];\n@@ -2235,7 +2240,10 @@ final_prescan_insn (insn, opvec, noperands)\n   if (arm_ccfsm_state == 4)\n     {\n       if (insn == arm_target_insn)\n+      {\n+\tarm_target_insn = NULL;\n \tarm_ccfsm_state = 0;\n+      }\n       return;\n     }\n \n@@ -2463,6 +2471,7 @@ final_prescan_insn (insn, opvec, noperands)\n \t\t  /* Oh, dear! we ran off the end.. give up */\n \t\t  recog (PATTERN (insn), insn, NULL_PTR);\n \t\t  arm_ccfsm_state = 0;\n+\t\t  arm_target_insn = NULL;\n \t\t  return;\n \t        }\n \t      arm_target_insn = this_insn;"}]}