{"sha": "d2616f3df605bcb301c552bb5ce69798536d8257", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDI2MTZmM2RmNjA1YmNiMzAxYzU1MmJiNWNlNjk3OTg1MzZkODI1Nw==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2015-11-12T07:31:01Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2015-11-12T07:31:01Z"}, "message": "gen-pass-instances.awk: Use early-out in handle_line\n\n2015-11-12  Tom de Vries  <tom@codesourcery.com>\n\n\t* gen-pass-instances.awk (handle_line): Restructure using early-out.\n\nFrom-SVN: r230208", "tree": {"sha": "7a40fac57568053f97a518f42fe85abcfec3d407", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7a40fac57568053f97a518f42fe85abcfec3d407"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d2616f3df605bcb301c552bb5ce69798536d8257", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2616f3df605bcb301c552bb5ce69798536d8257", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2616f3df605bcb301c552bb5ce69798536d8257", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2616f3df605bcb301c552bb5ce69798536d8257/comments", "author": null, "committer": null, "parents": [{"sha": "2182471e3c05d23a8b048cc36d7d0b284bef7692", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2182471e3c05d23a8b048cc36d7d0b284bef7692", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2182471e3c05d23a8b048cc36d7d0b284bef7692"}], "stats": {"total": 36, "additions": 21, "deletions": 15}, "files": [{"sha": "5ed0f411c0b96f89dd9f56703296b8ba50ca7d3a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2616f3df605bcb301c552bb5ce69798536d8257/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2616f3df605bcb301c552bb5ce69798536d8257/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d2616f3df605bcb301c552bb5ce69798536d8257", "patch": "@@ -1,3 +1,7 @@\n+2015-11-12  Tom de Vries  <tom@codesourcery.com>\n+\n+\t* gen-pass-instances.awk (handle_line): Restructure using early-out.\n+\n 2015-11-12  Tom de Vries  <tom@codesourcery.com>\n \n \t* gen-pass-instances.awk (handle_line): Unify semicolon use."}, {"sha": "27e7a98a8d54bc648449a56a3f50f14da30c7280", "filename": "gcc/gen-pass-instances.awk", "status": "modified", "additions": 17, "deletions": 15, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2616f3df605bcb301c552bb5ce69798536d8257/gcc%2Fgen-pass-instances.awk", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2616f3df605bcb301c552bb5ce69798536d8257/gcc%2Fgen-pass-instances.awk", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgen-pass-instances.awk?ref=d2616f3df605bcb301c552bb5ce69798536d8257", "patch": "@@ -41,25 +41,27 @@ BEGIN {\n function handle_line()\n {\n \tline = $0;\n+\n \twhere = match(line, /NEXT_PASS \\((.+)\\)/);\n-\tif (where != 0)\n+\tif (where == 0)\n \t{\n-\t\tlen_of_start = length(\"NEXT_PASS (\");\n-\t\tlen_of_end = length(\")\");\n-\t\tlen_of_pass_name = RLENGTH - (len_of_start + len_of_end);\n-\t\tpass_starts_at = where + len_of_start;\n-\t\tpass_name = substr(line, pass_starts_at, len_of_pass_name);\n-\t\tif (pass_name in pass_counts)\n-\t\t\tpass_counts[pass_name]++;\n-\t\telse\n-\t\t\tpass_counts[pass_name] = 1;\n-\t\tprintf \"%s, %s%s\\n\",\n-\t\t\tsubstr(line, 1, pass_starts_at + len_of_pass_name - 1),\n-\t\t\tpass_counts[pass_name],\n-\t\t\tsubstr(line, pass_starts_at + len_of_pass_name);\n-\t} else {\n \t\tprint line;\n+\t\treturn;\n \t}\n+\n+\tlen_of_start = length(\"NEXT_PASS (\");\n+\tlen_of_end = length(\")\");\n+\tlen_of_pass_name = RLENGTH - (len_of_start + len_of_end);\n+\tpass_starts_at = where + len_of_start;\n+\tpass_name = substr(line, pass_starts_at, len_of_pass_name);\n+\tif (pass_name in pass_counts)\n+\t\tpass_counts[pass_name]++;\n+\telse\n+\t\tpass_counts[pass_name] = 1;\n+\tprintf \"%s, %s%s\\n\",\n+\t\tsubstr(line, 1, pass_starts_at + len_of_pass_name - 1),\n+\t\tpass_counts[pass_name],\n+\t\tsubstr(line, pass_starts_at + len_of_pass_name);\n }\n \n { handle_line() }"}]}