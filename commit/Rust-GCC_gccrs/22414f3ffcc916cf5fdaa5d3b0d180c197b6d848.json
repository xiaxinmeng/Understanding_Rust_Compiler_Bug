{"sha": "22414f3ffcc916cf5fdaa5d3b0d180c197b6d848", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI0MTRmM2ZmY2M5MTZjZjVmZGFhNWQzYjBkMTgwYzE5N2I2ZDg0OA==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2014-02-28T12:57:06Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2014-02-28T12:57:06Z"}, "message": "re PR debug/59992 (Compilation of insn-recog.c too slow due to var-tracking)\n\nPR debug/59992\n* cselib.c (remove_useless_values): Skip to avoid quadratic\nbehavior if the condition moved from...\n(cselib_process_insn): ... here holds.\n\nFrom-SVN: r208220", "tree": {"sha": "7d53a818d98bcca10434e439b2d2301235657e96", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7d53a818d98bcca10434e439b2d2301235657e96"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/22414f3ffcc916cf5fdaa5d3b0d180c197b6d848", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22414f3ffcc916cf5fdaa5d3b0d180c197b6d848", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22414f3ffcc916cf5fdaa5d3b0d180c197b6d848", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22414f3ffcc916cf5fdaa5d3b0d180c197b6d848/comments", "author": null, "committer": null, "parents": [{"sha": "2e08491710f04b854ed9b7c8d0b520c2c6eac115", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e08491710f04b854ed9b7c8d0b520c2c6eac115", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e08491710f04b854ed9b7c8d0b520c2c6eac115"}], "stats": {"total": 23, "additions": 16, "deletions": 7}, "files": [{"sha": "0ea85dcecf64b8dee64ad7a00348d93e7df3b5dc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22414f3ffcc916cf5fdaa5d3b0d180c197b6d848/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22414f3ffcc916cf5fdaa5d3b0d180c197b6d848/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=22414f3ffcc916cf5fdaa5d3b0d180c197b6d848", "patch": "@@ -1,3 +1,10 @@\n+2014-02-28  Alexandre Oliva <aoliva@redhat.com>\n+\n+\tPR debug/59992\n+\t* cselib.c (remove_useless_values): Skip to avoid quadratic\n+\tbehavior if the condition moved from...\n+\t(cselib_process_insn): ... here holds.\n+\n 2014-02-28  Alexandre Oliva <aoliva@redhat.com>\n \n \tPR debug/57232"}, {"sha": "dabd2d32f634493890e45a7349810f2901f121ab", "filename": "gcc/cselib.c", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22414f3ffcc916cf5fdaa5d3b0d180c197b6d848/gcc%2Fcselib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22414f3ffcc916cf5fdaa5d3b0d180c197b6d848/gcc%2Fcselib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcselib.c?ref=22414f3ffcc916cf5fdaa5d3b0d180c197b6d848", "patch": "@@ -662,6 +662,14 @@ remove_useless_values (void)\n {\n   cselib_val **p, *v;\n \n+  if (n_useless_values <= MAX_USELESS_VALUES\n+      /* remove_useless_values is linear in the hash table size.  Avoid\n+         quadratic behavior for very large hashtables with very few\n+\t useless elements.  */\n+      || ((unsigned int)n_useless_values\n+\t  <= (cselib_hash_table.elements () - n_debug_values) / 4))\n+    return;\n+\n   /* First pass: eliminate locations that reference the value.  That in\n      turn can make more values useless.  */\n   do\n@@ -2693,13 +2701,7 @@ cselib_process_insn (rtx insn)\n \n   cselib_current_insn = NULL_RTX;\n \n-  if (n_useless_values > MAX_USELESS_VALUES\n-      /* remove_useless_values is linear in the hash table size.  Avoid\n-         quadratic behavior for very large hashtables with very few\n-\t useless elements.  */\n-      && ((unsigned int)n_useless_values\n-\t  > (cselib_hash_table.elements () - n_debug_values) / 4))\n-    remove_useless_values ();\n+  remove_useless_values ();\n }\n \n /* Initialize cselib for one pass.  The caller must also call"}]}