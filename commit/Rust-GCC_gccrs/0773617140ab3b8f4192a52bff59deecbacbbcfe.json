{"sha": "0773617140ab3b8f4192a52bff59deecbacbbcfe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDc3MzYxNzE0MGFiM2I4ZjQxOTJhNTJiZmY1OWRlZWNiYWNiYmNmZQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-05-27T12:36:04Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-05-27T12:36:04Z"}, "message": "a-ststio.adb, [...]: Further code clean up of previous change.\n\n\t* a-ststio.adb, s-direio.adb: Further code clean up of previous change.\n\tUpdate comments.\n\nFrom-SVN: r136023", "tree": {"sha": "7bff056ed9afc6c3fd50f07b87233416531a31d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7bff056ed9afc6c3fd50f07b87233416531a31d4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0773617140ab3b8f4192a52bff59deecbacbbcfe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0773617140ab3b8f4192a52bff59deecbacbbcfe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0773617140ab3b8f4192a52bff59deecbacbbcfe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0773617140ab3b8f4192a52bff59deecbacbbcfe/comments", "author": null, "committer": null, "parents": [{"sha": "d5c998a9fe701baceed08b46c07844bf5990ee1f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5c998a9fe701baceed08b46c07844bf5990ee1f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5c998a9fe701baceed08b46c07844bf5990ee1f"}], "stats": {"total": 21, "additions": 9, "deletions": 12}, "files": [{"sha": "9c3bd31af5891995ba3e02f8d2f791a5d74fee12", "filename": "gcc/ada/a-ststio.adb", "status": "modified", "additions": 3, "deletions": 12, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0773617140ab3b8f4192a52bff59deecbacbbcfe/gcc%2Fada%2Fa-ststio.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0773617140ab3b8f4192a52bff59deecbacbbcfe/gcc%2Fada%2Fa-ststio.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-ststio.adb?ref=0773617140ab3b8f4192a52bff59deecbacbbcfe", "patch": "@@ -101,11 +101,8 @@ package body Ada.Streams.Stream_IO is\n    -----------\n \n    procedure Close (File : in out File_Type) is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n-      FIO.Close (AFCB'Access);\n+      FIO.Close (AP (File)'Unrestricted_Access);\n    end Close;\n \n    ------------\n@@ -140,11 +137,8 @@ package body Ada.Streams.Stream_IO is\n    ------------\n \n    procedure Delete (File : in out File_Type) is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n-      FIO.Delete (AFCB'Access);\n+      FIO.Delete (AP (File)'Unrestricted_Access);\n    end Delete;\n \n    -----------------\n@@ -357,9 +351,6 @@ package body Ada.Streams.Stream_IO is\n    --------------\n \n    procedure Set_Mode (File : in out File_Type; Mode : File_Mode) is\n-      AFCB : aliased AP;\n-      for AFCB'Address use File'Address;\n-      pragma Import (Ada, AFCB);\n    begin\n       FIO.Check_File_Open (AP (File));\n \n@@ -371,7 +362,7 @@ package body Ada.Streams.Stream_IO is\n       if ((File.Mode = FCB.In_File) /= (Mode = In_File))\n         and then not File.Update_Mode\n       then\n-         FIO.Reset (AFCB'Access, FCB.Inout_File);\n+         FIO.Reset (AP (File)'Unrestricted_Access, FCB.Inout_File);\n          File.Update_Mode := True;\n       end if;\n "}, {"sha": "c764a1c658e02ad00c29b63085c47744b992e825", "filename": "gcc/ada/s-direio.adb", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0773617140ab3b8f4192a52bff59deecbacbbcfe/gcc%2Fada%2Fs-direio.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0773617140ab3b8f4192a52bff59deecbacbbcfe/gcc%2Fada%2Fs-direio.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-direio.adb?ref=0773617140ab3b8f4192a52bff59deecbacbbcfe", "patch": "@@ -252,6 +252,9 @@ package body System.Direct_IO is\n \n    procedure Reset (File : in out File_Type; Mode : FCB.File_Mode) is\n       pragma Unmodified (File);\n+      --  File is actually modified via Unrestricted_Access below, but\n+      --  GNAT will generate a warning anyway.\n+\n    begin\n       FIO.Reset (AP (File)'Unrestricted_Access, Mode);\n       File.Index := 1;\n@@ -260,6 +263,9 @@ package body System.Direct_IO is\n \n    procedure Reset (File : in out File_Type) is\n       pragma Unmodified (File);\n+      --  File is actually modified via Unrestricted_Access below, but\n+      --  GNAT will generate a warning anyway.\n+\n    begin\n       FIO.Reset (AP (File)'Unrestricted_Access);\n       File.Index := 1;"}]}