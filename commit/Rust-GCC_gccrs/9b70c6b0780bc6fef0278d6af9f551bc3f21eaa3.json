{"sha": "9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWI3MGM2YjA3ODBiYzZmZWYwMjc4ZDZhZjlmNTUxYmMzZjIxZWFhMw==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2007-10-26T09:57:12Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2007-10-26T09:57:12Z"}, "message": "re PR c++/31747 (ICE combining static and extern)\n\ncp/\n2007-10-26  Paolo Carlini  <pcarlini@suse.de>\n\n\tPR c++/31747\n\t* decl.c (grokdeclarator): In case of conflicting specifiers\n\tjust return error_mark_node.\n\ntestsuite/\n2007-10-26  Paolo Carlini  <pcarlini@suse.de>\n\n\tPR c++/31747\n\t* g++.dg/parse/crash39.C: New.\n\nFrom-SVN: r129647", "tree": {"sha": "44b22f7e160c56bcbc8fe0039d6d3e5d27360cde", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/44b22f7e160c56bcbc8fe0039d6d3e5d27360cde"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3/comments", "author": null, "committer": null, "parents": [{"sha": "0f095169ae3d48e1e7363625a529fccc458c02a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f095169ae3d48e1e7363625a529fccc458c02a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f095169ae3d48e1e7363625a529fccc458c02a7"}], "stats": {"total": 33, "additions": 24, "deletions": 9}, "files": [{"sha": "e345e75bf2d532aab9b06c846ad44dc0de275bb0", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3", "patch": "@@ -1,3 +1,9 @@\n+2007-10-26  Paolo Carlini  <pcarlini@suse.de>\n+\n+\tPR c++/31747\n+\t* decl.c (grokdeclarator): In case of conflicting specifiers\n+\tjust return error_mark_node.\n+\n 2007-10-26  Ollie Wild  <aaw@google.com>\n \n \t* expr.c (cxx_expand_expr): Removed."}, {"sha": "9bab97b34a4a5e0bea4731e680841e0253bbd62c", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 10, "deletions": 9, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3", "patch": "@@ -7552,6 +7552,12 @@ grokdeclarator (const cp_declarator *declarator,\n       return error_mark_node;\n     }\n \n+  if (declspecs->conflicting_specifiers_p)\n+    {\n+      error (\"conflicting specifiers in declaration of %qs\", name);\n+      return error_mark_node;\n+    }\n+\n   /* Extract the basic type from the decl-specifier-seq.  */\n   type = declspecs->type;\n   if (type == error_mark_node)\n@@ -7846,15 +7852,10 @@ grokdeclarator (const cp_declarator *declarator,\n       error (\"multiple storage classes in declaration of %qs\", name);\n       thread_p = false;\n     }\n-  if (declspecs->conflicting_specifiers_p)\n-    {\n-      error (\"conflicting specifiers in declaration of %qs\", name);\n-      storage_class = sc_none;\n-    }\n-  else if (decl_context != NORMAL\n-\t   && ((storage_class != sc_none\n-\t\t&& storage_class != sc_mutable)\n-\t       || thread_p))\n+  if (decl_context != NORMAL\n+      && ((storage_class != sc_none\n+\t   && storage_class != sc_mutable)\n+\t  || thread_p))\n     {\n       if ((decl_context == PARM || decl_context == CATCHPARM)\n \t  && (storage_class == sc_register"}, {"sha": "17252b2ee8ad3ec0321108837188a3b10811ab02", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3", "patch": "@@ -1,3 +1,8 @@\n+2007-10-26  Paolo Carlini  <pcarlini@suse.de>\n+\n+\tPR c++/31747\n+\t* g++.dg/parse/crash39.C: New.\n+\n 2007-10-26  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* g++.dg/tree-ssa/ivopts-1.C: Remove xfail on the search for"}, {"sha": "2f39c10e31de237ab8800cf30a1a2ff1af609d12", "filename": "gcc/testsuite/g++.dg/parse/crash39.C", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash39.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash39.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash39.C?ref=9b70c6b0780bc6fef0278d6af9f551bc3f21eaa3", "patch": "@@ -0,0 +1,3 @@\n+// PR c++/31747\n+\n+static extern int i; // { dg-error \"conflicting specifiers\" }"}]}