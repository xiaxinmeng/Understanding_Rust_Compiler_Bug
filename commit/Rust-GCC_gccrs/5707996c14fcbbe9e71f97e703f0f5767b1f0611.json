{"sha": "5707996c14fcbbe9e71f97e703f0f5767b1f0611", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTcwNzk5NmMxNGZjYmJlOWU3MWY5N2U3MDNmMGY1NzY3YjFmMDYxMQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2020-10-27T08:02:22Z"}, "committer": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2020-10-27T08:02:22Z"}, "message": "Fix builtin decls generated in tree.c\n\n\t* tree.c (set_call_expr_flags): Fix string for ECF_RET1.\n\t(build_common_builtin_nodes): Do not set ECF_RET1 for memcpy, memmove,\n\tand memset. They are handled by builtin_fnspec.", "tree": {"sha": "d7ec03cfe5df78bcbfa8e167567f80044181c687", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d7ec03cfe5df78bcbfa8e167567f80044181c687"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5707996c14fcbbe9e71f97e703f0f5767b1f0611", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5707996c14fcbbe9e71f97e703f0f5767b1f0611", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5707996c14fcbbe9e71f97e703f0f5767b1f0611", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5707996c14fcbbe9e71f97e703f0f5767b1f0611/comments", "author": null, "committer": null, "parents": [{"sha": "b53f709d92396c60d3f4ed97985137b13f853746", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b53f709d92396c60d3f4ed97985137b13f853746", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b53f709d92396c60d3f4ed97985137b13f853746"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "218dc00f22047cc7728872bbb8deba9c2710759d", "filename": "gcc/tree.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5707996c14fcbbe9e71f97e703f0f5767b1f0611/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5707996c14fcbbe9e71f97e703f0f5767b1f0611/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=5707996c14fcbbe9e71f97e703f0f5767b1f0611", "patch": "@@ -10514,7 +10514,7 @@ set_call_expr_flags (tree decl, int flags)\n   if (flags & ECF_RET1)\n     DECL_ATTRIBUTES (decl)\n       = tree_cons (get_identifier (\"fn spec\"),\n-\t\t   build_tree_list (NULL_TREE, build_string (1, \"1\")),\n+\t\t   build_tree_list (NULL_TREE, build_string (2, \"1 \")),\n \t\t   DECL_ATTRIBUTES (decl));\n   if ((flags & ECF_TM_PURE) && flag_tm)\n     apply_tm_attr (decl, get_identifier (\"transaction_pure\"));\n@@ -10576,10 +10576,10 @@ build_common_builtin_nodes (void)\n \n       if (!builtin_decl_explicit_p (BUILT_IN_MEMCPY))\n \tlocal_define_builtin (\"__builtin_memcpy\", ftype, BUILT_IN_MEMCPY,\n-\t\t\t      \"memcpy\", ECF_NOTHROW | ECF_LEAF | ECF_RET1);\n+\t\t\t      \"memcpy\", ECF_NOTHROW | ECF_LEAF);\n       if (!builtin_decl_explicit_p (BUILT_IN_MEMMOVE))\n \tlocal_define_builtin (\"__builtin_memmove\", ftype, BUILT_IN_MEMMOVE,\n-\t\t\t      \"memmove\", ECF_NOTHROW | ECF_LEAF | ECF_RET1);\n+\t\t\t      \"memmove\", ECF_NOTHROW | ECF_LEAF);\n     }\n \n   if (!builtin_decl_explicit_p (BUILT_IN_MEMCMP))\n@@ -10597,7 +10597,7 @@ build_common_builtin_nodes (void)\n \t\t\t\t\tptr_type_node, integer_type_node,\n \t\t\t\t\tsize_type_node, NULL_TREE);\n       local_define_builtin (\"__builtin_memset\", ftype, BUILT_IN_MEMSET,\n-\t\t\t    \"memset\", ECF_NOTHROW | ECF_LEAF | ECF_RET1);\n+\t\t\t    \"memset\", ECF_NOTHROW | ECF_LEAF);\n     }\n \n   /* If we're checking the stack, `alloca' can throw.  */"}]}