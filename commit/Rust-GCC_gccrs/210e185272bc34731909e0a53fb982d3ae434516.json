{"sha": "210e185272bc34731909e0a53fb982d3ae434516", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjEwZTE4NTI3MmJjMzQ3MzE5MDllMGE1M2ZiOTgyZDNhZTQzNDUxNg==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2005-03-12T04:56:29Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2005-03-12T04:56:29Z"}, "message": "re PR middle-end/20419 (ICE in gen_lowpart_general, at rtlhooks.c:58)\n\n\n\tPR middle-end/20419\n\t* builtins.c (expand_builtin_signbit): Force the signbit's word\n\tinto an integer register to avoid SUBREGs of floating point modes.\n\nFrom-SVN: r96328", "tree": {"sha": "96386c408166b9b5428a6ddf7d05ea299cb137d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96386c408166b9b5428a6ddf7d05ea299cb137d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/210e185272bc34731909e0a53fb982d3ae434516", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/210e185272bc34731909e0a53fb982d3ae434516", "html_url": "https://github.com/Rust-GCC/gccrs/commit/210e185272bc34731909e0a53fb982d3ae434516", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/210e185272bc34731909e0a53fb982d3ae434516/comments", "author": null, "committer": null, "parents": [{"sha": "7999e310bf46cdd9fd435b7d0f56ad4c72054748", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7999e310bf46cdd9fd435b7d0f56ad4c72054748", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7999e310bf46cdd9fd435b7d0f56ad4c72054748"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "3e9f384253d276f5285bd0c920afdef3b713e05b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/210e185272bc34731909e0a53fb982d3ae434516/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/210e185272bc34731909e0a53fb982d3ae434516/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=210e185272bc34731909e0a53fb982d3ae434516", "patch": "@@ -1,3 +1,9 @@\n+2005-03-11  Roger Sayle  <roger@eyesopen.com>\n+\n+\tPR middle-end/20419\n+\t* builtins.c (expand_builtin_signbit): Force the signbit's word\n+\tinto an integer register to avoid SUBREGs of floating point modes.\n+\n 2005-03-12  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* cfglayout.c, loop-doloop.c, profile.c, target-def.h,"}, {"sha": "e6e07171f742075f677f9f648cdfbeacd46bab73", "filename": "gcc/builtins.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/210e185272bc34731909e0a53fb982d3ae434516/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/210e185272bc34731909e0a53fb982d3ae434516/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=210e185272bc34731909e0a53fb982d3ae434516", "patch": "@@ -5003,6 +5003,11 @@ expand_builtin_signbit (tree exp, rtx target)\n       bitpos = bitpos % BITS_PER_WORD;\n     }\n \n+  /* Force the intermediate word_mode (or narrower) result into a\n+     register.  This avoids attempting to create paradoxical SUBREGs\n+     of floating point modes below.  */\n+  temp = force_reg (imode, temp);\n+\n   /* If the bitpos is within the \"result mode\" lowpart, the operation\n      can be implement with a single bitwise AND.  Otherwise, we need\n      a right shift and an AND.  */"}]}