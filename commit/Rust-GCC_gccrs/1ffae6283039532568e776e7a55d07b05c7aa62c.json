{"sha": "1ffae6283039532568e776e7a55d07b05c7aa62c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWZmYWU2MjgzMDM5NTMyNTY4ZTc3NmU3YTU1ZDA3YjA1YzdhYTYyYw==", "commit": {"author": {"name": "Steven Bosscher", "email": "stevenb@suse.de", "date": "2004-05-20T12:58:46Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2004-05-20T12:58:46Z"}, "message": "* tree-mudflap.c: Formatting fixes.\n\nFrom-SVN: r82052", "tree": {"sha": "62efaeedce5ba24bec4b4e5bf767c2dcd226c81b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/62efaeedce5ba24bec4b4e5bf767c2dcd226c81b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ffae6283039532568e776e7a55d07b05c7aa62c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ffae6283039532568e776e7a55d07b05c7aa62c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ffae6283039532568e776e7a55d07b05c7aa62c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ffae6283039532568e776e7a55d07b05c7aa62c/comments", "author": null, "committer": null, "parents": [{"sha": "965ccc5a1cfc6ad1df67c8e88cfe5f044272eb4f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/965ccc5a1cfc6ad1df67c8e88cfe5f044272eb4f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/965ccc5a1cfc6ad1df67c8e88cfe5f044272eb4f"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "09873bc767e2f6507547edd7b3ee00fa69938292", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ffae6283039532568e776e7a55d07b05c7aa62c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ffae6283039532568e776e7a55d07b05c7aa62c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1ffae6283039532568e776e7a55d07b05c7aa62c", "patch": "@@ -1,3 +1,7 @@\n+2004-05-20  Steven Bosscher  <stevenb@suse.de>\n+\n+\t* tree-mudflap.c: Formatting fixes.\n+\n 2004-05-20  J\"orn Rennecke <joern.rennecke@superh.com>\n \n \t* Makefile.in (GTFILES): Add $(srcdir)/reload.h."}, {"sha": "f0c93375f40764502aec8abdc16b53d36bc70dd7", "filename": "gcc/tree-mudflap.c", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ffae6283039532568e776e7a55d07b05c7aa62c/gcc%2Ftree-mudflap.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ffae6283039532568e776e7a55d07b05c7aa62c/gcc%2Ftree-mudflap.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-mudflap.c?ref=1ffae6283039532568e776e7a55d07b05c7aa62c", "patch": "@@ -740,13 +740,16 @@ mx_register_decls (tree decl, tree *stmt_list)\n   while (decl != NULL_TREE)\n     {\n       /* Eligible decl?  */\n-      if ((TREE_CODE (decl) == VAR_DECL || TREE_CODE (decl) == PARM_DECL) &&\n-          (! TREE_STATIC (decl)) && /* auto variable */\n-          (! DECL_EXTERNAL (decl)) && /* not extern variable */\n-          (TREE_TYPE (decl) != error_mark_node) && /* not decl with error */\n-          (COMPLETE_OR_VOID_TYPE_P (TREE_TYPE (decl))) && /* complete type */\n-          (! mf_marked_p (decl)) && /* not already processed */\n-          (TREE_ADDRESSABLE (decl))) /* has address taken */\n+      if ((TREE_CODE (decl) == VAR_DECL || TREE_CODE (decl) == PARM_DECL)\n+\t  /* It must be a non-external, automatic variable.  */\n+\t  && ! DECL_EXTERNAL (decl)\n+\t  && ! TREE_STATIC (decl)\n+\t  /* The decl must have its address taken.  */\n+\t  && TREE_ADDRESSABLE (decl)\n+\t  /* The type of the variable must be complete.  */\n+\t  && COMPLETE_OR_VOID_TYPE_P (TREE_TYPE (decl))\n+\t  /* Don't process the same decl twice.  */\n+\t  && ! mf_marked_p (decl))\n         {\n           tree size = NULL_TREE, variable_name;\n           tree unregister_fncall, unregister_fncall_params;\n@@ -860,7 +863,7 @@ mx_register_decls (tree decl, tree *stmt_list)\n           /* Add the __mf_register call at the current appending point.  */\n           if (tsi_end_p (initially_stmts))\n             internal_error (\"mudflap ran off end of BIND_EXPR body\");\n-          tsi_link_before (& initially_stmts, register_fncall, TSI_SAME_STMT);\n+          tsi_link_before (&initially_stmts, register_fncall, TSI_SAME_STMT);\n \n           /* Accumulate the FINALLY piece. */\n           append_to_statement_list (unregister_fncall, &finally_stmts);"}]}