{"sha": "094030c93f19e1da77ab7a8d02d83603815d0d59", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDk0MDMwYzkzZjE5ZTFkYTc3YWI3YThkMDJkODM2MDM4MTVkMGQ1OQ==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-06-29T02:41:26Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-06-29T02:41:26Z"}, "message": "(simplify_set): Evaluate HAVE_conditional_move at runtime.\n\nFrom-SVN: r7599", "tree": {"sha": "6a0f61cc4a939b7d4c6669dfcca1ff64ee1e6535", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6a0f61cc4a939b7d4c6669dfcca1ff64ee1e6535"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/094030c93f19e1da77ab7a8d02d83603815d0d59", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/094030c93f19e1da77ab7a8d02d83603815d0d59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/094030c93f19e1da77ab7a8d02d83603815d0d59", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/094030c93f19e1da77ab7a8d02d83603815d0d59/comments", "author": null, "committer": null, "parents": [{"sha": "55c2d311c4fa96040ac08766048a14e4cd8d1c54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55c2d311c4fa96040ac08766048a14e4cd8d1c54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55c2d311c4fa96040ac08766048a14e4cd8d1c54"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "38dca46f704ec14f6c7e7d74d5a3854338ed6557", "filename": "gcc/combine.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/094030c93f19e1da77ab7a8d02d83603815d0d59/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/094030c93f19e1da77ab7a8d02d83603815d0d59/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=094030c93f19e1da77ab7a8d02d83603815d0d59", "patch": "@@ -4348,8 +4348,6 @@ simplify_set (x)\n     }\n #endif\n \n-#ifndef HAVE_conditional_move\n-\n   /* If we don't have a conditional move, SET_SRC is an IF_THEN_ELSE, and we\n      are comparing an item known to be 0 or -1 against 0, use a logical\n      operation instead. Check for one of the arms being an IOR of the other\n@@ -4358,6 +4356,9 @@ simplify_set (x)\n \n   if (GET_CODE (dest) != PC\n       && GET_CODE (src) == IF_THEN_ELSE\n+#ifdef HAVE_conditional_move\n+      && ! HAVE_conditional_move\n+#endif\n       && (GET_CODE (XEXP (src, 0)) == EQ || GET_CODE (XEXP (src, 0)) == NE)\n       && XEXP (XEXP (src, 0), 1) == const0_rtx\n       && (num_sign_bit_copies (XEXP (XEXP (src, 0), 0),\n@@ -4396,7 +4397,6 @@ simplify_set (x)\n \n       src = SET_SRC (x);\n     }\n-#endif\n \n   /* If either SRC or DEST is a CLOBBER of (const_int 0), make this\n      whole thing fail.  */"}]}