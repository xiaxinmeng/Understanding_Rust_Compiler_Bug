{"sha": "0f686aa9812eef0e6cc011e1c2ec7a3b6ff46921", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGY2ODZhYTk4MTJlZWYwZTZjYzAxMWUxYzJlYzdhM2I2ZmY0NjkyMQ==", "commit": {"author": {"name": "James Greenhalgh", "email": "james.greenhalgh@arm.com", "date": "2013-10-15T15:30:00Z"}, "committer": {"name": "James Greenhalgh", "email": "jgreenhalgh@gcc.gnu.org", "date": "2013-10-15T15:30:00Z"}, "message": "[AArch64] [Neon types 4/10] Add type attributes to all simd insns\n\ngcc/\n\n\t* config/aarch64/iterators.md (Vetype): Add SF and DF modes.\n\t(fp): New.\n\t* config/aarch64/aarch64-simd.md (neon_type): Remove.\n\t* config/aarch64/aarch64-simd.md: Add \"type\" attribute to all\n\tpatterns.\n\nFrom-SVN: r203614", "tree": {"sha": "595ed66dbf86daefdc8925cd50113dbd1e45fa97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/595ed66dbf86daefdc8925cd50113dbd1e45fa97"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f686aa9812eef0e6cc011e1c2ec7a3b6ff46921", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f686aa9812eef0e6cc011e1c2ec7a3b6ff46921", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f686aa9812eef0e6cc011e1c2ec7a3b6ff46921", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f686aa9812eef0e6cc011e1c2ec7a3b6ff46921/comments", "author": {"login": "jgreenhalgh-arm", "id": 6104025, "node_id": "MDQ6VXNlcjYxMDQwMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/6104025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgreenhalgh-arm", "html_url": "https://github.com/jgreenhalgh-arm", "followers_url": "https://api.github.com/users/jgreenhalgh-arm/followers", "following_url": "https://api.github.com/users/jgreenhalgh-arm/following{/other_user}", "gists_url": "https://api.github.com/users/jgreenhalgh-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgreenhalgh-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgreenhalgh-arm/subscriptions", "organizations_url": "https://api.github.com/users/jgreenhalgh-arm/orgs", "repos_url": "https://api.github.com/users/jgreenhalgh-arm/repos", "events_url": "https://api.github.com/users/jgreenhalgh-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/jgreenhalgh-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f7379e5eb940dc3f0c4580ced0eaefe2610fdf74", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7379e5eb940dc3f0c4580ced0eaefe2610fdf74", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7379e5eb940dc3f0c4580ced0eaefe2610fdf74"}], "stats": {"total": 477, "additions": 393, "deletions": 84}, "files": [{"sha": "cbbb82d636820f4f1d31ed69fa860120df6130ba", "filename": "gcc/ChangeLog", "status": "modified", "additions": 184, "deletions": 0, "changes": 184, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f686aa9812eef0e6cc011e1c2ec7a3b6ff46921/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f686aa9812eef0e6cc011e1c2ec7a3b6ff46921/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0f686aa9812eef0e6cc011e1c2ec7a3b6ff46921", "patch": "@@ -1,3 +1,187 @@\n+2013-10-15  James Greenhalgh  <james.greenhalgh@arm.com>\n+\n+\t* config/aarch64/iterators.md (Vetype): Add SF and DF modes.\n+\t(fp): New.\n+\t* config/aarch64/aarch64-simd.md (neon_type): Remove.\n+\t(aarch64_simd_dup<mode>): Add \"type\" attribute.\n+\t(aarch64_dup_lane<mode>): Likewise.\n+\t(aarch64_dup_lane_<vswap_width_name><mode>): Likewise.\n+\t(*aarch64_simd_mov<mode>): Likewise.\n+\t(aarch64_simd_mov_from_<mode>low): Likewise.\n+\t(aarch64_simd_mov_from_<mode>high): Likewise.\n+\t(orn<mode>3): Likewise.\n+\t(bic<mode>3): Likewise.\n+\t(add<mode>3): Likewise.\n+\t(sub<mode>3): Likewise.\n+\t(mul<mode>3): Likewise.\n+\t(*aarch64_mul3_elt<mode>): Likewise.\n+\t(*aarch64_mul3_elt_<vswap_width_name><mode>): Likewise.\n+\t(*aarch64_mul3_elt_to_128df): Likewise.\n+\t(*aarch64_mul3_elt_to_64v2df): Likewise.\n+\t(neg<mode>2): Likewise.\n+\t(abs<mode>2): Likewise.\n+\t(abd<mode>_3): Likewise.\n+\t(aba<mode>_3): Likewise.\n+\t(fabd<mode>_3): Likewise.\n+\t(*fabd_scalar<mode>3): Likewise.\n+\t(and<mode>3): Likewise.\n+\t(ior<mode>3): Likewise.\n+\t(xor<mode>3): Likewise.\n+\t(one_cmpl<mode>2): Likewise.\n+\t(aarch64_simd_vec_set<mode>): Likewise.\n+\t(aarch64_simd_lshr<mode>): Likewise.\n+\t(aarch64_simd_ashr<mode>): Likewise.\n+\t(aarch64_simd_imm_shl<mode>): Likewise.\n+\t(aarch64_simd_reg_sshl<mode): Likewise.\n+\t(aarch64_simd_reg_shl<mode>_unsigned): Likewise.\n+\t(aarch64_simd_reg_shl<mode>_signed): Likewise.\n+\t(aarch64_simd_vec_setv2di): Likewise.\n+\t(aarch64_simd_vec_set<mode>): Likewise.\n+\t(aarch64_mla<mode>): Likewise.\n+\t(*aarch64_mla_elt<mode>): Likewise.\n+\t(*aarch64_mla_elt_<vswap_width_name><mode>): Likewise.\n+\t(aarch64_mls<mode>): Likewise.\n+\t(*aarch64_mls_elt<mode>): Likewise.\n+\t(*aarch64_mls_elt_<vswap_width_name><mode>): Likewise.\n+\t(<su><maxmin><mode>3): Likewise.\n+\t(move_lo_quad_<mode>): Likewise.\n+\t(aarch64_simd_move_hi_quad_<mode>): Likewise.\n+\t(aarch64_simd_vec_pack_trunc_<mode>): Likewise.\n+\t(vec_pack_trunc_<mode>): Likewise.\n+\t(aarch64_simd_vec_unpack<su>_lo_<mode>): Likewise.\n+\t(aarch64_simd_vec_unpack<su>_hi_<mode>): Likewise.\n+\t(*aarch64_<su>mlal_lo<mode>): Likewise.\n+\t(*aarch64_<su>mlal_hi<mode>): Likewise.\n+\t(*aarch64_<su>mlsl_lo<mode>): Likewise.\n+\t(*aarch64_<su>mlsl_hi<mode>): Likewise.\n+\t(*aarch64_<su>mlal<mode>): Likewise.\n+\t(*aarch64_<su>mlsl<mode>): Likewise.\n+\t(aarch64_simd_vec_<su>mult_lo_<mode>): Likewise.\n+\t(aarch64_simd_vec_<su>mult_hi_<mode>): Likewise.\n+\t(add<mode>3): Likewise.\n+\t(sub<mode>3): Likewise.\n+\t(mul<mode>3): Likewise.\n+\t(div<mode>3): Likewise.\n+\t(neg<mode>2): Likewise.\n+\t(abs<mode>2): Likewise.\n+\t(fma<mode>4): Likewise.\n+\t(*aarch64_fma4_elt<mode>): Likewise.\n+\t(*aarch64_fma4_elt_<vswap_width_name><mode>): Likewise.\n+\t(*aarch64_fma4_elt_to_128df): Likewise.\n+\t(*aarch64_fma4_elt_to_64v2df): Likewise.\n+\t(fnma<mode>4): Likewise.\n+\t(*aarch64_fnma4_elt<mode>): Likewise.\n+\t(*aarch64_fnma4_elt_<vswap_width_name><mode>\n+\t(*aarch64_fnma4_elt_to_128df): Likewise.\n+\t(*aarch64_fnma4_elt_to_64v2df): Likewise.\n+\t(<frint_pattern><mode>2): Likewise.\n+\t(l<fcvt_pattern><su_optab><VDQF:mode><fcvt_target>2): Likewise.\n+\t(<optab><fcvt_target><VDQF:VDQF:mode>2): Likewise.\n+\t(vec_unpacks_lo_v4sf): Likewise.\n+\t(aarch64_float_extend_lo_v2df): Likewise.\n+\t(vec_unpacks_hi_v4sf): Likewise.\n+\t(aarch64_float_truncate_lo_v2sf): Likewise.\n+\t(aarch64_float_truncate_hi_v4sf): Likewise.\n+\t(aarch64_vmls<mode>): Likewise.\n+\t(<su><maxmin><mode>3): Likewise.\n+\t(<maxmin_uns><mode>3): Likewise.\n+\t(reduc_<sur>plus_<mode>): Likewise.\n+\t(reduc_<sur>plus_v2di): Likewise.\n+\t(reduc_<sur>plus_v2si): Likewise.\n+\t(reduc_<sur>plus_<mode>): Likewise.\n+\t(aarch64_addpv4sf): Likewise.\n+\t(clz<mode>2): Likewise.\n+\t(reduc_<maxmin_uns>_<mode>): Likewise.\n+\t(reduc_<maxmin_uns>_v2di): Likewise.\n+\t(reduc_<maxmin_uns>_v2si): Likewise.\n+\t(reduc_<maxmin_uns>_<mode>): Likewise.\n+\t(reduc_<maxmin_uns>_v4sf): Likewise.\n+\t(aarch64_simd_bsl<mode>_internal): Likewise.\n+\t(*aarch64_get_lane_extend<GPI:mode><VDQQH:mode>): Likewise.\n+\t(*aarch64_get_lane_zero_extendsi<mode>): Likewise.\n+\t(aarch64_get_lane<mode>): Likewise.\n+\t(*aarch64_combinez<mode>): Likewise.\n+\t(aarch64_combine<mode>): Likewise.\n+\t(aarch64_simd_combine<mode>): Likewise.\n+\t(aarch64_<ANY_EXTEND:su><ADDSUB:optab>l<mode>_hi_internal): Likewise.\n+\t(aarch64_<ANY_EXTEND:su><ADDSUB:optab>l<mode>_lo_internal): Likewise.\n+\t(aarch64_<ANY_EXTEND:su><ADDSUB:optab>l<mode>): Likewise.\n+\t(aarch64_<ANY_EXTEND:su><ADDSUB:optab>w<mode>): Likewise.\n+\t(aarch64_<ANY_EXTEND:su><ADDSUB:optab>w2<mode>_internal): Likewise.\n+\t(aarch64_<sur>h<addsub><mode>): Likewise.\n+\t(aarch64_<sur><addsub>hn<mode>): Likewise.\n+\t(aarch64_<sur><addsub>hn2<mode>): Likewise.\n+\t(aarch64_pmul<mode>): Likewise.\n+\t(aarch64_<su_optab><optab><mode>): Likewise.\n+\t(aarch64_<sur>qadd<mode>): Likewise.\n+\t(aarch64_sqmovun<mode>): Likewise.\n+\t(aarch64_<sur>qmovn<mode>): Likewise.\n+\t(aarch64_s<optab><mode>): Likewise.\n+\t(aarch64_sq<r>dmulh<mode>): Likewise.\n+\t(aarch64_sq<r>dmulh_lane<mode>): Likewise.\n+\t(aarch64_sq<r>dmulh_laneq<mode>): Likewise.\n+\t(aarch64_sq<r>dmulh_lane<mode>): Likewise.\n+\t(aarch64_sqdml<SBINQOPS:as>l<mode>): Likewise.\n+\t(aarch64_sqdml<SBINQOPS:as>l_lane<mode>_internal): Likewise.\n+\t(aarch64_sqdml<SBINQOPS:as>l_lane<mode>_internal): Likewise.\n+\t(aarch64_sqdml<SBINQOPS:as>l_n<mode>): Likewise.\n+\t(aarch64_sqdml<SBINQOPS:as>l2<mode>_internal): Likewise.\n+\t(aarch64_sqdml<SBINQOPS:as>l2_lane<mode>_internal): Likewise.\n+\t(aarch64_sqdml<SBINQOPS:as>l2_n<mode>_internal): Likewise.\n+\t(aarch64_sqdmull<mode>): Likewise.\n+\t(aarch64_sqdmull_lane<mode>_internal): Likewise.\n+\t(aarch64_sqdmull_n<mode>): Likewise.\n+\t(aarch64_sqdmull2<mode>_internal): Likewise.\n+\t(aarch64_sqdmull2_lane<mode>_internal): Likewise.\n+\t(aarch64_sqdmull2_n<mode>_internal): Likewise.\n+\t(aarch64_<sur>shl<mode>): Likewise.\n+\t(aarch64_<sur>q<r>shl<mode>\n+\t(aarch64_<sur>shll_n<mode>): Likewise.\n+\t(aarch64_<sur>shll2_n<mode>): Likewise.\n+\t(aarch64_<sur>shr_n<mode>): Likewise.\n+\t(aarch64_<sur>sra_n<mode>): Likewise.\n+\t(aarch64_<sur>s<lr>i_n<mode>): Likewise.\n+\t(aarch64_<sur>qshl<u>_n<mode>): Likewise.\n+\t(aarch64_<sur>q<r>shr<u>n_n<mode>): Likewise.\n+\t(aarch64_cm<optab><mode>): Likewise.\n+\t(aarch64_cm<optab>di): Likewise.\n+\t(aarch64_cm<optab><mode>): Likewise.\n+\t(aarch64_cm<optab>di): Likewise.\n+\t(aarch64_cmtst<mode>): Likewise.\n+\t(aarch64_cmtstdi): Likewise.\n+\t(aarch64_cm<optab><mode>): Likewise.\n+\t(*aarch64_fac<optab><mode>): Likewise.\n+\t(aarch64_addp<mode>): Likewise.\n+\t(aarch64_addpdi): Likewise.\n+\t(sqrt<mode>2): Likewise.\n+\t(vec_load_lanesoi<mode>): Likewise.\n+\t(vec_store_lanesoi<mode>): Likewise.\n+\t(vec_load_lanesci<mode>): Likewise.\n+\t(vec_store_lanesci<mode>): Likewise.\n+\t(vec_load_lanesxi<mode>): Likewise.\n+\t(vec_store_lanesxi<mode>): Likewise.\n+\t(*aarch64_mov<mode>): Likewise.\n+\t(aarch64_ld2<mode>_dreg): Likewise.\n+\t(aarch64_ld2<mode>_dreg): Likewise.\n+\t(aarch64_ld3<mode>_dreg): Likewise.\n+\t(aarch64_ld3<mode>_dreg): Likewise.\n+\t(aarch64_ld4<mode>_dreg): Likewise.\n+\t(aarch64_ld4<mode>_dreg): Likewise.\n+\t(aarch64_tbl1<mode>): Likewise.\n+\t(aarch64_tbl2v16qi): Likewise.\n+\t(aarch64_combinev16qi): Likewise.\n+\t(aarch64_<PERMUTE:perm_insn><PERMUTE:perm_hilo><mode>): Likewise.\n+\t(aarch64_st2<mode>_dreg): Likewise.\n+\t(aarch64_st2<mode>_dreg): Likewise.\n+\t(aarch64_st3<mode>_dreg): Likewise.\n+\t(aarch64_st3<mode>_dreg): Likewise.\n+\t(aarch64_st4<mode>_dreg): Likewise.\n+\t(aarch64_st4<mode>_dreg): Likewise.\n+\t(*aarch64_simd_ld1r<mode>): Likewise.\n+\t(aarch64_frecpe<mode>): Likewise.\n+\t(aarch64_frecp<FRECP:frecp_suffix><mode>): Likewise.\n+\t(aarch64_frecps<mode>): Likewise.\n+\n 2013-10-15  James Greenhalgh  <james.greenhalgh@arm.com>\n \n \t* config/arm/iterators.md (V_elem_ch): New."}, {"sha": "a747ee8d7bade8738fabbee071ede5d1898f369e", "filename": "gcc/config/aarch64/aarch64-simd.md", "status": "modified", "additions": 193, "deletions": 78, "changes": 271, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f686aa9812eef0e6cc011e1c2ec7a3b6ff46921/gcc%2Fconfig%2Faarch64%2Faarch64-simd.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f686aa9812eef0e6cc011e1c2ec7a3b6ff46921/gcc%2Fconfig%2Faarch64%2Faarch64-simd.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64-simd.md?ref=0f686aa9812eef0e6cc011e1c2ec7a3b6ff46921", "patch": "@@ -238,80 +238,6 @@\n    none\"\n   (const_string \"none\"))\n \n-\n-; The \"neon_type\" attribute is used by the AArch32 backend.  Below is a mapping\n-; from \"simd_type\" to \"neon_type\".\n-\n-(define_attr \"neon_type\"\n-   \"neon_int_1,neon_int_2,neon_int_3,neon_int_4,neon_int_5,neon_vqneg_vqabs,\n-   neon_vmov,neon_vaba,neon_vsma,neon_vaba_qqq,\n-   neon_mul_ddd_8_16_qdd_16_8_long_32_16_long,neon_mul_qqq_8_16_32_ddd_32,\n-   neon_mul_qdd_64_32_long_qqd_16_ddd_32_scalar_64_32_long_scalar,\n-   neon_mla_ddd_8_16_qdd_16_8_long_32_16_long,neon_mla_qqq_8_16,\n-   neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long,\n-   neon_mla_qqq_32_qqd_32_scalar,neon_mul_ddd_16_scalar_32_16_long_scalar,\n-   neon_mul_qqd_32_scalar,neon_mla_ddd_16_scalar_qdd_32_16_long_scalar,\n-   neon_shift_1,neon_shift_2,neon_shift_3,neon_vshl_ddd,\n-   neon_vqshl_vrshl_vqrshl_qqq,neon_vsra_vrsra,neon_fp_vadd_ddd_vabs_dd,\n-   neon_fp_vadd_qqq_vabs_qq,neon_fp_vsum,neon_fp_vmul_ddd,neon_fp_vmul_qqd,\n-   neon_fp_vmla_ddd,neon_fp_vmla_qqq,neon_fp_vmla_ddd_scalar,\n-   neon_fp_vmla_qqq_scalar,neon_fp_vrecps_vrsqrts_ddd,\n-   neon_fp_vrecps_vrsqrts_qqq,neon_bp_simple,neon_bp_2cycle,neon_bp_3cycle,\n-   neon_ldr,neon_str,neon_vld1_1_2_regs,neon_vld1_3_4_regs,\n-   neon_vld2_2_regs_vld1_vld2_all_lanes,neon_vld2_4_regs,neon_vld3_vld4,\n-   neon_vst1_1_2_regs_vst2_2_regs,neon_vst1_3_4_regs,\n-   neon_vst2_4_regs_vst3_vst4,neon_vst3_vst4,neon_vld1_vld2_lane,\n-   neon_vld3_vld4_lane,neon_vst1_vst2_lane,neon_vst3_vst4_lane,\n-   neon_vld3_vld4_all_lanes,neon_mcr,neon_mcr_2_mcrr,neon_mrc,neon_mrrc,\n-   neon_ldm_2,neon_stm_2,none,unknown\"\n-  (cond [\n-\t  (eq_attr \"simd_type\" \"simd_dup\") (const_string \"neon_bp_simple\")\n-\t  (eq_attr \"simd_type\" \"simd_movgp\") (const_string \"neon_bp_simple\")\n-\t  (eq_attr \"simd_type\" \"simd_add,simd_logic,simd_logic_imm\") (const_string \"neon_int_1\")\n-\t  (eq_attr \"simd_type\" \"simd_negabs,simd_addlv\") (const_string \"neon_int_3\")\n-\t  (eq_attr \"simd_type\" \"simd_addn,simd_addn2,simd_addl,simd_sat_add,simd_sat_negabs\") (const_string \"neon_int_4\")\n-\t  (eq_attr \"simd_type\" \"simd_move\") (const_string \"neon_vmov\")\n-\t  (eq_attr \"simd_type\" \"simd_ins\") (const_string \"neon_mcr\")\n-\t  (and (eq_attr \"simd_type\" \"simd_mul,simd_sat_mul\") (eq_attr \"simd_mode\" \"V8QI,V4HI\")) (const_string \"neon_mul_ddd_8_16_qdd_16_8_long_32_16_long\")\n-\t  (and (eq_attr \"simd_type\" \"simd_mul,simd_sat_mul\") (eq_attr \"simd_mode\" \"V2SI,V8QI,V16QI,V2SI\")) (const_string \"neon_mul_qqq_8_16_32_ddd_32\")\n-\t  (and (eq_attr \"simd_type\" \"simd_mull,simd_sat_mull\") (eq_attr \"simd_mode\" \"V8QI,V16QI,V4HI,V8HI\")) (const_string \"neon_mul_ddd_8_16_qdd_16_8_long_32_16_long\")\n-\t  (and (eq_attr \"simd_type\" \"simd_mull,simd_sat_mull\") (eq_attr \"simd_mode\" \"V2SI,V4SI,V2DI\")) (const_string \"neon_mul_qdd_64_32_long_qqd_16_ddd_32_scalar_64_32_long_scalar\")\n-\t  (and (eq_attr \"simd_type\" \"simd_mla,simd_sat_mlal\") (eq_attr \"simd_mode\" \"V8QI,V4HI\")) (const_string \"neon_mla_ddd_8_16_qdd_16_8_long_32_16_long\")\n-\t  (and (eq_attr \"simd_type\" \"simd_mla,simd_sat_mlal\") (eq_attr \"simd_mode\" \"V2SI\")) (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\")\n-\t  (and (eq_attr \"simd_type\" \"simd_mla,simd_sat_mlal\") (eq_attr \"simd_mode\" \"V16QI,V8HI\")) (const_string \"neon_mla_qqq_8_16\")\n-\t  (and (eq_attr \"simd_type\" \"simd_mla,simd_sat_mlal\") (eq_attr \"simd_mode\" \"V4SI\")) (const_string \"neon_mla_qqq_32_qqd_32_scalar\")\n-\t  (and (eq_attr \"simd_type\" \"simd_mlal\") (eq_attr \"simd_mode\" \"V8QI,V16QI,V4HI,V8HI\")) (const_string \"neon_mla_ddd_8_16_qdd_16_8_long_32_16_long\")\n-\t  (and (eq_attr \"simd_type\" \"simd_mlal\") (eq_attr \"simd_mode\" \"V2SI,V4SI,V2DI\")) (const_string \"neon_mla_ddd_32_qqd_16_ddd_32_scalar_qdd_64_32_long_scalar_qdd_64_32_long\")\n-\t  (and (eq_attr \"simd_type\" \"simd_fmla\") (eq_attr \"simd_mode\" \"V2SF\")) (const_string \"neon_fp_vmla_ddd\")\n-\t  (and (eq_attr \"simd_type\" \"simd_fmla\") (eq_attr \"simd_mode\" \"V4SF,V2DF\")) (const_string \"neon_fp_vmla_qqq\")\n-\t  (and (eq_attr \"simd_type\" \"simd_fmla_elt\") (eq_attr \"simd_mode\" \"V2SF\")) (const_string \"neon_fp_vmla_ddd_scalar\")\n-\t  (and (eq_attr \"simd_type\" \"simd_fmla_elt\") (eq_attr \"simd_mode\" \"V4SF,V2DF\")) (const_string \"neon_fp_vmla_qqq_scalar\")\n-\t  (and (eq_attr \"simd_type\" \"simd_fmul,simd_fmul_elt,simd_fdiv,simd_fsqrt\") (eq_attr \"simd_mode\" \"V2SF\")) (const_string \"neon_fp_vmul_ddd\")\n-\t  (and (eq_attr \"simd_type\" \"simd_fmul,simd_fmul_elt,simd_fdiv,simd_fsqrt\") (eq_attr \"simd_mode\" \"V4SF,V2DF\")) (const_string \"neon_fp_vmul_qqd\")\n-\t  (and (eq_attr \"simd_type\" \"simd_fadd\") (eq_attr \"simd_mode\" \"V2SF\")) (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n-\t  (and (eq_attr \"simd_type\" \"simd_fadd\") (eq_attr \"simd_mode\" \"V4SF,V2DF\")) (const_string \"neon_fp_vadd_qqq_vabs_qq\")\n-\t  (and (eq_attr \"simd_type\" \"simd_fnegabs,simd_fminmax,simd_fminmaxv\") (eq_attr \"simd_mode\" \"V2SF\")) (const_string \"neon_fp_vadd_ddd_vabs_dd\")\n-\t  (and (eq_attr \"simd_type\" \"simd_fnegabs,simd_fminmax,simd_fminmaxv\") (eq_attr \"simd_mode\" \"V4SF,V2DF\")) (const_string \"neon_fp_vadd_qqq_vabs_qq\")\n-\t  (and (eq_attr \"simd_type\" \"simd_shift,simd_shift_acc\") (eq_attr \"simd_mode\" \"V8QI,V4HI,V2SI\")) (const_string \"neon_vshl_ddd\")\n-\t  (and (eq_attr \"simd_type\" \"simd_shift,simd_shift_acc\") (eq_attr \"simd_mode\" \"V16QI,V8HI,V4SI,V2DI\")) (const_string \"neon_shift_3\")\n-\t  (eq_attr \"simd_type\" \"simd_minmax,simd_minmaxv\") (const_string \"neon_int_5\")\n-\t  (eq_attr \"simd_type\" \"simd_shiftn_imm,simd_shiftn2_imm,simd_shiftl_imm,\") (const_string \"neon_shift_1\")\n-\t  (eq_attr \"simd_type\" \"simd_load1,simd_load2\") (const_string \"neon_vld1_1_2_regs\")\n-\t  (eq_attr \"simd_type\" \"simd_load3,simd_load3\") (const_string \"neon_vld1_3_4_regs\")\n-\t  (eq_attr \"simd_type\" \"simd_load1r,simd_load2r,simd_load3r,simd_load4r\") (const_string \"neon_vld2_2_regs_vld1_vld2_all_lanes\")\n-\t  (eq_attr \"simd_type\" \"simd_load1s,simd_load2s\") (const_string \"neon_vld1_vld2_lane\")\n-\t  (eq_attr \"simd_type\" \"simd_load3s,simd_load4s\") (const_string \"neon_vld3_vld4_lane\")\n-\t  (eq_attr \"simd_type\" \"simd_store1,simd_store2\") (const_string \"neon_vst1_1_2_regs_vst2_2_regs\")\n-\t  (eq_attr \"simd_type\" \"simd_store3,simd_store4\") (const_string \"neon_vst1_3_4_regs\")\n-\t  (eq_attr \"simd_type\" \"simd_store1s,simd_store2s\") (const_string \"neon_vst1_vst2_lane\")\n-\t  (eq_attr \"simd_type\" \"simd_store3s,simd_store4s\") (const_string \"neon_vst3_vst4_lane\")\n-\t  (and (eq_attr \"simd_type\" \"simd_frecpe,simd_frecps\") (eq_attr \"simd_mode\" \"V2SF\")) (const_string \"neon_fp_vrecps_vrsqrts_ddd\")\n-\t  (and (eq_attr \"simd_type\" \"simd_frecpe,simd_frecps\") (eq_attr \"simd_mode\" \"V4SF,V2DF\")) (const_string \"neon_fp_vrecps_vrsqrts_qqq\")\n-\t  (eq_attr \"simd_type\" \"none\") (const_string \"none\")\n-  ]\n-  (const_string \"unknown\")))\n-\n-\n (define_expand \"mov<mode>\"\n   [(set (match_operand:VALL 0 \"aarch64_simd_nonimmediate_operand\" \"\")\n \t(match_operand:VALL 1 \"aarch64_simd_general_operand\" \"\"))]\n@@ -343,6 +269,7 @@\n    dup\\\\t%0.<Vtype>, %<vw>1\n    dup\\\\t%0.<Vtype>, %1.<Vetype>[0]\"\n   [(set_attr \"simd_type\" \"simd_dupgp, simd_dup\")\n+   (set_attr \"type\" \"neon_from_gp<q>, neon_dup<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -352,6 +279,7 @@\n   \"TARGET_SIMD\"\n   \"dup\\\\t%0.<Vtype>, %1.<Vetype>[0]\"\n   [(set_attr \"simd_type\" \"simd_dup\")\n+   (set_attr \"type\" \"neon_dup<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -365,6 +293,7 @@\n   \"TARGET_SIMD\"\n   \"dup\\\\t%0.<Vtype>, %1.<Vetype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_dup\")\n+   (set_attr \"type\" \"neon_dup<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -378,6 +307,7 @@\n   \"TARGET_SIMD\"\n   \"dup\\\\t%0.<Vtype>, %1.<Vetype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_dup\")\n+   (set_attr \"type\" \"neon_dup<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -405,6 +335,9 @@\n      }\n }\n   [(set_attr \"simd_type\" \"simd_load1,simd_store1,simd_move,simd_movgp,simd_insgp,simd_move,simd_move_imm\")\n+   (set_attr \"type\" \"neon_load1_1reg<q>, neon_store1_1reg<q>,\\\n+                     neon_logic<q>, neon_to_gp<q>, neon_from_gp<q>,\\\n+                     mov_reg, neon_move<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -436,6 +369,9 @@\n     }\n }\n   [(set_attr \"simd_type\" \"simd_load1,simd_store1,simd_move,simd_movgp,simd_insgp,simd_move,simd_move_imm\")\n+   (set_attr \"type\" \"neon_load1_1reg<q>, neon_store1_1reg<q>,\\\n+                     neon_logic<q>, multiple, multiple, multiple,\\\n+                     neon_move<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")\n    (set_attr \"length\" \"4,4,4,8,8,8,4\")]\n )\n@@ -516,6 +452,7 @@\n   \"TARGET_SIMD && reload_completed\"\n   \"umov\\t%0, %1.d[0]\"\n   [(set_attr \"simd_type\" \"simd_movgp\")\n+   (set_attr \"type\" \"neon_to_gp<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")\n    (set_attr \"length\" \"4\")\n   ])\n@@ -528,6 +465,7 @@\n   \"TARGET_SIMD && reload_completed\"\n   \"umov\\t%0, %1.d[1]\"\n   [(set_attr \"simd_type\" \"simd_movgp\")\n+   (set_attr \"type\" \"neon_to_gp<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")\n    (set_attr \"length\" \"4\")\n   ])\n@@ -539,6 +477,7 @@\n  \"TARGET_SIMD\"\n  \"orn\\t%0.<Vbtype>, %2.<Vbtype>, %1.<Vbtype>\"\n   [(set_attr \"simd_type\" \"simd_logic\")\n+   (set_attr \"type\" \"neon_logic<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -549,6 +488,7 @@\n  \"TARGET_SIMD\"\n  \"bic\\t%0.<Vbtype>, %2.<Vbtype>, %1.<Vbtype>\"\n   [(set_attr \"simd_type\" \"simd_logic\")\n+   (set_attr \"type\" \"neon_logic<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -559,6 +499,7 @@\n   \"TARGET_SIMD\"\n   \"add\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_add\")\n+   (set_attr \"type\" \"neon_add<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -569,6 +510,7 @@\n   \"TARGET_SIMD\"\n   \"sub\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_add\")\n+   (set_attr \"type\" \"neon_sub<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -579,6 +521,7 @@\n   \"TARGET_SIMD\"\n   \"mul\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_mul\")\n+   (set_attr \"type\" \"neon_mul_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -593,6 +536,7 @@\n   \"TARGET_SIMD\"\n   \"<f>mul\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vetype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_<f>mul_elt\")\n+   (set_attr \"type\" \"neon<fp>_mul_<Vetype>_scalar<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -607,6 +551,7 @@\n   \"TARGET_SIMD\"\n   \"<f>mul\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vetype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_<f>mul_elt\")\n+   (set_attr \"type\" \"neon<fp>_mul_<Vetype>_scalar<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -619,6 +564,7 @@\n   \"TARGET_SIMD\"\n   \"fmul\\\\t%0.2d, %1.2d, %2.d[0]\"\n   [(set_attr \"simd_type\" \"simd_fmul_elt\")\n+   (set_attr \"type\" \"neon_fp_mul_d_scalar_q\")\n    (set_attr \"simd_mode\" \"V2DF\")]\n )\n \n@@ -632,6 +578,7 @@\n   \"TARGET_SIMD\"\n   \"fmul\\\\t%0.2d, %3.2d, %1.d[%2]\"\n   [(set_attr \"simd_type\" \"simd_fmul_elt\")\n+   (set_attr \"type\" \"neon_fp_mul_d_scalar_q\")\n    (set_attr \"simd_mode\" \"V2DF\")]\n )\n \n@@ -641,6 +588,7 @@\n   \"TARGET_SIMD\"\n   \"neg\\t%0.<Vtype>, %1.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_negabs\")\n+   (set_attr \"type\" \"neon_neg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -650,6 +598,7 @@\n   \"TARGET_SIMD\"\n   \"abs\\t%0.<Vtype>, %1.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_negabs\")\n+   (set_attr \"type\" \"neon_abs<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -661,6 +610,7 @@\n   \"TARGET_SIMD\"\n   \"sabd\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_abd\")\n+   (set_attr \"type\" \"neon_abd<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -673,6 +623,7 @@\n   \"TARGET_SIMD\"\n   \"saba\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_abd\")\n+   (set_attr \"type\" \"neon_arith_acc<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -684,6 +635,7 @@\n   \"TARGET_SIMD\"\n   \"fabd\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fabd\")\n+   (set_attr \"type\" \"neon_fp_abd_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -695,6 +647,7 @@\n   \"TARGET_SIMD\"\n   \"fabd\\t%<s>0, %<s>1, %<s>2\"\n   [(set_attr \"simd_type\" \"simd_fabd\")\n+   (set_attr \"type\" \"neon_fp_abd_<Vetype><q>\")\n    (set_attr \"mode\" \"<MODE>\")]\n )\n \n@@ -705,6 +658,7 @@\n   \"TARGET_SIMD\"\n   \"and\\t%0.<Vbtype>, %1.<Vbtype>, %2.<Vbtype>\"\n   [(set_attr \"simd_type\" \"simd_logic\")\n+   (set_attr \"type\" \"neon_logic<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -715,6 +669,7 @@\n   \"TARGET_SIMD\"\n   \"orr\\t%0.<Vbtype>, %1.<Vbtype>, %2.<Vbtype>\"\n   [(set_attr \"simd_type\" \"simd_logic\")\n+   (set_attr \"type\" \"neon_logic<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -725,6 +680,7 @@\n   \"TARGET_SIMD\"\n   \"eor\\t%0.<Vbtype>, %1.<Vbtype>, %2.<Vbtype>\"\n   [(set_attr \"simd_type\" \"simd_logic\")\n+   (set_attr \"type\" \"neon_logic<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -734,6 +690,7 @@\n   \"TARGET_SIMD\"\n   \"not\\t%0.<Vbtype>, %1.<Vbtype>\"\n   [(set_attr \"simd_type\" \"simd_logic\")\n+   (set_attr \"type\" \"neon_logic<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -747,6 +704,7 @@\n   \"TARGET_SIMD\"\n   \"ins\\t%0.<Vetype>[%p2], %w1\";\n   [(set_attr \"simd_type\" \"simd_insgp\")\n+   (set_attr \"type\" \"neon_from_gp<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -757,6 +715,7 @@\n  \"TARGET_SIMD\"\n  \"ushr\\t%0.<Vtype>, %1.<Vtype>, %2\"\n   [(set_attr \"simd_type\" \"simd_shift_imm\")\n+   (set_attr \"type\" \"neon_shift_imm<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -767,6 +726,7 @@\n  \"TARGET_SIMD\"\n  \"sshr\\t%0.<Vtype>, %1.<Vtype>, %2\"\n   [(set_attr \"simd_type\" \"simd_shift_imm\")\n+   (set_attr \"type\" \"neon_shift_imm<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -777,6 +737,7 @@\n  \"TARGET_SIMD\"\n   \"shl\\t%0.<Vtype>, %1.<Vtype>, %2\"\n   [(set_attr \"simd_type\" \"simd_shift_imm\")\n+   (set_attr \"type\" \"neon_shift_imm<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -787,6 +748,7 @@\n  \"TARGET_SIMD\"\n  \"sshl\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_shift\")\n+   (set_attr \"type\" \"neon_shift_reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -798,6 +760,7 @@\n  \"TARGET_SIMD\"\n  \"ushl\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_shift\")\n+   (set_attr \"type\" \"neon_shift_reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -809,6 +772,7 @@\n  \"TARGET_SIMD\"\n  \"sshl\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_shift\")\n+   (set_attr \"type\" \"neon_shift_reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1016,6 +980,7 @@\n   \"TARGET_SIMD\"\n   \"ins\\t%0.d[%p2], %1\";\n   [(set_attr \"simd_type\" \"simd_insgp\")\n+   (set_attr \"type\" \"neon_from_gp\")\n    (set_attr \"simd_mode\" \"V2DI\")]\n )\n \n@@ -1042,6 +1007,7 @@\n   \"TARGET_SIMD\"\n   \"ins\\t%0.<Vetype>[%p2], %1.<Vetype>[0]\";\n   [(set_attr \"simd_type\" \"simd_ins\")\n+   (set_attr \"type\" \"neon_ins<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1067,6 +1033,7 @@\n  \"TARGET_SIMD\"\n  \"mla\\t%0.<Vtype>, %2.<Vtype>, %3.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_mla\")\n+   (set_attr \"type\" \"neon_mla_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1083,6 +1050,7 @@\n  \"TARGET_SIMD\"\n  \"mla\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_mla\")\n+   (set_attr \"type\" \"neon_mla_<Vetype>_scalar<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1099,6 +1067,7 @@\n  \"TARGET_SIMD\"\n  \"mla\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_mla\")\n+   (set_attr \"type\" \"neon_mla_<Vetype>_scalar<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1110,6 +1079,7 @@\n  \"TARGET_SIMD\"\n  \"mls\\t%0.<Vtype>, %2.<Vtype>, %3.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_mla\")\n+   (set_attr \"type\" \"neon_mla_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1126,6 +1096,7 @@\n  \"TARGET_SIMD\"\n  \"mls\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_mla\")\n+   (set_attr \"type\" \"neon_mla_<Vetype>_scalar<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1142,6 +1113,7 @@\n  \"TARGET_SIMD\"\n  \"mls\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_mla\")\n+   (set_attr \"type\" \"neon_mla_<Vetype>_scalar<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1153,6 +1125,7 @@\n  \"TARGET_SIMD\"\n  \"<su><maxmin>\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_minmax\")\n+   (set_attr \"type\" \"neon_minmax<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1169,7 +1142,7 @@\n    fmov\\\\t%d0, %1\n    dup\\\\t%d0, %1\"\n   [(set_attr \"v8type\" \"*,fmov,*\")\n-   (set_attr \"type\" \"*,fmov,*\")\n+   (set_attr \"type\" \"neon_dup<q>,fmov,neon_dup<q>\")\n    (set_attr \"simd_type\" \"simd_dup,*,simd_dup\")\n    (set_attr \"simd_mode\" \"<MODE>\")\n    (set_attr \"simd\" \"yes,*,yes\")\n@@ -1191,6 +1164,7 @@\n    ins\\\\t%0.d[1], %1.d[0]\n    ins\\\\t%0.d[1], %1\"\n   [(set_attr \"simd_type\" \"simd_ins,simd_ins\")\n+   (set_attr \"type\" \"neon_ins\")\n    (set_attr \"simd_mode\" \"<MODE>\")\n    (set_attr \"length\" \"4\")]\n )\n@@ -1215,6 +1189,7 @@\n  \"TARGET_SIMD\"\n  \"xtn\\\\t%0.<Vntype>, %1.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_shiftn_imm\")\n+   (set_attr \"type\" \"neon_shift_imm_narrow_q\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1242,6 +1217,7 @@\n  \"TARGET_SIMD\"\n  \"xtn\\\\t%0.<Vntype>, %1.<Vtype>\\;xtn2\\\\t%0.<V2ntype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_shiftn2_imm\")\n+   (set_attr \"type\" \"multiple\")\n    (set_attr \"simd_mode\" \"<MODE>\")\n    (set_attr \"length\" \"8\")]\n )\n@@ -1257,6 +1233,7 @@\n   \"TARGET_SIMD\"\n   \"<su>shll %0.<Vwtype>, %1.<Vhalftype>, 0\"\n   [(set_attr \"simd_type\" \"simd_shiftl_imm\")\n+   (set_attr \"type\" \"neon_shift_imm_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1269,6 +1246,7 @@\n   \"TARGET_SIMD\"\n   \"<su>shll2 %0.<Vwtype>, %1.<Vtype>, 0\"\n   [(set_attr \"simd_type\" \"simd_shiftl_imm\")\n+   (set_attr \"type\" \"neon_shift_imm_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1312,6 +1290,7 @@\n   \"TARGET_SIMD\"\n   \"<su>mlal\\t%0.<Vwtype>, %2.<Vhalftype>, %4.<Vhalftype>\"\n   [(set_attr \"simd_type\" \"simd_mlal\")\n+   (set_attr \"type\" \"neon_mla_<Vetype>_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1329,6 +1308,7 @@\n   \"TARGET_SIMD\"\n   \"<su>mlal2\\t%0.<Vwtype>, %2.<Vtype>, %4.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_mlal\")\n+   (set_attr \"type\" \"neon_mla_<Vetype>_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1346,6 +1326,7 @@\n   \"TARGET_SIMD\"\n   \"<su>mlsl\\t%0.<Vwtype>, %2.<Vhalftype>, %4.<Vhalftype>\"\n   [(set_attr \"simd_type\" \"simd_mlal\")\n+   (set_attr \"type\" \"neon_mla_<Vetype>_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1363,6 +1344,7 @@\n   \"TARGET_SIMD\"\n   \"<su>mlsl2\\t%0.<Vwtype>, %2.<Vtype>, %4.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_mlal\")\n+   (set_attr \"type\" \"neon_mla_<Vetype>_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1378,6 +1360,7 @@\n   \"TARGET_SIMD\"\n   \"<su>mlal\\t%0.<Vwtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_mlal\")\n+   (set_attr \"type\" \"neon_mla_<Vetype>_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1393,6 +1376,7 @@\n   \"TARGET_SIMD\"\n   \"<su>mlsl\\t%0.<Vwtype>, %2.<Vtype>, %3.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_mlal\")\n+   (set_attr \"type\" \"neon_mla_<Vetype>_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1407,6 +1391,7 @@\n   \"TARGET_SIMD\"\n   \"<su>mull\\\\t%0.<Vwtype>, %1.<Vhalftype>, %2.<Vhalftype>\"\n   [(set_attr \"simd_type\" \"simd_mull\")\n+   (set_attr \"type\" \"neon_mul_<Vetype>_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1435,6 +1420,7 @@\n   \"TARGET_SIMD\"\n   \"<su>mull2\\\\t%0.<Vwtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_mull\")\n+   (set_attr \"type\" \"neon_mul_<Vetype>_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1485,6 +1471,7 @@\n  \"TARGET_SIMD\"\n  \"fadd\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fadd\")\n+   (set_attr \"type\" \"neon_fp_addsub_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1495,6 +1482,7 @@\n  \"TARGET_SIMD\"\n  \"fsub\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fadd\")\n+   (set_attr \"type\" \"neon_fp_addsub_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1505,6 +1493,7 @@\n  \"TARGET_SIMD\"\n  \"fmul\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fmul\")\n+   (set_attr \"type\" \"neon_fp_mul_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1515,6 +1504,7 @@\n  \"TARGET_SIMD\"\n  \"fdiv\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fdiv\")\n+   (set_attr \"type\" \"neon_fp_div_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1524,6 +1514,7 @@\n  \"TARGET_SIMD\"\n  \"fneg\\\\t%0.<Vtype>, %1.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fnegabs\")\n+   (set_attr \"type\" \"neon_fp_neg_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1533,6 +1524,7 @@\n  \"TARGET_SIMD\"\n  \"fabs\\\\t%0.<Vtype>, %1.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fnegabs\")\n+   (set_attr \"type\" \"neon_fp_abs_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1544,6 +1536,7 @@\n   \"TARGET_SIMD\"\n  \"fmla\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fmla\")\n+   (set_attr \"type\" \"neon_fp_mla_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1559,6 +1552,7 @@\n   \"TARGET_SIMD\"\n   \"fmla\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_fmla_elt\")\n+   (set_attr \"type\" \"neon_fp_mla_<Vetype>_scalar<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1574,6 +1568,7 @@\n   \"TARGET_SIMD\"\n   \"fmla\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_fmla_elt\")\n+   (set_attr \"type\" \"neon_fp_mla_<Vetype>_scalar<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1587,6 +1582,7 @@\n   \"TARGET_SIMD\"\n   \"fmla\\\\t%0.2d, %2.2d, %1.2d[0]\"\n   [(set_attr \"simd_type\" \"simd_fmla_elt\")\n+   (set_attr \"type\" \"neon_fp_mla_d_scalar_q\")\n    (set_attr \"simd_mode\" \"V2DF\")]\n )\n \n@@ -1601,6 +1597,7 @@\n   \"TARGET_SIMD\"\n   \"fmla\\\\t%0.2d, %3.2d, %1.2d[%2]\"\n   [(set_attr \"simd_type\" \"simd_fmla_elt\")\n+   (set_attr \"type\" \"neon_fp_mla_d_scalar_q\")\n    (set_attr \"simd_mode\" \"V2DF\")]\n )\n \n@@ -1614,6 +1611,7 @@\n   \"TARGET_SIMD\"\n  \"fmls\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fmla\")\n+   (set_attr \"type\" \"neon_fp_mla_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1630,6 +1628,7 @@\n   \"TARGET_SIMD\"\n   \"fmls\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_fmla_elt\")\n+   (set_attr \"type\" \"neon_fp_mla_<Vetype>_scalar<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1646,6 +1645,7 @@\n   \"TARGET_SIMD\"\n   \"fmls\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_fmla_elt\")\n+   (set_attr \"type\" \"neon_fp_mla_<Vetype>_scalar<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1660,6 +1660,7 @@\n   \"TARGET_SIMD\"\n   \"fmls\\\\t%0.2d, %2.2d, %1.2d[0]\"\n   [(set_attr \"simd_type\" \"simd_fmla_elt\")\n+   (set_attr \"type\" \"neon_fp_mla_d_scalar_q\")\n    (set_attr \"simd_mode\" \"V2DF\")]\n )\n \n@@ -1675,6 +1676,7 @@\n   \"TARGET_SIMD\"\n   \"fmls\\\\t%0.2d, %3.2d, %1.2d[%2]\"\n   [(set_attr \"simd_type\" \"simd_fmla_elt\")\n+   (set_attr \"type\" \"neon_fp_mla_d_scalar_q\")\n    (set_attr \"simd_mode\" \"V2DF\")]\n )\n \n@@ -1687,6 +1689,7 @@\n   \"TARGET_SIMD\"\n   \"frint<frint_suffix>\\\\t%0.<Vtype>, %1.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_frint\")\n+   (set_attr \"type\" \"neon_fp_round_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1700,6 +1703,7 @@\n   \"TARGET_SIMD\"\n   \"fcvt<frint_suffix><su>\\\\t%0.<Vtype>, %1.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fcvti\")\n+   (set_attr \"type\" \"neon_fp_to_int_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1733,6 +1737,7 @@\n   \"TARGET_SIMD\"\n   \"<su_optab>cvtf\\\\t%0.<Vtype>, %1.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_icvtf\")\n+   (set_attr \"type\" \"neon_int_to_fp_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1752,6 +1757,7 @@\n   \"TARGET_SIMD\"\n   \"fcvtl\\\\t%0.2d, %1.2s\"\n   [(set_attr \"simd_type\" \"simd_fcvtl\")\n+   (set_attr \"type\" \"neon_fp_cvt_widen_s\")\n    (set_attr \"simd_mode\" \"V2DF\")]\n )\n \n@@ -1762,6 +1768,7 @@\n   \"TARGET_SIMD\"\n   \"fcvtl\\\\t%0.2d, %1.2s\"\n   [(set_attr \"simd_type\" \"simd_fcvtl\")\n+   (set_attr \"type\" \"neon_fp_cvt_widen_s\")\n    (set_attr \"simd_mode\" \"V2DF\")]\n )\n \n@@ -1775,6 +1782,7 @@\n   \"TARGET_SIMD\"\n   \"fcvtl2\\\\t%0.2d, %1.4s\"\n   [(set_attr \"simd_type\" \"simd_fcvtl\")\n+   (set_attr \"type\" \"neon_fp_cvt_widen_s\")\n    (set_attr \"simd_mode\" \"V2DF\")]\n )\n \n@@ -1787,6 +1795,7 @@\n   \"TARGET_SIMD\"\n   \"fcvtn\\\\t%0.2s, %1.2d\"\n   [(set_attr \"simd_type\" \"simd_fcvtl\")\n+   (set_attr \"type\" \"neon_fp_cvt_narrow_d_q\")\n    (set_attr \"simd_mode\" \"V2SF\")]\n )\n \n@@ -1799,6 +1808,7 @@\n   \"TARGET_SIMD\"\n   \"fcvtn2\\\\t%0.4s, %2.2d\"\n   [(set_attr \"simd_type\" \"simd_fcvtl\")\n+   (set_attr \"type\" \"neon_fp_cvt_narrow_d_q\")\n    (set_attr \"simd_mode\" \"V4SF\")]\n )\n \n@@ -1846,6 +1856,7 @@\n   \"TARGET_SIMD\"\n  \"fmls\\\\t%0.<Vtype>, %2.<Vtype>, %3.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fmla\")\n+   (set_attr \"type\" \"neon_fp_mla_<Vetype>_scalar<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1870,6 +1881,7 @@\n   \"TARGET_SIMD\"\n   \"f<maxmin>nm\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fminmax\")\n+   (set_attr \"type\" \"neon_fp_minmax_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1881,6 +1893,7 @@\n   \"TARGET_SIMD\"\n   \"<maxmin_uns_op>\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fminmax\")\n+   (set_attr \"type\" \"neon_fp_minmax_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1893,6 +1906,7 @@\n  \"TARGET_SIMD\"\n  \"addv\\\\t%<Vetype>0, %1.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_addv\")\n+   (set_attr \"type\" \"neon_reduc_add<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1903,6 +1917,7 @@\n  \"TARGET_SIMD\"\n  \"addp\\\\t%d0, %1.2d\"\n   [(set_attr \"simd_type\" \"simd_addv\")\n+   (set_attr \"type\" \"neon_reduc_add_q\")\n    (set_attr \"simd_mode\" \"V2DI\")]\n )\n \n@@ -1913,6 +1928,7 @@\n  \"TARGET_SIMD\"\n  \"addp\\\\t%0.2s, %1.2s, %1.2s\"\n   [(set_attr \"simd_type\" \"simd_addv\")\n+   (set_attr \"type\" \"neon_reduc_add\")\n    (set_attr \"simd_mode\" \"V2SI\")]\n )\n \n@@ -1923,6 +1939,7 @@\n  \"TARGET_SIMD\"\n  \"faddp\\\\t%<Vetype>0, %1.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fadd\")\n+   (set_attr \"type\" \"neon_fp_reduc_add_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1933,6 +1950,7 @@\n  \"TARGET_SIMD\"\n  \"faddp\\\\t%0.4s, %1.4s, %1.4s\"\n   [(set_attr \"simd_type\" \"simd_fadd\")\n+   (set_attr \"type\" \"neon_fp_reduc_add_s_q\")\n    (set_attr \"simd_mode\" \"V4SF\")]\n )\n \n@@ -1954,6 +1972,7 @@\n  \"TARGET_SIMD\"\n  \"clz\\\\t%0.<Vtype>, %1.<Vtype>\"\n  [(set_attr \"simd_type\" \"simd_cls\")\n+  (set_attr \"type\" \"neon_cls<q>\")\n   (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1966,6 +1985,7 @@\n  \"TARGET_SIMD\"\n  \"<maxmin_uns_op>v\\\\t%<Vetype>0, %1.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_minmaxv\")\n+   (set_attr \"type\" \"neon_reduc_minmax<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -1976,6 +1996,7 @@\n  \"TARGET_SIMD\"\n  \"<maxmin_uns_op>p\\\\t%d0, %1.2d\"\n   [(set_attr \"simd_type\" \"simd_minmaxv\")\n+   (set_attr \"type\" \"neon_reduc_minmax_q\")\n    (set_attr \"simd_mode\" \"V2DI\")]\n )\n \n@@ -1986,6 +2007,7 @@\n  \"TARGET_SIMD\"\n  \"<maxmin_uns_op>p\\\\t%0.2s, %1.2s, %1.2s\"\n   [(set_attr \"simd_type\" \"simd_minmaxv\")\n+   (set_attr \"type\" \"neon_reduc_minmax\")\n    (set_attr \"simd_mode\" \"V2SI\")]\n )\n \n@@ -1996,6 +2018,7 @@\n  \"TARGET_SIMD\"\n  \"<maxmin_uns_op>p\\\\t%<Vetype>0, %1.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fminmaxv\")\n+   (set_attr \"type\" \"neon_fp_reduc_minmax_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2006,6 +2029,7 @@\n  \"TARGET_SIMD\"\n  \"<maxmin_uns_op>v\\\\t%s0, %1.4s\"\n   [(set_attr \"simd_type\" \"simd_fminmaxv\")\n+   (set_attr \"type\" \"neon_fp_reduc_minmax_s_q\")\n    (set_attr \"simd_mode\" \"V4SF\")]\n )\n \n@@ -2041,6 +2065,8 @@\n   bsl\\\\t%0.<Vbtype>, %2.<Vbtype>, %3.<Vbtype>\n   bit\\\\t%0.<Vbtype>, %2.<Vbtype>, %1.<Vbtype>\n   bif\\\\t%0.<Vbtype>, %3.<Vbtype>, %1.<Vbtype>\"\n+  [(set_attr \"simd_mode\" \"<MODE>\")\n+   (set_attr \"type\" \"neon_bsl<q>\")]\n )\n \n (define_expand \"aarch64_simd_bsl<mode>\"\n@@ -2406,6 +2432,7 @@\n   \"TARGET_SIMD\"\n   \"smov\\\\t%<GPI:w>0, %1.<VDQQH:Vetype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_movgp\")\n+   (set_attr \"type\" \"neon_to_gp<q>\")\n    (set_attr \"simd_mode\" \"<VDQQH:MODE>\")]\n )\n \n@@ -2418,6 +2445,7 @@\n   \"TARGET_SIMD\"\n   \"umov\\\\t%w0, %1.<Vetype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_movgp\")\n+   (set_attr \"type\" \"neon_to_gp<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2433,6 +2461,7 @@\n    umov\\\\t%<vwcore>0, %1.<Vetype>[%2]\n    dup\\\\t%<Vetype>0, %1.<Vetype>[%2]\"\n   [(set_attr \"simd_type\" \"simd_movgp, simd_dup\")\n+   (set_attr \"type\" \"neon_to_gp<q>, neon_dup<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2557,6 +2586,7 @@\n   \"TARGET_SIMD\"\n   \"mov\\\\t%0.8b, %1.8b\"\n   [(set_attr \"simd_type\" \"simd_move\")\n+   (set_attr \"type\" \"neon_move<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2571,7 +2601,9 @@\n {\n   aarch64_split_simd_combine (operands[0], operands[1], operands[2]);\n   DONE;\n-})\n+}\n+[(set_attr \"type\" \"multiple\")]\n+)\n \n (define_expand \"aarch64_simd_combine<mode>\"\n   [(set (match_operand:<VDBL> 0 \"register_operand\" \"=&w\")\n@@ -2582,7 +2614,9 @@\n     emit_insn (gen_move_lo_quad_<Vdbl> (operands[0], operands[1]));\n     emit_insn (gen_move_hi_quad_<Vdbl> (operands[0], operands[2]));\n     DONE;\n-  })\n+  }\n+[(set_attr \"type\" \"multiple\")]\n+)\n \n ;; <su><addsub>l<q>.\n \n@@ -2597,6 +2631,7 @@\n   \"TARGET_SIMD\"\n   \"<ANY_EXTEND:su><ADDSUB:optab>l2\\t%0.<Vwtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_addl\")\n+   (set_attr \"type\" \"neon_<ADDSUB:optab>_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2611,6 +2646,7 @@\n   \"TARGET_SIMD\"\n   \"<ANY_EXTEND:su><ADDSUB:optab>l\\t%0.<Vwtype>, %1.<Vhalftype>, %2.<Vhalftype>\"\n   [(set_attr \"simd_type\" \"simd_addl\")\n+   (set_attr \"type\" \"neon_<ADDSUB:optab>_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2672,6 +2708,7 @@\n   \"TARGET_SIMD\"\n   \"<ANY_EXTEND:su><ADDSUB:optab>l %0.<Vwtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_addl\")\n+   (set_attr \"type\" \"neon_<ADDSUB:optab>_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2685,6 +2722,7 @@\n   \"TARGET_SIMD\"\n   \"<ANY_EXTEND:su><ADDSUB:optab>w\\\\t%0.<Vwtype>, %1.<Vwtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_addl\")\n+   (set_attr \"type\" \"neon_<ADDSUB:optab>_widen\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2698,6 +2736,7 @@\n   \"TARGET_SIMD\"\n   \"<ANY_EXTEND:su><ADDSUB:optab>w2\\\\t%0.<Vwtype>, %1.<Vwtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_addl\")\n+   (set_attr \"type\" \"neon_<ADDSUB:optab>_widen\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2760,6 +2799,7 @@\n   \"TARGET_SIMD\"\n   \"<sur>h<addsub>\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_add\")\n+   (set_attr \"type\" \"neon_<addsub>_halve<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2773,6 +2813,7 @@\n   \"TARGET_SIMD\"\n   \"<sur><addsub>hn\\\\t%0.<Vntype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_addn\")\n+   (set_attr \"type\" \"neon_<addsub>_halve_narrow_q\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2785,6 +2826,7 @@\n   \"TARGET_SIMD\"\n   \"<sur><addsub>hn2\\\\t%0.<V2ntype>, %2.<Vtype>, %3.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_addn2\")\n+   (set_attr \"type\" \"neon_<addsub>_halve_narrow_q\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2798,6 +2840,7 @@\n  \"TARGET_SIMD\"\n  \"pmul\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_mul\")\n+   (set_attr \"type\" \"neon_mul_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2810,6 +2853,7 @@\n   \"TARGET_SIMD\"\n   \"<su_optab><optab>\\\\t%<v>0<Vmtype>, %<v>1<Vmtype>, %<v>2<Vmtype>\"\n   [(set_attr \"simd_type\" \"simd_add\")\n+   (set_attr \"type\" \"neon_<optab><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2823,6 +2867,7 @@\n   \"TARGET_SIMD\"\n   \"<sur>qadd\\\\t%<v>0<Vmtype>, %<v>2<Vmtype>\"\n   [(set_attr \"simd_type\" \"simd_sat_add\")\n+   (set_attr \"type\" \"neon_qadd<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2835,6 +2880,7 @@\n    \"TARGET_SIMD\"\n    \"sqxtun\\\\t%<vn2>0<Vmntype>, %<v>1<Vmtype>\"\n    [(set_attr \"simd_type\" \"simd_sat_shiftn_imm\")\n+    (set_attr \"type\" \"neon_sat_shift_imm_narrow_q\")\n     (set_attr \"simd_mode\" \"<MODE>\")]\n  )\n \n@@ -2847,6 +2893,7 @@\n   \"TARGET_SIMD\"\n   \"<sur>qxtn\\\\t%<vn2>0<Vmntype>, %<v>1<Vmtype>\"\n    [(set_attr \"simd_type\" \"simd_sat_shiftn_imm\")\n+    (set_attr \"type\" \"neon_sat_shift_imm_narrow_q\")\n     (set_attr \"simd_mode\" \"<MODE>\")]\n  )\n \n@@ -2859,6 +2906,7 @@\n   \"TARGET_SIMD\"\n   \"s<optab>\\\\t%<v>0<Vmtype>, %<v>1<Vmtype>\"\n   [(set_attr \"simd_type\" \"simd_sat_negabs\")\n+   (set_attr \"type\" \"neon_<optab><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2873,6 +2921,7 @@\n   \"TARGET_SIMD\"\n   \"sq<r>dmulh\\\\t%<v>0<Vmtype>, %<v>1<Vmtype>, %<v>2<Vmtype>\"\n   [(set_attr \"simd_type\" \"simd_sat_mul\")\n+   (set_attr \"type\" \"neon_sat_mul_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2891,6 +2940,7 @@\n    aarch64_simd_lane_bounds (operands[3], 0, GET_MODE_NUNITS (<VCOND>mode));\n    return \\\"sq<r>dmulh\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vetype>[%3]\\\";\"\n   [(set_attr \"simd_type\" \"simd_sat_mul\")\n+   (set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2907,6 +2957,7 @@\n    aarch64_simd_lane_bounds (operands[3], 0, GET_MODE_NUNITS (<VCONQ>mode));\n    return \\\"sq<r>dmulh\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vetype>[%3]\\\";\"\n   [(set_attr \"simd_type\" \"simd_sat_mul\")\n+   (set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2923,6 +2974,7 @@\n    aarch64_simd_lane_bounds (operands[3], 0, GET_MODE_NUNITS (<VCONQ>mode));\n    return \\\"sq<r>dmulh\\\\t%<v>0, %<v>1, %2.<v>[%3]\\\";\"\n   [(set_attr \"simd_type\" \"simd_sat_mul\")\n+   (set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2942,6 +2994,7 @@\n   \"TARGET_SIMD\"\n   \"sqdml<SBINQOPS:as>l\\\\t%<vw2>0<Vmwtype>, %<v>2<Vmtype>, %<v>3<Vmtype>\"\n   [(set_attr \"simd_type\" \"simd_sat_mlal\")\n+   (set_attr \"type\" \"neon_sat_mla_<Vetype>_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2965,6 +3018,7 @@\n   \"TARGET_SIMD\"\n   \"sqdml<SBINQOPS:as>l\\\\t%<vw2>0<Vmwtype>, %<v>2<Vmtype>, %3.<Vetype>[%4]\"\n   [(set_attr \"simd_type\" \"simd_sat_mlal\")\n+   (set_attr \"type\" \"neon_sat_mla_<Vetype>_scalar_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -2985,6 +3039,7 @@\n   \"TARGET_SIMD\"\n   \"sqdml<SBINQOPS:as>l\\\\t%<vw2>0<Vmwtype>, %<v>2<Vmtype>, %3.<Vetype>[%4]\"\n   [(set_attr \"simd_type\" \"simd_sat_mlal\")\n+   (set_attr \"type\" \"neon_sat_mla_<Vetype>_scalar_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3065,6 +3120,7 @@\n   \"TARGET_SIMD\"\n   \"sqdml<SBINQOPS:as>l\\\\t%<vw2>0<Vmwtype>, %<v>2<Vmtype>, %3.<Vetype>[0]\"\n   [(set_attr \"simd_type\" \"simd_sat_mlal\")\n+   (set_attr \"type\" \"neon_sat_mla_<Vetype>_scalar_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3088,6 +3144,7 @@\n   \"TARGET_SIMD\"\n   \"sqdml<SBINQOPS:as>l2\\\\t%<vw2>0<Vmwtype>, %<v>2<Vmtype>, %<v>3<Vmtype>\"\n   [(set_attr \"simd_type\" \"simd_sat_mlal\")\n+   (set_attr \"type\" \"neon_sat_mla_<Vetype>_scalar_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3139,6 +3196,7 @@\n   \"TARGET_SIMD\"\n   \"sqdml<SBINQOPS:as>l2\\\\t%<vw2>0<Vmwtype>, %<v>2<Vmtype>, %3.<Vetype>[%4]\"\n   [(set_attr \"simd_type\" \"simd_sat_mlal\")\n+   (set_attr \"type\" \"neon_sat_mla_<Vetype>_scalar_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3223,6 +3281,7 @@\n   \"TARGET_SIMD\"\n   \"sqdml<SBINQOPS:as>l2\\\\t%<vw2>0<Vmwtype>, %<v>2<Vmtype>, %3.<Vetype>[0]\"\n   [(set_attr \"simd_type\" \"simd_sat_mlal\")\n+   (set_attr \"type\" \"neon_sat_mla_<Vetype>_scalar_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3268,6 +3327,7 @@\n   \"TARGET_SIMD\"\n   \"sqdmull\\\\t%<vw2>0<Vmwtype>, %<v>1<Vmtype>, %<v>2<Vmtype>\"\n   [(set_attr \"simd_type\" \"simd_sat_mul\")\n+   (set_attr \"type\" \"neon_sat_mul_<Vetype>_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3289,6 +3349,7 @@\n   \"TARGET_SIMD\"\n   \"sqdmull\\\\t%<vw2>0<Vmwtype>, %<v>1<Vmtype>, %2.<Vetype>[%3]\"\n   [(set_attr \"simd_type\" \"simd_sat_mul\")\n+   (set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3307,6 +3368,7 @@\n   \"TARGET_SIMD\"\n   \"sqdmull\\\\t%<vw2>0<Vmwtype>, %<v>1<Vmtype>, %2.<Vetype>[%3]\"\n   [(set_attr \"simd_type\" \"simd_sat_mul\")\n+   (set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3352,6 +3414,7 @@\n   \"TARGET_SIMD\"\n   \"sqdmull\\\\t%<vw2>0<Vmwtype>, %<v>1<Vmtype>, %2.<Vetype>[0]\"\n   [(set_attr \"simd_type\" \"simd_sat_mul\")\n+   (set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3376,6 +3439,7 @@\n   \"TARGET_SIMD\"\n   \"sqdmull2\\\\t%<vw2>0<Vmwtype>, %<v>1<Vmtype>, %<v>2<Vmtype>\"\n   [(set_attr \"simd_type\" \"simd_sat_mul\")\n+   (set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3411,6 +3475,7 @@\n   \"TARGET_SIMD\"\n   \"sqdmull2\\\\t%<vw2>0<Vmwtype>, %<v>1<Vmtype>, %2.<Vetype>[%3]\"\n   [(set_attr \"simd_type\" \"simd_sat_mul\")\n+   (set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3462,6 +3527,7 @@\n   \"TARGET_SIMD\"\n   \"sqdmull2\\\\t%<vw2>0<Vmwtype>, %<v>1<Vmtype>, %2.<Vetype>[0]\"\n   [(set_attr \"simd_type\" \"simd_sat_mul\")\n+   (set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3488,6 +3554,7 @@\n   \"TARGET_SIMD\"\n   \"<sur>shl\\\\t%<v>0<Vmtype>, %<v>1<Vmtype>, %<v>2<Vmtype>\";\n   [(set_attr \"simd_type\" \"simd_shift\")\n+   (set_attr \"type\" \"neon_shift_reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3503,6 +3570,7 @@\n   \"TARGET_SIMD\"\n   \"<sur>q<r>shl\\\\t%<v>0<Vmtype>, %<v>1<Vmtype>, %<v>2<Vmtype>\";\n   [(set_attr \"simd_type\" \"simd_sat_shift\")\n+   (set_attr \"type\" \"neon_sat_shift_reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3525,6 +3593,7 @@\n     return \\\"<sur>shll\\\\t%0.<Vwtype>, %1.<Vtype>, %2\\\";\n   }\"\n   [(set_attr \"simd_type\" \"simd_shift_imm\")\n+   (set_attr \"type\" \"neon_shift_imm_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3547,6 +3616,7 @@\n     return \\\"<sur>shll2\\\\t%0.<Vwtype>, %1.<Vtype>, %2\\\";\n   }\"\n   [(set_attr \"simd_type\" \"simd_shift_imm\")\n+   (set_attr \"type\" \"neon_shift_imm_long\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3563,6 +3633,7 @@\n   aarch64_simd_const_bounds (operands[2], 1, bit_width + 1);\n   return \\\"<sur>shr\\\\t%<v>0<Vmtype>, %<v>1<Vmtype>, %2\\\";\"\n   [(set_attr \"simd_type\" \"simd_shift_imm\")\n+   (set_attr \"type\" \"neon_sat_shift_imm<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3580,6 +3651,7 @@\n   aarch64_simd_const_bounds (operands[3], 1, bit_width + 1);\n   return \\\"<sur>sra\\\\t%<v>0<Vmtype>, %<v>2<Vmtype>, %3\\\";\"\n   [(set_attr \"simd_type\" \"simd_shift_imm_acc\")\n+   (set_attr \"type\" \"neon_shift_acc<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3598,6 +3670,7 @@\n                              bit_width - <VSLRI:offsetlr> + 1);\n   return \\\"s<lr>i\\\\t%<v>0<Vmtype>, %<v>2<Vmtype>, %3\\\";\"\n   [(set_attr \"simd_type\" \"simd_shift_imm\")\n+   (set_attr \"type\" \"neon_shift_imm<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3614,6 +3687,7 @@\n   aarch64_simd_const_bounds (operands[2], 0, bit_width);\n   return \\\"<sur>qshl<u>\\\\t%<v>0<Vmtype>, %<v>1<Vmtype>, %2\\\";\"\n   [(set_attr \"simd_type\" \"simd_sat_shift_imm\")\n+   (set_attr \"type\" \"neon_sat_shift_imm<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3631,6 +3705,7 @@\n   aarch64_simd_const_bounds (operands[2], 1, bit_width + 1);\n   return \\\"<sur>q<r>shr<u>n\\\\t%<vn2>0<Vmntype>, %<v>1<Vmtype>, %2\\\";\"\n   [(set_attr \"simd_type\" \"simd_sat_shiftn_imm\")\n+   (set_attr \"type\" \"neon_sat_shift_imm_narrow_q\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3651,6 +3726,7 @@\n   cm<n_optab>\\t%<v>0<Vmtype>, %<v><cmp_1><Vmtype>, %<v><cmp_2><Vmtype>\n   cm<optab>\\t%<v>0<Vmtype>, %<v>1<Vmtype>, #0\"\n   [(set_attr \"simd_type\" \"simd_cmp\")\n+   (set_attr \"type\" \"neon_compare<q>, neon_compare_zero<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3681,6 +3757,7 @@\n     DONE;\n   }\n   [(set_attr \"simd_type\" \"simd_cmp\")\n+   (set_attr \"type\" \"neon_compare, neon_compare_zero, multiple\")\n    (set_attr \"simd_mode\" \"DI\")]\n )\n \n@@ -3696,6 +3773,7 @@\n   \"TARGET_SIMD\"\n   \"cm<n_optab>\\t%<v>0<Vmtype>, %<v><cmp_1><Vmtype>, %<v><cmp_2><Vmtype>\"\n   [(set_attr \"simd_type\" \"simd_cmp\")\n+   (set_attr \"type\" \"neon_compare<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3725,6 +3803,7 @@\n     DONE;\n   }\n   [(set_attr \"simd_type\" \"simd_cmp\")\n+   (set_attr \"type\" \"neon_compare, neon_compare_zero\")\n    (set_attr \"simd_mode\" \"DI\")]\n )\n \n@@ -3741,6 +3820,7 @@\n   \"TARGET_SIMD\"\n   \"cmtst\\t%<v>0<Vmtype>, %<v>1<Vmtype>, %<v>2<Vmtype>\"\n   [(set_attr \"simd_type\" \"simd_cmp\")\n+   (set_attr \"type\" \"neon_tst<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3772,6 +3852,7 @@\n     DONE;\n   }\n   [(set_attr \"simd_type\" \"simd_cmp\")\n+   (set_attr \"type\" \"neon_tst\")\n    (set_attr \"simd_mode\" \"DI\")]\n )\n \n@@ -3789,6 +3870,7 @@\n   fcm<n_optab>\\t%<v>0<Vmtype>, %<v><cmp_1><Vmtype>, %<v><cmp_2><Vmtype>\n   fcm<optab>\\t%<v>0<Vmtype>, %<v>1<Vmtype>, 0\"\n   [(set_attr \"simd_type\" \"simd_fcmp\")\n+   (set_attr \"type\" \"neon_fp_compare_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3806,6 +3888,7 @@\n   \"TARGET_SIMD\"\n   \"fac<n_optab>\\t%<v>0<Vmtype>, %<v><cmp_1><Vmtype>, %<v><cmp_2><Vmtype>\"\n   [(set_attr \"simd_type\" \"simd_fcmp\")\n+   (set_attr \"type\" \"neon_fp_compare_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3820,6 +3903,7 @@\n   \"TARGET_SIMD\"\n   \"addp\\t%<v>0<Vmtype>, %<v>1<Vmtype>, %<v>2<Vmtype>\"\n   [(set_attr \"simd_type\" \"simd_add\")\n+   (set_attr \"type\" \"neon_reduc_add<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3831,6 +3915,7 @@\n   \"TARGET_SIMD\"\n   \"addp\\t%d0, %1.2d\"\n   [(set_attr \"simd_type\" \"simd_add\")\n+   (set_attr \"type\" \"neon_reduc_add\")\n    (set_attr \"simd_mode\" \"DI\")]\n )\n \n@@ -3842,6 +3927,7 @@\n   \"TARGET_SIMD\"\n   \"fsqrt\\\\t%0.<Vtype>, %1.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_fsqrt\")\n+   (set_attr \"type\" \"neon_fp_sqrt_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -3855,6 +3941,7 @@\n   \"TARGET_SIMD\"\n   \"ld2\\\\t{%S0.<Vtype> - %T0.<Vtype>}, %1\"\n   [(set_attr \"simd_type\" \"simd_load2\")\n+   (set_attr \"type\" \"neon_load2_2reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"vec_store_lanesoi<mode>\"\n@@ -3865,6 +3952,7 @@\n   \"TARGET_SIMD\"\n   \"st2\\\\t{%S1.<Vtype> - %T1.<Vtype>}, %0\"\n   [(set_attr \"simd_type\" \"simd_store2\")\n+   (set_attr \"type\" \"neon_store2_2reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"vec_load_lanesci<mode>\"\n@@ -3875,6 +3963,7 @@\n   \"TARGET_SIMD\"\n   \"ld3\\\\t{%S0.<Vtype> - %U0.<Vtype>}, %1\"\n   [(set_attr \"simd_type\" \"simd_load3\")\n+   (set_attr \"type\" \"neon_load3_3reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"vec_store_lanesci<mode>\"\n@@ -3885,6 +3974,7 @@\n   \"TARGET_SIMD\"\n   \"st3\\\\t{%S1.<Vtype> - %U1.<Vtype>}, %0\"\n   [(set_attr \"simd_type\" \"simd_store3\")\n+   (set_attr \"type\" \"neon_store3_3reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"vec_load_lanesxi<mode>\"\n@@ -3895,6 +3985,7 @@\n   \"TARGET_SIMD\"\n   \"ld4\\\\t{%S0.<Vtype> - %V0.<Vtype>}, %1\"\n   [(set_attr \"simd_type\" \"simd_load4\")\n+   (set_attr \"type\" \"neon_load4_4reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"vec_store_lanesxi<mode>\"\n@@ -3905,6 +3996,7 @@\n   \"TARGET_SIMD\"\n   \"st4\\\\t{%S1.<Vtype> - %V1.<Vtype>}, %0\"\n   [(set_attr \"simd_type\" \"simd_store4\")\n+   (set_attr \"type\" \"neon_store4_4reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n ;; Reload patterns for AdvSIMD register list operands.\n@@ -3938,6 +4030,8 @@\n     }\n }\n   [(set_attr \"simd_type\" \"simd_move,simd_store<nregs>,simd_load<nregs>\")\n+   (set_attr \"type\" \"neon_move,neon_store<nregs>_<nregs>reg_q,\\\n+                     neon_load<nregs>_<nregs>reg_q\")\n    (set (attr \"length\") (symbol_ref \"aarch64_simd_attr_length_move (insn)\"))\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n@@ -4022,6 +4116,7 @@\n   \"TARGET_SIMD\"\n   \"ld2\\\\t{%S0.<Vtype> - %T0.<Vtype>}, %1\"\n   [(set_attr \"simd_type\" \"simd_load2\")\n+   (set_attr \"type\" \"neon_load2_2reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"aarch64_ld2<mode>_dreg\"\n@@ -4039,6 +4134,7 @@\n   \"TARGET_SIMD\"\n   \"ld1\\\\t{%S0.1d - %T0.1d}, %1\"\n   [(set_attr \"simd_type\" \"simd_load2\")\n+   (set_attr \"type\" \"neon_load1_2reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"aarch64_ld3<mode>_dreg\"\n@@ -4061,6 +4157,7 @@\n   \"TARGET_SIMD\"\n   \"ld3\\\\t{%S0.<Vtype> - %U0.<Vtype>}, %1\"\n   [(set_attr \"simd_type\" \"simd_load3\")\n+   (set_attr \"type\" \"neon_load3_3reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"aarch64_ld3<mode>_dreg\"\n@@ -4083,6 +4180,7 @@\n   \"TARGET_SIMD\"\n   \"ld1\\\\t{%S0.1d - %U0.1d}, %1\"\n   [(set_attr \"simd_type\" \"simd_load3\")\n+   (set_attr \"type\" \"neon_load1_3reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"aarch64_ld4<mode>_dreg\"\n@@ -4110,6 +4208,7 @@\n   \"TARGET_SIMD\"\n   \"ld4\\\\t{%S0.<Vtype> - %V0.<Vtype>}, %1\"\n   [(set_attr \"simd_type\" \"simd_load4\")\n+   (set_attr \"type\" \"neon_load4_4reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"aarch64_ld4<mode>_dreg\"\n@@ -4137,6 +4236,7 @@\n   \"TARGET_SIMD\"\n   \"ld1\\\\t{%S0.1d - %V0.1d}, %1\"\n   [(set_attr \"simd_type\" \"simd_load4\")\n+   (set_attr \"type\" \"neon_load1_4reg<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_expand \"aarch64_ld<VSTRUCT:nregs><VDC:mode>\"\n@@ -4252,6 +4352,7 @@\n   \"TARGET_SIMD\"\n   \"tbl\\\\t%0.<Vtype>, {%1.16b}, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_tbl\")\n+   (set_attr \"type\" \"neon_tbl1<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -4265,6 +4366,7 @@\n   \"TARGET_SIMD\"\n   \"tbl\\\\t%0.16b, {%S1.16b - %T1.16b}, %2.16b\"\n   [(set_attr \"simd_type\" \"simd_tbl\")\n+   (set_attr \"type\" \"neon_tbl2_q\")\n    (set_attr \"simd_mode\" \"V16QI\")]\n )\n \n@@ -4280,7 +4382,9 @@\n {\n   aarch64_split_combinev16qi (operands);\n   DONE;\n-})\n+}\n+[(set_attr \"type\" \"multiple\")]\n+)\n \n (define_insn \"aarch64_<PERMUTE:perm_insn><PERMUTE:perm_hilo><mode>\"\n   [(set (match_operand:VALL 0 \"register_operand\" \"=w\")\n@@ -4290,6 +4394,7 @@\n   \"TARGET_SIMD\"\n   \"<PERMUTE:perm_insn><PERMUTE:perm_hilo>\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_<PERMUTE:perm_insn>\")\n+   (set_attr \"type\" \"neon_permute<q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -4301,6 +4406,7 @@\n   \"TARGET_SIMD\"\n   \"st2\\\\t{%S1.<Vtype> - %T1.<Vtype>}, %0\"\n   [(set_attr \"simd_type\" \"simd_store2\")\n+   (set_attr \"type\" \"neon_store2_2reg\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"aarch64_st2<mode>_dreg\"\n@@ -4311,6 +4417,7 @@\n   \"TARGET_SIMD\"\n   \"st1\\\\t{%S1.1d - %T1.1d}, %0\"\n   [(set_attr \"simd_type\" \"simd_store2\")\n+   (set_attr \"type\" \"neon_store1_2reg\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"aarch64_st3<mode>_dreg\"\n@@ -4321,6 +4428,7 @@\n   \"TARGET_SIMD\"\n   \"st3\\\\t{%S1.<Vtype> - %U1.<Vtype>}, %0\"\n   [(set_attr \"simd_type\" \"simd_store3\")\n+   (set_attr \"type\" \"neon_store3_3reg\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"aarch64_st3<mode>_dreg\"\n@@ -4331,6 +4439,7 @@\n   \"TARGET_SIMD\"\n   \"st1\\\\t{%S1.1d - %U1.1d}, %0\"\n   [(set_attr \"simd_type\" \"simd_store3\")\n+   (set_attr \"type\" \"neon_store1_3reg\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"aarch64_st4<mode>_dreg\"\n@@ -4341,6 +4450,7 @@\n   \"TARGET_SIMD\"\n   \"st4\\\\t{%S1.<Vtype> - %V1.<Vtype>}, %0\"\n   [(set_attr \"simd_type\" \"simd_store4\")\n+   (set_attr \"type\" \"neon_store4_4reg\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"aarch64_st4<mode>_dreg\"\n@@ -4351,6 +4461,7 @@\n   \"TARGET_SIMD\"\n   \"st1\\\\t{%S1.1d - %V1.1d}, %0\"\n   [(set_attr \"simd_type\" \"simd_store4\")\n+   (set_attr \"type\" \"neon_store1_4reg\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_expand \"aarch64_st<VSTRUCT:nregs><VDC:mode>\"\n@@ -4430,6 +4541,7 @@\n   \"TARGET_SIMD\"\n   \"ld1r\\\\t{%0.<Vtype>}, %1\"\n   [(set_attr \"simd_type\" \"simd_load1r\")\n+   (set_attr \"type\" \"neon_load1_all_lanes\")\n    (set_attr \"simd_mode\" \"<MODE>\")])\n \n (define_insn \"aarch64_frecpe<mode>\"\n@@ -4439,6 +4551,7 @@\n   \"TARGET_SIMD\"\n   \"frecpe\\\\t%0.<Vtype>, %1.<Vtype>\"\n   [(set_attr \"simd_type\" \"simd_frecpe\")\n+   (set_attr \"type\" \"neon_fp_recpe_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n \n@@ -4449,6 +4562,7 @@\n   \"TARGET_SIMD\"\n   \"frecp<FRECP:frecp_suffix>\\\\t%<s>0, %<s>1\"\n   [(set_attr \"simd_type\" \"simd_frecp<FRECP:frecp_suffix>\")\n+   (set_attr \"type\" \"neon_fp_recp<FRECP:frecp_suffix>_<GPF:Vetype><GPF:q>\")\n    (set_attr \"mode\" \"<MODE>\")]\n )\n \n@@ -4460,6 +4574,7 @@\n   \"TARGET_SIMD\"\n   \"frecps\\\\t%<v>0<Vmtype>, %<v>1<Vmtype>, %<v>2<Vmtype>\"\n   [(set_attr \"simd_type\" \"simd_frecps\")\n+   (set_attr \"type\" \"neon_fp_recps_<Vetype><q>\")\n    (set_attr \"simd_mode\" \"<MODE>\")]\n )\n "}, {"sha": "50bdac9b6a8ed305f76ece1b448847212b991a24", "filename": "gcc/config/aarch64/iterators.md", "status": "modified", "additions": 16, "deletions": 6, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f686aa9812eef0e6cc011e1c2ec7a3b6ff46921/gcc%2Fconfig%2Faarch64%2Fiterators.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f686aa9812eef0e6cc011e1c2ec7a3b6ff46921/gcc%2Fconfig%2Faarch64%2Fiterators.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Fiterators.md?ref=0f686aa9812eef0e6cc011e1c2ec7a3b6ff46921", "patch": "@@ -351,6 +351,7 @@\n                           (V2SI \"s\") (V4SI  \"s\")\n \t\t\t  (V2DI \"d\") (V2SF  \"s\")\n \t\t\t  (V4SF \"s\") (V2DF  \"d\")\n+\t\t\t  (SF   \"s\") (DF  \"d\")\n \t\t\t  (QI \"b\")   (HI \"h\")\n \t\t\t  (SI \"s\")   (DI \"d\")])\n \n@@ -566,14 +567,23 @@\n \t\t     (V2SF \"f\") (V4SF  \"f\")\n \t\t     (V2DF \"f\") (DF    \"f\")])\n \n+;; Defined to '_fp' for types whose element type is a float type.\n+(define_mode_attr fp [(V8QI \"\")  (V16QI \"\")\n+\t\t      (V4HI \"\")  (V8HI  \"\")\n+\t\t      (V2SI \"\")  (V4SI  \"\")\n+\t\t      (DI   \"\")  (V2DI  \"\")\n+\t\t      (V2SF \"_fp\") (V4SF  \"_fp\")\n+\t\t      (V2DF \"_fp\") (DF    \"_fp\")\n+\t\t      (SF \"_fp\")])\n+\n ;; Defined to '_q' for 128-bit types.\n (define_mode_attr q [(V8QI \"\") (V16QI \"_q\")\n-                    (V4HI \"\") (V8HI  \"_q\")\n-                    (V2SI \"\") (V4SI  \"_q\")\n-                    (DI   \"\") (V2DI  \"_q\")\n-                    (V2SF \"\") (V4SF  \"_q\")\n-                              (V2DF  \"_q\")\n-                    (QI \"\") (HI \"\") (SI \"\") (DI \"\") (SF \"\") (DF \"\")])\n+\t\t     (V4HI \"\") (V8HI  \"_q\")\n+\t\t     (V2SI \"\") (V4SI  \"_q\")\n+\t\t     (DI   \"\") (V2DI  \"_q\")\n+\t\t     (V2SF \"\") (V4SF  \"_q\")\n+\t\t\t       (V2DF  \"_q\")\n+\t\t     (QI \"\") (HI \"\") (SI \"\") (DI \"\") (SF \"\") (DF \"\")])\n \n ;; -------------------------------------------------------------------\n ;; Code Iterators"}]}