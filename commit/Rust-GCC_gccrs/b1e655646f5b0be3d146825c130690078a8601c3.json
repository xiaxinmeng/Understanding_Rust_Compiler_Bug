{"sha": "b1e655646f5b0be3d146825c130690078a8601c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjFlNjU1NjQ2ZjViMGJlM2QxNDY4MjVjMTMwNjkwMDc4YTg2MDFjMw==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2019-10-27T08:06:23Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2019-10-27T08:06:23Z"}, "message": "ipa-icf.c (sem_function::merge): Update function summaries.\n\n\t* ipa-icf.c (sem_function::merge): Update function summaries.\n\t* ipa-prop.h (ipa_get_param): Do not sanity check for WPA.\n\nFrom-SVN: r277482", "tree": {"sha": "83665a0248d0244b4d28506ff004bb38fa62f837", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/83665a0248d0244b4d28506ff004bb38fa62f837"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b1e655646f5b0be3d146825c130690078a8601c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1e655646f5b0be3d146825c130690078a8601c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1e655646f5b0be3d146825c130690078a8601c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1e655646f5b0be3d146825c130690078a8601c3/comments", "author": null, "committer": null, "parents": [{"sha": "64a3a966982164d28a5778d186c87f025236405b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64a3a966982164d28a5778d186c87f025236405b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64a3a966982164d28a5778d186c87f025236405b"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "8a9131149a1a903e11cc8d156b0e2fbe4b01ef23", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1e655646f5b0be3d146825c130690078a8601c3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1e655646f5b0be3d146825c130690078a8601c3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b1e655646f5b0be3d146825c130690078a8601c3", "patch": "@@ -1,3 +1,8 @@\n+2019-10-27  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* ipa-icf.c (sem_function::merge): Update function summaries.\n+\t* ipa-prop.h (ipa_get_param): Do not sanity check for WPA.\n+\n 2019-10-27  Hongtao Liu  <hongtao.liu@intel.com>\n \n \t* config/i386/sse.md (*<sse>_vm<plusminus_insn><mode>3,"}, {"sha": "066288d04ba68329806ad3929156afed05cf9b99", "filename": "gcc/ipa-icf.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1e655646f5b0be3d146825c130690078a8601c3/gcc%2Fipa-icf.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1e655646f5b0be3d146825c130690078a8601c3/gcc%2Fipa-icf.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-icf.c?ref=b1e655646f5b0be3d146825c130690078a8601c3", "patch": "@@ -1266,6 +1266,7 @@ sem_function::merge (sem_item *alias_item)\n \n       /* Remove the function's body.  */\n       ipa_merge_profiles (original, alias);\n+      symtab->call_cgraph_removal_hooks (alias);\n       alias->release_body (true);\n       alias->reset ();\n       /* Notice global symbol possibly produced RTL.  */\n@@ -1287,11 +1288,13 @@ sem_function::merge (sem_item *alias_item)\n     {\n       gcc_assert (!create_alias);\n       alias->icf_merged = true;\n+      symtab->call_cgraph_removal_hooks (alias);\n       local_original->icf_merged = true;\n \n       /* FIXME update local_original counts.  */\n       ipa_merge_profiles (original, alias, true);\n       alias->create_wrapper (local_original);\n+      symtab->call_cgraph_insertion_hooks (alias);\n \n       if (dump_enabled_p ())\n \tdump_printf (MSG_OPTIMIZED_LOCATIONS,"}, {"sha": "aba996fba9406ba67b698b39a707c6fa9674f53e", "filename": "gcc/ipa-prop.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1e655646f5b0be3d146825c130690078a8601c3/gcc%2Fipa-prop.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1e655646f5b0be3d146825c130690078a8601c3/gcc%2Fipa-prop.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-prop.h?ref=b1e655646f5b0be3d146825c130690078a8601c3", "patch": "@@ -457,7 +457,6 @@ static inline tree\n ipa_get_param (class ipa_node_params *info, int i)\n {\n   gcc_checking_assert (info->descriptors);\n-  gcc_checking_assert (!flag_wpa);\n   tree t = (*info->descriptors)[i].decl_or_type;\n   gcc_checking_assert (TREE_CODE (t) == PARM_DECL);\n   return t;"}]}