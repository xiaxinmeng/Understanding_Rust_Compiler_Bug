{"sha": "e45fcf805f672888582a67ae5b5e99dce292c581", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTQ1ZmNmODA1ZjY3Mjg4ODU4MmE2N2FlNWI1ZTk5ZGNlMjkyYzU4MQ==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2014-09-08T12:01:50Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2014-09-08T12:01:50Z"}, "message": "re PR bootstrap/63204 (gtype-desc.c:887:40: error: 'struct loop' has no member named 'former_header' breaks bootstrap)\n\n2014-09-08  Richard Biener  <rguenther@suse.de>\n\n\tPR bootstrap/63204\n\t* cfgloop.c (mark_loop_for_removal): Track former header\n\tunconditionally.\n\t* cfgloop.h (struct loop): Add former_header member unconditionally.\n\t* loop-init.c (fix_loop_structure): Enable bogus loop removal\n\tdiagnostic unconditionally.\n\nFrom-SVN: r215012", "tree": {"sha": "ae558fb3673982563bad8ffee2ad384c8e98e649", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ae558fb3673982563bad8ffee2ad384c8e98e649"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e45fcf805f672888582a67ae5b5e99dce292c581", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e45fcf805f672888582a67ae5b5e99dce292c581", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e45fcf805f672888582a67ae5b5e99dce292c581", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e45fcf805f672888582a67ae5b5e99dce292c581/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0877451899153787932c99177a4933922cef620d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0877451899153787932c99177a4933922cef620d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0877451899153787932c99177a4933922cef620d"}], "stats": {"total": 17, "additions": 9, "deletions": 8}, "files": [{"sha": "f25d4e4591555c6c8a8775d84b602d65d8ee8cf9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e45fcf805f672888582a67ae5b5e99dce292c581/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e45fcf805f672888582a67ae5b5e99dce292c581/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e45fcf805f672888582a67ae5b5e99dce292c581", "patch": "@@ -1,3 +1,12 @@\n+2014-09-08  Richard Biener  <rguenther@suse.de>\n+\n+\tPR bootstrap/63204\n+\t* cfgloop.c (mark_loop_for_removal): Track former header\n+\tunconditionally.\n+\t* cfgloop.h (struct loop): Add former_header member unconditionally.\n+\t* loop-init.c (fix_loop_structure): Enable bogus loop removal\n+\tdiagnostic unconditionally.\n+\n 2014-09-07 Venkataramanan Kumar <venkataramanan.kumar@linaro.org>\n \n \tPR target/63190"}, {"sha": "6a488b3fefb589b022c39b6c3e2069c062bd7510", "filename": "gcc/cfgloop.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e45fcf805f672888582a67ae5b5e99dce292c581/gcc%2Fcfgloop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e45fcf805f672888582a67ae5b5e99dce292c581/gcc%2Fcfgloop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgloop.c?ref=e45fcf805f672888582a67ae5b5e99dce292c581", "patch": "@@ -1927,9 +1927,7 @@ bb_loop_depth (const_basic_block bb)\n void\n mark_loop_for_removal (loop_p loop)\n {\n-#ifdef ENABLE_CHECKING\n   loop->former_header = loop->header;\n-#endif\n   loop->header = NULL;\n   loop->latch = NULL;\n   loops_state_set (LOOPS_NEED_FIXUP);"}, {"sha": "eff02135b7137f86d9d2fe274753b560ae933abd", "filename": "gcc/cfgloop.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e45fcf805f672888582a67ae5b5e99dce292c581/gcc%2Fcfgloop.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e45fcf805f672888582a67ae5b5e99dce292c581/gcc%2Fcfgloop.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgloop.h?ref=e45fcf805f672888582a67ae5b5e99dce292c581", "patch": "@@ -194,13 +194,11 @@ struct GTY ((chain_next (\"%h.next\"))) loop {\n   /* Number of iteration analysis data for RTL.  */\n   struct niter_desc *simple_loop_desc;\n \n-#ifdef ENABLE_CHECKING\n   /* For sanity checking during loop fixup we record here the former\n      loop header for loops marked for removal.  Note that this prevents\n      the basic-block from being collected but its index can still be\n      reused.  */\n   basic_block former_header;\n-#endif\n };\n \n /* Flags for state of loop structure.  */"}, {"sha": "b530120fdf820e0c5e0e96459c872dd34f66f04e", "filename": "gcc/loop-init.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e45fcf805f672888582a67ae5b5e99dce292c581/gcc%2Floop-init.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e45fcf805f672888582a67ae5b5e99dce292c581/gcc%2Floop-init.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop-init.c?ref=e45fcf805f672888582a67ae5b5e99dce292c581", "patch": "@@ -245,12 +245,10 @@ fix_loop_structure (bitmap changed_bbs)\n \t}\n \n       /* Remove the loop.  */\n-#ifdef ENABLE_CHECKING\n       if (loop->header)\n \tloop->former_header = loop->header;\n       else\n \tgcc_assert (loop->former_header != NULL);\n-#endif\n       loop->header = NULL;\n       flow_loop_tree_node_remove (loop);\n     }\n@@ -278,7 +276,6 @@ fix_loop_structure (bitmap changed_bbs)\n   FOR_EACH_VEC_ELT (*get_loops (cfun), i, loop)\n     if (loop && loop->header == NULL)\n       {\n-#ifdef ENABLE_CHECKING\n \tif (dump_file\n \t    && ((unsigned) loop->former_header->index\n \t\t< basic_block_info_for_fn (cfun)->length ()))\n@@ -306,7 +303,6 @@ fix_loop_structure (bitmap changed_bbs)\n \t\t\t   former_header->loop_father->header->index);\n \t      }\n \t  }\n-#endif\n \t(*get_loops (cfun))[i] = NULL;\n \tflow_loop_free (loop);\n       }"}]}