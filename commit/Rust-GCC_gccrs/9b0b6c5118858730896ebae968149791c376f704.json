{"sha": "9b0b6c5118858730896ebae968149791c376f704", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWIwYjZjNTExODg1ODczMDg5NmViYWU5NjgxNDk3OTFjMzc2ZjcwNA==", "commit": {"author": {"name": "Mumit Khan", "email": "khan@xraylith.wisc.edu", "date": "1999-12-14T06:57:48Z"}, "committer": {"name": "Mumit Khan", "email": "khan@gcc.gnu.org", "date": "1999-12-14T06:57:48Z"}, "message": "crtdll.h (STARTFILE_SPEC): Add -pg profiling support.\n\n1999-12-14  Mumit Khan  <khan@xraylith.wisc.edu>\n\n\t* i386/crtdll.h (STARTFILE_SPEC): Add -pg profiling support.\n\t* i386/mingw32.h (LIB_SPEC): Likewise.\n\t(STARTFILE_SPEC): Likewise.\n\t* i386/uwin.h (LIB_SPEC): Likewise.\n\t(STARTFILE_SPEC): Likewise.\n\n\t* i386/mingw32.h (SUBTARGET_PROLOGUE): Override Cygwin definition.\n\t* i386/uwin.h (SUBTARGET_PROLOGUE): Likewise.\n\nFrom-SVN: r30900", "tree": {"sha": "5b29868299a4e2537cf3aac2592634af7218b543", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5b29868299a4e2537cf3aac2592634af7218b543"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9b0b6c5118858730896ebae968149791c376f704", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b0b6c5118858730896ebae968149791c376f704", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b0b6c5118858730896ebae968149791c376f704", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b0b6c5118858730896ebae968149791c376f704/comments", "author": null, "committer": null, "parents": [{"sha": "986c364253846aef7f9f0fdf06f3d141db4b4d87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/986c364253846aef7f9f0fdf06f3d141db4b4d87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/986c364253846aef7f9f0fdf06f3d141db4b4d87"}], "stats": {"total": 29, "additions": 24, "deletions": 5}, "files": [{"sha": "446631b787f1bf12f23894aaa531ccd1bf1a838b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b0b6c5118858730896ebae968149791c376f704/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b0b6c5118858730896ebae968149791c376f704/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9b0b6c5118858730896ebae968149791c376f704", "patch": "@@ -1,3 +1,14 @@\n+1999-12-14  Mumit Khan  <khan@xraylith.wisc.edu>\n+\n+\t* i386/crtdll.h (STARTFILE_SPEC): Add -pg profiling support.\n+\t* i386/mingw32.h (LIB_SPEC): Likewise.\n+\t(STARTFILE_SPEC): Likewise.\n+\t* i386/uwin.h (LIB_SPEC): Likewise.\n+\t(STARTFILE_SPEC): Likewise.\n+\n+\t* i386/mingw32.h (SUBTARGET_PROLOGUE): Override Cygwin definition.\n+\t* i386/uwin.h (SUBTARGET_PROLOGUE): Likewise.\n+\n Mon Dec 13 20:25:29 1999  Jeffrey A Law  (law@cygnus.com)\n \n \t* combine.c (combine_simplify_rtx): Fix order of checks for"}, {"sha": "6ec3f50d79a115c7d75c18eada255993b9c2f983", "filename": "gcc/config/i386/crtdll.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b0b6c5118858730896ebae968149791c376f704/gcc%2Fconfig%2Fi386%2Fcrtdll.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b0b6c5118858730896ebae968149791c376f704/gcc%2Fconfig%2Fi386%2Fcrtdll.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fcrtdll.h?ref=9b0b6c5118858730896ebae968149791c376f704", "patch": "@@ -36,5 +36,5 @@ Boston, MA 02111-1307, USA. */\n \n /* Specify a different entry point when linking a DLL */\n #undef STARTFILE_SPEC\n-#define STARTFILE_SPEC \"%{mdll:dllcrt1%O%s} %{!mdll:crt1%O%s}\"\n+#define STARTFILE_SPEC \"%{mdll:dllcrt1%O%s} %{!mdll:crt1%O%s} %{pg:gcrt1%O%s}\"\n "}, {"sha": "15528e669c1828f2ed07df4229b8138c7322d314", "filename": "gcc/config/i386/mingw32.h", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b0b6c5118858730896ebae968149791c376f704/gcc%2Fconfig%2Fi386%2Fmingw32.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b0b6c5118858730896ebae968149791c376f704/gcc%2Fconfig%2Fi386%2Fmingw32.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fmingw32.h?ref=9b0b6c5118858730896ebae968149791c376f704", "patch": "@@ -50,15 +50,15 @@ Boston, MA 02111-1307, USA. */\n /* For Windows applications, include more libraries, but always include\n    kernel32.  */\n #undef LIB_SPEC\n-#define LIB_SPEC \"%{mwindows:-lgdi32 -lcomdlg32} \\\n+#define LIB_SPEC \"%{pg:-lgmon} %{mwindows:-lgdi32 -lcomdlg32} \\\n                   -luser32 -lkernel32 -ladvapi32 -lshell32\"\n \n /* Include in the mingw32 libraries with libgcc */\n #undef LIBGCC_SPEC\n #define LIBGCC_SPEC \"-lmingw32 -lgcc -lmoldname -lmsvcrt\"\n \n #undef STARTFILE_SPEC\n-#define STARTFILE_SPEC \"%{mdll:dllcrt2%O%s} %{!mdll:crt2%O%s}\"\n+#define STARTFILE_SPEC \"%{mdll:dllcrt2%O%s} %{!mdll:crt2%O%s} %{pg:gcrt2%O%s}\"\n \n /* MS runtime does not need a separate math library. */\n #define MATH_LIBRARY \"\"\n@@ -84,3 +84,7 @@ do {\t\t\t\t\t\t\\\n   putc ('\\\"', asm_file);\t\t\t\\\n } while (0)\n \n+/* Override Cygwin's definition. This is necessary now due to the way\n+   Cygwin profiling code is written. Once \"fixed\", we can remove this.  */\n+#undef SUBTARGET_PROLOGUE\n+"}, {"sha": "0588bc0d772264750edb02f10c783f173e895f9d", "filename": "gcc/config/i386/uwin.h", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b0b6c5118858730896ebae968149791c376f704/gcc%2Fconfig%2Fi386%2Fuwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b0b6c5118858730896ebae968149791c376f704/gcc%2Fconfig%2Fi386%2Fuwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fuwin.h?ref=9b0b6c5118858730896ebae968149791c376f704", "patch": "@@ -51,7 +51,7 @@ Boston, MA 02111-1307, USA. */\n    kernel32.  */\n #undef LIB_SPEC\n #define LIB_SPEC \\\n-  \"%{mwindows:-luser32 -lgdi32 -lcomdlg32} -lkernel32 -ladvapi32\"\n+  \"%{pg:-lgmon} %{mwindows:-luser32 -lgdi32 -lcomdlg32} -lkernel32 -ladvapi32\"\n \n /* This is needed in g77spec.c for now. Will be removed in the future. */\n #define WIN32_UWIN_TARGET 1\n@@ -67,7 +67,7 @@ Boston, MA 02111-1307, USA. */\n   %{!mdll:-u _main}\"\n \n #undef STARTFILE_SPEC\n-#define STARTFILE_SPEC \"%{mdll:dllcrt2%O%s} %{!mdll:crt2%O%s}\"\n+#define STARTFILE_SPEC \"%{mdll:dllcrt2%O%s} %{!mdll:crt2%O%s} %{pg:gcrt2%O%s}\"\n \n /* These are PE BFD bug workarounds. Should go away eventually. */\n \n@@ -90,3 +90,7 @@ Boston, MA 02111-1307, USA. */\n #undef ASM_OUTPUT_EXTERNAL\n #undef ASM_OUTPUT_EXTERNAL_LIBCALL\n \n+/* Override Cygwin's definition. This is necessary now due to the way\n+   Cygwin profiling code is written. Once \"fixed\", we can remove this.  */\n+#undef SUBTARGET_PROLOGUE\n+"}]}