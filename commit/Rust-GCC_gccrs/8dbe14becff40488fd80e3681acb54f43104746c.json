{"sha": "8dbe14becff40488fd80e3681acb54f43104746c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGRiZTE0YmVjZmY0MDQ4OGZkODBlMzY4MWFjYjU0ZjQzMTA0NzQ2Yw==", "commit": {"author": {"name": "Doug Gregor", "email": "dgregor@apple.com", "date": "2003-06-20T23:40:11Z"}, "committer": {"name": "Doug Gregor", "email": "dgregor@gcc.gnu.org", "date": "2003-06-20T23:40:11Z"}, "message": "Testsuite corrections\n\nFrom-SVN: r68288", "tree": {"sha": "9fb00feca2b08d98f18f2f503393044db266d0c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9fb00feca2b08d98f18f2f503393044db266d0c8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8dbe14becff40488fd80e3681acb54f43104746c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8dbe14becff40488fd80e3681acb54f43104746c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8dbe14becff40488fd80e3681acb54f43104746c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8dbe14becff40488fd80e3681acb54f43104746c/comments", "author": {"login": "DougGregor", "id": 989428, "node_id": "MDQ6VXNlcjk4OTQyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/989428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DougGregor", "html_url": "https://github.com/DougGregor", "followers_url": "https://api.github.com/users/DougGregor/followers", "following_url": "https://api.github.com/users/DougGregor/following{/other_user}", "gists_url": "https://api.github.com/users/DougGregor/gists{/gist_id}", "starred_url": "https://api.github.com/users/DougGregor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DougGregor/subscriptions", "organizations_url": "https://api.github.com/users/DougGregor/orgs", "repos_url": "https://api.github.com/users/DougGregor/repos", "events_url": "https://api.github.com/users/DougGregor/events{/privacy}", "received_events_url": "https://api.github.com/users/DougGregor/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e01cc6dc6217e93c3ac55c346a5e5e6c91c3ca8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e01cc6dc6217e93c3ac55c346a5e5e6c91c3ca8d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e01cc6dc6217e93c3ac55c346a5e5e6c91c3ca8d"}], "stats": {"total": 47, "additions": 33, "deletions": 14}, "files": [{"sha": "c9383a5eb9eb1e061237fc997cf50135ec5f99bc", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=8dbe14becff40488fd80e3681acb54f43104746c", "patch": "@@ -1,3 +1,22 @@\n+2003-06-20  Doug Gregor <dgregor@apple.com>\n+\n+        * testsuite/20_util/auto_ptr.cc: don't dereference NULL auto_ptr\n+        * testsuite/21_strings/basic_string/replace/char/4.cc: don't \n+            dereference end iterator.\n+        * testsuite/21_strings/basic_string/replace/wchar_t/4.cc: same.\n+        * testsuite/22_locale/ctype/narrow/char/1.cc: don't subscript with\n+            index equal to the length of a string.\n+        * testsuite/22_locale/ctype/narrow/char/2.cc: same.\n+        * testsuite/22_locale/ctype/narrow/wchar_t/1.cc: same.\n+        * testsuite/22_locale/ctype/narrow/wchar_t/2.cc: same.\n+        * testsuite/22_locale/ctype/widen/char/1.cc: same.\n+        * testsuite/22_locale/ctype/widen/wchar_t/1.cc: same.\n+        * testsuite/23_containers/list_modifiers.cc: don't dereference \n+            singular reverse iterator.\n+        * testsuite/23_containers/vector_bool.cc: don't increment singular\n+            iterator.\n+        * testsuite/24_iterators/rel_ops.cc: don't compare singular iterator.\n+\n 2003-06-20  Doug Gregor <dgregor@apple.com>\n \n \t* include/bits/basic_string.h (basic_string::replace): Dispatch "}, {"sha": "d70b63f3e9efa2f724046682617e808a01a6f44e", "filename": "libstdc++-v3/testsuite/20_util/auto_ptr.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fauto_ptr.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fauto_ptr.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fauto_ptr.cc?ref=8dbe14becff40488fd80e3681acb54f43104746c", "patch": "@@ -197,8 +197,8 @@ test06()\n   std::auto_ptr<A> A_from_A_ptr(A_from_A.release());\n   VERIFY( A_from_A.get() == 0 );\n   VERIFY( A_from_A_ptr.get() != 0 );\n-  VERIFY( A_from_A->ctor_count == 1 );\n-  VERIFY( (*A_from_A).dtor_count == 0 );\n+  VERIFY( A_from_A_ptr->ctor_count == 1 );\n+  VERIFY( (*A_from_A_ptr).dtor_count == 0 );\n \n   A* A_ptr = A_from_A_ptr.get();\n "}, {"sha": "fcb924a8222188562c04f153334070537c5f0a16", "filename": "libstdc++-v3/testsuite/21_strings/basic_string/replace/char/4.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Freplace%2Fchar%2F4.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Freplace%2Fchar%2F4.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Freplace%2Fchar%2F4.cc?ref=8dbe14becff40488fd80e3681acb54f43104746c", "patch": "@@ -55,7 +55,7 @@ test04()\n \n   str02 = \"boards\";\n   char* ptr1 = &*str01.begin();\n-  char* ptr2 = &*str01.end();\n+  char* ptr2 = ptr1 + str01.length();\n   str02.replace(str02.begin(), str02.end(), ptr1, ptr2);\n   VERIFY(str02 == \"geogaddi\");\n }"}, {"sha": "94baa82250dac910461f351618c65b19603e3e86", "filename": "libstdc++-v3/testsuite/21_strings/basic_string/replace/wchar_t/4.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Freplace%2Fwchar_t%2F4.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Freplace%2Fwchar_t%2F4.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Freplace%2Fwchar_t%2F4.cc?ref=8dbe14becff40488fd80e3681acb54f43104746c", "patch": "@@ -55,7 +55,7 @@ test04()\n \n   str02 = L\"boards\";\n   wchar_t* ptr1 = &*str01.begin();\n-  wchar_t* ptr2 = &*str01.end();\n+  wchar_t* ptr2 = ptr1 + str01.length();\n   str02.replace(str02.begin(), str02.end(), ptr1, ptr2);\n   VERIFY(str02 == L\"geogaddi\");\n }"}, {"sha": "bbe0c2eadf074a60d44cc77574cf0bec7fb1db2d", "filename": "libstdc++-v3/testsuite/22_locale/ctype/narrow/char/1.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fnarrow%2Fchar%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fnarrow%2Fchar%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fnarrow%2Fchar%2F1.cc?ref=8dbe14becff40488fd80e3681acb54f43104746c", "patch": "@@ -56,7 +56,7 @@ void test01()\n     }\n \n   // narrow(const charT* low, const charT* high, char dfault, char* dest) const\n-  ctype_c.narrow(&wide[0], &wide[wide.length()], dfault, &narrow_chars[0]);  \n+  ctype_c.narrow(&wide[0], &wide[0] + wide.length(), dfault, &narrow_chars[0]);\n   VERIFY( narrow_chars[0] != dfault );\n   for (int i = 0; i < wide.length(); ++i)\n     VERIFY( narrow_chars[i] == narrow[i] );"}, {"sha": "aa3ff4c70bc9fbfec02f724484749379a06ed818", "filename": "libstdc++-v3/testsuite/22_locale/ctype/narrow/char/2.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fnarrow%2Fchar%2F2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fnarrow%2Fchar%2F2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fnarrow%2Fchar%2F2.cc?ref=8dbe14becff40488fd80e3681acb54f43104746c", "patch": "@@ -60,7 +60,7 @@ void test02()\n     }\n \n   // narrow(const charT* low, const charT* high, char dfault, char* dest) const\n-  ctype_c.narrow(&wide[0], &wide[wide.length()], dfault, &narrow_chars[0]);  \n+  ctype_c.narrow(&wide[0], &wide[0] + wide.length(), dfault, &narrow_chars[0]);\n   VERIFY( narrow_chars[0] != dfault );\n   for (int i = 0; i < wide.length(); ++i)\n     VERIFY( narrow_chars[i] == narrow[i] );"}, {"sha": "459dcf7db5766080310bc78dc7e9ca373ec296ca", "filename": "libstdc++-v3/testsuite/22_locale/ctype/narrow/wchar_t/1.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fnarrow%2Fwchar_t%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fnarrow%2Fwchar_t%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fnarrow%2Fwchar_t%2F1.cc?ref=8dbe14becff40488fd80e3681acb54f43104746c", "patch": "@@ -56,7 +56,7 @@ void test01()\n     }\n \n   // narrow(const charT* low, const charT* high, char dfault, char* dest) const\n-  ctype_c.narrow(&wide[0], &wide[wide.length()], dfault, &narrow_chars[0]);  \n+  ctype_c.narrow(&wide[0], &wide[0] + wide.length(), dfault, &narrow_chars[0]);\n   VERIFY( narrow_chars[0] != dfault );\n   for (int i = 0; i < wide.length(); ++i)\n     VERIFY( narrow_chars[i] == narrow[i] );"}, {"sha": "8f8fecc6ea925bb36238913a8596e1a35cb1adf0", "filename": "libstdc++-v3/testsuite/22_locale/ctype/narrow/wchar_t/2.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fnarrow%2Fwchar_t%2F2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fnarrow%2Fwchar_t%2F2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fnarrow%2Fwchar_t%2F2.cc?ref=8dbe14becff40488fd80e3681acb54f43104746c", "patch": "@@ -60,7 +60,7 @@ void test02()\n     }\n \n   // narrow(const charT* low, const charT* high, char dfault, char* dest) const\n-  ctype_c.narrow(&wide[0], &wide[wide.length()], dfault, &narrow_chars[0]);  \n+  ctype_c.narrow(&wide[0], &wide[0] + wide.length(), dfault, &narrow_chars[0]);\n   VERIFY( narrow_chars[0] != dfault );\n   for (int i = 0; i < wide.length(); ++i)\n     VERIFY( narrow_chars[i] == narrow[i] );"}, {"sha": "f7a2c15ad862dab7f6ff2ffef75fdd36da591116", "filename": "libstdc++-v3/testsuite/22_locale/ctype/widen/char/1.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fwiden%2Fchar%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fwiden%2Fchar%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fwiden%2Fchar%2F1.cc?ref=8dbe14becff40488fd80e3681acb54f43104746c", "patch": "@@ -55,7 +55,7 @@ void test01()\n     }\n \n   // widen(const char* low, const char* high, charT* dest) const\n-  ctype_c.widen(&narrow[0], &narrow[narrow.length()], &wide_chars[0]);  \n+  ctype_c.widen(&narrow[0], &narrow[0] + narrow.length(), &wide_chars[0]);  \n   for (int i = 0; i < narrow.length(); ++i)\n     VERIFY( wide_chars[i] == wide[i] );\n }"}, {"sha": "042a0b5f705e6afd7bb18eeeb2f1c854ccb1786e", "filename": "libstdc++-v3/testsuite/22_locale/ctype/widen/wchar_t/1.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fwiden%2Fwchar_t%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fwiden%2Fwchar_t%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fctype%2Fwiden%2Fwchar_t%2F1.cc?ref=8dbe14becff40488fd80e3681acb54f43104746c", "patch": "@@ -55,7 +55,7 @@ void test01()\n     }\n \n   // widen(const char* low, const char* high, charT* dest) const\n-  ctype_c.widen(&narrow[0], &narrow[narrow.length()], &wide_chars[0]);  \n+  ctype_c.widen(&narrow[0], &narrow[0] + narrow.length(), &wide_chars[0]);  \n   for (int i = 0; i < narrow.length(); ++i)\n     VERIFY( wide_chars[i] == wide[i] );\n }"}, {"sha": "8cdc9f0e254ff41eac5fa5ca30563a56f90f9376", "filename": "libstdc++-v3/testsuite/23_containers/list_modifiers.cc", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Flist_modifiers.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Flist_modifiers.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Flist_modifiers.cc?ref=8dbe14becff40488fd80e3681acb54f43104746c", "patch": "@@ -107,14 +107,12 @@ test01()\n   VERIFY(list0101.size() == 2);\n   VERIFY(T::dtorCount() == 1);\n   VERIFY(i->id() == 1);\n-  VERIFY(j->id() == 1);\n   VERIFY(k->id() == 1);\n \n   list0101.pop_front();          // list should be [1]\n   VERIFY(list0101.size() == 1);\n   VERIFY(T::dtorCount() == 2);\n   VERIFY(i->id() == 1);\n-  VERIFY(j->id() == 1);\n   VERIFY(k->id() == 1);\n }\n "}, {"sha": "3deec4985d21fc5e104890dee4da7ac2588b3707", "filename": "libstdc++-v3/testsuite/23_containers/vector_bool.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_bool.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_bool.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_bool.cc?ref=8dbe14becff40488fd80e3681acb54f43104746c", "patch": "@@ -26,7 +26,8 @@\n void test01()\n {\n   std::vector<bool>::iterator i;\n-  ++i;\n+  if (false)\n+    ++i;\n }\n \n // libstdc++/6886"}, {"sha": "65034b2519fbe9b4114d408fba4d4ca2ad3835bc", "filename": "libstdc++-v3/testsuite/24_iterators/rel_ops.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F24_iterators%2Frel_ops.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dbe14becff40488fd80e3681acb54f43104746c/libstdc%2B%2B-v3%2Ftestsuite%2F24_iterators%2Frel_ops.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F24_iterators%2Frel_ops.cc?ref=8dbe14becff40488fd80e3681acb54f43104746c", "patch": "@@ -30,7 +30,8 @@ void test01()\n {\n   std::vector<int> v;\n   std::vector<int>::iterator vi;\n-\n+  v.push_back(1);\n+  vi = v.end();\n   vi != v.begin();\n   vi > v.begin();\n   vi <= v.begin();"}]}