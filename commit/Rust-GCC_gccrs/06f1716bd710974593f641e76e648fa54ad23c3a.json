{"sha": "06f1716bd710974593f641e76e648fa54ad23c3a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDZmMTcxNmJkNzEwOTc0NTkzZjY0MWU3NmU2NDhmYTU0YWQyM2MzYQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2012-01-01T12:07:34Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2012-01-01T12:07:34Z"}, "message": "re PR rtl-optimization/51069 (ICE in verify_loop_structure, at cfgloop.c:1559)\n\n\tPR rtl-optimization/51069\n\t* cfgloopmanip.c (remove_path): Removing path making irreducible\n\tregion unconditional makes BB part of the region.\n\t* gcc.c-torture/compile/pr51069.c: New testcase.\n\nFrom-SVN: r182767", "tree": {"sha": "40cd72a170f39bf112cfdf721c006d95af80120b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/40cd72a170f39bf112cfdf721c006d95af80120b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/06f1716bd710974593f641e76e648fa54ad23c3a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06f1716bd710974593f641e76e648fa54ad23c3a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06f1716bd710974593f641e76e648fa54ad23c3a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06f1716bd710974593f641e76e648fa54ad23c3a/comments", "author": null, "committer": null, "parents": [{"sha": "41d2ea5798472c0ee36c063f654e30fa7138fb0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41d2ea5798472c0ee36c063f654e30fa7138fb0f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41d2ea5798472c0ee36c063f654e30fa7138fb0f"}], "stats": {"total": 53, "additions": 52, "deletions": 1}, "files": [{"sha": "f0a850d48cc2fc20740b47936783f57cf418cc25", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06f1716bd710974593f641e76e648fa54ad23c3a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06f1716bd710974593f641e76e648fa54ad23c3a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=06f1716bd710974593f641e76e648fa54ad23c3a", "patch": "@@ -1,3 +1,9 @@\n+2012-01-01  Jan Hubicka  <jhjh@suse.cz>\n+\n+\tPR rtl-optimization/51069\n+\t* cfgloopmanip.c (remove_path): Removing path making irreducible\n+\tregion unconditional makes BB part of the region.\n+\n 2012-01-01  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/51683"}, {"sha": "967541756b5f8b60e0f4feb1782a1afcaaaa814f", "filename": "gcc/cfgloopmanip.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06f1716bd710974593f641e76e648fa54ad23c3a/gcc%2Fcfgloopmanip.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06f1716bd710974593f641e76e648fa54ad23c3a/gcc%2Fcfgloopmanip.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgloopmanip.c?ref=06f1716bd710974593f641e76e648fa54ad23c3a", "patch": "@@ -290,6 +290,7 @@ remove_path (edge e)\n   int i, nrem, n_bord_bbs;\n   sbitmap seen;\n   bool irred_invalidated = false;\n+  edge_iterator ei;\n \n   if (!can_remove_branch_p (e))\n     return false;\n@@ -329,9 +330,13 @@ remove_path (edge e)\n   /* Find \"border\" hexes -- i.e. those with predecessor in removed path.  */\n   for (i = 0; i < nrem; i++)\n     SET_BIT (seen, rem_bbs[i]->index);\n+  if (!irred_invalidated)\n+    FOR_EACH_EDGE (ae, ei, e->src->succs)\n+      if (ae != e && ae->dest != EXIT_BLOCK_PTR && !TEST_BIT (seen, ae->dest->index)\n+\t  && ae->flags & EDGE_IRREDUCIBLE_LOOP)\n+\tirred_invalidated = true;\n   for (i = 0; i < nrem; i++)\n     {\n-      edge_iterator ei;\n       bb = rem_bbs[i];\n       FOR_EACH_EDGE (ae, ei, rem_bbs[i]->succs)\n \tif (ae->dest != EXIT_BLOCK_PTR && !TEST_BIT (seen, ae->dest->index))"}, {"sha": "7cc841120a1c7ed784a1d9bd6d279477eb0b0348", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06f1716bd710974593f641e76e648fa54ad23c3a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06f1716bd710974593f641e76e648fa54ad23c3a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=06f1716bd710974593f641e76e648fa54ad23c3a", "patch": "@@ -1,3 +1,8 @@\n+2012-01-01  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR rtl-optimization/51069\n+\t* gcc.c-torture/compile/pr51069.c: New testcase.\n+\n 2012-01-01  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/51683"}, {"sha": "4fdc52f65fc1869ac0981ee68bdb86a8fc87724c", "filename": "gcc/testsuite/gcc.c-torture/compile/pr51069.c", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06f1716bd710974593f641e76e648fa54ad23c3a/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr51069.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06f1716bd710974593f641e76e648fa54ad23c3a/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr51069.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr51069.c?ref=06f1716bd710974593f641e76e648fa54ad23c3a", "patch": "@@ -0,0 +1,35 @@\n+\n+int a, b, c, d, e, f, bar (void);\n+\n+void\n+foo (int x)\n+{\n+  for (;;)\n+    {\n+      if (!x)\n+        {\n+          for (d = 6; d >= 0; d--)\n+            {\n+              while (!b)\n+                ;\n+              if (e)\n+                return foo (x);\n+              if (f)\n+                {\n+                  a = 0;\n+                  continue;\n+                }\n+              for (; c; c--)\n+                ;\n+            }\n+        }\n+      if (bar ())\n+        break;\n+      e = 0;\n+      if (x)\n+        for (;;)\n+          ;\n+    }\n+}\n+\n+"}]}