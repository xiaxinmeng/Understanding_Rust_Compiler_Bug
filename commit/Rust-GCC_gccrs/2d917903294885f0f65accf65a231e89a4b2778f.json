{"sha": "2d917903294885f0f65accf65a231e89a4b2778f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmQ5MTc5MDMyOTQ4ODVmMGY2NWFjY2Y2NWEyMzFlODlhNGIyNzc4Zg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-06-08T02:36:34Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-06-08T02:36:34Z"}, "message": "(simplify_binary_operation...\n\n(simplify_binary_operation, case MULT): Check for case\nwhere width is larger than HOST_BITS_PER_WIDE_INT, and upper most\nbit is set.  We can not generate a simple shift in this case.\n\nFrom-SVN: r12238", "tree": {"sha": "9a278383f95b70ca22082627007203ee9d7af526", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a278383f95b70ca22082627007203ee9d7af526"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2d917903294885f0f65accf65a231e89a4b2778f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d917903294885f0f65accf65a231e89a4b2778f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d917903294885f0f65accf65a231e89a4b2778f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d917903294885f0f65accf65a231e89a4b2778f/comments", "author": null, "committer": null, "parents": [{"sha": "44803a5b367cca38aaeb345bd49ed27ab795e918", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44803a5b367cca38aaeb345bd49ed27ab795e918", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44803a5b367cca38aaeb345bd49ed27ab795e918"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "2da71d92030a495630916fdcca5515a1d912e91a", "filename": "gcc/cse.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d917903294885f0f65accf65a231e89a4b2778f/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d917903294885f0f65accf65a231e89a4b2778f/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=2d917903294885f0f65accf65a231e89a4b2778f", "patch": "@@ -3878,6 +3878,11 @@ simplify_binary_operation (code, mode, op0, op1)\n \t     we are still generating RTL.  This test is a kludge.  */\n \t  if (GET_CODE (op1) == CONST_INT\n \t      && (val = exact_log2 (INTVAL (op1))) >= 0\n+\t      /* If the mode is larger than the host word size, and the\n+\t\t uppermost bit is set, then this isn't a power of two due\n+\t\t to implicit sign extension.  */\n+\t      && (width <= HOST_BITS_PER_WIDE_INT\n+\t\t  || val != HOST_BITS_PER_WIDE_INT - 1)\n \t      && ! rtx_equal_function_value_matters)\n \t    return gen_rtx (ASHIFT, mode, op0, GEN_INT (val));\n "}]}