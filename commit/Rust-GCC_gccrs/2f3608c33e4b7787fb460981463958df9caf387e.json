{"sha": "2f3608c33e4b7787fb460981463958df9caf387e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmYzNjA4YzMzZTRiNzc4N2ZiNDYwOTgxNDYzOTU4ZGY5Y2FmMzg3ZQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2000-11-28T10:23:03Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2000-11-28T10:23:03Z"}, "message": "spew.c (yyerror): Cope if yylval.ttype is NULL.\n\ncp:\n\t* spew.c (yyerror): Cope if yylval.ttype is NULL.\ntestsuite:\n\t* g++.old-deja/g++.other/parse2.C: New test.\n\nFrom-SVN: r37816", "tree": {"sha": "23878c0662c756fdd96927e7e0fa17452fb40257", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/23878c0662c756fdd96927e7e0fa17452fb40257"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2f3608c33e4b7787fb460981463958df9caf387e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f3608c33e4b7787fb460981463958df9caf387e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f3608c33e4b7787fb460981463958df9caf387e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f3608c33e4b7787fb460981463958df9caf387e/comments", "author": null, "committer": null, "parents": [{"sha": "eeb753839ff6f622aecf03483ecaedf69d7d25c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eeb753839ff6f622aecf03483ecaedf69d7d25c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eeb753839ff6f622aecf03483ecaedf69d7d25c5"}], "stats": {"total": 31, "additions": 27, "deletions": 4}, "files": [{"sha": "9d486f6a59cc473b76780221e9d24a2236f160da", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f3608c33e4b7787fb460981463958df9caf387e/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f3608c33e4b7787fb460981463958df9caf387e/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=2f3608c33e4b7787fb460981463958df9caf387e", "patch": "@@ -1,3 +1,7 @@\n+2000-11-28  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* spew.c (yyerror): Cope if yylval.ttype is NULL.\n+\n 2000-11-28  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* decl.c (grokdeclarator): Diagnose undefined template contexts."}, {"sha": "38d8bd00bdcae207ad4d2fd6d1cac234fffb1a64", "filename": "gcc/cp/spew.c", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f3608c33e4b7787fb460981463958df9caf387e/gcc%2Fcp%2Fspew.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f3608c33e4b7787fb460981463958df9caf387e/gcc%2Fcp%2Fspew.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fspew.c?ref=2f3608c33e4b7787fb460981463958df9caf387e", "patch": "@@ -1398,9 +1398,13 @@ yyerror (msgid)\n \t   || last_token == CPP_INT\n \t   || last_token == CPP_FLOAT)\n     error (\"%s before numeric constant\", string);\n-  else if (last_token == CPP_NAME\n-\t   && TREE_CODE (yylval.ttype) == IDENTIFIER_NODE)\n-    error (\"%s before \\\"%s\\\"\", string, IDENTIFIER_POINTER (yylval.ttype));\n+  else if (last_token == CPP_NAME)\n+    {\n+      if (yylval.ttype && TREE_CODE (yylval.ttype) == IDENTIFIER_NODE)\n+        error (\"%s before `%s'\", string, IDENTIFIER_POINTER (yylval.ttype));\n+      else\n+        error (\"%s before `%c'\", string, yychar);\n+    }\n   else\n-    error (\"%s before '%s' token\", string, NAME(last_token));\n+    error (\"%s before `%s' token\", string, NAME (last_token));\n }"}, {"sha": "06f689b708377d3ceb0e1bb4d83501ec89009be6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f3608c33e4b7787fb460981463958df9caf387e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f3608c33e4b7787fb460981463958df9caf387e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2f3608c33e4b7787fb460981463958df9caf387e", "patch": "@@ -1,3 +1,7 @@\n+2000-11-28  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* g++.old-deja/g++.other/parse2.C: New test.\n+\n 2000-11-28  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* g++.old-deja/g++.pt/incomplete1.C: New test."}, {"sha": "6ecc6e55c81e5e50348641a107013055f515b4c3", "filename": "gcc/testsuite/g++.old-deja/g++.other/parse2.C", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f3608c33e4b7787fb460981463958df9caf387e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fparse2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f3608c33e4b7787fb460981463958df9caf387e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fparse2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fparse2.C?ref=2f3608c33e4b7787fb460981463958df9caf387e", "patch": "@@ -0,0 +1,11 @@\n+// Build don't link:\n+\n+// Copyright (C) 2000 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 24 Nov 2000 <nathan@codesourcery.com>\n+\n+// Bug 531: We ICEd trying to give a parse error.\n+\n+struct X\n+{\n+  bool operator (const X &) const;  // ERROR - parse error\n+};"}]}