{"sha": "a5df209084512242c037f1d35f0b2e4969b04519", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTVkZjIwOTA4NDUxMjI0MmMwMzdmMWQzNWYwYjJlNDk2OWIwNDUxOQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2017-08-27T18:01:46Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2017-08-27T18:01:46Z"}, "message": "re PR target/81995 (gcc/reg-stack.c:2073:1: error: unrecognizable insn:)\n\n\tPR target/81995\n\t* config/i386/i386.md (*<btsc><mode>): Change operand 2\n\tpredicate to register_operand.  Reorder operands.\n\t(*btr<mode>): Ditto.\n\t(*<btsc><mode>_mask): Change operand 3 predicate to register_operand.\n\t(*btr<mode>_mask): Ditto.\n\ntestsuite/ChangeLog:\n\n\tPR target/81995\n\t* gcc.target/i386/pr46091-4.c: Add -mregparm=2 for 32bit targets.\n\t* gcc.target/i386/pr46091-4a.c: Ditto.\n\nFrom-SVN: r251369", "tree": {"sha": "20a665db55c7a7e8956d8ffc7c17d7d6ebeb171a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/20a665db55c7a7e8956d8ffc7c17d7d6ebeb171a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a5df209084512242c037f1d35f0b2e4969b04519", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5df209084512242c037f1d35f0b2e4969b04519", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a5df209084512242c037f1d35f0b2e4969b04519", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5df209084512242c037f1d35f0b2e4969b04519/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "86e03ef911346681949ae6812d64569008936fb4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86e03ef911346681949ae6812d64569008936fb4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86e03ef911346681949ae6812d64569008936fb4"}], "stats": {"total": 33, "additions": 25, "deletions": 8}, "files": [{"sha": "b1070d9cbf91eb567aa5f1c54652ddb610695543", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5df209084512242c037f1d35f0b2e4969b04519/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5df209084512242c037f1d35f0b2e4969b04519/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a5df209084512242c037f1d35f0b2e4969b04519", "patch": "@@ -1,3 +1,12 @@\n+2017-08-27  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR target/81995\n+\t* config/i386/i386.md (*<btsc><mode>): Change operand 2\n+\tpredicate to register_operand.  Reorder operands.\n+\t(*btr<mode>): Ditto.\n+\t(*<btsc><mode>_mask): Change operand 3 predicate to register_operand.\n+\t(*btr<mode>_mask): Ditto.\n+\n 2017-08-25  Steven Munroe  <munroesj@gcc.gnu.org>\n \n \t* config.gcc (powerpc*-*-*): Add xmmintrin.h and mm_malloc.h."}, {"sha": "7465848252d6b790c38be526fd3713a174203ae9", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5df209084512242c037f1d35f0b2e4969b04519/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5df209084512242c037f1d35f0b2e4969b04519/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=a5df209084512242c037f1d35f0b2e4969b04519", "patch": "@@ -11011,11 +11011,11 @@\n   [(set (match_operand:SWI48 0 \"register_operand\" \"=r\")\n \t(any_or:SWI48\n \t  (ashift:SWI48 (const_int 1)\n-\t\t\t(match_operand:QI 1 \"register_operand\" \"r\"))\n-\t  (match_operand:SWI48 2 \"nonimmediate_operand\" \"0\")))\n+\t\t\t(match_operand:QI 2 \"register_operand\" \"r\"))\n+\t  (match_operand:SWI48 1 \"register_operand\" \"0\")))\n    (clobber (reg:CC FLAGS_REG))]\n   \"TARGET_USE_BT\"\n-  \"<btsc>{<imodesuffix>}\\t{%<k>1, %0|%0, %<k>1}\"\n+  \"<btsc>{<imodesuffix>}\\t{%<k>2, %0|%0, %<k>2}\"\n   [(set_attr \"type\" \"alu1\")\n    (set_attr \"prefix_0f\" \"1\")\n    (set_attr \"znver1_decode\" \"double\")\n@@ -11031,7 +11031,7 @@\n \t      (and:SI\n \t\t(match_operand:SI 1 \"register_operand\")\n \t\t(match_operand:SI 2 \"const_int_operand\")) 0))\n-\t  (match_operand:SWI48 3 \"nonimmediate_operand\")))\n+\t  (match_operand:SWI48 3 \"register_operand\")))\n    (clobber (reg:CC FLAGS_REG))]\n   \"(INTVAL (operands[2]) & (GET_MODE_BITSIZE (<MODE>mode)-1))\n    == GET_MODE_BITSIZE (<MODE>mode)-1\n@@ -11051,11 +11051,11 @@\n   [(set (match_operand:SWI48 0 \"register_operand\" \"=r\")\n \t(and:SWI48\n \t  (rotate:SWI48 (const_int -2)\n-\t\t\t(match_operand:QI 1 \"register_operand\" \"r\"))\n-\t(match_operand:SWI48 2 \"nonimmediate_operand\" \"0\")))\n+\t\t\t(match_operand:QI 2 \"register_operand\" \"r\"))\n+\t(match_operand:SWI48 1 \"register_operand\" \"0\")))\n    (clobber (reg:CC FLAGS_REG))]\n   \"TARGET_USE_BT\"\n-  \"btr{<imodesuffix>}\\t{%<k>1, %0|%0, %<k>1}\"\n+  \"btr{<imodesuffix>}\\t{%<k>2, %0|%0, %<k>2}\"\n   [(set_attr \"type\" \"alu1\")\n    (set_attr \"prefix_0f\" \"1\")\n    (set_attr \"znver1_decode\" \"double\")\n@@ -11071,7 +11071,7 @@\n \t      (and:SI\n \t\t(match_operand:SI 1 \"register_operand\")\n \t\t(match_operand:SI 2 \"const_int_operand\")) 0))\n-\t  (match_operand:SWI48 3 \"nonimmediate_operand\")))\n+\t  (match_operand:SWI48 3 \"register_operand\")))\n    (clobber (reg:CC FLAGS_REG))]\n   \"(INTVAL (operands[2]) & (GET_MODE_BITSIZE (<MODE>mode)-1))\n    == GET_MODE_BITSIZE (<MODE>mode)-1"}, {"sha": "d4bcd429ab74ebc4c3d2c9aeb1b33a8e7f938c10", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5df209084512242c037f1d35f0b2e4969b04519/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5df209084512242c037f1d35f0b2e4969b04519/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a5df209084512242c037f1d35f0b2e4969b04519", "patch": "@@ -1,3 +1,9 @@\n+2017-08-27  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR target/81995\n+\t* gcc.target/i386/pr46091-4.c: Add -mregparm=2 for 32bit targets.\n+\t* gcc.target/i386/pr46091-4a.c: Ditto.\n+\n 2017-08-27  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/81974"}, {"sha": "f88ff5e4b437911df7276d79a07d8253a7368947", "filename": "gcc/testsuite/gcc.target/i386/pr46091-4.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5df209084512242c037f1d35f0b2e4969b04519/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr46091-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5df209084512242c037f1d35f0b2e4969b04519/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr46091-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr46091-4.c?ref=a5df209084512242c037f1d35f0b2e4969b04519", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2\" } */\n+/* { dg-additional-options \"-mregparm=2\" { target ia32 } } */\n \n int test_1 (int x, int n)\n {"}, {"sha": "debbdaad88a2039dac1c41ede848c3b88fbe1908", "filename": "gcc/testsuite/gcc.target/i386/pr46091-4a.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5df209084512242c037f1d35f0b2e4969b04519/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr46091-4a.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5df209084512242c037f1d35f0b2e4969b04519/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr46091-4a.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr46091-4a.c?ref=a5df209084512242c037f1d35f0b2e4969b04519", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2\" } */\n+/* { dg-additional-options \"-mregparm=2\" { target ia32 } } */\n \n int test_1 (int x, int n)\n {"}]}