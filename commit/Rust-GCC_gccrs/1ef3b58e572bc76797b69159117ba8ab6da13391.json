{"sha": "1ef3b58e572bc76797b69159117ba8ab6da13391", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWVmM2I1OGU1NzJiYzc2Nzk3YjY5MTU5MTE3YmE4YWI2ZGExMzM5MQ==", "commit": {"author": {"name": "Iain Sandoe", "email": "iain@codesourcery.com", "date": "2013-06-20T16:48:26Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2013-06-20T16:48:26Z"}, "message": "libgomp.exp: Reorder lib loads into dependency order.\n\n2013-06-20  Iain Sandoe  <iain@codesourcery.com>\n\t        Cesar Philippidis  <cesar@codesourcery.com>\n\n\t\t* testsuite/lib/libgomp.exp: Reorder lib loads into dependency order.\n\t\tDo not load_gcc_lib gcc-dg.exp and add a comment as to why.\n\t\t* testsuite/libgomp.c/c.exp: load_gcc_lib gcc-dg.exp.\n\t\t* testsuite/libgomp.fortran/fortran.exp: Likewise.\n\t\t* testsuite/libgomp.graphite/graphite.exp: Likewise.\n\t\t* testsuite/libgomp.c++/c++.exp: load_gcc_lib gcc-dg.exp.\n\t\tUse dg-runtest rather than gfortran-dg-runtest.\n\nCo-Authored-By: Cesar Philippidis <cesar@codesourcery.com>\n\nFrom-SVN: r200253", "tree": {"sha": "d3624cce2523466dc6b8640cd256b60aa0289738", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d3624cce2523466dc6b8640cd256b60aa0289738"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ef3b58e572bc76797b69159117ba8ab6da13391", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ef3b58e572bc76797b69159117ba8ab6da13391", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ef3b58e572bc76797b69159117ba8ab6da13391", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ef3b58e572bc76797b69159117ba8ab6da13391/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6c84d5762f1e1a60b1d4cee0caf8b4e7e0ba5f6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c84d5762f1e1a60b1d4cee0caf8b4e7e0ba5f6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c84d5762f1e1a60b1d4cee0caf8b4e7e0ba5f6f"}], "stats": {"total": 39, "additions": 29, "deletions": 10}, "files": [{"sha": "9a575739e7c8b0fbdb00a2e0342d91d4692fd730", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ef3b58e572bc76797b69159117ba8ab6da13391/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ef3b58e572bc76797b69159117ba8ab6da13391/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=1ef3b58e572bc76797b69159117ba8ab6da13391", "patch": "@@ -1,3 +1,14 @@\n+2013-06-20  Iain Sandoe  <iain@codesourcery.com>\n+\t    Cesar Philippidis  <cesar@codesourcery.com>\n+\n+\t* testsuite/lib/libgomp.exp: Reorder lib loads into dependency order.\n+\tDo not load_gcc_lib gcc-dg.exp and add a comment as to why.\n+\t* testsuite/libgomp.c/c.exp: load_gcc_lib gcc-dg.exp.\n+\t* testsuite/libgomp.fortran/fortran.exp: Likewise.\n+\t* testsuite/libgomp.graphite/graphite.exp: Likewise.\n+\t* testsuite/libgomp.c++/c++.exp: load_gcc_lib gcc-dg.exp.\n+\tUse dg-runtest rather than gfortran-dg-runtest.\n+\n 2013-06-10  Thomas Schwinge  <thomas@codesourcery.com>\n \n \t* testsuite/libgomp.c/icv-2.c: Extend current handling of"}, {"sha": "72daa7e3a3e191f332511b3e9b1b73a4ebb1096c", "filename": "libgomp/testsuite/lib/libgomp.exp", "status": "modified", "additions": 12, "deletions": 9, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ef3b58e572bc76797b69159117ba8ab6da13391/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ef3b58e572bc76797b69159117ba8ab6da13391/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp?ref=1ef3b58e572bc76797b69159117ba8ab6da13391", "patch": "@@ -9,24 +9,27 @@ proc load_gcc_lib { filename } {\n }\n \n load_lib dg.exp\n-load_gcc_lib file-format.exp\n+\n+# Required to use gcc-dg.exp - however, the latter should NOT be\n+# loaded until ${tool}_target_compile is defined since it uses that\n+# to determine default LTO options.\n+\n+load_gcc_lib prune.exp\n+load_gcc_lib target-libpath.exp\n+load_gcc_lib wrapper.exp\n+load_gcc_lib gcc-defs.exp\n+load_gcc_lib timeout.exp\n load_gcc_lib target-supports.exp\n+load_gcc_lib file-format.exp\n load_gcc_lib target-supports-dg.exp\n load_gcc_lib scanasm.exp\n load_gcc_lib scandump.exp\n load_gcc_lib scanrtl.exp\n load_gcc_lib scantree.exp\n load_gcc_lib scanipa.exp\n-load_gcc_lib prune.exp\n-load_gcc_lib target-libpath.exp\n-load_gcc_lib wrapper.exp\n-load_gcc_lib gcc-defs.exp\n-load_gcc_lib torture-options.exp\n-load_gcc_lib timeout.exp\n load_gcc_lib timeout-dg.exp\n+load_gcc_lib torture-options.exp\n load_gcc_lib fortran-modules.exp\n-load_gcc_lib gcc-dg.exp\n-load_gcc_lib gfortran-dg.exp\n \n set dg-do-what-default run\n "}, {"sha": "b3363062ae89d3203bc664b1acb3979a6b72c45e", "filename": "libgomp/testsuite/libgomp.c++/c++.exp", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ef3b58e572bc76797b69159117ba8ab6da13391/libgomp%2Ftestsuite%2Flibgomp.c%2B%2B%2Fc%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ef3b58e572bc76797b69159117ba8ab6da13391/libgomp%2Ftestsuite%2Flibgomp.c%2B%2B%2Fc%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2B%2B%2Fc%2B%2B.exp?ref=1ef3b58e572bc76797b69159117ba8ab6da13391", "patch": "@@ -1,4 +1,5 @@\n load_lib libgomp-dg.exp\n+load_gcc_lib gcc-dg.exp\n \n global shlib_ext\n \n@@ -53,7 +54,7 @@ if { $lang_test_file_found } {\n     }\n \n     # Main loop.\n-    gfortran-dg-runtest $tests $libstdcxx_includes\n+    dg-runtest $tests \"\" $libstdcxx_includes\n }\n \n # All done."}, {"sha": "7dfdf8bde78bb9dcbce285b9fb5ea186222c42c4", "filename": "libgomp/testsuite/libgomp.c/c.exp", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ef3b58e572bc76797b69159117ba8ab6da13391/libgomp%2Ftestsuite%2Flibgomp.c%2Fc.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ef3b58e572bc76797b69159117ba8ab6da13391/libgomp%2Ftestsuite%2Flibgomp.c%2Fc.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fc.exp?ref=1ef3b58e572bc76797b69159117ba8ab6da13391", "patch": "@@ -7,6 +7,7 @@ if [info exists lang_test_file] then {\n }\n \n load_lib libgomp-dg.exp\n+load_gcc_lib gcc-dg.exp\n \n # If a testcase doesn't have special options, use these.\n if ![info exists DEFAULT_CFLAGS] then {"}, {"sha": "b7fef293a2239ff367c187ef32babf0d34f057a1", "filename": "libgomp/testsuite/libgomp.fortran/fortran.exp", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ef3b58e572bc76797b69159117ba8ab6da13391/libgomp%2Ftestsuite%2Flibgomp.fortran%2Ffortran.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ef3b58e572bc76797b69159117ba8ab6da13391/libgomp%2Ftestsuite%2Flibgomp.fortran%2Ffortran.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Ffortran.exp?ref=1ef3b58e572bc76797b69159117ba8ab6da13391", "patch": "@@ -1,4 +1,6 @@\n load_lib libgomp-dg.exp\n+load_gcc_lib gcc-dg.exp\n+load_gcc_lib gfortran-dg.exp\n \n global shlib_ext\n global ALWAYS_CFLAGS"}, {"sha": "08aa5095cf95a318464a5275175700fc973325b2", "filename": "libgomp/testsuite/libgomp.graphite/graphite.exp", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ef3b58e572bc76797b69159117ba8ab6da13391/libgomp%2Ftestsuite%2Flibgomp.graphite%2Fgraphite.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ef3b58e572bc76797b69159117ba8ab6da13391/libgomp%2Ftestsuite%2Flibgomp.graphite%2Fgraphite.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.graphite%2Fgraphite.exp?ref=1ef3b58e572bc76797b69159117ba8ab6da13391", "patch": "@@ -23,6 +23,7 @@ if [info exists lang_test_file] then {\n }\n \n load_lib libgomp-dg.exp\n+load_gcc_lib gcc-dg.exp\n \n if ![check_effective_target_pthread] {\n   return"}]}