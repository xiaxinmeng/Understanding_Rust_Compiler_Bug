{"sha": "7cfaa4c643eabd8d5aaa74a8406f0bf4880b8fe6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2NmYWE0YzY0M2VhYmQ4ZDVhYWE3NGE4NDA2ZjBiZjQ4ODBiOGZlNg==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2017-11-20T08:20:35Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2017-11-20T08:20:35Z"}, "message": "Fix comparison mode in simplify_ternary_operation\n\n2017-11-20  Tom de Vries  <tom@codesourcery.com>\n\n\tPR rtl-optimization/82020\n\t* simplify-rtx.c (simplify_ternary_operation): Fix comparison mode of\n\tIF_THEN_ELSE condition.\n\nFrom-SVN: r254944", "tree": {"sha": "0f79c4bb1a2d72575361b274529b52324219cfec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f79c4bb1a2d72575361b274529b52324219cfec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7cfaa4c643eabd8d5aaa74a8406f0bf4880b8fe6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7cfaa4c643eabd8d5aaa74a8406f0bf4880b8fe6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7cfaa4c643eabd8d5aaa74a8406f0bf4880b8fe6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7cfaa4c643eabd8d5aaa74a8406f0bf4880b8fe6/comments", "author": null, "committer": null, "parents": [{"sha": "7476c7da18bf370d2e316a6f8730bb4d7d5e6531", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7476c7da18bf370d2e316a6f8730bb4d7d5e6531", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7476c7da18bf370d2e316a6f8730bb4d7d5e6531"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "827ee608029b8ccc49302eefc55a794bd42a5da0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7cfaa4c643eabd8d5aaa74a8406f0bf4880b8fe6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7cfaa4c643eabd8d5aaa74a8406f0bf4880b8fe6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7cfaa4c643eabd8d5aaa74a8406f0bf4880b8fe6", "patch": "@@ -1,3 +1,9 @@\n+2017-11-20  Tom de Vries  <tom@codesourcery.com>\n+\n+\tPR rtl-optimization/82020\n+\t* simplify-rtx.c (simplify_ternary_operation): Fix comparison mode of\n+\tIF_THEN_ELSE condition.\n+\n 2017-11-19  Jeff Law  <law@redhat.com>\n \n \t* tree-ssa-dom.c (record_equivalences_from_phis): Fix handling"}, {"sha": "36a2e3702937512dfcca6798e190eccfbad5e66a", "filename": "gcc/simplify-rtx.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7cfaa4c643eabd8d5aaa74a8406f0bf4880b8fe6/gcc%2Fsimplify-rtx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7cfaa4c643eabd8d5aaa74a8406f0bf4880b8fe6/gcc%2Fsimplify-rtx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsimplify-rtx.c?ref=7cfaa4c643eabd8d5aaa74a8406f0bf4880b8fe6", "patch": "@@ -5651,8 +5651,6 @@ simplify_ternary_operation (enum rtx_code code, machine_mode mode,\n \t\t\t\t\t      XEXP (op0, 0), XEXP (op0, 1));\n \t    }\n \n-\t  if (cmp_mode == VOIDmode)\n-\t    cmp_mode = op0_mode;\n \t  temp = simplify_relational_operation (GET_CODE (op0), op0_mode,\n \t\t\t  \t\t\tcmp_mode, XEXP (op0, 0),\n \t\t\t\t\t\tXEXP (op0, 1));"}]}