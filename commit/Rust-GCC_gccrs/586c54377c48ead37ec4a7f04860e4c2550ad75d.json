{"sha": "586c54377c48ead37ec4a7f04860e4c2550ad75d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTg2YzU0Mzc3YzQ4ZWFkMzdlYzRhN2YwNDg2MGU0YzI1NTBhZDc1ZA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-06-26T22:52:27Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-06-26T22:52:27Z"}, "message": "(string.h): Fix return value for mem{ccpy,chr,cpy,set} and\nstr{len,spn,cspn} on sysV68.\n\nFrom-SVN: r10054", "tree": {"sha": "6f271684d1bc8454d64710472d267397dc3c5d95", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6f271684d1bc8454d64710472d267397dc3c5d95"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/586c54377c48ead37ec4a7f04860e4c2550ad75d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/586c54377c48ead37ec4a7f04860e4c2550ad75d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/586c54377c48ead37ec4a7f04860e4c2550ad75d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/586c54377c48ead37ec4a7f04860e4c2550ad75d/comments", "author": null, "committer": null, "parents": [{"sha": "9d03c0dee3b28b8cb5a52f19be955d4dea315be1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d03c0dee3b28b8cb5a52f19be955d4dea315be1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d03c0dee3b28b8cb5a52f19be955d4dea315be1"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "e47713b5223258be9a85615f78d15d86d09e741f", "filename": "gcc/fixincludes", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/586c54377c48ead37ec4a7f04860e4c2550ad75d/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/586c54377c48ead37ec4a7f04860e4c2550ad75d/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=586c54377c48ead37ec4a7f04860e4c2550ad75d", "patch": "@@ -1834,6 +1834,8 @@ if [ -r ${LIB}/$file ]; then\n   fi\n fi\n \n+# Fix return value of mem{ccpy,chr,cpy,set} and str{len,spn,cspn}\n+# in string.h on sysV68\n # Correct the return type for strlen in string.h on Lynx.\n # Correct the argument type for ffs in string.h on Alpha OSF/1 V2.0.\n # Add missing const for strdup on OSF/1 V3.0.\n@@ -1845,10 +1847,16 @@ if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n fi\n \n if [ -r ${LIB}/$file ]; then\n-  echo Fixing $file\n+  echo Fixing $file, mem{ccpy,chr,cpy,set} and str{len,spn,cspn} return value\n   sed -e 's/extern[ \t]*int[ \t]*strlen();/extern unsigned int strlen();/' \\\n       -e 's/extern[ \t]*int[ \t]*ffs[ \t]*(long);/extern int ffs(int);/' \\\n       -e 's/strdup(char \\*s1);/strdup(const char *s1);/' \\\n+      -e '/^extern char$/N' \\\n+      -e 's/^extern char\\(\\n\t\\*memccpy(),\\)$/extern void\\1/'\\\n+      -e '/^\tstrncmp(),$/N'\\\n+      -e 's/^\\(\tstrncmp()\\),\\n\\(\tstrlen(),\\)$/\\1;\\\n+extern unsigned int\\\n+\\2/'\\\n     ${LIB}/$file > ${LIB}/${file}.sed\n   rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n   if cmp $file ${LIB}/$file >/dev/null 2>&1; then"}]}