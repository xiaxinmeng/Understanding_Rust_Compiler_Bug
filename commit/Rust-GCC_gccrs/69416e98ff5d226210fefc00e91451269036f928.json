{"sha": "69416e98ff5d226210fefc00e91451269036f928", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njk0MTZlOThmZjVkMjI2MjEwZmVmYzAwZTkxNDUxMjY5MDM2ZjkyOA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-05-02T12:56:11Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-05-02T12:56:11Z"}, "message": "Revert 2012-02-24 Dave Korn <dave.korn.cygwin@gmail.com>\n\ngcc/ada/\n\n2012-05-02  Pascal Obry  <obry@adacore.com>\n\n\tRevert 2012-02-24  Dave Korn  <dave.korn.cygwin@gmail.com>\n\nlibada/\n\n2012-05-02  Pascal Obry  <obry@adacore.com>\n\n\tRevert 2012-02-24  Dave Korn  <dave.korn.cygwin@gmail.com>\n\nFrom-SVN: r187047", "tree": {"sha": "467021ba4cff90590ee6a9cc6955807bdeab57d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/467021ba4cff90590ee6a9cc6955807bdeab57d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/69416e98ff5d226210fefc00e91451269036f928", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69416e98ff5d226210fefc00e91451269036f928", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69416e98ff5d226210fefc00e91451269036f928", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69416e98ff5d226210fefc00e91451269036f928/comments", "author": null, "committer": null, "parents": [{"sha": "56099f00a526f137d24bbf2ac6def05003ebe5c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56099f00a526f137d24bbf2ac6def05003ebe5c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56099f00a526f137d24bbf2ac6def05003ebe5c5"}], "stats": {"total": 50, "additions": 23, "deletions": 27}, "files": [{"sha": "219d437622f105293301fb285e97820a89fe08f6", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69416e98ff5d226210fefc00e91451269036f928/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69416e98ff5d226210fefc00e91451269036f928/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=69416e98ff5d226210fefc00e91451269036f928", "patch": "@@ -1,3 +1,8 @@\n+2012-05-02  Pascal Obry  <obry@adacore.com>\n+\n+\tRevert\n+\t2012-02-24  Dave Korn  <dave.korn.cygwin@gmail.com>\n+\n 2012-04-30  Jan Hubicka  <jh@suse.cz>\n \n \t* gcc-interface/utils.c (rest_of_subprog_body_compilation): Update\n@@ -1599,7 +1604,7 @@\n \n 2012-02-22  Hristian Kirtchev  <kirtchev@adacore.com>\n \n-\t* exp_ch7.adb (Create_Finalizer): Suppress elaboration checks on \n+\t* exp_ch7.adb (Create_Finalizer): Suppress elaboration checks on\n \tstack-related finalizers.\n \n 2012-02-22  Ed Schonberg  <schonberg@adacore.com>"}, {"sha": "37e551092d9faf018c630e0c67e04916fd415cb0", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 9, "deletions": 21, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69416e98ff5d226210fefc00e91451269036f928/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69416e98ff5d226210fefc00e91451269036f928/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=69416e98ff5d226210fefc00e91451269036f928", "patch": "@@ -1547,19 +1547,16 @@ ifeq ($(strip $(filter-out cygwin% mingw32% pe,$(osys))),)\n   # the Cygwin port has always been a CygMing frankenhybrid and it is\n   # a long-term project to disentangle them.\n   ifeq ($(strip $(filter-out cygwin%,$(osys))),)\n-    WIN_SO_PREFIX=cyg\n     LIBGNAT_TARGET_PAIRS = \\\n     s-memory.adb<s-memory.adb \\\n     g-socthi.ads<g-socthi.ads \\\n     g-socthi.adb<g-socthi.adb\n   else\n-    WIN_SO_PREFIX=lib\n     LIBGNAT_TARGET_PAIRS = \\\n     s-memory.adb<s-memory-mingw.adb \\\n     g-socthi.ads<g-socthi-mingw.ads \\\n     g-socthi.adb<g-socthi-mingw.adb\n   endif\n-  WIN_SO_INSTALL_DIR = $(bindir)\n   LIBGNAT_TARGET_PAIRS += \\\n   a-dirval.adb<a-dirval-mingw.adb \\\n   a-excpol.adb<a-excpol-abort.adb \\\n@@ -2500,14 +2497,11 @@ install-gnatlib: ../stamp-gnatlib-$(RTSDIR)\n #     for shared libraries on some targets, e.g. on HP-UX where the x\n #     permission is required.\n #     Also install the .dSYM directories if they exist (these directories\n-#     contain the debug information for the shared libraries on darwin),\n-#     and the windows import libraries if they exist.\n-\tlibpfx=$(if $(WIN_SO_PREFIX),$(WIN_SO_PREFIX),lib); \\\n-\tlibrtlobjdir=$(if $(WIN_SO_INSTALL_DIR),$(WIN_SO_INSTALL_DIR),$(ADA_RTL_OBJ_DIR)); \\\n+#     contain the debug information for the shared libraries on darwin)\n \tfor file in gnat gnarl; do \\\n-\t   if [ -f $(RTSDIR)/$${libpfx}$${file}$(hyphen)$(LIBRARY_VERSION)$(soext) ]; then \\\n-\t      $(INSTALL) $(RTSDIR)/$${libpfx}$${file}$(hyphen)$(LIBRARY_VERSION)$(soext) \\\n-\t\t\t $(DESTDIR)$${librtlobjdir}; \\\n+\t   if [ -f $(RTSDIR)/lib$${file}$(hyphen)$(LIBRARY_VERSION)$(soext) ]; then \\\n+\t      $(INSTALL) $(RTSDIR)/lib$${file}$(hyphen)$(LIBRARY_VERSION)$(soext) \\\n+\t\t\t $(DESTDIR)$(ADA_RTL_OBJ_DIR); \\\n \t   fi; \\\n \t   if [ -f $(RTSDIR)/lib$${file}$(soext) ]; then \\\n \t      $(LN_S) lib$${file}$(hyphen)$(LIBRARY_VERSION)$(soext) \\\n@@ -2517,10 +2511,6 @@ install-gnatlib: ../stamp-gnatlib-$(RTSDIR)\n \t      $(CP) -r $(RTSDIR)/lib$${file}$(hyphen)$(LIBRARY_VERSION)$(soext).dSYM \\\n \t        $(DESTDIR)$(ADA_RTL_OBJ_DIR); \\\n \t   fi; \\\n-\t   if [ -f $(RTSDIR)/lib$${file}$(hyphen)$(LIBRARY_VERSION)$(soext)$(arext) ]; then \\\n-\t      $(INSTALL_DATA) $(RTSDIR)/lib$${file}$(hyphen)$(LIBRARY_VERSION)$(soext)$(arext) \\\n-\t\t\t $(DESTDIR)$(ADA_RTL_OBJ_DIR); \\\n-\t   fi; \\\n \tdone\n # This copy must be done preserving the date on the original file.\n \tfor file in $(RTSDIR)/*.ad?; do \\\n@@ -2726,18 +2716,16 @@ gnatlib-shared-win32:\n \tcd $(RTSDIR); `echo \"$(GCC_FOR_TARGET)\" \\\n                 | sed -e 's,\\./xgcc,../../xgcc,' -e 's,-B\\./,-B../../,'` -shared -shared-libgcc \\\n \t\t$(PICFLAG_FOR_TARGET) \\\n-\t\t-o $(WIN_SO_PREFIX)gnat$(hyphen)$(LIBRARY_VERSION)$(soext) \\\n-\t\t-Wl,-out-implib,libgnat$(hyphen)$(LIBRARY_VERSION)$(soext)$(arext) \\\n+\t\t-o libgnat$(hyphen)$(LIBRARY_VERSION)$(soext) \\\n \t\t$(GNATRTL_NONTASKING_OBJS) $(LIBGNAT_OBJS) \\\n-\t\t$(SO_OPTS)$(WIN_SO_PREFIX)gnat$(hyphen)$(LIBRARY_VERSION)$(soext) $(MISCLIB)\n+\t\t$(SO_OPTS)libgnat$(hyphen)$(LIBRARY_VERSION)$(soext) $(MISCLIB)\n \tcd $(RTSDIR); `echo \"$(GCC_FOR_TARGET)\" \\\n                 | sed -e 's,\\./xgcc,../../xgcc,' -e 's,-B\\./,-B../../,'` -shared -shared-libgcc \\\n \t\t$(PICFLAG_FOR_TARGET) \\\n-\t\t-o $(WIN_SO_PREFIX)gnarl$(hyphen)$(LIBRARY_VERSION)$(soext) \\\n-\t\t-Wl,-out-implib,libgnarl$(hyphen)$(LIBRARY_VERSION)$(soext)$(arext) \\\n+\t\t-o libgnarl$(hyphen)$(LIBRARY_VERSION)$(soext) \\\n \t\t$(GNATRTL_TASKING_OBJS) \\\n-\t\t$(SO_OPTS)$(WIN_SO_PREFIX)gnarl$(hyphen)$(LIBRARY_VERSION)$(soext) \\\n-\t\t$(THREADSLIB) -L. -lgnat$(hyphen)$(LIBRARY_VERSION)\n+\t\t$(SO_OPTS)libgnarl$(hyphen)$(LIBRARY_VERSION)$(soext) \\\n+\t\t$(THREADSLIB) -Wl,libgnat$(hyphen)$(LIBRARY_VERSION)$(soext)\n \n gnatlib-shared-darwin:\n \t$(MAKE) $(FLAGS_TO_PASS) \\"}, {"sha": "9d1c0a7fffc2e20410f74c6c2cea79950eaf91b2", "filename": "libada/ChangeLog", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69416e98ff5d226210fefc00e91451269036f928/libada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69416e98ff5d226210fefc00e91451269036f928/libada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libada%2FChangeLog?ref=69416e98ff5d226210fefc00e91451269036f928", "patch": "@@ -1,3 +1,8 @@\n+2012-05-02  Pascal Obry  <obry@adacore.com>\n+\n+\tRevert\n+\t2012-02-24  Dave Korn  <dave.korn.cygwin@gmail.com>\n+\n 2012-02-24  Dave Korn  <dave.korn.cygwin@gmail.com>\n \n \t* Makefile.in (bindir): Import from autoconf and pass down to submake.\n@@ -97,15 +102,15 @@\n \n 2008-09-21  Laurent Guerby  <laurent@guerby.net>\n             Paolo Bonzini  <bonzini@gnu.org>\n-\t\n+\n \tPR ada/5911\n \t* Makefile.in (all, install, mostlyclean, clean, distclean): Add\n \tmultilib handling.\n \t* configure.ac: Add multilib handling.\n \t* configure: Regenerate.\n \n 2008-08-29  Laurent Guerby  <laurent@guerby.net>\n-\t\n+\n \t* Makefile.in (FLAGS_TO_PASS): renamed to LIBADA_FLAGS_TO_PASS to\n \tavoid conflicts. Factor more flags to pass.\n \t(libsubdir): New variable.\n@@ -114,7 +119,7 @@\n 2008-08-28  Laurent Guerby  <laurent@guerby.net>\n \n \t* configure: Regenerate.\n-\t\n+\n 2008-08-06  Thomas Quinot  <quinot@adacore.com>\n \n \t* Makefile.in: generate s-oscons.ads again, previous change was"}, {"sha": "5389dd005defed08eda67820a90587e98199ed3d", "filename": "libada/Makefile.in", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69416e98ff5d226210fefc00e91451269036f928/libada%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69416e98ff5d226210fefc00e91451269036f928/libada%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libada%2FMakefile.in?ref=69416e98ff5d226210fefc00e91451269036f928", "patch": "@@ -33,7 +33,6 @@ MULTICLEAN = true\n SHELL = @SHELL@\n srcdir = @srcdir@\n libdir = @libdir@\n-bindir = @bindir@\n build = @build@\n target = @target@\n prefix = @prefix@\n@@ -84,7 +83,6 @@ LIBADA_FLAGS_TO_PASS = \\\n         \"TRACE=$(TRACE)\" \\\n         \"MULTISUBDIR=$(MULTISUBDIR)\" \\\n         \"libsubdir=$(libsubdir)\" \\\n-        \"bindir=$(bindir)\" \\\n         \"objext=$(objext)\" \\\n         \"prefix=$(prefix)\" \\\n         \"exeext=.exeext.should.not.be.used \" \\"}]}