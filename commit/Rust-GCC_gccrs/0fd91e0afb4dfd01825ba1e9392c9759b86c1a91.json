{"sha": "0fd91e0afb4dfd01825ba1e9392c9759b86c1a91", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGZkOTFlMGFmYjRkZmQwMTgyNWJhMWU5MzkyYzk3NTliODZjMWE5MQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2001-05-13T22:31:24Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2001-05-13T22:31:24Z"}, "message": "acinclude.m4: Use ../libtool.m4.\n\n* acinclude.m4: Use ../libtool.m4.\n* configure.in: Use ${zlib_basedir}/.. for AC_CONFIG_AUX_DIR.\n* acinclude.m4, configure, Makefile.in: Rebuilt.\n\nFrom-SVN: r42052", "tree": {"sha": "e0569a4fbadc87ab280258d8d3ea1c4a600713f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e0569a4fbadc87ab280258d8d3ea1c4a600713f0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91/comments", "author": null, "committer": null, "parents": [{"sha": "d0481042042ac24e9361764c72eb5ea081ac2e85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0481042042ac24e9361764c72eb5ea081ac2e85", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d0481042042ac24e9361764c72eb5ea081ac2e85"}], "stats": {"total": 1759, "additions": 665, "deletions": 1094}, "files": [{"sha": "ee34608961f3c58f2e649b5f4902f4f0e8f7f7d9", "filename": "zlib/ChangeLog.gcj", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91/zlib%2FChangeLog.gcj", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91/zlib%2FChangeLog.gcj", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2FChangeLog.gcj?ref=0fd91e0afb4dfd01825ba1e9392c9759b86c1a91", "patch": "@@ -1,3 +1,9 @@\n+2001-05-13  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* acinclude.m4: Use ../libtool.m4.\n+\t* configure.in: Use ${zlib_basedir}/.. for AC_CONFIG_AUX_DIR.\n+\t* acinclude.m4, configure, Makefile.in: Rebuilt.\n+\n 2000-10-24  Chris Demetriou  <cgd@sibyte.com>\n \n \t* configure.in: Invoke AC_PROG_CPP unconditionally before"}, {"sha": "e4c116e13d0675768c4f6e1e49711a3052bb5cb7", "filename": "zlib/Makefile.in", "status": "modified", "additions": 21, "deletions": 8, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91/zlib%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91/zlib%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2FMakefile.in?ref=0fd91e0afb4dfd01825ba1e9392c9759b86c1a91", "patch": "@@ -67,17 +67,21 @@ AS = @AS@\n CC = @CC@\n COMPPATH = @COMPPATH@\n CPP = @CPP@\n+CXX = @CXX@\n+CXXCPP = @CXXCPP@\n DLLTOOL = @DLLTOOL@\n EXEEXT = @EXEEXT@\n-LD = @LD@\n+GCJ = @GCJ@\n+GCJFLAGS = @GCJFLAGS@\n LIBTOOL = @LIBTOOL@\n LN_S = @LN_S@\n MAINT = @MAINT@\n MAKEINFO = @MAKEINFO@\n-NM = @NM@\n+OBJDUMP = @OBJDUMP@\n+OBJEXT = @OBJEXT@\n PACKAGE = @PACKAGE@\n RANLIB = @RANLIB@\n-USE_SYMBOL_UNDERSCORE = @USE_SYMBOL_UNDERSCORE@\n+STRIP = @STRIP@\n VERSION = @VERSION@\n target_all = @target_all@\n zlib_basedir = @zlib_basedir@\n@@ -160,10 +164,13 @@ CPPFLAGS = @CPPFLAGS@\n LDFLAGS = @LDFLAGS@\n LIBS = @LIBS@\n libz_a_LIBADD = \n-@TARGET_LIBRARY_FALSE@libz_a_OBJECTS =  adler32.o compress.o crc32.o \\\n-@TARGET_LIBRARY_FALSE@deflate.o gzio.o infblock.o infcodes.o inffast.o \\\n-@TARGET_LIBRARY_FALSE@inflate.o inftrees.o infutil.o trees.o uncompr.o \\\n-@TARGET_LIBRARY_FALSE@zutil.o\n+@TARGET_LIBRARY_FALSE@libz_a_OBJECTS =  adler32.$(OBJEXT) \\\n+@TARGET_LIBRARY_FALSE@compress.$(OBJEXT) crc32.$(OBJEXT) \\\n+@TARGET_LIBRARY_FALSE@deflate.$(OBJEXT) gzio.$(OBJEXT) \\\n+@TARGET_LIBRARY_FALSE@infblock.$(OBJEXT) infcodes.$(OBJEXT) \\\n+@TARGET_LIBRARY_FALSE@inffast.$(OBJEXT) inflate.$(OBJEXT) \\\n+@TARGET_LIBRARY_FALSE@inftrees.$(OBJEXT) infutil.$(OBJEXT) \\\n+@TARGET_LIBRARY_FALSE@trees.$(OBJEXT) uncompr.$(OBJEXT) zutil.$(OBJEXT)\n AR = ar\n LTLIBRARIES =  $(toolexeclib_LTLIBRARIES)\n \n@@ -190,7 +197,7 @@ OBJECTS = $(libz_a_OBJECTS) $(libzgcj_la_OBJECTS)\n \n all: all-redirect\n .SUFFIXES:\n-.SUFFIXES: .S .c .lo .o .s\n+.SUFFIXES: .S .c .lo .o .obj .s\n $(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ Makefile.am $(top_srcdir)/configure.in $(ACLOCAL_M4) \n \tcd $(top_srcdir) && $(AUTOMAKE) --cygnus Makefile\n \n@@ -241,6 +248,11 @@ uninstall-toolexeclibLIBRARIES:\n .c.o:\n \t$(COMPILE) -c $<\n \n+# FIXME: We should only use cygpath when building on Windows,\n+# and only if it is available.\n+.c.obj:\n+\t$(COMPILE) -c `cygpath -w $<`\n+\n .s.o:\n \t$(COMPILE) -c $<\n \n@@ -249,6 +261,7 @@ uninstall-toolexeclibLIBRARIES:\n \n mostlyclean-compile:\n \t-rm -f *.o core *.core\n+\t-rm -f *.$(OBJEXT)\n \n clean-compile:\n "}, {"sha": "cbbaa3008fb438c97f5ef06ae0dc506c31ac6fb3", "filename": "zlib/acinclude.m4", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91/zlib%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91/zlib%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2Facinclude.m4?ref=0fd91e0afb4dfd01825ba1e9392c9759b86c1a91", "patch": "@@ -37,3 +37,12 @@ else\n   test \"${CFLAGS+set}\" = set || CFLAGS=\"-g\"\n fi\n ])\n+\n+sinclude(../libtool.m4)\n+dnl The lines below arrange for aclocal not to bring libtool.m4\n+dnl AM_PROG_LIBTOOL into aclocal.m4, while still arranging for automake\n+dnl to add a definition of LIBTOOL to Makefile.in.\n+ifelse(yes,no,[\n+AC_DEFUN([AM_PROG_LIBTOOL],)\n+AC_SUBST(LIBTOOL)\n+])"}, {"sha": "eae07e4edaf80f3c8c33857a6cdbbbed72927725", "filename": "zlib/aclocal.m4", "status": "modified", "additions": 9, "deletions": 604, "changes": 613, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91/zlib%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91/zlib%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2Faclocal.m4?ref=0fd91e0afb4dfd01825ba1e9392c9759b86c1a91", "patch": "@@ -50,6 +50,15 @@ else\n fi\n ])\n \n+sinclude(../libtool.m4)\n+dnl The lines below arrange for aclocal not to bring libtool.m4\n+dnl AM_PROG_LIBTOOL into aclocal.m4, while still arranging for automake\n+dnl to add a definition of LIBTOOL to Makefile.in.\n+ifelse(yes,no,[\n+AC_DEFUN([AM_PROG_LIBTOOL],)\n+AC_SUBST(LIBTOOL)\n+])\n+\n # Do all the work for Automake.  This macro actually does too much --\n # some checks are only needed if your package does certain things.\n # But this isn't really a big deal.\n@@ -175,607 +184,3 @@ else\n   $1_FALSE=\n fi])\n \n-\n-# serial 35 AC_PROG_LIBTOOL\n-AC_DEFUN(AC_PROG_LIBTOOL,\n-[AC_REQUIRE([AC_LIBTOOL_SETUP])dnl\n-\n-# Save cache, so that ltconfig can load it\n-AC_CACHE_SAVE\n-\n-# Actually configure libtool.  ac_aux_dir is where install-sh is found.\n-CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n-LD=\"$LD\" NM=\"$NM\" RANLIB=\"$RANLIB\" LN_S=\"$LN_S\" \\\n-DLLTOOL=\"$DLLTOOL\" AS=\"$AS\" \\\n-${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n-$libtool_flags --no-verify $ac_aux_dir/ltmain.sh $host \\\n-|| AC_MSG_ERROR([libtool configure failed])\n-\n-# Reload cache, that may have been modified by ltconfig\n-AC_CACHE_LOAD\n-\n-# This can be used to rebuild libtool when needed\n-LIBTOOL_DEPS=\"$ac_aux_dir/ltconfig $ac_aux_dir/ltmain.sh\"\n-\n-# Always use our own libtool.\n-LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n-AC_SUBST(LIBTOOL)dnl\n-\n-# Redirect the config.log output again, so that the ltconfig log is not\n-# clobbered by the next message.\n-exec 5>>./config.log\n-])\n-\n-AC_DEFUN(AC_LIBTOOL_SETUP,\n-[AC_PREREQ(2.13)dnl\n-AC_REQUIRE([AC_ENABLE_SHARED])dnl\n-AC_REQUIRE([AC_ENABLE_STATIC])dnl\n-AC_REQUIRE([AC_ENABLE_FAST_INSTALL])dnl\n-AC_REQUIRE([AC_CANONICAL_HOST])dnl\n-AC_REQUIRE([AC_CANONICAL_BUILD])dnl\n-AC_REQUIRE([AC_PROG_RANLIB])dnl\n-AC_REQUIRE([AC_PROG_CC])dnl\n-AC_REQUIRE([AC_PROG_LD])dnl\n-AC_REQUIRE([AC_PROG_NM])dnl\n-AC_REQUIRE([AC_SYS_NM_PARSE])dnl\n-AC_REQUIRE([AC_SYS_SYMBOL_UNDERSCORE])dnl\n-AC_REQUIRE([AC_PROG_LN_S])dnl\n-dnl\n-\n-# Check for any special flags to pass to ltconfig.\n-libtool_flags=\"--cache-file=$cache_file\"\n-test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n-test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n-test \"$enable_fast_install\" = no && libtool_flags=\"$libtool_flags --disable-fast-install\"\n-test \"$lt_dlopen\" = yes && libtool_flags=\"$libtool_flags --enable-dlopen\"\n-test \"$silent\" = yes && libtool_flags=\"$libtool_flags --silent\"\n-test \"$ac_cv_prog_gcc\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n-test \"$ac_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n-\n-# Some flags need to be propagated to the compiler or linker for good\n-# libtool support.\n-case \"$host\" in\n-*-*-irix6*)\n-  # Find out which ABI we are using.\n-  echo '[#]line __oline__ \"configure\"' > conftest.$ac_ext\n-  if AC_TRY_EVAL(ac_compile); then\n-    case \"`/usr/bin/file conftest.o`\" in\n-    *32-bit*)\n-      LD=\"${LD-ld} -32\"\n-      ;;\n-    *N32*)\n-      LD=\"${LD-ld} -n32\"\n-      ;;\n-    *64-bit*)\n-      LD=\"${LD-ld} -64\"\n-      ;;\n-    esac\n-  fi\n-  rm -rf conftest*\n-  ;;\n-\n-*-*-sco3.2v5*)\n-  # On SCO OpenServer 5, we need -belf to get full-featured binaries.\n-  SAVE_CFLAGS=\"$CFLAGS\"\n-  CFLAGS=\"$CFLAGS -belf\"\n-  AC_CACHE_CHECK([whether the C compiler needs -belf], lt_cv_cc_needs_belf,\n-    [AC_TRY_LINK([],[],[lt_cv_cc_needs_belf=yes],[lt_cv_cc_needs_belf=no])])\n-  if test x\"$lt_cv_cc_needs_belf\" != x\"yes\"; then\n-    # this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf\n-    CFLAGS=\"$SAVE_CFLAGS\"\n-  fi\n-  ;;\n-\n-*-*-cygwin*)\n-  AC_SYS_LIBTOOL_CYGWIN\n-  ;;\n-\n-esac\n-\n-# enable the --disable-libtool-lock switch\n-\n-AC_ARG_ENABLE(libtool-lock,\n-[  --disable-libtool-lock  force libtool not to do file locking],\n-need_locks=$enableval,\n-need_locks=yes)\n-\n-if test x\"$need_locks\" = xno; then\n-  libtool_flags=\"$libtool_flags --disable-lock\"\n-fi\n-])\n-\n-# AC_LIBTOOL_DLOPEN - check for dlopen support\n-AC_DEFUN(AC_LIBTOOL_DLOPEN, [lt_dlopen=yes])\n-\n-# AC_ENABLE_SHARED - implement the --enable-shared flag\n-# Usage: AC_ENABLE_SHARED[(DEFAULT)]\n-#   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n-#   `yes'.\n-AC_DEFUN(AC_ENABLE_SHARED,\n-[define([AC_ENABLE_SHARED_DEFAULT], ifelse($1, no, no, yes))dnl\n-AC_ARG_ENABLE(shared,\n-changequote(<<, >>)dnl\n-<<  --enable-shared[=PKGS]  build shared libraries [default=>>AC_ENABLE_SHARED_DEFAULT],\n-changequote([, ])dnl\n-[p=${PACKAGE-default}\n-case \"$enableval\" in\n-yes) enable_shared=yes ;;\n-no) enable_shared=no ;;\n-*)\n-  enable_shared=no\n-  # Look at the argument we got.  We use all the common list separators.\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n-  for pkg in $enableval; do\n-    if test \"X$pkg\" = \"X$p\"; then\n-      enable_shared=yes\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-  ;;\n-esac],\n-enable_shared=AC_ENABLE_SHARED_DEFAULT)dnl\n-])\n-\n-# AC_DISABLE_SHARED - set the default shared flag to --disable-shared\n-AC_DEFUN(AC_DISABLE_SHARED,\n-[AC_ENABLE_SHARED(no)])\n-\n-# AC_ENABLE_STATIC - implement the --enable-static flag\n-# Usage: AC_ENABLE_STATIC[(DEFAULT)]\n-#   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n-#   `yes'.\n-AC_DEFUN(AC_ENABLE_STATIC,\n-[define([AC_ENABLE_STATIC_DEFAULT], ifelse($1, no, no, yes))dnl\n-AC_ARG_ENABLE(static,\n-changequote(<<, >>)dnl\n-<<  --enable-static[=PKGS]  build static libraries [default=>>AC_ENABLE_STATIC_DEFAULT],\n-changequote([, ])dnl\n-[p=${PACKAGE-default}\n-case \"$enableval\" in\n-yes) enable_static=yes ;;\n-no) enable_static=no ;;\n-*)\n-  enable_static=no\n-  # Look at the argument we got.  We use all the common list separators.\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n-  for pkg in $enableval; do\n-    if test \"X$pkg\" = \"X$p\"; then\n-      enable_static=yes\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-  ;;\n-esac],\n-enable_static=AC_ENABLE_STATIC_DEFAULT)dnl\n-])\n-\n-# AC_DISABLE_STATIC - set the default static flag to --disable-static\n-AC_DEFUN(AC_DISABLE_STATIC,\n-[AC_ENABLE_STATIC(no)])\n-\n-\n-# AC_ENABLE_FAST_INSTALL - implement the --enable-fast-install flag\n-# Usage: AC_ENABLE_FAST_INSTALL[(DEFAULT)]\n-#   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n-#   `yes'.\n-AC_DEFUN(AC_ENABLE_FAST_INSTALL,\n-[define([AC_ENABLE_FAST_INSTALL_DEFAULT], ifelse($1, no, no, yes))dnl\n-AC_ARG_ENABLE(fast-install,\n-changequote(<<, >>)dnl\n-<<  --enable-fast-install[=PKGS]  optimize for fast installation [default=>>AC_ENABLE_FAST_INSTALL_DEFAULT],\n-changequote([, ])dnl\n-[p=${PACKAGE-default}\n-case \"$enableval\" in\n-yes) enable_fast_install=yes ;;\n-no) enable_fast_install=no ;;\n-*)\n-  enable_fast_install=no\n-  # Look at the argument we got.  We use all the common list separators.\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n-  for pkg in $enableval; do\n-    if test \"X$pkg\" = \"X$p\"; then\n-      enable_fast_install=yes\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-  ;;\n-esac],\n-enable_fast_install=AC_ENABLE_FAST_INSTALL_DEFAULT)dnl\n-])\n-\n-# AC_ENABLE_FAST_INSTALL - set the default to --disable-fast-install\n-AC_DEFUN(AC_DISABLE_FAST_INSTALL,\n-[AC_ENABLE_FAST_INSTALL(no)])\n-\n-\n-# AC_PROG_LD - find the path to the GNU or non-GNU linker\n-AC_DEFUN(AC_PROG_LD,\n-[AC_ARG_WITH(gnu-ld,\n-[  --with-gnu-ld           assume the C compiler uses GNU ld [default=no]],\n-test \"$withval\" = no || with_gnu_ld=yes, with_gnu_ld=no)\n-AC_REQUIRE([AC_PROG_CC])dnl\n-AC_REQUIRE([AC_CANONICAL_HOST])dnl\n-AC_REQUIRE([AC_CANONICAL_BUILD])dnl\n-ac_prog=ld\n-if test \"$ac_cv_prog_gcc\" = yes; then\n-  # Check if gcc -print-prog-name=ld gives a path.\n-  AC_MSG_CHECKING([for ld used by GCC])\n-  ac_prog=`($CC -print-prog-name=ld) 2>&5`\n-  case \"$ac_prog\" in\n-    # Accept absolute paths.\n-changequote(,)dnl\n-    /* | [A-Za-z]:[\\\\/]*)\n-      re_direlt='/[^/][^/]*/\\.\\./'\n-changequote([,])dnl\n-      # Canonicalize the path of ld\n-      ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n-      while echo $ac_prog | grep \"$re_direlt\" > /dev/null 2>&1; do\n-\tac_prog=`echo $ac_prog| sed \"s%$re_direlt%/%\"`\n-      done\n-      test -z \"$LD\" && LD=\"$ac_prog\"\n-      ;;\n-  \"\")\n-    # If it fails, then pretend we aren't using GCC.\n-    ac_prog=ld\n-    ;;\n-  *)\n-    # If it is relative, then search for the first ld in PATH.\n-    with_gnu_ld=unknown\n-    ;;\n-  esac\n-elif test \"$with_gnu_ld\" = yes; then\n-  AC_MSG_CHECKING([for GNU ld])\n-else\n-  AC_MSG_CHECKING([for non-GNU ld])\n-fi\n-AC_CACHE_VAL(ac_cv_path_LD,\n-[if test -z \"$LD\"; then\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-  for ac_dir in $PATH; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f \"$ac_dir/$ac_prog\"; then\n-      ac_cv_path_LD=\"$ac_dir/$ac_prog\"\n-      # Check to see if the program is GNU ld.  I'd rather use --version,\n-      # but apparently some GNU ld's only accept -v.\n-      # Break only if it was the GNU/non-GNU ld that we prefer.\n-      if \"$ac_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n-\ttest \"$with_gnu_ld\" != no && break\n-      else\n-\ttest \"$with_gnu_ld\" != yes && break\n-      fi\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-else\n-  ac_cv_path_LD=\"$LD\" # Let the user override the test with a path.\n-fi])\n-LD=\"$ac_cv_path_LD\"\n-if test -n \"$LD\"; then\n-  AC_MSG_RESULT($LD)\n-else\n-  AC_MSG_RESULT(no)\n-fi\n-test -z \"$LD\" && AC_MSG_ERROR([no acceptable ld found in \\$PATH])\n-AC_SUBST(LD)\n-AC_PROG_LD_GNU\n-])\n-\n-AC_DEFUN(AC_PROG_LD_GNU,\n-[AC_CACHE_CHECK([if the linker ($LD) is GNU ld], ac_cv_prog_gnu_ld,\n-[# I'd rather use --version here, but apparently some GNU ld's only accept -v.\n-if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n-  ac_cv_prog_gnu_ld=yes\n-else\n-  ac_cv_prog_gnu_ld=no\n-fi])\n-])\n-\n-# AC_PROG_NM - find the path to a BSD-compatible name lister\n-AC_DEFUN(AC_PROG_NM,\n-[AC_MSG_CHECKING([for BSD-compatible nm])\n-AC_CACHE_VAL(ac_cv_path_NM,\n-[if test -n \"$NM\"; then\n-  # Let the user override the test.\n-  ac_cv_path_NM=\"$NM\"\n-else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n-  for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/nm; then\n-      # Check to see if the nm accepts a BSD-compat flag.\n-      # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n-      #   nm: unknown option \"B\" ignored\n-      if ($ac_dir/nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n-\tac_cv_path_NM=\"$ac_dir/nm -B\"\n-\tbreak\n-      elif ($ac_dir/nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n-\tac_cv_path_NM=\"$ac_dir/nm -p\"\n-\tbreak\n-      else\n-\tac_cv_path_NM=${ac_cv_path_NM=\"$ac_dir/nm\"} # keep the first match, but\n-\tcontinue # so that we can try to find one that supports BSD flags\n-      fi\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-  test -z \"$ac_cv_path_NM\" && ac_cv_path_NM=nm\n-fi])\n-NM=\"$ac_cv_path_NM\"\n-AC_MSG_RESULT([$NM])\n-AC_SUBST(NM)\n-])\n-\n-# AC_SYS_NM_PARSE - Check for command to grab the raw symbol name followed\n-# by C symbol name from nm.\n-AC_DEFUN(AC_SYS_NM_PARSE,\n-[AC_REQUIRE([AC_CANONICAL_HOST])dnl\n-AC_REQUIRE([AC_PROG_NM])dnl\n-# Check for command to grab the raw symbol name followed by C symbol from nm.\n-AC_MSG_CHECKING([command to parse $NM output])\n-AC_CACHE_VAL(ac_cv_sys_global_symbol_pipe,\n-[# These are sane defaults that work on at least a few old systems.\n-# {They come from Ultrix.  What could be older than Ultrix?!! ;)}\n-\n-changequote(,)dnl\n-# Character class describing NM global symbol codes.\n-ac_symcode='[BCDEGRST]'\n-\n-# Regexp to match symbols that can be accessed directly from C.\n-ac_sympat='\\([_A-Za-z][_A-Za-z0-9]*\\)'\n-\n-# Transform the above into a raw symbol and a C symbol.\n-ac_symxfrm='\\1 \\2\\3 \\3'\n-\n-# Transform an extracted symbol line into a proper C declaration\n-ac_global_symbol_to_cdecl=\"sed -n -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n-\n-# Define system-specific variables.\n-case \"$host_os\" in\n-aix*)\n-  ac_symcode='[BCDT]'\n-  ;;\n-cygwin* | mingw*)\n-  ac_symcode='[ABCDGISTW]'\n-  ;;\n-hpux*)\n-  ac_global_symbol_to_cdecl=\"sed -n -e 's/^T .* \\(.*\\)$/extern char \\1();/p' -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n-  ;;\n-irix*)\n-  ac_symcode='[BCDEGRST]'\n-  ;;\n-solaris*)\n-  ac_symcode='[BDT]'\n-  ;;\n-esac\n-\n-# If we're using GNU nm, then use its standard symbol codes.\n-if $NM -V 2>&1 | egrep '(GNU|with BFD)' > /dev/null; then\n-  ac_symcode='[ABCDGISTW]'\n-fi\n-changequote([,])dnl\n-\n-# Try without a prefix undercore, then with it.\n-for ac_symprfx in \"\" \"_\"; do\n-\n-  ac_cv_sys_global_symbol_pipe=\"sed -n -e 's/^.*[ \t]\\($ac_symcode\\)[ \t][ \t]*\\($ac_symprfx\\)$ac_sympat$/$ac_symxfrm/p'\"\n-\n-  # Check to see that the pipe works correctly.\n-  ac_pipe_works=no\n-  rm -f conftest.$ac_ext\n-  cat > conftest.$ac_ext <<EOF\n-#ifdef __cplusplus\n-extern \"C\" {\n-#endif\n-char nm_test_var;\n-void nm_test_func(){}\n-#ifdef __cplusplus\n-}\n-#endif\n-int main(){nm_test_var='a';nm_test_func;return 0;}\n-EOF\n-\n-  if AC_TRY_EVAL(ac_compile); then\n-    # Now try to grab the symbols.\n-    ac_nlist=conftest.nm\n-  \n-    if AC_TRY_EVAL(NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) && test -s \"$ac_nlist\"; then\n-\n-      # Try sorting and uniquifying the output.\n-      if sort \"$ac_nlist\" | uniq > \"$ac_nlist\"T; then\n-\tmv -f \"$ac_nlist\"T \"$ac_nlist\"\n-      else\n-\trm -f \"$ac_nlist\"T\n-      fi\n-\n-      # Make sure that we snagged all the symbols we need.\n-      if egrep ' nm_test_var$' \"$ac_nlist\" >/dev/null; then\n-\tif egrep ' nm_test_func$' \"$ac_nlist\" >/dev/null; then\n-\t  cat <<EOF > conftest.c\n-#ifdef __cplusplus\n-extern \"C\" {\n-#endif\n-\n-EOF\n-\t  # Now generate the symbol file.\n-\t  eval \"$ac_global_symbol_to_cdecl\"' < \"$ac_nlist\" >> conftest.c'\n-\n-\t  cat <<EOF >> conftest.c\n-#if defined (__STDC__) && __STDC__\n-# define lt_ptr_t void *\n-#else\n-# define lt_ptr_t char *\n-# define const\n-#endif\n-\n-/* The mapping between symbol names and symbols. */\n-const struct {\n-  const char *name;\n-  lt_ptr_t address;\n-}\n-changequote(,)dnl\n-lt_preloaded_symbols[] =\n-changequote([,])dnl\n-{\n-EOF\n-\tsed 's/^. \\(.*\\) \\(.*\\)$/  {\"\\2\", (lt_ptr_t) \\&\\2},/' < \"$ac_nlist\" >> conftest.c\n-\tcat <<\\EOF >> conftest.c\n-  {0, (lt_ptr_t) 0}\n-};\n-\n-#ifdef __cplusplus\n-}\n-#endif\n-EOF\n-\t  # Now try linking the two files.\n-\t  mv conftest.$ac_objext conftestm.$ac_objext\n-\t  ac_save_LIBS=\"$LIBS\"\n-\t  ac_save_CFLAGS=\"$CFLAGS\"\n-\t  LIBS=\"conftestm.$ac_objext\"\n-\t  CFLAGS=\"$CFLAGS$no_builtin_flag\"\n-\t  if AC_TRY_EVAL(ac_link) && test -s conftest; then\n-\t    ac_pipe_works=yes\n-\t  else\n-\t    echo \"configure: failed program was:\" >&AC_FD_CC\n-\t    cat conftest.c >&AC_FD_CC\n-\t  fi\n-\t  LIBS=\"$ac_save_LIBS\"\n-\t  CFLAGS=\"$ac_save_CFLAGS\"\n-\telse\n-\t  echo \"cannot find nm_test_func in $ac_nlist\" >&AC_FD_CC\n-\tfi\n-      else\n-\techo \"cannot find nm_test_var in $ac_nlist\" >&AC_FD_CC\n-      fi\n-    else\n-      echo \"cannot run $ac_cv_sys_global_symbol_pipe\" >&AC_FD_CC\n-    fi\n-  else\n-    echo \"$progname: failed program was:\" >&AC_FD_CC\n-    cat conftest.c >&AC_FD_CC\n-  fi\n-  rm -rf conftest*\n-\n-  # Do not use the global_symbol_pipe unless it works.\n-  if test \"$ac_pipe_works\" = yes; then\n-    if test x\"$ac_symprfx\" = x\"_\"; then\n-      ac_cv_sys_symbol_underscore=yes\n-    else\n-      ac_cv_sys_symbol_underscore=no\n-    fi\n-    break\n-  else\n-    ac_cv_sys_global_symbol_pipe=\n-  fi\n-done\n-])\n-\n-ac_result=yes\n-if test -z \"$ac_cv_sys_global_symbol_pipe\"; then\n-   ac_result=no\n-fi\n-AC_MSG_RESULT($ac_result)\n-])\n-\n-# AC_SYS_LIBTOOL_CYGWIN - find tools needed on cygwin\n-AC_DEFUN(AC_SYS_LIBTOOL_CYGWIN,\n-[AC_CHECK_TOOL(DLLTOOL, dlltool, false)\n-AC_CHECK_TOOL(AS, as, false)\n-])\n-\n-# AC_SYS_SYMBOL_UNDERSCORE - does the compiler prefix global symbols\n-#                            with an underscore?\n-AC_DEFUN(AC_SYS_SYMBOL_UNDERSCORE,\n-[AC_REQUIRE([AC_PROG_NM])dnl\n-AC_REQUIRE([AC_SYS_NM_PARSE])dnl\n-AC_MSG_CHECKING([for _ prefix in compiled symbols])\n-AC_CACHE_VAL(ac_cv_sys_symbol_underscore,\n-[ac_cv_sys_symbol_underscore=no\n-cat > conftest.$ac_ext <<EOF\n-void nm_test_func(){}\n-int main(){nm_test_func;return 0;}\n-EOF\n-if AC_TRY_EVAL(ac_compile); then\n-  # Now try to grab the symbols.\n-  ac_nlist=conftest.nm\n-  if AC_TRY_EVAL(NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) && test -s \"$ac_nlist\"; then\n-    # See whether the symbols have a leading underscore.\n-    if egrep '^. _nm_test_func' \"$ac_nlist\" >/dev/null; then\n-      ac_cv_sys_symbol_underscore=yes\n-    else\n-      if egrep '^. nm_test_func ' \"$ac_nlist\" >/dev/null; then\n-\t:\n-      else\n-\techo \"configure: cannot find nm_test_func in $ac_nlist\" >&AC_FD_CC\n-      fi\n-    fi\n-  else\n-    echo \"configure: cannot run $ac_cv_sys_global_symbol_pipe\" >&AC_FD_CC\n-  fi\n-else\n-  echo \"configure: failed program was:\" >&AC_FD_CC\n-  cat conftest.c >&AC_FD_CC\n-fi\n-rm -rf conftest*\n-])\n-AC_MSG_RESULT($ac_cv_sys_symbol_underscore)\n-USE_SYMBOL_UNDERSCORE=${ac_cv_sys_symbol_underscore=no}\n-AC_SUBST(USE_SYMBOL_UNDERSCORE)dnl\n-])\n-\n-# AC_CHECK_LIBM - check for math library\n-AC_DEFUN(AC_CHECK_LIBM, [\n-AC_CHECK_LIB(mw, _mwvalidcheckl)\n-AC_CHECK_LIB(m, cos)\n-])\n-\n-# AC_LIBLTDL_CONVENIENCE[(dir)] - sets LIBLTDL to the link flags for\n-# the libltdl convenience library, adds --enable-ltdl-convenience to\n-# the configure arguments.  Note that LIBLTDL is not AC_SUBSTed, nor\n-# is AC_CONFIG_SUBDIRS called.  If DIR is not provided, it is assumed\n-# to be `${top_builddir}/libltdl'.  Make sure you start DIR with\n-# '${top_builddir}/' (note the single quotes!) if your package is not\n-# flat, and, if you're not using automake, define top_builddir as\n-# appropriate in the Makefiles.\n-AC_DEFUN(AC_LIBLTDL_CONVENIENCE, [\n-  case \"$enable_ltdl_convenience\" in\n-  no) AC_MSG_ERROR([this package needs a convenience libltdl]) ;;\n-  \"\") enable_ltdl_convenience=yes\n-      ac_configure_args=\"$ac_configure_args --enable-ltdl-convenience\" ;;\n-  esac\n-  LIBLTDL=ifelse($#,1,$1,['${top_builddir}/libltdl'])/libltdlc.la\n-])\n-\n-# AC_LIBLTDL_INSTALLABLE[(dir)] - sets LIBLTDL to the link flags for\n-# the libltdl installable library, and adds --enable-ltdl-install to\n-# the configure arguments.  Note that LIBLTDL is not AC_SUBSTed, nor\n-# is AC_CONFIG_SUBDIRS called.  If DIR is not provided, it is assumed\n-# to be `${top_builddir}/libltdl'.  Make sure you start DIR with\n-# '${top_builddir}/' (note the single quotes!) if your package is not\n-# flat, and, if you're not using automake, define top_builddir as\n-# appropriate in the Makefiles.\n-# In the future, this macro may have to be called after AC_PROG_LIBTOOL.\n-AC_DEFUN(AC_LIBLTDL_INSTALLABLE, [\n-  AC_CHECK_LIB(ltdl, main, LIBLTDL=\"-lltdl\", [\n-    case \"$enable_ltdl_install\" in\n-    no) AC_MSG_WARN([libltdl not installed, but installation disabled]) ;;\n-    \"\") enable_ltdl_install=yes\n-        ac_configure_args=\"$ac_configure_args --enable-ltdl-install\" ;;\n-    esac\n-  ])\n-  if test x\"$enable_ltdl_install\" != x\"no\"; then\n-    LIBLTDL=ifelse($#,1,$1,['${top_builddir}/libltdl'])/libltdl.la\n-  fi\n-])\n-\n-dnl old names\n-AC_DEFUN(AM_PROG_LIBTOOL, [indir([AC_PROG_LIBTOOL])])dnl\n-AC_DEFUN(AM_ENABLE_SHARED, [indir([AC_ENABLE_SHARED], $@)])dnl\n-AC_DEFUN(AM_ENABLE_STATIC, [indir([AC_ENABLE_STATIC], $@)])dnl\n-AC_DEFUN(AM_DISABLE_SHARED, [indir([AC_DISABLE_SHARED], $@)])dnl\n-AC_DEFUN(AM_DISABLE_STATIC, [indir([AC_DISABLE_STATIC], $@)])dnl\n-AC_DEFUN(AM_PROG_LD, [indir([AC_PROG_LD])])dnl\n-AC_DEFUN(AM_PROG_NM, [indir([AC_PROG_NM])])dnl\n-AC_DEFUN(AM_SYS_NM_PARSE, [indir([AC_SYS_NM_PARSE])])dnl\n-AC_DEFUN(AM_SYS_SYMBOL_UNDERSCORE, [indir([AC_SYS_SYMBOL_UNDERSCORE])])dnl\n-AC_DEFUN(AM_SYS_LIBTOOL_CYGWIN, [indir([AC_SYS_LIBTOOL_CYGWIN])])dnl\n-"}, {"sha": "30a102bfe5f37cd51a577eb0bcf665231dc0be2d", "filename": "zlib/configure", "status": "modified", "additions": 598, "deletions": 465, "changes": 1063, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91/zlib%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91/zlib%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2Fconfigure?ref=0fd91e0afb4dfd01825ba1e9392c9759b86c1a91", "patch": "@@ -32,7 +32,9 @@ ac_help=\"$ac_help\n ac_help=\"$ac_help\n   --with-gnu-ld           assume the C compiler uses GNU ld [default=no]\"\n ac_help=\"$ac_help\n-  --disable-libtool-lock  force libtool not to do file locking\"\n+  --disable-libtool-lock  avoid locking (might break parallel builds)\"\n+ac_help=\"$ac_help\n+  --with-pic              try to use only PIC/non-PIC objects [default=use both]\"\n \n # Initialize some variables set by options.\n # The variables have the same names as the options, with\n@@ -554,8 +556,21 @@ else\n fi\n \n \n+\n+\n+if test \"x${with_target_subdir}\" != x && \\\n+   test \"${srcdir}\" = \".\"; then\n+  if test \"${with_target_subdir}\" != \".\"; then\n+    zlib_basedir=\"${srcdir}/${with_multisrctop}../\"\n+  else\n+    zlib_basedir=\"${srcdir}/${with_multisrctop}\"\n+  fi\n+else\n+  zlib_basedir=\"${srcdir}/\"\n+fi\n+\n ac_aux_dir=\n-for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do\n+for ac_dir in $zlib_basedir.. $srcdir/$zlib_basedir..; do\n   if test -f $ac_dir/install-sh; then\n     ac_aux_dir=$ac_dir\n     ac_install_sh=\"$ac_aux_dir/install-sh -c\"\n@@ -567,12 +582,36 @@ for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do\n   fi\n done\n if test -z \"$ac_aux_dir\"; then\n-  { echo \"configure: error: can not find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../..\" 1>&2; exit 1; }\n+  { echo \"configure: error: can not find install-sh or install.sh in $zlib_basedir.. $srcdir/$zlib_basedir..\" 1>&2; exit 1; }\n fi\n ac_config_guess=$ac_aux_dir/config.guess\n ac_config_sub=$ac_aux_dir/config.sub\n ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n \n+if :; then :; else\n+  # This overrides the previous occurrence for automake, but not for\n+  # autoconf, which is exactly what we want.\n+  ac_aux_dir=\n+for ac_dir in .. $srcdir/..; do\n+  if test -f $ac_dir/install-sh; then\n+    ac_aux_dir=$ac_dir\n+    ac_install_sh=\"$ac_aux_dir/install-sh -c\"\n+    break\n+  elif test -f $ac_dir/install.sh; then\n+    ac_aux_dir=$ac_dir\n+    ac_install_sh=\"$ac_aux_dir/install.sh -c\"\n+    break\n+  fi\n+done\n+if test -z \"$ac_aux_dir\"; then\n+  { echo \"configure: error: can not find install-sh or install.sh in .. $srcdir/..\" 1>&2; exit 1; }\n+fi\n+ac_config_guess=$ac_aux_dir/config.guess\n+ac_config_sub=$ac_aux_dir/config.sub\n+ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n+\n+fi\n+\n \n # Do some error checking and defaulting for the host and target type.\n # The inputs are:\n@@ -601,7 +640,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:605: checking host system type\" >&5\n+echo \"configure:644: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -622,7 +661,7 @@ host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:626: checking target system type\" >&5\n+echo \"configure:665: checking target system type\" >&5\n \n target_alias=$target\n case \"$target_alias\" in\n@@ -640,7 +679,7 @@ target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$target\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:644: checking build system type\" >&5\n+echo \"configure:683: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -674,7 +713,7 @@ test \"$host_alias\" != \"$target_alias\" &&\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:678: checking for a BSD compatible install\" >&5\n+echo \"configure:717: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -727,7 +766,7 @@ test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n echo $ac_n \"checking whether build environment is sane\"\"... $ac_c\" 1>&6\n-echo \"configure:731: checking whether build environment is sane\" >&5\n+echo \"configure:770: checking whether build environment is sane\" >&5\n # Just in case\n sleep 1\n echo timestamp > conftestfile\n@@ -784,7 +823,7 @@ test \"$program_suffix\" != NONE &&\n test \"$program_transform_name\" = \"\" && program_transform_name=\"s,x,x,\"\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:788: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:827: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -830,7 +869,7 @@ EOF\n \n missing_dir=`cd $ac_aux_dir && pwd`\n echo $ac_n \"checking for working aclocal\"\"... $ac_c\" 1>&6\n-echo \"configure:834: checking for working aclocal\" >&5\n+echo \"configure:873: checking for working aclocal\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -843,7 +882,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoconf\"\"... $ac_c\" 1>&6\n-echo \"configure:847: checking for working autoconf\" >&5\n+echo \"configure:886: checking for working autoconf\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -856,7 +895,7 @@ else\n fi\n \n echo $ac_n \"checking for working automake\"\"... $ac_c\" 1>&6\n-echo \"configure:860: checking for working automake\" >&5\n+echo \"configure:899: checking for working automake\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -869,7 +908,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoheader\"\"... $ac_c\" 1>&6\n-echo \"configure:873: checking for working autoheader\" >&5\n+echo \"configure:912: checking for working autoheader\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -882,7 +921,7 @@ else\n fi\n \n echo $ac_n \"checking for working makeinfo\"\"... $ac_c\" 1>&6\n-echo \"configure:886: checking for working makeinfo\" >&5\n+echo \"configure:925: checking for working makeinfo\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -897,7 +936,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:901: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:940: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -920,26 +959,6 @@ fi\n   \n \n \n-ac_aux_dir=\n-for ac_dir in .. $srcdir/..; do\n-  if test -f $ac_dir/install-sh; then\n-    ac_aux_dir=$ac_dir\n-    ac_install_sh=\"$ac_aux_dir/install-sh -c\"\n-    break\n-  elif test -f $ac_dir/install.sh; then\n-    ac_aux_dir=$ac_dir\n-    ac_install_sh=\"$ac_aux_dir/install.sh -c\"\n-    break\n-  fi\n-done\n-if test -z \"$ac_aux_dir\"; then\n-  { echo \"configure: error: can not find install-sh or install.sh in .. $srcdir/..\" 1>&2; exit 1; }\n-fi\n-ac_config_guess=$ac_aux_dir/config.guess\n-ac_config_sub=$ac_aux_dir/config.sub\n-ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n-\n-\n # Check whether --with-target-subdir or --without-target-subdir was given.\n if test \"${with_target_subdir+set}\" = set; then\n   withval=\"$with_target_subdir\"\n@@ -965,19 +984,6 @@ else\n   test -z \"$with_target_subdir\" && multilib=no || multilib=yes\n fi\n \n-\n-if test \"x${with_target_subdir}\" != x && \\\n-   test \"${srcdir}\" = \".\"; then\n-  if test \"${with_target_subdir}\" != \".\"; then\n-    zlib_basedir=\"${srcdir}/${with_multisrctop}../\"\n-  else\n-    zlib_basedir=\"${srcdir}/${with_multisrctop}\"\n-  fi\n-else\n-  zlib_basedir=\"${srcdir}/\"\n-fi\n-\n-\n # Check whether --with-system-zlib or --without-system-zlib was given.\n if test \"${with_system_zlib+set}\" = set; then\n   withval=\"$with_system_zlib\"\n@@ -989,7 +995,7 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:993: checking for $ac_word\" >&5\n+echo \"configure:999: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1019,7 +1025,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1023: checking for $ac_word\" >&5\n+echo \"configure:1029: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1068,7 +1074,7 @@ fi\n fi\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1072: checking whether we are using GNU C\" >&5\n+echo \"configure:1078: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1077,7 +1083,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1081: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1087: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1092,7 +1098,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1096: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1102: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1128,12 +1134,12 @@ fi\n # the result.\n if false; then\n   echo $ac_n \"checking for Cygwin environment\"\"... $ac_c\" 1>&6\n-echo \"configure:1132: checking for Cygwin environment\" >&5\n+echo \"configure:1138: checking for Cygwin environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_cygwin'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1137 \"configure\"\n+#line 1143 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -1144,7 +1150,7 @@ int main() {\n return __CYGWIN__;\n ; return 0; }\n EOF\n-if { (eval echo configure:1148: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1154: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_cygwin=yes\n else\n@@ -1161,19 +1167,19 @@ echo \"$ac_t\"\"$ac_cv_cygwin\" 1>&6\n CYGWIN=\n test \"$ac_cv_cygwin\" = yes && CYGWIN=yes\n echo $ac_n \"checking for mingw32 environment\"\"... $ac_c\" 1>&6\n-echo \"configure:1165: checking for mingw32 environment\" >&5\n+echo \"configure:1171: checking for mingw32 environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_mingw32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1170 \"configure\"\n+#line 1176 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n return __MINGW32__;\n ; return 0; }\n EOF\n-if { (eval echo configure:1177: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1183: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_mingw32=yes\n else\n@@ -1192,7 +1198,7 @@ test \"$ac_cv_mingw32\" = yes && MINGW32=yes\n \n \n echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:1196: checking for executable suffix\" >&5\n+echo \"configure:1202: checking for executable suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1202,7 +1208,7 @@ else\n   rm -f conftest*\n   echo 'int main () { return 0; }' > conftest.$ac_ext\n   ac_cv_exeext=\n-  if { (eval echo configure:1206: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+  if { (eval echo configure:1212: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n       *.c | *.o | *.obj | *.ilk | *.pdb) ;;\n@@ -1227,7 +1233,7 @@ fi\n if test \"${enable_shared+set}\" = set; then\n   enableval=\"$enable_shared\"\n   p=${PACKAGE-default}\n-case \"$enableval\" in\n+case $enableval in\n yes) enable_shared=yes ;;\n no) enable_shared=no ;;\n *)\n@@ -1250,7 +1256,7 @@ fi\n if test \"${enable_static+set}\" = set; then\n   enableval=\"$enable_static\"\n   p=${PACKAGE-default}\n-case \"$enableval\" in\n+case $enableval in\n yes) enable_static=yes ;;\n no) enable_static=no ;;\n *)\n@@ -1273,7 +1279,7 @@ fi\n if test \"${enable_fast_install+set}\" = set; then\n   enableval=\"$enable_fast_install\"\n   p=${PACKAGE-default}\n-case \"$enableval\" in\n+case $enableval in\n yes) enable_fast_install=yes ;;\n no) enable_fast_install=no ;;\n *)\n@@ -1292,36 +1298,6 @@ else\n   enable_fast_install=yes\n fi\n \n-# Extract the first word of \"ranlib\", so it can be a program name with args.\n-set dummy ranlib; ac_word=$2\n-echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1299: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  if test -n \"$RANLIB\"; then\n-  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n-else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n-  ac_dummy=\"$PATH\"\n-  for ac_dir in $ac_dummy; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_RANLIB=\"ranlib\"\n-      break\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-  test -z \"$ac_cv_prog_RANLIB\" && ac_cv_prog_RANLIB=\":\"\n-fi\n-fi\n-RANLIB=\"$ac_cv_prog_RANLIB\"\n-if test -n \"$RANLIB\"; then\n-  echo \"$ac_t\"\"$RANLIB\" 1>&6\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-\n # Check whether --with-gnu-ld or --without-gnu-ld was given.\n if test \"${with_gnu_ld+set}\" = set; then\n   withval=\"$with_gnu_ld\"\n@@ -1331,14 +1307,20 @@ else\n fi\n \n ac_prog=ld\n-if test \"$ac_cv_prog_gcc\" = yes; then\n+if test \"$GCC\" = yes; then\n   # Check if gcc -print-prog-name=ld gives a path.\n   echo $ac_n \"checking for ld used by GCC\"\"... $ac_c\" 1>&6\n-echo \"configure:1338: checking for ld used by GCC\" >&5\n-  ac_prog=`($CC -print-prog-name=ld) 2>&5`\n-  case \"$ac_prog\" in\n+echo \"configure:1314: checking for ld used by GCC\" >&5\n+  case $host in\n+  *-*-mingw*)\n+    # gcc leaves a trailing carriage return which upsets mingw\n+    ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\\015'` ;;\n+  *)\n+    ac_prog=`($CC -print-prog-name=ld) 2>&5` ;;\n+  esac\n+  case $ac_prog in\n     # Accept absolute paths.\n-    /* | [A-Za-z]:[\\\\/]*)\n+    [\\\\/]* | [A-Za-z]:[\\\\/]*)\n       re_direlt='/[^/][^/]*/\\.\\./'\n       # Canonicalize the path of ld\n       ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n@@ -1358,24 +1340,24 @@ echo \"configure:1338: checking for ld used by GCC\" >&5\n   esac\n elif test \"$with_gnu_ld\" = yes; then\n   echo $ac_n \"checking for GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1362: checking for GNU ld\" >&5\n+echo \"configure:1344: checking for GNU ld\" >&5\n else\n   echo $ac_n \"checking for non-GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1365: checking for non-GNU ld\" >&5\n+echo \"configure:1347: checking for non-GNU ld\" >&5\n fi\n-if eval \"test \\\"`echo '$''{'ac_cv_path_LD'+set}'`\\\" = set\"; then\n+if eval \"test \\\"`echo '$''{'lt_cv_path_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test -z \"$LD\"; then\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n   for ac_dir in $PATH; do\n     test -z \"$ac_dir\" && ac_dir=.\n-    if test -f \"$ac_dir/$ac_prog\"; then\n-      ac_cv_path_LD=\"$ac_dir/$ac_prog\"\n+    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n+      lt_cv_path_LD=\"$ac_dir/$ac_prog\"\n       # Check to see if the program is GNU ld.  I'd rather use --version,\n       # but apparently some GNU ld's only accept -v.\n       # Break only if it was the GNU/non-GNU ld that we prefer.\n-      if \"$ac_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n+      if \"$lt_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n \ttest \"$with_gnu_ld\" != no && break\n       else\n \ttest \"$with_gnu_ld\" != yes && break\n@@ -1384,525 +1366,671 @@ else\n   done\n   IFS=\"$ac_save_ifs\"\n else\n-  ac_cv_path_LD=\"$LD\" # Let the user override the test with a path.\n+  lt_cv_path_LD=\"$LD\" # Let the user override the test with a path.\n fi\n fi\n \n-LD=\"$ac_cv_path_LD\"\n+LD=\"$lt_cv_path_LD\"\n if test -n \"$LD\"; then\n   echo \"$ac_t\"\"$LD\" 1>&6\n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n test -z \"$LD\" && { echo \"configure: error: no acceptable ld found in \\$PATH\" 1>&2; exit 1; }\n-\n echo $ac_n \"checking if the linker ($LD) is GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1401: checking if the linker ($LD) is GNU ld\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_gnu_ld'+set}'`\\\" = set\"; then\n+echo \"configure:1382: checking if the linker ($LD) is GNU ld\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_prog_gnu_ld'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   # I'd rather use --version here, but apparently some GNU ld's only accept -v.\n if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n-  ac_cv_prog_gnu_ld=yes\n+  lt_cv_prog_gnu_ld=yes\n else\n-  ac_cv_prog_gnu_ld=no\n+  lt_cv_prog_gnu_ld=no\n fi\n fi\n \n-echo \"$ac_t\"\"$ac_cv_prog_gnu_ld\" 1>&6\n+echo \"$ac_t\"\"$lt_cv_prog_gnu_ld\" 1>&6\n+with_gnu_ld=$lt_cv_prog_gnu_ld\n \n \n+echo $ac_n \"checking for $LD option to reload object files\"\"... $ac_c\" 1>&6\n+echo \"configure:1399: checking for $LD option to reload object files\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_ld_reload_flag'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  lt_cv_ld_reload_flag='-r'\n+fi\n+\n+echo \"$ac_t\"\"$lt_cv_ld_reload_flag\" 1>&6\n+reload_flag=$lt_cv_ld_reload_flag\n+test -n \"$reload_flag\" && reload_flag=\" $reload_flag\"\n+\n echo $ac_n \"checking for BSD-compatible nm\"\"... $ac_c\" 1>&6\n-echo \"configure:1417: checking for BSD-compatible nm\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_path_NM'+set}'`\\\" = set\"; then\n+echo \"configure:1411: checking for BSD-compatible nm\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_path_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test -n \"$NM\"; then\n   # Let the user override the test.\n-  ac_cv_path_NM=\"$NM\"\n+  lt_cv_path_NM=\"$NM\"\n else\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n   for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do\n     test -z \"$ac_dir\" && ac_dir=.\n-    if test -f $ac_dir/nm; then\n+    tmp_nm=$ac_dir/${ac_tool_prefix}nm\n+    if test -f $tmp_nm || test -f $tmp_nm$ac_exeext ; then\n       # Check to see if the nm accepts a BSD-compat flag.\n       # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n       #   nm: unknown option \"B\" ignored\n-      if ($ac_dir/nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n-\tac_cv_path_NM=\"$ac_dir/nm -B\"\n+      # Tru64's nm complains that /dev/null is an invalid object file\n+      if ($tmp_nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep '(/dev/null|Invalid file or object type)' >/dev/null; then\n+\tlt_cv_path_NM=\"$tmp_nm -B\"\n \tbreak\n-      elif ($ac_dir/nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n-\tac_cv_path_NM=\"$ac_dir/nm -p\"\n+      elif ($tmp_nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n+\tlt_cv_path_NM=\"$tmp_nm -p\"\n \tbreak\n       else\n-\tac_cv_path_NM=${ac_cv_path_NM=\"$ac_dir/nm\"} # keep the first match, but\n+\tlt_cv_path_NM=${lt_cv_path_NM=\"$tmp_nm\"} # keep the first match, but\n \tcontinue # so that we can try to find one that supports BSD flags\n       fi\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n-  test -z \"$ac_cv_path_NM\" && ac_cv_path_NM=nm\n+  test -z \"$lt_cv_path_NM\" && lt_cv_path_NM=nm\n fi\n fi\n \n-NM=\"$ac_cv_path_NM\"\n+NM=\"$lt_cv_path_NM\"\n echo \"$ac_t\"\"$NM\" 1>&6\n \n-\n-# Check for command to grab the raw symbol name followed by C symbol from nm.\n-echo $ac_n \"checking command to parse $NM output\"\"... $ac_c\" 1>&6\n-echo \"configure:1455: checking command to parse $NM output\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_sys_global_symbol_pipe'+set}'`\\\" = set\"; then\n+echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n+echo \"configure:1449: checking whether ln -s works\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  # These are sane defaults that work on at least a few old systems.\n-# {They come from Ultrix.  What could be older than Ultrix?!! ;)}\n-\n-# Character class describing NM global symbol codes.\n-ac_symcode='[BCDEGRST]'\n-\n-# Regexp to match symbols that can be accessed directly from C.\n-ac_sympat='\\([_A-Za-z][_A-Za-z0-9]*\\)'\n-\n-# Transform the above into a raw symbol and a C symbol.\n-ac_symxfrm='\\1 \\2\\3 \\3'\n-\n-# Transform an extracted symbol line into a proper C declaration\n-ac_global_symbol_to_cdecl=\"sed -n -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n+  rm -f conftestdata\n+if ln -s X conftestdata 2>/dev/null\n+then\n+  rm -f conftestdata\n+  ac_cv_prog_LN_S=\"ln -s\"\n+else\n+  ac_cv_prog_LN_S=ln\n+fi\n+fi\n+LN_S=\"$ac_cv_prog_LN_S\"\n+if test \"$ac_cv_prog_LN_S\" = \"ln -s\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n \n-# Define system-specific variables.\n-case \"$host_os\" in\n+echo $ac_n \"checking how to recognise dependant libraries\"\"... $ac_c\" 1>&6\n+echo \"configure:1470: checking how to recognise dependant libraries\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_deplibs_check_method'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  lt_cv_file_magic_cmd='$MAGIC_CMD'\n+lt_cv_file_magic_test_file=\n+lt_cv_deplibs_check_method='unknown'\n+# Need to set the preceding variable on all platforms that support\n+# interlibrary dependencies.\n+# 'none' -- dependencies not supported.\n+# `unknown' -- same as none, but documents that we really don't know.\n+# 'pass_all' -- all dependencies passed with no checks.\n+# 'test_compile' -- check by making test program.\n+# 'file_magic [regex]' -- check by looking for files in library path\n+# which responds to the $file_magic_cmd with a given egrep regex.\n+# If you have `file' or equivalent on your system and you're not sure\n+# whether `pass_all' will *always* work, you probably want this one.\n+\n+case $host_os in\n aix*)\n-  ac_symcode='[BCDT]'\n+  lt_cv_deplibs_check_method=pass_all\n   ;;\n-cygwin* | mingw*)\n-  ac_symcode='[ABCDGISTW]'\n-  ;;\n-hpux*)\n-  ac_global_symbol_to_cdecl=\"sed -n -e 's/^T .* \\(.*\\)$/extern char \\1();/p' -e 's/^. .* \\(.*\\)$/extern char \\1;/p'\"\n-  ;;\n-irix*)\n-  ac_symcode='[BCDEGRST]'\n-  ;;\n-solaris*)\n-  ac_symcode='[BDT]'\n-  ;;\n-esac\n \n-# If we're using GNU nm, then use its standard symbol codes.\n-if $NM -V 2>&1 | egrep '(GNU|with BFD)' > /dev/null; then\n-  ac_symcode='[ABCDGISTW]'\n-fi\n-\n-# Try without a prefix undercore, then with it.\n-for ac_symprfx in \"\" \"_\"; do\n+beos*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n \n-  ac_cv_sys_global_symbol_pipe=\"sed -n -e 's/^.* \t\\($ac_symcode\\) \t \t*\\($ac_symprfx\\)$ac_sympat$/$ac_symxfrm/p'\"\n+bsdi4*)\n+  lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'\n+  lt_cv_file_magic_cmd='/usr/bin/file -L'\n+  lt_cv_file_magic_test_file=/shlib/libc.so\n+  ;;\n \n-  # Check to see that the pipe works correctly.\n-  ac_pipe_works=no\n-  rm -f conftest.$ac_ext\n-  cat > conftest.$ac_ext <<EOF\n-#ifdef __cplusplus\n-extern \"C\" {\n-#endif\n-char nm_test_var;\n-void nm_test_func(){}\n-#ifdef __cplusplus\n-}\n-#endif\n-int main(){nm_test_var='a';nm_test_func;return 0;}\n-EOF\n+cygwin* | mingw* |pw32*)\n+  lt_cv_deplibs_check_method='file_magic file format pei*-i386(.*architecture: i386)?'\n+  lt_cv_file_magic_cmd='$OBJDUMP -f'\n+  ;;\n \n-  if { (eval echo configure:1518: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n-    # Now try to grab the symbols.\n-    ac_nlist=conftest.nm\n-  \n-    if { (eval echo configure:1522: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n+darwin* | rhapsody*)\n+  lt_cv_deplibs_check_method='file_magic Mach-O dynamically linked shared library'\n+  lt_cv_file_magic_cmd='/usr/bin/file -L'\n+  case \"$host_os\" in\n+  rhapsody* | darwin1.012)\n+    lt_cv_file_magic_test_file='/System/Library/Frameworks/System.framework/System'\n+    ;;\n+  *) # Darwin 1.3 on\n+    lt_cv_file_magic_test_file='/usr/lib/libSystem.dylib'\n+    ;;\n+  esac\n+  ;;\n \n-      # Try sorting and uniquifying the output.\n-      if sort \"$ac_nlist\" | uniq > \"$ac_nlist\"T; then\n-\tmv -f \"$ac_nlist\"T \"$ac_nlist\"\n-      else\n-\trm -f \"$ac_nlist\"T\n-      fi\n+freebsd* )\n+  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then\n+    case $host_cpu in\n+    i*86 )\n+      # Not sure whether the presence of OpenBSD here was a mistake.\n+      # Let's accept both of them until this is cleared up.\n+      lt_cv_deplibs_check_method='file_magic (FreeBSD|OpenBSD)/i[3-9]86 (compact )?demand paged shared library'\n+      lt_cv_file_magic_cmd=/usr/bin/file\n+      lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`\n+      ;;\n+    esac\n+  else\n+    lt_cv_deplibs_check_method=pass_all\n+  fi\n+  ;;\n \n-      # Make sure that we snagged all the symbols we need.\n-      if egrep ' nm_test_var$' \"$ac_nlist\" >/dev/null; then\n-\tif egrep ' nm_test_func$' \"$ac_nlist\" >/dev/null; then\n-\t  cat <<EOF > conftest.c\n-#ifdef __cplusplus\n-extern \"C\" {\n-#endif\n+gnu*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n \n-EOF\n-\t  # Now generate the symbol file.\n-\t  eval \"$ac_global_symbol_to_cdecl\"' < \"$ac_nlist\" >> conftest.c'\n+hpux10.20*|hpux11*)\n+  lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|PA-RISC[0-9].[0-9]) shared library'\n+  lt_cv_file_magic_cmd=/usr/bin/file\n+  lt_cv_file_magic_test_file=/usr/lib/libc.sl\n+  ;;\n \n-\t  cat <<EOF >> conftest.c\n-#if defined (__STDC__) && __STDC__\n-# define lt_ptr_t void *\n-#else\n-# define lt_ptr_t char *\n-# define const\n-#endif\n+irix5* | irix6*)\n+  case $host_os in\n+  irix5*)\n+    # this will be overridden with pass_all, but let us keep it just in case\n+    lt_cv_deplibs_check_method=\"file_magic ELF 32-bit MSB dynamic lib MIPS - version 1\"\n+    ;;\n+  *)\n+    case $LD in\n+    *-32|*\"-32 \") libmagic=32-bit;;\n+    *-n32|*\"-n32 \") libmagic=N32;;\n+    *-64|*\"-64 \") libmagic=64-bit;;\n+    *) libmagic=never-match;;\n+    esac\n+    # this will be overridden with pass_all, but let us keep it just in case\n+    lt_cv_deplibs_check_method=\"file_magic ELF ${libmagic} MSB mips-[1234] dynamic lib MIPS - version 1\"\n+    ;;\n+  esac\n+  lt_cv_file_magic_test_file=`echo /lib${libsuff}/libc.so*`\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n \n-/* The mapping between symbol names and symbols. */\n-const struct {\n-  const char *name;\n-  lt_ptr_t address;\n-}\n-lt_preloaded_symbols[] =\n-{\n-EOF\n-\tsed 's/^. \\(.*\\) \\(.*\\)$/  {\"\\2\", (lt_ptr_t) \\&\\2},/' < \"$ac_nlist\" >> conftest.c\n-\tcat <<\\EOF >> conftest.c\n-  {0, (lt_ptr_t) 0}\n-};\n+# This must be Linux ELF.\n+linux-gnu*)\n+  case $host_cpu in\n+  alpha* | i*86 | powerpc* | sparc* | ia64* )\n+    lt_cv_deplibs_check_method=pass_all ;;\n+  *)\n+    # glibc up to 2.1.1 does not perform some relocations on ARM\n+    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [LM]SB (shared object|dynamic lib )' ;;\n+  esac\n+  lt_cv_file_magic_test_file=`echo /lib/libc.so* /lib/libc-*.so`\n+  ;;\n \n-#ifdef __cplusplus\n-}\n-#endif\n-EOF\n-\t  # Now try linking the two files.\n-\t  mv conftest.$ac_objext conftestm.$ac_objext\n-\t  ac_save_LIBS=\"$LIBS\"\n-\t  ac_save_CFLAGS=\"$CFLAGS\"\n-\t  LIBS=\"conftestm.$ac_objext\"\n-\t  CFLAGS=\"$CFLAGS$no_builtin_flag\"\n-\t  if { (eval echo configure:1574: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n-\t    ac_pipe_works=yes\n-\t  else\n-\t    echo \"configure: failed program was:\" >&5\n-\t    cat conftest.c >&5\n-\t  fi\n-\t  LIBS=\"$ac_save_LIBS\"\n-\t  CFLAGS=\"$ac_save_CFLAGS\"\n-\telse\n-\t  echo \"cannot find nm_test_func in $ac_nlist\" >&5\n-\tfi\n-      else\n-\techo \"cannot find nm_test_var in $ac_nlist\" >&5\n-      fi\n-    else\n-      echo \"cannot run $ac_cv_sys_global_symbol_pipe\" >&5\n-    fi\n+netbsd*)\n+  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then\n+    lt_cv_deplibs_check_method='match_pattern /lib[^/\\.]+\\.so\\.[0-9]+\\.[0-9]+$'\n   else\n-    echo \"$progname: failed program was:\" >&5\n-    cat conftest.c >&5\n+    lt_cv_deplibs_check_method='match_pattern /lib[^/\\.]+\\.so$'\n   fi\n-  rm -rf conftest*\n+  ;;\n \n-  # Do not use the global_symbol_pipe unless it works.\n-  if test \"$ac_pipe_works\" = yes; then\n-    if test x\"$ac_symprfx\" = x\"_\"; then\n-      ac_cv_sys_symbol_underscore=yes\n-    else\n-      ac_cv_sys_symbol_underscore=no\n-    fi\n-    break\n-  else\n-    ac_cv_sys_global_symbol_pipe=\n-  fi\n-done\n+newsos6)\n+  lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (executable|dynamic lib)'\n+  lt_cv_file_magic_cmd=/usr/bin/file\n+  lt_cv_file_magic_test_file=/usr/lib/libnls.so\n+  ;;\n \n-fi\n+osf3* | osf4* | osf5*)\n+  # this will be overridden with pass_all, but let us keep it just in case\n+  lt_cv_deplibs_check_method='file_magic COFF format alpha shared library'\n+  lt_cv_file_magic_test_file=/shlib/libc.so\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n \n+sco3.2v5*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n \n-ac_result=yes\n-if test -z \"$ac_cv_sys_global_symbol_pipe\"; then\n-   ac_result=no\n-fi\n-echo \"$ac_t\"\"$ac_result\" 1>&6\n+solaris*)\n+  lt_cv_deplibs_check_method=pass_all\n+  lt_cv_file_magic_test_file=/lib/libc.so\n+  ;;\n \n-echo $ac_n \"checking for _ prefix in compiled symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:1620: checking for _ prefix in compiled symbols\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_sys_symbol_underscore'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  ac_cv_sys_symbol_underscore=no\n-cat > conftest.$ac_ext <<EOF\n-void nm_test_func(){}\n-int main(){nm_test_func;return 0;}\n-EOF\n-if { (eval echo configure:1629: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n-  # Now try to grab the symbols.\n-  ac_nlist=conftest.nm\n-  if { (eval echo configure:1632: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n-    # See whether the symbols have a leading underscore.\n-    if egrep '^. _nm_test_func' \"$ac_nlist\" >/dev/null; then\n-      ac_cv_sys_symbol_underscore=yes\n-    else\n-      if egrep '^. nm_test_func ' \"$ac_nlist\" >/dev/null; then\n-\t:\n-      else\n-\techo \"configure: cannot find nm_test_func in $ac_nlist\" >&5\n-      fi\n-    fi\n-  else\n-    echo \"configure: cannot run $ac_cv_sys_global_symbol_pipe\" >&5\n-  fi\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.c >&5\n-fi\n-rm -rf conftest*\n+sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)\n+  case $host_vendor in\n+  ncr)\n+    lt_cv_deplibs_check_method=pass_all\n+    ;;\n+  motorola)\n+    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib) M[0-9][0-9]* Version [0-9]'\n+    lt_cv_file_magic_test_file=`echo /usr/lib/libc.so*`\n+    ;;\n+  esac\n+  ;;\n+esac\n \n fi\n \n-echo \"$ac_t\"\"$ac_cv_sys_symbol_underscore\" 1>&6\n-USE_SYMBOL_UNDERSCORE=${ac_cv_sys_symbol_underscore=no}\n+echo \"$ac_t\"\"$lt_cv_deplibs_check_method\" 1>&6\n+file_magic_cmd=$lt_cv_file_magic_cmd\n+deplibs_check_method=$lt_cv_deplibs_check_method\n \n-echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1658: checking whether ln -s works\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n+echo $ac_n \"checking for object suffix\"\"... $ac_c\" 1>&6\n+echo \"configure:1630: checking for object suffix\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_objext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  rm -f conftestdata\n-if ln -s X conftestdata 2>/dev/null\n-then\n-  rm -f conftestdata\n-  ac_cv_prog_LN_S=\"ln -s\"\n+  rm -f conftest*\n+echo 'int i = 1;' > conftest.$ac_ext\n+if { (eval echo configure:1636: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  for ac_file in conftest.*; do\n+    case $ac_file in\n+    *.c) ;;\n+    *) ac_cv_objext=`echo $ac_file | sed -e s/conftest.//` ;;\n+    esac\n+  done\n else\n-  ac_cv_prog_LN_S=ln\n-fi\n+  { echo \"configure: error: installation or configuration problem; compiler does not work\" 1>&2; exit 1; }\n fi\n-LN_S=\"$ac_cv_prog_LN_S\"\n-if test \"$ac_cv_prog_LN_S\" = \"ln -s\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n+rm -f conftest*\n fi\n \n+echo \"$ac_t\"\"$ac_cv_objext\" 1>&6\n+OBJEXT=$ac_cv_objext\n+ac_objext=$ac_cv_objext\n+\n if test $host != $build; then\n   ac_tool_prefix=${host_alias}-\n else\n   ac_tool_prefix=\n fi\n \n+# Autoconf 2.13's AC_OBJEXT and AC_EXEEXT macros only works for C compilers!\n \n-# Check for any special flags to pass to ltconfig.\n-libtool_flags=\"--cache-file=$cache_file\"\n-test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n-test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n-test \"$enable_fast_install\" = no && libtool_flags=\"$libtool_flags --disable-fast-install\"\n-test \"$lt_dlopen\" = yes && libtool_flags=\"$libtool_flags --enable-dlopen\"\n-test \"$silent\" = yes && libtool_flags=\"$libtool_flags --silent\"\n-test \"$ac_cv_prog_gcc\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n-test \"$ac_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n+# Only perform the check for file, if the check method requires it\n+case $deplibs_check_method in\n+file_magic*)\n+  if test \"$file_magic_cmd\" = '$MAGIC_CMD'; then\n+    echo $ac_n \"checking for ${ac_tool_prefix}file\"\"... $ac_c\" 1>&6\n+echo \"configure:1666: checking for ${ac_tool_prefix}file\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_path_MAGIC_CMD'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  case $MAGIC_CMD in\n+  /*)\n+  lt_cv_path_MAGIC_CMD=\"$MAGIC_CMD\" # Let the user override the test with a path.\n+  ;;\n+  ?:/*)\n+  lt_cv_path_MAGIC_CMD=\"$MAGIC_CMD\" # Let the user override the test with a dos path.\n+  ;;\n+  *)\n+  ac_save_MAGIC_CMD=\"$MAGIC_CMD\"\n+  IFS=\"${IFS=   }\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"/usr/bin:$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/${ac_tool_prefix}file; then\n+      lt_cv_path_MAGIC_CMD=\"$ac_dir/${ac_tool_prefix}file\"\n+      if test -n \"$file_magic_test_file\"; then\n+\tcase $deplibs_check_method in\n+\t\"file_magic \"*)\n+\t  file_magic_regex=\"`expr \\\"$deplibs_check_method\\\" : \\\"file_magic \\(.*\\)\\\"`\"\n+\t  MAGIC_CMD=\"$lt_cv_path_MAGIC_CMD\"\n+\t  if eval $file_magic_cmd \\$file_magic_test_file 2> /dev/null |\n+\t    egrep \"$file_magic_regex\" > /dev/null; then\n+\t    :\n+\t  else\n+\t    cat <<EOF 1>&2\n \n-# Some flags need to be propagated to the compiler or linker for good\n-# libtool support.\n-case \"$host\" in\n-*-*-irix6*)\n-  # Find out which ABI we are using.\n-  echo '#line 1700 \"configure\"' > conftest.$ac_ext\n-  if { (eval echo configure:1701: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n-    case \"`/usr/bin/file conftest.o`\" in\n-    *32-bit*)\n-      LD=\"${LD-ld} -32\"\n-      ;;\n-    *N32*)\n-      LD=\"${LD-ld} -n32\"\n-      ;;\n-    *64-bit*)\n-      LD=\"${LD-ld} -64\"\n-      ;;\n-    esac\n-  fi\n-  rm -rf conftest*\n+*** Warning: the command libtool uses to detect shared libraries,\n+*** $file_magic_cmd, produces output that libtool cannot recognize.\n+*** The result is that libtool may fail to recognize shared libraries\n+*** as such.  This will affect the creation of libtool libraries that\n+*** depend on shared libraries, but programs linked with such libtool\n+*** libraries will work regardless of this problem.  Nevertheless, you\n+*** may want to report the problem to your system manager and/or to\n+*** bug-libtool@gnu.org\n+\n+EOF\n+\t  fi ;;\n+\tesac\n+      fi\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  MAGIC_CMD=\"$ac_save_MAGIC_CMD\"\n   ;;\n+esac\n+fi\n \n-*-*-sco3.2v5*)\n-  # On SCO OpenServer 5, we need -belf to get full-featured binaries.\n-  SAVE_CFLAGS=\"$CFLAGS\"\n-  CFLAGS=\"$CFLAGS -belf\"\n-  echo $ac_n \"checking whether the C compiler needs -belf\"\"... $ac_c\" 1>&6\n-echo \"configure:1722: checking whether the C compiler needs -belf\" >&5\n-if eval \"test \\\"`echo '$''{'lt_cv_cc_needs_belf'+set}'`\\\" = set\"; then\n+MAGIC_CMD=\"$lt_cv_path_MAGIC_CMD\"\n+if test -n \"$MAGIC_CMD\"; then\n+  echo \"$ac_t\"\"$MAGIC_CMD\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+if test -z \"$lt_cv_path_MAGIC_CMD\"; then\n+  if test -n \"$ac_tool_prefix\"; then\n+    echo $ac_n \"checking for file\"\"... $ac_c\" 1>&6\n+echo \"configure:1728: checking for file\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_path_MAGIC_CMD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  cat > conftest.$ac_ext <<EOF\n-#line 1727 \"configure\"\n-#include \"confdefs.h\"\n+  case $MAGIC_CMD in\n+  /*)\n+  lt_cv_path_MAGIC_CMD=\"$MAGIC_CMD\" # Let the user override the test with a path.\n+  ;;\n+  ?:/*)\n+  lt_cv_path_MAGIC_CMD=\"$MAGIC_CMD\" # Let the user override the test with a dos path.\n+  ;;\n+  *)\n+  ac_save_MAGIC_CMD=\"$MAGIC_CMD\"\n+  IFS=\"${IFS=   }\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"/usr/bin:$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/file; then\n+      lt_cv_path_MAGIC_CMD=\"$ac_dir/file\"\n+      if test -n \"$file_magic_test_file\"; then\n+\tcase $deplibs_check_method in\n+\t\"file_magic \"*)\n+\t  file_magic_regex=\"`expr \\\"$deplibs_check_method\\\" : \\\"file_magic \\(.*\\)\\\"`\"\n+\t  MAGIC_CMD=\"$lt_cv_path_MAGIC_CMD\"\n+\t  if eval $file_magic_cmd \\$file_magic_test_file 2> /dev/null |\n+\t    egrep \"$file_magic_regex\" > /dev/null; then\n+\t    :\n+\t  else\n+\t    cat <<EOF 1>&2\n \n-int main() {\n+*** Warning: the command libtool uses to detect shared libraries,\n+*** $file_magic_cmd, produces output that libtool cannot recognize.\n+*** The result is that libtool may fail to recognize shared libraries\n+*** as such.  This will affect the creation of libtool libraries that\n+*** depend on shared libraries, but programs linked with such libtool\n+*** libraries will work regardless of this problem.  Nevertheless, you\n+*** may want to report the problem to your system manager and/or to\n+*** bug-libtool@gnu.org\n \n-; return 0; }\n EOF\n-if { (eval echo configure:1734: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n-  rm -rf conftest*\n-  lt_cv_cc_needs_belf=yes\n+\t  fi ;;\n+\tesac\n+      fi\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  MAGIC_CMD=\"$ac_save_MAGIC_CMD\"\n+  ;;\n+esac\n+fi\n+\n+MAGIC_CMD=\"$lt_cv_path_MAGIC_CMD\"\n+if test -n \"$MAGIC_CMD\"; then\n+  echo \"$ac_t\"\"$MAGIC_CMD\" 1>&6\n else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  lt_cv_cc_needs_belf=no\n+  echo \"$ac_t\"\"no\" 1>&6\n fi\n-rm -f conftest*\n+\n+  else\n+    MAGIC_CMD=:\n+  fi\n fi\n \n-echo \"$ac_t\"\"$lt_cv_cc_needs_belf\" 1>&6\n-  if test x\"$lt_cv_cc_needs_belf\" != x\"yes\"; then\n-    # this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf\n-    CFLAGS=\"$SAVE_CFLAGS\"\n   fi\n   ;;\n+esac\n \n-*-*-cygwin*)\n-  # Extract the first word of \"${ac_tool_prefix}dlltool\", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}dlltool; ac_word=$2\n+# Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1757: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n+echo \"configure:1799: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  if test -n \"$DLLTOOL\"; then\n-  ac_cv_prog_DLLTOOL=\"$DLLTOOL\" # Let the user override the test.\n+  if test -n \"$RANLIB\"; then\n+  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n   ac_dummy=\"$PATH\"\n   for ac_dir in $ac_dummy; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_DLLTOOL=\"${ac_tool_prefix}dlltool\"\n+      ac_cv_prog_RANLIB=\"${ac_tool_prefix}ranlib\"\n       break\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n fi\n fi\n-DLLTOOL=\"$ac_cv_prog_DLLTOOL\"\n-if test -n \"$DLLTOOL\"; then\n-  echo \"$ac_t\"\"$DLLTOOL\" 1>&6\n+RANLIB=\"$ac_cv_prog_RANLIB\"\n+if test -n \"$RANLIB\"; then\n+  echo \"$ac_t\"\"$RANLIB\" 1>&6\n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n \n-if test -z \"$ac_cv_prog_DLLTOOL\"; then\n+if test -z \"$ac_cv_prog_RANLIB\"; then\n if test -n \"$ac_tool_prefix\"; then\n-  # Extract the first word of \"dlltool\", so it can be a program name with args.\n-set dummy dlltool; ac_word=$2\n+  # Extract the first word of \"ranlib\", so it can be a program name with args.\n+set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1789: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n+echo \"configure:1831: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  if test -n \"$DLLTOOL\"; then\n-  ac_cv_prog_DLLTOOL=\"$DLLTOOL\" # Let the user override the test.\n+  if test -n \"$RANLIB\"; then\n+  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n   ac_dummy=\"$PATH\"\n   for ac_dir in $ac_dummy; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_DLLTOOL=\"dlltool\"\n+      ac_cv_prog_RANLIB=\"ranlib\"\n       break\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n-  test -z \"$ac_cv_prog_DLLTOOL\" && ac_cv_prog_DLLTOOL=\"false\"\n+  test -z \"$ac_cv_prog_RANLIB\" && ac_cv_prog_RANLIB=\":\"\n fi\n fi\n-DLLTOOL=\"$ac_cv_prog_DLLTOOL\"\n-if test -n \"$DLLTOOL\"; then\n-  echo \"$ac_t\"\"$DLLTOOL\" 1>&6\n+RANLIB=\"$ac_cv_prog_RANLIB\"\n+if test -n \"$RANLIB\"; then\n+  echo \"$ac_t\"\"$RANLIB\" 1>&6\n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n else\n-  DLLTOOL=\"false\"\n+  RANLIB=\":\"\n fi\n fi\n \n-# Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}as; ac_word=$2\n+# Extract the first word of \"${ac_tool_prefix}strip\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}strip; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1824: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n+echo \"configure:1866: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  if test -n \"$AS\"; then\n-  ac_cv_prog_AS=\"$AS\" # Let the user override the test.\n+  if test -n \"$STRIP\"; then\n+  ac_cv_prog_STRIP=\"$STRIP\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n   ac_dummy=\"$PATH\"\n   for ac_dir in $ac_dummy; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_AS=\"${ac_tool_prefix}as\"\n+      ac_cv_prog_STRIP=\"${ac_tool_prefix}strip\"\n       break\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n fi\n fi\n-AS=\"$ac_cv_prog_AS\"\n-if test -n \"$AS\"; then\n-  echo \"$ac_t\"\"$AS\" 1>&6\n+STRIP=\"$ac_cv_prog_STRIP\"\n+if test -n \"$STRIP\"; then\n+  echo \"$ac_t\"\"$STRIP\" 1>&6\n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n \n-if test -z \"$ac_cv_prog_AS\"; then\n+if test -z \"$ac_cv_prog_STRIP\"; then\n if test -n \"$ac_tool_prefix\"; then\n-  # Extract the first word of \"as\", so it can be a program name with args.\n-set dummy as; ac_word=$2\n+  # Extract the first word of \"strip\", so it can be a program name with args.\n+set dummy strip; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1856: checking for $ac_word\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n+echo \"configure:1898: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  if test -n \"$AS\"; then\n-  ac_cv_prog_AS=\"$AS\" # Let the user override the test.\n+  if test -n \"$STRIP\"; then\n+  ac_cv_prog_STRIP=\"$STRIP\" # Let the user override the test.\n else\n   IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n   ac_dummy=\"$PATH\"\n   for ac_dir in $ac_dummy; do\n     test -z \"$ac_dir\" && ac_dir=.\n     if test -f $ac_dir/$ac_word; then\n-      ac_cv_prog_AS=\"as\"\n+      ac_cv_prog_STRIP=\"strip\"\n       break\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n-  test -z \"$ac_cv_prog_AS\" && ac_cv_prog_AS=\"false\"\n+  test -z \"$ac_cv_prog_STRIP\" && ac_cv_prog_STRIP=\":\"\n fi\n fi\n-AS=\"$ac_cv_prog_AS\"\n-if test -n \"$AS\"; then\n-  echo \"$ac_t\"\"$AS\" 1>&6\n+STRIP=\"$ac_cv_prog_STRIP\"\n+if test -n \"$STRIP\"; then\n+  echo \"$ac_t\"\"$STRIP\" 1>&6\n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n else\n-  AS=\"false\"\n+  STRIP=\":\"\n fi\n fi\n \n \n-  ;;\n-\n-esac\n+# Check for any special flags to pass to ltconfig.\n+libtool_flags=\"--cache-file=$cache_file\"\n+test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n+test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n+test \"$enable_fast_install\" = no && libtool_flags=\"$libtool_flags --disable-fast-install\"\n+test \"$GCC\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n+test \"$lt_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n \n-# enable the --disable-libtool-lock switch\n \n # Check whether --enable-libtool-lock or --disable-libtool-lock was given.\n if test \"${enable_libtool_lock+set}\" = set; then\n   enableval=\"$enable_libtool_lock\"\n-  need_locks=$enableval\n+  :\n+fi\n+\n+test \"x$enable_libtool_lock\" = xno && libtool_flags=\"$libtool_flags --disable-lock\"\n+test x\"$silent\" = xyes && libtool_flags=\"$libtool_flags --silent\"\n+\n+# Check whether --with-pic or --without-pic was given.\n+if test \"${with_pic+set}\" = set; then\n+  withval=\"$with_pic\"\n+  pic_mode=\"$withval\"\n else\n-  need_locks=yes\n+  pic_mode=default\n fi\n \n+test x\"$pic_mode\" = xyes && libtool_flags=\"$libtool_flags --prefer-pic\"\n+test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n+\n+# Some flags need to be propagated to the compiler or linker for good\n+# libtool support.\n+case $host in\n+*-*-irix6*)\n+  # Find out which ABI we are using.\n+  echo '#line 1965 \"configure\"' > conftest.$ac_ext\n+  if { (eval echo configure:1966: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+    case `/usr/bin/file conftest.$ac_objext` in\n+    *32-bit*)\n+      LD=\"${LD-ld} -32\"\n+      ;;\n+    *N32*)\n+      LD=\"${LD-ld} -n32\"\n+      ;;\n+    *64-bit*)\n+      LD=\"${LD-ld} -64\"\n+      ;;\n+    esac\n+  fi\n+  rm -rf conftest*\n+  ;;\n \n-if test x\"$need_locks\" = xno; then\n-  libtool_flags=\"$libtool_flags --disable-lock\"\n+*-*-sco3.2v5*)\n+  # On SCO OpenServer 5, we need -belf to get full-featured binaries.\n+  SAVE_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\"$CFLAGS -belf\"\n+  echo $ac_n \"checking whether the C compiler needs -belf\"\"... $ac_c\" 1>&6\n+echo \"configure:1987: checking whether the C compiler needs -belf\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_cc_needs_belf'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  \n+     ac_ext=c\n+# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n+ac_cpp='$CPP $CPPFLAGS'\n+ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'\n+ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'\n+cross_compiling=$ac_cv_prog_cc_cross\n+\n+     cat > conftest.$ac_ext <<EOF\n+#line 2000 \"configure\"\n+#include \"confdefs.h\"\n+\n+int main() {\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:2007: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  lt_cv_cc_needs_belf=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  lt_cv_cc_needs_belf=no\n fi\n+rm -f conftest*\n+     ac_ext=c\n+# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n+ac_cpp='$CPP $CPPFLAGS'\n+ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'\n+ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'\n+cross_compiling=$ac_cv_prog_cc_cross\n+\n+fi\n+\n+echo \"$ac_t\"\"$lt_cv_cc_needs_belf\" 1>&6\n+  if test x\"$lt_cv_cc_needs_belf\" != x\"yes\"; then\n+    # this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf\n+    CFLAGS=\"$SAVE_CFLAGS\"\n+  fi\n+  ;;\n+\n+\n+esac\n \n \n # Save cache, so that ltconfig can load it\n@@ -1955,11 +2083,14 @@ rm -f confcache\n \n \n # Actually configure libtool.  ac_aux_dir is where install-sh is found.\n-CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n-LD=\"$LD\" NM=\"$NM\" RANLIB=\"$RANLIB\" LN_S=\"$LN_S\" \\\n-DLLTOOL=\"$DLLTOOL\" AS=\"$AS\" \\\n+AR=\"$AR\" LTCC=\"$CC\" CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n+MAGIC_CMD=\"$MAGIC_CMD\" LD=\"$LD\" LDFLAGS=\"$LDFLAGS\" LIBS=\"$LIBS\" \\\n+LN_S=\"$LN_S\" NM=\"$NM\" RANLIB=\"$RANLIB\" STRIP=\"$STRIP\" \\\n+AS=\"$AS\" DLLTOOL=\"$DLLTOOL\" OBJDUMP=\"$OBJDUMP\" \\\n+objext=\"$OBJEXT\" exeext=\"$EXEEXT\" reload_flag=\"$reload_flag\" \\\n+deplibs_check_method=\"$deplibs_check_method\" file_magic_cmd=\"$file_magic_cmd\" \\\n ${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n-$libtool_flags --no-verify $ac_aux_dir/ltmain.sh $host \\\n+$libtool_flags --no-verify --build=\"$build\" $ac_aux_dir/ltmain.sh $host \\\n || { echo \"configure: error: libtool configure failed\" 1>&2; exit 1; }\n \n # Reload cache, that may have been modified by ltconfig\n@@ -1973,7 +2104,7 @@ fi\n \n \n # This can be used to rebuild libtool when needed\n-LIBTOOL_DEPS=\"$ac_aux_dir/ltconfig $ac_aux_dir/ltmain.sh\"\n+LIBTOOL_DEPS=\"$ac_aux_dir/ltconfig $ac_aux_dir/ltmain.sh $ac_aux_dir/ltcf-c.sh\"\n \n # Always use our own libtool.\n LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n@@ -1982,6 +2113,11 @@ LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n # clobbered by the next message.\n exec 5>>./config.log\n \n+  \n+\n+  \n+\t \n+\t \n \n if test -z \"$with_target_subdir\" || test \"$with_target_subdir\" = \".\"; then\n    COMPPATH=.\n@@ -1993,7 +2129,7 @@ fi\n # Find CPP now so that any conditional tests below won't do it and\n # thereby make the resulting definitions conditional.\n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1997: checking how to run the C preprocessor\" >&5\n+echo \"configure:2133: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -2008,13 +2144,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 2012 \"configure\"\n+#line 2148 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2018: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2154: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2025,13 +2161,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2029 \"configure\"\n+#line 2165 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2035: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2171: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2042,13 +2178,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2046 \"configure\"\n+#line 2182 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2052: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2188: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2096,17 +2232,17 @@ else\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2100: checking for $ac_hdr\" >&5\n+echo \"configure:2236: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2105 \"configure\"\n+#line 2241 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2110: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2246: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2135,12 +2271,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2139: checking for $ac_func\" >&5\n+echo \"configure:2275: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2144 \"configure\"\n+#line 2280 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2163,7 +2299,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2167: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2303: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2188,15 +2324,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:2192: checking for working mmap\" >&5\n+echo \"configure:2328: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2200 \"configure\"\n+#line 2336 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -2336,7 +2472,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:2340: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2476: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -2361,12 +2497,12 @@ fi\n    for ac_func in memcpy strerror\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2365: checking for $ac_func\" >&5\n+echo \"configure:2501: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2370 \"configure\"\n+#line 2506 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2389,7 +2525,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2393: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2529: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2416,15 +2552,15 @@ done\n \n    if test \"$with_system_zlib\" = yes; then\n       echo $ac_n \"checking for deflate in -lz\"\"... $ac_c\" 1>&6\n-echo \"configure:2420: checking for deflate in -lz\" >&5\n+echo \"configure:2556: checking for deflate in -lz\" >&5\n ac_lib_var=`echo z'_'deflate | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lz  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 2428 \"configure\"\n+#line 2564 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -2435,7 +2571,7 @@ int main() {\n deflate()\n ; return 0; }\n EOF\n-if { (eval echo configure:2439: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2575: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -2467,17 +2603,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2471: checking for $ac_hdr\" >&5\n+echo \"configure:2607: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2476 \"configure\"\n+#line 2612 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2481: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2617: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2674,6 +2810,7 @@ s%@includedir@%$includedir%g\n s%@oldincludedir@%$oldincludedir%g\n s%@infodir@%$infodir%g\n s%@mandir@%$mandir%g\n+s%@zlib_basedir@%$zlib_basedir%g\n s%@host@%$host%g\n s%@host_alias@%$host_alias%g\n s%@host_cpu@%$host_cpu%g\n@@ -2703,16 +2840,12 @@ s%@SET_MAKE@%$SET_MAKE%g\n s%@MAINTAINER_MODE_TRUE@%$MAINTAINER_MODE_TRUE%g\n s%@MAINTAINER_MODE_FALSE@%$MAINTAINER_MODE_FALSE%g\n s%@MAINT@%$MAINT%g\n-s%@zlib_basedir@%$zlib_basedir%g\n s%@CC@%$CC%g\n s%@EXEEXT@%$EXEEXT%g\n-s%@RANLIB@%$RANLIB%g\n-s%@LD@%$LD%g\n-s%@NM@%$NM%g\n-s%@USE_SYMBOL_UNDERSCORE@%$USE_SYMBOL_UNDERSCORE%g\n s%@LN_S@%$LN_S%g\n-s%@DLLTOOL@%$DLLTOOL%g\n-s%@AS@%$AS%g\n+s%@OBJEXT@%$OBJEXT%g\n+s%@RANLIB@%$RANLIB%g\n+s%@STRIP@%$STRIP%g\n s%@LIBTOOL@%$LIBTOOL%g\n s%@COMPPATH@%$COMPPATH%g\n s%@CPP@%$CPP%g"}, {"sha": "1654410017489bbefc29fc2a6c5924c213d61131", "filename": "zlib/configure.in", "status": "modified", "additions": 22, "deletions": 17, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91/zlib%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fd91e0afb4dfd01825ba1e9392c9759b86c1a91/zlib%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2Fconfigure.in?ref=0fd91e0afb4dfd01825ba1e9392c9759b86c1a91", "patch": "@@ -1,13 +1,33 @@\n dnl Process this with autoconf to create configure\n \n AC_INIT(zlib.h)\n+\n+dnl We may get other options which we dont document:\n+dnl --with-target-subdir, --with-multisrctop, --with-multisubdir\n+\n+if test \"x[$]{with_target_subdir}\" != x && \\\n+   test \"[$]{srcdir}\" = \".\"; then\n+  if test \"[$]{with_target_subdir}\" != \".\"; then\n+    zlib_basedir=\"[$]{srcdir}/[$]{with_multisrctop}../\"\n+  else\n+    zlib_basedir=\"[$]{srcdir}/[$]{with_multisrctop}\"\n+  fi\n+else\n+  zlib_basedir=\"[$]{srcdir}/\"\n+fi\n+AC_SUBST(zlib_basedir)\n+AC_CONFIG_AUX_DIR($zlib_basedir..)\n+if :; then :; else\n+  # This overrides the previous occurrence for automake, but not for\n+  # autoconf, which is exactly what we want.\n+  AC_CONFIG_AUX_DIR(..)\n+fi\n+\n AC_CANONICAL_SYSTEM\n AM_INIT_AUTOMAKE(zlib, 1.1.3)\n \n AM_MAINTAINER_MODE\n \n-AC_CONFIG_AUX_DIR(..)\n-\n dnl We use these options to decide which functions to include.\n AC_ARG_WITH(target-subdir,\n [  --with-target-subdir=SUBDIR\n@@ -24,21 +44,6 @@ AC_ARG_ENABLE(multilib,\n   *)   AC_MSG_ERROR(bad value ${enableval} for multilib option) ;;\n  esac], [test -z \"$with_target_subdir\" && multilib=no || multilib=yes])dnl\n \n-dnl We may get other options which we dont document:\n-dnl --with-target-subdir, --with-multisrctop, --with-multisubdir\n-\n-if test \"x[$]{with_target_subdir}\" != x && \\\n-   test \"[$]{srcdir}\" = \".\"; then\n-  if test \"[$]{with_target_subdir}\" != \".\"; then\n-    zlib_basedir=\"[$]{srcdir}/[$]{with_multisrctop}../\"\n-  else\n-    zlib_basedir=\"[$]{srcdir}/[$]{with_multisrctop}\"\n-  fi\n-else\n-  zlib_basedir=\"[$]{srcdir}/\"\n-fi\n-AC_SUBST(zlib_basedir)\n-\n AC_ARG_WITH(system-zlib,\n [  --with-system-zlib      use installed libz])\n "}]}