{"sha": "03b8fe495d716c004f5491eb2347537f115ab2d8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDNiOGZlNDk1ZDcxNmMwMDRmNTQ5MWViMjM0NzUzN2YxMTVhYjJkOA==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2006-01-25T19:17:57Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2006-01-25T19:17:57Z"}, "message": "re PR libgomp/25884 (libgomp should not require perl to compile)\n\n        PR libgomp/25884\n        * Makefile.am (omp.h, omp_lib.h, omp_lib.f90, libgomp_f.h): Remove.\n        * configure.ac (PERL): Don't set.\n        (gstdint.h, omp.h, omp_lib.h, omp_lib.f90, libgomp_f.h): Create here.\n        (OMP_LOCK_SIZE, OMP_LOCK_ALIGN, OMP_LOCK_KIND, OMP_NEST_LOCK_SIZE,\n        OMP_NEST_LOCK_ALIGN, OMP_NEST_LOCK_KIND): New substitutions.\n        * omp.h.in: Wrap the new configure substitutions with @ characters.\n        * omp_lib.h.in, omp_lib.f90.in, libgomp_f.h.in: Likewise.\n        * aclocal.m4, configure, Makefile.in: Regenerate.\n        * mkomp_h.pl: Delete.\n\nFrom-SVN: r110220", "tree": {"sha": "3ed40bb4cdbf2ad9a5a53d51d9e40585078f01cf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3ed40bb4cdbf2ad9a5a53d51d9e40585078f01cf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/03b8fe495d716c004f5491eb2347537f115ab2d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03b8fe495d716c004f5491eb2347537f115ab2d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03b8fe495d716c004f5491eb2347537f115ab2d8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03b8fe495d716c004f5491eb2347537f115ab2d8/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b8795eddf5bebda36a22098be7b7810a7f6f2185", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8795eddf5bebda36a22098be7b7810a7f6f2185", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8795eddf5bebda36a22098be7b7810a7f6f2185"}], "stats": {"total": 1616, "additions": 1454, "deletions": 162}, "files": [{"sha": "ef470ec1123cf5928eddf026830f14dd09b709c8", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=03b8fe495d716c004f5491eb2347537f115ab2d8", "patch": "@@ -1,3 +1,16 @@\n+2005-01-25  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tPR libgomp/25884\n+        * Makefile.am (omp.h, omp_lib.h, omp_lib.f90, libgomp_f.h): Remove.\n+        * configure.ac (PERL): Don't set.\n+        (gstdint.h, omp.h, omp_lib.h, omp_lib.f90, libgomp_f.h): Create here.\n+        (OMP_LOCK_SIZE, OMP_LOCK_ALIGN, OMP_LOCK_KIND, OMP_NEST_LOCK_SIZE,\n+        OMP_NEST_LOCK_ALIGN, OMP_NEST_LOCK_KIND): New substitutions.\n+        * omp.h.in: Wrap the new configure substitutions with @ characters.\n+        * omp_lib.h.in, omp_lib.f90.in, libgomp_f.h.in: Likewise.\n+        * aclocal.m4, configure, Makefile.in: Regenerate.\n+        * mkomp_h.pl: Delete.\n+\n 2005-01-24  Paolo Bonzini  <bonzini@gnu.org>\n \n \tPR libgomp/25259"}, {"sha": "55f9373037525d9a2373a0b5ded138b1e41d48ee", "filename": "libgomp/Makefile.am", "status": "modified", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FMakefile.am?ref=03b8fe495d716c004f5491eb2347537f115ab2d8", "patch": "@@ -38,17 +38,6 @@ if USE_FORTRAN\n nodist_include_HEADERS += omp_lib.mod omp_lib_kinds.mod\n endif\n \n-omp.h: omp.h.in mkomp_h.pl\n-\t$(PERL) -w $(srcdir)/mkomp_h.pl \"$(COMPILE)\" $(srcdir)/omp.h.in omp.h\n-omp_lib.h: omp_lib.h.in mkomp_h.pl\n-\t$(PERL) -w $(srcdir)/mkomp_h.pl \"$(COMPILE)\" $(srcdir)/omp_lib.h.in \\\n-\tomp_lib.h\n-omp_lib.f90: omp_lib.f90.in mkomp_h.pl\n-\t$(PERL) -w $(srcdir)/mkomp_h.pl \"$(COMPILE)\" $(srcdir)/omp_lib.f90.in \\\n-\tomp_lib.f90\n-libgomp_f.h: libgomp_f.h.in mkomp_h.pl\n-\t$(PERL) -w $(srcdir)/mkomp_h.pl \"$(COMPILE)\" $(srcdir)/libgomp_f.h.in \\\n-\tlibgomp_f.h\n omp_lib_kinds.mod: omp_lib.mod\n \t:\n omp_lib.mod: omp_lib.f90"}, {"sha": "e607c5a19ad4d0d4438cf57ffc4c9c171e825dbb", "filename": "libgomp/Makefile.in", "status": "modified", "additions": 18, "deletions": 12, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FMakefile.in?ref=03b8fe495d716c004f5491eb2347537f115ab2d8", "patch": "@@ -46,6 +46,8 @@ DIST_COMMON = $(am__configure_deps) $(srcdir)/../config.guess \\\n \t$(srcdir)/../missing $(srcdir)/../mkinstalldirs \\\n \t$(srcdir)/Makefile.am $(srcdir)/Makefile.in \\\n \t$(srcdir)/config.h.in $(srcdir)/libgomp.spec.in \\\n+\t$(srcdir)/libgomp_f.h.in $(srcdir)/omp.h.in \\\n+\t$(srcdir)/omp_lib.f90.in $(srcdir)/omp_lib.h.in \\\n \t$(top_srcdir)/configure ChangeLog\n subdir = .\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n@@ -59,7 +61,8 @@ am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \\\n  configure.lineno configure.status.lineno\n mkinstalldirs = $(SHELL) $(top_srcdir)/../mkinstalldirs\n CONFIG_HEADER = config.h\n-CONFIG_CLEAN_FILES = libgomp.spec\n+CONFIG_CLEAN_FILES = omp.h omp_lib.h omp_lib.f90 libgomp_f.h \\\n+\tlibgomp.spec\n am__vpath_adj_setup = srcdirstrip=`echo \"$(srcdir)\" | sed 's|.|.|g'`;\n am__vpath_adj = case $$p in \\\n     $(srcdir)/*) f=`echo \"$$p\" | sed \"s|^$$srcdirstrip/||\"`;; \\\n@@ -161,6 +164,12 @@ MAINTAINER_MODE_FALSE = @MAINTAINER_MODE_FALSE@\n MAINTAINER_MODE_TRUE = @MAINTAINER_MODE_TRUE@\n MAKEINFO = @MAKEINFO@\n OBJEXT = @OBJEXT@\n+OMP_LOCK_ALIGN = @OMP_LOCK_ALIGN@\n+OMP_LOCK_KIND = @OMP_LOCK_KIND@\n+OMP_LOCK_SIZE = @OMP_LOCK_SIZE@\n+OMP_NEST_LOCK_ALIGN = @OMP_NEST_LOCK_ALIGN@\n+OMP_NEST_LOCK_KIND = @OMP_NEST_LOCK_KIND@\n+OMP_NEST_LOCK_SIZE = @OMP_NEST_LOCK_SIZE@\n OPT_LDFLAGS = @OPT_LDFLAGS@\n PACKAGE = @PACKAGE@\n PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@\n@@ -308,6 +317,14 @@ $(srcdir)/config.h.in: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)\n \n distclean-hdr:\n \t-rm -f config.h stamp-h1\n+omp.h: $(top_builddir)/config.status $(srcdir)/omp.h.in\n+\tcd $(top_builddir) && $(SHELL) ./config.status $@\n+omp_lib.h: $(top_builddir)/config.status $(srcdir)/omp_lib.h.in\n+\tcd $(top_builddir) && $(SHELL) ./config.status $@\n+omp_lib.f90: $(top_builddir)/config.status $(srcdir)/omp_lib.f90.in\n+\tcd $(top_builddir) && $(SHELL) ./config.status $@\n+libgomp_f.h: $(top_builddir)/config.status $(srcdir)/libgomp_f.h.in\n+\tcd $(top_builddir) && $(SHELL) ./config.status $@\n libgomp.spec: $(top_builddir)/config.status $(srcdir)/libgomp.spec.in\n \tcd $(top_builddir) && $(SHELL) ./config.status $@\n install-toolexeclibLTLIBRARIES: $(toolexeclib_LTLIBRARIES)\n@@ -839,17 +856,6 @@ uninstall-info: uninstall-info-recursive\n \tuninstall-toolexeclibLTLIBRARIES\n \n \n-omp.h: omp.h.in mkomp_h.pl\n-\t$(PERL) -w $(srcdir)/mkomp_h.pl \"$(COMPILE)\" $(srcdir)/omp.h.in omp.h\n-omp_lib.h: omp_lib.h.in mkomp_h.pl\n-\t$(PERL) -w $(srcdir)/mkomp_h.pl \"$(COMPILE)\" $(srcdir)/omp_lib.h.in \\\n-\tomp_lib.h\n-omp_lib.f90: omp_lib.f90.in mkomp_h.pl\n-\t$(PERL) -w $(srcdir)/mkomp_h.pl \"$(COMPILE)\" $(srcdir)/omp_lib.f90.in \\\n-\tomp_lib.f90\n-libgomp_f.h: libgomp_f.h.in mkomp_h.pl\n-\t$(PERL) -w $(srcdir)/mkomp_h.pl \"$(COMPILE)\" $(srcdir)/libgomp_f.h.in \\\n-\tlibgomp_f.h\n omp_lib_kinds.mod: omp_lib.mod\n \t:\n omp_lib.mod: omp_lib.f90"}, {"sha": "a9438d524956778c6aa9a7458ec291337b231e1c", "filename": "libgomp/configure", "status": "modified", "additions": 1358, "deletions": 1, "changes": 1359, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure?ref=03b8fe495d716c004f5491eb2347537f115ab2d8", "patch": "@@ -308,7 +308,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar multi_basedir toolexecdir toolexeclibdir CC ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CFLAGS AR ac_ct_AR RANLIB ac_ct_RANLIB PERL LN_S LIBTOOL enable_shared enable_static MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT FC FCFLAGS LDFLAGS ac_ct_FC libtool_VERSION CPP CPPFLAGS EGREP SECTION_LDFLAGS OPT_LDFLAGS LIBGOMP_BUILD_VERSIONED_SHLIB_TRUE LIBGOMP_BUILD_VERSIONED_SHLIB_FALSE config_path XCFLAGS XLDFLAGS link_gomp USE_FORTRAN_TRUE USE_FORTRAN_FALSE LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar multi_basedir toolexecdir toolexeclibdir CC ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CFLAGS AR ac_ct_AR RANLIB ac_ct_RANLIB PERL LN_S LIBTOOL enable_shared enable_static MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT FC FCFLAGS LDFLAGS ac_ct_FC libtool_VERSION CPP CPPFLAGS EGREP SECTION_LDFLAGS OPT_LDFLAGS LIBGOMP_BUILD_VERSIONED_SHLIB_TRUE LIBGOMP_BUILD_VERSIONED_SHLIB_FALSE config_path XCFLAGS XLDFLAGS link_gomp USE_FORTRAN_TRUE USE_FORTRAN_FALSE OMP_LOCK_SIZE OMP_LOCK_ALIGN OMP_NEST_LOCK_SIZE OMP_NEST_LOCK_ALIGN OMP_LOCK_KIND OMP_NEST_LOCK_KIND LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -9480,6 +9480,1353 @@ else\n fi\n \n \n+# ??? 2006-01-24: Paulo committed to asking autoconf folk to document\n+# and export AC_COMPUTE_INT.  If that happens, then we'll need to remove\n+# the underscore here and update the PREREQ.  If it doesn't, then we'll\n+# need to copy this macro to our acinclude.m4.\n+save_CFLAGS=\"$CFLAGS\"\n+for i in $config_path; do\n+  if test -f $srcdir/config/$i/omp-lock.h; then\n+    CFLAGS=\"$CFLAGS -include $srcdir/config/$i/omp-lock.h\"\n+    break\n+  fi\n+done\n+\n+if test \"$cross_compiling\" = yes; then\n+  # Depending upon the size, compute the lo and hi bounds.\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((sizeof (omp_lock_t)) >= 0)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_lo=0 ac_mid=0\n+  while :; do\n+    cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((sizeof (omp_lock_t)) <= $ac_mid)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_hi=$ac_mid; break\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_lo=`expr $ac_mid + 1`\n+\t\t    if test $ac_lo -le $ac_mid; then\n+\t\t      ac_lo= ac_hi=\n+\t\t      break\n+\t\t    fi\n+\t\t    ac_mid=`expr 2 '*' $ac_mid + 1`\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+  done\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((sizeof (omp_lock_t)) < 0)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_hi=-1 ac_mid=-1\n+  while :; do\n+    cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((sizeof (omp_lock_t)) >= $ac_mid)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_lo=$ac_mid; break\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_hi=`expr '(' $ac_mid ')' - 1`\n+\t\t       if test $ac_mid -le $ac_hi; then\n+\t\t\t ac_lo= ac_hi=\n+\t\t\t break\n+\t\t       fi\n+\t\t       ac_mid=`expr 2 '*' $ac_mid`\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+  done\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_lo= ac_hi=\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+# Binary search between lo and hi bounds.\n+while test \"x$ac_lo\" != \"x$ac_hi\"; do\n+  ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((sizeof (omp_lock_t)) <= $ac_mid)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_hi=$ac_mid\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_lo=`expr '(' $ac_mid ')' + 1`\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+done\n+case $ac_lo in\n+?*) OMP_LOCK_SIZE=$ac_lo;;\n+'') { { echo \"$as_me:$LINENO: error: unsupported system, cannot find sizeof (omp_lock_t)\" >&5\n+echo \"$as_me: error: unsupported system, cannot find sizeof (omp_lock_t)\" >&2;}\n+   { (exit 1); exit 1; }; } ;;\n+esac\n+else\n+  if test \"$cross_compiling\" = yes; then\n+  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&5\n+echo \"$as_me: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+else\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+long longval () { return sizeof (omp_lock_t); }\n+unsigned long ulongval () { return sizeof (omp_lock_t); }\n+#include <stdio.h>\n+#include <stdlib.h>\n+int\n+main ()\n+{\n+\n+  FILE *f = fopen (\"conftest.val\", \"w\");\n+  if (! f)\n+    exit (1);\n+  if ((sizeof (omp_lock_t)) < 0)\n+    {\n+      long i = longval ();\n+      if (i != (sizeof (omp_lock_t)))\n+\texit (1);\n+      fprintf (f, \"%ld\\n\", i);\n+    }\n+  else\n+    {\n+      unsigned long i = ulongval ();\n+      if (i != (sizeof (omp_lock_t)))\n+\texit (1);\n+      fprintf (f, \"%lu\\n\", i);\n+    }\n+  exit (ferror (f) || fclose (f) != 0);\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  OMP_LOCK_SIZE=`cat conftest.val`\n+else\n+  echo \"$as_me: program exited with status $ac_status\" >&5\n+echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+( exit $ac_status )\n+{ { echo \"$as_me:$LINENO: error: unsupported system, cannot find sizeof (omp_lock_t)\" >&5\n+echo \"$as_me: error: unsupported system, cannot find sizeof (omp_lock_t)\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+fi\n+fi\n+rm -f conftest.val\n+if test \"$cross_compiling\" = yes; then\n+  # Depending upon the size, compute the lo and hi bounds.\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((__alignof (omp_lock_t)) >= 0)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_lo=0 ac_mid=0\n+  while :; do\n+    cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((__alignof (omp_lock_t)) <= $ac_mid)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_hi=$ac_mid; break\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_lo=`expr $ac_mid + 1`\n+\t\t    if test $ac_lo -le $ac_mid; then\n+\t\t      ac_lo= ac_hi=\n+\t\t      break\n+\t\t    fi\n+\t\t    ac_mid=`expr 2 '*' $ac_mid + 1`\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+  done\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((__alignof (omp_lock_t)) < 0)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_hi=-1 ac_mid=-1\n+  while :; do\n+    cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((__alignof (omp_lock_t)) >= $ac_mid)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_lo=$ac_mid; break\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_hi=`expr '(' $ac_mid ')' - 1`\n+\t\t       if test $ac_mid -le $ac_hi; then\n+\t\t\t ac_lo= ac_hi=\n+\t\t\t break\n+\t\t       fi\n+\t\t       ac_mid=`expr 2 '*' $ac_mid`\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+  done\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_lo= ac_hi=\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+# Binary search between lo and hi bounds.\n+while test \"x$ac_lo\" != \"x$ac_hi\"; do\n+  ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((__alignof (omp_lock_t)) <= $ac_mid)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_hi=$ac_mid\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_lo=`expr '(' $ac_mid ')' + 1`\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+done\n+case $ac_lo in\n+?*) OMP_LOCK_ALIGN=$ac_lo;;\n+'')  ;;\n+esac\n+else\n+  if test \"$cross_compiling\" = yes; then\n+  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&5\n+echo \"$as_me: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+else\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+long longval () { return __alignof (omp_lock_t); }\n+unsigned long ulongval () { return __alignof (omp_lock_t); }\n+#include <stdio.h>\n+#include <stdlib.h>\n+int\n+main ()\n+{\n+\n+  FILE *f = fopen (\"conftest.val\", \"w\");\n+  if (! f)\n+    exit (1);\n+  if ((__alignof (omp_lock_t)) < 0)\n+    {\n+      long i = longval ();\n+      if (i != (__alignof (omp_lock_t)))\n+\texit (1);\n+      fprintf (f, \"%ld\\n\", i);\n+    }\n+  else\n+    {\n+      unsigned long i = ulongval ();\n+      if (i != (__alignof (omp_lock_t)))\n+\texit (1);\n+      fprintf (f, \"%lu\\n\", i);\n+    }\n+  exit (ferror (f) || fclose (f) != 0);\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  OMP_LOCK_ALIGN=`cat conftest.val`\n+else\n+  echo \"$as_me: program exited with status $ac_status\" >&5\n+echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+fi\n+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+fi\n+fi\n+rm -f conftest.val\n+if test \"$cross_compiling\" = yes; then\n+  # Depending upon the size, compute the lo and hi bounds.\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((sizeof (omp_nest_lock_t)) >= 0)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_lo=0 ac_mid=0\n+  while :; do\n+    cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((sizeof (omp_nest_lock_t)) <= $ac_mid)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_hi=$ac_mid; break\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_lo=`expr $ac_mid + 1`\n+\t\t    if test $ac_lo -le $ac_mid; then\n+\t\t      ac_lo= ac_hi=\n+\t\t      break\n+\t\t    fi\n+\t\t    ac_mid=`expr 2 '*' $ac_mid + 1`\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+  done\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((sizeof (omp_nest_lock_t)) < 0)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_hi=-1 ac_mid=-1\n+  while :; do\n+    cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((sizeof (omp_nest_lock_t)) >= $ac_mid)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_lo=$ac_mid; break\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_hi=`expr '(' $ac_mid ')' - 1`\n+\t\t       if test $ac_mid -le $ac_hi; then\n+\t\t\t ac_lo= ac_hi=\n+\t\t\t break\n+\t\t       fi\n+\t\t       ac_mid=`expr 2 '*' $ac_mid`\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+  done\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_lo= ac_hi=\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+# Binary search between lo and hi bounds.\n+while test \"x$ac_lo\" != \"x$ac_hi\"; do\n+  ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((sizeof (omp_nest_lock_t)) <= $ac_mid)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_hi=$ac_mid\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_lo=`expr '(' $ac_mid ')' + 1`\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+done\n+case $ac_lo in\n+?*) OMP_NEST_LOCK_SIZE=$ac_lo;;\n+'')  ;;\n+esac\n+else\n+  if test \"$cross_compiling\" = yes; then\n+  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&5\n+echo \"$as_me: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+else\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+long longval () { return sizeof (omp_nest_lock_t); }\n+unsigned long ulongval () { return sizeof (omp_nest_lock_t); }\n+#include <stdio.h>\n+#include <stdlib.h>\n+int\n+main ()\n+{\n+\n+  FILE *f = fopen (\"conftest.val\", \"w\");\n+  if (! f)\n+    exit (1);\n+  if ((sizeof (omp_nest_lock_t)) < 0)\n+    {\n+      long i = longval ();\n+      if (i != (sizeof (omp_nest_lock_t)))\n+\texit (1);\n+      fprintf (f, \"%ld\\n\", i);\n+    }\n+  else\n+    {\n+      unsigned long i = ulongval ();\n+      if (i != (sizeof (omp_nest_lock_t)))\n+\texit (1);\n+      fprintf (f, \"%lu\\n\", i);\n+    }\n+  exit (ferror (f) || fclose (f) != 0);\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  OMP_NEST_LOCK_SIZE=`cat conftest.val`\n+else\n+  echo \"$as_me: program exited with status $ac_status\" >&5\n+echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+fi\n+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+fi\n+fi\n+rm -f conftest.val\n+if test \"$cross_compiling\" = yes; then\n+  # Depending upon the size, compute the lo and hi bounds.\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((__alignof (omp_nest_lock_t)) >= 0)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_lo=0 ac_mid=0\n+  while :; do\n+    cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((__alignof (omp_nest_lock_t)) <= $ac_mid)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_hi=$ac_mid; break\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_lo=`expr $ac_mid + 1`\n+\t\t    if test $ac_lo -le $ac_mid; then\n+\t\t      ac_lo= ac_hi=\n+\t\t      break\n+\t\t    fi\n+\t\t    ac_mid=`expr 2 '*' $ac_mid + 1`\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+  done\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((__alignof (omp_nest_lock_t)) < 0)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_hi=-1 ac_mid=-1\n+  while :; do\n+    cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((__alignof (omp_nest_lock_t)) >= $ac_mid)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_lo=$ac_mid; break\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_hi=`expr '(' $ac_mid ')' - 1`\n+\t\t       if test $ac_mid -le $ac_hi; then\n+\t\t\t ac_lo= ac_hi=\n+\t\t\t break\n+\t\t       fi\n+\t\t       ac_mid=`expr 2 '*' $ac_mid`\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+  done\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_lo= ac_hi=\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+# Binary search between lo and hi bounds.\n+while test \"x$ac_lo\" != \"x$ac_hi\"; do\n+  ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !((__alignof (omp_nest_lock_t)) <= $ac_mid)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_hi=$ac_mid\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_lo=`expr '(' $ac_mid ')' + 1`\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+done\n+case $ac_lo in\n+?*) OMP_NEST_LOCK_ALIGN=$ac_lo;;\n+'')  ;;\n+esac\n+else\n+  if test \"$cross_compiling\" = yes; then\n+  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&5\n+echo \"$as_me: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+else\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+long longval () { return __alignof (omp_nest_lock_t); }\n+unsigned long ulongval () { return __alignof (omp_nest_lock_t); }\n+#include <stdio.h>\n+#include <stdlib.h>\n+int\n+main ()\n+{\n+\n+  FILE *f = fopen (\"conftest.val\", \"w\");\n+  if (! f)\n+    exit (1);\n+  if ((__alignof (omp_nest_lock_t)) < 0)\n+    {\n+      long i = longval ();\n+      if (i != (__alignof (omp_nest_lock_t)))\n+\texit (1);\n+      fprintf (f, \"%ld\\n\", i);\n+    }\n+  else\n+    {\n+      unsigned long i = ulongval ();\n+      if (i != (__alignof (omp_nest_lock_t)))\n+\texit (1);\n+      fprintf (f, \"%lu\\n\", i);\n+    }\n+  exit (ferror (f) || fclose (f) != 0);\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  OMP_NEST_LOCK_ALIGN=`cat conftest.val`\n+else\n+  echo \"$as_me: program exited with status $ac_status\" >&5\n+echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+fi\n+rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext\n+fi\n+fi\n+rm -f conftest.val\n+\n+# If the lock fits in an integer, then arrange for Fortran to use that\n+# integer.  If it doesn't, then arrange for Fortran to use a pointer.\n+# Except that we don't have a way at present to multi-lib the installed\n+# Fortran modules, so we assume 8 bytes for pointers, regardless of the\n+# actual target.\n+OMP_LOCK_KIND=$OMP_LOCK_SIZE\n+OMP_NEST_LOCK_KIND=$OMP_NEST_LOCK_SIZE\n+if test $OMP_LOCK_SIZE -gt 8 || test $OMP_LOCK_ALIGN -gt $OMP_LOCK_SIZE; then\n+  OMP_LOCK_KIND=8\n+fi\n+if test $OMP_NEST_LOCK_SIZE -gt 8 || test $OMP_NEST_LOCK_ALIGN -gt $OMP_NEST_LOCK_SIZE; then\n+  OMP_NEST_LOCK_KIND=8\n+fi\n+\n+\n+\n+\n+\n+\n+\n+CFLAGS=\"$save_CFLAGS\"\n+\n+                                        ac_config_files=\"$ac_config_files omp.h omp_lib.h omp_lib.f90 libgomp_f.h\"\n+\n                               ac_config_files=\"$ac_config_files Makefile testsuite/Makefile libgomp.spec\"\n \n cat >confcache <<\\_ACEOF\n@@ -10081,6 +11428,10 @@ for ac_config_target in $ac_config_targets\n do\n   case \"$ac_config_target\" in\n   # Handling of arguments.\n+  \"omp.h\" ) CONFIG_FILES=\"$CONFIG_FILES omp.h\" ;;\n+  \"omp_lib.h\" ) CONFIG_FILES=\"$CONFIG_FILES omp_lib.h\" ;;\n+  \"omp_lib.f90\" ) CONFIG_FILES=\"$CONFIG_FILES omp_lib.f90\" ;;\n+  \"libgomp_f.h\" ) CONFIG_FILES=\"$CONFIG_FILES libgomp_f.h\" ;;\n   \"Makefile\" ) CONFIG_FILES=\"$CONFIG_FILES Makefile\" ;;\n   \"testsuite/Makefile\" ) CONFIG_FILES=\"$CONFIG_FILES testsuite/Makefile\" ;;\n   \"libgomp.spec\" ) CONFIG_FILES=\"$CONFIG_FILES libgomp.spec\" ;;\n@@ -10254,6 +11605,12 @@ s,@XLDFLAGS@,$XLDFLAGS,;t t\n s,@link_gomp@,$link_gomp,;t t\n s,@USE_FORTRAN_TRUE@,$USE_FORTRAN_TRUE,;t t\n s,@USE_FORTRAN_FALSE@,$USE_FORTRAN_FALSE,;t t\n+s,@OMP_LOCK_SIZE@,$OMP_LOCK_SIZE,;t t\n+s,@OMP_LOCK_ALIGN@,$OMP_LOCK_ALIGN,;t t\n+s,@OMP_NEST_LOCK_SIZE@,$OMP_NEST_LOCK_SIZE,;t t\n+s,@OMP_NEST_LOCK_ALIGN@,$OMP_NEST_LOCK_ALIGN,;t t\n+s,@OMP_LOCK_KIND@,$OMP_LOCK_KIND,;t t\n+s,@OMP_NEST_LOCK_KIND@,$OMP_NEST_LOCK_KIND,;t t\n s,@LIBOBJS@,$LIBOBJS,;t t\n s,@LTLIBOBJS@,$LTLIBOBJS,;t t\n CEOF"}, {"sha": "2ae6deff0a6de121c8ed64ca58b606a141794053", "filename": "libgomp/configure.ac", "status": "modified", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure.ac?ref=03b8fe495d716c004f5491eb2347537f115ab2d8", "patch": "@@ -220,5 +220,46 @@ AC_SUBST(link_gomp)\n \n AM_CONDITIONAL([USE_FORTRAN], [test \"$ac_cv_fc_compiler_gnu\" = yes])\n \n+# ??? 2006-01-24: Paulo committed to asking autoconf folk to document\n+# and export AC_COMPUTE_INT.  If that happens, then we'll need to remove\n+# the underscore here and update the PREREQ.  If it doesn't, then we'll\n+# need to copy this macro to our acinclude.m4.\n+save_CFLAGS=\"$CFLAGS\"\n+for i in $config_path; do\n+  if test -f $srcdir/config/$i/omp-lock.h; then\n+    CFLAGS=\"$CFLAGS -include $srcdir/config/$i/omp-lock.h\"\n+    break\n+  fi\n+done\n+\n+_AC_COMPUTE_INT([sizeof (omp_lock_t)], [OMP_LOCK_SIZE],,\n+  [AC_MSG_ERROR([unsupported system, cannot find sizeof (omp_lock_t)])])\n+_AC_COMPUTE_INT([__alignof (omp_lock_t)], [OMP_LOCK_ALIGN])\n+_AC_COMPUTE_INT([sizeof (omp_nest_lock_t)], [OMP_NEST_LOCK_SIZE])\n+_AC_COMPUTE_INT([__alignof (omp_nest_lock_t)], [OMP_NEST_LOCK_ALIGN])\n+\n+# If the lock fits in an integer, then arrange for Fortran to use that\n+# integer.  If it doesn't, then arrange for Fortran to use a pointer.\n+# Except that we don't have a way at present to multi-lib the installed\n+# Fortran modules, so we assume 8 bytes for pointers, regardless of the\n+# actual target.\n+OMP_LOCK_KIND=$OMP_LOCK_SIZE\n+OMP_NEST_LOCK_KIND=$OMP_NEST_LOCK_SIZE\n+if test $OMP_LOCK_SIZE -gt 8 || test $OMP_LOCK_ALIGN -gt $OMP_LOCK_SIZE; then\n+  OMP_LOCK_KIND=8\n+fi\n+if test $OMP_NEST_LOCK_SIZE -gt 8 || test $OMP_NEST_LOCK_ALIGN -gt $OMP_NEST_LOCK_SIZE; then\n+  OMP_NEST_LOCK_KIND=8\n+fi\n+\n+AC_SUBST(OMP_LOCK_SIZE)\n+AC_SUBST(OMP_LOCK_ALIGN)\n+AC_SUBST(OMP_NEST_LOCK_SIZE)\n+AC_SUBST(OMP_NEST_LOCK_ALIGN)\n+AC_SUBST(OMP_LOCK_KIND)\n+AC_SUBST(OMP_NEST_LOCK_KIND)\n+CFLAGS=\"$save_CFLAGS\"\n+\n+AC_CONFIG_FILES(omp.h omp_lib.h omp_lib.f90 libgomp_f.h)\n AC_CONFIG_FILES(Makefile testsuite/Makefile libgomp.spec)\n AC_OUTPUT"}, {"sha": "85543565a1e806542c61b49bded002302601f650", "filename": "libgomp/libgomp_f.h.in", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2Flibgomp_f.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2Flibgomp_f.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Flibgomp_f.h.in?ref=03b8fe495d716c004f5491eb2347537f115ab2d8", "patch": "@@ -33,8 +33,8 @@\n \n #include \"libgomp.h\"\n \n-#if (OMP_LOCK_SIZE == OMP_LOCK_KIND) \\\n-    && (OMP_LOCK_ALIGN <= OMP_LOCK_SIZE)\n+#if (@OMP_LOCK_SIZE@ == @OMP_LOCK_KIND@) \\\n+    && (@OMP_LOCK_ALIGN@ <= @OMP_LOCK_SIZE@)\n # define OMP_LOCK_DIRECT\n typedef omp_lock_t *omp_lock_arg_t;\n # define omp_lock_arg(arg) (arg)\n@@ -43,8 +43,8 @@ typedef union { omp_lock_t *lock; uint64_t u; } *omp_lock_arg_t;\n # define omp_lock_arg(arg) ((arg)->lock)\n # endif\n \n-#if (OMP_NEST_LOCK_SIZE == OMP_NEST_LOCK_KIND) \\\n-    && (OMP_NEST_LOCK_ALIGN <= OMP_NEST_LOCK_SIZE)\n+#if (@OMP_NEST_LOCK_SIZE@ == @OMP_NEST_LOCK_KIND@) \\\n+    && (@OMP_NEST_LOCK_ALIGN@ <= @OMP_NEST_LOCK_SIZE@)\n # define OMP_NEST_LOCK_DIRECT\n typedef omp_nest_lock_t *omp_nest_lock_arg_t;\n # define omp_nest_lock_arg(arg) (arg)\n@@ -56,12 +56,12 @@ typedef union { omp_nest_lock_t *lock; uint64_t u; } *omp_nest_lock_arg_t;\n static inline void\n omp_check_defines (void)\n {\n-  char test[(OMP_LOCK_SIZE != sizeof (omp_lock_t)\n-\t     || OMP_LOCK_ALIGN != __alignof (omp_lock_t)\n-\t     || OMP_NEST_LOCK_SIZE != sizeof (omp_nest_lock_t)\n-\t     || OMP_NEST_LOCK_ALIGN != __alignof (omp_nest_lock_t)\n-\t     || OMP_LOCK_KIND != sizeof (*(omp_lock_arg_t) 0)\n-\t     || OMP_NEST_LOCK_KIND != sizeof (*(omp_nest_lock_arg_t) 0))\n+  char test[(@OMP_LOCK_SIZE@ != sizeof (omp_lock_t)\n+\t     || @OMP_LOCK_ALIGN@ != __alignof (omp_lock_t)\n+\t     || @OMP_NEST_LOCK_SIZE@ != sizeof (omp_nest_lock_t)\n+\t     || @OMP_NEST_LOCK_ALIGN@ != __alignof (omp_nest_lock_t)\n+\t     || @OMP_LOCK_KIND@ != sizeof (*(omp_lock_arg_t) 0)\n+\t     || @OMP_NEST_LOCK_KIND@ != sizeof (*(omp_nest_lock_arg_t) 0))\n \t    ? -1 : 1] __attribute__ ((__unused__));\n }\n "}, {"sha": "4002fa0a4a39d7bbb7d38fd97589a0cd858f5402", "filename": "libgomp/mkomp_h.pl", "status": "removed", "additions": 0, "deletions": 122, "changes": 122, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b8795eddf5bebda36a22098be7b7810a7f6f2185/libgomp%2Fmkomp_h.pl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b8795eddf5bebda36a22098be7b7810a7f6f2185/libgomp%2Fmkomp_h.pl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fmkomp_h.pl?ref=b8795eddf5bebda36a22098be7b7810a7f6f2185", "patch": "@@ -1,122 +0,0 @@\n-#!/usr/bin/perl -w\n-#  Copyright (C) 2005 Free Software Foundation, Inc.\n-#  Contributed by Richard Henderson <rth@redhat.com>.\n-#\n-#  This file is part of the GNU OpenMP Library (libgomp).\n-#\n-#  Libgomp is free software; you can redistribute it and/or modify it\n-#  under the terms of the GNU Lesser General Public License as published by\n-#  the Free Software Foundation; either version 2.1 of the License, or\n-#  (at your option) any later version.\n-#\n-#  Libgomp is distributed in the hope that it will be useful, but WITHOUT ANY\n-#  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS\n-#  FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public License for\n-#  more details.\n-#\n-#  You should have received a copy of the GNU Lesser General Public License \n-#  along with libgomp; see the file COPYING.LIB.  If not, write to the\n-#  Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,\n-#  MA 02110-1301, USA.\n-#\n-#  As a special exception, if you link this library with other files, some\n-#  of which are compiled with GCC, to produce an executable, this library\n-#  does not by itself cause the resulting executable to be covered by the\n-#  GNU General Public License.  This exception does not however invalidate\n-#  any other reasons why the executable file might be covered by the GNU\n-#  General Public License.\n-\n-# This file fills in the blanks for omp.h.in, computing the size and\n-# alignment of the lock types that we export.  We do this to avoid\n-# polluting the namespace with e.g. pthreads declarations.\n-\n-$COMPILE = $ARGV[0];\n-$INFILE = $ARGV[1];\n-$OUTFILE = $ARGV[2];\n-\n-$HEADER = \"#include \\\"omp-lock.h\\\"\\n\";\n-\n-# configure might put libtool specific options into $COMPILE.\n-$COMPILE =~ s/ -Wc,/ /g;\n-\n-# Close stderr in order to discard compiler errors.  Which we expect apleanty.\n-close STDERR;\n-\n-# Return true if the boolean expression evaluates true at compile-time.\n-sub compile_test {\n-\tmy $expr = shift;\n-\n-\topen GCC, \"|$COMPILE -fsyntax-only -xc -\";\n-\tprint GCC $HEADER;\n-\tprint GCC \"char test[($expr) ? 1 : -1];\\n\";\n-\treturn close GCC;\n-}\n-\n-# Return a number guaranteed to be larger than the integer epression.\n-sub upper_bound {\n-\tuse integer;\n-\tmy $expr = shift;\n-\tmy $max = 9;\n-\n-\twhile (compile_test(\"($expr) >= $max\")) {\n-\t\t$max = $max * 2;\n-\t}\n-\n-\treturn $max;\n-}\n-\n-# Return an exact number for the integer expression.\n-sub binary_search {\n-\tuse integer;\n-\tmy $expr = shift;\n-\tmy $low = 1;\n-\tmy $high = upper_bound($expr);\n-\n-\twhile ($low < $high) {\n-\t\tmy $mid = ($high + $low + 1) / 2;\n-\t\tif (compile_test(\"($expr) >= $mid\")) {\n-\t\t\t$low = $mid;\n-\t\t} else {\n-\t\t\t$high = $mid - 1;\n-\t\t}\n-\t}\n-\n-\treturn $low;\n-}\n-\n-# Apply OP to TYPE, where OP is either sizeof or __alignof.\n-sub resolve {\n-\tmy $op = shift;\n-\tmy $type = shift;\n-\n-\treturn binary_search(\"$op($type)\");\n-}\n-\n-# Find all the constants we need.\n-$sizeof_omp_lock_t = resolve (\"sizeof\", \"omp_lock_t\");\n-$alignof_omp_lock_t = resolve (\"__alignof\", \"omp_lock_t\");\n-$sizeof_omp_nest_lock_t = resolve (\"sizeof\", \"omp_nest_lock_t\");\n-$alignof_omp_nest_lock_t = resolve (\"__alignof\", \"omp_nest_lock_t\");\n-$omp_lock_kind = $sizeof_omp_lock_t;\n-$omp_nest_lock_kind = $sizeof_omp_nest_lock_t;\n-if ($sizeof_omp_lock_t >= 8 || $alignof_omp_lock_t > $sizeof_omp_lock_t) {\n-\t$omp_lock_kind = 8;\n-}\n-if ($sizeof_omp_nest_lock_t >= 8 || $alignof_omp_nest_lock_t > $sizeof_omp_nest_lock_t) {\n-\t$omp_nest_lock_kind = 8;\n-}\n-\n-# Edit the input template into the output.\n-open IN, \"<\", $INFILE;\n-open OUT, \">\", $OUTFILE;\n-while (<IN>) {\n-\ts/OMP_LOCK_SIZE/$sizeof_omp_lock_t/o;\n-\ts/OMP_LOCK_ALIGN/$alignof_omp_lock_t/o;\n-\ts/OMP_NEST_LOCK_SIZE/$sizeof_omp_nest_lock_t/o;\n-\ts/OMP_NEST_LOCK_ALIGN/$alignof_omp_nest_lock_t/o;\n-\ts/OMP_LOCK_KIND/$omp_lock_kind/o;\n-\ts/OMP_NEST_LOCK_KIND/$omp_nest_lock_kind/o;\n-\tprint OUT;\n-}\n-\n-close OUT;"}, {"sha": "44fda9088c33a71478fdb80c7588c15894b51443", "filename": "libgomp/omp.h.in", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2Fomp.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2Fomp.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fomp.h.in?ref=03b8fe495d716c004f5491eb2347537f115ab2d8", "patch": "@@ -36,12 +36,14 @@\n \n typedef struct\n {\n-  unsigned char _x[OMP_LOCK_SIZE] __attribute__((__aligned__(OMP_LOCK_ALIGN)));\n+  unsigned char _x[@OMP_LOCK_SIZE@] \n+    __attribute__((__aligned__(@OMP_LOCK_ALIGN@)));\n } omp_lock_t;\n \n typedef struct\n {\n-  unsigned char _x[OMP_NEST_LOCK_SIZE] __attribute__((__aligned__(OMP_NEST_LOCK_ALIGN)));\n+  unsigned char _x[@OMP_NEST_LOCK_SIZE@] \n+    __attribute__((__aligned__(@OMP_NEST_LOCK_ALIGN@)));\n } omp_nest_lock_t;\n #endif\n "}, {"sha": "4b8553b3236ce31ac24e84e43455f498c1ac3b3d", "filename": "libgomp/omp_lib.f90.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2Fomp_lib.f90.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2Fomp_lib.f90.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fomp_lib.f90.in?ref=03b8fe495d716c004f5491eb2347537f115ab2d8", "patch": "@@ -28,8 +28,8 @@\n       module omp_lib_kinds\n         integer, parameter :: omp_integer_kind = 4\n         integer, parameter :: omp_logical_kind = 4\n-        integer, parameter :: omp_lock_kind = OMP_LOCK_KIND\n-        integer, parameter :: omp_nest_lock_kind = OMP_NEST_LOCK_KIND\n+        integer, parameter :: omp_lock_kind = @OMP_LOCK_KIND@\n+        integer, parameter :: omp_nest_lock_kind = @OMP_NEST_LOCK_KIND@\n       end module\n \n       module omp_lib"}, {"sha": "734f2f781fc355fe1e83be06edd094f75019a459", "filename": "libgomp/omp_lib.h.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2Fomp_lib.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2Fomp_lib.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fomp_lib.h.in?ref=03b8fe495d716c004f5491eb2347537f115ab2d8", "patch": "@@ -26,8 +26,8 @@\n !  General Public License.\n \n       integer omp_lock_kind, omp_nest_lock_kind, openmp_version\n-      parameter (omp_lock_kind = OMP_LOCK_KIND)\n-      parameter (omp_nest_lock_kind = OMP_NEST_LOCK_KIND)\n+      parameter (omp_lock_kind = @OMP_LOCK_KIND@)\n+      parameter (omp_nest_lock_kind = @OMP_NEST_LOCK_KIND@)\n       parameter (openmp_version = 200505)\n \n       external omp_init_lock, omp_init_nest_lock"}, {"sha": "743bb056ddbc62b9e2902f4ab66ae46c60a1f7ec", "filename": "libgomp/testsuite/Makefile.in", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03b8fe495d716c004f5491eb2347537f115ab2d8/libgomp%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2FMakefile.in?ref=03b8fe495d716c004f5491eb2347537f115ab2d8", "patch": "@@ -94,6 +94,12 @@ MAINTAINER_MODE_FALSE = @MAINTAINER_MODE_FALSE@\n MAINTAINER_MODE_TRUE = @MAINTAINER_MODE_TRUE@\n MAKEINFO = @MAKEINFO@\n OBJEXT = @OBJEXT@\n+OMP_LOCK_ALIGN = @OMP_LOCK_ALIGN@\n+OMP_LOCK_KIND = @OMP_LOCK_KIND@\n+OMP_LOCK_SIZE = @OMP_LOCK_SIZE@\n+OMP_NEST_LOCK_ALIGN = @OMP_NEST_LOCK_ALIGN@\n+OMP_NEST_LOCK_KIND = @OMP_NEST_LOCK_KIND@\n+OMP_NEST_LOCK_SIZE = @OMP_NEST_LOCK_SIZE@\n OPT_LDFLAGS = @OPT_LDFLAGS@\n PACKAGE = @PACKAGE@\n PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@"}]}