{"sha": "336bc4aedebe8416db2a3414461edb8310a21ae8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzM2YmM0YWVkZWJlODQxNmRiMmEzNDE0NDYxZWRiODMxMGEyMWFlOA==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2001-01-05T22:06:29Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2001-01-05T22:06:29Z"}, "message": "991228-1.c: Take word endianness into account.\n\n* gcc.c-torture/execute/991228-1.c: Take word endianness into\naccount.\n\nFrom-SVN: r38725", "tree": {"sha": "d70cd60b066a1c178eeaf4c403ae13bae4c8baf4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d70cd60b066a1c178eeaf4c403ae13bae4c8baf4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/336bc4aedebe8416db2a3414461edb8310a21ae8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/336bc4aedebe8416db2a3414461edb8310a21ae8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/336bc4aedebe8416db2a3414461edb8310a21ae8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/336bc4aedebe8416db2a3414461edb8310a21ae8/comments", "author": null, "committer": null, "parents": [{"sha": "cc1fe44fe8e436d002c0d9245f449ce131918bfa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc1fe44fe8e436d002c0d9245f449ce131918bfa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc1fe44fe8e436d002c0d9245f449ce131918bfa"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "e02464653b7ec66205c28a6bef2063eb5a9568ad", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/336bc4aedebe8416db2a3414461edb8310a21ae8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/336bc4aedebe8416db2a3414461edb8310a21ae8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=336bc4aedebe8416db2a3414461edb8310a21ae8", "patch": "@@ -1,3 +1,8 @@\n+2001-01-05  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* gcc.c-torture/execute/991228-1.c: Take word endianness into\n+\taccount.\n+\n 2001-01-05  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* gcc.c-torture/execute/builtin-complex-1.c: New test."}, {"sha": "c6fe78e7dadbc6a19309e8c6ac7283484d11a115", "filename": "gcc/testsuite/gcc.c-torture/execute/991228-1.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/336bc4aedebe8416db2a3414461edb8310a21ae8/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F991228-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/336bc4aedebe8416db2a3414461edb8310a21ae8/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F991228-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F991228-1.c?ref=336bc4aedebe8416db2a3414461edb8310a21ae8", "patch": "@@ -1,15 +1,21 @@\n __extension__ union { double d; int i[2]; } u = { d: -0.25 };\n \n+/* This assumes the endianness of words in a long long is the same as\n+   that for doubles, which doesn't hold for a few platforms, but we\n+   can probably special case them here, as appropriate.  */\n+long long endianness_test = 1;\n+#define MSW (*(int*)&endianness_test)\n+\n int\n signbit(double x)\n {\n   __extension__ union { double d; int i[2]; } u = { d: x };\n-  return u.i[0] < 0;\n+  return u.i[MSW] < 0;\n }\n     \n int main(void)\n {\n-  if (2*sizeof(int) != sizeof(double) || u.i[0] >= 0)\n+  if (2*sizeof(int) != sizeof(double) || u.i[MSW] >= 0)\n     exit(0);\n \n   if (!signbit(-0.25))"}]}