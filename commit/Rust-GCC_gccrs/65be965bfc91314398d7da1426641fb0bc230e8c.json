{"sha": "65be965bfc91314398d7da1426641fb0bc230e8c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjViZTk2NWJmYzkxMzE0Mzk4ZDdkYTE0MjY2NDFmYjBiYzIzMGU4Yw==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2011-10-20T21:09:48Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2011-10-20T21:09:48Z"}, "message": "pr46940_0.c (ASMNAME, [...]): Define.\n\n\t* gcc.dg/lto/pr46940_0.c (ASMNAME, ASMNAME2, STRING): Define.\n\t(_moz_foo, EXT__foo): Use ASMNAME.\n\nFrom-SVN: r180276", "tree": {"sha": "ec956ae5e2b20111a684d769c00777759e57acff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ec956ae5e2b20111a684d769c00777759e57acff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/65be965bfc91314398d7da1426641fb0bc230e8c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65be965bfc91314398d7da1426641fb0bc230e8c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65be965bfc91314398d7da1426641fb0bc230e8c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65be965bfc91314398d7da1426641fb0bc230e8c/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "515b520e4f928116030498c169ba2de50f0f4f9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/515b520e4f928116030498c169ba2de50f0f4f9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/515b520e4f928116030498c169ba2de50f0f4f9d"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "326b5cf16c231498d119abbad456f68f5cfd55c8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65be965bfc91314398d7da1426641fb0bc230e8c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65be965bfc91314398d7da1426641fb0bc230e8c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=65be965bfc91314398d7da1426641fb0bc230e8c", "patch": "@@ -1,3 +1,8 @@\n+2011-10-20  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* gcc.dg/lto/pr46940_0.c (ASMNAME, ASMNAME2, STRING): Define.\n+\t(_moz_foo, EXT__foo): Use ASMNAME.\n+\n 2011-10-20  Joseph Myers  <joseph@codesourcery.com>\n \n \t* lib/lto.exp (lto-execute): Use .exe suffix for test executable"}, {"sha": "89cb828fbacca1d58d934293a392d490b420e370", "filename": "gcc/testsuite/gcc.dg/lto/pr46940_0.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65be965bfc91314398d7da1426641fb0bc230e8c/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr46940_0.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65be965bfc91314398d7da1426641fb0bc230e8c/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr46940_0.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr46940_0.c?ref=65be965bfc91314398d7da1426641fb0bc230e8c", "patch": "@@ -2,10 +2,14 @@\n /* { dg-extra-ld-options \"-fuse-linker-plugin\" } */\n #include <stdio.h>\n \n+#define ASMNAME(cname)  ASMNAME2 (__USER_LABEL_PREFIX__, cname)\n+#define ASMNAME2(prefix, cname) STRING (prefix) cname\n+#define STRING(x)    #x\n+\n extern __attribute__((visibility(\"hidden\"))) void _moz_foo (void);\n-extern __typeof (_moz_foo) _moz_foo __asm__ (\"\" \"INT__foo\") __attribute__((__visibility__(\"hidden\"))) ;\n+extern __typeof (_moz_foo) _moz_foo __asm__ (ASMNAME (\"INT__foo\")) __attribute__((__visibility__(\"hidden\"))) ;\n void _moz_foo(void)\n {\n   printf (\"blah\\n\");\n }\n-extern __typeof (_moz_foo) EXT__foo __asm__(\"\" \"_moz_foo\") __attribute__((__alias__(\"\" \"INT__foo\")));\n+extern __typeof (_moz_foo) EXT__foo __asm__(ASMNAME (\"_moz_foo\")) __attribute__((__alias__(\"\" \"INT__foo\")));"}]}