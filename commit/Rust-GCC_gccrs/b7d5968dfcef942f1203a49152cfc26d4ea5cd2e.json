{"sha": "b7d5968dfcef942f1203a49152cfc26d4ea5cd2e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjdkNTk2OGRmY2VmOTQyZjEyMDNhNDkxNTJjZmMyNmQ0ZWE1Y2QyZQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@unitus.it", "date": "2002-03-25T23:19:47Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2002-03-25T23:19:47Z"}, "message": "2002-03-25  Paolo Carlini  <pcarlini@unitus.it>\n\n\t* testsuite/22_locale/collate_byname.cc\n\t(test01): compare the result of collate::compare with\n\tthat of collate::transform + string::compare, not with\n\tthat of collate::transform + collate::compare; values\n\treturned by collate::compare are normalized, therefore\n\ttest against +-1.\n\nFrom-SVN: r51351", "tree": {"sha": "3cd357ec601d01e2aa5818b03fd731d5541f95ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3cd357ec601d01e2aa5818b03fd731d5541f95ca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b7d5968dfcef942f1203a49152cfc26d4ea5cd2e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7d5968dfcef942f1203a49152cfc26d4ea5cd2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7d5968dfcef942f1203a49152cfc26d4ea5cd2e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7d5968dfcef942f1203a49152cfc26d4ea5cd2e/comments", "author": null, "committer": null, "parents": [{"sha": "67e469d71a2e3376e0d98e6c6f8ed04b83e8ba9c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67e469d71a2e3376e0d98e6c6f8ed04b83e8ba9c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67e469d71a2e3376e0d98e6c6f8ed04b83e8ba9c"}], "stats": {"total": 41, "additions": 25, "deletions": 16}, "files": [{"sha": "70ed92291d70cf53c3b1531af727cc1c479cf4ac", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7d5968dfcef942f1203a49152cfc26d4ea5cd2e/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7d5968dfcef942f1203a49152cfc26d4ea5cd2e/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=b7d5968dfcef942f1203a49152cfc26d4ea5cd2e", "patch": "@@ -1,3 +1,12 @@\n+2002-03-25  Paolo Carlini  <pcarlini@unitus.it>\n+\n+\t* testsuite/22_locale/collate_byname.cc\n+\t(test01): compare the result of collate::compare with\n+\tthat of collate::transform + string::compare, not with\n+\tthat of collate::transform + collate::compare; values\n+\treturned by collate::compare are normalized, therefore\n+\ttest against +-1.\n+\n 2002-03-25  Benjamin Kosnik  <bkoz@redhat.com>\n             Jakub Jelinek  <jakub@redhat.com>\n \t"}, {"sha": "a4d76829b21a70fc3d3c92cf8bb719e8a080e123", "filename": "libstdc++-v3/testsuite/22_locale/collate_byname.cc", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7d5968dfcef942f1203a49152cfc26d4ea5cd2e/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fcollate_byname.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7d5968dfcef942f1203a49152cfc26d4ea5cd2e/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fcollate_byname.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Fcollate_byname.cc?ref=b7d5968dfcef942f1203a49152cfc26d4ea5cd2e", "patch": "@@ -57,20 +57,20 @@ void test01()\n \n   int size3 = strlen(strlit3) - 1;\n   i1 = coll_de.compare(strlit3, strlit3 + size3, strlit3, strlit3 + 7);\n-  VERIFY ( i1 > 0 );\n+  VERIFY ( i1 == 1 );\n   i1 = coll_de.compare(strlit3, strlit3 + 7, strlit3, strlit3 + size3);\n-  VERIFY ( i1 < 0 );\n+  VERIFY ( i1 == -1 );\n   i1 = coll_de.compare(strlit3, strlit3 + 7, strlit3, strlit3 + 7);\n   VERIFY ( i1 == 0 );\n \n   i1 = coll_de.compare(strlit3, strlit3 + 6, strlit3 + 8, strlit3 + 14);\n-  VERIFY ( i1 < 0 );\n+  VERIFY ( i1 == -1 );\n \n   int size4 = strlen(strlit4) - 1;\n   i2 = coll_de.compare(strlit4, strlit4 + size4, strlit4, strlit4 + 13);\n-  VERIFY ( i2 > 0 );\n+  VERIFY ( i2 == 1 );\n   i2 = coll_de.compare(strlit4, strlit4 + 13, strlit4, strlit4 + size4);\n-  VERIFY ( i2 < 0 );\n+  VERIFY ( i2 == -1 );\n   i2 = coll_de.compare(strlit4, strlit4 + size4, strlit4, strlit4 + size4);\n   VERIFY ( i2 == 0 );\n \n@@ -83,10 +83,10 @@ void test01()\n \n   string str3 = coll_de.transform(strlit3, strlit3 + size3);\n   string str4 = coll_de.transform(strlit4, strlit4 + size4);\n-  i1 = coll_de.compare(str3.c_str(), str3.c_str() + size3,\n-\t\t       str4.c_str(), str4.c_str() + size4);\n+  i1 = str3.compare(str4);\n   i2 = coll_de.compare(strlit3, strlit3 + size3, strlit4, strlit4 + size4);\n-  VERIFY(i1 == i2);\n+  VERIFY ( i2 == -1 );\n+  VERIFY ( i1 * i2 > 0 );\n \n \n   // Check byname locale\n@@ -96,20 +96,20 @@ void test01()\n   long l4;\n   size4 = strlen(strlit3) - 1;\n   i3 = coll_de.compare(strlit3, strlit3 + size4, strlit3, strlit3 + 7);\n-  VERIFY ( i3 > 0 );\n+  VERIFY ( i3 == 1 );\n   i3 = coll_de.compare(strlit3, strlit3 + 7, strlit3, strlit3 + size4);\n-  VERIFY ( i3 < 0 );\n+  VERIFY ( i3 == -1 );\n   i3 = coll_de.compare(strlit3, strlit3 + 7, strlit3, strlit3 + 7);\n   VERIFY ( i3 == 0 );\n \n   i3 = coll_de.compare(strlit3, strlit3 + 6, strlit3 + 8, strlit3 + 14);\n-  VERIFY ( i3 < 0 );\n+  VERIFY ( i3 == -1 );\n \n   size4 = strlen(strlit4) - 1;\n   i4 = coll_de.compare(strlit4, strlit4 + size4, strlit4, strlit4 + 13);\n-  VERIFY ( i4 > 0 );\n+  VERIFY ( i4 == 1 );\n   i4 = coll_de.compare(strlit4, strlit4 + 13, strlit4, strlit4 + size4);\n-  VERIFY ( i4 < 0 );\n+  VERIFY ( i4 == -1 );\n   i4 = coll_de.compare(strlit4, strlit4 + size4, strlit4, strlit4 + size4);\n   VERIFY ( i4 == 0 );\n \n@@ -122,10 +122,10 @@ void test01()\n \n   string str5 = coll_de.transform(strlit3, strlit3 + size3);\n   string str6 = coll_de.transform(strlit4, strlit4 + size4);\n-  i3 = coll_de.compare(str5.c_str(), str5.c_str() + size3,\n-\t\t       str6.c_str(), str6.c_str() + size4);\n+  i3 = str5.compare(str6);\n   i4 = coll_de.compare(strlit3, strlit3 + size4, strlit4, strlit4 + size4);\n-  VERIFY(i3 == i4);\n+  VERIFY ( i4 == -1 );\n+  VERIFY ( i3 * i4 > 0 );\n \n   // Verify byname == de\n   VERIFY ( str5 == str3 );"}]}