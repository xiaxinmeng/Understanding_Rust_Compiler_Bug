{"sha": "be78ffb2267dfe051d8e5bf9d92fcdda8ad323d1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmU3OGZmYjIyNjdkZmUwNTFkOGU1YmY5ZDkyZmNkZGE4YWQzMjNkMQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2000-06-24T22:19:46Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2000-06-24T22:19:46Z"}, "message": "collect2.c (resolve_lib_name): Move '/' check to more rational place.\n\n        * collect2.c (resolve_lib_name): Move '/' check to more rational place.\n\n        * ginclude/stddef.h (NULL): define for non-gnu C++ parsers as 0.\n\nFrom-SVN: r34687", "tree": {"sha": "54cd174eb88776cf56627e658166b74a482d9de0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/54cd174eb88776cf56627e658166b74a482d9de0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/be78ffb2267dfe051d8e5bf9d92fcdda8ad323d1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be78ffb2267dfe051d8e5bf9d92fcdda8ad323d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be78ffb2267dfe051d8e5bf9d92fcdda8ad323d1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be78ffb2267dfe051d8e5bf9d92fcdda8ad323d1/comments", "author": null, "committer": null, "parents": [{"sha": "40f1e34222f69708080b45b2b93a3b8551bf4ab1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40f1e34222f69708080b45b2b93a3b8551bf4ab1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/40f1e34222f69708080b45b2b93a3b8551bf4ab1"}], "stats": {"total": 26, "additions": 19, "deletions": 7}, "files": [{"sha": "f8e1532aa2539230d70c5f9b2285007b8fcf7239", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be78ffb2267dfe051d8e5bf9d92fcdda8ad323d1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be78ffb2267dfe051d8e5bf9d92fcdda8ad323d1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=be78ffb2267dfe051d8e5bf9d92fcdda8ad323d1", "patch": "@@ -1,3 +1,11 @@\n+2000-06-24  Marc Espie <espie@cvs.openbsd.org>\n+\n+\t* collect2.c (resolve_lib_name): Move '/' check to more rational place.\n+\n+2000-06-24  Dirk Duellmann  <Dirk.Duellmann@cern.ch>\n+\n+\t* ginclude/stddef.h (NULL): define for non-gnu C++ parsers as 0.\n+\n 2000-06-24  Jakub Jelinek  <jakub@redhat.com>\n \n \t* stmt.c (expand_decl_cleanup): Emit a dummy insn after"}, {"sha": "d8905844330f58c8938bf31eb75297272000ca07", "filename": "gcc/collect2.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be78ffb2267dfe051d8e5bf9d92fcdda8ad323d1/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be78ffb2267dfe051d8e5bf9d92fcdda8ad323d1/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=be78ffb2267dfe051d8e5bf9d92fcdda8ad323d1", "patch": "@@ -2993,14 +2993,14 @@ resolve_lib_name (name)\n       struct prefix_list *list = libpaths[i]->plist;\n       for (; list; list = list->next)\n \t{\n+\t  /* The following lines are needed because path_prefix list\n+\t     may contain directories both with trailing '/' and\n+\t     without it.  */\n+\t  const char *p = \"\";\n+\t  if (list->prefix[strlen(list->prefix)-1] != '/')\n+\t    p = \"/\";\n \t  for (j = 0; libexts[j]; j++)\n \t    {\n-              /* The following lines are needed because path_prefix list\n-                 may contain directories both with trailing '/' and\n-                 without it.  */\n-              const char *p = \"\";\n-              if (list->prefix[strlen(list->prefix)-1] != '/')\n-                p = \"/\";\n        \t      sprintf (lib_buf, \"%s%slib%s.%s\",\n \t\t       list->prefix, p, name, libexts[j]);\n if (debug) fprintf (stderr, \"searching for: %s\\n\", lib_buf);"}, {"sha": "a964410bfb7002c65a6b3f650c1c49caf0beb44a", "filename": "gcc/ginclude/stddef.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be78ffb2267dfe051d8e5bf9d92fcdda8ad323d1/gcc%2Fginclude%2Fstddef.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be78ffb2267dfe051d8e5bf9d92fcdda8ad323d1/gcc%2Fginclude%2Fstddef.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fstddef.h?ref=be78ffb2267dfe051d8e5bf9d92fcdda8ad323d1", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 1989, 1997, 1998, 1999 Free Software Foundation, Inc.\n+/* Copyright (C) 1989, 1997, 1998, 1999, 2000 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -356,7 +356,11 @@ typedef __WINT_TYPE__ wint_t;\n #ifdef __GNUG__\n #define NULL __null\n #else   /* G++ */\n+#ifndef __cplusplus\n #define NULL ((void *)0)\n+#else   /* C++ */\n+#define NULL 0\n+#endif  /* C++ */\n #endif  /* G++ */\n #endif\t/* NULL not defined and <stddef.h> or need NULL.  */\n #undef\t__need_NULL"}]}