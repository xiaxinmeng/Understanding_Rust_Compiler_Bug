{"sha": "307d8cd67d3339e79da8160b95eed56cabe6d37e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzA3ZDhjZDY3ZDMzMzllNzlkYTgxNjBiOTVlZWQ1NmNhYmU2ZDM3ZQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-07-28T13:09:22Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-07-28T13:09:22Z"}, "message": "(assign_stack_temp): When split a slot, set base_offset and full_size in the newly created slot.\n\n(assign_stack_temp): When split a slot, set base_offset and full_size in the\nnewly created slot.\n(combine_temp_slots): Update full_size when slots are combined.\n\nFrom-SVN: r10185", "tree": {"sha": "a5be8f8855c5a404c95ef5e128b1bc199daf2cb3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a5be8f8855c5a404c95ef5e128b1bc199daf2cb3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/307d8cd67d3339e79da8160b95eed56cabe6d37e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/307d8cd67d3339e79da8160b95eed56cabe6d37e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/307d8cd67d3339e79da8160b95eed56cabe6d37e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/307d8cd67d3339e79da8160b95eed56cabe6d37e/comments", "author": null, "committer": null, "parents": [{"sha": "e4931540c01b99ec06bbc5fb83f3c68228042221", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4931540c01b99ec06bbc5fb83f3c68228042221", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4931540c01b99ec06bbc5fb83f3c68228042221"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "acf46ceb7670a43ee38074145fe1b77ddda3e648", "filename": "gcc/function.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/307d8cd67d3339e79da8160b95eed56cabe6d37e/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/307d8cd67d3339e79da8160b95eed56cabe6d37e/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=307d8cd67d3339e79da8160b95eed56cabe6d37e", "patch": "@@ -847,6 +847,8 @@ assign_stack_temp (mode, size, keep)\n \t      p = (struct temp_slot *) oballoc (sizeof (struct temp_slot));\n \t      p->in_use = p->addr_taken = 0;\n \t      p->size = best_p->size - rounded_size;\n+\t      p->base_offset = best_p->base_offset + rounded_size;\n+\t      p->full_size = best_p->full_size - rounded_size;\n \t      p->slot = gen_rtx (MEM, BLKmode,\n \t\t\t\t plus_constant (XEXP (best_p->slot, 0),\n \t\t\t\t\t\trounded_size));\n@@ -942,12 +944,14 @@ combine_temp_slots ()\n \t\t  {\n \t\t    /* Q comes after P; combine Q into P.  */\n \t\t    p->size += q->size;\n+\t\t    p->full_size += q->full_size;\n \t\t    delete_q = 1;\n \t\t  }\n \t\telse if (q->base_offset + q->full_size == p->base_offset)\n \t\t  {\n \t\t    /* P comes after Q; combine P into Q.  */\n \t\t    q->size += p->size;\n+\t\t    q->full_size += p->full_size;\n \t\t    delete_p = 1;\n \t\t    break;\n \t\t  }"}]}