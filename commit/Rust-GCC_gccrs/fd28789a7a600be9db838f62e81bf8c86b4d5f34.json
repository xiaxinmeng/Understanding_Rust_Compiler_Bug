{"sha": "fd28789a7a600be9db838f62e81bf8c86b4d5f34", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmQyODc4OWE3YTYwMGJlOWRiODM4ZjYyZTgxYmY4Yzg2YjRkNWYzNA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-11-04T23:12:17Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-11-04T23:12:17Z"}, "message": "(expand_inline_function): Don't call push_temp_slots...\n\n(expand_inline_function): Don't call\npush_temp_slots, free_temp_slots, and pop_temp_slots when handling\nparameters, because they might end up in a temp slot.\n\nFrom-SVN: r5999", "tree": {"sha": "d5b64104e8a67cba7943c688d8dc1c4ceaf1aba6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d5b64104e8a67cba7943c688d8dc1c4ceaf1aba6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fd28789a7a600be9db838f62e81bf8c86b4d5f34", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd28789a7a600be9db838f62e81bf8c86b4d5f34", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd28789a7a600be9db838f62e81bf8c86b4d5f34", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd28789a7a600be9db838f62e81bf8c86b4d5f34/comments", "author": null, "committer": null, "parents": [{"sha": "57590b41a987613dd6cedfa9fa5a057458ee6274", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57590b41a987613dd6cedfa9fa5a057458ee6274", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57590b41a987613dd6cedfa9fa5a057458ee6274"}], "stats": {"total": 12, "additions": 3, "deletions": 9}, "files": [{"sha": "9c1cbaea9e48c4f35f91d917697510f865cec021", "filename": "gcc/integrate.c", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd28789a7a600be9db838f62e81bf8c86b4d5f34/gcc%2Fintegrate.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd28789a7a600be9db838f62e81bf8c86b4d5f34/gcc%2Fintegrate.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintegrate.c?ref=fd28789a7a600be9db838f62e81bf8c86b4d5f34", "patch": "@@ -1353,7 +1353,9 @@ expand_inline_function (fndecl, parms, target, ignore, type, structure_value_add\n      register number fits in const_equiv_map.  Then we store all non-register\n      parameters into their memory location.  */\n \n-  push_temp_slots ();\n+  /* Don't try to free temp stack slots here, because we may put one of the\n+     parameters into a temp stack slot.  */\n+\n   for (i = 0; i < nargs; i++)\n     {\n       rtx copy = arg_vals[i];\n@@ -1422,9 +1424,6 @@ expand_inline_function (fndecl, parms, target, ignore, type, structure_value_add\n \t}\n       else\n \tabort ();\n-\n-      /* Free any temporaries we made setting up this parameter.  */\n-      free_temp_slots ();\n     }\n \n   /* Now do the parameters that will be placed in memory.  */\n@@ -1454,14 +1453,9 @@ expand_inline_function (fndecl, parms, target, ignore, type, structure_value_add\n \t  if (! memory_address_p (GET_MODE (temp), XEXP (temp, 0)))\n \t    temp = change_address (temp, VOIDmode, XEXP (temp, 0));\n \t  store_expr (arg_trees[i], temp, 0);\n-\n-\t  /* Free any temporaries we made setting up this parameter.  */\n-\t  free_temp_slots ();\n \t}\n     }\n \n-  pop_temp_slots ();\n-\n   /* Deal with the places that the function puts its result.\n      We are driven by what is placed into DECL_RESULT.\n "}]}