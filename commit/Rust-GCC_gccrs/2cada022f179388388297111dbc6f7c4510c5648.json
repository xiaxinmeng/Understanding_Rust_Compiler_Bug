{"sha": "2cada022f179388388297111dbc6f7c4510c5648", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmNhZGEwMjJmMTc5Mzg4Mzg4Mjk3MTExZGJjNmY3YzQ1MTBjNTY0OA==", "commit": {"author": {"name": "Paul Brook", "email": "pbrook@gcc.gnu.org", "date": "2004-09-06T16:33:52Z"}, "committer": {"name": "Paul Brook", "email": "pbrook@gcc.gnu.org", "date": "2004-09-06T16:33:52Z"}, "message": "[multiple changes]\n\n2004-09-06  Steven G. Kargl  <kargls@comcast.net>\n\n\t* io/write.c (output_float): Typo in comment.  Remove debugging\n\tprintf.  Fix format for FP of form 1e10.\n\n2004-09-06  Paul Brook  <paul@codesourcery.com>\n\n\t* gfortran.dg/edit_real_1.f90: Add new test.\n\nFrom-SVN: r87119", "tree": {"sha": "188a0f8ad81aae6b1573cefb38f836c86d98ae1d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/188a0f8ad81aae6b1573cefb38f836c86d98ae1d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2cada022f179388388297111dbc6f7c4510c5648", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cada022f179388388297111dbc6f7c4510c5648", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2cada022f179388388297111dbc6f7c4510c5648", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cada022f179388388297111dbc6f7c4510c5648/comments", "author": null, "committer": null, "parents": [{"sha": "c802a85924bc0e9810267e36ce0363feccc077bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c802a85924bc0e9810267e36ce0363feccc077bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c802a85924bc0e9810267e36ce0363feccc077bb"}], "stats": {"total": 20, "additions": 15, "deletions": 5}, "files": [{"sha": "fe5e53114b9f13a6192ee5b55d01bbb5726f4831", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cada022f179388388297111dbc6f7c4510c5648/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cada022f179388388297111dbc6f7c4510c5648/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2cada022f179388388297111dbc6f7c4510c5648", "patch": "@@ -1,3 +1,8 @@\n+2004-09-06  Steven G. Kargl  <kargls@comcast.net>\n+\n+\t* io/write.c (output_float): Typo in comment.  Remove debugging\n+\tprintf.  Fix format for FP of form 1e10.\n+\n 2004-09-06  Mohan Embar  <gnustuff@thisiscool.com>\n \n \t* Makefile.in (rtl.o): Remove -DGENERATOR_FILE."}, {"sha": "076bbf594da0626020425d46bfe9edb447c5987e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cada022f179388388297111dbc6f7c4510c5648/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cada022f179388388297111dbc6f7c4510c5648/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2cada022f179388388297111dbc6f7c4510c5648", "patch": "@@ -1,3 +1,7 @@\n+2004-09-06  Paul Brook  <paul@codesourcery.com>\n+\n+\t* gfortran.dg/edit_real_1.f90: Add new test.\n+\n 2004-09-05  Zdenek Dvorak  <rakdver@atrey.karlin.mff.cuni.cz>\n \n \t* gcc.dg/tree-ssa/loop-2.c: New test."}, {"sha": "3ac7cb4772f3d372ef216c3599ab110e24ceb240", "filename": "gcc/testsuite/gfortran.dg/edit_real_1.f90", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cada022f179388388297111dbc6f7c4510c5648/gcc%2Ftestsuite%2Fgfortran.dg%2Fedit_real_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cada022f179388388297111dbc6f7c4510c5648/gcc%2Ftestsuite%2Fgfortran.dg%2Fedit_real_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fedit_real_1.f90?ref=2cada022f179388388297111dbc6f7c4510c5648", "patch": "@@ -70,5 +70,9 @@ program edit_real_1\n   s = x\n   write (s, '(-2PE10.4,A)') 1.25, \"z\"\n   if (s .ne. '0.0013E+03z') call abort\n+  ! E format, single digit precision\n+  s = x\n+  write (s, '(E10.1,A)') 1.1, \"z\"\n+  if (s .ne. '   0.1E+01z') call abort\n end\n "}, {"sha": "2392b3ca1b2a8282b98b66c702740ef09acc6394", "filename": "libgfortran/io/write.c", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2cada022f179388388297111dbc6f7c4510c5648/libgfortran%2Fio%2Fwrite.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2cada022f179388388297111dbc6f7c4510c5648/libgfortran%2Fio%2Fwrite.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fwrite.c?ref=2cada022f179388388297111dbc6f7c4510c5648", "patch": "@@ -292,7 +292,7 @@ output_float (fnode *f, double value, int len)\n \n   /* Use sprintf to print the number in the format +D.DDDDe+ddd\n      For an N digit exponent, this gives us (32-6)-N digits after the\n-     decimal point, plus annother one before the decimal point.  */\n+     decimal point, plus another one before the decimal point.  */\n   sign = calculate_sign (value < 0.0);\n   if (value < 0)\n     value = -value;\n@@ -325,14 +325,11 @@ output_float (fnode *f, double value, int len)\n \tndigits = 27 - edigits;\n     }\n \n-  sprintf (buffer, \"%+-31.*e\", ndigits - 1, value);\n+  sprintf (buffer, \"%+-#31.*e\", ndigits - 1, value);\n   \n   /* Check the resulting string has punctuation in the correct places.  */\n   if (buffer[2] != '.' || buffer[ndigits + 2] != 'e')\n-    {\n-      printf (\"'%s', %d\\n\", buffer, ndigits);\n       internal_error (\"printf is broken\");\n-    }\n \n   /* Read the exponent back in.  */\n   e = atoi (&buffer[ndigits + 3]) + 1;"}]}