{"sha": "5b804e8a7ef5e3086eb34bfe0ed8348774f87801", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWI4MDRlOGE3ZWY1ZTMwODZlYjM0YmZlMGVkODM0ODc3NGY4NzgwMQ==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2004-12-23T22:48:51Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2004-12-23T22:48:51Z"}, "message": "reload.c (regno_clobbered_p): Add a gcc_assert that regno refers to a hard register.\n\n\n\t* reload.c (regno_clobbered_p): Add a gcc_assert that regno\n\trefers to a hard register.\n\nFrom-SVN: r92574", "tree": {"sha": "dceaf4f9cc1f5ce1264bfaa0f3e40d0d8764a8da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dceaf4f9cc1f5ce1264bfaa0f3e40d0d8764a8da"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5b804e8a7ef5e3086eb34bfe0ed8348774f87801", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b804e8a7ef5e3086eb34bfe0ed8348774f87801", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b804e8a7ef5e3086eb34bfe0ed8348774f87801", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b804e8a7ef5e3086eb34bfe0ed8348774f87801/comments", "author": null, "committer": null, "parents": [{"sha": "5902897a20f64980c4b91886a3c31e412a67cf65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5902897a20f64980c4b91886a3c31e412a67cf65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5902897a20f64980c4b91886a3c31e412a67cf65"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "82ee9a4c79e0e62aab4c9f667aea7c9a8df33f86", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b804e8a7ef5e3086eb34bfe0ed8348774f87801/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b804e8a7ef5e3086eb34bfe0ed8348774f87801/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5b804e8a7ef5e3086eb34bfe0ed8348774f87801", "patch": "@@ -1,3 +1,8 @@\n+2004-12-23  Roger Sayle  <roger@eyesopen.com>\n+\n+\t* reload.c (regno_clobbered_p): Add a gcc_assert that regno\n+\trefers to a hard register.\n+\n 2004-12-23  Mark Mitchell  <mark@codesourcery.com>\n \n \t* gimplify.c (gimplify_modify_expr_rhs): Use types_compatible_p."}, {"sha": "08a22deffaba3fa87f9a3671b7b69c64b0bf1cca", "filename": "gcc/reload.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b804e8a7ef5e3086eb34bfe0ed8348774f87801/gcc%2Freload.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b804e8a7ef5e3086eb34bfe0ed8348774f87801/gcc%2Freload.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload.c?ref=5b804e8a7ef5e3086eb34bfe0ed8348774f87801", "patch": "@@ -6947,8 +6947,13 @@ int\n regno_clobbered_p (unsigned int regno, rtx insn, enum machine_mode mode,\n \t\t   int sets)\n {\n-  unsigned int nregs = hard_regno_nregs[regno][mode];\n-  unsigned int endregno = regno + nregs;\n+  unsigned int nregs, endregno;\n+\n+  /* regno must be a hard register.  */\n+  gcc_assert (regno < FIRST_PSEUDO_REGISTER);\n+\n+  nregs = hard_regno_nregs[regno][mode];\n+  endregno = regno + nregs;\n \n   if ((GET_CODE (PATTERN (insn)) == CLOBBER\n        || (sets && GET_CODE (PATTERN (insn)) == SET))"}]}