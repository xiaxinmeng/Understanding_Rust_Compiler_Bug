{"sha": "563cb6be0f31cea2cece0482aff2ede0acc1d259", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTYzY2I2YmUwZjMxY2VhMmNlY2UwNDgyYWZmMmVkZTBhY2MxZDI1OQ==", "commit": {"author": {"name": "Diego Novillo", "email": "dnovillo@redhat.com", "date": "2005-07-09T17:35:05Z"}, "committer": {"name": "Diego Novillo", "email": "dnovillo@gcc.gnu.org", "date": "2005-07-09T17:35:05Z"}, "message": "re PR tree-optimization/21356 (Dominance error after aggressive dead code elimination (cd_dce))\n\n\n\tPR 21356\n\tPR 22332\n\t* passes.c (execute_todo): Cleanup the CFG before updating\n\tSSA.\n\nFrom-SVN: r101832", "tree": {"sha": "10e3c61c624d9fda48e1baf168a72b816d391674", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/10e3c61c624d9fda48e1baf168a72b816d391674"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/563cb6be0f31cea2cece0482aff2ede0acc1d259", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/563cb6be0f31cea2cece0482aff2ede0acc1d259", "html_url": "https://github.com/Rust-GCC/gccrs/commit/563cb6be0f31cea2cece0482aff2ede0acc1d259", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/563cb6be0f31cea2cece0482aff2ede0acc1d259/comments", "author": null, "committer": null, "parents": [{"sha": "7c6ef73e9bc4d5a334efc3ca87f2c9d67a06efda", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c6ef73e9bc4d5a334efc3ca87f2c9d67a06efda", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c6ef73e9bc4d5a334efc3ca87f2c9d67a06efda"}], "stats": {"total": 20, "additions": 14, "deletions": 6}, "files": [{"sha": "abaa36d0ee22044943248ad5a3b11930fc51e250", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/563cb6be0f31cea2cece0482aff2ede0acc1d259/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/563cb6be0f31cea2cece0482aff2ede0acc1d259/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=563cb6be0f31cea2cece0482aff2ede0acc1d259", "patch": "@@ -1,3 +1,10 @@\n+2005-07-09  Diego Novillo  <dnovillo@redhat.com>\n+\n+\tPR 21356\n+\tPR 22332\n+\t* passes.c (execute_todo): Cleanup the CFG before updating\n+\tSSA.\n+\n 2005-07-09  Jakub Jelinek  <jakub@redhat.com>\n \n \t* config/i386/i386.c (output_set_got): Don't omit OFFSET FLAT:"}, {"sha": "abc44e4a1f43f73f599db3bb00498aa71c307dcc", "filename": "gcc/passes.c", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/563cb6be0f31cea2cece0482aff2ede0acc1d259/gcc%2Fpasses.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/563cb6be0f31cea2cece0482aff2ede0acc1d259/gcc%2Fpasses.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpasses.c?ref=563cb6be0f31cea2cece0482aff2ede0acc1d259", "patch": "@@ -666,12 +666,7 @@ execute_todo (struct tree_opt_pass *pass, unsigned int flags, bool use_required)\n     gcc_assert (flags & TODO_update_ssa_any);\n #endif\n \n-  if (flags & TODO_update_ssa_any)\n-    {\n-      unsigned update_flags = flags & TODO_update_ssa_any;\n-      update_ssa (update_flags);\n-    }\n-\n+  /* Always cleanup the CFG before doing anything else.  */\n   if (flags & TODO_cleanup_cfg)\n     {\n       if (current_loops)\n@@ -680,6 +675,12 @@ execute_todo (struct tree_opt_pass *pass, unsigned int flags, bool use_required)\n \tcleanup_tree_cfg ();\n     }\n \n+  if (flags & TODO_update_ssa_any)\n+    {\n+      unsigned update_flags = flags & TODO_update_ssa_any;\n+      update_ssa (update_flags);\n+    }\n+\n   if ((flags & TODO_dump_func)\n       && dump_file && current_function_decl)\n     {"}]}