{"sha": "faa6e5c4103e211e52ea5fd0d7f4cf25ae9624b5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmFhNmU1YzQxMDNlMjExZTUyZWE1ZmQwZDdmNGNmMjVhZTk2MjRiNQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-10-31T19:44:19Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-10-31T19:44:19Z"}, "message": "toplev.c (rest_of_compilation): No longer set reload_completed.\n\n\ufffd\n        * toplev.c (rest_of_compilation): No longer set reload_completed.\n        * reload1.c (reload): Set it here.  Perform instruction splitting\n        after reload has completed if we will be running the scheduler\n        again.\n\nFrom-SVN: r23478", "tree": {"sha": "b45c80d2de56d04f3dc050ec628b6fbc7939cc6d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b45c80d2de56d04f3dc050ec628b6fbc7939cc6d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/faa6e5c4103e211e52ea5fd0d7f4cf25ae9624b5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/faa6e5c4103e211e52ea5fd0d7f4cf25ae9624b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/faa6e5c4103e211e52ea5fd0d7f4cf25ae9624b5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/faa6e5c4103e211e52ea5fd0d7f4cf25ae9624b5/comments", "author": null, "committer": null, "parents": [{"sha": "549f2254b6880f1315acccb0933672c1c905c50d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/549f2254b6880f1315acccb0933672c1c905c50d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/549f2254b6880f1315acccb0933672c1c905c50d"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "9c7a22ec5f3e403634c737731640a54778828a62", "filename": "gcc/reload1.c", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/faa6e5c4103e211e52ea5fd0d7f4cf25ae9624b5/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/faa6e5c4103e211e52ea5fd0d7f4cf25ae9624b5/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=faa6e5c4103e211e52ea5fd0d7f4cf25ae9624b5", "patch": "@@ -1049,6 +1049,10 @@ reload (first, global, dumpfile)\n \t}\n     }\n \n+  /* We've finished reloading.  This reload_completed must be set before we\n+     perform instruction splitting below.  */\n+  reload_completed = 1;\n+\n   /* Make a pass over all the insns and delete all USEs which we inserted\n      only to tag a REG_EQUAL note on them.  Remove all REG_DEAD and REG_UNUSED\n      notes.  Delete all CLOBBER insns and simplify (subreg (reg)) operands.  */\n@@ -1080,6 +1084,24 @@ reload (first, global, dumpfile)\n \n \t/* And simplify (subreg (reg)) if it appears as an operand.  */\n \tcleanup_subreg_operands (insn);\n+\n+\t/* If optimizing and we are performing instruction scheduling after\n+\t   reload, then go ahead and split insns now since we are about to\n+\t   recompute flow information anyway.  */\n+\tif (optimize && flag_schedule_insns_after_reload)\n+\t  {\n+\t    rtx last, first;\n+\n+\t    last = try_split (PATTERN (insn), insn, 1);\n+\n+\t    if (last != insn)\n+\t      {\n+\t\tPUT_CODE (insn, NOTE);\n+\t\tNOTE_SOURCE_FILE (insn) = 0;\n+\t\tNOTE_LINE_NUMBER (insn) = NOTE_INSN_DELETED;\n+\t      }\n+\t  }\n+\t   \n       }\n \n   /* If we are doing stack checking, give a warning if this function's"}]}