{"sha": "a3579a47d1dc8e565bf000e98468066dfe8cf795", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTM1NzlhNDdkMWRjOGU1NjViZjAwMGU5ODQ2ODA2NmRmZThjZjc5NQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-11-15T04:18:24Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-11-15T04:18:24Z"}, "message": "(find_basic_blocks): When starting new basic block for a CALL_INSN in the presence of nonlocal labels...\n\n(find_basic_blocks): When starting new basic block for a CALL_INSN in\nthe presence of nonlocal labels, don't get confused with following\nCLOBBER.\n(flow_analysis): Use same logic as find_basic_block to see when the\ninsn after a CALL_INSN starts a new basic block.\n\nFrom-SVN: r6097", "tree": {"sha": "798f2289fcf27bb3296af86c4179753a2d2514e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/798f2289fcf27bb3296af86c4179753a2d2514e2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a3579a47d1dc8e565bf000e98468066dfe8cf795", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3579a47d1dc8e565bf000e98468066dfe8cf795", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3579a47d1dc8e565bf000e98468066dfe8cf795", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3579a47d1dc8e565bf000e98468066dfe8cf795/comments", "author": null, "committer": null, "parents": [{"sha": "b258707c7efd72e380f3b95d70208a9d2975a095", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b258707c7efd72e380f3b95d70208a9d2975a095", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b258707c7efd72e380f3b95d70208a9d2975a095"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "f293d2de74fedeb70574dd60002d08ad091c6f69", "filename": "gcc/flow.c", "status": "modified", "additions": 14, "deletions": 3, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3579a47d1dc8e565bf000e98468066dfe8cf795/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3579a47d1dc8e565bf000e98468066dfe8cf795/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=a3579a47d1dc8e565bf000e98468066dfe8cf795", "patch": "@@ -341,10 +341,17 @@ flow_analysis (f, nregs, file)\n \t    || (GET_RTX_CLASS (code) == 'i'\n \t\t&& (prev_code == JUMP_INSN\n \t\t    || (prev_code == CALL_INSN\n-\t\t\t&& nonlocal_label_list != 0)\n+\t\t\t&& nonlocal_label_list != 0\n+\t\t\t/* Ignore a CLOBBER after a CALL_INSN here.  */\n+\t\t\t&& ! (code == INSN\n+\t\t\t      && GET_CODE (PATTERN (insn)) == CLOBBER))\n \t\t    || prev_code == BARRIER)))\n \t  i++;\n-\tif (code != NOTE)\n+\tif (code != NOTE\n+\t    /* Skip a CLOBBER after a CALL_INSN.  See similar code in\n+\t       find_basic_blocks.  */\n+\t    && ! (prev_code == CALL_INSN\n+\t\t  && code == INSN && GET_CODE (PATTERN (insn)) == CLOBBER))\n \t  prev_code = code;\n       }\n   }\n@@ -431,7 +438,11 @@ find_basic_blocks (f, nonlocal_label_list)\n \t\t || (GET_RTX_CLASS (code) == 'i'\n \t\t     && (prev_code == JUMP_INSN\n \t\t\t || (prev_code == CALL_INSN\n-\t\t\t     && nonlocal_label_list != 0)\n+\t\t\t     && nonlocal_label_list != 0\n+\t\t\t     /* Ignore if CLOBBER since we consider this\n+\t\t\t\tpart of the CALL.  See below.  */\n+\t\t\t     && ! (code == INSN\n+\t\t\t\t   && GET_CODE (PATTERN (insn)) == CLOBBER))\n \t\t\t || prev_code == BARRIER)))\n \t  {\n \t    basic_block_head[++i] = insn;"}]}