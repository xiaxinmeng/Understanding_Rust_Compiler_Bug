{"sha": "84f79fea91fa299022c62cd3e7a9b42910d974b2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODRmNzlmZWE5MWZhMjk5MDIyYzYyY2QzZTdhOWI0MjkxMGQ5NzRiMg==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1998-01-17T21:23:29Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-01-17T21:23:29Z"}, "message": "* choose-temp.c: Sync with gcc.\n\nFrom-SVN: r17394", "tree": {"sha": "a4d6943ff4d9319f6da03c1e95ca7eab4fa9c236", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a4d6943ff4d9319f6da03c1e95ca7eab4fa9c236"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/84f79fea91fa299022c62cd3e7a9b42910d974b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84f79fea91fa299022c62cd3e7a9b42910d974b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84f79fea91fa299022c62cd3e7a9b42910d974b2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84f79fea91fa299022c62cd3e7a9b42910d974b2/comments", "author": null, "committer": null, "parents": [{"sha": "51549d766565888f6f62d93f5fc2691e06f35f35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51549d766565888f6f62d93f5fc2691e06f35f35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51549d766565888f6f62d93f5fc2691e06f35f35"}], "stats": {"total": 21, "additions": 12, "deletions": 9}, "files": [{"sha": "2b11027af545b54bbd00f10426f1b395b39698eb", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84f79fea91fa299022c62cd3e7a9b42910d974b2/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84f79fea91fa299022c62cd3e7a9b42910d974b2/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=84f79fea91fa299022c62cd3e7a9b42910d974b2", "patch": "@@ -1,3 +1,7 @@\n+Sat Jan 17 22:25:53 1998  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* choose-temp.c: Sync with gcc version.\n+\n Thu Dec  4 17:25:19 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* strsignal.c (sys_nsig): Try NSIG and _NSIG."}, {"sha": "d8808ba02c31e05b164819621f3d6cafe8cf2f6b", "filename": "libiberty/choose-temp.c", "status": "modified", "additions": 8, "deletions": 9, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84f79fea91fa299022c62cd3e7a9b42910d974b2/libiberty%2Fchoose-temp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84f79fea91fa299022c62cd3e7a9b42910d974b2/libiberty%2Fchoose-temp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fchoose-temp.c?ref=84f79fea91fa299022c62cd3e7a9b42910d974b2", "patch": "@@ -1,5 +1,5 @@\n /* Utility to pick a temporary filename prefix.\n-   Copyright (C) 1996 Free Software Foundation, Inc.\n+   Copyright (C) 1996, 1997 Free Software Foundation, Inc.\n \n This file is part of the libiberty library.\n Libiberty is free software; you can redistribute it and/or\n@@ -22,7 +22,11 @@ Boston, MA 02111-1307, USA.  */\n /* This file lives in at least two places: libiberty and gcc.\n    Don't change one without the other.  */\n \n-#ifndef NO_SYS_FILE_H\n+#ifdef IN_GCC\n+#include \"config.h\"\n+#endif\n+\n+#ifdef HAVE_SYS_FILE_H\n #include <sys/types.h>\n #include <sys/file.h>   /* May get R_OK, etc. on some systems.  */\n #endif\n@@ -36,7 +40,6 @@ Boston, MA 02111-1307, USA.  */\n #include <stdio.h>\t/* May get P_tmpdir.  */\n \n #ifdef IN_GCC\n-#include \"config.h\"\n #include \"gansidecl.h\"\n extern char *xmalloc ();\n #else\n@@ -54,7 +57,7 @@ extern char *xmalloc ();\n /* On MSDOS, write temp files in current dir\n    because there's no place else we can expect to use.  */\n /* ??? Although the current directory is tried as a last resort,\n-   this is left in so that on MSDOS it is prefered to /tmp on the\n+   this is left in so that on MSDOS it is preferred to /tmp on the\n    off chance that someone requires this, since that was the previous\n    behaviour.  */\n #ifdef __MSDOS__\n@@ -68,7 +71,7 @@ extern char *xmalloc ();\n #define TEMP_FILE \"ccXXXXXX\"\n \n /* Subroutine of choose_temp_base.\n-   If BASE is non-NULL, returh it.\n+   If BASE is non-NULL, return it.\n    Otherwise it checks if DIR is a usable directory.\n    If success, DIR is returned.\n    Otherwise NULL is returned.  */\n@@ -114,11 +117,7 @@ choose_temp_base ()\n  \n   /* If all else fails, use the current directory!  */\n   if (base == 0)\n-#ifdef VMS\n-    base = \"[\";\n-#else\n     base = \".\";\n-#endif\n \n #else /* MPW */\n   base = \":\";"}]}