{"sha": "1d682cca6ec62698ace4bf6808048eeb71c77f03", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQ2ODJjY2E2ZWM2MjY5OGFjZTRiZjY4MDgwNDhlZWI3MWM3N2YwMw==", "commit": {"author": {"name": "Ulrich Drepper", "email": "drepper@redhat.com", "date": "2000-01-31T03:31:26Z"}, "committer": {"name": "Ulrich Drepper", "email": "drepper@gcc.gnu.org", "date": "2000-01-31T03:31:26Z"}, "message": "c-decl.c (c_decode_option): Accept optional numeric argument to -Wformat and set warn_format.\n\n        * c-decl.c (c_decode_option): Accept optional numeric argument to\n        -Wformat and set warn_format.\n        * c-common.c: Don't emit warning about non-constant printf format\n        string unless warn_format > 1.\n\nFrom-SVN: r31706", "tree": {"sha": "e047a2eac2af9f74e7a679067edfd0a36f939b8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e047a2eac2af9f74e7a679067edfd0a36f939b8c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d682cca6ec62698ace4bf6808048eeb71c77f03", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d682cca6ec62698ace4bf6808048eeb71c77f03", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d682cca6ec62698ace4bf6808048eeb71c77f03", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d682cca6ec62698ace4bf6808048eeb71c77f03/comments", "author": null, "committer": null, "parents": [{"sha": "4d32029d61393cb78c7d4d5498666ebaef2b12f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d32029d61393cb78c7d4d5498666ebaef2b12f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d32029d61393cb78c7d4d5498666ebaef2b12f2"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "62fd1f62e5c0ce6bb71905d2f2260a75e812d60f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d682cca6ec62698ace4bf6808048eeb71c77f03/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d682cca6ec62698ace4bf6808048eeb71c77f03/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1d682cca6ec62698ace4bf6808048eeb71c77f03", "patch": "@@ -1,3 +1,10 @@\n+2000-01-28  Ulrich Drepper  <drepper@redhat.com>\n+\n+\t* c-decl.c (c_decode_option): Accept optional numeric argument to\n+\t-Wformat and set warn_format.\n+\t* c-common.c: Don't emit warning about non-constant printf format\n+\tstring unless warn_format > 1.\n+\n 2000-01-30  Richard Henderson  <rth@cygnus.com>\n \n \t* alpha.md (return_internal): Allow after reload only."}, {"sha": "c5899e25650f1de05248fc88fbb0759835b33042", "filename": "gcc/c-common.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d682cca6ec62698ace4bf6808048eeb71c77f03/gcc%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d682cca6ec62698ace4bf6808048eeb71c77f03/gcc%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.c?ref=1d682cca6ec62698ace4bf6808048eeb71c77f03", "patch": "@@ -1529,7 +1529,7 @@ check_format_info (info, params)\n       /* Functions taking a va_list normally pass a non-literal format\n \t string.  These functions typically are declared with\n \t first_arg_num == 0, so avoid warning in those cases.  */\n-      if (info->first_arg_num != 0)\n+      if (info->first_arg_num != 0 && warn_format > 1)\n \twarning (\"format not a string literal, argument types not checked\");\n       return;\n     }\n@@ -1541,7 +1541,7 @@ check_format_info (info, params)\n       /* Functions taking a va_list normally pass a non-literal format\n \t string.  These functions typically are declared with\n \t first_arg_num == 0, so avoid warning in those cases.  */\n-      if (info->first_arg_num != 0)\n+      if (info->first_arg_num != 0 && warn_format > 1)\n \twarning (\"format not a string literal, argument types not checked\");\n       return;\n     }"}, {"sha": "ed15761ab208fe5d88998b23ed1b48fc1298d342", "filename": "gcc/c-decl.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d682cca6ec62698ace4bf6808048eeb71c77f03/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d682cca6ec62698ace4bf6808048eeb71c77f03/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=1d682cca6ec62698ace4bf6808048eeb71c77f03", "patch": "@@ -677,6 +677,8 @@ c_decode_option (argc, argv)\n     warn_traditional = 1;\n   else if (!strcmp (p, \"-Wno-traditional\"))\n     warn_traditional = 0;\n+  else if (!strncmp (p, \"-Wformat=\", 9))\n+    warn_format = atol (p + 9);\n   else if (!strcmp (p, \"-Wformat\"))\n     warn_format = 1;\n   else if (!strcmp (p, \"-Wno-format\"))"}]}