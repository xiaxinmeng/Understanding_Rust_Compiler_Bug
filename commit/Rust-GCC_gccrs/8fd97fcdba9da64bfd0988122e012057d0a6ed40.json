{"sha": "8fd97fcdba9da64bfd0988122e012057d0a6ed40", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGZkOTdmY2RiYTlkYTY0YmZkMDk4ODEyMmUwMTIwNTdkMGE2ZWQ0MA==", "commit": {"author": {"name": "Bob Duff", "email": "duff@adacore.com", "date": "2019-08-19T08:37:39Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2019-08-19T08:37:39Z"}, "message": "[Ada] Fix documentation for stream oriented attributes\n\n2019-08-19  Bob Duff  <duff@adacore.com>\n\ngcc/ada/\n\n\t* doc/gnat_rm/implementation_advice.rst: Fix documentation for\n\tstream oriented attributes.\n\t* gnat_rm.texi: Regenerate.\n\nFrom-SVN: r274666", "tree": {"sha": "8d683bc57edc12cc616ba91fe94cb077b5aa6cd7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8d683bc57edc12cc616ba91fe94cb077b5aa6cd7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8fd97fcdba9da64bfd0988122e012057d0a6ed40", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fd97fcdba9da64bfd0988122e012057d0a6ed40", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8fd97fcdba9da64bfd0988122e012057d0a6ed40", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fd97fcdba9da64bfd0988122e012057d0a6ed40/comments", "author": {"login": "bobduff", "id": 29099567, "node_id": "MDQ6VXNlcjI5MDk5NTY3", "avatar_url": "https://avatars.githubusercontent.com/u/29099567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobduff", "html_url": "https://github.com/bobduff", "followers_url": "https://api.github.com/users/bobduff/followers", "following_url": "https://api.github.com/users/bobduff/following{/other_user}", "gists_url": "https://api.github.com/users/bobduff/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobduff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobduff/subscriptions", "organizations_url": "https://api.github.com/users/bobduff/orgs", "repos_url": "https://api.github.com/users/bobduff/repos", "events_url": "https://api.github.com/users/bobduff/events{/privacy}", "received_events_url": "https://api.github.com/users/bobduff/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c27a8bce8a2d215cf265d15f8b57f379ad4d16a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c27a8bce8a2d215cf265d15f8b57f379ad4d16a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c27a8bce8a2d215cf265d15f8b57f379ad4d16a0"}], "stats": {"total": 72, "additions": 39, "deletions": 33}, "files": [{"sha": "e59b7093e731b41aaa0bd950a4bd9a99f537252f", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fd97fcdba9da64bfd0988122e012057d0a6ed40/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fd97fcdba9da64bfd0988122e012057d0a6ed40/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=8fd97fcdba9da64bfd0988122e012057d0a6ed40", "patch": "@@ -1,3 +1,9 @@\n+2019-08-19  Bob Duff  <duff@adacore.com>\n+\n+\t* doc/gnat_rm/implementation_advice.rst: Fix documentation for\n+\tstream oriented attributes.\n+\t* gnat_rm.texi: Regenerate.\n+\n 2019-08-19  Gary Dismukes  <dismukes@adacore.com>\n \n \t* einfo.ads (E_Function, E_Procedure): Update comments to"}, {"sha": "31376d92461447b4e98bb721b4899d860a0aeb1f", "filename": "gcc/ada/doc/gnat_rm/implementation_advice.rst", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fd97fcdba9da64bfd0988122e012057d0a6ed40/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_advice.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fd97fcdba9da64bfd0988122e012057d0a6ed40/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_advice.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_advice.rst?ref=8fd97fcdba9da64bfd0988122e012057d0a6ed40", "patch": "@@ -703,23 +703,23 @@ Followed.\n \n .. index:: Stream oriented attributes\n \n-RM 13.13.2(17): Stream Oriented Attributes\n-==========================================\n+RM 13.13.2(1.6): Stream Oriented Attributes\n+===========================================\n+\n+  \"If not specified, the value of Stream_Size for an elementary type\n+  should be the number of bits that corresponds to the minimum number of\n+  stream elements required by the first subtype of the type, rounded up\n+  to the nearest factor or multiple of the word size that is also a\n+  multiple of the stream element size.\"\n \n-  \"If a stream element is the same size as a storage element, then the\n-  normal in-memory representation should be used by ``Read`` and\n-  ``Write`` for scalar objects.  Otherwise, ``Read`` and ``Write``\n-  should use the smallest number of stream elements needed to represent\n-  all values in the base range of the scalar type.\"\n+Followed, except that the number of stream elements is a power of 2.\n+The Stream_Size may be used to override the default choice.\n \n-Followed.  By default, GNAT uses the interpretation suggested by AI-195,\n-which specifies using the size of the first subtype.\n However, such an implementation is based on direct binary\n-representations and is therefore target- and endianness-dependent.\n-To address this issue, GNAT also supplies an alternate implementation\n-of the stream attributes ``Read`` and ``Write``,\n-which uses the target-independent XDR standard representation\n-for scalar types.\n+representations and is therefore target- and endianness-dependent.  To\n+address this issue, GNAT also supplies an alternate implementation of\n+the stream attributes ``Read`` and ``Write``, which uses the\n+target-independent XDR standard representation for scalar types.\n \n .. index:: XDR representation\n "}, {"sha": "be31ed89584b0df2b829bfb5630a9ae5cdf0ea80", "filename": "gcc/ada/gnat_rm.texi", "status": "modified", "additions": 19, "deletions": 19, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fd97fcdba9da64bfd0988122e012057d0a6ed40/gcc%2Fada%2Fgnat_rm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fd97fcdba9da64bfd0988122e012057d0a6ed40/gcc%2Fada%2Fgnat_rm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_rm.texi?ref=8fd97fcdba9da64bfd0988122e012057d0a6ed40", "patch": "@@ -577,7 +577,7 @@ Implementation Advice\n * RM 13.9(14-17); Unchecked Conversion: RM 13 9 14-17 Unchecked Conversion. \n * RM 13.11(23-25); Implicit Heap Usage: RM 13 11 23-25 Implicit Heap Usage. \n * RM 13.11.2(17); Unchecked Deallocation: RM 13 11 2 17 Unchecked Deallocation. \n-* RM 13.13.2(17); Stream Oriented Attributes: RM 13 13 2 17 Stream Oriented Attributes. \n+* RM 13.13.2(1.6); Stream Oriented Attributes: RM 13 13 2 1 6 Stream Oriented Attributes. \n * RM A.1(52); Names of Predefined Numeric Types: RM A 1 52 Names of Predefined Numeric Types. \n * RM A.3.2(49); Ada.Characters.Handling: RM A 3 2 49 Ada Characters Handling. \n * RM A.4.4(106); Bounded-Length String Handling: RM A 4 4 106 Bounded-Length String Handling. \n@@ -13845,7 +13845,7 @@ case the text describes what GNAT does and why.\n * RM 13.9(14-17); Unchecked Conversion: RM 13 9 14-17 Unchecked Conversion. \n * RM 13.11(23-25); Implicit Heap Usage: RM 13 11 23-25 Implicit Heap Usage. \n * RM 13.11.2(17); Unchecked Deallocation: RM 13 11 2 17 Unchecked Deallocation. \n-* RM 13.13.2(17); Stream Oriented Attributes: RM 13 13 2 17 Stream Oriented Attributes. \n+* RM 13.13.2(1.6); Stream Oriented Attributes: RM 13 13 2 1 6 Stream Oriented Attributes. \n * RM A.1(52); Names of Predefined Numeric Types: RM A 1 52 Names of Predefined Numeric Types. \n * RM A.3.2(49); Ada.Characters.Handling: RM A 3 2 49 Ada Characters Handling. \n * RM A.4.4(106); Bounded-Length String Handling: RM A 4 4 106 Bounded-Length String Handling. \n@@ -14846,7 +14846,7 @@ Followed.\n \n @geindex Unchecked deallocation\n \n-@node RM 13 11 2 17 Unchecked Deallocation,RM 13 13 2 17 Stream Oriented Attributes,RM 13 11 23-25 Implicit Heap Usage,Implementation Advice\n+@node RM 13 11 2 17 Unchecked Deallocation,RM 13 13 2 1 6 Stream Oriented Attributes,RM 13 11 23-25 Implicit Heap Usage,Implementation Advice\n @anchor{gnat_rm/implementation_advice rm-13-11-2-17-unchecked-deallocation}@anchor{235}\n @section RM 13.11.2(17): Unchecked Deallocation\n \n@@ -14861,28 +14861,28 @@ Followed.\n \n @geindex Stream oriented attributes\n \n-@node RM 13 13 2 17 Stream Oriented Attributes,RM A 1 52 Names of Predefined Numeric Types,RM 13 11 2 17 Unchecked Deallocation,Implementation Advice\n-@anchor{gnat_rm/implementation_advice rm-13-13-2-17-stream-oriented-attributes}@anchor{236}\n-@section RM 13.13.2(17): Stream Oriented Attributes\n+@node RM 13 13 2 1 6 Stream Oriented Attributes,RM A 1 52 Names of Predefined Numeric Types,RM 13 11 2 17 Unchecked Deallocation,Implementation Advice\n+@anchor{gnat_rm/implementation_advice rm-13-13-2-1-6-stream-oriented-attributes}@anchor{236}\n+@section RM 13.13.2(1.6): Stream Oriented Attributes\n \n \n @quotation\n \n-\"If a stream element is the same size as a storage element, then the\n-normal in-memory representation should be used by @code{Read} and\n-@code{Write} for scalar objects.  Otherwise, @code{Read} and @code{Write}\n-should use the smallest number of stream elements needed to represent\n-all values in the base range of the scalar type.\"\n+\"If not specified, the value of Stream_Size for an elementary type\n+should be the number of bits that corresponds to the minimum number of\n+stream elements required by the first subtype of the type, rounded up\n+to the nearest factor or multiple of the word size that is also a\n+multiple of the stream element size.\"\n @end quotation\n \n-Followed.  By default, GNAT uses the interpretation suggested by AI-195,\n-which specifies using the size of the first subtype.\n+Followed, except that the number of stream elements is a power of 2.\n+The Stream_Size may be used to override the default choice.\n+\n However, such an implementation is based on direct binary\n-representations and is therefore target- and endianness-dependent.\n-To address this issue, GNAT also supplies an alternate implementation\n-of the stream attributes @code{Read} and @code{Write},\n-which uses the target-independent XDR standard representation\n-for scalar types.\n+representations and is therefore target- and endianness-dependent.  To\n+address this issue, GNAT also supplies an alternate implementation of\n+the stream attributes @code{Read} and @code{Write}, which uses the\n+target-independent XDR standard representation for scalar types.\n \n @geindex XDR representation\n \n@@ -14916,7 +14916,7 @@ Rebuild the GNAT run-time library as documented in\n the @emph{GNAT and Libraries} section of the @cite{GNAT User's Guide}.\n @end itemize\n \n-@node RM A 1 52 Names of Predefined Numeric Types,RM A 3 2 49 Ada Characters Handling,RM 13 13 2 17 Stream Oriented Attributes,Implementation Advice\n+@node RM A 1 52 Names of Predefined Numeric Types,RM A 3 2 49 Ada Characters Handling,RM 13 13 2 1 6 Stream Oriented Attributes,Implementation Advice\n @anchor{gnat_rm/implementation_advice rm-a-1-52-names-of-predefined-numeric-types}@anchor{237}\n @section RM A.1(52): Names of Predefined Numeric Types\n "}]}