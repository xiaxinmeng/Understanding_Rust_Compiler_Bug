{"sha": "a41e62e743af77da51413bd6f865f4c270f11674", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTQxZTYyZTc0M2FmNzdkYTUxNDEzYmQ2Zjg2NWY0YzI3MGYxMTY3NA==", "commit": {"author": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2016-12-01T12:22:32Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2016-12-01T12:22:32Z"}, "message": "tree-ssa-alias.c (indirect_refs_may_alias_p): Do not treat arrays with same type as objects that cannot overlap.\n\n2016-12-01  Richard Biener  <rguenther@suse.de>\n\n\t* tree-ssa-alias.c (indirect_refs_may_alias_p): Do not\n\ttreat arrays with same type as objects that cannot overlap.\n\n\t* gcc.dg/torture/alias-2.c: New testcase.\n\nFrom-SVN: r243107", "tree": {"sha": "0bb6e979e59d10f3a0fc82f0f8851c637f94614a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0bb6e979e59d10f3a0fc82f0f8851c637f94614a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a41e62e743af77da51413bd6f865f4c270f11674", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a41e62e743af77da51413bd6f865f4c270f11674", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a41e62e743af77da51413bd6f865f4c270f11674", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a41e62e743af77da51413bd6f865f4c270f11674/comments", "author": null, "committer": null, "parents": [{"sha": "a1fc386ac283d309eb6af8cf7b009d528bc52a9a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1fc386ac283d309eb6af8cf7b009d528bc52a9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a1fc386ac283d309eb6af8cf7b009d528bc52a9a"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "10f167701e21d8ca3191f5c7bbb8cbc5e8bc6e6a", "filename": "gcc/tree-ssa-alias.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a41e62e743af77da51413bd6f865f4c270f11674/gcc%2Ftree-ssa-alias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a41e62e743af77da51413bd6f865f4c270f11674/gcc%2Ftree-ssa-alias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-alias.c?ref=a41e62e743af77da51413bd6f865f4c270f11674", "patch": "@@ -1355,7 +1355,10 @@ indirect_refs_may_alias_p (tree ref1 ATTRIBUTE_UNUSED, tree base1,\n       && same_type_for_tbaa (TREE_TYPE (base1), TREE_TYPE (ptrtype1)) == 1\n       && same_type_for_tbaa (TREE_TYPE (base2), TREE_TYPE (ptrtype2)) == 1\n       && same_type_for_tbaa (TREE_TYPE (ptrtype1),\n-\t\t\t     TREE_TYPE (ptrtype2)) == 1)\n+\t\t\t     TREE_TYPE (ptrtype2)) == 1\n+      /* But avoid treating arrays as \"objects\", instead assume they\n+         can overlap by an exact multiple of their element size.  */\n+      && TREE_CODE (TREE_TYPE (ptrtype1)) != ARRAY_TYPE)\n     return ranges_overlap_p (offset1, max_size1, offset2, max_size2);\n \n   /* Do type-based disambiguation.  */"}]}