{"sha": "11aac14fcefc15b085f4172ae4eb39542f505b5a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTFhYWMxNGZjZWZjMTViMDg1ZjQxNzJhZTRlYjM5NTQyZjUwNWI1YQ==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2005-08-10T14:21:52Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2005-08-10T14:21:52Z"}, "message": "predicates.md (indexed_or_indirect_address): New.\n\n\t* config/rs6000/predicates.md (indexed_or_indirect_address): New.\n\t* config/rs6000/rs6000.md (prefetch): Remove operand 0 mode and\n\tchange predicate to indexed_or_indirect_address.\n\nFrom-SVN: r102950", "tree": {"sha": "5cde737193d69bf0f8f4036274f146fc1b1bb0e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5cde737193d69bf0f8f4036274f146fc1b1bb0e2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/11aac14fcefc15b085f4172ae4eb39542f505b5a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11aac14fcefc15b085f4172ae4eb39542f505b5a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11aac14fcefc15b085f4172ae4eb39542f505b5a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11aac14fcefc15b085f4172ae4eb39542f505b5a/comments", "author": null, "committer": null, "parents": [{"sha": "9bd0510849773836fce158f056b7d1f81d01f961", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9bd0510849773836fce158f056b7d1f81d01f961", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9bd0510849773836fce158f056b7d1f81d01f961"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "567c4923f22f39a54644ee5a67a5db3fb40a4d3f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11aac14fcefc15b085f4172ae4eb39542f505b5a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11aac14fcefc15b085f4172ae4eb39542f505b5a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=11aac14fcefc15b085f4172ae4eb39542f505b5a", "patch": "@@ -1,3 +1,9 @@\n+2005-08-10  David Edelsohn  <edelsohn@gnu.org>\n+\n+\t* config/rs6000/predicates.md (indexed_or_indirect_address): New.\n+\t* config/rs6000/rs6000.md (prefetch): Remove operand 0 mode and\n+\tchange predicate to indexed_or_indirect_address.\n+\n 2005-08-10  Richard Sandiford  <richard@codesourcery.com>\n \n \t* config/arm/lib1funcs.asm (__aeabi_uidiv, __aeabi_idiv): New aliases."}, {"sha": "68c824a077f37d2180ca0d93072e40cfd41d095d", "filename": "gcc/config/rs6000/predicates.md", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11aac14fcefc15b085f4172ae4eb39542f505b5a/gcc%2Fconfig%2Frs6000%2Fpredicates.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11aac14fcefc15b085f4172ae4eb39542f505b5a/gcc%2Fconfig%2Frs6000%2Fpredicates.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fpredicates.md?ref=11aac14fcefc15b085f4172ae4eb39542f505b5a", "patch": "@@ -369,6 +369,14 @@\n \t\t    || GET_CODE (XEXP (XEXP (op, 0), 1)) != CONST_INT\n \t\t    || INTVAL (XEXP (XEXP (op, 0), 1)) % 4 == 0\")))\n \n+;; Return 1 if the operand is an indexed or indirect address.\n+(define_predicate \"indexed_or_indirect_address\"\n+  (and (match_operand 0 \"address_operand\")\n+       (match_test \"REG_P (op)\n+\t\t    || (GET_CODE (op) == PLUS\n+\t\t\t&& REG_P (XEXP (op, 0)) \n+\t\t\t&& REG_P (XEXP (op, 1)))\")))\n+\n ;; Used for the destination of the fix_truncdfsi2 expander.\n ;; If stfiwx will be used, the result goes to memory; otherwise,\n ;; we're going to emit a store and a load of a subreg, so the dest is a"}, {"sha": "05ff9bd3b4917667eed4aee4f9992745be9c372b", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11aac14fcefc15b085f4172ae4eb39542f505b5a/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11aac14fcefc15b085f4172ae4eb39542f505b5a/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=11aac14fcefc15b085f4172ae4eb39542f505b5a", "patch": "@@ -14016,7 +14016,7 @@\n }\")\n \n (define_insn \"prefetch\"\n-  [(prefetch (match_operand:V4SI 0 \"address_operand\" \"p\")\n+  [(prefetch (match_operand 0 \"indexed_or_indirect_address\" \"p\")\n \t     (match_operand:SI 1 \"const_int_operand\" \"n\")\n \t     (match_operand:SI 2 \"const_int_operand\" \"n\"))]\n   \"TARGET_POWERPC\""}]}