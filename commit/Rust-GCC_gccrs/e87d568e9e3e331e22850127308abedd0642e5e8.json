{"sha": "e87d568e9e3e331e22850127308abedd0642e5e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTg3ZDU2OGU5ZTNlMzMxZTIyODUwMTI3MzA4YWJlZGQwNjQyZTVlOA==", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2021-05-17T11:57:30Z"}, "committer": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2021-05-17T11:57:30Z"}, "message": "testsuite/arm: Improve mve-vshr.c\n\nVector right shifts by immediate use vshr, while right shifts by\nvectors instead use vneg and vshl.\n\nThis patch adds the corresponding scan-assembler-times that were\nmissing.\n\n2021-05-17  Christophe Lyon  <christophe.lyon@linaro.org>\n\n\tgcc/testsuite/\n\t* gcc.target/arm/simd/mve-vshr.c: Add more scan-assembler-times.", "tree": {"sha": "e4ccde636c98bec16e1b4a4b7de5096e474d6104", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e4ccde636c98bec16e1b4a4b7de5096e474d6104"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e87d568e9e3e331e22850127308abedd0642e5e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e87d568e9e3e331e22850127308abedd0642e5e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e87d568e9e3e331e22850127308abedd0642e5e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e87d568e9e3e331e22850127308abedd0642e5e8/comments", "author": null, "committer": null, "parents": [{"sha": "325187841aa66f0d03403d41fe9e696d094588b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/325187841aa66f0d03403d41fe9e696d094588b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/325187841aa66f0d03403d41fe9e696d094588b9"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "d4258e9fefeb1de7b996d6b8aa765fa46810b012", "filename": "gcc/testsuite/gcc.target/arm/simd/mve-vshr.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e87d568e9e3e331e22850127308abedd0642e5e8/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fsimd%2Fmve-vshr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e87d568e9e3e331e22850127308abedd0642e5e8/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fsimd%2Fmve-vshr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fsimd%2Fmve-vshr.c?ref=e87d568e9e3e331e22850127308abedd0642e5e8", "patch": "@@ -55,5 +55,12 @@ FUNC_IMM(u, uint, 8, 16, >>, vshrimm)\n \n /* MVE has only 128-bit vectors, so we can vectorize only half of the\n    functions above.  */\n+/* Vector right shifts use vneg and left shifts.  */\n+/* { dg-final { scan-assembler-times {vshl.s[0-9]+\\tq[0-9]+, q[0-9]+} 3 } } */\n+/* { dg-final { scan-assembler-times {vshl.u[0-9]+\\tq[0-9]+, q[0-9]+} 3 } } */\n+/* { dg-final { scan-assembler-times {vneg.s[0-9]+  q[0-9]+, q[0-9]+} 6 } } */\n+\n+\n+/* Shift by immediate.  */\n /* { dg-final { scan-assembler-times {vshr.s[0-9]+\\tq[0-9]+, q[0-9]+} 3 } } */\n /* { dg-final { scan-assembler-times {vshr.u[0-9]+\\tq[0-9]+, q[0-9]+} 3 } } */"}]}