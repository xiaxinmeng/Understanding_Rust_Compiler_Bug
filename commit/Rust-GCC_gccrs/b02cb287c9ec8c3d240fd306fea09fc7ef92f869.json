{"sha": "b02cb287c9ec8c3d240fd306fea09fc7ef92f869", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjAyY2IyODdjOWVjOGMzZDI0MGZkMzA2ZmVhMDlmYzdlZjkyZjg2OQ==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1994-05-18T20:51:28Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1994-05-18T20:51:28Z"}, "message": "Allow any integral type for bitfields (such as booleans).\n\nFrom-SVN: r7330", "tree": {"sha": "94d8f43be09babbf87a3a9b30dea834d76b32467", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/94d8f43be09babbf87a3a9b30dea834d76b32467"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b02cb287c9ec8c3d240fd306fea09fc7ef92f869", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b02cb287c9ec8c3d240fd306fea09fc7ef92f869", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b02cb287c9ec8c3d240fd306fea09fc7ef92f869", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b02cb287c9ec8c3d240fd306fea09fc7ef92f869/comments", "author": null, "committer": null, "parents": [{"sha": "1d1a832c5c786ad10f2b2116745a44cc172cba85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d1a832c5c786ad10f2b2116745a44cc172cba85", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d1a832c5c786ad10f2b2116745a44cc172cba85"}], "stats": {"total": 5, "additions": 2, "deletions": 3}, "files": [{"sha": "d2c6f2824f98264d2679af8f00e6d79770c4c56b", "filename": "gcc/stor-layout.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b02cb287c9ec8c3d240fd306fea09fc7ef92f869/gcc%2Fstor-layout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b02cb287c9ec8c3d240fd306fea09fc7ef92f869/gcc%2Fstor-layout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstor-layout.c?ref=b02cb287c9ec8c3d240fd306fea09fc7ef92f869", "patch": "@@ -217,11 +217,10 @@ layout_decl (decl, known_align)\n   if (code == FIELD_DECL && DECL_BIT_FIELD (decl))\n     {\n       /* This is a bit-field.  We don't know how to handle\n-\t them except for integers and enums, and front end should\n+\t them except for integral types, and front ends should\n \t never generate them otherwise.  */\n \n-      if (! (TREE_CODE (type) == INTEGER_TYPE\n-\t     || TREE_CODE (type) == ENUMERAL_TYPE))\n+      if (! INTEGRAL_TYPE_P (type))\n \tabort ();\n \n       if (spec_size == 0 && DECL_NAME (decl) != 0)"}]}