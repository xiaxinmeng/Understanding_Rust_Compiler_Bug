{"sha": "3a146d46ce1d0977776ab2c1147c707796565ddd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2ExNDZkNDZjZTFkMDk3Nzc3NmFiMmMxMTQ3YzcwNzc5NjU2NWRkZA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2016-08-17T19:08:49Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2016-08-17T19:08:49Z"}, "message": "re PR fortran/67496 (trans-array.c sanitizer runtime error: load of value 124, which is not a valid value for type 'bool')\n\n\tPR fortran/67496\n\t* trans-array.c (trans_array_constructor): Load\n\texpr->ts.u.cl->length_from_typespec only if expr->ts.type is\n\tBT_CHARACTER.\n\n\t* gfortran.dg/pr67496.f90: New test.\n\nFrom-SVN: r239544", "tree": {"sha": "9b4f7090bbebc0c2c8cc92cffdd826a50a0c326b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9b4f7090bbebc0c2c8cc92cffdd826a50a0c326b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3a146d46ce1d0977776ab2c1147c707796565ddd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a146d46ce1d0977776ab2c1147c707796565ddd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a146d46ce1d0977776ab2c1147c707796565ddd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a146d46ce1d0977776ab2c1147c707796565ddd/comments", "author": null, "committer": null, "parents": [{"sha": "e30c6e0c145c7fb6ed6efc06044a1ee86878dd11", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e30c6e0c145c7fb6ed6efc06044a1ee86878dd11", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e30c6e0c145c7fb6ed6efc06044a1ee86878dd11"}], "stats": {"total": 46, "additions": 35, "deletions": 11}, "files": [{"sha": "53c17042b7cc96be619ff51c6eea4d77f3fc9f49", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a146d46ce1d0977776ab2c1147c707796565ddd/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a146d46ce1d0977776ab2c1147c707796565ddd/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=3a146d46ce1d0977776ab2c1147c707796565ddd", "patch": "@@ -1,6 +1,12 @@\n+2016-08-17  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR fortran/67496\n+\t* trans-array.c (trans_array_constructor): Load\n+\texpr->ts.u.cl->length_from_typespec only if expr->ts.type is\n+\tBT_CHARACTER.\n+\n 2016-08-15  Fritz Reese  <fritzoreese@gmail.com>\n \n-\tgcc/fortran/\n \t* lang.opt, invoke.texi: New flag -finit-derived.\n \t* gfortran.h (gfc_build_default_init_expr, gfc_apply_init,\n \tgfc_generate_initializer): New prototypes."}, {"sha": "2699a767dbf164c9e53425f2293f91619b4ef953", "filename": "gcc/fortran/trans-array.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a146d46ce1d0977776ab2c1147c707796565ddd/gcc%2Ffortran%2Ftrans-array.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a146d46ce1d0977776ab2c1147c707796565ddd/gcc%2Ffortran%2Ftrans-array.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-array.c?ref=3a146d46ce1d0977776ab2c1147c707796565ddd", "patch": "@@ -2239,7 +2239,8 @@ trans_array_constructor (gfc_ss * ss, locus * where)\n \n   /* Do bounds-checking here and in gfc_trans_array_ctor_element only if no\n      typespec was given for the array constructor.  */\n-  typespec_chararray_ctor = (expr->ts.u.cl\n+  typespec_chararray_ctor = (expr->ts.type == BT_CHARACTER\n+\t\t\t     && expr->ts.u.cl\n \t\t\t     && expr->ts.u.cl->length_from_typespec);\n \n   if ((gfc_option.rtcheck & GFC_RTCHECK_BOUNDS)"}, {"sha": "f1a0fa86c34a5ca485105f32d1cd197a014c8e71", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 14, "deletions": 9, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a146d46ce1d0977776ab2c1147c707796565ddd/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a146d46ce1d0977776ab2c1147c707796565ddd/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3a146d46ce1d0977776ab2c1147c707796565ddd", "patch": "@@ -1,7 +1,12 @@\n+2016-08-17  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR fortran/67496\n+\t* gfortran.dg/pr67496.f90: New test.\n+\n 2015-08-17  Alan Hayward <alan.hayward@arm.com>\n \n \tPR tree-optimization/71752\n-\t* gcc.dg/vect/pr71752.c: New\n+\t* gcc.dg/vect/pr71752.c: New.\n \n 2016-08-17  Uros Bizjak  <ubizjak@gmail.com>\n \n@@ -489,9 +494,9 @@\n 2016-08-08  Martin Sebor  <msebor@redhat.com>\n \n \tPR testsuite/72838\n-\t* gcc/testsuite/g++.dg/cpp0x/constexpr-cast.C: Correct target selector.\n-\t* gcc/testsuite/g++.dg/warn/overflow-warn-3.C: Same.\n-\t* gcc/testsuite/g++.dg/warn/overflow-warn-4.C: Same.\n+\t* g++.dg/cpp0x/constexpr-cast.C: Correct target selector.\n+\t* g++.dg/warn/overflow-warn-3.C: Same.\n+\t* g++.dg/warn/overflow-warn-4.C: Same.\n \n 2016-08-08  Andre Vehreschild  <vehre@gcc.gnu.org>\n \n@@ -1835,7 +1840,7 @@\n 2016-07-05  David Malcolm  <dmalcolm@redhat.com>\n \n \tPR c++/62314\n-\t* gcc/testsuite/g++.dg/parse/error5.C: Update column\n+\t* g++.dg/parse/error5.C: Update column\n \tnumber of missing semicolon error.\n \t* g++.dg/pr62314-2.C: New test case.\n \n@@ -1895,8 +1900,8 @@\n \n 2016-07-04  Yuri Rumyantsev  <ysrumyan@gmail.com>\n \n-\t* gcc/testsuite/gcc.target/i386/avx512f-vect-perm-1.c: New test.\n-\t* gcc/testsuite/gcc.target/i386/avx512f-vect-perm-2.c: New test.\n+\t* gcc.target/i386/avx512f-vect-perm-1.c: New test.\n+\t* gcc.target/i386/avx512f-vect-perm-2.c: New test.\n \n 2016-07-04  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n \n@@ -2847,7 +2852,7 @@\n 2016-06-16  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/71242\n-\t* testsuite/gcc.dg/torture/float128-nan.c: Also run on ia64-*-*.\n+\t* gcc.dg/torture/float128-nan.c: Also run on ia64-*-*.\n \n 2016-06-16  Jan Hubicka  <hubicka@ucw.cz>\n \n@@ -3042,7 +3047,7 @@\n 2016-06-12  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/71241\n-\t* testsuite/gcc.dg/torture/float128-nan.c: New test.\n+\t* gcc.dg/torture/float128-nan.c: New test.\n \n 2016-06-12  Dominique d'Humieres  <dominiq@lps.ens.fr>\n "}, {"sha": "754310262bda5386a3f81070ed15d845b18ae15d", "filename": "gcc/testsuite/gfortran.dg/pr67496.f90", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a146d46ce1d0977776ab2c1147c707796565ddd/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr67496.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a146d46ce1d0977776ab2c1147c707796565ddd/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr67496.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr67496.f90?ref=3a146d46ce1d0977776ab2c1147c707796565ddd", "patch": "@@ -0,0 +1,12 @@\n+! PR fortran/67496\n+! { dg-do compile }\n+\n+  type :: a\n+  end type a\n+  type :: b\n+    type (a) :: j(1)\n+  end type b\n+  type(a) :: x\n+  type(b) :: y\n+  y = b((/x/))\n+end"}]}