{"sha": "5f781ba3552b52df5d73b8e0e3435f7e90a44dff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWY3ODFiYTM1NTJiNTJkZjVkNzNiOGUwZTM0MzVmN2U5MGE0NGRmZg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-24T06:51:33Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-24T06:51:33Z"}, "message": "(STARTFILE_SPEC, LINK_SPEC): Don't use crtbegin.o, crtend.o, crtn.o, libp.a.\n\n(STARTFILE_SPEC, LINK_SPEC): Don't use\ncrtbegin.o, crtend.o, crtn.o, libp.a.  Use gcrt0.0, not gcrt1.o.\n(ENDFILE_SPEC): Use crtn.o.\n(CPP_PREDEFINES): Delete _AIX.\n(CPP_SPEC): Add _AIX, _I386, _MBCS.  Handle -posix.\n(ASM_SPEC): Turned off.\n\nFrom-SVN: r4551", "tree": {"sha": "d2f1bd3b89bd4bfafd180a786c4f1eacfd6ffe5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d2f1bd3b89bd4bfafd180a786c4f1eacfd6ffe5a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5f781ba3552b52df5d73b8e0e3435f7e90a44dff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f781ba3552b52df5d73b8e0e3435f7e90a44dff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f781ba3552b52df5d73b8e0e3435f7e90a44dff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f781ba3552b52df5d73b8e0e3435f7e90a44dff/comments", "author": null, "committer": null, "parents": [{"sha": "9a881238debcb40bac276085190116922be04b50", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a881238debcb40bac276085190116922be04b50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a881238debcb40bac276085190116922be04b50"}], "stats": {"total": 16, "additions": 10, "deletions": 6}, "files": [{"sha": "07f6ac7c89c26f9b4ad9068cd2a10552ee6a5ead", "filename": "gcc/config/i386/aix386ng.h", "status": "modified", "additions": 10, "deletions": 6, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f781ba3552b52df5d73b8e0e3435f7e90a44dff/gcc%2Fconfig%2Fi386%2Faix386ng.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f781ba3552b52df5d73b8e0e3435f7e90a44dff/gcc%2Fconfig%2Fi386%2Faix386ng.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Faix386ng.h?ref=5f781ba3552b52df5d73b8e0e3435f7e90a44dff", "patch": "@@ -32,24 +32,28 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n /* Use crt1.o as a startup file and crtn.o as a closing file.  */\n \n-#define STARTFILE_SPEC  \\\n-  \"%{pg:gcrt1.o%s}%{!pg:%{p:mcrt1.o%s}%{!p:crt1.o%s}} crtbegin.o%s\"\n+#define STARTFILE_SPEC \"%{pg:gcrt0.o%s}%{!pg:%{p:mcrt1.o%s}%{!p:crt1.o%s}}\"\n+#define ENDFILE_SPEC   \"crtn.o%s\"\n \n-#define LIB_SPEC \"%{p:-L/usr/lib/libp}%{pg:-L/usr/lib/libp} -lc \\\n-  crtend.o%s crtn.o%s\"\n+#define LIB_SPEC \"%{shlib:-lc_s} -lc\"\n \n /* Special flags for the linker.  I don't know what they do.  */\n \n #define LINK_SPEC \"%{K} %{!K:-K} %{T*} %{z:-lm}\"\n \n /* Specify predefined symbols in preprocessor.  */\n \n-#define CPP_PREDEFINES \"-D_I386 -Di386 -DAIX -D_AIX\"\n+#define CPP_PREDEFINES \"-Dps2 -Dunix -Di386\"\n+\n+#define CPP_SPEC \\\n+  \"%{posix:-D_POSIX_SOURCE}%{!posix:-DAIX} -D_I386 -D_AIX -D_MBCS\"\n \n /* special flags for the aix assembler to generate the short form for all\n    qualifying forward reference */\n-\n+/* The buggy /bin/as of aix ps/2 1.2.x cannot always handle it.\t*/\n+#if 0\n #define ASM_SPEC \"-s2\"\n+#endif /* 0 */\n \n #undef ASM_FILE_START\n #define ASM_FILE_START(FILE) \t\t\t\t\t\\"}]}