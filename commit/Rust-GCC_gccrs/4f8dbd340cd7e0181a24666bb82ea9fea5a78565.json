{"sha": "4f8dbd340cd7e0181a24666bb82ea9fea5a78565", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGY4ZGJkMzQwY2Q3ZTAxODFhMjQ2NjZiYjgyZWE5ZmVhNWE3ODU2NQ==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2005-08-10T17:53:52Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2005-08-10T17:53:52Z"}, "message": "darwin.c (machopic_indirect_data_reference): Use a new register for the high part when generating dynamic-no-pic code.\n\n2005-08-10  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        * config/darwin.c (machopic_indirect_data_reference): Use a new register\n        for the high part when generating dynamic-no-pic code.\n\nFrom-SVN: r102955", "tree": {"sha": "51397593a2890a298bd74aacc8acf0aebf36cfb5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/51397593a2890a298bd74aacc8acf0aebf36cfb5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f8dbd340cd7e0181a24666bb82ea9fea5a78565", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f8dbd340cd7e0181a24666bb82ea9fea5a78565", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f8dbd340cd7e0181a24666bb82ea9fea5a78565", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f8dbd340cd7e0181a24666bb82ea9fea5a78565/comments", "author": null, "committer": null, "parents": [{"sha": "d75e02d6431bdc368eeff1d96212279a8ca30886", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d75e02d6431bdc368eeff1d96212279a8ca30886", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d75e02d6431bdc368eeff1d96212279a8ca30886"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "6a6159bb75c70ddd6d4b3cc993ebda8d376f6b64", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f8dbd340cd7e0181a24666bb82ea9fea5a78565/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f8dbd340cd7e0181a24666bb82ea9fea5a78565/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4f8dbd340cd7e0181a24666bb82ea9fea5a78565", "patch": "@@ -1,3 +1,8 @@\n+2005-08-10  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\t* config/darwin.c (machopic_indirect_data_reference): Use a new register\n+\tfor the high part when generating dynamic-no-pic code.\n+\n 2005-08-10  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config.gcc (i[34567]86-*-linux*): Add i386/t-crtfm to tm-file."}, {"sha": "fd503efc9500e327bf6e078c89d0fa15fd3715a5", "filename": "gcc/config/darwin.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f8dbd340cd7e0181a24666bb82ea9fea5a78565/gcc%2Fconfig%2Fdarwin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f8dbd340cd7e0181a24666bb82ea9fea5a78565/gcc%2Fconfig%2Fdarwin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.c?ref=4f8dbd340cd7e0181a24666bb82ea9fea5a78565", "patch": "@@ -419,8 +419,10 @@ machopic_indirect_data_reference (rtx orig, rtx reg)\n       if (defined && MACHO_DYNAMIC_NO_PIC_P)\n \t{\n #if defined (TARGET_TOC)\n- \t  emit_insn (gen_macho_high (reg, orig));\n- \t  emit_insn (gen_macho_low (reg, reg, orig));\n+\t  /* Create a new register for CSE opportunities.  */\n+\t  rtx hi_reg = (no_new_pseudos ? reg : gen_reg_rtx (Pmode));\n+ \t  emit_insn (gen_macho_high (hi_reg, orig));\n+ \t  emit_insn (gen_macho_low (reg, hi_reg, orig));\n #else\n \t   /* some other cpu -- writeme!  */\n \t   gcc_unreachable ();"}]}