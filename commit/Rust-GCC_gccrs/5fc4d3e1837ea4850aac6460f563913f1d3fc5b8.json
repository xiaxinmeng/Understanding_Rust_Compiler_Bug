{"sha": "5fc4d3e1837ea4850aac6460f563913f1d3fc5b8", "node_id": "C_kwDOANBUbNoAKDVmYzRkM2UxODM3ZWE0ODUwYWFjNjQ2MGY1NjM5MTNmMWQzZmM1Yjg", "commit": {"author": {"name": "Stefan Schulze Frielinghaus", "email": "stefansf@linux.ibm.com", "date": "2022-10-06T06:43:53Z"}, "committer": {"name": "Stefan Schulze Frielinghaus", "email": "stefansf@linux.ibm.com", "date": "2022-10-06T06:43:53Z"}, "message": "cselib: Skip BImode while keeping track of subvalue relations [PR107088]\n\nFor BImode get_narrowest_mode evaluates to QImode but BImode < QImode.\nThus FOR_EACH_MODE_UNTIL never reaches BImode and iterates until OImode\nfor which no wider mode exists so we end up with VOIDmode and fail.\nFixed by adding a size guard so we effectively skip BImode.\n\ngcc/ChangeLog:\n\n\tPR rtl-optimization/107088\n\t* cselib.cc (new_cselib_val): Skip BImode while keeping track of\n\tsubvalue relations.", "tree": {"sha": "f6101e8cdf333b8ec34da24e3969977e37cd5938", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f6101e8cdf333b8ec34da24e3969977e37cd5938"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5fc4d3e1837ea4850aac6460f563913f1d3fc5b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5fc4d3e1837ea4850aac6460f563913f1d3fc5b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5fc4d3e1837ea4850aac6460f563913f1d3fc5b8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5fc4d3e1837ea4850aac6460f563913f1d3fc5b8/comments", "author": {"login": "stefan-sf-ibm", "id": 73470131, "node_id": "MDQ6VXNlcjczNDcwMTMx", "avatar_url": "https://avatars.githubusercontent.com/u/73470131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefan-sf-ibm", "html_url": "https://github.com/stefan-sf-ibm", "followers_url": "https://api.github.com/users/stefan-sf-ibm/followers", "following_url": "https://api.github.com/users/stefan-sf-ibm/following{/other_user}", "gists_url": "https://api.github.com/users/stefan-sf-ibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefan-sf-ibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefan-sf-ibm/subscriptions", "organizations_url": "https://api.github.com/users/stefan-sf-ibm/orgs", "repos_url": "https://api.github.com/users/stefan-sf-ibm/repos", "events_url": "https://api.github.com/users/stefan-sf-ibm/events{/privacy}", "received_events_url": "https://api.github.com/users/stefan-sf-ibm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "stefan-sf-ibm", "id": 73470131, "node_id": "MDQ6VXNlcjczNDcwMTMx", "avatar_url": "https://avatars.githubusercontent.com/u/73470131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefan-sf-ibm", "html_url": "https://github.com/stefan-sf-ibm", "followers_url": "https://api.github.com/users/stefan-sf-ibm/followers", "following_url": "https://api.github.com/users/stefan-sf-ibm/following{/other_user}", "gists_url": "https://api.github.com/users/stefan-sf-ibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefan-sf-ibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefan-sf-ibm/subscriptions", "organizations_url": "https://api.github.com/users/stefan-sf-ibm/orgs", "repos_url": "https://api.github.com/users/stefan-sf-ibm/repos", "events_url": "https://api.github.com/users/stefan-sf-ibm/events{/privacy}", "received_events_url": "https://api.github.com/users/stefan-sf-ibm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e9d50e7a4e290d7476cc7e6b5a8f2f1fb496c570", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9d50e7a4e290d7476cc7e6b5a8f2f1fb496c570", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e9d50e7a4e290d7476cc7e6b5a8f2f1fb496c570"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "2abc763a3f8ed4f7bb2460b8fd9cba94b6520b59", "filename": "gcc/cselib.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fc4d3e1837ea4850aac6460f563913f1d3fc5b8/gcc%2Fcselib.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fc4d3e1837ea4850aac6460f563913f1d3fc5b8/gcc%2Fcselib.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcselib.cc?ref=5fc4d3e1837ea4850aac6460f563913f1d3fc5b8", "patch": "@@ -1571,6 +1571,7 @@ new_cselib_val (unsigned int hash, machine_mode mode, rtx x)\n \n   scalar_int_mode int_mode;\n   if (REG_P (x) && is_int_mode (mode, &int_mode)\n+      && GET_MODE_SIZE (int_mode) > 1\n       && REG_VALUES (REGNO (x)) != NULL\n       && (!cselib_current_insn || !DEBUG_INSN_P (cselib_current_insn)))\n     {"}]}