{"sha": "7348f18cb1d809fa58aff195d9780e683c60b6ce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzM0OGYxOGNiMWQ4MDlmYTU4YWZmMTk1ZDk3ODBlNjgzYzYwYjZjZQ==", "commit": {"author": {"name": "Geert Bosch", "email": "bosch@adacore.com", "date": "2008-11-15T14:11:58Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2008-11-15T14:11:58Z"}, "message": "trans.c (emit_check): Put back a final save_expr to prevent exponential expansion during gimplification.\n\n\t* gcc-interface/trans.c (emit_check): Put back a final save_expr\n\tto prevent exponential expansion during gimplification.\n\nFrom-SVN: r141885", "tree": {"sha": "cae7485d6978a41267b90bf1bcf27f1ea454139b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cae7485d6978a41267b90bf1bcf27f1ea454139b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7348f18cb1d809fa58aff195d9780e683c60b6ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7348f18cb1d809fa58aff195d9780e683c60b6ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7348f18cb1d809fa58aff195d9780e683c60b6ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7348f18cb1d809fa58aff195d9780e683c60b6ce/comments", "author": null, "committer": null, "parents": [{"sha": "708bceb76e088c312d252f394a8585c1e74056e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/708bceb76e088c312d252f394a8585c1e74056e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/708bceb76e088c312d252f394a8585c1e74056e9"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "ec605ab78627365eaf6ab25dab5b17d049674616", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7348f18cb1d809fa58aff195d9780e683c60b6ce/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7348f18cb1d809fa58aff195d9780e683c60b6ce/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=7348f18cb1d809fa58aff195d9780e683c60b6ce", "patch": "@@ -1,3 +1,8 @@\n+2008-11-15  Geert Bosch  <bosch@adacore.com>\n+\n+\t* gcc-interface/trans.c (emit_check): Put back a final save_expr\n+\tto prevent exponential expansion during gimplification.\n+\n 2008-11-15  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/lang-specs.h: Expand -coverage and reorder switches."}, {"sha": "51d20d26e1d1d386a74eaf9cd8fa780b43a745d8", "filename": "gcc/ada/gcc-interface/trans.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7348f18cb1d809fa58aff195d9780e683c60b6ce/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7348f18cb1d809fa58aff195d9780e683c60b6ce/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Ftrans.c?ref=7348f18cb1d809fa58aff195d9780e683c60b6ce", "patch": "@@ -6289,7 +6289,10 @@ emit_check (tree gnu_cond, tree gnu_expr, int reason)\n      we don't need to evaluate it just for the check.  */\n   TREE_SIDE_EFFECTS (gnu_result) = TREE_SIDE_EFFECTS (gnu_expr);\n \n-  return gnu_result;\n+  /* ??? Unfortunately, if we don't put a SAVE_EXPR around this whole thing,\n+     we will repeatedly do the test and, at compile time, we will repeatedly\n+     visit it during unsharing, which leads to an exponential explosion.  */\n+  return save_expr (gnu_result);\n }\n \f\n /* Return an expression that converts GNU_EXPR to GNAT_TYPE, doing"}]}