{"sha": "2e2d40751c26880f61cc44d1e91a84e7083a64eb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmUyZDQwNzUxYzI2ODgwZjYxY2M0NGQxZTkxYTg0ZTcwODNhNjRlYg==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2003-06-28T13:48:53Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2003-06-28T13:48:53Z"}, "message": "re PR c++/10784 (Warning about choosing custom operator over copy constructor cannot be turned off (and it's useless in the first place))\n\n\tPR c++/10784\n\t* call.c (joust): Move warn_conversion check outwards.\n\nFrom-SVN: r68639", "tree": {"sha": "05f895a134d449d1d7c92cc951fb76022ebdee3d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/05f895a134d449d1d7c92cc951fb76022ebdee3d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2e2d40751c26880f61cc44d1e91a84e7083a64eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e2d40751c26880f61cc44d1e91a84e7083a64eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e2d40751c26880f61cc44d1e91a84e7083a64eb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e2d40751c26880f61cc44d1e91a84e7083a64eb/comments", "author": null, "committer": null, "parents": [{"sha": "c707a408ca647b98b599cd775b8c66689f3fd04c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c707a408ca647b98b599cd775b8c66689f3fd04c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c707a408ca647b98b599cd775b8c66689f3fd04c"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "41ed2699640f9d745e12f872c87e1d05a77c447b", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e2d40751c26880f61cc44d1e91a84e7083a64eb/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e2d40751c26880f61cc44d1e91a84e7083a64eb/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=2e2d40751c26880f61cc44d1e91a84e7083a64eb", "patch": "@@ -1,3 +1,8 @@\n+2003-06-28  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\tPR c++/10784\n+\t* call.c (joust): Move warn_conversion check outwards.\n+\n 2003-06-27  Zack Weinberg  <zack@codesourcery.com>\n \n \t* decl.c (build_typename_type)"}, {"sha": "d92a24e699a18bd7591ddbfd98c89dad67fe9393", "filename": "gcc/cp/call.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e2d40751c26880f61cc44d1e91a84e7083a64eb/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e2d40751c26880f61cc44d1e91a84e7083a64eb/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=2e2d40751c26880f61cc44d1e91a84e7083a64eb", "patch": "@@ -5782,7 +5782,7 @@ joust (struct z_candidate *cand1, struct z_candidate *cand2, bool warn)\n   /* warn about confusing overload resolution for user-defined conversions,\n      either between a constructor and a conversion op, or between two\n      conversion ops.  */\n-  if (winner && cand1->second_conv\n+  if (winner && warn_conversion && cand1->second_conv\n       && (!DECL_CONSTRUCTOR_P (cand1->fn) || !DECL_CONSTRUCTOR_P (cand2->fn))\n       && winner != compare_ics (cand1->second_conv, cand2->second_conv))\n     {\n@@ -5816,7 +5816,7 @@ joust (struct z_candidate *cand1, struct z_candidate *cand2, bool warn)\n       \n       if (!give_warning)\n \t/*NOP*/;\n-      else if (warn && warn_conversion)\n+      else if (warn)\n \t{\n \t  tree source = source_type (TREE_VEC_ELT (w->convs, 0));\n \t  if (! DECL_CONSTRUCTOR_P (w->fn))"}]}