{"sha": "9989a43983116c05aca5c3b5fc30191524b73b94", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTk4OWE0Mzk4MzExNmMwNWFjYTVjM2I1ZmMzMDE5MTUyNGI3M2I5NA==", "commit": {"author": {"name": "Patrick Bernardi", "email": "bernardi@adacore.com", "date": "2018-11-14T11:42:43Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2018-11-14T11:42:43Z"}, "message": "[Ada] Update signal constants for GNU/Linux\n\nAdd the signal SIGSYS and mark the glibc reserved real-time signals\n(32-34) as reserved rather than not maskable.\n\n2018-11-14  Patrick Bernardi  <bernardi@adacore.com>\n\ngcc/ada/\n\n\t* libgnarl/a-intnam__linux.ads: Add SIGSYS.\n\t* libgnarl/s-linux__alpha.ads, libgnarl/s-linux__android.ads,\n\tlibgnarl/s-linux__hppa.ads, libgnarl/s-linux__mips.ads,\n\tlibgnarl/s-linux__riscv.ads, libgnarl/s-linux__sparc.ads,\n\tlibgnarl/s-linux__x32.ads: Rename SIGLTHRRES, SIGLTHRCAN and\n\tSIGLTHRDBG to SIG32, SIG33 and SIG34 as their names are\n\timplementation specific.\n\t* libgnarl/s-osinte__linux.ads, libgnarl/s-linux.ads: Add\n\tSIGSYS.  Move SIG32, SIG33 and SIG34 from the unmasked list to\n\tthe reserved list.\n\ngcc/testsuite/\n\n\t* gnat.dg/rt_signals.adb: New testcase.\n\nFrom-SVN: r266136", "tree": {"sha": "e211353fb4056a878deecdebb98793079b144e02", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e211353fb4056a878deecdebb98793079b144e02"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9989a43983116c05aca5c3b5fc30191524b73b94", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9989a43983116c05aca5c3b5fc30191524b73b94", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9989a43983116c05aca5c3b5fc30191524b73b94", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9989a43983116c05aca5c3b5fc30191524b73b94/comments", "author": {"login": "burratoo", "id": 23646118, "node_id": "MDQ6VXNlcjIzNjQ2MTE4", "avatar_url": "https://avatars.githubusercontent.com/u/23646118?v=4", "gravatar_id": "", "url": "https://api.github.com/users/burratoo", "html_url": "https://github.com/burratoo", "followers_url": "https://api.github.com/users/burratoo/followers", "following_url": "https://api.github.com/users/burratoo/following{/other_user}", "gists_url": "https://api.github.com/users/burratoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/burratoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/burratoo/subscriptions", "organizations_url": "https://api.github.com/users/burratoo/orgs", "repos_url": "https://api.github.com/users/burratoo/repos", "events_url": "https://api.github.com/users/burratoo/events{/privacy}", "received_events_url": "https://api.github.com/users/burratoo/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f1e2bf6571b64c39c1bd458b3a26f929a5f39ad9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f1e2bf6571b64c39c1bd458b3a26f929a5f39ad9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f1e2bf6571b64c39c1bd458b3a26f929a5f39ad9"}], "stats": {"total": 164, "additions": 101, "deletions": 63}, "files": [{"sha": "14cc1fd3fd7bd05b787b06f382430ccf78c4bd0a", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=9989a43983116c05aca5c3b5fc30191524b73b94", "patch": "@@ -1,3 +1,16 @@\n+2018-11-14  Patrick Bernardi  <bernardi@adacore.com>\n+\n+\t* libgnarl/a-intnam__linux.ads: Add SIGSYS.\n+\t* libgnarl/s-linux__alpha.ads, libgnarl/s-linux__android.ads,\n+\tlibgnarl/s-linux__hppa.ads, libgnarl/s-linux__mips.ads,\n+\tlibgnarl/s-linux__riscv.ads, libgnarl/s-linux__sparc.ads,\n+\tlibgnarl/s-linux__x32.ads: Rename SIGLTHRRES, SIGLTHRCAN and\n+\tSIGLTHRDBG to SIG32, SIG33 and SIG34 as their names are\n+\timplementation specific.\n+\t* libgnarl/s-osinte__linux.ads, libgnarl/s-linux.ads: Add\n+\tSIGSYS.  Move SIG32, SIG33 and SIG34 from the unmasked list to\n+\tthe reserved list.\n+\n 2018-11-14  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* exp_aggr.adb (Is_Static_Element): New predicate extracted"}, {"sha": "b9d23ae47a1e773e169ae758d88de4c012216e71", "filename": "gcc/ada/libgnarl/a-intnam__linux.ads", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fa-intnam__linux.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fa-intnam__linux.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fa-intnam__linux.ads?ref=9989a43983116c05aca5c3b5fc30191524b73b94", "patch": "@@ -160,4 +160,7 @@ package Ada.Interrupts.Names is\n    SIGPWR : constant Interrupt_ID :=\n      System.OS_Interface.SIGPWR;        --  Power failure\n \n+   SIGSYS : constant Interrupt_ID :=\n+     System.OS_Interface.SIGSYS;       --  bad system call\n+\n end Ada.Interrupts.Names;"}, {"sha": "5d5776232f4192d73466075a010cd588f5b4db33", "filename": "gcc/ada/libgnarl/s-linux.ads", "status": "modified", "additions": 16, "deletions": 15, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux.ads?ref=9989a43983116c05aca5c3b5fc30191524b73b94", "patch": "@@ -86,34 +86,35 @@ package System.Linux is\n    SIGFPE     : constant := 8; --  floating point exception\n    SIGKILL    : constant := 9; --  kill (cannot be caught or ignored)\n    SIGBUS     : constant := 7; --  bus error\n+   SIGUSR1    : constant := 10; --  user defined signal 1\n    SIGSEGV    : constant := 11; --  segmentation violation\n+   SIGUSR2    : constant := 12; --  user defined signal 2\n    SIGPIPE    : constant := 13; --  write on a pipe with no one to read it\n    SIGALRM    : constant := 14; --  alarm clock\n    SIGTERM    : constant := 15; --  software termination signal from kill\n-   SIGUSR1    : constant := 10; --  user defined signal 1\n-   SIGUSR2    : constant := 12; --  user defined signal 2\n+   SIGSTKFLT  : constant := 16; --  coprocessor stack fault (Linux)\n    SIGCLD     : constant := 17; --  alias for SIGCHLD\n    SIGCHLD    : constant := 17; --  child status change\n-   SIGPWR     : constant := 30; --  power-fail restart\n-   SIGWINCH   : constant := 28; --  window size change\n-   SIGURG     : constant := 23; --  urgent condition on IO channel\n-   SIGPOLL    : constant := 29; --  pollable event occurred\n-   SIGIO      : constant := 29; --  I/O now possible (4.2 BSD)\n-   SIGLOST    : constant := 29; --  File lock lost\n    SIGSTOP    : constant := 19; --  stop (cannot be caught or ignored)\n    SIGTSTP    : constant := 20; --  user stop requested from tty\n    SIGCONT    : constant := 18; --  stopped process has been continued\n    SIGTTIN    : constant := 21; --  background tty read attempted\n    SIGTTOU    : constant := 22; --  background tty write attempted\n-   SIGVTALRM  : constant := 26; --  virtual timer expired\n-   SIGPROF    : constant := 27; --  profiling timer expired\n+   SIGURG     : constant := 23; --  urgent condition on IO channel\n    SIGXCPU    : constant := 24; --  CPU time limit exceeded\n    SIGXFSZ    : constant := 25; --  filesize limit exceeded\n-   SIGUNUSED  : constant := 31; --  unused signal (GNU/Linux)\n-   SIGSTKFLT  : constant := 16; --  coprocessor stack fault (Linux)\n-   SIGLTHRRES : constant := 32; --  GNU/LinuxThreads restart signal\n-   SIGLTHRCAN : constant := 33; --  GNU/LinuxThreads cancel signal\n-   SIGLTHRDBG : constant := 34; --  GNU/LinuxThreads debugger signal\n+   SIGVTALRM  : constant := 26; --  virtual timer expired\n+   SIGPROF    : constant := 27; --  profiling timer expired\n+   SIGWINCH   : constant := 28; --  window size change\n+   SIGPOLL    : constant := 29; --  pollable event occurred\n+   SIGIO      : constant := 29; --  I/O now possible (4.2 BSD)\n+   SIGLOST    : constant := 29; --  File lock lost\n+   SIGPWR     : constant := 30; --  power-fail restart\n+   SIGSYS     : constant := 31; --  bad system call\n+   SIGUNUSED  : constant := 31; --  unused signal (mapped to SIGSYS)\n+   SIG32      : constant := 32; --  glibc internal signal\n+   SIG33      : constant := 33; --  glibc internal signal\n+   SIG34      : constant := 34; --  glibc internal signal\n \n    --  struct_sigaction offsets\n "}, {"sha": "96602ca7dc1a852a879b2ab40b9ef4eee70c2be2", "filename": "gcc/ada/libgnarl/s-linux__alpha.ads", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux__alpha.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux__alpha.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux__alpha.ads?ref=9989a43983116c05aca5c3b5fc30191524b73b94", "patch": "@@ -109,9 +109,9 @@ package System.Linux is\n    SIGUSR1    : constant := 30; --  user defined signal 1\n    SIGUSR2    : constant := 31; --  user defined signal 2\n \n-   SIGLTHRRES : constant := 32; --  GNU/LinuxThreads restart signal\n-   SIGLTHRCAN : constant := 33; --  GNU/LinuxThreads cancel signal\n-   SIGLTHRDBG : constant := 34; --  GNU/LinuxThreads debugger signal\n+   SIG32      : constant := 32; --  glibc internal signal\n+   SIG33      : constant := 33; --  glibc internal signal\n+   SIG34      : constant := 34; --  glibc internal signal\n \n    SIGADAABORT : constant := SIGABRT;\n    --  Change this if you want to use another signal for task abort."}, {"sha": "5457d83c0778546bee0ef2e4ec5e9cedcf3f76dd", "filename": "gcc/ada/libgnarl/s-linux__android.ads", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux__android.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux__android.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux__android.ads?ref=9989a43983116c05aca5c3b5fc30191524b73b94", "patch": "@@ -111,9 +111,9 @@ package System.Linux is\n    SIGXFSZ    : constant := 25; --  filesize limit exceeded\n    SIGUNUSED  : constant := 31; --  unused signal (GNU/Linux)\n    SIGSTKFLT  : constant := 16; --  coprocessor stack fault (Linux)\n-   SIGLTHRRES : constant := 32; --  GNU/LinuxThreads restart signal\n-   SIGLTHRCAN : constant := 33; --  GNU/LinuxThreads cancel signal\n-   SIGLTHRDBG : constant := 34; --  GNU/LinuxThreads debugger signal\n+   SIG32      : constant := 32; --  glibc internal signal\n+   SIG33      : constant := 33; --  glibc internal signal\n+   SIG34      : constant := 34; --  glibc internal signal\n \n    --  struct_sigaction offsets\n "}, {"sha": "ec5c5736b823493819f226a3f18879de93a22542", "filename": "gcc/ada/libgnarl/s-linux__hppa.ads", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux__hppa.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux__hppa.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux__hppa.ads?ref=9989a43983116c05aca5c3b5fc30191524b73b94", "patch": "@@ -113,9 +113,9 @@ package System.Linux is\n    SIGXCPU    : constant := 33; --  CPU time limit exceeded\n    SIGXFSZ    : constant := 34; --  filesize limit exceeded\n    SIGSTKFLT  : constant := 36; --  coprocessor stack fault (Linux)\n-   SIGLTHRRES : constant := 37; --  GNU/LinuxThreads restart signal\n-   SIGLTHRCAN : constant := 38; --  GNU/LinuxThreads cancel signal\n-   SIGLTHRDBG : constant := 39; --  GNU/LinuxThreads debugger signal\n+   SIG32      : constant := 37; --  glibc internal signal\n+   SIG33      : constant := 38; --  glibc internal signal\n+   SIG34      : constant := 39; --  glibc internal signal\n \n    --  struct_sigaction offsets\n "}, {"sha": "6130b6e935babbe5201dd443757169a00af60e82", "filename": "gcc/ada/libgnarl/s-linux__mips.ads", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux__mips.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux__mips.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux__mips.ads?ref=9989a43983116c05aca5c3b5fc30191524b73b94", "patch": "@@ -111,9 +111,9 @@ package System.Linux is\n    SIGXCPU    : constant := 30; --  CPU time limit exceeded\n    SIGXFSZ    : constant := 31; --  filesize limit exceeded\n \n-   SIGLTHRRES : constant := 32; --  GNU/LinuxThreads restart signal\n-   SIGLTHRCAN : constant := 33; --  GNU/LinuxThreads cancel signal\n-   SIGLTHRDBG : constant := 34; --  GNU/LinuxThreads debugger signal\n+   SIG32      : constant := 32; --  glibc internal signal\n+   SIG33      : constant := 33; --  glibc internal signal\n+   SIG34      : constant := 34; --  glibc internal signal\n \n    --  These don't exist for Linux/MIPS.  The constants are present\n    --  so that we can continue to use a-intnam-linux.ads."}, {"sha": "77543d8a5a2182c424f27930bf9f042441ce0e1f", "filename": "gcc/ada/libgnarl/s-linux__riscv.ads", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux__riscv.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux__riscv.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux__riscv.ads?ref=9989a43983116c05aca5c3b5fc30191524b73b94", "patch": "@@ -110,10 +110,9 @@ package System.Linux is\n    SIGIO      : constant := 29; --  I/O now possible (4.2 BSD)\n    SIGPWR     : constant := 30; --  power-fail restart\n    SIGSYS     : constant := 31; --  bad system call\n-\n-   SIGLTHRRES : constant := 0; --  GNU/LinuxThreads restart signal\n-   SIGLTHRCAN : constant := 0; --  GNU/LinuxThreads cancel signal\n-   SIGLTHRDBG : constant := 0; --  GNU/LinuxThreads debugger signal\n+   SIG32      : constant := 32; --  glibc internal signal\n+   SIG33      : constant := 33; --  glibc internal signal\n+   SIG34      : constant := 34; --  glibc internal signal\n \n    --  These don't exist for Linux/RISC-V.  The constants are present\n    --  so that we can continue to use a-intnam-linux.ads."}, {"sha": "3b0a9cb7fe008f2d44affc3f258f118fb3e6dfbd", "filename": "gcc/ada/libgnarl/s-linux__sparc.ads", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux__sparc.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux__sparc.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux__sparc.ads?ref=9989a43983116c05aca5c3b5fc30191524b73b94", "patch": "@@ -112,9 +112,9 @@ package System.Linux is\n    SIGUSR1    : constant := 30; --  user defined signal 1\n    SIGUSR2    : constant := 31; --  user defined signal 2\n \n-   SIGLTHRRES : constant := 32; --  GNU/LinuxThreads restart signal\n-   SIGLTHRCAN : constant := 33; --  GNU/LinuxThreads cancel signal\n-   SIGLTHRDBG : constant := 34; --  GNU/LinuxThreads debugger signal\n+   SIG32      : constant := 32; --  glibc internal signal\n+   SIG33      : constant := 33; --  glibc internal signal\n+   SIG34      : constant := 34; --  glibc internal signal\n \n    SIGUNUSED  : constant := 0;\n    SIGSTKFLT  : constant := 0;"}, {"sha": "ea57a604018e217267c143c8e21ce371c4accd12", "filename": "gcc/ada/libgnarl/s-linux__x32.ads", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux__x32.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-linux__x32.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-linux__x32.ads?ref=9989a43983116c05aca5c3b5fc30191524b73b94", "patch": "@@ -111,9 +111,9 @@ package System.Linux is\n    SIGXFSZ    : constant := 25; --  filesize limit exceeded\n    SIGUNUSED  : constant := 31; --  unused signal (GNU/Linux)\n    SIGSTKFLT  : constant := 16; --  coprocessor stack fault (Linux)\n-   SIGLTHRRES : constant := 32; --  GNU/LinuxThreads restart signal\n-   SIGLTHRCAN : constant := 33; --  GNU/LinuxThreads cancel signal\n-   SIGLTHRDBG : constant := 34; --  GNU/LinuxThreads debugger signal\n+   SIG32      : constant := 32; --  glibc internal signal\n+   SIG33      : constant := 33; --  glibc internal signal\n+   SIG34      : constant := 34; --  glibc internal signal\n \n    --  struct_sigaction offsets\n "}, {"sha": "88d68fa4c04e2cfa3655d68e6328af30bbc5d5b8", "filename": "gcc/ada/libgnarl/s-osinte__linux.ads", "status": "modified", "additions": 30, "deletions": 26, "changes": 56, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-osinte__linux.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Fada%2Flibgnarl%2Fs-osinte__linux.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__linux.ads?ref=9989a43983116c05aca5c3b5fc30191524b73b94", "patch": "@@ -30,7 +30,7 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n---  This is a GNU/Linux (GNU/LinuxThreads) version of this package\n+--  This is a GNU/Linux version of this package\n \n --  This package encapsulates all direct interfaces to OS services\n --  that are needed by the tasking run-time (libgnarl).\n@@ -90,37 +90,38 @@ package System.OS_Interface is\n    SIGTRAP    : constant := System.Linux.SIGTRAP;\n    SIGIOT     : constant := System.Linux.SIGIOT;\n    SIGABRT    : constant := System.Linux.SIGABRT;\n+   SIGBUS     : constant := System.Linux.SIGBUS;\n    SIGFPE     : constant := System.Linux.SIGFPE;\n    SIGKILL    : constant := System.Linux.SIGKILL;\n-   SIGBUS     : constant := System.Linux.SIGBUS;\n+   SIGUSR1    : constant := System.Linux.SIGUSR1;\n    SIGSEGV    : constant := System.Linux.SIGSEGV;\n+   SIGUSR2    : constant := System.Linux.SIGUSR2;\n    SIGPIPE    : constant := System.Linux.SIGPIPE;\n    SIGALRM    : constant := System.Linux.SIGALRM;\n    SIGTERM    : constant := System.Linux.SIGTERM;\n-   SIGUSR1    : constant := System.Linux.SIGUSR1;\n-   SIGUSR2    : constant := System.Linux.SIGUSR2;\n+   SIGSTKFLT  : constant := System.Linux.SIGSTKFLT;\n    SIGCLD     : constant := System.Linux.SIGCLD;\n    SIGCHLD    : constant := System.Linux.SIGCHLD;\n-   SIGPWR     : constant := System.Linux.SIGPWR;\n-   SIGWINCH   : constant := System.Linux.SIGWINCH;\n-   SIGURG     : constant := System.Linux.SIGURG;\n-   SIGPOLL    : constant := System.Linux.SIGPOLL;\n-   SIGIO      : constant := System.Linux.SIGIO;\n-   SIGLOST    : constant := System.Linux.SIGLOST;\n+   SIGCONT    : constant := System.Linux.SIGCONT;\n    SIGSTOP    : constant := System.Linux.SIGSTOP;\n    SIGTSTP    : constant := System.Linux.SIGTSTP;\n-   SIGCONT    : constant := System.Linux.SIGCONT;\n    SIGTTIN    : constant := System.Linux.SIGTTIN;\n    SIGTTOU    : constant := System.Linux.SIGTTOU;\n-   SIGVTALRM  : constant := System.Linux.SIGVTALRM;\n-   SIGPROF    : constant := System.Linux.SIGPROF;\n+   SIGURG     : constant := System.Linux.SIGURG;\n    SIGXCPU    : constant := System.Linux.SIGXCPU;\n    SIGXFSZ    : constant := System.Linux.SIGXFSZ;\n+   SIGVTALRM  : constant := System.Linux.SIGVTALRM;\n+   SIGPROF    : constant := System.Linux.SIGPROF;\n+   SIGWINCH   : constant := System.Linux.SIGWINCH;\n+   SIGPOLL    : constant := System.Linux.SIGPOLL;\n+   SIGIO      : constant := System.Linux.SIGIO;\n+   SIGLOST    : constant := System.Linux.SIGLOST;\n+   SIGPWR     : constant := System.Linux.SIGPWR;\n+   SIGSYS     : constant := System.Linux.SIGSYS;\n    SIGUNUSED  : constant := System.Linux.SIGUNUSED;\n-   SIGSTKFLT  : constant := System.Linux.SIGSTKFLT;\n-   SIGLTHRRES : constant := System.Linux.SIGLTHRRES;\n-   SIGLTHRCAN : constant := System.Linux.SIGLTHRCAN;\n-   SIGLTHRDBG : constant := System.Linux.SIGLTHRDBG;\n+   SIG32      : constant := System.Linux.SIG32;\n+   SIG33      : constant := System.Linux.SIG33;\n+   SIG34      : constant := System.Linux.SIG34;\n \n    SIGADAABORT : constant := SIGABRT;\n    --  Change this to use another signal for task abort. SIGTERM might be a\n@@ -142,16 +143,19 @@ package System.OS_Interface is\n       SIGPROF,\n       --  To avoid confusing the profiler\n \n-      SIGKILL, SIGSTOP,\n+      SIGKILL, SIGSTOP\n       --  These two signals actually can't be masked (POSIX won't allow it)\n-\n-      SIGLTHRRES, SIGLTHRCAN, SIGLTHRDBG);\n-      --  These three signals are used by GNU/LinuxThreads starting from glibc\n-      --  2.1 (future 2.2).\n-\n-   Reserved : constant Signal_Set := (SIGVTALRM, SIGUNUSED);\n-   --  Not clear why these two signals are reserved. Perhaps they are not\n-   --  supported by this version of GNU/Linux ???\n+      );\n+\n+   Reserved : constant Signal_Set := (\n+      SIG32, SIG33, SIG34\n+      --  glibc POSIX threads implementation uses two (NPTL) or three\n+      --  (LinuxThreads) real-time signals for its own use (see SIGNAL(7)).\n+      --  These signals are considered reserved and not unmasked as glibc does\n+      --  not permit these signals to be used by the public signal.h API.\n+      --  While LinuxThreads is mostly likely unused now, SIG34 is still\n+      --  reserved as this behavior is consistent with past GNAT releases.\n+      );\n \n    type sigset_t is private;\n "}, {"sha": "f8bb63f01d07f1ee21944a6c15de2308aa23202e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9989a43983116c05aca5c3b5fc30191524b73b94", "patch": "@@ -1,3 +1,7 @@\n+2018-11-14  Patrick Bernardi  <bernardi@adacore.com>\n+\n+\t* gnat.dg/rt_signals.adb: New testcase.\n+\n 2018-11-14  Hristian Kirtchev  <kirtchev@adacore.com>\n \n \t* gnat.dg/ghost1.adb, gnat.dg/ghost1.ads: New testcase."}, {"sha": "7694a1142546abf322631da2ef2ab6ccd46f0ee1", "filename": "gcc/testsuite/gnat.dg/rt_signals.adb", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Ftestsuite%2Fgnat.dg%2Frt_signals.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9989a43983116c05aca5c3b5fc30191524b73b94/gcc%2Ftestsuite%2Fgnat.dg%2Frt_signals.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Frt_signals.adb?ref=9989a43983116c05aca5c3b5fc30191524b73b94", "patch": "@@ -0,0 +1,14 @@\n+--  { dg-do run }\n+\n+--  This program used to fail with a runtime built with assertions\n+\n+procedure RT_Signals is\n+   task Task_A;\n+\n+   task body Task_A is\n+   begin\n+      null;\n+   end Task_A;\n+begin\n+   null;\n+end RT_Signals;"}]}