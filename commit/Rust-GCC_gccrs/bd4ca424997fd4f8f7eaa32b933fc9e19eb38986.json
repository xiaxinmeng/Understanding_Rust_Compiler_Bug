{"sha": "bd4ca424997fd4f8f7eaa32b933fc9e19eb38986", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmQ0Y2E0MjQ5OTdmZDRmOGY3ZWFhMzJiOTMzZmM5ZTE5ZWIzODk4Ng==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2006-03-29T15:22:30Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2006-03-29T15:22:30Z"}, "message": "posix.cc (_Jv_platform_nanotime): Look for CLOCK_MONOTONIC and CLOCK_HIGHRES.\n\n\t* posix.cc (_Jv_platform_nanotime): Look for CLOCK_MONOTONIC and\n\tCLOCK_HIGHRES.\n\nFrom-SVN: r112494", "tree": {"sha": "a7257bee49a99d35e1d893e95b10057d6362a7db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a7257bee49a99d35e1d893e95b10057d6362a7db"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bd4ca424997fd4f8f7eaa32b933fc9e19eb38986", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd4ca424997fd4f8f7eaa32b933fc9e19eb38986", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd4ca424997fd4f8f7eaa32b933fc9e19eb38986", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd4ca424997fd4f8f7eaa32b933fc9e19eb38986/comments", "author": null, "committer": null, "parents": [{"sha": "c2a644391b7e8d4603d95e97daabd1b368052421", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2a644391b7e8d4603d95e97daabd1b368052421", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2a644391b7e8d4603d95e97daabd1b368052421"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "fe5de1686436addd3ae82d37940a1c1d203b3f75", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd4ca424997fd4f8f7eaa32b933fc9e19eb38986/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd4ca424997fd4f8f7eaa32b933fc9e19eb38986/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=bd4ca424997fd4f8f7eaa32b933fc9e19eb38986", "patch": "@@ -1,3 +1,8 @@\n+2006-03-29  Tom Tromey  <tromey@redhat.com>\n+\n+\t* posix.cc (_Jv_platform_nanotime): Look for CLOCK_MONOTONIC and\n+\tCLOCK_HIGHRES.\n+\n 2006-03-28  Anthony Balkissoon  <abalkiss@redhat.com>\n \n \t* scripts/unicode-muncher.pl: Removed this file."}, {"sha": "e23eac269cc3f9074e42d99a53f852023899c621", "filename": "libjava/posix.cc", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd4ca424997fd4f8f7eaa32b933fc9e19eb38986/libjava%2Fposix.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd4ca424997fd4f8f7eaa32b933fc9e19eb38986/libjava%2Fposix.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fposix.cc?ref=bd4ca424997fd4f8f7eaa32b933fc9e19eb38986", "patch": "@@ -71,7 +71,15 @@ _Jv_platform_nanotime ()\n {\n #ifdef HAVE_CLOCK_GETTIME\n   struct timespec now;\n-  if (clock_gettime (CLOCK_REALTIME, &now) == 0)\n+  int id;\n+#ifdef CLOCK_MONOTONIC\n+  id = CLOCK_MONOTONIC;\n+#elif defined (CLOCK_HIGHRES)\n+  id = CLOCK_HIGHRES;\n+#else\n+  id = CLOCK_REALTIME;\n+#endif\n+  if (clock_gettime (id, &now) == 0)\n     {\n       jlong result = (jlong) now.tv_sec;\n       result = result * 1000 * 1000 + now.tv_nsec;"}]}