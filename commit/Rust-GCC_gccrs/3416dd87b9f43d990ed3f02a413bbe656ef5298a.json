{"sha": "3416dd87b9f43d990ed3f02a413bbe656ef5298a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQxNmRkODdiOWY0M2Q5OTBlZDNmMDJhNDEzYmJlNjU2ZWY1Mjk4YQ==", "commit": {"author": {"name": "Ramana Radhakrishnan", "email": "ramana.radhakrishnan@arm.com", "date": "2014-03-03T08:09:14Z"}, "committer": {"name": "Ramana Radhakrishnan", "email": "ramana@gcc.gnu.org", "date": "2014-03-03T08:09:14Z"}, "message": "[ARM] Legitimize addresses for movmisalign<mode> for Neon.\n\n2014-03-03  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n\n\t* config/arm/neon.md (*movmisalign<mode>): Legitimize addresses\n\tnot handled by recognizers.\n\nFrom-SVN: r208269", "tree": {"sha": "7e57f183883dfec47488ffefff4ab6ae69c13332", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e57f183883dfec47488ffefff4ab6ae69c13332"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3416dd87b9f43d990ed3f02a413bbe656ef5298a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3416dd87b9f43d990ed3f02a413bbe656ef5298a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3416dd87b9f43d990ed3f02a413bbe656ef5298a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3416dd87b9f43d990ed3f02a413bbe656ef5298a/comments", "author": null, "committer": null, "parents": [{"sha": "b3bdf019b761cc75d967e1330f3e90cd4c94e116", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3bdf019b761cc75d967e1330f3e90cd4c94e116", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3bdf019b761cc75d967e1330f3e90cd4c94e116"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "551e134e0642cb143029bb447867dcc6e508abb7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3416dd87b9f43d990ed3f02a413bbe656ef5298a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3416dd87b9f43d990ed3f02a413bbe656ef5298a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3416dd87b9f43d990ed3f02a413bbe656ef5298a", "patch": "@@ -1,3 +1,8 @@\n+2014-03-03  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n+\n+\t* config/arm/neon.md (*movmisalign<mode>): Legitimize addresses\n+\tnot handled by recognizers.\n+\n 2014-03-03  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/60175"}, {"sha": "aad420ce7853f7f2c3b8c5d8783b5084992cde36", "filename": "gcc/config/arm/neon.md", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3416dd87b9f43d990ed3f02a413bbe656ef5298a/gcc%2Fconfig%2Farm%2Fneon.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3416dd87b9f43d990ed3f02a413bbe656ef5298a/gcc%2Fconfig%2Farm%2Fneon.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fneon.md?ref=3416dd87b9f43d990ed3f02a413bbe656ef5298a", "patch": "@@ -245,12 +245,23 @@\n \t\t     UNSPEC_MISALIGNED_ACCESS))]\n   \"TARGET_NEON && !BYTES_BIG_ENDIAN && unaligned_access\"\n {\n+  rtx adjust_mem;\n   /* This pattern is not permitted to fail during expansion: if both arguments\n      are non-registers (e.g. memory := constant, which can be created by the\n      auto-vectorizer), force operand 1 into a register.  */\n   if (!s_register_operand (operands[0], <MODE>mode)\n       && !s_register_operand (operands[1], <MODE>mode))\n     operands[1] = force_reg (<MODE>mode, operands[1]);\n+\n+  if (s_register_operand (operands[0], <MODE>mode))\n+    adjust_mem = operands[1];\n+  else\n+    adjust_mem = operands[0];\n+\n+  /* Legitimize address.  */\n+  if (!neon_vector_mem_operand (adjust_mem, 2, true))\n+    XEXP (adjust_mem, 0) = force_reg (Pmode, XEXP (adjust_mem, 0));\n+\n })\n \n (define_insn \"*movmisalign<mode>_neon_store\""}]}