{"sha": "1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWIyNTVlOGYzNmFjM2Y0ZDhlM2ZjMmNjNjdjYzc1N2VlNTY4MmUzYg==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2014-04-11T17:36:44Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2014-04-11T17:36:44Z"}, "message": "re PR c++/58600 ([c++11] ICE on wrong usage of alignas)\n\n/cp\n2014-04-11  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/58600\n\t* name-lookup.c (parse_using_directive): Return early if the\n\tattribs argument is error_mark_node; use get_attribute_name.\n\n/testsuite\n2014-04-11  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/58600\n\t* g++.dg/cpp0x/gen-attrs-58.C: New.\n\t* g++.dg/cpp0x/gen-attrs-59.C: Likewise.\n\nFrom-SVN: r209310", "tree": {"sha": "11a75afb17e34aae15d446983e23b20c95316e7f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/11a75afb17e34aae15d446983e23b20c95316e7f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b/comments", "author": null, "committer": null, "parents": [{"sha": "4561285bf4a239e6ae6cb03245baff788cea025a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4561285bf4a239e6ae6cb03245baff788cea025a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4561285bf4a239e6ae6cb03245baff788cea025a"}], "stats": {"total": 31, "additions": 27, "deletions": 4}, "files": [{"sha": "f722da300e62407b70c8de3d7d9cf9aa70d4fb4b", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b", "patch": "@@ -1,3 +1,9 @@\n+2014-04-11  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/58600\n+\t* name-lookup.c (parse_using_directive): Return early if the\n+\tattribs argument is error_mark_node; use get_attribute_name.\n+\n 2014-04-11  Jason Merrill  <jason@redhat.com>\n \n \tDR 1030"}, {"sha": "8ad0d06f283c2065f2c13062e10ed4d8cc691107", "filename": "gcc/cp/name-lookup.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b/gcc%2Fcp%2Fname-lookup.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b/gcc%2Fcp%2Fname-lookup.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fname-lookup.c?ref=1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b", "patch": "@@ -4019,13 +4019,14 @@ do_using_directive (tree name_space)\n void\n parse_using_directive (tree name_space, tree attribs)\n {\n-  tree a;\n-\n   do_using_directive (name_space);\n \n-  for (a = attribs; a; a = TREE_CHAIN (a))\n+  if (attribs == error_mark_node)\n+    return;\n+\n+  for (tree a = attribs; a; a = TREE_CHAIN (a))\n     {\n-      tree name = TREE_PURPOSE (a);\n+      tree name = get_attribute_name (a);\n       if (is_attribute_p (\"strong\", name))\n \t{\n \t  if (!toplevel_bindings_p ())"}, {"sha": "fdacc9ce3f4a68f067627d17559bb027b91abad5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b", "patch": "@@ -1,3 +1,9 @@\n+2014-04-11  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/58600\n+\t* g++.dg/cpp0x/gen-attrs-58.C: New.\n+\t* g++.dg/cpp0x/gen-attrs-59.C: Likewise.\n+\n 2014-04-11  Steve Ellcey  <sellcey@mips.com>\n \t    Jakub Jelinek  <jakub@redhat.com>\n "}, {"sha": "f760f5608285f15bb01c0a7d1c944e22636198bd", "filename": "gcc/testsuite/g++.dg/cpp0x/gen-attrs-58.C", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fgen-attrs-58.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fgen-attrs-58.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fgen-attrs-58.C?ref=1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b", "patch": "@@ -0,0 +1,5 @@\n+// PR c++/58600\n+// { dg-do compile { target c++11 } }\n+\n+namespace N { int i; }\n+using namespace N alignas(int); // { dg-warning \"ignored\" }"}, {"sha": "c7839fefed91552d428cae8ff45899cac5e898bf", "filename": "gcc/testsuite/g++.dg/cpp0x/gen-attrs-59.C", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fgen-attrs-59.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fgen-attrs-59.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fgen-attrs-59.C?ref=1b255e8f36ac3f4d8e3fc2cc67cc757ee5682e3b", "patch": "@@ -0,0 +1,5 @@\n+// PR c++/58600\n+// { dg-do compile { target c++11 } }\n+\n+namespace N {}\n+using namespace N alignas(X); // { dg-error \"declared\" }"}]}