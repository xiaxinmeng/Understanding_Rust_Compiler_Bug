{"sha": "0d2665809fd15fe7c5ee73a7adee1ae64a002ffd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGQyNjY1ODA5ZmQxNWZlN2M1ZWU3M2E3YWRlZTFhZTY0YTAwMmZmZA==", "commit": {"author": {"name": "Dorit Nuzman", "email": "dorit@il.ibm.com", "date": "2007-06-08T08:57:54Z"}, "committer": {"name": "Dorit Nuzman", "email": "dorit@gcc.gnu.org", "date": "2007-06-08T08:57:54Z"}, "message": "re PR tree-optimization/32224 (ICE in vect_analyze_operations, at tree-vect-analyze.c:374)\n\n        PR tree-optimization/32224\n        * tree-vect-analyze.c (vect_determine_vectorization_factor): Fail\n        vectorization upon a non GIMPLE_MODIFY_STMT.\n\nFrom-SVN: r125566", "tree": {"sha": "756ce738929bc178e9949ba8d8f19c9c72248f0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/756ce738929bc178e9949ba8d8f19c9c72248f0a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0d2665809fd15fe7c5ee73a7adee1ae64a002ffd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d2665809fd15fe7c5ee73a7adee1ae64a002ffd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d2665809fd15fe7c5ee73a7adee1ae64a002ffd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d2665809fd15fe7c5ee73a7adee1ae64a002ffd/comments", "author": null, "committer": null, "parents": [{"sha": "2dbc83d953662e61db936cac2ac25f907895205e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2dbc83d953662e61db936cac2ac25f907895205e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2dbc83d953662e61db936cac2ac25f907895205e"}], "stats": {"total": 41, "additions": 38, "deletions": 3}, "files": [{"sha": "5ebdcd42f0eedb709a544914a2ae22bba6498247", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d2665809fd15fe7c5ee73a7adee1ae64a002ffd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d2665809fd15fe7c5ee73a7adee1ae64a002ffd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0d2665809fd15fe7c5ee73a7adee1ae64a002ffd", "patch": "@@ -1,3 +1,9 @@\n+2007-06-08  Dorit Nuzman  <dorit@il.ibm.com>\n+\n+\tPR tree-optimization/32224\n+\t* tree-vect-analyze.c (vect_determine_vectorization_factor): Fail\n+\tvectorization upon a non GIMPLE_MODIFY_STMT.\n+\n 2007-06-08  Christian Bruel  <christian.bruel@st.com>\n \n \tPR target/29953"}, {"sha": "6102817e854c118b94bd03f43aa5fbf0d8fa3829", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d2665809fd15fe7c5ee73a7adee1ae64a002ffd/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d2665809fd15fe7c5ee73a7adee1ae64a002ffd/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0d2665809fd15fe7c5ee73a7adee1ae64a002ffd", "patch": "@@ -1,3 +1,8 @@\n+2007-06-08  Dorit Nuzman  <dorit@il.ibm.com>\n+\n+\tPR tree-optimization/32224\n+\t* gcc.dg/vect/pr32224.c: New test.\n+\n 2007-06-08  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/32177"}, {"sha": "f79254d9cae1f31b41a4f60dd07cd69f02ccebd0", "filename": "gcc/testsuite/gcc.dg/vect/pr32224.c", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d2665809fd15fe7c5ee73a7adee1ae64a002ffd/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr32224.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d2665809fd15fe7c5ee73a7adee1ae64a002ffd/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr32224.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr32224.c?ref=0d2665809fd15fe7c5ee73a7adee1ae64a002ffd", "patch": "@@ -0,0 +1,17 @@\n+/* { dg-do compile } */\n+typedef unsigned long int *mp_ptr;\n+typedef const unsigned long int *mp_srcptr;\n+gmpz_export (void *data)\n+{\n+  mp_srcptr zp;\n+  int count, i;\n+  mp_ptr __dst = ((mp_ptr) data);\n+  mp_srcptr __src = (zp);\n+\n+  for (i = 0; i < count; i++)\n+  {\n+    __asm__ (\"bswap %q0\": \"=r\" (*__dst):\"0\" (*(__src)));\n+    __src++;\n+  }\n+}\n+/* { dg-final { cleanup-tree-dump \"vect\" } } */"}, {"sha": "454cae62cbfa23c8643f94c0eb404c661c584815", "filename": "gcc/tree-vect-analyze.c", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d2665809fd15fe7c5ee73a7adee1ae64a002ffd/gcc%2Ftree-vect-analyze.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d2665809fd15fe7c5ee73a7adee1ae64a002ffd/gcc%2Ftree-vect-analyze.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-analyze.c?ref=0d2665809fd15fe7c5ee73a7adee1ae64a002ffd", "patch": "@@ -173,9 +173,6 @@ vect_determine_vectorization_factor (loop_vec_info loop_vinfo)\n \t      print_generic_expr (vect_dump, stmt, TDF_SLIM);\n \t    }\n \n-\t  if (TREE_CODE (stmt) != GIMPLE_MODIFY_STMT)\n-\t    continue;\n-\n \t  gcc_assert (stmt_info);\n \n \t  /* skip stmts which do not need to be vectorized.  */\n@@ -187,6 +184,16 @@ vect_determine_vectorization_factor (loop_vec_info loop_vinfo)\n \t      continue;\n \t    }\n \n+\t  if (TREE_CODE (stmt) != GIMPLE_MODIFY_STMT)\n+\t    {\n+\t      if (vect_print_dump_info (REPORT_UNVECTORIZED_LOOPS))\n+\t\t{\n+\t          fprintf (vect_dump, \"not vectorized: irregular stmt.\");\n+\t\t  print_generic_expr (vect_dump, stmt, TDF_SLIM);\n+\t\t}\n+\t      return false;\n+\t    }\n+\n \t  if (!GIMPLE_STMT_P (stmt)\n \t      && VECTOR_MODE_P (TYPE_MODE (TREE_TYPE (stmt))))\n \t    {"}]}