{"sha": "1007a55ca4577e09c121f5b9bebb07a3da608171", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTAwN2E1NWNhNDU3N2UwOWMxMjFmNWI5YmViYjA3YTNkYTYwODE3MQ==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2014-05-30T17:16:14Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2014-05-30T17:16:14Z"}, "message": "re PR libstdc++/61011 (libstdc++-v3 should be target-libstdc++-v3 in top level configure)\n\n\tPR libstdc++/61011\n\t* configure.ac (--disable-libstdcxx): Set noconfigdirs correctly.\n\tDisable libcilkrts, libitm, libsanitizer when not building libstdc++.\n\t* configure: Regenerate.\n\nFrom-SVN: r211087", "tree": {"sha": "80445252005987111a91256b35774483d66bfb2f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/80445252005987111a91256b35774483d66bfb2f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1007a55ca4577e09c121f5b9bebb07a3da608171", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1007a55ca4577e09c121f5b9bebb07a3da608171", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1007a55ca4577e09c121f5b9bebb07a3da608171", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1007a55ca4577e09c121f5b9bebb07a3da608171/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2c9363445d0e10790eca2c691683f6ba99afcf61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c9363445d0e10790eca2c691683f6ba99afcf61", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c9363445d0e10790eca2c691683f6ba99afcf61"}], "stats": {"total": 35, "additions": 29, "deletions": 6}, "files": [{"sha": "174390e548dcd47fcce934f2546d08e82c098897", "filename": "ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1007a55ca4577e09c121f5b9bebb07a3da608171/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1007a55ca4577e09c121f5b9bebb07a3da608171/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=1007a55ca4577e09c121f5b9bebb07a3da608171", "patch": "@@ -1,3 +1,10 @@\n+2014-05-30  Jonathan Wakely  <jwakely@redhat.com>\n+\n+\tPR libstdc++/61011\n+\t* configure.ac (--disable-libstdcxx): Set noconfigdirs correctly.\n+\tDisable libcilkrts, libitm, libsanitizer when not building libstdc++.\n+\t* configure: Regenerate.\n+\n 2014-05-28  Pedro Alves  <palves@redhat.com>\n \n \t* MAINTAINERS (Write After Approval): Add myself."}, {"sha": "e9ca33e6f24abf637051d6fcec4d0b11772be50d", "filename": "configure", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1007a55ca4577e09c121f5b9bebb07a3da608171/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1007a55ca4577e09c121f5b9bebb07a3da608171/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=1007a55ca4577e09c121f5b9bebb07a3da608171", "patch": "@@ -3090,7 +3090,7 @@ else\n fi\n \n if test \"${ENABLE_LIBSTDCXX}\" = \"no\" ; then\n-  noconfigdirs=\"$noconfigdirs libstdc++-v3\"\n+  noconfigdirs=\"$noconfigdirs target-libstdc++-v3\"\n fi\n \n # Save it here so that, even in case of --enable-libgcj, if the Java\n@@ -6628,9 +6628,17 @@ case ,${enable_languages},:${enable_objc_gc} in\n     ;;\n esac\n \n-# Disable libitm, libsanitizer, libvtv if we're not building C++\n+# Disable libcilkrts, libitm, libsanitizer, libvtv if we're not building C++\n case ,${enable_languages}, in\n-  *,c++,*) ;;\n+  *,c++,*)\n+    # Disable libcilkrts, libitm, libsanitizer if we're not building libstdc++\n+    case \"${noconfigdirs}\" in\n+      *target-libstdc++-v3*)\n+        noconfigdirs=\"$noconfigdirs target-libcilkrts target-libitm target-libsanitizer\"\n+        ;;\n+      *) ;;\n+    esac\n+    ;;\n   *)\n     noconfigdirs=\"$noconfigdirs target-libcilkrts target-libitm target-libsanitizer target-libvtv\"\n     ;;"}, {"sha": "548525b19ffb5b6a197c1033b6025c9a3e7ea151", "filename": "configure.ac", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1007a55ca4577e09c121f5b9bebb07a3da608171/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1007a55ca4577e09c121f5b9bebb07a3da608171/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=1007a55ca4577e09c121f5b9bebb07a3da608171", "patch": "@@ -435,7 +435,7 @@ AS_HELP_STRING([--disable-libstdcxx],\n ENABLE_LIBSTDCXX=$enableval,\n ENABLE_LIBSTDCXX=default)\n [if test \"${ENABLE_LIBSTDCXX}\" = \"no\" ; then\n-  noconfigdirs=\"$noconfigdirs libstdc++-v3\"\n+  noconfigdirs=\"$noconfigdirs target-libstdc++-v3\"\n fi]\n \n # Save it here so that, even in case of --enable-libgcj, if the Java\n@@ -2057,9 +2057,17 @@ case ,${enable_languages},:${enable_objc_gc} in\n     ;;\n esac\n \n-# Disable libitm, libsanitizer, libvtv if we're not building C++\n+# Disable libcilkrts, libitm, libsanitizer, libvtv if we're not building C++\n case ,${enable_languages}, in\n-  *,c++,*) ;;\n+  *,c++,*)\n+    # Disable libcilkrts, libitm, libsanitizer if we're not building libstdc++\n+    case \"${noconfigdirs}\" in\n+      *target-libstdc++-v3*)\n+        noconfigdirs=\"$noconfigdirs target-libcilkrts target-libitm target-libsanitizer\"\n+        ;;\n+      *) ;;\n+    esac\n+    ;;\n   *)\n     noconfigdirs=\"$noconfigdirs target-libcilkrts target-libitm target-libsanitizer target-libvtv\"\n     ;;"}]}