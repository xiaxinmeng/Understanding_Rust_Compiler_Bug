{"sha": "bd064fd5065282561c96f8cc0808fa67d57bb647", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmQwNjRmZDUwNjUyODI1NjFjOTZmOGNjMDgwOGZhNjdkNTdiYjY0Nw==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl@gnu.ai.mit.edu", "date": "1998-03-17T01:24:55Z"}, "committer": {"name": "Manfred Hollstein", "email": "manfred@gcc.gnu.org", "date": "1998-03-17T01:24:55Z"}, "message": "configure: When making link, also check the current directory.\n\n8\n\t* configure: When making link, also check the current\n\tdirectory. The configure scripts may create one.\n\nFrom-SVN: r18641", "tree": {"sha": "3fb714935f99bd5765fa9f0a117069dacc3129e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3fb714935f99bd5765fa9f0a117069dacc3129e8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bd064fd5065282561c96f8cc0808fa67d57bb647", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd064fd5065282561c96f8cc0808fa67d57bb647", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd064fd5065282561c96f8cc0808fa67d57bb647", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd064fd5065282561c96f8cc0808fa67d57bb647/comments", "author": null, "committer": null, "parents": [{"sha": "04b9356733c40d828c1382875b02ab672f4564ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04b9356733c40d828c1382875b02ab672f4564ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04b9356733c40d828c1382875b02ab672f4564ac"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "ed54cedbde385ec914ae39d3e68ec2965340f6e2", "filename": "configure", "status": "modified", "additions": 11, "deletions": 4, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd064fd5065282561c96f8cc0808fa67d57bb647/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd064fd5065282561c96f8cc0808fa67d57bb647/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=bd064fd5065282561c96f8cc0808fa67d57bb647", "patch": "@@ -993,27 +993,34 @@ for subdir in . ${subdirs} ; do\n                 set ${links}; link=$1; shift; links=$*\n \n                 if [ ! -r ${srcdir}/${file} ] ; then\n+                  if [ ! -r ${file} ] ; then\n+\t\t    \n                         echo '***' \"${progname}: cannot create a link \\\"${link}\\\",\" 1>&2\n                         echo '***' \"since the file \\\"${srcdir}/${file}\\\" does not exist.\" 1>&2\n                         exit 1\n+\t\t  else\n+\t\t\tsrcfile=${file}\n+\t\t  fi\n+\t\telse\n+\t\t\tsrcfile=${srcdir}/${file}\n                 fi\n \n                 ${remove} -f ${link}\n \t\t# Make a symlink if possible, otherwise try a hard link\n-\t\tif ${symbolic_link} ${srcdir}/${file} ${link} >/dev/null 2>&1 ; then\n+\t\tif ${symbolic_link} ${srcfile} ${link} >/dev/null 2>&1 ; then\n \t\t\ttrue\n \t\telse\n \t\t\t# We need to re-remove the file because Lynx leaves a \n \t\t\t# very strange directory there when it fails an NFS symlink.\n \t\t\t${remove} -r -f ${link}\n-\t\t\t${hard_link} ${srcdir}/${file} ${link}\n+\t\t\t${hard_link} ${srcfile} ${link}\n \t\tfi\n                 if [ ! -r ${link} ] ; then\n-                        echo '***' \"${progname}: unable to link \\\"${link}\\\" to \\\"${srcdir}/${file}\\\".\" 1>&2\n+                        echo '***' \"${progname}: unable to link \\\"${link}\\\" to \\\"${srcfile}\\\".\" 1>&2\n                         exit 1\n                 fi\n \n-                echo \"Linked \\\"${link}\\\" to \\\"${srcdir}/${file}\\\".\"\n+                echo \"Linked \\\"${link}\\\" to \\\"${srcfile}\\\".\"\n         done\n \n         # Create a .gdbinit file which runs the one in srcdir"}]}