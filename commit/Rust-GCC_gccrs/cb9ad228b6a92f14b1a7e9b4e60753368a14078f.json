{"sha": "cb9ad228b6a92f14b1a7e9b4e60753368a14078f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2I5YWQyMjhiNmE5MmYxNGIxYTdlOWI0ZTYwNzUzMzY4YTE0MDc4Zg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2001-10-05T21:25:23Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2001-10-05T21:25:23Z"}, "message": "DecimalFormat.java (format): Use localized minus sign when generating exponent; never use `+'.\n\n\t* java/text/DecimalFormat.java (format): Use localized minus sign\n\twhen generating exponent; never use `+'.  Use floor to compute\n\texponent.\n\nFrom-SVN: r46045", "tree": {"sha": "5c0c8dcf68b88e4b6603c25f6b31b7b1b44286eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5c0c8dcf68b88e4b6603c25f6b31b7b1b44286eb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cb9ad228b6a92f14b1a7e9b4e60753368a14078f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb9ad228b6a92f14b1a7e9b4e60753368a14078f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb9ad228b6a92f14b1a7e9b4e60753368a14078f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb9ad228b6a92f14b1a7e9b4e60753368a14078f/comments", "author": null, "committer": null, "parents": [{"sha": "2f9ce23c1cc2edac49379623f11d06235c9ee6fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f9ce23c1cc2edac49379623f11d06235c9ee6fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f9ce23c1cc2edac49379623f11d06235c9ee6fa"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "985e84bbb007411fa605113bb587c6997742dbce", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb9ad228b6a92f14b1a7e9b4e60753368a14078f/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb9ad228b6a92f14b1a7e9b4e60753368a14078f/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=cb9ad228b6a92f14b1a7e9b4e60753368a14078f", "patch": "@@ -1,3 +1,9 @@\n+2001-10-05  Tom Tromey  <tromey@redhat.com>\n+\n+\t* java/text/DecimalFormat.java (format): Use localized minus sign\n+\twhen generating exponent; never use `+'.  Use floor to compute\n+\texponent.\n+\n 2001-10-05  Mark Wielaard  <mark@klomp.org>\n \n \t* java/util/zip/Adler32.java: Merge with Classpath"}, {"sha": "a8a3db6d61a66120cc7fc3da296944569d309d34", "filename": "libjava/java/text/DecimalFormat.java", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb9ad228b6a92f14b1a7e9b4e60753368a14078f/libjava%2Fjava%2Ftext%2FDecimalFormat.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb9ad228b6a92f14b1a7e9b4e60753368a14078f/libjava%2Fjava%2Ftext%2FDecimalFormat.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Ftext%2FDecimalFormat.java?ref=cb9ad228b6a92f14b1a7e9b4e60753368a14078f", "patch": "@@ -442,7 +442,7 @@ public StringBuffer format (double number, StringBuffer dest,\n \tdouble baseNumber;\n \tif (useExponentialNotation)\n \t  {\n-\t    exponent = (long) (Math.log(number) / Math.log(10));\n+\t    exponent = (long) Math.floor (Math.log(number) / Math.log(10));\n \t    if (minimumIntegerDigits > 0)\n \t      exponent -= minimumIntegerDigits - 1;\n \t    baseNumber = (long) (number / Math.pow(10.0, exponent));\n@@ -523,7 +523,11 @@ public StringBuffer format (double number, StringBuffer dest,\n \tif (useExponentialNotation)\n \t  {\n \t    dest.append(symbols.getExponential());\n-\t    dest.append(exponent < 0 ? '-' : '+');\n+\t    if (exponent < 0)\n+\t      {\n+\t\tdest.append (symbols.getMinusSign ());\n+\t\texponent = - exponent;\n+\t      }\n \t    index = dest.length();\n \t    for (count = 0;\n \t\t exponent > 0 || count < minExponentDigits;"}]}