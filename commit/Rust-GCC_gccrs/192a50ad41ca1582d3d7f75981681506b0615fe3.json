{"sha": "192a50ad41ca1582d3d7f75981681506b0615fe3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTkyYTUwYWQ0MWNhMTU4MmQzZDdmNzU5ODE2ODE1MDZiMDYxNWZlMw==", "commit": {"author": {"name": "Andreas Tobler", "email": "a.tobler@schweiz.ch", "date": "2006-01-23T18:28:51Z"}, "committer": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2006-01-23T18:28:51Z"}, "message": "proc.c: Conditional include of sys/loadavg.h for Solaris.\n\n2006-01-23  Andreas Tobler  <a.tobler@schweiz.ch>\n\n\t* config/posix/proc.c: Conditional include of sys/loadavg.h for\n\tSolaris.\n\t* configure.ac: Add check for loadavg.h.\n\t(link_gomp): Adjust comment.\n\t* configure: Regenerate.\n\t* config.h.in: Regenerate.\n\nFrom-SVN: r110141", "tree": {"sha": "8d13fe4ae78bc89d5119bc9ac9a016ba1156ce77", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8d13fe4ae78bc89d5119bc9ac9a016ba1156ce77"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/192a50ad41ca1582d3d7f75981681506b0615fe3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/192a50ad41ca1582d3d7f75981681506b0615fe3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/192a50ad41ca1582d3d7f75981681506b0615fe3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/192a50ad41ca1582d3d7f75981681506b0615fe3/comments", "author": null, "committer": null, "parents": [{"sha": "993acaec693ef81eb83b445152f5b04652f49b33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/993acaec693ef81eb83b445152f5b04652f49b33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/993acaec693ef81eb83b445152f5b04652f49b33"}], "stats": {"total": 28, "additions": 23, "deletions": 5}, "files": [{"sha": "651903cf7edaeb0cf684c36bec1244f085062ad4", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192a50ad41ca1582d3d7f75981681506b0615fe3/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192a50ad41ca1582d3d7f75981681506b0615fe3/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=192a50ad41ca1582d3d7f75981681506b0615fe3", "patch": "@@ -1,3 +1,12 @@\n+2006-01-23  Andreas Tobler  <a.tobler@schweiz.ch>\n+\n+\t* config/posix/proc.c: Conditional include of sys/loadavg.h for\n+\tSolaris.\n+\t* configure.ac: Add check for loadavg.h.\n+\t(link_gomp): Adjust comment.\n+\t* configure: Regenerate.\n+\t* config.h.in: Regenerate.\n+\n 2006-01-21  Steve Ellcey  <sje@cup.hp.com>\n \n \tPR libgomp/25877"}, {"sha": "d4e74222d6c9af31fcdda9d89ee46b8b8d196aa3", "filename": "libgomp/config.h.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192a50ad41ca1582d3d7f75981681506b0615fe3/libgomp%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192a50ad41ca1582d3d7f75981681506b0615fe3/libgomp%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfig.h.in?ref=192a50ad41ca1582d3d7f75981681506b0615fe3", "patch": "@@ -39,6 +39,9 @@\n /* Define to 1 if the target supports __sync_*_compare_and_swap */\n #undef HAVE_SYNC_BUILTINS\n \n+/* Define to 1 if you have the <sys/loadavg.h> header file. */\n+#undef HAVE_SYS_LOADAVG_H\n+\n /* Define to 1 if you have the <sys/stat.h> header file. */\n #undef HAVE_SYS_STAT_H\n "}, {"sha": "3ee84f5c9d6b8f54791ba9f0b9524e2ca07bdbda", "filename": "libgomp/config/posix/proc.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192a50ad41ca1582d3d7f75981681506b0615fe3/libgomp%2Fconfig%2Fposix%2Fproc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192a50ad41ca1582d3d7f75981681506b0615fe3/libgomp%2Fconfig%2Fposix%2Fproc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfig%2Fposix%2Fproc.c?ref=192a50ad41ca1582d3d7f75981681506b0615fe3", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 2005 Free Software Foundation, Inc.\n+/* Copyright (C) 2005, 2006 Free Software Foundation, Inc.\n    Contributed by Richard Henderson <rth@redhat.com>.\n \n    This file is part of the GNU OpenMP Library (libgomp).\n@@ -34,6 +34,11 @@\n #include \"libgomp.h\"\n #include <unistd.h>\n #include <stdlib.h>\n+#ifdef HAVE_GETLOADAVG\n+# ifdef HAVE_SYS_LOADAVG_H\n+#  include <sys/loadavg.h>\n+# endif\n+#endif\n \n \n /* At startup, determine the default number of threads.  It would seem"}, {"sha": "5855c07a67f7d2192ff0ea12e88272ff6c30297e", "filename": "libgomp/configure", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192a50ad41ca1582d3d7f75981681506b0615fe3/libgomp%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192a50ad41ca1582d3d7f75981681506b0615fe3/libgomp%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure?ref=192a50ad41ca1582d3d7f75981681506b0615fe3", "patch": "@@ -5317,7 +5317,8 @@ done\n \n \n \n-for ac_header in unistd.h semaphore.h sys/time.h\n+\n+for ac_header in unistd.h semaphore.h sys/loadavg.h sys/time.h\n do\n as_ac_Header=`echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n@@ -6633,7 +6634,7 @@ else\n fi\n \n # Set up the set of libraries that we need to link against for libgomp.\n-# Note that the GOMP_DRIVER_SPEC in gcc.c will force -pthread for -fopenmp,\n+# Note that the GOMP_SELF_SPEC in gcc.c will force -pthread for -fopenmp,\n # which will force linkage against -lpthread (or equivalent for the system).\n # That's not 100% ideal, but about the best we can do easily.\n if test $enable_shared = yes; then"}, {"sha": "2a00337a57d8b18b9099430390e2c8398d852785", "filename": "libgomp/configure.ac", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/192a50ad41ca1582d3d7f75981681506b0615fe3/libgomp%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/192a50ad41ca1582d3d7f75981681506b0615fe3/libgomp%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure.ac?ref=192a50ad41ca1582d3d7f75981681506b0615fe3", "patch": "@@ -136,7 +136,7 @@ AC_SUBST(libtool_VERSION)\n # Check header files.\n AC_STDC_HEADERS\n AC_HEADER_TIME\n-AC_CHECK_HEADERS(unistd.h semaphore.h sys/time.h)\n+AC_CHECK_HEADERS(unistd.h semaphore.h sys/loadavg.h sys/time.h)\n AC_CHECK_HEADER([pthread.h],[],\n   [AC_MSG_ERROR([Pthreads are required to build libgomp])])\n \n@@ -204,7 +204,7 @@ else\n fi\n \n # Set up the set of libraries that we need to link against for libgomp.\n-# Note that the GOMP_DRIVER_SPEC in gcc.c will force -pthread for -fopenmp,\n+# Note that the GOMP_SELF_SPEC in gcc.c will force -pthread for -fopenmp,\n # which will force linkage against -lpthread (or equivalent for the system).\n # That's not 100% ideal, but about the best we can do easily.\n if test $enable_shared = yes; then"}]}