{"sha": "f3ca28bffbf80a70183e57c04551d85a42e8e752", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjNjYTI4YmZmYmY4MGE3MDE4M2U1N2MwNDU1MWQ4NWE0MmU4ZTc1Mg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2001-10-08T20:35:03Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2001-10-08T20:35:03Z"}, "message": "re PR java/4489 (bytecode generation endless loop with certain switch() exprs)\n\n\tFix for PR java/4489:\n\t* jcf-write.c (generate_bytecode_insns) [SWITCH_EXPR]: Always\n\tforce a new label when computing `body_block'.\n\nFrom-SVN: r46092", "tree": {"sha": "e43a454cb994c104c772c00af25950ad4d66c4ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e43a454cb994c104c772c00af25950ad4d66c4ac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f3ca28bffbf80a70183e57c04551d85a42e8e752", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3ca28bffbf80a70183e57c04551d85a42e8e752", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3ca28bffbf80a70183e57c04551d85a42e8e752", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3ca28bffbf80a70183e57c04551d85a42e8e752/comments", "author": null, "committer": null, "parents": [{"sha": "5a2ce672babe9504d6b06e4faea7b15bb1908e2c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a2ce672babe9504d6b06e4faea7b15bb1908e2c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a2ce672babe9504d6b06e4faea7b15bb1908e2c"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "52ccdabebe3958e0239194a463e3dab83051ac2b", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3ca28bffbf80a70183e57c04551d85a42e8e752/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3ca28bffbf80a70183e57c04551d85a42e8e752/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=f3ca28bffbf80a70183e57c04551d85a42e8e752", "patch": "@@ -1,3 +1,9 @@\n+2001-10-08  Tom Tromey  <tromey@redhat.com>\n+\n+\tFix for PR java/4489:\n+\t* jcf-write.c (generate_bytecode_insns) [SWITCH_EXPR]: Always\n+\tforce a new label when computing `body_block'.\n+\n 2001-10-07  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* jcf-io.c (format_uint): Const-ify."}, {"sha": "63ee86d3bbc7bbf995e70e30b0f16ae1e8813875", "filename": "gcc/java/jcf-write.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3ca28bffbf80a70183e57c04551d85a42e8e752/gcc%2Fjava%2Fjcf-write.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3ca28bffbf80a70183e57c04551d85a42e8e752/gcc%2Fjava%2Fjcf-write.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjcf-write.c?ref=f3ca28bffbf80a70183e57c04551d85a42e8e752", "patch": "@@ -1483,7 +1483,7 @@ generate_bytecode_insns (exp, target, state)\n \t    }\n \t}\n       break;\n-      case COMPOUND_EXPR:\t\n+    case COMPOUND_EXPR:\t\n       generate_bytecode_insns (TREE_OPERAND (exp, 0), IGNORE_TARGET, state);\n       generate_bytecode_insns (TREE_OPERAND (exp, 1), target, state);\n       break;\n@@ -1701,7 +1701,9 @@ generate_bytecode_insns (exp, target, state)\n \tsw_state.default_label = NULL;\n \tgenerate_bytecode_insns (TREE_OPERAND (exp, 0), STACK_TARGET, state);\n \texpression_last = state->last_block;\n-\tbody_block = get_jcf_label_here (state);  /* Force a new block here. */\n+\t/* Force a new block here.  */\n+\tbody_block = gen_jcf_label (state);\n+\tdefine_jcf_label (body_block, state);\n \tgenerate_bytecode_insns (TREE_OPERAND (exp, 1), IGNORE_TARGET, state);\n \tbody_last = state->last_block;\n "}]}