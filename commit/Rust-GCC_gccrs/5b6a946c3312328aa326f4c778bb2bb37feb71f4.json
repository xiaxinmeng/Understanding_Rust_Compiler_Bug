{"sha": "5b6a946c3312328aa326f4c778bb2bb37feb71f4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWI2YTk0NmMzMzEyMzI4YWEzMjZmNGM3NzhiYjJiYjM3ZmViNzFmNA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-17T21:21:32Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-17T21:21:32Z"}, "message": "(string.h): Remove #defines for other compiler's builtin functions.\n\nFrom-SVN: r2501", "tree": {"sha": "463c6b6a591a19c217117229ab2b8b174bc02b1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/463c6b6a591a19c217117229ab2b8b174bc02b1e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5b6a946c3312328aa326f4c778bb2bb37feb71f4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b6a946c3312328aa326f4c778bb2bb37feb71f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b6a946c3312328aa326f4c778bb2bb37feb71f4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b6a946c3312328aa326f4c778bb2bb37feb71f4/comments", "author": null, "committer": null, "parents": [{"sha": "eae92d827e25a4ea7ce36da6690c876e532ea0b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eae92d827e25a4ea7ce36da6690c876e532ea0b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eae92d827e25a4ea7ce36da6690c876e532ea0b9"}], "stats": {"total": 33, "additions": 33, "deletions": 0}, "files": [{"sha": "8dcc8825929b04dbaeef5c8ca339c70d107e20f5", "filename": "gcc/fixinc.svr4", "status": "modified", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b6a946c3312328aa326f4c778bb2bb37feb71f4/gcc%2Ffixinc.svr4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b6a946c3312328aa326f4c778bb2bb37feb71f4/gcc%2Ffixinc.svr4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.svr4?ref=5b6a946c3312328aa326f4c778bb2bb37feb71f4", "patch": "@@ -500,6 +500,39 @@ EOF\n   rm -f /tmp/$base\n fi\n \n+# Disable apparent native compiler optimization cruft in SVR4.2 <string.h>\n+# that is visible to any ANSI compiler using this include.  Simply\n+# delete the lines the #define some string functions to internal forms.\n+\n+file=string.h\n+base=`basename $file`\n+if [ -r ${LIB}/$file ]; then\n+  file_to_fix=${LIB}/$file\n+else\n+  if [ -r ${INPUT}/$file ]; then\n+    file_to_fix=${INPUT}/$file\n+  else\n+    file_to_fix=\"\"\n+  fi\n+fi\n+if [ \\! -z \"$file_to_fix\" ]; then\n+  echo Checking $file_to_fix\n+  cp $file_to_fix /tmp/$base\n+  chmod +w /tmp/$base\n+  ex /tmp/$base <<EOF\n+  g/#define.*__std_hdr_/d\n+  wq\n+EOF\n+  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n+    echo No change needed in $file_to_fix\n+  else\n+    echo Fixed $file_to_fix\n+    rm -f ${LIB}/$file\n+    cp /tmp/$base ${LIB}/$file\n+  fi\n+  rm -f /tmp/$base\n+fi\n+\n # Add a #define of _SIGACTION_ into <sys/signal.h>.\n # Also fix types of SIG_DFL, SIG_ERR, SIG_IGN, and SIG_HOLD.\n "}]}