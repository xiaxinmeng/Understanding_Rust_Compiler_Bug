{"sha": "1bb6f778233848318cd8290380d77c515669545a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWJiNmY3NzgyMzM4NDgzMThjZDgyOTAzODBkNzdjNTE1NjY5NTQ1YQ==", "commit": {"author": {"name": "David S. Miller", "email": "davem@davemloft.net", "date": "2011-11-05T02:46:21Z"}, "committer": {"name": "David S. Miller", "email": "davem@gcc.gnu.org", "date": "2011-11-05T02:46:21Z"}, "message": "Tweak libgcc configure test for 64-bit.\n\nlibgcc/\n\n\t* configure.ac: Test for 64-bit addresses on !x86 using __LP64__.\n\t* configure: Rebuild.\n\nFrom-SVN: r181000", "tree": {"sha": "95bb323443a705cc4d0625ac7d5ea2b25a391b43", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/95bb323443a705cc4d0625ac7d5ea2b25a391b43"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1bb6f778233848318cd8290380d77c515669545a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1bb6f778233848318cd8290380d77c515669545a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1bb6f778233848318cd8290380d77c515669545a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1bb6f778233848318cd8290380d77c515669545a/comments", "author": {"login": "davem330", "id": 1053866, "node_id": "MDQ6VXNlcjEwNTM4NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1053866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davem330", "html_url": "https://github.com/davem330", "followers_url": "https://api.github.com/users/davem330/followers", "following_url": "https://api.github.com/users/davem330/following{/other_user}", "gists_url": "https://api.github.com/users/davem330/gists{/gist_id}", "starred_url": "https://api.github.com/users/davem330/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davem330/subscriptions", "organizations_url": "https://api.github.com/users/davem330/orgs", "repos_url": "https://api.github.com/users/davem330/repos", "events_url": "https://api.github.com/users/davem330/events{/privacy}", "received_events_url": "https://api.github.com/users/davem330/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "87ca01b7be3297716a55bbec92ba9f31a7181912", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87ca01b7be3297716a55bbec92ba9f31a7181912", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87ca01b7be3297716a55bbec92ba9f31a7181912"}], "stats": {"total": 35, "additions": 15, "deletions": 20}, "files": [{"sha": "d3f091e091881fa7579b99268cf496abac49f911", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1bb6f778233848318cd8290380d77c515669545a/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1bb6f778233848318cd8290380d77c515669545a/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=1bb6f778233848318cd8290380d77c515669545a", "patch": "@@ -1,3 +1,8 @@\n+2011-11-04  David S. Miller  <davem@davemloft.net>\n+\n+\t* configure.ac: Test for 64-bit addresses on !x86 using __LP64__.\n+\t* configure: Rebuild.\n+\n 2011-11-04  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n \n \t* config/s390/t-crtstuff: Add -fPIC to CRTSTUFF_T_CFLAGS_S"}, {"sha": "1895a769582768f754a5ef4321e4a8e2d88017bf", "filename": "libgcc/configure", "status": "modified", "additions": 5, "deletions": 10, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1bb6f778233848318cd8290380d77c515669545a/libgcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1bb6f778233848318cd8290380d77c515669545a/libgcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfigure?ref=1bb6f778233848318cd8290380d77c515669545a", "patch": "@@ -4609,21 +4609,16 @@ fi\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $libgcc_cv_cfi\" >&5\n $as_echo \"$libgcc_cv_cfi\" >&6; }\n \n-# Check 32bit or 64bit for x86 and sparc.\n-case ${host} in\n-i?86*-*-* | x86_64*-*-* | sparc*-*-*)\n-  cat > conftest.c <<EOF\n-#if defined(__x86_64__) || \\\n-    (defined(__sparc__) && defined(__arch64__))\n+# Check 32bit or 64bit\n+cat > conftest.c <<EOF\n+#if defined(__x86_64__) || (!defined(__i386__) && defined(__LP64__))\n host_address=64\n #else\n host_address=32\n #endif\n EOF\n-    eval `${CC-cc} -E conftest.c | grep host_address=`\n-    rm -f conftest.c\n-    ;;\n-esac\n+eval `${CC-cc} -E conftest.c | grep host_address=`\n+rm -f conftest.c\n \n # Collect host-machine-specific information.\n . ${srcdir}/config.host"}, {"sha": "308038c57639e84a63bccb3f9775b3244a7af957", "filename": "libgcc/configure.ac", "status": "modified", "additions": 5, "deletions": 10, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1bb6f778233848318cd8290380d77c515669545a/libgcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1bb6f778233848318cd8290380d77c515669545a/libgcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfigure.ac?ref=1bb6f778233848318cd8290380d77c515669545a", "patch": "@@ -255,21 +255,16 @@ AC_CACHE_CHECK([whether assembler supports CFI directives], [libgcc_cv_cfi],\n   [libgcc_cv_cfi=yes],\n   [libgcc_cv_cfi=no])])\n \n-# Check 32bit or 64bit for x86 and sparc.\n-case ${host} in\n-i?86*-*-* | x86_64*-*-* | sparc*-*-*)\n-  cat > conftest.c <<EOF\n-#if defined(__x86_64__) || \\\n-    (defined(__sparc__) && defined(__arch64__))\n+# Check 32bit or 64bit\n+cat > conftest.c <<EOF\n+#if defined(__x86_64__) || (!defined(__i386__) && defined(__LP64__))\n host_address=64\n #else\n host_address=32\n #endif\n EOF\n-    eval `${CC-cc} -E conftest.c | grep host_address=`\n-    rm -f conftest.c\n-    ;;\n-esac\n+eval `${CC-cc} -E conftest.c | grep host_address=`\n+rm -f conftest.c\n \n # Collect host-machine-specific information.\n . ${srcdir}/config.host"}]}