{"sha": "cb2e147086286e59c24e5eb1528c11bbdfa08d05", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2IyZTE0NzA4NjI4NmU1OWMyNGU1ZWIxNTI4YzExYmJkZmEwOGQwNQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2015-05-12T09:03:04Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2015-05-12T09:03:04Z"}, "message": "re PR c++/65133 ([C++11] Result type deduction proceeds even though argument deduction fails)\n\n2015-05-12  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/65133\n\t* g++.dg/cpp0x/trailing10.C: New.\n\nFrom-SVN: r223047", "tree": {"sha": "68c7c8857362798e0a1f2c08891d2d3d754b157e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/68c7c8857362798e0a1f2c08891d2d3d754b157e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cb2e147086286e59c24e5eb1528c11bbdfa08d05", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb2e147086286e59c24e5eb1528c11bbdfa08d05", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb2e147086286e59c24e5eb1528c11bbdfa08d05", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb2e147086286e59c24e5eb1528c11bbdfa08d05/comments", "author": null, "committer": null, "parents": [{"sha": "731261c3344bcf635a503d4360995a9ca7caa552", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/731261c3344bcf635a503d4360995a9ca7caa552", "html_url": "https://github.com/Rust-GCC/gccrs/commit/731261c3344bcf635a503d4360995a9ca7caa552"}], "stats": {"total": 38, "additions": 38, "deletions": 0}, "files": [{"sha": "37d18532017e8792c872964a0f5c9e019d509d4a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb2e147086286e59c24e5eb1528c11bbdfa08d05/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb2e147086286e59c24e5eb1528c11bbdfa08d05/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=cb2e147086286e59c24e5eb1528c11bbdfa08d05", "patch": "@@ -1,3 +1,8 @@\n+2015-05-12  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/65133\n+\t* g++.dg/cpp0x/trailing10.C: New.\n+\n 2015-05-12  Richard Biener  <rguenther@suse.de>\n \n \t* gcc.dg/vect/bb-slp-35.c: New testcase."}, {"sha": "19ef57fa9eab3f9c04cc1b6058eed5a74b6633c5", "filename": "gcc/testsuite/g++.dg/cpp0x/trailing10.C", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb2e147086286e59c24e5eb1528c11bbdfa08d05/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Ftrailing10.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb2e147086286e59c24e5eb1528c11bbdfa08d05/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Ftrailing10.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Ftrailing10.C?ref=cb2e147086286e59c24e5eb1528c11bbdfa08d05", "patch": "@@ -0,0 +1,33 @@\n+// PR c++/65133\n+// { dg-do compile { target c++11 } }\n+\n+template<bool, typename Tp = void>\n+struct enable_if { };\n+\n+template<typename Tp>\n+struct enable_if<true, Tp> { typedef Tp type; };\n+\n+template <int I>\n+struct count\n+{\n+  using type = typename count<I-1>::type;\n+};\n+\n+template <>\n+struct count<0>\n+{\n+  using type = void;\n+};\n+\n+template <int I>\n+auto foo(typename enable_if<(I>=0)>::type *\n+\t = nullptr) -> typename count<I>::type { }\n+\n+template <int I>\n+void foo(typename enable_if<(I<0)>::type * = nullptr) { }\n+\n+int main()\n+{\n+  foo<2>();\n+  foo<-1>();\n+}"}]}