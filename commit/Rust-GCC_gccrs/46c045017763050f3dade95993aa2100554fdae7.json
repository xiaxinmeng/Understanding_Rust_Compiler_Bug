{"sha": "46c045017763050f3dade95993aa2100554fdae7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDZjMDQ1MDE3NzYzMDUwZjNkYWRlOTU5OTNhYTIxMDA1NTRmZGFlNw==", "commit": {"author": {"name": "Klaus Kaempf", "email": "kkaempf@progis.de", "date": "1998-07-12T01:53:48Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-07-12T01:53:48Z"}, "message": "repo.c (get_base_filename): Use file_name_nondirectory ().\n\n \t* repo.c (get_base_filename): Use file_name_nondirectory ().\n \t(open_repo_file): Ditto.\n\t* cp-tree.h (file_name_nondirectory): Add prototype.\n\nFrom-SVN: r21069", "tree": {"sha": "5a9540fc5605625ace82f6554694026f64f1a905", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a9540fc5605625ace82f6554694026f64f1a905"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/46c045017763050f3dade95993aa2100554fdae7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46c045017763050f3dade95993aa2100554fdae7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46c045017763050f3dade95993aa2100554fdae7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46c045017763050f3dade95993aa2100554fdae7/comments", "author": null, "committer": null, "parents": [{"sha": "2b9dc906d0445906387fa231ee5081bb4f3a7abc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b9dc906d0445906387fa231ee5081bb4f3a7abc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b9dc906d0445906387fa231ee5081bb4f3a7abc"}], "stats": {"total": 17, "additions": 9, "deletions": 8}, "files": [{"sha": "d24b105b9aaabb6fd2d9402b7ee6589273f612f5", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46c045017763050f3dade95993aa2100554fdae7/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46c045017763050f3dade95993aa2100554fdae7/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=46c045017763050f3dade95993aa2100554fdae7", "patch": "@@ -1,3 +1,9 @@\n+1998-07-12  Klaus Kaempf (kkaempf@progis.de)\n+\n+ \t* repo.c (get_base_filename): Use file_name_nondirectory ().\n+ \t(open_repo_file): Ditto.\n+\t* cp-tree.h (file_name_nondirectory): Add prototype.\n+\n 1998-07-12  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* friend.c (do_friend): Pull the identifier out of declarator."}, {"sha": "761265c107eb318413d369d388c57e365ecbc8b7", "filename": "gcc/cp/cp-tree.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46c045017763050f3dade95993aa2100554fdae7/gcc%2Fcp%2Fcp-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46c045017763050f3dade95993aa2100554fdae7/gcc%2Fcp%2Fcp-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-tree.h?ref=46c045017763050f3dade95993aa2100554fdae7", "patch": "@@ -2574,6 +2574,7 @@ extern tree build_vec_delete\t\t\tPROTO((tree, tree, tree, tree, int));\n /* in input.c */\n \n /* in lex.c */\n+extern char *file_name_nondirectory\t\tPROTO((char *));\n extern tree make_pointer_declarator\t\tPROTO((tree, tree));\n extern tree make_reference_declarator\t\tPROTO((tree, tree));\n extern tree make_call_declarator\t\tPROTO((tree, tree, tree, tree));"}, {"sha": "742250dc6328fea0ca2dea3a88800c536e2c65d5", "filename": "gcc/cp/repo.c", "status": "modified", "additions": 2, "deletions": 8, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46c045017763050f3dade95993aa2100554fdae7/gcc%2Fcp%2Frepo.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46c045017763050f3dade95993aa2100554fdae7/gcc%2Fcp%2Frepo.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Frepo.c?ref=46c045017763050f3dade95993aa2100554fdae7", "patch": "@@ -259,11 +259,7 @@ get_base_filename (filename)\n       return NULL;\n     }\n \n-  p = rindex (filename, '/');\n-  if (p)\n-    return p+1;\n-  else\n-    return filename;\n+  return file_name_nondirectory (filename);\n }        \n \n static void\n@@ -276,9 +272,7 @@ open_repo_file (filename)\n   if (s == NULL)\n     return;\n \n-  p = rindex (s, '/');\n-  if (! p)\n-    p = s;\n+  p = file_name_nondirectory (s);\n   p = rindex (p, '.');\n   if (! p)\n     p = s + strlen (s);"}]}