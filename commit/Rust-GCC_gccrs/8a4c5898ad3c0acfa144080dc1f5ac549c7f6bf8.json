{"sha": "8a4c5898ad3c0acfa144080dc1f5ac549c7f6bf8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGE0YzU4OThhZDNjMGFjZmExNDQwODBkYzFmNWFjNTQ5YzdmNmJmOA==", "commit": {"author": {"name": "Christian Cornelssen", "email": "ccorn@cs.tu-berlin.de", "date": "2003-01-09T08:05:56Z"}, "committer": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2003-01-09T08:05:56Z"}, "message": "Make-lang.in (java.install-common, [...]): Prepend $(DESTDIR) to destination paths in all (un)installation commands.\n\n2003-01-09  Christian Cornelssen  <ccorn@cs.tu-berlin.de>\n\n\t* Make-lang.in (java.install-common, java.uninstall,\n\tjava.install-info, java.install-man): Prepend $(DESTDIR)\n\tto destination paths in all (un)installation commands.\n\t(java.install-common): Rewrite $(LN) command to support\n\tDESTDIR with \"ln\" as well as with \"ln -s\".\n\nFrom-SVN: r61081", "tree": {"sha": "ed110a17b65edaebcd69163ce8f0a924e7377d8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed110a17b65edaebcd69163ce8f0a924e7377d8d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8a4c5898ad3c0acfa144080dc1f5ac549c7f6bf8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a4c5898ad3c0acfa144080dc1f5ac549c7f6bf8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a4c5898ad3c0acfa144080dc1f5ac549c7f6bf8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a4c5898ad3c0acfa144080dc1f5ac549c7f6bf8/comments", "author": null, "committer": null, "parents": [{"sha": "17b4fdbff2ff17c56a58921831b36f466219366f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17b4fdbff2ff17c56a58921831b36f466219366f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17b4fdbff2ff17c56a58921831b36f466219366f"}], "stats": {"total": 113, "additions": 61, "deletions": 52}, "files": [{"sha": "4aaf8d2f2aa41fb44853efdc2517cfb69b612c31", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a4c5898ad3c0acfa144080dc1f5ac549c7f6bf8/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a4c5898ad3c0acfa144080dc1f5ac549c7f6bf8/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=8a4c5898ad3c0acfa144080dc1f5ac549c7f6bf8", "patch": "@@ -1,3 +1,11 @@\n+2003-01-09  Christian Cornelssen  <ccorn@cs.tu-berlin.de>\n+\n+\t* Make-lang.in (java.install-common, java.uninstall,\n+\tjava.install-info, java.install-man): Prepend $(DESTDIR)\n+\tto destination paths in all (un)installation commands.\n+\t(java.install-common): Rewrite $(LN) command to support\n+\tDESTDIR with \"ln\" as well as with \"ln -s\".\n+\n 2003-01-08  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* java-tree.h: Protect against multiple inclusion."}, {"sha": "b04a975630e5a9c93df4c5b4704cb4cb9ebc4fea", "filename": "gcc/java/Make-lang.in", "status": "modified", "additions": 53, "deletions": 52, "changes": 105, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a4c5898ad3c0acfa144080dc1f5ac549c7f6bf8/gcc%2Fjava%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a4c5898ad3c0acfa144080dc1f5ac549c7f6bf8/gcc%2Fjava%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FMake-lang.in?ref=8a4c5898ad3c0acfa144080dc1f5ac549c7f6bf8", "patch": "@@ -171,53 +171,54 @@ java.install-normal:\n java.install-common: installdirs\n \t-if [ -f $(GCJ)$(exeext) ]; then \\\n \t  if [ -f $(GCJ)-cross$(exeext) ]; then \\\n-\t    rm -f $(bindir)/$(JAVA_CROSS_NAME)$(exeext); \\\n-\t    $(INSTALL_PROGRAM) $(GCJ)-cross$(exeext) $(bindir)/$(JAVA_CROSS_NAME)$(exeext); \\\n-\t    chmod a+x $(bindir)/$(JAVA_CROSS_NAME)$(exeext); \\\n+\t    rm -f $(DESTDIR)$(bindir)/$(JAVA_CROSS_NAME)$(exeext); \\\n+\t    $(INSTALL_PROGRAM) $(GCJ)-cross$(exeext) $(DESTDIR)$(bindir)/$(JAVA_CROSS_NAME)$(exeext); \\\n+\t    chmod a+x $(DESTDIR)$(bindir)/$(JAVA_CROSS_NAME)$(exeext); \\\n \t  else \\\n-\t    rm -f $(bindir)/$(JAVA_INSTALL_NAME)$(exeext); \\\n-\t    $(INSTALL_PROGRAM) $(GCJ)$(exeext) $(bindir)/$(JAVA_INSTALL_NAME)$(exeext); \\\n-\t    chmod a+x $(bindir)/$(JAVA_INSTALL_NAME)$(exeext); \\\n-\t    rm -f $(bindir)/$(JAVA_TARGET_INSTALL_NAME)$(exeext); \\\n-\t    $(LN) $(bindir)/$(JAVA_INSTALL_NAME)$(exeext) $(bindir)/$(JAVA_TARGET_INSTALL_NAME)$(exeext); \\\n+\t    rm -f $(DESTDIR)$(bindir)/$(JAVA_INSTALL_NAME)$(exeext); \\\n+\t    $(INSTALL_PROGRAM) $(GCJ)$(exeext) $(DESTDIR)$(bindir)/$(JAVA_INSTALL_NAME)$(exeext); \\\n+\t    chmod a+x $(DESTDIR)$(bindir)/$(JAVA_INSTALL_NAME)$(exeext); \\\n+\t    rm -f $(DESTDIR)$(bindir)/$(JAVA_TARGET_INSTALL_NAME)$(exeext); \\\n+\t    ( cd $(DESTDIR)$(bindir) && \\\n+\t      $(LN) $(JAVA_INSTALL_NAME)$(exeext) $(JAVA_TARGET_INSTALL_NAME)$(exeext) ); \\\n \t  fi ; \\\n \tfi ; \\\n         for tool in $(JAVA_TARGET_INDEPENDENT_BIN_TOOLS); do \\\n \t  tool_transformed_name=`echo $$tool|sed '$(program_transform_name)'`; \\\n           if [ -f $$tool$(exeext) ]; then \\\n-\t    rm -f $(bindir)/$$tool_transformed_name$(exeext); \\\n-\t    $(INSTALL_PROGRAM) $$tool$(exeext) $(bindir)/$$tool_transformed_name$(exeext); \\\n-\t    chmod a+x $(bindir)/$$tool_transformed_name$(exeext); \\\n+\t    rm -f $(DESTDIR)$(bindir)/$$tool_transformed_name$(exeext); \\\n+\t    $(INSTALL_PROGRAM) $$tool$(exeext) $(DESTDIR)$(bindir)/$$tool_transformed_name$(exeext); \\\n+\t    chmod a+x $(DESTDIR)$(bindir)/$$tool_transformed_name$(exeext); \\\n           fi ; \\\n        done\n \n java.install-man:\n \n java.uninstall:\n-\t-rm -rf $(bindir)/$(JAVA_INSTALL_NAME)$(exeext)\n-\t-rm -rf $(bindir)/$(JAVA_CROSS_NAME)$(exeext)\n-\t-rm -rf $(man1dir)/$(JAVA_INSTALL_NAME)$(man1ext)\n-\t-rm -rf $(man1dir)/$(JAVA_CROSS_NAME)$(man1ext)\n-\t-rm -rf $(man1dir)/gcjh$(man1ext)\n-\t-rm -rf $(man1dir)/jv-scan$(man1ext)\n-\t-rm -rf $(man1dir)/jcf-dump$(man1ext)\n-\t-rm -rf $(man1dir)/gij$(man1ext)\n-\t-rm -rf $(man1dir)/jv-convert$(man1ext)\n+\t-rm -rf $(DESTDIR)$(bindir)/$(JAVA_INSTALL_NAME)$(exeext)\n+\t-rm -rf $(DESTDIR)$(bindir)/$(JAVA_CROSS_NAME)$(exeext)\n+\t-rm -rf $(DESTDIR)$(man1dir)/$(JAVA_INSTALL_NAME)$(man1ext)\n+\t-rm -rf $(DESTDIR)$(man1dir)/$(JAVA_CROSS_NAME)$(man1ext)\n+\t-rm -rf $(DESTDIR)$(man1dir)/gcjh$(man1ext)\n+\t-rm -rf $(DESTDIR)$(man1dir)/jv-scan$(man1ext)\n+\t-rm -rf $(DESTDIR)$(man1dir)/jcf-dump$(man1ext)\n+\t-rm -rf $(DESTDIR)$(man1dir)/gij$(man1ext)\n+\t-rm -rf $(DESTDIR)$(man1dir)/jv-convert$(man1ext)\n \n java.install-info: installdirs\n \tif [ -f jc1$(exeext) ] ; then \\\n \t  if [ -f $(srcdir)/java/gcj.info ]; then \\\n-\t    rm -f $(infodir)/gcj.info*; \\\n+\t    rm -f $(DESTDIR)$(infodir)/gcj.info*; \\\n \t    for f in $(srcdir)/java/gcj.info*; do \\\n \t      realfile=`echo $$f | sed -e 's|.*/\\([^/]*\\)$$|\\1|'`; \\\n-\t      $(INSTALL_DATA) $$f $(infodir)/$$realfile; \\\n+\t      $(INSTALL_DATA) $$f $(DESTDIR)$(infodir)/$$realfile; \\\n \t    done; \\\n-\t    chmod a-x $(infodir)/gcj.info*; \\\n+\t    chmod a-x $(DESTDIR)$(infodir)/gcj.info*; \\\n \t  else true; fi; \\\n \telse true; fi\n-\t-if [ -f jc1$(exeext) ] && [ -f $(infodir)/gcj.info ]; then \\\n+\t-if [ -f jc1$(exeext) ] && [ -f $(DESTDIR)$(infodir)/gcj.info ]; then \\\n \t  if $(SHELL) -c 'install-info --version' >/dev/null 2>&1; then \\\n-\t    install-info --dir-file=$(infodir)/dir $(infodir)/gcj.info; \\\n+\t    install-info --dir-file=$(DESTDIR)$(infodir)/dir $(DESTDIR)$(infodir)/gcj.info; \\\n \t  else true; fi; \\\n \telse true; fi\n \n@@ -419,33 +420,33 @@ $(srcdir)/java/rmiregistry.1: $(srcdir)/java/gcj.texi\n java.install-man: installdirs $(GENERATED_JAVA_MANPAGES)\n \t-if [ -f $(GCJ)$(exeext) ]; then \\\n \t  if [ -f $(GCJ)-cross$(exeext) ]; then \\\n-\t    rm -f $(man1dir)/$(JAVA_CROSS_NAME)$(man1ext); \\\n-\t    $(INSTALL_DATA) $(srcdir)/java/gcj.1 $(man1dir)/$(JAVA_CROSS_NAME)$(man1ext); \\\n-\t    chmod a-x $(man1dir)/$(JAVA_CROSS_NAME)$(man1ext); \\\n+\t    rm -f $(DESTDIR)$(man1dir)/$(JAVA_CROSS_NAME)$(man1ext); \\\n+\t    $(INSTALL_DATA) $(srcdir)/java/gcj.1 $(DESTDIR)$(man1dir)/$(JAVA_CROSS_NAME)$(man1ext); \\\n+\t    chmod a-x $(DESTDIR)$(man1dir)/$(JAVA_CROSS_NAME)$(man1ext); \\\n \t  else \\\n-\t    rm -f $(man1dir)/$(JAVA_INSTALL_NAME)$(man1ext); \\\n-\t    $(INSTALL_DATA) $(srcdir)/java/gcj.1 $(man1dir)/$(JAVA_INSTALL_NAME)$(man1ext); \\\n-\t    chmod a-x $(man1dir)/$(JAVA_INSTALL_NAME)$(man1ext); \\\n+\t    rm -f $(DESTDIR)$(man1dir)/$(JAVA_INSTALL_NAME)$(man1ext); \\\n+\t    $(INSTALL_DATA) $(srcdir)/java/gcj.1 $(DESTDIR)$(man1dir)/$(JAVA_INSTALL_NAME)$(man1ext); \\\n+\t    chmod a-x $(DESTDIR)$(man1dir)/$(JAVA_INSTALL_NAME)$(man1ext); \\\n \t  fi ; \\\n \tfi\n-\t-rm -f $(man1dir)/gcjh$(man1ext)\n-\t-$(INSTALL_DATA) $(srcdir)/java/gcjh.1 $(man1dir)/gcjh$(man1ext)\n-\t-chmod a-x $(man1dir)/gcjh$(man1ext)\n-\t-rm -f $(man1dir)/jv-scan$(man1ext)\n-\t-$(INSTALL_DATA) $(srcdir)/java/jv-scan.1 $(man1dir)/jv-scan$(man1ext)\n-\t-chmod a-x $(man1dir)/jv-scan$(man1ext)\n-\t-rm -f $(man1dir)/jcf-dump$(man1ext)\n-\t-$(INSTALL_DATA) $(srcdir)/java/jcf-dump.1 $(man1dir)/jcf-dump$(man1ext)\n-\t-chmod a-x $(man1dir)/jcf-dump$(man1ext)\n-\t-rm -f $(man1dir)/gij$(man1ext)\n-\t-$(INSTALL_DATA) $(srcdir)/java/gij.1 $(man1dir)/gij$(man1ext)\n-\t-chmod a-x $(man1dir)/gij$(man1ext)\n-\t-rm -f $(man1dir)/jv-convert$(man1ext)\n-\t-$(INSTALL_DATA) $(srcdir)/java/jv-convert.1 $(man1dir)/jv-convert$(man1ext)\n-\t-chmod a-x $(man1dir)/jv-convert$(man1ext)\n-\t-rm -f $(man1dir)/rmic$(man1ext)\n-\t-$(INSTALL_DATA) $(srcdir)/java/rmic.1 $(man1dir)/rmic$(man1ext)\n-\t-chmod a-x $(man1dir)/rmic$(man1ext)\n-\t-rm -f $(man1dir)/rmiregistry$(man1ext)\n-\t-$(INSTALL_DATA) $(srcdir)/java/rmiregistry.1 $(man1dir)/rmiregistry$(man1ext)\n-\t-chmod a-x $(man1dir)/rmiregistry$(man1ext)\n+\t-rm -f $(DESTDIR)$(man1dir)/gcjh$(man1ext)\n+\t-$(INSTALL_DATA) $(srcdir)/java/gcjh.1 $(DESTDIR)$(man1dir)/gcjh$(man1ext)\n+\t-chmod a-x $(DESTDIR)$(man1dir)/gcjh$(man1ext)\n+\t-rm -f $(DESTDIR)$(man1dir)/jv-scan$(man1ext)\n+\t-$(INSTALL_DATA) $(srcdir)/java/jv-scan.1 $(DESTDIR)$(man1dir)/jv-scan$(man1ext)\n+\t-chmod a-x $(DESTDIR)$(man1dir)/jv-scan$(man1ext)\n+\t-rm -f $(DESTDIR)$(man1dir)/jcf-dump$(man1ext)\n+\t-$(INSTALL_DATA) $(srcdir)/java/jcf-dump.1 $(DESTDIR)$(man1dir)/jcf-dump$(man1ext)\n+\t-chmod a-x $(DESTDIR)$(man1dir)/jcf-dump$(man1ext)\n+\t-rm -f $(DESTDIR)$(man1dir)/gij$(man1ext)\n+\t-$(INSTALL_DATA) $(srcdir)/java/gij.1 $(DESTDIR)$(man1dir)/gij$(man1ext)\n+\t-chmod a-x $(DESTDIR)$(man1dir)/gij$(man1ext)\n+\t-rm -f $(DESTDIR)$(man1dir)/jv-convert$(man1ext)\n+\t-$(INSTALL_DATA) $(srcdir)/java/jv-convert.1 $(DESTDIR)$(man1dir)/jv-convert$(man1ext)\n+\t-chmod a-x $(DESTDIR)$(man1dir)/jv-convert$(man1ext)\n+\t-rm -f $(DESTDIR)$(man1dir)/rmic$(man1ext)\n+\t-$(INSTALL_DATA) $(srcdir)/java/rmic.1 $(DESTDIR)$(man1dir)/rmic$(man1ext)\n+\t-chmod a-x $(DESTDIR)$(man1dir)/rmic$(man1ext)\n+\t-rm -f $(DESTDIR)$(man1dir)/rmiregistry$(man1ext)\n+\t-$(INSTALL_DATA) $(srcdir)/java/rmiregistry.1 $(DESTDIR)$(man1dir)/rmiregistry$(man1ext)\n+\t-chmod a-x $(DESTDIR)$(man1dir)/rmiregistry$(man1ext)"}]}