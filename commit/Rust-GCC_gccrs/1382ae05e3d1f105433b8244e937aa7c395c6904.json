{"sha": "1382ae05e3d1f105433b8244e937aa7c395c6904", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTM4MmFlMDVlM2QxZjEwNTQzM2I4MjQ0ZTkzN2FhN2MzOTVjNjkwNA==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2009-09-10T20:36:19Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2009-09-10T20:36:19Z"}, "message": "gcc/testsuite:\n\n\tPR ada/18302\n\t* ada/acats/run_all.sh (target_run): Use run_test.exp to execute\n\tcommands.\n\t* ada/acats/run_test.exp: New file.\n\n\tgcc/ada:\n\n\tPR ada/18302\n\t* gcc-interface/Make-lang.in (check-acats): Export rootme, EXPECT.\n\nCo-Authored-By: James A. Morrison <phython@gcc.gnu.org>\n\nFrom-SVN: r151614", "tree": {"sha": "14d5da9ce06802886645fb906000da34f18fed6e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/14d5da9ce06802886645fb906000da34f18fed6e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1382ae05e3d1f105433b8244e937aa7c395c6904", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1382ae05e3d1f105433b8244e937aa7c395c6904", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1382ae05e3d1f105433b8244e937aa7c395c6904", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1382ae05e3d1f105433b8244e937aa7c395c6904/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0e6748ab2c1323ff7352035eb1abf3530cff8fff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e6748ab2c1323ff7352035eb1abf3530cff8fff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e6748ab2c1323ff7352035eb1abf3530cff8fff"}], "stats": {"total": 30, "additions": 29, "deletions": 1}, "files": [{"sha": "9ef2feb9cbeb1ec7b8af8274dce4b5093b677972", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1382ae05e3d1f105433b8244e937aa7c395c6904/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1382ae05e3d1f105433b8244e937aa7c395c6904/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=1382ae05e3d1f105433b8244e937aa7c395c6904", "patch": "@@ -1,3 +1,8 @@\n+2009-09-10  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\tPR ada/18302\n+\t* gcc-interface/Make-lang.in (check-acats): Export rootme, EXPECT.\n+\n 2009-09-08  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/decl.c (gnat_to_gnu_entity) <E_Array_Subtype>: Tidy"}, {"sha": "d0eb5e8a9fc213b3b3ec55c9382a20bc5edcd196", "filename": "gcc/ada/gcc-interface/Make-lang.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1382ae05e3d1f105433b8244e937aa7c395c6904/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1382ae05e3d1f105433b8244e937aa7c395c6904/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMake-lang.in?ref=1382ae05e3d1f105433b8244e937aa7c395c6904", "patch": "@@ -841,6 +841,8 @@ check_acats_targets = $(patsubst %,check-acats%, 0 1 2)\n \n check-acats:\n \t@test -d $(ACATSDIR) || mkdir -p $(ACATSDIR); \\\n+\trootme=`${PWD_COMMAND}`; export rootme; \\\n+\tEXPECT=$(EXPECT); export EXPECT; \\\n \tif [ -z \"$(CHAPTERS)\" ] && [ \"$(filter -j, $(MFLAGS))\" = \"-j\" ]; \\\n \tthen \\\n \t  $(MAKE) $(check_acats_targets); \\"}, {"sha": "3a6e97a8ea4e204f4b0d24a152c01e06fc781fae", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1382ae05e3d1f105433b8244e937aa7c395c6904/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1382ae05e3d1f105433b8244e937aa7c395c6904/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1382ae05e3d1f105433b8244e937aa7c395c6904", "patch": "@@ -1,3 +1,11 @@\n+2009-09-10  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\t    James A. Morrison  <phython@gcc.gnu.org>\n+\n+\tPR ada/18302\n+\t* ada/acats/run_all.sh (target_run): Use run_test.exp to execute\n+\tcommands.\n+\t* ada/acats/run_test.exp: New file.\n+\n 2009-09-10  Uros Bizjak <ubizjak@gmail.com>\n \n \tRevert:"}, {"sha": "e28ec7a838a553afebe07ec757cb4150154bab19", "filename": "gcc/testsuite/ada/acats/run_all.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1382ae05e3d1f105433b8244e937aa7c395c6904/gcc%2Ftestsuite%2Fada%2Facats%2Frun_all.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1382ae05e3d1f105433b8244e937aa7c395c6904/gcc%2Ftestsuite%2Fada%2Facats%2Frun_all.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fada%2Facats%2Frun_all.sh?ref=1382ae05e3d1f105433b8244e937aa7c395c6904", "patch": "@@ -13,7 +13,7 @@ gccflags=\"-O2\"\n gnatflags=\"-gnatws\"\n \n target_run () {\n-$*\n+  eval $EXPECT -f $testdir/run_test.exp $*\n }\n \n # End of customization section."}, {"sha": "07dec27709b3a7f5515dbb9b0e98c03966a26520", "filename": "gcc/testsuite/ada/acats/run_test.exp", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1382ae05e3d1f105433b8244e937aa7c395c6904/gcc%2Ftestsuite%2Fada%2Facats%2Frun_test.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1382ae05e3d1f105433b8244e937aa7c395c6904/gcc%2Ftestsuite%2Fada%2Facats%2Frun_test.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fada%2Facats%2Frun_test.exp?ref=1382ae05e3d1f105433b8244e937aa7c395c6904", "patch": "@@ -0,0 +1,13 @@\n+#!/usr/bin/expect -f\n+\n+if {[info exists env(DEJAGNU_TIMEOUT)]} {\n+    set timeout $env(DEJAGNU_TIMEOUT)\n+} else {\n+    set timeout 300 \n+}\n+\n+spawn -noecho $argv\n+expect timeout {\n+    send_user \"Program timed out.\\n\"\n+    exit 1\n+}"}]}