{"sha": "f783775863de46654119ab67cfa814f1408cf713", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Zjc4Mzc3NTg2M2RlNDY2NTQxMTlhYjY3Y2ZhODE0ZjE0MDhjZjcxMw==", "commit": {"author": {"name": "Kyrylo Tkachov", "email": "kyrylo.tkachov@arm.com", "date": "2013-04-04T15:54:50Z"}, "committer": {"name": "Kyrylo Tkachov", "email": "ktkachov@gcc.gnu.org", "date": "2013-04-04T15:54:50Z"}, "message": "arm_neon_builtins.def: New file.\n\n2013-04-04  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n\n\t* config/arm/arm_neon_builtins.def: New file.\n\t* config/arm/arm.c (neon_builtin_data): Move contents to\n\tarm_neon_builtins.def.\n\t(enum arm_builtins): Include neon builtin definitions.\n\t(ARM_BUILTIN_NEON_BASE): Move from enum to macro.\n\t* config/arm/t-arm (arm.o): Add dependency on\n\tarm_neon_builtins.def.\n\nFrom-SVN: r197489", "tree": {"sha": "3cae3e89d7fdbeb2673c94785aa0e3d8c6bcb0da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3cae3e89d7fdbeb2673c94785aa0e3d8c6bcb0da"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f783775863de46654119ab67cfa814f1408cf713", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f783775863de46654119ab67cfa814f1408cf713", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f783775863de46654119ab67cfa814f1408cf713", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f783775863de46654119ab67cfa814f1408cf713/comments", "author": {"login": "ktkachov-arm", "id": 74917949, "node_id": "MDQ6VXNlcjc0OTE3OTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/74917949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ktkachov-arm", "html_url": "https://github.com/ktkachov-arm", "followers_url": "https://api.github.com/users/ktkachov-arm/followers", "following_url": "https://api.github.com/users/ktkachov-arm/following{/other_user}", "gists_url": "https://api.github.com/users/ktkachov-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ktkachov-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ktkachov-arm/subscriptions", "organizations_url": "https://api.github.com/users/ktkachov-arm/orgs", "repos_url": "https://api.github.com/users/ktkachov-arm/repos", "events_url": "https://api.github.com/users/ktkachov-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/ktkachov-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "39c1b6dbf50f2e634209365b4fb0b8a2b8edfbbf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39c1b6dbf50f2e634209365b4fb0b8a2b8edfbbf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39c1b6dbf50f2e634209365b4fb0b8a2b8edfbbf"}], "stats": {"total": 468, "additions": 271, "deletions": 197}, "files": [{"sha": "6eab970677e87963fe854d302e19a1e781ef5723", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f783775863de46654119ab67cfa814f1408cf713/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f783775863de46654119ab67cfa814f1408cf713/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f783775863de46654119ab67cfa814f1408cf713", "patch": "@@ -1,3 +1,13 @@\n+2013-04-04  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n+\n+\t* config/arm/arm_neon_builtins.def: New file.\n+\t* config/arm/arm.c (neon_builtin_data): Move contents to\n+\tarm_neon_builtins.def.\n+\t(enum arm_builtins): Include neon builtin definitions.\n+\t(ARM_BUILTIN_NEON_BASE): Move from enum to macro.\n+\t* config/arm/t-arm (arm.o): Add dependency on\n+\tarm_neon_builtins.def.\n+\n 2013-04-04  Marek Polacek  <polacek@redhat.com>\n \n \tPR tree-optimization/48186"}, {"sha": "c1286432baf372c16ac29a21d80b5d8322ea0053", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 49, "deletions": 196, "changes": 245, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f783775863de46654119ab67cfa814f1408cf713/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f783775863de46654119ab67cfa814f1408cf713/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=f783775863de46654119ab67cfa814f1408cf713", "patch": "@@ -19483,7 +19483,8 @@ typedef struct {\n   VAR9 (T, N, A, B, C, D, E, F, G, H, I), \\\n   {#N, NEON_##T, UP (J), CF (N, J), 0}\n \n-/* The mode entries in the following table correspond to the \"key\" type of the\n+/* The NEON builtin data can be found in arm_neon_builtins.def.\n+   The mode entries in the following table correspond to the \"key\" type of the\n    instruction variant, i.e. equivalent to that which would be specified after\n    the assembler mnemonic, which usually refers to the last vector operand.\n    (Signed/unsigned/polynomial types are not differentiated between though, and\n@@ -19493,196 +19494,7 @@ typedef struct {\n \n static neon_builtin_datum neon_builtin_data[] =\n {\n-  VAR10 (BINOP, vadd,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR3 (BINOP, vaddl, v8qi, v4hi, v2si),\n-  VAR3 (BINOP, vaddw, v8qi, v4hi, v2si),\n-  VAR6 (BINOP, vhadd, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n-  VAR8 (BINOP, vqadd, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n-  VAR3 (BINOP, vaddhn, v8hi, v4si, v2di),\n-  VAR8 (BINOP, vmul, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR8 (TERNOP, vmla, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR3 (TERNOP, vmlal, v8qi, v4hi, v2si),\n-  VAR2 (TERNOP, vfma, v2sf, v4sf),\n-  VAR2 (TERNOP, vfms, v2sf, v4sf),\n-  VAR8 (TERNOP, vmls, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR3 (TERNOP, vmlsl, v8qi, v4hi, v2si),\n-  VAR4 (BINOP, vqdmulh, v4hi, v2si, v8hi, v4si),\n-  VAR2 (TERNOP, vqdmlal, v4hi, v2si),\n-  VAR2 (TERNOP, vqdmlsl, v4hi, v2si),\n-  VAR3 (BINOP, vmull, v8qi, v4hi, v2si),\n-  VAR2 (SCALARMULL, vmull_n, v4hi, v2si),\n-  VAR2 (LANEMULL, vmull_lane, v4hi, v2si),\n-  VAR2 (SCALARMULL, vqdmull_n, v4hi, v2si),\n-  VAR2 (LANEMULL, vqdmull_lane, v4hi, v2si),\n-  VAR4 (SCALARMULH, vqdmulh_n, v4hi, v2si, v8hi, v4si),\n-  VAR4 (LANEMULH, vqdmulh_lane, v4hi, v2si, v8hi, v4si),\n-  VAR2 (BINOP, vqdmull, v4hi, v2si),\n-  VAR8 (BINOP, vshl, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n-  VAR8 (BINOP, vqshl, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n-  VAR8 (SHIFTIMM, vshr_n, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n-  VAR3 (SHIFTIMM, vshrn_n, v8hi, v4si, v2di),\n-  VAR3 (SHIFTIMM, vqshrn_n, v8hi, v4si, v2di),\n-  VAR3 (SHIFTIMM, vqshrun_n, v8hi, v4si, v2di),\n-  VAR8 (SHIFTIMM, vshl_n, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n-  VAR8 (SHIFTIMM, vqshl_n, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n-  VAR8 (SHIFTIMM, vqshlu_n, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n-  VAR3 (SHIFTIMM, vshll_n, v8qi, v4hi, v2si),\n-  VAR8 (SHIFTACC, vsra_n, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n-  VAR10 (BINOP, vsub,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR3 (BINOP, vsubl, v8qi, v4hi, v2si),\n-  VAR3 (BINOP, vsubw, v8qi, v4hi, v2si),\n-  VAR8 (BINOP, vqsub, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n-  VAR6 (BINOP, vhsub, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n-  VAR3 (BINOP, vsubhn, v8hi, v4si, v2di),\n-  VAR8 (BINOP, vceq, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR8 (BINOP, vcge, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR6 (BINOP, vcgeu, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n-  VAR8 (BINOP, vcgt, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR6 (BINOP, vcgtu, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n-  VAR2 (BINOP, vcage, v2sf, v4sf),\n-  VAR2 (BINOP, vcagt, v2sf, v4sf),\n-  VAR6 (BINOP, vtst, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n-  VAR8 (BINOP, vabd, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR3 (BINOP, vabdl, v8qi, v4hi, v2si),\n-  VAR6 (TERNOP, vaba, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n-  VAR3 (TERNOP, vabal, v8qi, v4hi, v2si),\n-  VAR8 (BINOP, vmax, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR8 (BINOP, vmin, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR4 (BINOP, vpadd, v8qi, v4hi, v2si, v2sf),\n-  VAR6 (UNOP, vpaddl, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n-  VAR6 (BINOP, vpadal, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n-  VAR4 (BINOP, vpmax, v8qi, v4hi, v2si, v2sf),\n-  VAR4 (BINOP, vpmin, v8qi, v4hi, v2si, v2sf),\n-  VAR2 (BINOP, vrecps, v2sf, v4sf),\n-  VAR2 (BINOP, vrsqrts, v2sf, v4sf),\n-  VAR8 (SHIFTINSERT, vsri_n, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n-  VAR8 (SHIFTINSERT, vsli_n, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n-  VAR8 (UNOP, vabs, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR6 (UNOP, vqabs, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n-  VAR8 (UNOP, vneg, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR6 (UNOP, vqneg, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n-  VAR6 (UNOP, vcls, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n-  VAR6 (UNOP, vclz, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n-  VAR2 (UNOP, vcnt, v8qi, v16qi),\n-  VAR4 (UNOP, vrecpe, v2si, v2sf, v4si, v4sf),\n-  VAR4 (UNOP, vrsqrte, v2si, v2sf, v4si, v4sf),\n-  VAR6 (UNOP, vmvn, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n-  /* FIXME: vget_lane supports more variants than this!  */\n-  VAR10 (GETLANE, vget_lane,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR10 (SETLANE, vset_lane,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR5 (CREATE, vcreate, v8qi, v4hi, v2si, v2sf, di),\n-  VAR10 (DUP, vdup_n,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR10 (DUPLANE, vdup_lane,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR5 (COMBINE, vcombine, v8qi, v4hi, v2si, v2sf, di),\n-  VAR5 (SPLIT, vget_high, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR5 (SPLIT, vget_low, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR3 (UNOP, vmovn, v8hi, v4si, v2di),\n-  VAR3 (UNOP, vqmovn, v8hi, v4si, v2di),\n-  VAR3 (UNOP, vqmovun, v8hi, v4si, v2di),\n-  VAR3 (UNOP, vmovl, v8qi, v4hi, v2si),\n-  VAR6 (LANEMUL, vmul_lane, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n-  VAR6 (LANEMAC, vmla_lane, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n-  VAR2 (LANEMAC, vmlal_lane, v4hi, v2si),\n-  VAR2 (LANEMAC, vqdmlal_lane, v4hi, v2si),\n-  VAR6 (LANEMAC, vmls_lane, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n-  VAR2 (LANEMAC, vmlsl_lane, v4hi, v2si),\n-  VAR2 (LANEMAC, vqdmlsl_lane, v4hi, v2si),\n-  VAR6 (SCALARMUL, vmul_n, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n-  VAR6 (SCALARMAC, vmla_n, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n-  VAR2 (SCALARMAC, vmlal_n, v4hi, v2si),\n-  VAR2 (SCALARMAC, vqdmlal_n, v4hi, v2si),\n-  VAR6 (SCALARMAC, vmls_n, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n-  VAR2 (SCALARMAC, vmlsl_n, v4hi, v2si),\n-  VAR2 (SCALARMAC, vqdmlsl_n, v4hi, v2si),\n-  VAR10 (BINOP, vext,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR8 (UNOP, vrev64, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR4 (UNOP, vrev32, v8qi, v4hi, v16qi, v8hi),\n-  VAR2 (UNOP, vrev16, v8qi, v16qi),\n-  VAR4 (CONVERT, vcvt, v2si, v2sf, v4si, v4sf),\n-  VAR4 (FIXCONV, vcvt_n, v2si, v2sf, v4si, v4sf),\n-  VAR10 (SELECT, vbsl,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR2 (RINT, vrintn, v2sf, v4sf),\n-  VAR2 (RINT, vrinta, v2sf, v4sf),\n-  VAR2 (RINT, vrintp, v2sf, v4sf),\n-  VAR2 (RINT, vrintm, v2sf, v4sf),\n-  VAR2 (RINT, vrintz, v2sf, v4sf),\n-  VAR2 (RINT, vrintx, v2sf, v4sf),\n-  VAR1 (VTBL, vtbl1, v8qi),\n-  VAR1 (VTBL, vtbl2, v8qi),\n-  VAR1 (VTBL, vtbl3, v8qi),\n-  VAR1 (VTBL, vtbl4, v8qi),\n-  VAR1 (VTBX, vtbx1, v8qi),\n-  VAR1 (VTBX, vtbx2, v8qi),\n-  VAR1 (VTBX, vtbx3, v8qi),\n-  VAR1 (VTBX, vtbx4, v8qi),\n-  VAR8 (RESULTPAIR, vtrn, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR8 (RESULTPAIR, vzip, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR8 (RESULTPAIR, vuzp, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n-  VAR5 (REINTERP, vreinterpretv8qi, v8qi, v4hi, v2si, v2sf, di),\n-  VAR5 (REINTERP, vreinterpretv4hi, v8qi, v4hi, v2si, v2sf, di),\n-  VAR5 (REINTERP, vreinterpretv2si, v8qi, v4hi, v2si, v2sf, di),\n-  VAR5 (REINTERP, vreinterpretv2sf, v8qi, v4hi, v2si, v2sf, di),\n-  VAR5 (REINTERP, vreinterpretdi, v8qi, v4hi, v2si, v2sf, di),\n-  VAR5 (REINTERP, vreinterpretv16qi, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR5 (REINTERP, vreinterpretv8hi, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR5 (REINTERP, vreinterpretv4si, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR5 (REINTERP, vreinterpretv4sf, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR5 (REINTERP, vreinterpretv2di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR10 (LOAD1, vld1,\n-         v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR10 (LOAD1LANE, vld1_lane,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR10 (LOAD1, vld1_dup,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR10 (STORE1, vst1,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR10 (STORE1LANE, vst1_lane,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR9 (LOADSTRUCT,\n-\tvld2, v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf),\n-  VAR7 (LOADSTRUCTLANE, vld2_lane,\n-\tv8qi, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n-  VAR5 (LOADSTRUCT, vld2_dup, v8qi, v4hi, v2si, v2sf, di),\n-  VAR9 (STORESTRUCT, vst2,\n-\tv8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf),\n-  VAR7 (STORESTRUCTLANE, vst2_lane,\n-\tv8qi, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n-  VAR9 (LOADSTRUCT,\n-\tvld3, v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf),\n-  VAR7 (LOADSTRUCTLANE, vld3_lane,\n-\tv8qi, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n-  VAR5 (LOADSTRUCT, vld3_dup, v8qi, v4hi, v2si, v2sf, di),\n-  VAR9 (STORESTRUCT, vst3,\n-\tv8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf),\n-  VAR7 (STORESTRUCTLANE, vst3_lane,\n-\tv8qi, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n-  VAR9 (LOADSTRUCT, vld4,\n-\tv8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf),\n-  VAR7 (LOADSTRUCTLANE, vld4_lane,\n-\tv8qi, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n-  VAR5 (LOADSTRUCT, vld4_dup, v8qi, v4hi, v2si, v2sf, di),\n-  VAR9 (STORESTRUCT, vst4,\n-\tv8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf),\n-  VAR7 (STORESTRUCTLANE, vst4_lane,\n-\tv8qi, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n-  VAR10 (LOGICBINOP, vand,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR10 (LOGICBINOP, vorr,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR10 (BINOP, veor,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR10 (LOGICBINOP, vbic,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n-  VAR10 (LOGICBINOP, vorn,\n-\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di)\n+#include \"arm_neon_builtins.def\"\n };\n \n #undef CF\n@@ -19697,9 +19509,36 @@ static neon_builtin_datum neon_builtin_data[] =\n #undef VAR9\n #undef VAR10\n \n-/* Neon defines builtins from ARM_BUILTIN_MAX upwards, though they don't have\n-   symbolic names defined here (which would require too much duplication).\n-   FIXME?  */\n+#define CF(N,X) ARM_BUILTIN_NEON_##N##X\n+#define VAR1(T, N, A) \\\n+  CF (N, A)\n+#define VAR2(T, N, A, B) \\\n+  VAR1 (T, N, A), \\\n+  CF (N, B)\n+#define VAR3(T, N, A, B, C) \\\n+  VAR2 (T, N, A, B), \\\n+  CF (N, C)\n+#define VAR4(T, N, A, B, C, D) \\\n+  VAR3 (T, N, A, B, C), \\\n+  CF (N, D)\n+#define VAR5(T, N, A, B, C, D, E) \\\n+  VAR4 (T, N, A, B, C, D), \\\n+  CF (N, E)\n+#define VAR6(T, N, A, B, C, D, E, F) \\\n+  VAR5 (T, N, A, B, C, D, E), \\\n+  CF (N, F)\n+#define VAR7(T, N, A, B, C, D, E, F, G) \\\n+  VAR6 (T, N, A, B, C, D, E, F), \\\n+  CF (N, G)\n+#define VAR8(T, N, A, B, C, D, E, F, G, H) \\\n+  VAR7 (T, N, A, B, C, D, E, F, G), \\\n+  CF (N, H)\n+#define VAR9(T, N, A, B, C, D, E, F, G, H, I) \\\n+  VAR8 (T, N, A, B, C, D, E, F, G, H), \\\n+  CF (N, I)\n+#define VAR10(T, N, A, B, C, D, E, F, G, H, I, J) \\\n+  VAR9 (T, N, A, B, C, D, E, F, G, H, I), \\\n+  CF (N, J)\n enum arm_builtins\n {\n   ARM_BUILTIN_GETWCGR0,\n@@ -19948,11 +19787,25 @@ enum arm_builtins\n \n   ARM_BUILTIN_WMERGE,\n \n-  ARM_BUILTIN_NEON_BASE,\n+#include \"arm_neon_builtins.def\"\n \n-  ARM_BUILTIN_MAX = ARM_BUILTIN_NEON_BASE + ARRAY_SIZE (neon_builtin_data)\n+  ,ARM_BUILTIN_MAX\n };\n \n+#define ARM_BUILTIN_NEON_BASE (ARM_BUILTIN_MAX - ARRAY_SIZE (neon_builtin_data))\n+\n+#undef CF\n+#undef VAR1\n+#undef VAR2\n+#undef VAR3\n+#undef VAR4\n+#undef VAR5\n+#undef VAR6\n+#undef VAR7\n+#undef VAR8\n+#undef VAR9\n+#undef VAR10\n+\n static GTY(()) tree arm_builtin_decls[ARM_BUILTIN_MAX];\n \n static void"}, {"sha": "5bf6d31cb8844291db070eb1f419a9b0465cd043", "filename": "gcc/config/arm/arm_neon_builtins.def", "status": "added", "additions": 210, "deletions": 0, "changes": 210, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f783775863de46654119ab67cfa814f1408cf713/gcc%2Fconfig%2Farm%2Farm_neon_builtins.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f783775863de46654119ab67cfa814f1408cf713/gcc%2Fconfig%2Farm%2Farm_neon_builtins.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm_neon_builtins.def?ref=f783775863de46654119ab67cfa814f1408cf713", "patch": "@@ -0,0 +1,210 @@\n+/* NEON builtin definitions for ARM.\n+   Copyright (C) 2013\n+   Free Software Foundation, Inc.\n+   Contributed by ARM Ltd.\n+\n+   This file is part of GCC.\n+\n+   GCC is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU General Public License as published\n+   by the Free Software Foundation; either version 3, or (at your\n+   option) any later version.\n+\n+   GCC is distributed in the hope that it will be useful, but WITHOUT\n+   ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n+   or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public\n+   License for more details.\n+\n+   You should have received a copy of the GNU General Public License\n+   along with GCC; see the file COPYING3.  If not see\n+   <http://www.gnu.org/licenses/>.  */\n+\n+VAR10 (BINOP, vadd,\n+\tv8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR3 (BINOP, vaddl, v8qi, v4hi, v2si),\n+VAR3 (BINOP, vaddw, v8qi, v4hi, v2si),\n+VAR6 (BINOP, vhadd, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n+VAR8 (BINOP, vqadd, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n+VAR3 (BINOP, vaddhn, v8hi, v4si, v2di),\n+VAR8 (BINOP, vmul, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR8 (TERNOP, vmla, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR3 (TERNOP, vmlal, v8qi, v4hi, v2si),\n+VAR2 (TERNOP, vfma, v2sf, v4sf),\n+VAR2 (TERNOP, vfms, v2sf, v4sf),\n+VAR8 (TERNOP, vmls, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR3 (TERNOP, vmlsl, v8qi, v4hi, v2si),\n+VAR4 (BINOP, vqdmulh, v4hi, v2si, v8hi, v4si),\n+VAR2 (TERNOP, vqdmlal, v4hi, v2si),\n+VAR2 (TERNOP, vqdmlsl, v4hi, v2si),\n+VAR3 (BINOP, vmull, v8qi, v4hi, v2si),\n+VAR2 (SCALARMULL, vmull_n, v4hi, v2si),\n+VAR2 (LANEMULL, vmull_lane, v4hi, v2si),\n+VAR2 (SCALARMULL, vqdmull_n, v4hi, v2si),\n+VAR2 (LANEMULL, vqdmull_lane, v4hi, v2si),\n+VAR4 (SCALARMULH, vqdmulh_n, v4hi, v2si, v8hi, v4si),\n+VAR4 (LANEMULH, vqdmulh_lane, v4hi, v2si, v8hi, v4si),\n+VAR2 (BINOP, vqdmull, v4hi, v2si),\n+VAR8 (BINOP, vshl, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n+VAR8 (BINOP, vqshl, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n+VAR8 (SHIFTIMM, vshr_n, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n+VAR3 (SHIFTIMM, vshrn_n, v8hi, v4si, v2di),\n+VAR3 (SHIFTIMM, vqshrn_n, v8hi, v4si, v2di),\n+VAR3 (SHIFTIMM, vqshrun_n, v8hi, v4si, v2di),\n+VAR8 (SHIFTIMM, vshl_n, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n+VAR8 (SHIFTIMM, vqshl_n, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n+VAR8 (SHIFTIMM, vqshlu_n, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n+VAR3 (SHIFTIMM, vshll_n, v8qi, v4hi, v2si),\n+VAR8 (SHIFTACC, vsra_n, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n+VAR10 (BINOP, vsub, v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR3 (BINOP, vsubl, v8qi, v4hi, v2si),\n+VAR3 (BINOP, vsubw, v8qi, v4hi, v2si),\n+VAR8 (BINOP, vqsub, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n+VAR6 (BINOP, vhsub, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n+VAR3 (BINOP, vsubhn, v8hi, v4si, v2di),\n+VAR8 (BINOP, vceq, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR8 (BINOP, vcge, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR6 (BINOP, vcgeu, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n+VAR8 (BINOP, vcgt, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR6 (BINOP, vcgtu, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n+VAR2 (BINOP, vcage, v2sf, v4sf),\n+VAR2 (BINOP, vcagt, v2sf, v4sf),\n+VAR6 (BINOP, vtst, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n+VAR8 (BINOP, vabd, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR3 (BINOP, vabdl, v8qi, v4hi, v2si),\n+VAR6 (TERNOP, vaba, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n+VAR3 (TERNOP, vabal, v8qi, v4hi, v2si),\n+VAR8 (BINOP, vmax, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR8 (BINOP, vmin, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR4 (BINOP, vpadd, v8qi, v4hi, v2si, v2sf),\n+VAR6 (UNOP, vpaddl, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n+VAR6 (BINOP, vpadal, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n+VAR4 (BINOP, vpmax, v8qi, v4hi, v2si, v2sf),\n+VAR4 (BINOP, vpmin, v8qi, v4hi, v2si, v2sf),\n+VAR2 (BINOP, vrecps, v2sf, v4sf),\n+VAR2 (BINOP, vrsqrts, v2sf, v4sf),\n+VAR8 (SHIFTINSERT, vsri_n, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n+VAR8 (SHIFTINSERT, vsli_n, v8qi, v4hi, v2si, di, v16qi, v8hi, v4si, v2di),\n+VAR8 (UNOP, vabs, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR6 (UNOP, vqabs, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n+VAR8 (UNOP, vneg, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR6 (UNOP, vqneg, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n+VAR6 (UNOP, vcls, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n+VAR6 (UNOP, vclz, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n+VAR2 (UNOP, vcnt, v8qi, v16qi),\n+VAR4 (UNOP, vrecpe, v2si, v2sf, v4si, v4sf),\n+VAR4 (UNOP, vrsqrte, v2si, v2sf, v4si, v4sf),\n+VAR6 (UNOP, vmvn, v8qi, v4hi, v2si, v16qi, v8hi, v4si),\n+  /* FIXME: vget_lane supports more variants than this!  */\n+VAR10 (GETLANE, vget_lane,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR10 (SETLANE, vset_lane,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR5 (CREATE, vcreate, v8qi, v4hi, v2si, v2sf, di),\n+VAR10 (DUP, vdup_n,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR10 (DUPLANE, vdup_lane,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR5 (COMBINE, vcombine, v8qi, v4hi, v2si, v2sf, di),\n+VAR5 (SPLIT, vget_high, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR5 (SPLIT, vget_low, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR3 (UNOP, vmovn, v8hi, v4si, v2di),\n+VAR3 (UNOP, vqmovn, v8hi, v4si, v2di),\n+VAR3 (UNOP, vqmovun, v8hi, v4si, v2di),\n+VAR3 (UNOP, vmovl, v8qi, v4hi, v2si),\n+VAR6 (LANEMUL, vmul_lane, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n+VAR6 (LANEMAC, vmla_lane, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n+VAR2 (LANEMAC, vmlal_lane, v4hi, v2si),\n+VAR2 (LANEMAC, vqdmlal_lane, v4hi, v2si),\n+VAR6 (LANEMAC, vmls_lane, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n+VAR2 (LANEMAC, vmlsl_lane, v4hi, v2si),\n+VAR2 (LANEMAC, vqdmlsl_lane, v4hi, v2si),\n+VAR6 (SCALARMUL, vmul_n, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n+VAR6 (SCALARMAC, vmla_n, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n+VAR2 (SCALARMAC, vmlal_n, v4hi, v2si),\n+VAR2 (SCALARMAC, vqdmlal_n, v4hi, v2si),\n+VAR6 (SCALARMAC, vmls_n, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n+VAR2 (SCALARMAC, vmlsl_n, v4hi, v2si),\n+VAR2 (SCALARMAC, vqdmlsl_n, v4hi, v2si),\n+VAR10 (BINOP, vext,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR8 (UNOP, vrev64, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR4 (UNOP, vrev32, v8qi, v4hi, v16qi, v8hi),\n+VAR2 (UNOP, vrev16, v8qi, v16qi),\n+VAR4 (CONVERT, vcvt, v2si, v2sf, v4si, v4sf),\n+VAR4 (FIXCONV, vcvt_n, v2si, v2sf, v4si, v4sf),\n+VAR10 (SELECT, vbsl,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR2 (RINT, vrintn, v2sf, v4sf),\n+VAR2 (RINT, vrinta, v2sf, v4sf),\n+VAR2 (RINT, vrintp, v2sf, v4sf),\n+VAR2 (RINT, vrintm, v2sf, v4sf),\n+VAR2 (RINT, vrintz, v2sf, v4sf),\n+VAR2 (RINT, vrintx, v2sf, v4sf),\n+VAR1 (VTBL, vtbl1, v8qi),\n+VAR1 (VTBL, vtbl2, v8qi),\n+VAR1 (VTBL, vtbl3, v8qi),\n+VAR1 (VTBL, vtbl4, v8qi),\n+VAR1 (VTBX, vtbx1, v8qi),\n+VAR1 (VTBX, vtbx2, v8qi),\n+VAR1 (VTBX, vtbx3, v8qi),\n+VAR1 (VTBX, vtbx4, v8qi),\n+VAR8 (RESULTPAIR, vtrn, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR8 (RESULTPAIR, vzip, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR8 (RESULTPAIR, vuzp, v8qi, v4hi, v2si, v2sf, v16qi, v8hi, v4si, v4sf),\n+VAR5 (REINTERP, vreinterpretv8qi, v8qi, v4hi, v2si, v2sf, di),\n+VAR5 (REINTERP, vreinterpretv4hi, v8qi, v4hi, v2si, v2sf, di),\n+VAR5 (REINTERP, vreinterpretv2si, v8qi, v4hi, v2si, v2sf, di),\n+VAR5 (REINTERP, vreinterpretv2sf, v8qi, v4hi, v2si, v2sf, di),\n+VAR5 (REINTERP, vreinterpretdi, v8qi, v4hi, v2si, v2sf, di),\n+VAR5 (REINTERP, vreinterpretv16qi, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR5 (REINTERP, vreinterpretv8hi, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR5 (REINTERP, vreinterpretv4si, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR5 (REINTERP, vreinterpretv4sf, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR5 (REINTERP, vreinterpretv2di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR10 (LOAD1, vld1,\n+         v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR10 (LOAD1LANE, vld1_lane,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR10 (LOAD1, vld1_dup,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR10 (STORE1, vst1,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR10 (STORE1LANE, vst1_lane,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR9 (LOADSTRUCT,\n+\tvld2, v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf),\n+VAR7 (LOADSTRUCTLANE, vld2_lane,\n+\tv8qi, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n+VAR5 (LOADSTRUCT, vld2_dup, v8qi, v4hi, v2si, v2sf, di),\n+VAR9 (STORESTRUCT, vst2,\n+\tv8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf),\n+VAR7 (STORESTRUCTLANE, vst2_lane,\n+\tv8qi, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n+VAR9 (LOADSTRUCT,\n+\tvld3, v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf),\n+VAR7 (LOADSTRUCTLANE, vld3_lane,\n+\tv8qi, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n+VAR5 (LOADSTRUCT, vld3_dup, v8qi, v4hi, v2si, v2sf, di),\n+VAR9 (STORESTRUCT, vst3,\n+\tv8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf),\n+VAR7 (STORESTRUCTLANE, vst3_lane,\n+\tv8qi, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n+VAR9 (LOADSTRUCT, vld4,\n+\tv8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf),\n+VAR7 (LOADSTRUCTLANE, vld4_lane,\n+\tv8qi, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n+VAR5 (LOADSTRUCT, vld4_dup, v8qi, v4hi, v2si, v2sf, di),\n+VAR9 (STORESTRUCT, vst4,\n+\tv8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf),\n+VAR7 (STORESTRUCTLANE, vst4_lane,\n+\tv8qi, v4hi, v2si, v2sf, v8hi, v4si, v4sf),\n+VAR10 (LOGICBINOP, vand,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR10 (LOGICBINOP, vorr,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR10 (BINOP, veor,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR10 (LOGICBINOP, vbic,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di),\n+VAR10 (LOGICBINOP, vorn,\n+\t v8qi, v4hi, v2si, v2sf, di, v16qi, v8hi, v4si, v4sf, v2di)"}, {"sha": "40ff4501a8c47f49d2581e2d1da9ac7b0f7f5597", "filename": "gcc/config/arm/t-arm", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f783775863de46654119ab67cfa814f1408cf713/gcc%2Fconfig%2Farm%2Ft-arm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f783775863de46654119ab67cfa814f1408cf713/gcc%2Fconfig%2Farm%2Ft-arm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Ft-arm?ref=f783775863de46654119ab67cfa814f1408cf713", "patch": "@@ -85,7 +85,8 @@ arm.o: $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) \\\n   $(GGC_H) except.h $(C_PRAGMA_H) $(TM_P_H) \\\n   $(TARGET_H) $(TARGET_DEF_H) debug.h langhooks.h $(DF_H) \\\n   intl.h libfuncs.h $(PARAMS_H) $(OPTS_H) $(srcdir)/config/arm/arm-cores.def \\\n-  $(srcdir)/config/arm/arm-arches.def $(srcdir)/config/arm/arm-fpus.def\n+  $(srcdir)/config/arm/arm-arches.def $(srcdir)/config/arm/arm-fpus.def \\\n+  $(srcdir)/config/arm/arm_neon_builtins.def\n \n arm-c.o: $(srcdir)/config/arm/arm-c.c $(CONFIG_H) $(SYSTEM_H) \\\n     coretypes.h $(TM_H) $(TREE_H) output.h $(C_COMMON_H)"}]}