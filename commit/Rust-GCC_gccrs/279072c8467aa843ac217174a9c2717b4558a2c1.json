{"sha": "279072c8467aa843ac217174a9c2717b4558a2c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjc5MDcyYzg0NjdhYTg0M2FjMjE3MTc0YTljMjcxN2I0NTU4YTJjMQ==", "commit": {"author": {"name": "Zdenek Dvorak", "email": "dvorakz@suse.cz", "date": "2005-08-03T18:39:10Z"}, "committer": {"name": "Zdenek Dvorak", "email": "rakdver@gcc.gnu.org", "date": "2005-08-03T18:39:10Z"}, "message": "re PR tree-optimization/23157 (incorrect sharing of tree nodes regression)\n\n\tPR tree-optimization/23157\n\t* tree-scalar-evolution.c (scev_const_prop): Unshare trees\n\tbefore emitting them.\n\nFrom-SVN: r102704", "tree": {"sha": "07f81556f4d2344e7a763ff21dd97f323ace802c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/07f81556f4d2344e7a763ff21dd97f323ace802c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/279072c8467aa843ac217174a9c2717b4558a2c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/279072c8467aa843ac217174a9c2717b4558a2c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/279072c8467aa843ac217174a9c2717b4558a2c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/279072c8467aa843ac217174a9c2717b4558a2c1/comments", "author": null, "committer": null, "parents": [{"sha": "53054e77821501534edde1b5cba49cbe8fc611dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53054e77821501534edde1b5cba49cbe8fc611dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53054e77821501534edde1b5cba49cbe8fc611dd"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "f23dfa2177ab9cfb1da9c33632aa8c8c1290bdfb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/279072c8467aa843ac217174a9c2717b4558a2c1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/279072c8467aa843ac217174a9c2717b4558a2c1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=279072c8467aa843ac217174a9c2717b4558a2c1", "patch": "@@ -1,3 +1,9 @@\n+2005-08-03  Zdenek Dvorak  <dvorakz@suse.cz>\n+\n+\tPR tree-optimization/23157\n+\t* tree-scalar-evolution.c (scev_const_prop): Unshare trees\n+\tbefore emitting them.\n+\n 2005-08-03  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n \n \tPR tree-optimization/19899"}, {"sha": "65348d084025df0c2acd60c71c77a58120dedc00", "filename": "gcc/tree-scalar-evolution.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/279072c8467aa843ac217174a9c2717b4558a2c1/gcc%2Ftree-scalar-evolution.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/279072c8467aa843ac217174a9c2717b4558a2c1/gcc%2Ftree-scalar-evolution.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-scalar-evolution.c?ref=279072c8467aa843ac217174a9c2717b4558a2c1", "patch": "@@ -2719,6 +2719,7 @@ scev_const_prop (void)\n \t     in loop into account.  */\n \t  if (force_expr_to_var_cost (def) >= target_spill_cost)\n \t    continue;\n+\t  def = unshare_expr (def);\n \n \t  if (is_gimple_val (def))\n \t    stmts = NULL_TREE;"}]}