{"sha": "5415b705f4ca9540317f9841db9a5a1e404099b2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTQxNWI3MDVmNGNhOTU0MDMxN2Y5ODQxZGI5YTVhMWU0MDQwOTliMg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-10-18T19:42:11Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-10-18T19:42:11Z"}, "message": "(start_function): Save immediate_size_expand and initialize it to zero\nin case nested function.\n\nFrom-SVN: r8302", "tree": {"sha": "014cc2bb754afdad3eda061c20046bbf0e462549", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/014cc2bb754afdad3eda061c20046bbf0e462549"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5415b705f4ca9540317f9841db9a5a1e404099b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5415b705f4ca9540317f9841db9a5a1e404099b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5415b705f4ca9540317f9841db9a5a1e404099b2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5415b705f4ca9540317f9841db9a5a1e404099b2/comments", "author": null, "committer": null, "parents": [{"sha": "0fc4f91130cb863ab9034f8fae983bbb7f7d82d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fc4f91130cb863ab9034f8fae983bbb7f7d82d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0fc4f91130cb863ab9034f8fae983bbb7f7d82d7"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "995009a4635423607ce577bbea3641cd49368552", "filename": "gcc/c-decl.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5415b705f4ca9540317f9841db9a5a1e404099b2/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5415b705f4ca9540317f9841db9a5a1e404099b2/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=5415b705f4ca9540317f9841db9a5a1e404099b2", "patch": "@@ -5853,6 +5853,7 @@ start_function (declspecs, declarator, nested)\n {\n   tree decl1, old_decl;\n   tree restype;\n+  int old_immediate_size_expand = immediate_size_expand;\n \n   current_function_returns_value = 0;  /* Assume, until we see it does. */\n   current_function_returns_null = 0;\n@@ -5862,6 +5863,9 @@ start_function (declspecs, declarator, nested)\n   named_labels = 0;\n   shadowed_labels = 0;\n \n+  /* Don't expand any sizes in the return type of the function.  */\n+  immediate_size_expand = 0;\n+\n   decl1 = grokdeclarator (declarator, declspecs, FUNCDEF, 1);\n \n   /* If the declarator is not suitable for a function definition,\n@@ -5997,6 +6001,8 @@ start_function (declspecs, declarator, nested)\n   if (TREE_ADDRESSABLE (DECL_ASSEMBLER_NAME (current_function_decl)))\n     TREE_ADDRESSABLE (current_function_decl) = 1;\n \n+  immediate_size_expand = old_immediate_size_expand;\n+\n   return 1;\n }\n "}]}