{"sha": "0beb3d66eabd1090b50ac68e1741756db72f595a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGJlYjNkNjZlYWJkMTA5MGI1MGFjNjhlMTc0MTc1NmRiNzJmNTk1YQ==", "commit": {"author": {"name": "Andreas Krebbel", "email": "krebbel1@de.ibm.com", "date": "2008-05-14T06:51:30Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2008-05-14T06:51:30Z"}, "message": "cse.c (cse_cc_succs): Invoke delete_insn_and_edges.\n\n2008-05-14  Andreas Krebbel  <krebbel1@de.ibm.com>\n\n\t* cse.c (cse_cc_succs): Invoke delete_insn_and_edges.\n\n2008-05-14  Andreas Krebbel  <krebbel1@de.ibm.com>\n\n\t* g++.dg/eh/080513-1.C: New testcase.\n\nFrom-SVN: r135281", "tree": {"sha": "597e17d3d1554d1d0027a78187f8a8a94a929e53", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/597e17d3d1554d1d0027a78187f8a8a94a929e53"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0beb3d66eabd1090b50ac68e1741756db72f595a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0beb3d66eabd1090b50ac68e1741756db72f595a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0beb3d66eabd1090b50ac68e1741756db72f595a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0beb3d66eabd1090b50ac68e1741756db72f595a/comments", "author": null, "committer": null, "parents": [{"sha": "741300d0edd95a93b91222ad80d1f5887d16af90", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/741300d0edd95a93b91222ad80d1f5887d16af90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/741300d0edd95a93b91222ad80d1f5887d16af90"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "d5b6672174f6b42e46c88a4af86b3a42dc291ac1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0beb3d66eabd1090b50ac68e1741756db72f595a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0beb3d66eabd1090b50ac68e1741756db72f595a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0beb3d66eabd1090b50ac68e1741756db72f595a", "patch": "@@ -1,3 +1,7 @@\n+2008-05-14  Andreas Krebbel  <krebbel1@de.ibm.com>\n+\n+\t* cse.c (cse_cc_succs): Invoke delete_insn_and_edges.\n+\n 2008-05-13  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/36222"}, {"sha": "a5efcd713bcd0a90dcca2904deab1d73059438f3", "filename": "gcc/cse.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0beb3d66eabd1090b50ac68e1741756db72f595a/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0beb3d66eabd1090b50ac68e1741756db72f595a/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=0beb3d66eabd1090b50ac68e1741756db72f595a", "patch": "@@ -6861,7 +6861,7 @@ cse_cc_succs (basic_block bb, rtx cc_reg, rtx cc_src, bool can_change_mode)\n \t\t\t\t    newreg);\n \t}\n \n-      delete_insn (insns[i]);\n+      delete_insn_and_edges (insns[i]);\n     }\n \n   return mode;"}, {"sha": "ff7b73d74df277b0451f331a7f88e6cc53ea708b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0beb3d66eabd1090b50ac68e1741756db72f595a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0beb3d66eabd1090b50ac68e1741756db72f595a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0beb3d66eabd1090b50ac68e1741756db72f595a", "patch": "@@ -1,3 +1,7 @@\n+2008-05-14  Andreas Krebbel  <krebbel1@de.ibm.com>\n+\n+\t* g++.dg/eh/080513-1.C: New testcase.\n+\n 2008-05-13  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/36222"}, {"sha": "dafa32503c55981daacfd2ec496b9e7d03cb19ed", "filename": "gcc/testsuite/g++.dg/eh/080514-1.C", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0beb3d66eabd1090b50ac68e1741756db72f595a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2F080514-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0beb3d66eabd1090b50ac68e1741756db72f595a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2F080514-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Feh%2F080514-1.C?ref=0beb3d66eabd1090b50ac68e1741756db72f595a", "patch": "@@ -0,0 +1,16 @@\n+// This used to fail on s390 due to cse removing an insn with a\n+// REG_EH_REGION without deleting the EH edge.\n+// { dg-do compile }\n+// { dg-options \"-O2 -fnon-call-exceptions\" }\n+\n+void\n+run (int m, double d)\n+{\n+  int stack[m];\n+  int *sp = stack;\n+\n+  if (d == 1.0)\n+    *(sp++) = (0);\n+  else if (d < 1.0)\n+    *(sp++) = (-1);\n+}"}]}