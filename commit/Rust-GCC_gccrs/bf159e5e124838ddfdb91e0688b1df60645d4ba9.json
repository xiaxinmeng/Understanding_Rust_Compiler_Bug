{"sha": "bf159e5e124838ddfdb91e0688b1df60645d4ba9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmYxNTllNWUxMjQ4MzhkZGZkYjkxZTA2ODhiMWRmNjA2NDVkNGJhOQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl.tools@gmail.com", "date": "2021-08-02T17:01:46Z"}, "committer": {"name": "H.J. Lu", "email": "hjl.tools@gmail.com", "date": "2021-08-02T17:38:19Z"}, "message": "x86: Add AVX2 tests for PR middle-end/90773\n\n\tPR middle-end/90773\n\t* gcc.target/i386/pr90773-20.c: New test.\n\t* gcc.target/i386/pr90773-21.c: Likewise.\n\t* gcc.target/i386/pr90773-22.c: Likewise.\n\t* gcc.target/i386/pr90773-23.c: Likewise.\n\t* gcc.target/i386/pr90773-26.c: Likewise.", "tree": {"sha": "360f46ea00ab370cbcb9caff6032ef082bb8eeb1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/360f46ea00ab370cbcb9caff6032ef082bb8eeb1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bf159e5e124838ddfdb91e0688b1df60645d4ba9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf159e5e124838ddfdb91e0688b1df60645d4ba9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf159e5e124838ddfdb91e0688b1df60645d4ba9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf159e5e124838ddfdb91e0688b1df60645d4ba9/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "29f0e955c97da002b5adb4e8c9dfd2ea9709e207", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29f0e955c97da002b5adb4e8c9dfd2ea9709e207", "html_url": "https://github.com/Rust-GCC/gccrs/commit/29f0e955c97da002b5adb4e8c9dfd2ea9709e207"}], "stats": {"total": 73, "additions": 73, "deletions": 0}, "files": [{"sha": "e61e405f2b6b7d1d2a43ff177535cc129790f58c", "filename": "gcc/testsuite/gcc.target/i386/pr90773-20.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf159e5e124838ddfdb91e0688b1df60645d4ba9/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-20.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf159e5e124838ddfdb91e0688b1df60645d4ba9/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-20.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-20.c?ref=bf159e5e124838ddfdb91e0688b1df60645d4ba9", "patch": "@@ -0,0 +1,13 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -march=skylake\" } */\n+\n+extern char *dst;\n+\n+void\n+foo (int c)\n+{\n+  __builtin_memset (dst, c, 33);\n+}\n+\n+/* { dg-final { scan-assembler-times \"vmovdqu\\[\\\\t \\]%ymm\\[0-9\\]+, \\\\(%\\[\\^,\\]+\\\\)\" 1 } } */\n+/* { dg-final { scan-assembler-times \"movb\\[\\\\t \\]+.+, 32\\\\(%\\[\\^,\\]+\\\\)\" 1 } } */"}, {"sha": "16ad17f3cbbdba0d25fbc6831a5b76bff96d60bb", "filename": "gcc/testsuite/gcc.target/i386/pr90773-21.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf159e5e124838ddfdb91e0688b1df60645d4ba9/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-21.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf159e5e124838ddfdb91e0688b1df60645d4ba9/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-21.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-21.c?ref=bf159e5e124838ddfdb91e0688b1df60645d4ba9", "patch": "@@ -0,0 +1,13 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -march=skylake\" } */\n+\n+extern char *dst;\n+\n+void\n+foo (int c)\n+{\n+  __builtin_memset (dst, c, 34);\n+}\n+\n+/* { dg-final { scan-assembler-times \"vmovdqu\\[\\\\t \\]%ymm\\[0-9\\]+, \\\\(%\\[\\^,\\]+\\\\)\" 1 } } */\n+/* { dg-final { scan-assembler-times \"movw\\[\\\\t \\]%.*, 32\\\\(%\\[\\^,\\]+\\\\)\" 1 } } */"}, {"sha": "45a8ff65a849c833fd663ed05269ef850958b551", "filename": "gcc/testsuite/gcc.target/i386/pr90773-22.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf159e5e124838ddfdb91e0688b1df60645d4ba9/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-22.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf159e5e124838ddfdb91e0688b1df60645d4ba9/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-22.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-22.c?ref=bf159e5e124838ddfdb91e0688b1df60645d4ba9", "patch": "@@ -0,0 +1,13 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -march=skylake\" } */\n+\n+extern char *dst;\n+\n+void\n+foo (void)\n+{\n+  __builtin_memset (dst, 0, 33);\n+}\n+\n+/* { dg-final { scan-assembler-times \"vmovdqu\\[\\\\t \\]%ymm\\[0-9\\]+, \\\\(%\\[\\^,\\]+\\\\)\" 1 } } */\n+/* { dg-final { scan-assembler-times \"movb\\[\\\\t \\]+.+, 32\\\\(%\\[\\^,\\]+\\\\)\" 1 } } */"}, {"sha": "9256ce10ff0fdf0d0784b65fd707faed1d43b40e", "filename": "gcc/testsuite/gcc.target/i386/pr90773-23.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf159e5e124838ddfdb91e0688b1df60645d4ba9/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-23.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf159e5e124838ddfdb91e0688b1df60645d4ba9/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-23.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-23.c?ref=bf159e5e124838ddfdb91e0688b1df60645d4ba9", "patch": "@@ -0,0 +1,13 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -march=skylake\" } */\n+\n+extern char *dst;\n+\n+void\n+foo (void)\n+{\n+  __builtin_memset (dst, 0, 34);\n+}\n+\n+/* { dg-final { scan-assembler-times \"vmovdqu\\[\\\\t \\]%ymm\\[0-9\\]+, \\\\(%\\[\\^,\\]+\\\\)\" 1 } } */\n+/* { dg-final { scan-assembler-times \"movw\\[\\\\t \\]+.+, 32\\\\(%\\[\\^,\\]+\\\\)\" 1 } } */"}, {"sha": "b2513c3a9c8d810d20bb567b5aeb1faa8ac20a2c", "filename": "gcc/testsuite/gcc.target/i386/pr90773-26.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf159e5e124838ddfdb91e0688b1df60645d4ba9/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-26.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf159e5e124838ddfdb91e0688b1df60645d4ba9/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-26.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90773-26.c?ref=bf159e5e124838ddfdb91e0688b1df60645d4ba9", "patch": "@@ -0,0 +1,21 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -march=skylake\" } */\n+\n+struct S\n+{\n+  long long s1 __attribute__ ((aligned (8)));\n+  unsigned s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14;\n+};\n+\n+const struct S array[] = {\n+  { 0, 60, 640, 2112543726, 39682, 48, 16, 33, 10, 96, 2, 0, 0, 4 }\n+};\n+\n+void\n+foo (struct S *x)\n+{\n+  x[0] = array[0];\n+}\n+\n+/* { dg-final { scan-assembler-times \"vmovdqu\\[\\\\t \\]%ymm\\[0-9\\]+, \\\\(%\\[\\^,\\]+\\\\)\" 1 } } */\n+/* { dg-final { scan-assembler-times \"vmovdqu\\[\\\\t \\]%ymm\\[0-9\\]+, 32\\\\(%\\[\\^,\\]+\\\\)\" 1 } } */"}]}