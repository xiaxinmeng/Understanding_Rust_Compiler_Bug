{"sha": "ace4eb901316af20584b2273c6ca2056b779ef7a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWNlNGViOTAxMzE2YWYyMDU4NGIyMjczYzZjYTIwNTZiNzc5ZWY3YQ==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2008-04-29T16:01:36Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2008-04-29T16:01:36Z"}, "message": "re PR tree-optimization/36078 (gfortran fails to build cpu2006/465.tonto)\n\n2008-04-29  Richard Guenther  <rguenther@suse.de>\n\n\tPR tree-optimization/36078\n\t* tree-ssa-loop-ivcanon.c (tree_unroll_loops_completely):\n\tUpdate virtual SSA form after cleaning up the CFG.\n\n\t* gfortran.fortran-torture/compile/pr36078.f90: New testcase.\n\nFrom-SVN: r134799", "tree": {"sha": "6c5fe4a3772a4fe5b65de1e9a97f5516ae540a3d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6c5fe4a3772a4fe5b65de1e9a97f5516ae540a3d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ace4eb901316af20584b2273c6ca2056b779ef7a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ace4eb901316af20584b2273c6ca2056b779ef7a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ace4eb901316af20584b2273c6ca2056b779ef7a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ace4eb901316af20584b2273c6ca2056b779ef7a/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1447bf0556ad0cb300aabd1b883fedee314b6fca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1447bf0556ad0cb300aabd1b883fedee314b6fca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1447bf0556ad0cb300aabd1b883fedee314b6fca"}], "stats": {"total": 36, "additions": 35, "deletions": 1}, "files": [{"sha": "125a29cabee7cf1b77ba56c2c7aebc7036d1d773", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ace4eb901316af20584b2273c6ca2056b779ef7a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ace4eb901316af20584b2273c6ca2056b779ef7a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ace4eb901316af20584b2273c6ca2056b779ef7a", "patch": "@@ -1,3 +1,9 @@\n+2008-04-29  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR tree-optimization/36078\n+\t* tree-ssa-loop-ivcanon.c (tree_unroll_loops_completely):\n+\tUpdate virtual SSA form after cleaning up the CFG.\n+\n 2008-04-29  Richard Guenther  <rguenther@suse.de>\n \n \tPR middle-end/15255"}, {"sha": "c12d3823cc395c47072d189d55d935c29924e3a7", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ace4eb901316af20584b2273c6ca2056b779ef7a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ace4eb901316af20584b2273c6ca2056b779ef7a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ace4eb901316af20584b2273c6ca2056b779ef7a", "patch": "@@ -1,3 +1,8 @@\n+2008-04-29  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR tree-optimization/36078\n+\t* gfortran.fortran-torture/compile/pr36078.f90: New testcase.\n+\n 2008-04-29  Richard Guenther  <rguenther@suse.de>\n \n \tPR middle-end/15255"}, {"sha": "b7f0aa3c3b01aed30fb9710ee179ac9136e20d97", "filename": "gcc/testsuite/gfortran.fortran-torture/compile/pr36078.f90", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ace4eb901316af20584b2273c6ca2056b779ef7a/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fcompile%2Fpr36078.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ace4eb901316af20584b2273c6ca2056b779ef7a/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fcompile%2Fpr36078.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fcompile%2Fpr36078.f90?ref=ace4eb901316af20584b2273c6ca2056b779ef7a", "patch": "@@ -0,0 +1,22 @@\n+   subroutine foo(func,p,eval)\n+      real(kind=kind(1.0d0)), dimension(3,0:4,0:4,0:4) :: p\n+      logical(kind=kind(.true.)), dimension(5,5,5) :: eval\n+      interface\n+         subroutine func(values,pt)\n+            real(kind=kind(1.0d0)), dimension(:), intent(out) :: values\n+            real(kind=kind(1.0d0)), dimension(:,:), intent(in) :: pt\n+         end subroutine\n+      end interface\n+      real(kind=kind(1.0d0)), dimension(125,3) :: pt\n+      integer(kind=kind(1)) :: n_pt\n+\n+      n_pt = 1\n+      pt(1:n_pt,:) = &\n+         reshape( &\n+            pack( &\n+               transpose(reshape(p,(/3,125/))), &\n+               spread(reshape(eval,(/125/)),dim=2,ncopies=3)), &\n+            (/n_pt,3/))\n+\n+   end subroutine\n+   end "}, {"sha": "67af0b374d6f7197085146f258ba24d1b5753f11", "filename": "gcc/tree-ssa-loop-ivcanon.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ace4eb901316af20584b2273c6ca2056b779ef7a/gcc%2Ftree-ssa-loop-ivcanon.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ace4eb901316af20584b2273c6ca2056b779ef7a/gcc%2Ftree-ssa-loop-ivcanon.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-ivcanon.c?ref=ace4eb901316af20584b2273c6ca2056b779ef7a", "patch": "@@ -366,7 +366,8 @@ tree_unroll_loops_completely (bool may_increase_size, bool unroll_outer)\n \t  /* This will take care of removing completely unrolled loops\n \t     from the loop structures so we can continue unrolling now\n \t     innermost loops.  */\n-\t  cleanup_tree_cfg ();\n+\t  if (cleanup_tree_cfg ())\n+\t    update_ssa (TODO_update_ssa_only_virtuals);\n \n \t  /* Clean up the information about numbers of iterations, since\n \t     complete unrolling might have invalidated it.  */"}]}