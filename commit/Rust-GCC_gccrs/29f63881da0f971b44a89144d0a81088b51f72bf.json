{"sha": "29f63881da0f971b44a89144d0a81088b51f72bf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjlmNjM4ODFkYTBmOTcxYjQ0YTg5MTQ0ZDBhODEwODhiNTFmNzJiZg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1998-08-17T02:04:53Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1998-08-17T02:04:53Z"}, "message": "* regclass.c (allocate_reg_info): Respect MIN when clearing data.\n\nFrom-SVN: r21770", "tree": {"sha": "fb3b230b55bbbbf764342c91cbe29e3e6f9ffaf8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb3b230b55bbbbf764342c91cbe29e3e6f9ffaf8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/29f63881da0f971b44a89144d0a81088b51f72bf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29f63881da0f971b44a89144d0a81088b51f72bf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/29f63881da0f971b44a89144d0a81088b51f72bf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29f63881da0f971b44a89144d0a81088b51f72bf/comments", "author": null, "committer": null, "parents": [{"sha": "295cd2ee03be57dc52bd19b3bf760c50f9467b2f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/295cd2ee03be57dc52bd19b3bf760c50f9467b2f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/295cd2ee03be57dc52bd19b3bf760c50f9467b2f"}], "stats": {"total": 17, "additions": 11, "deletions": 6}, "files": [{"sha": "cc9cd63e025e147abfd6fca9f5fb61917f5e3d53", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29f63881da0f971b44a89144d0a81088b51f72bf/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29f63881da0f971b44a89144d0a81088b51f72bf/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=29f63881da0f971b44a89144d0a81088b51f72bf", "patch": "@@ -1,3 +1,7 @@\n+Mon Aug 17 02:03:55 1998  Richard Henderson  <rth@cygnus.com>\n+\n+\t* regclass.c (allocate_reg_info): Respect MIN when clearing data.\n+\n Sun Aug 16 17:37:06 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>\n \n \t* config/sparc/sparc.c (ultra_code_from_mask,"}, {"sha": "40bdc72f1cbb08bf51672ea3182fbb0bfb178f60", "filename": "gcc/regclass.c", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29f63881da0f971b44a89144d0a81088b51f72bf/gcc%2Fregclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29f63881da0f971b44a89144d0a81088b51f72bf/gcc%2Fregclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fregclass.c?ref=29f63881da0f971b44a89144d0a81088b51f72bf", "patch": "@@ -1866,18 +1866,19 @@ allocate_reg_info (num_regs, new_p, renumber_p)\n \t  size_t max_index = reg_data->max_index;\n \n \t  reg_next = reg_data->next;\n-\t  if (min_index <= regno_allocated)\n+\t  if (min <= max_index)\n \t    {\n \t      size_t max = max_index;\n-\t      if (max > regno_allocated)\n-\t\tmax = regno_allocated;\n+\t      size_t local_min = min - min_index;\n+\t      if (min < min_index)\n+\t\tlocal_min = 0;\n \t      if (!reg_data->used_p)\t/* page just allocated with calloc */\n \t\treg_data->used_p = 1;\t/* no need to zero */\n \t      else\n-\t\tbzero ((char *) &reg_data->data,\n-\t\t       sizeof (reg_info) * (max - min_index + 1));\n+\t\tbzero ((char *) &reg_data->data[local_min],\n+\t\t       sizeof (reg_info) * (max - min_index - local_min + 1));\n \n-\t      for (i = min_index; i <= max; i++)\n+\t      for (i = min_index+local_min; i <= max; i++)\n \t\t{\n \t\t  VARRAY_REG (reg_n_info, i) = &reg_data->data[i-min_index];\n \t\t  REG_BASIC_BLOCK (i) = REG_BLOCK_UNKNOWN;"}]}