{"sha": "0f6453027705a3eeafe0a6b521624a75d7a7f58b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGY2NDUzMDI3NzA1YTNlZWFmZTBhNmI1MjE2MjRhNzVkN2E3ZjU4Yg==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1996-01-15T21:53:30Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1996-01-15T21:53:30Z"}, "message": "Fix little endian adddi3/subdi3\n\nFrom-SVN: r10997", "tree": {"sha": "0668811a125606741b42987607beb4276bcf0d4c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0668811a125606741b42987607beb4276bcf0d4c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f6453027705a3eeafe0a6b521624a75d7a7f58b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f6453027705a3eeafe0a6b521624a75d7a7f58b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f6453027705a3eeafe0a6b521624a75d7a7f58b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f6453027705a3eeafe0a6b521624a75d7a7f58b/comments", "author": null, "committer": null, "parents": [{"sha": "968ad7cfe21dc8a7b57fe5f23a95dd7fb2ee582a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/968ad7cfe21dc8a7b57fe5f23a95dd7fb2ee582a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/968ad7cfe21dc8a7b57fe5f23a95dd7fb2ee582a"}], "stats": {"total": 40, "additions": 19, "deletions": 21}, "files": [{"sha": "8920c8ad232a2e94e8fae209c14841bd8337eb91", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 19, "deletions": 21, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f6453027705a3eeafe0a6b521624a75d7a7f58b/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f6453027705a3eeafe0a6b521624a75d7a7f58b/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=0f6453027705a3eeafe0a6b521624a75d7a7f58b", "patch": "@@ -3623,36 +3623,34 @@\n \t(plus:DI (match_operand:DI 1 \"gpc_reg_operand\" \"%r,r,0,0\")\n \t\t (match_operand:DI 2 \"reg_or_short_operand\" \"r,I,r,I\")))]\n   \"! TARGET_POWERPC64\"\n-  \"@\n-   {a|addc} %L0,%L1,%L2\\;{ae|adde} %0,%1,%2\n-   {ai|addic} %L0,%L1,%2\\;{a%G2e|add%G2e} %0,%1\n-   {a|addc} %L0,%L1,%L2\\;{ae|adde} %0,%1,%2\n-   {ai|addic} %L0,%L1,%2\\;{a%G2e|add%G2e} %0,%1\"\n+  \"*\n+{\n+  if (WORDS_BIG_ENDIAN)\n+    return (GET_CODE (operands[2])) != CONST_INT\n+\t    ? \\\"{a|addc} %L0,%L1,%L2\\;{ae|adde} %0,%1,%2\\\"\n+\t    : \\\"{ai|addic} %L0,%L1,%2\\;{a%G2e|add%G2e} %0,%1\\\";\n+  else\n+    return (GET_CODE (operands[2])) != CONST_INT\n+\t    ? \\\"{a|addc} %0,%1,%2\\;{ae|adde} %L0,%L1,%L2\\\"\n+\t    : \\\"{ai|addic} %0,%1,%2\\;{a%G2e|add%G2e} %L0,%L1\\\";\n+}\"\n   [(set_attr \"length\" \"8\")])\n \n (define_insn \"subddi3\"\n   [(set (match_operand:DI 0 \"gpc_reg_operand\" \"=&r,&r,r,r,r\")\n \t(minus:DI (match_operand:DI 1 \"reg_or_short_operand\" \"r,I,0,r,I\")\n \t\t  (match_operand:DI 2 \"gpc_reg_operand\" \"r,r,r,0,0\")))]\n   \"TARGET_POWER && ! TARGET_POWERPC64\"\n-  \"@\n-   {sf|subfc} %L0,%L2,%L1\\;{sfe|subfe} %0,%2,%1\n-   {sfi|subfic} %L0,%L2,%1\\;{sf%G1e|subf%G1e} %0,%2\n-   {sf|subfc} %L0,%L2,%L1\\;{sfe|subfe} %0,%2,%1\n-   {sf|subfc} %L0,%L2,%L1\\;{sfe|subfe} %0,%2,%1\n-   {sfi|subfic} %L0,%L2,%1\\;{sf%G1e|subf%G1e} %0,%2\"\n-  [(set_attr \"length\" \"8\")])\n-\n-(define_insn \"\"\n-  [(set (match_operand:DI 0 \"gpc_reg_operand\" \"=&r,r,r\")\n-\t(minus:DI (match_operand:DI 1 \"gpc_reg_operand\" \"r,0,r\")\n-\t\t  (match_operand:DI 2 \"gpc_reg_operand\" \"r,r,0\")))]\n-  \"! TARGET_POWER && ! TARGET_POWERPC64\"\n   \"*\n {\n-  return (WORDS_BIG_ENDIAN)\n-    ? \\\"{sf|subfc} %L0,%L2,%L1\\;{sfe|subfe} %0,%2,%1\\\"\n-    : \\\"{sf|subfc} %0,%2,%1\\;{sfe|subfe} %L0,%L2,%L1\\\";\n+  if (WORDS_BIG_ENDIAN)\n+    return (GET_CODE (operands[1]) != CONST_INT)\n+\t    ? \\\"{sf|subfc} %L0,%L2,%L1\\;{sfe|subfe} %0,%2,%1\\\"\n+\t    : \\\"{sfi|subfic} %L0,%L2,%1\\;{sf%G1e|subf%G1e} %0,%2\\\";\n+  else\n+    return (GET_CODE (operands[1]) != CONST_INT)\n+\t    ? \\\"{sf|subfc} %0,%2,%1\\;{sfe|subfe} %L0,%L2,%L1\\\"\n+\t    : \\\"{sfi|subfic} %0,%2,%1\\;{sf%G1e|subf%G1e} %L0,%L2\\\";\n }\"\n   [(set_attr \"length\" \"8\")])\n "}]}