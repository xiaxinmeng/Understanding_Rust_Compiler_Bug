{"sha": "d5325238eb0dead53af57fbdf1a8154608513393", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDUzMjUyMzhlYjBkZWFkNTNhZjU3ZmJkZjFhODE1NDYwODUxMzM5Mw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2004-07-15T17:38:42Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2004-07-15T17:38:42Z"}, "message": "re PR libstdc++/14697 (libstdc++ couldn't find 32bit libgcc_s)\n\n\tPR libstdc++/14697\n\t* acinclude.m4 (glibcxx_shared_libgcc): Correct\n\tglibcxx_shared_libgcc test for multilibs.\n\t* configure: Rebuilt.\n\nFrom-SVN: r84762", "tree": {"sha": "6fa1b85ff3475a685a64dbf2267276a5d9f5319a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6fa1b85ff3475a685a64dbf2267276a5d9f5319a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d5325238eb0dead53af57fbdf1a8154608513393", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5325238eb0dead53af57fbdf1a8154608513393", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5325238eb0dead53af57fbdf1a8154608513393", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5325238eb0dead53af57fbdf1a8154608513393/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "429b4470bd94c9a894fa65b83fc80254cfee4e7e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/429b4470bd94c9a894fa65b83fc80254cfee4e7e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/429b4470bd94c9a894fa65b83fc80254cfee4e7e"}], "stats": {"total": 88, "additions": 88, "deletions": 0}, "files": [{"sha": "39c9e3ebdfb0bf37fa81237fbb876863298e008c", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5325238eb0dead53af57fbdf1a8154608513393/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5325238eb0dead53af57fbdf1a8154608513393/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=d5325238eb0dead53af57fbdf1a8154608513393", "patch": "@@ -1,3 +1,10 @@\n+2004-07-15  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR libstdc++/14697\n+\t* acinclude.m4 (glibcxx_shared_libgcc): Correct\n+\tglibcxx_shared_libgcc test for multilibs.\n+\t* configure: Rebuilt.\n+\n 2004-07-14  Paolo Carlini  <pcarlini@suse.de>\n \n \tPR libstdc++/16505"}, {"sha": "c9be65e0ba7e400aaf9002823df183d2ff455e45", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5325238eb0dead53af57fbdf1a8154608513393/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5325238eb0dead53af57fbdf1a8154608513393/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=d5325238eb0dead53af57fbdf1a8154608513393", "patch": "@@ -1577,6 +1577,23 @@ if test $enable_symvers != no; then\n   CFLAGS=' -lgcc_s'\n   AC_TRY_LINK(, [return 0;], glibcxx_shared_libgcc=yes, glibcxx_shared_libgcc=no)\n   CFLAGS=\"$ac_save_CFLAGS\"\n+  if test $glibcxx_shared_libgcc = no; then\n+    cat > conftest.c <<EOF\n+int main (void) { return 0; }\n+EOF\n+changequote(,)dnl\n+    glibcxx_libgcc_s_suffix=`${CC-cc} $CFLAGS $CPPFLAGS $LDFLAGS \\\n+\t\t\t     -shared -shared-libgcc -o conftest.so \\\n+\t\t\t     conftest.c -v 2>&1 >/dev/null \\\n+\t\t\t     | sed -n 's/^.* -lgcc_s\\([^ ]*\\) .*$/\\1/p'`\n+changequote([,])dnl\n+    rm -f conftest.c conftest.so\n+    if test x${glibcxx_libgcc_s_suffix+set} = xset; then\n+      CFLAGS=\" -lgcc_s$glibcxx_libgcc_s_suffix\"\n+      AC_TRY_LINK(, [return 0;], glibcxx_shared_libgcc=yes)\n+      CFLAGS=\"$ac_save_CFLAGS\"\n+    fi\n+  fi\n   AC_MSG_RESULT($glibcxx_shared_libgcc)\n fi\n "}, {"sha": "fe0bb85e9f38ba8ff5629036e4605037ad71d1be", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 64, "deletions": 0, "changes": 64, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5325238eb0dead53af57fbdf1a8154608513393/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5325238eb0dead53af57fbdf1a8154608513393/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=d5325238eb0dead53af57fbdf1a8154608513393", "patch": "@@ -93676,6 +93676,70 @@ fi\n rm -f conftest.err conftest.$ac_objext \\\n       conftest$ac_exeext conftest.$ac_ext\n   CFLAGS=\"$ac_save_CFLAGS\"\n+  if test $glibcxx_shared_libgcc = no; then\n+    cat > conftest.c <<EOF\n+int main (void) { return 0; }\n+EOF\n+    glibcxx_libgcc_s_suffix=`${CC-cc} $CFLAGS $CPPFLAGS $LDFLAGS \\\n+\t\t\t     -shared -shared-libgcc -o conftest.so \\\n+\t\t\t     conftest.c -v 2>&1 >/dev/null \\\n+\t\t\t     | sed -n 's/^.* -lgcc_s\\([^ ]*\\) .*$/\\1/p'`\n+    rm -f conftest.c conftest.so\n+    if test x${glibcxx_libgcc_s_suffix+set} = xset; then\n+      CFLAGS=\" -lgcc_s$glibcxx_libgcc_s_suffix\"\n+      if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+return 0;\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  glibcxx_shared_libgcc=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+      CFLAGS=\"$ac_save_CFLAGS\"\n+    fi\n+  fi\n   echo \"$as_me:$LINENO: result: $glibcxx_shared_libgcc\" >&5\n echo \"${ECHO_T}$glibcxx_shared_libgcc\" >&6\n fi"}]}