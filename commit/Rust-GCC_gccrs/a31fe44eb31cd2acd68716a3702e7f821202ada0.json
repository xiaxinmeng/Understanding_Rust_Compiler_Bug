{"sha": "a31fe44eb31cd2acd68716a3702e7f821202ada0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTMxZmU0NGViMzFjZDJhY2Q2ODcxNmEzNzAyZTdmODIxMjAyYWRhMA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-05-17T14:54:24Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-05-17T14:54:24Z"}, "message": "typeck.c (type_unknown_p): Return true for TREE_LIST also.\n\n\t* typeck.c (type_unknown_p): Return true for TREE_LIST also.\n\t* call.c (build_method_call): Use TYPE_MAIN_VARIANT on typedefs.\n\t* call.c (build_scoped_method_call): Likewise.\n\nFrom-SVN: r19820", "tree": {"sha": "634aa1589947990f889e6baf4f43df9c1e3c44e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/634aa1589947990f889e6baf4f43df9c1e3c44e3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a31fe44eb31cd2acd68716a3702e7f821202ada0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a31fe44eb31cd2acd68716a3702e7f821202ada0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a31fe44eb31cd2acd68716a3702e7f821202ada0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a31fe44eb31cd2acd68716a3702e7f821202ada0/comments", "author": null, "committer": null, "parents": [{"sha": "1702d32ea7e8974b5146d445612960e6ddf6dca4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1702d32ea7e8974b5146d445612960e6ddf6dca4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1702d32ea7e8974b5146d445612960e6ddf6dca4"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "5f87d3a5d5292f27392ad158a8784a4f2023d840", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a31fe44eb31cd2acd68716a3702e7f821202ada0/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a31fe44eb31cd2acd68716a3702e7f821202ada0/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=a31fe44eb31cd2acd68716a3702e7f821202ada0", "patch": "@@ -1,3 +1,13 @@\n+Sun May 17 14:52:08 1998  Martin v. Loewis  <loewis@informatik.hu-berlin.de>\n+\n+\t* typeck.c (type_unknown_p): Return true for TREE_LIST also.\n+\n+\t* call.c (build_method_call): Use TYPE_MAIN_VARIANT on typedefs.\n+\n+Sun May 17 14:51:41 1998  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* call.c (build_scoped_method_call): Likewise.\n+\n Sun May 17 13:53:48 1998  Mark Mitchell  <mmitchell@usa.net>\n \n \t* init.c (build_new_1): Call suspend_momentary around the creation"}, {"sha": "b9df085b07b0070b3da5592784253a127e2e8628", "filename": "gcc/cp/call.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a31fe44eb31cd2acd68716a3702e7f821202ada0/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a31fe44eb31cd2acd68716a3702e7f821202ada0/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=a31fe44eb31cd2acd68716a3702e7f821202ada0", "patch": "@@ -392,7 +392,8 @@ build_scoped_method_call (exp, basetype, name, parms)\n \t\t  exp, basetype, type);\n       name = TREE_OPERAND (name, 0);\n       if (TYPE_MAIN_VARIANT (basetype) != name \n-\t  && basetype != get_type_value (name))\n+\t  && (TYPE_MAIN_VARIANT (basetype)\n+\t      != TYPE_MAIN_VARIANT (get_type_value (name))))\n \tcp_error (\"qualified type `%T' does not match destructor name `~%T'\",\n \t\t  basetype, name);\n       return cp_convert (void_type_node, exp);\n@@ -639,7 +640,8 @@ build_method_call (instance, name, parms, basetype_path, flags)\n       if (! (name == TYPE_MAIN_VARIANT (basetype)\n \t     || (IS_AGGR_TYPE (basetype)\n \t\t && name == constructor_name (basetype))\n-\t     || basetype == get_type_value (name)))\n+\t     || (TYPE_MAIN_VARIANT (basetype)\n+\t\t == TYPE_MAIN_VARIANT (get_type_value (name)))))\n \t{\n \t  cp_error (\"destructor name `~%D' does not match type `%T' of expression\",\n \t\t    name, basetype);"}, {"sha": "9e721ddf8a60dae3071ede69548bffac7bc8b40f", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a31fe44eb31cd2acd68716a3702e7f821202ada0/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a31fe44eb31cd2acd68716a3702e7f821202ada0/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=a31fe44eb31cd2acd68716a3702e7f821202ada0", "patch": "@@ -165,6 +165,7 @@ type_unknown_p (exp)\n      tree exp;\n {\n   return (TREE_CODE (exp) == OVERLOAD\n+          || TREE_CODE (exp) == TREE_LIST\n \t  || TREE_TYPE (exp) == unknown_type_node\n \t  || (TREE_CODE (TREE_TYPE (exp)) == OFFSET_TYPE\n \t      && TREE_TYPE (TREE_TYPE (exp)) == unknown_type_node));"}]}