{"sha": "4a6ef811c845111d1988d027ec7c5fd3e787fdd3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGE2ZWY4MTFjODQ1MTExZDE5ODhkMDI3ZWM3YzVmZDNlNzg3ZmRkMw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "1999-11-18T17:52:27Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1999-11-18T17:52:27Z"}, "message": "except.c (expand_end_catch_block): Fix typo.\n\n\t* except.c (expand_end_catch_block): Fix typo.\n\t(expand_exception_blocks): Simplify.  Don't call\n\texpand_leftover_cleanups.\n\nFrom-SVN: r30577", "tree": {"sha": "9aa3abef5f4b32b710b0a27b1fb9c50e50a6cfbf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9aa3abef5f4b32b710b0a27b1fb9c50e50a6cfbf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4a6ef811c845111d1988d027ec7c5fd3e787fdd3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a6ef811c845111d1988d027ec7c5fd3e787fdd3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a6ef811c845111d1988d027ec7c5fd3e787fdd3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a6ef811c845111d1988d027ec7c5fd3e787fdd3/comments", "author": null, "committer": null, "parents": [{"sha": "1e4ceb6f9ea4f1e0d5afccbf4a135f47b0110b79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e4ceb6f9ea4f1e0d5afccbf4a135f47b0110b79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e4ceb6f9ea4f1e0d5afccbf4a135f47b0110b79"}], "stats": {"total": 19, "additions": 10, "deletions": 9}, "files": [{"sha": "a8598e81a3f7c7febc001e48146290e3e08c5b1f", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a6ef811c845111d1988d027ec7c5fd3e787fdd3/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a6ef811c845111d1988d027ec7c5fd3e787fdd3/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=4a6ef811c845111d1988d027ec7c5fd3e787fdd3", "patch": "@@ -1,3 +1,9 @@\n+1999-11-18  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* except.c (expand_end_catch_block): Fix typo.\n+\t(expand_exception_blocks): Simplify.  Don't call\n+\texpand_leftover_cleanups.\n+\n 1999-11-15  Jason Merrill  <jason@casey.cygnus.com>\n \n \t* cp-tree.h, decl.c (compute_array_index_type): Make nonstatic."}, {"sha": "eb8cf0e7c638792cf7fa7533c36d6492efbbad57", "filename": "gcc/cp/except.c", "status": "modified", "additions": 4, "deletions": 9, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a6ef811c845111d1988d027ec7c5fd3e787fdd3/gcc%2Fcp%2Fexcept.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a6ef811c845111d1988d027ec7c5fd3e787fdd3/gcc%2Fcp%2Fexcept.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fexcept.c?ref=4a6ef811c845111d1988d027ec7c5fd3e787fdd3", "patch": "@@ -563,9 +563,9 @@ expand_end_catch_block (blocks)\n     finish_expr_stmt (build_throw (NULL_TREE));\n \n   /* Cleanup the EH parameter.  */\n-  finish_compound_stmt (/*has_no_scope=*/0, compound_stmt_1);\n-    /* Cleanup the EH object.  */\n   finish_compound_stmt (/*has_no_scope=*/0, compound_stmt_2);\n+    /* Cleanup the EH object.  */\n+  finish_compound_stmt (/*has_no_scope=*/0, compound_stmt_1);\n }\n \n /* An exception spec is implemented more or less like:\n@@ -656,11 +656,6 @@ void\n expand_exception_blocks ()\n {\n   do_pending_stack_adjust ();\n-  push_to_sequence (catch_clauses);\n-  expand_leftover_cleanups ();\n-  do_pending_stack_adjust ();\n-  catch_clauses = get_insns ();\n-  end_sequence ();\n \n   if (catch_clauses)\n     {\n@@ -679,8 +674,8 @@ expand_exception_blocks ()\n       if (exceptions_via_longjmp == 0)\n \texpand_eh_region_end (build_terminate_handler ());\n \n-      expand_leftover_cleanups ();\n-\n+      emit_insns (catch_clauses);\n+      catch_clauses = NULL_RTX;\n       emit_label (funcend);\n     }\n }"}]}