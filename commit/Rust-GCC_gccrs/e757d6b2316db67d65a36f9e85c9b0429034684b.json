{"sha": "e757d6b2316db67d65a36f9e85c9b0429034684b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTc1N2Q2YjIzMTZkYjY3ZDY1YTM2ZjllODVjOWIwNDI5MDM0Njg0Yg==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2006-09-16T02:54:29Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2006-09-16T02:54:29Z"}, "message": "decNumber.c (decNumberPower): Constify.\n\n\t* decNumber.c (decNumberPower): Constify.\n\t* decNumber.h (decNumberPower): Likewise.\n\nFrom-SVN: r116990", "tree": {"sha": "e3b8e61644cb0efde5db5519495eead32d2565c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e3b8e61644cb0efde5db5519495eead32d2565c4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e757d6b2316db67d65a36f9e85c9b0429034684b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e757d6b2316db67d65a36f9e85c9b0429034684b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e757d6b2316db67d65a36f9e85c9b0429034684b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e757d6b2316db67d65a36f9e85c9b0429034684b/comments", "author": null, "committer": null, "parents": [{"sha": "a22719c10021f57c3989a58982ec4b4ee103a687", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a22719c10021f57c3989a58982ec4b4ee103a687", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a22719c10021f57c3989a58982ec4b4ee103a687"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "c5dea7f9f56885c11844dee5f99f06bd819bfeab", "filename": "libdecnumber/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e757d6b2316db67d65a36f9e85c9b0429034684b/libdecnumber%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e757d6b2316db67d65a36f9e85c9b0429034684b/libdecnumber%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libdecnumber%2FChangeLog?ref=e757d6b2316db67d65a36f9e85c9b0429034684b", "patch": "@@ -1,3 +1,8 @@\n+2006-09-15  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* decNumber.c (decNumberPower): Constify.\n+\t* decNumber.h (decNumberPower): Likewise.\n+\n 2006-09-07  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* configure.ac (ACX_PROG_CC_WARNING_OPTS): Add -Wcast-qual."}, {"sha": "039d19a459213a4cdd2a14e894d0c9e8ce7ba1bf", "filename": "libdecnumber/decNumber.c", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e757d6b2316db67d65a36f9e85c9b0429034684b/libdecnumber%2FdecNumber.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e757d6b2316db67d65a36f9e85c9b0429034684b/libdecnumber%2FdecNumber.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libdecnumber%2FdecNumber.c?ref=e757d6b2316db67d65a36f9e85c9b0429034684b", "patch": "@@ -964,13 +964,13 @@ decNumberNormalize (decNumber * res, const decNumber * rhs, decContext * set)\n /* Specification restriction: abs(n) must be <=999999999              */\n /* ------------------------------------------------------------------ */\n decNumber *\n-decNumberPower (decNumber * res, decNumber * lhs,\n-\t\tdecNumber * rhs, decContext * set)\n+decNumberPower (decNumber * res, const decNumber * lhs,\n+\t\tconst decNumber * rhs, decContext * set)\n {\n   decNumber *alloclhs = NULL;\t/* non-NULL if rounded lhs allocated */\n   decNumber *allocrhs = NULL;\t/* .., rhs */\n   decNumber *allocdac = NULL;\t/* -> allocated acc buffer, iff used */\n-  decNumber *inrhs = rhs;\t/* save original rhs */\n+  const decNumber *inrhs = rhs;\t/* save original rhs */\n   Int reqdigits = set->digits;\t/* requested DIGITS */\n   Int n;\t\t\t/* RHS in binary */\n   Int i;\t\t\t/* work */\n@@ -1117,6 +1117,7 @@ decNumberPower (decNumber * res, decNumber * lhs,\n       /* we'll invert the lhs now rather than inverting the result later */\n       if (decNumberIsNegative (rhs))\n \t{\t\t\t/* was a **-n [hence digits>0] */\n+\t  decNumber * newlhs;\n \t  decNumberCopy (&dnOne, dac);\t/* dnOne=1;  [needed now or later] */\n #if DECSUBSET\n \t  if (set->extended)\n@@ -1138,13 +1139,14 @@ decNumberPower (decNumber * res, decNumber * lhs,\n \t\t      status |= DEC_Insufficient_storage;\n \t\t      break;\n \t\t    }\n-\t\t  lhs = alloclhs;\t/* use the allocated space */\n+\t\t  newlhs = alloclhs;\t/* use the allocated space */\n \t\t}\n \t      else\n-\t\tlhs = (decNumber *) lhsbuff;\t/* use stack storage */\n+\t\tnewlhs = (decNumber *) lhsbuff;\t/* use stack storage */\n \t      /* [lhs now points to buffer or allocated storage] */\n-\t      decNumberCopy (lhs, dac);\t/* copy the 1/lhs */\n+\t      decNumberCopy (newlhs, dac);\t/* copy the 1/lhs */\n \t      decNumberCopy (dac, &dnOne);\t/* restore acc=1 */\n+\t      lhs = newlhs;\n #if DECSUBSET\n \t    }\n #endif"}, {"sha": "2357fbeab37561b260e728a2191458b339beb649", "filename": "libdecnumber/decNumber.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e757d6b2316db67d65a36f9e85c9b0429034684b/libdecnumber%2FdecNumber.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e757d6b2316db67d65a36f9e85c9b0429034684b/libdecnumber%2FdecNumber.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libdecnumber%2FdecNumber.h?ref=e757d6b2316db67d65a36f9e85c9b0429034684b", "patch": "@@ -152,8 +152,8 @@ decNumber *decNumberMultiply (decNumber *, const decNumber *,\n \t\t\t      const decNumber *, decContext *);\n decNumber *decNumberNormalize (decNumber *, const decNumber *, decContext *);\n decNumber *decNumberPlus (decNumber *, const decNumber *, decContext *);\n-decNumber *decNumberPower (decNumber *, decNumber *, decNumber *,\n-\t\t\t   decContext *);\n+decNumber *decNumberPower (decNumber *, const decNumber *,\n+\t\t\t   const decNumber *, decContext *);\n decNumber *decNumberQuantize (decNumber *, const decNumber *,\n \t\t\t      const decNumber *, decContext *);\n decNumber *decNumberRemainder (decNumber *, const decNumber *,"}]}