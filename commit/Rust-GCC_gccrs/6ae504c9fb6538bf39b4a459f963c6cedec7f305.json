{"sha": "6ae504c9fb6538bf39b4a459f963c6cedec7f305", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmFlNTA0YzlmYjY1MzhiZjM5YjRhNDU5Zjk2M2M2Y2VkZWM3ZjMwNQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2002-03-19T08:49:43Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2002-03-19T08:49:43Z"}, "message": "* gcc.dg/struct-by-value-1.c: New test.\n\nFrom-SVN: r51026", "tree": {"sha": "c867f51929b48620325862926ed8707863560092", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c867f51929b48620325862926ed8707863560092"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6ae504c9fb6538bf39b4a459f963c6cedec7f305", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ae504c9fb6538bf39b4a459f963c6cedec7f305", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ae504c9fb6538bf39b4a459f963c6cedec7f305", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ae504c9fb6538bf39b4a459f963c6cedec7f305/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f735a153482c5fd3b7f4055f910096730ed02f19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f735a153482c5fd3b7f4055f910096730ed02f19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f735a153482c5fd3b7f4055f910096730ed02f19"}], "stats": {"total": 85, "additions": 85, "deletions": 0}, "files": [{"sha": "0be8cddeeed4519fe912105096b3b4feb7cbbf83", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ae504c9fb6538bf39b4a459f963c6cedec7f305/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ae504c9fb6538bf39b4a459f963c6cedec7f305/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6ae504c9fb6538bf39b4a459f963c6cedec7f305", "patch": "@@ -2,6 +2,8 @@\n \n \t* gcc.c-torture/compile/20020318-1.c: New test.\n \n+\t* gcc.dg/struct-by-value-1.c: New test.\n+\n 2002-03-18  Jakub Jelinek  <jakub@redhat.com>\n \n \t* g++.dg/opt/conj1.C: New test."}, {"sha": "addf253d8e2ccc58b40c41d4ec5124253c9829a9", "filename": "gcc/testsuite/gcc.dg/struct-by-value-1.c", "status": "added", "additions": 83, "deletions": 0, "changes": 83, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ae504c9fb6538bf39b4a459f963c6cedec7f305/gcc%2Ftestsuite%2Fgcc.dg%2Fstruct-by-value-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ae504c9fb6538bf39b4a459f963c6cedec7f305/gcc%2Ftestsuite%2Fgcc.dg%2Fstruct-by-value-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fstruct-by-value-1.c?ref=6ae504c9fb6538bf39b4a459f963c6cedec7f305", "patch": "@@ -0,0 +1,83 @@\n+/* Test structure passing by value.  */\n+/* { dg-do run } */\n+/* { dg-options \"-O2\" } */\n+\n+#define T(N)\t\t\t\t\t\\\n+struct S##N { unsigned char i[N]; };\t\t\\\n+struct S##N g1s##N, g2s##N, g3s##N;\t\t\\\n+\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\\\n+init##N (struct S##N *p, int i)\t\t\t\\\n+{\t\t\t\t\t\t\\\n+  int j;\t\t\t\t\t\\\n+  for (j = 0; j < N; j++)\t\t\t\\\n+    p->i[j] = i + j;\t\t\t\t\\\n+}\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\\\n+check##N (struct S##N *p, int i)\t\t\\\n+{\t\t\t\t\t\t\\\n+  int j;\t\t\t\t\t\\\n+  for (j = 0; j < N; j++)\t\t\t\\\n+    if (p->i[j] != i + j) abort ();\t\t\\\n+}\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\\\n+test##N (struct S##N s1, struct S##N s2,\t\\\n+\t struct S##N s3)\t\t\t\\\n+{\t\t\t\t\t\t\\\n+  check##N (&s1, 64);\t\t\t\t\\\n+  check##N (&s2, 128);\t\t\t\t\\\n+  check##N (&s3, 192);\t\t\t\t\\\n+}\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\\\n+test2_##N (struct S##N s1, struct S##N s2)\t\\\n+{\t\t\t\t\t\t\\\n+  test##N (s1, g2s##N, s2);\t\t\t\\\n+}\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\\\n+testit##N (void)\t\t\t\t\\\n+{\t\t\t\t\t\t\\\n+  init##N (&g1s##N, 64);\t\t\t\\\n+  check##N (&g1s##N, 64);\t\t\t\\\n+  init##N (&g2s##N, 128);\t\t\t\\\n+  check##N (&g2s##N, 128);\t\t\t\\\n+  init##N (&g3s##N, 192);\t\t\t\\\n+  check##N (&g3s##N, 192);\t\t\t\\\n+  test##N (g1s##N, g2s##N, g3s##N);\t\t\\\n+  test2_##N (g1s##N, g3s##N);\t\t\t\\\n+}\n+\n+extern void abort (void);\n+extern void exit (int);\n+\n+T(0) T(1) T(2) T(3) T(4) T(5) T(6) T(7)\n+T(8) T(9) T(10) T(11) T(12) T(13) T(14) T(15)\n+T(16) T(17) T(18) T(19) T(20) T(21) T(22) T(23)\n+T(24) T(25) T(26) T(27) T(28) T(29) T(30) T(31)\n+T(32) T(33) T(34) T(35) T(36) T(37) T(38) T(39)\n+T(40) T(41) T(42) T(43) T(44) T(45) T(46) T(47)\n+T(48) T(49) T(50) T(51) T(52) T(53) T(54) T(55)\n+T(56) T(57) T(58) T(59) T(60) T(61) T(62) T(63)\n+\n+#undef T\n+\n+int\n+main ()\n+{\n+#define T(N) testit##N ();\n+\n+T(0) T(1) T(2) T(3) T(4) T(5) T(6) T(7)\n+T(8) T(9) T(10) T(11) T(12) T(13) T(14) T(15)\n+T(16) T(17) T(18) T(19) T(20) T(21) T(22) T(23)\n+T(24) T(25) T(26) T(27) T(28) T(29) T(30) T(31)\n+T(32) T(33) T(34) T(35) T(36) T(37) T(38) T(39)\n+T(40) T(41) T(42) T(43) T(44) T(45) T(46) T(47)\n+T(48) T(49) T(50) T(51) T(52) T(53) T(54) T(55)\n+T(56) T(57) T(58) T(59) T(60) T(61) T(62) T(63)\n+\n+#undef T\n+  exit (0);\n+}"}]}