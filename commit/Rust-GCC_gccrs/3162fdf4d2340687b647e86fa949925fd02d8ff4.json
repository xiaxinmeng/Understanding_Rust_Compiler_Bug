{"sha": "3162fdf4d2340687b647e86fa949925fd02d8ff4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzE2MmZkZjRkMjM0MDY4N2I2NDdlODZmYTk0OTkyNWZkMDJkOGZmNA==", "commit": {"author": {"name": "Maxim Kuvyrkov", "email": "maxim@codesourcery.com", "date": "2011-04-15T10:03:46Z"}, "committer": {"name": "Maxim Kuvyrkov", "email": "mkuvyrkov@gcc.gnu.org", "date": "2011-04-15T10:03:46Z"}, "message": "m68k.c (m68k_sched_variable_issue): Handle -fsched-pressure.\n\n\t* config/m68k/m68k.c (m68k_sched_variable_issue): Handle\n\t-fsched-pressure.\n\nFrom-SVN: r172481", "tree": {"sha": "0e8a71ecdbb2a9c2ab596dd335543fc8b5f7a680", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e8a71ecdbb2a9c2ab596dd335543fc8b5f7a680"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3162fdf4d2340687b647e86fa949925fd02d8ff4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3162fdf4d2340687b647e86fa949925fd02d8ff4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3162fdf4d2340687b647e86fa949925fd02d8ff4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3162fdf4d2340687b647e86fa949925fd02d8ff4/comments", "author": null, "committer": null, "parents": [{"sha": "79002a5737c5f889089bb6000cb9d51fecb06910", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79002a5737c5f889089bb6000cb9d51fecb06910", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79002a5737c5f889089bb6000cb9d51fecb06910"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "b30b8176d28414f17efdca88d18816458a5a743b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3162fdf4d2340687b647e86fa949925fd02d8ff4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3162fdf4d2340687b647e86fa949925fd02d8ff4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3162fdf4d2340687b647e86fa949925fd02d8ff4", "patch": "@@ -1,3 +1,8 @@\n+2011-04-15  Maxim Kuvyrkov  <maxim@codesourcery.com>\n+\n+\t* config/m68k/m68k.c (m68k_sched_variable_issue): Handle\n+\t-fsched-pressure.\n+\n 2011-04-15  Georg-Johann Lay  <avr@gjlay.de>\n \t\n \t* config/avr/avr.md (\"rotl<mode>3\",mode=HIDI): Use match_dup"}, {"sha": "654c0e5cfbc0fb0a39a233c49439c128d79a8c13", "filename": "gcc/config/m68k/m68k.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3162fdf4d2340687b647e86fa949925fd02d8ff4/gcc%2Fconfig%2Fm68k%2Fm68k.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3162fdf4d2340687b647e86fa949925fd02d8ff4/gcc%2Fconfig%2Fm68k%2Fm68k.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.c?ref=3162fdf4d2340687b647e86fa949925fd02d8ff4", "patch": "@@ -6128,7 +6128,14 @@ m68k_sched_variable_issue (FILE *sched_dump ATTRIBUTE_UNUSED,\n \t  gcc_unreachable ();\n \t}\n \n-      gcc_assert (insn_size <= sched_ib.filled);\n+      if (insn_size > sched_ib.filled)\n+\t/* Scheduling for register pressure does not always take DFA into\n+\t   account.  Workaround instruction buffer not being filled enough.  */\n+\t{\n+\t  gcc_assert (sched_pressure_p);\n+\t  insn_size = sched_ib.filled;\n+\t}\n+\n       --can_issue_more;\n     }\n   else if (GET_CODE (PATTERN (insn)) == ASM_INPUT"}]}