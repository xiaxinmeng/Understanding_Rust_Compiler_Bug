{"sha": "65377a89bfa91231e7018b130ff44c2ecb3766ca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjUzNzdhODliZmE5MTIzMWU3MDE4YjEzMGZmNDRjMmVjYjM3NjZjYQ==", "commit": {"author": {"name": "Herman A.J. ten Brugge", "email": "Haj.Ten.Brugge@net.HCC.nl", "date": "2000-06-11T19:39:55Z"}, "committer": {"name": "Toon Moene", "email": "toon@gcc.gnu.org", "date": "2000-06-11T19:39:55Z"}, "message": "rdfmt.c (rd_L): Use if-then-else instead of case statement to solve problems when...\n\n2000-06-11  Herman A.J. ten Brugge  <Haj.Ten.Brugge@net.HCC.nl>\n\n\t* rdfmt.c (rd_L): Use if-then-else instead of case statement to\n\tsolve problems when sizeof(char) == sizeof(short).\n\nFrom-SVN: r34494", "tree": {"sha": "5fd1a3283c8a726e0063c0eba4dd39d5ea23a601", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5fd1a3283c8a726e0063c0eba4dd39d5ea23a601"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/65377a89bfa91231e7018b130ff44c2ecb3766ca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65377a89bfa91231e7018b130ff44c2ecb3766ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65377a89bfa91231e7018b130ff44c2ecb3766ca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65377a89bfa91231e7018b130ff44c2ecb3766ca/comments", "author": null, "committer": null, "parents": [{"sha": "11a27a767bc7ab87dca58ee882e6dd3b487069be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11a27a767bc7ab87dca58ee882e6dd3b487069be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11a27a767bc7ab87dca58ee882e6dd3b487069be"}], "stats": {"total": 19, "additions": 14, "deletions": 5}, "files": [{"sha": "2c734c6b64030edaae4c72bb18d60f15ab3b0a38", "filename": "libf2c/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65377a89bfa91231e7018b130ff44c2ecb3766ca/libf2c%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65377a89bfa91231e7018b130ff44c2ecb3766ca/libf2c%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FChangeLog?ref=65377a89bfa91231e7018b130ff44c2ecb3766ca", "patch": "@@ -1,3 +1,8 @@\n+2000-06-11  Herman A.J. ten Brugge  <Haj.Ten.Brugge@net.HCC.nl>\n+\n+\t* rdfmt.c (rd_L): Use if-then-else instead of case statement to\n+\tsolve problems when sizeof(char) == sizeof(short).\n+\n 2000-05-18  Chris Demetriou  <cgd@sibyte.com>\n \n \t* configure.in: Test for __g77_integer, __g77_uinteger,"}, {"sha": "f2b121193a7b67328bba82ba1a85e9b6d51f0a1a", "filename": "libf2c/libI77/rdfmt.c", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65377a89bfa91231e7018b130ff44c2ecb3766ca/libf2c%2FlibI77%2Frdfmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65377a89bfa91231e7018b130ff44c2ecb3766ca/libf2c%2FlibI77%2Frdfmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Frdfmt.c?ref=65377a89bfa91231e7018b130ff44c2ecb3766ca", "patch": "@@ -208,11 +208,15 @@ rd_L(ftnint *n, int w, ftnlen len)\n \t  case '\\n':\n \t\treturn errno = 116;\n \t\t}\n-\tswitch(len) {\n-\t\tcase sizeof(char):\t*(char *)n = (char)lv;\t break;\n-\t\tcase sizeof(short):\t*(short *)n = (short)lv; break;\n-\t\tdefault:\t\t*n = lv;\n-\t\t}\n+\t/* The switch statement that was here\n+\t   didn't cut it:  It broke down for targets\n+\t   where sizeof(char) == sizeof(short). */\n+\tif (len == sizeof(char))\n+\t\t*(char *)n = (char)lv;\n+\telse if (len == sizeof(short))\n+\t\t*(short *)n = (short)lv;\n+\telse\n+\t\t*n = lv;\n \twhile(w-- > 0) {\n \t\tGET(ch);\n \t\tif (ch == ',' || ch == '\\n')"}]}