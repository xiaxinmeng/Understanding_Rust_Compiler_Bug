{"sha": "54a8a50f804adc0ee5c30ed6e96150ec0c4c4375", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTRhOGE1MGY4MDRhZGMwZWU1YzMwZWQ2ZTk2MTUwZWMwYzRjNDM3NQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-01-10T00:39:16Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-01-10T00:39:16Z"}, "message": "For PR libgcj/5303:\n\n\t* gnu/gcj/convert/Convert.java (error): Program is called\n\t`jv-convert'.  Print GNU-style message.  Exit with status 1, not\n\t-1.\n\t(main): Handle --help and --version.\n\t(help): New method.\n\t(version): Likewise.\n\nFrom-SVN: r48703", "tree": {"sha": "41874354423b2f010c92b5734cf421c09486c223", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/41874354423b2f010c92b5734cf421c09486c223"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/54a8a50f804adc0ee5c30ed6e96150ec0c4c4375", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54a8a50f804adc0ee5c30ed6e96150ec0c4c4375", "html_url": "https://github.com/Rust-GCC/gccrs/commit/54a8a50f804adc0ee5c30ed6e96150ec0c4c4375", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54a8a50f804adc0ee5c30ed6e96150ec0c4c4375/comments", "author": null, "committer": null, "parents": [{"sha": "cc863beade2ebcae19d25ac15737e9d2dda33d2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc863beade2ebcae19d25ac15737e9d2dda33d2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc863beade2ebcae19d25ac15737e9d2dda33d2e"}], "stats": {"total": 59, "additions": 53, "deletions": 6}, "files": [{"sha": "12b892fd9cd1ccbc85f02ce44c482a25ca1c9752", "filename": "libjava/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54a8a50f804adc0ee5c30ed6e96150ec0c4c4375/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54a8a50f804adc0ee5c30ed6e96150ec0c4c4375/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=54a8a50f804adc0ee5c30ed6e96150ec0c4c4375", "patch": "@@ -1,3 +1,13 @@\n+2002-01-09  Tom Tromey  <tromey@redhat.com>\n+\n+\tFor PR libgcj/5303:\n+\t* gnu/gcj/convert/Convert.java (error): Program is called\n+\t`jv-convert'.  Print GNU-style message.  Exit with status 1, not\n+\t-1.\n+\t(main): Handle --help and --version.\n+\t(help): New method.\n+\t(version): Likewise.\n+\n 2002-01-08  Tom Tromey  <tromey@redhat.com>\n \n \t* Makefile.in: Rebuilt."}, {"sha": "36fe6b5443a1783bddc36b260326a215eaa54761", "filename": "libjava/gnu/gcj/convert/Convert.java", "status": "modified", "additions": 43, "deletions": 6, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54a8a50f804adc0ee5c30ed6e96150ec0c4c4375/libjava%2Fgnu%2Fgcj%2Fconvert%2FConvert.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54a8a50f804adc0ee5c30ed6e96150ec0c4c4375/libjava%2Fgnu%2Fgcj%2Fconvert%2FConvert.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fgcj%2Fconvert%2FConvert.java?ref=54a8a50f804adc0ee5c30ed6e96150ec0c4c4375", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 1999  Free Software Foundation\n+/* Copyright (C) 1999, 2002  Free Software Foundation\n \n    This file is part of libgcj.\n \n@@ -13,11 +13,40 @@\n {\n   static void error (String message)\n   {\n-    System.err.print(\"convert: \");\n+    System.err.print(\"jv-convert: \");\n     System.err.println(message);\n-    System.err.println(\"Usage:  convert [--from srcEncoding] [--to dstEncoding]\");\n-    System.err.println(\"  [inputfile [outputfile]]\");\n-    System.exit(-1);\n+    System.err.println(\"Try `jv-convert --help' for more information.\");\n+    System.exit(1);\n+  }\n+\n+  static void help ()\n+  {\n+    System.out.println(\"Usage: jv-convert [OPTIONS] [INPUTFILE [OUTPUTFILE]]\");\n+    System.out.println(\"\");\n+    System.out.println(\"Convert from one encoding to another.\");\n+    System.out.println(\"\");\n+    System.out.println(\"   --encoding FROM\");\n+    System.out.println(\"   --from FROM        use FROM as source encoding name\");\n+    System.out.println(\"   --to TO            use TO as target encoding name\");\n+    System.out.println(\"   -i FILE            read from FILE\");\n+    System.out.println(\"   -o FILE            print output to FILE\");\n+    System.out.println(\"   --reverse          swap FROM and TO encodings\");\n+    System.out.println(\"   --help             print this help, then exit\");\n+    System.out.println(\"   --version          print version number, then exit\");\n+    System.out.println(\"\");\n+    System.out.println(\"`-' as a file name argument can be used to refer to stdin or stdout.\");\n+    System.exit(0);\n+  }\n+\n+  static void version ()\n+  {\n+    System.out.println(\"jv-convert (GNU libgcj) \"\n+\t\t       + System.getProperty(\"java.vm.version\"));\n+    System.out.println(\"\");\n+    System.out.println(\"Copyright 1999, 2002 Free Software Foundation\");\n+    System.out.println(\"This is free software; see the source for copying conditions.  There is NO\");\n+    System.out.println(\"warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\");\n+    System.exit(0);\n   }\n \n   static void missing (String arg)\n@@ -66,6 +95,14 @@ else if (arg.equals(\"-reverse\") || arg.equals(\"--reverse\"))\n \t      {\n \t\treverse = true;\n \t      }\n+\t    else if (arg.equals(\"-help\") || arg.equals(\"--help\"))\n+\t      {\n+\t\thelp ();\n+\t      }\n+\t    else if (arg.equals(\"-version\") || arg.equals(\"--version\"))\n+\t      {\n+\t\tversion ();\n+\t      }\n \t    else if (arg.equals(\"-\"))\n \t      {\n \t\tswitch (seenNames)\n@@ -143,7 +180,7 @@ else if (arg.equals(\"-\"))\n       }\n     catch (java.io.IOException ex)\n       {\n-\tSystem.err.print(\"convert exception: \");\n+\tSystem.err.print(\"jv-convert exception: \");\n \tSystem.err.println(ex);\n \tSystem.exit(-1);\n       }"}]}