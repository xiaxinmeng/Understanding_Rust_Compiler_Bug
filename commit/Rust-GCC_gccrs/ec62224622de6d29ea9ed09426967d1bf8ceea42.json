{"sha": "ec62224622de6d29ea9ed09426967d1bf8ceea42", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWM2MjIyNDYyMmRlNmQyOWVhOWVkMDk0MjY5NjdkMWJmOGNlZWE0Mg==", "commit": {"author": {"name": "Hristian Kirtchev", "email": "kirtchev@adacore.com", "date": "2014-07-30T09:59:29Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-07-30T09:59:29Z"}, "message": "a-cbmutr.adb (Insert_Child): Use local variable First to keep track of the initial element's index within...\n\n2014-07-30  Hristian Kirtchev  <kirtchev@adacore.com>\n\n\t* a-cbmutr.adb (Insert_Child): Use local variable First to keep\n\ttrack of the initial element's index within the tree.\n\nFrom-SVN: r213235", "tree": {"sha": "a6e9010e4418e465cfed70708babf5c9ae6c899f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a6e9010e4418e465cfed70708babf5c9ae6c899f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec62224622de6d29ea9ed09426967d1bf8ceea42", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec62224622de6d29ea9ed09426967d1bf8ceea42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec62224622de6d29ea9ed09426967d1bf8ceea42", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec62224622de6d29ea9ed09426967d1bf8ceea42/comments", "author": {"login": "kirtchev-adacore", "id": 60669983, "node_id": "MDQ6VXNlcjYwNjY5OTgz", "avatar_url": "https://avatars.githubusercontent.com/u/60669983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kirtchev-adacore", "html_url": "https://github.com/kirtchev-adacore", "followers_url": "https://api.github.com/users/kirtchev-adacore/followers", "following_url": "https://api.github.com/users/kirtchev-adacore/following{/other_user}", "gists_url": "https://api.github.com/users/kirtchev-adacore/gists{/gist_id}", "starred_url": "https://api.github.com/users/kirtchev-adacore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kirtchev-adacore/subscriptions", "organizations_url": "https://api.github.com/users/kirtchev-adacore/orgs", "repos_url": "https://api.github.com/users/kirtchev-adacore/repos", "events_url": "https://api.github.com/users/kirtchev-adacore/events{/privacy}", "received_events_url": "https://api.github.com/users/kirtchev-adacore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "47166578371bda0dc9681902638ec1ae822cd83c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47166578371bda0dc9681902638ec1ae822cd83c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47166578371bda0dc9681902638ec1ae822cd83c"}], "stats": {"total": 25, "additions": 15, "deletions": 10}, "files": [{"sha": "c3d1b62e0dd7d4dfcbac84c0efac50981abf5ac3", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec62224622de6d29ea9ed09426967d1bf8ceea42/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec62224622de6d29ea9ed09426967d1bf8ceea42/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=ec62224622de6d29ea9ed09426967d1bf8ceea42", "patch": "@@ -1,3 +1,8 @@\n+2014-07-30  Hristian Kirtchev  <kirtchev@adacore.com>\n+\n+\t* a-cbmutr.adb (Insert_Child): Use local variable First to keep\n+\ttrack of the initial element's index within the tree.\n+\n 2014-07-29  Hristian Kirtchev  <kirtchev@adacore.com>\n \n \t* a-cbmutr.adb (Allocate_Node): Remove the two parameter version."}, {"sha": "1745528d93a99a78304588b6dbdc9024b1a19e33", "filename": "gcc/ada/a-cbmutr.adb", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec62224622de6d29ea9ed09426967d1bf8ceea42/gcc%2Fada%2Fa-cbmutr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec62224622de6d29ea9ed09426967d1bf8ceea42/gcc%2Fada%2Fa-cbmutr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-cbmutr.adb?ref=ec62224622de6d29ea9ed09426967d1bf8ceea42", "patch": "@@ -1498,6 +1498,7 @@ package body Ada.Containers.Bounded_Multiway_Trees is\n       Count     : Count_Type := 1)\n    is\n       Nodes : Tree_Node_Array renames Container.Nodes;\n+      First : Count_Type;\n       Last  : Count_Type;\n \n    begin\n@@ -1538,10 +1539,10 @@ package body Ada.Containers.Bounded_Multiway_Trees is\n          Initialize_Root (Container);\n       end if;\n \n-      Allocate_Node (Container, New_Item, Position.Node);\n-      Nodes (Position.Node).Parent := Parent.Node;\n+      Allocate_Node (Container, New_Item, First);\n+      Nodes (First).Parent := Parent.Node;\n \n-      Last := Position.Node;\n+      Last := First;\n       for J in Count_Type'(2) .. Count loop\n          Allocate_Node (Container, New_Item, Nodes (Last).Next);\n          Nodes (Nodes (Last).Next).Parent := Parent.Node;\n@@ -1552,14 +1553,14 @@ package body Ada.Containers.Bounded_Multiway_Trees is\n \n       Insert_Subtree_List\n         (Container => Container,\n-         First     => Position.Node,\n+         First     => First,\n          Last      => Last,\n          Parent    => Parent.Node,\n          Before    => Before.Node);\n \n       Container.Count := Container.Count + Count;\n \n-      Position.Container := Parent.Container;\n+      Position := Cursor'(Parent.Container, First);\n    end Insert_Child;\n \n    procedure Insert_Child\n@@ -1621,11 +1622,10 @@ package body Ada.Containers.Bounded_Multiway_Trees is\n       --  initialization, so insert the specified number of possibly\n       --  initialized elements at the given position.\n \n-      Allocate_Node (Container, New_Item, Position.Node);\n-      First := Position.Node;\n-      Nodes (Position.Node).Parent := Parent.Node;\n+      Allocate_Node (Container, New_Item, First);\n+      Nodes (First).Parent := Parent.Node;\n \n-      Last := Position.Node;\n+      Last := First;\n       for J in Count_Type'(2) .. Count loop\n          Allocate_Node (Container, New_Item, Nodes (Last).Next);\n          Nodes (Nodes (Last).Next).Parent := Parent.Node;\n@@ -1636,7 +1636,7 @@ package body Ada.Containers.Bounded_Multiway_Trees is\n \n       Insert_Subtree_List\n         (Container => Container,\n-         First     => Position.Node,\n+         First     => First,\n          Last      => Last,\n          Parent    => Parent.Node,\n          Before    => Before.Node);"}]}