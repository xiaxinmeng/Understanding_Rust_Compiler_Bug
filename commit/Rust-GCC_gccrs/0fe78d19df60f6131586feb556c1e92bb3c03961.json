{"sha": "0fe78d19df60f6131586feb556c1e92bb3c03961", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGZlNzhkMTlkZjYwZjYxMzE1ODZmZWI1NTZjMWU5MmJiM2MwMzk2MQ==", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2015-09-30T16:42:32Z"}, "committer": {"name": "Thomas Schwinge", "email": "tschwinge@gcc.gnu.org", "date": "2015-09-30T16:42:32Z"}, "message": "Pass on the verbose flag \"-v\" to/in the mkoffloads\n\n\tgcc/\n\t* config/i386/intelmic-mkoffload.c (main): Parse \"-v\" flag.\n\t(generate_target_descr_file, generate_target_offloadend_file)\n\t(generate_host_descr_file, prepare_target_image, main): Pass it\n\ton.\n\t* config/nvptx/mkoffload.c (main): Parse \"-v\" flag.\n\t(compile_native, main): Pass it on.\n\t* lto-wrapper.c (compile_offload_image): Likewise.\n\nFrom-SVN: r228301", "tree": {"sha": "90e7f0da3604c49ac7c8074cf1698c8b329a2086", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/90e7f0da3604c49ac7c8074cf1698c8b329a2086"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0fe78d19df60f6131586feb556c1e92bb3c03961", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fe78d19df60f6131586feb556c1e92bb3c03961", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0fe78d19df60f6131586feb556c1e92bb3c03961", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fe78d19df60f6131586feb556c1e92bb3c03961/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8c30df3ed1eea0610badb56f64f04f174580d899", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c30df3ed1eea0610badb56f64f04f174580d899", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c30df3ed1eea0610badb56f64f04f174580d899"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "ba82953f5580a2778190aaeeae37ad1590c0e327", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fe78d19df60f6131586feb556c1e92bb3c03961/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fe78d19df60f6131586feb556c1e92bb3c03961/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0fe78d19df60f6131586feb556c1e92bb3c03961", "patch": "@@ -1,3 +1,13 @@\n+2015-09-30  Thomas Schwinge  <thomas@codesourcery.com>\n+\n+\t* config/i386/intelmic-mkoffload.c (main): Parse \"-v\" flag.\n+\t(generate_target_descr_file, generate_target_offloadend_file)\n+\t(generate_host_descr_file, prepare_target_image, main): Pass it\n+\ton.\n+\t* config/nvptx/mkoffload.c (main): Parse \"-v\" flag.\n+\t(compile_native, main): Pass it on.\n+\t* lto-wrapper.c (compile_offload_image): Likewise.\n+\n 2015-09-30  Thomas Schwinge  <thomas@codesourcery.com>\n \t    Ilya Verbin  <ilya.verbin@intel.com>\n \t    Andrey Turetskiy  <andrey.turetskiy@intel.com>"}, {"sha": "14f3fb37fb2f59341eae563cbb395bf09e7cc995", "filename": "gcc/config/i386/intelmic-mkoffload.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fe78d19df60f6131586feb556c1e92bb3c03961/gcc%2Fconfig%2Fi386%2Fintelmic-mkoffload.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fe78d19df60f6131586feb556c1e92bb3c03961/gcc%2Fconfig%2Fi386%2Fintelmic-mkoffload.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fintelmic-mkoffload.c?ref=0fe78d19df60f6131586feb556c1e92bb3c03961", "patch": "@@ -281,6 +281,8 @@ generate_target_descr_file (const char *target_compiler)\n   struct obstack argv_obstack;\n   obstack_init (&argv_obstack);\n   obstack_ptr_grow (&argv_obstack, target_compiler);\n+  if (verbose)\n+    obstack_ptr_grow (&argv_obstack, \"-v\");\n   obstack_ptr_grow (&argv_obstack, \"-c\");\n   obstack_ptr_grow (&argv_obstack, \"-shared\");\n   obstack_ptr_grow (&argv_obstack, \"-fPIC\");\n@@ -319,6 +321,8 @@ generate_target_offloadend_file (const char *target_compiler)\n   struct obstack argv_obstack;\n   obstack_init (&argv_obstack);\n   obstack_ptr_grow (&argv_obstack, target_compiler);\n+  if (verbose)\n+    obstack_ptr_grow (&argv_obstack, \"-v\");\n   obstack_ptr_grow (&argv_obstack, \"-c\");\n   obstack_ptr_grow (&argv_obstack, \"-shared\");\n   obstack_ptr_grow (&argv_obstack, \"-fPIC\");\n@@ -382,6 +386,8 @@ generate_host_descr_file (const char *host_compiler)\n   struct obstack argv_obstack;\n   obstack_init (&argv_obstack);\n   obstack_ptr_grow (&argv_obstack, host_compiler);\n+  if (verbose)\n+    obstack_ptr_grow (&argv_obstack, \"-v\");\n   obstack_ptr_grow (&argv_obstack, \"-c\");\n   obstack_ptr_grow (&argv_obstack, \"-fPIC\");\n   obstack_ptr_grow (&argv_obstack, \"-shared\");\n@@ -428,6 +434,8 @@ prepare_target_image (const char *target_compiler, int argc, char **argv)\n   struct obstack argv_obstack;\n   obstack_init (&argv_obstack);\n   obstack_ptr_grow (&argv_obstack, target_compiler);\n+  if (verbose)\n+    obstack_ptr_grow (&argv_obstack, \"-v\");\n   obstack_ptr_grow (&argv_obstack, \"-xlto\");\n   obstack_ptr_grow (&argv_obstack, \"-shared\");\n   obstack_ptr_grow (&argv_obstack, \"-fPIC\");\n@@ -560,6 +568,8 @@ main (int argc, char **argv)\n \t\t\t \"unrecognizable argument of option \" STR);\n \t}\n #undef STR\n+      else if (strcmp (argv[i], \"-v\") == 0)\n+\tverbose = true;\n     }\n \n   const char *target_so_filename"}, {"sha": "99c0254e5865e9b4dda666eedf78ceb6ff713f3c", "filename": "gcc/config/nvptx/mkoffload.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fe78d19df60f6131586feb556c1e92bb3c03961/gcc%2Fconfig%2Fnvptx%2Fmkoffload.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fe78d19df60f6131586feb556c1e92bb3c03961/gcc%2Fconfig%2Fnvptx%2Fmkoffload.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnvptx%2Fmkoffload.c?ref=0fe78d19df60f6131586feb556c1e92bb3c03961", "patch": "@@ -925,6 +925,8 @@ compile_native (const char *infile, const char *outfile, const char *compiler)\n   struct obstack argv_obstack;\n   obstack_init (&argv_obstack);\n   obstack_ptr_grow (&argv_obstack, compiler);\n+  if (verbose)\n+    obstack_ptr_grow (&argv_obstack, \"-v\");\n   switch (offload_abi)\n     {\n     case OFFLOAD_ABI_LP64:\n@@ -1028,11 +1030,15 @@ main (int argc, char **argv)\n \t\t\t \"unrecognizable argument of option \" STR);\n \t}\n #undef STR\n+      else if (strcmp (argv[i], \"-v\") == 0)\n+\tverbose = true;\n     }\n \n   struct obstack argv_obstack;\n   obstack_init (&argv_obstack);\n   obstack_ptr_grow (&argv_obstack, driver);\n+  if (verbose)\n+    obstack_ptr_grow (&argv_obstack, \"-v\");\n   obstack_ptr_grow (&argv_obstack, \"-xlto\");\n   switch (offload_abi)\n     {"}, {"sha": "f932758da95080f33f67c17ca4135b5263d5b0c5", "filename": "gcc/lto-wrapper.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fe78d19df60f6131586feb556c1e92bb3c03961/gcc%2Flto-wrapper.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fe78d19df60f6131586feb556c1e92bb3c03961/gcc%2Flto-wrapper.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-wrapper.c?ref=0fe78d19df60f6131586feb556c1e92bb3c03961", "patch": "@@ -685,6 +685,8 @@ compile_offload_image (const char *target, const char *compiler_path,\n       struct obstack argv_obstack;\n       obstack_init (&argv_obstack);\n       obstack_ptr_grow (&argv_obstack, compiler);\n+      if (verbose)\n+\tobstack_ptr_grow (&argv_obstack, \"-v\");\n       obstack_ptr_grow (&argv_obstack, \"-o\");\n       obstack_ptr_grow (&argv_obstack, filename);\n "}]}