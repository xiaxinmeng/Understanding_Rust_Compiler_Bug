{"sha": "740bb6ad8f28b53201c9d0a3d0849068c5d414e4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzQwYmI2YWQ4ZjI4YjUzMjAxYzlkMGEzZDA4NDkwNjhjNWQ0MTRlNA==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2009-10-10T14:53:27Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2009-10-10T14:53:27Z"}, "message": "re PR tree-optimization/41654 (ICE: in gimple_cond_get_ops_from_tree, at gimple.c:417)\n\n2009-10-10  Richard Guenther  <rguenther@suse.de>\n\n\tPR tree-optimization/41654\n\t* tree-ssa-ifcombine.c (ifcombine_ifandif): Properly canonicalize\n\ta cond expr before calling gimple_cond_set_condition_from_tree.\n\t(ifcombine_iforif): Likewise.\n\n\t* gfortran.fortran-torture/compile/pr41654.f90: New testcase.\n\nFrom-SVN: r152620", "tree": {"sha": "f61162308417f730044161c62446557cddff40bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f61162308417f730044161c62446557cddff40bf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/740bb6ad8f28b53201c9d0a3d0849068c5d414e4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/740bb6ad8f28b53201c9d0a3d0849068c5d414e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/740bb6ad8f28b53201c9d0a3d0849068c5d414e4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/740bb6ad8f28b53201c9d0a3d0849068c5d414e4/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fdfea49e45f7aee01a4fa17075803a57e02b9aac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fdfea49e45f7aee01a4fa17075803a57e02b9aac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fdfea49e45f7aee01a4fa17075803a57e02b9aac"}], "stats": {"total": 33, "additions": 33, "deletions": 0}, "files": [{"sha": "947dd1f75c37682bdd7c06fe9325c4e5db582635", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/740bb6ad8f28b53201c9d0a3d0849068c5d414e4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/740bb6ad8f28b53201c9d0a3d0849068c5d414e4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=740bb6ad8f28b53201c9d0a3d0849068c5d414e4", "patch": "@@ -1,3 +1,10 @@\n+2009-10-10  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR tree-optimization/41654\n+\t* tree-ssa-ifcombine.c (ifcombine_ifandif): Properly canonicalize\n+\ta cond expr before calling gimple_cond_set_condition_from_tree.\n+\t(ifcombine_iforif): Likewise.\n+\n 2009-10-09  Ian Lance Taylor  <iant@google.com>\n \n \t* configure.ac: Use AC_SEARCH_LIBS to find dlopen."}, {"sha": "7bf174abf9470bf0f88ace2c9f101903f6149b7a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/740bb6ad8f28b53201c9d0a3d0849068c5d414e4/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/740bb6ad8f28b53201c9d0a3d0849068c5d414e4/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=740bb6ad8f28b53201c9d0a3d0849068c5d414e4", "patch": "@@ -1,3 +1,8 @@\n+2009-10-10  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR tree-optimization/41654\n+\t* gfortran.fortran-torture/compile/pr41654.f90: New testcase.\n+\n 2009-10-09  Jason Merrill  <jason@redhat.com>\n \n \t* g++.dg/cpp/ucn-1.C: New."}, {"sha": "aa61905deafcd42354142891396d90ff1570d4b7", "filename": "gcc/testsuite/gfortran.fortran-torture/compile/pr41654.f90", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/740bb6ad8f28b53201c9d0a3d0849068c5d414e4/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fcompile%2Fpr41654.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/740bb6ad8f28b53201c9d0a3d0849068c5d414e4/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fcompile%2Fpr41654.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fcompile%2Fpr41654.f90?ref=740bb6ad8f28b53201c9d0a3d0849068c5d414e4", "patch": "@@ -0,0 +1,15 @@\n+SUBROUTINE SCANBUFR (LBUFRIGNOREERROR, LBOPRPRO, LLSPLIT)\n+LOGICAL :: LBUFRIGNOREERROR, LBOPRPRO, LLSPLIT\n+INTEGER :: IBOTYP, IBSTYP\n+IF ((IBOTYP.eq.0).AND.(IBSTYP.eq.1)) GO TO 251\n+IF ((IBOTYP.eq.0).AND.(IBSTYP.eq.3)) GO TO 251\n+IF(LBUFRIGNOREERROR) THEN\n+ goto 360\n+ENDIF\n+251  CONTINUE\n+IF(LBOPRPRO.AND.LLSPLIT) THEN\n+  CALL OBSCREEN\n+ENDIF\n+360 CONTINUE\n+END SUBROUTINE SCANBUFR\n+"}, {"sha": "335b4fd95fcc627ee46689940f0298116e44b03a", "filename": "gcc/tree-ssa-ifcombine.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/740bb6ad8f28b53201c9d0a3d0849068c5d414e4/gcc%2Ftree-ssa-ifcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/740bb6ad8f28b53201c9d0a3d0849068c5d414e4/gcc%2Ftree-ssa-ifcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-ifcombine.c?ref=740bb6ad8f28b53201c9d0a3d0849068c5d414e4", "patch": "@@ -340,6 +340,9 @@ ifcombine_ifandif (basic_block inner_cond_bb, basic_block outer_cond_bb)\n       t2 = force_gimple_operand_gsi (&gsi, t2, true, NULL_TREE,\n \t\t\t\t     true, GSI_SAME_STMT);\n       t = fold_build2 (EQ_EXPR, boolean_type_node, t2, t);\n+      t = canonicalize_cond_expr_cond (t);\n+      if (!t)\n+\treturn false;\n       gimple_cond_set_condition_from_tree (inner_cond, t);\n       update_stmt (inner_cond);\n \n@@ -488,6 +491,9 @@ ifcombine_iforif (basic_block inner_cond_bb, basic_block outer_cond_bb)\n \t\t\t\t    true, GSI_SAME_STMT);\n       t = fold_build2 (NE_EXPR, boolean_type_node, t,\n \t\t       build_int_cst (TREE_TYPE (t), 0));\n+      t = canonicalize_cond_expr_cond (t);\n+      if (!t)\n+\treturn false;\n       gimple_cond_set_condition_from_tree (inner_cond, t);\n       update_stmt (inner_cond);\n "}]}