{"sha": "c87ba6712cd424d06dfa450b1b4ea4bc86fb3198", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzg3YmE2NzEyY2Q0MjRkMDZkZmE0NTBiMWI0ZWE0YmM4NmZiMzE5OA==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1993-08-18T06:34:51Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1993-08-18T06:34:51Z"}, "message": "pa.h (TARGET_GAS): New target flag to control use of GAS specific assembler directives.\n\n        * pa.h (TARGET_GAS): New target flag to control use of GAS specific\n        assembler directives.\n        (TARGET_SWITCHES): Support -mgas and -mno-gas.\n        (ASM_DECLARE_FUNCTION_NAME): If TARGET_GAS, then emit .PARAM directives\n        for static functions so that argument relocations work.\n\nFrom-SVN: r5173", "tree": {"sha": "d7e57aae761ad997f102611b83b89aee65b01ba1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d7e57aae761ad997f102611b83b89aee65b01ba1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c87ba6712cd424d06dfa450b1b4ea4bc86fb3198", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c87ba6712cd424d06dfa450b1b4ea4bc86fb3198", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c87ba6712cd424d06dfa450b1b4ea4bc86fb3198", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c87ba6712cd424d06dfa450b1b4ea4bc86fb3198/comments", "author": null, "committer": null, "parents": [{"sha": "7426c95997d36c6c6ad738ccbe4a67d739172728", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7426c95997d36c6c6ad738ccbe4a67d739172728", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7426c95997d36c6c6ad738ccbe4a67d739172728"}], "stats": {"total": 25, "additions": 21, "deletions": 4}, "files": [{"sha": "929a8aead4e09a601246564317deb259259a35cd", "filename": "gcc/config/pa/pa.h", "status": "modified", "additions": 21, "deletions": 4, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c87ba6712cd424d06dfa450b1b4ea4bc86fb3198/gcc%2Fconfig%2Fpa%2Fpa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c87ba6712cd424d06dfa450b1b4ea4bc86fb3198/gcc%2Fconfig%2Fpa%2Fpa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.h?ref=c87ba6712cd424d06dfa450b1b4ea4bc86fb3198", "patch": "@@ -74,6 +74,12 @@ extern int target_flags;\n \n #define TARGET_TRAILING_COLON (target_flags & 64)\n \n+/* Emit directives only understood by GAS.  This allows parameter\n+   relocations to work for static functions.  There is no way\n+   to make them work the HP assembler at this time.  */\n+\n+#define TARGET_GAS (target_flags & 128)\n+\n /* Macro to define tables used to set the flags.\n    This is a list in braces of pairs in braces,\n    each pair being { \"NAME\", VALUE }\n@@ -97,10 +103,12 @@ extern int target_flags;\n    {\"no-disable-indexing\", -32},\\\n    {\"trailing-colon\", 64},\t\\\n    {\"no-trailing-colon\", -64},\t\\\n+   {\"gas\", 128},\t\t\\\n+   {\"no-gas\", -128},\t\t\\\n    { \"\", TARGET_DEFAULT}}\n \n #ifndef TARGET_DEFAULT\n-#define TARGET_DEFAULT 0\n+#define TARGET_DEFAULT 128\t\t/* TARGET_GAS + TARGET_JUMP_IN_DELAY */\n #endif\n \n #define DBX_DEBUGGING_INFO\n@@ -866,10 +874,19 @@ extern enum cmp_type hppa_branch_type;\n \t tree tree_type = TREE_TYPE (DECL);\t\t\t\t\\\n \t tree parm;\t\t\t\t\t\t\t\\\n \t int i;\t\t\t\t\t\t\t\t\\\n-\t if (TREE_PUBLIC (DECL))\t\t\t\t\t\\\n+\t if (TREE_PUBLIC (DECL) || TARGET_GAS)\t\t\t\t\\\n \t   { extern int current_function_varargs;\t\t\t\\\n-\t     fputs (\"\\t.EXPORT \", FILE); assemble_name (FILE, NAME);\t\\\n-\t     fputs (\",ENTRY,PRIV_LEV=3\", FILE);\t\t\t\t\\\n+\t     if (TREE_PUBLIC (DECL))\t\t\t\t\t\\\n+\t       {\t\t\t\t\t\t\t\\\n+\t\t fputs (\"\\t.EXPORT \", FILE);\t\t\t\t\\\n+\t\t assemble_name (FILE, NAME);\t\t\t\t\\\n+\t\t fputs (\",ENTRY,PRIV_LEV=3\", FILE);\t\t\t\\\n+\t       }\t\t\t\t\t\t\t\\\n+\t     else\t\t\t\t\t\t\t\\\n+\t       {\t\t\t\t\t\t\t\\\n+\t\t fputs (\"\\t.PARAM \", FILE);\t\t\t\t\\\n+\t\t assemble_name (FILE, NAME);\t\t\t\t\\\n+\t       }\t\t\t\t\t\t\t\\\n \t     for (parm = DECL_ARGUMENTS (DECL), i = 0; parm && i < 4;\t\\\n \t\t  parm = TREE_CHAIN (parm))\t\t\t\t\\\n \t       {\t\t\t\t\t\t\t\\"}]}