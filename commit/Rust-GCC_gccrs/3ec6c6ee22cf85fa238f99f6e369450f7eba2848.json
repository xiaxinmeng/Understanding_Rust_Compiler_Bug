{"sha": "3ec6c6ee22cf85fa238f99f6e369450f7eba2848", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2VjNmM2ZWUyMmNmODVmYTIzOGY5OWY2ZTM2OTQ1MGY3ZWJhMjg0OA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2003-05-14T15:06:41Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2003-05-14T15:06:41Z"}, "message": "* loop.c (check_dbra_loop): Factor common test.\n\nFrom-SVN: r66803", "tree": {"sha": "465614519c138683373755d8c5993938e93145c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/465614519c138683373755d8c5993938e93145c9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3ec6c6ee22cf85fa238f99f6e369450f7eba2848", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ec6c6ee22cf85fa238f99f6e369450f7eba2848", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ec6c6ee22cf85fa238f99f6e369450f7eba2848", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ec6c6ee22cf85fa238f99f6e369450f7eba2848/comments", "author": null, "committer": null, "parents": [{"sha": "c62347f080a0e69a7acfc42f3b874b9e38a23f8a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c62347f080a0e69a7acfc42f3b874b9e38a23f8a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c62347f080a0e69a7acfc42f3b874b9e38a23f8a"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "f5e7884edf7628d3f273f7447dc8a508d014ac85", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ec6c6ee22cf85fa238f99f6e369450f7eba2848/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ec6c6ee22cf85fa238f99f6e369450f7eba2848/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3ec6c6ee22cf85fa238f99f6e369450f7eba2848", "patch": "@@ -1,3 +1,7 @@\n+2003-05-14  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* loop.c (check_dbra_loop): Factor common test.\n+\n 2003-05-14  Ben Elliston  <bje@wasabisystems.com>\n \n \t* doc/md.texi (Automaton pipeline description): Grammar fixes.\n@@ -504,6 +508,7 @@ Mon May 12 11:32:53 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \t(s390_function_arg): Likewise.\n \t(s390_va_arg): Likewise\n \n+>>>>>>> 1.17806\n 2003-05-11  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* coverage.h (coverage_counter_alloc): New function."}, {"sha": "c161bc88c57aa4bc1a31559b8d32a41dfa85bcb3", "filename": "gcc/loop.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ec6c6ee22cf85fa238f99f6e369450f7eba2848/gcc%2Floop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ec6c6ee22cf85fa238f99f6e369450f7eba2848/gcc%2Floop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop.c?ref=3ec6c6ee22cf85fa238f99f6e369450f7eba2848", "patch": "@@ -8274,9 +8274,11 @@ check_dbra_loop (loop, insn_count)\n \t\t    && REGNO (SET_DEST (set)) == bl->regno)\n \t\t  /* An insn that sets the biv is okay.  */\n \t\t  ;\n-\t\telse if ((p == prev_nonnote_insn (prev_nonnote_insn (loop_end))\n-\t\t\t  || p == prev_nonnote_insn (loop_end))\n-\t\t\t && reg_mentioned_p (bivreg, PATTERN (p)))\n+\t\telse if (!reg_mentioned_p (bivreg, PATTERN (p)))\n+\t\t  /* An insn that doesn't mention the biv is okay.  */\n+\t\t  ;\n+\t\telse if (p == prev_nonnote_insn (prev_nonnote_insn (loop_end))\n+\t\t\t || p == prev_nonnote_insn (loop_end))\n \t\t  {\n \t\t    /* If either of these insns uses the biv and sets a pseudo\n \t\t       that has more than one usage, then the biv has uses\n@@ -8290,7 +8292,7 @@ check_dbra_loop (loop, insn_count)\n \t\t\tbreak;\n \t\t      }\n \t\t  }\n-\t\telse if (reg_mentioned_p (bivreg, PATTERN (p)))\n+\t\telse\n \t\t  {\n \t\t    no_use_except_counting = 0;\n \t\t    break;"}]}