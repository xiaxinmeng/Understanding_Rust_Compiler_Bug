{"sha": "c0da11c40af197cc142294ed2422299e93a00f2e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzBkYTExYzQwYWYxOTdjYzE0MjI5NGVkMjQyMjI5OWU5M2EwMGYyZQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1997-10-07T18:04:33Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1997-10-07T18:04:33Z"}, "message": "* toplev.c (rest_of_compilation): Defer all non-nested inlines.\n\nFrom-SVN: r15861", "tree": {"sha": "13dbb6f6c705157efd447e6477fc6679bad81927", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/13dbb6f6c705157efd447e6477fc6679bad81927"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c0da11c40af197cc142294ed2422299e93a00f2e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0da11c40af197cc142294ed2422299e93a00f2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c0da11c40af197cc142294ed2422299e93a00f2e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0da11c40af197cc142294ed2422299e93a00f2e/comments", "author": null, "committer": null, "parents": [{"sha": "6714c1ae696ae61f9213c87c7120ec0b0b535e63", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6714c1ae696ae61f9213c87c7120ec0b0b535e63", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6714c1ae696ae61f9213c87c7120ec0b0b535e63"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "c7eacd955edc54079623e53bf73d80dc27350e15", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0da11c40af197cc142294ed2422299e93a00f2e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0da11c40af197cc142294ed2422299e93a00f2e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c0da11c40af197cc142294ed2422299e93a00f2e", "patch": "@@ -46,6 +46,10 @@ Mon Oct  6 12:04:24 1997  Jeffrey A Law  (law@cygnus.com)\n \t* Makefile.in (check-g77): New test target.\n \t(CHECK-TARGETS): Add check-g77.\n \n+Fri Oct  3 11:56:36 1997  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* toplev.c (rest_of_compilation): Defer all non-nested inlines.\n+\n Fri Oct  3 15:49:27 1997  Michael Meissner  <meissner@cygnus.com>\n \n \t* flow.c (print_rtl_with_bb): Cast alloca return value for"}, {"sha": "225964b6f0f08444a9014bec103403526f09821b", "filename": "gcc/toplev.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0da11c40af197cc142294ed2422299e93a00f2e/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0da11c40af197cc142294ed2422299e93a00f2e/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=c0da11c40af197cc142294ed2422299e93a00f2e", "patch": "@@ -3022,6 +3022,11 @@ rest_of_compilation (decl)\n \t\t   fflush (rtl_dump_file);\n \t\t });\n \n+      /* If we can, defer compiling inlines until EOF.\n+\t save_for_inline_copying can be extremely expensive.  */\n+      if (inlineable && ! decl_function_context (decl))\n+\tDECL_DEFER_OUTPUT (decl) = 1;\n+\n       /* If function is inline, and we don't yet know whether to\n \t compile it by itself, defer decision till end of compilation.\n \t finish_compilation will call rest_of_compilation again"}]}