{"sha": "9c2e06d903eaffa9d196168f1dc0f45cd8361371", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWMyZTA2ZDkwM2VhZmZhOWQxOTYxNjhmMWRjMGY0NWNkODM2MTM3MQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-01-07T21:55:10Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-01-07T21:55:10Z"}, "message": "t-linux (SHLIB_INSTALL): Double quote slibdir; fix typo in rm -f.\n\n        * config/t-linux (SHLIB_INSTALL): Double quote slibdir;\n        fix typo in rm -f.\n        * config/t-aix43 (SHLIB_INSTALL): Likewise.\n        * config/alpha/t-osf4 (SHLIB_INSTALL): Likewise.\n        (SHLIB_LINK): Create links for the soname.\n        * config/mips/t-iris6: Likewise.\n        * config/sparc/t-slibgcc: Likewise.\n        * config/sparc/t-slibgcc-sld: Likewise.\n\nFrom-SVN: r38785", "tree": {"sha": "cfeb36ae7b347b88e6068808c189aa8a48ed21fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cfeb36ae7b347b88e6068808c189aa8a48ed21fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9c2e06d903eaffa9d196168f1dc0f45cd8361371", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c2e06d903eaffa9d196168f1dc0f45cd8361371", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c2e06d903eaffa9d196168f1dc0f45cd8361371", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c2e06d903eaffa9d196168f1dc0f45cd8361371/comments", "author": null, "committer": null, "parents": [{"sha": "5b15f27732a33e651cad21dc830d269399678c7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b15f27732a33e651cad21dc830d269399678c7b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b15f27732a33e651cad21dc830d269399678c7b"}], "stats": {"total": 72, "additions": 51, "deletions": 21}, "files": [{"sha": "12d2540dc00084a78450dbee16595f51af792b98", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c2e06d903eaffa9d196168f1dc0f45cd8361371/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c2e06d903eaffa9d196168f1dc0f45cd8361371/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9c2e06d903eaffa9d196168f1dc0f45cd8361371", "patch": "@@ -3,6 +3,15 @@\n \t* configure.in (slibdir): Accept an --with-slibdir option.\n \tUse \"test\" not \"[\" in configure.  Default to $(libdir).\n \n+\t* config/t-linux (SHLIB_INSTALL): Double quote slibdir;\n+\tfix typo in rm -f.\n+\t* config/t-aix43 (SHLIB_INSTALL): Likewise.\n+\t* config/alpha/t-osf4 (SHLIB_INSTALL): Likewise.\n+\t(SHLIB_LINK): Create links for the soname.\n+\t* config/mips/t-iris6: Likewise.\n+\t* config/sparc/t-slibgcc: Likewise.\n+\t* config/sparc/t-slibgcc-sld: Likewise.\n+\n 2001-01-07  Jakub Jelinek  <jakub@redhat.com>\n \n \t* config/i386/i386.c (constant_call_address_operand): Accept"}, {"sha": "5c7bd8afe658d709c205b7a83abce7ea0eb93ebf", "filename": "gcc/config/alpha/t-osf4", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c2e06d903eaffa9d196168f1dc0f45cd8361371/gcc%2Fconfig%2Falpha%2Ft-osf4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c2e06d903eaffa9d196168f1dc0f45cd8361371/gcc%2Fconfig%2Falpha%2Ft-osf4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Ft-osf4?ref=9c2e06d903eaffa9d196168f1dc0f45cd8361371", "patch": "@@ -8,7 +8,11 @@ TARGET_LIBGCC2_CFLAGS = -fPIC\n SHLIB_EXT = .so\n SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n \t-Wl,-msym -Wl,-set_version,gcc.0 -Wl,-soname,@shlib_base_name@.so.0 \\\n-\t-o @shlib_base_name@.so @multilib_flags@ @shlib_objs@ -lc\n-SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.so $(slibdir)/@shlib_base_name@.so.0; \\\n-\trm -f $(slibdir)/@shlib_base_name@; \\\n-\t$(LN_S) @shlib_base_name@.so.0 $(slibdir)/@shlib_base_name@.so\n+\t-o @shlib_base_name@.so @multilib_flags@ @shlib_objs@ -lc && \\\n+\trm -f @shlib_base_name@.so.0 && \\\n+\t$(LN_S) @shlib_base_name@.so @shlib_base_name@.so.0\n+# $(slibdir) double quoted to protect it from expansion while building\n+# libgcc.mk.  We want this delayed until actual install time.\n+SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.so $$(slibdir)/@shlib_base_name@.so.0; \\\n+\trm -f $$(slibdir)/@shlib_base_name@.so; \\\n+\t$(LN_S) @shlib_base_name@.so.0 $$(slibdir)/@shlib_base_name@.so"}, {"sha": "6fab3fcf9ce2d5eb198124b45246f7a87b7eeac7", "filename": "gcc/config/mips/t-iris6", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c2e06d903eaffa9d196168f1dc0f45cd8361371/gcc%2Fconfig%2Fmips%2Ft-iris6", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c2e06d903eaffa9d196168f1dc0f45cd8361371/gcc%2Fconfig%2Fmips%2Ft-iris6", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-iris6?ref=9c2e06d903eaffa9d196168f1dc0f45cd8361371", "patch": "@@ -23,14 +23,19 @@ CRTSTUFF_T_CFLAGS=-g1\n SHLIB_EXT = .so\n SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n         -Wl,-soname,@shlib_base_name@.so.0 \\\n-\t-o @shlib_base_name@.so @multilib_flags@ @shlib_objs@ -lc\n+\t-o @shlib_base_name@.so @multilib_flags@ @shlib_objs@ -lc && \\\n+\trm -f @shlib_base_name@.so.0 && \\\n+\t$(LN_S) @shlib_base_name@.so @shlib_base_name@.so.0\n # ??? Irix 6.5 seems to eat the option fine (if we somehow remove the\n # -hidden_symbol option, which is documented to be ignored in conjunction\n # with -exports_file), but fails to actually hide any symbols.\n-# -Wl,-exports_file,@shlib_map_file@\n-SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.so $(slibdir)/@shlib_base_name@.so.0; \\\n-\trm -f $(slibdir)/@shlib_base_name@; \\\n-\t$(LN_S) @shlib_base_name@.so.0 $(slibdir)/@shlib_base_name@.so\n+#\t-Wl,-exports_file,@shlib_map_file@\n+\n+# $(slibdir) double quoted to protect it from expansion while building\n+# libgcc.mk.  We want this delayed until actual install time.\n+SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.so $$(slibdir)/@shlib_base_name@.so.0; \\\n+\trm -f $$(slibdir)/@shlib_base_name@.so; \\\n+\t$(LN_S) @shlib_base_name@.so.0 $$(slibdir)/@shlib_base_name@.so\n SHLIB_MKMAP = $(srcdir)/mkmap-flat.awk\n SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver \n "}, {"sha": "ceb8a692600e12589f6e403da58db12fa2109cfa", "filename": "gcc/config/rs6000/t-aix43", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c2e06d903eaffa9d196168f1dc0f45cd8361371/gcc%2Fconfig%2Frs6000%2Ft-aix43", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c2e06d903eaffa9d196168f1dc0f45cd8361371/gcc%2Fconfig%2Frs6000%2Ft-aix43", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-aix43?ref=9c2e06d903eaffa9d196168f1dc0f45cd8361371", "patch": "@@ -60,7 +60,9 @@ SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n \t$(AR_CREATE_FOR_TARGET) tmp-@shlib_base_name@.a @multilib_dir@/shr.o ; \\\n \tmv tmp-@shlib_base_name@.a @shlib_base_name@.a ; \\\n \trm -f @multilib_dir@/shr.o\n-SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.a $(slibdir)/\n+# $(slibdir) double quoted to protect it from expansion while building\n+# libgcc.mk.  We want this delayed until actual install time.\n+SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.a $$(slibdir)/\n SHLIB_LIBS = -lc `case @shlib_base_name@ in *pthread*) echo -lpthread ;; esac`\n SHLIB_MKMAP = $(srcdir)/mkmap-flat.awk\n SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver"}, {"sha": "1c52bcb132390c0911171d16dbd41bac146f1120", "filename": "gcc/config/sparc/t-slibgcc", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c2e06d903eaffa9d196168f1dc0f45cd8361371/gcc%2Fconfig%2Fsparc%2Ft-slibgcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c2e06d903eaffa9d196168f1dc0f45cd8361371/gcc%2Fconfig%2Fsparc%2Ft-slibgcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ft-slibgcc?ref=9c2e06d903eaffa9d196168f1dc0f45cd8361371", "patch": "@@ -4,9 +4,13 @@ SHLIB_EXT = .so\n SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n \t-Wl,--soname=@shlib_base_name@.so.0 \\\n \t-Wl,--version-script=@shlib_map_file@ \\\n-\t-o @shlib_base_name@.so @multilib_flags@ @shlib_objs@ -lc\n-SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.so $(slibdir)/@shlib_base_name@.so.0; \\\n-\trm -f $(slibdir)/@shlib_base_name@; \\\n-\t$(LN_S) @shlib_base_name@.so.0 $(slibdir)/@shlib_base_name@.so\n+\t-o @shlib_base_name@.so @multilib_flags@ @shlib_objs@ -lc && \\\n+\trm -f @shlib_base_name@.so.0 && \\\n+\t$(LN_S) @shlib_base_name@.so @shlib_base_name@.so.0\n+# $(slibdir) double quoted to protect it from expansion while building\n+# libgcc.mk.  We want this delayed until actual install time.\n+SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.so $$(slibdir)/@shlib_base_name@.so.0; \\\n+\trm -f $$(slibdir)/@shlib_base_name@.so; \\\n+\t$(LN_S) @shlib_base_name@.so.0 $$(slibdir)/@shlib_base_name@.so\n SHLIB_MKMAP = $(srcdir)/mkmap-symver.awk\n SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver"}, {"sha": "50107229e5016f82149908dcdaf51820675eeb12", "filename": "gcc/config/sparc/t-slibgcc-sld", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c2e06d903eaffa9d196168f1dc0f45cd8361371/gcc%2Fconfig%2Fsparc%2Ft-slibgcc-sld", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c2e06d903eaffa9d196168f1dc0f45cd8361371/gcc%2Fconfig%2Fsparc%2Ft-slibgcc-sld", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ft-slibgcc-sld?ref=9c2e06d903eaffa9d196168f1dc0f45cd8361371", "patch": "@@ -4,9 +4,13 @@ SHLIB_EXT = .so\n SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n \t-Wl,-h,@shlib_base_name@.so.0 -Wl,-z,text -Wl,-z,defs \\\n \t-Wl,-M,@shlib_map_file@ -o @shlib_base_name@.so \\\n-\t@multilib_flags@ @shlib_objs@ -lc\n-SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.so $(slibdir)/@shlib_base_name@.so.0; \\\n-\trm -f $(slibdir)/@shlib_base_name@; \\\n-\t$(LN_S) @shlib_base_name@.so.0 $(slibdir)/@shlib_base_name@.so\n+\t@multilib_flags@ @shlib_objs@ -lc && \\\n+\trm -f @shlib_base_name@.so.0 && \\\n+\t$(LN_S) @shlib_base_name@.so @shlib_base_name@.so.0\n+# $(slibdir) double quoted to protect it from expansion while building\n+# libgcc.mk.  We want this delayed until actual install time.\n+SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.so $$(slibdir)/@shlib_base_name@.so.0; \\\n+\trm -f $$(slibdir)/@shlib_base_name@.so; \\\n+\t$(LN_S) @shlib_base_name@.so.0 $$(slibdir)/@shlib_base_name@.so\n SHLIB_MKMAP = $(srcdir)/mkmap-symver.awk\n SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver"}, {"sha": "cac5d2e936a6c9b8852dd71043bfad0a16ca2338", "filename": "gcc/config/t-linux", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c2e06d903eaffa9d196168f1dc0f45cd8361371/gcc%2Fconfig%2Ft-linux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c2e06d903eaffa9d196168f1dc0f45cd8361371/gcc%2Fconfig%2Ft-linux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-linux?ref=9c2e06d903eaffa9d196168f1dc0f45cd8361371", "patch": "@@ -16,9 +16,11 @@ SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n \t-o @shlib_base_name@.so @multilib_flags@ @shlib_objs@ -lc && \\\n \trm -f @shlib_base_name@.so.0 && \\\n \t$(LN_S) @shlib_base_name@.so @shlib_base_name@.so.0\n-SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.so $(slibdir)/@shlib_base_name@.so.0; \\\n-\trm -f $(slibdir)/@shlib_base_name@; \\\n-\t$(LN_S) @shlib_base_name@.so.0 $(slibdir)/@shlib_base_name@.so\n+# $(slibdir) double quoted to protect it from expansion while building\n+# libgcc.mk.  We want this delayed until actual install time.\n+SHLIB_INSTALL = $(INSTALL_DATA) @shlib_base_name@.so $$(slibdir)/@shlib_base_name@.so.0; \\\n+\trm -f $$(slibdir)/@shlib_base_name@.so; \\\n+\t$(LN_S) @shlib_base_name@.so.0 $$(slibdir)/@shlib_base_name@.so\n SHLIB_MKMAP = $(srcdir)/mkmap-symver.awk\n SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver $(srcdir)/config/libgcc-glibc.ver\n "}]}