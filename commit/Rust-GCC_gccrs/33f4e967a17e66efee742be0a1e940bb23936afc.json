{"sha": "33f4e967a17e66efee742be0a1e940bb23936afc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzNmNGU5NjdhMTdlNjZlZmVlNzQyYmUwYTFlOTQwYmIyMzkzNmFmYw==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2017-11-18T23:30:50Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2017-11-18T23:30:50Z"}, "message": "[vms] Add missing vmsdbgout_early_finish\n\n2017-11-19  Tom de Vries  <tom@codesourcery.com>\n\n\tPR target/82961\n\t* vmsdbgout.c (vmsdbgout_early_finish): New function.\n\t(vmsdbg_debug_hooks): Set early_finish field to vmsdbgout_early_finish.\n\nFrom-SVN: r254920", "tree": {"sha": "fed19281e10252a52bd132c60f067de8f42aa29d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fed19281e10252a52bd132c60f067de8f42aa29d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/33f4e967a17e66efee742be0a1e940bb23936afc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33f4e967a17e66efee742be0a1e940bb23936afc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33f4e967a17e66efee742be0a1e940bb23936afc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33f4e967a17e66efee742be0a1e940bb23936afc/comments", "author": null, "committer": null, "parents": [{"sha": "517048cef0edf7ec35d7091ef4fea232edd48a53", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/517048cef0edf7ec35d7091ef4fea232edd48a53", "html_url": "https://github.com/Rust-GCC/gccrs/commit/517048cef0edf7ec35d7091ef4fea232edd48a53"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "fa44fd5413dab7f0a35c584bac4d1b31058d66d8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/33f4e967a17e66efee742be0a1e940bb23936afc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/33f4e967a17e66efee742be0a1e940bb23936afc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=33f4e967a17e66efee742be0a1e940bb23936afc", "patch": "@@ -1,3 +1,9 @@\n+2017-11-19  Tom de Vries  <tom@codesourcery.com>\n+\n+\tPR target/82961\n+\t* vmsdbgout.c (vmsdbgout_early_finish): New function.\n+\t(vmsdbg_debug_hooks): Set early_finish field to vmsdbgout_early_finish.\n+\n 2017-11-18  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* cgraphclones.c (cgraph_edge::clone): Rename gcov_count to prof_count."}, {"sha": "91dcd2e391096fbdcc8a6a147759d6236cb2b7dc", "filename": "gcc/vmsdbgout.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/33f4e967a17e66efee742be0a1e940bb23936afc/gcc%2Fvmsdbgout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/33f4e967a17e66efee742be0a1e940bb23936afc/gcc%2Fvmsdbgout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvmsdbgout.c?ref=33f4e967a17e66efee742be0a1e940bb23936afc", "patch": "@@ -147,6 +147,7 @@ static int write_srccorrs (int);\n \n static void vmsdbgout_init (const char *);\n static void vmsdbgout_finish (const char *);\n+static void vmsdbgout_early_finish (const char *);\n static void vmsdbgout_assembly_start (void);\n static void vmsdbgout_define (unsigned int, const char *);\n static void vmsdbgout_undef (unsigned int, const char *);\n@@ -176,7 +177,7 @@ static void vmsdbgout_abstract_function (tree);\n const struct gcc_debug_hooks vmsdbg_debug_hooks\n = {vmsdbgout_init,\n    vmsdbgout_finish,\n-   debug_nothing_charstar,\n+   vmsdbgout_early_finish,\n    vmsdbgout_assembly_start,\n    vmsdbgout_define,\n    vmsdbgout_undef,\n@@ -1556,6 +1557,13 @@ vmsdbgout_abstract_function (tree decl)\n     (*dwarf2_debug_hooks.outlining_inline_function) (decl);\n }\n \n+static void\n+vmsdbgout_early_finish (const char *filename)\n+{\n+  if (write_symbols == VMS_AND_DWARF2_DEBUG)\n+    (*dwarf2_debug_hooks.early_finish) (filename);\n+}\n+\n /* Output stuff that Debug requires at the end of every file and generate the\n    VMS Debug debugging info.  */\n "}]}