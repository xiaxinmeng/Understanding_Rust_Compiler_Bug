{"sha": "7062b881467ee80ba7ddfe5fa46540c425d47ad8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzA2MmI4ODE0NjdlZTgwYmE3ZGRmZTVmYTQ2NTQwYzQyNWQ0N2FkOA==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1994-04-13T20:10:21Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1994-04-13T20:10:21Z"}, "message": "Don't warn about unused static const variables.\n\nFrom-SVN: r7046", "tree": {"sha": "8b88c17014141214093bdabb47d146745f653aaa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8b88c17014141214093bdabb47d146745f653aaa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7062b881467ee80ba7ddfe5fa46540c425d47ad8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7062b881467ee80ba7ddfe5fa46540c425d47ad8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7062b881467ee80ba7ddfe5fa46540c425d47ad8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7062b881467ee80ba7ddfe5fa46540c425d47ad8/comments", "author": null, "committer": null, "parents": [{"sha": "ce49ea8a38c9f3b283897ddf77953e7bd2048cd7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce49ea8a38c9f3b283897ddf77953e7bd2048cd7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce49ea8a38c9f3b283897ddf77953e7bd2048cd7"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "463871dff0ae955b7f2dde10966d3b1822f73a2c", "filename": "gcc/toplev.c", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7062b881467ee80ba7ddfe5fa46540c425d47ad8/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7062b881467ee80ba7ddfe5fa46540c425d47ad8/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=7062b881467ee80ba7ddfe5fa46540c425d47ad8", "patch": "@@ -2325,16 +2325,15 @@ compile_file (name)\n \n \t  }\n \t/* Warn about static fns or vars defined but not used,\n-\t   but not about inline functions\n-\t   since unused inline statics is normal practice.  */\n+\t   but not about inline functions or static consts\n+\t   since defining those in header files is normal practice.  */\n \tif (warn_unused\n-\t    && (TREE_CODE (decl) == FUNCTION_DECL\n-\t\t|| TREE_CODE (decl) == VAR_DECL)\n+\t    && ((TREE_CODE (decl) == FUNCTION_DECL && ! DECL_INLINE (decl))\n+\t\t|| (TREE_CODE (decl) == VAR_DECL && ! TREE_READONLY (decl)))\n \t    && ! DECL_IN_SYSTEM_HEADER (decl)\n \t    && ! DECL_EXTERNAL (decl)\n \t    && ! TREE_PUBLIC (decl)\n \t    && ! TREE_USED (decl)\n-\t    && ! DECL_INLINE (decl)\n \t    && ! DECL_REGISTER (decl)\n \t    /* The TREE_USED bit for file-scope decls\n \t       is kept in the identifier, to handle multiple"}]}