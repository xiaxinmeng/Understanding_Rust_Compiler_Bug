{"sha": "ec2c907ae8bc195be96fa51ce81ab2b53a6d94ae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWMyYzkwN2FlOGJjMTk1YmU5NmZhNTFjZTgxYWIyYjUzYTZkOTRhZQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-11-17T22:25:58Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-11-17T22:25:58Z"}, "message": "Include <machine/ansi.h> on NetBSD.\n\nCheck for _BSD_XXX_T_ as well as _XXX_T_.\nAdd _BSD_XXX_T_ to list of defines to check and define for a given\ntype for SIZE_T, PTRDIFF_T, and WCHAR_T.\n\nFrom-SVN: r8489", "tree": {"sha": "6cf232ecdab7a71dd28f98e329fb7439da8afc45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6cf232ecdab7a71dd28f98e329fb7439da8afc45"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec2c907ae8bc195be96fa51ce81ab2b53a6d94ae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec2c907ae8bc195be96fa51ce81ab2b53a6d94ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec2c907ae8bc195be96fa51ce81ab2b53a6d94ae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec2c907ae8bc195be96fa51ce81ab2b53a6d94ae/comments", "author": null, "committer": null, "parents": [{"sha": "005f764db7c5c01ae855ad72534fc24c8f2b7903", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/005f764db7c5c01ae855ad72534fc24c8f2b7903", "html_url": "https://github.com/Rust-GCC/gccrs/commit/005f764db7c5c01ae855ad72534fc24c8f2b7903"}], "stats": {"total": 23, "additions": 19, "deletions": 4}, "files": [{"sha": "71880a819c27e60c2eba3f9728b248e468d4a836", "filename": "gcc/ginclude/stddef.h", "status": "modified", "additions": 19, "deletions": 4, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec2c907ae8bc195be96fa51ce81ab2b53a6d94ae/gcc%2Fginclude%2Fstddef.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec2c907ae8bc195be96fa51ce81ab2b53a6d94ae/gcc%2Fginclude%2Fstddef.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fstddef.h?ref=ec2c907ae8bc195be96fa51ce81ab2b53a6d94ae", "patch": "@@ -22,35 +22,38 @@\n \n /* On 4.3bsd-net2, make sure ansi.h is included, so we have\n    one less case to deal with in the following.  */\n-#if defined (__BSD_NET2__) || defined (____386BSD____) || defined (__FreeBSD__)\n+#if defined (__BSD_NET2__) || defined (____386BSD____) || defined (__FreeBSD__) || defined(__NetBSD__)\n #include <machine/ansi.h>\n #endif\n \n /* In 4.3bsd-net2, machine/ansi.h defines these symbols, which are\n     defined if the corresponding type is *not* defined.  */\n #ifdef _ANSI_H_\n-#ifndef _SIZE_T_\n+#if !defined(_SIZE_T_) && !defined(_BSD_SIZE_T_)\n #define _SIZE_T\n #endif\n-#ifndef _PTRDIFF_T_\n+#if !defined(_PTRDIFF_T_) && !defined(_BSD_PTRDIFF_T_)\n #define _PTRDIFF_T\n #endif\n /* On BSD/386 1.1, at least, machine/ansi.h defines _BSD_WCHAR_T_\n    instead of _WCHAR_T_. */\n-#ifndef _WCHAR_T_\n+#if !defined(_WCHAR_T_) && !defined(_BSD_WCHAR_T_)\n #ifndef _BSD_WCHAR_T_\n #define _WCHAR_T\n #endif\n #endif\n /* Undef _FOO_T_ if we are supposed to define foo_t.  */\n #if defined (__need_ptrdiff_t) || defined (_STDDEF_H_)\n #undef _PTRDIFF_T_\n+#undef _BSD_PTRDIFF_T_\n #endif\n #if defined (__need_size_t) || defined (_STDDEF_H_)\n #undef _SIZE_T_\n+#undef _BSD_SIZE_T_\n #endif\n #if defined (__need_wchar_t) || defined (_STDDEF_H_)\n #undef _WCHAR_T_\n+#undef _BSD_WCHAR_T_\n #endif\n #endif /* _ANSI_H_ */\n \n@@ -76,13 +79,15 @@\n #ifndef _T_PTRDIFF\n #ifndef __PTRDIFF_T\n #ifndef _PTRDIFF_T_\n+#ifndef _BSD_PTRDIFF_T_\n #ifndef ___int_ptrdiff_t_h\n #ifndef _GCC_PTRDIFF_T\n #define _PTRDIFF_T\n #define _T_PTRDIFF_\n #define _T_PTRDIFF\n #define __PTRDIFF_T\n #define _PTRDIFF_T_\n+#define _BSD_PTRDIFF_T_\n #define ___int_ptrdiff_t_h\n #define _GCC_PTRDIFF_T\n #ifndef __PTRDIFF_TYPE__\n@@ -91,6 +96,7 @@\n typedef __PTRDIFF_TYPE__ ptrdiff_t;\n #endif /* _GCC_PTRDIFF_T */\n #endif /* ___int_ptrdiff_t_h */\n+#endif /* _BSD_PTRDIFF_T_ */\n #endif /* _PTRDIFF_T_ */\n #endif /* __PTRDIFF_T */\n #endif /* _T_PTRDIFF */\n@@ -113,6 +119,7 @@ typedef __PTRDIFF_TYPE__ ptrdiff_t;\n #ifndef _T_SIZE\n #ifndef __SIZE_T\n #ifndef _SIZE_T_\n+#ifndef _BSD_SIZE_T_\n #ifndef _SIZE_T_DEFINED_\n #ifndef ___int_size_t_h\n #ifndef _GCC_SIZE_T\n@@ -124,6 +131,7 @@ typedef __PTRDIFF_TYPE__ ptrdiff_t;\n #define _T_SIZE\n #define __SIZE_T\n #define _SIZE_T_\n+#define _BSD_SIZE_T_\n #define _SIZE_T_DEFINED_\n #define ___int_size_t_h\n #define _GCC_SIZE_T\n@@ -140,6 +148,7 @@ typedef __SIZE_TYPE__ size_t;\n #endif /* _GCC_SIZE_T */\n #endif /* ___int_size_t_h */\n #endif /* _SIZE_T_DEFINED_ */\n+#endif /* _BSD_SIZE_T_ */\n #endif /* _SIZE_T_ */\n #endif /* __SIZE_T */\n #endif /* _T_SIZE */\n@@ -163,6 +172,7 @@ typedef __SIZE_TYPE__ size_t;\n #ifndef _T_WCHAR\n #ifndef __WCHAR_T\n #ifndef _WCHAR_T_\n+#ifndef _BSD_WCHAR_T_\n #ifndef _WCHAR_T_DEFINED_\n #ifndef _WCHAR_T_H\n #ifndef ___int_wchar_t_h\n@@ -173,6 +183,7 @@ typedef __SIZE_TYPE__ size_t;\n #define _T_WCHAR\n #define __WCHAR_T\n #define _WCHAR_T_\n+#define _BSD_WCHAR_T_\n #define _WCHAR_T_DEFINED_\n #define _WCHAR_T_H\n #define ___int_wchar_t_h\n@@ -212,6 +223,7 @@ typedef __WCHAR_TYPE__ wchar_t;\n #endif\n #endif\n #endif\n+#endif\n #undef\t__need_wchar_t\n #endif /* _STDDEF_H or __need_wchar_t.  */\n \n@@ -222,12 +234,15 @@ typedef __WCHAR_TYPE__ wchar_t;\n     are probably typos and should be removed before 2.7 is released.  */\n #ifdef _GCC_PTRDIFF_T_\n #undef _PTRDIFF_T_\n+#undef _BSD_PTRDIFF_T_\n #endif\n #ifdef _GCC_SIZE_T_\n #undef _SIZE_T_\n+#undef _BSD_SIZE_T_\n #endif\n #ifdef _GCC_WCHAR_T_\n #undef _WCHAR_T_\n+#undef _BSD_WCHAR_T_\n #endif\n /*  The following ones are the real ones.  */\n #ifdef _GCC_PTRDIFF_T"}]}