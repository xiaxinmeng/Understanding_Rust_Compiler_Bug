{"sha": "59147a629a7a3c98e43be16e325d46ef07e45e93", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTkxNDdhNjI5YTdhM2M5OGU0M2JlMTZlMzI1ZDQ2ZWYwN2U0NWU5Mw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2004-01-12T16:15:19Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2004-01-12T16:15:19Z"}, "message": "re PR c++/4100 ([parser] friend qualifier accepted in definition of nested class)\n\n\tPR c++/4100\n\t* g++.dg/parse/friend4.C: New test.\n\t* g++.old-deja/g++.pt/niklas01a.C: Mark an error where a class\n\tdefinition is called a friend.\n\nFrom-SVN: r75727", "tree": {"sha": "68528d6f6b815510ea9b5010834c60fd5a0095a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/68528d6f6b815510ea9b5010834c60fd5a0095a3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/59147a629a7a3c98e43be16e325d46ef07e45e93", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59147a629a7a3c98e43be16e325d46ef07e45e93", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59147a629a7a3c98e43be16e325d46ef07e45e93", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59147a629a7a3c98e43be16e325d46ef07e45e93/comments", "author": null, "committer": null, "parents": [{"sha": "0426c4ca869f62525e807d8fc1bff9a983780308", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0426c4ca869f62525e807d8fc1bff9a983780308", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0426c4ca869f62525e807d8fc1bff9a983780308"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "4c1aae0711d2540f46780176a665ba45a0d50da6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59147a629a7a3c98e43be16e325d46ef07e45e93/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59147a629a7a3c98e43be16e325d46ef07e45e93/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=59147a629a7a3c98e43be16e325d46ef07e45e93", "patch": "@@ -1,3 +1,14 @@\n+2004-01-12  Ian Lance Taylor  <ian@wasabisystems.com>\n+\n+\tPR c++/4100\n+\t* g++.dg/parse/friend4.C: New test.\n+\n+2004-01-12  Scott Brumbaugh  <scottb.lists@verizon.net>\n+\n+\tPR c++/4100\n+\t* g++.old-deja/g++.pt/niklas01a.C: Mark an error where a class\n+\tdefinition is called a friend.\n+\n 2004-01-11  Zack Weinberg  <zack@codesourcery.com>\n \n \t* gcc.dg/tls/diag-3.c: Tweak dg-error regexp."}, {"sha": "5eca512e187f9d8a0207bfa8d53a040ef4f6529c", "filename": "gcc/testsuite/g++.dg/parse/friend4.C", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59147a629a7a3c98e43be16e325d46ef07e45e93/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ffriend4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59147a629a7a3c98e43be16e325d46ef07e45e93/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ffriend4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ffriend4.C?ref=59147a629a7a3c98e43be16e325d46ef07e45e93", "patch": "@@ -0,0 +1,8 @@\n+// { dg-do compile }\n+\n+// PR c++/4100\n+// You can't use friend when defining a class.\n+\n+class A {\n+  friend class B { };\t// { dg-error \"friend\" }\n+};"}, {"sha": "42a21fcb0728d7e24326f8013af1038a962d6c08", "filename": "gcc/testsuite/g++.old-deja/g++.pt/niklas01a.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59147a629a7a3c98e43be16e325d46ef07e45e93/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fniklas01a.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59147a629a7a3c98e43be16e325d46ef07e45e93/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fniklas01a.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fniklas01a.C?ref=59147a629a7a3c98e43be16e325d46ef07e45e93", "patch": "@@ -3,6 +3,6 @@\n struct A { // { dg-error \"\" } forward declaration\n   friend struct B : A {\t\t// { dg-error \"\" } \n     int x;\n-  };\n+  };\t// { dg-error \"\" } class definition cannot be a friend\n   int y;\n };"}]}