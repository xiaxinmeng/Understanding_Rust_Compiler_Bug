{"sha": "bddefd4f80c73d80c3370a71ebb351b1acc164c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmRkZWZkNGY4MGM3M2Q4MGMzMzcwYTcxZWJiMzUxYjFhY2MxNjRjMQ==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@redhat.com", "date": "2004-02-26T15:34:05Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "2004-02-26T15:34:05Z"}, "message": "re PR java/14231 (Incorrect interface method called when compiling against .class files)\n\n2004-02-26  Andrew Haley  <aph@redhat.com>\n\n        PR java/14231:\n        * parse.y (check_interface_throws_clauses): Check for\n        !METHOD_INVISIBLE (iface_method).\n        * class.c (layout_class_methods): Check for CLASS_INTERFACE as\n        well as CLASS_ABSTRACT.\n\nFrom-SVN: r78505", "tree": {"sha": "0c8713946b3a16d29998db9a16e78a4d0fd9009c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0c8713946b3a16d29998db9a16e78a4d0fd9009c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bddefd4f80c73d80c3370a71ebb351b1acc164c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bddefd4f80c73d80c3370a71ebb351b1acc164c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bddefd4f80c73d80c3370a71ebb351b1acc164c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bddefd4f80c73d80c3370a71ebb351b1acc164c1/comments", "author": {"login": "theRealAph", "id": 254637, "node_id": "MDQ6VXNlcjI1NDYzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/254637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theRealAph", "html_url": "https://github.com/theRealAph", "followers_url": "https://api.github.com/users/theRealAph/followers", "following_url": "https://api.github.com/users/theRealAph/following{/other_user}", "gists_url": "https://api.github.com/users/theRealAph/gists{/gist_id}", "starred_url": "https://api.github.com/users/theRealAph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theRealAph/subscriptions", "organizations_url": "https://api.github.com/users/theRealAph/orgs", "repos_url": "https://api.github.com/users/theRealAph/repos", "events_url": "https://api.github.com/users/theRealAph/events{/privacy}", "received_events_url": "https://api.github.com/users/theRealAph/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "50106e8f8d39cd8bead63c0c17608964fef2b27a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50106e8f8d39cd8bead63c0c17608964fef2b27a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50106e8f8d39cd8bead63c0c17608964fef2b27a"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "b300dd3acd9df73c575fba96c6c60dd121e7a1a1", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bddefd4f80c73d80c3370a71ebb351b1acc164c1/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bddefd4f80c73d80c3370a71ebb351b1acc164c1/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=bddefd4f80c73d80c3370a71ebb351b1acc164c1", "patch": "@@ -1,3 +1,11 @@\n+2004-02-26  Andrew Haley  <aph@redhat.com>\n+\n+\tPR java/14231:\n+\t* parse.y (check_interface_throws_clauses): Check for\n+\t!METHOD_INVISIBLE (iface_method).\n+\t* class.c (layout_class_methods): Check for CLASS_INTERFACE as\n+\twell as CLASS_ABSTRACT.\n+\t\n 2004-02-25  Per Bothner  <per@bothner.com>\n \n \t* parse.y (build_assertion):  If we're in an inner class, create the"}, {"sha": "be9958b31e4e172999250e383e6981a272756a80", "filename": "gcc/java/class.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bddefd4f80c73d80c3370a71ebb351b1acc164c1/gcc%2Fjava%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bddefd4f80c73d80c3370a71ebb351b1acc164c1/gcc%2Fjava%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fclass.c?ref=bddefd4f80c73d80c3370a71ebb351b1acc164c1", "patch": "@@ -2053,7 +2053,7 @@ void\n layout_class_methods (tree this_class)\n {\n   tree method_decl, dtable_count;\n-  tree super_class;\n+  tree super_class, type_name;\n \n   if (TYPE_NVIRTUALS (this_class))\n     return;\n@@ -2070,7 +2070,8 @@ layout_class_methods (tree this_class)\n   else\n     dtable_count = integer_zero_node;\n \n-  if (CLASS_ABSTRACT (TYPE_NAME (this_class)))\n+  type_name = TYPE_NAME (this_class);\n+  if (CLASS_ABSTRACT (type_name) || CLASS_INTERFACE (type_name))\n     {\n       /* An abstract class can have methods which are declared only in\n \t an implemented interface.  These are called \"Miranda"}, {"sha": "446661b93fd37346f6e320f231e609bfbba93c38", "filename": "gcc/java/parse.y", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bddefd4f80c73d80c3370a71ebb351b1acc164c1/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bddefd4f80c73d80c3370a71ebb351b1acc164c1/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=bddefd4f80c73d80c3370a71ebb351b1acc164c1", "patch": "@@ -6525,7 +6525,8 @@ check_interface_throws_clauses (tree check_class_decl, tree class_decl)\n \t\t Also, multiple inheritance with conflicting throws\n \t\t clauses is fine in the absence of a concrete\n \t\t implementation.  */\n-\t      if (method != NULL_TREE && !METHOD_ABSTRACT (method))\n+\t      if (method != NULL_TREE && !METHOD_ABSTRACT (method)\n+\t\t  && !METHOD_INVISIBLE (iface_method))\n \t\t{\n \t\t  tree method_wfl = DECL_FUNCTION_WFL (method);\n \t\t  check_throws_clauses (method, method_wfl, iface_method);"}]}