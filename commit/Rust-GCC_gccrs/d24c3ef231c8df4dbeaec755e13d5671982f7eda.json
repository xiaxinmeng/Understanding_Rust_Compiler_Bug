{"sha": "d24c3ef231c8df4dbeaec755e13d5671982f7eda", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDI0YzNlZjIzMWM4ZGY0ZGJlYWVjNzU1ZTEzZDU2NzE5ODJmN2VkYQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2018-11-06T08:42:56Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2018-11-06T08:42:56Z"}, "message": "re PR ada/81878 (--disable-bootstrap --enable-languages=ada fails)\n\n\tPR ada/81878\n\tRevert\n\t2018-10-29  Tamar Christina  <tamar.christina@arm.com>\n\n\tPR ada/81878\n\t* Makefile.in (TOOLS_FLAGS_TO_PASS_NATIVE): Add -B ../../.\n\n\t2017-08-17  Richard Biener  <rguenther@suse.de>\n\n\tPR ada/81878\n\t* Makefile.in (CXX_LFLAGS): Remove.\n\t(TOOLS_FLAGS_TO_PASS_NATIVE): Pass $(CXX) as CXX.\n\t(TOOLS_FLAGS_TO_PASS_RE): Likewise.\n\nFrom-SVN: r265830", "tree": {"sha": "c2eb7f58383b280212bc8512d378345ad9b044ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c2eb7f58383b280212bc8512d378345ad9b044ae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d24c3ef231c8df4dbeaec755e13d5671982f7eda", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d24c3ef231c8df4dbeaec755e13d5671982f7eda", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d24c3ef231c8df4dbeaec755e13d5671982f7eda", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d24c3ef231c8df4dbeaec755e13d5671982f7eda/comments", "author": null, "committer": null, "parents": [{"sha": "ffe5a586ccb5805010b933d4be1d238c895c3409", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffe5a586ccb5805010b933d4be1d238c895c3409", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ffe5a586ccb5805010b933d4be1d238c895c3409"}], "stats": {"total": 29, "additions": 24, "deletions": 5}, "files": [{"sha": "ca75cf0023473b68ef0ae19e149a05623a401bd1", "filename": "gnattools/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d24c3ef231c8df4dbeaec755e13d5671982f7eda/gnattools%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d24c3ef231c8df4dbeaec755e13d5671982f7eda/gnattools%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gnattools%2FChangeLog?ref=d24c3ef231c8df4dbeaec755e13d5671982f7eda", "patch": "@@ -1,3 +1,19 @@\n+2018-11-06  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR ada/81878\n+\tRevert\n+\t2018-10-29  Tamar Christina  <tamar.christina@arm.com>\n+\n+\tPR ada/81878\n+\t* Makefile.in (TOOLS_FLAGS_TO_PASS_NATIVE): Add -B ../../.\n+\n+\t2017-08-17  Richard Biener  <rguenther@suse.de>\n+\n+\tPR ada/81878\n+\t* Makefile.in (CXX_LFLAGS): Remove.\n+\t(TOOLS_FLAGS_TO_PASS_NATIVE): Pass $(CXX) as CXX.\n+\t(TOOLS_FLAGS_TO_PASS_RE): Likewise.\n+\n 2018-10-31  Joseph Myers  <joseph@codesourcery.com>\n \n \tPR bootstrap/82856"}, {"sha": "b0860eaf96d9288893ccdec2bb7d9044ade32fd7", "filename": "gnattools/Makefile.in", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d24c3ef231c8df4dbeaec755e13d5671982f7eda/gnattools%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d24c3ef231c8df4dbeaec755e13d5671982f7eda/gnattools%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gnattools%2FMakefile.in?ref=d24c3ef231c8df4dbeaec755e13d5671982f7eda", "patch": "@@ -69,13 +69,16 @@ INCLUDES_FOR_SUBDIR = -iquote . -iquote .. -iquote ../.. \\\n \t\t      -iquote $(fsrcdir) -I$(ftop_srcdir)/include\n ADA_INCLUDES_FOR_SUBDIR = -I. -I$(fsrcdir)/ada\n \n+CXX_LFLAGS = \\\n+ -B../../../$(target_noncanonical)/libstdc++-v3/src/.libs \\\n+ -B../../../$(target_noncanonical)/libstdc++-v3/libsupc++/.libs \\\n+ -L../../../$(target_noncanonical)/libstdc++-v3/src/.libs \\\n+ -L../../../$(target_noncanonical)/libstdc++-v3/libsupc++/.libs\n+\n # Variables for gnattools, native\n-# Due to Windows path translations (See PR ada/81878) we need to add\n-# -B../../ to the compiler paths as a workaround for that $(CXX) contains\n-# Unix style paths that won't be translated by the runtime.\n TOOLS_FLAGS_TO_PASS_NATIVE= \\\n \t\"CC=../../xgcc -B../../\" \\\n-\t\"CXX=$(CXX) -B../../\" \\\n+\t\"CXX=../../xg++ -B../../ $(CXX_LFLAGS)\" \\\n \t\"CFLAGS=$(CFLAGS) $(WARN_CFLAGS)\" \\\n \t\"LDFLAGS=$(LDFLAGS)\" \\\n \t\"ADAFLAGS=$(ADAFLAGS)\" \\\n@@ -93,7 +96,7 @@ TOOLS_FLAGS_TO_PASS_NATIVE= \\\n # Variables for regnattools\n TOOLS_FLAGS_TO_PASS_RE= \\\n \t\"CC=../../xgcc -B../../\" \\\n-\t\"CXX=$(CXX)\" \\\n+\t\"CXX=../../xg++ -B../../ $(CXX_LFLAGS)\" \\\n \t\"CFLAGS=$(CFLAGS)\" \\\n \t\"LDFLAGS=$(LDFLAGS)\" \\\n \t\"ADAFLAGS=$(ADAFLAGS)\" \\"}]}