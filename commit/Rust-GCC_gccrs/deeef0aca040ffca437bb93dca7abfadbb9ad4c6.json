{"sha": "deeef0aca040ffca437bb93dca7abfadbb9ad4c6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGVlZWYwYWNhMDQwZmZjYTQzN2JiOTNkY2E3YWJmYWRiYjlhZDRjNg==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1998-01-23T21:27:50Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-01-23T21:27:50Z"}, "message": "* sh.md (movqi_i+1): New peephole.\n\nFrom-SVN: r17463", "tree": {"sha": "fe66c12be9f3265edd068fc4feec7d040aaf29a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fe66c12be9f3265edd068fc4feec7d040aaf29a8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/deeef0aca040ffca437bb93dca7abfadbb9ad4c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/deeef0aca040ffca437bb93dca7abfadbb9ad4c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/deeef0aca040ffca437bb93dca7abfadbb9ad4c6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/deeef0aca040ffca437bb93dca7abfadbb9ad4c6/comments", "author": null, "committer": null, "parents": [{"sha": "26452249703104235007113c927f0ea91bec487c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26452249703104235007113c927f0ea91bec487c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26452249703104235007113c927f0ea91bec487c"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "35f953494d8800480a67595a9a427d152de0ca9e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deeef0aca040ffca437bb93dca7abfadbb9ad4c6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deeef0aca040ffca437bb93dca7abfadbb9ad4c6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=deeef0aca040ffca437bb93dca7abfadbb9ad4c6", "patch": "@@ -1,3 +1,7 @@\n+Fri Jan 23 23:28:59 1998  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* sh.md (movqi_i+1): New peephole.\n+\n Fri Jan 23 15:39:42 1998  Jim Wilson  <wilson@cygnus.com>\n \n \t* Makefile.in: Remove remaining bytecode stuff."}, {"sha": "3b367d8f6133c5ef1cf7461c7cc0803392b945d4", "filename": "gcc/config/sh/sh.md", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deeef0aca040ffca437bb93dca7abfadbb9ad4c6/gcc%2Fconfig%2Fsh%2Fsh.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deeef0aca040ffca437bb93dca7abfadbb9ad4c6/gcc%2Fconfig%2Fsh%2Fsh.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.md?ref=deeef0aca040ffca437bb93dca7abfadbb9ad4c6", "patch": "@@ -162,7 +162,7 @@\n ;; align them when relaxing.\n \n ;; Loads have a latency of two.\n-;; However, call insn can have ;; a delay slot, so that we want one more\n+;; However, call insns can have a delay slot, so that we want one more\n ;; insn to be scheduled between the load of the function address and the call.\n ;; This is equivalent to a latency of three.\n ;; We cannot use a conflict list for this, because we need to distinguish\n@@ -1885,6 +1885,18 @@\n \tlds\t%1,%0\"\n  [(set_attr \"type\" \"move,load,store,move,move,move\")])\n \n+;; For Big-endian, reload now sometimes generates something like\n+;; (insn 2107 2104 2099 (set (reg:QI 3 r3)\n+;;         (subreg:QI (mem:SI (reg:SI 0 r0)) 0)) -1 (nil)\n+;;     (nil))\n+;; To avoid clutter in the movqi pattern, we express this as a peephole.\n+\n+(define_peephole\n+  [(set (match_operand:QI 0 \"arith_reg_operand\" \"r\")\n+\t(subreg:QI (match_operand:SI 1 \"memory_operand\"  \"m\") 0))]\n+  \"\"\n+  \"mov.l\t%1,%0\")\n+\n (define_expand \"movqi\"\n   [(set (match_operand:QI 0 \"general_operand\" \"\")\n \t(match_operand:QI 1 \"general_operand\"  \"\"))]"}]}