{"sha": "dd4dc3cd02b36b757797e7b1eebc56e3a48aa2f9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGQ0ZGMzY2QwMmIzNmI3NTc3OTdlN2IxZWViYzU2ZTNhNDhhYTJmOQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2002-01-17T20:34:40Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2002-01-17T20:34:40Z"}, "message": "attribs.c (decl_attributes): Clear ATTR_FLAG_TYPE_IN_PLACE if type_required and passed decl.\n\n\t* attribs.c (decl_attributes): Clear ATTR_FLAG_TYPE_IN_PLACE\n\tif type_required and passed decl.\n\nFrom-SVN: r48964", "tree": {"sha": "3ea62dd698751e51407731d82ae73ecc7a4e1fcd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3ea62dd698751e51407731d82ae73ecc7a4e1fcd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd4dc3cd02b36b757797e7b1eebc56e3a48aa2f9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd4dc3cd02b36b757797e7b1eebc56e3a48aa2f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd4dc3cd02b36b757797e7b1eebc56e3a48aa2f9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd4dc3cd02b36b757797e7b1eebc56e3a48aa2f9/comments", "author": null, "committer": null, "parents": [{"sha": "5fb4cf24563b5753ff812634bfda611e15632025", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5fb4cf24563b5753ff812634bfda611e15632025", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5fb4cf24563b5753ff812634bfda611e15632025"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "9b5241971eddc11b809a367a24f4686da6e4b0bd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd4dc3cd02b36b757797e7b1eebc56e3a48aa2f9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd4dc3cd02b36b757797e7b1eebc56e3a48aa2f9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dd4dc3cd02b36b757797e7b1eebc56e3a48aa2f9", "patch": "@@ -1,3 +1,8 @@\n+Thu Jan 17 15:28:26 2002  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* attribs.c (decl_attributes): Clear ATTR_FLAG_TYPE_IN_PLACE\n+\tif type_required and passed decl.\n+\n 2002-01-17  Aldy Hernandez  <aldyh@redhat.com>\n \n         * config.gcc (cpu_type): Include altivec.h in powerpc"}, {"sha": "7cb11724f8326275e25facae75c62b1e189a6add", "filename": "gcc/attribs.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd4dc3cd02b36b757797e7b1eebc56e3a48aa2f9/gcc%2Fattribs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd4dc3cd02b36b757797e7b1eebc56e3a48aa2f9/gcc%2Fattribs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fattribs.c?ref=dd4dc3cd02b36b757797e7b1eebc56e3a48aa2f9", "patch": "@@ -338,8 +338,15 @@ decl_attributes (node, attributes, flags)\n \t    }\n \t}\n \n+      /* If we require a type, but were passed a decl, set up to make a\n+\t new type and update the one in the decl.  ATTR_FLAG_TYPE_IN_PLACE\n+\t would have applied if we'd been passed a type, but we cannot modify\n+\t the decl's type in place here.  */\n       if (spec->type_required && DECL_P (*anode))\n-\tanode = &TREE_TYPE (*anode);\n+\t{\n+\t  anode = &TREE_TYPE (*anode);\n+\t  flags &= ~(int) ATTR_FLAG_TYPE_IN_PLACE;\n+\t}\n \n       if (spec->function_type_required && TREE_CODE (*anode) != FUNCTION_TYPE\n \t  && TREE_CODE (*anode) != METHOD_TYPE)"}]}