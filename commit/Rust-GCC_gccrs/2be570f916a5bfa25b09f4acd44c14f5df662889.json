{"sha": "2be570f916a5bfa25b09f4acd44c14f5df662889", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmJlNTcwZjkxNmE1YmZhMjViMDlmNGFjZDQ0YzE0ZjVkZjY2Mjg4OQ==", "commit": {"author": {"name": "Per Bothner", "email": "per@bothner.com", "date": "2003-08-29T01:07:42Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "2003-08-29T01:07:42Z"}, "message": "Fix (hopefully temporary) for breakage caused by my 08-21 patch.\n\n\t* cpplex.c (_cpp_get_fresh_line):  Check for null buffer.\n\t(_cpp_lex_buffer):  Likewise.\n\t* cpptrad.c (_cpp_read_logical_line_trad):  Likewise.\n\nFrom-SVN: r70898", "tree": {"sha": "9442b173a19736f0540708f50520b30a3d617823", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9442b173a19736f0540708f50520b30a3d617823"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2be570f916a5bfa25b09f4acd44c14f5df662889", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2be570f916a5bfa25b09f4acd44c14f5df662889", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2be570f916a5bfa25b09f4acd44c14f5df662889", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2be570f916a5bfa25b09f4acd44c14f5df662889/comments", "author": {"login": "PerBothner", "id": 10293361, "node_id": "MDQ6VXNlcjEwMjkzMzYx", "avatar_url": "https://avatars.githubusercontent.com/u/10293361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PerBothner", "html_url": "https://github.com/PerBothner", "followers_url": "https://api.github.com/users/PerBothner/followers", "following_url": "https://api.github.com/users/PerBothner/following{/other_user}", "gists_url": "https://api.github.com/users/PerBothner/gists{/gist_id}", "starred_url": "https://api.github.com/users/PerBothner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PerBothner/subscriptions", "organizations_url": "https://api.github.com/users/PerBothner/orgs", "repos_url": "https://api.github.com/users/PerBothner/repos", "events_url": "https://api.github.com/users/PerBothner/events{/privacy}", "received_events_url": "https://api.github.com/users/PerBothner/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f1e77d8350a2f1264dea6e31eb3e8278a0598ef6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f1e77d8350a2f1264dea6e31eb3e8278a0598ef6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f1e77d8350a2f1264dea6e31eb3e8278a0598ef6"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "96c2954657a38d8b9904d4b2aa66c1f2f7ec96a4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2be570f916a5bfa25b09f4acd44c14f5df662889/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2be570f916a5bfa25b09f4acd44c14f5df662889/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2be570f916a5bfa25b09f4acd44c14f5df662889", "patch": "@@ -1,3 +1,10 @@\n+2003-08-28  Per Bothner  <per@bothner.com>\n+\n+\tFix (hopefully temporary) for breakage caused by my 08-21 patch.\n+\t* cpplex.c (_cpp_get_fresh_line):  Check for null buffer.\n+\t(_cpp_lex_buffer):  Likewise.\n+\t* cpptrad.c (_cpp_read_logical_line_trad):  Likewise.\n+\n 2003-08-28  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \t* config/s390/s390.md (\"*mulsi3_sign\"): New insn."}, {"sha": "f779dfb7bc2aac2c4c7e8cd8f7b09299466e4689", "filename": "gcc/cpplex.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2be570f916a5bfa25b09f4acd44c14f5df662889/gcc%2Fcpplex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2be570f916a5bfa25b09f4acd44c14f5df662889/gcc%2Fcpplex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpplex.c?ref=2be570f916a5bfa25b09f4acd44c14f5df662889", "patch": "@@ -694,6 +694,9 @@ _cpp_get_fresh_line (cpp_reader *pfile)\n     {\n       cpp_buffer *buffer = pfile->buffer;\n \n+      if (buffer == NULL)\n+\treturn false;\n+\n       if (!buffer->need_line)\n \treturn true;\n \n@@ -759,7 +762,8 @@ _cpp_lex_direct (cpp_reader *pfile)\n \n  fresh_line:\n   result->flags = 0;\n-  if (pfile->buffer->need_line)\n+  buffer = pfile->buffer;\n+  if (buffer == NULL || buffer->need_line)\n     {\n       if (!_cpp_get_fresh_line (pfile))\n \t{\n@@ -781,8 +785,8 @@ _cpp_lex_direct (cpp_reader *pfile)\n       result->flags = BOL;\n       if (pfile->state.parsing_args == 2)\n \tresult->flags |= PREV_WHITE;\n+      buffer = pfile->buffer;\n     }\n-  buffer = pfile->buffer;\n  update_tokens_line:\n   result->line = pfile->line;\n "}, {"sha": "3c1bc2545c26ecb0b17c2d94a1b34dbdfe716535", "filename": "gcc/cpptrad.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2be570f916a5bfa25b09f4acd44c14f5df662889/gcc%2Fcpptrad.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2be570f916a5bfa25b09f4acd44c14f5df662889/gcc%2Fcpptrad.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpptrad.c?ref=2be570f916a5bfa25b09f4acd44c14f5df662889", "patch": "@@ -299,7 +299,8 @@ _cpp_read_logical_line_trad (cpp_reader *pfile)\n {\n   do\n     {\n-      if (pfile->buffer->need_line && !_cpp_get_fresh_line (pfile))\n+      if ((pfile->buffer == NULL || pfile->buffer->need_line)\n+\t  && !_cpp_get_fresh_line (pfile))\n \treturn false;\n     }\n   while (!_cpp_scan_out_logical_line (pfile, NULL) || pfile->state.skipping);"}]}