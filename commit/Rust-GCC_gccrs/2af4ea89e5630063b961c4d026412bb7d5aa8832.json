{"sha": "2af4ea89e5630063b961c4d026412bb7d5aa8832", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmFmNGVhODllNTYzMDA2M2I5NjFjNGQwMjY0MTJiYjdkNWFhODgzMg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2014-01-16T19:15:46Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2014-01-16T19:15:46Z"}, "message": "re PR debug/54694 (internal compiler error: in dwarf2out_frame_debug_expr, at dwarf2out.c:2387)\n\n\tPR debug/54694\n\t* gcc.target/i386/pr9771-1.c (main): Rename to...\n\t(real_main): ... this.  Add __asm name \"main\".\n\t(ASMNAME, ASMNAME2, STRING): Define.\n\nFrom-SVN: r206679", "tree": {"sha": "d66a8149ead9cde238739a294f2a0fb1b04f8493", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d66a8149ead9cde238739a294f2a0fb1b04f8493"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2af4ea89e5630063b961c4d026412bb7d5aa8832", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2af4ea89e5630063b961c4d026412bb7d5aa8832", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2af4ea89e5630063b961c4d026412bb7d5aa8832", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2af4ea89e5630063b961c4d026412bb7d5aa8832/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e4e6a4af0b6dca48bb0d7207da651c5be4ff8256", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4e6a4af0b6dca48bb0d7207da651c5be4ff8256", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4e6a4af0b6dca48bb0d7207da651c5be4ff8256"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "b874c5756acb7d056c60aefe1b0391dc9573e050", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2af4ea89e5630063b961c4d026412bb7d5aa8832/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2af4ea89e5630063b961c4d026412bb7d5aa8832/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2af4ea89e5630063b961c4d026412bb7d5aa8832", "patch": "@@ -1,3 +1,10 @@\n+2014-01-16  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR debug/54694\n+\t* gcc.target/i386/pr9771-1.c (main): Rename to...\n+\t(real_main): ... this.  Add __asm name \"main\".\n+\t(ASMNAME, ASMNAME2, STRING): Define.\n+\n 2014-01-16  Nick Clifton  <nickc@redhat.com>\n \n \tPR middle-end/28865"}, {"sha": "9fa21ff0fa0d72b6b12c48c8ffff7c8c39eddc8a", "filename": "gcc/testsuite/gcc.target/i386/pr9771-1.c", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2af4ea89e5630063b961c4d026412bb7d5aa8832/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr9771-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2af4ea89e5630063b961c4d026412bb7d5aa8832/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr9771-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr9771-1.c?ref=2af4ea89e5630063b961c4d026412bb7d5aa8832", "patch": "@@ -45,7 +45,17 @@ void test(void)\n   exit(0);\n }\n \n-int main()\n+/* main usually performs dynamic realignment of the stack in case\n+   _start would fail to properly align the stack, but for dynamic\n+   stack realignment we need frame pointer which is incompatible\n+   with -ffixed-ebp and the global register var.  So, cheat here\n+   and hide from the compiler that main is really main.  */\n+#define ASMNAME(cname)  ASMNAME2 (__USER_LABEL_PREFIX__, cname)\n+#define ASMNAME2(prefix, cname) STRING (prefix) cname\n+#define STRING(x)    #x\n+int real_main() __asm (ASMNAME (\"main\"));\n+\n+int real_main()\n {\n   test();\n   return 0;"}]}