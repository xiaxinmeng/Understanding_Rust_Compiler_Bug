{"sha": "c0d2229e9019c2a06b2a539680b5ad720b5a3760", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzBkMjIyOWU5MDE5YzJhMDZiMmE1Mzk2ODBiNWFkNzIwYjVhMzc2MA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "2000-01-05T10:10:53Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2000-01-05T10:10:53Z"}, "message": "typeck.c (build_static_cast): Don't strip target qualifiers when casting from a class.\n\n\t* typeck.c (build_static_cast): Don't strip target qualifiers\n\twhen casting from a class.\n\nFrom-SVN: r31236", "tree": {"sha": "cac4bc97439c22cafdac74a594c47bca72d5f974", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cac4bc97439c22cafdac74a594c47bca72d5f974"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c0d2229e9019c2a06b2a539680b5ad720b5a3760", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0d2229e9019c2a06b2a539680b5ad720b5a3760", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c0d2229e9019c2a06b2a539680b5ad720b5a3760", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0d2229e9019c2a06b2a539680b5ad720b5a3760/comments", "author": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5ed75fe4f4789933b8732fba19635ac99ff17c24", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ed75fe4f4789933b8732fba19635ac99ff17c24", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ed75fe4f4789933b8732fba19635ac99ff17c24"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "0870e94fbde9f9d4c2227ade2fdc770da973478e", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0d2229e9019c2a06b2a539680b5ad720b5a3760/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0d2229e9019c2a06b2a539680b5ad720b5a3760/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c0d2229e9019c2a06b2a539680b5ad720b5a3760", "patch": "@@ -1,3 +1,8 @@\n+2000-01-05  Nathan Sidwell  <nathan@acm.org>\n+\n+\t* typeck.c (build_static_cast): Don't strip target qualifiers\n+\twhen casting from a class.\n+\n 2000-01-04  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* class.c (warn_hidden): Initialize variable `fndecl'."}, {"sha": "b9d5cd27b7eb37dd3e9a4b390e701a5e5d33e5a2", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0d2229e9019c2a06b2a539680b5ad720b5a3760/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0d2229e9019c2a06b2a539680b5ad720b5a3760/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=c0d2229e9019c2a06b2a539680b5ad720b5a3760", "patch": "@@ -1,5 +1,5 @@\n /* Build expressions with type checking for C++ compiler.\n-   Copyright (C) 1987, 88, 89, 92-98, 1999 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 88, 89, 92-99, 2000 Free Software Foundation, Inc.\n    Hacked by Michael Tiemann (tiemann@cygnus.com)\n \n This file is part of GNU CC.\n@@ -5183,8 +5183,10 @@ build_static_cast (type, expr)\n   /* FIXME handle casting to array type.  */\n \n   ok = 0;\n-  if (can_convert_arg (strip_all_pointer_quals (type),\n-                       strip_all_pointer_quals (intype), expr))\n+  if (IS_AGGR_TYPE (intype)\n+      ? can_convert_arg (type, intype, expr)\n+      : can_convert_arg (strip_all_pointer_quals (type),\n+                         strip_all_pointer_quals (intype), expr))\n     ok = 1;\n   else if (TYPE_PTROB_P (type) && TYPE_PTROB_P (intype))\n     {"}]}