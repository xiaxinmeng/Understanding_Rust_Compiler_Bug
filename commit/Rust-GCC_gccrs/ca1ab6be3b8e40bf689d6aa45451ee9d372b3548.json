{"sha": "ca1ab6be3b8e40bf689d6aa45451ee9d372b3548", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2ExYWI2YmUzYjhlNDBiZjY4OWQ2YWE0NTQ1MWVlOWQzNzJiMzU0OA==", "commit": {"author": {"name": "Ville Voutilainen", "email": "ville.voutilainen@gmail.com", "date": "2016-08-11T14:51:47Z"}, "committer": {"name": "Ville Voutilainen", "email": "ville@gcc.gnu.org", "date": "2016-08-11T14:51:47Z"}, "message": "Implement C++17 make_from_tuple.\n\n\t* include/std/tuple (__make_from_tuple_impl, make_from_tuple): New.\n\t* testsuite/20_util/tuple/make_from_tuple/1.cc: Likewise.\n\nFrom-SVN: r239372", "tree": {"sha": "d89f1b988de1ae99be8c030bf4b0b0cb5fd37b94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d89f1b988de1ae99be8c030bf4b0b0cb5fd37b94"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca1ab6be3b8e40bf689d6aa45451ee9d372b3548", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca1ab6be3b8e40bf689d6aa45451ee9d372b3548", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca1ab6be3b8e40bf689d6aa45451ee9d372b3548", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca1ab6be3b8e40bf689d6aa45451ee9d372b3548/comments", "author": {"login": "villevoutilainen", "id": 963599, "node_id": "MDQ6VXNlcjk2MzU5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/963599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/villevoutilainen", "html_url": "https://github.com/villevoutilainen", "followers_url": "https://api.github.com/users/villevoutilainen/followers", "following_url": "https://api.github.com/users/villevoutilainen/following{/other_user}", "gists_url": "https://api.github.com/users/villevoutilainen/gists{/gist_id}", "starred_url": "https://api.github.com/users/villevoutilainen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/villevoutilainen/subscriptions", "organizations_url": "https://api.github.com/users/villevoutilainen/orgs", "repos_url": "https://api.github.com/users/villevoutilainen/repos", "events_url": "https://api.github.com/users/villevoutilainen/events{/privacy}", "received_events_url": "https://api.github.com/users/villevoutilainen/received_events", "type": "User", "site_admin": false}, "committer": {"login": "villevoutilainen", "id": 963599, "node_id": "MDQ6VXNlcjk2MzU5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/963599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/villevoutilainen", "html_url": "https://github.com/villevoutilainen", "followers_url": "https://api.github.com/users/villevoutilainen/followers", "following_url": "https://api.github.com/users/villevoutilainen/following{/other_user}", "gists_url": "https://api.github.com/users/villevoutilainen/gists{/gist_id}", "starred_url": "https://api.github.com/users/villevoutilainen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/villevoutilainen/subscriptions", "organizations_url": "https://api.github.com/users/villevoutilainen/orgs", "repos_url": "https://api.github.com/users/villevoutilainen/repos", "events_url": "https://api.github.com/users/villevoutilainen/events{/privacy}", "received_events_url": "https://api.github.com/users/villevoutilainen/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b95a64bb005dd197e19df5b67b98a5e5dbdb6f8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b95a64bb005dd197e19df5b67b98a5e5dbdb6f8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b95a64bb005dd197e19df5b67b98a5e5dbdb6f8b"}], "stats": {"total": 74, "additions": 74, "deletions": 0}, "files": [{"sha": "446e8bac71b0712bb4d4e291b0d4962cce1f1823", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca1ab6be3b8e40bf689d6aa45451ee9d372b3548/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca1ab6be3b8e40bf689d6aa45451ee9d372b3548/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=ca1ab6be3b8e40bf689d6aa45451ee9d372b3548", "patch": "@@ -1,3 +1,9 @@\n+2016-08-11  Ville Voutilainen  <ville.voutilainen@gmail.com>\n+\n+\tImplement C++17 make_from_tuple.\n+\t* include/std/tuple (__make_from_tuple_impl, make_from_tuple): New.\n+\t* testsuite/20_util/tuple/make_from_tuple/1.cc: Likewise.\n+\n 2016-08-11  Ville Voutilainen  <ville.voutilainen@gmail.com>\n \n \tImplement LWG 2758."}, {"sha": "340304853bdc3506c32f3d754c288117e798b1c8", "filename": "libstdc++-v3/include/std/tuple", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca1ab6be3b8e40bf689d6aa45451ee9d372b3548/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftuple", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca1ab6be3b8e40bf689d6aa45451ee9d372b3548/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftuple", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftuple?ref=ca1ab6be3b8e40bf689d6aa45451ee9d372b3548", "patch": "@@ -1655,6 +1655,20 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       return __apply_impl(std::forward<_Fn>(__f), std::forward<_Tuple>(__t),\n \t\t\t  _Indices{});\n     }\n+\n+  template <typename _Tp, typename _Tuple, size_t... _Idx>\n+    constexpr _Tp\n+    __make_from_tuple_impl(_Tuple&& __t, index_sequence<_Idx...>)\n+    { return _Tp(get<_Idx>(std::forward<_Tuple>(__t))...); }\n+\n+  template <typename _Tp, typename _Tuple>\n+    constexpr _Tp\n+    make_from_tuple(_Tuple&& __t)\n+    {\n+      return __make_from_tuple_impl<_Tp>(\n+        std::forward<_Tuple>(__t),\n+\tmake_index_sequence<tuple_size_v<decay_t<_Tuple>>>{});\n+    }\n #endif // C++17\n \n   /// @}"}, {"sha": "459dc74cd044339f9b5be00707d9ce089a6b6dc6", "filename": "libstdc++-v3/testsuite/20_util/tuple/make_from_tuple/1.cc", "status": "added", "additions": 54, "deletions": 0, "changes": 54, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca1ab6be3b8e40bf689d6aa45451ee9d372b3548/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ftuple%2Fmake_from_tuple%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca1ab6be3b8e40bf689d6aa45451ee9d372b3548/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ftuple%2Fmake_from_tuple%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ftuple%2Fmake_from_tuple%2F1.cc?ref=ca1ab6be3b8e40bf689d6aa45451ee9d372b3548", "patch": "@@ -0,0 +1,54 @@\n+// Copyright (C) 2016 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 3, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING3.  If not see\n+// <http://www.gnu.org/licenses/>.\n+\n+// { dg-options \"-std=gnu++17\" }\n+\n+#include <tuple>\n+#include <testsuite_hooks.h>\n+\n+template <class T, class U, class V>\n+struct ThreeParam\n+{\n+  T t;\n+  U u;\n+  V v;\n+  ThreeParam(const T& t, const U& u, const V& v)\n+    : t(t),\n+      u(u),\n+      v(v) {}\n+};\n+\n+void\n+test01()\n+{\n+  auto x = std::make_tuple(1024, 'x', 2048);\n+  ThreeParam<int, char, int> y\n+    = std::make_from_tuple<ThreeParam<int, char, int>>(x);\n+  VERIFY(y.t == 1024 && y.u == 'x' && y.v == 2048);\n+  auto x2 = std::make_tuple(4096, 'z');\n+  std::pair<int, char> z = std::make_from_tuple<std::pair<int, char>>(x2);\n+  VERIFY(z.first == 4096 && z.second == 'z');\n+  auto x3 = std::make_tuple(8192);\n+  int i = std::make_from_tuple<int>(x3);\n+  VERIFY(i == 8192);\n+}\n+\n+int\n+main()\n+{\n+  test01();\n+}"}]}