{"sha": "b9a26d0920dd12f8595a1f193c7db2045f9eb7d0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjlhMjZkMDkyMGRkMTJmODU5NWExZjE5M2M3ZGIyMDQ1ZjllYjdkMA==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2002-04-25T18:55:48Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2002-04-25T18:55:48Z"}, "message": "integrate.c (function_attribute_inlinable_p): Simplify.\n\n\t* integrate.c (function_attribute_inlinable_p): Simplify.\n\tCheck the table pointer is not NULL.\n\nFrom-SVN: r52763", "tree": {"sha": "146fb93e9c2389f218e815629c9edeb0749bec52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/146fb93e9c2389f218e815629c9edeb0749bec52"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b9a26d0920dd12f8595a1f193c7db2045f9eb7d0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9a26d0920dd12f8595a1f193c7db2045f9eb7d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b9a26d0920dd12f8595a1f193c7db2045f9eb7d0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9a26d0920dd12f8595a1f193c7db2045f9eb7d0/comments", "author": null, "committer": null, "parents": [{"sha": "bf882c20d7bdbcf6d7f277bd344bab2cb881dc21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf882c20d7bdbcf6d7f277bd344bab2cb881dc21", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf882c20d7bdbcf6d7f277bd344bab2cb881dc21"}], "stats": {"total": 33, "additions": 15, "deletions": 18}, "files": [{"sha": "77741da95b330915d3c47a21ed7b7c890c751987", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b9a26d0920dd12f8595a1f193c7db2045f9eb7d0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b9a26d0920dd12f8595a1f193c7db2045f9eb7d0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b9a26d0920dd12f8595a1f193c7db2045f9eb7d0", "patch": "@@ -1,3 +1,8 @@\n+2002-04-25  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\t* integrate.c (function_attribute_inlinable_p): Simplify.\n+\tCheck the table pointer is not NULL.\n+\n 2002-04-25  Steven Bosscher  <S.Bosscher@student.tudelft.nl>\n \n \t* doc/c-tree.texi: Fix typo in introduction."}, {"sha": "66be25bd6836625236f00d72fe4649ddd447f6b5", "filename": "gcc/integrate.c", "status": "modified", "additions": 10, "deletions": 18, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b9a26d0920dd12f8595a1f193c7db2045f9eb7d0/gcc%2Fintegrate.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b9a26d0920dd12f8595a1f193c7db2045f9eb7d0/gcc%2Fintegrate.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintegrate.c?ref=b9a26d0920dd12f8595a1f193c7db2045f9eb7d0", "patch": "@@ -132,30 +132,22 @@ bool\n function_attribute_inlinable_p (fndecl)\n      tree fndecl;\n {\n-  bool has_machine_attr = false;\n-  tree a;\n-\n-  for (a = DECL_ATTRIBUTES (fndecl); a; a = TREE_CHAIN (a))\n+  if (targetm.attribute_table)\n     {\n-      tree name = TREE_PURPOSE (a);\n-      int i;\n+      tree a;\n \n-      for (i = 0; targetm.attribute_table[i].name != NULL; i++)\n+      for (a = DECL_ATTRIBUTES (fndecl); a; a = TREE_CHAIN (a))\n \t{\n-\t  if (is_attribute_p (targetm.attribute_table[i].name, name))\n-\t    {\n-\t      has_machine_attr = true;\n-\t      break;\n-\t    }\n+\t  tree name = TREE_PURPOSE (a);\n+\t  int i;\n+\n+\t  for (i = 0; targetm.attribute_table[i].name != NULL; i++)\n+\t    if (is_attribute_p (targetm.attribute_table[i].name, name))\n+\t      return (*targetm.function_attribute_inlinable_p) (fndecl);\n \t}\n-      if (has_machine_attr)\n-\tbreak;\n     }\n \n-  if (has_machine_attr)\n-    return (*targetm.function_attribute_inlinable_p) (fndecl);\n-  else\n-    return true;\n+  return true;\n }\n \n /* Zero if the current function (whose FUNCTION_DECL is FNDECL)"}]}