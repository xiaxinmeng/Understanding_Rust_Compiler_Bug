{"sha": "4b9726d48cc7eea7e51b51e00e3720104cd2774f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGI5NzI2ZDQ4Y2M3ZWVhN2U1MWI1MWUwMGUzNzIwMTA0Y2QyNzc0Zg==", "commit": {"author": {"name": "Jim Meyering", "email": "meyering@redhat.com", "date": "2011-04-10T18:13:23Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2011-04-10T18:13:23Z"}, "message": "Avoid memory overrun in a test leading to potential double-free.\n\n2011-04-10  Jim Meyering  <meyering@redhat.com>\n\n\t    Avoid memory overrun in a test leading to potential double-free.\n\t    * testsuite/test-expandargv.c (writeout_test): Fix off-by-one error:\n\t    i.e., do copy the trailing NUL byte.\n\nFrom-SVN: r172246", "tree": {"sha": "84923574d7148244e7ef13407257998dade20efe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/84923574d7148244e7ef13407257998dade20efe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4b9726d48cc7eea7e51b51e00e3720104cd2774f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b9726d48cc7eea7e51b51e00e3720104cd2774f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4b9726d48cc7eea7e51b51e00e3720104cd2774f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b9726d48cc7eea7e51b51e00e3720104cd2774f/comments", "author": null, "committer": null, "parents": [{"sha": "5b2d2d52fe20551875570ae70eedc99914981d37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b2d2d52fe20551875570ae70eedc99914981d37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b2d2d52fe20551875570ae70eedc99914981d37"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "a15ffa59d2891af788597a9f561d242333f0357b", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b9726d48cc7eea7e51b51e00e3720104cd2774f/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b9726d48cc7eea7e51b51e00e3720104cd2774f/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=4b9726d48cc7eea7e51b51e00e3720104cd2774f", "patch": "@@ -1,3 +1,9 @@\n+2011-04-10  Jim Meyering  <meyering@redhat.com>\n+\n+\tAvoid memory overrun in a test leading to potential double-free.\n+\t* testsuite/test-expandargv.c (writeout_test): Fix off-by-one error:\n+\ti.e., do copy the trailing NUL byte.\n+\n 2011-03-31  Tristan Gingold  <gingold@adacore.com>\n \n \t* makefile.vms (OBJS): Add filename_cmp.obj"}, {"sha": "57b96b3ff9773ec4c53df925d77b29740ec7a946", "filename": "libiberty/testsuite/test-expandargv.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b9726d48cc7eea7e51b51e00e3720104cd2774f/libiberty%2Ftestsuite%2Ftest-expandargv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b9726d48cc7eea7e51b51e00e3720104cd2774f/libiberty%2Ftestsuite%2Ftest-expandargv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Ftestsuite%2Ftest-expandargv.c?ref=4b9726d48cc7eea7e51b51e00e3720104cd2774f", "patch": "@@ -204,7 +204,7 @@ writeout_test (int test, const char * test_data)\n   if (parse == NULL)\n     fatal_error (__LINE__, \"Failed to malloc parse.\", errno);\n       \n-  memcpy (parse, test_data, sizeof (char) * len);\n+  memcpy (parse, test_data, sizeof (char) * (len + 1));\n   /* Run all possible replaces */\n   run_replaces (parse);\n "}]}