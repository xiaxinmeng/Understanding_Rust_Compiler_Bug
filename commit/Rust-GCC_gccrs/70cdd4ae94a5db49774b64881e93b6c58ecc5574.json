{"sha": "70cdd4ae94a5db49774b64881e93b6c58ecc5574", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzBjZGQ0YWU5NGE1ZGI0OTc3NGI2NDg4MWU5M2I2YzU4ZWNjNTU3NA==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-07-08T04:36:16Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-07-08T04:36:16Z"}, "message": "re PR fortran/71764 (ICE in gfc_trans_structure_assign)\n\n2016-07-07  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR fortran/71764\n\t* trans-expr.c (gfc_trans_structure_assign): Remove assert.\n\n\t* gfortran.dg/pr71764.f90: New test.\n\nFrom-SVN: r238156", "tree": {"sha": "69ed39c6e9db1b7838a6cfc6e2a28a045aa1e84a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/69ed39c6e9db1b7838a6cfc6e2a28a045aa1e84a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/70cdd4ae94a5db49774b64881e93b6c58ecc5574", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70cdd4ae94a5db49774b64881e93b6c58ecc5574", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70cdd4ae94a5db49774b64881e93b6c58ecc5574", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70cdd4ae94a5db49774b64881e93b6c58ecc5574/comments", "author": null, "committer": null, "parents": [{"sha": "cb0044dd6bf4388710f5e1e2f0d55793af146a87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb0044dd6bf4388710f5e1e2f0d55793af146a87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb0044dd6bf4388710f5e1e2f0d55793af146a87"}], "stats": {"total": 45, "additions": 44, "deletions": 1}, "files": [{"sha": "afd9f061baac4f3591cb032539742a86bfd9b217", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70cdd4ae94a5db49774b64881e93b6c58ecc5574/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70cdd4ae94a5db49774b64881e93b6c58ecc5574/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=70cdd4ae94a5db49774b64881e93b6c58ecc5574", "patch": "@@ -1,3 +1,8 @@\n+2016-07-07  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/71764\n+\t* trans-expr.c (gfc_trans_structure_assign): Remove assert.\n+\n 2016-07-07  Martin Liska  <mliska@suse.cz>\n \n \t* lang.opt (Wundefined-do-loop): New option."}, {"sha": "4321850b59d1de0c6ef36f0eb912880b12a0c073", "filename": "gcc/fortran/trans-expr.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70cdd4ae94a5db49774b64881e93b6c58ecc5574/gcc%2Ffortran%2Ftrans-expr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70cdd4ae94a5db49774b64881e93b6c58ecc5574/gcc%2Ffortran%2Ftrans-expr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-expr.c?ref=70cdd4ae94a5db49774b64881e93b6c58ecc5574", "patch": "@@ -7358,7 +7358,6 @@ gfc_trans_structure_assign (tree dest, gfc_expr * expr, bool init)\n     {\n       gfc_se se, lse;\n \n-      gcc_assert (cm->backend_decl == NULL);\n       gfc_init_se (&se, NULL);\n       gfc_init_se (&lse, NULL);\n       gfc_conv_expr (&se, gfc_constructor_first (expr->value.constructor)->expr);"}, {"sha": "22a4a5888030f978b2623ca976f8600e54075324", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70cdd4ae94a5db49774b64881e93b6c58ecc5574/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70cdd4ae94a5db49774b64881e93b6c58ecc5574/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=70cdd4ae94a5db49774b64881e93b6c58ecc5574", "patch": "@@ -1,3 +1,8 @@\n+2016-07-07  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/71764\n+\t* gfortran.dg/pr71764.f90: New test.\n+\n 2016-07-07  Jakub Jelinek  <jakub@redhat.com>\n \t    Kai Tietz  <ktietz70@googlemail.com>\n "}, {"sha": "48176f8297e48769e50dc445f7eee8c837358db2", "filename": "gcc/testsuite/gfortran.dg/pr71764.f90", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70cdd4ae94a5db49774b64881e93b6c58ecc5574/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr71764.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70cdd4ae94a5db49774b64881e93b6c58ecc5574/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr71764.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr71764.f90?ref=70cdd4ae94a5db49774b64881e93b6c58ecc5574", "patch": "@@ -0,0 +1,34 @@\n+! { dg-do run }\n+! PR71764 \n+program p\n+   use iso_c_binding, only: c_ptr, c_null_ptr, c_ptr, c_associated, c_loc\n+   logical, target :: rls\n+   real, target :: t = 3.14\n+   type(c_ptr) :: nullptr,c\n+   real, pointer :: k\n+   nullptr = c_null_ptr\n+   c = nullptr\n+   rls = c_associated(c)\n+   if (rls) call abort\n+   if (c_associated(c)) call abort\n+   c = c_loc(rls)\n+   if (.not. c_associated(c)) call abort\n+   c = nullptr\n+   if (c_associated(c)) call abort\n+   c = c_loc(t)\n+   k => t\n+   call association_test(k, c)\n+contains\n+  subroutine association_test(a,b)\n+    use iso_c_binding, only: c_associated, c_loc, c_ptr\n+    implicit none\n+    real, pointer :: a\n+    type(c_ptr) :: b\n+    if(c_associated(b, c_loc(a))) then\n+       return\n+    else\n+       call abort\n+    end if\n+  end subroutine association_test\n+end\n+"}]}