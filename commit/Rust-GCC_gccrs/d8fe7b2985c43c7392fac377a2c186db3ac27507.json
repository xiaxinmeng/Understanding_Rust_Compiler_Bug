{"sha": "d8fe7b2985c43c7392fac377a2c186db3ac27507", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDhmZTdiMjk4NWM0M2M3MzkyZmFjMzc3YTJjMTg2ZGIzYWMyNzUwNw==", "commit": {"author": {"name": "Daniel Jacobowitz", "email": "drow@mvista.com", "date": "2004-04-23T14:33:36Z"}, "committer": {"name": "Daniel Jacobowitz", "email": "drow@gcc.gnu.org", "date": "2004-04-23T14:33:36Z"}, "message": "PR libstdc++/15047, libstdc++/11610\n\n\tPR libstdc++/15047, libstdc++/11610\n\t* testsuite/lib/libstdc++.exp (v3-copy-files): Use remote_download.\n\t(libstdc++_init): Don't pass outdir to v3-copy-files.\n\nFrom-SVN: r81094", "tree": {"sha": "d59300a646bf19c8f5676df41f142fd49436682f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d59300a646bf19c8f5676df41f142fd49436682f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d8fe7b2985c43c7392fac377a2c186db3ac27507", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8fe7b2985c43c7392fac377a2c186db3ac27507", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8fe7b2985c43c7392fac377a2c186db3ac27507", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8fe7b2985c43c7392fac377a2c186db3ac27507/comments", "author": null, "committer": null, "parents": [{"sha": "01d4c813e84d813bcc5ac0b4acafe2eb382fdef4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01d4c813e84d813bcc5ac0b4acafe2eb382fdef4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01d4c813e84d813bcc5ac0b4acafe2eb382fdef4"}], "stats": {"total": 20, "additions": 13, "deletions": 7}, "files": [{"sha": "ea13da29f21f8f0f66d8e953c09d5a83c6ea3df4", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8fe7b2985c43c7392fac377a2c186db3ac27507/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8fe7b2985c43c7392fac377a2c186db3ac27507/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=d8fe7b2985c43c7392fac377a2c186db3ac27507", "patch": "@@ -1,3 +1,9 @@\n+2004-04-23  Daniel Jacobowitz  <drow@mvista.com>\n+\n+\tPR libstdc++/15047, libstdc++/11610\n+\t* testsuite/lib/libstdc++.exp (v3-copy-files): Use remote_download.\n+\t(libstdc++_init): Don't pass outdir to v3-copy-files.\n+\n 2004-04-21  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/bits/deque.tcc: Trivial formatting fixes."}, {"sha": "4e0d86df74a00c0c2b02f0095e163cb60da8866e", "filename": "libstdc++-v3/testsuite/lib/libstdc++.exp", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8fe7b2985c43c7392fac377a2c186db3ac27507/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8fe7b2985c43c7392fac377a2c186db3ac27507/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp?ref=d8fe7b2985c43c7392fac377a2c186db3ac27507", "patch": "@@ -59,16 +59,16 @@ proc v3track { var n } {\n }\n \n # Called by v3-init below.  \"Static\" to this file.\n-proc v3-copy-files {srcfiles dstdir} {\n+proc v3-copy-files {srcfiles} {\n     foreach f $srcfiles {\n         if { [catch { set symlink [file readlink $f] } x] } then {\n-            file copy -force $f $dstdir\n+\t    remote_download target $f\n         } else {\n             if { [regexp \"^/\" \"$symlink\"] } then {\n-                file copy -force $symlink $dstdir\n+\t\tremote_download target $symlink\n             } else {\n                 set dirname [file dirname $f]\n-                file copy -force $dirname/$symlink $dstdir\n+\t\tremote_download target $dirname/$symlink\n             }\n         }\n     }\n@@ -77,7 +77,7 @@ proc v3-copy-files {srcfiles dstdir} {\n # Called once, during runtest.exp setup.\n proc libstdc++_init { testfile } {\n     global env\n-    global srcdir outdir blddir objdir tool_root_dir\n+    global srcdir blddir objdir tool_root_dir\n     global cxx cxxflags\n     global includes\n     global gluefile wrap_flags\n@@ -116,8 +116,8 @@ proc libstdc++_init { testfile } {\n     set dg-do-what-default run\n \n     # Copy any required data files.\n-    v3-copy-files [glob -nocomplain \"$srcdir/data/*.tst\"] $outdir\n-    v3-copy-files [glob -nocomplain \"$srcdir/data/*.txt\"] $outdir\n+    v3-copy-files [glob -nocomplain \"$srcdir/data/*.tst\"]\n+    v3-copy-files [glob -nocomplain \"$srcdir/data/*.txt\"]\n \n     # Setup LD_LIBRARY_PATH so that libgcc_s, libstdc++ binaries can be found.\n     # Find the existing LD_LIBRARY_PATH."}]}