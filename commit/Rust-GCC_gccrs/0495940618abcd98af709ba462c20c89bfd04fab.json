{"sha": "0495940618abcd98af709ba462c20c89bfd04fab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDQ5NTk0MDYxOGFiY2Q5OGFmNzA5YmE0NjJjMjBjODliZmQwNGZhYg==", "commit": {"author": {"name": "Steve Ellcey", "email": "sellcey@cavium.com", "date": "2017-11-17T22:44:32Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2017-11-17T22:44:32Z"}, "message": "re PR target/81356 (__builtin_strcpy is not good for copying an empty string on aarch64)\n\n2017-11-17  Steve Ellcey  <sellcey@cavium.com>\n\n\tPR target/81356\n\t* config/aarch64/aarch64.c (aarch64_use_by_pieces_infrastructure_p):\n\tRemove.\n\t(TARGET_USE_BY_PIECES_INFRASTRUCTURE_P): Remove define.\n\nFrom-SVN: r254901", "tree": {"sha": "ea4f9649febb03c09335d23030c23777e142775b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea4f9649febb03c09335d23030c23777e142775b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0495940618abcd98af709ba462c20c89bfd04fab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0495940618abcd98af709ba462c20c89bfd04fab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0495940618abcd98af709ba462c20c89bfd04fab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0495940618abcd98af709ba462c20c89bfd04fab/comments", "author": {"login": "sellcey", "id": 25938520, "node_id": "MDQ6VXNlcjI1OTM4NTIw", "avatar_url": "https://avatars.githubusercontent.com/u/25938520?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sellcey", "html_url": "https://github.com/sellcey", "followers_url": "https://api.github.com/users/sellcey/followers", "following_url": "https://api.github.com/users/sellcey/following{/other_user}", "gists_url": "https://api.github.com/users/sellcey/gists{/gist_id}", "starred_url": "https://api.github.com/users/sellcey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sellcey/subscriptions", "organizations_url": "https://api.github.com/users/sellcey/orgs", "repos_url": "https://api.github.com/users/sellcey/repos", "events_url": "https://api.github.com/users/sellcey/events{/privacy}", "received_events_url": "https://api.github.com/users/sellcey/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "abccc074bb741574b00b078277b711194310c497", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abccc074bb741574b00b078277b711194310c497", "html_url": "https://github.com/Rust-GCC/gccrs/commit/abccc074bb741574b00b078277b711194310c497"}], "stats": {"total": 27, "additions": 7, "deletions": 20}, "files": [{"sha": "ad478a3c4dcd0e7ec7fb54d07a98091bc325db7a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0495940618abcd98af709ba462c20c89bfd04fab/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0495940618abcd98af709ba462c20c89bfd04fab/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0495940618abcd98af709ba462c20c89bfd04fab", "patch": "@@ -1,3 +1,10 @@\n+2017-11-17  Steve Ellcey  <sellcey@cavium.com>\n+\n+\tPR target/81356\n+\t* config/aarch64/aarch64.c (aarch64_use_by_pieces_infrastructure_p):\n+\tRemove.\n+\t(TARGET_USE_BY_PIECES_INFRASTRUCTURE_P): Remove define.\n+\n 2017-11-17  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config/gnu-user.h (GNU_USER_TARGET_STARTFILE_SPEC): Use"}, {"sha": "5bd99f894a0c9a0d6fa1d0e219710edff3e82c7d", "filename": "gcc/config/aarch64/aarch64.c", "status": "modified", "additions": 0, "deletions": 20, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0495940618abcd98af709ba462c20c89bfd04fab/gcc%2Fconfig%2Faarch64%2Faarch64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0495940618abcd98af709ba462c20c89bfd04fab/gcc%2Fconfig%2Faarch64%2Faarch64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.c?ref=0495940618abcd98af709ba462c20c89bfd04fab", "patch": "@@ -13948,22 +13948,6 @@ aarch64_asan_shadow_offset (void)\n   return (HOST_WIDE_INT_1 << 36);\n }\n \n-static bool\n-aarch64_use_by_pieces_infrastructure_p (unsigned HOST_WIDE_INT size,\n-\t\t\t\t\tunsigned int align,\n-\t\t\t\t\tenum by_pieces_operation op,\n-\t\t\t\t\tbool speed_p)\n-{\n-  /* STORE_BY_PIECES can be used when copying a constant string, but\n-     in that case each 64-bit chunk takes 5 insns instead of 2 (LDR/STR).\n-     For now we always fail this and let the move_by_pieces code copy\n-     the string from read-only memory.  */\n-  if (op == STORE_BY_PIECES)\n-    return false;\n-\n-  return default_use_by_pieces_infrastructure_p (size, align, op, speed_p);\n-}\n-\n static rtx\n aarch64_gen_ccmp_first (rtx_insn **prep_seq, rtx_insn **gen_seq,\n \t\t\tint code, tree treeop0, tree treeop1)\n@@ -15458,10 +15442,6 @@ aarch64_libgcc_floating_mode_supported_p\n #undef TARGET_LEGITIMIZE_ADDRESS\n #define TARGET_LEGITIMIZE_ADDRESS aarch64_legitimize_address\n \n-#undef TARGET_USE_BY_PIECES_INFRASTRUCTURE_P\n-#define TARGET_USE_BY_PIECES_INFRASTRUCTURE_P \\\n-  aarch64_use_by_pieces_infrastructure_p\n-\n #undef TARGET_SCHED_CAN_SPECULATE_INSN\n #define TARGET_SCHED_CAN_SPECULATE_INSN aarch64_sched_can_speculate_insn\n "}]}