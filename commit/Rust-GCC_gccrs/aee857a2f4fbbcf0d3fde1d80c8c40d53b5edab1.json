{"sha": "aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWVlODU3YTJmNGZiYmNmMGQzZmRlMWQ4MGM4YzQwZDUzYjVlZGFiMQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2008-10-07T18:45:56Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2008-10-07T18:45:56Z"}, "message": "re PR middle-end/37731 (long long may not work correctly on 32bit host)\n\ngcc/\n\n2008-10-07  H.J. Lu  <hongjiu.lu@intel.com>\n\n\tPR middle-end/37731\n\t* expmed.c (expand_mult): Properly check DImode constant in\n\tCONST_DOUBLE.\n\ngcc/testsuite/\n\n2008-10-07  H.J. Lu  <hongjiu.lu@intel.com>\n\n\tPR middle-end/37731\n\t* gcc.dg/torture/pr37731-1.c: New.\n\t* gcc.dg/torture/pr37731-2.c: Likewise.\n\nFrom-SVN: r140947", "tree": {"sha": "f586d335f31ec62e37bfd7708d7eb8de993cf531", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f586d335f31ec62e37bfd7708d7eb8de993cf531"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c7c79a09d6abdcfe54b67c54374ca538665152c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7c79a09d6abdcfe54b67c54374ca538665152c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7c79a09d6abdcfe54b67c54374ca538665152c5"}], "stats": {"total": 49, "additions": 48, "deletions": 1}, "files": [{"sha": "18911a224f4a32323a7a8a4d33e9f749d90e55b8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1", "patch": "@@ -1,3 +1,9 @@\n+2008-10-07  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR middle-end/37731\n+\t* expmed.c (expand_mult): Properly check DImode constant in\n+\tCONST_DOUBLE.\n+\n 2008-10-07  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR debug/37738"}, {"sha": "5e8d7f30324ed814d9928bba6b6ae4138e9bb59a", "filename": "gcc/expmed.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1/gcc%2Fexpmed.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1/gcc%2Fexpmed.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpmed.c?ref=aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1", "patch": "@@ -3075,7 +3075,8 @@ expand_mult (enum machine_mode mode, rtx op0, rtx op1, rtx target,\n \t{\n \t  /* If we are multiplying in DImode, it may still be a win\n \t     to try to work with shifts and adds.  */\n-\t  if (CONST_DOUBLE_HIGH (op1) == 0)\n+\t  if (CONST_DOUBLE_HIGH (op1) == 0\n+\t      && CONST_DOUBLE_LOW (op1) > 0)\n \t    coeff = CONST_DOUBLE_LOW (op1);\n \t  else if (CONST_DOUBLE_LOW (op1) == 0\n \t\t   && EXACT_POWER_OF_2_OR_ZERO_P (CONST_DOUBLE_HIGH (op1)))"}, {"sha": "b33a77a0658e59667e7bf0a4561341c0e7ccdff1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1", "patch": "@@ -1,3 +1,9 @@\n+2008-10-07  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR middle-end/37731\n+\t* gcc.dg/torture/pr37731-1.c: New.\n+\t* gcc.dg/torture/pr37731-2.c: Likewise.\n+\n 2008-10-07  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR debug/37738"}, {"sha": "5c156b1f9a62dbe2fcad03e743ade8d628779998", "filename": "gcc/testsuite/gcc.dg/torture/pr37731-1.c", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr37731-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr37731-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr37731-1.c?ref=aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1", "patch": "@@ -0,0 +1,17 @@\n+/* { dg-do run } */\n+\n+extern void abort ();\n+\n+unsigned long long xh = 1;\n+\n+int\n+main ()\n+{\n+  unsigned long long yh = 0xffffffffull;\n+  unsigned long long z = xh * yh;\n+\n+  if (z != yh)\n+    abort ();\n+\n+  return 0;\n+}"}, {"sha": "a7f8f1e02e5a825fbe296053fd3b0c94d279ca14", "filename": "gcc/testsuite/gcc.dg/torture/pr37731-2.c", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr37731-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr37731-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr37731-2.c?ref=aee857a2f4fbbcf0d3fde1d80c8c40d53b5edab1", "patch": "@@ -0,0 +1,17 @@\n+/* { dg-do run } */\n+\n+extern void abort ();\n+\n+long long xh = 1;\n+\n+int\n+main ()\n+{\n+  long long yh = 0xffffffffll;\n+  long long z = xh * yh;\n+\n+  if (z != yh)\n+    abort ();\n+\n+  return 0;\n+}"}]}