{"sha": "8967e0295db5621216719a0ea9723774fba31977", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODk2N2UwMjk1ZGI1NjIxMjE2NzE5YTBlYTk3MjM3NzRmYmEzMTk3Nw==", "commit": {"author": {"name": "Mark Shinwell", "email": "shinwell@codesourcery.com", "date": "2006-05-28T08:48:00Z"}, "committer": {"name": "Mark Shinwell", "email": "shinwell@gcc.gnu.org", "date": "2006-05-28T08:48:00Z"}, "message": "Open temporary files in binary mode when using mkstemps.\n\nFrom-SVN: r114165", "tree": {"sha": "3085800d5c786880e960c1c659ac90d77165410c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3085800d5c786880e960c1c659ac90d77165410c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8967e0295db5621216719a0ea9723774fba31977", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8967e0295db5621216719a0ea9723774fba31977", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8967e0295db5621216719a0ea9723774fba31977", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8967e0295db5621216719a0ea9723774fba31977/comments", "author": null, "committer": null, "parents": [{"sha": "96e5d7455714fe9ed2bb254ee00869307c7ec28d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96e5d7455714fe9ed2bb254ee00869307c7ec28d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96e5d7455714fe9ed2bb254ee00869307c7ec28d"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "192ba30055a808102e4fb5613a73ad997ad9931b", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8967e0295db5621216719a0ea9723774fba31977/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8967e0295db5621216719a0ea9723774fba31977/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=8967e0295db5621216719a0ea9723774fba31977", "patch": "@@ -1,3 +1,7 @@\n+2006-05-28  Mark Shinwell  <shinwell@codesourcery.com>\n+\n+\t* mkstemps.c: Open temporary files in binary mode.\n+\n 2006-05-12  Anton Blanchard  <anton@samba.org>\n \n \t* cplus-dem.c (demangle_fund_type): Ensure buf is large enough to"}, {"sha": "6c2e472528babdfd1da3d18afff2e7ba1beb0a2e", "filename": "libiberty/mkstemps.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8967e0295db5621216719a0ea9723774fba31977/libiberty%2Fmkstemps.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8967e0295db5621216719a0ea9723774fba31977/libiberty%2Fmkstemps.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fmkstemps.c?ref=8967e0295db5621216719a0ea9723774fba31977", "patch": "@@ -49,6 +49,10 @@ typedef unsigned long gcc_uint64_t;\n #define TMP_MAX 16384\n #endif\n \n+#ifndef O_BINARY\n+# define O_BINARY 0\n+#endif\n+\n /*\n \n @deftypefn Replacement int mkstemps (char *@var{pattern}, int @var{suffix_len})\n@@ -119,7 +123,7 @@ mkstemps (char *pattern, int suffix_len)\n       v /= 62;\n       XXXXXX[5] = letters[v % 62];\n \n-      fd = open (pattern, O_RDWR|O_CREAT|O_EXCL, 0600);\n+      fd = open (pattern, O_BINARY|O_RDWR|O_CREAT|O_EXCL, 0600);\n       if (fd >= 0)\n \t/* The file does not exist.  */\n \treturn fd;"}]}