{"sha": "bbb53468cc1f912add359fa97567f3b0b54476f8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmJiNTM0NjhjYzFmOTEyYWRkMzU5ZmE5NzU2N2YzYjBiNTQ0NzZmOA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2001-04-12T07:42:17Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2001-04-12T07:42:17Z"}, "message": "method.c (make_thunk): Clear DECL_CLONED_FUNCTION.\n\ncp:\n\t* method.c (make_thunk): Clear DECL_CLONED_FUNCTION.\ntestsuite:\n\t* g++.old-deja/g++.other/crash40.C: New test.\n\nFrom-SVN: r41294", "tree": {"sha": "3d3f431a8ef5edcc3fa427cb28adaaf6a2ef6939", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3d3f431a8ef5edcc3fa427cb28adaaf6a2ef6939"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bbb53468cc1f912add359fa97567f3b0b54476f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbb53468cc1f912add359fa97567f3b0b54476f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbb53468cc1f912add359fa97567f3b0b54476f8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbb53468cc1f912add359fa97567f3b0b54476f8/comments", "author": null, "committer": null, "parents": [{"sha": "571a66c6c9ca230da9b929b8c7c23b52989684b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/571a66c6c9ca230da9b929b8c7c23b52989684b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/571a66c6c9ca230da9b929b8c7c23b52989684b9"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "1066de11c438955c8e68e0fd15914fe8921e18ed", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbb53468cc1f912add359fa97567f3b0b54476f8/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbb53468cc1f912add359fa97567f3b0b54476f8/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=bbb53468cc1f912add359fa97567f3b0b54476f8", "patch": "@@ -1,3 +1,7 @@\n+2001-04-12  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* method.c (make_thunk): Clear DECL_CLONED_FUNCTION.\n+\n 2001-04-11  Mark Mitchell  <mark@codesourcery.com>\n \n \t* optimize.c (maybe_clone_body): Copy DECL_NUM_STMTS from the"}, {"sha": "5839767375a5b33874b03a7484df7c4be06bb3c2", "filename": "gcc/cp/method.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbb53468cc1f912add359fa97567f3b0b54476f8/gcc%2Fcp%2Fmethod.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbb53468cc1f912add359fa97567f3b0b54476f8/gcc%2Fcp%2Fmethod.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fmethod.c?ref=bbb53468cc1f912add359fa97567f3b0b54476f8", "patch": "@@ -363,6 +363,8 @@ make_thunk (function, delta, vcall_index, generate_with_vtable_p)\n       DECL_SAVED_FUNCTION_DATA (thunk) = NULL;\n       DECL_DESTRUCTOR_P (thunk) = 0;\n       DECL_CONSTRUCTOR_P (thunk) = 0;\n+      /* And neither is it a clone.  */\n+      DECL_CLONED_FUNCTION (thunk) = NULL_TREE;\n       DECL_EXTERNAL (thunk) = 1;\n       DECL_ARTIFICIAL (thunk) = 1;\n       /* Even if this thunk is a member of a local class, we don't"}, {"sha": "36c2e53cbf8319c0e27c5175def2ea9f1571782f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbb53468cc1f912add359fa97567f3b0b54476f8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbb53468cc1f912add359fa97567f3b0b54476f8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bbb53468cc1f912add359fa97567f3b0b54476f8", "patch": "@@ -1,3 +1,7 @@\n+2001-04-12  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* g++.old-deja/g++.other/crash40.C: New test.\n+\n 2001-04-11  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* gcc.c-torture/execute/20010122-1.c: Fix declaration of alloca."}, {"sha": "3af3f731a66a0d5fe127aa666f6bc8b36d52c2fd", "filename": "gcc/testsuite/g++.old-deja/g++.other/crash40.C", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbb53468cc1f912add359fa97567f3b0b54476f8/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash40.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbb53468cc1f912add359fa97567f3b0b54476f8/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash40.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash40.C?ref=bbb53468cc1f912add359fa97567f3b0b54476f8", "patch": "@@ -0,0 +1,19 @@\n+// Build don't link:\n+// Copyright (C) 2001 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 11 April 2001 <nathan@codesourcery.com>\n+// Origin: Theo Papadopoulo <Theodore.Papadopoulo@sophia.inria.fr>\n+\n+// Bug 1917. We were considering thunks to clones to be clones. and\n+// hence getting confused.\n+\n+struct A { virtual ~A(); };\n+struct B { virtual ~B(); };\n+\n+struct C: public A,B {};\n+\n+template <class TYPE>\n+inline TYPE\n+sqr(const TYPE& x) {\n+    return 1;\n+}\n+int f(const int t) { return sqr(t); }"}]}