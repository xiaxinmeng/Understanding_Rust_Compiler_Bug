{"sha": "e4170021a9453616a05e0fca735014b15b7a8353", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTQxNzAwMjFhOTQ1MzYxNmEwNWUwZmNhNzM1MDE0YjE1YjdhODM1Mw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-08-29T08:41:04Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-08-29T08:41:04Z"}, "message": "Add test\n\nFrom-SVN: r127884", "tree": {"sha": "06b304274c8c626eb0436396893f517d833c29b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/06b304274c8c626eb0436396893f517d833c29b3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e4170021a9453616a05e0fca735014b15b7a8353", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4170021a9453616a05e0fca735014b15b7a8353", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4170021a9453616a05e0fca735014b15b7a8353", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4170021a9453616a05e0fca735014b15b7a8353/comments", "author": null, "committer": null, "parents": [{"sha": "0f35a72c2a094bc1d66e75415d4fd7819c50d500", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f35a72c2a094bc1d66e75415d4fd7819c50d500", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f35a72c2a094bc1d66e75415d4fd7819c50d500"}], "stats": {"total": 51, "additions": 51, "deletions": 0}, "files": [{"sha": "f7902966b5686734ced778f7e80187559dbb9b9c", "filename": "gcc/testsuite/gnat.dg/requeue1.adb", "status": "added", "additions": 51, "deletions": 0, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4170021a9453616a05e0fca735014b15b7a8353/gcc%2Ftestsuite%2Fgnat.dg%2Frequeue1.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4170021a9453616a05e0fca735014b15b7a8353/gcc%2Ftestsuite%2Fgnat.dg%2Frequeue1.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Frequeue1.adb?ref=e4170021a9453616a05e0fca735014b15b7a8353", "patch": "@@ -0,0 +1,51 @@\n+--  { dg-do run }\n+\n+with Ada.Text_Io; use Ada.Text_Io;\n+        \n+procedure requeue1 is\n+\n+  protected P is\n+    entry Requeue_Without_Abort;\n+    entry Queue_Without;\n+    procedure Open;\n+  private\n+    Opened: Boolean := False;\n+  end P;\n+ \n+  protected body P is\n+    entry Requeue_Without_Abort when True is\n+    begin\n+      -- BUG: after this requeue no time out of the call should be possible\n+      requeue Queue_Without;\n+    end Requeue_Without_Abort;\n+\n+    entry Queue_Without when Opened is\n+    begin\n+      Opened := False;\n+    end Queue_Without;\n+\n+    procedure Open is\n+    begin\n+      Opened := True;\n+    end Open;\n+  end P;\n+\n+  -- Test of timed entry call to an entry with requeue without abort\n+  task T_Without;\n+  task body T_Without is\n+  begin\n+    select\n+      P.Requeue_Without_Abort;\n+    or\n+      delay 1.0;\n+      Put_Line(\"failed\");\n+    end select;\n+\n+  exception\n+    when others => Put_Line (\"failed\");\n+  end T_Without;\n+\n+begin\n+  delay 3.0;\n+  P.Open;\n+end;"}]}