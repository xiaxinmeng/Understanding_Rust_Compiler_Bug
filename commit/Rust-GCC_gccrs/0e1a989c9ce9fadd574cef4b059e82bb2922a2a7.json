{"sha": "0e1a989c9ce9fadd574cef4b059e82bb2922a2a7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGUxYTk4OWM5Y2U5ZmFkZDU3NGNlZjRiMDU5ZTgyYmIyOTIyYTJhNw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2010-11-18T07:35:34Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2010-11-18T07:35:34Z"}, "message": "re PR bootstrap/45538 (--enable-build-with-cxx compiling gcc/libcpp/charset.c)\n\n\tPR bootstrap/45538\n\t* configure.ac: Use AC_USE_SYSTEM_EXTENSIONS.  Remove switch of\n\tAC_LANG based on ENABLE_BUILD_WITH_CXX.\n\nFrom-SVN: r166896", "tree": {"sha": "51a9f53a8b54f9f33e8b831f0f4b3041681ed540", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/51a9f53a8b54f9f33e8b831f0f4b3041681ed540"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0e1a989c9ce9fadd574cef4b059e82bb2922a2a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e1a989c9ce9fadd574cef4b059e82bb2922a2a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e1a989c9ce9fadd574cef4b059e82bb2922a2a7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e1a989c9ce9fadd574cef4b059e82bb2922a2a7/comments", "author": null, "committer": null, "parents": [{"sha": "49a35931ee5a81997c3e7e39ffa4ef009a3bf8e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49a35931ee5a81997c3e7e39ffa4ef009a3bf8e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49a35931ee5a81997c3e7e39ffa4ef009a3bf8e1"}], "stats": {"total": 2432, "additions": 1090, "deletions": 1342}, "files": [{"sha": "06fd94a778c9587feb234a696e8367ce499cb0fc", "filename": "libcpp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e1a989c9ce9fadd574cef4b059e82bb2922a2a7/libcpp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e1a989c9ce9fadd574cef4b059e82bb2922a2a7/libcpp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2FChangeLog?ref=0e1a989c9ce9fadd574cef4b059e82bb2922a2a7", "patch": "@@ -1,3 +1,9 @@\n+2010-11-17  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR bootstrap/45538\n+\t* configure.ac: Use AC_USE_SYSTEM_EXTENSIONS.  Remove switch of\n+\tAC_LANG based on ENABLE_BUILD_WITH_CXX.\n+\n 2010-11-16  Kai Tietz  <kai.tietz@onevision.com>\n \n \tPR preprocessor/17349"}, {"sha": "05542fe37d18948b1944d5d65faac08e05add770", "filename": "libcpp/config.in", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e1a989c9ce9fadd574cef4b059e82bb2922a2a7/libcpp%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e1a989c9ce9fadd574cef4b059e82bb2922a2a7/libcpp%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2Fconfig.in?ref=0e1a989c9ce9fadd574cef4b059e82bb2922a2a7", "patch": "@@ -275,6 +275,28 @@\n /* Define to 1 if your <sys/time.h> declares `struct tm'. */\n #undef TM_IN_SYS_TIME\n \n+/* Enable extensions on AIX 3, Interix.  */\n+#ifndef _ALL_SOURCE\n+# undef _ALL_SOURCE\n+#endif\n+/* Enable GNU extensions on systems that have them.  */\n+#ifndef _GNU_SOURCE\n+# undef _GNU_SOURCE\n+#endif\n+/* Enable threading extensions on Solaris.  */\n+#ifndef _POSIX_PTHREAD_SEMANTICS\n+# undef _POSIX_PTHREAD_SEMANTICS\n+#endif\n+/* Enable extensions on HP NonStop.  */\n+#ifndef _TANDEM_SOURCE\n+# undef _TANDEM_SOURCE\n+#endif\n+/* Enable general extensions on Solaris.  */\n+#ifndef __EXTENSIONS__\n+# undef __EXTENSIONS__\n+#endif\n+\n+\n /* Define WORDS_BIGENDIAN to 1 if your processor stores words with the most\n    significant byte first (like Motorola and SPARC, unlike Intel). */\n #if defined AC_APPLE_UNIVERSAL_BUILD\n@@ -293,6 +315,16 @@\n /* Define for large files, on AIX-style hosts. */\n #undef _LARGE_FILES\n \n+/* Define to 1 if on MINIX. */\n+#undef _MINIX\n+\n+/* Define to 2 if the system does not provide POSIX.1 features except with\n+   this defined. */\n+#undef _POSIX_1_SOURCE\n+\n+/* Define to 1 if you need to in order for `stat' and other things to work. */\n+#undef _POSIX_SOURCE\n+\n /* Define to empty if `const' does not conform to ANSI C. */\n #undef const\n "}, {"sha": "41677ce1f3c40af5d32c3b6f5f54ba444ae86676", "filename": "libcpp/configure", "status": "modified", "additions": 1050, "deletions": 1331, "changes": 2381, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e1a989c9ce9fadd574cef4b059e82bb2922a2a7/libcpp%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e1a989c9ce9fadd574cef4b059e82bb2922a2a7/libcpp%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2Fconfigure?ref=0e1a989c9ce9fadd574cef4b059e82bb2922a2a7"}, {"sha": "1c67eaf641cd28d86e5e1829f316604e71d1af58", "filename": "libcpp/configure.ac", "status": "modified", "additions": 2, "deletions": 11, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e1a989c9ce9fadd574cef4b059e82bb2922a2a7/libcpp%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e1a989c9ce9fadd574cef4b059e82bb2922a2a7/libcpp%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2Fconfigure.ac?ref=0e1a989c9ce9fadd574cef4b059e82bb2922a2a7", "patch": "@@ -14,6 +14,7 @@ AC_PROG_CC\n AC_PROG_CXX\n AC_PROG_RANLIB\n \n+AC_USE_SYSTEM_EXTENSIONS\n AC_SYS_LARGEFILE\n \n # See if we are building gcc with C++.\n@@ -58,18 +59,8 @@ fi\n AC_HEADER_TIME\n ACX_HEADER_STRING\n \n-# AC_CHECK_HEADERS is repeated to work around apparent autoconf 2.59 bug.  If\n-# AC_CHECK_HEADERS comes after the if clause, the last AC_LANG call gets used,\n-# no matter which branch is taken.\n-if test \"$ENABLE_BUILD_WITH_CXX\" = \"no\"; then\n-   AC_LANG(C)\n-   AC_CHECK_HEADERS(locale.h fcntl.h limits.h stddef.h \\\n+AC_CHECK_HEADERS(locale.h fcntl.h limits.h stddef.h \\\n \tstdlib.h strings.h string.h sys/file.h unistd.h)\n-else\n-   AC_LANG(C++)\n-   AC_CHECK_HEADERS(locale.h fcntl.h limits.h stddef.h \\\n-\tstdlib.h strings.h string.h sys/stat.h sys/file.h unistd.h)\n-fi\n \n # Checks for typedefs, structures, and compiler characteristics.\n AC_C_BIGENDIAN"}]}