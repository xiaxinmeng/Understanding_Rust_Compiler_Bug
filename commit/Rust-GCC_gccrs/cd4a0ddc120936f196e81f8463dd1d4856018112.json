{"sha": "cd4a0ddc120936f196e81f8463dd1d4856018112", "node_id": "C_kwDOANBUbNoAKGNkNGEwZGRjMTIwOTM2ZjE5NmU4MWY4NDYzZGQxZDQ4NTYwMTgxMTI", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2022-05-10T13:56:08Z"}, "committer": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2022-05-17T14:27:32Z"}, "message": "Advise to call 'internal_error' instead of 'abort' or 'fancy_abort'\n\n\tgcc/\n\t* diagnostic.cc: Don't advise to call 'abort' instead of\n\t'internal_error'.\n\t* system.h: Advise to call 'internal_error' instead of 'abort' or\n\t'fancy_abort'.\n\nSuggested-by: Richard Biener <richard.guenther@gmail.com>", "tree": {"sha": "b8970a8ce027e7f08d39973fd3fb2777053690ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8970a8ce027e7f08d39973fd3fb2777053690ba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cd4a0ddc120936f196e81f8463dd1d4856018112", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd4a0ddc120936f196e81f8463dd1d4856018112", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd4a0ddc120936f196e81f8463dd1d4856018112", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd4a0ddc120936f196e81f8463dd1d4856018112/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0f00ebf0d6be944dabf4329bce81a9c063c7ded7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f00ebf0d6be944dabf4329bce81a9c063c7ded7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f00ebf0d6be944dabf4329bce81a9c063c7ded7"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "fef11467b6fb2955584d8b4b3fdc4cdc5be61420", "filename": "gcc/diagnostic.cc", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd4a0ddc120936f196e81f8463dd1d4856018112/gcc%2Fdiagnostic.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd4a0ddc120936f196e81f8463dd1d4856018112/gcc%2Fdiagnostic.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdiagnostic.cc?ref=cd4a0ddc120936f196e81f8463dd1d4856018112", "patch": "@@ -1935,9 +1935,7 @@ fatal_error (location_t loc, const char *gmsgid, ...)\n }\n \n /* An internal consistency check has failed.  We make no attempt to\n-   continue.  Note that unless there is debugging value to be had from\n-   a more specific message, or some other good reason, you should use\n-   abort () instead of calling this function directly.  */\n+   continue.  */\n void\n internal_error (const char *gmsgid, ...)\n {"}, {"sha": "67158b70c789def77db538412532740b452b862e", "filename": "gcc/system.h", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd4a0ddc120936f196e81f8463dd1d4856018112/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd4a0ddc120936f196e81f8463dd1d4856018112/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=cd4a0ddc120936f196e81f8463dd1d4856018112", "patch": "@@ -774,8 +774,10 @@ extern int vsnprintf (char *, size_t, const char *, va_list);\n #endif\n #endif\n \n-/* Redefine abort to report an internal error w/o coredump, and\n-   reporting the location of the error in the source file.  */\n+/* Redefine 'abort' to report an internal error w/o coredump, and\n+   reporting the location of the error in the source file.\n+   Instead of directly calling 'abort' or 'fancy_abort', GCC code\n+   should normally call 'internal_error' with a specific message.  */\n extern void fancy_abort (const char *, int, const char *)\n \t\t\t\t\t ATTRIBUTE_NORETURN ATTRIBUTE_COLD;\n #define abort() fancy_abort (__FILE__, __LINE__, __FUNCTION__)"}]}