{"sha": "70db5f0228d943a1deb37e0210ce6bbc0ac913c6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzBkYjVmMDIyOGQ5NDNhMWRlYjM3ZTAyMTBjZTZiYmMwYWM5MTNjNg==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2015-07-02T17:02:10Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2015-07-02T17:02:10Z"}, "message": "re PR fortran/66545 (ICE on using undefined parameter/variable values)\n\n2015-07-02  Steven G. Kargl   <kargl@gcc.gnu.org>\n\n\tPR fortran/66545\n\t* primary.c (match_sym_complex_part): Do not dereference NULL pointer.\n\n2015-07-02  Steven G. Kargl   <kargl@gcc.gnu.org>\n\n\tPR fortran/66545\n\t* gfortran.dg/pr66545_1.f90: New test.\n\t* gfortran.dg/pr66545_2.f90: New test.\n\nFrom-SVN: r225348", "tree": {"sha": "4fdf3de83e7d79feee37b1b0562fcfebad87df6d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4fdf3de83e7d79feee37b1b0562fcfebad87df6d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/70db5f0228d943a1deb37e0210ce6bbc0ac913c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70db5f0228d943a1deb37e0210ce6bbc0ac913c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70db5f0228d943a1deb37e0210ce6bbc0ac913c6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70db5f0228d943a1deb37e0210ce6bbc0ac913c6/comments", "author": null, "committer": null, "parents": [{"sha": "e62bb796efb2198b7d2ab98c8030c9da7aceeab7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e62bb796efb2198b7d2ab98c8030c9da7aceeab7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e62bb796efb2198b7d2ab98c8030c9da7aceeab7"}], "stats": {"total": 54, "additions": 54, "deletions": 0}, "files": [{"sha": "b9777272ad9c9d6bb8b2725e3c0a98091fbeb196", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70db5f0228d943a1deb37e0210ce6bbc0ac913c6/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70db5f0228d943a1deb37e0210ce6bbc0ac913c6/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=70db5f0228d943a1deb37e0210ce6bbc0ac913c6", "patch": "@@ -1,3 +1,8 @@\n+2015-07-02  Steven G. Kargl   <kargl@gcc.gnu.org>\n+\n+\tPR fortran/66545\n+\t* primary.c (match_sym_complex_part): Do not dereference NULL pointer.\n+\n 2015-07-01  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \t* arith.c (gfc_arith_divide):  With -Winteger-division,"}, {"sha": "f55e420c988e7090070c8d898a82f98363558271", "filename": "gcc/fortran/primary.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70db5f0228d943a1deb37e0210ce6bbc0ac913c6/gcc%2Ffortran%2Fprimary.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70db5f0228d943a1deb37e0210ce6bbc0ac913c6/gcc%2Ffortran%2Fprimary.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fprimary.c?ref=70db5f0228d943a1deb37e0210ce6bbc0ac913c6", "patch": "@@ -1254,6 +1254,9 @@ match_sym_complex_part (gfc_expr **result)\n       return MATCH_ERROR;\n     }\n \n+  if (!sym->value)\n+    goto error;\n+\n   if (!gfc_numeric_ts (&sym->value->ts))\n     {\n       gfc_error (\"Numeric PARAMETER required in complex constant at %C\");"}, {"sha": "9e92aae125c6a7c6f7353838ad689c35dcdc8275", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70db5f0228d943a1deb37e0210ce6bbc0ac913c6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70db5f0228d943a1deb37e0210ce6bbc0ac913c6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=70db5f0228d943a1deb37e0210ce6bbc0ac913c6", "patch": "@@ -1,3 +1,9 @@\n+2015-07-02  Steven G. Kargl   <kargl@gcc.gnu.org>\n+\n+\tPR fortran/66545\n+\t* gfortran.dg/pr66545_1.f90: New test.\n+\t* gfortran.dg/pr66545_2.f90: New test.\n+\n 2015-07-02  Alan Lawrence  <alan.lawrence@arm.com>\n \n \t* gcc.dg/vect/vect-strided-a-u16-i4.c (main1): Narrow scope of x,y,z,w."}, {"sha": "7daa800b60c6026fcfbf70a77cd0eafae07f3c0a", "filename": "gcc/testsuite/gfortran.dg/pr66545_1.f90", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70db5f0228d943a1deb37e0210ce6bbc0ac913c6/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr66545_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70db5f0228d943a1deb37e0210ce6bbc0ac913c6/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr66545_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr66545_1.f90?ref=70db5f0228d943a1deb37e0210ce6bbc0ac913c6", "patch": "@@ -0,0 +1,17 @@\n+! { dg-do compile }\n+! { dg-options \"-Wall\" }\n+! PR fortran/66545\n+!\n+subroutine p\n+   complex, parameter :: c1 = (c1) ! { dg-error \"before its definition\" }\n+   complex, parameter :: c2 = c2   ! { dg-error \"before its definition\" }\n+   complex :: c3 = (c3)            ! { dg-error \"has not been declared or is a variable\" }\n+   complex :: c4 = c4              ! { dg-error \"has not been declared or is a variable\" }\n+end subroutine p\n+\n+subroutine q\n+   real, parameter :: r1 = (r1)  ! { dg-error \"before its definition\" }\n+   real, parameter :: r2 = r2    ! { dg-error \"before its definition\" }\n+   real :: r3 = (r3)             ! { dg-error \"has not been declared or is a variable\" }\n+   real :: r4 = r4               ! { dg-error \"has not been declared or is a variable\" }\n+end subroutine q"}, {"sha": "e15d8ba792c13a2bbf9c50cf8cd9ff0a757adde0", "filename": "gcc/testsuite/gfortran.dg/pr66545_2.f90", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70db5f0228d943a1deb37e0210ce6bbc0ac913c6/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr66545_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70db5f0228d943a1deb37e0210ce6bbc0ac913c6/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr66545_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr66545_2.f90?ref=70db5f0228d943a1deb37e0210ce6bbc0ac913c6", "patch": "@@ -0,0 +1,23 @@\n+! { dg-do compile }\n+! { dg-options \"-Wuninitialized\" }\n+! PR fortran/66545\n+!\n+program foo\n+   implicit none\n+   call p1\n+   call q1\n+end program foo\n+\n+subroutine p1\n+   complex :: c5\n+   complex :: c6\n+   c5 = (c5)      ! { dg-warning \"used uninitialized in this\" }\n+   c6 = c6        ! { dg-warning \"used uninitialized in this\" }\n+end subroutine p1\n+\n+subroutine q1\n+   real :: r5\n+   real :: r6\n+   r5 = (r5)   ! { dg-warning \"used uninitialized in this\" }\n+   r6 = r6     ! { dg-warning \"used uninitialized in this\" }\n+end subroutine q1"}]}