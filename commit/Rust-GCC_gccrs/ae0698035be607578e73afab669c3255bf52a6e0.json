{"sha": "ae0698035be607578e73afab669c3255bf52a6e0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWUwNjk4MDM1YmU2MDc1NzhlNzNhZmFiNjY5YzMyNTViZjUyYTZlMA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2007-03-12T18:15:51Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2007-03-12T18:15:51Z"}, "message": "alpha.c (alpha_elf_section_type_flags): New.\n\n        * config/alpha/alpha.c (alpha_elf_section_type_flags): New.\n\t(TARGET_SECTION_TYPE_FLAGS): New.\n\nFrom-SVN: r122850", "tree": {"sha": "d5e04a20439030e2a6ba4e1a6ad0511dafe290c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d5e04a20439030e2a6ba4e1a6ad0511dafe290c3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae0698035be607578e73afab669c3255bf52a6e0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae0698035be607578e73afab669c3255bf52a6e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae0698035be607578e73afab669c3255bf52a6e0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae0698035be607578e73afab669c3255bf52a6e0/comments", "author": null, "committer": null, "parents": [{"sha": "24c78b3ac825438a465e37f31617828f52a0c33b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24c78b3ac825438a465e37f31617828f52a0c33b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24c78b3ac825438a465e37f31617828f52a0c33b"}], "stats": {"total": 23, "additions": 23, "deletions": 0}, "files": [{"sha": "0ce27464f37ce6ab554863a5fcb0d873bc322893", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae0698035be607578e73afab669c3255bf52a6e0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae0698035be607578e73afab669c3255bf52a6e0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ae0698035be607578e73afab669c3255bf52a6e0", "patch": "@@ -1,3 +1,8 @@\n+2007-03-12  Richard Henderson  <rth@redhat.com>\n+\n+\t* config/alpha/alpha.c (alpha_elf_section_type_flags): New.\n+\t(TARGET_SECTION_TYPE_FLAGS): New.\n+\n 2007-03-12  Richard Henderson  <rth@redhat.com>\n \n         * config/darwin.c (machopic_reloc_rw_mask): New."}, {"sha": "817aa47947946001694e616434c77d8063a155e4", "filename": "gcc/config/alpha/alpha.c", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae0698035be607578e73afab669c3255bf52a6e0/gcc%2Fconfig%2Falpha%2Falpha.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae0698035be607578e73afab669c3255bf52a6e0/gcc%2Fconfig%2Falpha%2Falpha.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.c?ref=ae0698035be607578e73afab669c3255bf52a6e0", "patch": "@@ -9343,6 +9343,22 @@ alpha_elf_select_rtx_section (enum machine_mode mode, rtx x,\n     return default_elf_select_rtx_section (mode, x, align);\n }\n \n+static unsigned int\n+alpha_elf_section_type_flags (tree decl, const char *name, int reloc)\n+{\n+  unsigned int flags = 0;\n+\n+  if (strcmp (name, \".sdata\") == 0\n+      || strncmp (name, \".sdata.\", 7) == 0\n+      || strncmp (name, \".gnu.linkonce.s.\", 16) == 0\n+      || strcmp (name, \".sbss\") == 0\n+      || strncmp (name, \".sbss.\", 6) == 0\n+      || strncmp (name, \".gnu.linkonce.sb.\", 17) == 0)\n+    flags = SECTION_SMALL;\n+\n+  flags |= default_section_type_flags (decl, name, reloc);\n+  return flags;\n+}\n #endif /* OBJECT_FORMAT_ELF */\n \f\n /* Structure to collect function names for final output in link section.  */\n@@ -10580,6 +10596,8 @@ alpha_init_libfuncs (void)\n #define TARGET_ASM_RELOC_RW_MASK  alpha_elf_reloc_rw_mask\n #undef\tTARGET_ASM_SELECT_RTX_SECTION\n #define\tTARGET_ASM_SELECT_RTX_SECTION  alpha_elf_select_rtx_section\n+#undef  TARGET_SECTION_TYPE_FLAGS\n+#define TARGET_SECTION_TYPE_FLAGS  alpha_elf_section_type_flags\n #endif\n \n #undef TARGET_ASM_FUNCTION_END_PROLOGUE"}]}