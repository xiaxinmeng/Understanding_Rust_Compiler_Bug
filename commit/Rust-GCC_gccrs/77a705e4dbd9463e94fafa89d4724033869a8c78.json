{"sha": "77a705e4dbd9463e94fafa89d4724033869a8c78", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzdhNzA1ZTRkYmQ5NDYzZTk0ZmFmYTg5ZDQ3MjQwMzM4NjlhOGM3OA==", "commit": {"author": {"name": "Eric Christopher", "email": "echristo@redhat.com", "date": "2004-04-20T21:50:12Z"}, "committer": {"name": "Eric Christopher", "email": "echristo@gcc.gnu.org", "date": "2004-04-20T21:50:12Z"}, "message": "extern.c: New test.\n\n2004-04-20  Eric Christopher  <echristo@redhat.com>\n\n\t* gcc.dg/charset/extern.c: New test.\n\t* g++.dg/charset/extern3.cc: Ditto.\n\n2004-04-20  Eric Christopher  <echristo@redhat.com>\n\n\t* cp/parser.c (cp_parser_declaration): Move translate\n\tup before tokens are lexed.\n\nFrom-SVN: r80926", "tree": {"sha": "0f754d84e25710d2f93729cafe70c41b6bc2e1a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f754d84e25710d2f93729cafe70c41b6bc2e1a9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/77a705e4dbd9463e94fafa89d4724033869a8c78", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77a705e4dbd9463e94fafa89d4724033869a8c78", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77a705e4dbd9463e94fafa89d4724033869a8c78", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77a705e4dbd9463e94fafa89d4724033869a8c78/comments", "author": {"login": "echristo", "id": 327308, "node_id": "MDQ6VXNlcjMyNzMwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/327308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/echristo", "html_url": "https://github.com/echristo", "followers_url": "https://api.github.com/users/echristo/followers", "following_url": "https://api.github.com/users/echristo/following{/other_user}", "gists_url": "https://api.github.com/users/echristo/gists{/gist_id}", "starred_url": "https://api.github.com/users/echristo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/echristo/subscriptions", "organizations_url": "https://api.github.com/users/echristo/orgs", "repos_url": "https://api.github.com/users/echristo/repos", "events_url": "https://api.github.com/users/echristo/events{/privacy}", "received_events_url": "https://api.github.com/users/echristo/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "bf9f06aedcddc0be1d53bfea98498b25edb7ae34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf9f06aedcddc0be1d53bfea98498b25edb7ae34", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf9f06aedcddc0be1d53bfea98498b25edb7ae34"}], "stats": {"total": 40, "additions": 36, "deletions": 4}, "files": [{"sha": "58436c33b0e03945ba87100e5569a668c03be605", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77a705e4dbd9463e94fafa89d4724033869a8c78/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77a705e4dbd9463e94fafa89d4724033869a8c78/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=77a705e4dbd9463e94fafa89d4724033869a8c78", "patch": "@@ -1,3 +1,8 @@\n+2004-04-20  Eric Christopher  <echristo@redhat.com>\n+\n+\t* cp/parser.c (cp_parser_declaration): Move translate\n+\tup before tokens are lexed.\n+\n 2004-04-20  Uros Bizjak  <uros@kss-loka.si>\n \n \t* optabs.h (enum optab_index): Add new OTI_asin and OTI_acos.\n@@ -31,7 +36,7 @@\n \t* doc/invoke.texi (Optimize options): Move -frename-registers\n \tto \"Not triggered by any -O level\" section.  Adjust commentary\n \taccordingly.\n-\t\t\t\t\t\n+\n 2004-04-20  Anil Paranjpe\u00a0\u00a0\u00a0<anilp1@kpitcummins.com>\n \n \t* toplev.c (compile_file): Move targetm.asm_out.file_end call to end."}, {"sha": "fde2f5a0958f77fd418145b17489b9ab481b089e", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77a705e4dbd9463e94fafa89d4724033869a8c78/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77a705e4dbd9463e94fafa89d4724033869a8c78/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=77a705e4dbd9463e94fafa89d4724033869a8c78", "patch": "@@ -6349,6 +6349,8 @@ cp_parser_declaration (cp_parser* parser)\n   if (token1.type != CPP_EOF)\n     token2 = *cp_lexer_peek_nth_token (parser->lexer, 2);\n \n+  c_lex_string_translate = true;\n+\n   /* If the next token is `extern' and the following token is a string\n      literal, then we have a linkage specification.  */\n   if (token1.keyword == RID_EXTERN\n@@ -6398,8 +6400,6 @@ cp_parser_declaration (cp_parser* parser)\n   else\n     /* Try to parse a block-declaration, or a function-definition.  */\n     cp_parser_block_declaration (parser, /*statement_p=*/false);\n-\n-  c_lex_string_translate = true;\n }\n \n /* Parse a block-declaration."}, {"sha": "f0f5ef4b1c2d84047498ae5c63b17662b620883e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77a705e4dbd9463e94fafa89d4724033869a8c78/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77a705e4dbd9463e94fafa89d4724033869a8c78/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=77a705e4dbd9463e94fafa89d4724033869a8c78", "patch": "@@ -1,3 +1,8 @@\n+2004-04-20  Eric Christopher  <echristo@redhat.com>\n+\n+\t* gcc.dg/charset/extern.c: New test.\n+\t* g++.dg/charset/extern3.cc: Ditto.\n+\n 2004-04-20  Uros Bizjak  <uros@kss-loka.si>\n \n \t* gcc.dg/builtins-39.c: New test.\n@@ -152,7 +157,7 @@\n 2004-04-17  Laurent GUERBY <laurent@guerby.net>\n \n \t* ada/acats/run_all.sh: use -O2 by default.\n-\t\n+\n 2004-04-17  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* gcc.dg/vr-mult-[12].c: New tests."}, {"sha": "5e46ca6facfed63c20ae78fae41de868b2c21819", "filename": "gcc/testsuite/g++.dg/charset/extern3.cc", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77a705e4dbd9463e94fafa89d4724033869a8c78/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcharset%2Fextern3.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77a705e4dbd9463e94fafa89d4724033869a8c78/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcharset%2Fextern3.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcharset%2Fextern3.cc?ref=77a705e4dbd9463e94fafa89d4724033869a8c78", "patch": "@@ -0,0 +1,11 @@\n+/* { dg-do compile }\n+   { dg-require-iconv \"IBM-1047\" }\n+   { dg-final { scan-assembler-not \"abcdefghijklmnopqrstuvwxyz\" } } */\n+\n+extern char *bar;\n+\n+extern void foo (void)\n+{\n+   char str[]=\"abcdefghijklmnopqrstuvwxyz\";\n+   bar = str;\n+}"}, {"sha": "5e46ca6facfed63c20ae78fae41de868b2c21819", "filename": "gcc/testsuite/gcc.dg/charset/extern.c", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77a705e4dbd9463e94fafa89d4724033869a8c78/gcc%2Ftestsuite%2Fgcc.dg%2Fcharset%2Fextern.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77a705e4dbd9463e94fafa89d4724033869a8c78/gcc%2Ftestsuite%2Fgcc.dg%2Fcharset%2Fextern.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcharset%2Fextern.c?ref=77a705e4dbd9463e94fafa89d4724033869a8c78", "patch": "@@ -0,0 +1,11 @@\n+/* { dg-do compile }\n+   { dg-require-iconv \"IBM-1047\" }\n+   { dg-final { scan-assembler-not \"abcdefghijklmnopqrstuvwxyz\" } } */\n+\n+extern char *bar;\n+\n+extern void foo (void)\n+{\n+   char str[]=\"abcdefghijklmnopqrstuvwxyz\";\n+   bar = str;\n+}"}]}