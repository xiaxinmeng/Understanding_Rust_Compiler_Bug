{"sha": "22465fbc8cca239aadcb35cd51d820d6d7213238", "node_id": "C_kwDOANBUbNoAKDIyNDY1ZmJjOGNjYTIzOWFhZGNiMzVjZDUxZDgyMGQ2ZDcyMTMyMzg", "commit": {"author": {"name": "Philip Herron", "email": "herron.philip@googlemail.com", "date": "2023-03-03T16:12:46Z"}, "committer": {"name": "Philip Herron", "email": "philip.herron@embecosm.com", "date": "2023-03-03T19:27:24Z"}, "message": "gccrs: destructure parameter names.\n\nWhen we have complex generic code you can end up with situations where we\ncompile types:\n\n  Maybe<<S as Foo>::A>\n\nInto\n\n  Maybe<<placeholder:<Projection=::()>>>\n\nThis calls destructure to cleanup the naming here and avoid making non\ncanonical TREE_TYPES hitting the verify_gimple code triggering non-trival\nconstructors.\n\nSigned-off-by: Philip Herron <herron.philip@googlemail.com>\n\ngcc/rust/ChangeLog:\n\n\t* typecheck/rust-tyty.cc (ParamType::get_name): call destructure", "tree": {"sha": "29b41d8c4028c752e2b8d20ff8e9412bab067a31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/29b41d8c4028c752e2b8d20ff8e9412bab067a31"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/22465fbc8cca239aadcb35cd51d820d6d7213238", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22465fbc8cca239aadcb35cd51d820d6d7213238", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22465fbc8cca239aadcb35cd51d820d6d7213238", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22465fbc8cca239aadcb35cd51d820d6d7213238/comments", "author": {"login": "philberty", "id": 84585, "node_id": "MDQ6VXNlcjg0NTg1", "avatar_url": "https://avatars.githubusercontent.com/u/84585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philberty", "html_url": "https://github.com/philberty", "followers_url": "https://api.github.com/users/philberty/followers", "following_url": "https://api.github.com/users/philberty/following{/other_user}", "gists_url": "https://api.github.com/users/philberty/gists{/gist_id}", "starred_url": "https://api.github.com/users/philberty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philberty/subscriptions", "organizations_url": "https://api.github.com/users/philberty/orgs", "repos_url": "https://api.github.com/users/philberty/repos", "events_url": "https://api.github.com/users/philberty/events{/privacy}", "received_events_url": "https://api.github.com/users/philberty/received_events", "type": "User", "site_admin": false}, "committer": {"login": "philberty", "id": 84585, "node_id": "MDQ6VXNlcjg0NTg1", "avatar_url": "https://avatars.githubusercontent.com/u/84585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philberty", "html_url": "https://github.com/philberty", "followers_url": "https://api.github.com/users/philberty/followers", "following_url": "https://api.github.com/users/philberty/following{/other_user}", "gists_url": "https://api.github.com/users/philberty/gists{/gist_id}", "starred_url": "https://api.github.com/users/philberty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philberty/subscriptions", "organizations_url": "https://api.github.com/users/philberty/orgs", "repos_url": "https://api.github.com/users/philberty/repos", "events_url": "https://api.github.com/users/philberty/events{/privacy}", "received_events_url": "https://api.github.com/users/philberty/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6540653bc29778a5473746bc7463c75204e07c23", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6540653bc29778a5473746bc7463c75204e07c23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6540653bc29778a5473746bc7463c75204e07c23"}], "stats": {"total": 5, "additions": 1, "deletions": 4}, "files": [{"sha": "e6dfc561fbf24fd51003fbc3d653be91387767cd", "filename": "gcc/rust/typecheck/rust-tyty.cc", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22465fbc8cca239aadcb35cd51d820d6d7213238/gcc%2Frust%2Ftypecheck%2Frust-tyty.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22465fbc8cca239aadcb35cd51d820d6d7213238/gcc%2Frust%2Ftypecheck%2Frust-tyty.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-tyty.cc?ref=22465fbc8cca239aadcb35cd51d820d6d7213238", "patch": "@@ -18,10 +18,7 @@\n \n #include \"rust-tyty.h\"\n \n-#include \"rust-hir-type-check-expr.h\"\n-#include \"rust-hir-type-check-type.h\"\n #include \"rust-tyty-visitor.h\"\n-#include \"rust-tyty-call.h\"\n #include \"rust-hir-map.h\"\n #include \"rust-location.h\"\n #include \"rust-linemap.h\"\n@@ -2961,7 +2958,7 @@ ParamType::get_name () const\n   if (!can_resolve ())\n     return get_symbol ();\n \n-  return resolve ()->get_name ();\n+  return destructure ()->get_name ();\n }\n \n bool"}]}