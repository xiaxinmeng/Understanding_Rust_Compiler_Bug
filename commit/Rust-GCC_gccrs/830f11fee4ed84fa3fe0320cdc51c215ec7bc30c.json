{"sha": "830f11fee4ed84fa3fe0320cdc51c215ec7bc30c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODMwZjExZmVlNGVkODRmYTNmZTAzMjBjZGM1MWMyMTVlYzdiYzMwYw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-07-08T23:48:53Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-07-08T23:48:53Z"}, "message": "dwarf2cfi: Insert notes correctly wrt tablejumps.\n\nPR bootstrap/49680\n        * dwarf2cfi.c (dwarf2out_frame_debug): Insert cfi notes after\n        any tablejump vector.\n\nFrom-SVN: r176065", "tree": {"sha": "377656380433669138a5edd1aa6731ac5c2467ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/377656380433669138a5edd1aa6731ac5c2467ef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/830f11fee4ed84fa3fe0320cdc51c215ec7bc30c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/830f11fee4ed84fa3fe0320cdc51c215ec7bc30c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/830f11fee4ed84fa3fe0320cdc51c215ec7bc30c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/830f11fee4ed84fa3fe0320cdc51c215ec7bc30c/comments", "author": null, "committer": null, "parents": [{"sha": "70db9095eaefb4aeb985487010521d47ee018205", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70db9095eaefb4aeb985487010521d47ee018205", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70db9095eaefb4aeb985487010521d47ee018205"}], "stats": {"total": 18, "additions": 16, "deletions": 2}, "files": [{"sha": "3ba9bf7ac5056505bc6210c791b63d331177b392", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/830f11fee4ed84fa3fe0320cdc51c215ec7bc30c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/830f11fee4ed84fa3fe0320cdc51c215ec7bc30c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=830f11fee4ed84fa3fe0320cdc51c215ec7bc30c", "patch": "@@ -1,3 +1,9 @@\n+2011-07-08  Richard Henderson  <rth@redhat.com>\n+\n+\tPR bootstrap/49680\n+\t* dwarf2cfi.c (dwarf2out_frame_debug): Insert cfi notes after\n+\tany tablejump vector.\n+\n 2011-07-08  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/49621"}, {"sha": "8031d48682bef2fa6e3711703b0fb0c4d7ade33b", "filename": "gcc/dwarf2cfi.c", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/830f11fee4ed84fa3fe0320cdc51c215ec7bc30c/gcc%2Fdwarf2cfi.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/830f11fee4ed84fa3fe0320cdc51c215ec7bc30c/gcc%2Fdwarf2cfi.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2cfi.c?ref=830f11fee4ed84fa3fe0320cdc51c215ec7bc30c", "patch": "@@ -2180,8 +2180,16 @@ dwarf2out_frame_debug (rtx insn, bool after_p)\n   bool handled_one = false;\n   bool need_flush = false;\n \n-  /* Remember where we are to insert notes.  */\n-  cfi_insn = (after_p ? insn : PREV_INSN (insn));\n+  /* Remember where we are to insert notes.  Do not separate tablejump\n+     insns from their ADDR_DIFF_VEC.  Putting the note after the VEC\n+     should be ok.  */\n+  if (after_p)\n+    {\n+      if (!tablejump_p (insn, NULL, &cfi_insn))\n+\tcfi_insn = insn;\n+    }\n+  else\n+    cfi_insn = PREV_INSN (insn);\n \n   if (!NONJUMP_INSN_P (insn) || clobbers_queued_reg_save (insn))\n     dwarf2out_flush_queued_reg_saves ();"}]}