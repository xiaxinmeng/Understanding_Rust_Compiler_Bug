{"sha": "7f103e88351413723e4dc3013824cf5a4c7a51f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2YxMDNlODgzNTE0MTM3MjNlNGRjMzAxMzgyNGNmNWE0YzdhNTFmMg==", "commit": {"author": {"name": "Stan Cox", "email": "scox@cygnus.com", "date": "2000-01-04T17:19:41Z"}, "committer": {"name": "Stan Cox", "email": "scox@gcc.gnu.org", "date": "2000-01-04T17:19:41Z"}, "message": "haifa-sched.c (build_control_flow): Change unreachable simple loop test to check if...\n\n2000-01-04  Stan Cox  <scox@cygnus.com>\n\t* haifa-sched.c (build_control_flow): Change unreachable simple\n\tloop test to check if current block has only one predecessor.\n\t(find_rgns): Initialize degree.  Use dest as degree index, not src.\n\nFrom-SVN: r31208", "tree": {"sha": "d84560fa135a4fbe6eb26708b345e558c43ee5ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d84560fa135a4fbe6eb26708b345e558c43ee5ab"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7f103e88351413723e4dc3013824cf5a4c7a51f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f103e88351413723e4dc3013824cf5a4c7a51f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f103e88351413723e4dc3013824cf5a4c7a51f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f103e88351413723e4dc3013824cf5a4c7a51f2/comments", "author": null, "committer": null, "parents": [{"sha": "a544cfd20164c1c8513be05e1c1976c0fd005735", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a544cfd20164c1c8513be05e1c1976c0fd005735", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a544cfd20164c1c8513be05e1c1976c0fd005735"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "6d630d441b44376f404f357370df17950e110c9b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f103e88351413723e4dc3013824cf5a4c7a51f2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f103e88351413723e4dc3013824cf5a4c7a51f2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7f103e88351413723e4dc3013824cf5a4c7a51f2", "patch": "@@ -1,3 +1,9 @@\n+2000-01-04  Stan Cox  <scox@cygnus.com>\n+\n+\t* haifa-sched.c (build_control_flow): Change unreachable simple\n+\tloop test to check if current block has only one predecessor.\n+\t(find_rgns): Initialize degree.  Use dest as degree index, not src.\n+\n 2000-01-04  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* builtins.c (expand_builtin_strlen): Initialize variable `icode'."}, {"sha": "f9fb50464f938d39c8f6e843a669435517ef7289", "filename": "gcc/haifa-sched.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f103e88351413723e4dc3013824cf5a4c7a51f2/gcc%2Fhaifa-sched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f103e88351413723e4dc3013824cf5a4c7a51f2/gcc%2Fhaifa-sched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhaifa-sched.c?ref=7f103e88351413723e4dc3013824cf5a4c7a51f2", "patch": "@@ -1061,7 +1061,7 @@ build_control_flow (edge_list)\n       basic_block b = BASIC_BLOCK (i);\n \n       if (b->pred == NULL\n-\t  || (b->pred->dest == b\n+\t  || (b->pred->src == b\n \t      && b->pred->pred_next == NULL))\n \tunreachable = 1;\n     }\n@@ -1531,12 +1531,14 @@ find_rgns (edge_list, dom)\n      to hold degree counts.  */\n   degree = dfs_nr;\n \n+  for (i = 0; i < n_basic_blocks; i++)\n+    degree[i] = 0;\n   for (i = 0; i < num_edges; i++)\n     {\n       edge e = INDEX_EDGE (edge_list, i);\n \n-      if (e->src != ENTRY_BLOCK_PTR)\n-\tdegree[e->src->index]++;\n+      if (e->dest != EXIT_BLOCK_PTR)\n+\tdegree[e->dest->index]++;\n     }\n \n   /* Do not perform region scheduling if there are any unreachable"}]}