{"sha": "683ebd75535df2238c74cec637724a906bc228df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjgzZWJkNzU1MzVkZjIyMzhjNzRjZWM2Mzc3MjRhOTA2YmMyMjhkZg==", "commit": {"author": {"name": "Olivier Hainque", "email": "hainque@adacore.com", "date": "2009-09-02T12:13:37Z"}, "committer": {"name": "Olivier Hainque", "email": "hainque@gcc.gnu.org", "date": "2009-09-02T12:13:37Z"}, "message": "decl.c (cannot_be_superflat_p): Handle Signed_Integer_Type_Definition Scalar_Ranges.\n\n        ada/\n        * gcc-interface/decl.c (cannot_be_superflat_p): Handle\n        Signed_Integer_Type_Definition Scalar_Ranges.\n\n        testsuite/\n        * gnat.dg/array7.ad[bs]: Add check for Signed_Integer_Type_Definition.\n\nFrom-SVN: r151322", "tree": {"sha": "1d92be14b5a112780ad63f8695c1a71f6b98e35d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d92be14b5a112780ad63f8695c1a71f6b98e35d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/683ebd75535df2238c74cec637724a906bc228df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/683ebd75535df2238c74cec637724a906bc228df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/683ebd75535df2238c74cec637724a906bc228df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/683ebd75535df2238c74cec637724a906bc228df/comments", "author": {"login": "hainque", "id": 18735142, "node_id": "MDQ6VXNlcjE4NzM1MTQy", "avatar_url": "https://avatars.githubusercontent.com/u/18735142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hainque", "html_url": "https://github.com/hainque", "followers_url": "https://api.github.com/users/hainque/followers", "following_url": "https://api.github.com/users/hainque/following{/other_user}", "gists_url": "https://api.github.com/users/hainque/gists{/gist_id}", "starred_url": "https://api.github.com/users/hainque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hainque/subscriptions", "organizations_url": "https://api.github.com/users/hainque/orgs", "repos_url": "https://api.github.com/users/hainque/repos", "events_url": "https://api.github.com/users/hainque/events{/privacy}", "received_events_url": "https://api.github.com/users/hainque/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "638381579be16f630292273a23ffc9282906ada9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/638381579be16f630292273a23ffc9282906ada9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/638381579be16f630292273a23ffc9282906ada9"}], "stats": {"total": 23, "additions": 19, "deletions": 4}, "files": [{"sha": "aab6b98096337031547345c75e7e75cfa7a8529b", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/683ebd75535df2238c74cec637724a906bc228df/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/683ebd75535df2238c74cec637724a906bc228df/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=683ebd75535df2238c74cec637724a906bc228df", "patch": "@@ -1,3 +1,8 @@\n+2009-09-02  Olivier Hainque  <hainque@adacore.com>\n+\n+\t* gcc-interface/decl.c (cannot_be_superflat_p): Handle\n+\tSigned_Integer_Type_Definition Scalar_Ranges.\n+\n 2009-09-02  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/trans.c (gnat_gimplify_expr) <ADDR_EXPR>: Gimplify the"}, {"sha": "9d385302c6bdda0ed967967b8501adfee348cd81", "filename": "gcc/ada/gcc-interface/decl.c", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/683ebd75535df2238c74cec637724a906bc228df/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/683ebd75535df2238c74cec637724a906bc228df/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fdecl.c?ref=683ebd75535df2238c74cec637724a906bc228df", "patch": "@@ -5298,21 +5298,27 @@ static bool\n cannot_be_superflat_p (Node_Id gnat_range)\n {\n   Node_Id gnat_lb = Low_Bound (gnat_range), gnat_hb = High_Bound (gnat_range);\n+  Node_Id scalar_range;\n+\n   tree gnu_lb, gnu_hb;\n \n   /* If the low bound is not constant, try to find an upper bound.  */\n   while (Nkind (gnat_lb) != N_Integer_Literal\n \t && (Ekind (Etype (gnat_lb)) == E_Signed_Integer_Subtype\n \t     || Ekind (Etype (gnat_lb)) == E_Modular_Integer_Subtype)\n-\t && Nkind (Scalar_Range (Etype (gnat_lb))) == N_Range)\n-    gnat_lb = High_Bound (Scalar_Range (Etype (gnat_lb)));\n+\t && (scalar_range = Scalar_Range (Etype (gnat_lb)))\n+\t && (Nkind (scalar_range) == N_Signed_Integer_Type_Definition\n+\t     || Nkind (scalar_range) == N_Range))\n+    gnat_lb = High_Bound (scalar_range);\n \n   /* If the high bound is not constant, try to find a lower bound.  */\n   while (Nkind (gnat_hb) != N_Integer_Literal\n \t && (Ekind (Etype (gnat_hb)) == E_Signed_Integer_Subtype\n \t     || Ekind (Etype (gnat_hb)) == E_Modular_Integer_Subtype)\n-\t && Nkind (Scalar_Range (Etype (gnat_hb))) == N_Range)\n-    gnat_hb = Low_Bound (Scalar_Range (Etype (gnat_hb)));\n+\t && (scalar_range = Scalar_Range (Etype (gnat_hb)))\n+\t && (Nkind (scalar_range) == N_Signed_Integer_Type_Definition\n+\t     || Nkind (scalar_range) == N_Range))\n+    gnat_hb = Low_Bound (scalar_range);\n \n   if (!(Nkind (gnat_lb) == N_Integer_Literal\n \t&& Nkind (gnat_hb) == N_Integer_Literal))"}, {"sha": "3e331d98ed8f31aa249c18e0d38469538a79c1bf", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/683ebd75535df2238c74cec637724a906bc228df/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/683ebd75535df2238c74cec637724a906bc228df/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=683ebd75535df2238c74cec637724a906bc228df", "patch": "@@ -1,3 +1,7 @@\n+2009-09-02  Olivier Hainque  <hainque@adacore.com>\n+\n+\t* gnat.dg/array7.ad[bs]: Add check for Signed_Integer_Type_Definition.\n+\t\n 2009-09-02  Eric Botcazou  <ebotcazou@adacore.com>\n             Olivier Hainque  <hainque@adacore.com>\n "}]}