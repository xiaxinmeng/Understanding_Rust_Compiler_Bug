{"sha": "d45ef29ed109d4bef53886a84a0da17c4f455d1f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDQ1ZWYyOWVkMTA5ZDRiZWY1Mzg4NmE4NGEwZGExN2M0ZjQ1NWQxZg==", "commit": {"author": {"name": "Marcin Ko\u015bcielnicki", "email": "koriakin@0x04.net", "date": "2016-01-21T09:55:38Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2016-01-21T09:55:38Z"}, "message": "S/390: Fix missing .size directives.\n\nIt seems at some point the .size hook was hijacked to emit some\nmachine-specific directives, and the actual .size directive was\nforgotten.  This caused problems for split-stack support, since\nlinker couldn't scan the function body for non-split-stack calls.\n\ngcc/ChangeLog:\n\n\t* config/s390/s390.c (s390_asm_declare_function_size): Add code\n\tto actually emit the .size directive.\n\nFrom-SVN: r232669", "tree": {"sha": "39a2a3c4eaca42b71d2b085b6eecab6899e82f01", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/39a2a3c4eaca42b71d2b085b6eecab6899e82f01"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d45ef29ed109d4bef53886a84a0da17c4f455d1f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d45ef29ed109d4bef53886a84a0da17c4f455d1f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d45ef29ed109d4bef53886a84a0da17c4f455d1f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d45ef29ed109d4bef53886a84a0da17c4f455d1f/comments", "author": {"login": "mwkmwkmwk", "id": 236399, "node_id": "MDQ6VXNlcjIzNjM5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/236399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mwkmwkmwk", "html_url": "https://github.com/mwkmwkmwk", "followers_url": "https://api.github.com/users/mwkmwkmwk/followers", "following_url": "https://api.github.com/users/mwkmwkmwk/following{/other_user}", "gists_url": "https://api.github.com/users/mwkmwkmwk/gists{/gist_id}", "starred_url": "https://api.github.com/users/mwkmwkmwk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mwkmwkmwk/subscriptions", "organizations_url": "https://api.github.com/users/mwkmwkmwk/orgs", "repos_url": "https://api.github.com/users/mwkmwkmwk/repos", "events_url": "https://api.github.com/users/mwkmwkmwk/events{/privacy}", "received_events_url": "https://api.github.com/users/mwkmwkmwk/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6d31cc758baf6756d0627da19b546625709176c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d31cc758baf6756d0627da19b546625709176c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d31cc758baf6756d0627da19b546625709176c6"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "0237f576e92f0290a20bde3822228403ddb1392a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d45ef29ed109d4bef53886a84a0da17c4f455d1f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d45ef29ed109d4bef53886a84a0da17c4f455d1f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d45ef29ed109d4bef53886a84a0da17c4f455d1f", "patch": "@@ -1,3 +1,8 @@\n+2016-01-21  Marcin Ko\u015bcielnicki  <koriakin@0x04.net>\n+\n+\t* config/s390/s390.c (s390_asm_declare_function_size): Add code\n+\tto actually emit the .size directive.\n+\n 2016-01-21   Stefan S\u00f8rensen  <stefan.sorensen@spectralink.com>\n \t     Jakub Jelinek  <jakub@redhat.com>\n "}, {"sha": "3be64de3570e15bd3b7ece74693bf060794d8a24", "filename": "gcc/config/s390/s390.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d45ef29ed109d4bef53886a84a0da17c4f455d1f/gcc%2Fconfig%2Fs390%2Fs390.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d45ef29ed109d4bef53886a84a0da17c4f455d1f/gcc%2Fconfig%2Fs390%2Fs390.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.c?ref=d45ef29ed109d4bef53886a84a0da17c4f455d1f", "patch": "@@ -6834,8 +6834,10 @@ s390_asm_output_function_prefix (FILE *asm_out_file,\n \n void\n s390_asm_declare_function_size (FILE *asm_out_file,\n-\t\t\t\tconst char *fnname ATTRIBUTE_UNUSED, tree decl)\n+\t\t\t\tconst char *fnname, tree decl)\n {\n+  if (!flag_inhibit_size_directive)\n+    ASM_OUTPUT_MEASURED_SIZE (asm_out_file, fnname);\n   if (DECL_FUNCTION_SPECIFIC_TARGET (decl) == NULL)\n     return;\n   fprintf (asm_out_file, \"\\t.machine pop\\n\");"}]}