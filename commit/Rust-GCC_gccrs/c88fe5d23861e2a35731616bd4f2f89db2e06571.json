{"sha": "c88fe5d23861e2a35731616bd4f2f89db2e06571", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzg4ZmU1ZDIzODYxZTJhMzU3MzE2MTZiZDRmMmY4OWRiMmUwNjU3MQ==", "commit": {"author": {"name": "John David Anglin", "email": "dave.anglin@nrc-cnrc.gc.ca", "date": "2012-12-01T19:43:04Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2012-12-01T19:43:04Z"}, "message": "re PR ada/52110 (s-osinte.ads:447:09: \"clockid_t\" conflicts with declaration at line 194)\n\n\tPR ada/52110\n\t* s-osinte-hpux-dce.ads: Declare pthread_rwlockattr_t and\n\tpthread_rwlock_t subtypes.  Delete duplicate declaration of clockid_t.\n\t* s-taspri-hpux-dce.ads: Change \"pragma Atomic (Thread)\" to comment.\n\nFrom-SVN: r194024", "tree": {"sha": "1395bb39585dbc0d075d7443764324b8bc35e765", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1395bb39585dbc0d075d7443764324b8bc35e765"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c88fe5d23861e2a35731616bd4f2f89db2e06571", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c88fe5d23861e2a35731616bd4f2f89db2e06571", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c88fe5d23861e2a35731616bd4f2f89db2e06571", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c88fe5d23861e2a35731616bd4f2f89db2e06571/comments", "author": null, "committer": null, "parents": [{"sha": "27ba7cea69be0dd1cc9f43baca7643a36e86356e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27ba7cea69be0dd1cc9f43baca7643a36e86356e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27ba7cea69be0dd1cc9f43baca7643a36e86356e"}], "stats": {"total": 20, "additions": 18, "deletions": 2}, "files": [{"sha": "57077d08b54c6349f373da3126e07f76ee0ce0c2", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c88fe5d23861e2a35731616bd4f2f89db2e06571/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c88fe5d23861e2a35731616bd4f2f89db2e06571/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=c88fe5d23861e2a35731616bd4f2f89db2e06571", "patch": "@@ -1,3 +1,10 @@\n+2012-12-01  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n+\n+\tPR ada/52110\n+\t* s-osinte-hpux-dce.ads: Declare pthread_rwlockattr_t and\n+\tpthread_rwlock_t subtypes.  Delete duplicate declaration of clockid_t.\n+\t* s-taspri-hpux-dce.ads: Change \"pragma Atomic (Thread)\" to comment.\n+\n 2012-11-28  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/decl.c (gnat_to_gnu_entity) <object>: Use"}, {"sha": "e6ee0ed5e8f4cfc16afe2edc426daf3d7970e2dd", "filename": "gcc/ada/s-osinte-hpux-dce.ads", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c88fe5d23861e2a35731616bd4f2f89db2e06571/gcc%2Fada%2Fs-osinte-hpux-dce.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c88fe5d23861e2a35731616bd4f2f89db2e06571/gcc%2Fada%2Fs-osinte-hpux-dce.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-osinte-hpux-dce.ads?ref=c88fe5d23861e2a35731616bd4f2f89db2e06571", "patch": "@@ -244,6 +244,14 @@ package System.OS_Interface is\n    type pthread_condattr_t  is limited private;\n    type pthread_key_t       is private;\n \n+   --  Read/Write lock not supported on HPUX. To add support both types\n+   --  pthread_rwlock_t and pthread_rwlockattr_t must properly be defined\n+   --  with the associated routines pthread_rwlock_[init/destroy] and\n+   --  pthread_rwlock_[rdlock/wrlock/unlock].\n+\n+   subtype pthread_rwlock_t     is pthread_mutex_t;\n+   subtype pthread_rwlockattr_t is pthread_mutexattr_t;\n+\n    -----------\n    -- Stack --\n    -----------\n@@ -444,7 +452,6 @@ private\n    end record;\n    pragma Convention (C, timespec);\n \n-   type clockid_t is new int;\n    CLOCK_REALTIME : constant clockid_t := 1;\n \n    type cma_t_address is new System.Address;"}, {"sha": "6cde3474699a3754f25d1b78acb632892c6117e8", "filename": "gcc/ada/s-taspri-hpux-dce.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c88fe5d23861e2a35731616bd4f2f89db2e06571/gcc%2Fada%2Fs-taspri-hpux-dce.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c88fe5d23861e2a35731616bd4f2f89db2e06571/gcc%2Fada%2Fs-taspri-hpux-dce.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-taspri-hpux-dce.ads?ref=c88fe5d23861e2a35731616bd4f2f89db2e06571", "patch": "@@ -102,7 +102,9 @@ private\n \n    type Private_Data is record\n       Thread : aliased System.OS_Interface.pthread_t;\n-      pragma Atomic (Thread);\n+      --  pragma Atomic (Thread);\n+      --  Unfortunately, the above fails because Thread is 64 bits.\n+\n       --  Thread field may be updated by two different threads of control.\n       --  (See, Enter_Task and Create_Task in s-taprop.adb). They put the\n       --  same value (thr_self value). We do not want to use lock on those"}]}