{"sha": "4faba5c3bc37c0bfceec6b254d76c5d0b3e2fe8b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGZhYmE1YzNiYzM3YzBiZmNlZWM2YjI1NGQ3NmM1ZDBiM2UyZmU4Yg==", "commit": {"author": {"name": "John Darrington", "email": "john@darrington.wattle.id.au", "date": "2019-07-09T19:11:27Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2019-07-09T19:11:27Z"}, "message": "simplify-rtx.c (simplify_unary_operation_1): Use GET_MODE_PRECISION rather than GET_MODE_BITSIZE to better handle partial...\n\n2019-07-09  John Darrington  <john@darrington.wattle.id.au>\n\n\t* simplify-rtx.c (simplify_unary_operation_1): Use GET_MODE_PRECISION\n\trather than GET_MODE_BITSIZE to better handle partial integer modes.\n\nFrom-SVN: r273312", "tree": {"sha": "0f006e571ca7dd5b2e173aa6d0e651ef24ab61e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f006e571ca7dd5b2e173aa6d0e651ef24ab61e4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4faba5c3bc37c0bfceec6b254d76c5d0b3e2fe8b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4faba5c3bc37c0bfceec6b254d76c5d0b3e2fe8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4faba5c3bc37c0bfceec6b254d76c5d0b3e2fe8b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4faba5c3bc37c0bfceec6b254d76c5d0b3e2fe8b/comments", "author": null, "committer": null, "parents": [{"sha": "99b1c316ec974a39bdd949f8559bb28861b69592", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99b1c316ec974a39bdd949f8559bb28861b69592", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99b1c316ec974a39bdd949f8559bb28861b69592"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "2061c1bb50ff9f257d283da49f8cb740e5fe1fe7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4faba5c3bc37c0bfceec6b254d76c5d0b3e2fe8b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4faba5c3bc37c0bfceec6b254d76c5d0b3e2fe8b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4faba5c3bc37c0bfceec6b254d76c5d0b3e2fe8b", "patch": "@@ -1,3 +1,8 @@\n+2019-07-09  John Darrington  <john@darrington.wattle.id.au>\n+\n+\t* simplify-rtx.c (simplify_unary_operation_1): Use GET_MODE_PRECISION\n+\trather than GET_MODE_BITSIZE to better handle partial integer modes.\n+\n 2019-07-09  Michael Meissner  <meissner@linux.ibm.com>\n \n \t* config/rs6000/rs6000-internal.h (create_TOC_reference): Delete."}, {"sha": "4892c49efcd45eb30bc6074a1757e133b75a3dff", "filename": "gcc/simplify-rtx.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4faba5c3bc37c0bfceec6b254d76c5d0b3e2fe8b/gcc%2Fsimplify-rtx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4faba5c3bc37c0bfceec6b254d76c5d0b3e2fe8b/gcc%2Fsimplify-rtx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsimplify-rtx.c?ref=4faba5c3bc37c0bfceec6b254d76c5d0b3e2fe8b", "patch": "@@ -1504,12 +1504,12 @@ simplify_unary_operation_1 (enum rtx_code code, machine_mode mode, rtx op)\n \t  && CONST_INT_P (XEXP (op, 1))\n \t  && XEXP (XEXP (op, 0), 1) == XEXP (op, 1)\n \t  && (op_mode = as_a <scalar_int_mode> (GET_MODE (op)),\n-\t      GET_MODE_BITSIZE (op_mode) > INTVAL (XEXP (op, 1))))\n+\t      GET_MODE_PRECISION (op_mode) > INTVAL (XEXP (op, 1))))\n \t{\n \t  scalar_int_mode tmode;\n-\t  gcc_assert (GET_MODE_BITSIZE (int_mode)\n-\t\t      > GET_MODE_BITSIZE (op_mode));\n-\t  if (int_mode_for_size (GET_MODE_BITSIZE (op_mode)\n+\t  gcc_assert (GET_MODE_PRECISION (int_mode)\n+\t\t      > GET_MODE_PRECISION (op_mode));\n+\t  if (int_mode_for_size (GET_MODE_PRECISION (op_mode)\n \t\t\t\t - INTVAL (XEXP (op, 1)), 1).exists (&tmode))\n \t    {\n \t      rtx inner ="}]}