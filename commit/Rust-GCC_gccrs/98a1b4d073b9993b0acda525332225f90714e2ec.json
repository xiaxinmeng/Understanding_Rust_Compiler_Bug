{"sha": "98a1b4d073b9993b0acda525332225f90714e2ec", "node_id": "C_kwDOANBUbNoAKDk4YTFiNGQwNzNiOTk5M2IwYWNkYTUyNTMzMjIyNWY5MDcxNGUyZWM", "commit": {"author": {"name": "Takayuki 'January June' Suwa", "email": "jjsuwa_sys3175@yahoo.co.jp", "date": "2022-12-27T06:30:12Z"}, "committer": {"name": "Max Filippov", "email": "jcmvbkbc@gmail.com", "date": "2022-12-27T15:38:39Z"}, "message": "xtensa: Change GP_RETURN{,_REG_COUNT} to GP_RETURN_{FIRST,LAST}\n\ngcc/ChangeLog:\n\n\t* config/xtensa/xtensa.h (GP_RETURN, GP_RETURN_REG_COUNT):\n\tChange to GP_RETURN_FIRST and GP_RETURN_LAST, respectively.\n\t* config/xtensa/xtensa.cc (xtensa_function_value,\n\txtensa_libcall_value, xtensa_function_value_regno_p): Ditto.", "tree": {"sha": "ea2af4ef2eb7bc990a30f480dee78ab8e5e3b695", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea2af4ef2eb7bc990a30f480dee78ab8e5e3b695"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/98a1b4d073b9993b0acda525332225f90714e2ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98a1b4d073b9993b0acda525332225f90714e2ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/98a1b4d073b9993b0acda525332225f90714e2ec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98a1b4d073b9993b0acda525332225f90714e2ec/comments", "author": {"login": "jjsuwa-sys3175", "id": 73290592, "node_id": "MDQ6VXNlcjczMjkwNTky", "avatar_url": "https://avatars.githubusercontent.com/u/73290592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jjsuwa-sys3175", "html_url": "https://github.com/jjsuwa-sys3175", "followers_url": "https://api.github.com/users/jjsuwa-sys3175/followers", "following_url": "https://api.github.com/users/jjsuwa-sys3175/following{/other_user}", "gists_url": "https://api.github.com/users/jjsuwa-sys3175/gists{/gist_id}", "starred_url": "https://api.github.com/users/jjsuwa-sys3175/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jjsuwa-sys3175/subscriptions", "organizations_url": "https://api.github.com/users/jjsuwa-sys3175/orgs", "repos_url": "https://api.github.com/users/jjsuwa-sys3175/repos", "events_url": "https://api.github.com/users/jjsuwa-sys3175/events{/privacy}", "received_events_url": "https://api.github.com/users/jjsuwa-sys3175/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jcmvbkbc", "id": 166731, "node_id": "MDQ6VXNlcjE2NjczMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/166731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcmvbkbc", "html_url": "https://github.com/jcmvbkbc", "followers_url": "https://api.github.com/users/jcmvbkbc/followers", "following_url": "https://api.github.com/users/jcmvbkbc/following{/other_user}", "gists_url": "https://api.github.com/users/jcmvbkbc/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcmvbkbc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcmvbkbc/subscriptions", "organizations_url": "https://api.github.com/users/jcmvbkbc/orgs", "repos_url": "https://api.github.com/users/jcmvbkbc/repos", "events_url": "https://api.github.com/users/jcmvbkbc/events{/privacy}", "received_events_url": "https://api.github.com/users/jcmvbkbc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b22f86ba9582b1483ff970aa73740864ceaa0860", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b22f86ba9582b1483ff970aa73740864ceaa0860", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b22f86ba9582b1483ff970aa73740864ceaa0860"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "66e253495211c7772fd65183b86b32d7146610d6", "filename": "gcc/config/xtensa/xtensa.cc", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/98a1b4d073b9993b0acda525332225f90714e2ec/gcc%2Fconfig%2Fxtensa%2Fxtensa.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/98a1b4d073b9993b0acda525332225f90714e2ec/gcc%2Fconfig%2Fxtensa%2Fxtensa.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Fxtensa.cc?ref=98a1b4d073b9993b0acda525332225f90714e2ec", "patch": "@@ -4526,9 +4526,9 @@ xtensa_function_value (const_tree valtype, const_tree func ATTRIBUTE_UNUSED,\n \t\t       bool outgoing)\n {\n   return gen_rtx_REG ((INTEGRAL_TYPE_P (valtype)\n-                      && TYPE_PRECISION (valtype) < BITS_PER_WORD)\n-                     ? SImode : TYPE_MODE (valtype),\n-                     outgoing ? GP_OUTGOING_RETURN : GP_RETURN);\n+\t\t       && TYPE_PRECISION (valtype) < BITS_PER_WORD)\n+\t\t      ? SImode : TYPE_MODE (valtype),\n+\t\t      outgoing ? GP_OUTGOING_RETURN : GP_RETURN_FIRST);\n }\n \n /* Worker function for TARGET_LIBCALL_VALUE.  */\n@@ -4538,15 +4538,15 @@ xtensa_libcall_value (machine_mode mode, const_rtx fun ATTRIBUTE_UNUSED)\n {\n   return gen_rtx_REG ((GET_MODE_CLASS (mode) == MODE_INT\n \t\t       && GET_MODE_SIZE (mode) < UNITS_PER_WORD)\n-\t\t      ? SImode : mode, GP_RETURN);\n+\t\t      ? SImode : mode, GP_RETURN_FIRST);\n }\n \n /* Worker function TARGET_FUNCTION_VALUE_REGNO_P.  */\n \n static bool\n xtensa_function_value_regno_p (const unsigned int regno)\n {\n-  return (regno >= GP_RETURN && regno < GP_RETURN + GP_RETURN_REG_COUNT);\n+  return IN_RANGE (regno, GP_RETURN_FIRST, GP_RETURN_LAST);\n }\n \n /* The static chain is passed in memory.  Provide rtx giving 'mem'"}, {"sha": "a7c112b8753860b3cbcd5ceee043983524b85061", "filename": "gcc/config/xtensa/xtensa.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/98a1b4d073b9993b0acda525332225f90714e2ec/gcc%2Fconfig%2Fxtensa%2Fxtensa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/98a1b4d073b9993b0acda525332225f90714e2ec/gcc%2Fconfig%2Fxtensa%2Fxtensa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Fxtensa.h?ref=98a1b4d073b9993b0acda525332225f90714e2ec", "patch": "@@ -474,9 +474,9 @@ enum reg_class\n \n /* Symbolic macros for the registers used to return integer, floating\n    point, and values of coprocessor and user-defined modes.  */\n-#define GP_RETURN (GP_REG_FIRST + 2 + WINDOW_SIZE)\n+#define GP_RETURN_FIRST (GP_REG_FIRST + 2 + WINDOW_SIZE)\n+#define GP_RETURN_LAST  (GP_RETURN_FIRST + 3)\n #define GP_OUTGOING_RETURN (GP_REG_FIRST + 2)\n-#define GP_RETURN_REG_COUNT 4\n \n /* Symbolic macros for the first/last argument registers.  */\n #define GP_ARG_FIRST (GP_REG_FIRST + 2)"}]}