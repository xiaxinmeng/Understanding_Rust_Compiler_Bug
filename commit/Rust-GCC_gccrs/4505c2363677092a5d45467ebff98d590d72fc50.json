{"sha": "4505c2363677092a5d45467ebff98d590d72fc50", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDUwNWMyMzYzNjc3MDkyYTVkNDU0NjdlYmZmOThkNTkwZDcyZmM1MA==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-06-15T07:42:17Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-06-15T07:42:17Z"}, "message": "genconfig.c (main): Allow targets to override HAVE_conditional_move.\n\n\t* genconfig.c (main): Allow targets to override HAVE_conditional_move.\n\t* jump.c (jump_optimize): Use it at run-time.\n\nFrom-SVN: r7482", "tree": {"sha": "3f503a7d991fdcf58418f9a57cc5de04c5621c0c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3f503a7d991fdcf58418f9a57cc5de04c5621c0c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4505c2363677092a5d45467ebff98d590d72fc50", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4505c2363677092a5d45467ebff98d590d72fc50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4505c2363677092a5d45467ebff98d590d72fc50", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4505c2363677092a5d45467ebff98d590d72fc50/comments", "author": null, "committer": null, "parents": [{"sha": "a3ae935a82ee25a9495de3824fb11b908518b242", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3ae935a82ee25a9495de3824fb11b908518b242", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3ae935a82ee25a9495de3824fb11b908518b242"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "f1585c6f169153216a8f030d4bea00bcff697374", "filename": "gcc/genconfig.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4505c2363677092a5d45467ebff98d590d72fc50/gcc%2Fgenconfig.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4505c2363677092a5d45467ebff98d590d72fc50/gcc%2Fgenconfig.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenconfig.c?ref=4505c2363677092a5d45467ebff98d590d72fc50", "patch": "@@ -343,7 +343,15 @@ from the machine description file `md'.  */\\n\\n\");\n     printf (\"#define HAVE_cc0\\n\");\n \n   if (have_cmove_flag)\n-    printf (\"#define HAVE_conditional_move\\n\");\n+    {\n+      /* ??? The #ifndef/#endif is a hack for targets like sparc where\n+         conditional moves don't exist for all versions of the\n+\t architecture.  This won't be needed after conditional move support\n+\t has been clean up.  */\n+      printf (\"#ifndef HAVE_conditional_move\\n\");\n+      printf (\"#define HAVE_conditional_move 1\\n\");\n+      printf (\"#endif\\n\");\n+    }\n \n   if (have_lo_sum_flag)\n     printf (\"#define HAVE_lo_sum\\n\");"}, {"sha": "f21f0855aec2f90f506f442459903844b8b46ee3", "filename": "gcc/jump.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4505c2363677092a5d45467ebff98d590d72fc50/gcc%2Fjump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4505c2363677092a5d45467ebff98d590d72fc50/gcc%2Fjump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjump.c?ref=4505c2363677092a5d45467ebff98d590d72fc50", "patch": "@@ -1038,7 +1038,7 @@ jump_optimize (f, cross_jump, noop_moves, after_regscan)\n \t\t      ((BRANCH_COST >= 2\n \t\t\t&& temp2 == const0_rtx)\n #ifdef HAVE_conditional_move\n-\t\t       || 1\n+\t\t       || HAVE_conditional_move\n #endif\n \t\t       || BRANCH_COST >= 3)))\n \t      /* INSN must either branch to the insn after TEMP or the insn\n@@ -1068,7 +1068,7 @@ jump_optimize (f, cross_jump, noop_moves, after_regscan)\n \t\t\t      && (reversep = can_reverse_comparison_p (temp4,\n \t\t\t\t\t\t\t\t       insn)))))\n #ifdef HAVE_conditional_move\n-\t\t  || 1\n+\t\t  || HAVE_conditional_move\n #endif\n \t\t  || BRANCH_COST >= 3)\n #ifdef HAVE_cc0"}]}