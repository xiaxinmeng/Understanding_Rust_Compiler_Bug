{"sha": "84df911b453a01260d20f36a3086363207c12079", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODRkZjkxMWI0NTNhMDEyNjBkMjBmMzZhMzA4NjM2MzIwN2MxMjA3OQ==", "commit": {"author": {"name": "Dehao Chen", "email": "dehao@google.com", "date": "2012-10-01T16:33:23Z"}, "committer": {"name": "Dehao Chen", "email": "dehao@gcc.gnu.org", "date": "2012-10-01T16:33:23Z"}, "message": "re PR middle-end/54759 (segfault for gcc.dg/vect/pr49093.c on Solaris)\n\n2012-10-01  Dehao Chen  <dehao@google.com>\n\n\tPR middle-end/54759\n\t* gcc/tree-vect-loop-manip.c (slpeel_make_loop_iterate_ntimes): Use\n\tLOCATION_LOCUS to compare with UNKNOWN_LOCATION.\n\t(slpeel_tree_peel_loop_to_edge): Likewise.\n\t* gcc/tree-vectorizer.c (vectorize_loops): Likewise.\n\nFrom-SVN: r191931", "tree": {"sha": "6db6edb49c936df87ae56cef023bca185c781bd3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6db6edb49c936df87ae56cef023bca185c781bd3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/84df911b453a01260d20f36a3086363207c12079", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84df911b453a01260d20f36a3086363207c12079", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84df911b453a01260d20f36a3086363207c12079", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84df911b453a01260d20f36a3086363207c12079/comments", "author": {"login": "danielcdh", "id": 694263, "node_id": "MDQ6VXNlcjY5NDI2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/694263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielcdh", "html_url": "https://github.com/danielcdh", "followers_url": "https://api.github.com/users/danielcdh/followers", "following_url": "https://api.github.com/users/danielcdh/following{/other_user}", "gists_url": "https://api.github.com/users/danielcdh/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielcdh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielcdh/subscriptions", "organizations_url": "https://api.github.com/users/danielcdh/orgs", "repos_url": "https://api.github.com/users/danielcdh/repos", "events_url": "https://api.github.com/users/danielcdh/events{/privacy}", "received_events_url": "https://api.github.com/users/danielcdh/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "83ddb39f042105cbb8861445c017062fe2c2d3a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83ddb39f042105cbb8861445c017062fe2c2d3a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83ddb39f042105cbb8861445c017062fe2c2d3a6"}], "stats": {"total": 19, "additions": 15, "deletions": 4}, "files": [{"sha": "3961099a1fe0c25a620eef9205a66a1f186c60e7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84df911b453a01260d20f36a3086363207c12079/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84df911b453a01260d20f36a3086363207c12079/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=84df911b453a01260d20f36a3086363207c12079", "patch": "@@ -1,3 +1,11 @@\n+2012-10-01  Dehao Chen  <dehao@google.com>\n+\n+\tPR middle-end/54759\n+\t* gcc/tree-vect-loop-manip.c (slpeel_make_loop_iterate_ntimes): Use\n+\tLOCATION_LOCUS to compare with UNKNOWN_LOCATION.\n+\t(slpeel_tree_peel_loop_to_edge): Likewise.\n+\t* gcc/tree-vectorizer.c (vectorize_loops): Likewise.\n+\n 2012-10-01  Andrew MacLeod  <amacleod@redhat.com>\n \n \tPR target/54087"}, {"sha": "a91dd910b684af61a580591afd9148555946762f", "filename": "gcc/tree-vect-loop-manip.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84df911b453a01260d20f36a3086363207c12079/gcc%2Ftree-vect-loop-manip.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84df911b453a01260d20f36a3086363207c12079/gcc%2Ftree-vect-loop-manip.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-loop-manip.c?ref=84df911b453a01260d20f36a3086363207c12079", "patch": "@@ -794,8 +794,9 @@ slpeel_make_loop_iterate_ntimes (struct loop *loop, tree niters)\n   loop_loc = find_loop_location (loop);\n   if (dump_kind_p (MSG_NOTE))\n     {\n-      dump_printf (MSG_NOTE, \"\\nloop at %s:%d: \", LOC_FILE (loop_loc),\n-                   LOC_LINE (loop_loc));\n+      if (LOCATION_LOCUS (loop_loc) != UNKNOWN_LOC)\n+\tdump_printf (MSG_NOTE, \"\\nloop at %s:%d: \", LOC_FILE (loop_loc),\n+\t\t     LOC_LINE (loop_loc));\n       dump_gimple_stmt (MSG_NOTE, TDF_SLIM, cond_stmt, 0);\n     }\n   loop->nb_iterations = niters;"}, {"sha": "4bd0e9b26e23d626ccaf6321e85125fae31e26bc", "filename": "gcc/tree-vectorizer.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84df911b453a01260d20f36a3086363207c12079/gcc%2Ftree-vectorizer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84df911b453a01260d20f36a3086363207c12079/gcc%2Ftree-vectorizer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vectorizer.c?ref=84df911b453a01260d20f36a3086363207c12079", "patch": "@@ -106,7 +106,8 @@ vectorize_loops (void)\n       {\n \tloop_vec_info loop_vinfo;\n \tvect_location = find_loop_location (loop);\n-        if (vect_location != UNKNOWN_LOC && dump_kind_p (MSG_ALL))\n+        if (LOCATION_LOCUS (vect_location) != UNKNOWN_LOC\n+\t    && dump_kind_p (MSG_ALL))\n \t  dump_printf (MSG_ALL, \"\\nAnalyzing loop at %s:%d\\n\",\n                        LOC_FILE (vect_location), LOC_LINE (vect_location));\n \n@@ -116,7 +117,8 @@ vectorize_loops (void)\n \tif (!loop_vinfo || !LOOP_VINFO_VECTORIZABLE_P (loop_vinfo))\n \t  continue;\n \n-        if (vect_location != UNKNOWN_LOC && dump_kind_p (MSG_ALL))\n+        if (LOCATION_LOCUS (vect_location) != UNKNOWN_LOC\n+\t    && dump_kind_p (MSG_ALL))\n           dump_printf (MSG_ALL, \"\\n\\nVectorizing loop at %s:%d\\n\",\n                        LOC_FILE (vect_location), LOC_LINE (vect_location));\n \tvect_transform_loop (loop_vinfo);"}]}