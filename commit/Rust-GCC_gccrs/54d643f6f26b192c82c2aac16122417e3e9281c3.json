{"sha": "54d643f6f26b192c82c2aac16122417e3e9281c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTRkNjQzZjZmMjZiMTkyYzgyYzJhYWMxNjEyMjQxN2UzZTkyODFjMw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-03-05T14:10:10Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-03-05T14:10:10Z"}, "message": "Include objc/thread.h.\n\nFrom-SVN: r11444", "tree": {"sha": "0ff2db4638bf36c7f8e2c5523bbe83092991a283", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0ff2db4638bf36c7f8e2c5523bbe83092991a283"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/54d643f6f26b192c82c2aac16122417e3e9281c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54d643f6f26b192c82c2aac16122417e3e9281c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/54d643f6f26b192c82c2aac16122417e3e9281c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54d643f6f26b192c82c2aac16122417e3e9281c3/comments", "author": null, "committer": null, "parents": [{"sha": "691466c0b514a5a20c0ae5ac9b9f082ecf795b28", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/691466c0b514a5a20c0ae5ac9b9f082ecf795b28", "html_url": "https://github.com/Rust-GCC/gccrs/commit/691466c0b514a5a20c0ae5ac9b9f082ecf795b28"}], "stats": {"total": 19, "additions": 16, "deletions": 3}, "files": [{"sha": "851cf2b3b7f46db47619d26e3f1fe65877d0d6d0", "filename": "gcc/objc/objc-api.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54d643f6f26b192c82c2aac16122417e3e9281c3/gcc%2Fobjc%2Fobjc-api.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54d643f6f26b192c82c2aac16122417e3e9281c3/gcc%2Fobjc%2Fobjc-api.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-api.h?ref=54d643f6f26b192c82c2aac16122417e3e9281c3", "patch": "@@ -1,5 +1,5 @@\n /* GNU Objective-C Runtime API.\n-   Copyright (C) 1993, 1995 Free Software Foundation, Inc.\n+   Copyright (C) 1993, 1995, 1996 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -29,6 +29,7 @@ Boston, MA 02111-1307, USA.  */\n \n #include \"objc/objc.h\"\n #include \"objc/hash.h\"\n+#include \"objc/thread.h\"\n #include <stdio.h>\n \n /* For functions which return Method_t */"}, {"sha": "23c292f9890bebf821dd3fedc160a70657813675", "filename": "gcc/objc/runtime.h", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54d643f6f26b192c82c2aac16122417e3e9281c3/gcc%2Fobjc%2Fruntime.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54d643f6f26b192c82c2aac16122417e3e9281c3/gcc%2Fobjc%2Fruntime.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fruntime.h?ref=54d643f6f26b192c82c2aac16122417e3e9281c3", "patch": "@@ -1,5 +1,5 @@\n /* GNU Objective C Runtime internal declarations\n-   Copyright (C) 1993, 1995 Free Software Foundation, Inc.\n+   Copyright (C) 1993, 1995, 1996 Free Software Foundation, Inc.\n    Contributed by Kresten Krab Thorup\n \n This file is part of GNU CC.\n@@ -37,8 +37,10 @@ Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */\n #include \"objc/objc.h\"\t\t/* core data types */\n #include \"objc/objc-api.h\"\t/* runtime api functions */\n \n+#include \"objc/thread.h\"  \t/* thread and mutex support */\n+\n #include \"objc/hash.h\"\t\t/* hash structures */\n-#include \"objc/list.h\"\t\t/* linear lists */\n+#include \"objc/objc-list.h\"\t\t/* linear lists */\n \n extern void __objc_add_class_to_hash(Class);   /* (objc-class.c) */\n extern void __objc_init_selector_tables();     /* (objc-sel.c) */\n@@ -48,6 +50,10 @@ extern void __objc_install_premature_dtable(Class); /* (objc-dispatch.c) */\n extern void __objc_resolve_class_links();      /* (objc-class.c) */\n extern void __objc_register_selectors_from_class(Class); /* (objc-sel.c) */\n extern void __objc_update_dispatch_table_for_class (Class);/* (objc-msg.c) */\n+\n+extern int  __objc_init_thread_system(void);    /* thread.c                 */\n+extern int  __objc_fini_thread_system(void);    /* thread.c                 */\n+\n extern void class_add_method_list(Class, MethodList_t);\n \n extern void objc_error(id object, const char* fmt, va_list);\n@@ -59,6 +65,12 @@ extern BOOL __objc_class_links_resolved;\n /* Number of selectors stored in each of the selector  tables */\n extern int __objc_selector_max_index;\n \n+/* Mutex locking __objc_selector_max_index and its arrays. */\n+extern _objc_mutex_t __objc_runtime_mutex;\n+\n+/* Number of threads which are alive. */\n+extern int __objc_runtime_threads_alive;\n+\n #ifdef DEBUG\n #define DEBUG_PRINTF(format, args...) printf (format, ## args)\n #else"}]}