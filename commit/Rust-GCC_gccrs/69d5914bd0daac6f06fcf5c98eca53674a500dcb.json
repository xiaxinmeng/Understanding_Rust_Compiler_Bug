{"sha": "69d5914bd0daac6f06fcf5c98eca53674a500dcb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjlkNTkxNGJkMGRhYWM2ZjA2ZmNmNWM5OGVjYTUzNjc0YTUwMGRjYg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "1999-04-12T12:34:41Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "1999-04-12T12:34:41Z"}, "message": "natSystem.cc (SystemClass): New define.\n\n\t* java/lang/natSystem.cc (SystemClass): New define.\n\t(init_properties): Synchronize.\n\nFrom-SVN: r26372", "tree": {"sha": "5a6ff6239742067af3dc7d23a0bdf76018a495aa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a6ff6239742067af3dc7d23a0bdf76018a495aa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/69d5914bd0daac6f06fcf5c98eca53674a500dcb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69d5914bd0daac6f06fcf5c98eca53674a500dcb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69d5914bd0daac6f06fcf5c98eca53674a500dcb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69d5914bd0daac6f06fcf5c98eca53674a500dcb/comments", "author": null, "committer": null, "parents": [{"sha": "ed45de98388acec5ed80b3a664c05b8b43f842ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed45de98388acec5ed80b3a664c05b8b43f842ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed45de98388acec5ed80b3a664c05b8b43f842ab"}], "stats": {"total": 26, "additions": 15, "deletions": 11}, "files": [{"sha": "9025a3d1a1d06a0d1927de50c9d3bfe4388f662e", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69d5914bd0daac6f06fcf5c98eca53674a500dcb/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69d5914bd0daac6f06fcf5c98eca53674a500dcb/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=69d5914bd0daac6f06fcf5c98eca53674a500dcb", "patch": "@@ -1,3 +1,8 @@\n+1999-04-12  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* java/lang/natSystem.cc (SystemClass): New define.\n+\t(init_properties): Synchronize.\n+\n 1999-04-08  Geoff Berry  <gcb@gnu.org>\n \n \t* natInetAddress.cc (lookup): Fix typo (AF_INET16 -> AF_INET6)."}, {"sha": "0d3993ecf24ebed29da174aaa204fdac9bc4c4ff", "filename": "libjava/Makefile.in", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69d5914bd0daac6f06fcf5c98eca53674a500dcb/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69d5914bd0daac6f06fcf5c98eca53674a500dcb/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=69d5914bd0daac6f06fcf5c98eca53674a500dcb", "patch": "@@ -502,7 +502,6 @@ MULTISUBDIR =\n MULTIDO = true\n MULTICLEAN = true\n \n-\n cygnus_hack = \n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n mkinstalldirs = $(SHELL) $(top_srcdir)/../mkinstalldirs\n@@ -1303,7 +1302,6 @@ distclean-multi:\n maintainer-clean-multi:\n \t$(MULTICLEAN) $(AM_MAKEFLAGS) DO=maintainer-clean multi-clean\n \n-\n # Tell versions [3.59,3.63) of GNU make to not export all variables.\n # Otherwise a system limit (for SysV at least) may be exceeded.\n .NOEXPORT:"}, {"sha": "6ceb642107495209f94126045c1e7970bb87ced1", "filename": "libjava/java/lang/natSystem.cc", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69d5914bd0daac6f06fcf5c98eca53674a500dcb/libjava%2Fjava%2Flang%2FnatSystem.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69d5914bd0daac6f06fcf5c98eca53674a500dcb/libjava%2Fjava%2Flang%2FnatSystem.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatSystem.cc?ref=69d5914bd0daac6f06fcf5c98eca53674a500dcb", "patch": "@@ -45,6 +45,9 @@ details.  */\n #include <java/io/PrintStream.h>\n #include <java/io/InputStream.h>\n \n+#define SystemClass _CL_Q34java4lang6System\n+extern java::lang::Class SystemClass;\n+\n \f\n \n #if defined (ECOS)\n@@ -175,9 +178,13 @@ java::lang::System::identityHashCode (jobject obj)\n void\n java::lang::System::init_properties (void)\n {\n-  if (prop_init)\n-    return;\n-  prop_init = true;\n+  {\n+    // We only need to synchronize around this gatekeeper.\n+    JvSynchronize sync (&SystemClass);\n+    if (prop_init)\n+      return;\n+    prop_init = true;\n+  }\n \n   properties = new java::util::Properties ();\n   // A convenience define."}, {"sha": "764c148a3cad4ad558a63d10dc34211600b962c2", "filename": "libjava/testsuite/Makefile.in", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69d5914bd0daac6f06fcf5c98eca53674a500dcb/libjava%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69d5914bd0daac6f06fcf5c98eca53674a500dcb/libjava%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FMakefile.in?ref=69d5914bd0daac6f06fcf5c98eca53674a500dcb", "patch": "@@ -71,22 +71,17 @@ COMPPATH = @COMPPATH@\n CPP = @CPP@\n CXX = @CXX@\n CXXCPP = @CXXCPP@\n-DLLTOOL = @DLLTOOL@\n EH_COMMON_INCLUDE = @EH_COMMON_INCLUDE@\n EXEEXT = @EXEEXT@\n GCDEPS = @GCDEPS@\n GCINCS = @GCINCS@\n GCLIBS = @GCLIBS@\n GCOBJS = @GCOBJS@\n-LD = @LD@\n LIBGCJ_CFLAGS = @LIBGCJ_CFLAGS@\n LIBGCJ_CXXFLAGS = @LIBGCJ_CXXFLAGS@\n LIBGCJ_JAVAFLAGS = @LIBGCJ_JAVAFLAGS@\n-LIBTOOL = @LIBTOOL@\n-LN_S = @LN_S@\n MAINT = @MAINT@\n MAKEINFO = @MAKEINFO@\n-NM = @NM@\n PACKAGE = @PACKAGE@\n PERL = @PERL@\n RANLIB = @RANLIB@\n@@ -234,7 +229,6 @@ clean-am:  clean-generic mostlyclean-am\n clean: clean-am\n \n distclean-am:  distclean-generic clean-am\n-\t-rm -f libtool\n \n distclean: distclean-am\n "}]}