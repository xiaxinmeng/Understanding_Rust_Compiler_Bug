{"sha": "83858ba1db31cd83667592a41d71315090459da4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODM4NThiYTFkYjMxY2Q4MzY2NzU5MmE0MWQ3MTMxNTA5MDQ1OWRhNA==", "commit": {"author": {"name": "liuhongt", "email": "hongtao.liu@intel.com", "date": "2020-09-16T02:53:52Z"}, "committer": {"name": "liuhongt", "email": "hongtao.liu@intel.com", "date": "2020-09-19T14:54:02Z"}, "message": "Increase rtx cost of sse_to_integer in skylake_cost.\n\nAs https://gcc.gnu.org/pipermail/gcc-patches/2019-August/528839.html\nindicates, movement between SSE and gpr should be much expensive than\nmovement inside gpr(which is 2 as default).\n\ngcc/ChangeLog\n\n\tPR target/96861\n\t* config/i386/x86-tune-costs.h (skylake_cost): increase rtx\n\tcost of sse_to_integer from 2 to 6.\n\ngcc/testsuite\n\n\t* gcc.target/i386/pr95021-3.c: Add -mtune=generic.", "tree": {"sha": "f4b28811d485217ade77c18334af09b1f51bd819", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f4b28811d485217ade77c18334af09b1f51bd819"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/83858ba1db31cd83667592a41d71315090459da4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83858ba1db31cd83667592a41d71315090459da4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83858ba1db31cd83667592a41d71315090459da4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83858ba1db31cd83667592a41d71315090459da4/comments", "author": {"login": "algebra84", "id": 22926165, "node_id": "MDQ6VXNlcjIyOTI2MTY1", "avatar_url": "https://avatars.githubusercontent.com/u/22926165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/algebra84", "html_url": "https://github.com/algebra84", "followers_url": "https://api.github.com/users/algebra84/followers", "following_url": "https://api.github.com/users/algebra84/following{/other_user}", "gists_url": "https://api.github.com/users/algebra84/gists{/gist_id}", "starred_url": "https://api.github.com/users/algebra84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/algebra84/subscriptions", "organizations_url": "https://api.github.com/users/algebra84/orgs", "repos_url": "https://api.github.com/users/algebra84/repos", "events_url": "https://api.github.com/users/algebra84/events{/privacy}", "received_events_url": "https://api.github.com/users/algebra84/received_events", "type": "User", "site_admin": false}, "committer": {"login": "algebra84", "id": 22926165, "node_id": "MDQ6VXNlcjIyOTI2MTY1", "avatar_url": "https://avatars.githubusercontent.com/u/22926165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/algebra84", "html_url": "https://github.com/algebra84", "followers_url": "https://api.github.com/users/algebra84/followers", "following_url": "https://api.github.com/users/algebra84/following{/other_user}", "gists_url": "https://api.github.com/users/algebra84/gists{/gist_id}", "starred_url": "https://api.github.com/users/algebra84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/algebra84/subscriptions", "organizations_url": "https://api.github.com/users/algebra84/orgs", "repos_url": "https://api.github.com/users/algebra84/repos", "events_url": "https://api.github.com/users/algebra84/events{/privacy}", "received_events_url": "https://api.github.com/users/algebra84/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "239601c53b03880832193f34c799d20fd2c5fe70", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/239601c53b03880832193f34c799d20fd2c5fe70", "html_url": "https://github.com/Rust-GCC/gccrs/commit/239601c53b03880832193f34c799d20fd2c5fe70"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "5de414935f85a543ba9e7d3b30d9234053dd9c05", "filename": "gcc/config/i386/x86-tune-costs.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83858ba1db31cd83667592a41d71315090459da4/gcc%2Fconfig%2Fi386%2Fx86-tune-costs.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83858ba1db31cd83667592a41d71315090459da4/gcc%2Fconfig%2Fi386%2Fx86-tune-costs.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fx86-tune-costs.h?ref=83858ba1db31cd83667592a41d71315090459da4", "patch": "@@ -1769,7 +1769,7 @@ struct processor_costs skylake_cost = {\n   {6, 6, 6, 10, 20},\t\t\t/* cost of unaligned loads.  */\n   {8, 8, 8, 8, 16},\t\t\t/* cost of unaligned stores.  */\n   2, 2, 4,\t\t\t\t/* cost of moving XMM,YMM,ZMM register */\n-  2,\t\t\t\t\t/* cost of moving SSE register to integer.  */\n+  6,\t\t\t\t\t/* cost of moving SSE register to integer.  */\n   20, 8,\t\t\t\t/* Gather load static, per_elt.  */\n   22, 10,\t\t\t\t/* Gather store static, per_elt.  */\n   64,\t\t\t\t\t/* size of l1 cache.  */"}, {"sha": "52f9e4569b36502cf7f5e15290c35098759786f1", "filename": "gcc/testsuite/gcc.target/i386/pr95021-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83858ba1db31cd83667592a41d71315090459da4/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr95021-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83858ba1db31cd83667592a41d71315090459da4/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr95021-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr95021-3.c?ref=83858ba1db31cd83667592a41d71315090459da4", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target ia32 } } */\n-/* { dg-options \"-O2 -msse2 -mstv -mregparm=3 -W\" } */\n+/* { dg-options \"-O2 -msse2 -mstv -mregparm=3 -W -mtune=generic\" } */\n /* { dg-final { scan-assembler \"movq\\[ \\t\\]+\\[^\\n\\]*, %xmm\" } } */\n \n #include \"pr95021-1.c\""}]}