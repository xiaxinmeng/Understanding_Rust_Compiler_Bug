{"sha": "58efc3ac598a5051d9a6ebafa7ed8bd43a0c81ac", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NThlZmMzYWM1OThhNTA1MWQ5YTZlYmFmYTdlZDhiZDQzYTBjODFhYw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2010-05-18T22:37:32Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2010-05-18T22:37:32Z"}, "message": "* ipa-reference.c (propagate): Walk all nodes in the cleanup stage.\n\nFrom-SVN: r159546", "tree": {"sha": "df5711a33875cabb0ee0bced7b14bf0b2b0f4e66", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df5711a33875cabb0ee0bced7b14bf0b2b0f4e66"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/58efc3ac598a5051d9a6ebafa7ed8bd43a0c81ac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58efc3ac598a5051d9a6ebafa7ed8bd43a0c81ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58efc3ac598a5051d9a6ebafa7ed8bd43a0c81ac", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58efc3ac598a5051d9a6ebafa7ed8bd43a0c81ac/comments", "author": null, "committer": null, "parents": [{"sha": "0495bafc275da774004e17904228551ac9405933", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0495bafc275da774004e17904228551ac9405933", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0495bafc275da774004e17904228551ac9405933"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "d6692f4af6b25e5c35dabe09ac0d952373dca001", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58efc3ac598a5051d9a6ebafa7ed8bd43a0c81ac/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58efc3ac598a5051d9a6ebafa7ed8bd43a0c81ac/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=58efc3ac598a5051d9a6ebafa7ed8bd43a0c81ac", "patch": "@@ -1,3 +1,7 @@\n+2010-05-18  Jan Hubicka  <jh@suse.cz>\n+\n+\t* ipa-reference.c (propagate): Walk all nodes in the cleanup stage.\n+\n 2010-05-18  Vladimir Makarov  <vmakarov@redhat.com>\n \n \tPR rtl-optimization/43332"}, {"sha": "a66e6279e163652edb323cfebd4fb029e3d760aa", "filename": "gcc/ipa-reference.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58efc3ac598a5051d9a6ebafa7ed8bd43a0c81ac/gcc%2Fipa-reference.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58efc3ac598a5051d9a6ebafa7ed8bd43a0c81ac/gcc%2Fipa-reference.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-reference.c?ref=58efc3ac598a5051d9a6ebafa7ed8bd43a0c81ac", "patch": "@@ -835,13 +835,15 @@ propagate (void)\n     }\n \n   /* Cleanup. */\n-  for (i = 0; i < order_pos; i++ )\n+  for (node = cgraph_nodes; node; node = node->next)\n     {\n       ipa_reference_vars_info_t node_info;\n       ipa_reference_global_vars_info_t node_g;\n       ipa_reference_optimization_summary_t opt;\n \n-      node = order[i];\n+      if (!node->analyzed)\n+        continue;\n+\n       node_info = get_reference_vars_info (node);\n       if (cgraph_function_body_availability (node) > AVAIL_OVERWRITABLE)\n \t{"}]}