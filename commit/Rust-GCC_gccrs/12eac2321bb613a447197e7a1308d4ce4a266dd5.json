{"sha": "12eac2321bb613a447197e7a1308d4ce4a266dd5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTJlYWMyMzIxYmI2MTNhNDQ3MTk3ZTdhMTMwOGQ0Y2U0YTI2NmRkNQ==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2018-11-16T12:49:32Z"}, "committer": {"name": "Martin Liska", "email": "marxin@gcc.gnu.org", "date": "2018-11-16T12:49:32Z"}, "message": "Fix ICE in lto_symtab_merge_symbols_1 (PR lto/88004).\n\n2018-11-16  Martin Liska  <mliska@suse.cz>\n\n\tPR lto/88004\n\t* lto-symtab.c (lto_symtab_merge_symbols_1): Do not call\n\tlto_symtab_symbol_p as it does checking of transparent alias.\n\tThese needs to be also merged in the function.\n\nFrom-SVN: r266207", "tree": {"sha": "0bb4e956c2dd5a9145afc71667fe9dbcad7f0a08", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0bb4e956c2dd5a9145afc71667fe9dbcad7f0a08"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/12eac2321bb613a447197e7a1308d4ce4a266dd5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12eac2321bb613a447197e7a1308d4ce4a266dd5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12eac2321bb613a447197e7a1308d4ce4a266dd5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12eac2321bb613a447197e7a1308d4ce4a266dd5/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f6dee9fef9bd27698e66fb8a15d90cceb2fbe5a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6dee9fef9bd27698e66fb8a15d90cceb2fbe5a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6dee9fef9bd27698e66fb8a15d90cceb2fbe5a3"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "4798663336c76e2790f920706e36e69f1130adf2", "filename": "gcc/lto/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12eac2321bb613a447197e7a1308d4ce4a266dd5/gcc%2Flto%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12eac2321bb613a447197e7a1308d4ce4a266dd5/gcc%2Flto%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2FChangeLog?ref=12eac2321bb613a447197e7a1308d4ce4a266dd5", "patch": "@@ -1,3 +1,10 @@\n+2018-11-16  Martin Liska  <mliska@suse.cz>\n+\n+\tPR lto/88004\n+\t* lto-symtab.c (lto_symtab_merge_symbols_1): Do not call\n+\tlto_symtab_symbol_p as it does checking of transparent alias.\n+\tThese needs to be also merged in the function.\n+\n 2018-10-30  Michael Ploujnikov  <michael.ploujnikov@oracle.com>\n \n \t* lto-partition.c (privatize_symbol_name_1): Use"}, {"sha": "18437eb2841120613c3fe1813c9e9ec23a2dd75a", "filename": "gcc/lto/lto-symtab.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12eac2321bb613a447197e7a1308d4ce4a266dd5/gcc%2Flto%2Flto-symtab.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12eac2321bb613a447197e7a1308d4ce4a266dd5/gcc%2Flto%2Flto-symtab.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2Flto-symtab.c?ref=12eac2321bb613a447197e7a1308d4ce4a266dd5", "patch": "@@ -894,10 +894,11 @@ lto_symtab_merge_symbols_1 (symtab_node *prevailing)\n        e = next)\n     {\n       next = e->next_sharing_asm_name;\n+      cgraph_node *ce = dyn_cast <cgraph_node *> (e);\n \n-      if (!lto_symtab_symbol_p (e))\n+      if ((!TREE_PUBLIC (e->decl) && !DECL_EXTERNAL (e->decl))\n+\t  || (ce != NULL && ce->global.inlined_to))\n \tcontinue;\n-      cgraph_node *ce = dyn_cast <cgraph_node *> (e);\n       symtab_node *to = symtab_node::get (lto_symtab_prevailing_decl (e->decl));\n \n       /* No matter how we are going to deal with resolution, we will ultimately"}]}