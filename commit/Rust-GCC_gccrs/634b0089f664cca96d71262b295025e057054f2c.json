{"sha": "634b0089f664cca96d71262b295025e057054f2c", "node_id": "C_kwDOANBUbNoAKDYzNGIwMDg5ZjY2NGNjYTk2ZDcxMjYyYjI5NTAyNWUwNTcwNTRmMmM", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-05-26T08:49:40Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-05-26T09:05:51Z"}, "message": "libstdc++: Fix printing of std::atomic<shared_ptr<T>> for versioned namespace\n\nlibstdc++-v3/ChangeLog:\n\n\t* python/libstdcxx/v6/printers.py (SharedPointerPrinter): Strip\n\tversioned namespace from the template argument too.", "tree": {"sha": "66ffaf70a68da882f4cbc6cbe02a3e15aee10de6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/66ffaf70a68da882f4cbc6cbe02a3e15aee10de6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/634b0089f664cca96d71262b295025e057054f2c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/634b0089f664cca96d71262b295025e057054f2c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/634b0089f664cca96d71262b295025e057054f2c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/634b0089f664cca96d71262b295025e057054f2c/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6eb60ced21ebca771bf085b3cc339569f3ccb106", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6eb60ced21ebca771bf085b3cc339569f3ccb106", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6eb60ced21ebca771bf085b3cc339569f3ccb106"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "17d5e5b5731aabc1321eadd35424a8028610449a", "filename": "libstdc++-v3/python/libstdcxx/v6/printers.py", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/634b0089f664cca96d71262b295025e057054f2c/libstdc%2B%2B-v3%2Fpython%2Flibstdcxx%2Fv6%2Fprinters.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/634b0089f664cca96d71262b295025e057054f2c/libstdc%2B%2B-v3%2Fpython%2Flibstdcxx%2Fv6%2Fprinters.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fpython%2Flibstdcxx%2Fv6%2Fprinters.py?ref=634b0089f664cca96d71262b295025e057054f2c", "patch": "@@ -242,6 +242,7 @@ def to_string (self):\n         state = 'empty'\n         refcounts = self._get_refcounts()\n         targ = self.val.type.template_argument(0)\n+        targ = strip_versioned_namespace(str(targ))\n \n         if refcounts != 0:\n             usecount = refcounts['_M_use_count']\n@@ -250,7 +251,7 @@ def to_string (self):\n                 state = 'expired, weak count %d' % weakcount\n             else:\n                 state = 'use count %d, weak count %d' % (usecount, weakcount - 1)\n-        return '%s<%s> (%s)' % (self.typename, str(targ), state)\n+        return '%s<%s> (%s)' % (self.typename, targ, state)\n \n def _tuple_impl_get(val):\n     \"Return the tuple element stored in a _Tuple_impl<N, T> base class.\""}]}