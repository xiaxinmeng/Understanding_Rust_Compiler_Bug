{"sha": "47b41fa34abeff893fb1358c8154e681e68fdddd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDdiNDFmYTM0YWJlZmY4OTNmYjEzNThjODE1NGU2ODFlNjhmZGRkZA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2007-01-18T19:29:48Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2007-01-18T19:29:48Z"}, "message": "200x-xx-xx Nathan Sidwell <nathan@codesourcery.com>\n\ngcc/\n200x-xx-xx  Nathan Sidwell  <nathan@codesourcery.com>\n\n\t* config.gcc (m68k-*-aout*, m68k-*-coff*, m68020-*-elf*, m68k-*-elf*)\n\t(m68k-*-uclinuxoldabi, m68k-*-uclinux*, m68k-*-rtems*): Add t-floatlib\n\tto $tmake_file.\n\t* config/m68k/t-floatlib: New file, extracting common code from...\n\t* config/m68k/t-m68kbare, config/m68k/t-m68kelf,\n\t* config/m68k/t-uclinux: Here.\n\t* config/m68k/fpgnulib.c: Do not compile extendeed precision\n\troutines on ColdFire targets.\n\nFrom-SVN: r120917", "tree": {"sha": "c1ce496cc8ad1aab36c512fa6b5b52749444b6b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c1ce496cc8ad1aab36c512fa6b5b52749444b6b7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/47b41fa34abeff893fb1358c8154e681e68fdddd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47b41fa34abeff893fb1358c8154e681e68fdddd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47b41fa34abeff893fb1358c8154e681e68fdddd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47b41fa34abeff893fb1358c8154e681e68fdddd/comments", "author": null, "committer": null, "parents": [{"sha": "a96533d5e5ec94af81be2c74a41d8f67fb809cfe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a96533d5e5ec94af81be2c74a41d8f67fb809cfe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a96533d5e5ec94af81be2c74a41d8f67fb809cfe"}], "stats": {"total": 83, "additions": 35, "deletions": 48}, "files": [{"sha": "5a23a4aab6d323e3e65da0d4f4fb007c641f75d6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47b41fa34abeff893fb1358c8154e681e68fdddd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47b41fa34abeff893fb1358c8154e681e68fdddd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=47b41fa34abeff893fb1358c8154e681e68fdddd", "patch": "@@ -1,3 +1,14 @@\n+2007-01-18  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* config.gcc (m68k-*-aout*, m68k-*-coff*, m68020-*-elf*, m68k-*-elf*)\n+\t(m68k-*-uclinuxoldabi, m68k-*-uclinux*, m68k-*-rtems*): Add t-floatlib\n+\tto $tmake_file.\n+\t* config/m68k/t-floatlib: New file, extracting common code from...\n+\t* config/m68k/t-m68kbare, config/m68k/t-m68kelf,\n+\t* config/m68k/t-uclinux: Here.\n+\t* config/m68k/fpgnulib.c: Do not compile extendeed precision\n+\troutines on ColdFire targets.\n+\n 2007-01-18  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* config.gcc (m68k-*-aout*, m68k-*-coff*, m68020-*-elf*, m68k-*-elf*)"}, {"sha": "b55f3b510b54802335d8512431401006bcb8dd16", "filename": "gcc/config.gcc", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47b41fa34abeff893fb1358c8154e681e68fdddd/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47b41fa34abeff893fb1358c8154e681e68fdddd/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=47b41fa34abeff893fb1358c8154e681e68fdddd", "patch": "@@ -1479,12 +1479,12 @@ m68hc12-*-*|m6812-*-*)\n         ;;\n m68k-*-aout*)\n \tdefault_m68k_cpu=68020\n-\ttmake_file=m68k/t-m68kbare\n+\ttmake_file=\"m68k/t-floatlib m68k/t-m68kbare\"\n \ttm_file=\"${tm_file} m68k/m68k-none.h m68k/m68kemb.h m68k/m68k-aout.h libgloss.h\"\n \t;;\n m68k-*-coff*)\n \tdefault_m68k_cpu=68020\n-\ttmake_file=m68k/t-m68kbare\n+\ttmake_file=\"m68k/t-floatlib m68k/t-m68kbare\"\n \ttm_defines=\"${tm_defines} MOTOROLA=1 USE_GAS\"\n \ttm_file=\"${tm_file} m68k/m68k-none.h m68k/m68kemb.h dbxcoff.h m68k/coff.h dbx.h\"\n \tuse_fixproto=yes\n@@ -1493,7 +1493,7 @@ m68020-*-elf* | m68k-*-elf*)\n \tdefault_m68k_cpu=68020\n \ttm_file=\"${tm_file} m68k/m68k-none.h m68k/m68kelf.h dbxelf.h elfos.h m68k/m68kemb.h m68k/m68020-elf.h\"\n \ttm_defines=\"${tm_defines} MOTOROLA=1 USE_GAS\"\n-\ttmake_file=m68k/t-m68kelf\n+\ttmake_file=\"m68k/t-floatlib m68k/t-m68kelf\"\n \textra_parts=\"crtbegin.o crtend.o\"\n \t;;\n m68010-*-netbsdelf* | m68k*-*-netbsdelf*)\n@@ -1516,7 +1516,7 @@ m68k-*-uclinuxoldabi*)\t\t# Motorola m68k/ColdFire running uClinux\n \tdefault_m68k_cpu=68020\n \ttm_file=\"${tm_file} m68k/m68k-none.h m68k/m68kelf.h dbxelf.h elfos.h m68k/uclinux-oldabi.h\"\n  \ttm_defines=\"${tm_defines} MOTOROLA=1 USE_GAS\"\n-\ttmake_file=m68k/t-uclinux\n+\ttmake_file=\"m68k/t-floatlib m68k/t-uclinux\"\n \tuse_fixproto=no\n \t;;\n m68k-*-uclinux*)\t\t# Motorola m68k/ColdFire running uClinux\n@@ -1526,7 +1526,7 @@ m68k-*-uclinux*)\t\t# Motorola m68k/ColdFire running uClinux\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h linux.h flat.h m68k/linux.h m68k/uclinux.h\"\n  \ttm_defines=\"${tm_defines} MOTOROLA=1 USE_GAS UCLIBC_DEFAULT=1\"\n \textra_options=\"${extra_options} linux.opt\"\n-\ttmake_file=m68k/t-uclinux\n+\ttmake_file=\"m68k/t-floatlib m68k/t-uclinux\"\n \tuse_fixproto=no\n \t;;\n m68k-*-linux*)\t\t# Motorola m68k's running GNU/Linux\n@@ -1544,7 +1544,7 @@ m68k-*-linux*)\t\t# Motorola m68k's running GNU/Linux\n \t;;\n m68k-*-rtems*)\n \tdefault_m68k_cpu=68020\n-\ttmake_file=\"m68k/t-m68kbare m68k/t-crtstuff t-rtems m68k/t-rtems\"\n+\ttmake_file=\"m68k/t-floatlib m68k/t-m68kbare m68k/t-crtstuff t-rtems m68k/t-rtems\"\n \ttm_file=\"${tm_file} m68k/m68k-none.h m68k/m68kelf.h dbxelf.h elfos.h m68k/m68kemb.h m68k/m68020-elf.h m68k/rtemself.h rtems.h\"\n \ttm_defines=\"${tm_defines} MOTOROLA=1 USE_GAS\"\n \textra_parts=\"crtbegin.o crtend.o\""}, {"sha": "cbff9184abfc6f561ae483a7ddc3a9cb99034754", "filename": "gcc/config/m68k/fpgnulib.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47b41fa34abeff893fb1358c8154e681e68fdddd/gcc%2Fconfig%2Fm68k%2Ffpgnulib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47b41fa34abeff893fb1358c8154e681e68fdddd/gcc%2Fconfig%2Fm68k%2Ffpgnulib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Ffpgnulib.c?ref=47b41fa34abeff893fb1358c8154e681e68fdddd", "patch": "@@ -361,6 +361,10 @@ __fixsfsi (float a1)\n \f\n #else /* EXTFLOAT */\n \n+/* We do not need these routines for coldfire, as it has no extended\n+   float format. */\n+#if !defined (__mcoldfire__)\n+\n /* Primitive extended precision floating point support.\n \n    We assume all numbers are normalized, don't do any rounding, etc.  */\n@@ -569,4 +573,5 @@ __gexf2 (long double x1, long double x2)\n   return __cmpdf2 ((double) x1, (double) x2);\n }\n \n+#endif /* !__mcoldfire__ */\n #endif /* EXTFLOAT */"}, {"sha": "91703be86c183a15475d6a5af538be201e9d34ff", "filename": "gcc/config/m68k/t-floatlib", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47b41fa34abeff893fb1358c8154e681e68fdddd/gcc%2Fconfig%2Fm68k%2Ft-floatlib", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47b41fa34abeff893fb1358c8154e681e68fdddd/gcc%2Fconfig%2Fm68k%2Ft-floatlib", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Ft-floatlib?ref=47b41fa34abeff893fb1358c8154e681e68fdddd", "patch": "@@ -0,0 +1,13 @@\n+LIB1ASMSRC = m68k/lb1sf68.asm\n+LIB1ASMFUNCS = _mulsi3 _udivsi3 _divsi3 _umodsi3 _modsi3 \\\n+   _double _float _floatex \\\n+   _eqdf2 _nedf2 _gtdf2 _gedf2 _ltdf2 _ledf2 \\\n+   _eqsf2 _nesf2 _gtsf2 _gesf2 _ltsf2 _lesf2\n+\n+LIB2FUNCS_EXTRA = fpgnulib.c xfgnulib.c\n+\n+fpgnulib.c: $(srcdir)/config/m68k/fpgnulib.c\n+\tcp $(srcdir)/config/m68k/fpgnulib.c fpgnulib.c\n+xfgnulib.c: $(srcdir)/config/m68k/fpgnulib.c\n+\techo '#define EXTFLOAT' > xfgnulib.c\n+\tcat $(srcdir)/config/m68k/fpgnulib.c >> xfgnulib.c"}, {"sha": "7a93d620e3fa3c7b71e7a2fdb476ee6700d7dfe2", "filename": "gcc/config/m68k/t-m68kbare", "status": "modified", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47b41fa34abeff893fb1358c8154e681e68fdddd/gcc%2Fconfig%2Fm68k%2Ft-m68kbare", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47b41fa34abeff893fb1358c8154e681e68fdddd/gcc%2Fconfig%2Fm68k%2Ft-m68kbare", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Ft-m68kbare?ref=47b41fa34abeff893fb1358c8154e681e68fdddd", "patch": "@@ -1,17 +1,3 @@\n-LIB1ASMSRC = m68k/lb1sf68.asm\n-LIB1ASMFUNCS = _mulsi3 _udivsi3 _divsi3 _umodsi3 _modsi3 \\\n-   _double _float _floatex \\\n-   _eqdf2 _nedf2 _gtdf2 _gedf2 _ltdf2 _ledf2 \\\n-   _eqsf2 _nesf2 _gtsf2 _gesf2 _ltsf2 _lesf2\n-\n-LIB2FUNCS_EXTRA = fpgnulib.c xfgnulib.c\n-\n-fpgnulib.c: $(srcdir)/config/m68k/fpgnulib.c\n-\tcp $(srcdir)/config/m68k/fpgnulib.c fpgnulib.c\n-xfgnulib.c: $(srcdir)/config/m68k/fpgnulib.c\n-\techo '#define EXTFLOAT' > xfgnulib.c\n-\tcat $(srcdir)/config/m68k/fpgnulib.c >> xfgnulib.c\n-\n MULTILIB_OPTIONS = m68000/m68020/m5200/mcpu32/m68040/m68060 m68881/msoft-float\n MULTILIB_DIRNAMES =\n MULTILIB_MATCHES = m68000=mc68000 m68000=m68302 mcpu32=m68332 m68020=mc68020 "}, {"sha": "a88d323ae71717f8a8a5e1dfc1db2acf67e97730", "filename": "gcc/config/m68k/t-m68kelf", "status": "modified", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47b41fa34abeff893fb1358c8154e681e68fdddd/gcc%2Fconfig%2Fm68k%2Ft-m68kelf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47b41fa34abeff893fb1358c8154e681e68fdddd/gcc%2Fconfig%2Fm68k%2Ft-m68kelf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Ft-m68kelf?ref=47b41fa34abeff893fb1358c8154e681e68fdddd", "patch": "@@ -1,17 +1,3 @@\n-LIB1ASMSRC = m68k/lb1sf68.asm\n-LIB1ASMFUNCS = _mulsi3 _udivsi3 _divsi3 _umodsi3 _modsi3 \\\n-   _double _float _floatex \\\n-   _eqdf2 _nedf2 _gtdf2 _gedf2 _ltdf2 _ledf2 \\\n-   _eqsf2 _nesf2 _gtsf2 _gesf2 _ltsf2 _lesf2\n-\n-LIB2FUNCS_EXTRA = fpgnulib.c xfgnulib.c\n-\n-fpgnulib.c: $(srcdir)/config/m68k/fpgnulib.c\n-\tcp $(srcdir)/config/m68k/fpgnulib.c fpgnulib.c\n-xfgnulib.c: $(srcdir)/config/m68k/fpgnulib.c\n-\techo '#define EXTFLOAT' > xfgnulib.c\n-\tcat $(srcdir)/config/m68k/fpgnulib.c >> xfgnulib.c\n-\n MULTILIB_OPTIONS = m68000/m68020/m5200/m5206e/m528x/m5307/m5407/mcfv4e/mcpu32/m68040/m68060 m68881/msoft-float\n MULTILIB_DIRNAMES =\n MULTILIB_MATCHES = m68000=mc68000 m68000=m68302 mcpu32=m68332 m68020=mc68020 m5206e=m5272"}, {"sha": "bebae9c818893b8506c4744c1cc041f38e10bd9e", "filename": "gcc/config/m68k/t-uclinux", "status": "modified", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47b41fa34abeff893fb1358c8154e681e68fdddd/gcc%2Fconfig%2Fm68k%2Ft-uclinux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47b41fa34abeff893fb1358c8154e681e68fdddd/gcc%2Fconfig%2Fm68k%2Ft-uclinux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Ft-uclinux?ref=47b41fa34abeff893fb1358c8154e681e68fdddd", "patch": "@@ -1,20 +1,6 @@\n # crti and crtn are provided by uClibc.\n EXTRA_MULTILIB_PARTS=crtbegin.o crtend.o\n \n-LIB1ASMSRC = m68k/lb1sf68.asm\n-LIB1ASMFUNCS = _mulsi3 _udivsi3 _divsi3 _umodsi3 _modsi3 \\\n-   _double _float _floatex \\\n-   _eqdf2 _nedf2 _gtdf2 _gedf2 _ltdf2 _ledf2 \\\n-   _eqsf2 _nesf2 _gtsf2 _gesf2 _ltsf2 _lesf2\n-\n-LIB2FUNCS_EXTRA = fpgnulib.c xfgnulib.c\n-\n-fpgnulib.c: $(srcdir)/config/m68k/fpgnulib.c\n-\tcp $(srcdir)/config/m68k/fpgnulib.c fpgnulib.c\n-xfgnulib.c: $(srcdir)/config/m68k/fpgnulib.c\n-\techo '#define EXTFLOAT' > xfgnulib.c\n-\tcat $(srcdir)/config/m68k/fpgnulib.c >> xfgnulib.c\n-\n MULTILIB_OPTIONS = m68000/m5200/m5206e/m528x/m5307/m5407/mcpu32 msep-data/mid-shared-library\n MULTILIB_DIRNAMES =\n MULTILIB_MATCHES = m68000=mc68000 m68000=m68302 mcpu32=m68332 m5206e=m5272"}]}