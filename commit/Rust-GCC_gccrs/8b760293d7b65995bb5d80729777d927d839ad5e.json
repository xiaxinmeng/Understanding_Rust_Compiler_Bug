{"sha": "8b760293d7b65995bb5d80729777d927d839ad5e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGI3NjAyOTNkN2I2NTk5NWJiNWQ4MDcyOTc3N2Q5MjdkODM5YWQ1ZQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-03-08T19:10:35Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-03-08T19:10:35Z"}, "message": "(reg_unused_after): Return 0 if see a JUMP_INSN.\n\nFrom-SVN: r11501", "tree": {"sha": "7c46eff3ffea522a7d7b04a4946e2409deb68157", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7c46eff3ffea522a7d7b04a4946e2409deb68157"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8b760293d7b65995bb5d80729777d927d839ad5e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b760293d7b65995bb5d80729777d927d839ad5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b760293d7b65995bb5d80729777d927d839ad5e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b760293d7b65995bb5d80729777d927d839ad5e/comments", "author": null, "committer": null, "parents": [{"sha": "449bf2aa18c7d9c86954c0c148b6b87c288721e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/449bf2aa18c7d9c86954c0c148b6b87c288721e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/449bf2aa18c7d9c86954c0c148b6b87c288721e7"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "cae782a12d95cf7bd45d71db01a881686bad2222", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b760293d7b65995bb5d80729777d927d839ad5e/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b760293d7b65995bb5d80729777d927d839ad5e/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=8b760293d7b65995bb5d80729777d927d839ad5e", "patch": "@@ -2338,7 +2338,7 @@ fp_one_operand (op)\n \f\n /* Return non-zero if REG is not used after INSN.\n    We assume REG is a reload reg, and therefore does\n-   not live past labels or calls or jumps.  */\n+   not live past labels.  It may live past calls or jumps though.  */\n int\n reg_unused_after (reg, insn)\n      rtx reg;\n@@ -2369,11 +2369,14 @@ reg_unused_after (reg, insn)\n       /* else */\n #endif\n \n+      if (code == JUMP_INSN)\n+\treturn 0;\n+\n       /* If this is a sequence, we must handle them all at once.\n \t We could have for instance a call that sets the target register,\n \t and a insn in a delay slot that uses the register.  In this case,\n \t we must return 0.  */\n-      if (code == INSN && GET_CODE (PATTERN (insn)) == SEQUENCE)\n+      else if (code == INSN && GET_CODE (PATTERN (insn)) == SEQUENCE)\n \t{\n \t  int i;\n \t  int retval = 0;"}]}