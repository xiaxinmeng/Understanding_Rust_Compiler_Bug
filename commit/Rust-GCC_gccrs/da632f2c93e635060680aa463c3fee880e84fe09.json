{"sha": "da632f2c93e635060680aa463c3fee880e84fe09", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGE2MzJmMmM5M2U2MzUwNjA2ODBhYTQ2M2MzZmVlODgwZTg0ZmUwOQ==", "commit": {"author": {"name": "Alexandre Petit-Bianco", "email": "apbianco@gcc.gnu.org", "date": "2000-07-28T00:30:19Z"}, "committer": {"name": "Alexandre Petit-Bianco", "email": "apbianco@gcc.gnu.org", "date": "2000-07-28T00:30:19Z"}, "message": "[multiple changes]\n\n2000-07-27  Tom Tromey  <tromey@cygnus.com>\n\n        * parse.y (patch_method_invocation): Don't reverse the argument\n        list when dealing with anonymous class constructors. Fixed typo in\n        comment.\n\n2000-07-27  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n\n        * parse.y (build_alias_initializer_parameter_list): Reverse\n        crafted list when building aliases for anonymous class\n        constructors.\n\n(http://gcc.gnu.org/ml/gcc-patches/2000-07/msg01146.html)\n\nFrom-SVN: r35303", "tree": {"sha": "641fd90d535939a75fb2c364861329bf2312bcc7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/641fd90d535939a75fb2c364861329bf2312bcc7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/da632f2c93e635060680aa463c3fee880e84fe09", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da632f2c93e635060680aa463c3fee880e84fe09", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da632f2c93e635060680aa463c3fee880e84fe09", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da632f2c93e635060680aa463c3fee880e84fe09/comments", "author": null, "committer": null, "parents": [{"sha": "7db51521a018eaa0751e5948091cfb29c841ca91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7db51521a018eaa0751e5948091cfb29c841ca91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7db51521a018eaa0751e5948091cfb29c841ca91"}], "stats": {"total": 17760, "additions": 25, "deletions": 17735}, "files": [{"sha": "31475c8ed2ee9bae1f00cc2148238965ac091d03", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da632f2c93e635060680aa463c3fee880e84fe09/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da632f2c93e635060680aa463c3fee880e84fe09/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=da632f2c93e635060680aa463c3fee880e84fe09", "patch": "@@ -1,3 +1,15 @@\n+2000-07-27  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* parse.y (patch_method_invocation): Don't reverse the argument\n+\tlist when dealing with anonymous class constructors. Fixed typo in\n+\tcomment.\n+\n+2000-07-27  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n+\n+\t* parse.y (build_alias_initializer_parameter_list): Reverse\n+\tcrafted list when building aliases for anonymous class\n+\tconstructors.\n+\n 2000-07-25  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \n \t* parse.y (jdep_resolve_class): Don't bother checking potential"}, {"sha": "5f511ad4e3b6344521278fa1708800d5c9eef34e", "filename": "gcc/java/parse.c", "status": "removed", "additions": 0, "deletions": 17728, "changes": 17728, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7db51521a018eaa0751e5948091cfb29c841ca91/gcc%2Fjava%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7db51521a018eaa0751e5948091cfb29c841ca91/gcc%2Fjava%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.c?ref=7db51521a018eaa0751e5948091cfb29c841ca91"}, {"sha": "61d875c8894269c5968a17762d0fdfaea9cdc909", "filename": "gcc/java/parse.y", "status": "modified", "additions": 13, "deletions": 7, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da632f2c93e635060680aa463c3fee880e84fe09/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da632f2c93e635060680aa463c3fee880e84fe09/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=da632f2c93e635060680aa463c3fee880e84fe09", "patch": "@@ -5006,6 +5006,8 @@ build_alias_initializer_parameter_list (mode, class_type, parm, artificial)\n     int *artificial;\n {\n   tree field;\n+  tree additional_parms = NULL_TREE;\n+\n   for (field = TYPE_FIELDS (class_type); field; field = TREE_CHAIN (field))\n     if (FIELD_LOCAL_ALIAS (field))\n       {\n@@ -5056,11 +5058,19 @@ build_alias_initializer_parameter_list (mode, class_type, parm, artificial)\n \t      }\n \t    break;\n \t  }\n-\tparm = tree_cons (purpose, value, parm);\n+\tadditional_parms = tree_cons (purpose, value, additional_parms);\n \tif (artificial)\n \t  *artificial +=1;\n       }\n-  return parm;\n+  if (additional_parms)\n+    {\n+      if (ANONYMOUS_CLASS_P (class_type) \n+          && mode == AIPL_FUNCTION_CTOR_INVOCATION)\n+        additional_parms = nreverse (additional_parms);\n+      parm = chainon (additional_parms, parm);\n+    }\n+\n+   return parm;\n }\n \n /* Craft a constructor for CLASS_DECL -- what we should do when none\n@@ -9737,11 +9747,7 @@ patch_method_invocation (patch, primary, where, is_static, ret_decl)\n       args = build_alias_initializer_parameter_list\n \t(AIPL_FUNCTION_CTOR_INVOCATION, DECL_CONTEXT (list), args, NULL);\n \n-      /* We have to reverse things. Find out why. FIXME */\n-      if (ANONYMOUS_CLASS_P (DECL_CONTEXT (list)))\n-\targs = nreverse (args);\n-      \n-      /* Secretely pass the current_this/primary as a second argument */\n+      /* Secretly pass the current_this/primary as a second argument */\n       if (primary || current_this)\n \targs = tree_cons (NULL_TREE, (primary ? primary : current_this), args);\n       else"}]}