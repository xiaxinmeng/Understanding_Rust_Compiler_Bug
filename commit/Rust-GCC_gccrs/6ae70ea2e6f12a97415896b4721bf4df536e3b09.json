{"sha": "6ae70ea2e6f12a97415896b4721bf4df536e3b09", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmFlNzBlYTJlNmYxMmE5NzQxNTg5NmI0NzIxYmY0ZGY1MzZlM2IwOQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2011-05-10T06:08:18Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2011-05-10T06:08:18Z"}, "message": "re PR tree-optimization/48611 (ICE: SIGSEGV in remap_eh_region_nr (tree-inline.c:1194) with -Os -fopenmp -fexceptions -fno-tree-ccp -fno-tree-copy-prop on basic code)\n\n\tPR tree-optimization/48611\n\tPR tree-optimization/48794\n\t* tree-eh.c (remove_unreachable_handlers): Don't remove regions\n\treferenced from RESX or EH_DISPATCH arguments.\n\n\t* gfortran.dg/gomp/pr48611.f90: New test.\n\t* gfortran.dg/gomp/pr48794.f90: New test.\n\nFrom-SVN: r173607", "tree": {"sha": "eeaa46393953dd5b9765c18fe9332858b16a475a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eeaa46393953dd5b9765c18fe9332858b16a475a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6ae70ea2e6f12a97415896b4721bf4df536e3b09", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ae70ea2e6f12a97415896b4721bf4df536e3b09", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ae70ea2e6f12a97415896b4721bf4df536e3b09", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ae70ea2e6f12a97415896b4721bf4df536e3b09/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e7f7802150169bf0ec2b8a3ad309c53f87280927", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7f7802150169bf0ec2b8a3ad309c53f87280927", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7f7802150169bf0ec2b8a3ad309c53f87280927"}], "stats": {"total": 47, "additions": 47, "deletions": 0}, "files": [{"sha": "b98c123176009cb4b76bc31ef5259888fbd144be", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ae70ea2e6f12a97415896b4721bf4df536e3b09/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ae70ea2e6f12a97415896b4721bf4df536e3b09/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6ae70ea2e6f12a97415896b4721bf4df536e3b09", "patch": "@@ -1,5 +1,10 @@\n 2011-05-10  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR tree-optimization/48611\n+\tPR tree-optimization/48794\n+\t* tree-eh.c (remove_unreachable_handlers): Don't remove regions\n+\treferenced from RESX or EH_DISPATCH arguments.\n+\n \tPR debug/48928\n \t* dfp.c (decimal_to_decnumber): Handle conversion from\n \tdconst{1,2,m1,half}."}, {"sha": "c63b45e58b54649cd82e049ddf85dce219a5d3fc", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ae70ea2e6f12a97415896b4721bf4df536e3b09/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ae70ea2e6f12a97415896b4721bf4df536e3b09/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6ae70ea2e6f12a97415896b4721bf4df536e3b09", "patch": "@@ -1,5 +1,10 @@\n 2011-05-10  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR tree-optimization/48611\n+\tPR tree-optimization/48794\n+\t* gfortran.dg/gomp/pr48611.f90: New test.\n+\t* gfortran.dg/gomp/pr48794.f90: New test.\n+\n \tPR debug/48928\n \t* gcc.dg/dfp/pr48928.c: New test.\n "}, {"sha": "643cc5c3efed5b9e53ab1e1749694bcd12d85e45", "filename": "gcc/testsuite/gfortran.dg/gomp/pr48611.f90", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ae70ea2e6f12a97415896b4721bf4df536e3b09/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fpr48611.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ae70ea2e6f12a97415896b4721bf4df536e3b09/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fpr48611.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fpr48611.f90?ref=6ae70ea2e6f12a97415896b4721bf4df536e3b09", "patch": "@@ -0,0 +1,12 @@\n+! PR tree-optimization/48611\n+! { dg-do compile }\n+! { dg-options \"-Os -fopenmp -fexceptions -fno-tree-ccp -fno-tree-copy-prop\" }\n+\n+  integer, allocatable :: a(:)\n+  logical :: l\n+!$omp parallel private (a) reduction (.or.:l)\n+  do i = 1, 7\n+    a(:) = i\n+  end do\n+!$omp end parallel\n+end"}, {"sha": "11edb0bb4982cfa5300f76b21dae8659cf9ad2df", "filename": "gcc/testsuite/gfortran.dg/gomp/pr48794.f90", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ae70ea2e6f12a97415896b4721bf4df536e3b09/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fpr48794.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ae70ea2e6f12a97415896b4721bf4df536e3b09/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fpr48794.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fpr48794.f90?ref=6ae70ea2e6f12a97415896b4721bf4df536e3b09", "patch": "@@ -0,0 +1,12 @@\n+! PR tree-optimization/48794\n+! { dg-do compile }\n+! { dg-options \"-Os -fopenmp -fexceptions -fno-tree-ccp -fno-tree-copy-prop\" }\n+\n+  integer, allocatable :: a(:)\n+  logical :: l\n+  if (allocated (a)) call abort\n+!$omp parallel private (a) reduction (.or.:l)\n+  do i = 1, 7\n+  end do\n+!$omp end parallel\n+end"}, {"sha": "e87c32e798b2575df83e05daa94fc0fb751d3f8a", "filename": "gcc/tree-eh.c", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ae70ea2e6f12a97415896b4721bf4df536e3b09/gcc%2Ftree-eh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ae70ea2e6f12a97415896b4721bf4df536e3b09/gcc%2Ftree-eh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-eh.c?ref=6ae70ea2e6f12a97415896b4721bf4df536e3b09", "patch": "@@ -3316,6 +3316,19 @@ remove_unreachable_handlers (void)\n \t      SET_BIT (r_reachable, region->index);\n \t      SET_BIT (lp_reachable, lp_nr);\n \t    }\n+\n+\t  /* Avoid removing regions referenced from RESX/EH_DISPATCH.  */\n+\t  switch (gimple_code (stmt))\n+\t    {\n+\t    case GIMPLE_RESX:\n+\t      SET_BIT (r_reachable, gimple_resx_region (stmt));\n+\t      break;\n+\t    case GIMPLE_EH_DISPATCH:\n+\t      SET_BIT (r_reachable, gimple_eh_dispatch_region (stmt));\n+\t      break;\n+\t    default:\n+\t      break;\n+\t    }\n \t}\n     }\n "}]}