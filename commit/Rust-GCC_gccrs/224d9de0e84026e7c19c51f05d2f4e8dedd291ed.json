{"sha": "224d9de0e84026e7c19c51f05d2f4e8dedd291ed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI0ZDlkZTBlODQwMjZlN2MxOWM1MWYwNWQyZjRlOGRlZGQyOTFlZA==", "commit": {"author": {"name": "Eugene Sharygin", "email": "eush@ispras.ru", "date": "2019-04-26T15:48:43Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2019-04-26T15:48:43Z"}, "message": "gdbhooks.py: Fix UnicodeDecodeErrors when printing trees with corrupt codes.\n\n\t* gdbhooks.py: Fix UnicodeDecodeErrors when printing trees with\n\tcorrupt codes.\n\nFrom-SVN: r270607", "tree": {"sha": "b85533da17b2713303f826b9e8ee9abcbb25d7bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b85533da17b2713303f826b9e8ee9abcbb25d7bb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/224d9de0e84026e7c19c51f05d2f4e8dedd291ed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/224d9de0e84026e7c19c51f05d2f4e8dedd291ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/224d9de0e84026e7c19c51f05d2f4e8dedd291ed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/224d9de0e84026e7c19c51f05d2f4e8dedd291ed/comments", "author": {"login": "eush77", "id": 4472489, "node_id": "MDQ6VXNlcjQ0NzI0ODk=", "avatar_url": "https://avatars.githubusercontent.com/u/4472489?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eush77", "html_url": "https://github.com/eush77", "followers_url": "https://api.github.com/users/eush77/followers", "following_url": "https://api.github.com/users/eush77/following{/other_user}", "gists_url": "https://api.github.com/users/eush77/gists{/gist_id}", "starred_url": "https://api.github.com/users/eush77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eush77/subscriptions", "organizations_url": "https://api.github.com/users/eush77/orgs", "repos_url": "https://api.github.com/users/eush77/repos", "events_url": "https://api.github.com/users/eush77/events{/privacy}", "received_events_url": "https://api.github.com/users/eush77/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f179b64e3ab013ff04e705953d33a2f82de6b086", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f179b64e3ab013ff04e705953d33a2f82de6b086", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f179b64e3ab013ff04e705953d33a2f82de6b086"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "4434ba5648328ecfb1f0d202db1478a5e0c3d37c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/224d9de0e84026e7c19c51f05d2f4e8dedd291ed/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/224d9de0e84026e7c19c51f05d2f4e8dedd291ed/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=224d9de0e84026e7c19c51f05d2f4e8dedd291ed", "patch": "@@ -1,3 +1,8 @@\n+2018-04-26  Eugene Sharygin  <eush@ispras.ru>\n+\n+\t* gdbhooks.py: Fix UnicodeDecodeErrors when printing trees with\n+\tcorrupt codes.\n+\n 2019-04-26  Richard Sandiford  <richard.sandiford@arm.com>\n \n \t* tree.h (TYPE_VECTOR_SUBPARTS, SET_TYPE_VECTOR_SUBPARTS): Add"}, {"sha": "7b1a7be0002d68ca045fc5646ee8f4edaf40fc4d", "filename": "gcc/gdbhooks.py", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/224d9de0e84026e7c19c51f05d2f4e8dedd291ed/gcc%2Fgdbhooks.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/224d9de0e84026e7c19c51f05d2f4e8dedd291ed/gcc%2Fgdbhooks.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgdbhooks.py?ref=224d9de0e84026e7c19c51f05d2f4e8dedd291ed", "patch": "@@ -229,7 +229,10 @@ def to_string (self):\n         val_code_name = val_tree_code_name[intptr(val_TREE_CODE)]\n         #print(val_code_name.string())\n \n-        result = '<%s 0x%x' % (val_code_name.string(), intptr(self.gdbval))\n+        try:\n+            result = '<%s 0x%x' % (val_code_name.string(), intptr(self.gdbval))\n+        except:\n+            return '<tree 0x%x>' % intptr(self.gdbval)\n         if intptr(val_tclass) == tcc_declaration:\n             tree_DECL_NAME = self.node.DECL_NAME()\n             if tree_DECL_NAME.is_nonnull():"}]}