{"sha": "6f2ac3606e151edde9980b1ae9735dbd68aa992b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmYyYWMzNjA2ZTE1MWVkZGU5OTgwYjFhZTk3MzVkYmQ2OGFhOTkyYg==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2015-05-18T16:34:23Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2015-05-18T16:34:23Z"}, "message": "re PR rtl-optimization/57032 (internal compiler error: Max. number of generated reload insns per insn is achieved (90))\n\n\tPR target/57032\n\t* config/alpha/constraints.md (Q): Rewrite as define_memory_constraint.\n\tCheck for a memory location that is not a reference (using an AND)\n\tto an unaligned location here.\n\t* config/alpha/predicates.md (normal_memory_operand): Remove.\n\n\nCo-Authored-By: Richard Henderson <rth@redhat.com>\n\nFrom-SVN: r223298", "tree": {"sha": "275b86ea1cb8dd21411e026c4d6c3d7898b6b823", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/275b86ea1cb8dd21411e026c4d6c3d7898b6b823"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6f2ac3606e151edde9980b1ae9735dbd68aa992b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f2ac3606e151edde9980b1ae9735dbd68aa992b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f2ac3606e151edde9980b1ae9735dbd68aa992b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f2ac3606e151edde9980b1ae9735dbd68aa992b/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "323eb6e3cf61d6810d9aabfcf315047550373e00", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/323eb6e3cf61d6810d9aabfcf315047550373e00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/323eb6e3cf61d6810d9aabfcf315047550373e00"}], "stats": {"total": 25, "additions": 15, "deletions": 10}, "files": [{"sha": "dd2c97fdf257a235bfd504f15dbdf7531ea8c613", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f2ac3606e151edde9980b1ae9735dbd68aa992b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f2ac3606e151edde9980b1ae9735dbd68aa992b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6f2ac3606e151edde9980b1ae9735dbd68aa992b", "patch": "@@ -1,3 +1,12 @@\n+2015-05-18  Uros Bizjak  <ubizjak@gmail.com>\n+\t    Richard Henderson  <rth@redhat.com>\n+\n+\tPR target/57032\n+\t* config/alpha/constraints.md (Q): Rewrite as define_memory_constraint.\n+\tCheck for a memory location that is not a reference (using an AND)\n+\tto an unaligned location here.\n+\t* config/alpha/predicates.md (normal_memory_operand): Remove.\n+\n 2015-05-18  Alex Velenko  <Alex.Velenko@arm.com>\n \n \t* config/arm/arm.md (andsi_not_shiftsi_si_scc): New pattern."}, {"sha": "f1e5333716b118c2e8f9418633d2783b7f4bcdc4", "filename": "gcc/config/alpha/constraints.md", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f2ac3606e151edde9980b1ae9735dbd68aa992b/gcc%2Fconfig%2Falpha%2Fconstraints.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f2ac3606e151edde9980b1ae9735dbd68aa992b/gcc%2Fconfig%2Falpha%2Fconstraints.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fconstraints.md?ref=6f2ac3606e151edde9980b1ae9735dbd68aa992b", "patch": "@@ -91,9 +91,13 @@\n        (match_test \"op == CONST0_RTX (mode)\")))\n \n ;; \"Extra\" constraints.\n-(define_constraint \"Q\"\n+\n+;; A memory location that is not a reference\n+;; (using an AND) to an unaligned location.\n+(define_memory_constraint \"Q\"\n   \"@internal A normal_memory_operand\"\n-  (match_operand 0 \"normal_memory_operand\"))\n+  (and (match_code \"mem\")\n+       (not (match_test \"GET_CODE (XEXP (op, 0)) == AND\"))))\n \n (define_constraint \"R\"\n   \"@internal A direct_call_operand\""}, {"sha": "51a378e18f23e1590720e273beab7d212e6725a7", "filename": "gcc/config/alpha/predicates.md", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f2ac3606e151edde9980b1ae9735dbd68aa992b/gcc%2Fconfig%2Falpha%2Fpredicates.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f2ac3606e151edde9980b1ae9735dbd68aa992b/gcc%2Fconfig%2Falpha%2Fpredicates.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fpredicates.md?ref=6f2ac3606e151edde9980b1ae9735dbd68aa992b", "patch": "@@ -525,14 +525,6 @@\n   return false;\n })\n \n-;; Return 1 is OP is a memory location that is not a reference\n-;; (using an AND) to an unaligned location.  Take into account\n-;; what reload will do.\n-(define_special_predicate \"normal_memory_operand\"\n-  (ior (match_test \"op = resolve_reload_operand (op), 0\")\n-       (and (match_code \"mem\")\n-\t    (match_test \"GET_CODE (XEXP (op, 0)) != AND\"))))\n-\n ;; Returns 1 if OP is not an eliminable register.\n ;;\n ;; This exists to cure a pathological failure in the s8addq (et al) patterns,"}]}