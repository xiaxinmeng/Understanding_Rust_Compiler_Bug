{"sha": "2c8c1c46b1683d61e791167b23b1eec31b872efa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmM4YzFjNDZiMTY4M2Q2MWU3OTExNjdiMjNiMWVlYzMxYjg3MmVmYQ==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2000-06-09T14:42:09Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2000-06-09T14:42:09Z"}, "message": "* scan-types.sh (VALUE) Wrap use with double quotes to protect\n\tvariable against filename expansion when it contains \"char *\".\n\nFrom-SVN: r34468", "tree": {"sha": "3768aeddb55f47786150c2722f42e58cd57b761b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3768aeddb55f47786150c2722f42e58cd57b761b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2c8c1c46b1683d61e791167b23b1eec31b872efa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c8c1c46b1683d61e791167b23b1eec31b872efa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c8c1c46b1683d61e791167b23b1eec31b872efa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c8c1c46b1683d61e791167b23b1eec31b872efa/comments", "author": null, "committer": null, "parents": [{"sha": "e0fcc0e1d45c26995540b4d9ba0daeee6438f4e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0fcc0e1d45c26995540b4d9ba0daeee6438f4e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0fcc0e1d45c26995540b4d9ba0daeee6438f4e3"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "4794c4253c8e1700e8b17053f5fc4d2bc47710b7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8c1c46b1683d61e791167b23b1eec31b872efa/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8c1c46b1683d61e791167b23b1eec31b872efa/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2c8c1c46b1683d61e791167b23b1eec31b872efa", "patch": "@@ -1,5 +1,8 @@\n 2000-06-09  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n+\t* scan-types.sh (VALUE) Wrap use with double quotes to protect\n+\tvariable against filename expansion when it contains \"char *\".\n+\n \t* system.h (SSIZE_MAX): Delete backup definition.\n \n \t* cppfiles.c (read_include_file): Use INTTYPE_MAXIMUM(ssize_t)"}, {"sha": "59d786a9fd01cb8a6662a3cd379ad1614e66d783", "filename": "gcc/scan-types.sh", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8c1c46b1683d61e791167b23b1eec31b872efa/gcc%2Fscan-types.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8c1c46b1683d61e791167b23b1eec31b872efa/gcc%2Fscan-types.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fscan-types.sh?ref=2c8c1c46b1683d61e791167b23b1eec31b872efa", "patch": "@@ -51,7 +51,10 @@ for TYPE in dev_t clock_t fpos_t gid_t ino_t mode_t nlink_t off_t pid_t size_t s\n             eval \"VALUE='`${SED} -e 's| *$||' -e '2,$d' <TMP`'\"\n \t    # Unless VALUE contains a blank, look for a typedef for it\n \t    # in turn (this could be a loop, but that would be over-kill).\n-\t    if echo $VALUE | grep \" \" >/dev/null ; then true\n+\t    # Ensure $VALUE is double quoted to protect cases where it\n+\t    # contains an asterisk and would cause filename expansion.\n+\t    # E.g. when va_list is \"char *\".\n+\t    if echo \"$VALUE\" | grep \" \" >/dev/null ; then true\n \t    else\n \t\trm -f TMP\n \t\t${SED} -n -e \"s|.*typedef[ \t][ \t]*\\(.*[^a-zA-Z0-9_]\\)${VALUE}[ \t]*;.*|\\1|w TMP\" <st-dummy.out>/dev/null"}]}