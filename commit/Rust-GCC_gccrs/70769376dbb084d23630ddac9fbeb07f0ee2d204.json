{"sha": "70769376dbb084d23630ddac9fbeb07f0ee2d204", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzA3NjkzNzZkYmIwODRkMjM2MzBkZGFjOWZiZWIwN2YwZWUyZDIwNA==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2001-05-12T17:45:46Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2001-05-12T17:45:46Z"}, "message": "testsuite_flags.in: New, simplified interface.\n\n\n2001-05-11   Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* testsuite_flags.in: New, simplified interface.\n\t* testsuite/lib/libstdc++-v3-dg.exp: New test harness.\n\t* testsuite/libstdc++-v3.dg: Add.\n\t* testsuite/libstdc++-v3.dg/dg.exp: Add.\n\n\t* testsuite/Makefile.am: Change tool to libstdc++-v3.\n\t* configure.in: Output testsuite_flags.\n\t* acinclude.m4: Substitute src, bld, and prefix dirs.\n\nFrom-SVN: r41998", "tree": {"sha": "fb8389a1f7b3b17d7a53811801475c54c3cc1f62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb8389a1f7b3b17d7a53811801475c54c3cc1f62"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/70769376dbb084d23630ddac9fbeb07f0ee2d204", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70769376dbb084d23630ddac9fbeb07f0ee2d204", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70769376dbb084d23630ddac9fbeb07f0ee2d204", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70769376dbb084d23630ddac9fbeb07f0ee2d204/comments", "author": null, "committer": null, "parents": [{"sha": "04d930e6d469d787cda324b336bd5889e797f266", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04d930e6d469d787cda324b336bd5889e797f266", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04d930e6d469d787cda324b336bd5889e797f266"}], "stats": {"total": 62, "additions": 62, "deletions": 0}, "files": [{"sha": "e33fc8d78ee06afeee8092c08559e365a8f6e6ac", "filename": "libstdc++-v3/testsuite_flags.in", "status": "added", "additions": 62, "deletions": 0, "changes": 62, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70769376dbb084d23630ddac9fbeb07f0ee2d204/libstdc%2B%2B-v3%2Ftestsuite_flags.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70769376dbb084d23630ddac9fbeb07f0ee2d204/libstdc%2B%2B-v3%2Ftestsuite_flags.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite_flags.in?ref=70769376dbb084d23630ddac9fbeb07f0ee2d204", "patch": "@@ -0,0 +1,62 @@\n+#!/bin/sh\n+\n+#\n+# This script computes the various flags needed to run GNU C++ testsuites\n+# (compiler specific as well as library specific). \n+#\n+# Written by Benjamin Kosnik <bkoz@redhat.com>\n+#            Gabriel Dos Reis <gdr@codesourcery.com>\n+#\n+\n+# Print a message saying how this script is intended to be invoked\n+print_usage() {\n+    cat <<EOF\n+Usage: \n+    tests_flags --install-includes\n+\t\t--build-includes\n+\t\t--build-cxx\n+\t\t--install-cxx\n+\t\t--cxxflags\n+EOF\n+}\n+\n+# Establish configure-generated directory structure.\n+BUILD_DIR=@glibcpp_builddir@\n+SRC_DIR=@glibcpp_srcdir@\n+PREFIX_DIR=@glibcpp_prefixdir@\n+query=$1\n+\n+case ${query} in\n+    --install-includes)\n+      INCLUDES=\"-I${SRC_DIR}/testsuite\"\n+      echo ${INCLUDES}\n+      ;;\n+    --build-includes)\n+      C_DIR=\"`basename  @C_INCLUDE_DIR@`\"\n+      INCLUDES=\"-nostdinc++ -I${BUILD_DIR}/include -I${SRC_DIR}/include\n+                -I${SRC_DIR}/include/std  -I${SRC_DIR}/include/$C_DIR\n+\t        -I${SRC_DIR}/libsupc++ -I${SRC_DIR}/libio \n+\t\t-I${SRC_DIR}/testsuite\"\n+      echo ${INCLUDES}\n+      ;;\n+    --install-cxx)\n+      CXX=${PREFIX_DIR}/bin/g++\n+      echo ${CXX}\n+      ;;\n+    --build-cxx)\n+      CC_build=\"@glibcpp_CXX@ -static \"\n+      CXX=`echo $CC_build | sed 's/xgcc/g++/g'`\n+      echo ${CXX}\n+      ;;\n+    --cxxflags)\n+      CXXFLAGS=\" -ggdb3 -DDEBUG_ASSERT @SECTION_FLAGS@ @SECTION_LDFLAGS@\"\n+      echo ${CXXFLAGS}\n+      ;;\n+    *)\n+      print_usage\n+      ;;\n+esac\n+\n+exit 0\n+\n+"}]}