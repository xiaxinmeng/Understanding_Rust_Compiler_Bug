{"sha": "b91da81fbd97050271976fe6d6a93ba685ceba03", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjkxZGE4MWZiZDk3MDUwMjcxOTc2ZmU2ZDZhOTNiYTY4NWNlYmEwMw==", "commit": {"author": {"name": "David O'Brien", "email": "obrien@FreeBSD.org", "date": "2001-11-20T19:43:28Z"}, "committer": {"name": "David O'Brien", "email": "obrien@gcc.gnu.org", "date": "2001-11-20T19:43:28Z"}, "message": "config.gcc: Add FreeBSD/PowerPC target.\n\n2001-11-20  David O'Brien  <obrien@FreeBSD.org>\n\t* config.gcc: Add FreeBSD/PowerPC target.\n\t(powerpc64-*-linux*, powerpc-*-sysv*, powerpc-*-netbsd*,\n\tpowerpc-*-chorusos*, powerpc-*-eabiaix*, powerpc-*-eabisim*,\n\tpowerpc-*-elf*, powerpc-*-eabi*, powerpc-*-rtems*,\n\tpowerpc-*-linux*libc1, powerpc-*-linux*, powerpc-wrs-vxworks*,\n\tpowerpcle-wrs-vxworks*, powerpcle-*-sysv*, powerpcle-*-elf*,\n\tpowerpcle-*-eabisim*, powerpcle-*-eabi*, powerpcle-*-solaris2*): Add\n\tfreebsd-spec.h to tm_file.\n\t(rs6000-*-lynxos*): Add lynx.h to tm_file.\n\t* config/freebsd.h: Tidy up.\n\t(USING_CONFIG_FREEBSD): Define.\n\t(FBSD_SWITCH_TAKES_ARG, FBSD_WORD_SWITCH_TAKES_ARG,\n\tFBSD_CPP_PREDEFINES, FBSD_CPP_SPEC, FBSD_STARTFILE_SPEC,\n\tFBSD_ENDFILE_SPEC, FBSD_LIB_SPEC): Remove (moved to freebsd-spec.h).\n\t(TARGET_HAS_F_SETLKW): Define.\n\t(ASM_OUTPUT_IDENT): Delete, the elfos.h definition is fine.\n\t* config/freebsd-spec.h: New file.\n\t* config/rs6000/freebsd.h: New file.\n\t* config/rs6000/rs6000.h (TARGET_VERSION): Do not define.\n\t* config/rs6000/rs6000.c: Test for USING_ELFOS_H rather than\n\tUSING_SVR4_H to know when to turn on ELF support.\n\t* config/rs6000/sysv4.h (TARGET_VERSION, CPP_PREDEFINES): Don't undef,\n\tdefine only if not already defined.\n\tAdd FreeBSD support.\n\t* config/rs6000/aix.h (TARGET_VERSION): Define.\n\t* config/rs6000/beos.h: Likewise.\n\t* config/rs6000/darwin.h: Likewise.\n\t* config/rs6000/mach.h: Likewise.\n\t* config/rs6000/lynx.h (TARGET_VERSION): Likewise.\n\tDon't include lynx.h directly.\n\nApproved by:  Geoff Keating <geoffk@geoffk.org>\n              Message-Id: <200111192053.MAA11977@geoffk.org>\n\t\t\t  Stan Shebs <shebs@apple.com>  (Darwin bits)\n              Message-ID: <3BF95F29.794BC924@apple.com>\n\nFrom-SVN: r47223", "tree": {"sha": "3991106d03b841cdea1146d4c1e9be1d17017a02", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3991106d03b841cdea1146d4c1e9be1d17017a02"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b91da81fbd97050271976fe6d6a93ba685ceba03", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b91da81fbd97050271976fe6d6a93ba685ceba03", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b91da81fbd97050271976fe6d6a93ba685ceba03", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b91da81fbd97050271976fe6d6a93ba685ceba03/comments", "author": null, "committer": null, "parents": [{"sha": "5d393c8e1793bbcea63e0eb739cc4f635e8c8d0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d393c8e1793bbcea63e0eb739cc4f635e8c8d0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d393c8e1793bbcea63e0eb739cc4f635e8c8d0b"}], "stats": {"total": 365, "additions": 203, "deletions": 162}, "files": [{"sha": "2744c43620b5d2a77c999faff138d769df370264", "filename": "gcc/ChangeLog", "status": "modified", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b91da81fbd97050271976fe6d6a93ba685ceba03", "patch": "@@ -1,3 +1,36 @@\n+2001-11-20  David O'Brien  <obrien@FreeBSD.org>\n+\n+\t* config.gcc: Add FreeBSD/PowerPC target.\n+\t(powerpc64-*-linux*, powerpc-*-sysv*, powerpc-*-netbsd*,\n+\tpowerpc-*-chorusos*, powerpc-*-eabiaix*, powerpc-*-eabisim*,\n+\tpowerpc-*-elf*, powerpc-*-eabi*, powerpc-*-rtems*,\n+\tpowerpc-*-linux*libc1, powerpc-*-linux*, powerpc-wrs-vxworks*,\n+\tpowerpcle-wrs-vxworks*, powerpcle-*-sysv*, powerpcle-*-elf*,\n+\tpowerpcle-*-eabisim*, powerpcle-*-eabi*, powerpcle-*-solaris2*): Add\n+\tfreebsd-spec.h to tm_file.\n+\t(rs6000-*-lynxos*): Add lynx.h to tm_file.\n+\t* config/freebsd.h: Tidy up.\n+\t(USING_CONFIG_FREEBSD): Define.\n+\t(FBSD_SWITCH_TAKES_ARG, FBSD_WORD_SWITCH_TAKES_ARG,\n+\tFBSD_CPP_PREDEFINES, FBSD_CPP_SPEC, FBSD_STARTFILE_SPEC,\n+\tFBSD_ENDFILE_SPEC, FBSD_LIB_SPEC): Remove (moved to freebsd-spec.h).\n+\t(TARGET_HAS_F_SETLKW): Define.\n+\t(ASM_OUTPUT_IDENT): Delete, the elfos.h definition is fine.\n+\t* config/freebsd-spec.h: New file.\n+\t* config/rs6000/freebsd.h: New file.\n+\t* config/rs6000/rs6000.h (TARGET_VERSION): Do not define.\n+\t* config/rs6000/rs6000.c: Test for USING_ELFOS_H rather than\n+\tUSING_SVR4_H to know when to turn on ELF support.\n+\t* config/rs6000/sysv4.h (TARGET_VERSION, CPP_PREDEFINES): Don't undef,\n+\tdefine only if not already defined.\n+\tAdd FreeBSD support.\n+\t* config/rs6000/aix.h (TARGET_VERSION): Define.\n+\t* config/rs6000/beos.h: Likewise.\n+\t* config/rs6000/darwin.h: Likewise.\n+\t* config/rs6000/mach.h: Likewise.\n+\t* config/rs6000/lynx.h (TARGET_VERSION): Likewise.\n+\tDon't include lynx.h directly.\n+\n 2001-11-20  Graham Stott  <grahams@redhat.com>\n \n \t* unwind-dw2-fde.c (__deregister_frame_info_bases):"}, {"sha": "7a87a966a4f2ed30070500daeadf2922bfa803b0", "filename": "gcc/config.gcc", "status": "modified", "additions": 27, "deletions": 20, "changes": 47, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=b91da81fbd97050271976fe6d6a93ba685ceba03", "patch": "@@ -320,7 +320,7 @@ case $machine in\n \t# entries of tm_file with the minor exception that components\n \t# of the tm_file set here will always be of the form:\n \t#\n-\t# freebsd<version_number>.h [freebsd-<conf_option>.h ...] freebsd.h\n+\t# freebsd<version_number>.h [freebsd-<conf_option>.h ...] freebsd-spec.h freebsd.h\n \t#\n \t# The machine-specific section should not tamper with this\n \t# ordering but may order all other entries of tm_file as it\n@@ -2600,7 +2600,7 @@ powerpc-*-openbsd*)\n \ttmake_file=\"${tmake_file} rs6000/t-rs6000 rs6000/t-openbsd\"\n \t;;\n powerpc64-*-linux*)\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/linux64.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux64.h\"\n \tout_file=rs6000/rs6000.c\n \ttmake_file=\"rs6000/t-ppcos t-slibgcc-elf-ver t-linux rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n@@ -2626,21 +2626,28 @@ powerpc-*-darwin*)\n \t# Darwin linker does collect2 functionality\n \tuse_collect2=no\n \t;;\n+powerpc*-*-freebsd*)\n+\ttm_file=\"${tm_file} elfos.h ${fbsd_tm_file} rs6000/sysv4.h rs6000/freebsd.h\"\n+\txm_file=rs6000/xm-sysv4.h\n+\tout_file=rs6000/rs6000.c\n+\ttmake_file=\"rs6000/t-ppcos t-freebsd rs6000/t-ppccomm\"\n+\textra_headers=ppc-asm.h\n+\t;;\n powerpc-*-sysv*)\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h\"\n \txm_defines=POSIX\n \textra_headers=ppc-asm.h\n \ttmake_file=\"rs6000/t-ppcos rs6000/t-ppccomm\"\n \t;;\n powerpc-*-netbsd*)\n \txm_defines=POSIX\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/netbsd.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/netbsd.h\"\n \ttmake_file=\"rs6000/t-ppcos rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n \t;;\n powerpc-*-chorusos*)\n \txm_defines=POSIX\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h chorus.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h chorus.h\"\n \ttmake_file=\"rs6000/t-ppcos rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n \tcase x${enable_threads} in\n@@ -2651,39 +2658,39 @@ powerpc-*-chorusos*)\n \t;;\n powerpc-*-eabiaix*)\n \txm_defines=POSIX\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/eabi.h rs6000/eabiaix.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/eabiaix.h\"\n \ttmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n \t;;\n powerpc-*-eabisim*)\n \txm_defines=POSIX\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/eabi.h rs6000/eabisim.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rs6000/eabisim.h\"\n \ttmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n \t;;\n powerpc-*-elf*)\n \txm_defines=POSIX\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h\"\n \ttmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n \t;;\n powerpc-*-eabi*)\n \txm_defines=POSIX\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/eabi.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h\"\n \ttmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n \t;;\n powerpc-*-rtems*)\n \txm_defines=POSIX\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/eabi.h rtems.h rs6000/rtems.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/eabi.h rtems.h rs6000/rtems.h\"\n \ttmake_file=\"rs6000/t-ppcgas t-rtems rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n \tif test x$enable_threads = xyes; then\n \t  thread_file='rtems'\n \tfi\n \t;;\n powerpc-*-linux*libc1)\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/linux.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux.h\"\n \tout_file=rs6000/rs6000.c\n \ttmake_file=\"rs6000/t-ppcos t-slibgcc-elf-ver t-linux t-linux-gnulibc1 rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n@@ -2692,7 +2699,7 @@ powerpc-*-linux*libc1)\n \tfi\n \t;;\n powerpc-*-linux*)\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/linux.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux.h\"\n \tout_file=rs6000/rs6000.c\n \ttmake_file=\"rs6000/t-ppcos t-slibgcc-elf-ver t-linux rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n@@ -2702,44 +2709,44 @@ powerpc-*-linux*)\n \t;;\n powerpc-wrs-vxworks*)\n \txm_defines=POSIX\n-        tm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/vxppc.h\"\n+        tm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/vxppc.h\"\n         tmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n \tthread_file='vxworks'\n         ;;\n powerpcle-wrs-vxworks*)\n \txm_defines=POSIX\n-        tm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/sysv4le.h rs6000/vxppc.h\"\n+        tm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h rs6000/vxppc.h\"\n         tmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n \tthread_file='vxworks'\n         ;;\n powerpcle-*-sysv*)\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/sysv4le.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h\"\n \txm_defines=POSIX\n \ttmake_file=\"rs6000/t-ppcos rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n \t;;\n powerpcle-*-elf*)\n \txm_defines=POSIX\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/sysv4le.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h\"\n \ttmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n \t;;\n powerpcle-*-eabisim*)\n \txm_defines=POSIX\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/sysv4le.h rs6000/eabi.h rs6000/eabisim.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h rs6000/eabi.h rs6000/eabisim.h\"\n \ttmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n \t;;\n powerpcle-*-eabi*)\n \txm_defines=POSIX\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/sysv4le.h rs6000/eabi.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h rs6000/eabi.h\"\n \ttmake_file=\"rs6000/t-ppcgas rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n \t;;\n powerpcle-*-solaris2*)\n-\ttm_file=\"${tm_file} elfos.h svr4.h rs6000/sysv4.h rs6000/sysv4le.h rs6000/sol2.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/sysv4le.h rs6000/sol2.h\"\n \txm_defines=POSIX\n \ttmake_file=\"rs6000/t-ppcos rs6000/t-ppccomm\"\n \textra_headers=ppc-asm.h\n@@ -2798,7 +2805,7 @@ rs6000-*-mach*)\n \tuse_collect2=yes\n \t;;\n rs6000-*-lynxos*)\n-\ttm_file=rs6000/lynx.h\n+\ttm_file=\"lynx.h rs6000/lynx.h\"\n \ttmake_file=rs6000/t-rs6000\n \tuse_collect2=yes\n \t;;"}, {"sha": "e618beb7652ce73d0d00fb2d34ff3e5306f5c519", "filename": "gcc/config/freebsd.h", "status": "modified", "additions": 12, "deletions": 121, "changes": 133, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Ffreebsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Ffreebsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffreebsd.h?ref=b91da81fbd97050271976fe6d6a93ba685ceba03", "patch": "@@ -27,139 +27,31 @@ Boston, MA 02111-1307, USA.  */\n    Loren J. Rittle <ljrittle@acm.org>.  */\n \n \n-/* To help with rs6000/sysv4.h carnal knowledge problem.  */\n-#define _USING_CONFIG_FREEBSD 1\n+/* In case we need to know.  */\n+#define USING_CONFIG_FREEBSD 1\n \n /* This defines which switch letters take arguments.  On FreeBSD, most of\n    the normal cases (defined in gcc.c) apply, and we also have -h* and\n    -z* options (for the linker) (coming from SVR4).\n    We also have -R (alias --rpath), no -z, --soname (-h), --assert etc.  */\n \n-#define FBSD_SWITCH_TAKES_ARG(CHAR)\t\t\t\t\t\\\n-  (DEFAULT_SWITCH_TAKES_ARG (CHAR)\t\t\t\t\t\\\n-    || (CHAR) == 'h'\t\t\t\t\t\t\t\\\n-    || (CHAR) == 'z' /* ignored by ld */\t\t\t\t\\\n-    || (CHAR) == 'R')\n-\n #undef  SWITCH_TAKES_ARG\n #define SWITCH_TAKES_ARG(CHAR) (FBSD_SWITCH_TAKES_ARG(CHAR))\n \n-/* This defines which multi-letter switches take arguments.  */\n-\n-#define FBSD_WORD_SWITCH_TAKES_ARG(STR)\t\t\t\t\t\\\n-  (DEFAULT_WORD_SWITCH_TAKES_ARG (STR)\t\t\t\t\t\\\n-   || !strcmp ((STR), \"rpath\") || !strcmp ((STR), \"rpath-link\")\t\t\\\n-   || !strcmp ((STR), \"soname\") || !strcmp ((STR), \"defsym\") \t\t\\\n-   || !strcmp ((STR), \"assert\") || !strcmp ((STR), \"dynamic-linker\"))\n-\n #undef  WORD_SWITCH_TAKES_ARG\n #define WORD_SWITCH_TAKES_ARG(STR) (FBSD_WORD_SWITCH_TAKES_ARG(STR))\n \n-#if FBSD_MAJOR == 6\n-#define FBSD_CPP_PREDEFINES \\\n-  \"-D__FreeBSD__=6 -Dunix -D__ELF__ -D__KPRINTF_ATTRIBUTE__ -Asystem=unix -Asystem=bsd -Asystem=FreeBSD\"\n-#endif\n-\n-#if FBSD_MAJOR == 5\n-#define FBSD_CPP_PREDEFINES \\\n-  \"-D__FreeBSD__=5 -Dunix -D__ELF__ -D__KPRINTF_ATTRIBUTE__ -Asystem=unix -Asystem=bsd -Asystem=FreeBSD\"\n-#endif\n-\n-#if FBSD_MAJOR == 4\n-#define FBSD_CPP_PREDEFINES \\\n-  \"-D__FreeBSD__=4 -Dunix -D__ELF__ -D__KPRINTF_ATTRIBUTE__ -Asystem=unix -Asystem=bsd -Asystem=FreeBSD\"\n-#endif\n-\n-#if FBSD_MAJOR == 3\n-#define FBSD_CPP_PREDEFINES \\\n-  \"-D__FreeBSD__=3 -Dunix -D__ELF__ -D__KPRINTF_ATTRIBUTE__ -Asystem=unix -Asystem=bsd -Asystem=FreeBSD\"\n-#endif\n-\n-#ifndef FBSD_CPP_PREDEFINES\n-#define FBSD_CPP_PREDEFINES \\\n-  \"-D__FreeBSD__   -Dunix -D__ELF__ -D__KPRINTF_ATTRIBUTE__ -Asystem=unix -Asystem=bsd -Asystem=FreeBSD\"\n-#endif\n-\n #undef  CPP_PREDEFINES\n #define CPP_PREDEFINES FBSD_CPP_PREDEFINES\n \n-/* Provide a CPP_SPEC appropriate for FreeBSD.  We just deal with the GCC \n-   option `-posix', and PIC issues.  */\n-\n-#define FBSD_CPP_SPEC \"\t\t\t\t\t\t\t\\\n-  %(cpp_cpu)\t\t\t\t\t\t\t\t\\\n-  %{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__}\t\t\\\n-  %{posix:-D_POSIX_SOURCE}\"\n-\n #undef  CPP_SPEC\n #define CPP_SPEC FBSD_CPP_SPEC\n \n-/* Provide a STARTFILE_SPEC appropriate for FreeBSD.  Here we add\n-   the magical crtbegin.o file (see crtstuff.c) which provides part \n-\tof the support for getting C++ file-scope static object constructed \n-\tbefore entering `main'. */\n-   \n-#define FBSD_STARTFILE_SPEC \\\n-  \"%{!shared: \\\n-     %{pg:gcrt1.o%s} %{!pg:%{p:gcrt1.o%s} \\\n-\t\t       %{!p:%{profile:gcrt1.o%s} \\\n-\t\t\t %{!profile:crt1.o%s}}}} \\\n-   crti.o%s %{!shared:crtbegin.o%s} %{shared:crtbeginS.o%s}\"\n-\n-/* Provide a ENDFILE_SPEC appropriate for FreeBSD.  Here we tack on\n-   the magical crtend.o file (see crtstuff.c) which provides part of \n-\tthe support for getting C++ file-scope static object constructed \n-\tbefore entering `main', followed by a normal \"finalizer\" file, \n-\t`crtn.o'.  */\n-\n-#define FBSD_ENDFILE_SPEC \\\n-  \"%{!shared:crtend.o%s} %{shared:crtendS.o%s} crtn.o%s\"\n-\n-/* Provide a LIB_SPEC appropriate for FreeBSD as configured and as\n-   required by the user-land thread model.  Before __FreeBSD_version\n-   500016, select the appropriate libc, depending on whether we're\n-   doing profiling or need threads support.  At __FreeBSD_version\n-   500016 and later, when threads support is requested include both\n-   -lc and -lc_r instead of only -lc_r.  To make matters interesting,\n-   we can't actually use __FreeBSD_version provided by <osreldate.h>\n-   directly since it breaks cross-compiling.  As a final twist, make\n-   it a hard error if -pthread is provided on the command line and gcc\n-   was configured with --disable-threads (this will help avoid bug\n-   reports from users complaining about threading when they\n-   misconfigured the gcc bootstrap but are later consulting FreeBSD\n-   manual pages that refer to the mythical -pthread option).  */\n-\n-/* Provide a LIB_SPEC appropriate for FreeBSD.  Just select the appropriate\n-   libc, depending on whether we're doing profiling or need threads support.\n-   (simular to the default, except no -lg, and no -p).  */\n-\n-#ifdef FBSD_NO_THREADS\n-#define FBSD_LIB_SPEC \"\t\t\t\t\t\t\t\\\n-  %{pthread: %eThe -pthread option is only supported on FreeBSD when gcc \\\n-is built with the --enable-threads configure-time option.}\t\t\\\n-  %{!shared:\t\t\t\t\t\t\t\t\\\n-    %{!pg: -lc}\t\t\t\t\t\t\t\t\\\n-    %{pg:  -lc_p}\t\t\t\t\t\t\t\\\n-  }\"\n-#else\n-#if FBSD_MAJOR >= 5\n-#define FBSD_LIB_SPEC \"\t\t\t\t\t\t\t\\\n-  %{!shared:\t\t\t\t\t\t\t\t\\\n-    %{!pg: %{pthread:-lc_r} -lc}\t\t\t\t\t\\\n-    %{pg:  %{pthread:-lc_r_p} -lc_p}\t\t\t\t\t\\\n-  }\"\n-#else\n-#define FBSD_LIB_SPEC \"\t\t\t\t\t\t\t\\\n-  %{!shared:\t\t\t\t\t\t\t\t\\\n-    %{!pg:\t\t\t\t\t\t\t\t\\\n-      %{!pthread:-lc}\t\t\t\t\t\t\t\\\n-      %{pthread:-lc_r}}\t\t\t\t\t\t\t\\\n-    %{pg:\t\t\t\t\t\t\t\t\\\n-      %{!pthread:-lc_p}\t\t\t\t\t\t\t\\\n-      %{pthread:-lc_r_p}}\t\t\t\t\t\t\\\n-  }\"\n-#endif\n-#endif\n+#undef  STARTFILE_SPEC\n+#define STARTFILE_SPEC FBSD_STARTFILE_SPEC\n+\n+#undef  ENDFILE_SPEC\n+#define ENDFILE_SPEC FBSD_ENDFILE_SPEC\n \n #undef  LIB_SPEC\n #define LIB_SPEC FBSD_LIB_SPEC\n@@ -197,6 +89,11 @@ is built with the --enable-threads configure-time option.}\t\t\\\n    with libraries compiled with the native cc.  */\n #undef NO_DOLLAR_IN_LABEL\n \n+/* Used by libgcc2.c.  We support file locking with fcntl / F_SETLKW.\n+   This enables the test coverage code to use file locking when exiting a\n+   program, which avoids race conditions if the program has forked.  */\n+#define TARGET_HAS_F_SETLKW\n+\n /* The prefix to add to user-visible assembler symbols.\n    For System V Release 4 & ELF the convention is *not* to prepend a leading\n    underscore onto user-level symbol names. Some CPU files such as\n@@ -214,12 +111,6 @@ is built with the --enable-threads configure-time option.}\t\t\\\n #undef  IDENT_ASM_OP\n #define IDENT_ASM_OP \"\\t.ident\\t\"\n \n-/* Output #ident as a .ident.  */\n-\n-#undef  ASM_OUTPUT_IDENT\n-#define ASM_OUTPUT_IDENT(FILE, NAME)\t\t\t\t\t\\\n-  fprintf ((FILE), \"%s\\\"%s\\\"\\n\", IDENT_ASM_OP, (NAME));\n-\n /************************[  Debugger stuff  ]*********************************/\n \n /* All ELF targets can support DWARF-2.  */"}, {"sha": "2738a378b6f71a42e93e455b9dee7bc801171f21", "filename": "gcc/config/rs6000/aix.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Faix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Faix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Faix.h?ref=b91da81fbd97050271976fe6d6a93ba685ceba03", "patch": "@@ -189,3 +189,6 @@ Boston, MA 02111-1307, USA.  */\n #define SETUP_FRAME_ADDRESSES() rs6000_aix_emit_builtin_unwind_init ()\n \n #define PROFILE_HOOK(LABEL)   output_profile_hook (LABEL)\n+\n+/* Print subsidiary information on the compiler version in use.  */\n+#define TARGET_VERSION ;"}, {"sha": "cb2fb5bb5ecb4a4bfdd9f6368ce3fe9f99cbfed0", "filename": "gcc/config/rs6000/beos.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Fbeos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Fbeos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fbeos.h?ref=b91da81fbd97050271976fe6d6a93ba685ceba03", "patch": "@@ -20,6 +20,8 @@ along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA.  */\n \n+#undef  TARGET_VERSION\n+#define TARGET_VERSION fprintf (stderr, \" (BeOS/PowerPC)\");\n \n /* Enable AIX XL compiler calling convention breakage compatibility.  */\n #define MASK_XL_CALL\t\t0x40000000"}, {"sha": "3d4f376304ca72fc9cc03ffc9eccc18e3ae58b68", "filename": "gcc/config/rs6000/darwin.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fdarwin.h?ref=b91da81fbd97050271976fe6d6a93ba685ceba03", "patch": "@@ -19,6 +19,9 @@ along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA.  */\n \n+#undef  TARGET_VERSION\n+#define TARGET_VERSION fprintf (stderr, \" (Darwin/PowerPC)\");\n+\n /* The \"Darwin ABI\" is mostly like AIX, but with some key differences.  */\n \n #define DEFAULT_ABI ABI_DARWIN"}, {"sha": "1f2850a86ba420038aaacfae621cfb4a5cdb20d9", "filename": "gcc/config/rs6000/freebsd.h", "status": "added", "additions": 66, "deletions": 0, "changes": 66, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Ffreebsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Ffreebsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ffreebsd.h?ref=b91da81fbd97050271976fe6d6a93ba685ceba03", "patch": "@@ -0,0 +1,66 @@\n+/* Definitions for PowerPC running FreeBSD using the ELF format\n+   Copyright (C) 2001 Free Software Foundation, Inc.\n+   Contributed by David E. O'Brien <obrien@FreeBSD.org> and BSDi.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n+\n+/* Override the defaults, which exist to force the proper definition. */\n+\n+#undef\tCPP_OS_DEFAULT_SPEC\n+#define CPP_OS_DEFAULT_SPEC \"%(cpp_os_freebsd)\"\n+\n+#undef\tSTARTFILE_DEFAULT_SPEC\n+#define STARTFILE_DEFAULT_SPEC \"%(startfile_freebsd)\"\n+\n+#undef\tENDFILE_DEFAULT_SPEC\n+#define ENDFILE_DEFAULT_SPEC \"%(endfile_freebsd)\"\n+\n+#undef\tLIB_DEFAULT_SPEC\n+#define LIB_DEFAULT_SPEC \"%(lib_freebsd)\"\n+\n+#undef\tLINK_START_DEFAULT_SPEC\n+#define LINK_START_DEFAULT_SPEC \"%(link_start_freebsd)\"\n+\n+#undef\tLINK_OS_DEFAULT_SPEC\n+#define\tLINK_OS_DEFAULT_SPEC \"%(link_os_freebsd)\"\n+\n+\n+/************************[  Target stuff  ]***********************************/\n+\n+/* Define the actual types of some ANSI-mandated types.  \n+   Needs to agree with <machine/ansi.h>.  GCC defaults come from c-decl.c,\n+   c-common.c, and config/<arch>/<arch>.h.  */\n+\n+/* rs6000.h gets this wrong for FreeBSD.  We use the GCC defaults instead.  */\n+#undef WCHAR_TYPE\n+\n+#undef  WCHAR_UNSIGNED\n+#define WCHAR_UNSIGNED 0\n+\n+#undef  WCHAR_TYPE_SIZE\n+#define WCHAR_TYPE_SIZE 32\n+\n+#undef  TARGET_VERSION\n+#define TARGET_VERSION fprintf (stderr, \" (FreeBSD/PowerPC ELF)\");\n+\n+/* Override rs6000.h definition.  */\n+#undef  ASM_APP_ON\n+#define ASM_APP_ON \"#APP\\n\"\n+\n+/* Override rs6000.h definition.  */\n+#undef  ASM_APP_OFF\n+#define ASM_APP_OFF \"#NO_APP\\n\""}, {"sha": "5a859ca27b7d97aecaff1ea40dfcfeee54715c36", "filename": "gcc/config/rs6000/lynx.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Flynx.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Flynx.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Flynx.h?ref=b91da81fbd97050271976fe6d6a93ba685ceba03", "patch": "@@ -19,8 +19,6 @@ along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA.  */\n \n-#include <lynx.h>\n-\n /* Definitions we want to override with those from rs6000.h: */\n #undef LIB_SPEC\n #undef PTRDIFF_TYPE\n@@ -47,6 +45,9 @@ Boston, MA 02111-1307, USA.  */\n \n #include <rs6000/rs6000.h>\n \n+/* Print subsidiary information on the compiler version in use.  */\n+#define TARGET_VERSION fprintf (stderr, \" (LynxOS-RS/6000)\");\n+\n /* LynxOS has signed chars, regardless of what most R/S 6000 systems do */\n #undef DEFAULT_SIGNED_CHAR\n #define DEFAULT_SIGNED_CHAR 1"}, {"sha": "d4395d545c095b1149d9027f3ba1b836598c9629", "filename": "gcc/config/rs6000/mach.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Fmach.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Fmach.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fmach.h?ref=b91da81fbd97050271976fe6d6a93ba685ceba03", "patch": "@@ -22,6 +22,9 @@ Boston, MA 02111-1307, USA.  */\n \n #define TARGET_AIX 0\n \n+/* Print subsidiary information on the compiler version in use.  */\n+#define TARGET_VERSION fprintf (stderr, \" (Mach-RS/6000)\");\n+\n /* We don't define AIX under MACH; instead we define `unix'.  */\n #undef CPP_PREDEFINES\n #define CPP_PREDEFINES \"-Drios -D_IBMR2 -Dunix -Asystem=unix -Asystem=mach -Acpu=rs6000 -Amachine=rs6000\""}, {"sha": "b2bb934d5780dc7ecfd7db63823eec13b15d03c8", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=b91da81fbd97050271976fe6d6a93ba685ceba03", "patch": "@@ -80,7 +80,7 @@ int rs6000_compare_fp_p;\n    get the address of the GOT section */\n int rs6000_pic_labelno;\n \n-#ifdef USING_SVR4_H\n+#ifdef USING_ELFOS_H\n /* Which abi to adhere to */\n const char *rs6000_abi_name = RS6000_ABI_NAME;\n \n@@ -540,7 +540,7 @@ rs6000_file_start (file, default_cpu)\n \t    }\n \t}\n \n-#ifdef USING_SVR4_H\n+#ifdef USING_ELFOS_H\n       switch (rs6000_sdata)\n \t{\n \tcase SDATA_NONE: fprintf (file, \"%s -msdata=none\", start); start = \"\"; break;\n@@ -8849,7 +8849,7 @@ rs6000_longcall_ref (call_ref)\n    Do not define this macro if you put all constants in the read-only\n    data section.  */\n \n-#ifdef USING_SVR4_H\n+#ifdef USING_ELFOS_H\n \n void\n rs6000_select_rtx_section (mode, x)\n@@ -9055,7 +9055,7 @@ rs6000_encode_section_info (decl)\n     }\n }\n \n-#endif /* USING_SVR4_H */\n+#endif /* USING_ELFOS_H */\n \n \f\n /* Return a REG that occurs in ADDR with coefficient 1."}, {"sha": "b2401d9b7573c1b55a6e06e1e3446daf00c11175", "filename": "gcc/config/rs6000/rs6000.h", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Frs6000.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Frs6000.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.h?ref=b91da81fbd97050271976fe6d6a93ba685ceba03", "patch": "@@ -41,9 +41,6 @@ Boston, MA 02111-1307, USA.  */\n #define TARGET_AIX 0\n #endif\n \n-/* Print subsidiary information on the compiler version in use.  */\n-#define TARGET_VERSION ;\n-\n /* Default string to use for cpu if not specified.  */\n #ifndef TARGET_CPU_DEFAULT\n #define TARGET_CPU_DEFAULT ((char *)0)"}, {"sha": "c4f7e92f5dae90b279aa50bc29bd3765dbc2f426", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 47, "deletions": 12, "changes": 59, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b91da81fbd97050271976fe6d6a93ba685ceba03/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=b91da81fbd97050271976fe6d6a93ba685ceba03", "patch": "@@ -194,6 +194,8 @@ do {\t\t\t\t\t\t\t\t\t\\\n     }\t\t\t\t\t\t\t\t\t\\\n   else if (!strcmp (rs6000_abi_name, \"aixdesc\"))\t\t\t\\\n     rs6000_current_abi = ABI_AIX;\t\t\t\t\t\\\n+  else if (!strcmp (rs6000_abi_name, \"freebsd\"))\t\t\t\\\n+    rs6000_current_abi = ABI_V4;\t\t\t\t\t\\\n   else if (!strcmp (rs6000_abi_name, \"linux\"))\t\t\t\t\\\n     rs6000_current_abi = ABI_V4;\t\t\t\t\t\\\n   else if (!strcmp (rs6000_abi_name, \"netbsd\"))\t\t\t\t\\\n@@ -917,12 +919,14 @@ do {\t\t\t\t\t\t\\\n \n /* This is the end of what might become sysv4dbx.h.  */\n \n-/* Override rs6000.h definition.  */\n-#undef\tTARGET_VERSION\n+#ifndef\tTARGET_VERSION\n #define\tTARGET_VERSION fprintf (stderr, \" (PowerPC System V.4)\");\n+#endif\n \f\n+#ifndef\tCPP_PREDEFINES\n #define\tCPP_PREDEFINES \\\n   \"-DPPC -Dunix -D__svr4__ -Asystem=unix -Asystem=svr4 -Acpu=powerpc -Amachine=powerpc\"\n+#endif\n \n /* Pass various options to the assembler.  */\n /* Override svr4.h definition.  */\n@@ -935,9 +939,11 @@ do {\t\t\t\t\t\t\\\n %{mlittle} %{mlittle-endian} %{mbig} %{mbig-endian} \\\n %{!mlittle: %{!mlittle-endian: %{!mbig: %{!mbig-endian: \\\n     %{mcall-solaris: -mlittle -msolaris} \\\n+    %{mcall-freebsd: -mbig} \\\n     %{mcall-i960-old: -mlittle} \\\n     %{mcall-linux: -mbig} \\\n-    %{mcall-netbsd: -mbig} }}}}\"\n+    %{mcall-netbsd: -mbig} \\\n+}}}}\"\n \n #define\tCC1_ENDIAN_BIG_SPEC \"\"\n \n@@ -956,20 +962,22 @@ do {\t\t\t\t\t\t\\\n %{mbig: %(cc1_endian_big)} %{!mbig: %{mbig-endian: %(cc1_endian_big)}} \\\n %{!mlittle: %{!mlittle-endian: %{!mbig: %{!mbig-endian: \\\n     %{mcall-aixdesc: -mbig %(cc1_endian_big) } \\\n+    %{mcall-freebsd: -mbig %(cc1_endian_big) } \\\n     %{mcall-solaris: -mlittle %(cc1_endian_little) } \\\n     %{mcall-i960-old: -mlittle %(cc1_endian_little) } \\\n     %{mcall-linux: -mbig %(cc1_endian_big) } \\\n     %{mcall-netbsd: -mbig %(cc1_endian_big) } \\\n-    %{!mcall-aixdesc: %{!mcall-solaris: %{!mcall-i960-old: %{!mcall-linux: %{!mcall-netbsd: \\\n+    %{!mcall-aixdesc: %{!mcall-freebsd: %{!mcall-solaris: %{!mcall-i960-old: %{!mcall-linux: %{!mcall-netbsd: \\\n \t    %(cc1_endian_default) \\\n-    }}}}} \\\n+    }}}}}} \\\n }}}} \\\n %{mcall-solaris: -mregnames } \\\n %{mno-sdata: -msdata=none } \\\n %{meabi: %{!mcall-*: -mcall-sysv }} \\\n %{!meabi: %{!mno-eabi: \\\n     %{mrelocatable: -meabi } \\\n     %{mcall-solaris: -mno-eabi } \\\n+    %{mcall-freebsd: -mno-eabi } \\\n     %{mcall-i960-old: -meabi } \\\n     %{mcall-linux: -mno-eabi } \\\n     %{mcall-netbsd: -mno-eabi }}} \\\n@@ -1000,10 +1008,11 @@ do {\t\t\t\t\t\t\\\n %{myellowknife: %(link_start_yellowknife) } \\\n %{mmvme: %(link_start_mvme) } \\\n %{msim: %(link_start_sim) } \\\n+%{mcall-freebsd: %(link_start_freebsd) } \\\n %{mcall-linux: %(link_start_linux) } \\\n %{mcall-netbsd: %(link_start_netbsd) } \\\n %{mcall-solaris: %(link_start_solaris) } \\\n-%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(link_start_default) }}}}}}}\"\n+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-freebsd: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(link_start_default) }}}}}}}}\"\n \n #define LINK_START_DEFAULT_SPEC \"\"\n \n@@ -1056,10 +1065,11 @@ do {\t\t\t\t\t\t\\\n %{myellowknife: %(link_os_yellowknife) } \\\n %{mmvme: %(link_os_mvme) } \\\n %{msim: %(link_os_sim) } \\\n+%{mcall-freebsd: %(link_os_freebsd) } \\\n %{mcall-linux: %(link_os_linux) } \\\n %{mcall-netbsd: %(link_os_netbsd) } \\\n %{mcall-solaris: %(link_os_solaris) } \\\n-%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(link_os_default) }}}}}}}\"\n+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-freebsd: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(link_os_default) }}}}}}}}\"\n \n #define LINK_OS_DEFAULT_SPEC \"\"\n \n@@ -1105,11 +1115,12 @@ do {\t\t\t\t\t\t\\\n %{mbig-endian: %(cpp_endian_big) } \\\n %{!mlittle: %{!mlittle-endian: %{!mbig: %{!mbig-endian: \\\n     %{mcall-solaris: %(cpp_endian_solaris) } \\\n+    %{mcall-freebsd: %(cpp_endian_big) } \\\n     %{mcall-linux: %(cpp_endian_big) } \\\n     %{mcall-netbsd: %(cpp_endian_big) } \\\n     %{mcall-i960-old: %(cpp_endian_little) } \\\n     %{mcall-aixdesc:  %(cpp_endian_big) } \\\n-    %{!mcall-solaris: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-aixdesc: %(cpp_endian_default) }}}}}}}}\"\n+    %{!mcall-solaris: %{!mcall-linux: %{!mcall-freebsd: %{!mcall-netbsd: %{!mcall-aixdesc: %(cpp_endian_default) }}}}}}}}}\"\n \n #define\tCPP_ENDIAN_DEFAULT_SPEC \"%(cpp_endian_big)\"\n \n@@ -1120,10 +1131,11 @@ do {\t\t\t\t\t\t\\\n %{myellowknife: %(cpp_os_yellowknife) } \\\n %{mmvme: %(cpp_os_mvme) } \\\n %{msim: %(cpp_os_sim) } \\\n+%{mcall-freebsd: %(cpp_os_freebsd) } \\\n %{mcall-linux: %(cpp_os_linux) } \\\n %{mcall-netbsd: %(cpp_os_netbsd) } \\\n %{mcall-solaris: %(cpp_os_solaris) } \\\n-%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(cpp_os_default) }}}}}}}\"\n+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-freebsd: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(cpp_os_default) }}}}}}}}\"\n \n #define\tCPP_OS_DEFAULT_SPEC \"\"\n \n@@ -1134,10 +1146,11 @@ do {\t\t\t\t\t\t\\\n %{myellowknife: %(startfile_yellowknife) } \\\n %{mmvme: %(startfile_mvme) } \\\n %{msim: %(startfile_sim) } \\\n+%{mcall-freebsd: %(startfile_freebsd) } \\\n %{mcall-linux: %(startfile_linux) } \\\n %{mcall-netbsd: %(startfile_netbsd) } \\\n %{mcall-solaris: %(startfile_solaris) } \\\n-%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(startfile_default) }}}}}}}\"\n+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-freebsd: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(startfile_default) }}}}}}}}\"\n \n #define\tSTARTFILE_DEFAULT_SPEC \"\"\n \n@@ -1148,10 +1161,11 @@ do {\t\t\t\t\t\t\\\n %{myellowknife: %(lib_yellowknife) } \\\n %{mmvme: %(lib_mvme) } \\\n %{msim: %(lib_sim) } \\\n+%{mcall-freebsd: %(lib_freebsd) } \\\n %{mcall-linux: %(lib_linux) } \\\n %{mcall-netbsd: %(lib_netbsd) } \\\n %{mcall-solaris: %(lib_solaris) } \\\n-%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(lib_default) }}}}}}}\"\n+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-freebsd: %%{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(lib_default) }}}}}}}}\"\n \n #define LIB_DEFAULT_SPEC \"\"\n \n@@ -1162,11 +1176,12 @@ do {\t\t\t\t\t\t\\\n %{myellowknife: %(endfile_yellowknife)} \\\n %{mmvme: %(endfile_mvme)} \\\n %{msim: %(endfile_sim)} \\\n+%{mcall-freebsd: %(endfile_freebsd) } \\\n %{mcall-linux: %(endfile_linux) } \\\n %{mcall-netbsd: %(endfile_netbsd) } \\\n %{mcall-solaris: %(endfile_solaris)} \\\n %{mvxworks: %(endfile_vxworks) } \\\n-%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %{!mvxworks: %(endfile_default) }}}}}}}}\"\n+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-freebsd: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %{!mvxworks: %(endfile_default) }}}}}}}}}\"\n \n #define\tENDFILE_DEFAULT_SPEC \"\"\n \n@@ -1222,6 +1237,20 @@ do {\t\t\t\t\t\t\\\n \n #define CPP_OS_SIM_SPEC \"\"\n \n+/* FreeBSD support.  */\n+\n+#define CPP_OS_FREEBSD_SPEC\t\"\\\n+  -D__PPC__ -D__ppc__ -D__PowerPC__ -D__powerpc__ \\\n+  -Acpu=powerpc -Amachine=powerpc\"\n+\n+#define\tSTARTFILE_FREEBSD_SPEC\tFBSD_STARTFILE_SPEC\n+#define ENDFILE_FREEBSD_SPEC\tFBSD_ENDFILE_SPEC\n+#define LIB_FREEBSD_SPEC\tFBSD_LIB_SPEC\n+#define LINK_START_FREEBSD_SPEC\t\"\"\n+\n+#define LINK_OS_FREEBSD_SPEC \"\\\n+  %{symbolic:-Bsymbolic}\"\n+\n /* GNU/Linux support.  */\n #ifdef USE_GNULIBC_1\n #define LIB_LINUX_SPEC \"%{mnewlib: --start-group -llinux -lc --end-group } \\\n@@ -1379,6 +1408,7 @@ ncrtn.o%s\"\n   { \"lib_yellowknife\",\t\tLIB_YELLOWKNIFE_SPEC },\t\t\t\\\n   { \"lib_mvme\",\t\t\tLIB_MVME_SPEC },\t\t\t\\\n   { \"lib_sim\",\t\t\tLIB_SIM_SPEC },\t\t\t\t\\\n+  { \"lib_freebsd\",\t\tLIB_FREEBSD_SPEC },\t\t\t\\\n   { \"lib_linux\",\t\tLIB_LINUX_SPEC },\t\t\t\\\n   { \"lib_netbsd\",\t\tLIB_NETBSD_SPEC },\t\t\t\\\n   { \"lib_solaris\",\t\tLIB_SOLARIS_SPEC },\t\t\t\\\n@@ -1388,6 +1418,7 @@ ncrtn.o%s\"\n   { \"startfile_yellowknife\",\tSTARTFILE_YELLOWKNIFE_SPEC },\t\t\\\n   { \"startfile_mvme\",\t\tSTARTFILE_MVME_SPEC },\t\t\t\\\n   { \"startfile_sim\",\t\tSTARTFILE_SIM_SPEC },\t\t\t\\\n+  { \"startfile_freebsd\",\tSTARTFILE_FREEBSD_SPEC },\t\t\\\n   { \"startfile_linux\",\t\tSTARTFILE_LINUX_SPEC },\t\t\t\\\n   { \"startfile_netbsd\",\t\tSTARTFILE_NETBSD_SPEC },\t\t\\\n   { \"startfile_solaris\",\tSTARTFILE_SOLARIS_SPEC },\t\t\\\n@@ -1397,6 +1428,7 @@ ncrtn.o%s\"\n   { \"endfile_yellowknife\",\tENDFILE_YELLOWKNIFE_SPEC },\t\t\\\n   { \"endfile_mvme\",\t\tENDFILE_MVME_SPEC },\t\t\t\\\n   { \"endfile_sim\",\t\tENDFILE_SIM_SPEC },\t\t\t\\\n+  { \"endfile_freebsd\",\t\tENDFILE_FREEBSD_SPEC },\t\t\t\\\n   { \"endfile_linux\",\t\tENDFILE_LINUX_SPEC },\t\t\t\\\n   { \"endfile_netbsd\",\t\tENDFILE_NETBSD_SPEC },\t\t\t\\\n   { \"endfile_solaris\",\t\tENDFILE_SOLARIS_SPEC },\t\t\t\\\n@@ -1410,6 +1442,7 @@ ncrtn.o%s\"\n   { \"link_start_yellowknife\",\tLINK_START_YELLOWKNIFE_SPEC },\t\t\\\n   { \"link_start_mvme\",\t\tLINK_START_MVME_SPEC },\t\t\t\\\n   { \"link_start_sim\",\t\tLINK_START_SIM_SPEC },\t\t\t\\\n+  { \"link_start_freebsd\",\tLINK_START_FREEBSD_SPEC },\t\t\\\n   { \"link_start_linux\",\t\tLINK_START_LINUX_SPEC },\t\t\\\n   { \"link_start_netbsd\",\tLINK_START_NETBSD_SPEC },\t\t\\\n   { \"link_start_solaris\",\tLINK_START_SOLARIS_SPEC },\t\t\\\n@@ -1420,6 +1453,7 @@ ncrtn.o%s\"\n   { \"link_os_yellowknife\",\tLINK_OS_YELLOWKNIFE_SPEC },\t\t\\\n   { \"link_os_mvme\",\t\tLINK_OS_MVME_SPEC },\t\t\t\\\n   { \"link_os_sim\",\t\tLINK_OS_SIM_SPEC },\t\t\t\\\n+  { \"link_os_freebsd\",\t\tLINK_OS_FREEBSD_SPEC },\t\t\t\\\n   { \"link_os_linux\",\t\tLINK_OS_LINUX_SPEC },\t\t\t\\\n   { \"link_os_netbsd\",\t\tLINK_OS_NETBSD_SPEC },\t\t\t\\\n   { \"link_os_solaris\",\t\tLINK_OS_SOLARIS_SPEC },\t\t\t\\\n@@ -1437,6 +1471,7 @@ ncrtn.o%s\"\n   { \"cpp_os_yellowknife\",\tCPP_OS_YELLOWKNIFE_SPEC },\t\t\\\n   { \"cpp_os_mvme\",\t\tCPP_OS_MVME_SPEC },\t\t\t\\\n   { \"cpp_os_sim\",\t\tCPP_OS_SIM_SPEC },\t\t\t\\\n+  { \"cpp_os_freebsd\",\t\tCPP_OS_FREEBSD_SPEC },\t\t\t\\\n   { \"cpp_os_linux\",\t\tCPP_OS_LINUX_SPEC },\t\t\t\\\n   { \"cpp_os_netbsd\",\t\tCPP_OS_NETBSD_SPEC },\t\t\t\\\n   { \"cpp_os_solaris\",\t\tCPP_OS_SOLARIS_SPEC },\t\t\t\\"}]}