{"sha": "1063147cc08d7f22bad9ad3bc0bf758b070611ca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTA2MzE0N2NjMDhkN2YyMmJhZDlhZDNiYzBiZjc1OGIwNzA2MTFjYQ==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2003-06-04T04:36:53Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2003-06-04T04:36:53Z"}, "message": "varasm.c (force_const_mem): Handle alignment of constants not representable as a type in the front-end language.\n\n\n\t* varasm.c (force_const_mem): Handle alignment of constants not\n\trepresentable as a type in the front-end language.\n\nFrom-SVN: r67416", "tree": {"sha": "a6b17ea7952c42607ca2b7ce9d26e2669093b42d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a6b17ea7952c42607ca2b7ce9d26e2669093b42d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1063147cc08d7f22bad9ad3bc0bf758b070611ca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1063147cc08d7f22bad9ad3bc0bf758b070611ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1063147cc08d7f22bad9ad3bc0bf758b070611ca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1063147cc08d7f22bad9ad3bc0bf758b070611ca/comments", "author": null, "committer": null, "parents": [{"sha": "120c6dca562969858e482a8157e03a09a84d7a20", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/120c6dca562969858e482a8157e03a09a84d7a20", "html_url": "https://github.com/Rust-GCC/gccrs/commit/120c6dca562969858e482a8157e03a09a84d7a20"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "9b20061921ea96629bb088c1eabc55ce98382ab8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1063147cc08d7f22bad9ad3bc0bf758b070611ca/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1063147cc08d7f22bad9ad3bc0bf758b070611ca/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1063147cc08d7f22bad9ad3bc0bf758b070611ca", "patch": "@@ -1,3 +1,8 @@\n+2003-06-03  Roger Sayle  <roger@eyesopen.com>\n+\n+\t* varasm.c (force_const_mem): Handle alignment of constants not\n+\trepresentable as a type in the front-end language.\n+\n 2003-06-03  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* flow.c (initialize_uninitialized_subregs): Use"}, {"sha": "fec16d531964ff57ee597ef1f59647e1037708de", "filename": "gcc/varasm.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1063147cc08d7f22bad9ad3bc0bf758b070611ca/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1063147cc08d7f22bad9ad3bc0bf758b070611ca/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=1063147cc08d7f22bad9ad3bc0bf758b070611ca", "patch": "@@ -3061,8 +3061,11 @@ force_const_mem (mode, x)\n   /* Align the location counter as required by EXP's data type.  */\n   align = GET_MODE_ALIGNMENT (mode == VOIDmode ? word_mode : mode);\n #ifdef CONSTANT_ALIGNMENT\n-  align = CONSTANT_ALIGNMENT (make_tree ((*lang_hooks.types.type_for_mode)\n-\t\t\t\t\t (mode, 0), x), align);\n+  {\n+    tree type = (*lang_hooks.types.type_for_mode) (mode, 0);\n+    if (type != NULL_TREE)\n+      align = CONSTANT_ALIGNMENT (make_tree (type, x), align);\n+  }\n #endif\n \n   pool_offset += (align / BITS_PER_UNIT) - 1;"}]}