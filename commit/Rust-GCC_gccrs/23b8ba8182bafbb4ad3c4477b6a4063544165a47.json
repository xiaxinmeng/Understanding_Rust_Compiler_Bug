{"sha": "23b8ba8182bafbb4ad3c4477b6a4063544165a47", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjNiOGJhODE4MmJhZmJiNGFkM2M0NDc3YjZhNDA2MzU0NDE2NWE0Nw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-09-27T16:17:33Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-09-27T16:17:33Z"}, "message": "* emit-rtl.c (active_insn_p): Revert last change.\n\nFrom-SVN: r57590", "tree": {"sha": "15e869ffaddf800e940f7b8713046b12faaaa4c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/15e869ffaddf800e940f7b8713046b12faaaa4c0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/23b8ba8182bafbb4ad3c4477b6a4063544165a47", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/23b8ba8182bafbb4ad3c4477b6a4063544165a47", "html_url": "https://github.com/Rust-GCC/gccrs/commit/23b8ba8182bafbb4ad3c4477b6a4063544165a47", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/23b8ba8182bafbb4ad3c4477b6a4063544165a47/comments", "author": null, "committer": null, "parents": [{"sha": "0b0f416385667e0b43b3b82069b55f2d0da43e89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b0f416385667e0b43b3b82069b55f2d0da43e89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b0f416385667e0b43b3b82069b55f2d0da43e89"}], "stats": {"total": 37, "additions": 9, "deletions": 28}, "files": [{"sha": "30a220d8f215df42c9ad171f9a8d9d71848a070c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/23b8ba8182bafbb4ad3c4477b6a4063544165a47/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/23b8ba8182bafbb4ad3c4477b6a4063544165a47/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=23b8ba8182bafbb4ad3c4477b6a4063544165a47", "patch": "@@ -1,3 +1,7 @@\n+2002-09-27  Richard Henderson  <rth@redhat.com>\n+\n+\t* emit-rtl.c (active_insn_p): Revert last change.\n+\n 2002-09-27  Jakub Jelinek  <jakub@redhat.com>\n \n \t* doc/extend.texi (tls_model): Document."}, {"sha": "889064fd0f9ccdb8955d538d5470e311f6d1585a", "filename": "gcc/emit-rtl.c", "status": "modified", "additions": 5, "deletions": 28, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/23b8ba8182bafbb4ad3c4477b6a4063544165a47/gcc%2Femit-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/23b8ba8182bafbb4ad3c4477b6a4063544165a47/gcc%2Femit-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Femit-rtl.c?ref=23b8ba8182bafbb4ad3c4477b6a4063544165a47", "patch": "@@ -3021,34 +3021,11 @@ int\n active_insn_p (insn)\n      rtx insn;\n {\n-  if (GET_CODE (insn) == CALL_INSN || GET_CODE (insn) == JUMP_INSN)\n-    return true;\n-  if (GET_CODE (insn) == INSN)\n-    {\n-      if (reload_completed)\n-\t{\n-\t  rtx pat = PATTERN (insn);\n-\n-\t  /* After reload, remaining USE insns are noops.  */\n-\t  if (GET_CODE (pat) == USE)\n-\t    return false;\n-\n-\t  if (GET_CODE (pat) == CLOBBER)\n-\t    {\n-\t      /* ??? Don't skip past the clobber of the return register.\n-\t\t If we eliminate it, we risk a variety of life analysis\n-\t\t problems on broken code.  */\n-\t      if (GET_CODE (XEXP (pat, 0)) == REG\n-\t\t  && REG_FUNCTION_VALUE_P (XEXP (pat, 0)))\n-\t\treturn true;\n-\n-\t      /* Otherwise, clobbers don't do anything either.  */\n-\t      return false;\n-\t    }\n-\t}\n-      return true;\n-    }\n-  return false;\n+  return (GET_CODE (insn) == CALL_INSN || GET_CODE (insn) == JUMP_INSN\n+\t  || (GET_CODE (insn) == INSN\n+\t      && (! reload_completed\n+\t\t  || (GET_CODE (PATTERN (insn)) != USE\n+\t\t      && GET_CODE (PATTERN (insn)) != CLOBBER))));\n }\n \n rtx"}]}