{"sha": "e9770d5120e4f26b56d820ceb363497e3c724297", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTk3NzBkNTEyMGU0ZjI2YjU2ZDgyMGNlYjM2MzQ5N2UzYzcyNDI5Nw==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2001-01-30T19:19:40Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2001-01-30T19:19:40Z"}, "message": "c-decl.c (c_expand_body): Check TYPE_SIZE_UNIT (ret_type) is not NULL.\n\n        * c-decl.c (c_expand_body): Check TYPE_SIZE_UNIT (ret_type)\n        is not NULL.\n        * toplev.c (decode_W_option): Update warn_larger_than\n        unconditionally for each processed switch.\n        * testsuite/gcc.dg/Wlarger-than.c: New test.\n\nFrom-SVN: r39352", "tree": {"sha": "d8f79081ba49b8c1fd91e83b95f8c1ca69877c3e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d8f79081ba49b8c1fd91e83b95f8c1ca69877c3e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e9770d5120e4f26b56d820ceb363497e3c724297", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9770d5120e4f26b56d820ceb363497e3c724297", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e9770d5120e4f26b56d820ceb363497e3c724297", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9770d5120e4f26b56d820ceb363497e3c724297/comments", "author": null, "committer": null, "parents": [{"sha": "d966ae60665c7dbe90121db5304b4328feb0eb04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d966ae60665c7dbe90121db5304b4328feb0eb04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d966ae60665c7dbe90121db5304b4328feb0eb04"}], "stats": {"total": 27, "additions": 24, "deletions": 3}, "files": [{"sha": "407065b84cc8badb685059d3bf2277d780988b36", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e9770d5120e4f26b56d820ceb363497e3c724297/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e9770d5120e4f26b56d820ceb363497e3c724297/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e9770d5120e4f26b56d820ceb363497e3c724297", "patch": "@@ -1,3 +1,10 @@\n+2001-01-30  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+        * c-decl.c (c_expand_body): Check TYPE_SIZE_UNIT (ret_type)\n+        is not NULL.\n+        * toplev.c (decode_W_option): Update warn_larger_than\n+        unconditionally for each processed switch.\n+\n 2001-01-30  John David Anglin  <dave@hiauly1.hia.nrc.ca>\n \n \t* pa.c (pa_init_machine_status): Initialize pic_offset_table_save_rtx"}, {"sha": "edbe9cea5033e395565a0b316da3065eb736bf99", "filename": "gcc/c-decl.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e9770d5120e4f26b56d820ceb363497e3c724297/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e9770d5120e4f26b56d820ceb363497e3c724297/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=e9770d5120e4f26b56d820ceb363497e3c724297", "patch": "@@ -6728,7 +6728,8 @@ c_expand_body (fndecl, nested_p)\n     {\n       tree ret_type = TREE_TYPE (TREE_TYPE (fndecl));\n \n-      if (ret_type && TREE_CODE (TYPE_SIZE_UNIT (ret_type)) == INTEGER_CST\n+      if (ret_type && TYPE_SIZE_UNIT (ret_type)\n+\t  && TREE_CODE (TYPE_SIZE_UNIT (ret_type)) == INTEGER_CST\n \t  && 0 < compare_tree_int (TYPE_SIZE_UNIT (ret_type),\n \t\t\t\t   larger_than_size))\n \t{"}, {"sha": "a8fd1d3035078c72dbfb4c802cc3603c52c7fe77", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e9770d5120e4f26b56d820ceb363497e3c724297/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e9770d5120e4f26b56d820ceb363497e3c724297/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e9770d5120e4f26b56d820ceb363497e3c724297", "patch": "@@ -1,3 +1,7 @@\n+2001-01-30  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+        * gcc.dg/Wlarger-than.c: New test.\n+\n 2001-01-29  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n         * gcc.dg/cpp/avoidpaste1.c: Fix typos."}, {"sha": "609a7ae4ff09349b3f213b955af8c75c1dab18e1", "filename": "gcc/testsuite/gcc.dg/Wlarger-than.c", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e9770d5120e4f26b56d820ceb363497e3c724297/gcc%2Ftestsuite%2Fgcc.dg%2FWlarger-than.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e9770d5120e4f26b56d820ceb363497e3c724297/gcc%2Ftestsuite%2Fgcc.dg%2FWlarger-than.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWlarger-than.c?ref=e9770d5120e4f26b56d820ceb363497e3c724297", "patch": "@@ -0,0 +1,10 @@\n+/* Copyright (C) 2000 Free Software Foundation, Inc.  */\n+\n+/* { dg-do compile } */\n+/* { dg-options \"-Wlarger-than-32768\" } */\n+\n+/* -Wlarger-than with functions returning void used to segfault.\n+   Source: PR 602, testsuite-ized by Neil Booth 21 Jan 2000.  */\n+\n+static void foo (void) {}\n+"}, {"sha": "64b9bc3c3051ae0f64f2df5e9c750ac9310ae2e8", "filename": "gcc/toplev.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e9770d5120e4f26b56d820ceb363497e3c724297/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e9770d5120e4f26b56d820ceb363497e3c724297/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=e9770d5120e4f26b56d820ceb363497e3c724297", "patch": "@@ -4170,8 +4170,7 @@ decode_W_option (arg)\n     {\n       larger_than_size = read_integral_parameter (option_value, arg - 2, -1);\n \n-      if (larger_than_size != -1)\n-\twarn_larger_than = 1;\n+      warn_larger_than = larger_than_size != -1;\n     }\n   else if (!strcmp (arg, \"unused\"))\n     {"}]}