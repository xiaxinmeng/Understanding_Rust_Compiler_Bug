{"sha": "2a1f8b6bca3e10f7380a7165a3cb376a94ef6a39", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmExZjhiNmJjYTNlMTBmNzM4MGE3MTY1YTNjYjM3NmE5NGVmNmEzOQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1992-10-30T02:56:18Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1992-10-30T02:56:18Z"}, "message": "(reload): If FP was eliminated, remove it from being live in any basic\nblock.\n\nFrom-SVN: r2656", "tree": {"sha": "b5dc894b3cfe44ac89be1c89db7e17565e8553af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b5dc894b3cfe44ac89be1c89db7e17565e8553af"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2a1f8b6bca3e10f7380a7165a3cb376a94ef6a39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a1f8b6bca3e10f7380a7165a3cb376a94ef6a39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a1f8b6bca3e10f7380a7165a3cb376a94ef6a39", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a1f8b6bca3e10f7380a7165a3cb376a94ef6a39/comments", "author": null, "committer": null, "parents": [{"sha": "fe0f9c4bfb3209c6cfd18c690535147bc92739da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe0f9c4bfb3209c6cfd18c690535147bc92739da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe0f9c4bfb3209c6cfd18c690535147bc92739da"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "c065da8ad116e181fb32e49d9c83ca2f2538e8e5", "filename": "gcc/reload1.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a1f8b6bca3e10f7380a7165a3cb376a94ef6a39/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a1f8b6bca3e10f7380a7165a3cb376a94ef6a39/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=2a1f8b6bca3e10f7380a7165a3cb376a94ef6a39", "patch": "@@ -1805,6 +1805,17 @@ reload (first, global, dumpfile)\n       || caller_save_spill_class != NO_REGS)\n     reload_as_needed (first, global);\n \n+  /* If we were able to eliminate the frame pointer, show that it is no\n+     longer live at the start of any basic block.  If it ls live by\n+     virtue of being in a pseudo, that pseudo will be marked live\n+     and hence the frame pointer will be known to be live via that\n+     pseudo.  */\n+\n+  if (! frame_pointer_needed)\n+    for (i = 0; i < n_basic_blocks; i++)\n+      basic_block_live_at_start[i][FRAME_POINTER_REGNUM / REGSET_ELT_BITS]\n+\t&= ~ ((REGSET_ELT_TYPE) 1 << (FRAME_POINTER_REGNUM % REGSET_ELT_BITS));\n+\n   reload_in_progress = 0;\n \n   /* Come here (with failure set nonzero) if we can't get enough spill regs"}]}