{"sha": "25a2fe8569277ca107479db9fea070b721bed157", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjVhMmZlODU2OTI3N2NhMTA3NDc5ZGI5ZmVhMDcwYjcyMWJlZDE1Nw==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2004-12-09T16:17:07Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2004-12-09T16:17:07Z"}, "message": "re PR tree-optimization/18904 (4.0-20041205 regression ICE with -O3)\n\n2004-12-09  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR tree-opt/18904\n        * g++.dg/opt/ptrmem5.C: New test.\n\n2004-12-09  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR tree-opt/18904\n        * tree-chrec.c (chrec_convert): Use fold_convert\n        instead of convert.\n\nFrom-SVN: r91954", "tree": {"sha": "c1d7fb168f81ebdaafafc5613beb198b088c6c50", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c1d7fb168f81ebdaafafc5613beb198b088c6c50"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/25a2fe8569277ca107479db9fea070b721bed157", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25a2fe8569277ca107479db9fea070b721bed157", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25a2fe8569277ca107479db9fea070b721bed157", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25a2fe8569277ca107479db9fea070b721bed157/comments", "author": null, "committer": null, "parents": [{"sha": "8748c00f940d9b1c721bb81dec6a45dd96ec0210", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8748c00f940d9b1c721bb81dec6a45dd96ec0210", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8748c00f940d9b1c721bb81dec6a45dd96ec0210"}], "stats": {"total": 32, "additions": 31, "deletions": 1}, "files": [{"sha": "0b3031ba1b67ae86a954869397c56024265c34a2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25a2fe8569277ca107479db9fea070b721bed157/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25a2fe8569277ca107479db9fea070b721bed157/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=25a2fe8569277ca107479db9fea070b721bed157", "patch": "@@ -1,3 +1,9 @@\n+2004-12-09  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR tree-opt/18904\n+\t* tree-chrec.c (chrec_convert): Use fold_convert\n+\tinstead of convert.\n+\n 2004-12-09  Matt Rice  <ratmice@yahoo.com>\n \n \tPR preprocessor/18102"}, {"sha": "cc4f1ae43fc28efa4df9401bd0e46c93c8fa703b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25a2fe8569277ca107479db9fea070b721bed157/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25a2fe8569277ca107479db9fea070b721bed157/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=25a2fe8569277ca107479db9fea070b721bed157", "patch": "@@ -1,3 +1,8 @@\n+2004-12-09  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR tree-opt/18904\n+\t* g++.dg/opt/ptrmem5.C: New test.\n+\n 2004-12-09  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* g++.dg/parse/typename5.C: Adjust for new error."}, {"sha": "639ad2831c0af596d0ae5636b6af1b5aef01f5b1", "filename": "gcc/testsuite/g++.dg/opt/ptrmem5.C", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25a2fe8569277ca107479db9fea070b721bed157/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fptrmem5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25a2fe8569277ca107479db9fea070b721bed157/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fptrmem5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fptrmem5.C?ref=25a2fe8569277ca107479db9fea070b721bed157", "patch": "@@ -0,0 +1,19 @@\n+// PR tree-opt/18904\n+// { dg-do compile }\n+// { dg-options \"-O3\" }\n+\n+struct Data;\n+struct Wrapper {\n+  Data* D;\n+};\n+struct Data {\n+  int X;\n+  void init(Wrapper&);\n+};\n+void Data::init( Wrapper &w ) {\n+  int Data::* res  = &Data::X;\n+  w.D = this;\n+  for( int i = 0; i < 4; i++ )\n+    (w.D->*res) = 0;\n+}\n+"}, {"sha": "549604492172b1e5c293d5d24b8bd1713a71d512", "filename": "gcc/tree-chrec.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25a2fe8569277ca107479db9fea070b721bed157/gcc%2Ftree-chrec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25a2fe8569277ca107479db9fea070b721bed157/gcc%2Ftree-chrec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-chrec.c?ref=25a2fe8569277ca107479db9fea070b721bed157", "patch": "@@ -983,7 +983,7 @@ chrec_convert (tree type,\n \n     default:\n       {\n-\ttree res = convert (type, chrec);\n+\ttree res = fold_convert (type, chrec);\n \n \t/* Don't propagate overflows.  */\n \tTREE_OVERFLOW (res) = 0;"}]}