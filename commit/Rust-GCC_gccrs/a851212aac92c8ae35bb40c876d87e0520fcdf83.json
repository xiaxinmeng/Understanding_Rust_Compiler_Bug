{"sha": "a851212aac92c8ae35bb40c876d87e0520fcdf83", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTg1MTIxMmFhYzkyYzhhZTM1YmI0MGM4NzZkODdlMDUyMGZjZGY4Mw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1998-01-19T13:57:04Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1998-01-19T13:57:04Z"}, "message": "Fix build/host/target configure in settting of thread_file.\n\n\t* configure.in (thread_file): Rename uses before main loop to\n\ttarget_thread_file.  Initialize to empty in main loop.  Set thread_file\n\tto target_thread_file after main loop if not set.\n\t* configure: Rebuild.\n\nFrom-SVN: r17423", "tree": {"sha": "54e2642d6e372ec5272bb121d651ef7c0be930b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/54e2642d6e372ec5272bb121d651ef7c0be930b4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a851212aac92c8ae35bb40c876d87e0520fcdf83", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a851212aac92c8ae35bb40c876d87e0520fcdf83", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a851212aac92c8ae35bb40c876d87e0520fcdf83", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a851212aac92c8ae35bb40c876d87e0520fcdf83/comments", "author": null, "committer": null, "parents": [{"sha": "f62aa8f3f11ea1abd38cf2671c76c6fbddaa942f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f62aa8f3f11ea1abd38cf2671c76c6fbddaa942f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f62aa8f3f11ea1abd38cf2671c76c6fbddaa942f"}], "stats": {"total": 37, "additions": 27, "deletions": 10}, "files": [{"sha": "5313c3a9ea33911eef6c0ab5146f8df5e8ca0093", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a851212aac92c8ae35bb40c876d87e0520fcdf83/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a851212aac92c8ae35bb40c876d87e0520fcdf83/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a851212aac92c8ae35bb40c876d87e0520fcdf83", "patch": "@@ -1,5 +1,10 @@\n Mon Jan 19 11:15:38 1998  Jim Wilson  <wilson@cygnus.com>\n \n+\t* configure.in (thread_file): Rename uses before main loop to\n+\ttarget_thread_file.  Initialize to empty in main loop.  Set thread_file\n+\tto target_thread_file after main loop if not set.\n+\t* configure: Rebuild.\n+\n \t* genattrtab.c (find_and_mark_used_attributes): Handle CONST_INT.\n \t(add_values_to_cover): Revert last change (which had no ChangeLog\n \tentry)."}, {"sha": "a34b207ae19885d9553b72fe01dfbb8fa24c9843", "filename": "gcc/configure", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a851212aac92c8ae35bb40c876d87e0520fcdf83/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a851212aac92c8ae35bb40c876d87e0520fcdf83/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=a851212aac92c8ae35bb40c876d87e0520fcdf83", "patch": "@@ -656,15 +656,15 @@ fi\n case x${enable_threads} in\n \tx | xno)\n \t\t# No threads\n-\t\tthread_file='single'\n+\t\ttarget_thread_file='single'\n \t\t;;\n \txyes)\n \t\t# default\n-\t\tthread_file=''\n+\t\ttarget_thread_file=''\n \t\t;;\n \txdecosf1 | xirix | xmach | xos2 | xposix | xpthreads | xsingle | \\\n \txsolaris | xwin32 | xdce)\n-\t\tthread_file=$enable_threads\n+\t\ttarget_thread_file=$enable_threads\n \t\t;;\n \t*)\n \t\techo \"$enable_threads is an unknown thread package\" 1>&2\n@@ -3152,6 +3152,8 @@ for machine in $build $host $target; do\n \t# Set this if the build machine requires executables to have a\n \t# file name suffix.\n \texeext=\n+\t# Set this to control which thread package will be used.\n+\tthread_file=\n \n \t# Set default cpu_type, tm_file and xm_file so it can be updated in\n \t# each machine entry.\n@@ -5709,8 +5711,12 @@ if [ \"$host_xm_file\" != \"$build_xm_file\" ]; then\n \tfi\n fi\n \n-if [ x$thread_file = x ]\n-then thread_file='single'\n+if [ x$thread_file = x ]; then\n+\tif [ x$target_thread_file != x ]; then\n+\t\tthread_file=$target_thread_file\n+\telse\n+\t\tthread_file='single'\n+\tfi\n fi\n \n # Set up the header files."}, {"sha": "360103c4f8a3e9d95c452b4a36cb5a24674b47bf", "filename": "gcc/configure.in", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a851212aac92c8ae35bb40c876d87e0520fcdf83/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a851212aac92c8ae35bb40c876d87e0520fcdf83/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=a851212aac92c8ae35bb40c876d87e0520fcdf83", "patch": "@@ -107,15 +107,15 @@ enable_threads='')\n case x${enable_threads} in\n \tx | xno)\n \t\t# No threads\n-\t\tthread_file='single'\n+\t\ttarget_thread_file='single'\n \t\t;;\n \txyes)\n \t\t# default\n-\t\tthread_file=''\n+\t\ttarget_thread_file=''\n \t\t;;\n \txdecosf1 | xirix | xmach | xos2 | xposix | xpthreads | xsingle | \\\n \txsolaris | xwin32 | xdce)\n-\t\tthread_file=$enable_threads\n+\t\ttarget_thread_file=$enable_threads\n \t\t;;\n \t*)\n \t\techo \"$enable_threads is an unknown thread package\" 1>&2\n@@ -252,6 +252,8 @@ for machine in $build $host $target; do\n \t# Set this if the build machine requires executables to have a\n \t# file name suffix.\n \texeext=\n+\t# Set this to control which thread package will be used.\n+\tthread_file=\n \n \t# Set default cpu_type, tm_file and xm_file so it can be updated in\n \t# each machine entry.\n@@ -2809,8 +2811,12 @@ if [[ \"$host_xm_file\" != \"$build_xm_file\" ]]; then\n \tfi\n fi\n \n-if [[ x$thread_file = x ]]\n-then thread_file='single'\n+if [[ x$thread_file = x ]]; then\n+\tif [[ x$target_thread_file != x ]]; then\n+\t\tthread_file=$target_thread_file\n+\telse\n+\t\tthread_file='single'\n+\tfi\n fi\n \n # Set up the header files."}]}