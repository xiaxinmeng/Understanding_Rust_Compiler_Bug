{"sha": "ce72fe6cf0447b114c9cb60fd9c21bedfaad3fbe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2U3MmZlNmNmMDQ0N2IxMTRjOWNiNjBmZDljMjFiZWRmYWFkM2ZiZQ==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernd.schmidt@analog.com", "date": "2009-04-24T11:05:59Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2009-04-24T11:05:59Z"}, "message": "loop-iv.c (simple_rhs_p): Allow expressions that are function_invariant_p.\n\n\t* loop-iv.c (simple_rhs_p): Allow expressions that are\n\tfunction_invariant_p.\n\nFrom-SVN: r146701", "tree": {"sha": "a4c8b6b2eb7f1563805ebb8e5a2e22ecef78b9a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a4c8b6b2eb7f1563805ebb8e5a2e22ecef78b9a2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce72fe6cf0447b114c9cb60fd9c21bedfaad3fbe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce72fe6cf0447b114c9cb60fd9c21bedfaad3fbe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce72fe6cf0447b114c9cb60fd9c21bedfaad3fbe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce72fe6cf0447b114c9cb60fd9c21bedfaad3fbe/comments", "author": null, "committer": null, "parents": [{"sha": "f63426afd8ce57a1148d5c6cfbe369be2a870e8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f63426afd8ce57a1148d5c6cfbe369be2a870e8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f63426afd8ce57a1148d5c6cfbe369be2a870e8b"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "688783ec60574ee647b86aca932a3c9464d24d67", "filename": "gcc/ChangeLog", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce72fe6cf0447b114c9cb60fd9c21bedfaad3fbe/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce72fe6cf0447b114c9cb60fd9c21bedfaad3fbe/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ce72fe6cf0447b114c9cb60fd9c21bedfaad3fbe", "patch": "@@ -3,6 +3,7 @@\n \t* loop-iv.c (replace_single_def_regs): Look for REG_EQUAL notes;\n \tfollow chains of regs with a single definition, and allow expressions\n \tthat are function_invariant_p.\n+\t(simple_rhs_p): Allow expressions that are function_invariant_p.\n \n 2009-04-24  Paolo Bonzini  <bonzini@gnu.org>\n "}, {"sha": "be7fda81372906fd2265ae05434de79ca6a71d8d", "filename": "gcc/loop-iv.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce72fe6cf0447b114c9cb60fd9c21bedfaad3fbe/gcc%2Floop-iv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce72fe6cf0447b114c9cb60fd9c21bedfaad3fbe/gcc%2Floop-iv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop-iv.c?ref=ce72fe6cf0447b114c9cb60fd9c21bedfaad3fbe", "patch": "@@ -1341,10 +1341,10 @@ simple_rhs_p (rtx rhs)\n       op1 = XEXP (rhs, 1);\n       /* Allow reg OP const and reg OP reg.  */\n       if (!(REG_P (op0) && !HARD_REGISTER_P (op0))\n-\t  && !CONSTANT_P (op0))\n+\t  && !function_invariant_p (op0))\n \treturn false;\n       if (!(REG_P (op1) && !HARD_REGISTER_P (op1))\n-\t  && !CONSTANT_P (op1))\n+\t  && !function_invariant_p (op1))\n \treturn false;\n \n       return true;\n@@ -1358,7 +1358,7 @@ simple_rhs_p (rtx rhs)\n       /* Allow reg OP const.  */\n       if (!(REG_P (op0) && !HARD_REGISTER_P (op0)))\n \treturn false;\n-      if (!CONSTANT_P (op1))\n+      if (!function_invariant_p (op1))\n \treturn false;\n \n       return true;"}]}