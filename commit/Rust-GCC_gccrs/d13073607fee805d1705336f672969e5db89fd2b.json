{"sha": "d13073607fee805d1705336f672969e5db89fd2b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDEzMDczNjA3ZmVlODA1ZDE3MDUzMzZmNjcyOTY5ZTVkYjg5ZmQyYg==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2014-06-24T14:47:42Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2014-06-24T14:47:42Z"}, "message": "re PR c++/33972 (Cannot declare operator() using function typedef)\n\n/cp\n2014-06-24  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/33972\n\t* decl.c (grokdeclarator): Do not early check for operator-function-id\n\tas non-function.\n\n/testsuite\n2014-06-24  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/33972\n\t* g++.dg/other/operator3.C: New.\n\t* g++.dg/template/operator8.C: Adjust.\n\t* g++.dg/template/operator9.C: Likewise.\n\nFrom-SVN: r211944", "tree": {"sha": "913668dae6855994fde225daea3c4447486f98d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/913668dae6855994fde225daea3c4447486f98d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d13073607fee805d1705336f672969e5db89fd2b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d13073607fee805d1705336f672969e5db89fd2b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d13073607fee805d1705336f672969e5db89fd2b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d13073607fee805d1705336f672969e5db89fd2b/comments", "author": null, "committer": null, "parents": [{"sha": "fb112177481effbbf9db80444a1ad6d0dd9f7757", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb112177481effbbf9db80444a1ad6d0dd9f7757", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb112177481effbbf9db80444a1ad6d0dd9f7757"}], "stats": {"total": 26, "additions": 23, "deletions": 3}, "files": [{"sha": "f9f0eabf1d206cde73a74a1fdd0c43d7a839f02a", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d13073607fee805d1705336f672969e5db89fd2b/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d13073607fee805d1705336f672969e5db89fd2b/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=d13073607fee805d1705336f672969e5db89fd2b", "patch": "@@ -1,3 +1,9 @@\n+2014-06-24  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/33972\n+\t* decl.c (grokdeclarator): Do not early check for operator-function-id\n+\tas non-function.\n+\n 2014-06-24  Trevor Saunders  <tsaunders@mozilla.com>\n \n \t* class.c, semantics.c, tree.c, vtable-class-hierarchy.c:"}, {"sha": "d548f61fa51879008664ad22070f9da50bfa72b6", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d13073607fee805d1705336f672969e5db89fd2b/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d13073607fee805d1705336f672969e5db89fd2b/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=d13073607fee805d1705336f672969e5db89fd2b", "patch": "@@ -9007,7 +9007,7 @@ grokdeclarator (const cp_declarator *declarator,\n       return error_mark_node;\n     }\n \n-  if (((dname && IDENTIFIER_OPNAME_P (dname)) || flags == TYPENAME_FLAG)\n+  if (flags == TYPENAME_FLAG\n       && innermost_code != cdk_function\n       && ! (ctype && !declspecs->any_specifiers_p))\n     {"}, {"sha": "d42af0ffaa7466dd149a2ca40d43807eaf6f9e98", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d13073607fee805d1705336f672969e5db89fd2b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d13073607fee805d1705336f672969e5db89fd2b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d13073607fee805d1705336f672969e5db89fd2b", "patch": "@@ -1,3 +1,10 @@\n+2014-06-24  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/33972\n+\t* g++.dg/other/operator3.C: New.\n+\t* g++.dg/template/operator8.C: Adjust.\n+\t* g++.dg/template/operator9.C: Likewise.\n+\n 2014-06-24  Alan Lawrence  <alan.lawrence@arm.com>\n \n \t* gcc.target/aarch64/singleton_intrinsics_1.c: Save temps and cleanup."}, {"sha": "5c0968d8129be4660f202dd4a14283faf079e54a", "filename": "gcc/testsuite/g++.dg/other/operator3.C", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d13073607fee805d1705336f672969e5db89fd2b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Foperator3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d13073607fee805d1705336f672969e5db89fd2b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Foperator3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Foperator3.C?ref=d13073607fee805d1705336f672969e5db89fd2b", "patch": "@@ -0,0 +1,7 @@\n+// PR c++/33972\n+\n+struct s\n+{\n+  typedef void f(void);\n+  f operator();\n+};"}, {"sha": "52f22188ddbcbc01dd4aeac0ad41c35d7faaeaaf", "filename": "gcc/testsuite/g++.dg/template/operator8.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d13073607fee805d1705336f672969e5db89fd2b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Foperator8.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d13073607fee805d1705336f672969e5db89fd2b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Foperator8.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Foperator8.C?ref=d13073607fee805d1705336f672969e5db89fd2b", "patch": "@@ -2,5 +2,5 @@\n \n struct A\n {\n-    template<operator+> void foo() {}   // { dg-error \"identifier|non-function|template arguments\" }\n+    template<operator+> void foo() {}   // { dg-error \"identifier|parameter|template arguments\" }\n };"}, {"sha": "d4ebad3aa13256f7500292e7704ab3047cd64cd3", "filename": "gcc/testsuite/g++.dg/template/operator9.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d13073607fee805d1705336f672969e5db89fd2b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Foperator9.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d13073607fee805d1705336f672969e5db89fd2b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Foperator9.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Foperator9.C?ref=d13073607fee805d1705336f672969e5db89fd2b", "patch": "@@ -1,6 +1,6 @@\n //PR c++/27670\n \n-template<operator+> void foo(); // { dg-error \"before|non-function|template\" }\n+template<operator+> void foo(); // { dg-error \"before|parameter|template\" }\n \n void bar()\n {"}]}