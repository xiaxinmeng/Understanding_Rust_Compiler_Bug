{"sha": "ec4224ace54a5be0094fca263fe138f0ec77a61c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWM0MjI0YWNlNTRhNWJlMDA5NGZjYTI2M2ZlMTM4ZjBlYzc3YTYxYw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2013-02-05T09:13:48Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2013-02-05T09:13:48Z"}, "message": "re PR middle-end/55797 (ICE: verify_cgraph_node failed: edge has no corresponding call_stmt)\n\n\tPR tree-optimization/55789\n\t* g++.dg/tree-ssa/inline-1.C: Update max-inliner-iterations.\n\t* g++.dg/tree-ssa/inline-2.C: Update max-inliner-iterations.\n\t* g++.dg/tree-ssa/inline-3.C: Update max-inliner-iterations.\n\t* g++.dg/ipa/inline-1.C: New testcase.\n\t* g++.dg/ipa/inline-2.C: New testcase.\n\t* g++.dg/ipa/inline-3.C: New testcase.\n\t* params.def (PARAM_EARLY_INLINER_MAX_ITERATIONS): Drop to 1.\n\nFrom-SVN: r195751", "tree": {"sha": "c87abbd341862d805e335733b87d3d48afed3a67", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c87abbd341862d805e335733b87d3d48afed3a67"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec4224ace54a5be0094fca263fe138f0ec77a61c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec4224ace54a5be0094fca263fe138f0ec77a61c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec4224ace54a5be0094fca263fe138f0ec77a61c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec4224ace54a5be0094fca263fe138f0ec77a61c/comments", "author": null, "committer": null, "parents": [{"sha": "39f9719e9a6a8f061c8654f4e54d804f61a6f982", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39f9719e9a6a8f061c8654f4e54d804f61a6f982", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39f9719e9a6a8f061c8654f4e54d804f61a6f982"}], "stats": {"total": 116, "additions": 111, "deletions": 5}, "files": [{"sha": "8c480bb0e9fb6fea16ca69c38951d17c7ab257ae", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ec4224ace54a5be0094fca263fe138f0ec77a61c", "patch": "@@ -1,6 +1,11 @@\n 2013-02-05  Jan Hubicka  <jh@suse.cz>\n \n-\tPR tree-optimization/r55789\n+\tPR tree-optimization/55789\n+\t* params.def (PARAM_EARLY_INLINER_MAX_ITERATIONS): Drop to 1.\n+\n+2013-02-05  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR tree-optimization/55789\n \t* cgraphclones.c (cgraph_remove_node_and_inline_clones): Remove\n \tthe dead call anyway.\n "}, {"sha": "97d485745874f80977151bfe824cb6bc93ca3ed6", "filename": "gcc/params.def", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2Fparams.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2Fparams.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fparams.def?ref=ec4224ace54a5be0094fca263fe138f0ec77a61c", "patch": "@@ -109,7 +109,7 @@ DEFPARAM (PARAM_MIN_INLINE_RECURSIVE_PROBABILITY,\n DEFPARAM (PARAM_EARLY_INLINER_MAX_ITERATIONS,\n \t  \"max-early-inliner-iterations\",\n \t  \"The maximum number of nested indirect inlining performed by early inliner\",\n-\t  10, 0, 0)\n+\t  1, 0, 0)\n \n /* Limit on probability of entry BB.  */\n DEFPARAM (PARAM_COMDAT_SHARING_PROBABILITY,"}, {"sha": "b3dee080be29fb88f91e4249ec855e0c3189db3e", "filename": "gcc/testsuite/g++.dg/ipa/inline-1.C", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-1.C?ref=ec4224ace54a5be0094fca263fe138f0ec77a61c", "patch": "@@ -0,0 +1,36 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fdump-ipa-inline --param max-early-inliner-iterations=1\" } */\n+/* { dg-add-options bind_pic_locally } */\n+\n+namespace std {\n+  extern \"C\" void puts(const char *s);\n+}\n+\n+template <class T, class E> void\n+foreach (T b, T e, void (*ptr)(E))\n+{\n+  for (; b != e; b++)\n+    ptr(*b);\n+}\n+\n+void\n+inline_me (char *x)\n+{\n+  std::puts(x);\n+}\n+\n+static void\n+inline_me_too (char *x)\n+{\n+  std::puts(x);\n+}\n+\n+int main(int argc, char **argv)\n+{\n+  foreach (argv, argv + argc, inline_me);\n+  foreach (argv, argv + argc, inline_me_too);\n+}\n+\n+/* { dg-final { scan-tree-dump-times \"Considering void inline_me\\\\(\" 1 \"inline\"} } */\n+/* { dg-final { scan-tree-dump-times \"Considering void inline_me_too\\\\(\" 1 \"inline\"} } */\n+/* { dg-final { cleanup-tree-dump \"einline\" } } */"}, {"sha": "fd284a1e23dc04bbfd38f9ee42edb0518c47e1d6", "filename": "gcc/testsuite/g++.dg/ipa/inline-2.C", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-2.C?ref=ec4224ace54a5be0094fca263fe138f0ec77a61c", "patch": "@@ -0,0 +1,36 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fdump-ipa-inline --param max-early-inliner-iterations=1\" } */\n+/* { dg-add-options bind_pic_locally } */\n+\n+namespace std {\n+  extern \"C\" void puts(const char *s);\n+}\n+\n+template <class T, class E> void\n+foreach (T b, T e, E ptr)\n+{\n+  for (; b != e; b++)\n+    ptr(*b);\n+}\n+\n+void\n+inline_me (char *x)\n+{\n+  std::puts(x);\n+}\n+\n+static void\n+inline_me_too (char *x)\n+{\n+  std::puts(x);\n+}\n+\n+int main(int argc, char **argv)\n+{\n+  foreach (argv, argv + argc, inline_me);\n+  foreach (argv, argv + argc, inline_me_too);\n+}\n+\n+/* { dg-final { scan-ipa-dump-times \"Considering void inline_me\\\\(\" 1 \"inline\"} } */\n+/* { dg-final { scan-ipa-dump-times \"Considering void inline_me_too\\\\(\" 1 \"inline\"} } */\n+/* { dg-final { cleanup-ipa-dump \"inline\" } } */"}, {"sha": "602b140971b4436cfb004fccfd6661b5ffd7e2b4", "filename": "gcc/testsuite/g++.dg/ipa/inline-3.C", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Finline-3.C?ref=ec4224ace54a5be0094fca263fe138f0ec77a61c", "patch": "@@ -0,0 +1,29 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fdump-ipa-inline --param max-early-inliner-iterations=1\" } */\n+/* { dg-add-options bind_pic_locally } */\n+\n+#include <algorithm>\n+\n+void foo(const char *s);\n+\n+void\n+inline_me (char *x)\n+{\n+  foo(x);\n+}\n+\n+static void\n+inline_me_too (char *x)\n+{\n+  foo(x);\n+}\n+\n+int main(int argc, char **argv)\n+{\n+  std::for_each (argv, argv + argc, inline_me);\n+  std::for_each (argv, argv + argc, inline_me_too);\n+}\n+\n+/* { dg-final { scan-ipa-dump-times \"Considering void inline_me\\\\(\" 1 \"inline\"} } */\n+/* { dg-final { scan-ipa-dump-times \"Considering void inline_me_too\\\\(\" 1 \"inline\"} } */\n+/* { dg-final { cleanup-tree-dump \"inline\" } } */"}, {"sha": "d8682bec117143c495f48806232291b8990c8a1b", "filename": "gcc/testsuite/g++.dg/tree-ssa/inline-1.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-1.C?ref=ec4224ace54a5be0094fca263fe138f0ec77a61c", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-tree-einline\" } */\n+/* { dg-options \"-O2 -fdump-tree-einline --param max-early-inliner-iterations=3\" } */\n /* { dg-add-options bind_pic_locally } */\n \n namespace std {"}, {"sha": "4c8a6265d6faef67e164fece76ed348785eeb805", "filename": "gcc/testsuite/g++.dg/tree-ssa/inline-2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-2.C?ref=ec4224ace54a5be0094fca263fe138f0ec77a61c", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-tree-einline\" } */\n+/* { dg-options \"-O2 -fdump-tree-einline --param max-early-inliner-iterations=3\" } */\n /* { dg-add-options bind_pic_locally } */\n \n namespace std {"}, {"sha": "512f83dd07e7ba293701249ca7a3d6cb0d999481", "filename": "gcc/testsuite/g++.dg/tree-ssa/inline-3.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec4224ace54a5be0094fca263fe138f0ec77a61c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftree-ssa%2Finline-3.C?ref=ec4224ace54a5be0094fca263fe138f0ec77a61c", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-tree-einline\" } */\n+/* { dg-options \"-O2 -fdump-tree-einline --param max-early-inliner-iterations=3\" } */\n /* { dg-add-options bind_pic_locally } */\n \n #include <algorithm>"}]}