{"sha": "0cca1c22b0de3dbdd7b4fc9a314d8dcf906c07f1", "node_id": "C_kwDOANBUbNoAKDBjY2ExYzIyYjBkZTNkYmRkN2I0ZmM5YTMxNGQ4ZGNmOTA2YzA3ZjE", "commit": {"author": {"name": "Frederik Harwath", "email": "frederik@codesourcery.com", "date": "2022-05-17T14:00:57Z"}, "committer": {"name": "Tobias Burnus", "email": "tobias@codesourcery.com", "date": "2022-05-17T14:00:57Z"}, "message": "graphite: Rename isl_id_for_ssa_name\n\nThe SSA names for which this function gets used are always SCoP\nparameters and hence \"isl_id_for_parameter\" is a better name.  It also\nexplains the prefix \"P_\" for those names in the ISL representation.\n\ngcc/ChangeLog:\n\n\t* graphite-sese-to-poly.cc (isl_id_for_ssa_name): Rename to ...\n\t(isl_id_for_parameter): ... this new function name.\n\t(build_scop_context): Adjust function use.", "tree": {"sha": "17348c20471769156e3f7aa56526dbf3a8bab17f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/17348c20471769156e3f7aa56526dbf3a8bab17f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0cca1c22b0de3dbdd7b4fc9a314d8dcf906c07f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0cca1c22b0de3dbdd7b4fc9a314d8dcf906c07f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0cca1c22b0de3dbdd7b4fc9a314d8dcf906c07f1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0cca1c22b0de3dbdd7b4fc9a314d8dcf906c07f1/comments", "author": {"login": "frederik-h", "id": 22046314, "node_id": "MDQ6VXNlcjIyMDQ2MzE0", "avatar_url": "https://avatars.githubusercontent.com/u/22046314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frederik-h", "html_url": "https://github.com/frederik-h", "followers_url": "https://api.github.com/users/frederik-h/followers", "following_url": "https://api.github.com/users/frederik-h/following{/other_user}", "gists_url": "https://api.github.com/users/frederik-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/frederik-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frederik-h/subscriptions", "organizations_url": "https://api.github.com/users/frederik-h/orgs", "repos_url": "https://api.github.com/users/frederik-h/repos", "events_url": "https://api.github.com/users/frederik-h/events{/privacy}", "received_events_url": "https://api.github.com/users/frederik-h/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "61fe7b7d463f2f6bbeb175c345a68b844b396d56", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61fe7b7d463f2f6bbeb175c345a68b844b396d56", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61fe7b7d463f2f6bbeb175c345a68b844b396d56"}], "stats": {"total": 21, "additions": 11, "deletions": 10}, "files": [{"sha": "ea67b267e1c63df4a1758718b078a7130536c9c2", "filename": "gcc/graphite-sese-to-poly.cc", "status": "modified", "additions": 11, "deletions": 10, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0cca1c22b0de3dbdd7b4fc9a314d8dcf906c07f1/gcc%2Fgraphite-sese-to-poly.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0cca1c22b0de3dbdd7b4fc9a314d8dcf906c07f1/gcc%2Fgraphite-sese-to-poly.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-sese-to-poly.cc?ref=0cca1c22b0de3dbdd7b4fc9a314d8dcf906c07f1", "patch": "@@ -100,14 +100,15 @@ extract_affine_mul (scop_p s, tree e, __isl_take isl_space *space)\n   return isl_pw_aff_mul (lhs, rhs);\n }\n \n-/* Return an isl identifier from the name of the ssa_name E.  */\n+/* Return an isl identifier for the parameter P.  */\n \n static isl_id *\n-isl_id_for_ssa_name (scop_p s, tree e)\n+isl_id_for_parameter (scop_p s, tree p)\n {\n-  char name1[14];\n-  snprintf (name1, sizeof (name1), \"P_%d\", SSA_NAME_VERSION (e));\n-  return isl_id_alloc (s->isl_context, name1, e);\n+  gcc_checking_assert (TREE_CODE (p) == SSA_NAME);\n+  char name[14];\n+  snprintf (name, sizeof (name), \"P_%d\", SSA_NAME_VERSION (p));\n+  return isl_id_alloc (s->isl_context, name, p);\n }\n \n /* Return an isl identifier for the data reference DR.  Data references and\n@@ -898,15 +899,15 @@ build_scop_context (scop_p scop)\n   isl_space *space = isl_space_set_alloc (scop->isl_context, nbp, 0);\n \n   unsigned i;\n-  tree e;\n-  FOR_EACH_VEC_ELT (region->params, i, e)\n+  tree p;\n+  FOR_EACH_VEC_ELT (region->params, i, p)\n     space = isl_space_set_dim_id (space, isl_dim_param, i,\n-                                  isl_id_for_ssa_name (scop, e));\n+\t\t\t\t  isl_id_for_parameter (scop, p));\n \n   scop->param_context = isl_set_universe (space);\n \n-  FOR_EACH_VEC_ELT (region->params, i, e)\n-    add_param_constraints (scop, i, e);\n+  FOR_EACH_VEC_ELT (region->params, i, p)\n+    add_param_constraints (scop, i, p);\n }\n \n /* Return true when loop A is nested in loop B.  */"}]}