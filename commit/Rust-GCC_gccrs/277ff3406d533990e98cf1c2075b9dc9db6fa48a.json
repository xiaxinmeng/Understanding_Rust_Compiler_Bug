{"sha": "277ff3406d533990e98cf1c2075b9dc9db6fa48a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjc3ZmYzNDA2ZDUzMzk5MGU5OGNmMWMyMDc1YjlkYzlkYjZmYTQ4YQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2020-12-03T14:54:14Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2020-12-03T14:56:34Z"}, "message": "Fix PR middle-end/98099\n\nthis replaces the ICE by a sorry message for the use of reverse scalar\nstorage order with 128-bit decimal floating-point type on 32-bit targets.\n\ngcc/ChangeLog:\n\tPR middle-end/98099\n\t* expmed.c (flip_storage_order): In the case of a non-integer mode,\n\tsorry out if the integer mode to be used instead is not supported.\n\ngcc/testsuite/ChangeLog:\n\t* gcc.dg/pr98099.c: New test.", "tree": {"sha": "229f7a096f2dd52560f46bffe6849a5fba6d7676", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/229f7a096f2dd52560f46bffe6849a5fba6d7676"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/277ff3406d533990e98cf1c2075b9dc9db6fa48a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/277ff3406d533990e98cf1c2075b9dc9db6fa48a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/277ff3406d533990e98cf1c2075b9dc9db6fa48a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/277ff3406d533990e98cf1c2075b9dc9db6fa48a/comments", "author": null, "committer": null, "parents": [{"sha": "5d103763b9bc6a998dd4a453861663b229d7a24a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d103763b9bc6a998dd4a453861663b229d7a24a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d103763b9bc6a998dd4a453861663b229d7a24a"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "0d600bd7b54c65603e2e9a129c0fd9a0879957c3", "filename": "gcc/expmed.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/277ff3406d533990e98cf1c2075b9dc9db6fa48a/gcc%2Fexpmed.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/277ff3406d533990e98cf1c2075b9dc9db6fa48a/gcc%2Fexpmed.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpmed.c?ref=277ff3406d533990e98cf1c2075b9dc9db6fa48a", "patch": "@@ -412,7 +412,8 @@ flip_storage_order (machine_mode mode, rtx x)\n \t  && __builtin_expect (reverse_float_storage_order_supported < 0, 0))\n \tcheck_reverse_float_storage_order_support ();\n \n-      if (!int_mode_for_size (GET_MODE_PRECISION (mode), 0).exists (&int_mode))\n+      if (!int_mode_for_size (GET_MODE_PRECISION (mode), 0).exists (&int_mode)\n+\t  || !targetm.scalar_mode_supported_p (int_mode))\n \t{\n \t  sorry (\"reverse storage order for %smode\", GET_MODE_NAME (mode));\n \t  return x;"}, {"sha": "34909f225ff27781ef9c9c07c896604a7fb04510", "filename": "gcc/testsuite/gcc.dg/pr98099.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/277ff3406d533990e98cf1c2075b9dc9db6fa48a/gcc%2Ftestsuite%2Fgcc.dg%2Fpr98099.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/277ff3406d533990e98cf1c2075b9dc9db6fa48a/gcc%2Ftestsuite%2Fgcc.dg%2Fpr98099.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr98099.c?ref=277ff3406d533990e98cf1c2075b9dc9db6fa48a", "patch": "@@ -0,0 +1,12 @@\n+/* PR middle-end/98099 */\n+/* Reported by G. Steinmetz <gscfq@t-online.de> */\n+\n+/* { dg-do compile } */\n+/* { dg-options \"-fsso-struct=big-endian\" } */\n+\n+struct S { _Decimal128 a; };\n+\n+_Decimal128 f (struct S x)\n+{\n+  return x.a; /* { dg-message \"sorry, unimplemented: reverse storage order\" \"\" { target { ! int128 } } } */\n+}"}]}