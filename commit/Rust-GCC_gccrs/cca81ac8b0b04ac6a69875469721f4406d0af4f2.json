{"sha": "cca81ac8b0b04ac6a69875469721f4406d0af4f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2NhODFhYzhiMGIwNGFjNmE2OTg3NTQ2OTcyMWY0NDA2ZDBhZjRmMg==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2014-12-03T13:16:25Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2014-12-03T13:16:25Z"}, "message": "Revert r218266\n\ngcc/\n\n\tPR rtl-optimization/64151\n\tPR rtl-optimization/64156\n\t* ira-costs.c (scan_one_insn): Revert r218266.\n\ngcc/testsuite/\n\n\tPR rtl-optimization/64151\n\tPR rtl-optimization/64156\n\t* gcc.target/aarch64/remat1.c: Removed.  Revert r218267.\n\nFrom-SVN: r218312", "tree": {"sha": "088498f1a4c071110d59c0036a46b309301a8be7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/088498f1a4c071110d59c0036a46b309301a8be7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cca81ac8b0b04ac6a69875469721f4406d0af4f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cca81ac8b0b04ac6a69875469721f4406d0af4f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cca81ac8b0b04ac6a69875469721f4406d0af4f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cca81ac8b0b04ac6a69875469721f4406d0af4f2/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a6a0570f151b9a4fd42dec96182439e53c19241a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6a0570f151b9a4fd42dec96182439e53c19241a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6a0570f151b9a4fd42dec96182439e53c19241a"}], "stats": {"total": 37, "additions": 15, "deletions": 22}, "files": [{"sha": "2e9d9c6c99a1403f6b6eea9a06827dc7e09d4258", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cca81ac8b0b04ac6a69875469721f4406d0af4f2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cca81ac8b0b04ac6a69875469721f4406d0af4f2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cca81ac8b0b04ac6a69875469721f4406d0af4f2", "patch": "@@ -1,3 +1,9 @@\n+2014-12-03  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR rtl-optimization/64151\n+\tPR rtl-optimization/64156\n+\t* ira-costs.c (scan_one_insn): Revert r218266.\n+\n 2014-12-03  Richard Biener  <rguenther@suse.de>\n \n \t* builtins.c (fold_builtin_fpclassify): Change to take"}, {"sha": "2dabead6269c2821c2b4fdcb93a4b26e9f64be93", "filename": "gcc/ira-costs.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cca81ac8b0b04ac6a69875469721f4406d0af4f2/gcc%2Fira-costs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cca81ac8b0b04ac6a69875469721f4406d0af4f2/gcc%2Fira-costs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fira-costs.c?ref=cca81ac8b0b04ac6a69875469721f4406d0af4f2", "patch": "@@ -1462,11 +1462,12 @@ scan_one_insn (rtx_insn *insn)\n       && ((MEM_P (XEXP (note, 0))\n \t   && !side_effects_p (SET_SRC (set)))\n \t  || (CONSTANT_P (XEXP (note, 0))\n-\t      && (! flag_pic || LEGITIMATE_PIC_OPERAND_P (XEXP (note, 0)))\n+\t      && targetm.legitimate_constant_p (GET_MODE (SET_DEST (set)),\n+\t\t\t\t\t\tXEXP (note, 0))\n \t      && REG_N_SETS (REGNO (SET_DEST (set))) == 1))\n       && general_operand (SET_SRC (set), GET_MODE (SET_SRC (set))))\n     {\n-      enum reg_class cl = ALL_REGS;\n+      enum reg_class cl = GENERAL_REGS;\n       rtx reg = SET_DEST (set);\n       int num = COST_INDEX (REGNO (reg));\n "}, {"sha": "a4ec974c26a757dc19fbe83cd2f2ef34df36dd8b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cca81ac8b0b04ac6a69875469721f4406d0af4f2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cca81ac8b0b04ac6a69875469721f4406d0af4f2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=cca81ac8b0b04ac6a69875469721f4406d0af4f2", "patch": "@@ -1,3 +1,9 @@\n+2014-12-03  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR rtl-optimization/64151\n+\tPR rtl-optimization/64156\n+\t* gcc.target/aarch64/remat1.c: Removed.  Revert r218267.\n+\n 2014-12-03  Tom de Vries  <tom@codesourcery.com>\n \n \tPR rtl-optimization/63957"}, {"sha": "999577e48be41572eff27d28b961b7dbbdb576d8", "filename": "gcc/testsuite/gcc.target/aarch64/remat1.c", "status": "removed", "additions": 0, "deletions": 20, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6a0570f151b9a4fd42dec96182439e53c19241a/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fremat1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6a0570f151b9a4fd42dec96182439e53c19241a/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fremat1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fremat1.c?ref=a6a0570f151b9a4fd42dec96182439e53c19241a", "patch": "@@ -1,20 +0,0 @@\n-/* { dg-do compile } */\n-/* { dg-options \"-O2 -fomit-frame-pointer -fcaller-saves -ffixed-d8 -ffixed-d9 -ffixed-d10 -ffixed-d11 -ffixed-d12 -ffixed-d13 -ffixed-d14 -ffixed-d15\" } */\n-\n-/* Under high register pressure FP immediates should be rematerialized\n-   as literal loads rather than being caller-saved to the stack.  */\n-\n-void\n-g (void);\n-\n-float\n-f (float x)\n-{\n-  x += 3.1f;\n-  g ();\n-  x *= 3.1f;\n-  return x;\n-}\n-\n-/* { dg-final { scan-assembler-times \"ldr\\ts\\[0-9]+, .LC0\" 2 } } */\n-"}]}