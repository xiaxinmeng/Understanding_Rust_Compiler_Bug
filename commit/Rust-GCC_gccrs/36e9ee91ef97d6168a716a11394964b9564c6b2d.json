{"sha": "36e9ee91ef97d6168a716a11394964b9564c6b2d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzZlOWVlOTFlZjk3ZDYxNjhhNzE2YTExMzk0OTY0Yjk1NjRjNmIyZA==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1999-05-05T15:47:48Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1999-05-05T15:47:48Z"}, "message": "* unroll.c (copy_loop_body): Don't copy VTOP notes from copy_notes_from.\n\nFrom-SVN: r26786", "tree": {"sha": "315ec9cbec1a9a0e83753a33232b1d7e14b8f756", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/315ec9cbec1a9a0e83753a33232b1d7e14b8f756"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/36e9ee91ef97d6168a716a11394964b9564c6b2d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36e9ee91ef97d6168a716a11394964b9564c6b2d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36e9ee91ef97d6168a716a11394964b9564c6b2d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36e9ee91ef97d6168a716a11394964b9564c6b2d/comments", "author": null, "committer": null, "parents": [{"sha": "9096b279c220a45ee1a369a46661b366db767502", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9096b279c220a45ee1a369a46661b366db767502", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9096b279c220a45ee1a369a46661b366db767502"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "e61f1541b66724d15874dfffca93765b88f9cbed", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36e9ee91ef97d6168a716a11394964b9564c6b2d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36e9ee91ef97d6168a716a11394964b9564c6b2d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=36e9ee91ef97d6168a716a11394964b9564c6b2d", "patch": "@@ -1,3 +1,7 @@\n+Wed May  5 23:44:15 1999  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* unroll.c (copy_loop_body): Don't copy VTOP notes from copy_notes_from.\n+\n Wed May  5 16:26:13 1999  Vladimir Makarov  <vmakarov@tofu.to.cygnus.com>\n \n \t* function.c (purge_addressof_replacements): Rename into"}, {"sha": "7e584c961d065cee468532513d7bd1f2e0056848", "filename": "gcc/unroll.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36e9ee91ef97d6168a716a11394964b9564c6b2d/gcc%2Funroll.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36e9ee91ef97d6168a716a11394964b9564c6b2d/gcc%2Funroll.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funroll.c?ref=36e9ee91ef97d6168a716a11394964b9564c6b2d", "patch": "@@ -2193,9 +2193,17 @@ copy_loop_body (copy_start, copy_end, map, exit_label, last_iteration,\n     {\n       for (insn = copy_notes_from; insn != loop_end; insn = NEXT_INSN (insn))\n \t{\n+\t  /* VTOP notes are valid only before the loop exit test.\n+\t     If placed anywhere else, loop may generate bad code.\n+\t     There is no need to test for NOTE_INSN_LOOP_CONT notes\n+\t     here, since COPY_NOTES_FROM will be at most one or two (for cc0)\n+\t     instructions before the last insn in the loop, and if the\n+\t     end test is that short, there will be a VTOP note between\n+\t     the CONT note and the test.  */\n \t  if (GET_CODE (insn) == NOTE\n \t      && NOTE_LINE_NUMBER (insn) != NOTE_INSN_DELETED\n-\t      && NOTE_LINE_NUMBER (insn) != NOTE_INSN_BASIC_BLOCK)\n+\t      && NOTE_LINE_NUMBER (insn) != NOTE_INSN_BASIC_BLOCK\n+\t      && NOTE_LINE_NUMBER (insn) != NOTE_INSN_LOOP_VTOP)\n \t    emit_note (NOTE_SOURCE_FILE (insn), NOTE_LINE_NUMBER (insn));\n \t}\n     }"}]}