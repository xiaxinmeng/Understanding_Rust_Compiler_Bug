{"sha": "607f74e9c66c810fc39b3aad9e48a22de782f643", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjA3Zjc0ZTljNjZjODEwZmMzOWIzYWFkOWU0OGEyMmRlNzgyZjY0Mw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2007-11-30T18:24:01Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2007-11-30T18:24:01Z"}, "message": "re PR preprocessor/32868 (Don't warn about redefinitions of __STDC_FORMAT_MACROS)\n\nlibcpp\n\tPR preprocessor/32868:\n\t* macro.c (_cpp_create_definition): Special case\n\t__STDC_FORMAT_MACROS.\ngcc/testsuite\n\tPR preprocessor/32868:\n\t* gcc.dg/cpp/pr32868.c: New file.\n\nFrom-SVN: r130544", "tree": {"sha": "0b3662f6b39215ebc614d9eec49ad890435d7c5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0b3662f6b39215ebc614d9eec49ad890435d7c5a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/607f74e9c66c810fc39b3aad9e48a22de782f643", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/607f74e9c66c810fc39b3aad9e48a22de782f643", "html_url": "https://github.com/Rust-GCC/gccrs/commit/607f74e9c66c810fc39b3aad9e48a22de782f643", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/607f74e9c66c810fc39b3aad9e48a22de782f643/comments", "author": null, "committer": null, "parents": [{"sha": "28d67019f946f87bb7373ef006caca01afe014c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28d67019f946f87bb7373ef006caca01afe014c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28d67019f946f87bb7373ef006caca01afe014c7"}], "stats": {"total": 20, "additions": 19, "deletions": 1}, "files": [{"sha": "1751a3d66385133384badede5693ff26e7311bb8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/607f74e9c66c810fc39b3aad9e48a22de782f643/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/607f74e9c66c810fc39b3aad9e48a22de782f643/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=607f74e9c66c810fc39b3aad9e48a22de782f643", "patch": "@@ -1,3 +1,8 @@\n+2007-11-30  Tom Tromey  <tromey@redhat.com>\n+\n+\tPR preprocessor/32868:\n+\t* gcc.dg/cpp/pr32868.c: New file.\n+\n 2007-11-30  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR fortran/34248"}, {"sha": "ea896214c30572406c8fd601becee589e09c0df0", "filename": "gcc/testsuite/gcc.dg/cpp/pr32868.c", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/607f74e9c66c810fc39b3aad9e48a22de782f643/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fpr32868.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/607f74e9c66c810fc39b3aad9e48a22de782f643/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fpr32868.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fpr32868.c?ref=607f74e9c66c810fc39b3aad9e48a22de782f643", "patch": "@@ -0,0 +1,6 @@\n+/* PR preprocessor/32868.  It is ok to redefine __STDC_FORMAT_MACROS.  */\n+\n+/* { dg-do preprocess } */\n+\n+#define __STDC_FORMAT_MACROS 1\n+#define __STDC_FORMAT_MACROS 1"}, {"sha": "3701c8000a6d91273210b8935944901c0f87ff26", "filename": "libcpp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/607f74e9c66c810fc39b3aad9e48a22de782f643/libcpp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/607f74e9c66c810fc39b3aad9e48a22de782f643/libcpp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2FChangeLog?ref=607f74e9c66c810fc39b3aad9e48a22de782f643", "patch": "@@ -1,3 +1,9 @@\n+2007-11-30  Tom Tromey  <tromey@redhat.com>\n+\n+\tPR preprocessor/32868:\n+\t* macro.c (_cpp_create_definition): Special case\n+\t__STDC_FORMAT_MACROS.\n+\n 2007-11-16  Michael Matz  <matz@suse.de>\n \n \t* files.c (search_path_head): Fix check for absolute paths."}, {"sha": "754e2f77b90d2a50d5038f6f405f87d148b1a359", "filename": "libcpp/macro.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/607f74e9c66c810fc39b3aad9e48a22de782f643/libcpp%2Fmacro.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/607f74e9c66c810fc39b3aad9e48a22de782f643/libcpp%2Fmacro.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2Fmacro.c?ref=607f74e9c66c810fc39b3aad9e48a22de782f643", "patch": "@@ -1695,7 +1695,8 @@ _cpp_create_definition (cpp_reader *pfile, cpp_hashnode *node)\n   /* Enter definition in hash table.  */\n   node->type = NT_MACRO;\n   node->value.macro = macro;\n-  if (! ustrncmp (NODE_NAME (node), DSC (\"__STDC_\")))\n+  if (! ustrncmp (NODE_NAME (node), DSC (\"__STDC_\"))\n+      && ustrcmp (NODE_NAME (node), (const uchar *) \"__STDC_FORMAT_MACROS\"))\n     node->flags |= NODE_WARN;\n \n   return ok;"}]}