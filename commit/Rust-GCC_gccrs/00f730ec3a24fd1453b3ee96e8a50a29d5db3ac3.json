{"sha": "00f730ec3a24fd1453b3ee96e8a50a29d5db3ac3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDBmNzMwZWMzYTI0ZmQxNDUzYjNlZTk2ZThhNTBhMjlkNWRiM2FjMw==", "commit": {"author": {"name": "Aaron Sawdey", "email": "acsawdey@linux.ibm.com", "date": "2021-06-16T15:58:08Z"}, "committer": {"name": "Aaron Sawdey", "email": "acsawdey@linux.ibm.com", "date": "2021-06-17T15:48:17Z"}, "message": "Add needed earlyclobber to fusion patterns\n\nThe add-logical and add-add fusion patterns all have constraint\nalternatives \"=0,1,&r,r\" for the output (3). The inputs 0 and 1\nare used in the first fusion instruction and then either may be\nreused as a temp for the output of the first insn which is\ninput to the second. However, if input 2 is the same as 0 or 1,\nit gets clobbered unexpectedly. So the first 2 alts need to be\n\"=&0,&1,&r,r\" instead to indicate that in alts 0 and 1, the\nregister used for 3 is earlyclobber, hence can't be the same as\ninput 2.\n\nThis was actually encountered in the backport of the add-logical\nfusion patch to gcc-11. Some code in go hit this case:\n\n   <runtime.fillAligned+520>:        andc r30,r30,r9\nr30 now (~(x|((x&c)+c)))&(~c) --> this is new x\n   <runtime.fillAligned+524>:        b <runtime.fillAligned+288>\n   <runtime.fillAligned+288>:        addi r31,r31,-1\nr31 now m-1\n   <runtime.fillAligned+292>:        srd r31,r30,r31\nr31 now x>>(m-1)\n   <runtime.fillAligned+296>:        subf r30,r31,r30\nr30 now x-(x>>(m-1))\n   <runtime.fillAligned+300>:        or r30,r30,r30   # mdoom\nnop\n   <runtime.fillAligned+304>:        not     r3,r30\nr3 now ~(x-(x>>(m-1))) -- WHOOPS\n\nThe or r30,r30,r30 was meant to be or-ing in the earlier value\nof r30 which was overwritten by the output of the subf.\n\ngcc/ChangeLog\n\n\t* config/rs6000/genfusion.pl (gen_logical_addsubf): Add\n\tearlyclobber to alts 0/1.\n\t(gen_addadd): Add earlyclobber to alts 0/1.\n\t* config/rs6000/fusion.md: Regenerate file.", "tree": {"sha": "eabd8d5402670b694e9abb98b1049c3c71586603", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eabd8d5402670b694e9abb98b1049c3c71586603"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/00f730ec3a24fd1453b3ee96e8a50a29d5db3ac3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00f730ec3a24fd1453b3ee96e8a50a29d5db3ac3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00f730ec3a24fd1453b3ee96e8a50a29d5db3ac3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00f730ec3a24fd1453b3ee96e8a50a29d5db3ac3/comments", "author": {"login": "acsawdey", "id": 41373646, "node_id": "MDQ6VXNlcjQxMzczNjQ2", "avatar_url": "https://avatars.githubusercontent.com/u/41373646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acsawdey", "html_url": "https://github.com/acsawdey", "followers_url": "https://api.github.com/users/acsawdey/followers", "following_url": "https://api.github.com/users/acsawdey/following{/other_user}", "gists_url": "https://api.github.com/users/acsawdey/gists{/gist_id}", "starred_url": "https://api.github.com/users/acsawdey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acsawdey/subscriptions", "organizations_url": "https://api.github.com/users/acsawdey/orgs", "repos_url": "https://api.github.com/users/acsawdey/repos", "events_url": "https://api.github.com/users/acsawdey/events{/privacy}", "received_events_url": "https://api.github.com/users/acsawdey/received_events", "type": "User", "site_admin": false}, "committer": {"login": "acsawdey", "id": 41373646, "node_id": "MDQ6VXNlcjQxMzczNjQ2", "avatar_url": "https://avatars.githubusercontent.com/u/41373646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acsawdey", "html_url": "https://github.com/acsawdey", "followers_url": "https://api.github.com/users/acsawdey/followers", "following_url": "https://api.github.com/users/acsawdey/following{/other_user}", "gists_url": "https://api.github.com/users/acsawdey/gists{/gist_id}", "starred_url": "https://api.github.com/users/acsawdey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acsawdey/subscriptions", "organizations_url": "https://api.github.com/users/acsawdey/orgs", "repos_url": "https://api.github.com/users/acsawdey/repos", "events_url": "https://api.github.com/users/acsawdey/events{/privacy}", "received_events_url": "https://api.github.com/users/acsawdey/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "caeb8892a556a4a634641c7613fec957359dbd49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/caeb8892a556a4a634641c7613fec957359dbd49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/caeb8892a556a4a634641c7613fec957359dbd49"}], "stats": {"total": 304, "additions": 152, "deletions": 152}, "files": [{"sha": "516baa0bb0b6e41d7d111dce59853d159fe5f8ba", "filename": "gcc/config/rs6000/fusion.md", "status": "modified", "additions": 150, "deletions": 150, "changes": 300, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00f730ec3a24fd1453b3ee96e8a50a29d5db3ac3/gcc%2Fconfig%2Frs6000%2Ffusion.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00f730ec3a24fd1453b3ee96e8a50a29d5db3ac3/gcc%2Fconfig%2Frs6000%2Ffusion.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ffusion.md?ref=00f730ec3a24fd1453b3ee96e8a50a29d5db3ac3", "patch": "@@ -358,7 +358,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar and -> and\n (define_insn \"*fuse_and_and\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (and:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"%r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -376,7 +376,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar andc -> and\n (define_insn \"*fuse_andc_and\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -394,7 +394,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar eqv -> and\n (define_insn \"*fuse_eqv_and\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (not:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -412,7 +412,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nand -> and\n (define_insn \"*fuse_nand_and\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -430,7 +430,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nor -> and\n (define_insn \"*fuse_nor_and\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -448,7 +448,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar or -> and\n (define_insn \"*fuse_or_and\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (ior:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -466,7 +466,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar orc -> and\n (define_insn \"*fuse_orc_and\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -484,7 +484,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar xor -> and\n (define_insn \"*fuse_xor_and\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -502,7 +502,7 @@\n ;; add-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar add -> and\n (define_insn \"*fuse_add_and\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (plus:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -520,7 +520,7 @@\n ;; add-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar subf -> and\n (define_insn \"*fuse_subf_and\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (minus:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -538,7 +538,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar and -> andc\n (define_insn \"*fuse_and_andc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (and:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -556,7 +556,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar andc -> andc\n (define_insn \"*fuse_andc_andc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -574,7 +574,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar eqv -> andc\n (define_insn \"*fuse_eqv_andc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (not:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -592,7 +592,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nand -> andc\n (define_insn \"*fuse_nand_andc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -610,7 +610,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nor -> andc\n (define_insn \"*fuse_nor_andc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -628,7 +628,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar or -> andc\n (define_insn \"*fuse_or_andc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (ior:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -646,7 +646,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar orc -> andc\n (define_insn \"*fuse_orc_andc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -664,7 +664,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar xor -> andc\n (define_insn \"*fuse_xor_andc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -682,7 +682,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar and -> eqv\n (define_insn \"*fuse_and_eqv\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (not:GPR (xor:GPR (and:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -700,7 +700,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar andc -> eqv\n (define_insn \"*fuse_andc_eqv\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (not:GPR (xor:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -718,7 +718,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar eqv -> eqv\n (define_insn \"*fuse_eqv_eqv\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (not:GPR (xor:GPR (not:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"%r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -736,7 +736,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nand -> eqv\n (define_insn \"*fuse_nand_eqv\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (not:GPR (xor:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -754,7 +754,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nor -> eqv\n (define_insn \"*fuse_nor_eqv\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (not:GPR (xor:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -772,7 +772,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar or -> eqv\n (define_insn \"*fuse_or_eqv\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (not:GPR (xor:GPR (ior:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -790,7 +790,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar orc -> eqv\n (define_insn \"*fuse_orc_eqv\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (not:GPR (xor:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -808,7 +808,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar xor -> eqv\n (define_insn \"*fuse_xor_eqv\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (not:GPR (xor:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -826,7 +826,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar and -> nand\n (define_insn \"*fuse_and_nand\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (not:GPR (and:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -844,7 +844,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar andc -> nand\n (define_insn \"*fuse_andc_nand\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (not:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -862,7 +862,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar eqv -> nand\n (define_insn \"*fuse_eqv_nand\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (not:GPR (not:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -880,7 +880,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nand -> nand\n (define_insn \"*fuse_nand_nand\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (not:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -898,7 +898,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nor -> nand\n (define_insn \"*fuse_nor_nand\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (not:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -916,7 +916,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar or -> nand\n (define_insn \"*fuse_or_nand\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (not:GPR (ior:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -934,7 +934,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar orc -> nand\n (define_insn \"*fuse_orc_nand\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (not:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -952,7 +952,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar xor -> nand\n (define_insn \"*fuse_xor_nand\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (not:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -970,7 +970,7 @@\n ;; add-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar add -> nand\n (define_insn \"*fuse_add_nand\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (not:GPR (plus:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -988,7 +988,7 @@\n ;; add-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar subf -> nand\n (define_insn \"*fuse_subf_nand\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (not:GPR (minus:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1006,7 +1006,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar and -> nor\n (define_insn \"*fuse_and_nor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (not:GPR (and:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1024,7 +1024,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar andc -> nor\n (define_insn \"*fuse_andc_nor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (not:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1042,7 +1042,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar eqv -> nor\n (define_insn \"*fuse_eqv_nor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (not:GPR (not:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1060,7 +1060,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nand -> nor\n (define_insn \"*fuse_nand_nor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (not:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1078,7 +1078,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nor -> nor\n (define_insn \"*fuse_nor_nor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (not:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1096,7 +1096,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar or -> nor\n (define_insn \"*fuse_or_nor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (not:GPR (ior:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1114,7 +1114,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar orc -> nor\n (define_insn \"*fuse_orc_nor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (not:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1132,7 +1132,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar xor -> nor\n (define_insn \"*fuse_xor_nor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (not:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1150,7 +1150,7 @@\n ;; add-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar add -> nor\n (define_insn \"*fuse_add_nor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (not:GPR (plus:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1168,7 +1168,7 @@\n ;; add-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar subf -> nor\n (define_insn \"*fuse_subf_nor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (and:GPR (not:GPR (minus:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1186,7 +1186,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar and -> or\n (define_insn \"*fuse_and_or\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (and:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1204,7 +1204,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar andc -> or\n (define_insn \"*fuse_andc_or\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1222,7 +1222,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar eqv -> or\n (define_insn \"*fuse_eqv_or\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (not:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1240,7 +1240,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nand -> or\n (define_insn \"*fuse_nand_or\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1258,7 +1258,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nor -> or\n (define_insn \"*fuse_nor_or\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1276,7 +1276,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar or -> or\n (define_insn \"*fuse_or_or\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (ior:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"%r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1294,7 +1294,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar orc -> or\n (define_insn \"*fuse_orc_or\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1312,7 +1312,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar xor -> or\n (define_insn \"*fuse_xor_or\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1330,7 +1330,7 @@\n ;; add-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar add -> or\n (define_insn \"*fuse_add_or\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (plus:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1348,7 +1348,7 @@\n ;; add-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar subf -> or\n (define_insn \"*fuse_subf_or\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (minus:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1366,7 +1366,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar and -> orc\n (define_insn \"*fuse_and_orc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (and:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1384,7 +1384,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar andc -> orc\n (define_insn \"*fuse_andc_orc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1402,7 +1402,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar eqv -> orc\n (define_insn \"*fuse_eqv_orc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (not:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1420,7 +1420,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nand -> orc\n (define_insn \"*fuse_nand_orc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1438,7 +1438,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nor -> orc\n (define_insn \"*fuse_nor_orc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1456,7 +1456,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar or -> orc\n (define_insn \"*fuse_or_orc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (ior:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1474,7 +1474,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar orc -> orc\n (define_insn \"*fuse_orc_orc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1492,7 +1492,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar xor -> orc\n (define_insn \"*fuse_xor_orc\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (ior:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (not:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1510,7 +1510,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar and -> xor\n (define_insn \"*fuse_and_xor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (xor:GPR (and:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1528,7 +1528,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar andc -> xor\n (define_insn \"*fuse_andc_xor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (xor:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1546,7 +1546,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar eqv -> xor\n (define_insn \"*fuse_eqv_xor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (xor:GPR (not:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1564,7 +1564,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nand -> xor\n (define_insn \"*fuse_nand_xor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (xor:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1582,7 +1582,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar nor -> xor\n (define_insn \"*fuse_nor_xor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (xor:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1600,7 +1600,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar or -> xor\n (define_insn \"*fuse_or_xor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (xor:GPR (ior:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1618,7 +1618,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar orc -> xor\n (define_insn \"*fuse_orc_xor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (xor:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1636,7 +1636,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; scalar xor -> xor\n (define_insn \"*fuse_xor_xor\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (xor:GPR (xor:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"%r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1654,7 +1654,7 @@\n ;; logical-add fusion pattern generated by gen_logical_addsubf\n ;; scalar and -> add\n (define_insn \"*fuse_and_add\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (plus:GPR (and:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1672,7 +1672,7 @@\n ;; logical-add fusion pattern generated by gen_logical_addsubf\n ;; scalar nand -> add\n (define_insn \"*fuse_nand_add\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (plus:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1690,7 +1690,7 @@\n ;; logical-add fusion pattern generated by gen_logical_addsubf\n ;; scalar nor -> add\n (define_insn \"*fuse_nor_add\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (plus:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1708,7 +1708,7 @@\n ;; logical-add fusion pattern generated by gen_logical_addsubf\n ;; scalar or -> add\n (define_insn \"*fuse_or_add\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (plus:GPR (ior:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1726,7 +1726,7 @@\n ;; logical-add fusion pattern generated by gen_logical_addsubf\n ;; scalar and -> subf\n (define_insn \"*fuse_and_subf\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (minus:GPR (and:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1744,7 +1744,7 @@\n ;; logical-add fusion pattern generated by gen_logical_addsubf\n ;; scalar nand -> subf\n (define_insn \"*fuse_nand_subf\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (minus:GPR (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1762,7 +1762,7 @@\n ;; logical-add fusion pattern generated by gen_logical_addsubf\n ;; scalar nor -> subf\n (define_insn \"*fuse_nor_subf\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (minus:GPR (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1780,7 +1780,7 @@\n ;; logical-add fusion pattern generated by gen_logical_addsubf\n ;; scalar or -> subf\n (define_insn \"*fuse_or_subf\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (minus:GPR (ior:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))\n                  (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")))\n@@ -1798,7 +1798,7 @@\n ;; logical-add fusion pattern generated by gen_logical_addsubf\n ;; scalar and -> rsubf\n (define_insn \"*fuse_and_rsubf\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (minus:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")\n                  (and:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1816,7 +1816,7 @@\n ;; logical-add fusion pattern generated by gen_logical_addsubf\n ;; scalar nand -> rsubf\n (define_insn \"*fuse_nand_rsubf\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (minus:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")\n                  (ior:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))))\n@@ -1834,7 +1834,7 @@\n ;; logical-add fusion pattern generated by gen_logical_addsubf\n ;; scalar nor -> rsubf\n (define_insn \"*fuse_nor_rsubf\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (minus:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")\n                  (and:GPR (not:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\"))\n                           (not:GPR (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\")))))\n@@ -1852,7 +1852,7 @@\n ;; logical-add fusion pattern generated by gen_logical_addsubf\n ;; scalar or -> rsubf\n (define_insn \"*fuse_or_rsubf\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (minus:GPR (match_operand:GPR 2 \"gpc_reg_operand\" \"r,r,r,r\")\n                  (ior:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                           (match_operand:GPR 1 \"gpc_reg_operand\" \"r,r,r,r\"))))\n@@ -1870,7 +1870,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vand -> vand\n (define_insn \"*fuse_vand_vand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (and:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"%v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -1888,7 +1888,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vandc -> vand\n (define_insn \"*fuse_vandc_vand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -1906,7 +1906,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector veqv -> vand\n (define_insn \"*fuse_veqv_vand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (not:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -1924,7 +1924,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnand -> vand\n (define_insn \"*fuse_vnand_vand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -1942,7 +1942,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnor -> vand\n (define_insn \"*fuse_vnor_vand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -1960,7 +1960,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vor -> vand\n (define_insn \"*fuse_vor_vand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (ior:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -1978,7 +1978,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vorc -> vand\n (define_insn \"*fuse_vorc_vand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -1996,7 +1996,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vxor -> vand\n (define_insn \"*fuse_vxor_vand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2014,7 +2014,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vand -> vandc\n (define_insn \"*fuse_vand_vandc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (and:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2032,7 +2032,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vandc -> vandc\n (define_insn \"*fuse_vandc_vandc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2050,7 +2050,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector veqv -> vandc\n (define_insn \"*fuse_veqv_vandc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (not:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2068,7 +2068,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnand -> vandc\n (define_insn \"*fuse_vnand_vandc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2086,7 +2086,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnor -> vandc\n (define_insn \"*fuse_vnor_vandc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2104,7 +2104,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vor -> vandc\n (define_insn \"*fuse_vor_vandc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (ior:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2122,7 +2122,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vorc -> vandc\n (define_insn \"*fuse_vorc_vandc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2140,7 +2140,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vxor -> vandc\n (define_insn \"*fuse_vxor_vandc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2158,7 +2158,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vand -> veqv\n (define_insn \"*fuse_vand_veqv\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (not:VM (xor:VM (and:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2176,7 +2176,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vandc -> veqv\n (define_insn \"*fuse_vandc_veqv\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (not:VM (xor:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2194,7 +2194,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector veqv -> veqv\n (define_insn \"*fuse_veqv_veqv\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (not:VM (xor:VM (not:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"%v,v,v,v\")))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2212,7 +2212,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnand -> veqv\n (define_insn \"*fuse_vnand_veqv\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (not:VM (xor:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2230,7 +2230,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnor -> veqv\n (define_insn \"*fuse_vnor_veqv\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (not:VM (xor:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2248,7 +2248,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vor -> veqv\n (define_insn \"*fuse_vor_veqv\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (not:VM (xor:VM (ior:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2266,7 +2266,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vorc -> veqv\n (define_insn \"*fuse_vorc_veqv\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (not:VM (xor:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2284,7 +2284,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vxor -> veqv\n (define_insn \"*fuse_vxor_veqv\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (not:VM (xor:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2302,7 +2302,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vand -> vnand\n (define_insn \"*fuse_vand_vnand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (not:VM (and:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2320,7 +2320,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vandc -> vnand\n (define_insn \"*fuse_vandc_vnand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (not:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2338,7 +2338,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector veqv -> vnand\n (define_insn \"*fuse_veqv_vnand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (not:VM (not:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2356,7 +2356,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnand -> vnand\n (define_insn \"*fuse_vnand_vnand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (not:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2374,7 +2374,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnor -> vnand\n (define_insn \"*fuse_vnor_vnand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (not:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2392,7 +2392,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vor -> vnand\n (define_insn \"*fuse_vor_vnand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (not:VM (ior:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2410,7 +2410,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vorc -> vnand\n (define_insn \"*fuse_vorc_vnand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (not:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2428,7 +2428,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vxor -> vnand\n (define_insn \"*fuse_vxor_vnand\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (not:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2446,7 +2446,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vand -> vnor\n (define_insn \"*fuse_vand_vnor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (not:VM (and:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2464,7 +2464,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vandc -> vnor\n (define_insn \"*fuse_vandc_vnor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (not:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2482,7 +2482,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector veqv -> vnor\n (define_insn \"*fuse_veqv_vnor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (not:VM (not:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2500,7 +2500,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnand -> vnor\n (define_insn \"*fuse_vnand_vnor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (not:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2518,7 +2518,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnor -> vnor\n (define_insn \"*fuse_vnor_vnor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (not:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2536,7 +2536,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vor -> vnor\n (define_insn \"*fuse_vor_vnor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (not:VM (ior:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2554,7 +2554,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vorc -> vnor\n (define_insn \"*fuse_vorc_vnor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (not:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2572,7 +2572,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vxor -> vnor\n (define_insn \"*fuse_vxor_vnor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (and:VM (not:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2590,7 +2590,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vand -> vor\n (define_insn \"*fuse_vand_vor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (and:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2608,7 +2608,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vandc -> vor\n (define_insn \"*fuse_vandc_vor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2626,7 +2626,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector veqv -> vor\n (define_insn \"*fuse_veqv_vor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (not:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2644,7 +2644,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnand -> vor\n (define_insn \"*fuse_vnand_vor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2662,7 +2662,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnor -> vor\n (define_insn \"*fuse_vnor_vor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2680,7 +2680,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vor -> vor\n (define_insn \"*fuse_vor_vor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (ior:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"%v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2698,7 +2698,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vorc -> vor\n (define_insn \"*fuse_vorc_vor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2716,7 +2716,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vxor -> vor\n (define_insn \"*fuse_vxor_vor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2734,7 +2734,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vand -> vorc\n (define_insn \"*fuse_vand_vorc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (and:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2752,7 +2752,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vandc -> vorc\n (define_insn \"*fuse_vandc_vorc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2770,7 +2770,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector veqv -> vorc\n (define_insn \"*fuse_veqv_vorc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (not:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2788,7 +2788,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnand -> vorc\n (define_insn \"*fuse_vnand_vorc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2806,7 +2806,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnor -> vorc\n (define_insn \"*fuse_vnor_vorc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2824,7 +2824,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vor -> vorc\n (define_insn \"*fuse_vor_vorc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (ior:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2842,7 +2842,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vorc -> vorc\n (define_insn \"*fuse_vorc_vorc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2860,7 +2860,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vxor -> vorc\n (define_insn \"*fuse_vxor_vorc\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (ior:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (not:VM (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\"))))\n@@ -2878,7 +2878,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vand -> vxor\n (define_insn \"*fuse_vand_vxor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (xor:VM (and:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2896,7 +2896,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vandc -> vxor\n (define_insn \"*fuse_vandc_vxor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (xor:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2914,7 +2914,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector veqv -> vxor\n (define_insn \"*fuse_veqv_vxor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (xor:VM (not:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2932,7 +2932,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnand -> vxor\n (define_insn \"*fuse_vnand_vxor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (xor:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2950,7 +2950,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vnor -> vxor\n (define_insn \"*fuse_vnor_vxor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (xor:VM (and:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (not:VM (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\")))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2968,7 +2968,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vor -> vxor\n (define_insn \"*fuse_vor_vxor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (xor:VM (ior:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -2986,7 +2986,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vorc -> vxor\n (define_insn \"*fuse_vorc_vxor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (xor:VM (ior:VM (not:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\"))\n                           (match_operand:VM 1 \"altivec_register_operand\" \"v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -3004,7 +3004,7 @@\n ;; logical-logical fusion pattern generated by gen_logical_addsubf\n ;; vector vxor -> vxor\n (define_insn \"*fuse_vxor_vxor\"\n-  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:VM 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (xor:VM (xor:VM (match_operand:VM 0 \"altivec_register_operand\" \"v,v,v,v\")\n                           (match_operand:VM 1 \"altivec_register_operand\" \"%v,v,v,v\"))\n                  (match_operand:VM 2 \"altivec_register_operand\" \"v,v,v,v\")))\n@@ -3021,7 +3021,7 @@\n \n ;; add-add fusion pattern generated by gen_addadd\n (define_insn \"*fuse_add_add\"\n-  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=0,1,&r,r\")\n+  [(set (match_operand:GPR 3 \"gpc_reg_operand\" \"=&0,&1,&r,r\")\n         (plus:GPR\n            (plus:GPR (match_operand:GPR 0 \"gpc_reg_operand\" \"r,r,r,r\")\n                      (match_operand:GPR 1 \"gpc_reg_operand\" \"%r,r,r,r\"))\n@@ -3039,7 +3039,7 @@\n \n ;; vaddudm-vaddudm fusion pattern generated by gen_addadd\n (define_insn \"*fuse_vaddudm_vaddudm\"\n-  [(set (match_operand:V2DI 3 \"altivec_register_operand\" \"=0,1,&v,v\")\n+  [(set (match_operand:V2DI 3 \"altivec_register_operand\" \"=&0,&1,&v,v\")\n         (plus:V2DI\n            (plus:V2DI (match_operand:V2DI 0 \"altivec_register_operand\" \"v,v,v,v\")\n                      (match_operand:V2DI 1 \"altivec_register_operand\" \"%v,v,v,v\"))"}, {"sha": "ac22852220e428f2d5c06de8ef3c8ef210f8cd0e", "filename": "gcc/config/rs6000/genfusion.pl", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00f730ec3a24fd1453b3ee96e8a50a29d5db3ac3/gcc%2Fconfig%2Frs6000%2Fgenfusion.pl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00f730ec3a24fd1453b3ee96e8a50a29d5db3ac3/gcc%2Fconfig%2Frs6000%2Fgenfusion.pl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fgenfusion.pl?ref=00f730ec3a24fd1453b3ee96e8a50a29d5db3ac3", "patch": "@@ -263,7 +263,7 @@ sub gen_logical_addsubf\n ;; $ftype fusion pattern generated by gen_logical_addsubf\n ;; $kind $inner_op -> $outer_name\n (define_insn \"*fuse_${inner_op}_${outer_name}\"\n-  [(set (match_operand:${mode} 3 \"${pred}\" \"=0,1,&${constraint},${constraint}\")\n+  [(set (match_operand:${mode} 3 \"${pred}\" \"=&0,&1,&${constraint},${constraint}\")\n         ${outer_exp})\n    (clobber (match_scratch:${mode} 4 \"=X,X,X,&r\"))]\n   \"(TARGET_P10_FUSION && $target_flag)\"\n@@ -307,7 +307,7 @@ sub gen_addadd\n \n ;; ${op}-${op} fusion pattern generated by gen_addadd\n (define_insn \"*fuse_${op}_${op}\"\n-  [(set (match_operand:${mode} 3 \"${pred}\" \"=0,1,&${constraint},${constraint}\")\n+  [(set (match_operand:${mode} 3 \"${pred}\" \"=&0,&1,&${constraint},${constraint}\")\n         (plus:${mode}\n            (plus:${mode} (match_operand:${mode} 0 \"${pred}\" \"${c4}\")\n                      (match_operand:${mode} 1 \"${pred}\" \"%${c4}\"))"}]}