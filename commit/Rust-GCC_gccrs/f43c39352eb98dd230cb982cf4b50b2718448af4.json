{"sha": "f43c39352eb98dd230cb982cf4b50b2718448af4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjQzYzM5MzUyZWI5OGRkMjMwY2I5ODJjZjRiNTBiMjcxODQ0OGFmNA==", "commit": {"author": {"name": "Kai Tietz", "email": "kai.tietz@onevision.com", "date": "2011-02-07T20:32:17Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2011-02-07T20:32:17Z"}, "message": "re PR lto/47225 (cross-compile fails while configuring libgcc with \"xgcc: fatal error: -fuse-linker-plugin, but liblto_plugin.so not found\")\n\n2011-02-07  Kai Tietz  <kai.tietz@onevision.com>\n\n        PR lto/47225\n        * Makefile.am (Wc): New helper for encoding -Wc,.\n        (liblto_plugin_la_LIBADD): Use Wc for libiberty library.\n        (liblto_plugin_la_DEPENDENCIES): Special case pic libiberty.\n        * Makefile.in: Regenerated.\n\nFrom-SVN: r169900", "tree": {"sha": "bf0e0a864576ea8afe61223964b4344158381b3e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bf0e0a864576ea8afe61223964b4344158381b3e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f43c39352eb98dd230cb982cf4b50b2718448af4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f43c39352eb98dd230cb982cf4b50b2718448af4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f43c39352eb98dd230cb982cf4b50b2718448af4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f43c39352eb98dd230cb982cf4b50b2718448af4/comments", "author": null, "committer": null, "parents": [{"sha": "03e38c1a18eb37aad31cc3cc9318eca50a8dff89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03e38c1a18eb37aad31cc3cc9318eca50a8dff89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03e38c1a18eb37aad31cc3cc9318eca50a8dff89"}], "stats": {"total": 25, "additions": 21, "deletions": 4}, "files": [{"sha": "1129a3784326b396aa4d49f424c9dc977f82f0e2", "filename": "lto-plugin/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f43c39352eb98dd230cb982cf4b50b2718448af4/lto-plugin%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f43c39352eb98dd230cb982cf4b50b2718448af4/lto-plugin%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2FChangeLog?ref=f43c39352eb98dd230cb982cf4b50b2718448af4", "patch": "@@ -1,3 +1,11 @@\n+2011-02-07  Kai Tietz  <kai.tietz@onevision.com>\n+\n+\tPR lto/47225\n+\t* Makefile.am (Wc): New helper for encoding -Wc,.\n+\t(liblto_plugin_la_LIBADD): Use Wc for libiberty library.\n+\t(liblto_plugin_la_DEPENDENCIES): Special case pic libiberty.\n+\t* Makefile.in: Regenerated.\n+\n 2011-02-07  Paolo Bonzini  <bonzini@gnu.org>\n \n \tRevert:"}, {"sha": "a150f80f50c42d2fd31a3bf8469983d967bcaeaf", "filename": "lto-plugin/Makefile.am", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f43c39352eb98dd230cb982cf4b50b2718448af4/lto-plugin%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f43c39352eb98dd230cb982cf4b50b2718448af4/lto-plugin%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2FMakefile.am?ref=f43c39352eb98dd230cb982cf4b50b2718448af4", "patch": "@@ -13,12 +13,17 @@ AM_LIBTOOLFLAGS = --tag=disable-static\n \n libexecsub_LTLIBRARIES = liblto_plugin.la\n \n+# Can be removed when libiberty becomes a normal convenience library\n+Wc=-Wc,\n+\n liblto_plugin_la_SOURCES = lto-plugin.c\n liblto_plugin_la_LIBADD = \\\n-\t$(if $(wildcard ../libiberty/pic/libiberty.a),../libiberty/pic/libiberty.a,)\n+\t$(if $(wildcard ../libiberty/pic/libiberty.a),$(Wc)../libiberty/pic/libiberty.a,)\n # Note that we intentionally override the bindir supplied by ACX_LT_HOST_FLAGS\n liblto_plugin_la_LDFLAGS = $(lt_host_flags) -bindir $(libexecsubdir) \\\n \t$(if $(wildcard ../libiberty/pic/libiberty.a),,-Wc,../libiberty/libiberty.a)\n+liblto_plugin_la_DEPENDENCIES = $(if $(wildcard \\\n+\t../libiberty/pic/libiberty.a),../libiberty/pic/libiberty.a,)\n \n all: copy_lto_plugin\n "}, {"sha": "aa14e52a031d67d0d70d229c68b268883373ad68", "filename": "lto-plugin/Makefile.in", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f43c39352eb98dd230cb982cf4b50b2718448af4/lto-plugin%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f43c39352eb98dd230cb982cf4b50b2718448af4/lto-plugin%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2FMakefile.in?ref=f43c39352eb98dd230cb982cf4b50b2718448af4", "patch": "@@ -81,8 +81,6 @@ am__base_list = \\\n   sed '$$!N;$$!N;$$!N;$$!N;s/\\n/ /g'\n am__installdirs = \"$(DESTDIR)$(libexecsubdir)\"\n LTLIBRARIES = $(libexecsub_LTLIBRARIES)\n-liblto_plugin_la_DEPENDENCIES = $(if $(wildcard \\\n-\t../libiberty/pic/libiberty.a),../libiberty/pic/libiberty.a,)\n am_liblto_plugin_la_OBJECTS = lto-plugin.lo\n liblto_plugin_la_OBJECTS = $(am_liblto_plugin_la_OBJECTS)\n liblto_plugin_la_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \\\n@@ -232,14 +230,20 @@ AM_CPPFLAGS = -I$(top_srcdir)/../include $(DEFS)\n AM_CFLAGS = -Wall -Werror\n AM_LIBTOOLFLAGS = --tag=disable-static\n libexecsub_LTLIBRARIES = liblto_plugin.la\n+\n+# Can be removed when libiberty becomes a normal convenience library\n+Wc = -Wc,\n liblto_plugin_la_SOURCES = lto-plugin.c\n liblto_plugin_la_LIBADD = \\\n-\t$(if $(wildcard ../libiberty/pic/libiberty.a),../libiberty/pic/libiberty.a,)\n+\t$(if $(wildcard ../libiberty/pic/libiberty.a),$(Wc)../libiberty/pic/libiberty.a,)\n \n # Note that we intentionally override the bindir supplied by ACX_LT_HOST_FLAGS\n liblto_plugin_la_LDFLAGS = $(lt_host_flags) -bindir $(libexecsubdir) \\\n \t$(if $(wildcard ../libiberty/pic/libiberty.a),,-Wc,../libiberty/libiberty.a)\n \n+liblto_plugin_la_DEPENDENCIES = $(if $(wildcard \\\n+\t../libiberty/pic/libiberty.a),../libiberty/pic/libiberty.a,)\n+\n all: config.h\n \t$(MAKE) $(AM_MAKEFLAGS) all-am\n "}]}