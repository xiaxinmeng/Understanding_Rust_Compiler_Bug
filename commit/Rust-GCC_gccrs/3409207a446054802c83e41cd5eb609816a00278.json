{"sha": "3409207a446054802c83e41cd5eb609816a00278", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQwOTIwN2E0NDYwNTQ4MDJjODNlNDFjZDVlYjYwOTgxNmEwMDI3OA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2016-09-01T07:55:00Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2016-09-01T07:55:00Z"}, "message": "i386.c (ix86_option_override_internal): Also disable the STV pass if -mstackrealign is enabled.\n\n\t* config/i386/i386.c (ix86_option_override_internal): Also disable the\n\tSTV pass if -mstackrealign is enabled.\n\nFrom-SVN: r239916", "tree": {"sha": "cc78efb36e5b46add19266de7658ff43b34e3d74", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cc78efb36e5b46add19266de7658ff43b34e3d74"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3409207a446054802c83e41cd5eb609816a00278", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3409207a446054802c83e41cd5eb609816a00278", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3409207a446054802c83e41cd5eb609816a00278", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3409207a446054802c83e41cd5eb609816a00278/comments", "author": null, "committer": null, "parents": [{"sha": "e5b9932bbd5719bf0530721c55a424caff851b18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5b9932bbd5719bf0530721c55a424caff851b18", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5b9932bbd5719bf0530721c55a424caff851b18"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "9f90359170ebdb5efde545f90a7848b7f63b759f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3409207a446054802c83e41cd5eb609816a00278/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3409207a446054802c83e41cd5eb609816a00278/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3409207a446054802c83e41cd5eb609816a00278", "patch": "@@ -1,3 +1,8 @@\n+2016-09-01  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* config/i386/i386.c (ix86_option_override_internal): Also disable the\n+\tSTV pass if -mstackrealign is enabled.\n+\n 2016-08-31  Ilya Verbin  <iverbin@gmail.com>\n \n \t* config/i386/driver-i386.c (host_detect_local_cpu): Fix detection of"}, {"sha": "3ac115c64f717f928eeb8085fea941383121df85", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3409207a446054802c83e41cd5eb609816a00278/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3409207a446054802c83e41cd5eb609816a00278/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=3409207a446054802c83e41cd5eb609816a00278", "patch": "@@ -5957,11 +5957,12 @@ ix86_option_override_internal (bool main_args_p,\n   if (!(opts_set->x_target_flags & MASK_STV))\n     opts->x_target_flags |= MASK_STV;\n   /* Disable STV if -mpreferred-stack-boundary={2,3} or\n-     -mincoming-stack-boundary={2,3} - the needed\n+     -mincoming-stack-boundary={2,3} or -mstackrealign - the needed\n      stack realignment will be extra cost the pass doesn't take into\n      account and the pass can't realign the stack.  */\n   if (ix86_preferred_stack_boundary < 128\n-      || ix86_incoming_stack_boundary < 128)\n+      || ix86_incoming_stack_boundary < 128\n+      || opts->x_ix86_force_align_arg_pointer)\n     opts->x_target_flags &= ~MASK_STV;\n   if (!ix86_tune_features[X86_TUNE_AVX256_UNALIGNED_LOAD_OPTIMAL]\n       && !(opts_set->x_target_flags & MASK_AVX256_SPLIT_UNALIGNED_LOAD))"}]}