{"sha": "20c74d5ea3805e31f5296d4881e4bf5ae1e3c77e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjBjNzRkNWVhMzgwNWUzMWY1Mjk2ZDQ4ODFlNGJmNWFlMWUzYzc3ZQ==", "commit": {"author": {"name": "Paul Eggert", "email": "eggert@gnu.org", "date": "1993-07-01T07:46:15Z"}, "committer": {"name": "Paul Eggert", "email": "eggert@gnu.org", "date": "1993-07-01T07:46:15Z"}, "message": "Remove everything after #endif, instead of trying to turn it into comments, which loses inside comments.\n\nRemove everything after #endif, instead of trying\nto turn it into comments, which loses inside comments.\nRemove #endif workarounds for Ultrix 4.[12]\nand SunOS 4.1, which are no longer needed because of this bug fix.\n\nFrom-SVN: r4812", "tree": {"sha": "674f3ac2361d9ef1e94990ddf4c852ac47efb428", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/674f3ac2361d9ef1e94990ddf4c852ac47efb428"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/20c74d5ea3805e31f5296d4881e4bf5ae1e3c77e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20c74d5ea3805e31f5296d4881e4bf5ae1e3c77e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20c74d5ea3805e31f5296d4881e4bf5ae1e3c77e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20c74d5ea3805e31f5296d4881e4bf5ae1e3c77e/comments", "author": null, "committer": null, "parents": [{"sha": "6fa42ed8b020211438be4710db6039c60e3a4cbc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6fa42ed8b020211438be4710db6039c60e3a4cbc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6fa42ed8b020211438be4710db6039c60e3a4cbc"}], "stats": {"total": 53, "additions": 4, "deletions": 49}, "files": [{"sha": "1f25d44b1c083f88a65783921a3becb7e1083193", "filename": "gcc/fixincludes", "status": "modified", "additions": 4, "deletions": 49, "changes": 53, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20c74d5ea3805e31f5296d4881e4bf5ae1e3c77e/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20c74d5ea3805e31f5296d4881e4bf5ae1e3c77e/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=20c74d5ea3805e31f5296d4881e4bf5ae1e3c77e", "patch": "@@ -270,8 +270,10 @@ while [ $# != 0 ]; do\n \t\t\t\t   :loop\n \t  /\\\\$/\t\t\tN\n \t  /\\\\$/\t\t\tb loop\n-\t  s%^\\([ \t]*#[ \t]*endif[ \t]*\\)\\([^/ \t].*\\)$%\\1/* \\2 */%\n-\t  s%^\\([ \t]*#[ \t]*else[ \t]*\\)\\([^/ \t].*\\)$%\\1/* \\2 */%\n+\t  s%^\\([ \t]*#[ \t]*else\\)[ \t]*/[^*].*%\\1%\n+\t  s%^\\([ \t]*#[ \t]*else\\)[ \t]*[^/ \t].*%\\1%\n+\t  s%^\\([ \t]*#[ \t]*endif\\)[ \t]*/[^*].*%\\1%\n+\t  s%^\\([ \t]*#[ \t]*endif\\)[ \t]*[^/ \t].*%\\1%\n \t  /\\/\\/[^*]/\t\t\ts|//\\(.*\\)$|/*\\1*/|\n \t  /[ \t]_IO[A-Z]*[ \t]*(/\ts/\\(_IO[A-Z]*[ \t]*(\\)\\(.\\),/\\1'\\''\\2'\\'',/\n \t  /[ \t]BSD43__IO[A-Z]*[ \t]*(/\ts/(\\(.\\),/('\\''\\1'\\'',/\n@@ -520,24 +522,6 @@ if [ -r ${LIB}/$file ]; then\n   fi\n fi\n \n-# Remove nested comments created by #endifs in a comment (Ultrix 4.1)\n-# Only needed if commenting out junk after #endif.\n-file=signal.h\n-if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n-  cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n-  chmod +w ${LIB}/$file 2>/dev/null\n-  chmod a+r ${LIB}/$file 2>/dev/null\n-fi\n-\n-if [ -r ${LIB}/$file ]; then\n-  echo Fixing $file, nested comments\n-  sed -e 's/^[ \t]*#endif.*/#endif/' ${LIB}/$file > ${LIB}/${file}.sed\n-  rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-  if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n-    rm -f ${LIB}/$file\n-  fi\n-fi\n-\n # Check for superfluous `static' (in Ultrix 4.2)\n file=machine/cpu.h\n if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n@@ -704,24 +688,6 @@ if [ -r ${LIB}/$file ]; then\n   fi\n fi\n \n-\n-# Fix bogus comment in <locale.h> on SunOS 4.1.\n-file=locale.h\n-if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n-  cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n-  chmod +w ${LIB}/$file 2>/dev/null\n-  chmod a+r ${LIB}/$file 2>/dev/null\n-fi\n-\n-if [ -r ${LIB}/$file ]; then\n-  echo Fixing $file\n-  sed -e 's%#endif / \\*%#endif /\\* %g' ${LIB}/$file > ${LIB}/${file}.sed\n-  rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-  if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n-    rm -f ${LIB}/$file\n-  fi\n-fi\n-\n # Fix bogus #ifdef in <hsfs/hsfs_spec.h> on SunOS 4.1.\n file=hsfs/hsfs_spec.h\n if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n@@ -1099,17 +1065,6 @@ if test -d /etc/conf/kconfig.d \\\n   sed '/OPEN_MAX/s,/\\* Max, Max,' < ${LIB}/$file. >${LIB}/$file\n fi\n \n-# These files on Ultrix 4.2 put comments around instances of #endif\n-# __mips.  When the sed expression turns that into #endif /* __mips */\n-# the comment ends prematurely.\n-for file in sys/audit.h sys/signal.h; do\n-  if [ -r ${LIB}/${file} ]; then\n-    echo Fixing $file, early comment termination\n-    sed -e 's|^#endif /\\*.*\\*/|#endif|g' ${LIB}/${file} > ${LIB}/${file}.sed\n-    rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n-  fi\n-done\n-\n echo 'Removing unneeded directories:'\n cd $LIB\n files=`find . -type d -print | sort -r`"}]}