{"sha": "01be58559c021d6f6d8f3fd395ffcff7c8e97224", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDFiZTU4NTU5YzAyMWQ2ZjZkOGYzZmQzOTVmZmNmZjdjOGU5NzIyNA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "2015-11-28T23:24:20Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2015-11-28T23:24:20Z"}, "message": "nvptx.h (FIRST_PARM_OFFSET): Add void cast.\n\n\t* config/nvptx/nvptx.h (FIRST_PARM_OFFSET): Add void cast.\n\t(FRAME_POINTER_CFA_OFFSET): Define.\n\t(struct nvptx_args): Use 'tree' type.\n\t(INIT_CUMULATIVE_ARGS): Remove unnecessary do...while.\n\nFrom-SVN: r231038", "tree": {"sha": "3ad41eb9b3b5663674efe64524ef38b1fbeda812", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3ad41eb9b3b5663674efe64524ef38b1fbeda812"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/01be58559c021d6f6d8f3fd395ffcff7c8e97224", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01be58559c021d6f6d8f3fd395ffcff7c8e97224", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01be58559c021d6f6d8f3fd395ffcff7c8e97224", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01be58559c021d6f6d8f3fd395ffcff7c8e97224/comments", "author": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cdde47a670519664b10ceaa872f107a6a2c241fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cdde47a670519664b10ceaa872f107a6a2c241fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cdde47a670519664b10ceaa872f107a6a2c241fc"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "8c38bd559945aa41eefa729a7a6c103358315181", "filename": "ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01be58559c021d6f6d8f3fd395ffcff7c8e97224/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01be58559c021d6f6d8f3fd395ffcff7c8e97224/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=01be58559c021d6f6d8f3fd395ffcff7c8e97224", "patch": "@@ -1,3 +1,10 @@\n+2015-11-28  Nathan Sidwell  <nathan@acm.org>\n+\n+\t* config/nvptx/nvptx.h (FIRST_PARM_OFFSET): Add void cast.\n+\t(FRAME_POINTER_CFA_OFFSET): Define.\n+\t(struct nvptx_args): Use 'tree' type.\n+\t(INIT_CUMULATIVE_ARGS): Remove unnecessary do...while.\n+\n 2015-11-26  David Edelsohn  <dje.gcc@gmail.com>\n \n \t* m4/libtool.m4 (export_symbols_cmds) [AIX]: Add global TLS \"L\""}, {"sha": "4228ec073b8c24d7e339da5603785884226a4ae6", "filename": "gcc/config/nvptx/nvptx.h", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01be58559c021d6f6d8f3fd395ffcff7c8e97224/gcc%2Fconfig%2Fnvptx%2Fnvptx.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01be58559c021d6f6d8f3fd395ffcff7c8e97224/gcc%2Fconfig%2Fnvptx%2Fnvptx.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnvptx%2Fnvptx.h?ref=01be58559c021d6f6d8f3fd395ffcff7c8e97224", "patch": "@@ -166,14 +166,16 @@ enum reg_class\n #define OUTGOING_ARG_POINTER_REGNUM 11\n #define OUTGOING_STATIC_CHAIN_REGNUM 10\n \n-#define FIRST_PARM_OFFSET(FNDECL) 0\n+#define FIRST_PARM_OFFSET(FNDECL) ((void)(FNDECL), 0)\n #define PUSH_ARGS_REVERSED 1\n-\n #define ACCUMULATE_OUTGOING_ARGS 1\n \n+/* Avoid using the argument pointer for frame-related things.  */\n+#define FRAME_POINTER_CFA_OFFSET(FNDECL) ((void)(FNDECL), 0)\n+\n #ifdef HOST_WIDE_INT\n struct nvptx_args {\n-  union tree_node *fntype;\n+  tree fntype;\n   /* Number of arguments passed in registers so far.  */\n   int count;\n   /* Offset into the stdarg area so far.  */\n@@ -184,7 +186,7 @@ struct nvptx_args {\n #define CUMULATIVE_ARGS struct nvptx_args\n \n #define INIT_CUMULATIVE_ARGS(CUM, FNTYPE, LIBNAME, FNDECL, N_NAMED_ARGS) \\\n-  do { (CUM).fntype = (FNTYPE); (CUM).count = 0; (CUM).off = 0; } while (0)\n+  ((CUM).fntype = (FNTYPE), (CUM).count = 0, (CUM).off = 0, (void)0)\n \n #define FUNCTION_ARG_REGNO_P(r) 0\n "}]}