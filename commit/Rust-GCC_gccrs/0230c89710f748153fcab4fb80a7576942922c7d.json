{"sha": "0230c89710f748153fcab4fb80a7576942922c7d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDIzMGM4OTcxMGY3NDgxNTNmY2FiNGZiODBhNzU3Njk0MjkyMmM3ZA==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2019-12-11T18:58:56Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2019-12-11T18:58:56Z"}, "message": "function-tests.c: expose selftest::make_fndecl for use elsewhere\n\nThis is used by new selftests in the analyzer patch kit.\n\ngcc/ChangeLog:\n\t* function-tests.c (selftest::make_fndecl): Make non-static.\n\t* selftest.h (selftest::make_fndecl): New decl.\n\nFrom-SVN: r279242", "tree": {"sha": "715b485000a442dd072af129d5897d6db5621a90", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/715b485000a442dd072af129d5897d6db5621a90"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0230c89710f748153fcab4fb80a7576942922c7d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0230c89710f748153fcab4fb80a7576942922c7d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0230c89710f748153fcab4fb80a7576942922c7d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0230c89710f748153fcab4fb80a7576942922c7d/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3455115379cef3a84ce8154b6c4316ed7585f73f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3455115379cef3a84ce8154b6c4316ed7585f73f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3455115379cef3a84ce8154b6c4316ed7585f73f"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "160358050bdaf77ada0d98a96b6ae855bc4fff25", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0230c89710f748153fcab4fb80a7576942922c7d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0230c89710f748153fcab4fb80a7576942922c7d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0230c89710f748153fcab4fb80a7576942922c7d", "patch": "@@ -1,3 +1,8 @@\n+2019-12-11  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* function-tests.c (selftest::make_fndecl): Make non-static.\n+\t* selftest.h (selftest::make_fndecl): New decl.\n+\n 2019-12-11  Lewis Hyatt  <lhyatt@gmail.com>\n \n \tPR 91853"}, {"sha": "f3406c43aee9c3c01cbf3cf892beffe3d6ace105", "filename": "gcc/function-tests.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0230c89710f748153fcab4fb80a7576942922c7d/gcc%2Ffunction-tests.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0230c89710f748153fcab4fb80a7576942922c7d/gcc%2Ffunction-tests.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction-tests.c?ref=0230c89710f748153fcab4fb80a7576942922c7d", "patch": "@@ -82,11 +82,11 @@ namespace selftest {\n \n /* Helper function for selftests of function-creation.  */\n \n-static tree\n+tree\n make_fndecl (tree return_type,\n \t     const char *name,\n \t     vec <tree> &param_types,\n-\t     bool is_variadic = false)\n+\t     bool is_variadic)\n {\n   tree fn_type;\n   if (is_variadic)"}, {"sha": "11bd3b7017211040ecb794decbebe312a260697f", "filename": "gcc/selftest.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0230c89710f748153fcab4fb80a7576942922c7d/gcc%2Fselftest.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0230c89710f748153fcab4fb80a7576942922c7d/gcc%2Fselftest.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fselftest.h?ref=0230c89710f748153fcab4fb80a7576942922c7d", "patch": "@@ -171,6 +171,13 @@ class line_table_test\n   ~line_table_test ();\n };\n \n+/* Helper function for selftests that need a function decl.  */\n+\n+extern tree make_fndecl (tree return_type,\n+\t\t\t const char *name,\n+\t\t\t vec <tree> &param_types,\n+\t\t\t bool is_variadic = false);\n+\n /* Run TESTCASE multiple times, once for each case in our test matrix.  */\n \n extern void"}]}