{"sha": "d02a9a19d6251c29b4b6dd9d50871325504029e9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDAyYTlhMTlkNjI1MWMyOWI0YjZkZDlkNTA4NzEzMjU1MDQwMjllOQ==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2013-01-10T13:55:33Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2013-01-10T13:55:33Z"}, "message": "Fix g++.dg/tls/thread_local* on Solaris 9\n\n\t* g++.dg/tls/thread_local-cse.C: Don't xfail on *-*-solaris2.9.\n\tAdd tls options.\n\t* g++.dg/tls/thread_local2.C: Likewise.\n\t* g++.dg/tls/thread_local2g.C: Likewise.\n\t* g++.dg/tls/thread_local6.C: Likewise.\n\t* g++.dg/tls/thread_local-order1.C: Add tls options.\n\t* g++.dg/tls/thread_local-order2.C: Likewise.\n\t* g++.dg/tls/thread_local3.C: Likewise.\n\t* g++.dg/tls/thread_local3g.C: Likewise.\n\t* g++.dg/tls/thread_local4.C: Likewise.\n\t* g++.dg/tls/thread_local4g.C: Likewise.\n\t* g++.dg/tls/thread_local5.C: Likewise.\n\t* g++.dg/tls/thread_local5g.C: Likewise.\n\t* g++.dg/tls/thread_local6g.C: Likewise.\n\nFrom-SVN: r195085", "tree": {"sha": "e2cb6d077248a48b0d046ecebc83705251eb768d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e2cb6d077248a48b0d046ecebc83705251eb768d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d02a9a19d6251c29b4b6dd9d50871325504029e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d02a9a19d6251c29b4b6dd9d50871325504029e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d02a9a19d6251c29b4b6dd9d50871325504029e9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d02a9a19d6251c29b4b6dd9d50871325504029e9/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ffc5b2bbcd49e24c1806c0530aba553722e7285a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffc5b2bbcd49e24c1806c0530aba553722e7285a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ffc5b2bbcd49e24c1806c0530aba553722e7285a"}], "stats": {"total": 38, "additions": 34, "deletions": 4}, "files": [{"sha": "3c57e52bd403fc2772e2ff8b64816d74f395c377", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d02a9a19d6251c29b4b6dd9d50871325504029e9", "patch": "@@ -1,3 +1,20 @@\n+2013-01-10  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* g++.dg/tls/thread_local-cse.C: Don't xfail on *-*-solaris2.9.\n+\tAdd tls options.\n+\t* g++.dg/tls/thread_local2.C: Likewise.\n+\t* g++.dg/tls/thread_local2g.C: Likewise.\n+\t* g++.dg/tls/thread_local6.C: Likewise.\n+\t* g++.dg/tls/thread_local-order1.C: Add tls options.\n+\t* g++.dg/tls/thread_local-order2.C: Likewise.\n+\t* g++.dg/tls/thread_local3.C: Likewise.\n+\t* g++.dg/tls/thread_local3g.C: Likewise.\n+\t* g++.dg/tls/thread_local4.C: Likewise.\n+\t* g++.dg/tls/thread_local4g.C: Likewise.\n+\t* g++.dg/tls/thread_local5.C: Likewise.\n+\t* g++.dg/tls/thread_local5g.C: Likewise.\n+\t* g++.dg/tls/thread_local6g.C: Likewise.\n+\n 2013-01-10  Kostya Serebryany  <kcc@google.com>\n \n \t* g++.dg/asan/asan_test.cc: Sync from upstream."}, {"sha": "486a986664d99bdfcd0d6331530cf326258931e8", "filename": "gcc/testsuite/g++.dg/tls/thread_local-cse.C", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-cse.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-cse.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-cse.C?ref=d02a9a19d6251c29b4b6dd9d50871325504029e9", "patch": "@@ -1,7 +1,8 @@\n // Test for CSE of the wrapper function: we should only call it once\n // for the two references to ir.\n-// { dg-do run { xfail *-*-solaris2.9 } }\n+// { dg-do run }\n // { dg-options \"-std=c++11 -O -fno-inline -save-temps\" }\n+// { dg-add-options tls }\n // { dg-require-effective-target tls_runtime }\n // { dg-require-alias }\n // { dg-final { scan-assembler-times \"call *_ZTW2ir\" 1 { xfail *-*-* } } }"}, {"sha": "231b290dea7381a2f3929ffb256896a1c2b7eeea", "filename": "gcc/testsuite/g++.dg/tls/thread_local-order1.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-order1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-order1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-order1.C?ref=d02a9a19d6251c29b4b6dd9d50871325504029e9", "patch": "@@ -1,5 +1,6 @@\n // { dg-do run }\n // { dg-options \"-std=c++11\" }\n+// { dg-add-options tls }\n // { dg-require-effective-target tls_runtime }\n // { dg-require-alias }\n // { dg-require-cxa-atexit \"\" }"}, {"sha": "2d85eca2c1e8828495ce3d8afee205486afdd3cf", "filename": "gcc/testsuite/g++.dg/tls/thread_local-order2.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-order2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-order2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local-order2.C?ref=d02a9a19d6251c29b4b6dd9d50871325504029e9", "patch": "@@ -4,6 +4,7 @@\n \n // { dg-do run { xfail *-*-* } }\n // { dg-options \"-std=c++11\" }\n+// { dg-add-options tls }\n // { dg-require-effective-target tls_runtime }\n // { dg-require-alias }\n "}, {"sha": "bb255de7a14185ce535c2ddf5ecd538a2815182b", "filename": "gcc/testsuite/g++.dg/tls/thread_local2.C", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local2.C?ref=d02a9a19d6251c29b4b6dd9d50871325504029e9", "patch": "@@ -1,5 +1,6 @@\n-// { dg-do run { xfail *-*-solaris2.9 } }\n+// { dg-do run }\n // { dg-options \"-std=c++11\" }\n+// { dg-add-options tls }\n // { dg-require-effective-target tls_runtime }\n \n extern \"C\" void abort();"}, {"sha": "e1ad20dd8c83da668106b18147bf766b666a6b64", "filename": "gcc/testsuite/g++.dg/tls/thread_local2g.C", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local2g.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local2g.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local2g.C?ref=d02a9a19d6251c29b4b6dd9d50871325504029e9", "patch": "@@ -1,5 +1,6 @@\n-// { dg-do run { xfail *-*-solaris2.9 } }\n+// { dg-do run }\n // { dg-options \"-std=c++11\" }\n+// { dg-add-options tls }\n // { dg-require-effective-target tls_runtime }\n // { dg-require-alias }\n "}, {"sha": "e05a0b95306777c6b52f4cc279c2e504b49bb941", "filename": "gcc/testsuite/g++.dg/tls/thread_local3.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local3.C?ref=d02a9a19d6251c29b4b6dd9d50871325504029e9", "patch": "@@ -3,6 +3,7 @@\n // { dg-require-effective-target tls_runtime }\n // { dg-require-effective-target pthread }\n // { dg-options -pthread }\n+// { dg-add-options tls }\n \n int c;\n int d;"}, {"sha": "19a213e0006ae62893741df459b07980115c12ce", "filename": "gcc/testsuite/g++.dg/tls/thread_local3g.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local3g.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local3g.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local3g.C?ref=d02a9a19d6251c29b4b6dd9d50871325504029e9", "patch": "@@ -5,6 +5,7 @@\n // { dg-require-alias }\n // { dg-require-cxa-atexit \"\" }\n // { dg-options -pthread }\n+// { dg-add-options tls }\n \n int c;\n int d;"}, {"sha": "acf1cae529462a04a51d1dc15db32c3792a83d90", "filename": "gcc/testsuite/g++.dg/tls/thread_local4.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local4.C?ref=d02a9a19d6251c29b4b6dd9d50871325504029e9", "patch": "@@ -5,6 +5,7 @@\n // { dg-require-effective-target tls_runtime }\n // { dg-require-effective-target pthread }\n // { dg-options -pthread }\n+// { dg-add-options tls }\n \n #include <pthread.h>\n #include <unistd.h>"}, {"sha": "f9c4b77aef0bbfff75d8e662b5753e69a3bda8dd", "filename": "gcc/testsuite/g++.dg/tls/thread_local4g.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local4g.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local4g.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local4g.C?ref=d02a9a19d6251c29b4b6dd9d50871325504029e9", "patch": "@@ -7,6 +7,7 @@\n // { dg-require-alias }\n // { dg-require-cxa-atexit \"\" }\n // { dg-options -pthread }\n+// { dg-add-options tls }\n \n #include <pthread.h>\n #include <unistd.h>"}, {"sha": "8d17584edd2ee8af45460211f48d7c042cb5f587", "filename": "gcc/testsuite/g++.dg/tls/thread_local5.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local5.C?ref=d02a9a19d6251c29b4b6dd9d50871325504029e9", "patch": "@@ -5,6 +5,7 @@\n // { dg-require-effective-target tls_runtime }\n // { dg-require-effective-target pthread }\n // { dg-options -pthread }\n+// { dg-add-options tls }\n \n #include <pthread.h>\n #include <unistd.h>"}, {"sha": "1e3c9b709307c6adb292a1dd74d2398e8838c470", "filename": "gcc/testsuite/g++.dg/tls/thread_local5g.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local5g.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local5g.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local5g.C?ref=d02a9a19d6251c29b4b6dd9d50871325504029e9", "patch": "@@ -7,6 +7,7 @@\n // { dg-require-alias }\n // { dg-require-cxa-atexit \"\" }\n // { dg-options -pthread }\n+// { dg-add-options tls }\n \n #include <pthread.h>\n #include <unistd.h>"}, {"sha": "39dd6029eb91c09024be5808b348ea530273d099", "filename": "gcc/testsuite/g++.dg/tls/thread_local6.C", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local6.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local6.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local6.C?ref=d02a9a19d6251c29b4b6dd9d50871325504029e9", "patch": "@@ -1,7 +1,8 @@\n // Test for cleanups in the main thread without -pthread.\n \n-// { dg-do run { xfail *-*-solaris2.9 } }\n+// { dg-do run }\n // { dg-options \"-std=c++11\" }\n+// { dg-add-options tls }\n // { dg-require-effective-target tls_runtime }\n \n extern \"C\" void _exit (int);"}, {"sha": "57270aaa2809aa8a6f618131baa8062b3299d88b", "filename": "gcc/testsuite/g++.dg/tls/thread_local6g.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local6g.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d02a9a19d6251c29b4b6dd9d50871325504029e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local6g.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fthread_local6g.C?ref=d02a9a19d6251c29b4b6dd9d50871325504029e9", "patch": "@@ -2,6 +2,7 @@\n \n // { dg-do run }\n // { dg-options \"-std=c++11\" }\n+// { dg-add-options tls }\n // { dg-require-effective-target tls_runtime }\n // { dg-require-cxa-atexit \"\" }\n // { dg-require-alias }"}]}