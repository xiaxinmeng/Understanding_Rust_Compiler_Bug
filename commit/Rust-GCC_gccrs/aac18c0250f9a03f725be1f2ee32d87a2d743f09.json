{"sha": "aac18c0250f9a03f725be1f2ee32d87a2d743f09", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWFjMThjMDI1MGY5YTAzZjcyNWJlMWYyZWUzMmQ4N2EyZDc0M2YwOQ==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@net-b.de", "date": "2010-06-02T05:55:19Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2010-06-02T05:55:19Z"}, "message": "re PR fortran/44360 (wrong-code: host-associated procedure wrongly favoured to use-associated one)\n\n2010-06-02  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/44360\n        * parse.c (gfc_fixup_sibling_symbols): Do not \"fix\"\n        use-associated symbols.\n\n2010-06-02  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/44360\n        * gfortran.dg/use_13.f90: New test case.\n\nFrom-SVN: r160138", "tree": {"sha": "3644ad69527f5ef996ad04fa33bf8bcbc937af15", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3644ad69527f5ef996ad04fa33bf8bcbc937af15"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aac18c0250f9a03f725be1f2ee32d87a2d743f09", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aac18c0250f9a03f725be1f2ee32d87a2d743f09", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aac18c0250f9a03f725be1f2ee32d87a2d743f09", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aac18c0250f9a03f725be1f2ee32d87a2d743f09/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a76135dc57c990d12740e4bcc037d96465ce1374", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a76135dc57c990d12740e4bcc037d96465ce1374", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a76135dc57c990d12740e4bcc037d96465ce1374"}], "stats": {"total": 57, "additions": 57, "deletions": 0}, "files": [{"sha": "0db8ce51016bcc829320971c48fe3fda6bdaf3b6", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aac18c0250f9a03f725be1f2ee32d87a2d743f09/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aac18c0250f9a03f725be1f2ee32d87a2d743f09/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=aac18c0250f9a03f725be1f2ee32d87a2d743f09", "patch": "@@ -1,3 +1,9 @@\n+2010-06-02  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/44360\n+\t* parse.c (gfc_fixup_sibling_symbols): Do not \"fix\" use-associated\n+\tsymbols.\n+\n 2010-06-01  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR fortran/44371"}, {"sha": "7fc35418bec41345a9516b949548f1b790b8c833", "filename": "gcc/fortran/parse.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aac18c0250f9a03f725be1f2ee32d87a2d743f09/gcc%2Ffortran%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aac18c0250f9a03f725be1f2ee32d87a2d743f09/gcc%2Ffortran%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fparse.c?ref=aac18c0250f9a03f725be1f2ee32d87a2d743f09", "patch": "@@ -3667,6 +3667,7 @@ gfc_fixup_sibling_symbols (gfc_symbol *sym, gfc_namespace *siblings)\n \t\t  || (old_sym->ts.type != BT_UNKNOWN\n \t\t\t&& !old_sym->attr.implicit_type)\n \t\t  || old_sym->attr.flavor == FL_PARAMETER\n+\t\t  || old_sym->attr.use_assoc\n \t\t  || old_sym->attr.in_common\n \t\t  || old_sym->attr.in_equivalence\n \t\t  || old_sym->attr.data"}, {"sha": "c15d70839c538a56e8982ff0c520456c048cd4d6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aac18c0250f9a03f725be1f2ee32d87a2d743f09/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aac18c0250f9a03f725be1f2ee32d87a2d743f09/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=aac18c0250f9a03f725be1f2ee32d87a2d743f09", "patch": "@@ -1,3 +1,8 @@\n+2010-06-02  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/44360\n+\t* gfortran.dg/use_13.f90: New test case.\n+\n 2010-06-01  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR fortran/44371"}, {"sha": "1fe7b1eacf2d361f4af67a63aa85fa5b400c6a2b", "filename": "gcc/testsuite/gfortran.dg/use_13.f90", "status": "added", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aac18c0250f9a03f725be1f2ee32d87a2d743f09/gcc%2Ftestsuite%2Fgfortran.dg%2Fuse_13.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aac18c0250f9a03f725be1f2ee32d87a2d743f09/gcc%2Ftestsuite%2Fgfortran.dg%2Fuse_13.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fuse_13.f90?ref=aac18c0250f9a03f725be1f2ee32d87a2d743f09", "patch": "@@ -0,0 +1,45 @@\n+! { dg-do run }\n+!\n+! PR fortran/44360\n+!\n+! Test-case based on a contribution of Vittorio Zecca.\n+!\n+! The used subroutine was not the use-associated but the host associated one!\n+! The use-associated function/variable were already working properly.\n+!\n+module m\n+  integer :: var = 43\n+contains\n+ integer function fun()\n+   fun = 42\n+ end function fun\n+ subroutine fun2()\n+   var = 44\n+ end subroutine fun2\n+end module m\n+\n+module m2\n+  integer :: var = -2\n+contains\n+ subroutine test()\n+   ! All procedures/variables below refer to the ones in module \"m\"\n+   ! and not to the siblings in this module \"m2\".\n+   use m \n+   if (fun() /= 42) call abort()\n+   if (var /= 43) call abort()\n+   call fun2()\n+   if (var /= 44) call abort()\n+ end subroutine test\n+ integer function fun()\n+   call abort()\n+   fun = -3\n+ end function fun\n+ subroutine fun2()\n+   call abort()\n+ end subroutine fun2\n+end module m2\n+\n+use m2\n+call test()\n+end\n+! { dg-final { cleanup-modules \"m m2\" } }"}]}