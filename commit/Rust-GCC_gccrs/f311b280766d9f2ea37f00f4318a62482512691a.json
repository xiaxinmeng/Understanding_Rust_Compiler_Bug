{"sha": "f311b280766d9f2ea37f00f4318a62482512691a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjMxMWIyODA3NjZkOWYyZWEzN2YwMGY0MzE4YTYyNDgyNTEyNjkxYQ==", "commit": {"author": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1994-10-19T22:09:20Z"}, "committer": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1994-10-19T22:09:20Z"}, "message": "(NM_FLAGS): Define to \"-h\" (SysV output, no header).\n\n        (COLLECT_QUALIFY_MATCH): Define to ignore all symbols of types other\n        than code.\n        (REAL_NM_FILE_NAME): Define to \"/bin/nm\" to force use of the vendor nm.\n\nFrom-SVN: r8316", "tree": {"sha": "cc422ef182e815fd458910a3edb6fe57c78e81ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cc422ef182e815fd458910a3edb6fe57c78e81ab"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f311b280766d9f2ea37f00f4318a62482512691a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f311b280766d9f2ea37f00f4318a62482512691a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f311b280766d9f2ea37f00f4318a62482512691a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f311b280766d9f2ea37f00f4318a62482512691a/comments", "author": null, "committer": null, "parents": [{"sha": "05ca35c718e8540c9365559e517fb1e4aa5e1b14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/05ca35c718e8540c9365559e517fb1e4aa5e1b14", "html_url": "https://github.com/Rust-GCC/gccrs/commit/05ca35c718e8540c9365559e517fb1e4aa5e1b14"}], "stats": {"total": 25, "additions": 22, "deletions": 3}, "files": [{"sha": "45ea1b279abdada1dab5a2a9cbb6fb1d9f3fa10e", "filename": "gcc/config/pa/pa-hpux.h", "status": "modified", "additions": 22, "deletions": 3, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f311b280766d9f2ea37f00f4318a62482512691a/gcc%2Fconfig%2Fpa%2Fpa-hpux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f311b280766d9f2ea37f00f4318a62482512691a/gcc%2Fconfig%2Fpa%2Fpa-hpux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa-hpux.h?ref=f311b280766d9f2ea37f00f4318a62482512691a", "patch": "@@ -48,6 +48,25 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n    pretend they are `extern \"C\"'.  */\n #define NO_IMPLICIT_EXTERN_C\n \n-/* The HPUX linker duplicates all text symbols when given -E; this confuses\n-   collect2.  */\n-#define COLLECT_SUPPRESS_OPTIONS \"E\"\n+/* We need to use the vendor nm for collect, since GNU nm isn't clever\n+   enough to distinguish between the duplicate symbols used with shared\n+   libraries under HPUX.  */\n+#define REAL_NM_FILE_NAME \"/bin/nm\"\n+\n+/* To the hpux nm, -p means BSD-style output; we don't want that.  */\n+#define NM_FLAGS \"-h\"\n+\n+/* When dealing with shared libraries, the hpux ld can create duplicate\n+   symbols.  The fourth field of nm's output distinguishes between the real\n+   one (type \"code\") and the fake one (type \"entry\").  */\n+#define COLLECT_QUALIFY_MATCH\t\t\\\n+{\t\t\t\t\t\\\n+  char *p = end;\t\t\t\\\n+  int cnt = 0;\t\t\t\t\\\n+  for (; *p != '\\n';)\t\t\t\\\n+    if (*p++ == '|'\t\t\t\\\n+\t&& ++cnt == 3)\t\t\t\\\n+      break;\t\t\t\t\\\n+  if (*p != 'c')\t\t\t\\\n+    continue;\t\t\t\t\\\n+}"}]}