{"sha": "19c5f6e600fdd1e62ab550eec4825c503919f857", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTljNWY2ZTYwMGZkZDFlNjJhYjU1MGVlYzQ4MjVjNTAzOTE5Zjg1Nw==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2013-02-08T18:29:58Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2013-02-08T18:29:58Z"}, "message": "sse.md (FMAMODEM): New mode iterator.\n\n\t* config/i386/sse.md (FMAMODEM): New mode iterator.\n\t(fma<mode>4, fms<mode>4, fnma<mode>4, fnms<mode>4): Use FMAMODEM\n\tmode iterator. Do not use TARGET_SSE_MATH in insn constraint.\n\nFrom-SVN: r195896", "tree": {"sha": "f831f3913e20d32d7dd2347a7a09ad3f421b6436", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f831f3913e20d32d7dd2347a7a09ad3f421b6436"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/19c5f6e600fdd1e62ab550eec4825c503919f857", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19c5f6e600fdd1e62ab550eec4825c503919f857", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19c5f6e600fdd1e62ab550eec4825c503919f857", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19c5f6e600fdd1e62ab550eec4825c503919f857/comments", "author": null, "committer": null, "parents": [{"sha": "2480f2ca8829bf0f7cd0f1856fef39f625f4e4da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2480f2ca8829bf0f7cd0f1856fef39f625f4e4da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2480f2ca8829bf0f7cd0f1856fef39f625f4e4da"}], "stats": {"total": 66, "additions": 38, "deletions": 28}, "files": [{"sha": "8fa59127b466641ddc5bddceb05509edc0f998e0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19c5f6e600fdd1e62ab550eec4825c503919f857/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19c5f6e600fdd1e62ab550eec4825c503919f857/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=19c5f6e600fdd1e62ab550eec4825c503919f857", "patch": "@@ -1,3 +1,9 @@\n+2013-02-08  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* config/i386/sse.md (FMAMODEM): New mode iterator.\n+\t(fma<mode>4, fms<mode>4, fnma<mode>4, fnms<mode>4): Use FMAMODEM\n+\tmode iterator. Do not use TARGET_SSE_MATH in insn constraint.\n+\n 2013-02-08  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/gnu-user.h (TARGET_CAN_SPLIT_STACK): Define only"}, {"sha": "e2bb68ba18f9c581ff5ca192bfcbbb82dd95cb21", "filename": "gcc/config/i386/sse.md", "status": "modified", "additions": 31, "deletions": 27, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19c5f6e600fdd1e62ab550eec4825c503919f857/gcc%2Fconfig%2Fi386%2Fsse.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19c5f6e600fdd1e62ab550eec4825c503919f857/gcc%2Fconfig%2Fi386%2Fsse.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsse.md?ref=19c5f6e600fdd1e62ab550eec4825c503919f857", "patch": "@@ -2037,42 +2037,46 @@\n ;;\n ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n \n-(define_mode_iterator FMAMODE [SF DF V4SF V2DF V8SF V4DF])\n+;; The standard names for scalar FMA are only available with SSE math enabled.\n+(define_mode_iterator FMAMODEM [(SF \"TARGET_SSE_MATH\")\n+\t\t\t\t(DF \"TARGET_SSE_MATH\")\n+\t\t\t\tV4SF V2DF V8SF V4DF])\n \n-;; The standard names for fma is only available with SSE math enabled.\n (define_expand \"fma<mode>4\"\n-  [(set (match_operand:FMAMODE 0 \"register_operand\")\n-\t(fma:FMAMODE\n-\t  (match_operand:FMAMODE 1 \"nonimmediate_operand\")\n-\t  (match_operand:FMAMODE 2 \"nonimmediate_operand\")\n-\t  (match_operand:FMAMODE 3 \"nonimmediate_operand\")))]\n-  \"(TARGET_FMA || TARGET_FMA4) && TARGET_SSE_MATH\")\n+  [(set (match_operand:FMAMODEM 0 \"register_operand\")\n+\t(fma:FMAMODEM\n+\t  (match_operand:FMAMODEM 1 \"nonimmediate_operand\")\n+\t  (match_operand:FMAMODEM 2 \"nonimmediate_operand\")\n+\t  (match_operand:FMAMODEM 3 \"nonimmediate_operand\")))]\n+  \"TARGET_FMA || TARGET_FMA4\")\n \n (define_expand \"fms<mode>4\"\n-  [(set (match_operand:FMAMODE 0 \"register_operand\")\n-\t(fma:FMAMODE\n-\t  (match_operand:FMAMODE 1 \"nonimmediate_operand\")\n-\t  (match_operand:FMAMODE 2 \"nonimmediate_operand\")\n-\t  (neg:FMAMODE (match_operand:FMAMODE 3 \"nonimmediate_operand\"))))]\n-  \"(TARGET_FMA || TARGET_FMA4) && TARGET_SSE_MATH\")\n+  [(set (match_operand:FMAMODEM 0 \"register_operand\")\n+\t(fma:FMAMODEM\n+\t  (match_operand:FMAMODEM 1 \"nonimmediate_operand\")\n+\t  (match_operand:FMAMODEM 2 \"nonimmediate_operand\")\n+\t  (neg:FMAMODEM (match_operand:FMAMODEM 3 \"nonimmediate_operand\"))))]\n+  \"TARGET_FMA || TARGET_FMA4\")\n \n (define_expand \"fnma<mode>4\"\n-  [(set (match_operand:FMAMODE 0 \"register_operand\")\n-\t(fma:FMAMODE\n-\t  (neg:FMAMODE (match_operand:FMAMODE 1 \"nonimmediate_operand\"))\n-\t  (match_operand:FMAMODE 2 \"nonimmediate_operand\")\n-\t  (match_operand:FMAMODE 3 \"nonimmediate_operand\")))]\n-  \"(TARGET_FMA || TARGET_FMA4) && TARGET_SSE_MATH\")\n+  [(set (match_operand:FMAMODEM 0 \"register_operand\")\n+\t(fma:FMAMODEM\n+\t  (neg:FMAMODEM (match_operand:FMAMODEM 1 \"nonimmediate_operand\"))\n+\t  (match_operand:FMAMODEM 2 \"nonimmediate_operand\")\n+\t  (match_operand:FMAMODEM 3 \"nonimmediate_operand\")))]\n+  \"TARGET_FMA || TARGET_FMA4\")\n \n (define_expand \"fnms<mode>4\"\n-  [(set (match_operand:FMAMODE 0 \"register_operand\")\n-\t(fma:FMAMODE\n-\t  (neg:FMAMODE (match_operand:FMAMODE 1 \"nonimmediate_operand\"))\n-\t  (match_operand:FMAMODE 2 \"nonimmediate_operand\")\n-\t  (neg:FMAMODE (match_operand:FMAMODE 3 \"nonimmediate_operand\"))))]\n-  \"(TARGET_FMA || TARGET_FMA4) && TARGET_SSE_MATH\")\n+  [(set (match_operand:FMAMODEM 0 \"register_operand\")\n+\t(fma:FMAMODEM\n+\t  (neg:FMAMODEM (match_operand:FMAMODEM 1 \"nonimmediate_operand\"))\n+\t  (match_operand:FMAMODEM 2 \"nonimmediate_operand\")\n+\t  (neg:FMAMODEM (match_operand:FMAMODEM 3 \"nonimmediate_operand\"))))]\n+  \"TARGET_FMA || TARGET_FMA4\")\n+\n+;; The builtins for intrinsics are not constrained by SSE math enabled.\n+(define_mode_iterator FMAMODE [SF DF V4SF V2DF V8SF V4DF])\n \n-;; The builtin for intrinsics is not constrained by SSE math enabled.\n (define_expand \"fma4i_fmadd_<mode>\"\n   [(set (match_operand:FMAMODE 0 \"register_operand\")\n \t(fma:FMAMODE"}, {"sha": "be17827348c2055eb2653980df47fbca86ddc26c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19c5f6e600fdd1e62ab550eec4825c503919f857/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19c5f6e600fdd1e62ab550eec4825c503919f857/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=19c5f6e600fdd1e62ab550eec4825c503919f857", "patch": "@@ -1,4 +1,4 @@\n-2013-02-08  Edgar E. Iglesias <edgar.iglesias@gmail.com>\n+2013-02-08  Edgar E. Iglesias  <edgar.iglesias@gmail.com>\n \n \t* 20101011-1.c: Add __MICROBLAZE__ exception to set DO_TEST 0\n "}]}