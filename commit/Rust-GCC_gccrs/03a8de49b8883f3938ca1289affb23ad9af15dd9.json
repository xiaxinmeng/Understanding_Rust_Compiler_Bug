{"sha": "03a8de49b8883f3938ca1289affb23ad9af15dd9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDNhOGRlNDliODg4M2YzOTM4Y2ExMjg5YWZmYjIzYWQ5YWYxNWRkOQ==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@TechFak.Uni-Bielefeld.DE", "date": "2001-07-16T17:12:14Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2001-07-16T17:12:14Z"}, "message": "sysv.S: Avoid gas-only .balign directive.\n\n\t* src/x86/sysv.S: Avoid gas-only .balign directive.\n\tUse C style comments.\n\nFrom-SVN: r44046", "tree": {"sha": "2d7f223e497c4265edc61215d1d751dd6f048572", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2d7f223e497c4265edc61215d1d751dd6f048572"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/03a8de49b8883f3938ca1289affb23ad9af15dd9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03a8de49b8883f3938ca1289affb23ad9af15dd9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03a8de49b8883f3938ca1289affb23ad9af15dd9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03a8de49b8883f3938ca1289affb23ad9af15dd9/comments", "author": null, "committer": null, "parents": [{"sha": "92a0e6c6c8eaff9d238717c8c64dec84a6517a16", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92a0e6c6c8eaff9d238717c8c64dec84a6517a16", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92a0e6c6c8eaff9d238717c8c64dec84a6517a16"}], "stats": {"total": 38, "additions": 21, "deletions": 17}, "files": [{"sha": "512b822455d1bd0d96364f51aa319a4aa1279ef6", "filename": "libffi/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03a8de49b8883f3938ca1289affb23ad9af15dd9/libffi%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03a8de49b8883f3938ca1289affb23ad9af15dd9/libffi%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FChangeLog?ref=03a8de49b8883f3938ca1289affb23ad9af15dd9", "patch": "@@ -1,3 +1,8 @@\n+2001-07-16  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n+\n+\t* src/x86/sysv.S: Avoid gas-only .balign directive.\n+\tUse C style comments.\n+\n 2001-07-16  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \n \t* src/alpha/ffi.c (ffi_prep_closure): Avoid gas-only mnemonic."}, {"sha": "32eb633b44384b8d7bdbfc15bce24cf5f15b09f8", "filename": "libffi/src/x86/sysv.S", "status": "modified", "additions": 16, "deletions": 17, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03a8de49b8883f3938ca1289affb23ad9af15dd9/libffi%2Fsrc%2Fx86%2Fsysv.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03a8de49b8883f3938ca1289affb23ad9af15dd9/libffi%2Fsrc%2Fx86%2Fsysv.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fsrc%2Fx86%2Fsysv.S?ref=03a8de49b8883f3938ca1289affb23ad9af15dd9", "patch": "@@ -1,5 +1,5 @@\n /* -----------------------------------------------------------------------\n-   sysv.S - Copyright (c) 1996, 1998  Cygnus Solutions\n+   sysv.S - Copyright (c) 1996, 1998, 2001  Cygnus Solutions\n    \n    X86 Foreign Function Interface \n \n@@ -30,8 +30,7 @@\n \n .globl ffi_prep_args\n \n-\t# This assumes we are using gas.\n-        .balign 16\n+\t.align 4\n .globl ffi_call_SYSV\n         .type    ffi_call_SYSV,@function\n \n@@ -41,35 +40,35 @@ ffi_call_SYSV:\n .LCFI0:\n         movl  %esp,%ebp\n .LCFI1:\n-\t# Make room for all of the new args.\n+\t/* Make room for all of the new args.  */\n \tmovl  16(%ebp),%ecx\n \tsubl  %ecx,%esp\n \n \tmovl  %esp,%eax\n \n-\t# Place all of the ffi_prep_args in position\n+\t/* Place all of the ffi_prep_args in position  */\n \tpushl 12(%ebp)\n \tpushl %eax\n \tcall  *8(%ebp)\n \n-\t# Return stack to previous state and call the function\n+\t/* Return stack to previous state and call the function  */\n \taddl  $8,%esp\t\n \n \tcall  *28(%ebp)\n \n-\t# Remove the space we pushed for the args\n+\t/* Remove the space we pushed for the args  */\n \tmovl  16(%ebp),%ecx\n \taddl  %ecx,%esp\n \n-\t# Load %ecx with the return type code \n+\t/* Load %ecx with the return type code  */\n \tmovl  20(%ebp),%ecx\t\n \n-\t# If the return value pointer is NULL, assume no return value.\n+\t/* If the return value pointer is NULL, assume no return value.  */\n \tcmpl  $0,24(%ebp)\n \tjne   retint\n \n-\t# Even if there is no space for the return value, we are \n-\t# obliged to handle floating-point values.\n+\t/* Even if there is no space for the return value, we are \n+\t   obliged to handle floating-point values.  */\n \tcmpl  $FFI_TYPE_FLOAT,%ecx\n \tjne   noretval\n \tfstp  %st(0)\n@@ -79,45 +78,45 @@ ffi_call_SYSV:\n retint:\n \tcmpl  $FFI_TYPE_INT,%ecx\n \tjne   retfloat\n-\t# Load %ecx with the pointer to storage for the return value\n+\t/* Load %ecx with the pointer to storage for the return value  */\n \tmovl  24(%ebp),%ecx\t\n \tmovl  %eax,0(%ecx)\n \tjmp   epilogue\n \n retfloat:\n \tcmpl  $FFI_TYPE_FLOAT,%ecx\n \tjne   retdouble\n-\t# Load %ecx with the pointer to storage for the return value\n+\t/* Load %ecx with the pointer to storage for the return value  */\n \tmovl  24(%ebp),%ecx\t\n \tfstps (%ecx)\n \tjmp   epilogue\n \n retdouble:\n \tcmpl  $FFI_TYPE_DOUBLE,%ecx\n \tjne   retlongdouble\n-\t# Load %ecx with the pointer to storage for the return value\n+\t/* Load %ecx with the pointer to storage for the return value  */\n \tmovl  24(%ebp),%ecx\t\n \tfstpl (%ecx)\n \tjmp   epilogue\n \n retlongdouble:\n \tcmpl  $FFI_TYPE_LONGDOUBLE,%ecx\n \tjne   retint64\n-\t# Load %ecx with the pointer to storage for the return value\n+\t/* Load %ecx with the pointer to storage for the return value  */\n \tmovl  24(%ebp),%ecx\t\n \tfstpt (%ecx)\n \tjmp   epilogue\n \t\n retint64:\t\n \tcmpl  $FFI_TYPE_SINT64,%ecx\n         jne   retstruct\n-\t# Load %ecx with the pointer to storage for the return value\n+\t/* Load %ecx with the pointer to storage for the return value  */\n \tmovl  24(%ebp),%ecx\t\n \tmovl  %eax,0(%ecx)\n \tmovl  %edx,4(%ecx)\n \t\n retstruct:\n-\t# Nothing to do!\n+\t/* Nothing to do!  */\n \n noretval:\n epilogue:"}]}