{"sha": "6af2585d5c9880f8a3925e2f3fb4b0713b0647db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmFmMjU4NWQ1Yzk4ODBmOGEzOTI1ZTJmM2ZiNGIwNzEzYjA2NDdkYg==", "commit": {"author": {"name": "Hale Wang", "email": "hale.wang@arm.com", "date": "2015-01-14T11:15:30Z"}, "committer": {"name": "Hale Wang", "email": "halewang@gcc.gnu.org", "date": "2015-01-14T11:15:30Z"}, "message": "arm.c: Tune the max_cond_insns/branch_cost for Cortex-M7.\n\n\t2015-01-14  Hale Wang  <hale.wang@arm.com>\n\n\t* config/arm/arm.c: Tune the max_cond_insns/branch_cost for\n\t\tCortex-M7.\n\nFrom-SVN: r219589", "tree": {"sha": "8e9ec972b692865564da731c343aa6ac55474e3a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8e9ec972b692865564da731c343aa6ac55474e3a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6af2585d5c9880f8a3925e2f3fb4b0713b0647db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6af2585d5c9880f8a3925e2f3fb4b0713b0647db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6af2585d5c9880f8a3925e2f3fb4b0713b0647db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6af2585d5c9880f8a3925e2f3fb4b0713b0647db/comments", "author": null, "committer": null, "parents": [{"sha": "683750ce0915e3703cf50d21c3150ed947b57617", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/683750ce0915e3703cf50d21c3150ed947b57617", "html_url": "https://github.com/Rust-GCC/gccrs/commit/683750ce0915e3703cf50d21c3150ed947b57617"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "96ef507517b6f4efb34e02661574557f60330694", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6af2585d5c9880f8a3925e2f3fb4b0713b0647db/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6af2585d5c9880f8a3925e2f3fb4b0713b0647db/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6af2585d5c9880f8a3925e2f3fb4b0713b0647db", "patch": "@@ -1,3 +1,8 @@\n+2015-01-14  Hale Wang  <hale.wang@arm.com>\n+\n+\t* config/arm/arm.c: Tune the max_cond_insns/branch_cost for\n+\tCortex-M7.\n+\n 2015-01-14  Richard Biener  <rguenther@suse.de>\n \n \tPR lto/64415"}, {"sha": "1a1901179122beba8c2b986e248dc98348e7c437", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6af2585d5c9880f8a3925e2f3fb4b0713b0647db/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6af2585d5c9880f8a3925e2f3fb4b0713b0647db/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=6af2585d5c9880f8a3925e2f3fb4b0713b0647db", "patch": "@@ -294,6 +294,7 @@ static unsigned int arm_autovectorize_vector_sizes (void);\n static int arm_default_branch_cost (bool, bool);\n static int arm_cortex_a5_branch_cost (bool, bool);\n static int arm_cortex_m_branch_cost (bool, bool);\n+static int arm_cortex_m7_branch_cost (bool, bool);\n \n static bool arm_vectorize_vec_perm_const_ok (machine_mode vmode,\n \t\t\t\t\t     const unsigned char *sel);\n@@ -2001,10 +2002,10 @@ const struct tune_params arm_cortex_m7_tune =\n   &v7m_extra_costs,\n   NULL,\t\t\t\t\t\t/* Sched adj cost.  */\n   0,\t\t\t\t\t\t/* Constant limit.  */\n-  0,\t\t\t\t\t\t/* Max cond insns.  */\n+  1,\t\t\t\t\t\t/* Max cond insns.  */\n   ARM_PREFETCH_NOT_BENEFICIAL,\n   true,\t\t\t\t\t\t/* Prefer constant pool.  */\n-  arm_cortex_m_branch_cost,\n+  arm_cortex_m7_branch_cost,\n   false,\t\t\t\t\t/* Prefer LDRD/STRD.  */\n   {true, true},\t\t\t\t\t/* Prefer non short circuit.  */\n   &arm_default_vec_cost,                        /* Vectorizer costs.  */\n@@ -12052,6 +12053,12 @@ arm_cortex_m_branch_cost (bool speed_p, bool predictable_p)\n          : arm_default_branch_cost (speed_p, predictable_p);\n }\n \n+static int\n+arm_cortex_m7_branch_cost (bool speed_p, bool predictable_p)\n+{\n+  return speed_p ? 0 : arm_default_branch_cost (speed_p, predictable_p);\n+}\n+\n static bool fp_consts_inited = false;\n \n static REAL_VALUE_TYPE value_fp0;"}]}