{"sha": "e490616e338de38ffb90494e9d2091b65ea43eed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTQ5MDYxNmUzMzhkZTM4ZmZiOTA0OTRlOWQyMDkxYjY1ZWE0M2VlZA==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2001-11-28T01:37:24Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2001-11-28T01:37:24Z"}, "message": "top level:\n\n2001-11-27  DJ Delorie <dj@redhat.com>\n\t    Zack Weinberg  <zack@codesourcery.com>\n\n\tWhen build != host, create libiberty for the build machine.\n\n\t* Makefile.in (TARGET_CONFIGARGS, BUILD_CONFIGARGS): Replace\n\tCONFIG_ARGUMENTS.\n\t(ALL_BUILD_MODULES_LIST, BUILD_CONFIGDIRS, BUILD_SUBDIR):\n\tNew variables.\n\t(ALL_BUILD_MODULES, CONFIGURE_BUILD_MODULES): New variables\n\tand rules.\n\t(all.normal): Depend on ALL_BUILD_MODULES.\n\t(CONFIGURE_TARGET_MODULES rule): Use TARGET_CONFIGARGS.\n\t(all-build-libiberty): Depend on configure-build-libiberty.\n\n\t* configure: Calculate and substitute proper value for\n\tALL_BUILD_MODULES.\n\t* configure.in: Create the build subdirectory.\n\tCalculate and substitute TARGET_CONFIGARGS (formerly\n\tCONFIG_ARGUMENTS); also BUILD_SUBDIR and BUILD_CONFIGARGS (new).\n\nlibiberty:\n2001-11-27  Zack Weinberg  <zack@codesourcery.com>\n\n\t* _doprnt.c: Moved here from gcc/doprint.c.  Adjust to build\n\tin libiberty context.  Fix typo in leading comment.\n\t* configure.in: Fix various AC_DEFINEs so autoheader works.\n\tIf any of vprintf, vsprintf, vfprintf is missing from libc,\n\tthen AC_REPLACE_FUNCS(_doprnt).\n\nFrom-SVN: r47393", "tree": {"sha": "e1dc68a1dd3eda602d655c2a861ed8f415a0163c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e1dc68a1dd3eda602d655c2a861ed8f415a0163c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e490616e338de38ffb90494e9d2091b65ea43eed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e490616e338de38ffb90494e9d2091b65ea43eed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e490616e338de38ffb90494e9d2091b65ea43eed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e490616e338de38ffb90494e9d2091b65ea43eed/comments", "author": null, "committer": null, "parents": [{"sha": "215e11524b766abfb266cbce99be3a5a175a4c4e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/215e11524b766abfb266cbce99be3a5a175a4c4e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/215e11524b766abfb266cbce99be3a5a175a4c4e"}], "stats": {"total": 801, "additions": 671, "deletions": 130}, "files": [{"sha": "67811f26ae3f30af1166a62b449270cb73188890", "filename": "ChangeLog", "status": "modified", "additions": 96, "deletions": 75, "changes": 171, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e490616e338de38ffb90494e9d2091b65ea43eed/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e490616e338de38ffb90494e9d2091b65ea43eed/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=e490616e338de38ffb90494e9d2091b65ea43eed", "patch": "@@ -1,3 +1,24 @@\n+2001-11-27  DJ Delorie <dj@redhat.com>\n+\t    Zack Weinberg  <zack@codesourcery.com>\n+\n+\tWhen build != host, create libiberty for the build machine.\n+\n+\t* Makefile.in (TARGET_CONFIGARGS, BUILD_CONFIGARGS): Replace\n+\tCONFIG_ARGUMENTS.\n+\t(ALL_BUILD_MODULES_LIST, BUILD_CONFIGDIRS, BUILD_SUBDIR):\n+\tNew variables.\n+\t(ALL_BUILD_MODULES, CONFIGURE_BUILD_MODULES): New variables\n+\tand rules.\n+\t(all.normal): Depend on ALL_BUILD_MODULES.\n+\t(CONFIGURE_TARGET_MODULES rule): Use TARGET_CONFIGARGS.\n+\t(all-build-libiberty): Depend on configure-build-libiberty.\n+\n+\t* configure: Calculate and substitute proper value for\n+\tALL_BUILD_MODULES.\n+\t* configure.in: Create the build subdirectory.\n+\tCalculate and substitute TARGET_CONFIGARGS (formerly\n+\tCONFIG_ARGUMENTS); also BUILD_SUBDIR and BUILD_CONFIGARGS (new).\n+\n 2001-11-26  Ziemowit Laski  <zlaski@apple.com>\n \n \t* MAINTAINERS (write-after-approval): Add self.\n@@ -83,7 +104,7 @@ Thu Oct 11 21:50:15 2001  J\"orn Rennecke <amylaar@onetel.net.uk>\n \n 2001-10-10  Geert Bosch  <bosch@gnat.com>\n \n-\t* MAINTAINERS (Various maintainers: Ada front end): \n+\t* MAINTAINERS (Various maintainers: Ada front end):\n \tAdded Robert Dewar.\n \n 2001-10-03  David Billinghurst <David.Billinghurst@riotinto.com>\n@@ -106,7 +127,7 @@ Thu Oct 11 21:50:15 2001  J\"orn Rennecke <amylaar@onetel.net.uk>\n \n \t* configure.in (*-*-linux*): Disable configuration of target-newlib\n \tand target-libgloss.\n-\t\n+\n 2001-09-26  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* Makefile.in (EXTRA_TARGET_FLAGS): Pass RANLIB_FOR_TARGET for\n@@ -173,7 +194,7 @@ Mon Jul 30 19:24:13 CEST 2001  Jan Hubicka  <jh@suse.cz>\n \n 2001-07-25  Andrew Haley  <aph@cambridge.redhat.com>\n \n-        * configure.in (sh-*-linux*): New.\n+\t* configure.in (sh-*-linux*): New.\n \n 2001-07-27  Richard Henderson  <rth@redhat.com>\n \n@@ -185,7 +206,7 @@ Mon Jul 30 19:24:13 CEST 2001  Jan Hubicka  <jh@suse.cz>\n \n 2001-07-16  Aldy Hernandez  <aldyh@redhat.com>\n \n-        * config.sub: Fix mips64vr5000el typo in CPU-COMPANY.\n+\t* config.sub: Fix mips64vr5000el typo in CPU-COMPANY.\n \n Fri Jul 13 14:31:57 2001  Nicola Pero  <nicola@brainstorm.co.uk>\n \n@@ -381,8 +402,8 @@ Mon Apr 23 09:15:03 2001  Anthony Green  <green@redhat.com>\n \n 2001-04-05  Alexandre Oliva  <aoliva@redhat.com>\n \n-        * config.sub: Make sure to match an already-canonicalized\n-        machine name (eg. mn10300-unknown-elf).\n+\t* config.sub: Make sure to match an already-canonicalized\n+\tmachine name (eg. mn10300-unknown-elf).\n \n 2001-04-01  Alexandre Oliva  <aoliva@redhat.com>\n \n@@ -472,7 +493,7 @@ Mon Apr 23 09:15:03 2001  Anthony Green  <green@redhat.com>\n \tEXTRA_GCC_FLAGS, $(DO_X) targets only when the RANLIB is set.\n \n 2001-02-28  Benjamin Kosnik  <bkoz@redhat.com>\n-            Alexandre Oliva  <aoliva@redhat.com>\n+\t    Alexandre Oliva  <aoliva@redhat.com>\n \n \t* Makefile.in (check-c++): Use tabs, not spaces.\n \n@@ -482,7 +503,7 @@ Mon Apr 23 09:15:03 2001  Anthony Green  <green@redhat.com>\n \n 2001-02-19  Benjamin Kosnik  <bkoz@redhat.com>\n \n-        * Makefile.in (check-c++): New rule.\n+\t* Makefile.in (check-c++): New rule.\n \n \t* configure.in (target_libs): Remove libg++.\n \t(noconfigdirs): Remove libg++.\n@@ -531,7 +552,7 @@ Mon Apr 23 09:15:03 2001  Anthony Green  <green@redhat.com>\n 2001-02-08  Chandrakala Chavva <cchavva@redhat.com>\n \n \t* configure.in: for *-chorusos, don't config target-newlib and\n-        target-libgloss.\n+\ttarget-libgloss.\n \n 2001-02-06  Ben Elliston  <bje@redhat.com>\n \n@@ -761,11 +782,11 @@ Mon Apr 23 09:15:03 2001  Anthony Green  <green@redhat.com>\n \n 2000-11-22  Loren J. Rittle  <ljrittle@acm.org>\n \n-        * ltcf-cxx.sh: Support creation of C++ shared libraries on\n-        recent versions of FreeBSD (release 3 or later).\n-        * ltconfig: On FreeBSD, -lc must not be provided when building\n-        a shared library or else the standard -pthread gcc option is\n-        rendered worthless to later users of the built library.\n+\t* ltcf-cxx.sh: Support creation of C++ shared libraries on\n+\trecent versions of FreeBSD (release 3 or later).\n+\t* ltconfig: On FreeBSD, -lc must not be provided when building\n+\ta shared library or else the standard -pthread gcc option is\n+\trendered worthless to later users of the built library.\n \n 2000-11-16  Fred Fish  <fnf@be.com>\n \n@@ -900,8 +921,8 @@ Sun Sep 17 16:55:59 CEST 2000\tMarc Espie <espie@cvs.openbsd.org>\n \n Wed Sep 13 11:11:29 2000  Jeffrey A Law  (law@cygnus.com)\n \n-        * configure.in: Do not build byacc for hppa64.  Provide paths to the\n-        X11 libraries for hppa64.\n+\t* configure.in: Do not build byacc for hppa64.  Provide paths to the\n+\tX11 libraries for hppa64.\n \n 2000-09-08  Stephane Carrez  <Stephane.Carrez@worldnet.fr>\n \n@@ -1127,7 +1148,7 @@ Wed Sep 13 11:11:29 2000  Jeffrey A Law  (law@cygnus.com)\n \n 2000-07-01  Koundinya K  <kk@ddeorg.soft.net>\n \n-        * ltconfig: Add support for mips-dde-sysv4.2MP\n+\t* ltconfig: Add support for mips-dde-sysv4.2MP\n \n 2000-06-29  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>\n \n@@ -1159,12 +1180,12 @@ Mon May 29 21:15:00 MET 2000  Philipp Thomas  <pthomas@suse.de>\n \n 20000-05-21  H.J. Lu  (hjl@gnu.org)\n \n-        * Makefile.in (CC_FOR_TARGET): Make sure as/ld in the gcc\n-        directory are used if they exist. Make sure\n-        $(build_tooldir)/include is searched for header files,\n-        $(build_tooldir)/lib/ for library files.\n+\t* Makefile.in (CC_FOR_TARGET): Make sure as/ld in the gcc\n+\tdirectory are used if they exist. Make sure\n+\t$(build_tooldir)/include is searched for header files,\n+\t$(build_tooldir)/lib/ for library files.\n \t(GCC_FOR_TARGET): Likewise.\n-        (CXX_FOR_TARGET): Likewise.\n+\t(CXX_FOR_TARGET): Likewise.\n \n Thu May 18 10:58:13 2000  Jeffrey A Law  (law@cygnus.com)\n \n@@ -1216,7 +1237,7 @@ Wed May 10 21:26:51 2000  Jim Wilson  <wilson@cygnus.com>\n 2000-05-08  Eli Zaretskii  <eliz@is.elta.co.il>\n \n \t* djunpack.bat: Change the Sed script to replace @V@ in fnchange.lst\n-        with the version name.\n+\twith the version name.\n \n Sat May  6 21:12:55 CDT 2000  Jason Eckhardt  <jle@cygnus.com>\n \n@@ -1239,8 +1260,8 @@ Wed Apr 19 12:46:26 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n \n 2000-04-16  Dave Pitts  <dpitts@cozx.com>\n \n-        * config.sub (case $basic_machine): Change default for \"ibm-*\"\n-        to \"openedition\".\n+\t* config.sub (case $basic_machine): Change default for \"ibm-*\"\n+\tto \"openedition\".\n \n 2000-04-13  Andreas Jaeger  <aj@suse.de>\n \n@@ -1269,13 +1290,13 @@ Thu Apr  6 16:15:14 2000  Philippe De Muyter  <phdm@macqel.be>\n \t* MAINTAINERS: Added myself.\n \n 2000-04-05  Benjamin Kosnik  <bkoz@cygnus.com>\n-            Martin v. Loewis  <martin@loewis.home.cs.tu-berlin.de>\n+\t    Martin v. Loewis  <martin@loewis.home.cs.tu-berlin.de>\n \n-        * configure.in (enable_libstdcxx_v3): Add.\n-        (target_libs): Add bits here to switch between libstdc++-v2 and\n-        libstdc++-v3.\n-        * config.if: And this file too.\n-        * Makefile.in: Add libstdc++-v3 targets.\n+\t* configure.in (enable_libstdcxx_v3): Add.\n+\t(target_libs): Add bits here to switch between libstdc++-v2 and\n+\tlibstdc++-v3.\n+\t* config.if: And this file too.\n+\t* Makefile.in: Add libstdc++-v3 targets.\n \n 2000-04-05  Michael Meissner  <meissner@redhat.com>\n \n@@ -1497,15 +1518,15 @@ Tue Jun 22 23:45:18 1999  Tom Tromey  <tromey@cygnus.com>\n \t(configure-target-boehm-gc): New target.\n \t(configure-target-qthreads): New target.\n \n-        * configure.in (target_libs): Added target-qthreads.\n-        * Makefile.in (ALL_TARGET_MODULES): Added qthreads.\n-        (CONFIGURE_TARGET_MODULES): Likewise.\n-        (CHECK_TARGET_MODULES): Likewise.\n-        (INSTALL_TARGET_MODULES): Likewise.\n-        (CLEAN_TARGET_MODULES): Likewise.\n-        (all-target-qthreads): New target.\n-        (configure-target-libjava): Depend on configure-target-qthreads.\n-        (all-target-libjava): Depend on all-target-qthreads.\n+\t* configure.in (target_libs): Added target-qthreads.\n+\t* Makefile.in (ALL_TARGET_MODULES): Added qthreads.\n+\t(CONFIGURE_TARGET_MODULES): Likewise.\n+\t(CHECK_TARGET_MODULES): Likewise.\n+\t(INSTALL_TARGET_MODULES): Likewise.\n+\t(CLEAN_TARGET_MODULES): Likewise.\n+\t(all-target-qthreads): New target.\n+\t(configure-target-libjava): Depend on configure-target-qthreads.\n+\t(all-target-libjava): Depend on all-target-qthreads.\n \n \t* Makefile.in (ALL_TARGET_MODULES): Added libjava, boehm-gc.\n \t(CONFIGURE_TARGET_MODULES): Likewise.\n@@ -1593,7 +1614,7 @@ Thu May 20 10:00:42 1999   Stephen L Moshier  <moshier@world.std.com>\n \tBad merge removed these two changes.\n \n Tue Apr 13 22:50:54 1999  Donn Terry (donn@interix.com)\n-                          Martin Heller (Ing.-Buero_Heller@t-online.de)\n+\t\t\t  Martin Heller (Ing.-Buero_Heller@t-online.de)\n \n \t* config.guess (interix Alpha): Add.\n \n@@ -1650,7 +1671,7 @@ Fri Apr  2 15:11:32 1999  H.J. Lu  (hjl@gnu.org)\n \n 1999-03-21  Ben Elliston  <bje@cygnus.com>\n \n-        * config.guess: Correct typo for detecting ELF on FreeBSD.\n+\t* config.guess: Correct typo for detecting ELF on FreeBSD.\n \n Thu Mar 18 00:17:50 1999  Mark Elbrecht <snowball3@usa.net>\n \n@@ -1760,8 +1781,8 @@ Tue Feb  2 19:46:40 1999  Jim Wilson  <wilson@cygnus.com>\n \n Tue Feb  2 20:05:05 1999  Catherine Moore  <clm@cygnus.com>\n \n-        * config.sub (oabi):  Recognize.\n-        * configure.in (arm-*-oabi):  Handle.\n+\t* config.sub (oabi):  Recognize.\n+\t* configure.in (arm-*-oabi):  Handle.\n \n Sat Jan 30 06:09:00 1999  Robert Lipe  (robertlipe@usa.net)\n \n@@ -1849,8 +1870,8 @@ Wed Nov 18 20:13:29 1998  Christopher Faylor <cgf@cygnus.com>\n \n Tue Nov 17 16:57:51 1998  Geoffrey Noer  <noer@cygnus.com>\n \n-        * Makefile.in: modify CC_FOR_TARGET and CXX_FOR_TARGET so that\n-        they include winsup/include when it's a cygwin target.\n+\t* Makefile.in: modify CC_FOR_TARGET and CXX_FOR_TARGET so that\n+\tthey include winsup/include when it's a cygwin target.\n \n 1998-11-12  Tom Tromey  <tromey@cygnus.com>\n \n@@ -1876,7 +1897,7 @@ Wed Nov  4 18:49:43 1998  Dave Brolley  <brolley@cygnus.com>\n \n Mon Nov  2 15:19:33 1998  Geoffrey Noer  <noer@cygnus.com>\n \n-        * configure.in: drop \"32\" from config/mh-cygwin32.  Check\n+\t* configure.in: drop \"32\" from config/mh-cygwin32.  Check\n \tcygwin* instead of cygwin32*.\n \t* config.sub: Check cygwin* instead of cygwin32*.\n \n@@ -2482,7 +2503,7 @@ Fri Mar  6 00:14:55 1998  Franz Sirl <Franz.Sirl-kernel@lauterbach.com>\n \n Mon Feb 23 15:09:18 1998  Bruno Haible <bruno@linuix.mathematik.uni-karlsruhe.de\n \n-        * config.sub (sco5): Fix typo.\n+\t* config.sub (sco5): Fix typo.\n \n Mon Feb 23 14:46:06 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n@@ -2794,10 +2815,10 @@ Sat Nov  8 14:42:59 1997  Michael Meissner  <meissner@cygnus.com>\n \n Fri Nov  7 10:34:09 1997  Rob Savoye  <rob@darkstar.cygnus.com>\n \n-        * include/libiberty.h: Add extern \"C\" { so it can be used with C++\n-        progrms.\n-        * include/remote-sim.h:  Add extern \"C\" { so it can be used with C++\n-        programs.\n+\t* include/libiberty.h: Add extern \"C\" { so it can be used with C++\n+\tprogrms.\n+\t* include/remote-sim.h:  Add extern \"C\" { so it can be used with C++\n+\tprograms.\n \n Thu Oct 30 11:09:29 1997  Michael Meissner  <meissner@cygnus.com>\n \n@@ -2921,7 +2942,7 @@ Sun Sep  7 15:55:28 1997  Gavin Koch  <gavin@cygnus.com>\n \n Fri Sep  5 16:11:28 1997  Joel Sherrill  (joel@OARcorp.com)\n \n-        * configure.in (*-*-rtems*): Do not build libgloss for rtems.\n+\t* configure.in (*-*-rtems*): Do not build libgloss for rtems.\n \n Fri Sep  5 12:27:17 1997  Jeffrey A Law  (law@cygnus.com)\n \n@@ -2989,7 +3010,7 @@ Thu Aug 14 14:42:17 1997  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* configure: When handling a Canadian Cross, handle YACC as well as\n \tBISON.  Just set BISON to bison.  When setting YACC, prefer bison.\n-        * Makefile.in (all-bison): Depend upon all-texinfo.\n+\t* Makefile.in (all-bison): Depend upon all-texinfo.\n \n Tue Aug 12 20:09:48 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n@@ -3322,7 +3343,7 @@ Tue Apr  1 16:28:50 1997  Klaus Kaempf  <kkaempf@progis.de>\n \n Mon Mar 31 16:26:55 1997  Joel Sherrill  <joel@oarcorp.com>\n \n-        * configure.in (hppa1.1-*-rtems*): New target, like hppa-*-*elf*.\n+\t* configure.in (hppa1.1-*-rtems*): New target, like hppa-*-*elf*.\n \n Sun Mar 30 12:38:27 1997  Fred Fish  <fnf@cygnus.com>\n \n@@ -3674,11 +3695,11 @@ Wed Oct  9 17:24:59 1996  Per Bothner  <bothner@deneb.cygnus.com>\n \t* config.guess:  Merge from FSF.\n \n \t1996-09-12  Richard Stallman  <rms@ethanol.gnu.ai.mit.edu>\n-        * config.guess: Use pc instead of unknown, for pc clone systems.\n-        Change linux to linux-gnu.\n+\t* config.guess: Use pc instead of unknown, for pc clone systems.\n+\tChange linux to linux-gnu.\n \n \tMon Jul 15 23:51:11 1996  Karl Heuer  <kwzh@gnu.ai.mit.edu>\n-        * config.guess: Avoid non-portable tr syntax.\n+\t* config.guess: Avoid non-portable tr syntax.\n \n Wed Oct  9 06:06:46 1996  Jeffrey A Law  (law@cygnus.com)\n \n@@ -3952,9 +3973,9 @@ Mon Jun 24 15:01:12 1996  Joel Sherrill  <joel@merlin.gcs.redstone.army.mil>\n \n Sun Jun 23 22:41:54 1996  Geoffrey Noer  <noer@cygnus.com>\n \n-        * configure.in: enable dosrel for cygwin32-hosted builds,\n-                remove diff from the list of things not buildable\n-                via Canadian Cross\n+\t* configure.in: enable dosrel for cygwin32-hosted builds,\n+\t\tremove diff from the list of things not buildable\n+\t\tvia Canadian Cross\n \n Sat Jun 22 11:39:01 1996  Jason Merrill  <jason@yorick.cygnus.com>\n \n@@ -4156,8 +4177,8 @@ Thu Mar 28 14:11:11 1996  Tom Tromey  <tromey@creche.cygnus.com>\n \n Tue Mar 26 21:18:50 1996  Andrew Cagney  <cagney@kremvax.highland.com.au>\n \n-        * configure (--enable-*): Handle quoted option lists such as\n-        --enable-sim-cflags='-g0 -O' better.\n+\t* configure (--enable-*): Handle quoted option lists such as\n+\t--enable-sim-cflags='-g0 -O' better.\n \n Thu Mar 21 11:53:08 1996  Michael Meissner  <meissner@tiktok.cygnus.com>\n \n@@ -5158,7 +5179,7 @@ Fri Apr 14 15:21:17 1995  Doug Evans  <dje@chestnut.cygnus.com>\n Wed Apr 12 16:06:01 1995  Jason Merrill  <jason@phydeaux.cygnus.com>\n \n \t* test-build.mk: Enable building of shared libraries on IRIX 5 and\n-        OSF/1.  Fix compiler flags.\n+\tOSF/1.  Fix compiler flags.\n \t* build-all.mk: Support Linux and OSF/1 3.0.  Fix compiler flags.\n \n Tue Apr 11 18:55:40 1995  Doug Evans  <dje@canuck.cygnus.com>\n@@ -5592,21 +5613,21 @@ Fri Aug 26 13:05:27 1994  Per Bothner  (bothner@kalessin.cygnus.com)\n \tThu Aug 25 20:28:51 1994  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n \n \t* config.guess (Pyramid*:OSx*:*:*): New case.\n-        (PATH): Add /.attbin at end for finding uname.\n-        (dummy.c): Handle i860-alliant-bsd.  Follow whitespace conventions.\n+\t(PATH): Add /.attbin at end for finding uname.\n+\t(dummy.c): Handle i860-alliant-bsd.  Follow whitespace conventions.\n \n \tWed Aug 17 18:21:02 1994  Tor Egge  (tegge@pvv.unit.no)\n \n-        * config.guess (M88*:DolphinOS:*:*): New case.\n+\t* config.guess (M88*:DolphinOS:*:*): New case.\n \n \tThu Aug 11 17:00:13 1994  Stan Cox  (coxs@dg-rtp.dg.com)\n \n-        * config.guess (AViiON:dgux:*:*): Use TARGET_BINARY_INTERFACE\n-        to select whether to use ELF or COFF.\n+\t* config.guess (AViiON:dgux:*:*): Use TARGET_BINARY_INTERFACE\n+\tto select whether to use ELF or COFF.\n \n \tSun Jul 24 16:20:53 1994  Richard Stallman  <rms@mole.gnu.ai.mit.edu>\n \n-        * config.guess: Recognize i860-stardent-sysv and i860-unknown-sysv.\n+\t* config.guess: Recognize i860-stardent-sysv and i860-unknown-sysv.\n \n \tSun May  1 10:23:10 1994  Richard Stallman  (rms@mole.gnu.ai.mit.edu)\n \n@@ -5945,7 +5966,7 @@ Thu Apr 14 23:33:17 1994  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)\n Wed Apr 13 15:14:52 1994  Bill Cox  (bill@cygnus.com)\n \n \t* configure: Make file links cleanly even if Lynx fails on\n-          an NFS symlink (at least fail cleanly).\n+\t  an NFS symlink (at least fail cleanly).\n \n Mon Apr 11 10:58:56 1994  Jim Wilson  (wilson@sphagnum.cygnus.com)\n \n@@ -6098,7 +6119,7 @@ Sat Feb  5 01:00:33 1994  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)\n \n Wed Feb  2 13:57:57 1994  Jeffrey A. Law  (law@snake.cs.utah.edu)\n \n-        * Makefile.in:  Avoid bug in losing hpux sed.\n+\t* Makefile.in:  Avoid bug in losing hpux sed.\n \n Wed Feb  2 14:53:05 1994  Jim Kingdon  (kingdon@lioth.cygnus.com)\n \n@@ -7533,8 +7554,8 @@ Thu Oct 29 00:12:41 1992  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)\n \tranlib.\n \n \t* configure: also define $(host_canonical) and\n-        $(target_canonical), which are the full, canonical names for the\n-        given host and target\n+\t$(target_canonical), which are the full, canonical names for the\n+\tgiven host and target\n \n Sun Nov  1 16:38:17 1992  Per Bothner  (bothner@cygnus.com)\n \n@@ -7682,7 +7703,7 @@ Mon Aug 24 14:05:14 1992  Ian Lance Taylor  (ian@cygnus.com)\n \n Tue Aug 11 23:13:17 1992  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)\n \n-        * COPYING: new file, GPL v2\n+\t* COPYING: new file, GPL v2\n \n Tue Aug  4 01:12:43 1992  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)\n "}, {"sha": "702550a08d77df7c06cc90539664a1bc08d96c18", "filename": "Makefile.in", "status": "modified", "additions": 128, "deletions": 4, "changes": 132, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e490616e338de38ffb90494e9d2091b65ea43eed/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e490616e338de38ffb90494e9d2091b65ea43eed/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=e490616e338de38ffb90494e9d2091b65ea43eed", "patch": "@@ -178,8 +178,16 @@ TARGET_CONFIGDIRS = libiberty libgloss $(SPECIAL_LIBS) newlib librx winsup opcod\n # Changed by configure to $(target_alias) if cross.\n TARGET_SUBDIR = .\n \n-# This is set by the configure script to the arguments passed to configure.\n-CONFIG_ARGUMENTS = \n+BUILD_CONFIGDIRS = libiberty\n+BUILD_SUBDIR = .\n+\n+# This is set by the configure script to the arguments to use when configuring\n+# directories built for the target.\n+TARGET_CONFIGARGS = \n+\n+# This is set by the configure script to the arguments to use when configuring\n+# directories built for the build system.\n+BUILD_CONFIGARGS =\n \n # This is set by configure to REALLY_SET_LIB_PATH if --enable-shared\n # was used.\n@@ -492,6 +500,18 @@ EXTRA_GCC_FLAGS = \\\n \n GCC_FLAGS_TO_PASS = $(BASE_FLAGS_TO_PASS) $(EXTRA_GCC_FLAGS)\n \n+# This is a list of the targets for all of the modules which are compiled\n+# using the build machine's native compiler.  Configure edits the second\n+# macro for build!=host builds.\n+ALL_BUILD_MODULES_LIST = \\\n+\tall-build-libiberty\n+ALL_BUILD_MODULES = \n+\n+# This is a list of the configure targets for all of the modules which\n+# are compiled using the native tools.\n+CONFIGURE_BUILD_MODULES = \\\n+\tconfigure-build-libiberty\n+\n # This is a list of the targets for all of the modules which are compiled\n # using $(FLAGS_TO_PASS).\n ALL_MODULES = \\\n@@ -947,6 +967,7 @@ CLEAN_X11_MODULES = \\\n # The target built for a native build.\n .PHONY: all.normal\n all.normal: \\\n+\t$(ALL_BUILD_MODULES) \\\n \t$(ALL_MODULES) \\\n \t$(ALL_X11_MODULES) \\\n \t$(ALL_TARGET_MODULES) \\\n@@ -1193,6 +1214,106 @@ gcc-no-fixedincludes:\n \t  mv gcc/tmp-include gcc/include 2>/dev/null; \\\n \telse true; fi\n \n+# This rule is used to build the modules which are built with the\n+# build machine's native compiler.\n+.PHONY: $(ALL_BUILD_MODULES)\n+$(ALL_BUILD_MODULES):\n+\tdir=`echo $@ | sed -e 's/all-build-//'`; \\\n+\tif [ -f ./$${dir}/Makefile ] ; then \\\n+\t  r=`pwd`; export r; \\\n+\t  s=`cd $(srcdir); pwd`; export s; \\\n+\t  (cd $(BUILD_SUBDIR)/$${dir} && $(MAKE) all); \\\n+\telse \\\n+\t  true; \\\n+\tfi\n+\n+# This rule is used to configure the modules which are built with the\n+# native tools.\n+.PHONY: $(CONFIGURE_BUILD_MODULES)\n+$(CONFIGURE_BUILD_MODULES):\n+\t@dir=`echo $@ | sed -e 's/configure-build-//'`; \\\n+\tif [ ! -d $(BUILD_SUBDIR) ]; then \\\n+\t  true; \\\n+\telif [ -f $(BUILD_SUBDIR)/$${dir}/Makefile ] ; then \\\n+\t  true; \\\n+\telif echo \" $(BUILD_CONFIGDIRS) \" | grep \" $${dir} \" >/dev/null 2>&1; then \\\n+\t  if [ -d $(srcdir)/$${dir} ]; then \\\n+\t    [ -d $(BUILD_SUBDIR)/$${dir} ] || mkdir $(BUILD_SUBDIR)/$${dir};\\\n+\t    r=`pwd`; export r; \\\n+\t    s=`cd $(srcdir); pwd`; export s; \\\n+\t    AR=\"$(AR_FOR_BUILD)\"; export AR; \\\n+\t    AS=\"$(AS_FOR_BUILD)\"; export AS; \\\n+\t    CC=\"$(CC_FOR_BUILD)\"; export CC; \\\n+\t    CFLAGS=\"$(CFLAGS_FOR_BUILD)\"; export CFLAGS; \\\n+\t    CXX=\"$(CXX_FOR_BUILD)\"; export CXX; \\\n+\t    CXXFLAGS=\"$(CXXFLAGS_FOR_BUILD)\"; export CXXFLAGS; \\\n+\t    GCJ=\"$(GCJ_FOR_BUILD)\"; export GCJ; \\\n+\t    DLLTOOL=\"$(DLLTOOL_FOR_BUILD)\"; export DLLTOOL; \\\n+\t    LD=\"$(LD_FOR_BUILD)\"; export LD; \\\n+            LDFLAGS=\"$(LDFLAGS_FOR_BUILD)\"; export LDFLAGS; \\\n+\t    NM=\"$(NM_FOR_BUILD)\"; export NM; \\\n+\t    RANLIB=\"$(RANLIB_FOR_BUILD)\"; export RANLIB; \\\n+\t    WINDRES=\"$(WINDRES_FOR_BUILD)\"; export WINDRES; \\\n+\t    echo Configuring in $(BUILD_SUBDIR)/$${dir}; \\\n+\t    cd \"$(BUILD_SUBDIR)/$${dir}\" || exit 1; \\\n+\t    case $(srcdir) in \\\n+\t    /* | [A-Za-z]:[\\\\/]*) \\\n+\t      topdir=$(srcdir) ;; \\\n+\t    *) \\\n+\t      case \"$(BUILD_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t      esac ;; \\\n+\t    esac; \\\n+\t    if [ \"$(srcdir)\" = \".\" ] ; then \\\n+\t      if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n+\t\tif $(SHELL) $$s/symlink-tree $${topdir}/$${dir} \"no-such-file\" ; then \\\n+\t\t  if [ -f Makefile ]; then \\\n+\t\t    if $(MAKE) distclean; then \\\n+\t\t      true; \\\n+\t\t    else \\\n+\t\t      exit 1; \\\n+\t\t    fi; \\\n+\t\t  else \\\n+\t\t    true; \\\n+\t\t  fi; \\\n+\t\telse \\\n+\t\t  exit 1; \\\n+\t\tfi; \\\n+\t      else \\\n+\t\ttrue; \\\n+\t      fi; \\\n+\t      srcdiroption=\"--srcdir=.\"; \\\n+\t      libsrcdir=\".\"; \\\n+\t    else \\\n+\t      srcdiroption=\"--srcdir=$${topdir}/$${dir}\"; \\\n+\t      libsrcdir=\"$$s/$${dir}\"; \\\n+\t    fi; \\\n+\t    if [ -f $${libsrcdir}/configure ] ; then \\\n+\t      rm -f no-such-file skip-this-dir; \\\n+\t      CONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n+\t\t$(BUILD_CONFIGARGS) $${srcdiroption} \\\n+\t\t--with-build-subdir=\"$(BUILD_SUBDIR)\"; \\\n+\t    else \\\n+\t      rm -f no-such-file skip-this-dir; \\\n+\t      CONFIG_SITE=no-such-file $(SHELL) $$s/configure \\\n+\t\t$(BUILD_CONFIGARGS) $${srcdiroption} \\\n+\t\t--with-build-subdir=\"$(BUILD_SUBDIR)\"; \\\n+\t    fi || exit 1; \\\n+\t    if [ -f skip-this-dir ] ; then \\\n+\t      sh skip-this-dir; \\\n+\t      rm -f skip-this-dir; \\\n+\t      cd ..; rmdir $${dir} || true; \\\n+\t    else \\\n+\t      true; \\\n+\t    fi; \\\n+\t  else \\\n+\t    true; \\\n+\t  fi; \\\n+\telse \\\n+\t  true; \\\n+\tfi\n+\n # This rule is used to build the modules which use FLAGS_TO_PASS.  To\n # build a target all-X means to cd to X and make all.\n #\n@@ -1338,12 +1459,12 @@ $(CONFIGURE_TARGET_MODULES):\n \t    if [ -f $${libsrcdir}/configure ] ; then \\\n \t      rm -f no-such-file skip-this-dir; \\\n \t      CONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n-\t\t$(CONFIG_ARGUMENTS) $${srcdiroption} \\\n+\t\t$(TARGET_CONFIGARGS) $${srcdiroption} \\\n \t\t--with-target-subdir=\"$(TARGET_SUBDIR)\"; \\\n \t    else \\\n \t      rm -f no-such-file skip-this-dir; \\\n \t      CONFIG_SITE=no-such-file $(SHELL) $$s/configure \\\n-\t\t$(CONFIG_ARGUMENTS) $${srcdiroption} \\\n+\t\t$(TARGET_CONFIGARGS) $${srcdiroption} \\\n \t\t--with-target-subdir=\"$(TARGET_SUBDIR)\"; \\\n \t    fi || exit 1; \\\n \t    if [ -f skip-this-dir ] ; then \\\n@@ -1641,6 +1762,9 @@ configure-target-libgloss: $(ALL_GCC)\n all-target-libgloss: configure-target-libgloss configure-target-newlib\n all-libgui: all-tcl all-tk all-tcl8.1 all-tk8.1 all-itcl\n all-libiberty:\n+\n+all-build-libiberty: configure-build-libiberty\n+\n configure-target-libffi: $(ALL_GCC_C) \n all-target-libffi: configure-target-libffi\n configure-target-libjava: $(ALL_GCC_CXX) configure-target-zlib configure-target-boehm-gc configure-target-qthreads configure-target-libffi"}, {"sha": "afc5bec7a73428e4e21bce3bae118b12ba3a9fe7", "filename": "configure", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e490616e338de38ffb90494e9d2091b65ea43eed/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e490616e338de38ffb90494e9d2091b65ea43eed/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=e490616e338de38ffb90494e9d2091b65ea43eed", "patch": "@@ -89,7 +89,7 @@ subdirs=\n target_alias=NOTARGET\n target_makefile_frag=\n undefs=NOUNDEFS\n-version=\"$Revision: 1.37 $\"\n+version=\"$Revision: 1.38 $\"\n x11=default\n bindir='${exec_prefix}/bin'\n sbindir='${exec_prefix}/sbin'\n@@ -1088,6 +1088,12 @@ else\n \tGDB_TK=\"\"\n fi\n \n+all_build_modules=\n+if test x\"${build_alias}\" != x\"${host_alias}\"\n+then\n+  all_build_modules='$(ALL_BUILD_MODULES_LIST)'\n+fi\n+\n for subdir in . ${subdirs} ; do\n \n     # ${subdir} is relative path from . to the directory we're currently\n@@ -1384,6 +1390,7 @@ EOF\n                     -e \"s|^oldincludedir[ \t]*=.*$|oldincludedir = ${oldincludedir}|\" \\\n                     -e \"s|^infodir[ \t]*=.*$|infodir = ${infodir}|\" \\\n                     -e \"s|^mandir[ \t]*=.*$|mandir = ${mandir}|\" \\\n+\t\t    -e \"s|^ALL_BUILD_MODULES =.*|ALL_BUILD_MODULES =${all_build_modules}|\" \\\n \t\t    -e \"/^CC[ \t]*=/{\n \t\t\t:loop1\n \t\t\t/\\\\\\\\$/ N"}, {"sha": "7df47b3a69d34877e3466605aa1363d21c9beb2e", "filename": "configure.in", "status": "modified", "additions": 25, "deletions": 3, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e490616e338de38ffb90494e9d2091b65ea43eed/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e490616e338de38ffb90494e9d2091b65ea43eed/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=e490616e338de38ffb90494e9d2091b65ea43eed", "patch": "@@ -445,6 +445,18 @@ if [ ! -d ${target_subdir} ] ; then\n   fi\n fi\n \n+build_subdir=${build_alias}\n+\n+if [ x\"${build_alias}\" != x\"${host}\" ] ; then\n+  if [ ! -d ${build_subdir} ] ; then\n+    if mkdir ${build_subdir} ; then true\n+    else\n+      echo \"'*** could not make ${PWD=`pwd`}/${build_subdir}\" 1>&2\n+      exit 1\n+    fi\n+  fi\n+fi\n+\n copy_dirs=\n \n # Handle --with-headers=XXX.  The contents of the named directory are\n@@ -1349,7 +1361,8 @@ if [ \"${shared}\" = \"yes\" ]; then\n   esac\n fi\n \n-# Record target_configdirs and the configure arguments in Makefile.\n+# Record target_configdirs and the configure arguments for target and\n+# build configuration in Makefile.\n target_configdirs=`echo \"${target_configdirs}\" | sed -e 's/target-//g'`\n targargs=`echo \"${arguments}\" | \\\n \tsed -e 's/--no[^ \t]*//' \\\n@@ -1358,6 +1371,11 @@ targargs=`echo \"${arguments}\" | \\\n \t    -e 's/--bu[a-z-]*=[^ \t]*//' \\\n \t    -e 's/--ta[a-z-]*=[^ \t]*//'`\n \n+# For the build-side libraries, we just need to pretend we're native,\n+# and not use the same cache file.  Multilibs are neither needed nor\n+# desired.\n+buildargs=\"--cache-file=../config.cache --build=${build_alias} --host=${build_alias} ${targargs}\"\n+\n # Passing a --with-cross-host argument lets the target libraries know\n # whether they are being built with a cross-compiler or being built\n # native.  However, it would be better to use other mechanisms to make the\n@@ -1378,6 +1396,9 @@ if [ x${with_newlib} != xno ] && echo \" ${target_configdirs} \" | grep \" newlib \"\n   targargs=\"--with-newlib ${targargs}\"\n fi\n \n+# Pass the appropriate --host, --build, and --cache-file arguments.\n+targargs=\"--cache-file=../config.cache --host=${target_alias} --build=${build_alias} ${targargs}\"\n+\n # provide a proper gxx_include_dir.\n # Note, if you change the default, make sure to fix both here and in\n # the gcc and libstdc++-v3 subdirectories.\n@@ -1533,16 +1554,17 @@ qCXX_FOR_TARGET=`echo \"$CXX_FOR_TARGET\" | sed 's,[&%],\\\\\\&,g'`\n # macros.\n qqCXX_FOR_TARGET=`echo \"$qCXX_FOR_TARGET\" | sed -e 's,[$][$],$$$$,g'`\n \n-targargs=\"--cache-file=../config.cache --host=${target_alias} --build=${build_alias} ${targargs}\"\n sed -e \"s:^TARGET_CONFIGDIRS[ \t]*=.*$:TARGET_CONFIGDIRS = ${target_configdirs}:\" \\\n-    -e \"s%^CONFIG_ARGUMENTS[ \t]*=.*$%CONFIG_ARGUMENTS = ${targargs}%\" \\\n+    -e \"s%^TARGET_CONFIGARGS[ \t]*=.*$%TARGET_CONFIGARGS = ${targargs}%\" \\\n     -e \"s%^FLAGS_FOR_TARGET[ \t]*=.*$%FLAGS_FOR_TARGET = ${FLAGS_FOR_TARGET}%\" \\\n     -e \"s%^CC_FOR_TARGET[ \t]*=.*$%CC_FOR_TARGET = ${CC_FOR_TARGET}%\" \\\n     -e \"s%^CHILL_FOR_TARGET[ \t]*=.*$%CHILL_FOR_TARGET = ${CHILL_FOR_TARGET}%\" \\\n     -e \"s%^GCJ_FOR_TARGET[      ]*=.*$%GCJ_FOR_TARGET = ${GCJ_FOR_TARGET}%\" \\\n     -e \"s%^CXX_FOR_TARGET[ \t]*=.*$%CXX_FOR_TARGET = ${qCXX_FOR_TARGET}%\" \\\n     -e \"s%^CXX_FOR_TARGET_FOR_RECURSIVE_MAKE[ \t]*=.*$%CXX_FOR_TARGET_FOR_RECURSIVE_MAKE = ${qqCXX_FOR_TARGET}%\" \\\n     -e \"s%^TARGET_SUBDIR[ \t]*=.*$%TARGET_SUBDIR = ${target_subdir}%\" \\\n+    -e \"s%^BUILD_SUBDIR[ \t]*=.*$%BUILD_SUBDIR = ${build_subdir}%\" \\\n+    -e \"s%^BUILD_CONFIGARGS[ \t]*=.*$%BUILD_CONFIGARGS = ${buildargs}%\" \\\n     -e \"s%^gxx_include_dir[ \t]*=.*$%gxx_include_dir=${gxx_include_dir}%\" \\\n        Makefile > Makefile.tem\n rm -f Makefile"}, {"sha": "cad39224ca94b30c584f262ff08f57b648aa1b1e", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e490616e338de38ffb90494e9d2091b65ea43eed/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e490616e338de38ffb90494e9d2091b65ea43eed/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=e490616e338de38ffb90494e9d2091b65ea43eed", "patch": "@@ -1,5 +1,13 @@\n+2001-11-27  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* _doprnt.c: Moved here from gcc/doprint.c.  Adjust to build\n+\tin libiberty context.  Fix typo in leading comment.\n+\t* configure.in: Fix various AC_DEFINEs so autoheader works.\n+\tIf any of vprintf, vsprintf, vfprintf is missing from libc,\n+\tthen AC_REPLACE_FUNCS(_doprnt).\n+\n 2001-11-26  DJ Delorie  <dj@redhat.com>\n-            Daniel Jacobowitz  <drow@mvista.com>\n+\t    Daniel Jacobowitz  <drow@mvista.com>\n \n \t* Makefile.in (stamp-h): Depend on Makefile for proper\n \tserialization."}, {"sha": "a91e27f4127b8e01ed9e97bb51195ab7f509d690", "filename": "libiberty/_doprnt.c", "status": "added", "additions": 296, "deletions": 0, "changes": 296, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e490616e338de38ffb90494e9d2091b65ea43eed/libiberty%2F_doprnt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e490616e338de38ffb90494e9d2091b65ea43eed/libiberty%2F_doprnt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2F_doprnt.c?ref=e490616e338de38ffb90494e9d2091b65ea43eed", "patch": "@@ -0,0 +1,296 @@\n+/* Provide a version of _doprnt in terms of fprintf.\n+   Copyright (C) 1998, 1999, 2000, 2001   Free Software Foundation, Inc.\n+   Contributed by Kaveh Ghazi  (ghazi@caip.rutgers.edu)  3/29/98\n+\n+This program is free software; you can redistribute it and/or modify it\n+under the terms of the GNU General Public License as published by the\n+Free Software Foundation; either version 2, or (at your option) any\n+later version.\n+\n+This program is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with this program; if not, write to the Free Software\n+Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */\n+\n+#include \"config.h\"\n+#include \"ansidecl.h\"\n+#include \"safe-ctype.h\"\n+\n+#include <stdio.h>\n+#ifdef ANSI_PROTOTYPES\n+#include <stdarg.h>\n+#else\n+#include <varargs.h>\n+#endif\n+#ifdef HAVE_STRING_H\n+#include <string.h>\n+#endif\n+\n+#undef _doprnt\n+\n+#ifdef TEST /* Make sure to use the internal one.  */\n+#define _doprnt my_doprnt\n+#endif\n+\n+#define COPY_VA_INT \\\n+  do { \\\n+\t const int value = abs (va_arg (ap, int)); \\\n+\t char buf[32]; \\\n+\t ptr++; /* Go past the asterisk.  */ \\\n+\t *sptr = '\\0'; /* NULL terminate sptr.  */ \\\n+\t sprintf(buf, \"%d\", value); \\\n+\t strcat(sptr, buf); \\\n+\t while (*sptr) sptr++; \\\n+     } while (0)\n+\n+#define PRINT_CHAR(CHAR) \\\n+  do { \\\n+\t putc(CHAR, stream); \\\n+\t ptr++; \\\n+\t total_printed++; \\\n+\t continue; \\\n+     } while (0)\n+\n+#define PRINT_TYPE(TYPE) \\\n+  do { \\\n+\tint result; \\\n+\tTYPE value = va_arg (ap, TYPE); \\\n+\t*sptr++ = *ptr++; /* Copy the type specifier.  */ \\\n+\t*sptr = '\\0'; /* NULL terminate sptr.  */ \\\n+\tresult = fprintf(stream, specifier, value); \\\n+\tif (result == -1) \\\n+\t  return -1; \\\n+\telse \\\n+\t  { \\\n+\t    total_printed += result; \\\n+\t    continue; \\\n+\t  } \\\n+      } while (0)\n+\n+int\n+_doprnt (format, ap, stream)\n+  const char * format;\n+  va_list ap;\n+  FILE * stream;\n+{\n+  const char * ptr = format;\n+  char specifier[128];\n+  int total_printed = 0;\n+  \n+  while (*ptr != '\\0')\n+    {\n+      if (*ptr != '%') /* While we have regular characters, print them.  */\n+\tPRINT_CHAR(*ptr);\n+      else /* We got a format specifier! */\n+\t{\n+\t  char * sptr = specifier;\n+\t  int wide_width = 0, short_width = 0;\n+\t  \n+\t  *sptr++ = *ptr++; /* Copy the % and move forward.  */\n+\n+\t  while (strchr (\"-+ #0\", *ptr)) /* Move past flags.  */\n+\t    *sptr++ = *ptr++;\n+\n+\t  if (*ptr == '*')\n+\t    COPY_VA_INT;\n+\t  else\n+\t    while (ISDIGIT(*ptr)) /* Handle explicit numeric value.  */\n+\t      *sptr++ = *ptr++;\n+\t  \n+\t  if (*ptr == '.')\n+\t    {\n+\t      *sptr++ = *ptr++; /* Copy and go past the period.  */\n+\t      if (*ptr == '*')\n+\t\tCOPY_VA_INT;\n+\t      else\n+\t\twhile (ISDIGIT(*ptr)) /* Handle explicit numeric value.  */\n+\t\t  *sptr++ = *ptr++;\n+\t    }\n+\t  while (strchr (\"hlL\", *ptr))\n+\t    {\n+\t      switch (*ptr)\n+\t\t{\n+\t\tcase 'h':\n+\t\t  short_width = 1;\n+\t\t  break;\n+\t\tcase 'l':\n+\t\t  wide_width++;\n+\t\t  break;\n+\t\tcase 'L':\n+\t\t  wide_width = 2;\n+\t\t  break;\n+\t\tdefault:\n+\t\t  abort();\n+\t\t}\n+\t      *sptr++ = *ptr++;\n+\t    }\n+\n+\t  switch (*ptr)\n+\t    {\n+\t    case 'd':\n+\t    case 'i':\n+\t    case 'o':\n+\t    case 'u':\n+\t    case 'x':\n+\t    case 'X':\n+\t    case 'c':\n+\t      {\n+\t\t/* Short values are promoted to int, so just copy it\n+                   as an int and trust the C library printf to cast it\n+                   to the right width.  */\n+\t\tif (short_width)\n+\t\t  PRINT_TYPE(int);\n+\t\telse\n+\t\t  {\n+\t\t    switch (wide_width)\n+\t\t      {\n+\t\t      case 0:\n+\t\t\tPRINT_TYPE(int);\n+\t\t\tbreak;\n+\t\t      case 1:\n+\t\t\tPRINT_TYPE(long);\n+\t\t\tbreak;\n+\t\t      case 2:\n+\t\t      default:\n+#if defined(__GNUC__) || defined(HAVE_LONG_LONG)\n+\t\t\tPRINT_TYPE(long long);\n+#else\n+\t\t\tPRINT_TYPE(long); /* Fake it and hope for the best.  */\n+#endif\n+\t\t\tbreak;\n+\t\t      } /* End of switch (wide_width) */\n+\t\t  } /* End of else statement */\n+\t      } /* End of integer case */\n+\t      break;\n+\t    case 'f':\n+\t    case 'e':\n+\t    case 'E':\n+\t    case 'g':\n+\t    case 'G':\n+\t      {\n+\t\tif (wide_width == 0)\n+\t\t  PRINT_TYPE(double);\n+\t\telse\n+\t\t  {\n+#if defined(__GNUC__) || defined(HAVE_LONG_DOUBLE)\n+\t\t    PRINT_TYPE(long double);\n+#else\n+\t\t    PRINT_TYPE(double); /* Fake it and hope for the best.  */\n+#endif\n+\t\t  }\n+\t      }\n+\t      break;\n+\t    case 's':\n+\t      PRINT_TYPE(char *);\n+\t      break;\n+\t    case 'p':\n+\t      PRINT_TYPE(void *);\n+\t      break;\n+\t    case '%':\n+\t      PRINT_CHAR('%');\n+\t      break;\n+\t    default:\n+\t      abort();\n+\t    } /* End of switch (*ptr) */\n+\t} /* End of else statement */\n+    }\n+\n+  return total_printed;\n+}\n+\n+#ifdef TEST\n+\n+#include <math.h>\n+#ifndef M_PI\n+#define M_PI (3.1415926535897932385)\n+#endif\n+\n+#define RESULT(x) do \\\n+{ \\\n+    int i = (x); \\\n+    printf (\"printed %d characters\\n\", i); \\\n+    fflush(stdin); \\\n+} while (0)\n+\n+static int checkit PARAMS ((const char * format, ...)) ATTRIBUTE_PRINTF_1;\n+\n+static int\n+checkit VPARAMS ((const char* format, ...))\n+{\n+  int result;\n+  VA_OPEN (args, format);\n+  VA_FIXEDARG (args, char *, format);\n+\n+  result = _doprnt (format, args, stdout);\n+  VA_CLOSE (args);\n+\n+  return result;\n+}\n+\n+int\n+main ()\n+{\n+  RESULT(checkit (\"<%d>\\n\", 0x12345678));\n+  RESULT(printf (\"<%d>\\n\", 0x12345678));\n+\n+  RESULT(checkit (\"<%200d>\\n\", 5));\n+  RESULT(printf (\"<%200d>\\n\", 5));\n+\n+  RESULT(checkit (\"<%.300d>\\n\", 6));\n+  RESULT(printf (\"<%.300d>\\n\", 6));\n+\n+  RESULT(checkit (\"<%100.150d>\\n\", 7));\n+  RESULT(printf (\"<%100.150d>\\n\", 7));\n+\n+  RESULT(checkit (\"<%s>\\n\",\n+\t\t  \"jjjjjjjjjiiiiiiiiiiiiiiioooooooooooooooooppppppppppppaa\\n\\\n+777777777777777777333333333333366666666666622222222222777777777777733333\"));\n+  RESULT(printf (\"<%s>\\n\",\n+\t\t \"jjjjjjjjjiiiiiiiiiiiiiiioooooooooooooooooppppppppppppaa\\n\\\n+777777777777777777333333333333366666666666622222222222777777777777733333\"));\n+\n+  RESULT(checkit (\"<%f><%0+#f>%s%d%s>\\n\",\n+\t\t  1.0, 1.0, \"foo\", 77, \"asdjffffffffffffffiiiiiiiiiiixxxxx\"));\n+  RESULT(printf (\"<%f><%0+#f>%s%d%s>\\n\",\n+\t\t 1.0, 1.0, \"foo\", 77, \"asdjffffffffffffffiiiiiiiiiiixxxxx\"));\n+\n+  RESULT(checkit (\"<%4f><%.4f><%%><%4.4f>\\n\", M_PI, M_PI, M_PI));\n+  RESULT(printf (\"<%4f><%.4f><%%><%4.4f>\\n\", M_PI, M_PI, M_PI));\n+\n+  RESULT(checkit (\"<%*f><%.*f><%%><%*.*f>\\n\", 3, M_PI, 3, M_PI, 3, 3, M_PI));\n+  RESULT(printf (\"<%*f><%.*f><%%><%*.*f>\\n\", 3, M_PI, 3, M_PI, 3, 3, M_PI));\n+\n+  RESULT(checkit (\"<%d><%i><%o><%u><%x><%X><%c>\\n\",\n+\t\t  75, 75, 75, 75, 75, 75, 75));\n+  RESULT(printf (\"<%d><%i><%o><%u><%x><%X><%c>\\n\",\n+\t\t 75, 75, 75, 75, 75, 75, 75));\n+\n+  RESULT(checkit (\"<%d><%i><%o><%u><%x><%X><%c>\\n\",\n+\t\t  75, 75, 75, 75, 75, 75, 75));\n+  RESULT(printf (\"<%d><%i><%o><%u><%x><%X><%c>\\n\",\n+\t\t 75, 75, 75, 75, 75, 75, 75));\n+\n+  RESULT(checkit (\"Testing (hd) short: <%d><%ld><%hd><%hd><%d>\\n\", 123, (long)234, 345, 123456789, 456));\n+  RESULT(printf (\"Testing (hd) short: <%d><%ld><%hd><%hd><%d>\\n\", 123, (long)234, 345, 123456789, 456));\n+\n+#if defined(__GNUC__) || defined (HAVE_LONG_LONG)\n+  RESULT(checkit (\"Testing (lld) long long: <%d><%lld><%d>\\n\", 123, 234234234234234234LL, 345));\n+  RESULT(printf (\"Testing (lld) long long: <%d><%lld><%d>\\n\", 123, 234234234234234234LL, 345));\n+  RESULT(checkit (\"Testing (Ld) long long: <%d><%Ld><%d>\\n\", 123, 234234234234234234LL, 345));\n+  RESULT(printf (\"Testing (Ld) long long: <%d><%Ld><%d>\\n\", 123, 234234234234234234LL, 345));\n+#endif\n+\n+#if defined(__GNUC__) || defined (HAVE_LONG_DOUBLE)\n+  RESULT(checkit (\"Testing (Lf) long double: <%.20f><%.20Lf><%0+#.20f>\\n\",\n+\t\t  1.23456, 1.234567890123456789L, 1.23456));\n+  RESULT(printf (\"Testing (Lf) long double: <%.20f><%.20Lf><%0+#.20f>\\n\",\n+\t\t 1.23456, 1.234567890123456789L, 1.23456));\n+#endif\n+\n+  return 0;\n+}\n+#endif /* TEST */"}, {"sha": "e06bbce857d399bd368c3e6cd653faca0540a63a", "filename": "libiberty/config.in", "status": "modified", "additions": 12, "deletions": 6, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e490616e338de38ffb90494e9d2091b65ea43eed/libiberty%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e490616e338de38ffb90494e9d2091b65ea43eed/libiberty%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfig.in?ref=e490616e338de38ffb90494e9d2091b65ea43eed", "patch": "@@ -1,4 +1,4 @@\n-/* config.in.  Generated automatically from configure.in by autoheader.  */\n+/* config.in.  Generated automatically from configure.in by autoheader 2.13.  */\n \n /* Define to empty if the keyword does not work.  */\n #undef const\n@@ -30,8 +30,8 @@\n /* Define vfork as fork if vfork does not work.  */\n #undef vfork\n \n-/* Define if the system defines a uintptr_t type.  */\n-#undef HAVE_UINTPTR_T\n+/* Define if you have the _doprnt function.  */\n+#undef HAVE__DOPRNT\n \n /* Define if you have the asprintf function.  */\n #undef HAVE_ASPRINTF\n@@ -60,6 +60,9 @@\n /* Define if you have the clock function.  */\n #undef HAVE_CLOCK\n \n+/* Define if you have the ffs function.  */\n+#undef HAVE_FFS\n+\n /* Define if you have the getcwd function.  */\n #undef HAVE_GETCWD\n \n@@ -180,12 +183,12 @@\n /* Define if you have the waitpid function.  */\n #undef HAVE_WAITPID\n \n-/* Define if you have the <fcntl.h> header file.  */\n-#undef HAVE_FCNTL_H\n-\n /* Define if you have the <alloca.h> header file.  */\n #undef HAVE_ALLOCA_H\n \n+/* Define if you have the <fcntl.h> header file.  */\n+#undef HAVE_FCNTL_H\n+\n /* Define if you have the <limits.h> header file.  */\n #undef HAVE_LIMITS_H\n \n@@ -225,6 +228,9 @@\n /* Define if errno must be declared even when <errno.h> is included. */\n #undef NEED_DECLARATION_ERRNO\n \n+/* Define if you have the `uintptr_t' type. */\n+#undef HAVE_UINTPTR_T\n+\n /* Define if you have the sys_errlist variable. */\n #undef HAVE_SYS_ERRLIST\n "}, {"sha": "72f253876bbe4bbffd125575034ad9fa27b568ea", "filename": "libiberty/configure", "status": "modified", "additions": 86, "deletions": 36, "changes": 122, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e490616e338de38ffb90494e9d2091b65ea43eed/libiberty%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e490616e338de38ffb90494e9d2091b65ea43eed/libiberty%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure?ref=e490616e338de38ffb90494e9d2091b65ea43eed", "patch": "@@ -1965,7 +1965,7 @@ fi\n \n \n case \"${host}\" in\n-  *-*-cygwin*) \n+  *-*-cygwin*)\n     cat >> confdefs.h <<\\EOF\n #define HAVE_SYS_ERRLIST 1\n EOF\n@@ -2653,21 +2653,84 @@ fi\n   if test $ac_cv_func_vfork_works = no; then\n     LIBOBJS=\"$LIBOBJS vfork.o\"\n   fi\n+  # We only need _doprnt if we might use it to implement v*printf.\n+  if test $ac_cv_func_vprintf != yes \\\n+     || test $ac_cv_func_vfprintf != yes \\\n+     || test $ac_cv_func_vsprintf != yes; then\n+    for ac_func in _doprnt\n+do\n+echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n+echo \"configure:2664: checking for $ac_func\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2669 \"configure\"\n+#include \"confdefs.h\"\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func(); below.  */\n+#include <assert.h>\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char $ac_func();\n+\n+int main() {\n+\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n+#else\n+$ac_func();\n+#endif\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:2692: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  eval \"ac_cv_func_$ac_func=yes\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_func_$ac_func=no\"\n+fi\n+rm -f conftest*\n+fi\n+\n+if eval \"test \\\"`echo '$ac_cv_func_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+  cat >> confdefs.h <<EOF\n+#define $ac_tr_func 1\n+EOF\n+ \n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+LIBOBJS=\"$LIBOBJS ${ac_func}.${ac_objext}\"\n+fi\n+done\n+\n+\n+  fi\n+\n   for v in $vars; do\n     echo $ac_n \"checking for $v\"\"... $ac_c\" 1>&6\n-echo \"configure:2659: checking for $v\" >&5\n+echo \"configure:2722: checking for $v\" >&5\n     if eval \"test \\\"`echo '$''{'libiberty_cv_var_$v'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2664 \"configure\"\n+#line 2727 \"configure\"\n #include \"confdefs.h\"\n int *p;\n int main() {\n extern int $v; p = &$v;\n ; return 0; }\n EOF\n-if { (eval echo configure:2671: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2734: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"libiberty_cv_var_$v=yes\"\n else\n@@ -2693,12 +2756,12 @@ EOF\n   for ac_func in $checkfuncs\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2697: checking for $ac_func\" >&5\n+echo \"configure:2760: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2702 \"configure\"\n+#line 2765 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2721,7 +2784,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2725: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2788: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2747,21 +2810,21 @@ done\n \n fi\n \n-for ac_hdr in stdlib.h unistd.h sys/stat.h sys/types.h\n+for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2755: checking for $ac_hdr\" >&5\n+echo \"configure:2818: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2760 \"configure\"\n+#line 2823 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2765: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2828: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2790,12 +2853,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2794: checking for $ac_func\" >&5\n+echo \"configure:2857: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2799 \"configure\"\n+#line 2862 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2818,7 +2881,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2822: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2885: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2843,15 +2906,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:2847: checking for working mmap\" >&5\n+echo \"configure:2910: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2855 \"configure\"\n+#line 2918 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -2879,24 +2942,11 @@ else\n #include <fcntl.h>\n #include <sys/mman.h>\n \n-#if HAVE_SYS_TYPES_H\n-# include <sys/types.h>\n-#endif\n-\n-#if HAVE_STDLIB_H\n-# include <stdlib.h>\n-#endif\n-\n-#if HAVE_SYS_STAT_H\n-# include <sys/stat.h>\n-#endif\n-\n-#if HAVE_UNISTD_H\n-# include <unistd.h>\n-#endif\n-\n /* This mess was copied from the GNU getpagesize.h.  */\n #ifndef HAVE_GETPAGESIZE\n+# ifdef HAVE_UNISTD_H\n+#  include <unistd.h>\n+# endif\n \n /* Assume that all systems that can run configure have sys/param.h.  */\n # ifndef HAVE_SYS_PARAM_H\n@@ -3004,7 +3054,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:3008: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3058: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -3028,15 +3078,15 @@ fi\n \n \n echo $ac_n \"checking for working strncmp\"\"... $ac_c\" 1>&6\n-echo \"configure:3032: checking for working strncmp\" >&5\n+echo \"configure:3082: checking for working strncmp\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_strncmp_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_strncmp_works=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3040 \"configure\"\n+#line 3090 \"configure\"\n #include \"confdefs.h\"\n \n /* Test by Jim Wilson and Kaveh Ghazi.\n@@ -3097,7 +3147,7 @@ main ()\n }\n \n EOF\n-if { (eval echo configure:3101: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3151: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_strncmp_works=yes\n else"}, {"sha": "8b67396b731854524a752587a8b9c11fcc6b6d94", "filename": "libiberty/configure.in", "status": "modified", "additions": 11, "deletions": 4, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e490616e338de38ffb90494e9d2091b65ea43eed/libiberty%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e490616e338de38ffb90494e9d2091b65ea43eed/libiberty%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure.in?ref=e490616e338de38ffb90494e9d2091b65ea43eed", "patch": "@@ -132,7 +132,7 @@ AC_EGREP_HEADER(uintptr_t, sys/types.h,\n \n if test $libiberty_cv_uintptr_t = yes\n then\n-  AC_DEFINE(HAVE_UINTPTR_T)\n+  AC_DEFINE(HAVE_UINTPTR_T, 1, [Define if you have the \\`uintptr_t' type.])\n   AC_MSG_RESULT(yes)\n else\n   AC_MSG_RESULT(no)\n@@ -254,9 +254,9 @@ fi\n AC_SUBST(CHECK)\n \n case \"${host}\" in\n-  *-*-cygwin*) \n-    AC_DEFINE(HAVE_SYS_ERRLIST)\n-    AC_DEFINE(HAVE_SYS_NERR)\n+  *-*-cygwin*)\n+    AC_DEFINE_NOAUTOHEADER(HAVE_SYS_ERRLIST)\n+    AC_DEFINE_NOAUTOHEADER(HAVE_SYS_NERR)\n     ;;\n esac\n \n@@ -351,6 +351,13 @@ if test -z \"${setobjs}\"; then\n   if test $ac_cv_func_vfork_works = no; then\n     LIBOBJS=\"$LIBOBJS vfork.o\"\n   fi\n+  # We only need _doprnt if we might use it to implement v*printf.\n+  if test $ac_cv_func_vprintf != yes \\\n+     || test $ac_cv_func_vfprintf != yes \\\n+     || test $ac_cv_func_vsprintf != yes; then\n+    AC_REPLACE_FUNCS(_doprnt)\n+  fi\n+\n   for v in $vars; do\n     AC_MSG_CHECKING([for $v])\n     AC_CACHE_VAL(libiberty_cv_var_$v,"}]}