{"sha": "46bfe5e30e858fe285762859370a6a90bd1c18ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDZiZmU1ZTMwZTg1OGZlMjg1NzYyODU5MzcwYTZhOTBiZDFjMThiYQ==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2004-10-30T20:22:54Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2004-10-30T20:22:54Z"}, "message": "invoke.texi (Darwin Options): Improve description of how the subtype is chosen.\n\n\t* doc/invoke.texi (Darwin Options): Improve description of\n\thow the subtype is chosen.\n\nFrom-SVN: r89897", "tree": {"sha": "024668bf7912420a23f15a0cbf868b713c6d69e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/024668bf7912420a23f15a0cbf868b713c6d69e0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/46bfe5e30e858fe285762859370a6a90bd1c18ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46bfe5e30e858fe285762859370a6a90bd1c18ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46bfe5e30e858fe285762859370a6a90bd1c18ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46bfe5e30e858fe285762859370a6a90bd1c18ba/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "61168ff146d478146e397e1f1d0666b6b1d80d75", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61168ff146d478146e397e1f1d0666b6b1d80d75", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61168ff146d478146e397e1f1d0666b6b1d80d75"}], "stats": {"total": 26, "additions": 22, "deletions": 4}, "files": [{"sha": "ce4847610e37c5fc48932d16d46f7281dfb39631", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bfe5e30e858fe285762859370a6a90bd1c18ba/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bfe5e30e858fe285762859370a6a90bd1c18ba/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=46bfe5e30e858fe285762859370a6a90bd1c18ba", "patch": "@@ -1,3 +1,8 @@\n+2004-10-30  Geoffrey Keating  <geoffk@apple.com>\n+\n+\t* doc/invoke.texi (Darwin Options): Improve description of\n+\thow the subtype is chosen.\n+\n 2004-10-30  Roger Sayle  <roger@eyesopen.com>\n \n \tPR middle-end/18096"}, {"sha": "15e7316276dbfca0335e5bf1762f5beafa55fc9e", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 17, "deletions": 4, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46bfe5e30e858fe285762859370a6a90bd1c18ba/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46bfe5e30e858fe285762859370a6a90bd1c18ba/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=46bfe5e30e858fe285762859370a6a90bd1c18ba", "patch": "@@ -7190,13 +7190,26 @@ system.\n FSF GCC on Darwin does not create ``fat'' object files; it will create\n an object file for the single architecture that it was built to\n target.  Apple's GCC on Darwin does create ``fat'' files if multiple\n-@option{-arch} options are used.\n+@option{-arch} options are used; it does so by running the compiler or\n+linker multiple times and joining the results together with\n+@file{lipo}.\n \n-The subtype of the file created (@var{ppc7400} or @var{ppc970} or\n-@var{i686}) is determined by the flag that specifies the ISA\n-that GCC is targetting, @option{-mcpu} or @option{-march}.  The\n+The subtype of the file created (like @samp{ppc7400} or @samp{ppc970} or\n+@samp{i686}) is determined by the flags that specify the ISA\n+that GCC is targetting, like @option{-mcpu} or @option{-march}.  The\n @option{-force_cpusubtype_ALL} option can be used to override this.\n \n+The Darwin tools vary in their behaviour when presented with an ISA\n+mismatch.  The assembler, @file{as}, will only permit instructions to\n+be used that are valid for the subtype of the file it is generating,\n+so you cannot put 64-bit instructions in an @samp{ppc750} object file.\n+The linker for shared libraries, @file{/usr/bin/libtool}, will fail\n+and print an error if asked to create a shared library with a less\n+restrictive subtype than its input files (for instance, trying to put\n+a @samp{ppc970} object file in a @samp{ppc7400} library).  The linker\n+for executables, @file{ld}, will quietly give the executable the most\n+restrictive subtype of any of its input files.\n+\n @table @gcctabopt\n @item -F@var{dir}\n @opindex F"}]}