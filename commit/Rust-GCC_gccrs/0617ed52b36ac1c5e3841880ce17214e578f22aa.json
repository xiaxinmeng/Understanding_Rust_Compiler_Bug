{"sha": "0617ed52b36ac1c5e3841880ce17214e578f22aa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDYxN2VkNTJiMzZhYzFjNWUzODQxODgwY2UxNzIxNGU1NzhmMjJhYQ==", "commit": {"author": {"name": "Eric Christopher", "email": "echristo@gcc.gnu.org", "date": "2002-02-02T03:54:39Z"}, "committer": {"name": "Eric Christopher", "email": "echristo@gcc.gnu.org", "date": "2002-02-02T03:54:39Z"}, "message": "2002-02-01  Eric Christopher  <echristo@redhat.com>\n\n\tFrom Daniel Jacobowitz <dmj+@andrew.cmu.edu>\n\t* config/mips/mips.h (FUNCTION_PROFILER): Fix function profiling.\n\t* config/mips/linux.h (ASM_OUTPUT_REG_PUSH): Undefine.\n\t(ASM_OUTPUT_REG_POP): Ditto.\n\nFrom-SVN: r49423", "tree": {"sha": "2c10c426fd1b9e82dc7af1e1738ec1fb6c1fc94f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2c10c426fd1b9e82dc7af1e1738ec1fb6c1fc94f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0617ed52b36ac1c5e3841880ce17214e578f22aa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0617ed52b36ac1c5e3841880ce17214e578f22aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0617ed52b36ac1c5e3841880ce17214e578f22aa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0617ed52b36ac1c5e3841880ce17214e578f22aa/comments", "author": null, "committer": null, "parents": [{"sha": "00181da3af1afe94c49be480bde27cb6cbb54dd4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00181da3af1afe94c49be480bde27cb6cbb54dd4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00181da3af1afe94c49be480bde27cb6cbb54dd4"}], "stats": {"total": 19, "additions": 15, "deletions": 4}, "files": [{"sha": "5279c5678514cdcd22ae7e005049eb25fece2453", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0617ed52b36ac1c5e3841880ce17214e578f22aa/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0617ed52b36ac1c5e3841880ce17214e578f22aa/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0617ed52b36ac1c5e3841880ce17214e578f22aa", "patch": "@@ -1,3 +1,10 @@\n+2002-02-01  Eric Christopher  <echristo@redhat.com>\n+\n+\tFrom Daniel Jacobowitz <dmj+@andrew.cmu.edu>\n+\t* config/mips/mips.h (FUNCTION_PROFILER): Fix function profiling.\n+\t* config/mips/linux.h (ASM_OUTPUT_REG_PUSH): Undefine.\n+\t(ASM_OUTPUT_REG_POP): Ditto.\n+\n 2002-02-02  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* c-decl.c, tree.c, tree.h, objc/objc-act.c: Revert bitfield\n@@ -52,7 +59,7 @@\n         (movqi): Likewise.\n         * config/stormy16/stormy16.h (PREDICATE_CODES): Add\n         nonimmediate_nonstack_operand.\n-        * config/stormy16/stormy16.c (nonimmediate_nonstack_operand): \n+        * config/stormy16/stormy16.c (nonimmediate_nonstack_operand):\n         New.\n         * config/stormy16/stormy16-protos.h (nonimmediate_nonstack_operand)\n         New."}, {"sha": "7d4fc9a32209c270eb183ac7655ee8eadb1b29e7", "filename": "gcc/config/mips/linux.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0617ed52b36ac1c5e3841880ce17214e578f22aa/gcc%2Fconfig%2Fmips%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0617ed52b36ac1c5e3841880ce17214e578f22aa/gcc%2Fconfig%2Fmips%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Flinux.h?ref=0617ed52b36ac1c5e3841880ce17214e578f22aa", "patch": "@@ -279,3 +279,9 @@ void FN ()\t\t\t\t\t\t\t\\\n /* Tell function_prologue in mips.c that we have already output the .ent/.end\n    pseudo-ops.  */\n #define FUNCTION_NAME_ALREADY_DECLARED\n+\n+/* The glibc _mcount stub will save $v0 for us.  Don't mess with saving\n+   it, since ASM_OUTPUT_REG_PUSH/ASM_OUTPUT_REG_POP do not work in the\n+   presence of $gp-relative calls.  */\n+#undef ASM_OUTPUT_REG_PUSH\n+#undef ASM_OUTPUT_REG_POP"}, {"sha": "64ddf58e7158f8fe400d97d1f29abafb6d347fd8", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0617ed52b36ac1c5e3841880ce17214e578f22aa/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0617ed52b36ac1c5e3841880ce17214e578f22aa/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=0617ed52b36ac1c5e3841880ce17214e578f22aa", "patch": "@@ -2869,18 +2869,16 @@ typedef struct mips_args {\n {\t\t\t\t\t\t\t\t\t\\\n   if (TARGET_MIPS16)\t\t\t\t\t\t\t\\\n     sorry (\"mips16 function profiling\");\t\t\t\t\\\n-  fprintf (FILE, \"\\t.set\\tnoreorder\\n\");\t\t\t\t\\\n   fprintf (FILE, \"\\t.set\\tnoat\\n\");\t\t\t\t\t\\\n   fprintf (FILE, \"\\tmove\\t%s,%s\\t\\t# save current return address\\n\",\t\\\n \t   reg_names[GP_REG_FIRST + 1], reg_names[GP_REG_FIRST + 31]);\t\\\n-  fprintf (FILE, \"\\tjal\\t_mcount\\n\");\t\t\t\t\t\\\n   fprintf (FILE,\t\t\t\t\t\t\t\\\n \t   \"\\t%s\\t%s,%s,%d\\t\\t# _mcount pops 2 words from  stack\\n\",\t\\\n \t   TARGET_64BIT ? \"dsubu\" : \"subu\",\t\t\t\t\\\n \t   reg_names[STACK_POINTER_REGNUM],\t\t\t\t\\\n \t   reg_names[STACK_POINTER_REGNUM],\t\t\t\t\\\n \t   Pmode == DImode ? 16 : 8);\t\t\t\t\t\\\n-  fprintf (FILE, \"\\t.set\\treorder\\n\");\t\t\t\t\t\\\n+  fprintf (FILE, \"\\tjal\\t_mcount\\n\");                                   \\\n   fprintf (FILE, \"\\t.set\\tat\\n\");\t\t\t\t\t\\\n }\n "}]}