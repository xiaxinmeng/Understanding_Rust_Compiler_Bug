{"sha": "1cf94605cad05360c62a00a71210b2785c572819", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWNmOTQ2MDVjYWQwNTM2MGM2MmEwMGE3MTIxMGIyNzg1YzU3MjgxOQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-30T07:40:59Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-30T07:40:59Z"}, "message": "(mainversion): New variable.\n\n(distdir): Use mainversion when verifying gcc.texi has been updated.\n\nFrom-SVN: r5941", "tree": {"sha": "ad1ca217d63bc7081e39e2aaf27adc67a6a3bb9a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad1ca217d63bc7081e39e2aaf27adc67a6a3bb9a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1cf94605cad05360c62a00a71210b2785c572819", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cf94605cad05360c62a00a71210b2785c572819", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1cf94605cad05360c62a00a71210b2785c572819", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cf94605cad05360c62a00a71210b2785c572819/comments", "author": null, "committer": null, "parents": [{"sha": "7b1a0c14e9b6c109263665bd078ba744714621c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b1a0c14e9b6c109263665bd078ba744714621c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b1a0c14e9b6c109263665bd078ba744714621c8"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "117e8be867160c49a555b3f5c502189e83ef9f87", "filename": "gcc/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cf94605cad05360c62a00a71210b2785c572819/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cf94605cad05360c62a00a71210b2785c572819/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=1cf94605cad05360c62a00a71210b2785c572819", "patch": "@@ -135,6 +135,7 @@ target= ... `configure' substitutes actual target name here.\n xmake_file= ... `configure' substitutes actual x- file name here.\n tmake_file= ... `configure' substitutes actual t- file name here.\n version=`sed -e 's/.*\\\"\\([^ \\\"]*\\)[ \\\"].*/\\1/' < $(srcdir)/version.c`\n+mainversion=`sed -e 's/.*\\\"\\([0-9]*\\.[0-9]*\\).*/\\1/' < $(srcdir)/version.c`\n \n # Directory where sources are, from where we are.\n srcdir = .\n@@ -2009,7 +2010,7 @@ gcc.xtar: distdir\n \n distdir: doc $(srcdir)/INSTALL c-parse.y objc-parse.y cp-parse.y \\\n   c-parse.c cp-parse.c objc-parse.c cexp.c\n-\tif grep -s \"for version ${version}\" gcc.texi; \\\n+\tif grep -s \"for version ${mainversion}\" gcc.texi; \\\n \tthen true; \\\n \telse echo \"You must update the version number in \\`gcc.texi'\"; sleep 10;\\\n \tfi"}]}