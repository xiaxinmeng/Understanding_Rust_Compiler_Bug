{"sha": "687e00ee8a88d034fb91a9eecb611b5927c5f677", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njg3ZTAwZWU4YTg4ZDAzNGZiOTFhOWVlY2I2MTFiNTkyN2M1ZjY3Nw==", "commit": {"author": {"name": "Howard Hinnant", "email": "hhinnant@apple.com", "date": "2007-02-09T01:00:25Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2007-02-09T01:00:25Z"}, "message": "re PR libstdc++/17012 ([DR 526] std::list's function, remove, looks like it is reading memory that has been freed.)\n\n2007-02-08  Howard Hinnant  <hhinnant@apple.com>\n\n\tPR libstdc++/17012\n\t* include/bits/list.tcc (list<>::remove): Take care of\n\t&*__first == &__value.\n\t* docs/html/ext/howto.html: Add an entry for DR 526.\n\nFrom-SVN: r121735", "tree": {"sha": "e27caee4bafbee23a1d74d1e66f4c317f0ef8ac7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e27caee4bafbee23a1d74d1e66f4c317f0ef8ac7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/687e00ee8a88d034fb91a9eecb611b5927c5f677", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/687e00ee8a88d034fb91a9eecb611b5927c5f677", "html_url": "https://github.com/Rust-GCC/gccrs/commit/687e00ee8a88d034fb91a9eecb611b5927c5f677", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/687e00ee8a88d034fb91a9eecb611b5927c5f677/comments", "author": null, "committer": null, "parents": [{"sha": "67e1d0f75c48f8df151297829f56282a8d168f29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67e1d0f75c48f8df151297829f56282a8d168f29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67e1d0f75c48f8df151297829f56282a8d168f29"}], "stats": {"total": 29, "additions": 27, "deletions": 2}, "files": [{"sha": "1effedd5fd057795fdd77887c214aea55333e878", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/687e00ee8a88d034fb91a9eecb611b5927c5f677/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/687e00ee8a88d034fb91a9eecb611b5927c5f677/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=687e00ee8a88d034fb91a9eecb611b5927c5f677", "patch": "@@ -1,3 +1,10 @@\n+2007-02-08  Howard Hinnant  <hhinnant@apple.com>\n+\n+\tPR libstdc++/17012\n+\t* include/bits/list.tcc (list<>::remove): Take care of\n+\t&*__first == &__value.\n+\t* docs/html/ext/howto.html: Add an entry for DR 526.\n+\n 2007-02-07  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR libgomp/28468"}, {"sha": "c3dcca4d21390aecb7447b3977a3bb3bb106d5f6", "filename": "libstdc++-v3/docs/html/ext/howto.html", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/687e00ee8a88d034fb91a9eecb611b5927c5f677/libstdc%2B%2B-v3%2Fdocs%2Fhtml%2Fext%2Fhowto.html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/687e00ee8a88d034fb91a9eecb611b5927c5f677/libstdc%2B%2B-v3%2Fdocs%2Fhtml%2Fext%2Fhowto.html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdocs%2Fhtml%2Fext%2Fhowto.html?ref=687e00ee8a88d034fb91a9eecb611b5927c5f677", "patch": "@@ -586,6 +586,13 @@ <h2><a name=\"5\">LWG Issues</a></h2>\n     <dd>Construct a <code>linear_congruential</code> engine and seed with it.\n     </dd>\n \n+    <dt><a href=\"lwg-active.html#526\">526</a>:\n+        <em>Is it undefined if a function in the standard changes in\n+\t    parameters?</em>\n+    </dt>\n+    <dd>Use &amp;value.\n+    </dd>\n+\n     <dt><a href=\"lwg-defects.html#538\">538</a>:\n         <em>241 again: Does unique_copy() require CopyConstructible\n \t    and Assignable?</em>"}, {"sha": "6bde3b77d003f1b88d3480bf5ff8eafbb406740a", "filename": "libstdc++-v3/include/bits/list.tcc", "status": "modified", "additions": 13, "deletions": 2, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/687e00ee8a88d034fb91a9eecb611b5927c5f677/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flist.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/687e00ee8a88d034fb91a9eecb611b5927c5f677/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flist.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flist.tcc?ref=687e00ee8a88d034fb91a9eecb611b5927c5f677", "patch": "@@ -1,6 +1,6 @@\n // List implementation (out of line) -*- C++ -*-\n \n-// Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006\n+// Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007\n // Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n@@ -176,14 +176,25 @@ _GLIBCXX_BEGIN_NESTED_NAMESPACE(std, _GLIBCXX_STD)\n     {\n       iterator __first = begin();\n       iterator __last = end();\n+      iterator __extra = __last;\n       while (__first != __last)\n \t{\n \t  iterator __next = __first;\n \t  ++__next;\n \t  if (*__first == __value)\n-\t    _M_erase(__first);\n+\t    {\n+\t      // _GLIBCXX_RESOLVE_LIB_DEFECTS\n+\t      // 526. Is it undefined if a function in the standard changes\n+\t      // in parameters?\n+\t      if (&*__first != &__value)\n+\t\t_M_erase(__first);\n+\t      else\n+\t\t__extra = __first;\n+\t    }\n \t  __first = __next;\n \t}\n+      if (__extra != __last)\n+\t_M_erase(__extra);\n     }\n \n   template<typename _Tp, typename _Alloc>"}]}