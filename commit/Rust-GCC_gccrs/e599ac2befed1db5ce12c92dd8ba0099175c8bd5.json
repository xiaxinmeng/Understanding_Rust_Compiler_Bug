{"sha": "e599ac2befed1db5ce12c92dd8ba0099175c8bd5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTU5OWFjMmJlZmVkMWRiNWNlMTJjOTJkZDhiYTAwOTkxNzVjOGJkNQ==", "commit": {"author": {"name": "Danny Smith", "email": "dannysmith@users.sourceforge.net", "date": "2007-09-11T01:38:40Z"}, "committer": {"name": "Danny Smith", "email": "dannysmith@gcc.gnu.org", "date": "2007-09-11T01:38:40Z"}, "message": "cygming.h (TARGET_STRIP_NAME_ENCODING): Don't override default.\n\n\t* config/i386/cygming.h (TARGET_STRIP_NAME_ENCODING): Don't\n\toverride default.\n\t* config/i386/i386.c (get_dllimport_decl): Don't strip\n\tFASTCALL_PREFIX.\n\nFrom-SVN: r128362", "tree": {"sha": "fdccbf43d608b52fefc69ac99783511b8a32540b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fdccbf43d608b52fefc69ac99783511b8a32540b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e599ac2befed1db5ce12c92dd8ba0099175c8bd5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e599ac2befed1db5ce12c92dd8ba0099175c8bd5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e599ac2befed1db5ce12c92dd8ba0099175c8bd5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e599ac2befed1db5ce12c92dd8ba0099175c8bd5/comments", "author": null, "committer": null, "parents": [{"sha": "f3d110ef046e4dd98a82ba8a6365427181c16b1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3d110ef046e4dd98a82ba8a6365427181c16b1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3d110ef046e4dd98a82ba8a6365427181c16b1e"}], "stats": {"total": 18, "additions": 8, "deletions": 10}, "files": [{"sha": "e55071362f73f8217cb41f1dc8f97cef83c834fd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e599ac2befed1db5ce12c92dd8ba0099175c8bd5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e599ac2befed1db5ce12c92dd8ba0099175c8bd5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e599ac2befed1db5ce12c92dd8ba0099175c8bd5", "patch": "@@ -1,3 +1,10 @@\n+2007-09-11  Danny Smith  <dannysmith@users.sourceforge.net>\n+\n+\t* config/i386/cygming.h (TARGET_STRIP_NAME_ENCODING): Don't\n+\toverride default.\n+\t* config/i386/i386.c (get_dllimport_decl): Don't strip\n+\tFASTCALL_PREFIX.\n+\n 2007-09-10  Janis Johnson  <janis187@us.ibm.com>\n \n \tPR c/30013"}, {"sha": "6b1c13652df81ea376419ee1d42cb7890650cf60", "filename": "gcc/config/i386/cygming.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e599ac2befed1db5ce12c92dd8ba0099175c8bd5/gcc%2Fconfig%2Fi386%2Fcygming.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e599ac2befed1db5ce12c92dd8ba0099175c8bd5/gcc%2Fconfig%2Fi386%2Fcygming.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fcygming.h?ref=e599ac2befed1db5ce12c92dd8ba0099175c8bd5", "patch": "@@ -183,8 +183,6 @@ do {\t\t\t\t\t\t\t\t\t\\\n    Note that we can be called twice on the same decl.  */\n \n #define SUBTARGET_ENCODE_SECTION_INFO  i386_pe_encode_section_info\n-#undef  TARGET_STRIP_NAME_ENCODING\n-#define TARGET_STRIP_NAME_ENCODING  i386_pe_strip_name_encoding_full\n \n /* Output a common block.  */\n #undef ASM_OUTPUT_ALIGNED_DECL_COMMON"}, {"sha": "57fb628a48948b89c61df8af8eb260bad048b772", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e599ac2befed1db5ce12c92dd8ba0099175c8bd5/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e599ac2befed1db5ce12c92dd8ba0099175c8bd5/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=e599ac2befed1db5ce12c92dd8ba0099175c8bd5", "patch": "@@ -7820,14 +7820,7 @@ get_dllimport_decl (tree decl)\n \n   name = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (decl));\n   name = targetm.strip_name_encoding (name);\n-  if (name[0] == FASTCALL_PREFIX)\n-    {\n-      name++;\n-      prefix = \"*__imp_\";\n-    }\n-  else\n-    prefix = \"*__imp__\";\n-\n+  prefix = name[0] == FASTCALL_PREFIX  ?  \"*__imp_\": \"*__imp__\";\n   namelen = strlen (name);\n   prefixlen = strlen (prefix);\n   imp_name = (char *) alloca (namelen + prefixlen + 1);"}]}