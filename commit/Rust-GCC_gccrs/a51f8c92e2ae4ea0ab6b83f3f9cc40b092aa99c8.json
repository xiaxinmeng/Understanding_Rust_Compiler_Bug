{"sha": "a51f8c92e2ae4ea0ab6b83f3f9cc40b092aa99c8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTUxZjhjOTJlMmFlNGVhMGFiNmI4M2YzZjljYzQwYjA5MmFhOTljOA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2018-12-13T12:53:19Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2018-12-13T12:53:19Z"}, "message": "re PR libgomp/88460 ([nvptx] FAIL: libgomp.c++/for-24.C (internal compiler error))\n\n\tPR libgomp/88460\n\t* testsuite/libgomp.c++/for-24.C (results): Include it in\n\tomp declare target region.\n\t(main): Use map (always, tofrom: results) instead of\n\tmap (tofrom: results).\n\nFrom-SVN: r267093", "tree": {"sha": "9a2cb9545ef122cb594e9c6d3312bd144cc33148", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a2cb9545ef122cb594e9c6d3312bd144cc33148"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a51f8c92e2ae4ea0ab6b83f3f9cc40b092aa99c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a51f8c92e2ae4ea0ab6b83f3f9cc40b092aa99c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a51f8c92e2ae4ea0ab6b83f3f9cc40b092aa99c8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a51f8c92e2ae4ea0ab6b83f3f9cc40b092aa99c8/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b9cbcd3ef0db14c018c60339a39fee628202ded1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9cbcd3ef0db14c018c60339a39fee628202ded1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b9cbcd3ef0db14c018c60339a39fee628202ded1"}], "stats": {"total": 46, "additions": 26, "deletions": 20}, "files": [{"sha": "3a50f39876d46bc57360da6c22406bb4fff17ee8", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a51f8c92e2ae4ea0ab6b83f3f9cc40b092aa99c8/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a51f8c92e2ae4ea0ab6b83f3f9cc40b092aa99c8/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=a51f8c92e2ae4ea0ab6b83f3f9cc40b092aa99c8", "patch": "@@ -1,3 +1,11 @@\n+2018-12-13  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR libgomp/88460\n+\t* testsuite/libgomp.c++/for-24.C (results): Include it in\n+\tomp declare target region.\n+\t(main): Use map (always, tofrom: results) instead of\n+\tmap (tofrom: results).\n+\n 2018-12-12  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR fortran/88463"}, {"sha": "99f74e469114e0deb4c115a3bc957c484a1fdf34", "filename": "libgomp/testsuite/libgomp.c++/for-24.C", "status": "modified", "additions": 18, "deletions": 20, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a51f8c92e2ae4ea0ab6b83f3f9cc40b092aa99c8/libgomp%2Ftestsuite%2Flibgomp.c%2B%2B%2Ffor-24.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a51f8c92e2ae4ea0ab6b83f3f9cc40b092aa99c8/libgomp%2Ftestsuite%2Flibgomp.c%2B%2B%2Ffor-24.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2B%2B%2Ffor-24.C?ref=a51f8c92e2ae4ea0ab6b83f3f9cc40b092aa99c8", "patch": "@@ -113,11 +113,9 @@ short c[50];\n int d[1024];\n K e[1089];\n L f[1093];\n-#pragma omp end declare target\n \n int results[2000];\n \n-#pragma omp declare target\n template <typename T>\n void\n baz (I<T> &i)\n@@ -370,58 +368,58 @@ main ()\n       f[i].c = 5 * i;\n     }\n   #pragma omp target update to (a, b, c, d, e, f)\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f1 ();\n   check (1);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f2 ();\n   check (1);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f3 ();\n   check (1);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f4 (J<int> (&a[14], &a[1803]));\n   check (i >= 14 && i < 1803);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f5 ();\n   check (i >= 0 && i < 1024);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f6 (J<K> (&e[19], &e[1029]));\n   check (i >= 19 && i < 1029);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f7 (J<L> (&f[15], &f[1091]));\n   check (i >= 15 && i < 1091);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f8 (J<K> (&e[27], &e[1037]));\n   check (i >= 27 && i < 1037);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f9 (J<L> (&f[1], &f[1012]));\n   check (i >= 1 && i < 1012);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f10 <0> ();\n   check (1);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f11 <1> ();\n   check (1);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f12 <2> ();\n   check (1);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f13 (J<int> (&a[24], &a[1703]));\n   check (i >= 24 && i < 1703);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f14 <1024> ();\n   check (i >= 0 && i < 1024);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f15 (J<K> (&e[39], &e[929]));\n   check (i >= 39 && i < 929);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f16 (J<L> (&f[17], &f[1071]));\n   check (i >= 17 && i < 1071);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f17 <3> (J<K> (&e[7], &e[1017]));\n   check (i >= 7 && i < 1017);\n-  #pragma omp target teams map (tofrom: results)\n+  #pragma omp target teams map (always, tofrom: results)\n   f18 <5> (J<L> (&f[121], &f[1010]));\n   check (i >= 121 && i < 1010);\n }"}]}