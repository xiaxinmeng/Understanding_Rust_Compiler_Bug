{"sha": "e24e721187ece610590c92b1a19b42b5d8ffe306", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTI0ZTcyMTE4N2VjZTYxMDU5MGM5MmIxYTE5YjQyYjVkOGZmZTMwNg==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2004-01-16T11:30:48Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-01-16T11:30:48Z"}, "message": "re PR rtl-optimization/11350 (undefined labels with -Os -fPIC)\n\n        PR opt/11350\n        * cfgcleanup.c (try_optimize_cfg): Suppress tablejump removal\n        after reload.\n        * cfgrtl.c (rtl_can_merge_blocks, cfglayout_can_merge_blocks,\n        rtl_try_redirect_by_replacing_branch): Likewise.\n\nFrom-SVN: r75968", "tree": {"sha": "035b836f27718d7ce18d5d4320d638b8f3678625", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/035b836f27718d7ce18d5d4320d638b8f3678625"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e24e721187ece610590c92b1a19b42b5d8ffe306", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e24e721187ece610590c92b1a19b42b5d8ffe306", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e24e721187ece610590c92b1a19b42b5d8ffe306", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e24e721187ece610590c92b1a19b42b5d8ffe306/comments", "author": null, "committer": null, "parents": [{"sha": "fbf3e0dd2d5fe2d7667a7463baafb5b862d70362", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fbf3e0dd2d5fe2d7667a7463baafb5b862d70362", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fbf3e0dd2d5fe2d7667a7463baafb5b862d70362"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "d57fcb051df0f3dfc5b822c6ffa9f3c5449dc5ba", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e24e721187ece610590c92b1a19b42b5d8ffe306/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e24e721187ece610590c92b1a19b42b5d8ffe306/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e24e721187ece610590c92b1a19b42b5d8ffe306", "patch": "@@ -1,3 +1,11 @@\n+2004-01-16  Jan Hubicka  <jh@suse.cz>\n+\n+        PR opt/11350\n+        * cfgcleanup.c (try_optimize_cfg): Suppress tablejump removal\n+\tafter reload.\n+        * cfgrtl.c (rtl_can_merge_blocks, cfglayout_can_merge_blocks,\n+        rtl_try_redirect_by_replacing_branch): Likewise.\n+\n 2004-01-15  Geoffrey Keating  <geoffk@apple.com>\n \n \tPR pch/13689"}, {"sha": "3da1ea5ae59d6207242d5fbacbac3daa146ed5f0", "filename": "gcc/cfgcleanup.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e24e721187ece610590c92b1a19b42b5d8ffe306/gcc%2Fcfgcleanup.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e24e721187ece610590c92b1a19b42b5d8ffe306/gcc%2Fcfgcleanup.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgcleanup.c?ref=e24e721187ece610590c92b1a19b42b5d8ffe306", "patch": "@@ -1766,7 +1766,7 @@ try_optimize_cfg (int mode)\n \t\t\t   /* If the jump insn has side effects,\n \t\t\t      we can't kill the edge.  */\n \t\t\t   && (GET_CODE (BB_END (b)) != JUMP_INSN\n-\t\t\t       || (flow2_completed\n+\t\t\t       || (reload_completed\n \t\t\t\t   ? simplejump_p (BB_END (b))\n \t\t\t\t   : onlyjump_p (BB_END (b))))\n \t\t\t   && (next = merge_blocks_move (s, b, c, mode)))"}, {"sha": "c1b17455345cebb5775f0fd77f9754f20b3992a1", "filename": "gcc/cfgrtl.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e24e721187ece610590c92b1a19b42b5d8ffe306/gcc%2Fcfgrtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e24e721187ece610590c92b1a19b42b5d8ffe306/gcc%2Fcfgrtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgrtl.c?ref=e24e721187ece610590c92b1a19b42b5d8ffe306", "patch": "@@ -661,7 +661,7 @@ rtl_can_merge_blocks (basic_block a,basic_block b)\n \t  /* If the jump insn has side effects,\n \t     we can't kill the edge.  */\n \t  && (GET_CODE (BB_END (a)) != JUMP_INSN\n-\t      || (flow2_completed\n+\t      || (reload_completed\n \t\t  ? simplejump_p (BB_END (a)) : onlyjump_p (BB_END (a)))));\n }\n \f\n@@ -703,7 +703,7 @@ try_redirect_by_replacing_jump (edge e, basic_block target, bool in_cfglayout)\n \n   if (tmp || !onlyjump_p (insn))\n     return false;\n-  if ((!optimize || flow2_completed) && tablejump_p (insn, NULL, NULL))\n+  if ((!optimize || reload_completed) && tablejump_p (insn, NULL, NULL))\n     return false;\n \n   /* Avoid removing branch with side effects.  */\n@@ -2607,7 +2607,7 @@ cfg_layout_can_merge_blocks_p (basic_block a, basic_block b)\n \t  /* If the jump insn has side effects,\n \t     we can't kill the edge.  */\n \t  && (GET_CODE (BB_END (a)) != JUMP_INSN\n-\t      || (flow2_completed\n+\t      || (reload_completed\n \t\t  ? simplejump_p (BB_END (a)) : onlyjump_p (BB_END (a)))));\n }\n "}]}