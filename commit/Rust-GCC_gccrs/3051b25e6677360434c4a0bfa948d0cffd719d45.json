{"sha": "3051b25e6677360434c4a0bfa948d0cffd719d45", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzA1MWIyNWU2Njc3MzYwNDM0YzRhMGJmYTk0OGQwY2ZmZDcxOWQ0NQ==", "commit": {"author": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2019-03-18T17:35:54Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2019-03-18T17:35:54Z"}, "message": "re PR fortran/68009 (prototype for gfortran_runtime_error with inline matmul)\n\n2019-03-18  Thomas Koenig  <tkoeng@gcc.gnu.org>\n\n\tPR fortran/68009\n\t* iresolve.c: Include trans.h.\n\t(gfc_resolve_fe_runtine_error): Set backend_decl on\n\tresolved_sym.\n\nFrom-SVN: r269769", "tree": {"sha": "11f6fde80671c3f2617ebb6455b9894e06204f43", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/11f6fde80671c3f2617ebb6455b9894e06204f43"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3051b25e6677360434c4a0bfa948d0cffd719d45", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3051b25e6677360434c4a0bfa948d0cffd719d45", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3051b25e6677360434c4a0bfa948d0cffd719d45", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3051b25e6677360434c4a0bfa948d0cffd719d45/comments", "author": null, "committer": null, "parents": [{"sha": "b6e45a40cde2c8e7a18b62cca23dcd2f6916afa1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6e45a40cde2c8e7a18b62cca23dcd2f6916afa1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6e45a40cde2c8e7a18b62cca23dcd2f6916afa1"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "4dd35ec6030cec691563628dd4d6f6e5406ee472", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3051b25e6677360434c4a0bfa948d0cffd719d45/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3051b25e6677360434c4a0bfa948d0cffd719d45/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=3051b25e6677360434c4a0bfa948d0cffd719d45", "patch": "@@ -1,3 +1,10 @@\n+2019-03-18  Thomas Koenig  <tkoeng@gcc.gnu.org>\n+\n+\tPR fortran/68009\n+\t* iresolve.c: Include trans.h.\n+\t(gfc_resolve_fe_runtine_error): Set backend_decl on\n+\tresolved_sym.\n+\n 2019-03-17  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/88008"}, {"sha": "53338dda0a7feace2ae19ad30e9478e068a8aa01", "filename": "gcc/fortran/iresolve.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3051b25e6677360434c4a0bfa948d0cffd719d45/gcc%2Ffortran%2Firesolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3051b25e6677360434c4a0bfa948d0cffd719d45/gcc%2Ffortran%2Firesolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Firesolve.c?ref=3051b25e6677360434c4a0bfa948d0cffd719d45", "patch": "@@ -35,6 +35,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"intrinsic.h\"\n #include \"constructor.h\"\n #include \"arith.h\"\n+#include \"trans.h\"\n \n /* Given printf-like arguments, return a stable version of the result string.\n \n@@ -2495,6 +2496,10 @@ gfc_resolve_fe_runtime_error (gfc_code *c)\n     a->name = \"%VAL\";\n \n   c->resolved_sym = gfc_get_intrinsic_sub_symbol (name);\n+  /* We set the backend_decl here because runtime_error is a\n+     variadic function and we would use the wrong calling\n+     convention otherwise.  */\n+  c->resolved_sym->backend_decl = gfor_fndecl_runtime_error;\n }\n \n void"}]}