{"sha": "4e762a3831844570de605fab7f1b92ca905a28d5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGU3NjJhMzgzMTg0NDU3MGRlNjA1ZmFiN2YxYjkyY2E5MDVhMjhkNQ==", "commit": {"author": {"name": "John Carr", "email": "jfc@mit.edu", "date": "1998-01-22T23:26:28Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-01-22T23:26:28Z"}, "message": "toplev.c (get_run_time): Call sysconf(_SC_CLK_TCK), when available, to get clock rate.\n\n        * toplev.c (get_run_time): Call sysconf(_SC_CLK_TCK), when available,\n        to get clock rate.\n\nFrom-SVN: r17454", "tree": {"sha": "a7adb0bc7660f9fdfc96eb251e76b4fadcfc3652", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a7adb0bc7660f9fdfc96eb251e76b4fadcfc3652"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4e762a3831844570de605fab7f1b92ca905a28d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e762a3831844570de605fab7f1b92ca905a28d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e762a3831844570de605fab7f1b92ca905a28d5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e762a3831844570de605fab7f1b92ca905a28d5/comments", "author": {"login": "VoxSciurorum", "id": 60116679, "node_id": "MDQ6VXNlcjYwMTE2Njc5", "avatar_url": "https://avatars.githubusercontent.com/u/60116679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VoxSciurorum", "html_url": "https://github.com/VoxSciurorum", "followers_url": "https://api.github.com/users/VoxSciurorum/followers", "following_url": "https://api.github.com/users/VoxSciurorum/following{/other_user}", "gists_url": "https://api.github.com/users/VoxSciurorum/gists{/gist_id}", "starred_url": "https://api.github.com/users/VoxSciurorum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VoxSciurorum/subscriptions", "organizations_url": "https://api.github.com/users/VoxSciurorum/orgs", "repos_url": "https://api.github.com/users/VoxSciurorum/repos", "events_url": "https://api.github.com/users/VoxSciurorum/events{/privacy}", "received_events_url": "https://api.github.com/users/VoxSciurorum/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "319f217eca47568bea8795b0dec7257f7f430773", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/319f217eca47568bea8795b0dec7257f7f430773", "html_url": "https://github.com/Rust-GCC/gccrs/commit/319f217eca47568bea8795b0dec7257f7f430773"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "5ab4020d7a1fcd0e96e05fd9b84aed6be012e373", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e762a3831844570de605fab7f1b92ca905a28d5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e762a3831844570de605fab7f1b92ca905a28d5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4e762a3831844570de605fab7f1b92ca905a28d5", "patch": "@@ -1,3 +1,8 @@\n+Fri Jan 23 00:27:23 1998  John Carr  <jfc@mit.edu>\n+\n+\t* toplev.c (get_run_time): Call sysconf(_SC_CLK_TCK), when available,\n+\tto get clock rate.\n+\n Fri Jan 23 00:19:36 1998  Gavin Kock  (gavin@cygnus.com)\n \n \t* mips.md (muldi3_internal2): Reverse test for TARGET_MIPS16."}, {"sha": "7c24242bf58116a2eb469dda4456b7b319331bc1", "filename": "gcc/toplev.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e762a3831844570de605fab7f1b92ca905a28d5/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e762a3831844570de605fab7f1b92ca905a28d5/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=4e762a3831844570de605fab7f1b92ca905a28d5", "patch": "@@ -1021,6 +1021,15 @@ get_run_time ()\n   else\n     return (clock() * 1000);\n #else /* not _WIN32 */\n+#ifdef _SC_CLK_TCK\n+  {\n+    static int tick;\n+    if (tick == 0)\n+      tick = 1000000 / sysconf(_SC_CLK_TCK);\n+    times (&tms);\n+    return (tms.tms_utime + tms.tms_stime) * tick;\n+  }\n+#else\n #ifdef USG\n   times (&tms);\n   return (tms.tms_utime + tms.tms_stime) * (1000000 / HZ);\n@@ -1034,6 +1043,7 @@ get_run_time ()\n   return (vms_times.proc_user_time + vms_times.proc_system_time) * 10000;\n #endif\t/* VMS */\n #endif\t/* USG */\n+#endif  /* _SC_CLK_TCK */\n #endif\t/* _WIN32 */\n #endif\t/* __BEOS__ */\n }"}]}