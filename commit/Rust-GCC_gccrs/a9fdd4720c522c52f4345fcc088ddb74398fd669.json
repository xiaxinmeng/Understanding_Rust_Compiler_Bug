{"sha": "a9fdd4720c522c52f4345fcc088ddb74398fd669", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTlmZGQ0NzIwYzUyMmM1MmY0MzQ1ZmNjMDg4ZGRiNzQzOThmZDY2OQ==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2005-07-27T18:28:32Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2005-07-27T18:28:32Z"}, "message": "Index: gcc/ChangeLog\n2005-07-25  Geoffrey Keating  <geoffk@apple.com>\n\n\t* doc/install.texi (Prerequisites): Mention that perl is needed\n\tto do export control in libstdc++ targetting Darwin.\n\nIndex: libstdc++-v3/ChangeLog\n2005-07-25  Geoffrey Keating  <geoffk@apple.com>\n\n\t* acinclude.m4 (GLIBCXX_ENABLE_SYMVERS): Handle darwin-export,\n\tand make it the default for Darwin.\n\t* scripts/make-exports.pl: New.\n\t* src/Makefile.am: Update for changes to GLIBCXX_ENABLE_SYMVERS.\n\tHandle darwin-export.\n\t* configure: Regenerate.\n\t* include/Makefile.in: Regenerate.\n\t* libmath/Makefile.in: Regenerate.\n\t* libsupc++/Makefile.in: Regenerate.\n\t* po/Makefile.in: Regenerate.\n\t* src/Makefile.in: Regenerate.\n\t* testsuite/Makefile.in: Regenerate.\n\nFrom-SVN: r102435", "tree": {"sha": "e4d8c8d7fa5b4512adf5d4b69092ac796a85502f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e4d8c8d7fa5b4512adf5d4b69092ac796a85502f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a9fdd4720c522c52f4345fcc088ddb74398fd669", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9fdd4720c522c52f4345fcc088ddb74398fd669", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9fdd4720c522c52f4345fcc088ddb74398fd669", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9fdd4720c522c52f4345fcc088ddb74398fd669/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2bd1e239eed6f64319af87e9f437eab1ca83d63e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bd1e239eed6f64319af87e9f437eab1ca83d63e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2bd1e239eed6f64319af87e9f437eab1ca83d63e"}], "stats": {"total": 530, "additions": 399, "deletions": 131}, "files": [{"sha": "baca021515fb5c3f6eec7909a6052226e0482a75", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9fdd4720c522c52f4345fcc088ddb74398fd669/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9fdd4720c522c52f4345fcc088ddb74398fd669/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a9fdd4720c522c52f4345fcc088ddb74398fd669", "patch": "@@ -1,3 +1,8 @@\n+2005-07-25  Geoffrey Keating  <geoffk@apple.com>\n+\n+\t* doc/install.texi (Prerequisites): Mention that perl is needed\n+\tto do export control in libstdc++ targetting Darwin.\n+\n 2005-07-27  Steven Bosscher  <stevenb@suse.de>\n \n \tPR rtl-optimization/17808"}, {"sha": "c1853bda5ce49416e10068f75d67553549b29273", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9fdd4720c522c52f4345fcc088ddb74398fd669/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9fdd4720c522c52f4345fcc088ddb74398fd669/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=a9fdd4720c522c52f4345fcc088ddb74398fd669", "patch": "@@ -398,6 +398,8 @@ snapshots of the development sources are also available via FTP@.\n Necessary when regenerating @file{Makefile} dependencies in libiberty.\n Necessary when regenerating @file{libiberty/functions.texi}.\n Necessary when generating manpages from Texinfo manuals.\n+Necessary when targetting Darwin, building libstdc++,\n+and not using @option{--disable-symvers}.\n Used by various scripts to generate some files included in CVS (mainly\n Unicode-related and rarely changing) from source tables.\n "}, {"sha": "21f0924e243ffef05204c56612d9ba4a6bd1c562", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=a9fdd4720c522c52f4345fcc088ddb74398fd669", "patch": "@@ -1,3 +1,18 @@\n+2005-07-25  Geoffrey Keating  <geoffk@apple.com>\n+\n+\t* acinclude.m4 (GLIBCXX_ENABLE_SYMVERS): Handle darwin-export,\n+\tand make it the default for Darwin.\n+\t* scripts/make-exports.pl: New.\n+\t* src/Makefile.am: Update for changes to GLIBCXX_ENABLE_SYMVERS.\n+\tHandle darwin-export.\n+\t* configure: Regenerate.\n+\t* include/Makefile.in: Regenerate.\n+\t* libmath/Makefile.in: Regenerate.\n+\t* libsupc++/Makefile.in: Regenerate.\n+\t* po/Makefile.in: Regenerate.\n+\t* src/Makefile.in: Regenerate.\n+\t* testsuite/Makefile.in: Regenerate.\n+\n 2005-07-25  Dave Odell  <evilalias@hotmail.com>\n \n \tPR libstdc++/23053"}, {"sha": "f328c63f5e596f5916edf4c6174c47419455f579", "filename": "libstdc++-v3/Makefile.in", "status": "modified", "additions": 21, "deletions": 7, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FMakefile.in?ref=a9fdd4720c522c52f4345fcc088ddb74398fd669", "patch": "@@ -2,7 +2,7 @@\n # @configure_input@\n \n # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n-# 2003, 2004  Free Software Foundation, Inc.\n+# 2003, 2004, 2005  Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -129,14 +129,16 @@ ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n EGREP = @EGREP@\n+ENABLE_SYMVERS_DARWIN_EXPORT_FALSE = @ENABLE_SYMVERS_DARWIN_EXPORT_FALSE@\n+ENABLE_SYMVERS_DARWIN_EXPORT_TRUE = @ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@\n+ENABLE_SYMVERS_GNU_FALSE = @ENABLE_SYMVERS_GNU_FALSE@\n+ENABLE_SYMVERS_GNU_TRUE = @ENABLE_SYMVERS_GNU_TRUE@\n EXEEXT = @EXEEXT@\n EXTRA_CXX_FLAGS = @EXTRA_CXX_FLAGS@\n GLIBCXX_BUILD_DEBUG_FALSE = @GLIBCXX_BUILD_DEBUG_FALSE@\n GLIBCXX_BUILD_DEBUG_TRUE = @GLIBCXX_BUILD_DEBUG_TRUE@\n GLIBCXX_BUILD_PCH_FALSE = @GLIBCXX_BUILD_PCH_FALSE@\n GLIBCXX_BUILD_PCH_TRUE = @GLIBCXX_BUILD_PCH_TRUE@\n-GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE = @GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE@\n-GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE = @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\n GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE = @GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE@\n GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE = @GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE@\n GLIBCXX_C_HEADERS_C_FALSE = @GLIBCXX_C_HEADERS_C_FALSE@\n@@ -408,7 +410,13 @@ uninstall-info-am:\n #     (which will cause the Makefiles to be regenerated when you run `make');\n # (2) otherwise, pass the desired values on the `make' command line.\n $(RECURSIVE_TARGETS):\n-\t@set fnord $$MAKEFLAGS; amf=$$2; \\\n+\t@failcom='exit 1'; \\\n+\tfor f in x $$MAKEFLAGS; do \\\n+\t  case $$f in \\\n+\t    *=* | --[!k]*);; \\\n+\t    *k*) failcom='fail=yes';; \\\n+\t  esac; \\\n+\tdone; \\\n \tdot_seen=no; \\\n \ttarget=`echo $@ | sed s/-recursive//`; \\\n \tlist='$(SUBDIRS)'; for subdir in $$list; do \\\n@@ -420,15 +428,21 @@ $(RECURSIVE_TARGETS):\n \t    local_target=\"$$target\"; \\\n \t  fi; \\\n \t  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \\\n-\t   || case \"$$amf\" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \\\n+\t  || eval $$failcom; \\\n \tdone; \\\n \tif test \"$$dot_seen\" = \"no\"; then \\\n \t  $(MAKE) $(AM_MAKEFLAGS) \"$$target-am\" || exit 1; \\\n \tfi; test -z \"$$fail\"\n \n mostlyclean-recursive clean-recursive distclean-recursive \\\n maintainer-clean-recursive:\n-\t@set fnord $$MAKEFLAGS; amf=$$2; \\\n+\t@failcom='exit 1'; \\\n+\tfor f in x $$MAKEFLAGS; do \\\n+\t  case $$f in \\\n+\t    *=* | --[!k]*);; \\\n+\t    *k*) failcom='fail=yes';; \\\n+\t  esac; \\\n+\tdone; \\\n \tdot_seen=no; \\\n \tcase \"$@\" in \\\n \t  distclean-* | maintainer-clean-*) list='$(DIST_SUBDIRS)' ;; \\\n@@ -449,7 +463,7 @@ maintainer-clean-recursive:\n \t    local_target=\"$$target\"; \\\n \t  fi; \\\n \t  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \\\n-\t   || case \"$$amf\" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \\\n+\t  || eval $$failcom; \\\n \tdone && test -z \"$$fail\"\n tags-recursive:\n \tlist='$(SUBDIRS)'; for subdir in $$list; do \\"}, {"sha": "6e5b4224a787bf64bc26f1045a8717554a8d478c", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 53, "deletions": 39, "changes": 92, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=a9fdd4720c522c52f4345fcc088ddb74398fd669", "patch": "@@ -1671,16 +1671,30 @@ AC_DEFUN([GLIBCXX_ENABLE_SYMVERS], [\n \n GLIBCXX_ENABLE(symvers,$1,[=STYLE],\n   [enables symbol versioning of the shared library],\n-  [permit yes|no|gnu])\n+  [permit yes|no|gnu|darwin-export])\n \n # If we never went through the GLIBCXX_CHECK_LINKER_FEATURES macro, then we\n # don't know enough about $LD to do tricks...\n AC_REQUIRE([GLIBCXX_CHECK_LINKER_FEATURES])\n-# FIXME  The following test is too strict, in theory.\n-if test $enable_shared = no ||\n-        test \"x$LD\" = x ||\n-        test x$glibcxx_gnu_ld_version = x; then\n-  enable_symvers=no\n+\n+# Turn a 'yes' into a suitable default.\n+if test x$enable_symvers = xyes ; then\n+  if test $enable_shared = no ||\n+     test \"x$LD\" = x ; then\n+    enable_symvers=no\n+  elif test $with_gnu_ld == yes ; then\n+    enable_symvers=gnu\n+  else\n+    case ${target_os} in\n+      darwin*)\n+\tenable_symvers=darwin-export ;;\n+      *)\n+      AC_MSG_WARN([=== You have requested some kind of symbol versioning, but])\n+      AC_MSG_WARN([=== you are not using a supported linker.])\n+      AC_MSG_WARN([=== Symbol versioning will be disabled.])\n+\tenable_symvers=no ;;\n+    esac\n+  fi\n fi\n \n # Check to see if libgcc_s exists, indicating that shared libgcc is possible.\n@@ -1710,39 +1724,34 @@ changequote([,])dnl\n   AC_MSG_RESULT($glibcxx_shared_libgcc)\n fi\n \n-# For GNU ld, we need at least this version.  The format is described in\n-# GLIBCXX_CHECK_LINKER_FEATURES above.\n-glibcxx_min_gnu_ld_version=21400\n+# If no shared libgcc, can't win.\n+if test $glibcxx_shared_libgcc != yes &&\n+   test $enable_symvers != no ; then\n+    AC_MSG_WARN([=== You have requested some kind of symbol versioning, but])\n+    AC_MSG_WARN([=== you are not building a shared libgcc_s.])\n+    AC_MSG_WARN([=== Symbol versioning will be disabled.])\n+    enable_symvers=no\n+  enable_symvers=no\n+fi\n+\n+# Check to see if 'gnu' can win.\n+if test $enable_symvers = gnu; then\n+  # For GNU ld, we need at least this version.  The format is described in\n+  # GLIBCXX_CHECK_LINKER_FEATURES above.\n+  glibcxx_min_gnu_ld_version=21400\n \n-# Check to see if unspecified \"yes\" value can win, given results above.\n-# Change \"yes\" into either \"no\" or a style name.\n-if test $enable_symvers = yes; then\n-  if test $with_gnu_ld = yes &&\n-     test $glibcxx_shared_libgcc = yes;\n-  then\n-    if test $glibcxx_gnu_ld_version -ge $glibcxx_min_gnu_ld_version ; then\n-      enable_symvers=gnu\n-    else\n-      # The right tools, the right setup, but too old.  Fallbacks?\n-      AC_MSG_WARN(=== Linker version $glibcxx_gnu_ld_version is too old for)\n-      AC_MSG_WARN(=== full symbol versioning support in this release of GCC.)\n-      AC_MSG_WARN(=== You would need to upgrade your binutils to version)\n-      AC_MSG_WARN(=== $glibcxx_min_gnu_ld_version or later and rebuild GCC.)\n-      if test $glibcxx_gnu_ld_version -ge 21200 ; then\n-        # Globbing fix is present, proper block support is not.\n-        AC_MSG_WARN([=== Symbol versioning will be disabled.])\n-        enable_symvers=no\n-      else\n-        # 2.11 or older.\n-        AC_MSG_WARN([=== Symbol versioning will be disabled.])\n-        enable_symvers=no\n-      fi\n-    fi\n-  else\n+  if test $with_gnu_ld != yes ; then\n     # just fail for now\n-    AC_MSG_WARN([=== You have requested some kind of symbol versioning, but])\n-    AC_MSG_WARN([=== either you are not using a supported linker, or you are])\n-    AC_MSG_WARN([=== not building a shared libgcc_s (which is required).])\n+    AC_MSG_WARN([=== You have requested GNU symbol versioning, but])\n+    AC_MSG_WARN([=== you are not using the GNU linker.])\n+    AC_MSG_WARN([=== Symbol versioning will be disabled.])\n+    enable_symvers=no\n+  elif test $glibcxx_gnu_ld_version -lt $glibcxx_min_gnu_ld_version ; then\n+    # The right tools, the right setup, but too old.  Fallbacks?\n+    AC_MSG_WARN(=== Linker version $glibcxx_gnu_ld_version is too old for)\n+    AC_MSG_WARN(=== full symbol versioning support in this release of GCC.)\n+    AC_MSG_WARN(=== You would need to upgrade your binutils to version)\n+    AC_MSG_WARN(=== $glibcxx_min_gnu_ld_version or later and rebuild GCC.)\n     AC_MSG_WARN([=== Symbol versioning will be disabled.])\n     enable_symvers=no\n   fi\n@@ -1756,7 +1765,10 @@ case $enable_symvers in\n   gnu)\n     SYMVER_MAP=config/linker-map.gnu\n     AC_DEFINE(_GLIBCXX_SYMVER, 1, \n-              [Define to use symbol versioning in the shared library.])\n+              [Define to use GNU symbol versioning in the shared library.])\n+    ;;\n+  darwin-export)\n+    SYMVER_MAP=config/linker-map.gnu\n     ;;\n esac\n \n@@ -1787,7 +1799,9 @@ AC_MSG_RESULT([$glibcxx_ptrdiff_t_is_i])\n \n AC_SUBST(SYMVER_MAP)\n AC_SUBST(port_specific_symbol_files)\n-GLIBCXX_CONDITIONAL(GLIBCXX_BUILD_VERSIONED_SHLIB, test $enable_symvers != no)\n+GLIBCXX_CONDITIONAL(ENABLE_SYMVERS_GNU, test $enable_symvers == gnu)\n+GLIBCXX_CONDITIONAL(ENABLE_SYMVERS_DARWIN_EXPORT, dnl\n+  test $enable_symvers == darwin-export)\n AC_MSG_NOTICE(versioning on shared library symbols is $enable_symvers)\n ])\n "}, {"sha": "c8b3f6a8c810b06821d3ec028de02159c8fa61f8", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 91, "deletions": 54, "changes": 145, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=a9fdd4720c522c52f4345fcc088ddb74398fd669", "patch": "@@ -309,7 +309,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS libtool_VERSION multi_basedir build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar glibcxx_builddir glibcxx_srcdir toplevel_srcdir CC ac_ct_CC EXEEXT OBJEXT CXX ac_ct_CXX CFLAGS CXXFLAGS LN_S AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LIBTOOL CXXCPP CPPFLAGS enable_shared enable_static GLIBCXX_HOSTED_TRUE GLIBCXX_HOSTED_FALSE GLIBCXX_BUILD_PCH_TRUE GLIBCXX_BUILD_PCH_FALSE glibcxx_PCHFLAGS CSTDIO_H BASIC_FILE_H BASIC_FILE_CC CPP EGREP check_msgfmt glibcxx_MOFILES glibcxx_POFILES glibcxx_localedir USE_NLS CLOCALE_H CMESSAGES_H CCODECVT_CC CCOLLATE_CC CCTYPE_CC CMESSAGES_CC CMONEY_CC CNUMERIC_CC CTIME_H CTIME_CC CLOCALE_CC CLOCALE_INTERNAL_H ALLOCATOR_H ALLOCATOR_NAME C_INCLUDE_DIR GLIBCXX_C_HEADERS_C_TRUE GLIBCXX_C_HEADERS_C_FALSE GLIBCXX_C_HEADERS_C_STD_TRUE GLIBCXX_C_HEADERS_C_STD_FALSE GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE DEBUG_FLAGS GLIBCXX_BUILD_DEBUG_TRUE GLIBCXX_BUILD_DEBUG_FALSE EXTRA_CXX_FLAGS glibcxx_thread_h WERROR SECTION_FLAGS SECTION_LDFLAGS OPT_LDFLAGS LIBMATHOBJS LIBICONV SYMVER_MAP port_specific_symbol_files GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE baseline_dir ATOMICITY_SRCDIR ATOMIC_WORD_SRCDIR ABI_TWEAKS_SRCDIR OS_INC_SRCDIR glibcxx_prefixdir gxx_include_dir glibcxx_toolexecdir glibcxx_toolexeclibdir GLIBCXX_INCLUDES TOPLEVEL_INCLUDES OPTIMIZE_CXXFLAGS WARN_FLAGS LIBSUPCXX_PICFLAGS LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS libtool_VERSION multi_basedir build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar glibcxx_builddir glibcxx_srcdir toplevel_srcdir CC ac_ct_CC EXEEXT OBJEXT CXX ac_ct_CXX CFLAGS CXXFLAGS LN_S AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LIBTOOL CXXCPP CPPFLAGS enable_shared enable_static GLIBCXX_HOSTED_TRUE GLIBCXX_HOSTED_FALSE GLIBCXX_BUILD_PCH_TRUE GLIBCXX_BUILD_PCH_FALSE glibcxx_PCHFLAGS CSTDIO_H BASIC_FILE_H BASIC_FILE_CC CPP EGREP check_msgfmt glibcxx_MOFILES glibcxx_POFILES glibcxx_localedir USE_NLS CLOCALE_H CMESSAGES_H CCODECVT_CC CCOLLATE_CC CCTYPE_CC CMESSAGES_CC CMONEY_CC CNUMERIC_CC CTIME_H CTIME_CC CLOCALE_CC CLOCALE_INTERNAL_H ALLOCATOR_H ALLOCATOR_NAME C_INCLUDE_DIR GLIBCXX_C_HEADERS_C_TRUE GLIBCXX_C_HEADERS_C_FALSE GLIBCXX_C_HEADERS_C_STD_TRUE GLIBCXX_C_HEADERS_C_STD_FALSE GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE DEBUG_FLAGS GLIBCXX_BUILD_DEBUG_TRUE GLIBCXX_BUILD_DEBUG_FALSE EXTRA_CXX_FLAGS glibcxx_thread_h WERROR SECTION_FLAGS SECTION_LDFLAGS OPT_LDFLAGS LIBMATHOBJS LIBICONV SYMVER_MAP port_specific_symbol_files ENABLE_SYMVERS_GNU_TRUE ENABLE_SYMVERS_GNU_FALSE ENABLE_SYMVERS_DARWIN_EXPORT_TRUE ENABLE_SYMVERS_DARWIN_EXPORT_FALSE baseline_dir ATOMICITY_SRCDIR ATOMIC_WORD_SRCDIR ABI_TWEAKS_SRCDIR OS_INC_SRCDIR glibcxx_prefixdir gxx_include_dir glibcxx_toolexecdir glibcxx_toolexeclibdir GLIBCXX_INCLUDES TOPLEVEL_INCLUDES OPTIMIZE_CXXFLAGS WARN_FLAGS LIBSUPCXX_PICFLAGS LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -87145,7 +87145,7 @@ if test \"${enable_symvers+set}\" = set; then\n   enableval=\"$enable_symvers\"\n \n       case \"$enableval\" in\n-       yes|no|gnu) ;;\n+       yes|no|gnu|darwin-export) ;;\n        *) { { echo \"$as_me:$LINENO: error: Unknown argument to enable/disable symvers\" >&5\n echo \"$as_me: error: Unknown argument to enable/disable symvers\" >&2;}\n    { (exit 1); exit 1; }; } ;;\n@@ -87159,11 +87159,28 @@ fi;\n # If we never went through the GLIBCXX_CHECK_LINKER_FEATURES macro, then we\n # don't know enough about $LD to do tricks...\n \n-# FIXME  The following test is too strict, in theory.\n-if test $enable_shared = no ||\n-        test \"x$LD\" = x ||\n-        test x$glibcxx_gnu_ld_version = x; then\n-  enable_symvers=no\n+\n+# Turn a 'yes' into a suitable default.\n+if test x$enable_symvers = xyes ; then\n+  if test $enable_shared = no ||\n+     test \"x$LD\" = x ; then\n+    enable_symvers=no\n+  elif test $with_gnu_ld == yes ; then\n+    enable_symvers=gnu\n+  else\n+    case ${target_os} in\n+      darwin*)\n+\tenable_symvers=darwin-export ;;\n+      *)\n+      { echo \"$as_me:$LINENO: WARNING: === You have requested some kind of symbol versioning, but\" >&5\n+echo \"$as_me: WARNING: === You have requested some kind of symbol versioning, but\" >&2;}\n+      { echo \"$as_me:$LINENO: WARNING: === you are not using a supported linker.\" >&5\n+echo \"$as_me: WARNING: === you are not using a supported linker.\" >&2;}\n+      { echo \"$as_me:$LINENO: WARNING: === Symbol versioning will be disabled.\" >&5\n+echo \"$as_me: WARNING: === Symbol versioning will be disabled.\" >&2;}\n+\tenable_symvers=no ;;\n+    esac\n+  fi\n fi\n \n # Check to see if libgcc_s exists, indicating that shared libgcc is possible.\n@@ -87292,48 +87309,44 @@ rm -f conftest.err conftest.$ac_objext \\\n echo \"${ECHO_T}$glibcxx_shared_libgcc\" >&6\n fi\n \n-# For GNU ld, we need at least this version.  The format is described in\n-# GLIBCXX_CHECK_LINKER_FEATURES above.\n-glibcxx_min_gnu_ld_version=21400\n+# If no shared libgcc, can't win.\n+if test $glibcxx_shared_libgcc != yes &&\n+   test $enable_symvers != no ; then\n+    { echo \"$as_me:$LINENO: WARNING: === You have requested some kind of symbol versioning, but\" >&5\n+echo \"$as_me: WARNING: === You have requested some kind of symbol versioning, but\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: === you are not building a shared libgcc_s.\" >&5\n+echo \"$as_me: WARNING: === you are not building a shared libgcc_s.\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: === Symbol versioning will be disabled.\" >&5\n+echo \"$as_me: WARNING: === Symbol versioning will be disabled.\" >&2;}\n+    enable_symvers=no\n+  enable_symvers=no\n+fi\n+\n+# Check to see if 'gnu' can win.\n+if test $enable_symvers = gnu; then\n+  # For GNU ld, we need at least this version.  The format is described in\n+  # GLIBCXX_CHECK_LINKER_FEATURES above.\n+  glibcxx_min_gnu_ld_version=21400\n \n-# Check to see if unspecified \"yes\" value can win, given results above.\n-# Change \"yes\" into either \"no\" or a style name.\n-if test $enable_symvers = yes; then\n-  if test $with_gnu_ld = yes &&\n-     test $glibcxx_shared_libgcc = yes;\n-  then\n-    if test $glibcxx_gnu_ld_version -ge $glibcxx_min_gnu_ld_version ; then\n-      enable_symvers=gnu\n-    else\n-      # The right tools, the right setup, but too old.  Fallbacks?\n-      { echo \"$as_me:$LINENO: WARNING: === Linker version $glibcxx_gnu_ld_version is too old for\" >&5\n+  if test $with_gnu_ld != yes ; then\n+    # just fail for now\n+    { echo \"$as_me:$LINENO: WARNING: === You have requested GNU symbol versioning, but\" >&5\n+echo \"$as_me: WARNING: === You have requested GNU symbol versioning, but\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: === you are not using the GNU linker.\" >&5\n+echo \"$as_me: WARNING: === you are not using the GNU linker.\" >&2;}\n+    { echo \"$as_me:$LINENO: WARNING: === Symbol versioning will be disabled.\" >&5\n+echo \"$as_me: WARNING: === Symbol versioning will be disabled.\" >&2;}\n+    enable_symvers=no\n+  elif test $glibcxx_gnu_ld_version -lt $glibcxx_min_gnu_ld_version ; then\n+    # The right tools, the right setup, but too old.  Fallbacks?\n+    { echo \"$as_me:$LINENO: WARNING: === Linker version $glibcxx_gnu_ld_version is too old for\" >&5\n echo \"$as_me: WARNING: === Linker version $glibcxx_gnu_ld_version is too old for\" >&2;}\n-      { echo \"$as_me:$LINENO: WARNING: === full symbol versioning support in this release of GCC.\" >&5\n+    { echo \"$as_me:$LINENO: WARNING: === full symbol versioning support in this release of GCC.\" >&5\n echo \"$as_me: WARNING: === full symbol versioning support in this release of GCC.\" >&2;}\n-      { echo \"$as_me:$LINENO: WARNING: === You would need to upgrade your binutils to version\" >&5\n+    { echo \"$as_me:$LINENO: WARNING: === You would need to upgrade your binutils to version\" >&5\n echo \"$as_me: WARNING: === You would need to upgrade your binutils to version\" >&2;}\n-      { echo \"$as_me:$LINENO: WARNING: === $glibcxx_min_gnu_ld_version or later and rebuild GCC.\" >&5\n+    { echo \"$as_me:$LINENO: WARNING: === $glibcxx_min_gnu_ld_version or later and rebuild GCC.\" >&5\n echo \"$as_me: WARNING: === $glibcxx_min_gnu_ld_version or later and rebuild GCC.\" >&2;}\n-      if test $glibcxx_gnu_ld_version -ge 21200 ; then\n-        # Globbing fix is present, proper block support is not.\n-        { echo \"$as_me:$LINENO: WARNING: === Symbol versioning will be disabled.\" >&5\n-echo \"$as_me: WARNING: === Symbol versioning will be disabled.\" >&2;}\n-        enable_symvers=no\n-      else\n-        # 2.11 or older.\n-        { echo \"$as_me:$LINENO: WARNING: === Symbol versioning will be disabled.\" >&5\n-echo \"$as_me: WARNING: === Symbol versioning will be disabled.\" >&2;}\n-        enable_symvers=no\n-      fi\n-    fi\n-  else\n-    # just fail for now\n-    { echo \"$as_me:$LINENO: WARNING: === You have requested some kind of symbol versioning, but\" >&5\n-echo \"$as_me: WARNING: === You have requested some kind of symbol versioning, but\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: === either you are not using a supported linker, or you are\" >&5\n-echo \"$as_me: WARNING: === either you are not using a supported linker, or you are\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: === not building a shared libgcc_s (which is required).\" >&5\n-echo \"$as_me: WARNING: === not building a shared libgcc_s (which is required).\" >&2;}\n     { echo \"$as_me:$LINENO: WARNING: === Symbol versioning will be disabled.\" >&5\n echo \"$as_me: WARNING: === Symbol versioning will be disabled.\" >&2;}\n     enable_symvers=no\n@@ -87352,6 +87365,9 @@ cat >>confdefs.h <<\\_ACEOF\n #define _GLIBCXX_SYMVER 1\n _ACEOF\n \n+    ;;\n+  darwin-export)\n+    SYMVER_MAP=config/linker-map.gnu\n     ;;\n esac\n \n@@ -87481,6 +87497,7 @@ echo \"${ECHO_T}$glibcxx_ptrdiff_t_is_i\" >&6\n \n \n \n+\n { echo \"$as_me:$LINENO: versioning on shared library symbols is $enable_symvers\" >&5\n echo \"$as_me: versioning on shared library symbols is $enable_symvers\" >&6;}\n \n@@ -88290,12 +88307,23 @@ fi\n \n \n \n-if test $enable_symvers != no; then\n-  GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE=\n-  GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE='#'\n+if test $enable_symvers == gnu; then\n+  ENABLE_SYMVERS_GNU_TRUE=\n+  ENABLE_SYMVERS_GNU_FALSE='#'\n else\n-  GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE='#'\n-  GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE=\n+  ENABLE_SYMVERS_GNU_TRUE='#'\n+  ENABLE_SYMVERS_GNU_FALSE=\n+fi\n+\n+\n+\n+\n+if   test $enable_symvers == darwin-export; then\n+  ENABLE_SYMVERS_DARWIN_EXPORT_TRUE=\n+  ENABLE_SYMVERS_DARWIN_EXPORT_FALSE='#'\n+else\n+  ENABLE_SYMVERS_DARWIN_EXPORT_TRUE='#'\n+  ENABLE_SYMVERS_DARWIN_EXPORT_FALSE=\n fi\n \n \n@@ -88642,10 +88670,17 @@ echo \"$as_me: error: conditional \\\"GLIBCXX_BUILD_DEBUG\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" >&2;}\n    { (exit 1); exit 1; }; }\n fi\n-if test -z \"${GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE}\" && test -z \"${GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE}\"; then\n-  { { echo \"$as_me:$LINENO: error: conditional \\\"GLIBCXX_BUILD_VERSIONED_SHLIB\\\" was never defined.\n+if test -z \"${ENABLE_SYMVERS_GNU_TRUE}\" && test -z \"${ENABLE_SYMVERS_GNU_FALSE}\"; then\n+  { { echo \"$as_me:$LINENO: error: conditional \\\"ENABLE_SYMVERS_GNU\\\" was never defined.\n+Usually this means the macro was only invoked conditionally.\" >&5\n+echo \"$as_me: error: conditional \\\"ENABLE_SYMVERS_GNU\\\" was never defined.\n+Usually this means the macro was only invoked conditionally.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+if test -z \"${ENABLE_SYMVERS_DARWIN_EXPORT_TRUE}\" && test -z \"${ENABLE_SYMVERS_DARWIN_EXPORT_FALSE}\"; then\n+  { { echo \"$as_me:$LINENO: error: conditional \\\"ENABLE_SYMVERS_DARWIN_EXPORT\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" >&5\n-echo \"$as_me: error: conditional \\\"GLIBCXX_BUILD_VERSIONED_SHLIB\\\" was never defined.\n+echo \"$as_me: error: conditional \\\"ENABLE_SYMVERS_DARWIN_EXPORT\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" >&2;}\n    { (exit 1); exit 1; }; }\n fi\n@@ -89315,8 +89350,10 @@ s,@LIBMATHOBJS@,$LIBMATHOBJS,;t t\n s,@LIBICONV@,$LIBICONV,;t t\n s,@SYMVER_MAP@,$SYMVER_MAP,;t t\n s,@port_specific_symbol_files@,$port_specific_symbol_files,;t t\n-s,@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@,$GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE,;t t\n-s,@GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE@,$GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE,;t t\n+s,@ENABLE_SYMVERS_GNU_TRUE@,$ENABLE_SYMVERS_GNU_TRUE,;t t\n+s,@ENABLE_SYMVERS_GNU_FALSE@,$ENABLE_SYMVERS_GNU_FALSE,;t t\n+s,@ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@,$ENABLE_SYMVERS_DARWIN_EXPORT_TRUE,;t t\n+s,@ENABLE_SYMVERS_DARWIN_EXPORT_FALSE@,$ENABLE_SYMVERS_DARWIN_EXPORT_FALSE,;t t\n s,@baseline_dir@,$baseline_dir,;t t\n s,@ATOMICITY_SRCDIR@,$ATOMICITY_SRCDIR,;t t\n s,@ATOMIC_WORD_SRCDIR@,$ATOMIC_WORD_SRCDIR,;t t"}, {"sha": "082c330a610dea90c27101b0b2120d49bf7cdfef", "filename": "libstdc++-v3/include/Makefile.in", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2FMakefile.in?ref=a9fdd4720c522c52f4345fcc088ddb74398fd669", "patch": "@@ -2,7 +2,7 @@\n # @configure_input@\n \n # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n-# 2003, 2004  Free Software Foundation, Inc.\n+# 2003, 2004, 2005  Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -97,14 +97,16 @@ ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n EGREP = @EGREP@\n+ENABLE_SYMVERS_DARWIN_EXPORT_FALSE = @ENABLE_SYMVERS_DARWIN_EXPORT_FALSE@\n+ENABLE_SYMVERS_DARWIN_EXPORT_TRUE = @ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@\n+ENABLE_SYMVERS_GNU_FALSE = @ENABLE_SYMVERS_GNU_FALSE@\n+ENABLE_SYMVERS_GNU_TRUE = @ENABLE_SYMVERS_GNU_TRUE@\n EXEEXT = @EXEEXT@\n EXTRA_CXX_FLAGS = @EXTRA_CXX_FLAGS@\n GLIBCXX_BUILD_DEBUG_FALSE = @GLIBCXX_BUILD_DEBUG_FALSE@\n GLIBCXX_BUILD_DEBUG_TRUE = @GLIBCXX_BUILD_DEBUG_TRUE@\n GLIBCXX_BUILD_PCH_FALSE = @GLIBCXX_BUILD_PCH_FALSE@\n GLIBCXX_BUILD_PCH_TRUE = @GLIBCXX_BUILD_PCH_TRUE@\n-GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE = @GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE@\n-GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE = @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\n GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE = @GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE@\n GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE = @GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE@\n GLIBCXX_C_HEADERS_C_FALSE = @GLIBCXX_C_HEADERS_C_FALSE@"}, {"sha": "bd9b73c9d985df630ecada81aa58671a4256ecfc", "filename": "libstdc++-v3/libmath/Makefile.in", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Flibmath%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Flibmath%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibmath%2FMakefile.in?ref=a9fdd4720c522c52f4345fcc088ddb74398fd669", "patch": "@@ -2,7 +2,7 @@\n # @configure_input@\n \n # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n-# 2003, 2004  Free Software Foundation, Inc.\n+# 2003, 2004, 2005  Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -114,14 +114,16 @@ ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n EGREP = @EGREP@\n+ENABLE_SYMVERS_DARWIN_EXPORT_FALSE = @ENABLE_SYMVERS_DARWIN_EXPORT_FALSE@\n+ENABLE_SYMVERS_DARWIN_EXPORT_TRUE = @ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@\n+ENABLE_SYMVERS_GNU_FALSE = @ENABLE_SYMVERS_GNU_FALSE@\n+ENABLE_SYMVERS_GNU_TRUE = @ENABLE_SYMVERS_GNU_TRUE@\n EXEEXT = @EXEEXT@\n EXTRA_CXX_FLAGS = @EXTRA_CXX_FLAGS@\n GLIBCXX_BUILD_DEBUG_FALSE = @GLIBCXX_BUILD_DEBUG_FALSE@\n GLIBCXX_BUILD_DEBUG_TRUE = @GLIBCXX_BUILD_DEBUG_TRUE@\n GLIBCXX_BUILD_PCH_FALSE = @GLIBCXX_BUILD_PCH_FALSE@\n GLIBCXX_BUILD_PCH_TRUE = @GLIBCXX_BUILD_PCH_TRUE@\n-GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE = @GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE@\n-GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE = @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\n GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE = @GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE@\n GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE = @GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE@\n GLIBCXX_C_HEADERS_C_FALSE = @GLIBCXX_C_HEADERS_C_FALSE@"}, {"sha": "0bb267bfbc4183eaaeb534dc63314fe55c83df2d", "filename": "libstdc++-v3/libsupc++/Makefile.in", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2FMakefile.in?ref=a9fdd4720c522c52f4345fcc088ddb74398fd669", "patch": "@@ -2,7 +2,7 @@\n # @configure_input@\n \n # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n-# 2003, 2004  Free Software Foundation, Inc.\n+# 2003, 2004, 2005  Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -155,14 +155,16 @@ ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n EGREP = @EGREP@\n+ENABLE_SYMVERS_DARWIN_EXPORT_FALSE = @ENABLE_SYMVERS_DARWIN_EXPORT_FALSE@\n+ENABLE_SYMVERS_DARWIN_EXPORT_TRUE = @ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@\n+ENABLE_SYMVERS_GNU_FALSE = @ENABLE_SYMVERS_GNU_FALSE@\n+ENABLE_SYMVERS_GNU_TRUE = @ENABLE_SYMVERS_GNU_TRUE@\n EXEEXT = @EXEEXT@\n EXTRA_CXX_FLAGS = @EXTRA_CXX_FLAGS@\n GLIBCXX_BUILD_DEBUG_FALSE = @GLIBCXX_BUILD_DEBUG_FALSE@\n GLIBCXX_BUILD_DEBUG_TRUE = @GLIBCXX_BUILD_DEBUG_TRUE@\n GLIBCXX_BUILD_PCH_FALSE = @GLIBCXX_BUILD_PCH_FALSE@\n GLIBCXX_BUILD_PCH_TRUE = @GLIBCXX_BUILD_PCH_TRUE@\n-GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE = @GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE@\n-GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE = @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\n GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE = @GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE@\n GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE = @GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE@\n GLIBCXX_C_HEADERS_C_FALSE = @GLIBCXX_C_HEADERS_C_FALSE@"}, {"sha": "4d4372f7e2e906f99d99a448a3696eea22a8a6cf", "filename": "libstdc++-v3/po/Makefile.in", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Fpo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Fpo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fpo%2FMakefile.in?ref=a9fdd4720c522c52f4345fcc088ddb74398fd669", "patch": "@@ -2,7 +2,7 @@\n # @configure_input@\n \n # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n-# 2003, 2004  Free Software Foundation, Inc.\n+# 2003, 2004, 2005  Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -97,14 +97,16 @@ ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n EGREP = @EGREP@\n+ENABLE_SYMVERS_DARWIN_EXPORT_FALSE = @ENABLE_SYMVERS_DARWIN_EXPORT_FALSE@\n+ENABLE_SYMVERS_DARWIN_EXPORT_TRUE = @ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@\n+ENABLE_SYMVERS_GNU_FALSE = @ENABLE_SYMVERS_GNU_FALSE@\n+ENABLE_SYMVERS_GNU_TRUE = @ENABLE_SYMVERS_GNU_TRUE@\n EXEEXT = @EXEEXT@\n EXTRA_CXX_FLAGS = @EXTRA_CXX_FLAGS@\n GLIBCXX_BUILD_DEBUG_FALSE = @GLIBCXX_BUILD_DEBUG_FALSE@\n GLIBCXX_BUILD_DEBUG_TRUE = @GLIBCXX_BUILD_DEBUG_TRUE@\n GLIBCXX_BUILD_PCH_FALSE = @GLIBCXX_BUILD_PCH_FALSE@\n GLIBCXX_BUILD_PCH_TRUE = @GLIBCXX_BUILD_PCH_TRUE@\n-GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE = @GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE@\n-GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE = @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\n GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE = @GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE@\n GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE = @GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE@\n GLIBCXX_C_HEADERS_C_FALSE = @GLIBCXX_C_HEADERS_C_FALSE@"}, {"sha": "e5a58325ecb6f16641f05d7bb8d2afae03458274", "filename": "libstdc++-v3/scripts/make_exports.pl", "status": "added", "additions": 144, "deletions": 0, "changes": 144, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Fscripts%2Fmake_exports.pl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Fscripts%2Fmake_exports.pl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fscripts%2Fmake_exports.pl?ref=a9fdd4720c522c52f4345fcc088ddb74398fd669", "patch": "@@ -0,0 +1,144 @@\n+#!/usr/bin/perl -w\n+\n+# This script takes two arguments, a version script and a dynamic library\n+# (in that order), and prints a list of symbols to be exported from the\n+# library.\n+# It expects a 'nm' with the POSIX '-P' option, but everyone has one of\n+# those, right?  It also expects that symbol names have a leading underscore,\n+# which is somewhat less likely.\n+\n+use File::Glob ':glob';\n+use FileHandle;\n+use IPC::Open2;\n+\n+# The glob patterns that are to be applied to the demangled name\n+my @cxx_globs = ();\n+# The glob patterns that apply directly to the name in the .o files\n+my @globs = ();\n+# The patterns for local variables (usually just '*').\n+my @ignored = ();\n+\n+##########\n+# Fill in the various glob arrays.\n+\n+# The next pattern will go into this array.\n+my $glob = \\@globs;\n+my $symvers = shift;\n+\n+open F,$symvers or die $!;\n+\n+while (<F>) {\n+    chomp;\n+    # Lines of the form '} SOME_VERSION_NAME_1.0;'\n+    if (/^[ \\t]*\\}[ \\tA-Z0-9_.a-z]*;[ \\t]*$/) {\n+      $glob = \\@globs;\n+      next;\n+    }\n+    # Comment and blank lines\n+    next if (/^[ \\t]*\\#/);\n+    next if (/^[ \\t]*$/);\n+    # Lines of the form 'SOME_VERSION_NAME_1.1 {'\n+    next if (/^[A-Z0-9_. \\t]*{$/);\n+    # Ignore 'global:'\n+    next if (/^[ \\t]*global:$/);\n+    # After 'local:', globs should be ignored, they won't be exported.\n+    if (/^[ \\t]*local:$/) {\n+\t$glob = \\@ignored;\n+\tnext;\n+    }\n+    # After 'extern \"C++\"', globs are C++ patterns\n+    if (/^[ \\t]*extern \\\"C\\+\\+\\\"[ \\t]*$/) {\n+\t$glob = \\@cxx_globs;\n+\tnext;\n+    }\n+    # Catch globs.  Note that '{}' is not allowed in globs by this script,\n+    # so only '*' and '[]' are available.\n+    if (/^[ \\t]*([^ \\t;{}#]+);?[ \\t]*$/) {\n+\tmy $ptn = $1;\n+\t# Turn the glob into a regex by replacing '*' with '.*'.\n+\t$ptn =~ s/\\*/\\.\\*/g;\n+\tpush @$glob,$ptn;\n+\tnext;\n+    }\n+    # Important sanity check.  This script can't handle lots of formats\n+    # that GNU ld can, so be sure to error out if one is seen!\n+    die \"strange line `$_'\";\n+}\n+close F;\n+\n+# Make 'if (1)' for debugging.\n+if (0) {\n+    print \"cxx:\\n\";\n+    (printf \"%s\\n\",$_) foreach (@cxx_globs);\n+    print \"globs:\\n\";\n+    (printf \"%s\\n\", $_) foreach (@globs);\n+    print \"ignored:\\n\";\n+    (printf \"%s\\n\", $_) foreach (@ignored);\n+}\n+\n+##########\n+# Combine the arrays into single regular expressions\n+# This cuts the time required from about 30 seconds to about 0.5 seconds.\n+\n+my $glob_regex = '^_(' . (join '|',@globs) . ')$';\n+my $cxx_regex = (join '|',@cxx_globs);\n+\n+##########\n+# Get all the symbols from the library, match them, and add them to a hash.\n+\n+my %export_hash = ();\n+\n+# Process each symbol.\n+print STDERR 'nm -P '.(join ' ',@ARGV).'|';\n+open NM,'nm -P '.(join ' ',@ARGV).'|' or die $!;\n+# Talk to c++filt through a pair of file descriptors.\n+open2(*FILTIN, *FILTOUT, \"c++filt\") or die $!;\n+NAME: while (<NM>) {\n+    my $i;\n+    chomp;\n+\n+    # nm prints out stuff at the start, ignore it.\n+    next if (/^$/);\n+    next if (/:$/);\n+    # Ignore undefined and local symbols.\n+    next if (/^([^ ]+) [Ua-z] /);\n+\n+    # $sym is the name of the symbol, $noeh_sym is the same thing with\n+    # any '.eh' suffix removed.\n+    die \"unknown nm output $_\" if (! /^([^ ]+) [A-Z] /);\n+    my $sym = $1;\n+    my $noeh_sym = $sym;\n+    $noeh_sym =~ s/\\.eh$//;\n+\n+    # Maybe it matches one of the patterns based on the symbol in the .o file.\n+    if ($noeh_sym =~ /$glob_regex/) {\n+        $export_hash{$sym} = 1;\n+\tnext NAME;\n+    }\n+\n+    # No?  Well, maybe its demangled form matches one of those patterns.\n+    printf FILTOUT \"%s\\n\",$noeh_sym;\n+    my $dem = <FILTIN>;\n+    chomp $dem;\n+    if ($dem =~ /$cxx_regex/) {\n+        $export_hash{$sym} = 2;\n+\tnext NAME;\n+    }\n+\n+    # No?  Well, then ignore it.\n+}\n+close NM or die \"nm error\";\n+close FILTOUT or die \"c++filt error\";\n+close FILTIN or die \"c++filt error\";\n+\n+##########\n+# Print out the export file\n+\n+# Print information about generating this file\n+print \"# This is a generated file.\\n\";\n+print \"# It was generated by:\\n\";\n+printf \"# %s %s %s\\n\", $0, $symvers, (join ' ',@ARGV);\n+\n+foreach my $i (keys %export_hash) {\n+  printf \"%s\\n\",$i or die;\n+}"}, {"sha": "940d669e39f851c4ebce8183e5dcdb73aea3538b", "filename": "libstdc++-v3/src/Makefile.am", "status": "modified", "additions": 15, "deletions": 1, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Fsrc%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Fsrc%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2FMakefile.am?ref=a9fdd4720c522c52f4345fcc088ddb74398fd669", "patch": "@@ -28,7 +28,7 @@ include $(top_srcdir)/fragment.am\n toolexeclib_LTLIBRARIES = libstdc++.la\n \n # Symbol versioning for shared libraries.\n-if GLIBCXX_BUILD_VERSIONED_SHLIB\n+if ENABLE_SYMVERS_GNU\n version_arg = -Wl,--version-script=libstdc++-symbol.ver\n version_dep = libstdc++-symbol.ver\n libstdc++-symbol.ver:  ${glibcxx_srcdir}/$(SYMVER_MAP)\n@@ -40,9 +40,23 @@ libstdc++-symbol.ver:  ${glibcxx_srcdir}/$(SYMVER_MAP)\n \t  rm tmp.top tmp.bottom; \\\n \tfi\n else\n+if ENABLE_SYMVERS_DARWIN_EXPORT\n+version_arg = -Wl,-exported_symbols_list,libstdc++-symbol.explist\n+version_dep = libstdc++-symbol.explist\n+libstdc++-symbol.explist : ${glibcxx_srcdir}/$(SYMVER_MAP) \\\n+\t\t${glibcxx_srcdir}/scripts/make_exports.pl \\\n+\t\t$(libstdc___la_OBJECTS) $(libstdc___la_LIBADD)\n+\tperl ${glibcxx_srcdir}/scripts/make_exports.pl \\\n+\t  ${glibcxx_srcdir}/$(SYMVER_MAP) \\\n+\t  $(libstdc___la_OBJECTS:%.lo=.libs/%.o) \\\n+\t `echo $(libstdc___la_LIBADD) | \\\n+\t    sed 's,/\\([^/.]*\\)\\.la,/.libs/\\1.a,g'` \\\n+\t > $@ || (rm -f $@ ; exit 1)\n+else\n version_arg =\n version_dep =\n endif\n+endif\n \n \n # Source files linked in via configuration/make substitution for a"}, {"sha": "4f3e20b7a176f8c6f59fefad83efa65e5b272a13", "filename": "libstdc++-v3/src/Makefile.in", "status": "modified", "additions": 28, "deletions": 15, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in?ref=a9fdd4720c522c52f4345fcc088ddb74398fd669", "patch": "@@ -2,7 +2,7 @@\n # @configure_input@\n \n # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n-# 2003, 2004  Free Software Foundation, Inc.\n+# 2003, 2004, 2005  Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -133,14 +133,16 @@ ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n EGREP = @EGREP@\n+ENABLE_SYMVERS_DARWIN_EXPORT_FALSE = @ENABLE_SYMVERS_DARWIN_EXPORT_FALSE@\n+ENABLE_SYMVERS_DARWIN_EXPORT_TRUE = @ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@\n+ENABLE_SYMVERS_GNU_FALSE = @ENABLE_SYMVERS_GNU_FALSE@\n+ENABLE_SYMVERS_GNU_TRUE = @ENABLE_SYMVERS_GNU_TRUE@\n EXEEXT = @EXEEXT@\n EXTRA_CXX_FLAGS = @EXTRA_CXX_FLAGS@\n GLIBCXX_BUILD_DEBUG_FALSE = @GLIBCXX_BUILD_DEBUG_FALSE@\n GLIBCXX_BUILD_DEBUG_TRUE = @GLIBCXX_BUILD_DEBUG_TRUE@\n GLIBCXX_BUILD_PCH_FALSE = @GLIBCXX_BUILD_PCH_FALSE@\n GLIBCXX_BUILD_PCH_TRUE = @GLIBCXX_BUILD_PCH_TRUE@\n-GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE = @GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE@\n-GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE = @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\n GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE = @GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE@\n GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE = @GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE@\n GLIBCXX_C_HEADERS_C_FALSE = @GLIBCXX_C_HEADERS_C_FALSE@\n@@ -273,12 +275,14 @@ AM_CPPFLAGS = $(GLIBCXX_INCLUDES)\n \n # Cross compiler support.\n toolexeclib_LTLIBRARIES = libstdc++.la\n-@GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE@version_arg = \n+@ENABLE_SYMVERS_DARWIN_EXPORT_FALSE@@ENABLE_SYMVERS_GNU_FALSE@version_arg = \n+@ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@@ENABLE_SYMVERS_GNU_FALSE@version_arg = -Wl,-exported_symbols_list,libstdc++-symbol.explist\n \n # Symbol versioning for shared libraries.\n-@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@version_arg = -Wl,--version-script=libstdc++-symbol.ver\n-@GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE@version_dep = \n-@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@version_dep = libstdc++-symbol.ver\n+@ENABLE_SYMVERS_GNU_TRUE@version_arg = -Wl,--version-script=libstdc++-symbol.ver\n+@ENABLE_SYMVERS_DARWIN_EXPORT_FALSE@@ENABLE_SYMVERS_GNU_FALSE@version_dep = \n+@ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@@ENABLE_SYMVERS_GNU_FALSE@version_dep = libstdc++-symbol.explist\n+@ENABLE_SYMVERS_GNU_TRUE@version_dep = libstdc++-symbol.ver\n \n # Source files linked in via configuration/make substitution for a\n # particular host.\n@@ -665,14 +669,23 @@ uninstall-am: uninstall-info-am uninstall-toolexeclibLTLIBRARIES\n \ttags uninstall uninstall-am uninstall-info-am \\\n \tuninstall-toolexeclibLTLIBRARIES\n \n-@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@libstdc++-symbol.ver:  ${glibcxx_srcdir}/$(SYMVER_MAP)\n-@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\tcp ${glibcxx_srcdir}/$(SYMVER_MAP) ./libstdc++-symbol.ver\n-@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\tif test \"x$(port_specific_symbol_files)\" != x; then \\\n-@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\t  sed -n '1,/DO NOT DELETE/p' $@ > tmp.top; \\\n-@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\t  sed -n '/DO NOT DELETE/,$$p' $@ > tmp.bottom; \\\n-@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\t  cat tmp.top $(port_specific_symbol_files) tmp.bottom > $@; \\\n-@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\t  rm tmp.top tmp.bottom; \\\n-@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\tfi\n+@ENABLE_SYMVERS_GNU_TRUE@libstdc++-symbol.ver:  ${glibcxx_srcdir}/$(SYMVER_MAP)\n+@ENABLE_SYMVERS_GNU_TRUE@\tcp ${glibcxx_srcdir}/$(SYMVER_MAP) ./libstdc++-symbol.ver\n+@ENABLE_SYMVERS_GNU_TRUE@\tif test \"x$(port_specific_symbol_files)\" != x; then \\\n+@ENABLE_SYMVERS_GNU_TRUE@\t  sed -n '1,/DO NOT DELETE/p' $@ > tmp.top; \\\n+@ENABLE_SYMVERS_GNU_TRUE@\t  sed -n '/DO NOT DELETE/,$$p' $@ > tmp.bottom; \\\n+@ENABLE_SYMVERS_GNU_TRUE@\t  cat tmp.top $(port_specific_symbol_files) tmp.bottom > $@; \\\n+@ENABLE_SYMVERS_GNU_TRUE@\t  rm tmp.top tmp.bottom; \\\n+@ENABLE_SYMVERS_GNU_TRUE@\tfi\n+@ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@@ENABLE_SYMVERS_GNU_FALSE@libstdc++-symbol.explist : ${glibcxx_srcdir}/$(SYMVER_MAP) \\\n+@ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@@ENABLE_SYMVERS_GNU_FALSE@\t\t${glibcxx_srcdir}/scripts/make_exports.pl \\\n+@ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@@ENABLE_SYMVERS_GNU_FALSE@\t\t$(libstdc___la_OBJECTS) $(libstdc___la_LIBADD)\n+@ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@@ENABLE_SYMVERS_GNU_FALSE@\tperl ${glibcxx_srcdir}/scripts/make_exports.pl \\\n+@ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@@ENABLE_SYMVERS_GNU_FALSE@\t  ${glibcxx_srcdir}/$(SYMVER_MAP) \\\n+@ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@@ENABLE_SYMVERS_GNU_FALSE@\t  $(libstdc___la_OBJECTS:%.lo=.libs/%.o) \\\n+@ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@@ENABLE_SYMVERS_GNU_FALSE@\t `echo $(libstdc___la_LIBADD) | \\\n+@ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@@ENABLE_SYMVERS_GNU_FALSE@\t    sed 's,/\\([^/.]*\\)\\.la,/.libs/\\1.a,g'` \\\n+@ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@@ENABLE_SYMVERS_GNU_FALSE@\t > $@ || (rm -f $@ ; exit 1)\n \n codecvt_members.cc: ${glibcxx_srcdir}/$(CCODECVT_CC)\n \t$(LN_S) ${glibcxx_srcdir}/$(CCODECVT_CC) . || true"}, {"sha": "68040f28d6f917aa1adf1d073187962afeeeb1af", "filename": "libstdc++-v3/testsuite/Makefile.in", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9fdd4720c522c52f4345fcc088ddb74398fd669/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in?ref=a9fdd4720c522c52f4345fcc088ddb74398fd669", "patch": "@@ -2,7 +2,7 @@\n # @configure_input@\n \n # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n-# 2003, 2004  Free Software Foundation, Inc.\n+# 2003, 2004, 2005  Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -101,14 +101,16 @@ ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n EGREP = @EGREP@\n+ENABLE_SYMVERS_DARWIN_EXPORT_FALSE = @ENABLE_SYMVERS_DARWIN_EXPORT_FALSE@\n+ENABLE_SYMVERS_DARWIN_EXPORT_TRUE = @ENABLE_SYMVERS_DARWIN_EXPORT_TRUE@\n+ENABLE_SYMVERS_GNU_FALSE = @ENABLE_SYMVERS_GNU_FALSE@\n+ENABLE_SYMVERS_GNU_TRUE = @ENABLE_SYMVERS_GNU_TRUE@\n EXEEXT = @EXEEXT@\n EXTRA_CXX_FLAGS = @EXTRA_CXX_FLAGS@\n GLIBCXX_BUILD_DEBUG_FALSE = @GLIBCXX_BUILD_DEBUG_FALSE@\n GLIBCXX_BUILD_DEBUG_TRUE = @GLIBCXX_BUILD_DEBUG_TRUE@\n GLIBCXX_BUILD_PCH_FALSE = @GLIBCXX_BUILD_PCH_FALSE@\n GLIBCXX_BUILD_PCH_TRUE = @GLIBCXX_BUILD_PCH_TRUE@\n-GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE = @GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE@\n-GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE = @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\n GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE = @GLIBCXX_C_HEADERS_COMPATIBILITY_FALSE@\n GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE = @GLIBCXX_C_HEADERS_COMPATIBILITY_TRUE@\n GLIBCXX_C_HEADERS_C_FALSE = @GLIBCXX_C_HEADERS_C_FALSE@"}]}