{"sha": "fa22501afc95b62336ad39d8b1cd5c21162d2487", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmEyMjUwMWFmYzk1YjYyMzM2YWQzOWQ4YjFjZDVjMjExNjJkMjQ4Nw==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2016-03-18T09:17:23Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2016-03-18T09:17:23Z"}, "message": "Set dump_file to NULL in cgraph_node::get_body\n\n2016-03-18  Tom de Vries  <tom@codesourcery.com>\n\n\tPR ipa/70269\n\t* cgraph.c (cgraph_node::get_body): Set dump_file to NULL after save.\n\n\t* gcc.dg/pr70269.c: New test.\n\nFrom-SVN: r234321", "tree": {"sha": "67bf20e265ba02cfc52295d29d42710de0e896a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/67bf20e265ba02cfc52295d29d42710de0e896a1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fa22501afc95b62336ad39d8b1cd5c21162d2487", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa22501afc95b62336ad39d8b1cd5c21162d2487", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa22501afc95b62336ad39d8b1cd5c21162d2487", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa22501afc95b62336ad39d8b1cd5c21162d2487/comments", "author": null, "committer": null, "parents": [{"sha": "59bc6ce9b36fbec321968053801612f16a3f53a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59bc6ce9b36fbec321968053801612f16a3f53a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59bc6ce9b36fbec321968053801612f16a3f53a0"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "10c3a07317ba53d69f1bd639a99e2e4e1281e4ed", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa22501afc95b62336ad39d8b1cd5c21162d2487/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa22501afc95b62336ad39d8b1cd5c21162d2487/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fa22501afc95b62336ad39d8b1cd5c21162d2487", "patch": "@@ -1,3 +1,8 @@\n+2016-03-18  Tom de Vries  <tom@codesourcery.com>\n+\n+\tPR ipa/70269\n+\t* cgraph.c (cgraph_node::get_body): Set dump_file to NULL after save.\n+\n 2016-03-18  Jakub Jelinek  <jakub@redhat.com>\n \n \t* reload1.c (emit_input_reload_insns): Use simplify_replace_rtx"}, {"sha": "4804081f3d9447a73e6beb181ae9ab1af956a462", "filename": "gcc/cgraph.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa22501afc95b62336ad39d8b1cd5c21162d2487/gcc%2Fcgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa22501afc95b62336ad39d8b1cd5c21162d2487/gcc%2Fcgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraph.c?ref=fa22501afc95b62336ad39d8b1cd5c21162d2487", "patch": "@@ -3372,6 +3372,7 @@ cgraph_node::get_body (void)\n       const char *saved_dump_file_name = dump_file_name;\n       int saved_dump_flags = dump_flags;\n       dump_file_name = NULL;\n+      dump_file = NULL;\n \n       push_cfun (DECL_STRUCT_FUNCTION (decl));\n       execute_all_ipa_transforms ();"}, {"sha": "e4975b13b67984dfb25c18c066ce0d39d9f4fc15", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa22501afc95b62336ad39d8b1cd5c21162d2487/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa22501afc95b62336ad39d8b1cd5c21162d2487/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fa22501afc95b62336ad39d8b1cd5c21162d2487", "patch": "@@ -1,3 +1,8 @@\n+2016-03-18  Tom de Vries  <tom@codesourcery.com>\n+\n+\tPR ipa/70269\n+\t* gcc.dg/pr70269.c: New test.\n+\n 2016-03-18  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/70267"}, {"sha": "030cea1e60531e30ac25f8f3eb23cb20249ae583", "filename": "gcc/testsuite/gcc.dg/pr70269.c", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa22501afc95b62336ad39d8b1cd5c21162d2487/gcc%2Ftestsuite%2Fgcc.dg%2Fpr70269.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa22501afc95b62336ad39d8b1cd5c21162d2487/gcc%2Ftestsuite%2Fgcc.dg%2Fpr70269.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr70269.c?ref=fa22501afc95b62336ad39d8b1cd5c21162d2487", "patch": "@@ -0,0 +1,7 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fipa-pta -fdump-ipa-pta-graph\" } */\n+\n+void\n+foo (void)\n+{\n+}"}]}