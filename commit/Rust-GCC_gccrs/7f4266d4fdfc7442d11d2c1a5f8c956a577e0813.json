{"sha": "7f4266d4fdfc7442d11d2c1a5f8c956a577e0813", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2Y0MjY2ZDRmZGZjNzQ0MmQxMWQyYzFhNWY4Yzk1NmE1NzdlMDgxMw==", "commit": {"author": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2016-11-01T16:18:18Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2016-11-01T16:18:18Z"}, "message": "re PR fortran/69544 (Internal compiler error with -Wall and where)\n\n2016-11-01  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\tPR fortran/69544\n\t* match.c (gfc_match_where):  Fill in locus for assigment\n\tin simple WHERE statement.\n\n2016-11-01  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\tPR fortran/69544\n\t* gfortran.dg/where_5.f90:  New test.\n\nFrom-SVN: r241745", "tree": {"sha": "b1e0b44e5ee7e4c8ab5172340227f73c4a0f81dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b1e0b44e5ee7e4c8ab5172340227f73c4a0f81dc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7f4266d4fdfc7442d11d2c1a5f8c956a577e0813", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f4266d4fdfc7442d11d2c1a5f8c956a577e0813", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f4266d4fdfc7442d11d2c1a5f8c956a577e0813", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f4266d4fdfc7442d11d2c1a5f8c956a577e0813/comments", "author": null, "committer": null, "parents": [{"sha": "a14b1c1c1175cb73167a778dda3a73b5de351a94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a14b1c1c1175cb73167a778dda3a73b5de351a94", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a14b1c1c1175cb73167a778dda3a73b5de351a94"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "b3a0d50dc60489800e448daee27798971d36d3ca", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f4266d4fdfc7442d11d2c1a5f8c956a577e0813/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f4266d4fdfc7442d11d2c1a5f8c956a577e0813/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=7f4266d4fdfc7442d11d2c1a5f8c956a577e0813", "patch": "@@ -1,3 +1,9 @@\n+2016-11-01  Thomas Koenig  <tkoenig@gcc.gnu.org>\n+\n+\tPR fortran/69544\n+\t* match.c (gfc_match_where):  Fill in locus for assigment\n+\tin simple WHERE statement.\n+\n 2016-10-31  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR fortran/54679"}, {"sha": "5ec6e895451920d31f095b9a479e0e31800568c7", "filename": "gcc/fortran/match.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f4266d4fdfc7442d11d2c1a5f8c956a577e0813/gcc%2Ffortran%2Fmatch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f4266d4fdfc7442d11d2c1a5f8c956a577e0813/gcc%2Ffortran%2Fmatch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fmatch.c?ref=7f4266d4fdfc7442d11d2c1a5f8c956a577e0813", "patch": "@@ -6275,8 +6275,12 @@ gfc_match_where (gfc_statement *st)\n   c = gfc_get_code (EXEC_WHERE);\n   c->expr1 = expr;\n \n+  /* Put in the assignment.  It will not be processed by add_statement, so we\n+     need to copy the location here. */\n+\n   c->next = XCNEW (gfc_code);\n   *c->next = new_st;\n+  c->next->loc = gfc_current_locus;\n   gfc_clear_new_st ();\n \n   new_st.op = EXEC_WHERE;"}, {"sha": "64cfc539a5d47a7c4e83a8d71fb496ac84509393", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f4266d4fdfc7442d11d2c1a5f8c956a577e0813/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f4266d4fdfc7442d11d2c1a5f8c956a577e0813/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7f4266d4fdfc7442d11d2c1a5f8c956a577e0813", "patch": "@@ -1,3 +1,8 @@\n+2016-11-01  Thomas Koenig  <tkoenig@gcc.gnu.org>\n+\n+\tPR fortran/69544\n+\t* gfortran.dg/where_5.f90:  New test.\n+\n 2016-11-01  Bilyan Borisov  <bilyan.borisov@arm.com>\n \n \t* gcc.target/arm/simd/vmaxnm_f32_1.c: New."}, {"sha": "5ada63d6a5d1d2f2c8ffcbc0ebee8d58adea9f58", "filename": "gcc/testsuite/gfortran.dg/where_5.f90", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f4266d4fdfc7442d11d2c1a5f8c956a577e0813/gcc%2Ftestsuite%2Fgfortran.dg%2Fwhere_5.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f4266d4fdfc7442d11d2c1a5f8c956a577e0813/gcc%2Ftestsuite%2Fgfortran.dg%2Fwhere_5.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fwhere_5.f90?ref=7f4266d4fdfc7442d11d2c1a5f8c956a577e0813", "patch": "@@ -0,0 +1,15 @@\n+! { dg-do compile }\n+! { dg-options \"-Wcharacter-truncation\" }\n+subroutine where_ice (i,j)\n+     \n+  implicit none\n+\n+  character(8)  :: y(10,10,2)\n+\n+  integer       :: i\n+  integer       :: j\n+\n+  character(12) :: txt(5)\n+  where (txt(1:3) /= ''   )  y(1:3,i,j) = txt(1:3) ! { dg-warning \"CHARACTER expression will be truncated\" }\n+\n+end subroutine where_ice"}]}