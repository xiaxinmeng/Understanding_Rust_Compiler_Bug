{"sha": "f1999a6643db296882aed956a3b6645550acd42d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjE5OTlhNjY0M2RiMjk2ODgyYWVkOTU2YTNiNjY0NTU1MGFjZDQyZA==", "commit": {"author": {"name": "Christian Bruel", "email": "christian.bruel@st.com", "date": "2015-07-07T07:56:10Z"}, "committer": {"name": "Christian Bruel", "email": "chrbr@gcc.gnu.org", "date": "2015-07-07T07:56:10Z"}, "message": "Cleanup arch file directive.\n\nPR target/52144\n* config/arm/elf.h (TARGET_ASM_FILE_START_APP_OFF): Delete.\n\nPR target/52144\n* gcc.target/arm/flip-thumb.c: Fix scan.\n* gcc.target/arm/attr_thumb.c: Test for all targets. Fix scan.\n* gcc.target/arm/attr_arm.c: Test for all targets. Fix scan.\n* gcc.target/arm/attr_thumb-static.c: Test for all targets.\nFix return value.\n\nFrom-SVN: r225503", "tree": {"sha": "5eb4ce3a5359ea87dc35bcde5e2d613d1096e7b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5eb4ce3a5359ea87dc35bcde5e2d613d1096e7b3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f1999a6643db296882aed956a3b6645550acd42d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f1999a6643db296882aed956a3b6645550acd42d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f1999a6643db296882aed956a3b6645550acd42d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f1999a6643db296882aed956a3b6645550acd42d/comments", "author": null, "committer": null, "parents": [{"sha": "d9ba196197966cb053dc13f973000c2ba8ace692", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d9ba196197966cb053dc13f973000c2ba8ace692", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d9ba196197966cb053dc13f973000c2ba8ace692"}], "stats": {"total": 36, "additions": 24, "deletions": 12}, "files": [{"sha": "d136ee1722ad0486294d97aebd22c119f2bb6314", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f1999a6643db296882aed956a3b6645550acd42d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f1999a6643db296882aed956a3b6645550acd42d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f1999a6643db296882aed956a3b6645550acd42d", "patch": "@@ -1,3 +1,8 @@\n+2015-07-07  Christian Bruel  <christian.bruel@st.com>\n+\n+\tPR target/52144\n+\t* config/arm/elf.h (TARGET_ASM_FILE_START_APP_OFF): Delete.\n+\n 2015-07-07  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/66739"}, {"sha": "3795728ca901ff648aca1c827968bc6df6effd58", "filename": "gcc/config/arm/elf.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f1999a6643db296882aed956a3b6645550acd42d/gcc%2Fconfig%2Farm%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f1999a6643db296882aed956a3b6645550acd42d/gcc%2Fconfig%2Farm%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Felf.h?ref=f1999a6643db296882aed956a3b6645550acd42d", "patch": "@@ -120,7 +120,6 @@\n   { \"marm\", \"mlittle-endian\", \"mfloat-abi=soft\", \"mno-thumb-interwork\", \"fno-leading-underscore\" }\n #endif\n \f\n-#define TARGET_ASM_FILE_START_APP_OFF true\n #define TARGET_ASM_FILE_START_FILE_DIRECTIVE true\n \f\n "}, {"sha": "a398b6f467f541c1aa343ae58fbd6871ba918d67", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f1999a6643db296882aed956a3b6645550acd42d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f1999a6643db296882aed956a3b6645550acd42d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f1999a6643db296882aed956a3b6645550acd42d", "patch": "@@ -1,3 +1,12 @@\n+2015-07-07  Christian Bruel  <christian.bruel@st.com>\n+\n+\tPR target/52144\n+\t* gcc.target/arm/flip-thumb.c: Fix scan.\n+\t* gcc.target/arm/attr_thumb.c: Test for all targets. Fix scan.\n+\t* gcc.target/arm/attr_arm.c: Test for all targets. Fix scan.\n+\t* gcc.target/arm/attr_thumb-static.c: Test for all targets.\n+\tFix return value.\n+\n 2015-05-05  Jakub Jelinek  <jakub@redhat.com>\n \n         PR target/65956"}, {"sha": "f5c70ef690fc68425e0c4a0f458cd73ebde2f0ab", "filename": "gcc/testsuite/gcc.target/arm/attr_arm.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f1999a6643db296882aed956a3b6645550acd42d/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fattr_arm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f1999a6643db296882aed956a3b6645550acd42d/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fattr_arm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fattr_arm.c?ref=f1999a6643db296882aed956a3b6645550acd42d", "patch": "@@ -1,9 +1,7 @@\n /* Check that attribute target arm is recognized.  */\n /* { dg-do compile } */\n-/* { dg-require-effective-target arm_arm_ok } */\n-/* { dg-options \"-O2\" } */\n-/* { dg-final { scan-assembler \".arm\" } } */\n-/* { dg-final { scan-assembler-not \"ite\" } } */\n+/* { dg-final { scan-assembler \"\\\\.arm\" } } */\n+/* { dg-final { scan-assembler-not \"\\\\.thumb_func\" } } */\n \n int __attribute__((target(\"arm\")))\n foo(int a)"}, {"sha": "1ce566f1c154e3da4a47edc7ff80b52118e573dd", "filename": "gcc/testsuite/gcc.target/arm/attr_thumb-static.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f1999a6643db296882aed956a3b6645550acd42d/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fattr_thumb-static.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f1999a6643db296882aed956a3b6645550acd42d/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fattr_thumb-static.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fattr_thumb-static.c?ref=f1999a6643db296882aed956a3b6645550acd42d", "patch": "@@ -1,6 +1,5 @@\n /* Check that a change mode to a static function is correctly handled. */\n /* { dg-do run } */\n-/* { dg-require-effective-target arm_thumb1_ok } */\n \n static void\n  __attribute__((__noinline__)) \n@@ -17,8 +16,10 @@ bar (void)\n   __asm__ (\"\");\n }\n \n-int main()\n+int\n+main (void)\n {\n   foo();\n   bar();\n+  return 0;\n }"}, {"sha": "02ddfdac6c3cd636234e24808d3c773cd7b07d54", "filename": "gcc/testsuite/gcc.target/arm/attr_thumb.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f1999a6643db296882aed956a3b6645550acd42d/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fattr_thumb.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f1999a6643db296882aed956a3b6645550acd42d/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fattr_thumb.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fattr_thumb.c?ref=f1999a6643db296882aed956a3b6645550acd42d", "patch": "@@ -1,13 +1,13 @@\n /* Check that attribute target thumb is recognized. */\n /* { dg-do compile } */\n-/* { dg-require-effective-target arm_thumb2_ok } */\n /* { dg-options \"-O2 -mno-restrict-it\" } */\n-/* { dg-final { scan-assembler \".thumb\" } } */\n-/* { dg-final { scan-assembler \"ite\" } } */\n+/* { dg-final { scan-assembler-not \"\\\\.arm\"  } } */\n+/* { dg-final { scan-assembler \"\\\\.thumb_func\" } } */\n \n int __attribute__((target(\"thumb\")))\n foo(int a)\n {\n+  /* { dg-final { scan-assembler \"ite\" { target { arm_thumb2_ok } } } } */\n   return a ? 1 : 5;\n }\n "}, {"sha": "91547999427d82f2c177655da8a40a6bf4433551", "filename": "gcc/testsuite/gcc.target/arm/flip-thumb.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f1999a6643db296882aed956a3b6645550acd42d/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fflip-thumb.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f1999a6643db296882aed956a3b6645550acd42d/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fflip-thumb.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fflip-thumb.c?ref=f1999a6643db296882aed956a3b6645550acd42d", "patch": "@@ -1,8 +1,8 @@\n /* Check -mflip-thumb. */\n /* { dg-do compile } */\n /* { dg-options \"-O2 -mflip-thumb -mno-restrict-it\" } */\n-/* { dg-final { scan-assembler \".arm\" } } */\n-/* { dg-final { scan-assembler-times \".thumb_func\" 1} } */\n+/* { dg-final { scan-assembler \"\\\\.arm\" } } */\n+/* { dg-final { scan-assembler-times \"\\\\.thumb_func\" 1} } */\n \n int \n foo(int a)"}]}