{"sha": "4c43cd29de1c67c7ddef7a0463a4cfb44f43a133", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGM0M2NkMjlkZTFjNjdjN2RkZWY3YTA0NjNhNGNmYjQ0ZjQzYTEzMw==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-04-08T23:36:52Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-04-08T23:36:52Z"}, "message": "Tweak for init_lex/init_parse changes.\n\nFrom-SVN: r19066", "tree": {"sha": "d98158fcf8ace8cfc79c329b20786c5f36a6195f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d98158fcf8ace8cfc79c329b20786c5f36a6195f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4c43cd29de1c67c7ddef7a0463a4cfb44f43a133", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c43cd29de1c67c7ddef7a0463a4cfb44f43a133", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c43cd29de1c67c7ddef7a0463a4cfb44f43a133", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c43cd29de1c67c7ddef7a0463a4cfb44f43a133/comments", "author": null, "committer": null, "parents": [{"sha": "2b2a353188fa3bbf45631bcb876f419b9cb6364a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b2a353188fa3bbf45631bcb876f419b9cb6364a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b2a353188fa3bbf45631bcb876f419b9cb6364a"}], "stats": {"total": 127, "additions": 77, "deletions": 50}, "files": [{"sha": "ef43acf7da788b5019187ecf408788236eed40df", "filename": "gcc/README.gnat", "status": "modified", "additions": 77, "deletions": 50, "changes": 127, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c43cd29de1c67c7ddef7a0463a4cfb44f43a133/gcc%2FREADME.gnat", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c43cd29de1c67c7ddef7a0463a4cfb44f43a133/gcc%2FREADME.gnat", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FREADME.gnat?ref=4c43cd29de1c67c7ddef7a0463a4cfb44f43a133", "patch": "@@ -34,29 +34,31 @@ Mon Mar 16 11:00:25 1998  Jim Wilson  <wilson@cygnus.com>\n \tbcopy call for gnat_tree_code_type change.\n \t* a-tree.def: Adjust for tree_code_* type changes.\n \n-diff -pr gnat-3.10p-src/src/ada/a-gtran3.c egcs-980308/gcc/ada/a-gtran3.c\n-*** gnat-3.10p-src/src/ada/a-gtran3.c\tWed Aug 13 21:02:17 1997\n---- egcs-980308/gcc/ada/a-gtran3.c\tSat Mar 14 18:33:51 1998\n-*************** maybe_pad_type (type, size, align, gnat_\n-*** 3330,3335 ****\n---- 3330,3342 ----\n+\t* a-misc.c (init_lex): Rename to init_parse.\n+\n+diff -c ada/a-gtran3.c /home/brolley/comp/egcs/tmp/ada/a-gtran3.c\n+*** ada/a-gtran3.c\tMon Mar 30 16:29:04 1998\n+--- /home/brolley/comp/egcs/tmp/ada/a-gtran3.c\tThu Apr  2 17:16:15 1998\n+***************\n+*** 3329,3334 ****\n+--- 3329,3341 ----\n+       isn't changing.  Likewise, clear the alignment if it isn't being\n        changed.  Then return if we aren't doing anything.  */\n   \n++     if (size != 0\n++ \t&& TYPE_MODE (TREE_TYPE (size)) != TYPE_MODE (TREE_TYPE (orig_size)))\n++       {\n++ \tsize = convert (sizetype, size);\n++ \torig_size = convert (sizetype, orig_size);\n++       }\n++  \n     if (size != 0\n-+       && TYPE_MODE (TREE_TYPE (size)) != TYPE_MODE (TREE_TYPE (orig_size)))\n-+     {\n-+       size = convert (sizetype, size);\n-+       orig_size = convert (sizetype, orig_size);\n-+     }\n-+ \n-+   if (size != 0\n         && (operand_equal_p (size, orig_size, 0)\n   \t  || (TREE_CODE (orig_size) == INTEGER_CST\n-  \t      && tree_int_cst_lt (size, orig_size)))\n-diff -pr gnat-3.10p-src/src/ada/a-misc.c egcs-980308/gcc/ada/a-misc.c\n-*** gnat-3.10p-src/src/ada/a-misc.c\tWed Aug 13 21:02:18 1997\n---- egcs-980308/gcc/ada/a-misc.c\tTue Mar 10 18:39:13 1998\n-*************** extern char *main_input_filename;\n+diff -c ada/a-misc.c /home/brolley/comp/egcs/tmp/ada/a-misc.c\n+*** ada/a-misc.c\tMon Mar 30 16:29:05 1998\n+--- /home/brolley/comp/egcs/tmp/ada/a-misc.c\tThu Apr  2 17:36:19 1998\n+***************\n *** 70,77 ****\n   \n   #define DEFTREECODE(SYM, NAME, TYPE, LENGTH) TYPE,\n@@ -75,8 +77,30 @@ diff -pr gnat-3.10p-src/src/ada/a-misc.c egcs-980308/gcc/ada/a-misc.c\n   #include \"a-tree.def\"\n   };\n   #undef DEFTREECODE\n-*************** init_lex ()\n-*** 607,626 ****\n+***************\n+*** 254,259 ****\n+--- 254,268 ----\n+  print_lang_statistics ()\n+  {}\n+  \n++ void\n++ lang_print_xnode (file, node, indent)\n++      FILE *file;\n++      tree node;\n++      int indent;\n++ {\n++ }\n++  \n++ \n+  /* integrate_decl_tree calls this function, but since we don't use the\n+     DECL_LANG_SPECIFIC field, this is a no-op.  */\n+  \n+***************\n+*** 603,622 ****\n+     it, but it's where g++ does it.  */\n+  \n+  void\n+! init_lex ()\n   {\n     lang_expand_expr = gnat_expand_expr;\n   \n@@ -92,24 +116,45 @@ diff -pr gnat-3.10p-src/src/ada/a-misc.c egcs-980308/gcc/ada/a-misc.c\n - \n     bcopy ((char *) gnat_tree_code_type,\n   \t (char *) (tree_code_type + (int) LAST_AND_UNUSED_TREE_CODE),\n-! \t ((LAST_GNAT_TREE_CODE - (int) LAST_AND_UNUSED_TREE_CODE)\n-! \t  * sizeof (char *)));\n+  \t ((LAST_GNAT_TREE_CODE - (int) LAST_AND_UNUSED_TREE_CODE)\n+--- 612,622 ----\n+     it, but it's where g++ does it.  */\n   \n-    bcopy ((char *)gnat_tree_code_length,\n-  \t (char *) (tree_code_length + (int) LAST_AND_UNUSED_TREE_CODE),\n---- 607,615 ----\n+  void\n+! init_parse (filename)\n+!      char *filename\n   {\n     lang_expand_expr = gnat_expand_expr;\n   \n     bcopy ((char *) gnat_tree_code_type,\n   \t (char *) (tree_code_type + (int) LAST_AND_UNUSED_TREE_CODE),\n-! \t LAST_GNAT_TREE_CODE - (int) LAST_AND_UNUSED_TREE_CODE);\n+  \t ((LAST_GNAT_TREE_CODE - (int) LAST_AND_UNUSED_TREE_CODE)\n+***************\n+*** 629,636 ****\n+  \n+    bcopy ((char *) gnat_tree_code_name,\n+  \t (char *) (tree_code_name + (int) LAST_AND_UNUSED_TREE_CODE),\n+! \t ((LAST_GNAT_TREE_CODE - (int) LAST_AND_UNUSED_TREE_CODE)\n+! \t  * sizeof (char *)));\n+  }\n+  \n+  /* Sets some debug flags for the parsed. It does nothing here.  */\n+--- 629,640 ----\n   \n-    bcopy ((char *)gnat_tree_code_length,\n-  \t (char *) (tree_code_length + (int) LAST_AND_UNUSED_TREE_CODE),\n-diff -pr gnat-3.10p-src/src/ada/a-tree.def egcs-980308/gcc/ada/a-tree.def\n-*** gnat-3.10p-src/src/ada/a-tree.def\tWed Aug 13 21:02:20 1997\n---- egcs-980308/gcc/ada/a-tree.def\tTue Mar 10 18:39:54 1998\n+    bcopy ((char *) gnat_tree_code_name,\n+  \t (char *) (tree_code_name + (int) LAST_AND_UNUSED_TREE_CODE),\n+! \t LAST_GNAT_TREE_CODE - (int) LAST_AND_UNUSED_TREE_CODE);\n+! }\n+! \n+! void\n+! finish_parse ()\n+! {\n+  }\n+  \n+  /* Sets some debug flags for the parsed. It does nothing here.  */\n+diff -c ada/a-tree.def /home/brolley/comp/egcs/tmp/ada/a-tree.def\n+*** ada/a-tree.def\tMon Mar 30 16:29:09 1998\n+--- /home/brolley/comp/egcs/tmp/ada/a-tree.def\tThu Apr  2 17:20:38 1998\n ***************\n *** 31,69 ****\n      The only field used if TREE_COMPLEXITY, which contains the GNAT node\n@@ -191,22 +236,4 @@ diff -pr gnat-3.10p-src/src/ada/a-tree.def egcs-980308/gcc/ada/a-tree.def\n      involved.  */\n   \n ! DEFTREECODE (GNAT_NOP_EXPR, \"gnat_nop_expr\", '1', 1)\n-*** ada/a-misc.c.dist\tMon Mar 23 00:09:16 1998\n---- ada/a-misc.c\tSat Mar 28 00:19:01 1998\n-***************\n-*** 254,259 ****\n---- 254,267 ----\n-  print_lang_statistics ()\n-  {}\n-  \n-+ void\n-+ lang_print_xnode (file, node, indent)\n-+      FILE *file;\n-+      tree node;\n-+      int indent;\n-+ {\n-+ }\n-+ \n-  /* integrate_decl_tree calls this function, but since we don't use the\n-     DECL_LANG_SPECIFIC field, this is a no-op.  */\n-  \n+"}]}