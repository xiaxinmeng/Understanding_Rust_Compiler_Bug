{"sha": "c8f7324e81c1bb7093a5b44317af385e5774f9a3", "node_id": "C_kwDOANBUbNoAKGM4ZjczMjRlODFjMWJiNzA5M2E1YjQ0MzE3YWYzODVlNTc3NGY5YTM", "commit": {"author": {"name": "Xi Ruoyao", "email": "xry111@mengyan1223.wang", "date": "2022-04-08T17:58:40Z"}, "committer": {"name": "Xi Ruoyao", "email": "xry111@mengyan1223.wang", "date": "2022-04-09T11:41:53Z"}, "message": "loongarch: testsuite: adapt stack-usage-1.c for LP64\n\nLoongArch backend allocates two additional 8-byte stack slots for LP64,\none for saving $fp and another for saving the temporary value \"1\".\nIdeally they are both unneeded, but (1) we're using -O0 so the code is\nsuboptimized by the nature; (2) any improvement (if possible) should be\ndeferred to GCC 13.  So for now simply adjust the test to make it pass.\n\ngcc/testsuite/\n\n\t* gcc.dg/stack-usage-1.c: Adjust for LoongArch LP64.", "tree": {"sha": "4e0a17209edd84d993c8693494da66e6a1b30ea0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4e0a17209edd84d993c8693494da66e6a1b30ea0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8f7324e81c1bb7093a5b44317af385e5774f9a3", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEEunTLnZqV9wGnXaw2V5HFsy7NNwFAmJRcQEACgkQ2V5HFsy7\nNNypaw//dsCCAcGpQ3Rh7EiryY2NlwPnfb4EticZ304ZjXSj7kCV6Zu9HLFAZ2wz\n8i59zfGmwW/gCi6ki4Dgu1JXqxWJdjD3fbcD5Xmn+334JxjUOLnbVFcHpwqaqc/p\nq+3kCslM6AkoZtQ6YLV9m0s8uyTT+wdRMvMfhT4y7gDn4kGXkuOw+VydLKQKvh2b\n2wlKQAyKBZMJJkwEgcQR2YjVwCR4Q9DSw9c5WGC9d3fwdjnHDWoeVcXtM9S+MK28\njsn1jMN631W1tQvvLL1wbd7Q+6PJ2NQPHGYG8jgt1hxn6QRy3GTyy/YE03txuv1c\n/2m8ORasupAdP4VnKUpGlIvdjEaL0E6/Sl8QVPsGcdsNPXh0rPJeyPijXvwsEIMQ\njkd8TvuliFtXb5YkjauF0qR+IsjG2a1SA9TME8tDbQACzFVAf3jVDE7EkesW8/Ln\nuzXxzJpcRN6Q3kysrQnCLOhsSYF41GtaB6CjDUqrcVK5sU5cut5AbZaeZ5W+RiZk\nikodQdB54+ijs5PKdleaGsrZc6328WlIvFAgWPRnMd6ymu/ZjyortyMKUGbZTa/i\nMLgnTvkgWAhQznAbE/+dhWr8nTILNpXfoESU69FxtIsBPOOjiWOHzzyq+Ow7Aec5\n6+oMKcSXYvumD80rhICGHC7BRqjpHkPblJ1kGuCVgNuehCOvsZw=\n=X8Sj\n-----END PGP SIGNATURE-----", "payload": "tree 4e0a17209edd84d993c8693494da66e6a1b30ea0\nparent 6e345078624ab4f872dca29e92f83682f94369f8\nauthor Xi Ruoyao <xry111@mengyan1223.wang> 1649440720 +0800\ncommitter Xi Ruoyao <xry111@mengyan1223.wang> 1649504513 +0800\n\nloongarch: testsuite: adapt stack-usage-1.c for LP64\n\nLoongArch backend allocates two additional 8-byte stack slots for LP64,\none for saving $fp and another for saving the temporary value \"1\".\nIdeally they are both unneeded, but (1) we're using -O0 so the code is\nsuboptimized by the nature; (2) any improvement (if possible) should be\ndeferred to GCC 13.  So for now simply adjust the test to make it pass.\n\ngcc/testsuite/\n\n\t* gcc.dg/stack-usage-1.c: Adjust for LoongArch LP64.\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8f7324e81c1bb7093a5b44317af385e5774f9a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8f7324e81c1bb7093a5b44317af385e5774f9a3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8f7324e81c1bb7093a5b44317af385e5774f9a3/comments", "author": {"login": "xry111", "id": 8733039, "node_id": "MDQ6VXNlcjg3MzMwMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8733039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xry111", "html_url": "https://github.com/xry111", "followers_url": "https://api.github.com/users/xry111/followers", "following_url": "https://api.github.com/users/xry111/following{/other_user}", "gists_url": "https://api.github.com/users/xry111/gists{/gist_id}", "starred_url": "https://api.github.com/users/xry111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xry111/subscriptions", "organizations_url": "https://api.github.com/users/xry111/orgs", "repos_url": "https://api.github.com/users/xry111/repos", "events_url": "https://api.github.com/users/xry111/events{/privacy}", "received_events_url": "https://api.github.com/users/xry111/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xry111", "id": 8733039, "node_id": "MDQ6VXNlcjg3MzMwMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8733039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xry111", "html_url": "https://github.com/xry111", "followers_url": "https://api.github.com/users/xry111/followers", "following_url": "https://api.github.com/users/xry111/following{/other_user}", "gists_url": "https://api.github.com/users/xry111/gists{/gist_id}", "starred_url": "https://api.github.com/users/xry111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xry111/subscriptions", "organizations_url": "https://api.github.com/users/xry111/orgs", "repos_url": "https://api.github.com/users/xry111/repos", "events_url": "https://api.github.com/users/xry111/events{/privacy}", "received_events_url": "https://api.github.com/users/xry111/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6e345078624ab4f872dca29e92f83682f94369f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e345078624ab4f872dca29e92f83682f94369f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e345078624ab4f872dca29e92f83682f94369f8"}], "stats": {"total": 2, "additions": 2, "deletions": 0}, "files": [{"sha": "21cce0f440c53753f700abba6f69890afd1a8c93", "filename": "gcc/testsuite/gcc.dg/stack-usage-1.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8f7324e81c1bb7093a5b44317af385e5774f9a3/gcc%2Ftestsuite%2Fgcc.dg%2Fstack-usage-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8f7324e81c1bb7093a5b44317af385e5774f9a3/gcc%2Ftestsuite%2Fgcc.dg%2Fstack-usage-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fstack-usage-1.c?ref=c8f7324e81c1bb7093a5b44317af385e5774f9a3", "patch": "@@ -105,6 +105,8 @@\n #  define SIZE 252\n #elif defined (__CRIS__)\n #  define SIZE 252\n+#elif defined (__loongarch_lp64)\n+#  define SIZE 240   /* 256 - 8 bytes for $fp, and 8 bytes for a temp value */\n #else\n #  define SIZE 256\n #endif"}]}