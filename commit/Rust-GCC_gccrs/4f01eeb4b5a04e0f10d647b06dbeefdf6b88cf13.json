{"sha": "4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGYwMWVlYjRiNWEwNGUwZjEwZDY0N2IwNmRiZWVmZGY2Yjg4Y2YxMw==", "commit": {"author": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2008-02-26T14:16:13Z"}, "committer": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2008-02-26T14:16:13Z"}, "message": "re PR tree-optimization/26264 (Extraneous warning with __builtin_stdarg_start and optimization)\n\n2008-02-26  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n\n\tPR 26264\n\t* builtins.def (BUILT_IN_STDARG_START): Remove.\n\t* builtins.c (expand_builtin): Remove BUILT_IN_STDARG_START.\n\t* tree-stdarg.c (execute_optimize_stdarg): Likewise.\n\t* tree-inline.c (inline_forbidden_p_1): Likewise.\ncp/\n\t* call.c (magic_varargs_p):  Remove BUILT_IN_STDARG_START.\ntestsuite/\n\t* 20021023-1.c: Use __builtin_va_start instead of\n\t__builtin_stdarg_start.\n\t* pr17301-1.c: Likewise.\n\t* pr17301-2.c: Likewise.\n\nFrom-SVN: r132677", "tree": {"sha": "ca68aad97bda878629e7492e55714765571c7ec3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca68aad97bda878629e7492e55714765571c7ec3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/comments", "author": null, "committer": null, "parents": [{"sha": "bbd59cf4230b1aadbd969c0e6b49a21c0a322311", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbd59cf4230b1aadbd969c0e6b49a21c0a322311", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbd59cf4230b1aadbd969c0e6b49a21c0a322311"}], "stats": {"total": 36, "additions": 26, "deletions": 10}, "files": [{"sha": "0f9aa8df1a07c5bca75d4e0cce00a1920d128942", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "patch": "@@ -1,3 +1,11 @@\n+2008-02-26  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n+\n+        PR 26264\n+\t* builtins.def (BUILT_IN_STDARG_START): Remove.\n+\t* builtins.c (expand_builtin): Remove BUILT_IN_STDARG_START.\n+\t* tree-stdarg.c (execute_optimize_stdarg): Likewise.\n+\t* tree-inline.c (inline_forbidden_p_1): Likewise.\n+\t\n 2008-02-26  Richard Guenther  <rguenther@suse.de>\n \n \t* tree-flow.h (uid_decl_map_hash, uid_decl_map_eq): Move ..."}, {"sha": "31b9df2d5dddc22595ac62f867a7360e78de6e52", "filename": "gcc/builtins.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "patch": "@@ -6702,7 +6702,6 @@ expand_builtin (tree exp, rtx target, rtx subtarget, enum machine_mode mode,\n       return expand_builtin_extend_pointer (CALL_EXPR_ARG (exp, 0));\n \n     case BUILT_IN_VA_START:\n-    case BUILT_IN_STDARG_START:\n       return expand_builtin_va_start (exp);\n     case BUILT_IN_VA_END:\n       return expand_builtin_va_end (exp);"}, {"sha": "dd6741e29b392b18ff1d810c49cbcc20f24df701", "filename": "gcc/builtins.def", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Fbuiltins.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Fbuiltins.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.def?ref=4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "patch": "@@ -693,7 +693,6 @@ DEF_GCC_BUILTIN        (BUILT_IN_RETURN, \"return\", BT_FN_VOID_PTR, ATTR_NORETURN\n DEF_GCC_BUILTIN        (BUILT_IN_RETURN_ADDRESS, \"return_address\", BT_FN_PTR_UINT, ATTR_NULL)\n DEF_GCC_BUILTIN        (BUILT_IN_SAVEREGS, \"saveregs\", BT_FN_PTR_VAR, ATTR_NULL)\n DEF_GCC_BUILTIN        (BUILT_IN_SETJMP, \"setjmp\", BT_FN_INT_PTR, ATTR_NULL)\n-DEF_GCC_BUILTIN        (BUILT_IN_STDARG_START, \"stdarg_start\", BT_FN_VOID_VALIST_REF_VAR, ATTR_NULL)\n DEF_EXT_LIB_BUILTIN    (BUILT_IN_STRFMON, \"strfmon\", BT_FN_SSIZE_STRING_SIZE_CONST_STRING_VAR, ATTR_FORMAT_STRFMON_NOTHROW_3_4)\n DEF_LIB_BUILTIN        (BUILT_IN_STRFTIME, \"strftime\", BT_FN_SIZE_STRING_SIZE_CONST_STRING_CONST_PTR, ATTR_FORMAT_STRFTIME_NOTHROW_3_0)\n DEF_GCC_BUILTIN        (BUILT_IN_TRAP, \"trap\", BT_FN_VOID, ATTR_NORETURN_NOTHROW_LIST)"}, {"sha": "7ab99249c57e2664d7f6b1a13ce56a96ee5e5f8a", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "patch": "@@ -1,3 +1,8 @@\n+2008-02-26  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n+\n+\tPR 26264\n+\t* call.c (magic_varargs_p):  Remove BUILT_IN_STDARG_START.\n+\t\n 2008-02-26  Richard Guenther  <rguenther@suse.de>\n \n \t* decl.c (duplicate_decls): Remove decl from global mapping"}, {"sha": "a61638cfe458cb8cd705025b7209bec8c3e39933", "filename": "gcc/cp/call.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "patch": "@@ -4826,7 +4826,6 @@ magic_varargs_p (tree fn)\n       case BUILT_IN_CLASSIFY_TYPE:\n       case BUILT_IN_CONSTANT_P:\n       case BUILT_IN_NEXT_ARG:\n-      case BUILT_IN_STDARG_START:\n       case BUILT_IN_VA_START:\n \treturn true;\n "}, {"sha": "ecd4f306b58ceec267ffcdca6a5b64d32e9acf73", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "patch": "@@ -1,3 +1,11 @@\n+2008-02-26  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n+\n+\tPR 26264\n+\t* 20021023-1.c: Use __builtin_va_start instead of\n+\t__builtin_stdarg_start.\n+\t* pr17301-1.c: Likewise.\n+\t* pr17301-2.c: Likewise.\n+\t\t\n 2008-02-26  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n \t\n \t* gcc.dg/pr34351.c: New."}, {"sha": "855b2cc1ed074f1d15694826f218e4eebb5ed914", "filename": "gcc/testsuite/gcc.dg/20021023-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Ftestsuite%2Fgcc.dg%2F20021023-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Ftestsuite%2Fgcc.dg%2F20021023-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20021023-1.c?ref=4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "patch": "@@ -17,7 +17,7 @@ bar (void *a, float b, const char *c, ...)\n   va_list args;\n   unsigned int d;\n \n-  __builtin_stdarg_start (args, c);\n+  __builtin_va_start (args, c);\n   d = foo (a, b, c, args, a);\n   __builtin_va_end (args);\n   return d;"}, {"sha": "28968fbb2b39705b82d943afae93fecedb34241e", "filename": "gcc/testsuite/gcc.dg/pr17301-1.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Ftestsuite%2Fgcc.dg%2Fpr17301-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Ftestsuite%2Fgcc.dg%2Fpr17301-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr17301-1.c?ref=4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "patch": "@@ -1,4 +1,4 @@\n-/* Invalid use of __builtin_stdarg_start should not cause an ICE.  Bug\n+/* Invalid use of __builtin_va_start should not cause an ICE.  Bug\n    17301.  */\n /* { dg-do compile } */\n /* { dg-options \"\" } */\n@@ -7,5 +7,5 @@ int\n write_format (char *format, ...)\n {\n   __builtin_va_list p;\n-  __builtin_stdarg_start (p); /* { dg-error \"too few arguments to function 'va_start'\" } */\n+  __builtin_va_start (p); /* { dg-error \"too few arguments to function 'va_start'\" } */\n }"}, {"sha": "b91a2314b6404a8243d8d53cdb7e5d4ae9058806", "filename": "gcc/testsuite/gcc.dg/pr17301-2.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Ftestsuite%2Fgcc.dg%2Fpr17301-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Ftestsuite%2Fgcc.dg%2Fpr17301-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr17301-2.c?ref=4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "patch": "@@ -1,9 +1,9 @@\n-/* Invalid use of __builtin_stdarg_start should not cause an ICE.  Bug\n+/* Invalid use of __builtin_va_start should not cause an ICE.  Bug\n    17301.  Case with no arguments.  */\n /* { dg-do compile } */\n /* { dg-options \"\" } */\n \n void foo (char *format, ...)\n {\n-  __builtin_stdarg_start (); /* { dg-error \"too few arguments to function '__builtin_stdarg_start'\" } */\n+  __builtin_va_start (); /* { dg-error \"too few arguments to function '__builtin_va_start'\" } */\n }"}, {"sha": "ea0bac6214bc234faf1273e31af427fcd3a4a407", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "patch": "@@ -1899,7 +1899,6 @@ inline_forbidden_p_1 (tree *nodep, int *walk_subtrees ATTRIBUTE_UNUSED,\n \t    /* We cannot inline functions that take a variable number of\n \t       arguments.  */\n \t  case BUILT_IN_VA_START:\n-\t  case BUILT_IN_STDARG_START:\n \t  case BUILT_IN_NEXT_ARG:\n \t  case BUILT_IN_VA_END:\n \t    inline_forbidden_reason"}, {"sha": "8a275295aa4158f52f92ae3b9251745abbda35eb", "filename": "gcc/tree-stdarg.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Ftree-stdarg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13/gcc%2Ftree-stdarg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-stdarg.c?ref=4f01eeb4b5a04e0f10d647b06dbeefdf6b88cf13", "patch": "@@ -648,7 +648,6 @@ execute_optimize_stdarg (void)\n \t      break;\n \t      /* If old style builtins are used, don't optimize anything.  */\n \t    case BUILT_IN_SAVEREGS:\n-\t    case BUILT_IN_STDARG_START:\n \t    case BUILT_IN_ARGS_INFO:\n \t    case BUILT_IN_NEXT_ARG:\n \t      va_list_escapes = true;"}]}