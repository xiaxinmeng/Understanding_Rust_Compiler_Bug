{"sha": "229bfbcff33bdf293029dd4990b96eb77af2f55a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI5YmZiY2ZmMzNiZGYyOTMwMjlkZDQ5OTBiOTZlYjc3YWYyZjU1YQ==", "commit": {"author": {"name": "Andrey Belevantsev", "email": "abel@gcc.gnu.org", "date": "2012-01-20T06:22:24Z"}, "committer": {"name": "Andrey Belevantsev", "email": "abel@gcc.gnu.org", "date": "2012-01-20T06:22:24Z"}, "message": "re PR target/51106 (ICE in move_insn, at haifa-sched.c:2314)\n\ngcc:/\n2012-01-20  Andrey Belevantsev  <abel@ispras.ru>\n\n      PR target/51106\n      * function.c (instantiate_virtual_regs_in_insn): Use\n      delete_insn_and_edges when removing a wrong asm insn.\n\ntestsuite:/\n2012-01-20  Jakub Jelinek  <jakub@redhat.com>\n\n      PR target/51106\n      * gcc.dg/torture/pr51106-1.c: New test.\n      * gcc.dg/torture/pr51106-2.c: New test.\n\nFrom-SVN: r183325", "tree": {"sha": "bb65cfd4f121aa6987a4d05b2a5c8a06029f4d05", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bb65cfd4f121aa6987a4d05b2a5c8a06029f4d05"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/229bfbcff33bdf293029dd4990b96eb77af2f55a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/229bfbcff33bdf293029dd4990b96eb77af2f55a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/229bfbcff33bdf293029dd4990b96eb77af2f55a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/229bfbcff33bdf293029dd4990b96eb77af2f55a/comments", "author": null, "committer": null, "parents": [{"sha": "28b0d0a01e0626164ab6d2a87a44fac98879db90", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28b0d0a01e0626164ab6d2a87a44fac98879db90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28b0d0a01e0626164ab6d2a87a44fac98879db90"}], "stats": {"total": 42, "additions": 41, "deletions": 1}, "files": [{"sha": "b05a76494297a12d407bca9cf065e47fe2902c29", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/229bfbcff33bdf293029dd4990b96eb77af2f55a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/229bfbcff33bdf293029dd4990b96eb77af2f55a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=229bfbcff33bdf293029dd4990b96eb77af2f55a", "patch": "@@ -1,3 +1,9 @@\n+2012-01-20  Andrey Belevantsev  <abel@ispras.ru>\n+\n+\tPR target/51106\n+\t* function.c (instantiate_virtual_regs_in_insn): Use\n+\tdelete_insn_and_edges when removing a wrong asm insn.\n+\n 2012-01-19  Vladimir Makarov  <vmakarov@redhat.com>\n \n \tPR rtl-optimization/40761"}, {"sha": "94e51f401c3c7e693feb93d20dac78410c5e90e1", "filename": "gcc/function.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/229bfbcff33bdf293029dd4990b96eb77af2f55a/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/229bfbcff33bdf293029dd4990b96eb77af2f55a/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=229bfbcff33bdf293029dd4990b96eb77af2f55a", "patch": "@@ -1737,7 +1737,7 @@ instantiate_virtual_regs_in_insn (rtx insn)\n       if (!check_asm_operands (PATTERN (insn)))\n \t{\n \t  error_for_asm (insn, \"impossible constraint in %<asm%>\");\n-\t  delete_insn (insn);\n+\t  delete_insn_and_edges (insn);\n \t}\n     }\n   else"}, {"sha": "c1dd677c6bc4e857602a4b3449dcf59e7721d676", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/229bfbcff33bdf293029dd4990b96eb77af2f55a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/229bfbcff33bdf293029dd4990b96eb77af2f55a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=229bfbcff33bdf293029dd4990b96eb77af2f55a", "patch": "@@ -1,3 +1,9 @@\n+2012-01-20  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/51106\n+\t* gcc.dg/torture/pr51106-1.c: New test.\n+\t* gcc.dg/torture/pr51106-2.c: New test.\n+\n 2012-01-19  Kai Tietz  <ktietz@redhat.com>\n \n \t* g++.dg/torture/pr51344.C: New test."}, {"sha": "10b3b682b98b0c0b2920a98ff386b865f9ad5665", "filename": "gcc/testsuite/gcc.dg/torture/pr51106-1.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/229bfbcff33bdf293029dd4990b96eb77af2f55a/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr51106-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/229bfbcff33bdf293029dd4990b96eb77af2f55a/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr51106-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr51106-1.c?ref=229bfbcff33bdf293029dd4990b96eb77af2f55a", "patch": "@@ -0,0 +1,14 @@\n+/* PR target/51106 */\n+/* { dg-do \"compile\" } */\n+/* { dg-skip-if \"RTL error\" { \"*-*-*\" } { \"-fno-fat-lto-objects\" } { \"\" } } */\n+\n+int\n+foo (int x)\n+{\n+  asm goto (\"\" : : \"i\" (x) : : lab); /* { dg-error \"impossible constraint\" } */\n+  return 1;\n+lab:\n+  return 0;\n+}\n+\n+/* { dg-warning \"probably doesn.t match constraints\" \"\" { target *-*-* } 8 } */"}, {"sha": "e69bf1b01ab63889a1f2e9490d6f136d55c04cb1", "filename": "gcc/testsuite/gcc.dg/torture/pr51106-2.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/229bfbcff33bdf293029dd4990b96eb77af2f55a/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr51106-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/229bfbcff33bdf293029dd4990b96eb77af2f55a/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr51106-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr51106-2.c?ref=229bfbcff33bdf293029dd4990b96eb77af2f55a", "patch": "@@ -0,0 +1,14 @@\n+/* PR target/51106 */\n+/* { dg-do \"compile\" } */\n+/* { dg-skip-if \"RTL error\" { \"*-*-*\" } { \"-fno-fat-lto-objects\" } { \"\" } } */\n+\n+int\n+bar (int x)\n+{\n+  asm goto (\"\" : : \"i\" (x) : : lab); /* { dg-error \"impossible constraint\" } */\n+  __builtin_unreachable ();\n+lab:\n+  return 0;\n+}\n+\n+/* { dg-warning \"probably doesn.t match constraints\" \"\" { target *-*-* } 8 } */"}]}