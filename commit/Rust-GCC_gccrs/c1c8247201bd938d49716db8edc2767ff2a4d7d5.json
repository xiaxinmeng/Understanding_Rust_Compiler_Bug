{"sha": "c1c8247201bd938d49716db8edc2767ff2a4d7d5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzFjODI0NzIwMWJkOTM4ZDQ5NzE2ZGI4ZWRjMjc2N2ZmMmE0ZDdkNQ==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2014-07-31T09:48:12Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-07-31T09:48:12Z"}, "message": "bindgen.adb (Gen_Output_File_Ada): Generate pragma Suppress (Overflow_Check).\n\n2014-07-31  Robert Dewar  <dewar@adacore.com>\n\n\t* bindgen.adb (Gen_Output_File_Ada): Generate pragma Suppress\n\t(Overflow_Check).\n\t* gnatlink.adb (Process_Args): Remove generation of -gnato0,\n\tno longer needed.\n\nFrom-SVN: r213329", "tree": {"sha": "55467a1a341de6fbf3cdd390e8c0b60bef5dfba5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/55467a1a341de6fbf3cdd390e8c0b60bef5dfba5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c1c8247201bd938d49716db8edc2767ff2a4d7d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1c8247201bd938d49716db8edc2767ff2a4d7d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1c8247201bd938d49716db8edc2767ff2a4d7d5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1c8247201bd938d49716db8edc2767ff2a4d7d5/comments", "author": null, "committer": null, "parents": [{"sha": "e95ad7ea78884d4df12f60a8d3592989b895664b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e95ad7ea78884d4df12f60a8d3592989b895664b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e95ad7ea78884d4df12f60a8d3592989b895664b"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "bac79b166e2e3cfeb6908dce886c182f86fc2509", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1c8247201bd938d49716db8edc2767ff2a4d7d5/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1c8247201bd938d49716db8edc2767ff2a4d7d5/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=c1c8247201bd938d49716db8edc2767ff2a4d7d5", "patch": "@@ -1,3 +1,10 @@\n+2014-07-31  Robert Dewar  <dewar@adacore.com>\n+\n+\t* bindgen.adb (Gen_Output_File_Ada): Generate pragma Suppress\n+\t(Overflow_Check).\n+\t* gnatlink.adb (Process_Args): Remove generation of -gnato0,\n+\tno longer needed.\n+\n 2014-07-31  Robert Dewar  <dewar@adacore.com>\n \n \t* gnat_ugn.texi: Document new switch -gnato0."}, {"sha": "8d5262b48c77fc426e2107cab11f348affcf2e9c", "filename": "gcc/ada/bindgen.adb", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1c8247201bd938d49716db8edc2767ff2a4d7d5/gcc%2Fada%2Fbindgen.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1c8247201bd938d49716db8edc2767ff2a4d7d5/gcc%2Fada%2Fbindgen.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindgen.adb?ref=c1c8247201bd938d49716db8edc2767ff2a4d7d5", "patch": "@@ -2493,6 +2493,14 @@ package body Bindgen is\n            \", Body_File_Name => \"\"\" &\n            Name_Buffer (1 .. Name_Len + 3));\n \n+      --  Generate pragma Suppress (Overflow_Check). This is needed for recent\n+      --  versions of the compiler which have overflow checks on by default.\n+      --  We do not want overflow checking enabled for the increments of the\n+      --  elaboration variables (since this can cause an unwanted reference to\n+      --  the last chance exception handler for limited run-times).\n+\n+      WBI (\"pragma Suppress (Overflow_Check);\");\n+\n       --  Generate with of System.Restrictions to initialize\n       --  Run_Time_Restrictions.\n "}, {"sha": "bb79180b56e478f777407f48beffe76c69737d87", "filename": "gcc/ada/gnatlink.adb", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1c8247201bd938d49716db8edc2767ff2a4d7d5/gcc%2Fada%2Fgnatlink.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1c8247201bd938d49716db8edc2767ff2a4d7d5/gcc%2Fada%2Fgnatlink.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatlink.adb?ref=c1c8247201bd938d49716db8edc2767ff2a4d7d5", "patch": "@@ -676,12 +676,6 @@ procedure Gnatlink is\n       Binder_Options.Increment_Last;\n       Binder_Options.Table (Binder_Options.Last) := new String'(\"-gnatws\");\n \n-      --  Also suppress overflow checks (needed now that we have them on by\n-      --  default, we want checks off when incrementing elaboration counters).\n-\n-      Binder_Options.Increment_Last;\n-      Binder_Options.Table (Binder_Options.Last) := new String'(\"-gnato0\");\n-\n       --  If we did not get an ali file at all, and we had at least one\n       --  linker option, then assume that was the intended ali file after\n       --  all, so that we get a nicer message later on."}]}