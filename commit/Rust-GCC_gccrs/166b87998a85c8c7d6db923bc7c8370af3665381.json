{"sha": "166b87998a85c8c7d6db923bc7c8370af3665381", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTY2Yjg3OTk4YTg1YzhjN2Q2ZGI5MjNiYzdjODM3MGFmMzY2NTM4MQ==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@arm.com", "date": "2017-10-10T08:59:23Z"}, "committer": {"name": "Bin Cheng", "email": "amker@gcc.gnu.org", "date": "2017-10-10T08:59:23Z"}, "message": "tree-vect-loop-manip.c (slpeel_tree_duplicate_loop_to_edge_cfg): Skip renaming variables in new preheader if it's deleted.\n\n\t* tree-vect-loop-manip.c (slpeel_tree_duplicate_loop_to_edge_cfg): Skip\n\trenaming variables in new preheader if it's deleted.\n\nFrom-SVN: r253579", "tree": {"sha": "2509dc838781787b25d0175da19b3f9443e3803b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2509dc838781787b25d0175da19b3f9443e3803b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/166b87998a85c8c7d6db923bc7c8370af3665381", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/166b87998a85c8c7d6db923bc7c8370af3665381", "html_url": "https://github.com/Rust-GCC/gccrs/commit/166b87998a85c8c7d6db923bc7c8370af3665381", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/166b87998a85c8c7d6db923bc7c8370af3665381/comments", "author": null, "committer": null, "parents": [{"sha": "9239436cae14e67a6180df85093d6d18d0632e5e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9239436cae14e67a6180df85093d6d18d0632e5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9239436cae14e67a6180df85093d6d18d0632e5e"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "6ce0d73dc4711f622305d7fbcb2d55792a480e96", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/166b87998a85c8c7d6db923bc7c8370af3665381/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/166b87998a85c8c7d6db923bc7c8370af3665381/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=166b87998a85c8c7d6db923bc7c8370af3665381", "patch": "@@ -1,3 +1,8 @@\n+2017-10-10  Bin Cheng  <bin.cheng@arm.com>\n+\n+\t* tree-vect-loop-manip.c (slpeel_tree_duplicate_loop_to_edge_cfg): Skip\n+\trenaming variables in new preheader if it's deleted.\n+\n 2017-10-10  Bin Cheng  <bin.cheng@arm.com>\n \n \t* tree-loop-distribution.c (struct partition): Remove unused field"}, {"sha": "fb73a885b248414fcc6e86237817dc7b11d34a76", "filename": "gcc/tree-vect-loop-manip.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/166b87998a85c8c7d6db923bc7c8370af3665381/gcc%2Ftree-vect-loop-manip.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/166b87998a85c8c7d6db923bc7c8370af3665381/gcc%2Ftree-vect-loop-manip.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-loop-manip.c?ref=166b87998a85c8c7d6db923bc7c8370af3665381", "patch": "@@ -496,7 +496,8 @@ slpeel_tree_duplicate_loop_to_edge_cfg (struct loop *loop,\n \t\t\t       loop_preheader_edge (new_loop)->src);\n     }\n \n-  for (unsigned i = 0; i < scalar_loop->num_nodes + 1; i++)\n+  /* Skip new preheader since it's deleted if copy loop is added at entry.  */\n+  for (unsigned i = (at_exit ? 0 : 1); i < scalar_loop->num_nodes + 1; i++)\n     rename_variables_in_bb (new_bbs[i], duplicate_outer_loop);\n \n   if (scalar_loop != loop)"}]}