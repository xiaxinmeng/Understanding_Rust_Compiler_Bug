{"sha": "93cba9936ec3d32fcb1b3e484816bab6adb8446f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTNjYmE5OTM2ZWMzZDMyZmNiMWIzZTQ4NDgxNmJhYjZhZGI4NDQ2Zg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-10-27T03:24:24Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-10-27T03:24:24Z"}, "message": "flow.c (merge_blocks_move_predecessor_nojumps): Cope with already adjacent blocks, but no fallthru.\n\n        * flow.c (merge_blocks_move_predecessor_nojumps): Cope\n        with already adjacent blocks, but no fallthru.\n        (merge_blocks_move_successor_nojumps): Simplify.\n        (debug_flow_info): New.\n\nFrom-SVN: r30203", "tree": {"sha": "e906403762829fbff5ef8e233a571b65c5b0452a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e906403762829fbff5ef8e233a571b65c5b0452a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/93cba9936ec3d32fcb1b3e484816bab6adb8446f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93cba9936ec3d32fcb1b3e484816bab6adb8446f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/93cba9936ec3d32fcb1b3e484816bab6adb8446f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93cba9936ec3d32fcb1b3e484816bab6adb8446f/comments", "author": null, "committer": null, "parents": [{"sha": "09a308fe0858315bf9b95ce5a8747c3c8ea351e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/09a308fe0858315bf9b95ce5a8747c3c8ea351e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/09a308fe0858315bf9b95ce5a8747c3c8ea351e0"}], "stats": {"total": 27, "additions": 21, "deletions": 6}, "files": [{"sha": "49d4fe2e39ab8ebdffda343d63be7cfdfaaa2566", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93cba9936ec3d32fcb1b3e484816bab6adb8446f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93cba9936ec3d32fcb1b3e484816bab6adb8446f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=93cba9936ec3d32fcb1b3e484816bab6adb8446f", "patch": "@@ -1,3 +1,13 @@\n+Tue Oct 26 20:21:02 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* flow.c (merge_blocks_move_predecessor_nojumps): Cope\n+\twith already adjacent blocks, but no fallthru.\n+\t(merge_blocks_move_successor_nojumps): Simplify.\n+\t(debug_flow_info): New.\n+\n+\t* toplev.c (rest_of_compilation): Open jump1 dump file before\n+\tjump and close after, as opposed to just using dump_rtl.\n+\n Wed Oct 27 03:09:23 1999  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n \t* reload.h (earlyclobber_operand_p): Declare."}, {"sha": "8ff7b926d07fdcc9cbb1b3ff18251398f535a91b", "filename": "gcc/flow.c", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93cba9936ec3d32fcb1b3e484816bab6adb8446f/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93cba9936ec3d32fcb1b3e484816bab6adb8446f/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=93cba9936ec3d32fcb1b3e484816bab6adb8446f", "patch": "@@ -2011,12 +2011,11 @@ static int\n merge_blocks_move_predecessor_nojumps (a, b)\n      basic_block a, b;\n {\n-  rtx start, end, insertpoint, barrier;\n+  rtx start, end, barrier;\n   int index;\n \n   start = a->head;\n   end = a->end;\n-  insertpoint = PREV_INSN (b->head);\n \n   /* We want to delete the BARRIER after the end of the insns we are\n      going to move.  If we don't find a BARRIER, then do nothing.  This\n@@ -2042,7 +2041,8 @@ merge_blocks_move_predecessor_nojumps (a, b)\n   start = squeeze_notes (start, end);\n \n   /* Scramble the insn chain.  */\n-  reorder_insns (start, end, insertpoint);\n+  if (end != PREV_INSN (b->head))\n+    reorder_insns (start, end, PREV_INSN (b->head));\n \n   if (rtl_dump_file)\n     {\n@@ -2073,11 +2073,10 @@ static int\n merge_blocks_move_successor_nojumps (a, b)\n      basic_block a, b;\n {\n-  rtx start, end, insertpoint, barrier;\n+  rtx start, end, barrier;\n \n   start = b->head;\n   end = b->end;\n-  insertpoint = a->end;\n \n   /* We want to delete the BARRIER after the end of the insns we are\n      going to move.  If we don't find a BARRIER, then do nothing.  This\n@@ -2103,7 +2102,7 @@ merge_blocks_move_successor_nojumps (a, b)\n   start = squeeze_notes (start, end);\n \n   /* Scramble the insn chain.  */\n-  reorder_insns (start, end, insertpoint);\n+  reorder_insns (start, end, a->end);\n \n   /* Now blocks A and B are contiguous.  Merge them.  */\n   merge_blocks_nomove (a, b);\n@@ -4966,6 +4965,12 @@ dump_flow_info (file)\n   putc('\\n', file);\n }\n \n+void\n+debug_flow_info ()\n+{\n+  dump_flow_info (stderr);\n+}\n+\n static void\n dump_edge_info (file, e, do_succ)\n      FILE *file;"}]}