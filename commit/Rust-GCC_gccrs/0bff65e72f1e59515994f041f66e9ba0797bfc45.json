{"sha": "0bff65e72f1e59515994f041f66e9ba0797bfc45", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGJmZjY1ZTcyZjFlNTk1MTU5OTRmMDQxZjY2ZTliYTA3OTdiZmM0NQ==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2005-03-30T08:18:08Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2005-03-30T08:18:08Z"}, "message": "Makefile.def (bfd, [...]): Set lib_path.\n\n2005-03-31  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* Makefile.def (bfd, opcodes, libstdc++-v3, libmudflap): Set lib_path.\n\t* Makefile.tpl (SET_LIB_PATH, REALLY_SET_LIB_PATH): Remove.\n\t(HOST_EXPORTS, STAGE_HOST_EXPORTS, TARGET_EXPORTS): Set $(RPATH_ENVVAR).\n\t(HOST_LIB_PATH): Generate from Makefile.def.\n\t(TARGET_LIB_PATH): Likewise.\n\t(Old bootstrap targets): Include TARGET_LIB_PATH into RPATH_ENVVAR.\n\t* Makefile.in: Regenerate.\n\t* configure.in (set_lib_path, SET_LIB_PATH, SET_GCC_LIB_PATH): Remove.\n\t(RPATH_ENVVAR): Include Darwin case.\n\t* configure: Regenerate.\n\nconfig:\n2005-03-31  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* config/gcc-lib-path.m4: Remove.\n\ngcc:\n2005-03-31  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* gcc/aclocal.m4: Do not include config/gcc-lib-path.m4.\n\t* gcc/Makefile.in: Do not @set_gcc_lib_path@.\n\t* gcc/configure.ac (TL_AC_GNU_MAKE_GCC_LIB_PATH): Remove.\n\t* gcc/configure: Regenerate.\n\nFrom-SVN: r97249", "tree": {"sha": "7bbb71efd3394741bc50660f35a0b2280123c6d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7bbb71efd3394741bc50660f35a0b2280123c6d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0bff65e72f1e59515994f041f66e9ba0797bfc45", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0bff65e72f1e59515994f041f66e9ba0797bfc45", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0bff65e72f1e59515994f041f66e9ba0797bfc45", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0bff65e72f1e59515994f041f66e9ba0797bfc45/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c3a2edb6caf661786716cb9fdcc2e5201129efc5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3a2edb6caf661786716cb9fdcc2e5201129efc5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c3a2edb6caf661786716cb9fdcc2e5201129efc5"}], "stats": {"total": 1473, "additions": 124, "deletions": 1349}, "files": [{"sha": "e338aa8599ab6aba32a5c4e592a49f917e856532", "filename": "Makefile.def", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bff65e72f1e59515994f041f66e9ba0797bfc45/Makefile.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bff65e72f1e59515994f041f66e9ba0797bfc45/Makefile.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.def?ref=0bff65e72f1e59515994f041f66e9ba0797bfc45", "patch": "@@ -37,8 +37,8 @@ host_modules= { module= ash; };\n host_modules= { module= autoconf; };\n host_modules= { module= automake; };\n host_modules= { module= bash; };\n-host_modules= { module= bfd; bootstrap=true; };\n-host_modules= { module= opcodes; bootstrap=true; };\n+host_modules= { module= bfd; lib_path=.; bootstrap=true; };\n+host_modules= { module= opcodes; lib_path=.; bootstrap=true; };\n host_modules= { module= binutils; bootstrap=true; };\n host_modules= { module= bison; no_check_cross= true; };\n host_modules= { module= byacc; no_check_cross= true; };\n@@ -113,8 +113,8 @@ host_modules= { module= libtermcap; no_check=true;\n host_modules= { module= utils; no_check=true; };\n host_modules= { module= gnattools; };\n \n-target_modules = { module= libstdc++-v3; raw_cxx=true; };\n-target_modules = { module= libmudflap; };\n+target_modules = { module= libstdc++-v3; lib_path=.libs; raw_cxx=true; };\n+target_modules = { module= libmudflap; lib_path=.libs; };\n target_modules = { module= newlib; };\n target_modules = { module= libgfortran; };\n target_modules = { module= libobjc; };"}, {"sha": "51c0596d39f9791fb4fa84221504f3cc019aa96f", "filename": "Makefile.in", "status": "modified", "additions": 40, "deletions": 1133, "changes": 1173, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bff65e72f1e59515994f041f66e9ba0797bfc45/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bff65e72f1e59515994f041f66e9ba0797bfc45/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=0bff65e72f1e59515994f041f66e9ba0797bfc45"}, {"sha": "ea0de59ed1c29997a31c1a425f79f0d676963eb6", "filename": "Makefile.tpl", "status": "modified", "additions": 41, "deletions": 52, "changes": 93, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bff65e72f1e59515994f041f66e9ba0797bfc45/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bff65e72f1e59515994f041f66e9ba0797bfc45/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=0bff65e72f1e59515994f041f66e9ba0797bfc45", "patch": "@@ -87,17 +87,6 @@ GDB_NLM_DEPS =\n # the libraries.\n RPATH_ENVVAR = @RPATH_ENVVAR@\n \n-# This is set by configure to REALLY_SET_LIB_PATH if --enable-shared\n-# was used.\n-SET_LIB_PATH = @SET_LIB_PATH@\n-\n-# configure.in sets SET_LIB_PATH to this if --enable-shared was used.\n-# Some platforms don't like blank entries, so we remove duplicate,\n-# leading and trailing colons.\n-REALLY_SET_LIB_PATH = \\\n-  @SET_GCC_LIB_PATH@ \\\n-  $(RPATH_ENVVAR)=`echo \"$(HOST_LIB_PATH):$(TARGET_LIB_PATH):$$$(RPATH_ENVVAR)\" | sed 's,::*,:,g;s,^:*,,;s,:*$$,,'`; export $(RPATH_ENVVAR);\n-\n # This is the list of directories to be built for the build system.\n BUILD_CONFIGDIRS = libiberty\n # Build programs are put under this directory.\n@@ -169,11 +158,11 @@ HOST_EXPORTS = \\\n \tTOPLEVEL_CONFIGURE_ARGUMENTS=\"$(TOPLEVEL_CONFIGURE_ARGUMENTS)\"; export TOPLEVEL_CONFIGURE_ARGUMENTS; \\\n \tGMPLIBS=\"$(HOST_GMPLIBS)\"; export GMPLIBS; \\\n \tGMPINC=\"$(HOST_GMPINC)\"; export GMPINC; \\\n-\tSET_GCC_LIB_PATH_CMD=\"@SET_GCC_LIB_PATH@\"; export SET_GCC_LIB_PATH_CMD; \\\n-\t@SET_GCC_LIB_PATH@\n+\t$(RPATH_ENVVAR)=`echo \"$(HOST_LIB_PATH)$$$(RPATH_ENVVAR)\" | sed 's,::*,:,g;s,^:*,,;s,:*$$,,'`; export $(RPATH_ENVVAR);\n \n # Similar, for later GCC stages.\n STAGE_HOST_EXPORTS = \\\n+\t$(RPATH_ENVVAR)=`echo \"$(TARGET_LIB_PATH)$$$(RPATH_ENVVAR)\" | sed 's,::*,:,g;s,^:*,,;s,:*$$,,'`; export $(RPATH_ENVVAR); \\\n \t$(HOST_EXPORTS) \\\n \tCC=\"$(STAGE_CC_WRAPPER) $$r/$(HOST_SUBDIR)/prev-gcc/xgcc$(exeext) \\\n \t  -B$$r/$(HOST_SUBDIR)/prev-gcc/ -B$(build_tooldir)/bin/\"; export CC; \\\n@@ -209,8 +198,7 @@ BASE_TARGET_EXPORTS = \\\n \tNM=\"$(NM_FOR_TARGET)\"; export NM; \\\n \tRANLIB=\"$(RANLIB_FOR_TARGET)\"; export RANLIB; \\\n \tWINDRES=\"$(WINDRES_FOR_TARGET)\"; export WINDRES; \\\n-\tSET_GCC_LIB_PATH_CMD=\"@SET_GCC_LIB_PATH@\"; export SET_GCC_LIB_PATH_CMD; \\\n-\t@SET_GCC_LIB_PATH@\n+\t$(RPATH_ENVVAR)=`echo \"$(HOST_LIB_PATH)$(TARGET_LIB_PATH)$$$(RPATH_ENVVAR)\" | sed 's,::*,:,g;s,^:*,,;s,:*$$,,'`; export $(RPATH_ENVVAR);\n \n RAW_CXX_TARGET_EXPORTS = \\\n \t$(BASE_TARGET_EXPORTS) \\\n@@ -316,10 +304,6 @@ RUNTEST = `if [ -f $$s/dejagnu/runtest ] ; \\\n # Programs producing files for the HOST machine\n # ---------------------------------------------\n \n-# This is the list of directories that may be needed in RPATH_ENVVAR\n-# so that programs built for the host machine work.\n-HOST_LIB_PATH = $$r/$(HOST_SUBDIR)/bfd:$$r/$(HOST_SUBDIR)/opcodes\n-\n AS = @AS@\n \n AR = @AR@\n@@ -350,10 +334,6 @@ PICFLAG =\n # Programs producing files for the TARGET machine\n # -----------------------------------------------\n \n-# This is the list of directories that may be needed in RPATH_ENVVAR\n-# so that prorgams built for the target machine work.\n-TARGET_LIB_PATH = $$r/$(TARGET_SUBDIR)/libstdc++-v3/src/.libs:$$r/$(TARGET_SUBDIR)/libmudflap/.libs\n-\n FLAGS_FOR_TARGET = @FLAGS_FOR_TARGET@\n \n AR_FOR_TARGET=@AR_FOR_TARGET@\n@@ -501,6 +481,37 @@ PICFLAG_FOR_TARGET =\n @host_makefile_frag@\n ###\n \n+# This is the list of directories that may be needed in RPATH_ENVVAR\n+# so that prorgams built for the target machine work.\n+TARGET_LIB_PATH = [+ FOR target_modules +][+\n+  IF lib_path +]$(TARGET_LIB_PATH_[+module+])[+ ENDIF lib_path +][+\n+  ENDFOR target_modules +]$(HOST_LIB_PATH_gcc)\n+[+ FOR target_modules +][+ IF lib_path +]\n+@if target-[+module+]\n+TARGET_LIB_PATH_[+module+] = $$r/$(TARGET_SUBDIR)/[+module+]/[+lib_path+]:\n+@endif target-[+module+]\n+[+ ENDIF lib_path +][+ ENDFOR target_modules +]\n+\n+\n+# This is the list of directories that may be needed in RPATH_ENVVAR\n+# so that programs built for the host machine work.\n+HOST_LIB_PATH = [+ FOR host_modules +][+\n+  IF lib_path +]$(HOST_LIB_PATH_[+module+])[+ ENDIF lib_path +][+\n+  ENDFOR host_modules +]\n+\n+# Define HOST_LIB_PATH_gcc here, for the sake of TARGET_LIB_PATH, ouch\n+@if gcc\n+HOST_LIB_PATH_gcc = $$r/$(HOST_SUBDIR)/gcc:$$r/$(HOST_SUBDIR)/prev-gcc:\n+@endif gcc\n+\n+[+ FOR host_modules +][+ IF lib_path +]\n+@if [+module+]\n+HOST_LIB_PATH_[+module+] = \\\n+  $$r/$(HOST_SUBDIR)/[+module+]/[+lib_path+]:[+ IF bootstrap\n+  +]$$r/$(HOST_SUBDIR)/prev-[+module+]/[+lib_path+]:[+ ENDIF bootstrap +]\n+@endif [+module+]\n+[+ ENDIF lib_path +][+ ENDFOR host_modules +]\n+\n # Flags to pass down to all sub-makes.\n BASE_FLAGS_TO_PASS = [+ FOR flags_to_pass +]\\\n \t\"[+flag+]=$([+flag+])\" [+ ENDFOR flags_to_pass +]\\\n@@ -764,7 +775,6 @@ uninstall:\n install.all: install-no-fixedincludes\n \t@if [ -f ./gcc/Makefile ] ; then \\\n \t\tr=`${PWD_COMMAND}` ; export r ; \\\n-\t\t$(SET_LIB_PATH) \\\n \t\t$(HOST_EXPORTS) \\\n \t\t(cd ./gcc && \\\n \t\t$(MAKE) $(FLAGS_TO_PASS) install-headers) ; \\\n@@ -890,7 +900,6 @@ all-[+module+]: configure-[+module+]\n \t@[+ IF bootstrap +]test -f stage_last && exit 0; \\\n \t[+ ENDIF bootstrap +]r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\\n \t$(HOST_EXPORTS) \\\n \t(cd $(HOST_SUBDIR)/[+module+] && \\\n \t  $(MAKE) $(FLAGS_TO_PASS) [+extra_make_flags+] $(TARGET-[+module+]))\n@@ -908,7 +917,6 @@ check-[+module+]:\n \t@if [ '$(host)' = '$(target)' ] ; then \\\n \t  r=`${PWD_COMMAND}`; export r; \\\n \t  s=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t  $(SET_LIB_PATH) \\\n \t  $(HOST_EXPORTS) \\\n \t  (cd $(HOST_SUBDIR)/[+module+] && \\\n \t    $(MAKE) $(FLAGS_TO_PASS) [+extra_make_flags+] check); \\\n@@ -917,7 +925,6 @@ check-[+module+]:\n check-[+module+]:\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\\n \t$(HOST_EXPORTS) \\\n \t(cd $(HOST_SUBDIR)/[+module+] && \\\n \t  $(MAKE) $(FLAGS_TO_PASS) [+extra_make_flags+] check)\n@@ -934,7 +941,6 @@ install-[+module+]:\n install-[+module+]: installdirs\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\\n \t$(HOST_EXPORTS) \\\n \t(cd $(HOST_SUBDIR)/[+module+] && \\\n \t  $(MAKE) $(FLAGS_TO_PASS) [+extra_make_flags+] install)\n@@ -958,7 +964,6 @@ maybe-[+make_target+]-[+module+]: [+make_target+]-[+module+]\n \t@[ -f ./[+module+]/Makefile ] || exit 0; \\\n \tr=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\\n \t$(HOST_EXPORTS) \\\n \tfor flag in $(EXTRA_HOST_FLAGS) [+extra_make_flags+]; do \\\n \t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n@@ -995,8 +1000,7 @@ configure-target-[+module+]: $(TARGET_SUBDIR)/[+module+]/multilib.out\n \t@test ! -f $(TARGET_SUBDIR)/[+module+]/Makefile || exit 0; \\\n \t$(SHELL) $(srcdir)/mkinstalldirs $(TARGET_SUBDIR)/[+module+] ; \\\n \tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\[+\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\[+\n IF raw_cxx +]\n \t$(RAW_CXX_TARGET_EXPORTS) \\[+\n ELSE normal_cxx +]\n@@ -1025,8 +1029,7 @@ TARGET-target-[+module+]=[+ IF target +][+target+][+ ELSE +]all[+ ENDIF target +\n maybe-all-target-[+module+]: all-target-[+module+]\n all-target-[+module+]: configure-target-[+module+]\n \t@r=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\[+\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\[+\n IF raw_cxx +]\n \t$(RAW_CXX_TARGET_EXPORTS) \\[+\n ELSE normal_cxx +]\n@@ -1050,8 +1053,7 @@ check-target-[+module+]:\n [+ ELSE check +]\n check-target-[+module+]:\n \t@r=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\[+\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\[+\n IF raw_cxx +]\n \t$(RAW_CXX_TARGET_EXPORTS) \\[+\n ELSE normal_cxx +]\n@@ -1076,8 +1078,7 @@ install-target-[+module+]:\n [+ ELSE install +]\n install-target-[+module+]: installdirs\n \t@r=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\[+\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\[+\n IF raw_cxx +]\n \t$(RAW_CXX_TARGET_EXPORTS) \\[+\n ELSE normal_cxx +]\n@@ -1104,8 +1105,7 @@ maybe-[+make_target+]-target-[+module+]: [+make_target+]-target-[+module+]\n   ENDFOR depend +]\n \t@[ -f $(TARGET_SUBDIR)/[+module+]/Makefile ] || exit 0 ; \\\n \tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\[+\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\[+\n IF raw_cxx +]\n \t$(RAW_CXX_TARGET_EXPORTS) \\[+\n ELSE normal_cxx +]\n@@ -1141,9 +1141,9 @@ GCC_STRAP_TARGETS = bootstrap bootstrap-lean bootstrap2 bootstrap2-lean bootstra\n $(GCC_STRAP_TARGETS): all-prebootstrap configure-gcc\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\\n \t$(HOST_EXPORTS) \\\n \techo \"Bootstrapping the compiler\"; \\\n+\t$(RPATH_ENVVAR)=`echo \"$(TARGET_LIB_PATH)$$$(RPATH_ENVVAR)\" | sed 's,:[ :]*,:,g;s,^[ :]*,,;s,:*$$,,'`; export $(RPATH_ENVVAR); \\\n \tcd gcc && $(MAKE) $(GCC_FLAGS_TO_PASS) $@\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n@@ -1161,46 +1161,40 @@ $(GCC_STRAP_TARGETS): all-prebootstrap configure-gcc\n \t    msg=\"Comparing stage2 and stage3 of the compiler\"; \\\n \t    compare=compare ;; \\\n \tesac; \\\n-\t$(SET_LIB_PATH) \\\n \t$(HOST_EXPORTS) \\\n \techo \"$$msg\"; \\\n \tcd gcc && $(MAKE) $(GCC_FLAGS_TO_PASS) $$compare\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}` ; export s; \\\n-\t$(SET_LIB_PATH) \\\n \techo \"Building runtime libraries\"; \\\n \t$(MAKE) $(RECURSE_FLAGS_TO_PASS) all\n \n profiledbootstrap: all-prebootstrap configure-gcc\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\\n \t$(HOST_EXPORTS) \\\n+\t$(RPATH_ENVVAR)=`echo \"$(TARGET_LIB_PATH)$$$(RPATH_ENVVAR)\" | sed 's,:[ :]*,:,g;s,^[ :]*,,;s,:*$$,,'`; export $(RPATH_ENVVAR); \\\n \techo \"Bootstrapping training compiler\"; \\\n \tcd gcc && $(MAKE) $(GCC_FLAGS_TO_PASS) stageprofile_build\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\\n \t$(HOST_EXPORTS) \\\n \techo \"Building feedback based compiler\"; \\\n \tcd gcc && $(MAKE) $(GCC_FLAGS_TO_PASS) stagefeedback_build\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}` ; export s; \\\n-\t$(SET_LIB_PATH) \\\n \techo \"Building runtime libraries\"; \\\n \t$(MAKE) $(RECURSE_FLAGS_TO_PASS) all\n \n .PHONY: cross\n cross: all-build all-gas all-ld\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\\n \t$(HOST_EXPORTS) \\\n \techo \"Building the C and C++ compiler\"; \\\n \tcd gcc && $(MAKE) $(GCC_FLAGS_TO_PASS) LANGUAGES=\"c c++\"\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}` ; export s; \\\n-\t$(SET_LIB_PATH) \\\n \techo \"Building runtime libraries\"; \\\n \t$(MAKE) $(RECURSE_FLAGS_TO_PASS) LANGUAGES=\"c c++\" all\n @endif gcc-no-bootstrap\n@@ -1211,7 +1205,6 @@ check-gcc-c++:\n \t@if [ -f ./gcc/Makefile ] ; then \\\n \t  r=`${PWD_COMMAND}`; export r; \\\n \t  s=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t  $(SET_LIB_PATH) \\\n \t  $(HOST_EXPORTS) \\\n \t  (cd gcc && $(MAKE) $(GCC_FLAGS_TO_PASS) check-c++); \\\n \telse \\\n@@ -1235,7 +1228,6 @@ gcc-no-fixedincludes:\n \t  rm -f gcc/stmp-headers gcc/stmp-int-hdrs; \\\n \t  r=`${PWD_COMMAND}`; export r; \\\n \t  s=`cd $(srcdir); ${PWD_COMMAND}` ; export s; \\\n-\t  $(SET_LIB_PATH) \\\n \t  $(HOST_EXPORTS) \\\n \t  (cd ./gcc && \\\n \t   $(MAKE) $(GCC_FLAGS_TO_PASS) install); \\\n@@ -1491,18 +1483,15 @@ stagefeedback-start::\n profiledbootstrap:\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\\n \t$(HOST_EXPORTS) \\\n \techo \"Bootstrapping the compiler\"; \\\n \t$(MAKE) stageprofile-bubble distclean-stagefeedback\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}` ; export s; \\\n-\t$(SET_LIB_PATH) \\\n \techo \"Building runtime libraries and training compiler\"; \\\n \t$(MAKE) $(BASE_FLAGS_TO_PASS) $(RECURSE_FLAGS) all\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(SET_LIB_PATH) \\\n \t$(HOST_EXPORTS) \\\n \techo \"Building feedback based compiler\"; \\\n \t$(MAKE) stagefeedback-bubble stagefeedback-end"}, {"sha": "4a6f3c380034038c9f923e0afd063462e0ccb197", "filename": "config/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bff65e72f1e59515994f041f66e9ba0797bfc45/config%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bff65e72f1e59515994f041f66e9ba0797bfc45/config%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2FChangeLog?ref=0bff65e72f1e59515994f041f66e9ba0797bfc45", "patch": "@@ -1,3 +1,7 @@\n+2005-03-31  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\t* config/gcc-lib-path.m4: Remove.\n+\n 2005-03-21  Zack Weinberg  <zack@codesourcery.com>\n \n \t* gxx-include-dir.m4: In all substitutions, leave $(gcc_version)"}, {"sha": "88c4023d01beef2af2bd964736e23a98a85a4a1f", "filename": "config/gcc-lib-path.m4", "status": "removed", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3a2edb6caf661786716cb9fdcc2e5201129efc5/config%2Fgcc-lib-path.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3a2edb6caf661786716cb9fdcc2e5201129efc5/config%2Fgcc-lib-path.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Fgcc-lib-path.m4?ref=c3a2edb6caf661786716cb9fdcc2e5201129efc5", "patch": "@@ -1,15 +0,0 @@\n-AC_DEFUN([TL_AC_GNU_MAKE_GCC_LIB_PATH],\n-[\n-if test x\"$SET_GCC_LIB_PATH_CMD\" != x; then\n-  # SET_GCC_LIB_PATH_CMD is \"XXX=path; export XXX;\". It is expanded to\n-  #\n-  #\teval \"set_gcc_lib_path=XXX=path; export XXX;\"\n-  #\n-  eval \"set_gcc_lib_path=$SET_GCC_LIB_PATH_CMD\"\n-  # It will set set_gcc_lib_path to \"export XXX=path\" for GNU make.\n-  set_gcc_lib_path=\"export $set_gcc_lib_path\"\n-else\n-  set_gcc_lib_path=\n-fi\n-AC_SUBST(set_gcc_lib_path)\n-])dnl"}, {"sha": "08688a87c1608a96247224ba36da252cdff1f304", "filename": "configure", "status": "modified", "additions": 34, "deletions": 79, "changes": 113, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bff65e72f1e59515994f041f66e9ba0797bfc45/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bff65e72f1e59515994f041f66e9ba0797bfc45/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=0bff65e72f1e59515994f041f66e9ba0797bfc45", "patch": "@@ -3023,28 +3023,6 @@ case \"${host}\" in\n   ;;\n esac\n \n-# If no --enable-shared nor --disable-shared is specified, we set up\n-# LD_LIBRARY_PATH when we build for gcc.\n-case $enable_shared in\n-\"\")\n-  if test -d ${srcdir}/gcc; then\n-    set_lib_path=yes\n-  else \n-    set_lib_path=no\n-  fi\n-  ;;\n-*)\n-  set_lib_path=$enable_shared\n-  ;;\n-esac\n-\n-# If --enable-shared was set, we must set LD_LIBRARY_PATH so that the\n-# binutils tools will find libbfd.so.\n-case \"${set_lib_path}\" in\n-  no) SET_LIB_PATH= ;;\n-  *) SET_LIB_PATH=\"\\$(REALLY_SET_LIB_PATH)\" ;;\n-esac\n-\n case \"${host}\" in\n   *-*-hpux*) RPATH_ENVVAR=SHLIB_PATH ;;\n   *-*-darwin* | *-*-rhapsody* ) RPATH_ENVVAR=DYLD_LIBRARY_PATH ;;\n@@ -3527,7 +3505,6 @@ done\n \n \n \n-\n # Build module lists & subconfigure args.\n \n \n@@ -3554,7 +3531,7 @@ test -n \"$target_alias\" && ncn_target_tool_prefix=$target_alias-\n   # Extract the first word of \"${ncn_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3558: checking for $ac_word\" >&5\n+echo \"configure:3535: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3587,7 +3564,7 @@ if test -z \"$ac_cv_prog_AR\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3591: checking for $ac_word\" >&5\n+echo \"configure:3568: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3626,7 +3603,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3630: checking for $ac_word\" >&5\n+echo \"configure:3607: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3659,7 +3636,7 @@ if test -z \"$ac_cv_prog_AS\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3663: checking for $ac_word\" >&5\n+echo \"configure:3640: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3698,7 +3675,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3702: checking for $ac_word\" >&5\n+echo \"configure:3679: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3731,7 +3708,7 @@ if test -z \"$ac_cv_prog_DLLTOOL\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3735: checking for $ac_word\" >&5\n+echo \"configure:3712: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3770,7 +3747,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3774: checking for $ac_word\" >&5\n+echo \"configure:3751: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3803,7 +3780,7 @@ if test -z \"$ac_cv_prog_LD\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3807: checking for $ac_word\" >&5\n+echo \"configure:3784: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3842,7 +3819,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3846: checking for $ac_word\" >&5\n+echo \"configure:3823: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3875,7 +3852,7 @@ if test -z \"$ac_cv_prog_NM\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3879: checking for $ac_word\" >&5\n+echo \"configure:3856: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3914,7 +3891,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3918: checking for $ac_word\" >&5\n+echo \"configure:3895: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3947,7 +3924,7 @@ if test -z \"$ac_cv_prog_RANLIB\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3951: checking for $ac_word\" >&5\n+echo \"configure:3928: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3986,7 +3963,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3990: checking for $ac_word\" >&5\n+echo \"configure:3967: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4019,7 +3996,7 @@ if test -z \"$ac_cv_prog_WINDRES\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4023: checking for $ac_word\" >&5\n+echo \"configure:4000: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4058,7 +4035,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objcopy\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4062: checking for $ac_word\" >&5\n+echo \"configure:4039: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4091,7 +4068,7 @@ if test -z \"$ac_cv_prog_OBJCOPY\" ; then\n     # Extract the first word of \"objcopy\", so it can be a program name with args.\n set dummy objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4095: checking for $ac_word\" >&5\n+echo \"configure:4072: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4130,7 +4107,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objdump\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4134: checking for $ac_word\" >&5\n+echo \"configure:4111: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4163,7 +4140,7 @@ if test -z \"$ac_cv_prog_OBJDUMP\" ; then\n     # Extract the first word of \"objdump\", so it can be a program name with args.\n set dummy objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4167: checking for $ac_word\" >&5\n+echo \"configure:4144: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4209,7 +4186,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4213: checking for $ac_word\" >&5\n+echo \"configure:4190: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4242,7 +4219,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_AR_FOR_TARGET\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4246: checking for $ac_word\" >&5\n+echo \"configure:4223: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4281,7 +4258,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4285: checking for $ac_word\" >&5\n+echo \"configure:4262: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4314,7 +4291,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_AS_FOR_TARGET\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4318: checking for $ac_word\" >&5\n+echo \"configure:4295: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4353,7 +4330,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4357: checking for $ac_word\" >&5\n+echo \"configure:4334: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4386,7 +4363,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4390: checking for $ac_word\" >&5\n+echo \"configure:4367: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4425,7 +4402,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4429: checking for $ac_word\" >&5\n+echo \"configure:4406: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4458,7 +4435,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_LD_FOR_TARGET\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4462: checking for $ac_word\" >&5\n+echo \"configure:4439: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4497,7 +4474,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4501: checking for $ac_word\" >&5\n+echo \"configure:4478: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4530,7 +4507,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_NM_FOR_TARGET\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4534: checking for $ac_word\" >&5\n+echo \"configure:4511: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4569,7 +4546,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4573: checking for $ac_word\" >&5\n+echo \"configure:4550: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4602,7 +4579,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4606: checking for $ac_word\" >&5\n+echo \"configure:4583: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4641,7 +4618,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4645: checking for $ac_word\" >&5\n+echo \"configure:4622: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4674,7 +4651,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4678: checking for $ac_word\" >&5\n+echo \"configure:4655: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4759,7 +4736,7 @@ RANLIB_FOR_TARGET=${RANLIB_FOR_TARGET}${extra_ranlibflags_for_target}\n NM_FOR_TARGET=${NM_FOR_TARGET}${extra_nmflags_for_target}\n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:4763: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:4740: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -4806,7 +4783,7 @@ esac\n # gcc for stageN-gcc and stagePREV-gcc for stage(N-1).  In case this is not\n # possible, however, we can resort to mv.\n echo $ac_n \"checking if symbolic links between directories work\"\"... $ac_c\" 1>&6\n-echo \"configure:4810: checking if symbolic links between directories work\" >&5\n+echo \"configure:4787: checking if symbolic links between directories work\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_ln_s_dir'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4854,26 +4831,6 @@ case ${enable_werror} in\n esac\n \n \n-# If gcc is built natively with shared library enabled, set\n-# $RPATH_ENVVAR to make sure the newly built gcc shared librares are\n-# used.\n-SET_GCC_LIB_PATH=\n-if test -d ${srcdir}/gcc && test x${is_cross_compiler} = xno; then\n-  case \"${set_lib_path}\" in\n-    no) ;;\n-    *)\n-      eval \"d=\\$$RPATH_ENVVAR\"\n-      if test x\"$d\" != x; then\n-\td=\"$pwd/gcc:$d\"\n-      else\n-\td=\"$pwd/gcc\"\n-    fi\n-    SET_GCC_LIB_PATH=\"\\$(RPATH_ENVVAR)=$d; export \\$(RPATH_ENVVAR);\"\n-    ;;\n-  esac\n-fi\n-\n-\n trap '' 1 2 15\n cat > confcache <<\\EOF\n # This file is a shell script that caches the results of configure\n@@ -5067,7 +5024,6 @@ s%@target_makefile_frag@%%g\n s%@alphaieee_frag@%%g\n /@ospace_frag@/r $ospace_frag\n s%@ospace_frag@%%g\n-s%@SET_LIB_PATH@%$SET_LIB_PATH%g\n s%@RPATH_ENVVAR@%$RPATH_ENVVAR%g\n s%@BUILD_PREFIX@%$BUILD_PREFIX%g\n s%@BUILD_PREFIX_1@%$BUILD_PREFIX_1%g\n@@ -5139,7 +5095,6 @@ s%@stage1_cflags@%$stage1_cflags%g\n s%@CREATE_LINK_TO_DIR@%$CREATE_LINK_TO_DIR%g\n s%@UNDO_LINK_TO_DIR@%$UNDO_LINK_TO_DIR%g\n s%@stage2_werror_flag@%$stage2_werror_flag%g\n-s%@SET_GCC_LIB_PATH@%$SET_GCC_LIB_PATH%g\n \n CEOF\n EOF"}, {"sha": "6f18852ca31090018d272ca37fdf9c25b81284f0", "filename": "configure.in", "status": "modified", "additions": 0, "deletions": 43, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bff65e72f1e59515994f041f66e9ba0797bfc45/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bff65e72f1e59515994f041f66e9ba0797bfc45/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=0bff65e72f1e59515994f041f66e9ba0797bfc45", "patch": "@@ -1625,28 +1625,6 @@ case \"${host}\" in\n   ;;\n esac\n \n-# If no --enable-shared nor --disable-shared is specified, we set up\n-# LD_LIBRARY_PATH when we build for gcc.\n-case $enable_shared in\n-\"\")\n-  if test -d ${srcdir}/gcc; then\n-    set_lib_path=yes\n-  else \n-    set_lib_path=no\n-  fi\n-  ;;\n-*)\n-  set_lib_path=$enable_shared\n-  ;;\n-esac\n-\n-# If --enable-shared was set, we must set LD_LIBRARY_PATH so that the\n-# binutils tools will find libbfd.so.\n-case \"${set_lib_path}\" in\n-  no) SET_LIB_PATH= ;;\n-  *) SET_LIB_PATH=\"\\$(REALLY_SET_LIB_PATH)\" ;;\n-esac\n-\n case \"${host}\" in\n   *-*-hpux*) RPATH_ENVVAR=SHLIB_PATH ;;\n   *-*-darwin* | *-*-rhapsody* ) RPATH_ENVVAR=DYLD_LIBRARY_PATH ;;\n@@ -2116,7 +2094,6 @@ AC_SUBST_FILE(alphaieee_frag)\n AC_SUBST_FILE(ospace_frag)\n \n # Miscellanea: directories, flags, etc.\n-AC_SUBST(SET_LIB_PATH)\n AC_SUBST(RPATH_ENVVAR)\n AC_SUBST(BUILD_PREFIX)\n AC_SUBST(BUILD_PREFIX_1)\n@@ -2295,24 +2272,4 @@ case ${enable_werror} in\n esac\n AC_SUBST(stage2_werror_flag)\n \n-# If gcc is built natively with shared library enabled, set\n-# $RPATH_ENVVAR to make sure the newly built gcc shared librares are\n-# used.\n-SET_GCC_LIB_PATH=\n-if test -d ${srcdir}/gcc && test x${is_cross_compiler} = xno; then\n-  case \"${set_lib_path}\" in\n-    no) ;;\n-    *)\n-      eval \"d=\\$$RPATH_ENVVAR\"\n-      if test x\"$d\" != x; then\n-\td=\"$pwd/gcc:$d\"\n-      else\n-\td=\"$pwd/gcc\"\n-    fi\n-    SET_GCC_LIB_PATH=\"\\$(RPATH_ENVVAR)=$d; export \\$(RPATH_ENVVAR);\"\n-    ;;\n-  esac\n-fi\n-AC_SUBST(SET_GCC_LIB_PATH)\n-\n AC_OUTPUT(Makefile)"}, {"sha": "1d122084bf9208e893fbe6dda4d615220d75d230", "filename": "gcc/Makefile.in", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bff65e72f1e59515994f041f66e9ba0797bfc45/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bff65e72f1e59515994f041f66e9ba0797bfc45/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=0bff65e72f1e59515994f041f66e9ba0797bfc45", "patch": "@@ -1032,9 +1032,6 @@ LIB2_DIVMOD_FUNCS = _divdi3 _moddi3 _udivdi3 _umoddi3 _udiv_w_sdiv _udivmoddi4\n # language hooks, generated by configure\n @language_hooks@\n \n-# Set up library path if needed.\n-@set_gcc_lib_path@\n-\n # per-language makefile fragments\n ifneq ($(LANG_MAKEFRAGS),)\n include $(LANG_MAKEFRAGS)"}, {"sha": "f5e13d8a15bbb98dfe0f0c241662bd9cad22035a", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bff65e72f1e59515994f041f66e9ba0797bfc45/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bff65e72f1e59515994f041f66e9ba0797bfc45/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=0bff65e72f1e59515994f041f66e9ba0797bfc45", "patch": "@@ -1,7 +1,6 @@\n m4_include([../config/accross.m4])\n m4_include([../config/acx.m4])\n m4_include([../config/gettext-sister.m4])\n-m4_include([../config/gcc-lib-path.m4])\n m4_include([../config/iconv.m4])\n m4_include([../config/lcmessage.m4])\n m4_include([../config/lib-ld.m4])"}, {"sha": "f2c70ba0682c80490371181ba4e15a0695aa1a22", "filename": "gcc/configure", "status": "modified", "additions": 1, "deletions": 17, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bff65e72f1e59515994f041f66e9ba0797bfc45/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bff65e72f1e59515994f041f66e9ba0797bfc45/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=0bff65e72f1e59515994f041f66e9ba0797bfc45", "patch": "@@ -309,7 +309,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical build_subdir host_subdir target_subdir GENINSRC CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT NO_MINUS_C_MINUS_O OUTPUT_OPTION CPP EGREP strict1_warn warn_cflags WERROR nocommon_flag TREEBROWSER valgrind_path valgrind_path_defines valgrind_command coverage_flags enable_multilib enable_shared TARGET_SYSTEM_ROOT TARGET_SYSTEM_ROOT_DEFINE CROSS_SYSTEM_HEADER_DIR onestep SET_MAKE AWK LN_S LN RANLIB ac_ct_RANLIB ranlib_flags INSTALL INSTALL_PROGRAM INSTALL_DATA make_compare_target have_mktemp_command MAKEINFO BUILD_INFO GENERATED_MANPAGES FLEX BISON NM AR stage1_cflags COLLECT2_LIBS GNAT_LIBEXC LDEXP_LIB TARGET_GETGROUPS_T LIBICONV LTLIBICONV LIBICONV_DEP manext objext gthread_flags extra_modes_file extra_opt_files USE_NLS LIBINTL LIBINTL_DEP INCINTL XGETTEXT GMSGFMT POSUB CATALOGS host_cc_for_libada CROSS ALL SYSTEM_HEADER_DIR inhibit_libc CC_FOR_BUILD BUILD_CFLAGS STMP_FIXINC STMP_FIXPROTO collect2 libgcc_visibility GGC zlibdir zlibinc MAINT gcc_tooldir dollar slibdir objdir subdirs srcdir all_boot_languages all_compilers all_gtfiles all_gtfiles_files_langs all_gtfiles_files_files all_lang_makefrags all_lang_makefiles all_languages all_stagestuff build_exeext build_install_headers_dir build_xm_file_list build_xm_include_list build_xm_defines check_languages cc_set_by_configure quoted_cc_set_by_configure cpp_install_dir xmake_file tmake_file extra_gcc_objs extra_headers_list extra_objs extra_parts extra_passes extra_programs float_h_file gcc_config_arguments gcc_gxx_include_dir libstdcxx_incdir host_exeext host_xm_file_list host_xm_include_list host_xm_defines out_host_hook_obj install lang_opt_files lang_specs_files lang_tree_files local_prefix md_file objc_boehm_gc out_file out_object_file stage_prefix_set_by_configure quoted_stage_prefix_set_by_configure thread_file tm_file_list tm_include_list tm_defines tm_p_file_list tm_p_include_list xm_file_list xm_include_list xm_defines c_target_objs cxx_target_objs target_cpu_default set_gcc_lib_path GMPLIBS GMPINC LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical build_subdir host_subdir target_subdir GENINSRC CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT NO_MINUS_C_MINUS_O OUTPUT_OPTION CPP EGREP strict1_warn warn_cflags WERROR nocommon_flag TREEBROWSER valgrind_path valgrind_path_defines valgrind_command coverage_flags enable_multilib enable_shared TARGET_SYSTEM_ROOT TARGET_SYSTEM_ROOT_DEFINE CROSS_SYSTEM_HEADER_DIR onestep SET_MAKE AWK LN_S LN RANLIB ac_ct_RANLIB ranlib_flags INSTALL INSTALL_PROGRAM INSTALL_DATA make_compare_target have_mktemp_command MAKEINFO BUILD_INFO GENERATED_MANPAGES FLEX BISON NM AR stage1_cflags COLLECT2_LIBS GNAT_LIBEXC LDEXP_LIB TARGET_GETGROUPS_T LIBICONV LTLIBICONV LIBICONV_DEP manext objext gthread_flags extra_modes_file extra_opt_files USE_NLS LIBINTL LIBINTL_DEP INCINTL XGETTEXT GMSGFMT POSUB CATALOGS host_cc_for_libada CROSS ALL SYSTEM_HEADER_DIR inhibit_libc CC_FOR_BUILD BUILD_CFLAGS STMP_FIXINC STMP_FIXPROTO collect2 libgcc_visibility GGC zlibdir zlibinc MAINT gcc_tooldir dollar slibdir objdir subdirs srcdir all_boot_languages all_compilers all_gtfiles all_gtfiles_files_langs all_gtfiles_files_files all_lang_makefrags all_lang_makefiles all_languages all_stagestuff build_exeext build_install_headers_dir build_xm_file_list build_xm_include_list build_xm_defines check_languages cc_set_by_configure quoted_cc_set_by_configure cpp_install_dir xmake_file tmake_file extra_gcc_objs extra_headers_list extra_objs extra_parts extra_passes extra_programs float_h_file gcc_config_arguments gcc_gxx_include_dir libstdcxx_incdir host_exeext host_xm_file_list host_xm_include_list host_xm_defines out_host_hook_obj install lang_opt_files lang_specs_files lang_tree_files local_prefix md_file objc_boehm_gc out_file out_object_file stage_prefix_set_by_configure quoted_stage_prefix_set_by_configure thread_file tm_file_list tm_include_list tm_defines tm_p_file_list tm_p_include_list xm_file_list xm_include_list xm_defines c_target_objs cxx_target_objs target_cpu_default GMPLIBS GMPINC LIBOBJS LTLIBOBJS'\n ac_subst_files='language_hooks'\n \n # Initialize some variables set by options.\n@@ -15353,21 +15353,6 @@ objdir=`${PWDCMD-pwd}`\n \n \n \n-\n-\n-\n-\n-if test x\"$SET_GCC_LIB_PATH_CMD\" != x; then\n-  # SET_GCC_LIB_PATH_CMD is \"XXX=path; export XXX;\". It is expanded to\n-  #\n-  #\teval \"set_gcc_lib_path=XXX=path; export XXX;\"\n-  #\n-  eval \"set_gcc_lib_path=$SET_GCC_LIB_PATH_CMD\"\n-  # It will set set_gcc_lib_path to \"export XXX=path\" for GNU make.\n-  set_gcc_lib_path=\"export $set_gcc_lib_path\"\n-else\n-  set_gcc_lib_path=\n-fi\n \n \n \n@@ -16186,7 +16171,6 @@ s,@xm_defines@,$xm_defines,;t t\n s,@c_target_objs@,$c_target_objs,;t t\n s,@cxx_target_objs@,$cxx_target_objs,;t t\n s,@target_cpu_default@,$target_cpu_default,;t t\n-s,@set_gcc_lib_path@,$set_gcc_lib_path,;t t\n s,@GMPLIBS@,$GMPLIBS,;t t\n s,@GMPINC@,$GMPINC,;t t\n s,@LIBOBJS@,$LIBOBJS,;t t"}, {"sha": "46886fb2d7de52e00d8b98c189aa2cec6cee3edf", "filename": "gcc/configure.ac", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bff65e72f1e59515994f041f66e9ba0797bfc45/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bff65e72f1e59515994f041f66e9ba0797bfc45/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=0bff65e72f1e59515994f041f66e9ba0797bfc45", "patch": "@@ -3332,8 +3332,6 @@ AC_SUBST(target_cpu_default)\n \n AC_SUBST_FILE(language_hooks)\n \n-TL_AC_GNU_MAKE_GCC_LIB_PATH\n-\n # Echo link setup.\n if test x${build} = x${host} ; then\n   if test x${host} = x${target} ; then"}]}