{"sha": "71b8ed7c61bc6f80df41f9aa3cf9eb57fb664e77", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzFiOGVkN2M2MWJjNmY4MGRmNDFmOWFhM2NmOWViNTdmYjY2NGU3Nw==", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2021-02-12T14:14:45Z"}, "committer": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2021-02-12T14:19:24Z"}, "message": "testsuite, arm: Add -mthumb to pr98931.c [PR target/98931]\n\nThis test forces -march=armv8.1-m.main, which supports only Thumb mode.\nHowever, if the toolchain is not configured --with-thumb, the test\nfails with:\nerror: target CPU does not support ARM mode\n\nAdding -mthumb to dg-options fixes the problem.\n\n2021-02-12  Christophe Lyon  <christophe.lyon@linaro.org>\n\n\tPR target/98931\n\tgcc/testsuite/\n\t* gcc.target/arm/pr98931.c: Add -mthumb", "tree": {"sha": "847674d58fb8e48f43875073df42e8483505337d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/847674d58fb8e48f43875073df42e8483505337d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/71b8ed7c61bc6f80df41f9aa3cf9eb57fb664e77", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71b8ed7c61bc6f80df41f9aa3cf9eb57fb664e77", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71b8ed7c61bc6f80df41f9aa3cf9eb57fb664e77", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71b8ed7c61bc6f80df41f9aa3cf9eb57fb664e77/comments", "author": null, "committer": null, "parents": [{"sha": "3fbf81a252d7599b4e99b7c969ff164a2330bdb5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3fbf81a252d7599b4e99b7c969ff164a2330bdb5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3fbf81a252d7599b4e99b7c969ff164a2330bdb5"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "66070ad72982c2ee3c9ecc3835dfcc61656a4cd8", "filename": "gcc/testsuite/gcc.target/arm/pr98931.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71b8ed7c61bc6f80df41f9aa3cf9eb57fb664e77/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr98931.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71b8ed7c61bc6f80df41f9aa3cf9eb57fb664e77/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr98931.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr98931.c?ref=71b8ed7c61bc6f80df41f9aa3cf9eb57fb664e77", "patch": "@@ -1,6 +1,6 @@\n /* { dg-do assemble } */\n /* { dg-skip-if \"avoid conflicting multilib options\" { *-*-* } { \"-marm\" \"-mcpu=*\" } } */\n-/* { dg-options \"-march=armv8.1-m.main -O3 --param=max-completely-peeled-insns=1300 --save-temps\" } */\n+/* { dg-options \"-march=armv8.1-m.main -O3 --param=max-completely-peeled-insns=1300 --save-temps -mthumb\" } */\n \n extern long long a[][20][26][26][22];\n "}]}