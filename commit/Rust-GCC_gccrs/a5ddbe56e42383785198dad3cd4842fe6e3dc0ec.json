{"sha": "a5ddbe56e42383785198dad3cd4842fe6e3dc0ec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTVkZGJlNTZlNDIzODM3ODUxOThkYWQzY2Q0ODQyZmU2ZTNkYzBlYw==", "commit": {"author": {"name": "James A. Morrison", "email": "phython@gcc.gnu.org", "date": "2005-11-18T06:13:07Z"}, "committer": {"name": "James A. Morrison", "email": "phython@gcc.gnu.org", "date": "2005-11-18T06:13:07Z"}, "message": "run_all.sh (target_run): Kill long running tests.\n\n2005-11-17  James A. Morrison  <phython@gcc.gnu.org>\n            Michael Chamberlain <michael@chamberlain.net.au>\n\n        * ada/acats/run_all.sh (target_run): Kill long running tests.\n\n\nCo-Authored-By: Michael Chamberlain <michael@chamberlain.net.au>\n\nFrom-SVN: r107161", "tree": {"sha": "5d5e6b96aefb8aa529afcbf813d452d2846931c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5d5e6b96aefb8aa529afcbf813d452d2846931c5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a5ddbe56e42383785198dad3cd4842fe6e3dc0ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5ddbe56e42383785198dad3cd4842fe6e3dc0ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a5ddbe56e42383785198dad3cd4842fe6e3dc0ec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5ddbe56e42383785198dad3cd4842fe6e3dc0ec/comments", "author": null, "committer": null, "parents": [{"sha": "9fb1c9dbc86c1c6aacbb99cb312c006251b9cd65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fb1c9dbc86c1c6aacbb99cb312c006251b9cd65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9fb1c9dbc86c1c6aacbb99cb312c006251b9cd65"}], "stats": {"total": 24, "additions": 23, "deletions": 1}, "files": [{"sha": "9eafe7ee9cdfc90d5ab6d2ecdc904c50299fe3f2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5ddbe56e42383785198dad3cd4842fe6e3dc0ec/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5ddbe56e42383785198dad3cd4842fe6e3dc0ec/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a5ddbe56e42383785198dad3cd4842fe6e3dc0ec", "patch": "@@ -1,3 +1,8 @@\n+2005-11-17  James A. Morrison  <phython@gcc.gnu.org>\n+            Michael Chamberlain <michael@chamberlain.net.au>\n+\n+\t* ada/acats/run_all.sh (target_run): Kill long running tests.\n+\n 2005-11-17  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n \n \t* gcc.dg/cleanup-8.c: Enable test on hppa*-*-hpux*."}, {"sha": "caaf56bb550786c81e2a62dfc92100c0a593de98", "filename": "gcc/testsuite/ada/acats/run_all.sh", "status": "modified", "additions": 18, "deletions": 1, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5ddbe56e42383785198dad3cd4842fe6e3dc0ec/gcc%2Ftestsuite%2Fada%2Facats%2Frun_all.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5ddbe56e42383785198dad3cd4842fe6e3dc0ec/gcc%2Ftestsuite%2Fada%2Facats%2Frun_all.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fada%2Facats%2Frun_all.sh?ref=a5ddbe56e42383785198dad3cd4842fe6e3dc0ec", "patch": "@@ -12,8 +12,25 @@\n gccflags=\"-O2\"\n gnatflags=\"-gnatws\"\n \n+if [ \"x$DEJAGNU_TIMEOUT\" != \"x\" ]; then\n+  timeout=$DEJAGNU_TIMEOUT\n+else\n+  timeout=300\n+fi\n+\n target_run () {\n-$*\n+  sh -c \"\n+  (sleep $timeout && kill 2>/dev/null \\$\\$) &\n+  watchdog=\\$!\n+  ($*) &\n+  child=\\$!\n+  trap \\\"kill 2>/dev/null \\$child\\\" 0 1\n+  wait \\$child\n+  status=\\$?\n+  trap \\\"\\\" 0 1\n+  kill 2>/dev/null \\$watchdog\n+  exit \\$status\n+  \"\n }\n \n # End of customization section."}]}