{"sha": "d081516ae1771984bfacb9f2c402a1973fa70d69", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDA4MTUxNmFlMTc3MTk4NGJmYWNiOWYyYzQwMmExOTczZmE3MGQ2OQ==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2021-09-08T14:57:20Z"}, "committer": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2021-09-08T14:57:20Z"}, "message": "testsuite: Use explicit -ftree-cselim in tests using -fdump-tree-cselim-details\n\nWhen testing for Nios II (gcc-testresults shows this for various other\ntargets as well), tests scanning cselim dumps produce an UNRESOLVED\nresult because those dumps do not exist.\n\ncselim is enabled conditionally by code in toplev.c:\n\n  if (flag_tree_cselim == AUTODETECT_VALUE)\n    {\n      if (HAVE_conditional_move)\n\tflag_tree_cselim = 1;\n      else\n\tflag_tree_cselim = 0;\n    }\n\nAdd explicit -ftree-cselim to dg-options in the affected tests (as\nalready used by some other tests of cselim dumps) so that this dump\nexists on all architectures.\n\nTested with no regressions with cross to nios2-elf, where this causes\nthe tests in question to PASS instead of being UNRESOLVED.\n\n\t* gcc.dg/tree-ssa/pr89430-1.c, gcc.dg/tree-ssa/pr89430-2.c,\n\tgcc.dg/tree-ssa/pr89430-3.c, gcc.dg/tree-ssa/pr89430-4.c,\n\tgcc.dg/tree-ssa/pr89430-5.c, gcc.dg/tree-ssa/pr89430-6.c,\n\tgcc.dg/tree-ssa/pr89430-7-comp-ref.c,\n\tgcc.dg/tree-ssa/pr89430-8-mem-ref-size.c,\n\tgcc.dg/tree-ssa/pr99473-1.c: Use -ftree-cselim.", "tree": {"sha": "cdafdd1a666ff91a95e4bf3a3380947044cc6b3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cdafdd1a666ff91a95e4bf3a3380947044cc6b3b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d081516ae1771984bfacb9f2c402a1973fa70d69", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d081516ae1771984bfacb9f2c402a1973fa70d69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d081516ae1771984bfacb9f2c402a1973fa70d69", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d081516ae1771984bfacb9f2c402a1973fa70d69/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "86e6268cff328e27ee6f90e2afc35b6f437a25cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86e6268cff328e27ee6f90e2afc35b6f437a25cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86e6268cff328e27ee6f90e2afc35b6f437a25cd"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "d9fb2edf54952d9a2680dc61fc2c023271677b06", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr89430-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-1.c?ref=d081516ae1771984bfacb9f2c402a1973fa70d69", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-tree-cselim-details\" } */\n+/* { dg-options \"-O2 -ftree-cselim -fdump-tree-cselim-details\" } */\n \n unsigned test(unsigned k, unsigned b) {\n         unsigned a[2];"}, {"sha": "bb39df2be8e1c308e2d9a1d69dc546339fdc398b", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr89430-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-2.c?ref=d081516ae1771984bfacb9f2c402a1973fa70d69", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-tree-cselim-details\" } */\n+/* { dg-options \"-O2 -ftree-cselim -fdump-tree-cselim-details\" } */\n \n int c;\n unsigned test(unsigned k, unsigned b) {"}, {"sha": "00166373267b504bdd63e15ac6d08f2492071420", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr89430-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-3.c?ref=d081516ae1771984bfacb9f2c402a1973fa70d69", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-tree-cselim-details\" } */\n+/* { dg-options \"-O2 -ftree-cselim -fdump-tree-cselim-details\" } */\n \n unsigned a[2];\n unsigned test(unsigned k, unsigned b) {"}, {"sha": "127cbdf3d10ad6a534c0d4177e808d22c445005c", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr89430-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-4.c?ref=d081516ae1771984bfacb9f2c402a1973fa70d69", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-tree-cselim-details\" } */\n+/* { dg-options \"-O2 -ftree-cselim -fdump-tree-cselim-details\" } */\n \n int *p;\n unsigned test(unsigned k, unsigned b) {"}, {"sha": "6a00f54b545824cda0000516a3248432750f9d30", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr89430-5.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-5.c?ref=d081516ae1771984bfacb9f2c402a1973fa70d69", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-tree-cselim-details\" } */\n+/* { dg-options \"-O2 -ftree-cselim -fdump-tree-cselim-details\" } */\n \n int test(int b, int k) {\n     struct {"}, {"sha": "ecc083ebebe51e42337632dd2bf691e0de03642d", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr89430-6.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-6.c?ref=d081516ae1771984bfacb9f2c402a1973fa70d69", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-tree-cselim-details\" } */\n+/* { dg-options \"-O2 -ftree-cselim -fdump-tree-cselim-details\" } */\n \n int test(int b, int k) {\n     typedef struct {"}, {"sha": "4fad2d1eb132ad650c946590f856902978e86c16", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr89430-7-comp-ref.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-7-comp-ref.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-7-comp-ref.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-7-comp-ref.c?ref=d081516ae1771984bfacb9f2c402a1973fa70d69", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-tree-cselim-details\" } */\n+/* { dg-options \"-O2 -ftree-cselim -fdump-tree-cselim-details\" } */\n \n typedef union {\n   int i;"}, {"sha": "5f93112acf7d38bd7e207b333b7906e9137f444d", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr89430-8-mem-ref-size.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-8-mem-ref-size.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-8-mem-ref-size.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr89430-8-mem-ref-size.c?ref=d081516ae1771984bfacb9f2c402a1973fa70d69", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fdump-tree-cselim-details\" } */\n+/* { dg-options \"-O2 -ftree-cselim -fdump-tree-cselim-details\" } */\n \n int *t;\n "}, {"sha": "0fda5663a801b0749a5a23c053e8bb2a27bca577", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr99473-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr99473-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d081516ae1771984bfacb9f2c402a1973fa70d69/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr99473-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr99473-1.c?ref=d081516ae1771984bfacb9f2c402a1973fa70d69", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fallow-store-data-races -fdump-tree-cselim-details\" } */\n+/* { dg-options \"-O2 -ftree-cselim -fallow-store-data-races -fdump-tree-cselim-details\" } */\n \n void f (int*);\n "}]}