{"sha": "66fe55d120b36a2fc0753d26acb903667edecdd6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjZmZTU1ZDEyMGIzNmEyZmMwNzUzZDI2YWNiOTAzNjY3ZWRlY2RkNg==", "commit": {"author": {"name": "David P Grove", "email": "groved@us.ibm.com", "date": "2003-08-04T21:21:01Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2003-08-04T21:21:01Z"}, "message": "DecimalFormat.java (format): avoid ArithmeticException when groupingSize is 0.\n\n2003-08-04  David P Grove  <groved@us.ibm.com>\n\n\t* java/text/DecimalFormat.java (format): avoid ArithmeticException\n\twhen groupingSize is 0.\n\t(parse): Likewise.\n\nFrom-SVN: r70156", "tree": {"sha": "265cf8f833b4908c7408c5f264688cc72c99ccee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/265cf8f833b4908c7408c5f264688cc72c99ccee"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/66fe55d120b36a2fc0753d26acb903667edecdd6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66fe55d120b36a2fc0753d26acb903667edecdd6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/66fe55d120b36a2fc0753d26acb903667edecdd6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66fe55d120b36a2fc0753d26acb903667edecdd6/comments", "author": {"login": "dgrove-oss", "id": 5099100, "node_id": "MDQ6VXNlcjUwOTkxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/5099100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgrove-oss", "html_url": "https://github.com/dgrove-oss", "followers_url": "https://api.github.com/users/dgrove-oss/followers", "following_url": "https://api.github.com/users/dgrove-oss/following{/other_user}", "gists_url": "https://api.github.com/users/dgrove-oss/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgrove-oss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgrove-oss/subscriptions", "organizations_url": "https://api.github.com/users/dgrove-oss/orgs", "repos_url": "https://api.github.com/users/dgrove-oss/repos", "events_url": "https://api.github.com/users/dgrove-oss/events{/privacy}", "received_events_url": "https://api.github.com/users/dgrove-oss/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "03aa99d49fc01b8416a5bec9cbf839da9b7962c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03aa99d49fc01b8416a5bec9cbf839da9b7962c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03aa99d49fc01b8416a5bec9cbf839da9b7962c8"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "04f343782c24870dccf35bf995bac79d76d9f8a1", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66fe55d120b36a2fc0753d26acb903667edecdd6/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66fe55d120b36a2fc0753d26acb903667edecdd6/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=66fe55d120b36a2fc0753d26acb903667edecdd6", "patch": "@@ -1,3 +1,9 @@\n+2003-08-04  David P Grove  <groved@us.ibm.com>\n+\n+\t* java/text/DecimalFormat.java (format): avoid ArithmeticException\n+\twhen groupingSize is 0.\n+\t(parse): Likewise.\n+\n 2003-08-04  Matthias Klose  <doko@debian.org>\n \n \t* libart.m4: check for libart-config binary"}, {"sha": "0cf2d8fff3bae256da9555d3a2431fce6c985195", "filename": "libjava/java/text/DecimalFormat.java", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66fe55d120b36a2fc0753d26acb903667edecdd6/libjava%2Fjava%2Ftext%2FDecimalFormat.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66fe55d120b36a2fc0753d26acb903667edecdd6/libjava%2Fjava%2Ftext%2FDecimalFormat.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Ftext%2FDecimalFormat.java?ref=66fe55d120b36a2fc0753d26acb903667edecdd6", "patch": "@@ -474,7 +474,7 @@ public StringBuffer format (double number, StringBuffer dest,\n \t    intPart = Math.floor(intPart / 10);\n \n \t    // Append group separator if required.\n-\t    if (groupingUsed && count > 0 && count % groupingSize == 0)\n+\t    if (groupingUsed && count > 0 && groupingSize != 0 && count % groupingSize == 0)\n \t      dest.insert(index, symbols.getGroupingSeparator());\n \n \t    dest.insert(index, (char) (symbols.getZeroDigit() + dig));\n@@ -602,7 +602,7 @@ public StringBuffer format (long number, StringBuffer dest,\n \t  }\n \n \t// Append group separator if required.\n-\tif (groupingUsed && count > 0 && count % groupingSize == 0)\n+\tif (groupingUsed && count > 0 && groupingSize != 0 && count % groupingSize == 0)\n \t  dest.insert(index, symbols.getGroupingSeparator());\n \n \tdest.insert(index, (char) (symbols.getZeroDigit() + dig));\n@@ -748,7 +748,8 @@ else if (got_pos)\n \t// FIXME: what about grouping size?\n \tif (groupingUsed && c == symbols.getGroupingSeparator())\n \t  {\n-\t    if (last_group != -1\n+\t    if (last_group != -1 \n+\t\t&& groupingSize != 0  \n \t\t&& (index - last_group) % groupingSize != 0)\n \t      {\n \t\tpos.setErrorIndex(index);\n@@ -765,7 +766,8 @@ else if (parseIntegerOnly)\n \t  break;\n \telse if (c == symbols.getDecimalSeparator())\n \t  {\n-\t    if (last_group != -1\n+\t    if (last_group != -1 \n+\t\t&& groupingSize != 0 \n \t\t&& (index - last_group) % groupingSize != 0)\n \t      {\n \t\tpos.setErrorIndex(index);"}]}