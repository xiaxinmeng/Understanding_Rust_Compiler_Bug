{"sha": "765deab7d02db9c60b0851ce6448014548d89bfc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzY1ZGVhYjdkMDJkYjljNjBiMDg1MWNlNjQ0ODAxNDU0OGQ4OWJmYw==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2009-07-31T02:38:13Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2009-07-31T02:38:13Z"}, "message": "Make scev_is_linear_expression return false if the evolution is not affine multivariate.\n\n2009-07-30  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* tree-chrec.c (operator_is_linear): Handle BIT_NOT_EXPR.\n\t(scev_is_linear_expression): Return false if the evolution is not\n\taffine multivariate.\n\nFrom-SVN: r150298", "tree": {"sha": "2b674e35bc8f607728c146ac395409f97ac81742", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2b674e35bc8f607728c146ac395409f97ac81742"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/765deab7d02db9c60b0851ce6448014548d89bfc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/765deab7d02db9c60b0851ce6448014548d89bfc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/765deab7d02db9c60b0851ce6448014548d89bfc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/765deab7d02db9c60b0851ce6448014548d89bfc/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ed91d6616c2342c560a71c3ca17248d1e52c364e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed91d6616c2342c560a71c3ca17248d1e52c364e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed91d6616c2342c560a71c3ca17248d1e52c364e"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "2a06489a0830a04f41b387ea99734424eb8bb8e8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/765deab7d02db9c60b0851ce6448014548d89bfc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/765deab7d02db9c60b0851ce6448014548d89bfc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=765deab7d02db9c60b0851ce6448014548d89bfc", "patch": "@@ -1,3 +1,9 @@\n+2009-07-30  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* tree-chrec.c (operator_is_linear): Handle BIT_NOT_EXPR.\n+\t(scev_is_linear_expression): Return false if the evolution is not\n+\taffine multivariate.\n+\n 2009-07-30  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* tree-data-ref.c (graphite_find_data_references_in_stmt): New."}, {"sha": "caf7428dc4ea7f78a212df81ec6886607e1d38a2", "filename": "gcc/tree-chrec.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/765deab7d02db9c60b0851ce6448014548d89bfc/gcc%2Ftree-chrec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/765deab7d02db9c60b0851ce6448014548d89bfc/gcc%2Ftree-chrec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-chrec.c?ref=765deab7d02db9c60b0851ce6448014548d89bfc", "patch": "@@ -1411,7 +1411,7 @@ for_each_scev_op (tree *scev, bool (*cbck) (tree *, void *), void *data)\n \n     case 2:\n       for_each_scev_op (&TREE_OPERAND (*scev, 1), cbck, data);\n-      \n+\n     case 1:\n       for_each_scev_op (&TREE_OPERAND (*scev, 0), cbck, data);\n \n@@ -1438,6 +1438,7 @@ operator_is_linear (tree scev)\n     case NEGATE_EXPR:\n     case SSA_NAME:\n     case NON_LVALUE_EXPR:\n+    case BIT_NOT_EXPR:\n     CASE_CONVERT:\n       return true;\n \n@@ -1461,6 +1462,10 @@ scev_is_linear_expression (tree scev)\n     return !(tree_contains_chrecs (TREE_OPERAND (scev, 0), NULL)\n \t     && tree_contains_chrecs (TREE_OPERAND (scev, 1), NULL));\n \n+  if (TREE_CODE (scev) == POLYNOMIAL_CHREC\n+      && !evolution_function_is_affine_multivariate_p (scev, CHREC_VARIABLE (scev)))\n+    return false;\n+\n   switch (TREE_CODE_LENGTH (TREE_CODE (scev)))\n     {\n     case 3:\n@@ -1471,7 +1476,7 @@ scev_is_linear_expression (tree scev)\n     case 2:\n       return scev_is_linear_expression (TREE_OPERAND (scev, 0))\n \t&& scev_is_linear_expression (TREE_OPERAND (scev, 1));\n-      \n+\n     case 1:\n       return scev_is_linear_expression (TREE_OPERAND (scev, 0));\n "}]}