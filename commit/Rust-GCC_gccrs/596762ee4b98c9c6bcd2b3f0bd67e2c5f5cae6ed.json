{"sha": "596762ee4b98c9c6bcd2b3f0bd67e2c5f5cae6ed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTk2NzYyZWU0Yjk4YzljNmJjZDJiM2YwYmQ2N2UyYzVmNWNhZTZlZA==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2016-12-19T15:24:47Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2016-12-19T15:24:47Z"}, "message": "print-rtl.c: use '<' and '>' rather than % for pseudos in compact mode\n\ngcc/ChangeLog:\n\t* print-rtl.c (rtx_writer::print_rtx_operand_code_r): For\n\tnon-virtual pseudos in compact mode, wrap the regno in '<' and '>'\n\trather than using a '%' prefix.\n\t* rtl-tests.c (selftest::test_dumping_regs): Update for above change.\n\nFrom-SVN: r243798", "tree": {"sha": "f2cb174e38ee4d5bc051c252a7398173f5d31405", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f2cb174e38ee4d5bc051c252a7398173f5d31405"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/596762ee4b98c9c6bcd2b3f0bd67e2c5f5cae6ed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/596762ee4b98c9c6bcd2b3f0bd67e2c5f5cae6ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/596762ee4b98c9c6bcd2b3f0bd67e2c5f5cae6ed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/596762ee4b98c9c6bcd2b3f0bd67e2c5f5cae6ed/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "dc31c238bd382061196e8e9f4f68057feac4ee9b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc31c238bd382061196e8e9f4f68057feac4ee9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc31c238bd382061196e8e9f4f68057feac4ee9b"}], "stats": {"total": 19, "additions": 13, "deletions": 6}, "files": [{"sha": "e3a90ba3759500277bf56d0fae42f493f3a61576", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596762ee4b98c9c6bcd2b3f0bd67e2c5f5cae6ed/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596762ee4b98c9c6bcd2b3f0bd67e2c5f5cae6ed/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=596762ee4b98c9c6bcd2b3f0bd67e2c5f5cae6ed", "patch": "@@ -1,3 +1,10 @@\n+2016-12-19  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* print-rtl.c (rtx_writer::print_rtx_operand_code_r): For\n+\tnon-virtual pseudos in compact mode, wrap the regno in '<' and '>'\n+\trather than using a '%' prefix.\n+\t* rtl-tests.c (selftest::test_dumping_regs): Update for above change.\n+\n 2016-12-19  Dominik Vogt  <vogt@linux.vnet.ibm.com>\n \n \tPR target/78748"}, {"sha": "ee4b74a3e8b6c81ddf070c180b3178c90ae3059e", "filename": "gcc/print-rtl.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596762ee4b98c9c6bcd2b3f0bd67e2c5f5cae6ed/gcc%2Fprint-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596762ee4b98c9c6bcd2b3f0bd67e2c5f5cae6ed/gcc%2Fprint-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprint-rtl.c?ref=596762ee4b98c9c6bcd2b3f0bd67e2c5f5cae6ed", "patch": "@@ -481,11 +481,11 @@ rtx_writer::print_rtx_operand_code_r (const_rtx in_rtx)\n       fputc ('#', m_outfile);\n     else if (m_compact)\n       {\n-\t/* In compact mode, print pseudos with a '%' sigil following\n-\t   by the regno, offset by (LAST_VIRTUAL_REGISTER + 1), so that the\n-\t   first non-virtual pseudo is dumped as \"%0\".  */\n+\t/* In compact mode, print pseudos with '< and '>' wrapping the regno,\n+\t   offseting it by (LAST_VIRTUAL_REGISTER + 1), so that the\n+\t   first non-virtual pseudo is dumped as \"<0>\".  */\n \tgcc_assert (regno > LAST_VIRTUAL_REGISTER);\n-\tfprintf (m_outfile, \" %%%d\", regno - (LAST_VIRTUAL_REGISTER + 1));\n+\tfprintf (m_outfile, \" <%d>\", regno - (LAST_VIRTUAL_REGISTER + 1));\n       }\n     else\n       fprintf (m_outfile, \" %d\", regno);"}, {"sha": "57f9e14f2ab07d273ec7e57ecbf97011edc8e4e7", "filename": "gcc/rtl-tests.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/596762ee4b98c9c6bcd2b3f0bd67e2c5f5cae6ed/gcc%2Frtl-tests.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/596762ee4b98c9c6bcd2b3f0bd67e2c5f5cae6ed/gcc%2Frtl-tests.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl-tests.c?ref=596762ee4b98c9c6bcd2b3f0bd67e2c5f5cae6ed", "patch": "@@ -104,9 +104,9 @@ test_dumping_regs ()\n     }\n \n   /* Test dumping of non-virtual pseudos.  */\n-  ASSERT_RTL_DUMP_EQ (\"(reg:SI %0)\",\n+  ASSERT_RTL_DUMP_EQ (\"(reg:SI <0>)\",\n     gen_raw_REG (SImode, LAST_VIRTUAL_REGISTER + 1));\n-  ASSERT_RTL_DUMP_EQ (\"(reg:SI %1)\",\n+  ASSERT_RTL_DUMP_EQ (\"(reg:SI <1>)\",\n     gen_raw_REG (SImode, LAST_VIRTUAL_REGISTER + 2));\n }\n "}]}