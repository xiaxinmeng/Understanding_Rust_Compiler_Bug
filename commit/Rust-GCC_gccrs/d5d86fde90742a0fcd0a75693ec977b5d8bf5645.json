{"sha": "d5d86fde90742a0fcd0a75693ec977b5d8bf5645", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDVkODZmZGU5MDc0MmEwZmNkMGE3NTY5M2VjOTc3YjVkOGJmNTY0NQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2006-05-02T10:38:12Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2006-05-02T10:38:12Z"}, "message": "re PR middle-end/27310 (ICE in duplicate_eh_regions)\n\n\tPR middle-end/27310\n\t* except.c (duplicate_eh_regions): Fix clearing of\n\tcfun->eh->region_array entries.\n\n\t* g++.dg/gomp/pr27310.C: New test.\n\nFrom-SVN: r113453", "tree": {"sha": "c7abb1d486d9780be232a4febaccc2a81d35565e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c7abb1d486d9780be232a4febaccc2a81d35565e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d5d86fde90742a0fcd0a75693ec977b5d8bf5645", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5d86fde90742a0fcd0a75693ec977b5d8bf5645", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5d86fde90742a0fcd0a75693ec977b5d8bf5645", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5d86fde90742a0fcd0a75693ec977b5d8bf5645/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7d0e5ebe7b2d0704400249dcae5b63ccd8c9ea2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d0e5ebe7b2d0704400249dcae5b63ccd8c9ea2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d0e5ebe7b2d0704400249dcae5b63ccd8c9ea2e"}], "stats": {"total": 35, "additions": 34, "deletions": 1}, "files": [{"sha": "e4fa4b6edf5a4345a72135e6c5aa36ffda7daa22", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5d86fde90742a0fcd0a75693ec977b5d8bf5645/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5d86fde90742a0fcd0a75693ec977b5d8bf5645/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d5d86fde90742a0fcd0a75693ec977b5d8bf5645", "patch": "@@ -1,3 +1,9 @@\n+2006-05-02  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR middle-end/27310\n+\t* except.c (duplicate_eh_regions): Fix clearing of\n+\tcfun->eh->region_array entries.\n+\n 2006-05-01  DJ Delorie  <dj@redhat.com>\n \n \t* configure.ac (gcc_cv_nm): Don't use an in-tree nm if"}, {"sha": "ba6b505008d1c4b4e847c5eacbdab044299360b4", "filename": "gcc/except.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5d86fde90742a0fcd0a75693ec977b5d8bf5645/gcc%2Fexcept.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5d86fde90742a0fcd0a75693ec977b5d8bf5645/gcc%2Fexcept.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexcept.c?ref=d5d86fde90742a0fcd0a75693ec977b5d8bf5645", "patch": "@@ -956,7 +956,7 @@ duplicate_eh_regions (struct function *ifun, duplicate_eh_regions_map map,\n \n   /* Zero all entries in the range allocated.  */\n   memset (VEC_address (eh_region, cfun->eh->region_array)\n-\t  + cfun_last_region_number + 1, 0, num_regions);\n+\t  + cfun_last_region_number + 1, 0, num_regions * sizeof (eh_region));\n \n   /* Locate the spot at which to insert the new tree.  */\n   if (outer_region > 0)"}, {"sha": "f9cbeb3a76eb5d3355ecb43033b1c613b7763830", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5d86fde90742a0fcd0a75693ec977b5d8bf5645/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5d86fde90742a0fcd0a75693ec977b5d8bf5645/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d5d86fde90742a0fcd0a75693ec977b5d8bf5645", "patch": "@@ -1,3 +1,8 @@\n+2006-05-02  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR middle-end/27310\n+\t* g++.dg/gomp/pr27310.C: New test.\n+\n 2006-05-01  Zdenek Dvorak <dvorakz@suse.cz>\n \n \tPR tree-optimization/27291"}, {"sha": "d921e6af2bc6c4277582945d5df7ae75c823107b", "filename": "gcc/testsuite/g++.dg/gomp/pr27310.C", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5d86fde90742a0fcd0a75693ec977b5d8bf5645/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fpr27310.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5d86fde90742a0fcd0a75693ec977b5d8bf5645/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fpr27310.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fpr27310.C?ref=d5d86fde90742a0fcd0a75693ec977b5d8bf5645", "patch": "@@ -0,0 +1,22 @@\n+// PR middle-end/27310\n+// { dg-do compile }\n+// { dg-options \"-O2 -fopenmp\" }\n+\n+struct A\n+{\n+  ~A ();\n+};\n+\n+struct B\n+{\n+  A a, b;\n+};\n+\n+void\n+foo ()\n+{\n+  A c, d;\n+\n+#pragma omp parallel\n+  B e;\n+}"}]}