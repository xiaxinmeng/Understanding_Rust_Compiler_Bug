{"sha": "2b7794ad0be64f46c4ad99ca580a5eabe86a3d37", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmI3Nzk0YWQwYmU2NGY0NmM0YWQ5OWNhNTgwYTVlYWJlODZhM2QzNw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-05-26T22:39:50Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-05-26T22:39:50Z"}, "message": "(ashlsi3): Use shlo instead of shli.\n\nFrom-SVN: r4577", "tree": {"sha": "2a67a2b99ed2ad51b71966af88d239703024c278", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2a67a2b99ed2ad51b71966af88d239703024c278"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2b7794ad0be64f46c4ad99ca580a5eabe86a3d37", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b7794ad0be64f46c4ad99ca580a5eabe86a3d37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b7794ad0be64f46c4ad99ca580a5eabe86a3d37", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b7794ad0be64f46c4ad99ca580a5eabe86a3d37/comments", "author": null, "committer": null, "parents": [{"sha": "4055b808f5c0ba445811a205d3b67c24299df4e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4055b808f5c0ba445811a205d3b67c24299df4e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4055b808f5c0ba445811a205d3b67c24299df4e1"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "dd52829104309014545c37cd5ec6e4f164ff4d77", "filename": "gcc/config/i960/i960.md", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b7794ad0be64f46c4ad99ca580a5eabe86a3d37/gcc%2Fconfig%2Fi960%2Fi960.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b7794ad0be64f46c4ad99ca580a5eabe86a3d37/gcc%2Fconfig%2Fi960%2Fi960.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi960%2Fi960.md?ref=2b7794ad0be64f46c4ad99ca580a5eabe86a3d37", "patch": "@@ -2092,12 +2092,20 @@\n \f\n ;; Arithmetic shift instructions.\n \n+;; The shli instruction generates an overflow fault if the sign changes.\n+;; In the case of overflow, it does not give the natural result, it instead\n+;; gives the last shift value before the overflow.  We can not use this\n+;; instruction because gcc thinks that arithmetic left shift and logical\n+;; left shift are identical, and sometimes canonicalizes the logical left\n+;; shift to an arithmetic left shift.  Therefore we must always use the\n+;; logical left shift instruction.\n+\n (define_insn \"ashlsi3\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n \t(ashift:SI (match_operand:SI 1 \"arith_operand\" \"dI\")\n \t\t   (match_operand:SI 2 \"arith_operand\" \"dI\")))]\n   \"\"\n-  \"shli\t%2,%1,%0\"\n+  \"shlo\t%2,%1,%0\"\n   [(set_attr \"type\" \"alu2\")])\n \n (define_insn \"ashrsi3\""}]}