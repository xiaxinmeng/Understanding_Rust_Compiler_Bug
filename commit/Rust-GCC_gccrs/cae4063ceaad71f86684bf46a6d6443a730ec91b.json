{"sha": "cae4063ceaad71f86684bf46a6d6443a730ec91b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2FlNDA2M2NlYWFkNzFmODY2ODRiZjQ2YTZkNjQ0M2E3MzBlYzkxYg==", "commit": {"author": {"name": "Tim Shen", "email": "timshen@google.com", "date": "2015-08-28T02:35:21Z"}, "committer": {"name": "Tim Shen", "email": "timshen@gcc.gnu.org", "date": "2015-08-28T02:35:21Z"}, "message": "re PR libstdc++/67362 (std::regex(\"((.)\", std::regex_constants::basic) throws)\n\n\tPR libstdc++/67362\n\t* include/bits/regex_scanner.tcc (_Scanner<>::_M_scan_normal):\n\tAlways returns ordinary char token if the char isn't\n\tconsidered a special char.\n\t* testsuite/28_regex/regression.cc: New test file for collecting\n\tregression testcases from, typically, bugzilla.\n\nFrom-SVN: r227289", "tree": {"sha": "d68540c22e6795003c04acddb45b33176a55f5b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d68540c22e6795003c04acddb45b33176a55f5b6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cae4063ceaad71f86684bf46a6d6443a730ec91b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cae4063ceaad71f86684bf46a6d6443a730ec91b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cae4063ceaad71f86684bf46a6d6443a730ec91b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cae4063ceaad71f86684bf46a6d6443a730ec91b/comments", "author": {"login": "timshen91", "id": 1157432, "node_id": "MDQ6VXNlcjExNTc0MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/1157432?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timshen91", "html_url": "https://github.com/timshen91", "followers_url": "https://api.github.com/users/timshen91/followers", "following_url": "https://api.github.com/users/timshen91/following{/other_user}", "gists_url": "https://api.github.com/users/timshen91/gists{/gist_id}", "starred_url": "https://api.github.com/users/timshen91/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timshen91/subscriptions", "organizations_url": "https://api.github.com/users/timshen91/orgs", "repos_url": "https://api.github.com/users/timshen91/repos", "events_url": "https://api.github.com/users/timshen91/events{/privacy}", "received_events_url": "https://api.github.com/users/timshen91/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "88df0b5747431d70500f53b1142f5d568cac61d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88df0b5747431d70500f53b1142f5d568cac61d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88df0b5747431d70500f53b1142f5d568cac61d7"}], "stats": {"total": 57, "additions": 57, "deletions": 0}, "files": [{"sha": "823939fa8f7c070b7889101db02d11e158b3ad34", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cae4063ceaad71f86684bf46a6d6443a730ec91b/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cae4063ceaad71f86684bf46a6d6443a730ec91b/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=cae4063ceaad71f86684bf46a6d6443a730ec91b", "patch": "@@ -1,3 +1,12 @@\n+2015-08-28  Tim Shen  <timshen@google.com>\n+\n+\tPR libstdc++/67362\n+\t* include/bits/regex_scanner.tcc (_Scanner<>::_M_scan_normal):\n+\tAlways returns ordinary char token if the char isn't\n+\tconsidered a special char.\n+\t* testsuite/28_regex/regression.cc: New test file for collecting\n+\tregression testcases from, typically, bugzilla.\n+\n 2015-08-27  Jonathan Wakely  <jwakely@redhat.com>\n \n \tPR libstdc++/67374"}, {"sha": "1555669393113acafc30dbb667d05df662f506cd", "filename": "libstdc++-v3/include/bits/regex_scanner.tcc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cae4063ceaad71f86684bf46a6d6443a730ec91b/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fregex_scanner.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cae4063ceaad71f86684bf46a6d6443a730ec91b/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fregex_scanner.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fregex_scanner.tcc?ref=cae4063ceaad71f86684bf46a6d6443a730ec91b", "patch": "@@ -99,6 +99,12 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       auto __c = *_M_current++;\n       const char* __pos;\n \n+      if (std::strchr(_M_spec_char, _M_ctype.narrow(__c, '\\0')) == nullptr)\n+\t{\n+\t  _M_token = _S_token_ord_char;\n+\t  _M_value.assign(1, __c);\n+\t  return;\n+\t}\n       if (__c == '\\\\')\n \t{\n \t  if (_M_current == _M_end)"}, {"sha": "71d82d5045974220fa7c7529f4d35ee971871013", "filename": "libstdc++-v3/testsuite/28_regex/regression.cc", "status": "added", "additions": 42, "deletions": 0, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cae4063ceaad71f86684bf46a6d6443a730ec91b/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fregression.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cae4063ceaad71f86684bf46a6d6443a730ec91b/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fregression.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fregression.cc?ref=cae4063ceaad71f86684bf46a6d6443a730ec91b", "patch": "@@ -0,0 +1,42 @@\n+// { dg-options \"-std=gnu++11\" }\n+\n+//\n+// Copyright (C) 2015 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 3, or (at your option)\n+// any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+//\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING3.  If not see\n+// <http://www.gnu.org/licenses/>.\n+\n+#include <testsuite_hooks.h>\n+#include <testsuite_regex.h>\n+\n+using namespace __gnu_test;\n+using namespace std;\n+\n+// PR libstdc++/67362\n+void\n+test01()\n+{\n+  bool test __attribute__((unused)) = true;\n+\n+  regex re(\"((.)\", regex_constants::basic);\n+}\n+\n+int\n+main()\n+{\n+  test01();\n+  return 0;\n+}\n+"}]}