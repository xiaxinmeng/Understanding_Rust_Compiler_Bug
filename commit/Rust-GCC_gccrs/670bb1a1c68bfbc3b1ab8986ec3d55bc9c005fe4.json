{"sha": "670bb1a1c68bfbc3b1ab8986ec3d55bc9c005fe4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjcwYmIxYTFjNjhiZmJjM2IxYWI4OTg2ZWMzZDU1YmM5YzAwNWZlNA==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2012-03-11T18:19:05Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2012-03-11T18:19:05Z"}, "message": "i386.c (ix86_zero_extend_to_Pmode): Rewrite using convert_to_mode.\n\n\t* config/i386/i386.c (ix86_zero_extend_to_Pmode): Rewrite using\n\tconvert_to_mode.\n\nFrom-SVN: r185198", "tree": {"sha": "b2d5e35dbb8d0c7d354cbf7d2745f49f10431379", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b2d5e35dbb8d0c7d354cbf7d2745f49f10431379"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/670bb1a1c68bfbc3b1ab8986ec3d55bc9c005fe4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/670bb1a1c68bfbc3b1ab8986ec3d55bc9c005fe4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/670bb1a1c68bfbc3b1ab8986ec3d55bc9c005fe4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/670bb1a1c68bfbc3b1ab8986ec3d55bc9c005fe4/comments", "author": null, "committer": null, "parents": [{"sha": "ba61421d583a66b86edcbc7a259875ca61f2ef6e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba61421d583a66b86edcbc7a259875ca61f2ef6e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba61421d583a66b86edcbc7a259875ca61f2ef6e"}], "stats": {"total": 19, "additions": 9, "deletions": 10}, "files": [{"sha": "05df3c84faddd163e97a9456fcf610d0129b5c01", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/670bb1a1c68bfbc3b1ab8986ec3d55bc9c005fe4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/670bb1a1c68bfbc3b1ab8986ec3d55bc9c005fe4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=670bb1a1c68bfbc3b1ab8986ec3d55bc9c005fe4", "patch": "@@ -1,12 +1,16 @@\n+2012-03-11  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* config/i386/i386.c (ix86_zero_extend_to_Pmode): Rewrite using\n+\tconvert_to_mode.\n+\n 2012-03-11  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config/i386/i386.c (ix86_trampoline_init): Use movl for 64bit if\n \tptr_mode == SImode.  Replace DImode with Pmode or ptr_mode.\n \n 2012-03-11  H.J. Lu  <hongjiu.lu@intel.com>\n \n-\t* config/i386/i386.c (x86_this_parameter): Replace DImode with\n-\tPmode.\n+\t* config/i386/i386.c (x86_this_parameter): Replace DImode with Pmode.\n \n 2012-03-11  H.J. Lu  <hongjiu.lu@intel.com>\n "}, {"sha": "cf4d1f61ed8c097a1ddbacf52a3af7665305bbda", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 3, "deletions": 8, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/670bb1a1c68bfbc3b1ab8986ec3d55bc9c005fe4/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/670bb1a1c68bfbc3b1ab8986ec3d55bc9c005fe4/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=670bb1a1c68bfbc3b1ab8986ec3d55bc9c005fe4", "patch": "@@ -21025,14 +21025,9 @@ ix86_adjust_counter (rtx countreg, HOST_WIDE_INT value)\n rtx\n ix86_zero_extend_to_Pmode (rtx exp)\n {\n-  rtx r;\n-  if (GET_MODE (exp) == VOIDmode)\n-    return force_reg (Pmode, exp);\n-  if (GET_MODE (exp) == Pmode)\n-    return copy_to_mode_reg (Pmode, exp);\n-  r = gen_reg_rtx (Pmode);\n-  emit_insn (gen_zero_extendsidi2 (r, exp));\n-  return r;\n+  if (GET_MODE (exp) != Pmode)\n+    exp = convert_to_mode (Pmode, exp, 1);\n+  return force_reg (Pmode, exp);\n }\n \n /* Divide COUNTREG by SCALE.  */"}]}