{"sha": "4832c9e16663c4191bf9456350d1fefcf4c1caab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDgzMmM5ZTE2NjYzYzQxOTFiZjk0NTYzNTBkMWZlZmNmNGMxY2FhYg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2002-05-23T08:11:50Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2002-05-23T08:11:50Z"}, "message": "configure.in: Fix as version test for binutils 2.12.1 releases (without dates).\n\n\t* configure.in: Fix as version test for binutils 2.12.1 releases\n\t(without dates).\n\t* configure: Rebuilt.\n\nFrom-SVN: r53775", "tree": {"sha": "aec27ba10b0e5d570ed21115ac9738c88f65d5fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aec27ba10b0e5d570ed21115ac9738c88f65d5fd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4832c9e16663c4191bf9456350d1fefcf4c1caab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4832c9e16663c4191bf9456350d1fefcf4c1caab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4832c9e16663c4191bf9456350d1fefcf4c1caab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4832c9e16663c4191bf9456350d1fefcf4c1caab/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c8c0350922dd6b8f75d96bd79bb50defc1b13776", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8c0350922dd6b8f75d96bd79bb50defc1b13776", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8c0350922dd6b8f75d96bd79bb50defc1b13776"}], "stats": {"total": 56, "additions": 51, "deletions": 5}, "files": [{"sha": "dd18993cc5024bff8c882ad9ee13f082f0326736", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4832c9e16663c4191bf9456350d1fefcf4c1caab/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4832c9e16663c4191bf9456350d1fefcf4c1caab/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4832c9e16663c4191bf9456350d1fefcf4c1caab", "patch": "@@ -1,3 +1,9 @@\n+2002-05-23  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* configure.in: Fix as version test for binutils 2.12.1 releases\n+\t(without dates).\n+\t* configure: Rebuilt.\n+\n 2002-05-23  Richard Henderson  <rth@redhat.com>\n \n \t* config/i386/i386.c (get_pic_label_name): New."}, {"sha": "60e65d3a36c00eb0bcd9e94c1eb29c866c2be73b", "filename": "gcc/configure", "status": "modified", "additions": 22, "deletions": 2, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4832c9e16663c4191bf9456350d1fefcf4c1caab/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4832c9e16663c4191bf9456350d1fefcf4c1caab/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=4832c9e16663c4191bf9456350d1fefcf4c1caab", "patch": "@@ -7207,9 +7207,29 @@ elif test x$gcc_cv_as != x; then\n \t# the date string after the version number.\n \tld_ver=`$gcc_cv_ld --version 2>/dev/null | head -1`\n \tif echo \"$ld_ver\" | grep GNU > /dev/null; then\n-\t\tld_date=`echo $ld_ver | sed -n 's,^.*\\([2-9][0-9][0-9][0-9]\\)[-]*\\([01][0-9]\\)[-]*\\([0-3][0-9]\\).*$,\\1\\2\\3,;p'`\n+\t\tld_vers=`echo $ld_ver | sed -n 's,^.*[ \t]\\([0-9][0-9]*\\.[0-9][0-9]*\\(\\|\\.[0-9][0-9]*\\)\\)\\([ \t].*\\|\\)$,\\1,p'`\n+\t\tld_date=`echo $ld_ver | sed -n 's,^.*\\([2-9][0-9][0-9][0-9]\\)[-]*\\([01][0-9]\\)[-]*\\([0-3][0-9]\\).*$,\\1\\2\\3,p'`\n \t\tif test 0\"$ld_date\" -lt 20020404; then\n-\t\t\tgcc_cv_as_hidden=\"no\"\n+\t\t\tif test -n \"$ld_date\"; then\n+\t\t\t\t# If there was date string, but was earlier than 2002-04-04, fail\n+\t\t\t\tgcc_cv_as_hidden=\"no\"\n+\t\t\telif test -z \"$ld_vers\"; then\n+\t\t\t\t# If there was no date string nor ld version number, something is wrong\n+\t\t\t\tgcc_cv_as_hidden=\"no\"\n+\t\t\telse\n+\t\t\t\tld_vers_major=`expr \"$ld_vers\" : '\\([0-9]*\\)'`\n+\t\t\t\tld_vers_minor=`expr \"$ld_vers\" : '[0-9]*\\.\\([0-9]*\\)'`\n+\t\t\t\tld_vers_patch=`expr \"$ld_vers\" : '[0-9]*\\.[0-9]*\\.\\([0-9]*\\)'`\n+\t\t\t\ttest -z \"$ld_vers_patch\" && ld_vers_patch=0\n+\t\t\t\tif test \"$ld_vers_major\" -lt 2; then\n+\t\t\t\t\tgcc_cv_as_hidden=\"no\"\n+\t\t\t\telif test \"$ld_vers_major\" -eq 2 -a \"$ld_vers_minor\" -lt 12; then\n+\t\t\t\t\tgcc_cv_as_hidden=\"no\"\n+\t\t\t\telif test \"$ld_vers_major\" -eq 2 -a \"$ld_vers_minor\" -eq 12 \\\n+\t\t\t\t\t  -a \"$ld_vers_patch\" -eq 0; then\n+\t\t\t\t\tgcc_cv_as_hidden=\"no\"\n+\t\t\t\tfi\n+\t\t\tfi\n \t\tfi\n \tfi\n fi"}, {"sha": "71bfca708f910475c20575b6a79fe6a8c492779b", "filename": "gcc/configure.in", "status": "modified", "additions": 23, "deletions": 3, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4832c9e16663c4191bf9456350d1fefcf4c1caab/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4832c9e16663c4191bf9456350d1fefcf4c1caab/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=4832c9e16663c4191bf9456350d1fefcf4c1caab", "patch": "@@ -1541,11 +1541,31 @@ elif test x$gcc_cv_as != x; then\n \tld_ver=`$gcc_cv_ld --version 2>/dev/null | head -1`\n \tif echo \"$ld_ver\" | grep GNU > /dev/null; then\n changequote(,)dnl\n-\t\tld_date=`echo $ld_ver | sed -n 's,^.*\\([2-9][0-9][0-9][0-9]\\)[-]*\\([01][0-9]\\)[-]*\\([0-3][0-9]\\).*$,\\1\\2\\3,;p'`\n-changequote([,])dnl\n+\t\tld_vers=`echo $ld_ver | sed -n 's,^.*[ \t]\\([0-9][0-9]*\\.[0-9][0-9]*\\(\\|\\.[0-9][0-9]*\\)\\)\\([ \t].*\\|\\)$,\\1,p'`\n+\t\tld_date=`echo $ld_ver | sed -n 's,^.*\\([2-9][0-9][0-9][0-9]\\)[-]*\\([01][0-9]\\)[-]*\\([0-3][0-9]\\).*$,\\1\\2\\3,p'`\n \t\tif test 0\"$ld_date\" -lt 20020404; then\n-\t\t\tgcc_cv_as_hidden=\"no\"\n+\t\t\tif test -n \"$ld_date\"; then\n+\t\t\t\t# If there was date string, but was earlier than 2002-04-04, fail\n+\t\t\t\tgcc_cv_as_hidden=\"no\"\n+\t\t\telif test -z \"$ld_vers\"; then\n+\t\t\t\t# If there was no date string nor ld version number, something is wrong\n+\t\t\t\tgcc_cv_as_hidden=\"no\"\n+\t\t\telse\n+\t\t\t\tld_vers_major=`expr \"$ld_vers\" : '\\([0-9]*\\)'`\n+\t\t\t\tld_vers_minor=`expr \"$ld_vers\" : '[0-9]*\\.\\([0-9]*\\)'`\n+\t\t\t\tld_vers_patch=`expr \"$ld_vers\" : '[0-9]*\\.[0-9]*\\.\\([0-9]*\\)'`\n+\t\t\t\ttest -z \"$ld_vers_patch\" && ld_vers_patch=0\n+\t\t\t\tif test \"$ld_vers_major\" -lt 2; then\n+\t\t\t\t\tgcc_cv_as_hidden=\"no\"\n+\t\t\t\telif test \"$ld_vers_major\" -eq 2 -a \"$ld_vers_minor\" -lt 12; then\n+\t\t\t\t\tgcc_cv_as_hidden=\"no\"\n+\t\t\t\telif test \"$ld_vers_major\" -eq 2 -a \"$ld_vers_minor\" -eq 12 \\\n+\t\t\t\t\t  -a \"$ld_vers_patch\" -eq 0; then\n+\t\t\t\t\tgcc_cv_as_hidden=\"no\"\n+\t\t\t\tfi\n+\t\t\tfi\n \t\tfi\n+changequote([,])dnl\n \tfi\n fi\n if test x\"$gcc_cv_as_hidden\" = xyes; then"}]}