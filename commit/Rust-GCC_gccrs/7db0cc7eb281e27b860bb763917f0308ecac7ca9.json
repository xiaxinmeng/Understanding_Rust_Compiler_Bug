{"sha": "7db0cc7eb281e27b860bb763917f0308ecac7ca9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2RiMGNjN2ViMjgxZTI3Yjg2MGJiNzYzOTE3ZjAzMDhlY2FjN2NhOQ==", "commit": {"author": {"name": "John David Anglin", "email": "dave.anglin@nrc-cnrc.gc.ca", "date": "2005-12-05T03:23:37Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2005-12-05T03:23:37Z"}, "message": "re PR target/25166 (FAIL: gcc.c-torture/execute/conversion.c compilation)\n\n\tPR target/25166\n\t* pa/pa.c (pa_hpux_init_libfuncs): Add _U_Qfcnvxf_usgl_to_quad and\n\t_U_Qfcnvxf_udbl_to_quad to set of initialized libfuncs.\n\t* pa/quadlib.c (_U_Qfcnvxf_usgl_to_quad, _U_Qfcnvxf_udbl_to_quad): New\n\tfunctions.\n\nFrom-SVN: r108039", "tree": {"sha": "de455ad5a1f16e22e7656df5d0aea566d7d46947", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/de455ad5a1f16e22e7656df5d0aea566d7d46947"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7db0cc7eb281e27b860bb763917f0308ecac7ca9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7db0cc7eb281e27b860bb763917f0308ecac7ca9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7db0cc7eb281e27b860bb763917f0308ecac7ca9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7db0cc7eb281e27b860bb763917f0308ecac7ca9/comments", "author": null, "committer": null, "parents": [{"sha": "56540d20c22609161b4ebcb340b05050b39c6701", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56540d20c22609161b4ebcb340b05050b39c6701", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56540d20c22609161b4ebcb340b05050b39c6701"}], "stats": {"total": 41, "additions": 34, "deletions": 7}, "files": [{"sha": "33b61fc3c525981bba3f559d4f581fc01d280b06", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7db0cc7eb281e27b860bb763917f0308ecac7ca9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7db0cc7eb281e27b860bb763917f0308ecac7ca9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7db0cc7eb281e27b860bb763917f0308ecac7ca9", "patch": "@@ -1,3 +1,11 @@\n+2005-12-04  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n+\n+\tPR target/25166\n+\t* pa/pa.c (pa_hpux_init_libfuncs): Add _U_Qfcnvxf_usgl_to_quad and\n+\t_U_Qfcnvxf_udbl_to_quad to set of initialized libfuncs.\n+\t* pa/quadlib.c (_U_Qfcnvxf_usgl_to_quad, _U_Qfcnvxf_udbl_to_quad): New\n+\tfunctions.\n+\n 2005-12-04  Joseph S. Myers  <joseph@codesourcery.com>\n \n \t* c-typeck.c (null_pointer_constant_p): New function."}, {"sha": "c9bac9154814bd5eadbbab72c8fe6628fa8d5a89", "filename": "gcc/config/pa/pa.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7db0cc7eb281e27b860bb763917f0308ecac7ca9/gcc%2Fconfig%2Fpa%2Fpa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7db0cc7eb281e27b860bb763917f0308ecac7ca9/gcc%2Fconfig%2Fpa%2Fpa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.c?ref=7db0cc7eb281e27b860bb763917f0308ecac7ca9", "patch": "@@ -5350,6 +5350,8 @@ pa_hpux_init_libfuncs (void)\n \n   set_conv_libfunc (sfloat_optab, TFmode, SImode, \"_U_Qfcnvxf_sgl_to_quad\");\n   set_conv_libfunc (sfloat_optab, TFmode, DImode, \"_U_Qfcnvxf_dbl_to_quad\");\n+  set_conv_libfunc (ufloat_optab, TFmode, SImode, \"_U_Qfcnvxf_usgl_to_quad\");\n+  set_conv_libfunc (ufloat_optab, TFmode, DImode, \"_U_Qfcnvxf_udbl_to_quad\");\n }\n #endif\n "}, {"sha": "bce99d2cee8bcbbb9a413e682b781f49bb105d65", "filename": "gcc/config/pa/quadlib.c", "status": "modified", "additions": 24, "deletions": 7, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7db0cc7eb281e27b860bb763917f0308ecac7ca9/gcc%2Fconfig%2Fpa%2Fquadlib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7db0cc7eb281e27b860bb763917f0308ecac7ca9/gcc%2Fconfig%2Fpa%2Fquadlib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fquadlib.c?ref=7db0cc7eb281e27b860bb763917f0308ecac7ca9", "patch": "@@ -64,7 +64,9 @@ long double _U_Qfneg (long double);\n int __U_Qfcnvfxt_quad_to_sgl (long double);\n #endif\n unsigned int _U_Qfcnvfxt_quad_to_usgl(long double);\n+long double _U_Qfcnvxf_usgl_to_quad (unsigned int);\n unsigned long long _U_Qfcnvfxt_quad_to_udbl(long double);\n+long double _U_Qfcnvxf_udbl_to_quad (unsigned long long);\n \n int\n _U_Qfeq (long double a, long double b)\n@@ -186,27 +188,42 @@ __U_Qfcnvfxt_quad_to_sgl (long double a)\n }\n #endif\n \n-/* HP only has signed conversion in library, so need to synthesize an\n-   unsigned version */\n+/* HP only has signed conversion in the C library, so need to synthesize\n+   unsigned versions.  */\n unsigned int\n-_U_Qfcnvfxt_quad_to_usgl(long double a)\n+_U_Qfcnvfxt_quad_to_usgl (long double a)\n {\n   extern long long _U_Qfcnvfxt_quad_to_dbl (long double a);\n   return (unsigned int) _U_Qfcnvfxt_quad_to_dbl (a);\n }\n \n-/* HP only has signed conversion in library, so need to synthesize an\n-   unsigned version */\n+long double\n+_U_Qfcnvxf_usgl_to_quad (unsigned int a)\n+{\n+  extern long double _U_Qfcnvxf_dbl_to_quad (long long);\n+  return _U_Qfcnvxf_dbl_to_quad ((long long) a);\n+}\n+\n typedef union {\n-    long long unsigned int u[2];\n+    unsigned long long u[2];\n     long double d[1];\n } quad_type;\n \n unsigned long long\n-_U_Qfcnvfxt_quad_to_udbl(long double a)\n+_U_Qfcnvfxt_quad_to_udbl (long double a)\n {\n   extern quad_type _U_Qfcnvfxt_quad_to_quad (long double a);\n   quad_type u;\n   u = _U_Qfcnvfxt_quad_to_quad(a);\n   return u.u[1];\n }\n+\n+long double\n+_U_Qfcnvxf_udbl_to_quad (unsigned long long a)\n+{\n+  extern long double _U_Qfcnvxf_quad_to_quad (quad_type a);\n+  quad_type u;\n+  u.u[0] = 0;\n+  u.u[1] = a;\n+  return _U_Qfcnvxf_quad_to_quad (u);\n+}"}]}