{"sha": "93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTNjYzFjNjk5NWIwZDdkMzllYjg2NWQ3ZDJmM2RlNjA4MmJkZjM1ZA==", "commit": {"author": {"name": "Joseph Myers", "email": "jsm28@cam.ac.uk", "date": "2000-10-31T20:38:04Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2000-10-31T20:38:04Z"}, "message": "c-typeck.c (build_unary_op): If pedantic, pedwarn for increment and decrement of complex types.\n\n\t* c-typeck.c (build_unary_op): If pedantic, pedwarn for increment\n\tand decrement of complex types.\n\ntestsuite:\n\t* gcc.dg/c99-complex-2.c: New test.\n\nFrom-SVN: r37164", "tree": {"sha": "d9a7f79a901c7d085dbabeba47b30815be00d912", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d9a7f79a901c7d085dbabeba47b30815be00d912"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "510fbf869c478eae5d0931f2987ba37516ce75e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/510fbf869c478eae5d0931f2987ba37516ce75e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/510fbf869c478eae5d0931f2987ba37516ce75e7"}], "stats": {"total": 34, "additions": 34, "deletions": 0}, "files": [{"sha": "7c617b8b494b72379c3046a85f3cf937f00e7635", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d", "patch": "@@ -1,3 +1,8 @@\n+2000-10-31  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* c-typeck.c (build_unary_op): If pedantic, pedwarn for increment\n+\tand decrement of complex types.\n+\n 2000-10-31  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* builtins.c (expand_builtin_fputs): When deleting NOP calls to"}, {"sha": "acc2840ee73f3b46fde14185e3647653a363aea7", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d", "patch": "@@ -2909,6 +2909,9 @@ build_unary_op (code, xarg, noconvert)\n \t{\n \t  tree real, imag;\n \n+\t  if (pedantic)\n+\t    pedwarn (\"ISO C does not support `++' and `--' on complex types\");\n+\n \t  arg = stabilize_reference (arg);\n \t  real = build_unary_op (REALPART_EXPR, arg, 1);\n \t  imag = build_unary_op (IMAGPART_EXPR, arg, 1);"}, {"sha": "0d714d8d2c334c7a492cf0a4c2113610af1f7fa5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d", "patch": "@@ -1,3 +1,7 @@\n+2000-10-31  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* gcc.dg/c99-complex-2.c: New test.\n+\n 2000-10-31  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* gcc.c-torture/execute/stdio-opt-1.c: New test."}, {"sha": "078e92ae909d1afa8412bcb52017b2e2f2475bc3", "filename": "gcc/testsuite/gcc.dg/c99-complex-2.c", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-complex-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-complex-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fc99-complex-2.c?ref=93cc1c6995b0d7d39eb865d7d2f3de6082bdf35d", "patch": "@@ -0,0 +1,22 @@\n+/* Test for _Complex: in C99 only.  Test for increment and decrement.  */\n+/* Origin: Joseph Myers <jsm28@cam.ac.uk> */\n+/* { dg-do compile } */\n+/* { dg-options \"-std=iso9899:1999 -pedantic-errors\" } */\n+\n+/* Use of ++ and -- on complex types (both prefix and postfix) is a\n+   C99 constraint violation (6.5.2.4p1, 6.5.3.1p1).\n+*/\n+\n+_Complex double\n+foo (_Complex double z)\n+{\n+  z++; /* { dg-bogus \"warning\" \"warning in place of error\" } */\n+  /* { dg-error \"complex\" \"postinc\" { target *-*-* } 13 } */\n+  ++z; /* { dg-bogus \"warning\" \"warning in place of error\" } */\n+  /* { dg-error \"complex\" \"preinc\" { target *-*-* } 15 } */\n+  z--; /* { dg-bogus \"warning\" \"warning in place of error\" } */\n+  /* { dg-error \"complex\" \"postdec\" { target *-*-* } 17 } */\n+  --z; /* { dg-bogus \"warning\" \"warning in place of error\" } */\n+  /* { dg-error \"complex\" \"predec\" { target *-*-* } 19 } */\n+  return z;\n+}"}]}