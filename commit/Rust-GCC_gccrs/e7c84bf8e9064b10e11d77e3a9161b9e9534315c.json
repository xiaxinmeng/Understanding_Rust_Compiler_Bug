{"sha": "e7c84bf8e9064b10e11d77e3a9161b9e9534315c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTdjODRiZjhlOTA2NGIxMGUxMWQ3N2UzYTkxNjFiOWU5NTM0MzE1Yw==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2005-10-22T10:37:17Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2005-10-22T10:37:17Z"}, "message": "re PR bootstrap/24297 (libtool: link: unable to infer tagged configuration)\n\n2005-10-22  Paolo Bonzini  <bonzini@gnu.org>\n\n\tPR bootstrap/24297\n\t* Makefile.tpl (do-[+make-target+], do-check, install,\n\tstage[+id+]-bubble, [+compare-target+]): Ensure $$r and $$s\n\tare set before recursing.\n\t* Makefile.in: Regenerate.\n\nFrom-SVN: r105791", "tree": {"sha": "ddbc8f9ebf10219f0a796e46336d6695ace8b542", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ddbc8f9ebf10219f0a796e46336d6695ace8b542"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e7c84bf8e9064b10e11d77e3a9161b9e9534315c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7c84bf8e9064b10e11d77e3a9161b9e9534315c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7c84bf8e9064b10e11d77e3a9161b9e9534315c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7c84bf8e9064b10e11d77e3a9161b9e9534315c/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "131452a00ef71d89745379d4dc4f1923802b3b89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/131452a00ef71d89745379d4dc4f1923802b3b89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/131452a00ef71d89745379d4dc4f1923802b3b89"}], "stats": {"total": 114, "additions": 83, "deletions": 31}, "files": [{"sha": "a93720c957319a560d0a692c778cd99dc6295f3f", "filename": "ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7c84bf8e9064b10e11d77e3a9161b9e9534315c/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7c84bf8e9064b10e11d77e3a9161b9e9534315c/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=e7c84bf8e9064b10e11d77e3a9161b9e9534315c", "patch": "@@ -1,3 +1,11 @@\n+2005-10-22  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tPR bootstrap/24297\n+\t* Makefile.tpl (do-[+make-target+], do-check, install,\n+\tstage[+id+]-bubble, [+compare-target+]): Ensure $$r and $$s\n+\tare set before recursing.\n+\t* Makefile.in: Regenerate.\n+\n 2005-10-20  Eric Botcazou  <ebotcazou@adacore.com>\n \n \tPR bootstrap/18939"}, {"sha": "0344ad3ae7070770d4df13cf25fa3309e139ea63", "filename": "Makefile.in", "status": "modified", "additions": 60, "deletions": 24, "changes": 84, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7c84bf8e9064b10e11d77e3a9161b9e9534315c/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7c84bf8e9064b10e11d77e3a9161b9e9534315c/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=e7c84bf8e9064b10e11d77e3a9161b9e9534315c", "patch": "@@ -1001,7 +1001,9 @@ all-target:  \\\n .PHONY: do-info\n do-info:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) info-host \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) info-host \\\n \t  info-target\n \t@$(stage)\n \n@@ -1101,7 +1103,9 @@ info-target:  \\\n .PHONY: do-dvi\n do-dvi:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) dvi-host \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) dvi-host \\\n \t  dvi-target\n \t@$(stage)\n \n@@ -1201,7 +1205,9 @@ dvi-target:  \\\n .PHONY: do-html\n do-html:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) html-host \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) html-host \\\n \t  html-target\n \t@$(stage)\n \n@@ -1301,7 +1307,9 @@ html-target:  \\\n .PHONY: do-TAGS\n do-TAGS:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) TAGS-host \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) TAGS-host \\\n \t  TAGS-target\n \t@$(stage)\n \n@@ -1401,7 +1409,9 @@ TAGS-target:  \\\n .PHONY: do-install-info\n do-install-info:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) install-info-host \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) install-info-host \\\n \t  install-info-target\n \t@$(stage)\n \n@@ -1501,7 +1511,9 @@ install-info-target:  \\\n .PHONY: do-installcheck\n do-installcheck:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) installcheck-host \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) installcheck-host \\\n \t  installcheck-target\n \t@$(stage)\n \n@@ -1601,7 +1613,9 @@ installcheck-target:  \\\n .PHONY: do-mostlyclean\n do-mostlyclean:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) mostlyclean-host \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) mostlyclean-host \\\n \t  mostlyclean-target\n \t@$(stage)\n \n@@ -1701,7 +1715,9 @@ mostlyclean-target:  \\\n .PHONY: do-clean\n do-clean:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) clean-host \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) clean-host \\\n \t  clean-target\n \t@$(stage)\n \n@@ -1801,7 +1817,9 @@ clean-target:  \\\n .PHONY: do-distclean\n do-distclean:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) distclean-host \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) distclean-host \\\n \t  distclean-target\n \t@$(stage)\n \n@@ -1901,7 +1919,9 @@ distclean-target:  \\\n .PHONY: do-maintainer-clean\n do-maintainer-clean:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) maintainer-clean-host \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) maintainer-clean-host \\\n \t  maintainer-clean-target\n \t@$(stage)\n \n@@ -2158,7 +2178,9 @@ check-target:  \\\n \n do-check:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) check-host check-target\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) check-host check-target\n \t@$(stage)\n \n # Automated reporting of test results.\n@@ -2187,7 +2209,9 @@ mail-report-with-warnings.log: warning.log\n .PHONY: install uninstall\n install:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) installdirs install-host install-target\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) installdirs install-host install-target\n \t@$(stage)\n \n .PHONY: install-host-nogcc\n@@ -35259,7 +35283,9 @@ stage1-end::\n # be reconfigured as well.\n .PHONY: stage1-bubble\n stage1-bubble:: \n-\t@if test -f stage1-lean  ; then \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\tif test -f stage1-lean  ; then \\\n \t  echo Skipping rebuild of stage1 ; \\\n \telse \\\n \t  $(MAKE) stage1-start; \\\n@@ -35443,7 +35469,9 @@ stage2-end::\n # be reconfigured as well.\n .PHONY: stage2-bubble\n stage2-bubble:: stage1-bubble\n-\t@if test -f stage2-lean || test -f stage1-lean  ; then \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\tif test -f stage2-lean || test -f stage1-lean  ; then \\\n \t  echo Skipping rebuild of stage2 ; \\\n \telse \\\n \t  $(MAKE) stage2-start; \\\n@@ -35632,7 +35660,9 @@ stage3-end::\n .PHONY: stage3-bubble\n stage3-bubble:: stage2-bubble\n \t@bootstrap_lean@-rm -rf stage1-* ; $(STAMP) stage1-lean\n-\t@if test -f stage3-lean || test -f stage2-lean  ; then \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\tif test -f stage3-lean || test -f stage2-lean  ; then \\\n \t  echo Skipping rebuild of stage3 ; \\\n \telse \\\n \t  $(MAKE) stage3-start; \\\n@@ -35647,13 +35677,13 @@ do-clean: clean-stage3\n @if gcc-bootstrap\n \n compare:\n-\t@if test -f stage2-lean; then \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\tif test -f stage2-lean; then \\\n \t  echo Cannot compare object files as stage 2 was deleted. ; \\\n \t  exit 0 ; \\\n \tfi; \\\n \t[ -f stage_current ] && $(MAKE) `cat stage_current`-end || : ; \\\n-\t@r=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n \trm -f .bad_compare ; \\\n \tcd stage3-gcc; \\\n \tfiles=`find . -name \"*$(objext)\" -print` ; \\\n@@ -35859,7 +35889,9 @@ stage4-end::\n .PHONY: stage4-bubble\n stage4-bubble:: stage3-bubble\n \t@bootstrap_lean@-rm -rf stage2-* ; $(STAMP) stage2-lean\n-\t@if test -f stage4-lean || test -f stage3-lean  ; then \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\tif test -f stage4-lean || test -f stage3-lean  ; then \\\n \t  echo Skipping rebuild of stage4 ; \\\n \telse \\\n \t  $(MAKE) stage4-start; \\\n@@ -35874,13 +35906,13 @@ do-clean: clean-stage4\n @if gcc-bootstrap\n \n compare3:\n-\t@if test -f stage3-lean; then \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\tif test -f stage3-lean; then \\\n \t  echo Cannot compare object files as stage 3 was deleted. ; \\\n \t  exit 0 ; \\\n \tfi; \\\n \t[ -f stage_current ] && $(MAKE) `cat stage_current`-end || : ; \\\n-\t@r=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n \trm -f .bad_compare ; \\\n \tcd stage4-gcc; \\\n \tfiles=`find . -name \"*$(objext)\" -print` ; \\\n@@ -36082,7 +36114,9 @@ stageprofile-end::\n # be reconfigured as well.\n .PHONY: stageprofile-bubble\n stageprofile-bubble:: stage1-bubble\n-\t@if test -f stageprofile-lean || test -f stage1-lean  ; then \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\tif test -f stageprofile-lean || test -f stage1-lean  ; then \\\n \t  echo Skipping rebuild of stageprofile ; \\\n \telse \\\n \t  $(MAKE) stageprofile-start; \\\n@@ -36266,7 +36300,9 @@ stagefeedback-end::\n # be reconfigured as well.\n .PHONY: stagefeedback-bubble\n stagefeedback-bubble:: stageprofile-bubble\n-\t@if test -f stagefeedback-lean || test -f stageprofile-lean  ; then \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\tif test -f stagefeedback-lean || test -f stageprofile-lean  ; then \\\n \t  echo Skipping rebuild of stagefeedback ; \\\n \telse \\\n \t  $(MAKE) stagefeedback-start; \\"}, {"sha": "0c3d75ed2335c4e095478cccea03f56258bd3297", "filename": "Makefile.tpl", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7c84bf8e9064b10e11d77e3a9161b9e9534315c/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7c84bf8e9064b10e11d77e3a9161b9e9534315c/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=e7c84bf8e9064b10e11d77e3a9161b9e9534315c", "patch": "@@ -769,7 +769,9 @@ all-target: [+\n .PHONY: do-[+make_target+]\n do-[+make_target+]:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) [+make_target+]-host \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) [+make_target+]-host \\\n \t  [+make_target+]-target\n \t@$(stage)\n \n@@ -866,7 +868,9 @@ check-target: [+\n \n do-check:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) check-host check-target\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) check-host check-target\n \t@$(stage)\n \n # Automated reporting of test results.\n@@ -895,7 +899,9 @@ mail-report-with-warnings.log: warning.log\n .PHONY: install uninstall\n install:\n \t@$(unstage)\n-\t@$(MAKE) $(RECURSE_FLAGS_TO_PASS) installdirs install-host install-target\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) installdirs install-host install-target\n \t@$(stage)\n \n .PHONY: install-host-nogcc\n@@ -1534,7 +1540,9 @@ stage[+id+]-end::\n .PHONY: stage[+id+]-bubble\n stage[+id+]-bubble:: [+ IF prev +]stage[+prev+]-bubble[+ ENDIF +][+IF lean +]\n \t@bootstrap_lean@-rm -rf stage[+lean+]-* ; $(STAMP) stage[+lean+]-lean[+ ENDIF lean +]\n-\t@if test -f stage[+id+]-lean [+\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\tif test -f stage[+id+]-lean [+\n \t  IF prev +]|| test -f stage[+prev+]-lean [+ ENDIF prev +] ; then \\\n \t  echo Skipping rebuild of stage[+id+] ; \\\n \telse \\\n@@ -1550,13 +1558,13 @@ do-clean: clean-stage[+id+]\n @if gcc-bootstrap\n [+ IF compare-target +]\n [+compare-target+]:\n-\t@if test -f stage[+prev+]-lean; then \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\tif test -f stage[+prev+]-lean; then \\\n \t  echo Cannot compare object files as stage [+prev+] was deleted. ; \\\n \t  exit 0 ; \\\n \tfi; \\\n \t[ -f stage_current ] && $(MAKE) `cat stage_current`-end || : ; \\\n-\t@r=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n \trm -f .bad_compare ; \\\n \tcd stage[+id+]-gcc; \\\n \tfiles=`find . -name \"*$(objext)\" -print` ; \\"}]}