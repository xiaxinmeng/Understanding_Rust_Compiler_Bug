{"sha": "89f1f37ea61d1eff9f01e9a580f44f1964500bc1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODlmMWYzN2VhNjFkMWVmZjlmMDFlOWE1ODBmNDRmMTk2NDUwMGJjMQ==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2016-07-28T23:12:23Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2016-07-28T23:12:23Z"}, "message": "re PR fortran/71067 (ICE on data initialization with insufficient value)\n\n2016-07-28  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/71067\n\t* decl.c (match_data_constant): On error, set 'result' to NULL.\n\n2016-07-28  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/71067\n\t* gfortran.dg/pr71067_1.f90: New test.\n\t* gfortran.dg/pr71067_2.f90: Ditto.\n\nFrom-SVN: r238842", "tree": {"sha": "8eac3a67d1d4a1346b76d8f17f86203ad7eee3e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8eac3a67d1d4a1346b76d8f17f86203ad7eee3e1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/89f1f37ea61d1eff9f01e9a580f44f1964500bc1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89f1f37ea61d1eff9f01e9a580f44f1964500bc1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89f1f37ea61d1eff9f01e9a580f44f1964500bc1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89f1f37ea61d1eff9f01e9a580f44f1964500bc1/comments", "author": null, "committer": null, "parents": [{"sha": "204ada0caa0a1ad2f0a534697bec67f9c26f292d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/204ada0caa0a1ad2f0a534697bec67f9c26f292d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/204ada0caa0a1ad2f0a534697bec67f9c26f292d"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "b9ca1065b18c104ff8222194c968d38d16d8a64c", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89f1f37ea61d1eff9f01e9a580f44f1964500bc1/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89f1f37ea61d1eff9f01e9a580f44f1964500bc1/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=89f1f37ea61d1eff9f01e9a580f44f1964500bc1", "patch": "@@ -1,3 +1,8 @@\n+2016-07-28  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/71067\n+\t* decl.c (match_data_constant): On error, set 'result' to NULL.\n+\n 2016-07-28  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/71799"}, {"sha": "cf750391ef1f6ca47ff4a1b3e300844f8071973d", "filename": "gcc/fortran/decl.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89f1f37ea61d1eff9f01e9a580f44f1964500bc1/gcc%2Ffortran%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89f1f37ea61d1eff9f01e9a580f44f1964500bc1/gcc%2Ffortran%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdecl.c?ref=89f1f37ea61d1eff9f01e9a580f44f1964500bc1", "patch": "@@ -395,6 +395,7 @@ match_data_constant (gfc_expr **result)\n     {\n       gfc_error (\"Symbol %qs must be a PARAMETER in DATA statement at %C\",\n \t\t name);\n+      *result = NULL;\n       return MATCH_ERROR;\n     }\n   else if (dt_sym && gfc_fl_struct (dt_sym->attr.flavor))"}, {"sha": "a588afecbef7790aedb2f7a345c7475d96bfe0fd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89f1f37ea61d1eff9f01e9a580f44f1964500bc1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89f1f37ea61d1eff9f01e9a580f44f1964500bc1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=89f1f37ea61d1eff9f01e9a580f44f1964500bc1", "patch": "@@ -1,3 +1,9 @@\n+2016-07-28  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/71067\n+\t* gfortran.dg/pr71067_1.f90: New test.\n+\t* gfortran.dg/pr71067_2.f90: Ditto.\n+\n 2016-07-28  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \t* gcc.target/powerpc/vec-extract-1.c: New test."}, {"sha": "76fbcfb470b6d5c1564f1f8bb672f155705a46fc", "filename": "gcc/testsuite/gfortran.dg/pr71067_1.f90", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89f1f37ea61d1eff9f01e9a580f44f1964500bc1/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr71067_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89f1f37ea61d1eff9f01e9a580f44f1964500bc1/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr71067_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr71067_1.f90?ref=89f1f37ea61d1eff9f01e9a580f44f1964500bc1", "patch": "@@ -0,0 +1,5 @@\n+program p\n+   integer :: i = 0\n+   integer :: z(2)\n+   data z /2*i/ ! { dg-error \"must be a PARAMETER in DATA\" }\n+end"}, {"sha": "6fac4c524cc79ab6523364ce673150f8ad79ca30", "filename": "gcc/testsuite/gfortran.dg/pr71067_2.f90", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89f1f37ea61d1eff9f01e9a580f44f1964500bc1/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr71067_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89f1f37ea61d1eff9f01e9a580f44f1964500bc1/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr71067_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr71067_2.f90?ref=89f1f37ea61d1eff9f01e9a580f44f1964500bc1", "patch": "@@ -0,0 +1,7 @@\n+! { dg-do compile }\n+program p\n+   integer :: a(2), b(2), c(2)\n+   data a /2*b1'/ ! { dg-error \"must be a PARAMETER in DATA\" }\n+   data b /2*o1'  ! { dg-error \"must be a PARAMETER in DATA\" }\n+   data c /2*z1   ! { dg-error \"must be a PARAMETER in DATA\" }\n+end"}]}