{"sha": "eeec38a804baee426e2ecb5b19a94422a24a041b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWVlYzM4YTgwNGJhZWU0MjZlMmVjYjViMTlhOTQ0MjJhMjRhMDQxYg==", "commit": {"author": {"name": "Franz Sirl", "email": "Franz.Sirl-kernel@lauterbach.com", "date": "2002-04-07T18:23:19Z"}, "committer": {"name": "Franz Sirl", "email": "sirl@gcc.gnu.org", "date": "2002-04-07T18:23:19Z"}, "message": "re PR rtl-optimization/6086 (Reload misoptimizes DImode PREINC on PPC)\n\n\t2002-04-07  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n\n\tPR optimization/6086\n\t* g++.dg/opt/preinc1.C: New test.\n\nFrom-SVN: r52001", "tree": {"sha": "7723c08b246dedf33968986f5d699d8f25372b5e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7723c08b246dedf33968986f5d699d8f25372b5e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eeec38a804baee426e2ecb5b19a94422a24a041b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eeec38a804baee426e2ecb5b19a94422a24a041b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eeec38a804baee426e2ecb5b19a94422a24a041b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eeec38a804baee426e2ecb5b19a94422a24a041b/comments", "author": {"login": "jinkama-san", "id": 1462162, "node_id": "MDQ6VXNlcjE0NjIxNjI=", "avatar_url": "https://avatars.githubusercontent.com/u/1462162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jinkama-san", "html_url": "https://github.com/jinkama-san", "followers_url": "https://api.github.com/users/jinkama-san/followers", "following_url": "https://api.github.com/users/jinkama-san/following{/other_user}", "gists_url": "https://api.github.com/users/jinkama-san/gists{/gist_id}", "starred_url": "https://api.github.com/users/jinkama-san/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jinkama-san/subscriptions", "organizations_url": "https://api.github.com/users/jinkama-san/orgs", "repos_url": "https://api.github.com/users/jinkama-san/repos", "events_url": "https://api.github.com/users/jinkama-san/events{/privacy}", "received_events_url": "https://api.github.com/users/jinkama-san/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0dccd146bad89577c353fbad71080bfd75c27f03", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0dccd146bad89577c353fbad71080bfd75c27f03", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0dccd146bad89577c353fbad71080bfd75c27f03"}], "stats": {"total": 64, "additions": 64, "deletions": 0}, "files": [{"sha": "b614d54f581481a0a1716e479dada5d757edc19f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eeec38a804baee426e2ecb5b19a94422a24a041b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eeec38a804baee426e2ecb5b19a94422a24a041b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=eeec38a804baee426e2ecb5b19a94422a24a041b", "patch": "@@ -1,3 +1,8 @@\n+2002-04-07  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n+\n+\tPR optimization/6086\n+\t* g++.dg/opt/preinc1.C: New test.\n+\n 2002-04-06  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/5571"}, {"sha": "89a0116b03547b23d7014d333638c90cc5f0b71b", "filename": "gcc/testsuite/g++.dg/opt/preinc1.C", "status": "added", "additions": 59, "deletions": 0, "changes": 59, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eeec38a804baee426e2ecb5b19a94422a24a041b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpreinc1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eeec38a804baee426e2ecb5b19a94422a24a041b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpreinc1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpreinc1.C?ref=eeec38a804baee426e2ecb5b19a94422a24a041b", "patch": "@@ -0,0 +1,59 @@\n+// PR optimization/6086\n+// { dg-do run }\n+// { dg-options \"-O\" }\n+ \n+extern \"C\" void abort (void);\n+\n+struct A\n+{\n+  A (int x, int y);\n+  int a, b;\n+  int foo () { return a; }\n+  int bar () { return b; }\n+};\n+\n+struct B\n+{\n+  virtual ~B ();\n+  virtual A baz () const;\n+};\n+\n+struct C\n+{\n+  A foo () const;\n+  B *c;\n+};\n+\n+A C::foo () const\n+{\n+  int x, y;\n+  x = c->baz ().foo ();\n+  y = c->baz ().bar ();\n+  return A (x, y);\n+}\n+\n+A B::baz () const\n+{\n+  return A (4, 8);\n+}\n+\n+A::A (int x, int y)\n+{\n+  a = x;\n+  b = y;\n+}\n+\n+B::~B ()\n+{\n+}\n+\n+int\n+main ()\n+{\n+  C the_c;\n+  B the_b;\n+  the_c.c = &the_b;\n+  if (the_c.foo().a != 4)\n+    abort ();\n+  return 0;\n+}"}]}