{"sha": "c4256b35bfb6a4395951053536300ca1725b0521", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzQyNTZiMzViZmI2YTQzOTU5NTEwNTM1MzYzMDBjYTE3MjViMDUyMQ==", "commit": {"author": {"name": "Janne Blomqvist", "email": "jb@gcc.gnu.org", "date": "2012-03-16T08:14:01Z"}, "committer": {"name": "Janne Blomqvist", "email": "jb@gcc.gnu.org", "date": "2012-03-16T08:14:01Z"}, "message": "Don't use BUILT_IN_IROUND for __float128.\n\n2012-03-16  Janne Blomqvist  <jb@gcc.gnu.org>\n\n       * trans-intrinsic.c (build_round_expr): Don't use BUILT_IN_IROUND\n       for __float128.\n\nFrom-SVN: r185453", "tree": {"sha": "41b18ecfc5a910dc93061ba90a661957c58439a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/41b18ecfc5a910dc93061ba90a661957c58439a6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c4256b35bfb6a4395951053536300ca1725b0521", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4256b35bfb6a4395951053536300ca1725b0521", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c4256b35bfb6a4395951053536300ca1725b0521", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4256b35bfb6a4395951053536300ca1725b0521/comments", "author": null, "committer": null, "parents": [{"sha": "b0743875533107580672c0786b91666c4f0d5108", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0743875533107580672c0786b91666c4f0d5108", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0743875533107580672c0786b91666c4f0d5108"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "bdc2d849ee868b2a1b77a1765025863669ede9a1", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4256b35bfb6a4395951053536300ca1725b0521/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4256b35bfb6a4395951053536300ca1725b0521/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=c4256b35bfb6a4395951053536300ca1725b0521", "patch": "@@ -1,3 +1,8 @@\n+2012-03-16  Janne Blomqvist  <jb@gcc.gnu.org>\n+\n+\t* trans-intrinsic.c (build_round_expr): Don't use BUILT_IN_IROUND\n+\tfor __float128.\n+\n 2012-03-15  Janne Blomqvist  <jb@gcc.gnu.org>\n \n \t* f95-lang.c (gfc_init_builtin_functions): Initialize"}, {"sha": "876eec5507688047e3839d9e0806af1bd235e492", "filename": "gcc/fortran/trans-intrinsic.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c4256b35bfb6a4395951053536300ca1725b0521/gcc%2Ffortran%2Ftrans-intrinsic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c4256b35bfb6a4395951053536300ca1725b0521/gcc%2Ffortran%2Ftrans-intrinsic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-intrinsic.c?ref=c4256b35bfb6a4395951053536300ca1725b0521", "patch": "@@ -383,10 +383,11 @@ build_round_expr (tree arg, tree restype)\n   resprec = TYPE_PRECISION (restype);\n \n   /* Depending on the type of the result, choose the int intrinsic\n-     (iround, available only as a builtin), long int intrinsic (lround\n-     family) or long long intrinsic (llround).  We might also need to\n-     convert the result afterwards.  */\n-  if (resprec <= INT_TYPE_SIZE)\n+     (iround, available only as a builtin, therefore cannot use it for\n+     __float128), long int intrinsic (lround family) or long long\n+     intrinsic (llround).  We might also need to convert the result\n+     afterwards.  */\n+  if (resprec <= INT_TYPE_SIZE && argprec <= LONG_DOUBLE_TYPE_SIZE)\n     fn = builtin_decl_for_precision (BUILT_IN_IROUND, argprec);\n   else if (resprec <= LONG_TYPE_SIZE)\n     fn = builtin_decl_for_precision (BUILT_IN_LROUND, argprec);"}]}