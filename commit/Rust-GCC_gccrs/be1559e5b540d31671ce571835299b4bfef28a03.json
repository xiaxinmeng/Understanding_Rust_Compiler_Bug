{"sha": "be1559e5b540d31671ce571835299b4bfef28a03", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmUxNTU5ZTViNTQwZDMxNjcxY2U1NzE4MzUyOTliNGJmZWYyOGEwMw==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-05-18T04:28:54Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-05-18T04:28:54Z"}, "message": "* call.c (build_over_call): Tweak empty class handling.\n\nFrom-SVN: r19833", "tree": {"sha": "37d13fbe531d22c658bfacccabf53eba4f0ed539", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/37d13fbe531d22c658bfacccabf53eba4f0ed539"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/be1559e5b540d31671ce571835299b4bfef28a03", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be1559e5b540d31671ce571835299b4bfef28a03", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be1559e5b540d31671ce571835299b4bfef28a03", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be1559e5b540d31671ce571835299b4bfef28a03/comments", "author": null, "committer": null, "parents": [{"sha": "b77ead33d324dd197b1d244be715044ed234d390", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b77ead33d324dd197b1d244be715044ed234d390", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b77ead33d324dd197b1d244be715044ed234d390"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "ef937012497558cb9100442a4fcde5171b8fff11", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be1559e5b540d31671ce571835299b4bfef28a03/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be1559e5b540d31671ce571835299b4bfef28a03/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=be1559e5b540d31671ce571835299b4bfef28a03", "patch": "@@ -1,5 +1,7 @@\n Mon May 18 03:00:57 1998  Jason Merrill  <jason@yorick.cygnus.com>\n \n+\t* call.c (build_over_call): Tweak empty class handling.\n+\n \t* decl.c (make_typename_type): Use currently_open_class.\n \n \t* class.c (instantiate_type): Don't abort on TREE_NONLOCAL_FLAG."}, {"sha": "82397a607b7c0d772fd57d5d89d854edf3b59d6c", "filename": "gcc/cp/call.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be1559e5b540d31671ce571835299b4bfef28a03/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be1559e5b540d31671ce571835299b4bfef28a03/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=be1559e5b540d31671ce571835299b4bfef28a03", "patch": "@@ -3394,8 +3394,10 @@ build_over_call (cand, args, flags)\n \t  /* Don't copy the padding byte; it might not have been allocated\n \t     if to is a base subobject.  */\n \t  if (is_empty_class (DECL_CLASS_CONTEXT (fn)))\n-\t    return build (COMPOUND_EXPR, TREE_TYPE (to),\n-\t\t\t  cp_convert (void_type_node, arg), to);\n+\t    return build_unary_op\n+\t      (ADDR_EXPR, build (COMPOUND_EXPR, TREE_TYPE (to),\n+\t\t\t\t cp_convert (void_type_node, arg), to),\n+\t       0);\n \n \t  val = build (INIT_EXPR, DECL_CONTEXT (fn), to, arg);\n \t  TREE_SIDE_EFFECTS (val) = 1;"}]}