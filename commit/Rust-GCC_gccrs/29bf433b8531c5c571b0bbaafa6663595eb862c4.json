{"sha": "29bf433b8531c5c571b0bbaafa6663595eb862c4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjliZjQzM2I4NTMxYzVjNTcxYjBiYmFhZmE2NjYzNTk1ZWI4NjJjNA==", "commit": {"author": {"name": "Mumit Khan", "email": "khan@xraylith.wisc.edu", "date": "1999-04-12T18:35:43Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-04-12T18:35:43Z"}, "message": "g77spec.c (lang_specific_driver): Check whether MATH_LIBRARY is null to decide whether to use it.\n\n        * g77spec.c (lang_specific_driver): Check whether MATH_LIBRARY is\n        null to decide whether to use it.\n\nFrom-SVN: r26383", "tree": {"sha": "91ce16a725939c811b87ddbc0b94d1d90c380ecc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/91ce16a725939c811b87ddbc0b94d1d90c380ecc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/29bf433b8531c5c571b0bbaafa6663595eb862c4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29bf433b8531c5c571b0bbaafa6663595eb862c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/29bf433b8531c5c571b0bbaafa6663595eb862c4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29bf433b8531c5c571b0bbaafa6663595eb862c4/comments", "author": null, "committer": null, "parents": [{"sha": "b3edebcf49f3a2f643de2697f6e78f2bb987d7f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3edebcf49f3a2f643de2697f6e78f2bb987d7f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3edebcf49f3a2f643de2697f6e78f2bb987d7f2"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "9d2f1342d6c21dd559f85ae732a11e8765354e2f", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29bf433b8531c5c571b0bbaafa6663595eb862c4/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29bf433b8531c5c571b0bbaafa6663595eb862c4/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=29bf433b8531c5c571b0bbaafa6663595eb862c4", "patch": "@@ -1,3 +1,8 @@\n+Sun Apr 11 21:33:33 1999  Mumit Khan  <khan@xraylith.wisc.edu>\n+\n+\t* g77spec.c (lang_specific_driver): Check whether MATH_LIBRARY is\n+\tnull to decide whether to use it.\n+\n Wed Apr  7 09:47:09 1999  Kaveh R. Ghazi  <ghazi@snafu.rutgers.edu>\n \n \t* ansify.c (die): Specify void argument."}, {"sha": "f1e85de6fce9086060ecd2b9e5c16fe5da31f700", "filename": "gcc/f/g77spec.c", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29bf433b8531c5c571b0bbaafa6663595eb862c4/gcc%2Ff%2Fg77spec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29bf433b8531c5c571b0bbaafa6663595eb862c4/gcc%2Ff%2Fg77spec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fg77spec.c?ref=29bf433b8531c5c571b0bbaafa6663595eb862c4", "patch": "@@ -286,6 +286,9 @@ lang_specific_driver (fn, in_argc, in_argv, in_added_libraries)\n      2 => last two args were -l<library> -lm.  */\n   int saw_library = 0;\n \n+  /* By default, we throw on the math library if we have one.  */\n+  int need_math = (MATH_LIBRARY[0] != '\\0');\n+\n   /* The number of input and output files in the incoming arg list.  */\n   int n_infiles = 0;\n   int n_outfiles = 0;\n@@ -466,7 +469,7 @@ Report bugs to <egcs-bugs@cygnus.org>.\\n\");\n \t{\n \t  /* Not a filename or library. */\n \n-\t  if (saw_library == 1)\t/* -l<library>. */\n+\t if (saw_library == 1 && need_math)    /* -l<library>. */\n \t    append_arg (MATH_LIBRARY);\n \n \t  saw_library = 0;\n@@ -521,7 +524,7 @@ Report bugs to <egcs-bugs@cygnus.org>.\\n\");\n \t    saw_library = 1;\t/* -l<library>. */\n \t  else\n \t    {\t\t/* Other library, or filename. */\n-\t      if (saw_library == 1)\n+\t     if (saw_library == 1 && need_math)\n \t\tappend_arg (MATH_LIBRARY);\n \t      saw_library = 0;\n \t    }\n@@ -541,7 +544,8 @@ Report bugs to <egcs-bugs@cygnus.org>.\\n\");\n \tcase 0:\n \t  append_arg (library);\n \tcase 1:\n-\t  append_arg (MATH_LIBRARY);\n+\t if (need_math)\n+\t   append_arg (MATH_LIBRARY);\n \tdefault:\n \t  break;\n \t}"}]}