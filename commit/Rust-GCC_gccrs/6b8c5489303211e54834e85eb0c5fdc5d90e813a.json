{"sha": "6b8c5489303211e54834e85eb0c5fdc5d90e813a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmI4YzU0ODkzMDMyMTFlNTQ4MzRlODVlYjBjNWZkYzVkOTBlODEzYQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2003-01-13T00:22:20Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2003-01-13T00:22:20Z"}, "message": "re PR libgcj/9139 (mauve tests require installation)\n\n\tFix for PR libgcj/9139:\n\t* lib/libjava.exp (find_javac): Put value of libgcj_jar into\n\treturn value when gcj is used.\n\t* libjava.mauve/mauve.exp (test_mauve): Use libgcj_jar global.\n\nFrom-SVN: r61237", "tree": {"sha": "931755ba538c10a80231b5e1d84c4c62fe325abd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/931755ba538c10a80231b5e1d84c4c62fe325abd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6b8c5489303211e54834e85eb0c5fdc5d90e813a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b8c5489303211e54834e85eb0c5fdc5d90e813a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b8c5489303211e54834e85eb0c5fdc5d90e813a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b8c5489303211e54834e85eb0c5fdc5d90e813a/comments", "author": null, "committer": null, "parents": [{"sha": "8fa1ad0e6a073ff581090e2eb9658af2b7fb873a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fa1ad0e6a073ff581090e2eb9658af2b7fb873a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8fa1ad0e6a073ff581090e2eb9658af2b7fb873a"}], "stats": {"total": 47, "additions": 27, "deletions": 20}, "files": [{"sha": "3dcc30e5045dab206bc04def0cbfe78e7fc5dc2f", "filename": "libjava/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b8c5489303211e54834e85eb0c5fdc5d90e813a/libjava%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b8c5489303211e54834e85eb0c5fdc5d90e813a/libjava%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FChangeLog?ref=6b8c5489303211e54834e85eb0c5fdc5d90e813a", "patch": "@@ -1,3 +1,10 @@\n+2003-01-12  Tom Tromey  <tromey@redhat.com>\n+\n+\tFix for PR libgcj/9139:\n+\t* lib/libjava.exp (find_javac): Put value of libgcj_jar into\n+\treturn value when gcj is used.\n+\t* libjava.mauve/mauve.exp (test_mauve): Use libgcj_jar global.\n+\n 2003-01-03  Tom Tromey  <tromey@redhat.com>\n \n \t* libjava.compile/pr8712.java: New file, for PR java/8712."}, {"sha": "9c8e664e67bd435167ff13ff84270752407f61b4", "filename": "libjava/testsuite/lib/libjava.exp", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b8c5489303211e54834e85eb0c5fdc5d90e813a/libjava%2Ftestsuite%2Flib%2Flibjava.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b8c5489303211e54834e85eb0c5fdc5d90e813a/libjava%2Ftestsuite%2Flib%2Flibjava.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flib%2Flibjava.exp?ref=6b8c5489303211e54834e85eb0c5fdc5d90e813a", "patch": "@@ -1,4 +1,4 @@\n-# Copyright (C) 1998, 1999, 2000, 2001, 2002 Free Software Foundation\n+# Copyright (C) 1998, 1999, 2000, 2001, 2002, 2003 Free Software Foundation\n \n load_lib \"libgloss.exp\"\n \n@@ -74,7 +74,7 @@ proc find_gcjh {} {\n }\n \n proc find_javac {} {\n-    global SUN_JAVAC GCJ_UNDER_TEST env\n+    global SUN_JAVAC GCJ_UNDER_TEST env libgcj_jar\n     # If JDK doesn't run on your platform but some other\n     # JDK-compatible javac does, you may set SUN_JAVAC to point to it.\n     # One of the most important properties of a SUN_JAVAC is that it\n@@ -87,7 +87,7 @@ proc find_javac {} {\n \tif {[info exists env(SUN_JAVAC)]} {\n \t    set SUN_JAVAC $env(SUN_JAVAC)\n \t} else {\n-\t    set SUN_JAVAC \"$GCJ_UNDER_TEST -C\"\n+\t    set SUN_JAVAC \"$GCJ_UNDER_TEST -C -I$libgcj_jar\"\n \t}\n     }\n     return $SUN_JAVAC"}, {"sha": "ce4b0cee9cb6d4f86778845bb93d416a9b05f37e", "filename": "libjava/testsuite/libjava.mauve/mauve.exp", "status": "modified", "additions": 17, "deletions": 17, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b8c5489303211e54834e85eb0c5fdc5d90e813a/libjava%2Ftestsuite%2Flibjava.mauve%2Fmauve.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b8c5489303211e54834e85eb0c5fdc5d90e813a/libjava%2Ftestsuite%2Flibjava.mauve%2Fmauve.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flibjava.mauve%2Fmauve.exp?ref=6b8c5489303211e54834e85eb0c5fdc5d90e813a", "patch": "@@ -1,4 +1,4 @@\n-# Copyright (C) 1998, 1999, 2000, 2001, 2002 Free Software Foundation.\n+# Copyright (C) 1998, 1999, 2000, 2001, 2002, 2003 Free Software Foundation.\n # Written by Tom Tromey <tromey@cygnus.com>.\n # Incorporate Mauve into libjava's DejaGNU test suite framework.\n \n@@ -86,25 +86,25 @@ proc test_mauve {} {\n   set full_srcdir [pwd]\n   cd $here/mauve-build\n \n-    global env\n-    global GCJ_UNDER_TEST\n-    global TOOL_EXECUTABLE\n+  global env libgcj_jar\n+  global GCJ_UNDER_TEST\n+  global TOOL_EXECUTABLE\n \n-    if ![info exists GCJ_UNDER_TEST] {\n-\tif [info exists TOOL_EXECUTABLE] {\n-\t    set GCJ_UNDER_TEST $TOOL_EXECUTABLE;\n-\t} else {\n-\t    if [info exists env(GCJ)] {\n-\t\tset GCJ_UNDER_TEST env(GCJ)\n-\t    } else {\n-\t\tset GCJ_UNDER_TEST \"[find_gcj]\"\n-\t    }\n-\t}\n+  if ![info exists GCJ_UNDER_TEST] {\n+    if [info exists TOOL_EXECUTABLE] {\n+      set GCJ_UNDER_TEST $TOOL_EXECUTABLE;\n+    } else {\n+      if [info exists env(GCJ)] {\n+\tset GCJ_UNDER_TEST env(GCJ)\n+      } else {\n+\tset GCJ_UNDER_TEST \"[find_gcj]\"\n+      }\n     }\n+  }\n \n-    # Append -B and -I so that libgcj.spec and libgcj.zip are found\n-    # before they're installed.\n-    set env(GCJ) \"$GCJ_UNDER_TEST -B$objdir/../ -I$objdir/../libgcj.jar\"\n+  # Append -B and -I so that libgcj.spec and libgcj.jar are found\n+  # before they're installed.\n+  set env(GCJ) \"$GCJ_UNDER_TEST -B$objdir/../ -I$libgcj_jar\"\n \n   if {[catch {\n     system \"$env(MAUVEDIR)/configure --with-gcj 2>&1\""}]}