{"sha": "06a16f58d6c14487c0598fe6f1c5cd68ba68301e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDZhMTZmNThkNmMxNDQ4N2MwNTk4ZmU2ZjFjNWNkNjhiYTY4MzAxZQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-04-07T15:16:34Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-04-07T15:16:34Z"}, "message": "[multiple changes]\n\n2009-04-07  Emmanuel Briot  <briot@adacore.com>\n\n\t* s-regexp.adb (Create_Mapping): Ignore excaped open parenthesis when\n\tlooking for the end of a parenthesis group\n\n2009-04-07  Tristan Gingold  <gingold@adacore.com>\n\n\t* gsocket.h Don't #include resolvLib.h if __RTP__ is defined.\n\n\t* socket.c Don't use resolvLib_ macros if not defined.\n\nFrom-SVN: r145680", "tree": {"sha": "685318c0693ad3631679e215c9ae5764d0035d01", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/685318c0693ad3631679e215c9ae5764d0035d01"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/06a16f58d6c14487c0598fe6f1c5cd68ba68301e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06a16f58d6c14487c0598fe6f1c5cd68ba68301e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06a16f58d6c14487c0598fe6f1c5cd68ba68301e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06a16f58d6c14487c0598fe6f1c5cd68ba68301e/comments", "author": null, "committer": null, "parents": [{"sha": "df46b832b04ae500284492241a71854b434aec37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df46b832b04ae500284492241a71854b434aec37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df46b832b04ae500284492241a71854b434aec37"}], "stats": {"total": 35, "additions": 33, "deletions": 2}, "files": [{"sha": "d65d5983b7695707af58164691a1000830b60d1f", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06a16f58d6c14487c0598fe6f1c5cd68ba68301e/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06a16f58d6c14487c0598fe6f1c5cd68ba68301e/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=06a16f58d6c14487c0598fe6f1c5cd68ba68301e", "patch": "@@ -1,3 +1,14 @@\n+2009-04-07  Emmanuel Briot  <briot@adacore.com>\n+\n+\t* s-regexp.adb (Create_Mapping): Ignore excaped open parenthesis when\n+\tlooking for the end of a parenthesis group\n+\n+2009-04-07  Tristan Gingold  <gingold@adacore.com>\n+\n+\t* gsocket.h Don't #include resolvLib.h if __RTP__ is defined.\n+\n+\t* socket.c Don't use resolvLib_ macros if not defined.\n+\n 2009-04-07  Robert Dewar  <dewar@adacore.com>\n \n \t* g-socket.adb: Minor reformatting."}, {"sha": "5d866e07ca89387f792fc748d2a165cf3092261f", "filename": "gcc/ada/gsocket.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06a16f58d6c14487c0598fe6f1c5cd68ba68301e/gcc%2Fada%2Fgsocket.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06a16f58d6c14487c0598fe6f1c5cd68ba68301e/gcc%2Fada%2Fgsocket.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgsocket.h?ref=06a16f58d6c14487c0598fe6f1c5cd68ba68301e", "patch": "@@ -66,7 +66,9 @@\n #include <vxWorks.h>\n #include <ioLib.h>\n #include <hostLib.h>\n+#ifndef __RTP__\n #include <resolvLib.h>\n+#endif\n #define SHUT_RD\t\t0\n #define SHUT_WR\t\t1\n #define SHUT_RDWR\t2"}, {"sha": "37c189ab6f1a919de993d3a3c4b5e4dcbcda5f46", "filename": "gcc/ada/s-regexp.adb", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06a16f58d6c14487c0598fe6f1c5cd68ba68301e/gcc%2Fada%2Fs-regexp.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06a16f58d6c14487c0598fe6f1c5cd68ba68301e/gcc%2Fada%2Fs-regexp.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-regexp.adb?ref=06a16f58d6c14487c0598fe6f1c5cd68ba68301e", "patch": "@@ -32,7 +32,6 @@\n ------------------------------------------------------------------------------\n \n with Ada.Unchecked_Deallocation;\n---  with Ada.Exceptions;\n \n with System.Case_Util;\n \n@@ -205,6 +204,7 @@ package body System.Regexp is\n          J                 : Integer := S'First;\n          Parenthesis_Level : Integer := 0;\n          Curly_Level       : Integer := 0;\n+         Last_Open         : Integer := S'First - 1;\n \n       --  Start of processing for Create_Mapping\n \n@@ -282,6 +282,7 @@ package body System.Regexp is\n                when Open_Paren =>\n                   if not Glob then\n                      Parenthesis_Level := Parenthesis_Level + 1;\n+                     Last_Open := J;\n                   else\n                      Add_In_Map (Open_Paren);\n                   end if;\n@@ -296,7 +297,7 @@ package body System.Regexp is\n                            & \"expression\", J);\n                      end if;\n \n-                     if S (J - 1) = Open_Paren then\n+                     if J = Last_Open + 1 then\n                         Raise_Exception\n                           (\"Empty parenthesis not allowed in regular \"\n                            & \"expression\", J);"}, {"sha": "86d054f9c8c4317fa0027e70090a153a7d554b40", "filename": "gcc/ada/socket.c", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06a16f58d6c14487c0598fe6f1c5cd68ba68301e/gcc%2Fada%2Fsocket.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06a16f58d6c14487c0598fe6f1c5cd68ba68301e/gcc%2Fada%2Fsocket.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsocket.c?ref=06a16f58d6c14487c0598fe6f1c5cd68ba68301e", "patch": "@@ -352,22 +352,39 @@ __gnat_get_h_errno (void) {\n     case 0:\n       return 0;\n \n+#ifdef S_resolvLib_HOST_NOT_FOUND\n     case S_resolvLib_HOST_NOT_FOUND:\n+#endif\n     case S_hostLib_UNKNOWN_HOST:\n+    case S_hostLib_HOST_NOT_FOUND:\n       return HOST_NOT_FOUND;\n \n+#ifdef S_resolvLib_TRY_AGAIN\n     case S_resolvLib_TRY_AGAIN:\n+#endif\n+    case S_hostLib_TRY_AGAIN:\n       return TRY_AGAIN;\n \n+#ifdef S_resolvLib_NO_RECOVERY\n     case S_resolvLib_NO_RECOVERY:\n+#endif\n+#ifdef S_resolvLib_BUFFER_2_SMALL\n     case S_resolvLib_BUFFER_2_SMALL:\n+#endif\n+#ifdef S_resolvLib_INVALID_PARAMETER\n     case S_resolvLib_INVALID_PARAMETER:\n+#endif\n+#ifdef S_resolvLib_INVALID_ADDRESS\n     case S_resolvLib_INVALID_ADDRESS:\n+#endif\n     case S_hostLib_INVALID_PARAMETER:\n+    case S_hostLib_NO_RECOVERY:\n       return NO_RECOVERY;\n \n+#ifdef S_resolvLib_NO_DATA\n     case S_resolvLib_NO_DATA:\n       return NO_DATA;\n+#endif\n \n     default:\n       return -1;"}]}