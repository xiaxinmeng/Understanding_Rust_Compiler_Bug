{"sha": "4b847da9ca10712f26b8d7c3e94fcde438964673", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGI4NDdkYTljYTEwNzEyZjI2YjhkN2MzZTk0ZmNkZTQzODk2NDY3Mw==", "commit": {"author": {"name": "Bill Schmidt", "email": "wschmidt@linux.vnet.ibm.com", "date": "2013-05-29T16:00:54Z"}, "committer": {"name": "William Schmidt", "email": "wschmidt@gcc.gnu.org", "date": "2013-05-29T16:00:54Z"}, "message": "re PR tree-optimization/57441 (ICE in gimple-ssa-strength-reduction.c:3447 at -O3)\n\n2013-05-29  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n\n\tPR tree-optimization/57441\n\t* gimple-ssa-strength-reduction.c (analyze_candidates_and_replace):\n\tDon't limit size of incr_vec to number of candidates.\n\n2013-05-29  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n\n\tPR tree-optimization/57441\n\t* gcc.c-torture/compile/pr57441.c: New.\n\nFrom-SVN: r199414", "tree": {"sha": "05dfc0467862e73843060fd723ee1e2a21c97948", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/05dfc0467862e73843060fd723ee1e2a21c97948"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4b847da9ca10712f26b8d7c3e94fcde438964673", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b847da9ca10712f26b8d7c3e94fcde438964673", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4b847da9ca10712f26b8d7c3e94fcde438964673", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b847da9ca10712f26b8d7c3e94fcde438964673/comments", "author": {"login": "wschmidt-ibm", "id": 5520937, "node_id": "MDQ6VXNlcjU1MjA5Mzc=", "avatar_url": "https://avatars.githubusercontent.com/u/5520937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wschmidt-ibm", "html_url": "https://github.com/wschmidt-ibm", "followers_url": "https://api.github.com/users/wschmidt-ibm/followers", "following_url": "https://api.github.com/users/wschmidt-ibm/following{/other_user}", "gists_url": "https://api.github.com/users/wschmidt-ibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/wschmidt-ibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wschmidt-ibm/subscriptions", "organizations_url": "https://api.github.com/users/wschmidt-ibm/orgs", "repos_url": "https://api.github.com/users/wschmidt-ibm/repos", "events_url": "https://api.github.com/users/wschmidt-ibm/events{/privacy}", "received_events_url": "https://api.github.com/users/wschmidt-ibm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0154ea95a161cc21b0d24367e983f281fc244633", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0154ea95a161cc21b0d24367e983f281fc244633", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0154ea95a161cc21b0d24367e983f281fc244633"}], "stats": {"total": 45, "additions": 39, "deletions": 6}, "files": [{"sha": "1307e736386b93333cfd31be58bfd6af3962ed93", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b847da9ca10712f26b8d7c3e94fcde438964673/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b847da9ca10712f26b8d7c3e94fcde438964673/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4b847da9ca10712f26b8d7c3e94fcde438964673", "patch": "@@ -1,3 +1,9 @@\n+2013-05-29  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n+\n+\tPR tree-optimization/57441\n+\t* gimple-ssa-strength-reduction.c (analyze_candidates_and_replace):\n+\tDon't limit size of incr_vec to number of candidates.\n+\n 2013-05-29  Steve Ellcey  <sellcey@imgtec.com>\n \n \t* config/mips/mti-linux.h (SYSROOT_SUFFIX_SPEC): Add micromips"}, {"sha": "9a53bf7c3397c2576c7e151dbb738cd244e2d442", "filename": "gcc/gimple-ssa-strength-reduction.c", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b847da9ca10712f26b8d7c3e94fcde438964673/gcc%2Fgimple-ssa-strength-reduction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b847da9ca10712f26b8d7c3e94fcde438964673/gcc%2Fgimple-ssa-strength-reduction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-ssa-strength-reduction.c?ref=4b847da9ca10712f26b8d7c3e94fcde438964673", "patch": "@@ -3361,7 +3361,6 @@ analyze_candidates_and_replace (void)\n \t less expensive to calculate than the replaced statements.  */\n       else\n \t{\n-\t  int length;\n \t  enum machine_mode mode;\n \t  bool speed;\n \n@@ -3372,14 +3371,11 @@ analyze_candidates_and_replace (void)\n \n \t  /* If all candidates have already been replaced under other\n \t     interpretations, nothing remains to be done.  */\n-\t  length = count_candidates (c);\n-\t  if (!length)\n+\t  if (!count_candidates (c))\n \t    continue;\n-\t  if (length > MAX_INCR_VEC_LEN)\n-\t    length = MAX_INCR_VEC_LEN;\n \n \t  /* Construct an array of increments for this candidate chain.  */\n-\t  incr_vec = XNEWVEC (incr_info, length);\n+\t  incr_vec = XNEWVEC (incr_info, MAX_INCR_VEC_LEN);\n \t  incr_vec_len = 0;\n \t  record_increments (c);\n "}, {"sha": "4aedfc94fb7507f5d421317fae895dff682b7b73", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b847da9ca10712f26b8d7c3e94fcde438964673/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b847da9ca10712f26b8d7c3e94fcde438964673/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4b847da9ca10712f26b8d7c3e94fcde438964673", "patch": "@@ -1,3 +1,8 @@\n+2013-05-29  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n+\n+\tPR tree-optimization/57441\n+\t* gcc.c-torture/compile/pr57441.c: New.\n+\n 2013-05-29  Dehao Chen  <dehao@google.com>\n \n \tPR testsuite/57413"}, {"sha": "e357c100518bfb6d274f6ea78e98f1846a03342d", "filename": "gcc/testsuite/gcc.c-torture/compile/pr57441.c", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b847da9ca10712f26b8d7c3e94fcde438964673/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr57441.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b847da9ca10712f26b8d7c3e94fcde438964673/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr57441.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr57441.c?ref=4b847da9ca10712f26b8d7c3e94fcde438964673", "patch": "@@ -0,0 +1,26 @@\n+/* PR tree-optimization/57441 */\n+\n+int a, c, d, *e;\n+unsigned char b;\n+\n+char\n+baz (char p1)\n+{\n+    return p1 * a;\n+}\n+\n+void func_65 ();\n+func_1 ()\n+{\n+    func_65 ();\n+    func_65 ();\n+}\n+\n+void\n+func_65 ()\n+{\n+    d = baz (b--);\n+    if (*e)\n+        b--;\n+    c = 0;\n+}"}]}