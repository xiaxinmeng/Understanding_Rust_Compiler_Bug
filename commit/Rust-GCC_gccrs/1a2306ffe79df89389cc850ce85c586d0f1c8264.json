{"sha": "1a2306ffe79df89389cc850ce85c586d0f1c8264", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWEyMzA2ZmZlNzlkZjg5Mzg5Y2M4NTBjZTg1YzU4NmQwZjFjODI2NA==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2021-07-26T13:24:12Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2021-07-28T11:13:05Z"}, "message": "d: __FUNCTION__ doesn't work in core.stdc.stdio functions without cast (PR101441)\n\nBackports fix from upstream to allow __FUNCTION__ and\n__PRETTY_FUNCTION__ to be used as C string literals.\n\nReviewed-on: https://github.com/dlang/dmd/pull/12923\n\n\tPR d/101441\n\ngcc/d/ChangeLog:\n\n\t* dmd/MERGE: Merge upstream dmd f8c1ca928.", "tree": {"sha": "c8d07586450afdd859cf8f8ae6c71eda45da2675", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c8d07586450afdd859cf8f8ae6c71eda45da2675"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1a2306ffe79df89389cc850ce85c586d0f1c8264", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a2306ffe79df89389cc850ce85c586d0f1c8264", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a2306ffe79df89389cc850ce85c586d0f1c8264", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a2306ffe79df89389cc850ce85c586d0f1c8264/comments", "author": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b2f6e1de242fff5713763cd3146dcf3f9dee51ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2f6e1de242fff5713763cd3146dcf3f9dee51ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2f6e1de242fff5713763cd3146dcf3f9dee51ca"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "08bd50df212db2ca38641287d3e4dca7733d8152", "filename": "gcc/d/dmd/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a2306ffe79df89389cc850ce85c586d0f1c8264/gcc%2Fd%2Fdmd%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a2306ffe79df89389cc850ce85c586d0f1c8264/gcc%2Fd%2Fdmd%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fd%2Fdmd%2FMERGE?ref=1a2306ffe79df89389cc850ce85c586d0f1c8264", "patch": "@@ -1,4 +1,4 @@\n-1d8386a63d412c9e77728b0b965025ac4dd40b75\n+f8c1ca928360dd8c9f2fbb5771e2a5e398878ca0\n \n The first line of this file holds the git revision number of the last\n merge done from the dlang/dmd repository."}, {"sha": "18aa6aa9ab4300a45e846ee88d37f4eb5c548b8a", "filename": "gcc/d/dmd/expression.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a2306ffe79df89389cc850ce85c586d0f1c8264/gcc%2Fd%2Fdmd%2Fexpression.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a2306ffe79df89389cc850ce85c586d0f1c8264/gcc%2Fd%2Fdmd%2Fexpression.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fd%2Fdmd%2Fexpression.c?ref=1a2306ffe79df89389cc850ce85c586d0f1c8264", "patch": "@@ -5620,7 +5620,7 @@ Expression *FuncInitExp::resolveLoc(Loc loc, Scope *sc)\n         s = \"\";\n     Expression *e = new StringExp(loc, const_cast<char *>(s));\n     e = expressionSemantic(e, sc);\n-    e = e->castTo(sc, type);\n+    e->type = Type::tstring;\n     return e;\n }\n \n@@ -5654,7 +5654,7 @@ Expression *PrettyFuncInitExp::resolveLoc(Loc loc, Scope *sc)\n \n     Expression *e = new StringExp(loc, const_cast<char *>(s));\n     e = expressionSemantic(e, sc);\n-    e = e->castTo(sc, type);\n+    e->type = Type::tstring;\n     return e;\n }\n "}, {"sha": "fd8e6d18b37fb734c1decee1f896359ccf93ba6a", "filename": "gcc/testsuite/gdc.test/compilable/b19002.d", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a2306ffe79df89389cc850ce85c586d0f1c8264/gcc%2Ftestsuite%2Fgdc.test%2Fcompilable%2Fb19002.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a2306ffe79df89389cc850ce85c586d0f1c8264/gcc%2Ftestsuite%2Fgdc.test%2Fcompilable%2Fb19002.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgdc.test%2Fcompilable%2Fb19002.d?ref=1a2306ffe79df89389cc850ce85c586d0f1c8264", "patch": "@@ -0,0 +1,12 @@\n+module b19002;\n+\n+void printf(scope const char* format){}\n+\n+void main()\n+{\n+    printf(__FILE__);\n+    printf(__FILE_FULL_PATH__);\n+    printf(__FUNCTION__);\n+    printf(__PRETTY_FUNCTION__);\n+    printf(__MODULE__);\n+}"}]}