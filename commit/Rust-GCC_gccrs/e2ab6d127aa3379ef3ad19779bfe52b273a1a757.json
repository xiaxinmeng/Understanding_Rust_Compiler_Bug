{"sha": "e2ab6d127aa3379ef3ad19779bfe52b273a1a757", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTJhYjZkMTI3YWEzMzc5ZWYzYWQxOTc3OWJmZTUyYjI3M2ExYTc1Nw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2004-08-31T09:50:40Z"}, "committer": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2004-08-31T09:50:40Z"}, "message": "AttributedString.java (AttributedString): Use ArrayList to build array of attribute ranges.\n\n2004-08-31  Tom Tromey  <tromey@redhat.com>\n\n\t* java/text/AttributedString.java (AttributedString): Use\n\tArrayList to build array of attribute ranges.  Don't use\n\t`attribs' before it is set.\n\nFrom-SVN: r86825", "tree": {"sha": "932905a0edb65eb0f9f8b0778733087b34517924", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/932905a0edb65eb0f9f8b0778733087b34517924"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e2ab6d127aa3379ef3ad19779bfe52b273a1a757", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2ab6d127aa3379ef3ad19779bfe52b273a1a757", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2ab6d127aa3379ef3ad19779bfe52b273a1a757", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2ab6d127aa3379ef3ad19779bfe52b273a1a757/comments", "author": null, "committer": null, "parents": [{"sha": "71b5d516bc6cd5fc865ac560e4bea70607207272", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71b5d516bc6cd5fc865ac560e4bea70607207272", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71b5d516bc6cd5fc865ac560e4bea70607207272"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "9cf9a202c1b5742019690d026bb02a8874784716", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2ab6d127aa3379ef3ad19779bfe52b273a1a757/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2ab6d127aa3379ef3ad19779bfe52b273a1a757/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=e2ab6d127aa3379ef3ad19779bfe52b273a1a757", "patch": "@@ -1,3 +1,9 @@\n+2004-08-31  Tom Tromey  <tromey@redhat.com>\n+\n+\t* java/text/AttributedString.java (AttributedString): Use\n+\tArrayList to build array of attribute ranges.  Don't use\n+\t`attribs' before it is set.\n+\n 2004-08-30  Andreas Tobler  <a.tobler@schweiz.ch>\n \n \t* HACKING: Remove reference to special automake. No longer needed."}, {"sha": "41512dc6c5e62e29ace0464a3ec8c9e1d6784316", "filename": "libjava/java/text/AttributedString.java", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2ab6d127aa3379ef3ad19779bfe52b273a1a757/libjava%2Fjava%2Ftext%2FAttributedString.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2ab6d127aa3379ef3ad19779bfe52b273a1a757/libjava%2Fjava%2Ftext%2FAttributedString.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Ftext%2FAttributedString.java?ref=e2ab6d127aa3379ef3ad19779bfe52b273a1a757", "patch": "@@ -39,6 +39,7 @@\n package java.text;\n \n import java.util.Arrays;\n+import java.util.ArrayList;\n import java.util.HashMap;\n import java.util.Hashtable;\n import java.util.Iterator;\n@@ -224,6 +225,7 @@\n   // Loop through and extract the attributes\n   char c = aci.setIndex(begin_index);\n \n+  ArrayList accum = new ArrayList();\n   do\n     { \n       sb.append(c);\n@@ -272,17 +274,17 @@\n           Map new_map = new Hashtable();\n           new_map.put(attrib, attrib_obj);\n \n-          // Add it to the attribute list.  Yes this is a bad way to do things.\n-          AttributeRange[] new_list = new AttributeRange[attribs.length + 1];\n-          System.arraycopy(attribs, 0, new_list, 0, attribs.length);\n-          attribs = new_list;\n-          attribs[attribs.length - 1] = new AttributeRange(new_map, rs, rl);\n+          // Add it to the attribute list.\n+\t  accum.add(new AttributeRange(new_map, rs, rl));\n         }\n \n       c = aci.next();\n     }\n   while(c != CharacterIterator.DONE);\n \n+  attribs = new AttributeRange[accum.size()];\n+  attribs = (AttributeRange[]) accum.toArray(attribs);\n+\n   sci = new StringCharacterIterator(sb.toString());\n }\n "}]}