{"sha": "96b3132853e3472887baa8769eb7338c522c7761", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTZiMzEzMjg1M2UzNDcyODg3YmFhODc2OWViNzMzOGM1MjJjNzc2MQ==", "commit": {"author": {"name": "Martin Sebor", "email": "msebor@redhat.com", "date": "2018-02-15T22:28:23Z"}, "committer": {"name": "Martin Sebor", "email": "msebor@gcc.gnu.org", "date": "2018-02-15T22:28:23Z"}, "message": "README (dg-lto-warning, [...]): Document new directives.\n\n\ngcc/testsuite/ChangeLog:\n\n\t* gcc.dg/lto/README (dg-lto-warning, dg-lto-message): Document new\n\tdirectives.\n\nFrom-SVN: r257714", "tree": {"sha": "767db40a137e19281265e364df9e7c6d8d2063c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/767db40a137e19281265e364df9e7c6d8d2063c3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/96b3132853e3472887baa8769eb7338c522c7761", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96b3132853e3472887baa8769eb7338c522c7761", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96b3132853e3472887baa8769eb7338c522c7761", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96b3132853e3472887baa8769eb7338c522c7761/comments", "author": {"login": "msebor", "id": 381149, "node_id": "MDQ6VXNlcjM4MTE0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/381149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msebor", "html_url": "https://github.com/msebor", "followers_url": "https://api.github.com/users/msebor/followers", "following_url": "https://api.github.com/users/msebor/following{/other_user}", "gists_url": "https://api.github.com/users/msebor/gists{/gist_id}", "starred_url": "https://api.github.com/users/msebor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msebor/subscriptions", "organizations_url": "https://api.github.com/users/msebor/orgs", "repos_url": "https://api.github.com/users/msebor/repos", "events_url": "https://api.github.com/users/msebor/events{/privacy}", "received_events_url": "https://api.github.com/users/msebor/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "dd39c7d1cbdd55657b7ef773f6fa743dcc328670", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd39c7d1cbdd55657b7ef773f6fa743dcc328670", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd39c7d1cbdd55657b7ef773f6fa743dcc328670"}], "stats": {"total": 29, "additions": 26, "deletions": 3}, "files": [{"sha": "11da4b2caff917f445fbdefe26768b94ef24e96f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96b3132853e3472887baa8769eb7338c522c7761/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96b3132853e3472887baa8769eb7338c522c7761/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=96b3132853e3472887baa8769eb7338c522c7761", "patch": "@@ -1,3 +1,8 @@\n+2018-02-15  Martin Sebor  <msebor@redhat.com>\n+\n+\t* gcc.dg/lto/README (dg-lto-warning, dg-lto-message): Document new\n+\tdirectives.\t\n+\n 2018-02-15  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/84409"}, {"sha": "6777c15766a3530cf2ad8cbf33e4e53b5c037fb9", "filename": "gcc/testsuite/gcc.dg/lto/README", "status": "modified", "additions": 21, "deletions": 3, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96b3132853e3472887baa8769eb7338c522c7761/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2FREADME", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96b3132853e3472887baa8769eb7338c522c7761/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2FREADME", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2FREADME?ref=96b3132853e3472887baa8769eb7338c522c7761", "patch": "@@ -1,4 +1,20 @@\n This directory contains tests for link-time optimization (LTO).\n+\n+=== Directives ===\n+\n+The LTO harness recognizes the following special DejaGnu directives:\n+ *  dg-lto-do - the equivalent of dg-do with a limited set of supported\n+      arguments (see below),\n+ *  dg-lto-options - the equivalent of dg-options with additional syntax\n+      to support different sets of options for different files compiled\n+      as part of the same test case,\n+ *  dg-lto-warning - the equivalent of dg-warning for diagnostics expected\n+      to be emitted at LTO link time,\n+ *  dg-lto-message - the equivakent of dg-message for informational notes\n+      expected to be emitted at LTO link time.\n+\n+=== Test Names ===\n+\n Tests in this directory may span multiple files, so the naming of\n the files is significant.\n \n@@ -9,8 +25,8 @@ executable.\n \n By default, each set of files will be compiled with list of\n options listed in LTO_OPTIONS (../../lib/lto.exp), which can be\n-overwritten in the shell environment or using the 'dg-lto-options'\n-command in the main file of the set (i.e., the file with _0\n+overridden in the shell environment or using the 'dg-lto-options'\n+directive in the main file of the set (i.e., the file with _0\n suffix).\n \n For example, given the files a_0.C a_1.C a_2.C, they will be\n@@ -24,7 +40,9 @@ $ g++ -o <executable> a_0.o a_1.o a_2.o\n Tests that do not need more than one file are a special case\n where there is a single file named 'foo_0.C'.\n \n-The only supported dg-lto-do option are 'assemble', 'run' and 'link'.\n+=== The dg-lto-do Directive ==\n+\n+The only supported dg-lto-do options are 'assemble', 'run' and 'link'.\n Additionally, these can only be used in the main file.  If\n 'assemble' is used, only the individual object files are\n generated.  If 'link' is used, the final executable is generated"}]}