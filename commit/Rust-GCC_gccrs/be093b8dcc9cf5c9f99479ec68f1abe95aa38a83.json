{"sha": "be093b8dcc9cf5c9f99479ec68f1abe95aa38a83", "node_id": "C_kwDOANBUbNoAKGJlMDkzYjhkY2M5Y2Y1YzlmOTk0NzllYzY4ZjFhYmU5NWFhMzhhODM", "commit": {"author": {"name": "Marcel Vollweiler", "email": "marcel@codesourcery.com", "date": "2022-03-16T14:38:54Z"}, "committer": {"name": "Marcel Vollweiler", "email": "marcel@codesourcery.com", "date": "2022-03-16T14:38:54Z"}, "message": "OpenMP, Fortran: Bugfix for omp_set_num_teams.\n\nThis patch fixes a small bug in the omp_set_num_teams implementation.\n\nlibgomp/ChangeLog:\n\n\t* fortran.c (omp_set_num_teams_8_): Call omp_set_num_teams instead of\n\tomp_set_max_active_levels.\n\t* testsuite/libgomp.fortran/icv-8.f90: New test.", "tree": {"sha": "b400884c103b398c5ce2cf6adb0eae08c14b9e6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b400884c103b398c5ce2cf6adb0eae08c14b9e6c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/be093b8dcc9cf5c9f99479ec68f1abe95aa38a83", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be093b8dcc9cf5c9f99479ec68f1abe95aa38a83", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be093b8dcc9cf5c9f99479ec68f1abe95aa38a83", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be093b8dcc9cf5c9f99479ec68f1abe95aa38a83/comments", "author": null, "committer": null, "parents": [{"sha": "3117ffce4c1598a35e724138735b099262353358", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3117ffce4c1598a35e724138735b099262353358", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3117ffce4c1598a35e724138735b099262353358"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "d984ce5c6f88f34709a8795a581d2f2a82483f33", "filename": "libgomp/fortran.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be093b8dcc9cf5c9f99479ec68f1abe95aa38a83/libgomp%2Ffortran.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be093b8dcc9cf5c9f99479ec68f1abe95aa38a83/libgomp%2Ffortran.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ffortran.c?ref=be093b8dcc9cf5c9f99479ec68f1abe95aa38a83", "patch": "@@ -491,7 +491,7 @@ omp_set_num_teams_ (const int32_t *num_teams)\n void\n omp_set_num_teams_8_ (const int64_t *num_teams)\n {\n-  omp_set_max_active_levels (TO_INT (*num_teams));\n+  omp_set_num_teams (TO_INT (*num_teams));\n }\n \n int32_t"}, {"sha": "9478c15859601d15d5365774b8004e0083197715", "filename": "libgomp/testsuite/libgomp.fortran/icv-8.f90", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/be093b8dcc9cf5c9f99479ec68f1abe95aa38a83/libgomp%2Ftestsuite%2Flibgomp.fortran%2Ficv-8.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/be093b8dcc9cf5c9f99479ec68f1abe95aa38a83/libgomp%2Ftestsuite%2Flibgomp.fortran%2Ficv-8.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Ficv-8.f90?ref=be093b8dcc9cf5c9f99479ec68f1abe95aa38a83", "patch": "@@ -0,0 +1,10 @@\n+! This tests 'set_num_teams_8' function.\n+\n+program set_num_teams_8\n+  use omp_lib\n+  use, intrinsic :: iso_fortran_env\n+  integer(int64) :: x\n+  x = 42\n+  call omp_set_num_teams (x)\n+  if (omp_get_max_teams () .ne. 42) stop 1\n+end program"}]}