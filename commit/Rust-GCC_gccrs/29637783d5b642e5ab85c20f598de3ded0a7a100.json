{"sha": "29637783d5b642e5ab85c20f598de3ded0a7a100", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjk2Mzc3ODNkNWI2NDJlNWFiODVjMjBmNTk4ZGUzZGVkMGE3YTEwMA==", "commit": {"author": {"name": "Greta Yorsh", "email": "greta.yorsh@arm.com", "date": "2013-01-29T18:34:12Z"}, "committer": {"name": "Greta Yorsh", "email": "gretay@gcc.gnu.org", "date": "2013-01-29T18:34:12Z"}, "message": "arm.md (type): Add ffmas and ffmad to \"type\" attribute.\n\n2013-01-29  Greta Yorsh  <Greta.Yorsh@arm.com>\n\n        * config/arm/arm.md (type): Add ffmas and ffmad to \"type\" attribute.\n        * config/arm/vfp.md (fma,fmsub,fnmsub,fnmadd): Change type\n        from fmac to ffma.\n        * config/arm/vfp11.md (vfp_farith): Use ffmas.\n        (vfp_fmul): Use ffmad.\n        * config/arm/cortex-r4f.md (cortex_r4_fmacs): Use ffmas.\n        (cortex_r4_fmacd): Use ffmad.\n        * config/arm/cortex-m4-fpu.md (cortex_m4_fmacs): Use ffmas.\n        * config/arm/cortex-a9.md (cortex_a9_fmacs):  Use ffmas.\n        (cortex_a9_fmacd): Use ffmad.\n        * config/arm/cortex-a8-neon.md (cortex_a8_vfp_macs): Use ffmas.\n        (cortex_a8_vfp_macd): Use ffmad.\n        * config/arm/cortex-a5.md (cortex_a5_fpmacs): Use ffmas.\n        (cortex_a5_fpmacd): Use ffmad.\n        * config/arm/cortex-a15-neon.md (cortex_a15_vfp_macs) Use ffmas.\n        (cortex_a15_vfp_macd): Use ffmad.\n        * config/arm/arm1020e.md (v10_fmul): Use ffmas and ffmad.\n\nFrom-SVN: r195551", "tree": {"sha": "04e5d0a4453b5c383943158b60fda4d604f7874a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/04e5d0a4453b5c383943158b60fda4d604f7874a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/29637783d5b642e5ab85c20f598de3ded0a7a100", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29637783d5b642e5ab85c20f598de3ded0a7a100", "html_url": "https://github.com/Rust-GCC/gccrs/commit/29637783d5b642e5ab85c20f598de3ded0a7a100", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29637783d5b642e5ab85c20f598de3ded0a7a100/comments", "author": null, "committer": null, "parents": [{"sha": "2ee8a2d5ceea8470777bcc0f068af42ce174ea1f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ee8a2d5ceea8470777bcc0f068af42ce174ea1f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ee8a2d5ceea8470777bcc0f068af42ce174ea1f"}], "stats": {"total": 62, "additions": 43, "deletions": 19}, "files": [{"sha": "8a49fd889a1ed31f655dc5fa2cf8bdd31cfe9bd0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=29637783d5b642e5ab85c20f598de3ded0a7a100", "patch": "@@ -1,3 +1,23 @@\n+2013-01-29  Greta Yorsh  <Greta.Yorsh@arm.com>\n+\n+        * config/arm/arm.md (type): Add ffmas and ffmad to \"type\" attribute.\n+        * config/arm/vfp.md (fma,fmsub,fnmsub,fnmadd): Change type\n+        from fmac to ffma.\n+        * config/arm/vfp11.md (vfp_farith): Use ffmas.\n+        (vfp_fmul): Use ffmad.\n+        * config/arm/cortex-r4f.md (cortex_r4_fmacs): Use ffmas.\n+        (cortex_r4_fmacd): Use ffmad.\n+        * config/arm/cortex-m4-fpu.md (cortex_m4_fmacs): Use ffmas.\n+        * config/arm/cortex-a9.md (cortex_a9_fmacs):  Use ffmas.\n+        (cortex_a9_fmacd): Use ffmad.\n+        * config/arm/cortex-a8-neon.md (cortex_a8_vfp_macs): Use ffmas.\n+        (cortex_a8_vfp_macd): Use ffmad.\n+        * config/arm/cortex-a5.md (cortex_a5_fpmacs): Use ffmas.\n+        (cortex_a5_fpmacd): Use ffmad.\n+        * config/arm/cortex-a15-neon.md (cortex_a15_vfp_macs) Use ffmas.\n+        (cortex_a15_vfp_macd): Use ffmad.\n+        * config/arm/arm1020e.md (v10_fmul): Use ffmas and ffmad.\n+\n 2013-01-29  Jason Merrill  <jason@redhat.com>\n \n \tPR libstdc++/54314"}, {"sha": "64888f978b28bc3bc8f03ab5d5593bb03cf5bab4", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=29637783d5b642e5ab85c20f598de3ded0a7a100", "patch": "@@ -282,6 +282,8 @@\n   fmuld,\\\n   fmacs,\\\n   fmacd,\\\n+  ffmas,\\\n+  ffmad,\\\n   f_rints,\\\n   f_rintd,\\\n   f_minmaxs,\\"}, {"sha": "ab65978aebc3dd48eb86d9da35725ce35b9e3467", "filename": "gcc/config/arm/arm1020e.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Farm1020e.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Farm1020e.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm1020e.md?ref=29637783d5b642e5ab85c20f598de3ded0a7a100", "patch": "@@ -284,7 +284,7 @@\n \n (define_insn_reservation \"v10_fmul\" 6\n  (and (eq_attr \"vfp10\" \"yes\")\n-      (eq_attr \"type\" \"fmuls,fmacs,fmuld,fmacd\"))\n+      (eq_attr \"type\" \"fmuls,fmacs,ffmas,fmuld,fmacd,ffmad\"))\n  \"1020a_e+v10_fmac*2\")\n \n (define_insn_reservation \"v10_fdivs\" 18"}, {"sha": "bfa2f5e8818f046439b33c6e76d09f547297da87", "filename": "gcc/config/arm/cortex-a15-neon.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fcortex-a15-neon.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fcortex-a15-neon.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fcortex-a15-neon.md?ref=29637783d5b642e5ab85c20f598de3ded0a7a100", "patch": "@@ -505,12 +505,12 @@\n \n (define_insn_reservation \"cortex_a15_vfp_macs\" 6\n   (and (eq_attr \"tune\" \"cortexa15\")\n-       (eq_attr \"type\" \"fmacs\"))\n+       (eq_attr \"type\" \"fmacs,ffmas\"))\n   \"ca15_issue1,ca15_cx_vfp\")\n \n (define_insn_reservation \"cortex_a15_vfp_macd\" 11\n   (and (eq_attr \"tune\" \"cortexa15\")\n-       (eq_attr \"type\" \"fmacd\"))\n+       (eq_attr \"type\" \"fmacd,ffmad\"))\n   \"ca15_issue2,ca15_cx_vfp*2\")\n \n (define_insn_reservation \"cortex_a15_vfp_cvt\" 6"}, {"sha": "41a2c37e8faf675bf9d3619f429f6d46d7855632", "filename": "gcc/config/arm/cortex-a5.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fcortex-a5.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fcortex-a5.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fcortex-a5.md?ref=29637783d5b642e5ab85c20f598de3ded0a7a100", "patch": "@@ -185,7 +185,7 @@\n \n (define_insn_reservation \"cortex_a5_fpmacs\" 8\n   (and (eq_attr \"tune\" \"cortexa5\")\n-       (eq_attr \"type\" \"fmacs\"))\n+       (eq_attr \"type\" \"fmacs,ffmas\"))\n   \"cortex_a5_ex1+cortex_a5_fpmul_pipe, nothing*3, cortex_a5_fpadd_pipe\")\n \n ;; Non-multiply instructions can issue in the middle two instructions of a\n@@ -201,7 +201,7 @@\n \n (define_insn_reservation \"cortex_a5_fpmacd\" 11\n   (and (eq_attr \"tune\" \"cortexa5\")\n-       (eq_attr \"type\" \"fmacd\"))\n+       (eq_attr \"type\" \"fmacd,ffmad\"))\n   \"cortex_a5_ex1+cortex_a5_fpmul_pipe, cortex_a5_fpmul_pipe*2,\\\n    cortex_a5_ex1+cortex_a5_fpmul_pipe, nothing*3, cortex_a5_fpadd_pipe\")\n "}, {"sha": "2f0cc7b3a5a9231a3c4a3a5e6abd3b6cac334581", "filename": "gcc/config/arm/cortex-a8-neon.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fcortex-a8-neon.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fcortex-a8-neon.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fcortex-a8-neon.md?ref=29637783d5b642e5ab85c20f598de3ded0a7a100", "patch": "@@ -149,12 +149,12 @@\n \n (define_insn_reservation \"cortex_a8_vfp_macs\" 21\n   (and (eq_attr \"tune\" \"cortexa8\")\n-       (eq_attr \"type\" \"fmacs\"))\n+       (eq_attr \"type\" \"fmacs,ffmas\"))\n   \"cortex_a8_vfp,cortex_a8_vfplite*20\")\n \n (define_insn_reservation \"cortex_a8_vfp_macd\" 26\n   (and (eq_attr \"tune\" \"cortexa8\")\n-       (eq_attr \"type\" \"fmacd\"))\n+       (eq_attr \"type\" \"fmacd,ffmad\"))\n   \"cortex_a8_vfp,cortex_a8_vfplite*25\")\n \n (define_insn_reservation \"cortex_a8_vfp_divs\" 37"}, {"sha": "abbaa8d4e1e06730f9253a2a1dad142c2d46a2fc", "filename": "gcc/config/arm/cortex-a9.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fcortex-a9.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fcortex-a9.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fcortex-a9.md?ref=29637783d5b642e5ab85c20f598de3ded0a7a100", "patch": "@@ -203,7 +203,7 @@ cortex_a9_store3_4, cortex_a9_store1_2,  cortex_a9_load3_4\")\n ;; Pipeline   Instruction Classification.\n ;; FPS - fcpys, ffariths, ffarithd,r_2_f,f_2_r\n ;; FP_ADD   - fadds, faddd, fcmps (1)\n-;; FPMUL   - fmul{s,d}, fmac{s,d}\n+;; FPMUL   - fmul{s,d}, fmac{s,d}, ffma{s,d}\n ;; FPDIV - fdiv{s,d}\n (define_cpu_unit \"ca9fps\" \"cortex_a9\")\n (define_cpu_unit \"ca9fp_add1, ca9fp_add2, ca9fp_add3, ca9fp_add4\" \"cortex_a9\")\n@@ -253,12 +253,12 @@ cortex_a9_store3_4, cortex_a9_store1_2,  cortex_a9_load3_4\")\n \n (define_insn_reservation \"cortex_a9_fmacs\" 8\n   (and (eq_attr \"tune\" \"cortexa9\")\n-       (eq_attr \"type\" \"fmacs\"))\n+       (eq_attr \"type\" \"fmacs,ffmas\"))\n   \"ca9fmuls, ca9fp_add\")\n \n (define_insn_reservation \"cortex_a9_fmacd\" 9\n   (and (eq_attr \"tune\" \"cortexa9\")\n-       (eq_attr \"type\" \"fmacd\"))\n+       (eq_attr \"type\" \"fmacd,ffmad\"))\n   \"ca9fmuld, ca9fp_add\")\n \n ;; Division pipeline description."}, {"sha": "a1945bed3a310874b50e90e8d1445b3a1b2e9e9a", "filename": "gcc/config/arm/cortex-m4-fpu.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fcortex-m4-fpu.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fcortex-m4-fpu.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fcortex-m4-fpu.md?ref=29637783d5b642e5ab85c20f598de3ded0a7a100", "patch": "@@ -46,7 +46,7 @@\n \n (define_insn_reservation \"cortex_m4_fmacs\" 4\n   (and (eq_attr \"tune\" \"cortexm4\")\n-       (eq_attr \"type\" \"fmacs\"))\n+       (eq_attr \"type\" \"fmacs,ffmas\"))\n   \"cortex_m4_ex_v*3\")\n \n (define_insn_reservation \"cortex_m4_ffariths\" 1"}, {"sha": "0c0bae0cd7400a2496cac2052470309d6a77a13b", "filename": "gcc/config/arm/cortex-r4f.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fcortex-r4f.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fcortex-r4f.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fcortex-r4f.md?ref=29637783d5b642e5ab85c20f598de3ded0a7a100", "patch": "@@ -63,7 +63,7 @@\n \n (define_insn_reservation \"cortex_r4_fmacs\" 6\n  (and (eq_attr \"tune_cortexr4\" \"yes\")\n-      (eq_attr \"type\" \"fmacs\"))\n+      (eq_attr \"type\" \"fmacs,ffmas\"))\n  \"(cortex_r4_issue_a+cortex_r4_v1)|(cortex_r4_issue_b+cortex_r4_vmla)\")\n \n (define_insn_reservation \"cortex_r4_fdivs\" 17\n@@ -119,7 +119,7 @@\n \n (define_insn_reservation \"cortex_r4_fmacd\" 20\n  (and (eq_attr \"tune_cortexr4\" \"yes\")\n-      (eq_attr \"type\" \"fmacd\"))\n+      (eq_attr \"type\" \"fmacd,ffmad\"))\n  \"cortex_r4_single_issue*13\")\n \n (define_insn_reservation \"cortex_r4_farith\" 10"}, {"sha": "923624ffc6f27d6b6afa4616347b85fc561cb89e", "filename": "gcc/config/arm/vfp.md", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fvfp.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fvfp.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fvfp.md?ref=29637783d5b642e5ab85c20f598de3ded0a7a100", "patch": "@@ -32,6 +32,8 @@\n ;; fmuld\tDouble precision multiply.\n ;; fmacs\tSingle precision multiply-accumulate.\n ;; fmacd\tDouble precision multiply-accumulate.\n+;; ffmas\tSingle precision fused multiply-accumulate.\n+;; ffmad\tDouble precision fused multiply-accumulate.\n ;; fdivs\tSingle precision sqrt or division.\n ;; fdivd\tDouble precision sqrt or division.\n ;; f_flag\tfmstat operation\n@@ -909,7 +911,7 @@\n   \"TARGET_32BIT && TARGET_HARD_FLOAT && TARGET_FMA\"\n   \"vfma%?.<V_if_elem>\\\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set_attr \"predicable\" \"yes\")\n-   (set_attr \"type\" \"fmac<vfp_type>\")]\n+   (set_attr \"type\" \"ffma<vfp_type>\")]\n )\n \n (define_insn \"*fmsub<SDF:mode>4\"\n@@ -921,7 +923,7 @@\n   \"TARGET_32BIT && TARGET_HARD_FLOAT && TARGET_FMA\"\n   \"vfms%?.<V_if_elem>\\\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set_attr \"predicable\" \"yes\")\n-   (set_attr \"type\" \"fmac<vfp_type>\")]\n+   (set_attr \"type\" \"ffma<vfp_type>\")]\n )\n \n (define_insn \"*fnmsub<SDF:mode>4\"\n@@ -932,7 +934,7 @@\n   \"TARGET_32BIT && TARGET_HARD_FLOAT && TARGET_FMA\"\n   \"vfnms%?.<V_if_elem>\\\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set_attr \"predicable\" \"yes\")\n-   (set_attr \"type\" \"fmac<vfp_type>\")]\n+   (set_attr \"type\" \"ffma<vfp_type>\")]\n )\n \n (define_insn \"*fnmadd<SDF:mode>4\"\n@@ -944,7 +946,7 @@\n   \"TARGET_32BIT && TARGET_HARD_FLOAT && TARGET_FMA\"\n   \"vfnma%?.<V_if_elem>\\\\t%<V_reg>0, %<V_reg>1, %<V_reg>2\"\n   [(set_attr \"predicable\" \"yes\")\n-   (set_attr \"type\" \"fmac<vfp_type>\")]\n+   (set_attr \"type\" \"ffma<vfp_type>\")]\n )\n \n "}, {"sha": "b027fe6c3cd30c1e51fb4dbead2282d95a19e9c7", "filename": "gcc/config/arm/vfp11.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fvfp11.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29637783d5b642e5ab85c20f598de3ded0a7a100/gcc%2Fconfig%2Farm%2Fvfp11.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fvfp11.md?ref=29637783d5b642e5ab85c20f598de3ded0a7a100", "patch": "@@ -56,12 +56,12 @@\n \n (define_insn_reservation \"vfp_farith\" 8\n  (and (eq_attr \"generic_vfp\" \"yes\")\n-      (eq_attr \"type\" \"fadds,faddd,fconsts,fconstd,f_cvt,fmuls,fmacs\"))\n+      (eq_attr \"type\" \"fadds,faddd,fconsts,fconstd,f_cvt,fmuls,fmacs,ffmas\"))\n  \"fmac\")\n \n (define_insn_reservation \"vfp_fmul\" 9\n  (and (eq_attr \"generic_vfp\" \"yes\")\n-      (eq_attr \"type\" \"fmuld,fmacd\"))\n+      (eq_attr \"type\" \"fmuld,fmacd,ffmad\"))\n  \"fmac*2\")\n \n (define_insn_reservation \"vfp_fdivs\" 19"}]}