{"sha": "1aca9b81eb0a04eef5cedf6c48ab91da26e96967", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWFjYTliODFlYjBhMDRlZWY1Y2VkZjZjNDhhYjkxZGEyNmU5Njk2Nw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2001-12-09T23:43:19Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2001-12-09T23:43:19Z"}, "message": "check-init.c (check_init): Don't allow pre- or post- increment or decrement of final variable.\n\n\t* check-init.c (check_init): Don't allow pre- or post- increment\n\tor decrement of final variable.\n\t(final_assign_error): Minor error message rewording.\n\nFrom-SVN: r47821", "tree": {"sha": "7e02261e603a36d3eb48bf570b71583ae105cd2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e02261e603a36d3eb48bf570b71583ae105cd2b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1aca9b81eb0a04eef5cedf6c48ab91da26e96967", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1aca9b81eb0a04eef5cedf6c48ab91da26e96967", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1aca9b81eb0a04eef5cedf6c48ab91da26e96967", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1aca9b81eb0a04eef5cedf6c48ab91da26e96967/comments", "author": null, "committer": null, "parents": [{"sha": "11cb1475c8145251e113c2274bbc80b17538f5d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11cb1475c8145251e113c2274bbc80b17538f5d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11cb1475c8145251e113c2274bbc80b17538f5d4"}], "stats": {"total": 24, "additions": 19, "deletions": 5}, "files": [{"sha": "aa5a8dfa2b11b6974d122dc81817689765909773", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1aca9b81eb0a04eef5cedf6c48ab91da26e96967/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1aca9b81eb0a04eef5cedf6c48ab91da26e96967/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=1aca9b81eb0a04eef5cedf6c48ab91da26e96967", "patch": "@@ -1,3 +1,9 @@\n+2001-12-09  Tom Tromey  <tromey@redhat.com>\n+\n+\t* check-init.c (check_init): Don't allow pre- or post- increment\n+\tor decrement of final variable.\n+\t(final_assign_error): Minor error message rewording.\n+\n 2001-12-08  Tom Tromey  <tromey@redhat.com>\n \n \t* java-tree.h: Fixed typo."}, {"sha": "bc73ab2a05b8bc1ca00aa9fe2cf334f335748edc", "filename": "gcc/java/check-init.c", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1aca9b81eb0a04eef5cedf6c48ab91da26e96967/gcc%2Fjava%2Fcheck-init.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1aca9b81eb0a04eef5cedf6c48ab91da26e96967/gcc%2Fjava%2Fcheck-init.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fcheck-init.c?ref=1aca9b81eb0a04eef5cedf6c48ab91da26e96967", "patch": "@@ -196,7 +196,7 @@ final_assign_error (name)\n      tree name;\n {\n   static const char format[]\n-    = \"can't re-assign here a value to the final variable '%s'\";\n+    = \"can't reassign a value to the final variable '%s'\";\n   parse_error_context (wfl, format, IDENTIFIER_POINTER (name));\n }\n \n@@ -791,10 +791,6 @@ check_init (exp, before)\n     case FIX_TRUNC_EXPR:\n     case INDIRECT_REF:\n     case ADDR_EXPR:\n-    case PREDECREMENT_EXPR:\n-    case PREINCREMENT_EXPR:\n-    case POSTDECREMENT_EXPR:\n-    case POSTINCREMENT_EXPR:\n     case NON_LVALUE_EXPR:\n     case INSTANCEOF_EXPR:\n     case FIX_CEIL_EXPR:\n@@ -806,6 +802,18 @@ check_init (exp, before)\n       exp = TREE_OPERAND (exp, 0);\n       goto again;\n \n+    case PREDECREMENT_EXPR:\n+    case PREINCREMENT_EXPR:\n+    case POSTDECREMENT_EXPR:\n+    case POSTINCREMENT_EXPR:\n+      tmp = get_variable_decl (TREE_OPERAND (exp, 0));\n+      if (tmp != NULL_TREE && DECL_FINAL (tmp))\n+\tfinal_assign_error (DECL_NAME (tmp));      \n+\n+      /* Avoid needless recursion.  */\n+      exp = TREE_OPERAND (exp, 0);\n+      goto again;\n+\n     case SAVE_EXPR:\n       if (IS_INIT_CHECKED (exp))\n \treturn;"}]}