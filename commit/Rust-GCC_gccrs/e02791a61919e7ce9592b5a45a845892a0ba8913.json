{"sha": "e02791a61919e7ce9592b5a45a845892a0ba8913", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTAyNzkxYTYxOTE5ZTdjZTk1OTJiNWE0NWE4NDU4OTJhMGJhODkxMw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-09-11T21:39:30Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-09-11T21:39:30Z"}, "message": "(xcoff_inlining): New variable...\n\n(xcoff_inlining): New variable, used in place of\nxcoff_current_include_file when determining whether to use absolute\nline numbers.\n(xcoffout_source_file): Switched to using xcoff_inlining to determine\nwhen to emit .bi/.ei directives.\n\nFrom-SVN: r10308", "tree": {"sha": "375428dbc07f868075cd89d4da2bba079dc57151", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/375428dbc07f868075cd89d4da2bba079dc57151"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e02791a61919e7ce9592b5a45a845892a0ba8913", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e02791a61919e7ce9592b5a45a845892a0ba8913", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e02791a61919e7ce9592b5a45a845892a0ba8913", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e02791a61919e7ce9592b5a45a845892a0ba8913/comments", "author": null, "committer": null, "parents": [{"sha": "31b23f2253bac5776f01e4d6eed8adbde831d9fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31b23f2253bac5776f01e4d6eed8adbde831d9fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31b23f2253bac5776f01e4d6eed8adbde831d9fa"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "bf8775b762a8f73adbc7bbb5a733315532f72b99", "filename": "gcc/xcoffout.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e02791a61919e7ce9592b5a45a845892a0ba8913/gcc%2Fxcoffout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e02791a61919e7ce9592b5a45a845892a0ba8913/gcc%2Fxcoffout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fxcoffout.c?ref=e02791a61919e7ce9592b5a45a845892a0ba8913", "patch": "@@ -54,6 +54,7 @@ Boston, MA 02111-1307, USA.  */\n    Negative means not in a function or not using xcoff.  */\n \n int xcoff_begin_function_line = -1;\n+int xcoff_inlining = 0;\n \n /* Name of the current include file.  */\n \n@@ -80,7 +81,7 @@ char *xcoff_lastfile;\n /* Macro definitions used below.  */\n \n #define ABS_OR_RELATIVE_LINENO(LINENO)\t\t\\\n- (xcoff_current_include_file ? (LINENO) : (LINENO) - xcoff_begin_function_line)\n+((xcoff_inlining) ? (LINENO) : (LINENO) - xcoff_begin_function_line)\n \n /* Output source line numbers via \".line\" rather than \".stabd\".  */\n #define ASM_OUTPUT_SOURCE_LINE(FILE,LINENUM) \\\n@@ -327,8 +328,8 @@ xcoffout_source_file (file, filename, inline_p)\n {\n   if (filename\n       && (xcoff_lastfile == 0 || strcmp (filename, xcoff_lastfile)\n-\t  || (inline_p && ! xcoff_current_include_file)\n-\t  || (! inline_p && xcoff_current_include_file)))\n+\t  || (inline_p && ! xcoff_inlining)\n+\t  || (! inline_p && xcoff_inlining)))\n     {\n       if (xcoff_current_include_file)\n \t{\n@@ -337,6 +338,7 @@ xcoffout_source_file (file, filename, inline_p)\n \t  fprintf (file, \"\\n\");\n \t  xcoff_current_include_file = NULL;\n \t}\n+\txcoff_inlining=inline_p;\n       if (strcmp (main_input_filename, filename) || inline_p)\n \t{\n \t  fprintf (file, \"\\t.bi\\t\");"}]}