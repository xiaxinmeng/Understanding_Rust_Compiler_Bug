{"sha": "4142b247014131a195c9d1f7f93a23a224ba0a39", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDE0MmIyNDcwMTQxMzFhMTk1YzlkMWY3ZjkzYTIzYTIyNGJhMGEzOQ==", "commit": {"author": {"name": "Alexandre Petit-Bianco", "email": "apbianco@cygnus.com", "date": "2000-07-22T00:50:14Z"}, "committer": {"name": "Alexandre Petit-Bianco", "email": "apbianco@gcc.gnu.org", "date": "2000-07-22T00:50:14Z"}, "message": "parse.y (simple_name:): Reject `$' in type names.\n\n2000-07-19  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n\n        * parse.y (simple_name:): Reject `$' in type names.\n\t(resolve_type_during_patch): Use `type' as a second\n\targument to resolve_no_layout. Fixes gcj/257.\n\n(Fixes gcj/257: http://gcc.gnu.org/ml/gcc-patches/2000-07/msg00869.html)\n\nFrom-SVN: r35182", "tree": {"sha": "ce409a43328e512a9467856be512d3052f4f7cea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce409a43328e512a9467856be512d3052f4f7cea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4142b247014131a195c9d1f7f93a23a224ba0a39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4142b247014131a195c9d1f7f93a23a224ba0a39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4142b247014131a195c9d1f7f93a23a224ba0a39", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4142b247014131a195c9d1f7f93a23a224ba0a39/comments", "author": null, "committer": null, "parents": [{"sha": "0c978c46861fdb68b598ffb95e0d703545e22bdb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c978c46861fdb68b598ffb95e0d703545e22bdb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c978c46861fdb68b598ffb95e0d703545e22bdb"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "90de01611b6236b108543f23c38e462b704cc612", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4142b247014131a195c9d1f7f93a23a224ba0a39/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4142b247014131a195c9d1f7f93a23a224ba0a39/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=4142b247014131a195c9d1f7f93a23a224ba0a39", "patch": "@@ -13,6 +13,12 @@\n \t* parse.y (find_as_inner_class): Handle the case where the\n \tenclosing context of an innerclass has been loaded as bytecode.\n \n+2000-07-19  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n+\n+        * parse.y (simple_name:): Reject `$' in type names.\n+\t(resolve_type_during_patch): Use `type' as a second\n+\targument to resolve_no_layout. Fixes gcj/257.\n+\n 2000-07-18  Jeff Sturm  <jeff.sturm@appnet.com>\n \n \t* lang-specs.h: Added %(jc1) to java compiler options."}, {"sha": "bd3c5a2c5d59218b7646bcc47e4b0c63d559cc05", "filename": "gcc/java/parse.y", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4142b247014131a195c9d1f7f93a23a224ba0a39/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4142b247014131a195c9d1f7f93a23a224ba0a39/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=4142b247014131a195c9d1f7f93a23a224ba0a39", "patch": "@@ -642,6 +642,11 @@ name:\n \n simple_name:\n \tidentifier\t\t/* Default rule */\n+\t{\n+\t  if (strchr (IDENTIFIER_POINTER (EXPR_WFL_NODE ($$)), '$'))\n+\t    parse_error_context ($$, \"Invalide name `%s'\",\n+\t\t\t\t IDENTIFIER_POINTER (EXPR_WFL_NODE ($$)));\n+\t}\n ;\n \n qualified_name:\n@@ -13335,7 +13340,7 @@ resolve_type_during_patch (type)\n {\n   if (unresolved_type_p (type, NULL))\n     {\n-      tree type_decl = resolve_no_layout (EXPR_WFL_NODE (type), NULL_TREE);\n+      tree type_decl = resolve_no_layout (EXPR_WFL_NODE (type), type);\n       if (!type_decl)\n \t{\n \t  parse_error_context (type, "}]}