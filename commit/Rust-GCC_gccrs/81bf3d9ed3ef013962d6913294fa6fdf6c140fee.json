{"sha": "81bf3d9ed3ef013962d6913294fa6fdf6c140fee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODFiZjNkOWVkM2VmMDEzOTYyZDY5MTMyOTRmYTZmZGY2YzE0MGZlZQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-10-07T08:15:19Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-10-07T08:15:19Z"}, "message": "configure.in: Detect mmap.\n\n        * configure.in: Detect mmap.  Add --with-gc=foo to select\n        garbage collector; default to page if mmap available.\n        * Makefile.in (GGC): Substitute.\n\nFrom-SVN: r29853", "tree": {"sha": "180512b4ff7955e3c5688a30b9f4010659489229", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/180512b4ff7955e3c5688a30b9f4010659489229"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/81bf3d9ed3ef013962d6913294fa6fdf6c140fee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81bf3d9ed3ef013962d6913294fa6fdf6c140fee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/81bf3d9ed3ef013962d6913294fa6fdf6c140fee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81bf3d9ed3ef013962d6913294fa6fdf6c140fee/comments", "author": null, "committer": null, "parents": [{"sha": "bdf768134b7d4a3df2aad13213771075a34cf82b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdf768134b7d4a3df2aad13213771075a34cf82b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bdf768134b7d4a3df2aad13213771075a34cf82b"}], "stats": {"total": 1411, "additions": 727, "deletions": 684}, "files": [{"sha": "edbe1a902314178b5711daa96519d0eda121e295", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81bf3d9ed3ef013962d6913294fa6fdf6c140fee/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81bf3d9ed3ef013962d6913294fa6fdf6c140fee/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=81bf3d9ed3ef013962d6913294fa6fdf6c140fee", "patch": "@@ -1,3 +1,9 @@\n+Thu Oct  7 01:13:15 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* configure.in: Detect mmap.  Add --with-gc=foo to select\n+\tgarbage collector; default to page if mmap available.\n+\t* Makefile.in (GGC): Substitute.\n+\n Wed Oct  6 23:56:30 1999  Richard Henderson  <rth@cygnus.com>\n \n \t* c-decl.c (ggc_p): Enable."}, {"sha": "6fb987eb2311485678b0532b688b25b72a0067f2", "filename": "gcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81bf3d9ed3ef013962d6913294fa6fdf6c140fee/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81bf3d9ed3ef013962d6913294fa6fdf6c140fee/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=81bf3d9ed3ef013962d6913294fa6fdf6c140fee", "patch": "@@ -308,7 +308,7 @@ CLIB=\n OBSTACK=obstack.o\n \n # The GC method to be used on this system.\n-GGC=ggc-simple.o\n+GGC=@GGC@.o\n \n # If a supplementary library is being used for the GC.\n GGC_LIB="}, {"sha": "5ff41bc48d59135e598aaa3592844ab04bd3665e", "filename": "gcc/configure", "status": "modified", "additions": 699, "deletions": 683, "changes": 1382, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81bf3d9ed3ef013962d6913294fa6fdf6c140fee/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81bf3d9ed3ef013962d6913294fa6fdf6c140fee/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=81bf3d9ed3ef013962d6913294fa6fdf6c140fee", "patch": "@@ -71,6 +71,9 @@ ac_help=\"$ac_help\n   --enable-win32-registry=KEY\n                           Use KEY instead of GCC version as the last portion\n                          of the registry key.\"\n+ac_help=\"$ac_help\n+  --with-gc={simple,page} Choose the garbage collection mechanism to use\n+                           with the compiler.\"\n \n # Initialize some variables set by options.\n # The variables have the same names as the options, with\n@@ -88,7 +91,6 @@ program_suffix=NONE\n program_transform_name=s,x,x,\n silent=\n site=\n-sitefile=\n srcdir=\n target=NONE\n verbose=\n@@ -203,7 +205,6 @@ Configuration:\n   --help                  print this message\n   --no-create             do not create output files\n   --quiet, --silent       do not print \\`checking...' messages\n-  --site-file=FILE        use FILE as the site file\n   --version               print the version of autoconf that created configure\n Directory and file names:\n   --prefix=PREFIX         install architecture-independent files in PREFIX\n@@ -374,11 +375,6 @@ EOF\n   -site=* | --site=* | --sit=*)\n     site=\"$ac_optarg\" ;;\n \n-  -site-file | --site-file | --site-fil | --site-fi | --site-f)\n-    ac_prev=sitefile ;;\n-  -site-file=* | --site-file=* | --site-fil=* | --site-fi=* | --site-f=*)\n-    sitefile=\"$ac_optarg\" ;;\n-\n   -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)\n     ac_prev=srcdir ;;\n   -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)\n@@ -544,16 +540,12 @@ fi\n srcdir=`echo \"${srcdir}\" | sed 's%\\([^/]\\)/*$%\\1%'`\n \n # Prefer explicitly selected file to automatically selected ones.\n-if test -z \"$sitefile\"; then\n-  if test -z \"$CONFIG_SITE\"; then\n-    if test \"x$prefix\" != xNONE; then\n-      CONFIG_SITE=\"$prefix/share/config.site $prefix/etc/config.site\"\n-    else\n-      CONFIG_SITE=\"$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site\"\n-    fi\n+if test -z \"$CONFIG_SITE\"; then\n+  if test \"x$prefix\" != xNONE; then\n+    CONFIG_SITE=\"$prefix/share/config.site $prefix/etc/config.site\"\n+  else\n+    CONFIG_SITE=\"$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site\"\n   fi\n-else\n-  CONFIG_SITE=\"$sitefile\"\n fi\n for ac_site_file in $CONFIG_SITE; do\n   if test -r \"$ac_site_file\"; then\n@@ -608,7 +600,7 @@ copy=cp\n # - two terminals occur directly after each other\n # - the path contains an element with a dot in it\n echo $ac_n \"checking LIBRARY_PATH variable\"\"... $ac_c\" 1>&6\n-echo \"configure:612: checking LIBRARY_PATH variable\" >&5\n+echo \"configure:604: checking LIBRARY_PATH variable\" >&5\n case ${LIBRARY_PATH} in\n   [:\\;]* | *[:\\;] | *[:\\;][:\\;]* |  *[:\\;]. | .[:\\;]*| . | *[:\\;].[:\\;]* )\n     library_path_setting=\"contains current directory\"\n@@ -633,7 +625,7 @@ fi\n # - two terminals occur directly after each other\n # - the path contains an element with a dot in it\n echo $ac_n \"checking GCC_EXEC_PREFIX variable\"\"... $ac_c\" 1>&6\n-echo \"configure:637: checking GCC_EXEC_PREFIX variable\" >&5\n+echo \"configure:629: checking GCC_EXEC_PREFIX variable\" >&5\n case ${GCC_EXEC_PREFIX} in\n   [:\\;]* | *[:\\;] | *[:\\;][:\\;]* |  *[:\\;]. | .[:\\;]*| . | *[:\\;].[:\\;]* )\n     gcc_exec_prefix_setting=\"contains current directory\"\n@@ -956,7 +948,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:960: checking host system type\" >&5\n+echo \"configure:952: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -977,7 +969,7 @@ host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:981: checking target system type\" >&5\n+echo \"configure:973: checking target system type\" >&5\n \n target_alias=$target\n case \"$target_alias\" in\n@@ -995,7 +987,7 @@ target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$target\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:999: checking build system type\" >&5\n+echo \"configure:991: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -1022,7 +1014,7 @@ test \"$host_alias\" != \"$target_alias\" &&\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1026: checking for $ac_word\" >&5\n+echo \"configure:1018: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1052,7 +1044,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1056: checking for $ac_word\" >&5\n+echo \"configure:1048: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1103,7 +1095,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1107: checking for $ac_word\" >&5\n+echo \"configure:1099: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1135,7 +1127,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:1139: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1131: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -1146,12 +1138,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 1150 \"configure\"\n+#line 1142 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:1155: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1147: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -1177,12 +1169,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:1181: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:1173: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1186: checking whether we are using GNU C\" >&5\n+echo \"configure:1178: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1191,7 +1183,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1195: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1187: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1210,7 +1202,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1214: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1206: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1242,15 +1234,15 @@ else\n fi\n \n echo $ac_n \"checking for long double\"\"... $ac_c\" 1>&6\n-echo \"configure:1246: checking for long double\" >&5\n+echo \"configure:1238: checking for long double\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_long_double'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$GCC\" = yes; then\n   gcc_cv_c_long_double=yes\n else\n cat > conftest.$ac_ext <<EOF\n-#line 1254 \"configure\"\n+#line 1246 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -1260,7 +1252,7 @@ long double foo = 0.0;\n switch (0) case 0: case (sizeof(long double) >= sizeof(double)):;\n ; return 0; }\n EOF\n-if { (eval echo configure:1264: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1256: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_long_double=yes\n else\n@@ -1293,7 +1285,7 @@ fi\n \n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:1297: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:1289: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1321,7 +1313,7 @@ fi\n \n \n echo $ac_n \"checking whether a default assembler was specified\"\"... $ac_c\" 1>&6\n-echo \"configure:1325: checking whether a default assembler was specified\" >&5\n+echo \"configure:1317: checking whether a default assembler was specified\" >&5\n if test x\"${DEFAULT_ASSEMBLER+set}\" = x\"set\"; then\n     if test x\"$gas_flag\" = x\"no\"; then\n     \techo \"$ac_t\"\"yes ($DEFAULT_ASSEMBLER)\" 1>&6\n@@ -1333,7 +1325,7 @@ else\n fi\n \n echo $ac_n \"checking whether a default linker was specified\"\"... $ac_c\" 1>&6\n-echo \"configure:1337: checking whether a default linker was specified\" >&5\n+echo \"configure:1329: checking whether a default linker was specified\" >&5\n if test x\"${DEFAULT_LINKER+set}\" = x\"set\"; then\n     if test x\"$gnu_ld_flag\" = x\"no\"; then\n \techo \"$ac_t\"\"yes ($DEFAULT_LINKER)\" 1>&6\n@@ -1350,7 +1342,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1354: checking for $ac_word\" >&5\n+echo \"configure:1346: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AWK'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1382,7 +1374,7 @@ done\n # Extract the first word of \"flex\", so it can be a program name with args.\n set dummy flex; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1386: checking for $ac_word\" >&5\n+echo \"configure:1378: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1416,15 +1408,15 @@ then\n   *) ac_lib=l ;;\n   esac\n   echo $ac_n \"checking for yywrap in -l$ac_lib\"\"... $ac_c\" 1>&6\n-echo \"configure:1420: checking for yywrap in -l$ac_lib\" >&5\n+echo \"configure:1412: checking for yywrap in -l$ac_lib\" >&5\n ac_lib_var=`echo $ac_lib'_'yywrap | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-l$ac_lib  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1428 \"configure\"\n+#line 1420 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1435,7 +1427,7 @@ int main() {\n yywrap()\n ; return 0; }\n EOF\n-if { (eval echo configure:1439: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1431: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1458,7 +1450,7 @@ fi\n fi\n \n echo $ac_n \"checking whether ln works\"\"... $ac_c\" 1>&6\n-echo \"configure:1462: checking whether ln works\" >&5\n+echo \"configure:1454: checking whether ln works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1490,7 +1482,7 @@ else\n fi\n \n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1494: checking whether ln -s works\" >&5\n+echo \"configure:1486: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1522,19 +1514,19 @@ else\n fi\n \n echo $ac_n \"checking for volatile\"\"... $ac_c\" 1>&6\n-echo \"configure:1526: checking for volatile\" >&5\n+echo \"configure:1518: checking for volatile\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_volatile'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1531 \"configure\"\n+#line 1523 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n volatile int foo;\n ; return 0; }\n EOF\n-if { (eval echo configure:1538: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1530: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_volatile=yes\n else\n@@ -1557,7 +1549,7 @@ fi\n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1561: checking for $ac_word\" >&5\n+echo \"configure:1553: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1589,7 +1581,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1593: checking for $ac_word\" >&5\n+echo \"configure:1585: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_YACC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1630,7 +1622,7 @@ test -n \"$YACC\" || YACC=\"yacc\"\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1634: checking for a BSD compatible install\" >&5\n+echo \"configure:1626: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1681,7 +1673,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1685: checking how to run the C preprocessor\" >&5\n+echo \"configure:1677: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -1696,13 +1688,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 1700 \"configure\"\n+#line 1692 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1706: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1698: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1713,13 +1705,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1717 \"configure\"\n+#line 1709 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1723: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1715: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1730,13 +1722,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1734 \"configure\"\n+#line 1726 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1740: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1732: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1761,20 +1753,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:1765: checking for ANSI C header files\" >&5\n+echo \"configure:1757: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1770 \"configure\"\n+#line 1762 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1778: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1770: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1791,7 +1783,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1795 \"configure\"\n+#line 1787 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -1809,7 +1801,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1813 \"configure\"\n+#line 1805 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -1830,7 +1822,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1834 \"configure\"\n+#line 1826 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -1841,7 +1833,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:1845: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1837: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -1865,12 +1857,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether time.h and sys/time.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:1869: checking whether time.h and sys/time.h may both be included\" >&5\n+echo \"configure:1861: checking whether time.h and sys/time.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_time'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1874 \"configure\"\n+#line 1866 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/time.h>\n@@ -1879,7 +1871,7 @@ int main() {\n struct tm *tp;\n ; return 0; }\n EOF\n-if { (eval echo configure:1883: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1875: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_time=yes\n else\n@@ -1900,20 +1892,20 @@ EOF\n fi\n \n echo $ac_n \"checking whether string.h and strings.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:1904: checking whether string.h and strings.h may both be included\" >&5\n+echo \"configure:1896: checking whether string.h and strings.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_string'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1909 \"configure\"\n+#line 1901 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n #include <strings.h>\n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1917: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1909: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_header_string=yes\n else\n@@ -1934,12 +1926,12 @@ EOF\n fi\n \n echo $ac_n \"checking for sys/wait.h that is POSIX.1 compatible\"\"... $ac_c\" 1>&6\n-echo \"configure:1938: checking for sys/wait.h that is POSIX.1 compatible\" >&5\n+echo \"configure:1930: checking for sys/wait.h that is POSIX.1 compatible\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_sys_wait_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1943 \"configure\"\n+#line 1935 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/wait.h>\n@@ -1955,7 +1947,7 @@ wait (&s);\n s = WIFEXITED (s) ? WEXITSTATUS (s) : 1;\n ; return 0; }\n EOF\n-if { (eval echo configure:1959: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1951: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_sys_wait_h=yes\n else\n@@ -1982,17 +1974,17 @@ for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h \\\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1986: checking for $ac_hdr\" >&5\n+echo \"configure:1978: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1991 \"configure\"\n+#line 1983 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1996: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1988: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2022,17 +2014,17 @@ done\n # Check for thread headers.\n ac_safe=`echo \"thread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for thread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2026: checking for thread.h\" >&5\n+echo \"configure:2018: checking for thread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2031 \"configure\"\n+#line 2023 \"configure\"\n #include \"confdefs.h\"\n #include <thread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2036: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2028: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2056,17 +2048,17 @@ fi\n \n ac_safe=`echo \"pthread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for pthread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2060: checking for pthread.h\" >&5\n+echo \"configure:2052: checking for pthread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2065 \"configure\"\n+#line 2057 \"configure\"\n #include \"confdefs.h\"\n #include <pthread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2070: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2062: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2093,7 +2085,7 @@ fi\n # Extract the first word of \"gnatbind\", so it can be a program name with args.\n set dummy gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2097: checking for $ac_word\" >&5\n+echo \"configure:2089: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gnat'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2126,12 +2118,12 @@ fi\n \n \n echo $ac_n \"checking for preprocessor stringizing operator\"\"... $ac_c\" 1>&6\n-echo \"configure:2130: checking for preprocessor stringizing operator\" >&5\n+echo \"configure:2122: checking for preprocessor stringizing operator\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stringize'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2135 \"configure\"\n+#line 2127 \"configure\"\n #include \"confdefs.h\"\n \n #define x(y) #y\n@@ -2164,20 +2156,20 @@ echo \"$ac_t\"\"${ac_cv_c_stringize}\" 1>&6\n # Use <inttypes.h> only if it exists,\n # doesn't clash with <sys/types.h>, and declares intmax_t.\n echo $ac_n \"checking for inttypes.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2168: checking for inttypes.h\" >&5\n+echo \"configure:2160: checking for inttypes.h\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2173 \"configure\"\n+#line 2165 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <inttypes.h>\n int main() {\n intmax_t i = -1;\n ; return 0; }\n EOF\n-if { (eval echo configure:2181: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2173: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_header_inttypes_h=yes\n else\n@@ -2203,12 +2195,12 @@ for ac_func in strtoul bsearch strerror putenv popen bcopy bzero bcmp \\\n \tfputs_unlocked getrusage\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2207: checking for $ac_func\" >&5\n+echo \"configure:2199: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2212 \"configure\"\n+#line 2204 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2231,7 +2223,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2235: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2227: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2260,12 +2252,12 @@ done\n #AC_CHECK_TYPE(wchar_t, unsigned int)\n \n echo $ac_n \"checking for vprintf\"\"... $ac_c\" 1>&6\n-echo \"configure:2264: checking for vprintf\" >&5\n+echo \"configure:2256: checking for vprintf\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vprintf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2269 \"configure\"\n+#line 2261 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vprintf(); below.  */\n@@ -2288,7 +2280,7 @@ vprintf();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2292: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2284: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vprintf=yes\"\n else\n@@ -2312,12 +2304,12 @@ fi\n \n if test \"$ac_cv_func_vprintf\" != yes; then\n echo $ac_n \"checking for _doprnt\"\"... $ac_c\" 1>&6\n-echo \"configure:2316: checking for _doprnt\" >&5\n+echo \"configure:2308: checking for _doprnt\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func__doprnt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2321 \"configure\"\n+#line 2313 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char _doprnt(); below.  */\n@@ -2340,7 +2332,7 @@ _doprnt();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2344: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2336: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func__doprnt=yes\"\n else\n@@ -2376,15 +2368,15 @@ fi\n \n \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:2380: checking whether the printf functions support %p\" >&5\n+echo \"configure:2372: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2388 \"configure\"\n+#line 2380 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -2397,7 +2389,7 @@ main()\n   exit (p != q);\n }\n EOF\n-if { (eval echo configure:2401: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2393: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -2430,12 +2422,12 @@ case \"${host}\" in\n   ;;\n esac\n echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:2434: checking for pid_t\" >&5\n+echo \"configure:2426: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2439 \"configure\"\n+#line 2431 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -2464,17 +2456,17 @@ fi\n \n ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2468: checking for vfork.h\" >&5\n+echo \"configure:2460: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2473 \"configure\"\n+#line 2465 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2478: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2470: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2499,18 +2491,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2503: checking for working vfork\" >&5\n+echo \"configure:2495: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2509: checking for vfork\" >&5\n+echo \"configure:2501: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2514 \"configure\"\n+#line 2506 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -2533,7 +2525,7 @@ vfork();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2537: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2529: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -2555,7 +2547,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2559 \"configure\"\n+#line 2551 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -2650,7 +2642,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:2654: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2646: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -2672,224 +2664,490 @@ EOF\n \n fi\n \n-\n-for ac_func in bcopy bzero bcmp \\\n-\tindex rindex getenv atol sbrk abort atof strerror getcwd getwd \\\n-\tstrsignal putc_unlocked fputs_unlocked strstr\n+for ac_hdr in unistd.h\n do\n-echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2682: checking whether $ac_func must be declared\" >&5\n-if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n+ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n+echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n+echo \"configure:2672: checking for $ac_hdr\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2687 \"configure\"\n+#line 2677 \"configure\"\n #include \"confdefs.h\"\n-\n-#include <stdio.h>\n-#ifdef STRING_WITH_STRINGS\n-# include <string.h>\n-# include <strings.h>\n-#else\n-# ifdef HAVE_STRING_H\n-#  include <string.h>\n-# else\n-#  ifdef HAVE_STRINGS_H\n-#   include <strings.h>\n-#  endif\n-# endif\n-#endif\n-#ifdef HAVE_STDLIB_H\n-#include <stdlib.h>\n-#endif\n-#ifdef HAVE_UNISTD_H\n-#include <unistd.h>\n-#endif\n-#ifndef HAVE_RINDEX\n-#define rindex strrchr\n-#endif\n-#ifndef HAVE_INDEX\n-#define index strchr\n-#endif\n-\n-int main() {\n-char *(*pfn) = (char *(*)) $ac_func\n-; return 0; }\n+#include <$ac_hdr>\n EOF\n-if { (eval echo configure:2720: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n+{ (eval echo configure:2682: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n+if test -z \"$ac_err\"; then\n   rm -rf conftest*\n-  eval \"gcc_cv_decl_needed_$ac_func=no\"\n+  eval \"ac_cv_header_$ac_safe=yes\"\n else\n+  echo \"$ac_err\" >&5\n   echo \"configure: failed program was:\" >&5\n   cat conftest.$ac_ext >&5\n   rm -rf conftest*\n-  eval \"gcc_cv_decl_needed_$ac_func=yes\"\n+  eval \"ac_cv_header_$ac_safe=no\"\n fi\n rm -f conftest*\n fi\n-\n-if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$ac_func`\\\" = yes\"; then\n+if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n-  gcc_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`\n   cat >> confdefs.h <<EOF\n-#define $gcc_tr_decl 1\n+#define $ac_tr_hdr 1\n EOF\n-\n+ \n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n-\n done\n \n-\n-for ac_func in malloc realloc calloc free\n+for ac_func in getpagesize\n do\n-echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2749: checking whether $ac_func must be declared\" >&5\n-if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n+echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n+echo \"configure:2711: checking for $ac_func\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2754 \"configure\"\n+#line 2716 \"configure\"\n #include \"confdefs.h\"\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char $ac_func(); below.  */\n+#include <assert.h>\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char $ac_func();\n \n-#include <stdio.h>\n-#ifdef STRING_WITH_STRINGS\n-# include <string.h>\n-# include <strings.h>\n+int main() {\n+\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n+choke me\n #else\n-# ifdef HAVE_STRING_H\n-#  include <string.h>\n-# else\n-#  ifdef HAVE_STRINGS_H\n-#   include <strings.h>\n-#  endif\n-# endif\n-#endif\n-#ifdef HAVE_STDLIB_H\n-#include <stdlib.h>\n-#endif\n-#ifdef HAVE_UNISTD_H\n-#include <unistd.h>\n-#endif\n-#ifndef HAVE_RINDEX\n-#define rindex strrchr\n-#endif\n-#ifndef HAVE_INDEX\n-#define index strchr\n-#endif\n-#ifdef HAVE_MALLOC_H\n-#include <malloc.h>\n+$ac_func();\n #endif\n \n-int main() {\n-char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:2790: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2739: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n-  eval \"gcc_cv_decl_needed_$ac_func=no\"\n+  eval \"ac_cv_func_$ac_func=yes\"\n else\n   echo \"configure: failed program was:\" >&5\n   cat conftest.$ac_ext >&5\n   rm -rf conftest*\n-  eval \"gcc_cv_decl_needed_$ac_func=yes\"\n+  eval \"ac_cv_func_$ac_func=no\"\n fi\n rm -f conftest*\n fi\n \n-if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$ac_func`\\\" = yes\"; then\n+if eval \"test \\\"`echo '$ac_cv_func_'$ac_func`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n-  gcc_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n   cat >> confdefs.h <<EOF\n-#define $gcc_tr_decl 1\n+#define $ac_tr_func 1\n EOF\n-\n+ \n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n-\n done\n \n-\n-for ac_func in getrlimit setrlimit getrusage\n-do\n-echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2819: checking whether $ac_func must be declared\" >&5\n-if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n+echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n+echo \"configure:2764: checking for working mmap\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test \"$cross_compiling\" = yes; then\n+  ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2824 \"configure\"\n+#line 2772 \"configure\"\n #include \"confdefs.h\"\n \n-#include <stdio.h>\n-#ifdef STRING_WITH_STRINGS\n-# include <string.h>\n-# include <strings.h>\n-#else\n-# ifdef HAVE_STRING_H\n-#  include <string.h>\n-# else\n-#  ifdef HAVE_STRINGS_H\n-#   include <strings.h>\n-#  endif\n-# endif\n-#endif\n-#ifdef HAVE_STDLIB_H\n-#include <stdlib.h>\n-#endif\n-#ifdef HAVE_UNISTD_H\n-#include <unistd.h>\n-#endif\n-#ifndef HAVE_RINDEX\n-#define rindex strrchr\n-#endif\n-#ifndef HAVE_INDEX\n-#define index strchr\n-#endif\n+/* Thanks to Mike Haertel and Jim Avera for this test.\n+   Here is a matrix of mmap possibilities:\n+\tmmap private not fixed\n+\tmmap private fixed at somewhere currently unmapped\n+\tmmap private fixed at somewhere already mapped\n+\tmmap shared not fixed\n+\tmmap shared fixed at somewhere currently unmapped\n+\tmmap shared fixed at somewhere already mapped\n+   For private mappings, we should verify that changes cannot be read()\n+   back from the file, nor mmap's back from the file at a different\n+   address.  (There have been systems where private was not correctly\n+   implemented like the infamous i386 svr4.0, and systems where the\n+   VM page cache was not coherent with the filesystem buffer cache\n+   like early versions of FreeBSD and possibly contemporary NetBSD.)\n+   For shared mappings, we should conversely verify that changes get\n+   propogated back to all the places they're supposed to be.\n+\n+   Grep wants private fixed already mapped.\n+   The main things grep needs to know about mmap are:\n+   * does it exist and is it safe to write into the mmap'd area\n+   * how to use it (BSD variants)  */\n #include <sys/types.h>\n-#ifdef HAVE_SYS_RESOURCE_H\n-#include <sys/resource.h>\n-#endif\n+#include <fcntl.h>\n+#include <sys/mman.h>\n \n-int main() {\n-char *(*pfn) = (char *(*)) $ac_func\n-; return 0; }\n-EOF\n-if { (eval echo configure:2861: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n-  rm -rf conftest*\n-  eval \"gcc_cv_decl_needed_$ac_func=no\"\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  eval \"gcc_cv_decl_needed_$ac_func=yes\"\n-fi\n-rm -f conftest*\n-fi\n+/* This mess was copied from the GNU getpagesize.h.  */\n+#ifndef HAVE_GETPAGESIZE\n+# ifdef HAVE_UNISTD_H\n+#  include <unistd.h>\n+# endif\n \n-if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$ac_func`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-  gcc_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n-  cat >> confdefs.h <<EOF\n-#define $gcc_tr_decl 1\n-EOF\n+/* Assume that all systems that can run configure have sys/param.h.  */\n+# ifndef HAVE_SYS_PARAM_H\n+#  define HAVE_SYS_PARAM_H 1\n+# endif\n \n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n+# ifdef _SC_PAGESIZE\n+#  define getpagesize() sysconf(_SC_PAGESIZE)\n+# else /* no _SC_PAGESIZE */\n+#  ifdef HAVE_SYS_PARAM_H\n+#   include <sys/param.h>\n+#   ifdef EXEC_PAGESIZE\n+#    define getpagesize() EXEC_PAGESIZE\n+#   else /* no EXEC_PAGESIZE */\n+#    ifdef NBPG\n+#     define getpagesize() NBPG * CLSIZE\n+#     ifndef CLSIZE\n+#      define CLSIZE 1\n+#     endif /* no CLSIZE */\n+#    else /* no NBPG */\n+#     ifdef NBPC\n+#      define getpagesize() NBPC\n+#     else /* no NBPC */\n+#      ifdef PAGESIZE\n+#       define getpagesize() PAGESIZE\n+#      endif /* PAGESIZE */\n+#     endif /* no NBPC */\n+#    endif /* no NBPG */\n+#   endif /* no EXEC_PAGESIZE */\n+#  else /* no HAVE_SYS_PARAM_H */\n+#   define getpagesize() 8192\t/* punt totally */\n+#  endif /* no HAVE_SYS_PARAM_H */\n+# endif /* no _SC_PAGESIZE */\n \n-done\n+#endif /* no HAVE_GETPAGESIZE */\n \n+#ifdef __cplusplus\n+extern \"C\" { void *malloc(unsigned); }\n+#else\n+char *malloc();\n+#endif\n \n-echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2888: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n+int\n+main()\n+{\n+\tchar *data, *data2, *data3;\n+\tint i, pagesize;\n+\tint fd;\n+\n+\tpagesize = getpagesize();\n+\n+\t/*\n+\t * First, make a file with some known garbage in it.\n+\t */\n+\tdata = malloc(pagesize);\n+\tif (!data)\n+\t\texit(1);\n+\tfor (i = 0; i < pagesize; ++i)\n+\t\t*(data + i) = rand();\n+\tumask(0);\n+\tfd = creat(\"conftestmmap\", 0600);\n+\tif (fd < 0)\n+\t\texit(1);\n+\tif (write(fd, data, pagesize) != pagesize)\n+\t\texit(1);\n+\tclose(fd);\n+\n+\t/*\n+\t * Next, try to mmap the file at a fixed address which\n+\t * already has something else allocated at it.  If we can,\n+\t * also make sure that we see the same garbage.\n+\t */\n+\tfd = open(\"conftestmmap\", O_RDWR);\n+\tif (fd < 0)\n+\t\texit(1);\n+\tdata2 = malloc(2 * pagesize);\n+\tif (!data2)\n+\t\texit(1);\n+\tdata2 += (pagesize - ((int) data2 & (pagesize - 1))) & (pagesize - 1);\n+\tif (data2 != mmap(data2, pagesize, PROT_READ | PROT_WRITE,\n+\t    MAP_PRIVATE | MAP_FIXED, fd, 0L))\n+\t\texit(1);\n+\tfor (i = 0; i < pagesize; ++i)\n+\t\tif (*(data + i) != *(data2 + i))\n+\t\t\texit(1);\n+\n+\t/*\n+\t * Finally, make sure that changes to the mapped area\n+\t * do not percolate back to the file as seen by read().\n+\t * (This is a bug on some variants of i386 svr4.0.)\n+\t */\n+\tfor (i = 0; i < pagesize; ++i)\n+\t\t*(data2 + i) = *(data2 + i) + 1;\n+\tdata3 = malloc(pagesize);\n+\tif (!data3)\n+\t\texit(1);\n+\tif (read(fd, data3, pagesize) != pagesize)\n+\t\texit(1);\n+\tfor (i = 0; i < pagesize; ++i)\n+\t\tif (*(data + i) != *(data3 + i))\n+\t\t\texit(1);\n+\tclose(fd);\n+\tunlink(\"conftestmmap\");\n+\texit(0);\n+}\n+\n+EOF\n+if { (eval echo configure:2912: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+then\n+  ac_cv_func_mmap_fixed_mapped=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -fr conftest*\n+  ac_cv_func_mmap_fixed_mapped=no\n+fi\n+rm -fr conftest*\n+fi\n+\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_func_mmap_fixed_mapped\" 1>&6\n+if test $ac_cv_func_mmap_fixed_mapped = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_MMAP 1\n+EOF\n+\n+fi\n+\n+\n+for ac_func in bcopy bzero bcmp \\\n+\tindex rindex getenv atol sbrk abort atof strerror getcwd getwd \\\n+\tstrsignal putc_unlocked fputs_unlocked strstr\n+do\n+echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n+echo \"configure:2940: checking whether $ac_func must be declared\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2945 \"configure\"\n+#include \"confdefs.h\"\n+\n+#include <stdio.h>\n+#ifdef STRING_WITH_STRINGS\n+# include <string.h>\n+# include <strings.h>\n+#else\n+# ifdef HAVE_STRING_H\n+#  include <string.h>\n+# else\n+#  ifdef HAVE_STRINGS_H\n+#   include <strings.h>\n+#  endif\n+# endif\n+#endif\n+#ifdef HAVE_STDLIB_H\n+#include <stdlib.h>\n+#endif\n+#ifdef HAVE_UNISTD_H\n+#include <unistd.h>\n+#endif\n+#ifndef HAVE_RINDEX\n+#define rindex strrchr\n+#endif\n+#ifndef HAVE_INDEX\n+#define index strchr\n+#endif\n+\n+int main() {\n+char *(*pfn) = (char *(*)) $ac_func\n+; return 0; }\n+EOF\n+if { (eval echo configure:2978: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  eval \"gcc_cv_decl_needed_$ac_func=no\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"gcc_cv_decl_needed_$ac_func=yes\"\n+fi\n+rm -f conftest*\n+fi\n+\n+if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+  gcc_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+  cat >> confdefs.h <<EOF\n+#define $gcc_tr_decl 1\n+EOF\n+\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+done\n+\n+\n+for ac_func in malloc realloc calloc free\n+do\n+echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n+echo \"configure:3007: checking whether $ac_func must be declared\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 3012 \"configure\"\n+#include \"confdefs.h\"\n+\n+#include <stdio.h>\n+#ifdef STRING_WITH_STRINGS\n+# include <string.h>\n+# include <strings.h>\n+#else\n+# ifdef HAVE_STRING_H\n+#  include <string.h>\n+# else\n+#  ifdef HAVE_STRINGS_H\n+#   include <strings.h>\n+#  endif\n+# endif\n+#endif\n+#ifdef HAVE_STDLIB_H\n+#include <stdlib.h>\n+#endif\n+#ifdef HAVE_UNISTD_H\n+#include <unistd.h>\n+#endif\n+#ifndef HAVE_RINDEX\n+#define rindex strrchr\n+#endif\n+#ifndef HAVE_INDEX\n+#define index strchr\n+#endif\n+#ifdef HAVE_MALLOC_H\n+#include <malloc.h>\n+#endif\n+\n+int main() {\n+char *(*pfn) = (char *(*)) $ac_func\n+; return 0; }\n+EOF\n+if { (eval echo configure:3048: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  eval \"gcc_cv_decl_needed_$ac_func=no\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"gcc_cv_decl_needed_$ac_func=yes\"\n+fi\n+rm -f conftest*\n+fi\n+\n+if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+  gcc_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+  cat >> confdefs.h <<EOF\n+#define $gcc_tr_decl 1\n+EOF\n+\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+done\n+\n+\n+for ac_func in getrlimit setrlimit getrusage\n+do\n+echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n+echo \"configure:3077: checking whether $ac_func must be declared\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 3082 \"configure\"\n+#include \"confdefs.h\"\n+\n+#include <stdio.h>\n+#ifdef STRING_WITH_STRINGS\n+# include <string.h>\n+# include <strings.h>\n+#else\n+# ifdef HAVE_STRING_H\n+#  include <string.h>\n+# else\n+#  ifdef HAVE_STRINGS_H\n+#   include <strings.h>\n+#  endif\n+# endif\n+#endif\n+#ifdef HAVE_STDLIB_H\n+#include <stdlib.h>\n+#endif\n+#ifdef HAVE_UNISTD_H\n+#include <unistd.h>\n+#endif\n+#ifndef HAVE_RINDEX\n+#define rindex strrchr\n+#endif\n+#ifndef HAVE_INDEX\n+#define index strchr\n+#endif\n+#include <sys/types.h>\n+#ifdef HAVE_SYS_RESOURCE_H\n+#include <sys/resource.h>\n+#endif\n+\n+int main() {\n+char *(*pfn) = (char *(*)) $ac_func\n+; return 0; }\n+EOF\n+if { (eval echo configure:3119: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  eval \"gcc_cv_decl_needed_$ac_func=no\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"gcc_cv_decl_needed_$ac_func=yes\"\n+fi\n+rm -f conftest*\n+fi\n+\n+if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+  gcc_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+  cat >> confdefs.h <<EOF\n+#define $gcc_tr_decl 1\n+EOF\n+\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+done\n+\n+\n+echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n+echo \"configure:3146: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2893 \"configure\"\n+#line 3151 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -2901,7 +3159,7 @@ int main() {\n char *msg = *(sys_siglist + 1);\n ; return 0; }\n EOF\n-if { (eval echo configure:2905: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3163: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_decl_sys_siglist=yes\n else\n@@ -2924,12 +3182,12 @@ fi\n \n # mkdir takes a single argument on some systems. \n echo $ac_n \"checking if mkdir takes one argument\"\"... $ac_c\" 1>&6\n-echo \"configure:2928: checking if mkdir takes one argument\" >&5\n+echo \"configure:3186: checking if mkdir takes one argument\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_mkdir_takes_one_arg'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2933 \"configure\"\n+#line 3191 \"configure\"\n #include \"confdefs.h\"\n \n #include <sys/types.h>\n@@ -2946,7 +3204,7 @@ int main() {\n mkdir (\"foo\", 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:2950: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3208: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_mkdir_takes_one_arg=no\n else\n@@ -6374,15 +6632,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:6378: checking for strerror in -lcposix\" >&5\n+echo \"configure:6636: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6386 \"configure\"\n+#line 6644 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6393,7 +6651,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:6397: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6655: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -6416,12 +6674,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:6420: checking for working const\" >&5\n+echo \"configure:6678: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6425 \"configure\"\n+#line 6683 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -6470,7 +6728,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6474: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6732: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -6491,21 +6749,21 @@ EOF\n fi\n \n echo $ac_n \"checking for inline\"\"... $ac_c\" 1>&6\n-echo \"configure:6495: checking for inline\" >&5\n+echo \"configure:6753: checking for inline\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_inline'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_inline=no\n for ac_kw in inline __inline__ __inline; do\n   cat > conftest.$ac_ext <<EOF\n-#line 6502 \"configure\"\n+#line 6760 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n } $ac_kw foo() {\n ; return 0; }\n EOF\n-if { (eval echo configure:6509: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6767: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_inline=$ac_kw; break\n else\n@@ -6531,12 +6789,12 @@ EOF\n esac\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6535: checking for off_t\" >&5\n+echo \"configure:6793: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6540 \"configure\"\n+#line 6798 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6564,12 +6822,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6568: checking for size_t\" >&5\n+echo \"configure:6826: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6573 \"configure\"\n+#line 6831 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6599,19 +6857,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6603: checking for working alloca.h\" >&5\n+echo \"configure:6861: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6608 \"configure\"\n+#line 6866 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:6615: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6873: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -6632,12 +6890,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6636: checking for alloca\" >&5\n+echo \"configure:6894: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6641 \"configure\"\n+#line 6899 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -6665,220 +6923,74 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:6669: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n-  rm -rf conftest*\n-  ac_cv_func_alloca_works=yes\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  ac_cv_func_alloca_works=no\n-fi\n-rm -f conftest*\n-fi\n-\n-echo \"$ac_t\"\"$ac_cv_func_alloca_works\" 1>&6\n-if test $ac_cv_func_alloca_works = yes; then\n-  cat >> confdefs.h <<\\EOF\n-#define HAVE_ALLOCA 1\n-EOF\n-\n-fi\n-\n-if test $ac_cv_func_alloca_works = no; then\n-  # The SVR3 libPW and SVR4 libucb both contain incompatible functions\n-  # that cause trouble.  Some versions do not even contain alloca or\n-  # contain a buggy version.  If you still want to use their alloca,\n-  # use ar to extract alloca.o from them instead of compiling alloca.c.\n-  ALLOCA=alloca.${ac_objext}\n-  cat >> confdefs.h <<\\EOF\n-#define C_ALLOCA 1\n-EOF\n-\n-\n-echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:6701: checking whether alloca needs Cray hooks\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 6706 \"configure\"\n-#include \"confdefs.h\"\n-#if defined(CRAY) && ! defined(CRAY2)\n-webecray\n-#else\n-wenotbecray\n-#endif\n-\n-EOF\n-if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n-  egrep \"webecray\" >/dev/null 2>&1; then\n-  rm -rf conftest*\n-  ac_cv_os_cray=yes\n-else\n-  rm -rf conftest*\n-  ac_cv_os_cray=no\n-fi\n-rm -f conftest*\n-\n-fi\n-\n-echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n-if test $ac_cv_os_cray = yes; then\n-for ac_func in _getb67 GETB67 getb67; do\n-  echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6731: checking for $ac_func\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 6736 \"configure\"\n-#include \"confdefs.h\"\n-/* System header to define __stub macros and hopefully few prototypes,\n-    which can conflict with char $ac_func(); below.  */\n-#include <assert.h>\n-/* Override any gcc2 internal prototype to avoid an error.  */\n-/* We use char because int might match the return type of a gcc2\n-    builtin and then its argument prototype would still apply.  */\n-char $ac_func();\n-\n-int main() {\n-\n-/* The GNU C library defines this for functions which it implements\n-    to always fail with ENOSYS.  Some functions are actually named\n-    something starting with __ and the normal name is an alias.  */\n-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n-choke me\n-#else\n-$ac_func();\n-#endif\n-\n-; return 0; }\n-EOF\n-if { (eval echo configure:6759: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n-  rm -rf conftest*\n-  eval \"ac_cv_func_$ac_func=yes\"\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  eval \"ac_cv_func_$ac_func=no\"\n-fi\n-rm -f conftest*\n-fi\n-\n-if eval \"test \\\"`echo '$ac_cv_func_'$ac_func`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-  cat >> confdefs.h <<EOF\n-#define CRAY_STACKSEG_END $ac_func\n-EOF\n-\n-  break\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-\n-done\n-fi\n-\n-echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6786: checking stack direction for C alloca\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  if test \"$cross_compiling\" = yes; then\n-  ac_cv_c_stack_direction=0\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 6794 \"configure\"\n-#include \"confdefs.h\"\n-find_stack_direction ()\n-{\n-  static char *addr = 0;\n-  auto char dummy;\n-  if (addr == 0)\n-    {\n-      addr = &dummy;\n-      return find_stack_direction ();\n-    }\n-  else\n-    return (&dummy > addr) ? 1 : -1;\n-}\n-main ()\n-{\n-  exit (find_stack_direction() < 0);\n-}\n-EOF\n-if { (eval echo configure:6813: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n-then\n-  ac_cv_c_stack_direction=1\n+if { (eval echo configure:6927: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  ac_cv_func_alloca_works=yes\n else\n   echo \"configure: failed program was:\" >&5\n   cat conftest.$ac_ext >&5\n-  rm -fr conftest*\n-  ac_cv_c_stack_direction=-1\n+  rm -rf conftest*\n+  ac_cv_func_alloca_works=no\n fi\n-rm -fr conftest*\n+rm -f conftest*\n fi\n \n+echo \"$ac_t\"\"$ac_cv_func_alloca_works\" 1>&6\n+if test $ac_cv_func_alloca_works = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_ALLOCA 1\n+EOF\n+\n fi\n \n-echo \"$ac_t\"\"$ac_cv_c_stack_direction\" 1>&6\n-cat >> confdefs.h <<EOF\n-#define STACK_DIRECTION $ac_cv_c_stack_direction\n+if test $ac_cv_func_alloca_works = no; then\n+  # The SVR3 libPW and SVR4 libucb both contain incompatible functions\n+  # that cause trouble.  Some versions do not even contain alloca or\n+  # contain a buggy version.  If you still want to use their alloca,\n+  # use ar to extract alloca.o from them instead of compiling alloca.c.\n+  ALLOCA=alloca.${ac_objext}\n+  cat >> confdefs.h <<\\EOF\n+#define C_ALLOCA 1\n EOF\n \n-fi\n \n-for ac_hdr in unistd.h\n-do\n-ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n-echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:6838: checking for $ac_hdr\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n+echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n+echo \"configure:6959: checking whether alloca needs Cray hooks\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6843 \"configure\"\n+#line 6964 \"configure\"\n #include \"confdefs.h\"\n-#include <$ac_hdr>\n+#if defined(CRAY) && ! defined(CRAY2)\n+webecray\n+#else\n+wenotbecray\n+#endif\n+\n EOF\n-ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6848: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n-ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n-if test -z \"$ac_err\"; then\n+if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n+  egrep \"webecray\" >/dev/null 2>&1; then\n   rm -rf conftest*\n-  eval \"ac_cv_header_$ac_safe=yes\"\n+  ac_cv_os_cray=yes\n else\n-  echo \"$ac_err\" >&5\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n   rm -rf conftest*\n-  eval \"ac_cv_header_$ac_safe=no\"\n+  ac_cv_os_cray=no\n fi\n rm -f conftest*\n+\n fi\n-if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`\n-  cat >> confdefs.h <<EOF\n-#define $ac_tr_hdr 1\n-EOF\n- \n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-done\n \n-for ac_func in getpagesize\n-do\n-echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6877: checking for $ac_func\" >&5\n+echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n+if test $ac_cv_os_cray = yes; then\n+for ac_func in _getb67 GETB67 getb67; do\n+  echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n+echo \"configure:6989: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6882 \"configure\"\n+#line 6994 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6901,7 +7013,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6905: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7017: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6915,183 +7027,63 @@ fi\n \n if eval \"test \\\"`echo '$ac_cv_func_'$ac_func`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n-    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n   cat >> confdefs.h <<EOF\n-#define $ac_tr_func 1\n+#define CRAY_STACKSEG_END $ac_func\n EOF\n- \n+\n+  break\n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n+\n done\n+fi\n \n-echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:6930: checking for working mmap\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n+echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n+echo \"configure:7044: checking stack direction for C alloca\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n-  ac_cv_func_mmap_fixed_mapped=no\n+  ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6938 \"configure\"\n+#line 7052 \"configure\"\n #include \"confdefs.h\"\n-\n-/* Thanks to Mike Haertel and Jim Avera for this test.\n-   Here is a matrix of mmap possibilities:\n-\tmmap private not fixed\n-\tmmap private fixed at somewhere currently unmapped\n-\tmmap private fixed at somewhere already mapped\n-\tmmap shared not fixed\n-\tmmap shared fixed at somewhere currently unmapped\n-\tmmap shared fixed at somewhere already mapped\n-   For private mappings, we should verify that changes cannot be read()\n-   back from the file, nor mmap's back from the file at a different\n-   address.  (There have been systems where private was not correctly\n-   implemented like the infamous i386 svr4.0, and systems where the\n-   VM page cache was not coherent with the filesystem buffer cache\n-   like early versions of FreeBSD and possibly contemporary NetBSD.)\n-   For shared mappings, we should conversely verify that changes get\n-   propogated back to all the places they're supposed to be.\n-\n-   Grep wants private fixed already mapped.\n-   The main things grep needs to know about mmap are:\n-   * does it exist and is it safe to write into the mmap'd area\n-   * how to use it (BSD variants)  */\n-#include <sys/types.h>\n-#include <fcntl.h>\n-#include <sys/mman.h>\n-\n-/* This mess was copied from the GNU getpagesize.h.  */\n-#ifndef HAVE_GETPAGESIZE\n-# ifdef HAVE_UNISTD_H\n-#  include <unistd.h>\n-# endif\n-\n-/* Assume that all systems that can run configure have sys/param.h.  */\n-# ifndef HAVE_SYS_PARAM_H\n-#  define HAVE_SYS_PARAM_H 1\n-# endif\n-\n-# ifdef _SC_PAGESIZE\n-#  define getpagesize() sysconf(_SC_PAGESIZE)\n-# else /* no _SC_PAGESIZE */\n-#  ifdef HAVE_SYS_PARAM_H\n-#   include <sys/param.h>\n-#   ifdef EXEC_PAGESIZE\n-#    define getpagesize() EXEC_PAGESIZE\n-#   else /* no EXEC_PAGESIZE */\n-#    ifdef NBPG\n-#     define getpagesize() NBPG * CLSIZE\n-#     ifndef CLSIZE\n-#      define CLSIZE 1\n-#     endif /* no CLSIZE */\n-#    else /* no NBPG */\n-#     ifdef NBPC\n-#      define getpagesize() NBPC\n-#     else /* no NBPC */\n-#      ifdef PAGESIZE\n-#       define getpagesize() PAGESIZE\n-#      endif /* PAGESIZE */\n-#     endif /* no NBPC */\n-#    endif /* no NBPG */\n-#   endif /* no EXEC_PAGESIZE */\n-#  else /* no HAVE_SYS_PARAM_H */\n-#   define getpagesize() 8192\t/* punt totally */\n-#  endif /* no HAVE_SYS_PARAM_H */\n-# endif /* no _SC_PAGESIZE */\n-\n-#endif /* no HAVE_GETPAGESIZE */\n-\n-#ifdef __cplusplus\n-extern \"C\" { void *malloc(unsigned); }\n-#else\n-char *malloc();\n-#endif\n-\n-int\n-main()\n+find_stack_direction ()\n {\n-\tchar *data, *data2, *data3;\n-\tint i, pagesize;\n-\tint fd;\n-\n-\tpagesize = getpagesize();\n-\n-\t/*\n-\t * First, make a file with some known garbage in it.\n-\t */\n-\tdata = malloc(pagesize);\n-\tif (!data)\n-\t\texit(1);\n-\tfor (i = 0; i < pagesize; ++i)\n-\t\t*(data + i) = rand();\n-\tumask(0);\n-\tfd = creat(\"conftestmmap\", 0600);\n-\tif (fd < 0)\n-\t\texit(1);\n-\tif (write(fd, data, pagesize) != pagesize)\n-\t\texit(1);\n-\tclose(fd);\n-\n-\t/*\n-\t * Next, try to mmap the file at a fixed address which\n-\t * already has something else allocated at it.  If we can,\n-\t * also make sure that we see the same garbage.\n-\t */\n-\tfd = open(\"conftestmmap\", O_RDWR);\n-\tif (fd < 0)\n-\t\texit(1);\n-\tdata2 = malloc(2 * pagesize);\n-\tif (!data2)\n-\t\texit(1);\n-\tdata2 += (pagesize - ((int) data2 & (pagesize - 1))) & (pagesize - 1);\n-\tif (data2 != mmap(data2, pagesize, PROT_READ | PROT_WRITE,\n-\t    MAP_PRIVATE | MAP_FIXED, fd, 0L))\n-\t\texit(1);\n-\tfor (i = 0; i < pagesize; ++i)\n-\t\tif (*(data + i) != *(data2 + i))\n-\t\t\texit(1);\n-\n-\t/*\n-\t * Finally, make sure that changes to the mapped area\n-\t * do not percolate back to the file as seen by read().\n-\t * (This is a bug on some variants of i386 svr4.0.)\n-\t */\n-\tfor (i = 0; i < pagesize; ++i)\n-\t\t*(data2 + i) = *(data2 + i) + 1;\n-\tdata3 = malloc(pagesize);\n-\tif (!data3)\n-\t\texit(1);\n-\tif (read(fd, data3, pagesize) != pagesize)\n-\t\texit(1);\n-\tfor (i = 0; i < pagesize; ++i)\n-\t\tif (*(data + i) != *(data3 + i))\n-\t\t\texit(1);\n-\tclose(fd);\n-\tunlink(\"conftestmmap\");\n-\texit(0);\n+  static char *addr = 0;\n+  auto char dummy;\n+  if (addr == 0)\n+    {\n+      addr = &dummy;\n+      return find_stack_direction ();\n+    }\n+  else\n+    return (&dummy > addr) ? 1 : -1;\n+}\n+main ()\n+{\n+  exit (find_stack_direction() < 0);\n }\n-\n EOF\n-if { (eval echo configure:7078: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:7071: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n-  ac_cv_func_mmap_fixed_mapped=yes\n+  ac_cv_c_stack_direction=1\n else\n   echo \"configure: failed program was:\" >&5\n   cat conftest.$ac_ext >&5\n   rm -fr conftest*\n-  ac_cv_func_mmap_fixed_mapped=no\n+  ac_cv_c_stack_direction=-1\n fi\n rm -fr conftest*\n fi\n \n fi\n \n-echo \"$ac_t\"\"$ac_cv_func_mmap_fixed_mapped\" 1>&6\n-if test $ac_cv_func_mmap_fixed_mapped = yes; then\n-  cat >> confdefs.h <<\\EOF\n-#define HAVE_MMAP 1\n+echo \"$ac_t\"\"$ac_cv_c_stack_direction\" 1>&6\n+cat >> confdefs.h <<EOF\n+#define STACK_DIRECTION $ac_cv_c_stack_direction\n EOF\n \n fi\n@@ -7102,17 +7094,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7106: checking for $ac_hdr\" >&5\n+echo \"configure:7098: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7111 \"configure\"\n+#line 7103 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7116: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7108: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7142,12 +7134,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7146: checking for $ac_func\" >&5\n+echo \"configure:7138: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7151 \"configure\"\n+#line 7143 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7170,7 +7162,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7174: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7166: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7199,12 +7191,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7203: checking for $ac_func\" >&5\n+echo \"configure:7195: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7208 \"configure\"\n+#line 7200 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7227,7 +7219,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7231: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7223: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7261,19 +7253,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:7265: checking for LC_MESSAGES\" >&5\n+echo \"configure:7257: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7270 \"configure\"\n+#line 7262 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:7277: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7269: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -7294,7 +7286,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7298: checking whether NLS is requested\" >&5\n+echo \"configure:7290: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -7314,7 +7306,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7318: checking whether included gettext is requested\" >&5\n+echo \"configure:7310: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -7333,17 +7325,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7337: checking for libintl.h\" >&5\n+echo \"configure:7329: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7342 \"configure\"\n+#line 7334 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7347: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7339: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7360,19 +7352,19 @@ fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:7364: checking for gettext in libc\" >&5\n+echo \"configure:7356: checking for gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7369 \"configure\"\n+#line 7361 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n int main() {\n return (int) gettext (\"\")\n ; return 0; }\n EOF\n-if { (eval echo configure:7376: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7368: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gettext_libc=yes\n else\n@@ -7388,15 +7380,15 @@ echo \"$ac_t\"\"$gt_cv_func_gettext_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for bindtextdomain in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7392: checking for bindtextdomain in -lintl\" >&5\n+echo \"configure:7384: checking for bindtextdomain in -lintl\" >&5\n ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7400 \"configure\"\n+#line 7392 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7407,7 +7399,7 @@ int main() {\n bindtextdomain()\n ; return 0; }\n EOF\n-if { (eval echo configure:7411: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7403: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7423,20 +7415,20 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7427: checking for gettext in libintl\" >&5\n+echo \"configure:7419: checking for gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   echo $ac_n \"checking for gettext in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7432: checking for gettext in -lintl\" >&5\n+echo \"configure:7424: checking for gettext in -lintl\" >&5\n ac_lib_var=`echo intl'_'gettext | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7440 \"configure\"\n+#line 7432 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7447,7 +7439,7 @@ int main() {\n gettext()\n ; return 0; }\n EOF\n-if { (eval echo configure:7451: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7443: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7486,7 +7478,7 @@ EOF\n \t      # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7490: checking for $ac_word\" >&5\n+echo \"configure:7482: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7520,12 +7512,12 @@ fi\n \t\tfor ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7524: checking for $ac_func\" >&5\n+echo \"configure:7516: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7529 \"configure\"\n+#line 7521 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7548,7 +7540,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7552: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7544: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7575,7 +7567,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7579: checking for $ac_word\" >&5\n+echo \"configure:7571: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7611,7 +7603,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7615: checking for $ac_word\" >&5\n+echo \"configure:7607: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7643,15 +7635,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 7647 \"configure\"\n+#line 7639 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:7655: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7647: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -7674,7 +7666,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:7678: checking whether catgets can be used\" >&5\n+echo \"configure:7670: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -7687,22 +7679,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:7691: checking for main in -li\" >&5\n+echo \"configure:7683: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7699 \"configure\"\n+#line 7691 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:7706: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7698: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7730,12 +7722,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:7734: checking for catgets\" >&5\n+echo \"configure:7726: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7739 \"configure\"\n+#line 7731 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -7758,7 +7750,7 @@ catgets();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7762: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7754: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -7780,7 +7772,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7784: checking for $ac_word\" >&5\n+echo \"configure:7776: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7816,7 +7808,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7820: checking for $ac_word\" >&5\n+echo \"configure:7812: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7853,7 +7845,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7857: checking for $ac_word\" >&5\n+echo \"configure:7849: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7888,7 +7880,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7892: checking for $ac_word\" >&5\n+echo \"configure:7884: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7946,7 +7938,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7950: checking for $ac_word\" >&5\n+echo \"configure:7942: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7980,7 +7972,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7984: checking for $ac_word\" >&5\n+echo \"configure:7976: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8016,7 +8008,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8020: checking for $ac_word\" >&5\n+echo \"configure:8012: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8109,7 +8101,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:8113: checking for catalogs to be installed\" >&5\n+echo \"configure:8105: checking for catalogs to be installed\" >&5\n        NEW_LINGUAS=\n        for lang in ${LINGUAS=$ALL_LINGUAS}; do\n          case \"$ALL_LINGUAS\" in\n@@ -8137,17 +8129,17 @@ echo \"configure:8113: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8141: checking for linux/version.h\" >&5\n+echo \"configure:8133: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8146 \"configure\"\n+#line 8138 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:8151: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:8143: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8222,7 +8214,7 @@ fi\n \n \n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:8226: checking whether windows registry support is requested\" >&5\n+echo \"configure:8218: checking whether windows registry support is requested\" >&5\n if test x$enable_win32_registry != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -8251,7 +8243,7 @@ esac\n \n if test x$enable_win32_registry != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:8255: checking registry key on windows hosts\" >&5\n+echo \"configure:8247: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -8427,7 +8419,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:8431: checking assembler alignment features\" >&5\n+echo \"configure:8423: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -8548,7 +8540,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:8552: checking assembler subsection support\" >&5\n+echo \"configure:8544: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -8590,7 +8582,7 @@ echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:8594: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:8586: checking assembler .register pseudo-op support\" >&5\n     gcc_cv_as_register_pseudo_op=\n     if test x$gcc_cv_as != x; then\n \t# Check if we have .register\n@@ -8607,7 +8599,7 @@ EOF\n     echo \"$ac_t\"\"$gcc_cv_as_register_pseudo_op\" 1>&6\n \n     echo $ac_n \"checking assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:8611: checking assembler offsetable %lo() support\" >&5\n+echo \"configure:8603: checking assembler offsetable %lo() support\" >&5\n     gcc_cv_as_offsetable_lo10=\n     if test x$gcc_cv_as != x; then\n \t# Check if assembler has offsetable %lo()\n@@ -8644,7 +8636,7 @@ EOF\n \n   i[34567]86-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:8648: checking assembler instructions\" >&5\n+echo \"configure:8640: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_as != x; then\n \tset \"filds fists\" \"filds mem; fists mem\"\n@@ -8729,6 +8721,29 @@ if test $thread_file != single; then\n fi\n \n \n+# Find out what GC implementation we want, or may, use.\n+# Check whether --with-gc or --without-gc was given.\n+if test \"${with_gc+set}\" = set; then\n+  withval=\"$with_gc\"\n+  case \"$withval\" in\n+  simple | page)\n+    GGC=ggc-$withval\n+    ;;\n+  *)\n+    { echo \"configure: error: $withval is an invalid option to --with-gc\" 1>&2; exit 1; }\n+    ;;\n+esac\n+else\n+  if test $ac_cv_func_mmap_fixed_mapped = yes; then\n+  GGC=ggc-page\n+else\n+  GGC=ggc-simple\n+fi\n+fi\n+\n+\n+echo \"Using $GGC for garbage collection.\"\n+\n # Make empty files to contain the specs and options for each language.\n # Then add #include lines to for a compiler that has specs and/or options.\n \n@@ -9209,6 +9224,7 @@ s%@GT_YES@%$GT_YES%g\n s%@MKINSTALLDIRS@%$MKINSTALLDIRS%g\n s%@l@%$l%g\n s%@gthread_flags@%$gthread_flags%g\n+s%@GGC@%$GGC%g\n s%@build_canonical@%$build_canonical%g\n s%@host_canonical@%$host_canonical%g\n s%@target_subdir@%$target_subdir%g"}, {"sha": "a7f9b00432fc960d781f761cb7dd2773fdd73af3", "filename": "gcc/configure.in", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81bf3d9ed3ef013962d6913294fa6fdf6c140fee/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81bf3d9ed3ef013962d6913294fa6fdf6c140fee/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=81bf3d9ed3ef013962d6913294fa6fdf6c140fee", "patch": "@@ -385,6 +385,7 @@ case \"${host}\" in\n   ;;\n esac\n AC_FUNC_VFORK\n+AC_FUNC_MMAP\n \n GCC_NEED_DECLARATIONS(bcopy bzero bcmp \\\n \tindex rindex getenv atol sbrk abort atof strerror getcwd getwd \\\n@@ -4430,6 +4431,26 @@ if test $thread_file != single; then\n fi\n AC_SUBST(gthread_flags)\n \n+# Find out what GC implementation we want, or may, use.\n+AC_ARG_WITH(gc,\n+[  --with-gc={simple,page} Choose the garbage collection mechanism to use\n+                           with the compiler.],\n+[case \"$withval\" in\n+  simple | page)\n+    GGC=ggc-$withval\n+    ;;\n+  *)\n+    AC_MSG_ERROR([$withval is an invalid option to --with-gc])\n+    ;;\n+esac],\n+[if test $ac_cv_func_mmap_fixed_mapped = yes; then\n+  GGC=ggc-page\n+else\n+  GGC=ggc-simple\n+fi])\n+AC_SUBST(GGC)\n+echo \"Using $GGC for garbage collection.\"\n+\n # Make empty files to contain the specs and options for each language.\n # Then add #include lines to for a compiler that has specs and/or options.\n "}]}