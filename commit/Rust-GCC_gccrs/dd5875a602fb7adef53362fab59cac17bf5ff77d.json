{"sha": "dd5875a602fb7adef53362fab59cac17bf5ff77d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGQ1ODc1YTYwMmZiN2FkZWY1MzM2MmZhYjU5Y2FjMTdiZjVmZjc3ZA==", "commit": {"author": {"name": "Ed Schonberg", "email": "schonber@gnat.com", "date": "2001-12-05T01:21:50Z"}, "committer": {"name": "Geert Bosch", "email": "bosch@gcc.gnu.org", "date": "2001-12-05T01:21:50Z"}, "message": "sem_ch3.adb (Find_Type_Of_Subtype_Indic): If subtype indication is malformed...\n\n\t* sem_ch3.adb (Find_Type_Of_Subtype_Indic): If subtype indication\n\tis malformed, use instance of Any_Id to allow analysis to proceed.\n\n\t* par-ch12.adb (P_Formal_Type_Declaration): Propagate Error if\n\ttype definition is illegal.\n\t(P_Formal_Derived_Type_Definition): Better recovery when TAGGED is\n\tmisplaced.\n\nFrom-SVN: r47642", "tree": {"sha": "4de851084a11f871b428c1fb704ca47b0a489838", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4de851084a11f871b428c1fb704ca47b0a489838"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd5875a602fb7adef53362fab59cac17bf5ff77d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd5875a602fb7adef53362fab59cac17bf5ff77d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd5875a602fb7adef53362fab59cac17bf5ff77d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd5875a602fb7adef53362fab59cac17bf5ff77d/comments", "author": null, "committer": null, "parents": [{"sha": "c2a41e5742cf485f42a6aba845a0d71b72bc5d0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2a41e5742cf485f42a6aba845a0d71b72bc5d0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2a41e5742cf485f42a6aba845a0d71b72bc5d0a"}], "stats": {"total": 41, "additions": 37, "deletions": 4}, "files": [{"sha": "72e747da933a1667114e6116626b1851adb68a44", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd5875a602fb7adef53362fab59cac17bf5ff77d/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd5875a602fb7adef53362fab59cac17bf5ff77d/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=dd5875a602fb7adef53362fab59cac17bf5ff77d", "patch": "@@ -1,3 +1,13 @@\n+2001-12-04  Ed Schonberg <schonber@gnat.com>\n+\n+\t* sem_ch3.adb (Find_Type_Of_Subtype_Indic): If subtype indication \n+\tis malformed, use instance of Any_Id to allow analysis to proceed.\n+\t\n+\t* par-ch12.adb (P_Formal_Type_Declaration): Propagate Error if \n+\ttype definition is illegal.\n+\t(P_Formal_Derived_Type_Definition): Better recovery when TAGGED is\n+\tmisplaced.\n+\n 2001-12-04  Ed Schonberg <schonber@gnat.com>\n \n \t* sem_warn.adb (Output_Unreferenced_Messages): Extend previous fix to "}, {"sha": "5d5dded4d30a740757931d663185e5a393f92551", "filename": "gcc/ada/par-ch12.adb", "status": "modified", "additions": 22, "deletions": 3, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd5875a602fb7adef53362fab59cac17bf5ff77d/gcc%2Fada%2Fpar-ch12.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd5875a602fb7adef53362fab59cac17bf5ff77d/gcc%2Fada%2Fpar-ch12.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar-ch12.adb?ref=dd5875a602fb7adef53362fab59cac17bf5ff77d", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                            $Revision: 1.46 $\n+--                            $Revision$\n --                                                                          --\n --          Copyright (C) 1992-2001 Free Software Foundation, Inc.          --\n --                                                                          --\n@@ -431,6 +431,7 @@ package body Ch12 is\n \n    function P_Formal_Type_Declaration return Node_Id is\n       Decl_Node  : Node_Id;\n+      Def_Node   : Node_Id;\n \n    begin\n       Decl_Node := New_Node (N_Formal_Type_Declaration, Token_Ptr);\n@@ -446,8 +447,15 @@ package body Ch12 is\n \n       T_Is;\n \n-      Set_Formal_Type_Definition (Decl_Node, P_Formal_Type_Definition);\n-      TF_Semicolon;\n+      Def_Node := P_Formal_Type_Definition;\n+\n+      if Def_Node /= Error then\n+         Set_Formal_Type_Definition (Decl_Node, Def_Node);\n+         TF_Semicolon;\n+      else\n+         Decl_Node := Error;\n+      end if;\n+\n       return Decl_Node;\n    end P_Formal_Type_Declaration;\n \n@@ -621,6 +629,17 @@ package body Ch12 is\n          Scan; -- past WITH\n          Set_Private_Present (Def_Node, True);\n          T_Private;\n+\n+      elsif Token = Tok_Tagged then\n+         Scan;\n+\n+         if Token = Tok_Private then\n+            Error_Msg_SC (\"TAGGED should be WITH\");\n+            Set_Private_Present (Def_Node, True);\n+            T_Private;\n+         else\n+            Ignore (Tok_Tagged);\n+         end if;\n       end if;\n \n       return Def_Node;"}, {"sha": "2b481bdfe76d6741e72011101b0043017e7b7adc", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd5875a602fb7adef53362fab59cac17bf5ff77d/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd5875a602fb7adef53362fab59cac17bf5ff77d/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=dd5875a602fb7adef53362fab59cac17bf5ff77d", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                            $Revision: 1.2 $\n+--                            $Revision$\n --                                                                          --\n --          Copyright (C) 1992-2001, Free Software Foundation, Inc.         --\n --                                                                          --\n@@ -9300,6 +9300,10 @@ package body Sem_Ch3 is\n \n       --  Otherwise we have a subtype mark without a constraint\n \n+      elsif Error_Posted (S) then\n+         Rewrite (S, New_Occurrence_Of (Any_Id, Sloc (S)));\n+         return Any_Type;\n+\n       else\n          Find_Type (S);\n          Typ := Entity (S);"}]}