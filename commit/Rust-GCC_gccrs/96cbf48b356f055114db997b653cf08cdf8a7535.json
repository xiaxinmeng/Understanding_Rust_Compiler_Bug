{"sha": "96cbf48b356f055114db997b653cf08cdf8a7535", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTZjYmY0OGIzNTZmMDU1MTE0ZGI5OTdiNjUzY2YwOGNkZjhhNzUzNQ==", "commit": {"author": {"name": "Brent Verner", "email": "brent@rcfile.org", "date": "2000-06-13T22:20:56Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2000-06-13T22:20:56Z"}, "message": "streambuf.tcc: repaired _S_copy_streambufs()\n\n\n2000-06-13  Brent Verner <brent@rcfile.org>\n\n\t* bits/streambuf.tcc: repaired _S_copy_streambufs()\n\t* testsuite/27_io/ostream_inserter_other.cc (test03): Added testcase.\n\nFrom-SVN: r34528", "tree": {"sha": "4c60969def9119d89ea4c7a2b087b31ee8da8c2c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4c60969def9119d89ea4c7a2b087b31ee8da8c2c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/96cbf48b356f055114db997b653cf08cdf8a7535", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96cbf48b356f055114db997b653cf08cdf8a7535", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96cbf48b356f055114db997b653cf08cdf8a7535", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96cbf48b356f055114db997b653cf08cdf8a7535/comments", "author": null, "committer": null, "parents": [{"sha": "2d2586a4950c6901f8aa08c4ca17d0ebf30975a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d2586a4950c6901f8aa08c4ca17d0ebf30975a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d2586a4950c6901f8aa08c4ca17d0ebf30975a5"}], "stats": {"total": 49, "additions": 48, "deletions": 1}, "files": [{"sha": "688b84b675ad8b1dc2f75443ca178740b0aed0db", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96cbf48b356f055114db997b653cf08cdf8a7535/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96cbf48b356f055114db997b653cf08cdf8a7535/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=96cbf48b356f055114db997b653cf08cdf8a7535", "patch": "@@ -1,3 +1,8 @@\n+2000-06-13  Brent Verner <brent@rcfile.org>\n+\n+\t* bits/streambuf.tcc: repaired _S_copy_streambufs()\n+\t* testsuite/27_io/ostream_inserter_other.cc (test03): Added testcase.\n+\t\n 2000-06-12  Benjamin Kosnik  <bkoz@purist.soma.redhat.com>\n \n \t* bits/locale_facets.h (ctype<wchar_t>): Remove unnecessary data"}, {"sha": "d5ed76db67a74635e9677446bd1a52c24556a002", "filename": "libstdc++-v3/bits/streambuf.tcc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96cbf48b356f055114db997b653cf08cdf8a7535/libstdc%2B%2B-v3%2Fbits%2Fstreambuf.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96cbf48b356f055114db997b653cf08cdf8a7535/libstdc%2B%2B-v3%2Fbits%2Fstreambuf.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fbits%2Fstreambuf.tcc?ref=96cbf48b356f055114db997b653cf08cdf8a7535", "patch": "@@ -239,6 +239,7 @@ namespace std {\n \t\t    __ios.setstate(ios_base::eofbit);\n \t\t    break;\n \t\t  }\n+\t\t__bufsize = __sbin->in_avail();\n \t      }\n \t    else\n \t      break;"}, {"sha": "12c9e8bd03930e2e59a2c5d73312ea0d0acf682d", "filename": "libstdc++-v3/testsuite/27_io/ostream_inserter_other.cc", "status": "modified", "additions": 42, "deletions": 1, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96cbf48b356f055114db997b653cf08cdf8a7535/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fostream_inserter_other.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96cbf48b356f055114db997b653cf08cdf8a7535/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fostream_inserter_other.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fostream_inserter_other.cc?ref=96cbf48b356f055114db997b653cf08cdf8a7535", "patch": "@@ -1,7 +1,7 @@\n // 1999-08-16 bkoz\n // 1999-11-01 bkoz\n \n-// Copyright (C) 1999 Free Software Foundation\n+// Copyright (C) 1999, 2000 Free Software Foundation\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -90,10 +90,51 @@ bool test02() {\n   return test;\n }\n \n+// via Brent Verner <brent@rcfile.org>\n+// http://sourceware.cygnus.com/ml/libstdc++/2000-06/msg00005.html\n+int\n+test03(void)\n+{\n+  using namespace std;\n+\n+  typedef ios::pos_type \tpos_type;\n+\n+  const char* TEST_IN = \"testsuite/ostream_inserter_other_in\";\n+  const char* TEST_OUT = \"testsuite/ostream_inserter_other_out\";\n+  pos_type i_read, i_wrote, rs, ws;\n+  double tf_size = BUFSIZ * 2.5;\n+  ofstream testfile(TEST_IN);\n+\n+  for ( int i=0; i < tf_size; ++i )\n+    testfile.put('.');\n+  testfile.close();\n+\n+  ifstream in(TEST_IN);\n+  ofstream out(TEST_OUT);\n+  out << in.rdbuf();\n+  in.seekg(0,ios_base::beg);\n+  out.seekp(0,ios_base::beg);\n+  rs = in.tellg();\n+  ws = out.tellp();\n+  in.seekg(0,ios_base::end);\n+  out.seekp(0,ios_base::end);\n+  i_read = in.tellg() - rs;\n+  i_wrote = out.tellp() - ws;\n+  in.close();\n+  out.close();\n+  \n+#ifdef DEBUG_ASSERT\n+  assert(i_read == i_wrote);\n+#endif\n+\n+  return 0;\n+}\n+\n int main()\n {\n   test01();\n   test02();\n+  test03();\n \n   return 0;\n }"}]}