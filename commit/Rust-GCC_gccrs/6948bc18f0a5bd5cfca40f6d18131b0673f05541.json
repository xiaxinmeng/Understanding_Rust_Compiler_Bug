{"sha": "6948bc18f0a5bd5cfca40f6d18131b0673f05541", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njk0OGJjMThmMGE1YmQ1Y2ZjYTQwZjZkMTgxMzFiMDY3M2YwNTU0MQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@adacore.com", "date": "2017-04-25T11:03:52Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2017-04-25T11:03:52Z"}, "message": "* gcc-interface/Makefile.in: Cleanup VxWorks targets.\n\nFrom-SVN: r247186", "tree": {"sha": "4d9413cd5e9b755fe382ced83809abc8ef72b2db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d9413cd5e9b755fe382ced83809abc8ef72b2db"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6948bc18f0a5bd5cfca40f6d18131b0673f05541", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6948bc18f0a5bd5cfca40f6d18131b0673f05541", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6948bc18f0a5bd5cfca40f6d18131b0673f05541", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6948bc18f0a5bd5cfca40f6d18131b0673f05541/comments", "author": {"login": "ArnaudCharlet", "id": 30291825, "node_id": "MDQ6VXNlcjMwMjkxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30291825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnaudCharlet", "html_url": "https://github.com/ArnaudCharlet", "followers_url": "https://api.github.com/users/ArnaudCharlet/followers", "following_url": "https://api.github.com/users/ArnaudCharlet/following{/other_user}", "gists_url": "https://api.github.com/users/ArnaudCharlet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnaudCharlet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnaudCharlet/subscriptions", "organizations_url": "https://api.github.com/users/ArnaudCharlet/orgs", "repos_url": "https://api.github.com/users/ArnaudCharlet/repos", "events_url": "https://api.github.com/users/ArnaudCharlet/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnaudCharlet/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cc0b3bac559fd9d6c0aedb8a6ef2ee4cc2373792", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc0b3bac559fd9d6c0aedb8a6ef2ee4cc2373792", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc0b3bac559fd9d6c0aedb8a6ef2ee4cc2373792"}], "stats": {"total": 27, "additions": 20, "deletions": 7}, "files": [{"sha": "24f3fa2c728b955ac5a417d882f4342fe9c855cf", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6948bc18f0a5bd5cfca40f6d18131b0673f05541/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6948bc18f0a5bd5cfca40f6d18131b0673f05541/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=6948bc18f0a5bd5cfca40f6d18131b0673f05541", "patch": "@@ -1,3 +1,7 @@\n+2017-04-25  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* gcc-interface/Makefile.in: Cleanup VxWorks targets.\n+\n 2017-04-25  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* fname.adb (Is_Internal_File_Name): Arrange for the slices to"}, {"sha": "14269e271e15771834f65d477eabf5a29ae1bf96", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 16, "deletions": 7, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6948bc18f0a5bd5cfca40f6d18131b0673f05541/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6948bc18f0a5bd5cfca40f6d18131b0673f05541/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=6948bc18f0a5bd5cfca40f6d18131b0673f05541", "patch": "@@ -517,8 +517,16 @@ ifeq ($(strip $(filter-out powerpc% wrs vxworks vxworksspe vxworks7 vxworks7spe,\n \n   ifeq ($(strip $(filter-out e500%, $(target_alias))),)\n      ARCH_STR=e500\n+     # gcc config translates the target e500v2-wrs-vxworks to\n+     # powerpc-wrs-vxworksspe. Let's keep the original alias here when\n+     # generating s-oscons.ads.\n+     target=$(target_alias)\n   else\n-     ARCH_STR=ppc\n+     ifeq ($(strip $(filter-out powerpc64, $(target_cpu))),)\n+        ARCH_STR=ppc64\n+     else\n+        ARCH_STR=ppc\n+     endif\n   endif\n \n   ifeq ($(strip $(filter-out vxworks7%, $(target_os))),)\n@@ -622,8 +630,7 @@ ifeq ($(strip $(filter-out powerpc% wrs vxworks vxworksspe vxworks7 vxworks7spe,\n           system.ads<system-vxworks-ppc.ads\n         endif\n       endif\n-      EXTRA_GNATRTL_NONTASKING_OBJS=i-vxinco.o i-vxwork.o i-vxwoio.o\n-      EXTRA_GNATRTL_TASKING_OBJS=s-vxwork.o s-vxwext.o\n+      EXTRA_GNATRTL_NONTASKING_OBJS+=i-vxinco.o i-vxwork.o i-vxwoio.o\n     endif\n   endif\n \n@@ -645,10 +652,14 @@ ifeq ($(strip $(filter-out powerpc% wrs vxworks vxworksspe vxworks7 vxworks7spe,\n endif\n \n # PowerPC and e500v2 VxWorks 653\n-ifeq ($(strip $(filter-out powerpc% wrs vxworksae,$(target_cpu) $(target_vendor) $(target_os))),)\n+ifeq ($(strip $(filter-out powerpc% wrs vxworksae vxworksaespe,$(target_cpu) $(target_vendor) $(target_os))),)\n \n   ifeq ($(strip $(filter-out e500%, $(target_alias))),)\n      ARCH_STR=e500\n+     # gcc config translates the target e500v2-wrs-vxworks to\n+     # powerpc-wrs-vxworksspe. Let's keep the original alias here when\n+     # generating s-oscons.ads.\n+     target=$(target_alias)\n   else\n      ARCH_STR=ppc\n   endif\n@@ -2494,7 +2505,6 @@ ADA_EXCLUDE_SRCS =\\\n   g-altive.ads g-alveop.adb g-alveop.ads g-alvety.ads g-alvevi.ads \\\n   g-intpri.ads g-regist.adb g-regist.ads g-sse.ads    g-ssvety.ads \\\n   i-vxinco.adb i-vxinco.ads i-vxwoio.adb i-vxwoio.ads i-vxwork.ads \\\n-  i-bit_types.ads \\\n   s-bb.ads     s-bbbosu.ads s-bbcaco.ads s-bbcppr.ads s-bbexti.adb \\\n   s-bbexti.ads s-bbinte.adb s-bbinte.ads s-bbprot.adb s-bbprot.ads \\\n   s-bbsle3.ads s-bbsuer.ads s-bbsule.ads s-bbthqu.adb s-bbthqu.ads \\\n@@ -2506,8 +2516,7 @@ ADA_EXCLUDE_SRCS =\\\n   s-memcom.adb s-memcom.ads s-memmov.adb s-memmov.ads s-memset.adb \\\n   s-memset.ads s-mufalo.adb s-mufalo.ads s-musplo.adb s-musplo.ads \\\n   s-sam4.ads   s-sopco3.adb s-sopco3.ads s-sopco4.adb s-sopco4.ads \\\n-  s-sopco5.adb s-sopco5.ads s-stchop.ads s-stchop.adb \\\n-  s-stm32.ads \\\n+  s-sopco5.adb s-sopco5.ads s-stchop.ads s-stchop.adb s-stm32.ads \\\n   s-strcom.adb s-strcom.ads s-thread.ads \\\n   s-vxwexc.adb s-vxwexc.ads s-vxwext.adb s-vxwext.ads \\\n   s-win32.ads  s-winext.ads"}]}