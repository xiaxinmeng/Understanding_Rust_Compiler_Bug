{"sha": "afe8b6ec9a0aac1c36550185752e65fc95f0288b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWZlOGI2ZWM5YTBhYWMxYzM2NTUwMTg1NzUyZTY1ZmM5NWYwMjg4Yg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2011-05-22T21:29:20Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-05-22T21:29:20Z"}, "message": "cfgcleanup.c (try_forward_edges): Do not update BB_FORWARDER_BLOCK.\n\n\t* cfgcleanup.c (try_forward_edges): Do not update BB_FORWARDER_BLOCK.\n\t(try_optimize_cfg): Update BB_FORWARDER_BLOCK if try_forward_edges\n\treturns true.\n\nFrom-SVN: r174046", "tree": {"sha": "7cf5efa0619a6b03ef7ba8a5c4cfefeee6cc5b3f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7cf5efa0619a6b03ef7ba8a5c4cfefeee6cc5b3f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/afe8b6ec9a0aac1c36550185752e65fc95f0288b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afe8b6ec9a0aac1c36550185752e65fc95f0288b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afe8b6ec9a0aac1c36550185752e65fc95f0288b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afe8b6ec9a0aac1c36550185752e65fc95f0288b/comments", "author": null, "committer": null, "parents": [{"sha": "872dab53fd623b4871b0aa96c667e89690b8ed7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/872dab53fd623b4871b0aa96c667e89690b8ed7b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/872dab53fd623b4871b0aa96c667e89690b8ed7b"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "6959dd4c78d1d097c986e3b9fa630eb07fa7ae1f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afe8b6ec9a0aac1c36550185752e65fc95f0288b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afe8b6ec9a0aac1c36550185752e65fc95f0288b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=afe8b6ec9a0aac1c36550185752e65fc95f0288b", "patch": "@@ -1,3 +1,9 @@\n+2011-05-22  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* cfgcleanup.c (try_forward_edges): Do not update BB_FORWARDER_BLOCK.\n+\t(try_optimize_cfg): Update BB_FORWARDER_BLOCK if try_forward_edges\n+\treturns true.\n+\n 2011-05-22  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \t* config/mips/mips.c (mips_default_arch): Honor MIPS_ISA_DEFAULT."}, {"sha": "c36af89a137c5fa45b228b9ffc2f3f3ff594d2d0", "filename": "gcc/cfgcleanup.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afe8b6ec9a0aac1c36550185752e65fc95f0288b/gcc%2Fcfgcleanup.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afe8b6ec9a0aac1c36550185752e65fc95f0288b/gcc%2Fcfgcleanup.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgcleanup.c?ref=afe8b6ec9a0aac1c36550185752e65fc95f0288b", "patch": "@@ -599,9 +599,6 @@ try_forward_edges (int mode, basic_block b)\n \t\t\t     + REG_BR_PROB_BASE / 2)\n \t\t\t    / REG_BR_PROB_BASE);\n \n-\t  if (!FORWARDER_BLOCK_P (b) && forwarder_block_p (b))\n-\t    b->flags |= BB_FORWARDER_BLOCK;\n-\n \t  do\n \t    {\n \t      edge t;\n@@ -2693,7 +2690,10 @@ try_optimize_cfg (int mode)\n \n \t      /* Simplify branch to branch.  */\n \t      if (try_forward_edges (mode, b))\n-\t\tchanged_here = true;\n+\t\t{\n+\t\t  update_forwarder_flag (b);\n+\t\t  changed_here = true;\n+\t\t}\n \n \t      /* Look for shared code between blocks.  */\n \t      if ((mode & CLEANUP_CROSSJUMP)"}]}