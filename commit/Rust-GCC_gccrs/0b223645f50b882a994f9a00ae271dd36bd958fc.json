{"sha": "0b223645f50b882a994f9a00ae271dd36bd958fc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGIyMjM2NDVmNTBiODgyYTk5NGY5YTAwYWUyNzFkZDM2YmQ5NThmYw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-01-04T01:10:38Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-01-04T01:10:38Z"}, "message": "* gcc.dg/20020103-1.c: New.\n\nFrom-SVN: r48525", "tree": {"sha": "b8e1e3f29f0e8f86fadde284fd4d5ffd479dcbe0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8e1e3f29f0e8f86fadde284fd4d5ffd479dcbe0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0b223645f50b882a994f9a00ae271dd36bd958fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b223645f50b882a994f9a00ae271dd36bd958fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b223645f50b882a994f9a00ae271dd36bd958fc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b223645f50b882a994f9a00ae271dd36bd958fc/comments", "author": null, "committer": null, "parents": [{"sha": "187462ace70aaa5dcb2010ffdd15c013be68e68b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/187462ace70aaa5dcb2010ffdd15c013be68e68b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/187462ace70aaa5dcb2010ffdd15c013be68e68b"}], "stats": {"total": 39, "additions": 39, "deletions": 0}, "files": [{"sha": "cc16de88ed1cbc473e3b6307f103c97a2dd6d599", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b223645f50b882a994f9a00ae271dd36bd958fc/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b223645f50b882a994f9a00ae271dd36bd958fc/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0b223645f50b882a994f9a00ae271dd36bd958fc", "patch": "@@ -1,3 +1,7 @@\n+2002-01-03  Richard Henderson  <rth@redhat.com>\n+\n+\t* gcc.dg/20020103-1.c: New.\n+\n 2002-01-03  Kazu Hirata  <kazu@hxi.com>\n \n \t* gcc.c-torture/execute/20020103-1.c: New test."}, {"sha": "bd5f1c16205295719f94d6ecb479fa37c0dfcf1e", "filename": "gcc/testsuite/gcc.dg/20020103-1.c", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b223645f50b882a994f9a00ae271dd36bd958fc/gcc%2Ftestsuite%2Fgcc.dg%2F20020103-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b223645f50b882a994f9a00ae271dd36bd958fc/gcc%2Ftestsuite%2Fgcc.dg%2F20020103-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20020103-1.c?ref=0b223645f50b882a994f9a00ae271dd36bd958fc", "patch": "@@ -0,0 +1,35 @@\n+/* Verify that constant equivalences get reloaded properly, either by being\n+   spilled to the stack, or regenerated, but not dropped to memory.  */\n+/* { dg-do compile { target { i?86-*-* powerpc-*-* alpha*-*-* } } */\n+/* { dg-options \"-O2 -fpic -fno-omit-frame-pointer\" } */\n+/* { dg-final { scan-assembler-not \"LC\" } } */\n+\n+/* Clobber all call-saved registers that can hold a pointer value.  */\n+#if defined(__i386__)\n+#define clobber \\\n+  asm volatile(\"#asm\" : : : \"si\", \"di\")\n+#elif defined(__powerpc__)\n+#define clobber \\\n+  asm volatile(\"#asm\" : : : \"14\", \"15\", \"16\", \"17\", \"18\", \"19\", \"20\", \\\n+\t       \"21\", \"22\", \"23\", \"24\", \"25\", \"26\", \"27\", \"28\", \"29\")\n+#elif defined(__alpha__)\n+#define clobber \\\n+  asm volatile(\"#asm\" : : : \"$9\", \"$10\", \"$11\", \"$12\", \"$13\", \"$14\", \\\n+\t       \"$f2\", \"$f3\", \"$f4\", \"$f5\", \"$f6\", \"$f7\", \"$f8\", \"$f9\")\n+#else\n+#error no clobber macro defined\n+#endif\n+\n+extern void f1(int, int, int);\n+extern void f2(int*, int*, int*);\n+\n+extern int ext;\n+static int loc_small;\n+static int loc_big[100];\n+\n+void bar(void)\n+{\n+  f1(ext, loc_small, loc_big[0]);\n+  clobber;\n+  f2(&ext, &loc_small, &loc_big[0]);\n+}"}]}