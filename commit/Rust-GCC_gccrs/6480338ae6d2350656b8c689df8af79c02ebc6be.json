{"sha": "6480338ae6d2350656b8c689df8af79c02ebc6be", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjQ4MDMzOGFlNmQyMzUwNjU2YjhjNjg5ZGY4YWY3OWMwMmViYzZiZQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-07-08T08:03:04Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-07-08T08:03:04Z"}, "message": "[multiple changes]\n\n2013-07-08  Robert Dewar  <dewar@adacore.com>\n\n\t* par-prag.adb (Process_Restrictions_Or_Restriction_Warnings):\n\tRecognize SPARK_05 as synonym for SPARK in restrictions pragma.\n\t* restrict.ads, restrict.adb (SPARK_Hides): Table moved to body, only\n\treferenced there.\n\t* scng.adb, sem_ch3.adb, sem_ch4.adb, sem_ch5.adb, sem_ch8.adb,\n\tsem_res.adb, sem_util.adb: Use restriction SPARK_05 instead of SPARK.\n\t* snames.ads-tmpl (Name_No_Obsolescent_Features): New entry.\n\n2013-07-08  Vincent Celier  <celier@adacore.com>\n\n\t* gnatcmd.adb (Check_Files): Use a response file for gnatls\n\twhen possible.\n\nFrom-SVN: r200764", "tree": {"sha": "e12db41ef829263091fb89bb2c4d79d18700aaf4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e12db41ef829263091fb89bb2c4d79d18700aaf4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6480338ae6d2350656b8c689df8af79c02ebc6be", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6480338ae6d2350656b8c689df8af79c02ebc6be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6480338ae6d2350656b8c689df8af79c02ebc6be", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6480338ae6d2350656b8c689df8af79c02ebc6be/comments", "author": null, "committer": null, "parents": [{"sha": "aa0dfa7e4e1f1c36b22ddc30162bf2568e51633a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa0dfa7e4e1f1c36b22ddc30162bf2568e51633a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa0dfa7e4e1f1c36b22ddc30162bf2568e51633a"}], "stats": {"total": 143, "additions": 82, "deletions": 61}, "files": [{"sha": "8810c253f8134344ee6a9ac7d4d6ec6eaa039b2e", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=6480338ae6d2350656b8c689df8af79c02ebc6be", "patch": "@@ -1,3 +1,18 @@\n+2013-07-08  Robert Dewar  <dewar@adacore.com>\n+\n+\t* par-prag.adb (Process_Restrictions_Or_Restriction_Warnings):\n+\tRecognize SPARK_05 as synonym for SPARK in restrictions pragma.\n+\t* restrict.ads, restrict.adb (SPARK_Hides): Table moved to body, only\n+\treferenced there.\n+\t* scng.adb, sem_ch3.adb, sem_ch4.adb, sem_ch5.adb, sem_ch8.adb,\n+\tsem_res.adb, sem_util.adb: Use restriction SPARK_05 instead of SPARK.\n+\t* snames.ads-tmpl (Name_No_Obsolescent_Features): New entry.\n+\n+2013-07-08  Vincent Celier  <celier@adacore.com>\n+\n+\t* gnatcmd.adb (Check_Files): Use a response file for gnatls\n+\twhen possible.\n+\n 2013-07-08  Gary Dismukes  <dismukes@adacore.com>\n \n \t* freeze.adb: Minor typo fixes."}, {"sha": "d1ea2be3e04d63b82e5aedd926800eca6eb410a4", "filename": "gcc/ada/gnatcmd.adb", "status": "modified", "additions": 9, "deletions": 10, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fgnatcmd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fgnatcmd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatcmd.adb?ref=6480338ae6d2350656b8c689df8af79c02ebc6be", "patch": "@@ -418,6 +418,7 @@ procedure GNATCmd is\n          if The_Command = Check  or else\n             The_Command = Pretty or else\n             The_Command = Metric or else\n+            The_Command = List   or else\n             The_Command = Stack\n          then\n             Tempdir.Create_Temp_File (FD, Temp_File_Name);\n@@ -552,12 +553,10 @@ procedure GNATCmd is\n                         end if;\n \n                         if not Subunit then\n-                           Last_Switches.Increment_Last;\n-                           Last_Switches.Table (Last_Switches.Last) :=\n-                             new String'\n-                               (Get_Name_String\n-                                    (Unit.File_Names\n-                                         (Impl).Display_File));\n+                           Add_To_Response_File\n+                             (Get_Name_String\n+                                (Unit.File_Names (Impl).Display_File),\n+                              Check_File => False);\n                         end if;\n                      end if;\n \n@@ -570,10 +569,10 @@ procedure GNATCmd is\n                      if All_Projects or else\n                         Unit.File_Names (Spec).Project = Project\n                      then\n-                        Last_Switches.Increment_Last;\n-                        Last_Switches.Table (Last_Switches.Last) :=\n-                          new String'(Get_Name_String\n-                                       (Unit.File_Names (Spec).Display_File));\n+                        Add_To_Response_File\n+                          (Get_Name_String\n+                             (Unit.File_Names (Spec).Display_File),\n+                           Check_File => False);\n                      end if;\n                   end if;\n "}, {"sha": "762f433ca892b082e5504465fb3713a1d5b3fb3c", "filename": "gcc/ada/par-prag.adb", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fpar-prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fpar-prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar-prag.adb?ref=6480338ae6d2350656b8c689df8af79c02ebc6be", "patch": "@@ -235,15 +235,15 @@ function Prag (Pragma_Node : Node_Id; Semi : Source_Ptr) return Node_Id is\n          if Id = No_Name\n            and then Nkind (Expr) = N_Identifier\n          then\n-            case Get_Restriction_Id (Chars (Expr)) is\n-               when No_Obsolescent_Features =>\n+            case  Chars (Expr) is\n+               when Name_No_Obsolescent_Features =>\n                   Set_Restriction (No_Obsolescent_Features, Pragma_Node);\n                   Restriction_Warnings (No_Obsolescent_Features) :=\n                     Prag_Id = Pragma_Restriction_Warnings;\n \n-               when SPARK =>\n-                  Set_Restriction (SPARK, Pragma_Node);\n-                  Restriction_Warnings (SPARK) :=\n+               when Name_SPARK | Name_SPARK_05 =>\n+                  Set_Restriction (SPARK_05, Pragma_Node);\n+                  Restriction_Warnings (SPARK_05) :=\n                     Prag_Id = Pragma_Restriction_Warnings;\n \n                when others =>"}, {"sha": "f78236a36455a39a7030ddac9773c3de59684727", "filename": "gcc/ada/restrict.adb", "status": "modified", "additions": 34, "deletions": 2, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Frestrict.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Frestrict.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Frestrict.adb?ref=6480338ae6d2350656b8c689df8af79c02ebc6be", "patch": "@@ -41,6 +41,38 @@ with Uname;    use Uname;\n \n package body Restrict is\n \n+   -------------------------------\n+   -- SPARK Restriction Control --\n+   -------------------------------\n+\n+   --  SPARK HIDE directives allow the effect of the SPARK_05 restriction to be\n+   --  turned off for a specified region of code, and the following tables are\n+   --  the data structures used to keep track of these regions.\n+\n+   --  The table contains pairs of source locations, the first being the start\n+   --  location for hidden region, and the second being the end location.\n+\n+   --  Note that the start location is included in the hidden region, while\n+   --  the end location is excluded from it. (It typically corresponds to the\n+   --  next token during scanning.)\n+\n+   type SPARK_Hide_Entry is record\n+      Start : Source_Ptr;\n+      Stop  : Source_Ptr;\n+   end record;\n+\n+   package SPARK_Hides is new Table.Table (\n+     Table_Component_Type => SPARK_Hide_Entry,\n+     Table_Index_Type     => Natural,\n+     Table_Low_Bound      => 1,\n+     Table_Initial        => 100,\n+     Table_Increment      => 200,\n+     Table_Name           => \"SPARK Hides\");\n+\n+   --------------------------------\n+   -- Package Local Declarations --\n+   --------------------------------\n+\n    Config_Cunit_Boolean_Restrictions : Save_Cunit_Boolean_Restrictions;\n    --  Save compilation unit restrictions set by config pragma files\n \n@@ -163,9 +195,9 @@ package body Restrict is\n    is\n       Msg_Issued          : Boolean;\n       Save_Error_Msg_Sloc : Source_Ptr;\n+\n    begin\n       if Force or else Comes_From_Source (Original_Node (N)) then\n-\n          if Restriction_Check_Required (SPARK_05)\n            and then Is_In_Hidden_Part_In_SPARK (Sloc (N))\n          then\n@@ -189,11 +221,11 @@ package body Restrict is\n    procedure Check_SPARK_Restriction (Msg1, Msg2 : String; N : Node_Id) is\n       Msg_Issued          : Boolean;\n       Save_Error_Msg_Sloc : Source_Ptr;\n+\n    begin\n       pragma Assert (Msg2'Length /= 0 and then Msg2 (Msg2'First) = '\\');\n \n       if Comes_From_Source (Original_Node (N)) then\n-\n          if Restriction_Check_Required (SPARK_05)\n            and then Is_In_Hidden_Part_In_SPARK (Sloc (N))\n          then"}, {"sha": "7d6dcc1eb5d55dd417493b296395c7416bddf715", "filename": "gcc/ada/restrict.ads", "status": "modified", "additions": 3, "deletions": 29, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Frestrict.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Frestrict.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Frestrict.ads?ref=6480338ae6d2350656b8c689df8af79c02ebc6be", "patch": "@@ -176,34 +176,6 @@ package Restrict is\n      Table_Increment      => 200,\n      Table_Name           => \"Name_No_Dependences\");\n \n-   -------------------------------\n-   -- SPARK Restriction Control --\n-   -------------------------------\n-\n-   --  SPARK HIDE directives allow the effect of the SPARK_05 restriction to be\n-   --  turned off for a specified region of code, and the following tables are\n-   --  the data structures used to keep track of these regions.\n-\n-   --  The table contains pairs of source locations, the first being the start\n-   --  location for hidden region, and the second being the end location.\n-\n-   --  Note that the start location is included in the hidden region, while\n-   --  the end location is excluded from it. (It typically corresponds to the\n-   --  next token during scanning.)\n-\n-   type SPARK_Hide_Entry is record\n-      Start : Source_Ptr;\n-      Stop  : Source_Ptr;\n-   end record;\n-\n-   package SPARK_Hides is new Table.Table (\n-     Table_Component_Type => SPARK_Hide_Entry,\n-     Table_Index_Type     => Natural,\n-     Table_Low_Bound      => 1,\n-     Table_Initial        => 100,\n-     Table_Increment      => 200,\n-     Table_Name           => \"SPARK Hides\");\n-\n    -----------------\n    -- Subprograms --\n    -----------------\n@@ -380,7 +352,9 @@ package Restrict is\n    --  restrictions are set.\n \n    procedure Set_Hidden_Part_In_SPARK (Loc1, Loc2 : Source_Ptr);\n-   --  Insert a new hidden region range in the SPARK hides table\n+   --  Insert a new hidden region range in the SPARK hides table. The effect\n+   --  is to hide any SPARK violation messages which are in the range Loc1 to\n+   --  Loc2-1 (i.e. Loc2 is the first location for reenabling checks).\n \n    procedure Set_Profile_Restrictions\n      (P    : Profile_Name;"}, {"sha": "e05d1d692ad0e4035e53fbbda2de0e75d921d474", "filename": "gcc/ada/scng.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fscng.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fscng.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fscng.adb?ref=6480338ae6d2350656b8c689df8af79c02ebc6be", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2012, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2013, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -1796,7 +1796,7 @@ package body Scng is\n                --  If the SPARK restriction is set for this unit, then generate\n                --  a token Tok_SPARK_Hide for a SPARK HIDE directive.\n \n-               if Restriction_Check_Required (SPARK)\n+               if Restriction_Check_Required (SPARK_05)\n                  and then Source (Start_Of_Comment) = '#'\n                then\n                   declare"}, {"sha": "f07f083463a8ea7ba05f2977a3cd35b9517f2ccd", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=6480338ae6d2350656b8c689df8af79c02ebc6be", "patch": "@@ -2077,7 +2077,7 @@ package body Sem_Ch3 is\n    --  Start of processing for Analyze_Declarations\n \n    begin\n-      if Restriction_Check_Required (SPARK) then\n+      if Restriction_Check_Required (SPARK_05) then\n          Check_Later_Vs_Basic_Declarations (L, During_Parsing => False);\n       end if;\n \n@@ -3242,7 +3242,7 @@ package body Sem_Ch3 is\n \n            --  Only call test if needed\n \n-           and then Restriction_Check_Required (SPARK)\n+           and then Restriction_Check_Required (SPARK_05)\n            and then not Is_SPARK_Initialization_Expr (E)\n          then\n             Check_SPARK_Restriction"}, {"sha": "1459ec22f951e0d3a9aa5ff873086a5ddf5f83b5", "filename": "gcc/ada/sem_ch4.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fsem_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fsem_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch4.adb?ref=6480338ae6d2350656b8c689df8af79c02ebc6be", "patch": "@@ -991,7 +991,7 @@ package body Sem_Ch4 is\n    --  Start of processing for Analyze_Call\n \n    begin\n-      if Restriction_Check_Required (SPARK) then\n+      if Restriction_Check_Required (SPARK_05) then\n          Check_Mixed_Parameter_And_Named_Associations;\n       end if;\n "}, {"sha": "2f8eced6fc9b7c28b9d1ac92061cc3a254a04bf0", "filename": "gcc/ada/sem_ch5.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fsem_ch5.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fsem_ch5.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch5.adb?ref=6480338ae6d2350656b8c689df8af79c02ebc6be", "patch": "@@ -2867,7 +2867,7 @@ package body Sem_Ch5 is\n             --  we are in formal mode where goto statements are not allowed.\n \n             if Nkind (Nxt) = N_Label\n-              and then not Restriction_Check_Required (SPARK)\n+              and then not Restriction_Check_Required (SPARK_05)\n             then\n                return;\n \n@@ -2924,7 +2924,7 @@ package body Sem_Ch5 is\n \n                   --  Now issue the warning (or error in formal mode)\n \n-                  if Restriction_Check_Required (SPARK) then\n+                  if Restriction_Check_Required (SPARK_05) then\n                      Check_SPARK_Restriction\n                        (\"unreachable code is not allowed\", Error_Node);\n                   else"}, {"sha": "27ccc2d3d1e772943508eeae34348a43d827ab72", "filename": "gcc/ada/sem_ch8.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fsem_ch8.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fsem_ch8.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch8.adb?ref=6480338ae6d2350656b8c689df8af79c02ebc6be", "patch": "@@ -5882,7 +5882,7 @@ package body Sem_Ch8 is\n       --  Selector name cannot be a character literal or an operator symbol in\n       --  SPARK, except for the operator symbol in a renaming.\n \n-      if Restriction_Check_Required (SPARK) then\n+      if Restriction_Check_Required (SPARK_05) then\n          if Nkind (Selector_Name (N)) = N_Character_Literal then\n             Check_SPARK_Restriction\n               (\"character literal cannot be prefixed\", N);\n@@ -6222,7 +6222,7 @@ package body Sem_Ch8 is\n          --  Selector name is restricted in SPARK\n \n          if Nkind (N) = N_Expanded_Name\n-           and then Restriction_Check_Required (SPARK)\n+           and then Restriction_Check_Required (SPARK_05)\n          then\n             if Is_Subprogram (P_Name) then\n                Check_SPARK_Restriction"}, {"sha": "95cc437224c0a95d6c1c6a3678d2bf838fd7ba21", "filename": "gcc/ada/sem_res.adb", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fsem_res.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fsem_res.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_res.adb?ref=6480338ae6d2350656b8c689df8af79c02ebc6be", "patch": "@@ -7028,7 +7028,7 @@ package body Sem_Res is\n             --  Protect call to Matching_Static_Array_Bounds to avoid costly\n             --  operation if not needed.\n \n-            if Restriction_Check_Required (SPARK)\n+            if Restriction_Check_Required (SPARK_05)\n               and then Base_Type (T) /= Standard_String\n               and then Base_Type (Etype (L)) = Base_Type (Etype (R))\n               and then Etype (L) /= Any_Composite  --  or else L in error\n@@ -7738,7 +7738,7 @@ package body Sem_Res is\n             --  Protect call to Matching_Static_Array_Bounds to avoid costly\n             --  operation if not needed.\n \n-            if Restriction_Check_Required (SPARK)\n+            if Restriction_Check_Required (SPARK_05)\n               and then Base_Type (Left_Typ) = Base_Type (Right_Typ)\n               and then Left_Typ /= Any_Composite  --  or Left_Opnd in error\n               and then Right_Typ /= Any_Composite  --  or Right_Opnd in error\n@@ -8483,7 +8483,7 @@ package body Sem_Res is\n       --  Protect call to Matching_Static_Array_Bounds to avoid costly\n       --  operation if not needed.\n \n-      if Restriction_Check_Required (SPARK)\n+      if Restriction_Check_Required (SPARK_05)\n         and then Is_Array_Type (Target_Typ)\n         and then Is_Array_Type (Etype (Expr))\n         and then Etype (Expr) /= Any_Composite  --  or else Expr in error\n@@ -9625,7 +9625,7 @@ package body Sem_Res is\n       --  Protect call to Matching_Static_Array_Bounds to avoid costly\n       --  operation if not needed.\n \n-      if Restriction_Check_Required (SPARK)\n+      if Restriction_Check_Required (SPARK_05)\n         and then Is_Array_Type (Target_Typ)\n         and then Is_Array_Type (Operand_Typ)\n         and then Operand_Typ /= Any_Composite  --  or else Operand in error"}, {"sha": "dcad44f1bbaedb1195e9a7a0d3a61e4cdb03ed23", "filename": "gcc/ada/sem_util.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fsem_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fsem_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_util.adb?ref=6480338ae6d2350656b8c689df8af79c02ebc6be", "patch": "@@ -4582,7 +4582,7 @@ package body Sem_Util is\n       --  Declaring a homonym is not allowed in SPARK ...\n \n       if Present (C)\n-        and then Restriction_Check_Required (SPARK)\n+        and then Restriction_Check_Required (SPARK_05)\n       then\n          declare\n             Enclosing_Subp : constant Node_Id := Enclosing_Subprogram (Def_Id);\n@@ -12982,7 +12982,7 @@ package body Sem_Util is\n          --  subprogram bodies. Detect those cases by testing whether\n          --  Process_End_Label was called for a body (Typ = 't') or a package.\n \n-         if Restriction_Check_Required (SPARK)\n+         if Restriction_Check_Required (SPARK_05)\n            and then (Typ = 't' or else Ekind (Ent) = E_Package)\n          then\n             Error_Msg_Node_1 := Endl;"}, {"sha": "40823d43331734558a014fd32702671462023e29", "filename": "gcc/ada/snames.ads-tmpl", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fsnames.ads-tmpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6480338ae6d2350656b8c689df8af79c02ebc6be/gcc%2Fada%2Fsnames.ads-tmpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsnames.ads-tmpl?ref=6480338ae6d2350656b8c689df8af79c02ebc6be", "patch": "@@ -733,6 +733,7 @@ package Snames is\n    Name_No_Dynamic_Attachment          : constant Name_Id := N + $;\n    Name_No_Dynamic_Interrupts          : constant Name_Id := N + $;\n    Name_No_Implementation_Extensions   : constant Name_Id := N + $;\n+   Name_No_Obsolescent_Features        : constant Name_Id := N + $;\n    Name_No_Requeue                     : constant Name_Id := N + $;\n    Name_No_Requeue_Statements          : constant Name_Id := N + $;\n    Name_No_Specification_Of_Aspect     : constant Name_Id := N + $;"}]}