{"sha": "e63db8f67d6574c04f87109b0e2e70db944f80af", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTYzZGI4ZjY3ZDY1NzRjMDRmODcxMDliMGUyZTcwZGI5NDRmODBhZg==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@cygnus.co.uk", "date": "1999-10-11T18:42:36Z"}, "committer": {"name": "Bernd Schmidt", "email": "crux@gcc.gnu.org", "date": "1999-10-11T18:42:36Z"}, "message": "Bring copy_insn_1 and copy_rtx in sync and simplify them\n\nFrom-SVN: r29902", "tree": {"sha": "6a9e1c6a8b8037f5e79e81dcbe99eff47c781322", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6a9e1c6a8b8037f5e79e81dcbe99eff47c781322"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e63db8f67d6574c04f87109b0e2e70db944f80af", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e63db8f67d6574c04f87109b0e2e70db944f80af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e63db8f67d6574c04f87109b0e2e70db944f80af", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e63db8f67d6574c04f87109b0e2e70db944f80af/comments", "author": null, "committer": null, "parents": [{"sha": "7c56a6cef7938d2f017efa78300a2bf63956fd2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c56a6cef7938d2f017efa78300a2bf63956fd2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c56a6cef7938d2f017efa78300a2bf63956fd2e"}], "stats": {"total": 49, "additions": 12, "deletions": 37}, "files": [{"sha": "4b6c13a6f0cd97129df3e154d6bf8c470671cb9c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e63db8f67d6574c04f87109b0e2e70db944f80af/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e63db8f67d6574c04f87109b0e2e70db944f80af/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e63db8f67d6574c04f87109b0e2e70db944f80af", "patch": "@@ -1,3 +1,8 @@\n+Mon Oct 11 20:31:51 1999  Bernd Schmidt  <bernds@cygnus.co.uk>\n+\n+\t* rtl.c (copy_rtx): Don't use accessor macros to copy fields.\n+\t* emit-rtl.c (copy_insn_1): Likewise.\n+\n Mon Oct 11 13:29:06 1999  Geoffrey Keating  <geoffk@cygnus.com>\n \n \t* config/mips/mips.c (mips_build_va_list): Correct"}, {"sha": "1918a437abcfe2c57ba1a76cf561ef0bf1986a17", "filename": "gcc/emit-rtl.c", "status": "modified", "additions": 4, "deletions": 17, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e63db8f67d6574c04f87109b0e2e70db944f80af/gcc%2Femit-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e63db8f67d6574c04f87109b0e2e70db944f80af/gcc%2Femit-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Femit-rtl.c?ref=e63db8f67d6574c04f87109b0e2e70db944f80af", "patch": "@@ -3473,22 +3473,16 @@ copy_insn_1 (orig)\n \n   for (i = 0; i < GET_RTX_LENGTH (GET_CODE (copy)); i++)\n     {\n+      copy->fld[i] = orig->fld[i];\n       switch (*format_ptr++)\n \t{\n \tcase 'e':\n-\t  XEXP (copy, i) = XEXP (orig, i);\n \t  if (XEXP (orig, i) != NULL)\n \t    XEXP (copy, i) = copy_insn_1 (XEXP (orig, i));\n \t  break;\n \n-\tcase '0':\n-\tcase 'u':\n-\t  XEXP (copy, i) = XEXP (orig, i);\n-\t  break;\n-\n \tcase 'E':\n \tcase 'V':\n-\t  XVEC (copy, i) = XVEC (orig, i);\n \t  if (XVEC (orig, i) == orig_asm_constraints_vector)\n \t    XVEC (copy, i) = copy_asm_constraints_vector;\n \t  else if (XVEC (orig, i) == orig_asm_operands_vector)\n@@ -3510,20 +3504,13 @@ copy_insn_1 (orig)\n \t  }\n \n \tcase 't':\n-\t  XTREE (copy, i) = XTREE (orig, i);\n-\t  break;\n-\n \tcase 'w':\n-\t  XWINT (copy, i) = XWINT (orig, i);\n-\t  break;\n-\n \tcase 'i':\n-\t  XINT (copy, i) = XINT (orig, i);\n-\t  break;\n-\n \tcase 's':\n \tcase 'S':\n-\t  XSTR (copy, i) = XSTR (orig, i);\n+\tcase 'u':\n+\tcase '0':\n+\t  /* These are left unchanged.  */\n \t  break;\n \n \tdefault:"}, {"sha": "e181279010a273894423bb1ef8d0c2c040808921", "filename": "gcc/rtl.c", "status": "modified", "additions": 3, "deletions": 20, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e63db8f67d6574c04f87109b0e2e70db944f80af/gcc%2Frtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e63db8f67d6574c04f87109b0e2e70db944f80af/gcc%2Frtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl.c?ref=e63db8f67d6574c04f87109b0e2e70db944f80af", "patch": "@@ -418,21 +418,16 @@ copy_rtx (orig)\n \n   for (i = 0; i < GET_RTX_LENGTH (GET_CODE (copy)); i++)\n     {\n+      copy->fld[i] = orig->fld[i];\n       switch (*format_ptr++)\n \t{\n \tcase 'e':\n-\t  XEXP (copy, i) = XEXP (orig, i);\n \t  if (XEXP (orig, i) != NULL)\n \t    XEXP (copy, i) = copy_rtx (XEXP (orig, i));\n \t  break;\n \n-\tcase 'u':\n-\t  XEXP (copy, i) = XEXP (orig, i);\n-\t  break;\n-\n \tcase 'E':\n \tcase 'V':\n-\t  XVEC (copy, i) = XVEC (orig, i);\n \t  if (XVEC (orig, i) != NULL)\n \t    {\n \t      XVEC (copy, i) = rtvec_alloc (XVECLEN (orig, i));\n@@ -450,25 +445,13 @@ copy_rtx (orig)\n \t  }\n \n \tcase 't':\n-\t  XTREE (copy, i) = XTREE (orig, i);\n-\t  break;\n-\n \tcase 'w':\n-\t  XWINT (copy, i) = XWINT (orig, i);\n-\t  break;\n-\n \tcase 'i':\n-\t  XINT (copy, i) = XINT (orig, i);\n-\t  break;\n-\n \tcase 's':\n \tcase 'S':\n-\t  XSTR (copy, i) = XSTR (orig, i);\n-\t  break;\n-\n+\tcase 'u':\n \tcase '0':\n-\t  /* Copy this through the wide int field; that's safest. */\n-\t  X0WINT (copy, i) = X0WINT (orig, i);\n+\t  /* These are left unchanged.  */\n \t  break;\n \t  \n \tdefault:"}]}