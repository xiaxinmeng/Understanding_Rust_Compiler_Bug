{"sha": "4d48441c65d6ceb6311f86beb5999aed2887da84", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGQ0ODQ0MWM2NWQ2Y2ViNjMxMWY4NmJlYjU5OTlhZWQyODg3ZGE4NA==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2010-02-07T19:49:15Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2010-02-07T19:49:15Z"}, "message": "Add new testcases.\n\n2010-02-07  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* gfortran.dg/graphite/id-19.f: New.\n\t* gfortran.dg/graphite/pr14741.f90: New.\n\t* gfortran.dg/graphite/pr41924.f90: New.\n\t* gfortran.dg/graphite/run-id-2.f90: New.\n\nFrom-SVN: r156583", "tree": {"sha": "fee52e72fb61cff975e155b2a5ab573504f4288d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fee52e72fb61cff975e155b2a5ab573504f4288d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4d48441c65d6ceb6311f86beb5999aed2887da84", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d48441c65d6ceb6311f86beb5999aed2887da84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d48441c65d6ceb6311f86beb5999aed2887da84", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d48441c65d6ceb6311f86beb5999aed2887da84/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8d2220b23410121e311d87f8eee0b453f70c56e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d2220b23410121e311d87f8eee0b453f70c56e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d2220b23410121e311d87f8eee0b453f70c56e5"}], "stats": {"total": 132, "additions": 132, "deletions": 0}, "files": [{"sha": "5a8c8fe97ebfb9d3ae608fb9ace0fccbe5068558", "filename": "gcc/ChangeLog.graphite", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d48441c65d6ceb6311f86beb5999aed2887da84/gcc%2FChangeLog.graphite", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d48441c65d6ceb6311f86beb5999aed2887da84/gcc%2FChangeLog.graphite", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog.graphite?ref=4d48441c65d6ceb6311f86beb5999aed2887da84", "patch": "@@ -1,3 +1,10 @@\n+2010-02-07  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* gfortran.dg/graphite/id-19.f: New.\n+\t* gfortran.dg/graphite/pr14741.f90: New.\n+\t* gfortran.dg/graphite/pr41924.f90: New.\n+\t* gfortran.dg/graphite/run-id-2.f90: New.\n+\n 2010-02-07  Sebastian Pop  <sebastian.pop@amd.com>\n \n \tPR middle-end/42988"}, {"sha": "e05f764b294a87480d8cd7dec4b103229c958a7a", "filename": "gcc/testsuite/gfortran.dg/graphite/id-19.f", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d48441c65d6ceb6311f86beb5999aed2887da84/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Fid-19.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d48441c65d6ceb6311f86beb5999aed2887da84/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Fid-19.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Fid-19.f?ref=4d48441c65d6ceb6311f86beb5999aed2887da84", "patch": "@@ -0,0 +1,15 @@\n+      SUBROUTINE ECCODR(FPQR)\n+      DIMENSION FPQR(25,25,25)\n+      INTEGER P,Q,R\n+      DIMENSION REC(73)\n+      DO 150 P=1,N4MAX,2\n+         QM2=-ONE\n+         DO 140 Q=1,N4MAX,2\n+            DO 130 R=1,N4MAX,2\n+               IF(P.GT.1) THEN\n+                  FPQR(P,Q,R)= QM2*FPQR(P,Q-2,R)*REC(P+Q-2+R)\n+               END IF\n+  130       RM2= RM2+TWO\n+  140    QM2= QM2+TWO\n+  150 PM2= PM2+TWO\n+      END"}, {"sha": "3fe1d690c387a4b1bef0b064beb084b3ccd1c8ab", "filename": "gcc/testsuite/gfortran.dg/graphite/pr14741.f90", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d48441c65d6ceb6311f86beb5999aed2887da84/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Fpr14741.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d48441c65d6ceb6311f86beb5999aed2887da84/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Fpr14741.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Fpr14741.f90?ref=4d48441c65d6ceb6311f86beb5999aed2887da84", "patch": "@@ -0,0 +1,29 @@\n+! { dg-options \"-O3 -ffast-math -floop-interchange -floop-block -fdump-tree-graphite-all\" }\n+\n+  INTEGER, PARAMETER :: N=1024\n+  REAL*8 :: A(N,N), B(N,N), C(N,N)\n+  REAL*8 :: t1,t2\n+  A=0.1D0\n+  B=0.1D0\n+  C=0.0D0\n+  CALL cpu_time(t1)\n+  CALL mult(A,B,C,N)\n+  CALL cpu_time(t2)\n+  write(6,*) t2-t1,C(1,1)\n+END program\n+\n+SUBROUTINE mult(A,B,C,N)\n+  REAL*8 :: A(N,N), B(N,N), C(N,N)\n+  INTEGER :: I,J,K,N\n+  DO J=1,N\n+     DO I=1,N\n+        DO K=1,N\n+           C(I,J)=C(I,J)+A(I,K)*B(K,J)\n+        ENDDO\n+     ENDDO\n+  ENDDO\n+END SUBROUTINE mult\n+\n+! { dg-final { scan-tree-dump-times \"number of SCoPs: 1\" 1 \"graphite\" { xfail *-*-* } } }\n+! { dg-final { scan-tree-dump-times \"will be loop blocked\" 1 \"graphite\" { xfail *-*-* } } }\n+! { dg-final { cleanup-tree-dump \"graphite\" } }"}, {"sha": "f8dc8078e5cef21408a2f20821e63dd023427163", "filename": "gcc/testsuite/gfortran.dg/graphite/pr41924.f90", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d48441c65d6ceb6311f86beb5999aed2887da84/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Fpr41924.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d48441c65d6ceb6311f86beb5999aed2887da84/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Fpr41924.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Fpr41924.f90?ref=4d48441c65d6ceb6311f86beb5999aed2887da84", "patch": "@@ -0,0 +1,15 @@\n+! { dg-options \"-O2 -fgraphite-identity \" }\n+\n+MODULE MAIN1\n+ REAL , ALLOCATABLE :: HRVALD(:)\n+END MODULE MAIN1\n+\n+SUBROUTINE VOLCALC()\n+ USE MAIN1\n+ INTEGER :: ITYP\n+ LOGICAL :: WETSCIM\n+\n+ DO ITYP = 1 , 100\n+    IF ( WETSCIM ) HRVALD(ITYP) = 0.0\n+ ENDDO\n+END SUBROUTINE VOLCALC"}, {"sha": "c4fa1d06141c7244d14661da1a6e93eb11bac204", "filename": "gcc/testsuite/gfortran.dg/graphite/run-id-2.f90", "status": "added", "additions": 66, "deletions": 0, "changes": 66, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d48441c65d6ceb6311f86beb5999aed2887da84/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Frun-id-2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d48441c65d6ceb6311f86beb5999aed2887da84/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Frun-id-2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Frun-id-2.f90?ref=4d48441c65d6ceb6311f86beb5999aed2887da84", "patch": "@@ -0,0 +1,66 @@\n+  IMPLICIT NONE\n+  INTEGER, PARAMETER :: dp=KIND(0.0D0)\n+  REAL(KIND=dp)      :: res\n+\n+  res=exp_radius_very_extended(  0    ,      1   ,       0      ,    1, &\n+                               (/0.0D0,0.0D0,0.0D0/),&\n+                               (/1.0D0,0.0D0,0.0D0/),&\n+                               (/1.0D0,0.0D0,0.0D0/),&\n+                                 1.0D0,1.0D0,1.0D0,1.0D0)\n+  if (res.ne.1.0d0) call abort()\n+\n+CONTAINS\n+\n+ FUNCTION exp_radius_very_extended(la_min,la_max,lb_min,lb_max,ra,rb,rp,&\n+                          zetp,eps,prefactor,cutoff) RESULT(radius)\n+\n+    INTEGER, INTENT(IN)                      :: la_min, la_max, lb_min, lb_max\n+    REAL(KIND=dp), INTENT(IN)                :: ra(3), rb(3), rp(3), zetp, &\n+                                                eps, prefactor, cutoff\n+    REAL(KIND=dp)                            :: radius\n+\n+    INTEGER                                  :: i, ico, j, jco, la(3), lb(3), &\n+                                                lxa, lxb, lya, lyb, lza, lzb\n+    REAL(KIND=dp)                            :: bini, binj, coef(0:20), &\n+                                                epsin_local, polycoef(0:60), &\n+                                                prefactor_local, rad_a, &\n+                                                rad_b, s1, s2\n+\n+    epsin_local=1.0E-2_dp\n+\n+    prefactor_local=prefactor*MAX(1.0_dp,cutoff)\n+    rad_a=SQRT(SUM((ra-rp)**2))\n+    rad_b=SQRT(SUM((rb-rp)**2))\n+\n+    polycoef(0:la_max+lb_max)=0.0_dp\n+    DO lxa=0,la_max\n+    DO lxb=0,lb_max\n+       coef(0:la_max+lb_max)=0.0_dp\n+       bini=1.0_dp\n+       s1=1.0_dp\n+       DO i=0,lxa\n+          binj=1.0_dp\n+          s2=1.0_dp\n+          DO j=0,lxb\n+             coef(lxa+lxb-i-j)=coef(lxa+lxb-i-j) + bini*binj*s1*s2\n+             binj=(binj*(lxb-j))/(j+1)\n+             s2=s2*(rad_b)\n+          ENDDO\n+          bini=(bini*(lxa-i))/(i+1)\n+          s1=s1*(rad_a)\n+       ENDDO\n+       DO i=0,lxa+lxb\n+          polycoef(i)=MAX(polycoef(i),coef(i))\n+       ENDDO\n+    ENDDO\n+    ENDDO\n+\n+    polycoef(0:la_max+lb_max)=polycoef(0:la_max+lb_max)*prefactor_local\n+    radius=0.0_dp\n+    DO i=0,la_max+lb_max\n+          radius=MAX(radius,polycoef(i)**(i+1))\n+    ENDDO\n+\n+  END FUNCTION exp_radius_very_extended\n+\n+END"}]}