{"sha": "2137aa92412da363d52ef699987441be28b239d0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjEzN2FhOTI0MTJkYTM2M2Q1MmVmNjk5OTg3NDQxYmUyOGIyMzlkMA==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2020-10-10T20:22:12Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2020-10-10T20:22:12Z"}, "message": "libstdc++: Replace use of reserved name that clashes [PR 97362]\n\nThe name __deref is defined as a macro by Windows headers.\n\nThis renames the __deref() helper function to __ref. It doesn't actually\ndereference an iterator. it just has the same type as the iterator's\nreference type.\n\nlibstdc++-v3/ChangeLog:\n\n\tPR libstdc++/97362\n\t* doc/html/manual/source_code_style.html: Regenerate.\n\t* doc/xml/manual/appendix_contributing.xml: Add __deref to\n\tBADNAMES.\n\t* include/debug/functions.h (_Irreflexive_checker::__deref):\n\tRename to __ref.\n\t* testsuite/17_intro/badnames.cc: Check __deref.", "tree": {"sha": "a51c2d65dfeba5ee9c15b0dd3a5f3242a57b7493", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a51c2d65dfeba5ee9c15b0dd3a5f3242a57b7493"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2137aa92412da363d52ef699987441be28b239d0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2137aa92412da363d52ef699987441be28b239d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2137aa92412da363d52ef699987441be28b239d0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2137aa92412da363d52ef699987441be28b239d0/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "988f0466e80a6e4cc758f4df387b6c021b1cb078", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/988f0466e80a6e4cc758f4df387b6c021b1cb078", "html_url": "https://github.com/Rust-GCC/gccrs/commit/988f0466e80a6e4cc758f4df387b6c021b1cb078"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "669f16d165f5478c63ec62c0d98fde00ce4957aa", "filename": "libstdc++-v3/doc/html/manual/source_code_style.html", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2137aa92412da363d52ef699987441be28b239d0/libstdc%2B%2B-v3%2Fdoc%2Fhtml%2Fmanual%2Fsource_code_style.html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2137aa92412da363d52ef699987441be28b239d0/libstdc%2B%2B-v3%2Fdoc%2Fhtml%2Fmanual%2Fsource_code_style.html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fhtml%2Fmanual%2Fsource_code_style.html?ref=2137aa92412da363d52ef699987441be28b239d0", "patch": "@@ -32,6 +32,7 @@\n <br />\n \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0MS\u00a0adds:<br />\n \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0_T<br />\n+\t\t\t__deref<br />\n <br />\n \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0BSD\u00a0adds:<br />\n \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0__used<br />"}, {"sha": "4380cbbe3f1103e8716c45a95946f461075d12ca", "filename": "libstdc++-v3/doc/xml/manual/appendix_contributing.xml", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2137aa92412da363d52ef699987441be28b239d0/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fappendix_contributing.xml", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2137aa92412da363d52ef699987441be28b239d0/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fappendix_contributing.xml", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fappendix_contributing.xml?ref=2137aa92412da363d52ef699987441be28b239d0", "patch": "@@ -412,8 +412,9 @@ indicate a place that may require attention for multi-thread safety.\n   \n   <para>\n   </para>\n-  <section xml:id=\"coding_style.bad_identifiers\"><info><title>Bad Identifiers</title></info>\n-    \n+\n+  <section xml:id=\"coding_style.bad_identifiers\"><info><title>Bad Identifiers</title></info> <!-- BADNAMES -->\n+\n     <para>\n       Identifiers that conflict and should be avoided.\n     </para>\n@@ -445,6 +446,7 @@ indicate a place that may require attention for multi-thread safety.\n \n       MS adds:\n       _T\n+\t\t\t__deref\n \n       BSD adds:\n       __used"}, {"sha": "942d35f358d796f64d9114a9424ff9e63b2adeb1", "filename": "libstdc++-v3/include/debug/functions.h", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2137aa92412da363d52ef699987441be28b239d0/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Ffunctions.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2137aa92412da363d52ef699987441be28b239d0/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Ffunctions.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fdebug%2Ffunctions.h?ref=2137aa92412da363d52ef699987441be28b239d0", "patch": "@@ -421,10 +421,10 @@ namespace __gnu_debug\n   {\n     template<typename _It>\n       static typename std::iterator_traits<_It>::reference\n-      __deref();\n+      __ref();\n \n     template<typename _It,\n-\t     typename = decltype(__deref<_It>() < __deref<_It>())>\n+\t     typename = decltype(__ref<_It>() < __ref<_It>())>\n       _GLIBCXX20_CONSTEXPR\n       static bool\n       _S_is_valid(_It __it)\n@@ -438,7 +438,7 @@ namespace __gnu_debug\n       { return true; }\n \n     template<typename _It, typename _Pred, typename\n-\t= decltype(std::declval<_Pred>()(__deref<_It>(), __deref<_It>()))>\n+\t= decltype(std::declval<_Pred>()(__ref<_It>(), __ref<_It>()))>\n       _GLIBCXX20_CONSTEXPR\n       static bool\n       _S_is_valid_pred(_It __it, _Pred __pred)"}, {"sha": "a6b98db26f2c3418675cf29a9422dc3feb7a5180", "filename": "libstdc++-v3/testsuite/17_intro/badnames.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2137aa92412da363d52ef699987441be28b239d0/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fbadnames.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2137aa92412da363d52ef699987441be28b239d0/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fbadnames.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fbadnames.cc?ref=2137aa92412da363d52ef699987441be28b239d0", "patch": "@@ -62,6 +62,7 @@\n \n // MS adds:\n #define _T\t\t_T is a BADNAME\n+#define __deref\t\t__deref is a BADNAME\n \n // BSD adds:\n #define __used\t\t__used is a BADNAME"}]}