{"sha": "4cf3301cf5c82d0a4ae0c36cec9cb1427d9d5dfc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGNmMzMwMWNmNWM4MmQwYTRhZTBjMzZjZWM5Y2IxNDI3ZDlkNWRmYw==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-01-09T15:10:30Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-01-09T15:10:30Z"}, "message": "(lookup_compiler): Fix special code for `-' suffix.\n\nFrom-SVN: r3174", "tree": {"sha": "210c491330fc9dc8232beed9c14ac9502e31d5e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/210c491330fc9dc8232beed9c14ac9502e31d5e0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4cf3301cf5c82d0a4ae0c36cec9cb1427d9d5dfc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cf3301cf5c82d0a4ae0c36cec9cb1427d9d5dfc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4cf3301cf5c82d0a4ae0c36cec9cb1427d9d5dfc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cf3301cf5c82d0a4ae0c36cec9cb1427d9d5dfc/comments", "author": null, "committer": null, "parents": [{"sha": "6de2de122b3b23a3aefad6385a41ad127a2922b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6de2de122b3b23a3aefad6385a41ad127a2922b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6de2de122b3b23a3aefad6385a41ad127a2922b9"}], "stats": {"total": 13, "additions": 7, "deletions": 6}, "files": [{"sha": "ff13c10592e5d73c24051b880fe0bf81b09bf58d", "filename": "gcc/gcc.c", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cf3301cf5c82d0a4ae0c36cec9cb1427d9d5dfc/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cf3301cf5c82d0a4ae0c36cec9cb1427d9d5dfc/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=4cf3301cf5c82d0a4ae0c36cec9cb1427d9d5dfc", "patch": "@@ -3664,12 +3664,13 @@ lookup_compiler (name, length, language)\n   /* Look for a suffix.  */\n   for (cp = compilers + n_compilers - 1; cp >= compilers; cp--)\n     {\n-      if (strlen (cp->suffix) < length\n-\t       /* See if the suffix matches the end of NAME.  */\n-\t       && !strcmp (cp->suffix,\n-\t\t\t   name + length - strlen (cp->suffix))\n-\t       /* The suffix `-' matches only the file name `-'.  */\n-\t       && !(!strcmp (cp->suffix, \"-\") && length != 1))\n+      if (/* The suffix `-' matches only the file name `-'.  */\n+\t  (!strcmp (cp->suffix, \"-\") && !strcmp (name, \"-\"))\n+\t  ||\n+\t  (strlen (cp->suffix) < length\n+\t   /* See if the suffix matches the end of NAME.  */\n+\t   && !strcmp (cp->suffix,\n+\t\t       name + length - strlen (cp->suffix))))\n \t{\n \t  if (cp->spec[0][0] == '@')\n \t    {"}]}