{"sha": "e01b4e16930ba0183bff94c88bce20501af8bbe4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTAxYjRlMTY5MzBiYTAxODNiZmY5NGM4OGJjZTIwNTAxYWY4YmJlNA==", "commit": {"author": {"name": "Martin Sebor", "email": "msebor@redhat.com", "date": "2016-06-09T16:32:25Z"}, "committer": {"name": "Martin Sebor", "email": "msebor@gcc.gnu.org", "date": "2016-06-09T16:32:25Z"}, "message": "PR c/70883 - inconsistent error message for calls to __builtin_add_overflow\n\nPR c/70883 - inconsistent error message for calls to __builtin_add_overflow\n  with too few arguments\n\ngcc/c-family/ChangeLog:\n2016-06-09  Martin Sebor  <msebor@redhat.com>\n\n\tPR c/70883\n\t* c-common.c (builtin_function_validate_nargs): Make text of error\n\tmessage consistent with others like it.\n\ngcc/testsuite/ChangeLog:\n2016-06-09  Martin Sebor  <msebor@redhat.com>\n\n\tPR c/70883\n\t* c-c++-common/builtin-arith-overflow-1.c: Adjust diagnostic text.\n\t* gcc.dg/builtin-constant_p-1.c: Same.\n\t* gcc.dg/builtins-error.c: Same.\n\t* gcc.dg/pr70859.c: Same.\n\nFrom-SVN: r237268", "tree": {"sha": "f7d07e4087dc65791d0dd86af7b3aa9fab866124", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f7d07e4087dc65791d0dd86af7b3aa9fab866124"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e01b4e16930ba0183bff94c88bce20501af8bbe4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e01b4e16930ba0183bff94c88bce20501af8bbe4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e01b4e16930ba0183bff94c88bce20501af8bbe4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e01b4e16930ba0183bff94c88bce20501af8bbe4/comments", "author": {"login": "msebor", "id": 381149, "node_id": "MDQ6VXNlcjM4MTE0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/381149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msebor", "html_url": "https://github.com/msebor", "followers_url": "https://api.github.com/users/msebor/followers", "following_url": "https://api.github.com/users/msebor/following{/other_user}", "gists_url": "https://api.github.com/users/msebor/gists{/gist_id}", "starred_url": "https://api.github.com/users/msebor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msebor/subscriptions", "organizations_url": "https://api.github.com/users/msebor/orgs", "repos_url": "https://api.github.com/users/msebor/repos", "events_url": "https://api.github.com/users/msebor/events{/privacy}", "received_events_url": "https://api.github.com/users/msebor/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "386a87e4f1597f4014b0bea959298e6e9511d7c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/386a87e4f1597f4014b0bea959298e6e9511d7c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/386a87e4f1597f4014b0bea959298e6e9511d7c6"}], "stats": {"total": 70, "additions": 42, "deletions": 28}, "files": [{"sha": "23ff800e41f5367d87912fccd246518224ecc058", "filename": "gcc/c-family/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01b4e16930ba0183bff94c88bce20501af8bbe4/gcc%2Fc-family%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01b4e16930ba0183bff94c88bce20501af8bbe4/gcc%2Fc-family%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2FChangeLog?ref=e01b4e16930ba0183bff94c88bce20501af8bbe4", "patch": "@@ -1,3 +1,9 @@\n+2016-06-09  Martin Sebor  <msebor@redhat.com>\n+\n+\tPR c/70883\n+\t* c-common.c (builtin_function_validate_nargs): Make text of error\n+\tmessage consistent with others like it.\n+\n 2016-06-08  Martin Sebor  <msebor@redhat.com>\n \t    Jakub Jelinek  <jakub@redhat.com>\n "}, {"sha": "94005ff8260b9a29c58db4f5262d186e5abc556a", "filename": "gcc/c-family/c-common.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01b4e16930ba0183bff94c88bce20501af8bbe4/gcc%2Fc-family%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01b4e16930ba0183bff94c88bce20501af8bbe4/gcc%2Fc-family%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc-common.c?ref=e01b4e16930ba0183bff94c88bce20501af8bbe4", "patch": "@@ -9828,7 +9828,7 @@ builtin_function_validate_nargs (location_t loc, tree fndecl, int nargs,\n {\n   if (nargs < required)\n     {\n-      error_at (loc, \"not enough arguments to function %qE\", fndecl);\n+      error_at (loc, \"too few arguments to function %qE\", fndecl);\n       return false;\n     }\n   else if (nargs > required)"}, {"sha": "9ae6294a1ce2d330e00a7950446f461061e84357", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01b4e16930ba0183bff94c88bce20501af8bbe4/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01b4e16930ba0183bff94c88bce20501af8bbe4/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e01b4e16930ba0183bff94c88bce20501af8bbe4", "patch": "@@ -1,3 +1,11 @@\n+2016-06-09  Martin Sebor  <msebor@redhat.com>\n+\n+\tPR c/70883\n+\t* c-c++-common/builtin-arith-overflow-1.c: Adjust diagnostic text.\n+\t* gcc.dg/builtin-constant_p-1.c: Same.\n+\t* gcc.dg/builtins-error.c: Same.\n+\t* gcc.dg/pr70859.c: Same.\n+\n 2016-06-09  Senthil Kumar Selvaraj  <senthil_kumar.selvaraj@atmel.com>\n \n \t* gcc.c-torture/execute/bswap-2.c: Require int32plus."}, {"sha": "3332c4ec44d17e59258305659f06d36d384b7a32", "filename": "gcc/testsuite/c-c++-common/builtin-arith-overflow-1.c", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01b4e16930ba0183bff94c88bce20501af8bbe4/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fbuiltin-arith-overflow-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01b4e16930ba0183bff94c88bce20501af8bbe4/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fbuiltin-arith-overflow-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fbuiltin-arith-overflow-1.c?ref=e01b4e16930ba0183bff94c88bce20501af8bbe4", "patch": "@@ -3,12 +3,12 @@\n int\n f1 (void)\n {\n-  int x = __builtin_add_overflow ();\t/* { dg-error \"not enough arguments to function\" } */\n-  x += __builtin_sub_overflow ();\t/* { dg-error \"not enough arguments to function\" } */\n-  x += __builtin_mul_overflow ();\t/* { dg-error \"not enough arguments to function\" } */\n-  x += __builtin_add_overflow_p ();\t/* { dg-error \"not enough arguments to function\" } */\n-  x += __builtin_sub_overflow_p ();\t/* { dg-error \"not enough arguments to function\" } */\n-  x += __builtin_mul_overflow_p ();\t/* { dg-error \"not enough arguments to function\" } */\n+  int x = __builtin_add_overflow ();\t/* { dg-error \"too few arguments to function\" } */\n+  x += __builtin_sub_overflow ();\t/* { dg-error \"too few arguments to function\" } */\n+  x += __builtin_mul_overflow ();\t/* { dg-error \"too few arguments to function\" } */\n+  x += __builtin_add_overflow_p ();\t/* { dg-error \"too few arguments to function\" } */\n+  x += __builtin_sub_overflow_p ();\t/* { dg-error \"too few arguments to function\" } */\n+  x += __builtin_mul_overflow_p ();\t/* { dg-error \"too few arguments to function\" } */\n   return x;\n }\n \n@@ -21,7 +21,7 @@ f2 (int a, int b, int *c, int d)\n   x += __builtin_add_overflow_p (a, b, d, d);\t/* { dg-error \"too many arguments to function\" } */\n   x += __builtin_sub_overflow_p (a, b, d, d, 1, d);\t/* { dg-error \"too many arguments to function\" } */\n   x += __builtin_mul_overflow_p (a, b, d, d);\t/* { dg-error \"too many arguments to function\" } */\n-  \n+\n   return x;\n }\n "}, {"sha": "f177fe34b2cf69e9262999406c44a837ee91d8f5", "filename": "gcc/testsuite/gcc.dg/builtin-constant_p-1.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01b4e16930ba0183bff94c88bce20501af8bbe4/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltin-constant_p-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01b4e16930ba0183bff94c88bce20501af8bbe4/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltin-constant_p-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltin-constant_p-1.c?ref=e01b4e16930ba0183bff94c88bce20501af8bbe4", "patch": "@@ -2,9 +2,9 @@\n \n int main()\n {\n-  if (__builtin_constant_p ()) /* { dg-error \"not enough\" } */\n+  if (__builtin_constant_p ()) /* { dg-error \"too few arguments\" } */\n     return 0;\n-  if (__builtin_constant_p (5, 6)) /* { dg-error \"too many\" } */\n+  if (__builtin_constant_p (5, 6)) /* { dg-error \"too many arguments\" } */\n     return 1;\n   return 0;\n }"}, {"sha": "945d239d6081eca7b143ba0ec3a3218e3acd99b7", "filename": "gcc/testsuite/gcc.dg/builtins-error.c", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01b4e16930ba0183bff94c88bce20501af8bbe4/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltins-error.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01b4e16930ba0183bff94c88bce20501af8bbe4/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltins-error.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fbuiltins-error.c?ref=e01b4e16930ba0183bff94c88bce20501af8bbe4", "patch": "@@ -23,19 +23,19 @@ int test1(struct X x)\n \n int test2(double x)\n {\n-  if (x ==  1) return __builtin_fpclassify(1,2,3,4,5); /* { dg-error \"not enough arguments\" } */\n-  if (x ==  2) return __builtin_isfinite(); /* { dg-error \"not enough arguments\" } */\n-  if (x ==  3) return __builtin_isinf_sign(); /* { dg-error \"not enough arguments\" } */\n-  if (x ==  4) return __builtin_isinf(); /* { dg-error \"not enough arguments\" } */\n-  if (x ==  5) return __builtin_isnan(); /* { dg-error \"not enough arguments\" } */\n-  if (x ==  6) return __builtin_isnormal(); /* { dg-error \"not enough arguments\" } */\n-  if (x ==  7) return __builtin_isgreater(x); /* { dg-error \"not enough arguments\" } */\n-  if (x ==  8) return __builtin_isgreaterequal(x); /* { dg-error \"not enough arguments\" } */\n-  if (x ==  9) return __builtin_isless(x); /* { dg-error \"not enough arguments\" } */\n-  if (x == 10) return __builtin_islessequal(x); /* { dg-error \"not enough arguments\" } */\n-  if (x == 11) return __builtin_islessgreater(x); /* { dg-error \"not enough arguments\" } */\n-  if (x == 12) return __builtin_isunordered(x); /* { dg-error \"not enough arguments\" } */\n-  if (x == 13) return __builtin_signbit(); /* { dg-error \"not enough arguments\" } */\n+  if (x ==  1) return __builtin_fpclassify(1,2,3,4,5); /* { dg-error \"too few arguments\" } */\n+  if (x ==  2) return __builtin_isfinite(); /* { dg-error \"too few arguments\" } */\n+  if (x ==  3) return __builtin_isinf_sign(); /* { dg-error \"too few arguments\" } */\n+  if (x ==  4) return __builtin_isinf(); /* { dg-error \"too few arguments\" } */\n+  if (x ==  5) return __builtin_isnan(); /* { dg-error \"too few arguments\" } */\n+  if (x ==  6) return __builtin_isnormal(); /* { dg-error \"too few arguments\" } */\n+  if (x ==  7) return __builtin_isgreater(x); /* { dg-error \"too few arguments\" } */\n+  if (x ==  8) return __builtin_isgreaterequal(x); /* { dg-error \"too few arguments\" } */\n+  if (x ==  9) return __builtin_isless(x); /* { dg-error \"too few arguments\" } */\n+  if (x == 10) return __builtin_islessequal(x); /* { dg-error \"too few arguments\" } */\n+  if (x == 11) return __builtin_islessgreater(x); /* { dg-error \"too few arguments\" } */\n+  if (x == 12) return __builtin_isunordered(x); /* { dg-error \"too few arguments\" } */\n+  if (x == 13) return __builtin_signbit(); /* { dg-error \"too few arguments\" } */\n   return 0;\n }\n "}, {"sha": "e71b05237b080258c3f0c52ffdf08fd354e399d5", "filename": "gcc/testsuite/gcc.dg/pr70859.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e01b4e16930ba0183bff94c88bce20501af8bbe4/gcc%2Ftestsuite%2Fgcc.dg%2Fpr70859.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e01b4e16930ba0183bff94c88bce20501af8bbe4/gcc%2Ftestsuite%2Fgcc.dg%2Fpr70859.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr70859.c?ref=e01b4e16930ba0183bff94c88bce20501af8bbe4", "patch": "@@ -41,27 +41,27 @@ fn0 (int n)\n int\n fn1 (void)\n {\n-  if (__builtin_constant_p ()) /* { dg-error \"7:not enough\" } */\n+  if (__builtin_constant_p ()) /* { dg-error \"7:too few\" } */\n     return 0;\n   if (__builtin_constant_p (1, 2)) /* { dg-error \"7:too many\" } */\n     return 1;\n-  if (__builtin_isfinite ()) /* { dg-error \"7:not enough\" } */\n+  if (__builtin_isfinite ()) /* { dg-error \"7:too few\" } */\n     return 3;\n   if (__builtin_isfinite (1, 2)) /* { dg-error \"7:too many\" } */\n     return 4;\n-  if (__builtin_isless (0)) /* { dg-error \"7:not enough\" } */\n+  if (__builtin_isless (0)) /* { dg-error \"7:too few\" } */\n     return 5;\n   if (__builtin_isless (1, 2, 3)) /* { dg-error \"7:too many\" } */\n     return 6;\n-  if (__builtin_fpclassify (1, 2, 3, 4, 5)) /* { dg-error \"7:not enough\" } */\n+  if (__builtin_fpclassify (1, 2, 3, 4, 5)) /* { dg-error \"7:too few\" } */\n     return 7;\n   if (__builtin_fpclassify (1, 2, 3, 4, 5, r, 6)) /* { dg-error \"7:too many\" } */\n     return 8;\n   if (__builtin_assume_aligned (p)) /* { dg-error \"7:too few\" } */\n     return 9;\n   if (__builtin_assume_aligned (p, r, p, p)) /* { dg-error \"7:too many\" } */\n     return 10;\n-  if (__builtin_add_overflow ()) /* { dg-error \"7:not enough\" } */\n+  if (__builtin_add_overflow ()) /* { dg-error \"7:too few\" } */\n     return 11;\n   if (__builtin_add_overflow (1, 2, 3, &r)) /* { dg-error \"7:too many\" } */\n     return 12;"}]}