{"sha": "cd848423954f41a920c93ea9551f6c144f94dbfa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2Q4NDg0MjM5NTRmNDFhOTIwYzkzZWE5NTUxZjZjMTQ0Zjk0ZGJmYQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2000-12-15T06:51:07Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-12-15T06:51:07Z"}, "message": "* java/util/ResourceBundle.java\n\t(getBundle(String,Locale,ClassLoader)): New method.\n\t(trySomeGetBundle): Added `loader' argument.\n\t(partialGetBundle): Likewise.\n\nFrom-SVN: r38275", "tree": {"sha": "692af71c7a2c89ac2fb0bf4e5102c1d0e39265b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/692af71c7a2c89ac2fb0bf4e5102c1d0e39265b6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cd848423954f41a920c93ea9551f6c144f94dbfa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd848423954f41a920c93ea9551f6c144f94dbfa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd848423954f41a920c93ea9551f6c144f94dbfa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd848423954f41a920c93ea9551f6c144f94dbfa/comments", "author": null, "committer": null, "parents": [{"sha": "13b7bc8a56944cc4c88ee76ed54dbaab0b89ae54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13b7bc8a56944cc4c88ee76ed54dbaab0b89ae54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13b7bc8a56944cc4c88ee76ed54dbaab0b89ae54"}], "stats": {"total": 30, "additions": 22, "deletions": 8}, "files": [{"sha": "24f2307b84b9396516697da569eb8df0fcce9316", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd848423954f41a920c93ea9551f6c144f94dbfa/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd848423954f41a920c93ea9551f6c144f94dbfa/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=cd848423954f41a920c93ea9551f6c144f94dbfa", "patch": "@@ -1,5 +1,10 @@\n 2000-12-14  Tom Tromey  <tromey@redhat.com>\n \n+\t* java/util/ResourceBundle.java\n+\t(getBundle(String,Locale,ClassLoader)): New method.\n+\t(trySomeGetBundle): Added `loader' argument.\n+\t(partialGetBundle): Likewise.\n+\n \t* java/text/NumberFormat.java (groupingUsed, parseIntegerOnly,\n \tmaximumFractionDigits, maximumIntegerDigits,\n \tminimumFractionDigits, minimumIntegerDigits): Now"}, {"sha": "99b81bf218e7ebc8cff3cfcd45fd61c445d7c61a", "filename": "libjava/java/util/ResourceBundle.java", "status": "modified", "additions": 17, "deletions": 8, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd848423954f41a920c93ea9551f6c144f94dbfa/libjava%2Fjava%2Futil%2FResourceBundle.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd848423954f41a920c93ea9551f6c144f94dbfa/libjava%2Fjava%2Futil%2FResourceBundle.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2FResourceBundle.java?ref=cd848423954f41a920c93ea9551f6c144f94dbfa", "patch": "@@ -73,7 +73,8 @@ public static final ResourceBundle getBundle(String baseName)\n   // stripping off the '_' delimited tails until the search name is\n   // the same as stopHere.\n   private static final ResourceBundle trySomeGetBundle (String bundleName,\n-\t\t\t\t\t\t\tString stopHere)\n+\t\t\t\t\t\t\tString stopHere,\n+\t\t\t\t\t\t\tClassLoader loader)\n     {\n       Class rbc;\n       ResourceBundle needs_parent = null, r, result = null;\n@@ -115,9 +116,9 @@ private static final ResourceBundle trySomeGetBundle (String bundleName,\n \t    }\n \n \t  // Look for a properties file.\n-\t  InputStream i = \n-\t    ClassLoader.getSystemResourceAsStream (bundleName.replace ('.', '/') \n-\t\t\t\t\t\t   + \".properties\");\n+\t  InputStream i = loader.getResourceAsStream (bundleName.replace ('.',\n+\t\t\t\t\t\t\t\t\t  '/')\n+\t\t\t\t\t\t      + \".properties\");\n \t  if (i != null)\n \t    {\n \t      try\n@@ -151,7 +152,8 @@ private static final ResourceBundle trySomeGetBundle (String bundleName,\n   // Search for bundles, but stop at baseName_language (if required).\n   // This is synchronized so that the cache works correctly.\n   private static final synchronized ResourceBundle\n-    partialGetBundle (String baseName, Locale locale, boolean langStop)\n+    partialGetBundle (String baseName, Locale locale, boolean langStop,\n+\t\t      ClassLoader loader)\n     {\n       ResourceBundle rb;\n \n@@ -168,7 +170,7 @@ private static final ResourceBundle trySomeGetBundle (String bundleName,\n \t\t\t + (langStop ? (\"_\" + locale.getLanguage()) : \"\"));\n \n \n-      rb = trySomeGetBundle(bundleName, stopHere);\n+      rb = trySomeGetBundle(bundleName, stopHere, loader);\n       if (rb != null)\n \tresource_cache.put(bundleName, rb);\n \n@@ -177,6 +179,13 @@ private static final ResourceBundle trySomeGetBundle (String bundleName,\n \n   public static final ResourceBundle getBundle (String baseName, \n \t\t\t\t\t\tLocale locale)\n+  {\n+    return getBundle (baseName, locale, ClassLoader.getSystemClassLoader ());\n+  }\n+\n+  public static final ResourceBundle getBundle (String baseName, \n+\t\t\t\t\t\tLocale locale,\n+\t\t\t\t\t\tClassLoader loader)\n     throws MissingResourceException\n     {\n       ResourceBundle rb;\n@@ -185,14 +194,14 @@ public static final ResourceBundle getBundle (String baseName,\n       if (baseName == null)\n \tthrow new NullPointerException ();\n \n-      rb = partialGetBundle(baseName, locale, false);\n+      rb = partialGetBundle(baseName, locale, false, loader);\n       if (rb != null)\n \treturn rb;\n \n       // Finally, try the default locale.\n       if (! locale.equals(Locale.getDefault()))\n \t{\n-\t  rb = partialGetBundle(baseName, Locale.getDefault(), true);\n+\t  rb = partialGetBundle(baseName, Locale.getDefault(), true, loader);\n \t  if (rb != null)\n \t    return rb;\n \t}"}]}