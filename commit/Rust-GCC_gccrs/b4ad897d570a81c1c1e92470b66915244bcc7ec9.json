{"sha": "b4ad897d570a81c1c1e92470b66915244bcc7ec9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjRhZDg5N2Q1NzBhODFjMWMxZTkyNDcwYjY2OTE1MjQ0YmNjN2VjOQ==", "commit": {"author": {"name": "Michael Koch", "email": "mkoch@gcc.gnu.org", "date": "2005-04-28T20:47:50Z"}, "committer": {"name": "Michael Koch", "email": "mkoch@gcc.gnu.org", "date": "2005-04-28T20:47:50Z"}, "message": "[multiple changes]\n\n2005-04-28  Tom Tromey  <tromey@redhat.com>\n\n\t* javax/swing/Timer.java\n\t(drainEvents, queueEvent): Now package-private.\n\n2005-04-28  Audrius Meskauskas  <audriusa@bluewin.ch>\n\n\t* javax/swing/Timer.java\n\t(constructor): Assigning initialDelay.\n\n2005-04-28  Audrius Meskauskas  <audriusa@bluewin.ch>\n\n\t* javax/swing/Timer.java\n\t(Waker.run): firing the first action event.\n\nFrom-SVN: r98939", "tree": {"sha": "06eb652b3609caca03d3e01b21e026495497dc38", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/06eb652b3609caca03d3e01b21e026495497dc38"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b4ad897d570a81c1c1e92470b66915244bcc7ec9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4ad897d570a81c1c1e92470b66915244bcc7ec9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4ad897d570a81c1c1e92470b66915244bcc7ec9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4ad897d570a81c1c1e92470b66915244bcc7ec9/comments", "author": null, "committer": null, "parents": [{"sha": "67468e8eda640eb0cd6c64186533ad412137512f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67468e8eda640eb0cd6c64186533ad412137512f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67468e8eda640eb0cd6c64186533ad412137512f"}], "stats": {"total": 22, "additions": 21, "deletions": 1}, "files": [{"sha": "ff6451e7c391e3f8176f024ac41699ae21eac035", "filename": "libjava/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4ad897d570a81c1c1e92470b66915244bcc7ec9/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4ad897d570a81c1c1e92470b66915244bcc7ec9/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=b4ad897d570a81c1c1e92470b66915244bcc7ec9", "patch": "@@ -1,3 +1,18 @@\n+2005-04-28  Tom Tromey  <tromey@redhat.com>\n+\n+\t* javax/swing/Timer.java\n+\t(drainEvents, queueEvent): Now package-private.\n+\n+2005-04-28  Audrius Meskauskas  <audriusa@bluewin.ch>\n+\n+\t* javax/swing/Timer.java\n+\t(constructor): Assigning initialDelay.\n+\n+2005-04-28  Audrius Meskauskas  <audriusa@bluewin.ch>\n+\n+\t* javax/swing/Timer.java\n+\t(Waker.run): firing the first action event.\n+\n 2005-04-28  Michael Koch  <konqueror@gmx.de>\n \n \t* javax/swing/Timer.java: Reordered all fields and methods,"}, {"sha": "5b5380f87e452bc01a5b1aa01b90824735ec67e2", "filename": "libjava/javax/swing/Timer.java", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4ad897d570a81c1c1e92470b66915244bcc7ec9/libjava%2Fjavax%2Fswing%2FTimer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4ad897d570a81c1c1e92470b66915244bcc7ec9/libjava%2Fjavax%2Fswing%2FTimer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjavax%2Fswing%2FTimer.java?ref=b4ad897d570a81c1c1e92470b66915244bcc7ec9", "patch": "@@ -70,6 +70,8 @@ public void run()\n         {\n           sleep(initialDelay);\n \n+          queueEvent();\n+\n           while (running)\n             {\n               try\n@@ -92,6 +94,8 @@ public void run()\n         }\n       catch (Exception e)\n         {\n+          // The timer is no longer running.\n+          running = false;\n         }\n     }\n   }\n@@ -189,6 +193,7 @@ public void run()\n   public Timer(int d, ActionListener listener)\n   {\n     delay = d;\n+    initialDelay = d;\n \n     if (listener != null)\n       addActionListener(listener);\n@@ -468,7 +473,7 @@ void drainEvents()\n   * Post a scheduled event to the event queue.\n   * Package-private to avoid an accessor method.\n   */\n-  private void queueEvent()\n+  void queueEvent()\n   {\n     synchronized (queueLock)\n       {"}]}