{"sha": "629198e2662378fe918e4b72e1c3d0ee901a54c6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjI5MTk4ZTI2NjIzNzhmZTkxOGU0YjcyZTFjM2QwZWU5MDFhNTRjNg==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2004-07-16T07:35:58Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2004-07-16T07:35:58Z"}, "message": "mips.c (mips_rtx_costs): In mips16 code, set the cost of 0...255 to 0 when inside a SET.\n\n\t* config/mips/mips.c (mips_rtx_costs): In mips16 code, set the cost\n\tof 0...255 to 0 when inside a SET.\n\nFrom-SVN: r84804", "tree": {"sha": "93b802895ed81376bab161f6cdafb9b9d7feed6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/93b802895ed81376bab161f6cdafb9b9d7feed6c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/629198e2662378fe918e4b72e1c3d0ee901a54c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/629198e2662378fe918e4b72e1c3d0ee901a54c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/629198e2662378fe918e4b72e1c3d0ee901a54c6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/629198e2662378fe918e4b72e1c3d0ee901a54c6/comments", "author": null, "committer": null, "parents": [{"sha": "2bff1abfb0f49a467a7a70c79c359795a373c750", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bff1abfb0f49a467a7a70c79c359795a373c750", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2bff1abfb0f49a467a7a70c79c359795a373c750"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "8507a920cd81b5ff5200d88ca33982d8568e7f2d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/629198e2662378fe918e4b72e1c3d0ee901a54c6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/629198e2662378fe918e4b72e1c3d0ee901a54c6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=629198e2662378fe918e4b72e1c3d0ee901a54c6", "patch": "@@ -1,3 +1,8 @@\n+2004-07-16  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* config/mips/mips.c (mips_rtx_costs): In mips16 code, set the cost\n+\tof 0...255 to 0 when inside a SET.\n+\n 2004-07-16  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* config/mips/mips.md: Remove mips16 define_peepholes."}, {"sha": "7f72535f2cf43bb09ac30d7ba6ec33240b29f15f", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/629198e2662378fe918e4b72e1c3d0ee901a54c6/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/629198e2662378fe918e4b72e1c3d0ee901a54c6/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=629198e2662378fe918e4b72e1c3d0ee901a54c6", "patch": "@@ -2192,6 +2192,20 @@ mips_rtx_costs (rtx x, int code, int outer_code, int *total)\n           return true;\n         }\n \n+      /* Constants in the range 0...255 can be loaded with an unextended\n+\t instruction.  They are therefore as cheap as a register move.\n+\n+\t Given the choice between \"li R1,0...255\" and \"move R1,R2\"\n+\t (where R2 is a known constant), it is usually better to use \"li\",\n+\t since we do not want to unnessarily extend the lifetime of R2.  */\n+      if (outer_code == SET\n+\t  && INTVAL (x) >= 0\n+\t  && INTVAL (x) < 256)\n+\t{\n+\t  *total = 0;\n+\t  return true;\n+\t}\n+\n       /* Otherwise fall through to the handling below.  */\n \n     case CONST:"}]}