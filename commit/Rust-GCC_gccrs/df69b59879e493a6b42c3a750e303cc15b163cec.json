{"sha": "df69b59879e493a6b42c3a750e303cc15b163cec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGY2OWI1OTg3OWU0OTNhNmI0MmMzYTc1MGUzMDNjYzE1YjE2M2NlYw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-01-17T01:49:47Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-01-17T01:49:47Z"}, "message": "compiler: Provide location for initialization function.\n\nFrom-SVN: r195259", "tree": {"sha": "93489013203881a449c4dc747270efed8c6895c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/93489013203881a449c4dc747270efed8c6895c7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/df69b59879e493a6b42c3a750e303cc15b163cec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df69b59879e493a6b42c3a750e303cc15b163cec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df69b59879e493a6b42c3a750e303cc15b163cec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df69b59879e493a6b42c3a750e303cc15b163cec/comments", "author": null, "committer": null, "parents": [{"sha": "6b514c5361a5f16f5c615f2b81168a9e35be7617", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b514c5361a5f16f5c615f2b81168a9e35be7617", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b514c5361a5f16f5c615f2b81168a9e35be7617"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "e6eb37e0bbd8ab1dbe50380664d322eab6b0f638", "filename": "gcc/go/gofrontend/gogo-tree.cc", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/df69b59879e493a6b42c3a750e303cc15b163cec/gcc%2Fgo%2Fgofrontend%2Fgogo-tree.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/df69b59879e493a6b42c3a750e303cc15b163cec/gcc%2Fgo%2Fgofrontend%2Fgogo-tree.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo-tree.cc?ref=df69b59879e493a6b42c3a750e303cc15b163cec", "patch": "@@ -438,15 +438,15 @@ Gogo::initialization_function_decl()\n   // The tedious details of building your own function.  There doesn't\n   // seem to be a helper function for this.\n   std::string name = this->package_name() + \".init\";\n-  tree fndecl = build_decl(BUILTINS_LOCATION, FUNCTION_DECL,\n-\t\t\t   get_identifier_from_string(name),\n+  tree fndecl = build_decl(this->package_->location().gcc_location(),\n+\t\t\t   FUNCTION_DECL, get_identifier_from_string(name),\n \t\t\t   build_function_type(void_type_node,\n \t\t\t\t\t       void_list_node));\n   const std::string& asm_name(this->get_init_fn_name());\n   SET_DECL_ASSEMBLER_NAME(fndecl, get_identifier_from_string(asm_name));\n \n-  tree resdecl = build_decl(BUILTINS_LOCATION, RESULT_DECL, NULL_TREE,\n-\t\t\t    void_type_node);\n+  tree resdecl = build_decl(this->package_->location().gcc_location(),\n+\t\t\t    RESULT_DECL, NULL_TREE, void_type_node);\n   DECL_ARTIFICIAL(resdecl) = 1;\n   DECL_CONTEXT(resdecl) = fndecl;\n   DECL_RESULT(fndecl) = resdecl;\n@@ -481,7 +481,8 @@ Gogo::write_initialization_function(tree fndecl, tree init_stmt_list)\n     push_struct_function(fndecl);\n   else\n     push_cfun(DECL_STRUCT_FUNCTION(fndecl));\n-  cfun->function_end_locus = BUILTINS_LOCATION;\n+  cfun->function_start_locus = this->package_->location().gcc_location();\n+  cfun->function_end_locus = cfun->function_start_locus;\n \n   gimplify_function_tree(fndecl);\n \n@@ -1118,6 +1119,7 @@ Named_object::get_tree(Gogo* gogo, Named_object* function)\n \t\telse\n \t\t  push_cfun(DECL_STRUCT_FUNCTION(decl));\n \n+\t\tcfun->function_start_locus = func->location().gcc_location();\n \t\tcfun->function_end_locus =\n                   func->block()->end_location().gcc_location();\n "}]}