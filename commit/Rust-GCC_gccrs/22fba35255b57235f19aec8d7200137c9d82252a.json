{"sha": "22fba35255b57235f19aec8d7200137c9d82252a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjJmYmEzNTI1NWI1NzIzNWYxOWFlYzhkNzIwMDEzN2M5ZDgyMjUyYQ==", "commit": {"author": {"name": "Pitchumani Sivanupandi", "email": "pitchumani.s@atmel.com", "date": "2016-06-15T16:40:07Z"}, "committer": {"name": "Denis Chertykov", "email": "denisc@gcc.gnu.org", "date": "2016-06-15T16:40:07Z"}, "message": "re PR target/67353 ([avr] Option-ize Warning \"appears to be a misspelled signal / interrupt handler\")\n\n    PR target/67353\n    * config/avr/avr.c (avr_set_current_function): Warn misspelled\n    interrupt/ signal handler if -Wmisspelled-isr flag is enabled.\n\nFrom-SVN: r237486", "tree": {"sha": "110cfa1c25fba4874b9045570af5138c637888f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/110cfa1c25fba4874b9045570af5138c637888f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/22fba35255b57235f19aec8d7200137c9d82252a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22fba35255b57235f19aec8d7200137c9d82252a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22fba35255b57235f19aec8d7200137c9d82252a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22fba35255b57235f19aec8d7200137c9d82252a/comments", "author": null, "committer": null, "parents": [{"sha": "10c619de356f72216949eeeb9c9e94d9c02e628f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10c619de356f72216949eeeb9c9e94d9c02e628f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10c619de356f72216949eeeb9c9e94d9c02e628f"}], "stats": {"total": 24, "additions": 20, "deletions": 4}, "files": [{"sha": "48fdfc78f74a09dd981709f552f08ae66c17c7ba", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22fba35255b57235f19aec8d7200137c9d82252a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22fba35255b57235f19aec8d7200137c9d82252a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=22fba35255b57235f19aec8d7200137c9d82252a", "patch": "@@ -1,3 +1,9 @@\n+2016-06-15  Pitchumani Sivanupandi  <pitchumani.s@atmel.com>\n+\n+\tPR target/67353\n+\t* config/avr/avr.c (avr_set_current_function): Warn misspelled\n+\tinterrupt/ signal handler if -Wmisspelled-isr flag is enabled.\n+\n 2016-06-15  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n \n \t* config/aarch64/aarch64-simd.md (aarch64_<sur>shll_n<mode>): Clean"}, {"sha": "b3276243902501ab9a38a14457c48e773e16f959", "filename": "gcc/config/avr/avr.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22fba35255b57235f19aec8d7200137c9d82252a/gcc%2Fconfig%2Favr%2Favr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22fba35255b57235f19aec8d7200137c9d82252a/gcc%2Fconfig%2Favr%2Favr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Favr.c?ref=22fba35255b57235f19aec8d7200137c9d82252a", "patch": "@@ -754,8 +754,8 @@ avr_set_current_function (tree decl)\n          when the user misspells the vector name.  */\n \n       if (!STR_PREFIX_P (name, \"__vector\"))\n-        warning_at (loc, 0, \"%qs appears to be a misspelled %s handler\",\n-                    name, isr);\n+        warning_at (loc, OPT_Wmisspelled_isr, \"%qs appears to be a misspelled \"\n+                           \"%s handler, missing __vector prefix\", name, isr);\n     }\n \n   /* Don't print the above diagnostics more than once.  */"}, {"sha": "05aa4b6db986fa3bdec61bc9f28f4c248d3d0f44", "filename": "gcc/config/avr/avr.opt", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22fba35255b57235f19aec8d7200137c9d82252a/gcc%2Fconfig%2Favr%2Favr.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22fba35255b57235f19aec8d7200137c9d82252a/gcc%2Fconfig%2Favr%2Favr.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Favr.opt?ref=22fba35255b57235f19aec8d7200137c9d82252a", "patch": "@@ -91,6 +91,10 @@ Waddr-space-convert\n Warning C Report Var(avr_warn_addr_space_convert) Init(0)\n Warn if the address space of an address is changed.\n \n+Wmisspelled-isr\n+Warning C C++ Report Var(avr_warn_misspelled_isr) Init(1)\n+Warn if the ISR is misspelled, i.e. without __vector prefix. Enabled by default.\n+\n mfract-convert-truncate\n Target Report Mask(FRACT_CONV_TRUNC)\n Allow to use truncation instead of rounding towards 0 for fractional int types."}, {"sha": "4a89f5f556c82d78d789cacd4a60929a7d82009b", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22fba35255b57235f19aec8d7200137c9d82252a/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22fba35255b57235f19aec8d7200137c9d82252a/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=22fba35255b57235f19aec8d7200137c9d82252a", "patch": "@@ -643,7 +643,8 @@ Objective-C and Objective-C++ Dialects}.\n @emph{AVR Options}\n @gccoptlist{-mmcu=@var{mcu} -maccumulate-args -mbranch-cost=@var{cost} @gol\n -mcall-prologues -mint8 -mn_flash=@var{size} -mno-interrupts @gol\n--mrelax -mrmw -mstrict-X -mtiny-stack -nodevicelib -Waddr-space-convert}\n+-mrelax -mrmw -mstrict-X -mtiny-stack -nodevicelib -Waddr-space-convert @gol\n+-Wmisspelled-isr}\n \n @emph{Blackfin Options}\n @gccoptlist{-mcpu=@var{cpu}@r{[}-@var{sirevision}@r{]} @gol\n@@ -14586,12 +14587,17 @@ Only change the lower 8@tie{}bits of the stack pointer.\n \n @item -nodevicelib\n @opindex nodevicelib\n-Don't link against AVR-LibC's device specific library @code{libdev.a}.\n+Don't link against AVR-LibC's device specific library @code{lib<mcu>.a}.\n \n @item -Waddr-space-convert\n @opindex Waddr-space-convert\n Warn about conversions between address spaces in the case where the\n resulting address space is not contained in the incoming address space.\n+\n+@item -Wmisspelled-isr\n+@opindex Wmisspelled-isr\n+Warn if the ISR is misspelled, i.e. without __vector prefix.\n+Enabled by default.\n @end table\n \n @subsubsection @code{EIND} and Devices with More Than 128 Ki Bytes of Flash"}]}