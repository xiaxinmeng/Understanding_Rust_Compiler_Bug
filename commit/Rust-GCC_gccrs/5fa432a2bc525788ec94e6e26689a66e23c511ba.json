{"sha": "5fa432a2bc525788ec94e6e26689a66e23c511ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWZhNDMyYTJiYzUyNTc4OGVjOTRlNmUyNjY4OWE2NmUyM2M1MTFiYQ==", "commit": {"author": {"name": "Thomas Fitzsimmons", "email": "fitzsim@redhat.com", "date": "2006-07-31T16:34:28Z"}, "committer": {"name": "Thomas Fitzsimmons", "email": "fitzsim@gcc.gnu.org", "date": "2006-07-31T16:34:28Z"}, "message": "re PR libgcj/28312 (peer libraries are installed into gcjversionedlibdir, not into nativeexeclib)\n\n2006-07-31  Thomas Fitzsimmons  <fitzsim@redhat.com>\n\n\tPR libgcj/28312\n\t* classpath/native/jni/midi-alsa/Makefile.am\n\t(libgjsmalsa_la_LDFLAGS): Add -avoid-version.\n\t* classpath/native/jni/midi-alsa/Makefile.in: Regenerate.\n\t* classpath/native/jni/midi-dssi/Makefile.am\n\t(libgjsmdssi_la_LDFLAGS): Add -avoid-version.\n\t* classpath/native/jni/midi-dssi/Makefile.in: Regenerate.\n\t* classpath/native/jni/qt-peer/Makefile.am: Remove GCJ LOCAL\n\tsections.\n\t(libqtpeer_la_LDFLAGS): Add -avoid-version.\n\t* classpath/native/jni/qt-peer/Makefile.in: Regenerate.\n\t* classpath/native/jni/gtk-peer/Makefile.am\n\t(libgtkpeer_la_LDFLAGS): Add -avoid-version.\n\t* classpath/native/jni/gtk-peer/Makefile.in: Regenerate.\n\t* classpath/native/jawt/Makefile.am (libjawt_la_LDFLAGS): Add\n\t-avoid-version.\n\t* classpath/native/jawt/Makefile.in: Regenerate.\n\t* Makefile.am (libjvm_la_LDFLAGS): Add -avoid-version.\n\t* Makefile.in: Regenerate.\n\nFrom-SVN: r115839", "tree": {"sha": "fae72aa414a6c70b12759bfbe2154aedaf84a0e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fae72aa414a6c70b12759bfbe2154aedaf84a0e7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5fa432a2bc525788ec94e6e26689a66e23c511ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5fa432a2bc525788ec94e6e26689a66e23c511ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5fa432a2bc525788ec94e6e26689a66e23c511ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5fa432a2bc525788ec94e6e26689a66e23c511ba/comments", "author": null, "committer": null, "parents": [{"sha": "c12690236aac5b02fbc70d5dc51fa9ee6d5aba7c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c12690236aac5b02fbc70d5dc51fa9ee6d5aba7c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c12690236aac5b02fbc70d5dc51fa9ee6d5aba7c"}], "stats": {"total": 117, "additions": 66, "deletions": 51}, "files": [{"sha": "194f263f49ff58b4ab873d051c1dfba324cb3a70", "filename": "libjava/ChangeLog", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=5fa432a2bc525788ec94e6e26689a66e23c511ba", "patch": "@@ -1,3 +1,25 @@\n+2006-07-31  Thomas Fitzsimmons  <fitzsim@redhat.com>\n+\n+\tPR libgcj/28312\n+\t* classpath/native/jni/midi-alsa/Makefile.am\n+\t(libgjsmalsa_la_LDFLAGS): Add -avoid-version.\n+\t* classpath/native/jni/midi-alsa/Makefile.in: Regenerate.\n+\t* classpath/native/jni/midi-dssi/Makefile.am\n+\t(libgjsmdssi_la_LDFLAGS): Add -avoid-version.\n+\t* classpath/native/jni/midi-dssi/Makefile.in: Regenerate.\n+\t* classpath/native/jni/qt-peer/Makefile.am: Remove GCJ LOCAL\n+\tsections.\n+\t(libqtpeer_la_LDFLAGS): Add -avoid-version.\n+\t* classpath/native/jni/qt-peer/Makefile.in: Regenerate.\n+\t* classpath/native/jni/gtk-peer/Makefile.am\n+\t(libgtkpeer_la_LDFLAGS): Add -avoid-version.\n+\t* classpath/native/jni/gtk-peer/Makefile.in: Regenerate.\n+\t* classpath/native/jawt/Makefile.am (libjawt_la_LDFLAGS): Add\n+\t-avoid-version.\n+\t* classpath/native/jawt/Makefile.in: Regenerate.\n+\t* Makefile.am (libjvm_la_LDFLAGS): Add -avoid-version.\n+\t* Makefile.in: Regenerate.\n+\n 2006-07-28  Andrew Haley  <aph@redhat.com>\n \n \t* gnu/gcj/runtime/natSharedLibLoader.cc (init): Don't set"}, {"sha": "54ab51674662c6f282271767d63f7aab0fd84a71", "filename": "libjava/Makefile.am", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=5fa432a2bc525788ec94e6e26689a66e23c511ba", "patch": "@@ -247,9 +247,7 @@ libjvm_la_SOURCES = jni-libjvm.cc\n libjvm_la_DEPENDENCIES = libgcj.la libgcj.spec\n ## See jv_convert_LDADD.\n libjvm_la_LIBADD = -L$(here)/.libs libgcj.la\n-## The mysterious backslash in the grep pattern is consumed by make.\n-libjvm_la_LDFLAGS = \\\n-        -version-info `grep -v '^\\#' $(srcdir)/libtool-version` $(LIBGCJ_LD_SYMBOLIC)\n+libjvm_la_LDFLAGS = -avoid-version $(LIBGCJ_LD_SYMBOLIC)\n \n ## The .db file.  This rule is only used for native builds, so it is\n ## safe to invoke gcj-dbtool."}, {"sha": "06831cd7e43c1f37ead8a5ffcdc38740080c06ed", "filename": "libjava/Makefile.in", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=5fa432a2bc525788ec94e6e26689a66e23c511ba", "patch": "@@ -796,9 +796,7 @@ libgcj_tools_la_LINK = $(LIBLINK)\n libjvm_la_SOURCES = jni-libjvm.cc\n libjvm_la_DEPENDENCIES = libgcj.la libgcj.spec\n libjvm_la_LIBADD = -L$(here)/.libs libgcj.la\n-libjvm_la_LDFLAGS = \\\n-        -version-info `grep -v '^\\#' $(srcdir)/libtool-version` $(LIBGCJ_LD_SYMBOLIC)\n-\n+libjvm_la_LDFLAGS = -avoid-version $(LIBGCJ_LD_SYMBOLIC)\n lib_gnu_awt_xlib_la_SOURCES = $(xlib_nat_source_files)\n lib_gnu_awt_xlib_la_LIBADD = gnu/awt/xlib.lo gnu/gcj/xlib.lo\n lib_gnu_awt_xlib_la_DEPENDENCIES = libgcj-$(gcc_version).jar \\"}, {"sha": "c81e754297f904ff0ede23e62e32e9561d165fef", "filename": "libjava/classpath/native/jawt/Makefile.am", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.am?ref=5fa432a2bc525788ec94e6e26689a66e23c511ba", "patch": "@@ -2,6 +2,7 @@ nativeexeclib_LTLIBRARIES = libjawt.la\n \n libjawt_la_SOURCES = jawt.c\n libjawt_la_LIBADD = $(top_builddir)/native/jni/gtk-peer/libgtkpeer.la\n+libjawt_la_LDFLAGS = -avoid-version\n \n AM_LDFLAGS = @CLASSPATH_MODULE@ @GTK_LIBS@ @PANGOFT2_LIBS@ @X_LIBS@ @XTEST_LIBS@\n AM_CPPFLAGS = @CLASSPATH_INCLUDES@"}, {"sha": "4a15a208b9e34b903c6683966ad378cad293a231", "filename": "libjava/classpath/native/jawt/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjawt%2FMakefile.in?ref=5fa432a2bc525788ec94e6e26689a66e23c511ba", "patch": "@@ -298,6 +298,7 @@ vm_classes = @vm_classes@\n nativeexeclib_LTLIBRARIES = libjawt.la\n libjawt_la_SOURCES = jawt.c\n libjawt_la_LIBADD = $(top_builddir)/native/jni/gtk-peer/libgtkpeer.la\n+libjawt_la_LDFLAGS = -avoid-version\n AM_LDFLAGS = @CLASSPATH_MODULE@ @GTK_LIBS@ @PANGOFT2_LIBS@ @X_LIBS@ @XTEST_LIBS@\n AM_CPPFLAGS = @CLASSPATH_INCLUDES@\n "}, {"sha": "eecd15369014c2fcefd94960f43bc505bcc8cf71", "filename": "libjava/classpath/native/jni/gtk-peer/Makefile.am", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2FMakefile.am?ref=5fa432a2bc525788ec94e6e26689a66e23c511ba", "patch": "@@ -52,6 +52,7 @@ libgtkpeer_la_SOURCES = gnu_java_awt_peer_gtk_CairoSurface.c \\\n \n libgtkpeer_la_LIBADD = $(top_builddir)/native/jni/classpath/native_state.lo \\\n \t\t       $(top_builddir)/native/jni/classpath/jcl.lo\n+libgtkpeer_la_LDFLAGS = -avoid-version\n \n AM_LDFLAGS = @CLASSPATH_MODULE@ @GTK_LIBS@ @FREETYPE2_LIBS@ \\\n              @PANGOFT2_LIBS@ @X_PRE_LIBS@ @X_LIBS@ @X_EXTRA_LIBS@ @XTEST_LIBS@"}, {"sha": "cd004a7df0e01329ccab2688ad0cb366970af3ff", "filename": "libjava/classpath/native/jni/gtk-peer/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjni%2Fgtk-peer%2FMakefile.in?ref=5fa432a2bc525788ec94e6e26689a66e23c511ba", "patch": "@@ -392,6 +392,7 @@ libgtkpeer_la_SOURCES = gnu_java_awt_peer_gtk_CairoSurface.c \\\n libgtkpeer_la_LIBADD = $(top_builddir)/native/jni/classpath/native_state.lo \\\n \t\t       $(top_builddir)/native/jni/classpath/jcl.lo\n \n+libgtkpeer_la_LDFLAGS = -avoid-version\n AM_LDFLAGS = @CLASSPATH_MODULE@ @GTK_LIBS@ @FREETYPE2_LIBS@ \\\n              @PANGOFT2_LIBS@ @X_PRE_LIBS@ @X_LIBS@ @X_EXTRA_LIBS@ @XTEST_LIBS@\n "}, {"sha": "4a9c4844227729c7bd1c3025189bb604c027ee61", "filename": "libjava/classpath/native/jni/midi-alsa/Makefile.am", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fmidi-alsa%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fmidi-alsa%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjni%2Fmidi-alsa%2FMakefile.am?ref=5fa432a2bc525788ec94e6e26689a66e23c511ba", "patch": "@@ -5,6 +5,7 @@ gnu_javax_sound_midi_alsa_AlsaPortDevice.c \\\n gnu_javax_sound_midi_alsa_AlsaMidiDeviceProvider.c\n \n libgjsmalsa_la_LIBADD = -lasound\n+libgjsmalsa_la_LDFLAGS = -avoid-version\n \n AM_LDFLAGS = @CLASSPATH_MODULE@\n AM_CPPFLAGS = @CLASSPATH_INCLUDES@ `pkg-config  --cflags-only-I alsa`"}, {"sha": "90c403db6aba08e21527426b84eeb63b1784105f", "filename": "libjava/classpath/native/jni/midi-alsa/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fmidi-alsa%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fmidi-alsa%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjni%2Fmidi-alsa%2FMakefile.in?ref=5fa432a2bc525788ec94e6e26689a66e23c511ba", "patch": "@@ -303,6 +303,7 @@ gnu_javax_sound_midi_alsa_AlsaPortDevice.c \\\n gnu_javax_sound_midi_alsa_AlsaMidiDeviceProvider.c\n \n libgjsmalsa_la_LIBADD = -lasound\n+libgjsmalsa_la_LDFLAGS = -avoid-version\n AM_LDFLAGS = @CLASSPATH_MODULE@\n AM_CPPFLAGS = @CLASSPATH_INCLUDES@ `pkg-config  --cflags-only-I alsa`\n AM_CFLAGS = @WARNING_CFLAGS@ @STRICT_WARNING_CFLAGS@ @ERROR_CFLAGS@ `pkg-config --cflags-only-other alsa`"}, {"sha": "48c8051ccc3654155c646631ddff361629367c81", "filename": "libjava/classpath/native/jni/midi-dssi/Makefile.am", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fmidi-dssi%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fmidi-dssi%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjni%2Fmidi-dssi%2FMakefile.am?ref=5fa432a2bc525788ec94e6e26689a66e23c511ba", "patch": "@@ -5,6 +5,7 @@ libgjsmdssi_la_SOURCES = gnu_javax_sound_midi_dssi_DSSIMidiDeviceProvider.c \\\n \t\t\t dssi_data.h\n \n libgjsmdssi_la_LIBADD = $(top_builddir)/native/jni/classpath/jcl.lo -ljack\n+libgjsmdssi_la_LDFLAGS = -avoid-version\n \n AM_LDFLAGS = @CLASSPATH_MODULE@\n AM_CPPFLAGS = @CLASSPATH_INCLUDES@ "}, {"sha": "af01ba583ade4eef0715df098c5a79a0616e2e23", "filename": "libjava/classpath/native/jni/midi-dssi/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fmidi-dssi%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fmidi-dssi%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjni%2Fmidi-dssi%2FMakefile.in?ref=5fa432a2bc525788ec94e6e26689a66e23c511ba", "patch": "@@ -303,6 +303,7 @@ libgjsmdssi_la_SOURCES = gnu_javax_sound_midi_dssi_DSSIMidiDeviceProvider.c \\\n \t\t\t dssi_data.h\n \n libgjsmdssi_la_LIBADD = $(top_builddir)/native/jni/classpath/jcl.lo -ljack\n+libgjsmdssi_la_LDFLAGS = -avoid-version\n AM_LDFLAGS = @CLASSPATH_MODULE@\n AM_CPPFLAGS = @CLASSPATH_INCLUDES@ \n AM_CFLAGS = @WARNING_CFLAGS@ @STRICT_WARNING_CFLAGS@ @ERROR_CFLAGS@"}, {"sha": "64ce20fb75d7fc697dd8b577b5119fc3d428be03", "filename": "libjava/classpath/native/jni/qt-peer/Makefile.am", "status": "modified", "additions": 2, "deletions": 8, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fqt-peer%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fqt-peer%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjni%2Fqt-peer%2FMakefile.am?ref=5fa432a2bc525788ec94e6e26689a66e23c511ba", "patch": "@@ -1,11 +1,7 @@\n # Qt AWT backend for Classpath\n #\n \n-## GCJ LOCAL: install this library in GCJ's versioned library\n-## directory\n-gcc_version := $(shell cat $(top_srcdir)/../../gcc/BASE-VER)\n-gcjversionedlibdir = $(libdir)/gcj-$(gcc_version)\n-gcjversionedlib_LTLIBRARIES = libqtpeer.la\n+nativeexeclib_LTLIBRARIES = libqtpeer.la\n \n AM_LDFLAGS = @CLASSPATH_MODULE@ @QT_LIBS@\n AM_CPPFLAGS = @CLASSPATH_INCLUDES@\n@@ -77,9 +73,7 @@ libqtpeer_la_SOURCES = \\\n         slotcallbacks.cpp \\\n         slotcallbacks.h \n \n-## GCJ LOCAL: encode the library path and  use GCJ's library version\n-libqtpeer_la_LDFLAGS = -rpath $(gcjversionedlibdir) \\\n-\t-version-info `grep -v '^\\#' $(top_srcdir)/../libtool-version`\n+libqtpeer_la_LDFLAGS = -avoid-version\n \n BUILT_SOURCES = $(libqtpeer_la_MOC)\n "}, {"sha": "1b253b57226a020a8baff5702173865468c6d81d", "filename": "libjava/classpath/native/jni/qt-peer/Makefile.in", "status": "modified", "additions": 32, "deletions": 37, "changes": 69, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fqt-peer%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa432a2bc525788ec94e6e26689a66e23c511ba/libjava%2Fclasspath%2Fnative%2Fjni%2Fqt-peer%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fnative%2Fjni%2Fqt-peer%2FMakefile.in?ref=5fa432a2bc525788ec94e6e26689a66e23c511ba", "patch": "@@ -61,9 +61,9 @@ am__vpath_adj = case $$p in \\\n     *) f=$$p;; \\\n   esac;\n am__strip_dir = `echo $$p | sed -e 's|^.*/||'`;\n-am__installdirs = \"$(DESTDIR)$(gcjversionedlibdir)\"\n-gcjversionedlibLTLIBRARIES_INSTALL = $(INSTALL)\n-LTLIBRARIES = $(gcjversionedlib_LTLIBRARIES)\n+am__installdirs = \"$(DESTDIR)$(nativeexeclibdir)\"\n+nativeexeclibLTLIBRARIES_INSTALL = $(INSTALL)\n+LTLIBRARIES = $(nativeexeclib_LTLIBRARIES)\n libqtpeer_la_LIBADD =\n am_libqtpeer_la_OBJECTS = componentevent.lo keybindings.lo \\\n \tmainqtthread.lo mainthreadinterface.lo nativewrapper.lo \\\n@@ -320,9 +320,7 @@ target_cpu = @target_cpu@\n target_os = @target_os@\n target_vendor = @target_vendor@\n vm_classes = @vm_classes@\n-gcc_version := $(shell cat $(top_srcdir)/../../gcc/BASE-VER)\n-gcjversionedlibdir = $(libdir)/gcj-$(gcc_version)\n-gcjversionedlib_LTLIBRARIES = libqtpeer.la\n+nativeexeclib_LTLIBRARIES = libqtpeer.la\n AM_LDFLAGS = @CLASSPATH_MODULE@ @QT_LIBS@\n AM_CPPFLAGS = @CLASSPATH_INCLUDES@\n AM_CXXFLAGS = @QT_CFLAGS@\n@@ -388,9 +386,7 @@ libqtpeer_la_SOURCES = \\\n         slotcallbacks.cpp \\\n         slotcallbacks.h \n \n-libqtpeer_la_LDFLAGS = -rpath $(gcjversionedlibdir) \\\n-\t-version-info `grep -v '^\\#' $(top_srcdir)/../libtool-version`\n-\n+libqtpeer_la_LDFLAGS = -avoid-version\n BUILT_SOURCES = $(libqtpeer_la_MOC)\n CLEANFILES = so_locations $(BUILT_SOURCES)\n all: $(BUILT_SOURCES)\n@@ -427,35 +423,35 @@ $(top_srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)\n \tcd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh\n $(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ $(am__aclocal_m4_deps)\n \tcd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh\n-install-gcjversionedlibLTLIBRARIES: $(gcjversionedlib_LTLIBRARIES)\n+install-nativeexeclibLTLIBRARIES: $(nativeexeclib_LTLIBRARIES)\n \t@$(NORMAL_INSTALL)\n-\ttest -z \"$(gcjversionedlibdir)\" || $(mkdir_p) \"$(DESTDIR)$(gcjversionedlibdir)\"\n-\t@list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n+\ttest -z \"$(nativeexeclibdir)\" || $(mkdir_p) \"$(DESTDIR)$(nativeexeclibdir)\"\n+\t@list='$(nativeexeclib_LTLIBRARIES)'; for p in $$list; do \\\n \t  if test -f $$p; then \\\n \t    f=$(am__strip_dir) \\\n-\t    echo \" $(LIBTOOL) --mode=install $(gcjversionedlibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(gcjversionedlibdir)/$$f'\"; \\\n-\t    $(LIBTOOL) --mode=install $(gcjversionedlibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) \"$$p\" \"$(DESTDIR)$(gcjversionedlibdir)/$$f\"; \\\n+\t    echo \" $(LIBTOOL) --mode=install $(nativeexeclibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(nativeexeclibdir)/$$f'\"; \\\n+\t    $(LIBTOOL) --mode=install $(nativeexeclibLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) \"$$p\" \"$(DESTDIR)$(nativeexeclibdir)/$$f\"; \\\n \t  else :; fi; \\\n \tdone\n \n-uninstall-gcjversionedlibLTLIBRARIES:\n+uninstall-nativeexeclibLTLIBRARIES:\n \t@$(NORMAL_UNINSTALL)\n-\t@set -x; list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n+\t@set -x; list='$(nativeexeclib_LTLIBRARIES)'; for p in $$list; do \\\n \t  p=$(am__strip_dir) \\\n-\t  echo \" $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(gcjversionedlibdir)/$$p'\"; \\\n-\t  $(LIBTOOL) --mode=uninstall rm -f \"$(DESTDIR)$(gcjversionedlibdir)/$$p\"; \\\n+\t  echo \" $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(nativeexeclibdir)/$$p'\"; \\\n+\t  $(LIBTOOL) --mode=uninstall rm -f \"$(DESTDIR)$(nativeexeclibdir)/$$p\"; \\\n \tdone\n \n-clean-gcjversionedlibLTLIBRARIES:\n-\t-test -z \"$(gcjversionedlib_LTLIBRARIES)\" || rm -f $(gcjversionedlib_LTLIBRARIES)\n-\t@list='$(gcjversionedlib_LTLIBRARIES)'; for p in $$list; do \\\n+clean-nativeexeclibLTLIBRARIES:\n+\t-test -z \"$(nativeexeclib_LTLIBRARIES)\" || rm -f $(nativeexeclib_LTLIBRARIES)\n+\t@list='$(nativeexeclib_LTLIBRARIES)'; for p in $$list; do \\\n \t  dir=\"`echo $$p | sed -e 's|/[^/]*$$||'`\"; \\\n \t  test \"$$dir\" != \"$$p\" || dir=.; \\\n \t  echo \"rm -f \\\"$${dir}/so_locations\\\"\"; \\\n \t  rm -f \"$${dir}/so_locations\"; \\\n \tdone\n libqtpeer.la: $(libqtpeer_la_OBJECTS) $(libqtpeer_la_DEPENDENCIES) \n-\t$(CXXLINK) -rpath $(gcjversionedlibdir) $(libqtpeer_la_LDFLAGS) $(libqtpeer_la_OBJECTS) $(libqtpeer_la_LIBADD) $(LIBS)\n+\t$(CXXLINK) -rpath $(nativeexeclibdir) $(libqtpeer_la_LDFLAGS) $(libqtpeer_la_OBJECTS) $(libqtpeer_la_LIBADD) $(LIBS)\n \n mostlyclean-compile:\n \t-rm -f *.$(OBJEXT)\n@@ -616,7 +612,7 @@ check: $(BUILT_SOURCES)\n \t$(MAKE) $(AM_MAKEFLAGS) check-am\n all-am: Makefile $(LTLIBRARIES)\n installdirs:\n-\tfor dir in \"$(DESTDIR)$(gcjversionedlibdir)\"; do \\\n+\tfor dir in \"$(DESTDIR)$(nativeexeclibdir)\"; do \\\n \t  test -z \"$$dir\" || $(mkdir_p) \"$$dir\"; \\\n \tdone\n install: $(BUILT_SOURCES)\n@@ -648,7 +644,7 @@ maintainer-clean-generic:\n \t-test -z \"$(BUILT_SOURCES)\" || rm -f $(BUILT_SOURCES)\n clean: clean-am\n \n-clean-am: clean-gcjversionedlibLTLIBRARIES clean-generic clean-libtool \\\n+clean-am: clean-generic clean-libtool clean-nativeexeclibLTLIBRARIES \\\n \tmostlyclean-am\n \n distclean: distclean-am\n@@ -667,9 +663,9 @@ info: info-am\n \n info-am:\n \n-install-data-am: install-gcjversionedlibLTLIBRARIES\n+install-data-am:\n \n-install-exec-am:\n+install-exec-am: install-nativeexeclibLTLIBRARIES\n \n install-info: install-info-am\n \n@@ -695,21 +691,20 @@ ps: ps-am\n \n ps-am:\n \n-uninstall-am: uninstall-gcjversionedlibLTLIBRARIES uninstall-info-am\n+uninstall-am: uninstall-info-am uninstall-nativeexeclibLTLIBRARIES\n \n-.PHONY: CTAGS GTAGS all all-am check check-am clean \\\n-\tclean-gcjversionedlibLTLIBRARIES clean-generic clean-libtool \\\n-\tctags distclean distclean-compile distclean-generic \\\n-\tdistclean-libtool distclean-tags distdir dvi dvi-am html \\\n-\thtml-am info info-am install install-am install-data \\\n-\tinstall-data-am install-exec install-exec-am \\\n-\tinstall-gcjversionedlibLTLIBRARIES install-info \\\n-\tinstall-info-am install-man install-strip installcheck \\\n+.PHONY: CTAGS GTAGS all all-am check check-am clean clean-generic \\\n+\tclean-libtool clean-nativeexeclibLTLIBRARIES ctags distclean \\\n+\tdistclean-compile distclean-generic distclean-libtool \\\n+\tdistclean-tags distdir dvi dvi-am html html-am info info-am \\\n+\tinstall install-am install-data install-data-am install-exec \\\n+\tinstall-exec-am install-info install-info-am install-man \\\n+\tinstall-nativeexeclibLTLIBRARIES install-strip installcheck \\\n \tinstallcheck-am installdirs maintainer-clean \\\n \tmaintainer-clean-generic mostlyclean mostlyclean-compile \\\n \tmostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \\\n-\ttags uninstall uninstall-am \\\n-\tuninstall-gcjversionedlibLTLIBRARIES uninstall-info-am\n+\ttags uninstall uninstall-am uninstall-info-am \\\n+\tuninstall-nativeexeclibLTLIBRARIES\n \n \n slotcallbacks.moc.h: slotcallbacks.cpp"}]}