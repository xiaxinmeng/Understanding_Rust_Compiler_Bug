{"sha": "e608ef6de92f53558b27b3166d5da5ea3725461d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTYwOGVmNmRlOTJmNTM1NThiMjdiMzE2NmQ1ZGE1ZWEzNzI1NDYxZA==", "commit": {"author": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2015-01-09T00:50:49Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2015-01-09T00:50:49Z"}, "message": "re PR gcov-profile/61790 (gcov-tool.c uses atoll)\n\n\tPR gcov-profile/61790\n\t* gcov-tool.c (do_rewrite): Use strtoll instead of atoll if host has\n\tlong long.  Fallback to int64_t if host doesn't have long long and\n\tuse strtol if int64_t is long.  Otherwise, use sscanf for conversion.\n\nFrom-SVN: r219372", "tree": {"sha": "e8ae9d3d6090dc578c6e59d674449af82c781c4e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e8ae9d3d6090dc578c6e59d674449af82c781c4e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e608ef6de92f53558b27b3166d5da5ea3725461d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e608ef6de92f53558b27b3166d5da5ea3725461d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e608ef6de92f53558b27b3166d5da5ea3725461d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e608ef6de92f53558b27b3166d5da5ea3725461d/comments", "author": null, "committer": null, "parents": [{"sha": "fe7d7447470fb9e66bd007a6f8353a8718676479", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe7d7447470fb9e66bd007a6f8353a8718676479", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe7d7447470fb9e66bd007a6f8353a8718676479"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "c38f07aca591c118d9dcc33fb40ea496ff8e76f1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e608ef6de92f53558b27b3166d5da5ea3725461d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e608ef6de92f53558b27b3166d5da5ea3725461d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e608ef6de92f53558b27b3166d5da5ea3725461d", "patch": "@@ -1,3 +1,10 @@\n+2015-01-08  John David Anglin  <danglin@gcc.gnu.org>\n+\n+\tPR gcov-profile/61790\n+\t* gcov-tool.c (do_rewrite): Use strtoll instead of atoll if host has\n+\tlong long.  Fallback to int64_t if host doesn't have long long and\n+\tuse strtol if int64_t is long.  Otherwise, use sscanf for conversion.\n+\n 2015-01-08  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/63989"}, {"sha": "7de175fdfcc3ed1aced5a5486ca3f5f56aca469c", "filename": "gcc/gcov-tool.c", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e608ef6de92f53558b27b3166d5da5ea3725461d/gcc%2Fgcov-tool.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e608ef6de92f53558b27b3166d5da5ea3725461d/gcc%2Fgcov-tool.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcov-tool.c?ref=e608ef6de92f53558b27b3166d5da5ea3725461d", "patch": "@@ -289,7 +289,11 @@ do_rewrite (int argc, char **argv)\n   int opt;\n   int ret;\n   const char *output_dir = 0;\n+#ifdef HAVE_LONG_LONG\n   long long normalize_val = 0;\n+#else\n+  int64_t normalize_val = 0;\n+#endif\n   float scale = 0.0;\n   int numerator = 1;\n   int denominator = 1;\n@@ -309,7 +313,13 @@ do_rewrite (int argc, char **argv)\n           break;\n         case 'n':\n           if (!do_scaling)\n-            normalize_val = atoll (optarg);\n+#if defined(HAVE_LONG_LONG)\n+\t    normalize_val = strtoll (optarg, (char **)NULL, 10);\n+#elif defined(INT64_T_IS_LONG)\n+\t    normalize_val = strtol (optarg, (char **)NULL, 10);\n+#else\n+\t    sscanf (optarg, \"%\" SCNd64, &normalize_val);\n+#endif\n           else\n             fnotice (stderr, \"scaling cannot co-exist with normalization,\"\n                 \" skipping\\n\");"}]}