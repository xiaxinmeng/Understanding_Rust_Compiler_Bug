{"sha": "b06496b1617ffcaec0e82fd4cca9eae5e0301cd5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjA2NDk2YjE2MTdmZmNhZWMwZTgyZmQ0Y2NhOWVhZTVlMDMwMWNkNQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2016-12-02T06:40:57Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2016-12-02T06:40:57Z"}, "message": "* tree-ssa-threadedge.c\n\t(record_temporary_equivalences_from_stmts_at_dest): Avoid temporary\n\tpropagation of operands if there are no operands.\n\nFrom-SVN: r243152", "tree": {"sha": "db4227fedc3e30224dcba3cad2e37c3e156c0c61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/db4227fedc3e30224dcba3cad2e37c3e156c0c61"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b06496b1617ffcaec0e82fd4cca9eae5e0301cd5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b06496b1617ffcaec0e82fd4cca9eae5e0301cd5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b06496b1617ffcaec0e82fd4cca9eae5e0301cd5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b06496b1617ffcaec0e82fd4cca9eae5e0301cd5/comments", "author": null, "committer": null, "parents": [{"sha": "f3adbf9e9355aff989bd5b0c6ba227cc01bf57ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3adbf9e9355aff989bd5b0c6ba227cc01bf57ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3adbf9e9355aff989bd5b0c6ba227cc01bf57ec"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "75881ee7ace3b66fa1cbcbc5e8d0d8bc713a5821", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b06496b1617ffcaec0e82fd4cca9eae5e0301cd5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b06496b1617ffcaec0e82fd4cca9eae5e0301cd5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b06496b1617ffcaec0e82fd4cca9eae5e0301cd5", "patch": "@@ -1,3 +1,9 @@\n+2016-12-01  Jeff Law  <law@redhat.com>\n+\n+\t* tree-ssa-threadedge.c\n+\t(record_temporary_equivalences_from_stmts_at_dest): Avoid temporary\n+\tpropagation of operands if there are no operands.\n+\n 2016-12-02  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/78586"}, {"sha": "3fdd59e6804212ec3be8f745431c062b52fe3a8c", "filename": "gcc/tree-ssa-threadedge.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b06496b1617ffcaec0e82fd4cca9eae5e0301cd5/gcc%2Ftree-ssa-threadedge.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b06496b1617ffcaec0e82fd4cca9eae5e0301cd5/gcc%2Ftree-ssa-threadedge.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-threadedge.c?ref=b06496b1617ffcaec0e82fd4cca9eae5e0301cd5", "patch": "@@ -328,9 +328,10 @@ record_temporary_equivalences_from_stmts_at_dest (edge e,\n \t     SSA_NAME_VALUE in addition to its own lattice.  */\n \t  cached_lhs = gimple_fold_stmt_to_constant_1 (stmt,\n \t\t\t\t\t\t       threadedge_valueize);\n-          if (!cached_lhs\n-              || (TREE_CODE (cached_lhs) != SSA_NAME\n-                  && !is_gimple_min_invariant (cached_lhs)))\n+          if (NUM_SSA_OPERANDS (stmt, SSA_OP_ALL_USES) != 0\n+\t      && (!cached_lhs\n+                  || (TREE_CODE (cached_lhs) != SSA_NAME\n+                      && !is_gimple_min_invariant (cached_lhs))))\n \t    {\n \t      /* We're going to temporarily copy propagate the operands\n \t\t and see if that allows us to simplify this statement.  */"}]}