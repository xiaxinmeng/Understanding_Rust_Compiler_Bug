{"sha": "55b12f0d74eb9fa1e9da0f0848f9615c7c20a8a7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTViMTJmMGQ3NGViOWZhMWU5ZGEwZjA4NDhmOTYxNWM3YzIwYThhNw==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2005-04-06T17:41:11Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2005-04-06T17:41:11Z"}, "message": "tree-ssa-sink.c (nearest_common_dominator_of_uses): Look at a PHI argument where a use occurs instead of all PHI arguments.\n\n\t* tree-ssa-sink.c (nearest_common_dominator_of_uses): Look at\n\ta PHI argument where a use occurs instead of all PHI arguments.\n\nFrom-SVN: r97738", "tree": {"sha": "c730733e13b2334b33134f79622bb07ecdf4a2a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c730733e13b2334b33134f79622bb07ecdf4a2a4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/55b12f0d74eb9fa1e9da0f0848f9615c7c20a8a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55b12f0d74eb9fa1e9da0f0848f9615c7c20a8a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55b12f0d74eb9fa1e9da0f0848f9615c7c20a8a7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55b12f0d74eb9fa1e9da0f0848f9615c7c20a8a7/comments", "author": null, "committer": null, "parents": [{"sha": "5070376f47b47fa509f42b71776ddb5851a93cb8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5070376f47b47fa509f42b71776ddb5851a93cb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5070376f47b47fa509f42b71776ddb5851a93cb8"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "f8417dc2b3f30ec698d2f8077a39bd2fe746710f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55b12f0d74eb9fa1e9da0f0848f9615c7c20a8a7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55b12f0d74eb9fa1e9da0f0848f9615c7c20a8a7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=55b12f0d74eb9fa1e9da0f0848f9615c7c20a8a7", "patch": "@@ -1,3 +1,8 @@\n+2005-04-06  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* tree-ssa-sink.c (nearest_common_dominator_of_uses): Look at\n+\ta PHI argument where a use occurs instead of all PHI arguments.\n+\n 2005-04-06  Joseph S. Myers  <joseph@codesourcery.com>\n \n \t* c-decl.c (finish_decl): Apply pending #pragma weak regardless of"}, {"sha": "cecbae7a74f27b0c2b0a04734c560dad87eb4c95", "filename": "gcc/tree-ssa-sink.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55b12f0d74eb9fa1e9da0f0848f9615c7c20a8a7/gcc%2Ftree-ssa-sink.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55b12f0d74eb9fa1e9da0f0848f9615c7c20a8a7/gcc%2Ftree-ssa-sink.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-sink.c?ref=55b12f0d74eb9fa1e9da0f0848f9615c7c20a8a7", "patch": "@@ -240,10 +240,10 @@ nearest_common_dominator_of_uses (tree stmt)\n \t  basic_block useblock;\n \t  if (TREE_CODE (usestmt) == PHI_NODE)\n \t    {\n-\t      int j;\n-\t      for (j = 0; j < PHI_NUM_ARGS (usestmt); j++)\n+\t      int idx = PHI_ARG_INDEX_FROM_USE (use_p);\n+\t      if (PHI_ARG_DEF (usestmt, idx) == var)\n \t\t{\n-\t\t  useblock = PHI_ARG_EDGE (usestmt, j)->src;\n+\t\t  useblock = PHI_ARG_EDGE (usestmt, idx)->src;\n \t\t  /* Short circuit. Nothing dominates the entry block.  */\n \t\t  if (useblock == ENTRY_BLOCK_PTR)\n \t\t    {"}]}