{"sha": "4b3cf8416424a86c312e52c47429d869c45875ce", "node_id": "C_kwDOANBUbNoAKDRiM2NmODQxNjQyNGE4NmMzMTJlNTJjNDc0MjlkODY5YzQ1ODc1Y2U", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2022-04-14T11:08:38Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2022-05-19T14:05:31Z"}, "message": "[Ada] Preserve and reuse original type in Narrow_Large_Operation\n\nInstead of using that of Original_Node (N) after rewriting, which does not\nwork if N had previously been rewritten.\n\ngcc/ada/\n\n\t* exp_ch4.adb (Narrow_Large_Operation): Preserve and reuse Etype.", "tree": {"sha": "1a9dfce98658c856cf68587d05f591980fc401ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1a9dfce98658c856cf68587d05f591980fc401ea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4b3cf8416424a86c312e52c47429d869c45875ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b3cf8416424a86c312e52c47429d869c45875ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4b3cf8416424a86c312e52c47429d869c45875ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b3cf8416424a86c312e52c47429d869c45875ce/comments", "author": null, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8a03acaace9544249583e630153e73d53ccfaec7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a03acaace9544249583e630153e73d53ccfaec7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a03acaace9544249583e630153e73d53ccfaec7"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "75f0e564e74f066e9b9706fa8726edb247fcedc7", "filename": "gcc/ada/exp_ch4.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b3cf8416424a86c312e52c47429d869c45875ce/gcc%2Fada%2Fexp_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b3cf8416424a86c312e52c47429d869c45875ce/gcc%2Fada%2Fexp_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch4.adb?ref=4b3cf8416424a86c312e52c47429d869c45875ce", "patch": "@@ -14108,6 +14108,7 @@ package body Exp_Ch4 is\n \n    procedure Narrow_Large_Operation (N : Node_Id) is\n       Kind   : constant Node_Kind := Nkind (N);\n+      Otyp   : constant Entity_Id := Etype (N);\n       In_Rng : constant Boolean   := Kind = N_In;\n       Binary : constant Boolean   := Kind in N_Binary_Op or else In_Rng;\n       Compar : constant Boolean   := Kind in N_Op_Compare or else In_Rng;\n@@ -14262,8 +14263,7 @@ package body Exp_Ch4 is\n          --  Analyze it with the comparison type and checks suppressed since\n          --  the conversions of the operands cannot overflow.\n \n-         Analyze_And_Resolve\n-           (N, Etype (Original_Node (N)), Suppress => Overflow_Check);\n+         Analyze_And_Resolve (N, Otyp, Suppress => Overflow_Check);\n \n       else\n          --  Analyze it with the narrower type and checks suppressed, but only"}]}