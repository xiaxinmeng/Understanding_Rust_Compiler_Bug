{"sha": "d540ae2cd874aeb3c4b07cdc0b25e1229eb4bf06", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDU0MGFlMmNkODc0YWViM2M0YjA3Y2RjMGIyNWUxMjI5ZWI0YmYwNg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1997-10-28T23:29:44Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1997-10-28T23:29:44Z"}, "message": "reload1.c (eliminate_regs [SET]): If [SUBREG] widened the mode of DEST for the spill...\n\n* reload1.c (eliminate_regs [SET]): If [SUBREG] widened the mode of\nDEST for the spill, adjust mode of SRC to compensate.\n\nFrom-SVN: r16222", "tree": {"sha": "73c9c463b8512da99cd76360abc5002a3aca5a2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/73c9c463b8512da99cd76360abc5002a3aca5a2e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d540ae2cd874aeb3c4b07cdc0b25e1229eb4bf06", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d540ae2cd874aeb3c4b07cdc0b25e1229eb4bf06", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d540ae2cd874aeb3c4b07cdc0b25e1229eb4bf06", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d540ae2cd874aeb3c4b07cdc0b25e1229eb4bf06/comments", "author": null, "committer": null, "parents": [{"sha": "d24661605f94cbd36b4ba817fa02a9dd94a6a2f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d24661605f94cbd36b4ba817fa02a9dd94a6a2f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d24661605f94cbd36b4ba817fa02a9dd94a6a2f9"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "39a753d0f1679c66d67696c0aae4ebf65af48449", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d540ae2cd874aeb3c4b07cdc0b25e1229eb4bf06/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d540ae2cd874aeb3c4b07cdc0b25e1229eb4bf06/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d540ae2cd874aeb3c4b07cdc0b25e1229eb4bf06", "patch": "@@ -1,3 +1,8 @@\n+Tue Oct 28 15:29:15 1997  Richard Henderson  <rth@cygnus.com>\n+\n+\t* reload1.c (eliminate_regs [SET]): If [SUBREG] widened the mode of\n+\tDEST for the spill, adjust mode of SRC to compensate.\n+\n Tue Oct 28 14:36:45 1997  Richard Henderson  <rth@cygnus.com>\n \n \t* alpha.md (reload_inqi): Check for MEM before strict_memory_address_p,"}, {"sha": "cbb41308ddb30ce3b38aad78b09ecd43529840c1", "filename": "gcc/reload1.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d540ae2cd874aeb3c4b07cdc0b25e1229eb4bf06/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d540ae2cd874aeb3c4b07cdc0b25e1229eb4bf06/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=d540ae2cd874aeb3c4b07cdc0b25e1229eb4bf06", "patch": "@@ -3271,6 +3271,12 @@ eliminate_regs (x, mem_mode, insn, storing)\n \t    && GET_CODE (insn) != INSN_LIST)\n \t  emit_insn_after (gen_rtx (CLOBBER, VOIDmode, SET_DEST (x)), insn);\n \n+\t/* If SET_DEST was a partial-word subreg, NEW0 may have been widened\n+\t   to spill the entire register (see SUBREG case above).  If the \n+\t   widths of SET_DEST and NEW0 no longer match, adjust NEW1.  */\n+\tif (GET_MODE (SET_DEST (x)) != GET_MODE (new0))\n+\t  new1 = gen_rtx (SUBREG, GET_MODE (new0), new1, 0);\n+\n \tif (new0 != SET_DEST (x) || new1 != SET_SRC (x))\n \t  return gen_rtx (SET, VOIDmode, new0, new1);\n       }"}]}