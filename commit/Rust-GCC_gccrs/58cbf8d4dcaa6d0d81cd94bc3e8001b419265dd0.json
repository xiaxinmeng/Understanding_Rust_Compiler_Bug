{"sha": "58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NThjYmY4ZDRkY2FhNmQwZDgxY2Q5NGJjM2U4MDAxYjQxOTI2NWRkMA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2015-03-10T22:20:41Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2015-03-10T22:20:41Z"}, "message": "re PR c++/65370 (r213519  causes: error: redeclaration of 'template... may not have default arguments [-fpermissive])\n\n/cp\n2015-03-10  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/65370\n\t* decl.c (duplicate_decls): Call check_redeclaration_no_default_args\n\tonly if the location of newdecl doesn't match the location of olddecl.\n\n/testsuite\n2015-03-10  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/65370\n\t* g++.dg/other/default11.C: New.\n\t* g++.dg/other/default12.C: Likewise.\n\nFrom-SVN: r221337", "tree": {"sha": "cf5ced19b7d49227299751b10fdc0edf1b11b546", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cf5ced19b7d49227299751b10fdc0edf1b11b546"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0/comments", "author": null, "committer": null, "parents": [{"sha": "2d977ff983f86b3f7b7c9f1cb5a479af75cd589e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d977ff983f86b3f7b7c9f1cb5a479af75cd589e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d977ff983f86b3f7b7c9f1cb5a479af75cd589e"}], "stats": {"total": 43, "additions": 42, "deletions": 1}, "files": [{"sha": "625b03409ca754b101cfd949723cfb94dc06caae", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0", "patch": "@@ -1,3 +1,9 @@\n+2015-03-10  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/65370\n+\t* decl.c (duplicate_decls): Call check_redeclaration_no_default_args\n+\tonly if the location of newdecl doesn't match the location of olddecl.\n+\n 2015-03-10  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/65127"}, {"sha": "54e6418b32277c9e63fd9f2ce75bbad15fba6c7e", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0", "patch": "@@ -1922,7 +1922,9 @@ duplicate_decls (tree newdecl, tree olddecl, bool newdecl_is_friend)\n \t{\n \t  /* Per C++11 8.3.6/4, default arguments cannot be added in later\n \t     declarations of a function template.  */\n-\t  check_redeclaration_no_default_args (newdecl);\n+\t  if (DECL_SOURCE_LOCATION (newdecl)\n+\t      != DECL_SOURCE_LOCATION (olddecl))\n+\t    check_redeclaration_no_default_args (newdecl);\n \n \t  check_default_args (newdecl);\n "}, {"sha": "a45346aaf188667906439a9dcd2c9c19b4c49c22", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0", "patch": "@@ -1,3 +1,9 @@\n+2015-03-10  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/65370\n+\t* g++.dg/other/default11.C: New.\n+\t* g++.dg/other/default12.C: Likewise.\n+\n 2015-03-10  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/65368"}, {"sha": "e747c44a11bbded23c4d102f2eafb336bfd8521e", "filename": "gcc/testsuite/g++.dg/other/default11.C", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fdefault11.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fdefault11.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fdefault11.C?ref=58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0", "patch": "@@ -0,0 +1,11 @@\n+// PR c++/65370\n+\n+template <typename> class C\n+{\n+  template <typename U>\n+  C(const C<U>&, bool = false);\n+};\n+\n+template <>\n+template <typename U>\n+C<int>::C(const C<U>&, bool);"}, {"sha": "3d7ba5497d086b58971a43c5a0993fb60ea720c9", "filename": "gcc/testsuite/g++.dg/other/default12.C", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fdefault12.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fdefault12.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fdefault12.C?ref=58cbf8d4dcaa6d0d81cd94bc3e8001b419265dd0", "patch": "@@ -0,0 +1,16 @@\n+// PR c++/65370\n+\n+template <typename> class C\n+{\n+  template <typename U>\n+  C(const C<U>&, bool = false);\n+};\n+\n+template<>\n+class C<int>\n+{\n+  template <typename U>\n+  C(const C<U>&, bool);\n+};\n+\n+template <typename U> C<int>::C(const C<U>&, bool = false) { }  // { dg-error \"default arguments\" }"}]}