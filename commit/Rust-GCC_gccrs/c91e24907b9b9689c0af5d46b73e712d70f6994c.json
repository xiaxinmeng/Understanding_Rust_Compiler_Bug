{"sha": "c91e24907b9b9689c0af5d46b73e712d70f6994c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzkxZTI0OTA3YjliOTY4OWMwYWY1ZDQ2YjczZTcxMmQ3MGY2OTk0Yw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-02-10T15:52:37Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-02-10T15:52:37Z"}, "message": "runtime: Save all registers on stack for GC scan.\n\nFrom-SVN: r184098", "tree": {"sha": "c48d22fa4d8942eadd5537db1bdaed181969947f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c48d22fa4d8942eadd5537db1bdaed181969947f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c91e24907b9b9689c0af5d46b73e712d70f6994c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c91e24907b9b9689c0af5d46b73e712d70f6994c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c91e24907b9b9689c0af5d46b73e712d70f6994c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c91e24907b9b9689c0af5d46b73e712d70f6994c/comments", "author": null, "committer": null, "parents": [{"sha": "a8fc98555231535e0208a2c9e190a03a9ba2ea3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8fc98555231535e0208a2c9e190a03a9ba2ea3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8fc98555231535e0208a2c9e190a03a9ba2ea3b"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "73c399df239ed0eee8eda4665b273002ec92b179", "filename": "libgo/runtime/mgc0.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c91e24907b9b9689c0af5d46b73e712d70f6994c/libgo%2Fruntime%2Fmgc0.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c91e24907b9b9689c0af5d46b73e712d70f6994c/libgo%2Fruntime%2Fmgc0.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fmgc0.c?ref=c91e24907b9b9689c0af5d46b73e712d70f6994c", "patch": "@@ -936,6 +936,10 @@ runtime_gc(int32 force)\n \tconst byte *p;\n \tbool extra;\n \n+\t// Make sure all registers are saved on stack so that\n+\t// scanstack sees them.\n+\t__builtin_unwind_init();\n+\n \t// The gc is turned off (via enablegc) until\n \t// the bootstrap has completed.\n \t// Also, malloc gets called in the guts"}]}