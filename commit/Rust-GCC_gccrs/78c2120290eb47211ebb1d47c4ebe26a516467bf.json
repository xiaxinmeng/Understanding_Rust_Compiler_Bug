{"sha": "78c2120290eb47211ebb1d47c4ebe26a516467bf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzhjMjEyMDI5MGViNDcyMTFlYmIxZDQ3YzRlYmUyNmE1MTY0NjdiZg==", "commit": {"author": {"name": "Steven Bosscher", "email": "stevenb@suse.de", "date": "2004-07-04T20:58:46Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2004-07-04T20:58:46Z"}, "message": "iq2000.c (TARGET_SCHED_USE_DFA_PIPELINE_INTERFACE): Define.\n\n\t* config/iq2000/iq2000.c (TARGET_SCHED_USE_DFA_PIPELINE_INTERFACE):\n\tDefine.\n\t* config/iq2000/iq2000.md: Translate old pipeline description to an\n\tequivalent new one.\n\nFrom-SVN: r84094", "tree": {"sha": "8c2983300c49b9138651816414930f79965c03d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8c2983300c49b9138651816414930f79965c03d8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/78c2120290eb47211ebb1d47c4ebe26a516467bf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78c2120290eb47211ebb1d47c4ebe26a516467bf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78c2120290eb47211ebb1d47c4ebe26a516467bf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78c2120290eb47211ebb1d47c4ebe26a516467bf/comments", "author": null, "committer": null, "parents": [{"sha": "988779335eec92a7b2f0133b3f209d64015206d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/988779335eec92a7b2f0133b3f209d64015206d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/988779335eec92a7b2f0133b3f209d64015206d9"}], "stats": {"total": 50, "additions": 29, "deletions": 21}, "files": [{"sha": "655154d421352b744afc2fb118725e68fdef7243", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78c2120290eb47211ebb1d47c4ebe26a516467bf/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78c2120290eb47211ebb1d47c4ebe26a516467bf/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=78c2120290eb47211ebb1d47c4ebe26a516467bf", "patch": "@@ -1,3 +1,10 @@\n+2004-07-04  Steven Bosscher  <stevenb@suse.de>\n+\n+\t* config/iq2000/iq2000.c (TARGET_SCHED_USE_DFA_PIPELINE_INTERFACE):\n+\tDefine.\n+\t* config/iq2000/iq2000.md: Translate old pipeline description to an\n+\tequivalent new one.\n+\n 2004-07-04  Roger Sayle  <roger@eyesopen.com>\n \n \t* tree-ssa-ccp.c (set_rhs): Change function to return a bool."}, {"sha": "b2e117a9676edd98686d895b70d8277fb63b7b3e", "filename": "gcc/config/iq2000/iq2000.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78c2120290eb47211ebb1d47c4ebe26a516467bf/gcc%2Fconfig%2Fiq2000%2Fiq2000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78c2120290eb47211ebb1d47c4ebe26a516467bf/gcc%2Fconfig%2Fiq2000%2Fiq2000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fiq2000%2Fiq2000.c?ref=78c2120290eb47211ebb1d47c4ebe26a516467bf", "patch": "@@ -200,6 +200,9 @@ static bool iq2000_return_in_memory   (tree, tree);\n #undef  TARGET_STRICT_ARGUMENT_NAMING\n #define TARGET_STRICT_ARGUMENT_NAMING\thook_bool_CUMULATIVE_ARGS_true\n \n+#undef TARGET_SCHED_USE_DFA_PIPELINE_INTERFACE\n+#define TARGET_SCHED_USE_DFA_PIPELINE_INTERFACE hook_int_void_1\n+\n struct gcc_target targetm = TARGET_INITIALIZER;\n \f\n /* Return 1 if OP can be used as an operand where a register or 16 bit unsigned"}, {"sha": "97b7cc6360faaeb60904470cb9531b5734e9208c", "filename": "gcc/config/iq2000/iq2000.md", "status": "modified", "additions": 19, "deletions": 21, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78c2120290eb47211ebb1d47c4ebe26a516467bf/gcc%2Fconfig%2Fiq2000%2Fiq2000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78c2120290eb47211ebb1d47c4ebe26a516467bf/gcc%2Fconfig%2Fiq2000%2Fiq2000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fiq2000%2Fiq2000.md?ref=78c2120290eb47211ebb1d47c4ebe26a516467bf", "patch": "@@ -18,9 +18,6 @@\n ;; the Free Software Foundation, 59 Temple Place - Suite 330,\n ;; Boston, MA 02111-1307, USA.\n \n-;; ??? Currently does not have define_function_unit support for the R8000.\n-;; Must include new entries for fmadd in addition to existing entries.\n-\n (define_constants\n   [(UNSPEC_ADO16 0)\n    (UNSPEC_RAM\t1)\n@@ -201,33 +198,34 @@\n \n ;; .........................\n ;;\n-;;\tFunctional units\n+;;\tPipeline model\n ;;\n ;; .........................\n \n-; (define_function_unit NAME MULTIPLICITY SIMULTANEITY\n-;\t\t\tTEST READY-DELAY ISSUE-DELAY [CONFLICT-LIST])\n-\n-;; Make the default case (PROCESSOR_DEFAULT) handle the worst case\n+(define_automaton \"iq2000\")\n+(define_cpu_unit \"core,memory\" \"iq2000\")\n \n-(define_function_unit \"memory\" 1 0\n-  (and (eq_attr \"type\" \"load\")\n-       (eq_attr \"cpu\" \"iq2000\"))\n-  3 0)\n+(define_insn_reservation \"nonmemory\" 1\n+  (eq_attr \"type\" \"!load,move,store,xfer\")\n+  \"core\")\n \n-(define_function_unit \"memory\" 1 0\n-  (and (eq_attr \"type\" \"move\")\n+(define_insn_reservation \"iq2000_load_move\" 3\n+  (and (eq_attr \"type\" \"load,move\")\n        (eq_attr \"cpu\" \"iq2000\"))\n-  3 0)\n+  \"memory\")\n \n-(define_function_unit \"memory\" 1 0\n-  (and (eq_attr \"type\" \"arith\")\n-       (eq_attr \"cpu\" \"iq2000\"))\n-  3 0)\n+(define_insn_reservation \"other_load_move\" 1\n+  (and (eq_attr \"type\" \"load,move\")\n+       (eq_attr \"cpu\" \"!iq2000\"))\n+  \"memory\")\n \n-(define_function_unit \"memory\"   1 0 (eq_attr \"type\" \"store\") 1 0)\n+(define_insn_reservation \"store\" 1\n+  (eq_attr \"type\" \"store\")\n+  \"memory\")\n \n-(define_function_unit \"memory\"   1 0 (eq_attr \"type\" \"xfer\") 2 0)\n+(define_insn_reservation \"xfer\" 2\n+  (eq_attr \"type\" \"xfer\")\n+  \"memory\")\n \f\n ;;\n ;;  ...................."}]}