{"sha": "efc3527addeabd8efa2c3f174e3128db32a38129", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWZjMzUyN2FkZGVhYmQ4ZWZhMmMzZjE3NGUzMTI4ZGIzMmEzODEyOQ==", "commit": {"author": {"name": "Ben Elliston", "email": "bje@gcc.gnu.org", "date": "2009-05-13T20:52:00Z"}, "committer": {"name": "Ben Elliston", "email": "bje@gcc.gnu.org", "date": "2009-05-13T20:52:00Z"}, "message": "re PR middle-end/40035 (ICE when cross-compiling with -Os)\n\n\tPR middle-end/40035\n\t* dse.c (check_mem_read_rtx): Guard against width == -1.\ntestsuite/\n\t* gcc.c-torture/compile/pr40035.c: New test.\n\nFrom-SVN: r147498", "tree": {"sha": "c2c551e6937ea7118cdf50a1e415ce155e4a3b3e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c2c551e6937ea7118cdf50a1e415ce155e4a3b3e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/efc3527addeabd8efa2c3f174e3128db32a38129", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efc3527addeabd8efa2c3f174e3128db32a38129", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efc3527addeabd8efa2c3f174e3128db32a38129", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efc3527addeabd8efa2c3f174e3128db32a38129/comments", "author": null, "committer": null, "parents": [{"sha": "a513927a5b0ea35945332ceaa78d4c1f0f74548d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a513927a5b0ea35945332ceaa78d4c1f0f74548d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a513927a5b0ea35945332ceaa78d4c1f0f74548d"}], "stats": {"total": 33, "additions": 32, "deletions": 1}, "files": [{"sha": "9e2e4b92609e765d08e990ec252e3b0e32376f1f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efc3527addeabd8efa2c3f174e3128db32a38129/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efc3527addeabd8efa2c3f174e3128db32a38129/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=efc3527addeabd8efa2c3f174e3128db32a38129", "patch": "@@ -1,3 +1,9 @@\n+2009-05-13  Jakub Jelinek  <jakub@redhat.com>\n+\t    Ben Elliston <bje@au.ibm.com>\n+\n+\tPR middle-end/40035\n+\t* dse.c (check_mem_read_rtx): Guard against width == -1.\n+\n 2009-05-13  Michael Matz  <matz@suse.de>\n \n \tPR middle-end/39976"}, {"sha": "534324d0f5b1b17c6916dc46931c03923fe788ca", "filename": "gcc/dse.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efc3527addeabd8efa2c3f174e3128db32a38129/gcc%2Fdse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efc3527addeabd8efa2c3f174e3128db32a38129/gcc%2Fdse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdse.c?ref=efc3527addeabd8efa2c3f174e3128db32a38129", "patch": "@@ -2245,6 +2245,7 @@ check_mem_read_rtx (rtx *loc, void *data)\n \t  if (store_info->rhs\n \t      && store_info->group_id == -1\n \t      && store_info->cse_base == base\n+\t      && width != -1\n \t      && offset >= store_info->begin\n \t      && offset + width <= store_info->end\n \t      && all_positions_needed_p (store_info,"}, {"sha": "928c7f63a82381ecc33275fac6ce9f6cdbee0e08", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efc3527addeabd8efa2c3f174e3128db32a38129/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efc3527addeabd8efa2c3f174e3128db32a38129/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=efc3527addeabd8efa2c3f174e3128db32a38129", "patch": "@@ -1,3 +1,8 @@\n+2009-05-14  Ben Elliston  <bje@au.ibm.com>\n+\t \n+\tPR middle-end/40035\n+\t* gcc.c-torture/compile/pr40035.c: New test.\n+\n 2009-05-13  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* gcc.target/i386/pr39543-2.c: Skip if ilp32 && pic.\n@@ -9,7 +14,6 @@\n \t* gfortran.dg/c_kind_tests_2.f03: Ditto.\n \t* gfortran.dg/interop_params.f03: Ditto.\n \n-\n 2009-05-12  Jan Hubicka  <jh@suse.cz>\n \n \t* gcc.dg/tree-ssa/loop-36.c: Reduce amount of iterations to 2 so unrolling"}, {"sha": "1bf1a7c4c4183d932f749cf4426807b3d6e31a56", "filename": "gcc/testsuite/gcc.c-torture/compile/pr40035.c", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efc3527addeabd8efa2c3f174e3128db32a38129/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr40035.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efc3527addeabd8efa2c3f174e3128db32a38129/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr40035.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr40035.c?ref=efc3527addeabd8efa2c3f174e3128db32a38129", "patch": "@@ -0,0 +1,20 @@\n+typedef __SIZE_TYPE__ size_t;\n+void *memmove (void *dest, const void *src, size_t count);\n+size_t strlen (const char *s);\n+\n+int\n+foo (char *param, char *val)\n+{\n+  if (val)\n+    {\n+      if (val == param + strlen (param) + 1)\n+        val[-1] = '=';\n+      else if (val == param + strlen (param) + 2)\n+        {\n+          val[-2] = '=';\n+          memmove (val - 1, val, strlen (val) + 1);\n+          val--;\n+        }\n+    }\n+  return 0;\n+}"}]}