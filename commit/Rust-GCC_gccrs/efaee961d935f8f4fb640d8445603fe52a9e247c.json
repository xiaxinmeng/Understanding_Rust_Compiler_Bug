{"sha": "efaee961d935f8f4fb640d8445603fe52a9e247c", "node_id": "C_kwDOANBUbNoAKGVmYWVlOTYxZDkzNWY4ZjRmYjY0MGQ4NDQ1NjAzZmU1MmE5ZTI0N2M", "commit": {"author": {"name": "Julien Bortolussi", "email": "bortolussi@adacore.com", "date": "2022-04-14T14:09:30Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2022-05-30T08:29:01Z"}, "message": "[Ada] Add empty constructors to the functional containers\n\nThis patch adds empty constructors to the functional containers so that\nwe can use them in expression functions.\n\ngcc/ada/\n\n\t* libgnat/a-cofuma.ads, libgnat/a-cofuma.adb,\n\tlibgnat/a-cofuse.ads, libgnat/a-cofuse.adb,\n\tlibgnat/a-cofuve.ads, libgnat/a-cofuve.adb: Add empty\n\tconstructors.", "tree": {"sha": "d8afab7e1b3b0d84861939bc0e26b8a007575965", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d8afab7e1b3b0d84861939bc0e26b8a007575965"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/efaee961d935f8f4fb640d8445603fe52a9e247c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efaee961d935f8f4fb640d8445603fe52a9e247c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efaee961d935f8f4fb640d8445603fe52a9e247c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efaee961d935f8f4fb640d8445603fe52a9e247c/comments", "author": {"login": "JulienBortolussiAda", "id": 103429088, "node_id": "U_kgDOBioz4A", "avatar_url": "https://avatars.githubusercontent.com/u/103429088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JulienBortolussiAda", "html_url": "https://github.com/JulienBortolussiAda", "followers_url": "https://api.github.com/users/JulienBortolussiAda/followers", "following_url": "https://api.github.com/users/JulienBortolussiAda/following{/other_user}", "gists_url": "https://api.github.com/users/JulienBortolussiAda/gists{/gist_id}", "starred_url": "https://api.github.com/users/JulienBortolussiAda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JulienBortolussiAda/subscriptions", "organizations_url": "https://api.github.com/users/JulienBortolussiAda/orgs", "repos_url": "https://api.github.com/users/JulienBortolussiAda/repos", "events_url": "https://api.github.com/users/JulienBortolussiAda/events{/privacy}", "received_events_url": "https://api.github.com/users/JulienBortolussiAda/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "96b2e170668673d417e9fabac041027614507eaa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96b2e170668673d417e9fabac041027614507eaa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96b2e170668673d417e9fabac041027614507eaa"}], "stats": {"total": 41, "additions": 41, "deletions": 0}, "files": [{"sha": "0fcdbdc0e970fde0a2d743aed5f435f9efcc8b7f", "filename": "gcc/ada/libgnat/a-cofuma.adb", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efaee961d935f8f4fb640d8445603fe52a9e247c/gcc%2Fada%2Flibgnat%2Fa-cofuma.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efaee961d935f8f4fb640d8445603fe52a9e247c/gcc%2Fada%2Flibgnat%2Fa-cofuma.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fa-cofuma.adb?ref=efaee961d935f8f4fb640d8445603fe52a9e247c", "patch": "@@ -130,6 +130,13 @@ package body Ada.Containers.Functional_Maps with SPARK_Mode => Off is\n       return True;\n    end Elements_Equal_Except;\n \n+   ---------------\n+   -- Empty_Map --\n+   ---------------\n+\n+   function Empty_Map return Map is\n+      ((others =>  <>));\n+\n    ---------\n    -- Get --\n    ---------"}, {"sha": "f240e1e41ef299e5431a79990dda899ed6277b82", "filename": "gcc/ada/libgnat/a-cofuma.ads", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efaee961d935f8f4fb640d8445603fe52a9e247c/gcc%2Fada%2Flibgnat%2Fa-cofuma.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efaee961d935f8f4fb640d8445603fe52a9e247c/gcc%2Fada%2Flibgnat%2Fa-cofuma.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fa-cofuma.ads?ref=efaee961d935f8f4fb640d8445603fe52a9e247c", "patch": "@@ -243,6 +243,14 @@ package Ada.Containers.Functional_Maps with SPARK_Mode is\n          and Container <= Add'Result\n          and Keys_Included_Except (Add'Result, Container, New_Key);\n \n+   function Empty_Map return Map with\n+   --  Return an empty Map\n+\n+     Global => null,\n+     Post   =>\n+       Length (Empty_Map'Result) = 0\n+         and Is_Empty (Empty_Map'Result);\n+\n    function Remove\n      (Container : Map;\n       Key       : Key_Type) return Map"}, {"sha": "77adb1d641450bd3dfa1c0a3bfd7d232ca7bfa92", "filename": "gcc/ada/libgnat/a-cofuse.adb", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efaee961d935f8f4fb640d8445603fe52a9e247c/gcc%2Fada%2Flibgnat%2Fa-cofuse.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efaee961d935f8f4fb640d8445603fe52a9e247c/gcc%2Fada%2Flibgnat%2Fa-cofuse.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fa-cofuse.adb?ref=efaee961d935f8f4fb640d8445603fe52a9e247c", "patch": "@@ -63,6 +63,13 @@ package body Ada.Containers.Functional_Sets with SPARK_Mode => Off is\n    function Contains (Container : Set; Item : Element_Type) return Boolean is\n      (Find (Container.Content, Item) > 0);\n \n+   ---------------\n+   -- Empty_Set --\n+   ---------------\n+\n+   function Empty_Set return Set is\n+      ((others => <>));\n+\n    ---------------------\n    -- Included_Except --\n    ---------------------"}, {"sha": "ce961aa28a8439b0733f62faf8f8fbe0fa2b0d71", "filename": "gcc/ada/libgnat/a-cofuse.ads", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efaee961d935f8f4fb640d8445603fe52a9e247c/gcc%2Fada%2Flibgnat%2Fa-cofuse.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efaee961d935f8f4fb640d8445603fe52a9e247c/gcc%2Fada%2Flibgnat%2Fa-cofuse.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fa-cofuse.ads?ref=efaee961d935f8f4fb640d8445603fe52a9e247c", "patch": "@@ -215,6 +215,12 @@ package Ada.Containers.Functional_Sets with SPARK_Mode is\n          and Container <= Add'Result\n          and Included_Except (Add'Result, Container, Item);\n \n+   function Empty_Set return Set with\n+   --  Return an new empty set\n+\n+     Global => null,\n+     Post   => Is_Empty (Empty_Set'Result);\n+\n    function Remove (Container : Set; Item : Element_Type) return Set with\n    --  Return a new set containing all the elements of Container except E\n "}, {"sha": "0d91da5015e8f308f6a9bd03bc43a69fa8378126", "filename": "gcc/ada/libgnat/a-cofuve.adb", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efaee961d935f8f4fb640d8445603fe52a9e247c/gcc%2Fada%2Flibgnat%2Fa-cofuve.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efaee961d935f8f4fb640d8445603fe52a9e247c/gcc%2Fada%2Flibgnat%2Fa-cofuve.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fa-cofuve.adb?ref=efaee961d935f8f4fb640d8445603fe52a9e247c", "patch": "@@ -118,6 +118,13 @@ package body Ada.Containers.Functional_Vectors with SPARK_Mode => Off is\n       return False;\n    end Contains;\n \n+   --------------------\n+   -- Empty_Sequence --\n+   --------------------\n+\n+   function Empty_Sequence return Sequence is\n+      ((others => <>));\n+\n    ------------------\n    -- Equal_Except --\n    ------------------"}, {"sha": "f926a963737c6fb6c01f2e24e3cefa37e32d60b7", "filename": "gcc/ada/libgnat/a-cofuve.ads", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efaee961d935f8f4fb640d8445603fe52a9e247c/gcc%2Fada%2Flibgnat%2Fa-cofuve.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efaee961d935f8f4fb640d8445603fe52a9e247c/gcc%2Fada%2Flibgnat%2Fa-cofuve.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fa-cofuve.ads?ref=efaee961d935f8f4fb640d8445603fe52a9e247c", "patch": "@@ -343,6 +343,12 @@ package Ada.Containers.Functional_Vectors with SPARK_Mode is\n    --  i.e. it does not contain pointers that could be used to alias mutable\n    --  data).\n \n+   function Empty_Sequence return Sequence with\n+   --  Return an empty Sequence\n+\n+     Global => null,\n+     Post   => Length (Empty_Sequence'Result) = 0;\n+\n    ---------------------------\n    --  Iteration Primitives --\n    ---------------------------"}]}