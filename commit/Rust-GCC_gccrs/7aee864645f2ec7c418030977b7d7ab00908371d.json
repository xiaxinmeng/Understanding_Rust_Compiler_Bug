{"sha": "7aee864645f2ec7c418030977b7d7ab00908371d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2FlZTg2NDY0NWYyZWM3YzQxODAzMDk3N2I3ZDdhYjAwOTA4MzcxZA==", "commit": {"author": {"name": "Edward Smith-Rowland", "email": "3dw4rd@verizon.net", "date": "2014-07-09T13:33:58Z"}, "committer": {"name": "Edward Smith-Rowland", "email": "emsr@gcc.gnu.org", "date": "2014-07-09T13:33:58Z"}, "message": "PR c++/58155 - -Wliteral-suffix warns about tokens which are skipped\n\nlibcpp/\n\n2014-07-09  Edward Smith-Rowland  <3dw4rd@verizon.net>\n\n\tPR c++/58155 - -Wliteral-suffix warns about tokens which are skipped\n\tby preprocessor\n\t* lex.c (lex_raw_string ()): Do not warn about invalid suffix\n\tif skipping. (lex_string ()): Ditto.\n\n\ngcc/testsuite/\n\n2014-07-09  Edward Smith-Rowland  <3dw4rd@verizon.net>\n\n\tPR c++/58155 - -Wliteral-suffix warns about tokens which are skipped\n\tg++.dg/cpp0x/pr58155.C: New.\n\nFrom-SVN: r212392", "tree": {"sha": "2945161d6be14d712bccdf9a00c6315c554a985d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2945161d6be14d712bccdf9a00c6315c554a985d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7aee864645f2ec7c418030977b7d7ab00908371d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7aee864645f2ec7c418030977b7d7ab00908371d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7aee864645f2ec7c418030977b7d7ab00908371d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7aee864645f2ec7c418030977b7d7ab00908371d/comments", "author": {"login": "emsr", "id": 1936479, "node_id": "MDQ6VXNlcjE5MzY0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1936479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emsr", "html_url": "https://github.com/emsr", "followers_url": "https://api.github.com/users/emsr/followers", "following_url": "https://api.github.com/users/emsr/following{/other_user}", "gists_url": "https://api.github.com/users/emsr/gists{/gist_id}", "starred_url": "https://api.github.com/users/emsr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emsr/subscriptions", "organizations_url": "https://api.github.com/users/emsr/orgs", "repos_url": "https://api.github.com/users/emsr/repos", "events_url": "https://api.github.com/users/emsr/events{/privacy}", "received_events_url": "https://api.github.com/users/emsr/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "676c36d87076816e149c501d5c81ee736a972b42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/676c36d87076816e149c501d5c81ee736a972b42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/676c36d87076816e149c501d5c81ee736a972b42"}], "stats": {"total": 29, "additions": 27, "deletions": 2}, "files": [{"sha": "9c42d59d936e97f1132c9981304e71094b6febc1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7aee864645f2ec7c418030977b7d7ab00908371d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7aee864645f2ec7c418030977b7d7ab00908371d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7aee864645f2ec7c418030977b7d7ab00908371d", "patch": "@@ -1,3 +1,8 @@\n+2014-07-09  Edward Smith-Rowland  <3dw4rd@verizon.net>\n+\n+\tPR c++/58155 - -Wliteral-suffix warns about tokens which are skipped\n+\tg++.dg/cpp0x/pr58155.C: New.\n+\n 2014-07-09  Dominique d'Humieres <dominiq@lps.ens.fr>\n \n \tPR testsuite/61453"}, {"sha": "60b02ab657dc75252863532fd12c6cb5dd658d2a", "filename": "gcc/testsuite/g++.dg/cpp0x/pr58155.C", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7aee864645f2ec7c418030977b7d7ab00908371d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr58155.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7aee864645f2ec7c418030977b7d7ab00908371d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr58155.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr58155.C?ref=7aee864645f2ec7c418030977b7d7ab00908371d", "patch": "@@ -0,0 +1,13 @@\n+// { dg-do compile { target c++11 } }\n+\n+#define BAZ \"baz\"\n+\n+#if 0\n+\n+\"bar\"BAZ\n+\n+R\"(\n+  bar\n+)\"BAZ\n+\n+#endif"}, {"sha": "f22471b229e3eff0cef063c61372df8687ea8933", "filename": "libcpp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7aee864645f2ec7c418030977b7d7ab00908371d/libcpp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7aee864645f2ec7c418030977b7d7ab00908371d/libcpp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2FChangeLog?ref=7aee864645f2ec7c418030977b7d7ab00908371d", "patch": "@@ -1,3 +1,10 @@\n+2014-07-09  Edward Smith-Rowland  <3dw4rd@verizon.net>\n+\n+\tPR c++/58155 - -Wliteral-suffix warns about tokens which are skipped\n+\tby preprocessor\n+\t* lex.c (lex_raw_string ()): Do not warn about invalid suffix\n+\tif skipping. (lex_string ()): Ditto.\n+\n 2014-06-04  Edward Smith-Rowland  <3dw4rd@verizon.net>\n \n \tPR c++/61038"}, {"sha": "9130cbcee915b87d9de97d39ac78bcc82b59cb85", "filename": "libcpp/lex.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7aee864645f2ec7c418030977b7d7ab00908371d/libcpp%2Flex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7aee864645f2ec7c418030977b7d7ab00908371d/libcpp%2Flex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2Flex.c?ref=7aee864645f2ec7c418030977b7d7ab00908371d", "patch": "@@ -1646,7 +1646,7 @@ lex_raw_string (cpp_reader *pfile, cpp_token *token, const uchar *base,\n       if (is_macro (pfile, cur))\n \t{\n \t  /* Raise a warning, but do not consume subsequent tokens.  */\n-\t  if (CPP_OPTION (pfile, warn_literal_suffix))\n+\t  if (CPP_OPTION (pfile, warn_literal_suffix) && !pfile->state.skipping)\n \t    cpp_warning_with_line (pfile, CPP_W_LITERAL_SUFFIX,\n \t\t\t\t   token->src_loc, 0,\n \t\t\t\t   \"invalid suffix on literal; C++11 requires \"\n@@ -1775,7 +1775,7 @@ lex_string (cpp_reader *pfile, cpp_token *token, const uchar *base)\n       if (is_macro (pfile, cur))\n \t{\n \t  /* Raise a warning, but do not consume subsequent tokens.  */\n-\t  if (CPP_OPTION (pfile, warn_literal_suffix))\n+\t  if (CPP_OPTION (pfile, warn_literal_suffix) && !pfile->state.skipping)\n \t    cpp_warning_with_line (pfile, CPP_W_LITERAL_SUFFIX,\n \t\t\t\t   token->src_loc, 0,\n \t\t\t\t   \"invalid suffix on literal; C++11 requires \""}]}