{"sha": "b5b58343505c66dcba0f45f4eefa04bd05d6755f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjViNTgzNDM1MDVjNjZkY2JhMGY0NWY0ZWVmYTA0YmQwNWQ2NzU1Zg==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2014-03-18T09:58:17Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2014-03-18T09:58:17Z"}, "message": "configure.ac: Check for presence of fcntl.\n\n\t* configure.ac: Check for presence of fcntl.\n\t* configure: Regenerate.\n\t* config.h.in: Regenerate.\n\t* io/unix.c (set_close_on_exec): Check for HAVE_FCNTL.\n\nFrom-SVN: r208634", "tree": {"sha": "8296b4acc4cba130806c65f9898f5f88c18336c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8296b4acc4cba130806c65f9898f5f88c18336c6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5b58343505c66dcba0f45f4eefa04bd05d6755f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5b58343505c66dcba0f45f4eefa04bd05d6755f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5b58343505c66dcba0f45f4eefa04bd05d6755f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5b58343505c66dcba0f45f4eefa04bd05d6755f/comments", "author": null, "committer": null, "parents": [{"sha": "e2110f8f2f75e6f30f7b5a5d94a65faeb9eb0629", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2110f8f2f75e6f30f7b5a5d94a65faeb9eb0629", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2110f8f2f75e6f30f7b5a5d94a65faeb9eb0629"}], "stats": {"total": 21, "additions": 17, "deletions": 4}, "files": [{"sha": "2dcea7d94bb96a1531ba868a931b2772d3b8d24e", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5b58343505c66dcba0f45f4eefa04bd05d6755f/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5b58343505c66dcba0f45f4eefa04bd05d6755f/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=b5b58343505c66dcba0f45f4eefa04bd05d6755f", "patch": "@@ -1,3 +1,10 @@\n+2014-03-18  Ulrich Weigand  <Ulrich.Weigand@de.ibm.com>\n+\n+\t* configure.ac: Check for presence of fcntl.\n+\t* configure: Regenerate.\n+\t* config.h.in: Regenerate.\n+\t* io/unix.c (set_close_on_exec): Check for HAVE_FCNTL.\n+\n 2014-03-17  Jerry DeLisle  <jvdelisle@gcc.gnu>\n \n \tPR libfortran/48600"}, {"sha": "8298f8d7812939fbdf84c8a68b67a8ff13b1a79b", "filename": "libgfortran/config.h.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5b58343505c66dcba0f45f4eefa04bd05d6755f/libgfortran%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5b58343505c66dcba0f45f4eefa04bd05d6755f/libgfortran%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfig.h.in?ref=b5b58343505c66dcba0f45f4eefa04bd05d6755f", "patch": "@@ -360,6 +360,9 @@\n /* Define to 1 if you have the `fabsl' function. */\n #undef HAVE_FABSL\n \n+/* Define to 1 if you have the `fcntl' function. */\n+#undef HAVE_FCNTL\n+\n /* libm includes feenableexcept */\n #undef HAVE_FEENABLEEXCEPT\n "}, {"sha": "23f57c7af379ff53d2b3e2c073f4bf60bc180f5a", "filename": "libgfortran/configure", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5b58343505c66dcba0f45f4eefa04bd05d6755f/libgfortran%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5b58343505c66dcba0f45f4eefa04bd05d6755f/libgfortran%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure?ref=b5b58343505c66dcba0f45f4eefa04bd05d6755f", "patch": "@@ -2572,6 +2572,7 @@ as_fn_append ac_func_list \" execve\"\n as_fn_append ac_func_list \" pipe\"\n as_fn_append ac_func_list \" dup2\"\n as_fn_append ac_func_list \" close\"\n+as_fn_append ac_func_list \" fcntl\"\n as_fn_append ac_func_list \" strcasestr\"\n as_fn_append ac_func_list \" getrlimit\"\n as_fn_append ac_func_list \" gettimeofday\"\n@@ -12342,7 +12343,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12345 \"configure\"\n+#line 12346 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12448,7 +12449,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 12451 \"configure\"\n+#line 12452 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -16599,6 +16600,8 @@ done\n \n \n \n+\n+\n \n \n "}, {"sha": "de2d65e762d38e2bcd8923147c56d196a4df870f", "filename": "libgfortran/configure.ac", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5b58343505c66dcba0f45f4eefa04bd05d6755f/libgfortran%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5b58343505c66dcba0f45f4eefa04bd05d6755f/libgfortran%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure.ac?ref=b5b58343505c66dcba0f45f4eefa04bd05d6755f", "patch": "@@ -282,7 +282,7 @@ if test \"x${with_newlib}\" = \"xyes\"; then\n else\n    AC_CHECK_FUNCS_ONCE(getrusage times mkstemp strtof strtold snprintf \\\n    ftruncate chsize chdir getlogin gethostname kill link symlink sleep ttyname \\\n-   alarm access fork execl wait setmode execve pipe dup2 close \\\n+   alarm access fork execl wait setmode execve pipe dup2 close fcntl \\\n    strcasestr getrlimit gettimeofday stat fstat lstat getpwuid vsnprintf dup \\\n    getcwd localtime_r gmtime_r getpwuid_r ttyname_r clock_gettime \\\n    readlink getgid getpid getppid getuid geteuid umask getegid \\"}, {"sha": "34c2d0cad163f8ef30c93ebf1b62d09e06cbb208", "filename": "libgfortran/io/unix.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5b58343505c66dcba0f45f4eefa04bd05d6755f/libgfortran%2Fio%2Funix.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5b58343505c66dcba0f45f4eefa04bd05d6755f/libgfortran%2Fio%2Funix.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Funix.c?ref=b5b58343505c66dcba0f45f4eefa04bd05d6755f", "patch": "@@ -1077,7 +1077,7 @@ static void __attribute__ ((unused))\n set_close_on_exec (int fd __attribute__ ((unused)))\n {\n   /* Mingw does not define F_SETFD.  */\n-#if defined(F_SETFD) && defined(FD_CLOEXEC)\n+#if defined(HAVE_FCNTL) && defined(F_SETFD) && defined(FD_CLOEXEC)\n   if (fd >= 0)\n     fcntl(fd, F_SETFD, FD_CLOEXEC);\n #endif"}]}