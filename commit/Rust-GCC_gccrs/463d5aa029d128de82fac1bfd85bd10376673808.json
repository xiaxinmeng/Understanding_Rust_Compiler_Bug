{"sha": "463d5aa029d128de82fac1bfd85bd10376673808", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDYzZDVhYTAyOWQxMjhkZTgyZmFjMWJmZDg1YmQxMDM3NjY3MzgwOA==", "commit": {"author": {"name": "Kai Tietz", "email": "ktietz@redhat.com", "date": "2012-07-04T11:22:02Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2012-07-04T11:22:02Z"}, "message": "winnt.c (i386_pe_reloc_rw_mask): New function.\n\n        * config/i386/winnt.c (i386_pe_reloc_rw_mask): New function.\n        * config/i386/i386-protos.h (i386_pe_reloc_rw_mask): Add\n        prototype.\n        * config/i386/cygming.h (TARGET_ASM_RELOC_RW_MASK): Define\n        as i386_pe_reloc_rw_mask.\n\nFrom-SVN: r189254", "tree": {"sha": "5b0b8f02a1f37fc6c8c17f65fb89cfacc30b2998", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5b0b8f02a1f37fc6c8c17f65fb89cfacc30b2998"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/463d5aa029d128de82fac1bfd85bd10376673808", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/463d5aa029d128de82fac1bfd85bd10376673808", "html_url": "https://github.com/Rust-GCC/gccrs/commit/463d5aa029d128de82fac1bfd85bd10376673808", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/463d5aa029d128de82fac1bfd85bd10376673808/comments", "author": null, "committer": null, "parents": [{"sha": "cef8c10098ffd48dec16db4a8a67e1cd542a1163", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cef8c10098ffd48dec16db4a8a67e1cd542a1163", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cef8c10098ffd48dec16db4a8a67e1cd542a1163"}], "stats": {"total": 23, "additions": 23, "deletions": 0}, "files": [{"sha": "b5110a6aa5310f34a4fe44d505892f80f0094ca6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/463d5aa029d128de82fac1bfd85bd10376673808/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/463d5aa029d128de82fac1bfd85bd10376673808/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=463d5aa029d128de82fac1bfd85bd10376673808", "patch": "@@ -1,3 +1,11 @@\n+2012-07-04  Kai Tietz  <ktietz@redhat.com>\n+\n+\t* config/i386/winnt.c (i386_pe_reloc_rw_mask): New function.\n+\t* config/i386/i386-protos.h (i386_pe_reloc_rw_mask): Add\n+\tprototype.\n+\t* config/i386/cygming.h (TARGET_ASM_RELOC_RW_MASK): Define\n+\tas i386_pe_reloc_rw_mask.\n+\n 2012-07-04  Richard Guenther  <rguenther@suse.de>\n \n \t* tree.c (find_decls_types_r): Handle TYPE_CONTEXT the same"}, {"sha": "b5f89c46e12518419b558d346d0637aadb23170b", "filename": "gcc/config/i386/cygming.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/463d5aa029d128de82fac1bfd85bd10376673808/gcc%2Fconfig%2Fi386%2Fcygming.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/463d5aa029d128de82fac1bfd85bd10376673808/gcc%2Fconfig%2Fi386%2Fcygming.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fcygming.h?ref=463d5aa029d128de82fac1bfd85bd10376673808", "patch": "@@ -225,6 +225,11 @@ do {\t\t\t\t\t\t\t\t\t\\\n \n #define SUBTARGET_ENCODE_SECTION_INFO  i386_pe_encode_section_info\n \n+/* Local and global relocs can be placed always into readonly memory\n+   for PE-COFF targets.  */\n+#undef TARGET_ASM_RELOC_RW_MASK\n+#define TARGET_ASM_RELOC_RW_MASK i386_pe_reloc_rw_mask\n+\n /* Output a common block.  */\n #undef ASM_OUTPUT_ALIGNED_DECL_COMMON\n #define ASM_OUTPUT_ALIGNED_DECL_COMMON \\"}, {"sha": "1d3aecc6a663cc652cd56730535e9172793d2743", "filename": "gcc/config/i386/i386-protos.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/463d5aa029d128de82fac1bfd85bd10376673808/gcc%2Fconfig%2Fi386%2Fi386-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/463d5aa029d128de82fac1bfd85bd10376673808/gcc%2Fconfig%2Fi386%2Fi386-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-protos.h?ref=463d5aa029d128de82fac1bfd85bd10376673808", "patch": "@@ -264,6 +264,8 @@ extern void i386_pe_adjust_class_at_definition (tree);\n extern bool i386_pe_type_dllimport_p (tree);\n extern bool i386_pe_type_dllexport_p (tree);\n \n+extern int i386_pe_reloc_rw_mask (void);\n+\n extern rtx maybe_get_pool_constant (rtx);\n \n extern char internal_label_prefix[16];"}, {"sha": "5b71ccb0e13eabda97c3916b12e9ba1713fb5ea3", "filename": "gcc/config/i386/winnt.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/463d5aa029d128de82fac1bfd85bd10376673808/gcc%2Fconfig%2Fi386%2Fwinnt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/463d5aa029d128de82fac1bfd85bd10376673808/gcc%2Fconfig%2Fi386%2Fwinnt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fwinnt.c?ref=463d5aa029d128de82fac1bfd85bd10376673808", "patch": "@@ -421,6 +421,14 @@ i386_pe_unique_section (tree decl, int reloc)\n   DECL_SECTION_NAME (decl) = build_string (len, string);\n }\n \n+/* Local and global relocs can be placed always into readonly memory for\n+   memory for PE-COFF targets.  */\n+int\n+i386_pe_reloc_rw_mask (void)\n+{\n+  return 0;\n+}\n+\n /* Select a set of attributes for section NAME based on the properties\n    of DECL and whether or not RELOC indicates that DECL's initializer\n    might contain runtime relocations."}]}