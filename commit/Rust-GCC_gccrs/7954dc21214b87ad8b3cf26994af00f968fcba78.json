{"sha": "7954dc21214b87ad8b3cf26994af00f968fcba78", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzk1NGRjMjEyMTRiODdhZDhiM2NmMjY5OTRhZjAwZjk2OGZjYmE3OA==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2006-12-20T05:00:50Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2006-12-20T05:00:50Z"}, "message": "re PR tree-optimization/30045 (ICE in nonnull_arg_p with the CHAIN decl)\n\n2006-12-19  Andrew Pinski  <pinskia@gmail.com>\n\n        PR tree-opt/30045\n        * tree-vrp.c (nonnull_arg_p): Treat the static decl as always\n        non null.\n\n2006-12-19  Andrew Pinski  <pinskia@gmail.com>\n\n        PR tree-opt/30045\n        * gcc.dg/pr30045.c: New test\n\nFrom-SVN: r120069", "tree": {"sha": "df882d04a823c13b4fd210d1da5ce8af48652fef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df882d04a823c13b4fd210d1da5ce8af48652fef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7954dc21214b87ad8b3cf26994af00f968fcba78", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7954dc21214b87ad8b3cf26994af00f968fcba78", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7954dc21214b87ad8b3cf26994af00f968fcba78", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7954dc21214b87ad8b3cf26994af00f968fcba78/comments", "author": null, "committer": null, "parents": [{"sha": "69a0f8c61ea99c4cc9dc551e7523180e197d525f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69a0f8c61ea99c4cc9dc551e7523180e197d525f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69a0f8c61ea99c4cc9dc551e7523180e197d525f"}], "stats": {"total": 34, "additions": 32, "deletions": 2}, "files": [{"sha": "a5aadaf18f526d26f6d0062ad09e98d8f86869eb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7954dc21214b87ad8b3cf26994af00f968fcba78/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7954dc21214b87ad8b3cf26994af00f968fcba78/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7954dc21214b87ad8b3cf26994af00f968fcba78", "patch": "@@ -1,3 +1,9 @@\n+2006-12-19  Andrew Pinski  <pinskia@gmail.com>\n+\n+\tPR tree-opt/30045\n+\t* tree-vrp.c (nonnull_arg_p): Treat the static decl as always\n+\tnon null.\n+\n 2006-12-20  Ben Elliston  <bje@au.ibm.com>\n \n \t* doc/invoke.texi (Optimize Options): Typo fix.\n@@ -18,8 +24,8 @@\n 2006-12-19  Paolo Bonzini  <bonzini@gnu.org>\n \n \tPR bootstrap/29544\n-        * gcc/Makefile.in (STAGE1_CHECKING): Rename to...\n-        (STAGE1_CHECKING_CFLAGS): ... this.\n+\t* gcc/Makefile.in (STAGE1_CHECKING): Rename to...\n+\t(STAGE1_CHECKING_CFLAGS): ... this.\n \n 2006-12-18  Andrew Pinski  <pinskia@gmail.com>\n "}, {"sha": "2f5d6b7ae36ca65d563e2d3c3ba1abdc2b385ca0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7954dc21214b87ad8b3cf26994af00f968fcba78/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7954dc21214b87ad8b3cf26994af00f968fcba78/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7954dc21214b87ad8b3cf26994af00f968fcba78", "patch": "@@ -1,3 +1,8 @@\n+2006-12-19  Andrew Pinski  <pinskia@gmail.com>\n+\n+\tPR tree-opt/30045\n+\t* gcc.dg/pr30045.c: New test.\n+\n 2006-12-20  Ben Elliston  <bje@au.ibm.com>\n \n \t* gcc.dg/20020312-2.c: Add a case for __SPU__."}, {"sha": "6dd22a1df7ab2a715291f92dbb9f56dc497b706c", "filename": "gcc/testsuite/gcc.dg/pr30045.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7954dc21214b87ad8b3cf26994af00f968fcba78/gcc%2Ftestsuite%2Fgcc.dg%2Fpr30045.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7954dc21214b87ad8b3cf26994af00f968fcba78/gcc%2Ftestsuite%2Fgcc.dg%2Fpr30045.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr30045.c?ref=7954dc21214b87ad8b3cf26994af00f968fcba78", "patch": "@@ -0,0 +1,15 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fno-inline\" }  */\n+int f(int *a)\n+{\n+  int  __attribute__((nonnull(1))) g(int *b)\n+  {\n+    int **c = &a;\n+    if (b)\n+      return *a + **c;\n+    return *b;\n+  }\n+  if (a)\n+    return g(a);\n+  return 1;\n+}"}, {"sha": "302a6201bf04acfd6eb2db07daa99f8f66e4b335", "filename": "gcc/tree-vrp.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7954dc21214b87ad8b3cf26994af00f968fcba78/gcc%2Ftree-vrp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7954dc21214b87ad8b3cf26994af00f968fcba78/gcc%2Ftree-vrp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vrp.c?ref=7954dc21214b87ad8b3cf26994af00f968fcba78", "patch": "@@ -102,6 +102,10 @@ nonnull_arg_p (tree arg)\n \n   gcc_assert (TREE_CODE (arg) == PARM_DECL && POINTER_TYPE_P (TREE_TYPE (arg)));\n \n+  /* The static chain decl is always non null.  */\n+  if (arg == cfun->static_chain_decl)\n+    return true;\n+\n   fntype = TREE_TYPE (current_function_decl);\n   attrs = lookup_attribute (\"nonnull\", TYPE_ATTRIBUTES (fntype));\n "}]}