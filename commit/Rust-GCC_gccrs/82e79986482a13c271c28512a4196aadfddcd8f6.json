{"sha": "82e79986482a13c271c28512a4196aadfddcd8f6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODJlNzk5ODY0ODJhMTNjMjcxYzI4NTEyYTQxOTZhYWRmZGRjZDhmNg==", "commit": {"author": {"name": "Paul Brook", "email": "paul@codesourcery.com", "date": "2004-10-07T20:19:32Z"}, "committer": {"name": "Paul Brook", "email": "pbrook@gcc.gnu.org", "date": "2004-10-07T20:19:32Z"}, "message": "string_intrinsics.c (string_verify): Fix off by one error.\n\n\t* intrinsics/string_intrinsics.c (string_verify): Fix off by one\n\terror.\ntestsuite/\n\t* gfortran.dg/intrinsic_verify_1.f90: New test.\n\nFrom-SVN: r88704", "tree": {"sha": "6a5963eeee80894aedb5397a3bc035a22564dc55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6a5963eeee80894aedb5397a3bc035a22564dc55"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/82e79986482a13c271c28512a4196aadfddcd8f6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82e79986482a13c271c28512a4196aadfddcd8f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82e79986482a13c271c28512a4196aadfddcd8f6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82e79986482a13c271c28512a4196aadfddcd8f6/comments", "author": null, "committer": null, "parents": [{"sha": "94b9aa66d805b177bca768ba88368280f9f95b2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94b9aa66d805b177bca768ba88368280f9f95b2b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94b9aa66d805b177bca768ba88368280f9f95b2b"}], "stats": {"total": 26, "additions": 23, "deletions": 3}, "files": [{"sha": "b181df863b17bfcf9a295630c9009bf4f748a3d2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82e79986482a13c271c28512a4196aadfddcd8f6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82e79986482a13c271c28512a4196aadfddcd8f6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=82e79986482a13c271c28512a4196aadfddcd8f6", "patch": "@@ -1,3 +1,7 @@\n+2004-10-07  Paul Brook  <paul@codesourcery.com>\n+\n+\t* gfortran.dg/intrinsic_verify_1.f90: New test.\n+\n 2004-10-07  Paul Brook  <paul@codesourcery.com>\n \n \t* gfortran.dg/empty_format_1.f90: Remove stray commas."}, {"sha": "c894043de081bfd2a6f8ec5b10dab87efe8b6164", "filename": "gcc/testsuite/gfortran.dg/intrinsic_verify_1.f90", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82e79986482a13c271c28512a4196aadfddcd8f6/gcc%2Ftestsuite%2Fgfortran.dg%2Fintrinsic_verify_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82e79986482a13c271c28512a4196aadfddcd8f6/gcc%2Ftestsuite%2Fgfortran.dg%2Fintrinsic_verify_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fintrinsic_verify_1.f90?ref=82e79986482a13c271c28512a4196aadfddcd8f6", "patch": "@@ -0,0 +1,12 @@\n+! { dg-do run }\n+! Test the verify intrinsic.  We were ignoring the last character.\n+program prog\n+  character(len=1) :: c1\n+  character(len=4) :: c4\n+  c1 = \"E\"\n+  if (verify(c1, \"1\") .ne. 1) call abort\n+  c4 = \"ABBA\"\n+  if (verify(c4, \"A\") .ne. 2) call abort\n+  if (verify(c4, \"A\", back = .true.) .ne. 3) call abort\n+  if (verify(c4, \"AB\") .ne. 0) call abort\n+end program"}, {"sha": "f361408a50399243cbcccdd853672ca647765105", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82e79986482a13c271c28512a4196aadfddcd8f6/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82e79986482a13c271c28512a4196aadfddcd8f6/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=82e79986482a13c271c28512a4196aadfddcd8f6", "patch": "@@ -1,3 +1,8 @@\n+2004-10-07  Paul Brook  <paul@codesourcery.com>\n+\n+\t* intrinsics/string_intrinsics.c (string_verify): Fix off by one\n+\terror.\n+\n 2004-10-06  Paul Brook  <paul@codesourcery.com>\n \n \tPR libfortran/17709"}, {"sha": "ac70a9bb8734f929795d1c2f6760f72ed9b80832", "filename": "libgfortran/intrinsics/string_intrinsics.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/82e79986482a13c271c28512a4196aadfddcd8f6/libgfortran%2Fintrinsics%2Fstring_intrinsics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/82e79986482a13c271c28512a4196aadfddcd8f6/libgfortran%2Fintrinsics%2Fstring_intrinsics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Fstring_intrinsics.c?ref=82e79986482a13c271c28512a4196aadfddcd8f6", "patch": "@@ -346,17 +346,16 @@ string_verify (GFC_INTEGER_4 slen, const char * str, GFC_INTEGER_4 setlen,\n \n   if (back)\n     {\n-      last =  0;\n+      last = -1;\n       start = slen - 1;\n       delta = -1;\n     }\n   else\n     {\n-      last = slen - 1;\n+      last = slen;\n       start = 0;\n       delta = 1;\n     }\n-  i = 0;\n   for (; start != last; start += delta)\n     {\n       for (i = 0; i < setlen; i++)"}]}