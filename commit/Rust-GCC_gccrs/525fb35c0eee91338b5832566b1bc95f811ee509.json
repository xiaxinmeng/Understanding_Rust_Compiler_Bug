{"sha": "525fb35c0eee91338b5832566b1bc95f811ee509", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTI1ZmIzNWMwZWVlOTEzMzhiNTgzMjU2NmIxYmM5NWY4MTFlZTUwOQ==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2010-08-30T11:13:05Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2010-08-30T11:13:05Z"}, "message": "re PR tree-optimization/45449 (-fcompare-debug failure with -O2 -fno-tree-pre -fno-tree-pta)\n\n2010-08-30  Richard Guenther  <rguenther@suse.de>\n\n\tPR tree-optimization/45449\n\t* tree-ssa-live.c (remove_unused_locals): Also remove address-taken\n\tvariables.\n\n\t* gcc.dg/pr45449.c: New testcase.\n\nFrom-SVN: r163638", "tree": {"sha": "3cdbc81f740cf52e3d8329af4dd9a113b4d582ad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3cdbc81f740cf52e3d8329af4dd9a113b4d582ad"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/525fb35c0eee91338b5832566b1bc95f811ee509", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/525fb35c0eee91338b5832566b1bc95f811ee509", "html_url": "https://github.com/Rust-GCC/gccrs/commit/525fb35c0eee91338b5832566b1bc95f811ee509", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/525fb35c0eee91338b5832566b1bc95f811ee509/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "184eb658fe5d4897c705d28ad01c3bd51e8fc62f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/184eb658fe5d4897c705d28ad01c3bd51e8fc62f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/184eb658fe5d4897c705d28ad01c3bd51e8fc62f"}], "stats": {"total": 42, "additions": 35, "deletions": 7}, "files": [{"sha": "e4e5f4c298120aef5aa8f5cb0bcb65c78be5b875", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/525fb35c0eee91338b5832566b1bc95f811ee509/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/525fb35c0eee91338b5832566b1bc95f811ee509/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=525fb35c0eee91338b5832566b1bc95f811ee509", "patch": "@@ -1,3 +1,9 @@\n+2010-08-30  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR tree-optimization/45449\n+\t* tree-ssa-live.c (remove_unused_locals): Also remove address-taken\n+\tvariables.\n+\n 2010-08-30  Joseph Myers  <joseph@codesourcery.com>\n \n \t* opts.h (CL_ERR_NEGATIVE): Define."}, {"sha": "f01e477c3c622d3525c34710a728403e7437f962", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/525fb35c0eee91338b5832566b1bc95f811ee509/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/525fb35c0eee91338b5832566b1bc95f811ee509/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=525fb35c0eee91338b5832566b1bc95f811ee509", "patch": "@@ -1,3 +1,8 @@\n+2010-08-30  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR tree-optimization/45449\n+\t* gcc.dg/pr45449.c: New testcase.\n+\n 2010-08-30  Joseph Myers  <joseph@codesourcery.com>\n \n \t* gcc.dg/opts-1.c: Expect errors, not warnings."}, {"sha": "d7b69a1827e9d248a30183a92836fec5cf6e5bcd", "filename": "gcc/testsuite/gcc.dg/pr45449.c", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/525fb35c0eee91338b5832566b1bc95f811ee509/gcc%2Ftestsuite%2Fgcc.dg%2Fpr45449.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/525fb35c0eee91338b5832566b1bc95f811ee509/gcc%2Ftestsuite%2Fgcc.dg%2Fpr45449.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr45449.c?ref=525fb35c0eee91338b5832566b1bc95f811ee509", "patch": "@@ -0,0 +1,22 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fno-tree-pre -fno-tree-pta -fcompare-debug\" } */\n+\n+struct S\n+{\n+};\n+\n+void\n+baz (void)\n+{\n+  struct S s;\n+  &s;\n+}\n+\n+int bar (void);\n+\n+void\n+foo (void)\n+{\n+  if (bar ())\n+    baz ();\n+}"}, {"sha": "821be7f2a8eb9939dbaae0bfba58a78f0bc866b2", "filename": "gcc/tree-ssa-live.c", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/525fb35c0eee91338b5832566b1bc95f811ee509/gcc%2Ftree-ssa-live.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/525fb35c0eee91338b5832566b1bc95f811ee509/gcc%2Ftree-ssa-live.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-live.c?ref=525fb35c0eee91338b5832566b1bc95f811ee509", "patch": "@@ -813,18 +813,13 @@ remove_unused_locals (void)\n       BITMAP_FREE (global_unused_vars);\n     }\n \n-  /* Remove unused variables from REFERENCED_VARs.  As a special\n-     exception keep the variables that are believed to be aliased.\n-     Those can't be easily removed from the alias sets and operand\n-     caches.  They will be removed shortly after the next may_alias\n-     pass is performed.  */\n+  /* Remove unused variables from REFERENCED_VARs.  */\n   FOR_EACH_REFERENCED_VAR (t, rvi)\n     if (!is_global_var (t)\n \t&& TREE_CODE (t) != PARM_DECL\n \t&& TREE_CODE (t) != RESULT_DECL\n \t&& !(ann = var_ann (t))->used\n-\t&& !ann->is_heapvar\n-\t&& !TREE_ADDRESSABLE (t))\n+\t&& !ann->is_heapvar)\n       remove_referenced_var (t);\n   remove_unused_scope_block_p (DECL_INITIAL (current_function_decl));\n   if (dump_file && (dump_flags & TDF_DETAILS))"}]}