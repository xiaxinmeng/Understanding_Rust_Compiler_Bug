{"sha": "bb347ee22758f2fa8d657ff42519e878915b64cc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmIzNDdlZTIyNzU4ZjJmYThkNjU3ZmY0MjUxOWU4Nzg5MTViNjRjYw==", "commit": {"author": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2018-04-04T09:26:13Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2018-04-04T09:26:13Z"}, "message": "re PR libfortran/85166 ([nvptx, libgfortran] Libgomp fortran tests using stop in offloaded fns fail to compile)\n\n2018-04-04  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\tPR libfortran/85166\n\t* runtime/minimal.c (stop_numeric): Add new function in order to\n\timplement numeric stop on minimal targets.\n\nFrom-SVN: r259072", "tree": {"sha": "527421e61a97b4f248f102f84b90e93746f0416d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/527421e61a97b4f248f102f84b90e93746f0416d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bb347ee22758f2fa8d657ff42519e878915b64cc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb347ee22758f2fa8d657ff42519e878915b64cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb347ee22758f2fa8d657ff42519e878915b64cc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb347ee22758f2fa8d657ff42519e878915b64cc/comments", "author": null, "committer": null, "parents": [{"sha": "76dc9cb5971da64985103f737c5d163ef97d2d6b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76dc9cb5971da64985103f737c5d163ef97d2d6b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/76dc9cb5971da64985103f737c5d163ef97d2d6b"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "367c554275ced89b2c1b4b4321737669db218374", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb347ee22758f2fa8d657ff42519e878915b64cc/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb347ee22758f2fa8d657ff42519e878915b64cc/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=bb347ee22758f2fa8d657ff42519e878915b64cc", "patch": "@@ -1,3 +1,9 @@\n+2018-04-04  Thomas Koenig  <tkoenig@gcc.gnu.org>\n+\n+\tPR libfortran/85166\n+\t* runtime/minimal.c (stop_numeric): Add new function in order to\n+\timplement numeric stop on minimal targets.\n+\n 2018-03-28  Jakub Jelinek  <jakub@redhat.com>\n \n \t* io/io.h (IOPARM_DT_DEFAULT_EXP): Rename to ..."}, {"sha": "e17666b7b82e88463b6f48993171220e0fa37a16", "filename": "libgfortran/runtime/minimal.c", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb347ee22758f2fa8d657ff42519e878915b64cc/libgfortran%2Fruntime%2Fminimal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb347ee22758f2fa8d657ff42519e878915b64cc/libgfortran%2Fruntime%2Fminimal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fruntime%2Fminimal.c?ref=bb347ee22758f2fa8d657ff42519e878915b64cc", "patch": "@@ -187,3 +187,17 @@ sys_abort (void)\n \n   abort();\n }\n+\n+/* A numeric STOP statement.  */\n+\n+extern _Noreturn void stop_numeric (int, bool);\n+export_proto(stop_numeric);\n+\n+void\n+stop_numeric (int code, bool quiet)\n+{\n+  if (!quiet)\n+    printf (\"STOP %d\\n\", code);\n+\n+  exit (code);\n+}"}]}