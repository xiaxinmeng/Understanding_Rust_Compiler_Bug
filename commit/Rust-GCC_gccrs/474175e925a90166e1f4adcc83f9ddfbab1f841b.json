{"sha": "474175e925a90166e1f4adcc83f9ddfbab1f841b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDc0MTc1ZTkyNWE5MDE2NmUxZjRhZGNjODNmOWRkZmJhYjFmODQxYg==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2019-01-31T03:37:16Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2019-01-31T03:37:16Z"}, "message": "re PR fortran/52564 (Accepts invalid: Missing I/O list after comma)\n\n2019-01-30  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR fortran/52564\n\t* io.c (match_io): Add check for comma after '*' without subsequent\n\tIO list.\n\n\t* gfortran.dg/print_2.f90: New test.\n\nFrom-SVN: r268412", "tree": {"sha": "e10c552e4cb0b02f4e9b384e86ec361ca06ce01b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e10c552e4cb0b02f4e9b384e86ec361ca06ce01b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/474175e925a90166e1f4adcc83f9ddfbab1f841b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/474175e925a90166e1f4adcc83f9ddfbab1f841b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/474175e925a90166e1f4adcc83f9ddfbab1f841b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/474175e925a90166e1f4adcc83f9ddfbab1f841b/comments", "author": null, "committer": null, "parents": [{"sha": "f7478e4e33252da20e97138c7f1503e7706f300b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7478e4e33252da20e97138c7f1503e7706f300b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7478e4e33252da20e97138c7f1503e7706f300b"}], "stats": {"total": 35, "additions": 35, "deletions": 0}, "files": [{"sha": "c78e32af1731cdf2d5933e1b5aa2827a1174f518", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/474175e925a90166e1f4adcc83f9ddfbab1f841b/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/474175e925a90166e1f4adcc83f9ddfbab1f841b/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=474175e925a90166e1f4adcc83f9ddfbab1f841b", "patch": "@@ -1,3 +1,9 @@\n+2019-01-30  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/52564\n+\t* io.c (match_io): Add check for comma after '*' without subsequent\n+\tIO list.\n+\n 2019-01-30  Dominique d'Humieres  <dominiq@gcc.gnu.org>\n \n \tPR fortran/52884"}, {"sha": "95b3013220350513d0727435d169b2f17bf256fc", "filename": "gcc/fortran/io.c", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/474175e925a90166e1f4adcc83f9ddfbab1f841b/gcc%2Ffortran%2Fio.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/474175e925a90166e1f4adcc83f9ddfbab1f841b/gcc%2Ffortran%2Fio.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fio.c?ref=474175e925a90166e1f4adcc83f9ddfbab1f841b", "patch": "@@ -4172,6 +4172,23 @@ match_io (io_kind k)\n \t      else\n \t\tgfc_current_locus = where;\n \t    }\n+\n+\t  if (gfc_match_char ('*') == MATCH_YES\n+\t      && gfc_match_char(',') == MATCH_YES)\n+\t    {\n+\t      locus where2 = gfc_current_locus;\n+\t      if (gfc_match_eos () == MATCH_YES)\n+\t\t{\n+\t\t  gfc_current_locus = where2;\n+\t\t  gfc_error (\"Comma after * at %C not allowed without I/O list\");\n+\t\t  m = MATCH_ERROR;\n+\t\t  goto cleanup;\n+\t\t}\n+\t      else\n+\t\tgfc_current_locus = where;\n+\t    }\n+\t  else\n+\t    gfc_current_locus = where;\n \t}\n \n       if (gfc_current_form == FORM_FREE)"}, {"sha": "917c13e57a2081195cb16633b04b13f25c409aff", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/474175e925a90166e1f4adcc83f9ddfbab1f841b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/474175e925a90166e1f4adcc83f9ddfbab1f841b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=474175e925a90166e1f4adcc83f9ddfbab1f841b", "patch": "@@ -1,3 +1,8 @@\n+2019-01-30  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/52564\n+\t* gfortran.dg/print_2.f90: New test.\n+\n 2019-01-30  Vladimir Makarov  <vmakarov@redhat.com>\n \n \tPR rtl-optimization/87246"}, {"sha": "4befedf4c22cb56f0cd9db22750f30eedf0d2a6c", "filename": "gcc/testsuite/gfortran.dg/print_2.f90", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/474175e925a90166e1f4adcc83f9ddfbab1f841b/gcc%2Ftestsuite%2Fgfortran.dg%2Fprint_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/474175e925a90166e1f4adcc83f9ddfbab1f841b/gcc%2Ftestsuite%2Fgfortran.dg%2Fprint_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fprint_2.f90?ref=474175e925a90166e1f4adcc83f9ddfbab1f841b", "patch": "@@ -0,0 +1,7 @@\n+! { dg-do compile }\n+! PR52564 Accepts invalid: Missing I/O list after comma \n+program printbug\n+  print *, 'hello world'\n+! the following line should not compile:\n+  print *,  ! { dg-error \"not allowed\" }\n+end program"}]}