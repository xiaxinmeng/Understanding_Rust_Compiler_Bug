{"sha": "982a975ec6324fc5b51f639d537c13a96be4ebc6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTgyYTk3NWVjNjMyNGZjNWI1MWY2MzlkNTM3YzEzYTk2YmU0ZWJjNg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-07-04T06:56:42Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-07-04T06:56:42Z"}, "message": "(primary): In statement expression case,\n\nif compstmt returns something other than a BLOCK,\nreturn it unchanged.\n\nFrom-SVN: r4838", "tree": {"sha": "e6a4f2a66858d31066a5c1e141f3958ff9b60f6d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e6a4f2a66858d31066a5c1e141f3958ff9b60f6d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/982a975ec6324fc5b51f639d537c13a96be4ebc6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/982a975ec6324fc5b51f639d537c13a96be4ebc6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/982a975ec6324fc5b51f639d537c13a96be4ebc6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/982a975ec6324fc5b51f639d537c13a96be4ebc6/comments", "author": null, "committer": null, "parents": [{"sha": "5d5c854105ab9b3ad4600e280eab5499cb560831", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d5c854105ab9b3ad4600e280eab5499cb560831", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d5c854105ab9b3ad4600e280eab5499cb560831"}], "stats": {"total": 19, "additions": 12, "deletions": 7}, "files": [{"sha": "81450fb87996f9d0e0c35cb007941bb8f72e71b4", "filename": "gcc/c-parse.in", "status": "modified", "additions": 12, "deletions": 7, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/982a975ec6324fc5b51f639d537c13a96be4ebc6/gcc%2Fc-parse.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/982a975ec6324fc5b51f639d537c13a96be4ebc6/gcc%2Fc-parse.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parse.in?ref=982a975ec6324fc5b51f639d537c13a96be4ebc6", "patch": "@@ -727,13 +727,18 @@ end ifobjc\n \t\t  /* The statements have side effects, so the group does.  */\n \t\t  TREE_SIDE_EFFECTS (rtl_exp) = 1;\n \n-\t\t  /* Make a BIND_EXPR for the BLOCK already made.  */\n-\t\t  $$ = build (BIND_EXPR, TREE_TYPE (rtl_exp),\n-\t\t\t      NULL_TREE, rtl_exp, $3);\n-\t\t  /* Remove the block from the tree at this point.\n-\t\t     It gets put back at the proper place\n-\t\t     when the BIND_EXPR is expanded.  */\n-\t\t  delete_block ($3);\n+\t\t  if (TREE_CODE ($3) == BLOCK)\n+\t\t    {\n+\t\t      /* Make a BIND_EXPR for the BLOCK already made.  */\n+\t\t      $$ = build (BIND_EXPR, TREE_TYPE (rtl_exp),\n+\t\t\t\t  NULL_TREE, rtl_exp, $3);\n+\t\t      /* Remove the block from the tree at this point.\n+\t\t\t It gets put back at the proper place\n+\t\t\t when the BIND_EXPR is expanded.  */\n+\t\t      delete_block ($3);\n+\t\t    }\n+\t\t  else\n+\t\t    $$ = $3;\n \t\t}\n \t| primary '(' exprlist ')'   %prec '.'\n \t\t{ $$ = build_function_call ($1, $3); }"}]}