{"sha": "5dd0f480ae41ba813754743c0f040c030be62987", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWRkMGY0ODBhZTQxYmE4MTM3NTQ3NDNjMGYwNDBjMDMwYmU2Mjk4Nw==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@bitrange.com", "date": "2000-11-04T07:35:33Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2000-11-04T07:35:33Z"}, "message": "hashtab.h (struct htab): Add member return_allocation_failure.\n\n\t* hashtab.h (struct htab): Add member return_allocation_failure.\n\t(htab_try_create): New prototype.  Mention which functions may\n\treturn NULL when this is used.\n\nFrom-SVN: r37246", "tree": {"sha": "7b07fca6d38494e0493164e173efc3013e1a383a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7b07fca6d38494e0493164e173efc3013e1a383a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5dd0f480ae41ba813754743c0f040c030be62987", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dd0f480ae41ba813754743c0f040c030be62987", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5dd0f480ae41ba813754743c0f040c030be62987", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dd0f480ae41ba813754743c0f040c030be62987/comments", "author": null, "committer": null, "parents": [{"sha": "de9aefe0ea12b597e184de70cdc318dfcd4ba742", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de9aefe0ea12b597e184de70cdc318dfcd4ba742", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de9aefe0ea12b597e184de70cdc318dfcd4ba742"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "73b89965f000e188a0f18102fb95d4fd2c1e706e", "filename": "include/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5dd0f480ae41ba813754743c0f040c030be62987/include%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5dd0f480ae41ba813754743c0f040c030be62987/include%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2FChangeLog?ref=5dd0f480ae41ba813754743c0f040c030be62987", "patch": "@@ -1,3 +1,9 @@\n+2000-11-04  Hans-Peter Nilsson  <hp@bitrange.com>\n+\n+\t* hashtab.h (struct htab): Add member return_allocation_failure.\n+\t(htab_try_create): New prototype.  Mention which functions may\n+\treturn NULL when this is used.\n+\n 2000-11-03  Hans-Peter Nilsson  <hp@bitrange.com>\n \n \t* hashtab.h: Change void * to PTR where necessary."}, {"sha": "a577c5e2afe644c5d60763dbc2a2d75b4bdb6d65", "filename": "include/hashtab.h", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5dd0f480ae41ba813754743c0f040c030be62987/include%2Fhashtab.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5dd0f480ae41ba813754743c0f040c030be62987/include%2Fhashtab.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2Fhashtab.h?ref=5dd0f480ae41ba813754743c0f040c030be62987", "patch": "@@ -98,6 +98,10 @@ struct htab\n   /* The following member is used for debugging.  Its value is number\n      of collisions fixed for time of work with the hash table. */\n   unsigned int collisions;\n+\n+  /* This is non-zero if we are allowed to return NULL for function calls\n+     that allocate memory.  */\n+  int return_allocation_failure;\n };\n \n typedef struct htab *htab_t;\n@@ -109,6 +113,12 @@ enum insert_option {NO_INSERT, INSERT};\n \n extern htab_t\thtab_create\tPARAMS ((size_t, htab_hash,\n \t\t\t\t\t htab_eq, htab_del));\n+\n+/* This function is like htab_create, but may return NULL if memory\n+   allocation fails, and also signals that htab_find_slot_with_hash and\n+   htab_find_slot are allowed to return NULL when inserting.  */\n+extern htab_t\thtab_try_create\tPARAMS ((size_t, htab_hash,\n+\t\t\t\t\t htab_eq, htab_del));\n extern void\thtab_delete\tPARAMS ((htab_t));\n extern void\thtab_empty\tPARAMS ((htab_t));\n "}]}