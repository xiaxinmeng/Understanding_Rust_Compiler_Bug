{"sha": "2d6b61cb6ea59cc5fb83db43abbc53d737f13901", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmQ2YjYxY2I2ZWE1OWNjNWZiODNkYjQzYWJiYzUzZDczN2YxMzkwMQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "1999-07-20T00:41:56Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1999-07-20T00:41:56Z"}, "message": "iris6gld.h (MAKE_DECL_ONE_ONLY): Define.\n\n\t* config/mips/iris6gld.h (MAKE_DECL_ONE_ONLY): Define.\n\t(UNIQUE_SECTION_P): Likewise.\n\t(UNIQUE_SECTION): Likewise.\n\nFrom-SVN: r28182", "tree": {"sha": "379ddca64f87df426d5a2c6f83a8c27f446e5606", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/379ddca64f87df426d5a2c6f83a8c27f446e5606"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2d6b61cb6ea59cc5fb83db43abbc53d737f13901", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d6b61cb6ea59cc5fb83db43abbc53d737f13901", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d6b61cb6ea59cc5fb83db43abbc53d737f13901", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d6b61cb6ea59cc5fb83db43abbc53d737f13901/comments", "author": null, "committer": null, "parents": [{"sha": "66191c20ee094395d51eaa90465bfb4b4d23eb8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66191c20ee094395d51eaa90465bfb4b4d23eb8c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/66191c20ee094395d51eaa90465bfb4b4d23eb8c"}], "stats": {"total": 41, "additions": 41, "deletions": 0}, "files": [{"sha": "9b7d8a62b1ddb37cb1005a3eef62a9bfa19560de", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d6b61cb6ea59cc5fb83db43abbc53d737f13901/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d6b61cb6ea59cc5fb83db43abbc53d737f13901/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2d6b61cb6ea59cc5fb83db43abbc53d737f13901", "patch": "@@ -1,3 +1,9 @@\n+Mon Jul 19 14:22:18 1999  Mark P. Mitchell  <mark@codesourcery.com>\n+\n+\t* config/mips/iris6gld.h (MAKE_DECL_ONE_ONLY): Define.\n+\t(UNIQUE_SECTION_P): Likewise.\n+\t(UNIQUE_SECTION): Likewise.\n+\n 1999-07-19  Linas Vepstas  <linas@linas.org>\n \n \t* config/i370/README: New file."}, {"sha": "88a5f68e2063be4299d3d4f7a0bc99362b112398", "filename": "gcc/config/mips/iris6gld.h", "status": "modified", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d6b61cb6ea59cc5fb83db43abbc53d737f13901/gcc%2Fconfig%2Fmips%2Firis6gld.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d6b61cb6ea59cc5fb83db43abbc53d737f13901/gcc%2Fconfig%2Fmips%2Firis6gld.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firis6gld.h?ref=2d6b61cb6ea59cc5fb83db43abbc53d737f13901", "patch": "@@ -46,3 +46,38 @@ Boston, MA 02111-1307, USA.  */\n   %{!shared: %{!non_shared: %{!call_shared: -call_shared}}}} \\\n %{rpath} -init __do_global_ctors -fini __do_global_dtors \\\n %{mabi=32: -melf32bsmip}%{mabi=n32: -melfbmipn32}%{mabi=64: -melf64bmip}%{!mabi*: -melf32bmipn32}\"\n+\n+/* The GNU linker supports one-only sections.  */\n+#define MAKE_DECL_ONE_ONLY(DECL) (DECL_WEAK (DECL) = 1)\n+#undef UNIQUE_SECTION_P\n+#define UNIQUE_SECTION_P(DECL) (DECL_ONE_ONLY (DECL))\n+#define UNIQUE_SECTION(DECL,RELOC)\t\t\t\t\\\n+do {\t\t\t\t\t\t\t\t\\\n+  int len;\t\t\t\t\t\t\t\\\n+  char *name, *string, *prefix;\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+  name = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (DECL));\t\\\n+\t\t\t\t\t\t\t\t\\\n+  if (! DECL_ONE_ONLY (DECL))\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      prefix = \".\";                                             \\\n+      if (TREE_CODE (DECL) == FUNCTION_DECL)\t\t\t\\\n+\tprefix = \".text.\";\t\t\t\t\t\\\n+      else if (DECL_READONLY_SECTION (DECL, RELOC))\t\t\\\n+\tprefix = \".rodata.\";\t\t\t\t\t\\\n+      else\t\t\t\t\t\t\t\\\n+\tprefix = \".data.\";\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+  else if (TREE_CODE (DECL) == FUNCTION_DECL)\t\t\t\\\n+    prefix = \".gnu.linkonce.t.\";\t\t\t\t\\\n+  else if (DECL_READONLY_SECTION (DECL, RELOC))\t\t\t\\\n+    prefix = \".gnu.linkonce.r.\";\t\t\t\t\\\n+  else\t\t\t\t\t\t\t\t\\\n+    prefix = \".gnu.linkonce.d.\";\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+  len = strlen (name) + strlen (prefix);\t\t\t\\\n+  string = alloca (len + 1);\t\t\t\t\t\\\n+  sprintf (string, \"%s%s\", prefix, name);\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+  DECL_SECTION_NAME (DECL) = build_string (len, string);\t\\\n+} while (0)"}]}