{"sha": "a19fac96a2f50a673543ec79d8bce42d63df6d8f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTE5ZmFjOTZhMmY1MGE2NzM1NDNlYzc5ZDhiY2U0MmQ2M2RmNmQ4Zg==", "commit": {"author": {"name": "Nicola Pero", "email": "nicola.pero@meta-innovation.com", "date": "2010-09-11T12:58:27Z"}, "committer": {"name": "Nicola Pero", "email": "nicola@gcc.gnu.org", "date": "2010-09-11T12:58:27Z"}, "message": "In libobjc/:\n\n        * objc/runtime.h: Moved to objc-private/runtime.h.  Do not include\n        all the objc/*.h files.\n        * objc-private/runtime.h: New file.\n        * archive.c: Include objc-private/runtime.h (and required objc/*.h\n        files) instead of objc/runtime.h.\n        * class.c: Same change.\n        * hash.c: Same change.\n        * init.c: Same change.\n        * misc.c: Same change.\n        * nil_method.c: Same change.\n        * objects.c: Same change.\n        * sarray.c: Same change.\n        * selector.c: Same change.\n        * sendmsg.c: Same change.\n        * thr.c: Same change.\n\nFrom-SVN: r164213", "tree": {"sha": "16546ea895990a00127d9bea6e85a7b88b99854e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/16546ea895990a00127d9bea6e85a7b88b99854e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a19fac96a2f50a673543ec79d8bce42d63df6d8f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a19fac96a2f50a673543ec79d8bce42d63df6d8f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a19fac96a2f50a673543ec79d8bce42d63df6d8f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a19fac96a2f50a673543ec79d8bce42d63df6d8f/comments", "author": {"login": "Nico-31415", "id": 94470564, "node_id": "U_kgDOBaGBpA", "avatar_url": "https://avatars.githubusercontent.com/u/94470564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nico-31415", "html_url": "https://github.com/Nico-31415", "followers_url": "https://api.github.com/users/Nico-31415/followers", "following_url": "https://api.github.com/users/Nico-31415/following{/other_user}", "gists_url": "https://api.github.com/users/Nico-31415/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nico-31415/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nico-31415/subscriptions", "organizations_url": "https://api.github.com/users/Nico-31415/orgs", "repos_url": "https://api.github.com/users/Nico-31415/repos", "events_url": "https://api.github.com/users/Nico-31415/events{/privacy}", "received_events_url": "https://api.github.com/users/Nico-31415/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3d0d87390b1aad25556c927130ef0ec6890439e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d0d87390b1aad25556c927130ef0ec6890439e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d0d87390b1aad25556c927130ef0ec6890439e8"}], "stats": {"total": 114, "additions": 92, "deletions": 22}, "files": [{"sha": "784056bf1e5b0bb60124660a4dfba2fc730473e2", "filename": "libobjc/ChangeLog", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FChangeLog?ref=a19fac96a2f50a673543ec79d8bce42d63df6d8f", "patch": "@@ -1,3 +1,21 @@\n+2010-09-11  Nicola Pero  <nicola.pero@meta-innovation.com>\n+\n+\t* objc/runtime.h: Moved to objc-private/runtime.h.  Do not include\n+\tall the objc/*.h files.\n+\t* objc-private/runtime.h: New file.\n+\t* archive.c: Include objc-private/runtime.h (and required objc/*.h\n+\tfiles) instead of objc/runtime.h.\n+\t* class.c: Same change.\n+\t* hash.c: Same change.\n+\t* init.c: Same change.\n+\t* misc.c: Same change.\n+\t* nil_method.c: Same change.\n+\t* objects.c: Same change.\n+\t* sarray.c: Same change.\n+\t* selector.c: Same change.\n+\t* sendmsg.c: Same change.\n+\t* thr.c: Same change.\n+\t\n 2010-09-11  Nicola Pero  <nicola.pero@meta-innovation.com>\n \n \t* objc/deprecated/struct_objc_selector.h: New file.  Definition of"}, {"sha": "5275c63042b4b9c27de6d306819eb658d758dc73", "filename": "libobjc/archive.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Farchive.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Farchive.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Farchive.c?ref=a19fac96a2f50a673543ec79d8bce42d63df6d8f", "patch": "@@ -23,7 +23,12 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n <http://www.gnu.org/licenses/>.  */\n \n #include \"tconfig.h\"\n-#include \"objc/runtime.h\"\n+#include \"objc/objc.h\"\n+#include \"objc/objc-api.h\"\n+#include \"objc/thr.h\"\n+#include \"objc/hash.h\"\n+#include \"objc/objc-list.h\" \n+#include \"objc-private/runtime.h\"\n #include \"objc/typedstream.h\"\n #include \"objc/encoding.h\"\n #include <stdlib.h>"}, {"sha": "f3bb07b1980f8e305e155b4a2575887b0de185b6", "filename": "libobjc/class.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fclass.c?ref=a19fac96a2f50a673543ec79d8bce42d63df6d8f", "patch": "@@ -87,12 +87,13 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n   classes from the table - and the difficult thing with lock-free data\n   structures is freeing data when is removed from the structures.  */\n \n-#include \"objc/runtime.h\"            /* the kitchen sink */\n-#include \"objc/sarray.h\"\n-\n #include \"objc/objc.h\"\n #include \"objc/objc-api.h\"\n #include \"objc/thr.h\"\n+#include \"objc/hash.h\"\n+#include \"objc/objc-list.h\" \n+#include \"objc-private/runtime.h\"            /* the kitchen sink */\n+#include \"objc/sarray.h\"\n \n /* We use a table which maps a class name to the corresponding class\n  * pointer.  The first part of this file defines this table, and"}, {"sha": "69b0b9f216271e67743813fd779aa94c4fcf213a", "filename": "libobjc/hash.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fhash.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fhash.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fhash.c?ref=a19fac96a2f50a673543ec79d8bce42d63df6d8f", "patch": "@@ -24,9 +24,12 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n #include \"assert.h\"\n \n+#include \"objc/objc.h\"\n+#include \"objc/objc-api.h\"\n+#include \"objc/thr.h\"\n #include \"objc/hash.h\"\n-\n-#include \"objc/runtime.h\"\t\t/* for DEBUG_PRINTF */\n+#include \"objc/objc-list.h\" \n+#include \"objc-private/runtime.h\"\t\t/* for DEBUG_PRINTF */\n \n /* These two macros determine when a hash table is full and\n    by how much it should be expanded respectively."}, {"sha": "ea6ab38569ea6a9f36dc7b21903595a1df9a9100", "filename": "libobjc/init.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Finit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Finit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Finit.c?ref=a19fac96a2f50a673543ec79d8bce42d63df6d8f", "patch": "@@ -24,7 +24,12 @@ a copy of the GCC Runtime Library Exception along with this program;\n see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n <http://www.gnu.org/licenses/>.  */\n \n-#include \"objc/runtime.h\"\n+#include \"objc/objc.h\"\n+#include \"objc/objc-api.h\"\n+#include \"objc/thr.h\"\n+#include \"objc/hash.h\"\n+#include \"objc/objc-list.h\" \n+#include \"objc-private/runtime.h\"\n \n /* The version number of this runtime.  This must match the number \n    defined in gcc (objc-act.c).  */"}, {"sha": "987acfc2e204fd11737f62006604a3c196e268d5", "filename": "libobjc/misc.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fmisc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fmisc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fmisc.c?ref=a19fac96a2f50a673543ec79d8bce42d63df6d8f", "patch": "@@ -27,7 +27,12 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n #define __USE_FIXED_PROTOTYPES__\n #include <stdlib.h>\n-#include \"objc/runtime.h\"\n+#include \"objc/objc.h\"\n+#include \"objc/objc-api.h\"\n+#include \"objc/thr.h\"\n+#include \"objc/hash.h\"\n+#include \"objc/objc-list.h\" \n+#include \"objc-private/runtime.h\"\n \n /*\n ** Error handler function"}, {"sha": "c58515baa5b7141a271cad92f521c28c965a085b", "filename": "libobjc/nil_method.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fnil_method.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fnil_method.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fnil_method.c?ref=a19fac96a2f50a673543ec79d8bce42d63df6d8f", "patch": "@@ -26,7 +26,12 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n /* This is the nil method, the function that is called when the receiver\n    of a method is nil */\n \n-#include \"objc/runtime.h\"\n+#include \"objc/objc.h\"\n+#include \"objc/objc-api.h\"\n+#include \"objc/thr.h\"\n+#include \"objc/hash.h\"\n+#include \"objc/objc-list.h\" \n+#include \"objc-private/runtime.h\"\n \n /* When the receiver of a method invocation is nil, the runtime\n    returns nil_method() as the method implementation.  This function"}, {"sha": "c924e4d49750b0f05e5c20160a9211752b1f4718", "filename": "libobjc/objc-private/runtime.h", "status": "renamed", "additions": 13, "deletions": 8, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fobjc-private%2Fruntime.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fobjc-private%2Fruntime.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fobjc-private%2Fruntime.h?ref=a19fac96a2f50a673543ec79d8bce42d63df6d8f", "patch": "@@ -22,6 +22,19 @@ a copy of the GCC Runtime Library Exception along with this program;\n see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n <http://www.gnu.org/licenses/>.  */\n \n+/* You need to include this file after including a number of standard ObjC files.\n+\n+The original list was:\n+\n+#include \"objc/objc.h\"\n+#include \"objc/objc-api.h\"\n+#include \"objc/thr.h\"\n+#include \"objc/hash.h\"\n+#include \"objc/objc-list.h\"\n+\n+but can almost certainly be shrinked down.\n+\n+*/\n \n #ifndef __objc_runtime_INCLUDE_GNU\n #define __objc_runtime_INCLUDE_GNU\n@@ -34,14 +47,6 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n #include <stddef.h>\t\t/* so noone else will get system versions */\n #include <assert.h>\n \n-#include \"objc.h\"\t\t/* core data types */\n-#include \"objc-api.h\"\t\t/* runtime api functions */\n-\n-#include \"thr.h\"\t\t/* thread and mutex support */\n-\n-#include \"hash.h\"\t\t/* hash structures */\n-#include \"objc-list.h\"\t\t/* linear lists */\n-\n #ifdef __cplusplus\n extern \"C\" {\n #endif /* __cplusplus */", "previous_filename": "libobjc/objc/runtime.h"}, {"sha": "10ac3a991022b6b87e0cdbf373a308137d1a6b7c", "filename": "libobjc/objects.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fobjects.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fobjects.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fobjects.c?ref=a19fac96a2f50a673543ec79d8bce42d63df6d8f", "patch": "@@ -25,7 +25,11 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n #include \"tconfig.h\"         /* include defs of bzero for target */\n #include \"objc/objc.h\"\n-#include \"objc/runtime.h\"\t\t/* the kitchen sink */\n+#include \"objc/objc-api.h\"\n+#include \"objc/thr.h\"\n+#include \"objc/hash.h\"\n+#include \"objc/objc-list.h\" \n+#include \"objc-private/runtime.h\"\t\t/* the kitchen sink */\n \n #if OBJC_WITH_GC\n # include <gc.h>"}, {"sha": "c4d7fbb6b364406a13879c23be8a894c09fceff1", "filename": "libobjc/sarray.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fsarray.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fsarray.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fsarray.c?ref=a19fac96a2f50a673543ec79d8bce42d63df6d8f", "patch": "@@ -24,7 +24,12 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n \n #include \"objc/sarray.h\"\n-#include \"objc/runtime.h\"\n+#include \"objc/objc.h\"\n+#include \"objc/objc-api.h\"\n+#include \"objc/thr.h\"\n+#include \"objc/hash.h\"\n+#include \"objc/objc-list.h\" \n+#include \"objc-private/runtime.h\"\n #include <stdio.h>\n #include \"assert.h\"\n "}, {"sha": "1b611419da7fe0533cd3ff1139c445081acf1f5a", "filename": "libobjc/selector.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fselector.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fselector.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fselector.c?ref=a19fac96a2f50a673543ec79d8bce42d63df6d8f", "patch": "@@ -23,7 +23,12 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n <http://www.gnu.org/licenses/>.  */\n \n \n-#include \"objc/runtime.h\"\n+#include \"objc/objc.h\"\n+#include \"objc/objc-api.h\"\n+#include \"objc/thr.h\"\n+#include \"objc/hash.h\"\n+#include \"objc/objc-list.h\" \n+#include \"objc-private/runtime.h\"\n #include \"objc/sarray.h\"\n #include \"objc/encoding.h\"\n "}, {"sha": "5b0d3604a7bf7f93b0a87f67648167f95d53f0f2", "filename": "libobjc/sendmsg.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fsendmsg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fsendmsg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fsendmsg.c?ref=a19fac96a2f50a673543ec79d8bce42d63df6d8f", "patch": "@@ -31,7 +31,12 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n #include \"tconfig.h\"\n #include \"coretypes.h\"\n #include \"tm.h\"\n-#include \"objc/runtime.h\"\n+#include \"objc/objc.h\"\n+#include \"objc/objc-api.h\"\n+#include \"objc/thr.h\"\n+#include \"objc/hash.h\"\n+#include \"objc/objc-list.h\"\n+#include \"objc-private/runtime.h\"\n #include \"objc/sarray.h\"\n #include \"objc/encoding.h\"\n #include \"runtime-info.h\""}, {"sha": "b2a896a0f4541f0c92a4a2b6e77456c074d25249", "filename": "libobjc/thr.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fthr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a19fac96a2f50a673543ec79d8bce42d63df6d8f/libobjc%2Fthr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fthr.c?ref=a19fac96a2f50a673543ec79d8bce42d63df6d8f", "patch": "@@ -36,7 +36,11 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n #include \"tm.h\"\n #include \"defaults.h\"\n #include \"objc/thr.h\"\n-#include \"objc/runtime.h\"\n+#include \"objc/objc.h\"\n+#include \"objc/objc-api.h\"\n+#include \"objc/hash.h\"\n+#include \"objc/objc-list.h\" \n+#include \"objc-private/runtime.h\"\n #include <gthr.h>\n \n #include <stdlib.h>"}]}