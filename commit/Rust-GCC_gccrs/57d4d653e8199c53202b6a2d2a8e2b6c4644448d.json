{"sha": "57d4d653e8199c53202b6a2d2a8e2b6c4644448d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTdkNGQ2NTNlODE5OWM1MzIwMmI2YTJkMmE4ZTJiNmM0NjQ0NDQ4ZA==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@linux.vnet.ibm.com", "date": "2013-10-31T12:10:01Z"}, "committer": {"name": "Yury Gribov", "email": "ygribov@gcc.gnu.org", "date": "2013-10-31T12:10:01Z"}, "message": "re PR sanitizer/58543 (Invalid unpoisoning of stack redzones on ARM)\n\n2013-10-31  Richard Sandiford  <rsandifo@linux.vnet.ibm.com>\n\t    Yury Gribov  <y.gribov@samsung.com>\n\n\tPR sanitizer/58543\n\t* asan.c (asan_clear_shadow): Allocate a new vreg for temporary\n\tshadow pointer to avoid clobbering the main one.\n\nCo-Authored-By: Yury Gribov <y.gribov@samsung.com>\n\nFrom-SVN: r204251", "tree": {"sha": "7438abbee1b4ca771f0ec316e0e4cd9ad092194f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7438abbee1b4ca771f0ec316e0e4cd9ad092194f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/57d4d653e8199c53202b6a2d2a8e2b6c4644448d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57d4d653e8199c53202b6a2d2a8e2b6c4644448d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57d4d653e8199c53202b6a2d2a8e2b6c4644448d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57d4d653e8199c53202b6a2d2a8e2b6c4644448d/comments", "author": null, "committer": null, "parents": [{"sha": "7dccc537ba7927aceef585179e2e3f6132029c96", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7dccc537ba7927aceef585179e2e3f6132029c96", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7dccc537ba7927aceef585179e2e3f6132029c96"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "6efde54b2e6a8794b36d54e503066e340165aad5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57d4d653e8199c53202b6a2d2a8e2b6c4644448d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57d4d653e8199c53202b6a2d2a8e2b6c4644448d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=57d4d653e8199c53202b6a2d2a8e2b6c4644448d", "patch": "@@ -1,3 +1,10 @@\n+2013-10-31  Richard Sandiford  <rsandifo@linux.vnet.ibm.com>\n+\t    Yury Gribov  <y.gribov@samsung.com>\n+\n+\tPR sanitizer/58543\n+\t* asan.c (asan_clear_shadow): Allocate a new vreg for temporary\n+\tshadow pointer to avoid clobbering the main one.\n+\n 2013-10-31  Zhenqiang Chen  <zhenqiang.chen@linaro.org>\n \n \t* lower-subreg.c (resolve_simple_move): Copy REG_INC note."}, {"sha": "81397198f6054d7149a7075908b16b767e077f14", "filename": "gcc/asan.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57d4d653e8199c53202b6a2d2a8e2b6c4644448d/gcc%2Fasan.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57d4d653e8199c53202b6a2d2a8e2b6c4644448d/gcc%2Fasan.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fasan.c?ref=57d4d653e8199c53202b6a2d2a8e2b6c4644448d", "patch": "@@ -898,7 +898,7 @@ asan_clear_shadow (rtx shadow_mem, HOST_WIDE_INT len)\n \n   gcc_assert ((len & 3) == 0);\n   top_label = gen_label_rtx ();\n-  addr = force_reg (Pmode, XEXP (shadow_mem, 0));\n+  addr = copy_to_mode_reg (Pmode, XEXP (shadow_mem, 0));\n   shadow_mem = adjust_automodify_address (shadow_mem, SImode, addr, 0);\n   end = force_reg (Pmode, plus_constant (Pmode, addr, len));\n   emit_label (top_label);"}]}