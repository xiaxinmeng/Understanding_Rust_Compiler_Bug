{"sha": "c184e58c4d1aec200954f00b067e5adecd787f2f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzE4NGU1OGM0ZDFhZWMyMDA5NTRmMDBiMDY3ZTVhZGVjZDc4N2YyZg==", "commit": {"author": {"name": "Prathamesh Kulkarni", "email": "prathamesh.kulkarni@linaro.org", "date": "2018-01-11T12:13:42Z"}, "committer": {"name": "Prathamesh Kulkarni", "email": "prathamesh3492@gcc.gnu.org", "date": "2018-01-11T12:13:42Z"}, "message": "re PR target/83514 (ABRT in arm_declare_function_name passing a null pointer to std::string)\n\n2018-01-11  Prathamesh Kulkarni  <prathamesh.kulkarni@linaro.org>\n\n\tPR target/83514\n\t* config/arm/arm.c (arm_declare_function_name): Set arch_to_print if\n\ttarg_options->x_arm_arch_string is non NULL.\n\nFrom-SVN: r256529", "tree": {"sha": "a28b8d88b7eb2a0cba2ea6e531b238bfc1617447", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a28b8d88b7eb2a0cba2ea6e531b238bfc1617447"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c184e58c4d1aec200954f00b067e5adecd787f2f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c184e58c4d1aec200954f00b067e5adecd787f2f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c184e58c4d1aec200954f00b067e5adecd787f2f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c184e58c4d1aec200954f00b067e5adecd787f2f/comments", "author": null, "committer": null, "parents": [{"sha": "bf6f2cc7be78a36b1648cdc9619b8fe98475825d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf6f2cc7be78a36b1648cdc9619b8fe98475825d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf6f2cc7be78a36b1648cdc9619b8fe98475825d"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "7ff69030e1ad989bf2973cc049b10de82e63de30", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c184e58c4d1aec200954f00b067e5adecd787f2f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c184e58c4d1aec200954f00b067e5adecd787f2f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c184e58c4d1aec200954f00b067e5adecd787f2f", "patch": "@@ -1,3 +1,9 @@\n+2018-01-11  Prathamesh Kulkarni  <prathamesh.kulkarni@linaro.org>\n+\n+\tPR target/83514\n+\t* config/arm/arm.c (arm_declare_function_name): Set arch_to_print if\n+\ttarg_options->x_arm_arch_string is non NULL.\n+\n 2018-01-11  Tamar Christina  <tamar.christina@arm.com>\n \n \t* config/aarch64/aarch64.h"}, {"sha": "978c44af327b6769c161eeee20ca08300e41d033", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c184e58c4d1aec200954f00b067e5adecd787f2f/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c184e58c4d1aec200954f00b067e5adecd787f2f/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=c184e58c4d1aec200954f00b067e5adecd787f2f", "patch": "@@ -30953,8 +30953,13 @@ arm_declare_function_name (FILE *stream, const char *name, tree decl)\n   gcc_assert (targ_options);\n \n   /* Only update the assembler .arch string if it is distinct from the last\n-     such string we printed.  */\n-  std::string arch_to_print = targ_options->x_arm_arch_string;\n+     such string we printed. arch_to_print is set conditionally in case\n+     targ_options->x_arm_arch_string is NULL which can be the case\n+     when cc1 is invoked directly without passing -march option.  */\n+  std::string arch_to_print;\n+  if (targ_options->x_arm_arch_string)\n+    arch_to_print = targ_options->x_arm_arch_string;\n+\n   if (arch_to_print != arm_last_printed_arch_string)\n     {\n       std::string arch_name"}]}