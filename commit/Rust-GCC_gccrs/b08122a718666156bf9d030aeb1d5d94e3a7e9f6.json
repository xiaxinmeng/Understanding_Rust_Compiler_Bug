{"sha": "b08122a718666156bf9d030aeb1d5d94e3a7e9f6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjA4MTIyYTcxODY2NjE1NmJmOWQwMzBhZWIxZDVkOTRlM2E3ZTlmNg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-11-10T08:00:48Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-11-10T08:00:48Z"}, "message": "* jni.cc (_Jv_GetJNIEnvNewFrame): Set env->ex in all cases.\n\nFrom-SVN: r58971", "tree": {"sha": "7a2449d70b3189ae9304a3d0ab34423d6e8ffd66", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7a2449d70b3189ae9304a3d0ab34423d6e8ffd66"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b08122a718666156bf9d030aeb1d5d94e3a7e9f6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b08122a718666156bf9d030aeb1d5d94e3a7e9f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b08122a718666156bf9d030aeb1d5d94e3a7e9f6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b08122a718666156bf9d030aeb1d5d94e3a7e9f6/comments", "author": null, "committer": null, "parents": [{"sha": "e9986d3ae28c561c4de3eaeb8957c2b6122b6f91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9986d3ae28c561c4de3eaeb8957c2b6122b6f91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e9986d3ae28c561c4de3eaeb8957c2b6122b6f91"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "3024eb0f3aa7221a77559667b05b0b09d4f675d5", "filename": "libjava/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b08122a718666156bf9d030aeb1d5d94e3a7e9f6/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b08122a718666156bf9d030aeb1d5d94e3a7e9f6/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=b08122a718666156bf9d030aeb1d5d94e3a7e9f6", "patch": "@@ -1,3 +1,7 @@\n+2002-11-10  Tom Tromey  <tromey@redhat.com>\n+\n+\t* jni.cc (_Jv_GetJNIEnvNewFrame): Set env->ex in all cases.\n+\n 2002-11-09  Tom Tromey  <tromey@redhat.com>\n \n \t* java/applet/Applet.java, java/applet/AppletContext.java,"}, {"sha": "000557875e1793a200c0958db5bd0f2a5296ed23", "filename": "libjava/jni.cc", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b08122a718666156bf9d030aeb1d5d94e3a7e9f6/libjava%2Fjni.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b08122a718666156bf9d030aeb1d5d94e3a7e9f6/libjava%2Fjni.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni.cc?ref=b08122a718666156bf9d030aeb1d5d94e3a7e9f6", "patch": "@@ -1984,9 +1984,9 @@ _Jv_GetJNIEnvNewFrame (jclass klass)\n     {\n       env = (JNIEnv *) _Jv_MallocUnchecked (sizeof (JNIEnv));\n       env->p = &_Jv_JNIFunctions;\n-      env->ex = NULL;\n       env->klass = klass;\n       env->locals = NULL;\n+      // We set env->ex below.\n \n       _Jv_SetCurrentJNIEnv (env);\n     }\n@@ -1999,11 +1999,13 @@ _Jv_GetJNIEnvNewFrame (jclass klass)\n   frame->marker = MARK_SYSTEM;\n   frame->size = FRAME_SIZE;\n   frame->next = env->locals;\n-  env->locals = frame;\n \n   for (int i = 0; i < frame->size; ++i)\n     frame->vec[i] = NULL;\n \n+  env->locals = frame;\n+  env->ex = NULL;\n+\n   return env;\n }\n "}]}