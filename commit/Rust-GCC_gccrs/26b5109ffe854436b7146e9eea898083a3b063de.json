{"sha": "26b5109ffe854436b7146e9eea898083a3b063de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjZiNTEwOWZmZTg1NDQzNmI3MTQ2ZTllZWE4OTgwODNhM2IwNjNkZQ==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard@codesourcery.com", "date": "2007-03-07T07:37:16Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2007-03-07T07:37:16Z"}, "message": "vxworks.h (VXWORKS_GOTT_BASE, [...]): Undefine before defining.\n\ngcc/\n\t* config/vxworks.h (VXWORKS_GOTT_BASE, VXWORKS_GOTT_INDEX): Undefine\n\tbefore defining.\n\t* config/vxworks-dummy.h: New file.\n\t* config/i386/i386.h: Include it.\n\nFrom-SVN: r122653", "tree": {"sha": "3853b5871fee695133821de7f2a0aecbc37dd03f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3853b5871fee695133821de7f2a0aecbc37dd03f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/26b5109ffe854436b7146e9eea898083a3b063de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26b5109ffe854436b7146e9eea898083a3b063de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26b5109ffe854436b7146e9eea898083a3b063de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26b5109ffe854436b7146e9eea898083a3b063de/comments", "author": null, "committer": null, "parents": [{"sha": "18fa3240db054b98ef9464cbcedb186d819217fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18fa3240db054b98ef9464cbcedb186d819217fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18fa3240db054b98ef9464cbcedb186d819217fd"}], "stats": {"total": 48, "additions": 44, "deletions": 4}, "files": [{"sha": "d23c823588ccea30d66b6a727ff711d99b10b7ba", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b5109ffe854436b7146e9eea898083a3b063de/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b5109ffe854436b7146e9eea898083a3b063de/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=26b5109ffe854436b7146e9eea898083a3b063de", "patch": "@@ -1,3 +1,10 @@\n+2007-03-06  Richard Sandiford  <richard@codesourcery.com>\n+\n+\t* config/vxworks.h (VXWORKS_GOTT_BASE, VXWORKS_GOTT_INDEX): Undefine\n+\tbefore defining.\n+\t* config/vxworks-dummy.h: New file.\n+\t* config/i386/i386.h: Include it.\n+\n 2007-03-07  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* dwarf2out.c (is_inlined_entry_point): New"}, {"sha": "b4352a10abd575af64e12364da22c9215b92df15", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b5109ffe854436b7146e9eea898083a3b063de/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b5109ffe854436b7146e9eea898083a3b063de/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=26b5109ffe854436b7146e9eea898083a3b063de", "patch": "@@ -20,6 +20,8 @@ along with GCC; see the file COPYING.  If not, write to\n the Free Software Foundation, 51 Franklin Street, Fifth Floor,\n Boston, MA 02110-1301, USA.  */\n \n+#include \"config/vxworks-dummy.h\"\n+\n /* Algorithm to expand string function with.  */\n enum stringop_alg\n {"}, {"sha": "f9098555ea44eb2d6db8a5b1aeffd0bad9747065", "filename": "gcc/config/vxworks-dummy.h", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b5109ffe854436b7146e9eea898083a3b063de/gcc%2Fconfig%2Fvxworks-dummy.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b5109ffe854436b7146e9eea898083a3b063de/gcc%2Fconfig%2Fvxworks-dummy.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvxworks-dummy.h?ref=26b5109ffe854436b7146e9eea898083a3b063de", "patch": "@@ -0,0 +1,31 @@\n+/* Dummy definitions of VxWorks-related macros\n+   Copyright (C) 2007 Free Software Foundation, Inc.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify it under\n+the terms of the GNU General Public License as published by the Free\n+Software Foundation; either version 2, or (at your option) any later\n+version.\n+\n+GCC is distributed in the hope that it will be useful, but WITHOUT ANY\n+WARRANTY; without even the implied warranty of MERCHANTABILITY or\n+FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n+for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING.  If not, write to the Free\n+Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA\n+02110-1301, USA.  */\n+\n+/* True if generating code for a VxWorks RTP.  */\n+#ifndef TARGET_VXWORKS_RTP\n+#define TARGET_VXWORKS_RTP false\n+#endif\n+\n+/* The symbol that points to an RTP's table of GOTs.  */\n+#define VXWORKS_GOTT_BASE (gcc_unreachable (), \"\")\n+\n+/* The symbol that holds the index of the current module's GOT in\n+   VXWORKS_GOTT_BASE.  */\n+#define VXWORKS_GOTT_INDEX (gcc_unreachable (), \"\")"}, {"sha": "055bf09813b03b4a3ed8d40bfd53308a80532f77", "filename": "gcc/config/vxworks.h", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b5109ffe854436b7146e9eea898083a3b063de/gcc%2Fconfig%2Fvxworks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b5109ffe854436b7146e9eea898083a3b063de/gcc%2Fconfig%2Fvxworks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvxworks.h?ref=26b5109ffe854436b7146e9eea898083a3b063de", "patch": "@@ -97,11 +97,11 @@ Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA\n extern void vxworks_asm_out_constructor (rtx symbol, int priority);\n extern void vxworks_asm_out_destructor (rtx symbol, int priority);\n \n-/* The name of the symbol for the table of GOTs in a particular\n-   RTP.  */\n+/* Override the vxworks-dummy.h definitions.  TARGET_VXWORKS_RTP\n+   is defined by vxworks.opt.  */\n+#undef VXWORKS_GOTT_BASE\n #define VXWORKS_GOTT_BASE \"__GOTT_BASE__\"\n-/* The name of the symbol for the index into the table of GOTs for the\n-   GOT associated with the current shared library.  */\n+#undef VXWORKS_GOTT_INDEX\n #define VXWORKS_GOTT_INDEX \"__GOTT_INDEX__\"\n \n #define VXWORKS_KIND VXWORKS_KIND_NORMAL"}]}