{"sha": "eb81c997d81033407576a2376b6ce24b0646d3a1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWI4MWM5OTdkODEwMzM0MDc1NzZhMjM3NmI2Y2UyNGIwNjQ2ZDNhMQ==", "commit": {"author": {"name": "Olivier Hainque", "email": "hainque@adacore.com", "date": "2020-12-23T23:24:29Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gnu.org", "date": "2020-12-23T23:27:36Z"}, "message": "Account for VxWorks headers in libstdc++ test on names\n\nUndefine various macros unexpectedly defined by VxWorks headers.\n\n\nfor  libstdc++-v3/ChangeLog\n\n\t* testsuite/17_intro/names.cc: Account for VxWorks headers.", "tree": {"sha": "350b06d5c6c2b95ce66ec9b6d142463a6ebd22d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/350b06d5c6c2b95ce66ec9b6d142463a6ebd22d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eb81c997d81033407576a2376b6ce24b0646d3a1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb81c997d81033407576a2376b6ce24b0646d3a1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eb81c997d81033407576a2376b6ce24b0646d3a1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb81c997d81033407576a2376b6ce24b0646d3a1/comments", "author": {"login": "hainque", "id": 18735142, "node_id": "MDQ6VXNlcjE4NzM1MTQy", "avatar_url": "https://avatars.githubusercontent.com/u/18735142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hainque", "html_url": "https://github.com/hainque", "followers_url": "https://api.github.com/users/hainque/followers", "following_url": "https://api.github.com/users/hainque/following{/other_user}", "gists_url": "https://api.github.com/users/hainque/gists{/gist_id}", "starred_url": "https://api.github.com/users/hainque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hainque/subscriptions", "organizations_url": "https://api.github.com/users/hainque/orgs", "repos_url": "https://api.github.com/users/hainque/repos", "events_url": "https://api.github.com/users/hainque/events{/privacy}", "received_events_url": "https://api.github.com/users/hainque/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "36c08a8f212114252785ee68b3586e949c3612aa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36c08a8f212114252785ee68b3586e949c3612aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36c08a8f212114252785ee68b3586e949c3612aa"}], "stats": {"total": 41, "additions": 41, "deletions": 0}, "files": [{"sha": "4760a9efd79913161045bd2a03f7e29ea12b7303", "filename": "libstdc++-v3/testsuite/17_intro/names.cc", "status": "modified", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb81c997d81033407576a2376b6ce24b0646d3a1/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fnames.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb81c997d81033407576a2376b6ce24b0646d3a1/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fnames.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fnames.cc?ref=eb81c997d81033407576a2376b6ce24b0646d3a1", "patch": "@@ -211,4 +211,45 @@\n #undef ptr\n #endif\n \n+#ifdef __VXWORKS__\n+\n+#include <_vxworks-versions.h>\n+\n+// Some VxWorks 6 or 7 headers are using those.\n+\n+// private/objLibP.h\n+#undef u\n+\n+// arch/ppc/ffs/ArchLib.h\n+#undef i\n+#undef j\n+\n+// math.h\n+#undef x\n+#undef y\n+\n+// stdio.h\n+#undef ptr\n+\n+// VxWorks >= 7 specificities\n+\n+#if _VXWORKS_MAJOR_GE(7)\n+\n+// regs.h regs structure has a field 'r'\n+#undef r\n+\n+#ifndef __RTP__\n+// in bootLib.h, bootParamCheck has parameters x, a-f\n+#undef a\n+#undef b\n+#undef c\n+#undef d\n+#undef e\n+#undef f\n+#endif // __RTP__\n+\n+#endif // VxWorks Major >= 7\n+\n+#endif // __VXWORKS__\n+\n #include <bits/stdc++.h>"}]}