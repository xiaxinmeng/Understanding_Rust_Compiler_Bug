{"sha": "0727601add7a6b06c1b114389707878a33b731a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDcyNzYwMWFkZDdhNmIwNmMxYjExNDM4OTcwNzg3OGEzM2I3MzFhNg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-11-30T14:28:21Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-11-30T14:28:21Z"}, "message": "[multiple changes]\n\n2009-11-30  Jerome Lambourg  <lambourg@adacore.com>\n\n\t* exp_ch3.adb (Make_Predefined_Primitive_Specs): Improve comment for\n\tthe Value_Type case.\n\n2009-11-30  Thomas Quinot  <quinot@adacore.com>\n\n\t* a-textio.adb: Minor reformatting\n\n2009-11-30  Pascal Obry  <obry@adacore.com>\n\n\t* adaint.c: Fix bug in passing parameter.\n\t* expect.c: Include io.h to get definition of _open_osfhandle\n\nFrom-SVN: r154810", "tree": {"sha": "f1d314e310e2f974d4f736f5f0aac7a9c88a149d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f1d314e310e2f974d4f736f5f0aac7a9c88a149d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0727601add7a6b06c1b114389707878a33b731a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0727601add7a6b06c1b114389707878a33b731a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0727601add7a6b06c1b114389707878a33b731a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0727601add7a6b06c1b114389707878a33b731a6/comments", "author": null, "committer": null, "parents": [{"sha": "90e9a6bef63cb79b87f6c7e58133f7e4cc9de52c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90e9a6bef63cb79b87f6c7e58133f7e4cc9de52c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90e9a6bef63cb79b87f6c7e58133f7e4cc9de52c"}], "stats": {"total": 28, "additions": 21, "deletions": 7}, "files": [{"sha": "1c071f6b7ac95776fb6d49821fff1bf1cb57c06d", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0727601add7a6b06c1b114389707878a33b731a6/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0727601add7a6b06c1b114389707878a33b731a6/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=0727601add7a6b06c1b114389707878a33b731a6", "patch": "@@ -1,3 +1,17 @@\n+2009-11-30  Jerome Lambourg  <lambourg@adacore.com>\n+\n+\t* exp_ch3.adb (Make_Predefined_Primitive_Specs): Improve comment for\n+\tthe Value_Type case.\n+\n+2009-11-30  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* a-textio.adb: Minor reformatting\n+\n+2009-11-30  Pascal Obry  <obry@adacore.com>\n+\n+\t* adaint.c: Fix bug in passing parameter.\n+\t* expect.c: Include io.h to get definition of _open_osfhandle\n+\n 2009-11-30  Javier Miranda  <miranda@adacore.com>\n \n \t* exp_ch6.adb, sem_scil.adb (Adjust_SCIL_Node): Add missing management"}, {"sha": "0dd54632068fba7acee2b21d6ce29cc623b9d715", "filename": "gcc/ada/a-textio.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0727601add7a6b06c1b114389707878a33b731a6/gcc%2Fada%2Fa-textio.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0727601add7a6b06c1b114389707878a33b731a6/gcc%2Fada%2Fa-textio.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-textio.adb?ref=0727601add7a6b06c1b114389707878a33b731a6", "patch": "@@ -1659,8 +1659,8 @@ package body Ada.Text_IO is\n    begin\n       --  Don't allow change of mode for current file (RM A.10.2(5))\n \n-      if (File = Current_In or else\n-          File = Current_Out  or else\n+      if (File = Current_In  or else\n+          File = Current_Out or else\n           File = Current_Error)\n         and then To_FCB (Mode) /= File.Mode\n       then"}, {"sha": "b4446f7af3a844c7acf78ec9dc0b87812396795a", "filename": "gcc/ada/adaint.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0727601add7a6b06c1b114389707878a33b731a6/gcc%2Fada%2Fadaint.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0727601add7a6b06c1b114389707878a33b731a6/gcc%2Fada%2Fadaint.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fadaint.c?ref=0727601add7a6b06c1b114389707878a33b731a6", "patch": "@@ -697,7 +697,7 @@ __gnat_os_filename (char *filename ATTRIBUTE_UNUSED,\n \t\t    char *encoding ATTRIBUTE_UNUSED, int *e_length)\n {\n #if defined (_WIN32) && ! defined (__vxworks) && ! defined (IS_CROSS)\n-  WS2SC (os_name, (TCHAR *)w_filename, (DWORD)o_length);\n+  WS2SC (os_name, (TCHAR *)w_filename, (DWORD)*o_length);\n   *o_length = strlen (os_name);\n   strcpy (encoding, \"encoding=utf8\");\n   *e_length = strlen (encoding);"}, {"sha": "17e6395ee5a3fc708bd40ec4edb2123fd3d67af7", "filename": "gcc/ada/exp_ch3.adb", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0727601add7a6b06c1b114389707878a33b731a6/gcc%2Fada%2Fexp_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0727601add7a6b06c1b114389707878a33b731a6/gcc%2Fada%2Fexp_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch3.adb?ref=0727601add7a6b06c1b114389707878a33b731a6", "patch": "@@ -8104,7 +8104,8 @@ package body Exp_Ch3 is\n       elsif Restriction_Active (No_Finalization) then\n          null;\n \n-      --  We skip these for CIL Value types (why???)\n+      --  We skip these for CIL Value types, where finalization is not\n+      --  available\n \n       elsif Is_Value_Type (Tag_Typ) then\n          null;"}, {"sha": "c013feba62558e1810eb2a253b6edb926cce4760", "filename": "gcc/ada/expect.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0727601add7a6b06c1b114389707878a33b731a6/gcc%2Fada%2Fexpect.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0727601add7a6b06c1b114389707878a33b731a6/gcc%2Fada%2Fexpect.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexpect.c?ref=0727601add7a6b06c1b114389707878a33b731a6", "patch": "@@ -78,12 +78,11 @@\n \n #ifdef _WIN32\n \n-/* We need functionality available only starting with Windows XP */\n-#define _WIN32_WINNT 0x0501\n-\n #include <windows.h>\n #include <process.h>\n #include <signal.h>\n+#include <io.h>\n+#include \"mingw32.h\"\n \n void\n __gnat_kill (int pid, int sig, int close)"}]}