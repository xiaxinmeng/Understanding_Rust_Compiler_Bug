{"sha": "c735deb4fa985b0ab210cbad3802d46a7d4aaa17", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzczNWRlYjRmYTk4NWIwYWIyMTBjYmFkMzgwMmQ0NmE3ZDRhYWExNw==", "commit": {"author": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2019-05-10T19:14:21Z"}, "committer": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2019-05-10T19:14:21Z"}, "message": "darwin, testsuite - provide an asm shim for AVX12F tests.\n\nDarwin will build these tests and run them if/when it's \navailable on the relevant hardware.\n\n2019-05-10  Iain Sandoe  <iain@sandoe.co.uk>\n\n\t* gcc.target/x86_64/abi/avx512f/abi-avx512f.exp: Darwin is\n\tnow tested.\n\t* gcc.target/x86_64/abi/avx512f/asm-support-darwin.s: New.\n\nFrom-SVN: r271073", "tree": {"sha": "ee6710537b2b990bcd5cb6220d25d33f25562de9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ee6710537b2b990bcd5cb6220d25d33f25562de9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c735deb4fa985b0ab210cbad3802d46a7d4aaa17", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c735deb4fa985b0ab210cbad3802d46a7d4aaa17", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c735deb4fa985b0ab210cbad3802d46a7d4aaa17", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c735deb4fa985b0ab210cbad3802d46a7d4aaa17/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "67254b50a63b1a1095762fefef801a6a53ccece5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67254b50a63b1a1095762fefef801a6a53ccece5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67254b50a63b1a1095762fefef801a6a53ccece5"}], "stats": {"total": 100, "additions": 99, "deletions": 1}, "files": [{"sha": "83092ee4de95a360ee1dfac75af67b0c6aa617f1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c735deb4fa985b0ab210cbad3802d46a7d4aaa17/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c735deb4fa985b0ab210cbad3802d46a7d4aaa17/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c735deb4fa985b0ab210cbad3802d46a7d4aaa17", "patch": "@@ -1,3 +1,9 @@\n+2019-05-10  Iain Sandoe  <iain@sandoe.co.uk>\n+\n+\t* gcc.target/x86_64/abi/avx512f/abi-avx512f.exp: Darwin is\n+\tnow tested.\n+\t* gcc.target/x86_64/abi/avx512f/asm-support-darwin.s: New.\n+\n 2019-05-10  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* g++.dg/diagnostic/main1.C: New."}, {"sha": "01bd9af046e4e5e7cab97caea13ab4a11bdd892b", "filename": "gcc/testsuite/gcc.target/x86_64/abi/avx512f/abi-avx512f.exp", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c735deb4fa985b0ab210cbad3802d46a7d4aaa17/gcc%2Ftestsuite%2Fgcc.target%2Fx86_64%2Fabi%2Favx512f%2Fabi-avx512f.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c735deb4fa985b0ab210cbad3802d46a7d4aaa17/gcc%2Ftestsuite%2Fgcc.target%2Fx86_64%2Fabi%2Favx512f%2Fabi-avx512f.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fx86_64%2Fabi%2Favx512f%2Fabi-avx512f.exp?ref=c735deb4fa985b0ab210cbad3802d46a7d4aaa17", "patch": "@@ -37,7 +37,6 @@ set additional_flags \"-W -Wall -mavx512f\"\n foreach src [lsort [glob -nocomplain $srcdir/$subdir/test_*.c]] {\n     if {[runtest_file_p $runtests $src]} {\n \tif { ([istarget *-*-darwin*]) } then {\n-\t    # FIXME: Darwin isn't tested.\n \t    c-torture-execute [list $src \\\n \t\t\t\t    $srcdir/$subdir/asm-support-darwin.s] \\\n \t\t\t\t    $additional_flags"}, {"sha": "53647262019edfe8067b3e77bb60b3bfc2cab8f9", "filename": "gcc/testsuite/gcc.target/x86_64/abi/avx512f/asm-support-darwin.s", "status": "added", "additions": 93, "deletions": 0, "changes": 93, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c735deb4fa985b0ab210cbad3802d46a7d4aaa17/gcc%2Ftestsuite%2Fgcc.target%2Fx86_64%2Fabi%2Favx512f%2Fasm-support-darwin.s", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c735deb4fa985b0ab210cbad3802d46a7d4aaa17/gcc%2Ftestsuite%2Fgcc.target%2Fx86_64%2Fabi%2Favx512f%2Fasm-support-darwin.s", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fx86_64%2Fabi%2Favx512f%2Fasm-support-darwin.s?ref=c735deb4fa985b0ab210cbad3802d46a7d4aaa17", "patch": "@@ -0,0 +1,93 @@\n+\t.text\n+\t.p2align 4,,15\n+\t.globl _snapshot\n+_snapshot:\n+LFB3:\n+\tmovq\t%rax, _rax(%rip)\n+\tmovq\t%rbx, _rbx(%rip)\n+\tmovq\t%rcx, _rcx(%rip)\n+\tmovq\t%rdx, _rdx(%rip)\n+\tmovq\t%rdi, _rdi(%rip)\n+\tmovq\t%rsi, _rsi(%rip)\n+\tmovq\t%rbp, _rbp(%rip)\n+\tmovq\t%rsp, _rsp(%rip)\n+\tmovq\t%r8, _r8(%rip)\n+\tmovq\t%r9, _r9(%rip)\n+\tmovq\t%r10, _r10(%rip)\n+\tmovq\t%r11, _r11(%rip)\n+\tmovq\t%r12, _r12(%rip)\n+\tmovq\t%r13, _r13(%rip)\n+\tmovq\t%r14, _r14(%rip)\n+\tmovq\t%r15, _r15(%rip)\n+\tvmovdqu32 %zmm0, _zmm_regs+0(%rip)\n+\tvmovdqu32 %zmm1, _zmm_regs+64(%rip)\n+\tvmovdqu32 %zmm2, _zmm_regs+128(%rip)\n+\tvmovdqu32 %zmm3, _zmm_regs+192(%rip)\n+\tvmovdqu32 %zmm4, _zmm_regs+256(%rip)\n+\tvmovdqu32 %zmm5, _zmm_regs+320(%rip)\n+\tvmovdqu32 %zmm6, _zmm_regs+384(%rip)\n+\tvmovdqu32 %zmm7, _zmm_regs+448(%rip)\n+\tvmovdqu32 %zmm8, _zmm_regs+512(%rip)\n+\tvmovdqu32 %zmm9, _zmm_regs+576(%rip)\n+\tvmovdqu32 %zmm10, _zmm_regs+640(%rip)\n+\tvmovdqu32 %zmm11, _zmm_regs+704(%rip)\n+\tvmovdqu32 %zmm12, _zmm_regs+768(%rip)\n+\tvmovdqu32 %zmm13, _zmm_regs+832(%rip)\n+\tvmovdqu32 %zmm14, _zmm_regs+896(%rip)\n+\tvmovdqu32 %zmm15, _zmm_regs+960(%rip)\n+\tvmovdqu32 %zmm16, _zmm_regs+1024(%rip)\n+\tvmovdqu32 %zmm17, _zmm_regs+1088(%rip)\n+\tvmovdqu32 %zmm18, _zmm_regs+1152(%rip)\n+\tvmovdqu32 %zmm19, _zmm_regs+1216(%rip)\n+\tvmovdqu32 %zmm20, _zmm_regs+1280(%rip)\n+\tvmovdqu32 %zmm21, _zmm_regs+1344(%rip)\n+\tvmovdqu32 %zmm22, _zmm_regs+1408(%rip)\n+\tvmovdqu32 %zmm23, _zmm_regs+1472(%rip)\n+\tvmovdqu32 %zmm24, _zmm_regs+1536(%rip)\n+\tvmovdqu32 %zmm25, _zmm_regs+1600(%rip)\n+\tvmovdqu32 %zmm26, _zmm_regs+1664(%rip)\n+\tvmovdqu32 %zmm27, _zmm_regs+1728(%rip)\n+\tvmovdqu32 %zmm28, _zmm_regs+1792(%rip)\n+\tvmovdqu32 %zmm29, _zmm_regs+1856(%rip)\n+\tvmovdqu32 %zmm30, _zmm_regs+1920(%rip)\n+\tvmovdqu32 %zmm31, _zmm_regs+1984(%rip)\n+\tjmp\t*_callthis(%rip)\n+LFE3:\n+\n+\t.p2align 4,,15\n+\t.globl _snapshot_ret\n+_snapshot_ret:\n+\tmovq\t%rdi, _rdi(%rip)\n+\tsubq\t$8, %rsp\n+\tcall\t*_callthis(%rip)\n+\taddq\t$8, %rsp\n+\tmovq\t%rax, _rax(%rip)\n+\tmovq\t%rdx, _rdx(%rip)\n+\tvmovdqu32\t%zmm0, _zmm_regs+0(%rip)\n+\tvmovdqu32\t%zmm1, _zmm_regs+64(%rip)\n+\tfstpt\t_x87_regs(%rip)\n+\tfstpt\t_x87_regs+16(%rip)\n+\tfldt\t_x87_regs+16(%rip)\n+\tfldt\t_x87_regs(%rip)\n+\tret\n+\n+\t.comm\t_callthis,8,8\n+\t.comm\t_rax,8,8\n+\t.comm\t_rbx,8,8\n+\t.comm\t_rcx,8,8\n+\t.comm\t_rdx,8,8\n+\t.comm\t_rsi,8,8\n+\t.comm\t_rdi,8,8\n+\t.comm\t_rsp,8,8\n+\t.comm\t_rbp,8,8\n+\t.comm\t_r8,8,8\n+\t.comm\t_r9,8,8\n+\t.comm\t_r10,8,8\n+\t.comm\t_r11,8,8\n+\t.comm\t_r12,8,8\n+\t.comm\t_r13,8,8\n+\t.comm\t_r14,8,8\n+\t.comm\t_r15,8,8\n+\t.comm\t_zmm_regs,2048,64\n+\t.comm\t_x87_regs,128,32\n+\t.comm   _volatile_var,8,8"}]}