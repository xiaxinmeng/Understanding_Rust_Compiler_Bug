{"sha": "a8eeec27a94869785782a2d98969b437c4c5d62e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YThlZWVjMjdhOTQ4Njk3ODU3ODJhMmQ5ODk2OWI0MzdjNGM1ZDYyZQ==", "commit": {"author": {"name": "Steve Ellcey", "email": "sellcey@imgtec.com", "date": "2015-03-05T16:34:03Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2015-03-05T16:34:03Z"}, "message": "re PR middle-end/65315 (incorrect alignment of local variable with aligned attribute)\n\n2015-03-05  Steve Ellcey  <sellcey@imgtec.com>\n\n\tPR middle-end/65315\n\t* cfgexpand.c (expand_stack_vars): Update large_align to maximum\n\tneeded alignment.\n\nFrom-SVN: r221219", "tree": {"sha": "1793aeb9ad14055ff15e45441897b03c0f588054", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1793aeb9ad14055ff15e45441897b03c0f588054"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a8eeec27a94869785782a2d98969b437c4c5d62e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8eeec27a94869785782a2d98969b437c4c5d62e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8eeec27a94869785782a2d98969b437c4c5d62e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8eeec27a94869785782a2d98969b437c4c5d62e/comments", "author": null, "committer": null, "parents": [{"sha": "7ef9618369ffd71826f093077eaae3f35c15755b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ef9618369ffd71826f093077eaae3f35c15755b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ef9618369ffd71826f093077eaae3f35c15755b"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "368a7d04887ad7da1183e1780cb49ac52682f792", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8eeec27a94869785782a2d98969b437c4c5d62e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8eeec27a94869785782a2d98969b437c4c5d62e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a8eeec27a94869785782a2d98969b437c4c5d62e", "patch": "@@ -1,3 +1,9 @@\n+2015-03-05  Steve Ellcey  <sellcey@imgtec.com>\n+\n+\tPR middle-end/65315\n+\t* cfgexpand.c (expand_stack_vars): Update large_align to maximum\n+\tneeded alignment.\n+\n 2015-03-05  Martin Liska  <mliska@suse.cz>\n \n \t* ipa-inline.c (inline_small_functions): Set default value to"}, {"sha": "569cd0d2390786b5486d486cdb9410aaf6110c9e", "filename": "gcc/cfgexpand.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a8eeec27a94869785782a2d98969b437c4c5d62e/gcc%2Fcfgexpand.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a8eeec27a94869785782a2d98969b437c4c5d62e/gcc%2Fcfgexpand.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgexpand.c?ref=a8eeec27a94869785782a2d98969b437c4c5d62e", "patch": "@@ -973,6 +973,13 @@ expand_stack_vars (bool (*pred) (size_t), struct stack_vars_data *data)\n \t  i = stack_vars_sorted[si];\n \t  alignb = stack_vars[i].alignb;\n \n+\t  /* All \"large\" alignment decls come before all \"small\" alignment\n+\t     decls, but \"large\" alignment decls are not sorted based on\n+\t     their alignment.  Increase large_align to track the largest\n+\t     required alignment.  */\n+\t  if ((alignb * BITS_PER_UNIT) > large_align)\n+\t    large_align = alignb * BITS_PER_UNIT;\n+\n \t  /* Stop when we get to the first decl with \"small\" alignment.  */\n \t  if (alignb * BITS_PER_UNIT <= MAX_SUPPORTED_STACK_ALIGNMENT)\n \t    break;"}]}