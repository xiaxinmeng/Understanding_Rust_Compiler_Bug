{"sha": "ae11dff459209c6a036556ced4012e86c88b96d8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWUxMWRmZjQ1OTIwOWM2YTAzNjU1NmNlZDQwMTJlODZjODhiOTZkOA==", "commit": {"author": {"name": "Peter O'Gorman", "email": "pogma@thewrittenword.com", "date": "2008-09-26T16:21:02Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2008-09-26T16:21:02Z"}, "message": "libtool.m4: Update to libtool 2.2.6.\n\n        * libtool.m4: Update to libtool 2.2.6.\n        * lt~obsolete.m4: Update to libtool 2.2.6.\n        * ltmain.sh: Update to libtool 2.2.6.\n        * ltsugar.m4: Update to libtool 2.2.6.\n        * ltversion.m4: Update to libtool 2.2.6.\n        * ltoptions.m4: Update to libtool 2.2.6.\n        * ltgcc.m4: Update to match changes from libtool 2.2.6.\n\nFrom-SVN: r140698", "tree": {"sha": "19ed065a7ac3584c6682b87d203bfa8da13642bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/19ed065a7ac3584c6682b87d203bfa8da13642bd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae11dff459209c6a036556ced4012e86c88b96d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae11dff459209c6a036556ced4012e86c88b96d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae11dff459209c6a036556ced4012e86c88b96d8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae11dff459209c6a036556ced4012e86c88b96d8/comments", "author": null, "committer": null, "parents": [{"sha": "74c061dec3dedff32309922fb4f57e7df32561fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74c061dec3dedff32309922fb4f57e7df32561fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74c061dec3dedff32309922fb4f57e7df32561fc"}], "stats": {"total": 11683, "additions": 6467, "deletions": 5216}, "files": [{"sha": "8b8dcc1e80a90b1943e1b1808ec022363745d936", "filename": "ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae11dff459209c6a036556ced4012e86c88b96d8/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae11dff459209c6a036556ced4012e86c88b96d8/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=ae11dff459209c6a036556ced4012e86c88b96d8", "patch": "@@ -1,3 +1,13 @@\n+2008-09-26  Peter O'Gorman  <pogma@thewrittenword.com>\n+\n+\t* libtool.m4: Update to libtool 2.2.6.\n+\t* lt~obsolete.m4: Update to libtool 2.2.6.\n+\t* ltmain.sh: Update to libtool 2.2.6.\n+\t* ltsugar.m4: Update to libtool 2.2.6.\n+\t* ltversion.m4: Update to libtool 2.2.6.\n+\t* ltoptions.m4: Update to libtool 2.2.6.\n+\t* ltgcc.m4: Update to match changes from libtool 2.2.6.\n+\n 2008-09-22  Chris Fairles  <cfairles@gcc.gnu.org>\n \n \t* MAINTAINERS (Write After Approval): Add myself."}, {"sha": "39ba996cb960e22873667c57deeff94bf23bef56", "filename": "libtool.m4", "status": "modified", "additions": 529, "deletions": 331, "changes": 860, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae11dff459209c6a036556ced4012e86c88b96d8/libtool.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae11dff459209c6a036556ced4012e86c88b96d8/libtool.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libtool.m4?ref=ae11dff459209c6a036556ced4012e86c88b96d8", "patch": "@@ -1,45 +1,43 @@\n # libtool.m4 - Configure libtool for the host system. -*-Autoconf-*-\n #\n-# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2003, 2004, 2005,\n-# 2006, 2007 Free Software Foundation, Inc.\n-#\n-# This file is part of GNU Libtool:\n-# Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996\n+#   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2003, 2004, 2005,\n+#                 2006, 2007, 2008 Free Software Foundation, Inc.\n+#   Written by Gordon Matzigkeit, 1996\n #\n # This file is free software; the Free Software Foundation gives\n # unlimited permission to copy and/or distribute it, with or without\n # modifications, as long as this notice is preserved.\n \n m4_define([_LT_COPYING], [dnl\n-# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2003, 2004, 2005,\n-# 2006, 2007 Free Software Foundation, Inc.\n+#   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2003, 2004, 2005,\n+#                 2006, 2007, 2008 Free Software Foundation, Inc.\n+#   Written by Gordon Matzigkeit, 1996\n #\n-# This file is part of GNU Libtool:\n-# Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996\n+#   This file is part of GNU Libtool.\n #\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2 of the License, or\n-# (at your option) any later version.\n+# GNU Libtool is free software; you can redistribute it and/or\n+# modify it under the terms of the GNU General Public License as\n+# published by the Free Software Foundation; either version 2 of\n+# the License, or (at your option) any later version.\n #\n-# This program is distributed in the hope that it will be useful, but\n-# WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-# General Public License for more details.\n+# As a special exception to the GNU General Public License,\n+# if you distribute this file as part of a program or library that\n+# is built using GNU Libtool, you may include this file under the\n+# same distribution terms that you use for the rest of that program.\n #\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, a copy can be downloaded from\n-# http://www.gnu.org/copyleft/gpl.html, or by writing to the Free\n-# Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,\n-# MA 02110-1301, USA.\n+# GNU Libtool is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n #\n-# As a special exception to the GNU General Public License, if you\n-# distribute this file as part of a program that contains a\n-# configuration script generated by Autoconf, you may include it under\n-# the same distribution terms that you use for the rest of that program.\n+# You should have received a copy of the GNU General Public License\n+# along with GNU Libtool; see the file COPYING.  If not, a copy\n+# can be downloaded from http://www.gnu.org/licenses/gpl.html, or\n+# obtained by writing to the Free Software Foundation, Inc.,\n+# 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.\n ])\n \n-# serial 53 LT_INIT\n+# serial 56 LT_INIT\n \n \n # LT_PREREQ(VERSION)\n@@ -53,12 +51,25 @@ m4_defun([LT_PREREQ],\n        [$2])])\n \n \n+# _LT_CHECK_BUILDDIR\n+# ------------------\n+# Complain if the absolute build directory name contains unusual characters\n+m4_defun([_LT_CHECK_BUILDDIR],\n+[case `pwd` in\n+  *\\ * | *\\\t*)\n+    AC_MSG_WARN([Libtool does not cope well with whitespace in `pwd`]) ;;\n+esac\n+])\n+\n+\n # LT_INIT([OPTIONS])\n # ------------------\n AC_DEFUN([LT_INIT],\n [AC_PREREQ([2.58])dnl We use AC_INCLUDES_DEFAULT\n AC_BEFORE([$0], [LT_LANG])dnl\n AC_BEFORE([$0], [LT_OUTPUT])dnl\n+AC_BEFORE([$0], [LTDL_INIT])dnl\n+m4_require([_LT_CHECK_BUILDDIR])dnl\n \n dnl Autoconf doesn't catch unexpanded LT_ macros by default:\n m4_pattern_forbid([^_?LT_[A-Z_]+$])dnl\n@@ -68,8 +79,11 @@ dnl unless we require an AC_DEFUNed macro:\n AC_REQUIRE([LTOPTIONS_VERSION])dnl\n AC_REQUIRE([LTSUGAR_VERSION])dnl\n AC_REQUIRE([LTVERSION_VERSION])dnl\n+AC_REQUIRE([LTOBSOLETE_VERSION])dnl\n m4_require([_LT_PROG_LTMAIN])dnl\n-m4_require([_LT_SET_OPTIONS], [_LT_SET_OPTIONS([$1])])dnl\n+\n+dnl Parse OPTIONS\n+_LT_SET_OPTIONS([$0], [$1])\n \n # This can be used to rebuild libtool when needed\n LIBTOOL_DEPS=\"$ltmain\"\n@@ -82,7 +96,7 @@ _LT_SETUP\n \n # Only expand once:\n m4_define([LT_INIT])\n-])# _LT_INIT\n+])# LT_INIT\n \n # Old names:\n AU_ALIAS([AC_PROG_LIBTOOL], [LT_INIT])\n@@ -141,9 +155,7 @@ test -z \"$LN_S\" && LN_S=\"ln -s\"\n _LT_DECL([], [LN_S], [1], [Whether we need soft or hard links])dnl\n dnl\n AC_REQUIRE([LT_CMD_MAX_LEN])dnl\n-AC_REQUIRE([AC_OBJEXT])dnl\n _LT_DECL([objext], [ac_objext], [0], [Object file suffix (normally \"o\")])dnl\n-AC_REQUIRE([AC_EXEEXT])dnl\n _LT_DECL([], [exeext], [0], [Executable file suffix (normally \"\")])dnl\n dnl\n m4_require([_LT_FILEUTILS_DEFAULTS])dnl\n@@ -368,12 +380,12 @@ m4_define([lt_decl_dquote_varnames],\n # lt_decl_varnames_tagged([SEPARATOR], [VARNAME1...])\n # ---------------------------------------------------\n m4_define([lt_decl_varnames_tagged],\n-[_$0(m4_quote(m4_default([$1], [[, ]])),\n-     m4_quote(m4_if([$2], [],\n-\t\t     m4_quote(lt_decl_tag_varnames),\n-\t\t  m4_quote(m4_shift($@)))),\n-     m4_split(m4_normalize(m4_quote(_LT_TAGS))))])\n-m4_define([_lt_decl_varnames_tagged], [lt_combine([$1], [$2], [_], $3)])\n+[m4_assert([$# <= 2])dnl\n+_$0(m4_quote(m4_default([$1], [[, ]])),\n+    m4_ifval([$2], [[$2]], [m4_dquote(lt_decl_tag_varnames)]),\n+    m4_split(m4_normalize(m4_quote(_LT_TAGS)), [ ]))])\n+m4_define([_lt_decl_varnames_tagged],\n+[m4_ifval([$3], [lt_combine([$1], [$2], [_], $3)])])\n \n \n # lt_decl_all_varnames([SEPARATOR], [VARNAME1...])\n@@ -589,7 +601,7 @@ m4_ifset([AC_PACKAGE_NAME], [AC_PACKAGE_NAME ])config.lt[]dnl\n m4_ifset([AC_PACKAGE_VERSION], [ AC_PACKAGE_VERSION])\n configured by $[0], generated by m4_PACKAGE_STRING.\n \n-Copyright (C) 2007 Free Software Foundation, Inc.\n+Copyright (C) 2008 Free Software Foundation, Inc.\n This config.lt script is free software; the Free Software Foundation\n gives unlimited permision to copy, distribute and modify it.\"\n \n@@ -606,10 +618,10 @@ do\n       lt_cl_silent=: ;;\n \n     -*) AC_MSG_ERROR([unrecognized option: $[1]\n-Try `$[0] --help' for more information.]) ;;\n+Try \\`$[0] --help' for more information.]) ;;\n \n     *) AC_MSG_ERROR([unrecognized argument: $[1]\n-Try `$[0] --help for more information.]) ;;\n+Try \\`$[0] --help' for more information.]) ;;\n   esac\n   shift\n done\n@@ -671,7 +683,7 @@ _LT_CONFIG_SAVE_COMMANDS([\n #! $SHELL\n \n # `$ECHO \"$ofile\" | sed 's%^.*/%%'` - Provide generalized library-building support services.\n-# Generated automatically by $as_me (GNU $PACKAGE$TIMESTAMP) $VERSION\n+# Generated automatically by $as_me ($PACKAGE$TIMESTAMP) $VERSION\n # Libtool was configured on host `(hostname || uname -n) 2>/dev/null | sed 1q`:\n # NOTE: Changes made to this file will be lost: look at ltmain.sh.\n #\n@@ -871,9 +883,133 @@ ac_outfile=conftest.$ac_objext\n echo \"$lt_simple_link_test_code\" >conftest.$ac_ext\n eval \"$ac_link\" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err\n _lt_linker_boilerplate=`cat conftest.err`\n-$RM conftest*\n+$RM -r conftest*\n ])# _LT_LINKER_BOILERPLATE\n \n+# _LT_REQUIRED_DARWIN_CHECKS\n+# -------------------------\n+m4_defun_once([_LT_REQUIRED_DARWIN_CHECKS],[\n+  case $host_os in\n+    rhapsody* | darwin*)\n+    AC_CHECK_TOOL([DSYMUTIL], [dsymutil], [:])\n+    AC_CHECK_TOOL([NMEDIT], [nmedit], [:])\n+    AC_CHECK_TOOL([LIPO], [lipo], [:])\n+    AC_CHECK_TOOL([OTOOL], [otool], [:])\n+    AC_CHECK_TOOL([OTOOL64], [otool64], [:])\n+    _LT_DECL([], [DSYMUTIL], [1],\n+      [Tool to manipulate archived DWARF debug symbol files on Mac OS X])\n+    _LT_DECL([], [NMEDIT], [1],\n+      [Tool to change global to local symbols on Mac OS X])\n+    _LT_DECL([], [LIPO], [1],\n+      [Tool to manipulate fat objects and archives on Mac OS X])\n+    _LT_DECL([], [OTOOL], [1],\n+      [ldd/readelf like tool for Mach-O binaries on Mac OS X])\n+    _LT_DECL([], [OTOOL64], [1],\n+      [ldd/readelf like tool for 64 bit Mach-O binaries on Mac OS X 10.4])\n+\n+    AC_CACHE_CHECK([for -single_module linker flag],[lt_cv_apple_cc_single_mod],\n+      [lt_cv_apple_cc_single_mod=no\n+      if test -z \"${LT_MULTI_MODULE}\"; then\n+\t# By default we will add the -single_module flag. You can override\n+\t# by either setting the environment variable LT_MULTI_MODULE\n+\t# non-empty at configure time, or by adding -multi_module to the\n+\t# link flags.\n+\trm -rf libconftest.dylib*\n+\techo \"int foo(void){return 1;}\" > conftest.c\n+\techo \"$LTCC $LTCFLAGS $LDFLAGS -o libconftest.dylib \\\n+-dynamiclib -Wl,-single_module conftest.c\" >&AS_MESSAGE_LOG_FD\n+\t$LTCC $LTCFLAGS $LDFLAGS -o libconftest.dylib \\\n+\t  -dynamiclib -Wl,-single_module conftest.c 2>conftest.err\n+        _lt_result=$?\n+\tif test -f libconftest.dylib && test ! -s conftest.err && test $_lt_result = 0; then\n+\t  lt_cv_apple_cc_single_mod=yes\n+\telse\n+\t  cat conftest.err >&AS_MESSAGE_LOG_FD\n+\tfi\n+\trm -rf libconftest.dylib*\n+\trm -f conftest.*\n+      fi])\n+    AC_CACHE_CHECK([for -exported_symbols_list linker flag],\n+      [lt_cv_ld_exported_symbols_list],\n+      [lt_cv_ld_exported_symbols_list=no\n+      save_LDFLAGS=$LDFLAGS\n+      echo \"_main\" > conftest.sym\n+      LDFLAGS=\"$LDFLAGS -Wl,-exported_symbols_list,conftest.sym\"\n+      AC_LINK_IFELSE([AC_LANG_PROGRAM([],[])],\n+\t[lt_cv_ld_exported_symbols_list=yes],\n+\t[lt_cv_ld_exported_symbols_list=no])\n+\tLDFLAGS=\"$save_LDFLAGS\"\n+    ])\n+    case $host_os in\n+    rhapsody* | darwin1.[[012]])\n+      _lt_dar_allow_undefined='${wl}-undefined ${wl}suppress' ;;\n+    darwin1.*)\n+      _lt_dar_allow_undefined='${wl}-flat_namespace ${wl}-undefined ${wl}suppress' ;;\n+    darwin*) # darwin 5.x on\n+      # if running on 10.5 or later, the deployment target defaults\n+      # to the OS version, if on x86, and 10.4, the deployment\n+      # target defaults to 10.4. Don't you love it?\n+      case ${MACOSX_DEPLOYMENT_TARGET-10.0},$host in\n+\t10.0,*86*-darwin8*|10.0,*-darwin[[91]]*)\n+\t  _lt_dar_allow_undefined='${wl}-undefined ${wl}dynamic_lookup' ;;\n+\t10.[[012]]*)\n+\t  _lt_dar_allow_undefined='${wl}-flat_namespace ${wl}-undefined ${wl}suppress' ;;\n+\t10.*)\n+\t  _lt_dar_allow_undefined='${wl}-undefined ${wl}dynamic_lookup' ;;\n+      esac\n+    ;;\n+  esac\n+    if test \"$lt_cv_apple_cc_single_mod\" = \"yes\"; then\n+      _lt_dar_single_mod='$single_module'\n+    fi\n+    if test \"$lt_cv_ld_exported_symbols_list\" = \"yes\"; then\n+      _lt_dar_export_syms=' ${wl}-exported_symbols_list,$output_objdir/${libname}-symbols.expsym'\n+    else\n+      _lt_dar_export_syms='~$NMEDIT -s $output_objdir/${libname}-symbols.expsym ${lib}'\n+    fi\n+    if test \"$DSYMUTIL\" != \":\"; then\n+      _lt_dsymutil='~$DSYMUTIL $lib || :'\n+    else\n+      _lt_dsymutil=\n+    fi\n+    ;;\n+  esac\n+])\n+\n+\n+# _LT_DARWIN_LINKER_FEATURES\n+# --------------------------\n+# Checks for linker and compiler features on darwin\n+m4_defun([_LT_DARWIN_LINKER_FEATURES],\n+[\n+  m4_require([_LT_REQUIRED_DARWIN_CHECKS])\n+  _LT_TAGVAR(archive_cmds_need_lc, $1)=no\n+  _LT_TAGVAR(hardcode_direct, $1)=no\n+  _LT_TAGVAR(hardcode_automatic, $1)=yes\n+  _LT_TAGVAR(hardcode_shlibpath_var, $1)=unsupported\n+  _LT_TAGVAR(whole_archive_flag_spec, $1)=''\n+  _LT_TAGVAR(link_all_deplibs, $1)=yes\n+  _LT_TAGVAR(allow_undefined_flag, $1)=\"$_lt_dar_allow_undefined\"\n+  case $cc_basename in\n+     ifort*) _lt_dar_can_shared=yes ;;\n+     *) _lt_dar_can_shared=$GCC ;;\n+  esac\n+  if test \"$_lt_dar_can_shared\" = \"yes\"; then\n+    output_verbose_link_cmd=echo\n+    _LT_TAGVAR(archive_cmds, $1)=\"\\$CC -dynamiclib \\$allow_undefined_flag -o \\$lib \\$libobjs \\$deplibs \\$compiler_flags -install_name \\$rpath/\\$soname \\$verstring $_lt_dar_single_mod${_lt_dsymutil}\"\n+    _LT_TAGVAR(module_cmds, $1)=\"\\$CC \\$allow_undefined_flag -o \\$lib -bundle \\$libobjs \\$deplibs \\$compiler_flags${_lt_dsymutil}\"\n+    _LT_TAGVAR(archive_expsym_cmds, $1)=\"sed 's,^,_,' < \\$export_symbols > \\$output_objdir/\\${libname}-symbols.expsym~\\$CC -dynamiclib \\$allow_undefined_flag -o \\$lib \\$libobjs \\$deplibs \\$compiler_flags -install_name \\$rpath/\\$soname \\$verstring ${_lt_dar_single_mod}${_lt_dar_export_syms}${_lt_dsymutil}\"\n+    _LT_TAGVAR(module_expsym_cmds, $1)=\"sed -e 's,^,_,' < \\$export_symbols > \\$output_objdir/\\${libname}-symbols.expsym~\\$CC \\$allow_undefined_flag -o \\$lib -bundle \\$libobjs \\$deplibs \\$compiler_flags${_lt_dar_export_syms}${_lt_dsymutil}\"\n+    m4_if([$1], [CXX],\n+[   if test \"$lt_cv_apple_cc_single_mod\" != \"yes\"; then\n+      _LT_TAGVAR(archive_cmds, $1)=\"\\$CC -r -keep_private_externs -nostdlib -o \\${lib}-master.o \\$libobjs~\\$CC -dynamiclib \\$allow_undefined_flag -o \\$lib \\${lib}-master.o \\$deplibs \\$compiler_flags -install_name \\$rpath/\\$soname \\$verstring${_lt_dsymutil}\"\n+      _LT_TAGVAR(archive_expsym_cmds, $1)=\"sed 's,^,_,' < \\$export_symbols > \\$output_objdir/\\${libname}-symbols.expsym~\\$CC -r -keep_private_externs -nostdlib -o \\${lib}-master.o \\$libobjs~\\$CC -dynamiclib \\$allow_undefined_flag -o \\$lib \\${lib}-master.o \\$deplibs \\$compiler_flags -install_name \\$rpath/\\$soname \\$verstring${_lt_dar_export_syms}${_lt_dsymutil}\"\n+    fi\n+],[])\n+  else\n+  _LT_TAGVAR(ld_shlibs, $1)=no\n+  fi\n+])\n \n # _LT_SYS_MODULE_PATH_AIX\n # -----------------------\n@@ -1075,8 +1211,7 @@ _LT_DECL([], [ECHO], [1],\n # _LT_ENABLE_LOCK\n # ---------------\n m4_defun([_LT_ENABLE_LOCK],\n-[AC_REQUIRE([AC_OBJEXT])dnl\n-AC_ARG_ENABLE([libtool-lock],\n+[AC_ARG_ENABLE([libtool-lock],\n   [AS_HELP_STRING([--disable-libtool-lock],\n     [avoid locking (might break parallel builds)])])\n test \"x$enable_libtool_lock\" != xno && enable_libtool_lock=yes\n@@ -1202,7 +1337,11 @@ sparc*-*solaris*)\n     *64-bit*)\n       case $lt_cv_prog_gnu_ld in\n       yes*) LD=\"${LD-ld} -m elf64_sparc\" ;;\n-      *)    LD=\"${LD-ld} -64\" ;;\n+      *)\n+\tif ${LD-ld} -64 -r -o conftest2.o conftest.o >/dev/null 2>&1; then\n+\t  LD=\"${LD-ld} -64\"\n+\tfi\n+\t;;\n       esac\n       ;;\n     esac\n@@ -1234,7 +1373,7 @@ _LT_DECL([], [RANLIB], [1],\n     [Commands used to install an old-style archive])\n \n # Determine commands to create old-style static archives.\n-old_archive_cmds='$AR $AR_FLAGS $oldlib$oldobjs$old_deplibs'\n+old_archive_cmds='$AR $AR_FLAGS $oldlib$oldobjs'\n old_postinstall_cmds='chmod 644 $oldlib'\n old_postuninstall_cmds=\n \n@@ -1261,8 +1400,7 @@ _LT_TAGDECL([], [old_archive_cmds], [2],\n # ----------------------------------------------------------------\n # Check whether the given compiler option works\n AC_DEFUN([_LT_COMPILER_OPTION],\n-[AC_REQUIRE([AC_OBJEXT])dnl\n-m4_require([_LT_FILEUTILS_DEFAULTS])dnl\n+[m4_require([_LT_FILEUTILS_DEFAULTS])dnl\n m4_require([_LT_DECL_SED])dnl\n AC_CACHE_CHECK([$1], [$2],\n   [$2=no\n@@ -1335,7 +1473,7 @@ AC_CACHE_CHECK([$1], [$2],\n        $2=yes\n      fi\n    fi\n-   $RM conftest*\n+   $RM -r conftest*\n    LDFLAGS=\"$save_LDFLAGS\"\n ])\n \n@@ -1378,7 +1516,7 @@ AC_CACHE_VAL([lt_cv_sys_max_cmd_len], [dnl\n     lt_cv_sys_max_cmd_len=-1;\n     ;;\n \n-  cygwin* | mingw*)\n+  cygwin* | mingw* | cegcc*)\n     # On Win9x/ME, this test blows up -- it succeeds, but takes\n     # about 5 minutes as the teststring grows exponentially.\n     # Worse, since 9x/ME are not pre-emptively multitasking,\n@@ -1439,8 +1577,8 @@ AC_CACHE_VAL([lt_cv_sys_max_cmd_len], [dnl\n     fi\n     ;;\n   *)\n-    lt_cv_sys_max_cmd_len=`getconf ARG_MAX 2> /dev/null`\n-    if test -n $lt_cv_sys_max_cmd_len; then\n+    lt_cv_sys_max_cmd_len=`(getconf ARG_MAX) 2> /dev/null`\n+    if test -n \"$lt_cv_sys_max_cmd_len\"; then\n       lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \\/ 4`\n       lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \\* 3`\n     else\n@@ -1546,10 +1684,6 @@ else\n #  endif\n #endif\n \n-#ifdef __cplusplus\n-extern \"C\" void exit (int);\n-#endif\n-\n void fnord() { int i=42;}\n int main ()\n {\n@@ -1565,7 +1699,7 @@ int main ()\n   else\n     puts (dlerror ());\n \n-    exit (status);\n+  return status;\n }]\n _LT_EOF\n   if AC_TRY_EVAL(ac_link) && test -s conftest${ac_exeext} 2>/dev/null; then\n@@ -1604,7 +1738,7 @@ else\n     lt_cv_dlopen_self=yes\n     ;;\n \n-  mingw* | pw32*)\n+  mingw* | pw32* | cegcc*)\n     lt_cv_dlopen=\"LoadLibrary\"\n     lt_cv_dlopen_libs=\n     ;;\n@@ -1628,15 +1762,15 @@ else\n     AC_CHECK_FUNC([shl_load],\n \t  [lt_cv_dlopen=\"shl_load\"],\n       [AC_CHECK_LIB([dld], [shl_load],\n-\t    [lt_cv_dlopen=\"shl_load\" lt_cv_dlopen_libs=\"-dld\"],\n+\t    [lt_cv_dlopen=\"shl_load\" lt_cv_dlopen_libs=\"-ldld\"],\n \t[AC_CHECK_FUNC([dlopen],\n \t      [lt_cv_dlopen=\"dlopen\"],\n \t  [AC_CHECK_LIB([dl], [dlopen],\n \t\t[lt_cv_dlopen=\"dlopen\" lt_cv_dlopen_libs=\"-ldl\"],\n \t    [AC_CHECK_LIB([svld], [dlopen],\n \t\t  [lt_cv_dlopen=\"dlopen\" lt_cv_dlopen_libs=\"-lsvld\"],\n \t      [AC_CHECK_LIB([dld], [dld_link],\n-\t\t    [lt_cv_dlopen=\"dld_link\" lt_cv_dlopen_libs=\"-dld\"])\n+\t\t    [lt_cv_dlopen=\"dld_link\" lt_cv_dlopen_libs=\"-ldld\"])\n \t      ])\n \t    ])\n \t  ])\n@@ -1714,8 +1848,7 @@ dnl AC_DEFUN([AC_LIBTOOL_DLOPEN_SELF], [])\n # Check to see if options -c and -o are simultaneously supported by compiler.\n # This macro does not hard code the compiler like AC_PROG_CC_C_O.\n m4_defun([_LT_COMPILER_C_O],\n-[AC_REQUIRE([AC_OBJEXT])dnl\n-m4_require([_LT_DECL_SED])dnl\n+[m4_require([_LT_DECL_SED])dnl\n m4_require([_LT_FILEUTILS_DEFAULTS])dnl\n m4_require([_LT_TAG_COMPILER])dnl\n AC_CACHE_CHECK([if $compiler supports -c -o file.$ac_objext],\n@@ -1902,16 +2035,12 @@ m4_defun([_LT_SYS_DYNAMIC_LINKER],\n [AC_REQUIRE([AC_CANONICAL_HOST])dnl\n m4_require([_LT_DECL_EGREP])dnl\n m4_require([_LT_FILEUTILS_DEFAULTS])dnl\n+m4_require([_LT_DECL_OBJDUMP])dnl\n m4_require([_LT_DECL_SED])dnl\n AC_MSG_CHECKING([dynamic linker characteristics])\n-m4_case([$1],\n-\t[C], [withGCC=$GCC],\n-\t[CXX], [withGCC=$GXX],\n-\t[F77], [withGCC=$G77],\n-\t[FC], [withGCC=$ac_cv_fc_compiler_gnu],\n-\t[GCJ], [withGCC=$GCC],\n-\t[], [withGCC=$GCC\n-if test \"$withGCC\" = yes; then\n+m4_if([$1],\n+\t[], [\n+if test \"$GCC\" = yes; then\n   case $host_os in\n     darwin*) lt_awk_arg=\"/^libraries:/,/LR/\" ;;\n     *) lt_awk_arg=\"/^libraries:/\" ;;\n@@ -1961,8 +2090,7 @@ BEGIN {RS=\" \"; FS=\"/|\\n\";} {\n   sys_lib_search_path_spec=`$ECHO $lt_search_path_spec`\n else\n   sys_lib_search_path_spec=\"/lib /usr/lib /usr/local/lib\"\n-fi],\n-[withGCC=$GCC])\n+fi])\n library_names_spec=\n libname_spec='lib$name'\n soname_spec=\n@@ -2038,13 +2166,18 @@ aix[[4-9]]*)\n   ;;\n \n amigaos*)\n-  if test \"$host_cpu\" = m68k; then\n+  case $host_cpu in\n+  powerpc)\n+    # Since July 2007 AmigaOS4 officially supports .so libraries.\n+    # When compiling the executable, add -use-dynld -Lsobjs: to the compileline.\n+    library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n+    ;;\n+  m68k)\n     library_names_spec='$libname.ixlibrary $libname.a'\n     # Create ${libname}_ixlibrary.a entries in /sys/libs.\n     finish_eval='for lib in `ls $libdir/*.ixlibrary 2>/dev/null`; do libname=`$ECHO \"X$lib\" | $Xsed -e '\\''s%^.*/\\([[^/]]*\\)\\.ixlibrary$%\\1%'\\''`; test $RM /sys/libs/${libname}_ixlibrary.a; $show \"cd /sys/libs && $LN_S $lib ${libname}_ixlibrary.a\"; cd /sys/libs && $LN_S $lib ${libname}_ixlibrary.a || exit 1; done'\n-  else\n-    dynamic_linker=no\n-  fi\n+    ;;\n+  esac\n   ;;\n \n beos*)\n@@ -2067,14 +2200,14 @@ bsdi[[45]]*)\n   # libtool to hard-code these into programs\n   ;;\n \n-cygwin* | mingw* | pw32*)\n+cygwin* | mingw* | pw32* | cegcc*)\n   version_type=windows\n   shrext_cmds=\".dll\"\n   need_version=no\n   need_lib_prefix=no\n \n-  case $withGCC,$host_os in\n-  yes,cygwin* | yes,mingw* | yes,pw32*)\n+  case $GCC,$host_os in\n+  yes,cygwin* | yes,mingw* | yes,pw32* | yes,cegcc*)\n     library_names_spec='$libname.dll.a'\n     # DLL is installed to $(libdir)/../bin by postinstall_cmds\n     postinstall_cmds='base_file=`basename \\${file}`~\n@@ -2097,7 +2230,7 @@ cygwin* | mingw* | pw32*)\n       soname_spec='`echo ${libname} | sed -e 's/^lib/cyg/'``echo ${release} | $SED -e 's/[[.]]/-/g'`${versuffix}${shared_ext}'\n       sys_lib_search_path_spec=\"/usr/lib /lib/w32api /lib /usr/local/lib\"\n       ;;\n-    mingw*)\n+    mingw* | cegcc*)\n       # MinGW DLLs use traditional 'lib' prefix\n       soname_spec='${libname}`echo ${release} | $SED -e 's/[[.]]/-/g'`${versuffix}${shared_ext}'\n       sys_lib_search_path_spec=`$CC -print-search-dirs | $GREP \"^libraries:\" | $SED -e \"s/^libraries://\" -e \"s,=/,/,g\"`\n@@ -2140,7 +2273,7 @@ darwin* | rhapsody*)\n   shlibpath_var=DYLD_LIBRARY_PATH\n   shrext_cmds='`test .$module = .yes && echo .so || echo .dylib`'\n m4_if([$1], [],[\n-  sys_lib_search_path_spec=\"$sys_lib_search_path_spec /usr/local/lib\"]) \n+  sys_lib_search_path_spec=\"$sys_lib_search_path_spec /usr/local/lib\"])\n   sys_lib_dlsearch_path_spec='/usr/local/lib /lib /usr/lib'\n   ;;\n \n@@ -2321,13 +2454,13 @@ linux* | k*bsd*-gnu)\n   finish_cmds='PATH=\"\\$PATH:/sbin\" ldconfig -n $libdir'\n   shlibpath_var=LD_LIBRARY_PATH\n   shlibpath_overrides_runpath=no\n-  # Some binutils ld are patched to set DT_RUNPATH \n+  # Some binutils ld are patched to set DT_RUNPATH\n   save_LDFLAGS=$LDFLAGS\n   save_libdir=$libdir\n   eval \"libdir=/foo; wl=\\\"$_LT_TAGVAR(lt_prog_compiler_wl, $1)\\\"; \\\n        LDFLAGS=\\\"\\$LDFLAGS $_LT_TAGVAR(hardcode_libdir_flag_spec, $1)\\\"\"\n   AC_LINK_IFELSE([AC_LANG_PROGRAM([],[])],\n-    [AS_IF([ ($OBJDUMP -p conftest$ac_exeext) 2>/dev/null | grep \"RUNPATH.*$libdir\"],\n+    [AS_IF([ ($OBJDUMP -p conftest$ac_exeext) 2>/dev/null | grep \"RUNPATH.*$libdir\" >/dev/null],\n        [shlibpath_overrides_runpath=yes])])\n   LDFLAGS=$save_LDFLAGS\n   libdir=$save_libdir\n@@ -2339,7 +2472,7 @@ linux* | k*bsd*-gnu)\n \n   # Append ld.so.conf contents to the search path\n   if test -f /etc/ld.so.conf; then\n-    lt_ld_extra=`awk '/^include / { system(sprintf(\"cd /etc; cat %s 2>/dev/null\", \\[$]2)); skip = 1; } { if (!skip) print \\[$]0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,\t]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\\n' ' '`\n+    lt_ld_extra=`awk '/^include / { system(sprintf(\"cd /etc; cat %s 2>/dev/null\", \\[$]2)); skip = 1; } { if (!skip) print \\[$]0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;/^[\t ]*hwcap[\t ]/d;s/[:,\t]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\\n' ' '`\n     sys_lib_dlsearch_path_spec=\"/lib /usr/lib $lt_ld_extra\"\n   fi\n \n@@ -2523,7 +2656,7 @@ tpf*)\n   version_type=linux\n   need_lib_prefix=no\n   need_version=no\n-  library_name_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n+  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n   shlibpath_var=LD_LIBRARY_PATH\n   shlibpath_overrides_runpath=no\n   hardcode_into_libs=yes\n@@ -2548,6 +2681,13 @@ if test \"$GCC\" = yes; then\n   variables_saved_for_relink=\"$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH\"\n fi\n \n+if test \"${lt_cv_sys_lib_search_path_spec+set}\" = set; then\n+  sys_lib_search_path_spec=\"$lt_cv_sys_lib_search_path_spec\"\n+fi\n+if test \"${lt_cv_sys_lib_dlsearch_path_spec+set}\" = set; then\n+  sys_lib_dlsearch_path_spec=\"$lt_cv_sys_lib_dlsearch_path_spec\"\n+fi\n+\n _LT_DECL([], [variables_saved_for_relink], [1],\n     [Variables whose values should be saved in libtool wrapper scripts and\n     restored at link time])\n@@ -2817,6 +2957,7 @@ _LT_DECL([], [reload_cmds], [2])dnl\n #  -- PORTME fill in with the dynamic library characteristics\n m4_defun([_LT_CHECK_MAGIC_METHOD],\n [m4_require([_LT_DECL_EGREP])\n+m4_require([_LT_DECL_OBJDUMP])\n AC_CACHE_CHECK([how to recognize dependent libraries],\n lt_cv_deplibs_check_method,\n [lt_cv_file_magic_cmd='$MAGIC_CMD'\n@@ -2867,6 +3008,12 @@ mingw* | pw32*)\n   fi\n   ;;\n \n+cegcc)\n+  # use the weaker test based on 'objdump'. See mingw*.\n+  lt_cv_deplibs_check_method='file_magic file format pe-arm-.*little(.*architecture: arm)?'\n+  lt_cv_file_magic_cmd='$OBJDUMP -f'\n+  ;;\n+\n darwin* | rhapsody*)\n   lt_cv_deplibs_check_method=pass_all\n   ;;\n@@ -3019,7 +3166,6 @@ _LT_DECL([], [file_magic_cmd], [1],\n # find the pathname to a BSD- or MS-compatible name lister\n AC_DEFUN([LT_PATH_NM],\n [AC_REQUIRE([AC_PROG_CC])dnl\n-AC_REQUIRE([AC_OBJEXT])dnl\n AC_CACHE_CHECK([for BSD- or MS-compatible name lister (nm)], lt_cv_path_NM,\n [if test -n \"$NM\"; then\n   # Let the user override the test.\n@@ -3155,7 +3301,6 @@ _LT_TAGDECL([no_builtin_flag], [lt_prog_compiler_no_builtin_flag], [1],\n m4_defun([_LT_CMD_GLOBAL_SYMBOLS],\n [AC_REQUIRE([AC_CANONICAL_HOST])dnl\n AC_REQUIRE([AC_PROG_CC])dnl\n-AC_REQUIRE([AC_OBJEXT])dnl\n AC_REQUIRE([LT_PATH_NM])dnl\n AC_REQUIRE([LT_PATH_LD])dnl\n m4_require([_LT_DECL_SED])dnl\n@@ -3180,7 +3325,7 @@ case $host_os in\n aix*)\n   symcode='[[BCDT]]'\n   ;;\n-cygwin* | mingw* | pw32*)\n+cygwin* | mingw* | pw32* | cegcc*)\n   symcode='[[ABCDGISTW]]'\n   ;;\n hpux*)\n@@ -3224,6 +3369,7 @@ lt_cv_sys_global_symbol_to_cdecl=\"sed -n -e 's/^T .* \\(.*\\)$/extern int \\1();/p'\n \n # Transform an extracted symbol line into symbol name and symbol address\n lt_cv_sys_global_symbol_to_c_name_address=\"sed -n -e 's/^: \\([[^ ]]*\\) $/  {\\\\\\\"\\1\\\\\\\", (void *) 0},/p' -e 's/^$symcode* \\([[^ ]]*\\) \\([[^ ]]*\\)$/  {\\\"\\2\\\", (void *) \\&\\2},/p'\"\n+lt_cv_sys_global_symbol_to_c_name_address_lib_prefix=\"sed -n -e 's/^: \\([[^ ]]*\\) $/  {\\\\\\\"\\1\\\\\\\", (void *) 0},/p' -e 's/^$symcode* \\([[^ ]]*\\) \\(lib[[^ ]]*\\)$/  {\\\"\\2\\\", (void *) \\&\\2},/p' -e 's/^$symcode* \\([[^ ]]*\\) \\([[^ ]]*\\)$/  {\\\"lib\\2\\\", (void *) \\&\\2},/p'\"\n \n # Handle CRLF in mingw tool chain\n opt_cr=\n@@ -3351,7 +3497,7 @@ _LT_EOF\n     echo \"$progname: failed program was:\" >&AS_MESSAGE_LOG_FD\n     cat conftest.$ac_ext >&5\n   fi\n-  rm -f conftest* conftst*\n+  rm -rf conftest* conftst*\n \n   # Do not use the global_symbol_pipe unless it works.\n   if test \"$pipe_works\" = yes; then\n@@ -3377,6 +3523,9 @@ _LT_DECL([global_symbol_to_cdecl], [lt_cv_sys_global_symbol_to_cdecl], [1],\n _LT_DECL([global_symbol_to_c_name_address],\n     [lt_cv_sys_global_symbol_to_c_name_address], [1],\n     [Transform the output of nm in a C name address pair])\n+_LT_DECL([global_symbol_to_c_name_address_lib_prefix],\n+    [lt_cv_sys_global_symbol_to_c_name_address_lib_prefix], [1],\n+    [Transform the output of nm in a C name address pair when lib prefix is needed])\n ]) # _LT_CMD_GLOBAL_SYMBOLS\n \n \n@@ -3403,18 +3552,26 @@ m4_if([$1], [CXX], [\n \t_LT_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'\n       fi\n       ;;\n+\n     amigaos*)\n-      if test \"$host_cpu\" = m68k; then\n-        # FIXME: we need at least 68020 code to build shared libraries, but\n-        # adding the `-m68020' flag to GCC prevents building anything better,\n-        # like `-m68040'.\n-        _LT_TAGVAR(lt_prog_compiler_pic, $1)='-m68020 -resident32 -malways-restore-a4'\n-      fi\n+      case $host_cpu in\n+      powerpc)\n+            # see comment about AmigaOS4 .so support\n+            _LT_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'\n+        ;;\n+      m68k)\n+            # FIXME: we need at least 68020 code to build shared libraries, but\n+            # adding the `-m68020' flag to GCC prevents building anything better,\n+            # like `-m68040'.\n+            _LT_TAGVAR(lt_prog_compiler_pic, $1)='-m68020 -resident32 -malways-restore-a4'\n+        ;;\n+      esac\n       ;;\n+\n     beos* | irix5* | irix6* | nonstopux* | osf3* | osf4* | osf5*)\n       # PIC is the default for these OSes.\n       ;;\n-    mingw* | cygwin* | os2* | pw32*)\n+    mingw* | cygwin* | os2* | pw32* | cegcc*)\n       # This hack is so that the source file can tell whether it is being\n       # built for inclusion in a dll (and should export symbols for example).\n       # Although the cygwin gcc ignores -fPIC, still need this for old-style\n@@ -3441,10 +3598,11 @@ m4_if([$1], [CXX], [\n       fi\n       ;;\n     hpux*)\n-      # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but\n-      # not for PA HP-UX.\n+      # PIC is the default for 64-bit PA HP-UX, but not for 32-bit\n+      # PA HP-UX.  On IA64 HP-UX, PIC is the default but the pic flag\n+      # sets the default TLS model and affects inlining.\n       case $host_cpu in\n-      hppa*64*|ia64*)\n+      hppa*64*)\n \t;;\n       *)\n \t_LT_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'\n@@ -3479,16 +3637,6 @@ m4_if([$1], [CXX], [\n \t  ;;\n \tesac\n \t;;\n-      darwin*)\n-        # PIC is the default on this platform\n-        # Common symbols not allowed in MH_DYLIB files\n-        case $cc_basename in\n-          xlc*)\n-          _LT_TAGVAR(lt_prog_compiler_pic, $1)='-qnocommon'\n-          _LT_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'\n-          ;;\n-        esac\n-        ;;\n       dgux*)\n \tcase $cc_basename in\n \t  ec++*)\n@@ -3552,13 +3700,20 @@ m4_if([$1], [CXX], [\n \t    _LT_TAGVAR(lt_prog_compiler_wl, $1)='--backend -Wl,'\n \t    _LT_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'\n \t    ;;\n-\t  icpc* | ecpc* )\n-\t    # Intel C++\n+\t  ecpc* )\n+\t    # old Intel C++ for x86_64 which still supported -KPIC.\n \t    _LT_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'\n \t    _LT_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'\n \t    _LT_TAGVAR(lt_prog_compiler_static, $1)='-static'\n \t    ;;\n-\t  pgCC*)\n+\t  icpc* )\n+\t    # Intel C++, used to be incompatible with GCC.\n+\t    # ICC 10 doesn't accept -KPIC any more.\n+\t    _LT_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'\n+\t    _LT_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'\n+\t    _LT_TAGVAR(lt_prog_compiler_static, $1)='-static'\n+\t    ;;\n+\t  pgCC* | pgcpp*)\n \t    # Portland Group C++ compiler\n \t    _LT_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'\n \t    _LT_TAGVAR(lt_prog_compiler_pic, $1)='-fpic'\n@@ -3571,6 +3726,12 @@ m4_if([$1], [CXX], [\n \t    _LT_TAGVAR(lt_prog_compiler_pic, $1)=\n \t    _LT_TAGVAR(lt_prog_compiler_static, $1)='-non_shared'\n \t    ;;\n+\t  xlc* | xlC*)\n+\t    # IBM XL 8.0 on PPC\n+\t    _LT_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'\n+\t    _LT_TAGVAR(lt_prog_compiler_pic, $1)='-qpic'\n+\t    _LT_TAGVAR(lt_prog_compiler_static, $1)='-qstaticlink'\n+\t    ;;\n \t  *)\n \t    case `$CC -V 2>&1 | sed 5q` in\n \t    *Sun\\ C*)\n@@ -3699,19 +3860,25 @@ m4_if([$1], [CXX], [\n       ;;\n \n     amigaos*)\n-      if test \"$host_cpu\" = m68k; then\n-        # FIXME: we need at least 68020 code to build shared libraries, but\n-        # adding the `-m68020' flag to GCC prevents building anything better,\n-        # like `-m68040'.\n-        _LT_TAGVAR(lt_prog_compiler_pic, $1)='-m68020 -resident32 -malways-restore-a4'\n-      fi\n+      case $host_cpu in\n+      powerpc)\n+            # see comment about AmigaOS4 .so support\n+            _LT_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'\n+        ;;\n+      m68k)\n+            # FIXME: we need at least 68020 code to build shared libraries, but\n+            # adding the `-m68020' flag to GCC prevents building anything better,\n+            # like `-m68040'.\n+            _LT_TAGVAR(lt_prog_compiler_pic, $1)='-m68020 -resident32 -malways-restore-a4'\n+        ;;\n+      esac\n       ;;\n \n     beos* | irix5* | irix6* | nonstopux* | osf3* | osf4* | osf5*)\n       # PIC is the default for these OSes.\n       ;;\n \n-    mingw* | cygwin* | pw32* | os2*)\n+    mingw* | cygwin* | pw32* | os2* | cegcc*)\n       # This hack is so that the source file can tell whether it is being\n       # built for inclusion in a dll (and should export symbols for example).\n       # Although the cygwin gcc ignores -fPIC, still need this for old-style\n@@ -3727,10 +3894,11 @@ m4_if([$1], [CXX], [\n       ;;\n \n     hpux*)\n-      # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but\n-      # not for PA HP-UX.\n+      # PIC is the default for 64-bit PA HP-UX, but not for 32-bit\n+      # PA HP-UX.  On IA64 HP-UX, PIC is the default but the pic flag\n+      # sets the default TLS model and affects inlining.\n       case $host_cpu in\n-      hppa*64*|ia64*)\n+      hppa*64*)\n \t# +Z the default\n \t;;\n       *)\n@@ -3779,18 +3947,8 @@ m4_if([$1], [CXX], [\n \t_LT_TAGVAR(lt_prog_compiler_static, $1)='-bnso -bI:/lib/syscalls.exp'\n       fi\n       ;;\n-    darwin*)\n-      # PIC is the default on this platform\n-      # Common symbols not allowed in MH_DYLIB files\n-      case $cc_basename in\n-      xlc*)\n-        _LT_TAGVAR(lt_prog_compiler_pic, $1)='-qnocommon'\n-        _LT_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'\n-        ;;\n-      esac\n-      ;;\n \n-    mingw* | cygwin* | pw32* | os2*)\n+    mingw* | cygwin* | pw32* | os2* | cegcc*)\n       # This hack is so that the source file can tell whether it is being\n       # built for inclusion in a dll (and should export symbols for example).\n       m4_if([$1], [GCJ], [],\n@@ -3821,11 +3979,25 @@ m4_if([$1], [CXX], [\n \n     linux* | k*bsd*-gnu)\n       case $cc_basename in\n-      icc* | ecc*)\n+      # old Intel for x86_64 which still supported -KPIC.\n+      ecc*)\n \t_LT_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'\n \t_LT_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'\n \t_LT_TAGVAR(lt_prog_compiler_static, $1)='-static'\n         ;;\n+      # icc used to be incompatible with GCC.\n+      # ICC 10 doesn't accept -KPIC any more.\n+      icc* | ifort*)\n+\t_LT_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'\n+\t_LT_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'\n+\t_LT_TAGVAR(lt_prog_compiler_static, $1)='-static'\n+        ;;\n+      # Lahey Fortran 8.1.\n+      lf95*)\n+\t_LT_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'\n+\t_LT_TAGVAR(lt_prog_compiler_pic, $1)='--shared'\n+\t_LT_TAGVAR(lt_prog_compiler_static, $1)='--static'\n+\t;;\n       pgcc* | pgf77* | pgf90* | pgf95*)\n         # Portland Group compilers (*not* the Pentium gcc compiler,\n \t# which looks to be a dead project)\n@@ -3838,6 +4010,12 @@ m4_if([$1], [CXX], [\n         # All Alpha code is PIC.\n         _LT_TAGVAR(lt_prog_compiler_static, $1)='-non_shared'\n         ;;\n+      xl*)\n+\t# IBM XL C 8.0/Fortran 10.1 on PPC\n+\t_LT_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'\n+\t_LT_TAGVAR(lt_prog_compiler_pic, $1)='-qpic'\n+\t_LT_TAGVAR(lt_prog_compiler_static, $1)='-qstaticlink'\n+\t;;\n       *)\n \tcase `$CC -V 2>&1 | sed 5q` in\n \t*Sun\\ C*)\n@@ -3948,7 +4126,7 @@ _LT_TAGDECL([wl], [lt_prog_compiler_wl], [1],\n #\n if test -n \"$_LT_TAGVAR(lt_prog_compiler_pic, $1)\"; then\n   _LT_COMPILER_OPTION([if $compiler PIC flag $_LT_TAGVAR(lt_prog_compiler_pic, $1) works],\n-    [_LT_TAGVAR(lt_prog_compiler_pic_works, $1)],\n+    [_LT_TAGVAR(lt_cv_prog_compiler_pic_works, $1)],\n     [$_LT_TAGVAR(lt_prog_compiler_pic, $1)@&t@m4_if([$1],[],[ -DPIC],[m4_if([$1],[CXX],[ -DPIC],[])])], [],\n     [case $_LT_TAGVAR(lt_prog_compiler_pic, $1) in\n      \"\" | \" \"*) ;;\n@@ -3965,7 +4143,7 @@ _LT_TAGDECL([pic_flag], [lt_prog_compiler_pic], [1],\n #\n wl=$_LT_TAGVAR(lt_prog_compiler_wl, $1) eval lt_tmp_static_flag=\\\"$_LT_TAGVAR(lt_prog_compiler_static, $1)\\\"\n _LT_LINKER_OPTION([if $compiler static flag $lt_tmp_static_flag works],\n-  _LT_TAGVAR(lt_prog_compiler_static_works, $1),\n+  _LT_TAGVAR(lt_cv_prog_compiler_static_works, $1),\n   $lt_tmp_static_flag,\n   [],\n   [_LT_TAGVAR(lt_prog_compiler_static, $1)=])\n@@ -4001,13 +4179,14 @@ m4_if([$1], [CXX], [\n   pw32*)\n     _LT_TAGVAR(export_symbols_cmds, $1)=\"$ltdll_cmds\"\n   ;;\n-  cygwin* | mingw*)\n+  cygwin* | mingw* | cegcc*)\n     _LT_TAGVAR(export_symbols_cmds, $1)='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\\''/^[[BCDGRS]][[ ]]/s/.*[[ ]]\\([[^ ]]*\\)/\\1 DATA/;/^.*[[ ]]__nm__/s/^.*[[ ]]__nm__\\([[^ ]]*\\)[[ ]][[^ ]]*/\\1 DATA/;/^I[[ ]]/d;/^[[AITW]][[ ]]/s/.* //'\\'' | sort | uniq > $export_symbols'\n   ;;\n   *)\n     _LT_TAGVAR(export_symbols_cmds, $1)='$NM $libobjs $convenience | $global_symbol_pipe | $SED '\\''s/.* //'\\'' | sort | uniq > $export_symbols'\n   ;;\n   esac\n+  _LT_TAGVAR(exclude_expsyms, $1)=['_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*']\n ], [\n   runpath_var=\n   _LT_TAGVAR(allow_undefined_flag, $1)=\n@@ -4041,16 +4220,18 @@ m4_if([$1], [CXX], [\n   # it will be wrapped by ` (' and `)$', so one must not match beginning or\n   # end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',\n   # as well as any symbol that contains `d'.\n-  _LT_TAGVAR(exclude_expsyms, $1)=\"_GLOBAL_OFFSET_TABLE_\"\n+  _LT_TAGVAR(exclude_expsyms, $1)=['_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*']\n   # Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out\n   # platforms (ab)use it in PIC code, but their linkers get confused if\n   # the symbol is explicitly referenced.  Since portable code cannot\n   # rely on this symbol name, it's probably fine to never include it in\n   # preloaded symbol tables.\n+  # Exclude shared library initialization/finalization symbols.\n+dnl Note also adjust exclude_expsyms for C++ above.\n   extract_expsyms_cmds=\n \n   case $host_os in\n-  cygwin* | mingw* | pw32*)\n+  cygwin* | mingw* | pw32* | cegcc*)\n     # FIXME: the MSVC++ port hasn't been tested in a loooong time\n     # When not using gcc, we currently assume that we are using\n     # Microsoft Visual C++.\n@@ -4112,19 +4293,18 @@ _LT_EOF\n       ;;\n \n     amigaos*)\n-      if test \"$host_cpu\" = m68k; then\n-        _LT_TAGVAR(archive_cmds, $1)='$RM $output_objdir/a2ixlibrary.data~$ECHO \"#define NAME $libname\" > $output_objdir/a2ixlibrary.data~$ECHO \"#define LIBRARY_ID 1\" >> $output_objdir/a2ixlibrary.data~$ECHO \"#define VERSION $major\" >> $output_objdir/a2ixlibrary.data~$ECHO \"#define REVISION $revision\" >> $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir && a2ixlibrary -32)'\n-        _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'\n-        _LT_TAGVAR(hardcode_minus_L, $1)=yes\n-      fi\n-\n-      # Samuel A. Falvo II <kc5tja@dolphin.openprojects.net> reports\n-      # that the semantics of dynamic libraries on AmigaOS, at least up\n-      # to version 4, is to share data among multiple programs linked\n-      # with the same dynamic library.  Since this doesn't match the\n-      # behavior of shared libraries on other platforms, we can't use\n-      # them.\n-      _LT_TAGVAR(ld_shlibs, $1)=no\n+      case $host_cpu in\n+      powerpc)\n+            # see comment about AmigaOS4 .so support\n+            _LT_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'\n+            _LT_TAGVAR(archive_expsym_cmds, $1)=''\n+        ;;\n+      m68k)\n+            _LT_TAGVAR(archive_cmds, $1)='$RM $output_objdir/a2ixlibrary.data~$ECHO \"#define NAME $libname\" > $output_objdir/a2ixlibrary.data~$ECHO \"#define LIBRARY_ID 1\" >> $output_objdir/a2ixlibrary.data~$ECHO \"#define VERSION $major\" >> $output_objdir/a2ixlibrary.data~$ECHO \"#define REVISION $revision\" >> $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir && a2ixlibrary -32)'\n+            _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'\n+            _LT_TAGVAR(hardcode_minus_L, $1)=yes\n+        ;;\n+      esac\n       ;;\n \n     beos*)\n@@ -4138,7 +4318,7 @@ _LT_EOF\n       fi\n       ;;\n \n-    cygwin* | mingw* | pw32*)\n+    cygwin* | mingw* | pw32* | cegcc*)\n       # _LT_TAGVAR(hardcode_libdir_flag_spec, $1) is actually meaningless,\n       # as there is no search path for DLLs.\n       _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'\n@@ -4189,6 +4369,7 @@ _LT_EOF\n \t && test \"$tmp_diet\" = no\n       then\n \ttmp_addflag=\n+\ttmp_sharedflag='-shared'\n \tcase $cc_basename,$host_cpu in\n         pgcc*)\t\t\t\t# Portland Group C compiler\n \t  _LT_TAGVAR(whole_archive_flag_spec, $1)='${wl}--whole-archive`for conv in $convenience\\\"\\\"; do test  -n \\\"$conv\\\" && new_convenience=\\\"$new_convenience,$conv\\\"; done; $ECHO \\\"$new_convenience\\\"` ${wl}--no-whole-archive'\n@@ -4203,6 +4384,12 @@ _LT_EOF\n \t  tmp_addflag=' -i_dynamic -nofor_main' ;;\n \tifc* | ifort*)\t\t\t# Intel Fortran compiler\n \t  tmp_addflag=' -nofor_main' ;;\n+\tlf95*)\t\t\t\t# Lahey Fortran 8.1\n+\t  _LT_TAGVAR(whole_archive_flag_spec, $1)=\n+\t  tmp_sharedflag='--shared' ;;\n+\txl[[cC]]*)\t\t\t# IBM XL C 8.0 on PPC (deal with xlf below)\n+\t  tmp_sharedflag='-qmkshrobj'\n+\t  tmp_addflag= ;;\n \tesac\n \tcase `$CC -V 2>&1 | sed 5q` in\n \t*Sun\\ C*)\t\t\t# Sun C 5.9\n@@ -4211,8 +4398,6 @@ _LT_EOF\n \t  tmp_sharedflag='-G' ;;\n \t*Sun\\ F*)\t\t\t# Sun Fortran 8.3\n \t  tmp_sharedflag='-G' ;;\n-\t*)\n-\t  tmp_sharedflag='-shared' ;;\n \tesac\n \t_LT_TAGVAR(archive_cmds, $1)='$CC '\"$tmp_sharedflag\"\"$tmp_addflag\"' $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'\n \n@@ -4222,6 +4407,22 @@ _LT_EOF\n \t    echo \"local: *; };\" >> $output_objdir/$libname.ver~\n \t    $CC '\"$tmp_sharedflag\"\"$tmp_addflag\"' $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-version-script ${wl}$output_objdir/$libname.ver -o $lib'\n         fi\n+\n+\tcase $cc_basename in\n+\txlf*)\n+\t  # IBM XL Fortran 10.1 on PPC cannot create shared libs itself\n+\t  _LT_TAGVAR(whole_archive_flag_spec, $1)='--whole-archive$convenience --no-whole-archive'\n+\t  _LT_TAGVAR(hardcode_libdir_flag_spec, $1)=\n+\t  _LT_TAGVAR(hardcode_libdir_flag_spec_ld, $1)='-rpath $libdir'\n+\t  _LT_TAGVAR(archive_cmds, $1)='$LD -shared $libobjs $deplibs $compiler_flags -soname $soname -o $lib'\n+\t  if test \"x$supports_anon_versioning\" = xyes; then\n+\t    _LT_TAGVAR(archive_expsym_cmds, $1)='echo \"{ global:\" > $output_objdir/$libname.ver~\n+\t      cat $export_symbols | sed -e \"s/\\(.*\\)/\\1;/\" >> $output_objdir/$libname.ver~\n+\t      echo \"local: *; };\" >> $output_objdir/$libname.ver~\n+\t      $LD -shared $libobjs $deplibs $compiler_flags -soname $soname -version-script $output_objdir/$libname.ver -o $lib'\n+\t  fi\n+\t  ;;\n+\tesac\n       else\n         _LT_TAGVAR(ld_shlibs, $1)=no\n       fi\n@@ -4417,6 +4618,7 @@ _LT_EOF\n \tfi\n       fi\n \n+      _LT_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-bexpall'\n       # It seems that -bexpall does not export symbols beginning with\n       # underscore (_), so it is better to generate a list of symbols to export.\n       _LT_TAGVAR(always_export_symbols, $1)=yes\n@@ -4453,20 +4655,25 @@ _LT_EOF\n       ;;\n \n     amigaos*)\n-      if test \"$host_cpu\" = m68k; then\n-        _LT_TAGVAR(archive_cmds, $1)='$RM $output_objdir/a2ixlibrary.data~$ECHO \"#define NAME $libname\" > $output_objdir/a2ixlibrary.data~$ECHO \"#define LIBRARY_ID 1\" >> $output_objdir/a2ixlibrary.data~$ECHO \"#define VERSION $major\" >> $output_objdir/a2ixlibrary.data~$ECHO \"#define REVISION $revision\" >> $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir && a2ixlibrary -32)'\n-        _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'\n-        _LT_TAGVAR(hardcode_minus_L, $1)=yes\n-      fi\n-      # see comment about different semantics on the GNU ld section\n-      _LT_TAGVAR(ld_shlibs, $1)=no\n+      case $host_cpu in\n+      powerpc)\n+            # see comment about AmigaOS4 .so support\n+            _LT_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'\n+            _LT_TAGVAR(archive_expsym_cmds, $1)=''\n+        ;;\n+      m68k)\n+            _LT_TAGVAR(archive_cmds, $1)='$RM $output_objdir/a2ixlibrary.data~$ECHO \"#define NAME $libname\" > $output_objdir/a2ixlibrary.data~$ECHO \"#define LIBRARY_ID 1\" >> $output_objdir/a2ixlibrary.data~$ECHO \"#define VERSION $major\" >> $output_objdir/a2ixlibrary.data~$ECHO \"#define REVISION $revision\" >> $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir && a2ixlibrary -32)'\n+            _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'\n+            _LT_TAGVAR(hardcode_minus_L, $1)=yes\n+        ;;\n+      esac\n       ;;\n \n     bsdi[[45]]*)\n       _LT_TAGVAR(export_dynamic_flag_spec, $1)=-rdynamic\n       ;;\n \n-    cygwin* | mingw* | pw32*)\n+    cygwin* | mingw* | pw32* | cegcc*)\n       # When not using gcc, we currently assume that we are using\n       # Microsoft Visual C++.\n       # hardcode_libdir_flag_spec is actually meaningless, as there is\n@@ -4488,69 +4695,7 @@ _LT_EOF\n       ;;\n \n     darwin* | rhapsody*)\n-      case $host_os in\n-      rhapsody* | darwin1.[[012]])\n-\t_LT_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}suppress'\n-\t;;\n-      *) # Darwin 1.3 on\n-\tcase ${MACOSX_DEPLOYMENT_TARGET-10.0} in\n-\t10.[[012]])\n-\t  _LT_TAGVAR(allow_undefined_flag, $1)='${wl}-flat_namespace ${wl}-undefined ${wl}suppress'\n-\t  ;;\n-\t10.*)\n-\t  _LT_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}dynamic_lookup'\n-\t  ;;\n-\tesac\n-\t;;\n-      esac\n-      _LT_TAGVAR(archive_cmds_need_lc, $1)=no\n-      _LT_TAGVAR(hardcode_direct, $1)=no\n-      _LT_TAGVAR(hardcode_automatic, $1)=yes\n-      _LT_TAGVAR(hardcode_shlibpath_var, $1)=unsupported\n-      _LT_TAGVAR(whole_archive_flag_spec, $1)=''\n-      _LT_TAGVAR(link_all_deplibs, $1)=yes\n-      if test \"$GCC\" = yes ; then\n-\tAC_CACHE_VAL([lt_cv_apple_cc_single_mod],\n-\t[lt_cv_apple_cc_single_mod=no\n-\tif test -z \"${LT_MULTI_MODULE}\"; then\n-\t  # By default we will add the -single_module flag. You can override\n-\t  # by either setting the environment variable LT_MULTI_MODULE\n-\t  # non-empty at configure time, or by adding -multi-module to the\n-\t  # link flags.\n-\t  echo \"int foo(void){return 1;}\" > conftest.c\n-\t  $LTCC $LTCFLAGS $LDFLAGS -o libconftest.dylib \\\n-\t      -dynamiclib ${wl}-single_module conftest.c\n-\t  if test -f libconftest.dylib; then\n-\t      lt_cv_apple_cc_single_mod=yes\n-\t      rm libconftest.dylib\n-\t  fi\n-\t  rm conftest.$ac_ext\n-\tfi])\n-\toutput_verbose_link_cmd=echo\n-\tif test \"X$lt_cv_apple_cc_single_mod\" = Xyes ; then\n-\t  _LT_TAGVAR(archive_cmds, $1)='$CC -dynamiclib $single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'\n-\t  _LT_TAGVAR(archive_expsym_cmds, $1)='sed \"s,^,_,\" < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $single_module -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'\n-\telse\n-\t  _LT_TAGVAR(archive_cmds, $1)='$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'\n-\t  _LT_TAGVAR(archive_expsym_cmds, $1)='sed \"s,^,_,\" < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'\n-\tfi\n-\t_LT_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'\n-\t_LT_TAGVAR(module_expsym_cmds, $1)='sed -e \"s,^,_,\" < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'\n-      else\n-\tcase $cc_basename in\n-\txlc*)\n-\t  output_verbose_link_cmd=echo\n-\t  _LT_TAGVAR(archive_cmds, $1)='$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`$ECHO $rpath/$soname` $verstring'\n-\t  _LT_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'\n-\t  # Don't fix this by using the ld -exported_symbols_list flag, it doesn't exist in older darwin lds\n-\t  _LT_TAGVAR(archive_expsym_cmds, $1)='sed \"s,^,_,\" < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'\n-\t  _LT_TAGVAR(module_expsym_cmds, $1)='sed \"s,^,_,\" < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'\n-\t  ;;\n-\t*)\n-\t  _LT_TAGVAR(ld_shlibs, $1)=no\n-\t  ;;\n-\tesac\n-      fi\n+      _LT_DARWIN_LINKER_FEATURES($1)\n       ;;\n \n     dgux*)\n@@ -4632,7 +4777,7 @@ _LT_EOF\n \t  _LT_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'\n \t  ;;\n \tia64*)\n-\t  _LT_TAGVAR(archive_cmds, $1)='$CC -shared ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $libobjs $deplibs $compiler_flags'\n+\t  _LT_TAGVAR(archive_cmds, $1)='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $libobjs $deplibs $compiler_flags'\n \t  ;;\n \t*)\n \t  _LT_TAGVAR(archive_cmds, $1)='$CC -shared -fPIC ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'\n@@ -4719,25 +4864,29 @@ _LT_EOF\n       ;;\n \n     openbsd*)\n-      _LT_TAGVAR(hardcode_direct, $1)=yes\n-      _LT_TAGVAR(hardcode_shlibpath_var, $1)=no\n-      _LT_TAGVAR(hardcode_direct_absolute, $1)=yes\n-      if test -z \"`echo __ELF__ | $CC -E - | $GREP __ELF__`\" || test \"$host_os-$host_cpu\" = \"openbsd2.8-powerpc\"; then\n-\t_LT_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'\n-\t_LT_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-retain-symbols-file,$export_symbols'\n-\t_LT_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'\n-\t_LT_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'\n-      else\n-        case $host_os in\n-\topenbsd[[01]].* | openbsd2.[[0-7]] | openbsd2.[[0-7]].*)\n-\t  _LT_TAGVAR(archive_cmds, $1)='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'\n-\t  _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='-R$libdir'\n-\t  ;;\n-\t*)\n+      if test -f /usr/libexec/ld.so; then\n+\t_LT_TAGVAR(hardcode_direct, $1)=yes\n+\t_LT_TAGVAR(hardcode_shlibpath_var, $1)=no\n+\t_LT_TAGVAR(hardcode_direct_absolute, $1)=yes\n+\tif test -z \"`echo __ELF__ | $CC -E - | $GREP __ELF__`\" || test \"$host_os-$host_cpu\" = \"openbsd2.8-powerpc\"; then\n \t  _LT_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'\n+\t  _LT_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-retain-symbols-file,$export_symbols'\n \t  _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'\n-\t  ;;\n-        esac\n+\t  _LT_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'\n+\telse\n+\t  case $host_os in\n+\t   openbsd[[01]].* | openbsd2.[[0-7]] | openbsd2.[[0-7]].*)\n+\t     _LT_TAGVAR(archive_cmds, $1)='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'\n+\t     _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='-R$libdir'\n+\t     ;;\n+\t   *)\n+\t     _LT_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'\n+\t     _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'\n+\t     ;;\n+\t  esac\n+\tfi\n+      else\n+\t_LT_TAGVAR(ld_shlibs, $1)=no\n       fi\n       ;;\n \n@@ -5413,6 +5562,7 @@ if test \"$_lt_caught_CXX_error\" != yes; then\n           fi\n         fi\n \n+        _LT_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-bexpall'\n         # It seems that -bexpall does not export symbols beginning with\n         # underscore (_), so it is better to generate a list of symbols to\n \t# export.\n@@ -5471,7 +5621,7 @@ if test \"$_lt_caught_CXX_error\" != yes; then\n         esac\n         ;;\n \n-      cygwin* | mingw* | pw32*)\n+      cygwin* | mingw* | pw32* | cegcc*)\n         # _LT_TAGVAR(hardcode_libdir_flag_spec, $1) is actually meaningless,\n         # as there is no search path for DLLs.\n         _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'\n@@ -5495,71 +5645,7 @@ if test \"$_lt_caught_CXX_error\" != yes; then\n         fi\n         ;;\n       darwin* | rhapsody*)\n-\tcase $host_os in\n-\t  rhapsody* | darwin1.[[012]])\n-\t    _LT_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}suppress'\n-\t    ;;\n-\t  *) # Darwin 1.3 on\n-\t    case ${MACOSX_DEPLOYMENT_TARGET-10.0} in\n-\t      10.[[012]])\n-\t\t_LT_TAGVAR(allow_undefined_flag, $1)='${wl}-flat_namespace ${wl}-undefined ${wl}suppress'\n-\t\t;;\n-\t      10.*)\n-\t\t_LT_TAGVAR(allow_undefined_flag, $1)='${wl}-undefined ${wl}dynamic_lookup'\n-\t\t;;\n-\t    esac\n-\t    ;;\n-\tesac\n-\t_LT_TAGVAR(archive_cmds_need_lc, $1)=no\n-\t_LT_TAGVAR(hardcode_direct, $1)=no\n-\t_LT_TAGVAR(hardcode_automatic, $1)=yes\n-\t_LT_TAGVAR(hardcode_shlibpath_var, $1)=unsupported\n-\t_LT_TAGVAR(whole_archive_flag_spec, $1)=''\n-\t_LT_TAGVAR(link_all_deplibs, $1)=yes\n-\n-\tif test \"$GXX\" = yes ; then\n-\t  AC_CACHE_VAL([lt_cv_apple_cc_single_mod],\n-\t  [lt_cv_apple_cc_single_mod=no\n-\t  if test -z \"${LT_MULTI_MODULE}\"; then\n-\t    # By default we will add the -single_module flag. You can override\n-\t    # by either setting the environment variable LT_MULTI_MODULE\n-\t    # non-empty at configure time, or by adding -multi-module to the\n-\t    # link flags.\n-\t    echo \"int foo(void){return 1;}\" > conftest.c\n-\t    $LTCC $LTCFLAGS $LDFLAGS -o libconftest.dylib \\\n-\t\t-dynamiclib ${wl}-single_module conftest.c\n-\t    if test -f libconftest.dylib; then\n-\t\tlt_cv_apple_cc_single_mod=yes\n-\t\trm libconftest.dylib\n-\t    fi\n-\t    rm conftest.$ac_ext\n-\t  fi])\n-\t  output_verbose_link_cmd=echo\n-\t  if test \"X$lt_cv_apple_cc_single_mod\" = Xyes ; then\n-\t   _LT_TAGVAR(archive_cmds, $1)='$CC -dynamiclib $single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring'\n-\t    _LT_TAGVAR(archive_expsym_cmds, $1)='sed \"s,^,_,\" < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -dynamiclib $single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'\n-\t  else\n-\t    _LT_TAGVAR(archive_cmds, $1)='$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring'\n-\t    _LT_TAGVAR(archive_expsym_cmds, $1)='sed \"s,^,_,\" < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -r -keep_private_externs -nostdlib -o ${lib}-master.o $libobjs~$CC -dynamiclib $allow_undefined_flag -o $lib ${lib}-master.o $deplibs $compiler_flags -install_name $rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'\n-\t  fi\n-\t  _LT_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'\n-\t  _LT_TAGVAR(module_expsym_cmds, $1)='sed \"s,^,_,\" < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'\n-\telse\n-\t  case $cc_basename in\n-\t    xlc*)\n-\t      output_verbose_link_cmd=echo\n-\t      _LT_TAGVAR(archive_cmds, $1)='$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}`$ECHO \"$rpath/$soname\"` $verstring'\n-\t      _LT_TAGVAR(module_cmds, $1)='$CC $allow_undefined_flag -o $lib -bundle $libobjs $deplibs$compiler_flags'\n-\t      # Don't fix this by using the ld -exported_symbols_list flag,\n-\t      # it doesn't exist in older darwin lds\n-\t      _LT_TAGVAR(archive_expsym_cmds, $1)='sed \"s,^,_,\" < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC -qmkshrobj ${wl}-single_module $allow_undefined_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-install_name ${wl}$rpath/$soname $verstring~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'\n-\t      _LT_TAGVAR(module_expsym_cmds, $1)='sed \"s,^,_,\" < $export_symbols > $output_objdir/${libname}-symbols.expsym~$CC $allow_undefined_flag  -o $lib -bundle $libobjs $deplibs$compiler_flags~nmedit -s $output_objdir/${libname}-symbols.expsym ${lib}'\n-\t      ;;\n-\t    *)\n-\t      _LT_TAGVAR(ld_shlibs, $1)=no\n-\t      ;;\n-\t  esac\n-\tfi\n+        _LT_DARWIN_LINKER_FEATURES($1)\n \t;;\n \n       dgux*)\n@@ -5807,10 +5893,10 @@ if test \"$_lt_caught_CXX_error\" != yes; then\n \t    _LT_TAGVAR(export_dynamic_flag_spec, $1)='${wl}--export-dynamic'\n \t    _LT_TAGVAR(whole_archive_flag_spec, $1)='${wl}--whole-archive$convenience ${wl}--no-whole-archive'\n \t    ;;\n-          pgCC*)\n+          pgCC* | pgcpp*)\n             # Portland Group C++ compiler\n \t    case `$CC -V` in\n-\t    *pgCC\\ [[1-5]]*)\n+\t    *pgCC\\ [[1-5]]* | *pgcpp\\ [[1-5]]*)\n \t      _LT_TAGVAR(prelink_cmds, $1)='tpldir=Template.dir~\n \t\trm -rf $tpldir~\n \t\t$CC --prelink_objects --instantiation_dir $tpldir $objs $libobjs $compile_deplibs~\n@@ -5858,6 +5944,18 @@ if test \"$_lt_caught_CXX_error\" != yes; then\n \t    # dependencies.\n \t    output_verbose_link_cmd='templist=`$CC -shared $CFLAGS -v conftest.$objext 2>&1 | $GREP \"ld\"`; templist=`$ECHO \"X$templist\" | $Xsed -e \"s/\\(^.*ld.*\\)\\( .*ld .*$\\)/\\1/\"`; list=\"\"; for z in $templist; do case $z in conftest.$objext) list=\"$list $z\";; *.$objext);; *) list=\"$list $z\";;esac; done; $ECHO \"X$list\" | $Xsed'\n \t    ;;\n+\t  xl*)\n+\t    # IBM XL 8.0 on PPC, with GNU ld\n+\t    _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath ${wl}$libdir'\n+\t    _LT_TAGVAR(export_dynamic_flag_spec, $1)='${wl}--export-dynamic'\n+\t    _LT_TAGVAR(archive_cmds, $1)='$CC -qmkshrobj $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'\n+\t    if test \"x$supports_anon_versioning\" = xyes; then\n+\t      _LT_TAGVAR(archive_expsym_cmds, $1)='echo \"{ global:\" > $output_objdir/$libname.ver~\n+\t\tcat $export_symbols | sed -e \"s/\\(.*\\)/\\1;/\" >> $output_objdir/$libname.ver~\n+\t\techo \"local: *; };\" >> $output_objdir/$libname.ver~\n+\t\t$CC -qmkshrobj $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-version-script ${wl}$output_objdir/$libname.ver -o $lib'\n+\t    fi\n+\t    ;;\n \t  *)\n \t    case `$CC -V 2>&1 | sed 5q` in\n \t    *Sun\\ C*)\n@@ -5930,17 +6028,21 @@ if test \"$_lt_caught_CXX_error\" != yes; then\n \t;;\n \n       openbsd*)\n-\t_LT_TAGVAR(hardcode_direct, $1)=yes\n-\t_LT_TAGVAR(hardcode_shlibpath_var, $1)=no\n-\t_LT_TAGVAR(hardcode_direct_absolute, $1)=yes\n-\t_LT_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $lib'\n-\t_LT_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'\n-\tif test -z \"`echo __ELF__ | $CC -E - | grep __ELF__`\" || test \"$host_os-$host_cpu\" = \"openbsd2.8-powerpc\"; then\n-\t  _LT_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-retain-symbols-file,$export_symbols -o $lib'\n-\t  _LT_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'\n-\t  _LT_TAGVAR(whole_archive_flag_spec, $1)=\"$wlarc\"'--whole-archive$convenience '\"$wlarc\"'--no-whole-archive'\n+\tif test -f /usr/libexec/ld.so; then\n+\t  _LT_TAGVAR(hardcode_direct, $1)=yes\n+\t  _LT_TAGVAR(hardcode_shlibpath_var, $1)=no\n+\t  _LT_TAGVAR(hardcode_direct_absolute, $1)=yes\n+\t  _LT_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $lib'\n+\t  _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='${wl}-rpath,$libdir'\n+\t  if test -z \"`echo __ELF__ | $CC -E - | grep __ELF__`\" || test \"$host_os-$host_cpu\" = \"openbsd2.8-powerpc\"; then\n+\t    _LT_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $pic_flag $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-retain-symbols-file,$export_symbols -o $lib'\n+\t    _LT_TAGVAR(export_dynamic_flag_spec, $1)='${wl}-E'\n+\t    _LT_TAGVAR(whole_archive_flag_spec, $1)=\"$wlarc\"'--whole-archive$convenience '\"$wlarc\"'--no-whole-archive'\n+\t  fi\n+\t  output_verbose_link_cmd=echo\n+\telse\n+\t  _LT_TAGVAR(ld_shlibs, $1)=no\n \tfi\n-\toutput_verbose_link_cmd=echo\n \t;;\n \n       osf3* | osf4* | osf5*)\n@@ -6302,12 +6404,7 @@ if AC_TRY_EVAL(ac_compile); then\n   # the conftest object file.\n   pre_test_object_deps_done=no\n \n-  # The `*' in the case matches for architectures that use `case' in\n-  # $output_verbose_cmd can trigger glob expansion during the loop\n-  # eval without this substitution.\n-  output_verbose_link_cmd=`$ECHO \"X$output_verbose_link_cmd\" | $Xsed -e \"$no_glob_subst\"`\n-\n-  for p in `eval $output_verbose_link_cmd`; do\n+  for p in `eval \"$output_verbose_link_cmd\"`; do\n     case $p in\n \n     -L* | -R* | -l*)\n@@ -6442,6 +6539,12 @@ esac\n case \" $_LT_TAGVAR(postdeps, $1) \" in\n *\" -lc \"*) _LT_TAGVAR(archive_cmds_need_lc, $1)=no ;;\n esac\n+ _LT_TAGVAR(compiler_lib_search_dirs, $1)=\n+if test -n \"${_LT_TAGVAR(compiler_lib_search_path, $1)}\"; then\n+ _LT_TAGVAR(compiler_lib_search_dirs, $1)=`echo \" ${_LT_TAGVAR(compiler_lib_search_path, $1)}\" | ${SED} -e 's! -L! !g' -e 's!^ !!'`\n+fi\n+_LT_TAGDECL([], [compiler_lib_search_dirs], [1],\n+    [The directories searched by this compiler when creating a shared library])\n _LT_TAGDECL([], [predep_objects], [1],\n     [Dependencies to place before and after the objects being linked to\n     create a shared library])\n@@ -6536,11 +6639,12 @@ if test \"$_lt_disable_F77\" != yes; then\n \n   # Allow CC to be a program name with arguments.\n   lt_save_CC=\"$CC\"\n+  lt_save_GCC=$GCC\n   CC=${F77-\"f77\"}\n   compiler=$CC\n   _LT_TAGVAR(compiler, $1)=$CC\n   _LT_CC_BASENAME([$compiler])\n-\n+  GCC=$G77\n   if test -n \"$compiler\"; then\n     AC_MSG_CHECKING([if libtool supports shared libraries])\n     AC_MSG_RESULT([$can_build_shared])\n@@ -6588,6 +6692,7 @@ if test \"$_lt_disable_F77\" != yes; then\n     _LT_CONFIG($1)\n   fi # test -n \"$compiler\"\n \n+  GCC=$lt_save_GCC\n   CC=\"$lt_save_CC\"\n fi # test \"$_lt_disable_F77\" != yes\n \n@@ -6677,8 +6782,11 @@ if test \"$_lt_disable_FC\" != yes; then\n \n   # Allow CC to be a program name with arguments.\n   lt_save_CC=\"$CC\"\n+  lt_save_GCC=$GCC\n   CC=${FC-\"f95\"}\n   compiler=$CC\n+  GCC=$ac_cv_fc_compiler_gnu\n+\n   _LT_TAGVAR(compiler, $1)=$CC\n   _LT_CC_BASENAME([$compiler])\n \n@@ -6730,6 +6838,7 @@ if test \"$_lt_disable_FC\" != yes; then\n     _LT_CONFIG($1)\n   fi # test -n \"$compiler\"\n \n+  GCC=$lt_save_GCC\n   CC=\"$lt_save_CC\"\n fi # test \"$_lt_disable_FC\" != yes\n \n@@ -6768,9 +6877,12 @@ _LT_LINKER_BOILERPLATE\n \n # Allow CC to be a program name with arguments.\n lt_save_CC=\"$CC\"\n+lt_save_GCC=$GCC\n+GCC=yes\n CC=${GCJ-\"gcj\"}\n compiler=$CC\n _LT_TAGVAR(compiler, $1)=$CC\n+_LT_TAGVAR(LD, $1)=\"$LD\"\n _LT_CC_BASENAME([$compiler])\n \n # GCJ did not exist at the time GCC didn't implicitly link libc in.\n@@ -6788,13 +6900,14 @@ if test -n \"$compiler\"; then\n   _LT_COMPILER_C_O($1)\n   _LT_COMPILER_FILE_LOCKS($1)\n   _LT_LINKER_SHLIBS($1)\n-  _LT_SYS_DYNAMIC_LINKER($1)\n   _LT_LINKER_HARDCODE_LIBPATH($1)\n \n   _LT_CONFIG($1)\n fi\n \n AC_LANG_RESTORE\n+\n+GCC=$lt_save_GCC\n CC=\"$lt_save_CC\"\n ])# _LT_LANG_GCJ_CONFIG\n \n@@ -6830,6 +6943,8 @@ _LT_LINKER_BOILERPLATE\n \n # Allow CC to be a program name with arguments.\n lt_save_CC=\"$CC\"\n+lt_save_GCC=$GCC\n+GCC=\n CC=${RC-\"windres\"}\n compiler=$CC\n _LT_TAGVAR(compiler, $1)=$CC\n@@ -6841,6 +6956,7 @@ if test -n \"$compiler\"; then\n   _LT_CONFIG($1)\n fi\n \n+GCC=$lt_save_GCC\n AC_LANG_RESTORE\n CC=\"$lt_save_CC\"\n ])# _LT_LANG_RC_CONFIG\n@@ -6890,6 +7006,18 @@ AC_SUBST([GREP])\n ])\n \n \n+# _LT_DECL_OBJDUMP\n+# --------------\n+# If we don't have a new enough Autoconf to choose the best objdump\n+# available, choose the one first in the user's PATH.\n+m4_defun([_LT_DECL_OBJDUMP],\n+[AC_CHECK_TOOL(OBJDUMP, objdump, false)\n+test -z \"$OBJDUMP\" && OBJDUMP=objdump\n+_LT_DECL([], [OBJDUMP], [1], [An object symbol dumper])\n+AC_SUBST([OBJDUMP])\n+])\n+\n+\n # _LT_DECL_SED\n # ------------\n # Check for a fully-functional sed program, that truncates\n@@ -6983,7 +7111,9 @@ m4_defun([_LT_CHECK_SHELL_FEATURES],\n xsi_shell=no\n ( _lt_dummy=\"a/b/c\"\n   test \"${_lt_dummy##*/},${_lt_dummy%/*},\"${_lt_dummy%\"$_lt_dummy\"}, \\\n-      = c,a/b,, ) >/dev/null 2>&1 \\\n+      = c,a/b,, \\\n+    && eval 'test $(( 1 + 1 )) -eq 2 \\\n+    && test \"${#_lt_dummy}\" -eq 5' ) >/dev/null 2>&1 \\\n   && xsi_shell=yes\n AC_MSG_RESULT([$xsi_shell])\n _LT_CONFIG_LIBTOOL_INIT([xsi_shell='$xsi_shell'])\n@@ -7027,6 +7157,7 @@ m4_defun([_LT_PROG_XSI_SHELLFNS],\n [case $xsi_shell in\n   yes)\n     cat << \\_LT_EOF >> \"$cfgfile\"\n+\n # func_dirname file append nondir_replacement\n # Compute the dirname of FILE.  If nonempty, add APPEND to the result,\n # otherwise set result to NONDIR_REPLACEMENT.\n@@ -7044,6 +7175,27 @@ func_basename ()\n   func_basename_result=\"${1##*/}\"\n }\n \n+# func_dirname_and_basename file append nondir_replacement\n+# perform func_basename and func_dirname in a single function\n+# call:\n+#   dirname:  Compute the dirname of FILE.  If nonempty,\n+#             add APPEND to the result, otherwise set result\n+#             to NONDIR_REPLACEMENT.\n+#             value returned in \"$func_dirname_result\"\n+#   basename: Compute filename of FILE.\n+#             value retuned in \"$func_basename_result\"\n+# Implementation must be kept synchronized with func_dirname\n+# and func_basename. For efficiency, we do not delegate to\n+# those functions but instead duplicate the functionality here.\n+func_dirname_and_basename ()\n+{\n+  case ${1} in\n+    */*) func_dirname_result=\"${1%/*}${2}\" ;;\n+    *  ) func_dirname_result=\"${3}\" ;;\n+  esac\n+  func_basename_result=\"${1##*/}\"\n+}\n+\n # func_stripname prefix suffix name\n # strip PREFIX and SUFFIX off of NAME.\n # PREFIX and SUFFIX must not contain globbing or regex special\n@@ -7073,10 +7225,31 @@ func_lo2o ()\n     *)    func_lo2o_result=${1} ;;\n   esac\n }\n+\n+# func_xform libobj-or-source\n+func_xform ()\n+{\n+  func_xform_result=${1%.*}.lo\n+}\n+\n+# func_arith arithmetic-term...\n+func_arith ()\n+{\n+  func_arith_result=$(( $[*] ))\n+}\n+\n+# func_len string\n+# STRING may not start with a hyphen.\n+func_len ()\n+{\n+  func_len_result=${#1}\n+}\n+\n _LT_EOF\n     ;;\n   *) # Bourne compatible functions.\n     cat << \\_LT_EOF >> \"$cfgfile\"\n+\n # func_dirname file append nondir_replacement\n # Compute the dirname of FILE.  If nonempty, add APPEND to the result,\n # otherwise set result to NONDIR_REPLACEMENT.\n@@ -7097,6 +7270,10 @@ func_basename ()\n   func_basename_result=`$ECHO \"X${1}\" | $Xsed -e \"$basename\"`\n }\n \n+dnl func_dirname_and_basename\n+dnl A portable version of this function is already defined in general.m4sh\n+dnl so there is no need for it here.\n+\n # func_stripname prefix suffix name\n # strip PREFIX and SUFFIX off of NAME.\n # PREFIX and SUFFIX must not contain globbing or regex special\n@@ -7129,6 +7306,26 @@ func_lo2o ()\n {\n   func_lo2o_result=`$ECHO \"X${1}\" | $Xsed -e \"$lo2o\"`\n }\n+\n+# func_xform libobj-or-source\n+func_xform ()\n+{\n+  func_xform_result=`$ECHO \"X${1}\" | $Xsed -e 's/\\.[[^.]]*$/.lo/'`\n+}\n+\n+# func_arith arithmetic-term...\n+func_arith ()\n+{\n+  func_arith_result=`expr \"$[@]\"`\n+}\n+\n+# func_len string\n+# STRING may not start with a hyphen.\n+func_len ()\n+{\n+  func_len_result=`expr \"$[1]\" : \".*\" 2>/dev/null || echo $max_cmd_len`\n+}\n+\n _LT_EOF\n esac\n \n@@ -7153,6 +7350,7 @@ func_append ()\n {\n   eval \"$[1]=\\$$[1]\\$[2]\"\n }\n+\n _LT_EOF\n     ;;\n   esac"}, {"sha": "844e2bc16d50272fee0bd22ad1ee6796331558c5", "filename": "ltgcc.m4", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae11dff459209c6a036556ced4012e86c88b96d8/ltgcc.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae11dff459209c6a036556ced4012e86c88b96d8/ltgcc.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltgcc.m4?ref=ae11dff459209c6a036556ced4012e86c88b96d8", "patch": "@@ -30,6 +30,7 @@ _LT_COMPILER_BOILERPLATE\n _LT_LINKER_BOILERPLATE\n \n # Allow CC to be a program name with arguments.\n+GCC=yes\n compiler=$CC\n _LT_TAGVAR(compiler, $1)=$CC\n _LT_CC_BASENAME([$compiler])\n@@ -49,7 +50,6 @@ if test -n \"$compiler\"; then\n   _LT_COMPILER_C_O($1)\n   _LT_COMPILER_FILE_LOCKS($1)\n   _LT_LINKER_SHLIBS($1)\n-  _LT_SYS_DYNAMIC_LINKER($1)\n   _LT_LINKER_HARDCODE_LIBPATH($1)\n \n   _LT_CONFIG($1)"}, {"sha": "8dfa0b3b5584265d34f92a05e5eb4fea684d586f", "filename": "ltmain.sh", "status": "modified", "additions": 5788, "deletions": 4772, "changes": 10560, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae11dff459209c6a036556ced4012e86c88b96d8/ltmain.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae11dff459209c6a036556ced4012e86c88b96d8/ltmain.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltmain.sh?ref=ae11dff459209c6a036556ced4012e86c88b96d8"}, {"sha": "34151a3ba625f326e6645d6afc79586f10746a3e", "filename": "ltoptions.m4", "status": "modified", "additions": 99, "deletions": 73, "changes": 172, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae11dff459209c6a036556ced4012e86c88b96d8/ltoptions.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae11dff459209c6a036556ced4012e86c88b96d8/ltoptions.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltoptions.m4?ref=ae11dff459209c6a036556ced4012e86c88b96d8", "patch": "@@ -1,107 +1,114 @@\n # Helper functions for option handling.                    -*- Autoconf -*-\n-\n-# Copyright (C) 2004, 2005 Free Software Foundation, Inc.\n-# Written by Gary V. Vaughan <gary@gnu.org>\n+#\n+#   Copyright (C) 2004, 2005, 2007, 2008 Free Software Foundation, Inc.\n+#   Written by Gary V. Vaughan, 2004\n #\n # This file is free software; the Free Software Foundation gives\n # unlimited permission to copy and/or distribute it, with or without\n # modifications, as long as this notice is preserved.\n \n-# serial 3 ltoptions.m4\n+# serial 6 ltoptions.m4\n \n # This is to help aclocal find these macros, as it can't see m4_define.\n AC_DEFUN([LTOPTIONS_VERSION], [m4_if([1])])\n \n \n-# _LT_MANGLE_OPTION(NAME)\n-# -----------------------\n+# _LT_MANGLE_OPTION(MACRO-NAME, OPTION-NAME)\n+# ------------------------------------------\n m4_define([_LT_MANGLE_OPTION],\n-[[_LT_OPTION_]m4_bpatsubst($1, [[^a-zA-Z0-9_]], [_])])\n+[[_LT_OPTION_]m4_bpatsubst($1__$2, [[^a-zA-Z0-9_]], [_])])\n \n \n-# _LT_SET_OPTION(NAME)\n-# --------------------\n-# Set option NAME, and if there is a matching handler defined,\n-# dispatch to it.  Other NAMEs are saved as a flag.\n+# _LT_SET_OPTION(MACRO-NAME, OPTION-NAME)\n+# ---------------------------------------\n+# Set option OPTION-NAME for macro MACRO-NAME, and if there is a\n+# matching handler defined, dispatch to it.  Other OPTION-NAMEs are\n+# saved as a flag.\n m4_define([_LT_SET_OPTION],\n-[m4_define(_LT_MANGLE_OPTION([$1]))dnl\n-m4_ifdef(_LT_MANGLE_DEFUN([$1]),\n-        _LT_MANGLE_DEFUN([$1]),\n-    [m4_warning([Unknown Libtool option `$1'])])[]dnl\n+[m4_define(_LT_MANGLE_OPTION([$1], [$2]))dnl\n+m4_ifdef(_LT_MANGLE_DEFUN([$1], [$2]),\n+        _LT_MANGLE_DEFUN([$1], [$2]),\n+    [m4_warning([Unknown $1 option `$2'])])[]dnl\n ])\n \n \n-# _LT_IF_OPTION(OPTION, IF-SET, [IF-NOT-SET])\n-# -------------------------------------------\n+# _LT_IF_OPTION(MACRO-NAME, OPTION-NAME, IF-SET, [IF-NOT-SET])\n+# ------------------------------------------------------------\n # Execute IF-SET if OPTION is set, IF-NOT-SET otherwise.\n m4_define([_LT_IF_OPTION],\n-[m4_ifdef(_LT_MANGLE_OPTION([$1]), [$2], [$3])])\n+[m4_ifdef(_LT_MANGLE_OPTION([$1], [$2]), [$3], [$4])])\n \n \n-# _LT_UNLESS_OPTIONS(OPTIONS, IF-NOT-SET)\n-# ---------------------------------------\n-# Execute IF-NOT-SET if all OPTIONS are not set.\n+# _LT_UNLESS_OPTIONS(MACRO-NAME, OPTION-LIST, IF-NOT-SET)\n+# -------------------------------------------------------\n+# Execute IF-NOT-SET unless all options in OPTION-LIST for MACRO-NAME\n+# are set.\n m4_define([_LT_UNLESS_OPTIONS],\n-[m4_foreach([_LT_Option], m4_split(m4_normalize([$1])),\n-\t    [m4_ifdef(_LT_MANGLE_OPTION(_LT_Option),\n+[m4_foreach([_LT_Option], m4_split(m4_normalize([$2])),\n+\t    [m4_ifdef(_LT_MANGLE_OPTION([$1], _LT_Option),\n \t\t      [m4_define([$0_found])])])[]dnl\n-m4_ifdef([$0_found], [m4_undefine([$0_found])], [$2\n+m4_ifdef([$0_found], [m4_undefine([$0_found])], [$3\n ])[]dnl\n ])\n \n \n-# _LT_SET_OPTIONS(OPTIONS)\n-# ------------------------\n-# OPTIONS is a space-separated list of Libtool options.\n-# If any OPTION has a handler macro declared with LT_OPTION_DEFINE,\n-# dispatch to that macro; otherwise complain about the unknown option\n-# and exit.\n+# _LT_SET_OPTIONS(MACRO-NAME, OPTION-LIST)\n+# ----------------------------------------\n+# OPTION-LIST is a space-separated list of Libtool options associated\n+# with MACRO-NAME.  If any OPTION has a matching handler declared with\n+# LT_OPTION_DEFINE, dispatch to that macro; otherwise complain about\n+# the unknown option and exit.\n m4_defun([_LT_SET_OPTIONS],\n [# Set options\n-m4_foreach([_LT_Option], m4_split(m4_normalize([$1])),\n-    [_LT_SET_OPTION(_LT_Option)])\n-dnl\n-dnl Simply set some default values (i.e off) if boolean options were not\n-dnl specified:\n-_LT_UNLESS_OPTIONS([dlopen], [enable_dlopen=no\n-])\n-_LT_UNLESS_OPTIONS([win32-dll], [enable_win32_dll=no\n-])\n-dnl\n-dnl If no reference was made to various pairs of opposing options, then\n-dnl we run the default mode handler for the pair.  For example, if neither\n-dnl `shared' nor `disable-shared' was passed, we enable building of shared\n-dnl archives by default:\n-_LT_UNLESS_OPTIONS([shared disable-shared], [_LT_ENABLE_SHARED])\n-_LT_UNLESS_OPTIONS([static disable-static], [_LT_ENABLE_STATIC])\n-_LT_UNLESS_OPTIONS([pic-only no-pic], [_LT_WITH_PIC])\n-_LT_UNLESS_OPTIONS([fast-install disable-fast-install],\n-\t\t   [_LT_ENABLE_FAST_INSTALL])\n+m4_foreach([_LT_Option], m4_split(m4_normalize([$2])),\n+    [_LT_SET_OPTION([$1], _LT_Option)])\n+\n+m4_if([$1],[LT_INIT],[\n+  dnl\n+  dnl Simply set some default values (i.e off) if boolean options were not\n+  dnl specified:\n+  _LT_UNLESS_OPTIONS([LT_INIT], [dlopen], [enable_dlopen=no\n+  ])\n+  _LT_UNLESS_OPTIONS([LT_INIT], [win32-dll], [enable_win32_dll=no\n+  ])\n+  dnl\n+  dnl If no reference was made to various pairs of opposing options, then\n+  dnl we run the default mode handler for the pair.  For example, if neither\n+  dnl `shared' nor `disable-shared' was passed, we enable building of shared\n+  dnl archives by default:\n+  _LT_UNLESS_OPTIONS([LT_INIT], [shared disable-shared], [_LT_ENABLE_SHARED])\n+  _LT_UNLESS_OPTIONS([LT_INIT], [static disable-static], [_LT_ENABLE_STATIC])\n+  _LT_UNLESS_OPTIONS([LT_INIT], [pic-only no-pic], [_LT_WITH_PIC])\n+  _LT_UNLESS_OPTIONS([LT_INIT], [fast-install disable-fast-install],\n+  \t\t   [_LT_ENABLE_FAST_INSTALL])\n+  ])\n ])# _LT_SET_OPTIONS\n \n \n ## --------------------------------- ##\n ## Macros to handle LT_INIT options. ##\n ## --------------------------------- ##\n \n+# _LT_MANGLE_DEFUN(MACRO-NAME, OPTION-NAME)\n+# -----------------------------------------\n m4_define([_LT_MANGLE_DEFUN],\n-[[_LT_OPTION_DEFUN_]m4_bpatsubst(m4_toupper([$1]), [[^A-Z0-9_]], [_])])\n+[[_LT_OPTION_DEFUN_]m4_bpatsubst(m4_toupper([$1__$2]), [[^A-Z0-9_]], [_])])\n \n \n-# LT_OPTION_DEFINE(NAME, CODE)\n-# ----------------------------\n+# LT_OPTION_DEFINE(MACRO-NAME, OPTION-NAME, CODE)\n+# -----------------------------------------------\n m4_define([LT_OPTION_DEFINE],\n-[m4_define(_LT_MANGLE_DEFUN([$1]), [$2])[]dnl\n+[m4_define(_LT_MANGLE_DEFUN([$1], [$2]), [$3])[]dnl\n ])# LT_OPTION_DEFINE\n \n \n # dlopen\n # ------\n-LT_OPTION_DEFINE([dlopen], [enable_dlopen=yes\n+LT_OPTION_DEFINE([LT_INIT], [dlopen], [enable_dlopen=yes\n ])\n \n AU_DEFUN([AC_LIBTOOL_DLOPEN],\n-[_LT_SET_OPTION([dlopen])\n+[_LT_SET_OPTION([LT_INIT], [dlopen])\n AC_DIAGNOSE([obsolete],\n [$0: Remove this warning and the call to _LT_SET_OPTION when you\n put the `dlopen' option into LT_INIT's first parameter.])\n@@ -114,11 +121,11 @@ dnl AC_DEFUN([AC_LIBTOOL_DLOPEN], [])\n # win32-dll\n # ---------\n # Declare package support for building win32 dll's.\n-LT_OPTION_DEFINE([win32-dll],\n+LT_OPTION_DEFINE([LT_INIT], [win32-dll],\n [enable_win32_dll=yes\n \n case $host in\n-*-*-cygwin* | *-*-mingw* | *-*-pw32*)\n+*-*-cygwin* | *-*-mingw* | *-*-pw32* | *-cegcc*)\n   AC_CHECK_TOOL(AS, as, false)\n   AC_CHECK_TOOL(DLLTOOL, dlltool, false)\n   AC_CHECK_TOOL(OBJDUMP, objdump, false)\n@@ -136,7 +143,8 @@ _LT_DECL([], [OBJDUMP], [0], [Object dumper program])dnl\n ])# win32-dll\n \n AU_DEFUN([AC_LIBTOOL_WIN32_DLL],\n-[_LT_SET_OPTION([win32-dll])\n+[AC_REQUIRE([AC_CANONICAL_HOST])dnl\n+_LT_SET_OPTION([LT_INIT], [win32-dll])\n AC_DIAGNOSE([obsolete],\n [$0: Remove this warning and the call to _LT_SET_OPTION when you\n put the `win32-dll' option into LT_INIT's first parameter.])\n@@ -179,16 +187,16 @@ AC_ARG_ENABLE([shared],\n \t[Whether or not to build shared libraries])\n ])# _LT_ENABLE_SHARED\n \n-LT_OPTION_DEFINE([shared], [_LT_ENABLE_SHARED([yes])])\n-LT_OPTION_DEFINE([disable-shared], [_LT_ENABLE_SHARED([no])])\n+LT_OPTION_DEFINE([LT_INIT], [shared], [_LT_ENABLE_SHARED([yes])])\n+LT_OPTION_DEFINE([LT_INIT], [disable-shared], [_LT_ENABLE_SHARED([no])])\n \n # Old names:\n AC_DEFUN([AC_ENABLE_SHARED],\n-[_LT_SET_OPTION([shared])\n+[_LT_SET_OPTION([LT_INIT], m4_if([$1], [no], [disable-])[shared])\n ])\n \n AC_DEFUN([AC_DISABLE_SHARED],\n-[_LT_SET_OPTION([disable-shared])\n+[_LT_SET_OPTION([LT_INIT], [disable-shared])\n ])\n \n AU_DEFUN([AM_ENABLE_SHARED], [AC_ENABLE_SHARED($@)])\n@@ -233,16 +241,16 @@ AC_ARG_ENABLE([static],\n \t[Whether or not to build static libraries])\n ])# _LT_ENABLE_STATIC\n \n-LT_OPTION_DEFINE([static], [_LT_ENABLE_STATIC([yes])])\n-LT_OPTION_DEFINE([disable-static], [_LT_ENABLE_STATIC([no])])\n+LT_OPTION_DEFINE([LT_INIT], [static], [_LT_ENABLE_STATIC([yes])])\n+LT_OPTION_DEFINE([LT_INIT], [disable-static], [_LT_ENABLE_STATIC([no])])\n \n # Old names:\n AC_DEFUN([AC_ENABLE_STATIC],\n-[_LT_SET_OPTION([static])\n+[_LT_SET_OPTION([LT_INIT], m4_if([$1], [no], [disable-])[static])\n ])\n \n AC_DEFUN([AC_DISABLE_STATIC],\n-[_LT_SET_OPTION([disable-static])\n+[_LT_SET_OPTION([LT_INIT], [disable-static])\n ])\n \n AU_DEFUN([AM_ENABLE_STATIC], [AC_ENABLE_STATIC($@)])\n@@ -287,19 +295,19 @@ _LT_DECL([fast_install], [enable_fast_install], [0],\n \t [Whether or not to optimize for fast installation])dnl\n ])# _LT_ENABLE_FAST_INSTALL\n \n-LT_OPTION_DEFINE([fast-install], [_LT_ENABLE_FAST_INSTALL([yes])])\n-LT_OPTION_DEFINE([disable-fast-install], [_LT_ENABLE_FAST_INSTALL([no])])\n+LT_OPTION_DEFINE([LT_INIT], [fast-install], [_LT_ENABLE_FAST_INSTALL([yes])])\n+LT_OPTION_DEFINE([LT_INIT], [disable-fast-install], [_LT_ENABLE_FAST_INSTALL([no])])\n \n # Old names:\n AU_DEFUN([AC_ENABLE_FAST_INSTALL],\n-[_LT_SET_OPTION([fast-install])\n+[_LT_SET_OPTION([LT_INIT], m4_if([$1], [no], [disable-])[fast-install])\n AC_DIAGNOSE([obsolete],\n [$0: Remove this warning and the call to _LT_SET_OPTION when you put\n the `fast-install' option into LT_INIT's first parameter.])\n ])\n \n AU_DEFUN([AC_DISABLE_FAST_INSTALL],\n-[_LT_SET_OPTION([disable-fast-install])\n+[_LT_SET_OPTION([LT_INIT], [disable-fast-install])\n AC_DIAGNOSE([obsolete],\n [$0: Remove this warning and the call to _LT_SET_OPTION when you put\n the `disable-fast-install' option into LT_INIT's first parameter.])\n@@ -327,16 +335,34 @@ test -z \"$pic_mode\" && pic_mode=m4_default([$1], [default])\n _LT_DECL([], [pic_mode], [0], [What type of objects to build])dnl\n ])# _LT_WITH_PIC\n \n-LT_OPTION_DEFINE([pic-only], [_LT_WITH_PIC([yes])])\n-LT_OPTION_DEFINE([no-pic], [_LT_WITH_PIC([no])])\n+LT_OPTION_DEFINE([LT_INIT], [pic-only], [_LT_WITH_PIC([yes])])\n+LT_OPTION_DEFINE([LT_INIT], [no-pic], [_LT_WITH_PIC([no])])\n \n # Old name:\n AU_DEFUN([AC_LIBTOOL_PICMODE],\n-[_LT_SET_OPTION([pic-only])\n+[_LT_SET_OPTION([LT_INIT], [pic-only])\n AC_DIAGNOSE([obsolete],\n [$0: Remove this warning and the call to _LT_SET_OPTION when you\n put the `pic-only' option into LT_INIT's first parameter.])\n ])\n \n dnl aclocal-1.4 backwards compatibility:\n dnl AC_DEFUN([AC_LIBTOOL_PICMODE], [])\n+\n+## ----------------- ##\n+## LTDL_INIT Options ##\n+## ----------------- ##\n+\n+m4_define([_LTDL_MODE], [])\n+LT_OPTION_DEFINE([LTDL_INIT], [nonrecursive],\n+\t\t [m4_define([_LTDL_MODE], [nonrecursive])])\n+LT_OPTION_DEFINE([LTDL_INIT], [recursive],\n+\t\t [m4_define([_LTDL_MODE], [recursive])])\n+LT_OPTION_DEFINE([LTDL_INIT], [subproject],\n+\t\t [m4_define([_LTDL_MODE], [subproject])])\n+\n+m4_define([_LTDL_TYPE], [])\n+LT_OPTION_DEFINE([LTDL_INIT], [installable],\n+\t\t [m4_define([_LTDL_TYPE], [installable])])\n+LT_OPTION_DEFINE([LTDL_INIT], [convenience],\n+\t\t [m4_define([_LTDL_TYPE], [convenience])])"}, {"sha": "9000a057d31ddf75cb85ccda8757de4493bcdbe7", "filename": "ltsugar.m4", "status": "modified", "additions": 25, "deletions": 27, "changes": 52, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae11dff459209c6a036556ced4012e86c88b96d8/ltsugar.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae11dff459209c6a036556ced4012e86c88b96d8/ltsugar.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltsugar.m4?ref=ae11dff459209c6a036556ced4012e86c88b96d8", "patch": "@@ -1,13 +1,13 @@\n # ltsugar.m4 -- libtool m4 base layer.                         -*-Autoconf-*-\n #\n-# Copyright (C) 2004, 2005, 2007 Free Software Foundation, Inc.\n-# Written by Gary V. Vaughan.\n+# Copyright (C) 2004, 2005, 2007, 2008 Free Software Foundation, Inc.\n+# Written by Gary V. Vaughan, 2004\n #\n # This file is free software; the Free Software Foundation gives\n # unlimited permission to copy and/or distribute it, with or without\n # modifications, as long as this notice is preserved.\n \n-# serial 4 ltsugar.m4\n+# serial 6 ltsugar.m4\n \n # This is to help aclocal find these macros, as it can't see m4_define.\n AC_DEFUN([LTSUGAR_VERSION], [m4_if([0.1])])\n@@ -17,19 +17,15 @@ AC_DEFUN([LTSUGAR_VERSION], [m4_if([0.1])])\n # -----------------------------\n # Produce ARG1SEPARG2...SEPARGn, omitting [] arguments and their\n # associated separator.\n+# Needed until we can rely on m4_join from Autoconf 2.62, since all earlier\n+# versions in m4sugar had bugs.\n m4_define([lt_join],\n-[m4_case([$#],\n-\t [0], [m4_fatal([$0: too few arguments: $#])],\n-\t [1], [],\n-\t [2], [[$2]],\n-\t [m4_ifval([$2],\n-\t \t   [[$2][]m4_foreach(_lt_Arg, lt_car([m4_shiftn(2, $@)]),\n-\t                   [_$0([$1], _lt_Arg)])],\n-\t\t   [$0([$1], m4_shiftn(2, $@))])])[]dnl\n-])\n+[m4_if([$#], [1], [],\n+       [$#], [2], [[$2]],\n+       [m4_if([$2], [], [], [[$2]_])$0([$1], m4_shift(m4_shift($@)))])])\n m4_define([_lt_join],\n-[m4_ifval([$2],[$1][$2])[]dnl\n-])\n+[m4_if([$#$2], [2], [],\n+       [m4_if([$2], [], [], [[$1$2]])$0([$1], m4_shift(m4_shift($@)))])])\n \n \n # lt_car(LIST)\n@@ -49,11 +45,13 @@ m4_define([lt_unquote], $1)\n # lt_append(MACRO-NAME, STRING, [SEPARATOR])\n # ------------------------------------------\n # Redefine MACRO-NAME to hold its former content plus `SEPARATOR'`STRING'.\n-# Note that neither SEPARATOR nor STRING are expanded.  No SEPARATOR is\n-# output if MACRO-NAME was previously undefined (different than defined\n-# and empty).\n+# Note that neither SEPARATOR nor STRING are expanded; they are appended\n+# to MACRO-NAME as is (leaving the expansion for when MACRO-NAME is invoked).\n+# No SEPARATOR is output if MACRO-NAME was previously undefined (different\n+# than defined and empty).\n+#\n # This macro is needed until we can rely on Autoconf 2.62, since earlier\n-# versions of m4 mistakenly expanded SEPARATOR.\n+# versions of m4sugar mistakenly expanded SEPARATOR but not STRING.\n m4_define([lt_append],\n [m4_define([$1],\n \t   m4_ifdef([$1], [m4_defn([$1])[$3]])[$2])])\n@@ -65,14 +63,14 @@ m4_define([lt_append],\n # Produce a SEP delimited list of all paired combinations of elements of\n # PREFIX-LIST with SUFFIX1 through SUFFIXn.  Each element of the list\n # has the form PREFIXmINFIXSUFFIXn.\n+# Needed until we can rely on m4_combine added in Autoconf 2.62.\n m4_define([lt_combine],\n-[m4_if([$2], [], [],\n-  [m4_if([$4], [], [],\n-    [lt_join(m4_quote(m4_default([$1], [[, ]])),\n-      lt_unquote(m4_split(m4_normalize(m4_foreach(_Lt_prefix, [$2],\n-       \t\t   [m4_foreach(_Lt_suffix, lt_car([m4_shiftn(3, $@)]),\n-\t\t   \t       [_Lt_prefix[]$3[]_Lt_suffix ])])))))])])dnl\n-])\n+[m4_if(m4_eval([$# > 3]), [1],\n+       [m4_pushdef([_Lt_sep], [m4_define([_Lt_sep], m4_defn([lt_car]))])]]dnl\n+[[m4_foreach([_Lt_prefix], [$2],\n+\t     [m4_foreach([_Lt_suffix],\n+\t\t]m4_dquote(m4_dquote(m4_shift(m4_shift(m4_shift($@)))))[,\n+\t[_Lt_sep([$1])[]m4_defn([_Lt_prefix])[$3]m4_defn([_Lt_suffix])])])])])\n \n \n # lt_if_append_uniq(MACRO-NAME, VARNAME, [SEPARATOR], [UNIQ], [NOT-UNIQ])\n@@ -84,13 +82,13 @@ m4_define([lt_if_append_uniq],\n \t  [m4_if(m4_index([$3]m4_defn([$1])[$3], [$3$2$3]), [-1],\n \t\t [lt_append([$1], [$2], [$3])$4],\n \t\t [$5])],\n-    [lt_append([$1], [$2], [$3])$4])])\n+\t  [lt_append([$1], [$2], [$3])$4])])\n \n \n # lt_dict_add(DICT, KEY, VALUE)\n # -----------------------------\n m4_define([lt_dict_add],\n-[m4_define([$1($2)], [$4])])\n+[m4_define([$1($2)], [$3])])\n \n \n # lt_dict_add_subkey(DICT, KEY, SUBKEY, VALUE)"}, {"sha": "b8e154fe6e10fb20e2cf7d9e3a59116fb27cb79b", "filename": "ltversion.m4", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae11dff459209c6a036556ced4012e86c88b96d8/ltversion.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae11dff459209c6a036556ced4012e86c88b96d8/ltversion.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltversion.m4?ref=ae11dff459209c6a036556ced4012e86c88b96d8", "patch": "@@ -1,23 +1,23 @@\n # ltversion.m4 -- version numbers\t\t\t-*- Autoconf -*-\n #\n-# Copyright (C) 2004 Free Software Foundation, Inc.\n-# Written by Scott James Remnant.\n+#   Copyright (C) 2004 Free Software Foundation, Inc.\n+#   Written by Scott James Remnant, 2004\n #\n-## This file is free software; the Free Software Foundation gives\n+# This file is free software; the Free Software Foundation gives\n # unlimited permission to copy and/or distribute it, with or without\n # modifications, as long as this notice is preserved.\n \n-# Generated from ltversion.in; do not edit by hand\n+# Generated from ltversion.in.\n \n-# serial 2435 ltversion.m4\n+# serial 3012 ltversion.m4\n # This file is part of GNU Libtool\n \n-m4_define([LT_PACKAGE_VERSION], [2.1a])\n-m4_define([LT_PACKAGE_REVISION], [1.2435])\n+m4_define([LT_PACKAGE_VERSION], [2.2.6])\n+m4_define([LT_PACKAGE_REVISION], [1.3012])\n \n AC_DEFUN([LTVERSION_VERSION],\n-[macro_version='2.1a'\n-macro_revision='1.2435'\n+[macro_version='2.2.6'\n+macro_revision='1.3012'\n _LT_DECL(, macro_version, 0, [Which release of libtool.m4 was used?])\n _LT_DECL(, macro_revision, 0)\n ])"}, {"sha": "637bb2066c425f79faecd6cc9e4e6b5074c6b55c", "filename": "lt~obsolete.m4", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae11dff459209c6a036556ced4012e86c88b96d8/lt%7Eobsolete.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae11dff459209c6a036556ced4012e86c88b96d8/lt%7Eobsolete.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lt%7Eobsolete.m4?ref=ae11dff459209c6a036556ced4012e86c88b96d8", "patch": "@@ -1,13 +1,13 @@\n # lt~obsolete.m4 -- aclocal satisfying obsolete definitions.    -*-Autoconf-*-\n #\n-# Copyright (C) 2004, 2005 Free Software Foundation, Inc.\n-# Written by Scott James Remnant.\n+#   Copyright (C) 2004, 2005, 2007 Free Software Foundation, Inc.\n+#   Written by Scott James Remnant, 2004.\n #\n # This file is free software; the Free Software Foundation gives\n # unlimited permission to copy and/or distribute it, with or without\n # modifications, as long as this notice is preserved.\n \n-# serial 2\n+# serial 4 lt~obsolete.m4\n \n # These exist entirely to fool aclocal when bootstrapping libtool.\n #\n@@ -32,6 +32,9 @@\n # we give up compatibility with versions before 1.7, at which point\n # we need to keep only those names which we still refer to.\n \n+# This is to help aclocal find these macros, as it can't see m4_define.\n+AC_DEFUN([LTOBSOLETE_VERSION], [m4_if([1])])\n+\n m4_ifndef([AC_LIBTOOL_LINKER_OPTION],\t[AC_DEFUN([AC_LIBTOOL_LINKER_OPTION])])\n m4_ifndef([AC_PROG_EGREP],\t\t[AC_DEFUN([AC_PROG_EGREP])])\n m4_ifndef([_LT_AC_PROG_ECHO_BACKSLASH],\t[AC_DEFUN([_LT_AC_PROG_ECHO_BACKSLASH])])"}]}