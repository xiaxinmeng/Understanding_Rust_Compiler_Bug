{"sha": "988ef418eb9f5d98d7e3290a0a8320091c1fd723", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTg4ZWY0MThlYjlmNWQ5OGQ3ZTMyOTBhMGE4MzIwMDkxYzFmZDcyMw==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2002-06-20T18:04:00Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2002-06-20T18:04:00Z"}, "message": "* combine.c (make_extraction): Reapply to the argument of an ASHIFT.\n\nFrom-SVN: r54846", "tree": {"sha": "b3791188472cd83da6f74d3a6c84b9b5808f3d62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b3791188472cd83da6f74d3a6c84b9b5808f3d62"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/988ef418eb9f5d98d7e3290a0a8320091c1fd723", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/988ef418eb9f5d98d7e3290a0a8320091c1fd723", "html_url": "https://github.com/Rust-GCC/gccrs/commit/988ef418eb9f5d98d7e3290a0a8320091c1fd723", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/988ef418eb9f5d98d7e3290a0a8320091c1fd723/comments", "author": null, "committer": null, "parents": [{"sha": "0ab2e54bc3005ade2f8e9fdd8754fc4c2f03f73d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ab2e54bc3005ade2f8e9fdd8754fc4c2f03f73d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ab2e54bc3005ade2f8e9fdd8754fc4c2f03f73d"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "4a42c58bad6b77442efc202f16850ae6da4773ec", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/988ef418eb9f5d98d7e3290a0a8320091c1fd723/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/988ef418eb9f5d98d7e3290a0a8320091c1fd723/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=988ef418eb9f5d98d7e3290a0a8320091c1fd723", "patch": "@@ -1,3 +1,7 @@\n+2002-06-20  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* combine.c (make_extraction): Reapply to the argument of an ASHIFT.\n+\n 2002-06-20  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \n \t* config/sparc/t-crtfm (crtfastmath.o): Prefix with $(T) for"}, {"sha": "ea12b1309227c9cdf5343b33d3a39ba4df92dc14", "filename": "gcc/combine.c", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/988ef418eb9f5d98d7e3290a0a8320091c1fd723/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/988ef418eb9f5d98d7e3290a0a8320091c1fd723/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=988ef418eb9f5d98d7e3290a0a8320091c1fd723", "patch": "@@ -5968,6 +5968,21 @@ make_extraction (mode, inner, pos, pos_rtx, len,\n \tis_mode = GET_MODE (SUBREG_REG (inner));\n       inner = SUBREG_REG (inner);\n     }\n+  else if (GET_CODE (inner) == ASHIFT\n+\t   && GET_CODE (XEXP (inner, 1)) == CONST_INT\n+\t   && pos_rtx == 0 && pos == 0\n+\t   && len > INTVAL (XEXP (inner, 1)))\n+    {\n+      /* We're extracting the least significant bits of an rtx\n+\t (ashift X (const_int C)), where LEN > C.  Extract the\n+\t least significant (LEN - C) bits of X, giving an rtx\n+\t whose mode is MODE, then shift it left C times.  */\n+      new = make_extraction (mode, XEXP (inner, 0),\n+\t\t\t     0, 0, len - INTVAL (XEXP (inner, 1)),\n+\t\t\t     unsignedp, in_dest, in_compare);\n+      if (new != 0)\n+\treturn gen_rtx_ASHIFT (mode, new, XEXP (inner, 1));\n+    }\n \n   inner_mode = GET_MODE (inner);\n "}]}