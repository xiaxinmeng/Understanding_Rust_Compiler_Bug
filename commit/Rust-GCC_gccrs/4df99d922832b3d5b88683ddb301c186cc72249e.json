{"sha": "4df99d922832b3d5b88683ddb301c186cc72249e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGRmOTlkOTIyODMyYjNkNWI4ODY4M2RkYjMwMWMxODZjYzcyMjQ5ZQ==", "commit": {"author": {"name": "Julia Koval", "email": "julia.koval@intel.com", "date": "2016-06-09T18:31:35Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2016-06-09T18:31:35Z"}, "message": "Fix x86 interrupt tests for -fpic and -march=corei7\n\n2016-06-09  Julia Koval  <julia.koval@intel.com>\n\n\t* gcc.target/i386/interrupt-12.c: Fix test for -fpic and corei7.\n\t* gcc.target/i386/interrupt-13.c: Likewise.\n\t* gcc.target/i386/interrupt-15.c: Likewise.\n\t* gcc.target/i386/interrupt-14.c: Fix test for -fpic.\n\t* gcc.target/i386/interrupt-24.c: Likewise.\n\t* gcc.target/i386/interrupt-3.c: Fix test for corei7.\n\t* gcc.target/i386/interrupt-9.c: Likewise.\n\t* gcc.target/i386/interrupt-redzone-2.c: Likewise.\n\nFrom-SVN: r237272", "tree": {"sha": "c0a1ab9b3b5ff0d99fc52536c220eafec72ba559", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c0a1ab9b3b5ff0d99fc52536c220eafec72ba559"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4df99d922832b3d5b88683ddb301c186cc72249e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4df99d922832b3d5b88683ddb301c186cc72249e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4df99d922832b3d5b88683ddb301c186cc72249e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4df99d922832b3d5b88683ddb301c186cc72249e/comments", "author": {"login": "vaalfreja", "id": 5216345, "node_id": "MDQ6VXNlcjUyMTYzNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/5216345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vaalfreja", "html_url": "https://github.com/vaalfreja", "followers_url": "https://api.github.com/users/vaalfreja/followers", "following_url": "https://api.github.com/users/vaalfreja/following{/other_user}", "gists_url": "https://api.github.com/users/vaalfreja/gists{/gist_id}", "starred_url": "https://api.github.com/users/vaalfreja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vaalfreja/subscriptions", "organizations_url": "https://api.github.com/users/vaalfreja/orgs", "repos_url": "https://api.github.com/users/vaalfreja/repos", "events_url": "https://api.github.com/users/vaalfreja/events{/privacy}", "received_events_url": "https://api.github.com/users/vaalfreja/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "914bc2b9f9a4e1cae5aae577adce6598b732b5b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/914bc2b9f9a4e1cae5aae577adce6598b732b5b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/914bc2b9f9a4e1cae5aae577adce6598b732b5b0"}], "stats": {"total": 57, "additions": 34, "deletions": 23}, "files": [{"sha": "d2f9a702c4b393c37606a0e95f7d05d2ba45420f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4df99d922832b3d5b88683ddb301c186cc72249e", "patch": "@@ -1,3 +1,14 @@\n+2016-06-09  Julia Koval  <julia.koval@intel.com>\n+\n+\t* gcc.target/i386/interrupt-12.c: Fix test for -fpic and corei7.\n+\t* gcc.target/i386/interrupt-13.c: Likewise.\n+\t* gcc.target/i386/interrupt-15.c: Likewise.\n+\t* gcc.target/i386/interrupt-14.c: Fix test for -fpic.\n+\t* gcc.target/i386/interrupt-24.c: Likewise.\n+\t* gcc.target/i386/interrupt-3.c: Fix test for corei7.\n+\t* gcc.target/i386/interrupt-9.c: Likewise.\n+\t* gcc.target/i386/interrupt-redzone-2.c: Likewise.\n+\n 2016-06-09  Martin Sebor  <msebor@redhat.com>\n \n \tPR c/70883"}, {"sha": "23780050d7676c86178dea30f9843efd1b6795d0", "filename": "gcc/testsuite/gcc.target/i386/interrupt-12.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-12.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-12.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-12.c?ref=4df99d922832b3d5b88683ddb301c186cc72249e", "patch": "@@ -15,16 +15,16 @@ fn1 (void *frame, uword_t error)\n /* { dg-final { scan-assembler-not \"(push|pop)(l|q)\\[\\\\t \\]*%(r|e)(b|c|d)x\" } } */\n /* { dg-final { scan-assembler-not \"(push|pop)(l|q)\\[\\\\t \\]*%(r|e)si\" } } */\n /* { dg-final { scan-assembler-not \"(push|pop)l\\[\\\\t \\]*%edi\" { target ia32 } } } */\n-/* { dg-final { scan-assembler-not \"(push|pop)q\\[\\\\t \\]*%rax\" { target { ! ia32 } } } } */\n+/* { dg-final { scan-assembler-not \"(push|pop)q\\[\\\\t \\]*%rax\" { target { { ! ia32 } &&  nonpic } } } } */\n /* { dg-final { scan-assembler-not \"(push|pop)q\\[\\\\t \\]*%r\\[0-9\\]+\" { target { ! ia32 } } } } */\n /* { dg-final { scan-assembler-times \"push(?:l|q)\\[\\\\t \\]*%(?:r|e)bp\" 1 } } */\n-/* { dg-final { scan-assembler-times \"leave\" 1 } } */\n+/* { dg-final { scan-assembler-times \"leave\" 1 { target nonpic } } } */\n /* { dg-final { scan-assembler-times \"pushl\\[\\\\t \\]*%eax\" 1 { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"movl\\[\\\\t \\]*-4\\\\(%ebp\\\\),\\[\\\\t \\]*%eax\" 1 { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"pushq\\[\\\\t \\]*%rdi\" 1 { target { ! ia32 } } } } */\n-/* { dg-final { scan-assembler-times \"movq\\[\\\\t \\]*-8\\\\(%(?:r|e)bp\\\\),\\[\\\\t \\]*%rdi\" 1 { target { ! ia32 } } } } */\n-/* { dg-final { scan-assembler-times \"addl\\[\\\\t \\]*\\\\\\$4,\\[\\\\t \\]*%esp\" 1 { target ia32 } } } */\n-/* { dg-final { scan-assembler-times \"add(?:l|q)\\[\\\\t \\]*\\\\\\$8,\\[\\\\t \\]*%\\[re\\]?sp\" 1 { target { ! ia32 } } } } */\n+/* { dg-final { scan-assembler-times \"movq\\[\\\\t \\]*-8\\\\(%(?:r|e)bp\\\\),\\[\\\\t \\]*%rdi\" 1 { target { { ! ia32 } && nonpic } } } } */\n+/* { dg-final { scan-assembler \"(addl|leal).*4.*%esp\" { target ia32 } } } */\n+/* { dg-final { scan-assembler \"(add|lea)(?:l|q)\\[\\\\t \\]*\\\\\\$?8.*,\\[\\\\t \\]*%\\[re\\]?sp\" { target { ! ia32 } } } } */\n /* { dg-final { scan-assembler-times \"iret\" 1 { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"iretq\" 1 { target { ! ia32 } } } } */\n /* { dg-final { scan-assembler-times \"\\tcld\" 1 } } */"}, {"sha": "378145ec672a1e25903a617bd22a43c084993237", "filename": "gcc/testsuite/gcc.target/i386/interrupt-13.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-13.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-13.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-13.c?ref=4df99d922832b3d5b88683ddb301c186cc72249e", "patch": "@@ -15,16 +15,16 @@ fn1 (void *frame, uword_t error)\n /* { dg-final { scan-assembler-not \"(push|pop)(l|q)\\[\\\\t \\]*%(r|e)(b|c|d)x\" } } */\n /* { dg-final { scan-assembler-not \"(push|pop)(l|q)\\[\\\\t \\]*%(r|e)si\" } } */\n /* { dg-final { scan-assembler-not \"(push|pop)l\\[\\\\t \\]*%edi\" { target ia32 } } } */\n-/* { dg-final { scan-assembler-not \"(push|pop)q\\[\\\\t \\]*%rax\" { target { ! ia32 } } } } */\n+/* { dg-final { scan-assembler-not \"(push|pop)q\\[\\\\t \\]*%rax\" { target { { ! ia32 } && nonpic } } } } */\n /* { dg-final { scan-assembler-not \"(push|pop)q\\[\\\\t \\]*%r\\[0-9\\]+\" { target { ! ia32 } } } } */\n /* { dg-final { scan-assembler-times \"push(?:l|q)\\[\\\\t \\]*%(?:r|e)bp\" 1 } } */\n-/* { dg-final { scan-assembler-times \"leave\" 1 } } */\n+/* { dg-final { scan-assembler-times \"leave\" 1 { target nonpic } } } */\n /* { dg-final { scan-assembler-times \"pushl\\[\\\\t \\]*%eax\" 1 { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"movl\\[\\\\t \\]*-4\\\\(%ebp\\\\),\\[\\\\t \\]*%eax\" 1 { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"pushq\\[\\\\t \\]*%rdi\" 1 { target { ! ia32 } } } } */\n-/* { dg-final { scan-assembler-times \"movq\\[\\\\t \\]*-8\\\\(%(?:r|e)bp\\\\),\\[\\\\t \\]*%rdi\" 1 { target { ! ia32 } } } } */\n-/* { dg-final { scan-assembler-times \"addl\\[\\\\t \\]*\\\\\\$4,\\[\\\\t \\]*%esp\" 1 { target ia32 } } } */\n-/* { dg-final { scan-assembler-times \"add(?:l|q)\\[\\\\t \\]*\\\\\\$8,\\[\\\\t \\]*%\\[re\\]?sp\" 1 { target { ! ia32 } } } } */\n+/* { dg-final { scan-assembler-times \"movq\\[\\\\t \\]*-8\\\\(%(?:r|e)bp\\\\),\\[\\\\t \\]*%rdi\" 1 { target { { ! ia32 } && nonpic } } } } */\n+/* { dg-final { scan-assembler \"(addl|leal).*4.*%esp\" { target ia32 } } } */\n+/* { dg-final { scan-assembler \"(add|lea)(?:l|q)\\[\\\\t \\]*\\\\\\$?8.*,\\[\\\\t \\]*%\\[re\\]?sp\" { target { ! ia32 } } } } */\n /* { dg-final { scan-assembler-times \"iret\" 1 { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"iretq\" 1 { target { ! ia32 } } } } */\n /* { dg-final { scan-assembler-times \"\\tcld\" 1 } } */"}, {"sha": "f574f4fafac4d6946b15dc17bf12370b1b420d72", "filename": "gcc/testsuite/gcc.target/i386/interrupt-14.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-14.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-14.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-14.c?ref=4df99d922832b3d5b88683ddb301c186cc72249e", "patch": "@@ -18,15 +18,15 @@ fn2 (void *frame)\n }\n \n /* { dg-final { scan-assembler-not \"movups\\[\\\\t .\\]*%(x|y|z)mm\\[0-9\\]+\" } } */\n-/* { dg-final { scan-assembler-not \"(push|pop)(l|q)\\[\\\\t \\]*%(r|e)(a|b|c|d)x\" } } */\n+/* { dg-final { scan-assembler-not \"(push|pop)(l|q)\\[\\\\t \\]*%(r|e)(a|b|c|d)x\" { target nonpic } } } */\n /* { dg-final { scan-assembler-not \"(push|pop)l\\[\\\\t \\]*%edi\" { target ia32 } } } */\n /* { dg-final { scan-assembler-not \"(push|pop)(l|q)\\[\\\\t \\]*%(r|e)si\" } } */\n /* { dg-final { scan-assembler-not \"(push|pop)q\\[\\\\t \\]*%r\\[8-9\\]+\" { target { ! ia32 } } } } */\n /* { dg-final { scan-assembler-not \"(push|pop)q\\[\\\\t \\]*%r1\\[0-5\\]+\" { target { ! ia32 } } } } */\n /* { dg-final { scan-assembler-times \"push(?:l|q)\\[\\\\t \\]*%(?:r|e)bp\" 2 } } */\n /* { dg-final { scan-assembler-times \"leave\" 2 { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"pushq\\[\\\\t \\]*%rdi\" 2 { target { ! ia32 } } } } */\n-/* { dg-final { scan-assembler-times \"movq\\[\\\\t \\]*-8\\\\(%(?:r|e)bp\\\\),\\[\\\\t \\]*%rdi\" 2 { target { ! ia32 } } } } */\n+/* { dg-final { scan-assembler-times \"movq\\[\\\\t \\]*-8\\\\(%(?:r|e)bp\\\\),\\[\\\\t \\]*%rdi\" 2 { target { { ! ia32 } && nonpic } } } } */\n /* { dg-final { scan-assembler-times \"iret\" 2 { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"iretq\" 2 { target { ! ia32 } } } } */\n /* { dg-final { scan-assembler-times \"\\tcld\" 2 } } */"}, {"sha": "701ab2f4d33fc41ff7bb7f646727cb9603c7e2cf", "filename": "gcc/testsuite/gcc.target/i386/interrupt-15.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-15.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-15.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-15.c?ref=4df99d922832b3d5b88683ddb301c186cc72249e", "patch": "@@ -22,16 +22,16 @@ fn2 (void *frame, uword_t error)\n /* { dg-final { scan-assembler-not \"(push|pop)(l|q)\\[\\\\t \\]*%(r|e)(b|c|d)x\" } } */\n /* { dg-final { scan-assembler-not \"(push|pop)(l|q)\\[\\\\t \\]*%(r|e)si\" } } */\n /* { dg-final { scan-assembler-not \"(push|pop)l\\[\\\\t \\]*%edi\" { target ia32 } } } */\n-/* { dg-final { scan-assembler-not \"(push|pop)q\\[\\\\t \\]*%rax\" { target { ! ia32 } } } } */\n+/* { dg-final { scan-assembler-not \"(push|pop)q\\[\\\\t \\]*%rax\" { target { { ! ia32 } && nonpic } } } } */\n /* { dg-final { scan-assembler-not \"(push|pop)q\\[\\\\t \\]*%r\\[0-9\\]+\" { target { ! ia32 } } } } */\n /* { dg-final { scan-assembler-times \"push(?:l|q)\\[\\\\t \\]*%(?:r|e)bp\" 2 } } */\n-/* { dg-final { scan-assembler-times \"leave\" 2 } } */\n+/* { dg-final { scan-assembler-times \"leave\" 2 { target nonpic } } } */\n /* { dg-final { scan-assembler-times \"pushl\\[\\\\t \\]*%eax\" 2 { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"movl\\[\\\\t \\]*-4\\\\(%ebp\\\\),\\[\\\\t \\]*%eax\" 2 { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"pushq\\[\\\\t \\]*%rdi\" 2 { target { ! ia32 } } } } */\n-/* { dg-final { scan-assembler-times \"movq\\[\\\\t \\]*-8\\\\(%(?:r|e)bp\\\\),\\[\\\\t \\]*%rdi\" 2 { target { ! ia32 } } } } */\n-/* { dg-final { scan-assembler-times \"addl\\[\\\\t \\]*\\\\\\$4,\\[\\\\t \\]*%esp\" 2 { target ia32 } } } */\n-/* { dg-final { scan-assembler-times \"add(?:l|q)\\[\\\\t \\]*\\\\\\$8,\\[\\\\t \\]*%\\[re\\]?sp\" 2 { target { ! ia32 } } } } */\n+/* { dg-final { scan-assembler-times \"movq\\[\\\\t \\]*-8\\\\(%(?:r|e)bp\\\\),\\[\\\\t \\]*%rdi\" 2 { target { { ! ia32 } && nonpic } } } } */\n+/* { dg-final { scan-assembler \"(addl|leal).*4.*%esp\" { target ia32 } } } */\n+/* { dg-final { scan-assembler \"(add|lea)(?:l|q)\\[\\\\t \\]*\\\\\\$?8.*,\\[\\\\t \\]*%\\[re\\]?sp\" { target { ! ia32 } } } } */\n /* { dg-final { scan-assembler-times \"iret\" 2 { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"iretq\" 2 { target { ! ia32 } } } } */\n /* { dg-final { scan-assembler-times \"\\tcld\" 2 } } */"}, {"sha": "f7ec9da3f2b8224db09d596e66ad8b37df0548ec", "filename": "gcc/testsuite/gcc.target/i386/interrupt-24.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-24.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-24.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-24.c?ref=4df99d922832b3d5b88683ddb301c186cc72249e", "patch": "@@ -13,7 +13,7 @@ foo (int i0, int i1, int i2, int i3, int i4, int i5, int i6,\n }\n \n /* { dg-final { scan-assembler-not \"movups\\[\\\\t \\]*%(x|y|z)mm\\[0-9\\]+\" } } */\n-/* { dg-final { scan-assembler-not \"(push|pop)(l|q)\\[\\\\t \\]*%(r|e)(a|b|c|d)x\" } } */\n+/* { dg-final { scan-assembler-not \"(push|pop)(l|q)\\[\\\\t \\]*%(r|e)(a|b|c|d)x\" { target nonpic } } } */\n /* { dg-final { scan-assembler-not \"(push|pop)(l|q)\\[\\\\t \\]*%(r|e)(d|s)i\" } } */\n /* { dg-final { scan-assembler-not \"(push|pop)(l|q)\\[\\\\t \\]*%(r|e)bp\" } } */\n /* { dg-final { scan-assembler-not \"(push|pop)q\\[\\\\t \\]*%r\\[0-9\\]+\" { target { ! ia32 } } } } */"}, {"sha": "6b53e1347e38ea15d0ea7065249871f9890f01b2", "filename": "gcc/testsuite/gcc.target/i386/interrupt-3.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-3.c?ref=4df99d922832b3d5b88683ddb301c186cc72249e", "patch": "@@ -9,8 +9,8 @@ fn (void* frame, uword_t error)\n {\n }\n \n-/* { dg-final { scan-assembler-times \"add(?:l|q)\\[\\\\t \\]*\\\\\\$8,\\[\\\\t \\]*%\\[re\\]?sp\" 1 { target { ! ia32 } } } } */\n-/* { dg-final { scan-assembler-times \"addl\\[\\\\t \\]*\\\\\\$4,\\[\\\\t \\]*%esp\" 1 { target ia32 } } } */\n+/* { dg-final { scan-assembler \"(add|lea)(?:l|q)\\[\\\\t \\]*\\\\\\$?8.*,\\[\\\\t \\]*%\\[re\\]?sp\" { target { ! ia32 } } } } */\n+/* { dg-final { scan-assembler \"(addl|leal).*4.*%esp\" { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"iret\" 1 { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"iretq\" 1 { target { ! ia32 } } } } */\n /* { dg-final { scan-assembler-not \"\\tcld\" } } */"}, {"sha": "2a297b25f5e872ff718332441c3c840638000d90", "filename": "gcc/testsuite/gcc.target/i386/interrupt-9.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-9.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-9.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-9.c?ref=4df99d922832b3d5b88683ddb301c186cc72249e", "patch": "@@ -15,8 +15,8 @@ foo (void *frame, uword_t error_code)\n }\n \n /* { dg-final { scan-assembler-times \"and\\[lq\\]?\\[^\\\\n\\]*-64,\\[^\\\\n\\]*sp\" 1 } } */\n-/* { dg-final { scan-assembler-times \"add(?:l|q)\\[\\\\t \\]*\\\\\\$8,\\[\\\\t \\]*%\\[re\\]?sp\" 1 { target { ! ia32 } } } } */\n-/* { dg-final { scan-assembler-times \"addl\\[\\\\t \\]*\\\\\\$4,\\[\\\\t \\]*%esp\" 1 { target ia32 } } } */\n+/* { dg-final { scan-assembler \"(add|lea)(?:l|q)\\[\\\\t \\]*\\\\\\$?8.*,\\[\\\\t \\]*%\\[re\\]?sp\" { target { ! ia32 } } } } */\n+/* { dg-final { scan-assembler \"(addl|leal).*4.*%esp\" { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"iret\" 1 { target ia32 } } } */\n /* { dg-final { scan-assembler-times \"iretq\" 1 { target { ! ia32 } } } } */\n /* { dg-final { scan-assembler-times \"\\tcld\" 1 } } */"}, {"sha": "2577f43c91681217d71961bf500d3beb1dfe94a0", "filename": "gcc/testsuite/gcc.target/i386/interrupt-redzone-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-redzone-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4df99d922832b3d5b88683ddb301c186cc72249e/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-redzone-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Finterrupt-redzone-2.c?ref=4df99d922832b3d5b88683ddb301c186cc72249e", "patch": "@@ -29,5 +29,5 @@ fn (void *frame)\n \t \"=m\" (i12), \"=m\" (i13), \"=m\" (c));\n }\n \n-/* { dg-final { scan-assembler-times \"(?:sub|add)(?:l|q)\\[\\\\t \\]*\\\\\\$\\[0-9\\]*,\\[\\\\t \\]*%\\[re\\]?sp\" 2 } } */\n+/* { dg-final { scan-assembler \"(?:sub|add|lea)(?:l|q)\\[\\\\t \\]*.*\\\\\\$?\\[0-9\\]*.*,\\[\\\\t \\]*%\\[re\\]?sp\" } } */\n /* { dg-final { scan-assembler-not \"\\tcld\" } } */"}]}