{"sha": "660880654ab4076aeb85498be24440dfb5a6638d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjYwODgwNjU0YWI0MDc2YWViODU0OThiZTI0NDQwZGZiNWE2NjM4ZA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2016-08-15T08:31:05Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2016-08-15T08:31:05Z"}, "message": "re PR tree-optimization/72824 (Signed floating point zero semantics broken at optimization level -O3 (tree-loop-distribute-patterns))\n\n\tPR tree-optimization/72824\n\t* tree-loop-distribution.c (const_with_all_bytes_same)\n\t<case VECTOR_CST>: Fix a typo.\n\n\t* gcc.c-torture/execute/ieee/pr72824-2.c: New test.\n\nFrom-SVN: r239461", "tree": {"sha": "8dab788dcaf37f22003b5950841f7d928b4c60f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8dab788dcaf37f22003b5950841f7d928b4c60f8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/660880654ab4076aeb85498be24440dfb5a6638d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/660880654ab4076aeb85498be24440dfb5a6638d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/660880654ab4076aeb85498be24440dfb5a6638d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/660880654ab4076aeb85498be24440dfb5a6638d/comments", "author": null, "committer": null, "parents": [{"sha": "30211344085ab7adba71871b00ece6fb8b3a3db5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30211344085ab7adba71871b00ece6fb8b3a3db5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30211344085ab7adba71871b00ece6fb8b3a3db5"}], "stats": {"total": 37, "additions": 34, "deletions": 3}, "files": [{"sha": "f71df9c10d3508ebc3b963570911d944bb6c0fd4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/660880654ab4076aeb85498be24440dfb5a6638d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/660880654ab4076aeb85498be24440dfb5a6638d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=660880654ab4076aeb85498be24440dfb5a6638d", "patch": "@@ -1,3 +1,10 @@\n+2016-08-15  Martin Liska  <mliska@suse.cz>\n+\t    Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR tree-optimization/72824\n+\t* tree-loop-distribution.c (const_with_all_bytes_same)\n+\t<case VECTOR_CST>: Fix a typo.\n+\n 2016-08-14  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/76342\n@@ -66,7 +73,6 @@\n \tmake sure we have a leader for it.\n \n 2016-08-12  Martin Liska  <mliska@suse.cz>\n-\n \t    Adam Fineman  <afineman@afineman.com>\n \n \t* gcov.c (process_file): Create .gcov file when .gcda\n@@ -877,7 +883,6 @@\n \t(aapcs_vfp_sub_candidate): Likewise.\n \n 2016-08-05  Martin Liska  <mliska@suse.cz>\n-\n \t    Joshua Cranmer  <Pidgeot18@gmail.com>\n \n \t* gcov.c (line_t::has_block): New function."}, {"sha": "6fa7c1f274f9b0db3cc2e7b3d4c98426f4e6e70f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/660880654ab4076aeb85498be24440dfb5a6638d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/660880654ab4076aeb85498be24440dfb5a6638d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=660880654ab4076aeb85498be24440dfb5a6638d", "patch": "@@ -1,3 +1,8 @@\n+2016-08-15  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR tree-optimization/72824\n+\t* gcc.c-torture/execute/ieee/pr72824-2.c: New test.\n+\n 2016-08-14  Chung-Lin Tang  <cltang@codesourcery.com>\n \n \tPR fortran/70598"}, {"sha": "0622d01d21bf9d6a4ef0f73902cff4e57eed2c12", "filename": "gcc/testsuite/gcc.c-torture/execute/ieee/pr72824-2.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/660880654ab4076aeb85498be24440dfb5a6638d/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fieee%2Fpr72824-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/660880654ab4076aeb85498be24440dfb5a6638d/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fieee%2Fpr72824-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fieee%2Fpr72824-2.c?ref=660880654ab4076aeb85498be24440dfb5a6638d", "patch": "@@ -0,0 +1,21 @@\n+/* PR tree-optimization/72824 */\n+\n+typedef float V __attribute__((vector_size (4 * sizeof (float))));\n+\n+static inline void\n+foo (V *x, V value)\n+{\n+  int i;\n+  for (i = 0; i < 32; ++i)\n+    x[i] = value;\n+}\n+\n+int\n+main ()\n+{\n+  V x[32];\n+  foo (x, (V) { 0.f, -0.f, 0.f, -0.f });\n+  if (__builtin_copysignf (1.0, x[3][1]) != -1.0f)\n+    __builtin_abort ();\n+  return 0;\n+}"}, {"sha": "5580f286ccfc79eeb72ca1828bde95929fcee31b", "filename": "gcc/tree-loop-distribution.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/660880654ab4076aeb85498be24440dfb5a6638d/gcc%2Ftree-loop-distribution.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/660880654ab4076aeb85498be24440dfb5a6638d/gcc%2Ftree-loop-distribution.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-loop-distribution.c?ref=660880654ab4076aeb85498be24440dfb5a6638d", "patch": "@@ -774,7 +774,7 @@ const_with_all_bytes_same (tree val)\n \tcase VECTOR_CST:\n \t  unsigned int j;\n \t  for (j = 0; j < VECTOR_CST_NELTS (val); ++j)\n-\t    if (const_with_all_bytes_same (VECTOR_CST_ELT (val, i)))\n+\t    if (const_with_all_bytes_same (VECTOR_CST_ELT (val, j)))\n \t      break;\n \t  if (j == VECTOR_CST_NELTS (val))\n \t    return 0;"}]}