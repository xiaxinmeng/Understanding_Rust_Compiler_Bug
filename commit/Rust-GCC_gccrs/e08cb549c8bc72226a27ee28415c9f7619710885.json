{"sha": "e08cb549c8bc72226a27ee28415c9f7619710885", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTA4Y2I1NDljOGJjNzIyMjZhMjdlZTI4NDE1YzlmNzYxOTcxMDg4NQ==", "commit": {"author": {"name": "Brendan Kehoe", "email": "brendan@gcc.gnu.org", "date": "1997-02-24T23:29:09Z"}, "committer": {"name": "Brendan Kehoe", "email": "brendan@gcc.gnu.org", "date": "1997-02-24T23:29:09Z"}, "message": "* fixincludes: Fix need of prototypes for C++ in rpc/xdr.h on SunOS4.\n\nFrom-SVN: r13676", "tree": {"sha": "7e18d525167d1c726ad1b91fb9118bde822b88bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e18d525167d1c726ad1b91fb9118bde822b88bc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e08cb549c8bc72226a27ee28415c9f7619710885", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e08cb549c8bc72226a27ee28415c9f7619710885", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e08cb549c8bc72226a27ee28415c9f7619710885", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e08cb549c8bc72226a27ee28415c9f7619710885/comments", "author": null, "committer": null, "parents": [{"sha": "431c5c475ddf3fa535b27e0b3bb3c30c9e49e9dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/431c5c475ddf3fa535b27e0b3bb3c30c9e49e9dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/431c5c475ddf3fa535b27e0b3bb3c30c9e49e9dc"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "abb5df673ed070e9d63223ff9ddce6456c042ccd", "filename": "gcc/fixincludes", "status": "modified", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e08cb549c8bc72226a27ee28415c9f7619710885/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e08cb549c8bc72226a27ee28415c9f7619710885/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=e08cb549c8bc72226a27ee28415c9f7619710885", "patch": "@@ -2777,6 +2777,36 @@ if [ -r ${LIB}/$file ]; then\n   fi\n fi\n \n+# rpc/xdr.h on SunOS needs prototypes for its XDR->xdr_ops function pointers.\n+file=rpc/xdr.h\n+if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n+  cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n+  chmod +w ${LIB}/$file 2>/dev/null\n+  chmod a+r ${LIB}/$file 2>/dev/null\n+fi\n+\n+if [ -r ${LIB}/$file ]; then\n+  echo \"Checking for needed C++ prototype in $file\"\n+  sed -e 's/^\\(.*\\)\\*\\(x_.*\\)();\\(.*\\)/\\\n+#ifdef __cplusplus\\\n+\\1*\\2(...);\\3\\\n+#else\\\n+\\1*\\2();\\3\\\n+#endif/g' \\\n+     $LIB/$file > ${LIB}/${file}.sed\n+\n+  rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n+  if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n+    rm -f ${LIB}/$file\n+  else\n+    # Find any include directives that use \"file\".\n+    for include in `egrep '^[       ]*#[    ]*include[      ]*\"[^/]' ${LIB}/$file | sed -e 's/^[    ]*#[    ]*include[      ]*\"\\([^\"]*\\)\".*$/\\1/'`; do\n+\tdir=`echo $file | sed -e s'|/[^/]*$||'`\n+\trequired=\"$required ${INPUT} $dir/$include ${LIB}/$dir/$include\"\n+    done\n+  fi\n+fi\n+\n # This loop does not appear to do anything, because it uses file\n # rather than $file when setting target.  It also appears to be\n # unnecessary, since the main loop processes symbolic links."}]}