{"sha": "e72f783c86264dc4a8f0addd340a9950da1d1b6d", "node_id": "C_kwDOANBUbNoAKGU3MmY3ODNjODYyNjRkYzRhOGYwYWRkZDM0MGE5OTUwZGExZDFiNmQ", "commit": {"author": {"name": "Stefan Schulze Frielinghaus", "email": "stefansf@linux.ibm.com", "date": "2021-11-02T08:19:44Z"}, "committer": {"name": "Stefan Schulze Frielinghaus", "email": "stefansf@linux.ibm.com", "date": "2021-11-02T08:19:44Z"}, "message": "IBM Z: Fix address of operands will never be NULL warnings\n\nSince a recent enhancement of -Waddress a couple of warnings are emitted\nand turned into errors during bootstrap:\n\ngcc/config/s390/s390.md:12087:25: error: the address of 'operands' will never be NULL [-Werror=address]\n12087 |   \"TARGET_HTM && operands != NULL\nbuild/gencondmd.c:59:12: note: 'operands' declared here\n   59 | extern rtx operands[];\n      |            ^~~~~~~~\n\nFixed by removing those non-null checks.\n\ngcc/ChangeLog:\n\n\t* config/s390/s390.md (\"*cc_to_int\", \"tabort\", \"*tabort_1\",\n\t\"*tabort_1_plus\"): Remove operands non-null check.", "tree": {"sha": "52a6d32566d4adb63042a52ea38e430db3471e2c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/52a6d32566d4adb63042a52ea38e430db3471e2c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e72f783c86264dc4a8f0addd340a9950da1d1b6d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e72f783c86264dc4a8f0addd340a9950da1d1b6d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e72f783c86264dc4a8f0addd340a9950da1d1b6d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e72f783c86264dc4a8f0addd340a9950da1d1b6d/comments", "author": {"login": "stefan-sf-ibm", "id": 73470131, "node_id": "MDQ6VXNlcjczNDcwMTMx", "avatar_url": "https://avatars.githubusercontent.com/u/73470131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefan-sf-ibm", "html_url": "https://github.com/stefan-sf-ibm", "followers_url": "https://api.github.com/users/stefan-sf-ibm/followers", "following_url": "https://api.github.com/users/stefan-sf-ibm/following{/other_user}", "gists_url": "https://api.github.com/users/stefan-sf-ibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefan-sf-ibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefan-sf-ibm/subscriptions", "organizations_url": "https://api.github.com/users/stefan-sf-ibm/orgs", "repos_url": "https://api.github.com/users/stefan-sf-ibm/repos", "events_url": "https://api.github.com/users/stefan-sf-ibm/events{/privacy}", "received_events_url": "https://api.github.com/users/stefan-sf-ibm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "stefan-sf-ibm", "id": 73470131, "node_id": "MDQ6VXNlcjczNDcwMTMx", "avatar_url": "https://avatars.githubusercontent.com/u/73470131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefan-sf-ibm", "html_url": "https://github.com/stefan-sf-ibm", "followers_url": "https://api.github.com/users/stefan-sf-ibm/followers", "following_url": "https://api.github.com/users/stefan-sf-ibm/following{/other_user}", "gists_url": "https://api.github.com/users/stefan-sf-ibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefan-sf-ibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefan-sf-ibm/subscriptions", "organizations_url": "https://api.github.com/users/stefan-sf-ibm/orgs", "repos_url": "https://api.github.com/users/stefan-sf-ibm/repos", "events_url": "https://api.github.com/users/stefan-sf-ibm/events{/privacy}", "received_events_url": "https://api.github.com/users/stefan-sf-ibm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fb7fee84813b23487baf0c1094860251229ab5dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb7fee84813b23487baf0c1094860251229ab5dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb7fee84813b23487baf0c1094860251229ab5dd"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "4debdcd12478d270005048911acb875d829a5758", "filename": "gcc/config/s390/s390.md", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e72f783c86264dc4a8f0addd340a9950da1d1b6d/gcc%2Fconfig%2Fs390%2Fs390.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e72f783c86264dc4a8f0addd340a9950da1d1b6d/gcc%2Fconfig%2Fs390%2Fs390.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.md?ref=e72f783c86264dc4a8f0addd340a9950da1d1b6d", "patch": "@@ -3533,7 +3533,7 @@\n   [(set (match_operand:SI 0 \"nonimmediate_operand\"     \"=d\")\n         (unspec:SI [(match_operand 1 \"register_operand\" \"0\")]\n                    UNSPEC_CC_TO_INT))]\n-  \"operands != NULL\"\n+  \"\"\n   \"#\"\n   \"reload_completed\"\n   [(set (match_dup 0) (lshiftrt:SI (match_dup 0) (const_int 28)))])\n@@ -12062,7 +12062,7 @@\n (define_expand \"tabort\"\n   [(unspec_volatile [(match_operand:SI 0 \"nonmemory_operand\" \"\")]\n \t\t    UNSPECV_TABORT)]\n-  \"TARGET_HTM && operands != NULL\"\n+  \"TARGET_HTM\"\n {\n   if (CONST_INT_P (operands[0])\n       && INTVAL (operands[0]) >= 0 && INTVAL (operands[0]) <= 255)\n@@ -12076,16 +12076,15 @@\n (define_insn \"*tabort_1\"\n   [(unspec_volatile [(match_operand:SI 0 \"nonmemory_operand\" \"aJ\")]\n \t\t    UNSPECV_TABORT)]\n-  \"TARGET_HTM && operands != NULL\"\n+  \"TARGET_HTM\"\n   \"tabort\\t%Y0\"\n   [(set_attr \"op_type\" \"S\")])\n \n (define_insn \"*tabort_1_plus\"\n   [(unspec_volatile [(plus:SI (match_operand:SI 0 \"register_operand\"  \"a\")\n \t\t\t      (match_operand:SI 1 \"const_int_operand\" \"J\"))]\n \t\t    UNSPECV_TABORT)]\n-  \"TARGET_HTM && operands != NULL\n-   && CONST_OK_FOR_CONSTRAINT_P (INTVAL (operands[1]), 'J', \\\"J\\\")\"\n+  \"TARGET_HTM && CONST_OK_FOR_CONSTRAINT_P (INTVAL (operands[1]), 'J', \\\"J\\\")\"\n   \"tabort\\t%1(%0)\"\n   [(set_attr \"op_type\" \"S\")])\n "}]}