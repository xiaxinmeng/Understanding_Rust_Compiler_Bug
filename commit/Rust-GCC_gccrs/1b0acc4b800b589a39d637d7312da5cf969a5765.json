{"sha": "1b0acc4b800b589a39d637d7312da5cf969a5765", "node_id": "C_kwDOANBUbNoAKDFiMGFjYzRiODAwYjU4OWEzOWQ2MzdkNzMxMmRhNWNmOTY5YTU3NjU", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2021-11-25T22:58:48Z"}, "committer": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2021-11-25T22:58:48Z"}, "message": "Remove forgotten early return in ipa_value_range_from_jfunc\n\ngcc/ChangeLog:\n\n\t* ipa-cp.c (ipa_value_range_from_jfunc): Remove forgotten early return.\n\ngcc/testsuite/ChangeLog:\n\n\t* gcc.dg/ipa/inline10.c: New test.", "tree": {"sha": "03bcf17b65ac980e78530f94e2f7684563d803f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/03bcf17b65ac980e78530f94e2f7684563d803f7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1b0acc4b800b589a39d637d7312da5cf969a5765", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b0acc4b800b589a39d637d7312da5cf969a5765", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b0acc4b800b589a39d637d7312da5cf969a5765", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b0acc4b800b589a39d637d7312da5cf969a5765/comments", "author": null, "committer": null, "parents": [{"sha": "82c3657dd74896b39937bb0a2aaeba9b8ca105fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82c3657dd74896b39937bb0a2aaeba9b8ca105fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82c3657dd74896b39937bb0a2aaeba9b8ca105fd"}], "stats": {"total": 34, "additions": 33, "deletions": 1}, "files": [{"sha": "5d9bb974d6ba306dce353201f6f84310d1a49540", "filename": "gcc/ipa-cp.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b0acc4b800b589a39d637d7312da5cf969a5765/gcc%2Fipa-cp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b0acc4b800b589a39d637d7312da5cf969a5765/gcc%2Fipa-cp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-cp.c?ref=1b0acc4b800b589a39d637d7312da5cf969a5765", "patch": "@@ -1620,7 +1620,6 @@ ipa_value_range_from_jfunc (ipa_node_params *info, cgraph_edge *cs,\n \t\t\t    ipa_jump_func *jfunc, tree parm_type)\n {\n   value_range vr;\n-  return vr;\n   if (jfunc->m_vr)\n     ipa_vr_operation_and_type_effects (&vr,\n \t\t\t\t       jfunc->m_vr,"}, {"sha": "81884b4cceb79d11b33fb681d18a99166ecb70ff", "filename": "gcc/testsuite/gcc.dg/ipa/inline10.c", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b0acc4b800b589a39d637d7312da5cf969a5765/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b0acc4b800b589a39d637d7312da5cf969a5765/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline10.c?ref=1b0acc4b800b589a39d637d7312da5cf969a5765", "patch": "@@ -0,0 +1,33 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-Os -c -fdump-ipa-inline-details -fno-early-inlining -fno-partial-inlining\"  } */\n+void link_error ();\n+int\n+test(int a)\n+{\n+  if (a>10)\n+\t{\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t\tlink_error ();\n+\t}\n+}\n+int test2()\n+{\n+\tfor (int i=0;i<10;i++)\n+\t\ttest(i);\n+}\n+/* { dg-final { scan-ipa-dump \"Known to be false: not inlined, op0 > 10\"  \"inline\"  } } */\n+/* { dg-final { scan-ipa-dump \"Inlined test\"  \"inline\"  } } */"}]}