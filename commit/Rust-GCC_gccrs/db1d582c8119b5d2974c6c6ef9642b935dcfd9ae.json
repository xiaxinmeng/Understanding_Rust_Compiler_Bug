{"sha": "db1d582c8119b5d2974c6c6ef9642b935dcfd9ae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGIxZDU4MmM4MTE5YjVkMjk3NGM2YzZlZjk2NDJiOTM1ZGNmZDlhZQ==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2001-03-12T21:42:57Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2001-03-12T21:42:57Z"}, "message": "Fixups for -fno-for-scope\n\n\n2001-03-12  Benjamin Kosnik  <bkoz@redhat.com>\n\n\tFixups for -fno-for-scope\n\t* include/bits/locale_facets.tcc (__match_parallel): Fixup.\n\t* src/valarray-inst.cc (__gslice_to_index): Same.\n\nFrom-SVN: r40429", "tree": {"sha": "8963765a6eeb799aeaad73fccd6b59885695a78d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8963765a6eeb799aeaad73fccd6b59885695a78d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/db1d582c8119b5d2974c6c6ef9642b935dcfd9ae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db1d582c8119b5d2974c6c6ef9642b935dcfd9ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db1d582c8119b5d2974c6c6ef9642b935dcfd9ae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db1d582c8119b5d2974c6c6ef9642b935dcfd9ae/comments", "author": null, "committer": null, "parents": [{"sha": "ba8afff635f277c183f7f01cb080520189a08c50", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba8afff635f277c183f7f01cb080520189a08c50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba8afff635f277c183f7f01cb080520189a08c50"}], "stats": {"total": 51, "additions": 27, "deletions": 24}, "files": [{"sha": "1942ff35aa522c5308c6a581dafca2bb5220e134", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db1d582c8119b5d2974c6c6ef9642b935dcfd9ae/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db1d582c8119b5d2974c6c6ef9642b935dcfd9ae/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=db1d582c8119b5d2974c6c6ef9642b935dcfd9ae", "patch": "@@ -1,3 +1,9 @@\n+2001-03-12  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\tFixups for -fno-for-scope\n+\t* include/bits/locale_facets.tcc (__match_parallel): Fixup.\n+\t* src/valarray-inst.cc (__gslice_to_index): Same.\n+\t\n 2001-03-12  Rodney Brown  <RodneyBrown@mynd.com>\n \n         * src/gen-num-limits.cc (traps) [SPECIALIZE_TRAPPING]: Add fflush"}, {"sha": "b009de6a77c88d7a7673393935199af1164de800", "filename": "libstdc++-v3/include/bits/locale_facets.tcc", "status": "modified", "additions": 16, "deletions": 19, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db1d582c8119b5d2974c6c6ef9642b935dcfd9ae/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db1d582c8119b5d2974c6c6ef9642b935dcfd9ae/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc?ref=db1d582c8119b5d2974c6c6ef9642b935dcfd9ae", "patch": "@@ -110,47 +110,44 @@ namespace std\n       size_t __pos = 0;\n       do\n         {\n-          {\n-            int __ti = 0;\n-            for (;__ti < __remain &&\n-                   __pos == __targets[__matches[__ti]].size(); ++__ti)\n-              { }\n-            if (__ti == __remain)\n-              {\n-                if (__pos == 0) __remain = 0;\n-                return __s;\n-              }\n-          }\n+\t  int __ti = 0;\n+\t  while (__ti < __remain && __pos == __targets[__matches[__ti]].size())\n+\t    ++__ti;\n+\t  if (__ti == __remain)\n+\t    {\n+\t      if (__pos == 0) __remain = 0;\n+\t      return __s;\n+\t    }\n           if (__s == __end)\n             __eof = true;\n           bool __matched = false;\n-          for (int __ti = 0; __ti < __remain; )\n+          for (int __ti2 = 0; __ti2 < __remain; )\n             {\n-              const __string_type& __target = __targets[__matches[__ti]];\n+              const __string_type& __target = __targets[__matches[__ti2]];\n               if (__pos < __target.size())\n                 {\n                   if (__eof || __target[__pos] != *__s)\n                     {\n-                      __matches[__ti] = __matches[--__remain];\n+                      __matches[__ti2] = __matches[--__remain];\n                       continue;\n                     }\n                   __matched = true;\n                 }\n-              ++__ti;\n+              ++__ti2;\n             }\n           if (__matched)\n             {\n               ++__s;\n               ++__pos;\n             }\n-          for (int __ti = 0; __ti < __remain;)\n+          for (int __ti3 = 0; __ti3 < __remain;)\n             {\n-              if (__pos > __targets[__matches[__ti]].size())\n+              if (__pos > __targets[__matches[__ti3]].size())\n                 {\n-                  __matches[__ti] = __matches[--__remain];\n+                  __matches[__ti3] = __matches[--__remain];\n                   continue;\n                 }\n-              ++__ti;\n+              ++__ti3;\n             }\n         }\n       while (__remain);"}, {"sha": "c5f56164d11fc91ee3a17f7ac7d00cba1567aa6a", "filename": "libstdc++-v3/src/valarray-inst.cc", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db1d582c8119b5d2974c6c6ef9642b935dcfd9ae/libstdc%2B%2B-v3%2Fsrc%2Fvalarray-inst.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db1d582c8119b5d2974c6c6ef9642b935dcfd9ae/libstdc%2B%2B-v3%2Fsrc%2Fvalarray-inst.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Fvalarray-inst.cc?ref=db1d582c8119b5d2974c6c6ef9642b935dcfd9ae", "patch": "@@ -96,13 +96,13 @@ namespace std\n \n         // Process the next multi-index.  The loop ought to be\n         // backward since we're making a lexicagraphical visit.\n-        ++__t[__n-1];\n-        for (size_t __k=__n-1; __k; --__k)\n+        ++__t[__n - 1];\n+        for (size_t __k2 = __n - 1; __k2; --__k2)\n           {\n-            if (__t[__k] >= __l[__k])\n+            if (__t[__k2] >= __l[__k2])\n               {\n-                __t[__k] = 0;\n-                ++__t[__k-1];\n+                __t[__k2] = 0;\n+                ++__t[__k2 - 1];\n               }\n           }\n       }"}]}