{"sha": "31b29c620e4a7fe59b61d81ed9c13e89fe293b33", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzFiMjljNjIwZTRhN2ZlNTliNjFkODFlZDljMTNlODlmZTI5M2IzMw==", "commit": {"author": {"name": "Lee Millward", "email": "lee.millward@gmail.com", "date": "2006-07-15T15:00:28Z"}, "committer": {"name": "Lee Millward", "email": "lmillward@gcc.gnu.org", "date": "2006-07-15T15:00:28Z"}, "message": "re PR c++/28269 (ICE on attribute for invalid template)\n\n\tPR c++/28269\n\t* parser.c (cp_parser_elaborated_type_specifier):\n\tReturn early if an invalid type was detected.\n\n\t* g++.dg/template/crash54.C: New test.\n\nFrom-SVN: r115475", "tree": {"sha": "baffa7f941c5afdca64b05aae9a72005557b5923", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/baffa7f941c5afdca64b05aae9a72005557b5923"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/31b29c620e4a7fe59b61d81ed9c13e89fe293b33", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31b29c620e4a7fe59b61d81ed9c13e89fe293b33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31b29c620e4a7fe59b61d81ed9c13e89fe293b33", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31b29c620e4a7fe59b61d81ed9c13e89fe293b33/comments", "author": {"login": "lee-m", "id": 1028098, "node_id": "MDQ6VXNlcjEwMjgwOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1028098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lee-m", "html_url": "https://github.com/lee-m", "followers_url": "https://api.github.com/users/lee-m/followers", "following_url": "https://api.github.com/users/lee-m/following{/other_user}", "gists_url": "https://api.github.com/users/lee-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/lee-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lee-m/subscriptions", "organizations_url": "https://api.github.com/users/lee-m/orgs", "repos_url": "https://api.github.com/users/lee-m/repos", "events_url": "https://api.github.com/users/lee-m/events{/privacy}", "received_events_url": "https://api.github.com/users/lee-m/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "662c2e83b15ffe993481b9af261462e9e4fa9095", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/662c2e83b15ffe993481b9af261462e9e4fa9095", "html_url": "https://github.com/Rust-GCC/gccrs/commit/662c2e83b15ffe993481b9af261462e9e4fa9095"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "0dd1e8ca4c26a3ed4a7f6e56cf88eafdcf3218aa", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31b29c620e4a7fe59b61d81ed9c13e89fe293b33/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31b29c620e4a7fe59b61d81ed9c13e89fe293b33/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=31b29c620e4a7fe59b61d81ed9c13e89fe293b33", "patch": "@@ -7,6 +7,10 @@\n \ttype not being an acceptable Java parameter if \n \tit's error_mark_node.\n \t\n+\tPR c++/28269\n+\t* parser.c (cp_parser_elaborated_type_specifier):\n+\tReturn early if an invalid type was detected.\n+\t\n 2006-07-15  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n \n \tPR c++/28249"}, {"sha": "a2d41f164a7958d84d0ddd450a324b28cfa15cf8", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31b29c620e4a7fe59b61d81ed9c13e89fe293b33/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31b29c620e4a7fe59b61d81ed9c13e89fe293b33/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=31b29c620e4a7fe59b61d81ed9c13e89fe293b33", "patch": "@@ -10247,6 +10247,9 @@ cp_parser_elaborated_type_specifier (cp_parser* parser,\n \t}\n     }\n \n+  if (type == error_mark_node)\n+    return error_mark_node;\n+\n   /* Allow attributes on forward declarations of classes.  */\n   if (attributes)\n     {"}, {"sha": "92606e25ba2cffa0c05841461c74f0c87b7355ff", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31b29c620e4a7fe59b61d81ed9c13e89fe293b33/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31b29c620e4a7fe59b61d81ed9c13e89fe293b33/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=31b29c620e4a7fe59b61d81ed9c13e89fe293b33", "patch": "@@ -2,6 +2,9 @@\n \n \tPR c++/28292\n \t* g++.dg/other/error12.C: New test.\n+\n+\tPR c++/28269\n+\t* g++.dg/template/crash54.C: New test.\n \t\n 2006-07-15  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n "}, {"sha": "26b487571f4c67aa6bbd389ed2186f8d8509a9da", "filename": "gcc/testsuite/g++.dg/template/crash54.C", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31b29c620e4a7fe59b61d81ed9c13e89fe293b33/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash54.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31b29c620e4a7fe59b61d81ed9c13e89fe293b33/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash54.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash54.C?ref=31b29c620e4a7fe59b61d81ed9c13e89fe293b33", "patch": "@@ -0,0 +1,5 @@\n+//PR c++/28269\n+\n+template<int> struct A;\n+\n+struct __attribute__((unused)) A<0<; // { dg-error \"template argument|unqualified-id\" }"}]}