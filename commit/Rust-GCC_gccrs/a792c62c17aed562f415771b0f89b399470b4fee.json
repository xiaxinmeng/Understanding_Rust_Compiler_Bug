{"sha": "a792c62c17aed562f415771b0f89b399470b4fee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTc5MmM2MmMxN2FlZDU2MmY0MTU3NzFiMGY4OWIzOTk0NzBiNGZlZQ==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@axis.com", "date": "2020-01-23T19:24:36Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@axis.com", "date": "2020-05-09T01:39:35Z"}, "message": "cris: Define TARGET_FLAGS_REGNUM.\n\nThis made a whole lot of difference regarding regressions in the\ndelay-slot filling.  Before this, comparing __lshrdi3 for v10\nbefore/after decc0ration and other nearby functions was worse by\nseveral missing delay-slot fills; now down to 1.\n\nAlso, add a comment about *not* defining\nTARGET_FIXED_CONDITION_CODE_REGS.\n\ngcc:\n\t* config/cris/cris.c (TARGET_FLAGS_REGNUM): Define.", "tree": {"sha": "d2bc35f5d2faefe3986109b758e172e9373fa9f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d2bc35f5d2faefe3986109b758e172e9373fa9f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a792c62c17aed562f415771b0f89b399470b4fee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a792c62c17aed562f415771b0f89b399470b4fee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a792c62c17aed562f415771b0f89b399470b4fee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a792c62c17aed562f415771b0f89b399470b4fee/comments", "author": {"login": "hpataxisdotcom", "id": 80339731, "node_id": "MDQ6VXNlcjgwMzM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/80339731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpataxisdotcom", "html_url": "https://github.com/hpataxisdotcom", "followers_url": "https://api.github.com/users/hpataxisdotcom/followers", "following_url": "https://api.github.com/users/hpataxisdotcom/following{/other_user}", "gists_url": "https://api.github.com/users/hpataxisdotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpataxisdotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpataxisdotcom/subscriptions", "organizations_url": "https://api.github.com/users/hpataxisdotcom/orgs", "repos_url": "https://api.github.com/users/hpataxisdotcom/repos", "events_url": "https://api.github.com/users/hpataxisdotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/hpataxisdotcom/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hpataxisdotcom", "id": 80339731, "node_id": "MDQ6VXNlcjgwMzM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/80339731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpataxisdotcom", "html_url": "https://github.com/hpataxisdotcom", "followers_url": "https://api.github.com/users/hpataxisdotcom/followers", "following_url": "https://api.github.com/users/hpataxisdotcom/following{/other_user}", "gists_url": "https://api.github.com/users/hpataxisdotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpataxisdotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpataxisdotcom/subscriptions", "organizations_url": "https://api.github.com/users/hpataxisdotcom/orgs", "repos_url": "https://api.github.com/users/hpataxisdotcom/repos", "events_url": "https://api.github.com/users/hpataxisdotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/hpataxisdotcom/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "27228024598c3515389cdb378346433fb2c48551", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27228024598c3515389cdb378346433fb2c48551", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27228024598c3515389cdb378346433fb2c48551"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "3928ee780bf56730b282713a34b2fe53ec707421", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a792c62c17aed562f415771b0f89b399470b4fee/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a792c62c17aed562f415771b0f89b399470b4fee/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a792c62c17aed562f415771b0f89b399470b4fee", "patch": "@@ -38,6 +38,8 @@\n \t* config/cris/cris.md (zcond): New code_iterator.\n \t(\"*cbranch<mode>4_btstq<CC>\"): New insn_and_split.\n \n+\t* config/cris/cris.c (TARGET_FLAGS_REGNUM): Define.\n+\n 2020-05-08  Vladimir Makarov  <vmakarov@redhat.com>\n \n \t* ira-color.c (update_costs_from_allocno): Remove"}, {"sha": "eecda83845c2c7050755d150ec876236d222a749", "filename": "gcc/config/cris/cris.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a792c62c17aed562f415771b0f89b399470b4fee/gcc%2Fconfig%2Fcris%2Fcris.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a792c62c17aed562f415771b0f89b399470b4fee/gcc%2Fconfig%2Fcris%2Fcris.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Fcris.c?ref=a792c62c17aed562f415771b0f89b399470b4fee", "patch": "@@ -219,6 +219,16 @@ int cris_cpu_version = CRIS_DEFAULT_CPU_VERSION;\n #undef TARGET_PREFERRED_RELOAD_CLASS\n #define TARGET_PREFERRED_RELOAD_CLASS cris_preferred_reload_class\n \n+/* We don't define TARGET_FIXED_CONDITION_CODE_REGS, as at the time of\n+   this writing, it has an effect only on pre-reload CSE and when\n+   scheduling (and for \"macro fusion\" at that).  Neither applies for\n+   CRIS so don't waste compilation cycles on enabling a pass that does\n+   nothing.  Beware of changes to its usage; it may make sense to enable\n+   \"later\".  */\n+\n+#undef TARGET_FLAGS_REGNUM\n+#define TARGET_FLAGS_REGNUM CRIS_CC0_REGNUM\n+\n #undef TARGET_REGISTER_MOVE_COST\n #define TARGET_REGISTER_MOVE_COST cris_register_move_cost\n #undef TARGET_MEMORY_MOVE_COST"}]}