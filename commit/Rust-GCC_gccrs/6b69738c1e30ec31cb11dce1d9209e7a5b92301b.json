{"sha": "6b69738c1e30ec31cb11dce1d9209e7a5b92301b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmI2OTczOGMxZTMwZWMzMWNiMTFkY2UxZDkyMDllN2E1YjkyMzAxYg==", "commit": {"author": {"name": "Bernd Edlinger", "email": "bernd.edlinger@hotmail.de", "date": "2021-01-04T10:35:31Z"}, "committer": {"name": "Bernd Edlinger", "email": "bernd.edlinger@hotmail.de", "date": "2021-01-05T09:57:54Z"}, "message": "Restore input_location after recursive expand_call_inline\n\nThis is just a precautionary fix.\n\n2021-01-05  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n\n\t* tree-inline.c (expand_call_inline): Restore input_location.\n\tReturn result from recursive call.", "tree": {"sha": "1a05b4b07e97a1ce8f1fb0eb34149749e422041c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1a05b4b07e97a1ce8f1fb0eb34149749e422041c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6b69738c1e30ec31cb11dce1d9209e7a5b92301b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b69738c1e30ec31cb11dce1d9209e7a5b92301b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b69738c1e30ec31cb11dce1d9209e7a5b92301b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b69738c1e30ec31cb11dce1d9209e7a5b92301b/comments", "author": {"login": "bernd-edlinger", "id": 17638929, "node_id": "MDQ6VXNlcjE3NjM4OTI5", "avatar_url": "https://avatars.githubusercontent.com/u/17638929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bernd-edlinger", "html_url": "https://github.com/bernd-edlinger", "followers_url": "https://api.github.com/users/bernd-edlinger/followers", "following_url": "https://api.github.com/users/bernd-edlinger/following{/other_user}", "gists_url": "https://api.github.com/users/bernd-edlinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/bernd-edlinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bernd-edlinger/subscriptions", "organizations_url": "https://api.github.com/users/bernd-edlinger/orgs", "repos_url": "https://api.github.com/users/bernd-edlinger/repos", "events_url": "https://api.github.com/users/bernd-edlinger/events{/privacy}", "received_events_url": "https://api.github.com/users/bernd-edlinger/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bernd-edlinger", "id": 17638929, "node_id": "MDQ6VXNlcjE3NjM4OTI5", "avatar_url": "https://avatars.githubusercontent.com/u/17638929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bernd-edlinger", "html_url": "https://github.com/bernd-edlinger", "followers_url": "https://api.github.com/users/bernd-edlinger/followers", "following_url": "https://api.github.com/users/bernd-edlinger/following{/other_user}", "gists_url": "https://api.github.com/users/bernd-edlinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/bernd-edlinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bernd-edlinger/subscriptions", "organizations_url": "https://api.github.com/users/bernd-edlinger/orgs", "repos_url": "https://api.github.com/users/bernd-edlinger/repos", "events_url": "https://api.github.com/users/bernd-edlinger/events{/privacy}", "received_events_url": "https://api.github.com/users/bernd-edlinger/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "560d9915762d61bd1027259ecf55339f40a0a1de", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/560d9915762d61bd1027259ecf55339f40a0a1de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/560d9915762d61bd1027259ecf55339f40a0a1de"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "cd3fad1fa98a5862f8a48931072dd91a96139dd6", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b69738c1e30ec31cb11dce1d9209e7a5b92301b/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b69738c1e30ec31cb11dce1d9209e7a5b92301b/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=6b69738c1e30ec31cb11dce1d9209e7a5b92301b", "patch": "@@ -4840,9 +4840,11 @@ expand_call_inline (basic_block bb, gimple *stmt, copy_body_data *id,\n       gimple_call_set_fndecl (stmt, edge->callee->decl);\n       update_stmt (stmt);\n       id->src_node->remove ();\n-      expand_call_inline (bb, stmt, id, to_purge);\n+      successfully_inlined = expand_call_inline (bb, stmt, id, to_purge);\n       maybe_remove_unused_call_args (cfun, stmt);\n-      return true;\n+      /* This used to return true even though we do fail to inline in\n+\t some cases.  See PR98525.  */\n+      goto egress;\n     }\n   fn = cg_edge->callee->decl;\n   cg_edge->callee->get_untransformed_body ();"}]}