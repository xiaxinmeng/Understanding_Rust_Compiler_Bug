{"sha": "71c3949eeae32f0c242fa00c48be998b13cfdd7a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzFjMzk0OWVlYWUzMmYwYzI0MmZhMDBjNDhiZTk5OGIxM2NmZGQ3YQ==", "commit": {"author": {"name": "Bill Schmidt", "email": "wschmidt@linux.ibm.com", "date": "2018-10-25T20:09:24Z"}, "committer": {"name": "William Schmidt", "email": "wschmidt@gcc.gnu.org", "date": "2018-10-25T20:09:24Z"}, "message": "emmintrin.h (_mm_sll_epi64): Remove wrong cast.\n\n2018-10-25  Bill Schmidt  <wschmidt@linux.ibm.com>\n\t    Jinsong Ji <jji@us.ibm.com>\n\n\t* config/rs6000/emmintrin.h (_mm_sll_epi64): Remove wrong cast.\n\t* config/rs6000/xmmintrin.h (_mm_min_ps): Change m's type to\n\t__vector __bool int.  Use vec_cmpgt in preference to deprecated\n\tfunction vec_vcmpgtfp.\n\t(_mm_max_ps): Likewise.\n\n\nCo-Authored-By: Jinsong Ji <jji@us.ibm.com>\n\nFrom-SVN: r265506", "tree": {"sha": "85c76f48f8ee8ace4574e721de77dc70aa9cb24b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/85c76f48f8ee8ace4574e721de77dc70aa9cb24b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/71c3949eeae32f0c242fa00c48be998b13cfdd7a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71c3949eeae32f0c242fa00c48be998b13cfdd7a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71c3949eeae32f0c242fa00c48be998b13cfdd7a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71c3949eeae32f0c242fa00c48be998b13cfdd7a/comments", "author": null, "committer": null, "parents": [{"sha": "7959b94e08bcbd73e921149081e7d503525e0b77", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7959b94e08bcbd73e921149081e7d503525e0b77", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7959b94e08bcbd73e921149081e7d503525e0b77"}], "stats": {"total": 55, "additions": 51, "deletions": 4}, "files": [{"sha": "f6d77513a2b8137170571b6925ad0a8cae55a97a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 48, "deletions": 0, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71c3949eeae32f0c242fa00c48be998b13cfdd7a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71c3949eeae32f0c242fa00c48be998b13cfdd7a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=71c3949eeae32f0c242fa00c48be998b13cfdd7a", "patch": "@@ -1,3 +1,12 @@\n+2018-10-25  Bill Schmidt  <wschmidt@linux.ibm.com>\n+\t    Jinsong Ji <jji@us.ibm.com>\n+\n+\t* config/rs6000/emmintrin.h (_mm_sll_epi64): Remove wrong cast.\n+\t* config/rs6000/xmmintrin.h (_mm_min_ps): Change m's type to\n+\t__vector __bool int.  Use vec_cmpgt in preference to deprecated\n+\tfunction vec_vcmpgtfp.\n+\t(_mm_max_ps): Likewise.\n+\n 2018-10-25  Jeff Law  <law@redhat.com>\n \n \t* config/rl78/rl78.c (insn_ok_now): Always re-recognize the insn\n@@ -59,6 +68,17 @@\n \n \t* options.texi (Deprecated): Move list to Var section.\n \n+2018-10-24  Bill Schmidt  <wschmidt@linux.ibm.com>\n+            Jinsong Ji <jji@us.ibm.com>\n+\n+        * config/rs6000/emmintrin.h (_mm_cvtpd_epi32): Change deprecated\n+        __vector long to __vector long long.\n+        (_mm_cvtpd_ps): Likewise.\n+        (_mm_cvttpd_epi32): Likewise.\n+        (_mm_cvtpi32_pd): Likewise.\n+        (_mm_unpackhi_epi64): Likewise.\n+        (_mm_unpacklo_epi64): Likewise.\n+\n 2018-10-24  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \tPR rtl-optimization/87720\n@@ -217,6 +237,15 @@\n \t* tree-ssa-threadedge.c (thread_around_empty_blocks): Handle\n \tthe case we do not find the taken edge.\n \n+2018-10-22  Bill Schmidt  <wschmidt@linux.ibm.com>\n+            Jinsong Ji  <jji@us.ibm.com>\n+\n+        * config/rs6000/emmintrin.h (_MM_SHUFFLE2): Comment cleanup.\n+        (_mm_store_pd): Use unaligned vector type for pointer cast.\n+        (_mm_maskmoveu_si128): Likewise.\n+        * config/rs6000/xmmintrin.h (__m128_u): New typedef.\n+        (_mm_store_ps): Use unaligned vector type for pointer cast.\n+\n 2018-10-22  Paul Koning  <ni1d@arrl.net>\n \n \t* symtab.c (symtab_node::increase_alignment): Correct max\n@@ -468,6 +497,25 @@\n \t(*sub<mode>3<mask_name>_bcst): New.\n \t(*add<mode>3<mask_name>_bcst): Likewise.\n \n+2018-10-21  Bill Schmidt  <wschmidt@linux.ibm.com>\n+            Jinsong Ji  <jji@us.ibm.com>\n+\n+        * config/rs6000/emmintrin.h (_mm_movemask_pd): Replace __vector\n+        __m64 with __vector unsigned long long for compatibility.\n+        (_mm_movemask_epi8): Likewise.\n+        * config/rs6000/xmmintrin.h (_mm_cvtps_pi32): Likewise.\n+        (_mm_cvttps_pi32): Likewise.\n+        (_mm_cvtpi32_ps): Likewise.\n+        (_mm_cvtps_pi16): Likewise.\n+        (_mm_loadh_pi): Likewise.\n+        (_mm_storeh_pi): Likewise.\n+        (_mm_movehl_ps): Likewise.\n+        (_mm_movelh_ps): Likewise.\n+        (_mm_loadl_pi): Likewise.\n+        (_mm_storel_pi): Likewise.\n+        (_mm_movemask_ps): Likewise.\n+        (_mm_shuffle_pi16): Likewise.\n+\n 2018-10-21  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR target/72782"}, {"sha": "0d73ffe518b71a79a4244c9606744204bfe8184e", "filename": "gcc/config/rs6000/emmintrin.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71c3949eeae32f0c242fa00c48be998b13cfdd7a/gcc%2Fconfig%2Frs6000%2Femmintrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71c3949eeae32f0c242fa00c48be998b13cfdd7a/gcc%2Fconfig%2Frs6000%2Femmintrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Femmintrin.h?ref=71c3949eeae32f0c242fa00c48be998b13cfdd7a", "patch": "@@ -1770,8 +1770,7 @@ _mm_sll_epi64 (__m128i __A, __m128i __B)\n   lshift = (__v2du) vec_splat ((__v2du)__B, 0);\n   shmask = lshift < shmax;\n   result = vec_vsld ((__v2du) __A, lshift);\n-  result = (__v2du) vec_sel ((__v2df) shmask, (__v2df) result,\n-\t\t\t      (__v2df) shmask);\n+  result = (__v2du) vec_sel ((__v2df) shmask, (__v2df) result, shmask);\n \n   return (__m128i) result;\n }"}, {"sha": "528937552c6bc7e2f6ffcc214fce0d414e59b892", "filename": "gcc/config/rs6000/xmmintrin.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71c3949eeae32f0c242fa00c48be998b13cfdd7a/gcc%2Fconfig%2Frs6000%2Fxmmintrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71c3949eeae32f0c242fa00c48be998b13cfdd7a/gcc%2Fconfig%2Frs6000%2Fxmmintrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fxmmintrin.h?ref=71c3949eeae32f0c242fa00c48be998b13cfdd7a", "patch": "@@ -457,14 +457,14 @@ _mm_max_ss (__m128 __A, __m128 __B)\n extern __inline __m128 __attribute__((__gnu_inline__, __always_inline__, __artificial__))\n _mm_min_ps (__m128 __A, __m128 __B)\n {\n-  __m128 m = (__m128) vec_vcmpgtfp ((__v4sf) __B, (__v4sf) __A);\n+  __vector __bool int m = vec_cmpgt ((__v4sf) __B, (__v4sf) __A);\n   return vec_sel (__B, __A, m);\n }\n \n extern __inline __m128 __attribute__((__gnu_inline__, __always_inline__, __artificial__))\n _mm_max_ps (__m128 __A, __m128 __B)\n {\n-  __m128 m = (__m128) vec_vcmpgtfp ((__v4sf) __A, (__v4sf) __B);\n+  __vector __bool int m = vec_cmpgt ((__v4sf) __A, (__v4sf) __B);\n   return vec_sel (__B, __A, m);\n }\n "}]}