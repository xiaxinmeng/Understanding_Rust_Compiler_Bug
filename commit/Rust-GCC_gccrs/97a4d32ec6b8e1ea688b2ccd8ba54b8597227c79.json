{"sha": "97a4d32ec6b8e1ea688b2ccd8ba54b8597227c79", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTdhNGQzMmVjNmI4ZTFlYTY4OGIyY2NkOGJhNTRiODU5NzIyN2M3OQ==", "commit": {"author": {"name": "Bryce McKinlay", "email": "bryce@albatross.co.nz", "date": "2001-02-14T05:32:31Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2001-02-14T05:32:31Z"}, "message": "natClass.cc (getSignature): Don't try to dereference param_types if it is null.\n\n\t* java/lang/natClass.cc (getSignature): Don't try to dereference\n\tparam_types if it is null. Instead, take this to mean \"no parameters\".\n\t* java/lang/TreeMap.java (TreeIterator.next): Throw\n\tNoSuchElementException in preference to\n\tConcurrentModificationException.\n\t(TreeIterator.remove): Throw IllegalStateException in preference to\n\tConcurrentModificationException.\n\t(SubMap.firstKey): Do a better check for empty SubMap, and if it is,\n\tthrow a NoSuchElementException.\n\t(SubMap.lastKey): Likewise.\n\nFrom-SVN: r39658", "tree": {"sha": "4f2a41fd0521db9e0327c39ffe966d5f227e8cf6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4f2a41fd0521db9e0327c39ffe966d5f227e8cf6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/97a4d32ec6b8e1ea688b2ccd8ba54b8597227c79", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97a4d32ec6b8e1ea688b2ccd8ba54b8597227c79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97a4d32ec6b8e1ea688b2ccd8ba54b8597227c79", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97a4d32ec6b8e1ea688b2ccd8ba54b8597227c79/comments", "author": null, "committer": null, "parents": [{"sha": "a142a996267f9c8adf239a565725174265c67749", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a142a996267f9c8adf239a565725174265c67749", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a142a996267f9c8adf239a565725174265c67749"}], "stats": {"total": 43, "additions": 27, "deletions": 16}, "files": [{"sha": "35ac4789ea930f8ab81c64efca2be2cc2d08f7d9", "filename": "libjava/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97a4d32ec6b8e1ea688b2ccd8ba54b8597227c79/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97a4d32ec6b8e1ea688b2ccd8ba54b8597227c79/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=97a4d32ec6b8e1ea688b2ccd8ba54b8597227c79", "patch": "@@ -9,6 +9,16 @@\n \t* java/util/SortedSet.java: Sync with classpath.\n \t* java/util/HashMap.java (hash): Use if statement instead of ternary,\n \tfor clarity.\n+\t\n+\t* java/lang/natClass.cc (getSignature): Don't try to dereference \n+\tparam_types if it is null. Instead, take this to mean \"no parameters\".\n+\t* java/lang/TreeMap.java (TreeIterator.next): Throw \n+\tNoSuchElementException in preference to ConcurrentModificationException.\n+\t(TreeIterator.remove): Throw IllegalStateException in preference to \n+\tConcurrentModificationException.\n+\t(SubMap.firstKey): Do a better check for empty SubMap, and if it is,\n+\tthrow a NoSuchElementException.\n+\t(SubMap.lastKey): Likewise.\n \n 2001-02-13  Tom Tromey  <tromey@redhat.com>\n "}, {"sha": "a1008d692d054067d7e9b11f8c981678b0cdd153", "filename": "libjava/java/lang/natClass.cc", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97a4d32ec6b8e1ea688b2ccd8ba54b8597227c79/libjava%2Fjava%2Flang%2FnatClass.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97a4d32ec6b8e1ea688b2ccd8ba54b8597227c79/libjava%2Fjava%2Flang%2FnatClass.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatClass.cc?ref=97a4d32ec6b8e1ea688b2ccd8ba54b8597227c79", "patch": "@@ -290,8 +290,12 @@ java::lang::Class::getSignature (JArray<jclass> *param_types,\n   java::lang::StringBuffer *buf = new java::lang::StringBuffer ();\n   buf->append((jchar) '(');\n   jclass *v = elements (param_types);\n-  for (int i = 0; i < param_types->length; ++i)\n-    v[i]->getSignature(buf);\n+  // A NULL param_types means \"no parameters\".\n+  if (param_types != NULL)\n+    {\n+      for (int i = 0; i < param_types->length; ++i)\n+\tv[i]->getSignature(buf);\n+    }\n   buf->append((jchar) ')');\n   if (is_constructor)\n     buf->append((jchar) 'V');"}, {"sha": "5057d16fede822536d94a4fb30a5e921ed2e5822", "filename": "libjava/java/util/TreeMap.java", "status": "modified", "additions": 11, "deletions": 14, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97a4d32ec6b8e1ea688b2ccd8ba54b8597227c79/libjava%2Fjava%2Futil%2FTreeMap.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97a4d32ec6b8e1ea688b2ccd8ba54b8597227c79/libjava%2Fjava%2Futil%2FTreeMap.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2FTreeMap.java?ref=97a4d32ec6b8e1ea688b2ccd8ba54b8597227c79", "patch": "@@ -56,7 +56,7 @@\n  *\n  * @author           Jon Zeppieri\n  * @author\t     Bryce McKinlay\n- * @modified         $Id: TreeMap.java,v 1.8 2000/10/26 10:19:01 bryce Exp $\n+ * @modified         $Id: TreeMap.java,v 1.1 2001/02/14 04:44:21 bryce Exp $\n  */\n public class TreeMap extends AbstractMap\n   implements SortedMap, Cloneable, Serializable\n@@ -1194,10 +1194,10 @@ public boolean hasNext()\n \n     public Object next()\n     {\n-      if (knownMod != TreeMap.this.modCount)\n-\tthrow new ConcurrentModificationException();\n       if (next == nil)\n \tthrow new NoSuchElementException();\n+      if (knownMod != TreeMap.this.modCount)\n+\tthrow new ConcurrentModificationException();\n       Node n = next;\n \n       // Check limit in case we are iterating through a submap.\n@@ -1217,11 +1217,10 @@ else if (type == KEYS)\n \n     public void remove()\n     {\n-      if (knownMod != TreeMap.this.modCount)\n-\tthrow new ConcurrentModificationException();\n-\n       if (last == null)\n \tthrow new IllegalStateException();\n+      if (knownMod != TreeMap.this.modCount)\n+\tthrow new ConcurrentModificationException();\n /*\n       Object key = null;\n       if (next != nil)\n@@ -1408,19 +1407,17 @@ public Comparator comparator()\n     public Object firstKey()\n     {\n       Node node = lowestGreaterThan(minKey);\n-      // Do a range check in case SubMap is empty.\n-      if (keyInRange(node.key))\n-        return node.key;\n-      return null;\n+      if (node == nil || !keyInRange(node.key))\n+        throw new NoSuchElementException (\"empty\");\n+      return node.key;\n     }\n \n     public Object lastKey()\n     {\n       Node node = highestLessThan(maxKey);\n-      // Do a range check in case SubMap is empty.\n-      if (keyInRange(node.key))\n-        return node.key;\n-      return null;\n+      if (node == nil || !keyInRange(node.key))\n+        throw new NoSuchElementException (\"empty\");\n+      return node.key;\n     }\n \n     public SortedMap subMap(Object fromKey, Object toKey)"}]}