{"sha": "a61e5d28e921f75e4219377d941942c8eef711dd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTYxZTVkMjhlOTIxZjc1ZTQyMTkzNzdkOTQxOTQyYzhlZWY3MTFkZA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-03-21T00:38:40Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-03-21T00:38:40Z"}, "message": "(PRINT_OPERAND): Print float infinity and NaN's as +/-99e999.\n\nFrom-SVN: r6835", "tree": {"sha": "a0afc5e1aad48808832a3ee8e5aa3a2360a73f33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a0afc5e1aad48808832a3ee8e5aa3a2360a73f33"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a61e5d28e921f75e4219377d941942c8eef711dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a61e5d28e921f75e4219377d941942c8eef711dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a61e5d28e921f75e4219377d941942c8eef711dd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a61e5d28e921f75e4219377d941942c8eef711dd/comments", "author": null, "committer": null, "parents": [{"sha": "1e6c6f1118ad03697e3afe11edf2f84b2da978a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e6c6f1118ad03697e3afe11edf2f84b2da978a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e6c6f1118ad03697e3afe11edf2f84b2da978a2"}], "stats": {"total": 22, "additions": 19, "deletions": 3}, "files": [{"sha": "3e879b5715703310fee7093aa7a17c4267a3b8c6", "filename": "gcc/config/m68k/news.h", "status": "modified", "additions": 19, "deletions": 3, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a61e5d28e921f75e4219377d941942c8eef711dd/gcc%2Fconfig%2Fm68k%2Fnews.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a61e5d28e921f75e4219377d941942c8eef711dd/gcc%2Fconfig%2Fm68k%2Fnews.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fnews.h?ref=a61e5d28e921f75e4219377d941942c8eef711dd", "patch": "@@ -1,5 +1,5 @@\n /* Definitions of target machine for GNU compiler.  SONY NEWS-OS 4 version.\n-   Copyright (C) 1987, 1989, 1993 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 1989, 1993, 1994 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -319,7 +319,15 @@ do { char dstr[30];\t\t\t\t\t\\\n       if (CODE == 'f')\t\t\t\t\t\t\t\\\n         { char dstr[30];\t\t\t\t\t\t\\\n           REAL_VALUE_TO_DECIMAL (r, \"%.9e\", dstr);\t\t\t\\\n-          fprintf (FILE, \"#0f%s\", dstr);\t\t\t\t\\\n+          if (REAL_VALUE_ISINF (r) || REAL_VALUE_ISNAN (r)) {\t\t\\\n+            if (REAL_VALUE_NEGATIVE (r))\t\t\t\t\\\n+              fprintf (FILE, \"#0f-99e999\");\t\t\t\t\\\n+            else\t\t\t\t\t\t\t\\\n+              fprintf (FILE, \"#0f99e999\"); }\t\t\t\t\\\n+          else if (REAL_VALUE_MINUS_ZERO (r))\t\t\t\t\\\n+            fprintf (FILE, \"#0f-0.0\");\t\t\t\t\t\\\n+          else\t\t\t\t\t\t\t\t\\\n+            fprintf (FILE, \"#0f%s\", dstr); \t\t\t\t\\\n         }\t\t\t\t\t\t\t\t\\\n       else\t\t\t\t\t\t\t\t\\\n         { long l;\t\t\t\t\t\t\t\\\n@@ -334,7 +342,15 @@ do { char dstr[30];\t\t\t\t\t\\\n     { REAL_VALUE_TYPE r; char dstr[30];\t\t\t\t\t\\\n       REAL_VALUE_FROM_CONST_DOUBLE (r, X);\t\t\t\t\\\n       REAL_VALUE_TO_DECIMAL (r, \"%.20e\", dstr );\t\t\t\\\n-      fprintf (FILE, \"#0d%s\", dstr); }\t\t\t\t\t\\\n+      if (REAL_VALUE_ISINF (r) || REAL_VALUE_ISNAN (r)) {\t\t\\\n+        if (REAL_VALUE_NEGATIVE (r))\t\t\t\t\t\\\n+          fprintf (FILE, \"#0d-99e999\");\t\t\t\t\t\\\n+        else\t\t\t\t\t\t\t\t\\\n+          fprintf (FILE, \"#0d99e999\"); }\t\t\t\t\\\n+      else if (REAL_VALUE_MINUS_ZERO (r))\t\t\t\t\\\n+          fprintf (FILE, \"#0d-0.0\");\t\t\t\t\t\\\n+      else\t\t\t\t\t\t\t\t\\\n+          fprintf (FILE, \"#0d%s\", dstr); }\t\t\t\t\\\n   else if (CODE == 'b') output_addr_const (FILE, X);\t\t\t\\\n   else { putc ('#', FILE); output_addr_const (FILE, X); }}\n "}]}