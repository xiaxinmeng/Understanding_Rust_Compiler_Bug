{"sha": "9d436547f74b4828480c6d8efddc8bd2afc752aa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWQ0MzY1NDdmNzRiNDgyODQ4MGM2ZDhlZmRkYzhiZDJhZmM3NTJhYQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-09-02T01:57:02Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-09-02T01:57:02Z"}, "message": "Clean up case and remove leading zeros from hex constants.\n\nFrom-SVN: r5248", "tree": {"sha": "56712e5bc12d923385ee70d82d9e530c89983dac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/56712e5bc12d923385ee70d82d9e530c89983dac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9d436547f74b4828480c6d8efddc8bd2afc752aa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d436547f74b4828480c6d8efddc8bd2afc752aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d436547f74b4828480c6d8efddc8bd2afc752aa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d436547f74b4828480c6d8efddc8bd2afc752aa/comments", "author": null, "committer": null, "parents": [{"sha": "dcac138d8ef9314f109dae212521edac22523cb6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dcac138d8ef9314f109dae212521edac22523cb6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dcac138d8ef9314f109dae212521edac22523cb6"}], "stats": {"total": 54, "additions": 27, "deletions": 27}, "files": [{"sha": "9bd1e540ff10fc199f32b9a6255c3f44cffd0dc1", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 27, "deletions": 27, "changes": 54, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d436547f74b4828480c6d8efddc8bd2afc752aa/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d436547f74b4828480c6d8efddc8bd2afc752aa/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=9d436547f74b4828480c6d8efddc8bd2afc752aa", "patch": "@@ -70,7 +70,7 @@\n   \"\"\n   \"@\n    lbz%U1%X1 %0,%1\n-   rlinm %0,%1,0,0x000000FF\"\n+   rlinm %0,%1,0,0xff\"\n   [(set_attr \"type\" \"load,*\")])\n \n (define_insn \"\"\n@@ -79,7 +79,7 @@\n \t\t    (const_int 0)))\n    (clobber (match_scratch:SI 2 \"=r\"))]\n   \"\"\n-  \"andil. %2,%1,0x00FF\"\n+  \"andil. %2,%1,0xff\"\n   [(set_attr \"type\" \"compare\")])\n \n (define_insn \"\"\n@@ -89,7 +89,7 @@\n    (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n \t(zero_extend:SI (match_dup 1)))]\n   \"\"\n-  \"andil. %0,%1,0x00FF\"\n+  \"andil. %0,%1,0xff\"\n   [(set_attr \"type\" \"compare\")])\n \n (define_expand \"zero_extendqihi2\"\n@@ -104,7 +104,7 @@\n   \"\"\n   \"@\n    lbz%U1%X1 %0,%1\n-   rlinm %0,%1,0,0x000000FF\"\n+   rlinm %0,%1,0,0xff\"\n   [(set_attr \"type\" \"load,*\")])\n \n (define_expand \"zero_extendhisi2\"\n@@ -119,7 +119,7 @@\n   \"\"\n   \"@\n    lhz%U1%X1 %0,%1\n-   rlinm %0,%1,0,0x0000FFFF\"\n+   rlinm %0,%1,0,0xffff\"\n   [(set_attr \"type\" \"load,*\")])\n \n (define_insn \"\"\n@@ -128,7 +128,7 @@\n \t\t    (const_int 0)))\n    (clobber (match_scratch:SI 2 \"=r\"))]\n   \"\"\n-  \"andil. %2,%1,0xFFFF\"\n+  \"andil. %2,%1,0xffff\"\n   [(set_attr \"type\" \"compare\")])\n \n (define_insn \"\"\n@@ -138,7 +138,7 @@\n    (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n \t(zero_extend:SI (match_dup 1)))]\n   \"\"\n-  \"andil. %0,%1,0xFFFF\"\n+  \"andil. %0,%1,0xffff\"\n   [(set_attr \"type\" \"compare\")])\n \n (define_expand \"extendhisi2\"\n@@ -1165,7 +1165,7 @@\n \t(rotate:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r\")\n \t\t   (match_operand:SI 2 \"reg_or_cint_operand\" \"ri\")))]\n   \"\"\n-  \"rl%I2nm %0,%1,%h2,0xFFFFFFFF\")\n+  \"rl%I2nm %0,%1,%h2,0xffffffff\")\n \n (define_insn \"\"\n   [(set (match_operand:CC 0 \"cc_reg_operand\" \"=x\")\n@@ -1174,7 +1174,7 @@\n \t\t    (const_int 0)))\n    (clobber (match_scratch:SI 3 \"=r\"))]\n   \"\"\n-  \"rl%I2nm. %3,%1,%h2,0xFFFFFFFF\"\n+  \"rl%I2nm. %3,%1,%h2,0xffffffff\"\n   [(set_attr \"type\" \"delayed_compare\")])\n \n (define_insn \"\"\n@@ -1185,7 +1185,7 @@\n    (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n \t(rotate:SI (match_dup 1) (match_dup 2)))]\n   \"\"\n-  \"rl%I2nm. %0,%1,%h2,0xFFFFFFFF\"\n+  \"rl%I2nm. %0,%1,%h2,0xffffffff\"\n   [(set_attr \"type\" \"delayed_compare\")])\n \n (define_insn \"\"\n@@ -1228,7 +1228,7 @@\n \t  (rotate:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r\")\n \t\t     (match_operand:SI 2 \"reg_or_cint_operand\" \"ri\")) 0)))]\n   \"\"\n-  \"rl%I2nm %0,%1,%h2,0x000000FF\")\n+  \"rl%I2nm %0,%1,%h2,0xff\")\n \n (define_insn \"\"\n   [(set (match_operand:CC 0 \"cc_reg_operand\" \"=x\")\n@@ -1239,7 +1239,7 @@\n \t\t    (const_int 0)))\n    (clobber (match_scratch:SI 3 \"=r\"))]\n   \"\"\n-  \"rl%I2nm. %3,%1,%h2,0x000000FF\"\n+  \"rl%I2nm. %3,%1,%h2,0xff\"\n   [(set_attr \"type\" \"delayed_compare\")])\n \n (define_insn \"\"\n@@ -1252,7 +1252,7 @@\n    (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n \t(zero_extend:SI (subreg:QI (rotate:SI (match_dup 1) (match_dup 2)) 0)))]\n   \"\"\n-  \"rl%I2nm. %0,%1,%h2,0x000000FF\"\n+  \"rl%I2nm. %0,%1,%h2,0xff\"\n   [(set_attr \"type\" \"delayed_compare\")])\n \n (define_insn \"\"\n@@ -1262,7 +1262,7 @@\n \t  (rotate:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r\")\n \t\t     (match_operand:SI 2 \"reg_or_cint_operand\" \"ri\")) 0)))]\n   \"\"\n-  \"rl%I2nm %0,%1,%h2,0x0000FFFF\")\n+  \"rl%I2nm %0,%1,%h2,0xffff\")\n \n (define_insn \"\"\n   [(set (match_operand:CC 0 \"cc_reg_operand\" \"=x\")\n@@ -1273,7 +1273,7 @@\n \t\t    (const_int 0)))\n    (clobber (match_scratch:SI 3 \"=r\"))]\n   \"\"\n-  \"rl%I2nm. %3,%1,%h2,0x0000FFFF\"\n+  \"rl%I2nm. %3,%1,%h2,0xffff\"\n   [(set_attr \"type\" \"delayed_compare\")])\n \n (define_insn \"\"\n@@ -1286,7 +1286,7 @@\n    (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n \t(zero_extend:SI (subreg:HI (rotate:SI (match_dup 1) (match_dup 2)) 0)))]\n   \"\"\n-  \"rl%I2nm. %0,%1,%h2,0x0000FFFF\"\n+  \"rl%I2nm. %0,%1,%h2,0xffff\"\n   [(set_attr \"type\" \"delayed_compare\")])\n \n ;; Note that we use \"sle.\" instead of \"sl.\" so that we can set\n@@ -1442,7 +1442,7 @@\n \t  (lshiftrt:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r\")\n \t\t       (match_operand:SI 2 \"const_int_operand\" \"i\")) 0)))]\n   \"includes_rshift_p (operands[2], gen_rtx (CONST_INT, VOIDmode, 255))\"\n-  \"rlinm %0,%1,%s2,0x000000FF\")\n+  \"rlinm %0,%1,%s2,0xff\")\n \n (define_insn \"\"\n   [(set (match_operand:CC 0 \"cc_reg_operand\" \"=x\")\n@@ -1454,7 +1454,7 @@\n \t (const_int 0)))\n    (clobber (match_scratch:SI 3 \"=r\"))]\n   \"includes_rshift_p (operands[2], gen_rtx (CONST_INT, VOIDmode, 255))\"\n-  \"rlinm. %3,%1,%s2,0x000000FF\"\n+  \"rlinm. %3,%1,%s2,0xff\"\n   [(set_attr \"type\" \"delayed_compare\")])\n \n (define_insn \"\"\n@@ -1468,7 +1468,7 @@\n    (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n \t(zero_extend:SI (subreg:QI (lshiftrt:SI (match_dup 1) (match_dup 2)) 0)))]\n   \"includes_rshift_p (operands[2], gen_rtx (CONST_INT, VOIDmode, 255))\"\n-  \"rlinm. %0,%1,%s2,0x000000FF\"\n+  \"rlinm. %0,%1,%s2,0xff\"\n   [(set_attr \"type\" \"delayed_compare\")])\n \n (define_insn \"\"\n@@ -1478,7 +1478,7 @@\n \t  (lshiftrt:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r\")\n \t\t       (match_operand:SI 2 \"const_int_operand\" \"i\")) 0)))]\n   \"includes_rshift_p (operands[2], gen_rtx (CONST_INT, VOIDmode, 65535))\"\n-  \"rlinm %0,%1,%s2,0x0000FFFF\")\n+  \"rlinm %0,%1,%s2,0xffff\")\n \n (define_insn \"\"\n   [(set (match_operand:CC 0 \"cc_reg_operand\" \"=x\")\n@@ -1490,7 +1490,7 @@\n \t (const_int 0)))\n    (clobber (match_scratch:SI 3 \"=r\"))]\n   \"includes_rshift_p (operands[2], gen_rtx (CONST_INT, VOIDmode, 65535))\"\n-  \"rlinm. %3,%1,%s2,0x0000FFFF\"\n+  \"rlinm. %3,%1,%s2,0xffff\"\n   [(set_attr \"type\" \"delayed_compare\")])\n \n (define_insn \"\"\n@@ -1504,7 +1504,7 @@\n    (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n \t(zero_extend:SI (subreg:HI (lshiftrt:SI (match_dup 1) (match_dup 2)) 0)))]\n   \"includes_rshift_p (operands[2], gen_rtx (CONST_INT, VOIDmode, 65535))\"\n-  \"rlinm. %0,%1,%s2,0x0000FFFF\"\n+  \"rlinm. %0,%1,%s2,0xffff\"\n   [(set_attr \"type\" \"delayed_compare\")])\n \n (define_insn \"\"\n@@ -2244,9 +2244,9 @@\n   \"@\n    mcrf %0,%1\n    mtcrf 128,%1\n-   rlinm %1,%1,%F0,0xFFFFFFFF\\;mtcrf %R0,%1\\;rlinm %1,%1,%f0,0xFFFFFFFF\n+   rlinm %1,%1,%F0,0xffffffff\\;mtcrf %R0,%1\\;rlinm %1,%1,%f0,0xffffffff\n    mfcr %0\n-   mfcr %0\\;rlinm %0,%0,%f1,0xF0000000\n+   mfcr %0\\;rlinm %0,%0,%f1,0xf0000000\n    ai %0,%1,0\n    l%U1%X1 %0,%1\n    st%U0%U1 %1,%0\"\n@@ -3544,7 +3544,7 @@\n \t\t\t   [(match_operand 2 \"cc_reg_operand\" \"y\")\n \t\t\t    (const_int 0)]))]\n   \"\"\n-  \"%D1mfcr %0\\;rlinm %0,%0,%J1,0x00000001\"\n+  \"%D1mfcr %0\\;rlinm %0,%0,%J1,1\"\n   [(set_attr \"length\" \"12\")])\n \n (define_insn \"\"\n@@ -3556,7 +3556,7 @@\n    (set (match_operand:SI 3 \"gpc_reg_operand\" \"=r\")\n \t(match_op_dup 1 [(match_dup 2) (const_int 0)]))]\n   \"\"\n-  \"%D1mfcr %3\\;rlinm. %3,%3,%J1,0x00000001\"\n+  \"%D1mfcr %3\\;rlinm. %3,%3,%J1,1\"\n   [(set_attr \"type\" \"delayed_compare\")\n    (set_attr \"length\" \"12\")])\n \n@@ -3661,7 +3661,7 @@\n \t\t\t   [(match_operand 5 \"cc_reg_operand\" \"y\")\n \t\t\t    (const_int 0)]))]\n    \"REGNO (operands[2]) != REGNO (operands[5])\"\n-   \"%D1%D4mfcr %3\\;rlinm %0,%3,%J1,0x00000001\\;rlinm %3,%3,%J4,0x00000001\"\n+   \"%D1%D4mfcr %3\\;rlinm %0,%3,%J1,1\\;rlinm %3,%3,%J4,1\"\n    [(set_attr \"length\" \"20\")])\n \n ;; There are some scc insns that can be done directly, without a compare."}]}