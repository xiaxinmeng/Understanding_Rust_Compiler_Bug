{"sha": "132797449d4ad43ec9550eb0f000816d3d04c215", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTMyNzk3NDQ5ZDRhZDQzZWM5NTUwZWIwZjAwMDgxNmQzZDA0YzIxNQ==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2010-11-19T11:57:21Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2010-11-19T11:57:21Z"}, "message": "re PR lto/45789 (ICE: tree code 'lang_type' is not supported in gimple streams with -flto when using __builtin_printf())\n\n2010-11-19  Richard Guenther  <rguenther@suse.de>\n\n\tPR lto/45789\n\t* lto-streamer-out.c (lto_output_ts_common_tree_pointers): For\n\tIDENTIFIERs do not stream TREE_TYPE.\n\t* lto-streamer-in.c (lto_input_ts_common_tree_pointers): Likewise.\n\nFrom-SVN: r166936", "tree": {"sha": "172a07382aa5884a300aa67fe0410db99b9a8983", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/172a07382aa5884a300aa67fe0410db99b9a8983"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/132797449d4ad43ec9550eb0f000816d3d04c215", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/132797449d4ad43ec9550eb0f000816d3d04c215", "html_url": "https://github.com/Rust-GCC/gccrs/commit/132797449d4ad43ec9550eb0f000816d3d04c215", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/132797449d4ad43ec9550eb0f000816d3d04c215/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0d697034b7eecde30bc95766237f2c3b105abaf0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d697034b7eecde30bc95766237f2c3b105abaf0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d697034b7eecde30bc95766237f2c3b105abaf0"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "195f96d3b2d99eef43522820a7a0e553570ea621", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/132797449d4ad43ec9550eb0f000816d3d04c215/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/132797449d4ad43ec9550eb0f000816d3d04c215/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=132797449d4ad43ec9550eb0f000816d3d04c215", "patch": "@@ -1,3 +1,10 @@\n+2010-11-19  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR lto/45789\n+\t* lto-streamer-out.c (lto_output_ts_common_tree_pointers): For\n+\tIDENTIFIERs do not stream TREE_TYPE.\n+\t* lto-streamer-in.c (lto_input_ts_common_tree_pointers): Likewise.\n+\n 2010-11-19  Christian Borntraeger  <borntraeger@de.ibm.com>\n \n \t* config/s390/s390.c (s390_function_arg_integer): Handle NULLPTR_TYPE."}, {"sha": "cf1b0118d760188465dacba47785a3025f942c23", "filename": "gcc/lto-streamer-in.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/132797449d4ad43ec9550eb0f000816d3d04c215/gcc%2Flto-streamer-in.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/132797449d4ad43ec9550eb0f000816d3d04c215/gcc%2Flto-streamer-in.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-streamer-in.c?ref=132797449d4ad43ec9550eb0f000816d3d04c215", "patch": "@@ -1874,7 +1874,8 @@ static void\n lto_input_ts_common_tree_pointers (struct lto_input_block *ib,\n \t\t\t\t   struct data_in *data_in, tree expr)\n {\n-  TREE_TYPE (expr) = lto_input_tree (ib, data_in);\n+  if (TREE_CODE (expr) != IDENTIFIER_NODE)\n+    TREE_TYPE (expr) = lto_input_tree (ib, data_in);\n }\n \n "}, {"sha": "20e39913044a24423d4531e77bbedcae05c7525b", "filename": "gcc/lto-streamer-out.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/132797449d4ad43ec9550eb0f000816d3d04c215/gcc%2Flto-streamer-out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/132797449d4ad43ec9550eb0f000816d3d04c215/gcc%2Flto-streamer-out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-streamer-out.c?ref=132797449d4ad43ec9550eb0f000816d3d04c215", "patch": "@@ -793,7 +793,8 @@ static void\n lto_output_ts_common_tree_pointers (struct output_block *ob, tree expr,\n \t\t\t\t    bool ref_p)\n {\n-  lto_output_tree_or_ref (ob, TREE_TYPE (expr), ref_p);\n+  if (TREE_CODE (expr) != IDENTIFIER_NODE)\n+    lto_output_tree_or_ref (ob, TREE_TYPE (expr), ref_p);\n }\n \n "}]}