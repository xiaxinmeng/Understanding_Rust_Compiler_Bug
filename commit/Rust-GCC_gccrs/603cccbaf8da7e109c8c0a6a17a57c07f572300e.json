{"sha": "603cccbaf8da7e109c8c0a6a17a57c07f572300e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjAzY2NjYmFmOGRhN2UxMDljOGMwYTZhMTdhNTdjMDdmNTcyMzAwZQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-05-03T21:31:55Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-05-03T21:31:55Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r867", "tree": {"sha": "ab450b27fda49eddc6d8348fef08411347045019", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ab450b27fda49eddc6d8348fef08411347045019"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/603cccbaf8da7e109c8c0a6a17a57c07f572300e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/603cccbaf8da7e109c8c0a6a17a57c07f572300e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/603cccbaf8da7e109c8c0a6a17a57c07f572300e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/603cccbaf8da7e109c8c0a6a17a57c07f572300e/comments", "author": null, "committer": null, "parents": [{"sha": "19c79343221dfd3b77dbbc9b4575d055e68d01d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19c79343221dfd3b77dbbc9b4575d055e68d01d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19c79343221dfd3b77dbbc9b4575d055e68d01d9"}], "stats": {"total": 77, "additions": 69, "deletions": 8}, "files": [{"sha": "b150aa79341902b0cc16ca68b4517b38713ec479", "filename": "gcc/configure.bat", "status": "modified", "additions": 69, "deletions": 8, "changes": 77, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/603cccbaf8da7e109c8c0a6a17a57c07f572300e/gcc%2Fconfigure.bat", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/603cccbaf8da7e109c8c0a6a17a57c07f572300e/gcc%2Fconfigure.bat", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.bat?ref=603cccbaf8da7e109c8c0a6a17a57c07f572300e", "patch": "@@ -1,11 +1,72 @@\n @echo off\n-rem GCC configuration script for MSDOG\n+echo Configuring gcc-2.1 for go32\n+rem This batch file assumes a unix-type \"sed\" program\n \n-rem Configure for our environment\n-copy config\\i386.xmh config.h\n-copy config\\i386gas.tmh tm.h\n-copy config\\i386.md md\n-copy config\\out-i386.c aux-output.c\n+update config\\xm-i386.h config.h\n+update config\\i386gas.h tm.h\n+update config\\i386.md md\n+update config\\i386.c aux-output.c\n \n-rem Install our makefile\n-copy Makefile.dos Makefile\n+echo # Makefile generated by \"configure.bat\"> Makefile\n+echo all.dos: cccp cc1 cc1plus cc1obj gcc>> Makefile\n+\n+if exist config.sed del config.sed\n+\n+echo \"/^target=/ c\\\t\t\t\t\t\">> config.sed\n+echo \"target=go32\t\t\t\t\t\">> config.sed\n+echo \"/^version=/ c\\\t\t\t\t\t\">> config.sed\n+sed -e \"s/[^\\\"]*\\\"/version=/\" -e \"s/;//\" version.c\t >> config.sed\n+echo \"s/CC = cc/CC = gcc/\t\t\t\t\">> config.sed\n+echo \"s/:\\$/: \\$/g\t\t\t\t\t\">> config.sed\n+echo \"s/^\t\\.\\//\tgo32 /\t\t\t\t\">> config.sed\n+echo \"s/^\t\\$(srcdir)\\/move-if-change/\tupdate/\t\">> config.sed\n+echo \"s/^USE_/# USE_/\t\t\t\t\t\">> config.sed\n+echo \"s/`echo \\$(srcdir)\\///g\t\t\t\t\">> config.sed\n+echo \"s/ | sed 's,\\^\\\\\\.\\/,,'`//g\t\t\t\">> config.sed\n+echo \"s/^\tcd \\$(srcdir)[ \t]*;//\t\t\t\">> config.sed\n+\n+echo \"/^cccp.o[ \t]*:/,/-c/ {\t\t\t\">> config.sed\n+echo \"  s/\t\\$(CC)/\t>cccp_o.rf/\t\t\t\">> config.sed\n+echo \"  /-c/ a\\\t\t\t\t\t\t\">> config.sed\n+echo \"\t$(CC) @cccp_o.rf\t\t\t\t\">> config.sed\n+echo \"}\t\t\t\t\t\t\t\">> config.sed\n+\n+echo \"/^gcc.o[ \t]*:/,/-c/ {\t\t\t\t\">> config.sed\n+echo \"  s/\t\\$(CC)/\t>gcc_o.rf/\t\t\t\">> config.sed\n+echo \"  /-c/ a\\\t\t\t\t\t\t\">> config.sed\n+echo \"\t$(CC) @gcc_o.rf\t\t\t\t\t\">> config.sed\n+echo \"}\t\t\t\t\t\t\t\">> config.sed\n+\n+echo \"/^gcc[ \t]*:/,/-o/ {\t\t\t\t\">> config.sed\n+echo \"  s/\t\\$(CC)/\t>gcc.rf/\t\t\t\">> config.sed\n+echo \"  /-o/ a\\\t\t\t\t\t\t\">> config.sed\n+echo \"\t$(CC) @gcc.rf\t\t\t\t\t\">> config.sed\n+echo \"}\t\t\t\t\t\t\t\">> config.sed\n+\n+echo \"/^cc1[ \t]*:/,/-o/ {\t\t\t\t\">> config.sed\n+echo \"  s/\t\\$(CC)/\t>cc1.rf/\t\t\t\">> config.sed\n+echo \"  /-o/ a\\\t\t\t\t\t\t\">> config.sed\n+echo \"\t$(CC) @cc1.rf\t\t\t\t\t\">> config.sed\n+echo \"}\t\t\t\t\t\t\t\">> config.sed\n+\n+echo \"/^cc1plus[ \t]*:/,/-o/ {\t\t\t\">> config.sed\n+echo \"  s/\t\\$(CC)/\t>cc1plus.rf/\t\t\t\">> config.sed\n+echo \"  /-o/ a\\\t\t\t\t\t\t\">> config.sed\n+echo \"\t$(CC) @cc1plus.rf\t\t\t\t\">> config.sed\n+echo \"}\t\t\t\t\t\t\t\">> config.sed\n+\n+echo \"/^cc1obj[ \t]*:/,/-o/ {\t\t\t\">> config.sed\n+echo \"  s/\t\\$(CC)/\t>cc1obj.rf/\t\t\t\">> config.sed\n+echo \"  /-o/ a\\\t\t\t\t\t\t\">> config.sed\n+echo \"\t$(CC) @cc1obj.rf\t\t\t\t\">> config.sed\n+echo \"}\t\t\t\t\t\t\t\">> config.sed\n+\n+echo \"/^enquire[ \t]*:/ s/\\$(GCC_PARTS)//g\t\t\">> config.sed\n+echo \"/^enquire.o[ \t]*:/ s/\\$(GCC_PASSES)//g\t\">> config.sed\n+echo \"/^GCC_FOR_TARGET =/ c\\\t\t\t\t\">> config.sed\n+echo \"GCC_FOR_TARGET = gcc\t\t\t\t\">> config.sed\n+\n+sed -e \"s/^\\\"//\" -e \"s/\\\"$//\" -e \"s/[ \t]*$//\" config.sed > config2.sed\n+sed -f config2.sed Makefile.in >> Makefile\n+del config.sed\n+del config2.sed"}]}