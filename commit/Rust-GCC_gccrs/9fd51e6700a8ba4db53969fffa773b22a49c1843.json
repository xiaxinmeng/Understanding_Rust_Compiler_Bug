{"sha": "9fd51e6700a8ba4db53969fffa773b22a49c1843", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWZkNTFlNjcwMGE4YmE0ZGI1Mzk2OWZmZmE3NzNiMjJhNDljMTg0Mw==", "commit": {"author": {"name": "Zack Weinberg", "email": "zackw@stanford.edu", "date": "2001-05-31T05:05:19Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2001-05-31T05:05:19Z"}, "message": "ggc-page.c (size_lookup): Increase minimum allocation size to eight bytes.\n\n\t* ggc-page.c (size_lookup): Increase minimum allocation size\n\tto eight bytes.\n\t(ggc_print_statistics): Report size of each bin in bytes, not\n\tas its order; there is no longer a direct relationship.\n\nFrom-SVN: r42736", "tree": {"sha": "def8b0b07e0d191900ab61290856c303534b5e40", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/def8b0b07e0d191900ab61290856c303534b5e40"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9fd51e6700a8ba4db53969fffa773b22a49c1843", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fd51e6700a8ba4db53969fffa773b22a49c1843", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9fd51e6700a8ba4db53969fffa773b22a49c1843", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fd51e6700a8ba4db53969fffa773b22a49c1843/comments", "author": null, "committer": null, "parents": [{"sha": "310668e86dd5f3324eaff5efffd58ccabe7e5963", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/310668e86dd5f3324eaff5efffd58ccabe7e5963", "html_url": "https://github.com/Rust-GCC/gccrs/commit/310668e86dd5f3324eaff5efffd58ccabe7e5963"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "fe8b239e0df0f8726c55caa3954afb8d59322f5f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fd51e6700a8ba4db53969fffa773b22a49c1843/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fd51e6700a8ba4db53969fffa773b22a49c1843/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9fd51e6700a8ba4db53969fffa773b22a49c1843", "patch": "@@ -1,3 +1,10 @@\n+2001-05-30  Zack Weinberg  <zackw@stanford.edu>\n+\n+\t* ggc-page.c (size_lookup): Increase minimum allocation size\n+\tto eight bytes.\n+\t(ggc_print_statistics): Report size of each bin in bytes, not\n+\tas its order; there is no longer a direct relationship.\n+\n 2001-05-31  Jan van Male  <jan.vanmale@fenk.wau.nl>\n \n \t* extend.texi: Fix formating of examples, eliminate some"}, {"sha": "df49b5709e35bcd1ce2244217e37c820a78a57f1", "filename": "gcc/ggc-page.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fd51e6700a8ba4db53969fffa773b22a49c1843/gcc%2Fggc-page.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fd51e6700a8ba4db53969fffa773b22a49c1843/gcc%2Fggc-page.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fggc-page.c?ref=9fd51e6700a8ba4db53969fffa773b22a49c1843", "patch": "@@ -826,11 +826,11 @@ release_pages ()\n }\n \n /* This table provides a fast way to determine ceil(log_2(size)) for\n-   allocation requests.  The minimum allocation size is four bytes.  */\n+   allocation requests.  The minimum allocation size is eight bytes.  */\n \n static unsigned char size_lookup[257] = \n-{ \n-  2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, \n+{\n+  3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, \n   4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, \n   5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, \n   6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, \n@@ -1446,7 +1446,7 @@ ggc_print_statistics ()\n   /* Collect some information about the various sizes of \n      allocation.  */\n   fprintf (stderr, \"\\n%-5s %10s  %10s  %10s\\n\",\n-\t   \"Log\", \"Allocated\", \"Used\", \"Overhead\");\n+\t   \"Size\", \"Allocated\", \"Used\", \"Overhead\");\n   for (i = 0; i < NUM_ORDERS; ++i)\n     {\n       page_entry *p;\n@@ -1472,7 +1472,7 @@ ggc_print_statistics ()\n \t  overhead += (sizeof (page_entry) - sizeof (long)\n \t\t       + BITMAP_SIZE (OBJECTS_PER_PAGE (i) + 1));\n \t}\n-      fprintf (stderr, \"%-5d %10ld%c %10ld%c %10ld%c\\n\", i,\n+      fprintf (stderr, \"%-5d %10ld%c %10ld%c %10ld%c\\n\", OBJECT_SIZE (i),\n \t       SCALE (allocated), LABEL (allocated),\n \t       SCALE (in_use), LABEL (in_use),\n \t       SCALE (overhead), LABEL (overhead));"}]}