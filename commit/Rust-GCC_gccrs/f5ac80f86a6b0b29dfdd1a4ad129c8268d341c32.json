{"sha": "f5ac80f86a6b0b29dfdd1a4ad129c8268d341c32", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjVhYzgwZjg2YTZiMGIyOWRmZGQxYTRhZDEyOWM4MjY4ZDM0MWMzMg==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2012-10-26T23:11:02Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2012-10-26T23:11:02Z"}, "message": "rl78.c (rl78_as_legitimate_address): Do not allow reg+addend addresses for the _far namespace.\n\n* config/rl78/rl78.c (rl78_as_legitimate_address): Do not allow\nreg+addend addresses for the _far namespace.\n\nFrom-SVN: r192866", "tree": {"sha": "1910290cbd09ce54d1b9d019d10f6c5c97300c0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1910290cbd09ce54d1b9d019d10f6c5c97300c0f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f5ac80f86a6b0b29dfdd1a4ad129c8268d341c32", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5ac80f86a6b0b29dfdd1a4ad129c8268d341c32", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5ac80f86a6b0b29dfdd1a4ad129c8268d341c32", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5ac80f86a6b0b29dfdd1a4ad129c8268d341c32/comments", "author": null, "committer": null, "parents": [{"sha": "1f8c354b9857de87d28f96424d90b09a2503adcf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f8c354b9857de87d28f96424d90b09a2503adcf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f8c354b9857de87d28f96424d90b09a2503adcf"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "8b3c2b2670fe6e44d554d6a174669f63b187455f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5ac80f86a6b0b29dfdd1a4ad129c8268d341c32/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5ac80f86a6b0b29dfdd1a4ad129c8268d341c32/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f5ac80f86a6b0b29dfdd1a4ad129c8268d341c32", "patch": "@@ -1,3 +1,8 @@\n+2012-10-26  DJ Delorie  <dj@redhat.com>\n+\n+\t* config/rl78/rl78.c (rl78_as_legitimate_address): Do not allow\n+\treg+addend addresses for the _far namespace.\n+\n 2012-10-26  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \t* config/rs6000/sync.md (ATOMIC): Correct DI condition."}, {"sha": "5e5050bca132445234bc75fdb2536ac0a99f53ca", "filename": "gcc/config/rl78/rl78.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5ac80f86a6b0b29dfdd1a4ad129c8268d341c32/gcc%2Fconfig%2Frl78%2Frl78.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5ac80f86a6b0b29dfdd1a4ad129c8268d341c32/gcc%2Fconfig%2Frl78%2Frl78.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frl78%2Frl78.c?ref=f5ac80f86a6b0b29dfdd1a4ad129c8268d341c32", "patch": "@@ -686,6 +686,13 @@ rl78_as_legitimate_address (enum machine_mode mode ATTRIBUTE_UNUSED, rtx x,\n   if (! characterize_address (x, &base, &index, &addend))\n     return false;\n \n+  /* We can't extract the high/low portions of a PLUS address\n+     involving a register during devirtualization, so make sure all\n+     such __far addresses do not have addends.  This forces GCC to do\n+     the sum separately.  */\n+  if (addend && base && as == ADDR_SPACE_FAR)\n+    return false;\n+\n   if (base && index)\n     {\n       int ir = REGNO (index);"}]}