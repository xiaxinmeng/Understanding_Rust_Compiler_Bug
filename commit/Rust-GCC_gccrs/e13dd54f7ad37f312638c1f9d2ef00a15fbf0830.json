{"sha": "e13dd54f7ad37f312638c1f9d2ef00a15fbf0830", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTEzZGQ1NGY3YWQzN2YzMTI2MzhjMWY5ZDJlZjAwYTE1ZmJmMDgzMA==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2005-11-28T13:41:38Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2005-11-28T13:41:38Z"}, "message": "fp-bit.h (LSHIFT): Take shift count parameter.\n\n\t* config/fp-bit.h (LSHIFT): Take shift count parameter.\n\t* config/fp-bit.c (_fpadd_parts): Shift in one go instead of one\n\tbit at a time.\n\nFrom-SVN: r107602", "tree": {"sha": "739d354e74f2c75e38b0fcff7be1faa168423800", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/739d354e74f2c75e38b0fcff7be1faa168423800"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e13dd54f7ad37f312638c1f9d2ef00a15fbf0830", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e13dd54f7ad37f312638c1f9d2ef00a15fbf0830", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e13dd54f7ad37f312638c1f9d2ef00a15fbf0830", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e13dd54f7ad37f312638c1f9d2ef00a15fbf0830/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e97f20583c0fe982424f2e212c426e803a86ee5b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e97f20583c0fe982424f2e212c426e803a86ee5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e97f20583c0fe982424f2e212c426e803a86ee5b"}], "stats": {"total": 25, "additions": 16, "deletions": 9}, "files": [{"sha": "2320e10de95965a5cd98cdb7dfce1f1ed1ce7ce7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e13dd54f7ad37f312638c1f9d2ef00a15fbf0830/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e13dd54f7ad37f312638c1f9d2ef00a15fbf0830/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e13dd54f7ad37f312638c1f9d2ef00a15fbf0830", "patch": "@@ -1,3 +1,9 @@\n+2005-11-28  Joseph S. Myers  <joseph@codesourcery.com>\n+\n+\t* config/fp-bit.h (LSHIFT): Take shift count parameter.\n+\t* config/fp-bit.c (_fpadd_parts): Shift in one go instead of one\n+\tbit at a time.\n+\n 2005-11-28  Bernd Schmidt  <bernd.schmidt@analog.com>\n \n \t* config/bfin/bfin.c (bfin_secondary_reload): Renamed from"}, {"sha": "cf943daed91c5ebdb3124e5382cd6ca7cc5d3b2c", "filename": "gcc/config/fp-bit.c", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e13dd54f7ad37f312638c1f9d2ef00a15fbf0830/gcc%2Fconfig%2Ffp-bit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e13dd54f7ad37f312638c1f9d2ef00a15fbf0830/gcc%2Fconfig%2Ffp-bit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffp-bit.c?ref=e13dd54f7ad37f312638c1f9d2ef00a15fbf0830", "patch": "@@ -649,28 +649,29 @@ _fpadd_parts (fp_number_type * a,\n      they're the same */\n   {\n     int diff;\n+    int sdiff;\n \n     a_normal_exp = a->normal_exp;\n     b_normal_exp = b->normal_exp;\n     a_fraction = a->fraction.ll;\n     b_fraction = b->fraction.ll;\n \n     diff = a_normal_exp - b_normal_exp;\n+    sdiff = diff;\n \n     if (diff < 0)\n       diff = -diff;\n     if (diff < FRAC_NBITS)\n       {\n-\t/* ??? This does shifts one bit at a time.  Optimize.  */\n-\twhile (a_normal_exp > b_normal_exp)\n+\tif (sdiff > 0)\n \t  {\n-\t    b_normal_exp++;\n-\t    LSHIFT (b_fraction);\n+\t    b_normal_exp += diff;\n+\t    LSHIFT (b_fraction, diff);\n \t  }\n-\twhile (b_normal_exp > a_normal_exp)\n+\telse if (sdiff < 0)\n \t  {\n-\t    a_normal_exp++;\n-\t    LSHIFT (a_fraction);\n+\t    a_normal_exp += diff;\n+\t    LSHIFT (a_fraction, diff);\n \t  }\n       }\n     else\n@@ -731,7 +732,7 @@ _fpadd_parts (fp_number_type * a,\n \n   if (tmp->fraction.ll >= IMPLICIT_2)\n     {\n-      LSHIFT (tmp->fraction.ll);\n+      LSHIFT (tmp->fraction.ll, 1);\n       tmp->normal_exp++;\n     }\n   return tmp;"}, {"sha": "78d850b5d0374a4d80dbe1e1737c0cd11a292758", "filename": "gcc/config/fp-bit.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e13dd54f7ad37f312638c1f9d2ef00a15fbf0830/gcc%2Fconfig%2Ffp-bit.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e13dd54f7ad37f312638c1f9d2ef00a15fbf0830/gcc%2Fconfig%2Ffp-bit.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffp-bit.h?ref=e13dd54f7ad37f312638c1f9d2ef00a15fbf0830", "patch": "@@ -318,7 +318,7 @@ typedef unsigned int UTItype __attribute__ ((mode (TI)));\n #endif\n \n /* Preserve the sticky-bit when shifting fractions to the right.  */\n-#define LSHIFT(a) { a = (a & 1) | (a >> 1); }\n+#define LSHIFT(a, s) { a = (a >> s) | !!(a & (((fractype) 1 << s) - 1)); }\n \n /* numeric parameters */\n /* F_D_BITOFF is the number of bits offset between the MSB of the mantissa"}]}