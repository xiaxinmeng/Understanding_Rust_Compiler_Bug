{"sha": "3192773f267f7aa4624c87f8e2ceb25ff71e9d4a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzE5Mjc3M2YyNjdmN2FhNDYyNGM4N2Y4ZTJjZWIyNWZmNzFlOWQ0YQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-11-12T19:34:29Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-11-12T19:34:29Z"}, "message": "(movqi): Emit 'st' for INTVAL & 255 == 255, not INTVAL == -1.\n\n(seq,sne,sgt,sgtu,slt,sltu,sge,sgeu,sle,sleu): Allow \"m\" as operand 0.\n\nFrom-SVN: r13138", "tree": {"sha": "16ce38ae994197a77bfe9fe307736bb1c03ef998", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/16ce38ae994197a77bfe9fe307736bb1c03ef998"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3192773f267f7aa4624c87f8e2ceb25ff71e9d4a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3192773f267f7aa4624c87f8e2ceb25ff71e9d4a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3192773f267f7aa4624c87f8e2ceb25ff71e9d4a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3192773f267f7aa4624c87f8e2ceb25ff71e9d4a/comments", "author": null, "committer": null, "parents": [{"sha": "71e1e2c8431247a4f7c0961da1fff7e65d0ee14f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71e1e2c8431247a4f7c0961da1fff7e65d0ee14f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71e1e2c8431247a4f7c0961da1fff7e65d0ee14f"}], "stats": {"total": 22, "additions": 11, "deletions": 11}, "files": [{"sha": "db598c5dcc185310a50e64e5fefd4c39e74f08fc", "filename": "gcc/config/m68k/m68k.md", "status": "modified", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3192773f267f7aa4624c87f8e2ceb25ff71e9d4a/gcc%2Fconfig%2Fm68k%2Fm68k.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3192773f267f7aa4624c87f8e2ceb25ff71e9d4a/gcc%2Fconfig%2Fm68k%2Fm68k.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.md?ref=3192773f267f7aa4624c87f8e2ceb25ff71e9d4a", "patch": "@@ -979,7 +979,7 @@\n       if (operands[1] == const0_rtx)\n \treturn \\\"clr%.b %0\\\";\n       if (GET_CODE (operands[1]) == CONST_INT\n-\t  && INTVAL (operands[1]) == -1)\n+\t  && (INTVAL (operands[1]) & 255) == 255)\n \t{\n \t  CC_STATUS_INIT;\n \t  return \\\"st %0\\\";\n@@ -5170,7 +5170,7 @@\n } \")\n \n (define_insn \"seq\"\n-  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(eq:QI (cc0) (const_int 0)))]\n   \"\"\n   \"*\n@@ -5179,7 +5179,7 @@\n \")\n \n (define_insn \"sne\"\n-  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(ne:QI (cc0) (const_int 0)))]\n   \"\"\n   \"*\n@@ -5188,7 +5188,7 @@\n \")\n \n (define_insn \"sgt\"\n-  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(gt:QI (cc0) (const_int 0)))]\n   \"\"\n   \"*\n@@ -5197,42 +5197,42 @@\n \")\n \n (define_insn \"sgtu\"\n-  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(gtu:QI (cc0) (const_int 0)))]\n   \"\"\n   \"* cc_status = cc_prev_status;\n      return \\\"shi %0\\\"; \")\n \n (define_insn \"slt\"\n-  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(lt:QI (cc0) (const_int 0)))]\n   \"\"\n   \"* cc_status = cc_prev_status;\n      OUTPUT_JUMP (\\\"slt %0\\\", \\\"fslt %0\\\", \\\"smi %0\\\"); \")\n \n (define_insn \"sltu\"\n-  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(ltu:QI (cc0) (const_int 0)))]\n   \"\"\n   \"* cc_status = cc_prev_status;\n      return \\\"scs %0\\\"; \")\n \n (define_insn \"sge\"\n-  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(ge:QI (cc0) (const_int 0)))]\n   \"\"\n   \"* cc_status = cc_prev_status;\n      OUTPUT_JUMP (\\\"sge %0\\\", \\\"fsge %0\\\", \\\"spl %0\\\"); \")\n \n (define_insn \"sgeu\"\n-  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(geu:QI (cc0) (const_int 0)))]\n   \"\"\n   \"* cc_status = cc_prev_status;\n      return \\\"scc %0\\\"; \")\n \n (define_insn \"sle\"\n-  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(le:QI (cc0) (const_int 0)))]\n   \"\"\n   \"*\n@@ -5241,7 +5241,7 @@\n \")\n \n (define_insn \"sleu\"\n-  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(leu:QI (cc0) (const_int 0)))]\n   \"\"\n   \"* cc_status = cc_prev_status;"}]}