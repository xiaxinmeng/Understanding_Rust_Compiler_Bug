{"sha": "95a6dda5e7ec9b2fa3c9674a29e743ad374534ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTVhNmRkYTVlN2VjOWIyZmEzYzk2NzRhMjllNzQzYWQzNzQ1MzRmZg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2012-03-05T18:57:43Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2012-03-05T18:57:43Z"}, "message": "sh: Fix location of TARGET_ATOMIC_TEST_AND_SET_TRUEVAL definition.\n\n        * config/sh/sh.h (TARGET_ATOMIC_TEST_AND_SET_TRUEVAL): Move...\n        * config/sh/sh.c: ... here.\n\nFrom-SVN: r184953", "tree": {"sha": "bc3949274f616060e5a88895127679b4d8e644d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bc3949274f616060e5a88895127679b4d8e644d6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/95a6dda5e7ec9b2fa3c9674a29e743ad374534ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95a6dda5e7ec9b2fa3c9674a29e743ad374534ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95a6dda5e7ec9b2fa3c9674a29e743ad374534ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95a6dda5e7ec9b2fa3c9674a29e743ad374534ff/comments", "author": null, "committer": null, "parents": [{"sha": "f49b12f49c401d743fed1e7a41bbcef0d525ba6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f49b12f49c401d743fed1e7a41bbcef0d525ba6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f49b12f49c401d743fed1e7a41bbcef0d525ba6c"}], "stats": {"total": 16, "additions": 10, "deletions": 6}, "files": [{"sha": "c9fa1521ef34db09b808cd193738b0eed601a741", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95a6dda5e7ec9b2fa3c9674a29e743ad374534ff/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95a6dda5e7ec9b2fa3c9674a29e743ad374534ff/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=95a6dda5e7ec9b2fa3c9674a29e743ad374534ff", "patch": "@@ -1,3 +1,8 @@\n+2012-03-05  Richard Henderson  <rth@redhat.com>\n+\n+\t* config/sh/sh.h (TARGET_ATOMIC_TEST_AND_SET_TRUEVAL): Move...\n+\t* config/sh/sh.c: ... here.\n+\n 2012-03-05  Richard Henderson  <rth@redhat.com>\n \n \tPR target/52481"}, {"sha": "0bcebdfea0e18ecde81e1867ef54e875bf0391f8", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95a6dda5e7ec9b2fa3c9674a29e743ad374534ff/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95a6dda5e7ec9b2fa3c9674a29e743ad374534ff/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=95a6dda5e7ec9b2fa3c9674a29e743ad374534ff", "patch": "@@ -575,6 +575,11 @@ static const struct attribute_spec sh_attribute_table[] =\n /* Machine-specific symbol_ref flags.  */\n #define SYMBOL_FLAG_FUNCVEC_FUNCTION    (SYMBOL_FLAG_MACH_DEP << 0)\n \n+/* The tas.b instruction sets the 7th bit in the byte, i.e. 0x80.  This value\n+   is used by optabs.c atomic op expansion code as well as in sync.md.  */\n+#undef TARGET_ATOMIC_TEST_AND_SET_TRUEVAL\n+#define TARGET_ATOMIC_TEST_AND_SET_TRUEVAL 0x80\n+\n struct gcc_target targetm = TARGET_INITIALIZER;\n \f\n /* Implement TARGET_OPTION_OVERRIDE macro.  Validate and override "}, {"sha": "7a2af0a2841b3fa9a04d4ce44a381f18fc62545b", "filename": "gcc/config/sh/sh.h", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95a6dda5e7ec9b2fa3c9674a29e743ad374534ff/gcc%2Fconfig%2Fsh%2Fsh.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95a6dda5e7ec9b2fa3c9674a29e743ad374534ff/gcc%2Fconfig%2Fsh%2Fsh.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.h?ref=95a6dda5e7ec9b2fa3c9674a29e743ad374534ff", "patch": "@@ -2473,10 +2473,4 @@ extern int current_function_interrupt;\n /* FIXME: middle-end support for highpart optimizations is missing.  */\n #define high_life_started reload_in_progress\n \n-/* The tas.b instruction sets the 7th bit in the byte, i.e. 0x80.\n-   This value is used by optabs.c atomic op expansion code as well as in \n-   sync.md.  */\n-#undef TARGET_ATOMIC_TEST_AND_SET_TRUEVAL\n-#define TARGET_ATOMIC_TEST_AND_SET_TRUEVAL 0x80\n-\n #endif /* ! GCC_SH_H */"}]}