{"sha": "9145559717b7222ac65b7557d12a518076b0032e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTE0NTU1OTcxN2I3MjIyYWM2NWI3NTU3ZDEyYTUxODA3NmIwMDMyZQ==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2004-03-07T10:50:11Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2004-03-07T10:50:11Z"}, "message": "mips.c (mips_in_small_data_p): Return false if TARGET_ABICALLS.\n\n\t* config/mips/mips.c (mips_in_small_data_p): Return false if\n\tTARGET_ABICALLS.\n\ntestsuite/\n\t* gcc.dg/torture/mips-sdata-1.c: Restrict to mips*-*-elf*.\n\nFrom-SVN: r79060", "tree": {"sha": "e8a92e0b2fd113432bf40c7a2bb62a1cc049dc62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e8a92e0b2fd113432bf40c7a2bb62a1cc049dc62"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9145559717b7222ac65b7557d12a518076b0032e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9145559717b7222ac65b7557d12a518076b0032e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9145559717b7222ac65b7557d12a518076b0032e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9145559717b7222ac65b7557d12a518076b0032e/comments", "author": null, "committer": null, "parents": [{"sha": "a75ea627dde8af5b318341d3d2e37b70062f2737", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a75ea627dde8af5b318341d3d2e37b70062f2737", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a75ea627dde8af5b318341d3d2e37b70062f2737"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "651e3e4e28023ed2c025f1adc44b53d7eb9e2911", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9145559717b7222ac65b7557d12a518076b0032e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9145559717b7222ac65b7557d12a518076b0032e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9145559717b7222ac65b7557d12a518076b0032e", "patch": "@@ -1,3 +1,8 @@\n+2004-03-07  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* config/mips/mips.c (mips_in_small_data_p): Return false if\n+\tTARGET_ABICALLS.\n+\n 2004-03-06  Stephane Carrez  <stcarrez@nerim.fr>\n \n \t* config/m68hc11/m68hc11.c (m68hc11_gen_movhi): Use 2,-sp to push"}, {"sha": "037a25a26080bdaeab7dab951f9d22f19e2e5f45", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9145559717b7222ac65b7557d12a518076b0032e/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9145559717b7222ac65b7557d12a518076b0032e/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=9145559717b7222ac65b7557d12a518076b0032e", "patch": "@@ -7303,6 +7303,11 @@ mips_in_small_data_p (tree decl)\n   if (TREE_CODE (decl) == STRING_CST || TREE_CODE (decl) == FUNCTION_DECL)\n     return false;\n \n+  /* We don't yet generate small-data references for -mabicalls.  See related\n+     -G handling in override_options.  */\n+  if (TARGET_ABICALLS)\n+    return false;\n+\n   if (TREE_CODE (decl) == VAR_DECL && DECL_SECTION_NAME (decl) != 0)\n     {\n       const char *name;"}, {"sha": "45d94f56cf656e67b40cd8419ab003c3d37bb145", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9145559717b7222ac65b7557d12a518076b0032e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9145559717b7222ac65b7557d12a518076b0032e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9145559717b7222ac65b7557d12a518076b0032e", "patch": "@@ -1,3 +1,7 @@\n+2004-03-07  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* gcc.dg/torture/mips-sdata-1.c: Restrict to mips*-*-elf*.\n+\n 2004-03-06  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \t* gcc.dg/20040306-1.c: New test."}, {"sha": "8ffd4d84857d39ae903f08f1e03cf830112ecbbb", "filename": "gcc/testsuite/gcc.dg/torture/mips-sdata-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9145559717b7222ac65b7557d12a518076b0032e/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fmips-sdata-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9145559717b7222ac65b7557d12a518076b0032e/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fmips-sdata-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fmips-sdata-1.c?ref=9145559717b7222ac65b7557d12a518076b0032e", "patch": "@@ -1,6 +1,6 @@\n /* Check that sdata-accesses are applied regardless of size or ABI.  */\n /* { dg-options -mexplicit-relocs } */\n-/* { dg-do compile { target mips*-*-* } } */\n+/* { dg-do compile { target mips*-*-elf* } } */\n \n struct s { int x[4]; };\n struct s my_struct __attribute__((__section__(\".sdata\")));"}]}