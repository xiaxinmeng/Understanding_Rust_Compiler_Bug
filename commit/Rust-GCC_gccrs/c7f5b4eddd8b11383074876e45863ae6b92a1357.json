{"sha": "c7f5b4eddd8b11383074876e45863ae6b92a1357", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzdmNWI0ZWRkZDhiMTEzODMwNzQ4NzZlNDU4NjNhZTZiOTJhMTM1Nw==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2019-12-11T19:28:57Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2019-12-11T19:28:57Z"}, "message": "re PR fortran/92897 ([Coarray] ICE in gfc_set_array_spec, at fortran/array.c:864)\n\n2019-12-11 Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/92897\n\t* array.c (gfc_set_array_spec):  Remove invalid assert() triggered\n\tby invalid Fortran code.\n \n2019-12-11 Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/92897\n\t* gfortran.dg/pr92897.f90: New test.\n\nFrom-SVN: r279247", "tree": {"sha": "61e92e806f787158d0ff53f923a386853fb4dc40", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/61e92e806f787158d0ff53f923a386853fb4dc40"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c7f5b4eddd8b11383074876e45863ae6b92a1357", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7f5b4eddd8b11383074876e45863ae6b92a1357", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7f5b4eddd8b11383074876e45863ae6b92a1357", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7f5b4eddd8b11383074876e45863ae6b92a1357/comments", "author": null, "committer": null, "parents": [{"sha": "a9046e9853024206bec092dd63e21e152cb5cbca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9046e9853024206bec092dd63e21e152cb5cbca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9046e9853024206bec092dd63e21e152cb5cbca"}], "stats": {"total": 23, "additions": 19, "deletions": 4}, "files": [{"sha": "474c0a4b676d5ebec319987b6c5c76e1b84cd8cc", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7f5b4eddd8b11383074876e45863ae6b92a1357/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7f5b4eddd8b11383074876e45863ae6b92a1357/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=c7f5b4eddd8b11383074876e45863ae6b92a1357", "patch": "@@ -1,3 +1,9 @@\n+2019-12-11 Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/92897\n+\t* array.c (gfc_set_array_spec):  Remove invalid assert() triggered\n+\tby invalid Fortran code.\n+ \n 2019-12-10  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/91643"}, {"sha": "1834d2f98a09be200d9dd4dfe903b9e17f00f264", "filename": "gcc/fortran/array.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7f5b4eddd8b11383074876e45863ae6b92a1357/gcc%2Ffortran%2Farray.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7f5b4eddd8b11383074876e45863ae6b92a1357/gcc%2Ffortran%2Farray.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Farray.c?ref=c7f5b4eddd8b11383074876e45863ae6b92a1357", "patch": "@@ -859,10 +859,6 @@ gfc_set_array_spec (gfc_symbol *sym, gfc_array_spec *as, locus *error_loc)\n \n   if (as->corank)\n     {\n-      /* The \"sym\" has no corank (checked via gfc_add_codimension). Thus\n-\t the codimension is simply added.  */\n-      gcc_assert (as->rank == 0 && sym->as->corank == 0);\n-\n       sym->as->cotype = as->cotype;\n       sym->as->corank = as->corank;\n       /* Check F2018:C822.  */"}, {"sha": "120b1cdef1bffab80307dc3fa136cac573ab2159", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7f5b4eddd8b11383074876e45863ae6b92a1357/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7f5b4eddd8b11383074876e45863ae6b92a1357/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c7f5b4eddd8b11383074876e45863ae6b92a1357", "patch": "@@ -1,3 +1,8 @@\n+2019-12-11 Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/92897\n+\t* gfortran.dg/pr92897.f90: New test.\n+\n 2019-12-11  Jozef Lawrynowicz  <jozef.l@mittosystems.com>\n \n \t* lib/gcc-dg.exp: Add dg-prune messages for when exception handling is"}, {"sha": "6e0f9836bb41ab8457d8f4183ed71a76ef2372a3", "filename": "gcc/testsuite/gfortran.dg/pr92897.f90", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7f5b4eddd8b11383074876e45863ae6b92a1357/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr92897.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7f5b4eddd8b11383074876e45863ae6b92a1357/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr92897.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr92897.f90?ref=c7f5b4eddd8b11383074876e45863ae6b92a1357", "patch": "@@ -0,0 +1,8 @@\n+! { dg-do compile }\n+! { dg-options \"-fcoarray=single\" }\n+! Test contributed by Gerhard Steinmetz\n+type(t) function f()                    ! { dg-error \"has not been declared\" }\n+   dimension :: t(1,2,1,2,1,2,1,2)\n+   codimension :: t[1,2,1,2,1,2,1,*]    ! { dg-error \"rank \\\\+ corank of\" }\n+end\n+! { dg-prune-output \"which has not been defined\" }"}]}