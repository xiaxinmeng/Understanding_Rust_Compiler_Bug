{"sha": "c6df90d818e83d4bae264649156dcbea8db2cee6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzZkZjkwZDgxOGU4M2Q0YmFlMjY0NjQ5MTU2ZGNiZWE4ZGIyY2VlNg==", "commit": {"author": {"name": "Mumit Khan", "email": "khan@xraylith.wisc.edu", "date": "1999-04-12T18:18:06Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-04-12T18:18:06Z"}, "message": "cygwin.h (SUBTARGET_SWITCHES): Add -mconsole; fix -mno-nop-fun-dllimport and minor doc fixes.\n\n        * i386/cygwin.h (SUBTARGET_SWITCHES): Add -mconsole; fix\n        -mno-nop-fun-dllimport and minor doc fixes.\n        (STARTFILE_SPEC): Cygwin DLLs don't have dllcrt0.\n        (LINK_SPEC): Add -mconsole support.\n        * i386/mingw32.h (LIB_SPEC): Make libraries consistent with\n        Cygwin.\n        (LINK_SPEC): Remove. Use Cygwin's version.\n        (MATH_LIBRARY): Make it null.\n        * i386/crtdll.h (MATH_LIBRARY): Likewise.\n\nFrom-SVN: r26378", "tree": {"sha": "8408eb805358d0bfa0f159391812384fe250deb5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8408eb805358d0bfa0f159391812384fe250deb5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c6df90d818e83d4bae264649156dcbea8db2cee6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6df90d818e83d4bae264649156dcbea8db2cee6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c6df90d818e83d4bae264649156dcbea8db2cee6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6df90d818e83d4bae264649156dcbea8db2cee6/comments", "author": null, "committer": null, "parents": [{"sha": "6f670fded28732da6175d6f5983af65983c8a976", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f670fded28732da6175d6f5983af65983c8a976", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f670fded28732da6175d6f5983af65983c8a976"}], "stats": {"total": 43, "additions": 25, "deletions": 18}, "files": [{"sha": "6547e8930796e99f9b808ed149ee4609ac1f6dfa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6df90d818e83d4bae264649156dcbea8db2cee6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6df90d818e83d4bae264649156dcbea8db2cee6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c6df90d818e83d4bae264649156dcbea8db2cee6", "patch": "@@ -1,3 +1,15 @@\n+Mon Apr 12 19:11:38 1999  Mumit Khan  <khan@xraylith.wisc.edu>\n+\n+\t* i386/cygwin.h (SUBTARGET_SWITCHES): Add -mconsole; fix\n+\t-mno-nop-fun-dllimport and minor doc fixes.\n+\t(STARTFILE_SPEC): Cygwin DLLs don't have dllcrt0.\n+\t(LINK_SPEC): Add -mconsole support.\n+\t* i386/mingw32.h (LIB_SPEC): Make libraries consistent with \n+\tCygwin.\n+\t(LINK_SPEC): Remove. Use Cygwin's version.\n+\t(MATH_LIBRARY): Make it null.\n+\t* i386/crtdll.h (MATH_LIBRARY): Likewise.\n+\n Fri Apr  12 15:00:52 1999  Stan Cox  <scox@cygnus.com>\n \n \t* c-decl.c (c_decode_option, start_decl, start_function,"}, {"sha": "3202af8cca84d66f46d704695b78b7d3a088dafd", "filename": "gcc/config/i386/crtdll.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6df90d818e83d4bae264649156dcbea8db2cee6/gcc%2Fconfig%2Fi386%2Fcrtdll.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6df90d818e83d4bae264649156dcbea8db2cee6/gcc%2Fconfig%2Fi386%2Fcrtdll.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fcrtdll.h?ref=c6df90d818e83d4bae264649156dcbea8db2cee6", "patch": "@@ -38,5 +38,3 @@ Boston, MA 02111-1307, USA. */\n #undef STARTFILE_SPEC\n #define STARTFILE_SPEC \"%{mdll:dllcrt1%O%s} %{!mdll:crt1%O%s}\"\n \n-#undef MATH_LIBRARY\n-#define MATH_LIBRARY \"-lcrtdll\""}, {"sha": "48b9eba1b1c680aa9e3fb6d825826d867422a1c2", "filename": "gcc/config/i386/cygwin.h", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6df90d818e83d4bae264649156dcbea8db2cee6/gcc%2Fconfig%2Fi386%2Fcygwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6df90d818e83d4bae264649156dcbea8db2cee6/gcc%2Fconfig%2Fi386%2Fcygwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fcygwin.h?ref=c6df90d818e83d4bae264649156dcbea8db2cee6", "patch": "@@ -45,12 +45,13 @@ Boston, MA 02111-1307, USA. */\n \n #undef  SUBTARGET_SWITCHES\n #define SUBTARGET_SWITCHES \\\n-{ \"no-cygwin\",                       MASK_WIN32, \"Use the Mingw32 interface\" }, \\\n-{ \"cygwin\",                          MASK_CYGWIN, \"Use the Cygwin interface\" },  \\\n-{ \"windows\",                         MASK_WINDOWS, \"Use the bare Windows interface\" }, \\\n-{ \"dll\",                             MASK_DLL, \"Generate code for a DLL\" },     \\\n-{ \"nop-fun-dllimport\",               MASK_NOP_FUN_DLLIMPORT, \"Ignore dllimport for functions\" }, \\\n-{ \"no-nop-fun-dllimport\",            MASK_NOP_FUN_DLLIMPORT, \"\" },\n+{ \"cygwin\",\t\t  MASK_CYGWIN, \"Use the Cygwin interface\" },  \\\n+{ \"no-cygwin\",\t\t  MASK_WIN32, \"Use the Mingw32 interface\" }, \\\n+{ \"windows\",\t\t  MASK_WINDOWS, \"Create GUI application\" }, \\\n+{ \"console\",\t\t  -MASK_WINDOWS, \"Create console application\" }, \\\n+{ \"dll\",\t\t  MASK_DLL, \"Generate code for a DLL\" },     \\\n+{ \"nop-fun-dllimport\",\t  MASK_NOP_FUN_DLLIMPORT, \"Ignore dllimport for functions\" }, \\\n+{ \"no-nop-fun-dllimport\", -MASK_NOP_FUN_DLLIMPORT, \"\" },\n \n \n /* Support the __declspec keyword by turning them into attributes.\n@@ -78,8 +79,7 @@ Boston, MA 02111-1307, USA. */\n    by calling the init function from the prologue. */\n \n #undef STARTFILE_SPEC\n-#define STARTFILE_SPEC \"%{mdll: %{!mno-cygwin:dllcrt0%O%s} \\\n-                                %{mno-cygwin:dllcrt1%O%s}} \\\n+#define STARTFILE_SPEC \"%{mdll: %{mno-cygwin:dllcrt1%O%s}} \\\n                         %{!mdll: %{!mno-cygwin:crt0%O%s} \\\n                                  %{mno-cygwin:crt1%O%s} %{pg:gcrt0%O%s}}\"\n \n@@ -117,6 +117,7 @@ Boston, MA 02111-1307, USA. */\n \t\t  -luser32 -lkernel32 -ladvapi32 -lshell32\"\n \n #define LINK_SPEC \"%{mwindows:--subsystem windows} \\\n+                   %{mconsole:--subsystem console} \\\n                    %{mdll:--dll -e _DllMainCRTStartup@12}\"\n \n "}, {"sha": "552cbcd1932e125a42776911c961bce5012e8acf", "filename": "gcc/config/i386/mingw32.h", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6df90d818e83d4bae264649156dcbea8db2cee6/gcc%2Fconfig%2Fi386%2Fmingw32.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6df90d818e83d4bae264649156dcbea8db2cee6/gcc%2Fconfig%2Fi386%2Fmingw32.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fmingw32.h?ref=c6df90d818e83d4bae264649156dcbea8db2cee6", "patch": "@@ -50,22 +50,18 @@ Boston, MA 02111-1307, USA. */\n /* For Windows applications, include more libraries, but always include\n    kernel32.  */\n #undef LIB_SPEC\n-#define LIB_SPEC \\\n-\"%{mwindows:-luser32 -lgdi32 -lcomdlg32} -lkernel32 -ladvapi32 -lshell32\"\n+#define LIB_SPEC \"%{mwindows:-lgdi32 -lcomdlg32} \\\n+                  -luser32 -lkernel32 -ladvapi32 -lshell32\"\n \n /* Include in the mingw32 libraries with libgcc */\n #undef LIBGCC_SPEC\n #define LIBGCC_SPEC \"-lmingw32 -lgcc -lmoldname -lmsvcrt\"\n \n-/* Specify a different entry point when linking a DLL */\n-#undef LINK_SPEC\n-#define LINK_SPEC \\\n-\"%{mwindows:--subsystem windows} %{mdll:--dll -e _DllMainCRTStartup@12}\"\n-\n #undef STARTFILE_SPEC\n #define STARTFILE_SPEC \"%{mdll:dllcrt2%O%s} %{!mdll:crt2%O%s}\"\n \n-#define MATH_LIBRARY \"-lmsvcrt\"\n+/* MS runtime does not need a separate math library. */\n+#define MATH_LIBRARY \"\"\n \n /* Output STRING, a string representing a filename, to FILE.  We canonicalize\n    it to be in MS-DOS format.  */"}]}