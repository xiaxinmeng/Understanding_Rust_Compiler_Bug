{"sha": "bd289f543a9d67eec00fb8993b48da80a9c1634d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmQyODlmNTQzYTlkNjdlZWMwMGZiODk5M2I0OGRhODBhOWMxNjM0ZA==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2006-08-17T01:56:47Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2006-08-17T01:56:47Z"}, "message": "re PR c++/28302 (ICE with bit-complement for vectors)\n\n2006-08-16  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR c++/28302\n        * typeck.c (build_unary_op <case BIT_NOT_EXPR:>): Don't call\n        perform_integral_promotions for non integral type\n2006-08-16  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR C++/28302\n        * g++.dg/ext/vector3.C: New test.\n\nFrom-SVN: r116205", "tree": {"sha": "6e6c3d7409482015e383a154896b58ab0016f820", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6e6c3d7409482015e383a154896b58ab0016f820"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bd289f543a9d67eec00fb8993b48da80a9c1634d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd289f543a9d67eec00fb8993b48da80a9c1634d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd289f543a9d67eec00fb8993b48da80a9c1634d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd289f543a9d67eec00fb8993b48da80a9c1634d/comments", "author": null, "committer": null, "parents": [{"sha": "97c074fd44a293120ac300f792994573ba5bd268", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97c074fd44a293120ac300f792994573ba5bd268", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97c074fd44a293120ac300f792994573ba5bd268"}], "stats": {"total": 27, "additions": 25, "deletions": 2}, "files": [{"sha": "cde739dbb95a9fcfd39f91425cb7bdb6a531720a", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd289f543a9d67eec00fb8993b48da80a9c1634d/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd289f543a9d67eec00fb8993b48da80a9c1634d/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=bd289f543a9d67eec00fb8993b48da80a9c1634d", "patch": "@@ -1,3 +1,9 @@\n+2006-08-16  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR c++/28302\n+\t* typeck.c (build_unary_op <case BIT_NOT_EXPR:>): Don't call\n+\tperform_integral_promotions for non integral type\n+\n 2006-08-16  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/28385"}, {"sha": "f337328cfcd883721a9f74e1c534f5515650e849", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd289f543a9d67eec00fb8993b48da80a9c1634d/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd289f543a9d67eec00fb8993b48da80a9c1634d/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=bd289f543a9d67eec00fb8993b48da80a9c1634d", "patch": "@@ -3996,7 +3996,7 @@ build_unary_op (enum tree_code code, tree xarg, int noconvert)\n       else if (!(arg = build_expr_type_conversion (WANT_INT | WANT_ENUM,\n \t\t\t\t\t\t   arg, true)))\n \terrstring = \"wrong type argument to bit-complement\";\n-      else if (!noconvert)\n+      else if (!noconvert && CP_INTEGRAL_TYPE_P (TREE_TYPE (arg)))\n \targ = perform_integral_promotions (arg);\n       break;\n "}, {"sha": "28ab165937fa2278f9abb4fb47eecf3c5462c95a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd289f543a9d67eec00fb8993b48da80a9c1634d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd289f543a9d67eec00fb8993b48da80a9c1634d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bd289f543a9d67eec00fb8993b48da80a9c1634d", "patch": "@@ -1,4 +1,9 @@\n-2006-08-16  Zdenek Dvorak <dvorakz@suse.cz>\n+2006-08-16  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR C++/28302\n+\t* g++.dg/ext/vector3.C: New test.\n+\n+2006-08-16  Zdenek Dvorak  <dvorakz@suse.cz>\n \n \tPR gcov/profile/26570\n \t* gcc.dg/pr26570.c: New test."}, {"sha": "1a67cf76a61d69c7c460a0c49f03cfd842918518", "filename": "gcc/testsuite/g++.dg/ext/vector3.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd289f543a9d67eec00fb8993b48da80a9c1634d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvector3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd289f543a9d67eec00fb8993b48da80a9c1634d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvector3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvector3.C?ref=bd289f543a9d67eec00fb8993b48da80a9c1634d", "patch": "@@ -0,0 +1,12 @@\n+/* { dg-do compile } */\n+/* { dg-options \"\" } */\n+\n+// PR c++/28302\n+\n+int __attribute__((vector_size(8))) x;\n+\n+void foo()\n+{\n+  ~x;\n+}\n+"}]}