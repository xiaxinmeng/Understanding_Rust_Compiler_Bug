{"sha": "db7b65ff7233f94a2b9a5ae8bb2c5ab57050e9e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGI3YjY1ZmY3MjMzZjk0YTJiOWE1YWU4YmIyYzVhYjU3MDUwZTllOA==", "commit": {"author": {"name": "Ilya Verbin", "email": "ilya.verbin@intel.com", "date": "2015-09-28T16:10:16Z"}, "committer": {"name": "Ilya Verbin", "email": "iverbin@gcc.gnu.org", "date": "2015-09-28T16:10:16Z"}, "message": "re PR other/67652 (liboffloadmic/runtime/offload_engine.cpp:176: strange expression in sizeof ?)\n\n\tPR other/67652\nliboffloadmic/\n\t* runtime/offload_engine.cpp (Engine::init_process): Fix sizeof.\n\nFrom-SVN: r228210", "tree": {"sha": "009cf8310e953b71cb0bccb70a7da17639914e3a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/009cf8310e953b71cb0bccb70a7da17639914e3a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/db7b65ff7233f94a2b9a5ae8bb2c5ab57050e9e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db7b65ff7233f94a2b9a5ae8bb2c5ab57050e9e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db7b65ff7233f94a2b9a5ae8bb2c5ab57050e9e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db7b65ff7233f94a2b9a5ae8bb2c5ab57050e9e8/comments", "author": null, "committer": null, "parents": [{"sha": "070fb1f63b23b3bc89eaaca5aa5359973d57cc14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/070fb1f63b23b3bc89eaaca5aa5359973d57cc14", "html_url": "https://github.com/Rust-GCC/gccrs/commit/070fb1f63b23b3bc89eaaca5aa5359973d57cc14"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "130026dd04105c34dce31922ebe02ef11380e91e", "filename": "liboffloadmic/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db7b65ff7233f94a2b9a5ae8bb2c5ab57050e9e8/liboffloadmic%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db7b65ff7233f94a2b9a5ae8bb2c5ab57050e9e8/liboffloadmic%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/liboffloadmic%2FChangeLog?ref=db7b65ff7233f94a2b9a5ae8bb2c5ab57050e9e8", "patch": "@@ -1,3 +1,8 @@\n+2015-09-28  Ilya Verbin  <ilya.verbin@intel.com>\n+\n+\tPR other/67652\n+\t* runtime/offload_engine.cpp (Engine::init_process): Fix sizeof.\n+\n 2015-09-08  Ilya Verbin  <ilya.verbin@intel.com>\n \n \t* Makefile.am (liboffloadmic_host_la_DEPENDENCIES): Remove libcoi_host"}, {"sha": "00b673aebcb1777b4e632b920229dece862518bc", "filename": "liboffloadmic/runtime/offload_engine.cpp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db7b65ff7233f94a2b9a5ae8bb2c5ab57050e9e8/liboffloadmic%2Fruntime%2Foffload_engine.cpp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db7b65ff7233f94a2b9a5ae8bb2c5ab57050e9e8/liboffloadmic%2Fruntime%2Foffload_engine.cpp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/liboffloadmic%2Fruntime%2Foffload_engine.cpp?ref=db7b65ff7233f94a2b9a5ae8bb2c5ab57050e9e8", "patch": "@@ -173,7 +173,7 @@ void Engine::init_process(void)\n             // use putenv instead of setenv as Windows has no setenv.\n             // Note: putenv requires its argument can't be freed or modified.\n             // So no free after call to putenv or elsewhere.\n-            char * env_var = (char*) malloc(sizeof(\"COI_DMA_CHANNEL_COUNT=2\" + 1));\n+            char * env_var = (char*) malloc(sizeof(\"COI_DMA_CHANNEL_COUNT=2\"));\n             sprintf(env_var, \"COI_DMA_CHANNEL_COUNT=2\");\n             putenv(env_var);  \n         }"}]}