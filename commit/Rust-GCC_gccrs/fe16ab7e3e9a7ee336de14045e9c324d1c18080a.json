{"sha": "fe16ab7e3e9a7ee336de14045e9c324d1c18080a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmUxNmFiN2UzZTlhN2VlMzM2ZGUxNDA0NWU5YzMyNGQxYzE4MDgwYQ==", "commit": {"author": {"name": "David Mosberger", "email": "davidm@hpl.hp.com", "date": "2003-12-11T20:50:33Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2003-12-11T20:50:33Z"}, "message": "libunwind related patch from David Mosberger\n\nlibunwind related patch from David Mosberger\n* unwind-libunwind.c (_Unwind_SetGR): Clear the NaT bit as\nrequired by C++ ABI for Itanium.\n* config/t-libunwind (LIB2ADDEH): Remove unwind-libunwind.c.\n* config/t-libunwind-no-eh: New file.\n* configure.in: Check libunwind for _Unwind_Resume() and if it's\npresent, set libunwind_has_eh_support to \"yes\".\n* configure: Regenerate.\n* config.gcc (ia64*-*-linux*): If $libunwind_has_eh_support is\nset to yes, use t-libunwind, otherwise, use t-libunwind-no-eh.\n\nFrom-SVN: r74548", "tree": {"sha": "ac92f83a08c9061fe3cd759449a08d341d431a0c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ac92f83a08c9061fe3cd759449a08d341d431a0c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fe16ab7e3e9a7ee336de14045e9c324d1c18080a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe16ab7e3e9a7ee336de14045e9c324d1c18080a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe16ab7e3e9a7ee336de14045e9c324d1c18080a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/comments", "author": null, "committer": null, "parents": [{"sha": "7ac88634ad7825b671a22dfd9bbbadc8264b8175", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ac88634ad7825b671a22dfd9bbbadc8264b8175", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ac88634ad7825b671a22dfd9bbbadc8264b8175"}], "stats": {"total": 217, "additions": 143, "deletions": 74}, "files": [{"sha": "c4a50352c69fe93727e5400b70febb33f3376df6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fe16ab7e3e9a7ee336de14045e9c324d1c18080a", "patch": "@@ -1,3 +1,15 @@\n+2003-12-11  David Mosberger  <davidm@hpl.hp.com>\n+\n+\t* unwind-libunwind.c (_Unwind_SetGR): Clear the NaT bit as\n+\trequired by C++ ABI for Itanium.\n+\t* config/t-libunwind (LIB2ADDEH): Remove unwind-libunwind.c.\n+\t* config/t-libunwind-no-eh: New file.\n+\t* configure.in: Check libunwind for _Unwind_Resume() and if it's\n+\tpresent, set libunwind_has_eh_support to \"yes\".\n+\t* configure: Regenerate.\n+\t* config.gcc (ia64*-*-linux*): If $libunwind_has_eh_support is\n+\tset to yes, use t-libunwind, otherwise, use t-libunwind-no-eh.\n+\n 2003-12-11  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* config/mips/mips.c (mips_global_pointer): Force functions with"}, {"sha": "efbcced39432cf685cf292a07f952d3f91356e58", "filename": "gcc/config.gcc", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=fe16ab7e3e9a7ee336de14045e9c324d1c18080a", "patch": "@@ -1245,7 +1245,11 @@ ia64*-*-linux*)\n \ttarget_cpu_default=\"MASK_GNU_AS|MASK_GNU_LD\"\n \textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o crtfastmath.o\"\n \tif test x\"$use_libunwind_exceptions\" = xyes; then\n-\t  tmake_file=\"$tmake_file t-libunwind\"\n+\t  if test x\"$libunwind_has_eh_support\" = xyes; then\n+\t    tmake_file=\"$tmake_file t-libunwind\"\n+\t  else\n+\t    tmake_file=\"$tmake_file t-libunwind-no-eh\"\n+\t  fi\n \tfi\n \t;;\n ia64*-*-hpux*)"}, {"sha": "2204ae316d7a7dc210f3ac30f2bbe0d44e600cba", "filename": "gcc/config/t-libunwind", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/gcc%2Fconfig%2Ft-libunwind", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/gcc%2Fconfig%2Ft-libunwind", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-libunwind?ref=fe16ab7e3e9a7ee336de14045e9c324d1c18080a", "patch": "@@ -2,5 +2,4 @@\n # so that the resulting libgcc_s.so has the necessary DT_NEEDED entry for\n # libunwind.\n SHLIB_LC = -lunwind -lc\n-LIB2ADDEH = $(srcdir)/unwind-libunwind.c $(srcdir)/unwind-sjlj.c \\\n-\t    $(srcdir)/unwind-c.c\n+LIB2ADDEH = $(srcdir)/unwind-sjlj.c $(srcdir)/unwind-c.c"}, {"sha": "53ba327a3167bb648604f90588730c47d016f1cd", "filename": "gcc/config/t-libunwind-no-eh", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/gcc%2Fconfig%2Ft-libunwind-no-eh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/gcc%2Fconfig%2Ft-libunwind-no-eh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-libunwind-no-eh?ref=fe16ab7e3e9a7ee336de14045e9c324d1c18080a", "patch": "@@ -0,0 +1,6 @@\n+# Override the default value from t-slibgcc-elf-ver and mention -lunwind\n+# so that the resulting libgcc_s.so has the necessary DT_NEEDED entry for\n+# libunwind.\n+SHLIB_LC = -lunwind -lc\n+LIB2ADDEH = $(srcdir)/unwind-libunwind.c $(srcdir)/unwind-sjlj.c \\\n+\t    $(srcdir)/unwind-c.c"}, {"sha": "8ea028f2be640b679c13a5f79d36bbf35fd2667b", "filename": "gcc/configure", "status": "modified", "additions": 112, "deletions": 71, "changes": 183, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=fe16ab7e3e9a7ee336de14045e9c324d1c18080a", "patch": "@@ -5181,6 +5181,47 @@ if test x\"$use_libunwind_exceptions\" = xyes; then\n #define USE_LIBUNWIND_EXCEPTIONS 1\n EOF\n \n+   echo $ac_n \"checking for _Unwind_Resume in -lunwind\"\"... $ac_c\" 1>&6\n+echo \"configure:5186: checking for _Unwind_Resume in -lunwind\" >&5\n+ac_lib_var=`echo unwind'_'_Unwind_Resume | sed 'y%./+-%__p_%'`\n+if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  ac_save_LIBS=\"$LIBS\"\n+LIBS=\"-lunwind  $LIBS\"\n+cat > conftest.$ac_ext <<EOF\n+#line 5194 \"configure\"\n+#include \"confdefs.h\"\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char _Unwind_Resume();\n+\n+int main() {\n+_Unwind_Resume()\n+; return 0; }\n+EOF\n+if { (eval echo configure:5205: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  eval \"ac_cv_lib_$ac_lib_var=yes\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"ac_cv_lib_$ac_lib_var=no\"\n+fi\n+rm -f conftest*\n+LIBS=\"$ac_save_LIBS\"\n+\n+fi\n+if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+  libunwind_has_eh_support=yes\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+libunwind_has_eh_support=no\n+fi\n+\n fi\n \n # --------------------------------------------------------\n@@ -5457,7 +5498,7 @@ if test -f ../intl/config.intl; then\n   . ../intl/config.intl\n fi\n echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:5461: checking whether NLS is requested\" >&5\n+echo \"configure:5502: checking whether NLS is requested\" >&5\n if test x\"$USE_NLS\" != xyes; then\n   echo \"$ac_t\"\"no\" 1>&6\n else\n@@ -5468,7 +5509,7 @@ EOF\n \n \n   echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:5472: checking for catalogs to be installed\" >&5\n+echo \"configure:5513: checking for catalogs to be installed\" >&5\n   # Look for .po and .gmo files in the source directory.\n   CATALOGS=  \n   XLINGUAS=\n@@ -5518,7 +5559,7 @@ fi\n case $host_os in\n \twin32 | pe | cygwin* | mingw32* | uwin*)\n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:5522: checking whether windows registry support is requested\" >&5\n+echo \"configure:5563: checking whether windows registry support is requested\" >&5\n if test \"x$enable_win32_registry\" != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -5527,14 +5568,14 @@ EOF\n   echo \"$ac_t\"\"yes\" 1>&6\n   \n echo $ac_n \"checking for library containing RegOpenKeyExA\"\"... $ac_c\" 1>&6\n-echo \"configure:5531: checking for library containing RegOpenKeyExA\" >&5\n+echo \"configure:5572: checking for library containing RegOpenKeyExA\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_RegOpenKeyExA'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_RegOpenKeyExA=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 5538 \"configure\"\n+#line 5579 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5545,7 +5586,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:5549: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5590: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"none required\"\n else\n@@ -5556,7 +5597,7 @@ rm -f conftest*\n test \"$ac_cv_search_RegOpenKeyExA\" = \"no\" && for i in advapi32; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5560 \"configure\"\n+#line 5601 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5567,7 +5608,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:5571: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5612: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"-l$i\"\n break\n@@ -5609,7 +5650,7 @@ esac\n \n if test \"x$enable_win32_registry\" != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:5613: checking registry key on windows hosts\" >&5\n+echo \"configure:5654: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -5873,7 +5914,7 @@ esac\n # build->target assembler and hope that it will have the same features\n # as the host->target assembler we'll be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:5877: checking what assembler to use\" >&5\n+echo \"configure:5918: checking what assembler to use\" >&5\n in_tree_gas=no\n gcc_cv_as=\n gcc_cv_gas_major_version=\n@@ -5997,7 +6038,7 @@ esac\n # build->target linker and hope that it will have the same features\n # as the host->target linker we'll be using.\n echo $ac_n \"checking what linker to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6001: checking what linker to use\" >&5\n+echo \"configure:6042: checking what linker to use\" >&5\n in_tree_ld=no\n gcc_cv_ld=\n gcc_cv_gld_major_version=\n@@ -6105,7 +6146,7 @@ esac\n # Figure out what nm we will be using.\n gcc_cv_binutils_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/binutils\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6109: checking what nm to use\" >&5\n+echo \"configure:6150: checking what nm to use\" >&5\n in_tree_nm=no\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n@@ -6128,7 +6169,7 @@ esac\n \n # Figure out what objdump we will be using.\n echo $ac_n \"checking what objdump to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6132: checking what objdump to use\" >&5\n+echo \"configure:6173: checking what objdump to use\" >&5\n in_tree_objdump=no\n if test -x objdump$host_exeext; then\n \tgcc_cv_objdump=./objdump$host_exeext\n@@ -6153,7 +6194,7 @@ esac\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler for .balign and .p2align\"\"... $ac_c\" 1>&6\n-echo \"configure:6157: checking assembler for .balign and .p2align\" >&5\n+echo \"configure:6198: checking assembler for .balign and .p2align\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_balign_and_p2align'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6165,7 +6206,7 @@ fi\n   elif test x$gcc_cv_as != x; then\n     echo '.balign 4\n .p2align 2' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6169: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6210: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_balign_and_p2align=yes\n     else\n@@ -6185,7 +6226,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for .p2align with maximum skip\"\"... $ac_c\" 1>&6\n-echo \"configure:6189: checking assembler for .p2align with maximum skip\" >&5\n+echo \"configure:6230: checking assembler for .p2align with maximum skip\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_max_skip_p2align'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6196,7 +6237,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.p2align 4,,7' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6200: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6241: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_max_skip_p2align=yes\n     else\n@@ -6216,7 +6257,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for working .subsection -1\"\"... $ac_c\" 1>&6\n-echo \"configure:6220: checking assembler for working .subsection -1\" >&5\n+echo \"configure:6261: checking assembler for working .subsection -1\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_subsection_m1'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6231,7 +6272,7 @@ fi\n .subsection -1\n conftest_label2: .word 0\n .previous' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6235: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6276: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_nm != x; then\n     $gcc_cv_nm conftest.o | grep conftest_label1 > conftest.nm1\n@@ -6259,7 +6300,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for .weak\"\"... $ac_c\" 1>&6\n-echo \"configure:6263: checking assembler for .weak\" >&5\n+echo \"configure:6304: checking assembler for .weak\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_weak'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6270,7 +6311,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '\t.weak foobar' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6274: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6315: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_weak=yes\n     else\n@@ -6297,7 +6338,7 @@ fi\n # to be safe.\n # The gcc_GAS_CHECK_FEATURE call just sets a cache variable.\n echo $ac_n \"checking assembler for .hidden\"\"... $ac_c\" 1>&6\n-echo \"configure:6301: checking assembler for .hidden\" >&5\n+echo \"configure:6342: checking assembler for .hidden\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6310,7 +6351,7 @@ fi\n   elif test x$gcc_cv_as != x; then\n     echo '\t.hidden foobar\n foobar:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6314: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6355: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_hidden=yes\n     else\n@@ -6325,7 +6366,7 @@ echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n \n \n echo $ac_n \"checking linker for .hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:6329: checking linker for .hidden support\" >&5\n+echo \"configure:6370: checking linker for .hidden support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_ld_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6388,7 +6429,7 @@ fi\n \n # Check if we have .[us]leb128, and support symbol arithmetic with it.\n echo $ac_n \"checking assembler for .sleb128 and .uleb128\"\"... $ac_c\" 1>&6\n-echo \"configure:6392: checking assembler for .sleb128 and .uleb128\" >&5\n+echo \"configure:6433: checking assembler for .sleb128 and .uleb128\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_leb128'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6405,7 +6446,7 @@ L1:\n \t.uleb128 1280\n \t.sleb128 -1010\n L2:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6409: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6450: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# GAS versions before 2.11 do not support uleb128,\n   # despite appearing to.\n@@ -6441,7 +6482,7 @@ fi\n # GAS versions up to and including 2.11.0 may mis-optimize\n # .eh_frame data.\n echo $ac_n \"checking assembler for eh_frame optimization\"\"... $ac_c\" 1>&6\n-echo \"configure:6445: checking assembler for eh_frame optimization\" >&5\n+echo \"configure:6486: checking assembler for eh_frame optimization\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_eh_frame'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6484,7 +6525,7 @@ __FRAME_BEGIN__:\n \t.byte\t0x4\n \t.4byte\t.L1-.LFB1\n .LEFDE1:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6488: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6529: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t  cat > conftest.lit <<EOF\n  0000 10000000 00000000 017a0001 781a0004  .........z..x...\n@@ -6505,7 +6546,7 @@ EOF\n     || cmp conftest.big conftest.got > /dev/null 2>&1; }\n   then\n     gcc_cv_as_eh_frame=yes\n-  elif { ac_try='$gcc_cv_as -o conftest.o --traditional-format /dev/null'; { (eval echo configure:6509: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }; then\n+  elif { ac_try='$gcc_cv_as -o conftest.o --traditional-format /dev/null'; { (eval echo configure:6550: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }; then\n     gcc_cv_as_eh_frame=buggy\n   else\n     # Uh oh, what do we do now?\n@@ -6530,7 +6571,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for section merging support\"\"... $ac_c\" 1>&6\n-echo \"configure:6534: checking assembler for section merging support\" >&5\n+echo \"configure:6575: checking assembler for section merging support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_shf_merge'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6542,7 +6583,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.section .rodata.str, \"aMS\", @progbits, 1' > conftest.s\n-    if { ac_try='$gcc_cv_as --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6546: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6587: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_shf_merge=yes\n     else\n@@ -6780,7 +6821,7 @@ if test -z \"$tls_first_major\"; then\n   : # If we don't have a check, assume no support.\n else\n   echo $ac_n \"checking assembler for thread-local storage support\"\"... $ac_c\" 1>&6\n-echo \"configure:6784: checking assembler for thread-local storage support\" >&5\n+echo \"configure:6825: checking assembler for thread-local storage support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_tls'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6791,7 +6832,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as $tls_as_opt --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6795: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as $tls_as_opt --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6836: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_tls=yes\n     else\n@@ -6817,7 +6858,7 @@ case \"$target\" in\n   # All TARGET_ABI_OSF targets.\n   alpha*-*-osf* | alpha*-*-linux* | alpha*-*-*bsd*)\n     echo $ac_n \"checking assembler for explicit relocation support\"\"... $ac_c\" 1>&6\n-echo \"configure:6821: checking assembler for explicit relocation support\" >&5\n+echo \"configure:6862: checking assembler for explicit relocation support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_alpha_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6840,7 +6881,7 @@ fi\n \tldah\t$1, d($29)\t!gprelhigh\n \tlda\t$1, d($1)\t!gprellow\n \tlda\t$29, 0($29)\t!gpdisp!3' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6844: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6885: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_alpha_explicit_relocs=yes\n     else\n@@ -6862,14 +6903,14 @@ fi\n \n   sparc*-*-*)\n     echo $ac_n \"checking assembler for .register\"\"... $ac_c\" 1>&6\n-echo \"configure:6866: checking assembler for .register\" >&5\n+echo \"configure:6907: checking assembler for .register\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_register_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_sparc_register_op=no\n   if test x$gcc_cv_as != x; then\n     echo '.register %g2, #scratch' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6873: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6914: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_sparc_register_op=yes\n     else\n@@ -6889,14 +6930,14 @@ EOF\n fi\n \n     echo $ac_n \"checking assembler for -relax option\"\"... $ac_c\" 1>&6\n-echo \"configure:6893: checking assembler for -relax option\" >&5\n+echo \"configure:6934: checking assembler for -relax option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_relax'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_sparc_relax=no\n   if test x$gcc_cv_as != x; then\n     echo '.text' > conftest.s\n-    if { ac_try='$gcc_cv_as -relax -o conftest.o conftest.s >&5'; { (eval echo configure:6900: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -relax -o conftest.o conftest.s >&5'; { (eval echo configure:6941: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_sparc_relax=yes\n     else\n@@ -6916,7 +6957,7 @@ EOF\n fi\n \n     echo $ac_n \"checking assembler for unaligned pcrel relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:6920: checking assembler for unaligned pcrel relocs\" >&5\n+echo \"configure:6961: checking assembler for unaligned pcrel relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6929,7 +6970,7 @@ foo:\n .align 4\n .byte 0\n .uaword %r_disp32(foo)' > conftest.s\n-    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6933: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6974: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_ld != x \\\n        && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1; then\n@@ -6952,7 +6993,7 @@ EOF\n \n \n       echo $ac_n \"checking assembler for unaligned pcrel relocs against hidden symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:6956: checking assembler for unaligned pcrel relocs against hidden symbols\" >&5\n+echo \"configure:6997: checking assembler for unaligned pcrel relocs against hidden symbols\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6967,7 +7008,7 @@ else\n .hidden foo\n foo:\n .skip 4' > conftest.s\n-    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6971: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:7012: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_ld != x && test x$gcc_cv_objdump != x \\\n \t && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1 \\\n@@ -7000,7 +7041,7 @@ fi\n fi # unaligned pcrel relocs\n \n     echo $ac_n \"checking assembler for offsetable %lo()\"\"... $ac_c\" 1>&6\n-echo \"configure:7004: checking assembler for offsetable %lo()\" >&5\n+echo \"configure:7045: checking assembler for offsetable %lo()\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7009,7 +7050,7 @@ else\n     echo '.text\n \tor %g1, %lo(ab) + 12, %g1\n \tor %g1, %lo(ab + 12), %g1' > conftest.s\n-    if { ac_try='$gcc_cv_as -xarch=v9 -o conftest.o conftest.s >&5'; { (eval echo configure:7013: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -xarch=v9 -o conftest.o conftest.s >&5'; { (eval echo configure:7054: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_objdump != x \\\n        && %gcc_cv_objdump -s -j .text conftest.o 2> /dev/null \\\n@@ -7035,7 +7076,7 @@ fi\n \n   i[34567]86-*-* | x86_64-*-*)\n     echo $ac_n \"checking assembler for filds and fists mnemonics\"\"... $ac_c\" 1>&6\n-echo \"configure:7039: checking assembler for filds and fists mnemonics\" >&5\n+echo \"configure:7080: checking assembler for filds and fists mnemonics\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_filds_fists'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7046,7 +7087,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo 'filds mem; fists mem' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7050: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7091: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_filds_fists=yes\n     else\n@@ -7066,14 +7107,14 @@ EOF\n fi\n \n     echo $ac_n \"checking assembler for cmov syntax\"\"... $ac_c\" 1>&6\n-echo \"configure:7070: checking assembler for cmov syntax\" >&5\n+echo \"configure:7111: checking assembler for cmov syntax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_cmov_sun_syntax'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_ix86_cmov_sun_syntax=no\n   if test x$gcc_cv_as != x; then\n     echo 'cmovl.l %edx, %eax' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7077: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7118: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_cmov_sun_syntax=yes\n     else\n@@ -7095,7 +7136,7 @@ fi\n     # This one is used unconditionally by i386.[ch]; it is to be defined\n     # to 1 if the feature is present, 0 otherwise.\n     echo $ac_n \"checking assembler for GOTOFF in data\"\"... $ac_c\" 1>&6\n-echo \"configure:7099: checking assembler for GOTOFF in data\" >&5\n+echo \"configure:7140: checking assembler for GOTOFF in data\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_gotoff_in_data'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7110,7 +7151,7 @@ fi\n \tnop\n \t.data\n \t.long .L0@GOTOFF' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7114: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7155: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_gotoff_in_data=yes\n     else\n@@ -7131,7 +7172,7 @@ EOF\n \n   ia64*-*-*)\n     echo $ac_n \"checking assembler for ltoffx and ldxmov relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:7135: checking assembler for ltoffx and ldxmov relocs\" >&5\n+echo \"configure:7176: checking assembler for ltoffx and ldxmov relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ia64_ltoffx_ldxmov_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7145,7 +7186,7 @@ fi\n \taddl r15 = @ltoffx(x#), gp\n \t;;\n \tld8.mov r16 = [r15], x#' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7149: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7190: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ia64_ltoffx_ldxmov_relocs=yes\n     else\n@@ -7175,7 +7216,7 @@ fi\n \tmfcr 3,128\"\n \n     echo $ac_n \"checking assembler for mfcr field support\"\"... $ac_c\" 1>&6\n-echo \"configure:7179: checking assembler for mfcr field support\" >&5\n+echo \"configure:7220: checking assembler for mfcr field support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_powerpc_mfcrf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7186,7 +7227,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7190: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7231: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_powerpc_mfcrf=yes\n     else\n@@ -7208,7 +7249,7 @@ fi\n \n   mips*-*-*)\n     echo $ac_n \"checking assembler for explicit relocation support\"\"... $ac_c\" 1>&6\n-echo \"configure:7212: checking assembler for explicit relocation support\" >&5\n+echo \"configure:7253: checking assembler for explicit relocation support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_mips_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7219,7 +7260,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '\tlw $4,%gp_rel(foo)($4)' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7223: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7264: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_mips_explicit_relocs=yes\n     else\n@@ -7265,7 +7306,7 @@ if test x\"$insn\" != x; then\n \t.loc 1 3 0\n \t$insn\"\n  echo $ac_n \"checking assembler for dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:7269: checking assembler for dwarf2 debug_line support\" >&5\n+echo \"configure:7310: checking assembler for dwarf2 debug_line support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_dwarf2_debug_line'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7277,7 +7318,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7281: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7322: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# ??? This fails with non-gnu grep.  Maybe use objdump?\n    if grep debug_line conftest.o > /dev/null 2>&1; then\n@@ -7299,15 +7340,15 @@ echo \"$ac_t\"\"$gcc_cv_as_dwarf2_debug_line\" 1>&6\n # by DW_AT_decl_file.  Approximate this test by testing if\n # the assembler bitches if the same index is assigned twice.\n  echo $ac_n \"checking assembler for buggy dwarf2 .file directive\"\"... $ac_c\" 1>&6\n-echo \"configure:7303: checking assembler for buggy dwarf2 .file directive\" >&5\n+echo \"configure:7344: checking assembler for buggy dwarf2 .file directive\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_dwarf2_file_buggy'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_dwarf2_file_buggy=no\n   if test x$gcc_cv_as != x; then\n     echo '\t.file 1 \"foo.s\"\n \t.file 1 \"bar.s\"' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7311: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7352: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_dwarf2_file_buggy=yes\n     else\n@@ -7330,7 +7371,7 @@ EOF\n  fi\n \n  echo $ac_n \"checking assembler for --gdwarf2 option\"\"... $ac_c\" 1>&6\n-echo \"configure:7334: checking assembler for --gdwarf2 option\" >&5\n+echo \"configure:7375: checking assembler for --gdwarf2 option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_gdwarf2_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7342,7 +7383,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --gdwarf2 -o conftest.o conftest.s >&5'; { (eval echo configure:7346: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --gdwarf2 -o conftest.o conftest.s >&5'; { (eval echo configure:7387: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_gdwarf2_flag=yes\n     else\n@@ -7362,7 +7403,7 @@ EOF\n fi\n \n  echo $ac_n \"checking assembler for --gstabs option\"\"... $ac_c\" 1>&6\n-echo \"configure:7366: checking assembler for --gstabs option\" >&5\n+echo \"configure:7407: checking assembler for --gstabs option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_gstabs_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7374,12 +7415,12 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s >&5'; { (eval echo configure:7378: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s >&5'; { (eval echo configure:7419: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# The native Solaris 9/Intel assembler doesn't understand --gstabs\n    # and warns about it, but still exits successfully.  So check for\n    # this.\n-   if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /dev/null'; { (eval echo configure:7383: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+   if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /dev/null'; { (eval echo configure:7424: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n    then :\n    else gcc_cv_as_gstabs_flag=yes\n    fi\n@@ -7401,7 +7442,7 @@ fi\n fi\n \n echo $ac_n \"checking linker read-only and read-write section mixing\"\"... $ac_c\" 1>&6\n-echo \"configure:7405: checking linker read-only and read-write section mixing\" >&5\n+echo \"configure:7446: checking linker read-only and read-write section mixing\" >&5\n gcc_cv_ld_ro_rw_mix=unknown\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 10 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7440,7 +7481,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_ro_rw_mix\" 1>&6\n \n echo $ac_n \"checking linker PT_GNU_EH_FRAME support\"\"... $ac_c\" 1>&6\n-echo \"configure:7444: checking linker PT_GNU_EH_FRAME support\" >&5\n+echo \"configure:7485: checking linker PT_GNU_EH_FRAME support\" >&5\n gcc_cv_ld_eh_frame_hdr=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 12 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7462,7 +7503,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_eh_frame_hdr\" 1>&6\n \n echo $ac_n \"checking linker position independent executable support\"\"... $ac_c\" 1>&6\n-echo \"configure:7466: checking linker position independent executable support\" >&5\n+echo \"configure:7507: checking linker position independent executable support\" >&5\n gcc_cv_ld_pie=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 15 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7487,7 +7528,7 @@ echo \"$ac_t\"\"$gcc_cv_ld_pie\" 1>&6\n case \"$target\" in\n   mips*-*-*)\n     echo $ac_n \"checking whether libgloss uses STARTUP directives consistently\"\"... $ac_c\" 1>&6\n-echo \"configure:7491: checking whether libgloss uses STARTUP directives consistently\" >&5\n+echo \"configure:7532: checking whether libgloss uses STARTUP directives consistently\" >&5\n     gcc_cv_mips_libgloss_startup=no\n     gcc_cv_libgloss_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/libgloss\n     if test \"x$exec_prefix\" = xNONE; then\n@@ -7689,7 +7730,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:7693: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:7734: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "b8309015efa7d81d19b694850cd2e7ee38cb0829", "filename": "gcc/configure.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=fe16ab7e3e9a7ee336de14045e9c324d1c18080a", "patch": "@@ -957,6 +957,8 @@ use_libunwind_exceptions=$use_libunwind_default)\n if test x\"$use_libunwind_exceptions\" = xyes; then\n    AC_DEFINE(USE_LIBUNWIND_EXCEPTIONS, 1,\n \t[Define if gcc should use -lunwind.])\n+   AC_CHECK_LIB(unwind, _Unwind_Resume, libunwind_has_eh_support=yes,\n+\tlibunwind_has_eh_support=no)\n fi\n \n # --------------------------------------------------------"}, {"sha": "0f425978fbd101d680ac6ee2ae29e68df121a221", "filename": "gcc/unwind-libunwind.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/gcc%2Funwind-libunwind.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe16ab7e3e9a7ee336de14045e9c324d1c18080a/gcc%2Funwind-libunwind.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funwind-libunwind.c?ref=fe16ab7e3e9a7ee336de14045e9c324d1c18080a", "patch": "@@ -124,6 +124,11 @@ _Unwind_SetGR (struct _Unwind_Context *context, int index, _Unwind_Word val)\n   /* Note: here we depend on the fact that general registers are\n      expected to start with register number 0!  */\n   unw_set_reg (&context->cursor, index, val);\n+#ifdef UNW_TARGET_IA64\n+  if (index >= UNW_IA64_GR && index <= UNW_IA64_GR + 127)\n+    /* Clear the NaT bit. */\n+    unw_set_reg (&context->cursor, UNW_IA64_NAT + (index - UNW_IA64_GR), 0);\n+#endif\n }\n \n /* Retrieve the return address for CONTEXT.  */"}]}