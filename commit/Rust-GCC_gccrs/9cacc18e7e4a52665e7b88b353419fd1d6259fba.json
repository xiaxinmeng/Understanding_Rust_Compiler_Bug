{"sha": "9cacc18e7e4a52665e7b88b353419fd1d6259fba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWNhY2MxOGU3ZTRhNTI2NjVlN2I4OGIzNTM0MTlmZDFkNjI1OWZiYQ==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1995-02-18T17:20:28Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1995-02-18T17:20:28Z"}, "message": "xm-lynx.h (HOST_BITS_PER_CHAR): Delete.\n\n\t* config/xm-lynx.h (HOST_BITS_PER_CHAR): Delete.\n\t(HOST_BITS_PER_{SHORT,INT,LONG,LONGLONG}): Likewise.\n\t(mktemp): Provide our own, lynx's definition isn't standard.\n\nFrom-SVN: r8962", "tree": {"sha": "b29893e37a865edca4a21a1a9336f6a6b5b696e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b29893e37a865edca4a21a1a9336f6a6b5b696e8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9cacc18e7e4a52665e7b88b353419fd1d6259fba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9cacc18e7e4a52665e7b88b353419fd1d6259fba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9cacc18e7e4a52665e7b88b353419fd1d6259fba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9cacc18e7e4a52665e7b88b353419fd1d6259fba/comments", "author": null, "committer": null, "parents": [{"sha": "44bfb268f19cc9b5bbd8e9784653433156139ffd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44bfb268f19cc9b5bbd8e9784653433156139ffd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44bfb268f19cc9b5bbd8e9784653433156139ffd"}], "stats": {"total": 34, "additions": 21, "deletions": 13}, "files": [{"sha": "744a0156100b9ce60c8e9b96b8abfc9d0ecf973e", "filename": "gcc/config/xm-lynx.h", "status": "modified", "additions": 21, "deletions": 13, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9cacc18e7e4a52665e7b88b353419fd1d6259fba/gcc%2Fconfig%2Fxm-lynx.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9cacc18e7e4a52665e7b88b353419fd1d6259fba/gcc%2Fconfig%2Fxm-lynx.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxm-lynx.h?ref=9cacc18e7e4a52665e7b88b353419fd1d6259fba", "patch": "@@ -1,5 +1,5 @@\n /* Configuration for GNU C-compiler for Lynx.\n-   Copyright (C) 1993 Free Software Foundation, Inc.\n+   Copyright (C) 1993, 1995 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -17,26 +17,34 @@ You should have received a copy of the GNU General Public License\n along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n+/* This file defines machine-independent things specific to a host\n+   running Lynx.  This file should not be specified as $xm_file itself;\n+   instead $xm_file should be CPU/xm-lynx.h, which should include this one.  */\n+\n /* #defines that need visibility everywhere.  */\n #define FALSE 0\n #define TRUE 1\n \n-/* This describes the machine the compiler is hosted on.  */\n-#define HOST_BITS_PER_CHAR 8\n-#define HOST_BITS_PER_SHORT 16\n-#define HOST_BITS_PER_INT 32\n-#define HOST_BITS_PER_LONG 32\n-#define HOST_BITS_PER_LONGLONG 64\n-\n /* Arguments to use with `exit'.  */\n #define SUCCESS_EXIT_CODE 0\n #define FATAL_EXIT_CODE 33\n \n /* Lynx has no vfork system call.  */\n #define vfork fork\n \n-/* target machine dependencies.\n-   tm.h is a symbolic link to the actual target specific file.   */\n-\n-#include \"tm.h\"\n-\n+/* Lynx has a non-standard mktemp function.  */\n+/* ??? This is simpler than creating YATM: Yet Another Target Macro.  */\n+#define mktemp lynx_mktemp\n+\n+#define lynx_mktemp(template) \\\n+do {\t\t\t\t\\\n+  int pid = getpid ();\t\t\\\n+  char *t = template;\t\t\\\n+  char *p;\t\t\t\\\n+  p = t + strlen (t);\t\t\\\n+  while (*--p == 'X')\t\t\\\n+    {\t\t\t\t\\\n+      *p = (pid % 10) + '0';\t\\\n+      pid /= 10;\t\t\\\n+    }\t\t\t\t\\\n+} while (0)"}]}