{"sha": "9deab0b79fe10afd8cd889414b87e594cef9c50b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWRlYWIwYjc5ZmUxMGFmZDhjZDg4OTQxNGI4N2U1OTRjZWY5YzUwYg==", "commit": {"author": {"name": "Thomas Fitzsimmons", "email": "fitzsim@redhat.com", "date": "2004-01-22T20:17:43Z"}, "committer": {"name": "Thomas Fitzsimmons", "email": "fitzsim@gcc.gnu.org", "date": "2004-01-22T20:17:43Z"}, "message": "2004-01-22  Thomas Fitzsimmons  <fitzsim@redhat.com>\n\n\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c\n\t(connectJObject): Replace printf calls with g_assert statements.\n\tMove property-notify-event signal connection to ...\n\t(connectSignals): Connect property-notify-event signal.  Iterate\n\tthrough the vbox's children to find layout.\n\nFrom-SVN: r76367", "tree": {"sha": "19f0d9dacce92d95b8f60e84224aff5193d59507", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/19f0d9dacce92d95b8f60e84224aff5193d59507"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9deab0b79fe10afd8cd889414b87e594cef9c50b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9deab0b79fe10afd8cd889414b87e594cef9c50b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9deab0b79fe10afd8cd889414b87e594cef9c50b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9deab0b79fe10afd8cd889414b87e594cef9c50b/comments", "author": null, "committer": null, "parents": [{"sha": "398b3debc46060c500086e7566caf8ce2b23e1d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/398b3debc46060c500086e7566caf8ce2b23e1d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/398b3debc46060c500086e7566caf8ce2b23e1d0"}], "stats": {"total": 37, "additions": 22, "deletions": 15}, "files": [{"sha": "8f3083a385afd912c696a4159ef5a22bad58f244", "filename": "libjava/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9deab0b79fe10afd8cd889414b87e594cef9c50b/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9deab0b79fe10afd8cd889414b87e594cef9c50b/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=9deab0b79fe10afd8cd889414b87e594cef9c50b", "patch": "@@ -1,3 +1,11 @@\n+2004-01-22  Thomas Fitzsimmons  <fitzsim@redhat.com>\n+\n+\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c\n+\t(connectJObject): Replace printf calls with g_assert statements.\n+\tMove property-notify-event signal connection to ...\n+\t(connectSignals): Connect property-notify-event signal.  Iterate\n+\tthrough the vbox's children to find layout.\n+\n 2004-01-22  Graydon Hoare  <graydon@redhat.com>\n \t\n \t* gnu/java/awt/peer/gtk/GdkClasspathFontPeer.java: "}, {"sha": "4d808e366bd9790be0005c5ecbf1c01feedb62f8", "filename": "libjava/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkWindowPeer.c", "status": "modified", "additions": 14, "deletions": 15, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9deab0b79fe10afd8cd889414b87e594cef9c50b/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkWindowPeer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9deab0b79fe10afd8cd889414b87e594cef9c50b/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkWindowPeer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkWindowPeer.c?ref=9deab0b79fe10afd8cd889414b87e594cef9c50b", "patch": "@@ -190,23 +190,16 @@ Java_gnu_java_awt_peer_gtk_GtkWindowPeer_connectJObject\n \n   children = gtk_container_get_children(GTK_CONTAINER(ptr));\n   vbox = children->data;\n+  g_assert (GTK_IS_VBOX(vbox));\n \n-  if(!GTK_IS_VBOX(vbox))\n-    {\n-      printf(\"*** this is not a vbox\\n\");\n-    }\n   children = gtk_container_get_children(GTK_CONTAINER(vbox));\n   do\n   {\n     layout = children->data;\n     children = children->next;\n   }\n   while (!GTK_IS_LAYOUT (layout) && children != NULL);\n-\n-  if(!GTK_IS_LAYOUT(layout))\n-    {\n-      printf(\"*** widget is not a layout ***\");\n-    }\n+  g_assert (GTK_IS_LAYOUT(layout));\n \n   gtk_widget_realize (layout);\n \n@@ -216,9 +209,6 @@ Java_gnu_java_awt_peer_gtk_GtkWindowPeer_connectJObject\n \n   connect_awt_hook (env, obj, 1, GTK_WIDGET (ptr)->window);\n \n-  g_signal_connect (G_OBJECT (ptr), \"property-notify-event\",\n-\t\t    G_CALLBACK (window_property_changed_cb), obj);\n-\n   gdk_threads_leave ();\n }\n \n@@ -239,10 +229,16 @@ Java_gnu_java_awt_peer_gtk_GtkWindowPeer_connectSignals\n   /* Receive events from the GtkLayout too */\n   children = gtk_container_get_children(GTK_CONTAINER(ptr));\n   vbox = children->data;  \n-  g_assert(GTK_IS_VBOX(vbox));\n+  g_assert (GTK_IS_VBOX (vbox));\n+\n   children = gtk_container_get_children(GTK_CONTAINER(vbox));\n-  layout = children->data;  \n-  g_assert(GTK_IS_LAYOUT(layout));\n+  do\n+  {\n+    layout = children->data;\n+    children = children->next;\n+  }\n+  while (!GTK_IS_LAYOUT (layout) && children != NULL);\n+  g_assert (GTK_IS_LAYOUT (layout));\n \n   g_signal_connect (GTK_OBJECT (layout), \"event\", \n \t\t    G_CALLBACK (pre_event_handler), *gref);\n@@ -266,6 +262,9 @@ Java_gnu_java_awt_peer_gtk_GtkWindowPeer_connectSignals\n   g_signal_connect (G_OBJECT (ptr), \"window-state-event\",\n \t\t    G_CALLBACK (window_window_state_cb), *gref);\n \n+  g_signal_connect (G_OBJECT (ptr), \"property-notify-event\",\n+\t\t    G_CALLBACK (window_property_changed_cb), *gref);\n+\n   gdk_threads_leave ();\n \n   /* Connect the superclass signals.  */"}]}