{"sha": "d2ae19d976a03dd7098093bd7b4bebfaa22e8589", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDJhZTE5ZDk3NmEwM2RkNzA5ODA5M2JkN2I0YmViZmFhMjJlODU4OQ==", "commit": {"author": {"name": "Robert Mason", "email": "rbmj@verizon.net", "date": "2013-03-20T22:01:25Z"}, "committer": {"name": "Maxim Kuvyrkov", "email": "mkuvyrkov@gcc.gnu.org", "date": "2013-03-20T22:01:25Z"}, "message": "2013-03-20  Robert Mason  <rbmj@verizon.net>\n\n\t* config/vxlib-tls.c (__gthread_get_tsd_data,)\n\t(__gthread_set_tsd_data, __gthread_enter_tsd_dtor_context,)\n\t(__gthread_leave_tsd_dtor_context): Add prototypes.\n\t(tls_delete_hook): Update.\n\nFrom-SVN: r196842", "tree": {"sha": "a2cc1e51d7fe7076595cb60a1f2ed17cb997dd14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a2cc1e51d7fe7076595cb60a1f2ed17cb997dd14"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d2ae19d976a03dd7098093bd7b4bebfaa22e8589", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2ae19d976a03dd7098093bd7b4bebfaa22e8589", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2ae19d976a03dd7098093bd7b4bebfaa22e8589", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2ae19d976a03dd7098093bd7b4bebfaa22e8589/comments", "author": {"login": "rbmj", "id": 359868, "node_id": "MDQ6VXNlcjM1OTg2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/359868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbmj", "html_url": "https://github.com/rbmj", "followers_url": "https://api.github.com/users/rbmj/followers", "following_url": "https://api.github.com/users/rbmj/following{/other_user}", "gists_url": "https://api.github.com/users/rbmj/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbmj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbmj/subscriptions", "organizations_url": "https://api.github.com/users/rbmj/orgs", "repos_url": "https://api.github.com/users/rbmj/repos", "events_url": "https://api.github.com/users/rbmj/events{/privacy}", "received_events_url": "https://api.github.com/users/rbmj/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "813e0036174c9f5039f522a5e77269066b359aca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/813e0036174c9f5039f522a5e77269066b359aca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/813e0036174c9f5039f522a5e77269066b359aca"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "e0556b450120c55f34ef8712ba93335364cc3622", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2ae19d976a03dd7098093bd7b4bebfaa22e8589/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2ae19d976a03dd7098093bd7b4bebfaa22e8589/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=d2ae19d976a03dd7098093bd7b4bebfaa22e8589", "patch": "@@ -1,3 +1,10 @@\n+2013-03-20  Robert Mason  <rbmj@verizon.net>\n+\n+\t* config/vxlib-tls.c (__gthread_get_tsd_data,)\n+\t(__gthread_set_tsd_data, __gthread_enter_tsd_dtor_context,)\n+\t(__gthread_leave_tsd_dtor_context): Add prototypes.\n+\t(tls_delete_hook): Update.\n+\n 2013-03-20  Catherine Moore  <clm@codesourcery.com>\n \t    Joseph Myers  <joseph@codesourcery.com>\n \t    Chao-ying Fu  <fu@mips.com>"}, {"sha": "5c696034b37d5dbf74a05f484e7c41b3c7ef78c4", "filename": "libgcc/config/vxlib-tls.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2ae19d976a03dd7098093bd7b4bebfaa22e8589/libgcc%2Fconfig%2Fvxlib-tls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2ae19d976a03dd7098093bd7b4bebfaa22e8589/libgcc%2Fconfig%2Fvxlib-tls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fvxlib-tls.c?ref=d2ae19d976a03dd7098093bd7b4bebfaa22e8589", "patch": "@@ -102,6 +102,14 @@ extern void __gthread_set_tls_data (void *data);\n extern void __gthread_enter_tls_dtor_context (void);\n extern void __gthread_leave_tls_dtor_context (void);\n \n+#ifndef __RTP__\n+\n+extern void *__gthread_get_tsd_data (WIND_TCB *tcb);\n+extern void __gthread_set_tsd_data (WIND_TCB *tcb, void *data);\n+extern void __gthread_enter_tsd_dtor_context (WIND_TCB *tcb);\n+extern void __gthread_leave_tsd_dtor_context (WIND_TCB *tcb);\n+\n+#endif /* __RTP__ */\n \n /* This is a global structure which records all of the active keys.\n \n@@ -185,7 +193,7 @@ tls_delete_hook (void *tcb ATTRIBUTE_UNUSED)\n #ifdef __RTP__\n       __gthread_leave_tls_dtor_context ();\n #else\n-      __gthread_leave_tsd_dtor_context ();\n+      __gthread_leave_tsd_dtor_context (tcb);\n #endif\n \n #ifdef __RTP__"}]}