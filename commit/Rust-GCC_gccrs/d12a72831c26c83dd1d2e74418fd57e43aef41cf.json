{"sha": "d12a72831c26c83dd1d2e74418fd57e43aef41cf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDEyYTcyODMxYzI2YzgzZGQxZDJlNzQ0MThmZDU3ZTQzYWVmNDFjZg==", "commit": {"author": {"name": "Kriang Lerdsuwanakij", "email": "lerdsuwa@users.sourceforge.net", "date": "2003-05-01T11:36:19Z"}, "committer": {"name": "Kriang Lerdsuwanakij", "email": "lerdsuwa@gcc.gnu.org", "date": "2003-05-01T11:36:19Z"}, "message": "re PR c++/8772 (misleading diagnostic for template template parameter)\n\n\tPR c++/8772\n\t* pt.c (convert_template_argument): Correct diagnostic.\n\n\t* g++.dg/template/ttp5.C: New test.\n\nFrom-SVN: r66324", "tree": {"sha": "306af17fb4e077c76fe21279589b607420f47eea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/306af17fb4e077c76fe21279589b607420f47eea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d12a72831c26c83dd1d2e74418fd57e43aef41cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d12a72831c26c83dd1d2e74418fd57e43aef41cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d12a72831c26c83dd1d2e74418fd57e43aef41cf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d12a72831c26c83dd1d2e74418fd57e43aef41cf/comments", "author": null, "committer": null, "parents": [{"sha": "093e61a6d1b4f428d26e85cdb8a005936830d95b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/093e61a6d1b4f428d26e85cdb8a005936830d95b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/093e61a6d1b4f428d26e85cdb8a005936830d95b"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "c68ca29b2766fb64087eefad95ad119e88a5549d", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d12a72831c26c83dd1d2e74418fd57e43aef41cf/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d12a72831c26c83dd1d2e74418fd57e43aef41cf/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=d12a72831c26c83dd1d2e74418fd57e43aef41cf", "patch": "@@ -1,3 +1,8 @@\n+2003-05-01  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n+\n+\tPR c++/8772\n+\t* pt.c (convert_template_argument): Correct diagnostic.\n+\n 2003-04-30  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n \n \tPR c++/9432, c++/9528"}, {"sha": "73ada265efaf92a2db15e35b009cb7bbddf36cbc", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d12a72831c26c83dd1d2e74418fd57e43aef41cf/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d12a72831c26c83dd1d2e74418fd57e43aef41cf/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=d12a72831c26c83dd1d2e74418fd57e43aef41cf", "patch": "@@ -3579,6 +3579,8 @@ convert_template_argument (parm, arg, args, complain, i, in_decl)\n \t\terror (\"  expected a constant of type `%T', got `%T'\",\n \t\t\t  TREE_TYPE (parm),\n \t\t\t  (is_tmpl_type ? DECL_NAME (arg) : arg));\n+\t      else if (requires_tmpl_type)\n+\t\terror (\"  expected a class template, got `%E'\", arg);\n \t      else\n \t\terror (\"  expected a type, got `%E'\", arg);\n \t    }"}, {"sha": "6dcbe62d272c3674b77657b38ecc8a0cca41e61c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d12a72831c26c83dd1d2e74418fd57e43aef41cf/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d12a72831c26c83dd1d2e74418fd57e43aef41cf/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d12a72831c26c83dd1d2e74418fd57e43aef41cf", "patch": "@@ -1,3 +1,8 @@\n+2003-05-01  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n+\n+\tPR c++/8772\n+\t* g++.dg/template/ttp5.C: New test.\n+\n 2003-04-30  Mark Mitchell  <mark@codesourcery.com>\n \n \t* lib/g++-dg.exp (g++-dg-test): Add \"repo\" option."}, {"sha": "d26b8164eed8b62a37428941e7c63bc8dc8b4eaf", "filename": "gcc/testsuite/g++.dg/template/ttp5.C", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d12a72831c26c83dd1d2e74418fd57e43aef41cf/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fttp5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d12a72831c26c83dd1d2e74418fd57e43aef41cf/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fttp5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fttp5.C?ref=d12a72831c26c83dd1d2e74418fd57e43aef41cf", "patch": "@@ -0,0 +1,20 @@\n+// { dg-do compile }\n+\n+// Origin: sneechy@hotmail.com\n+\n+// PR c++/8772: Incorrect diagnostics for template template parameter\n+// mismatch\n+\n+template <int> struct A {\n+  template <int> struct B {\n+    enum { v = 1 };\n+  };\n+};\n+\n+template <template <int> class F> struct C {\n+  enum { v = F<1>::v || 2 }; \n+};\n+\n+template <int n> struct D {\n+  enum { v = C<A<n>::B>::v }; // { dg-error \"mismatch|class template|not a member\" }\n+};"}]}