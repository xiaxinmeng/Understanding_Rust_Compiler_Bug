{"sha": "71e234a5c94ddaef4070b3a74cf6d867dfe1a24b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzFlMjM0YTVjOTRkZGFlZjQwNzBiM2E3NGNmNmQ4NjdkZmUxYTI0Yg==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2020-11-18T18:40:33Z"}, "committer": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2020-11-18T18:40:33Z"}, "message": "testsuite: Adjust bb-slp-pr68892.c for AArch64\n\nAArch64 passes the \"not profitable\" test because it treats vec_construct\nas having a high-enough cost.  This means that we can try other vector\nmodes, which in turn causes \"BB vectorization with gaps at the end of\na load is not supported\" to be printed more than once.  The number of\ntimes that we print the message doesn't seem important, so the patch\nconverts it to a plain scan-tree-dump.\n\ngcc/testsuite/\n\t* gcc.dg/vect/bb-slp-pr68892.c: Don't XFAIL the profitability\n\ttest for aarch64*-*-*.  Allow the \"BB vectorization with gaps\"\n\tmessage to be printed more than once.", "tree": {"sha": "11fd7dcd6d68da1cf94d3df7bf1731d4a8a195e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/11fd7dcd6d68da1cf94d3df7bf1731d4a8a195e4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/71e234a5c94ddaef4070b3a74cf6d867dfe1a24b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71e234a5c94ddaef4070b3a74cf6d867dfe1a24b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71e234a5c94ddaef4070b3a74cf6d867dfe1a24b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71e234a5c94ddaef4070b3a74cf6d867dfe1a24b/comments", "author": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ee9dd1c3022aa01ed3733cf58ed1f490872fa214", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee9dd1c3022aa01ed3733cf58ed1f490872fa214", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee9dd1c3022aa01ed3733cf58ed1f490872fa214"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "e9909cf0dfa99e0374a2d1879def0656d8e63f6f", "filename": "gcc/testsuite/gcc.dg/vect/bb-slp-pr68892.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71e234a5c94ddaef4070b3a74cf6d867dfe1a24b/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fbb-slp-pr68892.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71e234a5c94ddaef4070b3a74cf6d867dfe1a24b/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fbb-slp-pr68892.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fbb-slp-pr68892.c?ref=71e234a5c94ddaef4070b3a74cf6d867dfe1a24b", "patch": "@@ -15,6 +15,6 @@ void foo(void)\n \n /* ???  Due to the gaps we fall back to scalar loads which makes the\n    vectorization profitable.  */\n-/* { dg-final { scan-tree-dump \"not profitable\" \"slp2\" { xfail *-*-* } } } */\n-/* { dg-final { scan-tree-dump-times \"BB vectorization with gaps at the end of a load is not supported\" 1 \"slp2\" } } */\n-/* { dg-final { scan-tree-dump-times \"Basic block will be vectorized\" 1 \"slp2\" } } */\n+/* { dg-final { scan-tree-dump \"not profitable\" \"slp2\" { xfail { ! aarch64*-*-* } } } } */\n+/* { dg-final { scan-tree-dump \"BB vectorization with gaps at the end of a load is not supported\" \"slp2\" } } */\n+/* { dg-final { scan-tree-dump-times \"Basic block will be vectorized\" 1 \"slp2\" { xfail aarch64*-*-* } } } */"}]}