{"sha": "d27653b8a3ac605f2b034e0ddda40e5a1eaceb0c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDI3NjUzYjhhM2FjNjA1ZjJiMDM0ZTBkZGRhNDBlNWExZWFjZWIwYw==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2008-08-04T12:05:41Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2008-08-04T12:05:41Z"}, "message": "postypes.h: Reinstate inclusion of <stdint.h>; also define the __STDC_* macros.\n\n2008-08-04  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* include/bits/postypes.h: Reinstate inclusion of <stdint.h>;\n\talso define the __STDC_* macros.\n\t(streamoff): Adjust.\n\n\t* include/tr1_impl/cstdint: Check that the __STDC_* macros are\n\tnot defined before defining.\n\nFrom-SVN: r138608", "tree": {"sha": "cfa3bed915b4c68e64748c2e9161fc876df70878", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cfa3bed915b4c68e64748c2e9161fc876df70878"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d27653b8a3ac605f2b034e0ddda40e5a1eaceb0c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d27653b8a3ac605f2b034e0ddda40e5a1eaceb0c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d27653b8a3ac605f2b034e0ddda40e5a1eaceb0c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d27653b8a3ac605f2b034e0ddda40e5a1eaceb0c/comments", "author": null, "committer": null, "parents": [{"sha": "382dbcb228d2dcd9c663a46f063266f1698a7061", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/382dbcb228d2dcd9c663a46f063266f1698a7061", "html_url": "https://github.com/Rust-GCC/gccrs/commit/382dbcb228d2dcd9c663a46f063266f1698a7061"}], "stats": {"total": 40, "additions": 31, "deletions": 9}, "files": [{"sha": "9e8a6e6700f5f51e9b0ef1ddd1c1400c0bdb3e89", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d27653b8a3ac605f2b034e0ddda40e5a1eaceb0c/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d27653b8a3ac605f2b034e0ddda40e5a1eaceb0c/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=d27653b8a3ac605f2b034e0ddda40e5a1eaceb0c", "patch": "@@ -1,3 +1,12 @@\n+2008-08-04  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* include/bits/postypes.h: Reinstate inclusion of <stdint.h>;\n+\talso define the __STDC_* macros.\n+\t(streamoff): Adjust.\n+\n+\t* include/tr1_impl/cstdint: Check that the __STDC_* macros are\n+\tnot defined before defining.\n+\n 2008-08-01  Paolo Bonzini  <bonzini@gnu.org>\n \t    Chris Fairles  <chris.fairles@gmail.com>\n "}, {"sha": "cdcafe2051f9c1c9404adf6317babde240c2a7d9", "filename": "libstdc++-v3/include/bits/postypes.h", "status": "modified", "additions": 14, "deletions": 5, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d27653b8a3ac605f2b034e0ddda40e5a1eaceb0c/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fpostypes.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d27653b8a3ac605f2b034e0ddda40e5a1eaceb0c/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fpostypes.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fpostypes.h?ref=d27653b8a3ac605f2b034e0ddda40e5a1eaceb0c", "patch": "@@ -46,6 +46,19 @@\n \n #include <cwchar> // For mbstate_t\n \n+// XXX If <stdint.h> is really needed, make sure to define the macros,\n+// in order not to break <tr1/cstdint> (and <cstdint> in C++0x).\n+// Reconsider all this as soon as possible...\n+#ifdef _GLIBCXX_HAVE_INT64_T\n+#ifndef __STDC_LIMIT_MACROS\n+# define __STDC_LIMIT_MACROS\n+#endif\n+#ifndef __STDC_CONSTANT_MACROS\n+# define __STDC_CONSTANT_MACROS\n+#endif\n+#include <stdint.h> // For int64_t\n+#endif\n+\n _GLIBCXX_BEGIN_NAMESPACE(std)\n \n   // The types streamoff, streampos and wstreampos and the class\n@@ -64,11 +77,7 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n    *  was typedef long.\n   */  \n #ifdef _GLIBCXX_HAVE_INT64_T\n-# if (__CHAR_BIT__ * __SIZEOF_LONG__ == 64)\n-  typedef long          streamoff;\n-# else\n-  typedef long long     streamoff;\n-# endif\n+  typedef int64_t       streamoff;\n #else\n   typedef long long     streamoff;\n #endif"}, {"sha": "93edf7c4fcdff5cf690e772f168380dd2f54d423", "filename": "libstdc++-v3/include/tr1_impl/cstdint", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d27653b8a3ac605f2b034e0ddda40e5a1eaceb0c/libstdc%2B%2B-v3%2Finclude%2Ftr1_impl%2Fcstdint", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d27653b8a3ac605f2b034e0ddda40e5a1eaceb0c/libstdc%2B%2B-v3%2Finclude%2Ftr1_impl%2Fcstdint", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Ftr1_impl%2Fcstdint?ref=d27653b8a3ac605f2b034e0ddda40e5a1eaceb0c", "patch": "@@ -1,6 +1,6 @@\n // TR1 cstdint -*- C++ -*-\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -36,9 +36,13 @@\n \n #if _GLIBCXX_USE_C99_STDINT_TR1\n \n-// For 8.22.1/1 (see C99, Notes 219, 220, 222) \n-#define __STDC_LIMIT_MACROS\n-#define __STDC_CONSTANT_MACROS\n+// For 8.22.1/1 (see C99, Notes 219, 220, 222)\n+#ifndef __STDC_LIMIT_MACROS\n+# define __STDC_LIMIT_MACROS\n+#endif\n+#ifndef __STDC_CONSTANT_MACROS\n+# define __STDC_CONSTANT_MACROS\n+#endif\n #include_next <stdint.h>\n \n namespace std"}]}