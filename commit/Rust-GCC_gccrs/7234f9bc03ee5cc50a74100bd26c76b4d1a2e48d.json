{"sha": "7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzIzNGY5YmMwM2VlNWNjNTBhNzQxMDBiZDI2Yzc2YjRkMWEyZTQ4ZA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-04-21T20:38:43Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-04-21T20:38:43Z"}, "message": "re GNATS libgcj/15 (_REENTRANT should be defined more consistently)\n\n\tFix for PR libgcj/15:\n\t* java/util/natGregorianCalendar.cc (_REENTRANT,\n\t_POSIX_PTHREAD_SEMANTICS): Don't define.\n\t* java/net/natInetAddress.cc (_REENTRANT): Don't define.\n\t* java/lang/natSystem.cc (_REENTRANT, _POSIX_PTHREAD_SEMANTICS):\n\tDon't define.\n\t* java/io/natFile.cc (_REENTRANT, _POSIX_PTHREAD_SEMANTICS): Don't\n\tdefine.\n\t* configure: Rebuilt.\n\t* configure.in: If using POSIX threads, define _REENTRANT if\n\tneeded.  Define _POSIX_PTHREAD_SEMANTICS.  Don't define\n\tGETHOSTBYNAME_R_NEEDS_REENTRANT.\n\nFrom-SVN: r33318", "tree": {"sha": "a1ed085c38b11b323b1828202ff1e0bf3eca52a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a1ed085c38b11b323b1828202ff1e0bf3eca52a1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d/comments", "author": null, "committer": null, "parents": [{"sha": "b2dad0e3727cadca78d4c2cc51596d1ef1bf0946", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2dad0e3727cadca78d4c2cc51596d1ef1bf0946", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2dad0e3727cadca78d4c2cc51596d1ef1bf0946"}], "stats": {"total": 44, "additions": 16, "deletions": 28}, "files": [{"sha": "4a9d930e370ae6b05f00575f41b53ac2e16a933f", "filename": "libjava/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d", "patch": "@@ -1,5 +1,18 @@\n 2000-04-21  Tom Tromey  <tromey@cygnus.com>\n \n+\tFix for PR libgcj/15:\n+\t* java/util/natGregorianCalendar.cc (_REENTRANT,\n+\t_POSIX_PTHREAD_SEMANTICS): Don't define.\n+\t* java/net/natInetAddress.cc (_REENTRANT): Don't define.\n+\t* java/lang/natSystem.cc (_REENTRANT, _POSIX_PTHREAD_SEMANTICS):\n+\tDon't define.\n+\t* java/io/natFile.cc (_REENTRANT, _POSIX_PTHREAD_SEMANTICS): Don't\n+\tdefine.\n+\t* configure: Rebuilt.\n+\t* configure.in: If using POSIX threads, define _REENTRANT if\n+\tneeded.  Define _POSIX_PTHREAD_SEMANTICS.  Don't define\n+\tGETHOSTBYNAME_R_NEEDS_REENTRANT.\n+\n \t* java/io/PipedInputStream.java, java/io/PipedReader.java,\n \tjava/io/PipedOutputStream.java, java/io/PipedWriter.java: New\n \tversion from Classpath."}, {"sha": "2b0da1bebf40ad365b7647b97d1da1d6fe87e4b2", "filename": "libjava/java/io/natFile.cc", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d/libjava%2Fjava%2Fio%2FnatFile.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d/libjava%2Fjava%2Fio%2FnatFile.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fio%2FnatFile.cc?ref=7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d", "patch": "@@ -1,6 +1,6 @@\n // natFile.cc - Native part of File class.\n \n-/* Copyright (C) 1998, 1999  Free Software Foundation\n+/* Copyright (C) 1998, 1999, 2000  Free Software Foundation\n \n    This file is part of libgcj.\n \n@@ -21,10 +21,6 @@ details.  */\n #endif\n #include <stdlib.h>\n #ifdef HAVE_DIRENT_H\n-#define _POSIX_PTHREAD_SEMANTICS\n-#ifndef _REENTRANT\n-#  define _REENTRANT\n-#endif\n #include <dirent.h>\n #endif\n #include <string.h>"}, {"sha": "e376ec2f84c5e8fd054c2b959385cf53acd2305c", "filename": "libjava/java/lang/natSystem.cc", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d/libjava%2Fjava%2Flang%2FnatSystem.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d/libjava%2Fjava%2Flang%2FnatSystem.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatSystem.cc?ref=7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d", "patch": "@@ -10,13 +10,6 @@ details.  */\n \n #include <config.h>\n \n-#ifdef HAVE_GETPWUID_R\n-#define _POSIX_PTHREAD_SEMANTICS\n-#ifndef _REENTRANT\n-#define _REENTRANT\n-#endif\n-#endif\n-\n #include <string.h>\n #include <time.h>\n #include <stdlib.h>"}, {"sha": "930803eb2954bf1f8cd52644e18b7f90a25864b7", "filename": "libjava/java/net/natInetAddress.cc", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d/libjava%2Fjava%2Fnet%2FnatInetAddress.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d/libjava%2Fjava%2Fnet%2FnatInetAddress.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fnet%2FnatInetAddress.cc?ref=7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d", "patch": "@@ -1,6 +1,6 @@\n // natInetAddress.cc\n \n-/* Copyright (C) 1998, 1999  Free Software Foundation\n+/* Copyright (C) 1998, 1999, 2000  Free Software Foundation\n \n    This file is part of libgcj.\n \n@@ -10,10 +10,6 @@ details.  */\n \n #include <config.h>\n \n-#if GETHOSTBYNAME_R_NEEDS_REENTRANT && !defined(_REENTRANT)\n-# define _REENTRANT 1\n-#endif\n-\n #ifdef USE_WINSOCK\n \n #include <windows.h>"}, {"sha": "f412410518c8576da46a0b28816d0c14d92379b2", "filename": "libjava/java/util/natGregorianCalendar.cc", "status": "modified", "additions": 1, "deletions": 11, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d/libjava%2Fjava%2Futil%2FnatGregorianCalendar.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d/libjava%2Fjava%2Futil%2FnatGregorianCalendar.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2FnatGregorianCalendar.cc?ref=7234f9bc03ee5cc50a74100bd26c76b4d1a2e48d", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 1998, 1999  Free Software Foundation\n+/* Copyright (C) 1998, 1999, 2000  Free Software Foundation\n \n    This file is part of libgcj.\n \n@@ -8,16 +8,6 @@ details.  */\n \n #include <config.h>\n \n-// We want to make sure to pick up the POSIX `_r' functions.  Some\n-// systems, such as Solaris 2.6, require this define in order to\n-// declare the functions in the appropriate header.\n-#if defined (HAVE_GMTIME_R) || defined (HAVE_LOCALTIME_R)\n-#  define _POSIX_PTHREAD_SEMANTICS\n-#  ifndef _REENTRANT\n-#    define _REENTRANT\n-#  endif /* _REENTRANT */\n-#endif\n-\n #ifdef ECOS\n #include <string.h>\n #endif"}]}